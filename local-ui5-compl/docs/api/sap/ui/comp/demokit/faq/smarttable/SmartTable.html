<div><details>
<summary><b>1. How can I enable personalization for custom columns, and how do they differ from the regular ones, especially when used with personalization settings or the spreadsheet export?</b></summary>

<p>You can specify custom data for the personalization of the columns in your table as shown in the examples.</p>
<p>First example for a normal aggregation:</p>
<pre class="codeblock prettyprint"><code>&lt;table:Column id="Ledger" minScreenWidth="Tablet" demandPopin="true"&gt;
    &lt;table:customData&gt;
        &lt;core:CustomData key="p13nData"
            value='\{"columnKey": "Ledger", "leadingProperty":"Ledger",
            "additionalProperty":"LedgerName", "sortProperty": "Ledger",
            "filterProperty": "Ledger", "type":"numeric"}' /&gt;
    &lt;/table:customData&gt;
    &lt;Label text="Ledger" /&gt;
    &lt;table:template&gt;
        &lt;Text text="{Ledger}" /&gt;
    &lt;/table:template&gt;
&lt;/table:Column&gt;
</code></pre>
<p>To use the SAPUI5 shortcut notation, add the following namespace part in the XML view:
<code>xmlns:customData="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1"</code></p>
<p>Second example for use of the shortcut notation:</p>
<pre class="codeblock prettyprint"><code>&lt;table:Column id="CompanyCode" minScreenWidth="Tablet" demandPopin="true"
    customData:p13nData='\{"columnKey": "CompanyCode", "leadingProperty":"CompanyCode", "additionalProperty":"CompanyName","sortProperty": "CompanyCode", "filterProperty": "CompanyCode", "type":"numeric", "maxLength":"4"}'&gt;
    &lt;Label text="Company Code" /&gt;
    &lt;table:template&gt;
        &lt;Text text="{CompanyCode}" /&gt;
    &lt;/table:template&gt;
&lt;/table:Column&gt;
</code></pre>
<p>In the <code>p13nData</code> object you can specify the following properties:</p>
<ul>
<li><code>columnKey</code>:
A unique key used to save, retrieve, or apply personalization for a column.</li>
<li><code>leadingProperty</code>:
Retrieves data for the OData property specified here from the backend system when the column is made visible.
OData model property name must be used.</li>
<li><code>additionalProperty</code>:
Property has to be requested if a column is visible.
OData model property name must be used.
Multiple property names can be specified here as comma-separated values (CSV).</li>
<li><code>sortProperty</code>:
Sorts the table based on the column specified.
OData model property name must be used.
This property is similar to <code>sortProperty</code> of <code>sap.ui.table.Column</code> of the grid table and must only be used if the latter does not support this feature.</li>
<li><code>filterProperty</code>:
Filters the table with the condition that has been defined.
OData model property name must be used.
This property is similar to <code>filterProperty</code> of <code>sap.ui.table.Column</code> of the grid table and must only be used if the latter does not support this feature.</li>
<li><code>isGroupable</code>:
Shows a field in the <em>Group</em> panel of the <em>View Settings</em> dialog automatically; otherwise, a field might become visible only once the table (rows) are bound.
This property is only required for the type <code>AnalyticalTable</code>.<code>SmartTable</code> automatically sets this property to <code>true</code> if a field is sortable, filterable, and a dimension.</li>
<li><code>isTimezone</code>:
Defines whether a field represents an IANA time zone string. The time zones are displayed in the locale-specific translation.</li>
<li><code>type</code>:
Determines the type of a control; its value can be <code>date</code>, <code>time</code>, <code>boolean</code>, <code>numeric</code>, <code>stringdate</code>, <code>string</code>, or <code>undefined</code>. The control will be adapted according to the type.
<code>stringdate</code> is used to export fields with the <code>IsCalendarDate</code> annotation.</li>
<li><code>maxLength</code>:
Numeric value to restrict number of entries in input fields</li>
<li><code>precision</code>:
Numeric value for precision</li>
<li><code>scale</code>:
Numeric value for scale</li>
<li><code>nullable</code>:
Defines whether a field can have no value (and is then relevant for filtering with the <em>Empty</em> value). Consumers of the control can use the string value <code>false</code> to indicate that the field is not nullable. The default is <code>nullable</code>.</li>
<li><code>timezone</code>:
References a property with a dynamic time zone (line-item-specific). If not referenced,  it will use the IANA time zone returned by <code>sap.ui.core.Configuration</code>. For more information, see [API Reference] (api/sap.ui.core.Configuration%23methods/getTimezone).</li>
<li><code>ignorePaste</code>:
Ignores the column when pasting data in the SmartTable. Possible values are <code>true</code> and <code>false</code>.</li>
</ul>
<p><strong>Note</strong>
Some properties that also exist in a table, for example, in <code>sortProperty</code>, will take precedence if specified in both places.</p>
<p>The following additional properties are required in <code>p13nData</code> for proper formatting of custom columns for an SAPUI5-client-side export to the spreadsheet:</p>
<p><em><code>P13n</code> Properties for Custom Columns</em></p>
<table>
    <tbody><tr>
        <th>Property</th>
        <th>Explanation</th>
    </tr>
    <tr>
        <td><code>unit</code></td>
        <td>Name of the unit property to be used for unit of measure and currency formatting</td>
    </tr>
    <tr>
        <td><code>isCurrency</code></td>
        <td>If the column is of type <code>currency</code>, the amount with the currency is shown in the exported spreadsheet.</td>
    </tr>
    <tr>
        <td><code>align</code></td>
        <td>Configures the alignment of the column, for which you can use the same value as for the <code>hAlignproperty</code> of the column.</td>
    </tr>
    <tr>
        <td><code>edmType</code></td>
        <td>Actual <code>Edm.Type</code> of the OData property, which might be needed for proper formatting of columns in the spreadsheet. If <code>Edm.DateTime</code> or <code>Edm.DateTimeOffset</code> is affected, the corresponding <code>timezone</code> property must be assigned via <code>additionalProperty</code></td>
    </tr>
    <tr>
        <td><code>description</code></td>
        <td>Field that points to the description (<code>UI.Text</code> annotation) of this column, or, if custom-formatted columns are used, you can use the description that is used in the <code>formatter</code> function.</td>
    </tr>
    <tr>
        <td><code>displayBehaviour</code></td>
        <td>Various combinations of the description that are displayed on the UI in the following way:
        <ul>
            <li><code>descriptionOnly</code>: Shows a description only</li>
            <li><code>descriptionAndId</code>: Shows the description followed by the ID</li>
            <li><code>idAndDescription</code>: Shows the ID followed by the description</li>
            <li><code>idOnly</code>: Shows the ID only</li>
        </ul>
        </td>
    </tr>
    <tr>
        <td><code>width</code></td>
        <td>Width of the column, for which you must use the same value as for the column itself</td>
    </tr>
    <tr>
        <td><code>isDigitSequence</code></td>
        <td>Can be used for <code>Edm.String</code> columns that represent a numeric field with leading zeros. If set to <code>true</code>, the leading zeros are removed from this string field as the <code>number</code> format will be used in the spreadsheet.</td>
    </tr>
    <tr>
        <td><code>additionalSortProperty</code></td>
        <td>Can be used to enable sorting for semantically connected fields. The sortable properties must also be added to the <code>additionalProperty</code> custom data. Multiple property names can be specified as comma-separated values (CSV).</td>
    </tr>
</tbody></table>
</details><details>
<summary><b>2. Why do I not see any data for my manually added column in the XML view? And why do I get an error <i>Select at least one column to perform the search</i> even though I have added several columns manually to <code>sap.m.Table</code> inside the control?</b></summary>

<p>You need to specify custom data with at least one <code>leadingProperty</code> for the table columns without a <code>leadingProperty</code> available in the control itself so the <code>SmartTable</code> control can fetch the data correctly.</p>
<pre class="codeblock prettyprint"><code>&lt;Column&gt;
    &lt;customData&gt;
        &lt;core:CustomData key="p13nData" value='\{"columnKey":"Id","leadingProperty": "Id","sortProperty": "Id","filterProperty": "Id"}'/&gt;
    &lt;/customData&gt;
    &lt;Text text="Sales Order" /&gt;
&lt;/Column&gt;
</code></pre>
<p>Without this, the <code>SmartTable</code> control cannot recognize the column.</p>
</details><details>
<summary><b>3. How can I define columns with my own style, for example, using the formatting or the controls I require, in a responsive <code>SmartTable</code> control (<code>tableType="ResponsiveTable"</code>)?</b></summary>

<p>For <code>sap.m.Table</code>, the responsive table, you need to provide a corresponding <code>ColumnListItem</code> in the <code>items</code> aggregation in addition to the columns, as you would when using this SAPUI5 table on its own.</p>
<pre class="codeblock prettyprint"><code>&lt;smartTable:SmartTable entitySet="Items"..&gt;
    &lt;Table&gt;
        &lt;!-- Columns must have unique IDs if table personalization service is used --&gt;
        &lt;columns&gt;
            &lt;Column id="Name" width="auto" minScreenWidth="Tablet" visible="false"
                customData:p13nData='\{"leadingProperty":"Name", "columnKey":"Name", "sortProperty":"Name", "type":"numeric"\}'&gt;
                &lt;header&gt;
                    &lt;Label text="{/#Item/Name/@sap:label}"/&gt;
                &lt;/header&gt;
            &lt;/Column&gt;
        &lt;/columns&gt;
        &lt;ColumnListItem id="columnListItem" vAlign="Middle" type="Navigation" press="onItemPressed"&gt;
            &lt;cells&gt;
                &lt;Text text="{path:'Name', formatter:'my.own.formatter.functionName'}" maxLines="2"... /&gt;
            &lt;/cells&gt;
        &lt;/ColumnListItem&gt;
    &lt;/Table&gt;
&lt;/smartTable:SmartTable&gt;
</code></pre>
<p>The <code>sap.m.Table</code> control uses the <code>columns</code> aggregation for the header and the <code>items</code> aggregation containing <code>ColumnListItem</code> with cells for the template control that is cloned for each row in the table.</p>
<p><strong>Note</strong>
For any supported SAPUI5 table, you can add custom columns in the XML view along with the required <code>customData</code> for the column.</p>
</details><details>
<summary><b>4. How do I use the <code>SmartField</code> control in combination with the <code>SmartTable</code> control? And how can I make use of metadata and field controls to manage the state of editable fields in my table?</b></summary>

<p>For editing scenarios with back-end metadata and field controls, it is recommended to use the <code>SmartField</code> control along with the <code>SmartTable</code> control. You can have <code>SmartTable</code> automatically create <code>SmartField</code> controls using the following code:</p>
<p><code>&lt;smartTable:SmartTable id="ItemsST" entitySet="Items" customData:useSmartField="true"...&gt;</code></p>
<p>To make this work, the <code>customData</code> namespace has to be defined correctly in the XML view to enable the SAPUI5 shortcut notation for custom data aggregations:</p>
<p><code>xmlns:customData="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1"</code></p>
</details><details>
<summary><b>5. How do I format the group headers shown in a responsive <code>SmartTable</code> control (<code>tableType="ResponsiveTable"</code>)? And why is a technical key shown instead of a description when grouping is used in that table?</b></summary>

<p>Grouping in a table of type <code>ResponsiveTable</code> is done by sorting table entries. You can define your own formatting for the group title in this table by specifying a group function for the first sorter.
For more information on how this can be done, see the <a href="sample/sap.m.sample.TableViewSettingsDialog/code/SettingsDialogController.controller.js">Code Sample</a>.</p>
<p>When using the <code>SmartTable</code> control, you can use the <code>beforeRebindTable</code> event and get the available sorters using the <code>bindingParams</code> (event parameter). Check if the first sorter there has a group.</p>
<pre class="codeblock prettyprint"><code>onBeforeRebindTable: function(oEvent) {
    var mBindingParams = oEvent.getParameter("bindingParams");
    var oSorter = mBindingParams.sorter[0];
    //Check if sorter is for Grouping
    if (oSorter.vGroup) {
</code></pre>
<p>There are two options. The first option looks like this:</p>
<pre class="codeblock prettyprint"><code>//Replace the Group function
    oSorter.fnGroup = this.mGroupFunctions[oSorter.sPath];
</code></pre>
<p>You can also do the following:</p>
<pre class="codeblock prettyprint"><code>//Replace the Grouping sorter itself
    mBindingParams.sorter[0] = new Sorter(oSorter.sPath, bDescending, this.mGroupFunctions[oSorter.sPath]);
</code></pre>
<p>For more information on how to implement <code>this.mGroupFunction</code>, see the <a href="sample/sap.m.sample.TableViewSettingsDialog/code/SettingsDialogController.controller.js">Code Sample</a>.</p>
<p>You can replace group functions for the sorter or the sorter itself with the ones you have defined (with a formatter for the grouping based on the property) if the sorter is used for grouping.</p>
</details><details>
<summary><b>6. How do I create and pass a search query <code>($search="foo")</code> when using the <code>SmartTable</code> control?</b></summary>

<p>Use the <code>beforeRebindTable</code> event and implement this manually.</p>
<pre class="codeblock prettyprint"><code>onBeforeRebindTable: function(oEvent) {
    var mBindingParams = oEvent.getParameter( "bindingParams" );
        mBindingParams.parameters[ "custom" ] = {
        search-focus: sBasicSearchFieldName, //  the name of the search field
        search : sBasicSearchText //  the search text itself!
    };
}
</code></pre>
<p>This will then be used internally when creating the table binding.</p>
<p><strong>Note</strong>
In the same way, you can also add any custom URL parameters or use this event to add OData <code>$expand</code> parameters: Instead of <code>"custom"</code>, use <code>"expand"</code> as shown in the example above.</p>
</details><details>
<summary><b>7. How do I get data for custom columns (icons, formatters etc.) that are not part of the columns/binding (<code>select = 'ColA,ColB,foo,bar'</code>) of the <code>SmartTable</code> control?</b></summary>

<p>Use the <code>beforeRebindTable</code> event and implement this manually.</p>
<pre class="codeblock prettyprint"><code>onBeforeRebindTable: function(oEvent) {
    var oBindingParams = oEvent.getParameter("bindingParams");
    if (oBindingParams.parameters.select.search("SomeIconCode1") &lt; 0) {
        oBindingParams.parameters.select += ",SomeIconCode1";
    }
    if (oBindingParams.parameters.select.search("SomeIconCode2") &lt; 0) {
        oBindingParams.parameters.select += ",SomeIconCode2";
    } ...
</code></pre>
<p>This will then be used internally when creating the table binding.</p>
<p><strong>Note</strong>
If only one property is needed for a given column, you can also use <code>additionalProperty</code> in <code>customData</code> as already mentioned instead of the event-based approach as described here.</p>
<p><strong>Note</strong>
For an <code>AnalyticalTable</code> control or <code>AnalyticalBinding</code>, you have to use a dummy column (<code>visible="false"</code>) with the <code>leadingProperty</code> you require and the set attribute <code>inResult="true"</code> instead.</p>
</details><details>
<summary><b>8. I would like to pass my own custom sorters, filters, and binding parameters when binding the table data in the <code>SmartTable</code> control. How do I do this? And how can I have my own binding implementation for the control?</b></summary>

<p>You can modify the array of filters before binding is triggered in the <code>SmartTable</code> control by listening to the <code>beforeRebindTable</code> event.
To enable this, your code in the XML view should look like this:</p>
<pre class="codeblock prettyprint"><code>&lt;smartTable:SmartTable entitySet="LineItemsSet" beforeRebindTable="onBeforeRebindTable"…
</code></pre>
<p>You can now get the list of filters and sorters to be used in table binding using the following:</p>
<pre class="codeblock prettyprint"><code>onBeforeRebindTable: function(oEvent) {
    var mBindingParams = oEvent.getParameter("bindingParams");
    var aFilters = mBindingParams.filters
</code></pre>
<p>With this, you need to set back the value to <code>mBindingParams.filters</code>, and you can pass a new filter array as well.</p>
<p><strong>Note</strong>
In some exceptional cases, you can set <code>mBindingParams.preventTableBind="true"</code> to prevent table binding from taking place (optional) and do the binding at a later point in time. This is shown in the following method:</p>
<pre class="codeblock prettyprint"><code>someMethod: function() {
    //get the smartTable and call the method rebindTable()
    oSmartTable.rebindTable();
}
</code></pre>
<p><strong>Note</strong>
If you would like to trigger the binding manually, use the <code>rebindTable</code> method of the <code>SmartTable</code> control and do not use <code>bindRows</code> in the underlying table.</p>
<p><strong>Note</strong>
For a <strong>custom multi-filter scenario</strong>: If you want to pass multi-filters (filters combined with AND/OR explicitly) in your custom implementation, the SAPUI5 default logic in the core classes combines multiple multi-filters with an OR by default.
If you would like to use AND in combination with the multi-filters returned in the beforeRebindTable event of the <code>SmartTable</code> control (if a filter is set in <code>SmartFilter</code>) and your own <code>MultiFilter</code>, you have to replace the filters in the <code>beforeRebindTable</code> event with an explicit AND <code>MultiFilter</code>. There is currently no way to combine multiple multi-filters in the <code>SmartTable</code> control itself. You as the consumer of the control have to make sure you combine these multi-filters yourself by checking first if any internal multi-filters exist. You also have to ensure that the internal multi-filter is added first in the array of filters in the <code>beforeRebindTable</code> event.</p>
<pre class="codeblock prettyprint"><code>onBeforeRebindTable: function(e) {
    var b = e.getParameter("bindingParams");
    var aDateFilters = [
        new sap.ui.model.Filter("BindingPeriodValidityEndDate",sap.ui.model.FilterOperator.LE,d),
        new sap.ui.model.Filter("BindingPeriodValidityEndDate",sap.ui.model.FilterOperator.GT, null),
        .....
    ];
    var oOwnMultiFilter = new sap.ui.model.Filter(aDateFilters, true);

    //Special handling for multiple multi-filters
    if (b.filters[0] &amp;&amp; b.filters[0].aFilters) {
        var oSmartTableMultiFilter = b.filters[0];
        // if an internal multi-filter exists then combine custom multi-filters and internal multi-filters with an AND
        b.filters[0] = new sap.ui.model.Filter([oSmartTableMultiFilter, oOwnMultiFilter], true);
    } else {
        b.filters.push(oOwnMultiFilter);
    }
}
</code></pre>
</details><details>
<summary><b>9. How do I add custom toolbar buttons to the <code>SmartTable</code> control?</b></summary>

<p>You can do this using the <code>customToolbar</code> aggregation, as shown below:</p>
<pre class="codeblock prettyprint"><code>&lt;smartTable:SmartTable id="ItemsST" entitySet="Items" ...
    &lt;smartTable:customToolbar&gt;
        &lt;OverflowToolbar design="Transparent"&gt;
            &lt;ToolbarSpacer/&gt;
            &lt;Button text="Test"/&gt;
            &lt;Button text="Click me!"/&gt;
        &lt;/OverflowToolbar&gt;
    &lt;/smartTable:customToolbar&gt;
</code></pre>
<p><strong>Note</strong>
We recommend the use of <code>OverflowToolbar</code> instead of <code>Toolbar</code>, as shown above, to make the toolbar responsive.</p>
</details><details>
<summary><b>10. How do I fetch data from <code>navigationProperty</code> (or association entities) using the <code>SmartTable</code> control?</b></summary>

<p><code>SmartTable</code> provides a <code>tableBindingPath</code> property in addition to <code>entitySet</code>, which can be used to specify a navigation property path, for example, <code>SalesOrder(123)/toItems</code>.
For an <code>AnalyticalTable</code> control or <code>AnalyticalBinding</code>, you might have to pass <code>entitySet</code> in <code>bindingParameters</code> using the <code>beforeRebindTable</code> event. This is necessary if the <code>entitySet</code> path does not conform to the one that is checked internally by <code>AnalyticalBinding</code>, for example, in the <code>beforeRebindTable</code> event, as shown here:</p>
<pre class="codeblock prettyprint"><code>var mBindingParams = oEvent.getParameter("bindingParams");
mBindingParams.parameters.entitySet = "NameOfEntitySet";
</code></pre>
</details><details>
<summary><b>11. Why do I not see any columns in my <code>SmartTable</code> control?</b></summary>

<p><code>SmartTable</code> creates the initially visible column based on the <code>LineItem</code> or the <code>PresentationVariant</code> annotation. You can either specify the initial fields there or create it manually in the XML view by adding columns to the underlying table.</p>
<p>For more information, see the <a href="entity/sap.ui.comp.smarttable.SmartTable/sample/sap.ui.comp.sample.smarttable.mtableCustom">Sample</a>.</p>
</details><details>
<summary><b>12. How can I use <code>applyVariant()</code> in combination with the <code>SmartTable</code> control?</b></summary>

<p>The <code>applyVariant()</code> is an interface function for the <code>SmartVariantManagement</code> control that sets the current view for the <code>SmartTable</code> control.</p>
<p>Applications can also create their own application-specific views as the default, which are <strong>not</strong> standard views defined by the <code>SmartTable</code> control. These application views are only called once during the initialization of the <code>SmartTable</code> control.</p>
<p>If an application default view has been defined, then all other views are based on this application default view. Any change made to the <code>SmartTable</code> control and saved as a view is merged with the application default view by the <code>SmartTable</code> control. This data is then stored as a <strong>new</strong> view, a combination of the change made and the application default view.</p>
<p>For example, an application default view might contain two groups that have been defined for the <code>SmartTable</code> control. When a new group is added and saved as a view, the new view will comprise the newly added group and the application default view. Thus, the end result are three groups for the <code>SmartTable</code> control.</p>
<p><strong>Note</strong>
When the user selects <em>Ungroup All</em> in the <em>Group Header Menu</em> on the UI of <code>AnalyticalTable</code> in the <code>SmartTable</code> control, and these changes are then stored as a view, they are saved as a combination of the ungrouping change and the application default view that contains the grouping information. Thus, the end result will be the application default view.</p>
</details><details>
<summary><b>13. Why do I see an incorrect count in the header of my <code>SmartTable</code> control?</b></summary>

<p>If the back end does not support count, if the count support has been disabled in the model, or in case of a tree scenario, you have to set <code>showRowCount="false"</code> in the <code>SmartTable</code> control.</p>
</details><details>
<summary><b>14. Can I use annotations with qualifiers in the <code>SmartTable</code> control? And, in particular, how can I use the <code>LineItem</code> and <code>PresentationVariant</code> annotations with a qualifier within the <code>SmartTable</code> control?</b></summary>

<p>As a general rule, the <code>SmartTable</code> control looks for annotations <strong>without</strong> a qualifier, the primary annotations. However, you can also use the <code>PresentationVariant</code> and <code>LineItem</code> annotations with qualifiers as mentioned below.
We first look for <code>PresentationVariant</code> and try to get the <code>LineItem</code> annotation from there. If this annotation does not exist, we look for the <code>LineItem</code> annotation directly in the entity.</p>
<p>You can set the qualifier that you want to use for the <code>LineItem</code> annotation in the <code>SmartTable</code> control using <code>lineItemQualifier</code> <code>customData</code>:</p>
<pre class="codeblock prettyprint"><code>&lt;SmartTable customData:lineItemQualifier=”Customer360” …&gt;
</code></pre>
<p>If you want to use a specific <code>PresentationVariant</code>, <code>presentationVariantQualifier</code> is also supported, which can be used as shown below:</p>
<pre class="codeblock prettyprint"><code>&lt;SmartTable customData:presentationVariantQualifier =”Customer360” …&gt;
</code></pre>
<p>If <strong>no qualifier</strong> has been defined for the presentation variant, you can use the fallback option and check if there is a <code>LineItem</code> annotation with or without a qualifier, as specified by the application developer.</p>
<p><strong>Note</strong>
<code>customData</code> is the shortcut notation for specifying custom data for the control, provided you have added the following to the XML view: <code>customData="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1"</code>.
For more information about how to use custom data in XML views, see <a href="topic/91f0c3ee6f4d1014b6dd926db0e91070.html">Custom Data - Attaching Data Objects to Controls.</a>.</p>
</details><details>
<summary><b>15. How can I dynamically switch between read-only and editable controls in my table using the <code>editable</code> property?</b></summary>

<p>For the switch you have to enable the <code>SmartToggle</code> feature in the <code>SmartTable</code> controls as follows:</p>
<pre class="codeblock prettyprint"><code>&lt;smartTable:SmartTable id="ItemsST" entitySet="Items" customData:useSmartToggle="true"...&gt;
</code></pre>
<p>In order for this to work, the <code>customData</code> namespace in the XML view must be declared correctly to enable shortcut notation for custom data aggregations: <code>customData="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1"</code>.</p>
<p><strong>Note</strong>
<code>SmartToggle</code> is a feature provided by the <code>SmartTable</code> control that allows you to toggle between display and edit mode for all the relevant controls in the cells of the <code>SmartTable</code> control.</p>
</details><details>
<summary><b>16. I did an export using the <i>Export to Spreadsheet</i> button in the <code>SmartTable</code> control. Why is the data in the spreadsheet different from the data I see on the UI?</b></summary>

<p>The formatting in an SAPUI5 client-side generated spreadsheet can differ slightly from the UI. However, if you notice large differences, the issue might be due to custom columns that do not have sufficient <code>P13ndata</code>, as required for a client-side export.</p>
<p>The following additional properties are required in <code>P13ndata</code> for proper formatting of custom columns for an SAPUI5-client-side export to the spreadsheet:</p>
<p><em><code>P13n</code> Properties for Custom Columns</em></p>
<table>
    <tbody><tr>
        <th>Property</th>
        <th>Explanation</th>
    </tr>
    <tr>
        <td><code>unit</code></td>
        <td>Name of the unit property to be used for unit of measure and currency formatting</td>
    </tr>
    <tr>
        <td><code>isCurrency</code></td>
        <td>If the column is of type <code>currency</code>, the amount with the currency is shown in the exported spreadsheet.</td>
    </tr>
    <tr>
        <td><code>align</code></td>
        <td>Configures the alignment of the column, for which you can use the same value as for the <code>hAlignproperty</code> of the column.</td>
    </tr>
    <tr>
        <td><code>edmType</code></td>
        <td>Actual <code>Edm.Type</code> of the OData property, which might be needed for proper formatting of columns in the spreadsheet.</td>
    </tr>
    <tr>
        <td><code>description</code></td>
        <td>Field that points to the description (<code>UI.Text</code> annotation) of this column, or, if custom-formatted columns are used, you can use the description that is used in the <code>formatter</code> function.</td>
    </tr>
    <tr>
        <td><code>displayBehaviour</code></td>
        <td>Various combinations of the description that are displayed on the UI in the following way:
        <ul>
            <li><code>descriptionOnly</code>: Shows a description only</li>
            <li><code>descriptionAndId</code>: Shows the description followed by the ID</li>
            <li><code>idAndDescription</code>: Shows the ID followed by the description</li>
            <li><code>idOnly</code>: Shows the ID only</li>
        </ul>
        </td>
    </tr>
    <tr>
        <td><code>width</code></td>
        <td>Width of the column, for which you must use the same value as for the column itself</td>
    </tr>
    <tr>
        <td><code>isDigitSequence</code></td>
        <td>Can be used for <code>Edm.String</code> columns that represent a numeric field with leading zeros. If set to <code>true</code>, the leading zeros are removed from this string field as the <code>number</code> format will be used in the spreadsheet.</td>
    </tr>
</tbody></table>

<p>Apart from the configuration, you can use the <code>beforeExport</code> event to change the formatting and configuration of an SAPUI5 client-side export to a spreadsheet as shown in the samples.</p>
<p>For more information, see the <a href="entity/sap.ui.comp.smarttable.SmartTable/sample/sap.ui.comp.sample.smarttable.mtableCustom">Sample for <code>SmartTable</code></a> and the <a href="entity/sap.ui.export.Spreadsheet">Samples for <code>sap.ui.export.Spreadsheet</code></a>.</p>
</details><details>
<summary><b>17. Why is the <code>SmartTable</code> control (of type <code>AnalyticalTable</code>) showing the columns with the <code>Text</code> annotation incorrectly in my app? Why is the <code>SmartTable</code> control not using the <code>TextArrangement</code> annotations as I expected?</b></summary>

<p>The <code>SmartTable</code> control supports the <code>Text</code> and <code>TextArrangement</code> annotations that allow you to show descriptions and ID fields together as annotated by the <code>TextArrangement</code> annotation (or configured using the <code>displayBehaviour</code> custom data). The use of this annotation has some restrictions.
For more information, see the <a href="api/sap.ui.comp.smarttable.SmartTable/annotations/Text">API Reference for the <code>Text</code> annotation</a>.</p>
<p>In addition, <code>AnalyticalBinding</code> ignores the entire <code>$select</code> if the dimensions and measures do not match what has been calculated internally. Using <code>Text</code> or <code>TextArrangement</code> automatically only works if <code>$select</code> contains the correct fields. If you add some dimensions to <code>requestAtLeast</code>, <code>Criticality</code>, or other fields, <code>$select</code> is ignored, and fetching the descriptions and the criticality, for example, does not work.</p>
<p>During automatic dimension selection <code>AnalyticalBinding</code> ignores the specified <code>$select</code> if a text or description column is added to the table content without the corresponding dimension. To work around this binding restriction, the <code>SmartTable</code> control calculates and adds the dimension of the property of the <code>Text</code> annotation to the <code>additionalProperty</code> custom data (used to calculate <code>$select</code>) in the <code>SmartTable</code> control wherever possible.
There are a few other things to keep in mind when using this feature:</p>
<ul>
<li>Multiple dimensions must not point to the same property of the <code>Text</code> annotation (only <strong>one</strong> will be used).</li>
<li>The <code>Text</code> annotation itself is marked as a dimension; the actual dimension field is not automatically selected.</li>
<li>The <code>Text</code> annotation for ignored or hidden dimension fields does not automatically contain the dimension name in <code>additionalProperty</code>, as the metadata analysis for such fields is ignored.</li></ul></details><details>
<summary><b>18. How come the column headers in the <code>SmartTable</code> control of type <code>ResponsiveTable</code> are clickable?</b></summary>

<p><code>SmartTable</code> internally activates actions for the column headers of a responsive table. Users can select a column and sort and filter it using the buttons that are displayed.</p>
<p>Keep in mind that the following applies:</p>
<ul>
<li>The active column headers are only available if <code>useTablePersonalisation="true"</code>.</li>
<li>If a column has already been filtered, clicking the filter button will not show the selected column directly (this is the same as in a grid table, since there is a restriction for <code>p13nFilterPanel</code>).</li>
<li>Pressing the <em>Ctrl</em> key and clicking on a column to add multiple sorters is currently not supported.</li>
</ul>
<p>For more information, see the <a href="entity/sap.ui.comp.smarttable.SmartTable/sample/sap.ui.comp.sample.smarttable.mtable">Sample</a>.</p>
</details><details>
<summary><b>19. How come the <i>Export to Spreadsheet</i> button of the <code>SmartTable</code> control has a menu?</b></summary>

<p>If <code>exportType="UI5Client"</code> for <code>SmartTable</code>, the <em>Export to Spreadsheet</em> button is rendered as <code>sap.m.MenuButton</code> with the menu options <em>Export</em> and <em>Export As</em>. <em>Export As</em> provides a number of export settings that can be configured by the user.</p>
<p>For more information about the spreadsheet export and the options on the export UI, see <a href="topic/2691788a08fc43f7bf269ea7c6336caf.html">Spreadsheet Export</a>.</p>
</details><details>
<summary><b>20. Why does the <code>initialise</code> event of <code>SmartTable</code> not get fired in my scenario?</b></summary>

<p>The <code>SmartTable</code> control fires the <code>initialise</code> event just once after it has completed analyzing the metadata and has initialized its inner state for the first time. Therefore, using <code>attachInitialise</code> does not help. However, the <code>isInitialised</code> method can be used in such scenarios.</p>
<p>You can also use the following code sample to handle scenarios where you need to trigger some function after this control has been initialized. It should work in scenarios where the event has already been fired:</p>
<pre class="codeblock prettyprint"><code>if (oSmartControl.isInitialised()) {
    runSomeCodeAfterInit();
} else {
    oSmartControl.attachInitialise(runSomeCodeAfterInit);
}
</code></pre>
</details><details>
<summary><b>21. How is sorting done in amount fields with multiple currencies if <code>ApplyMultiUnitBehaviorForSortingAndFiltering</code> is set?</b></summary>

<p>The <code>SmartTable</code> control automatically adds the unit, in this case the currency code, as an additional sorter before the amount unless the unit is added as a sorter explicitly. This happens if the <code>ApplyMultiUnitBehaviorForSortingAndFiltering</code> annotation is used. This behavior applies to all columns in the <code>SmartTable</code> control.</p>
<p>For more information about this annotation, see the <a href="api/sap.ui.comp.smarttable.SmartTable/annotations/ApplyMultiUnitBehaviorForSortingAndFiltering">API Reference</a>.</p>
<p>For custom columns, consumers have to provide the required <code>p13nData</code> information (<code>isCurrency</code> and <code>unit</code>).</p>
</details><details>
<summary><b>22. Which key combinations can be used for the <code>SmartTable</code> control for the spreadsheet export and the personalization?</b></summary>

<p>The following key combinations are supported:</p>
<ul>
<li>CTRL + SHIFT + E or ⌘ / Command + SHIFT + E: Opens the <em>Export As</em> dialog for the spreadsheet export</li>
<li>CTRL + , or ⌘ / Command + , : Opens the personalization settings</li></ul></details><details>
<summary><b>23. Why does the first column not appear in the personalization settings when using <code>treeTable</code> as the table type?</b></summary>

<p>The <code>SmartTable</code> control disables the personalization for the first column if <code>tableType</code> is set to <code>sap.ui.comp.smarttable.TableType.TreeTable</code>.
The <code>TreeTable</code> control provides a comprehensive set of features for displaying hierarchical data where a table is displayed as a hierarchical tree. <code>TreeTable</code> is designed to retain this structure also for the first column of the table, which is why <code>SmartTable</code> excludes it from personalization.</p>
</details><details>
<summary><b>24. Why is the unit of measure (UoM) or currency not right aligned with the column header?</b></summary>

<p>The currency and UoM columns in the <code>SmartTable</code> control are built to be aligned at decimal point. Although the overall content is right aligned, the header and cell might not be aligned as this is a generic control that is not built to handle a single currency or UoM (for example, %, h).</p>
<p>The UoM part always uses ~3em to prevent the content from being cut off. That is why there might be a space behind the unit in the cell in contrast to the header, depending on the UoM or currency used.</p>
<p>Also, if either the <em>Product Depth</em> or <em>Product Width</em> column is added to a <code>SmartTable</code> control, the UoM, such as m or cm, might not be aligned, but the aim is to align the values at decimal point and not at header and content level.
The application can use custom columns if an exact alignment of content and header is required.</p>
<p>For more information, see the <a href="entity/sap.ui.comp.smarttable.SmartTable/sample/sap.ui.comp.sample.smarttable.smartTableWithCriticality">Sample</a>.</p>
</details><details>
<summary><b>25. Why is a column suddenly added or removed by the <code>SmartTable</code> control after the <i>Settings</i> dialog has been opened?</b></summary>

<p>When using the <code>SmartTable</code> control with an active <code>useTablePersonalisation</code> property, personalization and persistence for the control are also activated if <code>VariantManagement</code> is available, or if the <code>useVariantManagement</code> property has been set to <code>false</code> (for implicit use of <code>VariantManagement</code>) and the <code>persistencyKey</code> property is used.</p>
<p>If <code>SmartTable</code> uses the personalization feature, the personalization is the hub for managing the visibility of columns. Any dynamic changes made to the visibility of the columns must be avoided.
Dynamic changes of column visibility by using bindings or other factors, such as updating the visibility after an update event, might lead to mismatches with the activated persistence setting of <code>SmartTable</code>.</p>
<p>If the visibility for a column changes after the <em>Settings</em> dialog has been opened, you should check if the property that determines the visibility of the column has been bound, or if there are update-related event handlers that affect the visibility.</p>
</details><details>
<summary><b>26. Where can I find more information about the annotations used?</b></summary>

<p>For more information about the extensions and annotations that have been included in OData4SAP, which is based on OData V2, see <a href="http://www.sap.com/protocols/SAPData">http://www.sap.com/protocols/SAPData</a>.</p>
<p>For more information about CDS annotations, search for <b>CDS Annotations</b> in the documentation for your SAP NetWeaver version on the SAP Help Portal at <a href="https://help.sap.com/viewer/p/SAP_NETWEAVER">https://help.sap.com/viewer/p/SAP_NETWEAVER</a>.</p>
</details><details>
<summary><b>27. How can I enable sorting for an <code>additionalProperty</code> of a column?</b></summary>

<p>Since not every <code>additionalProperty</code> should be sortable by default, you have to specify <code>additionalSortProperty</code> in the <code>p13nData</code> custom data. You can set it to a comma-separated list of property names.</p>
<pre class="codeblock prettyprint"><code>&lt;Column id="Customer"&gt;
    &lt;customData&gt;
        &lt;core:CustomData key="p13nData" value='\{"columnKey": "Customer", "leadingProperty": "Customer", "sortProperty": "Customer", "additionalProperty": "Name", "additionalSortProperty": "Name"}' /&gt;
    &lt;/customData&gt;
    &lt;Text text="Customer" /&gt;
&lt;/Column&gt;
</code></pre>
</details></div>
























































