<html><head></head><body><div id="d4h5-main-container" class="dk-main"><section id="loio9a536627a6a94de084b0605eb164d2c8" class=" section topic"><div class="section-mdeditlink hidden">
				<a class="mdeditlink hidden" href="https://github.com/SAP-docs/sapui5/blob/main/docs/06_SAP_Fiori_Elements/confirmation-popups-9a53662.md">Edit on GitHub</a>
			</div><div class="collapsible-icon sap-icon innerTitle"><h2 class="title ">Confirmation Popups</h2></div><div class="fig"><div class="topictitle1 title"><h2 class="title ">Confirmation Popups</h2></div><div class="shortdesc">You can configure confirmation popups for various use cases in list reports and object pages.</div><section id="section_vsd_ckr_vsb">
                        <h2 class="title ">Confirmation Popup for Critical Actions</h2>
                        <p>You
                                can configure actions as
                                critical, and when such
                                actions are triggered, a confirmation popup is displayed for end users before the action is executed. For more
                                information, see <a href="topic/87130de10c8a44269c605b0322df6b1a" title="You can display a confirmation popover when a user triggers an action." class="sap-doc">Adding Confirmation Popovers for Actions</a>.</p>
                </section><section id="section_yms_cz4_wpb">
                        <h2 class="title ">Confirmation Popup for
                                Activating
                                 a Draft</h2>
                        <p>When
                                end
                                users create or edit an object page in a draft-enabled application and
                                choose
                                to leave the page without saving,
                                the following
                                popup is displayed:</p>
                        <div><div class="fig"><img src="loio8e59d66793984c00b36d81eb3ab7fccb_LowRes.png" usemap="#"></div><span class="collapsible-icon sap-icon figcap title"><h2 class="title ">Create Mode</h2></span></div>
                        <p>
                        </p><div><div class="fig"><img src="loiob43cd41b8e5747a4a02fa36c1f9b4484_LowRes.png" usemap="#"></div><span class="collapsible-icon sap-icon figcap title"><h2 class="title ">Edit Mode</h2></span></div>
                        
                        <div class="note tip  "><div class="collapsible-icon sap-icon"><div class="title"><strong>
					Tip
				</strong></div></div><div class="fig"><p>
                                </p><p>The popup is enabled by default. You can disable it for external navigation by configuring specific settings in the
                                                <code>manifest.json</code> file. For more information, see the version-specific sections in this
                                        topic.</p>
                        <p></p></div></div>
                        
                        
                </section><section id="section_n3z_htm_vsb">
                        <h2 class="title ">Confirmation Popup for Actions that Fail with 412 Warnings</h2>
                        <p>You
                                can configure a confirmation popup for the following actions by sending an HTTP
                                412 response
                                from the back end:</p>
                        <ul class="ul ">
                                <li class="li">
                                        <p>Standard SAP Fiori elements actions, such as
                                                        <span class="ph uicontrol">Save</span>, <span class="ph uicontrol">Activate</span> and
                                                <span class="ph uicontrol">Create</span></p>
                                </li>
                                <li class="li">
                                        <p>Application-specific actions (function import actions in SAP Fiori elements for OData
                            V2)</p>
                                </li>
                        </ul>
                        <p>The flow is as follows:</p>
                        <ul class="ul ">
                                <li class="li">
                                        <p>When an action is triggered, the
                                                application
                                                sends the request with the header <code>Prefer:handling=strict</code>.</p>
                                </li>
                                <li class="li">
                                        <p>Depending on the back-end settings,
                                                 there are
                                                two options:</p>
                                        <ul class="ul ">
                                                <li class="li">
                                                        <p>If the preference is unknown, it's ignored and the action is executed as usual.</p>
                                                </li>
                                                <li class="li">
                                                        <p>If the preference is known,
                                                                you
                                                                can configure the back end to send a 412 message ("Precondition Failed" message).</p>
                                                </li>
                                        </ul>
                                </li>
                                <li class="li">
                                        <p>For SAP Fiori elements, the 412 message indicates
                                                that there are warnings that block the processing of the action, but
                                                end users can
                                                still be trigger the action if they choose to ignore the warnings and continue.</p>
                                </li>
                                <li class="li">
                                        <p>The application
                                                displays a confirmation popup containing the message from the back end.</p>
                                </li>
                                <li class="li">
                                        <p>If end users choose
                                                        <span class="ph uicontrol">Confirm</span> to go ahead with the action, the
                                                application
                                                sends the request again, this time <span class="emphasis">without</span>
                                                <code>Prefer:handling=strict</code> in the header.</p>
                                </li>
                                <li class="li">
                                        <p>The back end executes the action and responds with either a success or a failure message.</p>
                                </li>
                                <li class="li">
                                        <p>If end users choose
                                                        <span class="ph uicontrol">Cancel</span>,
                                                the operation is terminated.</p>
                                </li>
                        </ul>
                        <p>The following image shows an example of such a popup:</p>
                        <div><div class="fig"><img src="loio03381d1300b94b85a4e48fc92baeb114_LowRes.png" usemap="#"></div></div>
                        
                </section><section id="section_glf_hy4_wpb" class="collapsible expanded"><div class="collapsible-icon sap-icon"><h2 class="title collapsible expanded">Additional
                                Features in SAP Fiori Elements for OData V2</h2></div><div class="fig"><section>
                                <h3 class="title ">Turn Off
                                                <span class="ph uicontrol">
                                                Draft
                                                Activation</span>
                                        Confirmation Popup for External Navigation</h3>
                                <p>You
                                        can turn off the
                                        confirmation
                                        popup for draft activation
                                        in
                                        the case of external navigation
                                        by
                                        configuring the
                                        <code>draftDiscardConfirmationSettings</code>
                                        setting in the
                                                <code>manifest.json</code> file as
                                        shown
                                        in the following sample code:</p>
                                <div class="note other samplecode "><div class="collapsible-icon sap-icon"><div class="title"><strong>
					Sample Code
				</strong></div></div><div class="fig"><p>manifest.json</p><section><div class="fig fig-codeblock"><div class="copyButton"><span style="display: none;">Hidden</span></div><div class="codeblock-wrapper"><pre class="codeblock">"sap.ui.generic.app": {
              "_version": "1.3.0",
              "settings": {
                             "draftDiscardConfirmationSettings": {
                                           "enabled": "restricted"
                             }
              }
}
.
.
.</pre></div></div></section><p></p></div></div>
                        </section><section>
                                <h3 class="title ">Handling of 412 Messages</h3>
                                <p>The following additional scenarios are supported:</p>
                                <ul class="ul ">
                                        <li class="li">
                                                <p>Create, update or delete actions in non-draft applications</p>
                                        </li>
                                        <li class="li">
                                                <p>Deletion of an object</p>
                                        </li>
                                </ul>
                                <div class="note   "><div class="collapsible-icon sap-icon"><div class="title"><strong>
					Note
				</strong></div></div><div class="fig"><p>
                                        </p><ul class="ul ">
                                                <li class="li">
                                                        <p>You can configure a <span class="ph sap-technical-name">state</span> message or transition
                                                                from the back end for the 412 handling during
                                                                        <span class="ph sap-technical-name">activation</span>.</p>
                                                </li>
                                                <li class="li">
                                                        <p>You must configure a <span class="ph sap-technical-name">transition</span> message from the
                                                                back end for the 412 handling during <span class="ph sap-technical-name">save</span>,
                                                                        <span class="ph sap-technical-name">delete</span>, and
                                                                        <span class="ph sap-technical-name">function import</span> actions.</p>
                                                </li>
                                        </ul>
                                <p></p></div></div>
                                <div class="note restriction  "><div class="collapsible-icon sap-icon"><div class="title"><strong>
					Restriction
				</strong></div></div><div class="fig"><p>
                                        
                                        </p><p>You can't configure 412 confirmation popups for a deletion triggered from a table in an object page.</p>
                                        
                                <p></p></div></div>
                                <p>If an
                                        end user wants to
                                        perform an action on multiple selected items, some of the selected items can result in a warning message. In
                                        such cases, the action processing fails and the
                                        end user is asked to
                                        perform the action on individual objects.</p>
                        </section><section>
                                <h3 class="title ">Configuring an
                                        Additional Confirmation Popup for Save/Activation on Object Pages</h3>
                                
                                <div class="note   "><div class="collapsible-icon sap-icon"><div class="title"><strong>
					Note
				</strong></div></div><div class="fig"><p>
                                        </p><p>This is a legacy feature and it is recommended to use the 412 confirmation popup instead.</p>
                                <p></p></div></div>
                                
                                <p>In draft scenarios,
                                        you
                                        can configure a UI confirmation popup before proceeding with activation, if there are any warnings available
                                        at the front end.</p>
                                <p>To enable this popup, in the <code>manifest.json</code>
                                        file, under the object
                                        page settings, set the <code>showConfirmationOnDraftActivate</code> indicator to
                                        <code>true</code> as shown in the
                                        following sample
                                        code:</p>
                                <div class="note other samplecode "><div class="collapsible-icon sap-icon"><div class="title"><strong>
					Sample Code
				</strong></div></div><div class="fig"><p>manifest.json</p><section><div class="fig fig-codeblock"><div class="copyButton"><span style="display: none;">Hidden</span></div><div class="codeblock-wrapper"><pre class="codeblock">"pages": {
              "ObjectPage|STTA_C_MP_Product": {
                             "entitySet": "STTA_C_MP_Product",
                             "component": {
                                           "name": "sap.suite.ui.generic.template.ObjectPage",
                                           "settings": {
                                                          "showRelatedApps": true,
                                                          "tableType": "ResponsiveTable",
                                                          "editableHeaderContent": true,
                                                          "showConfirmationOnDraftActivate": true,
                                                          "sections": {
                                                                        "to_ProductText::com.sap.vocabularies.UI.v1.LineItem": {
                                                                                      "navigationProperty": "to_ProductText",
                                                                                      "entitySet": "STTA_C_MP_ProductText",
                                                                                      "multiSelect": true,
                                                                                      "createMode": "inline",
                                                                                      "tableType": "ResponsiveTable"
                                                                        }
                                                          }
                                           }
                             }
              }
}
</pre></div></div></section><p></p></div></div>
                        </section><section>
                                <h3 class="title ">Customizing Title Text for the Confirmation Popups</h3>
                                <p>You can override the title text and provide
                                        application-specific
                                        dialog title using the following keys in the
                                                <code>i18n</code>
                                                files:</p><ul class="ul ">
                                                <li class="li">
                                                        <p>For the title text of a dialog:</p><ul class="ul ">
                                                                        <li class="li">
                                                                           <p><code>"ST_KEEP_DRAFT_MESSAGE_CREATE"</code>
                                                                           in the create scenario</p>
                                                                        </li>
                                                                        <li class="li">
                                                                           <p><code>"ST_KEEP_DRAFT_MESSAGE_EDIT"</code>
                                                                           in the edit scenario</p>
                                                                        </li>
                                                                </ul><p></p>
                                                </li>
                                                <li class="li">
                                                        <p>For saving and creating text:</p><ul class="ul ">
                                                                        <li class="li">
                                                                           <p><code>"CREATE"</code>
                                                                           in the create mode</p>
                                                                        </li>
                                                                        <li class="li">
                                                                           <p><code>"SAVE"</code>
                                                                           in the save mode</p>
                                                                        </li>
                                                                </ul><p></p>
                                                </li>
                                        </ul><p></p>
                        </section></div></section><section id="section_nky_zzn_vsb" class="collapsible expanded"><div class="collapsible-icon sap-icon"><h2 class="title collapsible expanded">Additional Features in SAP Fiori Elements for OData V4</h2></div><div class="fig"><section>
                                <h3 class="title ">Turn Off <span class="ph uicontrol"> Draft
                                                Activation</span> Confirmation Popup for External Navigation</h3>
                                <p>You
                                        can turn off the
                                        confirmation
                                        popup for draft activation in the case of external navigation 
                                        by
                                        configuring the <code>silentlyKeepDraftOnForwardNavigation</code>
                                        setting in the
                                                <code>manifest.json</code>
                                        file
                                        as
                                        shown
                                        in the following sample code:</p>
                                <div class="note other samplecode "><div class="collapsible-icon sap-icon"><div class="title"><strong>
					Sample Code
				</strong></div></div><div class="fig"><p>manifest.json</p><section><div class="fig fig-codeblock"><div class="copyButton"><span style="display: none;">Hidden</span></div><div class="codeblock-wrapper"><pre class="codeblock">"sap.fe": {
     "app": {
          "silentlyKeepDraftOnForwardNavigation": true
     }
}
</pre></div></div></section><p></p></div></div>
                        </section><section>
                                <h3 class="title ">Handling of 412 Messages</h3>
                                <div class="note note  "><div class="collapsible-icon sap-icon"><div class="title"><strong>
					Note
				</strong></div></div><div class="fig"><p>
                                        </p><p>You must configure 412 messages from the back end as <span class="ph sap-technical-name">transition</span>
                                                messages, not as <span class="ph sap-technical-name">state</span> messages.</p>
                                <p></p></div></div>
                                <div class="note restriction  "><div class="collapsible-icon sap-icon"><div class="title"><strong>
					Restriction
				</strong></div></div><div class="fig"><p>
                                        
                                        </p><ul class="ul ">
                                                <li class="li">
                                                        <p>For back ends based on CAP, the
                                                                handling of 412 "Precondition Failed" messages don't work correctly if the action is
                                                                executed by setting the <code>InvocationGrouping</code> annotation property to
                                                                        <code>UI.OperationGroupingType/Isolated</code>. Here, the action invoked
                                                                for the selected contexts are triggered within the same changeset. So, either the
                                                                action is executed successfully or not executed for any of the selected context. </p>
                                                </li>
                                                <li class="li">
                                                        <p>The handling of 412 messages ("Precondition Failed" messages) is not applied when a record
                                                                is deleted.</p>
                                                </li>
                                        </ul>
                                        
                                        
                                        
                                <p></p></div></div>
                        </section></div></section><section class="contentInSection hidden"><h2>In this section:</h2></section><section class="familyLinks"><div class="parentLink hidden"><br><strong>Parent topic: </strong></div><div class="previousLink hidden"><br><strong>Previous: </strong></div><div class="nextLink hidden"><br><strong>Next: </strong></div></section><section class="hidden relatedLinks "><div class="collapsible-icon sap-icon title"><h2>Related information</h2></div><ul class="fig"></ul></section></div></section></div></body></html>