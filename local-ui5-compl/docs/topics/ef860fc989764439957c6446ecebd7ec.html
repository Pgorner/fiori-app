<html><head></head><body><div id="d4h5-main-container" class="dk-main"><section id="loioef860fc989764439957c6446ecebd7ec" class=" section topic"><div class="section-mdeditlink hidden">
				<a class="mdeditlink hidden" href="https://github.com/SAP-docs/sapui5/blob/main/docs/10_More_About_Controls/facet-filter-selection-ef860fc.md">Edit on GitHub</a>
			</div><div class="collapsible-icon sap-icon innerTitle"><h2 class="title ">Facet Filter Selection</h2></div><div class="fig"><div class="topictitle1 title"><h2 class="title ">Facet Filter Selection</h2></div><div class="shortdesc">The <code>FacetFilterList.getSelectedItems()</code> method returns a copy of each
        selected facet filter item. You use the method to get the selected filter items when
        filtering the target data set.</div><p>Therefore, you should not attempt to modify any of the item's properties.</p><section><h2 class="title ">Variants</h2><p>An application can support the personalization of settings and
                allow the user to save the facet filter list selections as well as other properties
                by means of a variant. For example, you can use <code>getSelectedKeys</code> to
                retrieve an object containing all selected items and use JSON.stringify to marshall
                and JSON.parse to unmarshall. After unmarshalling, you can use
                    <code>setSelectedKeys</code> to apply the selections to the list. The
                following figure and code snippet give an example.</p><img src="loioce923dff09294b65b51609d2ec1f1718_LowRes.png" usemap="#"><section class="lang-js"><div class="fig fig-codeblock"><div class="copyButton"><span style="display: none;">Hidden</span></div><div class="codeblock-wrapper"><pre class="codeblock">var oDataModel = new sap.ui.model.odata.v2.ODataModel("/uilib-sample/proxy/http/services.odata.org/V3/Northwind/Northwind.svc");

// create the FacetFilterList and bind the filter items
var oFacetFilterList = new sap.m.FacetFilterList({
    title : "Products",
    growing : true,
    items : {
        path : "/Products",
        template : new sap.m.FacetFilterItem({
            text : "{ProductName}",
            key : "{ProductID}"
        })
    },
    listOpen : function(oEvent) {

        if(!this.hasModel()) {          
            this.setModel(oDataModel);
        }
    },
});

// getSelectionsFromVariant() is an application method to retrieve
// selected keys from the backend. Selections were saved to the variant by persisting 
// the result of 'getSelectedKeys' for each list. This is an object 
// containing Product keys as properties and Product text as property values, for example:
/*      
{
    '5' : "Chef Anton's Gumbo Mix",
    '17' : "Alice Mutton",
    '21' : "Sir Rodney's Scones"                
}
*/
var oSelectedKeys = getSelectionsFromVariant(); 

// Now preselect these items
oFacetFilterList.setSelectedKeys(oSelectedKeys);

var oFacetFilter = new sap.m.FacetFilter({
    lists : [ oFacetFilterList ]
}); </pre></div></div></section></section><section class="contentInSection hidden"><h2>In this section:</h2></section><section class="familyLinks"><div class="parentLink hidden"><br><strong>Parent topic: </strong></div><div class="previousLink hidden"><br><strong>Previous: </strong></div><div class="nextLink hidden"><br><strong>Next: </strong></div></section><section class="hidden relatedLinks "><div class="collapsible-icon sap-icon title"><h2>Related information</h2></div><ul class="fig"></ul></section></div></section></div></body></html>