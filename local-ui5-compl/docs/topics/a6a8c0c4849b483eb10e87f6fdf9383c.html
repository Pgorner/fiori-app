<html><head></head><body><div id="d4h5-main-container" class="dk-main"><section id="loioa6a8c0c4849b483eb10e87f6fdf9383c" class=" section topic"><div class="section-mdeditlink hidden">
				<a class="mdeditlink hidden" href="https://github.com/SAP-docs/sapui5/blob/main/docs/06_SAP_Fiori_Elements/adding-a-contact-facet-a6a8c0c.md">Edit on GitHub</a>
			</div><div class="collapsible-icon sap-icon innerTitle"><h2 class="title ">Adding a Contact Facet</h2></div><div class="fig"><div class="topictitle1 title"><h2 class="title ">Adding a Contact Facet</h2></div><p>To render a
            contact
            list and contact facet, you add a <code>UI.ReferenceFacet</code> that points to a contact annotation
                (<code>type</code>). It shows the label of the <code>UI.ReferenceFacet</code>, and below it, the <code>fn</code> property
            of the contact annotation. If you click on the name, a quick view with the contact details is displayed, as shown here:</p><p>
				</p><div><div class="fig"><img src="loio076fb4d8a52b46a197c5d93490f0140c_LowRes.png" usemap="#"></div><span class="collapsible-icon sap-icon figcap title"><h2 class="title ">Object Page: Contacts</h2></span></div>
			<p></p><p>Currently, the contact card reads the following annotation properties and displays them:</p><ul class="ul ">
                <li class="li">
                    <p><code>fn</code>: the full name of the contact. It is displayed as the title of the card using a bigger font.</p>
                </li>
                <li class="li">
                    <p><code>title</code>:
                        the job title of the contact. It is displayed below the title of the card using a smaller font.</p>
                </li>
                <li class="li">
                    <p><code>photo</code>: the photo assigned to the contact. It is displayed in the header of the contact card. If no photo is
                        provided, a
                        contact
                        fallback icon is shown instead.</p>
                </li>
                <li class="li">
                    <p><code>role</code>: the role of the contact. It is displayed in the content of the card,
                        as shown in the
                        screenshot below.</p>
                </li>
                <li class="li">
                    <p><code>org</code>: the organization of the contact. It is displayed in the content of the card,
                        as
                        shown in the screenshot below.</p>
                </li>
                <li class="li">
                    <p><code>adr</code>: the address of the contact. It is displayed in the content of the card, as shown in the screenshot below
                        The address has to follow the <code>addressType</code> definition. The order of the displayed address is street, code,
                        locality,
                        region
                        and country
                        simultaneously
                        in a comma-separated string. Note that if the <code>label</code> property is used, then only
                        this
                        is shown and the other properties are ignored.</p>
                </li>
                <li class="li">
                    <p><code>mail</code>: the email addresses of the contact, together with the email type. Only <code>preferred</code> and
                            <code>work</code> are supported type values. This information is displayed as a link in the content of the card, as
                        shown in the screenshot below. When clicked, an email window opens.</p>
                </li>
                <li class="li">
                    <p><code>tel</code>: the telephone numbers of the contact, together with the types. This information is displayed as a link in
                        the content of the card, as shown in the screenshot below. When clicked, the phone application defined in the user's browser
                        settings
                        opens.
                        If the telephone number is a fax number, use <code>type: #fax</code>to display it as a fax number. The
                        other supported types are
                        preferred,
                        cell,
                        and work.</p>
                </li>
            </ul><p></p><section id="section_bgb_xqr_cpb" class="collapsible expanded"><div class="collapsible-icon sap-icon"><h2 class="title collapsible expanded">Additional Features in SAP Fiori Elements for OData V2</h2></div><div class="fig"><p>The facet annotation looks like this:</p><div class="note other samplecode "><div class="collapsible-icon sap-icon"><div class="title"><strong>
					Sample Code
				</strong></div></div><div class="fig"><p>XML
                Annotation</p><section class="lang-xml collapsible"><div class="collapsible-icon sap-icon title"><strong>
						Sample Code
					</strong></div><div class="fig fig-codeblock"><div class="copyButton"><span style="display: none;">Hidden</span></div><div class="codeblock-wrapper"><pre class="codeblock">&lt;Record Type="UI.ReferenceFacet"&gt;
   &lt;PropertyValue Property="Label" String="Supplier"/&gt;
   &lt;PropertyValue AnnotationPath="to_Supplier/@Communication.Contact" Property="Target"/&gt;
&lt;/Record&gt;</pre></div></div></section><p></p></div></div><div class="note other samplecode "><div class="collapsible-icon sap-icon"><div class="title"><strong>
					Sample Code
				</strong></div></div><div class="fig"><p>ABAP CDS Annotation</p><section class="collapsible"><div class="collapsible-icon sap-icon title"><strong>
						Sample Code
					</strong></div><div class="fig fig-codeblock"><div class="copyButton"><span style="display: none;">Hidden</span></div><div class="codeblock-wrapper"><pre class="codeblock">@UI.facet: [
 {
  label: 'Supplier',
  type:         #CONTACT_REFERENCE,
  targetElement: '_Supplier',
  purpose: #STANDARD
 }
]
product;</pre></div></div></section><p></p></div></div><p>The Contact annotation looks like this:</p><div class="note other samplecode "><div class="collapsible-icon sap-icon"><div class="title"><strong>
					Sample Code
				</strong></div></div><div class="fig"><p>XML
                Annotation</p><section class="collapsible lang-xml"><div class="collapsible-icon sap-icon title"><strong>
						Sample Code
					</strong></div><div class="fig fig-codeblock"><div class="copyButton"><span style="display: none;">Hidden</span></div><div class="codeblock-wrapper"><pre class="codeblock">&lt;Annotations Target="SEPMRA_PROD_MAN.SEPMRA_I_EmployeeType"&gt;
	&lt;Annotation Term="Communication.Contact"&gt;
		&lt;Record&gt;
			&lt;PropertyValue Property="fn" Path="FormattedName"/&gt;
			&lt;PropertyValue Property="title" Path="JobTitle"/&gt;
			&lt;PropertyValue Property="org" Path="CompanyName"/&gt;
			&lt;PropertyValue Property="role" Path="OrganizationRole"/&gt;
			&lt;PropertyValue Property="n"&gt;
				&lt;Record&gt;
					&lt;PropertyValue Property="given" Path="FirstName"/&gt;
					&lt;PropertyValue Property="additional" Path="MiddleName"/&gt;
					&lt;PropertyValue Property="surname" Path="LastName"/&gt;
				&lt;/Record&gt;
										
			&lt;/PropertyValue&gt;
			&lt;PropertyValue Property="photo" Path="EmployeePictureURL"/&gt;
			&lt;PropertyValue Property="tel"&gt;
				&lt;Collection&gt;
					&lt;Record&gt;
						&lt;PropertyValue Property="type" EnumMember="Communication.PhoneType/fax"/&gt;
						&lt;PropertyValue Property="uri" Path="FaxNumber"/&gt;
					&lt;/Record&gt;
					&lt;Record&gt;
						&lt;PropertyValue Property="type" EnumMember="Communication.PhoneType/cell"/&gt;
						&lt;PropertyValue Property="uri" Path="MobilePhoneNumber"/&gt;
					&lt;/Record&gt;
					&lt;Record&gt;
						&lt;PropertyValue Property="type" EnumMember="Communication.PhoneType/work"/&gt;
						&lt;PropertyValue Property="uri" Path="PhoneNumber"/&gt;
					&lt;/Record&gt;
					&lt;Record&gt;
						&lt;PropertyValue Property="type" EnumMember=""/&gt;
						&lt;PropertyValue Property="address" Path="FaxNumber"/&gt;
					&lt;/Record&gt;
				&lt;/Collection&gt;
			&lt;/PropertyValue&gt;
			&lt;PropertyValue Property="email"&gt;
				&lt;Collection&gt;
					&lt;Record&gt;
						&lt;PropertyValue Property="type" EnumMember="Communication.ContactInformationType/work"/&gt;
						&lt;PropertyValue Property="address" Path="EmailAddress"/&gt;
					&lt;/Record&gt;
				&lt;/Collection&gt; 
			&lt;/PropertyValue&gt;
		&lt;/Record&gt;
	&lt;/Annotation&gt;
&lt;/Annotations&gt;				</pre></div></div></section><p></p></div></div><div class="note other samplecode "><div class="collapsible-icon sap-icon"><div class="title"><strong>
					Sample Code
				</strong></div></div><div class="fig"><p>ABAP CDS Annotation</p><section class="collapsible"><div class="collapsible-icon sap-icon title"><strong>
						Sample Code
					</strong></div><div class="fig fig-codeblock"><div class="copyButton"><span style="display: none;">Hidden</span></div><div class="codeblock-wrapper"><pre class="codeblock">define view VIEWNAME
{
  @Semantics.name.fullName: true
  FormattedName,

  @Semantics.eMail.address: true
  @Semantics.eMail.type:  [#WORK]
  EmailAddress,
   
  @Semantics.telephone.type:  [ #FAX ] 
  FaxNumber,

  @Semantics.telephone.type:  [ #CELL ]
  MobilePhoneNumber,
  
  @Semantics.telephone.type:  [ #WORK]
  PhoneNumber,

  @Semantics.name: { jobTitle: true }   
  JobTitle,

  @Semantics.organization: { name: true }
  CompanyName,

  @Semantics.organization: { role: true, unit: true }
  OrganizationRole

  @Semantics.name: { givenName: true }   
  FirstName,

  @Semantics.name: { additionalName: true }   
  MiddleName,

  @Semantics.name: { familyName: true }   
  LastName,

  @Semantics.address : { city: true }  
  City,

  @Semantics.contact.photo: true
  EmployeePictureURL
}
</pre></div></div></section><p></p></div></div></div></section><section id="section_u2p_crr_cpb" class="collapsible expanded"><div class="collapsible-icon sap-icon"><h2 class="title collapsible expanded">Additional Features in SAP Fiori Elements for OData V4</h2></div><div class="fig"><p>Applications can configure additional contact information to be displayed in a
                popover when users click on the smart link.</p><p>Configure the contact card using
                    <code>com.sap.vocabularies.UI.v1.DataFieldForAnnotation</code> and
                    <code>com.sap.vocabularies.Communication.v1. Communication</code>, as shown
                in the following sample code:</p><div class="note other samplecode "><div class="collapsible-icon sap-icon"><div class="title"><strong>
					Sample Code
				</strong></div></div><div class="fig"><p>XML
                Annotation</p><section class="collapsible lang-xml"><div class="collapsible-icon sap-icon title"><strong>
						Sample Code
					</strong></div><div class="fig fig-codeblock"><div class="copyButton"><span style="display: none;">Hidden</span></div><div class="codeblock-wrapper"><pre class="codeblock">&lt;Annotations Target="clouds.products.CatalogService.Products"&gt;
    &lt;Annotation Term="UI.LineItem"&gt;
        &lt;Collection&gt;
            &lt;Record Type="UI.DataFieldForAnnotation"&gt;
                &lt;PropertyValue Property="Label" String="Supplier"/&gt;
                &lt;PropertyValue Property="Target" AnnotationPath="supplier/@Communication.Contact"/&gt;
            &lt;/Record&gt;
        &lt;/Collection&gt;
    &lt;/Annotation&gt;
&lt;/Annotations&gt;</pre></div></div></section><p></p></div></div><div class="note other samplecode "><div class="collapsible-icon sap-icon"><div class="title"><strong>
					Sample Code
				</strong></div></div><div class="fig"><p>ABAP CDS
                Annotation</p><section class="collapsible"><div class="collapsible-icon sap-icon title"><strong>
						Sample Code
					</strong></div><div class="fig fig-codeblock"><div class="copyButton"><span style="display: none;">Hidden</span></div><div class="codeblock-wrapper"><pre class="codeblock">annotate view PRODUCTS.CATALOGSERVICE.PRODUCTS with {


@UI.lineItem: [
  {
    label: 'Supplier',
    value: 'SUPPLIER',
    type: #AS_CONTACT,
    position: 1 
  }
]

test;
}
</pre></div></div></section><p></p></div></div><div class="note other samplecode "><div class="collapsible-icon sap-icon"><div class="title"><strong>
					Sample Code
				</strong></div></div><div class="fig"><p>CAP CDS
                Annotation</p><section class="collapsible"><div class="collapsible-icon sap-icon title"><strong>
						Sample Code
					</strong></div><div class="fig fig-codeblock"><div class="copyButton"><span style="display: none;">Hidden</span></div><div class="codeblock-wrapper"><pre class="codeblock">LineItem                         : [
    {
        $Type  : 'UI.DataFieldForAnnotation',
        Target : 'supplier/@Communication.Contact',
        Label  : 'Supplier'
    }]
</pre></div></div></section><p></p></div></div><p>You must then add the annotation given below to the <code>EntitySet</code>
                pointed to by the <code>Navigation</code> property (<code>"Supplier"</code>
                in the code snippet above) for the contents of the card. The following snippet
                controls the content of the card:</p><div class="note other samplecode "><div class="collapsible-icon sap-icon"><div class="title"><strong>
					Sample Code
				</strong></div></div><div class="fig"><p>XML
                Annotation</p><p><code>Communication.Contact</code></p><section class="collapsible lang-xml"><div class="collapsible-icon sap-icon title"><strong>
						Sample Code
					</strong></div><div class="fig fig-codeblock"><div class="copyButton"><span style="display: none;">Hidden</span></div><div class="codeblock-wrapper"><pre class="codeblock">&lt;Annotations Target="clouds.products.CatalogService.Suppliers"&gt;
    &lt;Annotation Term="Communication.Contact"&gt;
        &lt;Record Type="Communication.ContactType"&gt;
            &lt;PropertyValue Property="email"&gt;
                &lt;Collection&gt;
                    &lt;Record Type="Communication.EmailAddressType"&gt;
                        &lt;PropertyValue Property="type"&gt;
                            &lt;EnumMember&gt;Communication.ContactInformationType/work&lt;/EnumMember&gt;
                        &lt;/PropertyValue&gt;
                        &lt;PropertyValue Property="address"&gt;
                            &lt;Path&gt;emailAddress&lt;/Path&gt;
                        &lt;/PropertyValue&gt;
                    &lt;/Record&gt;
                &lt;/Collection&gt;
            &lt;/PropertyValue&gt;
            &lt;PropertyValue Property="fn"&gt;
                &lt;Path&gt;name&lt;/Path&gt;
            &lt;/PropertyValue&gt;
            &lt;PropertyValue Property="tel"&gt;
                &lt;Collection&gt;
                    &lt;Record Type="Communication.PhoneNumberType"&gt;
                        &lt;PropertyValue Property="type"&gt;
                            &lt;EnumMember&gt;Communication.PhoneType/fax&lt;/EnumMember&gt;
                        &lt;/PropertyValue&gt;
                        &lt;PropertyValue Property="uri"&gt;
                            &lt;Path&gt;faxNumber&lt;/Path&gt;
                        &lt;/PropertyValue&gt;
                    &lt;/Record&gt;
                    &lt;Record Type="Communication.PhoneNumberType"&gt;
                        &lt;PropertyValue Property="type"&gt;
                            &lt;EnumMember&gt;Communication.PhoneType/work&lt;/EnumMember&gt;
                        &lt;/PropertyValue&gt;
                        &lt;PropertyValue Property="uri"&gt;
                            &lt;Path&gt;phoneNumber&lt;/Path&gt;
                        &lt;/PropertyValue&gt;
                    &lt;/Record&gt;
                &lt;/Collection&gt;
            &lt;/PropertyValue&gt;
        &lt;/Record&gt;
    &lt;/Annotation&gt;
&lt;/Annotations&gt;</pre></div></div></section><p></p></div></div><div class="note other samplecode "><div class="collapsible-icon sap-icon"><div class="title"><strong>
					Sample Code
				</strong></div></div><div class="fig"><p>ABAP CDS
                Annotation</p><section class="collapsible"><div class="collapsible-icon sap-icon title"><strong>
						Sample Code
					</strong></div><div class="fig fig-codeblock"><div class="copyButton"><span style="display: none;">Hidden</span></div><div class="codeblock-wrapper"><pre class="codeblock">define view Suppliers
{
  @Semantics.name.fullName: true
  name,

  @Semantics.eMail.address: true
  @Semantics.eMail.type:  [#WORK]
  emailAddress,
   
  @Semantics.telephone.type:  [ #FAX ] 
  FaxNumber,
  
  @Semantics.telephone.type:  [ #WORK]
  PhoneNumber
}
</pre></div></div></section><p></p></div></div><div class="note other samplecode "><div class="collapsible-icon sap-icon"><div class="title"><strong>
					Sample Code
				</strong></div></div><div class="fig"><p>CAP CDS
                Annotation</p><section class="collapsible"><div class="collapsible-icon sap-icon title"><strong>
						Sample Code
					</strong></div><div class="fig fig-codeblock"><div class="copyButton"><span style="display: none;">Hidden</span></div><div class="codeblock-wrapper"><pre class="codeblock">FieldGroup #HeaderGeneralInformation            : {Data : [{
        $Type  : 'UI.DataFieldForAnnotation',
        Target : '_SoldToParty/@Communication.Contact',
        Label  : 'Contact Info'
    }, ]},


entity Customer                                        @(
    cds.autoexpose,
    title                  : 'Sold-to Party',
    Communication.Contact  : {
        email : [{
            type    : #work,
            address : EmailAddress
        }],
        fn    : CustomerName,
        tel   : [{
            type : #fax,
            uri  : InternationalPhoneNumber
        }],
        adr   : [{
            type     : #work,
            code     : PostalCode,
            country  : Country,
            locality : CityName
        }]
    },
    Common.IsNaturalPerson : true
)
</pre></div></div></section><p></p></div></div><p>The column in the table and the contact popover when clicking the link looks like
                this:</p><div><div class="fig"><img src="loio7282872f387440aba5c27e25d6f2ea21_LowRes.jpg" usemap="#"></div></div><div class="note tip  "><div class="collapsible-icon sap-icon"><div class="title"><strong>
					Tip
				</strong></div></div><div class="fig"><p>
                </p><p>If no "<code>@Contact.photo</code>" annotation is provided, a fallback icon
                    for the contact is displayed.</p>
            <p></p></div></div></div></section><section class="contentInSection hidden"><h2>In this section:</h2></section><section class="familyLinks"><div class="parentLink hidden"><br><strong>Parent topic: </strong></div><div class="previousLink hidden"><br><strong>Previous: </strong></div><div class="nextLink hidden"><br><strong>Next: </strong></div></section><section class="hidden relatedLinks "><div class="collapsible-icon sap-icon title"><h2>Related information</h2></div><ul class="fig"></ul></section></div></section></div></body></html>