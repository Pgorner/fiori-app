<html><head></head><body><div id="d4h5-main-container" class="dk-main"><section id="loio9bbbfaa828a14fee8ca9ac31464cc073" class=" section topic"><div class="section-mdeditlink hidden">
				<a class="mdeditlink hidden" href="https://github.com/SAP-docs/sapui5/blob/main/docs/03_Get-Started/step-15-nested-views-typescript-9bbbfaa.md">Edit on GitHub</a>
			</div><div class="collapsible-icon sap-icon innerTitle"><h2 class="title ">Step 15: Nested Views (TypeScript)</h2></div><div class="fig"><div class="topictitle1 title"><h2 class="title ">Step 15: Nested Views (TypeScript)</h2></div><div class="shortdesc">Our panel content is getting more and more complex and now it is time to move the
      panel content to a separate view. With that approach, the application structure is much easier
      to understand, and the individual parts of the app can be reused.</div><section>
         <h2 class="title ">Preview</h2>
         <div><div class="fig"><img src="loiof3724d2f97e94a78b27d8ab01ff9c37d_LowRes.png" title="The graphic has an explanatory text." alt="The graphic has an explanatory text." usemap="#"></div><span class="collapsible-icon sap-icon figcap title"><h2 class="title ">The panel content is now refactored to a separate view (No visual changes to last
               step)</h2></span></div>
      </section><section id="section_rjd_vt2_syb">
         <h2 class="title ">Coding</h2>
         <p>You can view all files at <a href="https://github.com/sap-samples/ui5-typescript-walkthrough/tree/main/steps/15" title="https://github.com/sap-samples/ui5-typescript-walkthrough/tree/main/steps/15" class="external-link" target="_blank" rel="noopener">OpenUI5 TypeScript Walkthrough - Step 15: Nested Views</a> and <a href="https://sap-samples.github.io/ui5-typescript-walkthrough/ui5-typescript-walkthrough-step-15.zip" title="https://sap-samples.github.io/ui5-typescript-walkthrough/ui5-typescript-walkthrough-step-15.zip" class="external-link" target="_blank" rel="noopener">download the solution as a zip file</a>.</p>
      </section><section id="section_xkd_njy_nzb">
         <h2 class="title ">webapp/controller/HelloPanel.controller.ts (New)</h2>
         <p>In  our <code>webapp/controller</code> folder we create a new <code>HelloPanel.controller.ts</code> file and move the
               <code>onShowHello</code> method from the app controller to it, so we get a reusable asset.</p>
         <section class="lang-js"><div class="fig fig-codeblock"><div class="copyButton"><span style="display: none;">Hidden</span></div><div class="codeblock-wrapper"><pre class="codeblock"><span class="emphasis">import Controller from "sap/ui/core/mvc/Controller";
import MessageToast from "sap/m/MessageToast";
import JSONModel from "sap/ui/model/json/JSONModel";
import ResourceModel from "sap/ui/model/resource/ResourceModel";
import ResourceBundle from "sap/base/i18n/ResourceBundle";

/**
 * @namespace ui5.walkthrough.controller
 */
export default class HelloPanel extends Controller {
    
    onShowHello(): void {
        // read msg from i18n model
        // functions with generic return values require casting 
        const resourceBundle = (this.getView()?.getModel("i18n") as ResourceModel)?.getResourceBundle() as ResourceBundle;
        const recipient = (this.getView()?.getModel() as JSONModel)?.getProperty("/recipient/name");
        const msg = resourceBundle.getText("helloMsg", [recipient]) || "no text defined";
        // show message
        MessageToast.show(msg);
    }
};</span></pre></div></div></section>
      </section><section id="section_hfz_fky_nzb">
         <h2 class="title ">webapp/view/HelloPanel.view.xml (New)</h2>
         <p>We create a new <code>HelloPanel.view.xml</code> file in our <code>webapp/view</code> folder and move the whole panel from the app
            view to it. We also reference the controller we just created for the view by setting it to the <code>controllerName</code> attribute
            of the XML view.</p>
         <section class="lang-xml"><div class="fig fig-codeblock"><div class="copyButton"><span style="display: none;">Hidden</span></div><div class="codeblock-wrapper"><pre class="codeblock"><span class="emphasis">&lt;mvc:View
   controllerName="ui5.walkthrough.controller.HelloPanel"
   xmlns="sap.m"
   xmlns:mvc="sap.ui.core.mvc"&gt;
   &lt;Panel
      headerText="{i18n&gt;helloPanelTitle}"
      class="sapUiResponsiveMargin"
      width="auto"&gt;
      &lt;content&gt;
         &lt;Button
            text="{i18n&gt;showHelloButtonText}"
            press=".onShowHello"
            class="myCustomButton"/&gt;
         &lt;Input
            value="{/recipient/name}"
            valueLiveUpdate="true"
            width="60%"/&gt;
         &lt;FormattedText
            htmlText="Hello {/recipient/name}"
            class="sapUiSmallMargin sapThemeHighlight-asColor myCustomText"/&gt;
      &lt;/content&gt;
   &lt;/Panel&gt;
&lt;/mvc:View&gt;</span></pre></div></div></section>
      </section><section id="section_sjd_vt2_syb">
         <h2 class="title ">webapp/view/App.view.xml</h2>
         <p>In the app view, we remove the panel control and its content and put the <code>XMLView</code> control into the content of the page
            instead. We add the <code>viewName</code> attribute with the value <code>ui5.walkthrough.view.HelloPanel</code> to reference the
            new view that now contains the panel.</p>
         <section class="lang-xml"><div class="fig fig-codeblock"><div class="copyButton"><span style="display: none;">Hidden</span></div><div class="codeblock-wrapper"><pre class="codeblock">&lt;mvc:View
	controllerName="ui5.walkthrough.controller.App"
	xmlns="sap.m"
	xmlns:mvc="sap.ui.core.mvc"
	displayBlock="true"&gt;
	&lt;Shell&gt;
		&lt;App class="myAppDemoWT"&gt;
			&lt;pages&gt;
				&lt;Page title="{i18n&gt;homePageTitle}"&gt;
					&lt;content&gt;
<span class="emphasis">						&lt;mvc:XMLView viewName="ui5.walkthrough.view.HelloPanel"/&gt;</span>
					&lt;/content&gt;
				&lt;/Page&gt;
			&lt;/pages&gt;
		&lt;/App&gt;
	&lt;/Shell&gt;
&lt;/mvc:View&gt;</pre></div></div></section>
      </section><section>
         <h2 class="title ">webapp/controller/App.controller.ts</h2>
         <p>We remove the <code>onShowHello</code> method from the app controller, as this is not needed anymore.</p>
         <section class="lang-js"><div class="fig fig-codeblock"><div class="copyButton"><span style="display: none;">Hidden</span></div><div class="codeblock-wrapper"><pre class="codeblock">import Controller from "sap/ui/core/mvc/Controller";

/**
 * @namespace ui5.walkthrough.controller
 */
export default class App extends Controller {
};</pre></div></div></section>
         <p>We have now moved everything out of the app view and controller. The app controller
            remains an empty stub for now, we will use it later to add more functionality.</p>
      </section><section class="contentInSection hidden"><h2>In this section:</h2></section><section class="familyLinks"><div class="parentLink"><br><strong>Parent topic: </strong><a href="topic/dad1905a07f849ce9c509721317d38d8">Walkthrough Tutorial (TypeScript)</a></div><div class="previousLink"><br><strong>Previous: </strong><a href="topic/4cc841e27fd44549b9d108ed7c333195">Step 14: Custom CSS and Theme Colors (TypeScript)</a></div><div class="nextLink"><br><strong>Next: </strong><a href="topic/4b2e306f4bcd4777b068e5a99e007e85">Step 16: Dialogs and Fragments (TypeScript)</a></div></section><section class="relatedLinks "><div class="collapsible-icon sap-icon title"><h2>Related information</h2></div><ul class="fig">
      <li><a href="api/sap.ui.core.mvc.XMLView#controlProperties" title="api/sap.ui.core.mvc.XMLView#controlProperties" class="sap-doc" alt="api/sap.ui.core.mvc.XMLView#controlProperties">API Reference: sap.ui.core.mvc.XMLView</a></li>
   </ul></section></div></section></div></body></html>