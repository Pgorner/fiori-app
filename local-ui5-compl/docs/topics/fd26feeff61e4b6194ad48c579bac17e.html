<html><head></head><body><div id="d4h5-main-container" class="dk-main"><section id="loiofd26feeff61e4b6194ad48c579bac17e" class=" section topic"><div class="section-mdeditlink hidden">
				<a class="mdeditlink hidden" href="https://github.com/SAP-docs/sapui5/blob/main/docs/06_SAP_Fiori_Elements/adding-a-custom-viewextension-to-the-mass-edit-dialog-fd26fee.md">Edit on GitHub</a>
			</div><div class="collapsible-icon sap-icon innerTitle"><h2 class="title ">Adding a Custom ViewExtension to the Mass Edit Dialog</h2></div><div class="fig"><div class="topictitle1 title"><h2 class="title ">Adding a Custom ViewExtension to the Mass Edit Dialog</h2></div><div class="shortdesc">You can add a custom <code>ViewExtension</code> to the mass edit dialog by defining it in the manifest.</div><section id="section_rwz_4md_bdc">
            
            
            <h2 class="title ">Additional Features in SAP Fiori Elements for OData V2</h2>
            
            <p>
                </p><div class="note   "><div class="collapsible-icon sap-icon"><div class="title"><strong>
					Note
				</strong></div></div><div class="fig"><p>
                    </p><p>
                        </p><ul class="ul ">
                            <li class="li">
                                <p>Controls in custom extensions must be surrounded
                                    by a
                                    <code>GroupElement</code>.</p>
                            </li>
                            <li class="li">
                                <p>The application developer must provide stable IDs for the custom input fields. Handle input values using
                                        <code>beforeMultiEditSaveExtension</code>.</p>
                            </li>
                        </ul>
                    <p></p>
                <p></p></div></div>
            <p></p>
            <p>In <code>ViewExtension</code>, you can add custom controls inside a <code>GroupElement</code> such as a Rating bar, Calendar,
                and
                so on. You can add <code>MultiEditFieldsExtension</code> under the <code>manifest.json</code> file in the
                 extended
                    <code>sap.ui5</code>section.
                    <code>ViewExtension</code> is supported in both the <code>annotationPath</code> and <code>visibleTable</code> column
                scenarios.</p>
            
            <div class="note other samplecode "><div class="collapsible-icon sap-icon"><div class="title"><strong>
					Sample Code
				</strong></div></div><div class="fig"><p><code>manifest.json</code></p><section><div class="fig fig-codeblock"><div class="copyButton"><span style="display: none;">Hidden</span></div><div class="codeblock-wrapper"><pre class="codeblock">"sap.ui5": {
    "extends": {
        "extensions": {
            "sap.ui.viewExtensions":{
                "sap.suite.ui.generic.template.ListReport.view.ListReport":{
                    "MultiEditFieldsExtension|STTA_C_SO_SalesOrder_ND": {  // MultiEditFieldsExtension + Entity
                        "className": "sap.ui.core.Fragment",
                        "fragmentName": "STTA_SO_ND.ext.fragments.MultiEditFieldsExtension",
                        "type": "XML"
                    }
                }
            }
        }
    }
}
</pre></div></div></section><p></p></div></div>
            <div class="note other samplecode "><div class="collapsible-icon sap-icon"><div class="title"><strong>
					Sample Code
				</strong></div></div><div class="fig"><p>Mass Edit Dialog <code>ViewExtension</code> with <code>quickVariantSelectionX</code></p><section><div class="fig fig-codeblock"><div class="copyButton"><span style="display: none;">Hidden</span></div><div class="codeblock-wrapper"><pre class="codeblock">"sap.ui5": {
    "extends": {
        "extensions": {
            "sap.ui.viewExtensions":{
                "sap.suite.ui.generic.template.ListReport.view.ListReport":{
                    "MultiEditFieldsExtension|C_STTA_SalesOrder_WD_20|1": {  // Key identifier need to be added at the end along with pipe.
                        "className": "sap.ui.core.Fragment",
                        "fragmentName": "ManageSalesOrderWithTableTabs.ext.fragments.MultiEditFieldsExtension",
                        "type": "XML"
                        }
                    }
                }
            }
        }
    }
}
"sap.ui.generic.app": {
    "pages": [{
        "entitySet": " C_STTA_SalesOrder_WD_20",
        "component": {
            "name": "sap.suite.ui.generic.template.ListReport",
            "list": true,
            "settings": {
                "quickVariantSelectionX": {
                    "showCounts": true,
                    "variants": {
                        "0": {
                            "key": "1", // &lt;-- key identifier  
                            "annotationPath": "com.sap.vocabularies.UI.v1.SelectionVariant#Expensive",
                            "tableSettings": {
                                "multiEdit":{
                                    "enabled":true
                                },
                            }
                        },
                    }
                }
            }
        }
    }]
}
</pre></div></div></section><p>
                    </p><div class="note other samplecode "><div class="collapsible-icon sap-icon"><div class="title"><strong>
					Sample Code
				</strong></div></div><div class="fig"><p><code>MultiEditFieldsExtension</code> fragment
                        file</p><section><div class="fig fig-codeblock"><div class="copyButton"><span style="display: none;">Hidden</span></div><div class="codeblock-wrapper"><pre class="codeblock">&lt;core:FragmentDefinition xmlns:sfo="sap.ui.comp.smartform" xmlns:core="sap.ui.core" xmlns="sap.m"&gt;
    &lt;sfo:GroupElement&gt;
        &lt;Label text="Rating Bar" labelFor="RI_default"/&gt;
        &lt;RatingIndicator id="RI_default" maxValue="5" class="sapUiSmallMarginBottom" value="4"/&gt;
    &lt;/sfo:GroupElement&gt;
&lt;/core:FragmentDefinition&gt;
</pre></div></div></section><p></p></div></div>
                <p></p><p></p></div></div>
        </section><section id="section_jyd_tmd_bdc">
            <h2 class="title ">Additional Features in SAP Fiori Elements for OData V4</h2>
            <p>You can add a custom fragment to the <span class="ph uicontrol">Mass Edit</span> dialog by defining the <code>customFragment</code> property
                in the
                    <code>manifest.json</code>
                file.</p>
            <div class="note   "><div class="collapsible-icon sap-icon"><div class="title"><strong>
					Note
				</strong></div></div><div class="fig"><p>
                </p><ul class="ul ">
                    <li class="li">
                        <p>Controls in custom extensions must be surrounded by a <code>FormContainer</code>.</p>
                    </li>
                    <li class="li">
                        <p>You must provide stable IDs for the custom input fields.</p>
                    </li>
                </ul>
            <p></p></div></div>
            <div class="note other samplecode "><div class="collapsible-icon sap-icon"><div class="title"><strong>
					Sample Code
				</strong></div></div><div class="fig"><p><code>manifest.json</code></p><section><div class="fig fig-codeblock"><div class="copyButton"><span style="display: none;">Hidden</span></div><div class="codeblock-wrapper"><pre class="codeblock">"options": {
    "settings": {
        "contextPath": "/RootEntity",
        "variantManagement": "Control",
        "controlConfiguration": {
            "_Child/@com.sap.vocabularies.UI.v1.LineItem": {
                "tableSettings": {
                    "type": "GridTable",
                    "enableMassEdit":{
                        "customFragment": "sap.fe.core.fpmExplorer.ext.fragment.customMassEdit"
                    }
                }
            }
        }
    }
}</pre></div></div></section><p></p></div></div>
            <div class="note other samplecode "><div class="collapsible-icon sap-icon"><div class="title"><strong>
					Sample Code
				</strong></div></div><div class="fig"><p>
                </p><section><div class="fig fig-codeblock"><div class="copyButton"><span style="display: none;">Hidden</span></div><div class="codeblock-wrapper"><pre class="codeblock">&lt;core:FragmentDefinition xmlns:form="sap.ui.layout.form" xmlns:core="sap.ui.core" xmlns="sap.m"&gt;
    &lt;form:FormContainer&gt;
        &lt;form:formElements&gt;
            &lt;form:FormElement label="Execute with the custom Save"&gt;
                &lt;form:fields&gt;
                    &lt;CheckBox id="myCheckBox"/&gt;
                &lt;/form:fields&gt;
            &lt;/form:FormElement&gt;
        &lt;/form:formElements&gt;
    &lt;/form:FormContainer&gt;
&lt;/core:FragmentDefinition&gt;</pre></div></div></section>
            <p></p></div></div>
            <p>Next,
                implement the
                    <code>customMassEditSave</code> function within the list report or object page controller extension. For more information, see
                    <a href="topic/492d8a9844d4461b94406e1676027265" title="You can enable custom save functionality for the mass edit dialog." class="sap-doc">Replacing the Standard Save Functionality in the Mass Edit Dialog</a>.</p>
            <div class="note other samplecode "><div class="collapsible-icon sap-icon"><div class="title"><strong>
					Sample Code
				</strong></div></div><div class="fig"><p>
                
                
                
                
                </p><section class="collapsible"><div class="collapsible-icon sap-icon title"><strong>
						Sample Code
					</strong></div><div class="fig fig-codeblock"><div class="copyButton"><span style="display: none;">Hidden</span></div><div class="codeblock-wrapper"><pre class="codeblock">sap.ui.define(
    [
        "sap/ui/core/mvc/ControllerExtension",
        "sap/m/MessageToast",
        "sap/ui/core/Core"
    ],
    function (ControllerExtension, Filter, FilterOperator, IllustratedMessage, IllustratedMessageType, MessageToast, Core) {
        "use strict";

        return ControllerExtension.extend("sap.fe.core.fpmExplorer.OPExtend", {
            override: {
                editFlow: {
                    customMassEditSave: async function (aParameters) {
                        // aParameters.aContexts: array containing the selected contexts for the mass edit
                        // aParameters.oUpdateData: a dictionary containing the propertyPath and its updated value
                        
                        //Retrieve the control within the custom fragment
                        const isSelected = Core.byId("customMassEdit--myCheckBox").getSelected();

                        //Execute the custom save action if selected
                        if (isSelected){
                            await this.base.editFlow
                            .invokeAction("Service.customUpdateAction", {
                                contexts: aParameters.aContexts,
                                parameterValues: aParameters.oUpdateData
                            })
                            .catch(function (e){
                                MessageToast.show("Custom save failed");
                            });
                        }
                        //Do not execute the default mass-edit if custom save was selected
                        return isSelected;
                    }
                }
            }
        });
    }
);</pre></div></div></section>
            <p></p></div></div>
        </section><section class="contentInSection hidden"><h2>In this section:</h2></section><section class="familyLinks"><div class="parentLink hidden"><br><strong>Parent topic: </strong></div><div class="previousLink hidden"><br><strong>Previous: </strong></div><div class="nextLink hidden"><br><strong>Next: </strong></div></section><section class="relatedLinks "><div class="collapsible-icon sap-icon title"><h2>Related information</h2></div><ul class="fig">
        <li><a href="topic/7cc4f04364c540c397130ff92f84c3ca" title="You can edit a single object or multiple objects using a dialog in the list report page." class="sap-doc">Enabling Editing Using a Dialog (Mass Edit) in the List Report</a></li>
    </ul></section></div></section></div></body></html>