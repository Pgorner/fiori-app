<html><head></head><body><div id="d4h5-main-container" class="dk-main"><section id="loio97830de2d7314e93b5c1ee3878a17be9" class=" section topic"><div class="section-mdeditlink hidden">
				<a class="mdeditlink hidden" href="https://github.com/SAP-docs/sapui5/blob/main/docs/03_Get-Started/step-12-aggregation-binding-using-templates-97830de.md">Edit on GitHub</a>
			</div><div class="collapsible-icon sap-icon innerTitle"><h2 class="title ">Step 12: Aggregation Binding Using Templates</h2></div><div class="fig"><div class="topictitle1 title"><h2 class="title ">Step 12: Aggregation Binding Using Templates</h2></div><div class="shortdesc">Aggregation binding, also known as "list binding", lets a control bind to a list within the model data. This binding allows relative
		binding to the list entries by its child controls. </div><p>The system automatically creates as many child controls as are needed to display the data in the model using one of two approaches:</p><ul class="ul ">
				<li class="li">
					<p>It clones a template control as many times as necessary to display the data.</p>
				</li>
				<li class="li">
					<p>It uses a factory function to generate the correct control for each bound list entry, based on the data received at
						runtime.</p>
				</li>
			</ul><p></p><section>
			<h2 class="title ">Preview</h2>
			<div><div class="fig"><img src="loio16424336ab62402e8c27d5d7dac069b1_LowRes.png" title="The graphic has an explanatory text" alt="The graphic has an explanatory text" usemap="#"></div><span class="collapsible-icon sap-icon figcap title"><h2 class="title ">A third panel with a list of products is displayed</h2></span></div>
		</section><section>
			<h2 class="title ">Coding</h2>
			<p>You can view and download all files in the Demo Kit at <a href="entity/sap.ui.core.tutorial.databinding/sample/sap.ui.core.tutorial.databinding.12" title="entity/sap.ui.core.tutorial.databinding/sample/sap.ui.core.tutorial.databinding.12" class="sap-doc" alt="entity/sap.ui.core.tutorial.databinding/sample/sap.ui.core.tutorial.databinding.12">Data Binding - Step 12</a>.</p>
			<ol>
				<li class="li">
					<p>Add a new entry named <code>products</code> to the <code>models</code> entry under <code>sap.ui5</code> in the
							<code>manifest.json</code> file:</p>
					<p><span class="emphasis">webapp/manifest.json</span></p><section class="language-json"><div class="fig fig-codeblock"><div class="copyButton"><span style="display: none;">Hidden</span></div><div class="codeblock-wrapper"><pre class="codeblock">...
	"sap.ui5": {
		"handleValidation": true,
		"dependencies": {
			"minUI5Version": "1.120.0",
			"libs": {
				"sap.m": {},
				"sap.ui.core": {},
				"sap.ui.layout": {}
			}
		},
		"models": {
			"": {
				"type": "sap.ui.model.json.JSONModel",
				"uri": "./model/data.json"
			},<span class="emphasis">
			"products" : {
				"type": "sap.ui.model.json.JSONModel",
				"uri": "./model/Products.json"
			},</span>
			"i18n": {
				"type": "sap.ui.model.resource.ResourceModel",
				"settings": {
					"bundleName": "ui5.databinding.i18n.i18n",
					"supportedLocales": [
						"",
						"de"
					],
					"fallbackLocale": ""
				}
			}
		},
...</pre></div></div></section><p></p>
				</li>
				<li class="li">
					<p>Create a new file named <code>Products.json</code> in the <code>model</code> folder. Enter the data for the
						products:</p>
					<p><span class="emphasis">webapp/model/Products.json (New)</span></p><section class="language-json"><div class="fig fig-codeblock"><div class="copyButton"><span style="display: none;">Hidden</span></div><div class="codeblock-wrapper"><pre class="codeblock"><span class="emphasis">{ "Products": [ {
     "ProductID": 1,
     "ProductName": "Chai",
     "SupplierID": 1,
     "CategoryID": 1,
     "QuantityPerUnit": "10 boxes x 20 bags",
     "UnitPrice": "18.0000",
     "UnitsInStock": 39,
     "UnitsOnOrder": 0,
     "ReorderLevel": 10,
     "Discontinued": false
    }, {
     "ProductID": 2,
     "ProductName": "Chang",
     "SupplierID": 1,
     "CategoryID": 1,
     "QuantityPerUnit": "24 - 12 oz bottles",
     "UnitPrice": "19.0000",
     "UnitsInStock": 17,
     "UnitsOnOrder": 40,
     "ReorderLevel": 25,
     "Discontinued": true
    }, {
     "ProductID": 3,
     "ProductName": "Aniseed Syrup",
     "SupplierID": 1,
     "CategoryID": 2,
     "QuantityPerUnit": "12 - 550 ml bottles",
     "UnitPrice": "10.0000",
     "UnitsInStock": 0,
     "UnitsOnOrder": 70,
     "ReorderLevel": 25,
     "Discontinued": false
    }, {
     "ProductID": 4,
     "ProductName": "Chef Anton's Cajun Seasoning",
     "SupplierID": 2,
     "CategoryID": 2,
     "QuantityPerUnit": "48 - 6 oz jars",
     "UnitPrice": "22.0000",
     "UnitsInStock": 53,
     "UnitsOnOrder": 0,
     "ReorderLevel": 0,
     "Discontinued": false
    }, {
     "ProductID": 5,
     "ProductName": "Chef Anton's Gumbo Mix",
     "SupplierID": 2,
     "CategoryID": 2,
     "QuantityPerUnit": "36 boxes",
     "UnitPrice": "21.3500",
     "UnitsInStock": 0,
     "UnitsOnOrder": 0,
     "ReorderLevel": 0,
     "Discontinued": true
    }]
  }</span></pre></div></div></section><p></p>
				</li>
				<li class="li">
					<p>In the <code>App.view.xml</code> file, add a new panel with an <code>sap.m.List</code> control containing the<code>
							sap.m.ObjectListItem</code> template control as shown below. Note that the template control is only present once in the
						XML view. It's automatically cloned for each entry in the products' JSON model.</p>
					<p><span class="emphasis">webapp/view/App.view.xml</span></p><section class="lang-xml"><div class="fig fig-codeblock"><div class="copyButton"><span style="display: none;">Hidden</span></div><div class="codeblock-wrapper"><pre class="codeblock">...
<span class="emphasis">	&lt;Panel headerText="{i18n&gt;panel3HeaderText}" class="sapUiResponsiveMargin" width="auto"&gt;
		&lt;List headerText="{i18n&gt;productListTitle}" items="{products&gt;/Products}"&gt;
			&lt;items&gt;
				&lt;ObjectListItem title="{products&gt;ProductName}"
					number="{
						parts: [
							{path: 'products&gt;UnitPrice'},
							{path: '/currencyCode'}
						],
						type: 'sap.ui.model.type.Currency',
						formatOptions: { showMeasure: false }
					}"
					numberUnit="{/currencyCode}"&gt;
					&lt;attributes&gt;
						&lt;ObjectAttribute text="{products&gt;QuantityPerUnit}"/&gt;
						&lt;ObjectAttribute title="{i18n&gt;stockValue}"
							text="{
								parts: [
									{path: 'products&gt;UnitPrice'},
									{path: 'products&gt;UnitsInStock'},
									{path: '/currencyCode'}
								],
								formatter: '.formatStockValue'
							}"/&gt;
					&lt;/attributes&gt;
				&lt;/ObjectListItem&gt;
			&lt;/items&gt;
		&lt;/List&gt;
	&lt;/Panel&gt;</span>
&lt;/mvc:View&gt;</pre></div></div></section><p></p>
				</li>
				<li class="li">
					<p>Also, add another formatter to the <code>App.controller.js</code> file to calculate the value of the stock of each
						product.</p>
					<p><span class="emphasis">webapp/controller/App.controller.js</span></p><section class="lang-js"><div class="fig fig-codeblock"><div class="copyButton"><span style="display: none;">Hidden</span></div><div class="codeblock-wrapper"><pre class="codeblock">sap.ui.define([
	"sap/m/library",
	"sap/ui/core/mvc/Controller"<span class="emphasis">,
	"sap/ui/model/type/Currency"</span>
], (mobileLibrary, Controller<span class="emphasis">, Currency</span>) =&gt; {
	"use strict";

	return Controller.extend("ui5.databinding.controller.App", {
		formatMail(sFirstName, sLastName) {
			const oBundle = this.getView().getModel("i18n").getResourceBundle();

			return mobileLibrary.URLHelper.normalizeEmail(
				sFirstName + "." + sLastName + "@example.com",
				oBundle.getText("mailSubject", [sFirstName]),
				oBundle.getText("mailBody"));
		}<span class="emphasis">,

		formatStockValue(fUnitPrice, iStockLevel, sCurrCode) {
			const oCurrency = new Currency();

			return oCurrency.formatValue([fUnitPrice * iStockLevel, sCurrCode], "string");
		}</span>
	});
});</pre></div></div></section><p></p>
				</li>
				<li class="li">
					<p>Lastly, add the missing texts to the <code>i18n.properties</code> and <code>i18n_de.properties</code> files. These texts are used in
						the newly added UI elements.</p>
					<p><span class="emphasis">webapp/i18n/i18n.properties</span></p><section class="lang-prefs"><div class="fig fig-codeblock"><div class="copyButton"><span style="display: none;">Hidden</span></div><div class="codeblock-wrapper"><pre class="codeblock">... 
# Screen titles
panel1HeaderText=Data Binding Basics
panel2HeaderText=Address Details
<span class="emphasis">panel3HeaderText=Aggregation Binding</span>

...

<span class="emphasis"># Product list
productListTitle=Product List
stockValue=Current Stock Value</span></pre></div></div></section><p></p>
					<p><span class="emphasis">webapp/i18n/i18n_de.properties</span></p><section class="lang-prefs"><div class="fig fig-codeblock"><div class="copyButton"><span style="display: none;">Hidden</span></div><div class="codeblock-wrapper"><pre class="codeblock">...
# Screen titles
panel1HeaderText=Data Binding Grundlagen
panel2HeaderText=Adressdetails
<span class="emphasis">panel3HeaderText=Aggregation Binding</span>

...

<span class="emphasis"># Product list
productListTitle=Artikelliste
stockValue=Lagerbestand Wert</span></pre></div></div></section><p></p>
				</li>
			</ol>
		</section><section class="contentInSection hidden"><h2>In this section:</h2></section><section class="familyLinks"><div class="parentLink"><br><strong>Parent topic: </strong><a href="topic/e5310932a71f42daa41f3a6143efca9c">Data Binding Tutorial</a></div><div class="previousLink"><br><strong>Previous: </strong><a href="topic/b8c4e534cdb440e9a5bbff86f9572bd6">Step 11: Validation Using sap/ui/core/Messaging</a></div><div class="nextLink"><br><strong>Next: </strong><a href="topic/6c7c5c266b534e7ea9a28f861dc515f5">Step 13: Element Binding</a></div></section><section class="relatedLinks "><div class="collapsible-icon sap-icon title"><h2>Related information</h2></div><ul class="fig">
		<li><a href="topic/91f057786f4d1014b6dd926db0e91070" title="List binding (or aggregation binding) is used to automatically create child controls according to model data." class="sap-doc">List Binding (Aggregation Binding)</a></li>
	</ul></section></div></section></div></body></html>