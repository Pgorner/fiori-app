<html><head></head><body><div id="d4h5-main-container" class="dk-main"><section id="loioe5200ee755f344c8aef8efcbab3308fb" class=" section topic"><div class="section-mdeditlink hidden">
				<a class="mdeditlink hidden" href="https://github.com/SAP-docs/sapui5/blob/main/docs/03_Get-Started/step-30-routing-and-navigation-e5200ee.md">Edit on GitHub</a>
			</div><div class="collapsible-icon sap-icon innerTitle"><h2 class="title ">Step 30: Routing and Navigation</h2></div><div class="fig"><div class="topictitle1 title"><h2 class="title ">Step 30: Routing and Navigation</h2></div><div class="shortdesc">So far, we have put all app content on one single page. As we add more and more
		features, we want to split the content and put it on separate pages.</div><p> In this step, we will use the SAPUI5 navigation features
			to load and show a separate detail page that we can later use to display details for an
			invoice. In the previous steps, we defined the page directly in the app view so that it
			is displayed when the app is loaded. We will now use the SAPUI5 router class to load
			the pages and update the URL for us automatically. We specify a routing configuration
			for our app and create a separate view for each page of the app, then we connect the
			views by triggering navigation events.</p><section>
			<h2 class="title ">Preview</h2>
			<div><div class="fig"><img src="loio94152a595fe24d45b12223e0abcccb9c_LowRes.png" title="A page consisting of Walkthrough - Details header and Invoice as body text
					" alt="A page consisting of Walkthrough - Details header and Invoice as body text
					" usemap="#"></div><span class="collapsible-icon sap-icon figcap title"><h2 class="title ">A second page is added to display the invoice</h2></span></div>
		</section><section id="section_ips_rvh_tyb">
			<h2 class="title ">Coding</h2>
			<p>You can view and download all files at <a href="entity/sap.m.tutorial.walkthrough/sample/sap.m.tutorial.walkthrough.30" title="entity/sap.m.tutorial.walkthrough/sample/sap.m.tutorial.walkthrough.30" class="sap-doc" alt="entity/sap.m.tutorial.walkthrough/sample/sap.m.tutorial.walkthrough.30">Walkthrough - Step 30</a>.</p>
		</section><section id="section_jps_rvh_tyb">
			<h2 class="title ">webapp/manifest.json</h2>
			<section class="language-json"><div class="fig fig-codeblock"><div class="copyButton"><span style="display: none;">Hidden</span></div><div class="codeblock-wrapper"><pre class="codeblock">{
  ...
  "sap.ui5": {
  ...
    <span class="emphasis">"routing": {
      "config": {
        "routerClass": "sap.m.routing.Router",
        "type": "View",
        "viewType": "XML",
        "path": "ui5.walkthrough.view",
        "controlId": "app",
        "controlAggregation": "pages"
      },
      "routes": [
        {
          "pattern": "",
          "name": "overview",
          "target": "overview"
        },
        {
          "pattern": "detail",
          "name": "detail",
          "target": "detail"
        }
      ],
      "targets": {
        "overview": {
          "id": "overview",
          "name": "Overview"
        },
        "detail": {
          "id": "detail",
          "name": "Detail"
        }
      }
    }</span>
  }
}</pre></div></div></section>
			<p>We add a new "routing" section to the <code>sap.ui5</code> part of the descriptor. There are three subsections that define the
				routing and navigation structure of the app: </p><ul class="ul ">
					<li class="li">
						<p><code>config</code></p>
						<p>This section contains the global router configuration and default values that apply for all routes and targets. We define
							the router class that we want to use and where our views are located in the app. To load and display views automatically,
							we also specify which control is used to display the pages and what aggregation should be filled when a new page is
							displayed.</p>
					</li>
					<li class="li">
						<p><code>routes</code></p>
						<p>Each route defines a name, a pattern, and one or more targets to navigate to when the route has been hit. The pattern is
							basically the URL part that matches to the route, we define two routes for our app. The first one is a default route that
							will show the overview page with the content from the previous steps, and the second is the detail route with the URL
							pattern <code>detail</code> that will show a new page.</p>
					</li>
					<li class="li">
						<p><code>targets</code></p>
						<p> A target defines a view, or even another component, that is displayed; it is associated with one or more routes, and it can also be
							displayed manually from within the app. Whenever a target is displayed, the corresponding view is loaded and shown in the
							app. In our app we simply define two targets with a view name that corresponds to the target name. </p>
					</li>
				</ul>
			<p></p>
		</section><section>
			<h2 class="title ">webapp/Component.js</h2>
			<section class="lang-js"><div class="fig fig-codeblock"><div class="copyButton"><span style="display: none;">Hidden</span></div><div class="codeblock-wrapper"><pre class="codeblock">sap.ui.define([
	"sap/ui/core/UIComponent",
	"sap/ui/model/json/JSONModel"
], (UIComponent, JSONModel) =&gt; {
	"use strict";

	return UIComponent.extend("ui5.walkthrough.Component", {

		metadata: {
			interfaces: ["sap.ui.core.IAsyncContentCreation"],
			manifest: "json"
		},

		init() {
			// call the init function of the parent
			UIComponent.prototype.init.apply(this, arguments);

			// set data model
			const oData = {
				recipient: {
					name: "World"
				}
			};
			const oModel = new JSONModel(oData);
			this.setModel(oModel);

			<span class="emphasis">// create the views based on the url/hash
			this.getRouter().initialize();</span>
		}
	});
});</pre></div></div></section>
			<p>In the component initialization method, we now add a call to initialize the router.
				We do not need to instantiate the router manually, it is automatically instantiated
				based on our <code>AppDescriptor</code> configuration and assigned to the
				component.</p>
			<p>Initializing the router will evaluate the current URL and load the corresponding view automatically. This is done with the help of the routes
				and targets that have been configured in the <code>manifest.json</code>, also known as the <span class="emphasis">app descriptor</span>. If
				a route has been hit, the view of its corresponding target is loaded and displayed.</p>
		</section><section>
			<h2 class="title ">webapp/view/Overview.view.xml (New)</h2>
			<section class="lang-xml"><div class="fig fig-codeblock"><div class="copyButton"><span style="display: none;">Hidden</span></div><div class="codeblock-wrapper"><pre class="codeblock"><span class="emphasis">&lt;mvc:View
    controllerName="ui5.walkthrough.controller.App"
    xmlns="sap.m"
    xmlns:mvc="sap.ui.core.mvc"
    displayBlock="true"&gt;
    &lt;Page title="{i18n&gt;homePageTitle}"&gt;
        &lt;content&gt;
            &lt;mvc:XMLView viewName="ui5.walkthrough.view.HelloPanel" /&gt;
            &lt;mvc:XMLView viewName="ui5.walkthrough.view.InvoiceList" /&gt;
        &lt;/content&gt;
    &lt;/Page&gt;
&lt;/mvc:View&gt;</span></pre></div></div></section>
			<p>We move the content of the previous steps from the <code>App</code> view to a new <code>Overview</code> view. For simplicity, we do not
				change the controller as it only contains our helper method to open the dialog, that means we reuse the controller
					<code>ui5.walkthrough.controller.App</code> for two different views (for the new overview and for the app view). However, two
				instances of that controller are instantiated at runtime. In general, one instance of a controller is instantiated for each view that
				references the controller.</p>
		</section><section>
			<h2 class="title ">webapp/view/App.view.xml</h2>
			<section class="lang-xml"><div class="fig fig-codeblock"><div class="copyButton"><span style="display: none;">Hidden</span></div><div class="codeblock-wrapper"><pre class="codeblock">&lt;mvc:View
    controllerName="ui5.walkthrough.controller.App"
    xmlns="sap.m"
    xmlns:mvc="sap.ui.core.mvc"
    displayBlock="true"&gt;
    <span class="emphasis">&lt;Shell&gt;
        &lt;App
            class="myAppDemoWT"
            id="app"/&gt;
    &lt;/Shell&gt;</span>
&lt;/mvc:View&gt;</pre></div></div></section>
			<p>Our <code>App</code> view is now only containing the empty app tag. The router
				will automatically add the view that corresponds to the current URL into the app
				control. The router identifies the app control with the ID that corresponds to the
				property <code>controlId: "app"</code> in the
				<code>AppDescriptor</code>.</p>
		</section><section>
			<h2 class="title ">webapp/view/Detail.view.xml (New)</h2>
			<section class="lang-xml"><div class="fig fig-codeblock"><div class="copyButton"><span style="display: none;">Hidden</span></div><div class="codeblock-wrapper"><pre class="codeblock"><span class="emphasis">&lt;mvc:View
	xmlns="sap.m"
	xmlns:mvc="sap.ui.core.mvc"&gt;
	&lt;Page
		title="{i18n&gt;detailPageTitle}"&gt;
		&lt;ObjectHeader title="Invoice"/&gt;
	&lt;/Page&gt;
&lt;/mvc:View&gt;</span></pre></div></div></section>
			<p>Now we add a second view for the detail view. It only contains a page and an
					<code>ObjectHeader</code> control that displays the static text
					<span class="ph uicontrol">Invoice</span> for now. </p>
		</section><section>
			<h2 class="title ">webapp/i18n/i18n.properties</h2>
			<section class="lang-prefs"><div class="fig fig-codeblock"><div class="copyButton"><span style="display: none;">Hidden</span></div><div class="codeblock-wrapper"><pre class="codeblock">…
# Invoice List
invoiceListTitle=Invoices
invoiceStatusA=New
invoiceStatusB=In Progress
invoiceStatusC=Done

<span class="emphasis"># Detail Page
detailPageTitle=Walkthrough - Details</span></pre></div></div></section>
			<p>We add a new string to the resource bundle for the detail page title.</p>
		</section><section>
			<h2 class="title ">webapp/view/InvoiceList.view.xml</h2>
			<section class="lang-xml"><div class="fig fig-codeblock"><div class="copyButton"><span style="display: none;">Hidden</span></div><div class="codeblock-wrapper"><pre class="codeblock">&lt;mvc:View
    controllerName="ui5.walkthrough.controller.InvoiceList"
    xmlns="sap.m"
    xmlns:core="sap.ui.core"
    xmlns:mvc="sap.ui.core.mvc"&gt;
    ...
        &lt;items&gt;
            &lt;ObjectListItem
                title="{invoice&gt;Quantity} x {invoice&gt;ProductName}"
                number="{
                    parts: [
                        'invoice&gt;ExtendedPrice',
                        'view&gt;/currency'
                    ],
                    type: 'sap.ui.model.type.Currency',
                    formatOptions: {
                        showMeasure: false
                    }
                }"
                numberUnit="{view&gt;/currency}"
                numberState="{= ${invoice&gt;ExtendedPrice} &gt; 50 ? 'Error' : 'Success' }"
                <span class="emphasis">type="Navigation"
                press=".onPress"</span> &gt;
                &lt;firstStatus&gt;
                    &lt;ObjectStatus
                        core:require="{
                          Formatter: 'ui5/walkthrough/model/formatter'
                        }"
                        text="{
                            path: 'invoice&gt;Status',
                            formatter: 'Formatter.statusText.bind($controller)'
                        }"/&gt;
                &lt;/firstStatus&gt;
            &lt;/ObjectListItem&gt;
        &lt;/items&gt;
    &lt;/List&gt;
&lt;/mvc:View&gt;</pre></div></div></section>
			<p>In the invoice list view we add a press event to the list item and set the item type
				to <code>Navigation</code> so that the item can actually be clicked.</p>
		</section><section>
			<h2 class="title ">webapp/controller/InvoiceList.controller.js</h2>
			<section class="lang-js"><div class="fig fig-codeblock"><div class="copyButton"><span style="display: none;">Hidden</span></div><div class="codeblock-wrapper"><pre class="codeblock">sap.ui.define([
	"sap/ui/core/mvc/Controller",
	"sap/ui/model/json/JSONModel",
	"../model/formatter",
	"sap/ui/model/Filter",
	"sap/ui/model/FilterOperator"
], (Controller, JSONModel, Filter, FilterOperator) =&gt; {
	"use strict";

	return Controller.extend("ui5.walkthrough.controller.InvoiceList", {

		…

		<span class="emphasis">onPress() {
			const oRouter = this.getOwnerComponent().getRouter();
			oRouter.navTo("detail");
		}</span>
	});
});</pre></div></div></section>
			<p>We add the event handler function to the controller of our invoices list. Now it is
				time to navigate to the detail page by clicking an item in the invoice list. We
				access the router instance for our app by calling the helper method
					<code>getOwnerComponent().getRouter()</code>. On the router we call the
					<code>navTo</code> method to navigate to the <code>detail</code> route
				that we specified in the routing configuration.</p>
			<p>You should now see the detail page when you click an item in the list of
				invoices.</p>
		</section><section>
			<h2 class="title "> Conventions</h2>
			<ul class="ul ">
				<li class="li">
					<p>Define the routing configuration in the descriptor</p>
				</li>
				<li class="li">Initialize the router at the end of your <code>Component#init</code> function</li>
			</ul>
		</section><section class="contentInSection hidden"><h2>In this section:</h2></section><section class="familyLinks"><div class="parentLink"><br><strong>Parent topic: </strong><a href="topic/3da5f4be63264db99f2e5b04c5e853db">Walkthrough Tutorial (JavaScript)</a></div><div class="previousLink"><br><strong>Previous: </strong><a href="topic/1ff250c2038849f5991209f7e6c36f1f">Step 29: Debugging Tools</a></div><div class="nextLink"><br><strong>Next: </strong><a href="topic/2366345a94f64ec1a80f9d9ce50a59ef">Step 31: Routing with Parameters</a></div></section><section class="relatedLinks "><div class="collapsible-icon sap-icon title"><h2>Related information</h2></div><ul class="fig">
		<li><a href="topic/3d18f20bd2294228acb6910d8e8a5fb5" title="SAPUI5 offers hash-based navigation, which allows you to build single-page apps where the navigation is done by changing the hash. In this way the browser does not have to reload the page; instead there is a callback to which the app and especially the affected view can react. A hash string is parsed and matched against patterns which will then inform the handlers." class="sap-doc">Routing and Navigation</a></li>
		<li><a href="topic/1b6dcd39a6a74f528b27ddb22f15af0d" title="SAPUI5 comes with a powerful routing API that helps you control the state of your application efficiently. This tutorial will illustrate all major features and APIs related to navigation and routing in SAPUI5 apps by creating a simple and easy to understand mobile app. It represents a set of best practices for applying the navigation and routing features of SAPUI5 to your applications." class="sap-doc">Tutorial: Navigation and Routing</a></li>
		<li><a href="api/sap.m.routing.Router" title="api/sap.m.routing.Router" class="sap-doc" alt="api/sap.m.routing.Router">API Reference: sap.m.routing.Router</a></li>
		<li><a href="entity/sap.m.routing.Router" title="entity/sap.m.routing.Router" class="sap-doc" alt="entity/sap.m.routing.Router">Samples: sap.m.routing.Router
			</a></li>
	</ul></section></div></section></div></body></html>