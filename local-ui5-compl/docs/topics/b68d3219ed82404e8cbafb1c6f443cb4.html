<html><head></head><body><div id="d4h5-main-container" class="dk-main"><section id="loiob68d3219ed82404e8cbafb1c6f443cb4" class=" section topic"><div class="section-mdeditlink hidden">
				<a class="mdeditlink hidden" href="https://github.com/SAP-docs/sapui5/blob/main/docs/03_Get-Started/step-25-remote-odata-service-typescript-b68d321.md">Edit on GitHub</a>
			</div><div class="collapsible-icon sap-icon innerTitle"><h2 class="title ">Step 25: Remote OData Service (TypeScript)</h2></div><div class="fig"><div class="topictitle1 title"><h2 class="title ">Step 25: Remote OData Service (TypeScript)</h2></div><div class="shortdesc">So far we have worked with local JSON data, but now we will access a real OData
		service to visualize remote data.</div><section id="section_kgq_kvp_r2b">
			<p>In the real world, data often resides on remote servers and is accessed via an OData
				service. We will add a data source configuration to the manifest and replace the
				JSONModel type for our <code>invoice</code> model with the publicly available
				Northwind OData service to visualize remote data. You will be surprised how little
				needs to be changed in order to make this work!</p>
			<div class="note   "><div class="collapsible-icon sap-icon"><div class="title"><strong>
					Note
				</strong></div></div><div class="fig"><p>If you cannot get it to run, don't worry too much, the remaining steps will also
				work with the local JSON data you have used so far. In <a href="topic/bae9d90d2e9c4206889368f04edab508" title="We just ran our app against a real service, but for developing and testing our app we do not want to rely on the availability of the &quot;real&quot; service or put additional load on the system where the data service is located." class="sap-doc">Step 26: Mock Server Configuration</a>, you will learn how to simulate
				a back-end system to achieve a similar working scenario. However, you should at
				least read this chapter about remote OData services to learn about non-local data
				sources.</p></div></div>
		</section><section>
			<h2 class="title ">Preview</h2>
			<div><div class="fig"><img src="loio5b76bb4b15eb44e1862d0b6c1c802571_LowRes.png" title="The graphic has an explanatory text." alt="The graphic has an explanatory text." usemap="#"></div><span class="collapsible-icon sap-icon figcap title"><h2 class="title ">Products from the OData invoices test service are now shown within our
					app</h2></span></div>
		</section><section id="section_umn_sdl_syb">
			<h2 class="title ">Coding</h2>
			<p>You can view all files at <a href="https://github.com/sap-samples/ui5-typescript-walkthrough/tree/main/steps/25" title="https://github.com/sap-samples/ui5-typescript-walkthrough/tree/main/steps/25" class="external-link" target="_blank" rel="noopener">OpenUI5 TypeScript Walkthrough - Step 25: Remote OData Service</a> and <a href="https://sap-samples.github.io/ui5-typescript-walkthrough/ui5-typescript-walkthrough-step-25.zip" title="https://sap-samples.github.io/ui5-typescript-walkthrough/ui5-typescript-walkthrough-step-25.zip" class="external-link" target="_blank" rel="noopener">download the solution as a zip file</a>.</p>
		</section><section id="section_q14_5fl_syb">
			<h2 class="title ">package.json</h2>
			<p>In this step, we want to use the publicly available Northwind OData service located at
					<code>https://services.odata.org/V2/Northwind/Northwind.svc/</code>. Therefore, our URI points to the official Northwind OData
				service. In order to avoid cross-origin resource sharing, the typical procedure is to use a proxy in UI5 Tooling and maintain only a
				path in the <code>URI</code> property of the data source of our app.</p>
			<p>A bunch of proxy solutions are available from the UI5 community as <a href="https://bestofui5.org/#/packages?tokens=proxy:tag" title="https://bestofui5.org/#/packages?tokens=proxy:tag" class="external-link" target="_blank" rel="noopener">UI5 Tooling custom middleware extensions</a>. In this tutorial we'll use <a href="https://bestofui5.org/#/packages/ui5-middleware-simpleproxy" title="https://bestofui5.org/#/packages/ui5-middleware-simpleproxy" class="external-link" target="_blank" rel="noopener">ui5-middleware-simpleproxy</a>.</p>
			<p>Open a new terminal window in your app root folder and execute the following command:</p>
			<p><code>npm i -D ui5-middleware-simpleproxy</code></p>
			<p>This will install this package as a new development dependency in your <code>package.json</code>.</p>
		</section><section id="section_mcv_bhl_syb">
			<h2 class="title ">ui5.yaml</h2>
			<p>We now configure the <code>ui5-middleware-simpleproxy</code> in the <code>ui5.yaml</code> file, so UI5 Tooling is used with
				this proxy when serving the app.</p>
			<p>We schedule the simpleproxy middleware after the <code>compression</code> middleware, right after the livereload middleware. The
					<code>mountPath</code> property configures which URLs will be caught by the proxy. The <code>configuration/baseUri</code>
				property stores the real server address.</p>
			<p>
				</p><section class="language-ini"><div class="fig fig-codeblock"><div class="copyButton"><span style="display: none;">Hidden</span></div><div class="codeblock-wrapper"><pre class="codeblock">specVersion: '3.0'
metadata:
  name: "ui5.walkthrough"
type: application
framework:
  name: OpenUI5
  version: "1.120.1"
  libraries:
    - name: sap.m
    - name: sap.ui.core
    - name: themelib_sap_horizon
builder:
  customTasks:
  - name: ui5-tooling-transpile-task
    afterTask: replaceVersion
server:
  customMiddleware:
  - name: ui5-tooling-transpile-middleware
    afterMiddleware: compression
  - name: ui5-middleware-serveframework
    afterMiddleware: compression
  <span class="emphasis">- name: ui5-middleware-simpleproxy
    afterMiddleware: compression
    mountPath: /V2
    configuration:
      baseUri: "https://services.odata.org"</span>
  - name: ui5-middleware-livereload
    afterMiddleware: compression</pre></div></div></section>
			<p></p>
		</section><section id="section_vmn_sdl_syb">
			<h2 class="title ">webapp/manifest.json</h2>
			<p>As a next step we need to update our <code>manifest.json</code> file, so that the remote OData service can be instantiated by the
				component.</p>
			<p>In the <code>sap.app</code> section of the descriptor file, we add a data source configuration. With the
					<code>invoiceRemote</code> key, we specify a configuration object that allows automatic model instantiation. We specify the
				type of the service (<code>OData</code>) and the model version (<code>2.0</code>).</p>
			<p>In the <code>models</code> section, we replace the content of the <code>invoice</code> model. This key is still used as model
				name when the model is automatically instantiated during the component initialization. However, the <code>invoiceRemote</code>
				value of the <code>dataSource</code> key is a reference to the data source section that we specified above. This configuration
				allows the component to retrieve the technical information for this model during the start-up of the app.</p>
			<section class="language-json"><div class="fig fig-codeblock"><div class="copyButton"><span style="display: none;">Hidden</span></div><div class="codeblock-wrapper"><pre class="codeblock">{
	...
	"sap.app": {
		...<span class="emphasis">,
		"dataSources": {
			"invoiceRemote": {
				"uri": "V2/Northwind/Northwind.svc/",
				"type": "OData",
				"settings": {
					"odataVersion": "2.0"
				}
			}
		}</span>
	},
	...
	"sap.ui5": {
		...
		"models": {
			...
			"invoice": {
<span class="emphasis">				"dataSource": "invoiceRemote"</span>
			}
		}
		...</pre></div></div></section>
			<p>Our component now automatically creates an instance of <code>sap.ui.model.odata.v2.ODataModel</code> according to the settings we
				specified above, and makes it available as a model named <code>invoice</code>. When you use the <code>invoiceRemote</code>
				data source, the <code>ODataModel</code> fetches the data from the real Northwind OData service. The invoices we receive from the
				Northwind OData service have identical properties as the JSON data we used previously (except for the <code>status</code>
				property, which is not available in the Northwind OData service).</p>
			<div class="note   "><div class="collapsible-icon sap-icon"><div class="title"><strong>
					Note
				</strong></div></div><div class="fig"><p>If you want to have a default model on the component, you can change the name of the model to an empty string in the descriptor
				file. Automatically instantiated models can be retrieved by calling <code>this.getModel</code> in the component. In the
				controllers of component-based apps you can call <code>this.getView().getModel()</code> to get the automatically instantiated
				model. For retrieving a named model you have to pass on the model name defined in the descriptor file to <code>getModel</code>,
				that is, in the component you would call <code>this.getModel("invoice")</code> to get our automatically generated
					<code>invoice</code> model that we defined in the descriptor.</p></div></div>
			<p>As our app is now bound to a remote OData service, we do not need the <code>localInvoices.json</code> file anymore; you can delete
				it.</p>
		</section><section class="contentInSection hidden"><h2>In this section:</h2></section><section class="familyLinks"><div class="parentLink"><br><strong>Parent topic: </strong><a href="topic/dad1905a07f849ce9c509721317d38d8">Walkthrough Tutorial (TypeScript)</a></div><div class="previousLink"><br><strong>Previous: </strong><a href="topic/86bbe132b9924c8496b70824af94a209">Step 24: Sorting and Grouping (TypeScript)</a></div><div class="nextLink"><br><strong>Next: </strong><a href="topic/3e1c64fd34e247afaf468a92414ed722">Step 26: Mock Server Configuration (TypeScript)</a></div></section><section class="relatedLinks "><div class="collapsible-icon sap-icon title"><h2>Related information</h2></div><ul class="fig">
		<li><a href="http://www.odata.org/" title="http://www.odata.org/" class="external-link" target="_blank" rel="noopener">OData Home Page</a></li>
		<li><a href="api/sap.ui.model.odata.v2.ODataModel" title="api/sap.ui.model.odata.v2.ODataModel" class="sap-doc" alt="api/sap.ui.model.odata.v2.ODataModel">API Reference: sap.ui.model.odata.v2.ODataModel</a></li>
		<li><a href="topic/dfe4f79843c44c40b3fb95ebffb65646" title="This section contains the most common issues that you might face when developing SAPUI5 apps and how to solve them." class="sap-doc">First-Aid Kit</a></li>
		<li><a href="https://www.npmjs.com/package/ui5-middleware-simpleproxy" title="https://www.npmjs.com/package/ui5-middleware-simpleproxy" class="external-link" target="_blank" rel="noopener">NPM Package: ui5-middleware-simpleproxy</a></li>

	</ul></section></div></section></div></body></html>