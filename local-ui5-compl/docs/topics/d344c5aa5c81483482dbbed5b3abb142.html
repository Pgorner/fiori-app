<html><head></head><body><div id="d4h5-main-container" class="dk-main"><section id="loiod344c5aa5c81483482dbbed5b3abb142" class=" section topic"><div class="section-mdeditlink hidden">
				<a class="mdeditlink hidden" href="https://github.com/SAP-docs/sapui5/blob/main/docs/06_SAP_Fiori_Elements/table-groupings-d344c5a.md">Edit on GitHub</a>
			</div><div class="collapsible-icon sap-icon innerTitle"><h2 class="title ">Table Groupings</h2></div><div class="fig"><div class="topictitle1 title"><h2 class="title ">Table Groupings</h2></div><div class="shortdesc">SAP Fiori elements
		handles table groupings automatically.</div><p>The grouping of rows is supported
			in
			analytical tables
			(<span class="ph sap-technical-name">sap.ui.Table.AnalyticalTable</span>)
			and responsive tables (<span class="ph sap-technical-name">sap.m.Table</span>). Grid tables and tree tables are not
			supported.</p><p>An example of
			row
			grouping
			in
			a table
			is shown in the following
			screenshot:</p><div><div class="fig"><img src="loiob36df776d0144730bd4ea415477f9009_LowRes.png" usemap="#"></div></div><section id="section_nzy_r1y_rgb">
			<h2 class="title ">Restrictions</h2>
			<p>For analytical tables, take the following restrictions into account:</p><ul class="ul ">
					<li class="li">
						<p>Grouping can only be activated for dimension columns.</p>
					</li>
					<li class="li">
						<p>Grouping takes place on the server. The header formatter has no effect on the grouping itself. This means that groups stay
							separate even if they have the same header after formatting.</p>
					</li>
					<li class="li">
						<p>The <code>TextArrangement</code> annotation is not supported. A property with a text property is displayed as follows:
							"m â€“ Meter". For more information, see the <span class="ph uicontrol">API Reference</span> for <a href="api/sap.ui.comp.smarttable.SmartTable/annotations/TextArrangement" title="api/sap.ui.comp.smarttable.SmartTable/annotations/TextArrangement" class="sap-doc" alt="api/sap.ui.comp.smarttable.SmartTable/annotations/TextArrangement"><code>TextArrangement</code></a>.</p>
					</li>
					<li class="li">
						<p>Displaying values with units of measure is not supported.</p>
					</li>
				</ul>
			<p></p>
		</section><section id="section_ijw_ywg_bsb" class="collapsible expanded"><div class="collapsible-icon sap-icon"><h2 class="title collapsible expanded">Additional Features in SAP Fiori Elements for OData V2</h2></div><div class="fig"><section>
				<h3 class="title ">Grouping Header Text</h3>
				
				
				
				<p>These group header formatters are automatically set by SAP Fiori elements:</p>
				<ul class="ul ">
					<li class="li">
						<p>Responsive table: Set a grouping function on the sorter: <span class="ph sap-technical-name">fnGroup of
								sap.ui.model.Sorter</span>.</p>
					</li>
					<li class="li">
						<p>Analytical table: Set property <span class="ph sap-technical-name">groupHeaderFormatter</span> of
								<span class="ph sap-technical-name">sap.ui.table.AnalyticalColumn</span>.</p>
					</li>
				</ul>
				
				
			</section><section>
				<h3 class="title ">Grouping Header Types</h3>
				<p>SAP Fiori elements supports these group header formatters:</p>
				<div class="tableWrapper "><div class="fig"><table border="1" id="table_y1r_1l2_mtb" class=" ">
						
						
						
						
						
						
						<thead>
							<tr>
								<th colspan="1" rowspan="1">OData Type</th>
								<th colspan="1" rowspan="1">SAP Display Format</th>
								<th colspan="1" rowspan="1">OData Example</th>
								<th colspan="1" rowspan="1">Unformatted</th>
								<th colspan="1" rowspan="1">Formatted</th>
								<th colspan="1" rowspan="1">Comments</th>
							</tr>
						</thead>
						<tbody>
							<tr>
								<td colspan="1" rowspan="1">Edm.DateTimeOffsetDate</td>
								<td colspan="1" rowspan="1">Date</td>
								<td colspan="1" rowspan="1">/Date(1485471600000 +0000)/</td>
								<td colspan="1" rowspan="1">Fri Jan 27 2017 00:00:00 GMT+0100 (Central European Standard Time)</td>
								<td colspan="1" rowspan="1">Jan 26, 2017</td>
								<td colspan="1" rowspan="1">UTC</td>
							</tr>
							<tr>
								<td colspan="1" rowspan="1">Edm.DateTimeOffset</td>
								<td colspan="1" rowspan="1">
								</td><td colspan="1" rowspan="1">/Date(1485471600000 +0000)/</td>
								<td colspan="1" rowspan="1">Fri Jan 27 2017 00:00:00 GMT+0100 (Central European Standard Time)</td>
								<td colspan="1" rowspan="1">Jan 27, 2017, 12:00:00 AM</td>
								<td colspan="1" rowspan="1">
							</td></tr>
							<tr>
								<td colspan="1" rowspan="1">Edm.DateTime</td>
								<td colspan="1" rowspan="1">Date</td>
								<td colspan="1" rowspan="1">/Date(1485471600000 +0000)/</td>
								<td colspan="1" rowspan="1">Fri Jan 27 2017 00:00:00 GMT+0100 (Central European Standard Time)</td>
								<td colspan="1" rowspan="1">Jan 26, 2017</td>
								<td colspan="1" rowspan="1">UTC</td>
							</tr>
							<tr>
								<td colspan="1" rowspan="1">Edm.DateTime</td>
								<td colspan="1" rowspan="1">
								</td><td colspan="1" rowspan="1">/Date(1485471600000 +0000)/</td>
								<td colspan="1" rowspan="1">Fri Jan 27 2017 00:00:00 GMT+0100 (Central European Standard Time)</td>
								<td colspan="1" rowspan="1">Jan 27, 2017, 12:00:00 AM</td>
								<td colspan="1" rowspan="1">
							</td></tr>
							<tr>
								<td colspan="1" rowspan="1">Edm.Time</td>
								<td colspan="1" rowspan="1">Time</td>
								<td colspan="1" rowspan="1">PT11H13M01S</td>
								<td colspan="1" rowspan="1">[object Object] is: {ms: 43980000, __edmType: "Edm.Time"}</td>
								<td colspan="1" rowspan="1">11:13:01 AM</td>
								<td colspan="1" rowspan="1">
							</td></tr>
							<tr>
								<td colspan="1" rowspan="1">Edm.String</td>
								<td colspan="1" rowspan="1">Date</td>
								<td colspan="1" rowspan="1">20180313</td>
								<td colspan="1" rowspan="1">20180313</td>
								<td colspan="1" rowspan="1"> Mar 13, 2018 </td>
								<td colspan="1" rowspan="1">
							</td></tr>
							<tr>
								<td colspan="1" rowspan="1">Edm.Boolean</td>
								<td colspan="1" rowspan="1">
								</td><td colspan="1" rowspan="1"> true </td>
								<td colspan="1" rowspan="1">true</td>
								<td colspan="1" rowspan="1">Yes</td>
								<td colspan="1" rowspan="1">
							</td></tr>
							<tr>
								<td colspan="1" rowspan="1">Edm.Decimal</td>
								<td colspan="1" rowspan="1">
								</td><td colspan="1" rowspan="1">10</td>
								<td colspan="1" rowspan="1">10</td>
								<td colspan="1" rowspan="1">10.000 m*</td>
								<td colspan="1" rowspan="1">Unit of measure</td>
							</tr>
							<tr>
								<td colspan="1" rowspan="1">Edm.Decimal</td>
								<td colspan="1" rowspan="1">
								</td><td colspan="1" rowspan="1"> 2498.00 </td>
								<td colspan="1" rowspan="1">2498.00</td>
								<td colspan="1" rowspan="1">2,498.00 EUR*</td>
								<td colspan="1" rowspan="1">Currency</td>
							</tr>
							<tr>
								<td colspan="1" rowspan="1">Edm.String</td>
								<td colspan="1" rowspan="1">
								</td><td colspan="1" rowspan="1">m</td>
								<td colspan="1" rowspan="1">m</td>
								<td colspan="1" rowspan="1">Meter (m)*</td>
								<td colspan="1" rowspan="1">Unit of measure and TextArrangement</td>
							</tr>
							<tr>
								<td colspan="1" rowspan="1">Edm.String</td>
								<td colspan="1" rowspan="1">
								</td><td colspan="1" rowspan="1">EUR</td>
								<td colspan="1" rowspan="1">EUR</td>
								<td colspan="1" rowspan="1">Euro (EUR)*</td>
								<td colspan="1" rowspan="1">Currency and TextArrangement</td>
							</tr>
						</tbody>
					</table></div></div>
				<p>* Units of measure or currencies in the grouping header are supported only in responsive tables.</p>
			</section></div></section><section id="section_sh2_xc4_3qb" class="collapsible expanded"><div class="collapsible-icon sap-icon"><h2 class="title collapsible expanded">Additional Features in SAP Fiori Elements for OData V4</h2></div><div class="fig"><section>
				<h3 class="title ">Table Groupings</h3>
				<p>Grouping is enabled by default for responsive columns. Ensure that all sortable columns can be grouped.</p>
				<p>You can disable grouping in a responsive table using the table personalization in the <code>manifest.json</code> as shown in
					the following sample code:</p>
				<div class="note other samplecode "><div class="collapsible-icon sap-icon"><div class="title"><strong>
					Sample Code
				</strong></div></div><div class="fig"><p>
					</p><section><div class="fig fig-codeblock"><div class="copyButton"><span style="display: none;">Hidden</span></div><div class="codeblock-wrapper"><pre class="codeblock">"_Item/@com.sap.vocabularies.UI.v1.LineItem": {
     "tableSettings": {
          "type": "ResponsiveTable",
          "condensedTableLayout": true,
          "personalization": {
               "column": true,
               "sort": false,
               "group": false
          },
          ...
     }
}</pre></div></div></section>
				<p></p></div></div>
			</section><section>
				<h3 class="title ">Defining Default Groups and Totals</h3>
				<p>You can define default groups to be loaded
					when the application is launched. For analytical tables, you
					can also define totals.</p>
				<p>You can define one or several group levels. To do so, use the <code>PresentationVariant</code> annotation. For details about
					how to use a particular <code>PresentationVariant</code> (PV) or <code>SelectionPresentationVariant</code> (SPV), see
						<a href="topic/49a6ba5b8d6946208322a9f7e16837c2" title="SAP Fiori elements allows you to specify a UI.SelectionPresentationVariant." class="sap-doc">Configuring Default Settings (Visualizations, Sort Order, Filter Values)</a>.</p>
				<p>The default SPV or PV is read as follows:</p>
				<div class="note other samplecode "><div class="collapsible-icon sap-icon"><div class="title"><strong>
					Sample Code
				</strong></div></div><div class="fig"><p>XML
					Annotation</p><section class="collapsible lang-xml"><div class="collapsible-icon sap-icon title"><strong>
						Sample Code
					</strong></div><div class="fig fig-codeblock"><div class="copyButton"><span style="display: none;">Hidden</span></div><div class="codeblock-wrapper"><pre class="codeblock">&lt;Annotations Target="sap.fe.managepartners.ManagePartnersService.EntityContainer/BusinessPartners"&gt;
&lt;Annotation Term="UI.PresentationVariant"&gt;
  &lt;Record Type="UI.PresentationVariantType"&gt;
    &lt;PropertyValue Property="GroupBy"&gt;
      &lt;Collection&gt;
        &lt;PropertyPath&gt;Country&lt;/PropertyPath&gt;
      &lt;/Collection&gt;
    &lt;/PropertyValue&gt;
    &lt;PropertyValue Property="Total"&gt;
      &lt;Collection&gt;
        &lt;PropertyPath&gt;SalesAmount&lt;/PropertyPath&gt;
      &lt;/Collection&gt;
    &lt;/PropertyValue&gt;
    &lt;PropertyValue Property="Visualizations"&gt;
      &lt;Collection&gt;
        &lt;AnnotationPath&gt;@UI.Chart&lt;/AnnotationPath&gt;
        &lt;AnnotationPath&gt;@UI.LineItem&lt;/AnnotationPath&gt;
      &lt;/Collection&gt;
    &lt;/PropertyValue&gt;
  &lt;/Record&gt;
&lt;/Annotation&gt;
&lt;/Annotations&gt;</pre></div></div></section><p></p></div></div>
				<div class="note other samplecode "><div class="collapsible-icon sap-icon"><div class="title"><strong>
					Sample Code
				</strong></div></div><div class="fig"><p>CAP CDS
					Annotation</p><section class="collapsible"><div class="collapsible-icon sap-icon title"><strong>
						Sample Code
					</strong></div><div class="fig fig-codeblock"><div class="copyButton"><span style="display: none;">Hidden</span></div><div class="codeblock-wrapper"><pre class="codeblock">UI.PresentationVariant : {
    GroupBy : [
        Country
    ],
    Total : [
        SalesAmount
    ],
    Visualizations : [
        '@UI.Chart',
        '@UI.LineItem',
    ]
}</pre></div></div></section><p></p></div></div>
				<div class="note caution  "><div class="collapsible-icon sap-icon"><div class="title"><strong>
					Caution
				</strong></div></div><div class="fig"><p>
					</p><p>You must provide a <code>PresentationVariant.Visualizations</code> entry. Otherwise, the presentation variant won't be
						considered.</p>
					<p>The chart visualization is only rendered in the analytical list page template. In the list report, only the line item is
						rendered.</p>
				<p></p></div></div>
				<p>You can see the grouping applied on the <span class="uinolabel">Country</span> property, and the totals for the <span class="uinolabel">Sales
						Amount</span> in the following screenshot:</p>
				<div><div class="fig"><img src="loioae1b1711ccc14ae08145de8c1290a11f_LowRes.png" usemap="#"></div></div>
				<p>End users can always change groups and totals via the column header and the aggregation icon of the analytical table:</p>
				<div><div class="fig"><img src="loiod94d57a223cc416d80d0663ae3c8219f_LowRes.png" usemap="#"></div></div>
				
				<div class="note   "><div class="collapsible-icon sap-icon"><div class="title"><strong>
					Note
				</strong></div></div><div class="fig"><p>
					</p><p>If no
						<code>PresentationVariant</code>
						is
						defined for the analytical table, a total is provided by default for all the columns with an aggregatable
						 property.</p>
					<p>If a PresentationVariant is defined, a total is provided for the columns with
						aggregatable
						properties listed in the <code>Total</code> attribute of the <code>PresentationVariant</code>.</p>
					<p>If the <code>Total</code> attribute is defined but empty,
						no
						total
						is
						provided. If the <code>Total</code> attribute is missing, a total is provided by default for all the columns with an
						aggregatable
						property.</p>
				<p></p></div></div>
				
				
				<div class="note restriction  "><div class="collapsible-icon sap-icon"><div class="title"><strong>
					Restriction
				</strong></div></div><div class="fig"><p>
					</p><ul class="ul ">
						<li class="li">
							<p>Filtering on aggregatable properties is not supported and is also removed from the filter bar and from the filter
								dialog of the table.</p>
						</li>
						<li class="li">
							<p>If a group has multiple units or currencies in its data, the total cannot be computed directly. In this case, the table
								displays a <span class="ph uicontrol">Show Details</span> link which opens a popup. The total or subtotal amounts per unit or per
								currency are shown in the popup.</p>
						</li>
						<li class="li">
							<p>Only one level of grouping is supported in a responsive table. If you have specified multiple levels through a
									<code>PresentationVariant</code>, for example, only the first level is applied.</p>
						</li>
					</ul>
				<p></p></div></div>
				
			</section></div></section><section class="contentInSection hidden"><h2>In this section:</h2></section><section class="familyLinks"><div class="parentLink hidden"><br><strong>Parent topic: </strong></div><div class="previousLink hidden"><br><strong>Previous: </strong></div><div class="nextLink hidden"><br><strong>Next: </strong></div></section><section class="hidden relatedLinks "><div class="collapsible-icon sap-icon title"><h2>Related information</h2></div><ul class="fig"></ul></section></div></section></div></body></html>