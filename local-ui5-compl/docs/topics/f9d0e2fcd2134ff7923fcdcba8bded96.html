<html><head></head><body><div id="d4h5-main-container" class="dk-main"><section id="loiof9d0e2fcd2134ff7923fcdcba8bded96" class=" section topic"><div class="section-mdeditlink hidden">
				<a class="mdeditlink hidden" href="https://github.com/SAP-docs/sapui5/blob/main/docs/03_Get-Started/step-9-component-configuration-typescript-f9d0e2f.md">Edit on GitHub</a>
			</div><div class="collapsible-icon sap-icon innerTitle"><h2 class="title ">Step 9: Component Configuration (TypeScript)</h2></div><div class="fig"><div class="topictitle1 title"><h2 class="title ">Step 9: Component Configuration (TypeScript)</h2></div><div class="shortdesc">After we have introduced all three parts of the Model-View-Controller (MVC) concept,
		we now come to another important structural aspect of SAPUI5. </div><p>In this step, we will encapsulate all UI assets in a component that is independent from
			our <code>index.html</code> file. Components are independent and reusable parts used
			in SAPUI5 applications.
			Whenever we access resources, we will now do this relatively to the component (instead
			of relatively to the <code>index.html</code>). This architectural change allows our
			app to be used in more flexible environments than our static <code>index.html</code>
			page, such as in a surrounding container like the SAP Fiori launchpad.</p><section>
			<h2 class="title ">Preview</h2>
			<div><div class="fig"><img src="loiocac9bcfa902c44c496d115acd7ee7376_LowRes.png" title="The graphic has an explanatory text" alt="The graphic has an explanatory text" usemap="#"></div><span class="collapsible-icon sap-icon figcap title"><h2 class="title ">An input field and a description displaying the value of the input field (No
					visual changes to last step)</h2></span></div>
		</section><section>
			<h2 class="title ">Coding</h2>
			<p>You can view all files at <a href="https://github.com/sap-samples/ui5-typescript-walkthrough/tree/main/steps/09" title="https://github.com/sap-samples/ui5-typescript-walkthrough/tree/main/steps/09" class="external-link" target="_blank" rel="noopener">OpenUI5 TypeScript Walkthrough - Step 9: Component Configuration</a> and <a href="https://sap-samples.github.io/ui5-typescript-walkthrough/ui5-typescript-walkthrough-step-09.zip" title="https://sap-samples.github.io/ui5-typescript-walkthrough/ui5-typescript-walkthrough-step-09.zip" class="external-link" target="_blank" rel="noopener">download the solution as a zip file</a>.</p>
			<p>
				</p><div><div class="fig"><img src="loioaa6ba83cdebc4a75be6a6b2ff6efffcb_LowRes.png" title="The graphic has an explanatory text" alt="The graphic has an explanatory text" usemap="#"></div><span class="collapsible-icon sap-icon figcap title"><h2 class="title ">Folder Structure for this Step</h2></span></div>
			<p></p>
			<p>After this step your project structure will look like the figure above. We'll create the <code>Component.ts</code> file now and
				modify the related files in the app.</p>
		</section><section>
			<h2 class="title ">webapp/Component.ts (New)</h2>
			<p>We navigate to the <code>webapp</code> folder and place the <code>Component.ts</code> file into it. This file is commonly
				referred to as the <span class="emphasis">component controller</span>. A component is organized in a unique namespace (which is synonymous with
				the application namespace). All required and optional resources of the component have to be organized in the namespace of the
				component.</p>
			<p>We define the component by extending <code>sap/ui/core/UIComponent</code> and supplement the component with additional metadata.
				Within the <code>interfaces</code> settings, we specify that the component should implement the
					<code>sap/ui/core/IAsyncContentCreation</code> interface. This allows the component to be generated asynchronously, which in
				turn sets the component's rootView and router configuration to async.</p>
			<p>When the component is instantiated, SAPUI5 automatically calls the
					<code>init</code> function of the component. It's important to include a call to the <code>init</code> function of the
				base class by using the <code>super</code> keyword. In this section, we also instantiate our data model and the
					<code>i18n</code> model, similar to what we did earlier in the <code>onInit</code> function of our app controller.</p>
			<p>Finally we call the <code>createContent</code> hook method of the component. This method creates the content (UI control tree) of
				this component. Here, we create the view as we did in the <code>index.ts</code> file to set our app view as the root view of the
				component.</p>
			<section class="lang-js"><div class="fig fig-codeblock"><div class="copyButton"><span style="display: none;">Hidden</span></div><div class="codeblock-wrapper"><pre class="codeblock"><span class="emphasis">import Control from "sap/ui/core/Control";
import UIComponent from "sap/ui/core/UIComponent";
import XMLView from "sap/ui/core/mvc/XMLView";
import JSONModel from "sap/ui/model/json/JSONModel";
import ResourceModel from "sap/ui/model/resource/ResourceModel";

/**
* @namespace ui5.walkthrough
*/
export default class Component extends UIComponent {
public static metadata = {
"interfaces": ["sap.ui.core.IAsyncContentCreation"]
};
    init(): void {
        // call the init function of the parent
        super.init();

        // set data model
        const data = {
            recipient: {
                name: "World"
            }
        };
        const dataModel = new JSONModel(data);
        this.setModel(dataModel);

        // set i18n model
        const i18nModel = new ResourceModel({
            bundleName: "ui5.walkthrough.i18n.i18n"
        });
        this.setModel(i18nModel, "i18n");
    };

    createContent(): Control | Promise&lt;Control | null&gt; | null {
        return XMLView.create({
            "viewName": "ui5.walkthrough.view.App",
            "id": "app"
        });
    };
};</span></pre></div></div></section>
			<p> Be aware that the models are set directly on the component and not on the root view of the component. However, as nested controls
				automatically inherit the models from their parent controls, the models are available on the view as well.</p>
		</section><section>
			<h2 class="title ">webapp/controller/App.controller.ts</h2>
			<p>We delete the <code>onInit</code> function and the required modules; this is now done in the component.</p>
			<section class="lang-js"><div class="fig fig-codeblock"><div class="copyButton"><span style="display: none;">Hidden</span></div><div class="codeblock-wrapper"><pre class="codeblock">import MessageToast from "sap/m/MessageToast";
import Controller from "sap/ui/core/mvc/Controller";
import JSONModel from "sap/ui/model/json/JSONModel";
import ResourceModel from "sap/ui/model/resource/ResourceModel";
import ResourceBundle from "sap/base/i18n/ResourceBundle";

/**
 * @name ui5.walkthrough.controller.App
 */
export default class AppController extends Controller {
    onShowHello(): void {
        // read msg from i18n model
        const recipient = (&lt;JSONModel&gt; this.getView()?.getModel())?.getProperty("/recipient/name");
        const resourceBundle = &lt;ResourceBundle&gt; (&lt;ResourceModel&gt; this.getView()?.getModel("i18n"))?.getResourceBundle();
        const msg = resourceBundle.getText("helloMsg", [recipient]) || "no text defined";
        // show message
        MessageToast.show(msg);
    }
};</pre></div></div></section>
		</section><section id="section_ok2_4n5_zgb">
			<h2 class="title ">webapp\index.ts</h2>
			<p>We'll replace the view with a UI component. To do this, we use a control called <code>ComponentContainer</code>. This control
				allows us to wrap a UI Component and place it in our HTML document. We configure this instance by providing the following options:</p>
			<ul class="ul ">
				<li class="li">
					<p>We assign the <code>id</code> property to <code>"container"</code> so that we can refer to it later if needed.</p>
				</li>
				<li class="li">
					<p>We set the <code>name</code> property to the namespace of the component. This tells the <code>ComponentContainer</code>
						control which UI component it should load and show.</p>
				</li>
				<li class="li">
					<p>We pass <code>id: "walkthrough"</code> to our component through the <code>ComponentContainer</code> constructor's
							<code>settings</code> argument. This ID helps us identify our component among others that may be created during the
						application's runtime.</p>
				</li>
				<li class="li">
					<p>To ensure the ID of our component is unique and avoid any mix-ups, we set the <code>autoPrefixId</code> property to
							<code>true</code>. This automatically adds a prefix to the ID of the Component, which is the ID of the
						ComponentContainer followed by a single dash ("<code>-</code>").</p>
				</li>
				<li class="li">
					<p>For better loading performance, we set the <code>async</code> property to <code>true</code>. This allows the component
						and its dependencies to load in the background without blocking other parts of the application.</p>
				</li>
			</ul>
			<p>Finally, we position our newly created <code>ComponentContainer</code> control within the HTML element with the id
					<code>content</code>.</p>
			<p>
				</p><section class="lang-js"><div class="fig fig-codeblock"><div class="copyButton"><span style="display: none;">Hidden</span></div><div class="codeblock-wrapper"><pre class="codeblock"><span class="emphasis">import ComponentContainer from "sap/ui/core/ComponentContainer";

new ComponentContainer({
    id: "container",
    name: "ui5.walkthrough",
    settings: {
        id: "walkthrough"
    },
    autoPrefixId: true,
    async: true
}).placeAt("content");</span></pre></div></div></section>
			<p></p>
		</section><section>
			<h2 class="title "> Conventions</h2>
			<ul class="ul ">
				<li class="li">
					<p>The component is named <code>Component.js</code> (JavaScript) or <code>Component.ts</code> (in TypeScript).</p>
				</li>
				<li class="li">
					<p>Together with all UI assets of the app, the component is located in the
							<code>webapp</code> folder.</p>
				</li>
				<li class="li">
					<p>The <code>index.html</code> file is located in the
							<code>webapp</code> folder if it is used productively.</p>
				</li>
			</ul>
		</section><section class="contentInSection hidden"><h2>In this section:</h2></section><section class="familyLinks"><div class="parentLink"><br><strong>Parent topic: </strong><a href="topic/dad1905a07f849ce9c509721317d38d8">Walkthrough Tutorial (TypeScript)</a></div><div class="previousLink"><br><strong>Previous: </strong><a href="topic/4dcf52e0ca3048e3a08bfdccfc440442">Step 8: Translatable Texts (TypeScript)</a></div><div class="nextLink"><br><strong>Next: </strong><a href="topic/2a46b7567a73457c81b1b67741146063">Step 10: Descriptor for Applications (TypeScript)</a></div></section><section class="relatedLinks "><div class="collapsible-icon sap-icon title"><h2>Related information</h2></div><ul class="fig">
		<li><a href="topic/958ead51e2e94ab8bcdc90fb7e9d53d0" title="Components are independent and reusable parts used in SAPUI5 applications." class="sap-doc">Components</a></li>
		<li><a href="topic/b430345887f1419fba50320b57c1bdf9" title="SAPUI5 provides two methods for the initial instantiation of the component." class="sap-doc">Methods Controlling the Initial Instantiation</a></li>
		<li><a href="topic/ecbc417ff264498b96bc364c53280242" title="Advanced concepts for components include routing and navigation and component data as well as the event bus." class="sap-doc">Advanced Concepts for SAPUI5 Components</a></li>
		<li><a href="api/sap.ui.core.ComponentContainer" title="api/sap.ui.core.ComponentContainer" class="sap-doc" alt="api/sap.ui.core.ComponentContainer">API Reference: sap.ui.core.ComponentContainer</a></li>
	</ul></section></div></section></div></body></html>