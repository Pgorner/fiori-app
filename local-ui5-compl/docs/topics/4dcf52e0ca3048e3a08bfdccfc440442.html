<html><head></head><body><div id="d4h5-main-container" class="dk-main"><section id="loio4dcf52e0ca3048e3a08bfdccfc440442" class=" section topic"><div class="section-mdeditlink hidden">
				<a class="mdeditlink hidden" href="https://github.com/SAP-docs/sapui5/blob/main/docs/03_Get-Started/step-8-translatable-texts-typescript-4dcf52e.md">Edit on GitHub</a>
			</div><div class="collapsible-icon sap-icon innerTitle"><h2 class="title ">Step 8: Translatable Texts (TypeScript)</h2></div><div class="fig"><div class="topictitle1 title"><h2 class="title ">Step 8: Translatable Texts (TypeScript)</h2></div><div class="shortdesc">In this step we move the texts of our UI to a separate resource file.</div><p>This way, they are all in a central place and can be easily translated into other languages. This process of internationalization – in short
				<code>i18n</code> – is achieved in SAPUI5 by using a special resource
			model and the standard data binding syntax, but without a preceding "<code>/</code>" character.</p><section>
			<h2 class="title ">Preview</h2>
			<div><div class="fig"><img src="loio0eb579e2f2a64c5a9894086322c7faa0_LowRes.png" title="The graphic has an explanatory text" alt="The graphic has an explanatory text" usemap="#"></div><span class="collapsible-icon sap-icon figcap title"><h2 class="title ">An input field and a description displaying the value of the input field (No
					visual changes to last step)</h2></span></div>
		</section><section id="section_b1m_wwc_syb">
			<h2 class="title ">Coding</h2>
			<p>You can view all files at <a href="https://github.com/sap-samples/ui5-typescript-walkthrough/tree/main/steps/08" title="https://github.com/sap-samples/ui5-typescript-walkthrough/tree/main/steps/08" class="external-link" target="_blank" rel="noopener">OpenUI5 TypeScript Walkthrough - Step 8: Translatable Texts</a> and <a href="https://sap-samples.github.io/ui5-typescript-walkthrough/ui5-typescript-walkthrough-step-08.zip" title="https://sap-samples.github.io/ui5-typescript-walkthrough/ui5-typescript-walkthrough-step-08.zip" class="external-link" target="_blank" rel="noopener">download the solution as a zip file</a>.</p>
		</section><section id="section_c1m_wwc_syb">
			<h2 class="title ">webapp/i18n/i18n.properties (New)</h2>
			<p>The <code>i18n</code> file allows you to store translated texts for multiple languages, making your application accessible to a
				wider audience. In oder to achive this, the <code>properties</code> file for texts contains name-value pairs for each element. You
				can add any number of parameters to the texts by enclosing them in curly brackets with corresponding numbers. These numbers correspond
				to the sequence in which the parameters are accessed (starting with 0).</p>
			<p>To set up the <code>i18n</code> file, we navigate to the <code>webapp</code> folder and create a new folder named <code>i18n</code>.
				Inside this folder, we place an <code>i18n.properties</code> file, which serves as a storage for our translated texts. We add two
				name-value pairs to our properties file: The <code>showHelloButtonText</code> name represents the text for the button on our app
				view. The <code>helloMsg</code> name represents the greeting message we'll display in the message toast. To include the
				appropriate recipient's name in the message, we use a placeholder with the greeting message text.</p>
			<section class="language-ini"><div class="fig fig-codeblock"><div class="copyButton"><span style="display: none;">Hidden</span></div><div class="codeblock-wrapper"><pre class="codeblock"><span class="emphasis">showHelloButtonText=Say Hello
helloMsg=Hello {0}</span></pre></div></div></section>
			<p>In this tutorial we'll have only one properties file. However, in real-world projects, you would have a separate file for each supported
				language with a suffix for the locale, for example<code> i18n_de.properties</code> for German, <code>i18n_en.properties</code>
				for English, and so on. When a user runs the app, SAPUI5 will load the
				language file that fits best to the user's environment.</p>
		</section><section>
			<h2 class="title ">controller/App.controller.ts</h2>
			<p>In the <code>onInit</code> function of our controller, we instantiate a <code>ResourceModel</code> and specify the
					<code>bundleName</code> parameter to refer to our new resource bundle file (<code>i18n.properties</code>). Then, we use
				the <code>setModel</code> function on the view to assign our newly created model as a named model with the key
					<code>i18n</code> to the view. With this, we enable the binding of control properties in our view to translatable texts.</p>
			<p>In the <code>onShowHello</code> event handler function, we replace the static "Hello World" message with a dynamic greeting text
					<code>helloMsg</code> from the resource bundle and substitute the placeholder in the text with the recipient's name from our
				data model. To retrieve the recipient's name, we access the JSON model associated with the view and use the
					<code>getProperty</code> method. This method allows us to retrieve the value for a specific model property using a given path.
				We pass the path to the recipient's name as an argument to the <code>getProperty</code> method to retrieve the corresponding
				value. Next, we need to obtain the resource bundle from the view's model named <code>i18n</code>. We achieve this by using the
					<code>getResourceBundle</code> method provided by the <code>ResourceModel</code> module. The resource bundle has a
					<code>getText</code> method, which returns a locale-specific string value for a given text key. It can also accept an array of
				strings as a second argument. When this argument is provided, the <code>getText</code> method uses the
					<code>sap/base/strings/formatMessage</code> API to replace placeholders in the text with the corresponding values from the
				arguments array. In our case, we use the second parameter of <code>getText</code> to replace the <code>helloMsg</code> text's
				placeholder with the recipient's name. The resulting string is then returned by <code>getText</code> and passed to the
					<code>show</code> method of the message toast control.</p>
			<section class="lang-js"><div class="fig fig-codeblock"><div class="copyButton"><span style="display: none;">Hidden</span></div><div class="codeblock-wrapper"><pre class="codeblock">import MessageToast from "sap/m/MessageToast";
import Controller from "sap/ui/core/mvc/Controller";
import JSONModel from "sap/ui/model/json/JSONModel";
<span class="emphasis">import ResourceModel from "sap/ui/model/resource/ResourceModel";
import ResourceBundle from "sap/base/i18n/ResourceBundle";</span>

/**
 * @name ui5.walkthrough.controller.App
 */
export default class AppController extends Controller {
   onInit(): void {
      // set data model on view
      const data = {
         recipient: {
            name: "World"
         }
      };
      const dataModel = new JSONModel(data);
      // because of "strict" mode in tsconfig.json a null check is required for this.getView()
      this.getView()?.setModel(dataModel);

      <span class="emphasis">// set i18n model on view
      const i18nModel = new ResourceModel({
         bundleName: "ui5.walkthrough.i18n.i18n"
      });
      this.getView()?.setModel(i18nModel, "i18n");</span>
   }
   
   onShowHello(): void {
      <span class="emphasis">// read msg from i18n model
      const recipient = (this.getView()?.getModel() as JSONModel)?.getProperty("/recipient/name");
      const resourceBundle = (this.getView()?.getModel("i18n") as ResourceModel)?.getResourceBundle() as ResourceBundle;
      const msg = resourceBundle.getText("helloMsg", [recipient]) || "no text defined";
      // show message
      MessageToast.show(msg);</span>
   }
};</pre></div></div></section>
			<p>The bundle name (<code>ui5.walkthrough.i18n.i18n</code>) consists of the application namespace <code>ui5.walkthrough</code> (the
				application root as defined in the <code>index.html</code>), the resource folder name <code>i18n</code>, and finally the base
				file name <code>i18n</code> without extension. The SAPUI5 runtime
				calculates the correct path to the resource, to which <code>.properties</code> is then appended.</p>
			<p>During runtime, SAPUI5 tries to load the correct<code> i18n_*.properties</code>
				file based on your browser settings and your locale. In our case we have only created the base <code>i18n.properties</code> file
				to make it simple. However, you can see in the network traffic of your browser's developer tools that SAPUI5 tries to load one or more <code>i18n_*.properties</code> files
				before falling back to the default <code>i18n.properties</code> file.</p>
		</section><section>
			<h2 class="title ">webapp/view/App.view.xml</h2>
			<p>We can now bind the text properties in our XML view to translatable texts. We connect the <code>text</code> property of the button control
				to the <code>showHelloButtonText</code> key in the <code>i18n</code> model. To correctly reference the model, the binding path
				should start with the model name <code>i18n</code> followed by a '<code>&gt;</code>' character.</p>
			<p>A resource bundle is a flat structure, therefore the preceding slash (/) can be omitted for the path to the text.</p>
			<section class="lang-xml"><div class="fig fig-codeblock"><div class="copyButton"><span style="display: none;">Hidden</span></div><div class="codeblock-wrapper"><pre class="codeblock">&lt;mvc:View
   controllerName="ui5.walkthrough.controller.App"
   xmlns="sap.m"
   xmlns:mvc="sap.ui.core.mvc"&gt;
   &lt;Button
      text<span class="emphasis">="{i18n&gt;showHelloButtonText}"</span>
      press=".onShowHello"/&gt;
   &lt;Input
      value="{/recipient/name}"
      description="Hello {/recipient/name}"
      valueLiveUpdate="true"
      width="60%"/&gt;
&lt;/mvc:View&gt;</pre></div></div></section>
			<div class="note   "><div class="collapsible-icon sap-icon"><div class="title"><strong>
					Note
				</strong></div></div><div class="fig"><p>
				</p><p>The description text is not completely localized in this example for illustration purposes. To be on the safe side, we would have to use a
					similar mechanism as in the controller to use a string from the resource bundle and replace parts of it. This can be done with the
						<code>sap/base/strings/formatMessage</code> formatter.</p>
				<p>Furthermore, <code>i18n</code> files only impact client-side application
					texts. Texts that are loaded from back-end systems can appear in all languages
					that are supported by the back-end system.</p>
			<p></p></div></div>
		</section><section>
			<h2 class="title "> Conventions</h2>
			<ul class="ul ">
				<li class="li">
					<p>The resource model for internationalization is called the
							<code>i18n</code> model.</p>
				</li>
				<li class="li">
					<p>The default filename is <code>i18n.properties</code>.</p>
				</li>
				<li class="li">
					<p>Resource bundle keys are written in (lower) camelCase.</p>
				</li>
				<li class="li">
					<p>Resource bundle values can contain parameters like <code>{0}</code>,
							<code>{1}</code>, <code>{2}</code>, …</p>
				</li>
				<li class="li">
					<p>Never concatenate strings that are translated, always use placeholders.</p>
				</li>
				<li class="li">
					<p>Use Unicode escape sequences for special characters.</p>
				</li>
			</ul>
		</section><section class="contentInSection hidden"><h2>In this section:</h2></section><section class="familyLinks"><div class="parentLink"><br><strong>Parent topic: </strong><a href="topic/dad1905a07f849ce9c509721317d38d8">Walkthrough Tutorial (TypeScript)</a></div><div class="previousLink"><br><strong>Previous: </strong><a href="topic/cfbbeab4e4b74124abac98ce268a0aba">Step 7: JSON Model (TypeScript)</a></div><div class="nextLink"><br><strong>Next: </strong><a href="topic/f9d0e2fcd2134ff7923fcdcba8bded96">Step 9: Component Configuration (TypeScript)</a></div></section><section class="relatedLinks "><div class="collapsible-icon sap-icon title"><h2>Related information</h2></div><ul class="fig">
		<li><a href="topic/91f122a36f4d1014b6dd926db0e91070.html#loio91f122a36f4d1014b6dd926db0e91070" title="The resource model is used as a wrapper for resource bundles. In data binding you use the resource model instance, for example, to bind texts of a control to language-dependent resource bundle properties." class="sap-doc">Resource Model</a></li>
		<li><a href="topic/91f385926f4d1014b6dd926db0e91070" title="SAPUI5 provides two options to use localized texts in applications: The sap/base/i18n/ResourceBundle module and data binding." class="sap-doc">Use of Localized Texts in Applications</a></li>
		<li><a href="api/module:sap/base/i18n/ResourceBundle" title="api/module:sap/base/i18n/ResourceBundle" class="sap-doc" alt="api/module:sap/base/i18n/ResourceBundle">API Reference: sap/base/i18n/ResourceBundle</a></li>
		<li><a href="api/sap.ui.model.resource.ResourceModel" title="api/sap.ui.model.resource.ResourceModel" class="sap-doc" alt="api/sap.ui.model.resource.ResourceModel">API Reference: sap.ui.model.resource.ResourceModel</a></li>
		<li><a href="api/module:sap/base/strings/formatMessage" title="api/module:sap/base/strings/formatMessage" class="sap-doc" alt="api/module:sap/base/strings/formatMessage">API Reference: sap/base/strings/formatMessage</a></li>
		<li><a href="topic/2888af49635949eca14fa326d04833b9" title="Binding paths address the different properties and lists in a model and define how a node in the hierarchical data tree can be found." class="sap-doc">Binding Path</a></li>
	</ul></section></div></section></div></body></html>