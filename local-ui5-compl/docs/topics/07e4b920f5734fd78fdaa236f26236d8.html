<html><head></head><body><div id="d4h5-main-container" class="dk-main"><section id="loio07e4b920f5734fd78fdaa236f26236d8" class=" section topic"><div class="section-mdeditlink hidden">
				<a class="mdeditlink hidden" href="https://github.com/SAP-docs/sapui5/blob/main/docs/04_Essentials/formatting-parsing-and-validating-data-07e4b92.md">Edit on GitHub</a>
			</div><div class="collapsible-icon sap-icon innerTitle"><h2 class="title ">Formatting, Parsing, and Validating Data</h2></div><div class="fig"><div class="topictitle1 title"><h2 class="title ">Formatting, Parsing, and Validating Data</h2></div><div class="shortdesc">Data that is presented on the UI often has to be converted so that is human readable
        and fits to the locale of the user. On the other hand, data entered by the user has to be
        parsed and validated to be understood by the data source. For this purpose, you use
        formatters and data types.</div><section id="section_fpq_1bv_xcb"><div class="imagemap_tooltips light-overlays" data-static-type="false">
                
                <p>This image is interactive. Hover over each area for a description. Click highlighted areas
								for more information
							</p><div class="imagemap fig"><img src="loio40f0541313154bb0b5de72e2bd1c9207_LowRes.png" title="When data is exchanged between the View and the Model, it often has to be converted by formatting, validating or
                            parsing." alt="When data is exchanged between the View and the Model, it often has to be converted by formatting, validating or
                            parsing." usemap="#__im_imagemap1"><map name="__im_imagemap1"><area shape="rect" coords="1,53,225,217" originalcoords="1,53,225,217" alt="91f27e3e6f4d1014b6dd926db0e91070.xml" title="The view in the Model-View-Controller (MVC) concept is responsible for defining and rendering the UI. SAPUI5 supports predefined view types." href="topic/91f27e3e6f4d1014b6dd926db0e91070" class="sap-doc"><area shape="poly" coords="446,82,448,194,567,220,672,196,675,85,562,51,562,51" originalcoords="446,82,448,194,567,220,672,196,675,85,562,51,562,51" alt="e1b625940c104b558e52f47afe5ddb4f.xml" title="A model in the Model View Controller concept holds the data and provides methods to retrieve the data from the database and to set and update data." href="topic/e1b625940c104b558e52f47afe5ddb4f" class="sap-doc"></map></div>
            </div><p>Formatters are used to define the formatting of data on the UI
                while data types work in both directions: they format the data on the UI and parse
                and validate user input that is entered.</p><p>You can either use standard
                formatters and data types or define your own custom objects. SAPUI5 provides
                standard formatter classes that can be used to define custom data types and custom
                formatters.</p><p>If an error occurs during formatting or parsing, the following
                exception occurs: <code>sap/ui/model/FormatException</code> /
                    <code>sap/ui/model/ParseException</code>.</p><div class="note   "><div class="collapsible-icon sap-icon"><div class="title"><strong>
					Note
				</strong></div></div><div class="fig"><p>
                </p><p>For some controls like <code>sap/m/Input</code> you can also use API
                    properties that define the data type and add additional features like restricted
                    input options, for example, <code>&lt;Input
                        <span class="emphasis">type="Number"</span>/&gt;</code>.</p>
            <p></p></div></div></section><section id="section_rgn_hc5_xcb"><h2 class="title ">Formatters</h2>
            <div class="note   "><div class="collapsible-icon sap-icon"><div class="title"><strong>
					Note
				</strong></div></div><div class="fig"><p>
                </p><p>When using formatter functions, the binding is automatically switched to "one-way". So you can't use a formatter function for
                    "two-way" scenarios, but you can use <a href="topic/07e4b920f5734fd78fdaa236f26236d8.html#loio07e4b920f5734fd78fdaa236f26236d8/section_DataTypes" title="07e4b920f5734fd78fdaa236f26236d8.xml#loio07e4b920f5734fd78fdaa236f26236d8/section_DataTypes" class="sap-doc">Data Types</a>.</p>
            <p></p></div></div>
            <p>A simple formatter can be defined directly in the controller. However, we recommend using a separate <code>formatter.js</code> file
                to group all your formatter functions, making them accessible throughout your app.</p>
            <p>For example, you can define a simple formatter to capitalize the first letter of a name as
                follows:</p><section class="lang-js"><div class="fig fig-codeblock"><div class="copyButton"><span style="display: none;">Hidden</span></div><div class="codeblock-wrapper"><pre class="codeblock">sap.ui.define([], function() {
    return {
        upperFirstLetter: function(sName) {
            return sName.charAt(0).toUpperCase() + sName.slice(1);
        }
    }
});</pre></div></div></section><p></p>
            <p>You can load the formatter via the <a href="topic/b11d853a8e784db6b2d210ef57b0f7d7" title="Modules can be required in XML views and fragments and assigned to aliases which can be used as variables in properties, event handlers, and bindings." class="sap-doc"><code>require</code></a> attribute in
                your XML and assign the module to the <code>MyFormatter</code> alias, which can then be used as
                follows:</p><section class="lang-xml"><div class="fig fig-codeblock"><div class="copyButton"><span style="display: none;">Hidden</span></div><div class="codeblock-wrapper"><pre class="codeblock">&lt;Text xmlns="sap.m" xmlns:core="sap.ui.core" core:require="{
		MyFormatter: 'path/to/formatter'
	}"
	text="{
		path: 'person/name',
		formatter: 'MyFormatter.upperFirstLetter'
    }"
/&gt;</pre></div></div></section><p></p>
            <div class="note   "><div class="collapsible-icon sap-icon"><div class="title"><strong>
					Note
				</strong></div></div><div class="fig"><p>
                </p><p>You can also use predefined formatter functions for standard uses cases, like
                        <code>formatMessage</code> from module
                        <code>sap/base/strings/formatMessage</code>.</p>
            <p></p></div></div>
            <div class="note caution  "><div class="collapsible-icon sap-icon"><div class="title"><strong>
					Caution
				</strong></div></div><div class="fig"><p>
                </p><p>The automatic type determination for OData V4 interacts with
                        <code>targetType</code> and can, thus, influence a formatter's input
                    values. For more information on type determination in OData V4, see <a href="topic/53cdd55a77ce4f33a14bd0767a293063" title="53cdd55a77ce4f33a14bd0767a293063.xml" class="sap-doc">Type Determination</a>.</p>
            <p></p></div></div>
            <section>
                <h3 class="title "><code>this</code> Context for Formatter Functions</h3>
                <p>By default, formatter functions are bound to the control instance unless explicitly specified otherwise. However, when a formatter
                    is accessed via dot notation, the <code>this</code> context is bound to the parent object.</p>
                <p>For instance, in the sample above, when the formatter is invoked, the <code>this</code> context is assigned to the
                        <code>MyFormatter</code> object.</p>
                <p>To ensure that the <code>this</code> context remains bound to the control instance, you can use the <code>.bind()</code>
                    method in the formatter string and specify <code>$control</code> as shown
                    below:</p><section class="lang-xml"><div class="fig fig-codeblock"><div class="copyButton"><span style="display: none;">Hidden</span></div><div class="codeblock-wrapper"><pre class="codeblock">&lt;Text xmlns="sap.m" xmlns:core="sap.ui.core" core:require="{
		MyFormatter: 'path/to/formatter'
	}"
	text="{
		path: 'person/name',
		formatter: 'MyFormatter.upperFirstLetter.bind($control)'
    }"
/&gt;</pre></div></div></section><p></p>
            </section>
            <section>
                <h3 class="title "><code>.bind()</code> Syntax in Formatter Functions</h3>
                <p>The <code>.bind()</code> method allows you to explicitly set the <code>this</code> context in formatter functions. Note
                    that the <code>.bind()</code> method accepts only a single argument when used in formatter strings.</p>
                <p>The following aguments are accepted:</p><ul class="ul ">
                        <li class="li"><span class="emphasis"><code>$control</code></span>: Sets the this context to the control instance.</li>
                        <li class="li"><span class="emphasis"><code>$controller</code></span>: Binds the formatter function to the corresponding view controller. This
                            is helpful when the formatter function needs access to the controller's properties or methods.</li>
                        <li class="li"><span class="emphasis">Aliases from <code>core:require</code></span>: Any alias defined in the <code>core:require</code>
                            attribute can be used. This allows for flexible binding to custom objects or modules as needed.</li>
                    </ul><p></p>
                <p>
                    </p><div class="note   "><div class="collapsible-icon sap-icon"><div class="title"><strong>
					Note
				</strong></div></div><div class="fig"><p>
                        </p><p>Arguments other than <code>$control</code> and <code>$controller</code> must not start with a '<code>$</code>'
                            character as this prefix is reserved by the framework. This restriction also applies to the keys defined in the
                                <code>core:require</code> attribute.</p>
                    <p></p></div></div>
                <p></p>
            </section>
        </section><section id="section_DataTypes"><h2 class="title ">Data Types</h2><section>
				<h3 class="title ">Simple Types</h3>
				<p>If you also want to validate and parse input values, you use data types. All data types inherit from the abstract
						<code>sap.ui.model.Type</code> class.</p>
				<p>A subclass of this class is <code>sap.ui.model.SimpleType</code>. The currently available types inherit from
						<code>SimpleType</code> class.</p>
				<p>For simple data types, you can generate the following parameters in the constructor: </p><ul class="ul ">
                        <li class="li">
                            <p><code>formatOptions</code>: Format options define how a value is formatted and displayed in the UI. </p>
                        </li>
                        <li class="li">
                            <p>
                                <code>constraints</code>: Constraints are optional and define how an input value entered in the UI should look
                                like. During parsing the value is validated against these constraints. For example, an <code>Integer</code> type
                                has a constraint for <code>maximum</code> that is automatically validated when parsing the input values.</p>
                        </li>
                    </ul><section class="lang-xml"><div class="fig fig-codeblock"><div class="copyButton"><span style="display: none;">Hidden</span></div><div class="codeblock-wrapper"><pre class="codeblock">&lt;mvc:View 
   xmlns:core="sap.ui.core" 
   xmlns:mvc="sap.ui.core.mvc" 
   core:require="{
      Integer: 'sap/ui/model/type/Integer'
   }"&gt;
   ...
  &lt;Input value="{
      path: '/number',
      type: 'Integer',
      <span class="emphasis">formatOptions</span>: {
          minIntegerDigits: 3
      },
          <span class="emphasis">constraints</span>: {
      maximum: 1000
      }
  }" /&gt;
   ...
&lt;/mvc:View&gt;</pre></div></div></section><div class="note   "><div class="collapsible-icon sap-icon"><div class="title"><strong>
					Note
				</strong></div></div><div class="fig"><p>
                        </p><p>This sample uses <code>core:require</code> to ensure the type module is imported and to enable the use of the short
                            type name <code>Integer</code> instead of the full name in the declaration of data binding. For more information, see
                                <a href="topic/b11d853a8e784db6b2d210ef57b0f7d7" title="Modules can be required in XML views and fragments and assigned to aliases which can be used as variables in properties, event handlers, and bindings." class="sap-doc">Require Modules in XML View and Fragment</a>.</p>
                    <p></p></div></div><p></p>
				<p>For a complete list of all simple types, see <a href="api/sap.ui.model.type/overview" title="api/sap.ui.model.type/overview" class="sap-doc" alt="api/sap.ui.model.type/overview">API
							Reference: <code>sap.ui.model.Type</code></a>.
					</p>
			</section><section>
				<h3 class="title ">OData Types</h3>
				<p>These types support OData V2 and V4 including relevant property facets as constraints. The OData types represent the OData EDM
					primitive types. For more information, see <a href="http://www.odata.org/documentation/odata-version-2-0/overview/" title="http://www.odata.org/documentation/odata-version-2-0/overview/" class="external-link" target="_blank" rel="noopener">Primitive Data Types in the OData
						documentation</a>.</p>
				<p>For a complete list of all OData types, see <a href="api/sap.ui.model.odata.type" title="api/sap.ui.model.odata.type" class="sap-doc" alt="api/sap.ui.model.odata.type">API
							Reference: <code>sap.ui.model.odata.type</code></a>.
					</p>
				<div class="note   "><div class="collapsible-icon sap-icon"><div class="title"><strong>
					Note
				</strong></div></div><div class="fig"><p>
					</p><p>Also see the information on automatic type determination in OData V4 under <a href="topic/53cdd55a77ce4f33a14bd0767a293063" title="53cdd55a77ce4f33a14bd0767a293063.xml" class="sap-doc">Type Determination</a>.</p>
				<p></p></div></div>
			</section><section>
				<h3 class="title ">Custom Data Types</h3>
				<p>You can also define a custom data type based on <code>sap.ui.model.SimpleType</code> by specifying a custom implementation for
						<code>formatValue</code>, <code>parseValue</code>, and
					<code>validateValue</code>:</p><section><div class="fig fig-codeblock"><div class="copyButton"><span style="display: none;">Hidden</span></div><div class="codeblock-wrapper"><pre class="codeblock">sap.ui.define([
    "sap/ui/model/SimpleType"
], function (SimpleType) {
    "use strict";
    return SimpleType.extend("sap.ui.demo.myCustomType", {

        formatValue: ...

        parseValue: ...

        validateValue: ...

    });
});</pre></div></div></section><p></p>
				<div class="note other example "><div class="collapsible-icon sap-icon"><div class="title"><strong>
					Example
				</strong></div></div><div class="fig"><p>
					</p><p><a href="topic/69a25bf2f8a2478cbda4b8bbe64039de" title="Now that we have implemented the conversion tests, we add the corresponding functionality and show the button to flag a post in the app. The design team has specified that the flag feature should be implemented with a toggle button that has a flag icon." class="sap-doc">Step 5: Adding a Flag Button</a> of the <span class="ph uicontrol">Testing</span> tutorial shows how to implement a
						custom data type.</p>
				<p></p></div></div>
			</section></section><section class="contentInSection hidden"><h2>In this section:</h2></section><section class="familyLinks"><div class="parentLink hidden"><br><strong>Parent topic: </strong></div><div class="previousLink hidden"><br><strong>Previous: </strong></div><div class="nextLink hidden"><br><strong>Next: </strong></div></section><section class="relatedLinks "><div class="collapsible-icon sap-icon title"><h2>Related information</h2></div><ul class="fig">
        <li><a href="topic/e2e6f4127fe4450ab3cf1339c42ee832" title="You bind UI elements to data of a data source by defining a binding path to the model that represents the data source in the app." class="sap-doc">Binding Syntax</a></li>
    </ul></section></div></section></div></body></html>