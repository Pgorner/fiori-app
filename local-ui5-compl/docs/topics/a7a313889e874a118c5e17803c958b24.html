<html><head></head><body><div id="d4h5-main-container" class="dk-main"><section id="loioa7a313889e874a118c5e17803c958b24" class=" section topic"><div class="section-mdeditlink hidden">
				<a class="mdeditlink hidden" href="https://github.com/SAP-docs/sapui5/blob/main/docs/04_Essentials/the-owner-component-a7a3138.md">Edit on GitHub</a>
			</div><div class="collapsible-icon sap-icon innerTitle"><h2 class="title ">The Owner Component</h2></div><div class="fig"><div class="topictitle1 title"><h2 class="title ">The Owner Component</h2></div><div class="shortdesc">If you wish to extend your view or controller, you must define the extension in the manifest.json of their owner component.</div><section id="section_p1l_4by_jkb">
			<h2 class="title ">What is the Owner Component?</h2>
			<p>Technically, the owner component is the <code>sap.ui.core.(UI)Component</code> instance which created (and thus "owns") any
					<code>sap.ui.base.ManagedObject</code> instance. This of course includes all subclasses of <code>ManagedObject</code>,
				e.g. any SAPUI5 control, as well as views, fragments, and even other
				(UI)Components.</p>
			<p>One of the most common use cases of the owner component is the extensibility of (UI)Components. The framework uses the owner component
				to identify <a href="topic/403c050da4ae4566b6aafec2bc590389" title="SAPUI5 uses extension points for extending standard views with custom content. The assignment of a custom view to an extension point is done in component customizing." class="sap-doc">extension points</a>, <a href="topic/aa93e1c6953a41b48cd912a7331eadee" title="For modifying views, control properties of standard views can be changed." class="sap-doc">view modifications</a>, and
					<a href="topic/21515f09c0324218bb705b27407f5d61" title="Controller extensions allow you to add functionality to existing applications. They can be used for extensibility purposes, for example by a customer wishing to extend SAP-delivered applications, or as a reusable part that is added to the original application." class="sap-doc">controller extensions</a> from the owner component's manifest.json.</p>
		</section><section id="section_tks_rby_jkb"><h2 class="title ">What is Handled by the Framework?</h2>
			<p>For the most part, the framework takes care of setting and propagating the owner component throughout all framework-managed control and
				Component creation mechanisms. This includes the following:</p>
			<ul class="ul ">
				<li class="li"><code>sap.ui5/rootView</code> creation during Component startup,</li>
				<li class="li">view and Component creation via routing (based on the <code>sap.ui5/routing/...</code> configuration),</li>
				<li class="li">creation of nested Components defined in the <code>sap.ui5/componentUsages</code> section via the
						<code>sap.ui.core.Component#createComponent</code> factory,</li>
				<li class="li">
					<p>fragment creation via <code>sap.ui.core.mvc.Controller#loadFragment</code>;</p>
					<p>
						</p><div class="note   "><div class="collapsible-icon sap-icon"><div class="title"><strong>
					Note
				</strong></div></div><div class="fig"><p>
							</p><p>This applies <span class="emphasis">only if the controller has an owner component assigned to it</span>, which is the case if it
								was created via a framework-managed mechanism or the application follows the best practices given below.</p>
						<p></p></div></div>
					<p></p>
				</li>
				<li class="li">
					<p>nested views and fragments automatically receive their owner component from the artifact they're contained in,</p>
					<p>e.g. if a fragment is contained in a view (for example as the content of a <code>dependents</code> aggregation) it receives
						the same owner component as its containing view, and thus will receive extensions,</p>
				</li>
				<li class="li">
					<p>factories called while an owner component is known will propagate it to any controls they create. This includes controls, views
						and fragments created from within <code>sap.ui.core.UIComponent#createContent</code> or
							<code>sap.ui.core.mvc.Controller#onInit</code>.</p>
					<p>
						</p><div class="note   "><div class="collapsible-icon sap-icon"><div class="title"><strong>
					Note
				</strong></div></div><div class="fig"><p>
							</p><p>The <code>then()</code> handler of an asynchronous view or fragment factory is <span class="emphasis">not</span> executed
								with an owner scope. To handle this scenario, see the best practices given below.</p>
						<p></p></div></div>
					<p></p>
				</li>
			</ul>
			<div class="note   "><div class="collapsible-icon sap-icon"><div class="title"><strong>
					Note
				</strong></div></div><div class="fig"><p>
				</p><p>The owner component for <code>ManagedObject</code>s is assigned by the framework at the time when they are created.
						<span class="emphasis">It is not updated afterwards,</span> for example if a control is moved from one Component's control tree to
					another.</p>
				<p>We advise you not to move controls over Component boundaries.</p>
			<p></p></div></div></section><section id="section_zmp_rwc_kkb">
			<h2 class="title ">What Needs to be Handled by the Application?</h2>
			<p>Any <code>ManagedObject</code> that is created outside the above-listed framework-managed features is not automatically assigned an owner
				component. This is a very common occurrence, since a lot of <code>ManagedObject</code>s (e.g. fragments) will be created after the
				startup of a Component at an unknown point in time. For example, an <code>sap.m.Dialog</code> with fragment content might only be
				created upon user interaction.</p>
			<p>Since the owner component is the carrier of extension information through its manifest.json, your views, fragments, and controllers
				rely on the connection to an owner component to look up any extension configuration and apply it accordingly. The framework cannot
				apply extensions for views, fragments, and controllers if no owner component is known. These scenarios must be handled by the
				application.</p>
		</section><section id="section_u13_jvr_nvb">
			<h2 class="title ">Best Practices for Creating Controls</h2>
			<p>Whenever possible, use one of the above-listed framework-managed control creation mechanisms.</p>
			<p>If this is not possible, you can assign the correct owner component manually by retrieving the Component instance and wrapping any code
				that creates a <code>ManagedObject</code> inside a <code>runAsOwner()</code> call on the Component instance:</p>
			<p>
				</p><section class="lang-js"><div class="fig fig-codeblock"><div class="copyButton"><span style="display: none;">Hidden</span></div><div class="codeblock-wrapper"><pre class="codeblock">// In this sample, the 'this' context is a controller instance
// The controller class provides a shorthand getter for its owner component
var oComponent = this.getOwnerComponent();
// oComponent is now the owner component instance which owns the controller
oComponent.runAsOwner(function() {
    // create additional ManagedObjects here, e.g. via
    //   * a View and Fragment factory
    //   * or simply via a control's constructor
    XMLView.create(...).then(function() {
        // Due to the asynchronous nature of the XMLView factory
        // the owner-component scope is lost again inside the 'then' handler!
        // Make sure to call runAsOwner again if more controls are created here.
    });
    Fragment.load(....).then(...);
    new Button(...);
}.bind(this));</pre></div></div></section>
			<p></p>
			<p>
				</p><div class="note note  "><div class="collapsible-icon sap-icon"><div class="title"><strong>
					Note
				</strong></div></div><div class="fig"><p>
					</p><p>Since the owner-component scoping is only active during the execution of the <code>runAsOwner</code> function, the
							<code>then(...)</code> handlers of the factory promises are <span class="emphasis">not</span> scoped anymore! You would need to
						call <code>runAsOwner</code> again in such a case.</p>
				<p></p></div></div>
			<p></p>
			<p>If <code>ManagedObject</code>s need to be created outside a controller instance, the static
					<code>sap.ui.core.Component.getOwnerComponentFor</code> function can be used: </p>
			<p>
				</p><section class="lang-js"><div class="fig fig-codeblock"><div class="copyButton"><span style="display: none;">Hidden</span></div><div class="codeblock-wrapper"><pre class="codeblock">// 'oPage' is a examplary sap.m.Page control, the static API however accepts all ManagedObjects
// Note: though all ManagedObjects can be passed to this function, the owner component can only
//       be returned for ManagedObjects that have an owner component assigned already
var oComponent = Component.getOwnerComponentFor(oPage);
oComponent.runAsOwner(function() {
    // same as in the above sample
});</pre></div></div></section>
			<p></p>
		</section><section class="contentInSection hidden"><h2>In this section:</h2></section><section class="familyLinks"><div class="parentLink hidden"><br><strong>Parent topic: </strong></div><div class="previousLink hidden"><br><strong>Previous: </strong></div><div class="nextLink hidden"><br><strong>Next: </strong></div></section><section class="relatedLinks "><div class="collapsible-icon sap-icon title"><h2>Related information</h2></div><ul class="fig">
		<li><a href="api/sap.ui.core.Component#methods/sap.ui.core.Component.getOwnerComponentFor" title="api/sap.ui.core.Component#methods/sap.ui.core.Component.getOwnerComponentFor" class="sap-doc" alt="api/sap.ui.core.Component#methods/sap.ui.core.Component.getOwnerComponentFor">sap.ui.core.Component.getOwnerComponentFor</a></li>
		<li><a href="api/sap.ui.core.Component#methods/runAsOwner" title="api/sap.ui.core.Component#methods/runAsOwner" class="sap-doc" alt="api/sap.ui.core.Component#methods/runAsOwner">sap.ui.core.Component.prototype.runAsOwner</a></li>
		<li><a href="api/sap.ui.core.Component#methods/sap.ui.core.Component.getOwnerIdFor" title="api/sap.ui.core.Component#methods/sap.ui.core.Component.getOwnerIdFor" class="sap-doc" alt="api/sap.ui.core.Component#methods/sap.ui.core.Component.getOwnerIdFor">sap.ui.core.Component.getOwnerIdFor</a></li>
	</ul></section></div></section></div></body></html>