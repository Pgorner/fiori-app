<html><head></head><body><div id="d4h5-main-container" class="dk-main"><section id="loioc3de5c0b3c5043a4b683151dab526b01" class=" section topic"><div class="section-mdeditlink hidden">
				<a class="mdeditlink hidden" href="https://github.com/SAP-docs/sapui5/blob/main/docs/06_SAP_Fiori_Elements/defining-custom-actions-c3de5c0.md">Edit on GitHub</a>
			</div><div class="collapsible-icon sap-icon innerTitle"><h2 class="title ">Defining Custom Actions</h2></div><div class="fig"><div class="topictitle1 title"><h2 class="title ">Defining Custom Actions</h2></div><div class="shortdesc">Define custom actions by using the extensions in the app descriptor file. You can also define these custom actions so that they appear
        on charts, tables, or header toolbars based on the filter property value (chart/table/global). </div><section>
            
            <div class="note   "><div class="collapsible-icon sap-icon"><div class="title"><strong>
					Note
				</strong></div></div><div class="fig"><p>
                </p><ul class="ul ">
                    <li class="li">
                        <p>This topic is only applicable to SAP Fiori elements for OData
                            V2.</p>
                    </li>
                    <li class="li">
                        <p>You can also define custom actions in SAP Fiori elements for OData
                            V4. For more
                            information, see <a href="topic/7619517a92414e27b71f02094bd08d06" title="You can use extension points to add custom actions to the list report and the object page." class="sap-doc">Adding Custom Actions Using Extension Points</a>.</p>
                    </li>
                </ul>
            <p></p></div></div>
            
        </section><section>
            <div class="note   "><div class="collapsible-icon sap-icon"><div class="title"><strong>
					Note
				</strong></div></div><div class="fig"><p>To correctly integrate your app extension coding with SAP Fiori elements,
                use only the <code>extensionAPI</code> of SAP Fiori elements. For more
                information, see <a href="topic/bd2994b69ef542998becbc69ab093f7e" title="The extensionAPI consists of several elements that are described below. It can be used for the list report and object page." class="sap-doc">Using the extensionAPI</a>.</p></div></div>
            <p>Use the <code>getSelectedContexts()</code> API in the <code>extensionAPI</code> class to get the selection context. For buttons
                in the chart toolbar, pass the event ID as a parameter.</p>
            <p>The analytical list page supports keyboard shortcut keys for custom actions defined in the manifest for global actions and chart/table
                toolbar actions.</p>
            <p>In your app's <code>manifest.json</code> file, under <code>sap.ui5</code> → <code>extends</code> →
                    <code>extensions</code>, you can specify extensions for the <code>AnalyticalListPage</code> controllers.</p>
            <p>You can specify the following information and extend the manifest files as described here:</p>
            <div class="tableWrapper "><div class="fig"><table border="1" id="table_esn_v1f_ttb" class=" ">
                    
                    
                    <thead>
                        <tr>
                            <th colspan="1" rowspan="1">
                                <p>Property</p>
                            </th>
                            <th colspan="1" rowspan="1">
                                <p>Description</p>
                            </th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td colspan="1" rowspan="1">
                                <p><code>&lt;entity set&gt;</code></p>
                            </td>
                            <td colspan="1" rowspan="1">
                                <p>Entity set that is displayed on the analytical list page. (For example
                                    <code>ZCostCenterCostQuery0020</code>)</p>
                                <div class="note   "><div class="collapsible-icon sap-icon"><div class="title"><strong>
					Note
				</strong></div></div><div class="fig"><p>If you use multiple views with different <code>entity set</code> properties on the analytical list page,
                                    define the <code>Actions</code> only for the main
                                    <code>entity set</code>. </p></div></div>
                            </td>
                        </tr>
                        <tr>
                            <td colspan="1" rowspan="1">
                                <p><code>&lt;Action 1&gt;</code>, <code>&lt;Action 2&gt;</code>, etc.</p>
                            </td>
                            <td colspan="1" rowspan="1">
                                <p>The names of actions.</p>
                            </td>
                        </tr>
                        <tr>
                            <td colspan="1" rowspan="1">
                                <p><code>&lt;id&gt;</code></p>
                            </td>
                            <td colspan="1" rowspan="1">
                                <p>The ID that is used for the action button.</p>
                            </td>
                        </tr>
                        <tr>
                            <td colspan="1" rowspan="1">
                                <p><code>&lt;button text&gt;</code></p>
                            </td>
                            <td colspan="1" rowspan="1">
                                <p>The <code>nullText</code> that is displayed on the button (typically a binding to an i18n entry). For example,
                                        <code>null&lt;button text&gt;nullnull{i18n&gt;MY_BUTTON_TEXT}</code></p>
                            </td>
                        </tr>
                        <tr>
                            <td colspan="1" rowspan="1">
                                <p><code>&lt;handler function&gt;</code></p>
                            </td>
                            <td colspan="1" rowspan="1">
                                <p>The handler function that is called when the user selects the action button.</p>
                            </td>
                        </tr>
                        <tr>
                            <td colspan="1" rowspan="1">
                                <p><code>&lt;global&gt;</code> (required)</p>
                            </td>
                            <td colspan="1" rowspan="1">
                                <p>Indicates whether this is a global action. The default value is <code>false</code>.</p><div class="note   "><div class="collapsible-icon sap-icon"><div class="title"><strong>
					Note
				</strong></div></div><div class="fig"><p>If a determining
                                        property is set along with the global property, the action is rendered as a global action since it takes
                                        precedence.</p></div></div><p></p>
                            </td>
                        </tr>
                        <tr>
                            <td colspan="1" rowspan="1">
                                <p><code>&lt;requiresSelection&gt;</code> (optional: relevant only for table toolbar actions in the analytical
                                    list page)</p>
                            </td>
                            <td colspan="1" rowspan="1">
                                <p>Indicates whether the action requires a selection of items. The default value is <code>true</code>.</p>
                            </td>
                        </tr>
                        <tr>
                            <td colspan="1" rowspan="1">
                                <p><code>&lt;determining&gt;</code> (optional: relevant only for the analytical list page actions)</p>
                            </td>
                            <td colspan="1" rowspan="1">
                                <p>Indicates whether the action should be displayed in the footer of the page. The default value is
                                        <code>false</code>.</p>
                            </td>
                        </tr>
                        <tr>
                            <td colspan="1" rowspan="1">
                                <p><code>&lt;command&gt;</code></p>
                            </td>
                            <td colspan="1" rowspan="1">
                                <p>Represents the command mapped to a keyboard shortcut defined under <code>sap.ui.commands</code>.</p>
                                <div class="note   "><div class="collapsible-icon sap-icon"><div class="title"><strong>
					Note
				</strong></div></div><div class="fig"><p>If you are adding the command settings to an existing custom action, the <code>oEvent</code> parameter that
                                    is passed to the event handler of that custom action is changed. It requires code adaptation if the code in the
                                    event handler depends on the <code>oEvent</code> parameter.
                                    For
                                    example, <span class="keys">
                                        <span class="keyWrap"><kbd class="key">Ctrl</kbd></span>
                                        <span class="keyWrap"><kbd class="key">B</kbd></span>
                                    </span>
                                </p></div></div>
                            </td>
                        </tr>
                    </tbody>
                </table></div></div>
            <p>
                </p><section><div class="fig fig-codeblock"><div class="copyButton"><span style="display: none;">Hidden</span></div><div class="codeblock-wrapper"><pre class="codeblock">"sap.ui5": {
    "_version": "1.1.0",
    "extends": {
        "extensions": {
		"sap.ui.commands": {
			"sap.suite.generic.template.AnalyticalListPage#sap.suite.generic.template.AnalyticalListPage::ZCostCenterCostQuery0020": {
		"GlobalActionCommand": {
			"shortcut": "Ctrl+B"
		}
	}		
		},
            "sap.ui.controllerExtensions": {
                "sap.suite.ui.generic.template.AnalyticalListPage.view.AnalyticalListPage": {
                    "controllerName": "my_app.ext.controller.AnalyticalListPageExt",
                        "sap.ui.generic.app": {
                            "ZCostCenterCostQuery0020": {
                            "EntitySet": "ZCostCenterCostQuery0020",
                            "Actions": {
                                "Action A": {
                                    "id": "ActionA",
                                    "text": "{{Action A}}",
                                    "press": "onClickActionA",
                                    "global": true,
 					   "command": "GlobalActionCommand ",

                                },
                                "Action B": {
                                    "id": "ActionB_requiresSelection",
                                    "text": "{{Action B}}",
                                    "press": "onClickActionB",
                                    "filter": "table",
                                    "requiresSelection":true
                                }
                                "Action C: {
                                    "id": "ActionC_requiresSelection",
                                    "text": "{{Action C}}",
                                    "press": "onClickActionC",
                                    "filter": "chart",
                                    "requiresSelection":true
                                }
                                "Action D": {
                                    "id": "ActionD",
                                    "text": "{{Action D}}",
                                    "press": "onClickActionD",
                                    "filter": "table"
                                }
                                "Action E: {
                                    "id": "ActionE",
                                    "text": "{{Action E}}",
                                    "press": "onClickActionE",
                                    "filter": "chart"
                                }
                            } //End of Custom Actions
                        } // End of entity type ZCostCenterCostQuery0020
                    }
                } // End of ALP controllerExtensions       
            } // End of controllerExternsions
        }
    },
        ....,
        ....
}
</pre></div></div></section>
            <p></p>
            <p>Custom actions defined in the application's custom controller:</p><div class="note other samplecode "><div class="collapsible-icon sap-icon"><div class="title"><strong>
					Sample Code
				</strong></div></div><div class="fig"><p>
                    </p><section><div class="fig fig-codeblock"><div class="copyButton"><span style="display: none;">Hidden</span></div><div class="codeblock-wrapper"><pre class="codeblock">sap.ui.define([], function () {
    return {
        onBeforeRebindTableExtension: function (oEvent) {
            console.log('onBeforeRebindTableExtension called!');
        },
        onBeforeRebindChartExtension: function (oEvent) {
            console.log('onBeforeRebindChartExtension called!');
        },
        onClickActionA() {
            console.log('Global Action Shortcut Key triggers');
            alert('Button A shows up only in table toolbar and is clicked toolbar!');
        },
        onClickActionB() {
            // The "getSelectedContexts" should be invoked from synchronous code block.
            //
            // The results of "getSelectedContexts" is cached on "aContexts" and 
            // passed as a parameter to the callback function "onActionConfirm".
            var aContexts = this.extensionAPI.getSelectedContexts();
            sap.m.MessageBox.confirm("Would you like to perform the action", {
                title: "Confirm",
                actions: [sap.m.MessageBox.Action.OK, sap.m.MessageBox.Action.CANCEL],
                emphasizedAction: sap.m.MessageBox.Action.OK,
                onClose: this.onActionConfirm.bind(this, aContexts)
            });
        },
        onActionConfirm(aContexts, sAction) {
            if (sAction === sap.m.MessageBox.Action.OK) {
                this.extensionAPI.invokeActions("/ActionB", aContexts).then(function () {
                    ///
                });
            }
        },
        onClickActionC() {
            var contexts = this.extensionAPI.getSelectedContexts(oEvent.ID);
            alert('Button C which shows up in chart toolbar only is clicked!');
        },
        onClickActionD() {
            alert('Button D which shows up in table toolbar only is clicked!');
        },
        onClickActionE() {
            alert('Button E which shows up in chart toolbar only is clicked!');
        }
    }
})</pre></div></div></section>
                <p></p></div></div><p></p>
        </section><section id="section_y52_dwn_j2b">
            <h2 class="title ">Invoke Actions</h2>
            <p>This extension API lets you invoke any back-end action from the controller extensions (standard
                SAPUI5
                API methods). For example:</p><section><div class="fig fig-codeblock"><div class="copyButton"><span style="display: none;">Hidden</span></div><div class="codeblock-wrapper"><pre class="codeblock">onClickActionSTTA_C_SO_SalesOrder_ND1: function(oEvent) {
  var oApi = this.extensionAPI;    
  var mParameters = {
        "SalesOrderID": "500000052"
     };
  oApi.invokeActions("STTA_SALES_ORDER_ND_SRV_01/AFF8CCF97ACESave_stta_i_so_salesorder_nd", [], mParameters);
}
</pre></div></div></section><p></p>
        </section><section class="contentInSection hidden"><h2>In this section:</h2></section><section class="familyLinks"><div class="parentLink hidden"><br><strong>Parent topic: </strong></div><div class="previousLink hidden"><br><strong>Previous: </strong></div><div class="nextLink hidden"><br><strong>Next: </strong></div></section><section class="relatedLinks "><div class="collapsible-icon sap-icon title"><h2>Related information</h2></div><ul class="fig">
        <li><a href="topic/9504fb4c9fc741c29bc0cc3c1f5fe83b" title="This section provides some of the advance configurations and extensions for your application." class="sap-doc">Configuring Analytical List Page App Extensions</a></li>
        <li><a href="topic/4117ef96dc874c5cacf4e8be299a6388" title="Define custom actions for tables by configuring the descriptor and annotation files." class="sap-doc">Smart Table Extensions</a></li>
    </ul></section></div></section></div></body></html>