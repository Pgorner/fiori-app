<html><head></head><body><div id="d4h5-main-container" class="dk-main"><section id="loioab267a6b958e46a28f3437154b2a1b2f" class=" section topic"><div class="section-mdeditlink hidden">
				<a class="mdeditlink hidden" href="https://github.com/SAP-docs/sapui5/blob/main/docs/04_Essentials/value-lists-ab267a6.md">Edit on GitHub</a>
			</div><div class="collapsible-icon sap-icon innerTitle"><h2 class="title ">Value Lists</h2></div><div class="fig"><div class="topictitle1 title"><h2 class="title ">Value Lists</h2></div><div class="shortdesc">The OData V4 model supports the access to value list metadata and data.</div><p>Value lists enable you to read the possible values for a given property, such as
				<code>Category</code> in the <code>Product</code> entity type. A value list
			is typically visualized as a dropdown list, or as a value help dialog, that is, a popup
			with additional features such as filters which help finding the correct value. For
			performance reasons, you can reduce the service <code>$metadata</code> document size
			by outsourcing value list information to value list services. Consequently, the value
			list information is accessed in two steps:</p><ol>
			<li class="li">
				<p>Determine the value list type that is available for a given property via
						<code>ODataPropertyBinding.requestValueListType</code> without loading
					the value list service. This is typically called to determine the visualization
					of this property.</p>
				<p>The <code>sap.ui.model.odata.v4.ValueListType</code>, that the promise
					delivers, can have the following values:</p>
				<ul class="ul ">
					<li class="li">
						<p><code>None</code>: No value list exists.</p>
					</li>
					<li class="li">
						<p><code>Fixed</code>: One enumeration of fixed values exists.</p>
					</li>
					<li class="li">
						<p><code>Standard</code>:  A dynamic value list with multiple queries including selection criteria exists.</p>
					</li>
				</ul>
			</li>
			<li class="li">
				<p>Determine the value list detail information on demand via <code>ODataPropertyBinding.requestValueListInfo</code> which returns a map of all
					annotations <code>com.sap.vocabularies.Common.v1.ValueList</code> or
						<code>com.sap.vocabularies.Common.v1.ValueListMapping</code> by qualifier. Each mapping has the
						<code>ValueListMappingType</code> type as specified in the OData 4.0 Common Vocabulary, see <a href="https://github.com/SAP/odata-vocabularies/blob/main/vocabularies/Common.md#ValueListMappingType" title="https://github.com/SAP/odata-vocabularies/blob/main/vocabularies/Common.md#ValueListMappingType" class="external-link" target="_blank" rel="noopener">OData
						4.0 Vocabularies - SAP Common</a>. Each mapping is enriched by a <code>$model</code> property of type
						<code>sap.ui.model.odata.v4.ODataModel</code> which can be used to access the value list metadata and retrieve value list
					data. The annotation <code>com.sap.vocabularies.Common.v1.ValueListRelevantQualifiers</code> is automatically taken into
					account.</p>
				<p>For value lists of type <code>Fixed</code>, only one mapping is expected and the qualifier is ignored. The mapping is available with key
					"".</p>
			</li>
		</ol><p>Additionally, you can use the synchronous method
				<code>ODataPropertyBinding.getValueListType</code> if the metadata for the
			property is already available. If this is not the case, an exception is thrown. The API
			is available in <code>sap.ui.model.odata.v4.ODataMetaModel</code> analogously for
			use cases where controls are not yet in place, for example, during XML templating.</p><p><span class="emphasis">Example: Retrieving the value list type for a property</span></p><section><div class="fig fig-codeblock"><div class="copyButton"><span style="display: none;">Hidden</span></div><div class="codeblock-wrapper"><pre class="codeblock"><code>#js</code>   
       onModelContextChange : function (oEvent) {
        var oBinding = this.getBinding("value");
 
        if (oBinding && oBinding.isResolved()) {
            oBinding.requestValueListType().then(function (sValueListType) {
 
 
                // render the control depending on the value list type and attach the below
                // event handler onValueHelp which is invoked when the user requests value help
 
                switch (sValueListType) {
                    case ValueListType.Standard:
                        ...
                        break;
                    case ValueListType.Fixed:
                        ...
                        break;
                    case ValueListType.None:
                        ...
                        break;
                }
                that.setAggregation("field", oField);
            });
        }
    },
...
    onValueHelp : function (oEvent) {
        var oBinding = this.getBinding("value");
 
        oBinding.requestValueListInfo().then(function (mValueListInfo) {
            // this assumes value list type "Fixed"
            var oValueListMapping = mValueListInfo[""],
                oValueListMetaModel = oValueListMapping.$model.getMetaModel();
  
            ...
        });
    },
...</pre></div></div></section><section id="section_azb_gwg_jfb">
			<h2 class="title ">The <code>ValueList</code> Annotation</h2>
			<p>There are three options to place the <code>ValueList</code> annotation:</p>
			<ul class="ul ">
				<li class="li">
					<p>In the value list service (the preferred way): When adding a value list for a property, the OData service only contains an annotation with the
						property as target and the term <code>com.sap.vocabularies.Common.v1.ValueListReferences</code> pointing to the metadata
						of the value list service. The <code>ValueList</code> annotation itself is in the referenced service. It must not have the
							properties<code> CollectionRoot</code> and <code>SearchSupported</code>.</p>
				</li>
				<li class="li">
					<p>In the OData service itself: In this case, the <code>ValueList</code> annotation must have the property <code>CollectionRoot</code>
						pointing to the metadata of the value list service. The annotation
							<code>com.sap.vocabularies.Common.v1.ValueListReferences</code> is not needed. The disadvantage of this solution is
						that all such value list information is preloaded when the application loads the root metadata at application start.</p>
				</li>
				<li class="li">
					<p>In a (local) annotation file: This is very similar to the previous option and allows you to <span class="emphasis">add</span> or
							<span class="emphasis">override</span> value list information by using a <code>new</code> or <code>existing</code>
						qualifier, respectively. If no <code>CollectionRoot</code> is present, the data service itself needs to provide the value
						list entity set! For overriding, make sure to use the proper <code>CollectionRoot</code>, that is the string value from
						the corresponding <code>com.sap.vocabularies.Common.v1.ValueListReferences</code> annotation.</p>
					<p><span class="emphasis">Example: Placing the <code>ValueList</code> Annotation in a Local Annotation File</span></p>
					<section><div class="fig fig-codeblock"><div class="copyButton"><span style="display: none;">Hidden</span></div><div class="codeblock-wrapper"><pre class="codeblock">&lt;Annotations Target="com.sap.gateway.default.zui5_epm_sample.v0002.Product/Category"&gt;
    &lt;Annotation Term="SAP__common.ValueList" Qualifier="existing"&gt;
        &lt;Record&gt;
            &lt;PropertyValue Property="Label" String="Category (Modified Mapping)" /&gt;
            &lt;PropertyValue Property="CollectionRoot" String="../../../../f4/sap/h_epm_pd_cats-sh/0001;ps='default-zui5_epm_sample-0002';va='com.sap.gateway.default.zui5_epm_sample.v0002.ET-PRODUCT.CATEGORY'/$metadata" /&gt;
            &lt;PropertyValue Property="CollectionPath" String="H_EPM_PD_CATS_SH_Set" /&gt;
            &lt;PropertyValue Property="Parameters"&gt;
                &lt;Collection&gt;
                    &lt;Record Type="SAP__common.ValueListParameterDisplayOnly"&gt;
                        &lt;PropertyValue Property="Label" String="Category" /&gt;
                        &lt;PropertyValue Property="ValueListProperty" String="CATEGORY" /&gt;
                    &lt;/Record&gt;
                &lt;/Collection&gt;
            &lt;/PropertyValue&gt;
        &lt;/Record&gt;
    &lt;/Annotation&gt;
&lt;/Annotations&gt;</pre></div></div></section>
				</li>
			</ul>
		</section><section id="section_x5d_lgq_kdc">
			<h2 class="title ">Other Annotations</h2>
			<p>You can add or overwrite any annotation for the value list service (not only <code>ValueList</code> as described in the previous
				section) in the <a href="topic/fd715d97ebf842739697c9a0f276f0c0" title="The OData V4 model supports loading of additional annotation files." class="sap-doc">(local) annotation files</a> of the data service. All annotations
				with a target in the namespace of the value list's schemas are copied.</p>
			<p><span class="emphasis">Example:</span> If the value list metadata looks like this:</p>
			<section><div class="fig fig-codeblock"><div class="copyButton"><span style="display: none;">Hidden</span></div><div class="codeblock-wrapper"><pre class="codeblock">[...]
&lt;Schema Namespace="com.sap.gateway.f4.d_pr_type-fv.v0001" Alias="SAP__self"&gt;
    &lt;EntityType Name="D_PR_TYPE_FV"&gt;
        &lt;Key&gt;
            &lt;PropertyRef Name="FIELD_VALUE" /&gt;
        &lt;/Key&gt;
        &lt;Property Name="FIELD_VALUE" Type="Edm.String" Nullable="false" MaxLength="2" /&gt;
        &lt;Property Name="DESCRIPTION" Type="Edm.String" Nullable="false" /&gt;
    &lt;/EntityType&gt;
    &lt;EntityContainer Name="Container"&gt;
        &lt;EntitySet Name="D_PR_TYPE_FV_SET" EntityType="SAP__self.D_PR_TYPE_FV" /&gt;
    &lt;/EntityContainer&gt;
    &lt;Annotations Target="SAP__self.D_PR_TYPE_FV/DESCRIPTION"&gt;
        &lt;Annotation Term="com.sap.vocabularies.Common.v1.Label" String="Standard description"/&gt;
    &lt;/Annotations&gt;
&lt;/Schema&gt;</pre></div></div></section>
			<p>then the following annotation in a (local) annotation file for the data service modifies the description's label of the type
				D_PR_TYPE_FV:</p>
			<section><div class="fig fig-codeblock"><div class="copyButton"><span style="display: none;">Hidden</span></div><div class="codeblock-wrapper"><pre class="codeblock">&lt;Schema Namespace="my.local.annotations"&gt;
    &lt;Annotations Target="com.sap.gateway.f4.d_pr_type-fv.v0001.D_PR_TYPE_FV/DESCRIPTION"&gt;
        &lt;Annotation Term="com.sap.vocabularies.Common.v1.Label" String="My fancy description"/&gt;
    &lt;/Annotations&gt;
&lt;/Schema&gt;</pre></div></div></section>
		</section><section class="contentInSection hidden"><h2>In this section:</h2></section><section class="familyLinks"><div class="parentLink hidden"><br><strong>Parent topic: </strong></div><div class="previousLink hidden"><br><strong>Previous: </strong></div><div class="nextLink hidden"><br><strong>Next: </strong></div></section><section class="relatedLinks "><div class="collapsible-icon sap-icon title"><h2>Related information</h2></div><ul class="fig">
		<li><a href="topic/648e360fa22d46248ca783dc6eb44531" title="The OData V4 model keeps data with respect to bindings. This allows different views on the same data but also means that data is not automatically shared between bindings. There are mechanisms for sharing data to avoid redundant requests and to keep the same data in different controls in sync." class="sap-doc">Data Reuse</a></li>
		<li><a href="https://github.com/SAP/odata-vocabularies/blob/main/vocabularies/Common.md#ValueListType" title="https://github.com/SAP/odata-vocabularies/blob/main/vocabularies/Common.md#ValueListType" class="sap-doc">OData 4.0 Vocabularies - SAP Common &gt; ValueListType</a></li>
		<li><a href="https://github.com/SAP/odata-vocabularies/blob/main/vocabularies/Common.md#ValueListMappingType" title="https://github.com/SAP/odata-vocabularies/blob/main/vocabularies/Common.md#ValueListMappingType" class="sap-doc">OData 4.0 Vocabularies - SAP Common &gt; ValueListMappingType</a></li>
		<li><a href="api/sap.ui.model.odata.v4.ValueListType" title="api/sap.ui.model.odata.v4.ValueListType" class="sap-doc" alt="api/sap.ui.model.odata.v4.ValueListType">sap.ui.model.odata.v4.ValueListType</a></li>
		<li><a href="api/sap.ui.model.odata.v4.ODataPropertyBinding#methods/getValueListType" title="api/sap.ui.model.odata.v4.ODataPropertyBinding#methods/getValueListType" class="sap-doc" alt="api/sap.ui.model.odata.v4.ODataPropertyBinding#methods/getValueListType">sap.ui.model.odata.v4.ODataPropertyBinding#getValueListType</a></li>
		<li><a href="api/sap.ui.model.odata.v4.ODataPropertyBinding#methods/requestValueListInfo" title="api/sap.ui.model.odata.v4.ODataPropertyBinding#methods/requestValueListInfo" class="sap-doc" alt="api/sap.ui.model.odata.v4.ODataPropertyBinding#methods/requestValueListInfo">sap.ui.model.odata.v4.ODataPropertyBinding#requestValueListInfo</a></li>
		<li><a href="api/sap.ui.model.odata.v4.ODataMetaModel#methods/getValueListType" title="api/sap.ui.model.odata.v4.ODataMetaModel#methods/getValueListType" class="sap-doc" alt="api/sap.ui.model.odata.v4.ODataMetaModel#methods/getValueListType">sap.ui.model.odata.v4.ODataMetaModel#getValueListType</a></li>
		<li><a href="api/sap.ui.model.odata.v4.ODataMetaModel#methods/requestValueListInfo" title="api/sap.ui.model.odata.v4.ODataMetaModel#methods/requestValueListInfo" class="sap-doc" alt="api/sap.ui.model.odata.v4.ODataMetaModel#methods/requestValueListInfo">sap.ui.model.odata.v4.ODataMetaModel#requestValueListInfo</a></li>
	</ul></section></div></section></div></body></html>