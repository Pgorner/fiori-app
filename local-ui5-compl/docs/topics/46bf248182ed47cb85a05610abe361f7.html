<html><head></head><body><div id="d4h5-main-container" class="dk-main"><section id="loio46bf248182ed47cb85a05610abe361f7" class=" section topic"><div class="section-mdeditlink hidden">
				<a class="mdeditlink hidden" href="https://github.com/SAP-docs/sapui5/blob/main/docs/06_SAP_Fiori_Elements/store-restore-the-application-state-46bf248.md">Edit on GitHub</a>
			</div><div class="collapsible-icon sap-icon innerTitle"><h2 class="title ">Store/Restore the Application State</h2></div><div class="fig"><div class="topictitle1 title"><h2 class="title ">Store/Restore the Application State</h2></div><div class="shortdesc">SAP Fiori elements uses the <code>iAppState</code> mechanism for storing
		or restoring the application state. This
		mechanism
		enables a smooth user experience when navigating back and forth between SAP Fiori elements and other apps.</div><p>The state of the application is preserved when users refresh or navigate away from an application created using SAP Fiori elements (either a list report or an object page) and then navigate back
			to this page. The application state is also preserved when the URL of the application is shared with another user who then opens the link.
			For more information, see <a href="topic/022bf0dcae1d4d90961ebe23d642fca3" title="The Share functionality allows end users to share the current application state using various options." class="sap-doc">The Share Functionality</a>.</p><section id="section_nkf_5ff_ymb">
			<h2 class="title ">What
				Is
				Stored/Restored</h2>
			<ul class="ul ">
				<li class="li">
					<p>Any filter field values in the list report filter bar.
						The
							<span class="ph uicontrol">Go</span> button state, when available, is also
						considered.</p>
				</li>
				<li class="li">
					<p>Any change in a chosen variant.</p>
					<p>In SAP Fiori elements for OData
                            V2, the chosen variant is always restored, if it was
						stored in a 'clean' state. If the variant was marked as 'dirty', restoring leads to the loading of a
							<span class="ph uicontrol">Standard</span> variant with a 'dirty' indicator.</p>
					<p>In SAP Fiori elements for OData
                            V4, the chosen variant is always restored and the
						fallback to the <span class="ph uicontrol">Standard</span> variant only happens when the chosen variant isn't available at the time of
						the restore.</p>
				</li>
				<li class="li">
					<p>Object page details such as tab selection, personalization of chart/table. For more information about object page handling, see
							<a href="topic/7c620843ed5946d69e2f932f8d17ac8b" title="You can configure the mode in which the state of the object page is stored/restored using iAppState." class="sap-doc">Enabling Discovery/Persistence Mode</a>.</p>
				</li>
				<li class="li">
					<p>Data from custom UI elements. For more information, see <a href="topic/89fa878945294931b15a581a99043005" title="You can perform inner app-state handling for custom UI elements." class="sap-doc">Custom State Handling for Extended Apps</a>.</p>
				</li>
			</ul>
			
			<div class="note   "><div class="collapsible-icon sap-icon"><div class="title"><strong>
					Note
				</strong></div></div><div class="fig"><p>
				</p><ul class="ul ">
					<li class="li">
						<p>If a potentially sensitive field (a property that is annotated via the
								<code>PersonalData.v1.IsPotentiallySensitive</code> annotation) is changed, SAP Fiori elements doesn't store/restore this information. Any
							changes added by users are therefore lost upon refresh. This is not applicable if the field is used in filter context.
						</p>
					</li>
					<li class="li">
						<p>In SAP Fiori elements for OData
                            V2, changes to the visibility of filter fields in
							the filter bar aren't stored/restored. However, if any new filter fields containing values are added from the
								<span class="ph uicontrol">Adapt Filters</span> dialog, then they're stored as a part of the <code>iAppState</code>. The
							order of the filter fields in the smart filter fields is not stored or restored from the <code>iAppState</code>.</p>
					</li>
					<li class="li">
						<p>Selections in a chart and a table, as well as the scroll position in a table, are not stored/restored.</p>
					</li>
					<li class="li">
						<p>Refreshing the browser doesn't restore the <code>iAppState</code> if SAP Fiori launchpad isn't configured to persist it in the back end.</p>
						
					</li>
				</ul>
			<p></p></div></div>
			
		</section><section id="section_bkt_vyl_mtb" class="collapsible expanded"><div class="collapsible-icon sap-icon"><h2 class="title collapsible expanded">Additional Features in SAP Fiori Elements for OData V4</h2></div><div class="fig"><p>Note the following restrictions related to the content provided in the generic <cite>What is Stored/Restored</cite> section in this
				topic:</p><div class="note restriction  "><div class="collapsible-icon sap-icon"><div class="title"><strong>
					Restriction
				</strong></div></div><div class="fig"><p>
				</p><ul class="ul ">
					<li class="li">
						<p>Drilldown filters applied to the chart using the <span class="ph uicontrol">View By</span> options aren't stored/restored.</p>
					</li>
					
				</ul>
			<p></p></div></div><section>
				<h3 class="title ">Handling Changes from Other Layers</h3>
				<p>Changes coming in from other flex layers, such as changes made by key users, are merged with user personalization changes coming
					from the <code>iAppState</code>. For more information, see <a href="topic/a8e55aa2f8bc4127923b20685a6d1621" title="Modification-free, cost-saving, easy to use, and performant: Discover the new flexibility when adapting SAP Fiori UIs using SAPUI5 flexibility." class="sap-doc">SAPUI5 Flexibility: Adapting UIs Made Easy</a>.</p>
				<p>Changes coming in from other flex layers are not considered in the following scenarios: </p>
				<ul class="ul ">
					<li class="li">
						<p>When navigating from dynamic tiles created by the user using the <span class="ph uicontrol">Save as Tile</span> option.</p>
					</li>
					<li class="li">
						<p>When navigating from integration cards, as the user's intention is to return to the same application state as when the card
							was created.</p>
					</li>
				</ul>
				
				<div class="note restriction  "><div class="collapsible-icon sap-icon"><div class="title"><strong>
					Restriction
				</strong></div></div><div class="fig"><p>
					</p><p>In the preceding scenarios, the following changes by the end user aren't retained or restored while navigating back to SAP Fiori elements for OData
                            V4 application:</p>
					<ul class="ul ">
						<li class="li">
							<p>The filter fields or table columns that were removed</p>
						</li>
						<li class="li">
							<p> Changes in the position of the filter fields or table columns</p>
						</li>
					</ul>
				<p></p></div></div>
				
				
				<div class="note   "><div class="collapsible-icon sap-icon"><div class="title"><strong>
					Note
				</strong></div></div><div class="fig"><p>
					</p><p>Restoring a shared URL reinstates the last state of the control if variant management isn't enabled. For example, consider the
						following scenario:</p>
					<ul class="ul ">
						<li class="li">
							<p>A key user adds two columns to a table in a list report-based application. </p>
						</li>
						<li class="li">
							<p>User A loads the application and adds two new columns. To share the application link as an email to user B, user A
								clicks the <span class="ph uicontrol">Share</span> menu button and then <span class="ph uicontrol">Send Email</span>. </p>
						</li>
						<li class="li">
							<p>When user B accesses this application, they see the table with the changes made by user A. It means user B sees the
								last state of the table and not the state as seen by the key user. </p>
						</li>
					</ul>
				<p></p></div></div>
				
				<div class="note   "><div class="collapsible-icon sap-icon"><div class="title"><strong>
					Note
				</strong></div></div><div class="fig"><p>
					</p><ul class="ul ">
						<li class="li">
							<p>Any filter field value coming from other layers is still overwritten by values for this field coming from SAP Fiori launchpad. For more information, see <a href="topic/f27ad7bc1f9c4b0d947b1fb18c37e94c" title="You can set default filter values for filter bar fields, for example." class="sap-doc">Configuring Default Filter Values</a>.</p>
						</li>
						<li class="li">
							<p>The logic that allows changes from other layers to be merged by the flex layer with the changes coming from an end user
								is only applied if the variant within the <code>iAppState</code> is available at the time when the restore takes
								place. If this is not the case, for example when the page was shared to another user and the target user doesn't have
								access to the variant shared in the <code>iAppState</code>, then the app loads using the
									<span class="ph uicontrol">Standard</span> variant and the full state of the page when it is shared is applied on top,
								meaning without any other layer changes. When
								this happens, the following changes won't be retained: the filter fields or table columns that were removed and
								changes in the filter field or table column position. </p>
						</li>
						<li class="li">
							<p>For a single-valued field, the merge logic always has priority over the other layer value (the value of the key user,
								for example) and the changes made by the end user for the same field are ignored.</p>
						</li>
						
					</ul>
				<p></p></div></div>
			</section></div></section><section class="contentInSection hidden"><h2>In this section:</h2></section><section class="familyLinks"><div class="parentLink hidden"><br><strong>Parent topic: </strong></div><div class="previousLink hidden"><br><strong>Previous: </strong></div><div class="nextLink hidden"><br><strong>Next: </strong></div></section><section class="hidden relatedLinks "><div class="collapsible-icon sap-icon title"><h2>Related information</h2></div><ul class="fig"></ul></section></div></section></div></body></html>