<html><head></head><body><div id="d4h5-main-container" class="dk-main"><section id="loiobfaf3ccf3d6d4735990cc793b21f5529" class=" section topic"><div class="section-mdeditlink hidden">
				<a class="mdeditlink hidden" href="https://github.com/SAP-docs/sapui5/blob/main/docs/06_SAP_Fiori_Elements/handling-of-the-preferredmode-parameter-bfaf3cc.md">Edit on GitHub</a>
			</div><div class="collapsible-icon sap-icon innerTitle"><h2 class="title ">Handling of the <span class="ph sap-technical-name">preferredMode</span> Parameter</h2></div><div class="fig"><div class="topictitle1 title"><h2 class="title ">Handling of the <span class="ph sap-technical-name">preferredMode</span> Parameter</h2></div><div class="shortdesc">Applications can configure the mode in which the object page is initially launched using the
			<span class="ph sap-technical-name">preferredMode</span> parameter.</div><p>The <span class="ph sap-technical-name">preferredMode</span> parameter supports multiple values that allows you to specify the mode in which
			the object page is launched. For more information, see the separate sections in this topic.</p><section id="section_rr2_sz2_qbc">
			<h2 class="title ">Using the <span class="ph sap-technical-name">preferredMode=create</span> parameter</h2>
			<p>You can configure the list report and object page apps in the SAP Fiori launchpad with a
				start-up parameter <span class="ph sap-technical-name">preferredMode=create</span>. When the app is launched from the tile, the object
				page loads directly in create mode.</p>
			<p>To achieve this behavior during external navigation, you can add <span class="ph sap-technical-name">preferredMode=create</span> to the
				navigation URL during external navigation:(…<span class="ph sap-technical-name">#SalesOrder-manage?preferredMode=create</span>). You can
				also add URL parameters after <span class="ph sap-technical-name">preferredMode=create</span> to pass specific values to be used in the
				creation process.</p>
			<div class="note other example "><div class="collapsible-icon sap-icon"><div class="title"><strong>
					Example
				</strong></div></div><div class="fig"><p>To set the value 01 for the <code>DefectCategory</code> field, enter the URL
					<span class="ph sap-technical-name">…#Defect-displayWorklist?preferredMode=create&DefectCategory=01</span>.</p></div></div>
			<p>For information about specific restrictions and the required manifest changes for this behavior, see the separate sections in this
				topic.</p>
		</section><section class="collapsible expanded"><div class="collapsible-icon sap-icon"><h2 class="title collapsible expanded">Additional Features in SAP Fiori Elements for OData V2</h2></div><div class="fig"><p>You can specify the mode in which the object page can be opened by entering the <span class="ph sap-technical-name">preferredMode</span>
				parameter, as shown in the following table:</p><div class="tableWrapper "><div class="fig"><table border="1" id="table_lgk_h3n_5lb" class=" ">
					
					
					<thead>
						<tr>
							<th colspan="1" rowspan="1">
								<p>PreferredMode Parameter</p>
							</th>
							<th colspan="1" rowspan="1">
								<p>Results in the following mode</p>
							</th>
						</tr>
					</thead>
					<tbody>
						<tr>
							<td colspan="1" rowspan="1">
								<p>display</p>
							</td>
							<td colspan="1" rowspan="1">
								<p>Object page opens in display mode unless the user is already working on a draft. In this case, the draft is opened
									in edit mode.</p>
							</td>
						</tr>
						<tr>
							<td colspan="1" rowspan="1">
								<p>edit</p>
							</td>
							<td colspan="1" rowspan="1">
								<p>A draft is created if one doesn't exist yet. If an outdated draft by another user exists ("unsaved changes"), the
									user can decide to cancel this draft and create their own, or to keep the other user's draft and open it in
									display mode. If another user's draft exists and is not outdated, the page is opened in display mode.</p>
							</td>
						</tr>
						<tr>
							<td colspan="1" rowspan="1">
								<p>create</p>
							</td>
							<td colspan="1" rowspan="1">
								<p><span class="uinolabel">Create Object Page</span> is opened in the target application.</p>
								<p>In draft-enabled applications, a
									new draft is created by using the <code>POST</code> call, by default. Users can override this behavior and
									configure applications to call a function import annotated with <code>newAction</code>.</p>
								<p>You can use URL parameters to prefill specific values. This is currently not supported for draft creation via
										<code>newAction</code>. For example, to set the value 01 for the <span class="ph uicontrol">DefectCategory</span>
									field, enter the URL <code>…#Defect-displayWorklist?preferredMode=create&DefectCategory=01</code>.</p>
								<div class="note   "><div class="collapsible-icon sap-icon"><div class="title"><strong>
					Note
				</strong></div></div><div class="fig"><p>
									</p><p>The target application must specify in its <code>manifest.json</code>
										file which parameters
										are to be used from the incoming URL. In the following example, only the
											<code>DefectCategory</code>
										parameter is used.</p>
									<section><div class="fig fig-codeblock"><div class="copyButton"><span style="display: none;">Hidden</span></div><div class="codeblock-wrapper"><pre class="codeblock">"sap.ui.generic.app": { 
   "_version": "1.2.0",
   "settings": {
      ... 
  "inboundParameters": {
         "DefectCategory": {
            "useForCreate": true
         }
      }
   },
   "pages": [
      {
         ...</pre></div></div></section>
								<p></p></div></div>
							</td>
						</tr>
						<tr>
							<td colspan="1" rowspan="1">
								<p><code>callUnboundAction</code></p>
							</td>
							<td colspan="1" rowspan="1">
								<p>You can use this value to automatically trigger an unbound action when an app is started with this startup
									parameter during an external navigation scenario.
									The startup parameters must contain the mandatory specification of the unbound action and values
									for the inbound parameters of that action.</p>
								<p>The target app must
									make
									the unbound action
									available.
									To
									do this, you can specify the changes in the <code>manifest.json</code> file, as shown in the following sample code:</p><div class="note other samplecode "><div class="collapsible-icon sap-icon"><div class="title"><strong>
					Sample Code
				</strong></div></div><div class="fig"><p>
										</p><section><div class="fig fig-codeblock"><div class="copyButton"><span style="display: none;">Hidden</span></div><div class="codeblock-wrapper"><pre class="codeblock">"sap.ui.generic.app": { 
   "_version": "1.2.0",
   "settings": {
      ... 
  "inboundParameters": {
         "myActionName": {
            "useForActionResolution": {
		   "myCreateWithNameAndStreet": "myCreate1",
		   "myCreateWithoutNameAndStreet": "myCreate3",	
         }
      }
</pre></div></div></section>
									<p></p></div></div><p></p>
								<p>The 
									sample code
									shows two
									unbound actions, <code>myCreate1</code> and <code>myCreate3</code>, that are used by this feature. These
									unbound actions are
									defined in the <code>metadata.xml</code> of the
									service,  as
									shown in the
									following
									sample code:</p>
								<div class="note other samplecode "><div class="collapsible-icon sap-icon"><div class="title"><strong>
					Sample Code
				</strong></div></div><div class="fig"><p>
									</p><section class="collapsible"><div class="collapsible-icon sap-icon title"><strong>
						Sample Code
					</strong></div><div class="fig fig-codeblock"><div class="copyButton"><span style="display: none;">Hidden</span></div><div class="codeblock-wrapper"><pre class="codeblock">&lt;FunctionImport Name="myCreate1" ReturnType="cds_zvd_drafts_customer_sd.CustomerType" EntitySet="Customer" m:HttpMethod="POST"&gt;
&lt;Parameter Name="ResultIsActiveEntity" Type="Edm.Boolean" Mode="In" Nullable="true" sap:label="Result is active"/&gt;
&lt;Parameter Name="Name" Type="Edm.String" Mode="In" MaxLength="40" Nullable="true" sap:label="Customer Name"/&gt;
&lt;Parameter Name="Street" Type="Edm.String" Mode="In" MaxLength="40" Nullable="true" sap:label="Customer Street"/&gt;
&lt;/FunctionImport&gt;
&lt;FunctionImport Name="myCreate3" ReturnType="cds_zvd_drafts_customer_sd.CustomerType" EntitySet="Customer" m:HttpMethod="POST"&gt;
&lt;Parameter Name="ResultIsActiveEntity" Type="Edm.Boolean" Mode="In" Nullable="true" sap:label="Result is active"/&gt;
&lt;/FunctionImport&gt;
</pre></div></div></section>
								<p></p></div></div>
								<p>The source app passes the startup parameter <code>mode/preferredMode</code> as
										<code>callUnboundAction</code>. <code>myActionName</code> is used to specify the unbound action that
									is called. The actions must be addressed by their logical names and not by their technical names.
									</p>
								<p>
								
								</p><p>Moreover, the source app can also pass values for any inbound parameter of the specified action. In the following
									sample code, <code>myCreate1</code> function import is called with the inbound parameters
										<code>ResultIsActiveEntity</code> and <code>Name</code>.</p>
								
								<div class="note other samplecode "><div class="collapsible-icon sap-icon"><div class="title"><strong>
					Sample Code
				</strong></div></div><div class="fig"><p>
									</p><section class="collapsible"><div class="collapsible-icon sap-icon title"><strong>
						Sample Code
					</strong></div><div class="fig fig-codeblock"><div class="copyButton"><span style="display: none;">Hidden</span></div><div class="codeblock-wrapper"><pre class="codeblock">#NewActionTest-NewActionTest?preferredMode=callUnboundAction&myActionName=myCreate1&ResultIsActiveEntity=true&Name=myName</pre></div></div></section>
								<p></p></div></div>
							</td>
						</tr>
					</tbody>
				</table></div></div><div class="note   "><div class="collapsible-icon sap-icon"><div class="title"><strong>
					Note
				</strong></div></div><div class="fig"><p>
				</p><p>There is no double navigation. If no object page is defined in the
					<code>manifest.json</code>
					file of the target app or the (usually
					internal) navigation to the object page is overridden by external navigation, the list report is shown.</p>
			<p></p></div></div></div></section><section id="section_evr_bcd_hmb" class="collapsible expanded"><div class="collapsible-icon sap-icon"><h2 class="title collapsible expanded">Additional Features in SAP Fiori Elements for OData V4</h2></div><div class="fig"><p>The <code>preferredMode</code> parameter works as follows:</p><ul class="ul ">
				<li class="li">
					<p>If the application has defined a create action (property <code>NewAction</code> of the annotation
							<code>StickySupported</code> or <code>DraftRoot</code>) and if this action is dependent on the mandatory
						parameters, then on launching
						 the app the action parameter dialog requests the
						user to enter the parameters. After entering the parameter values, the object page opens in create mode.</p>
				</li>
				
				<li class="li">
					<p>If the application has not defined a create action or if this action is not dependent on the mandatory parameters, then on
						launching the app, the object page doesn't open in create mode.</p>
				</li>
				
				<li class="li">
					<p>Applications can also define
						<code>createWith:</code>, followed
						by the desired action as the <code>preferredMode</code> value. In this case, this action is called when the app is opened
						in create mode.</p>
					<p>If the specified action has parameters, then an action parameter dialog appears after navigation to the target application. If
						values are already available from the navigation context for some of the fields, these values are taken over into the dialog.
						This is shown in the following sample code:</p>
					<div class="note other samplecode "><div class="collapsible-icon sap-icon"><div class="title"><strong>
					Sample Code
				</strong></div></div><div class="fig"><p>
						</p><section><div class="fig fig-codeblock"><div class="copyButton"><span style="display: none;">Hidden</span></div><div class="codeblock-wrapper"><pre class="codeblock">"preferredMode": {
     "defaultValue": {
          "value": "createWith:com.c_salesordermanage_sd.CreateWithSalesOrderType",
          "format": "value"
     }
},</pre></div></div></section>
					<p></p></div></div>
				</li>
				<li class="li">
					<p>Applications can also define <code>autoCreateWith:</code>, which works like <code>createWith:</code> except for the
						following behavior:</p>
					<ul class="ul ">
						<li class="li">
							<p>If values can be determined from the navigation context for all action parameters, the action parameter dialog is
								skipped after navigation.</p>
						</li>
						<li class="li">
							<p>If no value can be determined for at least one parameter, the action parameter dialog is still displayed and the
								provided values are taken over into the dialog fields.</p>
						</li>
					</ul>
					<div class="note other samplecode "><div class="collapsible-icon sap-icon"><div class="title"><strong>
					Sample Code
				</strong></div></div><div class="fig"><p>
						</p><section><div class="fig fig-codeblock"><div class="copyButton"><span style="display: none;">Hidden</span></div><div class="codeblock-wrapper"><pre class="codeblock">"preferredMode": {
     "defaultValue": {
          "value": "autoCreateWith:com.c_salesordermanage_sd.CreateWithSalesOrderType",
          "format": "value"
     }
},</pre></div></div></section>
					<p></p></div></div>
				</li>
			</ul><p>
				</p><div class="note   "><div class="collapsible-icon sap-icon"><div class="title"><strong>
					Note
				</strong></div></div><div class="fig"><p>
					</p><p>If an application has its own view instead of the default object page template and is configured with a start-up parameter
							<span class="ph sap-technical-name">preferredMode=create</span> (or has the URL parameter
							<span class="ph sap-technical-name">preferredMode=create</span>), this does not result in the behavior described above. In
						this case, the list report application is launched instead.</p>
				<p></p></div></div>
				<div class="note   "><div class="collapsible-icon sap-icon"><div class="title"><strong>
					Note
				</strong></div></div><div class="fig"><p>
					</p><p>There is no double navigation. If no object page is defined in the
						<code>manifest.json</code> file of the target
						app, the list report is shown.</p>
				<p></p></div></div>
			<p></p><section>
				<h3 class="title ">Passing Parameters when Using <span class="ph sap-technical-name">preferredMode=create</span></h3>
				<p>When <span class="ph sap-technical-name">preferredMode=create</span> is used with URL parameter values, there's a difference in the
					handling of the parameters based on creation mode:</p>
				<ul class="ul ">
					<li class="li">
						<p>For POST-based create, the values are only considered if they are also specified
							using
							the <code>useForCreate</code>
							 property in the
								<code>manifest.json</code>
							file 
							of
							the target application. URL parameters that are not defined
							using
							the <code>useForCreate</code>
							property in the
								<code>manifest.json</code>
							file,
							are not passed to the back end during the creation process. </p>
						<div class="note other samplecode "><div class="collapsible-icon sap-icon"><div class="title"><strong>
					Sample Code
				</strong></div></div><div class="fig"><p>Manifest changes to specify parameters relevant for
							<code>useForCreate</code></p><section><div class="fig fig-codeblock"><div class="copyButton"><span style="display: none;">Hidden</span></div><div class="codeblock-wrapper"><pre class="codeblock">"options": {
    "settings": {
        "contextPath": "/SalesOrderManage", // Object Page
        ...
        "inboundParameters": {
             "SalesOrderType": {
                "useForCreate": true
             }
        }
    }
}</pre></div></div></section><p></p></div></div>
						<p>If the "options": { "settings": { "contextPath": "/SalesOrderManage", // Object Page ... "inboundParameters": {
							"SalesOrderType": { "useForCreate": true } } }
								}<code>manifest.json</code>
							file of the object page
							in the target
							applicationis configured as
							shown in the sample code, an incoming URL like
								…<span class="ph sap-technical-name">#SalesOrder-manage?preferredMode=create&SalesOrderType=OR&Supplier=ABC</span>
							results in only the part <span class="ph sap-technical-name">SalesOrderType=OR</span> being passed to the back end in the
							create call. The "<span class="ph sap-technical-name">Supplier</span>" value is ignored because it is not
							specified
							in the <code>useForCreate</code>
							property.</p>
					</li>
					<li class="li">
						<p>For <code>NewAction()</code>-based create, the incoming value of the navigation context is always applied to the
							matching fields (exact technical name match) in the action parameter dialog. If no matching field is configured, the
							parameters from the navigation context are not passed. In this case the manifest setting "<code>useForCreate</code>"
							is not considered at all.</p>
						<div class="note   "><div class="collapsible-icon sap-icon"><div class="title"><strong>
					Note
				</strong></div></div><div class="fig"><p>
							</p><p>"options": {The parameter values in the navigation context are also passed for matching fields that are hidden, that
								is, the matching field is configured for the action parameter dialog in <code>NewAction()</code>, but not seen
								because of the <code>UI.Hidden</code> annotation.</p>
						<p></p></div></div>
					</li>
				</ul>
			</section><section>
				<h3 class="title ">Passing Parameters when Using <span class="ph sap-technical-name">preferredMode=edit</span></h3>
				<p>If an application is configured with the startup parameter <span class="ph sap-technical-name">preferredMode=edit</span> or contains
					the URL parameter <span class="ph sap-technical-name">preferredMode=edit</span> followed by a technical key or semantic key, then
					the object page can be launched directly in edit mode. When the object page opens in edit mode, a draft is created if one doesn't
					exist yet. </p>
				<ul class="ul ">
					<li class="li">
						<p><code>preferredMode=edit</code> as a startup parameter</p>
						<p>You can configure <span class="ph sap-technical-name">preferredMode=edit</span> as a startup parameter either in the SAP Fiori launchpad configuration or in the <code>Component.js</code> file
							of the application, along with a key pointing to the object page that needs to be opened in edit mode.</p>
						<div class="note other samplecode "><div class="collapsible-icon sap-icon"><div class="title"><strong>
					Sample Code
				</strong></div></div><div class="fig"><p>
							</p><section><div class="fig fig-codeblock"><div class="copyButton"><span style="display: none;">Hidden</span></div><div class="codeblock-wrapper"><pre class="codeblock">sap.ui.define(["sap/fe/core/AppComponent"], function(AppComponent) 
    "use strict";                                                  

    return AppComponent.extend("FormTemplate.Component", {         
        metadata: {                                                
            manifest: "json"                                       
        },                                                         
        getStartupParameters: function() {                         
            return Promise.resolve({                               
                preferredMode: ["edit"],
                ID: "1"                          
            });                                                    
        }                                                          
    });                                                            
);</pre></div></div></section>
						<p></p></div></div>
					</li>
					<li class="li">
						<p><span class="ph sap-technical-name">preferredMode=edit</span> as an URL parameter</p>
						<p>You can also use the <span class="ph sap-technical-name">preferredMode=edit</span> parameter directly as a URL parameter
							along with the key pointing to the object page, that prompts the navigation to the respective object page in edit mode. </p>
						<div class="note other samplecode "><div class="collapsible-icon sap-icon"><div class="title"><strong>
					Sample Code
				</strong></div></div><div class="fig"><p>
							</p><section><div class="fig fig-codeblock"><div class="copyButton"><span style="display: none;">Hidden</span></div><div class="codeblock-wrapper"><pre class="codeblock">#Manage-items?preferredMode=edit&ID=1</pre></div></div></section>
						<p></p></div></div>
					</li>
				</ul>
			</section></div></section><section class="contentInSection hidden"><h2>In this section:</h2></section><section class="familyLinks"><div class="parentLink hidden"><br><strong>Parent topic: </strong></div><div class="previousLink hidden"><br><strong>Previous: </strong></div><div class="nextLink hidden"><br><strong>Next: </strong></div></section><section class="relatedLinks "><div class="collapsible-icon sap-icon title"><h2>Related information</h2></div><ul class="fig">
		<li><a href="topic/993e99eae4414b73bc7afef9518c79bf" title="The list report supports a number of actions." class="sap-doc">Actions in the List Report</a></li>
		<li><a href="topic/cbf16c599f2d4b8796e3702f7d4aae6c" title="You can use generic actions provided by SAP Fiori elements and implement application-specific actions using annotations or extension points." class="sap-doc">Actions</a></li>
		
		<li><a href="topic/a42427550b72436a8bdf53045b06effb" title="SAP Fiori elements control the navigation within an app (internal navigation) and the navigation to and from an app (external navigation)." class="sap-doc">Configuring Navigation</a></li>
		
	</ul></section></div></section></div></body></html>