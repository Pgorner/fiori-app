<html><head></head><body><div id="d4h5-main-container" class="dk-main"><section id="loioec445816634f45eb88a7e559187dac46" class=" section topic"><div class="section-mdeditlink hidden">
				<a class="mdeditlink hidden" href="https://github.com/SAP-docs/sapui5/blob/main/docs/03_Get-Started/step-9-list-detail-scenario-ec44581.md">Edit on GitHub</a>
			</div><div class="collapsible-icon sap-icon innerTitle"><h2 class="title ">Step 9: List-Detail Scenario</h2></div><div class="fig"><div class="topictitle1 title"><h2 class="title ">Step 9: List-Detail Scenario</h2></div><div class="shortdesc">In this step we add a detail area with additional information.</div><section id="section_bt4_fxc_z1b"><h2 class="title ">Preview</h2>
			<div><div class="fig"><img src="loio6e9025bc4522494c97d1b60a3f8eec31_LowRes.png" title="A list of users with an added detail area" alt="A list of users with an added detail area" usemap="#"></div><span class="collapsible-icon sap-icon figcap title"><h2 class="title ">A detail area containing information about the selected user is added</h2></span></div></section><section id="section_tsr_gxc_z1b"><h2 class="title ">Coding</h2><p>You can view and download all files at <a href="entity/sap.ui.core.tutorial.odatav4/sample/sap.ui.core.tutorial.odatav4.09/code" title="entity/sap.ui.core.tutorial.odatav4/sample/sap.ui.core.tutorial.odatav4.09/code" class="sap-doc" alt="entity/sap.ui.core.tutorial.odatav4/sample/sap.ui.core.tutorial.odatav4.09/code">OData V4 - Step 9</a>.</p></section><section id="section_pvc_fyc_z1b">
			<h2 class="title ">webapp/controller/App.controller.js</h2>
			<section class="lang-js"><div class="fig fig-codeblock"><div class="copyButton"><span style="display: none;">Hidden</span></div><div class="codeblock-wrapper"><pre class="codeblock">...
        onDelete : function () {
            var oContext,<span class="emphasis">
                oPeopleList = this.byId("peopleList"),
                oSelected = oPeopleList.getSelectedItem(),</span>
                sUserName;
 
            if (oSelected) {
                oContext = oSelected.getBindingContext();
                sUserName = oContext.getProperty("UserName");
                oContext.delete().then(function () {
                    MessageToast.show(this._getText("deletionSuccessMessage", sUserName));
                }.bind(this), function (oError) {<span class="emphasis">
                    if (oContext === oPeopleList.getSelectedItem().getBindingContext()) {
                        this._setDetailArea(oContext);
                    }</span>
                    this._setUIChanges();
                    if (oError.canceled) {
                        MessageToast.show(this._getText("deletionRestoredMessage", sUserName));
                        return;
                    }
                    MessageBox.error(oError.message + ": " + sUserName);
                }.bind(this));<span class="emphasis">
                this._setDetailArea();</span>
                this._setUIChanges(true);
            }
        },
...
		onMessageBindingChange : function (oEvent) {
			...
		},

<span class="emphasis">		onSelectionChange : function (oEvent) {
            this._setDetailArea(oEvent.getParameter("listItem").getBindingContext());
        },</span>

...<span class="emphasis">		
         /**
         * Toggles the visibility of the detail area
         *
         * @param {object} [oUserContext] - the current user context
         */
        _setDetailArea : function (oUserContext) {
            var oDetailArea = this.byId("detailArea"),
                oLayout = this.byId("defaultLayout"),
                oSearchField = this.byId("searchField");
 
            oDetailArea.setBindingContext(oUserContext || null);
            // resize view
            oDetailArea.setVisible(!!oUserContext);
            oLayout.setSize(oUserContext ? "60%" : "100%");
            oLayout.setResizable(!!oUserContext);
            oSearchField.setWidth(oUserContext ? "40%" : "20%");
        }</span></pre></div></div></section>
			<p>The <code>onSelectionChange</code> event handler retrieves the context of the selected list item and passes it to a new
					<code>_setDetailArea</code> function. Within <code>_setDetailArea</code>, the given context is passed as binding context
				for the semantic page detail area.</p>
			<p>Afterwards the detail area is made visible and is resized.</p>
			<p>The application also needs to close the detail area if its binding context is deleted. If the deleted context is restored after a failed
				DELETE request, or undeleted via <code>Context#resetChanges</code>, it could be shown in the detail area again, unless the user
				had selected another row in the meantime. Hence, we call <code>_setDetailArea</code> without a context once the context gets
				deleted, and with the restored context in the error handler of the <code>Context#delete</code> API. In
					<code>_setDetailArea</code> we resize the view based on the given context in an appropriate way.</p>
		</section><section id="section_pp2_mxc_z1b"><h2 class="title ">webapp/view/App.view.xml</h2><section class="lang-xml"><div class="fig fig-codeblock"><div class="copyButton"><span style="display: none;">Hidden</span></div><div class="codeblock-wrapper"><pre class="codeblock">&lt;mvc:View
	controllerName="sap.ui.core.tutorial.odatav4.controller.App"
	displayBlock="true"
	xmlns="sap.m"
	xmlns:mvc="sap.ui.core.mvc"
<span class="emphasis">	xmlns:l="sap.ui.layout"
	xmlns:semantic="sap.f.semantic"
	xmlns:f="sap.ui.layout.form"
	xmlns:core="sap.ui.core"</span>&gt;
	&lt;Shell&gt;
		&lt;App busy="{appView&gt;/busy}" class="sapUiSizeCompact"&gt;
			&lt;pages&gt;
				...
					&lt;content&gt;
<span class="emphasis">						&lt;l:ResponsiveSplitter defaultPane="defaultPane"&gt;
							&lt;l:PaneContainer orientation="Horizontal"&gt;
								&lt;l:SplitPane id="defaultPane"&gt;
									&lt;l:layoutData&gt;
										&lt;l:SplitterLayoutData id="defaultLayout" size="100%" resizable="false"/&gt;
									&lt;/l:layoutData&gt;</span>
									&lt;Table
										id="peopleList"
										growing="true"
										growingThreshold="10"
										items="{
											path: '/People',
											parameters: {
												$count: true,
												$$updateGroupId : 'peopleGroup'
											}
										}"
										mode="SingleSelectLeft"
<span class="emphasis">										selectionChange=".onSelectionChange"</span>&gt;
										&lt;headerToolbar&gt;
											...
										&lt;/headerToolbar&gt;
										...
									&lt;/Table&gt;
<span class="emphasis">								&lt;/l:SplitPane&gt;
								&lt;l:SplitPane&gt;
									&lt;!--Details--&gt;
									&lt;!--remove busy--&gt;
									&lt;semantic:SemanticPage
										id="detailArea"
										visible="false"&gt;
										&lt;semantic:titleHeading&gt;
											&lt;Title
												text="{FirstName} {LastName}"
												level="H2"/&gt;
										&lt;/semantic:titleHeading&gt;
										&lt;semantic:headerContent&gt;
												&lt;FlexBox&gt;
													&lt;VBox&gt;
														&lt;ObjectAttribute text="{i18n&gt;userNameLabelText}"/&gt;
														&lt;ObjectAttribute text="{UserName}"/&gt;
													&lt;/VBox&gt;
													&lt;VBox class="sapUiMediumMarginBegin"&gt;
														&lt;ObjectAttribute text="{i18n&gt;ageLabelText}"/&gt;
														&lt;ObjectNumber number="{Age}" unit="Years"/&gt;
													&lt;/VBox&gt;
												&lt;/FlexBox&gt;
										&lt;/semantic:headerContent&gt;
										&lt;semantic:content&gt;
											&lt;VBox&gt;
												&lt;FlexBox wrap="Wrap"&gt;
													&lt;f:Form	editable="false"&gt;
														&lt;f:title&gt;
															&lt;core:Title text="{i18n&gt;addressTitleText}" /&gt;
														&lt;/f:title&gt;
														&lt;f:layout&gt;
															&lt;f:ResponsiveGridLayout
																labelSpanXL="3"
																labelSpanL="3"
																labelSpanM="3"
																labelSpanS="12"
																adjustLabelSpan="false"
																emptySpanXL="4"
																emptySpanL="4"
																emptySpanM="4"
																emptySpanS="0"
																columnsXL="1"
																columnsL="1"
																columnsM="1"
																singleContainerFullSize="false" /&gt;
														&lt;/f:layout&gt;
														&lt;f:formContainers&gt;
															&lt;f:FormContainer&gt;
																&lt;f:formElements&gt;
																	&lt;f:FormElement label="{i18n&gt;addressLabelText}"&gt;
																		&lt;f:fields&gt;
																			&lt;Text text="{HomeAddress/Address}" /&gt;
																		&lt;/f:fields&gt;
																	&lt;/f:FormElement&gt;
																	&lt;f:FormElement label="{i18n&gt;cityLabelText}"&gt;
																		&lt;f:fields&gt;
																			&lt;Text text="{HomeAddress/City/Name}" /&gt;
																		&lt;/f:fields&gt;
																	&lt;/f:FormElement&gt;
																	&lt;f:FormElement label="{i18n&gt;regionLabelText}"&gt;
																		&lt;f:fields&gt;
																			&lt;Text text="{HomeAddress/City/Region}" /&gt;
																		&lt;/f:fields&gt;
																	&lt;/f:FormElement&gt;
																	&lt;f:FormElement label="{i18n&gt;countryLabelText}"&gt;
																		&lt;f:fields&gt;
																			&lt;Text text="{HomeAddress/City/CountryRegion}" /&gt;
																		&lt;/f:fields&gt;
																	&lt;/f:FormElement&gt;
																&lt;/f:formElements&gt;
															&lt;/f:FormContainer&gt;
														&lt;/f:formContainers&gt;
													&lt;/f:Form&gt;
													&lt;f:Form	editable="false"&gt;
														&lt;f:title&gt;
															&lt;core:Title text="{i18n&gt;bestFriendTitleText}" /&gt;
														&lt;/f:title&gt;
														&lt;f:layout&gt;
															&lt;f:ResponsiveGridLayout
																labelSpanXL="3"
																labelSpanL="3"
																labelSpanM="3"
																labelSpanS="12"
																adjustLabelSpan="false"
																emptySpanXL="4"
																emptySpanL="4"
																emptySpanM="4"
																emptySpanS="0"
																columnsXL="1"
																columnsL="1"
																columnsM="1"
																singleContainerFullSize="false" /&gt;
														&lt;/f:layout&gt;
														&lt;f:formContainers&gt;
															&lt;f:FormContainer&gt;
																&lt;f:formElements&gt;
																	&lt;f:FormElement label="{i18n&gt;nameLabelText}"&gt;
																		&lt;f:fields&gt;
																			&lt;Text text="{BestFriend/FirstName} {BestFriend/LastName}" /&gt;
																		&lt;/f:fields&gt;
																	&lt;/f:FormElement&gt;
																	&lt;f:FormElement label="{i18n&gt;ageLabelText}"&gt;
																		&lt;f:fields&gt;
																			&lt;Text text="{BestFriend/Age}" /&gt;
																		&lt;/f:fields&gt;
																	&lt;/f:FormElement&gt;
																	&lt;f:FormElement label="{i18n&gt;userNameLabelText}"&gt;
																		&lt;f:fields&gt;
																			&lt;Text text="{BestFriend/UserName}" /&gt;
																		&lt;/f:fields&gt;
																	&lt;/f:FormElement&gt;
																&lt;/f:formElements&gt;
															&lt;/f:FormContainer&gt;
														&lt;/f:formContainers&gt;
													&lt;/f:Form&gt;
												&lt;/FlexBox&gt;
											&lt;/VBox&gt;
										&lt;/semantic:content&gt;
									&lt;/semantic:SemanticPage&gt;
								&lt;/l:SplitPane&gt;
							&lt;/l:PaneContainer&gt;
						&lt;/l:ResponsiveSplitter&gt;</span>
					&lt;/content&gt;
					...
&lt;/mvc:View&gt;</pre></div></div></section><p>Several new namespaces are added to the <code>appView</code>. After the <code>&lt;content&gt;</code> and before the
					<code>&lt;Table&gt;</code> tag the first part of the <code>SplitPane</code> is added.</p>
			<p>We add a detail area after the user table. In the <code>appView</code> we add a splitter layout around the existing table. The
				first <code>SplitPane</code> contains the table with all users, and the second one contains the new detail area. It consists of
				two forms, one for the address information, and the other one for the best friend of the currently selected user. We also add the
					<code>onSelectionChange</code> event handler to the user table.</p>
			<p>It is important that all bindings we introduced in the detail area are relative (property) bindings, so that we can reuse data of the
				list. This allows our application to share data like the user name or the age between the user selected in the table and the detail
				area. This helps to avoid redundant requests and to keep the data between the two areas in sync. Editing a property in the user table
				will thus automatically be reflected in the detail area as well.</p>
			<p>One of the most vital parts of the data reuse functionality is the usage of the <code>autoExpandSelect</code> binding parameter. It
				permits us to put a tailored <code>$select</code> clause in the <code>GET</code> request, so that only missing properties are
				requested for display in the detail area.</p></section><section id="section_kl4_d1x_4cb">
			<h2 class="title ">webapp/i18n/i18n.properties</h2>
			<section class="lang-prefs"><div class="fig fig-codeblock"><div class="copyButton"><span style="display: none;">Hidden</span></div><div class="codeblock-wrapper"><pre class="codeblock">...
<span class="emphasis"># Detail Area
#XTIT: Title for Address
addressTitleText=Address
 
#XFLD: Label for Address
addressLabelText=Address
 
#XFLD: Label for City
cityLabelText=City
 
#XFLD: Label for Region
regionLabelText=Region
 
#XFLD: Label for Country
countryLabelText=Country
 
#XTIT: Title for Best Friend
bestFriendTitleText=Best Friend
 
#XFLD: Label for Best Friend Name
nameLabelText=Name</span>
</pre></div></div></section>
			<p>We add the missing texts to the properties file.</p>
		</section><section class="contentInSection hidden"><h2>In this section:</h2></section><section class="familyLinks"><div class="parentLink"><br><strong>Parent topic: </strong><a href="topic/bcdbde6911bd4fc68fd435cf8e306ed0">OData V4 Tutorial</a></div><div class="previousLink"><br><strong>Previous: </strong><a href="topic/a3e7cb6f671b4b839f37eb5f88429e41">Step 8: OData Operations</a></div><div class="nextLink"><br><strong>Next: </strong><a href="topic/e687dbdc4c064ba3a3ce3942288e8f74">Step 10: Enable Data Reuse</a></div></section><section class="relatedLinks "><div class="collapsible-icon sap-icon title"><h2>Related information</h2></div><ul class="fig">
		<li><a href="topic/648e360fa22d46248ca783dc6eb44531" title="The OData V4 model keeps data with respect to bindings. This allows different views on the same data but also means that data is not automatically shared between bindings. There are mechanisms for sharing data to avoid redundant requests and to keep the same data in different controls in sync." class="sap-doc">Data Reuse</a></li>
	</ul></section></div></section></div></body></html>