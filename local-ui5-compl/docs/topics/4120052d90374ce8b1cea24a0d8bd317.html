<html><head></head><body><div id="d4h5-main-container" class="dk-main"><section id="loio4120052d90374ce8b1cea24a0d8bd317" class=" section topic"><div class="section-mdeditlink hidden">
				<a class="mdeditlink hidden" href="https://github.com/SAP-docs/sapui5/blob/main/docs/06_SAP_Fiori_Elements/migrating-from-registercontrollerextensions-api-4120052.md">Edit on GitHub</a>
			</div><div class="collapsible-icon sap-icon innerTitle"><h2 class="title ">Migrating from <code>registerControllerExtensions</code> API </h2></div><div class="fig"><div class="topictitle1 title"><h2 class="title ">Migrating from <code>registerControllerExtensions</code> API </h2></div><div class="shortdesc">As of SAPUI5 1.120 release, the <a href="api/sap.suite.ui.generic.template.extensionAPI.extensionAPI#methods/sap.suite.ui.generic.template.extensionAPI.extensionAPI.registerControllerExtensions" title="api/sap.suite.ui.generic.template.extensionAPI.extensionAPI#methods/sap.suite.ui.generic.template.extensionAPI.extensionAPI.registerControllerExtensions" class="external-link" target="_blank" rel="noopener" alt="api/sap.suite.ui.generic.template.extensionAPI.extensionAPI#methods/sap.suite.ui.generic.template.extensionAPI.extensionAPI.registerControllerExtensions"><code>registerControllerExtensions</code></a>API is getting deprecated. It is planned to be removed from the
			SAPUI5 version 2.0.</div><div class="note   "><div class="collapsible-icon sap-icon"><div class="title"><strong>
					Note
				</strong></div></div><div class="fig"><p>
			</p><p>This topic is only applicable to SAP Fiori elements for OData
                            V2.</p>
		<p></p></div></div><p>Following are the requirements that describe why the API is getting deprecated:</p><ul class="ul ">
			<li class="li">
				<p>Now, SAPUI5  provides capabilities to register multiple
					controller extensions for a single floorplan (one controller extension per view) directly through the manifest. In this case, the
						<code>registerControllerExtensions</code> API is not required anymore.</p>
			</li>
			<li class="li">
				<p>The <code>registerControllerExtensions</code> API internally uses the <a href="api/sap.ui#methods/sap.ui.controller" title="api/sap.ui#methods/sap.ui.controller" class="external-link" target="_blank" rel="noopener" alt="api/sap.ui#methods/sap.ui.controller"><code>sap.ui.controller</code></a>
					API.</p>
			</li>
		</ul><section id="section_a2q_nzd_z1c">
			<h2 class="title ">Steps to Migrate</h2>
			<p>The current setup has the following three controller extension files for the object page.</p>
			<ul class="ul ">
				<li class="li">
					<p><code>DetailsExtension.controller.js</code></p>
					<p>The parent controller that invokes extensionAPI.<code>registerControllerExtensions</code> and registers the remaining two
						child controllers.</p>
				</li>
				<li class="li">
					<p><code>SalesOrderExtension.controller.js</code></p>
					<p>One of the child controllers that is responsible for the <code>Sales Order</code> view (bound with
							<code>C_STTA_SalesOrder_WD_20</code> entity set).</p>
				</li>
				<li class="li">
					<p><code>SalesOrderItemExtension.controller.js</code></p>
					<p>One of the child controllers that is responsible for the <code>Sales Order Item</code> view (bound with
							<code>C_STTA_SalesOrderItem_WD_20</code> entity set). </p>
				</li>
			</ul>
			<p>From SAPUI5 version 2.0, only the two child controller files
				are going to be required </p>
			<p><span class="emphasis">Step 1: Changes Required in the <code>manifest.json</code></span></p>
			<ol>
				<li class="li">
					<p>Register all the child controllers under <code>sap.ui.controllerExtensions</code> section of <code>manifest.json</code>. The
						registered entry must be in <code>&lt;FLOOR_PLAN_NAME&gt;#&lt;STABLE_ID_OF_VIEW&gt;</code> format. For example, the
							<code>SalesOrderExtension.controller.js</code> is to be registered as the following. </p>
					<div class="note other samplecode "><div class="collapsible-icon sap-icon"><div class="title"><strong>
					Sample Code
				</strong></div></div><div class="fig"><p>
						</p><section><div class="fig fig-codeblock"><div class="copyButton"><span style="display: none;">Hidden</span></div><div class="codeblock-wrapper"><pre class="codeblock">"sap.ui.controllerExtensions": { 
    ... 
    "sap.suite.ui.generic.template.ObjectPage.view.Details#STTASOWD20::sap.suite.ui.generic.template.ObjectPage.view.Details::C_STTA_SalesOrder_WD_20": { 
        "controllerName": "STTASOWD20.ext.controller.SalesOrderExtension", 
        "sap.ui.generic.app": { 
            "C_STTA_SalesOrder_WD_20": { 
                "EntitySet": "C_STTA_SalesOrder_WD_20", 
                "Header": { 
                    "Actions": { 
                       ... 
                    } 
                }, 
                "Sections": { 
                    "Actions": { 
                       ... 
                    } 
                } 
            } 
        } 
    } 
} </pre></div></div></section>
					<p></p></div></div>
				</li>
				<li class="li">
					<p>Copy the content (such as, header actions, section actions) of parent controller extension to the respective child controller
						extensions.</p>
				</li>
				<li class="li">
					<p>Remove the entry of parent controller extension from <code>sap.ui.controllerExtensions</code> section of
							<code>manifest.json</code>. </p>
				</li>
			</ol>
			<p><span class="emphasis">Step 2: Changes Required in the Controller Extensions</span></p>
			<ol>
				<li class="li">
					<p>Remove the parent controller extension file. </p>
				</li>
				<li class="li">
					<p>All the child controller extension files must extend the <code>sap.ui.core.mvc.ControllerExtension</code> class. </p>
					<div class="note other samplecode "><div class="collapsible-icon sap-icon"><div class="title"><strong>
					Sample Code
				</strong></div></div><div class="fig"><p>
						</p><section><div class="fig fig-codeblock"><div class="copyButton"><span style="display: none;">Hidden</span></div><div class="codeblock-wrapper"><pre class="codeblock">sap.ui.define([ 
    "sap/ui/core/mvc/ControllerExtension" 
], function (ControllerExtension) { 
    'use strict'; 
    return ControllerExtension.extend("STTASOWD20.ext.controller.SalesOrderExtension", { 
        override: { 
            // Overridden methods 
        }, 
        // Custom methods 
    }); 
}); </pre></div></div></section>
					<p></p></div></div>
				</li>
				<li class="li">
					<p>All the overridden methods must be kept under the <code>override</code> section of the controller extension class. It
						includes the following:</p><ul class="ul ">
							<li class="li">
								<p>All the methods provided by SAPUI5 (for e.g: onInit) </p>
							</li>
							<li class="li">
								<p>All the methods of <a href="api/sap.suite.ui.generic.template.ObjectPage.controllerFrameworkExtensions" title="api/sap.suite.ui.generic.template.ObjectPage.controllerFrameworkExtensions" class="external-link" target="_blank" rel="noopener" alt="api/sap.suite.ui.generic.template.ObjectPage.controllerFrameworkExtensions"><code>ObjectPage controllerFrameworkExtensions</code></a> (for e.g:
										<code>adaptNavigationParameterExtension</code>, <code>beforeSaveExtension</code>) </p>
							</li>
						</ul><p></p>
				</li>
				<li class="li">
					<p>All the custom methods are to be added after the <code>override</code> section. </p>
					<div class="note other samplecode "><div class="collapsible-icon sap-icon"><div class="title"><strong>
					Sample Code
				</strong></div></div><div class="fig"><p>
						</p><section><div class="fig fig-codeblock"><div class="copyButton"><span style="display: none;">Hidden</span></div><div class="codeblock-wrapper"><pre class="codeblock">sap.ui.define([ 
    "sap/ui/core/mvc/ControllerExtension" 
], function (ControllerExtension) { 
    'use strict'; 
 
    return ControllerExtension.extend("STTASOWD20.ext.controller.SalesOrderExtension", { 
        override: { 
            onInit: function(){ 
            }, 
            adaptNavigationParameterExtension: function (oSelectionVariant, oObjectInfo) {}, 
            onBeforeRendering: function () {}, 
            beforeDeleteExtension: function () {}, 
            beforeSaveExtension: function () {} 
        }, 
        onObjectPage1CustomAction: function () { 
        }, 
        onSalesOrderInfo: function () {}, 
        onSalesOrderItemInfo: function () {} 
    }); 
}); </pre></div></div></section>
					<p></p></div></div>
				</li>
			</ol>
			<p><span class="emphasis">Steps 3: Changes Required in Declaring the Press Event Handlers in the Manifest</span></p>
			<p>Earlier, the event handlers for custom actions (that are implemented in controller extensions) were declared in the manifest by the name. In the
				following example, <code>onObjectPage1CustomAction</code> is the press event handler for the custom action
					<code>ObjectPageCustomAction</code>. </p>
			<div class="note other samplecode "><div class="collapsible-icon sap-icon"><div class="title"><strong>
					Sample Code
				</strong></div></div><div class="fig"><p>
				</p><section><div class="fig fig-codeblock"><div class="copyButton"><span style="display: none;">Hidden</span></div><div class="codeblock-wrapper"><pre class="codeblock">"sap.ui.generic.app": { 
    "C_STTA_SalesOrder_WD_20": { 
        "EntitySet": "C_STTA_SalesOrder_WD_20", 
        "Header": { 
            "Actions": { 
                "ObjectPageCustomAction": { 
                    "id": "ObjectPageCustomAction", 
                    "text": "Custom Action 1", 
                    "press": "onObjectPage1CustomAction", 
                    "determining": true, 
                    "applicablePath": "IsActiveEntity" 
                } 
            } 
        } 
    } 
} </pre></div></div></section>
			<p></p></div></div>
			<p>It is now going to be changed to extension.<code>&lt;CONTROLLER_MODULE_NAME&gt;.&lt;METHOD_NAME&gt;</code> format. </p>
			<div class="note other samplecode "><div class="collapsible-icon sap-icon"><div class="title"><strong>
					Sample Code
				</strong></div></div><div class="fig"><p>
				</p><section><div class="fig fig-codeblock"><div class="copyButton"><span style="display: none;">Hidden</span></div><div class="codeblock-wrapper"><pre class="codeblock">"sap.ui.generic.app": { 
    "C_STTA_SalesOrder_WD_20": { 
        "EntitySet": "C_STTA_SalesOrder_WD_20", 
        "Header": { 
            "Actions": { 
                "ObjectPageCustomAction": { 
                    "id": "ObjectPageCustomAction", 
                    "text": "Custom Action 1", 
                    "press": ".extension.STTASOWD20.ext.controller.SalesOrderExtension.onObjectPage1CustomAction", 
                    "determining": true, 
                    "applicablePath": "IsActiveEntity" 
                } 
            } 
        } 
    } 
} </pre></div></div></section>
			<p></p></div></div>
			<div class="note   "><div class="collapsible-icon sap-icon"><div class="title"><strong>
					Note
				</strong></div></div><div class="fig"><p>
				</p><p>Use the same format while referring to the custom methods from view and fragment files.</p>
			<p></p></div></div>
			<p>In the following example, refer to the <code>press</code> handler of the button. </p>
			<div class="note other samplecode "><div class="collapsible-icon sap-icon"><div class="title"><strong>
					Sample Code
				</strong></div></div><div class="fig"><p>
				</p><section><div class="fig fig-codeblock"><div class="copyButton"><span style="display: none;">Hidden</span></div><div class="codeblock-wrapper"><pre class="codeblock">&lt;core:FragmentDefinition xmlns:core="sap.ui.core" xmlns="sap.m"&gt; 
       &lt;Button id="previousMemoBtn" text="{i18n&gt;yes}"  
              press=".extension.SSTASOWD20.ext.controller.SalesOrderExtension.onPressPreviousMemo" /&gt; 
&lt;/core:FragmentDefinition&gt; </pre></div></div></section>
			<p></p></div></div>
		</section><section id="section_txf_1f2_z1c">
			<h2 class="title ">Additional Changes</h2>
			<p>You can get the instance of <code>extensionAPI</code> using <code>this.getView().getController().extensionAPI</code>. You can find more
				information in the following sample:</p>
			<div class="note other samplecode "><div class="collapsible-icon sap-icon"><div class="title"><strong>
					Sample Code
				</strong></div></div><div class="fig"><p>
				</p><section><div class="fig fig-codeblock"><div class="copyButton"><span style="display: none;">Hidden</span></div><div class="codeblock-wrapper"><pre class="codeblock">sap.ui.define([ 
    "sap/ui/core/mvc/ControllerExtension" 
], function (ControllerExtension) { 
    'use strict'; 
 
    return ControllerExtension.extend("STTASOWD20.ext.controller.SalesOrderExtension", { 
        override: { 
            onInit: function () { 
                // Initializing extensionAPI 
                this.extensionAPI = this.getView().getController().extensionAPI; 
            } 
        }, 
        onSalesOrderInfo: function () { 
            // Using extensionAPI 
            var aSelectedContexts = this.extensionAPI.getSelectedContexts("SalesOrderItemsID::responsiveTable"); 
        } 
    }); 
}); </pre></div></div></section>
			<p></p></div></div>
		</section><section class="contentInSection hidden"><h2>In this section:</h2></section><section class="familyLinks"><div class="parentLink hidden"><br><strong>Parent topic: </strong></div><div class="previousLink hidden"><br><strong>Previous: </strong></div><div class="nextLink hidden"><br><strong>Next: </strong></div></section><section class="hidden relatedLinks "><div class="collapsible-icon sap-icon title"><h2>Related information</h2></div><ul class="fig"></ul></section></div></section></div></body></html>