<html><head></head><body><div id="d4h5-main-container" class="dk-main"><section id="loio5fb9f57fcf12401bbe39a635e9a32a4e" class=" section topic"><div class="section-mdeditlink hidden">
				<a class="mdeditlink hidden" href="https://github.com/SAP-docs/sapui5/blob/main/docs/06_SAP_Fiori_Elements/adding-custom-fields-to-the-filter-bar-5fb9f57.md">Edit on GitHub</a>
			</div><div class="collapsible-icon sap-icon innerTitle"><h2 class="title ">Adding Custom Fields to the Filter Bar</h2></div><div class="fig"><div class="topictitle1 title"><h2 class="title ">Adding Custom Fields to the Filter Bar</h2></div><div class="shortdesc">You can extend the filter bar by using a custom filter field.</div><div class="note caution  "><div class="collapsible-icon sap-icon"><div class="title"><strong>
					Caution
				</strong></div></div><div class="fig"><p>
                </p><p>Use app extensions with caution and only if you cannot produce the required
                    behavior by other means, such as manifest settings or annotations. To correctly
                    integrate your app extension coding with SAP Fiori elements, use
                    only the <code>extensionAPI</code> of SAP Fiori elements. For
                    more information, see <a href="topic/bd2994b69ef542998becbc69ab093f7e" title="The extensionAPI consists of several elements that are described below. It can be used for the list report and object page." class="sap-doc">Using the extensionAPI</a>.</p>
                <p>After you've created an app extension, its display (for example, control
                    placement and layout) and system behavior (for example, model and binding usage,
                    busy handling) lies within the application's responsibility. SAP Fiori elements
                    provides support only for the official <code>extensionAPI</code> functions.
                    Don't access or manipulate controls, properties, models, or other internal
                    objects created by the SAP Fiori elements
                    framework.</p>
                
            <p></p></div></div><section id="section_r3m_ynr_jnb" class="collapsible expanded"><div class="collapsible-icon sap-icon"><h2 class="title collapsible expanded">Additional Features in SAP Fiori Elements for OData V2</h2></div><div class="fig"><p>To enable this, you need to add a view extension and a corresponding controller extension, as in the following example:</p><div class="note other samplecode "><div class="collapsible-icon sap-icon"><div class="title"><strong>
					Sample Code
				</strong></div></div><div class="fig"><p>
                    </p><section class="collapsible"><div class="collapsible-icon sap-icon title"><strong>
						Sample Code
					</strong></div><div class="fig fig-codeblock"><div class="copyButton"><span style="display: none;">Hidden</span></div><div class="codeblock-wrapper"><pre class="codeblock">"extends": {
                        "extensions": {
                        "sap.ui.controllerExtensions": {
                          "sap.suite.ui.generic.template.ListReport.view.ListReport": {
                            "controllerName": "my_app.ext.controller.ListReportExtension"
                          }
                        },
                "sap.ui.viewExtensions": { 
                                        "sap.suite.ui.generic.template.ListReport.view.ListReport": {
                                    "SmartFilterBarControlConfigurationExtension|&lt;myEntityset&gt;": {
                                              "className": "sap.ui.core.Fragment",
                                              "fragmentName": "&lt;myNamespace&gt;.ext.fragment.CustomFilter",
                                              "type": "XML"
                                          },
</pre></div></div></section>
                <p></p></div></div><p></p><p>You can add additional controls to the smart filter bar. The following methods are mandatory:</p><ul class="ul ">
                <li class="li">
                    <p>Use <code>onBeforeRebindTable</code> to evaluate the settings in the custom fields and to add the corresponding filters to
                        the <code>bindingParameters</code> of the table.</p>
                </li>
                <li class="li">
                    <p>Use <code>getCustomAppStateData</code> to read the state of all custom fields and store that state in the object provided
                        to enable the templates to use it for navigation.</p>
                </li>
                <li class="li">
                    <p>Use <code>restoreCustomAppStateData</code> to get the custom app state object you provided in
                            <code>getCustomAppStateData</code> and set the corresponding values for your custom controls. For example, you call
                        this method after returning from a navigation.</p>
                </li>
            </ul><p>The <code>onInitSmartFilterBarExtension</code> method can be used to set the default filter values or to bind a custom control on
                initialization of filter bar.</p><p>The enhanced controller methods each call a corresponding extension method: </p><ul class="ul ">
                    <li class="li">
                        <p><code>onBeforeRebindTableExtension</code></p>
                    </li>
                    <li class="li">
                        <p><code>getCustomAppStateDataExtension</code></p>
                    </li>
                    <li class="li">
                        <p><code>restoreCustomAppStateDataExtension</code></p>
                    </li>
                    <li class="li">
                        <p><code>onInitSmartFilterBarExtension</code>
                        </p>
                    </li>
                </ul><p></p><p>
                </p><div class="note   "><div class="collapsible-icon sap-icon"><div class="title"><strong>
					Note
				</strong></div></div><div class="fig"><p>The filterable fields are defined by metadata annotations. Use the extension option if the filter attribute can only be
                    calculated by the client.</p></div></div>
            <p></p><p>For an example with step-by-step instructions, see <a href="topic/3a515829ffd74239878ebc0d453d001d" title="The following example shows the development steps for adding an additional filter to the smart filter bar of the list report." class="sap-doc">Adding Filterable Field to the Smart Filter Bar</a>.</p><section>
                <h3 class="title ">Adding Custom Filter Fields to Exported File</h3>
                <p>When exporting table content which includes filter fields, they are included by default. The custom filters, however,
                    show the values
                    as they are passed to the query.</p>
                <p>For example, if user-entered value in the filter bar is <code>Cost=Low</code>, the filter value passed to the query is
                        <code>OverallCost&lt;1000</code>.</p>
                <p>To show the filter value as shown in the filter bar, such as <code>Cost=Low</code>, you can use the extension method
                        <code>onBeforeExportTableExtension</code></p>
                
                <div class="note other samplecode "><div class="collapsible-icon sap-icon"><div class="title"><strong>
					Sample Code
				</strong></div></div><div class="fig"><p>
                    </p><section><div class="fig fig-codeblock"><div class="copyButton"><span style="display: none;">Hidden</span></div><div class="codeblock-wrapper"><pre class="codeblock">sap.ui.define([
    "sap/ui/core/Element",
&gt;   "sap/ui/export/util/Filter"
&gt; ], function (Element, ExportFilter) {
&gt;   "use strict";
&gt; 
&gt;   return {
          onInit: function () {
                //...
           },
           /**
            * This extension method modifies the "Cost" filter in the exported file.
            * 
            * Removes the existing filter with label "OverallCost" and value "&lt;=1000",
            * and adds a new filter with label "Cost" and value "Low"
           * 
           * @param oExportParams 
           * @returns 
           */
           onBeforeExportTableExtension: function (oExportParams) {
               if (!oExportParams.includeFilterSettings) {
                     return;
                 }
               // Array of filters in the exported file
               var aFilterSettings = oExportParams.filterSettings;
                // Find the "Cost" combobox in smart filter bar
           var COST_COMBOBOX_ID = "STTA_MP::sap.suite.ui.generic.template.ListReport.view.ListReport::STTA_C_MP_Product--CustomFilter-OverallCost-combobox";
               var oCostCombobox = Element.getElementById(COST_COMBOBOX_ID);
                
               if (oCostCombobox && oCostCombobox.getValue()) {
                    var oRawValue, sNewCostValue;

                    for (var i = 0; i &lt; aFilterSettings.length; i++) {
                         var oCurrentFilter = aFilterSettings[i];
                         // Find the filter with property "OverallCost"
                         if (oCurrentFilter.getProperty() === "OverallCost") {
                              //Store the raw value
                              oRawValue = oCurrentFilter.rawValues[0];
                             //Remove the current filter from the filters array
                              aFilterSettings.splice(i, 1);
                              break;
                            }
                     }
                     // Derive Cost category (Low / High) from the raw value
                     if (oRawValue.operator === "&lt;=" && oRawValue.value === "1000") {
                         sNewCostValue = "Low";
                     } else {
                        sNewCostValue = "High";
                     }

                     //Create a new export filter with the new label and value
                     var sProperty = "OverallCost",
                         sLabel = "Cost",
                         oNewRawValue = {operator: "==", value: sNewCostValue},
                         oCostFilter = new ExportFilter(sProperty, oNewRawValue, sLabel);

                    //Add the updated filter to the filter settings array
                    aFilterSettings.push(oCostFilter);
                }
         }
     };
});
 in the controller extension.
                    This extension method is supported for exporting tables on analytical list
                    pages, list reports and object pages.
</pre></div></div></section>
                <p></p></div></div>
                
            </section></div></section><section id="section_sjl_14r_jnb" class="collapsible expanded"><div class="collapsible-icon sap-icon"><h2 class="title collapsible expanded">Additional Features in SAP Fiori Elements for OData V4</h2></div><div class="fig"><p>You can configure the <code>FilterBar</code> in the controller
                extension
                locally. To do so, use the
                    <code>@com.sap.vocabularies.UI.v1.SelectionFields</code>
                section
                of
                the <code>controlConfiguration</code>
                in
                the <code>manifest.json</code>
                file for the list report
                target.</p><div class="note other samplecode "><div class="collapsible-icon sap-icon"><div class="title"><strong>
					Sample Code
				</strong></div></div><div class="fig"><p><code>manifest.json</code></p><section class="lang-json"><div class="fig fig-codeblock"><div class="copyButton"><span style="display: none;">Hidden</span></div><div class="codeblock-wrapper"><pre class="codeblock">    ...
"targets": {
                "SalesOrderManageList": {
                    "type": "Component",
                    "id": "SalesOrderManageList",
                    "name": "sap.fe.templates.ListReport",
                    "options": {
                        "settings" : {
                            "contextPath" : "/SalesOrderManage",                              
                            "controlConfiguration" : {
                                 "@com.sap.vocabularies.UI.v1.SelectionFields" : {
                                    "navigationProperties": ["_Partner", "_DistributionChannel"],
                                    "filterFields": {
                                        "MyCustomRatingThing": {
                                            "label": "{i18n&gt;CustomRatingFilter}",
                                            "property": "Rating",
                                            "availability": "Default",
                                            "template": "SalesOrder.ext.CustomRatingFilter",
                                            "required": true,
                                            "position": {
                                                "placement": "After",
                                                "anchor": "SalesOrder"
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                },
...</pre></div></div></section><p></p></div></div><p>You can use the <code>filterFields</code> setting to add custom filters as shown in the following sample code:</p><div class="note other samplecode "><div class="collapsible-icon sap-icon"><div class="title"><strong>
					Sample Code
				</strong></div></div><div class="fig"><p>manifest.json</p><section><div class="fig fig-codeblock"><div class="copyButton"><span style="display: none;">Hidden</span></div><div class="codeblock-wrapper"><pre class="codeblock">"&lt;filterField&gt;": {
   "label": , // static string or i18n binding, e.g. "MyText" or "{i18n&gt;MyCustomLabel}"
   "property": , // the full path to the property to be filtered, e.g. "Rating" or "_Partner/Rating"
   "template": , // the path to the Xml Template containing the filter control, e.g. "SalesOrder.ext.CustomRatingFilter"
   "required": false | true, // determines if the filter field is mandatory or not, i.e. if it requires a value for filtering to be triggered; Default value = false.
   "availability": "Default" | "Hidden" | "Adaptation", //Toggling visibility of the filter field. Default = shown in filter bar; Adaptation = shown in Adapt Filters dialog; Hidden = Neither shown in filter bar nor within Adapt Filters dialog
   "position": {
      "placement": "Before"|"After",
      "anchor": "&lt;Key_of_filter_field&gt;" // for annotation based filter fields, the property is the key, e.g. "SalesOrder", "_Partner::FullName" (slashes are replaced by ::)
   }
}</pre></div></div></section><p></p></div></div><section>
                <h3 class="title ">Custom Filter Field: Simple Example</h3>
                <p>The following sample code shows how you can build an XML template for
                    the
                        <code>SalesOrder</code>
                    app:</p>
                <div class="note other samplecode "><div class="collapsible-icon sap-icon"><div class="title"><strong>
					Sample Code
				</strong></div></div><div class="fig"><p>
                    </p><section class="collapsible lang-xml"><div class="collapsible-icon sap-icon title"><strong>
						Sample Code
					</strong></div><div class="fig fig-codeblock"><div class="copyButton"><span style="display: none;">Hidden</span></div><div class="codeblock-wrapper"><pre class="codeblock">&lt;core:FragmentDefinition xmlns:core="sap.ui.core" xmlns="sap.m" xmlns:l="sap.ui.layout"&gt;
    &lt;HBox alignItems="Center" core:require="{handler: 'SalesOrder/ext/CustomRating'}" width="100%"&gt;
 
&lt;!--     // either handle value change in the handler... // --&gt;
&lt;!--     &lt;RatingIndicator id="MyCustomRatingIndicatorId" value="{= ${filterValues&gt;} ? ${filterValues&gt;}.substring(1) : null }" change="handler.onValueChanged" /&gt;--&gt;
 
&lt;!--     // ...or bind it directly (and use a filter value type) (recommended) // --&gt;
        &lt;RatingIndicator id="MyCustomRatingIndicatorId" value="{path: 'filterValues&gt;', type: 'sap.fe.macros.filter.type.Value'}" /&gt;
 
&lt;!--     // Example for adapting the used operator, using GT (greater than) instead of default EQ --&gt;
&lt;!--     &lt;RatingIndicator--&gt;
&lt;!--         id="MyCustomRatingIndicatorId"--&gt;
&lt;!--         value="{path: 'filterValues&gt;', type: 'sap.fe.macros.filter.type.Value', formatOptions: { operator: 'GT' }}"--&gt;
&lt;!--     /&gt;--&gt;
 
        &lt;core:Icon src="sap-icon://reset" press="handler.onReset" class="sapUiSmallMarginBegin" /&gt;
    &lt;/HBox&gt;
&lt;/core:FragmentDefinition&gt;</pre></div></div></section>
                <p></p></div></div>
                <p>You can build these custom filter fields for different properties of the <code>SalesOrder</code>. To facilitate this, ensure
                    that the key specified in the <code>manifest.json</code> is a unique string. The previous sample code shows the usage of
                    custom handlers, that is, handling value changes or handling a button click that resets the filters. Following the naming of this
                    example, these handlers are defined in file <code>SalesOrder/ext/CustomRating.js</code>.</p>
                <div class="note other samplecode "><div class="collapsible-icon sap-icon"><div class="title"><strong>
					Sample Code
				</strong></div></div><div class="fig"><p>
                    </p><section class="collapsible lang-js"><div class="collapsible-icon sap-icon title"><strong>
						Sample Code
					</strong></div><div class="fig fig-codeblock"><div class="copyButton"><span style="display: none;">Hidden</span></div><div class="codeblock-wrapper"><pre class="codeblock">sap.ui.define(["sap/ui/model/Filter", "sap/ui/model/FilterOperator"], function(Filter, FilterOperator) {
  "use strict";
  return {
    onValueChanged: function(oEvent) {
        this.setFilterValues("Rating", oEvent.getParameter("value").);
    },
    onReset: function(oEvent) {
        this.setFilterValues("Rating");
    }
 };
});</pre></div></div></section>
                <p></p></div></div>
                <p>The used function
                        <code>setFilterValues</code> is
                    part of the list report's <code>ControllerExtensionAPI</code>. </p>
                For more information, see the <a href="api/sap.fe.templates.ListReport.ExtensionAPI#methods/setFilterValues" title="api/sap.fe.templates.ListReport.ExtensionAPI#methods/setFilterValues" class="sap-doc" alt="api/sap.fe.templates.ListReport.ExtensionAPI#methods/setFilterValues">API Reference</a> in the Demo Kit.
            </section><section>
                <h3 class="title ">Custom Filter Field: MultiValue Example</h3>
                <p>When using controls that allow several values to be selected, you need to use a multi-valued field. In this case, each of the
                    possible values provided by the configured control is handled using an operator function. This operator functon is used as a
                    callback that only provides one parameter, including an array of input valus provided by the end user.</p>
                <div class="note other samplecode "><div class="collapsible-icon sap-icon"><div class="title"><strong>
					Sample Code
				</strong></div></div><div class="fig"><p>
                    </p><section class="collapsible lang-js"><div class="collapsible-icon sap-icon title"><strong>
						Sample Code
					</strong></div><div class="fig fig-codeblock"><div class="copyButton"><span style="display: none;">Hidden</span></div><div class="codeblock-wrapper"><pre class="codeblock">onMultiValueRatingLevels: function (values) {
    const filters = [];
    values.forEach((value) =&gt; {
        switch (value) {
            case "low":
                filters.push(new Filter({ path: "Rating", operator: FilterOperator.EQ, value1: 1 }));
                break;
            case "medium":
                filters.push(new Filter({ path: "Rating", operator: FilterOperator.EQ, value1: 2 }));
                filters.push(new Filter({ path: "Rating", operator: FilterOperator.EQ, value1: 3 }));
                filters.push(new Filter({ path: "Rating", operator: FilterOperator.EQ, value1: 4 }));
                break;
            case "high":
                filters.push(new Filter({ path: "Rating", operator: FilterOperator.EQ, value1: 5 }));
                break;
            default:
                return null;
                }
            });
 
        return new Filter({
            filters: filters
    });
}</pre></div></div></section>
                <p></p></div></div>
                <p>Check out our live example in the flexible programming model explorer at <a href="test-resources/sap/fe/core/fpmExplorer/index.html#/buildingBlocks/filterBar/filterBarCustoms" title="https://ui5.sap.com/test-resources/sap/fe/core/fpmExplorer/index.html#/buildingBlocks/filterBar/filterBarCustoms" class="sap-doc">Custom Filters</a>.</p>
            </section><section>
                <h3 class="title ">Custom Filter Field with Custom Filter Operators</h3>
                <p>In some cases, you may want to use a custom filter operator. For example, you may want to avoid your users having to enter the
                    exact values of a <code>SalesOrder</code> property. Instead, you can define your own value set to be used for input
                    selection.</p>
                <div class="note other samplecode "><div class="collapsible-icon sap-icon"><div class="title"><strong>
					Sample Code
				</strong></div></div><div class="fig"><p>Custom Rating Filter
                    Operator</p><section class="collapsible"><div class="collapsible-icon sap-icon title"><strong>
						Sample Code
					</strong></div><div class="fig fig-codeblock"><div class="copyButton"><span style="display: none;">Hidden</span></div><div class="codeblock-wrapper"><pre class="codeblock">&lt;core:FragmentDefinition xmlns:core="sap.ui.core" xmlns="sap.m"&gt;
    
        &lt;ComboBox
            id="MyCustomRatingComboBox"
            core:require="{handler: 'SalesOrder/ext/CustomRating'}"
            selectedKey="{path: 'filterValues&gt;', type: 'sap.fe.macros.filter.type.Value', formatOptions: { operator: 'SalesOrder.ext.CustomRating.ratingLevels' }}"
        &gt;
            &lt;items&gt;
                &lt;core:Item key="Low" text="Low Rating" /&gt;
                &lt;core:Item key="Medium" text="Medium Rating" /&gt;
                &lt;core:Item key="High" text="High Rating" /&gt;
            &lt;/items&gt;
        &lt;/ComboBox&gt;
&lt;/core:FragmentDefinition&gt;</pre></div></div></section><p></p></div></div>
                <p>In the following
                    sample
                    code, these custom filter operators are defined
                    in the file
                    <code>SalesOrder/ext/CustomRating.js</code>
                    using the function
                    <code>ratingLevels()</code>
                    and returned as custom filter conditions containing the values that you want to define:</p>
                <div class="note other samplecode "><div class="collapsible-icon sap-icon"><div class="title"><strong>
					Sample Code
				</strong></div></div><div class="fig"><p>Implementation of the Custom Rating
                    Operator</p><section class="collapsible lang-js"><div class="collapsible-icon sap-icon title"><strong>
						Sample Code
					</strong></div><div class="fig fig-codeblock"><div class="copyButton"><span style="display: none;">Hidden</span></div><div class="codeblock-wrapper"><pre class="codeblock">sap.ui.define(["sap/ui/model/Filter", "sap/ui/model/FilterOperator"], function(Filter, FilterOperator) {
  "use strict";
  return {
    ratingLevels: function(sValue) {
        switch (sValue) {
            case "Low":
                return new Filter({ path: "Rating", operator: FilterOperator.LT, value1: 2 });
            case "Medium":
                return new Filter({
                    filters: [
                        new Filter({ path: "Rating", operator: FilterOperator.GT, value1: 1 }),
                        new Filter({ path: "Rating", operator: FilterOperator.LT, value1: 5 })
                    ],
                    and: true
                });           
            case "High":
                return new Filter({ path: "Rating", operator: FilterOperator.EQ, value1: 5 });       
        }
    }
 };
});</pre></div></div></section><p></p></div></div>
                <p>In this function, you define new filter objects for every value ("Low", "Medium", and "High"). Every value represents a specific
                    key of the combo box used for user selection. The filter operators that you use can include all the filter operators defined in
                        <code>sap/ui/model/FilterOperator</code>. For more
                        information, see the <a href="api/sap.ui.model.FilterOperator" title="api/sap.ui.model.FilterOperator" class="sap-doc" alt="api/sap.ui.model.FilterOperator">API Reference: <code>sap.ui.model.FilterOperator</code></a>.
                    </p>
                <div class="note tip  "><div class="collapsible-icon sap-icon"><div class="title"><strong>
					Tip
				</strong></div></div><div class="fig"><p>
                    </p><p>To use case insensitive filtering, you must also pass the property <code>caseSensitive = false</code> to the constructor
                            <code>new Filter()</code>.</p>
                <p></p></div></div>
                
                <div class="note   "><div class="collapsible-icon sap-icon"><div class="title"><strong>
					Note
				</strong></div></div><div class="fig"><p>
                    </p><p>You must ensure that the custom operator is added to the <code>customFilterOperators</code> property of the
                            <code>sap.fe</code> entry in the <code>manifest.json</code> file. For instance, the custom operator in the
                        following sample code is <code>SalesOrder.ext.CustomRating.ratingLevels</code>, and it must be added to the
                            <code>manifest.json</code> file. This is essential to ensure that SAP Fiori elements can handle it correctly.</p>
                    <p>
                        </p><div class="note other samplecode "><div class="collapsible-icon sap-icon"><div class="title"><strong>
					Sample Code
				</strong></div></div><div class="fig"><p>manifest.json</p><section><div class="fig fig-codeblock"><div class="copyButton"><span style="display: none;">Hidden</span></div><div class="codeblock-wrapper"><pre class="codeblock">"sap.fe": {
   "macros": {
      "filter": {
         "customFilterOperators": [{
                    "name": "SalesOrder.ext.CustomRating.ratingLevels"
                  }]
        }
   }
}</pre></div></div></section><p></p></div></div>
                    <p></p>
                <p></p></div></div>
                
            </section><section>
                <h3 class="title ">Custom Filter Fields Marked as Required</h3>
                <p>You can also define your custom filter as required by setting it to <code>required = true</code> in the
                        <code>manifest.json</code>. As a result, the field is automatically marked with an asterisk. If you additionally want a
                    dynamic indicator, such as a red frame around a field, you must implement this in your custom template yourself. The following
                    sample code is an example of a handler that visualizes a red frame around a required input field that is missing a string
                    value:</p>
                <div class="note other samplecode "><div class="collapsible-icon sap-icon"><div class="title"><strong>
					Sample Code
				</strong></div></div><div class="fig"><p>
                    </p><section class="collapsible"><div class="collapsible-icon sap-icon title"><strong>
						Sample Code
					</strong></div><div class="fig fig-codeblock"><div class="copyButton"><span style="display: none;">Hidden</span></div><div class="codeblock-wrapper"><pre class="codeblock">&lt;core:FragmentDefinition xmlns:core="sap.ui.core" xmlns="sap.m"&gt;
    &lt;Input
        core:require="{handler: 'SalesOrder/ext/CustomRating'}"
        value="{path: 'filterValues&gt;', type: 'sap.fe.macros.filter.type.Value', formatOptions: { operator: 'Contains' }}"
        valueState="{path: 'filterValues&gt;', formatter: 'handler.onFilterInputFormatValue'}"
        placeholder="{i18n&gt;customStringFilterPlaceholder}"
    /&gt;
&lt;/core:FragmentDefinition&gt;</pre></div></div></section>
                <p></p></div></div>
                <p>The red frame is switched on or off using the formatter <code>onFilterInputFormatValue()</code> in the file
                        <code>SalesOrder/ext/CustomFilter.js</code> that updates the value state of the input field:</p>
                <div class="note other samplecode "><div class="collapsible-icon sap-icon"><div class="title"><strong>
					Sample Code
				</strong></div></div><div class="fig"><p>
                    </p><section class="collapsible lang-js"><div class="collapsible-icon sap-icon title"><strong>
						Sample Code
					</strong></div><div class="fig fig-codeblock"><div class="copyButton"><span style="display: none;">Hidden</span></div><div class="codeblock-wrapper"><pre class="codeblock">sap.ui.define(["sap/ui/core/ValueState"], function (ValueState) {
    "use strict";

    return {
        // this handler needs to be registered in the custom XML's input field
        onFilterInputFormatValue: function (sValue) {
            if (!sValue) {
                return ValueState.Error;
            } else {
                return ValueState.None;
            }
        }
    };
});</pre></div></div></section>
                <p></p></div></div>
            </section><p>You can explore and work with the coding yourself. Check out our live example in the flexible programming model explorer at <a href="test-resources/sap/fe/core/fpmExplorer/index.html#/customElements/customElementsOverview/customFilterContent" title="https://ui5.sap.com/test-resources/sap/fe/core/fpmExplorer/index.html#/customElements/customElementsOverview/customFilterContent" class="sap-doc">Custom Filter</a>.</p><div class="note   "><div class="collapsible-icon sap-icon"><div class="title"><strong>
					Note
				</strong></div></div><div class="fig"><p>
                </p><p>For custom filters, SAP Fiori elements provides an internal model called
                        <code>filterValues</code>, which is bound to each custom filter field and contains the filtered values specific to the
                    filter field.</p>
                <p>To support variant management handling and
                    app state handling, the value-providing property of the filter control that is used should be bound against the relative path
                        <code>{filterValues&gt;}</code>.</p>
            <p></p></div></div><section>
                <h3 class="title ">Custom Filter Fields With Metadata Binding</h3>
                <p>You can define custom columns with metadata binding. You can also use metadata binding to define the label for custom filters and
                    custom form elements.</p>
                <div class="note other samplecode "><div class="collapsible-icon sap-icon"><div class="title"><strong>
					Sample Code
				</strong></div></div><div class="fig"><p>
                    </p><section><div class="fig fig-codeblock"><div class="copyButton"><span style="display: none;">Hidden</span></div><div class="codeblock-wrapper"><pre class="codeblock">"MyCustomSoldToPartyThing": {
  "label": "{metaModel&gt;/SalesOrderManage/SoldToParty@com.sap.vocabularies.Common.v1.Label}",
  "property": "Rating",
  "template": "SalesOrder.ext.CustomSoldToParty",
  "required": true,
  "position": {
        "placement": "After",
        "anchor": "MyCustomRatingThing"
    }
}
</pre></div></div></section>
                <p></p></div></div>
            </section></div></section><section class="contentInSection hidden"><h2>In this section:</h2></section><section class="familyLinks"><div class="parentLink hidden"><br><strong>Parent topic: </strong></div><div class="previousLink hidden"><br><strong>Previous: </strong></div><div class="nextLink hidden"><br><strong>Next: </strong></div></section><section class="hidden relatedLinks "><div class="collapsible-icon sap-icon title"><h2>Related information</h2></div><ul class="fig"></ul></section></div></section></div></body></html>