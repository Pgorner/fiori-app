<html><head></head><body><div id="d4h5-main-container" class="dk-main"><section id="loio1714720cae984ad8b9d9111937e7cd38" class=" section topic"><div class="section-mdeditlink hidden">
				<a class="mdeditlink hidden" href="https://github.com/SAP-docs/sapui5/blob/main/docs/06_SAP_Fiori_Elements/visual-filters-1714720.md">Edit on GitHub</a>
			</div><div class="collapsible-icon sap-icon innerTitle"><h2 class="title ">Visual Filters</h2></div><div class="fig"><div class="topictitle1 title"><h2 class="title ">Visual Filters</h2></div><div class="shortdesc">An intuitive way of choosing filter values from an associated measure value.</div><section><p>You configure visual filters by enhancing the <code>ValueList</code> annotation associated with the filter field. For more
				information, see <a href="topic/16d43eb0472c4d5a9439ca1bf92c915d" title="The value list annotation lets you map an entity to another entity that is associated with a different entity set. The value list annotation defines the relationship between filter fields of the main entity set and the fields in the value help entity set." class="sap-doc">Enhancing ValueList Annotations for Visual Filters</a>. This setup supports line and bar charts.</p><p>Application
				developers must ensure that the records available via the value help entity set associated with the visual filter are the same as the
				records available via the value help entity set associated with the regular filter field. This is required for a smooth sync of the
				selected values across the different filter modes.</p><p>The visual filter includes only the first measure and dimension from the first chart annotation within the specified
					<code>PresentationVariantQualifier</code>. Make sure that the dimension you specify in the chart and the
					<code>ValueListProperty</code> of the <code>OUT</code> parameter is the same. You can also define a
					<code>SortOrder</code> property in the <code>PresentationVariant</code> annotation to control the sort order.</p><div class="note   "><div class="collapsible-icon sap-icon"><div class="title"><strong>
					Note
				</strong></div></div><div class="fig"><p>
					</p><p>Sorting in visual filters is based on this logic: </p><ul class="ul ">
							<li class="li">For the bar chart (and in SAP Fiori elements for OData
                            V2 also for the donut
								chart type), sorting is always based on the measure displayed (the default is descending order). To change the sort
								order, define the <code>SortOrder</code> property in the <code>PresentationVariant</code> annotation.</li>
							<li class="li">For line charts with time-based dimensions, sorting is always based on the dimension displayed in ascending order,
								however, only the last six time periods are
									displayed.<p>The
									sorting by the annotation is ignored for time-based dimensions for line-charts in the visual
									filter.</p></li>
							<li class="li">For line charts with non time-based dimensions, sorting is always based on the dimension (the default is ascending
								order). To change the sort order, define the <code>SortOrder</code> property in the
									<code>PresentationVariant</code> annotation.</li>
						</ul><p></p>
				<p></p></div></div><p></p><div class="imagemap_sidebyside dark-overlays" data-static-type="false">
				
				
				<div class="imagemap fig"><img src="loio77f4724abbaa4f38a7df73150248e2a8_LowRes.png" usemap="#__im_imagemap1"><map name="__im_imagemap1"><area shape="rect" coords="234,89,431,129" originalcoords="234,89,431,129" alt="1714720cae984ad8b9d9111937e7cd38.xml#loio1714720cae984ad8b9d9111937e7cd38/subsection-im1" title="Value List" href="topic/1714720cae984ad8b9d9111937e7cd38" class="sap-doc"><area shape="rect" coords="347,175,542,213" originalcoords="347,175,542,213" alt="1714720cae984ad8b9d9111937e7cd38.xml#loio1714720cae984ad8b9d9111937e7cd38/subsection-im2" title="Presentation Variant" href="topic/1714720cae984ad8b9d9111937e7cd38" class="sap-doc"><area shape="rect" coords="346,254,541,294" originalcoords="346,254,541,294" alt="1714720cae984ad8b9d9111937e7cd38.xml#loio1714720cae984ad8b9d9111937e7cd38/subsection-im3" title="Chart Annotation" href="topic/1714720cae984ad8b9d9111937e7cd38" class="sap-doc"><area shape="rect" coords="0,90,195,129" originalcoords="0,90,195,129" alt="1714720cae984ad8b9d9111937e7cd38.xml#loio1714720cae984ad8b9d9111937e7cd38/subsection-im4" title="Selection Fields" href="topic/1714720cae984ad8b9d9111937e7cd38" class="sap-doc"><area shape="rect" coords="128,175,324,214" originalcoords="128,175,324,214" alt="1714720cae984ad8b9d9111937e7cd38.xml#loio1714720cae984ad8b9d9111937e7cd38/subsection-im5" title="SelectionVariant Annotation" href="topic/1714720cae984ad8b9d9111937e7cd38" class="sap-doc"></map></div>
				<section id="subsection-im0" class="visibility-trigger">
					<h3 class="title visibility-trigger">
					<p>Hover over each action for a description. Click the action for more information.</p>
				</h3></section>
				<section id="subsection-im1" class="visibility-trigger">
					<h3 class="title visibility-trigger"><code>ValueList</code> Annotation</h3>
					<p>This is an example of a code snippet for a value list annotation. You use it to configure visual filters. For more information,
						see <a href="topic/16d43eb0472c4d5a9439ca1bf92c915d" title="The value list annotation lets you map an entity to another entity that is associated with a different entity set. The value list annotation defines the relationship between filter fields of the main entity set and the fields in the value help entity set." class="sap-doc">Enhancing ValueList Annotations for Visual Filters</a>.</p>
					<div class="note other samplecode "><div class="collapsible-icon sap-icon"><div class="title"><strong>
					Sample Code
				</strong></div></div><div class="fig"><p>XML
						Annotation</p><section class="collapsible"><div class="collapsible-icon sap-icon title"><strong>
						Sample Code
					</strong></div><div class="fig fig-codeblock"><div class="copyButton"><span style="display: none;">Hidden</span></div><div class="codeblock-wrapper"><pre class="codeblock">&lt;Annotations xmlns="http://docs.oasis-open.org/odata/ns/edm" Target="SEPMRA_ALP_SO_ANA_SRV.SEPMRA_C_ALP_SlsOrdItemCubeALPResult/SalesOrderOverallStatus"&gt;
   &lt;Annotation Term="Common.ValueList" Qualifier="VisualFilter"&gt;
      &lt;Record&gt;
         &lt;PropertyValue Property="Label" String="Overall Status" /&gt;
         &lt;PropertyValue Property="CollectionPath" String="SEPMRA_C_ALP_SlsOrdItemCubeALPResults" /&gt;
         &lt;PropertyValue Property="SearchSupported" Bool="false" /&gt;
         &lt;PropertyValue Property="PresentationVariantQualifier" String="FilterNumberOfSalesOrdersByStatus" /&gt;
         &lt;PropertyValue Property="SelectionVariantQualifier" String="SVForStatus" /&gt;
         &lt;PropertyValue Property="Parameters"&gt;
            &lt;Collection&gt;
               &lt;Record Type="Common.ValueListParameterInOut"&gt;
                  &lt;PropertyValue Property="LocalDataProperty" PropertyPath="SalesOrderOverallStatus" /&gt;
                  &lt;PropertyValue Property="ValueListProperty" String="SalesOrderOverallStatus" /&gt;
               &lt;/Record&gt;
               &lt;Record Type="Common.ValueListParameterInOut"&gt;
                  &lt;PropertyValue Property="LocalDataProperty" PropertyPath="MainProductCategory" /&gt;
                  &lt;PropertyValue Property="ValueListProperty" String="MainProductCategory" /&gt;
               &lt;/Record&gt;
               &lt;Record Type="Common.ValueListParameterInOut"&gt;
                  &lt;PropertyValue Property="LocalDataProperty" PropertyPath="ProductCategory" /&gt;
                  &lt;PropertyValue Property="ValueListProperty" String="ProductCategory" /&gt;
               &lt;/Record&gt;
            &lt;/Collection&gt;
         &lt;/PropertyValue&gt;
      &lt;/Record&gt;
   &lt;/Annotation&gt;
&lt;/Annotations&gt;</pre></div></div></section><p></p></div></div>
					<div class="note other samplecode "><div class="collapsible-icon sap-icon"><div class="title"><strong>
					Sample Code
				</strong></div></div><div class="fig"><p>CAP CDS
						Annotation</p><section class="collapsible"><div class="collapsible-icon sap-icon title"><strong>
						Sample Code
					</strong></div><div class="fig fig-codeblock"><div class="copyButton"><span style="display: none;">Hidden</span></div><div class="codeblock-wrapper"><pre class="codeblock">annotate SEPMRA_ALP_SO_ANA_SRV.SEPMRA_C_ALP_SlsOrdItemCubeALPResult with {
  @Common.ValueList #VisualFilter : {
    Label : 'Overall Status',
    CollectionPath : 'SEPMRA_C_ALP_SlsOrdItemCubeALPResults',
    SearchSupported : false,
    PresentationVariantQualifier : 'FilterNumberOfSalesOrdersByStatus',
    SelectionVariantQualifier : 'SVForStatus',
    Parameters : [
        {
            $Type : 'Common.ValueListParameterInOut',
            LocalDataProperty : SalesOrderOverallStatus,
            ValueListProperty : 'SalesOrderOverallStatus'
        },
        {
            $Type : 'Common.ValueListParameterInOut',
            LocalDataProperty : MainProductCategory,
            ValueListProperty : 'MainProductCategory'
        },
        {
            $Type : 'Common.ValueListParameterInOut',
            LocalDataProperty : ProductCategory,
            ValueListProperty : 'ProductCategory'
        }
    ]
  }
  SalesOrderOverallStatus
};
</pre></div></div></section><p></p></div></div>
					<div class="note   "><div class="collapsible-icon sap-icon"><div class="title"><strong>
					Note
				</strong></div></div><div class="fig"><p>
						</p><p>For information about the IN/OUT mapping of visual filters, see <a href="topic/16d43eb0472c4d5a9439ca1bf92c915d" title="The value list annotation lets you map an entity to another entity that is associated with a different entity set. The value list annotation defines the relationship between filter fields of the main entity set and the fields in the value help entity set." class="sap-doc">Enhancing ValueList Annotations for Visual Filters</a>.</p>
					<p></p></div></div>
				</section>
				<section id="subsection-im2" class="visibility-trigger">
					<h3 class="title visibility-trigger"><code>PresentationVariant</code> Qualifier</h3>
					<p>The <code>PresentationVariant</code> qualifier provides chart definitions for visual filters. The visual filter picks up the first chart
						annotation in the <code>PresentationVariant</code> annotation to render the chart. If the chart type
						isn't
						supported, the ALP renders a bar chart (default chart type).</p><div class="note other samplecode "><div class="collapsible-icon sap-icon"><div class="title"><strong>
					Sample Code
				</strong></div></div><div class="fig"><p>XML
							Annotation</p><section class="collapsible"><div class="collapsible-icon sap-icon title"><strong>
						Sample Code
					</strong></div><div class="fig fig-codeblock"><div class="copyButton"><span style="display: none;">Hidden</span></div><div class="codeblock-wrapper"><pre class="codeblock">&lt;Annotation Term="UI.PresentationVariant" Qualifier="FilterNumberOfSalesOrdersByStatus"&gt;
   &lt;Record&gt;
      &lt;PropertyValue Property="Text" String="Filter: Number of Sales Order by Status" /&gt;
      &lt;PropertyValue Property="SortOrder"&gt;
         &lt;Collection&gt;
            &lt;Record Type="Common.SortOrderType"&gt;
               &lt;PropertyValue Property="Property" PropertyPath="NumberOfSalesOrders" /&gt;
               &lt;PropertyValue Property="Descending" Bool="true" /&gt;
            &lt;/Record&gt;
         &lt;/Collection&gt;
      &lt;/PropertyValue&gt;
      &lt;PropertyValue Property="Visualizations"&gt;
         &lt;Collection&gt;
            &lt;AnnotationPath&gt;@UI.Chart#FilterNumberOfSalesOrdersByStatus&lt;/AnnotationPath&gt;
         &lt;/Collection&gt;
      &lt;/PropertyValue&gt;
   &lt;/Record&gt;
&lt;/Annotation&gt;</pre></div></div></section><p></p></div></div><div class="note other samplecode "><div class="collapsible-icon sap-icon"><div class="title"><strong>
					Sample Code
				</strong></div></div><div class="fig"><p>ABAP CDS
							Annotation</p><section class="collapsible"><div class="collapsible-icon sap-icon title"><strong>
						Sample Code
					</strong></div><div class="fig fig-codeblock"><div class="copyButton"><span style="display: none;">Hidden</span></div><div class="codeblock-wrapper"><pre class="codeblock">@UI.PresentationVariant: [
  {
    text: 'Filter: Number of Sales Order by Status',
    sortOrder: [
      {
        by: 'NUMBEROFSALESORDERS',
        direction: #DESC
      }
    ],
    visualizations: [
      {
        type: #AS_CHART,
        qualifier: 'FilterNumberOfSalesOrdersByStatus'
      }
    ],
    qualifier: 'FilterNumberOfSalesOrdersByStatus'
  }
]
annotate view VIEWNAME with {

}</pre></div></div></section><p></p></div></div><div class="note other samplecode "><div class="collapsible-icon sap-icon"><div class="title"><strong>
					Sample Code
				</strong></div></div><div class="fig"><p>CAP CDS
							Annotation</p><section class="collapsible"><div class="collapsible-icon sap-icon title"><strong>
						Sample Code
					</strong></div><div class="fig fig-codeblock"><div class="copyButton"><span style="display: none;">Hidden</span></div><div class="codeblock-wrapper"><pre class="codeblock">UI.PresentationVariant #FilterNumberOfSalesOrdersByStatus : {
    Text : 'Filter: Number of Sales Order by Status',
    SortOrder : [
        {
            $Type : 'Common.SortOrderType',
            Property : NumberOfSalesOrders,
            Descending : true
        },
    ],
    Visualizations : [
        '@UI.Chart#FilterNumberOfSalesOrdersByStatus'
    ]
},</pre></div></div></section><p></p></div></div><p></p>
				</section>
				<section id="subsection-im3" class="visibility-trigger">
					<h3 class="title visibility-trigger">Chart Annotation</h3>
					<div class="note other samplecode "><div class="collapsible-icon sap-icon"><div class="title"><strong>
					Sample Code
				</strong></div></div><div class="fig"><p>XML
						Annotation</p><section class="collapsible"><div class="collapsible-icon sap-icon title"><strong>
						Sample Code
					</strong></div><div class="fig fig-codeblock"><div class="copyButton"><span style="display: none;">Hidden</span></div><div class="codeblock-wrapper"><pre class="codeblock">&lt;Annotation Term="UI.Chart" Qualifier="FilterNumberOfSalesOrdersByStatus"&gt;
   &lt;Record Type="UI.ChartDefinitionType"&gt;
      &lt;PropertyValue Property="Title" String="Sales Orders by Status" /&gt;
      &lt;PropertyValue Property="Description" String="Number of Sales Orders by Status" /&gt;
      &lt;PropertyValue Property="ChartType" EnumMember="UI.ChartType/Donut" /&gt;
      &lt;PropertyValue Property="Dimensions"&gt;
         &lt;Collection&gt;
            &lt;PropertyPath&gt;SalesOrderOverallStatus&lt;/PropertyPath&gt;
         &lt;/Collection&gt;
      &lt;/PropertyValue&gt;
      &lt;PropertyValue Property="DimensionAttributes"&gt;
         &lt;Collection&gt;
            &lt;Record Type="UI.ChartDimensionAttributeType"&gt;
               &lt;PropertyValue Property="Dimension" PropertyPath="SalesOrderOverallStatus" /&gt;
               &lt;PropertyValue Property="Role" EnumMember="UI.ChartDimensionRoleType/Category" /&gt;
            &lt;/Record&gt;
         &lt;/Collection&gt;
      &lt;/PropertyValue&gt;
      &lt;PropertyValue Property="Measures"&gt;
         &lt;Collection&gt;
            &lt;PropertyPath&gt;NumberOfSalesOrders&lt;/PropertyPath&gt;
         &lt;/Collection&gt;
      &lt;/PropertyValue&gt;
      &lt;PropertyValue Property="MeasureAttributes"&gt;
         &lt;Collection&gt;
            &lt;Record Type="UI.ChartMeasureAttributeType"&gt;
               &lt;PropertyValue Property="Measure" PropertyPath="NumberOfSalesOrders" /&gt;
               &lt;PropertyValue Property="Role" EnumMember="UI.ChartMeasureRoleType/Axis1" /&gt;
               &lt;PropertyValue Property="DataPoint" AnnotationPath="@UI.DataPoint#NumberOfSalesOrders" /&gt;
            &lt;/Record&gt;
         &lt;/Collection&gt;
      &lt;/PropertyValue&gt;
   &lt;/Record&gt;
&lt;/Annotation&gt;</pre></div></div></section><p></p></div></div>
					<div class="note other samplecode "><div class="collapsible-icon sap-icon"><div class="title"><strong>
					Sample Code
				</strong></div></div><div class="fig"><p>ABAP CDS
						Annotation</p><section class="collapsible"><div class="collapsible-icon sap-icon title"><strong>
						Sample Code
					</strong></div><div class="fig fig-codeblock"><div class="copyButton"><span style="display: none;">Hidden</span></div><div class="codeblock-wrapper"><pre class="codeblock">@UI.Chart: [
  {
    title: 'Sales Orders by Status',
    description: 'Number of Sales Orders by Status',
    chartType: #DONUT,
    dimensions: [
      'SALESORDEROVERALLSTATUS'
    ],
    dimensionAttributes: [
      {
        dimension: 'SalesOrderOverallStatus',
        role: #CATEGORY
      }
    ],
    measures: [
      'NUMBEROFSALESORDERS'
    ],
    measureAttributes: [
      {
        measure: 'NumberOfSalesOrders',
        role: #AXIS_1,
		asDataPoint: true
      }
    ],
    qualifier: 'FilterNumberOfSalesOrdersByStatus'
  }
]
annotate view VIEWNAME with {

}
</pre></div></div></section><p></p></div></div>
					<div class="note other samplecode "><div class="collapsible-icon sap-icon"><div class="title"><strong>
					Sample Code
				</strong></div></div><div class="fig"><p>CAP CDS
						Annotation</p><section class="collapsible"><div class="collapsible-icon sap-icon title"><strong>
						Sample Code
					</strong></div><div class="fig fig-codeblock"><div class="copyButton"><span style="display: none;">Hidden</span></div><div class="codeblock-wrapper"><pre class="codeblock">UI.Chart #FilterNumberOfSalesOrdersByStatus : {
    $Type : 'UI.ChartDefinitionType',
    Title : 'Sales Orders by Status',
    Description : 'Number of Sales Orders by Status',
    ChartType : #Donut,
    Dimensions : [
        SalesOrderOverallStatus
    ],
    DimensionAttributes : [
        {
            $Type : 'UI.ChartDimensionAttributeType',
            Dimension : SalesOrderOverallStatus,
            Role : #Category
        }
    ],
    Measures : [
        NumberOfSalesOrders
    ],
    MeasureAttributes : [
        {
            $Type : 'UI.ChartMeasureAttributeType',
            Measure : NumberOfSalesOrders,
            Role : #Axis1,
            DataPoint : '@UI.DataPoint#NumberOfSalesOrders'
        }
    ]
}
</pre></div></div></section><p></p></div></div>
				</section>
				<section id="subsection-im4" class="visibility-trigger">
					<h3 class="title visibility-trigger">Annotation: <code>SelectionFields</code></h3>
					<p>Define the <code>SelectionFields</code> annotation for sorting the order of the fields displayed in the visual filters. If there are any
						mandatory filter fields that
						aren't
						specified in the <code>SelectionFields</code>, then these fields appear first, followed by the other entries in the
							<code>SelectionFields</code>.</p>
					<div class="note other samplecode "><div class="collapsible-icon sap-icon"><div class="title"><strong>
					Sample Code
				</strong></div></div><div class="fig"><p>XML
						Annotation</p><section class="collapsible"><div class="collapsible-icon sap-icon title"><strong>
						Sample Code
					</strong></div><div class="fig fig-codeblock"><div class="copyButton"><span style="display: none;">Hidden</span></div><div class="codeblock-wrapper"><pre class="codeblock">&lt;Annotation Term="UI.SelectionFields"&gt;
  &lt;Collection&gt;
    &lt;PropertyPath&gt;DeliveryCalendarYear&lt;/PropertyPath&gt;
    &lt;PropertyPath&gt;SoldToParty&lt;/PropertyPath&gt;
    &lt;PropertyPath&gt;Product&lt;/PropertyPath&gt;
    &lt;PropertyPath&gt;MainProductCategory&lt;/PropertyPath&gt;
    &lt;PropertyPath&gt;DeliveryCalendarQuarter&lt;/PropertyPath&gt;
  &lt;/Collection&gt;
&lt;/Annotation&gt;</pre></div></div></section><p></p></div></div>
					<div class="note other samplecode "><div class="collapsible-icon sap-icon"><div class="title"><strong>
					Sample Code
				</strong></div></div><div class="fig"><p>ABAP CDS
						Annotation</p><section class="collapsible"><div class="collapsible-icon sap-icon title"><strong>
						Sample Code
					</strong></div><div class="fig fig-codeblock"><div class="copyButton"><span style="display: none;">Hidden</span></div><div class="codeblock-wrapper"><pre class="codeblock">@UI.SelectionField: [{ position: 10 }]
DELIVERYCALENDARYEAR;

@UI.SelectionField: [{ position: 20 }]
SOLDTOPARTY;

@UI.SelectionField: [{ position: 30 }]
PRODUCT;

@UI.SelectionField: [{ position: 40 }]
MAINPRODUCTCATEGORY;

@UI.SelectionField: [{ position: 50 }]
DELIVERYCALENDARQUARTER;</pre></div></div></section><p></p></div></div>
					<div class="note other samplecode "><div class="collapsible-icon sap-icon"><div class="title"><strong>
					Sample Code
				</strong></div></div><div class="fig"><p>CAP CDS
						Annotation</p><section class="collapsible"><div class="collapsible-icon sap-icon title"><strong>
						Sample Code
					</strong></div><div class="fig fig-codeblock"><div class="copyButton"><span style="display: none;">Hidden</span></div><div class="codeblock-wrapper"><pre class="codeblock">UI.SelectionFields : [
    DeliveryCalendarYear,
    SoldToParty,
    Product,
    MainProductCategory,
    DeliveryCalendarQuarter
]</pre></div></div></section><p></p></div></div>
				</section>
				<section id="subsection-im5" class="visibility-trigger">
					<h3 class="title visibility-trigger">Annotation: <code>SelectionVariant</code></h3>
					<div class="note other samplecode "><div class="collapsible-icon sap-icon"><div class="title"><strong>
					Sample Code
				</strong></div></div><div class="fig"><p>XML
						Annotation</p><section class="collapsible"><div class="collapsible-icon sap-icon title"><strong>
						Sample Code
					</strong></div><div class="fig fig-codeblock"><div class="copyButton"><span style="display: none;">Hidden</span></div><div class="codeblock-wrapper"><pre class="codeblock">&lt;Annotation Term="UI.SelectionVariant" Qualifier="SVForStatus"&gt;
   &lt;Record&gt;
      &lt;PropertyValue Property="Parameters"&gt;
         &lt;Collection&gt;
            &lt;Record Type="UI.Parameter"&gt;
               &lt;PropertyValue Property="PropertyName" PropertyPath="CompanyCurrency" /&gt;
               &lt;PropertyValue Property="PropertyValue" String="EUR" /&gt;
            &lt;/Record&gt;
         &lt;/Collection&gt;
      &lt;/PropertyValue&gt;
      &lt;PropertyValue Property="SelectOptions"&gt;
         &lt;Collection&gt;
            &lt;Record Type="UI.SelectOptionType"&gt;
               &lt;PropertyValue Property="PropertyName" PropertyPath="SalesOrderOverallStatus" /&gt;
               &lt;PropertyValue Property="Ranges"&gt;
                  &lt;Collection&gt;
                     &lt;Record Type="UI.SelectionRangeType"&gt;
                        &lt;PropertyValue EnumMember="UI.SelectionRangeSignType/E" Property="Sign" /&gt;
                        &lt;PropertyValue EnumMember="UI.SelectionRangeOptionType/EQ" Property="Option" /&gt;
                        &lt;PropertyValue Property="Low" String="D" /&gt;
                     &lt;/Record&gt;
                  &lt;/Collection&gt;
               &lt;/PropertyValue&gt;
            &lt;/Record&gt;
            &lt;Record Type="UI.SelectOptionType"&gt;
               &lt;PropertyValue Property="PropertyName" PropertyPath="Product" /&gt;
               &lt;PropertyValue Property="Ranges"&gt;
                  &lt;Collection&gt;
                     &lt;Record Type="UI.SelectionRangeType"&gt;
                        &lt;PropertyValue EnumMember="UI.SelectionRangeSignType/E" Property="Sign" /&gt;
                        &lt;PropertyValue EnumMember="UI.SelectionRangeOptionType/EQ" Property="Option" /&gt;
                        &lt;PropertyValue Property="Low" String="HT-1502" /&gt;
                     &lt;/Record&gt;
                  &lt;/Collection&gt;
               &lt;/PropertyValue&gt;
            &lt;/Record&gt;
         &lt;/Collection&gt;
      &lt;/PropertyValue&gt;
   &lt;/Record&gt;
&lt;/Annotation&gt;</pre></div></div></section><p></p></div></div>
					<div class="note other samplecode "><div class="collapsible-icon sap-icon"><div class="title"><strong>
					Sample Code
				</strong></div></div><div class="fig"><p>ABAP CDS
						Annotation</p><section class="collapsible"><div class="collapsible-icon sap-icon title"><strong>
						Sample Code
					</strong></div><div class="fig fig-codeblock"><div class="copyButton"><span style="display: none;">Hidden</span></div><div class="codeblock-wrapper"><pre class="codeblock">@UI.selectionVariant: [
  {
    qualifier: 'SVForStatus',
	parameters: [{name: 'PropertyName', value: 'CompanyCurrency' },{ name: 'PropertyValue', value: 'EUR'}]
  }
]
</pre></div></div></section><p></p></div></div>
					<div class="note other samplecode "><div class="collapsible-icon sap-icon"><div class="title"><strong>
					Sample Code
				</strong></div></div><div class="fig"><p>CAP CDS
						Annotation</p><section class="collapsible"><div class="collapsible-icon sap-icon title"><strong>
						Sample Code
					</strong></div><div class="fig fig-codeblock"><div class="copyButton"><span style="display: none;">Hidden</span></div><div class="codeblock-wrapper"><pre class="codeblock">UI.SelectionVariant #SVForStatus : {
    Parameters : [
        {
            $Type : 'UI.Parameter',
            PropertyName : CompanyCurrency,
            PropertyValue : 'EUR'
        }
    ],
    SelectOptions : [
        {
            $Type : 'UI.SelectOptionType',
            PropertyName : SalesOrderOverallStatus,
            Ranges : [
                {
                    $Type : 'UI.SelectionRangeType',
                    Sign : #E,
                    Option : #EQ,
                    Low : 'D'
                }
            ]
        },
        {
            $Type : 'UI.SelectOptionType',
            PropertyName : Product,
            Ranges : [
                {
                    $Type : 'UI.SelectionRangeType',
                    Sign : #E,
                    Option : #EQ,
                    Low : 'HT-1502'
                }
            ]
        }
    ]
}
</pre></div></div></section><p></p></div></div>
				</section>
			</div></section><section id="section_fzx_npk_qqb"><h2 class="title ">Charts</h2><section>
				<h3 class="title ">Chart Type</h3>
				<p>You can select chart data points and
					segments
					in a chart. These selections influence the other chart filters depending on the configuration of the value list
						annotation.</p><div class="tableWrapper "><div class="fig"><table border="1" id="table_ufw_dxg_3z" class=" ">
							
							
							<thead>
								<tr>
									<th colspan="1" rowspan="1">
										<p>The Chart Type…</p>
									</th>
									<th colspan="1" rowspan="1">
										<p>Displays…</p>
									</th>
								</tr>
							</thead>
							<tbody>
								<tr>
									<td colspan="1" rowspan="1">
										<p>Bar</p>
									</td>
									<td colspan="1" rowspan="1">
										<p>Top or bottom three records</p>
									</td>
								</tr>
								<tr>
									<td colspan="1" rowspan="1">
										<p>Line</p>
									</td>
									<td colspan="1" rowspan="1">
										<p>First or last six data points</p>
									</td>
								</tr>
								<tr>
									<td colspan="1" rowspan="1"><p>Donut</p>
										(only
										supported in SAP Fiori elements for OData
                            V2)</td>
									<td colspan="1" rowspan="1">
										<p>Top or bottom two records</p>
									</td>
								</tr>
							</tbody>
						</table></div></div><p></p>
				<p>In SAP Fiori elements for OData
                            V2, you can enable the visual filter (donut chart type) to
					display an overlay message if there are measures with negative values. Set the <code>Analytics.AccumulativeMeasure</code>
					annotation to <code>false</code> as shown in the example. By default, the value of the <code>
						Analytics.AccumulativeMeasure</code> annotation is
					<code>true</code>.</p><section><div class="fig fig-codeblock"><div class="copyButton"><span style="display: none;">Hidden</span></div><div class="codeblock-wrapper"><pre class="codeblock">&lt;Annotations Target="SEPMRA_ALP_SO_ANA_SRV.Z_SEPMRA_C_ALP_QUARTERVHType/DifferenceAmount"&gt;
    &lt;Annotation Term="Analytics.Measure" Bool="true" /&gt;
    &lt;Annotation Term="Analytics.AccumulativeMeasure" Bool="false" /&gt;
&lt;/Annotations&gt;
</pre></div></div></section><p></p>
			</section><section>
				<h3 class="title ">Chart Title</h3>
				<p>ALP displays chart titles in the following order: &lt;Measure Name&gt; by &lt;Dimension Name&gt; in &lt;Scale factor&gt;
					&lt;UoM&gt;</p>
				<ul class="ul ">
					<li class="li">&lt;Measure Name&gt; indicates the measure associated with the chart. Use <code>sap:label()</code>
					</li>
					<li class="li">&lt;Dimension Name&gt; indicates the dimension associated with the chart. Use <code>sap:label()</code></li>
					<li class="li">
						<p>&lt;Scale Factor&gt; indicates the scale as specified using the <code>ScaleFactor</code> property of the
								<code>DataPoint</code> annotation associated with the measure displayed in the chart.</p>
						<div class="note other samplecode "><div class="collapsible-icon sap-icon"><div class="title"><strong>
					Sample Code
				</strong></div></div><div class="fig"><p>Scale factor
							annotation</p><section><div class="fig fig-codeblock"><div class="copyButton"><span style="display: none;">Hidden</span></div><div class="codeblock-wrapper"><pre class="codeblock">&lt;Annotation Term="UI.DataPoint" Qualifier="LineChartTimeDataPoint"&gt;
    &lt;Record Type="UI.DataPointType"&gt;
        &lt;PropertyValue Property="Criticality" EnumMember="UI.CriticalityType/Positive"/&gt;
        &lt;PropertyValue Property="Title" String="Total Pricing"/&gt;
        &lt;PropertyValue Property="Value" Path="totalPricing"/&gt;
        &lt;PropertyValue Property="ValueFormat"&gt;
            &lt;Record Type="UI.NumberFormat"&gt;
                &lt;PropertyValue Property="ScaleFactor" Decimal="1000"/&gt; // A value of 1000 results in "K" in the title bar since chart value is scaled with thousand!
            &lt;/Record&gt;
        &lt;/PropertyValue&gt;
    &lt;/Record&gt;
&lt;/Annotation&gt;</pre></div></div></section><p></p></div></div>
						<p>If not specified, SAP Fiori elements uses a built-in logic to determine the best scale factor to be used for the values
							displayed in the chart.</p>
					</li>
				</ul>
				<div class="note   "><div class="collapsible-icon sap-icon"><div class="title"><strong>
					Note
				</strong></div></div><div class="fig"><p>
					</p><p>SAP Fiori elements recommends that you do <span class="emphasis">not</span> specify a
						hard-coded scale factor that doesn't work well with changing measure values. Use it only if you can ensure that the range of
						possible values for the measure is fixed and
						there'sis
						a preferred scale factor to be used.</p>
					<p>The scale factor in the chart and chart title are of the same scale.</p>
				<p></p></div></div>
			</section></section><section id="section_aps_ntv_yfb"><h2 class="title ">Text Arrangement</h2><p>You can change the formatting of the text that appears on the vual
				filter chart axis labels, chart
				tooltips,
				and within the selected link (if a chart context is selected). The default view of the visual filter bar is based on the filter fields
				defined in the <code>TextArrangement</code> annotation and its type in the main entity set to change the text behavior like this:
					</p><div class="tableWrapper "><div class="fig"><table border="1" id="table_zyg_kb4_wbb" class=" ">
						
						
						<thead>
							<tr>
								<th colspan="1" rowspan="1">
									<p>Text Arrangement Type</p>
								</th>
								<th colspan="1" rowspan="1">
									<p>Description</p>
								</th>
							</tr>
						</thead>
						<tbody>
							<tr>
								<td colspan="1" rowspan="1">
									<p>TextFirst</p>
								</td>
								<td colspan="1" rowspan="1">
									<p>Use the visual filter to combine measures or item counts with filter values. The ChartDefault type that has the
										sap:text first, followed by the ID in brackets, for example, "Notebook (001)"</p>
								</td>
							</tr>
							<tr>
								<td colspan="1" rowspan="1">
									<p>TextLast</p>
								</td>
								<td colspan="1" rowspan="1">
									<p>ID followed by the sap:text in brackets, for example, "001 (Notebook)".</p>
								</td>
							</tr>
							<tr>
								<td colspan="1" rowspan="1">
									<p>TextOnly</p>
								</td>
								<td colspan="1" rowspan="1">
									<p>Shows only the sap:text, for example, "Notebook"</p>
								</td>
							</tr>
							<tr>
								<td colspan="1" rowspan="1">
									<p>TextSeparate</p>
								</td>
								<td colspan="1" rowspan="1">
									<p>Shows only the ID, for example, "002"</p>
								</td>
							</tr>
						</tbody>
					</table></div></div><p></p>
			<div class="note other samplecode "><div class="collapsible-icon sap-icon"><div class="title"><strong>
					Sample Code
				</strong></div></div><div class="fig"><p>XML
				Annotation</p><section class="collapsible lang-xml"><div class="collapsible-icon sap-icon title"><strong>
						Sample Code
					</strong></div><div class="fig fig-codeblock"><div class="copyButton"><span style="display: none;">Hidden</span></div><div class="codeblock-wrapper"><pre class="codeblock">&lt;Annotations Target="ProductType"&gt; //Main EntitySet
  &lt;Annotation Term="com.sap.vocabularies.UI.v1.TextArrangement" EnumMember="com.sap.vocabularies.UI.v1.TextArrangementType/TextFirst"/&gt; 
&lt;/Annotations&gt;</pre></div></div></section><p></p></div></div>
			<div class="note other samplecode "><div class="collapsible-icon sap-icon"><div class="title"><strong>
					Sample Code
				</strong></div></div><div class="fig"><p>ABAP CDS
				Annotation</p><section class="collapsible"><div class="collapsible-icon sap-icon title"><strong>
						Sample Code
					</strong></div><div class="fig fig-codeblock"><div class="copyButton"><span style="display: none;">Hidden</span></div><div class="codeblock-wrapper"><pre class="codeblock">@UI.textArrangement: #TEXT_FIRST
annotate view ProductType with {

}</pre></div></div></section><p></p></div></div>
			<div class="note other samplecode "><div class="collapsible-icon sap-icon"><div class="title"><strong>
					Sample Code
				</strong></div></div><div class="fig"><p>CAP CDS
				Annotation</p><section class="collapsible"><div class="collapsible-icon sap-icon title"><strong>
						Sample Code
					</strong></div><div class="fig fig-codeblock"><div class="copyButton"><span style="display: none;">Hidden</span></div><div class="codeblock-wrapper"><pre class="codeblock">annotate ProductType @(
  UI.TextArrangement : #TextFirst
);</pre></div></div></section><p></p></div></div></section><section id="section_ms2_qdl_j2b">
			<h2 class="title ">Lazy Loading of Visual Filters</h2>
			<p>In SAP Fiori elements for OData
                            V2, you enable lazy loading of visual filters by configuring the
					<code>lazyLoadVisualFilter</code> setting in the descriptor file.
				It's
				disabled by default.</p>
			<p>If you enable lazy loading, then the batch call for loading of visual filters is deferred until the user switches to the visual filter
				bar.</p>
			<div class="note other samplecode "><div class="collapsible-icon sap-icon"><div class="title"><strong>
					Sample Code
				</strong></div></div><div class="fig"><p>Descriptor
				setting</p><section><div class="fig fig-codeblock"><div class="copyButton"><span style="display: none;">Hidden</span></div><div class="codeblock-wrapper"><pre class="codeblock">"settings": {
              "qualifier": "MainContent",
              "defaultContentView": "charttable",
              "smartVariantManagement": true,
              "showGoButtonOnFilterBar": true,
              "multiSelect": true,
              <code>"lazyLoadVisualFilter":true,
</code>
              "tableType": "AnalyticalTable",
              ....
}
</pre></div></div></section><p></p></div></div>
			<div class="note   "><div class="collapsible-icon sap-icon"><div class="title"><strong>
					Note
				</strong></div></div><div class="fig"><p>
				</p><p>In SAP Fiori elements for OData
                            V4, lazy loading is enabled by default and
					can't
					be switched off.</p>
			<p></p></div></div>
		</section><section id="section_mlt_fxn_j2b">
			<h2 class="title ">Fixed Values on Visual Filters</h2>
			<p>To display default records on the visual filter chart, configure the
					<code>SelectionVariant</code> annotation with filter values
					(<code>SelectOptions</code> property) and link it with the
					<code>ValueList</code> annotation.</p>
			<p>The IN/OUT parameter values take precedence over the
					<code>SelectionVariant</code> values for the fields that have values coming
				from both options.</p>
			<div class="note   "><div class="collapsible-icon sap-icon"><div class="title"><strong>
					Note
				</strong></div></div><div class="fig"><p>
				</p><p>Handling date-based filter fields</p>
				<p>If the <code>SelectionVariant</code> has date-based filter fields, you must
					specify the value in the format <code>"Z'. Ex:"2018-10-15T00:00:00Z"</code>,
					with the time part as zeroes and appended with 'Z'.</p>
			<p></p></div></div>
			<p>
				</p><div class="tableWrapper "><div class="fig"><table border="1" id="table_pkx_kxn_j2b" class=" ">
						
						
						<thead>
							<tr>
								<th colspan="1" rowspan="1">
									<p>Scenario</p>
								</th>
								<th colspan="1" rowspan="1">
									<p>Description</p>
								</th>
							</tr>
						</thead>
						<tbody>
							<tr>
								<td colspan="1" rowspan="1">
									<p><span class="emphasis">Scenario 1</span>: Annotation configuration</p>
									<p>Chart dimension = "Status", Select Option in SV = [("Status",
										Values = "In Progress", "New"), ("Project", Values="List
										Report")]</p>
								</td>
								<td colspan="1" rowspan="1">
									<p>
										</p><ul class="ul ">
											<li class="li">
												<p>"Project" is not a chart dimension, it is an in/out parameter for the
													status.</p>
											</li>
											<li class="li">
												<p>The chart displays records
												relating to
												<code>In Progress</code> and
												<code>New</code> status values for the project
												<code>List Report</code>.</p>
											</li>
										</ul>
									<p></p>
								</td>
							</tr>
							<tr>
								<td colspan="1" rowspan="1">
									<p><span class="emphasis">Scenario 2</span>: Overriding annotation
										configuration from filter bar</p>
									<p>Change the project value from <code>List Report</code> to <code>Analytical List Page</code> on the filter
										bar.</p>
								</td>
								<td colspan="1" rowspan="1">
									<p>Specifying <kbd class="ph userinput">Analytical List Page</kbd> as a
										value for the project in the filter bar, re-renders charts
										to display records for <span class="ph uicontrol">In Progress</span>
										and <span class="ph uicontrol">New</span> status values of the
										Analytical List Page project.</p>
									<div class="note   "><div class="collapsible-icon sap-icon"><div class="title"><strong>
					Note
				</strong></div></div><div class="fig"><p>
										</p><p>The in/out parameter mapping values set for the other
											properties in the <code>SelectionVariant</code>
											annotation
											that
											are not part of the project field is considered as it
											is.</p>
									<p></p></div></div>
								</td>
							</tr>
						</tbody>
					</table></div></div>
			<p></p>
			<p>In SAP Fiori elements for OData
                            V2, you can
				render the visual filter with a parametrized entity set as the collection path. To
				do so, you need to provide parameters in the <code>SelectionVariant</code>
				annotation. Any values added in the smart filter bar take priority over the
					<code>SelectionVariant</code> annotation values.</p><div class="tableWrapper "><div class="fig"><table border="1" id="table_jng_vyn_j2b" class=" ">
						
						
						<thead>
							<tr>
								<th colspan="1" rowspan="1">
									<p>Scenario</p>
								</th>
								<th colspan="1" rowspan="1">
									<p>Description</p>
								</th>
							</tr>
						</thead>
						<tbody>
							<tr>
								<td colspan="1" rowspan="1">
									<p>Scenario 1: Annotation configuration</p>
									<p>Parameter in SelectionVariant = [("P_DisplayCurrency",
										Value="USD")]</p>
								</td>
								<td colspan="1" rowspan="1">
									<p>The chart renders records with the currency unit USD.</p>
								</td>
							</tr>
							<tr>
								<td colspan="1" rowspan="1">
									<p>Scenario 2: Overriding annotation configurations on the
										filter bar</p>
									<p>Change USD to EUR on the filter bar</p>
								</td>
								<td colspan="1" rowspan="1">
									<p>If you specify EUR as a value for
											<code>P_DisplayCurrency</code> in the filter bar,
										the chart re-renders with records that have the currency
										unit EUR</p>
								</td>
							</tr>
						</tbody>
					</table></div></div><p></p>
			
		</section><section id="section_e11_qrb_lqb">
			<h2 class="title ">Date Selection</h2>
			<p>Visual filters support date-based, single/multi-select based filter fields in the Universal Time Coordinated (UTC) format. Semantic
				dates and date ranges are not supported.</p>
		</section><section><h2 class="title "><span class="emphasis">Unit of Measure with Multiple Units of Measure</span></h2><p>Visual filter charts do not show up if the back end
				returns data with multiple units of measure (UoM). To achieve a single UoM, set the required UoM in the filter bar or change all the
				UoMs into one UoM in the back end. </p><p>For currency-based visual filter values, the currency value could come from another filter
				field in the main entity set (mapped to the value help currency field based entity set through the standard IN mapping).</p></section><section id="section_gxg_tq2_mqb">
			<h2 class="title ">Semantic Coloring for Visual Filters Based on Dimension Values</h2>
			<p>Semantic coloring is based on the defined criticality in the <code>ValueCriticality</code> annotations for dimensions. The value
				returned from the path determines the color.</p><div class="note   "><div class="collapsible-icon sap-icon"><div class="title"><strong>
					Note
				</strong></div></div><div class="fig"><p>
					</p><ul class="ul ">
						<li class="li">
							<p>No color is applied to the chart dimension when a neutral value is returned.</p>
						</li>
						<li class="li">
							<p>Chart measure semantic coloring takes precendence over dimension semantic coloring.</p>
						</li>
					</ul>
				<p></p></div></div><p></p>
			<p>For a sample annotation applicable to both SAP Fiori elements for OData
                            V2 and SAP Fiori elements for OData
                            V4, please see the
					<a href="topic/653ed0f4f0d743dbb33ace4f68886c4e.html#loio653ed0f4f0d743dbb33ace4f68886c4e/criticality_coloring_subsection" title="653ed0f4f0d743dbb33ace4f68886c4e.xml#loio653ed0f4f0d743dbb33ace4f68886c4e/criticality_coloring_subsection" class="sap-doc">Support for Criticality
				Coloring</a> section
				in
					<a href="topic/653ed0f4f0d743dbb33ace4f68886c4e" title="You can add a chart facet to a content section within the list report and object page." class="sap-doc">Configuring Charts</a>.</p>
		</section><section id="section_nxf_3yy_ghb">
			<h2 class="title ">Guidelines</h2>
			<p>Show the filter dimension with one measure in the visual filter not with multiple measures.</p>
			<p>Filter dimensions in the regular filters (filter bar) have exactly one representation in the visual filter bar.</p>
			<p>Do not show the same filter dimension with two or more different measures at the same time in the visual filter bar. The example shows
				the filter <code>Dimension Year</code> with two different measures <span class="ph uicontrol">Revenue</span> and
					<span class="ph uicontrol">Quantity</span>. Showing the filter <span class="ph uicontrol">dimensionYear</span> twice is not in sync with the regular
				filter, where it is shown only once. Furthermore, matching between the two filter types won't work.</p>
			<p>If the use case requires you to show a dimension with different measures, consider using an overview page instead.</p>
			<div class="tableWrapper "><div class="fig"><table border="1" id="table_xvf_wyy_ghb" class=" ">
					
					
					<thead>
						<tr>
							<th colspan="1" rowspan="1">Do</th>
							<th colspan="1" rowspan="1">Don't</th>
						</tr>
					</thead>
					<tbody>
						<tr>
							<td colspan="1" rowspan="1"><img src="loioace802e0335f4c8a852250105d020890_LowRes.jpg" usemap="#"></td>
							<td colspan="1" rowspan="1"><img src="loiof95c7de60bd442afbbc3478f1fe5ddfc_LowRes.jpg" usemap="#"></td>
						</tr>
						<tr>
							<td colspan="1" rowspan="1"><span class="emphasis">For each dimension, display exactly one representation in the visual filter bar.</span></td>
							<td colspan="1" rowspan="1"><span class="emphasis">Do not use the same filter dimension with different measures.</span></td>
						</tr>
					</tbody>
				</table></div></div>
		</section><section id="section_oqj_tq1_bqb" class="collapsible expanded"><div class="collapsible-icon sap-icon"><h2 class="title collapsible expanded">Additional Features in SAP Fiori Elements for OData V2</h2></div><div class="fig"><p>SAP Fiori elements for OData
                            V2 also supports the visual filter setup for donut charts, and
				you can define visual filters for parameters.</p><section>
				<h3 class="title ">Display of Empty Values</h3>
				<p>The empty dimension value is displayed as <span class="ph uicontrol">Not Assigned</span> in the visual filter chart. Note that this impacts
					the display only of visual filters but not of the value help, drop down, or compact filters. For the value help, drop down, or
					compact filter, it is displayed as <span class="ph uicontrol">&lt;empty&gt;</span>.</p>
				<div><div class="fig"><img src="loio841d97da3917418e988f776ed08cd20e_HiRes.png" usemap="#"></div></div>
			</section><section>
				<h3 class="title ">Date Selection</h3>
				<p>Visual filters support date-based, single selection fields in the Universal Time Coordinated (UTC) format. Visual filters also
					support string-based fields that denote a time period via the following annotations:</p><ul class="ul ">
						<li class="li">
							<p>Edm.DateTime and sap:display-format="Date"</p>
						</li>
						<li class="li">
							<p>Edm.String and sap:semantics="yearmonthday"</p>
						</li>
						<li class="li">
							<p>Edm.String and sap:semantics="yearmonth"</p>
						</li>
						<li class="li">
							<p>Edm.String and sap:semantics="year"</p>
						</li>
						<li class="li">
							<p>Edm.String and sap:semantics="yearquarter"</p>
						</li>
						<li class="li">
							<p>Edm.String and sap:semantics="yearweek"</p>
						</li>
						<li class="li">
							<p>Edm.String and sap:semantics="fiscalyear"</p>
						</li>
						<li class="li">
							<p>Edm.String and sap:semantics="fiscalyearperiod"</p>
						</li>
					</ul><div class="note   "><div class="collapsible-icon sap-icon"><div class="title"><strong>
					Note
				</strong></div></div><div class="fig"><p>Displaying the value in the visual filter and its tooltip is impacted. Value help or the dropdown for selecting the
						values remains the same if sap:semantics="yearmonth" is set.</p></div></div><div class="note   "><div class="collapsible-icon sap-icon"><div class="title"><strong>
					Note
				</strong></div></div><div class="fig"><p>
						</p><p>You can see the date selection button on the visual filter for fields annotated with
								<code>sap:filter-restriction="single-value"</code>. For fields annotated with
								<code>sap:filter-restriction="multiple"</code>, you see the value help selection button.</p>
					<p></p></div></div><p></p>
				<p>
					</p><div class="note other samplecode "><div class="collapsible-icon sap-icon"><div class="title"><strong>
					Sample Code
				</strong></div></div><div class="fig"><p>Sample
						Metadata</p><section><div class="fig fig-codeblock"><div class="copyButton"><span style="display: none;">Hidden</span></div><div class="codeblock-wrapper"><pre class="codeblock">&lt;Property Name="StartDate" Type="Edm.DateTime" sap:display-format="Date" 
sap:aggregation-role="dimension" sap:label="Date" sap:filter-restriction="single-value"/&gt;

&lt;Property Name="StartDate" Type="Edm.String" sap:semantics="yearmonthday" 
sap:aggregation-role="dimension" sap:label="Date" sap:filter-restriction="single-value"/&gt;
</pre></div></div></section><p></p></div></div>
				<p></p>
			</section><section>
				<h3 class="title ">Number Formatting</h3>
			</section><p><code>NumberOfFractionalDigits</code>
				information can be provided in <a href="topic/65731e6b823240398e33133908efdaa1" title="This topic provides a list of the annotations used in overview pages. They are as follows:" class="sap-doc">com.sap.vocabularies.UI.v1.DataPoint</a> term,
				using the ValueFormat property. The <code>NumberOfFractionalDigits</code> property is used to determine the number of fraction
				digits. These are the rules: </p><ul class="ul ">
					<li class="li">
						<p>Decimals are not shown by default.</p>
					</li>
					<li class="li">
						<p>You can specify 1 or 2 decimal places using the
							<code>NumberOfFractionalDigits</code>
							property in Annotations. If a value of more than 2 is provided, it is
							also
							included.</p>
					</li>
				</ul><p></p><p>In the following example, the price property number of fractional digits provided in the OData metadata, 3 is overridden by the value 1
				as provided in the <a href="topic/65731e6b823240398e33133908efdaa1" title="This topic provides a list of the annotations used in overview pages. They are as follows:" class="sap-doc">com.sap.vocabularies.UI.v1.DataPoint</a> ValueFormat
				property:</p><div class="note other samplecode "><div class="collapsible-icon sap-icon"><div class="title"><strong>
					Sample Code
				</strong></div></div><div class="fig"><p>XML
				Annotation</p><section class="collapsible lang-xml"><div class="collapsible-icon sap-icon title"><strong>
						Sample Code
					</strong></div><div class="fig fig-codeblock"><div class="copyButton"><span style="display: none;">Hidden</span></div><div class="codeblock-wrapper"><pre class="codeblock">&lt;Annotation Term="com.sap.vocabularies.UI.v1.DataPoint" Qualifier="Price"&gt;
    &lt;Record Type="com.sap.vocabularies.UI.v1.DataPointType"&gt;
        &lt;PropertyValue Property="Value" Path="Price"/&gt;
        &lt;PropertyValue Property="ValueFormat"&gt;
            &lt;Record Type="com.sap.vocabularies.UI.v1.NumberFormat"&gt;
                &lt;PropertyValue Property="NumberOfFractionalDigits" Int="1"/&gt;
            &lt;/Record&gt;
        &lt;/PropertyValue&gt;
    &lt;/Record&gt;
&lt;/Annotation&gt;
</pre></div></div></section><p></p></div></div><div class="note other samplecode "><div class="collapsible-icon sap-icon"><div class="title"><strong>
					Sample Code
				</strong></div></div><div class="fig"><p>ABAP CDS Annotation</p><section class="collapsible"><div class="collapsible-icon sap-icon title"><strong>
						Sample Code
					</strong></div><div class="fig fig-codeblock"><div class="copyButton"><span style="display: none;">Hidden</span></div><div class="codeblock-wrapper"><pre class="codeblock">@UI.dataPoint: { 
   valueFormat.numberOfFractionalDigits: 1  
}
price;</pre></div></div></section><p></p></div></div><section>
				<h3 class="title ">Semantic Coloring for Visual Filters Based on Measure Values</h3>
				<p>Semantic coloring is based on the defined:</p><ul class="ul ">
						<li class="li">
							<p>Criticality in <code>DataPoint</code> annotations. The specified value, or the value returned from a path,
								determines the color</p>
						</li>
						<li class="li">
							<p><code>CriticalityCalculation</code> in DataPoint annotations, along with the improvement direction and various
								threshold values. This applies only when the criticality is not defined.</p>
						</li>
					</ul><p></p>
				<p><img src="loioa477ee8a509a43faaf108e706efc5a7c_HiRes.png" usemap="#"></p>
				<p>
					</p><div class="note   "><div class="collapsible-icon sap-icon"><div class="title"><strong>
					Note
				</strong></div></div><div class="fig"><p>
						</p><p>No color is applied to the chart measure when</p><ul class="ul ">
								<li class="li">
									<p>A neutral value is returned</p>
								</li>
								<li class="li">
									<p>Not enough threshold values are defined or when the improvement direction is missing</p>
								</li>
							</ul><p></p>
					<p></p></div></div>
				<p></p>
			</section><section>
				<h3 class="title ">Grouping Visual Filter Calls (Optional)</h3>
				<p>Add a <code>groupId</code> for a set of visual filters to consolidate all group calls into one batch call. This helps you group
					fast-loading visual filters in one batch and group all the other slow loading visual filters into a separate batch call. This
					improves rendering of the fast-loading visual
					filters
					over the slow-loading visual filters.</p>
				<p>Define the <code>onBeforeRebindVisualFilterExtension</code> extension controller method in the controller file. Ensure that the
						<code>groupId</code> is one of the keys in the <code>oContext</code> object which is passed to the extension as a
					parameter. Provide a valid string value as shown here:</p><div class="note other samplecode "><div class="collapsible-icon sap-icon"><div class="title"><strong>
					Sample Code
				</strong></div></div><div class="fig"><p>
						</p><section><div class="fig fig-codeblock"><div class="copyButton"><span style="display: none;">Hidden</span></div><div class="codeblock-wrapper"><pre class="codeblock">onBeforeRebindVisualFilterExtension: function(sEntityType, sDimension, sMeasure, oContext){
    'use strict';
    var Log = sap.ui.require("sap/base/Log");
    if (sDimension === "Product") {
        oContext.groupId = "Group1";
    }
    if (sDimension === "DeliveryCalendarMonth" || sDimension === "DeliveryCalendarQuarter") {
        oContext.groupId = "Group2";
    }
    Log.info("onBeforeRebindVisualFilterExtension called!");
}</pre></div></div></section>
					<p></p></div></div><div class="note   "><div class="collapsible-icon sap-icon"><div class="title"><strong>
					Note
				</strong></div></div><div class="fig"><p>
						</p><ul class="ul ">
							<li class="li">
								<p>The visual filter calls without a groupId are all combined in one batch.</p>
							</li>
							<li class="li">
								<p>Visual filter calls assigned to a <code>groupId</code> reach the back end in one batch.</p>
							</li>
						</ul>
					<p></p></div></div><p></p>
			</section><section>
				<h3 class="title ">Text for Unit of Measure</h3>
				<p>If a unit field such as a currency or unit of measure(UOM) contains a text annotation(sap:text) this property is retrieved and
					displayed along with the unit field.</p>
				<p>The unit fields can contain the text annotation either in the main entity set or its value list entity sets.</p>
				<div class="note other samplecode "><div class="collapsible-icon sap-icon"><div class="title"><strong>
					Sample Code
				</strong></div></div><div class="fig"><p>Main entity set: <code>DisplayCurrency</code> doesn't contain a text
					annotation</p><section><div class="fig fig-codeblock"><div class="copyButton"><span style="display: none;">Hidden</span></div><div class="codeblock-wrapper"><pre class="codeblock">&lt;EntityType Name="ZEPM_C_SALESORDERITEMQUERYResult" sap:semantics="aggregate" sap:content-version="1"&gt;
                &lt;Key&gt;
                    &lt;PropertyRef Name="ID"/&gt;
                &lt;/Key&gt; 
              &lt;Property Name="DisplayCurrency" Type="Edm.String" MaxLength="5" sap:aggregation-role="dimension" sap:creatable="false" sap:label="Display Currency" sap:updatable="false" sap:semantics="currency-code"/&gt;  
&lt;/EntityType &gt; 
</pre></div></div></section><p></p></div></div>
				<div class="note other samplecode "><div class="collapsible-icon sap-icon"><div class="title"><strong>
					Sample Code
				</strong></div></div><div class="fig"><p>Value List Entity Set : <code>DisplayCurrency</code> contains a text annotation to another text
					property</p><section><div class="fig fig-codeblock"><div class="copyButton"><span style="display: none;">Hidden</span></div><div class="codeblock-wrapper"><pre class="codeblock">&lt;EntityType Name="ZEPM_C_SALESORDERITEMQUERYValueHelpResult" sap:semantics="aggregate" sap:content-version="1"&gt;
                &lt;Key&gt;
                    &lt;PropertyRef Name="ID"/&gt;
                &lt;/Key&gt; 
                &lt;Property Name="DisplayCurrency" Type="Edm.String" MaxLength="5" sap:aggregation-role="dimension" sap:creatable="false" sap:label="Display Currency" sap:updatable="false" sap:semantics="currency-code" sap:text="DisplayCurrencyText"/&gt;
                &lt;Property Name="DisplayCurrencyText" Type="Edm.String" MaxLength="60" sap:filterable="false"/&gt;
&lt;/EntityType &gt; 
</pre></div></div></section><p></p></div></div>
				<p>The text is fetched to be displayed along with the unit field and is displayed in brackets. </p>
				<p>If the main entity set doesn't contain the text annotation, and if the unit field has a value list associated, and the text
					annotation is present in the value list entity set, then this is retrieved and displayed along with the unit field.</p>
				<p>If the main entity set contains the text annotation for a unit, then that is displayed and the value list entity set is not checked
					for the annotation.</p>
				<div><div class="fig"><img src="loio3469fc39804d4781bde63fd16cdf93c3_LowRes.png" usemap="#"></div></div>
			</section></div></section><section id="section_qsw_sts_cqb" class="collapsible expanded"><div class="collapsible-icon sap-icon"><h2 class="title collapsible expanded">Additional Features in
					SAP Fiori Elements for OData V4</h2></div><div class="fig"><p>Application developers must ensure there is a manifest property for each visual filter that is to be rendered. For more information,
				see the
				<a href="topic/33f3d807c10b47d9a8141692d2619dc2.html#loio33f3d807c10b47d9a8141692d2619dc2/section_my4_mgz_jqb" title="33f3d807c10b47d9a8141692d2619dc2.xml#loio33f3d807c10b47d9a8141692d2619dc2/section_my4_mgz_jqb" class="sap-doc">Additional Features in SAP Fiori Elements for OData V4</a>
				section in <a href="topic/33f3d807c10b47d9a8141692d2619dc2" title="The visual filter bar enables end users to select filter values based on measure values in addition to the filters and filter values already selected in the regular filter bar." class="sap-doc">Configuring the Visual Filter Bar</a>.</p><section>
				<h3 class="title ">Line Chart</h3>
				<p>Line charts are only rendered if the dimension is time based, that is if you use <code>Edm.Date</code>,
						<code>Edm.Time</code>, or <code>Edm.DateTimeOffset</code>.</p>
			</section><section>
				<h3 class="title ">Date Selection</h3>
				<p>While date/time is converted to the local timezone, the values coming from the back end are used for all other formats. SAP Fiori elements for OData
                            V4
					
					<code>Edm.Date</code>, which is shown with no
					conversion
					to the local timezone.</p>
			</section><section>
				<h3 class="title ">Number Formatting</h3>
			</section><p><code>NumberOfFractionalDigits</code>
				information can be provided in <a href="topic/65731e6b823240398e33133908efdaa1" title="This topic provides a list of the annotations used in overview pages. They are as follows:" class="sap-doc">com.sap.vocabularies.UI.v1.DataPoint</a> term, using the
					<code>ValueFormat</code> property. The
					<code>NumberOfFractionalDigits</code> property is used to determine the
				number of fraction digits. These are the rules: </p><ul class="ul ">
					<li class="li">
						<p>Decimals are not shown by default.</p>
					</li>
					<li class="li">
						<p>You can specify 1 or 2 decimal places using the
							<code>NumberOfFractionalDigits</code>
							property in Annotations. If a value of more than 2 is provided, it
							remains at
							2.</p>
						<p>For
							a currency-based measure, the number of decimal places as specified in
							the annotation is only considered if the measure value is also being
							displayed with a scale factor. Otherwise, the number of decimal places
							is based on the displayed currency.</p>
					</li>
				</ul><p></p><p>In the following example, the weight property number of fractional
				digits provided in the OData metadata, is set to the value 1 as provided in the
					<a href="topic/65731e6b823240398e33133908efdaa1" title="This topic provides a list of the annotations used in overview pages. They are as follows:" class="sap-doc">com.sap.vocabularies.UI.v1.DataPoint</a>
				<code>ValueFormat</code> property</p><div class="note other samplecode "><div class="collapsible-icon sap-icon"><div class="title"><strong>
					Sample Code
				</strong></div></div><div class="fig"><p>XML
				Annotation</p><section class="collapsible lang-xml"><div class="collapsible-icon sap-icon title"><strong>
						Sample Code
					</strong></div><div class="fig fig-codeblock"><div class="copyButton"><span style="display: none;">Hidden</span></div><div class="codeblock-wrapper"><pre class="codeblock">&lt;Annotation Term="com.sap.vocabularies.UI.v1.DataPoint" Qualifier="Weight"&gt;
    &lt;Record Type="com.sap.vocabularies.UI.v1.DataPointType"&gt;
        &lt;PropertyValue Property="Value" Path="Weight"/&gt;
        &lt;PropertyValue Property="ValueFormat"&gt;
            &lt;Record Type="com.sap.vocabularies.UI.v1.NumberFormat"&gt;
                &lt;PropertyValue Property="NumberOfFractionalDigits" Int="1"/&gt;
            &lt;/Record&gt;
        &lt;/PropertyValue&gt;
    &lt;/Record&gt;
&lt;/Annotation&gt;
</pre></div></div></section><p></p></div></div><div class="note other samplecode "><div class="collapsible-icon sap-icon"><div class="title"><strong>
					Sample Code
				</strong></div></div><div class="fig"><p>ABAP CDS
				Annotation</p><section class="collapsible"><div class="collapsible-icon sap-icon title"><strong>
						Sample Code
					</strong></div><div class="fig fig-codeblock"><div class="copyButton"><span style="display: none;">Hidden</span></div><div class="codeblock-wrapper"><pre class="codeblock">@UI.dataPoint: { 
   valueFormat.numberOfFractionalDigits: 1  
}
price;</pre></div></div></section><p></p></div></div><div class="note other samplecode "><div class="collapsible-icon sap-icon"><div class="title"><strong>
					Sample Code
				</strong></div></div><div class="fig"><p>CAP CDS
				Annotation</p><section class="collapsible"><div class="collapsible-icon sap-icon title"><strong>
						Sample Code
					</strong></div><div class="fig fig-codeblock"><div class="copyButton"><span style="display: none;">Hidden</span></div><div class="codeblock-wrapper"><pre class="codeblock">UI.DataPoint #Price : {
    $Type : 'UI.DataPointType',
    Value : Price,
    ValueFormat : {
        $Type : 'UI.NumberFormat',
        NumberOfFractionalDigits : 1
    }
}</pre></div></div></section><p></p></div></div><section>
				<h3 class="title ">Semantic Coloring for Visual Filters Based on Measure
					Values</h3>
				<p>Currently only hard-coded values are supported. Ensure that a data point has been
					defined for the measure of the chart and that the criticality has been
					configured for the data point.</p>
				<p><img src="loioa477ee8a509a43faaf108e706efc5a7c_HiRes.png" usemap="#"></p>
				<div class="note   "><div class="collapsible-icon sap-icon"><div class="title"><strong>
					Note
				</strong></div></div><div class="fig"><p>
					</p><p>No color is applied to the chart measure when a neutral value is
						returned.</p>
					<p>Chart coloring via semantic coloring specified on dimensions is overridden by
						the semantic coloring specified for the measures.</p>
				<p></p></div></div>
			</section><div class="note other samplecode "><div class="collapsible-icon sap-icon"><div class="title"><strong>
					Sample Code
				</strong></div></div><div class="fig"><p>XML
				Annotation</p><section class="collapsible lang-xml"><div class="collapsible-icon sap-icon title"><strong>
						Sample Code
					</strong></div><div class="fig fig-codeblock"><div class="copyButton"><span style="display: none;">Hidden</span></div><div class="codeblock-wrapper"><pre class="codeblock">&lt;Annotation Term="UI.Chart" Qualifier="BarChartSoldToParty"&gt;
     &lt;Record Type="UI.ChartDefinitionType"&gt;
          &lt;PropertyValue Property="Title" String="Bar Chart"/&gt;
          &lt;PropertyValue Property="Description" String="Testing Bar Chart"/&gt;
          &lt;PropertyValue Property="ChartType" EnumMember="UI.ChartType/Bar"/&gt;
          &lt;PropertyValue Property="Measures"&gt;
               &lt;Collection&gt;
                    &lt;PropertyPath&gt;totalPricing&lt;/PropertyPath&gt;
               &lt;/Collection&gt;
          &lt;/PropertyValue&gt;
          &lt;PropertyValue Property="Dimensions"&gt;
               &lt;Collection&gt;
          &lt;PropertyPath&gt;SoldToParty&lt;/PropertyPath&gt;
               &lt;/Collection&gt;
          &lt;/PropertyValue&gt;
          &lt;PropertyValue Property="MeasureAttributes"&gt;
               &lt;Collection&gt;
                    &lt;Record Type="UI.ChartMeasureAttributeType"&gt;
                         &lt;PropertyValue Property="Measure" PropertyPath=" totalPricing"/&gt;
                         &lt;PropertyValue Property="Role" EnumMember="UI.ChartMeasureRoleType/Axis1"/&gt;
                         &lt;PropertyValue Property="DataPoint" AnnotationPath="@UI.DataPoint#LineChartTimeDataPoint"/&gt;
                    &lt;/Record&gt;
               &lt;/Collection&gt;
          &lt;/PropertyValue&gt;
          &lt;PropertyValue Property="DimensionAttributes"&gt;
               &lt;Collection/&gt;
          &lt;/PropertyValue&gt;
     &lt;/Record&gt;
&lt;/Annotation&gt;

&lt;Annotation Term="UI.DataPoint" Qualifier="LineChartTimeDataPoint"&gt;
     &lt;Record Type="UI.DataPointType"&gt;
          &lt;PropertyValue Property="Value" Path="totalPricing"/&gt;
          &lt;PropertyValue Property="Title" String="Total Pricing"/&gt;
          &lt;PropertyValue Property="Criticality" EnumMember="UI.CriticalityType/Positive"/&gt;
     &lt;/Record&gt;
&lt;/Annotation&gt;
</pre></div></div></section><p></p></div></div><div class="note other samplecode "><div class="collapsible-icon sap-icon"><div class="title"><strong>
					Sample Code
				</strong></div></div><div class="fig"><p>ABAP CDS
				Annotation</p><section class="collapsible"><div class="collapsible-icon sap-icon title"><strong>
						Sample Code
					</strong></div><div class="fig fig-codeblock"><div class="copyButton"><span style="display: none;">Hidden</span></div><div class="codeblock-wrapper"><pre class="codeblock">@UI.chart: [
  {
    chartType: #BAR,
    title: 'Bar Chart',
    description: 'Testing Bar Chart',
    dimensions: [
      'SoldToParty'
    ],
    measures: [
      'totalPricing'
    ],
    measureAttributes: [{measure: 'totalPricing', role: #AXIS_1, asDataPoint: true }],
  }
]

@UI.dataPoint: { 
     title: 'Total Pricing',
     criticalityValue: #POSITIVE   
 }
totalPricing;
</pre></div></div></section><p></p></div></div><div class="note other samplecode "><div class="collapsible-icon sap-icon"><div class="title"><strong>
					Sample Code
				</strong></div></div><div class="fig"><p>CAP CDS
				Annotation</p><section class="collapsible"><div class="collapsible-icon sap-icon title"><strong>
						Sample Code
					</strong></div><div class="fig fig-codeblock"><div class="copyButton"><span style="display: none;">Hidden</span></div><div class="codeblock-wrapper"><pre class="codeblock">Chart #BarChartSoldToParty               : {
            $Type             : 'UI.ChartDefinitionType',
            Title             : 'Bar Chart',
            Description       : 'Testing Bar Chart',
            ChartType         : #Bar,
            Measures          : [totalPricing],
            Dimensions        : [SoldToParty],
            MeasureAttributes : [{
                $Type     : 'UI.ChartMeasureAttributeType',
                Measure   : totalPricing,
                Role      : #Axis1,
                DataPoint : '@UI.DataPoint#LineChartTimeDataPoint'
            }],
DimensionAttributes: []
        },
        DataPoint #LineChartTimeDataPoint              : {
            Value       : totalPricing,
            Title       : 'Total Pricing',
            Criticality : #Positive,
            ValueFormat : {
                ScaleFactor: 1000
            }
</pre></div></div></section><p></p></div></div></div></section><section class="contentInSection hidden"><h2>In this section:</h2></section><section class="familyLinks"><div class="parentLink hidden"><br><strong>Parent topic: </strong></div><div class="previousLink hidden"><br><strong>Previous: </strong></div><div class="nextLink hidden"><br><strong>Next: </strong></div></section><section class="relatedLinks "><div class="collapsible-icon sap-icon title"><h2>Related information</h2></div><ul class="fig">
		<li><a href="topic/33f3d807c10b47d9a8141692d2619dc2" title="The visual filter bar enables end users to select filter values based on measure values in addition to the filters and filter values already selected in the regular filter bar." class="sap-doc">Configuring the Visual Filter Bar</a></li>
	</ul></section></div></section></div></body></html>