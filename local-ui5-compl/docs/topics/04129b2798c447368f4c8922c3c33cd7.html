<html><head></head><body><div id="d4h5-main-container" class="dk-main"><section id="loio04129b2798c447368f4c8922c3c33cd7" class=" section topic"><div class="section-mdeditlink hidden">
				<a class="mdeditlink hidden" href="https://github.com/SAP-docs/sapui5/blob/main/docs/04_Essentials/instantiation-of-fragments-04129b2.md">Edit on GitHub</a>
			</div><div class="collapsible-icon sap-icon innerTitle"><h2 class="title ">Instantiation of Fragments</h2></div><div class="fig"><div class="topictitle1 title"><h2 class="title ">Instantiation of Fragments</h2></div><div class="shortdesc">SAPUI5 provides two options to instantiate a fragment: If it is instantiated
		inside a controller extending <code>sap.ui.core.mvc.Controller</code>, the<code> loadFragment()</code> function is the way to go.
		However, if it is instantiated in a non-controller artefact, the generic function <code>sap.ui.core.Fragment.load()</code> can be
		used.</div><p>Comparing fragments to views, there is one important difference: Fragments are no controls.
			While views are control instances which have their own HTML and their own set of
			properties and may contain other controls, fragments just consist of their content.
			Views contain their content controls, while fragments consist of their content controls. </p><p>For example, when a fragment containing a button is instantiated, the result is just this
			button.</p><section id="section_lby_wsx_lqb">
			<h2 class="title ">Instantiation of Fragments in a Controller</h2>
			<p>Since 1.93, the <code>loadFragment()</code> function is available on every controller instance extending
					<code>sap.ui.core.mvc.Controller</code>. This API has several advantages over the generic
					<code>sap.ui.core.Fragment.load()</code> function:</p>
			<ul class="ul ">
				<li class="li">
					<p>The <code>loadFragment</code> API relays the handling of asynchronous destroy operations to the framework's lifecycle.</p>
					<p>In some cases it might happen that a controller instance is destroyed before the asynchronously loaded fragment content becomes
						available. This typically leads to left-over controls, which are not properly cleaned up. As a result you might experience
						duplicate ID errors when the same view is recreated. To circumvent such issues, the <code>loadFragment()</code> function
						automatically wires the fragment loading into the view's exit lifecycle. This way the fragment content also gets destroyed
						once the view is destroyed. Additionally, all methods which are available on the controller instance, such as an event
						handler, are also available for the fragment content.</p>
				</li>
				<li class="li">
					<p>View Prefixing: By default, the fragment content is prefixed by the view ID. With that, all fragment content is available by
						using the <code>byId</code> function on the controller or view instance. This option can be disabled by passing
							<code>false</code> to the <code>autoPrefixId</code> parameter. In this case, the application developer has to
						ensure that no duplicate ID issues occur for this fragment content.</p>
				</li>
				<li class="li">
					<p>Addition to the <code>dependents</code> aggregation: By default, the fragment content is added to the
							<code>dependents</code> aggregation of the view. This offers two major advantages: First, all models and element
						bindings which are available on the view instance are also available automatically on the fragment content. Second, if the
						view is destroyed, the fragment content is destroyed also. This option can be disabled by passing <code>false</code> to
						the <code>addToDependents</code> parameter. In this case, the application developer has to ensure that the fragment
						content is destroyed when the view is destroyed. If not, duplicate ID issues might occur.</p>
				</li>
			</ul>
			<section class="lang-js"><div class="fig fig-codeblock"><div class="copyButton"><span style="display: none;">Hidden</span></div><div class="codeblock-wrapper"><pre class="codeblock">this.loadFragment({
    name: "myapp.fragments.MyFragment"
});</pre></div></div></section>
		</section><section id="section_wcr_5sx_lqb">
			<h2 class="title ">Generic Instantiation of Fragments</h2>
			<p>The generic function <code>sap.ui.core.Fragment.load()</code> can be called with either the name, the type, and optionally a
				controller, or with a configuration object and an optional controller; for more information, see the <a href="api/sap.ui.core.Fragment#methods/sap.ui.core.Fragment.load" title="api/sap.ui.core.Fragment#methods/sap.ui.core.Fragment.load" class="sap-doc" alt="api/sap.ui.core.Fragment#methods/sap.ui.core.Fragment.load">API Reference</a>.
				</p>
			<p>It either returns the root control contained in the fragment or an array of root controls, depending on the type of the fragment. SAPUI5 offers three types: <code>XML</code>, <code>HTML</code>,
				and <code>JS</code>.</p>
			<p>The different methods used for the instantiation of a fragment have the following commonalities:</p>
			<ul class="ul ">
				<li class="li">A fragment name must be given. This name must be resolvable to the fragment file URL by the SAPUI5 module loading mechanism. In case of JS fragments the name may
					also be defined inline. </li>
				<li class="li">A controller can be optionally given. Some fragments may require a controller and certain methods to be present in this
					controller. </li>
				<li class="li">An ID can be optionally given. <p>If no ID is given, any control IDs specified in the fragment are used as is. The repeated use of
						a fragment can lead to duplicate IDs. One way to avoid that problem is to specify a unique fragment ID. For more information
						see <a href="topic/5da591c5a5a54740948acfe56b22fbc3" title="You can use a unique ID for a fragment that will be used as a prefix for all controls in a fragment instance." class="sap-doc">Unique IDs</a>. This ID will then be used as prefix for all controls in this
						fragment instance.</p></li>
			</ul>
			<div class="note   "><div class="collapsible-icon sap-icon"><div class="title"><strong>
					Note
				</strong></div></div><div class="fig"><p>
				</p><p> When using the generic function <code>sap.ui.core.Fragment.load()</code> the application developer has to take care to add
					fragment content only to non-destroyed content:</p>
				<section class="lang-js"><div class="fig fig-codeblock"><div class="copyButton"><span style="display: none;">Hidden</span></div><div class="codeblock-wrapper"><pre class="codeblock">Fragment.load({
    name: "myapp.fragments.MyFragment"
 }).then(function(oContent){
    if(!this.isDestroyStarted()){
       // do stuff
   }
});</pre></div></div></section>
			<p></p></div></div>
		</section><section class="contentInSection"><h2>In this section:</h2><ul><li><a href="topic/3cff5d0fa6754c0d9fdacd80653b81fb">Programmatically Instantiating JS Fragments</a></li><li><a href="topic/d6af195124cf430599530668ddea7425">Programmatically Instantiating XML Fragments</a></li><li><a href="topic/234320f8d8ee45b39c60893116d60351">Instantiating Fragments in Declarative Views</a></li><li><a href="topic/c24ea6d4d2a34792a7ea241128ad8550">Using Other Objects Instead of Controllers</a></li><li><a href="topic/b807931a353649859a92f7c7bf1111e3">Inline Definition and Instantiation of Fragments</a></li></ul></section><section class="familyLinks"><div class="parentLink hidden"><br><strong>Parent topic: </strong></div><div class="previousLink hidden"><br><strong>Previous: </strong></div><div class="nextLink hidden"><br><strong>Next: </strong></div></section><section class="relatedLinks "><div class="collapsible-icon sap-icon title"><h2>Related information</h2></div><ul class="fig">
		<li><a href="api/sap.ui.core.mvc.Controller#methods/loadFragment" title="api/sap.ui.core.mvc.Controller#methods/loadFragment" class="sap-doc" alt="api/sap.ui.core.mvc.Controller#methods/loadFragment">API Reference: sap.ui.core.mvc.Controller.prototype.loadFragment</a></li>
		<li><a href="api/sap.ui.core.Fragment#methods/sap.ui.core.Fragment.load" title="api/sap.ui.core.Fragment#methods/sap.ui.core.Fragment.load" class="sap-doc" alt="api/sap.ui.core.Fragment#methods/sap.ui.core.Fragment.load">API Reference: sap.ui.core.Fragment.load</a></li>
	</ul></section></div></section></div></body></html>