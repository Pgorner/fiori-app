<html><head></head><body><div id="d4h5-main-container" class="dk-main"><section id="loioec55312f796f45e8883810af3b68b46c" class=" section topic"><div class="section-mdeditlink hidden">
				<a class="mdeditlink hidden" href="https://github.com/SAP-docs/sapui5/blob/main/docs/04_Essentials/selection-ec55312.md">Edit on GitHub</a>
			</div><div class="collapsible-icon sap-icon innerTitle"><h2 class="title ">Selection</h2></div><div class="fig"><div class="topictitle1 title"><h2 class="title ">Selection</h2></div><div class="shortdesc">The OData V4 Model supports (de-)selection of individual rows and of all rows at once.</div><p>Individual rows can be (de-)selected via <code>sap.ui.model.odata.v4.Context#setSelected</code>. If the selection state changes, a <a href="api/sap.ui.model.odata.v4.ODataListBinding#events/selectionChanged" title="api/sap.ui.model.odata.v4.ODataListBinding#events/selectionChanged" class="sap-doc" alt="api/sap.ui.model.odata.v4.ODataListBinding#events/selectionChanged"><code>selectionChanged</code></a> event is fired on the list binding which this context belongs to. While a context is
			currently <a href="api/sap.ui.model.odata.v4.Context#methods/isDeleted" title="api/sap.ui.model.odata.v4.Context#methods/isDeleted" class="sap-doc" alt="api/sap.ui.model.odata.v4.Context#methods/isDeleted">deleted</a> on the client, it does not appear as <a href="api/sap.ui.model.odata.v4.Context#methods/isSelected" title="api/sap.ui.model.odata.v4.Context#methods/isSelected" class="sap-doc" alt="api/sap.ui.model.odata.v4.Context#methods/isSelected">selected</a>.</p><p>The selection state of <span class="emphasis">all rows at once</span> ("select all") can be defined logically by calling <a href="api/sap.ui.model.odata.v4.Context#methods/setSelected" title="api/sap.ui.model.odata.v4.Context#methods/setSelected" class="sap-doc" alt="api/sap.ui.model.odata.v4.Context#methods/setSelected"><code>v4.Context#setSelected</code></a> on the list binding's <a href="api/sap.ui.model.odata.v4.ODataListBinding#methods/getHeaderContext" title="api/sap.ui.model.odata.v4.ODataListBinding#methods/getHeaderContext" class="sap-doc" alt="api/sap.ui.model.odata.v4.ODataListBinding#methods/getHeaderContext">header context</a>. The new selection state is
			propagated to all row contexts. If the selection state of the header context changes, a <a href="api/sap.ui.model.odata.v4.ODataListBinding#events/selectionChanged" title="api/sap.ui.model.odata.v4.ODataListBinding#events/selectionChanged" class="sap-doc" alt="api/sap.ui.model.odata.v4.ODataListBinding#events/selectionChanged"><code>selectionChanged</code></a> event is fired for that header context. The setter can be called again with the same value
			to again select all row contexts. For example, if a row context was deselected explicitly in between, it is selected again by selecting
			the header context again - even if the header context is already selected. If the selection state of any row context changes in this way,
			a <code>selectionChanged</code> event is nevertheless fired for that header context but not for the row context. When no selection
			state changes, no event is fired. When all rows are (de-)selected, this same selection state is applied to any new rows which are loaded
			due to scrolling or paging.</p><p>A list binding's selection state is thus defined by the "select all" state of its <a href="api/sap.ui.model.odata.v4.ODataListBinding#methods/getHeaderContext" title="api/sap.ui.model.odata.v4.ODataListBinding#methods/getHeaderContext" class="sap-doc" alt="api/sap.ui.model.odata.v4.ODataListBinding#methods/getHeaderContext">header context</a> in combination with all
			"exceptions to the rule" (as illustrated above). If the preconditions of <a href="api/sap.ui.model.odata.v4.Context#methods/setKeepAlive" title="api/sap.ui.model.odata.v4.Context#methods/setKeepAlive" class="sap-doc" alt="api/sap.ui.model.odata.v4.Context#methods/setKeepAlive"><code>#setKeepAlive</code></a> hold, a best effort is made to implicitly keep those exceptions alive in order to preserve the
			binding's selection state. Once a row selection is no longer needed, for example because you perform an operation on this context which
			logically removes it from its list, you need to reset that context's selection.</p><p>Because the selection state is kept, you can easily describe the current selection as follows (assuming there is a key property
				<code>ID</code> and a non-key property <code>Name</code>). Of course, your controller code can also operate on this
			information in any other way, for example including some back-end call. Note that you can only rely on the key properties being available
			synchronously. Due to side effects, invisible (de-)selected rows may not be kept up to date, and thus non-key properties should be
			requested asynchronously.</p><p>
			<span class="emphasis">Select All with exceptions</span>
			</p><section class="lang-js"><div class="fig fig-codeblock"><div class="copyButton"><span style="display: none;">Hidden</span></div><div class="codeblock-wrapper"><pre class="codeblock">const bSelectAll = oListBinding.getHeaderContext().isSelected();
 
const aIDs = oListBinding.getAllCurrentContexts()
    .filter((oContext) =&gt; oContext.isSelected() !== bSelectAll)
    .map((oContext) =&gt; oContext.getProperty("ID"));
MessageBox.information((bSelectAll ? "All except " : "") + aIDs.join(", "),
    {title : "Selected IDs"});
 
const aNames = await Promise.all(
    oListBinding.getAllCurrentContexts()
        .filter((oContext) =&gt; oContext.isSelected() !== bSelectAll)
        .map((oContext) =&gt; oContext.requestProperty("Name"))
);
MessageBox.information((bSelectAll ? "All except " : "") + aNames.join(", "),
    {title : "Selected Names"});</pre></div></div></section><p></p><p>A context's selection state can also be accessed via data binding to the <code>"@$ui5.context.isSelected"</code> client-side annotation, even
			as a two-way binding and also for a header context. Two-way binding means that updates to the binding are reflected as updates to that
			context's selection state, just like calls to <a href="api/sap.ui.model.odata.v4.Context#methods/setSelected" title="api/sap.ui.model.odata.v4.Context#methods/setSelected" class="sap-doc" alt="api/sap.ui.model.odata.v4.Context#methods/setSelected"><code>v4.Context#setSelected</code></a>.</p><p>Note that list-based controls may use the OData V4 model's selection state implicitly; check the corresponding control documentation for
			more information. For advanced features, you can access the OData V4 model's APIs directly as outlined above.</p><section class="contentInSection hidden"><h2>In this section:</h2></section><section class="familyLinks"><div class="parentLink hidden"><br><strong>Parent topic: </strong></div><div class="previousLink hidden"><br><strong>Previous: </strong></div><div class="nextLink hidden"><br><strong>Next: </strong></div></section><section class="hidden relatedLinks "><div class="collapsible-icon sap-icon title"><h2>Related information</h2></div><ul class="fig"></ul></section></div></section></div></body></html>