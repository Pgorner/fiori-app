<html><head></head><body><div id="d4h5-main-container" class="dk-main"><section id="loio4da72985139b4b83b5f1c1e0c0d2ed5a" class=" section topic"><div class="section-mdeditlink hidden">
				<a class="mdeditlink hidden" href="https://github.com/SAP-docs/sapui5/blob/main/docs/03_Get-Started/step-16-dialogs-and-fragments-4da7298.md">Edit on GitHub</a>
			</div><div class="collapsible-icon sap-icon innerTitle"><h2 class="title ">Step 16: Dialogs and Fragments</h2></div><div class="fig"><div class="topictitle1 title"><h2 class="title ">Step 16: Dialogs and Fragments</h2></div><div class="shortdesc">In this step, we will take a closer look at another element which can be used to
		assemble views: the fragment. </div><p>Fragments are light-weight UI parts (UI subtrees) which can be reused but do not have any
			controller. This means, whenever you want to define a certain part of your UI to be
			reusable across multiple views, or when you want to exchange some parts of a view
			against one another under certain circumstances (different user roles, edit mode vs
			read-only mode), a fragment is a good candidate, especially where no additional
			controller logic is required.</p><p>A fragment can consist of 1 to n controls. At runtime, fragments placed in a view behave similar to "normal" view content, which means controls
			inside the fragment will just be included into the view's DOM when rendered. There are of course controls that are not designed to become
			part of a view, for example, dialogs. But even for these controls, fragments can be particularly useful, as you will see in a minute.</p><p>We will now add a dialog to our app. Dialogs are special, because they open on top of the regular app content and thus do not belong to a
			specific view. That means the dialog must be instantiated somewhere in the controller code, but since we want to stick with the
			declarative approach and create reusable artifacts to be as flexible as possible, we will create an XML fragment containing the dialog. A
			dialog, after all, can be used in more than one view of your app. </p><section>
			<h2 class="title ">Preview</h2>
			<div><div class="fig"><img src="loio0916080895e144ed8b31963bfb18e17f_LowRes.png" title="The graphic has an explanatory text." alt="The graphic has an explanatory text." usemap="#"></div><span class="collapsible-icon sap-icon figcap title"><h2 class="title ">A dialog opens when the new "Say Hello With Dialog" button is clicked</h2></span></div>
		</section><section id="section_kj4_41f_syb">
			<h2 class="title ">Coding</h2>
			<p>You can view and download all files at <a href="entity/sap.m.tutorial.walkthrough/sample/sap.m.tutorial.walkthrough.16" title="entity/sap.m.tutorial.walkthrough/sample/sap.m.tutorial.walkthrough.16" class="sap-doc" alt="entity/sap.m.tutorial.walkthrough/sample/sap.m.tutorial.walkthrough.16">Walkthrough - Step 16</a>.</p>
		</section><section id="section_lj4_41f_syb">
			<h2 class="title ">webapp/view/HelloPanel.view.xml</h2>
			<section class="lang-xml"><div class="fig fig-codeblock"><div class="copyButton"><span style="display: none;">Hidden</span></div><div class="codeblock-wrapper"><pre class="codeblock">&lt;mvc:View
   controllerName="ui5.walkthrough.controller.HelloPanel"
   xmlns="sap.m"
   xmlns:mvc="sap.ui.core.mvc"&gt;
   &lt;Panel
      headerText="{i18n&gt;helloPanelTitle}"
      class="sapUiResponsiveMargin"
      width="auto" &gt;
      &lt;content&gt;
    <span class="emphasis">  &lt;Button
         id="helloDialogButton"
         text="{i18n&gt;openDialogButtonText}"
         press=".onOpenDialog"
         class="sapUiSmallMarginEnd"/&gt;</span>
      &lt;Button
         text="{i18n&gt;showHelloButtonText}"
         press=".onShowHello"
         class="myCustomButton"/&gt;
      &lt;Input
         value="{/recipient/name}"
         valueLiveUpdate="true"
         width="60%"/&gt;
      &lt;FormattedText
         htmlText="Hello {/recipient/name}"
         class="sapUiSmallMargin sapThemeHighlight-asColor myCustomText"/&gt;
      &lt;/content&gt;
   &lt;/Panel&gt;
&lt;/mvc:View&gt;</pre></div></div></section>
			<p>We add a new button to the view to open the dialog. It simply calls an event handler function in the controller of the panel's content
				view. We will need the new <code>id="helloDialogButton"</code> in <a href="topic/9bf4dce43b7943d0909cd6c58a933589" title="If we want to test interaction patterns or more visual features of our app, we can also write an integration test." class="sap-doc">Step 28: Integration Test with OPA</a>.</p>
			<p>It is a good practice to set a unique ID like <code>helloWorldButton</code> to key controls of your app so that can be identified easily. If
				the <code>id</code> attribute is not specified, the OpenUI5 runtime generates unique but changing ID like "__button23" for the
				control. Inspect the DOM elements of your app in the browser to see the difference.</p>
		</section><section>
			<h2 class="title ">webapp/view/HelloDialog.fragment.xml (New)</h2>
			<section class="lang-xml"><div class="fig fig-codeblock"><div class="copyButton"><span style="display: none;">Hidden</span></div><div class="codeblock-wrapper"><pre class="codeblock"><span class="emphasis">&lt;core:FragmentDefinition
   xmlns="sap.m"
   xmlns:core="sap.ui.core"&gt;
   &lt;Dialog
      id="helloDialog"
      title="Hello {/recipient/name}"/&gt;
&lt;/core:FragmentDefinition&gt;</span></pre></div></div></section>
			<p>We add a new XML file to declaratively define our dialog in a fragment. The fragment
				assets are located in the <code>core</code> namespace, so we add an
					<code>xml</code> namespace for it inside the
					<code>FragmentDefinition</code> tag.</p>
			<p>The syntax is similar to a view, but since fragments do not have a controller this
				attribute is missing. Also, the fragment does not have any footprint in the DOM tree
				of the app, and there is no control instance of the fragment itself (only the
				contained controls). It is simply a container for a set of reuse controls.</p>
		</section><section>
			<h2 class="title ">webapp/controller/HelloPanel.controller.js</h2>
			<section class="lang-js"><div class="fig fig-codeblock"><div class="copyButton"><span style="display: none;">Hidden</span></div><div class="codeblock-wrapper"><pre class="codeblock">sap.ui.define([
    "sap/ui/core/mvc/Controller",
    "sap/m/MessageToast"
], (Controller, MessageToast) =&gt; {
    "use strict";

    return Controller.extend("ui5.walkthrough.controller.HelloPanel", {
        onShowHello() {
            // read msg from i18n model
            const oBundle = this.getView().getModel("i18n").getResourceBundle();
            const sRecipient = this.getView().getModel().getProperty("/recipient/name");
            const sMsg = oBundle.getText("helloMsg", [sRecipient]);

            // show message
            MessageToast.show(sMsg);
        },

        <span class="emphasis">async onOpenDialog() {
            // create dialog lazily
            this.oDialog ??= await this.loadFragment({
                name: "ui5.walkthrough.view.HelloDialog"
            });
        
            this.oDialog.open();
        }</span>
    });
});</pre></div></div></section>
			<p>Using <code>async</code>/<code>await</code>, we handle the opening of the dialog asynchronously every time the event is
				triggered.</p>
			<p>If the dialog fragment does not exist yet, the fragment is instantiated by calling the <code>loadFragment</code> API. We then store the
				dialog on the controller instance. This allows us to reuse the dialog every time the event is triggered.</p>
			<div class="note tip  "><div class="collapsible-icon sap-icon"><div class="title"><strong>
					Tip
				</strong></div></div><div class="fig"><p>
				</p><p>To reuse the dialog opening and closing functionality in other controllers, you can create a new file
						<code>ui5.walkthrough.controller.BaseController</code>, which extends <code>sap.ui.core.mvc.Controller</code>, and put
					all your dialog-related coding into this controller. Now, all the other controllers can extend from
						<code>ui5.walkthrough.controller.BaseController</code> instead of <code>sap.ui.core.mvc.Controller</code>.</p>
			<p></p></div></div>
		</section><section id="section_d5m_ypr_r2b">
			<h2 class="title ">webapp/i18n/i18n.properties</h2>
			<section class="lang-prefs"><div class="fig fig-codeblock"><div class="copyButton"><span style="display: none;">Hidden</span></div><div class="codeblock-wrapper"><pre class="codeblock"># App Descriptor
appTitle=Hello World
appDescription=A simple walkthrough app that explains the most important concepts of SAPUI5

# Hello Panel
showHelloButtonText=Say Hello
helloMsg=Hello {0}
homePageTitle=Walkthrough
helloPanelTitle=Hello World
<span class="emphasis">openDialogButtonText=Say Hello With Dialog</span></pre></div></div></section>
			<p>We add a new text for the open button to the text bundle.</p>
		</section><section class="contentInSection hidden"><h2>In this section:</h2></section><section class="familyLinks"><div class="parentLink"><br><strong>Parent topic: </strong><a href="topic/3da5f4be63264db99f2e5b04c5e853db">Walkthrough Tutorial (JavaScript)</a></div><div class="previousLink"><br><strong>Previous: </strong><a href="topic/df8c9c3d79b54c928855162bafcd88ee">Step 15: Nested Views</a></div><div class="nextLink"><br><strong>Next: </strong><a href="topic/354f98ed2b514ba9960556333428d35e">Step 17: Fragment Callbacks</a></div></section><section class="relatedLinks "><div class="collapsible-icon sap-icon title"><h2>Related information</h2></div><ul class="fig">
		<li><a href="topic/36a5b130076e4b4aac2c27eebf324909" title="Fragments are light-weight UI parts (UI sub-trees) which can be reused, defined similar to views, but do not have any controller or other behavior code involved." class="sap-doc">Reusing UI Parts: Fragments</a></li>
		<li><a href="topic/448c6418153149a79c8ff4370808f9c1" title="You can use fragments to declaratively define dialogs and other popup controls which are not part of the normal page UI structure." class="sap-doc">Dialogs and other Popups as Fragments</a></li>
		<li><a href="topic/f51dbb78e7d5448e838cdc04bdf65403" title="Stable IDs are IDs for controls, elements, or components that you set yourself in the respective id property or attribute as opposed to IDs that are generated by SAPUI5. Stable means that the IDs are concatenated with the application component ID and do not have any auto-generated parts." class="sap-doc">Stable IDs: All You Need to Know</a></li>
		<li><a href="topic/04129b2798c447368f4c8922c3c33cd7" title="SAPUI5 provides two options to instantiate a fragment: If it is instantiated inside a controller extending sap.ui.core.mvc.Controller, the loadFragment() function is the way to go. However, if it is instantiated in a non-controller artefact, the generic function sap.ui.core.Fragment.load() can be used." class="sap-doc">Instantiation of Fragments</a></li>
	</ul></section></div></section></div></body></html>