{
    "_version": "3.1.0",
    "site": {
        "identification": {
            "id": "c9dcc1f3-dec0-4db4-91d3-639bf38d91ce",
            "title": "Home",
            "description": "FLP Home Page"
        },
        "payload": {
            "groupsOrder": [],
            "config": {
                "ushellConfig": {
                    "renderers": {
                        "fiori2": {
                            "componentData": {
                                "config": {
                                    "enableSearch": false
                                }
                            }
                        }
                    }
                }
            }
        }
    },
    "systemAliases": {},
    "groups": {},
    "catalogs": {
        "standardCatalog": {
            "identification": {
                "id": "standardCatalog",
                "title": "FLP - Standard Catalog"
            },
            "payload": {
                "viz": [
                    "sap.ushell.demo.AppExtensionSample"
                ]
            }
        }
    },
    "applications": {
        "sap.ushell.demo.AppExtensionSample": {
            "sap.integration": {
                "navMode": "inplace",
                "urlTemplateId": "urltemplate.fiori",
                "urlTemplateParams": {
                    "appId": "sap.ushell.demo.AppExtensionSample",
                    "ui5Async": "true"
                }
            },
            "sap.app": {
                "id": "sap.ushell.demo.AppExtensionSample",
                "title": "App Extension Sample",
                "ach": "CA-FLP-FE-COR",
                "applicationVersion": {
                    "version": "1.0.0"
                },
                "crossNavigation": {
                    "inbounds": {
                        "Action-toAppExtensionSample": {
                            "semanticObject": "Action",
                            "action": "toAppExtensionSample",
                            "signature": {
                                "parameters": {},
                                "additionalParameters": "allowed"
                            }
                        }
                    }
                }
            },
            "sap.flp": {
                "type": "application"
            },
            "sap.ui": {
                "icons": {
                    "icon": "sap-icon://puzzle"
                },
                "deviceTypes": {
                    "desktop": true,
                    "tablet": true,
                    "phone": true
                }
            }
        }
    },
    "visualizations": {
        "sap.ushell.demo.AppExtensionSample": {
            "vizType": "sap.ushell.StaticAppLauncher",
            "vizConfig": {
                "sap.flp": {
                    "target": {
                        "appId": "sap.ushell.demo.AppExtensionSample",
                        "inboundId": "Action-toAppExtensionSample"
                    }
                }
            }
        }
    },
    "pages": {
        "page1": {
            "identification": {
                "id": "page1",
                "title": "Page 1"
            },
            "payload": {
                "layout": {
                    "sectionOrder": [
                        "demoapps"
                    ]
                },
                "sections": {
                    "demoapps": {
                        "id": "demoapps",
                        "title": "Demoapps",
                        "layout": {
                            "vizOrder": [
                                "vizRef001"
                            ]
                        },
                        "viz": {
                            "vizRef001": {
                                "id": "vizRef001",
                                "vizId": "sap.ushell.demo.AppExtensionSample"
                            }
                        }
                    }
                }
            }
        },
        "emptyPage": {
            "identification": {
                "id": "emptyPage",
                "title": "Empty Page"
            },
            "payload": {
                "layout": {
                    "sectionOrder": []
                },
                "sections": {}
            }
        }
    },
    "vizTypes": {},
    "menus": {
        "main": {
            "identification": {
                "id": "main"
            },
            "payload": {
                "menuEntries": [
                    {
                        "id": "space1",
                        "help-id": "Space-space1",
                        "title": "Space 1",
                        "description": "The first Space",
                        "icon": "sap-icon://syringe",
                        "type": "IBN",
                        "target": {
                            "semanticObject": "Launchpad",
                            "action": "openFLPPage",
                            "parameters": [
                                {
                                    "name": "pageId",
                                    "value": "page1"
                                },
                                {
                                    "name": "spaceId",
                                    "value": "space1"
                                }
                            ]
                        }
                    },
                    {
                        "id": "emptySpace",
                        "help-id": "Space-emptySpace",
                        "title": "Empty Space",
                        "description": "An empty Space",
                        "icon": "sap-icon://syringe",
                        "type": "IBN",
                        "target": {
                            "semanticObject": "Launchpad",
                            "action": "openFLPPage",
                            "parameters": [
                                {
                                    "name": "pageId",
                                    "value": "emptyPage"
                                },
                                {
                                    "name": "spaceId",
                                    "value": "emptySpace"
                                }
                            ]
                        }
                    }
                ]
            }
        }
    },
    "urlTemplates": {
        "urltemplate.base": {
            "_version": "3.0.0",
            "identification": {
                "id": "urltemplate.base",
                "entityType": "urltemplate",
                "title": "{{title}}"
            },
            "payload": {
                "urlTemplate": "{+_baseUrl}",
                "parameters": {
                    "names": {
                        "_baseUrl": "{join() &_destProtocol,'://',&_destHost,':',&_destPort,&_destPrefix}",
                        "_destName": "{or &_sapSystemParam,./sap.app/destination}",
                        "_providerId": "{./sap.app/contentProviderId}",
                        "_sapSystemParam": "{if({sap-system}) &_sapSystemPrefixed}",
                        "_sapSystemPrefixed": "{join(_) &_providerId,sap-system}",
                        "_destProtocolHttps": "{and /systemAliases/{&_destName}/https,'https'}",
                        "_destProtocolHttp": "{and /systemAliases/{&_destName}/http,'http'}",
                        "_destProtocol": "{or &_destProtocolHttps,&_destProtocolHttp}",
                        "_destHost": "{/systemAliases/{&_destName}/{&_destProtocol}/host}",
                        "_destPort": "{or /systemAliases/{&_destName}/{&_destProtocol}/port,''}",
                        "_destPlatform": "{or /systemAliases/{&_destName}/platform,'CF'}",
                        "_destPlatformIsAbap": "{match(^ABAP$) &_destPlatform}",
                        "_defaultPathPrefix": "{and &_destPlatformIsAbap,'/sap/bc'}",
                        "_destPathPrefix": "{/systemAliases/{&_destName}/{&_destProtocol}/pathPrefix}",
                        "_destPrefix": "{if({&_destPathPrefix}) &_destPathPrefix,&_defaultPathPrefix}",
                        "_destClient": "{/systemAliases/{&_destName}/client}",
                        "_destService": "{/systemAliases/{&_destName}/rfc/service}",
                        "_destSysId": "{/systemAliases/{&_destName}/rfc/systemId}",
                        "_destMsHost": "{/systemAliases/{&_destName}/rfc/messageServer}",
                        "_destRfcHost": "{/systemAliases/{&_destName}/rfc/host}",
                        "_destLoginGroup": "{/systemAliases/{&_destName}/rfc/loginGroup}",
                        "_destSncName": "{/systemAliases/{&_destName}/rfc/sncNameR3}",
                        "_destSncQo": "{/systemAliases/{&_destName}/rfc/sncQoPR3}",
                        "_destIsLoadBalancing": "{and &_destSysId}",
                        "_destIsNotLoadBalancing": "{not &_destIsLoadBalancing}",
                        "_destHostIsConnectString": "{match(^[/][HGMR][/].*) &_destRfcHost}",
                        "originalHash": "{url(hash)}",
                        "hashWithoutInnerRoute": "{replace(&[\\/].*$,) &originalHash}",
                        "startupParameters": "{*|match(^(?!sap-(system\\|(ushell-navmode))$))}",
                        "startParamsJoined": "{*|match(^(?!sap-(system\\|(ushell-navmode))$))|join(&,=)}",
                        "ui5Version": "{or &env:ui5Version,/site/payload/sap.cloud.portal/config/ui5VersionNumber}",
                        "sapPlugins": {
                            "renameTo": "sap-plugins",
                            "value": "{if({&env:sapPlugins}) &env:sapPlugins}"
                        },
                        "sapClient": {
                            "renameTo": "sap-client",
                            "value": "{if({&_destPlatformIsAbap}) &_destClient}"
                        },
                        "sapShell": {
                            "renameTo": "sap-shell",
                            "value": "FLP"
                        },
                        "sapShellFormatted": "{join '&sap-shell=',&sapShell}",
                        "sapTheme": {
                            "renameTo": "sap-theme",
                            "value": "{&env:theme}"
                        },
                        "sapThemeFull": "{join '&sap-theme=',&sapTheme}",
                        "sapLanguage": {
                            "renameTo": "sap-language",
                            "value": "{&env:logonLanguage}"
                        },
                        "sapLocale": {
                            "renameTo": "sap-locale",
                            "value": "{&env:language}"
                        },
                        "sapLocaleFormatted": "{join '&sap-locale=',&sapLocale}",
                        "sapUiDebug": {
                            "renameTo": "sap-ui-debug",
                            "value": "{if({&env:isDebugMode}) &env:isDebugMode}"
                        },
                        "_contentDensity": "{or &env:contentDensity,'compact'}",
                        "_sapDensityIsCozy": "{match(^cozy$) &_contentDensity}",
                        "sapDensity": {
                            "renameTo": "sap-touch",
                            "value": "{if({&_sapDensityIsCozy}) '1','0'}"
                        },
                        "sapInnerAppState": {
                            "renameTo": "sap-iapp-state",
                            "value": "{if({&env:innerAppState}) &env:innerAppState}"
                        },
                        "sapHistoryDirection": {
                            "renameTo": "sap-history-dir",
                            "value": "{if({&env:historyDirection}) &env:historyDirection}"
                        }
                    }
                }
            },
            "texts": [
                {
                    "locale": "",
                    "textDictionary": {
                        "title": "Base URL Template"
                    }
                }
            ]
        },
        "urltemplate.fiori": {
            "identification": {
                "id": "urltemplate.fiori"
            },
            "payload": {
                "urlTemplate": "./test-resources/sap/ushell/shells/demo/ui5appruntime.html{?appId,startupParameters,sapClient,sapShell,sapDensity,versionedLibCss,sapPlugins,sapHistoryDirection,ui5Async,fesr}{+sapThemeFull}{+languageParam}{+hashWithoutInnerRoute}{+innerAppRoute}",
                "parameters": {
                    "mergeWith": [
                        "/urlTemplates/urltemplate.base/payload/parameters/names"
                    ],
                    "names": {
                        "_destName": "{./sap.app/destination}",
                        "innerAppRouteValue": "{or &innerAppRoute:.,sap-ushell-innerAppRoute}",
                        "innerAppRouteValuePrefixed": "{join '&/',&innerAppRouteValue}",
                        "innerAppRoute": "{and &innerAppRouteValue,&innerAppRouteValuePrefixed}",
                        "startupParameters": {
                            "renameTo": "sap-startup-params",
                            "value": "{*|match(^(?!sap-ushell(-innerAppRoute\\|-navmode)$))|join(&,=)}"
                        },
                        "isAppRuntimeCf": "{match(^CF$) &_destPlatform}",
                        "appRuntimeAbap": "{if({&_destPlatformIsAbap}) '/ui2/flp/ui5appruntime.html'}",
                        "isAppRuntimeNeo": "{match(^NEO$) &_destPlatform}",
                        "appRuntimeCf": "{if({&isAppRuntimeCf}) '/cp.portal/ui5appruntime.html'}",
                        "isNeoAppRuntimeDebugMode": "{and &isAppRuntimeNeo,&env:isDebugMode}",
                        "appRuntimeNeo": "{if({&isNeoAppRuntimeDebugMode}) '/sap/fiori/appruntime/ui5appruntimedebug.html','/sap/fiori/appruntime/ui5appruntime.html'}",
                        "appRuntime": "{or &appRuntimeAbap,&appRuntimeCf,&appRuntimeNeo}",
                        "appId": {
                            "value": "{./sap.integration/urlTemplateParams/appId}",
                            "renameTo": "sap-ui-app-id"
                        },
                        "ui5Async": {
                            "value": "{./sap.integration/urlTemplateParams/ui5Async}",
                            "renameTo": "sap-async-loading"
                        },
                        "fesr": {
                            "value": "{./sap.integration/urlTemplateParams/fesr}",
                            "renameTo": "sap-enable-fesr"
                        },
                        "versionedLibCss": {
                            "value": "true",
                            "renameTo": "sap-ui-versionedLibCss"
                        },
                        "sapLocaleFormatted": "{join '&sap-locale=',&sapLocale}",
                        "sapLanguageFormatted": "{join '&sap-language=',&sapLanguage}",
                        "languageForAbap": "{if({&_destPlatformIsAbap}) &sapLanguageFormatted}",
                        "languageForOtherPlatforms": "{if(!{&_destPlatformIsAbap}) &sapLocaleFormatted}",
                        "languageParam": "{or &languageForAbap,&languageForOtherPlatforms}",
                        "technicalAppComponentId": "{or ./sap.integration/urlTemplateParams/baseComponentName,&appId}"
                    }
                },
                "capabilities": {
                    "navigationMode": "embedded",
                    "startMethod": "GET",
                    "fullWidth": true,
                    "statefulContainer": true,
                    "technicalAppComponentId": "{+technicalAppComponentId}",
                    "appFrameworkId": "UI5"
                }
            }
        }
    }
}
