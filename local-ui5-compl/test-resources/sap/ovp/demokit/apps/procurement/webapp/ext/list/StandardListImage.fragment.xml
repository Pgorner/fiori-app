<core:FragmentDefinition
	xmlns="sap.m"
	xmlns:core="sap.ui.core"
	xmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"
	xmlns:build="sap.build"
	template:require="{
		CardAnnotationhelper: 'sap/ovp/cards/AnnotationHelper'
	}"	
>
    <List 
		core:require="{CardAnnotationhelper: 'sap/ovp/cards/AnnotationHelper'}"
		class="SomeListClass" 
		id="ovpList" 
		items="{parts:[{path:'entitySet>'}, {path:'ovpCardProperties>/annotationPath'}], formatter: 'CardAnnotationhelper.formatItems'}">
        <template:with 
			path='ovpCardProperties>/annotationPath' 
			helper="CardAnnotationhelper.resolveEntityTypePath" 
			var='lineItem'>
                <items class="someItemsClass">
					<StandardListItem
						class="sapOvpStandardListItem sapOvpStandardListItemImages"
						icon="{path: 'lineItem>', formatter: 'CardAnnotationhelper.formatImageUrl'}"
						iconInset = "false"
						title="{path: 'lineItem>', formatter: 'CardAnnotationhelper.formatFirstDataFieldValue'}"
						description="{path: 'lineItem>', formatter: 'CardAnnotationhelper.formatSecondDataFieldValue'}"
						info="{= ${path: 'lineItem>', formatter :'CardAnnotationhelper.getDataPointsCount'} > 0 ? ${path: 'lineItem>', formatter: 'CardAnnotationhelper.formatFirstDataPointValue'} : ${path: 'lineItem>', formatter: 'CardAnnotationhelper.formatThirdDataFieldValue'} }"
						infoState="{= ${path: 'lineItem>', formatter: 'CardAnnotationhelper.getDataPointsCount'} > 0 ? ${path: 'lineItem>', formatter: 'CardAnnotationhelper.formatFirstDataPointState'} : 'None' }"
						type="Active"
						press="onListItemPress"
						build:metadata="#pattern:GenericCard>StandardList;prop::ItemTitle:\{lineItem>/0/Value\};prop::ItemDescription:\{lineItem>/1/Value\};prop::ItemInfo:\{lineItem>/2/Target@@Value\};prop::ItemNumberToleranceRangeLowValue:\{lineItem>/2/Target@@CriticalityCalculation/ToleranceRangeLowValue\};prop::ItemNumberDeviationRangeLowValue:\{lineItem>/2/Target@@CriticalityCalculation/DeviationRangeLowValue\};set:ovpCardProperties>/annotationPath:com.sap.vocabularies.UI.v1.LineItem">
					</StandardListItem>
                </items>
        </template:with>
    </List>
</core:FragmentDefinition>
