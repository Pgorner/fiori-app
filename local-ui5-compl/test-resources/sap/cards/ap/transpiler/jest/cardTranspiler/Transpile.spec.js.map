{"version":3,"file":"Transpile.spec.js","names":["sap","ui","define","sap_cards_ap_transpiler_cardTranspiler_Transpile","__integrationObjectCard","_interopRequireDefault","obj","__esModule","default","convertIntegrationCardToAdaptive","integrationObjectCard","describe","windowSpy","beforeEach","jest","spyOn","window","mockImplementation","hasher","getHash","location","href","origin","afterEach","mockRestore","clearAllMocks","test","integrationCardManifest","configuration","parameters","expect","toMatchSnapshot","manifest","manifestWithExpressions","keyParameters","key","formattedValue","manifestWithOrWithoutGroupItemValues"],"sources":["Transpile.spec.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\nimport { convertIntegrationCardToAdaptive } from \"sap/cards/ap/transpiler/cardTranspiler/Transpile\";\nimport type { CardManifest } from \"sap/ui/integration/widgets/Card\";\nimport integrationObjectCard from \"../../cards/integration/IntegrationObjectCard\";\n\ndescribe(\"Transpile: generateAdaptiveCard\", () => {\n\tlet windowSpy: jest.SpyInstance;\n\n\tbeforeEach(() => {\n\t\twindowSpy = jest.spyOn(window, \"window\", \"get\");\n\t\twindowSpy.mockImplementation(() => ({\n\t\t\thasher: {\n\t\t\t\tgetHash: () => \"SalesOrder-manageV2?SalesOrderDate=2024-03-01&/SalesOrderManage('400')\"\n\t\t\t},\n\t\t\tlocation: {\n\t\t\t\thref: \"https://my313815.s4hana.ondemand.com/ui#SalesOrder-manageV2?SalesOrderDate=2024-03-01&/SalesOrderManage('400')\",\n\t\t\t\torigin: \"https://my313815.s4hana.ondemand.com\"\n\t\t\t}\n\t\t}));\n\t});\n\n\tafterEach(() => {\n\t\twindowSpy.mockRestore();\n\t\tjest.clearAllMocks();\n\t});\n\n\ttest(\"Call with empty integration card\", () => {\n\t\tconst integrationCardManifest = {\n\t\t\t\"sap.card\": {\n\t\t\t\tconfiguration: {\n\t\t\t\t\tparameters: {}\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\texpect(convertIntegrationCardToAdaptive(integrationCardManifest, \"SalesOrder-manageV2\")).toMatchSnapshot();\n\t});\n\ttest(\"Generate adaptive Object card\", () => {\n\t\t// Integration card is transpiled into adaptive card\n\t\texpect(\n\t\t\tconvertIntegrationCardToAdaptive(integrationObjectCard.manifest as unknown as CardManifest, \"SalesOrder-manageV2\")\n\t\t).toMatchSnapshot();\n\t});\n\n\ttest(\"Generate adaptive Object card with formatter Expressions in manifest value\", () => {\n\t\t// Integration card is transpiled into adaptive card\n\t\texpect(\n\t\t\tconvertIntegrationCardToAdaptive(\n\t\t\t\tintegrationObjectCard.manifestWithExpressions as unknown as CardManifest,\n\t\t\t\t\"SalesOrder-manageV2\"\n\t\t\t)\n\t\t).toMatchSnapshot();\n\t});\n\n\ttest(\"Generate adaptive Object card when manifest may or may not have values for group items\", () => {\n\t\t// Integration card is transpiled into adaptive card correctly\n\t\tconst keyParameters = [\n\t\t\t{\n\t\t\t\tkey: \"SalesOrderDate\",\n\t\t\t\tformattedValue: \"2024-03-01\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tkey: \"SalesOrder\",\n\t\t\t\tformattedValue: \"1234\"\n\t\t\t}\n\t\t];\n\t\texpect(\n\t\t\tconvertIntegrationCardToAdaptive(\n\t\t\t\tintegrationObjectCard.manifestWithOrWithoutGroupItemValues as unknown as CardManifest,\n\t\t\t\t\"SalesOrder-manageV2\",\n\t\t\t\tkeyParameters\n\t\t\t)\n\t\t).toMatchSnapshot();\n\t});\n});\n"],"mappings":"AAAA;AACA;AACA;AACA;AAHA;;AAAAA,GAAA,CAAAC,EAAA,CAAAC,MAAA,kHAAAC,gDAAA,EAAAC,uBAAA;EAAA;;EAAA,SAAAC,uBAAAC,GAAA;IAAA,OAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,WAAAD,GAAA,CAAAE,OAAA,mBAAAF,GAAA,CAAAE,OAAA,GAAAF,GAAA;EAAA;EAAA,MAISG,gCAAgC,GAAAN,gDAAA;EAAA,MAElCO,qBAAqB,GAAAL,sBAAA,CAAAD,uBAAA;EAE5BO,QAAQ,CAAC,iCAAiC,EAAE,MAAM;IACjD,IAAIC,SAA2B;IAE/BC,UAAU,CAAC,MAAM;MAChBD,SAAS,GAAGE,IAAI,CAACC,KAAK,CAACC,MAAM,EAAE,QAAQ,EAAE,KAAK,CAAC;MAC/CJ,SAAS,CAACK,kBAAkB,CAAC,OAAO;QACnCC,MAAM,EAAE;UACPC,OAAO,EAAEA,CAAA,KAAM;QAChB,CAAC;QACDC,QAAQ,EAAE;UACTC,IAAI,EAAE,gHAAgH;UACtHC,MAAM,EAAE;QACT;MACD,CAAC,CAAC,CAAC;IACJ,CAAC,CAAC;IAEFC,SAAS,CAAC,MAAM;MACfX,SAAS,CAACY,WAAW,CAAC,CAAC;MACvBV,IAAI,CAACW,aAAa,CAAC,CAAC;IACrB,CAAC,CAAC;IAEFC,IAAI,CAAC,kCAAkC,EAAE,MAAM;MAC9C,MAAMC,uBAAuB,GAAG;QAC/B,UAAU,EAAE;UACXC,aAAa,EAAE;YACdC,UAAU,EAAE,CAAC;UACd;QACD;MACD,CAAC;MACDC,MAAM,CAACrB,gCAAgC,CAACkB,uBAAuB,EAAE,qBAAqB,CAAC,CAAC,CAACI,eAAe,CAAC,CAAC;IAC3G,CAAC,CAAC;IACFL,IAAI,CAAC,+BAA+B,EAAE,MAAM;MAC3C;MACAI,MAAM,CACLrB,gCAAgC,CAACC,qBAAqB,CAACsB,QAAQ,EAA6B,qBAAqB,CAClH,CAAC,CAACD,eAAe,CAAC,CAAC;IACpB,CAAC,CAAC;IAEFL,IAAI,CAAC,4EAA4E,EAAE,MAAM;MACxF;MACAI,MAAM,CACLrB,gCAAgC,CAC/BC,qBAAqB,CAACuB,uBAAuB,EAC7C,qBACD,CACD,CAAC,CAACF,eAAe,CAAC,CAAC;IACpB,CAAC,CAAC;IAEFL,IAAI,CAAC,wFAAwF,EAAE,MAAM;MACpG;MACA,MAAMQ,aAAa,GAAG,CACrB;QACCC,GAAG,EAAE,gBAAgB;QACrBC,cAAc,EAAE;MACjB,CAAC,EACD;QACCD,GAAG,EAAE,YAAY;QACjBC,cAAc,EAAE;MACjB,CAAC,CACD;MACDN,MAAM,CACLrB,gCAAgC,CAC/BC,qBAAqB,CAAC2B,oCAAoC,EAC1D,qBAAqB,EACrBH,aACD,CACD,CAAC,CAACH,eAAe,CAAC,CAAC;IACpB,CAAC,CAAC;EACH,CAAC,CAAC;AAAC","ignoreList":[]}