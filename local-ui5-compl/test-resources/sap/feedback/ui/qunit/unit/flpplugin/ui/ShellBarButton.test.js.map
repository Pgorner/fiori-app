{"version":3,"file":"ShellBarButton.test.js","names":["__exports","QUnit","module","test","assert","resourceBundle","getText","sinon","stub","returns","openSurveyCallback","showForAllAppsStub","showOnHomeStub","showForAllApps","createHeaderItemMock","ShellExtension","prototype","Promise","resolve","showOnHome","shellExtensionServiceMock","createHeaderItem","getShellExtensionStub","UI5Util","ShellBarButton","initShellBarButton","then","ok","calledWith","match","object","position","called","restore","e","reject","openSurveyCallbackStub","headerItem","press","reset"],"sourceRoot":".","sources":["ShellBarButton.test.ts"],"sourcesContent":["import ResourceBundle from 'sap/base/i18n/ResourceBundle';\nimport UI5Util from 'sap/feedback/ui/flpplugin/common/UI5Util';\nimport ShellBarButton from 'sap/feedback/ui/flpplugin/ui/ShellBarButton';\nimport ShellExtension from 'sap/ushell/services/Extension';\nimport Item from 'sap/ushell/services/Extension/Item';\n// eslint-disable-next-line import/no-unresolved\nimport * as sinon from 'sinon';\n\nexport default () => {\n\tQUnit.module('ShellBarButton unit tests', {});\n\n\tQUnit.test('initShellBarButton - shall call the headerEndItem with desired parameters', async (assert) => {\n\t\tconst resourceBundle = {\n\t\t\tgetText: sinon.stub().returns('Give Feedback')\n\t\t} as unknown as ResourceBundle;\n\t\tconst openSurveyCallback = sinon.stub();\n\t\tconst showForAllAppsStub = sinon.stub();\n\t\tconst showOnHomeStub = sinon.stub().returns({ showForAllApps: showForAllAppsStub } as unknown as Item);\n\t\tconst createHeaderItemMock = sinon\n\t\t\t.stub(ShellExtension.prototype, 'createHeaderItem')\n\t\t\t.returns(Promise.resolve({ showOnHome: showOnHomeStub } as unknown as Item));\n\t\tconst shellExtensionServiceMock = {\n\t\t\tcreateHeaderItem: createHeaderItemMock\n\t\t} as unknown as ShellExtension;\n\t\tconst getShellExtensionStub = sinon.stub(UI5Util, 'getExtensionService').returns(Promise.resolve(shellExtensionServiceMock));\n\n\t\tawait ShellBarButton.initShellBarButton(resourceBundle, openSurveyCallback);\n\n\t\tassert.ok(createHeaderItemMock.calledWith(sinon.match.object, { position: 'end' }));\n\t\tassert.ok(showOnHomeStub.called);\n\t\tassert.ok(showForAllAppsStub.called);\n\n\t\tgetShellExtensionStub.restore();\n\t\tcreateHeaderItemMock.restore();\n\t});\n\n\tQUnit.test('getHeaderItem - shall trigger a callback with press event', (assert) => {\n\t\tconst resourceBundle = {\n\t\t\tgetText: sinon.stub().returns('Give Feedback')\n\t\t} as unknown as ResourceBundle;\n\t\tconst openSurveyCallbackStub = sinon.stub();\n\n\t\tconst headerItem = ShellBarButton['getHeaderItem'](resourceBundle, openSurveyCallbackStub);\n\n\t\theaderItem.press();\n\n\t\tassert.ok(openSurveyCallbackStub.called);\n\n\t\topenSurveyCallbackStub.reset();\n\t});\n};\n"],"mappings":";;;;;kBAQe,SAAAA,UAAA,EAAM;IACpBC,KAAK,CAACC,MAAM,CAAC,2BAA2B,EAAE,CAAC,CAAC,CAAC;IAE7CD,KAAK,CAACE,IAAI,CAAC,2EAA2E,YAASC,MAAM;MAAA,IAAK;QACzG,IAAMC,cAAc,GAAG;UACtBC,OAAO,EAAEC,KAAK,CAACC,IAAI,CAAC,CAAC,CAACC,OAAO,CAAC,eAAe;QAC9C,CAA8B;QAC9B,IAAMC,kBAAkB,GAAGH,KAAK,CAACC,IAAI,CAAC,CAAC;QACvC,IAAMG,kBAAkB,GAAGJ,KAAK,CAACC,IAAI,CAAC,CAAC;QACvC,IAAMI,cAAc,GAAGL,KAAK,CAACC,IAAI,CAAC,CAAC,CAACC,OAAO,CAAC;UAAEI,cAAc,EAAEF;QAAmB,CAAoB,CAAC;QACtG,IAAMG,oBAAoB,GAAGP,KAAK,CAChCC,IAAI,CAACO,cAAc,CAACC,SAAS,EAAE,kBAAkB,CAAC,CAClDP,OAAO,CAACQ,OAAO,CAACC,OAAO,CAAC;UAAEC,UAAU,EAAEP;QAAe,CAAoB,CAAC,CAAC;QAC7E,IAAMQ,yBAAyB,GAAG;UACjCC,gBAAgB,EAAEP;QACnB,CAA8B;QAC9B,IAAMQ,qBAAqB,GAAGf,KAAK,CAACC,IAAI,CAACe,OAAO,EAAE,qBAAqB,CAAC,CAACd,OAAO,CAACQ,OAAO,CAACC,OAAO,CAACE,yBAAyB,CAAC,CAAC;QAAC,OAAAH,OAAA,CAAAC,OAAA,CAEvHM,cAAc,CAACC,kBAAkB,CAACpB,cAAc,EAAEK,kBAAkB,CAAC,EAAAgB,IAAA;UAE3EtB,MAAM,CAACuB,EAAE,CAACb,oBAAoB,CAACc,UAAU,CAACrB,KAAK,CAACsB,KAAK,CAACC,MAAM,EAAE;YAAEC,QAAQ,EAAE;UAAM,CAAC,CAAC,CAAC;UACnF3B,MAAM,CAACuB,EAAE,CAACf,cAAc,CAACoB,MAAM,CAAC;UAChC5B,MAAM,CAACuB,EAAE,CAAChB,kBAAkB,CAACqB,MAAM,CAAC;UAEpCV,qBAAqB,CAACW,OAAO,CAAC,CAAC;UAC/BnB,oBAAoB,CAACmB,OAAO,CAAC,CAAC;QAAC;MAChC,CAAC,QAAAC,CAAA;QAAA,OAAAjB,OAAA,CAAAkB,MAAA,CAAAD,CAAA;MAAA;IAAA,EAAC;IAEFjC,KAAK,CAACE,IAAI,CAAC,2DAA2D,EAAE,UAACC,MAAM,EAAK;MACnF,IAAMC,cAAc,GAAG;QACtBC,OAAO,EAAEC,KAAK,CAACC,IAAI,CAAC,CAAC,CAACC,OAAO,CAAC,eAAe;MAC9C,CAA8B;MAC9B,IAAM2B,sBAAsB,GAAG7B,KAAK,CAACC,IAAI,CAAC,CAAC;MAE3C,IAAM6B,UAAU,GAAGb,cAAc,CAAC,eAAe,CAAC,CAACnB,cAAc,EAAE+B,sBAAsB,CAAC;MAE1FC,UAAU,CAACC,KAAK,CAAC,CAAC;MAElBlC,MAAM,CAACuB,EAAE,CAACS,sBAAsB,CAACJ,MAAM,CAAC;MAExCI,sBAAsB,CAACG,KAAK,CAAC,CAAC;IAC/B,CAAC,CAAC;EACH,CAAC;EAAA,OAAAvC,SAAA;AAAA","ignoreList":[]}