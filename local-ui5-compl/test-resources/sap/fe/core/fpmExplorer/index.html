<!doctype html>
<html>
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Flexible Programming Model Explorer</title>
		<link type="image/x-icon" href="/resources/sap/ui/core/mimes/logo/txtonly_16x16.ico" rel="shortcut icon" />
		<link type="image/x-icon" href="/resources/sap/ui/core/mimes/logo/txtonly_16x16.ico" rel="icon" />
		<style>
			html,
			body,
			body > div,
			#container,
			#container-uiarea {
				height: 100%;
			}
		</style>
		<script
			id="sap-ui-bootstrap"
			src="/resources/sap-ui-core.js"
			data-sap-ui-theme="sap_horizon"
			data-sap-ui-language="en"
			data-sap-ui-flexibilityServices='[{"connector": "SessionStorageConnector"}]'
			data-sap-ui-resourceroots='{
				"sap.fe.core.fpmExplorer": "./",
				"sap.fe.core.internal.fpmExplorer": "../internal/fpmExplorer"
			}'
			data-sap-ui-oninit="onInit"
			data-sap-ui-compatVersion="edge"
			data-sap-ui-async="true"
		></script>
		<script type="application/javascript">
			// The service worker defined here is useful to allow to edit the file in the editor and also reload the change immediately
			// It acts as a proxy to get all the requests pertaining to the sample and caching them, also offering a simple POST api to udpate them
			function onInit() {
				if ("serviceWorker" in navigator) {
					navigator.serviceWorker.addEventListener("message", (event) => {
						// event is a MessageEvent object
						console.log(`The service worker sent me a message: ${event.data}`);
					});
					navigator.serviceWorker
						.register("./service-worker.js")
						.then(function () {
							navigator.serviceWorker.ready.then((registration) => {
								registration.active.postMessage({
									type: "CLEAN_CACHE"
								});
							});
						})
						.catch(function (error) {
							// Something went wrong during registration. The service-worker.js file
							// might be unavailable or contain a syntax error.
							//document.querySelector("#status").textContent = error;
						})
						.finally(function () {
							sap.ui.require(["sap/ui/core/ComponentSupport"]);
						});
				} else {
					console.log("Service worker are not enabled");
				}
			}
		</script>
	</head>

	<body class="sapUiBody">
		<div data-sap-ui-component data-name="sap.fe.core.fpmExplorer" data-id="container" data-settings='{"id" : "fpmExplorer"}'></div>
	</body>
</html>
