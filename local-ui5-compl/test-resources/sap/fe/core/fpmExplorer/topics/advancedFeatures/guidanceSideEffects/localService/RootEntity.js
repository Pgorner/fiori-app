/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2024 SAP SE. All rights reserved
 */
sap.ui.define([], function () {
  "use strict";

  const RootEntity = {
    async executeAction(actionDefinition, actionData, keys, odataRequest) {
      function isPrime(n) {
        if (n <= 1) {
          return false;
        }
        for (let i = 2; i < n; i++) {
          if (n % i === 0) {
            return false;
          }
        }
        return true;
      }
      switch (actionDefinition.name) {
        case "increaseAndCheckPrime":
          {
            const entries = await this.base?.fetchEntries(keys, odataRequest);
            const clickCount = entries[0].complexProperty_number + 1;
            entries[0].complexProperty_number = clickCount;
            entries[0].complexProperty_prime = isPrime(clickCount);
            await this.base?.updateEntry(keys, entries[0], odataRequest);
            break;
          }
        case "sideEffectTriggerAction":
          {
            const entries = await this.base?.fetchEntries(keys, odataRequest);
            //Side effect sample 2
            entries[0].targetProperty2 = "Source Property Value: " + entries[0].sourceProperty2;
            await this.base?.updateEntry(actionData, entries[0], odataRequest);
            break;
          }
        case "sideEffectTriggerActionMultiSources":
          {
            const entries = await this.base?.fetchEntries(keys, odataRequest);
            //Side effect sample 3
            entries[0].targetProperty3 = "Source Properties Values: " + entries[0].sourceProperty3a + " & " + entries[0].sourceProperty3b;
            await this.base?.updateEntry(actionData, entries[0], odataRequest);
            break;
          }
        case "addRound":
        case "stopRound":
          {
            const singletonEntity = await this.base?.getEntityInterface("EntitiesSingleton");
            const absoluteEntity = await this.base?.getEntityInterface("AbsoluteEntity");
            if (absoluteEntity) {
              const entries = await absoluteEntity.getAllEntries?.(odataRequest);
              const now = new Date();
              if (singletonEntity) {
                const singletonEntry = await singletonEntity.getAllEntries?.(odataRequest);
                if (entries.length > 0) {
                  const latestEntry = entries[entries.length - 1];
                  const distance = now.getTime() - latestEntry.TimeStamp.getTime();
                  const distDate = new Date(distance);
                  const duration = distDate.toTimeString().replace(/.*(\d{2}:\d{2}).*/, "$1") + "." + distDate.getMilliseconds().toString().substring(0, 2);
                  latestEntry.TimeStamp = now;
                  latestEntry.Duration = duration;
                  await absoluteEntity.updateEntry?.({
                    ID: latestEntry.ID
                  }, latestEntry, {}, odataRequest);
                  if (actionDefinition.name === "addRound") {
                    await absoluteEntity.addEntry?.({
                      ID: entries.length + 1,
                      TimeStamp: now,
                      Duration: "Started"
                    }, odataRequest);
                    singletonEntry[0].BooleanProperty = true;
                  } else {
                    singletonEntry[0].BooleanProperty = false;
                  }
                } else {
                  await absoluteEntity.addEntry?.({
                    ID: 1,
                    TimeStamp: now,
                    Duration: "Started"
                  }, odataRequest);
                  singletonEntry[0].BooleanProperty = true;
                }
                await singletonEntity.updateEntry?.({
                  ID: singletonEntry[0].ID
                }, singletonEntry[0], {}, odataRequest);
              }
            }
            break;
          }
        case "clearRounds":
          {
            const absoluteEntity = await this.base?.getEntityInterface("AbsoluteEntity");
            if (absoluteEntity) {
              const entries = await absoluteEntity.getAllEntries?.(odataRequest);
              entries.forEach(function (oEntry) {
                absoluteEntity.removeEntry?.({
                  ID: oEntry.ID
                }, odataRequest);
              });
            }
            break;
          }
        case "deleteBusinessPartner":
          {
            const businessPartnerEntity = await this.base?.getEntityInterface("BusinessPartnerAddress");
            if (businessPartnerEntity) {
              const entries = await this.base?.fetchEntries(keys, odataRequest);
              await businessPartnerEntity.removeEntry?.({
                BusinessPartner: entries[0].BusinessPartnerID
              }, odataRequest);
              entries[0].BusinessPartnerID = "";
              await this.base?.updateEntry?.(keys, entries[0], odataRequest);
            }
            break;
          }
      }
      return {};
    },
    async onAfterUpdateEntry(keyValues, updatedData, odataRequest) {
      const entries = await this.base?.fetchEntries(keyValues, odataRequest);
      //Side effect sample 1
      entries[0].targetProperty1a = "Source Property Value: " + updatedData.sourceProperty1;
      if (updatedData.sourceProperty1 != "") {
        entries[0].fieldControlProperty1 = 3;
      } else {
        entries[0].fieldControlProperty1 = 1;
      }

      //Side effect sample 4
      if (updatedData.sourceProperty4) {
        entries[0].fieldControlProperty2 = 3;
      } else {
        entries[0].fieldControlProperty2 = 1;
      }
      await this.base?.updateEntry(keyValues, entries[0], odataRequest);
    }
  };
  return RootEntity;
}, false);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJSb290RW50aXR5IiwiZXhlY3V0ZUFjdGlvbiIsImFjdGlvbkRlZmluaXRpb24iLCJhY3Rpb25EYXRhIiwia2V5cyIsIm9kYXRhUmVxdWVzdCIsImlzUHJpbWUiLCJuIiwiaSIsIm5hbWUiLCJlbnRyaWVzIiwiYmFzZSIsImZldGNoRW50cmllcyIsImNsaWNrQ291bnQiLCJjb21wbGV4UHJvcGVydHlfbnVtYmVyIiwiY29tcGxleFByb3BlcnR5X3ByaW1lIiwidXBkYXRlRW50cnkiLCJ0YXJnZXRQcm9wZXJ0eTIiLCJzb3VyY2VQcm9wZXJ0eTIiLCJ0YXJnZXRQcm9wZXJ0eTMiLCJzb3VyY2VQcm9wZXJ0eTNhIiwic291cmNlUHJvcGVydHkzYiIsInNpbmdsZXRvbkVudGl0eSIsImdldEVudGl0eUludGVyZmFjZSIsImFic29sdXRlRW50aXR5IiwiZ2V0QWxsRW50cmllcyIsIm5vdyIsIkRhdGUiLCJzaW5nbGV0b25FbnRyeSIsImxlbmd0aCIsImxhdGVzdEVudHJ5IiwiZGlzdGFuY2UiLCJnZXRUaW1lIiwiVGltZVN0YW1wIiwiZGlzdERhdGUiLCJkdXJhdGlvbiIsInRvVGltZVN0cmluZyIsInJlcGxhY2UiLCJnZXRNaWxsaXNlY29uZHMiLCJ0b1N0cmluZyIsInN1YnN0cmluZyIsIkR1cmF0aW9uIiwiSUQiLCJhZGRFbnRyeSIsIkJvb2xlYW5Qcm9wZXJ0eSIsImZvckVhY2giLCJvRW50cnkiLCJyZW1vdmVFbnRyeSIsImJ1c2luZXNzUGFydG5lckVudGl0eSIsIkJ1c2luZXNzUGFydG5lciIsIkJ1c2luZXNzUGFydG5lcklEIiwib25BZnRlclVwZGF0ZUVudHJ5Iiwia2V5VmFsdWVzIiwidXBkYXRlZERhdGEiLCJ0YXJnZXRQcm9wZXJ0eTFhIiwic291cmNlUHJvcGVydHkxIiwiZmllbGRDb250cm9sUHJvcGVydHkxIiwic291cmNlUHJvcGVydHk0IiwiZmllbGRDb250cm9sUHJvcGVydHkyIl0sInNvdXJjZVJvb3QiOiIuIiwic291cmNlcyI6WyJSb290RW50aXR5LnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB0eXBlIHsgTW9ja0RhdGFDb250cmlidXRvciB9IGZyb20gXCJAc2FwLXV4L3VpNS1taWRkbGV3YXJlLWZlLW1vY2tzZXJ2ZXJcIjtcbmltcG9ydCB0eXBlIHsgQWJzb2x1dGVFbnRpdHlUeXBlLCBFbnRpdGllc1NpbmdsZXRvblR5cGUsIFJvb3RFbnRpdHlUeXBlIH0gZnJvbSBcIi4vdHlwZXNcIjtcblxuY29uc3QgUm9vdEVudGl0eTogTW9ja0RhdGFDb250cmlidXRvcjxvYmplY3Q+ID0ge1xuXHRhc3luYyBleGVjdXRlQWN0aW9uKGFjdGlvbkRlZmluaXRpb24sIGFjdGlvbkRhdGEsIGtleXMsIG9kYXRhUmVxdWVzdCkge1xuXHRcdGZ1bmN0aW9uIGlzUHJpbWUobjogbnVtYmVyKTogYm9vbGVhbiB7XG5cdFx0XHRpZiAobiA8PSAxKSB7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH1cblx0XHRcdGZvciAobGV0IGkgPSAyOyBpIDwgbjsgaSsrKSB7XG5cdFx0XHRcdGlmIChuICUgaSA9PT0gMCkge1xuXHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0fVxuXHRcdHN3aXRjaCAoYWN0aW9uRGVmaW5pdGlvbi5uYW1lKSB7XG5cdFx0XHRjYXNlIFwiaW5jcmVhc2VBbmRDaGVja1ByaW1lXCI6IHtcblx0XHRcdFx0Y29uc3QgZW50cmllczogQXJyYXk8Um9vdEVudGl0eVR5cGU+ID0gKGF3YWl0IHRoaXMuYmFzZT8uZmV0Y2hFbnRyaWVzKGtleXMsIG9kYXRhUmVxdWVzdCkpIGFzIEFycmF5PFJvb3RFbnRpdHlUeXBlPjtcblx0XHRcdFx0Y29uc3QgY2xpY2tDb3VudDogbnVtYmVyID0gZW50cmllc1swXS5jb21wbGV4UHJvcGVydHlfbnVtYmVyICsgMTtcblx0XHRcdFx0ZW50cmllc1swXS5jb21wbGV4UHJvcGVydHlfbnVtYmVyID0gY2xpY2tDb3VudDtcblx0XHRcdFx0ZW50cmllc1swXS5jb21wbGV4UHJvcGVydHlfcHJpbWUgPSBpc1ByaW1lKGNsaWNrQ291bnQpO1xuXHRcdFx0XHRhd2FpdCB0aGlzLmJhc2U/LnVwZGF0ZUVudHJ5KGtleXMsIGVudHJpZXNbMF0sIG9kYXRhUmVxdWVzdCk7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0fVxuXHRcdFx0Y2FzZSBcInNpZGVFZmZlY3RUcmlnZ2VyQWN0aW9uXCI6IHtcblx0XHRcdFx0Y29uc3QgZW50cmllczogQXJyYXk8Um9vdEVudGl0eVR5cGU+ID0gKGF3YWl0IHRoaXMuYmFzZT8uZmV0Y2hFbnRyaWVzKGtleXMsIG9kYXRhUmVxdWVzdCkpIGFzIEFycmF5PFJvb3RFbnRpdHlUeXBlPjtcblx0XHRcdFx0Ly9TaWRlIGVmZmVjdCBzYW1wbGUgMlxuXHRcdFx0XHRlbnRyaWVzWzBdLnRhcmdldFByb3BlcnR5MiA9IFwiU291cmNlIFByb3BlcnR5IFZhbHVlOiBcIiArIGVudHJpZXNbMF0uc291cmNlUHJvcGVydHkyO1xuXHRcdFx0XHRhd2FpdCB0aGlzLmJhc2U/LnVwZGF0ZUVudHJ5KGFjdGlvbkRhdGEsIGVudHJpZXNbMF0sIG9kYXRhUmVxdWVzdCk7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0fVxuXHRcdFx0Y2FzZSBcInNpZGVFZmZlY3RUcmlnZ2VyQWN0aW9uTXVsdGlTb3VyY2VzXCI6IHtcblx0XHRcdFx0Y29uc3QgZW50cmllczogQXJyYXk8Um9vdEVudGl0eVR5cGU+ID0gKGF3YWl0IHRoaXMuYmFzZT8uZmV0Y2hFbnRyaWVzKGtleXMsIG9kYXRhUmVxdWVzdCkpIGFzIEFycmF5PFJvb3RFbnRpdHlUeXBlPjtcblx0XHRcdFx0Ly9TaWRlIGVmZmVjdCBzYW1wbGUgM1xuXHRcdFx0XHRlbnRyaWVzWzBdLnRhcmdldFByb3BlcnR5MyA9XG5cdFx0XHRcdFx0XCJTb3VyY2UgUHJvcGVydGllcyBWYWx1ZXM6IFwiICsgZW50cmllc1swXS5zb3VyY2VQcm9wZXJ0eTNhICsgXCIgJiBcIiArIGVudHJpZXNbMF0uc291cmNlUHJvcGVydHkzYjtcblx0XHRcdFx0YXdhaXQgdGhpcy5iYXNlPy51cGRhdGVFbnRyeShhY3Rpb25EYXRhLCBlbnRyaWVzWzBdLCBvZGF0YVJlcXVlc3QpO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdH1cblx0XHRcdGNhc2UgXCJhZGRSb3VuZFwiOlxuXHRcdFx0Y2FzZSBcInN0b3BSb3VuZFwiOiB7XG5cdFx0XHRcdGNvbnN0IHNpbmdsZXRvbkVudGl0eSA9IGF3YWl0IHRoaXMuYmFzZT8uZ2V0RW50aXR5SW50ZXJmYWNlKFwiRW50aXRpZXNTaW5nbGV0b25cIik7XG5cdFx0XHRcdGNvbnN0IGFic29sdXRlRW50aXR5ID0gYXdhaXQgdGhpcy5iYXNlPy5nZXRFbnRpdHlJbnRlcmZhY2UoXCJBYnNvbHV0ZUVudGl0eVwiKTtcblx0XHRcdFx0aWYgKGFic29sdXRlRW50aXR5KSB7XG5cdFx0XHRcdFx0Y29uc3QgZW50cmllcyA9IChhd2FpdCBhYnNvbHV0ZUVudGl0eS5nZXRBbGxFbnRyaWVzPy4ob2RhdGFSZXF1ZXN0KSkgYXMgQXJyYXk8QWJzb2x1dGVFbnRpdHlUeXBlPjtcblx0XHRcdFx0XHRjb25zdCBub3cgPSBuZXcgRGF0ZSgpO1xuXHRcdFx0XHRcdGlmIChzaW5nbGV0b25FbnRpdHkpIHtcblx0XHRcdFx0XHRcdGNvbnN0IHNpbmdsZXRvbkVudHJ5ID0gKGF3YWl0IHNpbmdsZXRvbkVudGl0eS5nZXRBbGxFbnRyaWVzPy4ob2RhdGFSZXF1ZXN0KSkgYXMgQXJyYXk8RW50aXRpZXNTaW5nbGV0b25UeXBlPjtcblx0XHRcdFx0XHRcdGlmIChlbnRyaWVzLmxlbmd0aCA+IDApIHtcblx0XHRcdFx0XHRcdFx0Y29uc3QgbGF0ZXN0RW50cnk6IEFic29sdXRlRW50aXR5VHlwZSA9IGVudHJpZXNbZW50cmllcy5sZW5ndGggLSAxXTtcblx0XHRcdFx0XHRcdFx0Y29uc3QgZGlzdGFuY2UgPSBub3cuZ2V0VGltZSgpIC0gbGF0ZXN0RW50cnkuVGltZVN0YW1wLmdldFRpbWUoKTtcblx0XHRcdFx0XHRcdFx0Y29uc3QgZGlzdERhdGUgPSBuZXcgRGF0ZShkaXN0YW5jZSk7XG5cdFx0XHRcdFx0XHRcdGNvbnN0IGR1cmF0aW9uID1cblx0XHRcdFx0XHRcdFx0XHRkaXN0RGF0ZS50b1RpbWVTdHJpbmcoKS5yZXBsYWNlKC8uKihcXGR7Mn06XFxkezJ9KS4qLywgXCIkMVwiKSArXG5cdFx0XHRcdFx0XHRcdFx0XCIuXCIgK1xuXHRcdFx0XHRcdFx0XHRcdGRpc3REYXRlLmdldE1pbGxpc2Vjb25kcygpLnRvU3RyaW5nKCkuc3Vic3RyaW5nKDAsIDIpO1xuXHRcdFx0XHRcdFx0XHRsYXRlc3RFbnRyeS5UaW1lU3RhbXAgPSBub3c7XG5cdFx0XHRcdFx0XHRcdGxhdGVzdEVudHJ5LkR1cmF0aW9uID0gZHVyYXRpb247XG5cdFx0XHRcdFx0XHRcdGF3YWl0IGFic29sdXRlRW50aXR5LnVwZGF0ZUVudHJ5Py4oeyBJRDogbGF0ZXN0RW50cnkuSUQgfSwgbGF0ZXN0RW50cnksIHt9LCBvZGF0YVJlcXVlc3QpO1xuXHRcdFx0XHRcdFx0XHRpZiAoYWN0aW9uRGVmaW5pdGlvbi5uYW1lID09PSBcImFkZFJvdW5kXCIpIHtcblx0XHRcdFx0XHRcdFx0XHRhd2FpdCBhYnNvbHV0ZUVudGl0eS5hZGRFbnRyeT8uKFxuXHRcdFx0XHRcdFx0XHRcdFx0eyBJRDogZW50cmllcy5sZW5ndGggKyAxLCBUaW1lU3RhbXA6IG5vdywgRHVyYXRpb246IFwiU3RhcnRlZFwiIH0sXG5cdFx0XHRcdFx0XHRcdFx0XHRvZGF0YVJlcXVlc3Rcblx0XHRcdFx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdFx0XHRcdHNpbmdsZXRvbkVudHJ5WzBdLkJvb2xlYW5Qcm9wZXJ0eSA9IHRydWU7XG5cdFx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdFx0c2luZ2xldG9uRW50cnlbMF0uQm9vbGVhblByb3BlcnR5ID0gZmFsc2U7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdGF3YWl0IGFic29sdXRlRW50aXR5LmFkZEVudHJ5Py4oeyBJRDogMSwgVGltZVN0YW1wOiBub3csIER1cmF0aW9uOiBcIlN0YXJ0ZWRcIiB9LCBvZGF0YVJlcXVlc3QpO1xuXHRcdFx0XHRcdFx0XHRzaW5nbGV0b25FbnRyeVswXS5Cb29sZWFuUHJvcGVydHkgPSB0cnVlO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0YXdhaXQgc2luZ2xldG9uRW50aXR5LnVwZGF0ZUVudHJ5Py4oeyBJRDogc2luZ2xldG9uRW50cnlbMF0uSUQgfSwgc2luZ2xldG9uRW50cnlbMF0sIHt9LCBvZGF0YVJlcXVlc3QpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0XHRicmVhaztcblx0XHRcdH1cblx0XHRcdGNhc2UgXCJjbGVhclJvdW5kc1wiOiB7XG5cdFx0XHRcdGNvbnN0IGFic29sdXRlRW50aXR5ID0gYXdhaXQgdGhpcy5iYXNlPy5nZXRFbnRpdHlJbnRlcmZhY2UoXCJBYnNvbHV0ZUVudGl0eVwiKTtcblx0XHRcdFx0aWYgKGFic29sdXRlRW50aXR5KSB7XG5cdFx0XHRcdFx0Y29uc3QgZW50cmllcyA9IChhd2FpdCBhYnNvbHV0ZUVudGl0eS5nZXRBbGxFbnRyaWVzPy4ob2RhdGFSZXF1ZXN0KSkgYXMgQXJyYXk8QWJzb2x1dGVFbnRpdHlUeXBlPjtcblx0XHRcdFx0XHRlbnRyaWVzLmZvckVhY2goZnVuY3Rpb24gKG9FbnRyeSkge1xuXHRcdFx0XHRcdFx0YWJzb2x1dGVFbnRpdHkucmVtb3ZlRW50cnk/Lih7IElEOiBvRW50cnkuSUQgfSwgb2RhdGFSZXF1ZXN0KTtcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0fVxuXHRcdFx0XHRicmVhaztcblx0XHRcdH1cblx0XHRcdGNhc2UgXCJkZWxldGVCdXNpbmVzc1BhcnRuZXJcIjoge1xuXHRcdFx0XHRjb25zdCBidXNpbmVzc1BhcnRuZXJFbnRpdHkgPSBhd2FpdCB0aGlzLmJhc2U/LmdldEVudGl0eUludGVyZmFjZShcIkJ1c2luZXNzUGFydG5lckFkZHJlc3NcIik7XG5cdFx0XHRcdGlmIChidXNpbmVzc1BhcnRuZXJFbnRpdHkpIHtcblx0XHRcdFx0XHRjb25zdCBlbnRyaWVzOiBBcnJheTxSb290RW50aXR5VHlwZT4gPSAoYXdhaXQgdGhpcy5iYXNlPy5mZXRjaEVudHJpZXMoa2V5cywgb2RhdGFSZXF1ZXN0KSkgYXMgQXJyYXk8Um9vdEVudGl0eVR5cGU+O1xuXHRcdFx0XHRcdGF3YWl0IGJ1c2luZXNzUGFydG5lckVudGl0eS5yZW1vdmVFbnRyeT8uKHsgQnVzaW5lc3NQYXJ0bmVyOiBlbnRyaWVzWzBdLkJ1c2luZXNzUGFydG5lcklEIH0sIG9kYXRhUmVxdWVzdCk7XG5cdFx0XHRcdFx0ZW50cmllc1swXS5CdXNpbmVzc1BhcnRuZXJJRCA9IFwiXCI7XG5cdFx0XHRcdFx0YXdhaXQgdGhpcy5iYXNlPy51cGRhdGVFbnRyeT8uKGtleXMsIGVudHJpZXNbMF0sIG9kYXRhUmVxdWVzdCk7XG5cdFx0XHRcdH1cblx0XHRcdFx0YnJlYWs7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdHJldHVybiB7fTtcblx0fSxcblx0YXN5bmMgb25BZnRlclVwZGF0ZUVudHJ5KGtleVZhbHVlcywgdXBkYXRlZERhdGE6IFJvb3RFbnRpdHlUeXBlLCBvZGF0YVJlcXVlc3QpIHtcblx0XHRjb25zdCBlbnRyaWVzOiBBcnJheTxSb290RW50aXR5VHlwZT4gPSAoYXdhaXQgdGhpcy5iYXNlPy5mZXRjaEVudHJpZXMoa2V5VmFsdWVzLCBvZGF0YVJlcXVlc3QpKSBhcyBBcnJheTxSb290RW50aXR5VHlwZT47XG5cdFx0Ly9TaWRlIGVmZmVjdCBzYW1wbGUgMVxuXHRcdGVudHJpZXNbMF0udGFyZ2V0UHJvcGVydHkxYSA9IFwiU291cmNlIFByb3BlcnR5IFZhbHVlOiBcIiArIHVwZGF0ZWREYXRhLnNvdXJjZVByb3BlcnR5MTtcblx0XHRpZiAodXBkYXRlZERhdGEuc291cmNlUHJvcGVydHkxICE9IFwiXCIpIHtcblx0XHRcdGVudHJpZXNbMF0uZmllbGRDb250cm9sUHJvcGVydHkxID0gMztcblx0XHR9IGVsc2Uge1xuXHRcdFx0ZW50cmllc1swXS5maWVsZENvbnRyb2xQcm9wZXJ0eTEgPSAxO1xuXHRcdH1cblxuXHRcdC8vU2lkZSBlZmZlY3Qgc2FtcGxlIDRcblx0XHRpZiAodXBkYXRlZERhdGEuc291cmNlUHJvcGVydHk0KSB7XG5cdFx0XHRlbnRyaWVzWzBdLmZpZWxkQ29udHJvbFByb3BlcnR5MiA9IDM7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGVudHJpZXNbMF0uZmllbGRDb250cm9sUHJvcGVydHkyID0gMTtcblx0XHR9XG5cdFx0YXdhaXQgdGhpcy5iYXNlPy51cGRhdGVFbnRyeShrZXlWYWx1ZXMsIGVudHJpZXNbMF0sIG9kYXRhUmVxdWVzdCk7XG5cdH1cbn07XG5leHBvcnQgZGVmYXVsdCBSb290RW50aXR5O1xuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0VBR0EsTUFBTUEsVUFBdUMsR0FBRztJQUMvQyxNQUFNQyxhQUFhQSxDQUFDQyxnQkFBZ0IsRUFBRUMsVUFBVSxFQUFFQyxJQUFJLEVBQUVDLFlBQVksRUFBRTtNQUNyRSxTQUFTQyxPQUFPQSxDQUFDQyxDQUFTLEVBQVc7UUFDcEMsSUFBSUEsQ0FBQyxJQUFJLENBQUMsRUFBRTtVQUNYLE9BQU8sS0FBSztRQUNiO1FBQ0EsS0FBSyxJQUFJQyxDQUFDLEdBQUcsQ0FBQyxFQUFFQSxDQUFDLEdBQUdELENBQUMsRUFBRUMsQ0FBQyxFQUFFLEVBQUU7VUFDM0IsSUFBSUQsQ0FBQyxHQUFHQyxDQUFDLEtBQUssQ0FBQyxFQUFFO1lBQ2hCLE9BQU8sS0FBSztVQUNiO1FBQ0Q7UUFDQSxPQUFPLElBQUk7TUFDWjtNQUNBLFFBQVFOLGdCQUFnQixDQUFDTyxJQUFJO1FBQzVCLEtBQUssdUJBQXVCO1VBQUU7WUFDN0IsTUFBTUMsT0FBOEIsR0FBSSxNQUFNLElBQUksQ0FBQ0MsSUFBSSxFQUFFQyxZQUFZLENBQUNSLElBQUksRUFBRUMsWUFBWSxDQUEyQjtZQUNuSCxNQUFNUSxVQUFrQixH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