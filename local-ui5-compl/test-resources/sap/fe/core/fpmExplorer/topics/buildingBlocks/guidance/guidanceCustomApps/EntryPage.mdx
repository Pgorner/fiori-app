import Panel from "sap/m/Panel";
import Button from "sap/m/Button";

You can use the building blocks provided by SAP Fiori elements even if you built your application without using one of our floorplans. If none of our floorplans suit your use case, you can build a custom app that still runs on the SAP Fiori elements framework, but where all pages are treated like custom pages.
When you create a new application, we recommend that you use the SAP Fiori tools - Application Generator and then choose the "Custom Page" template. This template creates an SAP Fiori elements application containing a custom page based on the flexible programming model.
In case you want to use our building blocks in an existing SAPUI5 freestyle application, you must make the following changes:

<Panel headerText={"1.) Extend sap.fe.AppComponent instead of the UI5 Core Component"}>

You must change your Component.js file to extend the SAP Fiori elements AppComponent instead of the UI5 Core Component. This ensures that your app will run within the SAP Fiori elements framework.

```js title="Component.js"
sap.ui.define(["sap/fe/core/AppComponent"], function (AppComponent) {
	"use strict";

	return AppComponent.extend("sap.fe.core.fpmExplorer.guidanceCustomApps.Component", {
		metadata: {
			manifest: "json"
		}
	});
});
```

</Panel>
<Panel headerText="2.) Adapt the manifest and wrap your view into the FPM Component provided by SAP Fiori elements">

    In the manifest, you must wrap each view in which you want to use the building blocks provided by SAP Fiori elements into the FPM component provided by SAP Fiori elements. SAP Fiori elements needs the context path as the pointer to the metadata path.

    ```json title="manifest.json"
    "targets": {
    	"entryPage": {
    		"type": "Component",
    		"id": "entryPage",
    		"name": "sap.fe.core.fpm",
    		"options": {
    			"settings": {
    				"viewName": "your.custom.view",
    				"contextPath": "/RootEntity"
    			}
    		}
    	}
    }
    ```
    Note: Because you've added a further component to your application tree, you can't access your app component from the view controller of your custom view via this.getOwnerComponent(). You must use this.getAppComponent() instead.

</Panel>
<Panel headerText={"3.) Extend the sap.fe.PageController instead of the UI5 MVC Controller"}>
	Extend the page controller of SAP Fiori elements instead of the UI5 MVC controller. Adapt the view controller of your custom page as follows:
	```js
	sap.ui.define(["sap/fe/core/PageController"], function(PageController) {
		"use strict";

    	return PageController.extend("sap.fe.core.fpmExplorer.guidanceCustomApps.DetailPage", {
    		onInit() {
        		PageController.prototype.onInit.apply(this);
    		}
    	});
    });
    ```
    Note that you always have to call the `onInit` of `PageController` whenever you create your own initialization logic.

</Panel>
<Panel headerText={"You can now use the building blocks provided by SAP Fiori elements"} height={"400px"}>
	Example: Using the 'table' building block. Add the metaPath relative to the contextPath. Click on an entry to navigate to the detail page. This works because we've added the navigation target into the manifest.json, which is then automatically handled by the navigation controller extension provided by SAP Fiori elements.

    ```xml
    <fe:Table metaPath="@com.sap.vocabularies.UI.v1.LineItem" id="myTable" />
    ```
    <BuildingBlockPlayground>
    	{`<fe:Table xmlns:fe="sap.fe.macros" metaPath="@com.sap.vocabularies.UI.v1.LineItem" id="myTable" />`}
    </BuildingBlockPlayground>

</Panel>
<Panel headerText={"Handling Edit Mode"}>
	The building blocks provided by SAP Fiori elements require a 'UI' model with an isEditable property.
	If you don't use the editFlow controller extension our framework provides, you must set this property yourself.
	If you want to use a building block in edit mode independent of the UI model, for example when using a dialog, you can explicitly set readOnly to false.
	Note that this also overrides the field control.
</Panel>
<Panel headerText={"Adding the SAP Fiori Elements Library as a Dependent Library"}>
	To benefit from performance optimizations, SAP Fiori elements recommends that you add the SAP Fiori elements library as a dependency to your application.
	By doing so you ensure the library containing the building blocks and floorplans provided by SAP Fiori elements is preloaded.

    If you want to use SAP Fiori elements building blocks only, you need to add the sap.fe.macros as a dependent library.
    If you want to additionally use a floorplan provided by SAP Fiori elements (List Report or Object Page), you need to add sap.fe.templates as a dependent library.
    The sap.fe.templates library has a built-in dependency to sap.fe.macros, so there is no need to add sap.fe.macros as well.

    Enhance the manifest.json of your application as shown in the following sample code:
    ```json title="manifest.json"
    "sap.ui5": {
    	"dependencies": {
    		"libs": {
    		...,
    		"sap.fe.macros": {}
    		...,
    		}
    	}
    }
    ```

</Panel>
