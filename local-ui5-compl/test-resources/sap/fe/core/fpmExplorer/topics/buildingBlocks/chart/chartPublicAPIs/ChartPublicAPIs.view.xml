<core:FragmentDefinition
	xmlns="sap.m"
	xmlns:mvc="sap.ui.core.mvc"
	xmlns:macros="sap.fe.macros"
	xmlns:ce="sap.ui.codeeditor"
	xmlns:core="sap.ui.core"
	controllerName="sap.fe.core.fpmExplorer.chartPublicAPIs.ChartPublicAPIs"
>
	<Page enableScrolling="true">
		<VBox fitContainer="true" alignItems="Stretch" alignContent="Stretch" justifyContent="Start" renderType="Div">
			<VBox fitContainer="true" alignItems="Stretch" alignContent="Stretch" justifyContent="Start" renderType="Div">
				<macros:Chart
					id="chartPublicAPIs"
					header="Chart Header"
					headerVisible="true"
					metaPath="@com.sap.vocabularies.UI.v1.Chart"
					selectionChange=".onChartSelectionChanged"
					personalization="Sort,Type,Item,Filter"
					selectionMode="Multiple"
					variantManagement="Control"
					variantSaved=".handlers.onVariantSaved"
					variantSelected=".handlers.onVariantSelected"
				/>
			</VBox>
			<Text text="NOTE: Sorting doesn't work here, since we're using a mock service" />
			<!-- Public APIs available -->
			<Panel expandable="true" headerText="Public APIs" expanded="true" backgroundDesign="Solid" height="auto">
				<content>
					<HBox alignItems="Center" class="sapUi-Std-PaddingS">
						<Button width="100%" text="getPresentationVariant" press=".chartPVToCodeEditor" type="Success" />
						<Text
							text="Click this button to get the current presentation variant from the chart and insert it into the code editor."
							width="100%"
							class="sapUiSmallMargin"
						/>
					</HBox>
					<HBox alignItems="Center" class="sapUi-Std-PaddingS">
						<Button
							width="100%"
							text="setPresentationVariant"
							press=".codeEditorPVToChart"
							type="{interactionModel>/setPVButton/type}"
							tooltip="{interactionModel>/setPVButton/tooltip}"
						/>
						<Text
							text="Click this button to set the presentation variant to the chart from the code edit."
							width="100%"
							class="sapUiSmallMargin"
						/>
					</HBox>
					<HBox alignItems="Center" class="sapUi-Std-PaddingS">
						<Button width="100%" text="getCurrentVariantKey" press=".variantToCodeEditor" type="Success" />
						<Text
							text="Click this button to get the current variant key from the chart and insert it into the code editor."
							width="100%"
							class="sapUiSmallMargin"
						/>
					</HBox>
					<HBox alignItems="Center" class="sapUi-Std-PaddingS">
						<Button width="100%" text="setCurrentVariantKey" press=".codeEditorToVariant" type="Success" />
						<Text
							text="Click this button to set the variant key to the chart from the code editor."
							width="100%"
							class="sapUiSmallMargin"
						/>
					</HBox>
					<HBox alignItems="Center" class="sapUi-Std-PaddingS">
						<Button width="100%" text="getSelectionVariant" press=".chartSVToCodeEditor" type="Success" />
						<Text
							text="Click this button to get the current selection variant from the chart and insert it into the code editor.
							This function considers only the selection variant applied at the control level."
							width="100%"
							class="sapUiSmallMargin"
						/>
					</HBox>
					<HBox alignItems="Center" class="sapUi-Std-PaddingS">
						<Button
							width="100%"
							text="setSelectionVariant"
							press=".codeEditorSVToChart"
							type="{interactionModel>/setSVButton/type}"
							tooltip="{interactionModel>/setSVButton/tooltip}"
						/>
						<Text
							text="Click this button to set the selection variant to the chart from the code edit."
							width="100%"
							class="sapUiSmallMargin"
						/>
					</HBox>
				</content>
			</Panel>
			<!-- Presentation Variant Code Editor -->
			<Panel
				expandable="true"
				headerText="Presentation Variant (code editor)"
				expanded="false"
				backgroundDesign="Solid"
				height="auto"
			>
				<content>
					<ce:CodeEditor
						id="chart"
						type="json"
						lineNumbers="true"
						value="{interactionModel>/pvObject}"
						editable="true"
						liveChange=".validatePV"
						height="10rem"
					>
						<ce:layoutData>
							<FlexItemData growFactor="1" shrinkFactor="1" />
						</ce:layoutData>
					</ce:CodeEditor>
				</content>
			</Panel>

			<!-- Variant Key Code Editor -->
			<Panel expandable="true" headerText="Variant Key APIs (code editor)" expanded="false" backgroundDesign="Solid" height="auto">
				<content>
					<ce:CodeEditor
						id="chartVariant"
						type="json"
						lineNumbers="true"
						value="{interactionModel>/variantKey}"
						editable="true"
						height="3rem"
					>
						<ce:layoutData>
							<FlexItemData growFactor="1" shrinkFactor="1" />
						</ce:layoutData>
					</ce:CodeEditor>
				</content>
			</Panel>
			<!-- Selection Variant Code Editor -->
			<Panel
				expandable="true"
				headerText="Selection Variant APIs (code editor)"
				expanded="false"
				backgroundDesign="Solid"
				height="auto"
			>
				<content>
					<ce:CodeEditor
						id="chartSV"
						type="json"
						lineNumbers="true"
						value="{interactionModel>/svObject}"
						editable="true"
						liveChange=".validateSV"
						height="10rem"
					>
						<ce:layoutData>
							<FlexItemData growFactor="1" shrinkFactor="1" />
						</ce:layoutData>
					</ce:CodeEditor>
				</content>
			</Panel>
		</VBox>
	</Page>
</core:FragmentDefinition>
