{"version":3,"file":"DataFormatUtils-dbg.js","names":["sap","ui","define","sap_m_library","BaseObject","DateFormat","___ToDoPanel","ValueColor","TaskPriority","oRelativeDateTimeFormatter","getDateTimeInstance","style","relative","relativeStyle","oRelativeDateFormatter","getDateInstance","DataFormatUtils","extend","toPriority","_toPriority","oTask","criticality","Error","Critical","Neutral","toTaskPriorityText","_toTaskPriorityText","sPriority","VERY_HIGH","HIGH","MEDIUM","LOW","toRelativeDateTime","_toRelativeDateTime","oDate","format","Date","toRelativeDate","_toRelativeDate","iTimeStamp","sRelativeDate","charAt","toUpperCase","slice","createBookMarkData","_createBookMarkData","oBookMark","finalBookMarkData","title","url","targetURL","icon","info","subtitle","serviceUrl","indicatorDataSource","path","numberUnit","vizType","vizConfig","dataSource","getImportance","_getImportance","oDataField","sImportance","iImportance","EnumMember","sortCollectionByImportance","_sortCollectionByImportance","aCollection","sort","oFirstData","oSecondData","iFirstDataImportance","this","iSecondDataImportance","getLeanURL","_getLeanURL","constructFullUrl","query","fullURL","URL","window","location","href","search","hash","toString","indexOf","__exports"],"sources":["DataFormatUtils.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\n\nimport { ValueColor } from \"sap/m/library\";\nimport BaseObject from \"sap/ui/base/Object\";\nimport DateFormat from \"sap/ui/core/format/DateFormat\";\nimport { BookmarkParameters } from \"sap/ushell/services/BookmarkV2\";\nimport { IVisualization } from \"../interface/AppsInterface\";\nimport { TaskPriority } from \"../ToDoPanel\";\n\nconst oRelativeDateTimeFormatter = DateFormat.getDateTimeInstance({\n\tstyle: \"medium\",\n\trelative: true,\n\trelativeStyle: \"short\"\n});\n\nconst oRelativeDateFormatter = DateFormat.getDateInstance({\n\trelative: true\n});\n\n/**\n *\n * Provides util methods for Date Formatting.\n *\n * @extends sap.ui.BaseObject\n *\n * @author SAP SE\n * @version 0.0.1\n * @since 1.122.0\n *\n * @private\n * @experimental Since 1.122\n * @hidden\n *\n * @alias sap.cux.home.utils.DataFormatUtils\n */\n\nclass DataFormatUtils extends BaseObject {\n\tpublic toPriority(oTask: { criticality: ValueColor }) {\n\t\tswitch (oTask.criticality) {\n\t\t\tcase ValueColor.Error:\n\t\t\t\treturn 1;\n\t\t\tcase ValueColor.Critical:\n\t\t\t\treturn 2;\n\t\t\tcase ValueColor.Neutral:\n\t\t\t\treturn 3;\n\t\t\tdefault:\n\t\t\t\treturn 99;\n\t\t}\n\t}\n\n\tpublic toTaskPriorityText(sPriority: TaskPriority) {\n\t\tswitch (sPriority) {\n\t\t\tcase TaskPriority.VERY_HIGH:\n\t\t\t\treturn \"veryHighPriority\";\n\t\t\tcase TaskPriority.HIGH:\n\t\t\t\treturn \"highPriority\";\n\t\t\tcase TaskPriority.MEDIUM:\n\t\t\t\treturn \"mediumPriority\";\n\t\t\tcase TaskPriority.LOW:\n\t\t\t\treturn \"lowPriority\";\n\t\t\tdefault:\n\t\t\t\treturn \"nonePriority\";\n\t\t}\n\t}\n\n\t/**\n\t * Formats a given date as a relative date and time string.\n\t *\n\t * @param {Date} oDate - The input date to format as a relative date and time string.\n\t * @returns {string} A string representing the input date in a relative date and time format.\n\t */\n\tpublic toRelativeDateTime(oDate: Date) {\n\t\treturn oRelativeDateTimeFormatter.format(new Date(oDate));\n\t}\n\n\t/**\n\t * Converts a given date to a relative date string.\n\t *\n\t * @param {Date} iTimeStamp - The input timestamp to convert to a relative date string.\n\t * @returns {string} A relative date string with the first letter capitalized.\n\t */\n\tpublic toRelativeDate(iTimeStamp: Date) {\n\t\tconst sRelativeDate = oRelativeDateFormatter.format(new Date(iTimeStamp));\n\t\treturn sRelativeDate.charAt(0).toUpperCase() + sRelativeDate.slice(1);\n\t}\n\n\tpublic createBookMarkData(oBookMark: IVisualization) {\n\t\tconst finalBookMarkData = {\n\t\t\ttitle: oBookMark.title || \"\",\n\t\t\turl: oBookMark.targetURL,\n\t\t\ticon: oBookMark.icon,\n\t\t\tinfo: oBookMark.info,\n\t\t\tsubtitle: oBookMark.subtitle,\n\t\t\tserviceUrl: oBookMark.indicatorDataSource && oBookMark.indicatorDataSource.path,\n\t\t\tnumberUnit: oBookMark.numberUnit,\n\t\t\tvizType: oBookMark.vizType,\n\t\t\tvizConfig: oBookMark.vizConfig,\n\t\t\tdataSource: oBookMark.dataSource\n\t\t} as unknown as BookmarkParameters;\n\t\treturn finalBookMarkData;\n\t}\n\n\tpublic getImportance(oDataField: unknown) {\n\t\tlet sImportance,\n\t\t\tiImportance = -1;\n\t\tif ((oDataField as { importance: { EnumMember: string } })[\"importance\"]) {\n\t\t\tsImportance = (oDataField as { importance: { EnumMember: string } })[\"importance\"].EnumMember;\n\t\t\tswitch (sImportance) {\n\t\t\t\tcase \"com.sap.vocabularies.UI.v1.ImportanceType/High\":\n\t\t\t\t\tiImportance = 1;\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"com.sap.vocabularies.UI.v1.ImportanceType/Medium\":\n\t\t\t\t\tiImportance = 2;\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"com.sap.vocabularies.UI.v1.ImportanceType/Low\":\n\t\t\t\t\tiImportance = 3;\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t} else {\n\t\t\tiImportance = 2; // default importance to be considered as Medium\n\t\t}\n\t\treturn iImportance;\n\t}\n\n\tpublic sortCollectionByImportance(aCollection: Array<unknown>) {\n\t\treturn aCollection.sort((oFirstData, oSecondData) => {\n\t\t\tconst iFirstDataImportance = this.getImportance(oFirstData);\n\t\t\tconst iSecondDataImportance = this.getImportance(oSecondData);\n\t\t\treturn iFirstDataImportance < iSecondDataImportance ? -1 : 1;\n\t\t});\n\t}\n\n\tpublic getLeanURL(targetURL: string) {\n\t\tconst url = targetURL;\n\t\tconst constructFullUrl = function (query: string, url: string) {\n\t\t\tconst fullURL = new URL(window.location.href);\n\t\t\tfullURL.search = query;\n\t\t\tfullURL.hash = url;\n\t\t\treturn fullURL.toString();\n\t\t};\n\n\t\t// append appState only in the case when targetURL starts with \"#\"\n\t\tif ((url || \"\").charAt(0) !== \"#\") {\n\t\t\treturn url;\n\t\t}\n\n\t\tlet query = window.location.search;\n\t\tif (!query) {\n\t\t\tquery = \"?sap-ushell-config=lean\";\n\t\t} else if (query.indexOf(\"sap-ushell-config=\") >= -1) {\n\t\t\t// avoid duplicates: lean FLP opens a link again\n\t\t\tquery += \"&sap-ushell-config=lean\";\n\t\t}\n\n\t\treturn constructFullUrl(query, url);\n\t}\n}\n\nexport default new DataFormatUtils();\n"],"mappings":";;;;AAAA,aAAAA,IAAAC,GAAAC,OAAA,+FAAAC,EAAAC,EAAAC,EAAAC,GAAA,mBAKSC,EAAUJ,EAAA,oBAKVK,EAAYF,EAAA,gBAErB,MAAMG,EAA6BJ,EAAWK,oBAAoB,CACjEC,MAAO,SACPC,SAAU,KACVC,cAAe,UAGhB,MAAMC,EAAyBT,EAAWU,gBAAgB,CACzDH,SAAU,OAGX,MAiBMI,EAAwBZ,EAAUa,OAAA,sCAChCC,WAAU,SAAAC,EAACC,GACjB,OAAQA,EAAMC,aACb,KAAKd,EAAWe,MACf,OAAO,EACR,KAAKf,EAAWgB,SACf,OAAO,EACR,KAAKhB,EAAWiB,QACf,OAAO,EACR,QACC,OAAO,GAEV,EAEOC,mBAAkB,SAAAC,EAACC,GACzB,OAAQA,GACP,KAAKnB,EAAaoB,UACjB,MAAO,mBACR,KAAKpB,EAAaqB,KACjB,MAAO,eACR,KAAKrB,EAAasB,OACjB,MAAO,iBACR,KAAKtB,EAAauB,IACjB,MAAO,cACR,QACC,MAAO,eAEV,EAQOC,mBAAkB,SAAAC,EAACC,GACzB,OAAOzB,EAA2B0B,OAAO,IAAIC,KAAKF,GACnD,EAQOG,eAAc,SAAAC,EAACC,GACrB,MAAMC,EAAgB1B,EAAuBqB,OAAO,IAAIC,KAAKG,IAC7D,OAAOC,EAAcC,OAAO,GAAGC,cAAgBF,EAAcG,MAAM,EACpE,EAEOC,mBAAkB,SAAAC,EAACC,GACzB,MAAMC,EAAoB,CACzBC,MAAOF,EAAUE,OAAS,GAC1BC,IAAKH,EAAUI,UACfC,KAAML,EAAUK,KAChBC,KAAMN,EAAUM,KAChBC,SAAUP,EAAUO,SACpBC,WAAYR,EAAUS,qBAAuBT,EAAUS,oBAAoBC,KAC3EC,WAAYX,EAAUW,WACtBC,QAASZ,EAAUY,QACnBC,UAAWb,EAAUa,UACrBC,WAAYd,EAAUc,YAEvB,OAAOb,CACR,EAEOc,cAAa,SAAAC,EAACC,GACpB,IAAIC,EACHC,GAAe,EAChB,GAAKF,EAAsD,cAAe,CACzEC,EAAeD,EAAsD,cAAcG,WACnF,OAAQF,GACP,IAAK,iDACJC,EAAc,EACd,MACD,IAAK,mDACJA,EAAc,EACd,MACD,IAAK,gDACJA,EAAc,EACd,MACD,QACC,MAEH,KAAO,CACNA,EAAc,CACf,CACA,OAAOA,CACR,EAEOE,2BAA0B,SAAAC,EAACC,GACjC,OAAOA,EAAYC,KAAK,CAACC,EAAYC,KACpC,MAAMC,EAAuBC,KAAKb,cAAcU,GAChD,MAAMI,EAAwBD,KAAKb,cAAcW,GACjD,OAAOC,EAAuBE,GAAyB,EAAI,CAAC,EAE9D,EAEOC,WAAU,SAAAC,EAAC3B,GACjB,MAAMD,EAAMC,EACZ,MAAM4B,EAAmB,SAAUC,EAAe9B,GACjD,MAAM+B,EAAU,IAAIC,IAAIC,OAAOC,SAASC,MACxCJ,EAAQK,OAASN,EACjBC,EAAQM,KAAOrC,EACf,OAAO+B,EAAQO,UAChB,EAGA,IAAKtC,GAAO,IAAIR,OAAO,KAAO,IAAK,CAClC,OAAOQ,CACR,CAEA,IAAI8B,EAAQG,OAAOC,SAASE,OAC5B,IAAKN,EAAO,CACXA,EAAQ,yBACT,MAAO,GAAIA,EAAMS,QAAQ,wBAA0B,EAAG,CAErDT,GAAS,yBACV,CAEA,OAAOD,EAAiBC,EAAO9B,EAChC,IAAC,IAAAwC,EAGa,IAAIzE,EAAiB,OAAAyE,CAAA","ignoreList":[]}