{"version":3,"file":"DataFormatUtils-dbg-dbg.js","names":["sap","ui","define","sap_m_library","BaseObject","DateFormat","___ToDoPanel","ValueColor","TaskPriority","oRelativeDateTimeFormatter","getDateTimeInstance","style","relative","relativeStyle","oRelativeDateFormatter","getDateInstance","DataFormatUtils","extend","toPriority","_toPriority","oTask","criticality","Error","Critical","Neutral","toTaskPriorityText","_toTaskPriorityText","sPriority","VERY_HIGH","HIGH","MEDIUM","LOW","toRelativeDateTime","_toRelativeDateTime","oDate","format","Date","toRelativeDate","_toRelativeDate","iTimeStamp","sRelativeDate","charAt","toUpperCase","slice","createBookMarkData","_createBookMarkData","oBookMark","finalBookMarkData","title","url","targetURL","icon","info","subtitle","serviceUrl","indicatorDataSource","path","numberUnit","vizType","vizConfig","dataSource","getImportance","_getImportance","oDataField","sImportance","iImportance","EnumMember","sortCollectionByImportance","_sortCollectionByImportance","aCollection","sort","oFirstData","oSecondData","iFirstDataImportance","iSecondDataImportance","getLeanURL","_getLeanURL","constructFullUrl","query","fullURL","URL","window","location","href","search","hash","toString","indexOf","__exports"],"sources":["DataFormatUtils.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\n\nimport { ValueColor } from \"sap/m/library\";\nimport BaseObject from \"sap/ui/base/Object\";\nimport DateFormat from \"sap/ui/core/format/DateFormat\";\nimport { BookmarkParameters } from \"sap/ushell/services/BookmarkV2\";\nimport { IVisualization } from \"../interface/AppsInterface\";\nimport { TaskPriority } from \"../ToDoPanel\";\n\nconst oRelativeDateTimeFormatter = DateFormat.getDateTimeInstance({\n\tstyle: \"medium\",\n\trelative: true,\n\trelativeStyle: \"short\"\n});\n\nconst oRelativeDateFormatter = DateFormat.getDateInstance({\n\trelative: true\n});\n\n/**\n *\n * Provides util methods for Date Formatting.\n *\n * @extends sap.ui.BaseObject\n *\n * @author SAP SE\n * @version 0.0.1\n * @since 1.122.0\n *\n * @private\n * @experimental Since 1.122\n * @hidden\n *\n * @alias sap.cux.home.utils.DataFormatUtils\n */\n\nclass DataFormatUtils extends BaseObject {\n\tpublic toPriority(oTask: { criticality: ValueColor }) {\n\t\tswitch (oTask.criticality) {\n\t\t\tcase ValueColor.Error:\n\t\t\t\treturn 1;\n\t\t\tcase ValueColor.Critical:\n\t\t\t\treturn 2;\n\t\t\tcase ValueColor.Neutral:\n\t\t\t\treturn 3;\n\t\t\tdefault:\n\t\t\t\treturn 99;\n\t\t}\n\t}\n\n\tpublic toTaskPriorityText(sPriority: TaskPriority) {\n\t\tswitch (sPriority) {\n\t\t\tcase TaskPriority.VERY_HIGH:\n\t\t\t\treturn \"veryHighPriority\";\n\t\t\tcase TaskPriority.HIGH:\n\t\t\t\treturn \"highPriority\";\n\t\t\tcase TaskPriority.MEDIUM:\n\t\t\t\treturn \"mediumPriority\";\n\t\t\tcase TaskPriority.LOW:\n\t\t\t\treturn \"lowPriority\";\n\t\t\tdefault:\n\t\t\t\treturn \"nonePriority\";\n\t\t}\n\t}\n\n\t/**\n\t * Formats a given date as a relative date and time string.\n\t *\n\t * @param {Date} oDate - The input date to format as a relative date and time string.\n\t * @returns {string} A string representing the input date in a relative date and time format.\n\t */\n\tpublic toRelativeDateTime(oDate: Date) {\n\t\treturn oRelativeDateTimeFormatter.format(new Date(oDate));\n\t}\n\n\t/**\n\t * Converts a given date to a relative date string.\n\t *\n\t * @param {Date} iTimeStamp - The input timestamp to convert to a relative date string.\n\t * @returns {string} A relative date string with the first letter capitalized.\n\t */\n\tpublic toRelativeDate(iTimeStamp: Date) {\n\t\tconst sRelativeDate = oRelativeDateFormatter.format(new Date(iTimeStamp));\n\t\treturn sRelativeDate.charAt(0).toUpperCase() + sRelativeDate.slice(1);\n\t}\n\n\tpublic createBookMarkData(oBookMark: IVisualization) {\n\t\tconst finalBookMarkData = {\n\t\t\ttitle: oBookMark.title || \"\",\n\t\t\turl: oBookMark.targetURL,\n\t\t\ticon: oBookMark.icon,\n\t\t\tinfo: oBookMark.info,\n\t\t\tsubtitle: oBookMark.subtitle,\n\t\t\tserviceUrl: oBookMark.indicatorDataSource && oBookMark.indicatorDataSource.path,\n\t\t\tnumberUnit: oBookMark.numberUnit,\n\t\t\tvizType: oBookMark.vizType,\n\t\t\tvizConfig: oBookMark.vizConfig,\n\t\t\tdataSource: oBookMark.dataSource\n\t\t} as unknown as BookmarkParameters;\n\t\treturn finalBookMarkData;\n\t}\n\n\tpublic getImportance(oDataField: unknown) {\n\t\tlet sImportance,\n\t\t\tiImportance = -1;\n\t\tif ((oDataField as { importance: { EnumMember: string } })[\"importance\"]) {\n\t\t\tsImportance = (oDataField as { importance: { EnumMember: string } })[\"importance\"].EnumMember;\n\t\t\tswitch (sImportance) {\n\t\t\t\tcase \"com.sap.vocabularies.UI.v1.ImportanceType/High\":\n\t\t\t\t\tiImportance = 1;\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"com.sap.vocabularies.UI.v1.ImportanceType/Medium\":\n\t\t\t\t\tiImportance = 2;\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"com.sap.vocabularies.UI.v1.ImportanceType/Low\":\n\t\t\t\t\tiImportance = 3;\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t} else {\n\t\t\tiImportance = 2; // default importance to be considered as Medium\n\t\t}\n\t\treturn iImportance;\n\t}\n\n\tpublic sortCollectionByImportance(aCollection: Array<unknown>) {\n\t\treturn aCollection.sort((oFirstData, oSecondData) => {\n\t\t\tconst iFirstDataImportance = this.getImportance(oFirstData);\n\t\t\tconst iSecondDataImportance = this.getImportance(oSecondData);\n\t\t\treturn iFirstDataImportance < iSecondDataImportance ? -1 : 1;\n\t\t});\n\t}\n\n\tpublic getLeanURL(targetURL: string) {\n\t\tconst url = targetURL;\n\t\tconst constructFullUrl = function (query: string, url: string) {\n\t\t\tconst fullURL = new URL(window.location.href);\n\t\t\tfullURL.search = query;\n\t\t\tfullURL.hash = url;\n\t\t\treturn fullURL.toString();\n\t\t};\n\n\t\t// append appState only in the case when targetURL starts with \"#\"\n\t\tif ((url || \"\").charAt(0) !== \"#\") {\n\t\t\treturn url;\n\t\t}\n\n\t\tlet query = window.location.search;\n\t\tif (!query) {\n\t\t\tquery = \"?sap-ushell-config=lean\";\n\t\t} else if (query.indexOf(\"sap-ushell-config=\") >= -1) {\n\t\t\t// avoid duplicates: lean FLP opens a link again\n\t\t\tquery += \"&sap-ushell-config=lean\";\n\t\t}\n\n\t\treturn constructFullUrl(query, url);\n\t}\n}\n\nexport default new DataFormatUtils();\n"],"mappings":"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","ignoreList":[]}