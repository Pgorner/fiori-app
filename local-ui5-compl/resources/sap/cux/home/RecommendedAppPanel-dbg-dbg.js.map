{"version":3,"file":"RecommendedAppPanel-dbg-dbg.js","names":["sap","ui","define","Log","Button","IllustratedMessageType","sap_m_library","Link","MessageStrip","MessageToast","VBox","EventBus","__BaseAppPersPanel","__MenuItem","___utils_Constants","___utils_Device","___utils_FESRUtil","__HttpHelper","_interopRequireDefault","obj","__esModule","default","_catch","body","recover","result","e","then","BackgroundDesign","_finallyRethrows","finalizer","bind","BaseAppPersPanel","MenuItem","FEATURE_TOGGLES","REPO_BASE_URL","SETTINGS_PANELS_KEYS","DeviceType","addFESRId","HttpHelper","CONSTANTS","USER_PREFERENCE_SRVC_URL","KEY","RecommendedAppPanel","extend","metadata","library","defaultAggregation","aggregations","apps","type","singularName","multiple","visibility","constructor","_constructor","id","settings","BaseAppPersPanel.prototype.constructor.call","setSupported","init","_init","BaseAppPersPanel.prototype.init.call","setProperty","_i18nBundle","getText","eventBus","getInstance","subscribe","channelId","eventId","data","showRecommendation","fireSupported","isSupported","getDeviceType","Mobile","_enableRecommendationTab","_generateWrapper","wrapperId","getId","_controlMap","get","set","items","_generateMessageStrip","BaseAppPersPanel.prototype._generateWrapper.call","backgroundDesign","Transparent","loadApps","_loadApps","_this","Promise","resolve","appManagerInstance","getRecommendedVisualizations","recommendedVisualizations","map","visualization","menuItems","_getActions","destroyAggregation","recommendedApps","generateApps","setApps","reject","messageStripId","text","showIcon","showCloseButton","link","press","getParent","_getLayout","openSettingsDialog","ADVANCED","addStyleClass","addToFavoritesItem","title","icon","event","_addAppToFavorites","notRelevantItem","_rejectRecommendation","actions","_this2","setBusy","_temp2","source","getSource","app","getTitle","find","viz","url","getUrl","fioriId","_temp","rejectPayload","AppId","Decision","Post","refresh","message","show","error","_wasThrown","_result","_isRecommendationEnabled","_this3","isFeatureEnabled","RECOMMENDATION","recommendationEnabled","_exit","_temp4","getPersonalization","personalisation","_temp3","_result2","_this4","generateIllustratedMessage","_generateIllustratedMessage","illustratedMessage","BaseAppPersPanel.prototype.generateIllustratedMessage.call","setIllustrationType","Tent","setTitle","setDescription","addAdditionalContent","tooltip"],"sources":["RecommendedAppPanel.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\nimport Log from \"sap/base/Log\";\nimport Button from \"sap/m/Button\";\nimport IllustratedMessageType from \"sap/m/IllustratedMessageType\";\nimport { BackgroundDesign } from \"sap/m/library\";\nimport Link from \"sap/m/Link\";\nimport MessageStrip from \"sap/m/MessageStrip\";\nimport MessageToast from \"sap/m/MessageToast\";\nimport VBox from \"sap/m/VBox\";\nimport type { MetadataOptions } from \"sap/ui/core/Element\";\nimport EventBus from \"sap/ui/core/EventBus\";\nimport App from \"./App\";\nimport BaseAppPersPanel, { $BaseAppPersPanelSettings } from \"./BaseAppPersPanel\";\nimport BaseContainer from \"./BaseContainer\";\nimport MenuItem, { MenuItem$PressEvent } from \"./MenuItem\";\nimport { FEATURE_TOGGLES, REPO_BASE_URL, SETTINGS_PANELS_KEYS } from \"./utils/Constants\";\nimport { DeviceType } from \"./utils/Device\";\nimport { addFESRId } from \"./utils/FESRUtil\";\nimport HttpHelper from \"./utils/HttpHelper\";\n\nconst CONSTANTS = {\n\tUSER_PREFERENCE_SRVC_URL: `${REPO_BASE_URL}UserPreference`,\n\tKEY: \"recommendedApps\"\n};\n\n/**\n *\n * Provides the RecommendedAppPanel Class.\n *\n * @extends sap.cux.home.BaseAppPersPanel\n *\n * @author SAP SE\n * @version 0.0.1\n * @since 1.128.0\n *\n * @private\n * @experimental\n * @hidden\n *\n * @alias sap.cux.home.RecommendedAppPanel\n */\nexport default class RecommendedAppPanel extends BaseAppPersPanel {\n\tstatic readonly metadata: MetadataOptions = {\n\t\tlibrary: \"sap.cux.home\",\n\t\tdefaultAggregation: \"apps\",\n\t\taggregations: {\n\t\t\t/**\n\t\t\t * Apps aggregation for Recommended apps\n\t\t\t */\n\t\t\tapps: { type: \"sap.cux.home.App\", singularName: \"app\", multiple: true, visibility: \"hidden\" }\n\t\t}\n\t};\n\n\tpublic constructor(id?: string, settings?: $BaseAppPersPanelSettings) {\n\t\tsuper(id, settings);\n\t\tthis.setSupported(false);\n\t}\n\n\tpublic init() {\n\t\tsuper.init();\n\t\tthis.setProperty(\"key\", CONSTANTS.KEY);\n\t\tthis.setProperty(\"title\", this._i18nBundle.getText(\"recommendedAppsTab\"));\n\t\t//subscribe to recommendation setting change event\n\t\tconst eventBus = EventBus.getInstance();\n\t\teventBus.subscribe(\"importChannel\", \"recommendationSettingChanged\", (channelId?: string, eventId?: string, data?: object) => {\n\t\t\tconst showRecommendation = (data as { showRecommendation: boolean }).showRecommendation;\n\t\t\tthis.fireSupported({ isSupported: showRecommendation });\n\t\t});\n\t\tif (this.getDeviceType() !== DeviceType.Mobile) {\n\t\t\tvoid this._enableRecommendationTab();\n\t\t}\n\t}\n\n\t/**\n\t * Overrides the wrapper for the apps panel to add message strip.\n\t *\n\t * @private\n\t * @returns {sap.m.VBox} The apps panel wrapper.\n\t */\n\tprotected _generateWrapper() {\n\t\tconst wrapperId = `${this.getId()}-recommendedPanelWrapper`;\n\t\tif (!this._controlMap.get(wrapperId)) {\n\t\t\tthis._controlMap.set(\n\t\t\t\twrapperId,\n\t\t\t\tnew VBox(wrapperId, {\n\t\t\t\t\titems: [this._generateMessageStrip(), super._generateWrapper()],\n\t\t\t\t\tbackgroundDesign: BackgroundDesign.Transparent\n\t\t\t\t})\n\t\t\t);\n\t\t}\n\t\treturn this._controlMap.get(wrapperId) as VBox;\n\t}\n\n\t/**\n\t * Fetch recommended apps and set apps aggregation\n\t * @private\n\t */\n\tpublic async loadApps() {\n\t\tlet recommendedVisualizations = await this.appManagerInstance.getRecommendedVisualizations(true);\n\t\trecommendedVisualizations = recommendedVisualizations.map((visualization) => {\n\t\t\treturn {\n\t\t\t\t...visualization,\n\t\t\t\tmenuItems: this._getActions()\n\t\t\t};\n\t\t});\n\t\tthis.destroyAggregation(\"apps\", true);\n\t\t//convert apps objects array to apps instances\n\t\tconst recommendedApps = this.generateApps(recommendedVisualizations);\n\t\tthis.setApps(recommendedApps);\n\t}\n\n\t/**\n\t * Returns message strip for recommended tab\n\t * @private\n\t * @returns {sap.cux.home.MessageStrip} - Message strip control.\n\t */\n\tprivate _generateMessageStrip() {\n\t\tconst messageStripId = `${this.getId()}-messageStrip`;\n\t\tif (!this._controlMap.get(messageStripId)) {\n\t\t\tthis._controlMap.set(\n\t\t\t\tmessageStripId,\n\t\t\t\tnew MessageStrip(messageStripId, {\n\t\t\t\t\ttext: this._i18nBundle.getText(\"recommendationMessageStrip\"),\n\t\t\t\t\tshowIcon: true,\n\t\t\t\t\tshowCloseButton: true,\n\t\t\t\t\tlink: new Link(`${messageStripId}-settings`, {\n\t\t\t\t\t\ttext: this._i18nBundle.getText(\"settings\"),\n\t\t\t\t\t\tpress: () => (this.getParent() as BaseContainer)?._getLayout()?.openSettingsDialog(SETTINGS_PANELS_KEYS.ADVANCED)\n\t\t\t\t\t}).addStyleClass(\"sapUiNoMargin\")\n\t\t\t\t}).addStyleClass(\"sapUiNoMarginBegin sapUiTinyMarginBottom\")\n\t\t\t);\n\t\t}\n\t\treturn this._controlMap.get(messageStripId) as MessageStrip;\n\t}\n\n\t/**\n\t * Returns list of actions available for selected app\n\t * @private\n\t * @returns {sap.cux.home.MenuItem[]} - Array of list items.\n\t */\n\tprivate _getActions(): MenuItem[] {\n\t\tconst addToFavoritesItem = new MenuItem({\n\t\t\ttitle: this._i18nBundle.getText(\"addToFavorites\"),\n\t\t\ticon: \"sap-icon://add-favorite\",\n\t\t\tpress: (event) => {\n\t\t\t\tvoid this._addAppToFavorites(event);\n\t\t\t}\n\t\t});\n\t\taddFESRId(addToFavoritesItem, \"acceptRecommendation\");\n\t\tconst notRelevantItem = new MenuItem({\n\t\t\ttitle: this._i18nBundle.getText(\"notRelevantRecommendation\"),\n\t\t\ticon: \"sap-icon://decline\",\n\t\t\tpress: (event) => {\n\t\t\t\tvoid this._rejectRecommendation(event);\n\t\t\t}\n\t\t});\n\t\taddFESRId(notRelevantItem, \"rejectRecommendation\");\n\t\tconst actions = [addToFavoritesItem, notRelevantItem];\n\t\treturn actions;\n\t}\n\n\t/**\n\t * Rejects the selected app as recommendation\n\t * @private\n\t * @param {sap.ui.base.MenuItem$PressEvent} event - Event object.\n\t */\n\tprivate async _rejectRecommendation(event: MenuItem$PressEvent) {\n\t\tthis.setBusy(true);\n\t\ttry {\n\t\t\tconst source = event.getSource<MenuItem>();\n\t\t\tconst app = source.getParent() as App;\n\t\t\tconst title = app.getTitle();\n\t\t\tconst recommendedVisualizations = await this.appManagerInstance.getRecommendedVisualizations();\n\t\t\tconst visualization = recommendedVisualizations.find((viz) => viz.url === app.getUrl());\n\t\t\tconst fioriId = visualization?.fioriId;\n\t\t\tif (fioriId) {\n\t\t\t\tconst rejectPayload = {\n\t\t\t\t\tAppId: fioriId,\n\t\t\t\t\tDecision: 1\n\t\t\t\t};\n\t\t\t\tawait HttpHelper.Post(CONSTANTS.USER_PREFERENCE_SRVC_URL, rejectPayload);\n\t\t\t\tawait this.refresh();\n\t\t\t\tconst message = this._i18nBundle.getText(\"rejectRecommendationMsg\", [title]) as string;\n\t\t\t\tMessageToast.show(message);\n\t\t\t}\n\t\t} catch (error) {\n\t\t\tLog.error(error as string);\n\t\t} finally {\n\t\t\tthis.setBusy(false);\n\t\t}\n\t}\n\n\t/**\n\t * Checks if recommendation is enabled based on recommendation feature toggle and user personalization.\n\t * @private\n\t * @returns {Boolean} - Returns true if recommendation is enabled otherwise false.\n\t */\n\tprivate async _isRecommendationEnabled() {\n\t\tconst recommendationEnabled = await this.appManagerInstance.isFeatureEnabled(FEATURE_TOGGLES.RECOMMENDATION);\n\t\tif (recommendationEnabled) {\n\t\t\tconst personalisation = await this.getPersonalization();\n\t\t\treturn personalisation.showRecommendation ?? true;\n\t\t}\n\t\treturn false;\n\t}\n\n\t/**\n\t * Show recommendation tab if recommendation is enabled\n\t * @private\n\t */\n\tprivate async _enableRecommendationTab() {\n\t\tconst isSupported = await this._isRecommendationEnabled();\n\t\tthis.setSupported(isSupported);\n\t\tthis.fireSupported({ isSupported });\n\t}\n\n\t/**\n\t * Generates illustrated message for recommended apps panel.\n\t * @private\n\t * @override\n\t * @returns {sap.m.IllustratedMessage} Illustrated error message.\n\t */\n\tprotected generateIllustratedMessage() {\n\t\tconst illustratedMessage = super.generateIllustratedMessage();\n\t\t//overrride the default illustrated message, title, description and add additional content\n\t\tillustratedMessage.setIllustrationType(IllustratedMessageType.Tent);\n\t\tillustratedMessage.setTitle(this._i18nBundle.getText(\"noRecommendationsTitle\"));\n\t\tillustratedMessage.setDescription(this._i18nBundle.getText(\"noRecommendationsDescription\"));\n\t\tillustratedMessage.addAdditionalContent(\n\t\t\tnew Button({\n\t\t\t\ttext: this._i18nBundle.getText(\"settings\"),\n\t\t\t\ttooltip: this._i18nBundle.getText(\"settings\"),\n\t\t\t\tpress: () => (this.getParent() as BaseContainer)?._getLayout()?.openSettingsDialog(SETTINGS_PANELS_KEYS.ADVANCED),\n\t\t\t\ttype: \"Emphasized\"\n\t\t\t})\n\t\t);\n\t\treturn illustratedMessage;\n\t}\n}\n"],"mappings":"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","ignoreList":[]}