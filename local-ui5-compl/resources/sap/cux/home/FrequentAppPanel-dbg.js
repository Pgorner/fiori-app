/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *  * (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
"use strict";sap.ui.define(["sap/base/Log","sap/ushell/Container","sap/ushell/EventHub","./BaseAppPersPanel","./MenuItem"],function(e,t,n,s,r){"use strict";function i(e){return e&&e.__esModule&&typeof e.default!=="undefined"?e.default:e}function o(e,t){try{var n=e()}catch(e){return t(e)}if(n&&n.then){return n.then(void 0,t)}return n}const u=i(s);const a=i(r);const c=u.extend("sap.cux.home.FrequentAppPanel",{metadata:{library:"sap.cux.home",defaultAggregation:"apps",aggregations:{apps:{type:"sap.cux.home.App",singularName:"app",multiple:true,visibility:"hidden"}}},constructor:function e(t,n){u.prototype.constructor.call(this,t,n);this.setSupported(false)},init:function e(){u.prototype.init.call(this);this.setProperty("key","frequentApps");this.setProperty("title",this._i18nBundle.getText("frequentlyUsedTab"));this.setProperty("tooltip",this._i18nBundle.getText("frequentlyUsedTabInfo"));this._attachUserActivityTracking();n.on("userRecentsCleared").do(()=>{void this.refresh()})},loadApps:function e(){try{const e=this;return Promise.resolve(e._getFrequentVisualizations()).then(function(t){t=t.map(t=>({...t,menuItems:e._getActions(t.addedInFavorites)}));e.destroyAggregation("apps",true);const n=e.generateApps(t);e.setApps(n)})}catch(e){return Promise.reject(e)}},_getFrequentVisualizations:function n(){try{const n=this;return Promise.resolve(o(function(){return Promise.resolve(t.getServiceAsync("UserRecents")).then(function(e){return Promise.resolve(e?.getFrequentActivity()).then(function(e){return Promise.resolve(n.convertActivitiesToVisualizations(e))})})},function(t){e.error(t);return[]}))}catch(e){return Promise.reject(e)}},_getActions:function e(){let t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;const n=[];if(!t){n.push(new a("",{title:this._i18nBundle.getText("addToFavorites"),icon:"sap-icon://add-favorite",press:e=>{void this._addAppToFavorites(e)}}))}return n},generateIllustratedMessage:function e(){const t=u.prototype.generateIllustratedMessage.call(this);t.setDescription(this._i18nBundle.getText("noFreqAppsDescription"));return t}});return c});
//# sourceMappingURL=FrequentAppPanel-dbg.js.map