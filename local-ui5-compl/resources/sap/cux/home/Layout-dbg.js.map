{"version":3,"file":"Layout-dbg.js","names":["sap","ui","define","Log","S4MyHome","Container","__AdvancedSettingsPanel","__AppsContainer","__BaseLayout","__BaseLayoutRenderer","__InsightsCardsSettingsPanel","__InsightsTilesSettingsPanel","__KeyUserLayoutSettingsPanel","__KeyUserNewsPagesSettingsPanel","__KeyUserSettingsDialog","__LayoutSettingsPanel","__NewsAndPagesContainer","__NewsSettingsPanel","__NoDataContainer","__PagePanel","__PageSettingsPanel","__SettingsDialog","__ToDosContainer","___utils_Constants","__KeyUserPersonalization","__PersonalisationUtils","_interopRequireDefault","obj","__esModule","default","_iteratorSymbol","Symbol","iterator","_settle","pact","state","value","s","_Pact","v","o","bind","then","observer","prototype","onFulfilled","onRejected","result","this","callback","e","_this","_isSettledPact","thenable","_forTo","array","body","check","i","reject","_cycle","length","AdvancedSettingsPanel","_forOf","target","step","next","done","return","_fixup","TypeError","values","push","AppsContainer","_catch","recover","BaseLayout","BaseLayoutRenderer","InsightsCardsSettingsPanel","InsightsTilesSettingsPanel","KeyUserLayoutSettingsPanel","KeyUserNewsPagesSettingsPanel","KeyUserSettingsDialog","LayoutSettingsPanel","NewsAndPagesContainer","NewsSettingsPanel","NoDataContainer","PagePanel","PageSettingsPanel","SettingsDialog","ToDosContainer","SETTINGS_PANELS_KEYS","KeyUserPersonalization","PersonalisationUtils","Layout","extend","renderer","metadata","designtime","constructor","_constructor","id","settings","BaseLayout.prototype.constructor.call","_shellUserActions","_isDefaultSettingsDialog","_customNoDataContainerPresent","init","_init","BaseLayout.prototype.init.call","setProperty","_keyUserPersonalization","getOwnerComponent","_i18nBundle","_addUserActions","Promise","resolve","_temp3","getVisible","_userActionsAdded","userActions","getId","icon","text","getText","tooltip","press","openSettingsDialog","getRTAUserAction","rtaUserAction","getServiceAsync","extensionService","_temp2","toggleUserActions","event","show","getParameter","forEach","userAction","showOnHome","hideOnHome","attachRouteMatched","_temp","action","createUserAction","controlType","shellUserAction","error","warning","Error","message","_openSettingsDialog","selectedKey","arguments","undefined","context","_this2","settingsDialog","getAggregation","getPanels","_getSettingsPanels","_addPanelsToSettingsDialog","_calculateSectionsState","BaseLayout.prototype.openSettingsDialog.call","closeSettingsDialog","_closeSettingsDialog","close","onBeforeRendering","_onBeforeRendering","_this3","BaseLayout.prototype.onBeforeRendering.call","_noDataContainer","getItems","find","item","setVisible","_aOrderedSections","setTimeout","_prepareLayoutData","_setupSettingsDialog","_setupKeyUserSettingsDialog","allPanels","container","setAssociation","getContent","panel","panelEnableSettings","getProperty","enableSettings","defaultSettingsDialog","_getDefaultSettingsDialog","setSettingsDialog","settingsPanel","_getDefaultSettingsPanel","addPanel","sortedPanels","_sortPanels","removeAllPanels","insertPanel","_getLayoutSettingsPanel","_getAdvancedSettingsPanel","panelClassName","getMetadata","getName","_addSettingsPanel","panels","Object","keys","map","key","filter","Boolean","_advancedSettingsPanel","_layoutSettingsPanel","hasVisibleSection","aElements","aElementMap","element","sId","title","getTooltip","elementVisible","completeId","sContainerType","blocked","visible","_setTextValue","setNoDataContainerVisibility","_setNoDataContainerVisibility","contentVisible","insertItem","removeItem","_this4","aSettingsPanel","_isCustomNews","oSettingsPanel","resetImportModel","setSectionDetails","_setSectionDetails","_this5","elementArray","_temp7","_temp6","oElementItem","bBlocked","_temp5","_temp4","_this5$checkPagesBloc","aNewsAndPagesPanel","_aNewsAndPagesPanel$l","checkPagesBlocked","checkToDoBlocked","_checkPagesBlocked","_this6","_temp10","_pagesAvailable","_temp9","oPanel","_temp8","getUserAvailablePages","aPages","_checkToDoBlocked","toDoContainer","_toDoAccessible","keyUserSettingsDialog","defaultKeyUserSettingsDialog","keyUserLayoutSettingsPanel","keyUserNewsPagesSettingsPanel","setAggregation","getpagesAvailable","_getpagesAvailable","isToDoAccessible","_isToDoAccessible","customNewAvailable","_customNewAvailable","getSections","_getSections","setSections","_setSections","sections","resetSections","_resetSections"],"sources":["Layout.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\n\nimport { Event } from \"jquery\";\nimport Log from \"sap/base/Log\";\nimport UI5Event from \"sap/ui/base/Event\";\nimport { MetadataOptions } from \"sap/ui/core/Element\";\nimport S4MyHome from \"sap/ushell/api/S4MyHome\";\nimport Container from \"sap/ushell/Container\";\nimport Extension from \"sap/ushell/services/Extension\";\nimport Item from \"sap/ushell/services/Extension/Item\";\nimport AdvancedSettingsPanel from \"./AdvancedSettingsPanel\";\nimport AppsContainer from \"./AppsContainer\";\nimport BaseContainer from \"./BaseContainer\";\nimport BaseLayout, { $BaseLayoutSettings } from \"./BaseLayout\";\nimport BaseLayoutRenderer from \"./BaseLayoutRenderer\";\nimport BasePanel from \"./BasePanel\";\nimport BaseSettingsDialog from \"./BaseSettingsDialog\";\nimport BaseSettingsPanel from \"./BaseSettingsPanel\";\nimport InsightsCardsSettingsPanel from \"./InsightsCardsSettingsPanel\";\nimport InsightsTilesSettingsPanel from \"./InsightsTilesSettingsPanel\";\nimport KeyUserLayoutSettingsPanel from \"./KeyUserLayoutSettingsPanel\";\nimport KeyUserNewsPagesSettingsPanel from \"./KeyUserNewsPagesSettingsPanel\";\nimport KeyUserSettingsDialog from \"./KeyUserSettingsDialog\";\nimport LayoutSettingsPanel from \"./LayoutSettingsPanel\";\nimport NewsAndPagesContainer from \"./NewsAndPagesContainer\";\nimport NewsSettingsPanel from \"./NewsSettingsPanel\";\nimport NoDataContainer from \"./NoDataContainer\";\nimport PagePanel from \"./PagePanel\";\nimport PageSettingsPanel from \"./PageSettingsPanel\";\nimport SettingsDialog from \"./SettingsDialog\";\nimport ToDosContainer from \"./ToDosContainer\";\nimport { SETTINGS_PANELS_KEYS } from \"./utils/Constants\";\nimport KeyUserPersonalization from \"./utils/KeyUserPersonalization\";\nimport PersonalisationUtils from \"./utils/PersonalisationUtils\";\n\ninterface IElement {\n\tcompleteId: string;\n\tsContainerType: string;\n\tblocked: boolean;\n\tvisible: boolean;\n\ttitle: string;\n\ttext: string;\n}\n\nexport interface UserActionProperties {\n\tid: string;\n\ticon: string;\n\ttext: string;\n\ttooltip: string;\n\tpress: () => void;\n}\n\n/**\n *\n * Layout class for the My Home layout.\n *\n * @extends BaseLayout\n *\n * @author SAP SE\n * @version 0.0.1\n * @since 1.121\n *\n * @internal\n * @experimental Since 1.121\n * @public\n *\n * @alias sap.cux.home.Layout\n */\nexport default class Layout extends BaseLayout {\n\tprivate _layoutSettingsPanel!: LayoutSettingsPanel;\n\tprivate _advancedSettingsPanel!: AdvancedSettingsPanel;\n\tprivate _isCustomNews!: boolean;\n\tprivate _pagesAvailable!: boolean;\n\tprivate _toDoAccessible!: boolean;\n\tprivate _aOrderedSections!: IElement[] | undefined;\n\tprivate _noDataContainer!: NoDataContainer;\n\tprivate _shellUserActions: Item[] = [];\n\tprivate _userActionsAdded!: boolean;\n\tprivate _keyUserPersonalization!: KeyUserPersonalization;\n\tprivate _isDefaultSettingsDialog: boolean = false;\n\tprivate _customNoDataContainerPresent: boolean = true;\n\n\tstatic readonly metadata: MetadataOptions = {\n\t\tdesigntime: \"sap/cux/home/designtime/Layout.designtime\"\n\t};\n\tstatic renderer: typeof BaseLayoutRenderer = BaseLayoutRenderer;\n\n\t/**\n\t * Constructor for a new layout.\n\t *\n\t * @param {string} [id] ID for the new control, generated automatically if an ID is not provided\n\t * @param {object} [settings] Initial settings for the new control\n\t */\n\tpublic constructor(id?: string, settings?: $BaseLayoutSettings) {\n\t\tsuper(id, settings);\n\t}\n\n\t/**\n\t * Init lifecycle method\n\t *\n\t * @private\n\t * @async\n\t * @override\n\t */\n\tpublic init(): void {\n\t\tsuper.init();\n\n\t\t//setup layout\n\t\tthis.setProperty(\"enableSettings\", true);\n\t\tthis.setProperty(\"enableFullScreen\", true);\n\n\t\t// Setup KeyUserPersonalization\n\t\tthis._keyUserPersonalization = new KeyUserPersonalization(PersonalisationUtils.getOwnerComponent(this), this._i18nBundle);\n\t}\n\n\t/**\n\t * Adds all user actions to the Fiori launchpad.\n\t *\n\t * @private\n\t */\n\tprivate async _addUserActions() {\n\t\ttry {\n\t\t\tif (this.getVisible() && !this._userActionsAdded) {\n\t\t\t\tthis._userActionsAdded = true;\n\n\t\t\t\t// Configure User Actions\n\t\t\t\tconst userActions: UserActionProperties[] = [\n\t\t\t\t\t{\n\t\t\t\t\t\tid: `${this.getId()}-homeSettingsBtn`,\n\t\t\t\t\t\ticon: \"sap-icon://edit\",\n\t\t\t\t\t\ttext: this._i18nBundle.getText(\"myHomeSettings\") as string,\n\t\t\t\t\t\ttooltip: this._i18nBundle.getText(\"myHomeSettings\") as string,\n\t\t\t\t\t\tpress: () => {\n\t\t\t\t\t\t\tvoid this.openSettingsDialog();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t];\n\n\t\t\t\t// Add RTA User Action if Key User\n\t\t\t\tconst rtaUserAction = await this._keyUserPersonalization.getRTAUserAction();\n\t\t\t\tif (rtaUserAction) {\n\t\t\t\t\tuserActions.push(rtaUserAction);\n\t\t\t\t}\n\n\t\t\t\t// Attach User Actions\n\t\t\t\tconst extensionService = await Container.getServiceAsync<Extension>(\"Extension\");\n\t\t\t\tfor (let action of userActions) {\n\t\t\t\t\tconst shellUserAction = await extensionService.createUserAction(action, {\n\t\t\t\t\t\tcontrolType: \"sap.ushell.ui.launchpad.ActionItem\"\n\t\t\t\t\t});\n\t\t\t\t\tshellUserAction.showOnHome();\n\t\t\t\t\tthis._shellUserActions.push(shellUserAction);\n\t\t\t\t}\n\n\t\t\t\t// Toggle User Actions on Page Change\n\t\t\t\tconst toggleUserActions = (event: UI5Event<{ isMyHomeRoute: boolean }>) => {\n\t\t\t\t\tconst show = event.getParameter(\"isMyHomeRoute\");\n\t\t\t\t\tthis._shellUserActions.forEach(function (userAction) {\n\t\t\t\t\t\tif (show) {\n\t\t\t\t\t\t\tuserAction.showOnHome();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tuserAction.hideOnHome();\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t};\n\t\t\t\tS4MyHome.attachRouteMatched({}, toggleUserActions, this);\n\t\t\t}\n\t\t} catch (error: unknown) {\n\t\t\tLog.warning(\"Unable to add User Actions\", error instanceof Error ? error.message : \"\");\n\t\t}\n\t}\n\n\t/**\n\t * Opens the settings dialog for the layout.\n\t * Overriden from the BaseLayout to ensure of all panels\n\t * to the dialog if not already added.\n\t *\n\t * @private\n\t * @param {string} selectedKey The key of the panel to navigate to\n\t * @override\n\t */\n\tpublic async openSettingsDialog(selectedKey: string = \"\", context?: object): Promise<void> {\n\t\tconst settingsDialog = this.getAggregation(\"settingsDialog\") as BaseSettingsDialog;\n\t\tif (settingsDialog.getPanels().length !== this._getSettingsPanels().length) {\n\t\t\tthis._addPanelsToSettingsDialog();\n\t\t}\n\t\tawait this._calculateSectionsState();\n\n\t\tsuper.openSettingsDialog(selectedKey, context);\n\t}\n\n\t/**\n\t * Close Settings Dialog\n\t *\n\t * @private\n\t *\n\t */\n\tpublic closeSettingsDialog(): void {\n\t\tconst settingsDialog = this.getAggregation(\"settingsDialog\") as BaseSettingsDialog;\n\t\tsettingsDialog?.close();\n\t}\n\n\t/**\n\t * onBeforeRendering lifecycle method\n\t *\n\t * @private\n\t * @override\n\t */\n\tpublic async onBeforeRendering(event: Event): Promise<void> {\n\t\tsuper.onBeforeRendering(event);\n\n\t\t// setup no-data container\n\t\tif (!this._noDataContainer) {\n\t\t\tthis._noDataContainer = this.getItems().find((item) => item instanceof NoDataContainer) as NoDataContainer;\n\n\t\t\t// if no data container is already present, use it\n\t\t\tif (!this._noDataContainer) {\n\t\t\t\tthis._customNoDataContainerPresent = false;\n\t\t\t\tthis._noDataContainer = new NoDataContainer(`${this.getId()}-noDataContainer`);\n\t\t\t}\n\t\t\tthis._noDataContainer.setVisible(false);\n\t\t}\n\n\t\t//prepare layout data, if not already done\n\t\tif (!this._aOrderedSections) {\n\t\t\tsetTimeout(this._prepareLayoutData.bind(this));\n\t\t}\n\n\t\t//setup common layout features\n\t\tthis._setupSettingsDialog();\n\n\t\t// Setup KeyUserPersonalization\n\t\tthis._setupKeyUserSettingsDialog();\n\n\t\t//configure user action button if the layout is in an ushell environment\n\t\tawait this._addUserActions();\n\t}\n\n\t/**\n\t * Sets up the settings dialog for the layout.\n\t *\n\t * @private\n\t */\n\tprivate _setupSettingsDialog(): void {\n\t\tconst allPanels: BasePanel[] = [];\n\t\t(this.getItems() || []).forEach((container) => {\n\t\t\t//link container to layout\n\t\t\tcontainer.setAssociation(\"layout\", this);\n\n\t\t\t//enable settings for all panels\n\t\t\tcontainer.getContent().forEach((panel) => {\n\t\t\t\tallPanels.push(panel);\n\t\t\t\tconst panelEnableSettings = panel.getProperty(\"enableSettings\") as boolean;\n\t\t\t\tpanel.setProperty(\"enableSettings\", panelEnableSettings !== undefined ? panelEnableSettings : true);\n\t\t\t});\n\t\t});\n\n\t\tconst enableSettings = this.getProperty(\"enableSettings\") as boolean;\n\t\tconst settingsDialog = this.getAggregation(\"settingsDialog\") as BaseSettingsDialog | undefined;\n\t\tif (!settingsDialog) {\n\t\t\tthis._isDefaultSettingsDialog = true;\n\n\t\t\t// If settings dialog is not provided and settings is enabled, create a default settings dialog\n\t\t\tif (enableSettings) {\n\t\t\t\tconst defaultSettingsDialog = this._getDefaultSettingsDialog(allPanels);\n\t\t\t\tthis.setSettingsDialog(defaultSettingsDialog);\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Get default settings dialog\n\t * @private\n\t * @returns {BaseSettingsDialog} Default settings dialog\n\t */\n\tprivate _getDefaultSettingsDialog(allPanels: BasePanel[]): BaseSettingsDialog {\n\t\tconst defaultSettingsDialog = new SettingsDialog(`${this.getId()}-settings-dialog`);\n\n\t\tallPanels.forEach((panel) => {\n\t\t\tconst settingsPanel = this._getDefaultSettingsPanel(panel);\n\t\t\tif (settingsPanel) {\n\t\t\t\tdefaultSettingsDialog.addPanel(settingsPanel);\n\t\t\t}\n\t\t});\n\n\t\t//sort all panels and add them to the settings dialog\n\t\tconst sortedPanels = this._sortPanels(defaultSettingsDialog.getPanels());\n\t\tdefaultSettingsDialog.removeAllPanels();\n\t\tsortedPanels.forEach((panel) => defaultSettingsDialog.addPanel(panel));\n\n\t\tdefaultSettingsDialog.insertPanel(this._getLayoutSettingsPanel(), 0);\n\t\tdefaultSettingsDialog.addPanel(this._getAdvancedSettingsPanel());\n\n\t\treturn defaultSettingsDialog;\n\t}\n\n\t/**\n\t * Get default Settings Panel\n\t *\n\t * @private\n\t */\n\n\tprivate _getDefaultSettingsPanel(panel: BasePanel): BaseSettingsPanel | undefined {\n\t\tlet settingsPanel: BaseSettingsPanel | undefined;\n\t\tconst panelClassName = panel.getMetadata().getName();\n\t\tswitch (panelClassName) {\n\t\t\tcase \"sap.cux.home.NewsPanel\":\n\t\t\t\tsettingsPanel = new NewsSettingsPanel(`${panel.getId()}-news-settings`);\n\t\t\t\tbreak;\n\t\t\tcase \"sap.cux.home.PagePanel\":\n\t\t\t\tsettingsPanel = new PageSettingsPanel(`${panel.getId()}-page-settings`);\n\t\t\t\tbreak;\n\t\t\tcase \"sap.cux.home.TilesPanel\":\n\t\t\t\tsettingsPanel = new InsightsTilesSettingsPanel(`${panel.getId()}-tiles-settings`);\n\t\t\t\tbreak;\n\t\t\tcase \"sap.cux.home.CardsPanel\":\n\t\t\t\tsettingsPanel = new InsightsCardsSettingsPanel(`${panel.getId()}-cards-settings`);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t\tsettingsPanel?.setAssociation(\"panel\", panel);\n\t\treturn settingsPanel;\n\t}\n\n\t/**\n\t * Adds all settings panels to the settings dialog, including\n\t * the layout settings panel and advanced settings panel.\n\t *\n\t * @private\n\t */\n\tprivate _addPanelsToSettingsDialog(): void {\n\t\tconst settingsDialog = this.getAggregation(\"settingsDialog\") as BaseSettingsDialog;\n\n\t\t//sort all panels and add them to the settings dialog\n\t\tconst sortedPanels = this._sortPanels(settingsDialog.getPanels());\n\t\tsettingsDialog.removeAllPanels();\n\t\tsortedPanels.forEach((panel) => settingsDialog.addPanel(panel));\n\n\t\t// Layout Settings should be displayed only if no settings dialog is provided\n\t\tif (this._isDefaultSettingsDialog) {\n\t\t\tsettingsDialog.insertPanel(this._getLayoutSettingsPanel(), 0);\n\t\t\tsettingsDialog.addPanel(this._getAdvancedSettingsPanel());\n\t\t}\n\t\tsettingsDialog.addPanel(this._getAdvancedSettingsPanel());\n\t\tthis._addSettingsPanel(settingsDialog.getPanels(), true);\n\t}\n\n\t/**\n\t * Sorts settings panels based on a predefined order.\n\t *\n\t * @private\n\t * @returns {BaseSettingsPanel[]} Sorted settings panels.\n\t */\n\tprivate _sortPanels(panels: BaseSettingsPanel[]): BaseSettingsPanel[] {\n\t\treturn Object.keys(SETTINGS_PANELS_KEYS)\n\t\t\t.map((key) => panels.find((panel) => panel?.getProperty(\"key\") === key))\n\t\t\t.filter(Boolean) as BaseSettingsPanel[];\n\t}\n\n\t/**\n\t * Retrieves the advanced settings panel associated with the layout.\n\t *\n\t * @private\n\t * @returns {AdvancedSettingsPanel} The advanced settings panel.\n\t */\n\tprivate _getAdvancedSettingsPanel(): AdvancedSettingsPanel {\n\t\tif (!this._advancedSettingsPanel) {\n\t\t\tthis._advancedSettingsPanel = new AdvancedSettingsPanel(`${this.getId()}-advanced-settings`);\n\t\t\tthis._advancedSettingsPanel.setAssociation(\"panel\", this);\n\t\t}\n\n\t\treturn this._advancedSettingsPanel;\n\t}\n\n\t/**\n\t * Retrieves the layout settings panel associated with the layout.\n\t *\n\t * @private\n\t * @returns {LayoutSettingsPanel} The layout settings panel.\n\t */\n\tprivate _getLayoutSettingsPanel(): LayoutSettingsPanel {\n\t\tif (!this._layoutSettingsPanel) {\n\t\t\tthis._layoutSettingsPanel = new LayoutSettingsPanel(`${this.getId()}-layout-settings`);\n\t\t\tthis._layoutSettingsPanel.setAssociation(\"panel\", this);\n\t\t}\n\n\t\treturn this._layoutSettingsPanel;\n\t}\n\n\t/**\n\t * Prepares the layout data.\n\t *\n\t * @private\n\t */\n\tprivate _prepareLayoutData(): void {\n\t\tlet hasVisibleSection = false;\n\t\tconst aElements = this.getItems();\n\t\t// set aelementsMap as elementMap[] | [];\n\t\tconst aElementMap: IElement[] = [];\n\t\taElements.forEach((element: BaseContainer) => {\n\t\t\tif (element !== this._noDataContainer) {\n\t\t\t\tconst sId = element.getId();\n\n\t\t\t\t//if no title set for container , then layout setting should show tooltip as title within the settings dialog\n\t\t\t\tlet title = element.getProperty(\"title\") as string;\n\t\t\t\tif (!title) {\n\t\t\t\t\ttitle = element.getTooltip() as string;\n\t\t\t\t}\n\t\t\t\tconst elementVisible = element.getVisible();\n\t\t\t\taElementMap.push({\n\t\t\t\t\tcompleteId: sId,\n\t\t\t\t\tsContainerType: element.getMetadata().getName(),\n\t\t\t\t\tblocked: false,\n\t\t\t\t\tvisible: element.getProperty(\"visible\") as boolean,\n\t\t\t\t\ttitle: element instanceof NewsAndPagesContainer ? (this._i18nBundle.getText(\"myInterestMsg\") as string) : title,\n\t\t\t\t\ttext: this._setTextValue(element)\n\t\t\t\t});\n\t\t\t\tif (elementVisible) {\n\t\t\t\t\thasVisibleSection = true;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tthis._aOrderedSections = aElementMap;\n\t\tif (!this.getProperty(\"expanded\")) {\n\t\t\tthis.setNoDataContainerVisibility(!hasVisibleSection);\n\t\t}\n\t}\n\n\t/**\n\t * Sets the text value for the section\n\t * @private\n\t */\n\tprivate _setTextValue(element: BaseContainer): string {\n\t\tif (element instanceof ToDosContainer) {\n\t\t\treturn this._i18nBundle.getText(\"forMeTodayMsg\") as string;\n\t\t} else if (element instanceof AppsContainer) {\n\t\t\treturn this._i18nBundle.getText(\"myAppMsg\") as string;\n\t\t}\n\t\treturn \"\";\n\t}\n\n\t/**\n\t * Sets the visibility of the no data container\n\t *\n\t * @private\n\t */\n\tpublic setNoDataContainerVisibility(contentVisible: boolean): void {\n\t\tthis._noDataContainer?.setVisible(contentVisible);\n\t\tif (!this._customNoDataContainerPresent) {\n\t\t\tif (contentVisible) {\n\t\t\t\tthis.insertItem(this._noDataContainer, 0);\n\t\t\t} else {\n\t\t\t\tthis.removeItem(this._noDataContainer);\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Calculates the state of the sections based on the layout's content.\n\t * @private\n\t */\n\tpublic async _calculateSectionsState(): Promise<void> {\n\t\tconst settingsDialog = this.getAggregation(\"settingsDialog\") as SettingsDialog;\n\t\tconst aSettingsPanel = settingsDialog.getPanels();\n\t\tthis._isCustomNews = false;\n\t\taSettingsPanel.forEach((oSettingsPanel: BaseSettingsPanel) => {\n\t\t\tif (oSettingsPanel instanceof NewsSettingsPanel) {\n\t\t\t\tthis._isCustomNews = true;\n\t\t\t}\n\t\t\tif (oSettingsPanel instanceof AdvancedSettingsPanel) {\n\t\t\t\toSettingsPanel.resetImportModel(true);\n\t\t\t}\n\t\t});\n\t\tawait this.setSectionDetails();\n\t}\n\n\t/**\n\t * Sets the section details based on the layout's content.\n\t * @private\n\t */\n\tprivate async setSectionDetails(): Promise<void> {\n\t\tconst elementArray = this.getItems();\n\t\tfor (const element of elementArray) {\n\t\t\tlet bBlocked = false;\n\t\t\tconst sId = element.getId();\n\t\t\t//check news & apps visibility\n\t\t\tif (element instanceof NewsAndPagesContainer && element.getVisible()) {\n\t\t\t\tconst aNewsAndPagesPanel = element.getContent();\n\t\t\t\t//check whether user has access to pages\n\t\t\t\tbBlocked = aNewsAndPagesPanel.length ? await this.checkPagesBlocked(aNewsAndPagesPanel) : false;\n\t\t\t} else if (element instanceof ToDosContainer) {\n\t\t\t\tbBlocked = this.checkToDoBlocked(element);\n\t\t\t}\n\n\t\t\tthis._aOrderedSections?.forEach((oElementItem) => {\n\t\t\t\tif (oElementItem.completeId === sId) {\n\t\t\t\t\toElementItem.blocked = bBlocked;\n\t\t\t\t\toElementItem.visible = element.getVisible();\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\n\t/**\n\t * Check whether My Interest section is blocked or not\n\t * @private\n\t */\n\tprivate async checkPagesBlocked(aNewsAndPagesPanel: BasePanel[]): Promise<boolean> {\n\t\tfor (const oPanel of aNewsAndPagesPanel) {\n\t\t\tif (oPanel instanceof PagePanel) {\n\t\t\t\t// find if user has any pages accessible\n\t\t\t\tconst aPages = (await oPanel.getUserAvailablePages()) || [];\n\t\t\t\tif (aPages.length) {\n\t\t\t\t\tthis._pagesAvailable = true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t//if user has no available pages and no  news feed, then block the section\n\t\tif (!this._pagesAvailable && !this._isCustomNews) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\t/**\n\t * Check whether For Me Today section is blocked or not\n\t * @private\n\t */\n\tprivate checkToDoBlocked(toDoContainer: BaseContainer): boolean {\n\t\tif (!toDoContainer.getVisible()) {\n\t\t\tconst panels = toDoContainer.getContent();\n\t\t\tif (panels.length === 0) {\n\t\t\t\tthis._toDoAccessible = false;\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t}\n\n\t/**\n\t * Sets up the key user settings dialog for the layout.\n\t *\n\t * @private\n\t */\n\tprivate _setupKeyUserSettingsDialog(): void {\n\t\tconst keyUserSettingsDialog = this.getAggregation(\"keyUserSettingsDialog\") as BaseSettingsDialog;\n\t\tif (!keyUserSettingsDialog) {\n\t\t\tconst defaultKeyUserSettingsDialog = new KeyUserSettingsDialog(`${this.getId()}-keyUser-settings-dialog`);\n\n\t\t\t// Add Key User Layout Settings Panel\n\t\t\tconst keyUserLayoutSettingsPanel = new KeyUserLayoutSettingsPanel(`${this.getId()}-keyUser-layout-settings`);\n\t\t\tkeyUserLayoutSettingsPanel.setAssociation(\"panel\", this);\n\t\t\tdefaultKeyUserSettingsDialog.addPanel(keyUserLayoutSettingsPanel);\n\n\t\t\t// Add News and Pages Settings Panel If News and Pages Container is available\n\t\t\t(this.getItems() || []).forEach((container: BaseContainer) => {\n\t\t\t\tif (container instanceof NewsAndPagesContainer) {\n\t\t\t\t\tconst keyUserNewsPagesSettingsPanel = new KeyUserNewsPagesSettingsPanel(`${this.getId()}-keyUser-news-pages-settings`);\n\t\t\t\t\t// Set any panel of the containet to the settings panel as association\n\t\t\t\t\tkeyUserNewsPagesSettingsPanel.setAssociation(\"panel\", container.getContent()?.[0]);\n\t\t\t\t\tdefaultKeyUserSettingsDialog.addPanel(keyUserNewsPagesSettingsPanel);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tthis.setAggregation(\"keyUserSettingsDialog\", defaultKeyUserSettingsDialog);\n\t\t}\n\t}\n\n\t/**\n\t * Return the pages availability value\n\t * @private\n\t */\n\tpublic getpagesAvailable(): boolean {\n\t\treturn this._pagesAvailable;\n\t}\n\n\t/**\n\t * Return the To-Dos availability value\n\t * @private\n\t */\n\tpublic isToDoAccessible(): boolean {\n\t\treturn this._toDoAccessible;\n\t}\n\n\t/**\n\t * Return whether customNews available or not\n\t */\n\tpublic customNewAvailable(): boolean {\n\t\treturn this._isCustomNews;\n\t}\n\n\t/**\n\t * Returns the set of sections present within the layout\n\t *\n\t * @private\n\t */\n\tpublic getSections(): IElement[] {\n\t\treturn this._aOrderedSections!;\n\t}\n\n\t/**\n\t * Sets the sections present within the layout\n\t *\n\t * @private\n\t */\n\tpublic setSections(sections: IElement[]): void {\n\t\tthis._aOrderedSections = sections;\n\t}\n\n\t/**\n\t * Resets the ordered sections of the layout.\n\t *\n\t * @private\n\t */\n\tpublic resetSections(): void {\n\t\tthis._aOrderedSections = undefined;\n\t\tthis._prepareLayoutData();\n\t}\n}\n"],"mappings":"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","ignoreList":[]}