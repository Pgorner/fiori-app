/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *  * (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
"use strict";sap.ui.define(["./BaseContainer","./utils/Device"],function(e,t){"use strict";function s(e){return e&&e.__esModule&&typeof e.default!=="undefined"?e.default:e}const i=s(e);const n=t["DeviceType"];const a=i.extend("sap.cux.home.NewsAndPagesContainer",{metadata:{properties:{colorPersonalizations:{type:"array",group:"Misc",defaultValue:[],visibility:"hidden"},iconPersonalizations:{type:"array",group:"Misc",defaultValue:[],visibility:"hidden"},newsFeedVisibility:{type:"boolean",group:"Misc",defaultValue:true,visibility:"hidden"}}},renderer:{...i.renderer,apiVersion:2},constructor:function e(t,s){i.prototype.constructor.call(this,t,s);this.panelLoaded={}},init:function e(){i.prototype.init.call(this);this.panelLoaded={};this.setProperty("layout","Horizontal")},onBeforeRendering:function e(){i.prototype.onBeforeRendering.call(this);const t=this.getContent();t.forEach(e=>{void e.getData()})},setColorPersonalizations:function e(t){const s=this.getProperty("colorPersonalizations")||[];const i=s.concat(t);this.setProperty("colorPersonalizations",i);this.getContent().forEach(e=>{if(e.getMetadata().getName()==="sap.cux.home.PagePanel"){e.applyColorPersonalizations(i)}});return this},setIconPersonalizations:function e(t){const s=this.getProperty("iconPersonalizations")||[];const i=s.concat(t);this.setProperty("iconPersonalizations",i);this.getContent().forEach(e=>{if(e.getMetadata().getName()==="sap.cux.home.PagePanel"){e.applyIconPersonalizations(i)}});return this},newsVisibilityChangeHandler:function e(t){const s=this.getContent();s.forEach(e=>{if(e.getMetadata().getName()==="sap.cux.home.NewsPanel"){let s=e;if(t.isNewsFeedVisible){this.setProperty("newsFeedVisibility",true);this._getPanelContentWrapper(s).setVisible(true)}else{this.setProperty("newsFeedVisibility",false);this._getPanelContentWrapper(s).setVisible(false)}}})},newsPersonalization:function e(t){const s=this.getContent();s.forEach(e=>{if(e.getMetadata().getName()==="sap.cux.home.NewsPanel"){let s=e;const i=Boolean(this.getProperty("newsFeedVisibility"));const n=t.newsFeedURL;s.setProperty("url",t.newsFeedURL);s.setProperty("showCustom",t.showCustomNewsFeed);s.setProperty("customFeedKey",t.customNewsFeedKey);s.setProperty("customFileName",t.customNewsFeedFileName);if(i){this._getPanelContentWrapper(s).setVisible(true);const e=String(s.getProperty("customFeedKey"));const t=Boolean(s.getProperty("showCustom"));if(t&&e){s.setProperty("newsAvailable",true);void s.setCustomNewsFeed(e)}else if(!t&&n){void s.setURL(n)}else{this._getPanelContentWrapper(s).setVisible(false);this.setProperty("newsFeedVisibility",false)}}}})},panelLoadedFn:function e(t,s){const i=this.getContent();i.forEach(e=>{if(e.getMetadata().getName()==="sap.cux.home.PagePanel"){this.pagePanel=e}else if(e.getMetadata().getName()==="sap.cux.home.NewsPanel"){this.newsPanel=e}});this.panelLoaded[t]=s;this.adjustLayout()},adjustStyleLayout:function e(t){const s=this.getDeviceType();const i=this.newsPanel?this._getPanelContentWrapper(this.newsPanel):undefined;const a=this.pagePanel?this._getPanelContentWrapper(this.pagePanel):undefined;const o=this._getInnerControl();if(s===n.Desktop||s===n.LargeDesktop){if(t){a?.setWidth("50vw")}o.setAlignItems("Center");o.setDirection("Row");i?.setWidth("100%");i?.addStyleClass("sapMNewsFlex")}else if(s===n.Tablet){a?.setWidth("100%");i?.setWidth("calc(100vw - 64px)");o.setAlignItems("Baseline");o.setDirection("Column")}if(a){setTimeout(this.pagePanel.attachResizeHandler.bind(this.pagePanel,t,this.getDomRef()?.clientWidth||0,a,o))}},adjustLayout:function e(){if(this.pagePanel&&this.newsPanel&&this._getPanelContentWrapper(this.newsPanel).getVisible()){if(this.panelLoaded["Page"]?.loaded&&this.panelLoaded["News"]?.loaded){const e=true;this.adjustStyleLayout(e)}else if(this.panelLoaded["News"]?.loaded===false){const e=false;this.removeContent(this.newsPanel);this.adjustStyleLayout(e)}else if(this.panelLoaded["Page"]?.loaded===false){this.removeContent(this.pagePanel)}}else if(this.pagePanel&&this.panelLoaded["Page"]?.loaded){const e=false;this.adjustStyleLayout(e)}}});return a});
//# sourceMappingURL=NewsAndPagesContainer.js.map