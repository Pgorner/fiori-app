/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *  * (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
"use strict";sap.ui.define(["sap/m/Button","sap/m/CustomListItem","sap/m/Dialog","sap/m/HBox","sap/m/Image","sap/m/Label","sap/m/Link","sap/m/List","sap/m/Text","sap/m/Title","sap/m/VBox","sap/ui/core/CustomData","sap/ui/core/Element","./BaseNewsItem"],function(e,t,s,i,n,o,a,l,r,u,w,d,c,p){"use strict";function h(e){return e&&e.__esModule&&typeof e.default!=="undefined"?e.default:e}const m=h(p);const g=m.extend("sap.cux.home.NewsGroup",{metadata:{library:"sap.cux.home",aggregations:{newsItems:{type:"sap.cux.home.NewsItem",singularName:"newsItem",multiple:true}}},constructor:function e(t,s){m.prototype.constructor.call(this,t,s)},init:function e(){m.prototype.init.call(this);this._oTile.attachPress(this,this.pressNewsItem.bind(this));this.createNewsGroupDialog()},pressNewsItem:function e(){void this.openNewsGroupDialog()},openNewsGroupDialog:function e(){try{const e=this;e.oNewsList.setBusy(true);const t=e.getParent();const s=e.getImageUrl();const i=t.getFavNewsFeed();const n={changeId:t.getCustomFeedKey(),title:e.getTitle(),showAllPreparationRequired:!i?true:i.showAllPreparationRequired};e.oNewsGroupDialog.open();const o=t.getNewsFeedDetailsUrl(n);return Promise.resolve(t.getAuthNewsFeed(o)).then(function(t){const i=t;e.oNewsGroupDialog.setTitle(e.getTitle());e.oNewsGroupImage.setSrc(s);e.loadNewsDetails(i)})}catch(e){return Promise.reject(e)}},loadNewsDetails:function e(t){this.oNewsList.destroyAggregation("items",true);(t||[]).forEach((e,t)=>{const s=this.generateNewsListTemplate(e,t);this.oNewsList.addItem(s)});this.oNewsList.setBusy(false)},generateNewsListTemplate:function s(n,l){const c=new w(this.getId()+"--idNewsFieldsBox"+"--"+l).addStyleClass("newsListItemContainer");(n?.expandFields||[]).forEach(e=>{c.addItem(new i("",{items:[new o("",{text:e.label+":",tooltip:e.label}),new r("",{text:e.value})]}).addStyleClass("newsListItemContainer"))});c.setVisible(false);return new t(this.getId()+"--idNewsDetailItem"+"--"+l,{content:[new w("",{items:[new u("",{text:n.Title.value,titleStyle:"H6"}),new r("",{text:n.Description.value}),new i("",{items:[new o("",{text:n.Type.label+":",tooltip:n.Type.label}),new r("",{text:n.Type.value})]}).addStyleClass("newsListItemContainer"),new i("",{items:[new o("",{text:this._i18nBundle.getText("readMoreLink")+":",tooltip:n.Link.value.label+""}),new a("",{href:n.Link.value.value+"",text:n.Link.text,target:"_blank"})]}).addStyleClass("newsListItemContainer"),c,new e("",{text:this._i18nBundle.getText("expand"),press:this.handleShowNewsFeedDetails.bind(this),customData:new d({key:"index",value:l})})]}).addStyleClass("newsListItemContainer")]}).addStyleClass("newsListItem")},createNewsGroupDialog:function t(){this.oNewsGroupImage=new n(this.getId()+"custNewsImage",{width:"100%",height:"15rem",src:"/resources/sap/cux/home/img/CustomNewsFeed/SupplyChain/3.jpg"});this.oNewsList=new l(this.getId()+"custNewsList",{});this.oNewsGroupDialog=new s(this.getId()+"custNewsFeedDetailsDialog",{title:this.getTitle(),contentWidth:"52rem",contentHeight:"100%",content:[this.oNewsGroupImage,this.oNewsList],buttons:[new e(this.getId()+"custNewsFeedDetailsCloseBtn",{text:this._i18nBundle.getText("Close"),press:this.closeNewsGroupDialog.bind(this),type:"Transparent"})]})},closeNewsGroupDialog:function e(){this.oNewsGroupDialog.close()},handleShowNewsFeedDetails:function e(t){const s=t.getSource().data("index");const i=c.getElementById(this.getId()+"--idNewsFieldsBox"+"--"+s);const n=i.getVisible();i.setVisible(!n);const o=n?this._i18nBundle.getText("expand"):this._i18nBundle.getText("collapse");t.getSource().setText(o)}});return g});
//# sourceMappingURL=NewsGroup.js.map