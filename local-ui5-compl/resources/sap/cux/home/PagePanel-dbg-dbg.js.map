{"version":3,"file":"PagePanel-dbg-dbg.js","names":["sap","ui","define","Button","FlexBox","GenericTile","IllustratedMessage","VBox","EventBus","DragDropInfo","sap_ui_core_library","__BasePagePanel","__MenuItem","__Page","___utils_Constants","___utils_Device","___utils_DragDropUtils","___utils_FESRUtil","__PageManager","__PersonalisationUtils","__UShellPersonalizer","_interopRequireDefault","obj","__esModule","default","dnd","BasePagePanel","MenuItem","Page","SETTINGS_PANELS_KEYS","DeviceType","attachKeyboardHandler","addFESRId","addFESRSemanticStepName","PageManager","PersonalisationUtils","UShellPersonalizer","maxTileSize","minTileSize","CustomFlexBox","extend","renderer","apiVersion","metadata","library","aggregations","items","type","multiple","singularName","draggable","droppable","constructor","_constructor","id","settings","FlexBox.prototype.constructor.call","PagePanel","properties","title","group","visibility","key","pages","_constructor2","BasePagePanel.prototype.constructor.call","persContainerId","getPersContainerId","PageManagerInstance","getInstance","getOwnerComponent","init","_init","BasePagePanel.prototype.init.call","_oWrapperFlexBox","justifyContent","height","width","direction","renderType","wrap","addStyleClass","addDragDropConfig","sourceAggregation","targetAggregation","dropPosition","DropPosition","Between","dropLayout","DropLayout","Horizontal","drop","oEvent","_handlePageDnd","attachBrowserEvent","event","dragDropEvent","_addContent","setProperty","_i18nBundle","getText","menuItem","getId","icon","press","_handleEditPages","addAggregation","oEventBus","subscribe","sChannelId","sEventId","oData","aFavPages","_getInnerControls","_importdone","getData","stateData","status","publish","_getData","forceUpdate","arguments","length","undefined","_this","_temp2","oPagePromise","_temp","getFavoritePages","Promise","resolve","then","e","reject","parent","getParent","_getLayout","openSettingsDialog","PAGES","attachResizeHandler","_attachResizeHandler","bIsNewsTileVisible","containerWidth","pagesContentWrapper","containerWrapper","iFavPagesCount","domRef","getDomRef","domRefClientWidth","clientWidth","pagesPerRow","tileWidth","wrapperWidth","gap","flexWrapperWidth","setAlignItems","spaceRequired","_setPropertyValues","hBoxWidth","pagesTileWidth","setWidth","_handleResizeForDesktop","oErr","Error","getUserAvailablePages","_getUserAvailablePages","_this2","fetchAllAvailablePages","sDeviceType","getDeviceType","pagesToDisplay","Math","ceil","Desktop","LargeDesktop","Tablet","myFavPage","oInnerControls","oParent","forEach","oPage","push","subTitle","spaceTitle","bgColor","BGColor","pageId","spaceId","url","oFav","header","getTitle","subheader","getSubTitle","onPageTilePress","sizeBehavior","state","frameType","mode","backgroundColor","getBgColor","tileIcon","getIcon","visible","renderOnThemeChange","ariaRole","dropAreaOffset","getProperty","panelLoadedFn","loaded","count","_setFavPagesContent","_setNoPageContent","removeAggregation","removeAllItems","oTile","addItem","_createNoPageContent","_oIllusMsg","illustrationSize","illustrationType","description","oAddPageBtn","text","tooltip","oWrapperNoPageVBox","backgroundDesign","addAdditionalContent","oVal","propNames","Object","keys","sProperty","_this3","sInsertPosition","getParameter","oDragItem","oDropItem","iDragItemIndex","indexOfItem","iDropItemIndex","_temp3","_DragnDropPages","_this4","_temp5","oPersonalizer","read","oPersData","favouritePages","write","oItemMoved","splice","_temp4","_UShellPersonalizer$g","applyColorPersonalizations","_applyColorPersonalizations","personalizations","applyIconPersonalizations","_applyIconPersonalizations"],"sources":["PagePanel.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\n\nimport Button from \"sap/m/Button\";\nimport FlexBox, { $FlexBoxSettings } from \"sap/m/FlexBox\";\nimport GenericTile from \"sap/m/GenericTile\";\nimport IllustratedMessage from \"sap/m/IllustratedMessage\";\nimport VBox from \"sap/m/VBox\";\nimport Event from \"sap/ui/base/Event\";\nimport Component from \"sap/ui/core/Component\";\nimport Control from \"sap/ui/core/Control\";\nimport { MetadataOptions } from \"sap/ui/core/Element\";\nimport EventBus from \"sap/ui/core/EventBus\";\nimport DragDropInfo from \"sap/ui/core/dnd/DragDropInfo\";\nimport { DropInfo$DropEventParameters } from \"sap/ui/core/dnd/DropInfo\";\nimport { dnd } from \"sap/ui/core/library\";\nimport BasePagePanel, { $BasePagePanelSettings } from \"./BasePagePanel\";\nimport MenuItem from \"./MenuItem\";\nimport NewsAndPagesContainer from \"./NewsAndPagesContainer\";\nimport Page from \"./Page\";\nimport { ISpacePagePersonalization } from \"./interface/KeyUserInterface\";\nimport { IPage } from \"./interface/PageSpaceInterface\";\nimport { SETTINGS_PANELS_KEYS } from \"./utils/Constants\";\nimport { DeviceType } from \"./utils/Device\";\nimport { attachKeyboardHandler } from \"./utils/DragDropUtils\";\nimport { addFESRId, addFESRSemanticStepName } from \"./utils/FESRUtil\";\nimport PageManager from \"./utils/PageManager\";\nimport PersonalisationUtils from \"./utils/PersonalisationUtils\";\nimport UShellPersonalizer from \"./utils/UshellPersonalizer\";\n\nconst maxTileSize = 15,\n\tminTileSize = 7;\n\n/**\n *\n * CustomFlexBox extending FlexBox to enable drag & drop.\n *\n * @extends sap.m.FlexBox\n *\n * @author SAP SE\n * @version 0.0.1\n * @since 1.122\n *\n * @internal\n * @experimental Since 1.121\n * @private\n *\n * @alias sap.cux.home.CustomFlexBox\n */\nclass CustomFlexBox extends FlexBox {\n\tconstructor(idOrSettings?: string | $FlexBoxSettings);\n\tconstructor(id?: string, settings?: $FlexBoxSettings);\n\tconstructor(id?: string, settings?: $FlexBoxSettings) {\n\t\tsuper(id, settings);\n\t}\n\n\tstatic readonly metadata: MetadataOptions = {\n\t\tlibrary: \"sap.cux.home\",\n\t\taggregations: {\n\t\t\titems: { type: \"sap.ui.core.Control\", multiple: true, singularName: \"item\", dnd: { draggable: true, droppable: true } }\n\t\t}\n\t};\n\tstatic renderer = {\n\t\tapiVersion: 2\n\t};\n}\n\n/**\n *\n * Panel class for managing and storing Pages.\n *\n * @extends sap.cux.home.BasePagePanel\n *\n * @author SAP SE\n * @version 0.0.1\n * @since 1.122\n *\n * @internal\n * @experimental Since 1.121\n * @public\n *\n * @alias sap.cux.home.PagePanel\n */\n\nexport default class PagePanel extends BasePagePanel {\n\tstatic readonly metadata: MetadataOptions = {\n\t\tlibrary: \"sap.cux.home\",\n\t\tproperties: {\n\t\t\t/**\n\t\t\t * Title for the page panel\n\t\t\t */\n\t\t\ttitle: { type: \"string\", group: \"Misc\", visibility: \"hidden\" },\n\t\t\t/**\n\t\t\t * Key for the page panel\n\t\t\t */\n\t\t\tkey: { type: \"string\", group: \"Misc\", visibility: \"hidden\" }\n\t\t},\n\t\taggregations: {\n\t\t\t/**\n\t\t\t * Aggregation of pages available within the page panel\n\t\t\t */\n\t\t\tpages: { type: \"sap.cux.home.Page\", singularName: \"page\", multiple: true, visibility: \"hidden\" }\n\t\t}\n\t};\n\tprivate _oWrapperFlexBox!: CustomFlexBox;\n\tprivate oPagePromise!: Promise<IPage[]> | null;\n\tprivate persContainerId: string = PersonalisationUtils.getPersContainerId(this);\n\tprivate PageManagerInstance: PageManager = PageManager.getInstance(\n\t\tthis.persContainerId,\n\t\tPersonalisationUtils.getOwnerComponent(this) as Component\n\t);\n\tprivate aFavPages!: IPage[];\n\tprivate oInnerControls!: GenericTile[];\n\tprivate _oIllusMsg!: IllustratedMessage;\n\tprivate oAddPageBtn!: Button;\n\tprivate oPersonalizer!: UShellPersonalizer;\n\tprivate oEventBus!: EventBus;\n\n\t/**\n\t * Constructor for a new Page panel.\n\t *\n\t * @param {string} [id] ID for the new control, generated automatically if an ID is not provided\n\t * @param {object} [settings] Initial settings for the new control\n\t */\n\tpublic constructor(id?: string, settings?: $BasePagePanelSettings) {\n\t\tsuper(id, settings);\n\t}\n\n\tinit() {\n\t\tsuper.init();\n\n\t\tthis._oWrapperFlexBox = new CustomFlexBox({\n\t\t\tjustifyContent: \"Start\",\n\t\t\theight: \"100%\",\n\t\t\twidth: \"100%\",\n\t\t\tdirection: \"Row\",\n\t\t\trenderType: \"Bare\",\n\t\t\twrap: \"Wrap\"\n\t\t}).addStyleClass(\"newsSlideFlexGap sapUiSmallMarginTop sapUiSmallMarginBottom\");\n\n\t\tthis._oWrapperFlexBox\n\t\t\t.addDragDropConfig(\n\t\t\t\tnew DragDropInfo({\n\t\t\t\t\tsourceAggregation: \"items\",\n\t\t\t\t\ttargetAggregation: \"items\",\n\t\t\t\t\tdropPosition: dnd.DropPosition.Between,\n\t\t\t\t\tdropLayout: dnd.DropLayout.Horizontal,\n\t\t\t\t\tdrop: (oEvent) => void this._handlePageDnd(oEvent)\n\t\t\t\t})\n\t\t\t)\n\t\t\t.attachBrowserEvent(\"keydown\", (event: KeyboardEvent) =>\n\t\t\t\tattachKeyboardHandler(event, true, (dragDropEvent: Event) => this._handlePageDnd(dragDropEvent))\n\t\t\t);\n\n\t\tthis._addContent(this._oWrapperFlexBox);\n\t\tthis.setProperty(\"title\", this._i18nBundle.getText(\"pageTitle\"));\n\n\t\tconst menuItem = new MenuItem(`${this.getId()}-managePages`, {\n\t\t\ttitle: this._i18nBundle.getText(\"mngPage\"),\n\t\t\ticon: \"sap-icon://edit\",\n\t\t\tpress: () => this._handleEditPages()\n\t\t});\n\t\tthis.addAggregation(\"menuItems\", menuItem);\n\t\taddFESRId(menuItem, \"managePages\");\n\t\tthis.oEventBus = EventBus.getInstance();\n\t\t// Subscribe to the event\n\t\tthis.oEventBus.subscribe(\n\t\t\t\"importChannel\",\n\t\t\t\"favPagesImport\",\n\t\t\t(sChannelId?: string, sEventId?: string, oData?) => {\n\t\t\t\tthis.aFavPages = oData as IPage[];\n\t\t\t\tthis._getInnerControls();\n\t\t\t\tthis._importdone();\n\t\t\t},\n\t\t\tthis\n\t\t);\n\n\t\t// Subscribe to page changes from pageManager\n\t\tthis.oEventBus.subscribe(\n\t\t\t\"pageChannel\",\n\t\t\t\"pageUpdated\",\n\t\t\t() => {\n\t\t\t\tvoid this.getData(true);\n\t\t\t},\n\t\t\tthis\n\t\t);\n\t}\n\n\tprivate _importdone() {\n\t\tconst stateData = { status: true };\n\t\tthis.oEventBus.publish(\"importChannel\", \"favPagesImported\", stateData);\n\t}\n\n\tpublic async getData(forceUpdate: boolean = false) {\n\t\tif (this.oPagePromise === undefined || this.oPagePromise === null || forceUpdate) {\n\t\t\tthis.oPagePromise = this.PageManagerInstance.getFavoritePages();\n\t\t\tconst aFavPages = await this.oPagePromise;\n\t\t\tthis.aFavPages = aFavPages;\n\t\t\tthis._getInnerControls();\n\t\t\tthis.oPagePromise = null;\n\t\t}\n\t\treturn this.oPagePromise;\n\t}\n\n\t/**\n\t * Handles the edit page event.\n\t * Opens the page dialog for managing page data.\n\t * @param {Event} oEvent - The event object.\n\t * @private\n\t */\n\tprivate _handleEditPages() {\n\t\tconst parent = this.getParent() as NewsAndPagesContainer;\n\t\tparent?._getLayout().openSettingsDialog(SETTINGS_PANELS_KEYS.PAGES);\n\t}\n\n\tpublic attachResizeHandler(\n\t\tbIsNewsTileVisible: boolean,\n\t\tcontainerWidth: number,\n\t\tpagesContentWrapper: FlexBox,\n\t\tcontainerWrapper: FlexBox\n\t) {\n\t\ttry {\n\t\t\tconst iFavPagesCount = this.aFavPages.length,\n\t\t\t\tdomRef = pagesContentWrapper.getDomRef() as Element;\n\n\t\t\tlet domRefClientWidth = 0;\n\t\t\tdomRefClientWidth = bIsNewsTileVisible ? domRef.clientWidth : containerWidth;\n\n\t\t\tlet pagesPerRow: number = 0,\n\t\t\t\ttileWidth,\n\t\t\t\twrapperWidth = domRefClientWidth / 16; // Divide by 16 to convert to rem,\n\t\t\tconst gap = 1,\n\t\t\t\tflexWrapperWidth = containerWidth || domRef.clientWidth;\n\n\t\t\tif (iFavPagesCount === 1) {\n\t\t\t\tcontainerWrapper.setAlignItems(\"Start\");\n\t\t\t}\n\n\t\t\tif (bIsNewsTileVisible && flexWrapperWidth >= 1520) {\n\t\t\t\t// As newsTile will grow till 40.75 rem, calculating the remaining width\n\t\t\t\twrapperWidth = flexWrapperWidth / 16 - 40.75;\n\t\t\t}\n\n\t\t\tif (iFavPagesCount > 0) {\n\t\t\t\tif (!bIsNewsTileVisible) {\n\t\t\t\t\t// If Space available display all tiles in a single row\n\t\t\t\t\tconst spaceRequired = iFavPagesCount * minTileSize + (iFavPagesCount - 1) * gap;\n\t\t\t\t\tif (spaceRequired <= wrapperWidth) {\n\t\t\t\t\t\tpagesPerRow = iFavPagesCount;\n\t\t\t\t\t\ttileWidth = (wrapperWidth - (pagesPerRow - 1) * gap) / pagesPerRow;\n\t\t\t\t\t\ttileWidth = tileWidth <= maxTileSize ? tileWidth : maxTileSize;\n\t\t\t\t\t\tthis._setPropertyValues({ hBoxWidth: wrapperWidth + \"rem\", pagesTileWidth: tileWidth + \"rem\" });\n\t\t\t\t\t\tpagesContentWrapper.setWidth(wrapperWidth + \"rem\");\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tpagesPerRow = this._handleResizeForDesktop(bIsNewsTileVisible, iFavPagesCount, pagesPerRow);\n\t\t\t\ttileWidth = (wrapperWidth - (pagesPerRow - 1) * gap) / pagesPerRow;\n\t\t\t\ttileWidth = tileWidth <= maxTileSize ? tileWidth : maxTileSize;\n\n\t\t\t\tconst hBoxWidth = pagesPerRow === 0 ? \"100%\" : pagesPerRow * tileWidth + pagesPerRow * gap + \"rem\";\n\t\t\t\tthis._setPropertyValues({ hBoxWidth: hBoxWidth, pagesTileWidth: tileWidth + \"rem\" });\n\t\t\t\tpagesContentWrapper.setWidth(wrapperWidth + \"rem\");\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\tpagesContentWrapper.setWidth(wrapperWidth + \"rem\");\n\t\t\treturn true;\n\t\t} catch (oErr) {\n\t\t\tif (oErr instanceof Error) {\n\t\t\t\tconsole.error(oErr.message);\n\t\t\t}\n\t\t\treturn false;\n\t\t}\n\t}\n\n\tpublic async getUserAvailablePages() {\n\t\treturn await this.PageManagerInstance.fetchAllAvailablePages();\n\t}\n\n\tprivate _handleResizeForDesktop(bIsNewsTileVisible: boolean, iFavPagesCount: number, pagesPerRow: number): number {\n\t\tconst sDeviceType = this.getDeviceType();\n\t\tconst pagesToDisplay = Math.ceil(iFavPagesCount >= 8 ? 4 : iFavPagesCount / 2);\n\t\tif (sDeviceType === DeviceType.Desktop || sDeviceType === DeviceType.LargeDesktop) {\n\t\t\tif (bIsNewsTileVisible) {\n\t\t\t\tpagesPerRow = pagesToDisplay;\n\t\t\t} else {\n\t\t\t\tpagesPerRow = iFavPagesCount <= 4 ? iFavPagesCount : pagesToDisplay;\n\t\t\t}\n\t\t} else if (sDeviceType === DeviceType.Tablet) {\n\t\t\tpagesPerRow = iFavPagesCount <= 4 ? iFavPagesCount : pagesToDisplay;\n\t\t}\n\t\treturn pagesPerRow;\n\t}\n\n\tprivate _getInnerControls() {\n\t\tconst myFavPage: Page[] = [];\n\t\tthis.oInnerControls = [];\n\t\tconst oParent = this.getParent() as NewsAndPagesContainer;\n\t\tif (this.aFavPages) {\n\t\t\tthis.aFavPages.forEach((oPage: IPage) => {\n\t\t\t\tmyFavPage.push(\n\t\t\t\t\tnew Page(\"\", {\n\t\t\t\t\t\ttitle: oPage.title,\n\t\t\t\t\t\tsubTitle: oPage.title === oPage.spaceTitle ? \"\" : oPage.spaceTitle,\n\t\t\t\t\t\ticon: oPage.icon,\n\t\t\t\t\t\tbgColor: oPage.BGColor as string,\n\t\t\t\t\t\tpageId: oPage.pageId,\n\t\t\t\t\t\tspaceId: oPage.spaceId,\n\t\t\t\t\t\tspaceTitle: oPage.spaceTitle,\n\t\t\t\t\t\turl: \"#Launchpad-openFLPPage?pageId=\" + oPage.pageId + \"&spaceId=\" + oPage.spaceId\n\t\t\t\t\t})\n\t\t\t\t);\n\t\t\t});\n\t\t\tmyFavPage.forEach((oFav: Page) => {\n\t\t\t\tthis.oInnerControls.push(\n\t\t\t\t\tnew GenericTile({\n\t\t\t\t\t\t// width: \"10rem\",\n\t\t\t\t\t\theader: oFav.getTitle(),\n\t\t\t\t\t\tsubheader: oFav.getSubTitle(),\n\t\t\t\t\t\tpress: () => void oFav.onPageTilePress(oFav),\n\t\t\t\t\t\tsizeBehavior: \"Responsive\",\n\t\t\t\t\t\tstate: \"Loaded\",\n\t\t\t\t\t\tframeType: \"OneByOne\",\n\t\t\t\t\t\tmode: \"IconMode\",\n\t\t\t\t\t\tbackgroundColor: oFav.getBgColor(),\n\t\t\t\t\t\ttileIcon: oFav.getIcon(),\n\t\t\t\t\t\tvisible: true,\n\t\t\t\t\t\trenderOnThemeChange: true,\n\t\t\t\t\t\tariaRole: \"listitem\",\n\t\t\t\t\t\tdropAreaOffset: 8,\n\t\t\t\t\t\turl: oFav.getProperty(\"url\") as string\n\t\t\t\t\t})\n\t\t\t\t);\n\t\t\t\tthis.addAggregation(\"pages\", oFav, true);\n\t\t\t});\n\n\t\t\tthis._oWrapperFlexBox.setAlignItems(this.aFavPages.length == 1 ? \"Start\" : \"Center\");\n\n\t\t\tif (this.aFavPages.length) {\n\t\t\t\toParent?.panelLoadedFn(\"Page\", { loaded: true, count: this.aFavPages.length });\n\t\t\t\tthis._setFavPagesContent();\n\t\t\t} else {\n\t\t\t\toParent?.panelLoadedFn(\"Page\", { loaded: true, count: 0 });\n\t\t\t\tthis._setNoPageContent();\n\t\t\t}\n\t\t} else {\n\t\t\toParent?.panelLoadedFn(\"Page\", { loaded: false, count: 0 });\n\t\t\tthis.removeAggregation(\"content\", this._oWrapperFlexBox);\n\t\t}\n\t}\n\n\tprivate _setFavPagesContent() {\n\t\tthis._oWrapperFlexBox.removeAllItems();\n\t\tthis.oInnerControls.forEach((oTile: GenericTile) => {\n\t\t\tthis._oWrapperFlexBox.addItem(oTile);\n\t\t});\n\t}\n\n\tprivate _createNoPageContent() {\n\t\tif (!this._oIllusMsg) {\n\t\t\tthis._oIllusMsg = new IllustratedMessage(this.getId() + \"--idNoPages\", {\n\t\t\t\tillustrationSize: \"Spot\",\n\t\t\t\tillustrationType: \"sapIllus-SimpleNoSavedItems\",\n\t\t\t\ttitle: this._i18nBundle.getText(\"noDataPageTitle\"),\n\t\t\t\tdescription: this._i18nBundle.getText(\"noPageDescription\")\n\t\t\t}).addStyleClass(\"myHomeIllustratedMsg myHomeIllustratedMessageAlign\");\n\t\t\tthis.oAddPageBtn = new Button(this.getId() + \"--idAddPageBtn\", {\n\t\t\t\ttext: this._i18nBundle.getText(\"addPage\"),\n\t\t\t\ttooltip: this._i18nBundle.getText(\"addPage\"),\n\t\t\t\ttype: \"Emphasized\",\n\t\t\t\tpress: () => this._handleEditPages()\n\t\t\t});\n\t\t\taddFESRSemanticStepName(this.oAddPageBtn, \"press\", \"addPages\");\n\t\t}\n\t}\n\n\tprivate _setNoPageContent() {\n\t\tconst oWrapperNoPageVBox = new VBox({\n\t\t\twidth: \"100%\",\n\t\t\theight: \"17rem\",\n\t\t\tbackgroundDesign: \"Solid\",\n\t\t\tjustifyContent: \"Center\"\n\t\t}).addStyleClass(\"sapUiRoundedBorder noCardsBorder\");\n\t\tthis._createNoPageContent();\n\t\tthis._oIllusMsg.addAdditionalContent(this.oAddPageBtn);\n\t\tthis._oWrapperFlexBox.removeAllItems();\n\t\tthis._oWrapperFlexBox.addStyleClass(\"pagesFlexBox\");\n\t\toWrapperNoPageVBox.addItem(this._oIllusMsg);\n\t\tthis._oWrapperFlexBox.addItem(oWrapperNoPageVBox);\n\t}\n\n\tprivate _setPropertyValues(oVal: { hBoxWidth: string; pagesTileWidth: string }) {\n\t\tconst propNames = Object.keys(oVal);\n\t\tpropNames.forEach((sProperty: string) => {\n\t\t\tif (sProperty === \"hBoxWidth\") {\n\t\t\t\tthis._oWrapperFlexBox.setProperty(\"width\", oVal[sProperty]);\n\t\t\t} else if (sProperty === \"pagesTileWidth\" && this.oInnerControls.length) {\n\t\t\t\tthis.oInnerControls.forEach(function (oTile) {\n\t\t\t\t\toTile.setProperty(\"width\", oVal[sProperty]);\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t}\n\n\tprivate async _handlePageDnd(oEvent: Event<DropInfo$DropEventParameters>) {\n\t\tconst sInsertPosition = oEvent.getParameter?.(\"dropPosition\"),\n\t\t\toDragItem = oEvent?.getParameter?.(\"draggedControl\") as Control,\n\t\t\toDropItem = oEvent.getParameter(\"droppedControl\") as Control,\n\t\t\tiDragItemIndex = (oDragItem.getParent() as FlexBox)?.indexOfItem(oDragItem);\n\t\tlet iDropItemIndex = (oDragItem.getParent() as FlexBox)?.indexOfItem(oDropItem);\n\n\t\tif (sInsertPosition === \"Before\" && iDragItemIndex === iDropItemIndex - 1) {\n\t\t\tiDropItemIndex--;\n\t\t} else if (sInsertPosition === \"After\" && iDragItemIndex === iDropItemIndex + 1) {\n\t\t\tiDropItemIndex++;\n\t\t}\n\n\t\tif (iDragItemIndex !== iDropItemIndex) {\n\t\t\tawait this._DragnDropPages(iDragItemIndex, iDropItemIndex, sInsertPosition as string);\n\t\t}\n\t}\n\n\tprivate async _DragnDropPages(iDragItemIndex: number, iDropItemIndex: number, sInsertPosition: string) {\n\t\tif (sInsertPosition === \"Before\" && iDragItemIndex < iDropItemIndex) {\n\t\t\tiDropItemIndex--;\n\t\t} else if (sInsertPosition === \"After\" && iDragItemIndex > iDropItemIndex) {\n\t\t\tiDropItemIndex++;\n\t\t}\n\t\t// take the moved item from dragIndex and add to dropindex\n\t\tconst oItemMoved = this.aFavPages.splice(iDragItemIndex, 1)[0];\n\t\tthis.aFavPages.splice(iDropItemIndex, 0, oItemMoved);\n\t\tthis._getInnerControls();\n\n\t\tif (this.oPersonalizer === undefined) {\n\t\t\tthis.oPersonalizer = await UShellPersonalizer.getInstance(\n\t\t\t\tthis.persContainerId,\n\t\t\t\tPersonalisationUtils.getOwnerComponent(this) as Component\n\t\t\t);\n\t\t}\n\n\t\tlet oPersData = await this.oPersonalizer.read();\n\t\tif (!oPersData) oPersData = { favouritePages: [] };\n\t\toPersData.favouritePages = this.aFavPages;\n\t\tawait this.oPersonalizer.write(oPersData);\n\t}\n\n\tpublic applyColorPersonalizations(personalizations: Array<ISpacePagePersonalization>) {\n\t\tvoid this.PageManagerInstance?.applyColorPersonalizations(personalizations);\n\t}\n\n\tpublic applyIconPersonalizations(personalizations: Array<ISpacePagePersonalization>) {\n\t\tvoid this.PageManagerInstance?.applyIconPersonalizations(personalizations);\n\t}\n}\n"],"mappings":"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","ignoreList":[]}