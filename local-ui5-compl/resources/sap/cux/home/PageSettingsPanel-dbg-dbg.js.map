{"version":3,"file":"PageSettingsPanel-dbg-dbg.js","names":["sap","ui","define","CustomListItem","HBox","List","Panel","SearchField","Text","Title","ToggleButton","Toolbar","ToolbarSpacer","VBox","__BaseSettingsPanel","___utils_Constants","__PageManager","__PersonalisationUtils","_interopRequireDefault","obj","__esModule","default","BaseSettingsPanel","PAGE_SELECTION_LIMIT","SETTINGS_PANELS_KEYS","PageManager","PersonalisationUtils","PageSettingsPanel","extend","constructor","prototype","apply","arguments","_initialNavigation","init","_init","BaseSettingsPanel.prototype.init.call","setProperty","PAGES","_i18nBundle","getText","oWrapperVBox","getId","width","addStyleClass","addAggregation","attachPanelNavigated","onPanelNavigated","_onPanelNavigated","_this","_temp2","oSearchField","getValue","setValue","sSearchQuery","_renderPages","aSpaces","_temp","Promise","resolve","_initializePanel","then","e","reject","_this2","PageManagerInstance","getInstance","getPersContainerId","_getPanel","getOwnerComponent","fetchAllAvailablePages","_this2$PageManagerIns","aAllPages","getFavoritePages","_this2$PageManagerIns2","aFavPages","fetchAllAvailableSpaces","_this2$PageManagerIns3","_showMessageStrip","_showToolbar","_showPagesList","oMessageStripVBox","oMessage","_seHeaderMessage","addItem","setText","length","oTitle","text","titleStyle","liveChange","oEvent","_onPagesSearch","oToolbar","height","design","content","oPagesListVBox","_createPagesList","oPage","oText","label","oToggleBtn","tooltip","selected","icon","type","pressed","enabled","press","_pageSelectHandler","id","oHBox","justifyContent","alignItems","items","oCustomListItem","pageSettingsPage","getParent","scrollContainerDomRef","getDomRef","childNodes","currentScrollPosition","scrollTop","removeAllItems","oNoDataHBox","setVisible","forEach","oSpace","aPagesList","children","find","oFavPage","pageId","push","oHeaderToolbar","_createHeaderToolbar","oPanel","expandable","expanded","headerToolbar","setTimeout","scrollTo","wrapping","sPageId","_this3","bIsCheckBoxSelected","getSource","getPressed","oPageObj","iIndex","findIndex","splice","getFavPages","aFilteredSpaces","_filterSpacesPages","getData","toLowerCase","spaceLabel","includes"],"sources":["PageSettingsPanel.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\n\nimport CustomListItem from \"sap/m/CustomListItem\";\nimport HBox from \"sap/m/HBox\";\nimport List from \"sap/m/List\";\nimport Page from \"sap/m/Page\";\nimport Panel from \"sap/m/Panel\";\nimport SearchField from \"sap/m/SearchField\";\nimport Text from \"sap/m/Text\";\nimport Title from \"sap/m/Title\";\nimport ToggleButton from \"sap/m/ToggleButton\";\nimport Toolbar from \"sap/m/Toolbar\";\nimport ToolbarSpacer from \"sap/m/ToolbarSpacer\";\nimport VBox from \"sap/m/VBox\";\nimport Event from \"sap/ui/base/Event\";\nimport Component from \"sap/ui/core/Component\";\nimport BaseSettingsPanel from \"./BaseSettingsPanel\";\nimport PagePanel from \"./PagePanel\";\nimport { IPage, ISpace } from \"./interface/PageSpaceInterface\";\nimport { PAGE_SELECTION_LIMIT, SETTINGS_PANELS_KEYS } from \"./utils/Constants\";\nimport PageManager from \"./utils/PageManager\";\nimport PersonalisationUtils from \"./utils/PersonalisationUtils\";\n\n/**\n *\n * Class for My Home Page Settings Panel.\n *\n * @extends BaseSettingsPanel\n *\n * @author SAP SE\n * @version 0.0.1\n * @since 1.121\n *\n * @internal\n * @experimental Since 1.121\n * @private\n *\n * @alias sap.cux.home.PageSettingsPanel\n */\nexport default class PageSettingsPanel extends BaseSettingsPanel {\n\tprivate PageManagerInstance!: PageManager;\n\tprivate aAllPages!: IPage[];\n\tprivate aFavPages!: IPage[];\n\tprivate aSpaces!: ISpace[];\n\tprivate oWrapperVBox!: VBox;\n\tprivate oSearchField!: SearchField;\n\tprivate sSearchQuery!: string;\n\tprivate oMessage!: Text;\n\tprivate oPagesListVBox!: VBox;\n\tprivate oNoDataHBox!: HBox;\n\tprivate _initialNavigation: boolean = true;\n\t/**\n\t * Init lifecycle method\n\t *\n\t * @public\n\t * @override\n\t */\n\tpublic init() {\n\t\tsuper.init();\n\n\t\t//setup panel\n\t\tthis.setProperty(\"key\", SETTINGS_PANELS_KEYS.PAGES);\n\t\tthis.setProperty(\"title\", this._i18nBundle.getText(\"pages\"));\n\t\tthis.setProperty(\"icon\", \"sap-icon://course-book\");\n\t\tthis.oWrapperVBox = new VBox(`${this.getId()}--pageSettingsWrapper`, {\n\t\t\twidth: \"100%\"\n\t\t}).addStyleClass(\"sapUiNoPadding sapUiNoMarginEnd\");\n\t\tthis.addAggregation(\"content\", this.oWrapperVBox);\n\n\t\t//fired every time on panel navigation\n\t\tthis.attachPanelNavigated(() => {\n\t\t\tvoid this.onPanelNavigated();\n\t\t});\n\t}\n\n\t/**\n\t * Handler for panel navigation event.\n\t * Initialize the Page Settings Panel on navigation, if it is not already initializaed.\n\t * @private\n\t */\n\tprivate async onPanelNavigated() {\n\t\tif (this._initialNavigation) {\n\t\t\tthis._initialNavigation = false;\n\t\t\tawait this._initializePanel();\n\t\t}\n\t\t// Clear Search field and search results\n\t\tif (this.oSearchField?.getValue()) {\n\t\t\tthis.oSearchField.setValue(\"\");\n\t\t\tthis.sSearchQuery = \"\";\n\t\t\tthis._renderPages(this.aSpaces);\n\t\t}\n\t}\n\n\t/**\n\t * Initialize the Page Settings Panel.\n\t * @private\n\t */\n\tprivate async _initializePanel() {\n\t\tif (!this.PageManagerInstance) {\n\t\t\t// initializing the page manager instance on panel navigation, as when on init is triggered, the panel assocation is not yet set\n\t\t\t// we are using this._getPanel() (i.e. corresponding panel) instead of this, as settings panel don't have an ownerId\n\t\t\tthis.PageManagerInstance = PageManager.getInstance(\n\t\t\t\tPersonalisationUtils.getPersContainerId(this._getPanel()),\n\t\t\t\tPersonalisationUtils.getOwnerComponent(this._getPanel()) as Component\n\t\t\t);\n\t\t}\n\t\tthis.aAllPages = await this.PageManagerInstance.fetchAllAvailablePages();\n\t\tthis.aFavPages = await this.PageManagerInstance.getFavoritePages();\n\t\tthis.aSpaces = await this.PageManagerInstance.fetchAllAvailableSpaces();\n\t\tthis._showMessageStrip();\n\t\tthis._showToolbar();\n\t\tthis._showPagesList();\n\t}\n\n\tprivate _showMessageStrip() {\n\t\tconst oMessageStripVBox = new VBox(`${this.getId()}--msgStripContainer`, {\n\t\t\twidth: \"100%\"\n\t\t}).addStyleClass(\"sapUiNoPadding sapUiNoMarginEnd\");\n\t\tthis.oMessage = new Text(`${this.getId()}--msgStripText`).addStyleClass(\"sapUiSmallMargin\");\n\t\tthis._seHeaderMessage();\n\t\toMessageStripVBox.addItem(this.oMessage);\n\t\tthis.oWrapperVBox.addItem(oMessageStripVBox);\n\t}\n\n\tprivate _seHeaderMessage() {\n\t\tthis.oMessage.setText(\n\t\t\tthis.aFavPages.length >= PAGE_SELECTION_LIMIT\n\t\t\t\t? this._i18nBundle.getText(\"myInterestwarning\")\n\t\t\t\t: this._i18nBundle.getText(\"myInterestinfo\")\n\t\t);\n\t}\n\n\tprivate _showToolbar() {\n\t\tconst oTitle = new Title(`${this.getId()}--pagesListTitle`, {\n\t\t\ttext: this._i18nBundle.getText(\"pageGroupHeader\"),\n\t\t\ttitleStyle: \"H5\"\n\t\t}).addStyleClass(\"sapUiSmallMarginBottom\");\n\n\t\tthis.oSearchField = new SearchField(`${this.getId()}--pagesListSearch`, {\n\t\t\tliveChange: (oEvent) => this._onPagesSearch(oEvent),\n\t\t\twidth: \"13.75rem\"\n\t\t}).addStyleClass(\"sapUiSmallMarginBottom\");\n\n\t\tconst oToolbar = new Toolbar(`${this.getId()}--pagesListToolbar`, {\n\t\t\twidth: \"calc(100% - 2rem)\",\n\t\t\theight: \"3rem\",\n\t\t\tdesign: \"Solid\",\n\t\t\tcontent: [oTitle, new ToolbarSpacer(`${this.getId()}--pagesHeaderToolbarSpacer`), this.oSearchField]\n\t\t}).addStyleClass(\"sapUiSmallMarginBegin pagesToolbarNoPadding\");\n\t\tthis.oWrapperVBox.addItem(oToolbar);\n\t}\n\n\tprivate _showPagesList() {\n\t\tthis.oPagesListVBox = new VBox(`${this.getId()}--pagesListVBox`, {\n\t\t\twidth: \"calc(100% - 2rem)\"\n\t\t}).addStyleClass(\"sapUiSmallMarginBegin\");\n\t\tthis._renderPages(this.aSpaces);\n\t\tthis.oWrapperVBox.addItem(this.oPagesListVBox);\n\t}\n\n\tprivate _createPagesList(oPage: IPage): CustomListItem {\n\t\tconst oText = new Text({\n\t\t\ttext: oPage.label\n\t\t});\n\t\tconst oToggleBtn = new ToggleButton({\n\t\t\ttooltip: oPage.selected ? this._i18nBundle.getText(\"hideBtn\") : this._i18nBundle.getText(\"showBtn\"),\n\t\t\ticon: \"sap-icon://show\",\n\t\t\ttype: \"Emphasized\",\n\t\t\tpressed: !oPage.selected,\n\t\t\tenabled: oPage.selected || this.aFavPages.length < PAGE_SELECTION_LIMIT,\n\t\t\tpress: (oEvent) => void this._pageSelectHandler(oPage.id as string, oEvent)\n\t\t});\n\t\tconst oHBox = new HBox({\n\t\t\tjustifyContent: \"SpaceBetween\",\n\t\t\talignItems: \"Center\",\n\t\t\titems: [oText, oToggleBtn]\n\t\t});\n\t\tconst oCustomListItem = new CustomListItem({\n\t\t\tcontent: [oHBox]\n\t\t}).addStyleClass(\"pagesPanelItem\");\n\t\treturn oCustomListItem;\n\t}\n\n\tprivate _renderPages(aSpaces: ISpace[]) {\n\t\tconst pageSettingsPage = this.oPagesListVBox.getParent()?.getParent() as Page;\n\t\tconst scrollContainerDomRef = pageSettingsPage?.getDomRef()?.childNodes[1] as Element;\n\t\tconst currentScrollPosition = scrollContainerDomRef?.scrollTop || 0;\n\t\tthis.oPagesListVBox.removeAllItems();\n\t\tif (!aSpaces.length) {\n\t\t\tif (!this.oNoDataHBox) {\n\t\t\t\tthis.oNoDataHBox = new HBox(`${this.getId()}--noSpacePageHBox`, {\n\t\t\t\t\theight: \"3rem\",\n\t\t\t\t\tjustifyContent: \"Center\",\n\t\t\t\t\talignItems: \"Center\",\n\t\t\t\t\titems: [\n\t\t\t\t\t\tnew Text({\n\t\t\t\t\t\t\ttext: this._i18nBundle.getText(\"noData\")\n\t\t\t\t\t\t})\n\t\t\t\t\t]\n\t\t\t\t}).addStyleClass(\"pagesBottomBorder\");\n\t\t\t\tthis.oWrapperVBox.addItem(this.oNoDataHBox);\n\t\t\t}\n\t\t\tthis.oNoDataHBox.setVisible(true);\n\t\t} else if (this.oNoDataHBox) {\n\t\t\tthis.oNoDataHBox.setVisible(false);\n\t\t}\n\n\t\taSpaces.forEach((oSpace) => {\n\t\t\tconst aPagesList: CustomListItem[] = [];\n\t\t\toSpace.children.forEach((oPage) => {\n\t\t\t\toPage.selected = this.aFavPages.find((oFavPage) => oFavPage.pageId === oPage.id) ? true : false;\n\t\t\t\taPagesList.push(this._createPagesList(oPage));\n\t\t\t});\n\t\t\tconst oHeaderToolbar = this._createHeaderToolbar(oSpace);\n\t\t\tconst oPanel = new Panel(\"\", {\n\t\t\t\texpandable: true,\n\t\t\t\texpanded: true,\n\t\t\t\twidth: \"auto\",\n\t\t\t\theaderToolbar: oHeaderToolbar,\n\t\t\t\tcontent: new List({\n\t\t\t\t\titems: aPagesList\n\t\t\t\t})\n\t\t\t}).addStyleClass(\"pagesPanel\");\n\t\t\tthis.oPagesListVBox.addItem(oPanel);\n\t\t});\n\t\tif (currentScrollPosition >= 0 && pageSettingsPage) {\n\t\t\tsetTimeout(() => {\n\t\t\t\tpageSettingsPage.scrollTo(currentScrollPosition);\n\t\t\t}, 0);\n\t\t}\n\t}\n\n\tprivate _createHeaderToolbar(oSpace: ISpace) {\n\t\tconst oTitle = new Title({\n\t\t\twrapping: true,\n\t\t\twidth: \"16rem\",\n\t\t\ttext: oSpace.label\n\t\t}).addStyleClass(\"dialogPanelTitle\");\n\t\tconst oToolbar = new Toolbar({\n\t\t\tdesign: \"Solid\",\n\t\t\tcontent: [oTitle]\n\t\t});\n\t\treturn oToolbar;\n\t}\n\n\tprivate async _pageSelectHandler(sPageId: string, oEvent: { getSource: () => { getPressed: () => boolean } }) {\n\t\tconst bIsCheckBoxSelected = !oEvent.getSource().getPressed();\n\t\tconst oPageObj = this.aAllPages.find((oPage) => oPage.pageId === sPageId);\n\t\tif (!oPageObj) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif (bIsCheckBoxSelected) {\n\t\t\tthis.aFavPages.push(oPageObj);\n\t\t} else {\n\t\t\tconst iIndex = this.aFavPages.findIndex((oPage) => oPage.pageId === sPageId);\n\t\t\tthis.aFavPages.splice(iIndex, 1);\n\t\t}\n\t\tthis._seHeaderMessage();\n\t\tawait this.PageManagerInstance.getFavPages(this.aFavPages, true);\n\t\tlet aFilteredSpaces;\n\t\tif (this.sSearchQuery?.length) {\n\t\t\taFilteredSpaces = this._filterSpacesPages();\n\t\t}\n\t\tthis._renderPages(aFilteredSpaces || this.aSpaces);\n\t\tvoid (this._getPanel() as PagePanel).getData();\n\t}\n\n\tprivate _onPagesSearch(oEvent: Event) {\n\t\tthis.sSearchQuery = oEvent.getSource<SearchField>().getValue().toLowerCase();\n\t\tconst aFilteredSpaces = this._filterSpacesPages();\n\t\tthis._renderPages(aFilteredSpaces);\n\t}\n\n\tprivate _filterSpacesPages() {\n\t\tconst aFilteredSpaces: ISpace[] = [];\n\t\tthis.aSpaces.forEach((oSpace) => {\n\t\t\tconst children: IPage[] = [];\n\t\t\tconst spaceLabel = oSpace.label;\n\t\t\toSpace.children.forEach((oPage) => {\n\t\t\t\tif (oPage.label?.toLowerCase().includes(this.sSearchQuery) || spaceLabel?.toLowerCase().includes(this.sSearchQuery)) {\n\t\t\t\t\tchildren.push(oPage);\n\t\t\t\t}\n\t\t\t});\n\t\t\tif (children.length) {\n\t\t\t\taFilteredSpaces.push({\n\t\t\t\t\t...oSpace,\n\t\t\t\t\tchildren\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t\treturn aFilteredSpaces;\n\t}\n}\n"],"mappings":"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","ignoreList":[]}