{"version":3,"file":"RecentAppPanel-dbg-dbg.js","names":["sap","ui","define","Log","Button","CustomListItem","Dialog","GroupHeaderListItem","sap_m_library","List","OverflowToolbar","Select","StandardListItem","ToolbarSpacer","VBox","DateFormat","Item","Container","EventHub","__BaseAppPersPanel","__MenuItem","___utils_FESRUtil","_interopRequireDefault","obj","__esModule","default","_catch","body","recover","result","e","then","URLHelper","BaseAppPersPanel","MenuItem","addFESRId","DateFilterOption","GroupDateFormatter","getDateInstance","pattern","Constants","OLDER_DATE_TIMESTAMP","Number","MIN_SAFE_INTEGER","formatConstantTimeInDate","date","setHours","getWeekRangeValues","weekOffset","currentDate","Date","startDate","startDateTimeStamp","setDate","getDate","getDay","endDate","endDateTimeStamp","getDaysBefore","currentTimeStamp","days","newDateStamp","isDateWithinRange","appTimeStamp","startTimeStamp","endTimeStamp","RecentAppPanel","extend","metadata","library","defaultAggregation","aggregations","apps","type","singularName","multiple","visibility","constructor","_constructor","id","settings","BaseAppPersPanel.prototype.constructor.call","_recentApps","setSupported","init","_init","BaseAppPersPanel.prototype.init.call","setProperty","_i18nBundle","getText","_attachUserActivityTracking","on","do","refresh","showHistoryMenuItem","getId","title","icon","press","_openHistoryDialog","bind","insertAggregation","loadApps","_loadApps","_this","Promise","resolve","_getRecentApps","recentApps","map","app","menuItems","_getAppActions","addedInFavorites","destroyAggregation","setApps","generateApps","reject","_this2","getServiceAsync","UserRecentsService","all","getRecentActivity","oRecentActivity","_getRecentActivitiesFromLoadedData","_ref","recentActivities","recentActivitiesUsageData","convertActivitiesToVisualizations","_this2$convertActivit","recentDate","recentDay","_recentDayTimeStamp","recentUsage","recentUsageArray","recentUsageMap","Map","forEach","oItem","appId","set","aUsageArray","dateStamp","timestamp","size","usageArray","get","orgAppId","error","isAppAddedInFavorite","arguments","length","undefined","resumeLastActivityItem","_resumeAppActivity","appActions","addToFavoritesItem","event","_addAppToFavorites","push","menuItem","getSource","getParent","url","getUrl","redirect","_generateHistoryDialog","_controlMap","content","height","items","_generateAppHistoryList","addStyleClass","escapeHandler","_closeHistoryDialog","contentHeight","contentWidth","buttons","text","growing","growingScrollToLoad","headerToolbar","style","_generateAppHistoryListFilter","selectedKey","ALL","change","_onDateFilterChange","key","TODAY","WEEK","TWO_WEEK","THREE_WEEK","_generateAppHistoryListItems","appHistoryItems","appHistoryList","destroyItems","appHistoryItem","addItem","_getGroupHeader","name","historyDialog","appHistory","_getAppHistory","open","close","getParameter","getKey","filteredAppHistory","_getFilteredAppHistory","sTitle","format","groupedAppHistory","thresholdTimeStamp","recentApp","appUsage","usage","index","usageDate","Object","values","sort","a","b","filter","currentWeekStartDate","currentWeekEndDate","secondWeekStartDate","thirdWeekStartDate","generateIllustratedMessage","_generateIllustratedMessage","illustratedMessage","BaseAppPersPanel.prototype.generateIllustratedMessage.call","setDescription"],"sources":["RecentAppPanel.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\n\nimport Log from \"sap/base/Log\";\nimport Button from \"sap/m/Button\";\nimport CustomListItem from \"sap/m/CustomListItem\";\nimport Dialog from \"sap/m/Dialog\";\nimport GroupHeaderListItem from \"sap/m/GroupHeaderListItem\";\nimport { URLHelper } from \"sap/m/library\";\nimport List from \"sap/m/List\";\nimport OverflowToolbar from \"sap/m/OverflowToolbar\";\nimport Select, { Select$ChangeEvent } from \"sap/m/Select\";\nimport StandardListItem from \"sap/m/StandardListItem\";\nimport ToolbarSpacer from \"sap/m/ToolbarSpacer\";\nimport VBox from \"sap/m/VBox\";\nimport Event from \"sap/ui/base/Event\";\nimport type { MetadataOptions } from \"sap/ui/core/Element\";\nimport DateFormat from \"sap/ui/core/format/DateFormat\";\nimport Item from \"sap/ui/core/Item\";\nimport Container from \"sap/ushell/Container\";\nimport EventHub from \"sap/ushell/EventHub\";\nimport UserRecents from \"sap/ushell/services/UserRecents\";\nimport App from \"./App\";\nimport BaseAppPersPanel, { $BaseAppPersPanelSettings } from \"./BaseAppPersPanel\";\nimport { IActivity } from \"./interface/AppsInterface\";\nimport MenuItem from \"./MenuItem\";\nimport { addFESRId } from \"./utils/FESRUtil\";\n\ninterface IAppHistoryItem {\n\tname: string;\n}\n\ninterface IAppHistory {\n\tdateStamp: number;\n\tapps: IAppHistoryItem[];\n}\n\nenum DateFilterOption {\n\tALL = \"ALL\",\n\tTODAY = \"TODAY\",\n\tWEEK = \"WEEK\",\n\tTWO_WEEK = \"TWO_WEEK\",\n\tTHREE_WEEK = \"THREE_WEEK\"\n}\n\nconst GroupDateFormatter = DateFormat.getDateInstance({ pattern: \"MMMM d, yyyy\" });\n\nconst Constants = {\n\tOLDER_DATE_TIMESTAMP: Number.MIN_SAFE_INTEGER\n};\n\nconst formatConstantTimeInDate = (date: Date): number => {\n\treturn date.setHours(12, 0, 0, 0);\n};\n\n/**\n * Calculates the start and end dates of a week based on the given week offset.\n * @param weekOffset - The offset from the current week.\n * @returns An object containing the start and end dates of the week.\n */\nconst getWeekRangeValues = (weekOffset: number) => {\n\tconst currentDate = new Date();\n\n\t// Calculate the start of the current week (with sunday as the first day of the week)\n\tconst startDate = new Date(currentDate);\n\tconst startDateTimeStamp = startDate.setDate(currentDate.getDate() - currentDate.getDay() - 7 * weekOffset);\n\n\t// Calculate the end of the week\n\tconst endDate = new Date(startDate);\n\tconst endDateTimeStamp = endDate.setDate(startDate.getDate() + 6);\n\n\treturn {\n\t\tstartDate: startDateTimeStamp,\n\t\tendDate: endDateTimeStamp\n\t};\n};\n\n/**\n * Calculates the timestamp of a date, that is a specified number of days before a given current date.\n *\n * @param {Date} currentTimeStamp - The current date to calculate days before.\n * @param {number} days - The number of days before the current date.\n * @returns {number} The timestamp of the date `days` before `currentDate`.\n */\nconst getDaysBefore = (currentTimeStamp: number, days: number): number => {\n\tconst currentDate = new Date(currentTimeStamp);\n\tconst newDateStamp = currentDate.setDate(currentDate.getDate() - days);\n\treturn formatConstantTimeInDate(new Date(newDateStamp));\n};\n\n/**\n * Filters an app by date.\n * @private\n * @param {number} appTimeStamp - The timestamp of the app.\n * @param {number} startTimeStamp - The start timestamp for filtering.\n * @param {number} endTimeStamp - The end timestamp for filtering.\n * @returns A boolean indicating whether the app falls within the specified date range.\n */\nconst isDateWithinRange = (appTimeStamp: number, startTimeStamp: number, endTimeStamp: number) => {\n\treturn appTimeStamp >= startTimeStamp && appTimeStamp <= endTimeStamp;\n};\n\n/**\n *\n * Provides class for managing Recently Used apps.\n *\n * @extends sap.cux.home.BaseAppPersPanel\n *\n * @author SAP SE\n * @version 0.0.1\n * @since 1.121.0\n *\n * @internal\n * @experimental Since 1.121\n * @public\n *\n * @alias sap.cux.home.RecentAppPanel\n */\nexport default class RecentAppPanel extends BaseAppPersPanel {\n\tprivate _recentDayTimeStamp!: number;\n\tprivate _recentApps: IActivity[] = [];\n\tstatic readonly metadata: MetadataOptions = {\n\t\tlibrary: \"sap.cux.home\",\n\t\tdefaultAggregation: \"apps\",\n\t\taggregations: {\n\t\t\t/**\n\t\t\t * Apps aggregation for Recent apps\n\t\t\t */\n\t\t\tapps: { type: \"sap.cux.home.App\", singularName: \"app\", multiple: true, visibility: \"hidden\" }\n\t\t}\n\t};\n\n\t/**\n\t * Constructor for a new Recently Used apps Panel.\n\t *\n\t * @param {string} [id] ID for the new control, generated automatically if an ID is not provided\n\t * @param {object} [settings] Initial settings for the new control\n\t */\n\tpublic constructor(id?: string, settings?: $BaseAppPersPanelSettings) {\n\t\tsuper(id, settings);\n\t\tthis.setSupported(false);\n\t}\n\n\tpublic init() {\n\t\tsuper.init();\n\t\tthis.setProperty(\"key\", \"recentApps\");\n\t\tthis.setProperty(\"title\", this._i18nBundle.getText(\"recentlyUsedTab\"));\n\t\tthis.setProperty(\"tooltip\", this._i18nBundle.getText(\"recentAppsInfo\"));\n\t\tthis._attachUserActivityTracking();\n\t\tEventHub.on(\"userRecentsCleared\").do(() => {\n\t\t\tvoid this.refresh();\n\t\t});\n\n\t\t//Setup Menu Items\n\t\tconst showHistoryMenuItem = new MenuItem(`${this.getId()}-show-history-btn`, {\n\t\t\ttitle: this._i18nBundle.getText(\"showHistoryBtn\"),\n\t\t\ticon: \"sap-icon://history\",\n\t\t\tpress: this._openHistoryDialog.bind(this)\n\t\t});\n\t\taddFESRId(showHistoryMenuItem, \"showHistory\");\n\t\tthis.insertAggregation(\"menuItems\", showHistoryMenuItem, 0);\n\t}\n\n\t/**\n\t * Fetch recent apps and set apps aggregation\n\t * @private\n\t */\n\tpublic async loadApps() {\n\t\tlet recentApps = await this._getRecentApps();\n\t\trecentApps = recentApps.map((app) => {\n\t\t\treturn {\n\t\t\t\t...app,\n\t\t\t\tmenuItems: this._getAppActions(app.addedInFavorites)\n\t\t\t};\n\t\t});\n\t\tthis.destroyAggregation(\"apps\", true);\n\t\t//convert apps objects array to apps instances\n\t\tthis.setApps(this.generateApps(recentApps));\n\t}\n\n\t/**\n\t * Returns list of recent apps\n\t * @private\n\t * @returns {Promise<IActivity[]>} - Array of recent apps.\n\t */\n\tprivate async _getRecentApps(): Promise<IActivity[]> {\n\t\ttry {\n\t\t\tconst UserRecentsService = await Container.getServiceAsync<UserRecents>(\"UserRecents\");\n\t\t\tconst [recentActivities, recentActivitiesUsageData] = await Promise.all([\n\t\t\t\tUserRecentsService?.getRecentActivity().then((result) => result || []),\n\t\t\t\tUserRecentsService?.oRecentActivity._getRecentActivitiesFromLoadedData().then((result) => result || {})\n\t\t\t]);\n\t\t\t//convert activity to apps\n\t\t\tthis._recentApps = await this.convertActivitiesToVisualizations(recentActivities);\n\t\t\tlet recentDate = new Date(recentActivitiesUsageData?.recentDay);\n\t\t\t// add last used and usage info\n\t\t\tthis._recentDayTimeStamp = formatConstantTimeInDate(recentDate);\n\n\t\t\tconst recentUsage = recentActivitiesUsageData?.recentUsageArray || [];\n\t\t\tconst recentUsageMap = new Map<string, number[]>();\n\t\t\trecentUsage.forEach((app) => {\n\t\t\t\tif (app.oItem?.appId) {\n\t\t\t\t\trecentUsageMap.set(app.oItem.appId, app.aUsageArray);\n\t\t\t\t}\n\t\t\t});\n\t\t\tthis._recentApps.forEach((app) => {\n\t\t\t\t//isolate only date information by having common time information\n\t\t\t\tapp.dateStamp = formatConstantTimeInDate(new Date(app.timestamp));\n\t\t\t\tif (recentUsageMap.size) {\n\t\t\t\t\tapp.usageArray = recentUsageMap.get(app.orgAppId);\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn this._recentApps || [];\n\t\t} catch (error) {\n\t\t\tLog.error(error as string);\n\t\t\treturn [];\n\t\t}\n\t}\n\n\t/**\n\t * Returns list of actions available for selected app\n\t * @private\n\t * @param {boolean} isAppAddedInFavorite - true if app is already present in favorite, false otherwise.\n\t * @returns {sap.cux.home.MenuItem[]} - Array of list items.\n\t */\n\tprivate _getAppActions(isAppAddedInFavorite: boolean = false): MenuItem[] {\n\t\tconst resumeLastActivityItem = new MenuItem({\n\t\t\ttitle: this._i18nBundle.getText(\"resumeLastActivity\"),\n\t\t\ticon: \"sap-icon://past\",\n\t\t\tpress: this._resumeAppActivity.bind(this)\n\t\t});\n\t\taddFESRId(resumeLastActivityItem, \"resumeActivity\");\n\t\tconst appActions = [resumeLastActivityItem];\n\t\tif (!isAppAddedInFavorite) {\n\t\t\tconst addToFavoritesItem = new MenuItem({\n\t\t\t\ttitle: this._i18nBundle.getText(\"addToFavorites\"),\n\t\t\t\ticon: \"sap-icon://add-favorite\",\n\t\t\t\tpress: (event) => {\n\t\t\t\t\tvoid this._addAppToFavorites(event);\n\t\t\t\t}\n\t\t\t});\n\t\t\taddFESRId(addToFavoritesItem, \"addFavFromRecent\");\n\t\t\tappActions.push(addToFavoritesItem);\n\t\t}\n\t\treturn appActions;\n\t}\n\n\t/**\n\t * Redirects to the selected app url\n\t * @private\n\t * @param {sap.ui.base.Event} event - The event object.\n\t */\n\tprivate _resumeAppActivity(event: Event) {\n\t\tconst menuItem = event.getSource<MenuItem>();\n\t\tconst app = menuItem.getParent() as App;\n\t\tconst url = app.getUrl?.();\n\t\tURLHelper.redirect(url, false);\n\t}\n\n\t/**\n\t * Generates and returns a dialog for showing the history of recent applications.\n\t * @private\n\t * @returns The generated dialog for showing the history of recent applications.\n\t */\n\tprivate _generateHistoryDialog() {\n\t\tconst id = `${this.getId()}-history-dialog`;\n\t\tif (!this._controlMap.get(id)) {\n\t\t\tthis._controlMap.set(\n\t\t\t\tid,\n\t\t\t\tnew Dialog(id, {\n\t\t\t\t\ttitle: this._i18nBundle.getText(\"showHistoryTitle\"),\n\t\t\t\t\tcontent: new VBox({\n\t\t\t\t\t\tid: `${id}-container`,\n\t\t\t\t\t\theight: \"100%\",\n\t\t\t\t\t\titems: [this._generateAppHistoryList()]\n\t\t\t\t\t}).addStyleClass(\"sapUiTinyMargin\"),\n\t\t\t\t\tescapeHandler: this._closeHistoryDialog.bind(this),\n\t\t\t\t\tcontentHeight: \"29rem\",\n\t\t\t\t\tcontentWidth: \"25rem\",\n\t\t\t\t\tbuttons: [\n\t\t\t\t\t\tnew Button({\n\t\t\t\t\t\t\tid: `${id}-cancel-btn`,\n\t\t\t\t\t\t\ttext: this._i18nBundle.getText(\"cancelBtn\"),\n\t\t\t\t\t\t\tpress: this._closeHistoryDialog.bind(this)\n\t\t\t\t\t\t})\n\t\t\t\t\t]\n\t\t\t\t}).addStyleClass(\"sapContrastPlus\")\n\t\t\t);\n\t\t}\n\t\treturn this._controlMap.get(id) as Dialog;\n\t}\n\n\t/**\n\t * Generates the app history list.\n\t * @private\n\t * @returns The generated app history list.\n\t */\n\tprivate _generateAppHistoryList() {\n\t\tconst id = `${this.getId()}-history-dialog-list`;\n\t\tif (!this._controlMap.get(id)) {\n\t\t\tthis._controlMap.set(\n\t\t\t\tid,\n\t\t\t\tnew List({\n\t\t\t\t\tid,\n\t\t\t\t\tgrowing: true,\n\t\t\t\t\tgrowingScrollToLoad: true,\n\t\t\t\t\theaderToolbar: new OverflowToolbar({\n\t\t\t\t\t\tid: `${id}-header-toolbar`,\n\t\t\t\t\t\tstyle: \"Clear\",\n\t\t\t\t\t\theight: \"1.75rem\",\n\t\t\t\t\t\tcontent: [\n\t\t\t\t\t\t\tnew ToolbarSpacer({\n\t\t\t\t\t\t\t\tid: `${id}-header-toolbar-spacer`\n\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\tthis._generateAppHistoryListFilter()\n\t\t\t\t\t\t]\n\t\t\t\t\t})\n\t\t\t\t}).addStyleClass(\"sapMListShowSeparatorsNone recentAppList\")\n\t\t\t);\n\t\t}\n\t\treturn this._controlMap.get(id) as List;\n\t}\n\n\t/**\n\t * Generates the app history list filter.\n\t * @private\n\t * @returns The Select control for the app history list filter.\n\t */\n\tprivate _generateAppHistoryListFilter() {\n\t\tconst id = `${this.getId()}-history-dialog-list-filter`;\n\t\tif (!this._controlMap.get(id)) {\n\t\t\tthis._controlMap.set(\n\t\t\t\tid,\n\t\t\t\tnew Select({\n\t\t\t\t\tid,\n\t\t\t\t\tselectedKey: DateFilterOption.ALL,\n\t\t\t\t\tchange: (e) => this._onDateFilterChange(e),\n\t\t\t\t\titems: [\n\t\t\t\t\t\tnew Item({\n\t\t\t\t\t\t\tid: `${id}-month`,\n\t\t\t\t\t\t\tkey: DateFilterOption.ALL,\n\t\t\t\t\t\t\ttext: this._i18nBundle.getText(\"dateThirty\")\n\t\t\t\t\t\t}),\n\t\t\t\t\t\tnew Item({\n\t\t\t\t\t\t\tid: `${id}-today`,\n\t\t\t\t\t\t\tkey: DateFilterOption.TODAY,\n\t\t\t\t\t\t\ttext: this._i18nBundle.getText(\"dateToday\")\n\t\t\t\t\t\t}),\n\t\t\t\t\t\tnew Item({\n\t\t\t\t\t\t\tid: `${id}-week`,\n\t\t\t\t\t\t\tkey: DateFilterOption.WEEK,\n\t\t\t\t\t\t\ttext: this._i18nBundle.getText(\"dateWeek\")\n\t\t\t\t\t\t}),\n\t\t\t\t\t\tnew Item({\n\t\t\t\t\t\t\tid: `${id}-twoWeek`,\n\t\t\t\t\t\t\tkey: DateFilterOption.TWO_WEEK,\n\t\t\t\t\t\t\ttext: this._i18nBundle.getText(\"dateTwoWeek\")\n\t\t\t\t\t\t}),\n\t\t\t\t\t\tnew Item({\n\t\t\t\t\t\t\tid: `${id}-threeWeek`,\n\t\t\t\t\t\t\tkey: DateFilterOption.THREE_WEEK,\n\t\t\t\t\t\t\ttext: this._i18nBundle.getText(\"dateThreeWeek\")\n\t\t\t\t\t\t})\n\t\t\t\t\t]\n\t\t\t\t})\n\t\t\t);\n\t\t}\n\t\treturn this._controlMap.get(id) as Select;\n\t}\n\n\t/**\n\t * Generates and populates items in the app history list based on the provided list of items.\n\t * Clears existing items in the list before adding new items.\n\t *\n\t * @param {IAppHistory[]} appHistoryItems - Array of items to populate in the app history list.\n\t * @returns {void}\n\t * @private\n\t */\n\tprivate _generateAppHistoryListItems(appHistoryItems: IAppHistory[]): void {\n\t\tconst appHistoryList = this._generateAppHistoryList();\n\t\tappHistoryList?.destroyItems();\n\t\tappHistoryItems.forEach((appHistoryItem) => {\n\t\t\tappHistoryList.addItem(this._getGroupHeader(appHistoryItem.dateStamp));\n\t\t\tappHistoryList.addItem(\n\t\t\t\tnew CustomListItem({\n\t\t\t\t\tid: `date-${appHistoryItem.dateStamp}-lisItem`,\n\t\t\t\t\ttype: \"Inactive\",\n\t\t\t\t\tcontent: [\n\t\t\t\t\t\tnew List({\n\t\t\t\t\t\t\tid: `date-${appHistoryItem.dateStamp}-appList`,\n\t\t\t\t\t\t\titems: (appHistoryItem.apps || []).map((app) =>\n\t\t\t\t\t\t\t\tnew StandardListItem({\n\t\t\t\t\t\t\t\t\t//id,\n\t\t\t\t\t\t\t\t\ttitle: app.name,\n\t\t\t\t\t\t\t\t\ttype: \"Inactive\"\n\t\t\t\t\t\t\t\t}).addStyleClass(\"sapUiTinyMarginBeginEnd recentAppList sapUiSmallMarginTop\")\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t}).addStyleClass(\"sapMListShowSeparatorsNone sapUiTinyMarginBottom\")\n\t\t\t\t\t]\n\t\t\t\t})\n\t\t\t);\n\t\t});\n\t}\n\n\t/**\n\t * Opens the history dialog.\n\t * This method generates the show history dialog, retrieves the app history list,\n\t * generates the app history list items, and opens the dialog.\n\t * @private\n\t */\n\tprivate _openHistoryDialog() {\n\t\tconst historyDialog = this._generateHistoryDialog();\n\t\tconst appHistory = this._getAppHistory();\n\t\tthis._generateAppHistoryListItems(appHistory);\n\t\thistoryDialog.open();\n\t}\n\n\t/**\n\t * Closes the history dialog.\n\t * @private\n\t */\n\tprivate _closeHistoryDialog() {\n\t\tconst historyDialog = this._generateHistoryDialog();\n\t\thistoryDialog.close();\n\t}\n\n\t/**\n\t * Handles the change event of the date filter.\n\t * Updates the app history list based on the selected date filter.\n\t * @private\n\t * @param {Select$ChangeEvent} event - The select change event.\n\t */\n\tprivate _onDateFilterChange(event: Select$ChangeEvent) {\n\t\tconst selectedKey = event.getParameter(\"selectedItem\")?.getKey() as DateFilterOption;\n\t\tconst filteredAppHistory: IAppHistory[] = this._getFilteredAppHistory(selectedKey);\n\t\tthis._generateAppHistoryListItems(filteredAppHistory);\n\t}\n\n\t/**\n\t * Generates a group header for the given date timestamp.\n\t *\n\t * @param {number} dateStamp - The timestamp representing the date.\n\t * @returns {GroupHeaderListItem} The generated group header list item.\n\t * @private\n\t */\n\tprivate _getGroupHeader(dateStamp: number): GroupHeaderListItem {\n\t\tlet sTitle = \"\";\n\t\tswitch (dateStamp) {\n\t\t\tcase Constants.OLDER_DATE_TIMESTAMP:\n\t\t\t\tsTitle = this._i18nBundle.getText(\"dateLater\") as string;\n\t\t\t\tbreak;\n\t\t\tcase formatConstantTimeInDate(new Date()):\n\t\t\t\tsTitle = this._i18nBundle.getText(\"dateToday\") as string;\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tsTitle = GroupDateFormatter.format(new Date(dateStamp));\n\t\t\t\tbreak;\n\t\t}\n\t\treturn new GroupHeaderListItem({\n\t\t\ttitle: sTitle\n\t\t}).addStyleClass(\"sapUiTinyMarginBeginEnd recentAppListHeader\");\n\t}\n\n\t/**\n\t * Retrieves the application usage history based on recent app data.\n\t *\n\t * @returns {IAppHistory[]} Array of objects, where each object contains the date timestamp and the apps that are used on that date.\n\t * @private\n\t */\n\tprivate _getAppHistory(): IAppHistory[] {\n\t\tif (this._recentDayTimeStamp && this._recentApps?.length) {\n\t\t\tconst groupedAppHistory: Record<number, IAppHistory> = {};\n\t\t\tconst thresholdTimeStamp = getDaysBefore(this._recentDayTimeStamp, 30); // 30 days threshold\n\t\t\tthis._recentApps.forEach((recentApp) => {\n\t\t\t\tconst appTimeStamp = formatConstantTimeInDate(new Date(recentApp.dateStamp!));\n\t\t\t\tif (appTimeStamp < thresholdTimeStamp) {\n\t\t\t\t\tif (!groupedAppHistory[Constants.OLDER_DATE_TIMESTAMP]) {\n\t\t\t\t\t\tgroupedAppHistory[Constants.OLDER_DATE_TIMESTAMP] = { dateStamp: Constants.OLDER_DATE_TIMESTAMP, apps: [] };\n\t\t\t\t\t}\n\t\t\t\t\tgroupedAppHistory[Constants.OLDER_DATE_TIMESTAMP]?.apps.push({ name: recentApp.title });\n\t\t\t\t} else {\n\t\t\t\t\tconst appUsage = recentApp.usageArray || [];\n\t\t\t\t\tappUsage.forEach((usage, index) => {\n\t\t\t\t\t\tif (usage > 0) {\n\t\t\t\t\t\t\tconst usageDate = getDaysBefore(this._recentDayTimeStamp, appUsage.length - 1 - index);\n\t\t\t\t\t\t\tif (!groupedAppHistory[usageDate]) {\n\t\t\t\t\t\t\t\tgroupedAppHistory[usageDate] = { dateStamp: usageDate, apps: [] };\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tgroupedAppHistory[usageDate]?.apps.push({ name: recentApp.title });\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t\tconst appHistory = Object.values(groupedAppHistory);\n\t\t\tappHistory.sort((a, b) => b.dateStamp - a.dateStamp);\n\t\t\treturn appHistory;\n\t\t}\n\t\treturn [];\n\t}\n\n\t/**\n\t * Retrieves the filtered app history based on the selected date filter option.\n\t * @private\n\t * @param {DateFilterOption} selectedKey - The selected date filter option.\n\t * @returns {IAppHistory[]} An array of filtered app history.\n\t */\n\tprivate _getFilteredAppHistory(selectedKey: DateFilterOption): IAppHistory[] {\n\t\tconst appHistory = this._getAppHistory();\n\t\tlet filteredAppHistory: IAppHistory[] = [];\n\t\tswitch (selectedKey) {\n\t\t\tcase DateFilterOption.TODAY: {\n\t\t\t\tfilteredAppHistory = appHistory.filter((app) => app.dateStamp === formatConstantTimeInDate(new Date()));\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase DateFilterOption.WEEK: {\n\t\t\t\tconst { startDate: currentWeekStartDate, endDate: currentWeekEndDate } = getWeekRangeValues(0);\n\t\t\t\tfilteredAppHistory = appHistory.filter((app) => isDateWithinRange(app.dateStamp, currentWeekStartDate, currentWeekEndDate));\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase DateFilterOption.TWO_WEEK: {\n\t\t\t\tconst { startDate: secondWeekStartDate } = getWeekRangeValues(1);\n\t\t\t\tconst { endDate: currentWeekEndDate } = getWeekRangeValues(0);\n\t\t\t\tfilteredAppHistory = appHistory.filter((app) => isDateWithinRange(app.dateStamp, secondWeekStartDate, currentWeekEndDate));\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase DateFilterOption.THREE_WEEK: {\n\t\t\t\tconst { startDate: thirdWeekStartDate } = getWeekRangeValues(2);\n\t\t\t\tconst { endDate: currentWeekEndDate } = getWeekRangeValues(0);\n\t\t\t\tfilteredAppHistory = appHistory.filter((app) => isDateWithinRange(app.dateStamp, thirdWeekStartDate, currentWeekEndDate));\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tdefault:\n\t\t\t\tfilteredAppHistory = [...appHistory];\n\t\t\t\tbreak;\n\t\t}\n\t\treturn filteredAppHistory;\n\t}\n\n\t/**\n\t * Generates illustrated message for recent apps panel.\n\t * @private\n\t * @override\n\t * @returns {sap.m.IllustratedMessage} Illustrated error message.\n\t */\n\tprotected generateIllustratedMessage() {\n\t\tconst illustratedMessage = super.generateIllustratedMessage();\n\t\t//override the default description\n\t\tillustratedMessage.setDescription(this._i18nBundle.getText(\"noRecentAppsDescription\"));\n\t\treturn illustratedMessage;\n\t}\n}\n"],"mappings":"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","ignoreList":[]}