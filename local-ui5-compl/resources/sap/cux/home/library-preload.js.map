{"version":3,"file":"library-preload.js","sections":[{"offset":{"line":1,"column":0},"map":{"version":3,"names":[],"sources":["library-preload.js?bundle-code-0"],"mappings":"AAAA;AACA","sourcesContent":["sap.ui.require.preload({\n"],"sourceRoot":""}},{"offset":{"line":3,"column":0},"map":{"version":3,"file":"AdvancedSettingsPanel.js","names":["sap","ui","define","Log","CardHelper","Button","CheckBox","CustomListItem","HBox","IconTabBar","IconTabFilter","Input","Label","sap_m_library","List","MessageStrip","MessageToast","ObjectStatus","OverflowToolbar","Panel","Text","Title","Toolbar","ToolbarSpacer","VBox","Element","EventBus","sap_ui_core_library","SimpleForm","JSONModel","FileUploader","Container","__BaseSettingsPanel","__AppManager","___utils_Constants","___utils_FESRUtil","__HttpHelper","__PageManager","__PersonalisationUtils","__UShellPersonalizer","_interopRequireDefault","obj","__esModule","default","_catch","body","recover","result","e","then","FlexAlignItems","ToolbarStyle","ValueState","BaseSettingsPanel","AppManager","FEATURE_TOGGLES","SETTINGS_PANELS_KEYS","addFESRSemanticStepName","FESR_EVENTS","HttpHelper","PageManager","PersonalisationUtils","UShellPersonalizer","ImportExportType","BASE_URL","REPO_BASE_URL","EXPORT_API","MYINSIGHT_SECTION_ID","AdvancedSettingsPanel","extend","metadata","events","sectionsImported","init","_init","BaseSettingsPanel.prototype.init.call","this","setProperty","ADVANCED","_i18nBundle","getText","oEventBus","getInstance","oAppManagerInstance","oSectionsImported","oUserPersonalization","export","sections","fileName","sectionsSelected","error","import","selectedTab","showNoImport","oControlModel","addAggregation","getContent","addInnerContent","attachPanelNavigated","_this","oPageManagerInstance","getPersContainerId","_getPanel","getOwnerComponent","subscribe","channelId","eventId","data","customData","status","updateImportStatus","oDetailPage","getElementById","getProperty","_setRecommendationSettingsPanel","Promise","resolve","loadUserPersonalizationData","oImportBtn","setEnabled","enableDisableActions","setImportExportList","oExportMessage","setText","errorMessage","String","setType","errorType","oFileNameInput","setValue","oImportMessage","reject","_setImportExportList","oExportList","setExportSectionList","_importExportPanel","addContent","invalidate","oImportList","setImportSectionList","_enableDisableActions","sType","oImportExportTab","setSelectedKey","setVisible","IMPORT","oExportBtn","EXPORT","length","setExportImportValues","_setExportImportValues","_getContent","oContentVBox","getId","items","text","addStyleClass","_getImportExportPanel","headerToolbar","style","Clear","content","_getImportButton","_getExportButton","headerText","expanded","expandable","id","type","press","onImportPress","visible","PRESS","onExportPress","bind","_addInnerContent","backgroundDesign","selectedKey","oSelectedTab","select","onImportExportTabSelect","exportTab","key","SELECT","showIcon","exportText","fileInputContainer","alignItems","filenameLabel","labelFor","required","showColon","ariaLabelledBy","width","liveChange","onFileNameInputChange","value","addItem","importTab","importText","importSimpleForm","editable","layout","labelSpanS","labelSpanM","fileUploader","tooltip","fileType","change","oEvent","onFileImport","maximumFileSize","sameFilenameAllowed","buttonText","classicImportTab","classicText","resetImportAppsNow","onResetImportApps","_setExportSectionList","exportSectionsList","growingThreshold","includeItemInSelection","setHeaderToolbar","setModel","bindItems","path","template","onSectionsSelectionChange","selected","enabled","_setImportSectionList","importSectionsList","justifyContent","icon","state","_onSectionsSelectionChange","isImport","allSections","getItems","isSelected","innerCheckbox","isSectionSelected","some","oSection","getAggregation","getSelected","innerHbox","_onImportPress","_this2","attachEvent","setBusy","handleUserPersonalizationError","oExportData","_temp","importSections","aSelectedSections","bShowError","Error","oErr","_importSections","oImportData","sectionImportChain","aPromise","oSelectedSections","push","importApps","importTiles","importFavPages","reduce","chain","current","importCards","all","catch","oError","_importApps","apps","publish","_importTiles","tiles","_importFavPages","favouritePages","_importCards","cards","_updateImportStatus","sSectionTitle","errorState","sSectionId","find","oSec","title","undefined","Success","None","sectionTitles","Object","keys","imported","every","sTitle","fireEvent","resetImportModel","_resetImportModel","onOpen","getDeltaSectionViz","_getDeltaSectionViz","aImportedSections","_this3","_getSections","favSections","forEach","oImportedSection","aDelta","visualizations","filter","oImportViz","oViz","isBookmark","targetURL","vizId","getDeltaAuthSectionViz","_getDeltaAuthSectionViz","aDeltaSections","filterAuthSectionViz","_filterAuthSectionViz","aSections","_getCatalogApps","getServiceAsync","SearchableContent","getApps","includeAppsWithoutVisualizations","_filterAuthViz","aAppCatalog","aViz","aSectionViz","appCatalog","oAppCatalog","oSectionViz","oCatalogViz","target","action","semanticObject","displayFormatHint","map","filterAuthFavPages","_filterAuthFavPages","aFavPages","_exit","_this4","_temp3","_result","_temp2","fetchAllAvailablePages","aAvailablePages","oimportedPage","oAvailabePage","pageId","spaceId","_await$_this4$oPageMa","filterAuthCards","_filterAuthCards","aCards","_exit2","_temp5","_result2","_getParentApp","aAvailableApps","oCard","oApp","resolutionResult","applicationDependencies","name","parentAppId","_isNavigationSupported","oService","oParentApp","isNavigationSupported","aResponses","supported","_temp4","aServices","clientSideTargetResolution","Navigation","_oAdapter","_aInbounds","promise","aAuthCards","bIsNavigationSupported","_await$Promise$all$th","_onFileImport","files","getParameter","oFile","readFileContent","oFileContent","oEncodedFileContent","window","btoa","encodeURIComponent","replace","match","p1","fromCharCode","parseInt","Post","fileContent","oResponse","oImportDataString","JSON","parse","host","location","filterAuthorizedImportData","finally","_filterAuthorizedImportData","getInsightCards","aResponse","aAuthSections","aAuthFavPages","iInsightCardsCount","iTotalCardCount","Number","getImportedSections","getSelectedSections","_readFileContent","FileReader","reader","onload","event","blob","readAsText","_getPersonalizationData","_this5","_temp7","oPersonalizerInstance","read","_this5$oPersonalizerI","persData","_temp6","_UShellPersonalizer$g","_loadUserPersonalizationData","_this6","fetchInsightApps","_ref","insightTiles","insightModel","favApps","insightCards","descriptorContent","personalization","aExportSections","refresh","_getSelectedSections","_isSectionSelected","sectionId","section","sec","_getImportedSections","oData","getDeltaFavPages","isAppViz","oSections","_getDeltaFavPages","aImportedFavPages","oImportedPage","oFavPage","_getInsightCards","_this7","_getServiceAsync","cardHelperInstance","_getUserAllCardModel","oUserVisibleCardModel","aVisibleCards","visibility","_onExportPress","oExportFileName","oExportFileContent","getExportFileContent","require","File","save","stringify","show","message","_getExportFileContent","exportData","exportSections","oPersonalization","createdDate","Date","groupInfo","favoriteApps","_handleUserPersonalizationError","sErrorMsg","sErrorType","sDefaultErrorMsg","_onImportExportTabSelect","_onFileNameInputChange","sInputValue","trim","oInput","getSource","sValueState","sValueStateText","setValueState","setValueStateText","_onResetImportApps","_getRecommendationSettingsPanel","_this8","_recommendationSettingsPanel","panelId","showRecommendation","onRecommendationSettingChange","Center","_this9","isFeatureEnabled","RECOMMENDATION","isRecommendationEnabled","_temp9","_temp8","recommendationSettingsPanel","_onRecommendationSettingChange","_this10","oPersData","write"],"sources":["AdvancedSettingsPanel.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\n\nimport Log from \"sap/base/Log\";\nimport CardHelper from \"sap/insights/CardHelper\";\nimport Button from \"sap/m/Button\";\nimport CheckBox, { CheckBox$SelectEvent } from \"sap/m/CheckBox\";\nimport CustomListItem from \"sap/m/CustomListItem\";\nimport HBox from \"sap/m/HBox\";\nimport IconTabBar, { IconTabBar$SelectEvent } from \"sap/m/IconTabBar\";\nimport IconTabFilter from \"sap/m/IconTabFilter\";\nimport Input, { Input$LiveChangeEvent } from \"sap/m/Input\";\nimport Label from \"sap/m/Label\";\nimport { FlexAlignItems, ToolbarStyle } from \"sap/m/library\";\nimport List from \"sap/m/List\";\nimport MessageStrip from \"sap/m/MessageStrip\";\nimport MessageToast from \"sap/m/MessageToast\";\nimport ObjectStatus from \"sap/m/ObjectStatus\";\nimport OverflowToolbar from \"sap/m/OverflowToolbar\";\nimport Page from \"sap/m/Page\";\nimport Panel from \"sap/m/Panel\";\nimport Text from \"sap/m/Text\";\nimport Title from \"sap/m/Title\";\nimport Toolbar from \"sap/m/Toolbar\";\nimport ToolbarSpacer from \"sap/m/ToolbarSpacer\";\nimport VBox from \"sap/m/VBox\";\nimport Component from \"sap/ui/core/Component\";\nimport Control from \"sap/ui/core/Control\";\nimport type { MetadataOptions } from \"sap/ui/core/Element\";\nimport Element from \"sap/ui/core/Element\";\nimport EventBus from \"sap/ui/core/EventBus\";\nimport { ValueState } from \"sap/ui/core/library\";\nimport MessageType from \"sap/ui/core/message/MessageType\";\nimport File from \"sap/ui/core/util/File\";\nimport SimpleForm from \"sap/ui/layout/form/SimpleForm\";\nimport JSONModel from \"sap/ui/model/json/JSONModel\";\nimport FileUploader, { FileUploader$ChangeEvent } from \"sap/ui/unified/FileUploader\";\nimport Container from \"sap/ushell/Container\";\nimport ClientSideTargetResolution from \"sap/ushell/services/ClientSideTargetResolution\";\nimport Navigation from \"sap/ushell/services/Navigation\";\nimport SearchableContent, { AppData } from \"sap/ushell/services/SearchableContent\";\nimport BaseSettingsPanel from \"./BaseSettingsPanel\";\nimport { IAppInbounds, IAppPersonalization, ISection, ISectionAndVisualization, IVisualization } from \"./interface/AppsInterface\";\nimport { ICard, ICardHelper, ICardHelperInstance, ICardManifest } from \"./interface/CardsInterface\";\nimport { IPage } from \"./interface/PageSpaceInterface\";\nimport AppManager from \"./utils/AppManager\";\nimport { FEATURE_TOGGLES, SETTINGS_PANELS_KEYS } from \"./utils/Constants\";\nimport { addFESRSemanticStepName, FESR_EVENTS } from \"./utils/FESRUtil\";\nimport HttpHelper from \"./utils/HttpHelper\";\nimport PageManager from \"./utils/PageManager\";\nimport PersonalisationUtils from \"./utils/PersonalisationUtils\";\nimport UShellPersonalizer, { IPersonalizationData } from \"./utils/UshellPersonalizer\";\n\nexport enum ImportExportType {\n\tIMPORT = \"import\",\n\tEXPORT = \"export\"\n}\n\ninterface IExportData {\n\tapps?: ISection[];\n\ttiles?: ISectionAndVisualization[];\n\tfavouritePages: ISectionAndVisualization[] | IPage[];\n\tcards?: ICardManifest[];\n\tpersonalization?: IPersonalizationData;\n}\ninterface IExportSections {\n\ttitle: string;\n\tselected: boolean | undefined;\n\tenabled: boolean | undefined;\n\tstatus?: ValueState;\n}\ntype SectionOrVisualization = ISectionAndVisualization[] | IVisualization[];\ninterface IExportImportFile {\n\thost?: string;\n\tcreatedDate?: Date;\n\tsections?: SectionOrVisualization | [];\n\tgroupInfo?: IAppPersonalization[] | IVisualization[] | [];\n\ttiles?: SectionOrVisualization;\n\tcards?: ICardManifest[];\n\tfavouritePages: IPage[] | ISectionAndVisualization[];\n\tapps?: ISection[] | [];\n}\ninterface ApiResponse {\n\tvalue: { fileContent: string }[];\n\t// Define other properties if present in ApiResponse\n}\nconst BASE_URL = \"/sap/opu/odata4/ui2/insights_srv/srvd/ui2/\";\nconst REPO_BASE_URL = BASE_URL + \"insights_cards_repo_srv/0001/\";\nconst EXPORT_API = REPO_BASE_URL + \"INSIGHTS_CARDS/com.sap.gateway.srvd.ui2.insights_cards_repo_srv.v0001.importExport?\";\nconst MYINSIGHT_SECTION_ID = \"AZHJGRIT78TG7Y65RF6EPFJ9U\";\n\n/**\n *\n * Class for My Home Advanced Settings Panel.\n *\n * @extends BaseSettingsPanel\n *\n * @author SAP SE\n * @version 0.0.1\n * @since 1.121\n *\n * @internal\n * @experimental Since 1.121\n * @private\n *\n * @alias sap.cux.home.AdvancedSettingsPanel\n */\nexport default class AdvancedSettingsPanel extends BaseSettingsPanel {\n\tprivate oControlModel!: JSONModel;\n\tprivate oImportExportTab!: IconTabBar;\n\tprivate oFileNameInput!: Input;\n\tprivate oSelectedTab!: string | undefined;\n\tprivate oExportList!: List;\n\tprivate oImportList!: List;\n\tprivate oImportBtn!: Button;\n\tprivate oExportBtn!: Button;\n\tprivate oEventBus!: EventBus;\n\tprivate oAppManagerInstance!: AppManager;\n\tprivate oPageManagerInstance!: PageManager;\n\tprivate oPersonalizerInstance!: UShellPersonalizer;\n\tprivate cardHelperInstance!: ICardHelperInstance;\n\tprivate persData!: IPersonalizationData;\n\tprivate oContentVBox!: VBox;\n\tprivate oExportMessage!: MessageStrip;\n\tprivate oImportMessage!: MessageStrip;\n\tprivate oDetailPage!: Page;\n\tprivate oSectionsImported!: {\n\t\t[key: string]: boolean;\n\t};\n\tprivate oUserPersonalization!: {\n\t\texport: {\n\t\t\tdata?: IExportData;\n\t\t\tsections?: IExportSections[];\n\t\t\tfileName?: string;\n\t\t\tsectionsSelected?: boolean;\n\t\t\terror?: boolean;\n\t\t\terrorMessage?: string;\n\t\t\terrorType?: string;\n\t\t};\n\t\timport: {\n\t\t\tdata?: IExportData | IExportImportFile;\n\t\t\tsections?: IExportSections[];\n\t\t\tsectionsSelected?: boolean;\n\t\t\terror?: boolean;\n\t\t\terrorMessage?: string;\n\t\t\terrorType?: MessageType;\n\t\t};\n\t\tselectedTab: string;\n\t\tshowNoImport: boolean;\n\t};\n\n\tstatic readonly metadata: MetadataOptions = {\n\t\tevents: {\n\t\t\tsectionsImported: {}\n\t\t}\n\t};\n\tprivate _recommendationSettingsPanel!: Panel;\n\tprivate _importExportPanel!: Panel;\n\n\t/**\n\t * Init lifecycle method\n\t *\n\t * @public\n\t * @override\n\t */\n\tpublic init(): void {\n\t\tsuper.init();\n\n\t\t//setup panel\n\t\tthis.setProperty(\"key\", SETTINGS_PANELS_KEYS.ADVANCED);\n\t\tthis.setProperty(\"title\", this._i18nBundle.getText(\"advancedSettings\"));\n\t\tthis.setProperty(\"icon\", \"sap-icon://grid\");\n\t\tthis.oEventBus = EventBus.getInstance();\n\t\tthis.oAppManagerInstance = AppManager.getInstance();\n\t\tthis.oSectionsImported = {};\n\n\t\tthis.oUserPersonalization = {\n\t\t\texport: {\n\t\t\t\tsections: [],\n\t\t\t\tfileName: \"MY_HOME\",\n\t\t\t\tsectionsSelected: false,\n\t\t\t\terror: false\n\t\t\t},\n\t\t\timport: {\n\t\t\t\tsections: [],\n\t\t\t\tsectionsSelected: false,\n\t\t\t\terror: false\n\t\t\t},\n\t\t\tselectedTab: \"export\",\n\t\t\tshowNoImport: false\n\t\t};\n\t\tthis.oControlModel = new JSONModel(this.oUserPersonalization);\n\t\t//setup layout content\n\t\tthis.addAggregation(\"content\", this.getContent());\n\n\t\tthis.addInnerContent();\n\t\t//fired every time on panel navigation\n\t\tthis.attachPanelNavigated(() => {\n\t\t\tvoid (async () => {\n\t\t\t\tif (!this.oPageManagerInstance) {\n\t\t\t\t\tthis.oPageManagerInstance = PageManager.getInstance(\n\t\t\t\t\t\tPersonalisationUtils.getPersContainerId(this._getPanel()),\n\t\t\t\t\t\tPersonalisationUtils.getOwnerComponent(this._getPanel()) as Component\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\t// subscribe to all import events for all sections\n\t\t\t\tthis.oEventBus.subscribe(\n\t\t\t\t\t\"importChannel\",\n\t\t\t\t\t\"tilesImported\",\n\t\t\t\t\t(channelId?: string, eventId?: string, data?: object) => {\n\t\t\t\t\t\tconst customData = (data as { status: boolean }).status;\n\t\t\t\t\t\t//errorstate is false when import is successful\n\t\t\t\t\t\tthis.updateImportStatus(\"insightsTiles\", !customData);\n\t\t\t\t\t},\n\t\t\t\t\tthis\n\t\t\t\t);\n\n\t\t\t\tthis.oEventBus.subscribe(\n\t\t\t\t\t\"importChannel\",\n\t\t\t\t\t\"appsImported\",\n\t\t\t\t\t(channelId?: string, eventId?: string, data?: object) => {\n\t\t\t\t\t\tconst customData = (data as { status: boolean }).status;\n\t\t\t\t\t\t//errorstate is false when import is successful\n\t\t\t\t\t\tthis.updateImportStatus(\"favApps\", !customData);\n\t\t\t\t\t},\n\t\t\t\t\tthis\n\t\t\t\t);\n\n\t\t\t\tthis.oEventBus.subscribe(\n\t\t\t\t\t\"importChannel\",\n\t\t\t\t\t\"favPagesImported\",\n\t\t\t\t\t(channelId?: string, eventId?: string, data?: object) => {\n\t\t\t\t\t\tconst customData = (data as { status: boolean }).status;\n\t\t\t\t\t\t//errorstate is false when import is successful\n\t\t\t\t\t\tthis.updateImportStatus(\"pages\", !customData);\n\t\t\t\t\t},\n\t\t\t\t\tthis\n\t\t\t\t);\n\n\t\t\t\tthis.oEventBus.subscribe(\n\t\t\t\t\t\"importChannel\",\n\t\t\t\t\t\"cardsImported\",\n\t\t\t\t\t(channelId?: string, eventId?: string, data?: object) => {\n\t\t\t\t\t\tconst customData = (data as { status: boolean }).status;\n\t\t\t\t\t\t//errorstate is false when import is successful\n\t\t\t\t\t\tthis.updateImportStatus(\"insightsCards\", !customData);\n\t\t\t\t\t},\n\t\t\t\t\tthis\n\t\t\t\t);\n\n\t\t\t\t//get the detailPage of advanced settingspanel\n\t\t\t\tthis.oDetailPage = Element.getElementById(this.getProperty(\"key\") + \"-detail-page\") as Page;\n\n\t\t\t\tvoid this._setRecommendationSettingsPanel();\n\n\t\t\t\t//load user personalization data\n\t\t\t\tawait this.loadUserPersonalizationData();\n\n\t\t\t\t//import button set enabled/disabled based on sections selected\n\t\t\t\tthis.oImportBtn.setEnabled(this.oUserPersonalization.import.sectionsSelected);\n\t\t\t\tthis.enableDisableActions(this.oUserPersonalization.selectedTab as ImportExportType);\n\n\t\t\t\t//set export and import list\n\t\t\t\tthis.setImportExportList();\n\t\t\t\tthis.oExportMessage.setText(\n\t\t\t\t\tthis.oUserPersonalization.export.errorMessage ? String(this.oUserPersonalization.export.errorMessage) : \"\"\n\t\t\t\t);\n\t\t\t\tthis.oExportMessage.setType(this.oUserPersonalization.export.errorType as MessageType);\n\t\t\t\tthis.oExportMessage.setProperty(\"visible\", this.oUserPersonalization.export.error, true);\n\t\t\t\tthis.oFileNameInput.setValue(String(this.oUserPersonalization.export.fileName));\n\n\t\t\t\tthis.oImportMessage.setText(\n\t\t\t\t\tthis.oUserPersonalization.import.errorMessage ? String(this.oUserPersonalization.import.errorMessage) : \"\"\n\t\t\t\t);\n\t\t\t\tthis.oImportMessage.setType(this.oUserPersonalization.import.errorType as MessageType);\n\t\t\t\tthis.oImportMessage.setProperty(\"visible\", this.oUserPersonalization.import.error, true);\n\t\t\t})();\n\t\t});\n\t}\n\n\tprivate setImportExportList(): void {\n\t\tif (!this.oExportList) {\n\t\t\tthis.oExportList = this.setExportSectionList();\n\t\t\tthis._importExportPanel.addContent(this.oExportList);\n\t\t} else {\n\t\t\tthis.oExportList.invalidate();\n\t\t}\n\t\tif (!this.oImportList) {\n\t\t\tthis.oImportList = this.setImportSectionList();\n\t\t\tthis._importExportPanel.addContent(this.oImportList);\n\t\t} else {\n\t\t\tthis.oImportList.invalidate();\n\t\t}\n\t}\n\n\t/**\n\t *\n\t * @param sType selected tab type\n\t * Set import / export button enable property and selectedkey of importexport tab\n\t */\n\tprivate enableDisableActions(sType: ImportExportType): void {\n\t\tthis.oImportExportTab?.setSelectedKey(sType);\n\t\tthis.oImportBtn?.setVisible(sType === ImportExportType.IMPORT);\n\t\tthis.oExportBtn?.setVisible(sType === ImportExportType.EXPORT);\n\t\tif (this.oUserPersonalization.import.sectionsSelected && sType === ImportExportType.IMPORT) {\n\t\t\tthis.oImportBtn.setEnabled(true);\n\t\t} else {\n\t\t\tthis.oImportBtn.setEnabled(false);\n\t\t}\n\n\t\tif (\n\t\t\tsType === ImportExportType.EXPORT &&\n\t\t\tthis.oUserPersonalization.export.fileName &&\n\t\t\tthis.oUserPersonalization.export.sections?.length &&\n\t\t\tthis.oUserPersonalization.export.sectionsSelected\n\t\t) {\n\t\t\tthis.oExportBtn.setEnabled(true);\n\t\t} else {\n\t\t\tthis.oExportBtn.setEnabled(false);\n\t\t}\n\t}\n\n\t/**\n\t *\n\t * @param sType selected tab type\n\t * Set import/ export message values\n\t */\n\tprivate setExportImportValues(sType: ImportExportType): void {\n\t\tif (sType === ImportExportType.EXPORT) {\n\t\t\tthis.oExportMessage.setText(\n\t\t\t\tthis.oUserPersonalization.export.errorMessage ? String(this.oUserPersonalization.export.errorMessage) : \"\"\n\t\t\t);\n\t\t\tthis.oExportMessage.setType(this.oUserPersonalization.export.errorType as MessageType);\n\t\t\tthis.oExportMessage.setProperty(\"visible\", this.oUserPersonalization.export.error, true);\n\t\t} else if (sType === ImportExportType.IMPORT) {\n\t\t\tthis.oImportMessage.setText(\n\t\t\t\tthis.oUserPersonalization.import.errorMessage ? String(this.oUserPersonalization.export.errorMessage) : \"\"\n\t\t\t);\n\t\t\tthis.oImportMessage.setType(this.oUserPersonalization.import.errorType as MessageType);\n\t\t\tthis.oImportMessage.setProperty(\"visible\", this.oUserPersonalization.import.error, true);\n\t\t}\n\t}\n\n\t/**\n\t * Sets the outer content VBox for the Advanced Settings Panel.\n\t * @returns VBox\n\t */\n\tprivate getContent(): VBox {\n\t\tif (!this.oContentVBox) {\n\t\t\tthis.oContentVBox = new VBox(this.getId() + \"--idAdvancedVBox\", {\n\t\t\t\titems: [\n\t\t\t\t\tnew Text(this.getId() + \"--idPersonalizationSubheader\", {\n\t\t\t\t\t\ttext: this._i18nBundle.getText(\"advancedSettingsSubheader\")\n\t\t\t\t\t}).addStyleClass(\"sapUiSmallMarginBegin sapUiSmallMarginTop\"),\n\n\t\t\t\t\tthis._getImportExportPanel()\n\t\t\t\t]\n\t\t\t});\n\t\t}\n\t\treturn this.oContentVBox;\n\t}\n\n\t/**\n\t * Returns the import/export panel.\n\t *\n\t * @private\n\t * @returns {Panel} The import/export panel.\n\t */\n\tprivate _getImportExportPanel() {\n\t\tif (!this._importExportPanel) {\n\t\t\tthis._importExportPanel = new Panel(`${this.getId()}-importExportPanel`, {\n\t\t\t\theaderToolbar: new OverflowToolbar(`${this.getId()}-importExportPanelToolbar`, {\n\t\t\t\t\tstyle: ToolbarStyle.Clear,\n\t\t\t\t\tcontent: [\n\t\t\t\t\t\tnew Text(`${this.getId()}-importExportPanelToolbarText`, {\n\t\t\t\t\t\t\ttext: this._i18nBundle.getText(\"importAndExportPanelHeader\")\n\t\t\t\t\t\t}),\n\t\t\t\t\t\tnew ToolbarSpacer(`${this.getId()}-importExportPanelToolbarSpacer`),\n\t\t\t\t\t\tthis._getImportButton(),\n\t\t\t\t\t\tthis._getExportButton()\n\t\t\t\t\t]\n\t\t\t\t}),\n\t\t\t\theaderText: this._i18nBundle.getText(\"importAndExportPanelHeader\"),\n\t\t\t\texpanded: true,\n\t\t\t\texpandable: true,\n\t\t\t\tcontent: []\n\t\t\t}).addStyleClass(\"sapUiSmallMarginTop\");\n\t\t}\n\n\t\treturn this._importExportPanel;\n\t}\n\n\t/**\n\t * Returns the import button.\n\t *\n\t * @private\n\t * @returns {Button} import button.\n\t */\n\tprivate _getImportButton() {\n\t\tif (!this.oImportBtn) {\n\t\t\tthis.oImportBtn = new Button({\n\t\t\t\tid: `${this.getId()}-importBtn`,\n\t\t\t\ttext: this._i18nBundle.getText(\"import\"),\n\t\t\t\ttype: \"Transparent\",\n\t\t\t\tpress: () => {\n\t\t\t\t\tvoid this.onImportPress();\n\t\t\t\t},\n\t\t\t\tvisible: false\n\t\t\t});\n\t\t\taddFESRSemanticStepName(this._getExportButton(), FESR_EVENTS.PRESS, \"importBtn\");\n\t\t}\n\t\treturn this.oImportBtn;\n\t}\n\n\t/**\n\t * Returns the export button.\n\t *\n\t * @private\n\t * @returns {Button} export button.\n\t */\n\tprivate _getExportButton() {\n\t\tif (!this.oExportBtn) {\n\t\t\tthis.oExportBtn = new Button({\n\t\t\t\tid: `${this.getId()}-exportBtn`,\n\t\t\t\ttext: this._i18nBundle.getText(\"export\"),\n\t\t\t\ttype: \"Transparent\",\n\t\t\t\tpress: this.onExportPress.bind(this),\n\t\t\t\tvisible: true\n\t\t\t});\n\t\t\taddFESRSemanticStepName(this.oExportBtn, FESR_EVENTS.PRESS, \"exportBtn\");\n\t\t}\n\t\treturn this.oExportBtn;\n\t}\n\n\t/**\n\t * Returns the inner content for the Advanced Settings Panel.\n\t *\n\t * @private\n\t * @returns {Control} The control containing the Advanced Settings Panel content.\n\t */\n\tprivate addInnerContent(): void {\n\t\t//if not already initialised, create the import/export tab and inner controls\n\t\tif (!this.oImportExportTab) {\n\t\t\tthis.oImportExportTab = new IconTabBar(this.getId() + \"--idImportExportTab\", {\n\t\t\t\texpandable: false,\n\t\t\t\tbackgroundDesign: \"Transparent\",\n\t\t\t\tselectedKey: this.oSelectedTab ? this.oSelectedTab : \"export\",\n\t\t\t\tselect: this.onImportExportTabSelect.bind(this)\n\t\t\t});\n\n\t\t\tconst exportTab = new IconTabFilter(this.getId() + \"--idExportTab\", {\n\t\t\t\tkey: \"export\",\n\t\t\t\ttext: this._i18nBundle.getText(\"exportFile\")\n\t\t\t});\n\t\t\t// Add FESR for export tab\n\t\t\taddFESRSemanticStepName(exportTab, FESR_EVENTS.SELECT, \"exportTab\");\n\n\t\t\t//export tab content\n\t\t\tthis.oExportMessage = new MessageStrip(this.getId() + \"--idExportMessageStrip\", {\n\t\t\t\tshowIcon: true,\n\t\t\t\tvisible: false\n\t\t\t}).addStyleClass(\"sapUiNoMarginBegin sapUiTinyMarginBottom\");\n\t\t\tconst exportText = new Text(this.getId() + \"--idExportText\", { text: this._i18nBundle.getText(\"exportText\") }).addStyleClass(\n\t\t\t\t\"advancePadding\"\n\t\t\t);\n\t\t\tconst fileInputContainer = new HBox(this.getId() + \"--idFileInputContainer\", {\n\t\t\t\talignItems: \"Center\"\n\t\t\t}).addStyleClass(\"sapUiSmallMargin\");\n\t\t\tconst filenameLabel = new Label(this.getId() + \"--idFilenameLabel\", {\n\t\t\t\ttext: this._i18nBundle.getText(\"exportFileNameLabel\"),\n\t\t\t\tlabelFor: \"idTitleFilenameInput\",\n\t\t\t\trequired: true,\n\t\t\t\tshowColon: true\n\t\t\t}).addStyleClass(\"sapUiSmallMarginEnd\");\n\t\t\tthis.oFileNameInput = new Input(this.getId() + \"--idFileNameInput\", {\n\t\t\t\tariaLabelledBy: [\"idExportText\", \"idFilenameLabel\"],\n\t\t\t\trequired: true,\n\t\t\t\twidth: \"13rem\",\n\t\t\t\tliveChange: this.onFileNameInputChange.bind(this),\n\t\t\t\tvalue: \"\"\n\t\t\t});\n\n\t\t\tfileInputContainer.addItem(filenameLabel);\n\t\t\tfileInputContainer.addItem(this.oFileNameInput);\n\n\t\t\texportTab.addContent(this.oExportMessage);\n\t\t\texportTab.addContent(exportText);\n\t\t\texportTab.addContent(fileInputContainer);\n\n\t\t\t//import tab\n\t\t\tconst importTab = new IconTabFilter(this.getId() + \"--idImportTab\", {\n\t\t\t\tkey: \"import\",\n\t\t\t\ttext: this._i18nBundle.getText(\"importFile\")\n\t\t\t});\n\t\t\t// Add FESR for import tab\n\t\t\taddFESRSemanticStepName(importTab, FESR_EVENTS.SELECT, \"importTab\");\n\n\t\t\t//import tab content\n\t\t\tthis.oImportMessage = new MessageStrip(this.getId() + \"--idImportMessageStrip\", {\n\t\t\t\ttext: \"{advsettings>/import/errorMessage}\",\n\t\t\t\ttype: \"{advsettings>/import/errorType}\",\n\t\t\t\tshowIcon: true,\n\t\t\t\tvisible: false\n\t\t\t}).addStyleClass(\"sapUiNoMarginBegin sapUiTinyMarginBottom\");\n\t\t\tconst importText = new Text(this.getId() + \"--idImportText\", { text: this._i18nBundle.getText(\"importText\") }).addStyleClass(\n\t\t\t\t\"advancePadding\"\n\t\t\t);\n\t\t\tconst importSimpleForm = new SimpleForm(this.getId() + \"--idImportSimpleForm\", {\n\t\t\t\teditable: true,\n\t\t\t\tlayout: \"ResponsiveGridLayout\",\n\t\t\t\tlabelSpanS: 4,\n\t\t\t\tlabelSpanM: 4\n\t\t\t});\n\t\t\tconst fileUploader = new FileUploader(this.getId() + \"--idImportFileUploader\", {\n\t\t\t\ttooltip: this._i18nBundle.getText(\"uploadImportFile\"),\n\t\t\t\tfileType: [\"txt\"],\n\t\t\t\tchange: (oEvent: FileUploader$ChangeEvent) => {\n\t\t\t\t\tvoid this.onFileImport(oEvent);\n\t\t\t\t},\n\t\t\t\tmaximumFileSize: 25,\n\t\t\t\tsameFilenameAllowed: true,\n\t\t\t\twidth: \"80%\",\n\t\t\t\tariaLabelledBy: [\"idImportText\"],\n\t\t\t\tbuttonText: this._i18nBundle.getText(\"importFileUploaderButton\")\n\t\t\t});\n\t\t\timportSimpleForm.addContent(fileUploader);\n\t\t\timportTab.addContent(this.oImportMessage);\n\t\t\timportTab.addContent(importText);\n\t\t\timportTab.addContent(importSimpleForm);\n\n\t\t\tconst classicImportTab = new IconTabFilter(this.getId() + \"--idClassicImportTab\", {\n\t\t\t\tkey: \"classicImport\",\n\t\t\t\ttext: this._i18nBundle.getText(\"classicImport\")\n\t\t\t});\n\t\t\t// Add FESR for classic import tab\n\t\t\taddFESRSemanticStepName(classicImportTab, FESR_EVENTS.SELECT, \"classicImportTab\");\n\t\t\tconst classicText = new Text(this.getId() + \"--idClassicImportText\", {\n\t\t\t\ttext: this._i18nBundle.getText(\"classicImportText\")\n\t\t\t}).addStyleClass(\"sapUiSmallMarginBottom advancePadding\");\n\t\t\tconst resetImportAppsNow = new Button(this.getId() + \"--resetImportAppsNow\", {\n\t\t\t\ttext: this._i18nBundle.getText(\"resetButton\"),\n\t\t\t\tpress: this.onResetImportApps.bind(this)\n\t\t\t}).addStyleClass(\"resetButtonPadding\");\n\t\t\taddFESRSemanticStepName(resetImportAppsNow, FESR_EVENTS.PRESS, \"resetImportApps\");\n\t\t\tclassicImportTab.addContent(classicText);\n\t\t\tclassicImportTab.addContent(resetImportAppsNow);\n\n\t\t\tthis.oImportExportTab.addItem(exportTab);\n\t\t\tthis.oImportExportTab.addItem(importTab);\n\t\t\tthis.oImportExportTab.addItem(classicImportTab);\n\t\t\tthis._importExportPanel.addContent(this.oImportExportTab);\n\t\t\tthis._importExportPanel.addContent(this.setExportSectionList());\n\t\t}\n\t}\n\n\t/**\n\t *\n\t * @returns {List} export section list\n\t */\n\tprivate setExportSectionList(): List {\n\t\tconst exportSectionsList = new List(this.getId() + \"--idExportSectionsList\", {\n\t\t\twidth: \"calc(100% - 2rem)\",\n\t\t\tgrowingThreshold: 50,\n\t\t\tincludeItemInSelection: true,\n\t\t\tvisible: \"{= ${advsettings>/selectedTab} === 'export'}\"\n\t\t}).addStyleClass(\"sapUiSmallMarginBegin\");\n\t\tconst headerToolbar = new Toolbar(this.getId() + \"--idExportSectionsListToolbar\", {\n\t\t\tcontent: [\n\t\t\t\tnew Title(this.getId() + \"--idExportSectionsListHeaderText\", {\n\t\t\t\t\ttext: this._i18nBundle.getText(\"sectionExportListHeader\")\n\t\t\t\t}).addStyleClass(\"sectionTitle\")\n\t\t\t]\n\t\t});\n\t\texportSectionsList.setHeaderToolbar(headerToolbar);\n\t\t//set model for the list and bind items to path advsettings>/export/sections\n\t\texportSectionsList.setModel(this.oControlModel, \"advsettings\");\n\n\t\texportSectionsList.bindItems({\n\t\t\tpath: \"advsettings>/export/sections\",\n\t\t\ttemplate: new CustomListItem({\n\t\t\t\tcontent: [\n\t\t\t\t\tnew HBox({\n\t\t\t\t\t\talignItems: \"Center\",\n\t\t\t\t\t\titems: [\n\t\t\t\t\t\t\tnew CheckBox(this.getId() + \"--idExportListItemCheck\", {\n\t\t\t\t\t\t\t\tselect: this.onSectionsSelectionChange.bind(this, false),\n\t\t\t\t\t\t\t\tselected: \"{advsettings>selected}\",\n\t\t\t\t\t\t\t\tenabled: \"{advsettings>enabled}\"\n\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\tnew Text(this.getId() + \"--idExportListItemText\", { text: \"{advsettings>title}\" }).addStyleClass(\n\t\t\t\t\t\t\t\t\"sapUiTinyMarginTop\"\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t],\n\t\t\t\t\t\twidth: \"100%\"\n\t\t\t\t\t})\n\t\t\t\t]\n\t\t\t})\n\t\t});\n\t\tthis.oExportList = exportSectionsList;\n\t\treturn exportSectionsList;\n\t}\n\n\t/**\n\t *\n\t * @returns {List} import section list\n\t */\n\tprivate setImportSectionList(): List {\n\t\tconst importSectionsList = new List(this.getId() + \"--idImportSectionsList\", {\n\t\t\twidth: \"calc(100% - 2rem)\",\n\t\t\tgrowingThreshold: 50,\n\t\t\tincludeItemInSelection: true,\n\t\t\tvisible:\n\t\t\t\t\"{= ${advsettings>/selectedTab} === 'import' && (${advsettings>/import/sections/length} > 0 || ${advsettings>/showNoImport})}\"\n\t\t}).addStyleClass(\"sapUiSmallMarginBegin\");\n\t\tconst headerToolbar = new Toolbar(this.getId() + \"--idImportSectionsListToolbar\", {\n\t\t\tcontent: [\n\t\t\t\tnew Title(this.getId() + \"--idImportSectionsListHeaderText\", {\n\t\t\t\t\ttext: this._i18nBundle.getText(\"sectionImportListHeader\")\n\t\t\t\t}).addStyleClass(\"sectionTitle\")\n\t\t\t]\n\t\t});\n\t\timportSectionsList.setHeaderToolbar(headerToolbar);\n\t\t//set model for the list and bind items to path advsettings>/import/sections\n\t\timportSectionsList.setModel(this.oControlModel, \"advsettings\");\n\t\timportSectionsList.bindItems({\n\t\t\tpath: \"advsettings>/import/sections\",\n\t\t\ttemplate: new CustomListItem({\n\t\t\t\tcontent: [\n\t\t\t\t\tnew HBox({\n\t\t\t\t\t\tjustifyContent: \"SpaceBetween\",\n\t\t\t\t\t\titems: [\n\t\t\t\t\t\t\tnew HBox({\n\t\t\t\t\t\t\t\titems: [\n\t\t\t\t\t\t\t\t\tnew CheckBox(this.getId() + \"--idImportListItemCheck\", {\n\t\t\t\t\t\t\t\t\t\tselect: this.onSectionsSelectionChange.bind(this, true),\n\t\t\t\t\t\t\t\t\t\tselected: \"{advsettings>selected}\",\n\t\t\t\t\t\t\t\t\t\tenabled: \"{advsettings>enabled}\"\n\t\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t\t\tnew Text(this.getId() + \"--idImportListItemText\", { text: \"{advsettings>title}\" }).addStyleClass(\n\t\t\t\t\t\t\t\t\t\t\"sapUiTinyMarginTop\"\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\tnew HBox({\n\t\t\t\t\t\t\t\titems: [\n\t\t\t\t\t\t\t\t\tnew ObjectStatus(this.getId() + \"--idImportItemStatus\", {\n\t\t\t\t\t\t\t\t\t\ticon: \"{= ${advsettings>status} === 'Success' ? 'sap-icon://status-positive' : 'sap-icon://status-negative' }\",\n\t\t\t\t\t\t\t\t\t\tstate: \"{advsettings>status}\",\n\t\t\t\t\t\t\t\t\t\tvisible: \"{= ${advsettings>status} !== 'None'}\"\n\t\t\t\t\t\t\t\t\t}).addStyleClass(\"sapUiSmallMarginEnd sapUiTinyMarginTop\")\n\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t],\n\t\t\t\t\t\twidth: \"100%\"\n\t\t\t\t\t})\n\t\t\t\t]\n\t\t\t})\n\t\t});\n\n\t\treturn importSectionsList;\n\t}\n\n\t/**\n\t * Selection change event handler for export and import sections\n\t * @param isImport boolean value to check if import or export tab is selected\n\t */\n\tprivate onSectionsSelectionChange(isImport: boolean): void {\n\t\tconst allSections = isImport ? this.oImportList.getItems() : this.oExportList.getItems();\n\t\tlet isSelected = false;\n\t\tlet content, innerCheckbox;\n\t\tconst isSectionSelected = allSections.some(function (oSection) {\n\t\t\tif (!isImport) {\n\t\t\t\tcontent = oSection.getAggregation(\"content\") as Control[];\n\t\t\t\tinnerCheckbox = (content[0] as HBox).getItems()[0] as CheckBox;\n\t\t\t\tisSelected = innerCheckbox.getSelected();\n\t\t\t} else {\n\t\t\t\tcontent = oSection.getAggregation(\"content\") as Control[];\n\t\t\t\tconst innerHbox = (content[0] as HBox).getItems()[0] as HBox;\n\t\t\t\tinnerCheckbox = innerHbox.getItems()[0] as CheckBox;\n\t\t\t\tisSelected = innerCheckbox.getSelected();\n\t\t\t}\n\t\t\treturn isSelected;\n\t\t});\n\t\tthis.oControlModel.setProperty((isImport ? \"/import\" : \"/export\") + \"/sectionsSelected\", isSectionSelected);\n\t\tthis.enableDisableActions((isImport ? \"import\" : \"export\") as ImportExportType);\n\t}\n\n\t/**\n\t * Handler for import button press\n\t *\n\t */\n\tprivate async onImportPress(): Promise<void> {\n\t\tthis.attachEvent(\"sectionsImported\", () => {\n\t\t\tthis.oDetailPage.setBusy(false);\n\t\t\tthis.oControlModel.setProperty(\"/import/sectionsSelected\", false);\n\t\t});\n\t\tthis.oImportBtn.setEnabled(false);\n\t\tthis.oDetailPage.setBusy(true);\n\t\tthis.handleUserPersonalizationError(ImportExportType.IMPORT, false, \"\", \"\");\n\t\tconst oExportData = this.oUserPersonalization.import.data;\n\t\ttry {\n\t\t\tconst aSelectedSections = await this.importSections(oExportData);\n\t\t\tconst bShowError: boolean = aSelectedSections.some((oSection) => {\n\t\t\t\treturn oSection.status === ValueState.Error;\n\t\t\t});\n\t\t\tif (bShowError) {\n\t\t\t\tthis.handleUserPersonalizationError(\n\t\t\t\t\tImportExportType.IMPORT,\n\t\t\t\t\ttrue,\n\t\t\t\t\tString(this._i18nBundle.getText(\"userPersonalizationImportError\")),\n\t\t\t\t\t\"Warning\"\n\t\t\t\t);\n\t\t\t}\n\t\t\tthis.oControlModel.setProperty(\"/import/sections\", aSelectedSections);\n\t\t} catch (oErr: unknown) {\n\t\t\tLog.error(\"importpress\", String(oErr));\n\t\t\tthis.handleUserPersonalizationError(\n\t\t\t\tImportExportType.IMPORT,\n\t\t\t\ttrue,\n\t\t\t\tString(this._i18nBundle.getText(\"userPersonalizationImportError\")),\n\t\t\t\t\"Error\"\n\t\t\t);\n\t\t}\n\t}\n\n\t/**\n\t * Invokes import of apps,tiles,pages and cards data\n\t * @param oImportData import data\n\t * @returns Promise<IExportSections[]>\n\t */\n\tprivate importSections(oImportData?: IExportData | IExportImportFile): Promise<IExportSections[] | []> {\n\t\tconst sectionImportChain: (() => Promise<void>)[] = [];\n\t\tconst aPromise: Promise<void>[] = [];\n\t\tconst oSelectedSections = this.oControlModel.getProperty(\"/import/sections\") as IExportSections[];\n\n\t\tsectionImportChain.push(() => this.importApps(oImportData));\n\t\tsectionImportChain.push(() => this.importTiles(oImportData));\n\t\tsectionImportChain.push(() => this.importFavPages(oImportData));\n\n\t\t// Execute apps, tiles, and pages sequentially\n\t\taPromise.push(\n\t\t\tsectionImportChain.reduce((chain, current) => {\n\t\t\t\treturn chain.then(() => current());\n\t\t\t}, Promise.resolve())\n\t\t);\n\n\t\taPromise.push(this.importCards(oImportData));\n\n\t\treturn Promise.all(aPromise)\n\t\t\t.then(() => {\n\t\t\t\treturn oSelectedSections;\n\t\t\t})\n\t\t\t.catch((oError: Error) => {\n\t\t\t\tLog.error(\"import failed\", String(oError));\n\t\t\t\treturn [];\n\t\t\t});\n\t}\n\n\tprivate importApps(oImportData?: IExportData | IExportImportFile): Promise<void> {\n\t\treturn new Promise<void>((resolve) => {\n\t\t\tconst oSelectedSections = this.oControlModel.getProperty(\"/import/sections\") as IExportSections[];\n\t\t\tif (\n\t\t\t\toImportData?.apps &&\n\t\t\t\toImportData?.apps.length > 0 &&\n\t\t\t\tthis.isSectionSelected(oSelectedSections, String(this._i18nBundle.getText(\"favApps\")))\n\t\t\t) {\n\t\t\t\tthis.oSectionsImported[String(this._i18nBundle.getText(\"favApps\"))] = false;\n\t\t\t\tthis.oEventBus.publish(\"importChannel\", \"appsImport\", oImportData.apps);\n\t\t\t\tresolve();\n\t\t\t} else {\n\t\t\t\t// if no apps / apps selected then resolve the promise and mark the section as imported\n\t\t\t\tthis.oSectionsImported[String(this._i18nBundle.getText(\"favApps\"))] = true;\n\t\t\t\tthis.updateImportStatus(\"favApps\");\n\t\t\t\tresolve(); // Resolve the promise if condition doesn't meet\n\t\t\t}\n\t\t});\n\t}\n\n\tprivate importTiles(oImportData?: IExportData | IExportImportFile): Promise<void> {\n\t\treturn new Promise<void>((resolve) => {\n\t\t\tconst oSelectedSections = this.oControlModel.getProperty(\"/import/sections\") as IExportSections[];\n\t\t\tif (\n\t\t\t\toImportData?.tiles &&\n\t\t\t\toImportData.tiles.length > 0 &&\n\t\t\t\tthis.isSectionSelected(oSelectedSections, String(this._i18nBundle.getText(\"insightsTiles\")))\n\t\t\t) {\n\t\t\t\tthis.oSectionsImported[String(this._i18nBundle.getText(\"insightsTiles\"))] = false;\n\t\t\t\tthis.oEventBus.publish(\"importChannel\", \"tilesImport\", oImportData.tiles);\n\t\t\t\tresolve();\n\t\t\t} else {\n\t\t\t\t// if no tiles / tiles section not selected then resolve the promise and mark the section as imported\n\t\t\t\tthis.oSectionsImported[String(this._i18nBundle.getText(\"insightsTiles\"))] = true;\n\t\t\t\tthis.updateImportStatus(\"insightsTiles\");\n\t\t\t\tresolve(); // Resolve the promise if condition doesn't meet\n\t\t\t}\n\t\t});\n\t}\n\n\tprivate importFavPages(oImportData?: IExportData | IExportImportFile): Promise<void> {\n\t\treturn new Promise<void>((resolve) => {\n\t\t\tconst oSelectedSections = this.oControlModel.getProperty(\"/import/sections\") as IExportSections[];\n\t\t\tif (\n\t\t\t\toImportData?.favouritePages &&\n\t\t\t\toImportData.favouritePages.length > 0 &&\n\t\t\t\tthis.isSectionSelected(oSelectedSections, String(this._i18nBundle.getText(\"pages\")))\n\t\t\t) {\n\t\t\t\tthis.oSectionsImported[String(this._i18nBundle.getText(\"pages\"))] = false;\n\t\t\t\tthis.oEventBus.publish(\"importChannel\", \"favPagesImport\", oImportData.favouritePages);\n\t\t\t\tresolve();\n\t\t\t} else {\n\t\t\t\t// if no tiles / tiles section not selected then resolve the promise and mark the section as imported\n\t\t\t\tthis.oSectionsImported[String(this._i18nBundle.getText(\"pages\"))] = true;\n\t\t\t\tthis.updateImportStatus(\"pages\");\n\t\t\t\tresolve(); // Resolve the promise if condition doesn't meet\n\t\t\t}\n\t\t});\n\t}\n\n\tprivate importCards(oImportData?: IExportData | IExportImportFile): Promise<void> {\n\t\treturn new Promise<void>((resolve) => {\n\t\t\tconst oSelectedSections = this.oControlModel.getProperty(\"/import/sections\") as IExportSections[];\n\t\t\tif (\n\t\t\t\toImportData?.cards &&\n\t\t\t\toImportData.cards.length > 0 &&\n\t\t\t\tthis.isSectionSelected(oSelectedSections, String(this._i18nBundle.getText(\"insightsCards\")))\n\t\t\t) {\n\t\t\t\tthis.oSectionsImported[String(this._i18nBundle.getText(\"insightsCards\"))] = false;\n\t\t\t\tthis.oEventBus.publish(\"importChannel\", \"cardsImport\", oImportData.cards);\n\t\t\t\tresolve();\n\t\t\t} else {\n\t\t\t\t// if no tiles / tiles section not selected then resolve the promise and mark the section as imported\n\t\t\t\tthis.oSectionsImported[String(this._i18nBundle.getText(\"insightsCards\"))] = true;\n\t\t\t\tthis.updateImportStatus(\"insightsCards\");\n\t\t\t\tresolve(); // Resolve the promise if condition doesn't meet\n\t\t\t}\n\t\t});\n\t}\n\t/**\n\t *  Updates status of sections being imported\n\t *\t@param {string} sSectionTitle - section title\n\t * \t@param {boolean} errorState - error state\n\t * \t@returns {void}\n\t */\n\tprivate updateImportStatus(sSectionTitle: string, errorState?: boolean): void {\n\t\tconst sSectionId = String(this._i18nBundle.getText(sSectionTitle));\n\t\tconst oSelectedSections = this.oControlModel.getProperty(\"/import/sections\") as IExportSections[];\n\t\tconst oSection = oSelectedSections.find(function (oSec) {\n\t\t\treturn oSec.title === sSectionId;\n\t\t});\n\t\tif (oSection) {\n\t\t\tif (errorState !== undefined) {\n\t\t\t\toSection.status = errorState ? ValueState.Error : ValueState.Success;\n\t\t\t} else {\n\t\t\t\toSection.status = ValueState.None;\n\t\t\t}\n\t\t\t//if a section's status has become success then disable that particular section\n\t\t\tif (oSection.status === ValueState.Success) {\n\t\t\t\toSection.enabled = false;\n\t\t\t}\n\t\t}\n\t\tthis.oSectionsImported[sSectionId] = true;\n\t\tconst sectionTitles = Object.keys(this.oSectionsImported);\n\t\t// if every section has been imported successfully then fire sectionsimported\n\t\tconst imported = sectionTitles.every((sTitle) => {\n\t\t\treturn this.oSectionsImported[sTitle];\n\t\t});\n\t\tif (imported) {\n\t\t\tthis.fireEvent(\"sectionsImported\");\n\t\t}\n\t}\n\n\t/**\n\t *  Resets the import model values\n\t *  @param {boolean} onOpen - value to show if the reset call is happening while opening the dialog for the first time\n\t * \t@private\n\t */\n\tpublic resetImportModel(onOpen?: boolean): void {\n\t\tthis.oControlModel.setProperty(\"/import/sections\", []);\n\t\tthis.oControlModel.setProperty(\"/import/sectionsSelected\", false);\n\t\tthis.oControlModel.setProperty(\"/import/error\", false);\n\t\t// if called on settingsdialog open , reset value of selectedtab and fileUploader value\n\t\tif (onOpen) {\n\t\t\tthis.oControlModel.setProperty(\"/selectedTab\", \"export\");\n\t\t\t(Element.getElementById(this.getId() + \"--idImportFileUploader\") as FileUploader)?.setValue(\"\");\n\t\t}\n\t}\n\n\t/**\n\t * \tFind visualizations that are not already present in the favsections\n\t * @param aImportedSections\n\t * @returns {Promise<ISection[] | []>} aImportedSections\n\t */\n\tprivate async getDeltaSectionViz(aImportedSections: ISection[]): Promise<ISection[] | []> {\n\t\ttry {\n\t\t\tconst favSections: ISection[] = await this.oAppManagerInstance._getSections(true);\n\n\t\t\taImportedSections.forEach((oImportedSection) => {\n\t\t\t\tlet oSection: ISection | undefined;\n\t\t\t\tif (oImportedSection.default) {\n\t\t\t\t\toSection = favSections.find((oSec) => oSec.default);\n\t\t\t\t} else {\n\t\t\t\t\toSection = favSections.find((oSec) => oSec.id === oImportedSection.id);\n\t\t\t\t}\n\t\t\t\tif (oSection) {\n\t\t\t\t\t// find visualizations that are not already present in the favsections\n\t\t\t\t\tconst aDelta = oImportedSection.visualizations?.filter((oImportViz) => {\n\t\t\t\t\t\treturn oSection.visualizations?.every((oViz) =>\n\t\t\t\t\t\t\toViz.isBookmark ? oViz.targetURL !== oImportViz.targetURL : oViz.vizId !== oImportViz.vizId\n\t\t\t\t\t\t);\n\t\t\t\t\t});\n\t\t\t\t\toImportedSection.visualizations = aDelta;\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn aImportedSections;\n\t\t} catch (error) {\n\t\t\tLog.error(\"Error occurred while fetching delta section visualizations:\" + String(error));\n\t\t\treturn []; // Return an empty array in case of error\n\t\t}\n\t}\n\n\tprivate getDeltaAuthSectionViz(aImportedSections: ISection[]): Promise<[] | ISection[]> {\n\t\t// Get delta visualization\n\t\tif (aImportedSections && aImportedSections.length) {\n\t\t\treturn this.getDeltaSectionViz(aImportedSections)\n\t\t\t\t.then((aDeltaSections: ISection[]) => {\n\t\t\t\t\t// Filter authorized section visualizations\n\t\t\t\t\treturn this.filterAuthSectionViz(aDeltaSections);\n\t\t\t\t})\n\t\t\t\t.catch((oError) => {\n\t\t\t\t\tLog.error(String(oError));\n\t\t\t\t\treturn [];\n\t\t\t\t});\n\t\t}\n\t\treturn Promise.resolve([]); // Return a promise resolving to void\n\t}\n\n\tprivate async filterAuthSectionViz(aSections: ISection[]): Promise<ISection[]> {\n\t\tconst _getCatalogApps = function () {\n\t\t\treturn Container.getServiceAsync<SearchableContent>(\"SearchableContent\").then(function (SearchableContent) {\n\t\t\t\treturn SearchableContent.getApps({ includeAppsWithoutVisualizations: false });\n\t\t\t});\n\t\t};\n\n\t\tconst _filterAuthViz = function (aAppCatalog: AppData[], aViz: IVisualization[] | undefined) {\n\t\t\tconst aSectionViz: IVisualization[] | undefined = [];\n\t\t\taViz?.forEach(function (oViz) {\n\t\t\t\tfor (let appCatalog of aAppCatalog) {\n\t\t\t\t\tconst oAppCatalog = appCatalog;\n\t\t\t\t\tconst oSectionViz = oAppCatalog.visualizations.find(function (oCatalogViz: IVisualization) {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\toCatalogViz.vizId === oViz.vizId ||\n\t\t\t\t\t\t\t(oViz.isBookmark &&\n\t\t\t\t\t\t\t\toCatalogViz.target &&\n\t\t\t\t\t\t\t\toViz.target?.action === oCatalogViz.target.action &&\n\t\t\t\t\t\t\t\toViz.target?.semanticObject === oCatalogViz.target.semanticObject)\n\t\t\t\t\t\t);\n\t\t\t\t\t});\n\t\t\t\t\tif (oSectionViz) {\n\t\t\t\t\t\toSectionViz.displayFormatHint =\n\t\t\t\t\t\t\toViz.displayFormatHint !== \"standard\" ? String(oViz.displayFormatHint) : String(oSectionViz.displayFormatHint);\n\t\t\t\t\t\taSectionViz.push(oViz.isBookmark ? oViz : oSectionViz);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn aSectionViz;\n\t\t};\n\n\t\treturn await _getCatalogApps().then(function (aAppCatalog) {\n\t\t\treturn aSections.map(function (oSection) {\n\t\t\t\toSection.visualizations = _filterAuthViz(aAppCatalog, oSection.visualizations);\n\t\t\t\treturn oSection;\n\t\t\t});\n\t\t});\n\t}\n\n\t/**\n\t * Filter authorized favorite pages\n\t *\n\t * @param {Array} aFavPages - array of favorite pages\n\t * @returns {Promise} resolves to an array of authorized pages\n\t */\n\tprivate async filterAuthFavPages(aFavPages: IPage[]): Promise<IPage[] | []> {\n\t\tif (aFavPages && aFavPages.length > 0) {\n\t\t\treturn await this.oPageManagerInstance.fetchAllAvailablePages().then(function (aAvailablePages) {\n\t\t\t\treturn aFavPages.filter(function (oimportedPage) {\n\t\t\t\t\treturn aAvailablePages.filter(function (oAvailabePage) {\n\t\t\t\t\t\treturn oAvailabePage.pageId === oimportedPage.pageId && oAvailabePage.spaceId === oimportedPage.spaceId;\n\t\t\t\t\t}).length;\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\t\treturn Promise.resolve([]);\n\t}\n\n\t/**\n\t * Filter authorized cards\n\t *\n\t * @param {Array} aCards - array of cards\n\t * @returns {Promise} resolves to an array of authorized cards\n\t */\n\tprivate async filterAuthCards(aCards: ICardManifest[] | void): Promise<ICardManifest[] | undefined> {\n\t\tconst _getParentApp = function (aAvailableApps: IAppInbounds[], oCard: ICardManifest) {\n\t\t\treturn aAvailableApps.find(function (oApp) {\n\t\t\t\treturn (\n\t\t\t\t\toApp.resolutionResult &&\n\t\t\t\t\toApp.resolutionResult.applicationDependencies &&\n\t\t\t\t\toCard[\"sap.insights\"] &&\n\t\t\t\t\toApp.resolutionResult.applicationDependencies.name === oCard[\"sap.insights\"].parentAppId\n\t\t\t\t);\n\t\t\t});\n\t\t};\n\n\t\tconst _isNavigationSupported = function (oService: Navigation, oParentApp: IAppInbounds | undefined) {\n\t\t\tif (oParentApp) {\n\t\t\t\treturn oService\n\t\t\t\t\t.isNavigationSupported([\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttarget: {\n\t\t\t\t\t\t\t\tsemanticObject: oParentApp.semanticObject,\n\t\t\t\t\t\t\t\taction: oParentApp.action\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t])\n\t\t\t\t\t.then(function (aResponses) {\n\t\t\t\t\t\treturn aResponses[0].supported || false;\n\t\t\t\t\t});\n\t\t\t}\n\t\t\treturn Promise.resolve(false);\n\t\t};\n\n\t\tif (aCards && aCards.length > 0) {\n\t\t\treturn await Promise.all([\n\t\t\t\tContainer.getServiceAsync<ClientSideTargetResolution>(\"ClientSideTargetResolution\"),\n\t\t\t\tContainer.getServiceAsync<Navigation>(\"Navigation\")\n\t\t\t]).then(function (aServices: [ClientSideTargetResolution, Navigation]) {\n\t\t\t\tconst clientSideTargetResolution = aServices[0];\n\t\t\t\tconst Navigation = aServices[1];\n\t\t\t\tconst aAvailableApps = clientSideTargetResolution._oAdapter._aInbounds || [];\n\n\t\t\t\treturn aCards.reduce<Promise<ICardManifest[]>>(async (promise: Promise<ICardManifest[]>, oCard: ICardManifest) => {\n\t\t\t\t\tconst aAuthCards: ICardManifest[] = await promise;\n\t\t\t\t\tconst oParentApp = _getParentApp(aAvailableApps, oCard);\n\t\t\t\t\tconst bIsNavigationSupported = await _isNavigationSupported(Navigation, oParentApp);\n\t\t\t\t\tif (bIsNavigationSupported) {\n\t\t\t\t\t\taAuthCards.push(oCard);\n\t\t\t\t\t}\n\t\t\t\t\treturn aAuthCards;\n\t\t\t\t}, Promise.resolve([]));\n\t\t\t});\n\t\t}\n\t\treturn Promise.resolve([]);\n\t}\n\n\t/**\n\t * Handles change event for fileuploader on import file\n\t *\n\t * @returns {Promise} resolves to available import sections being shown\n\t */\n\tprivate onFileImport(oEvent: FileUploader$ChangeEvent): Promise<void> {\n\t\tthis.handleUserPersonalizationError(ImportExportType.IMPORT, false, \"\", \"\");\n\t\tthis.resetImportModel();\n\t\tthis.oDetailPage.setBusy(true);\n\n\t\tconst files = oEvent.getParameter(\"files\");\n\t\tconst oFile = files && (files[0] as File);\n\n\t\treturn this.readFileContent(oFile)\n\t\t\t.then((oFileContent) => {\n\t\t\t\t// btoa doesn't support the characters outside latin-1 range, so first encode to utf-8\n\t\t\t\tconst oEncodedFileContent = window.btoa(\n\t\t\t\t\tencodeURIComponent(oFileContent).replace(/%([0-9A-F]{2})/g, function (match, p1: string) {\n\t\t\t\t\t\treturn String.fromCharCode(parseInt(p1, 16)); // Convert p1 to a number using parseInt //String.fromCharCode(\"0x\" + p1);\n\t\t\t\t\t})\n\t\t\t\t);\n\t\t\t\treturn HttpHelper.Post(EXPORT_API, { fileContent: oEncodedFileContent }).then((oResponse: unknown) => {\n\t\t\t\t\tif (oResponse && (oResponse as { error: string }).error) {\n\t\t\t\t\t\tthrow new Error((oResponse as { error: string }).error);\n\t\t\t\t\t}\n\t\t\t\t\tif (oResponse && (oResponse as { value: string[] }).value && (oResponse as { value: string[] }).value.length) {\n\t\t\t\t\t\tconst oImportDataString: string | undefined = (oResponse as ApiResponse).value[0].fileContent;\n\n\t\t\t\t\t\t// Parse the stringified JSON into the defined type\n\t\t\t\t\t\tconst oImportData = JSON.parse(oImportDataString) as IExportImportFile;\n\t\t\t\t\t\tif (oImportData.host === window.location.host) {\n\t\t\t\t\t\t\tconst aImportedSections = (oImportData.sections as ISection[]) || ([] as ISection[]);\n\t\t\t\t\t\t\taImportedSections.push({\n\t\t\t\t\t\t\t\tid: MYINSIGHT_SECTION_ID,\n\t\t\t\t\t\t\t\tvisualizations: (oImportData.tiles as IVisualization[]) || []\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t//filter authorized data\n\t\t\t\t\t\t\treturn this.filterAuthorizedImportData(aImportedSections, oImportData);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.handleUserPersonalizationError(\n\t\t\t\t\t\t\t\tImportExportType.IMPORT,\n\t\t\t\t\t\t\t\ttrue,\n\t\t\t\t\t\t\t\tString(this._i18nBundle.getText(\"importSourceErrorMessage\")),\n\t\t\t\t\t\t\t\t\"\"\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\treturn Promise.resolve();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t})\n\t\t\t.catch((oError) => {\n\t\t\t\tLog.error(String(oError));\n\t\t\t\tthis.handleUserPersonalizationError(ImportExportType.IMPORT, true, \"\", \"\");\n\t\t\t})\n\t\t\t.finally(() => {\n\t\t\t\tthis.oDetailPage.setBusy(false);\n\t\t\t\tthis.enableDisableActions(ImportExportType.IMPORT);\n\t\t\t});\n\t}\n\n\tprivate filterAuthorizedImportData(aImportedSections: ISection[], oImportData: IExportImportFile): Promise<void> {\n\t\treturn Promise.all([\n\t\t\tthis.getDeltaAuthSectionViz(aImportedSections),\n\t\t\tthis.filterAuthFavPages(oImportData.favouritePages),\n\t\t\tthis.filterAuthCards(oImportData.cards),\n\t\t\tthis.getInsightCards() // check : send only cards count here as all cards are not required\n\t\t]).then((aResponse) => {\n\t\t\tconst aAuthSections = aResponse[0] as ISection[];\n\t\t\tconst aAuthFavPages = aResponse[1];\n\t\t\tconst aAuthCards = aResponse[2];\n\t\t\tconst iInsightCardsCount = aResponse[3].getProperty(\"/cardCount\") as number;\n\t\t\toImportData.apps = aAuthSections.filter(function (oSection) {\n\t\t\t\treturn oSection.id !== MYINSIGHT_SECTION_ID;\n\t\t\t});\n\t\t\toImportData.tiles =\n\t\t\t\t(\n\t\t\t\t\taAuthSections.find(function (oSection) {\n\t\t\t\t\t\treturn oSection.id === MYINSIGHT_SECTION_ID;\n\t\t\t\t\t}) || {}\n\t\t\t\t).visualizations || [];\n\t\t\toImportData.favouritePages = aAuthFavPages;\n\t\t\toImportData.cards = aAuthCards || [];\n\t\t\tconst iTotalCardCount = iInsightCardsCount + Number(aAuthCards?.length);\n\t\t\tif (iTotalCardCount > 99) {\n\t\t\t\tthis.handleUserPersonalizationError(\n\t\t\t\t\tImportExportType.IMPORT,\n\t\t\t\t\ttrue,\n\t\t\t\t\tString(this._i18nBundle.getText(\"importCardCountErrorMessage\")),\n\t\t\t\t\t\"\"\n\t\t\t\t);\n\t\t\t}\n\t\t\tlet aSections = this.getImportedSections(oImportData, ImportExportType.IMPORT, iInsightCardsCount);\n\t\t\taSections = aSections.map(function (oSection) {\n\t\t\t\toSection.status = ValueState.None;\n\t\t\t\treturn oSection;\n\t\t\t});\n\t\t\tthis.oUserPersonalization.import.data = oImportData;\n\t\t\tthis.oControlModel.setProperty(\"/import/sections\", aSections);\n\t\t\tthis.oControlModel.setProperty(\"/import/sectionsSelected\", this.getSelectedSections(aSections).length > 0);\n\t\t\tthis.oControlModel.setProperty(\"/showNoImport\", aSections.length === 0);\n\t\t});\n\t}\n\n\tprivate readFileContent(oFile: File | undefined): Promise<string> {\n\t\treturn new Promise(function (resolve, reject) {\n\t\t\tif (oFile && window.FileReader) {\n\t\t\t\tconst reader = new FileReader();\n\t\t\t\treader.onload = function (event: ProgressEvent<FileReader>) {\n\t\t\t\t\tconst target = event.target as FileReader;\n\t\t\t\t\tresolve(target?.result as string);\n\t\t\t\t};\n\t\t\t\t// Convert oFile to Blob\n\t\t\t\tconst blob = oFile as unknown as Blob;\n\t\t\t\treader.readAsText(blob);\n\t\t\t} else {\n\t\t\t\treject(new Error(\"Error\"));\n\t\t\t}\n\t\t});\n\t}\n\n\tprivate async _getPersonalizationData(): Promise<IPersonalizationData> {\n\t\tif (!this.oPersonalizerInstance) {\n\t\t\tthis.oPersonalizerInstance = await UShellPersonalizer.getInstance(\n\t\t\t\tPersonalisationUtils.getPersContainerId(this._getPanel()),\n\t\t\t\tPersonalisationUtils.getOwnerComponent(this._getPanel()) as Component\n\t\t\t);\n\t\t}\n\t\tthis.persData = (await this.oPersonalizerInstance.read()) || {};\n\t\treturn this.persData;\n\t}\n\n\tprivate async loadUserPersonalizationData(): Promise<void> {\n\t\tthis.oExportList.setBusy(true);\n\t\tconst persData = await this._getPersonalizationData();\n\n\t\t// load all sections, insight apps and cards\n\t\tconst [favSections, insightTiles, insightModel] = await Promise.all([\n\t\t\tthis.oAppManagerInstance._getSections(true),\n\t\t\tthis.oAppManagerInstance.fetchInsightApps(true, this._i18nBundle.getText(\"insights\") as string),\n\t\t\tthis.getInsightCards()\n\t\t]);\n\n\t\tconst aSections = favSections,\n\t\t\tfavApps = aSections.filter(function (oSection) {\n\t\t\t\treturn oSection.id !== MYINSIGHT_SECTION_ID && oSection.visualizations?.length;\n\t\t\t});\n\n\t\tconst insightCards: ICardManifest[] =\n\t\t\tinsightModel && insightModel.getProperty(\"/visibleCards\")\n\t\t\t\t? (insightModel.getProperty(\"/visibleCards\") as ICard[]).map((oCard: ICard) => {\n\t\t\t\t\t\treturn oCard.descriptorContent;\n\t\t\t\t\t})\n\t\t\t\t: [];\n\t\tconst oExportData = {\n\t\t\tapps: favApps,\n\t\t\ttiles: insightTiles,\n\t\t\tfavouritePages: persData.favouritePages,\n\t\t\tcards: insightCards,\n\t\t\tpersonalization: persData\n\t\t} as IExportData;\n\t\tconst aExportSections = this.getImportedSections(oExportData, ImportExportType.EXPORT, 0);\n\t\tthis.oUserPersonalization.export.data = oExportData;\n\t\tthis.oUserPersonalization.export.sections = aExportSections;\n\t\tthis.oUserPersonalization.export.sectionsSelected = this.getSelectedSections(aExportSections).length > 0;\n\t\tthis.oControlModel.refresh();\n\t\tthis.oExportList.setBusy(false);\n\t}\n\n\t/**\n\t * Returns selected sections out of provided sections\n\t *\n\t * @param {Array} aSections - array of sections to show in import/export\n\t * @returns {Array} array of selected sections\n\t */\n\tgetSelectedSections(aSections: IExportSections[]): IExportSections[] {\n\t\treturn (\n\t\t\taSections.filter(function (oSection) {\n\t\t\t\treturn oSection.selected && oSection.enabled;\n\t\t\t}) || []\n\t\t);\n\t}\n\n\t/**\n\t * Returns if section is selected\n\t *\n\t * @param {Array} oSections - import/export sections\n\t * @param {String} sSectionId - import/export section id\n\t * @returns {boolean} returns true if section is selected\n\t */\n\tisSectionSelected(sections: IExportSections[], sectionId: string): boolean {\n\t\tconst section = sections.find(function (sec) {\n\t\t\treturn sec.title === sectionId;\n\t\t});\n\t\treturn !!(section && section.selected && section.enabled);\n\t}\n\n\t/**\n\t * Returns import/export sections\n\t *\n\t * @param {object} oData - export/import data\n\t * @param {ImportExportType} sType - export/import type\n\t * @param {number} iInsightCardsCount - cards count\n\t * @returns {Array} array of import/export sections\n\t */\n\tprivate getImportedSections(\n\t\toData: IExportData | IExportImportFile,\n\t\tsType: ImportExportType,\n\t\tiInsightCardsCount: number\n\t): IExportSections[] {\n\t\tconst aFavPages = (sType === ImportExportType.IMPORT ? this.getDeltaFavPages(oData.favouritePages) : oData.favouritePages) || [],\n\t\t\tisAppViz =\n\t\t\t\toData.apps &&\n\t\t\t\toData.apps.some(function (oSections) {\n\t\t\t\t\treturn oSections && oSections.visualizations && oSections.visualizations.length > 0;\n\t\t\t\t});\n\n\t\treturn [\n\t\t\t{\n\t\t\t\ttitle: this._i18nBundle.getText(\"favApps\") as string,\n\t\t\t\tselected: isAppViz,\n\t\t\t\tenabled: isAppViz\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: this._i18nBundle.getText(\"pages\") as string,\n\t\t\t\tselected: aFavPages.length > 0,\n\t\t\t\tenabled: aFavPages.length > 0\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: this._i18nBundle.getText(\"insightsTiles\") as string,\n\t\t\t\tselected: oData.tiles && oData.tiles.length > 0,\n\t\t\t\tenabled: oData.tiles && oData.tiles.length > 0\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: this._i18nBundle.getText(\"insightsCards\") as string,\n\t\t\t\tselected: oData.cards && oData.cards.length > 0 && oData.cards.length + iInsightCardsCount <= 99,\n\t\t\t\tenabled: oData.cards && oData.cards.length > 0 && oData.cards.length + iInsightCardsCount <= 99\n\t\t\t}\n\t\t];\n\t}\n\n\tprivate getDeltaFavPages(aImportedFavPages: IPage[]): IPage[] {\n\t\tconst aFavPages = this.persData.favouritePages || [];\n\t\tif (aFavPages.length !== aImportedFavPages.length) {\n\t\t\treturn aImportedFavPages;\n\t\t}\n\t\treturn aImportedFavPages.filter(function (oImportedPage) {\n\t\t\treturn !aFavPages.find(function (oFavPage) {\n\t\t\t\treturn oImportedPage.pageId === oFavPage.pageId && oImportedPage.spaceId === oFavPage.spaceId;\n\t\t\t});\n\t\t});\n\t}\n\n\tprivate async getInsightCards(): Promise<JSONModel> {\n\t\ttry {\n\t\t\tthis.cardHelperInstance = await (CardHelper as ICardHelper).getServiceAsync();\n\t\t\tconst oUserVisibleCardModel = await this.cardHelperInstance._getUserAllCardModel();\n\t\t\tconst aCards = oUserVisibleCardModel.getProperty(\"/cards\") as ICard[];\n\t\t\tconst aVisibleCards = aCards.filter(function (oCard: ICard) {\n\t\t\t\treturn oCard.visibility;\n\t\t\t});\n\t\t\toUserVisibleCardModel.setProperty(\"/visibleCards\", aVisibleCards);\n\t\t\treturn oUserVisibleCardModel;\n\t\t} catch (error) {\n\t\t\t// Handle any errors\n\t\t\tconsole.error(\"Error in getInsightCards:\", error);\n\t\t\tthrow error; // Re-throw the error to be handled by the caller\n\t\t}\n\t}\n\n\t/**\n\t * Handles export button press\n\t */\n\tprivate onExportPress(): void {\n\t\tthis.handleUserPersonalizationError(ImportExportType.EXPORT, false, \"\", \"\");\n\t\tconst oExportFileName = this.oControlModel.getProperty(\"/export/fileName\") as string,\n\t\t\taExportSections = this.oControlModel.getProperty(\"/export/sections\") as IExportSections[],\n\t\t\toExportData = this.oUserPersonalization.export.data;\n\t\tconst oExportFileContent = this.getExportFileContent(oExportData, aExportSections);\n\t\tsap.ui.require([\"sap/ui/core/util/File\"], (File: File) => {\n\t\t\ttry {\n\t\t\t\tFile.save(JSON.stringify(oExportFileContent), oExportFileName, \"txt\", \"text/plain\", \"utf-8\");\n\t\t\t\tMessageToast.show(String(this._i18nBundle.getText(\"userPersonalizationExportSuccess\")));\n\t\t\t} catch (error) {\n\t\t\t\tLog.error(error instanceof Error ? error.message : String(error));\n\t\t\t\tif (error instanceof Error && error?.name !== undefined && error.name !== \"AbortError\") {\n\t\t\t\t\t// Handle the error appropriately\n\t\t\t\t\tthis.handleUserPersonalizationError(ImportExportType.EXPORT, true, \"\", \"\");\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\tprivate getExportFileContent(exportData: IExportData | undefined, exportSections: IExportSections[]): IExportImportFile {\n\t\tconst oPersonalization = exportData?.personalization,\n\t\t\toExportFileContent = {\n\t\t\t\thost: window.location.host,\n\t\t\t\tcreatedDate: new Date(),\n\t\t\t\tsections: [] as ISectionAndVisualization[] | IVisualization[] | [],\n\t\t\t\tgroupInfo: [] as IAppPersonalization[] | IVisualization[] | [],\n\t\t\t\ttiles: [] as ISectionAndVisualization[] | IVisualization[] | [],\n\t\t\t\tcards: [],\n\t\t\t\tfavouritePages: [] as IPage[] | []\n\t\t\t};\n\t\tif (this.isSectionSelected(exportSections, this._i18nBundle.getText(\"favApps\") as string)) {\n\t\t\toExportFileContent.sections = exportData?.apps || [];\n\t\t\toExportFileContent.groupInfo = oPersonalization?.favoriteApps || [];\n\t\t}\n\t\tif (this.isSectionSelected(exportSections, this._i18nBundle.getText(\"pages\") as string)) {\n\t\t\toExportFileContent.favouritePages = oPersonalization?.favouritePages || [];\n\t\t}\n\t\tif (this.isSectionSelected(exportSections, this._i18nBundle.getText(\"insightsTiles\") as string)) {\n\t\t\toExportFileContent.tiles = exportData?.tiles || [];\n\t\t}\n\t\treturn oExportFileContent;\n\t}\n\n\t/**\n\t * Handles user personalization error, shows the error msg and reset values\n\t *\n\t * @param {string} sType - type of import/export\n\t * @param {boolean} bShowError - flag to show or hide error msg\n\t * @param {string} sErrorMsg - error msg text\n\t * @param {string} sErrorType - error msg type\n\t */\n\tprivate handleUserPersonalizationError(sType: ImportExportType, bShowError: boolean, sErrorMsg: string, sErrorType: string): void {\n\t\tconst sDefaultErrorMsg = this._i18nBundle.getText(sType === ImportExportType.IMPORT ? \"importErrorMessage\" : \"exportErrorMessage\");\n\t\tthis.oControlModel.setProperty(\"/\" + sType + \"/error\", bShowError, undefined, true);\n\t\tthis.oControlModel.setProperty(\"/\" + sType + \"/errorMessage\", sErrorMsg || sDefaultErrorMsg, undefined, true);\n\t\tthis.oControlModel.setProperty(\"/\" + sType + \"/errorType\", sErrorType || \"Error\", undefined, true);\n\t\tthis.setExportImportValues(sType);\n\t}\n\n\t/**\n\t * Handles import/export tab select\n\t *\n\t * @param {object} oEvent - IconTabBarSeelect event\n\t */\n\tprivate onImportExportTabSelect(oEvent: IconTabBar$SelectEvent): void {\n\t\tconst selectedKey = oEvent.getParameter(\"selectedKey\");\n\t\tthis.oSelectedTab = selectedKey;\n\t\tthis.oControlModel.setProperty(\"/selectedTab\", selectedKey);\n\t\tthis.oExportList.setVisible(selectedKey === \"export\");\n\n\t\tthis.oImportBtn.setVisible(selectedKey === \"import\");\n\t\tthis.oExportBtn.setVisible(selectedKey === \"export\");\n\t\tthis.oImportBtn.setEnabled(this.oUserPersonalization.import.sectionsSelected);\n\t\tthis.oExportBtn.setEnabled(this.oUserPersonalization.export.sectionsSelected);\n\t\tthis.oExportBtn.setEnabled(\n\t\t\t!!(\n\t\t\t\tthis.oUserPersonalization.export.fileName &&\n\t\t\t\tthis.oUserPersonalization.export.sections &&\n\t\t\t\tthis.oUserPersonalization.export.sections.length > 0 &&\n\t\t\t\tthis.oUserPersonalization.export.sectionsSelected\n\t\t\t)\n\t\t);\n\t}\n\n\t/**\n\t * Handles export file name input change\n\t *\n\t * @param {object} oEvent - event\n\t */\n\tprivate onFileNameInputChange(oEvent: Input$LiveChangeEvent): void {\n\t\tconst sInputValue: string | undefined = oEvent.getParameter(\"value\")?.trim();\n\t\tconst oInput = oEvent.getSource();\n\t\tlet sValueState = ValueState.None; // Initialize with ValueState.None\n\t\tlet sValueStateText = \"\";\n\n\t\t// Validate based on constraints provided at input\n\t\tif (!sInputValue || !sInputValue.length) {\n\t\t\tsValueState = ValueState.Error;\n\t\t\tsValueStateText = String(this._i18nBundle.getText(\"invalidExportFileName\"));\n\t\t}\n\n\t\t//update value state\n\t\toInput.setValueState(sValueState);\n\t\toInput.setValueStateText(sValueStateText);\n\t\tthis.oControlModel.setProperty(\"/export/fileName\", sInputValue);\n\t\tthis.enableDisableActions(ImportExportType.EXPORT);\n\t}\n\n\tprivate onResetImportApps(): void {\n\t\tthis.oEventBus.publish(\"importChannel\", \"resetImported\");\n\t}\n\n\t/**\n\t * Generates the recommendation settings panel\n\t * @returns {Panel} recommendation settings panel\n\t * @private\n\t */\n\tprivate async _getRecommendationSettingsPanel() {\n\t\tconst persData = await this._getPersonalizationData();\n\t\tif (!this._recommendationSettingsPanel) {\n\t\t\tconst panelId = this.getId() + \"--recommendationSettingsPanel\";\n\t\t\tthis._recommendationSettingsPanel = new Panel(panelId, {\n\t\t\t\theaderText: this._i18nBundle.getText(\"recommendationSettingsHeader\"),\n\t\t\t\texpanded: true,\n\t\t\t\texpandable: true,\n\t\t\t\tcontent: [\n\t\t\t\t\tnew Text({\n\t\t\t\t\t\tid: `${panelId}-container-subHeader`,\n\t\t\t\t\t\ttext: this._i18nBundle.getText(\"recommendationSettingsSubHeader\")\n\t\t\t\t\t}),\n\t\t\t\t\tnew HBox({\n\t\t\t\t\t\tid: `${panelId}-container`,\n\t\t\t\t\t\titems: [\n\t\t\t\t\t\t\tnew CheckBox({\n\t\t\t\t\t\t\t\tid: `${panelId}-container-checkBox`,\n\t\t\t\t\t\t\t\tselected: persData.showRecommendation ?? true,\n\t\t\t\t\t\t\t\tselect: (event) => this.onRecommendationSettingChange(event)\n\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\tnew Text({\n\t\t\t\t\t\t\t\tid: `${panelId}-container-label`,\n\t\t\t\t\t\t\t\ttext: this._i18nBundle.getText(\"recommendationSettingsCheckboxLabel\")\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t],\n\t\t\t\t\t\talignItems: FlexAlignItems.Center\n\t\t\t\t\t}).addStyleClass(\"sapUiSmallMarginTop\")\n\t\t\t\t]\n\t\t\t}).addStyleClass(\"sapUiSmallMarginTop\");\n\t\t}\n\t\treturn this._recommendationSettingsPanel;\n\t}\n\n\t/**\n\t * Adds recommendation settings panel to the content vbox, if recommendation feature is enabled\n\t * @returns {Promise<void>}\n\t * @private\n\t */\n\tprivate async _setRecommendationSettingsPanel() {\n\t\tthis.oDetailPage.setBusy(true);\n\t\tconst isRecommendationEnabled = await this.oAppManagerInstance.isFeatureEnabled(FEATURE_TOGGLES.RECOMMENDATION);\n\t\tif (isRecommendationEnabled) {\n\t\t\tconst recommendationSettingsPanel = await this._getRecommendationSettingsPanel();\n\t\t\tthis.oContentVBox.addItem(recommendationSettingsPanel);\n\t\t}\n\t\tthis.oDetailPage.setBusy(false);\n\t}\n\n\t/**\n\t * Handles recommendation setting change\n\t *\n\t * @param {CheckBox$SelectEvent} event - checkbox select event\n\t * @private\n\t */\n\tprivate async onRecommendationSettingChange(event: CheckBox$SelectEvent) {\n\t\tconst showRecommendation = event.getParameter(\"selected\");\n\t\tthis.oEventBus.publish(\"importChannel\", \"recommendationSettingChanged\", { showRecommendation });\n\t\tconst oPersData = await this._getPersonalizationData();\n\t\tvoid this.oPersonalizerInstance.write({ ...oPersData, showRecommendation });\n\t}\n}\n"],"mappings":"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","ignoreList":[],"sourceRoot":""}},{"offset":{"line":10,"column":0},"map":{"version":3,"file":"App.js","names":["sap","ui","define","Container","__BaseApp","_interopRequireDefault","obj","__esModule","default","BaseApp","App","extend","metadata","library","properties","url","type","group","defaultValue","vizId","constructor","_constructor","id","settings","BaseApp.prototype.constructor.call","this","_launchApp","_this","Promise","resolve","getServiceAsync","then","spaceContentService","launchTileTarget","getUrl","getTitle","e","reject","_handlePress"],"sources":["App.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\n\nimport type { MetadataOptions } from \"sap/ui/core/Element\";\nimport Container from \"sap/ushell/Container\";\nimport SpaceContent from \"sap/ushell/services/SpaceContent\";\nimport { $AppSettings } from \"./App\";\nimport BaseApp from \"./BaseApp\";\n\n/**\n *\n * App class for managing and storing Apps.\n *\n * @extends sap.cux.home.BaseApp\n *\n * @author SAP SE\n * @version 0.0.1\n * @since 1.121.0\n *\n * @internal\n * @experimental Since 1.121\n * @private\n *\n * @alias sap.cux.home.App\n */\nexport default class App extends BaseApp {\n\tconstructor(idOrSettings?: string | $AppSettings);\n\tconstructor(id?: string, settings?: $AppSettings);\n\tconstructor(id?: string, settings?: $AppSettings) {\n\t\tsuper(id, settings);\n\t}\n\n\tstatic readonly metadata: MetadataOptions = {\n\t\tlibrary: \"sap.cux.home\",\n\t\tproperties: {\n\t\t\t/**\n\t\t\t * Url of the app where the user navigates to on click\n\t\t\t */\n\t\t\turl: { type: \"string\", group: \"Misc\", defaultValue: \"\" },\n\t\t\t/**\n\t\t\t * VizId of the app. Used for enabling addition of apps to FavoriteApp panel\n\t\t\t */\n\t\t\tvizId: { type: \"string\", group: \"Misc\", defaultValue: \"\" }\n\t\t}\n\t};\n\n\t/**\n\t * Navigates to the clicked app\n\t * @private\n\t */\n\tprivate async _launchApp(): Promise<void> {\n\t\tconst spaceContentService = await Container.getServiceAsync<SpaceContent>(\"SpaceContent\");\n\t\tawait spaceContentService.launchTileTarget(this.getUrl(), this.getTitle());\n\t}\n\n\t/**\n\t * App Press Handler\n\t * @private\n\t */\n\tpublic _handlePress(): void {\n\t\tif (this.getUrl()) {\n\t\t\tvoid this._launchApp();\n\t\t}\n\t}\n}\n"],"mappings":"AAAA;;;;AAAA,aAAAA,IAAAC,GAAAC,OAAA,8CAAAC,EAAAC,GAAA,sBAAAC,EAAAC,GAAA,OAAAA,KAAAC,mBAAAD,EAAAE,UAAA,YAAAF,EAAAE,QAAAF,CAAA,OASOG,EAAOJ,EAAAD,GAEd,MAgBqBM,EAAYD,EAAOE,OAAA,oBAOvBC,SAA4B,CAC3CC,QAAS,eACTC,WAAY,CAIXC,IAAK,CAAEC,KAAM,SAAUC,MAAO,OAAQC,aAAc,IAIpDC,MAAO,CAAEH,KAAM,SAAUC,MAAO,OAAQC,aAAc,MAdxDE,YAAW,SAAAC,EAACC,EAAaC,GACxBC,6BAAAC,KAAMH,EAAIC,EACX,EAoBcG,WAAU,SAAAA,IAAA,IAAkB,MAAAC,EAEEF,KAAI,OAAAG,QAAAC,QADb1B,EAAU2B,gBAA8B,iBAAeC,KAAA,SAAnFC,GAAmB,OAAAJ,QAAAC,QACnBG,EAAoBC,iBAAiBN,EAAKO,SAAUP,EAAKQ,aAAWJ,KAAA,eAC3E,CAAC,MAAAK,GAAA,OAAAR,QAAAS,OAAAD,EAAA,GAMME,aAAY,SAAAA,IAClB,GAAIb,KAAKS,SAAU,MACbT,KAAKC,YACX,CACD,IAAC,OAtCmBhB,CAAG","ignoreList":[],"sourceRoot":""}},{"offset":{"line":17,"column":0},"map":{"version":3,"file":"AppsContainer.js","names":["sap","ui","define","GenericTile","Panel","sap_m_library","EventBus","Parameters","__BaseContainer","___library","__DataFormatUtils","___utils_Device","_interopRequireDefault","obj","__esModule","default","BackgroundDesign","FrameType","GenericTileMode","GenericTileScope","TileSizeBehavior","BaseContainer","LayoutType","DataFormatUtils","DeviceType","getDefaultAppColor","sLegendName","key","value","get","name","assigned","CONSTANTS","PLACEHOLDER_ITEMS_COUNT","AppsContainer","extend","metadata","events","appsLoaded","parameters","apps","type","tiles","renderer","apiVersion","constructor","_constructor","id","settings","BaseContainer.prototype.constructor.call","this","_isInitialRender","init","_init","BaseContainer.prototype.init.call","setProperty","_i18nBundle","getText","getDeviceType","Mobile","Vertical","_shellNavigationHandler","_onShellNavigated","_oEventBus","getInstance","subscribe","addStyleClass","exit","_exit","unsubscribe","onBeforeRendering","_onBeforeRendering","BaseContainer.prototype.onBeforeRendering.call","_attachPanelSupportedEvent","_removeUnsupportedPanels","isPhone","selectedPanels","getContent","_getSelectedPanel","selectedPanel","fireNavigated","_setApps","_setPanelsDirty","panels","panel","setDesktopViewDirty","setMobileViewDirty","_generatePlaceholder","isLoaded","placeholderApps","generateApps","Array","fill","status","destroyAggregation","setApps","_updatePanelContent","_this","_temp3","isDirty","isMobileDirty","Promise","resolve","loadApps","then","_temp2","getApps","fetchTileVisualization","fireEvent","setLoaded","_temp","isA","applyPersonalization","e","reject","groups","getAggregation","wrapper","_generateMobileAppsWrapper","_generateAppsWrapper","aggregationName","items","_generateMobileCards","_generateTiles","_addWrapperContent","_updatePanelContentVisibility","appsWrapper","_generateDesktopAppsWrapper","mobileAppsWrapper","errorCard","_generateErrorMessage","hasApps","length","setVisible","getParent","setWidth","_getAppTile","app","actions","scope","ActionMore","Display","state","getStatus","mode","IconMode","sizeBehavior","Small","header","getTitle","backgroundColor","getBgColor","tileIcon","getIcon","url","getLeanURL","getUrl","frameType","TwoByHalf","renderOnThemeChange","dropAreaOffset","subheader","getSubTitle","press","_onPress","width","_getGroupTile","group","tileBadge","getNumber","data","getGroupId","_onPanelSelect","event","_this2","BaseContainer.prototype._onPanelSelect.call","_refreshAllPanels","_this3","refreshPanel","_refreshPanel","_this4","_toggleTabView","supportedPanels","filter","isSupported","iconTabBarControl","_getInnerControl","toggleStyleClass","_onPanelSupported","currentPanel","getParameter","setSupported","_togglePanelVisibility","isVisible","panelWrapper","_getPanelContentWrapper","iconTabBar","tabs","getItems","selectedTab","find","tab","getKey","unSupportedPanels","hasListeners","attachSupported","bind","adjustLayout","_adjustLayout","currentLayout","getProperty","newLayout","SideBySide","shouldAdjustLayout","forEach","toggleActionButtons","i","panelItems","slice","backgroundDesign","Solid","height","content","push","map","item","addAggregation"],"sources":["AppsContainer.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\n\nimport GridContainer from \"sap/f/GridContainer\";\nimport GenericTile from \"sap/m/GenericTile\";\nimport HeaderContainer from \"sap/m/HeaderContainer\";\nimport IconTabBar, { IconTabBar$SelectEvent } from \"sap/m/IconTabBar\";\nimport IconTabFilter from \"sap/m/IconTabFilter\";\nimport Panel from \"sap/m/Panel\";\nimport VBox from \"sap/m/VBox\";\nimport { BackgroundDesign, FrameType, GenericTileMode, GenericTileScope, LoadState, TileSizeBehavior } from \"sap/m/library\";\nimport type { MetadataOptions } from \"sap/ui/core/Element\";\nimport EventBus from \"sap/ui/core/EventBus\";\nimport Parameters from \"sap/ui/core/theming/Parameters\";\nimport App from \"./App\";\nimport BaseApp from \"./BaseApp\";\nimport BaseAppPanel, { BaseAppPanel$SupportedEvent } from \"./BaseAppPanel\";\nimport BaseAppPersPanel from \"./BaseAppPersPanel\";\nimport BaseContainer, { $BaseContainerSettings } from \"./BaseContainer\";\nimport Group from \"./Group\";\nimport MenuItem from \"./MenuItem\";\nimport { ICustomVisualization } from \"./interface/AppsInterface\";\nimport { LayoutType } from \"./library\";\nimport DataFormatUtils from \"./utils/DataFormatUtils\";\nimport { DeviceType } from \"./utils/Device\";\n\nconst getDefaultAppColor = () => {\n\tconst sLegendName = \"sapLegendColor9\";\n\treturn {\n\t\tkey: sLegendName,\n\t\tvalue: Parameters.get({\n\t\t\tname: sLegendName\n\t\t}),\n\t\tassigned: false\n\t};\n};\n\nconst CONSTANTS = {\n\tPLACEHOLDER_ITEMS_COUNT: 5\n};\n\n/**\n *\n * Container class for managing and storing apps.\n *\n * @extends sap.cux.home.BaseContainer\n *\n * @author SAP SE\n * @version 0.0.1\n * @since 1.121\n *\n * @internal\n * @experimental Since 1.121\n * @public\n *\n * @alias sap.cux.home.AppsContainer\n */\nexport default class AppsContainer extends BaseContainer {\n\tprivate _oEventBus!: EventBus;\n\tprivate _shellNavigationHandler!: () => void;\n\tprivate _isInitialRender = true;\n\tstatic readonly renderer = {\n\t\t...BaseContainer.renderer,\n\t\tapiVersion: 2\n\t};\n\tstatic readonly metadata: MetadataOptions = {\n\t\tevents: {\n\t\t\t/**\n\t\t\t * Event is fired when apps are loaded.\n\t\t\t */\n\t\t\tappsLoaded: {\n\t\t\t\tparameters: {\n\t\t\t\t\tapps: { type: \"App[]\" },\n\t\t\t\t\ttiles: { type: \"GenericTile[]\" }\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n\t/**\n\t * Constructor for a new app container.\n\t *\n\t * @param {string} [id] ID for the new control, generated automatically if an ID is not provided\n\t * @param {object} [settings] Initial settings for the new control\n\t */\n\tpublic constructor(id?: string, settings?: $BaseContainerSettings) {\n\t\tsuper(id, settings);\n\t}\n\n\t/**\n\t * Init lifecycle method\n\t *\n\t * @private\n\t * @override\n\t */\n\tpublic init(): void {\n\t\tsuper.init();\n\t\tthis.setProperty(\"title\", this._i18nBundle?.getText(\"appsTitle\"));\n\t\tif (this.getDeviceType() === DeviceType.Mobile) {\n\t\t\tthis.setProperty(\"layout\", LayoutType.Vertical);\n\t\t}\n\t\tthis._shellNavigationHandler = () => this._onShellNavigated();\n\t\tthis._oEventBus = EventBus.getInstance();\n\t\tthis._oEventBus?.subscribe(\"sap.ushell\", \"navigated\", this._shellNavigationHandler);\n\t\tthis.addStyleClass(\"sapCuxAppsContainer\");\n\t}\n\n\t/**\n\t * Exit lifecycle method\n\t * Clean up event handlers\n\t * @private\n\t */\n\tpublic exit(): void {\n\t\tthis._oEventBus?.unsubscribe(\"sap.ushell\", \"navigated\", this._shellNavigationHandler);\n\t}\n\n\t/**\n\t * onBeforeRendering lifecycle method\n\t *\n\t * @private\n\t * @override\n\t */\n\tpublic onBeforeRendering() {\n\t\tsuper.onBeforeRendering();\n\n\t\tif (this._isInitialRender) {\n\t\t\tthis._isInitialRender = false;\n\t\t\tthis._attachPanelSupportedEvent();\n\t\t\tthis._removeUnsupportedPanels();\n\t\t}\n\t\tconst isPhone = this.getDeviceType() === DeviceType.Mobile;\n\t\tconst selectedPanels = (isPhone ? this.getContent() : [this._getSelectedPanel()]) as BaseAppPanel[];\n\t\tfor (const selectedPanel of selectedPanels) {\n\t\t\tselectedPanel.fireNavigated();\n\t\t\tvoid this._setApps(selectedPanel);\n\t\t}\n\t}\n\n\t/**\n\t * Handler for navigation event.\n\t * @private\n\t * Sets the panels dirty if navigated to different page.\n\t */\n\tprivate _onShellNavigated(): void {\n\t\tthis._setPanelsDirty();\n\t}\n\n\t/**\n\t * Set all panels dirty state to true, to refresh all panels\n\t * @private\n\t */\n\tprivate _setPanelsDirty(): void {\n\t\tconst panels = this.getContent() as BaseAppPanel[];\n\t\tfor (const panel of panels) {\n\t\t\tpanel.setDesktopViewDirty(true);\n\t\t\tpanel.setMobileViewDirty(true);\n\t\t}\n\t}\n\n\t/**\n\t * Generate placeholer for the panel.\n\t * @private\n\t * @param {BaseAppPanel} panel - Panel for which placeholders has to be generated.\n\t */\n\tprivate _generatePlaceholder(panel: BaseAppPanel): void {\n\t\tif (!panel.isLoaded()) {\n\t\t\tconst placeholderApps = panel.generateApps(\n\t\t\t\tnew Array(CONSTANTS.PLACEHOLDER_ITEMS_COUNT).fill({ status: \"Loading\" }) as ICustomVisualization[]\n\t\t\t);\n\t\t\tpanel.destroyAggregation(\"apps\", true);\n\t\t\tpanel.setApps(placeholderApps);\n\t\t\tthis._updatePanelContent(panel);\n\t\t}\n\t}\n\n\t/**\n\t * Loads and sets the apps.\n\t * @private\n\t * @param {BaseAppPanel} panel - Panel for which apps has to be loaded.\n\t * @returns {Promise<void>} resolves when apps are loaded.\n\t */\n\tprivate async _setApps(panel: BaseAppPanel): Promise<void> {\n\t\t// only load the apps if panel is in dirty state\n\t\tif (panel.isDirty() && panel.isMobileDirty()) {\n\t\t\tthis._generatePlaceholder(panel);\n\t\t\tawait panel.loadApps?.();\n\t\t\tif (this.getDeviceType() === DeviceType.Mobile) {\n\t\t\t\tpanel.setMobileViewDirty(false);\n\t\t\t} else {\n\t\t\t\tpanel.setDesktopViewDirty(false);\n\t\t\t}\n\t\t\tpanel.setLoaded(true);\n\t\t\tthis._updatePanelContent(panel);\n\n\t\t\tif (panel.isA(\"sap.cux.home.BaseAppPersPanel\")) {\n\t\t\t\tawait (panel as BaseAppPersPanel).applyPersonalization();\n\t\t\t}\n\t\t\tlet tiles: GenericTile[] = [];\n\t\t\tlet apps = panel.getApps();\n\t\t\ttiles = panel.fetchTileVisualization(tiles);\n\t\t\tthis.fireEvent(\"appsLoaded\", { apps, tiles });\n\t\t}\n\t}\n\n\t/**\n\t * Updates the content of the panel by replacing existing items with new apps and groups.\n\t * This method selects the appropriate wrapper based on the device type, and add apps/group or mobile cards to the wrapper.\n\t *\n\t * @param {BaseAppPanel} panel - The panel whose content needs to be updated.\n\t * @returns {void}\n\t * @private\n\t */\n\tprivate _updatePanelContent(panel: BaseAppPanel): void {\n\t\tconst apps = panel.getApps() || [];\n\t\tconst groups = (panel.getAggregation(\"groups\") || []) as Group[];\n\t\tconst isPhone = this.getDeviceType() === DeviceType.Mobile;\n\t\tconst wrapper = isPhone ? panel._generateMobileAppsWrapper() : panel._generateAppsWrapper();\n\t\tconst aggregationName = isPhone ? \"content\" : \"items\";\n\t\twrapper.destroyAggregation(aggregationName);\n\t\tlet items = isPhone ? this._generateMobileCards([...groups, ...apps]) : this._generateTiles([...groups, ...apps]);\n\t\tthis._addWrapperContent(wrapper, items, aggregationName);\n\t\tthis._updatePanelContentVisibility(panel);\n\t}\n\n\t/**\n\t * Updates the visibility of the panel's content based on the current state and device type.\n\t * This method determines whether to display the apps or an error message based on the presence of apps and groups.\n\t * It also adjusts the visibility of different containers depending on whether the device is a phone or not.\n\t *\n\t * @param {BaseAppPanel} panel - The panel whose content visibility needs to be updated.\n\t * @returns {void}\n\t * @private\n\t */\n\tprivate _updatePanelContentVisibility(panel: BaseAppPanel): void {\n\t\tconst apps = panel.getApps() || [];\n\t\tconst groups = (panel.getAggregation(\"groups\") || []) as Group[];\n\t\tconst isPhone = this.getDeviceType() === DeviceType.Mobile;\n\t\tconst appsWrapper = panel._generateDesktopAppsWrapper();\n\t\tconst mobileAppsWrapper = panel._generateMobileAppsWrapper();\n\t\tconst errorCard = panel._generateErrorMessage();\n\t\tconst hasApps = [...apps, ...groups].length !== 0;\n\t\tappsWrapper.setVisible(hasApps && !isPhone);\n\t\tmobileAppsWrapper.setVisible(hasApps && isPhone);\n\t\t(mobileAppsWrapper.getParent() as VBox).setWidth(isPhone && hasApps ? \"100%\" : \"auto\");\n\t\terrorCard.setVisible(!hasApps);\n\t}\n\n\t/**\n\t * Generates generic tile based on app.\n\t * @private\n\t * @param {sap.cux.home.App} app - App.\n\t * @returns {sap.m.GenericTile}.\n\t */\n\tpublic _getAppTile(app: App): GenericTile {\n\t\tconst isPhone = this.getDeviceType() === DeviceType.Mobile;\n\t\tconst actions = (app.getAggregation(\"menuItems\") || []) as MenuItem[];\n\t\treturn new GenericTile(\"\", {\n\t\t\tscope: actions.length && !isPhone ? GenericTileScope.ActionMore : GenericTileScope.Display,\n\t\t\tstate: app.getStatus() as LoadState,\n\t\t\tmode: GenericTileMode.IconMode,\n\t\t\tsizeBehavior: TileSizeBehavior.Small,\n\t\t\theader: app.getTitle(),\n\t\t\tbackgroundColor: app.getBgColor() || getDefaultAppColor()?.key,\n\t\t\ttileIcon: app.getIcon(),\n\t\t\turl: DataFormatUtils.getLeanURL(app.getUrl()),\n\t\t\tframeType: FrameType.TwoByHalf,\n\t\t\trenderOnThemeChange: true,\n\t\t\tdropAreaOffset: 4,\n\t\t\tsubheader: app.getSubTitle(),\n\t\t\tpress: (e) => app._onPress(e),\n\t\t\twidth: isPhone ? \"15rem\" : \"auto\"\n\t\t}).addStyleClass(\"sapMGTTwoByHalf tileLayout\");\n\t}\n\n\t/**\n\t * Generates generic tile based on group.\n\t * @private\n\t * @param {sap.cux.home.Group} group - Group.\n\t * @returns {sap.m.GenericTile}.\n\t */\n\tprivate _getGroupTile(group: Group): GenericTile {\n\t\tconst isPhone = this.getDeviceType() === DeviceType.Mobile;\n\t\tconst actions = (group.getAggregation(\"menuItems\") || []) as MenuItem[];\n\t\treturn new GenericTile(\"\", {\n\t\t\tscope: actions.length && !isPhone ? GenericTileScope.ActionMore : GenericTileScope.Display,\n\t\t\tstate: group.getStatus() as LoadState,\n\t\t\tmode: GenericTileMode.IconMode,\n\t\t\tsizeBehavior: TileSizeBehavior.Small,\n\t\t\theader: group.getTitle(),\n\t\t\tbackgroundColor: group.getBgColor() || getDefaultAppColor()?.key,\n\t\t\ttileIcon: group.getIcon(),\n\t\t\tframeType: FrameType.TwoByHalf,\n\t\t\trenderOnThemeChange: true,\n\t\t\tdropAreaOffset: 4,\n\t\t\ttileBadge: group.getNumber(),\n\t\t\tpress: (e) => group._onPress(e),\n\t\t\twidth: isPhone ? \"15rem\" : \"auto\"\n\t\t})\n\t\t\t.addStyleClass(\"sapMGTTwoByHalf tileLayout\")\n\t\t\t.data(\"groupId\", group.getGroupId()) as GenericTile;\n\t}\n\n\t/**\n\t * Overridden method for selection of panel in the IconTabBar.\n\t * Loads the apps in selected panel\n\t * @private\n\t * @returns {Promise<void>} resolves when apps are loaded on panel selection.\n\t */\n\tprotected async _onPanelSelect(event: IconTabBar$SelectEvent) {\n\t\tsuper._onPanelSelect(event);\n\t\tconst selectedPanel = this._getSelectedPanel() as BaseAppPanel;\n\t\tawait this._setApps(selectedPanel);\n\t}\n\n\t/**\n\t * Refresh apps for all the panels.\n\t * @private\n\t * @returns {Promise<void>} resolves when all panels are set to dirty and apps for current panel are refreshed.\n\t */\n\tpublic async _refreshAllPanels(): Promise<void> {\n\t\t//set all panels to dirty\n\t\tthis._setPanelsDirty();\n\t\t//set apps for current section\n\t\tawait this._setApps(this._getSelectedPanel() as BaseAppPanel);\n\t}\n\n\t/**\n\t * Refresh apps for selected panel.\n\t * @private\n\t * @param {BaseAppPanel} panel - Panel that has be refreshed.\n\t * @returns {Promise<void>} resolves when apps are refreshed.\n\t */\n\tpublic async refreshPanel(panel: BaseAppPanel): Promise<void> {\n\t\tpanel.setMobileViewDirty(true);\n\t\tpanel.setDesktopViewDirty(true);\n\t\tawait this._setApps(panel);\n\t}\n\n\t/**\n\t * Toggles the visibility of the tab view based on the supported panels.\n\t * @private\n\t */\n\tprivate _toggleTabView() {\n\t\tif (this.getDeviceType() !== DeviceType.Mobile) {\n\t\t\tconst panels = this.getContent() as BaseAppPanel[];\n\t\t\tconst supportedPanels = panels.filter((panel) => panel.isSupported());\n\t\t\tconst iconTabBarControl = this._getInnerControl() as IconTabBar;\n\t\t\ticonTabBarControl?.toggleStyleClass(\"sapUiITBHide\", supportedPanels.length === 1);\n\t\t}\n\t}\n\n\t/**\n\t * Handles the supported state of the current panel.\n\t * If the panel is supported, it adds the panel to the content.\n\t * If the panel is not supported, it removes the panel from the content.\n\t * @param {BaseAppPanel} currentPanel - The panel to handle the supported state for.\n\t * @private\n\t */\n\tprivate _onPanelSupported(currentPanel: BaseAppPanel, event: BaseAppPanel$SupportedEvent) {\n\t\tconst isSupported = event.getParameter(\"isSupported\") as boolean;\n\t\tcurrentPanel.setSupported(isSupported);\n\t\tthis._togglePanelVisibility(currentPanel, isSupported);\n\t\tthis._toggleTabView();\n\t}\n\n\t/**\n\t * Toggles the visibility of the panel.\n\t * @param {BaseAppPanel} panel - The panel to toggle the visibility for.\n\t * @param {boolean} isVisible - The visibility state of the panel.\n\t * @private\n\t */\n\tprivate _togglePanelVisibility(panel: BaseAppPanel, isVisible: boolean) {\n\t\tif (this.getDeviceType() === DeviceType.Mobile) {\n\t\t\tconst panelWrapper = this._getPanelContentWrapper(panel);\n\t\t\tpanelWrapper.setVisible(isVisible);\n\t\t} else {\n\t\t\tconst iconTabBar = this._getInnerControl() as IconTabBar;\n\t\t\tconst tabs = (iconTabBar?.getItems() as IconTabFilter[]) || [];\n\t\t\tconst selectedTab = tabs.find((tab) => tab.getKey() === panel.getKey());\n\t\t\tselectedTab?.setVisible(isVisible);\n\t\t}\n\t}\n\n\t/**\n\t * Removes unsupported panels from the container.\n\t * @private\n\t */\n\tprivate _removeUnsupportedPanels() {\n\t\tconst panels = this.getContent() as BaseAppPanel[];\n\t\tconst unSupportedPanels = panels.filter((panel) => !panel.isSupported());\n\t\tfor (const panel of unSupportedPanels) {\n\t\t\tthis._togglePanelVisibility(panel, false);\n\t\t}\n\t\tthis._toggleTabView();\n\t}\n\n\t/**\n\t * Attaches an event handler to the \"supported\" event for each panel in the container.\n\t * @private\n\t */\n\tprivate _attachPanelSupportedEvent() {\n\t\tconst panels = this.getContent() as BaseAppPanel[];\n\t\tfor (const panel of panels) {\n\t\t\tif (!panel.hasListeners(\"supported\")) {\n\t\t\t\tpanel.attachSupported(this._onPanelSupported.bind(this, panel));\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Adjusts the layout and visibility based on the device type.\n\t *\n\t * This method adjusts the layout type and visibility of containers based on whether the device is a phone\n\t * or not. It sets the container's layout property, toggles visibility of panels and their containers, and\n\t * adjusts background design accordingly.\n\t *\n\t * @private\n\t * @returns {void}\n\t */\n\tpublic adjustLayout(): void {\n\t\tconst isPhone = this.getDeviceType() === DeviceType.Mobile;\n\t\tconst currentLayout = this.getProperty(\"layout\") as LayoutType;\n\t\tconst newLayout = isPhone ? LayoutType.Vertical : LayoutType.SideBySide;\n\t\tconst shouldAdjustLayout = currentLayout !== newLayout;\n\t\tif (!shouldAdjustLayout) {\n\t\t\treturn;\n\t\t}\n\t\tthis.setProperty(\"layout\", newLayout);\n\t\tconst panels = this.getContent() as BaseAppPanel[];\n\t\tpanels.forEach((panel) => {\n\t\t\t//if both the panels are dirty, then updated data will be loaded from onBeforeRendering, as layout change will trigger re-rendering\n\t\t\t//if both the panels are not dirty, i.e. doen't have any changes, then just toggle the visibility\n\t\t\tif (!panel.isDirty() && !panel.isMobileDirty()) {\n\t\t\t\tthis._updatePanelContentVisibility(panel);\n\t\t\t} else if (panel.isDirty() !== panel.isMobileDirty()) {\n\t\t\t\t//if one of the panels is dirty i.e. have updated data and other is not, then re-create the inner controls\n\t\t\t\tpanel.setDesktopViewDirty(false);\n\t\t\t\tpanel.setMobileViewDirty(false);\n\t\t\t\tthis._updatePanelContent(panel);\n\t\t\t}\n\t\t});\n\t\t//hide actions if the device is a phone\n\t\tthis.toggleActionButtons(!isPhone);\n\n\t\t//this is to handle scenario when unsupported propert is changed and then layout is changed.\n\t\tthis._removeUnsupportedPanels();\n\t}\n\n\t/**\n\t * Generates mobile card panel and add given apps/groups in the panel.\n\t *\n\t * @private\n\t * @returns {sap.m.Panel} The newly created mobile card panel.\n\t */\n\tprivate _generateMobileCards(items: BaseApp[]): Panel[] {\n\t\tconst panels: Panel[] = [];\n\t\tfor (let i = 0; i < items.length; i += 7) {\n\t\t\tconst panelItems = items.slice(i, i + 7);\n\t\t\tconst panel = new Panel({\n\t\t\t\tbackgroundDesign: BackgroundDesign.Solid,\n\t\t\t\theight: \"23.5rem\",\n\t\t\t\twidth: \"17rem\",\n\t\t\t\tcontent: this._generateTiles(panelItems)\n\t\t\t}).addStyleClass(\"sapUiMobileAppsCard\");\n\t\t\tpanels.push(panel);\n\t\t}\n\t\treturn panels;\n\t}\n\n\t/**\n\t * Generates group/app generic tiles for given apps/groups.\n\t *\n\t * @private\n\t * @param {BaseApp[]} items - Apps/Groups for which tiles has to be generated.\n\t * @returns {sap.m.GenericTile[]} The generated tiles.\n\t */\n\tprivate _generateTiles(items: BaseApp[]): GenericTile[] {\n\t\treturn items.map((item) => (item.isA(\"sap.cux.home.Group\") ? this._getGroupTile(item as Group) : this._getAppTile(item as App)));\n\t}\n\n\t/**\n\t * Adds given items into the wrapper.\n\t * @param {HeaderContainer | GridContainer} wrapper - wrapper for which items has to be added.\n\t * @param {Panel[] | GenericTile[]} items - items to be added.\n\t * @param {string} aggregationName - aggregation name to which items has to be added.\n\t * @private\n\t */\n\tprivate _addWrapperContent(wrapper: HeaderContainer | GridContainer, items: Panel[] | GenericTile[], aggregationName: string) {\n\t\twrapper.destroyAggregation(aggregationName);\n\t\titems.forEach((item) => {\n\t\t\twrapper.addAggregation(aggregationName, item);\n\t\t});\n\t}\n}\n"],"mappings":"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","ignoreList":[],"sourceRoot":""}},{"offset":{"line":24,"column":0},"map":{"version":3,"file":"BaseApp.js","names":["sap","ui","define","List","Popover","StandardListItem","sap_m_library","Element","___utils_FESRUtil","ListType","addFESRSemanticStepName","FESR_EVENTS","getFESRId","BaseApp","extend","metadata","library","properties","title","type","group","defaultValue","subTitle","bgColor","icon","status","aggregations","menuItems","multiple","singularName","visibility","constructor","_constructor","id","settings","Element.prototype.constructor.call","this","_onPress","event","sAction","getParameter","_handlePress","_loadActionsPopover","tile","getSource","actions","getAggregation","oPopover","ActionsPopover","get","onPopoverOpen","addStyleClass","onPopoverClose","removeStyleClass","detachBeforeOpen","detachAfterClose","attachBeforeOpen","attachAfterClose","openBy","_oMoreIcon","_closeActionsPopover","_popover","close","_actionsList","showHeader","placement","addContent","destroyItems","forEach","action","actionType","getType","oListItem","getId","getIcon","getTitle","tooltip","visible","press","oEvent","Navigation","firePress","listItem","PRESS","addItem"],"sources":["BaseApp.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\n\nimport Button from \"sap/m/Button\";\nimport GenericTile, { GenericTile$PressEvent } from \"sap/m/GenericTile\";\nimport List from \"sap/m/List\";\nimport Popover from \"sap/m/Popover\";\nimport StandardListItem from \"sap/m/StandardListItem\";\nimport { ListType } from \"sap/m/library\";\nimport type { MetadataOptions } from \"sap/ui/core/Element\";\nimport Element from \"sap/ui/core/Element\";\nimport { $BaseAppSettings } from \"./BaseApp\";\nimport MenuItem from \"./MenuItem\";\nimport { addFESRSemanticStepName, FESR_EVENTS, getFESRId } from \"./utils/FESRUtil\";\n\n/**\n *\n * Base App class for managing and storing Apps.\n *\n * @extends sap.ui.core.Element\n *\n * @author SAP SE\n * @version 0.0.1\n * @since 1.121.0\n *\n * @abstract\n * @internal\n * @experimental Since 1.121\n * @private\n * @alias sap.cux.home.BaseApp\n */\nexport default abstract class BaseApp extends Element {\n\tconstructor(idOrSettings?: string | $BaseAppSettings);\n\tconstructor(id?: string, settings?: $BaseAppSettings);\n\tconstructor(id?: string, settings?: $BaseAppSettings) {\n\t\tsuper(id, settings);\n\t}\n\n\tstatic readonly metadata: MetadataOptions = {\n\t\tlibrary: \"sap.cux.home\",\n\t\tproperties: {\n\t\t\t/**\n\t\t\t * Title of the app\n\t\t\t */\n\t\t\ttitle: { type: \"string\", group: \"Misc\", defaultValue: \"\" },\n\t\t\t/**\n\t\t\t * Sub header of the app\n\t\t\t */\n\t\t\tsubTitle: { type: \"string\", group: \"Misc\", defaultValue: \"\" },\n\t\t\t/**\n\t\t\t * Background color of the app\n\t\t\t */\n\t\t\tbgColor: { type: \"string\", group: \"Misc\", defaultValue: \"\" },\n\t\t\t/**\n\t\t\t * Icon of the app\n\t\t\t */\n\t\t\ticon: { type: \"string\", group: \"Misc\", defaultValue: \"\" },\n\t\t\t/**\n\t\t\t * Whether the app is in loaded or loading status\n\t\t\t */\n\t\t\tstatus: { type: \"string\", group: \"Misc\", defaultValue: \"Loaded\" }\n\t\t},\n\t\taggregations: {\n\t\t\t/**\n\t\t\t * MenuItems aggregation of the app. These items will be shown in a popover on click of showMore\n\t\t\t */\n\t\t\tmenuItems: { type: \"sap.cux.home.MenuItem\", multiple: true, singularName: \"menuItem\", visibility: \"hidden\" }\n\t\t}\n\t};\n\n\tabstract _handlePress(): void;\n\n\t/**\n\t * Base App Press Handler\n\t * @private\n\t * @param {GenericTile$PressEvent} event - The event object.\n\t */\n\tpublic _onPress(event: GenericTile$PressEvent): void {\n\t\tconst sAction = event.getParameter(\"action\") || \"Press\";\n\t\tif (sAction === \"Press\") {\n\t\t\tthis._handlePress();\n\t\t} else if (sAction === \"More\") {\n\t\t\tthis._loadActionsPopover(event);\n\t\t}\n\t}\n\n\t/**\n\t * Loads Actions available for selected app tile in popover\n\t * @private\n\t * @param {GenericTile$PressEvent} event - The event object.\n\t */\n\tpublic _loadActionsPopover(event: GenericTile$PressEvent) {\n\t\tconst tile: GenericTile & { _oMoreIcon: Button } = event.getSource?.();\n\t\tconst actions = this.getAggregation(\"menuItems\") as MenuItem[];\n\t\tconst oPopover = ActionsPopover.get(actions);\n\t\t//Add Border around current tile\n\t\tconst onPopoverOpen = () => {\n\t\t\ttile.addStyleClass(\"sapThemeBrand-asOutlineColor\");\n\t\t};\n\t\tconst onPopoverClose = () => {\n\t\t\ttile.removeStyleClass(\"sapThemeBrand-asOutlineColor\");\n\t\t\toPopover.detachBeforeOpen(onPopoverOpen);\n\t\t\toPopover.detachAfterClose(onPopoverClose);\n\t\t};\n\t\toPopover.attachBeforeOpen(onPopoverOpen);\n\t\toPopover.attachAfterClose(onPopoverClose);\n\t\toPopover.openBy(tile._oMoreIcon);\n\t}\n}\n\nexport class ActionsPopover {\n\tprivate static _popover: Popover;\n\tprivate static _actionsList: List;\n\n\tprivate constructor() {}\n\n\tstatic _closeActionsPopover() {\n\t\tActionsPopover._popover.close();\n\t}\n\n\t// Method to get the singleton instance\n\tstatic get(actions?: MenuItem[]): Popover {\n\t\tif (!ActionsPopover._popover) {\n\t\t\tActionsPopover._actionsList = new List({\n\t\t\t\tid: `appActionsList`\n\t\t\t});\n\t\t\tActionsPopover._popover = new Popover(`appActionsPopover`, {\n\t\t\t\tshowHeader: false,\n\t\t\t\tplacement: \"HorizontalPreferredRight\"\n\t\t\t})\n\t\t\t\t.addStyleClass(\"sapContrastPlus\")\n\t\t\t\t.addContent(ActionsPopover._actionsList);\n\t\t}\n\t\tActionsPopover._actionsList.destroyItems();\n\t\tactions?.forEach((action) => {\n\t\t\tconst actionType = action.getType() as ListType;\n\t\t\tconst oListItem = new StandardListItem(`${action.getId()}-index`, {\n\t\t\t\ticon: action.getIcon(),\n\t\t\t\ttitle: action.getTitle(),\n\t\t\t\ttooltip: action.getTitle(),\n\t\t\t\ttype: actionType,\n\t\t\t\tvisible: true,\n\t\t\t\tpress: (oEvent) => {\n\t\t\t\t\tif (actionType !== ListType.Navigation) {\n\t\t\t\t\t\tActionsPopover._closeActionsPopover();\n\t\t\t\t\t}\n\t\t\t\t\taction.firePress({ listItem: oEvent.getSource() });\n\t\t\t\t}\n\t\t\t});\n\t\t\taddFESRSemanticStepName(oListItem, FESR_EVENTS.PRESS, getFESRId(action));\n\t\t\tActionsPopover._actionsList.addItem(oListItem);\n\t\t});\n\t\treturn ActionsPopover._popover;\n\t}\n}\n"],"mappings":"AAAA;;;;AAAA,aAAAA,IAAAC,GAAAC,OAAA,0HAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,GAAA,mBAUSC,EAAQH,EAAA,kBAKRI,EAAuBF,EAAA,iCAAEG,EAAWH,EAAA,qBAAEI,EAASJ,EAAA,aAExD,MAgB8BK,EAAgBN,EAAOO,OAAA,wBAOpCC,SAA4B,CAC3CC,QAAS,eACTC,WAAY,CAIXC,MAAO,CAAEC,KAAM,SAAUC,MAAO,OAAQC,aAAc,IAItDC,SAAU,CAAEH,KAAM,SAAUC,MAAO,OAAQC,aAAc,IAIzDE,QAAS,CAAEJ,KAAM,SAAUC,MAAO,OAAQC,aAAc,IAIxDG,KAAM,CAAEL,KAAM,SAAUC,MAAO,OAAQC,aAAc,IAIrDI,OAAQ,CAAEN,KAAM,SAAUC,MAAO,OAAQC,aAAc,WAExDK,aAAc,CAIbC,UAAW,CAAER,KAAM,wBAAyBS,SAAU,KAAMC,aAAc,WAAYC,WAAY,YAhCpGC,YAAW,SAAAC,EAACC,EAAaC,GACxBC,6BAAAC,KAAMH,EAAIC,EACX,EAyCOG,SAAQ,SAAAA,EAACC,GACf,MAAMC,EAAUD,EAAME,aAAa,WAAa,QAChD,GAAID,IAAY,QAAS,CACxBH,KAAKK,cACN,MAAO,GAAIF,IAAY,OAAQ,CAC9BH,KAAKM,oBAAoBJ,EAC1B,CACD,EAOOI,oBAAmB,SAAAA,EAACJ,GAC1B,MAAMK,EAA6CL,EAAMM,cACzD,MAAMC,EAAUT,KAAKU,eAAe,aACpC,MAAMC,EAAWC,EAAeC,IAAIJ,GAEpC,MAAMK,EAAgBA,KACrBP,EAAKQ,cAAc,iCAEpB,MAAMC,EAAiBA,KACtBT,EAAKU,iBAAiB,gCACtBN,EAASO,iBAAiBJ,GAC1BH,EAASQ,iBAAiBH,IAE3BL,EAASS,iBAAiBN,GAC1BH,EAASU,iBAAiBL,GAC1BL,EAASW,OAAOf,EAAKgB,WACtB,IAGM,MAAMX,EAIJjB,cAAe,CAEvB,2BAAA6B,GACCZ,EAAea,SAASC,OACzB,CAGA,UAAAb,CAAWJ,GACV,IAAKG,EAAea,SAAU,CAC7Bb,EAAee,aAAe,IAAI5D,EAAK,CACtC8B,GAAI,mBAELe,EAAea,SAAW,IAAIzD,EAAQ,oBAAqB,CAC1D4D,WAAY,MACZC,UAAW,6BAEVd,cAAc,mBACde,WAAWlB,EAAee,aAC7B,CACAf,EAAee,aAAaI,eAC5BtB,GAASuB,QAASC,IACjB,MAAMC,EAAaD,EAAOE,UAC1B,MAAMC,EAAY,IAAInE,EAAiB,GAAGgE,EAAOI,gBAAiB,CACjEjD,KAAM6C,EAAOK,UACbxD,MAAOmD,EAAOM,WACdC,QAASP,EAAOM,WAChBxD,KAAMmD,EACNO,QAAS,KACTC,MAAQC,IACP,GAAIT,IAAe7D,EAASuE,WAAY,CACvChC,EAAeY,sBAChB,CACAS,EAAOY,UAAU,CAAEC,SAAUH,EAAOnC,iBAGtClC,EAAwB8D,EAAW7D,EAAYwE,MAAOvE,EAAUyD,IAChErB,EAAee,aAAaqB,QAAQZ,KAErC,OAAOxB,EAAea,QACvB,EACAhD,EAAAmC,iBAAA,OA3H6BnC,CAAO","ignoreList":[],"sourceRoot":""}},{"offset":{"line":31,"column":0},"map":{"version":3,"file":"BaseAppPanel.js","names":["sap","ui","define","Log","GridContainer","GridContainerSettings","HeaderContainer","IllustratedMessage","IllustratedMessageSize","IllustratedMessageType","MessageToast","VBox","sap_m_library","Config","Container","__App","__BasePanel","__AppManager","___utils_Device","_interopRequireDefault","obj","__esModule","default","_catch","body","recover","result","e","then","BackgroundDesign","_finallyRethrows","finalizer","bind","App","BasePanel","AppManager","DeviceType","BaseAppPanel","extend","metadata","library","defaultAggregation","aggregations","apps","type","singularName","multiple","events","navigated","supported","parameters","isSupported","constructor","_constructor","id","settings","BasePanel.prototype.constructor.call","this","_isDirty","_isMobileDirty","_isLoaded","_isSupported","_setAggregation","control","items","arguments","length","undefined","aggregationName","forEach","oItem","addAggregation","init","_init","BasePanel.prototype.init.call","appManagerInstance","getInstance","_controlMap","Map","_appsPanelWrapper","_generateWrapper","_addContent","getId","_generateDesktopAppsWrapper","_generateMobileAppsWrapper","_generateErrorMessage","width","addStyleClass","controlId","get","set","_generateAppsWrapper","visible","getDeviceType","Mobile","backgroundDesign","Solid","_appsWrapper","layout","columnSize","gap","_mobileAppsWrapper","gridLayout","showDividers","height","content","_errorCard","wrap","generateIllustratedMessage","getApps","justifyContent","setHeight","generateApps","_generateApps","visualizationsData","map","visualizationData","app","title","subTitle","subtitle","bgColor","BGColor","icon","url","vizId","visualization","status","oldAppId","data","menuItems","menuItem","setApps","_setApps","fetchTileVisualization","_fetchTileVisualization","tiles","cards","getContent","card","concat","getItems","convertActivitiesToVisualizations","_convertActivitiesToVisualizations","activities","_this","Promise","resolve","all","_getAllAvailableVisualizations","getServiceAsync","_ref","availableVisualizations","URLParsingService","appActivities","filter","activity","appType","orgAppId","appId","visualizations","_convertToVisualization","_updateVisualizationAvailability","reject","_this2","_temp2","_allAvailableVisualizations","_temp","_getCatalogApps","catalogApps","reduce","catalogApp","_this3","fetchFavVizs","favoriteVisualizations","addedInFavorites","some","favoriteVisualization","_updateActivityInfo","updatedVizConfig","_catalogVisualizationCache","targetURL","_findBestMatchingVisualization","matchingVisualizations","matchedVisualization","find","matchingViz","matchedVisualizationCache","matchedVisualizations","viz","params","parseShellHash","prio","push","filteredVisualizations","_filterMatchingVisualization","sort","val1","val2","parshedShellHash","activityParameters","activityParameterKeys","Object","keys","visualizationParams","visualizationParamKeys","key","bMatch","every","includes","catalogVisualizations","catalogVisualization","target","semanticObject","action","_addAppToFavorites","event","_this4","setBusy","source","getSource","getParent","getVizId","_temp3","addVisualization","_refreshAllPanels","message","_i18nBundle","getText","getTitle","show","error","_wasThrown","_result","isLoaded","setLoaded","_setLoaded","val","isDirty","setDesktopViewDirty","_setDesktopViewDirty","isMobileDirty","setMobileViewDirty","_setMobileViewDirty","_setBusy","isBusy","oAppsWrapper","_getGroup","groupId","groups","getAggregation","group","getGroupId","setSupported","_setSupported","_attachUserActivityTracking","last","on","do","isTrackingActivityEnabled","fireSupported","refresh","_refresh","_this5","refreshPanel","_generateIllustratedMessage","_errorMessage","illustrationSize","Spot","illustrationType","AddColumn","description"],"sources":["BaseAppPanel.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\n\nimport Log from \"sap/base/Log\";\nimport GridContainer from \"sap/f/GridContainer\";\nimport GridContainerSettings from \"sap/f/GridContainerSettings\";\nimport Button from \"sap/m/Button\";\nimport GenericTile from \"sap/m/GenericTile\";\nimport HeaderContainer from \"sap/m/HeaderContainer\";\nimport IllustratedMessage from \"sap/m/IllustratedMessage\";\nimport IllustratedMessageSize from \"sap/m/IllustratedMessageSize\";\nimport IllustratedMessageType from \"sap/m/IllustratedMessageType\";\nimport MessageToast from \"sap/m/MessageToast\";\nimport Panel from \"sap/m/Panel\";\nimport VBox from \"sap/m/VBox\";\nimport { BackgroundDesign } from \"sap/m/library\";\nimport Event from \"sap/ui/base/Event\";\nimport Control from \"sap/ui/core/Control\";\nimport type { MetadataOptions } from \"sap/ui/core/Element\";\nimport Config from \"sap/ushell/Config\";\nimport Container from \"sap/ushell/Container\";\nimport URLParsing from \"sap/ushell/services/URLParsing\";\nimport App from \"./App\";\nimport AppsContainer from \"./AppsContainer\";\nimport { $BaseAppPanelSettings } from \"./BaseAppPanel\";\nimport BasePanel from \"./BasePanel\";\nimport Group from \"./Group\";\nimport MenuItem from \"./MenuItem\";\nimport { IActivity, ICustomVisualization, IVisualization } from \"./interface/AppsInterface\";\nimport AppManager from \"./utils/AppManager\";\nimport { DeviceType } from \"./utils/Device\";\n\n/**\n *\n * Base App Panel class for managing and storing Apps.\n *\n * @extends sap.cux.home.BasePanel\n *\n * @author SAP SE\n * @version 0.0.1\n * @since 1.121.0\n *\n * @abstract\n * @internal\n * @experimental Since 1.121\n * @private\n *\n * @alias sap.cux.home.BaseAppPanel\n */\n\nexport default abstract class BaseAppPanel extends BasePanel {\n\tprivate _isDirty: boolean = true;\n\tprivate _isMobileDirty: boolean = true;\n\tprivate _isLoaded: boolean = false;\n\tprivate _appsWrapper!: GridContainer;\n\tprivate _errorCard!: VBox;\n\tprivate _errorMessage!: IllustratedMessage;\n\tprivate _appsPanelWrapper!: VBox;\n\tprivate _allAvailableVisualizations!: IVisualization[];\n\tprivate _catalogVisualizationCache!: Map<string, IVisualization>;\n\tprotected appManagerInstance!: AppManager;\n\tprivate _isSupported: boolean = true;\n\tprivate _mobileAppsWrapper!: HeaderContainer;\n\tprotected _menuItems!: MenuItem[];\n\tprotected _actionButtons!: Button[];\n\tprotected _controlMap!: Map<string, Control | Element>;\n\n\tconstructor(idOrSettings?: string | $BaseAppPanelSettings);\n\tconstructor(id?: string, settings?: $BaseAppPanelSettings);\n\tconstructor(id?: string, settings?: $BaseAppPanelSettings) {\n\t\tsuper(id, settings);\n\t}\n\n\tstatic readonly metadata: MetadataOptions = {\n\t\tlibrary: \"sap.cux.home\",\n\t\tdefaultAggregation: \"apps\",\n\t\taggregations: {\n\t\t\t/**\n\t\t\t * Holds the apps aggregation\n\t\t\t */\n\t\t\tapps: { type: \"sap.cux.home.App\", singularName: \"app\", multiple: true }\n\t\t},\n\t\tevents: {\n\t\t\t/**\n\t\t\t * Fired when OnBeforeRendering of container is triggered.\n\t\t\t */\n\t\t\tnavigated: {},\n\t\t\t/**\n\t\t\t * Fired when the panel supported property is changed.\n\t\t\t */\n\t\t\tsupported: {\n\t\t\t\tparameters: {\n\t\t\t\t\tisSupported: { type: \"boolean\" }\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n\t/**\n\t * This method must be implemented by panel, to set the apps that needs to be shown in the panel.\n\t * @abstract\n\t */\n\tabstract loadApps(): Promise<void>;\n\n\tpublic init() {\n\t\tsuper.init();\n\t\tthis.appManagerInstance = AppManager.getInstance();\n\t\tthis._controlMap = new Map();\n\t\t//Add Wrapper to Panel\n\t\tthis._appsPanelWrapper = this._generateWrapper();\n\t\tthis._addContent(this._appsPanelWrapper);\n\t}\n\n\t/**\n\t * Generates the wrapper for the apps panel, if it doesn't already exist\n\t *\n\t * @private\n\t * @override\n\t * @returns {sap.m.VBox} The apps panel wrapper.\n\t */\n\tprotected _generateWrapper() {\n\t\tif (!this._appsPanelWrapper) {\n\t\t\tthis._appsPanelWrapper = new VBox(`${this.getId()}-appsPanelWrapper`, {\n\t\t\t\titems: [this._generateDesktopAppsWrapper(), this._generateMobileAppsWrapper(), this._generateErrorMessage()],\n\t\t\t\twidth: \"100%\"\n\t\t\t}).addStyleClass(\"sapCuxAppsPanel sapCuxAppsContainerBorder\");\n\t\t}\n\t\treturn this._appsPanelWrapper;\n\t}\n\n\t/**\n\t * Generates desktop apps wrapper for displaying apps.\n\t * @private\n\t * @returns {sap.m.VBox} The generated apps wrapper.\n\t */\n\tpublic _generateDesktopAppsWrapper() {\n\t\tconst controlId = `${this.getId()}-desktopAppsWrapper`;\n\t\tif (!this._controlMap.get(controlId)) {\n\t\t\tthis._controlMap.set(\n\t\t\t\tcontrolId,\n\t\t\t\tnew VBox({\n\t\t\t\t\tid: `${this.getId()}-desktopAppsWrapper`,\n\t\t\t\t\titems: [this._generateAppsWrapper()],\n\t\t\t\t\tvisible: this.getDeviceType() !== DeviceType.Mobile,\n\t\t\t\t\tbackgroundDesign: BackgroundDesign.Solid\n\t\t\t\t}).addStyleClass(\"sapCuxAppsPanel sapCuxAppsContainerBorder\")\n\t\t\t);\n\t\t}\n\t\treturn this._controlMap.get(controlId) as VBox;\n\t}\n\n\t/**\n\t * Generates app wrapper (GridContainer) for displaying apps.\n\t * @private\n\t * @returns {sap.m.GridContainer} The generated apps wrapper.\n\t */\n\tpublic _generateAppsWrapper(): GridContainer {\n\t\t//create container\n\t\tif (!this._appsWrapper) {\n\t\t\tthis._appsWrapper = new GridContainer({\n\t\t\t\tid: `${this.getId()}-appsWrapper`,\n\t\t\t\tlayout: new GridContainerSettings({\n\t\t\t\t\tcolumnSize: \"19rem\",\n\t\t\t\t\tgap: \"0.5rem\"\n\t\t\t\t}),\n\t\t\t\tvisible: this.getDeviceType() !== DeviceType.Mobile\n\t\t\t});\n\t\t}\n\t\treturn this._appsWrapper;\n\t}\n\n\t/**\n\t * Generates wrapper for displaying apps in mobile mode.\n\t * @private\n\t * @returns {sap.m.HeaderContainer} The generated apps wrapper.\n\t */\n\tpublic _generateMobileAppsWrapper() {\n\t\tif (!this._mobileAppsWrapper) {\n\t\t\tthis._mobileAppsWrapper = new HeaderContainer({\n\t\t\t\tid: `${this.getId()}-mobileAppsWrapper`,\n\t\t\t\tgridLayout: true,\n\t\t\t\tshowDividers: false,\n\t\t\t\theight: \"23.5rem\",\n\t\t\t\tcontent: [],\n\t\t\t\tvisible: this.getDeviceType() === DeviceType.Mobile\n\t\t\t}).addStyleClass(\"sapUiMargin-26Bottom sapMHeaderContainerAlign\");\n\t\t}\n\t\treturn this._mobileAppsWrapper;\n\t}\n\n\t/**\n\t * Generates the error message wrapper with illustrated message.\n\t * @private\n\t * @returns {sap.m.VBox} Wrapper with illustrated message.\n\t */\n\tpublic _generateErrorMessage(): VBox {\n\t\tif (!this._errorCard) {\n\t\t\tthis._errorCard = new VBox(`${this.getId()}-errorCard`, {\n\t\t\t\twrap: \"Wrap\",\n\t\t\t\tbackgroundDesign: \"Solid\",\n\t\t\t\titems: [this.generateIllustratedMessage()],\n\t\t\t\tvisible: this.getApps().length === 0,\n\t\t\t\tjustifyContent: \"Center\"\n\t\t\t}).addStyleClass(\"sapCuxAppsPanel\");\n\t\t}\n\t\tthis._errorCard.setHeight(this.getDeviceType() === DeviceType.Mobile ? \"23.5rem\" : \"auto\");\n\t\treturn this._errorCard;\n\t}\n\n\t/**\n\t * Creates and returns app instances for given app objects\n\t * @private\n\t * @param {object[]} appObjects - Array of app object.\n\t * @returns {sap.cux.home.App[]} - Array of app instances\n\t */\n\tpublic generateApps(visualizationsData: ICustomVisualization[]) {\n\t\treturn visualizationsData.map((visualizationData) => {\n\t\t\tconst app = new App(\"\", {\n\t\t\t\ttitle: visualizationData.title,\n\t\t\t\tsubTitle: visualizationData.subtitle,\n\t\t\t\tbgColor: visualizationData.BGColor,\n\t\t\t\ticon: visualizationData.icon,\n\t\t\t\turl: visualizationData.url,\n\t\t\t\tvizId: visualizationData.vizId || visualizationData.visualization?.vizId,\n\t\t\t\tstatus: visualizationData.status\n\t\t\t});\n\t\t\tif (visualizationData.oldAppId) {\n\t\t\t\tapp.data(\"oldAppId\", visualizationData.oldAppId);\n\t\t\t}\n\t\t\tvisualizationData.menuItems?.forEach((menuItem) => {\n\t\t\t\tapp.addAggregation(\"menuItems\", menuItem, true);\n\t\t\t});\n\t\t\treturn app;\n\t\t});\n\t}\n\n\t/**\n\t * Add multiple apps in the apps aggregation.\n\t * @param {sap.cux.home.App[]} apps - Array of apps.\n\t */\n\tpublic setApps(apps: App[]) {\n\t\tapps.forEach((app) => {\n\t\t\tthis.addAggregation(\"apps\", app, true);\n\t\t});\n\t}\n\n\t/**\n\t * Fetches and returns the tile visualizations for the current device type (Mobile or Desktop).\n\t *\n\t * @public\n\t * @param {GenericTile[]} tiles - This array will be updated with new tile data based on the device type.\n\t *\n\t * @returns {GenericTile[]} - returns updated tiles\n\t */\n\tpublic fetchTileVisualization(tiles: GenericTile[] = []): GenericTile[] {\n\t\tif (this.getDeviceType() === DeviceType.Mobile) {\n\t\t\tconst cards = (this._generateMobileAppsWrapper()?.getContent() || []) as Panel[];\n\t\t\tfor (const card of cards) {\n\t\t\t\ttiles = tiles.concat((card?.getContent() || []) as GenericTile[]);\n\t\t\t}\n\t\t} else {\n\t\t\ttiles = (this._generateAppsWrapper()?.getItems() || []) as GenericTile[];\n\t\t}\n\t\treturn tiles;\n\t}\n\n\t/**\n\t * Convert array of provided activities to app\n\t * @private\n\t * @param {object[]} activities - Array of activities.\n\t * @returns {object[]} - Array of apps\n\t */\n\tprotected async convertActivitiesToVisualizations(activities: IActivity[]) {\n\t\tconst [availableVisualizations, URLParsingService] = await Promise.all([\n\t\t\tthis._getAllAvailableVisualizations(),\n\t\t\tContainer.getServiceAsync<URLParsing>(\"URLParsing\")\n\t\t]);\n\t\tconst appActivities = activities\n\t\t\t.filter((activity) => activity.appType === \"Application\")\n\t\t\t.map((activity) => {\n\t\t\t\tactivity.orgAppId = activity.appId;\n\t\t\t\tactivity.appId = activity.url;\n\t\t\t\treturn activity;\n\t\t\t});\n\t\tconst visualizations = appActivities\n\t\t\t.map((activity) => this._convertToVisualization(activity, availableVisualizations, URLParsingService))\n\t\t\t.filter((activity): activity is IActivity => activity !== undefined);\n\t\tconst updatedVisualizations = await this._updateVisualizationAvailability(visualizations);\n\t\treturn updatedVisualizations;\n\t}\n\n\t/**\n\t * Returns promise that resolves to array of all available visualizations\n\t * @private\n\t * @returns {Promise} A Promise that resolves to array of all available visualizations.\n\t */\n\tprivate async _getAllAvailableVisualizations() {\n\t\tif (!this._allAvailableVisualizations) {\n\t\t\tconst catalogApps = await this.appManagerInstance._getCatalogApps();\n\t\t\tthis._allAvailableVisualizations = catalogApps.reduce((visualizations: IVisualization[], catalogApp) => {\n\t\t\t\treturn visualizations.concat(catalogApp.visualizations || []);\n\t\t\t}, []);\n\t\t}\n\t\treturn this._allAvailableVisualizations;\n\t}\n\n\t/**\n\t * Updates vizualization array with information - if vizualization is present in favorites .\n\t * @private\n\t * @param {object[]} visualizations - Array of vizualizations.\n\t * @returns {object[]} - Array of updated vizualizations.\n\t */\n\tprivate async _updateVisualizationAvailability(visualizations: IActivity[]) {\n\t\tconst favoriteVisualizations: ICustomVisualization[] = await this.appManagerInstance.fetchFavVizs(true, true);\n\t\tvisualizations.forEach((visualization) => {\n\t\t\tvisualization.addedInFavorites = favoriteVisualizations.some(\n\t\t\t\t(favoriteVisualization) => favoriteVisualization.oldAppId === visualization.orgAppId\n\t\t\t);\n\t\t});\n\t\treturn visualizations;\n\t}\n\n\t/**\n\t * Updates user activity with provided vizualization info\n\t * @private\n\t * @param {object} activity - User activity.\n\t * @param {object} updatedVizConfig - Updated vizualization config.\n\t * @returns {object} - Updated user acitvity.\n\t */\n\tprivate _updateActivityInfo(activity: IActivity, updatedVizConfig: IVisualization) {\n\t\tthis._catalogVisualizationCache = this._catalogVisualizationCache || new Map<string, IVisualization>();\n\t\tactivity.targetURL = updatedVizConfig.targetURL;\n\t\tactivity.vizId = updatedVizConfig.vizId;\n\t\tthis._catalogVisualizationCache.set(activity.orgAppId, updatedVizConfig);\n\t\treturn activity;\n\t}\n\n\t/**\n\t * Finds the best matching visualization for a given activity from a list of matching visualizations.\n\t *\n\t * This method first attempts to find an exact match for the target URL of the activity among the matching visualizations.\n\t * If no exact match is found, it uses the URLParsingService to compare parameters of the target URLs to find the best match.\n\t * It then updates the activity information with the best matching visualization.\n\t *\n\t * @private\n\t * @param {IActivity} activity - The activity for which to find the best matching visualization.\n\t * @param {IVisualization[]} matchingVisualizations - A list of visualizations that match the activity.\n\t * @param {URLParsing} URLParsingService - A service used to parse and compare target URLs.\n\t * @returns {IVisualization | undefined} The best matching visualization, or undefined if no match is found.\n\t */\n\tprivate _findBestMatchingVisualization(activity: IActivity, matchingVisualizations: IVisualization[], URLParsingService: URLParsing) {\n\t\t//if there are multiple matching apps, compare the target urls\n\t\tconst matchedVisualization = matchingVisualizations.find((matchingViz) => matchingViz.targetURL === activity.url);\n\t\tif (matchedVisualization) {\n\t\t\treturn this._updateActivityInfo(activity, matchedVisualization);\n\t\t} else {\n\t\t\t//edge cases, when no exact targetUrl match\n\t\t\tconst matchedVisualizationCache = new Map<string, object>();\n\t\t\tconst matchedVisualizations: { viz: IVisualization; params: unknown; prio: number }[] = [];\n\n\t\t\tmatchingVisualizations.forEach((visualization) => {\n\t\t\t\tconst targetURL: string = visualization.targetURL;\n\t\t\t\tif (!matchedVisualizationCache.get(targetURL)) {\n\t\t\t\t\tconst matchedVisualization = {\n\t\t\t\t\t\tviz: visualization,\n\t\t\t\t\t\tparams: (URLParsingService.parseShellHash(visualization.targetURL) as { params: { [key: string]: unknown[] } })\n\t\t\t\t\t\t\t.params,\n\t\t\t\t\t\tprio: 0\n\t\t\t\t\t};\n\t\t\t\t\tmatchedVisualizationCache.set(targetURL, matchedVisualization);\n\t\t\t\t\tmatchedVisualizations.push(matchedVisualization);\n\t\t\t\t}\n\t\t\t});\n\t\t\tconst filteredVisualizations = matchedVisualizations.filter((matchedVisualization) =>\n\t\t\t\tthis._filterMatchingVisualization(activity, matchedVisualization, URLParsingService)\n\t\t\t);\n\t\t\tif (filteredVisualizations.length) {\n\t\t\t\t// more than 1 matching condition for unique targetUrls\n\t\t\t\t// this could be either because there is exact match and/or also allItems true and/or no params in VizData param keys\n\t\t\t\t// then find best match possible, based on prio\n\t\t\t\tfilteredVisualizations.sort((val1, val2) => val1.prio - val2.prio);\n\t\t\t\treturn this._updateActivityInfo(activity, filteredVisualizations[0].viz);\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Filters matching visualizations based on activity parameters and assigns priority.\n\t *\n\t * This method compares the parameters of the activity with those of a matched visualization\n\t * to determine if they match.\n\t *\n\t * @private\n\t * @returns {boolean} Returns true if the visualization matches the activity, false otherwise.\n\t */\n\tprivate _filterMatchingVisualization(\n\t\tactivity: IActivity,\n\t\tmatchedVisualization: { viz: IVisualization; params: unknown; prio: number },\n\t\tURLParsingService: URLParsing\n\t) {\n\t\tconst parshedShellHash = URLParsingService.parseShellHash(activity.url) as { params: { [key: string]: unknown[] } };\n\t\tconst activityParameters = parshedShellHash.params;\n\n\t\tconst activityParameterKeys = Object.keys(activityParameters);\n\t\tconst visualizationParams = matchedVisualization.params as { [key: string]: unknown[] };\n\t\t//filter keys other than 'allItems', for myinbox tasks allItems key is a generally common key hence filter that\n\t\tconst visualizationParamKeys = Object.keys(visualizationParams).filter((key) => key !== \"allItems\");\n\t\tif (visualizationParamKeys.length === activityParameterKeys.length) {\n\t\t\tconst bMatch = activityParameterKeys.every(\n\t\t\t\t(key) => visualizationParamKeys.includes(key) && visualizationParams[key][0] === activityParameters[key][0]\n\t\t\t);\n\t\t\tif (bMatch) {\n\t\t\t\tmatchedVisualization.prio = 1;\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\t\t} else if (!visualizationParamKeys.length) {\n\t\t\t//this could mean either visualizationParamKeys did not have any key or the only key present was 'allItems'\n\t\t\t//if 'allItems' present give prio 2 else prio 3\n\t\t\tmatchedVisualization.prio = Object.keys(matchedVisualization.params as { [key: string]: unknown[] }).length ? 2 : 3;\n\t\t\treturn true;\n\t\t}\n\t\t//filtered visualizationParamKeys length doesnt match aAppParamKeys length & visualizationParamKeys length is not 0\n\t\treturn false;\n\t}\n\n\t/**\n\t * Converts given user activity to vizualization\n\t * @private\n\t * @param {object} activity - User Activity.\n\t * @param {object[]} catalogVisualizations - array of all available visualizations in catalog.\n\t * @param {object} URLParsingService - URL parsing service.\n\t * @returns {object} - visualization\n\t */\n\tprivate _convertToVisualization(activity: IActivity, catalogVisualizations: IVisualization[], URLParsingService: URLParsing) {\n\t\tthis._catalogVisualizationCache = this._catalogVisualizationCache || new Map<string, IVisualization>();\n\t\tconst catalogVisualization = this._catalogVisualizationCache.get(activity.orgAppId);\n\t\tif (catalogVisualization) {\n\t\t\treturn this._updateActivityInfo(activity, catalogVisualization);\n\t\t} else {\n\t\t\tconst matchingVisualizations = catalogVisualizations.filter(\n\t\t\t\t(visualization) =>\n\t\t\t\t\tvisualization.vizId && `#${visualization.target?.semanticObject}-${visualization.target?.action}` === activity.orgAppId\n\t\t\t);\n\t\t\tif (matchingVisualizations.length > 1) {\n\t\t\t\treturn this._findBestMatchingVisualization(activity, matchingVisualizations, URLParsingService);\n\t\t\t} else if (matchingVisualizations.length === 1) {\n\t\t\t\treturn this._updateActivityInfo(activity, matchingVisualizations[0]);\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Adds visualization to favorite apps\n\t * @private\n\t * @param {sap.ui.base.Event} event - The event object.\n\t */\n\tprotected async _addAppToFavorites(event: Event) {\n\t\tthis.setBusy(true);\n\t\ttry {\n\t\t\tconst source = event.getSource<MenuItem>();\n\t\t\tconst app = source.getParent() as App;\n\t\t\tconst vizId = app.getVizId?.();\n\t\t\tif (vizId) {\n\t\t\t\t//Add Apps to the 'Recently Added Apps' section\n\t\t\t\tawait this.appManagerInstance.addVisualization(vizId);\n\t\t\t\tawait (this.getParent?.() as AppsContainer)._refreshAllPanels();\n\t\t\t\tconst message = this._i18nBundle.getText(\"appMovedToFavorites\", [app.getTitle()]) as string;\n\t\t\t\tMessageToast.show(message);\n\t\t\t}\n\t\t} catch (error) {\n\t\t\tLog.error(error as string);\n\t\t} finally {\n\t\t\tthis.setBusy(false);\n\t\t}\n\t}\n\n\t/**\n\t * Checks if the panel is loaded. If the panel is not loaded then placholders are shown otherwise not\n\t * @private\n\t * @returns {boolean} true if the panel is loaded, false otherwise.\n\t */\n\tpublic isLoaded(): boolean {\n\t\treturn this._isLoaded;\n\t}\n\n\t/**\n\t * Set the loaded status of the app panel.\n\t * @private\n\t * @param {boolean} val - The new loaded status to set for the app panel.\n\t */\n\tpublic setLoaded(val: boolean): void {\n\t\tthis._isLoaded = val;\n\t}\n\n\t/**\n\t * Returns the dirty status of the app panel. If the panel is dirty then only re-render the apps\n\t * @private\n\t * @returns {boolean} true if the panel is dirty, false otherwise.\n\t */\n\tpublic isDirty(): boolean {\n\t\treturn this._isDirty;\n\t}\n\n\t/**\n\t * Set the dirty status of the app panel.\n\t * @private\n\t * @param {boolean} val - The new dirty status to set for the app panel.\n\t */\n\tpublic setDesktopViewDirty(val: boolean): void {\n\t\tthis._isDirty = val;\n\t}\n\n\t/**\n\t * Returns the dirty status of the app mobile panel. If the panel is dirty then only re-render the apps\n\t * @private\n\t * @returns {boolean} true if the panel is dirty, false otherwise.\n\t */\n\tpublic isMobileDirty(): boolean {\n\t\treturn this._isMobileDirty;\n\t}\n\n\t/**\n\t * Set the dirty status of the app mobile panel.\n\t * @private\n\t * @param {boolean} val - The new dirty status to set for the app mobile panel.\n\t */\n\tpublic setMobileViewDirty(val: boolean): void {\n\t\tthis._isMobileDirty = val;\n\t}\n\n\t/**\n\t * Sets aggregation for give control.\n\t * @param {Object} control - Control for which aggregation has to be set.\n\t * @param {Object[]} items - Items to be added in aggregation.\n\t * @param {string} aggregationName - Aggregation name\n\t * @private\n\t */\n\tpublic _setAggregation = function (control: Control | Group, items: Control[] | App[] = [], aggregationName = \"items\") {\n\t\titems.forEach((oItem) => {\n\t\t\tcontrol.addAggregation(aggregationName, oItem, true);\n\t\t});\n\t};\n\n\t/**\n\t * Sets the busy state of panel.\n\t * @private\n\t * @param {boolean} isBusy - Indicates whether the panel should be set to busy state.\n\t */\n\tprotected setBusy(isBusy: boolean) {\n\t\tconst oAppsWrapper = this._generateAppsWrapper();\n\t\toAppsWrapper.setBusy(isBusy);\n\t}\n\n\t/**\n\t * Retrieves the group with the specified group Id.\n\t * @private\n\t * @param {string} groupId - The Id of the group.\n\t * @returns {sap.cux.home.Group} The group with the specified group Id, or null if not found.\n\t */\n\tprotected _getGroup(groupId: string) {\n\t\tconst groups = (this.getAggregation(\"groups\") || []) as Group[];\n\t\treturn groups.find((group) => group.getGroupId() === groupId);\n\t}\n\n\t/**\n\t * Checks if the panel is supported.\n\t * @returns {boolean} True if the panel is supported, false otherwise.\n\t * @private\n\t */\n\tpublic isSupported() {\n\t\treturn this._isSupported;\n\t}\n\n\t/**\n\t * Sets panel as supported or unsupported.\n\t * @param {boolean} isSupported true if the panel is supported, false otherwise.\n\t * @private\n\t */\n\tpublic setSupported(isSupported: boolean) {\n\t\tthis._isSupported = isSupported;\n\t}\n\n\t/**\n\t * Attaches user activity tracking based on the configuration.\n\t * If user activity tracking is enabled, it listens to changes in tracking activity configuration\n\t * and fires a 'supported' event accordingly.\n\t * @private\n\t */\n\tprotected _attachUserActivityTracking() {\n\t\tif (Config.last(\"/core/shell/enableRecentActivity\")) {\n\t\t\tConfig.on(\"/core/shell/model/enableTrackingActivity\").do((isTrackingActivityEnabled: boolean) => {\n\t\t\t\tthis.fireSupported({ isSupported: isTrackingActivityEnabled });\n\t\t\t});\n\t\t}\n\t}\n\n\t/**\n\t * Refreshes the panel.\n\t * @public\n\t */\n\tprotected async refresh() {\n\t\tawait (this.getParent() as AppsContainer).refreshPanel(this);\n\t}\n\n\t/**\n\t * Generates default illustrated message for panel.\n\t * @private\n\t * @returns {sap.m.IllustratedMessage} Illustrated error message for panel.\n\t */\n\tprotected generateIllustratedMessage() {\n\t\tif (!this._errorMessage) {\n\t\t\tthis._errorMessage = new IllustratedMessage(`${this.getId()}-errorMessage`, {\n\t\t\t\tillustrationSize: IllustratedMessageSize.Spot,\n\t\t\t\tillustrationType: IllustratedMessageType.AddColumn,\n\t\t\t\ttitle: this._i18nBundle.getText(\"noAppsTitle\"),\n\t\t\t\tdescription: this._i18nBundle.getText(\"noData\")\n\t\t\t});\n\t\t}\n\t\treturn this._errorMessage;\n\t}\n}\n"],"mappings":"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","ignoreList":[],"sourceRoot":""}},{"offset":{"line":38,"column":0},"map":{"version":3,"file":"BaseAppPersPanel.js","names":["sap","ui","define","Log","EventBus","Container","__BaseAppPanel","___utils_Constants","__DataFormatUtils","__PageManager","__PersonalisationUtils","__UshellPersonalizer","_interopRequireDefault","obj","__esModule","default","_catch","body","recover","result","e","then","BaseAppPanel","DEFAULT_APP_ICON","DEFAULT_BG_COLOR","FALLBACK_ICON","MYHOME_PAGE_ID","DataFormatUtils","PageManager","PersonalisationUtils","UshellPersonalizer","BaseAppPersPanel","extend","metadata","library","properties","persContainerId","type","group","defaultValue","visibility","constructor","_constructor","id","settings","BaseAppPanel.prototype.constructor.call","this","_favPageVisualizations","init","_init","BaseAppPanel.prototype.init.call","setProperty","getPersContainerId","_pageManagerInstance","getInstance","getOwnerComponent","_eventBus","subscribe","applyPersonalization","_getPersonalizer","_this","getProperty","Error","Promise","resolve","reject","getPersonalization","_getPersonalization","_this2","personalizer","read","setPersonalization","_setPersonalization","persData","_this3","write","_getAppPersonalization","_this4","personalization","favoriteApps","setFavAppsPersonalization","_setFavAppsPersonalization","appsPersonalization","_this5","_temp","_applyPersonalization","_this6","tiles","fetchTileVisualization","_applyTilesPersonalization","groupId","shouldReload","arguments","length","undefined","_this7","all","_getFavPages","_ref","personalizations","favPages","_getAllFavPageApps","favPageVisualizations","groups","getAggregation","apps","_getGroup","getApps","tile","item","_getItem","color","icon","_getItemPersonalization","setBackgroundColor","setTileIcon","tileGroupId","data","find","oGroup","getGroupId","oApp","getLeanURL","getUrl","isA","isSection","sectionId","BGColor","app","appIds","oldAppId","push","vizId","getVizId","appId","includes","oPersonalization","isRecentlyAddedApp","favPageVisualization","oVisualization","key","_getFavAppIcon","getAppIcon","_this8","getFavoritePages","aFavPages","concat","pageId","pages","_exit","_this9","_temp3","_result","_temp2","loadedPages","reduce","pageIDs","visualization","pageIds","map","page","shouldLoadMissingApps","every","_this9$_favPageVisual","_loadAllPageVisualizations","_this9$_loadAllPageVi","_this9$_favPageVisual2","error","shouldFetchDistinctApps","getBgColor","getServiceAsync","spaceContentService","getPages","oPage","pageData","aPages","Object","values","sections","section","visualizations","targetURL","some","oVizApp","_getAppIcon","favPageIcon","getIcon"],"sources":["BaseAppPersPanel.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\n\nimport Log from \"sap/base/Log\";\nimport GenericTile from \"sap/m/GenericTile\";\nimport Component from \"sap/ui/core/Component\";\nimport type { MetadataOptions } from \"sap/ui/core/Element\";\nimport EventBus from \"sap/ui/core/EventBus\";\nimport Container from \"sap/ushell/Container\";\nimport SpaceContent from \"sap/ushell/services/SpaceContent\";\nimport App from \"./App\";\nimport BaseAppPanel from \"./BaseAppPanel\";\nimport { $BaseAppPersPanelSettings } from \"./BaseAppPersPanel\";\nimport Group from \"./Group\";\nimport { IAppPersonalization, ICustomVisualization, IItemPersonalization } from \"./interface/AppsInterface\";\nimport { IPage } from \"./interface/PageSpaceInterface\";\nimport { DEFAULT_APP_ICON, DEFAULT_BG_COLOR, FALLBACK_ICON, MYHOME_PAGE_ID } from \"./utils/Constants\";\nimport DataFormatUtils from \"./utils/DataFormatUtils\";\nimport PageManager from \"./utils/PageManager\";\nimport PersonalisationUtils from \"./utils/PersonalisationUtils\";\nimport UshellPersonalizer, { IPersonalizationData } from \"./utils/UshellPersonalizer\";\n\n/**\n *\n * Provides the BaseAppPersPanel Class which is BaseAppPanel with personalisation.\n *\n * @extends sap.cux.home.BaseAppPanel\n *\n * @author SAP SE\n * @version 0.0.1\n * @since 1.121.0\n *\n * @abstract\n * @internal\n * @experimental Since 1.121\n * @private\n *\n * @alias sap.cux.home.BaseAppPersPanel\n */\nexport default abstract class BaseAppPersPanel extends BaseAppPanel {\n\tprivate _pageManagerInstance!: PageManager;\n\tprivate _favPageVisualizations: ICustomVisualization[] = [];\n\tprivate _eventBus!: EventBus;\n\n\tconstructor(idOrSettings?: string | $BaseAppPersPanelSettings);\n\tconstructor(id?: string, settings?: $BaseAppPersPanelSettings);\n\tconstructor(id?: string, settings?: $BaseAppPersPanelSettings) {\n\t\tsuper(id, settings);\n\t}\n\n\tstatic readonly metadata: MetadataOptions = {\n\t\tlibrary: \"sap.cux.home\",\n\t\tproperties: {\n\t\t\tpersContainerId: { type: \"string\", group: \"Misc\", defaultValue: \"\", visibility: \"hidden\" }\n\t\t}\n\t};\n\n\tpublic init() {\n\t\tsuper.init();\n\t\tthis.setProperty(\"persContainerId\", PersonalisationUtils.getPersContainerId(this));\n\t\tthis._pageManagerInstance = PageManager.getInstance(\n\t\t\tPersonalisationUtils.getPersContainerId(this),\n\t\t\tPersonalisationUtils.getOwnerComponent(this) as Component\n\t\t);\n\t\tthis._eventBus = EventBus.getInstance();\n\n\t\t//apply personalization on page update\n\t\tthis._eventBus.subscribe(\n\t\t\t\"pageChannel\",\n\t\t\t\"pageUpdated\",\n\t\t\t() => {\n\t\t\t\tvoid this.applyPersonalization();\n\t\t\t},\n\t\t\tthis\n\t\t);\n\t}\n\n\t/**\n\t * Retrieves the personalizer instance.\n\t * @returns {Promise<sap.cux.home.UshellPersonalizer>} A promise resolving to the personalizer instance.\n\t * @throws {Error} Throws an error if no container ID is provided for personalization.\n\t * @private\n\t */\n\tprivate async _getPersonalizer() {\n\t\tconst persContainerId = this.getProperty(\"persContainerId\") as string;\n\t\tif (!persContainerId) {\n\t\t\tthrow new Error(\"No Container ID Provided for personalisation!\");\n\t\t}\n\t\tconst personalizer = await UshellPersonalizer?.getInstance(\n\t\t\tpersContainerId,\n\t\t\tPersonalisationUtils.getOwnerComponent(this) as Component\n\t\t);\n\t\treturn personalizer;\n\t}\n\n\t/**\n\t * Retrieves personalization data.\n\t * @returns {Promise<IPersonalizationData>} A promise that resolves with the personalization data.\n\t * @private\n\t */\n\tprotected async getPersonalization() {\n\t\tconst personalizer = await this._getPersonalizer();\n\t\tconst persData = await personalizer?.read();\n\t\treturn persData;\n\t}\n\n\t/**\n\t * Sets the personalization data.\n\t * @param {IPersonalizationData} persData - The personalization data to set.\n\t * @returns {Promise<void>} A promise that resolves when the personalization data is set.\n\t * @private\n\t */\n\tprotected async setPersonalization(persData: IPersonalizationData) {\n\t\tconst personalizer = await this._getPersonalizer();\n\t\tawait personalizer.write(persData);\n\t}\n\n\t/**\n\t * Returns array of personalized favorite apps\n\t *\n\t * @returns {Promise} resolves to return array of personalized favorite apps\n\t */\n\tprotected async _getAppPersonalization() {\n\t\tconst personalization = await this.getPersonalization();\n\t\treturn personalization?.favoriteApps || ([] as IAppPersonalization[]);\n\t}\n\n\t/**\n\t * Sets the personalization data.\n\t * @param {IAppPersonalization[]} appsPersonalization - Personalization data for favorite apps.\n\t * @returns {Promise<void>} A promise that resolves when the personalization data is set.\n\t * @private\n\t */\n\tprotected async setFavAppsPersonalization(appsPersonalization: IAppPersonalization[]): Promise<void> {\n\t\tlet personalization = await this.getPersonalization();\n\t\tif (personalization) {\n\t\t\tpersonalization.favoriteApps = appsPersonalization;\n\t\t\tawait this.setPersonalization(personalization);\n\t\t}\n\t}\n\n\t/**\n\t * Applies personalization settings to the tiles.\n\t * Retrieves tiles from the generated apps wrapper and applies personalization settings to each tile.\n\t * Personalization settings include background color and icon customization.\n\t * @private\n\t * @async\n\t */\n\tpublic async applyPersonalization() {\n\t\tlet tiles = this.fetchTileVisualization();\n\t\treturn await this._applyTilesPersonalization(tiles);\n\t}\n\n\t/**\n\t * Applies personalization settings to the provided tiles.\n\t * @param {Array} tiles - An array of tiles to apply personalization settings to.\n\t * @param {string} [groupId] - Optional group ID for filtering personalization settings.\n\t * @param {boolean} [shouldReload=true] - A flag indicating whether to reload page visualizations.\n\t * @returns {Promise<void>} A promise that resolves when personalization settings are applied to the tiles.\n\t * @private\n\t */\n\tprotected async _applyTilesPersonalization(tiles: GenericTile[], groupId?: string, shouldReload = true) {\n\t\tconst [personalizations, favPages] = await Promise.all([this._getAppPersonalization(), this._getFavPages()]);\n\t\tconst favPageVisualizations = await this._getAllFavPageApps(favPages, shouldReload);\n\t\tconst groups = (this.getAggregation(\"groups\") || []) as Group[];\n\t\tconst apps = groupId ? this._getGroup(groupId)?.getApps() || [] : this.getApps() || [];\n\t\tfor (const tile of tiles) {\n\t\t\tconst item = this._getItem(tile, groups, apps);\n\t\t\tconst { color, icon } = this._getItemPersonalization(item, personalizations, favPageVisualizations, groupId);\n\n\t\t\tif (color) {\n\t\t\t\titem?.setProperty(\"bgColor\", color, true);\n\t\t\t\ttile.setBackgroundColor(color);\n\t\t\t}\n\n\t\t\tif (icon) {\n\t\t\t\titem?.setProperty(\"icon\", icon, true);\n\t\t\t\ttile.setTileIcon(icon);\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Retrieves the corresponding App or Group object associated with the given tile.\n\t * @param {GenericTile} tile - The tile for which to retrieve the corresponding item.\n\t * @param {Group[]} groups - An array of Group objects.\n\t * @param {App[]} apps - An array of App objects.\n\t * @returns {App | Group | undefined} The corresponding App or Group object, or undefined if not found.\n\t * @private\n\t */\n\tprivate _getItem(tile: GenericTile, groups: Group[], apps: App[]): App | Group | undefined {\n\t\tconst tileGroupId = tile.data(\"groupId\") as string | undefined;\n\t\tif (tileGroupId) {\n\t\t\treturn groups.find((oGroup) => oGroup.getGroupId() === tileGroupId);\n\t\t} else {\n\t\t\treturn apps.find((oApp) => DataFormatUtils.getLeanURL(oApp.getUrl()) === tile.getUrl());\n\t\t}\n\t}\n\n\t/**\n\t * Retrieves the color and icon associated with the specified item based on personalizations.\n\t * @param {App | Group | undefined} item - The App or Group object for which to retrieve personalization data.\n\t * @param {IAppPersonalization[] | undefined} personalizations - An array of personalization objects.\n\t * @param {ICustomVisualization[]} favPageVisualizations - An array of favorite page visualizations.\n\t * @param {string | undefined} groupId - The ID of the group to which the item belongs.\n\t * @returns {IItemPersonalization} An object containing the color and icon associated with the item.\n\t * @private\n\t */\n\tprivate _getItemPersonalization(\n\t\titem: App | Group | undefined,\n\t\tpersonalizations: IAppPersonalization[] | undefined,\n\t\tfavPageVisualizations: ICustomVisualization[],\n\t\tgroupId?: string\n\t): IItemPersonalization {\n\t\tlet color: string = \"\";\n\t\tlet icon: string = \"\";\n\n\t\tif (!item) return { color, icon };\n\n\t\tif (item.isA(\"sap.cux.home.Group\")) {\n\t\t\tconst personalization = personalizations?.find(\n\t\t\t\t(personalization) => personalization.isSection && personalization.sectionId === (item as Group).getGroupId()\n\t\t\t);\n\t\t\tcolor = personalization?.BGColor as string;\n\t\t} else {\n\t\t\tconst app = item as App;\n\t\t\tconst appIds = [app.getUrl()];\n\t\t\tconst oldAppId = app.data(\"oldAppId\") as string | undefined;\n\t\t\tif (oldAppId) {\n\t\t\t\tappIds.push(oldAppId);\n\t\t\t}\n\t\t\tconst vizId = app.getVizId();\n\t\t\tconst personalization = groupId\n\t\t\t\t? personalizations?.find(\n\t\t\t\t\t\t(personalization) =>\n\t\t\t\t\t\t\t!personalization.isSection &&\n\t\t\t\t\t\t\tpersonalization.sectionId === groupId &&\n\t\t\t\t\t\t\tpersonalization.appId &&\n\t\t\t\t\t\t\tappIds.includes(personalization.appId)\n\t\t\t\t\t)\n\t\t\t\t: personalizations?.find(\n\t\t\t\t\t\t(oPersonalization) =>\n\t\t\t\t\t\t\toPersonalization.isRecentlyAddedApp && oPersonalization.appId && appIds.includes(oPersonalization.appId)\n\t\t\t\t\t);\n\t\t\tconst favPageVisualization = favPageVisualizations.find(\n\t\t\t\t(oVisualization) => oVisualization.vizId === vizId || (oVisualization.appId && appIds.includes(oVisualization.appId))\n\t\t\t);\n\t\t\tcolor = personalization?.BGColor || favPageVisualization?.BGColor || DEFAULT_BG_COLOR().key;\n\t\t\ticon = this?.isA(\"sap.cux.home.FavAppPanel\") ? this._getFavAppIcon(app, favPageVisualization?.icon) : this.getAppIcon();\n\t\t}\n\n\t\treturn { color, icon };\n\t}\n\n\t/**\n\t * Retrieves favorite pages.\n\t * @returns {Promise<Array>} A promise that resolves with an array of favorite pages.\n\t * @private\n\t */\n\tprivate async _getFavPages() {\n\t\tconst aFavPages = await this._pageManagerInstance.getFavoritePages();\n\t\treturn aFavPages.concat({\n\t\t\tpageId: MYHOME_PAGE_ID,\n\t\t\tBGColor: DEFAULT_BG_COLOR().key\n\t\t});\n\t}\n\n\t/**\n\t * Retrieves visualizations for all favorite pages based on the provided parameters.\n\t * @param {Array} pages - An array of favorite pages.\n\t * @param {boolean} shouldReload - A flag indicating whether to reload page visualizations.\n\t * @returns {Promise<Array>} A promise that resolves with an array of favorite page visualizations.\n\t * @private\n\t */\n\tprivate async _getAllFavPageApps(pages: IPage[], shouldReload?: boolean) {\n\t\ttry {\n\t\t\tif (pages) {\n\t\t\t\tthis._favPageVisualizations = this._favPageVisualizations || [];\n\t\t\t\t//Check to ensure that missing visualization data is loaded, if any\n\t\t\t\tconst loadedPages = this._favPageVisualizations.reduce((pageIDs: string[], visualization) => {\n\t\t\t\t\tif (visualization.pageId && !pageIDs.includes(visualization.pageId)) {\n\t\t\t\t\t\tpageIDs.push(visualization.pageId);\n\t\t\t\t\t}\n\t\t\t\t\treturn pageIDs;\n\t\t\t\t}, []);\n\t\t\t\tconst pageIds = pages.map((page) => page.pageId);\n\t\t\t\tconst shouldLoadMissingApps = loadedPages.length === 0 || !loadedPages.every((pageId) => pageIds.includes(pageId));\n\t\t\t\tif (!shouldReload && !shouldLoadMissingApps) {\n\t\t\t\t\treturn this._favPageVisualizations;\n\t\t\t\t} else {\n\t\t\t\t\tthis._favPageVisualizations = await this._loadAllPageVisualizations(pages);\n\t\t\t\t\treturn this._favPageVisualizations;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn [];\n\t\t} catch (error) {\n\t\t\tLog.error(error as string);\n\t\t\treturn [];\n\t\t}\n\t}\n\n\t/**\n\t * Loads visualizations for all specified pages.\n\t * @param {Array} pages - An array of pages.\n\t * @param {boolean} [shouldFetchDistinctApps=false] - A flag indicating whether to fetch distinct pages.\n\t * @returns {Promise<Array>} A promise that resolves with an array of page visualizations.\n\t * @private\n\t */\n\tprivate async _loadAllPageVisualizations(pages: IPage[], shouldFetchDistinctApps = false) {\n\t\tconst getBgColor = (pageId: string | undefined) => {\n\t\t\treturn pages.find((page) => page.pageId === pageId)?.BGColor ?? DEFAULT_BG_COLOR().key;\n\t\t};\n\n\t\ttry {\n\t\t\tconst favPageVisualizations: ICustomVisualization[] = [];\n\t\t\tconst spaceContentService = await Container.getServiceAsync<SpaceContent>(\"SpaceContent\");\n\t\t\tconst pageData = await spaceContentService.getPages(pages.map((oPage) => oPage.pageId) as string[]);\n\t\t\tconst aPages = Object.values(pageData);\n\n\t\t\tfor (const page of aPages) {\n\t\t\t\tconst sections = page.sections || [];\n\t\t\t\tfor (const section of sections) {\n\t\t\t\t\tconst visualizations = section.visualizations || [];\n\t\t\t\t\tfor (const visualization of visualizations) {\n\t\t\t\t\t\tconst app = {\n\t\t\t\t\t\t\tappId: visualization.targetURL,\n\t\t\t\t\t\t\tvizId: visualization.vizId,\n\t\t\t\t\t\t\ticon: visualization.icon,\n\t\t\t\t\t\t\tBGColor: getBgColor(page.id) as string,\n\t\t\t\t\t\t\tpageId: page.id\n\t\t\t\t\t\t};\n\t\t\t\t\t\tif (!shouldFetchDistinctApps || !favPageVisualizations.some((oVizApp) => oVizApp.appId === app.appId)) {\n\t\t\t\t\t\t\tfavPageVisualizations.push(app);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn favPageVisualizations;\n\t\t} catch (error) {\n\t\t\tLog.error(error as string);\n\t\t\treturn [];\n\t\t}\n\t}\n\n\t/**\n\t * Returns default app icon.\n\t * @returns {string} The icon URL for the app.\n\t * @private\n\t */\n\tprotected getAppIcon(): string {\n\t\treturn DEFAULT_APP_ICON;\n\t}\n\n\t/**\n\t * Retrieves the icon for the specified app, prioritizing the favorite page icon if available.\n\t * @param {sap.cux.home.App} app - The app object.\n\t * @param {string} favPageIcon - The icon for the app from the favorite page.\n\t * @returns {string} The icon URL for the app.\n\t * @private\n\t */\n\tprivate _getFavAppIcon(app?: App, favPageIcon?: string): string {\n\t\treturn favPageIcon || app?.getIcon() || FALLBACK_ICON;\n\t}\n}\n"],"mappings":"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","ignoreList":[],"sourceRoot":""}},{"offset":{"line":45,"column":0},"map":{"version":3,"file":"BaseContainer.js","names":["sap","ui","define","Button","FlexBox","HBox","IconTabBar","IconTabFilter","List","Popover","StandardListItem","Title","sap_m_library","Control","CustomData","UI5Element","Lib","__BaseContainerRenderer","__BasePanel","__MenuItem","___library","___utils_Device","___utils_FESRUtil","_interopRequireDefault","obj","__esModule","default","BackgroundDesign","ButtonType","PlacementType","BaseContainerRenderer","BasePanel","MenuItem","LayoutType","calculateDeviceType","DeviceType","addFESRId","addFESRSemanticStepName","FESR_EVENTS","getFESRId","BaseContainer","extend","renderer","metadata","library","properties","title","type","group","defaultValue","visibility","layout","SideBySide","selectedKey","width","height","blocked","busy","busyIndicatorDelay","busyIndicatorSize","fieldGroupIds","visible","enableSettings","enableFullScreen","fullScreenName","defaultAggregation","aggregations","content","singularName","multiple","actionButtons","menuItems","associations","fullScreenButton","fullScreenMenuItem","events","onExpand","designtime","adjustLayout","_adjustLayout","constructor","_constructor","id","settings","Control.prototype.constructor.call","this","init","_init","_controlMap","Map","_commonHeaderElementStates","_i18nBundle","getResourceBundleFor","_createHeader","control","controlId","getId","isPanel","isA","hasContainerTitle","getProperty","trim","length","get","set","titleStyle","renderType","addStyleClass","justifyContent","items","alignItems","addDependent","_getHeader","_getInnerControl","_iconTabBar","_wrapper","_onPanelSelect","event","setProperty","getParameter","_updateContainerHeader","_setPanelCount","panel","count","_getIconTabFilter","setCount","_addToPanel","addContent","addItem","iconTabFilter","key","text","tooltip","addCustomData","value","writeToDom","SELECT","_getContent","forEach","onBeforeRendering","_onBeforeRendering","_createInnerControl","_addAllPanelContent","onAfterRendering","_onAfterRendering","_attachResizeHandler","getDomRef","_resizeObserver","disconnect","ResizeObserver","entries","_setDeviceType","observe","Horizontal","Vertical","setDirection","expandable","backgroundDesign","Transparent","headerMode","headerBackgroundDesign","select","removeAllItems","_updateHeader","isSideBySideLayout","isContainer","headerTitle","setText","setVisible","_addCommonHeaderElements","currentControl","_getSelectedPanel","targetControl","getAggregation","_addMenuItems","actionButton","_getHeaderButton","attachHeaderElements","elements","property","aggregation","headerElement","_getFullScreenMenuItem","_getHomeSettingsMenuItem","_getFullScreenButton","_ref","_getLayout","currentPropertyValue","previousPropertyValue","addAggregation","setAssociation","registerFullScreenElement","removeAggregation","removeAssociation","deregisterFullScreenElement","panels","getContent","menuItem","getText","icon","press","openSettingsDialog","toggleFullScreen","find","setSelectedKey","_getPanelContentWrapper","direction","_updatePanelHeader","header","isTitleVisible","toggleStyleClass","_setTitle","list","itemPress","getSource","getParent","close","menuPopover","placement","VerticalPreferredBottom","showHeader","menuButton","openBy","item","_getMenuListItem","headerButton","firePress","PRESS","button","setTooltip","getTooltip","setIcon","getIcon","getVisible","setEnabled","getEnabled","getElementById","getAssociation","getTitle","menuListItem","setTitle","toggleMenuListItem","_toggleMenuListItem","show","removeContent","_removeContent","undefined","getWidth","_getWidth","toggleActionButtons","_toggleActionButtons","visibilityChanged","getActionButtons","currentVisibility","toggleFullScreenElements","_toggleFullScreenElements","element","isElementExpanded","fullScreenMenuButton","isPhone","getDeviceType","Mobile","elementVisibilityChanged","fullScreenElement","elementKey","getKey","entry","contentRect","deviceType","_deviceType","_getDeviceType"],"sources":["BaseContainer.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\n\nimport ResourceBundle from \"sap/base/i18n/ResourceBundle\";\nimport Button from \"sap/m/Button\";\nimport FlexBox from \"sap/m/FlexBox\";\nimport HBox from \"sap/m/HBox\";\nimport IconTabBar, { IconTabBar$SelectEvent } from \"sap/m/IconTabBar\";\nimport IconTabFilter from \"sap/m/IconTabFilter\";\nimport List from \"sap/m/List\";\nimport Popover from \"sap/m/Popover\";\nimport StandardListItem from \"sap/m/StandardListItem\";\nimport Title from \"sap/m/Title\";\nimport { BackgroundDesign, ButtonType, PlacementType } from \"sap/m/library\";\nimport Event from \"sap/ui/base/Event\";\nimport Control from \"sap/ui/core/Control\";\nimport CustomData from \"sap/ui/core/CustomData\";\nimport type { MetadataOptions } from \"sap/ui/core/Element\";\nimport UI5Element from \"sap/ui/core/Element\";\nimport Lib from \"sap/ui/core/Lib\";\nimport { CSSSize } from \"sap/ui/core/library\";\nimport { $BaseContainerSettings } from \"./BaseContainer\";\nimport BaseContainerRenderer from \"./BaseContainerRenderer\";\nimport BaseLayout from \"./BaseLayout\";\nimport BasePanel from \"./BasePanel\";\nimport MenuItem from \"./MenuItem\";\nimport { LayoutType } from \"./library\";\nimport { calculateDeviceType, DeviceType } from \"./utils/Device\";\nimport { addFESRId, addFESRSemanticStepName, FESR_EVENTS, getFESRId } from \"./utils/FESRUtil\";\n\n/**\n *\n * Abstract base class for My Home layout control container.\n *\n * @extends sap.ui.core.Control\n *\n * @author SAP SE\n * @version 0.0.1\n * @since 1.121\n *\n * @abstract\n * @internal\n * @experimental Since 1.121\n * @private\n *\n * @alias sap.cux.home.BaseContainer\n */\nexport default abstract class BaseContainer extends Control {\n\tprotected _i18nBundle!: ResourceBundle;\n\tprivate _controlMap!: Map<string, Control | UI5Element>;\n\tprivate _wrapper!: FlexBox;\n\tprivate _iconTabBar!: IconTabBar;\n\tprivate _commonHeaderElementStates!: Map<string, boolean>;\n\tprivate _resizeObserver!: ResizeObserver;\n\tprivate _deviceType!: DeviceType;\n\tpublic adjustLayout() {}\n\n\tconstructor(id?: string | $BaseContainerSettings);\n\tconstructor(id?: string, settings?: $BaseContainerSettings);\n\tconstructor(id?: string, settings?: $BaseContainerSettings) {\n\t\tsuper(id, settings);\n\t}\n\n\tstatic readonly metadata: MetadataOptions = {\n\t\tlibrary: \"sap.cux.home\",\n\t\tproperties: {\n\t\t\t/**\n\t\t\t * Title of the container.\n\t\t\t */\n\t\t\ttitle: { type: \"string\", group: \"Data\", defaultValue: \"\", visibility: \"hidden\" },\n\t\t\t/**\n\t\t\t * Layout type of the container.\n\t\t\t */\n\t\t\tlayout: {\n\t\t\t\ttype: \"sap.cux.home.LayoutType\",\n\t\t\t\tgroup: \"Data\",\n\t\t\t\tdefaultValue: LayoutType.SideBySide,\n\t\t\t\tvisibility: \"hidden\"\n\t\t\t},\n\t\t\t/**\n\t\t\t * Key of the selected panel of the container.\n\t\t\t */\n\t\t\tselectedKey: { type: \"string\", group: \"Data\", defaultValue: \"\", visibility: \"hidden\" },\n\t\t\t/**\n\t\t\t * Width to be set for the container.\n\t\t\t * @public\n\t\t\t */\n\t\t\twidth: { type: \"sap.ui.core.CSSSize\", group: \"Appearance\", defaultValue: \"100%\", visibility: \"public\" },\n\t\t\t/**\n\t\t\t * Height to be set for the container.\n\t\t\t * @public\n\t\t\t */\n\t\t\theight: { type: \"sap.ui.core.CSSSize\", group: \"Appearance\", visibility: \"public\" },\n\t\t\t/**\n\t\t\t * Whether the control is currently in blocked state.\n\t\t\t */\n\t\t\tblocked: { type: \"boolean\", group: \"Appearance\", defaultValue: false, visibility: \"hidden\" },\n\t\t\t/**\n\t\t\t * Whether the layout is currently in busy state.\n\t\t\t */\n\t\t\tbusy: { type: \"boolean\", group: \"Appearance\", defaultValue: false, visibility: \"hidden\" },\n\t\t\t/**\n\t\t\t * The delay in milliseconds, after which the busy indicator will show up for this control.\n\t\t\t */\n\t\t\tbusyIndicatorDelay: { type: \"int\", defaultValue: 1000, visibility: \"hidden\" },\n\t\t\t/**\n\t\t\t * The size of the BusyIndicator.\n\t\t\t */\n\t\t\tbusyIndicatorSize: { type: \"sap.ui.core.BusyIndicatorSize\", defaultValue: \"Medium\", visibility: \"hidden\" },\n\t\t\t/**\n\t\t\t * The IDs of a logical field group that this control belongs to.\n\t\t\t */\n\t\t\tfieldGroupIds: { type: \"string[]\", defaultValue: [], visibility: \"hidden\" },\n\t\t\t/**\n\t\t\t * The visible property of the container.\n\t\t\t */\n\t\t\tvisible: { type: \"boolean\", group: \"Appearance\", defaultValue: true, visibility: \"hidden\" },\n\t\t\t/**\n\t\t\t * Indicates whether home settings are enabled for this control.\n\t\t\t */\n\t\t\tenableSettings: { type: \"boolean\", group: \"Misc\", visibility: \"hidden\" },\n\t\t\t/**\n\t\t\t * Indicates whether full screen is enabled for this control.\n\t\t\t */\n\t\t\tenableFullScreen: { type: \"boolean\", group: \"Misc\", visibility: \"hidden\" },\n\t\t\t/**\n\t\t\t * The name of the URL parameter used to expand the container into full-screen mode.\n\t\t\t * This property specifies the parameter key expected in the URL query string\n\t\t\t * to identify the container to be expanded.\n\t\t\t */\n\t\t\tfullScreenName: { type: \"string\", group: \"Misc\", visibility: \"hidden\" }\n\t\t},\n\t\tdefaultAggregation: \"content\",\n\t\taggregations: {\n\t\t\t/**\n\t\t\t * The container content aggregation which should be of type BasePanel.\n\t\t\t *\n\t\t\t * @public\n\t\t\t */\n\t\t\tcontent: { type: \"sap.cux.home.BasePanel\", singularName: \"content\", multiple: true, visibility: \"public\" },\n\t\t\t/**\n\t\t\t * This aggregation contains the actions that should be displayed within the container.\n\t\t\t *\n\t\t\t * @public\n\t\t\t */\n\t\t\tactionButtons: { type: \"sap.m.Button\", multiple: true, singularName: \"actionButton\", visibility: \"public\" },\n\t\t\t/**\n\t\t\t * This aggregation holds the items that should be shown within the dropdown menu of the container.\n\t\t\t *\n\t\t\t * @public\n\t\t\t */\n\t\t\tmenuItems: { type: \"sap.cux.home.MenuItem\", multiple: true, singularName: \"menuItem\", visibility: \"public\" }\n\t\t},\n\t\tassociations: {\n\t\t\tlayout: { type: \"sap.cux.home.BaseLayout\", multiple: false, singularName: \"layout\", visibility: \"hidden\" },\n\t\t\tfullScreenButton: { type: \"sap.m.Button\", multiple: false, singularName: \"fullScreenButton\", visibility: \"hidden\" },\n\t\t\tfullScreenMenuItem: { type: \"sap.cux.home.MenuItem\", multiple: false, singularName: \"fullScreenMenuItem\", visibility: \"hidden\" }\n\t\t},\n\t\tevents: {\n\t\t\t/**\n\t\t\t * Event is fired before the container is expanded.\n\t\t\t */\n\t\t\tonExpand: {}\n\t\t},\n\t\tdesigntime: true\n\t};\n\n\tstatic renderer: typeof BaseContainerRenderer = BaseContainerRenderer;\n\n\t/**\n\t * Init lifecycle method\n\t *\n\t * @private\n\t * @override\n\t */\n\tpublic init(): void {\n\t\tthis._controlMap = new Map();\n\t\tthis._commonHeaderElementStates = new Map();\n\t\tthis._i18nBundle = Lib.getResourceBundleFor(\"sap.cux.home.i18n\") as ResourceBundle;\n\t\tthis._createHeader(this);\n\t}\n\n\t/**\n\t * Creates and returns header for both container as well as panels\n\t *\n\t * @private\n\t * @param {BaseContainer | BasePanel} control - can be a container or a panel\n\t * @returns {HBox} header for the given container or panel\n\t */\n\tprivate _createHeader(control: BaseContainer | BasePanel): HBox {\n\t\tconst controlId = control.getId();\n\t\tconst id = `${controlId}-header`;\n\t\tconst isPanel = control.isA(\"sap.cux.home.BasePanel\");\n\t\tconst hasContainerTitle = (this.getProperty(\"title\") as string)?.trim().length > 0;\n\n\t\tif (!this._controlMap.get(id)) {\n\t\t\t//create header elements\n\t\t\tthis._controlMap.set(\n\t\t\t\t`${controlId}-header-title`,\n\t\t\t\tnew Title(`${controlId}-title`, { titleStyle: isPanel && hasContainerTitle ? \"H6\" : \"H4\" })\n\t\t\t);\n\t\t\tthis._controlMap.set(\n\t\t\t\t`${controlId}-header-contentLeft`,\n\t\t\t\tnew HBox(`${controlId}-contentLeft`, { renderType: \"Bare\" }).addStyleClass(\"sapCuxSectionContentArea\")\n\t\t\t);\n\t\t\tthis._controlMap.set(\n\t\t\t\t`${controlId}-header-contentRight`,\n\t\t\t\tnew HBox(`${controlId}-contentRight`, { renderType: \"Bare\" }).addStyleClass(\"sapCuxSectionContentArea\")\n\t\t\t);\n\t\t\tthis._controlMap.set(\n\t\t\t\t`${controlId}-header-content`,\n\t\t\t\tnew HBox(`${controlId}-content`, {\n\t\t\t\t\twidth: \"100%\",\n\t\t\t\t\tjustifyContent: \"SpaceBetween\",\n\t\t\t\t\trenderType: \"Bare\",\n\t\t\t\t\titems: [\n\t\t\t\t\t\tthis._controlMap.get(`${controlId}-header-contentLeft`) as Control,\n\t\t\t\t\t\tthis._controlMap.get(`${controlId}-header-contentRight`) as Control\n\t\t\t\t\t]\n\t\t\t\t}).addStyleClass(\"sapUiTinyMarginBegin\")\n\t\t\t);\n\n\t\t\t//create header container\n\t\t\tthis._controlMap.set(\n\t\t\t\tid,\n\t\t\t\tnew HBox(`${controlId}-header`, {\n\t\t\t\t\talignItems: \"Center\",\n\t\t\t\t\titems: [\n\t\t\t\t\t\tthis._controlMap.get(`${controlId}-header-title`) as Control,\n\t\t\t\t\t\tthis._controlMap.get(`${controlId}-header-content`) as Control\n\t\t\t\t\t]\n\t\t\t\t})\n\t\t\t);\n\n\t\t\tthis.addDependent(this._controlMap.get(id) as Control);\n\t\t}\n\n\t\t//add control-specific styling\n\t\t(this._controlMap.get(id) as HBox)?.addStyleClass(isPanel && hasContainerTitle ? \"sapCuxPanelHeader\" : \"sapUiContainerHeader\");\n\n\t\treturn this._controlMap.get(id) as HBox;\n\t}\n\n\t/**\n\t * Returns container header\n\t *\n\t * @private\n\t * @returns {Object} container header\n\t */\n\tpublic _getHeader(): HBox {\n\t\treturn this._controlMap.get(`${this.getId()}-header`) as HBox;\n\t}\n\n\t/**\n\t * Returns inner control corresponding to the specified layout\n\t *\n\t * @private\n\t * @returns {IconTabBar | FlexBox} inner control based on the layout\n\t */\n\tpublic _getInnerControl(): IconTabBar | FlexBox {\n\t\treturn this.getProperty(\"layout\") === LayoutType.SideBySide ? this._iconTabBar : this._wrapper;\n\t}\n\n\t/**\n\t * Handler for selection of panel in SideBySide layout\n\t *\n\t * @private\n\t * @param {Event} event - event object\n\t */\n\tprotected _onPanelSelect(event: IconTabBar$SelectEvent) {\n\t\t//suppress invalidation to prevent container re-rendering. render the specific header element instead\n\t\tthis.setProperty(\"selectedKey\", event.getParameter(\"selectedKey\"), true);\n\t\tthis._updateContainerHeader(this);\n\t}\n\n\t/**\n\t * Updates the count information of IconTabFilter of IconTabBar inner control\n\t * in case of SideBySide layout\n\t *\n\t * @private\n\t * @param {BasePanel} panel - associated panel\n\t * @param {string} count - updated count\n\t */\n\tpublic _setPanelCount(panel: BasePanel, count?: string) {\n\t\tif (this.getProperty(\"layout\") === LayoutType.SideBySide) {\n\t\t\tthis._getIconTabFilter(panel).setCount(count);\n\t\t}\n\t}\n\n\t/**\n\t * Adds corresponding control to panel. The control would be added to the\n\t * corresponding target inner control based on the layout.\n\t *\n\t * @private\n\t * @param {BasePanel} panel - panel to which control must be added\n\t * @param {Control} control - control to be added\n\t */\n\tpublic _addToPanel(panel: BasePanel, control: Control): void {\n\t\tif (this.getProperty(\"layout\") === LayoutType.SideBySide) {\n\t\t\tthis._getIconTabFilter(panel)?.addContent(control);\n\t\t} else {\n\t\t\t(this._controlMap.get(`${panel.getId()}-wrapper`) as FlexBox)?.addItem(control);\n\t\t}\n\t}\n\n\t/**\n\t * Creates and returns IconTabBarFilter for the specified panel to be placed\n\t * in the IconTabBar inner control in case of SideBySide layout\n\t *\n\t * @private\n\t * @param {BasePanel} panel - panel whose icon tab filter must be fetched\n\t * @returns {IconTabFilter} IconTabFilter for the specified panel\n\t */\n\tprivate _getIconTabFilter(panel: BasePanel): IconTabFilter {\n\t\tconst id = `${panel.getId()}-tabFilter`;\n\n\t\tif (!this._controlMap.get(id)) {\n\t\t\tconst iconTabFilter = new IconTabFilter(id, {\n\t\t\t\tkey: panel.getProperty(\"key\") as string,\n\t\t\t\ttext: panel.getProperty(\"title\") as string,\n\t\t\t\ttooltip: panel.getProperty(\"tooltip\") as string\n\t\t\t});\n\t\t\ticonTabFilter.addCustomData(\n\t\t\t\tnew CustomData({\n\t\t\t\t\tkey: \"sap-ui-fastnavgroup\",\n\t\t\t\t\tvalue: \"true\",\n\t\t\t\t\twriteToDom: true\n\t\t\t\t})\n\t\t\t);\n\t\t\tthis._controlMap.set(id, iconTabFilter);\n\t\t\taddFESRSemanticStepName(iconTabFilter, FESR_EVENTS.SELECT, panel.getProperty(\"key\") as string);\n\t\t}\n\n\t\t//Add panel content to the created filter\n\t\tpanel._getContent()?.forEach((content) => (this._controlMap.get(id) as IconTabFilter).addContent(content));\n\n\t\treturn this._controlMap.get(id) as IconTabFilter;\n\t}\n\n\t/**\n\t * onBeforeRendering lifecycle method\n\t *\n\t * @private\n\t * @override\n\t */\n\tpublic onBeforeRendering(): void {\n\t\t//create layout-specific inner control\n\t\tthis._createInnerControl();\n\n\t\t//fetch and update container header\n\t\tthis._updateContainerHeader(this);\n\n\t\t//add content from all panels to inner control\n\t\tthis._addAllPanelContent();\n\t}\n\n\t/**\n\t * onAfterRendering lifecycle method\n\t *\n\t * @private\n\t * @override\n\t */\n\tpublic onAfterRendering(): void {\n\t\tthis._attachResizeHandler();\n\t}\n\n\t/**\n\t * Attaches a resize handler to the container to adjust\n\t * the layout based on device size changes.\n\t *\n\t * @private\n\t */\n\tprivate _attachResizeHandler() {\n\t\tif (this.getDomRef()) {\n\t\t\tthis._resizeObserver?.disconnect();\n\t\t\tthis._resizeObserver = new ResizeObserver((entries) => {\n\t\t\t\tthis._setDeviceType(entries);\n\t\t\t\tthis.adjustLayout();\n\t\t\t});\n\t\t\tthis._resizeObserver?.observe(this.getDomRef() as Element);\n\t\t}\n\t}\n\n\t/**\n\t * Create inner control for storing content from panel\n\t *\n\t * @private\n\t */\n\tprivate _createInnerControl(): void {\n\t\tconst layout = this.getProperty(\"layout\") as LayoutType;\n\n\t\tif (layout === LayoutType.Horizontal || layout === LayoutType.Vertical) {\n\t\t\tif (!this._wrapper) {\n\t\t\t\tthis._wrapper = new FlexBox(`${this.getId()}-wrapper`, {\n\t\t\t\t\twidth: \"100%\",\n\t\t\t\t\trenderType: \"Bare\"\n\t\t\t\t}).addStyleClass(\"sapCuxBaseWrapper\");\n\t\t\t\tthis.addDependent(this._wrapper);\n\t\t\t}\n\t\t\tthis._wrapper.setDirection(layout === LayoutType.Horizontal ? \"Row\" : \"Column\");\n\t\t} else if (!this._iconTabBar) {\n\t\t\tthis._iconTabBar = new IconTabBar(`${this.getId()}-iconTabBar`, {\n\t\t\t\texpandable: true,\n\t\t\t\tbackgroundDesign: BackgroundDesign.Transparent,\n\t\t\t\theaderMode: \"Inline\",\n\t\t\t\theaderBackgroundDesign: BackgroundDesign.Transparent,\n\t\t\t\tselect: (event: Event) => this._onPanelSelect(event)\n\t\t\t});\n\t\t\tthis.addDependent(this._iconTabBar);\n\t\t}\n\t}\n\n\t/**\n\t * Update container header information\n\t *\n\t * @private\n\t */\n\tpublic _updateContainerHeader(control: BaseContainer | BasePanel): void {\n\t\t//clear container header elements\n\t\t(this._controlMap.get(control.getId() + \"-header-contentLeft\") as HBox)?.removeAllItems();\n\t\t(this._controlMap.get(control.getId() + \"-header-contentRight\") as HBox)?.removeAllItems();\n\n\t\t//update container header elements\n\t\tthis._updateHeader(control);\n\t}\n\n\t/**\n\t * Updates header information of a specified container or a panel\n\t *\n\t * @private\n\t * @param {BaseContainer | BasePanel} control - can be container or panel\n\t */\n\tprivate _updateHeader(control: BaseContainer | BasePanel): void {\n\t\tconst isSideBySideLayout = this.getProperty(\"layout\") === LayoutType.SideBySide;\n\t\tconst isContainer = control.isA(\"sap.cux.home.BaseContainer\");\n\n\t\t//Update Title\n\t\tconst headerTitle = this._controlMap.get(control.getId() + \"-header-title\") as Title;\n\t\theaderTitle?.setText(control.getProperty(\"title\") as string);\n\t\theaderTitle?.setVisible((control.getProperty(\"title\") as string)?.trim().length > 0);\n\n\t\t//Add common header elements\n\t\tthis._addCommonHeaderElements();\n\n\t\tconst currentControl = isContainer && isSideBySideLayout ? this._getSelectedPanel() : control;\n\t\tconst targetControl = !isContainer && isSideBySideLayout ? this : control;\n\n\t\t//Update Menu Items\n\t\tconst menuItems = (currentControl?.getAggregation(\"menuItems\") || []) as MenuItem[];\n\t\tif (menuItems.length > 0) {\n\t\t\tthis._addMenuItems(targetControl, menuItems);\n\t\t}\n\n\t\t//Update Action Buttons\n\t\t(currentControl?.getAggregation(\"actionButtons\") as Button[])?.forEach((actionButton: Button) => {\n\t\t\t(this._controlMap.get(targetControl.getId() + \"-header-contentRight\") as HBox)?.addItem(this._getHeaderButton(actionButton));\n\t\t});\n\t}\n\n\t/**\n\t * Attaches common header elements like settings menu and full screen action to each\n\t * panel in the container, if enabled.\n\t *\n\t * @private\n\t */\n\tprivate _addCommonHeaderElements(): void {\n\t\tconst attachHeaderElements = (control: BaseContainer | BasePanel) => {\n\t\t\tconst elements = [\n\t\t\t\t{ property: \"enableFullScreen\", aggregation: \"menuItems\", headerElement: this._getFullScreenMenuItem(control) },\n\t\t\t\t{ property: \"enableSettings\", aggregation: \"menuItems\", headerElement: this._getHomeSettingsMenuItem(control) },\n\t\t\t\t{ property: \"enableFullScreen\", aggregation: \"actionButtons\", headerElement: this._getFullScreenButton(control) }\n\t\t\t];\n\n\t\t\telements.forEach(({ property, aggregation, headerElement }) => {\n\t\t\t\tconst layout = this._getLayout();\n\t\t\t\tconst currentPropertyValue = control.getProperty(property) as boolean;\n\t\t\t\tconst previousPropertyValue = this._commonHeaderElementStates.get(`${headerElement.getId()}-${property}`);\n\n\t\t\t\t//update common header elements only if there's a change in property value\n\t\t\t\tif (currentPropertyValue !== previousPropertyValue) {\n\t\t\t\t\tif (currentPropertyValue) {\n\t\t\t\t\t\tthis._commonHeaderElementStates.set(`${headerElement.getId()}-${property}`, currentPropertyValue);\n\t\t\t\t\t\tcontrol.addAggregation(aggregation, headerElement);\n\n\t\t\t\t\t\t//register full screen element with layout\n\t\t\t\t\t\tif (property === \"enableFullScreen\") {\n\t\t\t\t\t\t\tif (aggregation === \"actionButtons\") {\n\t\t\t\t\t\t\t\tcontrol.setAssociation(\"fullScreenButton\", headerElement, true);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (aggregation === \"menuItems\") {\n\t\t\t\t\t\t\t\tcontrol.setAssociation(\"fullScreenMenuItem\", headerElement, true);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tlayout?.registerFullScreenElement(control);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis._commonHeaderElementStates.set(`${headerElement.getId()}-${property}`, currentPropertyValue);\n\t\t\t\t\t\tcontrol.removeAggregation(aggregation, headerElement);\n\n\t\t\t\t\t\t//deregister full screen element with layout\n\t\t\t\t\t\tif (property === \"enableFullScreen\") {\n\t\t\t\t\t\t\tif (aggregation === \"actionButtons\") {\n\t\t\t\t\t\t\t\tcontrol.removeAssociation(\"fullScreenButton\", headerElement, true);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (aggregation === \"menuItems\") {\n\t\t\t\t\t\t\t\tcontrol.removeAssociation(\"fullScreenMenuItem\", headerElement, true);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tlayout?.deregisterFullScreenElement(control);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t};\n\n\t\t// Add common header elements for container\n\t\tattachHeaderElements(this);\n\n\t\t// Add common header elements for inner panels\n\t\tconst panels = this.getContent() || [];\n\t\tpanels.forEach(attachHeaderElements);\n\t}\n\n\t/**\n\t * Retrieves the my home settings menu item for a given panel.\n\t *\n\t * @private\n\t * @param {BaseContainer | BasePanel} panel - The panel for which to retrieve the home settings menu item.\n\t * @returns {MenuItem} The settings menu item for the given panel.\n\t */\n\tprivate _getHomeSettingsMenuItem(panel: BaseContainer | BasePanel): MenuItem {\n\t\tconst id = `${panel.getId()}-settings`;\n\t\tif (!this._controlMap.get(id)) {\n\t\t\tconst menuItem = new MenuItem(id, {\n\t\t\t\ttitle: this._i18nBundle.getText(\"myHomeSettings\"),\n\t\t\t\ticon: \"sap-icon://user-settings\",\n\t\t\t\tpress: () => {\n\t\t\t\t\t//open settings dialog\n\t\t\t\t\tconst layout = this._getLayout();\n\t\t\t\t\tlayout?.openSettingsDialog();\n\t\t\t\t}\n\t\t\t});\n\t\t\taddFESRId(menuItem, \"myHomeSettings\");\n\t\t\tthis._controlMap.set(id, menuItem);\n\t\t}\n\n\t\treturn this._controlMap.get(id) as MenuItem;\n\t}\n\n\t/**\n\t * Retrieves the full screen menu item for a given panel.\n\t *\n\t * @private\n\t * @param {BaseContainer | BasePanel} panel - The panel for which to retrieve the home settings menu item.\n\t * @returns {MenuItem} The settings menu item for the given panel.\n\t */\n\tprivate _getFullScreenMenuItem(panel: BaseContainer | BasePanel): MenuItem {\n\t\tconst id = `${panel.getId()}-showMore`;\n\t\tif (!this._controlMap.get(id)) {\n\t\t\tconst fullScreenMenuItem = new MenuItem(id, {\n\t\t\t\ttitle: this._i18nBundle.getText(\"expand\"),\n\t\t\t\ticon: \"sap-icon://display-more\",\n\t\t\t\tpress: () => {\n\t\t\t\t\tconst layout = this._getLayout();\n\t\t\t\t\tlayout?.toggleFullScreen(panel);\n\t\t\t\t}\n\t\t\t});\n\t\t\taddFESRId(fullScreenMenuItem, \"toggleFullScreen\");\n\t\t\tthis._controlMap.set(id, fullScreenMenuItem);\n\t\t}\n\t\treturn this._controlMap.get(id) as MenuItem;\n\t}\n\n\t/**\n\t * Generates a full screen action button for a given control, which can be a panel or a container.\n\t *\n\t * @private\n\t * @param {BaseContainer | BasePanel} control - The control for which the full screen button is generated.\n\t * @returns {Button} A Button instance configured to toggle full screen mode for the specified control.\n\t */\n\tprivate _getFullScreenButton(control: BaseContainer | BasePanel): Button {\n\t\tconst id = `${control.getId()}-fullScreen`;\n\t\tif (!this._controlMap.get(id)) {\n\t\t\tconst fullScreenButton = new Button(id, {\n\t\t\t\ttext: this._i18nBundle.getText(\"expand\"),\n\t\t\t\ttype: ButtonType.Transparent,\n\t\t\t\tpress: () => {\n\t\t\t\t\tconst layout = this._getLayout();\n\t\t\t\t\tlayout?.toggleFullScreen(control);\n\t\t\t\t}\n\t\t\t});\n\t\t\taddFESRId(fullScreenButton, \"toggleFullScreen\");\n\t\t\tthis._controlMap.set(id, fullScreenButton);\n\t\t}\n\n\t\treturn this._controlMap.get(id) as Button;\n\t}\n\n\t/**\n\t * Returns the selected panel in the IconTabBar inner control in\n\t * case of SideBySide layout\n\t *\n\t * @private\n\t * @returns {BasePanel} selected panel\n\t */\n\tpublic _getSelectedPanel(): BasePanel {\n\t\tconst panel =\n\t\t\tthis.getContent()?.find((panel) => panel.getProperty(\"key\") === this.getProperty(\"selectedKey\")) || this.getContent()?.[0];\n\t\tthis.setProperty(\"selectedKey\", panel?.getProperty(\"key\"), true);\n\n\t\treturn panel;\n\t}\n\n\t/**\n\t * Add content from all panels to the layout-specific inner control\n\t *\n\t * @private\n\t */\n\tprivate _addAllPanelContent(): void {\n\t\tconst panels = this.getContent() || [];\n\n\t\tif (this.getProperty(\"layout\") === LayoutType.SideBySide) {\n\t\t\tthis._iconTabBar.removeAllItems();\n\t\t\tpanels.forEach((panel) => this._iconTabBar.addItem(this._getIconTabFilter(panel)));\n\t\t\tthis._iconTabBar.setSelectedKey(this.getProperty(\"selectedKey\") as string);\n\t\t} else {\n\t\t\tthis._wrapper.removeAllItems();\n\t\t\tpanels.forEach((panel) => this._wrapper.addItem(this._getPanelContentWrapper(panel)));\n\t\t}\n\t}\n\n\t/**\n\t * Creates and returns a wrapper for containing the specified panel\n\t * content in case of Horizontal and Vertical layout\n\t *\n\t * @private\n\t * @param {BasePanel} panel - panel for which wrapper has to created\n\t * @returns {FlexBox} wrapper container for the given panel\n\t */\n\tprotected _getPanelContentWrapper(panel: BasePanel): FlexBox {\n\t\tconst id = `${panel.getId()}-contentWrapper`;\n\n\t\tif (!this._controlMap.get(id)) {\n\t\t\tthis._controlMap.set(\n\t\t\t\tid,\n\t\t\t\tnew FlexBox(id, {\n\t\t\t\t\tdirection: \"Column\",\n\t\t\t\t\trenderType: \"Bare\"\n\t\t\t\t})\n\t\t\t);\n\t\t}\n\n\t\t//Add header as the first item in case of Horizontal and Vertical layout\n\t\t(this._controlMap.get(id) as FlexBox).addItem(this._updatePanelHeader(panel));\n\t\tpanel._getContent()?.forEach((content) => (this._controlMap.get(id) as FlexBox).addItem(content));\n\n\t\treturn this._controlMap.get(id) as FlexBox;\n\t}\n\n\t/**\n\t * Returns header of the specified panel after updating it\n\t *\n\t * @private\n\t * @param {BasePanel} panel - panel to be updated\n\t * @returns {HBox} header associated with the panel\n\t */\n\tprivate _updatePanelHeader(panel: BasePanel): HBox {\n\t\tconst header = this._createHeader(panel);\n\t\tconst isTitleVisible = (panel.getProperty(\"title\") as string)?.trim().length > 0;\n\t\tconst hasContainerTitle = (this.getProperty(\"title\") as string)?.trim().length > 0;\n\n\t\t//update panel header elements\n\t\tthis._updateContainerHeader(panel);\n\n\t\t//add header styling only if any of the header elements are visible\n\t\theader.toggleStyleClass(\n\t\t\t\"sapCuxPanelHeader\",\n\t\t\thasContainerTitle &&\n\t\t\t\t(isTitleVisible ||\n\t\t\t\t\t(panel.getAggregation(\"menuItems\") as MenuItem[])?.length > 0 ||\n\t\t\t\t\t(panel.getAggregation(\"actionButtons\") as Button[])?.length > 0)\n\t\t);\n\n\t\treturn header;\n\t}\n\n\t/**\n\t * Setter for container title\n\t *\n\t * @private\n\t * @param {string} title - updated title\n\t * @returns {BaseContainer} BaseContainer instance for chaining\n\t */\n\tpublic _setTitle(title: string): BaseContainer {\n\t\t//suppress invalidate to prevent container re-rendering. re-render only the concerned element\n\t\tthis.setProperty(\"title\", title, true);\n\t\t(this._controlMap.get(`${this.getId()}-header-title`) as Title).setText(title);\n\t\treturn this;\n\t}\n\n\t/**\n\t * Adds menu items to a control and sets up a menu button to display them.\n\t * If the menu for the control doesn't exist, it creates a new one.\n\t *\n\t * @private\n\t * @param {BaseContainer | BasePanel} control - The control to which the menu items will be added.\n\t * @param {MenuItem[]} menuItems - An array of menu items to be added to the menu.\n\t */\n\tprivate _addMenuItems(control: BaseContainer | BasePanel, menuItems: MenuItem[]): void {\n\t\tif (!this._controlMap.get(`${control.getId()}-menu`)) {\n\t\t\t//create menu list\n\t\t\tconst list = new List(`${control.getId()}-list`, {\n\t\t\t\titemPress: (event) => (event.getSource<List>().getParent() as Popover).close()\n\t\t\t});\n\t\t\tthis._controlMap.set(`${control.getId()}-menu`, list);\n\n\t\t\t//create menu popover\n\t\t\tconst menuPopover = new Popover(`${control.getId()}-popover`, {\n\t\t\t\tplacement: PlacementType.VerticalPreferredBottom,\n\t\t\t\tshowHeader: false,\n\t\t\t\tcontent: [list]\n\t\t\t});\n\n\t\t\t//create menu button\n\t\t\tconst menuButton = new Button(`${control.getId()}-menu-btn`, {\n\t\t\t\ticon: \"sap-icon://slim-arrow-down\",\n\t\t\t\ttype: ButtonType.Transparent,\n\t\t\t\tpress: (event) => menuPopover.openBy(event.getSource<Button>())\n\t\t\t});\n\t\t\tthis._controlMap.set(`${control.getId()}-menu-btn`, menuButton);\n\t\t}\n\n\t\t//add menu button to header\n\t\t(this._controlMap.get(control.getId() + \"-header-contentLeft\") as HBox)?.addItem(\n\t\t\tthis._controlMap.get(`${control.getId()}-menu-btn`) as Button\n\t\t);\n\n\t\t//Clear existing menu items and add new ones\n\t\t(this._controlMap.get(`${control.getId()}-menu`) as List).removeAllItems();\n\t\tmenuItems.forEach((item) => (this._controlMap.get(`${control.getId()}-menu`) as List).addItem(this._getMenuListItem(item)));\n\t}\n\n\t/**\n\t * Creates and returns a button for the corresponding header ActionButton\n\t *\n\t * @private\n\t * @param {Button} headerButton - ActionButton element\n\t * @returns {Button} Button instance created for the header element\n\t */\n\tprivate _getHeaderButton(headerButton: Button): Button {\n\t\tconst id = `${headerButton.getId()}-btn`;\n\t\tif (!this._controlMap.get(id)) {\n\t\t\tthis._controlMap.set(\n\t\t\t\tid,\n\t\t\t\tnew Button(id, {\n\t\t\t\t\ttype: ButtonType.Transparent,\n\t\t\t\t\tpress: () => headerButton.firePress()\n\t\t\t\t})\n\t\t\t);\n\t\t\taddFESRSemanticStepName(this._controlMap.get(id) as Button, FESR_EVENTS.PRESS, getFESRId(headerButton));\n\t\t}\n\n\t\t//Update button details\n\t\tconst button = this._controlMap.get(id) as Button;\n\t\tbutton.setText(headerButton.getText());\n\t\tbutton.setTooltip(headerButton.getTooltip() as string);\n\t\tbutton.setIcon(headerButton.getIcon());\n\t\tbutton.setVisible(headerButton.getVisible());\n\t\tbutton.setEnabled(headerButton.getEnabled());\n\n\t\treturn button;\n\t}\n\n\t/**\n\t * Retrieves the layout associated with the container, if available.\n\t *\n\t * @private\n\t * @returns {BaseLayout} The layout associated with the BaseContainer.\n\t */\n\tpublic _getLayout(): BaseLayout {\n\t\treturn UI5Element.getElementById(this.getAssociation(\"layout\", null) as string) as BaseLayout;\n\t}\n\n\t/**\n\t * Retrieves or creates a menu list item for a given menu item.\n\t *\n\t * @private\n\t * @param {MenuItem} menuItem - The menu item for which to retrieve or create a list item.\n\t * @returns {StandardListItem} The menu list item associated with the provided menu item.\n\t */\n\tprivate _getMenuListItem(menuItem: MenuItem): StandardListItem {\n\t\tif (!this._controlMap.get(`${menuItem.getId()}-listItem`)) {\n\t\t\tthis._controlMap.set(\n\t\t\t\t`${menuItem.getId()}-listItem`,\n\t\t\t\tnew StandardListItem(`${menuItem.getId()}-listItem`, {\n\t\t\t\t\ttype: \"Active\",\n\t\t\t\t\ticon: menuItem.getIcon(),\n\t\t\t\t\ttitle: menuItem.getTitle(),\n\t\t\t\t\tpress: (event) => menuItem.firePress({ button: event.getSource<Button>() })\n\t\t\t\t})\n\t\t\t);\n\t\t\taddFESRSemanticStepName(\n\t\t\t\tthis._controlMap.get(`${menuItem.getId()}-listItem`) as StandardListItem,\n\t\t\t\tFESR_EVENTS.PRESS,\n\t\t\t\tgetFESRId(menuItem)\n\t\t\t);\n\t\t}\n\t\t//Update list item details\n\t\tconst menuListItem = this._controlMap.get(`${menuItem.getId()}-listItem`) as StandardListItem;\n\t\tmenuListItem.setIcon(menuItem.getIcon());\n\t\tmenuListItem.setTitle(menuItem.getTitle());\n\t\tmenuListItem.setVisible(menuItem.getVisible());\n\t\treturn menuListItem;\n\t}\n\n\t/**\n\t * Toggles the visibility of menu Item.\n\t *\n\t * @private\n\t * @param {boolean} show - Indicates whether to show or hide the menu item.\n\t * @returns {void}\n\t */\n\tpublic toggleMenuListItem(menuItem: MenuItem, show: boolean): void {\n\t\tif (menuItem) {\n\t\t\tconst menuListItem = this._getMenuListItem(menuItem);\n\t\t\tmenuListItem?.setVisible(show);\n\t\t}\n\t}\n\n\tpublic removeContent(panel: BasePanel) {\n\t\tif (this.getProperty(\"selectedKey\") && this.getProperty(\"selectedKey\") === panel.getProperty(\"key\")) {\n\t\t\tthis.setProperty(\"selectedKey\", undefined, true);\n\t\t}\n\t\tthis.removeAggregation(\"content\", panel);\n\t}\n\n\t/**\n\t * Gets current value of property \"width\".\n\t *\n\t * Default value is: \"100%\"\n\t * @returns {CSSSize} Value of property \"width\"\n\t */\n\tpublic getWidth(): CSSSize {\n\t\treturn this.getProperty(\"width\") as CSSSize;\n\t}\n\n\t/**\n\t * Toggles the visibility of action buttons within the container and/or its inner panels.\n\t *\n\t * @private\n\t * @param {boolean} show - Indicates whether to show or hide the action buttons.\n\t * @returns {void}\n\t */\n\tpublic toggleActionButtons(show: boolean): void {\n\t\tconst isSideBySideLayout = this.getProperty(\"layout\") === LayoutType.SideBySide;\n\t\tlet visibilityChanged = false;\n\t\tconst toggleActionButtons = (control: BaseContainer | BasePanel) => {\n\t\t\tcontrol.getActionButtons()?.forEach((actionButton) => {\n\t\t\t\tconst currentVisibility = actionButton.getVisible();\n\t\t\t\tif (currentVisibility !== show) {\n\t\t\t\t\tactionButton.setProperty(\"visible\", show, true);\n\t\t\t\t\tvisibilityChanged = true;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tif (!isSideBySideLayout && visibilityChanged) {\n\t\t\t\tthis._updateContainerHeader(control);\n\t\t\t}\n\t\t};\n\n\t\t// Toggle action buttons for container\n\t\ttoggleActionButtons(this);\n\n\t\t// Toggle action buttons for inner panels\n\t\tconst panels = this.getContent() || [];\n\t\tpanels.forEach(toggleActionButtons);\n\n\t\t// Update Header Container if required\n\t\tif (isSideBySideLayout && visibilityChanged) {\n\t\t\tthis._updateContainerHeader(this);\n\t\t}\n\t}\n\n\t/**\n\t * Toggles the visibility of the full screen button for the specified element.\n\t *\n\t * @private\n\t * @param {BaseContainer | BasePanel} element - The element for which to toggle the full screen button.\n\t * @param {boolean} show - Indicates whether to show or hide the full screen button.\n\t * @param {boolean} isElementExpanded - Indicates whether the element is expanded.\n\t */\n\tpublic toggleFullScreenElements(element: BaseContainer | BasePanel, show: boolean, isElementExpanded: boolean): void {\n\t\tconst fullScreenButton = UI5Element.getElementById(element.getAssociation(\"fullScreenButton\", null) as string) as Button;\n\t\tconst fullScreenMenuButton = UI5Element.getElementById(element.getAssociation(\"fullScreenMenuItem\", null) as string) as MenuItem;\n\t\tconst isSideBySideLayout = this.getProperty(\"layout\") === LayoutType.SideBySide;\n\t\tconst isPhone = this.getDeviceType() === DeviceType.Mobile;\n\t\tlet elementVisibilityChanged = false;\n\t\t[fullScreenButton, fullScreenMenuButton].forEach((fullScreenElement: Button | MenuItem) => {\n\t\t\tif (fullScreenElement && show !== fullScreenElement.getVisible()) {\n\t\t\t\telementVisibilityChanged = true;\n\t\t\t\tshow = !isPhone ? show : false;\n\t\t\t\tfullScreenElement.setProperty(\"visible\", isElementExpanded ? true : show, true);\n\t\t\t}\n\t\t});\n\t\tconst elementKey = element instanceof BasePanel && element.getKey();\n\t\tif (elementVisibilityChanged && (!isSideBySideLayout || (isSideBySideLayout && this.getProperty(\"selectedKey\") === elementKey))) {\n\t\t\tthis._updateContainerHeader(element);\n\t\t}\n\t}\n\n\t/**\n\t * Sets the device type based on the width of the container element.\n\t *\n\t * @private\n\t * @param {ResizeObserverEntry[]} entries - The entries returned by the ResizeObserver.\n\t * @returns {void}\n\t */\n\tprivate _setDeviceType(entries: ResizeObserverEntry[]): void {\n\t\tconst [entry] = entries;\n\t\tconst width = entry?.contentRect.width;\n\t\tconst deviceType = calculateDeviceType(width);\n\n\t\tif (this._deviceType !== deviceType) {\n\t\t\tthis._deviceType = deviceType;\n\t\t}\n\t}\n\n\t/**\n\t * Retrieves the device type for the current instance.\n\t *\n\t * @private\n\t * @returns {DeviceType} - The device type. If the device type is not set, it calculates\n\t * and returns the device type based on the current device width.\n\t */\n\tpublic getDeviceType(): DeviceType {\n\t\treturn this._deviceType || calculateDeviceType();\n\t}\n}\n"],"mappings":"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","ignoreList":[],"sourceRoot":""}},{"offset":{"line":52,"column":0},"map":{"version":3,"file":"BaseContainerRenderer.js","names":["sap","ui","define","___library","LayoutType","__exports","apiVersion","render","rm","control","openStart","class","getProperty","SideBySide","Horizontal","style","getWidth","getHeight","openEnd","this","renderContent","close","getContent","length","getId","renderControl","_getHeader","_getInnerControl"],"sources":["BaseContainerRenderer.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\n\nimport RenderManager from \"sap/ui/core/RenderManager\";\nimport BaseContainer from \"./BaseContainer\";\nimport { LayoutType } from \"./library\";\n\nexport default {\n\tapiVersion: 2,\n\n\t/**\n\t * Renders the control.\n\t *\n\t * @public\n\t * @override\n\t * @param {RenderManager} rm - The RenderManager object.\n\t * @param {BaseContainer} control - The BaseContainer control to be rendered.\n\t */\n\trender: function (rm: RenderManager, control: BaseContainer) {\n\t\trm.openStart(\"div\", control).class(\"sapCuxBaseContainer\");\n\n\t\t//Apply Layout based style classes\n\t\tif (control.getProperty(\"layout\") === LayoutType.SideBySide) {\n\t\t\trm.class(\"sapCuxSideBySide\");\n\t\t} else if (control.getProperty(\"layout\") === LayoutType.Horizontal) {\n\t\t\trm.class(\"sapCuxHorizontal\");\n\t\t} else {\n\t\t\trm.class(\"sapCuxVertical\");\n\t\t}\n\n\t\t//update width and height\n\t\trm.style(\"width\", control.getWidth());\n\t\trm.style(\"height\", control.getHeight());\n\t\trm.openEnd();\n\n\t\t//render content\n\t\tthis.renderContent(rm, control);\n\n\t\trm.close(\"div\");\n\t},\n\n\t/**\n\t * Renders the content of the control.\n\t *\n\t * @private\n\t * @param {RenderManager} rm - The RenderManager object.\n\t * @param {BaseContainer} control - The BaseContainer control.\n\t */\n\trenderContent: function (rm: RenderManager, control: BaseContainer) {\n\t\tif (control.getContent()?.length > 0) {\n\t\t\t//render header\n\t\t\trm.openStart(\"div\", control.getId() + \"-header\")\n\t\t\t\t.class(\"sapUiBaseContainerHeader\")\n\t\t\t\t.openEnd();\n\t\t\trm.renderControl(control._getHeader());\n\t\t\trm.close(\"div\");\n\n\t\t\t//render content\n\t\t\trm.openStart(\"div\", control.getId() + \"-content\")\n\t\t\t\t.class(\"sapUiBaseContainerContent\")\n\t\t\t\t.openEnd();\n\t\t\trm.renderControl(control._getInnerControl());\n\t\t\trm.close(\"div\");\n\t\t}\n\t}\n};\n"],"mappings":"AAAA;;;;AAAA,aAAAA,IAAAC,GAAAC,OAAA,uBAAAC,GAAA,mBAOSC,EAAUD,EAAA,kBAAAE,EAEJ,CACdC,WAAY,EAUZC,OAAQ,SAAUC,EAAmBC,GACpCD,EAAGE,UAAU,MAAOD,GAASE,MAAM,uBAGnC,GAAIF,EAAQG,YAAY,YAAcR,EAAWS,WAAY,CAC5DL,EAAGG,MAAM,mBACV,MAAO,GAAIF,EAAQG,YAAY,YAAcR,EAAWU,WAAY,CACnEN,EAAGG,MAAM,mBACV,KAAO,CACNH,EAAGG,MAAM,iBACV,CAGAH,EAAGO,MAAM,QAASN,EAAQO,YAC1BR,EAAGO,MAAM,SAAUN,EAAQQ,aAC3BT,EAAGU,UAGHC,KAAKC,cAAcZ,EAAIC,GAEvBD,EAAGa,MAAM,MACV,EASAD,cAAe,SAAUZ,EAAmBC,GAC3C,GAAIA,EAAQa,cAAcC,OAAS,EAAG,CAErCf,EAAGE,UAAU,MAAOD,EAAQe,QAAU,WACpCb,MAAM,4BACNO,UACFV,EAAGiB,cAAchB,EAAQiB,cACzBlB,EAAGa,MAAM,OAGTb,EAAGE,UAAU,MAAOD,EAAQe,QAAU,YACpCb,MAAM,6BACNO,UACFV,EAAGiB,cAAchB,EAAQkB,oBACzBnB,EAAGa,MAAM,MACV,CACD,GACA,OAAAhB,CAAA","ignoreList":[],"sourceRoot":""}},{"offset":{"line":59,"column":0},"map":{"version":3,"file":"BaseLayout.js","names":["sap","ui","define","Log","deepEqual","Page","UI5Element","Lib","HashChanger","__BaseLayoutRenderer","__BasePanel","___library","___utils_Device","_interopRequireDefault","obj","__esModule","default","BaseLayoutRenderer","BasePanel","LayoutType","DeviceType","calculateDeviceType","BaseLayout","extend","renderer","metadata","library","properties","enableSettings","type","group","visibility","enableFullScreen","expanded","defaultValue","settingsDialogPersisted","showHeader","showFooter","busy","defaultAggregation","aggregations","items","singularName","multiple","settingsDialog","keyUserSettingsDialog","fullScreenContainer","events","onCollapse","constructor","_constructor","id","settings","Page.prototype.constructor.call","this","init","_init","Page.prototype.init.call","_settingsPanels","_elementConfigs","Map","_i18nBundle","getResourceBundleFor","addStyleClass","_slideDurationInSeconds","_fullScreenContainer","getId","setAggregation","onBeforeRendering","_onBeforeRendering","event","Page.prototype.onBeforeRendering.call","getProperty","selectedKey","getAggregation","openSettingsDialog","setProperty","document","body","style","onAfterRendering","_onAfterRendering","_layoutLoaded","setTimeout","_hashChanger","_loadFullScreenFromHash","getHash","appIntent","split","window","addEventListener","currentHash","location","hash","substring","includes","getContent","_getContent","getItems","_getURLParams","queryString","indexOf","URLSearchParams","hashChanged","arguments","length","undefined","URLParams","expandedElementName","get","expandedElement","isTargetContainerVisible","targetContainer","getVisible","isPhone","Mobile","_currentExpandedElement","fullScreenName","_toggleFullScreenForElement","has","getElementById","classList","add","updatedHash","_removeURLParam","replaceHash","toggleFullScreen","sourceElements","_openSettingsDialog","context","open","setSettingsDialog","_setSettingsDialog","settingsPanels","getPanels","forEach","settingsPanel","_addSettingsPanel","override","push","_getSettingsPanels","_extractElementConfig","element","sourceElement","getParent","isPanelInSideBySideLayout","SideBySide","registerFullScreenElement","_registerFullScreenElement","elementConfig","set","deregisterFullScreenElement","_deregisterFullScreenElement","delete","_addURLParam","key","value","toString","_toggleFullScreen","allowToggle","_checkToggleRequirements","panelIndex","indexOfAggregation","isContainerInSideBySideLayout","_placeClonedElement","toggle","_toggleFullScreenButtonText","_previousExpandedElement","_currentExpandedElementIndex","indexOfItem","isTargetContainerDifferent","_adjustPreviousExpandedElementIfRequired","_modifyContainer","fireEvent","insertItem","_toggleInnerPanelVisibility","_resetScrollPosition","warning","_getFullScreenContainer","removeAllContent","_sourceElementClone","remove","addContent","currentFullScreenName","firstSourceElement","insertContent","_scrollPosition","getAssociation","focus","sectionRef","_getSectionRef","scrollTop","indexOfVisiblePanel","_getInnerControl","panel","index","toggleStyleClass","control","isPanel","isA","parentContainer","updateText","fullScreenButton","_getFullScreenButton","getText","fullScreenMenuItem","_getFullScreenMenuItem","_updateContainerHeader","getDomRef","childNodes","targetElement","_domSnapshot","cloneNode","isSideBySideLayout","targetDomRef","innerHTML","append","_getCurrentExpandedElementName","_getCurrentExpandedElement","isExpandInHash"],"sources":["BaseLayout.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\n\nimport { Event } from \"jquery\";\nimport ResourceBundle from \"sap/base/i18n/ResourceBundle\";\nimport Log from \"sap/base/Log\";\nimport deepEqual from \"sap/base/util/deepEqual\";\nimport Button from \"sap/m/Button\";\nimport FlexBox from \"sap/m/FlexBox\";\nimport Page from \"sap/m/Page\";\nimport Control from \"sap/ui/core/Control\";\nimport UI5Element, { MetadataOptions } from \"sap/ui/core/Element\";\nimport Lib from \"sap/ui/core/Lib\";\nimport HashChanger from \"sap/ui/core/routing/HashChanger\";\nimport BaseContainer from \"./BaseContainer\";\nimport { $BaseLayoutSettings } from \"./BaseLayout\";\nimport BaseLayoutRenderer from \"./BaseLayoutRenderer\";\nimport BasePanel from \"./BasePanel\";\nimport BaseSettingsDialog from \"./BaseSettingsDialog\";\nimport BaseSettingsPanel from \"./BaseSettingsPanel\";\nimport { LayoutType } from \"./library\";\nimport MenuItem from \"./MenuItem\";\nimport { DeviceType, calculateDeviceType } from \"./utils/Device\";\n\ninterface FullScreenElementConfig {\n\tfullScreenName: string;\n\tsourceElements: (BaseContainer | BasePanel)[];\n\ttargetContainer: BaseContainer;\n}\n\n/**\n *\n * Abstract base class for My Home layout control.\n *\n * @extends Page\n *\n * @author SAP SE\n * @version 0.0.1\n * @since 1.121\n *\n * @internal\n * @experimental Since 1.121\n * @abstract\n * @private\n *\n * @alias sap.cux.home.BaseLayout\n */\nexport default abstract class BaseLayout extends Page {\n\tprotected _i18nBundle!: ResourceBundle;\n\tprivate _settingsPanels!: BaseSettingsPanel[];\n\tprivate _domSnapshot!: Node;\n\tprivate _sourceElementClone!: Node | Element;\n\tprivate _scrollPosition!: number;\n\tprivate _currentExpandedElementIndex!: number;\n\tprivate _fullScreenContainer!: Page;\n\tprivate _slideDurationInSeconds!: number;\n\tprivate _layoutLoaded!: boolean;\n\tprivate _hashChanger!: HashChanger;\n\tprivate _currentExpandedElement!: FullScreenElementConfig | undefined;\n\tprivate _previousExpandedElement!: FullScreenElementConfig | undefined;\n\tprivate _elementConfigs!: Map<string, FullScreenElementConfig>;\n\n\tconstructor(id?: string | $BaseLayoutSettings);\n\tconstructor(id?: string, settings?: $BaseLayoutSettings);\n\tconstructor(id?: string, settings?: $BaseLayoutSettings) {\n\t\tsuper(id, settings);\n\t}\n\n\tstatic readonly metadata: MetadataOptions = {\n\t\tlibrary: \"sap.cux.home\",\n\t\tproperties: {\n\t\t\t/**\n\t\t\t * Indicates whether home settings are enabled for this control.\n\t\t\t */\n\t\t\tenableSettings: { type: \"boolean\", group: \"Misc\", visibility: \"hidden\" },\n\t\t\t/**\n\t\t\t * Indicates whether full screen is enabled for this control.\n\t\t\t */\n\t\t\tenableFullScreen: { type: \"boolean\", group: \"Misc\", visibility: \"hidden\" },\n\t\t\t/**\n\t\t\t * Indicates whether the layout is expanded.\n\t\t\t */\n\t\t\texpanded: { type: \"boolean\", group: \"Misc\", defaultValue: false, visibility: \"hidden\" },\n\t\t\t/**\n\t\t\t * Indicates whether the settings dialog state is persisted for this control.\n\t\t\t */\n\t\t\tsettingsDialogPersisted: { type: \"boolean\", group: \"Misc\", defaultValue: false, visibility: \"hidden\" },\n\t\t\t/**\n\t\t\t * Whether the layout shall have a header.\n\t\t\t */\n\t\t\tshowHeader: { type: \"boolean\", group: \"Appearance\", defaultValue: false, visibility: \"hidden\" },\n\t\t\t/**\n\t\t\t * Whether this layout shall have a footer.\n\t\t\t */\n\t\t\tshowFooter: { type: \"boolean\", group: \"Appearance\", defaultValue: false, visibility: \"hidden\" },\n\t\t\t/**\n\t\t\t * Whether the layout is currently in busy state.\n\t\t\t */\n\t\t\tbusy: { type: \"boolean\", defaultValue: false, visibility: \"hidden\" }\n\t\t},\n\t\tdefaultAggregation: \"items\",\n\t\taggregations: {\n\t\t\t/**\n\t\t\t * The items aggregation which should be of type BaseContainer\n\t\t\t */\n\t\t\titems: { type: \"sap.cux.home.BaseContainer\", singularName: \"item\", multiple: true },\n\t\t\t/**\n\t\t\t * The settings dialog aggregation which controls settings for my home controls.\n\t\t\t * It should be of type BaseSettingsDialog.\n\t\t\t * If Not provided, a default settings dialog will be created from sap.cux.home.SettingsDialog.\n\t\t\t * In case of only custom settings panels, the settings dialog should be created and set manually from sap.cux.home.SettingsDialog.\n\t\t\t */\n\t\t\tsettingsDialog: {\n\t\t\t\ttype: \"sap.cux.home.BaseSettingsDialog\",\n\t\t\t\tsingularName: \"settingsDialog\",\n\t\t\t\tmultiple: false\n\t\t\t},\n\t\t\t/**\n\t\t\t * The Key User Settings dialog aggregation which controls key user settings for my home.\n\t\t\t * It should be of type BaseSettingsDialog.\n\t\t\t * If Not provided, a default settings dialog will be created from sap.cux.home.KeyUserSettingsDialog.\n\t\t\t * In case of only custom settings panels, the settings dialog should be created and set manually from sap.cux.home.KeyUserSettingsDialog.\n\t\t\t */\n\t\t\tkeyUserSettingsDialog: {\n\t\t\t\ttype: \"sap.cux.home.BaseSettingsDialog\",\n\t\t\t\tsingularName: \"keyUserSettingsDialog\",\n\t\t\t\tmultiple: false\n\t\t\t},\n\t\t\t/**\n\t\t\t * The full screen container to display registered full-screen elements\n\t\t\t */\n\t\t\tfullScreenContainer: { type: \"sap.m.Page\", singularName: \"fullScreenContainer\", multiple: false, visibility: \"hidden\" }\n\t\t},\n\t\tevents: {\n\t\t\t/**\n\t\t\t * Event is fired after the layout is collapsed.\n\t\t\t */\n\t\t\tonCollapse: {}\n\t\t}\n\t};\n\n\tstatic renderer: typeof BaseLayoutRenderer = BaseLayoutRenderer;\n\n\t/**\n\t * Init lifecycle method\n\t *\n\t * @private\n\t * @override\n\t */\n\tpublic init(): void {\n\t\tsuper.init();\n\t\tthis._settingsPanels = [];\n\t\tthis._elementConfigs = new Map();\n\t\tthis._i18nBundle = Lib.getResourceBundleFor(\"sap.cux.home.i18n\") as ResourceBundle;\n\n\t\t//setup page\n\t\tthis.addStyleClass(\"sapCuxBaseLayout\");\n\n\t\t//setup full-screen container\n\t\tthis._slideDurationInSeconds = 1;\n\t\tthis._fullScreenContainer = new Page(`${this.getId()}-fullScreen-container`, { showHeader: false });\n\t\tthis.setAggregation(\"fullScreenContainer\", this._fullScreenContainer);\n\t}\n\n\t/**\n\t * onBeforeRendering lifecycle method\n\t *\n\t * @private\n\t * @override\n\t */\n\tpublic onBeforeRendering(event: Event): void {\n\t\tsuper.onBeforeRendering(event);\n\n\t\t//open settings dialog if persisted\n\t\tif (this.getProperty(\"settingsDialogPersisted\")) {\n\t\t\tconst selectedKey = (this.getAggregation(\"settingsDialog\") as BaseSettingsDialog)?.getProperty(\"selectedKey\") as string;\n\t\t\tthis.openSettingsDialog(selectedKey);\n\n\t\t\t//reset property\n\t\t\tthis.setProperty(\"settingsDialogPersisted\", false, true);\n\t\t}\n\n\t\t//update full-screen slide animation duration, if enabled\n\t\tif (this.getProperty(\"enableFullScreen\")) {\n\t\t\tdocument.body.style.setProperty(\"--sapUiSlideDuration\", `${this._slideDurationInSeconds}s`);\n\t\t}\n\t}\n\n\t/**\n\t * onAfterRendering lifecycle method.\n\t *\n\t * @private\n\t */\n\tpublic onAfterRendering(): void {\n\t\t//expand element on load if expanded through URL param\n\t\tif (this.getProperty(\"enableFullScreen\")) {\n\t\t\tif (!this._layoutLoaded) {\n\t\t\t\tthis._layoutLoaded = true;\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tthis._hashChanger = new HashChanger();\n\t\t\t\t\tthis._loadFullScreenFromHash(this._hashChanger.getHash() || \"\");\n\t\t\t\t\tconst [appIntent] = this._hashChanger.getHash().split(\"?\");\n\n\t\t\t\t\t//attach hash change event for toggling full screen\n\t\t\t\t\twindow.addEventListener?.(\"hashchange\", () => {\n\t\t\t\t\t\tconst currentHash = window.location.hash.substring(1);\n\t\t\t\t\t\t//toggle full screen only if hash is changed from within the app\n\t\t\t\t\t\tif (currentHash.includes?.(appIntent)) {\n\t\t\t\t\t\t\tthis._loadFullScreenFromHash(currentHash, true);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Retrieves the content of the BaseLayout.\n\t * Overridden to return the items aggregation during inner page rendering.\n\t *\n\t * @private\n\t * @override\n\t * @returns An array of Control objects representing the content.\n\t */\n\tpublic getContent(): Control[] {\n\t\treturn this.getItems();\n\t}\n\n\t/**\n\t * Extracts URL search parameters from a given hash string.\n\t *\n\t * @private\n\t * @param {string} hash - The hash string containing the URL parameters.\n\t * @returns {URLSearchParams} An instance of URLSearchParams containing the parsed parameters.\n\t */\n\tprivate _getURLParams(hash: string): URLSearchParams {\n\t\tconst queryString = hash?.includes(\"?\") ? hash.substring(hash.indexOf(\"?\") + 1) : \"\";\n\t\treturn new URLSearchParams(queryString);\n\t}\n\n\t/**\n\t * Loads full screen mode from URL hash if enabled.\n\t *\n\t * @private\n\t * @param {string} hash - The URL hash string.\n\t * @param {boolean} [hashChanged=false] - Indicates if the hash has changed.\n\t */\n\tprivate _loadFullScreenFromHash(hash: string, hashChanged: boolean = false): void {\n\t\tconst enableFullScreen = this.getProperty(\"enableFullScreen\") as boolean;\n\t\tconst URLParams = this._getURLParams(hash);\n\t\tconst expandedElementName = URLParams.get(\"expanded\") || \"\";\n\t\tconst expandedElement = this._elementConfigs.get(expandedElementName);\n\t\tconst isTargetContainerVisible = expandedElement?.targetContainer.getVisible() || false;\n\t\tconst isPhone = calculateDeviceType() === DeviceType.Mobile;\n\n\t\tif (enableFullScreen && expandedElement && !isPhone && isTargetContainerVisible) {\n\t\t\tif (this._currentExpandedElement?.fullScreenName !== expandedElementName) {\n\t\t\t\t//expand element and prevent slide if hash element is found and another element is currently expanded\n\t\t\t\tthis._toggleFullScreenForElement(expandedElement, hashChanged);\n\t\t\t} else if (!this._currentExpandedElement) {\n\t\t\t\t//expand element if hash element is found and no element is currently expanded\n\t\t\t\tthis._toggleFullScreenForElement(expandedElement);\n\t\t\t} else if (URLParams.has(\"expanded\")) {\n\t\t\t\t//retain the slide transition in case of hash switch\n\t\t\t\tdocument.getElementById(`${this.getId()}-layout-container`)?.classList.add(\"slide\");\n\t\t\t}\n\t\t} else {\n\t\t\tif (this._currentExpandedElement) {\n\t\t\t\t//collapse expanded element if hash element not found\n\t\t\t\tthis._toggleFullScreenForElement(this._currentExpandedElement);\n\t\t\t} else {\n\t\t\t\t//reset hash if no expanded element found\n\t\t\t\tif (URLParams.has(\"expanded\")) {\n\t\t\t\t\tconst updatedHash = this._removeURLParam(hash, \"expanded\");\n\t\t\t\t\tthis._hashChanger?.replaceHash(updatedHash, \"Backwards\");\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Toggles full screen mode for the specified element.\n\t *\n\t * @private\n\t * @param {FullScreenElementConfig} expandedElement - The configuration of the element to be expanded.\n\t * @param {boolean} [hashChanged=false] - Indicates if the hash has changed, affecting the toggle behavior.\n\t */\n\tprivate _toggleFullScreenForElement(expandedElement: FullScreenElementConfig, hashChanged: boolean = false): void {\n\t\tsetTimeout(() => this.toggleFullScreen(expandedElement.sourceElements[0], hashChanged));\n\t}\n\n\t/**\n\t * Opens the settings dialog and navigate to the panel\n\t * specified by the selected key.\n\t *\n\t * @private\n\t * @param {string} selectedKey The key of the panel to navigate to\n\t */\n\tpublic openSettingsDialog(selectedKey: string = \"\", context: object = {}): void {\n\t\tconst settingsDialog = this.getAggregation(\"settingsDialog\") as BaseSettingsDialog;\n\t\tsettingsDialog?.setProperty(\"selectedKey\", selectedKey);\n\t\tsettingsDialog?.setProperty(\"context\", context);\n\t\tsettingsDialog?.open();\n\t}\n\n\t/**\n\t * Sets SettingsDialog aggregation.\n\t * Overridden to update cached settings panels.\n\t *\n\t * @public\n\t * @override\n\t * @returns {BaseSettingsDialog} the dialog for chaining\n\t */\n\tpublic setSettingsDialog(settingsDialog: BaseSettingsDialog): this {\n\t\tconst enableSettings = this.getProperty(\"enableSettings\") as boolean;\n\t\tif (enableSettings) {\n\t\t\tconst settingsPanels = settingsDialog?.getPanels();\n\t\t\tsettingsPanels?.forEach((settingsPanel: BaseSettingsPanel) => {\n\t\t\t\tthis._addSettingsPanel(settingsPanel);\n\t\t\t});\n\t\t}\n\t\tthis.setAggregation(\"settingsDialog\", settingsDialog);\n\t\treturn this;\n\t}\n\n\t/**\n\t * Adds a settings panel to the list of settings panels associated\n\t * with the layout's settings dialog.\n\t *\n\t * @param {BaseSettingsPanel} settingsPanel - The settings panel to be added.\n\t * @private\n\t */\n\tpublic _addSettingsPanel(settingsPanel: BaseSettingsPanel | BaseSettingsPanel[] | undefined, override?: boolean): void {\n\t\tif (settingsPanel) {\n\t\t\tif (override) {\n\t\t\t\tthis._settingsPanels = settingsPanel as BaseSettingsPanel[];\n\t\t\t} else {\n\t\t\t\tthis._settingsPanels.push(settingsPanel as BaseSettingsPanel);\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Adds a settings panel to the list of settings panels associated\n\t * with the layout's settings dialog.\n\t *\n\t * @param {BaseSettingsPanel} settingsPanel - The settings panel to be added.\n\t * @private\n\t */\n\tpublic _getSettingsPanels(): BaseSettingsPanel[] {\n\t\treturn this._settingsPanels;\n\t}\n\n\t/**\n\t * Extracts the configuration necessary for handling full-screen functionality of an element.\n\t *\n\t * @private\n\t * @param {BaseContainer | BasePanel} element - The element for which to extract the full-screen configuration.\n\t * @returns {FullScreenElementConfig} Full screen element configuration.\n\t */\n\tprivate _extractElementConfig(element: BaseContainer | BasePanel): FullScreenElementConfig {\n\t\tconst sourceElement = element;\n\t\tconst targetContainer = sourceElement instanceof BasePanel ? (sourceElement.getParent() as BaseContainer) : sourceElement;\n\t\tconst isPanelInSideBySideLayout =\n\t\t\tsourceElement instanceof BasePanel && targetContainer.getProperty(\"layout\") === LayoutType.SideBySide;\n\t\tconst fullScreenName = (isPanelInSideBySideLayout ? targetContainer : sourceElement).getProperty(\"fullScreenName\") as string;\n\n\t\treturn { sourceElements: [sourceElement], targetContainer, fullScreenName };\n\t}\n\n\t/**\n\t * Configures an element for full-screen functionality by extracting and storing its configuration.\n\t * Only stores the configuration if a full-screen name is provided and layout is not currently expanded.\n\t *\n\t * @private\n\t * @param {BaseContainer | BasePanel} element - The element to configure for full-screen.\n\t */\n\tpublic registerFullScreenElement(element: BaseContainer | BasePanel): void {\n\t\tconst elementConfig = this._extractElementConfig(element);\n\t\tconst { fullScreenName } = elementConfig;\n\n\t\tif (fullScreenName && !this.getProperty(\"expanded\")) {\n\t\t\tif (this._elementConfigs.get(fullScreenName)) {\n\t\t\t\tthis._elementConfigs.get(fullScreenName)?.sourceElements.push(element);\n\t\t\t} else {\n\t\t\t\tthis._elementConfigs.set(fullScreenName, elementConfig);\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Removes an element's full-screen configuration based on its full-screen name.\n\t * Only removes the configuration if a full-screen name is provided and layout is not currently expanded.\n\t *\n\t * @private\n\t * @param {BaseContainer | BasePanel} element - The element to remove from full-screen configuration.\n\t */\n\tpublic deregisterFullScreenElement(element: BaseContainer | BasePanel): void {\n\t\tconst { fullScreenName } = this._extractElementConfig(element);\n\t\tif (fullScreenName && !this.getProperty(\"expanded\")) {\n\t\t\tthis._elementConfigs.delete(fullScreenName);\n\t\t}\n\t}\n\n\t/**\n\t * Adds or updates a URL parameter in the given hash string.\n\t *\n\t * @private\n\t * @param {string} hash - The original hash string.\n\t * @param {string} key - The parameter key to add or update.\n\t * @param {string} value - The value for the parameter.\n\t * @returns {string} The updated hash string with the new or updated parameter.\n\t */\n\tprivate _addURLParam(hash: string, key: string, value: string): string {\n\t\tconst URLParams = this._getURLParams(hash);\n\t\tURLParams.set(key, value);\n\t\treturn `${hash.split(\"?\")[0]}?${URLParams.toString()}`;\n\t}\n\n\t/**\n\t * Removes a specified parameter from the URL hash string.\n\t *\n\t * @private\n\t * @param {string} hash - The original hash string.\n\t * @param {string} key - The parameter key to remove.\n\t * @returns {string} The updated hash string without the specified parameter.\n\t */\n\tprivate _removeURLParam(hash: string, key: string): string {\n\t\tconst URLParams = this._getURLParams(hash);\n\t\tURLParams.delete(key);\n\t\treturn URLParams.toString() ? `${hash.split(\"?\")[0]}?${URLParams.toString()}` : hash.split(\"?\")[0];\n\t}\n\n\t/**\n\t * Toggles the full-screen state of a given element, handling layout adjustments, visibility, and scroll position.\n\t *\n\t * @private\n\t * @param {BaseContainer | BasePanel} element - The element to toggle full-screen state for.\n\t * @param {boolean} [hashChanged=false] - Indicates if the hash has changed.\n\t */\n\tpublic toggleFullScreen(element: BaseContainer | BasePanel, hashChanged: boolean = false): void {\n\t\tconst isPanelInSideBySideLayout =\n\t\t\telement instanceof BasePanel && element.getParent()?.getProperty(\"layout\") === LayoutType.SideBySide;\n\t\tconst fullScreenName = (isPanelInSideBySideLayout ? element.getParent() : element)?.getProperty(\"fullScreenName\") as string;\n\t\tconst elementConfig = this._elementConfigs.get(fullScreenName);\n\t\tconst allowToggle = this._checkToggleRequirements(elementConfig as FullScreenElementConfig);\n\n\t\tif (elementConfig && allowToggle) {\n\t\t\tconst { targetContainer } = elementConfig;\n\t\t\tconst currentHash = this._hashChanger?.getHash() || \"\";\n\t\t\tconst panelIndex = targetContainer.indexOfAggregation(\"content\", element);\n\t\t\tconst isContainerInSideBySideLayout = targetContainer.getProperty(\"layout\") === LayoutType.SideBySide;\n\t\t\tlet expanded = this.getProperty(\"expanded\") as boolean;\n\n\t\t\tif (!hashChanged) {\n\t\t\t\t//update expanded state\n\t\t\t\tthis.setProperty(\"expanded\", !this.getProperty(\"expanded\"), true);\n\t\t\t\texpanded = this.getProperty(\"expanded\") as boolean;\n\n\t\t\t\t//place cloned element in full screen container\n\t\t\t\tthis._placeClonedElement(targetContainer, expanded, panelIndex);\n\n\t\t\t\t//perform slide transition\n\t\t\t\tdocument.getElementById(`${this.getId()}-layout-container`)?.classList.toggle(\"slide\", expanded);\n\t\t\t}\n\n\t\t\t//toggle full-screen button text for the element\n\t\t\tthis._toggleFullScreenButtonText(element, expanded);\n\n\t\t\t// store the current and previous expanded element\n\t\t\tif (expanded) {\n\t\t\t\tthis._previousExpandedElement = this._currentExpandedElement;\n\t\t\t\tthis._currentExpandedElement = elementConfig;\n\t\t\t} else {\n\t\t\t\tdelete this._currentExpandedElement;\n\t\t\t}\n\n\t\t\t//add or remove actual element at the end of slide transition\n\t\t\tsetTimeout(\n\t\t\t\t() => {\n\t\t\t\t\tif (expanded) {\n\t\t\t\t\t\t//store the current expanded element index\n\t\t\t\t\t\tthis._currentExpandedElementIndex = this.indexOfItem(targetContainer);\n\n\t\t\t\t\t\t//adjust currently expanded element if present\n\t\t\t\t\t\tconst isTargetContainerDifferent = !deepEqual(this._previousExpandedElement?.targetContainer, targetContainer);\n\t\t\t\t\t\tthis._adjustPreviousExpandedElementIfRequired(isTargetContainerDifferent);\n\n\t\t\t\t\t\tthis._modifyContainer(targetContainer, panelIndex);\n\n\t\t\t\t\t\t//adjust hash\n\t\t\t\t\t\tthis._currentExpandedElement = elementConfig;\n\t\t\t\t\t\tconst updatedHash = this._addURLParam(currentHash, \"expanded\", fullScreenName);\n\t\t\t\t\t\tthis._hashChanger?.replaceHash(updatedHash, \"Forwards\");\n\n\t\t\t\t\t\t//fire onExpand event\n\t\t\t\t\t\telement.fireEvent(\"onExpand\");\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.insertItem(targetContainer, this._currentExpandedElementIndex);\n\n\t\t\t\t\t\t//show all other panels in the container, if not in side-by-side layout\n\t\t\t\t\t\tif (!isContainerInSideBySideLayout) {\n\t\t\t\t\t\t\tthis._toggleInnerPanelVisibility(targetContainer, true);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t//adjust hash\n\t\t\t\t\t\tdelete this._currentExpandedElement;\n\t\t\t\t\t\tconst updatedHash = this._removeURLParam(currentHash, \"expanded\");\n\t\t\t\t\t\tthis._hashChanger?.replaceHash(updatedHash, \"Backwards\");\n\n\t\t\t\t\t\t//reset scroll position on collapse\n\t\t\t\t\t\tthis._resetScrollPosition(element);\n\n\t\t\t\t\t\t//fire onCollapse event\n\t\t\t\t\t\tthis.fireEvent(\"onCollapse\");\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\thashChanged ? 0 : this._slideDurationInSeconds * 1000\n\t\t\t);\n\t\t} else {\n\t\t\tLog.warning(`Element with ID: ${element?.getId()} not registered for full screen`);\n\t\t}\n\t}\n\n\t/**\n\t * Place actual element in the full screen container and hide all other panels in the container, if not in side-by-side layout\n\t *\n\t * @private\n\t * @param {BaseContainer} targetContainer - Container that is to be displayed in full-screen mode\n\t * @param {number} panelIndex - Index of the panel to remain visible if not in side-by-side layout.\n\t */\n\tprivate _modifyContainer(targetContainer: BaseContainer, panelIndex: number) {\n\t\t//adjust currently expanded element if present\n\t\tconst isContainerInSideBySideLayout = targetContainer.getProperty(\"layout\") === LayoutType.SideBySide;\n\t\tconst isTargetContainerDifferent = !deepEqual(this._previousExpandedElement?.targetContainer, targetContainer);\n\t\tif (!this._previousExpandedElement || isTargetContainerDifferent) {\n\t\t\tthis._getFullScreenContainer().removeAllContent();\n\t\t\t(this._sourceElementClone as Element).remove();\n\t\t\tthis._getFullScreenContainer().addContent(targetContainer as Control);\n\t\t}\n\n\t\t//hide all other panels in the container, if not in side-by-side layout\n\t\tif (!isContainerInSideBySideLayout) {\n\t\t\tthis._toggleInnerPanelVisibility(targetContainer, false, panelIndex);\n\t\t}\n\t}\n\n\t/**\n\t * Checks if the toggle requirements are met for the given element configuration.\n\t *\n\t * @private\n\t * @param {FullScreenElementConfig} elementConfig - The configuration of the element to check.\n\t * @returns {boolean} `true` if toggling is allowed, otherwise `false`.\n\t */\n\tprivate _checkToggleRequirements(elementConfig: FullScreenElementConfig): boolean {\n\t\tconst expanded = this.getProperty(\"expanded\") as boolean;\n\t\tlet allowToggle = true;\n\n\t\tif (expanded) {\n\t\t\t// if expanded, allow toggling only if the provided element and expanded element are the same\n\t\t\tconst currentFullScreenName = elementConfig?.fullScreenName;\n\t\t\tallowToggle = this._currentExpandedElement?.fullScreenName === currentFullScreenName;\n\t\t}\n\n\t\treturn allowToggle;\n\t}\n\n\t/**\n\t * Adjusts the current expanded element if required based on the new target container.\n\t *\n\t * @private\n\t * @param {boolean} isTargetContainerDifferent - Indicates whether the target container is different from the current expanded element's container.\n\t */\n\tprivate _adjustPreviousExpandedElementIfRequired(isTargetContainerDifferent: boolean) {\n\t\tif (this._previousExpandedElement) {\n\t\t\tconst [firstSourceElement] = this._previousExpandedElement.sourceElements;\n\n\t\t\t//update full-screen button text for the current expanded element to collapsed state\n\t\t\tthis._toggleFullScreenButtonText(firstSourceElement, false);\n\n\t\t\tif (isTargetContainerDifferent) {\n\t\t\t\t//if expanded through hash change, place the current expanded element back in the layout\n\t\t\t\tthis.insertContent(\n\t\t\t\t\tthis._previousExpandedElement.targetContainer,\n\t\t\t\t\tthis.indexOfItem(this._previousExpandedElement.targetContainer)\n\t\t\t\t);\n\n\t\t\t\t//reset scroll position on expansion throuh hash change\n\t\t\t\tthis._scrollPosition = 0;\n\n\t\t\t\t//show all other panels in the container, if not in side-by-side layout\n\t\t\t\tif (this._previousExpandedElement.targetContainer.getProperty(\"layout\") !== LayoutType.SideBySide) {\n\t\t\t\t\tthis._toggleInnerPanelVisibility(this._previousExpandedElement.targetContainer, true);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Resets the scroll position to that of the collapsed element in the original container.\n\t *\n\t * @private\n\t * @param {BaseContainer | BasePanel} element - The element for which to reset the scroll position.\n\t */\n\tprivate _resetScrollPosition(element: BaseContainer | BasePanel) {\n\t\t//reset scroll position\n\t\tsetTimeout(() => {\n\t\t\tUI5Element.getElementById(`${element.getAssociation(\"fullScreenButton\", null) as string}-btn`)?.focus();\n\t\t\tconst sectionRef = this._getSectionRef(this);\n\t\t\tif (sectionRef !== undefined) {\n\t\t\t\tsectionRef.scrollTop = this._scrollPosition;\n\t\t\t}\n\t\t});\n\t}\n\n\t/**\n\t * Toggles visibility of inner panels, except one specified by index.\n\t * Applicable only for panels not in SideSide layout.\n\t *\n\t * @private\n\t * @param {BaseContainer} element - Container with inner panels.\n\t * @param {boolean} visibility - Desired visibility state for panels.\n\t * @param {number} [indexOfVisiblePanel] - Index of panel to exclude from toggle.\n\t */\n\tprivate _toggleInnerPanelVisibility(element: BaseContainer, visibility: boolean, indexOfVisiblePanel?: number): void {\n\t\t(element._getInnerControl() as FlexBox).getItems().forEach((panel, index) => {\n\t\t\tpanel.toggleStyleClass(\"sapCuxHidden\", index === indexOfVisiblePanel ? visibility : !visibility);\n\t\t});\n\t}\n\n\t/**\n\t * Updates the full-screen button text for a control (or all controls in a side-by-side layout) based on expanded state.\n\t *\n\t * @private\n\t * @param {BaseContainer | BasePanel} control - The control to update or the parent of controls to update.\n\t * @param {boolean} expanded - Indicates if the text should reflect an expanded or collapsed state.\n\t */\n\tprivate _toggleFullScreenButtonText(control: BaseContainer | BasePanel, expanded: boolean): void {\n\t\tconst isPanel = control.isA(\"sap.cux.home.BasePanel\");\n\t\tconst parentContainer = (isPanel ? control.getParent() : control) as BaseContainer;\n\t\tconst isPanelInSideBySideLayout = isPanel && parentContainer.getProperty(\"layout\") === LayoutType.SideBySide;\n\n\t\t//update full-screen button text\n\t\tconst updateText = (control: BaseContainer | BasePanel) => {\n\t\t\tconst fullScreenButton = this._getFullScreenButton(control);\n\t\t\tfullScreenButton.setProperty(\"text\", this._i18nBundle.getText(expanded ? \"collapse\" : \"expand\"), true);\n\t\t\tconst fullScreenMenuItem = this._getFullScreenMenuItem(control);\n\t\t\tfullScreenMenuItem.setProperty(\"title\", this._i18nBundle.getText(expanded ? \"collapse\" : \"expand\"), true);\n\t\t};\n\n\t\tif (isPanelInSideBySideLayout) {\n\t\t\tparentContainer.getContent()?.forEach(updateText);\n\t\t} else {\n\t\t\tupdateText(control);\n\t\t}\n\n\t\t//update container header elements\n\t\tparentContainer._updateContainerHeader(isPanelInSideBySideLayout ? parentContainer : control);\n\t}\n\n\t/**\n\t * Retrieves the full-screen button associated with a control.\n\t *\n\t * @private\n\t * @param {BaseContainer | BasePanel} control - The control to find the full-screen button for.\n\t * @returns {Button} The full-screen button associated with the control.\n\t */\n\tprivate _getFullScreenButton(control: BaseContainer | BasePanel): Button {\n\t\treturn UI5Element.getElementById(control.getAssociation(\"fullScreenButton\", null) as string) as Button;\n\t}\n\n\t/**\n\t * Retrieves the Full screen menu item associated with a control.\n\t *\n\t * @private\n\t * @param {BaseContainer | BasePanel} control - The control to find the full-screen button for.\n\t * @returns {MenuItem} The \"Show More\" menu item associated with the control.\n\t */\n\tprivate _getFullScreenMenuItem(control: BaseContainer | BasePanel): MenuItem {\n\t\treturn UI5Element.getElementById(control.getAssociation(\"fullScreenMenuItem\", null) as string) as MenuItem;\n\t}\n\n\t/**\n\t * Retrieves the full-screen container from the current aggregation.\n\t *\n\t * @private\n\t * @returns {Page} The Page instance used as the full-screen container.\n\t */\n\tpublic _getFullScreenContainer(): Page {\n\t\treturn this.getAggregation(\"fullScreenContainer\") as Page;\n\t}\n\n\t/**\n\t * Gets the first child node of a control's DOM reference.\n\t *\n\t * @private\n\t * @param {Control} element - The control to get the child node for.\n\t * @returns {Node | Element} The first child node of the control's DOM reference.\n\t */\n\tprivate _getSectionRef<T extends Node | Element = Element>(element: Control): T | undefined {\n\t\treturn element.getDomRef()?.childNodes[0] as T;\n\t}\n\n\t/**\n\t * Clones and places an element into a target container for full-screen transitions.\n\t *\n\t * @private\n\t * @param {BaseContainer} targetElement - Element to clone or containing the element to clone.\n\t * @param {boolean} expanded - True to expand (clone and place), false to collapse (restore from snapshot).\n\t * @param {number} panelIndex - Index of the panel to clone if not in side-by-side layout.\n\t */\n\tprivate _placeClonedElement(targetElement: BaseContainer, expanded: boolean, panelIndex: number) {\n\t\t//store scroll position and DOM snapshot\n\t\tthis._scrollPosition = (expanded ? this._getSectionRef(this)?.scrollTop : this._scrollPosition) as number;\n\t\tthis._domSnapshot = (expanded ? this._getSectionRef<Node>(this)?.cloneNode(true) : this._domSnapshot) as Node;\n\n\t\tconst isSideBySideLayout = targetElement.getProperty(\"layout\") === LayoutType.SideBySide;\n\t\tconst sourceElement = isSideBySideLayout ? targetElement : (targetElement._getInnerControl() as FlexBox).getItems()[panelIndex];\n\t\tthis._sourceElementClone = expanded ? (sourceElement.getDomRef()?.cloneNode(true) as Node) : this._sourceElementClone;\n\t\tconst targetDomRef = expanded ? this._getSectionRef(this._getFullScreenContainer()) : this.getDomRef();\n\t\tif (targetDomRef) {\n\t\t\tsetTimeout(() => {\n\t\t\t\ttargetDomRef.innerHTML = \"\";\n\t\t\t\ttargetDomRef.append(expanded ? this._sourceElementClone : this._domSnapshot);\n\t\t\t});\n\t\t}\n\t}\n\n\t/**\n\t * Retrieves the name of the currently expanded element, if any.\n\t *\n\t * @private\n\t * @returns {string | undefined} - The full screen name of the currently expanded element, if any.\n\t */\n\tpublic _getCurrentExpandedElementName(): string | undefined {\n\t\treturn this._getCurrentExpandedElement()?.fullScreenName;\n\t}\n\n\t/**\n\t * Retrieves the currently expanded element config, if any\n\t *\n\t * @private\n\t * @returns {FullScreenElementConfig | undefined} - The full screen name of the currently expanded element, if any.\n\t */\n\tpublic _getCurrentExpandedElement(): FullScreenElementConfig | undefined {\n\t\tconst isExpandInHash = this._getURLParams(this._hashChanger?.getHash() || \"\").has(\"expanded\");\n\t\tif (isExpandInHash) {\n\t\t\treturn this._currentExpandedElement;\n\t\t}\n\t}\n}\n"],"mappings":"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","ignoreList":[],"sourceRoot":""}},{"offset":{"line":66,"column":0},"map":{"version":3,"file":"BaseLayoutRenderer.js","names":["sap","ui","define","PageRenderer","__exports","apiVersion","render","rm","control","containerId","getId","isContainerRenderedOnce","document","getElementById","openStart","openEnd","renderControl","getAggregation","close"],"sources":["BaseLayoutRenderer.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\n\nimport Page from \"sap/m/Page\";\nimport PageRenderer from \"sap/m/PageRenderer\";\nimport RenderManager from \"sap/ui/core/RenderManager\";\nimport BaseLayout from \"./BaseLayout\";\n\nexport default {\n\tapiVersion: 2,\n\n\t/**\n\t * Renders the control.\n\t *\n\t * @public\n\t * @override\n\t * @param {RenderManager} rm - The RenderManager object.\n\t * @param {BaseLayout} control - The BaseLayout control to be rendered.\n\t */\n\trender: function (rm: RenderManager, control: BaseLayout) {\n\t\t/*\n\t\t * Existing controls like NavContainer will not allow for control\n\t\t * over the duration of the transition. To overcome this limitation,\n\t\t * we render a simple div container and manage the transition from\n\t\t * one page to another using CSS.\n\t\t */\n\t\tconst containerId = `${control.getId()}-layout-container`;\n\t\tconst isContainerRenderedOnce = document.getElementById(containerId);\n\n\t\tif (!isContainerRenderedOnce) {\n\t\t\trm.openStart(\"div\", containerId).openEnd();\n\t\t}\n\n\t\t//render main container\n\t\tPageRenderer.render(rm, control);\n\n\t\t//render full-screen container\n\t\trm.renderControl(control.getAggregation(\"fullScreenContainer\") as Page);\n\n\t\tif (!isContainerRenderedOnce) {\n\t\t\trm.close(\"div\");\n\t\t}\n\t}\n};\n"],"mappings":"AAAA;;;;AAAA,aAAAA,IAAAC,GAAAC,OAAA,gCAAAC,GAAA,iBAAAC,EAUe,CACdC,WAAY,EAUZC,OAAQ,SAAUC,EAAmBC,GAOpC,MAAMC,EAAc,GAAGD,EAAQE,2BAC/B,MAAMC,EAA0BC,SAASC,eAAeJ,GAExD,IAAKE,EAAyB,CAC7BJ,EAAGO,UAAU,MAAOL,GAAaM,SAClC,CAGAZ,EAAaG,OAAOC,EAAIC,GAGxBD,EAAGS,cAAcR,EAAQS,eAAe,wBAExC,IAAKN,EAAyB,CAC7BJ,EAAGW,MAAM,MACV,CACD,GACA,OAAAd,CAAA","ignoreList":[],"sourceRoot":""}},{"offset":{"line":73,"column":0},"map":{"version":3,"file":"BaseNewsItem.js","names":["sap","ui","define","GenericTile","NewsContent","TileContent","Element","Lib","BaseNewsItem","extend","metadata","library","properties","imageUrl","type","group","title","subTitle","footer","constructor","_constructor","id","settings","Element.prototype.constructor.call","this","init","_init","Element.prototype.init.call","_i18nBundle","getResourceBundleFor","_oTile","createTile","setImageUrl","_setImageUrl","sUrl","setBackgroundImage","setProperty","setSubTitle","_setSubTitle","sText","getTileContent","getContent","setSubheader","setTitle","_setTitle","setContentText","setFooter","_setFooter","getTile","_getTile","_createTile","mode","frameType","backgroundImage","getImageUrl","tileContent","getFooter","content","contentText","getTitle","subheader","getSubTitle"],"sources":["BaseNewsItem.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\n\nimport ResourceBundle from \"sap/base/i18n/ResourceBundle\";\nimport GenericTile from \"sap/m/GenericTile\";\nimport NewsContent from \"sap/m/NewsContent\";\nimport TileContent from \"sap/m/TileContent\";\nimport { FrameType } from \"sap/m/library\";\nimport type { MetadataOptions } from \"sap/ui/core/Element\";\nimport Element from \"sap/ui/core/Element\";\nimport Lib from \"sap/ui/core/Lib\";\nimport { $BaseNewsItemSettings } from \"./BaseNewsItem\";\n\nexport interface INews {\n\turl?: string;\n\ttitle: string;\n\tdescription: string;\n\tpubDate: string;\n\timageUrl: string;\n\texpandFields?: string;\n}\n\n/**\n *\n * Base class for managing and storing News items.\n *\n * @extends sap.ui.core.Element\n *\n * @author SAP SE\n * @version 0.0.1\n * @since 1.121\n *\n * @internal\n * @experimental Since 1.121\n * @private\n *\n * @alias sap.cux.home.BaseNewsItem\n */\nexport default abstract class BaseNewsItem extends Element {\n\tconstructor(idOrSettings?: string | $BaseNewsItemSettings);\n\tconstructor(id?: string, settings?: $BaseNewsItemSettings);\n\tconstructor(id?: string, settings?: $BaseNewsItemSettings) {\n\t\tsuper(id, settings);\n\t}\n\tprotected _oTile!: GenericTile;\n\tprotected _i18nBundle!: ResourceBundle;\n\n\tstatic readonly metadata: MetadataOptions = {\n\t\tlibrary: \"sap.cux.home\",\n\t\tproperties: {\n\t\t\t/**\n\t\t\t * The image URL of the news.\n\t\t\t */\n\t\t\timageUrl: { type: \"string\", group: \"Misc\" },\n\t\t\t/**\n\t\t\t * Title of the news\n\t\t\t */\n\t\t\ttitle: { type: \"string\", group: \"Misc\" },\n\t\t\t/**\n\t\t\t * Subtitle of the app\n\t\t\t */\n\t\t\tsubTitle: { type: \"string\", group: \"Misc\" },\n\t\t\t/**\n\t\t\t * Footer of the app\n\t\t\t */\n\t\t\tfooter: { type: \"string\", group: \"Misc\" }\n\t\t}\n\t};\n\n\t/**\n\t * Init lifecycle method\n\t *\n\t * @private\n\t * @override\n\t */\n\tpublic init(): void {\n\t\tsuper.init();\n\t\tthis._i18nBundle = Lib.getResourceBundleFor(\"sap.cux.home.i18n\") as ResourceBundle;\n\t\tif (!this._oTile) {\n\t\t\tthis.createTile();\n\t\t}\n\t}\n\n\t/**\n\t * Sets the image URL for the news item.\n\t * @param {string} sUrl - The URL of the image.\n\t */\n\tpublic setImageUrl(sUrl: string): BaseNewsItem {\n\t\tconst imageUrl = sUrl;\n\t\tthis._oTile.setBackgroundImage(imageUrl);\n\t\treturn this.setProperty(\"imageUrl\", imageUrl, true);\n\t}\n\n\t/**\n\t * Sets the subTitle of the news item.\n\t * @param {string} sText - The subTitle of the news item.\n\t */\n\tpublic setSubTitle(sText: string): BaseNewsItem {\n\t\t(this._oTile.getTileContent()[0].getContent() as NewsContent).setSubheader(sText);\n\t\treturn this.setProperty(\"subTitle\", sText, true);\n\t}\n\n\t/**\n\t * Sets the title of the news item.\n\t * @param {string} sText - The Title of the news item.\n\t */\n\tpublic setTitle(sText: string): BaseNewsItem {\n\t\t(this._oTile.getTileContent()[0].getContent() as NewsContent).setContentText(sText);\n\t\treturn this.setProperty(\"title\", sText, true);\n\t}\n\n\t/**\n\t * Sets the footer of the news item.\n\t * @param {string} sText - The footer of the news item.\n\t */\n\tpublic setFooter(sText: string): BaseNewsItem {\n\t\tthis._oTile.getTileContent()[0].setFooter(sText);\n\t\treturn this.setProperty(\"footer\", sText, true);\n\t}\n\n\t/**\n\t * Retrieves the tile control associated with the news item.\n\t * If the tile control does not exist, it is created.\n\t * @returns {sap.m.Tile} The tile control.\n\t */\n\tpublic getTile(): GenericTile {\n\t\tif (!this._oTile) {\n\t\t\tthis.createTile();\n\t\t}\n\t\treturn this._oTile;\n\t}\n\n\t/**\n\t * Creates the tile control associated with the news item.\n\t * @private\n\t */\n\tpublic createTile(): void {\n\t\tthis._oTile = new GenericTile({\n\t\t\tmode: \"ArticleMode\",\n\t\t\tframeType: \"Stretch\" as FrameType,\n\t\t\tbackgroundImage: this.getImageUrl(),\n\t\t\ttileContent: [\n\t\t\t\tnew TileContent(\"\", {\n\t\t\t\t\tfooter: this.getFooter(),\n\t\t\t\t\tcontent: new NewsContent(\"\", {\n\t\t\t\t\t\tcontentText: this.getTitle(),\n\t\t\t\t\t\tsubheader: this.getSubTitle()\n\t\t\t\t\t})\n\t\t\t\t})\n\t\t\t]\n\t\t});\n\t}\n}\n"],"mappings":"AAAA;;;;AAAA,aAAAA,IAAAC,GAAAC,OAAA,+GAAAC,EAAAC,EAAAC,EAAAC,EAAAC,GAAA,aAwBA,MAgB8BC,EAAqBF,EAAOG,OAAA,6BASzCC,SAA4B,CAC3CC,QAAS,eACTC,WAAY,CAIXC,SAAU,CAAEC,KAAM,SAAUC,MAAO,QAInCC,MAAO,CAAEF,KAAM,SAAUC,MAAO,QAIhCE,SAAU,CAAEH,KAAM,SAAUC,MAAO,QAInCG,OAAQ,CAAEJ,KAAM,SAAUC,MAAO,UAxBnCI,YAAW,SAAAC,EAACC,EAAaC,GACxBC,6BAAAC,KAAMH,EAAIC,EACX,EAgCOG,KAAI,SAAAC,IACVC,sBAAAH,MACAA,KAAKI,YAAcrB,EAAIsB,qBAAqB,qBAC5C,IAAKL,KAAKM,OAAQ,CACjBN,KAAKO,YACN,CACD,EAMOC,YAAW,SAAAC,EAACC,GAClB,MAAMrB,EAAWqB,EACjBV,KAAKM,OAAOK,mBAAmBtB,GAC/B,OAAOW,KAAKY,YAAY,WAAYvB,EAAU,KAC/C,EAMOwB,YAAW,SAAAC,EAACC,GACjBf,KAAKM,OAAOU,iBAAiB,GAAGC,aAA6BC,aAAaH,GAC3E,OAAOf,KAAKY,YAAY,WAAYG,EAAO,KAC5C,EAMOI,SAAQ,SAAAC,EAACL,GACdf,KAAKM,OAAOU,iBAAiB,GAAGC,aAA6BI,eAAeN,GAC7E,OAAOf,KAAKY,YAAY,QAASG,EAAO,KACzC,EAMOO,UAAS,SAAAC,EAACR,GAChBf,KAAKM,OAAOU,iBAAiB,GAAGM,UAAUP,GAC1C,OAAOf,KAAKY,YAAY,SAAUG,EAAO,KAC1C,EAOOS,QAAO,SAAAC,IACb,IAAKzB,KAAKM,OAAQ,CACjBN,KAAKO,YACN,CACA,OAAOP,KAAKM,MACb,EAMOC,WAAU,SAAAmB,IAChB1B,KAAKM,OAAS,IAAI3B,EAAY,CAC7BgD,KAAM,cACNC,UAAW,UACXC,gBAAiB7B,KAAK8B,cACtBC,YAAa,CACZ,IAAIlD,EAAY,GAAI,CACnBa,OAAQM,KAAKgC,YACbC,QAAS,IAAIrD,EAAY,GAAI,CAC5BsD,YAAalC,KAAKmC,WAClBC,UAAWpC,KAAKqC,oBAKrB,IAAC,OAjH4BrD,CAAY","ignoreList":[],"sourceRoot":""}},{"offset":{"line":80,"column":0},"map":{"version":3,"file":"BaseNewsPanel.js","names":["sap","ui","define","Button","FlexItemData","IllustratedMessage","VBox","VerticalLayout","__BasePanel","___utils_Constants","_interopRequireDefault","obj","__esModule","default","BasePanel","SETTINGS_PANELS_KEYS","BaseNewsPanel","extend","metadata","library","aggregations","newsItems","type","singularName","multiple","constructor","_constructor","id","settings","BasePanel.prototype.constructor.call","this","init","_init","BasePanel.prototype.init.call","newsVerticalLayout","getId","content","generateErrorMessage","layoutData","order","growFactor","maxWidth","_addContent","getNewsWrapper","_getNewsWrapper","_generateErrorMessage","errorCard","oErrorMessage","illustrationSize","illustrationType","title","_i18nBundle","getText","description","additionalContent","text","tooltip","press","handleEditNews","bind","wrap","backgroundDesign","items","visible","_handleEditNews","parentContainer","getParent","_getLayout","openSettingsDialog","NEWS"],"sources":["BaseNewsPanel.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\n\nimport Button from \"sap/m/Button\";\nimport FlexItemData from \"sap/m/FlexItemData\";\nimport IllustratedMessage from \"sap/m/IllustratedMessage\";\nimport VBox from \"sap/m/VBox\";\nimport type { MetadataOptions } from \"sap/ui/core/Element\";\nimport VerticalLayout from \"sap/ui/layout/VerticalLayout\";\nimport { $BaseNewsPanelSettings } from \"./BaseNewsPanel\";\nimport BasePanel from \"./BasePanel\";\nimport NewsAndPagesContainer from \"./NewsAndPagesContainer\";\nimport { SETTINGS_PANELS_KEYS } from \"./utils/Constants\";\n\n/**\n *\n * Base Panel class for managing and storing News.\n *\n * @extends sap.cux.home.BasePanel\n *\n * @author SAP SE\n * @version 0.0.1\n * @since 1.121\n *\n * @abstract\n * @internal\n * @experimental Since 1.121\n * @private\n *\n * @alias sap.cux.home.BaseNewsPanel\n */\nexport default abstract class BaseNewsPanel extends BasePanel {\n\tconstructor(idOrSettings?: string | $BaseNewsPanelSettings);\n\tconstructor(id?: string, settings?: $BaseNewsPanelSettings);\n\tconstructor(id?: string, settings?: $BaseNewsPanelSettings) {\n\t\tsuper(id, settings);\n\t}\n\n\tprivate errorCard!: VBox;\n\tprivate newsVerticalLayout!: VerticalLayout;\n\n\tstatic readonly metadata: MetadataOptions = {\n\t\tlibrary: \"sap.cux.home\",\n\t\taggregations: {\n\t\t\t/**\n\t\t\t * Holds the news aggregation\n\t\t\t */\n\t\t\tnewsItems: { type: \"sap.cux.home.BaseNewsItem\", singularName: \"newsItem\", multiple: true }\n\t\t}\n\t};\n\n\t/**\n\t * Init lifecycle method\n\t *\n\t * @private\n\t * @override\n\t */\n\tpublic init(): void {\n\t\tsuper.init();\n\n\t\tthis.newsVerticalLayout = new VerticalLayout(`${this.getId()}-newsContent`, {\n\t\t\tcontent: [this.generateErrorMessage()],\n\t\t\tlayoutData: new FlexItemData({\n\t\t\t\tid: `${this.getId()}-flexItemdata`,\n\t\t\t\torder: 0,\n\t\t\t\tgrowFactor: 1,\n\t\t\t\tmaxWidth: \"39.75rem\"\n\t\t\t})\n\t\t});\n\t\tthis._addContent(this.newsVerticalLayout);\n\t}\n\n\t/**\n\t * Generates app wrapper for displaying apps.\n\t * @private\n\t * @returns The generated apps wrapper.\n\t */\n\tprotected getNewsWrapper(): VerticalLayout {\n\t\treturn this.newsVerticalLayout;\n\t}\n\n\t/**\n\t * Generates the error message wrapper with illustrated message.\n\t * @private\n\t * @returns Wrapper with illustrated message.\n\t */\n\tprotected generateErrorMessage(): VBox {\n\t\tif (!this.errorCard) {\n\t\t\tconst oErrorMessage = new IllustratedMessage(`${this.getId()}-errorMessage`, {\n\t\t\t\tillustrationSize: \"Spot\",\n\t\t\t\tillustrationType: \"sapIllus-SleepingBell\",\n\t\t\t\ttitle: this._i18nBundle.getText(\"noNewsTitle\"),\n\t\t\t\tdescription: this._i18nBundle.getText(\"noNewsDescription\"),\n\t\t\t\tadditionalContent: [\n\t\t\t\t\tnew Button(`${this.getId()}-idManageNewsBtn`, {\n\t\t\t\t\t\ttext: this._i18nBundle.getText(\"editLinkNews\"),\n\t\t\t\t\t\ttooltip: this._i18nBundle.getText(\"editLinkNews\"),\n\t\t\t\t\t\ttype: \"Emphasized\",\n\t\t\t\t\t\tpress: this.handleEditNews.bind(this)\n\t\t\t\t\t})\n\t\t\t\t]\n\t\t\t});\n\t\t\tthis.errorCard = new VBox(`${this.getId()}-errorCard`, {\n\t\t\t\twrap: \"Wrap\",\n\t\t\t\tbackgroundDesign: \"Solid\",\n\t\t\t\titems: [oErrorMessage],\n\t\t\t\tvisible: false\n\t\t\t});\n\t\t}\n\t\treturn this.errorCard;\n\t}\n\n\t/**\n\t * Handles the edit news event.\n\t * Opens the news dialog for managing news data.\n\t * @private\n\t */\n\tprotected handleEditNews() {\n\t\tconst parentContainer = this.getParent() as NewsAndPagesContainer;\n\t\tparentContainer?._getLayout().openSettingsDialog(SETTINGS_PANELS_KEYS.NEWS);\n\t}\n}\n"],"mappings":"AAAA;;;;AAAA,aAAAA,IAAAC,GAAAC,OAAA,wJAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,GAAA,sBAAAC,EAAAC,GAAA,OAAAA,KAAAC,mBAAAD,EAAAE,UAAA,YAAAF,EAAAE,QAAAF,CAAA,OAYOG,EAASJ,EAAAF,GAAA,MAEPO,EAAoBN,EAAA,wBAE7B,MAiB8BO,EAAsBF,EAASG,OAAA,8BAU5CC,SAA4B,CAC3CC,QAAS,eACTC,aAAc,CAIbC,UAAW,CAAEC,KAAM,4BAA6BC,aAAc,WAAYC,SAAU,QAbtFC,YAAW,SAAAC,EAACC,EAAaC,GACxBC,6BAAAC,KAAMH,EAAIC,EACX,EAqBOG,KAAI,SAAAC,IACVC,sBAAAH,MAEAA,KAAKI,mBAAqB,IAAI3B,EAAe,GAAGuB,KAAKK,sBAAuB,CAC3EC,QAAS,CAACN,KAAKO,wBACfC,WAAY,IAAIlC,EAAa,CAC5BuB,GAAI,GAAGG,KAAKK,uBACZI,MAAO,EACPC,WAAY,EACZC,SAAU,eAGZX,KAAKY,YAAYZ,KAAKI,mBACvB,EAOUS,eAAc,SAAAC,IACvB,OAAOd,KAAKI,kBACb,EAOUG,qBAAoB,SAAAQ,IAC7B,IAAKf,KAAKgB,UAAW,CACpB,MAAMC,EAAgB,IAAI1C,EAAmB,GAAGyB,KAAKK,uBAAwB,CAC5Ea,iBAAkB,OAClBC,iBAAkB,wBAClBC,MAAOpB,KAAKqB,YAAYC,QAAQ,eAChCC,YAAavB,KAAKqB,YAAYC,QAAQ,qBACtCE,kBAAmB,CAClB,IAAInD,EAAO,GAAG2B,KAAKK,0BAA2B,CAC7CoB,KAAMzB,KAAKqB,YAAYC,QAAQ,gBAC/BI,QAAS1B,KAAKqB,YAAYC,QAAQ,gBAClC9B,KAAM,aACNmC,MAAO3B,KAAK4B,eAAeC,KAAK7B,WAInCA,KAAKgB,UAAY,IAAIxC,EAAK,GAAGwB,KAAKK,oBAAqB,CACtDyB,KAAM,OACNC,iBAAkB,QAClBC,MAAO,CAACf,GACRgB,QAAS,OAEX,CACA,OAAOjC,KAAKgB,SACb,EAOUY,eAAc,SAAAM,IACvB,MAAMC,EAAkBnC,KAAKoC,YAC7BD,GAAiBE,aAAaC,mBAAmBrD,EAAqBsD,KACvE,IAAC,OAzF4BrD,CAAa","ignoreList":[],"sourceRoot":""}},{"offset":{"line":87,"column":0},"map":{"version":3,"file":"BasePagePanel.js","names":["sap","ui","define","__BasePanel","_interopRequireDefault","obj","__esModule","default","BasePanel","BasePagePanel","extend","metadata","library","properties","title","type","group","key","aggregations","pages","singularName","multiple","constructor","_constructor","id","settings","BasePanel.prototype.constructor.call","this"],"sources":["BasePagePanel.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\nimport type { MetadataOptions } from \"sap/ui/core/Element\";\nimport { $BasePagePanelSettings } from \"./BasePagePanel\";\nimport BasePanel from \"./BasePanel\";\n\n/**\n *\n * Base Panel class for managing and storing Pages.\n *\n * @extends sap.ui.core.BasePanel\n *\n * @author SAP SE\n * @version 0.0.1\n * @since 1.121\n *\n * @abstract\n * @internal\n * @experimental Since 1.121\n * @private\n *\n * @alias sap.cux.home.BasePagePanel\n */\nexport default abstract class BasePagePanel extends BasePanel {\n\tconstructor(idOrSettings?: string | $BasePagePanelSettings);\n\tconstructor(id?: string, settings?: $BasePagePanelSettings);\n\tconstructor(id?: string, settings?: $BasePagePanelSettings) {\n\t\tsuper(id, settings);\n\t}\n\n\tstatic readonly metadata: MetadataOptions = {\n\t\tlibrary: \"sap.cux.home\",\n\t\tproperties: {\n\t\t\ttitle: { type: \"string\", group: \"Misc\" },\n\t\t\tkey: { type: \"string\", group: \"Misc\" }\n\t\t},\n\t\taggregations: {\n\t\t\tpages: { type: \"sap.cux.home.Page\", singularName: \"page\", multiple: true }\n\t\t}\n\t};\n}\n"],"mappings":"AAAA;;;;AAAA,aAAAA,IAAAC,GAAAC,OAAA,yBAAAC,GAAA,sBAAAC,EAAAC,GAAA,OAAAA,KAAAC,mBAAAD,EAAAE,UAAA,YAAAF,EAAAE,QAAAF,CAAA,OAMOG,EAASJ,EAAAD,GAEhB,MAiB8BM,EAAsBD,EAASE,OAAA,8BAO5CC,SAA4B,CAC3CC,QAAS,eACTC,WAAY,CACXC,MAAO,CAAEC,KAAM,SAAUC,MAAO,QAChCC,IAAK,CAAEF,KAAM,SAAUC,MAAO,SAE/BE,aAAc,CACbC,MAAO,CAAEJ,KAAM,oBAAqBK,aAAc,OAAQC,SAAU,QAXtEC,YAAW,SAAAC,EAACC,EAAaC,GACxBC,6BAAAC,KAAMH,EAAIC,EACX,IAAC,OAL4BhB,CAAa","ignoreList":[],"sourceRoot":""}},{"offset":{"line":94,"column":0},"map":{"version":3,"file":"BasePanel.js","names":["sap","ui","define","Element","Lib","___utils_Device","calculateDeviceType","BasePanel","extend","metadata","library","properties","title","type","group","defaultValue","key","tooltip","visibility","enableSettings","enableKeyUserSettings","enableFullScreen","fullScreenName","defaultAggregation","aggregations","content","multiple","singularName","actionButtons","menuItems","events","onExpand","associations","fullScreenButton","constructor","_constructor","id","settings","Element.prototype.constructor.call","this","init","_init","_content","_i18nBundle","getResourceBundleFor","_getContent","getAggregation","_addContent","control","push","insertAggregation","getParent","_addToPanel","_setCount","count","_setPanelCount","getDeviceType","_getDeviceType","container"],"sources":["BasePanel.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\n\nimport ResourceBundle from \"sap/base/i18n/ResourceBundle\";\nimport Control from \"sap/ui/core/Control\";\nimport type { MetadataOptions } from \"sap/ui/core/Element\";\nimport Element from \"sap/ui/core/Element\";\nimport Lib from \"sap/ui/core/Lib\";\nimport BaseContainer from \"./BaseContainer\";\nimport { $BasePanelSettings } from \"./BasePanel\";\nimport { DeviceType, calculateDeviceType } from \"./utils/Device\";\n\n/**\n *\n * Abstract base panel class for My Home layout control panel.\n *\n * @extends sap.ui.core.Element\n *\n * @author SAP SE\n * @version 0.0.1\n * @since 1.121\n *\n * @abstract\n * @internal\n * @experimental Since 1.121\n * @private\n *\n * @alias sap.cux.home.BasePanel\n */\nexport default abstract class BasePanel extends Element {\n\tprotected _i18nBundle!: ResourceBundle;\n\tprivate _content!: Control[];\n\n\tconstructor(id?: string | $BasePanelSettings);\n\tconstructor(id?: string, settings?: $BasePanelSettings);\n\tconstructor(id?: string, settings?: $BasePanelSettings) {\n\t\tsuper(id, settings);\n\t}\n\n\tstatic readonly metadata: MetadataOptions = {\n\t\tlibrary: \"sap.cux.home\",\n\t\tproperties: {\n\t\t\t/**\n\t\t\t * Title for the panel.\n\t\t\t */\n\t\t\ttitle: { type: \"string\", group: \"Misc\", defaultValue: \"\" },\n\t\t\t/**\n\t\t\t * Key for the panel.\n\t\t\t */\n\t\t\tkey: { type: \"string\", group: \"Misc\", defaultValue: \"\" },\n\t\t\t/**\n\t\t\t * Tooltip for the panel.\n\t\t\t */\n\t\t\ttooltip: { type: \"string\", group: \"Misc\", defaultValue: \"\", visibility: \"hidden\" },\n\t\t\t/**\n\t\t\t * Specifies whether settings should be enabled for the panel.\n\t\t\t */\n\t\t\tenableSettings: { type: \"boolean\", group: \"Misc\", visibility: \"hidden\" },\n\t\t\t/**\n\t\t\t * Specifies whether key user settings should be enabled for the panel.\n\t\t\t */\n\t\t\tenableKeyUserSettings: { type: \"boolean\", group: \"Misc\", visibility: \"hidden\", defaultValue: true },\n\t\t\t/**\n\t\t\t * Indicates whether full screen is enabled for this control.\n\t\t\t */\n\t\t\tenableFullScreen: { type: \"boolean\", group: \"Misc\", visibility: \"hidden\" },\n\t\t\t/**\n\t\t\t * The name of the URL parameter used to expand the container into full-screen mode.\n\t\t\t * This property specifies the parameter key expected in the URL query string\n\t\t\t * to identify the container to be expanded.\n\t\t\t */\n\t\t\tfullScreenName: { type: \"string\", group: \"Misc\", visibility: \"hidden\" }\n\t\t},\n\t\tdefaultAggregation: \"content\",\n\t\taggregations: {\n\t\t\t/**\n\t\t\t * Specifies the content aggregation of the panel.\n\t\t\t */\n\t\t\tcontent: { multiple: true, singularName: \"content\", visibility: \"hidden\" },\n\t\t\t/**\n\t\t\t * Specifies the actions to be shown within the panel.\n\t\t\t */\n\t\t\tactionButtons: { type: \"sap.m.Button\", multiple: true, singularName: \"actionButton\" },\n\t\t\t/**\n\t\t\t * Specifies the items that are shown within the dropdown menu of the panel.\n\t\t\t */\n\t\t\tmenuItems: { type: \"sap.cux.home.MenuItem\", multiple: true, singularName: \"menuItem\" }\n\t\t},\n\t\tevents: {\n\t\t\t/**\n\t\t\t * Event is fired before the container is expanded.\n\t\t\t */\n\t\t\tonExpand: {}\n\t\t},\n\t\tassociations: {\n\t\t\tfullScreenButton: { type: \"sap.m.Button\", multiple: false, singularName: \"fullScreenButton\", visibility: \"hidden\" }\n\t\t}\n\t};\n\n\t/**\n\t * Init lifecycle method\n\t *\n\t * @private\n\t * @override\n\t */\n\tpublic init(): void {\n\t\tthis._content = [];\n\t\tthis._i18nBundle = Lib.getResourceBundleFor(\"sap.cux.home.i18n\") as ResourceBundle;\n\t}\n\n\t/**\n\t * Cache and return panel content since the content would\n\t * have a different inner control as parent after rendering\n\t *\n\t * @private\n\t * @returns {Control[]} - array of panel content\n\t */\n\tpublic _getContent(): Control[] {\n\t\tthis._content = this._content || this.getAggregation(\"content\");\n\t\treturn this._content;\n\t}\n\n\t/**\n\t * Overridden method for adding content to a panel so that\n\t * it's added to the corresponding layout-specific inner\n\t * control as well\n\t *\n\t * @private\n\t * @param {Control} control - control to be added to the content\n\t */\n\tpublic _addContent(control: Control): void {\n\t\tthis._content = this._content || this.getAggregation(\"content\");\n\t\tthis._content.push(control);\n\t\tthis.insertAggregation(\"content\", control, 0);\n\n\t\t//Insert into parent's layout control\n\t\t(this.getParent() as BaseContainer)?._addToPanel(this, control);\n\t}\n\n\t/**\n\t * Updates the count information of IconTabFilter of IconTabBar inner control\n\t * in case of SideBySide layout\n\t *\n\t * @private\n\t * @param {string} count - updated count information\n\t */\n\tpublic _setCount(count?: string): void {\n\t\t(this.getParent() as BaseContainer)?._setPanelCount(this, count);\n\t}\n\n\t/**\n\t * Retrieves the device type for the current panel.\n\t *\n\t * @private\n\t * @returns {DeviceType} - The device type of the parent container if it exists,\n\t * otherwise calculates and returns the device type based on the current device width.\n\t */\n\tprotected getDeviceType(): DeviceType {\n\t\tconst container = this.getParent() as BaseContainer;\n\t\treturn container ? container.getDeviceType() : calculateDeviceType();\n\t}\n}\n"],"mappings":"AAAA;;;;AAAA,aAAAA,IAAAC,GAAAC,OAAA,oEAAAC,EAAAC,EAAAC,GAAA,mBAYqBC,EAAmBD,EAAA,uBAExC,MAiB8BE,EAAkBJ,EAAOK,OAAA,0BAUtCC,SAA4B,CAC3CC,QAAS,eACTC,WAAY,CAIXC,MAAO,CAAEC,KAAM,SAAUC,MAAO,OAAQC,aAAc,IAItDC,IAAK,CAAEH,KAAM,SAAUC,MAAO,OAAQC,aAAc,IAIpDE,QAAS,CAAEJ,KAAM,SAAUC,MAAO,OAAQC,aAAc,GAAIG,WAAY,UAIxEC,eAAgB,CAAEN,KAAM,UAAWC,MAAO,OAAQI,WAAY,UAI9DE,sBAAuB,CAAEP,KAAM,UAAWC,MAAO,OAAQI,WAAY,SAAUH,aAAc,MAI7FM,iBAAkB,CAAER,KAAM,UAAWC,MAAO,OAAQI,WAAY,UAMhEI,eAAgB,CAAET,KAAM,SAAUC,MAAO,OAAQI,WAAY,WAE9DK,mBAAoB,UACpBC,aAAc,CAIbC,QAAS,CAAEC,SAAU,KAAMC,aAAc,UAAWT,WAAY,UAIhEU,cAAe,CAAEf,KAAM,eAAgBa,SAAU,KAAMC,aAAc,gBAIrEE,UAAW,CAAEhB,KAAM,wBAAyBa,SAAU,KAAMC,aAAc,aAE3EG,OAAQ,CAIPC,SAAU,CAAC,GAEZC,aAAc,CACbC,iBAAkB,CAAEpB,KAAM,eAAgBa,SAAU,MAAOC,aAAc,mBAAoBT,WAAY,YA5D3GgB,YAAW,SAAAC,EAACC,EAAaC,GACxBC,6BAAAC,KAAMH,EAAIC,EACX,EAoEOG,KAAI,SAAAC,IACVF,KAAKG,SAAW,GAChBH,KAAKI,YAAcvC,EAAIwC,qBAAqB,oBAC7C,EASOC,YAAW,SAAAA,IACjBN,KAAKG,SAAWH,KAAKG,UAAYH,KAAKO,eAAe,WACrD,OAAOP,KAAKG,QACb,EAUOK,YAAW,SAAAA,EAACC,GAClBT,KAAKG,SAAWH,KAAKG,UAAYH,KAAKO,eAAe,WACrDP,KAAKG,SAASO,KAAKD,GACnBT,KAAKW,kBAAkB,UAAWF,EAAS,GAG1CT,KAAKY,aAA+BC,YAAYb,KAAMS,EACxD,EASOK,UAAS,SAAAA,EAACC,GACff,KAAKY,aAA+BI,eAAehB,KAAMe,EAC3D,EASUE,cAAa,SAAAC,IACtB,MAAMC,EAAYnB,KAAKY,YACvB,OAAOO,EAAYA,EAAUF,gBAAkBlD,GAChD,IAAC,OAnI4BC,CAAS","ignoreList":[],"sourceRoot":""}},{"offset":{"line":101,"column":0},"map":{"version":3,"file":"BaseSettingsDialog.js","names":["sap","ui","define","Dialog","Lib","BaseSettingsDialog","extend","renderer","apiVersion","metadata","library","properties","selectedKey","type","group","defaultValue","visibility","context","defaultAggregation","aggregations","panels","singularName","multiple","constructor","_constructor","id","settings","Dialog.prototype.constructor.call","this","init","_init","Dialog.prototype.init.call","_i18nBundle","getResourceBundleFor","_panelCache","addStyleClass","getPanels","_getPanels","slice","addPanel","_addPanel","panel","push","addAggregation","insertPanel","_insertPanel","index","splice","insertAggregation","removeAllPanels","_removeAllPanels","removeAllAggregation"],"sources":["BaseSettingsDialog.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\n\nimport ResourceBundle from \"sap/base/i18n/ResourceBundle\";\nimport Dialog from \"sap/m/Dialog\";\nimport type { MetadataOptions } from \"sap/ui/core/Element\";\nimport Lib from \"sap/ui/core/Lib\";\nimport { $BaseSettingsDialogSettings } from \"./BaseSettingsDialog\";\nimport BaseSettingsPanel from \"./BaseSettingsPanel\";\n\n/**\n *\n * Abstract base class for My Home Settings Dialog.\n *\n * @extends Dialog\n *\n * @author SAP SE\n * @version 0.0.1\n * @since 1.121\n *\n * @internal\n * @experimental Since 1.121\n * @abstract\n * @private\n *\n * @alias sap.cux.home.BaseSettingsDialog\n */\nexport default abstract class BaseSettingsDialog extends Dialog {\n\tprotected _i18nBundle!: ResourceBundle;\n\tprivate _panelCache!: BaseSettingsPanel[];\n\n\tconstructor(id?: string | $BaseSettingsDialogSettings);\n\tconstructor(id?: string, settings?: $BaseSettingsDialogSettings);\n\tconstructor(id?: string, settings?: $BaseSettingsDialogSettings) {\n\t\tsuper(id, settings);\n\t}\n\n\tstatic readonly metadata: MetadataOptions = {\n\t\tlibrary: \"sap.cux.home\",\n\t\tproperties: {\n\t\t\t/**\n\t\t\t * The selectedkey of the settings dialog\n\t\t\t */\n\t\t\tselectedKey: { type: \"string\", group: \"Misc\", defaultValue: \"\", visibility: \"hidden\" },\n\t\t\t/**\n\t\t\t * Additional context of the settings dialog\n\t\t\t */\n\t\t\tcontext: { type: \"object\", group: \"Misc\", defaultValue: {}, visibility: \"hidden\" }\n\t\t},\n\t\tdefaultAggregation: \"panels\",\n\t\taggregations: {\n\t\t\t/**\n\t\t\t * Contains the panels aggregation and should be of type BaseSettingsPanel.\n\t\t\t */\n\t\t\tpanels: { type: \"sap.cux.home.BaseSettingsPanel\", singularName: \"panel\", multiple: true }\n\t\t}\n\t};\n\n\tstatic renderer = {\n\t\tapiVersion: 2\n\t};\n\n\t/**\n\t * Init lifecycle method\n\t *\n\t * @public\n\t * @override\n\t */\n\tpublic init(): void {\n\t\tsuper.init();\n\t\tthis._i18nBundle = Lib.getResourceBundleFor(\"sap.cux.home.i18n\") as ResourceBundle;\n\n\t\t//setup page\n\t\tthis._panelCache = [];\n\t\tthis.addStyleClass(\"sapContrastPlus\");\n\t}\n\n\t/**\n\t * Returns all the panels in the dialog.\n\t * Overridden to return cached panels.\n\t *\n\t * @public\n\t * @override\n\t * @returns {BaseSettingsPanel[]} panel array\n\t */\n\tpublic getPanels(): BaseSettingsPanel[] {\n\t\treturn this._panelCache.slice();\n\t}\n\n\t/**\n\t * Adds a new panel at the end of the available panels.\n\t * Overridden to update cached panels.\n\t *\n\t * @public\n\t * @override\n\t * @returns {BaseSettingsDialog} the dialog for chaining\n\t */\n\taddPanel(panel: BaseSettingsPanel): BaseSettingsDialog {\n\t\tthis._panelCache.push(panel);\n\t\tthis.addAggregation(\"panels\", panel);\n\t\treturn this;\n\t}\n\n\t/**\n\t * Adds a new panel to the 'panels' aggregation at the index.\n\t * Overridden to update cached panels.\n\t *\n\t * @public\n\t * @override\n\t * @param {BaseSettingsPanel} panel The panel to insert.\n\t * @param {number} index The index at which to insert the panel.\n\t * @returns {BaseSettingsDialog} Returns 'this' to allow method chaining.\n\t */\n\tinsertPanel(panel: BaseSettingsPanel, index: number): BaseSettingsDialog {\n\t\tthis._panelCache.splice(index, 0, panel);\n\t\tthis.insertAggregation(\"panels\", panel, index);\n\t\treturn this;\n\t}\n\n\t/**\n\t * Removes all panels from the dialog, clears the internal panel cache.\n\t * Overridden to update cached panels.\n\t *\n\t * @public\n\t * @override\n\t * @returns {BaseSettingsPanel[]} An empty array representing the removed panels.\n\t */\n\tremoveAllPanels(): BaseSettingsPanel[] {\n\t\tthis._panelCache = [];\n\t\tthis.removeAllAggregation(\"panels\");\n\t\treturn this.getPanels();\n\t}\n}\n"],"mappings":"AAAA;;;;AAAA,aAAAA,IAAAC,GAAAC,OAAA,4CAAAC,EAAAC,GAAA,aAYA,MAiB8BC,EAA2BF,EAAMG,OAAA,mCA+BvDC,SAAW,CACjBC,WAAY,GAtBGC,SAA4B,CAC3CC,QAAS,eACTC,WAAY,CAIXC,YAAa,CAAEC,KAAM,SAAUC,MAAO,OAAQC,aAAc,GAAIC,WAAY,UAI5EC,QAAS,CAAEJ,KAAM,SAAUC,MAAO,OAAQC,aAAc,CAAC,EAAGC,WAAY,WAEzEE,mBAAoB,SACpBC,aAAc,CAIbC,OAAQ,CAAEP,KAAM,iCAAkCQ,aAAc,QAASC,SAAU,QArBrFC,YAAW,SAAAC,EAACC,EAAaC,GACxBC,6BAAAC,KAAMH,EAAIC,EACX,EAiCOG,KAAI,SAAAC,IACVC,sBAAAH,MACAA,KAAKI,YAAc5B,EAAI6B,qBAAqB,qBAG5CL,KAAKM,YAAc,GACnBN,KAAKO,cAAc,kBACpB,EAUOC,UAAS,SAAAC,IACf,OAAOT,KAAKM,YAAYI,OACzB,EAUAC,SAAQ,SAAAC,EAACC,GACRb,KAAKM,YAAYQ,KAAKD,GACtBb,KAAKe,eAAe,SAAUF,GAC9B,OAAOb,IACR,EAYAgB,YAAW,SAAAC,EAACJ,EAA0BK,GACrClB,KAAKM,YAAYa,OAAOD,EAAO,EAAGL,GAClCb,KAAKoB,kBAAkB,SAAUP,EAAOK,GACxC,OAAOlB,IACR,EAUAqB,gBAAe,SAAAC,IACdtB,KAAKM,YAAc,GACnBN,KAAKuB,qBAAqB,UAC1B,OAAOvB,KAAKQ,WACb,IAAC,OAxG4B/B,CAAkB","ignoreList":[],"sourceRoot":""}},{"offset":{"line":108,"column":0},"map":{"version":3,"file":"BaseSettingsPanel.js","names":["sap","ui","define","Element","Lib","BaseSettingsPanel","extend","metadata","library","properties","key","type","group","defaultValue","visibility","title","icon","showHeader","defaultAggregation","aggregations","content","singularName","multiple","actionButtons","associations","panel","events","panelNavigated","parameters","context","constructor","_constructor","id","settings","Element.prototype.constructor.call","this","_keyuserChanges","init","_init","_i18nBundle","getResourceBundleFor","_getPanel","getElementById","getAssociation","_persistDialog","container","getParent","layout","setProperty","getKeyUserChanges","_getKeyUserChanges","addKeyUserChanges","_addKeyUserChanges","change","push","clearKeyUserChanges","_clearKeyUserChanges"],"sources":["BaseSettingsPanel.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\n\nimport ResourceBundle from \"sap/base/i18n/ResourceBundle\";\nimport type { MetadataOptions } from \"sap/ui/core/Element\";\nimport Element from \"sap/ui/core/Element\";\nimport Lib from \"sap/ui/core/Lib\";\nimport BaseContainer from \"./BaseContainer\";\nimport BaseLayout from \"./BaseLayout\";\nimport BasePanel from \"./BasePanel\";\nimport { $BaseSettingsPanelSettings } from \"./BaseSettingsPanel\";\nimport { IKeyUserChange } from \"./interface/KeyUserInterface\";\n\n/**\n *\n * Abstract base class for panels inside My Home Settings Dialog.\n *\n * @extends sap.ui.core.Element\n *\n * @author SAP SE\n * @version 0.0.1\n * @since 1.121\n *\n * @internal\n * @experimental Since 1.121\n * @abstract\n * @private\n *\n * @alias sap.cux.home.BaseSettingsPanel\n */\nexport default abstract class BaseSettingsPanel extends Element {\n\tprotected _i18nBundle!: ResourceBundle;\n\tprivate _keyuserChanges: Array<IKeyUserChange> = [];\n\n\tconstructor(id?: string | $BaseSettingsPanelSettings);\n\tconstructor(id?: string, settings?: $BaseSettingsPanelSettings);\n\tconstructor(id?: string, settings?: $BaseSettingsPanelSettings) {\n\t\tsuper(id, settings);\n\t}\n\n\tstatic readonly metadata: MetadataOptions = {\n\t\tlibrary: \"sap.cux.home\",\n\t\tproperties: {\n\t\t\t/**\n\t\t\t * Key of the settings panel.\n\t\t\t */\n\t\t\tkey: { type: \"string\", group: \"Misc\", defaultValue: \"\", visibility: \"hidden\" },\n\t\t\t/**\n\t\t\t * Title of the settings panel.\n\t\t\t */\n\t\t\ttitle: { type: \"string\", group: \"Misc\", defaultValue: \"\", visibility: \"hidden\" },\n\t\t\t/**\n\t\t\t * Icon of the settings panel.\n\t\t\t */\n\t\t\ticon: { type: \"sap.ui.core.URI\", group: \"Misc\", defaultValue: \"\", visibility: \"hidden\" },\n\t\t\t/**\n\t\t\t * Specifies if header should be shown for the settings panel page.\n\t\t\t */\n\t\t\tshowHeader: { type: \"boolean\", group: \"Misc\", defaultValue: true, visibility: \"hidden\" }\n\t\t},\n\t\tdefaultAggregation: \"content\",\n\t\taggregations: {\n\t\t\t/**\n\t\t\t * Content aggregation of the settings panel.\n\t\t\t */\n\t\t\tcontent: { type: \"sap.ui.core.Control\", singularName: \"content\", multiple: true, visibility: \"hidden\" },\n\t\t\t/**\n\t\t\t * Holds the actions to be shown within the settings panel.\n\t\t\t */\n\t\t\tactionButtons: { type: \"sap.m.Button\", multiple: true, singularName: \"actionButton\", visibility: \"hidden\" }\n\t\t},\n\t\tassociations: {\n\t\t\t/**\n\t\t\t * Associations of the settings panel.\n\t\t\t * Id of the panel associated with the settings panel to be provided.\n\t\t\t * In case of multiple panels with same Id, the first panel will be associated.\n\t\t\t * If no panel is found with the provided id, the settings panel will not be associated with any panel.\n\t\t\t */\n\t\t\tpanel: { type: \"string\" }\n\t\t},\n\t\tevents: {\n\t\t\t/**\n\t\t\t * Fired whenever the panel has been navigated to.\n\t\t\t */\n\t\t\tpanelNavigated: {\n\t\t\t\tparameters: {\n\t\t\t\t\tcontext: { type: \"object\" }\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n\t/**\n\t * Init lifecycle method\n\t *\n\t * @public\n\t * @override\n\t */\n\tpublic init(): void {\n\t\tthis._i18nBundle = Lib.getResourceBundleFor(\"sap.cux.home.i18n\") as ResourceBundle;\n\t}\n\n\t/**\n\t * Retrieves the BasePanel or BaseLayout associated with the BaseSettingsPanel.\n\t *\n\t * @returns {BasePanel | BaseLayout} The panel or layout associated with the BaseSettingsPanel\n\t * @private\n\t */\n\tprotected _getPanel(): BasePanel | BaseLayout {\n\t\treturn Element.getElementById(this.getAssociation(\"panel\", null) as string) as BasePanel | BaseLayout;\n\t}\n\n\t/**\n\t * Persists the dialog state by setting a property on the parent layout\n\t * indicating that the settings dialog should be persisted.\n\t *\n\t * @private\n\t */\n\tprotected _persistDialog(): void {\n\t\tconst panel = this._getPanel();\n\t\tconst container = panel?.getParent() as BaseContainer;\n\t\tconst layout = container?.getParent() as BaseLayout;\n\n\t\tlayout?.setProperty(\"settingsDialogPersisted\", true, true);\n\t}\n\n\t/**\n\t * Returns the KeyUser Changes made by user.\n\t *\n\t * @public\n\t */\n\tpublic getKeyUserChanges(): Array<IKeyUserChange> {\n\t\treturn this._keyuserChanges;\n\t}\n\n\t/**\n\t * Add Changes made by user in case of KeyUser Settings Panel.\n\t *\n\t * @public\n\t */\n\tpublic addKeyUserChanges(change: IKeyUserChange): void {\n\t\tthis._keyuserChanges.push(change);\n\t}\n\n\t/**\n\t * Clear all KeyUser Changes made by user.\n\t *\n\t * @public\n\t */\n\tpublic clearKeyUserChanges(): void {\n\t\tthis._keyuserChanges = [];\n\t}\n}\n"],"mappings":"AAAA;;;;AAAA,aAAAA,IAAAC,GAAAC,OAAA,mDAAAC,EAAAC,GAAA,aAeA,MAiB8BC,EAA0BF,EAAOG,OAAA,kCAU9CC,SAA4B,CAC3CC,QAAS,eACTC,WAAY,CAIXC,IAAK,CAAEC,KAAM,SAAUC,MAAO,OAAQC,aAAc,GAAIC,WAAY,UAIpEC,MAAO,CAAEJ,KAAM,SAAUC,MAAO,OAAQC,aAAc,GAAIC,WAAY,UAItEE,KAAM,CAAEL,KAAM,kBAAmBC,MAAO,OAAQC,aAAc,GAAIC,WAAY,UAI9EG,WAAY,CAAEN,KAAM,UAAWC,MAAO,OAAQC,aAAc,KAAMC,WAAY,WAE/EI,mBAAoB,UACpBC,aAAc,CAIbC,QAAS,CAAET,KAAM,sBAAuBU,aAAc,UAAWC,SAAU,KAAMR,WAAY,UAI7FS,cAAe,CAAEZ,KAAM,eAAgBW,SAAU,KAAMD,aAAc,eAAgBP,WAAY,WAElGU,aAAc,CAObC,MAAO,CAAEd,KAAM,WAEhBe,OAAQ,CAIPC,eAAgB,CACfC,WAAY,CACXC,QAAS,CAAElB,KAAM,cAlDrBmB,YAAW,SAAAC,EAACC,EAAaC,GACxBC,6BAAAC,KAAMH,EAAIC,GAAUE,KALbC,gBAAyC,EAMjD,EA4DOC,KAAI,SAAAC,IACVH,KAAKI,YAAcnC,EAAIoC,qBAAqB,oBAC7C,EAQUC,UAAS,SAAAA,IAClB,OAAOtC,EAAQuC,eAAeP,KAAKQ,eAAe,QAAS,MAC5D,EAQUC,eAAc,SAAAA,IACvB,MAAMnB,EAAQU,KAAKM,YACnB,MAAMI,EAAYpB,GAAOqB,YACzB,MAAMC,EAASF,GAAWC,YAE1BC,GAAQC,YAAY,0BAA2B,KAAM,KACtD,EAOOC,kBAAiB,SAAAC,IACvB,OAAOf,KAAKC,eACb,EAOOe,kBAAiB,SAAAC,EAACC,GACxBlB,KAAKC,gBAAgBkB,KAAKD,EAC3B,EAOOE,oBAAmB,SAAAC,IACzBrB,KAAKC,gBAAkB,EACxB,IAAC,OAzH4B/B,CAAiB","ignoreList":[],"sourceRoot":""}},{"offset":{"line":115,"column":0},"map":{"version":3,"file":"CardsPanel.js","names":["sap","ui","define","Log","GridContainer","GridContainerSettings","SelectionVariant","CardHelper","InsightsInMemoryCachingHost","HBox","HeaderContainer","VBox","EventBus","DragDropInfo","sap_ui_core_library","Card","JSONModel","Container","S4MyHome","__BasePanel","__MenuItem","__AppManager","___utils_Constants","___utils_Device","___utils_DragDropUtils","___utils_FESRUtil","__PersonalisationUtils","__UShellPersonalizer","_interopRequireDefault","obj","__esModule","default","_catch","body","recover","result","e","then","dnd","_finallyRethrows","finalizer","bind","BasePanel","MenuItem","AppManager","FEATURE_TOGGLES","SETTINGS_PANELS_KEYS","DeviceType","fetchElementProperties","attachKeyboardHandler","addFESRId","PersonalisationUtils","UShellPersonalizer","cardsMenuItems","RECOMMENDATION_PATH","runtimeHostCreated","CardsPanel","extend","metadata","library","properties","title","type","group","defaultValue","visibility","key","fullScreenName","defaultAggregation","aggregations","cards","multiple","singularName","events","handleHidePanel","parameters","handleUnhidePanel","constructor","_constructor","id","settings","BasePanel.prototype.constructor.call","this","aVisibleCardInstances","cardsInViewport","_appSwitched","appManagerInstance","getInstance","init","_init","_this","BasePanel.prototype.init.call","setProperty","_i18nBundle","getText","cardWidth","getDeviceType","Mobile","cardHeight","_oData","userVisibleCards","userAllCards","_controlModel","refreshMenuItem","getId","REFRESH","icon","press","refreshCards","editCardsMenuItem","EDIT_CARDS","event","_handleEditCards","menuItems","oEventBus","subscribe","sChannelId","sEventId","oData","Promise","resolve","_createCards","rerenderCards","_importdone","reject","_setupHeader","getServiceAsync","_getServiceAsync","cardHelperInstance","_addRuntimeHost","_toggleCardActivity","_this2","toggleUserActions","show","getParameter","_temp2","_temp","attachRouteMatched","aCards","_this3","_getManifestEntryFromCard","oCard","sEntry","cardWithManifestPromise","manifestEntry","getManifestEntry","_pManifestReady","attachManifestReady","_this4","_this5","_this6","_this7","_this8","runtimeHost","action","oEvent","sType","oParameters","_temp3","ibnTarget","preventDefault","oIntegrationCardManifest","aHeaderActions","header","actions","oCheckSemanticProperty","configuration","_semanticDateRangeSetting","value","JSON","parse","Object","keys","length","processSemanticDate","aContentActions","getContentActions","oHeaderAction","oContentAction","bOldCardExtension","indexOf","_manageOldCardExtension","navigationService","navigate","target","params","ibnParams","text","_refreshCardData","visible","oEntry","cacheType","cardId","getParent","_getLayout","openSettingsDialog","INSIGHTS_CARDS","oCardParams","aRelevantFilters","_relevantODataFilters","bRelevantFilters","aRelevantParams","_relevantODataParameters","bRelevantParams","oCardDataSource","dataSources","oFilterService","filterService","oDataSourceSettings","odataVersion","getParentAppDetails","descriptorContent","parentApp","semanticObject","intents","isNavigationSupported","_navigationService$is","aResponses","supported","sShellHash","semanticURL","shellHash","oCardSV","getCombinedParameters","forEach","sParamName","sFilterName","oCardParamsFilterName","aSelectOptions","SelectOptions","aRanges","Ranges","Sign","Option","Low","massAddSelectOption","oTempParam","selectionVariant","toJSONObject","stringify","_getContentActions","manifest","content","item","row","stateData","status","publish","require","InsightsCacheData","sCardId","cacheDataInstance","clearCache","refreshData","menuItem","addAggregation","actionButtons","actionButton","renderPanel","_renderPanel","_this9","_rerenderCards","_this10","_temp5","cardsContainer","setBusy","_getUserVisibleCardModel","oUserVisibleCardModel","getProperty","_temp4","_showCards","_checkForRecommendationCards","error","Error","message","fireHandleHidePanel","_wasThrown","_result","_adjustLayout","_this11","_getPersonalization","_this11$_getPersonali","oPersonalizer","read","oPersData","_exit","_temp7","_result2","showRecommendationCards","_temp6","undefined","getRecommenedCards","aRecommendedCards","_this11$_handleRecomm","_handleRecommendationCards","_this12","cardManifests","map","_updateRecommendationStatus","fireHandleUnhidePanel","updatePanelsItemCount","getMetadata","getName","scrollStep","scrollStepByItem","gridLayout","scrollTime","showDividers","cardsContainerSettings","columnSize","rowSize","gap","addStyleClass","setLayout","addDragDropConfig","sourceAggregation","targetAggregation","dropPosition","DropPosition","Between","dropLayout","DropLayout","Horizontal","drop","_handleCardsDnd","attachBrowserEvent","disablenavigation","metaKey","ctrlKey","dragDropEvent","_addContent","sDefaultAggreName","getDefaultAggregationName","removeAllAggregation","oUserCard","width","height","host","push","items","overlay","overlayHBoxWrapper","addItem","oPreviewVBox","direction","justifyContent","parent","getSource","isA","handleRemoveActions","_handleRemoveActions","handleAddActions","_handleAddActions","_refreshCards","card","_this13","sInsertPosition","oDragItem","iDragItemIndex","indexOfItem","oDropItem","iDropItemIndex","_temp8","_getUserAllCardModel","userAllCardsModel","updateCardList","_updateCardList","_this14","aUserVisibleCards","aUserAllCards","sDragedPositionRank","rank","sDropedPositionRank","iUpdatedDragItemIndex","findIndex","iUpdatedDropItemIndex","_temp9","aUpdatedCards","handleDndCardsRanking","_updateMultipleCards","_sortCardsOnRank","filter","sort","a","b","persContainerId","getPersContainerId","ownerComponent","getOwnerComponent","_this15","isFeatureEnabled","RECOMMENDATION","bRecommendationEnabled","_temp11","showRecommendation","write","_temp10","_this15$_getPersonali","_calculateVisibleCardCount","pageDomRef","getDomRef","deviceType","count","sectionDomRef","childNodes","domProperties","iAvailableWidth","_calculateCardWidth","Math","floor","containerWidth","minWidth","maxWidth","margin","layout","isFullScreenEnabled","isElementExpanded","_getCurrentExpandedElementName","cardCount","slice","getManifest","cardWrapper","toggleFullScreenElements","setWidth","setColumnSize"],"sources":["CardsPanel.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\n\nimport Log from \"sap/base/Log\";\nimport GridContainer from \"sap/f/GridContainer\";\nimport GridContainerSettings from \"sap/f/GridContainerSettings\";\nimport SelectionVariant from \"sap/fe/navigation/SelectionVariant\";\nimport CardHelper from \"sap/insights/CardHelper\";\nimport InsightsInMemoryCachingHost from \"sap/insights/base/InMemoryCachingHost\";\nimport Button from \"sap/m/Button\";\nimport HBox from \"sap/m/HBox\";\nimport HeaderContainer from \"sap/m/HeaderContainer\";\nimport VBox from \"sap/m/VBox\";\nimport Event from \"sap/ui/base/Event\";\nimport ManagedObject, { MetadataOptions } from \"sap/ui/base/ManagedObject\";\nimport Component from \"sap/ui/core/Component\";\nimport Control from \"sap/ui/core/Control\";\nimport EventBus from \"sap/ui/core/EventBus\";\nimport DragDropInfo from \"sap/ui/core/dnd/DragDropInfo\";\nimport { DropInfo$DropEventParameters } from \"sap/ui/core/dnd/DropInfo\";\nimport { dnd } from \"sap/ui/core/library\";\nimport Card from \"sap/ui/integration/widgets/Card\";\nimport JSONModel from \"sap/ui/model/json/JSONModel\";\nimport Container from \"sap/ushell/Container\";\nimport S4MyHome from \"sap/ushell/api/S4MyHome\";\nimport Navigation from \"sap/ushell/services/Navigation\";\nimport BasePanel from \"./BasePanel\";\nimport { $CardsPanelSettings } from \"./CardsPanel\";\nimport InsightsContainer from \"./InsightsContainer\";\nimport MenuItem from \"./MenuItem\";\nimport {\n\tICard,\n\tICardActionParameters,\n\tICardHelper,\n\tICardHelperInstance,\n\tICardManifest,\n\tInsightsCacheData,\n\tIsapApp,\n\tIsapCard\n} from \"./interface/CardsInterface\";\nimport AppManager from \"./utils/AppManager\";\nimport { FEATURE_TOGGLES, SETTINGS_PANELS_KEYS } from \"./utils/Constants\";\nimport { DeviceType, fetchElementProperties } from \"./utils/Device\";\nimport { attachKeyboardHandler } from \"./utils/DragDropUtils\";\nimport { addFESRId } from \"./utils/FESRUtil\";\nimport PersonalisationUtils from \"./utils/PersonalisationUtils\";\nimport UShellPersonalizer from \"./utils/UshellPersonalizer\";\n\nexport enum cardsMenuItems {\n\tREFRESH = \"cards-refresh\",\n\tEDIT_CARDS = \"cards-editCards\"\n}\n\ninterface IcardActionEvent {\n\tgetParameter(sParam: string): unknown;\n\tpreventDefault(): void;\n}\n\nexport interface Intent {\n\ttarget: {\n\t\tsemanticObject: string;\n\t\taction: string;\n\t};\n\tparams?: {\n\t\t[key: string]: string;\n\t};\n}\nconst RECOMMENDATION_PATH = \"showRecommendation\";\nlet runtimeHostCreated = false;\n\n/**\n *\n * Panel class for managing and storing Insights Cards.\n *\n * @extends sap.cux.home.BasePanel\n *\n * @author SAP SE\n * @version 0.0.1\n * @since 1.122.0\n *\n * @internal\n * @experimental Since 1.122\n * @public\n *\n * @alias sap.cux.home.CardsPanel\n */\n\nexport default class CardsPanel extends BasePanel {\n\tstatic readonly metadata: MetadataOptions = {\n\t\tlibrary: \"sap.cux.home\",\n\t\tproperties: {\n\t\t\ttitle: { type: \"string\", group: \"Misc\", defaultValue: \"\", visibility: \"hidden\" },\n\t\t\tkey: { type: \"string\", group: \"Misc\", defaultValue: \"\", visibility: \"hidden\" },\n\t\t\tfullScreenName: { type: \"string\", group: \"Misc\", defaultValue: \"SI2\", visibility: \"hidden\" }\n\t\t},\n\t\tdefaultAggregation: \"cards\",\n\t\taggregations: {\n\t\t\t/**\n\t\t\t * Aggregation of cards available within the cards panel\n\t\t\t */\n\t\t\tcards: { type: \"sap.ui.integration.widgets.Card\", multiple: true, singularName: \"card\", visibility: \"hidden\" }\n\t\t},\n\t\tevents: {\n\t\t\thandleHidePanel: {\n\t\t\t\tparameters: {}\n\t\t\t},\n\t\t\thandleUnhidePanel: {\n\t\t\t\tparameters: {}\n\t\t\t}\n\t\t}\n\t};\n\tprivate cardHelperInstance!: ICardHelperInstance;\n\tprivate cardsContainer!: GridContainer | HeaderContainer;\n\tprivate aVisibleCardInstances: Card[] = [];\n\tpublic menuItems!: MenuItem[];\n\tpublic actionButtons!: Button[];\n\tprivate _oData!: Record<string, unknown>;\n\tprivate _controlModel!: JSONModel;\n\tprivate oPersonalizer!: UShellPersonalizer;\n\tprivate appManagerInstance;\n\tprivate runtimeHost!: InsightsInMemoryCachingHost;\n\tprivate cardsContainerSettings!: GridContainerSettings;\n\tprivate cardWidth!: string;\n\tprivate cardHeight!: string;\n\tprivate cardsInViewport: Card[] = [];\n\tprivate oEventBus!: EventBus;\n\tprivate _appSwitched: boolean = false;\n\n\tconstructor(idOrSettings?: string | $CardsPanelSettings);\n\tconstructor(id?: string, settings?: $CardsPanelSettings);\n\t/**\n\t * Constructor for a new card panel.\n\t *\n\t * @param {string} [id] ID for the new control, generated automatically if an ID is not provided\n\t * @param {object} [settings] Initial settings for the new control\n\t */\n\tpublic constructor(id?: string, settings?: $CardsPanelSettings) {\n\t\tsuper(id, settings);\n\t\tthis.appManagerInstance = AppManager.getInstance();\n\t}\n\n\tpublic async init() {\n\t\tsuper.init();\n\t\tthis.setProperty(\"title\", `${this._i18nBundle?.getText(\"insights\")} ${this._i18nBundle.getText(\"insightsCardsTitle\")}`);\n\t\tthis.cardWidth = this.getDeviceType() === DeviceType.Mobile ? \"17rem\" : \"22rem\";\n\t\tthis.cardHeight = this.getDeviceType() === DeviceType.Mobile ? \"25.5rem\" : \"33rem\";\n\n\t\t//Initialize Tiles Model\n\t\tthis._oData = {\n\t\t\tuserVisibleCards: [] as ICard[],\n\t\t\tuserAllCards: [] as ICard[]\n\t\t};\n\t\tthis._controlModel = new JSONModel(this._oData);\n\n\t\t// Setup Menu Items\n\t\tconst refreshMenuItem = new MenuItem(`${this.getId()}-${cardsMenuItems.REFRESH}`, {\n\t\t\ttitle: this._i18nBundle.getText(\"refresh\"),\n\t\t\ticon: \"sap-icon://refresh\",\n\t\t\tpress: () => this.refreshCards()\n\t\t});\n\t\taddFESRId(refreshMenuItem, \"cardsRefresh\");\n\t\tconst editCardsMenuItem = new MenuItem(`${this.getId()}-${cardsMenuItems.EDIT_CARDS}`, {\n\t\t\ttitle: this._i18nBundle.getText(\"manageCards\"),\n\t\t\ticon: \"sap-icon://edit\",\n\t\t\tpress: (event: Event) => this._handleEditCards(event)\n\t\t});\n\t\taddFESRId(editCardsMenuItem, \"manageCards\");\n\n\t\tthis.menuItems = [refreshMenuItem, editCardsMenuItem];\n\n\t\tthis.oEventBus = EventBus.getInstance();\n\t\t// Subscribe to the event\n\t\tthis.oEventBus.subscribe(\n\t\t\t\"importChannel\",\n\t\t\t\"cardsImport\",\n\t\t\tasync (sChannelId?: string, sEventId?: string, oData?) => {\n\t\t\t\tawait this._createCards(oData as ICardManifest[]);\n\t\t\t\tawait this.rerenderCards();\n\t\t\t\tthis._importdone();\n\t\t\t},\n\t\t\tthis\n\t\t);\n\n\t\t// Setup Header Content\n\t\tthis._setupHeader();\n\t\tthis.cardHelperInstance = await (CardHelper as ICardHelper).getServiceAsync();\n\n\t\t// Setup Host For Cards\n\t\tif (!runtimeHostCreated) {\n\t\t\tthis._addRuntimeHost();\n\t\t}\n\t\t// Toggles the activity of cards\n\t\tthis._toggleCardActivity();\n\t}\n\n\t/**\n\t * Toggles the activity of cards on route change.\n\t *\n\t * @private\n\t * @returns {void}\n\t */\n\tprivate _toggleCardActivity(): void {\n\t\tconst toggleUserActions = async (event: Event<{ isMyHomeRoute: boolean }>) => {\n\t\t\tconst show = event.getParameter(\"isMyHomeRoute\");\n\t\t\tif (show) {\n\t\t\t\tif (this._appSwitched) {\n\t\t\t\t\tawait this.rerenderCards();\n\t\t\t\t\tthis._appSwitched = false;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis._appSwitched = true;\n\t\t\t}\n\t\t};\n\n\t\tS4MyHome.attachRouteMatched({}, toggleUserActions, this);\n\t}\n\n\t/**\n\t * Create imported cards\n\t * @param {ICardManifest[]} aCards - array of card manifests\n\t * @returns {any}\n\t */\n\tprivate async _createCards(aCards: ICardManifest[]) {\n\t\tawait this.cardHelperInstance?._createCards(aCards);\n\t\treturn this.rerenderCards();\n\t}\n\n\t/**\n\t * Retrieves a manifest entry from a card.\n\t * If the manifest entry is not immediately available, it waits for the manifest to be ready.\n\t *\n\t * @param {object} oCard - The card object from which to retrieve the manifest entry.\n\t * @param {string} sEntry - The manifest entry key to retrieve.\n\t * @returns {Promise<ICardManifest | undefined>} A promise that resolves with the manifest entry value.\n\t */\n\tprivate _getManifestEntryFromCard(oCard: Card, sEntry: string): Promise<ICardManifest | undefined> {\n\t\tconst cardWithManifestPromise = oCard as Card & { _pManifestReady?: Promise<ICardManifest | undefined> };\n\t\tconst manifestEntry = oCard.getManifestEntry(sEntry) as ICardManifest | undefined;\n\t\tif (manifestEntry) {\n\t\t\treturn Promise.resolve(manifestEntry);\n\t\t} else {\n\t\t\tif (!cardWithManifestPromise._pManifestReady) {\n\t\t\t\tcardWithManifestPromise._pManifestReady = new Promise<ICardManifest | undefined>((resolve) => {\n\t\t\t\t\toCard.attachManifestReady(() => {\n\t\t\t\t\t\tresolve(oCard.getManifestEntry(sEntry) as ICardManifest | undefined);\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t}\n\t\t\treturn cardWithManifestPromise._pManifestReady;\n\t\t}\n\t}\n\n\tprivate _addRuntimeHost() {\n\t\tthis.runtimeHost = new InsightsInMemoryCachingHost(\"runtimeHost\", {\n\t\t\taction: async (oEvent: IcardActionEvent) => {\n\t\t\t\tconst sType = oEvent.getParameter(\"type\") as string;\n\t\t\t\tlet oParameters = (oEvent.getParameter(\"parameters\") as ICardActionParameters) || {};\n\n\t\t\t\tif (sType === \"Navigation\" && oParameters.ibnTarget) {\n\t\t\t\t\toEvent.preventDefault();\n\t\t\t\t\tconst oCard = (oEvent.getParameter(\"card\") as Card) || {},\n\t\t\t\t\t\toIntegrationCardManifest = (oCard?.getManifestEntry(\"sap.card\") || {}) as IsapCard,\n\t\t\t\t\t\taHeaderActions = oIntegrationCardManifest?.header?.actions || [];\n\n\t\t\t\t\t//processing semantic date as param for navigation\n\t\t\t\t\t//check to verify if _semanticDateRangeSetting property is present in manifest\n\t\t\t\t\tlet oCheckSemanticProperty;\n\t\t\t\t\tif (oIntegrationCardManifest?.configuration?.parameters?._semanticDateRangeSetting?.value) {\n\t\t\t\t\t\toCheckSemanticProperty = JSON.parse(\n\t\t\t\t\t\t\toIntegrationCardManifest.configuration.parameters._semanticDateRangeSetting.value\n\t\t\t\t\t\t) as object;\n\t\t\t\t\t}\n\t\t\t\t\tif (oCheckSemanticProperty && Object.keys(oCheckSemanticProperty).length) {\n\t\t\t\t\t\toParameters = this.cardHelperInstance.processSemanticDate(\n\t\t\t\t\t\t\toParameters,\n\t\t\t\t\t\t\toIntegrationCardManifest\n\t\t\t\t\t\t) as ICardActionParameters;\n\t\t\t\t\t}\n\n\t\t\t\t\tlet aContentActions = this.getContentActions(oIntegrationCardManifest) || [];\n\n\t\t\t\t\tconst oHeaderAction = aHeaderActions[0] || {},\n\t\t\t\t\t\toContentAction = aContentActions[0] || {};\n\n\t\t\t\t\tconst bOldCardExtension = !!(\n\t\t\t\t\t\t(oHeaderAction?.parameters &&\n\t\t\t\t\t\t\ttypeof oHeaderAction.parameters === \"string\" &&\n\t\t\t\t\t\t\toHeaderAction.parameters.indexOf(\"{= extension.formatters.addPropertyValueToAppState\") > -1) ||\n\t\t\t\t\t\t(oContentAction?.parameters &&\n\t\t\t\t\t\t\ttypeof oContentAction.parameters === \"string\" &&\n\t\t\t\t\t\t\toContentAction.parameters.indexOf(\"{= extension.formatters.addPropertyValueToAppState\") > -1)\n\t\t\t\t\t);\n\n\t\t\t\t\tthis._manageOldCardExtension(bOldCardExtension, oEvent, oParameters);\n\n\t\t\t\t\tconst navigationService = await Container.getServiceAsync<Navigation>(\"Navigation\");\n\t\t\t\t\tawait navigationService.navigate({\n\t\t\t\t\t\ttarget: oParameters.ibnTarget,\n\t\t\t\t\t\tparams: oParameters.ibnParams\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t},\n\t\t\tactions: [\n\t\t\t\t{\n\t\t\t\t\ttype: \"Custom\",\n\t\t\t\t\ttext: this._i18nBundle?.getText(\"refresh\"),\n\t\t\t\t\ticon: \"sap-icon://refresh\",\n\t\t\t\t\taction: (oCard: Card) => {\n\t\t\t\t\t\tthis._refreshCardData(oCard);\n\t\t\t\t\t},\n\t\t\t\t\tvisible: async (oCard: Card) => {\n\t\t\t\t\t\tconst oEntry = await this._getManifestEntryFromCard(oCard, \"sap.insights\");\n\t\t\t\t\t\treturn oEntry && !oEntry.cacheType;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttype: \"Custom\",\n\t\t\t\t\ttext: this._i18nBundle?.getText(\"viewFilteredBy\"),\n\t\t\t\t\ticon: \"sap-icon://filter\",\n\t\t\t\t\taction: (oCard: Card) => {\n\t\t\t\t\t\tconst cardId = (oCard.getManifestEntry(\"sap.app\") as IsapApp).id;\n\t\t\t\t\t\t(this.getParent() as InsightsContainer)\n\t\t\t\t\t\t\t?._getLayout()\n\t\t\t\t\t\t\t.openSettingsDialog(SETTINGS_PANELS_KEYS.INSIGHTS_CARDS, { cardId });\n\t\t\t\t\t},\n\t\t\t\t\tvisible: async (oCard: Card) => {\n\t\t\t\t\t\tconst oEntry = await this._getManifestEntryFromCard(oCard, \"sap.insights\");\n\t\t\t\t\t\tif (oEntry) {\n\t\t\t\t\t\t\tconst oCardParams = (oCard.getManifestEntry(\"sap.card\") as IsapCard)?.configuration?.parameters;\n\t\t\t\t\t\t\tconst aRelevantFilters = oCardParams?._relevantODataFilters?.value || [];\n\t\t\t\t\t\t\tconst bRelevantFilters = aRelevantFilters?.length;\n\t\t\t\t\t\t\tconst aRelevantParams = oCardParams?._relevantODataParameters?.value || [];\n\t\t\t\t\t\t\tconst bRelevantParams = aRelevantParams?.length;\n\t\t\t\t\t\t\tconst oCardDataSource = (oCard.getManifestEntry(\"sap.app\") as IsapApp).dataSources;\n\t\t\t\t\t\t\tconst oFilterService = oCardDataSource?.filterService;\n\t\t\t\t\t\t\tconst oDataSourceSettings = oFilterService?.settings;\n\t\t\t\t\t\t\t// show ViewFilteredBy Option only if relevantFilters or relevantParameters are there and is OdataV2 version\n\t\t\t\t\t\t\treturn !!(\n\t\t\t\t\t\t\t\t(bRelevantFilters || bRelevantParams) &&\n\t\t\t\t\t\t\t\toDataSourceSettings &&\n\t\t\t\t\t\t\t\toDataSourceSettings.odataVersion === \"2.0\"\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttype: \"Custom\",\n\t\t\t\t\ttext: this._i18nBundle?.getText(\"navigateToParent\"),\n\t\t\t\t\ticon: \"sap-icon://display-more\",\n\t\t\t\t\tvisible: async (oCard: Card) => {\n\t\t\t\t\t\treturn this._getManifestEntryFromCard(oCard, \"sap.insights\").then(async (oEntry: ICardManifest | undefined) => {\n\t\t\t\t\t\t\tif (oEntry) {\n\t\t\t\t\t\t\t\tconst parentApp = await this.cardHelperInstance.getParentAppDetails({\n\t\t\t\t\t\t\t\t\tdescriptorContent: oCard.getManifestEntry(\"/\") as ICardManifest\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\tif (parentApp.semanticObject && parentApp.action) {\n\t\t\t\t\t\t\t\t\tconst navigationService = await Container.getServiceAsync<Navigation>(\"Navigation\");\n\t\t\t\t\t\t\t\t\tconst intents: Intent[] = [\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\ttarget: {\n\t\t\t\t\t\t\t\t\t\t\t\tsemanticObject: parentApp.semanticObject,\n\t\t\t\t\t\t\t\t\t\t\t\taction: parentApp.action\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t];\n\t\t\t\t\t\t\t\t\tconst aResponses = (await navigationService.isNavigationSupported(intents)) as { supported: boolean }[];\n\t\t\t\t\t\t\t\t\treturn aResponses[0].supported || false;\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t},\n\t\t\t\t\taction: async (oCard: Card) => {\n\t\t\t\t\t\tconst parentApp = await this.cardHelperInstance.getParentAppDetails({\n\t\t\t\t\t\t\tdescriptorContent: oCard.getManifestEntry(\"/\") as ICardManifest\n\t\t\t\t\t\t});\n\t\t\t\t\t\tconst sShellHash = parentApp.semanticURL || parentApp.semanticObject;\n\t\t\t\t\t\tconst navigationService = await Container.getServiceAsync<Navigation>(\"Navigation\");\n\t\t\t\t\t\tawait navigationService.navigate({\n\t\t\t\t\t\t\ttarget: {\n\t\t\t\t\t\t\t\tshellHash: sShellHash\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t]\n\t\t});\n\t\truntimeHostCreated = true;\n\t}\n\n\t/**\n\t * Updates parameters for an old card extension\n\t * @private\n\t * @param {boolean} bOldCardExtension - Determines whether the card is using an old card extension.\n\t * @param {IcardActionEvent} oEvent - An event object\n\t * @param {ICardActionParameters} oParameters - Parameter object\n\t */\n\n\tprivate _manageOldCardExtension(bOldCardExtension: boolean, oEvent: IcardActionEvent, oParameters: ICardActionParameters) {\n\t\tif (bOldCardExtension) {\n\t\t\tconst oCardSV = new SelectionVariant();\n\t\t\tconst oCardParams = (oEvent.getParameter(\"card\") as Card).getCombinedParameters();\n\t\t\t(oCardParams?._relevantODataParameters as string[]).forEach((sParamName: string) => {\n\t\t\t\tif (oParameters.ibnParams) {\n\t\t\t\t\toParameters.ibnParams[sParamName] = oCardParams[sParamName];\n\t\t\t\t}\n\t\t\t});\n\t\t\t(oCardParams?._relevantODataFilters as string[]).forEach((sFilterName: string) => {\n\t\t\t\tconst oCardParamsFilterName = JSON.parse(oCardParams[sFilterName] as string) as {\n\t\t\t\t\tParameters: unknown;\n\t\t\t\t\tSelectOptions: { PropertyName: string; Ranges: { Sign: string; Option: string; Low: string }[] }[];\n\t\t\t\t};\n\t\t\t\tconst aSelectOptions = oCardParamsFilterName.SelectOptions[0];\n\t\t\t\tconst aRanges = aSelectOptions.Ranges;\n\t\t\t\tif (aRanges?.length === 1 && aRanges[0].Sign === \"I\" && aRanges[0].Option === \"EQ\") {\n\t\t\t\t\tif (oParameters.ibnParams) {\n\t\t\t\t\t\toParameters.ibnParams[sFilterName] = aRanges[0].Low;\n\t\t\t\t\t}\n\t\t\t\t} else if (aRanges?.length > 0) {\n\t\t\t\t\toCardSV.massAddSelectOption(sFilterName, aRanges);\n\t\t\t\t}\n\t\t\t});\n\t\t\tconst oTempParam = JSON.parse(oParameters?.ibnParams?.[\"sap-xapp-state-data\"] as string) as Record<string, unknown>;\n\t\t\toTempParam.selectionVariant = oCardSV.toJSONObject();\n\t\t\tif (oParameters.ibnParams) {\n\t\t\t\toParameters.ibnParams[\"sap-xapp-state-data\"] = JSON.stringify(oTempParam);\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Retrieves actions for a card based on its content type.\n\t *\n\t * @private\n\t * @param {IsapCard} manifest - manifest object\n\t */\n\tprivate getContentActions(manifest: IsapCard) {\n\t\tif (manifest.type === \"List\") {\n\t\t\treturn manifest?.content?.item?.actions;\n\t\t} else if (manifest.type === \"Table\") {\n\t\t\treturn manifest?.content?.row?.actions;\n\t\t} else {\n\t\t\treturn manifest?.content?.actions;\n\t\t}\n\t}\n\n\tprivate _importdone() {\n\t\tconst stateData = { status: true };\n\t\tthis.oEventBus.publish(\"importChannel\", \"cardsImported\", stateData);\n\t}\n\n\tprivate _refreshCardData(oCard: Card) {\n\t\tsap.ui.require([\"sap/insights/base/CacheData\"], (InsightsCacheData: InsightsCacheData) => {\n\t\t\tconst sCardId = (oCard.getManifestEntry(\"sap.app\") as IsapApp).id;\n\t\t\tconst cacheDataInstance = InsightsCacheData.getInstance();\n\t\t\tcacheDataInstance.clearCache(sCardId);\n\t\t\toCard.refreshData();\n\t\t});\n\t}\n\n\tprivate _setupHeader() {\n\t\tthis.menuItems?.forEach((menuItem) => this.addAggregation(\"menuItems\", menuItem));\n\t\tthis.actionButtons?.forEach((actionButton) => this.addAggregation(\"actionButtons\", actionButton));\n\t\tthis.setProperty(\"enableFullScreen\", true);\n\t}\n\n\tpublic async renderPanel(): Promise<void> {\n\t\tawait this.rerenderCards();\n\t}\n\n\tprivate async rerenderCards() {\n\t\ttry {\n\t\t\t// Enable Loader if container is present\n\t\t\tthis.cardsContainer?.setBusy(true);\n\t\t\t// Fetch Cards from insights service\n\t\t\tconst oUserVisibleCardModel = await this.cardHelperInstance?._getUserVisibleCardModel();\n\t\t\tconst aCards = oUserVisibleCardModel.getProperty(\"/cards\") as ICard[];\n\t\t\tthis._controlModel.setProperty(\"/userVisibleCards\", aCards);\n\t\t\tif (aCards?.length) {\n\t\t\t\tthis._showCards(aCards);\n\t\t\t} else {\n\t\t\t\tawait this._checkForRecommendationCards();\n\t\t\t}\n\t\t} catch (error) {\n\t\t\tif (error instanceof Error) {\n\t\t\t\tLog.error(error.message);\n\t\t\t}\n\t\t\tthis.fireHandleHidePanel();\n\t\t} finally {\n\t\t\tthis.cardsContainer?.setBusy(false);\n\t\t\tthis._adjustLayout();\n\t\t}\n\t}\n\n\tprivate async _checkForRecommendationCards() {\n\t\tthis.oPersonalizer = await this._getPersonalization();\n\t\tconst oPersData = await this.oPersonalizer.read();\n\t\tconst showRecommendationCards = oPersData?.[RECOMMENDATION_PATH] as boolean;\n\t\tif (showRecommendationCards === undefined) {\n\t\t\tconst aRecommendedCards = await this.appManagerInstance.getRecommenedCards();\n\t\t\tif (aRecommendedCards) {\n\t\t\t\treturn this._handleRecommendationCards(aRecommendedCards);\n\t\t\t}\n\t\t}\n\t\tthis.fireHandleHidePanel();\n\t}\n\n\t/**\n\t * Handle Recommendation Cards\n\t * @param aRecommendedCards\n\t * @private\n\t */\n\tprivate async _handleRecommendationCards(aRecommendedCards: ICard[]) {\n\t\tconst cardManifests = aRecommendedCards.map((oCard) => oCard.descriptorContent);\n\t\tawait this.cardHelperInstance?._createCards(cardManifests);\n\t\tawait this._updateRecommendationStatus();\n\t\treturn this.rerenderCards();\n\t}\n\n\t/**\n\t *\n\t * @private\n\t */\n\tprivate _showCards(aCards: ICard[]) {\n\t\tthis.fireHandleUnhidePanel();\n\t\t(this.getParent() as InsightsContainer)?.updatePanelsItemCount(aCards.length, this.getMetadata().getName());\n\t\tif (this.getProperty(\"title\")) {\n\t\t\tthis.setProperty(\n\t\t\t\t\"title\",\n\t\t\t\t`${this._i18nBundle?.getText(\"insights\")} ${this._i18nBundle.getText(\"insightsCardsTitle\")} (${aCards.length})`\n\t\t\t);\n\t\t}\n\t\t// Create GridList Wrapper for all cards if not created\n\t\tif (!this.cardsContainer) {\n\t\t\tif (this.getDeviceType() === DeviceType.Mobile) {\n\t\t\t\tthis.cardsContainer = new HeaderContainer(`${this.getId()}-insightsCardsMobileFlexBox`, {\n\t\t\t\t\tscrollStep: 0,\n\t\t\t\t\tscrollStepByItem: 1,\n\t\t\t\t\tgridLayout: true,\n\t\t\t\t\tscrollTime: 1000,\n\t\t\t\t\tshowDividers: false,\n\t\t\t\t\tvisible: this.getDeviceType() === DeviceType.Mobile\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tthis.cardsContainerSettings = new GridContainerSettings({\n\t\t\t\t\tcolumnSize: this.cardWidth,\n\t\t\t\t\trowSize: this.cardHeight,\n\t\t\t\t\tgap: \"1rem\"\n\t\t\t\t});\n\t\t\t\tthis.cardsContainer = new GridContainer(`${this.getId()}-insightsCardsFlexBox`, {})\n\t\t\t\t\t.addStyleClass(\"sapUiSmallMarginTop\")\n\t\t\t\t\t.setLayout(this.cardsContainerSettings);\n\t\t\t}\n\t\t\tthis.cardsContainer\n\t\t\t\t.addDragDropConfig(\n\t\t\t\t\tnew DragDropInfo({\n\t\t\t\t\t\tsourceAggregation: \"items\",\n\t\t\t\t\t\ttargetAggregation: \"items\",\n\t\t\t\t\t\tdropPosition: dnd.DropPosition.Between,\n\t\t\t\t\t\tdropLayout: dnd.DropLayout.Horizontal,\n\t\t\t\t\t\tdrop: (oEvent) => void this._handleCardsDnd(oEvent)\n\t\t\t\t\t})\n\t\t\t\t)\n\t\t\t\t.attachBrowserEvent(\"keydown\", (event: KeyboardEvent) => {\n\t\t\t\t\tconst disablenavigation = event.metaKey || event.ctrlKey;\n\t\t\t\t\tvoid attachKeyboardHandler(event, disablenavigation, (dragDropEvent: Event) => this._handleCardsDnd(dragDropEvent));\n\t\t\t\t});\n\n\t\t\tthis._addContent(this.cardsContainer);\n\t\t} else {\n\t\t\tconst sDefaultAggreName = this.cardsContainer.getMetadata().getDefaultAggregationName();\n\t\t\tthis.cardsContainer.removeAllAggregation(sDefaultAggreName);\n\t\t\tthis.aVisibleCardInstances = [];\n\t\t\tthis.cardsInViewport = [];\n\t\t}\n\n\t\taCards.forEach((oCard) => {\n\t\t\tconst manifest = oCard.descriptorContent;\n\t\t\t// Create Card Instance\n\t\t\tconst oUserCard = new Card({\n\t\t\t\twidth: this.cardWidth,\n\t\t\t\theight: this.cardHeight,\n\t\t\t\tmanifest,\n\t\t\t\thost: this.runtimeHost as Control\n\t\t\t});\n\n\t\t\tthis.aVisibleCardInstances.push(oUserCard);\n\n\t\t\tthis.addAggregation(\"cards\", oUserCard, true);\n\n\t\t\tconst items: Control[] = [oUserCard];\n\n\t\t\t// Add overlay in case of List and Table Card\n\t\t\tconst sType = manifest[\"sap.card\"].type;\n\t\t\tif (sType === \"Table\" || sType === \"List\") {\n\t\t\t\tconst overlay = new HBox({\n\t\t\t\t\twidth: this.cardWidth,\n\t\t\t\t\theight: \"2rem\"\n\t\t\t\t}).addStyleClass(\"insightsCardOverflowTop\");\n\t\t\t\tconst overlayHBoxWrapper = new HBox({\n\t\t\t\t\theight: \"0\"\n\t\t\t\t}).addStyleClass(\"sapMFlexBoxJustifyCenter\");\n\t\t\t\toverlayHBoxWrapper.addItem(overlay);\n\t\t\t\titems.push(overlayHBoxWrapper);\n\t\t\t}\n\n\t\t\t// Create Wrapper VBox for Card\n\t\t\tconst oPreviewVBox = new VBox({\n\t\t\t\tdirection: \"Column\",\n\t\t\t\tjustifyContent: \"Center\",\n\t\t\t\titems: items\n\t\t\t});\n\n\t\t\t// add VBox as item to GridList\n\t\t\tconst sDefaultAggreName = this.cardsContainer.getMetadata().getDefaultAggregationName();\n\t\t\tthis.cardsContainer.addAggregation(sDefaultAggreName, oPreviewVBox);\n\t\t});\n\t\tthis.cardsContainer.setBusy(false);\n\t}\n\n\tprivate _handleEditCards(event: Event) {\n\t\t/* If called from Panel Header event.source() will return TilesPanel, if called from Insights Container event.source() will return InsightsContainer.\n\t\t_getLayout is available at Container Level*/\n\t\tlet parent: ManagedObject = event.getSource<CardsPanel>().getParent() || this;\n\t\tif (parent?.isA(\"sap.cux.home.CardsPanel\")) {\n\t\t\tparent = parent.getParent() as ManagedObject;\n\t\t}\n\t\t(parent as InsightsContainer)?._getLayout().openSettingsDialog(SETTINGS_PANELS_KEYS.INSIGHTS_CARDS);\n\t}\n\n\tpublic handleRemoveActions() {\n\t\tthis.setProperty(\"title\", \"\");\n\t\tthis.setProperty(\"enableSettings\", false);\n\t\tthis.setProperty(\"enableFullScreen\", false);\n\t\tthis.removeAllAggregation(\"actionButtons\");\n\t\tthis.removeAllAggregation(\"menuItems\");\n\t}\n\n\tpublic handleAddActions() {\n\t\tthis.setProperty(\n\t\t\t\"title\",\n\t\t\t`${this._i18nBundle?.getText(\"insights\")} ${this._i18nBundle.getText(\"insightsCardsTitle\")} (${(this._controlModel.getProperty(\"/userVisibleCards\") as ICard[])?.length})`\n\t\t);\n\t\tthis.setProperty(\"enableSettings\", true);\n\t\tthis.setProperty(\"enableFullScreen\", true);\n\t\tthis._setupHeader();\n\t}\n\n\tprivate refreshCards() {\n\t\t// This should be done via Host once implemented\n\t\tthis.aVisibleCardInstances.forEach((card) => card.refreshData());\n\t}\n\n\tprivate async _handleCardsDnd(oEvent: Event<DropInfo$DropEventParameters>) {\n\t\tconst sInsertPosition = oEvent.getParameter(\"dropPosition\") as string,\n\t\t\toDragItem = oEvent.getParameter(\"draggedControl\") as Control,\n\t\t\tiDragItemIndex = (oDragItem.getParent() as GridContainer)?.indexOfItem(oDragItem),\n\t\t\toDropItem = oEvent.getParameter(\"droppedControl\") as Control,\n\t\t\tiDropItemIndex = (oDragItem.getParent() as GridContainer).indexOfItem(oDropItem);\n\n\t\tthis.cardsContainer?.setBusy(true);\n\t\t// take the moved item from dragIndex and add to dropindex\n\t\ttry {\n\t\t\tif (!(this._controlModel.getProperty(\"/userAllCards\") as ICard[]).length) {\n\t\t\t\tconst userAllCardsModel = await this.cardHelperInstance._getUserAllCardModel();\n\t\t\t\tthis._controlModel.setProperty(\"/userAllCards\", userAllCardsModel.getProperty(\"/cards\"));\n\t\t\t\tawait this.updateCardList(sInsertPosition, iDropItemIndex, iDragItemIndex);\n\t\t\t} else {\n\t\t\t\tawait this.updateCardList(sInsertPosition, iDropItemIndex, iDragItemIndex);\n\t\t\t}\n\t\t} catch (error) {\n\t\t\tif (error instanceof Error) {\n\t\t\t\tLog.error(error.message);\n\t\t\t}\n\t\t\tthis.cardsContainer?.setBusy(false);\n\t\t}\n\t}\n\n\tprivate async updateCardList(sInsertPosition: string, iDropItemIndex: number, iDragItemIndex: number) {\n\t\tconst aUserVisibleCards = this._controlModel.getProperty(\"/userVisibleCards\") as ICard[],\n\t\t\taUserAllCards = this._controlModel.getProperty(\"/userAllCards\") as ICard[],\n\t\t\tsDragedPositionRank = aUserVisibleCards[iDragItemIndex]?.rank,\n\t\t\tsDropedPositionRank = aUserVisibleCards[iDropItemIndex]?.rank;\n\t\tlet iUpdatedDragItemIndex = aUserAllCards.findIndex((oCard: ICard) => oCard.rank === sDragedPositionRank),\n\t\t\tiUpdatedDropItemIndex = aUserAllCards.findIndex((oCard: ICard) => oCard.rank === sDropedPositionRank);\n\n\t\tif (\n\t\t\t(sInsertPosition === \"Before\" && iDragItemIndex === iDropItemIndex - 1) ||\n\t\t\t(sInsertPosition === \"After\" && iDragItemIndex === iDropItemIndex + 1) ||\n\t\t\tiDragItemIndex === iDropItemIndex\n\t\t) {\n\t\t\tthis.cardsContainer?.setBusy(false);\n\t\t\treturn;\n\t\t}\n\t\tif (sInsertPosition === \"Before\" && iUpdatedDragItemIndex < iUpdatedDropItemIndex) {\n\t\t\tiUpdatedDropItemIndex--;\n\t\t} else if (sInsertPosition === \"After\" && iUpdatedDragItemIndex > iUpdatedDropItemIndex) {\n\t\t\tiUpdatedDropItemIndex++;\n\t\t}\n\t\tif (iUpdatedDragItemIndex !== iUpdatedDropItemIndex) {\n\t\t\tconst aUpdatedCards = this.cardHelperInstance.handleDndCardsRanking(\n\t\t\t\tiUpdatedDragItemIndex,\n\t\t\t\tiUpdatedDropItemIndex,\n\t\t\t\taUserAllCards\n\t\t\t);\n\t\t\tawait this.cardHelperInstance._updateMultipleCards(aUpdatedCards, \"PUT\");\n\t\t\tthis._sortCardsOnRank(aUserAllCards);\n\t\t\tthis._controlModel.setProperty(\"/userAllCards\", aUserAllCards);\n\t\t\tthis._controlModel.setProperty(\n\t\t\t\t\"/userVisibleCards\",\n\t\t\t\taUserAllCards.filter((oCard: ICard) => oCard.visibility)\n\t\t\t);\n\t\t\tawait this.rerenderCards();\n\t\t} else {\n\t\t\tthis.cardsContainer?.setBusy(false);\n\t\t}\n\t}\n\n\tprivate _sortCardsOnRank(aCards: ICard[]) {\n\t\t// Sort Cards based on it rank property where rank is a alphanumeric string\n\t\taCards.sort((a, b) => {\n\t\t\tif (a.rank && b.rank) {\n\t\t\t\tif (a.rank < b.rank) {\n\t\t\t\t\treturn -1;\n\t\t\t\t} else if (a.rank > b.rank) {\n\t\t\t\t\treturn 1;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn 0;\n\t\t});\n\t}\n\n\tprivate _getPersonalization() {\n\t\tconst persContainerId = PersonalisationUtils.getPersContainerId(this);\n\t\tconst ownerComponent = PersonalisationUtils.getOwnerComponent(this) as Component;\n\t\treturn UShellPersonalizer.getInstance(persContainerId, ownerComponent);\n\t}\n\n\t/**\n\t * Updates the recommendation status based on the feature toggle.\n\t * @returns {Promise} A promise that resolves when the recommendation status is updated.\n\t */\n\tprivate async _updateRecommendationStatus() {\n\t\tconst bRecommendationEnabled = await this.appManagerInstance.isFeatureEnabled(FEATURE_TOGGLES.RECOMMENDATION);\n\t\tif (bRecommendationEnabled) {\n\t\t\tif (!this.oPersonalizer) {\n\t\t\t\tthis.oPersonalizer = await this._getPersonalization();\n\t\t\t}\n\t\t\tlet oPersData = await this.oPersonalizer.read();\n\t\t\tif (!oPersData) {\n\t\t\t\toPersData = {};\n\t\t\t}\n\t\t\toPersData.showRecommendation = true;\n\t\t\treturn this.oPersonalizer.write(oPersData);\n\t\t}\n\t}\n\n\t/**\n\t * Calculates the number of visible cards that can fit within the available width of the parent container.\n\t *\n\t * @private\n\t * @returns {number} - The number of visible cards.\n\t */\n\tprivate _calculateVisibleCardCount() {\n\t\tconst pageDomRef = (this.getParent() as InsightsContainer)._getLayout().getDomRef();\n\t\tconst deviceType = this.getDeviceType();\n\t\tlet count = 1;\n\n\t\tif (pageDomRef) {\n\t\t\tconst sectionDomRef = pageDomRef.childNodes[0] as Element;\n\t\t\tconst domProperties = fetchElementProperties(sectionDomRef, [\"width\", \"padding-left\", \"padding-right\"]);\n\t\t\tconst iAvailableWidth = domProperties.width - domProperties[\"padding-left\"] - domProperties[\"padding-right\"];\n\t\t\tlet cardWidth = deviceType === DeviceType.Mobile ? 17 : this._calculateCardWidth(iAvailableWidth);\n\n\t\t\t// Calculate and log the number of cards that can fit\n\t\t\tcount =\n\t\t\t\tdeviceType === DeviceType.Mobile ? this.aVisibleCardInstances.length : Math.floor(iAvailableWidth / (cardWidth * 16 + 14));\n\t\t\tthis.cardWidth = `${cardWidth}rem`;\n\t\t}\n\n\t\treturn count;\n\t}\n\n\t/**\n\t * Calculates the optimal card width based on the given container width.\n\t *\n\t * @param {number} containerWidth - The width of the container in which the cards will be placed.\n\t * @returns {number} - The calculated card width in rem units.\n\t */\n\tprivate _calculateCardWidth(containerWidth: number): number {\n\t\tconst minWidth = 304;\n\t\tconst maxWidth = 352;\n\t\tconst margin = 14;\n\t\tlet count = 1;\n\t\tlet cardWidth = minWidth;\n\n\t\t//calculate the maximum number of cards that can fit in the container within the range of min and max width\n\t\twhile (containerWidth / count >= minWidth + margin) {\n\t\t\tcardWidth = containerWidth / count;\n\t\t\tcount += 1;\n\t\t}\n\t\tcardWidth -= margin;\n\t\tcardWidth = cardWidth > maxWidth ? maxWidth : cardWidth;\n\t\treturn cardWidth / 16;\n\t}\n\n\t/**\n\t * Adjusts the layout of the cards panel based on the current layout and device type.\n\t *\n\t * @private\n\t * @override\n\t */\n\tpublic _adjustLayout() {\n\t\tconst layout = (this.getParent() as InsightsContainer)?._getLayout();\n\t\tconst isFullScreenEnabled = this.getProperty(\"enableFullScreen\") as boolean;\n\t\tlet cardWidth = this.cardWidth;\n\n\t\tif (layout && isFullScreenEnabled) {\n\t\t\tconst isElementExpanded = layout._getCurrentExpandedElementName() === this.getProperty(\"fullScreenName\");\n\t\t\tconst cardCount = isElementExpanded ? this.aVisibleCardInstances.length : this._calculateVisibleCardCount();\n\n\t\t\t// update cards in viewport\n\t\t\tif (cardCount !== this.cardsInViewport.length) {\n\t\t\t\tthis.cardsInViewport = this.aVisibleCardInstances.slice(0, cardCount);\n\n\t\t\t\tconst sDefaultAggreName = this.cardsContainer.getMetadata().getDefaultAggregationName();\n\t\t\t\tthis.cardsContainer.removeAllAggregation(sDefaultAggreName);\n\t\t\t\tthis.cardsInViewport.forEach((card) => {\n\t\t\t\t\tconst manifest = card.getManifest() as ICardManifest;\n\t\t\t\t\tconst sType = manifest[\"sap.card\"]?.type;\n\t\t\t\t\tlet overlayHBoxWrapper!: HBox;\n\t\t\t\t\tif (sType === \"Table\" || sType === \"List\") {\n\t\t\t\t\t\tconst overlay = new HBox({\n\t\t\t\t\t\t\twidth: this.cardWidth,\n\t\t\t\t\t\t\theight: \"2rem\"\n\t\t\t\t\t\t}).addStyleClass(\"insightsCardOverflowLayer insightsCardOverflowTop\");\n\t\t\t\t\t\toverlayHBoxWrapper = new HBox({\n\t\t\t\t\t\t\theight: \"0\"\n\t\t\t\t\t\t}).addStyleClass(\"sapMFlexBoxJustifyCenter\");\n\t\t\t\t\t\toverlayHBoxWrapper.addItem(overlay);\n\t\t\t\t\t}\n\t\t\t\t\tconst cardWrapper = new VBox({\n\t\t\t\t\t\tdirection: \"Column\",\n\t\t\t\t\t\tjustifyContent: \"Center\",\n\t\t\t\t\t\titems: [card]\n\t\t\t\t\t});\n\t\t\t\t\tif (overlayHBoxWrapper) {\n\t\t\t\t\t\tcardWrapper.addItem(overlayHBoxWrapper);\n\t\t\t\t\t}\n\t\t\t\t\tconst sDefaultAggreName = this.cardsContainer.getMetadata().getDefaultAggregationName();\n\t\t\t\t\tthis.cardsContainer.addAggregation(sDefaultAggreName, cardWrapper);\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t// show/hide Full Screen Button if available\n\t\t\t(this.getParent() as InsightsContainer)?.toggleFullScreenElements(\n\t\t\t\tthis,\n\t\t\t\tthis.aVisibleCardInstances.length > cardCount,\n\t\t\t\tisElementExpanded\n\t\t\t);\n\t\t} else {\n\t\t\tthis.cardWidth = this.getDeviceType() === DeviceType.Mobile ? \"17rem\" : \"22rem\";\n\t\t}\n\n\t\t// update width of cards on resize\n\t\tif (cardWidth !== this.cardWidth) {\n\t\t\tthis.aVisibleCardInstances.forEach((card) => card.setWidth(this.cardWidth));\n\t\t\tthis.cardsContainerSettings?.setColumnSize(this.cardWidth);\n\t\t}\n\t}\n}\n"],"mappings":"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","ignoreList":[],"sourceRoot":""}},{"offset":{"line":122,"column":0},"map":{"version":3,"file":"ErrorPanel.js","names":["sap","ui","define","IllustratedMessage","VBox","__BasePanel","_interopRequireDefault","obj","__esModule","default","BasePanel","ErrorPanel","extend","metadata","library","properties","messageTitle","type","group","defaultValue","messageDescription","actionButton","constructor","_constructor","id","settings","BasePanel.prototype.constructor.call","this","getData","_getData","setProperty","_oWrapperNoCardsVBox","oIllustratedMessage","illustrationSize","illustrationType","title","getProperty","description","backgroundDesign","addStyleClass","oActionButton","insertAdditionalContent","addItem","_addContent"],"sources":["ErrorPanel.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\n\nimport Button from \"sap/m/Button\";\nimport IllustratedMessage from \"sap/m/IllustratedMessage\";\nimport VBox from \"sap/m/VBox\";\nimport { MetadataOptions } from \"sap/ui/core/Component\";\nimport BasePanel from \"./BasePanel\";\nimport { $ErrorPanelSettings } from \"./ErrorPanel\";\n\n/**\n *\n * Panel class for displaying Error Message.\n *\n * @extends sap.cux.home.BasePanel\n *\n * @author SAP SE\n * @version 0.0.1\n * @since 1.122.0\n *\n * @internal\n * @experimental Since 1.122\n * @private\n *\n * @alias sap.cux.home.ErrorPanel\n */\n\nexport default class ErrorPanel extends BasePanel {\n\tconstructor(idOrSettings?: string | $ErrorPanelSettings);\n\tconstructor(id?: string, settings?: $ErrorPanelSettings);\n\tconstructor(id?: string, settings?: $ErrorPanelSettings) {\n\t\tsuper(id, settings);\n\t}\n\n\tstatic readonly metadata: MetadataOptions = {\n\t\tlibrary: \"sap.cux.home\",\n\t\tproperties: {\n\t\t\tmessageTitle: { type: \"string\", group: \"Misc\", defaultValue: \"\" },\n\t\t\tmessageDescription: { type: \"string\", group: \"Misc\", defaultValue: \"\" },\n\t\t\tactionButton: { type: \"sap.m.Button\", group: \"Misc\" }\n\t\t}\n\t};\n\tprivate _oWrapperNoCardsVBox!: VBox;\n\n\tgetData() {\n\t\tthis.setProperty(\"enableSettings\", false);\n\t\tif (!this._oWrapperNoCardsVBox) {\n\t\t\tconst oIllustratedMessage = new IllustratedMessage({\n\t\t\t\tillustrationSize: \"Spot\",\n\t\t\t\tillustrationType: \"sapIllus-AddDimensions\",\n\t\t\t\ttitle: this.getProperty(\"messageTitle\") as string,\n\t\t\t\tdescription: this.getProperty(\"messageDescription\") as string\n\t\t\t});\n\n\t\t\tthis._oWrapperNoCardsVBox = new VBox({\n\t\t\t\tbackgroundDesign: \"Solid\"\n\t\t\t}).addStyleClass(\"sapUiSmallMarginTop\");\n\t\t\tconst oActionButton = this.getProperty(\"actionButton\") as Button;\n\t\t\tif (oActionButton) {\n\t\t\t\toIllustratedMessage.insertAdditionalContent(oActionButton, 0);\n\t\t\t}\n\t\t\tthis._oWrapperNoCardsVBox.addItem(oIllustratedMessage);\n\t\t\tthis._addContent(this._oWrapperNoCardsVBox);\n\t\t}\n\t}\n}\n"],"mappings":"AAAA;;;;AAAA,aAAAA,IAAAC,GAAAC,OAAA,iEAAAC,EAAAC,EAAAC,GAAA,sBAAAC,EAAAC,GAAA,OAAAA,KAAAC,mBAAAD,EAAAE,UAAA,YAAAF,EAAAE,QAAAF,CAAA,OASOG,EAASJ,EAAAD,GAGhB,MAiBqBM,EAAmBD,EAASE,OAAA,2BAOhCC,SAA4B,CAC3CC,QAAS,eACTC,WAAY,CACXC,aAAc,CAAEC,KAAM,SAAUC,MAAO,OAAQC,aAAc,IAC7DC,mBAAoB,CAAEH,KAAM,SAAUC,MAAO,OAAQC,aAAc,IACnEE,aAAc,CAAEJ,KAAM,eAAgBC,MAAO,UAT/CI,YAAW,SAAAC,EAACC,EAAaC,GACxBC,6BAAAC,KAAMH,EAAIC,EACX,EAYAG,QAAO,SAAAC,IACNF,KAAKG,YAAY,iBAAkB,OACnC,IAAKH,KAAKI,qBAAsB,CAC/B,MAAMC,EAAsB,IAAI7B,EAAmB,CAClD8B,iBAAkB,OAClBC,iBAAkB,yBAClBC,MAAOR,KAAKS,YAAY,gBACxBC,YAAaV,KAAKS,YAAY,wBAG/BT,KAAKI,qBAAuB,IAAI3B,EAAK,CACpCkC,iBAAkB,UAChBC,cAAc,uBACjB,MAAMC,EAAgBb,KAAKS,YAAY,gBACvC,GAAII,EAAe,CAClBR,EAAoBS,wBAAwBD,EAAe,EAC5D,CACAb,KAAKI,qBAAqBW,QAAQV,GAClCL,KAAKgB,YAAYhB,KAAKI,qBACvB,CACD,IAAC,OArCmBpB,CAAU","ignoreList":[],"sourceRoot":""}},{"offset":{"line":129,"column":0},"map":{"version":3,"file":"FavAppPanel.js","names":["sap","ui","define","Log","GridContainer","GridContainerSettings","Button","ColorPalette","ColorPalettePopover","CustomListItem","Dialog","HBox","IllustratedMessage","Input","Label","List","MessageBox","MessageStrip","MessageToast","NavContainer","ObjectIdentifier","Page","Popover","ScrollContainer","SearchField","StandardListItem","Text","Title","Toolbar","ToolbarSpacer","VBox","sap_m_library","Event","Element","EventBus","Icon","DragDropInfo","sap_ui_core_library","MessageType","Parameters","SimpleForm","sap_ui_layout_library","Config","Container","MyHomeImport","PageRuntime","___BaseApp","__BaseAppPersPanel","__Group","__MenuItem","___utils_Constants","__DataFormatUtils","___utils_DragDropUtils","___utils_FESRUtil","_interopRequireDefault","obj","__esModule","default","_catch","body","recover","result","e","then","ButtonType","_finallyRethrows","finalizer","bind","ListType","_iteratorSymbol","Symbol","iterator","_settle","pact","state","value","s","_Pact","v","o","observer","prototype","onFulfilled","onRejected","this","callback","_this","_isSettledPact","thenable","_forTo","array","check","i","reject","_cycle","length","PlacementType","_forOf","target","step","next","done","return","_fixup","TypeError","values","push","dnd","form","ActionsPopover","BaseAppPersPanel","Group","MenuItem","DEFAULT_BG_COLOR","END_USER_COLORS","MYHOME_PAGE_ID","DataFormatUtils","attachKeyboardHandler","addFESRId","addFESRSemanticStepName","_showAddApps","last","FavAppPanel","extend","constructor","apply","arguments","_selectedApps","_updateAppColorPersonalization","personalizations","updateConfig","visualization","color","appId","oldAppId","persConfig","sourceGroupId","sectionId","isSourceGroupDefault","isDefaultSection","personalizationIndex","_getPersonalizationIndex","isRecentlyAddedApp","BGColor","isSection","metadata","library","defaultAggregation","aggregations","apps","type","singularName","multiple","visibility","groups","init","_init","BaseAppPersPanel.prototype.init.call","setProperty","_i18nBundle","getText","_createActionButtons","_createHeaderMenuItems","_generateAppsWrapper","addDragDropConfig","getId","sourceAggregation","targetAggregation","dropPosition","DropPosition","OnOrBetween","dropLayout","DropLayout","Horizontal","drop","event","_onFavItemDrop","attachBrowserEvent","disablenavigation","metaKey","ctrlKey","dragDropEvent","_handleKeyboardMoveApp","oEventBus","getInstance","subscribe","sChannelId","sEventId","oData","aSections","forEach","oSection","Promise","resolve","appManagerInstance","addSection","id","title","preset","visualizations","_importdone","setImportButtonVisibility","attachNavigated","_selectedGroupId","_showGroupDetailDialog","document","addEventListener","_resetCutElement","stateData","status","publish","loadApps","_loadApps","_this2","fetchFavVizs","favoriteVisualizations","destroyAggregation","groupVisualizations","filter","map","groupVisualization","menuItems","_getGroupActions","_generateGroups","_setGroups","appVisualizations","appVisualization","_getAppActions","generateApps","setApps","_setGroupDetailDialogApps","container","getParent","toggleMenuListItem","_createGroupMenuItem","getApps","index","group","bgColor","icon","number","badge","groupId","press","_handleGroupPress","oMenuItem","addAggregation","getGroupId","isUngroupedApp","appActions","selectColorMenuItem","Navigation","_openColorPopover","_getAllowedMoveGroups","moveToMenuItem","_openMoveToGroupPopover","createGroupMenuItem","source","getSource","app","_openCreateGroupDialog","removeFromMyHomeMenuItem","_handleRemove","removeFromGroupMenuItem","_handleMoveToGroup","renameGroupMenuItem","_onRenameGroup","removeAllAppsMenuItem","_handleUngroupApps","groupActions","isPresetSection","deleteGroupMenuItem","_onDeleteGroup","_this3","_actionButtons","addAppsBtn","tooltip","text","navigateToAppFinder","actionButton","_validateAppsMigration","isImportEnabled","_createImportButton","_importButton","_openImportAppsDialog","insertAggregation","_setImportButtonVisibility","bVisible","setVisible","_menuItems","_handleAddFromInsights","addAppsMenuItem","find","item","addInsightsMenuItem","_getDragDropInfo","appGroupId","_this4","dragTile","getParameter","dropTile","dropControl","dragItemIndex","indexOfItem","dropItemIndex","dragItem","_getTileItem","dropItem","dragDropInfo","_temp3","_temp2","isA","_adjustAppDragDropInfo","_temp","_adjustGroupDragDropInfo","_this5","isUpdated","dragApp","dropApp","all","getVisualization","getUrl","_ref","dragVisualization","dropVisualization","RelativeDropPosition","Before","sectionIndex","After","tile","getItems","tileGroupId","data","_getGroup","getLeanURL","_this6","_getSections","sections","dropGroupIndex","findIndex","section","lastGroupIndex","getAggregation","_this7","_temp6","removeStyleClass","_temp5","On","_handleOnItemDrop","refresh","_temp4","_setBusy","_handleItemsReorder","_this8","_temp7","targetGroupId","undefined","_this9","isDragItemGroup","isDropItemGroup","_temp9","drapApp","_ref2","moveVisualization","sourceSectionIndex","sourceVisualizationIndex","visualizationIndex","targetSectionIndex","targetVisualizationIndex","_temp8","moveSection","_navigateToAppFinder","getServiceAsync","navigationService","navigationObject","pageID","sectionID","navigate","shellHash","JSON","stringify","pageRuntime","onImportDialogPress","skipAppsSelection","createGroupDialog","_generateCreateGroupDialog","appsWrapper","_controlMap","get","destroyItems","tiles","appCopy","clone","_onPress","_highlightApp","_getAppTile","_setAggregation","fireEvent","_updateSelectedAppCount","open","_closeCreateGroupDialog","close","_resetCreateGroupDialog","navContainer","_generateCreateGroupNavContainer","groupNameInput","searchField","setValue","to","getInitialPage","_setNoAppsSelectedError","_selectedGroupColor","_toggleNavButton","nextBtn","backBtn","createBtn","currentPageIndex","indexOfPage","getCurrentPage","getPages","set","_validateGroupName","_generateCreateGroupAppsPage","_highlightSelectedApps","back","_onPressGroupCreate","content","escapeHandler","contentHeight","contentWidth","buttons","addStyleClass","selectedApp","oTile","bIsSelected","hasStyleClass","oScrollContainer","_generateAppsScrollContainer","splice","oApp","toggleStyleClass","setHeight","layout","columnSize","gap","vertical","visible","height","oAppsCountContol","setText","initialPage","pages","_generateCreateGroupMainPage","width","required","liveChange","showHeader","enableScrolling","backgroundDesign","items","SimpleFormLayout","ResponsiveGridLayout","labelSpanS","labelSpanM","colors","oColor","colorSelect","_onColorSelect","_onCreateAppSearch","Error","showIcon","_generateCreateGroupErrorMsg","illustrationSize","illustrationType","description","_getLegendColor","key","error","messageStrip","groupName","getValue","trim","setValueState","setValueStateText","selectedApps","tilesContainer","some","searchQuery","searchExpression","RegExp","test","getHeader","filteredTiles","getVisible","hasFilteredApps","_this10","_temp11","_temp10","_createGroup","groupColor","_getGroupColor","show","of","offset","params","_this11","getSectionVisualizations","sectionVisualizations","reduce","selectedVisualizations","sectionVisualization","oSectionViz","url","sectionProperties","viz","visualizationsToBeDeleted","oViz","duplicateVisualizationIds","duplicateApps","concat","removeVisualizations","vizIds","defaultSection","_updateAppPersonalization","_updateGroupPersonalization","defaultColor","firstApp","setDefaultColor","getBgColor","colorPopoverId","_currentItem","colorPopover","showDefaultColorButton","showMoreColorsButton","showRecentColorsSection","_closeActionsPopover","selectedColor","_handleColorSelect","_oPopover","setPlacement","HorizontalPreferredRight","openBy","_this12","isGroupedApp","_refreshGroupDetailDialog","_applyUngroupedTileColor","_temp12","groupIconControl","setColor","fetchTileVisualization","updatedTileIndex","setBackgroundColor","allowedMoveGroups","allowedMoveGroup","busy","_generateGroupDetailDialog","_generateAddFromInsightsDialog","oControl","setBusy","BaseAppPersPanel.prototype.setBusy.call","sourceGroup","popoverId","list","moveToGroupPopover","itemPress","placement","removeAllItems","targetGroup","addItem","getTitle","_this13","lastAppInGroup","message","actionText","messageIcon","QUESTION","WARNING","actions","Action","CANCEL","emphasizedAction","onClose","action","_temp13","_removeApp","_closeGroupDetailDialog","_refreshAllPanels","_this14","_temp15","_deleteGroup","_temp14","_deletePersonalization","_this15","isLastAppInGroup","_temp16","confirmationMessage","confirmationTitle","_moveAppAndHandleGroupChanges","_this16","sTargetGroupTile","_temp19","_moveAppToGroup","_temp18","sMsg","_temp17","_wasThrown","_result","updatedApp","isRemove","groupApps","updatedAppIndex","groupApp","destroy","_this17","_ref3","sourceVisualization","isTargetGroupDefault","_temp24","_temp23","_temp22","_moveAppToDefaultGroup","_temp21","_temp20","_removeDuplicateVisualizations","_this18","_addVisualization","_temp25","_this19","vizIdsToBeDeleted","_temp26","_ungroupApps","_this20","deleteAction","moveAppAction","_temp27","_this21","updatedSections","_temp29","_temp28","editMode","_this22","dialog","name","_setGroupNameControl","_this23","_temp30","_applyGroupedAppsPersonalization","_dispatchAppsLoadedEvent","_applyTilesPersonalization","src","size","oGroupNameInput","onsapfocusleave","_onGroupEditName","Between","endButton","customHeader","oPopover","groupDetailDialog","updatedTitle","_this24","_temp32","oldTitle","_temp31","_renameGroup","pagesService","pageIndex","getPageIndex","getModel","getProperty","groupIndex","_temp33","renameSection","groupTitle","groupTitleControl","groupInputControl","setInitialFocus","setAddBtnEnabled","selectedItems","_getSelectedInsights","setEnabled","getAppFinderBtn","btnType","appsAppFinder","_closeAddFromInsightsDialog","Default","mode","selectionChange","_addFromInsights","enabled","addStaticTiles","wrapping","justifyContent","alignItems","Transparent","_this25","_getInsightTilesToAdd","appsToAdd","_generateInsightListItems","listItems","backgroundColor","subtitle","vizId","_this26","fetchInsightApps","_ref4","insightsApps","favoriteApps","insightsApp","isCount","isSmartBusinessTile","iAppIndex","favoriteApp","_filterDuplicateVizs","removeSelections","getSelectedItems","_this27","_temp35","_temp34","selectedItem","addVisualization","updateConfigs","_this28","_getAppPersonalization","_updateMoveAppPersonalization","setFavAppsPersonalization","sourcePersonalizationIndex","newPersonalization","iTargetPersonalizationIndex","_this29","updatedPersonalization","appPersonalization","personalization","isBookmark","addBookMark","_this30","_temp36","deleteSection","personalizationConfig","_this31","_this32","currentItem","closestTo","firstElementChild","_temp38","_cutApp","$","css","_oMoreIcon","_temp37","draggedControl","droppedControl","appsWrapperId","includes","generateIllustratedMessage","_generateIllustratedMessage","illustratedMessage","BaseAppPersPanel.prototype.generateIllustratedMessage.call","setDescription","addAdditionalContent"],"sources":["FavAppPanel.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\n\nimport Log from \"sap/base/Log\";\nimport GridContainer from \"sap/f/GridContainer\";\nimport GridContainerSettings from \"sap/f/GridContainerSettings\";\nimport Button from \"sap/m/Button\";\nimport ColorPalette, { ColorPalette$ColorSelectEvent } from \"sap/m/ColorPalette\";\nimport ColorPalettePopover from \"sap/m/ColorPalettePopover\";\nimport CustomListItem from \"sap/m/CustomListItem\";\nimport Dialog from \"sap/m/Dialog\";\nimport GenericTile from \"sap/m/GenericTile\";\nimport HBox from \"sap/m/HBox\";\nimport IllustratedMessage from \"sap/m/IllustratedMessage\";\nimport Input from \"sap/m/Input\";\nimport Label from \"sap/m/Label\";\nimport List from \"sap/m/List\";\nimport MessageBox from \"sap/m/MessageBox\";\nimport MessageStrip from \"sap/m/MessageStrip\";\nimport MessageToast from \"sap/m/MessageToast\";\nimport NavContainer from \"sap/m/NavContainer\";\nimport ObjectIdentifier from \"sap/m/ObjectIdentifier\";\nimport Page from \"sap/m/Page\";\nimport Popover from \"sap/m/Popover\";\nimport ScrollContainer from \"sap/m/ScrollContainer\";\nimport SearchField from \"sap/m/SearchField\";\nimport StandardListItem from \"sap/m/StandardListItem\";\nimport Text from \"sap/m/Text\";\nimport Title from \"sap/m/Title\";\nimport Toolbar from \"sap/m/Toolbar\";\nimport ToolbarSpacer from \"sap/m/ToolbarSpacer\";\nimport VBox from \"sap/m/VBox\";\nimport { ButtonType, ListType, PlacementType } from \"sap/m/library\";\nimport Event from \"sap/ui/base/Event\";\nimport { MetadataOptions } from \"sap/ui/base/ManagedObject\";\nimport Control from \"sap/ui/core/Control\";\nimport Element from \"sap/ui/core/Element\";\nimport EventBus from \"sap/ui/core/EventBus\";\nimport Icon from \"sap/ui/core/Icon\";\nimport DragDropInfo from \"sap/ui/core/dnd/DragDropInfo\";\nimport { DropInfo$DropEventParameters } from \"sap/ui/core/dnd/DropInfo\";\nimport { dnd } from \"sap/ui/core/library\";\nimport MessageType from \"sap/ui/core/message/MessageType\";\nimport Parameters from \"sap/ui/core/theming/Parameters\";\nimport SimpleForm from \"sap/ui/layout/form/SimpleForm\";\nimport { form } from \"sap/ui/layout/library\";\nimport Config from \"sap/ushell/Config\";\nimport Container from \"sap/ushell/Container\";\nimport MyHomeImport from \"sap/ushell/components/pages/MyHomeImport\";\nimport PageRuntime from \"sap/ushell/components/pages/controller/PageRuntime.controller\";\nimport Navigation from \"sap/ushell/services/Navigation\";\nimport Pages from \"sap/ushell/services/Pages\";\nimport App from \"./App\";\nimport AppsContainer from \"./AppsContainer\";\nimport { ActionsPopover } from \"./BaseApp\";\nimport BaseAppPersPanel from \"./BaseAppPersPanel\";\nimport BaseContainer from \"./BaseContainer\";\nimport Group, { Group$PressEvent } from \"./Group\";\nimport MenuItem from \"./MenuItem\";\nimport {\n\tIAppPersonalization,\n\tIAppPersonalizationConfig,\n\tICustomVisualization,\n\tIDragDropInfo,\n\tISection,\n\tISectionAndVisualization,\n\tIUpdatePersonalizationConfig\n} from \"./interface/AppsInterface\";\nimport { DEFAULT_BG_COLOR, END_USER_COLORS, MYHOME_PAGE_ID } from \"./utils/Constants\";\nimport DataFormatUtils from \"./utils/DataFormatUtils\";\nimport { attachKeyboardHandler } from \"./utils/DragDropUtils\";\nimport { addFESRId, addFESRSemanticStepName } from \"./utils/FESRUtil\";\nconst _showAddApps = () => {\n\treturn (Config.last(\"/core/shell/enablePersonalization\") || Config.last(\"/core/catalog/enabled\")) as boolean;\n};\n\n/**\n *\n * Provides the FavAppPanel Class.\n *\n * @extends sap.cux.home.BaseAppPersPanel\n *\n * @author SAP SE\n * @version 0.0.1\n * @since 1.121.0\n *\n * @private\n * @experimental\n * @hidden\n *\n * @alias sap.cux.home.FavAppPanel\n */\nexport default class FavAppPanel extends BaseAppPersPanel {\n\tprivate _selectedApps: App[] = [];\n\tprivate _selectedGroupColor: string | undefined;\n\tprivate _selectedGroupId: string | undefined;\n\tprivate _currentItem!: App | Group;\n\tprivate _cutApp: GenericTile | undefined;\n\tprivate oEventBus!: EventBus;\n\tprivate _importButton!: Button;\n\tprivate _createGroupMenuItem!: MenuItem;\n\n\tstatic readonly metadata: MetadataOptions = {\n\t\tlibrary: \"sap.cux.home\",\n\t\tdefaultAggregation: \"apps\",\n\t\taggregations: {\n\t\t\t/**\n\t\t\t * Apps aggregation for Favorite apps\n\t\t\t */\n\t\t\tapps: { type: \"sap.cux.home.App\", singularName: \"app\", multiple: true, visibility: \"hidden\" },\n\t\t\t/**\n\t\t\t * Group aggregation for Favorite apps\n\t\t\t */\n\t\t\tgroups: { type: \"sap.cux.home.Group\", singularName: \"group\", multiple: true, visibility: \"hidden\" }\n\t\t}\n\t};\n\n\tpublic init() {\n\t\tsuper.init();\n\t\t//Configure Header\n\t\tthis.setProperty(\"key\", \"favApps\");\n\t\tthis.setProperty(\"title\", this._i18nBundle.getText(\"favoritesTab\"));\n\t\tthis.setProperty(\"tooltip\", this._i18nBundle.getText(\"favAppsInfo\"));\n\t\t//Setup Action Buttons\n\t\tvoid this._createActionButtons();\n\t\t//Setup Menu Items\n\t\tthis._createHeaderMenuItems();\n\t\t//add drag and drop config\n\t\tthis._generateAppsWrapper()\n\t\t\t?.addDragDropConfig(\n\t\t\t\tnew DragDropInfo(`${this.getId()}-dragDropInfo`, {\n\t\t\t\t\tsourceAggregation: \"items\",\n\t\t\t\t\ttargetAggregation: \"items\",\n\t\t\t\t\tdropPosition: dnd.DropPosition.OnOrBetween,\n\t\t\t\t\tdropLayout: dnd.DropLayout.Horizontal,\n\t\t\t\t\tdrop: (event) => {\n\t\t\t\t\t\tvoid this._onFavItemDrop(event);\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t)\n\t\t\t.attachBrowserEvent(\"keydown\", (event: KeyboardEvent) => {\n\t\t\t\tconst disablenavigation = event.metaKey || event.ctrlKey;\n\t\t\t\tvoid attachKeyboardHandler(event, disablenavigation, (dragDropEvent: Event) => this._onFavItemDrop(dragDropEvent));\n\t\t\t})\n\t\t\t.attachBrowserEvent(\"keydown\", (event: KeyboardEvent) => this._handleKeyboardMoveApp(event));\n\n\t\tthis.oEventBus = EventBus.getInstance();\n\t\t// Subscribe to the event\n\t\tthis.oEventBus.subscribe(\n\t\t\t\"importChannel\",\n\t\t\t\"appsImport\",\n\t\t\t(sChannelId?: string, sEventId?: string, oData?) => {\n\t\t\t\tconst aSections = oData as ISectionAndVisualization[];\n\n\t\t\t\taSections.forEach(async (oSection) => {\n\t\t\t\t\tawait this.appManagerInstance.addSection({\n\t\t\t\t\t\tid: oSection.id,\n\t\t\t\t\t\ttitle: oSection.title,\n\t\t\t\t\t\tdefault: oSection.default,\n\t\t\t\t\t\tpreset: oSection.preset,\n\t\t\t\t\t\tvisualizations: oSection.visualizations\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t\tthis._importdone();\n\t\t\t},\n\t\t\tthis\n\t\t);\n\t\tthis.oEventBus.subscribe(\n\t\t\t\"importChannel\",\n\t\t\t\"resetImported\",\n\t\t\t() => {\n\t\t\t\tthis.setImportButtonVisibility(true);\n\t\t\t},\n\t\t\tthis\n\t\t);\n\t\tthis.attachNavigated(() => {\n\t\t\t// if while navigating to different page, a group detail dialog was open, then while navigating back group detail dialog should be in open state.\n\t\t\tif (this._selectedGroupId) {\n\t\t\t\tvoid this._showGroupDetailDialog(this._selectedGroupId);\n\t\t\t}\n\t\t});\n\n\t\tdocument.addEventListener(\"click\", (event) => this._resetCutElement(event));\n\t\tdocument.addEventListener(\"keydown\", (event) => this._resetCutElement(event));\n\t}\n\n\tprivate _importdone() {\n\t\tconst stateData = { status: true };\n\t\tthis.oEventBus.publish(\"importChannel\", \"appsImported\", stateData);\n\t}\n\n\t/**\n\t * Fetch fav apps and set apps aggregation\n\t * @private\n\t */\n\tpublic async loadApps() {\n\t\tconst favoriteVisualizations = await this.appManagerInstance.fetchFavVizs(true, false);\n\t\t//Create groups\n\t\tthis.destroyAggregation(\"groups\", true);\n\t\tconst groupVisualizations = favoriteVisualizations\n\t\t\t.filter((visualization) => visualization.isSection)\n\t\t\t.map((groupVisualization) => {\n\t\t\t\treturn {\n\t\t\t\t\t...groupVisualization,\n\t\t\t\t\tmenuItems: this._getGroupActions(groupVisualization)\n\t\t\t\t};\n\t\t\t});\n\t\tconst groups = this._generateGroups(groupVisualizations);\n\t\tthis._setGroups(groups);\n\n\t\t//Create apps\n\t\tthis.destroyAggregation(\"apps\", true);\n\t\tconst appVisualizations = favoriteVisualizations\n\t\t\t.filter((visualization) => !visualization.isSection)\n\t\t\t.map((appVisualization) => {\n\t\t\t\treturn {\n\t\t\t\t\t...appVisualization,\n\t\t\t\t\tmenuItems: this._getAppActions()\n\t\t\t\t};\n\t\t\t});\n\t\tconst apps = this.generateApps(appVisualizations);\n\t\tthis.setApps(apps);\n\t\tif (this._selectedGroupId) {\n\t\t\tvoid this._setGroupDetailDialogApps(this._selectedGroupId);\n\t\t}\n\t\tconst container = this.getParent() as BaseContainer;\n\t\tcontainer.toggleMenuListItem(this._createGroupMenuItem, this.getApps().length > 0);\n\t}\n\n\t/**\n\t * Creates and returns group instances for given group objects\n\t * @private\n\t * @param {object[]} aGroupObject - Array of group object.\n\t * @returns {sap.cux.home.Group[]} - Array of group instances\n\t */\n\tprivate _generateGroups(groupVisualizations: ISectionAndVisualization[]): Group[] {\n\t\treturn groupVisualizations.map((groupVisualization, index) => {\n\t\t\tconst group = new Group(`${this.getId()}-group-${index}`, {\n\t\t\t\ttitle: groupVisualization.title,\n\t\t\t\tbgColor: groupVisualization.BGColor,\n\t\t\t\tstatus: groupVisualization.status,\n\t\t\t\ticon: groupVisualization.icon,\n\t\t\t\tnumber: groupVisualization.badge,\n\t\t\t\tgroupId: groupVisualization.id,\n\t\t\t\tpress: this._handleGroupPress.bind(this)\n\t\t\t});\n\t\t\tgroupVisualization.menuItems?.forEach((oMenuItem) => {\n\t\t\t\tgroup.addAggregation(\"menuItems\", oMenuItem);\n\t\t\t});\n\t\t\treturn group;\n\t\t});\n\t}\n\n\t/**\n\t * Add multiple groups in the groups aggregation.\n\t * @private\n\t * @param {sap.cux.home.Group[]} groups - Array of groups.\n\t */\n\tprivate _setGroups(groups: Group[]) {\n\t\tgroups.forEach((group) => {\n\t\t\tthis.addAggregation(\"groups\", group, true);\n\t\t});\n\t}\n\n\t/**\n\t * Returns list of actions available for app\n\t * @param {ssap.cux.home.Group} group - The group containing the app.\n\t * @private\n\t * @returns {sap.cux.home.MenuItem[]} - An array of menu items representing available actions for the app.\n\t */\n\tprivate _getAppActions(group?: Group) {\n\t\tconst groupId = group?.getGroupId();\n\t\tconst isUngroupedApp = !groupId;\n\t\tconst appActions = [];\n\t\tconst selectColorMenuItem = new MenuItem(\"\", {\n\t\t\ttitle: this._i18nBundle.getText(\"selectColor\"),\n\t\t\ttype: ListType.Navigation,\n\t\t\tpress: this._openColorPopover.bind(this)\n\t\t});\n\t\tappActions.push(selectColorMenuItem);\n\n\t\taddFESRId(selectColorMenuItem, \"changeColor\");\n\n\t\tif (this._getAllowedMoveGroups(groupId)?.length >= 1) {\n\t\t\tconst moveToMenuItem = new MenuItem(\"\", {\n\t\t\t\ttitle: this._i18nBundle.getText(\"moveTo\"),\n\t\t\t\ttype: ListType.Navigation,\n\t\t\t\tpress: (event) => this._openMoveToGroupPopover(event, group)\n\t\t\t});\n\t\t\tappActions.push(moveToMenuItem);\n\t\t\taddFESRId(moveToMenuItem, \"moveToGroup\");\n\t\t}\n\t\tif (isUngroupedApp) {\n\t\t\tconst createGroupMenuItem = new MenuItem({\n\t\t\t\ttitle: this._i18nBundle.getText(\"createGroup\"),\n\t\t\t\tpress: (event: Event) => {\n\t\t\t\t\tconst source = event.getSource<MenuItem>();\n\t\t\t\t\tconst app = source.getParent() as App;\n\t\t\t\t\tthis._selectedApps = [app];\n\t\t\t\t\tthis._openCreateGroupDialog();\n\t\t\t\t}\n\t\t\t});\n\t\t\tappActions.push(createGroupMenuItem);\n\t\t\taddFESRId(createGroupMenuItem, \"createGroupDialog\");\n\t\t}\n\t\tconst removeFromMyHomeMenuItem = new MenuItem({\n\t\t\ttitle: this._i18nBundle.getText(\"removeFromMyHome\"),\n\t\t\tpress: (event: Event) => {\n\t\t\t\tconst source = event.getSource<MenuItem>();\n\t\t\t\tconst app = source.getParent() as App;\n\t\t\t\tthis._handleRemove(app, group);\n\t\t\t}\n\t\t});\n\t\tappActions.push(removeFromMyHomeMenuItem);\n\t\taddFESRId(removeFromMyHomeMenuItem, \"removeFromMyHome\");\n\n\t\tif (!isUngroupedApp) {\n\t\t\tconst removeFromGroupMenuItem = new MenuItem({\n\t\t\t\ttitle: this._i18nBundle.getText(\"removeFromGroup\"),\n\t\t\t\tpress: (event: Event) => {\n\t\t\t\t\tconst source = event.getSource<MenuItem>();\n\t\t\t\t\tconst app = source.getParent() as App;\n\t\t\t\t\tvoid this._handleMoveToGroup(app, groupId);\n\t\t\t\t}\n\t\t\t});\n\t\t\tappActions.push(removeFromGroupMenuItem);\n\t\t\taddFESRId(removeFromGroupMenuItem, \"ungroupApp\");\n\t\t}\n\n\t\treturn appActions;\n\t}\n\n\t/**\n\t * Returns list of actions available for selected group\n\t * @private\n\t * @param {sap.cux.home.Group} group - Group\n\t * @returns {sap.cux.home.MenuItem[]} - An array of menu items representing available actions for the group.\n\t */\n\tprivate _getGroupActions(group: ISectionAndVisualization) {\n\t\tconst renameGroupMenuItem = new MenuItem(`id-${group.id}-renameGroup`, {\n\t\t\ttitle: this._i18nBundle.getText(\"renameGroup\"),\n\t\t\tpress: this._onRenameGroup.bind(this)\n\t\t});\n\t\taddFESRId(renameGroupMenuItem, \"renameGroup\");\n\t\tconst selectColorMenuItem = new MenuItem(`id-${group.id}-selectColor`, {\n\t\t\ttitle: this._i18nBundle.getText(\"selectColor\"),\n\t\t\ttype: ListType.Navigation,\n\t\t\tpress: this._openColorPopover.bind(this)\n\t\t});\n\t\taddFESRId(selectColorMenuItem, \"changeColor\");\n\t\tconst removeAllAppsMenuItem = new MenuItem(`id-${group.id}-removeAllApps`, {\n\t\t\ttitle: this._i18nBundle.getText(\"removeAllApps\"),\n\t\t\tpress: this._handleUngroupApps.bind(this, group)\n\t\t});\n\t\taddFESRId(removeAllAppsMenuItem, \"removeAllApps\");\n\t\tconst groupActions = [renameGroupMenuItem, selectColorMenuItem, removeAllAppsMenuItem];\n\t\tif (!group.isPresetSection) {\n\t\t\tconst deleteGroupMenuItem = new MenuItem(`id-${group.id}-delete`, {\n\t\t\t\ttitle: this._i18nBundle.getText(\"delete\"),\n\t\t\t\tpress: this._onDeleteGroup.bind(this)\n\t\t\t});\n\t\t\taddFESRId(deleteGroupMenuItem, \"deleteGroup\");\n\t\t\tgroupActions.push(deleteGroupMenuItem);\n\t\t}\n\t\treturn groupActions;\n\t}\n\n\t/**\n\t * Creates actions buttons for panel.\n\t * @private\n\t */\n\tprivate async _createActionButtons() {\n\t\tif (!this._actionButtons) {\n\t\t\tthis._actionButtons = [];\n\t\t\tif (_showAddApps()) {\n\t\t\t\tconst addAppsBtn = new Button(`${this.getId()}-addAppsBtn`, {\n\t\t\t\t\ticon: \"sap-icon://action\",\n\t\t\t\t\ttooltip: this._i18nBundle.getText(\"addAppsTooltip\"),\n\t\t\t\t\ttext: this._i18nBundle.getText(\"addApps\"),\n\t\t\t\t\tpress: () => {\n\t\t\t\t\t\tvoid this.navigateToAppFinder();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\taddFESRId(addAppsBtn, \"addAppsBtn\");\n\t\t\t\tthis._actionButtons.push(addAppsBtn);\n\t\t\t}\n\t\t}\n\t\tthis._actionButtons.forEach((actionButton) => {\n\t\t\tthis.addAggregation(\"actionButtons\", actionButton);\n\t\t});\n\t\tconst isImportEnabled = await this._validateAppsMigration();\n\t\tif (isImportEnabled) {\n\t\t\tthis._createImportButton();\n\t\t}\n\t}\n\n\tprivate _createImportButton(): Button {\n\t\tif (!this._importButton) {\n\t\t\tthis._importButton = new Button(`${this.getId()}-importAppsBtn`, {\n\t\t\t\ttooltip: this._i18nBundle.getText(\"importAppsNow\"),\n\t\t\t\ttext: this._i18nBundle.getText(\"importAppsNow\"),\n\t\t\t\tpress: this._openImportAppsDialog.bind(this)\n\t\t\t});\n\t\t\taddFESRId(this._importButton, \"importAppsDialog\");\n\t\t\tthis._actionButtons.push(this._importButton);\n\t\t\tthis.insertAggregation(\"actionButtons\", this._importButton, 0);\n\t\t}\n\t\treturn this._importButton;\n\t}\n\n\tprivate setImportButtonVisibility(bVisible: boolean): void {\n\t\tthis._createImportButton().setVisible(bVisible);\n\t}\n\n\t/**\n\t * Creates menu items for panel header.\n\t * @private\n\t */\n\tprivate _createHeaderMenuItems() {\n\t\tif (!this._menuItems) {\n\t\t\tthis._createGroupMenuItem = new MenuItem(`${this.getId()}-createGrpMenuBtn`, {\n\t\t\t\ttitle: this._i18nBundle.getText(\"createGroup\"),\n\t\t\t\ticon: \"sap-icon://add\",\n\t\t\t\tpress: () => this._openCreateGroupDialog()\n\t\t\t});\n\t\t\tthis._menuItems = [this._createGroupMenuItem];\n\t\t\tif (_showAddApps()) {\n\t\t\t\tthis._menuItems.push(\n\t\t\t\t\tnew MenuItem(`${this.getId()}-addAppsMenuBtn`, {\n\t\t\t\t\t\ttitle: this._i18nBundle.getText(\"addApps\"),\n\t\t\t\t\t\ticon: \"sap-icon://action\",\n\t\t\t\t\t\tpress: () => {\n\t\t\t\t\t\t\tvoid this.navigateToAppFinder();\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t);\n\t\t\t}\n\t\t\tthis._menuItems.push(\n\t\t\t\tnew MenuItem(`${this.getId()}-addInsightsMenuBtn`, {\n\t\t\t\t\ttitle: this._i18nBundle.getText(\"addFromInsights\"),\n\t\t\t\t\ticon: \"sap-icon://duplicate\",\n\t\t\t\t\tpress: () => {\n\t\t\t\t\t\tvoid this._handleAddFromInsights();\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t);\n\t\t\t// Assign FESR IDs based on menu items\n\t\t\taddFESRId(this._createGroupMenuItem, \"createGroupDialog\");\n\t\t\tconst addAppsMenuItem = this._menuItems.find((item) => item.getId() === `${this.getId()}-addAppsMenuBtn`);\n\t\t\tif (addAppsMenuItem) {\n\t\t\t\taddFESRId(addAppsMenuItem, \"appsAppFinder\");\n\t\t\t}\n\t\t\tconst addInsightsMenuItem = this._menuItems.find((item) => item.getId() === `${this.getId()}-addInsightsMenuBtn`);\n\t\t\tif (addInsightsMenuItem) {\n\t\t\t\taddFESRId(addInsightsMenuItem, \"staticTilesDialog\");\n\t\t\t}\n\t\t\tthis._menuItems.forEach((oMenuItem) => {\n\t\t\t\tthis.addAggregation(\"menuItems\", oMenuItem, true);\n\t\t\t});\n\t\t}\n\t}\n\n\t/**\n\t * Retrieves drag and drop information from the given event.\n\t * @private\n\t * @param {Event<DropInfo$DropEventParameters>} event - The event containing drag and drop information.\n\t * @returns {Promise<IDragDropInfo>} The drag and drop information.\n\t */\n\tprivate async _getDragDropInfo(event: Event<DropInfo$DropEventParameters>, appGroupId?: string) {\n\t\tconst dragTile = event.getParameter?.(\"draggedControl\") as GenericTile,\n\t\t\tdropTile = event.getParameter?.(\"droppedControl\") as GenericTile,\n\t\t\tdropPosition = event.getParameter?.(\"dropPosition\"),\n\t\t\tdropControl = dragTile.getParent() as GridContainer,\n\t\t\tdragItemIndex = dropControl.indexOfItem(dragTile),\n\t\t\tdropItemIndex = dropControl.indexOfItem(dropTile),\n\t\t\tdragItem = this._getTileItem(dragTile, appGroupId),\n\t\t\tdropItem = this._getTileItem(dropTile, appGroupId);\n\n\t\tconst dragDropInfo: IDragDropInfo = {\n\t\t\tdragItem: dragItem!,\n\t\t\tdropItem: dropItem!,\n\t\t\tdropPosition: dropPosition as dnd.RelativeDropPosition,\n\t\t\tdropControl,\n\t\t\tdragItemIndex,\n\t\t\tdropItemIndex\n\t\t};\n\t\t//adjust drap drop info\n\t\tif (dragItemIndex !== dropItemIndex) {\n\t\t\tif (!dragItem?.isA(\"sap.cux.home.Group\") && !dropItem?.isA(\"sap.cux.home.Group\")) {\n\t\t\t\tawait this._adjustAppDragDropInfo(dragDropInfo, appGroupId);\n\t\t\t} else if (dragItem?.isA(\"sap.cux.home.Group\")) {\n\t\t\t\tawait this._adjustGroupDragDropInfo(dragDropInfo);\n\t\t\t}\n\t\t}\n\t\treturn dragDropInfo;\n\t}\n\n\t/**\n\t * Adjusts apps drag and drop information.\n\t * @private\n\t * @param {IDragDropInfo} dragDropInfo - The drag and drop information to adjust.\n\t * @returns {Promise<void>} A Promise that resolves when the adjustment is completed.\n\t */\n\tprivate async _adjustAppDragDropInfo(dragDropInfo: IDragDropInfo, appGroupId?: string) {\n\t\tlet isUpdated = false;\n\t\tconst dragApp = dragDropInfo.dragItem as App;\n\t\tconst dropApp = dragDropInfo.dropItem as App;\n\t\tconst [dragVisualization, dropVisualization] = await Promise.all([\n\t\t\tthis.appManagerInstance.getVisualization(dragApp.getUrl(), appGroupId),\n\t\t\tthis.appManagerInstance.getVisualization(dropApp.getUrl(), appGroupId)\n\t\t]);\n\t\tif (dragDropInfo.dropPosition === dnd.RelativeDropPosition.Before) {\n\t\t\t//let's say there are two apps a1, a2, if a1 is moved before a2, that essentailly means the drop item index is same as current item index, adjust the dropItemIndex accordingly\n\t\t\tif (dragDropInfo.dragItemIndex === dragDropInfo.dropItemIndex - 1) {\n\t\t\t\tdragDropInfo.dropItemIndex--;\n\t\t\t}\n\t\t\tif (\n\t\t\t\tdragDropInfo.dragItemIndex < dragDropInfo.dropItemIndex &&\n\t\t\t\tdragVisualization?.persConfig?.sectionIndex === dropVisualization?.persConfig?.sectionIndex\n\t\t\t) {\n\t\t\t\tdragDropInfo.dropItemIndex--;\n\t\t\t\tisUpdated = true;\n\t\t\t}\n\t\t} else if (dragDropInfo.dropPosition === dnd.RelativeDropPosition.After) {\n\t\t\tif (dragDropInfo.dragItemIndex === dragDropInfo.dropItemIndex + 1) {\n\t\t\t\tdragDropInfo.dropItemIndex++;\n\t\t\t}\n\t\t\tif (\n\t\t\t\tdragDropInfo.dragItemIndex > dragDropInfo.dropItemIndex &&\n\t\t\t\tdragVisualization?.persConfig?.sectionIndex === dropVisualization?.persConfig?.sectionIndex\n\t\t\t) {\n\t\t\t\tdragDropInfo.dropItemIndex++;\n\t\t\t\tisUpdated = true;\n\t\t\t}\n\t\t}\n\n\t\tif (isUpdated) {\n\t\t\tconst tile = (dragDropInfo.dropControl as GridContainer).getItems()[dragDropInfo.dropItemIndex] as GenericTile;\n\t\t\tconst app = this._getTileItem(tile, appGroupId);\n\t\t\tif (app) {\n\t\t\t\tdragDropInfo.dropItem = app;\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate _getTileItem(tile: GenericTile, appGroupId?: string) {\n\t\tconst tileGroupId = tile.data(\"groupId\") as string | undefined;\n\t\tif (tileGroupId) {\n\t\t\t//tile is a group\n\t\t\treturn this._getGroup(tileGroupId);\n\t\t} else {\n\t\t\tconst group = appGroupId ? this._getGroup(appGroupId) : null;\n\t\t\tconst apps = group ? group.getApps() : this.getApps();\n\t\t\treturn apps.find((app) => DataFormatUtils.getLeanURL(app.getUrl()) === tile.getUrl());\n\t\t}\n\t}\n\n\t/**\n\t * Adjusts app/group drag and drop information.\n\t * @private\n\t * @param {IDragDropInfo} dragDropInfo - The drag and drop information to adjust.\n\t * @returns {Promise<void>} A Promise that resolves when the adjustment is completed.\n\t */\n\tprivate async _adjustGroupDragDropInfo(dragDropInfo: IDragDropInfo) {\n\t\tconst sections = await this.appManagerInstance._getSections();\n\t\tlet dropGroupIndex;\n\t\tdragDropInfo.dragItemIndex = sections.findIndex((section) => section.id === (dragDropInfo.dragItem as Group).getGroupId());\n\n\t\t//If dropped app is the first ungrouped app, put the group at the end\n\t\tif (!dragDropInfo.dropItem.isA(\"sap.cux.home.Group\")) {\n\t\t\tconst lastGroupIndex = (this.getAggregation(\"groups\") as Group[]).length;\n\t\t\tdragDropInfo.dropItemIndex =\n\t\t\t\tdragDropInfo.dropPosition === dnd.RelativeDropPosition.Before &&\n\t\t\t\tdragDropInfo.dropItemIndex === lastGroupIndex &&\n\t\t\t\tdragDropInfo.dragItemIndex !== lastGroupIndex\n\t\t\t\t\t? lastGroupIndex + 1\n\t\t\t\t\t: dragDropInfo.dragItemIndex;\n\t\t} else {\n\t\t\tdropGroupIndex = sections.findIndex((section) => section.id === (dragDropInfo.dropItem as Group).getGroupId());\n\t\t\t//update the drop item with section index\n\t\t\tdragDropInfo.dropItemIndex = dropGroupIndex;\n\t\t}\n\n\t\t//let's say there are two groups g1, g2, if g1 is moved before g2, that essentailly means the drop item index is same as current item index, adjust the dropItemIndex accordingly\n\t\tif (\n\t\t\tdragDropInfo.dropPosition === dnd.RelativeDropPosition.Before &&\n\t\t\tdragDropInfo.dragItemIndex === dragDropInfo.dropItemIndex - 1\n\t\t) {\n\t\t\tdragDropInfo.dropItemIndex--;\n\t\t} else if (\n\t\t\tdragDropInfo.dropPosition === dnd.RelativeDropPosition.After &&\n\t\t\t(dragDropInfo.dragItemIndex !== dragDropInfo.dropItemIndex || (dropGroupIndex && dragDropInfo.dropItemIndex >= dropGroupIndex))\n\t\t) {\n\t\t\tdragDropInfo.dropItemIndex++;\n\t\t}\n\t}\n\n\t/**\n\t * Handler for drop event of a favorite item.\n\t * @private\n\t * @param {Event<DropInfo$DropEventParameters>} event - The drop event containing information about the dropped item.\n\t * @returns {Promise<void>} A Promise that resolves when the drop event handling is completed.\n\t */\n\tprivate async _onFavItemDrop(event: Event<DropInfo$DropEventParameters>, appGroupId?: string) {\n\t\tconst dragTile = event.getParameter?.(\"draggedControl\") as GenericTile;\n\t\tconst dragDropInfo = await this._getDragDropInfo(event, appGroupId);\n\t\tconst { dragItemIndex, dropItemIndex, dropPosition, dragItem, dropItem } = dragDropInfo;\n\t\tif (dragItemIndex === dropItemIndex) return;\n\n\t\tif (dropPosition === dnd.RelativeDropPosition.On) {\n\t\t\tawait this._handleOnItemDrop(dragItem, dropItem);\n\t\t\tvoid this.refresh();\n\t\t} else if (dropPosition === dnd.RelativeDropPosition.After || dropPosition === dnd.RelativeDropPosition.Before) {\n\t\t\tthis._setBusy(true);\n\t\t\tawait this._handleItemsReorder(dragDropInfo, appGroupId);\n\t\t\tawait this.refresh();\n\n\t\t\tif (appGroupId) {\n\t\t\t\tvoid this._setGroupDetailDialogApps(appGroupId);\n\t\t\t}\n\t\t\tthis._setBusy(false);\n\t\t}\n\n\t\tdragTile.removeStyleClass(\"sapMGTPressActive\");\n\t}\n\n\t/**\n\t * Handles the drop of an item onto another item.\n\t * If an app in dropped over another app, create group dialog is opened.\n\t * If an app is dropped over a group, app should be moved inside that group.\n\t * @private\n\t * @param {Group | App} dragItem - The item being dragged.\n\t * @param {Group | App} dropItem - The item onto which the dragItem is dropped.\n\t * @returns {Promise<void>} A Promise that resolves when the dropping of the item is completed.\n\t */\n\tprivate async _handleOnItemDrop(dragItem: Group | App, dropItem: Group | App) {\n\t\tif (dragItem.isA(\"sap.cux.home.Group\")) return;\n\n\t\tif (!dropItem.isA(\"sap.cux.home.Group\")) {\n\t\t\t//if both dragged and dropped items are apps, create group dialog is opened.\n\t\t\tconst dragApp = dragItem as App;\n\t\t\tconst dropApp = dropItem as App;\n\t\t\tthis._selectedApps = [dragApp, dropApp];\n\t\t\tthis._openCreateGroupDialog(true);\n\t\t} else {\n\t\t\t//if dragged item is an app and dropped item is a group, app should be moved into that group.\n\t\t\tconst targetGroupId = (dropItem as Group).getGroupId();\n\t\t\tthis._setBusy(true);\n\t\t\tawait this._handleMoveToGroup(dragItem, undefined, targetGroupId);\n\t\t\tthis._setBusy(false);\n\t\t}\n\t}\n\n\t/**\n\t * Handles the reordering of items based on drag and drop information.\n\t * @private\n\t * @param {IDragDropInfo} dragDropInfo - The drag and drop information.\n\t * @returns {Promise<void>} A Promise that resolves when the reordering is completed.\n\t */\n\tprivate async _handleItemsReorder(dragDropInfo: IDragDropInfo, appGroupId?: string) {\n\t\tconst { dragItem, dropItem, dragItemIndex, dropItemIndex } = dragDropInfo;\n\t\tconst isDragItemGroup = dragItem.isA(\"sap.cux.home.Group\");\n\t\tconst isDropItemGroup = dropItem.isA(\"sap.cux.home.Group\");\n\t\tif (!isDragItemGroup && !isDropItemGroup) {\n\t\t\tconst drapApp = dragItem as App;\n\t\t\tconst dropApp = dropItem as App;\n\t\t\tconst [dragVisualization, dropVisualization] = await Promise.all([\n\t\t\t\tthis.appManagerInstance.getVisualization(drapApp.getUrl(), appGroupId),\n\t\t\t\tthis.appManagerInstance.getVisualization(dropApp.getUrl(), appGroupId)\n\t\t\t]);\n\t\t\tawait this.appManagerInstance.moveVisualization({\n\t\t\t\tsourceSectionIndex: dragVisualization?.persConfig?.sectionIndex as number,\n\t\t\t\tsourceVisualizationIndex: dragVisualization?.persConfig?.visualizationIndex as number,\n\t\t\t\ttargetSectionIndex: dropVisualization?.persConfig?.sectionIndex as number,\n\t\t\t\ttargetVisualizationIndex: dropVisualization?.persConfig?.visualizationIndex as number\n\t\t\t});\n\t\t} else if (isDragItemGroup && isDropItemGroup) {\n\t\t\tawait this.appManagerInstance.moveSection(dragItemIndex, dropItemIndex);\n\t\t}\n\t}\n\n\t/**\n\t * Navigates to the App Finder with optional group Id.\n\t * @async\n\t * @private\n\t * @param {string} [groupId] - Optional group Id\n\t */\n\tprivate async navigateToAppFinder(groupId?: string) {\n\t\tconst navigationService = await Container.getServiceAsync<Navigation>(\"Navigation\");\n\t\tconst navigationObject: { pageID: string; sectionID?: string } = {\n\t\t\tpageID: MYHOME_PAGE_ID\n\t\t};\n\t\tif (groupId) {\n\t\t\tnavigationObject.sectionID = groupId;\n\t\t}\n\t\tawait navigationService.navigate({\n\t\t\ttarget: {\n\t\t\t\tshellHash: `Shell-appfinder?&/catalog/${JSON.stringify(navigationObject)}`\n\t\t\t}\n\t\t});\n\t}\n\n\t/**\n\t * Validates if import apps is enabled\n\t *\n\t *@returns {Promise} - resolves to boolean value (import is enabled/disabled)\n\t */\n\tprivate async _validateAppsMigration() {\n\t\tconst isImportEnabled = await MyHomeImport.isImportEnabled();\n\t\treturn isImportEnabled;\n\t}\n\n\tprivate _openImportAppsDialog() {\n\t\tconst pageRuntime = new PageRuntime();\n\t\tpageRuntime.onImportDialogPress();\n\t}\n\n\t/**\n\t * Opens the create group dialog.\n\t * @private\n\t * @param {boolean} [skipAppsSelection=false] - Whether to skip the apps selection page.\n\t */\n\tprivate _openCreateGroupDialog(skipAppsSelection = false) {\n\t\tconst createGroupDialog = this._generateCreateGroupDialog(skipAppsSelection);\n\t\tconst appsWrapper = this._controlMap.get(`${this.getId()}-createGroupDialog-appsPage-scrollContainer-apps`) as GridContainer;\n\t\tappsWrapper.destroyItems();\n\t\tconst tiles = [...this.getApps()].map((app) => {\n\t\t\tconst appCopy = app.clone();\n\t\t\tappCopy._onPress = (e) => this._highlightApp(e, appCopy); // override app press behaviour to highlight app\n\t\t\treturn (this.getParent() as AppsContainer)._getAppTile(appCopy);\n\t\t});\n\t\tthis._setAggregation(appsWrapper, tiles);\n\t\tlet apps = this.getApps();\n\t\t(this.getParent() as AppsContainer).fireEvent(\"appsLoaded\", { apps, tiles });\n\t\tthis._updateSelectedAppCount();\n\t\tcreateGroupDialog.open();\n\t}\n\n\t/**\n\t * Closes the create group dialog.\n\t * @private\n\t */\n\tprivate _closeCreateGroupDialog() {\n\t\tconst createGroupDialog = this._generateCreateGroupDialog();\n\t\tcreateGroupDialog?.close();\n\t\t//reset create group dialog on close\n\t\tthis._resetCreateGroupDialog();\n\t}\n\n\t/**\n\t * Resets the state of the create group dialog.\n\t * @private\n\t */\n\tprivate _resetCreateGroupDialog() {\n\t\tconst navContainer = this._generateCreateGroupNavContainer();\n\t\tconst groupNameInput = this._controlMap.get(`${this.getId()}-createGroupDialog-mainPage-form-groupName-input`) as Input;\n\t\tconst searchField = this._controlMap.get(`${this.getId()}-createGroupDialog-appsPage-search`) as SearchField;\n\t\tgroupNameInput.setValue(\"\");\n\t\tnavContainer.to(navContainer.getInitialPage() as string);\n\t\tthis._selectedApps = [];\n\t\tsearchField.setValue(\"\");\n\t\tthis._setNoAppsSelectedError(false);\n\t\tthis._selectedGroupColor = undefined;\n\t}\n\n\t/**\n\t * Generates or retrieves the dialog for creating a group.\n\t * @private\n\t * @param {boolean} bSkipAppsSelection - Whether to skip the apps selection page.\n\t * @returns {sap.m.Dialog} The generated dialog for creating a group.\n\t */\n\tprivate _generateCreateGroupDialog(skipAppsSelection: boolean = true) {\n\t\tconst id = `${this.getId()}-createGroupDialog`;\n\t\tconst navContainer = this._generateCreateGroupNavContainer();\n\t\tconst _toggleNavButton = (skipAppsSelection: boolean) => {\n\t\t\tconst nextBtn = this._controlMap.get(`${id}-nextBtn`) as Button;\n\t\t\tconst backBtn = this._controlMap.get(`${id}-backBtn`) as Button;\n\t\t\tconst createBtn = this._controlMap.get(`${id}-createBtn`) as Button;\n\t\t\tconst currentPageIndex = navContainer.indexOfPage(navContainer.getCurrentPage());\n\t\t\tnextBtn.setVisible(currentPageIndex !== navContainer.getPages().length - 1 && !skipAppsSelection);\n\t\t\tbackBtn.setVisible(currentPageIndex !== 0 && !skipAppsSelection);\n\t\t\tcreateBtn.setVisible(currentPageIndex === navContainer.getPages().length - 1 || skipAppsSelection);\n\t\t};\n\t\tif (!this._controlMap.get(id)) {\n\t\t\t//set up navigation buttons\n\t\t\tthis._controlMap.set(\n\t\t\t\t`${id}-nextBtn`,\n\t\t\t\tnew Button({\n\t\t\t\t\tid: `${id}-nextBtn`,\n\t\t\t\t\ttext: this._i18nBundle.getText(\"nextButton\"),\n\t\t\t\t\tpress: () => {\n\t\t\t\t\t\tif (this._validateGroupName()) {\n\t\t\t\t\t\t\tnavContainer.to(this._generateCreateGroupAppsPage());\n\t\t\t\t\t\t\t_toggleNavButton(skipAppsSelection);\n\t\t\t\t\t\t\tthis._highlightSelectedApps();\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\ttype: \"Emphasized\"\n\t\t\t\t})\n\t\t\t);\n\t\t\t// Add FESR for next button\n\t\t\tconst nextBtn = this._controlMap.get(`${id}-nextBtn`) as Button;\n\t\t\taddFESRSemanticStepName(nextBtn, \"press\", \"createGroupNextBtn\");\n\t\t\tthis._controlMap.set(\n\t\t\t\t`${id}-backBtn`,\n\t\t\t\tnew Button({\n\t\t\t\t\tid: `${id}-backBtn`,\n\t\t\t\t\ttext: this._i18nBundle.getText(\"backButton\"),\n\t\t\t\t\tpress: () => {\n\t\t\t\t\t\tnavContainer.back();\n\t\t\t\t\t\t_toggleNavButton(skipAppsSelection);\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t);\n\t\t\t// Add FESR for back button\n\t\t\tconst backBtn = this._controlMap.get(`${id}-backBtn`) as Button;\n\t\t\taddFESRSemanticStepName(backBtn, \"press\", \"createGroupBackBtn\");\n\t\t\tthis._controlMap.set(\n\t\t\t\t`${id}-createBtn`,\n\t\t\t\tnew Button({\n\t\t\t\t\tid: `${id}-createBtn`,\n\t\t\t\t\ttext: this._i18nBundle.getText(\"createButton\"),\n\t\t\t\t\tpress: () => {\n\t\t\t\t\t\tvoid this._onPressGroupCreate();\n\t\t\t\t\t},\n\t\t\t\t\ttype: \"Emphasized\"\n\t\t\t\t})\n\t\t\t);\n\t\t\t// Add FESR for create button\n\t\t\tconst createBtn = this._controlMap.get(`${id}-createBtn`) as Button;\n\t\t\taddFESRSemanticStepName(createBtn, \"press\", \"addCreateGroup\");\n\t\t\tthis._controlMap.set(\n\t\t\t\tid,\n\t\t\t\tnew Dialog(id, {\n\t\t\t\t\ttitle: this._i18nBundle.getText(\"createGroup\"),\n\t\t\t\t\tcontent: navContainer,\n\t\t\t\t\tescapeHandler: this._closeCreateGroupDialog.bind(this),\n\t\t\t\t\tcontentHeight: \"25rem\",\n\t\t\t\t\tcontentWidth: \"41.75rem\",\n\t\t\t\t\tbuttons: [\n\t\t\t\t\t\tnextBtn,\n\t\t\t\t\t\tbackBtn,\n\t\t\t\t\t\tcreateBtn,\n\t\t\t\t\t\tnew Button({\n\t\t\t\t\t\t\tid: `${id}-cancelBtn`,\n\t\t\t\t\t\t\ttext: this._i18nBundle.getText(\"cancelBtn\"),\n\t\t\t\t\t\t\tpress: this._closeCreateGroupDialog.bind(this)\n\t\t\t\t\t\t})\n\t\t\t\t\t]\n\t\t\t\t}).addStyleClass(\"sapCuxCreateGroupDialog sapContrastPlus\")\n\t\t\t);\n\t\t}\n\t\t_toggleNavButton(skipAppsSelection);\n\t\treturn this._controlMap.get(id) as Dialog;\n\t}\n\n\t/**\n\t * Handles the highlighting of an app when selected.\n\t * @private\n\t * @param {sap.ui.base.Event} event - The event object.\n\t * @param {Object} selectedApp - The selected app object.\n\t */\n\tprivate _highlightApp(event: Event, selectedApp: App) {\n\t\tconst oTile = event.getSource<GenericTile>(),\n\t\t\tbIsSelected = !oTile.hasStyleClass(\"sapCuxHighlightApp\"),\n\t\t\toScrollContainer = this._generateAppsScrollContainer();\n\t\tthis._selectedApps = this._selectedApps || [];\n\t\tif (bIsSelected) {\n\t\t\tthis._selectedApps.push(selectedApp);\n\t\t} else {\n\t\t\tthis._selectedApps.splice(\n\t\t\t\tthis._selectedApps.findIndex((oApp) => selectedApp.getUrl() === oApp.getUrl()),\n\t\t\t\t1\n\t\t\t);\n\t\t}\n\t\tthis._updateSelectedAppCount();\n\t\toTile.toggleStyleClass(\"sapCuxHighlightApp\", bIsSelected);\n\t\tthis._setNoAppsSelectedError(this._selectedApps.length < 1);\n\t\t//adjust scroll container height\n\t\toScrollContainer.setHeight(this._selectedApps.length < 1 ? \"15.3rem\" : \"17.5rem\");\n\t}\n\n\t/**\n\t * Generates the scroll container for displaying apps in the create group dialog.\n\t * @private\n\t * @returns {sap.m.ScrollContainer} The scroll container for displaying apps.\n\t */\n\tprivate _generateAppsScrollContainer() {\n\t\tconst id = `${this.getId()}-createGroupDialog-appsPage-scrollContainer`;\n\t\tif (!this._controlMap.get(id)) {\n\t\t\tthis._controlMap.set(\n\t\t\t\t`${id}-apps`,\n\t\t\t\tnew GridContainer({\n\t\t\t\t\tid: `${id}-apps`,\n\t\t\t\t\tlayout: new GridContainerSettings({\n\t\t\t\t\t\tcolumnSize: \"19rem\",\n\t\t\t\t\t\tgap: \"0.5rem\"\n\t\t\t\t\t})\n\t\t\t\t}).addStyleClass(\"sapCuxAppsGridContainerPadding\")\n\t\t\t);\n\t\t\tthis._controlMap.set(\n\t\t\t\tid,\n\t\t\t\tnew ScrollContainer(id, {\n\t\t\t\t\tid,\n\t\t\t\t\tvertical: true,\n\t\t\t\t\tvisible: true,\n\t\t\t\t\theight: \"17.5rem\",\n\t\t\t\t\tcontent: [this._controlMap.get(`${id}-apps`) as GridContainer]\n\t\t\t\t}).addStyleClass(\"sapUiSmallMarginBeginEnd\")\n\t\t\t);\n\t\t}\n\t\treturn this._controlMap.get(id) as ScrollContainer;\n\t}\n\n\t/**\n\t * Method for updating selected apps count in create group dialog\n\t * @private\n\t */\n\tprivate _updateSelectedAppCount() {\n\t\tconst oAppsCountContol = this._controlMap.get(`${this.getId()}-createGroupDialog-appsPage-headerContainer-count`) as Text;\n\t\toAppsCountContol.setText(\n\t\t\tthis._i18nBundle.getText(\"selectedAppsCount\", [this._selectedApps?.length || this._i18nBundle.getText(\"noAppSelected\")])\n\t\t);\n\t}\n\n\t/**\n\t * Creates or returns the navigation container for the create group dialog.\n\t * @private\n\t * @returns {sap.m.NavContainer} The navigation container for the create group dialog.\n\t */\n\tprivate _generateCreateGroupNavContainer() {\n\t\tconst id = `${this.getId()}-createGroupDialog-wrapper`;\n\t\tif (!this._controlMap.get(id)) {\n\t\t\tthis._controlMap.set(\n\t\t\t\tid,\n\t\t\t\tnew NavContainer(id, {\n\t\t\t\t\tinitialPage: `${this.getId()}-createGroupDialog-mainPage`,\n\t\t\t\t\tpages: [this._generateCreateGroupMainPage(), this._generateCreateGroupAppsPage()]\n\t\t\t\t})\n\t\t\t);\n\t\t}\n\t\treturn this._controlMap.get(id) as NavContainer;\n\t}\n\n\t/**\n\t * Generates or retrieve the main page of the create group dialog.\n\t * @private\n\t * @returns {sap.m.Page} The main page of the create group dialog.\n\t */\n\tprivate _generateCreateGroupMainPage() {\n\t\tconst id = `${this.getId()}-createGroupDialog-mainPage`;\n\t\tif (!this._controlMap.get(id)) {\n\t\t\tthis._controlMap.set(\n\t\t\t\t`${id}-form-groupName-input`,\n\t\t\t\tnew Input({\n\t\t\t\t\tid: `${id}-form-groupName-input`,\n\t\t\t\t\twidth: \"13.75rem\",\n\t\t\t\t\trequired: true,\n\t\t\t\t\tliveChange: this._validateGroupName.bind(this)\n\t\t\t\t})\n\t\t\t);\n\t\t\tthis._controlMap.set(\n\t\t\t\tid,\n\t\t\t\tnew Page({\n\t\t\t\t\tid,\n\t\t\t\t\tshowHeader: false,\n\t\t\t\t\tenableScrolling: false,\n\t\t\t\t\tbackgroundDesign: \"List\",\n\t\t\t\t\tcontent: [\n\t\t\t\t\t\tnew VBox({\n\t\t\t\t\t\t\tid: `${id}-headerContainer`,\n\t\t\t\t\t\t\titems: [\n\t\t\t\t\t\t\t\tnew Title({\n\t\t\t\t\t\t\t\t\tid: `${id}-title`,\n\t\t\t\t\t\t\t\t\ttext: this._i18nBundle.getText(\"settings\")\n\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t\tnew Text({\n\t\t\t\t\t\t\t\t\tid: `${id}-description`,\n\t\t\t\t\t\t\t\t\ttext: this._i18nBundle.getText(\"settingsDescription\")\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t}).addStyleClass(\"sapUiSmallMarginTop sapUiSmallMarginBeginEnd sapUiTinyMarginBottom\"),\n\t\t\t\t\t\tnew SimpleForm(`${id}-form`, {\n\t\t\t\t\t\t\tlayout: form.SimpleFormLayout.ResponsiveGridLayout,\n\t\t\t\t\t\t\tlabelSpanS: 4,\n\t\t\t\t\t\t\tlabelSpanM: 4,\n\t\t\t\t\t\t\tcontent: [\n\t\t\t\t\t\t\t\tnew Label({\n\t\t\t\t\t\t\t\t\tid: `${id}-form-groupName-label`,\n\t\t\t\t\t\t\t\t\ttext: this._i18nBundle.getText(\"groupNameLbl\")\n\t\t\t\t\t\t\t\t}).addStyleClass(\"sapUiTinyMarginTop\"),\n\t\t\t\t\t\t\t\tthis._controlMap.get(`${id}-form-groupName-input`) as Input,\n\t\t\t\t\t\t\t\tnew Label({\n\t\t\t\t\t\t\t\t\tid: `${id}-form-groupColor-label`,\n\t\t\t\t\t\t\t\t\ttext: this._i18nBundle.getText(\"groupColorLbl\")\n\t\t\t\t\t\t\t\t}).addStyleClass(\"sapUiTinyMarginTop\"),\n\t\t\t\t\t\t\t\tnew ColorPalette(`${id}-form-groupColor-pallet`, {\n\t\t\t\t\t\t\t\t\tcolors: END_USER_COLORS().map((oColor) => oColor.value) as string[],\n\t\t\t\t\t\t\t\t\tcolorSelect: this._onColorSelect.bind(this)\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t}).addStyleClass(\"sapUiMediumMarginTop\")\n\t\t\t\t\t]\n\t\t\t\t})\n\t\t\t);\n\t\t}\n\t\treturn this._controlMap.get(id) as Page;\n\t}\n\n\t/**\n\t * Generates or retrieve the app selection page of the create group dialog.\n\t * @private\n\t * @returns {sap.m.Page} The app selection page of the create group dialog.\n\t */\n\tprivate _generateCreateGroupAppsPage() {\n\t\tconst id = `${this.getId()}-createGroupDialog-appsPage`;\n\t\tif (!this._controlMap.get(id)) {\n\t\t\tthis._controlMap.set(\n\t\t\t\t`${id}-search`,\n\t\t\t\tnew SearchField({\n\t\t\t\t\tid: `${id}-search`,\n\t\t\t\t\tliveChange: this._onCreateAppSearch.bind(this)\n\t\t\t\t}).addStyleClass(\"sapUiTinyMarginTopBottom\")\n\t\t\t);\n\t\t\tthis._controlMap.set(\n\t\t\t\t`${id}-errorMessageStrip`,\n\t\t\t\tnew MessageStrip(`${id}-errorMessageStrip`, {\n\t\t\t\t\tid: `${id}-errorMessageStrip`,\n\t\t\t\t\ttype: MessageType.Error,\n\t\t\t\t\tshowIcon: true,\n\t\t\t\t\ttext: this._i18nBundle.getText(\"selectionErrorMessage\"),\n\t\t\t\t\tvisible: false\n\t\t\t\t})\n\t\t\t);\n\t\t\tthis._controlMap.set(\n\t\t\t\t`${id}-headerContainer-count`,\n\t\t\t\tnew Text({\n\t\t\t\t\tid: `${id}-headerContainer-count`\n\t\t\t\t})\n\t\t\t);\n\t\t\tthis._controlMap.set(\n\t\t\t\tid,\n\t\t\t\tnew Page(id, {\n\t\t\t\t\tshowHeader: false,\n\t\t\t\t\tbackgroundDesign: \"List\",\n\t\t\t\t\tenableScrolling: false,\n\t\t\t\t\tcontent: [\n\t\t\t\t\t\tnew VBox(`${id}-headerContainer`, {\n\t\t\t\t\t\t\titems: [\n\t\t\t\t\t\t\t\tnew HBox(`${id}-headerContainer-titleCount`, {\n\t\t\t\t\t\t\t\t\tid: `${id}-headerContainer-titleCount`,\n\t\t\t\t\t\t\t\t\titems: [\n\t\t\t\t\t\t\t\t\t\tnew Title({\n\t\t\t\t\t\t\t\t\t\t\tid: `${id}-headerContainer-title`,\n\t\t\t\t\t\t\t\t\t\t\ttext: this._i18nBundle.getText(\"selectedAppsTitle\")\n\t\t\t\t\t\t\t\t\t\t}).addStyleClass(\"sapUiTinyMarginEnd\"),\n\t\t\t\t\t\t\t\t\t\tthis._controlMap.get(`${id}-headerContainer-count`) as Text\n\t\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t\tnew Text({\n\t\t\t\t\t\t\t\t\tid: `${id}-description`,\n\t\t\t\t\t\t\t\t\ttext: this._i18nBundle.getText(\"appsSelectionDescription\")\n\t\t\t\t\t\t\t\t}).addStyleClass(\"sapUiTinyMarginBottom\"),\n\t\t\t\t\t\t\t\tthis._controlMap.get(`${id}-search`) as SearchField,\n\t\t\t\t\t\t\t\tthis._controlMap.get(`${id}-errorMessageStrip`) as MessageStrip\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t}).addStyleClass(\"sapUiSmallMarginTop sapUiSmallMarginBeginEnd sapUiTinyMarginBottom\"),\n\t\t\t\t\t\tthis._generateAppsScrollContainer(),\n\t\t\t\t\t\tthis._generateCreateGroupErrorMsg()\n\t\t\t\t\t]\n\t\t\t\t})\n\t\t\t);\n\t\t}\n\t\treturn this._controlMap.get(id) as Page;\n\t}\n\n\t/**\n\t * Generates the error message for create group dialog, when no apps are found for searched text.\n\t * @private\n\t * @returns {sap.m.IllustratedMessage} The error message for no filtered apps.\n\t */\n\tprivate _generateCreateGroupErrorMsg() {\n\t\tconst id = `${this.getId()}-createGroupDialog-appsPage-noFilterApps`;\n\t\tif (!this._controlMap.get(id)) {\n\t\t\tthis._controlMap.set(\n\t\t\t\tid,\n\t\t\t\tnew IllustratedMessage({\n\t\t\t\t\tid,\n\t\t\t\t\tillustrationSize: \"Spot\",\n\t\t\t\t\tillustrationType: \"sapIllus-SearchFolder\",\n\t\t\t\t\ttitle: this._i18nBundle.getText(\"noSearchedAppTitle\"),\n\t\t\t\t\tdescription: this._i18nBundle.getText(\"noSearchedAppDes\"),\n\t\t\t\t\tvisible: false\n\t\t\t\t})\n\t\t\t);\n\t\t}\n\t\treturn this._controlMap.get(id) as IllustratedMessage;\n\t}\n\n\t/**\n\t * Handles the color selection event for new group.\n\t * @private\n\t * @param {sap.ui.base.Event} event - The event object.\n\t */\n\tprivate _onColorSelect(event: ColorPalette$ColorSelectEvent) {\n\t\tthis._selectedGroupColor = this._getLegendColor(event.getParameter(\"value\") as string).key;\n\t}\n\n\t/**\n\t * Retrieves the key of the legend color based on the provided color value.\n\t * @param {string} color - The color value for which to retrieve the legend color key.\n\t * @returns {string} The legend color key corresponding to the provided color value, or the default background color key if not found.\n\t * @private\n\t */\n\tprivate _getLegendColor(color: string) {\n\t\treturn END_USER_COLORS().find((oColor) => oColor.value === color) || DEFAULT_BG_COLOR();\n\t}\n\n\t/**\n\t * Sets the visibility of the error message strip indicating no apps are selected in create group dialog.\n\t * @private\n\t * @param {boolean} error - Whether to show the error message strip (true) or hide it (false).\n\t */\n\tprivate _setNoAppsSelectedError(error: boolean) {\n\t\tconst messageStrip = this._controlMap.get(`${this.getId()}-createGroupDialog-appsPage-errorMessageStrip`) as MessageStrip;\n\t\tmessageStrip.setVisible(error);\n\t}\n\n\t/**\n\t * Validates the group name entered in the create group dialog.\n\t * @private\n\t * @returns {boolean} Whether the group name is valid (true) or not (false).\n\t */\n\tprivate _validateGroupName() {\n\t\tconst groupNameInput = this._controlMap.get(`${this.getId()}-createGroupDialog-mainPage-form-groupName-input`) as Input;\n\t\tconst groupName = groupNameInput.getValue().trim();\n\t\t//update value state\n\t\tgroupNameInput.setValueState(groupName ? \"None\" : \"Error\");\n\t\tgroupNameInput.setValueStateText(groupName ? \"\" : (this._i18nBundle.getText(\"invalidGroupName\") as string));\n\t\treturn groupName ? true : false;\n\t}\n\n\t/**\n\t * Highlights selected apps by adding a CSS class to corresponding tiles.\n\t * @private\n\t */\n\tprivate _highlightSelectedApps() {\n\t\tconst selectedApps = this._selectedApps || [];\n\t\tconst tilesContainer = this._controlMap.get(`${this.getId()}-createGroupDialog-appsPage-scrollContainer-apps`) as GridContainer;\n\t\tconst tiles = (tilesContainer.getItems() || []) as GenericTile[];\n\t\ttiles.forEach((tile) => {\n\t\t\ttile.toggleStyleClass(\n\t\t\t\t\"sapCuxHighlightApp\",\n\t\t\t\tselectedApps.some((app) => DataFormatUtils.getLeanURL(app.getUrl()) === tile.getUrl())\n\t\t\t);\n\t\t});\n\t}\n\n\t/**\n\t * Handles the search for apps in create group dialog.\n\t * @private\n\t * @param {sap.ui.base.Event} event - The event object.\n\t */\n\tprivate _onCreateAppSearch(event: Event) {\n\t\tconst tilesContainer = this._controlMap.get(`${this.getId()}-createGroupDialog-appsPage-scrollContainer-apps`) as GridContainer,\n\t\t\tsearchQuery = event.getSource<SearchField>().getValue(),\n\t\t\ttiles = (tilesContainer.getItems() || []) as GenericTile[],\n\t\t\tsearchExpression = new RegExp(searchQuery, \"i\");\n\t\ttiles.forEach((tile) => {\n\t\t\ttile.setVisible(searchExpression.test(tile.getHeader()));\n\t\t});\n\t\tconst filteredTiles = tiles.filter((tile) => tile.getVisible());\n\t\tconst hasFilteredApps = filteredTiles.length > 0;\n\t\tthis._generateAppsScrollContainer()?.setVisible(hasFilteredApps);\n\t\tthis._generateCreateGroupErrorMsg()?.setVisible(!hasFilteredApps);\n\t}\n\n\t/**\n\t * Handles the event when the user presses the button to create a new group.\n\t * @private\n\t */\n\tprivate async _onPressGroupCreate() {\n\t\tconst groupNameInput = this._controlMap.get(`${this.getId()}-createGroupDialog-mainPage-form-groupName-input`) as Input;\n\t\tif (this._validateGroupName()) {\n\t\t\tif (this._selectedApps?.length) {\n\t\t\t\tthis._setBusy(true);\n\t\t\t\tawait this._createGroup({\n\t\t\t\t\tselectedApps: this._selectedApps,\n\t\t\t\t\tgroupName: groupNameInput.getValue(),\n\t\t\t\t\tgroupColor: this._getGroupColor()\n\t\t\t\t});\n\t\t\t\tawait this.refresh();\n\t\t\t\tthis._setBusy(false);\n\t\t\t\tthis._closeCreateGroupDialog();\n\t\t\t\t// Show toast message after successful group creation\n\t\t\t\tMessageToast.show(this._i18nBundle.getText(\"newGroupCreated\") as string, {\n\t\t\t\t\tof: this._controlMap.get(`${this.getId()}-createGroupDialog`),\n\t\t\t\t\toffset: \"0 80\"\n\t\t\t\t});\n\t\t\t\tconst groups = (this.getAggregation(\"groups\") || []) as Group[];\n\t\t\t\tvoid this._showGroupDetailDialog(groups[0]?.getGroupId());\n\t\t\t} else {\n\t\t\t\tthis._setNoAppsSelectedError(true);\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Creates a new group with the given properties and adds selected apps to it.\n\t * @param {Object} params - The properties for creating the group.\n\t * @param {sap.ui.core.URI[]} params.selectedApps - Target URL unique identifier of the selected apps to be added to the group.\n\t * @param {string} [params.groupName] - The name of the group. If not provided, a default name will be used.\n\t * @param {string} [params.groupColor] - The color of the group. If not provided, the default color will be used.\n\t * @private\n\t */\n\tprivate async _createGroup(params: { selectedApps: App[]; groupName: string; groupColor: string }) {\n\t\tconst { selectedApps, groupName, groupColor } = params;\n\t\tconst sectionVisualizations = await this.appManagerInstance.getSectionVisualizations();\n\t\tconst visualizations = selectedApps.reduce((selectedVisualizations: ICustomVisualization[], oApp) => {\n\t\t\tconst sectionVisualization = sectionVisualizations.find((oSectionViz) => oSectionViz.url === oApp.getUrl());\n\t\t\tif (sectionVisualization) {\n\t\t\t\tselectedVisualizations.push(sectionVisualization);\n\t\t\t}\n\t\t\treturn selectedVisualizations;\n\t\t}, []);\n\t\tconst sectionId = visualizations[0].persConfig!.sectionId!;\n\t\tawait this.appManagerInstance.addSection({\n\t\t\tsectionIndex: 1,\n\t\t\tsectionProperties: {\n\t\t\t\ttitle: groupName || this._i18nBundle.getText(\"newGroup\"),\n\t\t\t\tvisible: true,\n\t\t\t\tvisualizations: visualizations.map((viz) => viz.visualization)\n\t\t\t}\n\t\t});\n\n\t\tconst visualizationsToBeDeleted: string[] = visualizations.reduce((visualizationsToBeDeleted: string[], oViz) => {\n\t\t\tif (oViz.visualization?.id) {\n\t\t\t\tconst duplicateVisualizationIds = (oViz.persConfig?.duplicateApps || []).map((oViz) => oViz.visualization?.id) as string[];\n\t\t\t\tvisualizationsToBeDeleted = visualizationsToBeDeleted.concat([oViz.visualization?.id], duplicateVisualizationIds);\n\t\t\t}\n\t\t\treturn visualizationsToBeDeleted;\n\t\t}, []);\n\n\t\tawait this.appManagerInstance.removeVisualizations({ sectionId, vizIds: visualizationsToBeDeleted });\n\t\tconst sections = await this.appManagerInstance._getSections(true);\n\t\tconst defaultSection = sections.find((oSection) => oSection.default);\n\t\tconst targetGroupId = sections[defaultSection ? 1 : 0]?.id;\n\t\t//update personalization\n\t\tawait this._updateAppPersonalization(\n\t\t\tvisualizations.map((oViz) => {\n\t\t\t\treturn {\n\t\t\t\t\tvisualization: oViz,\n\t\t\t\t\ttargetGroupId\n\t\t\t\t};\n\t\t\t})\n\t\t);\n\t\tawait this._updateGroupPersonalization(targetGroupId!, groupColor);\n\t}\n\n\t/**\n\t * Retrieves the color for the group.\n\t * @private\n\t * @returns {string} The color for the group.\n\t */\n\tprivate _getGroupColor() {\n\t\tconst defaultColor = DEFAULT_BG_COLOR().key;\n\t\tconst firstApp = this._selectedApps[0];\n\t\tconst setDefaultColor = this._selectedApps.some((app) => app.getBgColor() !== firstApp.getBgColor());\n\t\t//if group color is selected then apply that color, else if all the selected apps have same color then give the same color to group, else apply default color.\n\t\treturn this._selectedGroupColor || (setDefaultColor ? defaultColor : firstApp.getBgColor());\n\t}\n\n\t/**\n\t * Opens a color popover for selecting a background color for an item.\n\t * @param {sap.ui.base.Event} event - The event object.\n\t * @private\n\t */\n\tprivate _openColorPopover(event: Event<{ listItem?: StandardListItem }>) {\n\t\tconst colorPopoverId = `${this.getId()}-colorPopover`,\n\t\t\tcolors = END_USER_COLORS().map((oColor) => oColor.value) as string[];\n\t\tconst source = event.getSource<MenuItem>();\n\t\tthis._currentItem = source.getParent() as App | Group;\n\t\tlet colorPopover = this._controlMap.get(colorPopoverId) as ColorPalettePopover;\n\t\tif (!colorPopover) {\n\t\t\tcolorPopover = new ColorPalettePopover(colorPopoverId, {\n\t\t\t\tid: colorPopoverId,\n\t\t\t\tcolors: colors,\n\t\t\t\tshowDefaultColorButton: false,\n\t\t\t\tshowMoreColorsButton: false,\n\t\t\t\tshowRecentColorsSection: false,\n\t\t\t\tcolorSelect: (event: ColorPalette$ColorSelectEvent) => {\n\t\t\t\t\tActionsPopover._closeActionsPopover();\n\t\t\t\t\tconst selectedColor = event.getParameter(\"value\") as string;\n\t\t\t\t\tvoid this._handleColorSelect(this._currentItem, selectedColor);\n\t\t\t\t}\n\t\t\t}).addStyleClass(\"sapContrastPlus\");\n\t\t\t(colorPopover as ColorPalettePopover & { _oPopover: Popover })._oPopover.setPlacement(PlacementType.HorizontalPreferredRight);\n\t\t\tthis._controlMap.set(colorPopoverId, colorPopover);\n\t\t}\n\t\tcolorPopover.openBy(event.getParameter(\"listItem\") as Control);\n\t}\n\n\t/**\n\t * Handles the selection of a color for an app or group.\n\t * @param {sap.cux.home.App | sap.cux.home.Group} item - The item control.\n\t * @param {string} color - The selected color.\n\t * @returns {Promise<void>} - A promise that resolves when the color selection is handled.\n\t * @private\n\t */\n\tprivate async _handleColorSelect(item: App | Group, color: string) {\n\t\tconst selectedColor = this._getLegendColor(color).key;\n\t\titem.setProperty(\"bgColor\", selectedColor, true);\n\t\tconst groupId = item.isA(\"sap.cux.home.Group\") ? (item as Group).getGroupId() : null;\n\t\tconst isGroupedApp = !groupId && item.getParent()?.isA(\"sap.cux.home.Group\");\n\n\t\t//update tile color\n\t\tif (isGroupedApp) {\n\t\t\tthis._refreshGroupDetailDialog(item as App, false);\n\t\t} else {\n\t\t\t//if ungroup app or group\n\t\t\tthis._applyUngroupedTileColor(item, color);\n\t\t}\n\n\t\t//update personalization\n\t\tif (groupId) {\n\t\t\t//if group\n\t\t\tvoid this._updateGroupPersonalization(groupId, selectedColor);\n\t\t\tconst groupIconControl = this._controlMap.get(`${this.getId()}-detailDialog-toolbar-color`) as Icon;\n\t\t\tgroupIconControl?.setColor(color);\n\t\t} else {\n\t\t\t//if app\n\t\t\tconst app = item as App;\n\t\t\tconst groupId = isGroupedApp ? (app.getParent() as Group).getGroupId() : undefined;\n\t\t\tconst visualization = await this.appManagerInstance.getVisualization(app.getUrl(), groupId);\n\t\t\tif (visualization) {\n\t\t\t\tvoid this._updateAppPersonalization([{ visualization, color: selectedColor }]);\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Applies the selected color to an ungrouped tile.\n\t * @param {sap.cux.home.App | sap.cux.home.Group} item - The item control.\n\t * @param {string} color - The selected color.\n\t * @private\n\t */\n\tprivate _applyUngroupedTileColor(item: App | Group, color: string) {\n\t\tconst tiles: GenericTile[] = this.fetchTileVisualization();\n\t\tconst groupId = item.isA(\"sap.cux.home.Group\") ? (item as Group).getGroupId() : null;\n\t\tconst updatedTileIndex = tiles.findIndex((tile) =>\n\t\t\tgroupId ? tile.data(\"groupId\") === groupId : tile.getUrl() === DataFormatUtils.getLeanURL((item as App).getUrl())\n\t\t);\n\t\ttiles[updatedTileIndex].setBackgroundColor(color);\n\t}\n\n\t/**\n\t * Retrieves the list of groups where apps can be moved, excluding the source group if specified.\n\t * @param {string|null} sourceGroupId - The ID of the source group from which apps are being moved.\n\t * @returns {sap.cux.home.Group[]} An array of groups where apps can be moved.\n\t * @private\n\t */\n\tprivate _getAllowedMoveGroups(sourceGroupId: string | undefined) {\n\t\tlet allowedMoveGroups = (this.getAggregation(\"groups\") || []) as Group[];\n\t\tif (sourceGroupId) {\n\t\t\tallowedMoveGroups = allowedMoveGroups.filter((allowedMoveGroup) => allowedMoveGroup.getGroupId() !== sourceGroupId);\n\t\t}\n\t\treturn allowedMoveGroups;\n\t}\n\n\t/**\n\t * Sets the busy state for dialogs and the panel.\n\t * @param {boolean} busy - Indicates whether the dialogs and the panel should be set to busy state.\n\t * @private\n\t */\n\tprivate _setBusy(busy: boolean) {\n\t\t[this._generateGroupDetailDialog(), this._generateCreateGroupDialog(), this._generateAddFromInsightsDialog()].forEach(\n\t\t\t(oControl) => {\n\t\t\t\toControl.setBusy(busy);\n\t\t\t}\n\t\t);\n\t\tsuper.setBusy(busy);\n\t}\n\n\t/**\n\t * Opens a popover to move the app to another group.\n\t * @param {sap.cux.home.Group} sourceGroup - The source group from which the app is being moved.\n\t * @param {sap.ui.base.Event} event - The event triggering the popover opening.\n\t * @private\n\t */\n\tprivate _openMoveToGroupPopover(event: Event<{ listItem?: StandardListItem }>, sourceGroup?: Group) {\n\t\tconst popoverId = `${this.getId()}-moveToGroupPopover`,\n\t\t\tsource = event?.getSource<MenuItem>(),\n\t\t\tapp = source?.getParent() as App,\n\t\t\tsourceGroupId = sourceGroup?.getGroupId();\n\n\t\tlet list = this._controlMap.get(`${popoverId}-list`) as List,\n\t\t\tmoveToGroupPopover = this._controlMap.get(popoverId) as Popover;\n\n\t\tif (!moveToGroupPopover) {\n\t\t\tlist = new List({\n\t\t\t\tid: `${popoverId}-list`,\n\t\t\t\titemPress: () => ActionsPopover._closeActionsPopover()\n\t\t\t});\n\t\t\tthis._controlMap.set(`${popoverId}-list`, list);\n\t\t\tmoveToGroupPopover = new Popover({\n\t\t\t\tid: popoverId,\n\t\t\t\tshowHeader: false,\n\t\t\t\tplacement: PlacementType.HorizontalPreferredRight,\n\t\t\t\tcontent: [list]\n\t\t\t}).addStyleClass(\"sapContrastPlus\");\n\t\t\tthis._controlMap.set(popoverId, moveToGroupPopover);\n\t\t}\n\t\tlist.removeAllItems();\n\n\t\tthis._getAllowedMoveGroups(sourceGroupId).forEach((targetGroup) =>\n\t\t\tlist.addItem(\n\t\t\t\tnew StandardListItem({\n\t\t\t\t\ttitle: targetGroup.getTitle(),\n\t\t\t\t\ttype: \"Active\",\n\t\t\t\t\tpress: () => {\n\t\t\t\t\t\tvoid this._handleMoveToGroup(app, sourceGroupId, targetGroup.getGroupId());\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t)\n\t\t);\n\n\t\tmoveToGroupPopover.openBy(event.getParameter(\"listItem\") as Control);\n\t}\n\n\t/**\n\t * Handles the removal of an app, displaying a confirmation dialog to the user.\n\t * If the app is the last one in the group, a warning dialog is displayed for confirmation.\n\t * @param {sap.cux.home.App} app - The app to be removed.\n\t * @param {sap.cux.home.Group} [group] - The group from which the app should be removed. If not provided, the app is considered to be in favorites.\n\t * @private\n\t */\n\tprivate _handleRemove(app: App, group?: Group): void {\n\t\tconst lastAppInGroup = group?.getApps()?.length === 1;\n\n\t\tlet message = this._i18nBundle.getText(\"removeAppMessage\", [app.getTitle()]),\n\t\t\ttitle = this._i18nBundle.getText(\"remove\"),\n\t\t\tactionText = this._i18nBundle.getText(\"remove\"),\n\t\t\tmessageIcon = MessageBox.Icon.QUESTION;\n\n\t\tif (lastAppInGroup) {\n\t\t\tmessage = this._i18nBundle.getText(\"removeFromMyHomeMessage\", [app.getTitle()]);\n\t\t\ttitle = this._i18nBundle.getText(\"delete\");\n\t\t\tactionText = this._i18nBundle.getText(\"delete\");\n\t\t\tmessageIcon = MessageBox.Icon.WARNING;\n\t\t}\n\n\t\tMessageBox.show(message as string, {\n\t\t\ticon: messageIcon,\n\t\t\ttitle: title,\n\t\t\tactions: [actionText as string, MessageBox.Action.CANCEL],\n\t\t\temphasizedAction: actionText,\n\t\t\tonClose: async (action: string) => {\n\t\t\t\tif (action === actionText) {\n\t\t\t\t\tthis._setBusy(true);\n\t\t\t\t\tawait this._removeApp(app, group);\n\t\t\t\t\tif (lastAppInGroup) {\n\t\t\t\t\t\tthis._closeGroupDetailDialog();\n\t\t\t\t\t}\n\t\t\t\t\tif (group) {\n\t\t\t\t\t\tthis._refreshGroupDetailDialog(app);\n\t\t\t\t\t}\n\t\t\t\t\tawait (this.getParent() as AppsContainer)._refreshAllPanels();\n\t\t\t\t\tMessageToast.show(this._i18nBundle.getText(\"appRemoved\") as string);\n\t\t\t\t\tthis._setBusy(false);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\t/**\n\t * Removes the specified app from the group or favorites.\n\t * If the app is the last one in the group, the group will be deleted as well.\n\t * If the app is an ungrouped app, its duplicate apps (if any) will also be deleted.\n\t * @param {App} app - The app to be removed.\n\t * @param {Group} [group] - The group from which the app should be removed. If not provided, the app is considered to be in favorites.\n\t * @returns {Promise<void>}\n\t * @private\n\t */\n\tprivate async _removeApp(app: App, group?: Group) {\n\t\tconst lastAppInGroup = group?.getApps()?.length === 1,\n\t\t\tgroupId = group?.getGroupId(),\n\t\t\tappId = app.getUrl(),\n\t\t\tviz = await this.appManagerInstance.getVisualization(appId, groupId);\n\t\tif (lastAppInGroup) {\n\t\t\t//if last app in group, then delete the group as well\n\t\t\tawait this._deleteGroup(groupId!);\n\t\t} else {\n\t\t\tlet visualizationsToBeDeleted = [viz?.visualization?.id];\n\t\t\tif (!groupId) {\n\t\t\t\t//for apps outside group i.e. for favorite apps delete duplicate apps as well\n\t\t\t\tvisualizationsToBeDeleted = visualizationsToBeDeleted.concat(\n\t\t\t\t\tviz?.persConfig?.duplicateApps?.map((viz) => viz.visualization?.id)\n\t\t\t\t);\n\t\t\t}\n\t\t\tif (viz?.persConfig?.sectionId && visualizationsToBeDeleted.length > 0) {\n\t\t\t\tawait this.appManagerInstance.removeVisualizations({\n\t\t\t\t\tsectionId: viz.persConfig.sectionId,\n\t\t\t\t\tvizIds: visualizationsToBeDeleted as string[]\n\t\t\t\t});\n\t\t\t\tvoid this._deletePersonalization({\n\t\t\t\t\tappId: appId,\n\t\t\t\t\toldAppId: viz?.oldAppId,\n\t\t\t\t\tsectionId: viz?.persConfig?.sectionId,\n\t\t\t\t\tisRecentlyAddedApp: viz?.persConfig?.isDefaultSection\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Handler for moving an app from a source group to a target group.\n\t * @param {sap.cux.home.App} app - The app to be moved.\n\t * @param {string} sourceGroupId - The ID of the source group from which the app is being moved.\n\t * @param {string | null} targetGroupId - The ID of the target group to which the app will be moved.\n\t * @private\n\t */\n\tprivate async _handleMoveToGroup(app: App, sourceGroupId?: string, targetGroupId?: string) {\n\t\tconst sourceGroup = sourceGroupId ? this._getGroup(sourceGroupId) : undefined,\n\t\t\tisLastAppInGroup = sourceGroup?.getApps()?.length === 1;\n\n\t\tif (isLastAppInGroup) {\n\t\t\tconst confirmationMessage = this._i18nBundle.getText(\"moveAppMessage\", [app.getTitle()]) as string;\n\t\t\tconst confirmationTitle = this._i18nBundle.getText(\"delete\") as string;\n\t\t\tMessageBox.show(confirmationMessage, {\n\t\t\t\ticon: MessageBox.Icon.WARNING,\n\t\t\t\ttitle: confirmationTitle,\n\t\t\t\tactions: [confirmationTitle, MessageBox.Action.CANCEL],\n\t\t\t\temphasizedAction: confirmationTitle,\n\t\t\t\tonClose: (action: string) => {\n\t\t\t\t\tif (action === confirmationTitle) {\n\t\t\t\t\t\tvoid this._moveAppAndHandleGroupChanges(app, sourceGroupId, targetGroupId);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t} else {\n\t\t\tawait this._moveAppAndHandleGroupChanges(app, sourceGroupId, targetGroupId);\n\t\t}\n\t}\n\n\t/**\n\t * Moves an app to a different group and handles group changes.\n\t * @param {App} app - The app to be moved.\n\t * @param {string} [sourceGroupId] - The ID of the source group from which the app is being moved.\n\t * @param {string} [targetGroupId] - The ID of the target group to which the app is being moved.\n\t * @returns {Promise<void>} - A Promise that resolves once the app is moved and group changes are handled.\n\t * @private\n\t */\n\tprivate async _moveAppAndHandleGroupChanges(app: App, sourceGroupId?: string, targetGroupId?: string) {\n\t\tconst sourceGroup = sourceGroupId ? this._getGroup(sourceGroupId) : null,\n\t\t\ttargetGroup = targetGroupId ? this._getGroup(targetGroupId) : null,\n\t\t\tsTargetGroupTile = targetGroup?.getTitle(),\n\t\t\tisLastAppInGroup = sourceGroup?.getApps()?.length === 1;\n\t\ttry {\n\t\t\tthis._setBusy(true);\n\t\t\tawait this._moveAppToGroup(app, sourceGroupId, targetGroupId);\n\t\t\t//delete group, if it is the last app in the group\n\t\t\tif (isLastAppInGroup && sourceGroupId) {\n\t\t\t\tawait this._deleteGroup(sourceGroupId);\n\t\t\t\tthis._closeGroupDetailDialog();\n\t\t\t}\n\t\t\tif (sourceGroupId) {\n\t\t\t\tthis._refreshGroupDetailDialog(app);\n\t\t\t}\n\t\t\tconst sMsg = sTargetGroupTile\n\t\t\t\t? this._i18nBundle.getText(\"appMoved\", [sTargetGroupTile])\n\t\t\t\t: this._i18nBundle.getText(\"appUngrouped\");\n\t\t\tMessageToast.show(sMsg as string);\n\t\t\tawait this.refresh();\n\t\t} catch (error) {\n\t\t\tLog.error(error as string);\n\t\t} finally {\n\t\t\tthis._setBusy(false);\n\t\t}\n\t}\n\n\t/**\n\t * Refreshes the group detail dialog.\n\t * @param {sap.cux.home.App} updatedApp - The updated app control.\n\t * @param {boolean} [isRemove=true] - A flag indicating whether to remove the app. Defaults to true.\n\t * @private\n\t */\n\tprivate _refreshGroupDetailDialog(updatedApp: App, isRemove = true) {\n\t\tconst appsWrapper = this._controlMap.get(`${this.getId()}-detailDialog-apps`) as GridContainer;\n\t\tconst tiles = appsWrapper.getItems() as GenericTile[];\n\t\tconst group = updatedApp.getParent() as Group;\n\t\tconst groupApps = group.getApps();\n\t\tif (isRemove) {\n\t\t\tconst updatedAppIndex = groupApps.findIndex((groupApp) => groupApp.getUrl() === updatedApp.getUrl());\n\t\t\tgroupApps[updatedAppIndex].destroy(true);\n\t\t\ttiles[updatedAppIndex].destroy(true);\n\t\t} else {\n\t\t\t//update app color, along with duplicate apps, if any\n\t\t\tgroupApps.forEach((groupApp, index) => {\n\t\t\t\tif (groupApp.getUrl() === updatedApp.getUrl()) {\n\t\t\t\t\tgroupApp.setProperty(\"bgColor\", updatedApp.getBgColor(), true);\n\t\t\t\t\ttiles[index].setBackgroundColor(updatedApp.getBgColor());\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\n\t/**\n\t * Moves an app from a source group to a target group.\n\t * @param {sap.cux.home.App} app - The app to be moved.\n\t * @param {string} sourceGroupId - The ID of the source group from which the app is being moved.\n\t * @param {string} targetGroupId - The ID of the target group to which the app will be moved. If null, the default section is considered.\n\t * @private\n\t */\n\tprivate async _moveAppToGroup(app: App, sourceGroupId?: string, targetGroupId?: string) {\n\t\tconst appId = app.getUrl();\n\t\tconst [visualizations, sections] = await Promise.all([\n\t\t\t\tthis.appManagerInstance.getSectionVisualizations(sourceGroupId),\n\t\t\t\tthis.appManagerInstance._getSections()\n\t\t\t]),\n\t\t\tsourceVisualization = visualizations.find((oViz) => oViz.url === appId),\n\t\t\tsourceVisualizationIndex = sourceVisualization?.persConfig?.visualizationIndex ?? -1,\n\t\t\tsourceSectionIndex = sourceVisualization?.persConfig?.sectionIndex as number;\n\t\tconst isTargetGroupDefault = !targetGroupId; //if group id is not passed, then we consider it as default section\n\t\tconst isSourceGroupDefault = !sourceGroupId;\n\t\tconst targetSectionIndex = sections.findIndex((section) => (!targetGroupId ? section.default : section.id === targetGroupId));\n\t\tconst visualization = sourceVisualizationIndex > -1 ? visualizations[sourceVisualizationIndex] : null;\n\n\t\tif (visualization !== null) {\n\t\t\tif (isTargetGroupDefault) {\n\t\t\t\tawait this._moveAppToDefaultGroup(visualization);\n\t\t\t} else {\n\t\t\t\tif (isSourceGroupDefault) {\n\t\t\t\t\t//remove duplicate apps\n\t\t\t\t\tawait this._removeDuplicateVisualizations(visualization);\n\t\t\t\t}\n\t\t\t\tawait this.appManagerInstance.moveVisualization({\n\t\t\t\t\tsourceSectionIndex: sourceSectionIndex,\n\t\t\t\t\tsourceVisualizationIndex: sourceVisualizationIndex,\n\t\t\t\t\ttargetSectionIndex: targetSectionIndex,\n\t\t\t\t\ttargetVisualizationIndex: -1\n\t\t\t\t});\n\t\t\t}\n\t\t\tconst sections = await this.appManagerInstance._getSections(true);\n\t\t\tconst defaultSection = sections.find((oSection) => oSection.default);\n\t\t\tawait this._updateAppPersonalization([\n\t\t\t\t{\n\t\t\t\t\tvisualization: visualization,\n\t\t\t\t\ttargetGroupId: targetGroupId ?? defaultSection?.id,\n\t\t\t\t\tisTargetGroupDefault\n\t\t\t\t}\n\t\t\t]);\n\t\t}\n\t}\n\n\t/**\n\t * Moves a visualization to the default group.\n\t * @param {ICustomVisualization} visualization - The visualization to be moved to the default group.\n\t * @returns {Promise<void>} - A promise that resolves once the visualization is moved to the default group.\n\t * @private\n\t */\n\tprivate async _moveAppToDefaultGroup(visualization: ICustomVisualization) {\n\t\tawait this._addVisualization(visualization);\n\t\tif (visualization.persConfig?.sectionId && visualization.visualization?.id) {\n\t\t\tawait this.appManagerInstance.removeVisualizations({\n\t\t\t\tsectionId: visualization.persConfig?.sectionId,\n\t\t\t\tvizIds: [visualization.visualization?.id]\n\t\t\t});\n\t\t}\n\t}\n\n\t/**\n\t * Removes duplicate visualizations associated with a specific visualization.\n\t * @param {ICustomVisualization} visualization - The visualization for which duplicate visualizations should be removed.\n\t * @returns {Promise<void>} - A promise that resolves once duplicate visualizations are removed.\n\t * @private\n\t */\n\tprivate async _removeDuplicateVisualizations(visualization: ICustomVisualization) {\n\t\tconst vizIdsToBeDeleted = (visualization?.persConfig?.duplicateApps?.map((oViz) => oViz.visualization?.id) || []) as string[];\n\t\tif (visualization.persConfig?.sectionId && vizIdsToBeDeleted.length > 0) {\n\t\t\tawait this.appManagerInstance.removeVisualizations({\n\t\t\t\tsectionId: visualization.persConfig?.sectionId,\n\t\t\t\tvizIds: vizIdsToBeDeleted\n\t\t\t});\n\t\t}\n\t}\n\n\t/**\n\t * Handles the event for renaming a group.\n\t * Opens the group detail dialog in edit mode.\n\t * @private\n\t * @param {sap.ui.base.Event} event - The event object.\n\t */\n\tprivate _onRenameGroup(event: Event) {\n\t\tconst group = event.getSource<MenuItem>()?.getParent() as Group;\n\t\tvoid this._showGroupDetailDialog(group.getGroupId(), true);\n\t}\n\n\t/**\n\t * Event Handler for ungroup apps, shows confirmation dialog, ungroups the apps on confirmation\n\t * @param {sap.cux.home.Group} group - The group from which the apps will be ungrouped.\n\t * @private\n\t */\n\tprivate _handleUngroupApps(group: ISectionAndVisualization) {\n\t\tconst message = this._i18nBundle.getText(\"ungroupAppsMessage\", [group.title]) as string,\n\t\t\ttitle = this._i18nBundle.getText(\"delete\") as string,\n\t\t\tactionText = this._i18nBundle.getText(\"delete\") as string;\n\t\tMessageBox.show(message, {\n\t\t\ticon: MessageBox.Icon.WARNING,\n\t\t\ttitle: title,\n\t\t\tactions: [actionText, MessageBox.Action.CANCEL],\n\t\t\temphasizedAction: actionText,\n\t\t\tonClose: (action: string) => {\n\t\t\t\tif (action === actionText) {\n\t\t\t\t\tvoid this._ungroupApps(group.id!);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\t/**\n\t * Handles the event for deleting a group.\n\t * Shows confirmation dialog to either delete the group and apps, or move the apps in favorites.\n\t * @private\n\t * @param {sap.ui.base.Event} event - The event object.\n\t */\n\tprivate _onDeleteGroup(event: Event) {\n\t\tconst group = event.getSource<MenuItem>()?.getParent() as Group,\n\t\t\tmessage = this._i18nBundle.getText(\"deleteGroupMessage\", [group.getTitle()]) as string,\n\t\t\ttitle = this._i18nBundle.getText(\"delete\") as string,\n\t\t\tdeleteAction = this._i18nBundle.getText(\"delete\") as string,\n\t\t\tmoveAppAction = this._i18nBundle.getText(\"moveApps\") as string;\n\t\tMessageBox.show(message, {\n\t\t\ticon: MessageBox.Icon.WARNING,\n\t\t\ttitle: title,\n\t\t\tactions: [deleteAction, this._i18nBundle.getText(\"moveApps\") as string, MessageBox.Action.CANCEL],\n\t\t\temphasizedAction: deleteAction,\n\t\t\tonClose: async (action: string) => {\n\t\t\t\tif (action === deleteAction) {\n\t\t\t\t\tthis._setBusy(true);\n\t\t\t\t\tawait this._deleteGroup(group.getGroupId());\n\t\t\t\t\tMessageToast.show(this._i18nBundle.getText(\"groupDeleted\") as string);\n\t\t\t\t\tvoid this.refresh();\n\t\t\t\t\tthis._closeGroupDetailDialog();\n\t\t\t\t\tthis._setBusy(false);\n\t\t\t\t} else if (action === moveAppAction) {\n\t\t\t\t\tvoid this._ungroupApps(group.getGroupId());\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\t/**\n\t * Ungroups apps from the specified group Id.\n\t * @async\n\t * @private\n\t * @param {string} groupId - The Id of the group from which apps will be ungrouped.\n\t * @returns {Promise<void>} - A Promise that resolves once the ungrouping process is complete.\n\t */\n\tprivate async _ungroupApps(groupId: string) {\n\t\tthis._setBusy(true);\n\t\tconst visualizations = await this.appManagerInstance.getSectionVisualizations(groupId);\n\t\tconst sections = await this.appManagerInstance._getSections();\n\t\tconst section = sections.find((oSection) => oSection.id === groupId);\n\t\tawait Promise.all(visualizations.map((oViz) => this._addVisualization(oViz)));\n\t\tconst updatedSections = await this.appManagerInstance._getSections(true);\n\t\tconst defaultSection = updatedSections.find((oSection) => oSection.default);\n\t\t//update personalization\n\t\tawait this._updateAppPersonalization(\n\t\t\tvisualizations.map((oViz) => {\n\t\t\t\treturn {\n\t\t\t\t\tvisualization: oViz,\n\t\t\t\t\ttargetGroupId: defaultSection?.id,\n\t\t\t\t\tisTargetGroupDefault: true\n\t\t\t\t};\n\t\t\t})\n\t\t);\n\n\t\t//if preset section, then section shouldn't be deleted, instead remove visualizations inside section\n\t\tif (section?.preset) {\n\t\t\tawait this.appManagerInstance.removeVisualizations({\n\t\t\t\tsectionId: groupId,\n\t\t\t\tvizIds: visualizations.map((oViz) => oViz.visualization?.id) as string[]\n\t\t\t});\n\t\t} else {\n\t\t\tawait this._deleteGroup(groupId);\n\t\t}\n\t\tthis._setBusy(false);\n\t\tMessageToast.show(this._i18nBundle.getText(\"appsUngrouped\") ?? \"\");\n\t\tthis._closeGroupDetailDialog();\n\t\tawait this.refresh();\n\t}\n\n\t/**\n\t * Shows the detail dialog for a group.\n\t * @async\n\t * @param {string} groupId - The Id of the group.\n\t * @param {boolean} [editMode=false] - Whether to open the dialog in edit mode.\n\t * @private\n\t */\n\tprivate async _showGroupDetailDialog(groupId: string, editMode = false) {\n\t\tconst group = this._getGroup(groupId);\n\t\tif (!group) {\n\t\t\treturn;\n\t\t}\n\t\tthis._selectedGroupId = groupId;\n\t\tconst dialog = this._generateGroupDetailDialog();\n\t\t//set group icon\n\t\tconst groupIconControl = this._controlMap.get(`${this.getId()}-detailDialog-toolbar-color`) as Icon;\n\t\tgroupIconControl.setColor(Parameters.get({ name: group.getBgColor() }) as string);\n\t\t//set group apps\n\t\tawait this._setGroupDetailDialogApps(groupId);\n\t\tdialog.open();\n\t\t//set group title\n\t\tthis._setGroupNameControl(group.getTitle(), editMode);\n\t}\n\n\t/**\n\t * Sets the apps for the detail dialog for a group.\n\t * @async\n\t * @param {string} groupId - The Id of the group.\n\t * @returns {Promise<void>} - A Promise that resolves once the apps for the group detail dialog are set.\n\t * @private\n\t */\n\tprivate async _setGroupDetailDialogApps(groupId: string) {\n\t\tconst group = this._getGroup(groupId);\n\t\tif (group) {\n\t\t\tlet appVisualizations = await this.appManagerInstance.getSectionVisualizations(groupId, false);\n\t\t\tappVisualizations = appVisualizations.map((appVisualization) => {\n\t\t\t\treturn {\n\t\t\t\t\t...appVisualization,\n\t\t\t\t\tmenuItems: this._getAppActions(group) //add actions to show in group\n\t\t\t\t};\n\t\t\t});\n\t\t\tgroup.destroyAggregation(\"apps\", true);\n\t\t\tconst apps = this.generateApps(appVisualizations);\n\t\t\tconst appsWrapper = this._controlMap.get(`${this.getId()}-detailDialog-apps`) as GridContainer;\n\t\t\tthis._setAggregation(group, apps, \"apps\");\n\t\t\tappsWrapper.destroyItems();\n\t\t\tthis._setAggregation(\n\t\t\t\tappsWrapper,\n\t\t\t\tgroup.getApps().map((app) => (this.getParent() as AppsContainer)._getAppTile(app))\n\t\t\t);\n\t\t\tthis._applyGroupedAppsPersonalization(groupId);\n\t\t\tthis._dispatchAppsLoadedEvent(apps);\n\t\t}\n\t}\n\n\t/**\n\t * Applies personalization to the grouped apps within the specified group.\n\t * @param {string} groupId - The ID of the group to which the apps belong.\n\t * @private\n\t */\n\tprivate _applyGroupedAppsPersonalization(groupId: string) {\n\t\tconst appsWrapper = this._controlMap.get(`${this.getId()}-detailDialog-apps`) as GridContainer;\n\t\tconst tiles = (appsWrapper?.getItems() || []) as GenericTile[];\n\t\tvoid this._applyTilesPersonalization(tiles, groupId, false);\n\t}\n\n\t/**\n\t * Applies Deprecated Info for apps inside the group.\n\t * @param {App[]} apps - The ID of the group to which the apps belong.\n\t * @private\n\t */\n\tprivate _dispatchAppsLoadedEvent(apps: App[]) {\n\t\tconst appsWrapper = this._controlMap.get(`${this.getId()}-detailDialog-apps`) as GridContainer;\n\t\tconst tiles = (appsWrapper?.getItems() || []) as GenericTile[];\n\t\t(this.getParent() as AppsContainer).fireEvent(\"appsLoaded\", { apps, tiles });\n\t}\n\n\t/**\n\t * Generates the group detail dialog.\n\t * @private\n\t * @returns {sap.m.Dialog} The generated detail dialog for the group.\n\t */\n\tprivate _generateGroupDetailDialog() {\n\t\tconst id = `${this.getId()}-detailDialog`;\n\t\tif (!this._controlMap.get(id)) {\n\t\t\t//group color icon\n\t\t\tthis._controlMap.set(\n\t\t\t\t`${id}-toolbar-color`,\n\t\t\t\tnew Icon({\n\t\t\t\t\tid: `${id}-toolbar-color`,\n\t\t\t\t\tsrc: \"sap-icon://color-fill\",\n\t\t\t\t\tsize: \"1.25rem\"\n\t\t\t\t}).addStyleClass(\"sapUiTinyMarginEnd\")\n\t\t\t);\n\n\t\t\tthis._controlMap.set(\n\t\t\t\t`${id}-toolbar-title`,\n\t\t\t\tnew Title({\n\t\t\t\t\tid: `${id}-toolbar-title`,\n\t\t\t\t\tvisible: true\n\t\t\t\t})\n\t\t\t);\n\n\t\t\tconst oGroupNameInput = new Input({\n\t\t\t\tid: `${id}-toolbar-title-edit`,\n\t\t\t\twidth: \"13.75rem\",\n\t\t\t\tvisible: false\n\t\t\t});\n\n\t\t\tthis._controlMap.set(`${id}-toolbar-title-edit`, oGroupNameInput);\n\n\t\t\toGroupNameInput.onsapfocusleave = () => {\n\t\t\t\tvoid this._onGroupEditName(oGroupNameInput.getValue());\n\t\t\t};\n\n\t\t\t//apps wrapper\n\t\t\tthis._controlMap.set(\n\t\t\t\t`${id}-apps`,\n\t\t\t\tnew GridContainer({\n\t\t\t\t\tid: `${id}-apps`,\n\t\t\t\t\tlayout: new GridContainerSettings({\n\t\t\t\t\t\tcolumnSize: \"19rem\",\n\t\t\t\t\t\tgap: \"0.5rem\"\n\t\t\t\t\t})\n\t\t\t\t})\n\t\t\t\t\t?.addDragDropConfig(\n\t\t\t\t\t\tnew DragDropInfo(`${id}-apps-dragDropInfo`, {\n\t\t\t\t\t\t\tsourceAggregation: \"items\",\n\t\t\t\t\t\t\ttargetAggregation: \"items\",\n\t\t\t\t\t\t\tdropPosition: dnd.DropPosition.Between,\n\t\t\t\t\t\t\tdropLayout: dnd.DropLayout.Horizontal,\n\t\t\t\t\t\t\tdrop: (event) => {\n\t\t\t\t\t\t\t\tvoid this._onFavItemDrop(event, this._selectedGroupId);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t)\n\t\t\t\t\t.attachBrowserEvent(\"keydown\", (event: KeyboardEvent) => {\n\t\t\t\t\t\tconst disablenavigation = event.metaKey || event.ctrlKey;\n\t\t\t\t\t\tvoid attachKeyboardHandler(event, disablenavigation, (dragDropEvent: Event) =>\n\t\t\t\t\t\t\tthis._onFavItemDrop(dragDropEvent, this._selectedGroupId)\n\t\t\t\t\t\t);\n\t\t\t\t\t})\n\t\t\t\t\t.addStyleClass(\"sapCuxAppsContainerBorder sapCuxAppsDetailContainerPadding\")\n\t\t\t);\n\n\t\t\t//add apps button\n\t\t\tthis._controlMap.set(\n\t\t\t\t`${id}-addAppsBtn`,\n\t\t\t\tnew Button(`${id}-addAppsBtn`, {\n\t\t\t\t\ttext: this._i18nBundle.getText(\"addApps\"),\n\t\t\t\t\ticon: \"sap-icon://action\",\n\t\t\t\t\tvisible: _showAddApps(),\n\t\t\t\t\tpress: () => {\n\t\t\t\t\t\tconst groupId = this._selectedGroupId;\n\t\t\t\t\t\tthis._closeGroupDetailDialog();\n\t\t\t\t\t\tthis._selectedGroupId = groupId;\n\t\t\t\t\t\tvoid this.navigateToAppFinder(groupId);\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t);\n\n\t\t\tthis._controlMap.set(\n\t\t\t\tid,\n\t\t\t\tnew Dialog(id, {\n\t\t\t\t\tcontent: this._controlMap.get(`${id}-apps`) as HBox,\n\t\t\t\t\tcontentWidth: \"60.75rem\",\n\t\t\t\t\tendButton: new Button({\n\t\t\t\t\t\tid: `${id}-groupDetailCloseBtn`,\n\t\t\t\t\t\ttext: this._i18nBundle.getText(\"closeBtn\"),\n\t\t\t\t\t\tpress: this._closeGroupDetailDialog.bind(this)\n\t\t\t\t\t}),\n\t\t\t\t\tescapeHandler: this._closeGroupDetailDialog.bind(this),\n\t\t\t\t\tcustomHeader: new Toolbar(`${this.getId()}-toolbar`, {\n\t\t\t\t\t\tcontent: [\n\t\t\t\t\t\t\tthis._controlMap.get(`${id}-toolbar-color`) as Icon,\n\t\t\t\t\t\t\tthis._controlMap.get(`${id}-toolbar-title`) as Title,\n\t\t\t\t\t\t\tthis._controlMap.get(`${id}-toolbar-title-edit`) as Input,\n\t\t\t\t\t\t\tnew ToolbarSpacer({ id: `${this.getId()}-toolbarSpacer` }),\n\t\t\t\t\t\t\tthis._controlMap.get(`${id}-addAppsBtn`) as Button,\n\t\t\t\t\t\t\tnew Button({\n\t\t\t\t\t\t\t\tid: \"overflowBtn\",\n\t\t\t\t\t\t\t\ticon: \"sap-icon://overflow\",\n\t\t\t\t\t\t\t\ttype: \"Transparent\",\n\t\t\t\t\t\t\t\tpress: (event) => {\n\t\t\t\t\t\t\t\t\tconst source = event.getSource<Button>();\n\t\t\t\t\t\t\t\t\tconst group = this._selectedGroupId ? this._getGroup(this._selectedGroupId) : null;\n\t\t\t\t\t\t\t\t\tconst groupActions = group?.getAggregation(\"menuItems\") as MenuItem[];\n\t\t\t\t\t\t\t\t\tconst oPopover = ActionsPopover.get(groupActions);\n\t\t\t\t\t\t\t\t\toPopover.openBy(source);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t]\n\t\t\t\t\t})\n\t\t\t\t}).addStyleClass(\"sapCuxGroupDetailDialog\")\n\t\t\t);\n\t\t}\n\t\treturn this._controlMap.get(id) as Dialog;\n\t}\n\n\t/**\n\t * Closes the group detail dialog.\n\t * @private\n\t */\n\tprivate _closeGroupDetailDialog() {\n\t\tconst groupDetailDialog = this._controlMap.get(`${this.getId()}-detailDialog`) as Dialog;\n\t\tthis._selectedGroupId = undefined;\n\t\tgroupDetailDialog?.close();\n\t}\n\n\t/**\n\t * Updates the group name with new name.\n\t * This method is triggered on group name input focus leave.\n\t * @private\n\t * @async\n\t * @param {string} updatedTitle - The new title for the group.\n\t */\n\tprivate async _onGroupEditName(updatedTitle: string) {\n\t\tthis._setBusy(true);\n\t\tconst groupId = this._selectedGroupId,\n\t\t\tgroup = this._getGroup(groupId!),\n\t\t\toldTitle = group?.getTitle();\n\t\tif (updatedTitle && updatedTitle !== oldTitle) {\n\t\t\tawait this._renameGroup(groupId!, updatedTitle);\n\t\t\tgroup?.setProperty(\"title\", updatedTitle, true);\n\t\t\tvoid this.refresh();\n\t\t\tMessageToast.show(this._i18nBundle.getText(\"groupNameChanged\") || \"\");\n\t\t}\n\t\tthis._setGroupNameControl(updatedTitle, false);\n\t\tthis._setBusy(false);\n\t}\n\n\t/**\n\t * Renames a group.\n\t * @async\n\t * @param {string} groupId - The Id of the group to rename.\n\t * @param {string} updatedTitle - The new title for the group.\n\t * @returns {Promise<void>} A Promise that resolves once the group is renamed.\n\t */\n\tprivate async _renameGroup(groupId: string, updatedTitle: string) {\n\t\tconst pagesService = await Container.getServiceAsync<Pages>(\"Pages\");\n\t\tconst pageIndex = pagesService.getPageIndex(MYHOME_PAGE_ID),\n\t\t\tgroups = pagesService.getModel().getProperty(`/pages/${pageIndex}/sections/`) as ISection[],\n\t\t\tgroupIndex = groups.findIndex((group) => group.id === groupId);\n\t\tif (groupIndex > -1) {\n\t\t\tawait pagesService.renameSection(pageIndex, groupIndex, updatedTitle);\n\t\t}\n\t}\n\n\t/**\n\t * Sets the group name control in the detail dialog.\n\t * Shows input control to edit the group name in edit mode, otherwise, shows group name as title control.\n\t * @private\n\t * @param {string} groupTitle - The title of the group.\n\t * @param {boolean} editMode - Whether the dialog is in edit mode.\n\t */\n\tprivate _setGroupNameControl(groupTitle: string, editMode: boolean) {\n\t\tconst groupDetailDialog = this._controlMap.get(`${this.getId()}-detailDialog`) as Dialog;\n\t\tconst groupTitleControl = this._controlMap.get(`${this.getId()}-detailDialog-toolbar-title`) as Title;\n\t\tconst groupInputControl = this._controlMap.get(`${this.getId()}-detailDialog-toolbar-title-edit`) as Input;\n\t\tgroupInputControl.setValue(groupTitle);\n\t\tgroupTitleControl.setText(groupTitle);\n\t\tgroupInputControl?.setVisible(editMode);\n\t\tgroupTitleControl?.setVisible(!editMode);\n\t\tif (editMode) {\n\t\t\t//in edit mode set the focus on input\n\t\t\tgroupDetailDialog.setInitialFocus(groupInputControl);\n\t\t}\n\t}\n\n\t/**\n\t * Generates the dialog for adding apps from insights.\n\t * @returns {sap.m.Dialog} The dialog for adding apps from insights.\n\t * @private\n\t */\n\tprivate _generateAddFromInsightsDialog() {\n\t\tconst id = `${this.getId()}-addFromInsightsDialog`;\n\n\t\tconst setAddBtnEnabled = () => {\n\t\t\tconst selectedItems = this._getSelectedInsights();\n\t\t\t(this._controlMap.get(`${id}-addBtn`) as Button).setEnabled(selectedItems.length > 0);\n\t\t};\n\n\t\tif (!this._controlMap.get(id)) {\n\t\t\tconst getAppFinderBtn = (id: string, btnType?: ButtonType) => {\n\t\t\t\tconst appsAppFinder = new Button(id, {\n\t\t\t\t\ticon: \"sap-icon://action\",\n\t\t\t\t\ttext: this._i18nBundle.getText(\"appFinderBtn\"),\n\t\t\t\t\tpress: () => {\n\t\t\t\t\t\tthis._closeAddFromInsightsDialog();\n\t\t\t\t\t\tvoid this.navigateToAppFinder();\n\t\t\t\t\t},\n\t\t\t\t\tvisible: _showAddApps(),\n\t\t\t\t\ttype: btnType || ButtonType.Default\n\t\t\t\t});\n\t\t\t\taddFESRSemanticStepName(appsAppFinder, \"press\", \"appsAppFinder\");\n\t\t\t\treturn appsAppFinder;\n\t\t\t};\n\t\t\tthis._controlMap.set(\n\t\t\t\t`${id}-list`,\n\t\t\t\tnew List({\n\t\t\t\t\tid: `${id}-list`,\n\t\t\t\t\tmode: \"MultiSelect\",\n\t\t\t\t\tselectionChange: setAddBtnEnabled\n\t\t\t\t})\n\t\t\t);\n\t\t\tthis._controlMap.set(\n\t\t\t\t`${id}-addBtn`,\n\t\t\t\tnew Button({\n\t\t\t\t\tid: `${id}-addBtn`,\n\t\t\t\t\ttext: this._i18nBundle.getText(\"addFromInsightsDialogBtn\"),\n\t\t\t\t\ttype: \"Emphasized\",\n\t\t\t\t\tpress: () => {\n\t\t\t\t\t\tvoid this._addFromInsights();\n\t\t\t\t\t},\n\t\t\t\t\tenabled: false\n\t\t\t\t})\n\t\t\t);\n\t\t\tconst addStaticTiles = this._controlMap.get(`${id}-addBtn`) as Button;\n\t\t\taddFESRSemanticStepName(addStaticTiles, \"press\", \"addStaticTiles\");\n\t\t\tthis._controlMap.set(\n\t\t\t\t`${id}-errorMessage`,\n\t\t\t\tnew IllustratedMessage({\n\t\t\t\t\tid: `${id}-errorMessage`,\n\t\t\t\t\tillustrationSize: \"Spot\",\n\t\t\t\t\tillustrationType: \"sapIllus-AddColumn\",\n\t\t\t\t\ttitle: this._i18nBundle.getText(\"noAppsTitle\"),\n\t\t\t\t\tdescription: this._i18nBundle.getText(\"noDataMsgInsightTiles\"),\n\t\t\t\t\tvisible: true\n\t\t\t\t}).addStyleClass(\"sapUiLargeMarginTop\")\n\t\t\t);\n\t\t\tthis._controlMap.set(\n\t\t\t\tid,\n\t\t\t\tnew Dialog(id, {\n\t\t\t\t\ttitle: this._i18nBundle.getText(\"addFromInsights\"),\n\t\t\t\t\tcontent: [\n\t\t\t\t\t\tnew Label({\n\t\t\t\t\t\t\tid: `${id}-label`,\n\t\t\t\t\t\t\ttext: this._i18nBundle.getText(\"addFromInsightsDialogLabel\"),\n\t\t\t\t\t\t\twrapping: true\n\t\t\t\t\t\t}).addStyleClass(\"sapMTitleAlign sapUiTinyMarginTopBottom sapUiSmallMarginBeginEnd\"),\n\t\t\t\t\t\tnew HBox({\n\t\t\t\t\t\t\tid: `${id}-textContainer`,\n\t\t\t\t\t\t\tjustifyContent: \"SpaceBetween\",\n\t\t\t\t\t\t\talignItems: \"Center\",\n\t\t\t\t\t\t\titems: [\n\t\t\t\t\t\t\t\tnew Title({\n\t\t\t\t\t\t\t\t\tid: `${id}-text`,\n\t\t\t\t\t\t\t\t\ttext: this._i18nBundle.getText(\"addFromInsightsDialogTitle\")\n\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t\tgetAppFinderBtn(`${id}-addAppsBtn`, ButtonType.Transparent)\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t}).addStyleClass(\"sapUiTinyMarginTop dialogHeader sapUiSmallMarginBeginEnd\"),\n\t\t\t\t\t\tthis._controlMap.get(`${id}-list`) as List,\n\t\t\t\t\t\tthis._controlMap.get(`${id}-errorMessage`) as IllustratedMessage\n\t\t\t\t\t],\n\t\t\t\t\tcontentWidth: \"42.75rem\",\n\t\t\t\t\tcontentHeight: \"32.5rem\",\n\t\t\t\t\tendButton: new Button({\n\t\t\t\t\t\tid: `${id}-addFromInsightsCloseBtn`,\n\t\t\t\t\t\ttext: this._i18nBundle.getText(\"closeBtn\"),\n\t\t\t\t\t\tpress: this._closeAddFromInsightsDialog.bind(this)\n\t\t\t\t\t}),\n\t\t\t\t\tescapeHandler: this._closeAddFromInsightsDialog.bind(this),\n\t\t\t\t\tbuttons: [\n\t\t\t\t\t\tthis._controlMap.get(`${id}-addBtn`) as Button,\n\t\t\t\t\t\tnew Button({\n\t\t\t\t\t\t\tid: `${id}-cancelBtn`,\n\t\t\t\t\t\t\ttext: this._i18nBundle.getText(\"cancelBtn\"),\n\t\t\t\t\t\t\tpress: this._closeAddFromInsightsDialog.bind(this)\n\t\t\t\t\t\t})\n\t\t\t\t\t]\n\t\t\t\t}).addStyleClass(\"sapContrastPlus sapCuxAddFromInsightsDialog\")\n\t\t\t);\n\t\t}\n\t\tsetAddBtnEnabled();\n\t\treturn this._controlMap.get(id) as Dialog;\n\t}\n\n\t/**\n\t * Handles the addition of apps from insights.\n\t * @returns {Promise<void>} A Promise that resolves when the operation is complete.\n\t * @private\n\t */\n\tprivate async _handleAddFromInsights() {\n\t\tconst appsToAdd = await this._getInsightTilesToAdd();\n\t\tconst dialog = this._generateAddFromInsightsDialog();\n\t\t(this._controlMap.get(`${this.getId()}-addFromInsightsDialog-errorMessage`) as IllustratedMessage)?.setVisible(\n\t\t\tappsToAdd.length === 0\n\t\t);\n\t\tthis._generateInsightListItems(appsToAdd);\n\t\tdialog.open();\n\t}\n\n\t/**\n\t * Generates list items for the provided apps and populates the list in the \"Add from Insights\" dialog.\n\t * @param {ICustomVisualization[]} apps - An array of custom visualizations representing the apps to be added.\n\t * @private\n\t */\n\tprivate _generateInsightListItems(apps: ICustomVisualization[]) {\n\t\tconst list = this._controlMap.get(`${this.getId()}-addFromInsightsDialog-list`) as List;\n\t\tif (apps.length) {\n\t\t\tlist.destroyItems();\n\t\t\tconst listItems = apps.map(\n\t\t\t\t(app, index) =>\n\t\t\t\t\tnew CustomListItem({\n\t\t\t\t\t\tid: `${this.getId()}-addFromInsightsDialog-listItem-${index}`,\n\t\t\t\t\t\tcontent: [\n\t\t\t\t\t\t\tnew HBox({\n\t\t\t\t\t\t\t\tid: `${this.getId()}-addFromInsightsDialog-listItem-${index}-content`,\n\t\t\t\t\t\t\t\talignItems: \"Center\",\n\t\t\t\t\t\t\t\titems: [\n\t\t\t\t\t\t\t\t\tnew Icon({\n\t\t\t\t\t\t\t\t\t\tid: `${this.getId()}-addFromInsightsDialog-listItem-${index}-content-icon`,\n\t\t\t\t\t\t\t\t\t\tsrc: app.icon,\n\t\t\t\t\t\t\t\t\t\tbackgroundColor: this._getLegendColor(app.BGColor || \"\").value,\n\t\t\t\t\t\t\t\t\t\tcolor: \"white\",\n\t\t\t\t\t\t\t\t\t\twidth: \"2.25rem\",\n\t\t\t\t\t\t\t\t\t\theight: \"2.25rem\",\n\t\t\t\t\t\t\t\t\t\tsize: \"1.25rem\"\n\t\t\t\t\t\t\t\t\t}).addStyleClass(\"sapUiRoundedBorder sapUiTinyMargin\"),\n\t\t\t\t\t\t\t\t\tnew ObjectIdentifier({\n\t\t\t\t\t\t\t\t\t\tid: `${this.getId()}-addFromInsightsDialog-listItem-${index}-content-identifier`,\n\t\t\t\t\t\t\t\t\t\ttitle: app.title,\n\t\t\t\t\t\t\t\t\t\ttext: app.subtitle,\n\t\t\t\t\t\t\t\t\t\ttooltip: app.title\n\t\t\t\t\t\t\t\t\t}).addStyleClass(\"sapUiTinyMargin\")\n\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t]\n\t\t\t\t\t})\n\t\t\t\t\t\t.addStyleClass(\"sapUiContentPadding\")\n\t\t\t\t\t\t.data(\"vizId\", app.visualization?.vizId) as CustomListItem\n\t\t\t);\n\t\t\tthis._setAggregation(list, listItems);\n\t\t}\n\t\tlist?.setVisible(apps.length !== 0);\n\t}\n\n\t/**\n\t * Retrieves the insight tiles to add.\n\t * @returns {Promise<ICustomVisualization[]>} A Promise that resolves with an array of insight tiles to add.\n\t * @private\n\t */\n\tprivate async _getInsightTilesToAdd() {\n\t\tconst [insightsApps, favoriteApps] = await Promise.all([\n\t\t\tthis.appManagerInstance.fetchInsightApps(true, this._i18nBundle.getText(\"insights\") as string),\n\t\t\tthis.appManagerInstance.fetchFavVizs(false, true)\n\t\t]); //check force refresh true?\n\t\t//find the visualizations that are present in insight tile but not in favorite apps\n\t\tconst appsToAdd = insightsApps.reduce((appsToAdd: ICustomVisualization[], insightsApp) => {\n\t\t\tif (!insightsApp.isCount && !insightsApp.isSmartBusinessTile) {\n\t\t\t\t// Check if App is not present in Fav Apps\n\t\t\t\tconst iAppIndex = favoriteApps.findIndex(\n\t\t\t\t\t(favoriteApp) =>\n\t\t\t\t\t\tfavoriteApp.visualization?.vizId === insightsApp.visualization?.vizId || favoriteApp.appId === insightsApp.appId\n\t\t\t\t);\n\t\t\t\tif (iAppIndex === -1) {\n\t\t\t\t\tappsToAdd.push(insightsApp);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn appsToAdd;\n\t\t}, []);\n\t\treturn this.appManagerInstance._filterDuplicateVizs(appsToAdd, false);\n\t}\n\n\t/**\n\t * Closes the dialog for adding apps from insights.\n\t * @private\n\t */\n\tprivate _closeAddFromInsightsDialog() {\n\t\tconst dialog = this._generateAddFromInsightsDialog();\n\t\tconst list = this._controlMap.get(`${this.getId()}-addFromInsightsDialog-list`) as List;\n\t\tlist.removeSelections();\n\t\tdialog?.close();\n\t}\n\n\t/**\n\t * Retrieves the selected insights from the dialog.\n\t * @returns {sap.m.ListItemBase[]} An array of selected insights.\n\t * @private\n\t */\n\tprivate _getSelectedInsights() {\n\t\tconst list = this._controlMap.get(`${this.getId()}-addFromInsightsDialog-list`) as List;\n\t\treturn list.getSelectedItems() || [];\n\t}\n\n\t/**\n\t * Adds apps from insights.\n\t * @returns {void}\n\t * @private\n\t */\n\tprivate async _addFromInsights() {\n\t\tthis._setBusy(true);\n\t\tconst selectedItems = this._getSelectedInsights();\n\t\tfor (const selectedItem of selectedItems) {\n\t\t\tawait this.appManagerInstance.addVisualization(selectedItem.data(\"vizId\") as string);\n\t\t}\n\t\tthis._closeAddFromInsightsDialog();\n\t\tMessageToast.show(\n\t\t\tthis._i18nBundle.getText(selectedItems.length === 1 ? \"addFromInsightTileSuccess\" : \"addFromInsightTilesSuccess\", [\n\t\t\t\tselectedItems.length\n\t\t\t]) as string\n\t\t);\n\t\tawait (this.getParent() as AppsContainer)._refreshAllPanels();\n\t\tthis._setBusy(false);\n\t}\n\n\t/**\n\t * Updates the personalization data for apps.\n\t * @param {IUpdatePersonalizationConfig[]} updateConfigs - The array of configurations for updating personalization.\n\t * @param {IUpdatePersonalizationConfig} updateConfig - Configuration object for updating personalization.\n\t * @param {ICustomVisualization} updateConfig.visualization - Visualization.\n\t * @param {string} updateConfig.color - The color to update for the app.\n\t * @param {boolean} updateConfig.isTargetGroupDefault - A flag indicating whether the target section is the default.\n\t * @param {string} [updateConfig.targetGroupId] - The Id of the target group. Defaults to source group Id if not provided.\n\t * @returns {Promise<void>} A promise that resolves when the personalization data is updated.\n\t * @private\n\t */\n\tprivate async _updateAppPersonalization(updateConfigs: IUpdatePersonalizationConfig[]) {\n\t\tconst personalizations = await this._getAppPersonalization();\n\n\t\tfor (const updateConfig of updateConfigs) {\n\t\t\tconst { visualization } = updateConfig;\n\t\t\tconst { persConfig } = visualization;\n\t\t\tconst sourceGroupId = persConfig?.sectionId;\n\t\t\tconst targetGroupId = updateConfig.targetGroupId ?? sourceGroupId;\n\n\t\t\tif (sourceGroupId !== targetGroupId) {\n\t\t\t\t//move app scenario\n\t\t\t\tthis._updateMoveAppPersonalization(personalizations, updateConfig);\n\t\t\t} else {\n\t\t\t\t//only color is updated\n\t\t\t\tthis._updateAppColorPersonalization(personalizations, updateConfig);\n\t\t\t}\n\t\t}\n\t\tawait this.setFavAppsPersonalization(personalizations);\n\t}\n\n\t/**\n\t * Updates the color personalization for an app.\n\t * @param {IAppPersonalization[]} personalizations - The array of app personalizations.\n\t * @param {IUpdatePersonalizationConfig} updateConfig - The update configuration.\n\t * @returns {void}\n\t * @private\n\t */\n\tprivate _updateAppColorPersonalization = (personalizations: IAppPersonalization[], updateConfig: IUpdatePersonalizationConfig) => {\n\t\tconst { visualization, color } = updateConfig;\n\t\tconst { appId, oldAppId, persConfig } = visualization;\n\t\tconst sourceGroupId = persConfig?.sectionId;\n\t\tconst isSourceGroupDefault = persConfig?.isDefaultSection;\n\t\tconst personalizationIndex = this._getPersonalizationIndex(personalizations, {\n\t\t\tappId,\n\t\t\toldAppId,\n\t\t\tsectionId: sourceGroupId,\n\t\t\tisRecentlyAddedApp: isSourceGroupDefault\n\t\t});\n\t\tif (personalizationIndex > -1) {\n\t\t\tpersonalizations[personalizationIndex].BGColor = color as string;\n\t\t} else {\n\t\t\tpersonalizations.push({\n\t\t\t\tBGColor: color as string,\n\t\t\t\tsectionId: sourceGroupId,\n\t\t\t\tisRecentlyAddedApp: isSourceGroupDefault as boolean,\n\t\t\t\tappId,\n\t\t\t\tisSection: false\n\t\t\t});\n\t\t}\n\t};\n\n\t/**\n\t * Updates the personalization when an app is moved to a different group.\n\t * @param {IAppPersonalization[]} personalizations - The array of app personalizations.\n\t * @param {IUpdatePersonalizationConfig} updateConfig - The update configuration.\n\t * @returns {void}\n\t * @private\n\t */\n\tprivate _updateMoveAppPersonalization(personalizations: IAppPersonalization[], updateConfig: IUpdatePersonalizationConfig) {\n\t\tconst { visualization, isTargetGroupDefault } = updateConfig;\n\t\tconst { appId, oldAppId, persConfig } = visualization;\n\t\tconst sourceGroupId = persConfig?.sectionId;\n\t\tconst isSourceGroupDefault = persConfig?.isDefaultSection;\n\t\tconst duplicateApps = persConfig?.duplicateApps || [];\n\t\tconst targetGroupId = updateConfig.targetGroupId ?? sourceGroupId;\n\n\t\tconst sourcePersonalizationIndex = this._getPersonalizationIndex(personalizations, {\n\t\t\tappId,\n\t\t\toldAppId,\n\t\t\tsectionId: sourceGroupId,\n\t\t\tisRecentlyAddedApp: isSourceGroupDefault\n\t\t});\n\t\t//if personalization exists for app in source group\n\t\tif (sourcePersonalizationIndex > -1) {\n\t\t\tconst newPersonalization = {\n\t\t\t\t...personalizations[sourcePersonalizationIndex],\n\t\t\t\tsectionId: targetGroupId,\n\t\t\t\tisRecentlyAddedApp: isTargetGroupDefault,\n\t\t\t\tisSection: false\n\t\t\t} as IAppPersonalization;\n\t\t\t//if no duplicate apps in source group, clean up source group personlization\n\t\t\tif (duplicateApps.length === 0) {\n\t\t\t\tpersonalizations.splice(sourcePersonalizationIndex, 1);\n\t\t\t}\n\n\t\t\t//update target personalization\n\t\t\tconst iTargetPersonalizationIndex = this._getPersonalizationIndex(personalizations, {\n\t\t\t\tappId,\n\t\t\t\toldAppId,\n\t\t\t\tsectionId: targetGroupId,\n\t\t\t\tisRecentlyAddedApp: isTargetGroupDefault\n\t\t\t});\n\t\t\tif (iTargetPersonalizationIndex > -1) {\n\t\t\t\tpersonalizations.splice(iTargetPersonalizationIndex, 1); //clean up any existing personalization\n\t\t\t}\n\t\t\t//push new personalization for target group\n\t\t\tpersonalizations.push(newPersonalization);\n\t\t}\n\t}\n\n\t/**\n\t * Updates the personalization data for a group with the selected color.\n\t * @param {string} groupId - The ID of the group.\n\t * @param {string} selectedColor - The selected color for the group.\n\t * @returns {Promise<void>} A promise that resolves when the personalization data is updated.\n\t * @private\n\t */\n\tprivate async _updateGroupPersonalization(groupId: string, selectedColor: string) {\n\t\tconst personalizations = await this._getAppPersonalization();\n\t\tconst personalizationIndex = this._getPersonalizationIndex(personalizations, {\n\t\t\tisSection: true,\n\t\t\tsectionId: groupId\n\t\t});\n\t\tconst updatedPersonalization = {\n\t\t\tBGColor: selectedColor,\n\t\t\tisSection: true,\n\t\t\tsectionId: groupId,\n\t\t\tisRecentlyAddedApp: false\n\t\t};\n\t\tif (personalizationIndex > -1) {\n\t\t\t//if color is already present for the group, update the color\n\t\t\tpersonalizations[personalizationIndex] = updatedPersonalization;\n\t\t} else {\n\t\t\tpersonalizations.push(updatedPersonalization);\n\t\t}\n\t\tawait this.setFavAppsPersonalization(personalizations);\n\t}\n\n\t/**\n\t * Finds the index of personalization data matching the specified properties.\n\t * @param {IAppPersonalization[]} personalizations - The array of personalization data.\n\t * @param {IAppPersonalization} appPersonalization - The properties to match for finding the index.\n\t * @param {string} [appPersonalization.appId] -  id of the app.\n\t * @param {string} [appPersonalization.oldAppId] - old id of the app.\n\t * @param {string} [appPersonalization.sectionId] - id of the section.\n\t * @param {boolean} appPersonalization.isSection - A flag indicating whether the personalization is for a section.\n\t * @param {boolean} appPersonalization.isRecentlyAddedApp - A flag indicating whether the app is a recently added app.\n\t * @returns {number} The index of the matching personalization data, or -1 if not found.\n\t * @private\n\t */\n\tprivate _getPersonalizationIndex(personalizations: IAppPersonalization[], appPersonalization: IAppPersonalizationConfig) {\n\t\tconst { appId, oldAppId, sectionId, isSection, isRecentlyAddedApp } = appPersonalization;\n\t\treturn personalizations.findIndex((personalization) => {\n\t\t\tif (isSection) {\n\t\t\t\treturn personalization.sectionId === sectionId && personalization.isSection;\n\t\t\t} else {\n\t\t\t\treturn isRecentlyAddedApp\n\t\t\t\t\t? (personalization.appId === appId || personalization.appId === oldAppId) && personalization.isRecentlyAddedApp\n\t\t\t\t\t: (personalization.appId === appId || personalization.appId === oldAppId) && personalization.sectionId === sectionId;\n\t\t\t}\n\t\t});\n\t}\n\n\t/**\n\t * Adds a visualization.\n\t * @param {object} oViz - The visualization to be added.\n\t * @param {object} oViz.visualization - The visualization object.\n\t * @param {boolean} [oViz.visualization.isBookmark=false] - Indicates if the visualization is a bookmark.\n\t * @param {string} [oViz.visualization.vizId] - The ID of the visualization if it's not a bookmark.\n\t * @returns {Promise<void>} A promise that resolves to void after the visualization is added.\n\t * @private\n\t */\n\tprivate _addVisualization(viz: ICustomVisualization) {\n\t\tif (viz.visualization) {\n\t\t\treturn viz.visualization.isBookmark\n\t\t\t\t? this.appManagerInstance.addBookMark(viz.visualization)\n\t\t\t\t: this.appManagerInstance.addVisualization(viz.visualization.vizId);\n\t\t}\n\t\treturn Promise.reject(new Error(\"No visualization provided to add\"));\n\t}\n\n\t/**\n\t * Deletes a group.\n\t * @param {string} groupId - The Id of the group to delete.\n\t * @returns {Promise<void>} A Promise that resolves once the group is deleted.\n\t * @private\n\t */\n\tprivate async _deleteGroup(groupId: string) {\n\t\tconst pagesService = await Container.getServiceAsync<Pages>(\"Pages\");\n\t\tconst pageIndex = pagesService.getPageIndex(MYHOME_PAGE_ID),\n\t\t\tgroups = pagesService.getModel().getProperty(`/pages/${pageIndex}/sections/`) as ISection[],\n\t\t\tgroupIndex = groups.findIndex((group) => group.id === groupId);\n\t\tif (groupIndex > -1) {\n\t\t\tawait pagesService.deleteSection(pageIndex, groupIndex);\n\t\t\tvoid this._deletePersonalization({ sectionId: groupId, isSection: true });\n\t\t}\n\t}\n\n\t/**\n\t * Deletes personalization data based on the specified properties.\n\t * @param {IAppPersonalizationConfig} personalizationConfig - The properties to identify the personalization data to delete.\n\t * @param {boolean} [personalizationConfig.isSection] - A flag indicating whether the personalization is for a group.\n\t * @param {string} [appPersonalization.appId] -  id of the app.\n\t * @param {string} [appPersonalization.oldAppId] - old id of the app.\n\t * @param {string} personalizationConfig.sectionId - The ID of the group associated with the personalization.\n\t * @param {boolean} [appPersonalization.isRecentlyAddedApp] - A flag indicating whether the app is a recently added app.\n\t * @returns {Promise<void>} A promise that resolves when the personalization data is deleted.\n\t * @private\n\t */\n\tprivate async _deletePersonalization(personalizationConfig: IAppPersonalizationConfig) {\n\t\tconst { isSection, sectionId } = personalizationConfig;\n\t\tlet personalizations = await this._getAppPersonalization();\n\n\t\tif (!isSection) {\n\t\t\tconst personalizationIndex = this._getPersonalizationIndex(personalizations, personalizationConfig);\n\t\t\tif (personalizationIndex > -1) {\n\t\t\t\tpersonalizations.splice(personalizationIndex, 1);\n\t\t\t}\n\t\t} else {\n\t\t\t// Delete personalizations for all associated apps if a group is deleted\n\t\t\tpersonalizations = personalizations.filter((personalization) => personalization.sectionId !== sectionId);\n\t\t}\n\n\t\tvoid this.setFavAppsPersonalization(personalizations);\n\t}\n\n\t/**\n\t * Handles the press event of a group.\n\t * @param {Group$PressEvent} event - The press event object.\n\t * @private\n\t */\n\tprivate _handleGroupPress(event: Group$PressEvent) {\n\t\tconst groupId = event.getParameter(\"groupId\");\n\t\tif (groupId) {\n\t\t\tvoid this._showGroupDetailDialog(groupId);\n\t\t}\n\t}\n\n\t/**\n\t * Handles keyboard events for cutting and moving applications.\n\t * When the Cmd (Mac) or Ctrl (Windows) key is pressed along with 'x', the currently selected element is cut.\n\t * When the Cmd (Mac) or Ctrl (Windows) key is pressed along with 'v':\n\t * - If the operation is performed on a group, the previously cut application is moved into the group.\n\t * - If the operation is performed on an application, the create group dialog is opened.\n\t * @param {KeyboardEvent} event - The keyboard event object.\n\t * @param {string} [appGroupId] - The group Id of the app, if app belongs to a group.\n\t * @returns {Promise<void>} A Promise that resolves when app is moved to a group or create group dialog is opened.\n\t * @private\n\t */\n\tprivate async _handleKeyboardMoveApp(event: KeyboardEvent, appGroupId?: string) {\n\t\tconst currentItem = Element.closestTo((event.target as HTMLElement).firstElementChild as HTMLElement) as GenericTile & {\n\t\t\t_oMoreIcon: Button;\n\t\t};\n\t\tconst container = currentItem.getParent() as GridContainer;\n\t\tif (event.metaKey || event.ctrlKey) {\n\t\t\t// ctrl(windows)/cmd (mac) + x, sets app to be moved to a group, or to create a group\n\t\t\tif (event.key === \"x\" && !currentItem.data(\"groupId\") && !this._cutApp && !appGroupId) {\n\t\t\t\tcurrentItem.$().css(\"opacity\", 0.6);\n\t\t\t\tcurrentItem._oMoreIcon.setEnabled(false);\n\t\t\t\tthis._cutApp = currentItem;\n\t\t\t}\n\n\t\t\tif (event.key === \"v\" && this._cutApp && !appGroupId) {\n\t\t\t\tconst dragDropEvent = new Event(\"keyboardDragDropEvent\", container, {\n\t\t\t\t\tdraggedControl: this._cutApp,\n\t\t\t\t\tdroppedControl: currentItem,\n\t\t\t\t\tdropPosition: dnd.RelativeDropPosition.On\n\t\t\t\t});\n\t\t\t\tawait this._onFavItemDrop(dragDropEvent);\n\t\t\t\tthis._cutApp = undefined;\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Cancels the cut operation when clicked outside apps section or when focus moves out of apps section.\n\t * @param {MouseEvent | KeyboardEvent} event - The mouse or keyboard event triggering the reset.\n\t * @private\n\t */\n\tprivate _resetCutElement(event: MouseEvent | KeyboardEvent) {\n\t\tconst appsWrapperId = this._generateAppsWrapper().getId();\n\t\tif (!(event.target as HTMLElement).id.includes(appsWrapperId)) {\n\t\t\tthis._cutApp?.$().css(\"opacity\", \"\");\n\t\t\tthis._cutApp = undefined;\n\t\t}\n\t}\n\n\t/**\n\t * Generates illustrated message for favorite apps panel.\n\t * @private\n\t * @override\n\t * @returns {sap.m.IllustratedMessage} Illustrated error message.\n\t */\n\tprotected generateIllustratedMessage() {\n\t\tconst illustratedMessage = super.generateIllustratedMessage();\n\t\t//overrride the default title and add additional content\n\t\tillustratedMessage.setDescription(this._i18nBundle.getText(\"noFavAppsDescription\"));\n\t\tillustratedMessage.addAdditionalContent(\n\t\t\tnew Button(`${this.getId()}-errorMessage-addApps`, {\n\t\t\t\ttext: this._i18nBundle.getText(\"addApps\"),\n\t\t\t\ttooltip: this._i18nBundle.getText(\"addAppsTooltip\"),\n\t\t\t\ticon: \"sap-icon://action\",\n\t\t\t\tvisible: _showAddApps(),\n\t\t\t\tpress: () => {\n\t\t\t\t\tvoid this.navigateToAppFinder();\n\t\t\t\t},\n\t\t\t\ttype: \"Emphasized\"\n\t\t\t})\n\t\t);\n\t\treturn illustratedMessage;\n\t}\n}\n"],"mappings":"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","ignoreList":[],"sourceRoot":""}},{"offset":{"line":136,"column":0},"map":{"version":3,"file":"FrequentAppPanel.js","names":["sap","ui","define","Log","Container","EventHub","__BaseAppPersPanel","__MenuItem","_interopRequireDefault","obj","__esModule","default","_catch","body","recover","result","e","then","BaseAppPersPanel","MenuItem","FrequentAppPanel","extend","metadata","library","defaultAggregation","aggregations","apps","type","singularName","multiple","visibility","constructor","_constructor","id","settings","BaseAppPersPanel.prototype.constructor.call","this","setSupported","init","_init","BaseAppPersPanel.prototype.init.call","setProperty","_i18nBundle","getText","_attachUserActivityTracking","on","do","refresh","loadApps","_loadApps","_this","Promise","resolve","_getFrequentVisualizations","frequentVisualizations","map","visualization","menuItems","_getActions","addedInFavorites","destroyAggregation","frequentApps","generateApps","setApps","reject","_this2","getServiceAsync","UserRecentsService","getFrequentActivity","frequentActivities","convertActivitiesToVisualizations","error","isAppAddedInFavorite","arguments","length","undefined","action","push","title","icon","press","event","_addAppToFavorites","generateIllustratedMessage","_generateIllustratedMessage","illustratedMessage","BaseAppPersPanel.prototype.generateIllustratedMessage.call","setDescription"],"sources":["FrequentAppPanel.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\n\nimport Log from \"sap/base/Log\";\nimport type { MetadataOptions } from \"sap/ui/core/Element\";\nimport Container from \"sap/ushell/Container\";\nimport EventHub from \"sap/ushell/EventHub\";\nimport UserRecents from \"sap/ushell/services/UserRecents\";\nimport BaseAppPersPanel, { $BaseAppPersPanelSettings } from \"./BaseAppPersPanel\";\nimport MenuItem from \"./MenuItem\";\nimport { IActivity } from \"./interface/AppsInterface\";\n\n/**\n *\n * Provides the class for managing frequent apps.\n *\n * @extends sap.cux.home.BaseAppPersPanel\n *\n * @author SAP SE\n * @version 0.0.1\n * @since 1.121.0\n *\n * @internal\n * @experimental Since 1.121\n * @public\n *\n * @alias sap.cux.home.FrequentAppPanel\n */\n\nexport default class FrequentAppPanel extends BaseAppPersPanel {\n\tstatic readonly metadata: MetadataOptions = {\n\t\tlibrary: \"sap.cux.home\",\n\t\tdefaultAggregation: \"apps\",\n\t\taggregations: {\n\t\t\t/**\n\t\t\t * Apps aggregation for Frequent apps\n\t\t\t */\n\t\t\tapps: { type: \"sap.cux.home.App\", singularName: \"app\", multiple: true, visibility: \"hidden\" }\n\t\t}\n\t};\n\n\t/**\n\t * Constructor for a new frequent app panel.\n\t *\n\t * @param {string} [id] ID for the new control, generated automatically if an ID is not provided\n\t * @param {object} [settings] Initial settings for the new control\n\t */\n\tpublic constructor(id?: string, settings?: $BaseAppPersPanelSettings) {\n\t\tsuper(id, settings);\n\t\tthis.setSupported(false);\n\t}\n\n\tpublic init() {\n\t\tsuper.init();\n\t\tthis.setProperty(\"key\", \"frequentApps\");\n\t\tthis.setProperty(\"title\", this._i18nBundle.getText(\"frequentlyUsedTab\"));\n\t\tthis.setProperty(\"tooltip\", this._i18nBundle.getText(\"frequentlyUsedTabInfo\"));\n\t\tthis._attachUserActivityTracking();\n\t\tEventHub.on(\"userRecentsCleared\").do(() => {\n\t\t\tvoid this.refresh();\n\t\t});\n\t}\n\n\t/**\n\t * Fetch frequent apps and set apps aggregation\n\t * @private\n\t */\n\tpublic async loadApps() {\n\t\tlet frequentVisualizations = await this._getFrequentVisualizations();\n\t\tfrequentVisualizations = frequentVisualizations.map((visualization) => {\n\t\t\treturn {\n\t\t\t\t...visualization,\n\t\t\t\tmenuItems: this._getActions(visualization.addedInFavorites)\n\t\t\t};\n\t\t});\n\t\tthis.destroyAggregation(\"apps\", true);\n\t\t//convert apps objects array to apps instances\n\t\tconst frequentApps = this.generateApps(frequentVisualizations);\n\t\tthis.setApps(frequentApps);\n\t}\n\n\t/**\n\t * Returns list of frequent apps\n\t * @private\n\t * @returns {object[]} - Array of frequent apps.\n\t */\n\tprivate async _getFrequentVisualizations() {\n\t\ttry {\n\t\t\tconst UserRecentsService = await Container.getServiceAsync<UserRecents>(\"UserRecents\");\n\t\t\tconst frequentActivities: IActivity[] = (await UserRecentsService?.getFrequentActivity()) || [];\n\t\t\t//convert activity to apps\n\t\t\tconst frequentVisualizations = await this.convertActivitiesToVisualizations(frequentActivities);\n\t\t\treturn frequentVisualizations;\n\t\t} catch (error) {\n\t\t\tLog.error(error as string);\n\t\t\treturn [];\n\t\t}\n\t}\n\n\t/**\n\t * Returns list of actions available for selected app\n\t * @private\n\t * @param {boolean} isAppAddedInFavorite - true if app is already present in favorite, false otherwise.\n\t * @returns {sap.cux.home.MenuItem[]} - Array of list items.\n\t */\n\tprivate _getActions(isAppAddedInFavorite: boolean = false) {\n\t\tconst action = [];\n\t\tif (!isAppAddedInFavorite) {\n\t\t\taction.push(\n\t\t\t\tnew MenuItem(\"\", {\n\t\t\t\t\ttitle: this._i18nBundle.getText(\"addToFavorites\"),\n\t\t\t\t\ticon: \"sap-icon://add-favorite\",\n\t\t\t\t\tpress: (event) => {\n\t\t\t\t\t\tvoid this._addAppToFavorites(event);\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t);\n\t\t}\n\t\treturn action;\n\t}\n\n\t/**\n\t * Generates illustrated message for frequent apps panel.\n\t * @private\n\t * @override\n\t * @returns {sap.m.IllustratedMessage} Illustrated error message.\n\t */\n\tprotected generateIllustratedMessage() {\n\t\tconst illustratedMessage = super.generateIllustratedMessage();\n\t\t//override the default description\n\t\tillustratedMessage.setDescription(this._i18nBundle.getText(\"noFreqAppsDescription\"));\n\t\treturn illustratedMessage;\n\t}\n}\n"],"mappings":"AAAA;;;;AAAA,aAAAA,IAAAC,GAAAC,OAAA,yGAAAC,EAAAC,EAAAC,EAAAC,EAAAC,GAAA,sBAAAC,EAAAC,GAAA,OAAAA,KAAAC,mBAAAD,EAAAE,UAAA,YAAAF,EAAAE,QAAAF,CAAA,CAkjBO,SAAAG,EAAgBC,EAAMC,GAC5B,IACC,IAAIC,EAASF,GACd,CAAE,MAAMG,GACP,OAAOF,EAAQE,EAChB,CACA,GAAID,GAAUA,EAAOE,KAAM,CAC1B,OAAOF,EAAOE,UAAU,EAAGH,EAC5B,CACA,OAAOC,CACR,CAAC,MAljBMG,EAAgBV,EAAAF,GAAA,MAChBa,EAAQX,EAAAD,GAGf,MAiBqBa,EAAyBF,EAAgBG,OAAA,iCAC7CC,SAA4B,CAC3CC,QAAS,eACTC,mBAAoB,OACpBC,aAAc,CAIbC,KAAM,CAAEC,KAAM,mBAAoBC,aAAc,MAAOC,SAAU,KAAMC,WAAY,YAU9EC,YAAW,SAAAC,EAACC,EAAaC,GAC/BC,6BAAAC,KAAMH,EAAIC,GACVE,KAAKC,aAAa,MACnB,EAEOC,KAAI,SAAAC,IACVC,sBAAAJ,MACAA,KAAKK,YAAY,MAAO,gBACxBL,KAAKK,YAAY,QAASL,KAAKM,YAAYC,QAAQ,sBACnDP,KAAKK,YAAY,UAAWL,KAAKM,YAAYC,QAAQ,0BACrDP,KAAKQ,8BACLvC,EAASwC,GAAG,sBAAsBC,GAAG,UAC/BV,KAAKW,WAEZ,EAMaC,SAAQ,SAAAC,IAAA,IAAG,MAAAC,EACYd,KAAI,OAAAe,QAAAC,QAAJF,EAAKG,8BAA4BpC,KAAA,SAAhEqC,GACJA,EAAyBA,EAAuBC,IAAKC,QAEhDA,EACHC,UAAWP,EAAKQ,YAAYF,EAAcG,qBAG5CT,EAAKU,mBAAmB,OAAQ,MAEhC,MAAMC,EAAeX,EAAKY,aAAaR,GACvCJ,EAAKa,QAAQF,EAAc,EAC5B,CAAC,MAAA7C,GAAA,OAAAmC,QAAAa,OAAAhD,EAAA,GAOaqC,2BAA0B,SAAAA,IAAA,IAAG,MAAAY,EAKJ7B,KAAI,OAAAe,QAAAC,QAAAxC,EAAA,WAJtC,OAAAuC,QAAAC,QAC8BhD,EAAU8D,gBAA6B,gBAAcjD,KAAA,SAAhFkD,GAAkB,OAAAhB,QAAAC,QACuBe,GAAoBC,uBAAqBnD,KAAA,SAAlFoD,GACN,OAAAlB,QAAAC,QACqCa,EAAKK,kCAAkCD,GAAmB,IAEhG,EAAC,SAAQE,GACRpE,EAAIoE,MAAMA,GACV,MAAO,EACR,GACD,CAAC,MAAAvD,GAAA,OAAAmC,QAAAa,OAAAhD,EAAA,GAQO0C,YAAW,SAAAA,IAAwC,IAAvCc,EAA6BC,UAAAC,OAAA,GAAAD,UAAA,KAAAE,UAAAF,UAAA,GAAG,MACnD,MAAMG,EAAS,GACf,IAAKJ,EAAsB,CAC1BI,EAAOC,KACN,IAAI1D,EAAS,GAAI,CAChB2D,MAAO1C,KAAKM,YAAYC,QAAQ,kBAChCoC,KAAM,0BACNC,MAAQC,SACF7C,KAAK8C,mBAAmBD,MAIjC,CACA,OAAOL,CACR,EAQUO,2BAA0B,SAAAC,IACnC,MAAMC,EAAkBC,4CAAAlD,MAExBiD,EAAmBE,eAAenD,KAAKM,YAAYC,QAAQ,0BAC3D,OAAO0C,CACR,IAAC,OAvGmBjE,CAAgB","ignoreList":[],"sourceRoot":""}},{"offset":{"line":143,"column":0},"map":{"version":3,"file":"Group.js","names":["sap","ui","define","__BaseApp","_interopRequireDefault","obj","__esModule","default","BaseApp","Group","extend","metadata","library","properties","number","type","group","defaultValue","groupId","aggregations","apps","multiple","singularName","events","press","parameters","constructor","_constructor","id","settings","BaseApp.prototype.constructor.call","this","_handlePress","firePress","getGroupId"],"sources":["Group.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\n\nimport type { MetadataOptions } from \"sap/ui/core/Element\";\nimport BaseApp from \"./BaseApp\";\nimport { $GroupSettings } from \"./Group\";\n\n/**\n *\n * Class for managing apps group.\n *\n * @extends sap.cux.home.BaseApp\n *\n * @author SAP SE\n * @version 0.0.1\n * @since 1.121.0\n *\n * @private\n * @experimental Since 1.121\n *\n * @alias sap.cux.home.Group\n */\nexport default class Group extends BaseApp {\n\tconstructor(idOrSettings?: string | $GroupSettings);\n\tconstructor(id?: string, settings?: $GroupSettings);\n\tconstructor(id?: string, settings?: $GroupSettings) {\n\t\tsuper(id, settings);\n\t}\n\n\tstatic readonly metadata: MetadataOptions = {\n\t\tlibrary: \"sap.cux.home\",\n\t\tproperties: {\n\t\t\t/**\n\t\t\t * Number of apps, shown as folder badge\n\t\t\t */\n\t\t\tnumber: { type: \"string\", group: \"Misc\", defaultValue: \"\" },\n\t\t\t/**\n\t\t\t * Id of the group\n\t\t\t */\n\t\t\tgroupId: { type: \"string\", group: \"Misc\", defaultValue: \"\" }\n\t\t},\n\t\taggregations: {\n\t\t\t/**\n\t\t\t * Apps aggregation for Groups\n\t\t\t */\n\t\t\tapps: { type: \"sap.cux.home.App\", multiple: true, singularName: \"app\" }\n\t\t},\n\t\tevents: {\n\t\t\tpress: {\n\t\t\t\tparameters: {\n\t\t\t\t\tgroupId: { type: \"string\" }\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n\t/**\n\t * Handles the press event for a group.\n\t * Retrieves the parent of the group and shows the group detail dialog.\n\t * @private\n\t */\n\tpublic _handlePress(): void {\n\t\tthis.firePress({ groupId: this.getGroupId() });\n\t}\n}\n"],"mappings":"AAAA;;;;AAAA,aAAAA,IAAAC,GAAAC,OAAA,uBAAAC,GAAA,sBAAAC,EAAAC,GAAA,OAAAA,KAAAC,mBAAAD,EAAAE,UAAA,YAAAF,EAAAE,QAAAF,CAAA,OAMOG,EAAOJ,EAAAD,GAGd,MAeqBM,EAAcD,EAAOE,OAAA,sBAOzBC,SAA4B,CAC3CC,QAAS,eACTC,WAAY,CAIXC,OAAQ,CAAEC,KAAM,SAAUC,MAAO,OAAQC,aAAc,IAIvDC,QAAS,CAAEH,KAAM,SAAUC,MAAO,OAAQC,aAAc,KAEzDE,aAAc,CAIbC,KAAM,CAAEL,KAAM,mBAAoBM,SAAU,KAAMC,aAAc,QAEjEC,OAAQ,CACPC,MAAO,CACNC,WAAY,CACXP,QAAS,CAAEH,KAAM,cAzBrBW,YAAW,SAAAC,EAACC,EAAaC,GACxBC,6BAAAC,KAAMH,EAAIC,EACX,EAkCOG,aAAY,SAAAA,IAClBD,KAAKE,UAAU,CAAEf,QAASa,KAAKG,cAChC,IAAC,OAzCmBzB,CAAK","ignoreList":[],"sourceRoot":""}},{"offset":{"line":150,"column":0},"map":{"version":3,"file":"InsightsCardsSettingsPanel.js","names":["sap","ui","define","ManageCards","__BaseSettingsPanel","___utils_Constants","_interopRequireDefault","obj","__esModule","default","BaseSettingsPanel","SETTINGS_PANELS_KEYS","InsightsCardsSettingsPanel","extend","constructor","prototype","apply","this","arguments","eventAttached","init","_init","BaseSettingsPanel.prototype.init.call","setProperty","INSIGHTS_CARDS","_i18nBundle","getText","addAggregation","_getContent","attachPanelNavigated","event","cardId","getParameter","manageCardsInstance","getParent","attachAfterClose","_getPanel","renderPanel"],"sources":["InsightsCardsSettingsPanel.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\n\nimport ManageCards from \"sap/insights/ManageCards\";\nimport Dialog from \"sap/m/Dialog\";\nimport Control from \"sap/ui/core/Control\";\nimport BaseSettingsPanel, { BaseSettingsPanel$PanelNavigatedEvent } from \"./BaseSettingsPanel\";\nimport CardsPanel from \"./CardsPanel\";\nimport { SETTINGS_PANELS_KEYS } from \"./utils/Constants\";\n\ninterface IContext {\n\tcardId?: string;\n}\n\n/**\n *\n * Class for My Home Insights Cards Settings Panel.\n *\n * @extends BaseSettingsPanel\n *\n * @author SAP SE\n * @version 0.0.1\n * @since 1.121\n *\n * @internal\n * @experimental Since 1.121\n * @private\n *\n * @alias sap.cux.home.InsightsCardsSettingsPanel\n */\nexport default class InsightsCardsSettingsPanel extends BaseSettingsPanel {\n\tprivate eventAttached: boolean = false;\n\tprivate manageCardsInstance!: ManageCards;\n\t/**\n\t * Init lifecycle method\n\t *\n\t * @public\n\t * @override\n\t */\n\tpublic init(): void {\n\t\tsuper.init();\n\n\t\t//setup panel\n\t\tthis.setProperty(\"key\", SETTINGS_PANELS_KEYS.INSIGHTS_CARDS);\n\t\tthis.setProperty(\"title\", this._i18nBundle.getText(\"insightsCards\"));\n\t\tthis.setProperty(\"icon\", \"sap-icon://card\");\n\t\tthis.setProperty(\"showHeader\", false);\n\n\t\t//setup layout content\n\t\tthis.addAggregation(\"content\", this._getContent());\n\n\t\t//fired every time on panel navigation\n\t\tthis.attachPanelNavigated((event: BaseSettingsPanel$PanelNavigatedEvent) => {\n\t\t\tconst cardId = (event.getParameter(\"context\") as IContext)?.cardId;\n\t\t\tthis.manageCardsInstance?.setProperty(\"cardId\", cardId || \"\");\n\t\t\tif (!this.eventAttached) {\n\t\t\t\tthis.eventAttached = true;\n\t\t\t\t(this.getParent() as Dialog)?.attachAfterClose(() => {\n\t\t\t\t\tvoid (this._getPanel() as CardsPanel)?.renderPanel();\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t}\n\n\t/**\n\t * Returns the content for the Insights Cards Settings Panel.\n\t *\n\t * @private\n\t * @returns {Control} The control containing the Insights Cards Settings Panel content.\n\t */\n\tprivate _getContent(): Control {\n\t\tif (!this.manageCardsInstance) {\n\t\t\tthis.manageCardsInstance = new ManageCards();\n\t\t}\n\t\treturn this.manageCardsInstance;\n\t}\n}\n"],"mappings":"AAAA;;;;AAAA,aAAAA,IAAAC,GAAAC,OAAA,gFAAAC,EAAAC,EAAAC,GAAA,sBAAAC,EAAAC,GAAA,OAAAA,KAAAC,mBAAAD,EAAAE,UAAA,YAAAF,EAAAE,QAAAF,CAAA,OAQOG,EAAiBJ,EAAAF,GAAA,MAEfO,EAAoBN,EAAA,wBAM7B,MAgBqBO,EAAmCF,EAAiBG,OAAA,2CAAAC,YAAA,SAAAA,IAAAJ,EAAAK,UAAAD,YAAAE,MAAAC,KAAAC,WAAAD,KAChEE,cAAyB,KAAK,EAQ/BC,KAAI,SAAAC,IACVC,sBAAAL,MAGAA,KAAKM,YAAY,MAAOZ,EAAqBa,gBAC7CP,KAAKM,YAAY,QAASN,KAAKQ,YAAYC,QAAQ,kBACnDT,KAAKM,YAAY,OAAQ,mBACzBN,KAAKM,YAAY,aAAc,OAG/BN,KAAKU,eAAe,UAAWV,KAAKW,eAGpCX,KAAKY,qBAAsBC,IAC1B,MAAMC,EAAUD,EAAME,aAAa,YAAyBD,OAC5Dd,KAAKgB,qBAAqBV,YAAY,SAAUQ,GAAU,IAC1D,IAAKd,KAAKE,cAAe,CACxBF,KAAKE,cAAgB,KACpBF,KAAKiB,aAAwBC,iBAAiB,UACxClB,KAAKmB,aAA4BC,eAEzC,GAEF,EAQQT,YAAW,SAAAA,IAClB,IAAKX,KAAKgB,oBAAqB,CAC9BhB,KAAKgB,oBAAsB,IAAI9B,CAChC,CACA,OAAOc,KAAKgB,mBACb,IAAC,OA7CmBrB,CAA0B","ignoreList":[],"sourceRoot":""}},{"offset":{"line":157,"column":0},"map":{"version":3,"file":"InsightsContainer.js","names":["sap","ui","define","__BaseContainer","___CardsPanel","__ErrorPanel","___TilesPanel","___utils_Device","_interopRequireDefault","obj","__esModule","default","BaseContainer","cardsMenuItems","ErrorPanel","tilesMenuItems","DeviceType","tilesPanelName","cardsPanelName","errorPanelName","InsightsContainer","extend","renderer","apiVersion","constructor","_constructor","id","settings","BaseContainer.prototype.constructor.call","this","_visiblePanels","_isInitialRender","init","_init","BaseContainer.prototype.init.call","setProperty","setTooltip","String","_i18nBundle","getText","onBeforeRendering","_onBeforeRendering","BaseContainer.prototype.onBeforeRendering.call","aContent","getContent","panels","forEach","oContent","tilesPanel","isA","push","cardsPanel","handleHidePanel","panel","handleRemoveActions","attachHandleHidePanel","attachHandleUnhidePanel","unhidePanelIfHidden","renderPanel","_handleHidePanel","removeContent","panelCount","length","_addContainerHeader","_errorPanel","getId","messageTitle","messageDescription","getData","addAggregation","menuItems","_handleNoPanelMenuItems","tilesCount","_handleTilesPanelMenuItems","cardsCount","_handleCardsPanelMenuItems","insightsSettingMenu","getAggregation","find","menu","removeAllAggregation","actionButtons","actionButton","menuItem","_removeContainerHeader","handleAddActions","REFRESH","valueOf","cardsPanelId","unshift","updatePanelsItemCount","_updatePanelsItemCount","itemCount","panelName","_unhidePanelIfHidden","includes","addContent","adjustLayout","_adjustLayout","toggleActionButtons","getDeviceType","Mobile"],"sources":["InsightsContainer.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\n\nimport BaseContainer, { $BaseContainerSettings } from \"./BaseContainer\";\nimport BasePanel from \"./BasePanel\";\nimport CardsPanel, { cardsMenuItems } from \"./CardsPanel\";\nimport ErrorPanel from \"./ErrorPanel\";\nimport MenuItem from \"./MenuItem\";\nimport TilesPanel, { tilesMenuItems } from \"./TilesPanel\";\nimport { DeviceType } from \"./utils/Device\";\n\nconst tilesPanelName: string = \"sap.cux.home.TilesPanel\";\nconst cardsPanelName: string = \"sap.cux.home.CardsPanel\";\nconst errorPanelName: string = \"sap.cux.home.ErrorPanel\";\n\n/**\n *\n * Container class for managing and storing Insights Tiles and Insights Cards.\n *\n * @extends sap.cux.home.BaseContainer\n *\n * @author SAP SE\n * @version 0.0.1\n * @since 1.121\n *\n * @internal\n * @experimental Since 1.121\n * @public\n *\n * @alias sap.cux.home.InsightsContainer\n */\n\nexport default class InsightsContainer extends BaseContainer {\n\tstatic renderer = {\n\t\t...BaseContainer.renderer,\n\t\tapiVersion: 2\n\t};\n\tprivate _visiblePanels: string[] = [];\n\tprivate tilesPanel!: TilesPanel;\n\tprivate cardsPanel!: CardsPanel;\n\tprivate tilesCount!: number;\n\tprivate cardsCount!: number;\n\tprivate _errorPanel!: ErrorPanel;\n\tprivate _isInitialRender: boolean = true;\n\n\t/**\n\t * Constructor for a new Insights container.\n\t *\n\t * @param {string} [id] ID for the new control, generated automatically if an ID is not provided\n\t * @param {object} [settings] Initial settings for the new control\n\t */\n\tpublic constructor(id?: string, settings?: $BaseContainerSettings) {\n\t\tsuper(id, settings);\n\t}\n\n\t/**\n\t * Init lifecycle method\n\t *\n\t * @private\n\t * @override\n\t */\n\tpublic init(): void {\n\t\tsuper.init();\n\t\tthis.setProperty(\"layout\", \"Vertical\");\n\t\tthis.setTooltip(String(this._i18nBundle.getText(\"insightLayoutSectionTitle\")));\n\t}\n\n\tpublic onBeforeRendering() {\n\t\tsuper.onBeforeRendering();\n\t\tif(this._isInitialRender) {\n\t\t\tconst aContent = this.getContent();\n\t\t\tconst panels: (TilesPanel | CardsPanel)[] = [];\n\t\t\t// Initially tiles & cards panels will be hidden till data is loaded in the individual panels are unhidden from panel level.\n\t\t\taContent.forEach((oContent) => {\n\t\t\t\tif (!this.tilesPanel && oContent.isA(tilesPanelName)) {\n\t\t\t\t\tthis.tilesPanel = oContent as TilesPanel;\n\t\t\t\t\tpanels.push(this.tilesPanel);\n\t\t\t\t}\n\t\t\t\tif (!this.cardsPanel && oContent.isA(cardsPanelName)) {\n\t\t\t\t\tthis.cardsPanel = oContent as CardsPanel;\n\t\t\t\t\tpanels.push(this.cardsPanel);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tthis.handleHidePanel(this.tilesPanel);\n\t\t\tthis.handleHidePanel(this.cardsPanel);\n\t\n\t\t\t// Render individual panels\n\t\t\tpanels.forEach((panel) => {\n\t\t\t\tpanel.handleRemoveActions();\n\t\t\t\tpanel.attachHandleHidePanel(() => this.handleHidePanel(panel));\n\t\t\t\tpanel.attachHandleUnhidePanel(() => this.unhidePanelIfHidden(panel));\n\t\t\t\tvoid panel.renderPanel();\n\t\t\t});\n\t\t\tthis._isInitialRender = false;\n\t\t}\n\t}\n\n\t/**\n\t * handleHidePanel\n\t */\n\tpublic handleHidePanel(panel: BasePanel) {\n\t\tthis.removeContent(panel);\n\t\tconst panelCount = this.getContent()?.length;\n\t\tthis._addContainerHeader(this.getContent());\n\t\tif (panelCount === 0) {\n\t\t\tif (!this._errorPanel) {\n\t\t\t\tthis._errorPanel = new ErrorPanel(`${this.getId()}-errorPanel`, {\n\t\t\t\t\tmessageTitle: this._i18nBundle.getText(\"noAppsTitle\"),\n\t\t\t\t\tmessageDescription: this._i18nBundle.getText(\"noInsightsMsg\")\n\t\t\t\t});\n\t\t\t\tthis._errorPanel.getData();\n\t\t\t}\n\t\t\tthis.addAggregation(\"content\", this._errorPanel);\n\t\t} else if (panelCount === 1) {\n\t\t\tconst panel = this.getContent()[0];\n\t\t\tif(!panel.isA(errorPanelName)) {\n\t\t\t\t(panel as TilesPanel | CardsPanel)?.handleRemoveActions();\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate _addContainerHeader(panels: BasePanel[]) {\n\t\tthis.setProperty(\"title\", this._i18nBundle?.getText(\"insights\"));\n\t\tthis.setProperty(\"enableSettings\", true);\n\t\tconst menuItems: MenuItem[] = [];\n\t\tif (panels.length === 0 || panels[0]?.isA(errorPanelName)) {\n\t\t\tthis._visiblePanels = [];\n\t\t\tmenuItems.push(...this._handleNoPanelMenuItems());\n\t\t} else if (panels.length === 1) {\n\t\t\tif (panels[0].isA(tilesPanelName)) {\n\t\t\t\tthis._visiblePanels = [tilesPanelName];\n\t\t\t\tthis.setProperty(\"title\", `${this._i18nBundle?.getText(\"insights\")} (${this.tilesCount || 0})`);\n\t\t\t\tmenuItems.push(...this._handleTilesPanelMenuItems());\n\t\t\t}\n\t\t\tif (panels[0].isA(cardsPanelName)) {\n\t\t\t\tthis._visiblePanels = [cardsPanelName];\n\t\t\t\tthis.setProperty(\"title\", `${this._i18nBundle?.getText(\"insights\")} (${this.cardsCount || 0})`);\n\t\t\t\tmenuItems.push(...this._handleCardsPanelMenuItems());\n\t\t\t}\n\t\t}\n\t\t\n\t\t// Add Insights Settings Menu Item\n\t\tconst insightsSettingMenu = (this.getAggregation(\"menuItems\") as MenuItem[] || [])?.find(menu => menu.getId() === `${this.getId()}-settings`);\n\t\tif(insightsSettingMenu) {\n\t\t\tmenuItems.push(insightsSettingMenu);\n\t\t}\n\n\t\t// Remove Existing Aggregations\n\t\tthis.removeAllAggregation(\"menuItems\");\n\t\tthis.removeAllAggregation(\"actionButtons\");\n\n\t\t// Add Tiles Action Buttons to Container Action Buttons\n\t\tthis.tilesPanel.actionButtons.forEach((actionButton) => this.addAggregation(\"actionButtons\", actionButton));\n\t\tmenuItems.forEach((menuItem) => this.addAggregation(\"menuItems\", menuItem));\n\t}\n\n\tprivate _removeContainerHeader() {\n\t\tthis.setProperty(\"title\", \"\");\n\t\tthis.setProperty(\"enableSettings\", false);\n\t\tthis.removeAllAggregation(\"menuItems\");\n\t\tthis.removeAllAggregation(\"actionButtons\");\n\t\tthis.getContent().forEach((panel) => (panel as TilesPanel | CardsPanel).handleAddActions());\n\t}\n\n\tprivate _handleNoPanelMenuItems() {\n\t\t// In case of No Panels, Except Refresh all menu itmes should be shown\n\t\tconst menuItems: MenuItem[] = [];\n\t\tthis.tilesPanel.menuItems.forEach((menuItem) => {\n\t\t\tif (menuItem.getId() !== tilesMenuItems.REFRESH.valueOf()) {\n\t\t\t\tmenuItems.push(menuItem);\n\t\t\t}\n\t\t});\n\t\tconst cardsPanelId = this.cardsPanel.getId();\n\t\tthis.cardsPanel.menuItems.forEach((menuItem) => {\n\t\t\tif (menuItem.getId() !== `${cardsPanelId}-${cardsMenuItems.REFRESH.valueOf()}`) {\n\t\t\t\tmenuItems.push(menuItem);\n\t\t\t}\n\t\t});\n\t\treturn menuItems;\n\t}\n\n\tprivate _handleTilesPanelMenuItems() {\n\t\t// In case of TilesPanel visible, Except CardsPanel Refresh all menu itmes should be shown\n\t\tconst menuItems: MenuItem[] = [];\n\t\tthis.tilesPanel.menuItems.forEach((menuItem) => menuItems.push(menuItem));\n\t\tconst cardsPanelId = this.cardsPanel.getId();\n\t\tthis.cardsPanel.menuItems.forEach((menuItem) => {\n\t\t\tif (menuItem.getId() !== `${cardsPanelId}-${cardsMenuItems.REFRESH.valueOf()}`) {\n\t\t\t\tmenuItems.push(menuItem);\n\t\t\t}\n\t\t});\n\t\treturn menuItems;\n\t}\n\n\tprivate _handleCardsPanelMenuItems() {\n\t\t// In case of CardsPanel visible, Except TilesPanel Refresh all menu itmes should be shown and CardsPanel refresh should be shown at the top.\n\t\tconst menuItems: MenuItem[] = [];\n\t\tthis.tilesPanel.menuItems.forEach((menuItem) => {\n\t\t\tif (menuItem.getId() !== tilesMenuItems.REFRESH.valueOf()) {\n\t\t\t\tmenuItems.push(menuItem);\n\t\t\t}\n\t\t});\n\t\tconst cardsPanelId = this.cardsPanel.getId();\n\t\tthis.cardsPanel.menuItems.forEach((menuItem) => {\n\t\t\tif (menuItem.getId() === `${cardsPanelId}-${cardsMenuItems.REFRESH.valueOf()}`) {\n\t\t\t\tmenuItems.unshift(menuItem);\n\t\t\t} else {\n\t\t\t\tmenuItems.push(menuItem);\n\t\t\t}\n\t\t});\n\t\treturn menuItems;\n\t}\n\n\tpublic updatePanelsItemCount(itemCount: number, panelName: string) {\n\t\tif (panelName === tilesPanelName) {\n\t\t\tthis.tilesCount = itemCount;\n\t\t} else if (panelName === cardsPanelName) {\n\t\t\tthis.cardsCount = itemCount;\n\t\t}\n\t\t// Container Title Will be displayed only in case of only one panel is present\n\t\tif (this.getContent().length === 1) {\n\t\t\tthis.setProperty(\"title\", `${this._i18nBundle?.getText(\"insights\")} (${itemCount || 0})`);\n\t\t}\n\t}\n\n\tpublic unhidePanelIfHidden(panel: TilesPanel | CardsPanel) {\n\t\tthis.removeContent(this._errorPanel);\n\t\tif (panel.isA(tilesPanelName) && !this._visiblePanels.includes(tilesPanelName)) {\n\t\t\tthis._visiblePanels.push(tilesPanelName);\n\t\t\tif (this._visiblePanels.includes(cardsPanelName)) {\n\t\t\t\tthis.removeContent(this.cardsPanel);\n\t\t\t\tthis.addContent(this.tilesPanel);\n\t\t\t\tthis.addContent(this.cardsPanel);\n\t\t\t} else {\n\t\t\t\tthis.addContent(this.tilesPanel);\n\t\t\t}\n\t\t\tconst panels = this.getContent();\n\t\t\tif (panels.length > 1) {\n\t\t\t\tthis._removeContainerHeader();\n\t\t\t} else {\n\t\t\t\tthis._addContainerHeader(panels);\n\t\t\t}\n\t\t}\n\n\t\tif (panel.isA(cardsPanelName) && !this._visiblePanels.includes(cardsPanelName)) {\n\t\t\tthis._visiblePanels.push(cardsPanelName);\n\t\t\tthis.addContent(this.cardsPanel);\n\t\t\tconst panels = this.getContent();\n\t\t\tif (panels.length === 2) {\n\t\t\t\tthis._removeContainerHeader();\n\t\t\t} else {\n\t\t\t\tthis._addContainerHeader(panels);\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Adjusts the layout of the container.\n\t *\n\t * @private\n\t * @override\n\t */\n\tpublic adjustLayout() {\n\t\t//hide actions if the device is a phone\n\t\tthis.toggleActionButtons(this.getDeviceType() !== DeviceType.Mobile);\n\n\t\t//adjust layout of all panels\n\t\t(this.getContent() as (TilesPanel | CardsPanel)[]).forEach((panel) => panel._adjustLayout?.());\n\t}\n}\n"],"mappings":"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","ignoreList":[],"sourceRoot":""}},{"offset":{"line":164,"column":0},"map":{"version":3,"file":"InsightsTilesSettingsPanel.js","names":["sap","ui","define","Button","Column","ColumnListItem","FlexBox","HBox","MessageBox","MessageToast","ObjectIdentifier","ScrollContainer","SearchField","Switch","Table","Text","Title","VBox","UI5Element","Icon","DragDropInfo","__BaseSettingsPanel","___TilesPanel","__AppManager","___utils_Constants","_interopRequireDefault","obj","__esModule","default","BaseSettingsPanel","DisplayFormat","AppManager","MYHOME_PAGE_ID","SETTINGS_PANELS_KEYS","InsightsTilesSettingsPanel","extend","init","_init","_this","this","BaseSettingsPanel.prototype.init.call","_controlMap","Map","setProperty","INSIGHTS_TILES","_i18nBundle","getText","appManagerInstance","getInstance","Promise","resolve","fetchInsightApps","then","_this$appManagerInsta","_allInsightsApps","_wrapperId","getId","set","alignItems","justifyContent","height","width","direction","addStyleClass","addAggregation","get","_showMessageStrip","_showToolbar","_showTilesList","attachPanelNavigated","setValue","insightsApps","setText","length","_createTableRows","e","reject","oMessageStripVBox","addItem","text","_getWrapperFlexBox","titleStyle","liveChange","oEvent","_onTilesSearch","titleContainer","toolbarContainer","items","event","sSearchQuery","getSource","getValue","toLowerCase","filteredTiles","filter","app","visualization","title","includes","_createTableWithContainer","columns","hAlign","dragDropConfig","sourceAggregation","targetAggregation","groupName","dropPosition","drop","_handleTilesDrop","scrollContainer","vertical","horizontal","content","containerVBox","containerFlexBox","_this2","oDragItem","getParameter","draggedControl","iDragItemIndex","getParent","indexOfItem","oDropItem","droppedControl","iDropItemIndex","oDragItemPersConfig","data","oDropItemPersConfig","_temp","setBusy","moveConfigs","pageId","sourceSectionIndex","sectionIndex","sourceVisualizationIndex","visualizationIndex","targetSectionIndex","targetVisualizationIndex","moveVisualization","_this2$appManagerInst","_getTilePanel","refreshData","table","removeAllItems","forEach","filteredTile","index","_createColumnListItem","insightsApp","id","existingControl","getElementById","destroy","columnListItem","type","addCell","src","aSupportedDisplayFormats","supportedDisplayFormats","convertSwitchContainer","isCount","isSmartBusinessTile","indexOf","Standard","StandardWide","wrapping","state","displayFormatHint","change","_onConvertTilePress","customTextOn","customTextOff","tooltip","deleteBtn","icon","press","_onDeleteApp","buttonsWrapper","subtitle","persConfig","_this3","updateConfigs","oVisualizationData","updateVisualizations","show","styleClass","QUESTION","actions","Action","CANCEL","emphasizedAction","onClose","action","_handleDeleteApp","_this4","_temp2","removeVisualizations","sectionId","vizIds","_this4$appManagerInst","_getPanel"],"sources":["InsightsTilesSettingsPanel.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\n\nimport Button from \"sap/m/Button\";\nimport Column from \"sap/m/Column\";\nimport ColumnListItem from \"sap/m/ColumnListItem\";\nimport FlexBox from \"sap/m/FlexBox\";\nimport HBox from \"sap/m/HBox\";\nimport MessageBox from \"sap/m/MessageBox\";\nimport MessageToast from \"sap/m/MessageToast\";\nimport ObjectIdentifier from \"sap/m/ObjectIdentifier\";\nimport ScrollContainer from \"sap/m/ScrollContainer\";\nimport SearchField from \"sap/m/SearchField\";\nimport Switch from \"sap/m/Switch\";\nimport Table from \"sap/m/Table\";\nimport Text from \"sap/m/Text\";\nimport Title from \"sap/m/Title\";\nimport VBox from \"sap/m/VBox\";\nimport Event from \"sap/ui/base/Event\";\nimport Control from \"sap/ui/core/Control\";\nimport UI5Element from \"sap/ui/core/Element\";\nimport Icon from \"sap/ui/core/Icon\";\nimport DragDropInfo from \"sap/ui/core/dnd/DragDropInfo\";\nimport { DropInfo$DropEvent } from \"sap/ui/core/dnd/DropInfo\";\nimport BaseSettingsPanel from \"./BaseSettingsPanel\";\nimport TilesPanel, { DisplayFormat } from \"./TilesPanel\";\nimport { ICustomVisualization, IPersConfig, ISectionAndVisualization } from \"./interface/AppsInterface\";\nimport AppManager from \"./utils/AppManager\";\nimport { MYHOME_PAGE_ID, SETTINGS_PANELS_KEYS } from \"./utils/Constants\";\n\ninterface IDragEvent {\n\tdraggedControl: ColumnListItem;\n\tdroppedControl: ColumnListItem;\n}\n\n/**\n *\n * Class for My Home Insights Tiles Settings Panel.\n *\n * @extends BaseSettingsPanel\n *\n * @author SAP SE\n * @version 0.0.1\n * @since 1.121\n *\n * @internal\n * @experimental Since 1.121\n * @private\n *\n * @alias sap.cux.home.InsightsTilesSettingsPanel\n */\nexport default class InsightsTilesSettingsPanel extends BaseSettingsPanel {\n\tprivate _wrapperId!: string;\n\tprivate _controlMap!: Map<string, Control | Element>;\n\tprivate _allInsightsApps!: ICustomVisualization[];\n\tprivate appManagerInstance!: AppManager;\n\t/**\n\t * Init lifecycle method\n\t *\n\t * @public\n\t * @override\n\t */\n\tpublic async init() {\n\t\tsuper.init();\n\t\tthis._controlMap = new Map();\n\n\t\t//setup panel\n\t\tthis.setProperty(\"key\", SETTINGS_PANELS_KEYS.INSIGHTS_TILES);\n\t\tthis.setProperty(\"title\", this._i18nBundle.getText(\"insightsTiles\"));\n\t\tthis.setProperty(\"icon\", \"sap-icon://manager-insight\");\n\n\t\t//Fetch Data\n\t\tthis.appManagerInstance = AppManager.getInstance();\n\t\tthis._allInsightsApps = await this.appManagerInstance.fetchInsightApps(true, this._i18nBundle.getText(\"insights\") as string);\n\n\t\t//setup Container & content Aggregation\n\t\tthis._wrapperId = `${this.getId()}-tilesSettingsWrapper`;\n\t\tthis._controlMap.set(\n\t\t\tthis._wrapperId,\n\t\t\tnew FlexBox(this._wrapperId, {\n\t\t\t\talignItems: \"Start\",\n\t\t\t\tjustifyContent: \"Start\",\n\t\t\t\theight: \"100%\",\n\t\t\t\twidth: \"100%\",\n\t\t\t\tdirection: \"Column\"\n\t\t\t}).addStyleClass(\"flexContainerCards\")\n\t\t);\n\t\tthis.addAggregation(\"content\", this._controlMap.get(this._wrapperId) as FlexBox);\n\n\t\t//setup content for the settings panel\n\t\tthis._showMessageStrip();\n\t\tthis._showToolbar();\n\t\tthis._showTilesList();\n\n\t\t//fired every time on panel navigation\n\t\tthis.attachPanelNavigated(() => {\n\t\t\t(this._controlMap.get(`${this._wrapperId}--searchField`) as SearchField).setValue(\"\");\n\t\t\tvoid this.appManagerInstance.fetchInsightApps(false, this._i18nBundle.getText(\"insights\") as string).then((insightsApps) => {\n\t\t\t\tthis._allInsightsApps = insightsApps;\n\t\t\t\t(this._controlMap.get(`${this._wrapperId}--title`) as Title).setText(\n\t\t\t\t\t`${this._i18nBundle.getText(\"insightsTilesTitle\")} (${this._allInsightsApps.length})`\n\t\t\t\t);\n\t\t\t\tthis._createTableRows(this._allInsightsApps);\n\t\t\t});\n\t\t});\n\t}\n\n\t/**\n\t * Add the Message Strip to the wrapper FlexBox.\n\t *\n\t * @private\n\t */\n\n\tprivate _showMessageStrip() {\n\t\tconst oMessageStripVBox = new VBox(`${this._wrapperId}--msgStripContainer`, {\n\t\t\twidth: \"calc(100% - 2rem)\"\n\t\t}).addStyleClass(\"sapUiSmallMarginTop sapUiSmallMarginBegin\");\n\t\toMessageStripVBox.addItem(\n\t\t\tnew Text(`${this._wrapperId}--msgStripText`, {\n\t\t\t\ttext: this._i18nBundle.getText(\"insightAppsTabText\")\n\t\t\t})\n\t\t);\n\t\tthis._getWrapperFlexBox().addItem(oMessageStripVBox);\n\t}\n\n\t/**\n\t * Add the Header ToolBar to the wrapper FlexBox.\n\t *\n\t * @private\n\t */\n\tprivate _showToolbar() {\n\t\tthis._controlMap.set(\n\t\t\t`${this._wrapperId}--title`,\n\t\t\tnew Title(`${this._wrapperId}--title`, {\n\t\t\t\ttext: `${this._i18nBundle.getText(\"insightsTilesTitle\")} (${this._allInsightsApps.length})`,\n\t\t\t\ttitleStyle: \"H5\",\n\t\t\t\twidth: \"100%\"\n\t\t\t})\n\t\t);\n\n\t\tthis._controlMap.set(\n\t\t\t`${this._wrapperId}--searchField`,\n\t\t\tnew SearchField(`${this._wrapperId}--pagesListSearch`, {\n\t\t\t\tliveChange: (oEvent) => this._onTilesSearch(oEvent),\n\t\t\t\twidth: \"100%\"\n\t\t\t}).addStyleClass(\"sapUiTinyMarginTop\")\n\t\t);\n\n\t\tconst titleContainer = new HBox(`${this._wrapperId}--titleContainer`, {\n\t\t\talignItems: \"Center\",\n\t\t\tjustifyContent: \"SpaceBetween\",\n\t\t\twidth: \"100%\"\n\t\t});\n\t\ttitleContainer.addItem(this._controlMap.get(`${this._wrapperId}--title`) as Title);\n\t\tconst toolbarContainer = new VBox(`${this._wrapperId}--toolbarContainer`, {\n\t\t\twidth: \"calc(100% - 2rem)\",\n\t\t\titems: [titleContainer, this._controlMap.get(`${this._wrapperId}--searchField`) as SearchField]\n\t\t}).addStyleClass(\"sapUiSmallMarginTop sapUiSmallMarginBegin\");\n\t\tthis._getWrapperFlexBox().addItem(toolbarContainer);\n\t}\n\n\t/**\n\t * Handles Search Field change\n\t * @private\n\t */\n\tprivate _onTilesSearch(event: Event) {\n\t\tconst sSearchQuery = event.getSource<SearchField>().getValue().toLowerCase();\n\t\tconst filteredTiles = this._allInsightsApps.filter((app) => app.visualization?.title?.toLowerCase().includes(sSearchQuery));\n\t\tthis._createTableRows(filteredTiles);\n\t}\n\n\t/**\n\t * Adds Tiles List Table to Wrapper FlexBox\n\t * @private\n\t */\n\tprivate _showTilesList() {\n\t\tthis._createTableWithContainer();\n\t\tthis._createTableRows(this._allInsightsApps);\n\t}\n\n\t/**\n\t * Creates Table to Render Tiles List\n\t * @private\n\t */\n\tprivate _createTableWithContainer() {\n\t\tthis._controlMap.set(\n\t\t\t`${this._wrapperId}-table`,\n\t\t\tnew Table(`${this._wrapperId}-table`, {\n\t\t\t\tcolumns: [\n\t\t\t\t\tnew Column(`${this._wrapperId}-table-dndIcon`, {\n\t\t\t\t\t\thAlign: \"Center\",\n\t\t\t\t\t\twidth: \"6%\"\n\t\t\t\t\t}),\n\t\t\t\t\tnew Column(`${this._wrapperId}-table-title`, {\n\t\t\t\t\t\twidth: \"94%\"\n\t\t\t\t\t})\n\t\t\t\t],\n\t\t\t\tdragDropConfig: new DragDropInfo(`${this._wrapperId}-dragDropInfo`, {\n\t\t\t\t\tsourceAggregation: \"items\",\n\t\t\t\t\ttargetAggregation: \"items\",\n\t\t\t\t\tgroupName: \"insightsTilesSettingsItems\",\n\t\t\t\t\tdropPosition: \"On\",\n\t\t\t\t\tdrop: (event: DropInfo$DropEvent) => void this._handleTilesDrop(event)\n\t\t\t\t})\n\t\t\t}).addStyleClass(\"sapContrastPlus\")\n\t\t);\n\t\tconst scrollContainer = new ScrollContainer(`${this._wrapperId}-scrollContainer`, {\n\t\t\tvertical: true,\n\t\t\thorizontal: false,\n\t\t\theight: \"100%\",\n\t\t\twidth: \"100%\",\n\t\t\tcontent: [this._controlMap.get(`${this._wrapperId}-table`) as Table]\n\t\t});\n\t\tconst containerVBox = new VBox(`${this._wrapperId}-containerVBox`, {\n\t\t\theight: \"100%\",\n\t\t\twidth: \"100%\",\n\t\t\tjustifyContent: \"Start\",\n\t\t\tdirection: \"Column\",\n\t\t\titems: [scrollContainer]\n\t\t});\n\t\tconst containerFlexBox = new FlexBox(`${this._wrapperId}-containerFlexBox`, {\n\t\t\talignItems: \"Start\",\n\t\t\tjustifyContent: \"Start\",\n\t\t\theight: \"100%\",\n\t\t\twidth: \"calc(100% - 2rem)\",\n\t\t\tdirection: \"Row\",\n\t\t\titems: [containerVBox]\n\t\t}).addStyleClass(\"sapUiSmallMarginBegin sapUiSmallMarginTop flexContainerCards\");\n\n\t\tthis._getWrapperFlexBox().addItem(containerFlexBox);\n\t}\n\n\t/**\n\t * Handles Drag Drop of Tiles\n\t * @private\n\t */\n\tprivate async _handleTilesDrop(oEvent: DropInfo$DropEvent | IDragEvent) {\n\t\tconst oDragItem = ((oEvent as DropInfo$DropEvent).getParameter?.(\"draggedControl\") ||\n\t\t\t\t(oEvent as IDragEvent).draggedControl) as ColumnListItem,\n\t\t\tiDragItemIndex = (oDragItem.getParent() as Table)?.indexOfItem(oDragItem),\n\t\t\toDropItem = ((oEvent as DropInfo$DropEvent).getParameter?.(\"droppedControl\") ||\n\t\t\t\t(oEvent as IDragEvent).droppedControl) as ColumnListItem,\n\t\t\tiDropItemIndex = (oDragItem.getParent() as Table)?.indexOfItem(oDropItem),\n\t\t\toDragItemPersConfig = oDragItem.data(\"persConfig\") as IPersConfig,\n\t\t\toDropItemPersConfig = oDropItem.data(\"persConfig\") as IPersConfig;\n\t\tif (iDragItemIndex !== iDropItemIndex) {\n\t\t\tthis._getWrapperFlexBox().setBusy(true);\n\t\t\tconst moveConfigs = {\n\t\t\t\tpageId: MYHOME_PAGE_ID,\n\t\t\t\tsourceSectionIndex: oDragItemPersConfig.sectionIndex as number,\n\t\t\t\tsourceVisualizationIndex: oDragItemPersConfig.visualizationIndex as number,\n\t\t\t\ttargetSectionIndex: oDropItemPersConfig.sectionIndex as number,\n\t\t\t\ttargetVisualizationIndex: oDropItemPersConfig.visualizationIndex as number\n\t\t\t};\n\t\t\tawait this.appManagerInstance.moveVisualization(moveConfigs);\n\t\t\tthis._allInsightsApps = await this.appManagerInstance.fetchInsightApps(true, this._i18nBundle.getText(\"insights\") as string);\n\t\t\tthis._createTableRows(this._allInsightsApps);\n\t\t\tawait this._getTilePanel().refreshData();\n\t\t\tthis._getWrapperFlexBox().setBusy(false);\n\t\t}\n\t}\n\n\t/**\n\t * Create Table Rows\n\t * @private\n\t */\n\tprivate _createTableRows(insightsApps: ICustomVisualization[]) {\n\t\tconst table = this._controlMap.get(`${this._wrapperId}-table`) as Table;\n\t\ttable.removeAllItems();\n\t\tlet filteredTiles = insightsApps;\n\t\tconst sSearchQuery = (this._controlMap.get(`${this._wrapperId}--searchField`) as SearchField).getValue();\n\t\tif (sSearchQuery) {\n\t\t\tfilteredTiles = this._allInsightsApps.filter((app) => app.visualization?.title?.toLowerCase().includes(sSearchQuery));\n\t\t}\n\t\tfilteredTiles.forEach((filteredTile, index) => {\n\t\t\ttable.addItem(this._createColumnListItem(filteredTile, index));\n\t\t});\n\t}\n\n\t/**\n\t * Create ColumnListItem for each Insights App\n\t * @private\n\t */\n\tprivate _createColumnListItem(insightsApp: ICustomVisualization, index: number): ColumnListItem {\n\t\tconst id = `insightsTiles-${index}-listItem`;\n\t\tconst existingControl = UI5Element.getElementById(id);\n\t\tif (existingControl) {\n\t\t\texistingControl.destroy();\n\t\t}\n\t\t// Create Column List Item\n\t\tconst columnListItem = new ColumnListItem({\n\t\t\tid,\n\t\t\ttype: \"Inactive\"\n\t\t}).addStyleClass(\"insightsListItem insightsListMargin manageSectionsTable\");\n\n\t\t// Add first cell as Drag & Drop Icon\n\t\tcolumnListItem.addCell(\n\t\t\tnew HBox({\n\t\t\t\titems: [\n\t\t\t\t\tnew Icon({\n\t\t\t\t\t\tsrc: \"sap-icon://BusinessSuiteInAppSymbols/icon-grip\"\n\t\t\t\t\t}).addStyleClass(\"tilesDndIcon\")\n\t\t\t\t]\n\t\t\t})\n\t\t);\n\n\t\t//Create Convert Switch\n\t\tconst aSupportedDisplayFormats = insightsApp.visualization?.supportedDisplayFormats || \"\";\n\t\tlet convertSwitchContainer;\n\t\t// if it is not static tile and standard/standardWide display format is supported, display convert switch\n\t\tif (\n\t\t\t(insightsApp.isCount || insightsApp.isSmartBusinessTile) &&\n\t\t\taSupportedDisplayFormats.length > 1 &&\n\t\t\taSupportedDisplayFormats.indexOf(DisplayFormat.Standard) > -1 &&\n\t\t\taSupportedDisplayFormats.indexOf(DisplayFormat.StandardWide) > -1\n\t\t) {\n\t\t\tconvertSwitchContainer = new HBox({\n\t\t\t\tid: `${id}-convertSwitchContainer`,\n\t\t\t\talignItems: \"Center\",\n\t\t\t\titems: [\n\t\t\t\t\tnew Text({\n\t\t\t\t\t\tid: `${id}-switchAppSizeLabel`,\n\t\t\t\t\t\ttext: this._i18nBundle.getText(\"wide\"),\n\t\t\t\t\t\twrapping: false\n\t\t\t\t\t}),\n\t\t\t\t\tnew Switch({\n\t\t\t\t\t\tid: `${id}-convertSwitch`,\n\t\t\t\t\t\t// ariaLabelledBy=\"switchAppSizeLabel\"\n\t\t\t\t\t\tstate: insightsApp.visualization?.displayFormatHint !== DisplayFormat.Standard,\n\t\t\t\t\t\tchange: () => void this._onConvertTilePress(insightsApp),\n\t\t\t\t\t\tcustomTextOn: \" \",\n\t\t\t\t\t\tcustomTextOff: \" \",\n\t\t\t\t\t\ttooltip:\n\t\t\t\t\t\t\tinsightsApp.visualization?.displayFormatHint === DisplayFormat.Standard\n\t\t\t\t\t\t\t\t? this._i18nBundle.getText(\"ConvertToWideTile\")\n\t\t\t\t\t\t\t\t: this._i18nBundle.getText(\"ConvertToTile\")\n\t\t\t\t\t})\n\t\t\t\t]\n\t\t\t});\n\t\t}\n\n\t\tconst deleteBtn = new Button({\n\t\t\tid: `${id}-deleteAppBtn`,\n\t\t\ttype: \"Transparent\",\n\t\t\ticon: \"sap-icon://decline\",\n\t\t\tpress: () => this._onDeleteApp(insightsApp),\n\t\t\ttooltip: this._i18nBundle.getText(\"removeFromInsights\")\n\t\t});\n\n\t\tconst buttonsWrapper = new HBox({\n\t\t\tid: `${id}-buttonsWrapper`,\n\t\t\talignItems: \"Center\"\n\t\t}).addStyleClass(\"sapUiSmallMarginEnd\");\n\n\t\tif (convertSwitchContainer) {\n\t\t\tbuttonsWrapper.addItem(convertSwitchContainer);\n\t\t}\n\t\tbuttonsWrapper.addItem(deleteBtn);\n\n\t\tcolumnListItem.addCell(\n\t\t\tnew HBox({\n\t\t\t\tid: `${id}-cell`,\n\t\t\t\talignItems: \"Center\",\n\t\t\t\tjustifyContent: \"SpaceBetween\",\n\t\t\t\titems: [\n\t\t\t\t\tnew ObjectIdentifier({\n\t\t\t\t\t\ttitle: insightsApp.visualization?.title as string,\n\t\t\t\t\t\ttext: insightsApp.visualization?.subtitle as string,\n\t\t\t\t\t\ttooltip: insightsApp.visualization?.title as string\n\t\t\t\t\t}).addStyleClass(\"objectIdentifierMargin\"),\n\t\t\t\t\tbuttonsWrapper\n\t\t\t\t]\n\t\t\t})\n\t\t);\n\t\tcolumnListItem.data(\"persConfig\", insightsApp.persConfig);\n\n\t\treturn columnListItem;\n\t}\n\n\t/**\n\t * Handles Convert Tile\n\t * @private\n\t */\n\tprivate async _onConvertTilePress(app: ICustomVisualization) {\n\t\tconst displayFormatHint = app.visualization?.displayFormatHint,\n\t\t\tupdateConfigs = {\n\t\t\t\tpageId: MYHOME_PAGE_ID,\n\t\t\t\tsourceSectionIndex: app.persConfig?.sectionIndex as number,\n\t\t\t\tsourceVisualizationIndex: app.persConfig?.visualizationIndex as number,\n\t\t\t\toVisualizationData: {\n\t\t\t\t\tdisplayFormatHint: displayFormatHint === DisplayFormat.Standard ? DisplayFormat.StandardWide : DisplayFormat.Standard\n\t\t\t\t}\n\t\t\t};\n\n\t\tthis._getWrapperFlexBox().setBusy(true);\n\t\tawait this.appManagerInstance.updateVisualizations(updateConfigs);\n\t\tawait this._getTilePanel().refreshData();\n\t\tif (app.visualization) {\n\t\t\tapp.visualization.displayFormatHint = updateConfigs.oVisualizationData.displayFormatHint;\n\t\t}\n\t\tthis._getWrapperFlexBox().setBusy(false);\n\t}\n\n\t/**\n\t * Deletes Insights App\n\t * @private\n\t */\n\tprivate _onDeleteApp(app: ICustomVisualization) {\n\t\tMessageBox.show(this._i18nBundle.getText(\"remove_tile_confirmation_title\", [app.title]) as string, {\n\t\t\tid: \"removeTileConfirmation\",\n\t\t\tstyleClass: \"msgBoxWidth\",\n\t\t\ticon: MessageBox.Icon.QUESTION,\n\t\t\ttitle: this._i18nBundle.getText(\"remove\") as string,\n\t\t\tactions: [this._i18nBundle.getText(\"remove\") as string, MessageBox.Action.CANCEL],\n\t\t\temphasizedAction: this._i18nBundle.getText(\"remove\"),\n\t\t\tonClose: (action: string) => this._handleDeleteApp(action, app)\n\t\t});\n\t}\n\n\t/**\n\t * Handle Delete App Confirmation Decision\n\t * @private\n\t */\n\tprivate async _handleDeleteApp(action: string, app: ISectionAndVisualization) {\n\t\tif (action === this._i18nBundle.getText(\"remove\")) {\n\t\t\tthis._getWrapperFlexBox().setBusy(true);\n\t\t\tawait this.appManagerInstance.removeVisualizations({\n\t\t\t\tsectionId: app.persConfig?.sectionId as string,\n\t\t\t\tvizIds: [app.visualization?.id as string]\n\t\t\t});\n\t\t\tMessageToast.show(this._i18nBundle.getText(\"appRemovedInsights\") as string);\n\t\t\tthis._allInsightsApps = await this.appManagerInstance.fetchInsightApps(true, this._i18nBundle.getText(\"insights\") as string);\n\t\t\t(this._controlMap.get(`${this._wrapperId}--title`) as Title).setText(\n\t\t\t\t`${this._i18nBundle.getText(\"insightsTilesTitle\")} (${this._allInsightsApps.length})`\n\t\t\t);\n\t\t\tthis._createTableRows(this._allInsightsApps);\n\t\t\tawait this._getTilePanel().refreshData();\n\t\t\tthis._getWrapperFlexBox().setBusy(false);\n\t\t}\n\t}\n\n\t/**\n\t * Returns wrapper FlexBox\n\t * @private\n\t */\n\tprivate _getWrapperFlexBox(): FlexBox {\n\t\treturn this._controlMap.get(this._wrapperId) as FlexBox;\n\t}\n\n\t/**\n\t * Returns Tiles Panel\n\t * @private\n\t */\n\tprivate _getTilePanel(): TilesPanel {\n\t\treturn this._getPanel() as TilesPanel;\n\t}\n}\n"],"mappings":"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","ignoreList":[],"sourceRoot":""}},{"offset":{"line":171,"column":0},"map":{"version":3,"file":"KeyUserLayoutSettingsPanel.js","names":["sap","ui","define","Column","ColumnListItem","HBox","ObjectIdentifier","Table","ToggleButton","CustomData","DragDropInfo","Element","Icon","__BaseSettingsPanel","___flexibility_Layoutflexibility","___utils_Constants","_interopRequireDefault","obj","__esModule","default","BaseSettingsPanel","CHANGE_TYPES","KEYUSER_SETTINGS_PANELS_KEYS","KeyUserLayoutSettingsPanel","extend","metadata","library","init","_init","BaseSettingsPanel.prototype.init.call","this","setProperty","LAYOUT","_i18nBundle","getText","addAggregation","getContent","attachPanelNavigated","layout","_getPanel","resetSections","loadSections","_getContent","layoutTable","getId","width","items","columns","dragDropConfig","sourceAggregation","targetAggregation","groupName","dropPosition","drop","event","onDropLayoutSettings","addStyleClass","_loadSections","_this","Promise","resolve","_calculateSectionsState","then","orderedSections","getSections","keyUserSettingsDialog","getParent","removeAllItems","forEach","section","addItem","type","hasDetailsPage","completeId","cells","alignItems","src","justifyContent","title","text","tooltip","visible","icon","enabled","blocked","press","createShowHideChangeFile","pressed","ariaLabelledBy","navigateToPage","getDetailsPage","customData","key","value","e","reject","_onDropLayoutSettings","wrapper","wrapperId","dragItem","getParameter","draggedControl","dragItemIndex","indexOfItem","dropItem","droppedControl","dropItemIndex","sectionOrder","dragObject","data","dropObject","actualDragItemIndex","_getActualIndex","actualDropItemIndex","_rearrangeLayoutElements","splice","setSections","addKeyUserChanges","selectorControl","changeSpecificData","changeType","MOVE","content","movedElements","id","sourceIndex","targetIndex","source","aggregation","target","_allLayoutElements","getItems","isLayoutExpanded","getProperty","expandedElementConfig","_getCurrentExpandedElement","some","element","targetContainer","findIndex","container","_createShowHideChangeFile","oControlEvent","isCheckBoxSelected","keyUserChanges","getKeyUserChanges","UNHIDE","HIDE","oExistingChange","find","oChange","getElementById"],"sources":["KeyUserLayoutSettingsPanel.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\n\nimport Column from \"sap/m/Column\";\nimport ColumnListItem from \"sap/m/ColumnListItem\";\nimport HBox from \"sap/m/HBox\";\nimport ObjectIdentifier from \"sap/m/ObjectIdentifier\";\nimport Table from \"sap/m/Table\";\nimport ToggleButton, { ToggleButton$PressEvent } from \"sap/m/ToggleButton\";\nimport Control from \"sap/ui/core/Control\";\nimport CustomData from \"sap/ui/core/CustomData\";\nimport DragDropInfo from \"sap/ui/core/dnd/DragDropInfo\";\nimport { DropInfo$DropEvent } from \"sap/ui/core/dnd/DropInfo\";\nimport type { MetadataOptions } from \"sap/ui/core/Element\";\nimport Element from \"sap/ui/core/Element\";\nimport Icon from \"sap/ui/core/Icon\";\nimport BaseContainer from \"./BaseContainer\";\nimport BaseSettingsPanel from \"./BaseSettingsPanel\";\nimport { CHANGE_TYPES } from \"./flexibility/Layout.flexibility\";\nimport { IDragEvent, IElement } from \"./interface/LayoutInterface\";\nimport KeyUserSettingsDialog from \"./KeyUserSettingsDialog\";\nimport Layout from \"./Layout\";\nimport { KEYUSER_SETTINGS_PANELS_KEYS } from \"./utils/Constants\";\n\n/**\n *\n * Class for Layout Settings Panel for KeyUser Settings Dialog.\n *\n * @extends BaseSettingsPanel\n *\n * @author SAP SE\n * @version 0.0.1\n * @since 1.121\n *\n * @internal\n * @experimental Since 1.121\n * @private\n *\n * @alias sap.cux.home.KeyUserLayoutSettingsPanel\n */\nexport default class KeyUserLayoutSettingsPanel extends BaseSettingsPanel {\n\tstatic readonly metadata: MetadataOptions = {\n\t\tlibrary: \"sap.cux.home\"\n\t};\n\n\tprivate layoutTable!: Table;\n\tprivate orderedSections!: IElement[];\n\tprivate _allLayoutElements!: BaseContainer[];\n\n\t/**\n\t * Init lifecycle method\n\t *\n\t * @public\n\t * @override\n\t */\n\tpublic init(): void {\n\t\tsuper.init();\n\n\t\t//setup panel\n\t\tthis.setProperty(\"key\", KEYUSER_SETTINGS_PANELS_KEYS.LAYOUT);\n\t\tthis.setProperty(\"title\", this._i18nBundle.getText(\"editModeTitle\"));\n\n\t\t// //setup layout content\n\t\tthis.addAggregation(\"content\", this.getContent());\n\n\t\t//fired every time on panel navigation\n\t\tthis.attachPanelNavigated(() => {\n\t\t\tconst layout = this._getPanel() as Layout;\n\t\t\tlayout.resetSections();\n\t\t\tvoid this.loadSections();\n\t\t});\n\t}\n\n\t/**\n\t * Returns the content for the Layout Settings Panel.\n\t *\n\t * @private\n\t * @returns {VBox} The control containing the Layout Settings Panel content.\n\t */\n\tprivate getContent(): Table {\n\t\tif (!this.layoutTable) {\n\t\t\tthis.layoutTable = new Table(this.getId() + \"--idLayoutSettingsTable\", {\n\t\t\t\twidth: \"calc(100% - 2rem)\",\n\t\t\t\titems: [],\n\t\t\t\tcolumns: [\n\t\t\t\t\tnew Column(this.getId() + \"--idSectionTitleColumn\", {\n\t\t\t\t\t\twidth: \"100%\"\n\t\t\t\t\t})\n\t\t\t\t],\n\t\t\t\tdragDropConfig: new DragDropInfo(this.getId() + \"--idLayoutSettingsDragInfo\", {\n\t\t\t\t\tsourceAggregation: \"items\",\n\t\t\t\t\ttargetAggregation: \"items\",\n\t\t\t\t\tgroupName: \"LayoutSettingsItems\",\n\t\t\t\t\tdropPosition: \"On\",\n\t\t\t\t\tdrop: (event: DropInfo$DropEvent) => {\n\t\t\t\t\t\tthis.onDropLayoutSettings(event);\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t}).addStyleClass(\"layoutSettingsTable sapContrastPlus sapUiSmallMarginBegin\");\n\t\t}\n\t\treturn this.layoutTable;\n\t}\n\n\t/**\n\t * Method to load the sections\n\t *\n\t * @private\n\t */\n\tprivate async loadSections(): Promise<void> {\n\t\tconst layout = this._getPanel() as Layout;\n\t\tawait layout._calculateSectionsState();\n\t\tthis.orderedSections = layout.getSections() || [];\n\n\t\tconst keyUserSettingsDialog = this.getParent() as KeyUserSettingsDialog;\n\n\t\tthis.layoutTable.removeAllItems();\n\t\tthis.orderedSections.forEach((section: IElement) => {\n\t\t\tthis.layoutTable\n\t\t\t\t.addItem(\n\t\t\t\t\tnew ColumnListItem({\n\t\t\t\t\t\ttype: (this.getParent() as KeyUserSettingsDialog)?.hasDetailsPage?.(section.completeId) ? \"Navigation\" : \"Inactive\",\n\t\t\t\t\t\tcells: [\n\t\t\t\t\t\t\tnew HBox({\n\t\t\t\t\t\t\t\talignItems: \"Center\",\n\t\t\t\t\t\t\t\titems: [\n\t\t\t\t\t\t\t\t\tnew Icon({\n\t\t\t\t\t\t\t\t\t\tsrc: \"sap-icon://vertical-grip\"\n\t\t\t\t\t\t\t\t\t}).addStyleClass(\"sapUiSmallMarginEnd\"),\n\t\t\t\t\t\t\t\t\tnew HBox({\n\t\t\t\t\t\t\t\t\t\tjustifyContent: \"SpaceBetween\",\n\t\t\t\t\t\t\t\t\t\talignItems: \"Center\",\n\t\t\t\t\t\t\t\t\t\twidth: \"100%\",\n\t\t\t\t\t\t\t\t\t\titems: [\n\t\t\t\t\t\t\t\t\t\t\tnew ObjectIdentifier({\n\t\t\t\t\t\t\t\t\t\t\t\ttitle: section.title,\n\t\t\t\t\t\t\t\t\t\t\t\ttext: section.text,\n\t\t\t\t\t\t\t\t\t\t\t\ttooltip: section.title\n\t\t\t\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t\t\t\t\tnew ToggleButton({\n\t\t\t\t\t\t\t\t\t\t\t\ttooltip: section.visible\n\t\t\t\t\t\t\t\t\t\t\t\t\t? this._i18nBundle.getText(\"hideBtn\")\n\t\t\t\t\t\t\t\t\t\t\t\t\t: this._i18nBundle.getText(\"showBtn\"),\n\t\t\t\t\t\t\t\t\t\t\t\ticon: \"sap-icon://show\",\n\t\t\t\t\t\t\t\t\t\t\t\ttype: \"Emphasized\",\n\t\t\t\t\t\t\t\t\t\t\t\tenabled: !section.blocked,\n\t\t\t\t\t\t\t\t\t\t\t\tpress: (event) => this.createShowHideChangeFile(event, section),\n\t\t\t\t\t\t\t\t\t\t\t\tpressed: !section.visible,\n\t\t\t\t\t\t\t\t\t\t\t\tariaLabelledBy: [\"selectLabel\"]\n\t\t\t\t\t\t\t\t\t\t\t}).addStyleClass(\"sapUiTinyMarginEnd sapUiTinyMarginTop\")\n\t\t\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t\t\t}).addStyleClass(\"sapUiTinyMarginBegin\")\n\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\twidth: \"100%\"\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t],\n\t\t\t\t\t\tpress: () => keyUserSettingsDialog?.navigateToPage?.(keyUserSettingsDialog.getDetailsPage(section.completeId)),\n\t\t\t\t\t\tcustomData: new CustomData({\n\t\t\t\t\t\t\tkey: \"sectionObject\",\n\t\t\t\t\t\t\tvalue: section\n\t\t\t\t\t\t})\n\t\t\t\t\t})\n\t\t\t\t)\n\t\t\t\t.addStyleClass(\"insightsListItem insightsListMargin\");\n\t\t});\n\t}\n\n\t/**\n\t * Function to execute drag and drop among sections\n\t *\n\t * @private\n\t */\n\tprivate onDropLayoutSettings(event: DropInfo$DropEvent | IDragEvent) {\n\t\tconst wrapper = this._getPanel() as Layout | Control;\n\t\tconst wrapperId = wrapper.getId();\n\t\tconst dragItem = ((event as DropInfo$DropEvent).getParameter?.(\"draggedControl\") ||\n\t\t\t(event as IDragEvent).draggedControl) as ColumnListItem;\n\t\tconst dragItemIndex = (dragItem.getParent() as Table)?.indexOfItem(dragItem);\n\t\tconst dropItem = ((event as DropInfo$DropEvent).getParameter?.(\"droppedControl\") ||\n\t\t\t(event as IDragEvent).droppedControl) as ColumnListItem;\n\t\tconst dropItemIndex = (dragItem.getParent() as Table)?.indexOfItem(dropItem);\n\n\t\tif (dragItemIndex !== dropItemIndex) {\n\t\t\tconst sectionOrder = this.orderedSections;\n\t\t\tconst dragObject = dragItem.data(\"sectionObject\") as IElement;\n\t\t\tconst dropObject = dropItem.data(\"sectionObject\") as IElement;\n\n\t\t\tconst actualDragItemIndex = this._getActualIndex(dragObject.completeId);\n\t\t\tconst actualDropItemIndex = this._getActualIndex(dropObject.completeId);\n\t\t\tthis._rearrangeLayoutElements(actualDragItemIndex, actualDropItemIndex);\n\n\t\t\tsectionOrder.splice(dragItemIndex, 1);\n\t\t\tsectionOrder.splice(dropItemIndex, 0, dragObject);\n\t\t\t(wrapper as Layout).setSections(sectionOrder);\n\n\t\t\tthis.addKeyUserChanges({\n\t\t\t\tselectorControl: wrapper as Control,\n\t\t\t\tchangeSpecificData: {\n\t\t\t\t\tchangeType: CHANGE_TYPES.MOVE,\n\t\t\t\t\tcontent: {\n\t\t\t\t\t\tmovedElements: [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tid: dragObject.completeId,\n\t\t\t\t\t\t\t\tsourceIndex: actualDragItemIndex,\n\t\t\t\t\t\t\t\ttargetIndex: actualDropItemIndex\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t],\n\t\t\t\t\t\tsource: {\n\t\t\t\t\t\t\tid: wrapperId,\n\t\t\t\t\t\t\taggregation: \"items\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\ttarget: {\n\t\t\t\t\t\t\tid: wrapperId,\n\t\t\t\t\t\t\taggregation: \"items\"\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tvoid this.loadSections();\n\t\t}\n\t}\n\n\t/**\n\t * Retrieves the actual index of a layout element by its ID.\n\t *\n\t * @private\n\t * @param {string} id - The ID of the layout element to find.\n\t * @returns {number} The index of the layout element.\n\t */\n\tprivate _getActualIndex(id: string): number {\n\t\tconst layout = this._getPanel() as Layout;\n\t\tthis._allLayoutElements = this._allLayoutElements || [...layout.getItems()];\n\t\tconst isLayoutExpanded = layout.getProperty(\"expanded\") as boolean;\n\t\tconst expandedElementConfig = layout._getCurrentExpandedElement();\n\n\t\tif (isLayoutExpanded && expandedElementConfig) {\n\t\t\t// add the expanded element if it isn't already in the list\n\t\t\tif (!this._allLayoutElements.some((element) => element.getId() === expandedElementConfig.targetContainer.getId())) {\n\t\t\t\tthis._allLayoutElements.splice(\n\t\t\t\t\tlayout.indexOfItem(expandedElementConfig.targetContainer),\n\t\t\t\t\t0,\n\t\t\t\t\texpandedElementConfig.targetContainer\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\treturn this._allLayoutElements.findIndex((element) => element.getId() === id);\n\t}\n\n\t/**\n\t * Rearranges the layout elements by moving an element from the source index to the target index.\n\t *\n\t * @private\n\t * @param {number} sourceIndex - The index of the element to move.\n\t * @param {number} targetIndex - The index to move the element to.\n\t */\n\tprivate _rearrangeLayoutElements(sourceIndex: number, targetIndex: number): void {\n\t\tconst container = this._allLayoutElements.splice(sourceIndex, 1)[0];\n\t\tthis._allLayoutElements.splice(targetIndex, 0, container);\n\t}\n\n\t/**\n\t * Method to set visibility of the container sections\n\t * Toggle button pressed event handler\n\t *\n\t * @private\n\t */\n\tprivate createShowHideChangeFile(oControlEvent: ToggleButton$PressEvent, section: IElement): void {\n\t\tconst isCheckBoxSelected: boolean = !oControlEvent.getParameter(\"pressed\");\n\t\tconst keyUserChanges = this.getKeyUserChanges();\n\t\tconst changeType = isCheckBoxSelected ? CHANGE_TYPES.UNHIDE : CHANGE_TYPES.HIDE;\n\t\tconst oExistingChange = keyUserChanges.find((oChange) => {\n\t\t\treturn oChange.selectorControl.getId() === section.completeId;\n\t\t});\n\n\t\t//Check if the change already exists\n\t\tif (oExistingChange) {\n\t\t\toExistingChange.changeSpecificData.changeType = changeType;\n\t\t} else {\n\t\t\tthis.addKeyUserChanges({\n\t\t\t\tselectorControl: Element.getElementById(section.completeId) as Control,\n\t\t\t\tchangeSpecificData: {\n\t\t\t\t\tchangeType\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n}\n"],"mappings":"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","ignoreList":[],"sourceRoot":""}},{"offset":{"line":178,"column":0},"map":{"version":3,"file":"KeyUserNewsPagesSettingsPanel.js","names":["sap","ui","define","List","Page","StandardListItem","VBox","Element","EventBus","__BaseSettingsPanel","___flexibility_Layoutflexibility","__KeyUserNewsSettingsPanel","__KeyUserPagesSettingsPanel","__NewsPanel","__PagePanel","___utils_Constants","_interopRequireDefault","obj","__esModule","default","_catch","body","recover","result","e","then","BaseSettingsPanel","CHANGE_TYPES","KeyUserNewsSettingsPanel","KeyUserPagesSettingsPanel","NewsPanel","PagePanel","KEYUSER_SETTINGS_PANELS_KEYS","KeyUserNewsPagesSettingsPanel","extend","metadata","library","init","_init","BaseSettingsPanel.prototype.init.call","this","setProperty","NEWS_PAGES","_i18nBundle","getText","_eventBus","getInstance","subscribe","channelId","eventId","data","changes","addNewsPagesChanges","addAggregation","getContent","attachPanelNavigated","loadSettings","_getContent","wrapperVBox","getId","_loadSettings","associatedPanelId","getPanel","associatedPanel","getElementById","container","getParent","forEach","panel","newsPanel","addItem","getNewsSettingsList","pagePanel","getPageSettingsList","newsVisibilityChangeHandler","_newsVisibilityChangeHandler","oEvent","newsVisibilityCheckBox","getParameter","newsFeedVisibility","getSelected","_getPanel","newsPageContainer","layout","keyUserChanges","getKeyUserChanges","existingChange","find","change","changeSpecificData","changeType","NEWS_FEED_VISIBILITY","newsSettingsPanel","removeUrlMesageStrip","addKeyUserChanges","selectorControl","content","isNewsFeedVisible","_getNewsSettingsList","newsSettingsList","selectionChange","bind","mode","standardListItem","selected","getVisible","press","navigateToNewsSettingsPage","type","title","setAssociation","undefined","setSelected","Boolean","getProperty","_getPageSettingsList","pageSettingsList","items","openPageSettingsDialog","onNavBack","_onNavBack","navContainer","back","_navigateToNewsSettingsPage","getNavContainer","newsSettingsPage","showHeader","getAggregation","backgroundDesign","showNavButton","navButtonPress","addPage","to","firePanelNavigated","_openPageSettingsDialog","pageSettingsPanel","pageSettingsDialog","open","_addNewsPagesChanges","isNewsChangesValid","_isNewsChangesValid","_this","Promise","resolve","isValidChanges","onSaveClearChanges","_onSaveClearChanges","clearKeyUserChanges","onCancelClearKeyUserChanges","_onCancelClearKeyUserChanges","clearNewsPanelChanges"],"sources":["KeyUserNewsPagesSettingsPanel.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\n\nimport Dialog from \"sap/m/Dialog\";\nimport FlexBox from \"sap/m/FlexBox\";\nimport List from \"sap/m/List\";\nimport { ListBase$SelectionChangeEvent } from \"sap/m/ListBase\";\nimport NavContainer from \"sap/m/NavContainer\";\nimport Page from \"sap/m/Page\";\nimport StandardListItem from \"sap/m/StandardListItem\";\nimport VBox from \"sap/m/VBox\";\nimport Control from \"sap/ui/core/Control\";\nimport type { MetadataOptions } from \"sap/ui/core/Element\";\nimport Element from \"sap/ui/core/Element\";\nimport EventBus from \"sap/ui/core/EventBus\";\nimport BaseContainer from \"./BaseContainer\";\nimport BaseLayout from \"./BaseLayout\";\nimport BasePanel from \"./BasePanel\";\nimport BaseSettingsPanel from \"./BaseSettingsPanel\";\nimport { CHANGE_TYPES } from \"./flexibility/Layout.flexibility\";\nimport { IKeyUserChange, INewsFeedVisibiliyChange } from \"./interface/KeyUserInterface\";\nimport KeyUserNewsSettingsPanel from \"./KeyUserNewsSettingsPanel\";\nimport KeyUserPagesSettingsPanel from \"./KeyUserPagesSettingsPanel\";\nimport KeyUserSettingsDialog from \"./KeyUserSettingsDialog\";\nimport NewsAndPagesContainer from \"./NewsAndPagesContainer\";\nimport NewsPanel from \"./NewsPanel\";\nimport PagePanel from \"./PagePanel\";\nimport { KEYUSER_SETTINGS_PANELS_KEYS } from \"./utils/Constants\";\n\n/**\n *\n * Class for News & Pages Settings Panel for KeyUser Settings Dialog.\n *\n * @extends BaseSettingsPanel\n *\n * @author SAP SE\n * @version 0.0.1\n * @since 1.121\n *\n * @internal\n * @experimental Since 1.121\n * @private\n *\n * @alias sap.cux.home.KeyUserNewsPagesSettingsPanel\n */\nexport default class KeyUserNewsPagesSettingsPanel extends BaseSettingsPanel {\n\tstatic readonly metadata: MetadataOptions = {\n\t\tlibrary: \"sap.cux.home\"\n\t};\n\tprivate wrapperVBox!: VBox;\n\tprivate newsPanel!: NewsPanel;\n\tprivate newsSettingsPanel!: KeyUserNewsSettingsPanel;\n\tprivate newsSettingsList!: List;\n\tprivate newsSettingsPage!: Page;\n\tprivate pagePanel!: PagePanel;\n\tprivate pageSettingsPanel!: KeyUserPagesSettingsPanel;\n\tprivate pageSettingsList!: List;\n\tprivate pageSettingsDialog!: Dialog;\n\tprivate _eventBus!: EventBus;\n\tprivate newsFeedVisibility!: boolean | undefined;\n\tprivate standardListItem!: StandardListItem;\n\n\t/**\n\t * Init lifecycle method\n\t *\n\t * @public\n\t * @override\n\t */\n\tpublic init(): void {\n\t\tsuper.init();\n\n\t\t//setup panel\n\t\tthis.setProperty(\"key\", KEYUSER_SETTINGS_PANELS_KEYS.NEWS_PAGES);\n\t\tthis.setProperty(\"title\", this._i18nBundle.getText(\"editNewsPages\"));\n\n\t\t// Subscribe to event bus\n\t\tthis._eventBus = EventBus.getInstance();\n\t\tthis._eventBus.subscribe(\n\t\t\t\"KeyUserChanges\",\n\t\t\t\"addNewsPagesChanges\",\n\t\t\t(channelId?: string, eventId?: string, data?: object) => {\n\t\t\t\t//errorstate is false when import is successful\n\t\t\t\tconst { changes } = data as { changes: Array<IKeyUserChange> };\n\t\t\t\tthis.addNewsPagesChanges(changes);\n\t\t\t},\n\t\t\tthis\n\t\t);\n\n\t\t// setup layout content\n\t\tthis.addAggregation(\"content\", this.getContent());\n\n\t\t// fired every time on panel navigation\n\t\tthis.attachPanelNavigated(() => this.loadSettings());\n\t}\n\n\t/**\n\t * Returns the content for the KeyUser News Pages Settings Panel.\n\t *\n\t * @private\n\t * @returns {VBox} The control containing the KeyUser News Pages Settings Panel content.\n\t */\n\tprivate getContent(): VBox {\n\t\tif (!this.wrapperVBox) {\n\t\t\tthis.wrapperVBox = new VBox(`${this.getId()}-wrapperVBox`);\n\t\t}\n\t\treturn this.wrapperVBox;\n\t}\n\n\t/**\n\t * Load settings for the panel.\n\t *\n\t * @private\n\t */\n\tprivate loadSettings(): void {\n\t\tconst associatedPanelId = this.getPanel();\n\t\tconst associatedPanel = Element.getElementById(associatedPanelId) as BasePanel;\n\t\tconst container = associatedPanel?.getParent() as BaseContainer;\n\t\tcontainer.getContent()?.forEach((panel: BasePanel) => {\n\t\t\tif (panel instanceof NewsPanel) {\n\t\t\t\tthis.newsPanel = panel;\n\t\t\t\tthis.wrapperVBox.addItem(this.getNewsSettingsList(panel));\n\t\t\t}\n\t\t\tif (panel instanceof PagePanel) {\n\t\t\t\tthis.pagePanel = panel;\n\t\t\t\tthis.wrapperVBox.addItem(this.getPageSettingsList(panel));\n\t\t\t}\n\t\t});\n\t}\n\n\tprivate newsVisibilityChangeHandler(oEvent: ListBase$SelectionChangeEvent): void {\n\t\tconst newsVisibilityCheckBox = oEvent.getParameter(\"listItem\");\n\t\tthis.newsFeedVisibility = newsVisibilityCheckBox?.getSelected();\n\t\tconst newsPanel = this._getPanel() as NewsPanel;\n\t\tconst newsPageContainer = newsPanel.getParent() as NewsAndPagesContainer;\n\t\tconst layout = newsPageContainer.getParent() as BaseLayout;\n\t\tconst keyUserChanges = this.getKeyUserChanges();\n\t\tconst existingChange = keyUserChanges.find((change) => {\n\t\t\treturn change.changeSpecificData.changeType === CHANGE_TYPES.NEWS_FEED_VISIBILITY;\n\t\t});\n\t\tif (!this.newsFeedVisibility && this.newsSettingsPanel) {\n\t\t\tthis.newsSettingsPanel.removeUrlMesageStrip();\n\t\t}\n\t\tif (!existingChange) {\n\t\t\tthis.addKeyUserChanges({\n\t\t\t\tselectorControl: layout,\n\t\t\t\tchangeSpecificData: {\n\t\t\t\t\tchangeType: CHANGE_TYPES.NEWS_FEED_VISIBILITY,\n\t\t\t\t\tcontent: {\n\t\t\t\t\t\tisNewsFeedVisible: this.newsFeedVisibility\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t} else if ((existingChange.changeSpecificData.content as INewsFeedVisibiliyChange).isNewsFeedVisible !== this.newsFeedVisibility) {\n\t\t\t(existingChange.changeSpecificData.content as INewsFeedVisibiliyChange).isNewsFeedVisible = this.newsFeedVisibility;\n\t\t}\n\t}\n\n\t/**\n\t * Returns News Settings Panel to the content.\n\t *\n\t * @private\n\t * @returns {List} The control containing the News Settings Panel content.\n\t */\n\tprivate getNewsSettingsList(panel: NewsPanel): List {\n\t\tconst newsPanel = this._getPanel() as NewsPanel;\n\t\tif (!this.newsSettingsList) {\n\t\t\tthis.newsSettingsList = new List(`${this.getId()}-news-settings-list`, {\n\t\t\t\tselectionChange: this.newsVisibilityChangeHandler.bind(this),\n\t\t\t\tmode: \"MultiSelect\"\n\t\t\t});\n\t\t\tthis.standardListItem = new StandardListItem({\n\t\t\t\tselected: (newsPanel._getContent()[0].getParent() as FlexBox).getVisible(), // TO-DO: Integrate with keyuser data\n\t\t\t\tpress: this.navigateToNewsSettingsPage.bind(this),\n\t\t\t\ttype: \"Navigation\",\n\t\t\t\ttitle: this._i18nBundle.getText(\"newsFeed\")\n\t\t\t});\n\t\t\tthis.newsSettingsList.addItem(this.standardListItem);\n\t\t\tthis.newsSettingsList.setAssociation(\"panel\", panel);\n\t\t} else {\n\t\t\tif (this.newsFeedVisibility === undefined) {\n\t\t\t\tthis.standardListItem.setSelected(\n\t\t\t\t\tBoolean(newsPanel.getParent()?.getProperty(\"newsFeedVisibility\")) && Boolean(newsPanel.getProperty(\"newsAvailable\"))\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\tthis.standardListItem.setSelected(this.newsFeedVisibility);\n\t\t\t}\n\t\t}\n\t\treturn this.newsSettingsList;\n\t}\n\n\t/**\n\t * Returns Page Settings Panel to the content.\n\t *\n\t * @private\n\t * @returns {List} The control containing the Page Settings Panel content.\n\t */\n\tprivate getPageSettingsList(panel: PagePanel): List {\n\t\tif (!this.pageSettingsList) {\n\t\t\tthis.pageSettingsList = new List(`${this.getId()}-page-settings-list`, {\n\t\t\t\tmode: \"None\",\n\t\t\t\titems: [\n\t\t\t\t\tnew StandardListItem({\n\t\t\t\t\t\tselected: true, // TO-DO: Integrate with keyuser data\n\t\t\t\t\t\tpress: this.openPageSettingsDialog.bind(this),\n\t\t\t\t\t\ttype: \"Navigation\",\n\t\t\t\t\t\ttitle: this._i18nBundle.getText(\"pageGroupHeader\")\n\t\t\t\t\t})\n\t\t\t\t]\n\t\t\t});\n\t\t\tthis.pageSettingsList.setAssociation(\"panel\", panel);\n\t\t}\n\t\treturn this.pageSettingsList;\n\t}\n\n\tprivate onNavBack(navContainer: NavContainer): void {\n\t\tnavContainer?.back();\n\t\tif (!this.standardListItem.getSelected()) {\n\t\t\tthis.newsSettingsPanel?.removeUrlMesageStrip();\n\t\t}\n\t}\n\n\t/**\n\t * Adds News Settings Page to the dialog.\n\t *\n\t * @private\n\t */\n\tprivate navigateToNewsSettingsPage(): void {\n\t\tconst navContainer = (this.getParent() as KeyUserSettingsDialog)?.getNavContainer?.();\n\t\tif (!this.newsSettingsPage) {\n\t\t\tthis.newsSettingsPanel = new KeyUserNewsSettingsPanel();\n\t\t\tthis.newsSettingsPanel.setAssociation(\"panel\", this.newsPanel);\n\t\t\tthis.newsSettingsPage = new Page(`${this.getId()}-news-settings-page`, {\n\t\t\t\ttitle: this.newsSettingsPanel.getProperty(\"title\") as string,\n\t\t\t\tshowHeader: true,\n\t\t\t\tcontent: this.newsSettingsPanel.getAggregation(\"content\") as Control,\n\t\t\t\tbackgroundDesign: \"Transparent\",\n\t\t\t\tshowNavButton: true,\n\t\t\t\tnavButtonPress: this.onNavBack.bind(this, navContainer)\n\t\t\t});\n\t\t}\n\t\tnavContainer?.addPage(this.newsSettingsPage);\n\t\tnavContainer?.to(this.newsSettingsPage);\n\t\tthis.newsSettingsPanel.firePanelNavigated();\n\t}\n\n\t/**\n\t * Opens Page Settings Dialog.\n\t *\n\t * @private\n\t */\n\tprivate openPageSettingsDialog(): void {\n\t\tif (!this.pageSettingsPanel) {\n\t\t\tthis.pageSettingsPanel = new KeyUserPagesSettingsPanel();\n\t\t\tthis.pageSettingsPanel.setAssociation(\"panel\", this.pagePanel);\n\t\t\tthis.pageSettingsDialog = (this.pageSettingsPanel.getAggregation(\"content\") as Dialog[])?.[0];\n\t\t}\n\t\tthis.pageSettingsDialog?.open();\n\t\tthis.pageSettingsPanel?.firePanelNavigated();\n\t}\n\n\t/**\n\t * Handles Space Page Changes.\n\t *\n\t * @private\n\t * @param {Array<IKeyUserChange>} changes All Key User Changes.\n\t */\n\tprivate addNewsPagesChanges(changes: Array<IKeyUserChange>): void {\n\t\tchanges.forEach((change) => {\n\t\t\tthis.addKeyUserChanges(change);\n\t\t});\n\t}\n\n\tpublic async isNewsChangesValid() {\n\t\ttry {\n\t\t\treturn await this.newsSettingsPanel?.isValidChanges(this.standardListItem.getSelected());\n\t\t} catch {\n\t\t\treturn true;\n\t\t}\n\t}\n\n\tpublic onSaveClearChanges() {\n\t\tthis.newsFeedVisibility = undefined;\n\t\tthis.newsSettingsPanel?.clearKeyUserChanges();\n\t}\n\n\tpublic onCancelClearKeyUserChanges() {\n\t\tconst newsPanel = this._getPanel() as NewsPanel;\n\t\tthis.newsFeedVisibility = undefined;\n\t\tthis.standardListItem?.setSelected((newsPanel._getContent()[0].getParent() as FlexBox).getVisible());\n\t\tthis.newsSettingsPanel?.clearNewsPanelChanges();\n\t}\n}\n"],"mappings":"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","ignoreList":[],"sourceRoot":""}},{"offset":{"line":185,"column":0},"map":{"version":3,"file":"KeyUserNewsSettingsPanel.js","names":["sap","ui","define","Button","CheckBox","Input","Label","MessageBox","MessageStrip","MessageToast","Toolbar","VBox","Library","EventBus","MessageType","SimpleForm","FileUploader","Container","__BaseSettingsPanel","___flexibility_Layoutflexibility","___utils_Constants","__HttpHelper","_interopRequireDefault","obj","__esModule","default","_catch","body","recover","result","e","then","BaseSettingsPanel","CHANGE_TYPES","KEYUSER_SETTINGS_PANELS_KEYS","HttpHelper","Constants","NEWS_FEED_POST_API","KeyUserNewsSettingsPanel","extend","metadata","library","init","_init","BaseSettingsPanel.prototype.init.call","this","controlMap","Map","setProperty","NEWS","_i18nBundle","getText","addAggregation","getContent","attachPanelNavigated","loadSettings","_eventBus","getInstance","subscribe","channelId","eventId","data","showError","showMessageStrip","Warning","validChanges","getMessageStrip","setVisible","getCurrentKeyUserChange","_getCurrentKeyUserChange","keyUserChanges","getKeyUserChanges","existingChange","find","change","changeSpecificData","changeType","NEWS_FEED_URL","content","_getContent","wrapperVBoxId","getId","wrapperVBox","set","isValidChanges","_isValidChanges","newsVisible","_this","_temp4","fileUploader","getFileUploader","keyUserChangeContent","showCustom","customNewsVisibility","undefined","Boolean","_getPanel","getProperty","_temp3","getNewsFeedUploadBtn","getEnabled","error","String","setValue","customNewsFeedFileName","_temp2","getValue","Error","_temp","getVisible","newsUrl","newsFeedURL","Promise","resolve","setURL","reject","clearNewsPanelChanges","_clearNewsPanelChanges","newsPanel","newsUrlInput","get","setEnabled","setSelected","clearKeyUserChanges","addMessageStrip","_addMessageStrip","keyUserNewsPanelToolbarId","keyUserNewsPanelToolbar","height","messageStripWrapper","width","messageStripId","messsageStrip","showIcon","visible","addItem","addContent","handleSelectCustomNewsFeed","_handleSelectCustomNewsFeed","oEvent","getSource","getSelected","newsPageContainer","getParent","layout","addKeyUserChanges","selectorControl","oldNewsFeedUrl","oldShowCustomNewsFeed","oldCustomNewsFeedKey","showCustomNewsFeed","customNewsFeedKey","publish","changes","removeUrlMesageStrip","disable","date","Date","addCustomNewsFeedCheckBox","_addCustomNewsFeedCheckBox","customNewsFeedCheckBoxId","customNewsFeedCheckBox","text","selected","select","bind","addStyleClass","onNewsUrlChange","_onNewsUrlChange","getParameter","keyUserContent","validUrl","getValidURL","_showMessageStrip","bShow","type","textKey","setType","setText","_getValidURL","urlString","url","URL","href","_removeUrlMesageStrip","onUrlLiveChange","_onUrlLiveChange","sNewValue","_getMessageStrip","addNewsURLSimpleForm","_addNewsURLSimpleForm","newsFeedURLSimpleFormId","newsFeedURLSimpleForm","newsFeedURLInputId","newsFeedURLInput","value","InputType","Url","liveChange","enabled","handleFileChange","_handleFileChange","setNewsFeedEnabled","_setNewsFeedEnabled","bEnabled","newsFeedUploadBtn","_getNewsFeedUploadBtn","customNewsUploadFileUploaderButtonId","handleFileUploadError","_handleFileUploadError","iMaxFileSize","getMaximumFileSize","handleFileDialogClose","_handleFileDialogClose","event","fileName","handleNewsFeedFileUpload","_handleNewsFeedFileUpload","_this2","errorMsg","all","getUploadedFile","getServiceAsync","aResponse","fileData","userInfo","sUserId","payload","changeId","now","toString","attachment","Post","oResponse","message","includes","customKey","show","oErr","_getUploadedFile","file","oFileUpload","files","reader","FileReader","onload","base64String","replace","readAsDataURL","_getFileUploader","customNewsUploadFileUploader","addCustomNewsUploadSimpleForm","_addCustomNewsUploadSimpleForm","customNewsUploadSimpleFormId","customNewsUploadSimpleForm","customNewsUploadVBox","customNewsUploadFileUploaderControl","name","tooltip","fileType","maximumFileSize","fileSizeExceed","sameFilenameAllowed","afterDialogClose","customNewsUploadFileUploaderButton","press","_loadSettings","removeAllItems"],"sources":["KeyUserNewsSettingsPanel.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\n\nimport Button from \"sap/m/Button\";\nimport CheckBox, { CheckBox$SelectEvent } from \"sap/m/CheckBox\";\nimport Input, { Input$LiveChangeEvent } from \"sap/m/Input\";\nimport { InputBase$ChangeEvent } from \"sap/m/InputBase\";\nimport Label from \"sap/m/Label\";\nimport MessageBox from \"sap/m/MessageBox\";\nimport MessageStrip from \"sap/m/MessageStrip\";\nimport MessageToast from \"sap/m/MessageToast\";\nimport Toolbar from \"sap/m/Toolbar\";\nimport VBox from \"sap/m/VBox\";\nimport Library from \"sap/m/library\";\nimport Event from \"sap/ui/base/Event\";\nimport Control from \"sap/ui/core/Control\";\nimport type { MetadataOptions } from \"sap/ui/core/Element\";\nimport EventBus from \"sap/ui/core/EventBus\";\nimport MessageType from \"sap/ui/core/message/MessageType\";\nimport SimpleForm from \"sap/ui/layout/form/SimpleForm\";\nimport FileUploader, { FileUploader$ChangeEvent, FileUploader$FileSizeExceedEvent } from \"sap/ui/unified/FileUploader\";\nimport Container from \"sap/ushell/Container\";\nimport UserInfo from \"sap/ushell/services/UserInfo\";\nimport BaseLayout from \"./BaseLayout\";\nimport BaseSettingsPanel from \"./BaseSettingsPanel\";\nimport NewsAndPagesContainer from \"./NewsAndPagesContainer\";\nimport NewsPanel from \"./NewsPanel\";\nimport { CHANGE_TYPES } from \"./flexibility/Layout.flexibility\";\nimport { INewsPersData } from \"./interface/KeyUserInterface\";\nimport { KEYUSER_SETTINGS_PANELS_KEYS } from \"./utils/Constants\";\nimport HttpHelper from \"./utils/HttpHelper\";\n\nconst Constants = {\n\tNEWS_FEED_POST_API: \"/sap/opu/odata4/ui2/insights_srv/srvd/ui2/\" + \"insights_repo_srv/0001/\" + \"NEWS_FEED\"\n};\n\ninterface ShowError {\n\tshowError: boolean;\n\tdate: Date;\n}\n\n/**\n *\n * Class for News Settings Panel for KeyUser Settings Dialog.\n *\n * @extends BaseSettingsPanel\n *\n * @author SAP SE\n * @version 0.0.1\n * @since 1.121\n *\n * @internal\n * @experimental Since 1.121\n * @private\n *\n * @alias sap.cux.home.KeyUserNewsSettingsPanel\n */\nexport default class KeyUserNewsSettingsPanel extends BaseSettingsPanel {\n\tstatic readonly metadata: MetadataOptions = {\n\t\tlibrary: \"sap.cux.home\"\n\t};\n\n\tprivate controlMap!: Map<string, Control | Element>;\n\tprivate _eventBus!: EventBus;\n\tprivate customNewsVisibility!: boolean;\n\tprivate validChanges!: boolean;\n\n\t/**\n\t * Init lifecycle method\n\t *\n\t * @public\n\t * @override\n\t */\n\tpublic init(): void {\n\t\tsuper.init();\n\t\tthis.controlMap = new Map();\n\n\t\t//setup panel\n\t\tthis.setProperty(\"key\", KEYUSER_SETTINGS_PANELS_KEYS.NEWS);\n\t\tthis.setProperty(\"title\", this._i18nBundle.getText(\"editNewsFeed\"));\n\n\t\t// //setup layout content\n\t\tthis.addAggregation(\"content\", this.getContent());\n\n\t\t// fired every time on panel navigation\n\t\tthis.attachPanelNavigated(() => this.loadSettings());\n\n\t\tthis._eventBus = EventBus.getInstance();\n\t\tthis._eventBus.subscribe(\n\t\t\t\"KeyUserChanges\",\n\t\t\t\"newsFeedLoadFailed\",\n\t\t\t(channelId?: string, eventId?: string, data?: object) => {\n\t\t\t\t//errorstate is false when import is successful\n\t\t\t\tif ((data as unknown as ShowError)?.showError) {\n\t\t\t\t\tthis.showMessageStrip(true, MessageType.Warning, \"invalidNewsUrl\");\n\t\t\t\t\tthis.validChanges = false;\n\t\t\t\t} else {\n\t\t\t\t\tthis.getMessageStrip().setVisible(false);\n\t\t\t\t\tthis.validChanges = true;\n\t\t\t\t}\n\t\t\t},\n\t\t\tthis\n\t\t);\n\t}\n\n\tprivate getCurrentKeyUserChange(): INewsPersData {\n\t\tconst keyUserChanges = this.getKeyUserChanges();\n\t\tconst existingChange = keyUserChanges.find((change) => {\n\t\t\treturn change.changeSpecificData.changeType === CHANGE_TYPES.NEWS_FEED_URL;\n\t\t});\n\t\treturn existingChange?.changeSpecificData.content as INewsPersData;\n\t}\n\n\t/**\n\t * Returns the content for the KeyUser news Settings Panel.\n\t *\n\t * @private\n\t * @returns {VBox} The control containing the KeyUser news Settings Panel content.\n\t */\n\tprivate getContent(): VBox {\n\t\tconst wrapperVBoxId = `${this.getId()}-wrapperVBox`;\n\t\tconst wrapperVBox = new VBox(wrapperVBoxId);\n\t\tthis.controlMap.set(wrapperVBoxId, wrapperVBox);\n\n\t\treturn wrapperVBox;\n\t}\n\n\tpublic async isValidChanges(newsVisible: boolean) {\n\t\tthis.validChanges = true;\n\t\tconst fileUploader = this.getFileUploader();\n\t\tconst keyUserChangeContent = this.getCurrentKeyUserChange();\n\t\tconst showCustom =\n\t\t\tthis.customNewsVisibility === undefined ? Boolean(this._getPanel().getProperty(\"showCustom\")) : this.customNewsVisibility;\n\t\tif (this.getNewsFeedUploadBtn().getEnabled()) {\n\t\t\tif (showCustom) {\n\t\t\t\tMessageBox.error(String(this._i18nBundle.getText(\"newsFeedSaveUploadChanges\")));\n\t\t\t\tthis.validChanges = false;\n\t\t\t} else {\n\t\t\t\tif (fileUploader) {\n\t\t\t\t\tfileUploader.setValue(\n\t\t\t\t\t\tkeyUserChangeContent.customNewsFeedFileName || String(this._getPanel().getProperty(\"customFileName\"))\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (showCustom && fileUploader.getValue() === \"\" && newsVisible) {\n\t\t\tthis.showMessageStrip(true, MessageType.Error, \"noNewsFileError\");\n\t\t\tthis.validChanges = false;\n\t\t} else if (!showCustom && newsVisible && !this.getMessageStrip().getVisible()) {\n\t\t\tconst newsUrl = keyUserChangeContent.newsFeedURL;\n\t\t\tawait (this._getPanel() as NewsPanel).setURL(String(newsUrl));\n\t\t}\n\t\treturn this.validChanges;\n\t}\n\n\tpublic clearNewsPanelChanges() {\n\t\tconst newsPanel = this._getPanel();\n\t\tthis.getMessageStrip().setVisible(false);\n\t\tconst newsUrlInput = this.controlMap.get(`${this.getId()}-newsFeedURLInput`) as Input;\n\t\tnewsUrlInput.setValue(String(newsPanel.getProperty(\"url\")));\n\t\tthis.customNewsVisibility = Boolean(newsPanel.getProperty(\"showCustom\"));\n\t\t(this.controlMap.get(`${this.getId()}-customNewsUploadFileUploader`) as FileUploader).setEnabled(this.customNewsVisibility);\n\t\t(this.controlMap.get(`${this.getId()}-newsFeedURLInput`) as Input).setEnabled(!this.customNewsVisibility);\n\t\t(this.controlMap.get(`${this.getId()}-customNewsFeedCheckBox`) as CheckBox).setSelected(this.customNewsVisibility);\n\t\tthis.getFileUploader().setValue(String(newsPanel.getProperty(\"customFileName\")));\n\t\tthis.clearKeyUserChanges();\n\t}\n\n\tprivate addMessageStrip(wrapperVBox: VBox): void {\n\t\tconst keyUserNewsPanelToolbarId = `${this.getId()}-keyUserNewsPanelToolbar`;\n\t\tif (!this.controlMap.get(keyUserNewsPanelToolbarId)) {\n\t\t\tconst keyUserNewsPanelToolbar = new Toolbar(keyUserNewsPanelToolbarId, { height: \"auto\" });\n\t\t\tconst messageStripWrapper = new VBox(`${this.getId()}-messageStripWrapper`, { width: \"100%\" });\n\t\t\tconst messageStripId = `${this.getId()}-messageStrip`;\n\t\t\tconst messsageStrip = new MessageStrip(messageStripId, {\n\t\t\t\tshowIcon: true,\n\t\t\t\tvisible: false\n\t\t\t});\n\t\t\tthis.controlMap.set(messageStripId, messsageStrip);\n\t\t\tmessageStripWrapper.addItem(messsageStrip);\n\t\t\tkeyUserNewsPanelToolbar.addContent(messageStripWrapper);\n\t\t\tthis.controlMap.set(keyUserNewsPanelToolbarId, keyUserNewsPanelToolbar);\n\t\t}\n\t\twrapperVBox.addItem(this.controlMap.get(keyUserNewsPanelToolbarId) as Toolbar);\n\t}\n\n\tprivate handleSelectCustomNewsFeed(oEvent: CheckBox$SelectEvent): void {\n\t\tthis.customNewsVisibility = oEvent.getSource().getSelected();\n\n\t\t(this.controlMap.get(`${this.getId()}-customNewsUploadFileUploader`) as FileUploader).setEnabled(this.customNewsVisibility);\n\t\t(this.controlMap.get(`${this.getId()}-newsFeedURLInput`) as Input).setEnabled(!this.customNewsVisibility);\n\n\t\tconst newsPanel = this._getPanel() as NewsPanel;\n\t\tconst newsPageContainer = newsPanel.getParent() as NewsAndPagesContainer;\n\t\tconst layout = newsPageContainer.getParent() as BaseLayout;\n\t\tconst keyUserChangeContent = this.getCurrentKeyUserChange();\n\t\tif (!keyUserChangeContent) {\n\t\t\tthis.addKeyUserChanges({\n\t\t\t\tselectorControl: layout,\n\t\t\t\tchangeSpecificData: {\n\t\t\t\t\tchangeType: CHANGE_TYPES.NEWS_FEED_URL,\n\t\t\t\t\tcontent: {\n\t\t\t\t\t\toldNewsFeedUrl: String(this._getPanel().getProperty(\"url\")),\n\t\t\t\t\t\toldShowCustomNewsFeed: Boolean(this._getPanel().getProperty(\"showCustom\")),\n\t\t\t\t\t\toldCustomNewsFeedKey: String(this._getPanel().getProperty(\"customFeedKey\")),\n\t\t\t\t\t\tnewsFeedURL: String(this._getPanel().getProperty(\"url\")),\n\t\t\t\t\t\tshowCustomNewsFeed: this.customNewsVisibility,\n\t\t\t\t\t\tcustomNewsFeedKey: String(this._getPanel().getProperty(\"customFeedKey\")),\n\t\t\t\t\t\tcustomNewsFeedFileName: String(this._getPanel().getProperty(\"customFileName\"))\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t\tthis._eventBus.publish(\"KeyUserChanges\", \"addNewsPagesChanges\", { changes: this.getKeyUserChanges() });\n\t\t} else if (keyUserChangeContent.showCustomNewsFeed !== this.customNewsVisibility) {\n\t\t\tkeyUserChangeContent.showCustomNewsFeed = this.customNewsVisibility;\n\t\t}\n\t\tthis.removeUrlMesageStrip();\n\t\tthis._eventBus.publish(\"KeyUserChanges\", \"disabledSaveBtn\", { disable: false, date: new Date() });\n\t}\n\n\t/**\n\t * Add CheckBox for Custom News Feed.\n\t *\n\t * @private\n\t */\n\tprivate addCustomNewsFeedCheckBox(wrapperVBox: VBox): void {\n\t\tconst customNewsFeedCheckBoxId = `${this.getId()}-customNewsFeedCheckBox`;\n\t\tif (!this.controlMap.get(customNewsFeedCheckBoxId)) {\n\t\t\tconst customNewsFeedCheckBox = new CheckBox(`${this.getId()}-customNewsFeedCheckBox`, {\n\t\t\t\ttext: this._i18nBundle.getText(\"selectCustomNewsFeed\"),\n\t\t\t\tselected: Boolean(this._getPanel().getProperty(\"showCustom\")),\n\t\t\t\tselect: this.handleSelectCustomNewsFeed.bind(this)\n\t\t\t}).addStyleClass(\"sapUiTinyMargin\");\n\t\t\tthis.controlMap.set(customNewsFeedCheckBoxId, customNewsFeedCheckBox);\n\t\t} else if (!this.getCurrentKeyUserChange()) {\n\t\t\t(this.controlMap.get(`${this.getId()}-customNewsFeedCheckBox`) as CheckBox).setSelected(\n\t\t\t\tBoolean(this._getPanel().getProperty(\"showCustom\"))\n\t\t\t);\n\t\t}\n\t\twrapperVBox.addItem(this.controlMap.get(customNewsFeedCheckBoxId) as CheckBox);\n\t}\n\n\tprivate onNewsUrlChange(oEvent: InputBase$ChangeEvent): void {\n\t\tconst newsPanel = this._getPanel() as NewsPanel;\n\t\tconst newsPageContainer = newsPanel.getParent() as NewsAndPagesContainer;\n\t\tconst layout = newsPageContainer.getParent() as BaseLayout;\n\t\tlet newsUrl = oEvent.getParameter(\"value\");\n\t\tconst keyUserContent = this.getCurrentKeyUserChange();\n\t\tconst validUrl = this.getValidURL(String(newsUrl));\n\t\tif (!validUrl) {\n\t\t\treturn;\n\t\t} else {\n\t\t\tnewsUrl = validUrl;\n\t\t}\n\t\tif (!keyUserContent) {\n\t\t\tthis.addKeyUserChanges({\n\t\t\t\tselectorControl: layout,\n\t\t\t\tchangeSpecificData: {\n\t\t\t\t\tchangeType: CHANGE_TYPES.NEWS_FEED_URL,\n\t\t\t\t\tcontent: {\n\t\t\t\t\t\toldNewsFeedUrl: String(this._getPanel().getProperty(\"url\")),\n\t\t\t\t\t\toldShowCustomNewsFeed: Boolean(this._getPanel().getProperty(\"showCustom\")),\n\t\t\t\t\t\toldCustomNewsFeedKey: String(this._getPanel().getProperty(\"customFeedKey\")),\n\t\t\t\t\t\tnewsFeedURL: newsUrl,\n\t\t\t\t\t\tshowCustomNewsFeed: false,\n\t\t\t\t\t\tcustomNewsFeedKey: String(this._getPanel().getProperty(\"customFeedKey\")),\n\t\t\t\t\t\tcustomNewsFeedFileName: String(this._getPanel().getProperty(\"customFileName\"))\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t\tthis._eventBus.publish(\"KeyUserChanges\", \"addNewsPagesChanges\", { changes: this.getKeyUserChanges() });\n\t\t} else if (keyUserContent.newsFeedURL !== newsUrl) {\n\t\t\tkeyUserContent.newsFeedURL = newsUrl;\n\t\t\tkeyUserContent.showCustomNewsFeed = false;\n\t\t}\n\t}\n\n\tprivate showMessageStrip(bShow: boolean, type: MessageType, textKey: string): void {\n\t\tthis.getMessageStrip().setType(type);\n\t\tthis.getMessageStrip().setVisible(bShow);\n\t\tthis.getMessageStrip().setText(String(this._i18nBundle.getText(textKey)));\n\t\tif (type === MessageType.Error) {\n\t\t\tthis._eventBus.publish(\"KeyUserChanges\", \"disabledSaveBtn\", { disable: bShow, date: new Date() });\n\t\t}\n\t}\n\n\tprivate getValidURL(urlString: string): string {\n\t\ttry {\n\t\t\tconst url = new URL(urlString);\n\t\t\treturn url.href;\n\t\t} catch {\n\t\t\treturn \"\";\n\t\t}\n\t}\n\n\tpublic removeUrlMesageStrip() {\n\t\tthis._eventBus.publish(\"KeyUserChanges\", \"disabledSaveBtn\", { disable: false, date: new Date() });\n\t\tthis.getMessageStrip().setVisible(false);\n\t\tconst newsUrlInput = this.controlMap.get(`${this.getId()}-newsFeedURLInput`) as Input;\n\t\tif (!this.getValidURL(newsUrlInput.getValue())) {\n\t\t\tnewsUrlInput.setValue(\"\");\n\t\t}\n\t}\n\n\tprivate onUrlLiveChange(oEvent: Input$LiveChangeEvent) {\n\t\tconst sNewValue = oEvent.getParameter(\"value\") || \"\";\n\t\tthis.showMessageStrip(!this.getValidURL(sNewValue), MessageType.Error, \"invalidNewsUrl\");\n\t}\n\n\tprivate getMessageStrip(): MessageStrip {\n\t\tconst messageStripId = `${this.getId()}-messageStrip`;\n\t\treturn this.controlMap.get(messageStripId) as MessageStrip;\n\t}\n\n\t/**\n\t * Add SimpleForm for News URL.\n\t *\n\t * @private\n\t */\n\tprivate addNewsURLSimpleForm(wrapperVBox: VBox): void {\n\t\tconst newsFeedURLSimpleFormId = `${this.getId()}-newsFeedURLSimpleForm`;\n\t\tif (!this.controlMap.get(newsFeedURLSimpleFormId)) {\n\t\t\tconst newsFeedURLSimpleForm = new SimpleForm(`${this.getId()}-newsFeedURLSimpleForm`, {\n\t\t\t\tcontent: [\n\t\t\t\t\tnew Label(`${this.getId()}-newsFeedURLLabel`, {\n\t\t\t\t\t\ttext: this._i18nBundle.getText(\"editNewsURL\")\n\t\t\t\t\t})\n\t\t\t\t]\n\t\t\t}).addStyleClass(\"sapContrastPlus\");\n\t\t\tconst newsFeedURLInputId = `${this.getId()}-newsFeedURLInput`;\n\t\t\tconst newsFeedURLInput = new Input(newsFeedURLInputId, {\n\t\t\t\tvalue: String(this._getPanel().getProperty(\"url\")),\n\t\t\t\ttype: Library.InputType.Url,\n\t\t\t\tchange: this.onNewsUrlChange.bind(this),\n\t\t\t\tliveChange: this.onUrlLiveChange.bind(this),\n\t\t\t\tenabled: !this._getPanel().getProperty(\"showCustom\")\n\t\t\t});\n\t\t\tthis.controlMap.set(newsFeedURLInputId, newsFeedURLInput);\n\t\t\tnewsFeedURLSimpleForm.addContent(newsFeedURLInput);\n\t\t\tthis.controlMap.set(newsFeedURLSimpleFormId, newsFeedURLSimpleForm);\n\t\t} else if (this.getCurrentKeyUserChange()) {\n\t\t\t(this.controlMap.get(`${this.getId()}-newsFeedURLInput`) as Input).setValue(String(this._getPanel().getProperty(\"url\")));\n\t\t}\n\t\twrapperVBox.addItem(this.controlMap.get(newsFeedURLSimpleFormId) as SimpleForm);\n\t}\n\n\tprivate handleFileChange(oEvent: FileUploader$ChangeEvent): void {\n\t\tconst fileUploader = oEvent.getSource();\n\t\tthis.getMessageStrip().setVisible(false);\n\t\tthis._eventBus.publish(\"KeyUserChanges\", \"disabledSaveBtn\", { disable: false, date: new Date() });\n\t\tthis.setNewsFeedEnabled(fileUploader.getValue() !== \"\");\n\t}\n\n\tprivate setNewsFeedEnabled(bEnabled: boolean): void {\n\t\tconst newsFeedUploadBtn = this.getNewsFeedUploadBtn();\n\t\tif (newsFeedUploadBtn) {\n\t\t\tnewsFeedUploadBtn.setEnabled(bEnabled);\n\t\t}\n\t}\n\n\tprivate getNewsFeedUploadBtn(): Button {\n\t\tconst customNewsUploadFileUploaderButtonId = `${this.getId()}-customNewsUploadFileUploaderButton`;\n\t\treturn this.controlMap.get(customNewsUploadFileUploaderButtonId) as Button;\n\t}\n\n\tprivate handleFileUploadError(oEvent: FileUploader$FileSizeExceedEvent): void {\n\t\tconst fileUploader = oEvent.getSource();\n\t\tconst iMaxFileSize = fileUploader.getMaximumFileSize();\n\t\tthis.setNewsFeedEnabled(false);\n\t\tMessageBox.error(String(this._i18nBundle.getText(\"newsFeedMaxFileSizeError\", [iMaxFileSize])));\n\t}\n\n\thandleFileDialogClose(event: Event): void {\n\t\tconst fileUploader = event.getSource<FileUploader>();\n\t\tlet fileName = fileUploader.getValue();\n\t\t// if file selection dialog is closed and no file is selected, set value as last uploaded file\n\n\t\tif (fileName === \"\") {\n\t\t\tfileName = this.getCurrentKeyUserChange()?.customNewsFeedFileName || String(this._getPanel().getProperty(\"customFileName\"));\n\t\t\tthis.setNewsFeedEnabled(false);\n\t\t}\n\t\tfileUploader.setValue(fileName);\n\t}\n\n\tprivate async handleNewsFeedFileUpload(): Promise<void> {\n\t\tlet errorMsg = this._i18nBundle.getText(\"newsFeedFileUploadError\");\n\t\ttry {\n\t\t\tconst aResponse = await Promise.all([this.getUploadedFile(), Container.getServiceAsync<UserInfo>(\"UserInfo\")]);\n\t\t\tconst fileData = aResponse[0];\n\t\t\tconst userInfo = aResponse[1];\n\t\t\tconst sUserId = userInfo && userInfo.getId();\n\t\t\tconst payload = { changeId: sUserId + \"_\" + Date.now().toString(), attachment: fileData };\n\t\t\tconst oResponse = await HttpHelper.Post(Constants.NEWS_FEED_POST_API, payload);\n\t\t\tconst keyUserChangeContent = this.getCurrentKeyUserChange();\n\t\t\tconst newsPanel = this._getPanel() as NewsPanel;\n\t\t\tconst newsPageContainer = newsPanel.getParent() as NewsAndPagesContainer;\n\t\t\tconst layout = newsPageContainer.getParent() as BaseLayout;\n\t\t\tif (oResponse && (oResponse as { error: { message: string } }).error) {\n\t\t\t\tthis.getFileUploader().setValue(\"\");\n\t\t\t\tif (keyUserChangeContent) {\n\t\t\t\t\tkeyUserChangeContent.customNewsFeedFileName = \"\";\n\t\t\t\t} else {\n\t\t\t\t\tthis.addKeyUserChanges({\n\t\t\t\t\t\tselectorControl: layout,\n\t\t\t\t\t\tchangeSpecificData: {\n\t\t\t\t\t\t\tchangeType: CHANGE_TYPES.NEWS_FEED_URL,\n\t\t\t\t\t\t\tcontent: {\n\t\t\t\t\t\t\t\toldNewsFeedUrl: String(this._getPanel().getProperty(\"url\")),\n\t\t\t\t\t\t\t\toldShowCustomNewsFeed: Boolean(this._getPanel().getProperty(\"showCustom\")),\n\t\t\t\t\t\t\t\toldCustomNewsFeedKey: String(this._getPanel().getProperty(\"customFeedKey\")),\n\t\t\t\t\t\t\t\tnewsFeedURL: String(this._getPanel().getProperty(\"url\")),\n\t\t\t\t\t\t\t\tshowCustomNewsFeed: true,\n\t\t\t\t\t\t\t\tcustomNewsFeedKey: String(this._getPanel().getProperty(\"customFeedKey\")),\n\t\t\t\t\t\t\t\tcustomNewsFeedFileName: String(this._getPanel().getProperty(\"customFileName\"))\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\terrorMsg = (oResponse as { error: { message: string } }).error.message.includes(\"NODATA\")\n\t\t\t\t\t? this._i18nBundle.getText(\"newsFeedEmptyFileError\")\n\t\t\t\t\t: errorMsg;\n\t\t\t\tthrow new Error(errorMsg);\n\t\t\t}\n\t\t\tconst customKey = (oResponse as { changeId: string }).changeId;\n\t\t\tif (keyUserChangeContent) {\n\t\t\t\tkeyUserChangeContent.customNewsFeedKey = customKey;\n\t\t\t\tkeyUserChangeContent.customNewsFeedFileName = this.getFileUploader().getValue();\n\t\t\t} else {\n\t\t\t\tthis.addKeyUserChanges({\n\t\t\t\t\tselectorControl: layout,\n\t\t\t\t\tchangeSpecificData: {\n\t\t\t\t\t\tchangeType: CHANGE_TYPES.NEWS_FEED_URL,\n\t\t\t\t\t\tcontent: {\n\t\t\t\t\t\t\toldNewsFeedUrl: String(this._getPanel().getProperty(\"url\")),\n\t\t\t\t\t\t\toldShowCustomNewsFeed: Boolean(this._getPanel().getProperty(\"showCustom\")),\n\t\t\t\t\t\t\toldCustomNewsFeedKey: String(this._getPanel().getProperty(\"customFeedKey\")),\n\t\t\t\t\t\t\tnewsFeedURL: String(this._getPanel().getProperty(\"url\")),\n\t\t\t\t\t\t\tshowCustomNewsFeed: true,\n\t\t\t\t\t\t\tcustomNewsFeedKey: customKey,\n\t\t\t\t\t\t\tcustomNewsFeedFileName: this.getFileUploader().getValue()\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tthis._eventBus.publish(\"KeyUserChanges\", \"addNewsPagesChanges\", { changes: this.getKeyUserChanges() });\n\t\t\t}\n\t\t\tMessageToast.show(String(this._i18nBundle.getText(\"customNewsFeedUploaded\")));\n\t\t\tthis.setNewsFeedEnabled(false);\n\t\t} catch (oErr) {\n\t\t\tMessageBox.error((oErr as { message: string }).message);\n\t\t\tthis.setNewsFeedEnabled(false);\n\t\t}\n\t}\n\n\tprivate getUploadedFile(): Promise<string> {\n\t\treturn new Promise<string>((resolve, reject) => {\n\t\t\tconst fileUploader = this.getFileUploader();\n\n\t\t\tif (fileUploader && !fileUploader.getValue()) {\n\t\t\t\tconst errorMsg = this._i18nBundle.getText(\"noNewsFileError\");\n\t\t\t\treject(new Error(errorMsg));\n\t\t\t}\n\n\t\t\tconst file = fileUploader.oFileUpload.files[0];\n\t\t\tconst reader = new FileReader();\n\t\t\treader.onload = function () {\n\t\t\t\tconst base64String = (reader.result as string).replace(\"data:\", \"\").replace(/^.+,/, \"\");\n\t\t\t\tresolve(base64String);\n\t\t\t};\n\t\t\treader.readAsDataURL(file);\n\t\t});\n\t}\n\n\tprivate getFileUploader(): FileUploader {\n\t\tconst customNewsUploadFileUploader = `${this.getId()}-customNewsUploadFileUploader`;\n\t\treturn this.controlMap.get(customNewsUploadFileUploader) as FileUploader;\n\t}\n\n\t/**\n\t * Add SimpleForm for Custom News Upload Form.\n\t *\n\t * @private\n\t */\n\tprivate addCustomNewsUploadSimpleForm(wrapperVBox: VBox): void {\n\t\tconst customNewsUploadSimpleFormId = `${this.getId()}-customNewsUploadSimpleForm`;\n\t\tif (!this.controlMap.get(customNewsUploadSimpleFormId)) {\n\t\t\tconst customNewsUploadSimpleForm = new SimpleForm(`${this.getId()}-customNewsUploadSimpleForm`, {\n\t\t\t\tcontent: [\n\t\t\t\t\tnew Label(`${this.getId()}-customNewsUploadLabel`, {\n\t\t\t\t\t\ttext: this._i18nBundle.getText(\"customNewsFeed\")\n\t\t\t\t\t})\n\t\t\t\t]\n\t\t\t}).addStyleClass(\"sapContrastPlus\");\n\t\t\tconst customNewsUploadVBox = new VBox(`${this.getId()}-customNewsUploadVBox`);\n\t\t\tconst customNewsUploadFileUploader = `${this.getId()}-customNewsUploadFileUploader`;\n\t\t\tconst customNewsUploadFileUploaderControl = new FileUploader(customNewsUploadFileUploader, {\n\t\t\t\tname: \"newsFeedFileUploader\",\n\t\t\t\ttooltip: this._i18nBundle.getText(\"uploadNewsFeedFile\"),\n\t\t\t\tfileType: [\"xlsx\"],\n\t\t\t\twidth: \"100%\",\n\t\t\t\tchange: this.handleFileChange.bind(this),\n\t\t\t\tmaximumFileSize: 25,\n\t\t\t\tfileSizeExceed: this.handleFileUploadError.bind(this),\n\t\t\t\tsameFilenameAllowed: true,\n\t\t\t\tafterDialogClose: this.handleFileDialogClose.bind(this),\n\t\t\t\tvalue: String(this._getPanel().getProperty(\"customFileName\")),\n\t\t\t\tenabled: this._getPanel().getProperty(\"showCustom\") as boolean\n\t\t\t});\n\t\t\tthis.controlMap.set(customNewsUploadFileUploader, customNewsUploadFileUploaderControl);\n\t\t\tconst customNewsUploadFileUploaderButtonId = `${this.getId()}-customNewsUploadFileUploaderButton`;\n\t\t\tconst customNewsUploadFileUploaderButton = new Button(customNewsUploadFileUploaderButtonId, {\n\t\t\t\ttext: this._i18nBundle.getText(\"uploadNewsFeedBtn\"),\n\t\t\t\tpress: this.handleNewsFeedFileUpload.bind(this),\n\t\t\t\ttype: \"Emphasized\",\n\t\t\t\tenabled: false\n\t\t\t});\n\t\t\tthis.controlMap.set(customNewsUploadFileUploaderButtonId, customNewsUploadFileUploaderButton);\n\t\t\tcustomNewsUploadVBox.addItem(customNewsUploadFileUploaderControl);\n\t\t\tcustomNewsUploadVBox.addItem(customNewsUploadFileUploaderButton);\n\t\t\tcustomNewsUploadSimpleForm.addContent(customNewsUploadVBox);\n\t\t\tthis.controlMap.set(customNewsUploadSimpleFormId, customNewsUploadSimpleForm);\n\t\t}\n\t\twrapperVBox.addItem(this.controlMap.get(customNewsUploadSimpleFormId) as SimpleForm);\n\t}\n\n\t/**\n\t * Load settings for the panel.\n\t *\n\t * @private\n\t */\n\tprivate loadSettings(): void {\n\t\tconst wrapperVBoxId = `${this.getId()}-wrapperVBox`;\n\t\tconst wrapperVBox = this.controlMap.get(wrapperVBoxId) as VBox;\n\t\twrapperVBox.removeAllItems();\n\t\tthis.addMessageStrip(wrapperVBox);\n\t\tthis.addCustomNewsFeedCheckBox(wrapperVBox);\n\t\tthis.addNewsURLSimpleForm(wrapperVBox);\n\t\tthis.addCustomNewsUploadSimpleForm(wrapperVBox);\n\t}\n}\n"],"mappings":"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","ignoreList":[],"sourceRoot":""}},{"offset":{"line":192,"column":0},"map":{"version":3,"file":"KeyUserPagesSettingsPanel.js","names":["sap","ui","define","Button","ColorPalette","Dialog","FlexBox","FlexItemData","HBox","Label","List","ScrollContainer","SearchField","StandardListItem","Switch","Text","Title","VBox","EventBus","Icon","Parameters","Filter","FilterOperator","JSONModel","Column","TreeTable","__BaseSettingsPanel","___flexibility_Layoutflexibility","___utils_Constants","___utils_IconList","__PageManager","__PersonalisationUtils","_interopRequireDefault","obj","__esModule","default","BaseSettingsPanel","CHANGE_TYPES","DEFAULT_BG_COLOR","END_USER_COLORS","FALLBACK_ICON","KEYUSER_SETTINGS_PANELS_KEYS","ICONS","PageManager","PersonalisationUtils","KeyUserPagesSettingsPanel","extend","constructor","prototype","apply","this","arguments","keyuserSpaceColorChanges","keyuserPageColorChanges","keyuserSpaceIconChanges","keyuserPageIconChanges","metadata","library","init","_init","BaseSettingsPanel.prototype.init.call","controlMap","Map","controlModel","spaces","selectedSpacePage","iconList","setProperty","PAGES","_i18nBundle","getText","_eventBus","getInstance","addAggregation","getContent","attachPanelNavigated","loadSettings","_getContent","dialogId","getId","get","oDialog","title","contentWidth","contentHeight","verticalScrolling","endButton","text","press","_handleDialogClose","bind","type","addStyleClass","set","addDialogContent","_loadSettings","pageManagerInstance","getPersContainerId","_getPanel","getOwnerComponent","prepareSpacesPagesData","prepareIconList","_addDialogContent","dialog","wrapperFlexBox","alignItems","justifyContent","height","width","direction","setModel","addItem","getSpacePagesListItems","getDetailsView","addContent","_getSpacePagesListItems","flexBox","titleStyle","treeTableWrapper","treeTableId","treeTable","selectionMode","selectionBehavior","rows","id","groupHeaderProperty","columnHeaderVisible","rowMode","rowSelectionChange","handleTreeTableRowSelection","layoutData","growFactor","columns","template","items","tooltip","src","backgroundColor","size","color","_getDetailsView","visible","getColorPalette","getIconList","_getColorPalette","wrapperVBox","label","wrapping","colorPaletteVBox","colorPaletteLabel","design","colorPalette","colors","map","value","colorSelect","_handleColorSelect","switchWrapperHBox","switchText","switchHBox","switchId","switchControl","state","change","_handleSwitchChange","enabled","customTextOn","customTextOff","_getIconList","searchFieldId","searchField","liveChange","handleIconSearch","iconListScrollContainer","vertical","horizontal","iconListId","path","icon","event","_handleIconSelect","getSource","iconDensityAware","iconInset","_prepareSpacesPagesData","_this","Promise","resolve","fetchAllAvailableSpaces","then","aSpaces","Array","isArray","forEach","oSpace","BGColor","refreshColor","isSpacePersonalization","persistedApplyColorToAllPages","applyColorToAllPages","children","oPage","oldColor","isPagePersonalization","spaceId","personalizationState","iconPersonalizationState","isPageIconPersonalization","selectedIndices","getSelectedIndices","includes","setSelectedIndex","e","reject","_refreshColor","oColorObject","newObject","name","key","_handleTreeTableRowSelection","oEvent","bindingContext","getParameter","selectedObject","getObject","prevSelectedObject","getProperty","spaceObject","undefined","controlsDisabled","getBlocked","contextPath","getPath","spaceContextPath","replace","setBlocked","selectedContext","_prepareIconList","length","aIcons","Object","keys","oIconCategory","icons","oIcon","push","tags","concat","toString","categoryId","_handleIconSearch","sQuery","getValue","aFilters","Contains","oList","oBinding","getBinding","filter","selectedColor","isSpaceColorChanged","legendColor","_convertColorToLegend","oldLegendColor","oExistingChange","find","changes","oldApplyColorToAllPages","_applyInnerPageColoring","pageObject","pageId","isSpaceColorChangedBefore","existingSpacePersData","listItem","sIcon","getIcon","isSpaceIconChanged","oldIcon","filteredPages","_getInnerPages","page","bindingPath","isSpaceIconChangedBefore","isSpaceIconPersonalization","oLegendColor","endUserColor","switchValue","colorKey","colorValue","sColorKey","sColorValue","bApplyColorToAllPages","innerPages","oChange","index","_mergeKeyUserChanges","pagePanel","wrapperContainer","getParent","layout","selectorControl","changeSpecificData","changeType","SPACE_COLOR","content","addKeyUserChanges","PAGE_COLOR","SPACE_ICON","PAGE_ICON","publish","getKeyUserChanges","close"],"sources":["KeyUserPagesSettingsPanel.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\n\nimport Button from \"sap/m/Button\";\nimport ColorPalette, { ColorPalette$ColorSelectEvent } from \"sap/m/ColorPalette\";\nimport Dialog from \"sap/m/Dialog\";\nimport FlexBox from \"sap/m/FlexBox\";\nimport FlexItemData from \"sap/m/FlexItemData\";\nimport HBox from \"sap/m/HBox\";\nimport Label from \"sap/m/Label\";\nimport List from \"sap/m/List\";\nimport ScrollContainer from \"sap/m/ScrollContainer\";\nimport SearchField, { SearchField$LiveChangeEvent } from \"sap/m/SearchField\";\nimport StandardListItem from \"sap/m/StandardListItem\";\nimport Switch, { Switch$ChangeEvent } from \"sap/m/Switch\";\nimport Text from \"sap/m/Text\";\nimport Title from \"sap/m/Title\";\nimport VBox from \"sap/m/VBox\";\nimport Component from \"sap/ui/core/Component\";\nimport Control from \"sap/ui/core/Control\";\nimport type { MetadataOptions } from \"sap/ui/core/Element\";\nimport EventBus from \"sap/ui/core/EventBus\";\nimport Icon from \"sap/ui/core/Icon\";\nimport Parameters, { Value } from \"sap/ui/core/theming/Parameters\";\nimport Context from \"sap/ui/model/Context\";\nimport Filter from \"sap/ui/model/Filter\";\nimport FilterOperator from \"sap/ui/model/FilterOperator\";\nimport JSONListBinding from \"sap/ui/model/json/JSONListBinding\";\nimport JSONModel from \"sap/ui/model/json/JSONModel\";\nimport Column from \"sap/ui/table/Column\";\nimport { Table$RowSelectionChangeEvent } from \"sap/ui/table/Table\";\nimport TreeTable from \"sap/ui/table/TreeTable\";\nimport BaseLayout from \"./BaseLayout\";\nimport BaseSettingsPanel from \"./BaseSettingsPanel\";\nimport { CHANGE_TYPES } from \"./flexibility/Layout.flexibility\";\nimport { IKeyUserChange, ISpacePagePersonalization } from \"./interface/KeyUserInterface\";\nimport { IColor, IPage, ISpace } from \"./interface/PageSpaceInterface\";\nimport NewsAndPagesContainer from \"./NewsAndPagesContainer\";\nimport PagePanel from \"./PagePanel\";\nimport { DEFAULT_BG_COLOR, END_USER_COLORS, FALLBACK_ICON, KEYUSER_SETTINGS_PANELS_KEYS } from \"./utils/Constants\";\nimport { ICONS } from \"./utils/IconList\";\nimport PageManager from \"./utils/PageManager\";\nimport PersonalisationUtils from \"./utils/PersonalisationUtils\";\n\n/**\n *\n * Class for Pages Settings Panel for KeyUser Settings Dialog.\n *\n * @extends BaseSettingsPanel\n *\n * @author SAP SE\n * @version 0.0.1\n * @since 1.121\n *\n * @internal\n * @experimental Since 1.121\n * @private\n *\n * @alias sap.cux.home.KeyUserPagesSettingsPanel\n */\nexport default class KeyUserPagesSettingsPanel extends BaseSettingsPanel {\n\tstatic readonly metadata: MetadataOptions = {\n\t\tlibrary: \"sap.cux.home\"\n\t};\n\n\tprivate controlMap!: Map<string, Control | Element>;\n\tprivate controlModel!: JSONModel;\n\tprivate pageManagerInstance!: PageManager;\n\tprivate selectedContext!: Context;\n\tprivate _eventBus!: EventBus;\n\tprivate keyuserSpaceColorChanges: Array<ISpacePagePersonalization> = [];\n\tprivate keyuserPageColorChanges: Array<ISpacePagePersonalization> = [];\n\tprivate keyuserSpaceIconChanges: Array<ISpacePagePersonalization> = [];\n\tprivate keyuserPageIconChanges: Array<ISpacePagePersonalization> = [];\n\n\t/**\n\t * Init lifecycle method\n\t *\n\t * @public\n\t * @override\n\t */\n\tpublic init(): void {\n\t\tsuper.init();\n\t\tthis.controlMap = new Map();\n\t\tthis.controlModel = new JSONModel({\n\t\t\tspaces: [],\n\t\t\tselectedSpacePage: {},\n\t\t\ticonList: []\n\t\t});\n\n\t\t// setup panel\n\t\tthis.setProperty(\"key\", KEYUSER_SETTINGS_PANELS_KEYS.PAGES);\n\t\tthis.setProperty(\"title\", this._i18nBundle.getText(\"editPages\"));\n\n\t\t// Setup Event Bus\n\t\tthis._eventBus = EventBus.getInstance();\n\n\t\t// setup layout content\n\t\tthis.addAggregation(\"content\", this.getContent());\n\n\t\t// fired every time on panel navigation\n\t\tthis.attachPanelNavigated(() => this.loadSettings());\n\t}\n\n\t/**\n\t * Returns the content for the KeyUser Pages Settings Panel.\n\t *\n\t * @private\n\t * @returns {VBox} The control containing the KeyUser Pages Settings Panel content.\n\t */\n\tprivate getContent(): Dialog {\n\t\tconst dialogId = `${this.getId()}-keyUserPagesSettingsDialog`;\n\t\tif (!this.controlMap.get(dialogId)) {\n\t\t\tconst oDialog = new Dialog(dialogId, {\n\t\t\t\ttitle: this._i18nBundle.getText(\"editPages\"),\n\t\t\t\tcontentWidth: \"47rem\",\n\t\t\t\tcontentHeight: \"90%\",\n\t\t\t\tverticalScrolling: false,\n\t\t\t\tendButton: new Button(`${this.getId()}-keyUserPagesSettingsCloseButton`, {\n\t\t\t\t\ttext: this._i18nBundle.getText(\"Close\"),\n\t\t\t\t\tpress: this._handleDialogClose.bind(this),\n\t\t\t\t\ttype: \"Transparent\"\n\t\t\t\t})\n\t\t\t}).addStyleClass(\"sapContrastPlus\");\n\t\t\tthis.controlMap.set(dialogId, oDialog);\n\n\t\t\tthis.addDialogContent();\n\t\t}\n\t\treturn this.controlMap.get(dialogId) as Dialog;\n\t}\n\n\t/**\n\t * Load settings for the panel.\n\t *\n\t * @private\n\t */\n\tprivate loadSettings(): void {\n\t\tif (!this.pageManagerInstance) {\n\t\t\tthis.pageManagerInstance = PageManager.getInstance(\n\t\t\t\tPersonalisationUtils.getPersContainerId(this._getPanel()),\n\t\t\t\tPersonalisationUtils.getOwnerComponent(this._getPanel()) as Component\n\t\t\t);\n\t\t}\n\t\t// setup layout content\n\t\tvoid this.prepareSpacesPagesData();\n\t\tthis.prepareIconList();\n\t}\n\n\t/**\n\t * Add Dialog Content.\n\t *\n\t * @private\n\t */\n\tprivate addDialogContent(): void {\n\t\tconst dialog = this.controlMap.get(`${this.getId()}-keyUserPagesSettingsDialog`) as Dialog;\n\t\tconst wrapperFlexBox = new FlexBox(`${this.getId()}-wrapperFlexBox`, {\n\t\t\talignItems: \"Start\",\n\t\t\tjustifyContent: \"Start\",\n\t\t\theight: \"100%\",\n\t\t\twidth: \"100%\",\n\t\t\tdirection: \"Row\"\n\t\t});\n\t\twrapperFlexBox.setModel(this.controlModel);\n\t\twrapperFlexBox.addItem(this.getSpacePagesListItems());\n\t\twrapperFlexBox.addItem(this.getDetailsView());\n\t\tdialog.addContent(wrapperFlexBox);\n\t}\n\n\t/**\n\t * Get Space Pages List Items.\n\t *\n\t * @private\n\t * @returns {FlexBox} The control containing the Space Pages List Items.\n\t */\n\tprivate getSpacePagesListItems(): FlexBox {\n\t\tconst flexBox = new FlexBox(`${this.getId()}-spacePagesFlexBox`, {\n\t\t\tdirection: \"Column\",\n\t\t\talignItems: \"Start\",\n\t\t\theight: \"100%\",\n\t\t\twidth: \"24rem\",\n\t\t\tjustifyContent: \"Start\"\n\t\t}).addStyleClass(\"spacePagesFlexBox\");\n\n\t\tconst title = new Title(`${this.getId()}-spacePagesTitle`, {\n\t\t\ttext: this._i18nBundle.getText(\"pageGroupHeader\"),\n\t\t\ttitleStyle: \"H4\"\n\t\t}).addStyleClass(\"sapUiSmallMarginBottom\");\n\t\tflexBox.addItem(title);\n\n\t\tconst treeTableWrapper = new VBox(`${this.getId()}-treeTableWrapper`, {\n\t\t\theight: \"100%\"\n\t\t});\n\n\t\tconst treeTableId = `${this.getId()}-spacePagesTreeTable`;\n\t\tconst treeTable = new TreeTable(treeTableId, {\n\t\t\tselectionMode: \"Single\",\n\t\t\tselectionBehavior: \"RowOnly\",\n\t\t\trows: \"{path:'/spaces', parameters: {arrayNames:['children'], numberOfExpandedLevels: 1}}\",\n\t\t\tid: \"idEditIntrestTreeTable\",\n\t\t\tgroupHeaderProperty: \"label\",\n\t\t\tcolumnHeaderVisible: false,\n\t\t\trowMode: \"Auto\",\n\t\t\trowSelectionChange: this.handleTreeTableRowSelection.bind(this),\n\t\t\twidth: \"22rem\",\n\t\t\tlayoutData: new FlexItemData({\n\t\t\t\tgrowFactor: 1\n\t\t\t}),\n\t\t\tcolumns: [\n\t\t\t\tnew Column({\n\t\t\t\t\ttemplate: new HBox({\n\t\t\t\t\t\talignItems: \"Center\",\n\t\t\t\t\t\tjustifyContent: \"SpaceBetween\",\n\t\t\t\t\t\twidth: \"100%\",\n\t\t\t\t\t\titems: [\n\t\t\t\t\t\t\tnew Text({\n\t\t\t\t\t\t\t\ttext: \"{label}\"\n\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\tnew HBox({\n\t\t\t\t\t\t\t\talignItems: \"Center\",\n\t\t\t\t\t\t\t\titems: [\n\t\t\t\t\t\t\t\t\tnew Icon({\n\t\t\t\t\t\t\t\t\t\ttooltip: \"{label}\",\n\t\t\t\t\t\t\t\t\t\tsrc: \"{icon}\",\n\t\t\t\t\t\t\t\t\t\tbackgroundColor: \"{BGColor/value}\",\n\t\t\t\t\t\t\t\t\t\twidth: \"2.5rem\",\n\t\t\t\t\t\t\t\t\t\theight: \"2.5rem\",\n\t\t\t\t\t\t\t\t\t\tsize: \"1.5rem\",\n\t\t\t\t\t\t\t\t\t\tcolor: \"white\"\n\t\t\t\t\t\t\t\t\t}).addStyleClass(\"sapUiTinyMargin\")\n\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t]\n\t\t\t\t\t})\n\t\t\t\t})\n\t\t\t]\n\t\t}).addStyleClass(\"spacePageTable\");\n\t\tthis.controlMap.set(treeTableId, treeTable);\n\t\ttreeTableWrapper.addItem(treeTable);\n\n\t\tflexBox.addItem(treeTableWrapper);\n\t\treturn flexBox;\n\t}\n\n\t/**\n\t * Get details view for the selected space or page.\n\t *\n\t * @private\n\t * @returns {FlexBox} The control containing the Details.\n\t */\n\tprivate getDetailsView(): FlexBox {\n\t\t// Create Wrapper FlexBox\n\t\tconst flexBox = new FlexBox(`${this.getId()}-personalisationDetailsWrapperFlex`, {\n\t\t\theight: \"100%\",\n\t\t\twidth: \"23rem\",\n\t\t\tdirection: \"Column\",\n\t\t\tvisible: \"{= ${/spaces/length} === 0 ? false : true}\"\n\t\t}).addStyleClass(\"personalisationDetailsWrapperFlex\");\n\n\t\t// Create Color Palette and add to wrapper FlexBox\n\t\tflexBox.addItem(this.getColorPalette());\n\n\t\t// Create Icon List and add to wrapper FlexBox\n\t\tflexBox.addItem(this.getIconList());\n\t\treturn flexBox;\n\t}\n\n\t/**\n\t * Get Color Palette.\n\t *\n\t * @private\n\t * @returns {VBox} The control containing the Color Palette.\n\t */\n\tprivate getColorPalette(): VBox {\n\t\tconst wrapperVBox = new VBox(`${this.getId()}-colorPaletteWrapperVBox`, {\n\t\t\twidth: \"100%\"\n\t\t}).addStyleClass(\"sapUiSmallMarginBottom\");\n\n\t\t// Create Title and add to wrapper VBox\n\t\tconst title = new Title(`${this.getId()}-colorPaletteTitle`, {\n\t\t\ttext: \"{/selectedSpacePage/label}\",\n\t\t\ttitleStyle: \"H4\"\n\t\t});\n\t\twrapperVBox.addItem(title);\n\n\t\t// Create Label and add to wrapper VBox\n\t\tconst label = new Label(`${this.getId()}-colorPaletteSpacePageLabel`, {\n\t\t\twrapping: true,\n\t\t\ttext:\n\t\t\t\t\"{= ${/selectedSpacePage/type} === 'Space' ? '\" +\n\t\t\t\tthis._i18nBundle.getText(\"space\") +\n\t\t\t\t\"' : '\" +\n\t\t\t\tthis._i18nBundle.getText(\"page\") +\n\t\t\t\t\"' }\"\n\t\t}).addStyleClass(\"personalisationDetailsLabel\");\n\t\twrapperVBox.addItem(label);\n\n\t\t// Create Color Palette VBox and add to wrapper VBox\n\t\tconst colorPaletteVBox = new VBox(`${this.getId()}-colorPaletteVBox`, {\n\t\t\twidth: \"100%\"\n\t\t}).addStyleClass(\"sapUiMargin-26Top\");\n\t\twrapperVBox.addItem(colorPaletteVBox);\n\n\t\t// Create Color Palette Label and add to Color Palette VBox\n\t\tconst colorPaletteLabel = new Label(`${this.getId()}-colorPaletteLabel`, {\n\t\t\twrapping: true,\n\t\t\tdesign: \"Bold\",\n\t\t\ttext: this._i18nBundle.getText(\"selectColor\")\n\t\t}).addStyleClass(\"personalisationDetailsLabel\");\n\t\tcolorPaletteVBox.addItem(colorPaletteLabel);\n\n\t\t// Create Color Palette and add to Color Palette VBox\n\t\tconst colorPalette = new ColorPalette(`${this.getId()}-colorPalette`, {\n\t\t\tcolors: END_USER_COLORS().map((color) => color.value as string),\n\t\t\tcolorSelect: this._handleColorSelect.bind(this)\n\t\t}).addStyleClass(\"sapContrastPlus sapUiTinyMarginBottom\");\n\t\tthis.controlMap.set(`${this.getId()}-colorPalette`, colorPalette);\n\t\tcolorPaletteVBox.addItem(colorPalette);\n\n\t\t// Create Switch Wrapper HBox and add to wrapper VBox\n\t\tconst switchWrapperHBox = new HBox(`${this.getId()}-switchWrapperHBox`, {\n\t\t\talignItems: \"Center\",\n\t\t\tjustifyContent: \"SpaceBetween\",\n\t\t\theight: \"2rem\",\n\t\t\twidth: \"100%\"\n\t\t});\n\t\twrapperVBox.addItem(switchWrapperHBox);\n\n\t\t// Create Text and add to Switch Wrapper HBox\n\t\tconst switchText = new Text(`${this.getId()}-switchText`, {\n\t\t\ttext: this._i18nBundle.getText(\"editPagesColorMessage\")\n\t\t});\n\t\tswitchWrapperHBox.addItem(switchText);\n\n\t\t// Create Switch HBox and add to Switch Wrapper HBox\n\t\tconst switchHBox = new HBox(`${this.getId()}-switchHBox`, {\n\t\t\talignItems: \"Center\"\n\t\t});\n\t\tswitchWrapperHBox.addItem(switchHBox);\n\n\t\t// Create Switch and add to Switch HBox\n\t\tconst switchId = `${this.getId()}-Switch`;\n\t\tconst switchControl = new Switch(switchId, {\n\t\t\tstate: \"{ path: '/selectedSpacePage/applyColorToAllPages', mode: 'TwoWay' }\",\n\t\t\tchange: this._handleSwitchChange.bind(this),\n\t\t\tenabled: \"{= ${/selectedSpacePage/spaceId} ? false : true }\",\n\t\t\tcustomTextOn: \" \",\n\t\t\tcustomTextOff: \" \"\n\t\t});\n\t\tthis.controlMap.set(switchId, switchControl);\n\t\tswitchHBox.addItem(switchControl);\n\n\t\treturn wrapperVBox;\n\t}\n\n\t/**\n\t * Get Icon List.\n\t *\n\t * @private\n\t * @returns {VBox} The control containing the Icon List.\n\t */\n\tprivate getIconList(): VBox {\n\t\tconst wrapperVBox = new VBox(`${this.getId()}-iconListWrapperVBox`, {\n\t\t\twidth: \"100%\",\n\t\t\theight: \"calc(100% - 15rem)\"\n\t\t});\n\n\t\t// Create Label and add to wrapper VBox\n\t\tconst label = new Label(`${this.getId()}-iconListLabel`, {\n\t\t\twrapping: true,\n\t\t\tdesign: \"Bold\",\n\t\t\ttext: this._i18nBundle.getText(\"icon\")\n\t\t}).addStyleClass(\"personalisationDetailsLabel\");\n\t\twrapperVBox.addItem(label);\n\n\t\t// Create SearchField and add to wrapper VBox\n\t\tconst searchFieldId = `${this.getId()}-iconListSearchField`;\n\t\tconst searchField = new SearchField(searchFieldId, {\n\t\t\twidth: \"100%\",\n\t\t\tliveChange: this.handleIconSearch.bind(this)\n\t\t});\n\t\tthis.controlMap.set(searchFieldId, searchField);\n\t\twrapperVBox.addItem(searchField);\n\n\t\t// Create Scroll Container For List of Icons and add to wrapper VBox\n\t\tconst iconListScrollContainer = new ScrollContainer(`${this.getId()}-iconListScrollContainer`, {\n\t\t\tvertical: true,\n\t\t\thorizontal: false,\n\t\t\theight: \"95%\"\n\t\t});\n\t\twrapperVBox.addItem(iconListScrollContainer);\n\n\t\t// Create List of Icons and add to Scroll Container\n\t\tconst iconListId = `${this.getId()}-iconList`;\n\t\tconst iconList = new List(iconListId, {\n\t\t\titems: {\n\t\t\t\tpath: \"/iconList\",\n\t\t\t\ttemplate: new StandardListItem(`${this.getId()}-iconStandardListItem`, {\n\t\t\t\t\ttitle: \"{title}\",\n\t\t\t\t\ticon: \"{icon}\",\n\t\t\t\t\ttype: \"Active\",\n\t\t\t\t\tpress: (event) => this._handleIconSelect(event.getSource()),\n\t\t\t\t\ticonDensityAware: false,\n\t\t\t\t\ticonInset: false\n\t\t\t\t})\n\t\t\t}\n\t\t});\n\t\tthis.controlMap.set(iconListId, iconList);\n\t\ticonListScrollContainer.addContent(iconList);\n\n\t\treturn wrapperVBox;\n\t}\n\n\t/**\n\t * Prepare spaces and pages data.\n\t *\n\t * @private\n\t */\n\tprivate async prepareSpacesPagesData(): Promise<void> {\n\t\tconst aSpaces = await this.pageManagerInstance.fetchAllAvailableSpaces();\n\t\tif (!Array.isArray(aSpaces)) {\n\t\t\treturn;\n\t\t}\n\t\t//Prepare Spaces and Pages Data\n\t\taSpaces.forEach((oSpace) => {\n\t\t\toSpace.BGColor = oSpace.BGColor ? this.refreshColor(oSpace.BGColor) : DEFAULT_BG_COLOR();\n\t\t\toSpace.isSpacePersonalization = oSpace.BGColor || oSpace.icon ? true : false;\n\t\t\toSpace.icon = oSpace.icon || FALLBACK_ICON;\n\t\t\toSpace.persistedApplyColorToAllPages = oSpace.applyColorToAllPages;\n\t\t\toSpace.children.forEach((oPage) => {\n\t\t\t\tif (oSpace.applyColorToAllPages) {\n\t\t\t\t\toPage.BGColor = this.refreshColor(oSpace.BGColor as IColor) as IColor;\n\t\t\t\t\toPage.oldColor = oPage.isPagePersonalization\n\t\t\t\t\t\t? this.refreshColor(oPage.oldColor as { key: string; value: Value; assigned: boolean })\n\t\t\t\t\t\t: DEFAULT_BG_COLOR();\n\t\t\t\t} else {\n\t\t\t\t\toPage.BGColor = oPage.BGColor ? (this.refreshColor(oPage.BGColor as IColor) as IColor) : DEFAULT_BG_COLOR();\n\t\t\t\t}\n\t\t\t\toPage.spaceId = oSpace.id;\n\t\t\t\toPage.personalizationState = oPage.isPagePersonalization;\n\t\t\t\toPage.iconPersonalizationState = oPage.isPageIconPersonalization;\n\t\t\t\toPage.icon = oPage.icon || oSpace.icon || FALLBACK_ICON;\n\t\t\t});\n\t\t});\n\n\t\tthis.controlModel.setProperty(\"/spaces\", aSpaces);\n\t\t// Select the first item in list selected by default\n\t\tconst treeTable = this.controlMap.get(`${this.getId()}-spacePagesTreeTable`) as TreeTable;\n\t\tconst selectedIndices = treeTable.getSelectedIndices();\n\t\tif (!selectedIndices.includes(0)) {\n\t\t\ttreeTable.setSelectedIndex(0);\n\t\t}\n\t}\n\n\t/**\n\t * Refresh color.\n\t *\n\t * @param {string} sColor The color to refresh.\n\t * @returns {string} The refreshed color.\n\t */\n\tprivate refreshColor(oColorObject: IColor): {\n\t\tkey: string;\n\t\tvalue: Value;\n\t\tassigned: boolean;\n\t} {\n\t\t// Refresh color object with new color value in case of theme switching.\n\t\tconst newObject = { ...oColorObject } as IColor;\n\t\tnewObject.value = Parameters.get({ name: oColorObject.key }) as string;\n\t\treturn newObject;\n\t}\n\n\t/**\n\t * Handle Tree Table Row Selection.\n\t *\n\t * @param {Event} oEvent The event object.\n\t * @private\n\t */\n\tprivate handleTreeTableRowSelection(oEvent: Table$RowSelectionChangeEvent): void {\n\t\tinterface IControlWithBlockedProperty {\n\t\t\tgetBlocked: () => boolean;\n\t\t\tsetBlocked: (val: boolean) => void;\n\t\t}\n\t\tconst bindingContext = oEvent.getParameter(\"rowContext\") as Context;\n\t\tconst selectedObject = bindingContext?.getObject() as ISpace | IPage;\n\n\t\tconst prevSelectedObject = this.controlModel.getProperty(\"/selectedSpacePage\") as ISpace | IPage;\n\t\tconst colorPalette = this.controlMap.get(`${this.getId()}-colorPalette`) as unknown as IControlWithBlockedProperty; // setBlocked is not available in ColorPalette\n\t\tconst searchField = this.controlMap.get(`${this.getId()}-iconListSearchField`) as unknown as IControlWithBlockedProperty; // setBlocked is not available in SearchField\n\t\tconst iconList = this.controlMap.get(`${this.getId()}-iconList`) as unknown as IControlWithBlockedProperty; // setBlocked is not available in List\n\t\tconst switchControl = this.controlMap.get(`${this.getId()}-Switch`) as unknown as IControlWithBlockedProperty; // setBlocked is not available in Switch\n\t\tlet spaceObject = undefined;\n\t\tlet controlsDisabled: boolean = colorPalette.getBlocked();\n\n\t\tif (selectedObject.type === \"Page\") {\n\t\t\tconst contextPath = bindingContext.getPath();\n\t\t\tconst spaceContextPath = contextPath.replace(/\\/children\\/\\d*/, \"\");\n\t\t\tspaceObject = this.controlModel.getProperty(spaceContextPath) as ISpace;\n\t\t}\n\n\t\tcontrolsDisabled =\n\t\t\tprevSelectedObject?.type === selectedObject.type && prevSelectedObject?.id === selectedObject.id ? !controlsDisabled : false;\n\t\tcolorPalette.setBlocked(controlsDisabled ? true : (spaceObject?.applyColorToAllPages as boolean));\n\t\tsearchField.setBlocked(controlsDisabled);\n\t\ticonList.setBlocked(controlsDisabled);\n\t\tswitchControl.setBlocked(controlsDisabled);\n\n\t\tthis.controlModel.setProperty(\"/selectedSpacePage\", selectedObject);\n\t\tthis.selectedContext = bindingContext;\n\t}\n\n\t/**\n\t * Prepare icon list.\n\t *\n\t * @private\n\t */\n\tprivate prepareIconList(): void {\n\t\tinterface IiconList {\n\t\t\ttitle: string;\n\t\t\ticon: string;\n\t\t\ttags: string;\n\t\t\tcategoryId: string;\n\t\t}\n\t\tconst iconList = this.controlModel.getProperty(\"/iconList\") as IiconList[];\n\t\tif (!iconList.length) {\n\t\t\tlet icon: string;\n\t\t\tconst aIcons: IiconList[] = [];\n\t\t\tObject.keys(ICONS).forEach((oIconCategory) => {\n\t\t\t\tObject.keys(ICONS[oIconCategory].icons).forEach(function (oIcon) {\n\t\t\t\t\tswitch (oIconCategory) {\n\t\t\t\t\t\tcase \"SAP-icons\":\n\t\t\t\t\t\t\ticon = \"sap-icon://\" + oIcon;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase \"SAP-icons-TNT\":\n\t\t\t\t\t\t\ticon = \"sap-icon://\" + oIconCategory + \"/\" + oIcon;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase \"BusinessSuiteInAppSymbols\":\n\t\t\t\t\t\t\ticon = \"sap-icon://\" + oIconCategory + \"/icon-\" + oIcon;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\taIcons.push({\n\t\t\t\t\t\ttitle: oIcon,\n\t\t\t\t\t\ticon: icon,\n\t\t\t\t\t\ttags: ICONS[oIconCategory].icons[oIcon].concat([oIcon]).toString(),\n\t\t\t\t\t\tcategoryId: oIconCategory\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t});\n\t\t\tthis.controlModel.setProperty(\"/iconList\", aIcons);\n\t\t}\n\t}\n\n\t/**\n\t * Handle Icon Search.\n\t *\n\t * @param {Event} oEvent The event object.\n\t * @private\n\t */\n\tprivate handleIconSearch(oEvent: SearchField$LiveChangeEvent): void {\n\t\tconst sQuery = oEvent.getSource().getValue();\n\t\tconst aFilters = [];\n\t\tif (sQuery && sQuery.length > 0) {\n\t\t\taFilters.push(new Filter(\"tags\", FilterOperator.Contains, sQuery));\n\t\t}\n\t\tconst oList = this.controlMap.get(`${this.getId()}-iconList`) as List;\n\t\tconst oBinding = oList.getBinding(\"items\") as JSONListBinding;\n\t\toBinding?.filter(aFilters);\n\t}\n\n\t/**\n\t * Handle Color Select.\n\t *\n\t * @param {Event} oEvent The event object.\n\t * @private\n\t */\n\tprivate _handleColorSelect(oEvent: ColorPalette$ColorSelectEvent | null, color?: string): void {\n\t\tconst selectedColor = (oEvent?.getParameter(\"value\") as string) || color || \"\";\n\t\tconst selectedObject = this.selectedContext.getObject() as ISpace | IPage;\n\t\tconst isSpaceColorChanged = !(selectedObject as IPage).spaceId;\n\t\tconst legendColor = this._convertColorToLegend(selectedColor);\n\t\tconst oldLegendColor = (selectedObject?.BGColor as { key: string })?.key;\n\n\t\t// Handle color change for space\n\t\tif (isSpaceColorChanged) {\n\t\t\tconst spaceObject: ISpace = selectedObject as ISpace;\n\t\t\t//Check if existing personalization is available\n\t\t\tconst oExistingChange = this.keyuserSpaceColorChanges.find((changes) => {\n\t\t\t\treturn changes.spaceId === spaceObject.id;\n\t\t\t});\n\t\t\tif (oExistingChange) {\n\t\t\t\toExistingChange.BGColor = legendColor;\n\t\t\t\toExistingChange.applyColorToAllPages = spaceObject.applyColorToAllPages as boolean;\n\t\t\t\toExistingChange.oldApplyColorToAllPages = spaceObject.persistedApplyColorToAllPages as boolean;\n\t\t\t} else {\n\t\t\t\tthis.keyuserSpaceColorChanges.push({\n\t\t\t\t\tspaceId: spaceObject.id,\n\t\t\t\t\tBGColor: legendColor,\n\t\t\t\t\toldColor: oldLegendColor,\n\t\t\t\t\tapplyColorToAllPages: spaceObject.applyColorToAllPages,\n\t\t\t\t\toldApplyColorToAllPages: spaceObject.persistedApplyColorToAllPages\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t// Apply color to all pages\n\t\t\tif (spaceObject.applyColorToAllPages) {\n\t\t\t\tthis._applyInnerPageColoring(spaceObject, legendColor, selectedColor, true);\n\t\t\t}\n\n\t\t\t// Update View Model\n\t\t\tthis.controlModel.setProperty(\"BGColor/key\", legendColor, this.selectedContext);\n\t\t\tthis.controlModel.setProperty(\"BGColor/value\", selectedColor, this.selectedContext);\n\t\t\tthis.controlModel.setProperty(\"isSpacePersonalization\", true, this.selectedContext);\n\t\t} else {\n\t\t\t// Handle color change for page\n\t\t\tconst pageObject: IPage = selectedObject as IPage;\n\t\t\t// Check if existing personalization is available\n\t\t\tconst oExistingChange = this.keyuserPageColorChanges.find((changes) => {\n\t\t\t\treturn changes.pageId === pageObject.id;\n\t\t\t});\n\n\t\t\tconst spaceObject = (this.controlModel.getProperty(\"/spaces\") as ISpace[]).find((oSpace: ISpace) => {\n\t\t\t\treturn oSpace.id === pageObject.spaceId;\n\t\t\t});\n\t\t\tconst isSpaceColorChangedBefore = spaceObject?.isSpacePersonalization;\n\t\t\tconst existingSpacePersData = this.keyuserSpaceColorChanges.find((changes) => {\n\t\t\t\treturn changes.spaceId === spaceObject?.id;\n\t\t\t});\n\n\t\t\tif (oExistingChange) {\n\t\t\t\toExistingChange.BGColor = legendColor;\n\t\t\t} else {\n\t\t\t\tthis.keyuserPageColorChanges.push({\n\t\t\t\t\tpageId: pageObject.id,\n\t\t\t\t\tspaceId: pageObject.spaceId,\n\t\t\t\t\tBGColor: legendColor,\n\t\t\t\t\toldColor:\n\t\t\t\t\t\tisSpaceColorChangedBefore && !pageObject.isPagePersonalization\n\t\t\t\t\t\t\t? (existingSpacePersData as { oldColor: string })?.oldColor\n\t\t\t\t\t\t\t: oldLegendColor\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t// Update View Model\n\t\t\tthis.controlModel.setProperty(\"BGColor/key\", legendColor, this.selectedContext);\n\t\t\tthis.controlModel.setProperty(\"BGColor/value\", selectedColor, this.selectedContext);\n\t\t\tthis.controlModel.setProperty(\"isPagePersonalization\", true, this.selectedContext);\n\t\t}\n\t}\n\n\t/**\n\t * Handle Icon Select.\n\t *\n\t * @param {Event} oEvent The event object.\n\t * @private\n\t */\n\tprivate _handleIconSelect(listItem: StandardListItem): void {\n\t\tconst sIcon = listItem.getIcon();\n\t\tconst selectedObject = this.selectedContext.getObject() as ISpace | IPage;\n\t\tconst isSpaceIconChanged = !(selectedObject as IPage).spaceId;\n\n\t\t// Handle icon change for space\n\t\tif (isSpaceIconChanged) {\n\t\t\tconst spaceObject = selectedObject as ISpace;\n\t\t\t// Check if existing personalization is available\n\t\t\tconst oExistingChange = this.keyuserSpaceIconChanges.find((change) => change.spaceId === spaceObject.id);\n\t\t\tif (oExistingChange) {\n\t\t\t\toExistingChange.icon = sIcon;\n\t\t\t} else {\n\t\t\t\tthis.keyuserSpaceIconChanges.push({\n\t\t\t\t\tspaceId: spaceObject.id,\n\t\t\t\t\ticon: sIcon,\n\t\t\t\t\toldIcon: spaceObject.icon\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t// Apply icon to all pages if page icon is not personalized\n\t\t\tconst filteredPages = this._getInnerPages(spaceObject).filter((spaceObject) => !spaceObject.page.isPageIconPersonalization);\n\t\t\tfilteredPages.forEach((page) => {\n\t\t\t\tthis.controlModel.setProperty(page.bindingPath + \"/icon\", sIcon);\n\t\t\t});\n\n\t\t\t// Update View Model\n\t\t\tthis.controlModel.setProperty(\"icon\", sIcon, this.selectedContext);\n\t\t\tthis.controlModel.setProperty(\"isSpaceIconPersonalization\", true, this.selectedContext);\n\t\t} else {\n\t\t\t// Handle icon change for page\n\t\t\tconst pageObject = selectedObject as IPage;\n\t\t\t// Check if existing personalization is available\n\t\t\tconst oExistingChange = this.keyuserPageIconChanges.find((change) => change.pageId === pageObject.id);\n\n\t\t\tconst spaceObject = (this.controlModel.getProperty(\"/spaces\") as ISpace[]).find((oSpace: ISpace) => {\n\t\t\t\treturn oSpace.id === pageObject.spaceId;\n\t\t\t});\n\t\t\tconst isSpaceIconChangedBefore = spaceObject?.isSpaceIconPersonalization;\n\t\t\tconst existingSpacePersData = this.keyuserSpaceIconChanges.find((changes) => {\n\t\t\t\treturn changes.spaceId === spaceObject?.id;\n\t\t\t});\n\n\t\t\tif (oExistingChange) {\n\t\t\t\toExistingChange.icon = sIcon;\n\t\t\t} else {\n\t\t\t\tthis.keyuserPageIconChanges.push({\n\t\t\t\t\tpageId: pageObject.id,\n\t\t\t\t\tspaceId: pageObject.spaceId,\n\t\t\t\t\ticon: sIcon,\n\t\t\t\t\toldIcon:\n\t\t\t\t\t\tisSpaceIconChangedBefore && !pageObject.isPageIconPersonalization\n\t\t\t\t\t\t\t? existingSpacePersData?.oldIcon\n\t\t\t\t\t\t\t: selectedObject.icon\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t// Update View Model\n\t\t\tthis.controlModel.setProperty(\"icon\", sIcon, this.selectedContext);\n\t\t\tthis.controlModel.setProperty(\"isPageIconPersonalization\", true, this.selectedContext);\n\t\t}\n\t}\n\n\t/**\n\t * Convert color to legend.\n\t *\n\t * @param {string} sColor The color to convert.\n\t * @returns {string} The converted color.\n\t * @private\n\t */\n\tprivate _convertColorToLegend(color: string): string {\n\t\tlet oLegendColor = END_USER_COLORS().find(function (endUserColor) {\n\t\t\treturn endUserColor.value === color;\n\t\t});\n\t\treturn oLegendColor ? oLegendColor.key : DEFAULT_BG_COLOR().key;\n\t}\n\n\t/**\n\t * Handle Switch Change.\n\t *\n\t * @param {Event} oEvent The event object.\n\t * @private\n\t */\n\tprivate _handleSwitchChange(oEvent: Switch$ChangeEvent): void {\n\t\tconst selectedObject = this.selectedContext.getObject() as ISpace;\n\t\tconst switchValue = oEvent.getParameter(\"state\");\n\n\t\t//Check if existing personalization is available\n\t\tconst oExistingChange = this.keyuserSpaceColorChanges.find((changes) => {\n\t\t\treturn changes.spaceId === selectedObject.id;\n\t\t});\n\n\t\tif (oExistingChange) {\n\t\t\toExistingChange.applyColorToAllPages = selectedObject.applyColorToAllPages as boolean;\n\t\t} else {\n\t\t\tthis._handleColorSelect(null, selectedObject.BGColor?.value as string);\n\t\t}\n\n\t\tconst colorKey = switchValue ? (selectedObject.BGColor?.key as string) : DEFAULT_BG_COLOR().key;\n\t\tconst colorValue = switchValue ? (selectedObject.BGColor?.value as string) : DEFAULT_BG_COLOR().value;\n\n\t\t// Apply color to all pages\n\t\tthis._applyInnerPageColoring(selectedObject, colorKey, colorValue as string, switchValue as boolean);\n\t}\n\n\t/**\n\t * Apply inner page coloring.\n\t *\n\t * @param {ISpace} oSpace The space object.\n\t * @param {string} sColorKey The color key.\n\t * @param {string} sColorValue The color value.\n\t * @param {boolean} bApplyColorToAllPages The flag to apply color to all pages.\n\t * @private\n\t */\n\tprivate _applyInnerPageColoring(oSpace: ISpace, sColorKey: string, sColorValue: string, bApplyColorToAllPages: boolean): void {\n\t\tconst innerPages = this._getInnerPages(oSpace);\n\n\t\tinnerPages.forEach((oPage) => {\n\t\t\tif (!bApplyColorToAllPages && oPage.page.isPagePersonalization) {\n\t\t\t\tconst oExistingChange = this.keyuserPageColorChanges.find(function (oChange) {\n\t\t\t\t\treturn oChange.pageId === oPage.page.id;\n\t\t\t\t});\n\t\t\t\tif (oExistingChange) {\n\t\t\t\t\tconst BGColor = oExistingChange.BGColor;\n\t\t\t\t\tthis.controlModel.setProperty(oPage.bindingPath + \"/BGColor/key\", BGColor);\n\t\t\t\t\tthis.controlModel.setProperty(oPage.bindingPath + \"/BGColor/value\", Parameters.get({ name: BGColor as string }));\n\t\t\t\t} else {\n\t\t\t\t\tthis.controlModel.setProperty(oPage.bindingPath + \"/BGColor/key\", (oPage.page.oldColor as IColor)?.key);\n\t\t\t\t\tthis.controlModel.setProperty(oPage.bindingPath + \"/BGColor/value\", (oPage.page.oldColor as IColor)?.value);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis.controlModel.setProperty(oPage.bindingPath + \"/BGColor/key\", sColorKey);\n\t\t\t\tthis.controlModel.setProperty(oPage.bindingPath + \"/BGColor/value\", sColorValue);\n\t\t\t}\n\t\t});\n\t}\n\n\t/**\n\t * Get Inner Pages of Space.\n\t *\n\t * @returns {ISpace} Space.\n\t * @private\n\t */\n\n\tprivate _getInnerPages(oSpace: ISpace) {\n\t\treturn oSpace.children.map((oPage, index) => {\n\t\t\treturn {\n\t\t\t\tpage: oPage,\n\t\t\t\tbindingPath: this.selectedContext.getPath() + \"/children/\" + index\n\t\t\t};\n\t\t});\n\t}\n\n\t/**\n\t * Merge Key User Changes.\n\t *\n\t * @private\n\t */\n\tprivate _mergeKeyUserChanges(): void {\n\t\tconst pagePanel = this._getPanel() as PagePanel;\n\t\tconst wrapperContainer = pagePanel.getParent() as NewsAndPagesContainer;\n\t\tconst layout = wrapperContainer.getParent() as BaseLayout;\n\n\t\t// Add Space Color Changes to KeyUser Changes\n\t\tif (this.keyuserSpaceColorChanges.length) {\n\t\t\tconst keyuserSpaceColorChanges: IKeyUserChange = {\n\t\t\t\tselectorControl: layout,\n\t\t\t\tchangeSpecificData: {\n\t\t\t\t\tchangeType: CHANGE_TYPES.SPACE_COLOR,\n\t\t\t\t\tcontent: [...this.keyuserSpaceColorChanges]\n\t\t\t\t}\n\t\t\t};\n\t\t\tthis.addKeyUserChanges(keyuserSpaceColorChanges);\n\t\t}\n\n\t\t// Add Page Color Changes to KeyUser Changes\n\t\tif (this.keyuserPageColorChanges.length) {\n\t\t\tconst keyuserPageColorChanges: IKeyUserChange = {\n\t\t\t\tselectorControl: layout,\n\t\t\t\tchangeSpecificData: {\n\t\t\t\t\tchangeType: CHANGE_TYPES.PAGE_COLOR,\n\t\t\t\t\tcontent: [...this.keyuserPageColorChanges]\n\t\t\t\t}\n\t\t\t};\n\t\t\tthis.addKeyUserChanges(keyuserPageColorChanges);\n\t\t}\n\n\t\t// Add Space Icon Changes to KeyUser Changes\n\t\tif (this.keyuserSpaceIconChanges.length) {\n\t\t\tconst keyuserSpaceIconChanges: IKeyUserChange = {\n\t\t\t\tselectorControl: layout,\n\t\t\t\tchangeSpecificData: {\n\t\t\t\t\tchangeType: CHANGE_TYPES.SPACE_ICON,\n\t\t\t\t\tcontent: [...this.keyuserSpaceIconChanges]\n\t\t\t\t}\n\t\t\t};\n\t\t\tthis.addKeyUserChanges(keyuserSpaceIconChanges);\n\t\t}\n\n\t\t// Add Page Icon Changes to KeyUser Changes\n\t\tif (this.keyuserPageIconChanges.length) {\n\t\t\tconst keyuserPageIconChanges: IKeyUserChange = {\n\t\t\t\tselectorControl: layout,\n\t\t\t\tchangeSpecificData: {\n\t\t\t\t\tchangeType: CHANGE_TYPES.PAGE_ICON,\n\t\t\t\t\tcontent: [...this.keyuserPageIconChanges]\n\t\t\t\t}\n\t\t\t};\n\t\t\tthis.addKeyUserChanges(keyuserPageIconChanges);\n\t\t}\n\t}\n\n\t/**\n\t * Handle Dialog Close.\n\t *\n\t * @private\n\t */\n\tprivate _handleDialogClose(): void {\n\t\tthis._mergeKeyUserChanges();\n\t\t// Add All Changes to KeyUser Dialog\n\t\tthis._eventBus.publish(\"KeyUserChanges\", \"addNewsPagesChanges\", { changes: this.getKeyUserChanges() });\n\n\t\tconst dialogId = `${this.getId()}-keyUserPagesSettingsDialog`;\n\t\t(this.controlMap.get(dialogId) as Dialog).close();\n\t}\n}\n"],"mappings":"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","ignoreList":[],"sourceRoot":""}},{"offset":{"line":199,"column":0},"map":{"version":3,"file":"KeyUserSettingsDialog.js","names":["sap","ui","define","Button","NavContainer","Page","Element","EventBus","__BaseSettingsDialog","__layoutHandler","___flexibility_Layoutflexibility","_interopRequireDefault","obj","__esModule","default","_iteratorSymbol","Symbol","iterator","_settle","pact","state","value","s","_Pact","v","o","bind","then","observer","prototype","onFulfilled","onRejected","result","this","callback","e","_this","_isSettledPact","thenable","_forTo","array","body","check","i","reject","_cycle","length","BaseSettingsDialog","_forOf","target","step","next","done","return","_fixup","TypeError","values","push","layoutHandler","CHANGE_TYPES","KeyUserSettingsDialog","extend","metadata","designtime","renderer","apiVersion","init","_init","BaseSettingsDialog.prototype.init.call","controlMap","Map","detailPageMap","setContentWidth","setContentHeight","setStretch","setShowHeader","addButton","getId","text","_i18nBundle","getText","type","press","saveChanges","handleCancel","navContainerId","navContainer","set","addContent","get","_eventBus","getInstance","subscribe","channelId","eventId","data","getButtons","setEnabled","disable","onBeforeRendering","_onBeforeRendering","event","BaseSettingsDialog.prototype.onBeforeRendering.call","getNavContainer","removeAllPages","getPanels","forEach","panel","index","addPage","getPage","getPages","navigateToPage","_getPage","isMasterPage","id","page","title","getProperty","showHeader","content","getAggregation","backgroundDesign","showNavButton","navButtonPress","back","associatedPanelId","getAssociation","associatedPanel","getElementById","containerId","getParent","_navigateToPage","pageId","panelId","substring","lastIndexOf","find","includes","firePanelNavigated","to","getDetailsPage","_getDetailsPage","hasDetailsPage","_hasDetailsPage","has","_getNavContainer","_saveChanges","Promise","resolve","isValidChanges","allPanels","panelChanges","getKeyUserChanges","createAndAddChanges","clearKeyUserChanges","onSaveClearChanges","close","clearChanges","_isValidChanges","_this2","keyUserNewsPagePanel","_temp2","change","_temp","changeSpecificData","changeType","NEWS_FEED_URL","isNewsChangesValid","_keyUserNewsPagePanel","_createAndAddChanges","changes","allChanges","addChanges","_handleCancel","onCancelClearKeyUserChanges"],"sources":["KeyUserSettingsDialog.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\n\nimport { Event as JQueryEvent } from \"jquery\";\nimport Button from \"sap/m/Button\";\nimport NavContainer from \"sap/m/NavContainer\";\nimport Page from \"sap/m/Page\";\nimport { MetadataOptions } from \"sap/ui/core/Component\";\nimport Control from \"sap/ui/core/Control\";\nimport Element from \"sap/ui/core/Element\";\nimport EventBus from \"sap/ui/core/EventBus\";\nimport BaseSettingsDialog from \"./BaseSettingsDialog\";\nimport BaseSettingsPanel from \"./BaseSettingsPanel\";\nimport layoutHandler from \"./changeHandler/LayoutHandler\";\nimport { CHANGE_TYPES } from \"./flexibility/Layout.flexibility\";\nimport { IKeyUserChange } from \"./interface/KeyUserInterface\";\nimport KeyUserNewsPagesSettingsPanel from \"./KeyUserNewsPagesSettingsPanel\";\n\n/**\n *\n * Dialog class for Key User Settings.\n *\n * @extends BaseSettingsDialog\n *\n * @author SAP SE\n * @version 0.0.1\n * @since 1.121\n *\n * @internal\n * @experimental Since 1.122\n * @private\n *\n * @alias sap.cux.home.KeyUserSettingsDialog\n */\nexport default class KeyUserSettingsDialog extends BaseSettingsDialog {\n\tstatic renderer = {\n\t\tapiVersion: 2\n\t};\n\tstatic readonly metadata: MetadataOptions = {\n\t\tdesigntime: \"not-adaptable-tree\"\n\t};\n\tprivate controlMap!: Map<string, Control | Element>;\n\tprivate detailPageMap!: Map<string, Page>;\n\tprivate _eventBus!: EventBus;\n\n\t/**\n\t * Init lifecycle method\n\t *\n\t * @public\n\t * @override\n\t */\n\tpublic init(): void {\n\t\tsuper.init();\n\t\tthis.controlMap = new Map();\n\t\tthis.detailPageMap = new Map();\n\n\t\t//setup dialog\n\t\tthis.setContentWidth(\"23.636rem\");\n\t\tthis.setContentHeight(\"23.33rem\");\n\t\tthis.setStretch(false);\n\t\tthis.setShowHeader(false);\n\n\t\t//setup dialog buttons\n\t\tthis.addButton(\n\t\t\tnew Button(`${this.getId()}-dialog-save-btn`, {\n\t\t\t\ttext: this._i18nBundle.getText(\"saveButton\"),\n\t\t\t\ttype: \"Emphasized\",\n\t\t\t\tpress: this.saveChanges.bind(this)\n\t\t\t})\n\t\t);\n\t\tthis.addButton(\n\t\t\tnew Button(`${this.getId()}-dialog-close-btn`, {\n\t\t\t\ttext: this._i18nBundle.getText(\"closeSettings\"),\n\t\t\t\ttype: \"Transparent\",\n\t\t\t\tpress: this.handleCancel.bind(this)\n\t\t\t})\n\t\t);\n\n\t\t//setup dialog content\n\t\tconst navContainerId = `${this.getId()}-navContainer`;\n\t\tconst navContainer = new NavContainer(navContainerId);\n\t\tthis.controlMap.set(navContainerId, navContainer);\n\t\tthis.addContent(this.controlMap.get(navContainerId) as NavContainer);\n\t\tthis._eventBus = EventBus.getInstance();\n\t\tthis._eventBus.subscribe(\n\t\t\t\"KeyUserChanges\",\n\t\t\t\"disabledSaveBtn\",\n\t\t\t(channelId?: string, eventId?: string, data?: object) => {\n\t\t\t\t//errorstate is false when import is successful\n\t\t\t\t// const { changes  = data as {disable: boolean, date: Date};\n\t\t\t\tthis.getButtons()[0].setEnabled(!(data as unknown as { disable: boolean; date: Date })?.disable);\n\t\t\t},\n\t\t\tthis\n\t\t);\n\t}\n\n\t/**\n\t * onBeforeRendering lifecycle method.\n\t * Prepares the SettingsDialog content.\n\t *\n\t * @public\n\t * @override\n\t */\n\tpublic onBeforeRendering(event: JQueryEvent): void {\n\t\tsuper.onBeforeRendering(event);\n\t\tconst navContainer = this.getNavContainer();\n\t\tnavContainer.removeAllPages();\n\n\t\t//setup master and detail page content\n\t\tthis.getPanels().forEach((panel: BaseSettingsPanel, index: number) => {\n\t\t\tnavContainer.addPage(this.getPage(panel, !index));\n\t\t});\n\n\t\t// navigate to the first page\n\t\tif (navContainer.getPages()?.length) {\n\t\t\tthis.navigateToPage(navContainer.getPages()[0] as Page);\n\t\t}\n\t}\n\n\t/**\n\t * Returns the page content for the SettingsDialog.\n\t *\n\t * @private\n\t * @returns {Page} The page content for the SettingsDialog.\n\t */\n\tprivate getPage(panel: BaseSettingsPanel, isMasterPage: boolean): Page {\n\t\tconst id = `${this.getId()}-${panel.getId()}-page`;\n\t\tlet page = this.controlMap.get(id) as Page;\n\t\tif (!page) {\n\t\t\tconst navContainer = this.getNavContainer();\n\t\t\tpage = new Page(id, {\n\t\t\t\ttitle: panel.getProperty(\"title\") as string,\n\t\t\t\tshowHeader: true,\n\t\t\t\tcontent: panel.getAggregation(\"content\") as Control,\n\t\t\t\tbackgroundDesign: \"Transparent\",\n\t\t\t\tshowNavButton: isMasterPage ? false : true,\n\t\t\t\tnavButtonPress: () => navContainer.back()\n\t\t\t});\n\t\t\tthis.controlMap.set(id, page);\n\n\t\t\t// Set the details page map for navigation\n\t\t\tconst associatedPanelId = panel.getAssociation(\"panel\", null) as string;\n\t\t\tconst associatedPanel = Element.getElementById(associatedPanelId) as BaseSettingsPanel;\n\t\t\tconst containerId = associatedPanel?.getParent()?.getId();\n\t\t\tif (containerId) {\n\t\t\t\tthis.detailPageMap.set(containerId, page);\n\t\t\t}\n\t\t}\n\t\treturn page;\n\t}\n\n\t/**\n\t * Navigates to the selected page.\n\t *\n\t * @param {Page} page The page to navigate to.\n\t */\n\tpublic navigateToPage(page: Page | undefined): void {\n\t\tconst pageId = page?.getId();\n\t\tconst panelId = pageId?.substring(0, pageId.lastIndexOf(\"-page\"));\n\t\tconst panel = this.getPanels().find((panel: BaseSettingsPanel) => panelId?.includes(panel.getId()));\n\t\tpanel?.firePanelNavigated();\n\t\tconst navContainerId = `${this.getId()}-navContainer`;\n\t\tconst navContainer = this.controlMap.get(navContainerId) as NavContainer;\n\t\tif (page) {\n\t\t\tnavContainer.to(page);\n\t\t}\n\t}\n\n\t/**\n\t * Returns the details page for the selected panel.\n\t *\n\t * @param {BaseSettingsPanel} panel The selected panel.\n\t * @returns {Page | undefined} The details page for the selected panel.\n\t */\n\tpublic getDetailsPage(containerId: string): Page | undefined {\n\t\treturn this.detailPageMap.get(containerId);\n\t}\n\n\t/**\n\t * Checks if the selected panel has a details page.\n\t *\n\t * @param {BaseSettingsPanel} panel The selected panel.\n\t * @returns {boolean} True if the selected panel has a details page, false otherwise.\n\t */\n\tpublic hasDetailsPage(containerId: string): boolean {\n\t\treturn this.detailPageMap.has(containerId);\n\t}\n\n\t/**\n\t * Returns the NavContainer.\n\t *\n\t * @returns {NavContainer} NavContainer.\n\t */\n\tpublic getNavContainer(): NavContainer {\n\t\tconst navContainerId = `${this.getId()}-navContainer`;\n\t\treturn this.controlMap.get(navContainerId) as NavContainer;\n\t}\n\n\t/**\n\t * Save the changes.\n\t *\n\t * @private\n\t */\n\tprivate async saveChanges() {\n\t\tconst isValidChanges = await this.isValidChanges();\n\t\tif (isValidChanges) {\n\t\t\tconst allPanels = this.getPanels();\n\t\t\tallPanels.forEach((panel: BaseSettingsPanel) => {\n\t\t\t\tconst panelChanges = panel.getKeyUserChanges();\n\t\t\t\tif (panelChanges.length) {\n\t\t\t\t\tthis.createAndAddChanges(panelChanges);\n\t\t\t\t\tpanel.clearKeyUserChanges();\n\t\t\t\t}\n\t\t\t});\n\t\t\t(allPanels[1] as KeyUserNewsPagesSettingsPanel)?.onSaveClearChanges();\n\t\t\tthis.close();\n\t\t\tlayoutHandler.resolve();\n\t\t\tlayoutHandler.clearChanges();\n\t\t}\n\t}\n\n\tprivate async isValidChanges(): Promise<boolean> {\n\t\tlet isValidChanges = true;\n\t\tconst keyUserNewsPagePanel = this.getPanels()[1] as KeyUserNewsPagesSettingsPanel;\n\t\tconst panelChanges = keyUserNewsPagePanel.getKeyUserChanges();\n\t\tfor (const change of panelChanges) {\n\t\t\tif (change.changeSpecificData.changeType === CHANGE_TYPES.NEWS_FEED_URL) {\n\t\t\t\tisValidChanges = await keyUserNewsPagePanel.isNewsChangesValid();\n\t\t\t}\n\t\t}\n\t\treturn isValidChanges;\n\t}\n\n\t/**\n\t * Create and add keyuser changes to layoutHandler\n\t *\n\t * @private\n\t */\n\tprivate createAndAddChanges(changes: Array<IKeyUserChange>) {\n\t\tconst allChanges: unknown[] = [];\n\t\tchanges.forEach((change) => {\n\t\t\tallChanges.push(change);\n\t\t});\n\t\tlayoutHandler.addChanges(allChanges);\n\t}\n\n\t/**\n\t * Handle cancel event.\n\t *\n\t * @private\n\t */\n\tprivate handleCancel(): void {\n\t\tconst allPanels = this.getPanels();\n\t\tallPanels.forEach((panel: BaseSettingsPanel) => {\n\t\t\tconst panelChanges = panel.getKeyUserChanges();\n\t\t\tif (panelChanges.length) {\n\t\t\t\tpanel.clearKeyUserChanges();\n\t\t\t}\n\t\t});\n\t\tconst keyUserNewsPagePanel = this.getPanels()[1] as KeyUserNewsPagesSettingsPanel;\n\t\tkeyUserNewsPagePanel.onCancelClearKeyUserChanges();\n\t\tthis.close();\n\t}\n}\n"],"mappings":"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","ignoreList":[],"sourceRoot":""}},{"offset":{"line":206,"column":0},"map":{"version":3,"file":"Layout.js","names":["sap","ui","define","Log","S4MyHome","Container","__AdvancedSettingsPanel","__AppsContainer","__BaseLayout","__BaseLayoutRenderer","__InsightsCardsSettingsPanel","__InsightsTilesSettingsPanel","__KeyUserLayoutSettingsPanel","__KeyUserNewsPagesSettingsPanel","__KeyUserSettingsDialog","__LayoutSettingsPanel","__NewsAndPagesContainer","__NewsSettingsPanel","__NoDataContainer","__PagePanel","__PageSettingsPanel","__SettingsDialog","__ToDosContainer","___utils_Constants","__KeyUserPersonalization","__PersonalisationUtils","_interopRequireDefault","obj","__esModule","default","_iteratorSymbol","Symbol","iterator","_settle","pact","state","value","s","_Pact","v","o","bind","then","observer","prototype","onFulfilled","onRejected","result","this","callback","e","_this","_isSettledPact","thenable","_forTo","array","body","check","i","reject","_cycle","length","AdvancedSettingsPanel","_forOf","target","step","next","done","return","_fixup","TypeError","values","push","AppsContainer","_catch","recover","BaseLayout","BaseLayoutRenderer","InsightsCardsSettingsPanel","InsightsTilesSettingsPanel","KeyUserLayoutSettingsPanel","KeyUserNewsPagesSettingsPanel","KeyUserSettingsDialog","LayoutSettingsPanel","NewsAndPagesContainer","NewsSettingsPanel","NoDataContainer","PagePanel","PageSettingsPanel","SettingsDialog","ToDosContainer","SETTINGS_PANELS_KEYS","KeyUserPersonalization","PersonalisationUtils","Layout","extend","renderer","metadata","designtime","constructor","_constructor","id","settings","BaseLayout.prototype.constructor.call","_shellUserActions","_isDefaultSettingsDialog","_customNoDataContainerPresent","init","_init","BaseLayout.prototype.init.call","setProperty","_keyUserPersonalization","getOwnerComponent","_i18nBundle","_addUserActions","Promise","resolve","_temp3","getVisible","_userActionsAdded","userActions","getId","icon","text","getText","tooltip","press","openSettingsDialog","getRTAUserAction","rtaUserAction","getServiceAsync","extensionService","_temp2","toggleUserActions","event","show","getParameter","forEach","userAction","showOnHome","hideOnHome","attachRouteMatched","_temp","action","createUserAction","controlType","shellUserAction","error","warning","Error","message","_openSettingsDialog","selectedKey","arguments","undefined","context","_this2","settingsDialog","getAggregation","getPanels","_getSettingsPanels","_addPanelsToSettingsDialog","_calculateSectionsState","BaseLayout.prototype.openSettingsDialog.call","closeSettingsDialog","_closeSettingsDialog","close","onBeforeRendering","_onBeforeRendering","_this3","BaseLayout.prototype.onBeforeRendering.call","_noDataContainer","getItems","find","item","setVisible","_aOrderedSections","setTimeout","_prepareLayoutData","_setupSettingsDialog","_setupKeyUserSettingsDialog","allPanels","container","setAssociation","getContent","panel","panelEnableSettings","getProperty","enableSettings","defaultSettingsDialog","_getDefaultSettingsDialog","setSettingsDialog","settingsPanel","_getDefaultSettingsPanel","addPanel","sortedPanels","_sortPanels","removeAllPanels","insertPanel","_getLayoutSettingsPanel","_getAdvancedSettingsPanel","panelClassName","getMetadata","getName","_addSettingsPanel","panels","Object","keys","map","key","filter","Boolean","_advancedSettingsPanel","_layoutSettingsPanel","hasVisibleSection","aElements","aElementMap","element","sId","title","getTooltip","elementVisible","completeId","sContainerType","blocked","visible","_setTextValue","setNoDataContainerVisibility","_setNoDataContainerVisibility","contentVisible","insertItem","removeItem","_this4","aSettingsPanel","_isCustomNews","oSettingsPanel","resetImportModel","setSectionDetails","_setSectionDetails","_this5","elementArray","_temp7","_temp6","oElementItem","bBlocked","_temp5","_temp4","_this5$checkPagesBloc","aNewsAndPagesPanel","_aNewsAndPagesPanel$l","checkPagesBlocked","checkToDoBlocked","_checkPagesBlocked","_this6","_temp10","_pagesAvailable","_temp9","oPanel","_temp8","getUserAvailablePages","aPages","_checkToDoBlocked","toDoContainer","_toDoAccessible","keyUserSettingsDialog","defaultKeyUserSettingsDialog","keyUserLayoutSettingsPanel","keyUserNewsPagesSettingsPanel","setAggregation","getpagesAvailable","_getpagesAvailable","isToDoAccessible","_isToDoAccessible","customNewAvailable","_customNewAvailable","getSections","_getSections","setSections","_setSections","sections","resetSections","_resetSections"],"sources":["Layout.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\n\nimport { Event } from \"jquery\";\nimport Log from \"sap/base/Log\";\nimport UI5Event from \"sap/ui/base/Event\";\nimport { MetadataOptions } from \"sap/ui/core/Element\";\nimport S4MyHome from \"sap/ushell/api/S4MyHome\";\nimport Container from \"sap/ushell/Container\";\nimport Extension from \"sap/ushell/services/Extension\";\nimport Item from \"sap/ushell/services/Extension/Item\";\nimport AdvancedSettingsPanel from \"./AdvancedSettingsPanel\";\nimport AppsContainer from \"./AppsContainer\";\nimport BaseContainer from \"./BaseContainer\";\nimport BaseLayout, { $BaseLayoutSettings } from \"./BaseLayout\";\nimport BaseLayoutRenderer from \"./BaseLayoutRenderer\";\nimport BasePanel from \"./BasePanel\";\nimport BaseSettingsDialog from \"./BaseSettingsDialog\";\nimport BaseSettingsPanel from \"./BaseSettingsPanel\";\nimport InsightsCardsSettingsPanel from \"./InsightsCardsSettingsPanel\";\nimport InsightsTilesSettingsPanel from \"./InsightsTilesSettingsPanel\";\nimport KeyUserLayoutSettingsPanel from \"./KeyUserLayoutSettingsPanel\";\nimport KeyUserNewsPagesSettingsPanel from \"./KeyUserNewsPagesSettingsPanel\";\nimport KeyUserSettingsDialog from \"./KeyUserSettingsDialog\";\nimport LayoutSettingsPanel from \"./LayoutSettingsPanel\";\nimport NewsAndPagesContainer from \"./NewsAndPagesContainer\";\nimport NewsSettingsPanel from \"./NewsSettingsPanel\";\nimport NoDataContainer from \"./NoDataContainer\";\nimport PagePanel from \"./PagePanel\";\nimport PageSettingsPanel from \"./PageSettingsPanel\";\nimport SettingsDialog from \"./SettingsDialog\";\nimport ToDosContainer from \"./ToDosContainer\";\nimport { SETTINGS_PANELS_KEYS } from \"./utils/Constants\";\nimport KeyUserPersonalization from \"./utils/KeyUserPersonalization\";\nimport PersonalisationUtils from \"./utils/PersonalisationUtils\";\n\ninterface IElement {\n\tcompleteId: string;\n\tsContainerType: string;\n\tblocked: boolean;\n\tvisible: boolean;\n\ttitle: string;\n\ttext: string;\n}\n\nexport interface UserActionProperties {\n\tid: string;\n\ticon: string;\n\ttext: string;\n\ttooltip: string;\n\tpress: () => void;\n}\n\n/**\n *\n * Layout class for the My Home layout.\n *\n * @extends BaseLayout\n *\n * @author SAP SE\n * @version 0.0.1\n * @since 1.121\n *\n * @internal\n * @experimental Since 1.121\n * @public\n *\n * @alias sap.cux.home.Layout\n */\nexport default class Layout extends BaseLayout {\n\tprivate _layoutSettingsPanel!: LayoutSettingsPanel;\n\tprivate _advancedSettingsPanel!: AdvancedSettingsPanel;\n\tprivate _isCustomNews!: boolean;\n\tprivate _pagesAvailable!: boolean;\n\tprivate _toDoAccessible!: boolean;\n\tprivate _aOrderedSections!: IElement[] | undefined;\n\tprivate _noDataContainer!: NoDataContainer;\n\tprivate _shellUserActions: Item[] = [];\n\tprivate _userActionsAdded!: boolean;\n\tprivate _keyUserPersonalization!: KeyUserPersonalization;\n\tprivate _isDefaultSettingsDialog: boolean = false;\n\tprivate _customNoDataContainerPresent: boolean = true;\n\n\tstatic readonly metadata: MetadataOptions = {\n\t\tdesigntime: \"sap/cux/home/designtime/Layout.designtime\"\n\t};\n\tstatic renderer: typeof BaseLayoutRenderer = BaseLayoutRenderer;\n\n\t/**\n\t * Constructor for a new layout.\n\t *\n\t * @param {string} [id] ID for the new control, generated automatically if an ID is not provided\n\t * @param {object} [settings] Initial settings for the new control\n\t */\n\tpublic constructor(id?: string, settings?: $BaseLayoutSettings) {\n\t\tsuper(id, settings);\n\t}\n\n\t/**\n\t * Init lifecycle method\n\t *\n\t * @private\n\t * @async\n\t * @override\n\t */\n\tpublic init(): void {\n\t\tsuper.init();\n\n\t\t//setup layout\n\t\tthis.setProperty(\"enableSettings\", true);\n\t\tthis.setProperty(\"enableFullScreen\", true);\n\n\t\t// Setup KeyUserPersonalization\n\t\tthis._keyUserPersonalization = new KeyUserPersonalization(PersonalisationUtils.getOwnerComponent(this), this._i18nBundle);\n\t}\n\n\t/**\n\t * Adds all user actions to the Fiori launchpad.\n\t *\n\t * @private\n\t */\n\tprivate async _addUserActions() {\n\t\ttry {\n\t\t\tif (this.getVisible() && !this._userActionsAdded) {\n\t\t\t\tthis._userActionsAdded = true;\n\n\t\t\t\t// Configure User Actions\n\t\t\t\tconst userActions: UserActionProperties[] = [\n\t\t\t\t\t{\n\t\t\t\t\t\tid: `${this.getId()}-homeSettingsBtn`,\n\t\t\t\t\t\ticon: \"sap-icon://edit\",\n\t\t\t\t\t\ttext: this._i18nBundle.getText(\"myHomeSettings\") as string,\n\t\t\t\t\t\ttooltip: this._i18nBundle.getText(\"myHomeSettings\") as string,\n\t\t\t\t\t\tpress: () => {\n\t\t\t\t\t\t\tvoid this.openSettingsDialog();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t];\n\n\t\t\t\t// Add RTA User Action if Key User\n\t\t\t\tconst rtaUserAction = await this._keyUserPersonalization.getRTAUserAction();\n\t\t\t\tif (rtaUserAction) {\n\t\t\t\t\tuserActions.push(rtaUserAction);\n\t\t\t\t}\n\n\t\t\t\t// Attach User Actions\n\t\t\t\tconst extensionService = await Container.getServiceAsync<Extension>(\"Extension\");\n\t\t\t\tfor (let action of userActions) {\n\t\t\t\t\tconst shellUserAction = await extensionService.createUserAction(action, {\n\t\t\t\t\t\tcontrolType: \"sap.ushell.ui.launchpad.ActionItem\"\n\t\t\t\t\t});\n\t\t\t\t\tshellUserAction.showOnHome();\n\t\t\t\t\tthis._shellUserActions.push(shellUserAction);\n\t\t\t\t}\n\n\t\t\t\t// Toggle User Actions on Page Change\n\t\t\t\tconst toggleUserActions = (event: UI5Event<{ isMyHomeRoute: boolean }>) => {\n\t\t\t\t\tconst show = event.getParameter(\"isMyHomeRoute\");\n\t\t\t\t\tthis._shellUserActions.forEach(function (userAction) {\n\t\t\t\t\t\tif (show) {\n\t\t\t\t\t\t\tuserAction.showOnHome();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tuserAction.hideOnHome();\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t};\n\t\t\t\tS4MyHome.attachRouteMatched({}, toggleUserActions, this);\n\t\t\t}\n\t\t} catch (error: unknown) {\n\t\t\tLog.warning(\"Unable to add User Actions\", error instanceof Error ? error.message : \"\");\n\t\t}\n\t}\n\n\t/**\n\t * Opens the settings dialog for the layout.\n\t * Overriden from the BaseLayout to ensure of all panels\n\t * to the dialog if not already added.\n\t *\n\t * @private\n\t * @param {string} selectedKey The key of the panel to navigate to\n\t * @override\n\t */\n\tpublic async openSettingsDialog(selectedKey: string = \"\", context?: object): Promise<void> {\n\t\tconst settingsDialog = this.getAggregation(\"settingsDialog\") as BaseSettingsDialog;\n\t\tif (settingsDialog.getPanels().length !== this._getSettingsPanels().length) {\n\t\t\tthis._addPanelsToSettingsDialog();\n\t\t}\n\t\tawait this._calculateSectionsState();\n\n\t\tsuper.openSettingsDialog(selectedKey, context);\n\t}\n\n\t/**\n\t * Close Settings Dialog\n\t *\n\t * @private\n\t *\n\t */\n\tpublic closeSettingsDialog(): void {\n\t\tconst settingsDialog = this.getAggregation(\"settingsDialog\") as BaseSettingsDialog;\n\t\tsettingsDialog?.close();\n\t}\n\n\t/**\n\t * onBeforeRendering lifecycle method\n\t *\n\t * @private\n\t * @override\n\t */\n\tpublic async onBeforeRendering(event: Event): Promise<void> {\n\t\tsuper.onBeforeRendering(event);\n\n\t\t// setup no-data container\n\t\tif (!this._noDataContainer) {\n\t\t\tthis._noDataContainer = this.getItems().find((item) => item instanceof NoDataContainer) as NoDataContainer;\n\n\t\t\t// if no data container is already present, use it\n\t\t\tif (!this._noDataContainer) {\n\t\t\t\tthis._customNoDataContainerPresent = false;\n\t\t\t\tthis._noDataContainer = new NoDataContainer(`${this.getId()}-noDataContainer`);\n\t\t\t}\n\t\t\tthis._noDataContainer.setVisible(false);\n\t\t}\n\n\t\t//prepare layout data, if not already done\n\t\tif (!this._aOrderedSections) {\n\t\t\tsetTimeout(this._prepareLayoutData.bind(this));\n\t\t}\n\n\t\t//setup common layout features\n\t\tthis._setupSettingsDialog();\n\n\t\t// Setup KeyUserPersonalization\n\t\tthis._setupKeyUserSettingsDialog();\n\n\t\t//configure user action button if the layout is in an ushell environment\n\t\tawait this._addUserActions();\n\t}\n\n\t/**\n\t * Sets up the settings dialog for the layout.\n\t *\n\t * @private\n\t */\n\tprivate _setupSettingsDialog(): void {\n\t\tconst allPanels: BasePanel[] = [];\n\t\t(this.getItems() || []).forEach((container) => {\n\t\t\t//link container to layout\n\t\t\tcontainer.setAssociation(\"layout\", this);\n\n\t\t\t//enable settings for all panels\n\t\t\tcontainer.getContent().forEach((panel) => {\n\t\t\t\tallPanels.push(panel);\n\t\t\t\tconst panelEnableSettings = panel.getProperty(\"enableSettings\") as boolean;\n\t\t\t\tpanel.setProperty(\"enableSettings\", panelEnableSettings !== undefined ? panelEnableSettings : true);\n\t\t\t});\n\t\t});\n\n\t\tconst enableSettings = this.getProperty(\"enableSettings\") as boolean;\n\t\tconst settingsDialog = this.getAggregation(\"settingsDialog\") as BaseSettingsDialog | undefined;\n\t\tif (!settingsDialog) {\n\t\t\tthis._isDefaultSettingsDialog = true;\n\n\t\t\t// If settings dialog is not provided and settings is enabled, create a default settings dialog\n\t\t\tif (enableSettings) {\n\t\t\t\tconst defaultSettingsDialog = this._getDefaultSettingsDialog(allPanels);\n\t\t\t\tthis.setSettingsDialog(defaultSettingsDialog);\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Get default settings dialog\n\t * @private\n\t * @returns {BaseSettingsDialog} Default settings dialog\n\t */\n\tprivate _getDefaultSettingsDialog(allPanels: BasePanel[]): BaseSettingsDialog {\n\t\tconst defaultSettingsDialog = new SettingsDialog(`${this.getId()}-settings-dialog`);\n\n\t\tallPanels.forEach((panel) => {\n\t\t\tconst settingsPanel = this._getDefaultSettingsPanel(panel);\n\t\t\tif (settingsPanel) {\n\t\t\t\tdefaultSettingsDialog.addPanel(settingsPanel);\n\t\t\t}\n\t\t});\n\n\t\t//sort all panels and add them to the settings dialog\n\t\tconst sortedPanels = this._sortPanels(defaultSettingsDialog.getPanels());\n\t\tdefaultSettingsDialog.removeAllPanels();\n\t\tsortedPanels.forEach((panel) => defaultSettingsDialog.addPanel(panel));\n\n\t\tdefaultSettingsDialog.insertPanel(this._getLayoutSettingsPanel(), 0);\n\t\tdefaultSettingsDialog.addPanel(this._getAdvancedSettingsPanel());\n\n\t\treturn defaultSettingsDialog;\n\t}\n\n\t/**\n\t * Get default Settings Panel\n\t *\n\t * @private\n\t */\n\n\tprivate _getDefaultSettingsPanel(panel: BasePanel): BaseSettingsPanel | undefined {\n\t\tlet settingsPanel: BaseSettingsPanel | undefined;\n\t\tconst panelClassName = panel.getMetadata().getName();\n\t\tswitch (panelClassName) {\n\t\t\tcase \"sap.cux.home.NewsPanel\":\n\t\t\t\tsettingsPanel = new NewsSettingsPanel(`${panel.getId()}-news-settings`);\n\t\t\t\tbreak;\n\t\t\tcase \"sap.cux.home.PagePanel\":\n\t\t\t\tsettingsPanel = new PageSettingsPanel(`${panel.getId()}-page-settings`);\n\t\t\t\tbreak;\n\t\t\tcase \"sap.cux.home.TilesPanel\":\n\t\t\t\tsettingsPanel = new InsightsTilesSettingsPanel(`${panel.getId()}-tiles-settings`);\n\t\t\t\tbreak;\n\t\t\tcase \"sap.cux.home.CardsPanel\":\n\t\t\t\tsettingsPanel = new InsightsCardsSettingsPanel(`${panel.getId()}-cards-settings`);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t\tsettingsPanel?.setAssociation(\"panel\", panel);\n\t\treturn settingsPanel;\n\t}\n\n\t/**\n\t * Adds all settings panels to the settings dialog, including\n\t * the layout settings panel and advanced settings panel.\n\t *\n\t * @private\n\t */\n\tprivate _addPanelsToSettingsDialog(): void {\n\t\tconst settingsDialog = this.getAggregation(\"settingsDialog\") as BaseSettingsDialog;\n\n\t\t//sort all panels and add them to the settings dialog\n\t\tconst sortedPanels = this._sortPanels(settingsDialog.getPanels());\n\t\tsettingsDialog.removeAllPanels();\n\t\tsortedPanels.forEach((panel) => settingsDialog.addPanel(panel));\n\n\t\t// Layout Settings should be displayed only if no settings dialog is provided\n\t\tif (this._isDefaultSettingsDialog) {\n\t\t\tsettingsDialog.insertPanel(this._getLayoutSettingsPanel(), 0);\n\t\t\tsettingsDialog.addPanel(this._getAdvancedSettingsPanel());\n\t\t}\n\t\tsettingsDialog.addPanel(this._getAdvancedSettingsPanel());\n\t\tthis._addSettingsPanel(settingsDialog.getPanels(), true);\n\t}\n\n\t/**\n\t * Sorts settings panels based on a predefined order.\n\t *\n\t * @private\n\t * @returns {BaseSettingsPanel[]} Sorted settings panels.\n\t */\n\tprivate _sortPanels(panels: BaseSettingsPanel[]): BaseSettingsPanel[] {\n\t\treturn Object.keys(SETTINGS_PANELS_KEYS)\n\t\t\t.map((key) => panels.find((panel) => panel?.getProperty(\"key\") === key))\n\t\t\t.filter(Boolean) as BaseSettingsPanel[];\n\t}\n\n\t/**\n\t * Retrieves the advanced settings panel associated with the layout.\n\t *\n\t * @private\n\t * @returns {AdvancedSettingsPanel} The advanced settings panel.\n\t */\n\tprivate _getAdvancedSettingsPanel(): AdvancedSettingsPanel {\n\t\tif (!this._advancedSettingsPanel) {\n\t\t\tthis._advancedSettingsPanel = new AdvancedSettingsPanel(`${this.getId()}-advanced-settings`);\n\t\t\tthis._advancedSettingsPanel.setAssociation(\"panel\", this);\n\t\t}\n\n\t\treturn this._advancedSettingsPanel;\n\t}\n\n\t/**\n\t * Retrieves the layout settings panel associated with the layout.\n\t *\n\t * @private\n\t * @returns {LayoutSettingsPanel} The layout settings panel.\n\t */\n\tprivate _getLayoutSettingsPanel(): LayoutSettingsPanel {\n\t\tif (!this._layoutSettingsPanel) {\n\t\t\tthis._layoutSettingsPanel = new LayoutSettingsPanel(`${this.getId()}-layout-settings`);\n\t\t\tthis._layoutSettingsPanel.setAssociation(\"panel\", this);\n\t\t}\n\n\t\treturn this._layoutSettingsPanel;\n\t}\n\n\t/**\n\t * Prepares the layout data.\n\t *\n\t * @private\n\t */\n\tprivate _prepareLayoutData(): void {\n\t\tlet hasVisibleSection = false;\n\t\tconst aElements = this.getItems();\n\t\t// set aelementsMap as elementMap[] | [];\n\t\tconst aElementMap: IElement[] = [];\n\t\taElements.forEach((element: BaseContainer) => {\n\t\t\tif (element !== this._noDataContainer) {\n\t\t\t\tconst sId = element.getId();\n\n\t\t\t\t//if no title set for container , then layout setting should show tooltip as title within the settings dialog\n\t\t\t\tlet title = element.getProperty(\"title\") as string;\n\t\t\t\tif (!title) {\n\t\t\t\t\ttitle = element.getTooltip() as string;\n\t\t\t\t}\n\t\t\t\tconst elementVisible = element.getVisible();\n\t\t\t\taElementMap.push({\n\t\t\t\t\tcompleteId: sId,\n\t\t\t\t\tsContainerType: element.getMetadata().getName(),\n\t\t\t\t\tblocked: false,\n\t\t\t\t\tvisible: element.getProperty(\"visible\") as boolean,\n\t\t\t\t\ttitle: element instanceof NewsAndPagesContainer ? (this._i18nBundle.getText(\"myInterestMsg\") as string) : title,\n\t\t\t\t\ttext: this._setTextValue(element)\n\t\t\t\t});\n\t\t\t\tif (elementVisible) {\n\t\t\t\t\thasVisibleSection = true;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tthis._aOrderedSections = aElementMap;\n\t\tif (!this.getProperty(\"expanded\")) {\n\t\t\tthis.setNoDataContainerVisibility(!hasVisibleSection);\n\t\t}\n\t}\n\n\t/**\n\t * Sets the text value for the section\n\t * @private\n\t */\n\tprivate _setTextValue(element: BaseContainer): string {\n\t\tif (element instanceof ToDosContainer) {\n\t\t\treturn this._i18nBundle.getText(\"forMeTodayMsg\") as string;\n\t\t} else if (element instanceof AppsContainer) {\n\t\t\treturn this._i18nBundle.getText(\"myAppMsg\") as string;\n\t\t}\n\t\treturn \"\";\n\t}\n\n\t/**\n\t * Sets the visibility of the no data container\n\t *\n\t * @private\n\t */\n\tpublic setNoDataContainerVisibility(contentVisible: boolean): void {\n\t\tthis._noDataContainer?.setVisible(contentVisible);\n\t\tif (!this._customNoDataContainerPresent) {\n\t\t\tif (contentVisible) {\n\t\t\t\tthis.insertItem(this._noDataContainer, 0);\n\t\t\t} else {\n\t\t\t\tthis.removeItem(this._noDataContainer);\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Calculates the state of the sections based on the layout's content.\n\t * @private\n\t */\n\tpublic async _calculateSectionsState(): Promise<void> {\n\t\tconst settingsDialog = this.getAggregation(\"settingsDialog\") as SettingsDialog;\n\t\tconst aSettingsPanel = settingsDialog.getPanels();\n\t\tthis._isCustomNews = false;\n\t\taSettingsPanel.forEach((oSettingsPanel: BaseSettingsPanel) => {\n\t\t\tif (oSettingsPanel instanceof NewsSettingsPanel) {\n\t\t\t\tthis._isCustomNews = true;\n\t\t\t}\n\t\t\tif (oSettingsPanel instanceof AdvancedSettingsPanel) {\n\t\t\t\toSettingsPanel.resetImportModel(true);\n\t\t\t}\n\t\t});\n\t\tawait this.setSectionDetails();\n\t}\n\n\t/**\n\t * Sets the section details based on the layout's content.\n\t * @private\n\t */\n\tprivate async setSectionDetails(): Promise<void> {\n\t\tconst elementArray = this.getItems();\n\t\tfor (const element of elementArray) {\n\t\t\tlet bBlocked = false;\n\t\t\tconst sId = element.getId();\n\t\t\t//check news & apps visibility\n\t\t\tif (element instanceof NewsAndPagesContainer && element.getVisible()) {\n\t\t\t\tconst aNewsAndPagesPanel = element.getContent();\n\t\t\t\t//check whether user has access to pages\n\t\t\t\tbBlocked = aNewsAndPagesPanel.length ? await this.checkPagesBlocked(aNewsAndPagesPanel) : false;\n\t\t\t} else if (element instanceof ToDosContainer) {\n\t\t\t\tbBlocked = this.checkToDoBlocked(element);\n\t\t\t}\n\n\t\t\tthis._aOrderedSections?.forEach((oElementItem) => {\n\t\t\t\tif (oElementItem.completeId === sId) {\n\t\t\t\t\toElementItem.blocked = bBlocked;\n\t\t\t\t\toElementItem.visible = element.getVisible();\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\n\t/**\n\t * Check whether My Interest section is blocked or not\n\t * @private\n\t */\n\tprivate async checkPagesBlocked(aNewsAndPagesPanel: BasePanel[]): Promise<boolean> {\n\t\tfor (const oPanel of aNewsAndPagesPanel) {\n\t\t\tif (oPanel instanceof PagePanel) {\n\t\t\t\t// find if user has any pages accessible\n\t\t\t\tconst aPages = (await oPanel.getUserAvailablePages()) || [];\n\t\t\t\tif (aPages.length) {\n\t\t\t\t\tthis._pagesAvailable = true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t//if user has no available pages and no  news feed, then block the section\n\t\tif (!this._pagesAvailable && !this._isCustomNews) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\t/**\n\t * Check whether For Me Today section is blocked or not\n\t * @private\n\t */\n\tprivate checkToDoBlocked(toDoContainer: BaseContainer): boolean {\n\t\tif (!toDoContainer.getVisible()) {\n\t\t\tconst panels = toDoContainer.getContent();\n\t\t\tif (panels.length === 0) {\n\t\t\t\tthis._toDoAccessible = false;\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t}\n\n\t/**\n\t * Sets up the key user settings dialog for the layout.\n\t *\n\t * @private\n\t */\n\tprivate _setupKeyUserSettingsDialog(): void {\n\t\tconst keyUserSettingsDialog = this.getAggregation(\"keyUserSettingsDialog\") as BaseSettingsDialog;\n\t\tif (!keyUserSettingsDialog) {\n\t\t\tconst defaultKeyUserSettingsDialog = new KeyUserSettingsDialog(`${this.getId()}-keyUser-settings-dialog`);\n\n\t\t\t// Add Key User Layout Settings Panel\n\t\t\tconst keyUserLayoutSettingsPanel = new KeyUserLayoutSettingsPanel(`${this.getId()}-keyUser-layout-settings`);\n\t\t\tkeyUserLayoutSettingsPanel.setAssociation(\"panel\", this);\n\t\t\tdefaultKeyUserSettingsDialog.addPanel(keyUserLayoutSettingsPanel);\n\n\t\t\t// Add News and Pages Settings Panel If News and Pages Container is available\n\t\t\t(this.getItems() || []).forEach((container: BaseContainer) => {\n\t\t\t\tif (container instanceof NewsAndPagesContainer) {\n\t\t\t\t\tconst keyUserNewsPagesSettingsPanel = new KeyUserNewsPagesSettingsPanel(`${this.getId()}-keyUser-news-pages-settings`);\n\t\t\t\t\t// Set any panel of the containet to the settings panel as association\n\t\t\t\t\tkeyUserNewsPagesSettingsPanel.setAssociation(\"panel\", container.getContent()?.[0]);\n\t\t\t\t\tdefaultKeyUserSettingsDialog.addPanel(keyUserNewsPagesSettingsPanel);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tthis.setAggregation(\"keyUserSettingsDialog\", defaultKeyUserSettingsDialog);\n\t\t}\n\t}\n\n\t/**\n\t * Return the pages availability value\n\t * @private\n\t */\n\tpublic getpagesAvailable(): boolean {\n\t\treturn this._pagesAvailable;\n\t}\n\n\t/**\n\t * Return the To-Dos availability value\n\t * @private\n\t */\n\tpublic isToDoAccessible(): boolean {\n\t\treturn this._toDoAccessible;\n\t}\n\n\t/**\n\t * Return whether customNews available or not\n\t */\n\tpublic customNewAvailable(): boolean {\n\t\treturn this._isCustomNews;\n\t}\n\n\t/**\n\t * Returns the set of sections present within the layout\n\t *\n\t * @private\n\t */\n\tpublic getSections(): IElement[] {\n\t\treturn this._aOrderedSections!;\n\t}\n\n\t/**\n\t * Sets the sections present within the layout\n\t *\n\t * @private\n\t */\n\tpublic setSections(sections: IElement[]): void {\n\t\tthis._aOrderedSections = sections;\n\t}\n\n\t/**\n\t * Resets the ordered sections of the layout.\n\t *\n\t * @private\n\t */\n\tpublic resetSections(): void {\n\t\tthis._aOrderedSections = undefined;\n\t\tthis._prepareLayoutData();\n\t}\n}\n"],"mappings":"AAAA;;;;AAAA,aAAAA,IAAAC,GAAAC,OAAA,gjBAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,GAAA,sBAAAC,EAAAC,GAAA,OAAAA,KAAAC,mBAAAD,EAAAE,UAAA,YAAAF,EAAAE,QAAAF,CAAA,OAoKaG,SAAuCC,SAAW,YAAeA,OAAOC,WAAaD,OAAOC,SAAWD,OAAO,oBAAuB,aA7H3I,SAASE,EAAQC,EAAMC,EAAOC,GACpC,IAAKF,EAAKG,EAAG,CACZ,GAAID,aAAiBE,EAAO,CAC3B,GAAIF,EAAMC,EAAG,CACZ,GAAIF,EAAQ,EAAG,CACdA,EAAQC,EAAMC,CACf,CACAD,EAAQA,EAAMG,CACf,KAAO,CACNH,EAAMI,EAAIP,EAAQQ,KAAK,KAAMP,EAAMC,GACnC,MACD,CACD,CACA,GAAIC,GAASA,EAAMM,KAAM,CACxBN,EAAMM,KAAKT,EAAQQ,KAAK,KAAMP,EAAMC,GAAQF,EAAQQ,KAAK,KAAMP,EAAM,IACrE,MACD,CACAA,EAAKG,EAAIF,EACTD,EAAKK,EAAIH,EACT,MAAMO,EAAWT,EAAKM,EACtB,GAAIG,EAAU,CACbA,EAAST,EACV,CACD,CACD,CAAC,MA9DYI,EAAsB,WAClC,SAAAA,IAAkB,CAClBA,EAAMM,UAAUF,KAAO,SAASG,EAAaC,GAC5C,MAAMC,EAAS,IAAAT,EACf,MAAMH,EAAQa,KAAKX,EACnB,GAAIF,EAAO,CACV,MAAMc,EAAWd,EAAQ,EAAIU,EAAcC,EAC3C,GAAIG,EAAU,CACb,IACChB,EAAQc,EAAQ,EAAGE,EAASD,KAAKT,GAClC,CAAE,MAAOW,GACRjB,EAAQc,EAAQ,EAAGG,EACpB,CACA,OAAOH,CACR,KAAO,CACN,OAAOC,IACR,CACD,CACAA,KAAKR,EAAI,SAASW,GACjB,IACC,MAAMf,EAAQe,EAAMZ,EACpB,GAAIY,EAAMd,EAAI,EAAG,CAChBJ,EAAQc,EAAQ,EAAGF,EAAcA,EAAYT,GAASA,EACvD,MAAO,GAAIU,EAAY,CACtBb,EAAQc,EAAQ,EAAGD,EAAWV,GAC/B,KAAO,CACNH,EAAQc,EAAQ,EAAGX,EACpB,CACD,CAAE,MAAOc,GACRjB,EAAQc,EAAQ,EAAGG,EACpB,CACD,EACA,OAAOH,CACR,EACA,OAAAT,CACD,CAnCmC,GAgE5B,SAASc,EAAeC,GAC9B,OAAOA,aAAoBf,GAASe,EAAShB,EAAI,CAClD,CA+CO,SAASiB,EAAOC,EAAOC,EAAMC,GACnC,IAAIC,GAAK,EAAGxB,EAAMyB,EAClB,SAASC,EAAOb,GACf,IACC,QAASW,EAAIH,EAAMM,UAAYJ,IAAUA,KAAU,CAClDV,EAASS,EAAKE,GACd,GAAIX,GAAUA,EAAOL,KAAM,CAC1B,GAAIU,EAAeL,GAAS,CAC3BA,EAASA,EAAOR,CACjB,KAAO,CACNQ,EAAOL,KAAKkB,EAAQD,IAAWA,EAAS1B,EAAQQ,KAAK,KAAMP,EAAO,IAAII,EAAS,KAC/E,MACD,CACD,CACD,CACA,GAAIJ,EAAM,CACTD,EAAQC,EAAM,EAAGa,EAClB,KAAO,CACNb,EAAOa,CACR,CACD,CAAE,MAAOG,GACRjB,EAAQC,IAASA,EAAO,IAAII,GAAU,EAAGY,EAC1C,CACD,CACAU,IACA,OAAO1B,CACR,CAAC,MA/HM4B,EAAqBpC,EAAApB,GA2JrB,SAASyD,EAAOC,EAAQR,EAAMC,GACpC,UAAWO,EAAOlC,KAAqB,WAAY,CAClD,IAAIE,EAAWgC,EAAOlC,KAAoBmC,EAAM/B,EAAMyB,EACtD,SAASC,EAAOb,GACf,IACC,QAASkB,EAAOjC,EAASkC,QAAQC,QAAUV,IAAUA,KAAU,CAC9DV,EAASS,EAAKS,EAAK7B,OACnB,GAAIW,GAAUA,EAAOL,KAAM,CAC1B,GAAIU,EAAeL,GAAS,CAC3BA,EAASA,EAAOR,CACjB,KAAO,CACNQ,EAAOL,KAAKkB,EAAQD,IAAWA,EAAS1B,EAAQQ,KAAK,KAAMP,EAAO,IAAII,EAAS,KAC/E,MACD,CACD,CACD,CACA,GAAIJ,EAAM,CACTD,EAAQC,EAAM,EAAGa,EAClB,KAAO,CACNb,EAAOa,CACR,CACD,CAAE,MAAOG,GACRjB,EAAQC,IAASA,EAAO,IAAII,GAAU,EAAGY,EAC1C,CACD,CACAU,IACA,GAAI5B,EAASoC,OAAQ,CACpB,IAAIC,EAAS,SAASjC,GACrB,IACC,IAAK6B,EAAKE,KAAM,CACfnC,EAASoC,QACV,CACD,CAAE,MAAMlB,GACR,CACA,OAAOd,CACR,EACA,GAAIF,GAAQA,EAAKQ,KAAM,CACtB,OAAOR,EAAKQ,KAAK2B,EAAQ,SAASnB,GACjC,MAAMmB,EAAOnB,EACd,EACD,CACAmB,GACD,CACA,OAAOnC,CACR,CAEA,KAAM,WAAY8B,GAAS,CAC1B,MAAM,IAAIM,UAAU,yBACrB,CAEA,IAAIC,EAAS,GACb,IAAK,IAAIb,EAAI,EAAGA,EAAIM,EAAOH,OAAQH,IAAK,CACvCa,EAAOC,KAAKR,EAAON,GACpB,CACA,OAAOJ,EAAOiB,EAAQ,SAASb,GAAK,OAAOF,EAAKe,EAAOb,GAAK,EAAGD,EAChE,CAAC,MAjNMgB,EAAa/C,EAAAnB,GAoiBb,SAASmE,EAAOlB,EAAMmB,GAC5B,IACC,IAAI5B,EAASS,GACd,CAAE,MAAMN,GACP,OAAOyB,EAAQzB,EAChB,CACA,GAAIH,GAAUA,EAAOL,KAAM,CAC1B,OAAOK,EAAOL,UAAU,EAAGiC,EAC5B,CACA,OAAO5B,CACR,CAAC,MA5iBM6B,EAAUlD,EAAAlB,GAAA,MACVqE,EAAkBnD,EAAAjB,GAAA,MAIlBqE,EAA0BpD,EAAAhB,GAAA,MAC1BqE,EAA0BrD,EAAAf,GAAA,MAC1BqE,EAA0BtD,EAAAd,GAAA,MAC1BqE,EAA6BvD,EAAAb,GAAA,MAC7BqE,EAAqBxD,EAAAZ,GAAA,MACrBqE,EAAmBzD,EAAAX,GAAA,MACnBqE,EAAqB1D,EAAAV,GAAA,MACrBqE,EAAiB3D,EAAAT,GAAA,MACjBqE,EAAe5D,EAAAR,GAAA,MACfqE,EAAS7D,EAAAP,GAAA,MACTqE,EAAiB9D,EAAAN,GAAA,MACjBqE,EAAc/D,EAAAL,GAAA,MACdqE,EAAchE,EAAAJ,GAAA,MACZqE,EAAoBpE,EAAA,8BACtBqE,EAAsBlE,EAAAF,GAAA,MACtBqE,EAAoBnE,EAAAD,GAmB3B,MAgBqBqE,EAAelB,EAAUmB,OAAA,uBAiBtCC,SAAsCnB,EAH7BoB,SAA4B,CAC3CC,WAAY,6CAUNC,YAAW,SAAAC,EAACC,EAAaC,GAC/BC,6BAAAvD,KAAMqD,EAAIC,GAAUtD,KAlBbwD,kBAA4B,GAAExD,KAG9ByD,yBAAoC,MAAKzD,KACzC0D,8BAAyC,IAejD,EASOC,KAAI,SAAAC,IACVC,sBAAA7D,MAGAA,KAAK8D,YAAY,iBAAkB,MACnC9D,KAAK8D,YAAY,mBAAoB,MAGrC9D,KAAK+D,wBAA0B,IAAInB,EAAuBC,EAAqBmB,kBAAkBhE,MAAOA,KAAKiE,YAC9G,EAOcC,gBAAe,SAAAA,IAAA,IAAG,MAAA/D,EAE1BH,KAAI,OAAAmE,QAAAC,QAAA1C,EAAA,WADL,MAAA2C,EAAA,cACClE,EAAKmE,eAAiBnE,EAAKoE,kBAAiB,CAC/CpE,EAAKoE,kBAAoB,KAGzB,MAAMC,EAAsC,CAC3C,CACCnB,GAAI,GAAGlD,EAAKsE,0BACZC,KAAM,kBACNC,KAAMxE,EAAK8D,YAAYW,QAAQ,kBAC/BC,QAAS1E,EAAK8D,YAAYW,QAAQ,kBAClCE,MAAOA,UACD3E,EAAK4E,wBAKb,OAAAZ,QAAAC,QAC4BjE,EAAK4D,wBAAwBiB,oBAAkBtF,KAAA,SAArEuF,GACN,GAAIA,EAAe,CAClBT,EAAYhD,KAAKyD,EAClB,CAEA,OAAAd,QAAAC,QAC+B/G,EAAU6H,gBAA2B,cAAYxF,KAAA,SAA1EyF,GAAgB,SAAAC,IAUtB,MAAMC,EAAqBC,IAC1B,MAAMC,EAAOD,EAAME,aAAa,iBAChCrF,EAAKqD,kBAAkBiC,QAAQ,SAAUC,GACxC,GAAIH,EAAM,CACTG,EAAWC,YACZ,KAAO,CACND,EAAWE,YACZ,CACD,IAEDxI,EAASyI,mBAAmB,CAAC,EAAGR,EAAiBlF,EAAQ,OAAA2F,EAAA/E,EAnBtCyD,EAAW,SAArBuB,GAAuB,OAAA5B,QAAAC,QACDe,EAAiBa,iBAAiBD,EAAQ,CACvEE,YAAa,wCACZvG,KAAA,SAFIwG,GAGNA,EAAgBP,aAChBxF,EAAKqD,kBAAkBhC,KAAK0E,EAAiB,EAC9C,GAAC,OAAAJ,KAAApG,KAAAoG,EAAApG,KAAA0F,KAAAU,EAAA,MA/BC,GA+BD,GAAAzB,KAAA3E,KAAA,OAAA2E,EAAA3E,KAAA,aAeH,EAAC,SAAQyG,GACRhJ,EAAIiJ,QAAQ,6BAA8BD,aAAiBE,MAAQF,EAAMG,QAAU,GACpF,GACD,CAAC,MAAApG,GAAA,OAAAiE,QAAAxD,OAAAT,EAAA,GAWY6E,mBAAkB,SAAAwB,IAAA,IAACC,EAAmBC,UAAA5F,OAAA,GAAA4F,UAAA,KAAAC,UAAAD,UAAA,GAAG,GAAE,IAAEE,EAAgBF,UAAA5F,OAAA,EAAA4F,UAAA,GAAAC,UAAA,IAAiB,MAAAE,EACnE5G,KAAvB,MAAM6G,EAAiBD,EAAKE,eAAe,kBAC3C,GAAID,EAAeE,YAAYlG,SAAW+F,EAAKI,qBAAqBnG,OAAQ,CAC3E+F,EAAKK,4BACN,CAAC,OAAA9C,QAAAC,QACKwC,EAAKM,2BAAyBxH,KAAA,WAEpCyH,oCAAAP,EAAyBJ,EAAaG,EAAS,EAChD,CAAC,MAAAzG,GAAA,OAAAiE,QAAAxD,OAAAT,EAAA,GAQMkH,oBAAmB,SAAAC,IACzB,MAAMR,EAAiB7G,KAAK8G,eAAe,kBAC3CD,GAAgBS,OACjB,EAQaC,kBAAiB,SAAAC,EAAClC,GAAY,IAAiB,MAAAmC,EAAAzH,KAC3D0H,mCAAAD,EAAwBnC,GAGxB,IAAKmC,EAAKE,iBAAkB,CAC3BF,EAAKE,iBAAmBF,EAAKG,WAAWC,KAAMC,GAASA,aAAgBxF,GAGvE,IAAKmF,EAAKE,iBAAkB,CAC3BF,EAAK/D,8BAAgC,MACrC+D,EAAKE,iBAAmB,IAAIrF,EAAgB,GAAGmF,EAAKhD,0BACrD,CACAgD,EAAKE,iBAAiBI,WAAW,MAClC,CAGA,IAAKN,EAAKO,kBAAmB,CAC5BC,WAAWR,EAAKS,mBAAmBzI,KAAIgI,GACxC,CAGAA,EAAKU,uBAGLV,EAAKW,8BAEL,OAAAjE,QAAAC,QACMqD,EAAKvD,mBAAiBxE,KAAA,aAC7B,CAAC,MAAAQ,GAAA,OAAAiE,QAAAxD,OAAAT,EAAA,GAOOiI,qBAAoB,SAAAA,IAC3B,MAAME,EAAyB,IAC9BrI,KAAK4H,YAAc,IAAInC,QAAS6C,IAEhCA,EAAUC,eAAe,SAAUvI,MAGnCsI,EAAUE,aAAa/C,QAASgD,IAC/BJ,EAAU7G,KAAKiH,GACf,MAAMC,EAAsBD,EAAME,YAAY,kBAC9CF,EAAM3E,YAAY,iBAAkB4E,IAAwBhC,UAAYgC,EAAsB,OAAK,GAIrG,MAAME,EAAiB5I,KAAK2I,YAAY,kBACxC,MAAM9B,EAAiB7G,KAAK8G,eAAe,kBAC3C,IAAKD,EAAgB,CACpB7G,KAAKyD,yBAA2B,KAGhC,GAAImF,EAAgB,CACnB,MAAMC,EAAwB7I,KAAK8I,0BAA0BT,GAC7DrI,KAAK+I,kBAAkBF,EACxB,CACD,CACD,EAOQC,0BAAyB,SAAAA,EAACT,GACjC,MAAMQ,EAAwB,IAAIpG,EAAe,GAAGzC,KAAKyE,2BAEzD4D,EAAU5C,QAASgD,IAClB,MAAMO,EAAgBhJ,KAAKiJ,yBAAyBR,GACpD,GAAIO,EAAe,CAClBH,EAAsBK,SAASF,EAChC,IAID,MAAMG,EAAenJ,KAAKoJ,YAAYP,EAAsB9B,aAC5D8B,EAAsBQ,kBACtBF,EAAa1D,QAASgD,GAAUI,EAAsBK,SAAST,IAE/DI,EAAsBS,YAAYtJ,KAAKuJ,0BAA2B,GAClEV,EAAsBK,SAASlJ,KAAKwJ,6BAEpC,OAAOX,CACR,EAQQI,yBAAwB,SAAAA,EAACR,GAChC,IAAIO,EACJ,MAAMS,EAAiBhB,EAAMiB,cAAcC,UAC3C,OAAQF,GACP,IAAK,yBACJT,EAAgB,IAAI3G,EAAkB,GAAGoG,EAAMhE,yBAC/C,MACD,IAAK,yBACJuE,EAAgB,IAAIxG,EAAkB,GAAGiG,EAAMhE,yBAC/C,MACD,IAAK,0BACJuE,EAAgB,IAAIjH,EAA2B,GAAG0G,EAAMhE,0BACxD,MACD,IAAK,0BACJuE,EAAgB,IAAIlH,EAA2B,GAAG2G,EAAMhE,0BACxD,MACD,QACC,MAEFuE,GAAeT,eAAe,QAASE,GACvC,OAAOO,CACR,EAQQ/B,2BAA0B,SAAAA,IACjC,MAAMJ,EAAiB7G,KAAK8G,eAAe,kBAG3C,MAAMqC,EAAenJ,KAAKoJ,YAAYvC,EAAeE,aACrDF,EAAewC,kBACfF,EAAa1D,QAASgD,GAAU5B,EAAeqC,SAAST,IAGxD,GAAIzI,KAAKyD,yBAA0B,CAClCoD,EAAeyC,YAAYtJ,KAAKuJ,0BAA2B,GAC3D1C,EAAeqC,SAASlJ,KAAKwJ,4BAC9B,CACA3C,EAAeqC,SAASlJ,KAAKwJ,6BAC7BxJ,KAAK4J,kBAAkB/C,EAAeE,YAAa,KACpD,EAQQqC,YAAW,SAAAA,EAACS,GACnB,OAAOC,OAAOC,KAAKpH,GACjBqH,IAAKC,GAAQJ,EAAOhC,KAAMY,GAAUA,GAAOE,YAAY,SAAWsB,IAClEC,OAAOC,QACV,EAQQX,0BAAyB,SAAAA,IAChC,IAAKxJ,KAAKoK,uBAAwB,CACjCpK,KAAKoK,uBAAyB,IAAItJ,EAAsB,GAAGd,KAAKyE,6BAChEzE,KAAKoK,uBAAuB7B,eAAe,QAASvI,KACrD,CAEA,OAAOA,KAAKoK,sBACb,EAQQb,wBAAuB,SAAAA,IAC9B,IAAKvJ,KAAKqK,qBAAsB,CAC/BrK,KAAKqK,qBAAuB,IAAIlI,EAAoB,GAAGnC,KAAKyE,2BAC5DzE,KAAKqK,qBAAqB9B,eAAe,QAASvI,KACnD,CAEA,OAAOA,KAAKqK,oBACb,EAOQnC,mBAAkB,SAAAA,IACzB,IAAIoC,EAAoB,MACxB,MAAMC,EAAYvK,KAAK4H,WAEvB,MAAM4C,EAA0B,GAChCD,EAAU9E,QAASgF,IAClB,GAAIA,IAAYzK,KAAK2H,iBAAkB,CACtC,MAAM+C,EAAMD,EAAQhG,QAGpB,IAAIkG,EAAQF,EAAQ9B,YAAY,SAChC,IAAKgC,EAAO,CACXA,EAAQF,EAAQG,YACjB,CACA,MAAMC,EAAiBJ,EAAQnG,aAC/BkG,EAAYhJ,KAAK,CAChBsJ,WAAYJ,EACZK,eAAgBN,EAAQf,cAAcC,UACtCqB,QAAS,MACTC,QAASR,EAAQ9B,YAAY,WAC7BgC,MAAOF,aAAmBrI,EAAyBpC,KAAKiE,YAAYW,QAAQ,iBAA8B+F,EAC1GhG,KAAM3E,KAAKkL,cAAcT,KAE1B,GAAII,EAAgB,CACnBP,EAAoB,IACrB,CACD,IAGDtK,KAAKgI,kBAAoBwC,EACzB,IAAKxK,KAAK2I,YAAY,YAAa,CAClC3I,KAAKmL,8BAA8Bb,EACpC,CACD,EAMQY,cAAa,SAAAA,EAACT,GACrB,GAAIA,aAAmB/H,EAAgB,CACtC,OAAO1C,KAAKiE,YAAYW,QAAQ,gBACjC,MAAO,GAAI6F,aAAmBhJ,EAAe,CAC5C,OAAOzB,KAAKiE,YAAYW,QAAQ,WACjC,CACA,MAAO,EACR,EAOOuG,6BAA4B,SAAAC,EAACC,GACnCrL,KAAK2H,kBAAkBI,WAAWsD,GAClC,IAAKrL,KAAK0D,8BAA+B,CACxC,GAAI2H,EAAgB,CACnBrL,KAAKsL,WAAWtL,KAAK2H,iBAAkB,EACxC,KAAO,CACN3H,KAAKuL,WAAWvL,KAAK2H,iBACtB,CACD,CACD,EAMaT,wBAAuB,SAAAA,IAAA,IAAkB,MAAAsE,EAC9BxL,KAAvB,MAAM6G,EAAiB2E,EAAK1E,eAAe,kBAC3C,MAAM2E,EAAiB5E,EAAeE,YACtCyE,EAAKE,cAAgB,MACrBD,EAAehG,QAASkG,IACvB,GAAIA,aAA0BtJ,EAAmB,CAChDmJ,EAAKE,cAAgB,IACtB,CACA,GAAIC,aAA0B7K,EAAuB,CACpD6K,EAAeC,iBAAiB,KACjC,IACE,OAAAzH,QAAAC,QACGoH,EAAKK,qBAAmBnM,KAAA,aAC/B,CAAC,MAAAQ,GAAA,OAAAiE,QAAAxD,OAAAT,EAAA,GAMa2L,kBAAiB,SAAAC,IAAA,IAAkB,MAAAC,EAC3B/L,KAArB,MAAMgM,EAAeD,EAAKnE,WAAW,MAAAqE,EAAAlL,EACfiL,EAAY,SAAvBvB,GAAyB,SAAAyB,IAYnCH,EAAK/D,mBAAmBvC,QAAS0G,IAChC,GAAIA,EAAarB,aAAeJ,EAAK,CACpCyB,EAAanB,QAAUoB,EACvBD,EAAalB,QAAUR,EAAQnG,YAChC,GACE,CAhBH,IAAI8H,EAAW,MACf,MAAM1B,EAAMD,EAAQhG,QACpB,MAAA4H,EAAA,cACI5B,aAAmBrI,GAAyBqI,EAAQnG,aAAY,UAAAgI,EAAAC,GAGnEH,EAAQG,CAAwF,CAFhG,MAAMC,EAAqB/B,EAAQjC,aACnC,MAAAiE,EACWD,EAAmB3L,OAAM,OAAA4L,EAAAtI,QAAAC,QAAS2H,EAAKW,kBAAkBF,IAAmB9M,KAAA4M,KAAG,MAAK,MACzF,GAAI7B,aAAmB/H,EAAgB,CAC7C0J,EAAWL,EAAKY,iBAAiBlC,EAClC,CAAC,CAPD,GAOC,OAAA4B,KAAA3M,KAAA2M,EAAA3M,KAAAwM,KAAAG,EAQF,GAAC,OAAAlI,QAAAC,QAAA6H,KAAAvM,KAAAuM,EAAAvM,KAAA,qBACF,CAAC,MAAAQ,GAAA,OAAAiE,QAAAxD,OAAAT,EAAA,GAMawM,kBAAiB,SAAAE,EAACJ,GAA+B,IAAoB,MAAAK,EAM/E7M,KAAI,SAAA8M,IAAA,OAKFD,EAAKE,kBAAoBF,EAAKnB,cAC3B,KAED,KAAK,OAAAsB,EAAAjM,EAbSyL,EAAkB,SAA5BS,GAA8B,MAAAC,EAAA,cACpCD,aAAkB1K,EAAS,CAC9B,OAAA4B,QAAAC,QACsB6I,EAAOE,yBAAuBzN,KAAA,SAA9C0N,GAAM,GACRA,EAAOvM,OAAM,CAChBgM,EAAKE,gBAAkB,IAAK,KALU,GAKV,GAAAG,KAAAxN,KAAA,OAAAwN,EAAAxN,KAAA,aAG/B,GAAC,OAAAyE,QAAAC,QAAA4I,KAAAtN,KAAAsN,EAAAtN,KAAAoN,KAAAE,GAMF,CAAC,MAAA9M,GAAA,OAAAiE,QAAAxD,OAAAT,EAAA,GAMOyM,iBAAgB,SAAAU,EAACC,GACxB,IAAKA,EAAchJ,aAAc,CAChC,MAAMuF,EAASyD,EAAc9E,aAC7B,GAAIqB,EAAOhJ,SAAW,EAAG,CACxBb,KAAKuN,gBAAkB,MACvB,OAAO,IACR,CACD,CACA,OAAO,KACR,EAOQnF,4BAA2B,SAAAA,IAClC,MAAMoF,EAAwBxN,KAAK8G,eAAe,yBAClD,IAAK0G,EAAuB,CAC3B,MAAMC,EAA+B,IAAIvL,EAAsB,GAAGlC,KAAKyE,mCAGvE,MAAMiJ,EAA6B,IAAI1L,EAA2B,GAAGhC,KAAKyE,mCAC1EiJ,EAA2BnF,eAAe,QAASvI,MACnDyN,EAA6BvE,SAASwE,IAGrC1N,KAAK4H,YAAc,IAAInC,QAAS6C,IAChC,GAAIA,aAAqBlG,EAAuB,CAC/C,MAAMuL,EAAgC,IAAI1L,EAA8B,GAAGjC,KAAKyE,uCAEhFkJ,EAA8BpF,eAAe,QAASD,EAAUE,eAAe,IAC/EiF,EAA6BvE,SAASyE,EACvC,IAGD3N,KAAK4N,eAAe,wBAAyBH,EAC9C,CACD,EAMOI,kBAAiB,SAAAC,IACvB,OAAO9N,KAAK+M,eACb,EAMOgB,iBAAgB,SAAAC,IACtB,OAAOhO,KAAKuN,eACb,EAKOU,mBAAkB,SAAAC,IACxB,OAAOlO,KAAK0L,aACb,EAOOyC,YAAW,SAAAC,IACjB,OAAOpO,KAAKgI,iBACb,EAOOqG,YAAW,SAAAC,EAACC,GAClBvO,KAAKgI,kBAAoBuG,CAC1B,EAOOC,cAAa,SAAAC,IACnBzO,KAAKgI,kBAAoBtB,UACzB1G,KAAKkI,oBACN,IAAC,OAviBmBpF,CAAM","ignoreList":[],"sourceRoot":""}},{"offset":{"line":213,"column":0},"map":{"version":3,"file":"LayoutSettingsPanel.js","names":["sap","ui","define","Log","Button","Column","ColumnListItem","HBox","MessageBox","ObjectIdentifier","Table","Text","ToggleButton","VBox","Element","Icon","Lib","DragDropInfo","JSONModel","__BaseSettingsPanel","___flexibility_Layoutflexibility","___utils_Constants","__PersonalisationUtils","_interopRequireDefault","obj","__esModule","default","BaseSettingsPanel","CHANGE_TYPES","SETTINGS_PANELS_KEYS","PersonalisationUtils","LayoutSettingsPanel","extend","metadata","library","constructor","_constructor","id","settings","BaseSettingsPanel.prototype.constructor.call","this","_isCollapseHandlerAttached","init","_init","BaseSettingsPanel.prototype.init.call","setProperty","LAYOUT","_i18nBundle","getText","addAggregation","_getContent","getId","text","press","resetMyhomeSettings","attachPanelNavigated","_loadSections","_manageSectionsChanges","createShowHideChangeFile","_createShowHideChangeFile","oControlEvent","_this","toggle","getSource","bValue","getPressed","oContext","getBindingContext","getObject","visible","_getPanel","getSections","find","section","completeId","sChangeType","UNHIDE","HIDE","oWrapperItem","getElementById","push","selectorElement","changeSpecificData","changeType","Promise","resolve","_saveManageSectionsDialog","then","setTimeout","adjustLayout","_switchToCollapsedViewIfRequired","e","reject","containers","layout","isLayoutExpanded","getProperty","forEach","container","toggleFullScreen","_getSelectedPanel","_this2","_calculateSectionsState","_orderedSections","JSON","parse","stringify","oSection","sContainerType","title","String","_controlModel","_layoutTable","setModel","bindItems","path","template","type","cells","alignItems","items","src","addStyleClass","justifyContent","width","tooltip","icon","enabled","event","pressed","ariaLabelledBy","attachEvent","_rearrangeLayoutIfRequired","currentLayoutElements","getItems","Array","isArray","_allLayoutElements","length","isOrderChanged","some","element","index","removeAllItems","addItem","oHeader","_setHeaderIntro","oTable","setLayoutTable","oContentVBox","renderType","oHeaderText","oHeaderVBox","backgroundDesign","_setLayoutTable","columns","dragDropConfig","sourceAggregation","targetAggregation","groupName","dropPosition","drop","onDropManageSections","_this3","_persistUserChanges","changes","appComponent","getOwnerComponent","tableModel","getModel","refresh","finally","mProperties","load","name","require","ControlPersonalizationWriteAPI","add","ignoreVariantManagement","aGeneratedChanges","save","selector","catch","oError","Error","error","message","_getActualIndex","expandedElementConfig","_getCurrentExpandedElement","targetContainer","splice","indexOfItem","findIndex","_rearrangeLayoutElements","sourceIndex","targetIndex","_onDropManageSections","oEvent","_this4","oWrapper","wrapperId","oDragItem","getParameter","draggedControl","iDragItemIndex","getParent","oDropItem","droppedControl","iDropItemIndex","_temp","sectionOrder","dragObject","dropObject","actualDragItemIndex","actualDropItemIndex","setSections","MOVE","movedElements","source","aggregation","target","draggedContainer","droppedContainer","_resetMyhomeSettings","_this5","show","QUESTION","actions","Action","CANCEL","onClose","oAction","_temp2","aChangesForDeletion","reset","selectors","changeTypes","resetSections","closeSettingsDialog"],"sources":["LayoutSettingsPanel.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\n\nimport Log from \"sap/base/Log\";\nimport ResourceBundle from \"sap/base/i18n/ResourceBundle\";\nimport Button from \"sap/m/Button\";\nimport Column from \"sap/m/Column\";\nimport ColumnListItem from \"sap/m/ColumnListItem\";\nimport HBox from \"sap/m/HBox\";\nimport MessageBox from \"sap/m/MessageBox\";\nimport ObjectIdentifier from \"sap/m/ObjectIdentifier\";\nimport Table from \"sap/m/Table\";\nimport Text from \"sap/m/Text\";\nimport ToggleButton from \"sap/m/ToggleButton\";\nimport VBox from \"sap/m/VBox\";\nimport Event from \"sap/ui/base/Event\";\nimport Component from \"sap/ui/core/Component\";\nimport type { MetadataOptions } from \"sap/ui/core/Element\";\nimport Element from \"sap/ui/core/Element\";\nimport Icon from \"sap/ui/core/Icon\";\nimport Lib from \"sap/ui/core/Lib\";\nimport DragDropInfo from \"sap/ui/core/dnd/DragDropInfo\";\nimport { DropInfo$DropEvent } from \"sap/ui/core/dnd/DropInfo\";\nimport JSONModel from \"sap/ui/model/json/JSONModel\";\nimport BaseContainer from \"./BaseContainer\";\nimport BaseLayout from \"./BaseLayout\";\nimport BaseSettingsPanel, { $BaseSettingsPanelSettings } from \"./BaseSettingsPanel\";\nimport Layout from \"./Layout\";\nimport { CHANGE_TYPES } from \"./flexibility/Layout.flexibility\";\nimport { IControlPersonalizationWriteAPI, IDragEvent, IElement, IManagePersChanges } from \"./interface/LayoutInterface\";\nimport { SETTINGS_PANELS_KEYS } from \"./utils/Constants\";\nimport PersonalisationUtils from \"./utils/PersonalisationUtils\";\n\n/**\n *\n * Class for My Home Layout Settings Panel.\n *\n * @extends BaseSettingsPanel\n *\n * @author SAP SE\n * @version 0.0.1\n * @since 1.121\n *\n * @internal\n * @experimental Since 1.121\n * @private\n *\n * @alias sap.cux.home.LayoutSettingsPanel\n */\nexport default class LayoutSettingsPanel extends BaseSettingsPanel {\n\tprivate _layoutTable!: Table;\n\tpublic _i18nBundle!: ResourceBundle;\n\tprivate _orderedSections!: IElement[];\n\tprivate _manageSectionsChanges!: IManagePersChanges[];\n\tprivate _controlModel!: JSONModel;\n\tprivate _allLayoutElements!: BaseContainer[];\n\tprivate _isCollapseHandlerAttached: boolean = false;\n\n\tconstructor(id?: string | $BaseSettingsPanelSettings);\n\tconstructor(id?: string, settings?: $BaseSettingsPanelSettings);\n\tconstructor(id?: string, settings?: $BaseSettingsPanelSettings) {\n\t\tsuper(id, settings);\n\t}\n\n\tstatic readonly metadata: MetadataOptions = {\n\t\tlibrary: \"sap.cux.home\"\n\t};\n\n\t/**\n\t * Init lifecycle method\n\t *\n\t * @public\n\t * @override\n\t */\n\tpublic init(): void {\n\t\tsuper.init();\n\n\t\t//setup panel\n\t\tthis.setProperty(\"key\", SETTINGS_PANELS_KEYS.LAYOUT);\n\t\tthis.setProperty(\"title\", this._i18nBundle.getText(\"layout\"));\n\t\tthis.setProperty(\"icon\", \"sap-icon://grid\");\n\n\t\t// //setup layout content\n\t\tthis.addAggregation(\"content\", this._getContent());\n\t\tthis.addAggregation(\n\t\t\t\"actionButtons\",\n\t\t\tnew Button({\n\t\t\t\tid: `${this.getId()}-layoutResetBtn`,\n\t\t\t\ttext: this._i18nBundle.getText(\"resetButton\"),\n\t\t\t\tpress: () => {\n\t\t\t\t\tthis.resetMyhomeSettings();\n\t\t\t\t}\n\t\t\t})\n\t\t);\n\t\t//fired every time on panel navigation\n\t\tthis.attachPanelNavigated(() => void this._loadSections());\n\t\tthis._manageSectionsChanges = [];\n\t}\n\n\t/**\n\t * Method to set visibility of the container sections\n\t * Toggle button pressed event handler\n\t *\n\t * @private\n\t */\n\tprivate async createShowHideChangeFile(oControlEvent: Event): Promise<void> {\n\t\tconst toggle = oControlEvent.getSource<ToggleButton>();\n\t\tconst bValue = !toggle.getPressed();\n\t\tconst oContext = toggle.getBindingContext()?.getObject() as IElement;\n\n\t\toContext.visible = bValue;\n\t\t(this._getPanel() as Layout).getSections().find((section) => section.completeId === oContext.completeId)!.visible = bValue;\n\n\t\tconst sChangeType = bValue ? CHANGE_TYPES.UNHIDE : CHANGE_TYPES.HIDE;\n\t\tconst oWrapperItem = Element.getElementById(oContext.completeId) as BaseContainer;\n\t\t// visibility handling\n\t\t// const layout = this._getPanel() as Layout;\n\t\t// const isPagesAvailable = layout?.getPagesAvailable();\n\t\t// const isCustomNewsVisible = layout?.customNewAvailable();\n\n\t\t//****review this code */\n\t\t// const isPageSection = oContext.sContainerType === \"sap.cux.home.NewsAndPagesContainer\",\n\t\t// bIsPageSectionDisabled = isPageSection && !isPagesAvailable && !isCustomNewsVisible;\n\t\t// if (!bIsPageSectionDisabled) {\n\t\tthis._manageSectionsChanges.push({\n\t\t\tselectorElement: oWrapperItem,\n\t\t\tchangeSpecificData: {\n\t\t\t\tchangeType: sChangeType\n\t\t\t}\n\t\t});\n\t\t// }\n\t\tawait this._saveManageSectionsDialog();\n\t\tsetTimeout(() => oWrapperItem.adjustLayout());\n\n\t\t// switch to collapsed view if the container is in expanded view\n\t\tif (!bValue) {\n\t\t\tthis._switchToCollapsedViewIfRequired([oWrapperItem]);\n\t\t}\n\t}\n\n\t/**\n\t * Switches the layout to collapsed view if the current container is in expanded view\n\t *\n\t * @private\n\t * @param {BaseContainer} container - container instance to check\n\t * @returns {void}\n\t */\n\tprivate _switchToCollapsedViewIfRequired(containers: BaseContainer[]): void {\n\t\tconst layout = this._getPanel() as Layout;\n\t\tconst isLayoutExpanded = layout.getProperty(\"expanded\") as boolean;\n\n\t\tif (isLayoutExpanded) {\n\t\t\tcontainers.forEach((container) => {\n\t\t\t\tlayout.toggleFullScreen(container._getSelectedPanel());\n\t\t\t});\n\t\t}\n\t}\n\n\t/**\n\t * Method to load the sections\n\t *\n\t * @private\n\t */\n\tprivate async _loadSections(): Promise<void> {\n\t\tconst layout = this._getPanel() as Layout;\n\t\tawait layout._calculateSectionsState();\n\n\t\tthis._orderedSections = JSON.parse(JSON.stringify(layout.getSections())) as IElement[];\n\t\t// not a good way as there could be more than one insights container, discuss\n\t\tthis._orderedSections.forEach((oSection) => {\n\t\t\tif (oSection.sContainerType === \"sap.cux.home.InsightsContainer\" && !oSection.title) {\n\t\t\t\toSection.title = String(this._i18nBundle?.getText(\"insights\"));\n\t\t\t}\n\t\t});\n\t\tthis._controlModel = new JSONModel(this._orderedSections);\n\t\tthis._layoutTable.setModel(this._controlModel);\n\n\t\tthis._layoutTable.bindItems({\n\t\t\tpath: \"/\",\n\t\t\ttemplate: new ColumnListItem({\n\t\t\t\ttype: \"Inactive\",\n\t\t\t\tcells: [\n\t\t\t\t\tnew HBox({\n\t\t\t\t\t\talignItems: \"Center\",\n\t\t\t\t\t\titems: [\n\t\t\t\t\t\t\tnew Icon({\n\t\t\t\t\t\t\t\tsrc: \"sap-icon://vertical-grip\"\n\t\t\t\t\t\t\t}).addStyleClass(\"sapUiSmallMarginEnd\"),\n\t\t\t\t\t\t\tnew HBox({\n\t\t\t\t\t\t\t\tjustifyContent: \"SpaceBetween\",\n\t\t\t\t\t\t\t\talignItems: \"Center\",\n\t\t\t\t\t\t\t\twidth: \"100%\",\n\t\t\t\t\t\t\t\titems: [\n\t\t\t\t\t\t\t\t\tnew ObjectIdentifier({\n\t\t\t\t\t\t\t\t\t\ttitle: \"{title}\",\n\t\t\t\t\t\t\t\t\t\ttext: \"{text}\",\n\t\t\t\t\t\t\t\t\t\ttooltip: \"{title}\"\n\t\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t\t\tnew ToggleButton({\n\t\t\t\t\t\t\t\t\t\ttooltip:\n\t\t\t\t\t\t\t\t\t\t\t\"{= ${visible} ? '\" +\n\t\t\t\t\t\t\t\t\t\t\tthis._i18nBundle.getText(\"hideBtn\") +\n\t\t\t\t\t\t\t\t\t\t\t\"' : '\" +\n\t\t\t\t\t\t\t\t\t\t\tthis._i18nBundle.getText(\"showBtn\") +\n\t\t\t\t\t\t\t\t\t\t\t\"' }\",\n\t\t\t\t\t\t\t\t\t\ticon: \"sap-icon://show\",\n\t\t\t\t\t\t\t\t\t\ttype: \"Emphasized\",\n\t\t\t\t\t\t\t\t\t\tenabled: \"{= !${blocked}}\",\n\t\t\t\t\t\t\t\t\t\tpress: (event: Event) => {\n\t\t\t\t\t\t\t\t\t\t\tvoid this.createShowHideChangeFile(event);\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\tpressed: \"{= !${visible}}\",\n\t\t\t\t\t\t\t\t\t\tariaLabelledBy: [\"selectLabel\"]\n\t\t\t\t\t\t\t\t\t}).addStyleClass(\"sapUiTinyMarginEnd sapUiTinyMarginTop\")\n\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t],\n\t\t\t\t\t\twidth: \"100%\"\n\t\t\t\t\t})\n\t\t\t\t]\n\t\t\t}).addStyleClass(\"insightsListItem insightsListMargin\")\n\t\t});\n\n\t\t// attach collapse event handler to rearrange layout elements if required\n\t\tif (!this._isCollapseHandlerAttached) {\n\t\t\tlayout.attachEvent(\"onCollapse\", () => this._rearrangeLayoutIfRequired());\n\t\t}\n\t}\n\n\t/**\n\t * Rearranges the layout elements if their order has changed.\n\t *\n\t * @private\n\t */\n\tprivate _rearrangeLayoutIfRequired(): void {\n\t\tconst layout = this._getPanel() as Layout;\n\t\tconst currentLayoutElements = layout.getItems();\n\n\t\tif (Array.isArray(this._allLayoutElements) && currentLayoutElements.length === this._allLayoutElements.length) {\n\t\t\tconst isOrderChanged = currentLayoutElements.some((element, index) => {\n\t\t\t\treturn element.getId() !== this._allLayoutElements[index].getId();\n\t\t\t});\n\n\t\t\tif (isOrderChanged) {\n\t\t\t\tlayout.removeAllItems();\n\t\t\t\tthis._allLayoutElements.forEach((element) => {\n\t\t\t\t\tlayout.addItem(element);\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Returns the content for the Layout Settings Panel.\n\t *\n\t * @private\n\t * @returns {VBox} The control containing the Layout Settings Panel content.\n\t */\n\tprivate _getContent(): VBox {\n\t\tconst oHeader = this._setHeaderIntro();\n\t\tconst oTable = this.setLayoutTable();\n\n\t\tconst oContentVBox = new VBox(this.getId() + \"--idNewsPageOuterVBoX\", {\n\t\t\talignItems: \"Start\",\n\t\t\tjustifyContent: \"SpaceBetween\",\n\t\t\trenderType: \"Bare\",\n\t\t\titems: [oHeader, oTable]\n\t\t});\n\t\treturn oContentVBox;\n\t}\n\n\t/**\n\t * Returns the content for the Layout Settings Panel Header.\n\t *\n\t * @private\n\t * @returns {VBox} The control containing the Layout Settings Panel's Header content.\n\t */\n\tprivate _setHeaderIntro(): VBox {\n\t\tconst oHeaderText = new Text(this.getId() + \"--idCustLayoutText\", {\n\t\t\ttext: this._i18nBundle.getText(\"layoutIntroMsg\")\n\t\t});\n\t\tconst oHeaderVBox = new VBox(this.getId() + \"--idLayoutIntroText\", {\n\t\t\tbackgroundDesign: \"Solid\",\n\t\t\talignItems: \"Start\",\n\t\t\tjustifyContent: \"SpaceBetween\",\n\t\t\titems: [oHeaderText],\n\t\t\trenderType: \"Bare\"\n\t\t}).addStyleClass(\"sapUiSmallMargin\");\n\t\treturn oHeaderVBox;\n\t}\n\n\t/**\n\t * Returns the content for the Layout Table.\n\t *\n\t * @private\n\t * @returns {sap.ui.core.Control} The control containing the Layout Settings Panel'sTable.\n\t */\n\tprivate setLayoutTable(): Table {\n\t\tif (!this._layoutTable) {\n\t\t\tthis._layoutTable = new Table(this.getId() + \"--idManageSectionsTable\", {\n\t\t\t\twidth: \"calc(100% - 2rem)\",\n\t\t\t\titems: [],\n\n\t\t\t\tcolumns: [\n\t\t\t\t\tnew Column(this.getId() + \"--idSectionTitleColumn\", {\n\t\t\t\t\t\twidth: \"100%\"\n\t\t\t\t\t})\n\t\t\t\t],\n\t\t\t\tdragDropConfig: new DragDropInfo(this.getId() + \"--idManageSectionsDragInfo\", {\n\t\t\t\t\tsourceAggregation: \"items\",\n\t\t\t\t\ttargetAggregation: \"items\",\n\t\t\t\t\tgroupName: \"manageSectionsItems\",\n\t\t\t\t\tdropPosition: \"On\",\n\t\t\t\t\tdrop: (event: DropInfo$DropEvent) => {\n\t\t\t\t\t\tvoid this.onDropManageSections(event);\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t}).addStyleClass(\"sapContrastPlus sapUiSmallMarginBeginEnd sapUiTinyMarginBottom\");\n\t\t}\n\n\t\treturn this._layoutTable;\n\t}\n\n\t/**\n\t * Function to save section changes of MyHomeSettingsDialog\n\t *\n\t * @private\n\t */\n\tprivate async _saveManageSectionsDialog(): Promise<void> {\n\t\treturn this._persistUserChanges({\n\t\t\tchanges: this._manageSectionsChanges,\n\t\t\tappComponent: PersonalisationUtils.getOwnerComponent(this._getPanel() as Layout)\n\t\t})\n\t\t\t.then(() => {\n\t\t\t\tconst tableModel = this._layoutTable.getModel() as JSONModel;\n\t\t\t\ttableModel.refresh();\n\t\t\t\tthis._controlModel.refresh();\n\t\t\t})\n\t\t\t.finally(() => {\n\t\t\t\tthis._manageSectionsChanges = [];\n\t\t\t});\n\t}\n\n\t/**\n\t * Function to persist user changes\n\t *\n\t * @private\n\t */\n\tprivate _persistUserChanges(mProperties: { changes: IManagePersChanges[]; appComponent: Component | undefined }): Promise<void> {\n\t\treturn Lib.load({ name: \"sap.ui.fl\" }).then(function () {\n\t\t\treturn new Promise(function (resolve, reject) {\n\t\t\t\tsap.ui.require(\n\t\t\t\t\t[\"sap/ui/fl/write/api/ControlPersonalizationWriteAPI\"],\n\t\t\t\t\tfunction (ControlPersonalizationWriteAPI: IControlPersonalizationWriteAPI) {\n\t\t\t\t\t\tControlPersonalizationWriteAPI.add({\n\t\t\t\t\t\t\tchanges: mProperties.changes,\n\t\t\t\t\t\t\tignoreVariantManagement: true\n\t\t\t\t\t\t})\n\t\t\t\t\t\t\t.then(function (aGeneratedChanges) {\n\t\t\t\t\t\t\t\treturn resolve(\n\t\t\t\t\t\t\t\t\tControlPersonalizationWriteAPI.save({\n\t\t\t\t\t\t\t\t\t\tselector: {\n\t\t\t\t\t\t\t\t\t\t\tappComponent: mProperties.appComponent\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\tchanges: aGeneratedChanges\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t.catch(function (oError) {\n\t\t\t\t\t\t\t\tif (oError instanceof Error) {\n\t\t\t\t\t\t\t\t\tLog.error(\"Unable to Save User Change: \" + oError.message);\n\t\t\t\t\t\t\t\t\treturn reject(oError);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t});\n\t\t});\n\t}\n\n\t/**\n\t * Retrieves the actual index of a layout element by its ID.\n\t *\n\t * @private\n\t * @param {string} id - The ID of the layout element to find.\n\t * @returns {number} The index of the layout element.\n\t */\n\tprivate _getActualIndex(id: string): number {\n\t\tconst layout = this._getPanel() as Layout;\n\t\tthis._allLayoutElements = this._allLayoutElements || [...layout.getItems()];\n\t\tconst isLayoutExpanded = layout.getProperty(\"expanded\") as boolean;\n\t\tconst expandedElementConfig = layout._getCurrentExpandedElement();\n\n\t\tif (isLayoutExpanded && expandedElementConfig) {\n\t\t\t// add the expanded element if it isn't already in the list\n\t\t\tif (!this._allLayoutElements.some((element) => element.getId() === expandedElementConfig.targetContainer.getId())) {\n\t\t\t\tthis._allLayoutElements.splice(\n\t\t\t\t\tlayout.indexOfItem(expandedElementConfig.targetContainer),\n\t\t\t\t\t0,\n\t\t\t\t\texpandedElementConfig.targetContainer\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\treturn this._allLayoutElements.findIndex((element) => element.getId() === id);\n\t}\n\n\t/**\n\t * Rearranges the layout elements by moving an element from the source index to the target index.\n\t *\n\t * @private\n\t * @param {number} sourceIndex - The index of the element to move.\n\t * @param {number} targetIndex - The index to move the element to.\n\t */\n\tprivate _rearrangeLayoutElements(sourceIndex: number, targetIndex: number): void {\n\t\tconst container = this._allLayoutElements.splice(sourceIndex, 1)[0];\n\t\tthis._allLayoutElements.splice(targetIndex, 0, container);\n\t}\n\n\t/**\n\t * Function to execute drag and drop among sections\n\t *\n\t * @private\n\t */\n\tprivate async onDropManageSections(oEvent: DropInfo$DropEvent | IDragEvent): Promise<void> {\n\t\tconst oWrapper = this._getPanel() as Layout;\n\t\tconst wrapperId = oWrapper.getId();\n\t\tconst oDragItem = ((oEvent as DropInfo$DropEvent).getParameter?.(\"draggedControl\") ||\n\t\t\t(oEvent as IDragEvent).draggedControl) as ColumnListItem;\n\t\tconst iDragItemIndex = (oDragItem.getParent() as Table)?.indexOfItem(oDragItem);\n\t\tconst oDropItem = ((oEvent as DropInfo$DropEvent).getParameter?.(\"droppedControl\") ||\n\t\t\t(oEvent as IDragEvent).droppedControl) as ColumnListItem;\n\t\tconst iDropItemIndex = (oDragItem.getParent() as Table)?.indexOfItem(oDropItem);\n\n\t\tif (iDragItemIndex !== iDropItemIndex) {\n\t\t\tconst sectionOrder = this._orderedSections;\n\t\t\tconst dragObject = oDragItem.getBindingContext()?.getObject() as IElement;\n\t\t\tconst dropObject = oDropItem.getBindingContext()?.getObject() as IElement;\n\n\t\t\tconst actualDragItemIndex = this._getActualIndex(dragObject.completeId);\n\t\t\tconst actualDropItemIndex = this._getActualIndex(dropObject.completeId);\n\t\t\tthis._rearrangeLayoutElements(actualDragItemIndex, actualDropItemIndex);\n\n\t\t\tsectionOrder.splice(iDragItemIndex, 1);\n\t\t\tsectionOrder.splice(iDropItemIndex, 0, dragObject);\n\t\t\toWrapper.setSections(sectionOrder);\n\n\t\t\tthis._manageSectionsChanges.push({\n\t\t\t\tselectorElement: oWrapper,\n\t\t\t\tchangeSpecificData: {\n\t\t\t\t\tchangeType: CHANGE_TYPES.MOVE,\n\t\t\t\t\tmovedElements: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tid: dragObject.completeId,\n\t\t\t\t\t\t\tsourceIndex: actualDragItemIndex,\n\t\t\t\t\t\t\ttargetIndex: actualDropItemIndex\n\t\t\t\t\t\t}\n\t\t\t\t\t],\n\t\t\t\t\tsource: {\n\t\t\t\t\t\tid: wrapperId,\n\t\t\t\t\t\taggregation: \"items\"\n\t\t\t\t\t},\n\t\t\t\t\ttarget: {\n\t\t\t\t\t\tid: wrapperId,\n\t\t\t\t\t\taggregation: \"items\"\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tawait this._saveManageSectionsDialog();\n\n\t\t\t//switch to collapsed view if any of the containers is in expanded view\n\t\t\tconst draggedContainer = Element.getElementById(dragObject.completeId) as BaseContainer;\n\t\t\tconst droppedContainer = Element.getElementById(dropObject.completeId) as BaseContainer;\n\t\t\tthis._switchToCollapsedViewIfRequired([draggedContainer, droppedContainer]);\n\t\t}\n\t}\n\n\t/**\n\t * Function to reset MyHome settings changes\n\t *\n\t * @private\n\t */\n\tprivate resetMyhomeSettings(): void {\n\t\tMessageBox.show(this._i18nBundle.getText(\"reset_cards_confirmation_msg\") as string, {\n\t\t\tid: \"resetCardsConfirmation\",\n\t\t\ticon: MessageBox.Icon.QUESTION,\n\t\t\ttitle: this._i18nBundle.getText(\"reset_cards_confirmation_title\"),\n\t\t\tactions: [this._i18nBundle.getText(\"reset_cards_button\") as string, MessageBox.Action.CANCEL],\n\t\t\tonClose: async (oAction: string) => {\n\t\t\t\tif (oAction === this._i18nBundle.getText(\"reset_cards_button\")) {\n\t\t\t\t\tconst aChangesForDeletion: (BaseContainer | BaseLayout)[] = [];\n\n\t\t\t\t\tfor (let section of this._orderedSections) {\n\t\t\t\t\t\tconst element = Element.getElementById(section.completeId) as BaseContainer;\n\t\t\t\t\t\taChangesForDeletion.push(element);\n\t\t\t\t\t}\n\t\t\t\t\t// Revert Changes Related to DragnDrop\n\t\t\t\t\taChangesForDeletion.push(this._getPanel() as Layout);\n\t\t\t\t\tawait Lib.load({ name: \"sap.ui.fl\" }).then(() => {\n\t\t\t\t\t\tsap.ui.require(\n\t\t\t\t\t\t\t[\"sap/ui/fl/write/api/ControlPersonalizationWriteAPI\"],\n\t\t\t\t\t\t\t(ControlPersonalizationWriteAPI: IControlPersonalizationWriteAPI) => {\n\t\t\t\t\t\t\t\tvoid ControlPersonalizationWriteAPI.reset({\n\t\t\t\t\t\t\t\t\tselectors: aChangesForDeletion,\n\t\t\t\t\t\t\t\t\tchangeTypes: [CHANGE_TYPES.MOVE, CHANGE_TYPES.UNHIDE, CHANGE_TYPES.HIDE]\n\t\t\t\t\t\t\t\t}).finally(() => {\n\t\t\t\t\t\t\t\t\tconst layout = this._getPanel() as Layout;\n\t\t\t\t\t\t\t\t\tlayout.resetSections();\n\t\t\t\t\t\t\t\t\tlayout.closeSettingsDialog();\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n}\n"],"mappings":"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","ignoreList":[],"sourceRoot":""}},{"offset":{"line":220,"column":0},"map":{"version":3,"file":"MenuItem.js","names":["sap","ui","define","Element","MenuItem","extend","metadata","library","properties","title","type","group","defaultValue","visibility","icon","visible","events","press","constructor","_constructor","id","settings","Element.prototype.constructor.call","this"],"sources":["MenuItem.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\n\nimport type { MetadataOptions } from \"sap/ui/core/Element\";\nimport Element from \"sap/ui/core/Element\";\nimport { $MenuItemSettings } from \"./MenuItem\";\n\n/**\n *\n * Class for managing and storing menu items.\n *\n * @extends Element\n *\n * @author SAP SE\n * @version 0.0.1\n * @since 1.121\n *\n * @internal\n * @experimental Since 1.121\n * @public\n *\n * @alias sap.cux.home.MenuItem\n */\nexport default class MenuItem extends Element {\n\tconstructor(id?: string | $MenuItemSettings);\n\tconstructor(id?: string, settings?: $MenuItemSettings);\n\t/**\n\t * Constructor for a new menu item.\n\t *\n\t * @param {string} [id] ID for the new control, generated automatically if an ID is not provided\n\t * @param {object} [settings] Initial settings for the new control\n\t */\n\tpublic constructor(id?: string, settings?: $MenuItemSettings) {\n\t\tsuper(id, settings);\n\t}\n\n\tstatic readonly metadata: MetadataOptions = {\n\t\tlibrary: \"sap.cux.home\",\n\t\tproperties: {\n\t\t\t/**\n\t\t\t * Title of the menu item.\n\t\t\t *\n\t\t\t * @public\n\t\t\t */\n\t\t\ttitle: { type: \"string\", group: \"Misc\", defaultValue: \"\", visibility: \"public\" },\n\t\t\t/**\n\t\t\t * Icon of the menu item.\n\t\t\t *\n\t\t\t * @public\n\t\t\t */\n\t\t\ticon: { type: \"sap.ui.core.URI\", group: \"Misc\", defaultValue: \"\", visibility: \"public\" },\n\t\t\t/**\n\t\t\t * Type of the menu item visualization in the menu list\n\t\t\t *\n\t\t\t * @public\n\t\t\t */\n\t\t\ttype: { type: \"string\", group: \"Misc\", defaultValue: \"Active\", visibility: \"public\" },\n\t\t\t/**\n\t\t\t * Visibility of the menu item in the menu list\n\t\t\t *\n\t\t\t * @public\n\t\t\t */\n\t\t\tvisible: { type: \"boolean\", group: \"Misc\", defaultValue: true, visibility: \"public\" }\n\t\t},\n\t\tevents: {\n\t\t\t/**\n\t\t\t * Fires whenever the menu item is pressed.\n\t\t\t *\n\t\t\t * @public\n\t\t\t */\n\t\t\tpress: {}\n\t\t}\n\t};\n}\n"],"mappings":"AAAA;;;;AAAA,aAAAA,IAAAC,GAAAC,OAAA,iCAAAC,GAAA,aASA,MAgBqBC,EAAiBD,EAAOE,OAAA,yBAa5BC,SAA4B,CAC3CC,QAAS,eACTC,WAAY,CAMXC,MAAO,CAAEC,KAAM,SAAUC,MAAO,OAAQC,aAAc,GAAIC,WAAY,UAMtEC,KAAM,CAAEJ,KAAM,kBAAmBC,MAAO,OAAQC,aAAc,GAAIC,WAAY,UAM9EH,KAAM,CAAEA,KAAM,SAAUC,MAAO,OAAQC,aAAc,SAAUC,WAAY,UAM3EE,QAAS,CAAEL,KAAM,UAAWC,MAAO,OAAQC,aAAc,KAAMC,WAAY,WAE5EG,OAAQ,CAMPC,MAAO,CAAC,IAtCHC,YAAW,SAAAC,EAACC,EAAaC,GAC/BC,6BAAAC,KAAMH,EAAIC,EACX,IAAC,OAXmBjB,CAAQ","ignoreList":[],"sourceRoot":""}},{"offset":{"line":227,"column":0},"map":{"version":3,"file":"NewsAndPagesContainer.js","names":["sap","ui","define","__BaseContainer","___utils_Device","_interopRequireDefault","obj","__esModule","default","BaseContainer","DeviceType","NewsAndPagesContainer","extend","metadata","properties","colorPersonalizations","type","group","defaultValue","visibility","iconPersonalizations","newsFeedVisibility","renderer","apiVersion","constructor","_constructor","id","settings","BaseContainer.prototype.constructor.call","this","panelLoaded","init","_init","BaseContainer.prototype.init.call","setProperty","onBeforeRendering","_onBeforeRendering","BaseContainer.prototype.onBeforeRendering.call","aContent","getContent","forEach","oContent","getData","setColorPersonalizations","_setColorPersonalizations","personalizations","existingPers","getProperty","updatedPers","concat","getMetadata","getName","applyColorPersonalizations","setIconPersonalizations","_setIconPersonalizations","applyIconPersonalizations","newsVisibilityChangeHandler","_newsVisibilityChangeHandler","personalization","newsPanel","isNewsFeedVisible","_getPanelContentWrapper","setVisible","newsPersonalization","_newsPersonalization","Boolean","url","newsFeedURL","showCustomNewsFeed","customNewsFeedKey","customNewsFeedFileName","customFeedKey","String","showCustom","setCustomNewsFeed","setURL","panelLoadedFn","_panelLoadedFn","sPanelType","oVal","pagePanel","adjustLayout","adjustStyleLayout","_adjustStyleLayout","bIsNewsTileVisible","sDeviceType","getDeviceType","newsContentWrapper","undefined","pagesContentWrapper","containerWrapper","_getInnerControl","Desktop","LargeDesktop","setWidth","setAlignItems","setDirection","addStyleClass","Tablet","setTimeout","attachResizeHandler","bind","getDomRef","clientWidth","_adjustLayout","getVisible","loaded","removeContent"],"sources":["NewsAndPagesContainer.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\n\nimport FlexBox from \"sap/m/FlexBox\";\nimport type { MetadataOptions } from \"sap/ui/core/Element\";\nimport BaseContainer, { $BaseContainerSettings } from \"./BaseContainer\";\nimport BasePanel from \"./BasePanel\";\nimport NewsPanel from \"./NewsPanel\";\nimport PagePanel from \"./PagePanel\";\nimport { INewsFeedVisibiliyChange, INewsPersData, ISpacePagePersonalization } from \"./interface/KeyUserInterface\";\nimport { DeviceType } from \"./utils/Device\";\n\ninterface IpanelLoaded {\n\t[key: string]: { loaded: boolean; count: number };\n}\n\n/**\n *\n * Container class for managing and storing News and Pages.\n *\n * @extends sap.cux.home.BaseContainer\n *\n * @author SAP SE\n * @version 0.0.1\n * @since 1.121\n *\n * @internal\n * @experimental Since 1.121\n * @public\n *\n * @alias sap.cux.home.NewsAndPagesContainer\n */\n\nexport default class NewsAndPagesContainer extends BaseContainer {\n\tstatic renderer = {\n\t\t...BaseContainer.renderer,\n\t\tapiVersion: 2\n\t};\n\tstatic readonly metadata: MetadataOptions = {\n\t\tproperties: {\n\t\t\t/**\n\t\t\t * Color Personalizations for Spaces & Pages\n\t\t\t */\n\t\t\tcolorPersonalizations: { type: \"array\", group: \"Misc\", defaultValue: [], visibility: \"hidden\" },\n\t\t\t/**\n\t\t\t * Icon Personalizations for Spaces & Pages\n\t\t\t */\n\t\t\ticonPersonalizations: { type: \"array\", group: \"Misc\", defaultValue: [], visibility: \"hidden\" },\n\t\t\t/**\n\t\t\t * News feed visibility flag\n\t\t\t */\n\t\t\tnewsFeedVisibility: { type: \"boolean\", group: \"Misc\", defaultValue: true, visibility: \"hidden\" }\n\t\t}\n\t};\n\n\tprivate panelLoaded: IpanelLoaded = {};\n\tprivate pagePanel!: PagePanel;\n\tprivate newsPanel!: NewsPanel;\n\n\tconstructor(idOrSettings?: string | $BaseContainerSettings);\n\tconstructor(id?: string, settings?: $BaseContainerSettings);\n\t/**\n\t * Constructor for the new News and Pages container.\n\t *\n\t * @param {string} [id] ID for the new control, generated automatically if an ID is not provided\n\t * @param {object} [settings] Initial settings for the new control\n\t */\n\tpublic constructor(id?: string, settings?: $BaseContainerSettings) {\n\t\tsuper(id, settings);\n\t}\n\n\t/**\n\t * Init lifecycle method\n\t *\n\t * @private\n\t * @override\n\t */\n\tpublic init(): void {\n\t\tsuper.init();\n\n\t\tthis.panelLoaded = {};\n\t\tthis.setProperty(\"layout\", \"Horizontal\");\n\t}\n\n\tpublic onBeforeRendering() {\n\t\tsuper.onBeforeRendering();\n\t\tconst aContent = this.getContent() as PagePanel[];\n\t\taContent.forEach((oContent) => {\n\t\t\tvoid oContent.getData();\n\t\t});\n\t}\n\n\t/**\n\t * Sets property value for colorPersonalization.\n\t * Overridden to update cached personalizations.\n\t *\n\t * @public\n\t * @override\n\t * @returns {NewsAndPagesContainer} the container for chaining\n\t */\n\tsetColorPersonalizations(personalizations: Array<ISpacePagePersonalization>): NewsAndPagesContainer {\n\t\tconst existingPers = (this.getProperty(\"colorPersonalizations\") as ISpacePagePersonalization[]) || [];\n\t\tconst updatedPers = existingPers.concat(personalizations);\n\t\tthis.setProperty(\"colorPersonalizations\", updatedPers);\n\t\tthis.getContent().forEach((oContent) => {\n\t\t\tif (oContent.getMetadata().getName() === \"sap.cux.home.PagePanel\") {\n\t\t\t\t(oContent as PagePanel).applyColorPersonalizations(updatedPers);\n\t\t\t}\n\t\t});\n\t\treturn this;\n\t}\n\n\t/**\n\t * Sets property value for iconPersonalization.\n\t * Overridden to update cached personalizations.\n\t *\n\t * @public\n\t * @override\n\t * @returns {NewsAndPagesContainer} the container for chaining\n\t */\n\tsetIconPersonalizations(personalizations: Array<ISpacePagePersonalization>): NewsAndPagesContainer {\n\t\tconst existingPers = (this.getProperty(\"iconPersonalizations\") as ISpacePagePersonalization[]) || [];\n\t\tconst updatedPers = existingPers.concat(personalizations);\n\t\tthis.setProperty(\"iconPersonalizations\", updatedPers);\n\t\tthis.getContent().forEach((oContent) => {\n\t\t\tif (oContent.getMetadata().getName() === \"sap.cux.home.PagePanel\") {\n\t\t\t\t(oContent as PagePanel).applyIconPersonalizations(updatedPers);\n\t\t\t}\n\t\t});\n\t\treturn this;\n\t}\n\n\tpublic newsVisibilityChangeHandler(personalization: INewsFeedVisibiliyChange) {\n\t\tconst aContent = this.getContent();\n\t\taContent.forEach((oContent: BasePanel) => {\n\t\t\tif (oContent.getMetadata().getName() === \"sap.cux.home.NewsPanel\") {\n\t\t\t\tlet newsPanel = oContent as NewsPanel;\n\t\t\t\tif (personalization.isNewsFeedVisible) {\n\t\t\t\t\tthis.setProperty(\"newsFeedVisibility\", true);\n\t\t\t\t\tthis._getPanelContentWrapper(newsPanel).setVisible(true);\n\t\t\t\t} else {\n\t\t\t\t\tthis.setProperty(\"newsFeedVisibility\", false);\n\t\t\t\t\tthis._getPanelContentWrapper(newsPanel).setVisible(false);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\tpublic newsPersonalization(personalizations: INewsPersData) {\n\t\tconst aContent = this.getContent();\n\t\taContent.forEach((oContent: BasePanel) => {\n\t\t\tif (oContent.getMetadata().getName() === \"sap.cux.home.NewsPanel\") {\n\t\t\t\tlet newsPanel = oContent as NewsPanel;\n\t\t\t\tconst newsFeedVisibility = Boolean(this.getProperty(\"newsFeedVisibility\"));\n\t\t\t\tconst url = personalizations.newsFeedURL;\n\t\t\t\tnewsPanel.setProperty(\"url\", personalizations.newsFeedURL);\n\t\t\t\tnewsPanel.setProperty(\"showCustom\", personalizations.showCustomNewsFeed);\n\t\t\t\tnewsPanel.setProperty(\"customFeedKey\", personalizations.customNewsFeedKey);\n\t\t\t\tnewsPanel.setProperty(\"customFileName\", personalizations.customNewsFeedFileName);\n\n\t\t\t\tif (newsFeedVisibility) {\n\t\t\t\t\tthis._getPanelContentWrapper(newsPanel).setVisible(true);\n\t\t\t\t\tconst customFeedKey = String(newsPanel.getProperty(\"customFeedKey\"));\n\t\t\t\t\tconst showCustom = Boolean(newsPanel.getProperty(\"showCustom\"));\n\t\t\t\t\tif (showCustom && customFeedKey) {\n\t\t\t\t\t\tnewsPanel.setProperty(\"newsAvailable\", true);\n\t\t\t\t\t\tvoid newsPanel.setCustomNewsFeed(customFeedKey);\n\t\t\t\t\t} else if (!showCustom && url) {\n\t\t\t\t\t\tvoid newsPanel.setURL(url);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis._getPanelContentWrapper(newsPanel).setVisible(false);\n\t\t\t\t\t\tthis.setProperty(\"newsFeedVisibility\", false);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\tpublic panelLoadedFn(sPanelType: string, oVal: { loaded: boolean; count: number }) {\n\t\t// same issue of panelwrapper not available at this time\n\t\tconst aContent = this.getContent();\n\t\taContent.forEach((oContent: BasePanel) => {\n\t\t\tif (oContent.getMetadata().getName() === \"sap.cux.home.PagePanel\") {\n\t\t\t\tthis.pagePanel = oContent as PagePanel;\n\t\t\t} else if (oContent.getMetadata().getName() === \"sap.cux.home.NewsPanel\") {\n\t\t\t\tthis.newsPanel = oContent as NewsPanel;\n\t\t\t}\n\t\t});\n\t\tthis.panelLoaded[sPanelType] = oVal;\n\t\tthis.adjustLayout();\n\t}\n\n\tpublic adjustStyleLayout(bIsNewsTileVisible: boolean) {\n\t\tconst sDeviceType = this.getDeviceType();\n\t\tconst newsContentWrapper = this.newsPanel ? this._getPanelContentWrapper(this.newsPanel) : undefined;\n\t\tconst pagesContentWrapper = this.pagePanel ? this._getPanelContentWrapper(this.pagePanel) : undefined;\n\t\tconst containerWrapper = this._getInnerControl() as FlexBox;\n\t\tif (sDeviceType === DeviceType.Desktop || sDeviceType === DeviceType.LargeDesktop) {\n\t\t\tif (bIsNewsTileVisible) {\n\t\t\t\tpagesContentWrapper?.setWidth(\"50vw\");\n\t\t\t}\n\t\t\tcontainerWrapper.setAlignItems(\"Center\");\n\t\t\tcontainerWrapper.setDirection(\"Row\");\n\t\t\tnewsContentWrapper?.setWidth(\"100%\");\n\t\t\tnewsContentWrapper?.addStyleClass(\"sapMNewsFlex\");\n\t\t} else if (sDeviceType === DeviceType.Tablet) {\n\t\t\tpagesContentWrapper?.setWidth(\"100%\");\n\t\t\tnewsContentWrapper?.setWidth(\"calc(100vw - 64px)\");\n\t\t\tcontainerWrapper.setAlignItems(\"Baseline\");\n\t\t\tcontainerWrapper.setDirection(\"Column\");\n\t\t}\n\n\t\tif (pagesContentWrapper) {\n\t\t\tsetTimeout(\n\t\t\t\tthis.pagePanel.attachResizeHandler.bind(\n\t\t\t\t\tthis.pagePanel,\n\t\t\t\t\tbIsNewsTileVisible,\n\t\t\t\t\tthis.getDomRef()?.clientWidth || 0,\n\t\t\t\t\tpagesContentWrapper,\n\t\t\t\t\tcontainerWrapper\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\t}\n\n\t/**\n\t * Adjusts the layout of the all panels in the container.\n\t *\n\t * @private\n\t * @override\n\t */\n\tpublic adjustLayout() {\n\t\tif (this.pagePanel && this.newsPanel && this._getPanelContentWrapper(this.newsPanel).getVisible()) {\n\t\t\tif (this.panelLoaded[\"Page\"]?.loaded && this.panelLoaded[\"News\"]?.loaded) {\n\t\t\t\t// If Both Panels are available wait for both panels are successfully loaded to apply styling\n\t\t\t\tconst bIsNewsTileVisible = true;\n\t\t\t\tthis.adjustStyleLayout(bIsNewsTileVisible);\n\t\t\t} else if (this.panelLoaded[\"News\"]?.loaded === false) {\n\t\t\t\t// In case News Panel fails to load remove the panel and apply styles for page to take full width\n\t\t\t\tconst bIsNewsTileVisible = false;\n\t\t\t\tthis.removeContent(this.newsPanel);\n\t\t\t\tthis.adjustStyleLayout(bIsNewsTileVisible);\n\t\t\t} else if (this.panelLoaded[\"Page\"]?.loaded === false) {\n\t\t\t\tthis.removeContent(this.pagePanel);\n\t\t\t}\n\t\t} else if (this.pagePanel && this.panelLoaded[\"Page\"]?.loaded) {\n\t\t\t// If News Panel is not present apply styles for page to take full width\n\t\t\tconst bIsNewsTileVisible = false;\n\t\t\tthis.adjustStyleLayout(bIsNewsTileVisible);\n\t\t}\n\t}\n}\n"],"mappings":"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","ignoreList":[],"sourceRoot":""}},{"offset":{"line":234,"column":0},"map":{"version":3,"file":"NewsGroup.js","names":["sap","ui","define","Button","CustomListItem","Dialog","HBox","Image","Label","Link","List","Text","Title","VBox","CustomData","Element","__BaseNewsItem","_interopRequireDefault","obj","__esModule","default","BaseNewsItem","NewsGroup","extend","metadata","library","aggregations","newsItems","type","singularName","multiple","constructor","_constructor","id","settings","BaseNewsItem.prototype.constructor.call","this","init","_init","BaseNewsItem.prototype.init.call","_oTile","attachPress","pressNewsItem","bind","createNewsGroupDialog","_pressNewsItem","openNewsGroupDialog","_openNewsGroupDialog","_this","oNewsList","setBusy","oNewsPanel","getParent","sImageUrl","getImageUrl","aFavNewsFeed","getFavNewsFeed","oNewsConfig","changeId","getCustomFeedKey","title","getTitle","showAllPreparationRequired","oNewsGroupDialog","open","sNewsFeedURL","getNewsFeedDetailsUrl","Promise","resolve","getAuthNewsFeed","then","_oNewsPanel$getAuthNe","aData","setTitle","oNewsGroupImage","setSrc","loadNewsDetails","e","reject","_loadNewsDetails","aNewsDetails","destroyAggregation","forEach","oItem","i","oCustomListItem","generateNewsListTemplate","addItem","_generateNewsListTemplate","oFieldVBox","getId","addStyleClass","expandFields","oField","items","text","label","tooltip","value","setVisible","content","titleStyle","Description","Type","_i18nBundle","getText","href","target","press","handleShowNewsFeedDetails","customData","key","_createNewsGroupDialog","width","height","src","contentWidth","contentHeight","buttons","closeNewsGroupDialog","_closeNewsGroupDialog","close","_handleShowNewsFeedDetails","oEvent","listItemIndex","getSource","data","fieldsVBox","getElementById","fieldExpanded","getVisible","sButtonShowText","setText"],"sources":["NewsGroup.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\n\nimport Button from \"sap/m/Button\";\nimport CustomListItem from \"sap/m/CustomListItem\";\nimport Dialog from \"sap/m/Dialog\";\nimport HBox from \"sap/m/HBox\";\nimport Image from \"sap/m/Image\";\nimport Label from \"sap/m/Label\";\nimport Link from \"sap/m/Link\";\nimport List from \"sap/m/List\";\nimport Text from \"sap/m/Text\";\nimport Title from \"sap/m/Title\";\nimport VBox from \"sap/m/VBox\";\nimport Event from \"sap/ui/base/Event\";\nimport CustomData from \"sap/ui/core/CustomData\";\nimport type { MetadataOptions } from \"sap/ui/core/Element\";\nimport Element from \"sap/ui/core/Element\";\nimport BaseNewsItem from \"./BaseNewsItem\";\nimport { $NewsGroupSettings } from \"./NewsGroup\";\nimport NewsPanel, { ICustomNewsFeed, INewsItem, INewsLink, INewsParam } from \"./NewsPanel\";\n\n/**\n *\n * Class for managing and storing News Group items.\n *\n * @extends sap.cux.home.BaseNewsItem\n *\n * @author SAP SE\n * @version 0.0.1\n * @since 1.121\n *\n * @internal\n * @experimental Since 1.121\n * @private\n *\n * @alias sap.cux.home.NewsGroup\n */\nexport default class NewsGroup extends BaseNewsItem {\n\tprivate oNewsGroupDialog!: Dialog;\n\tprivate oNewsGroupImage!: Image;\n\tprivate oNewsList!: List;\n\n\tconstructor(idOrSettings?: string | $NewsGroupSettings);\n\tconstructor(id?: string, settings?: $NewsGroupSettings);\n\tconstructor(id?: string, settings?: $NewsGroupSettings) {\n\t\tsuper(id, settings);\n\t}\n\n\tstatic readonly metadata: MetadataOptions = {\n\t\tlibrary: \"sap.cux.home\",\n\t\taggregations: {\n\t\t\t/**\n\t\t\t * newsItems aggregation of the news. These items will be shown in a dialog on click of the news\n\t\t\t */\n\t\t\tnewsItems: { type: \"sap.cux.home.NewsItem\", singularName: \"newsItem\", multiple: true }\n\t\t}\n\t};\n\n\t/**\n\t * Init lifecycle method\n\t *\n\t * @private\n\t * @override\n\t */\n\tpublic init(): void {\n\t\tsuper.init();\n\t\tthis._oTile.attachPress(this, this.pressNewsItem.bind(this));\n\t\tthis.createNewsGroupDialog();\n\t}\n\n\t/**\n\t * Handles the press event on the news item, opens the dialog.\n\t * @returns {void}\n\t */\n\tprivate pressNewsItem(): void {\n\t\tvoid this.openNewsGroupDialog();\n\t}\n\n\t/**\n\t * Opens the dialog for news details\n\t * @returns {Promise<void>}\n\t */\n\tprivate async openNewsGroupDialog(): Promise<void> {\n\t\tthis.oNewsList.setBusy(true);\n\t\tconst oNewsPanel = this.getParent() as NewsPanel;\n\n\t\tconst sImageUrl = this.getImageUrl();\n\t\tconst aFavNewsFeed = oNewsPanel.getFavNewsFeed();\n\t\tconst oNewsConfig: INewsItem = {\n\t\t\tchangeId: oNewsPanel.getCustomFeedKey(),\n\t\t\ttitle: this.getTitle(),\n\t\t\tshowAllPreparationRequired: !aFavNewsFeed ? true : aFavNewsFeed.showAllPreparationRequired\n\t\t};\n\t\tthis.oNewsGroupDialog.open();\n\t\tconst sNewsFeedURL = oNewsPanel.getNewsFeedDetailsUrl(oNewsConfig);\n\n\t\tconst aData = (await oNewsPanel.getAuthNewsFeed(sNewsFeedURL)) as ICustomNewsFeed[];\n\t\tthis.oNewsGroupDialog.setTitle(this.getTitle());\n\t\tthis.oNewsGroupImage.setSrc(sImageUrl);\n\t\tthis.loadNewsDetails(aData);\n\t}\n\n\t/**\n\t * Iterate through the provided news details data and loads the news items\n\t * @param {ICustomNewsFeed[]} aNewsDetails array of news items to be shown in the list\n\t * @returns {void}\n\t */\n\tprivate loadNewsDetails(aNewsDetails: ICustomNewsFeed[]): void {\n\t\tthis.oNewsList.destroyAggregation(\"items\", true);\n\t\t(aNewsDetails || []).forEach((oItem: ICustomNewsFeed, i: number) => {\n\t\t\tconst oCustomListItem = this.generateNewsListTemplate(oItem, i);\n\t\t\tthis.oNewsList.addItem(oCustomListItem);\n\t\t});\n\t\tthis.oNewsList.setBusy(false);\n\t}\n\n\t/**\n\t * Generates the custom list item templates for the news details\n\t * @param {ICustomNewsFeed} oItem news feed item for binding the template\n\t * @param {number} i index of the item\n\t * @returns {CustomListItem} the template of list item to be shown in the dialog\n\t */\n\tprivate generateNewsListTemplate(oItem: ICustomNewsFeed, i: number): CustomListItem {\n\t\tconst oFieldVBox = new VBox(this.getId() + \"--idNewsFieldsBox\" + \"--\" + i).addStyleClass(\"newsListItemContainer\");\n\n\t\t((oItem?.expandFields as INewsLink[]) || []).forEach((oField) => {\n\t\t\toFieldVBox.addItem(\n\t\t\t\tnew HBox(\"\", {\n\t\t\t\t\titems: [\n\t\t\t\t\t\tnew Label(\"\", {\n\t\t\t\t\t\t\ttext: oField.label + \":\",\n\t\t\t\t\t\t\ttooltip: oField.label\n\t\t\t\t\t\t}),\n\t\t\t\t\t\tnew Text(\"\", {\n\t\t\t\t\t\t\ttext: oField.value\n\t\t\t\t\t\t})\n\t\t\t\t\t]\n\t\t\t\t}).addStyleClass(\"newsListItemContainer\")\n\t\t\t);\n\t\t});\n\t\toFieldVBox.setVisible(false);\n\n\t\treturn new CustomListItem(this.getId() + \"--idNewsDetailItem\" + \"--\" + i, {\n\t\t\tcontent: [\n\t\t\t\tnew VBox(\"\", {\n\t\t\t\t\titems: [\n\t\t\t\t\t\tnew Title(\"\", {\n\t\t\t\t\t\t\ttext: (oItem.Title as INewsLink).value,\n\t\t\t\t\t\t\ttitleStyle: \"H6\"\n\t\t\t\t\t\t}),\n\t\t\t\t\t\tnew Text(\"\", {\n\t\t\t\t\t\t\ttext: (oItem.Description as INewsLink).value\n\t\t\t\t\t\t}),\n\t\t\t\t\t\tnew HBox(\"\", {\n\t\t\t\t\t\t\titems: [\n\t\t\t\t\t\t\t\tnew Label(\"\", {\n\t\t\t\t\t\t\t\t\ttext: (oItem.Type as INewsLink).label + \":\",\n\t\t\t\t\t\t\t\t\ttooltip: (oItem.Type as INewsLink).label\n\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t\tnew Text(\"\", {\n\t\t\t\t\t\t\t\t\ttext: (oItem.Type as INewsLink).value\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t}).addStyleClass(\"newsListItemContainer\"),\n\t\t\t\t\t\tnew HBox(\"\", {\n\t\t\t\t\t\t\titems: [\n\t\t\t\t\t\t\t\tnew Label(\"\", {\n\t\t\t\t\t\t\t\t\ttext: this._i18nBundle.getText(\"readMoreLink\") + \":\",\n\t\t\t\t\t\t\t\t\ttooltip: (oItem.Link as INewsParam).value.label + \"\"\n\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t\tnew Link(\"\", {\n\t\t\t\t\t\t\t\t\thref: (oItem.Link as INewsParam).value.value + \"\",\n\t\t\t\t\t\t\t\t\ttext: (oItem.Link as INewsParam).text,\n\t\t\t\t\t\t\t\t\ttarget: \"_blank\"\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t}).addStyleClass(\"newsListItemContainer\"),\n\t\t\t\t\t\toFieldVBox,\n\t\t\t\t\t\tnew Button(\"\", {\n\t\t\t\t\t\t\ttext: this._i18nBundle.getText(\"expand\") as string,\n\t\t\t\t\t\t\tpress: this.handleShowNewsFeedDetails.bind(this),\n\t\t\t\t\t\t\tcustomData: new CustomData({\n\t\t\t\t\t\t\t\tkey: \"index\",\n\t\t\t\t\t\t\t\tvalue: i\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t})\n\t\t\t\t\t]\n\t\t\t\t}).addStyleClass(\"newsListItemContainer\")\n\t\t\t]\n\t\t}).addStyleClass(\"newsListItem\");\n\t}\n\n\t/**\n\t * Creates the dialog which contains the news detail items\n\t * @returns {void}\n\t */\n\tprivate createNewsGroupDialog(): void {\n\t\t//create the dialog template without binding\n\t\tthis.oNewsGroupImage = new Image(this.getId() + \"custNewsImage\", {\n\t\t\twidth: \"100%\",\n\t\t\theight: \"15rem\",\n\t\t\tsrc: \"/resources/sap/cux/home/img/CustomNewsFeed/SupplyChain/3.jpg\"\n\t\t});\n\t\tthis.oNewsList = new List(this.getId() + \"custNewsList\", {});\n\t\tthis.oNewsGroupDialog = new Dialog(this.getId() + \"custNewsFeedDetailsDialog\", {\n\t\t\ttitle: this.getTitle(),\n\t\t\tcontentWidth: \"52rem\",\n\t\t\tcontentHeight: \"100%\",\n\t\t\tcontent: [this.oNewsGroupImage, this.oNewsList],\n\t\t\tbuttons: [\n\t\t\t\tnew Button(this.getId() + \"custNewsFeedDetailsCloseBtn\", {\n\t\t\t\t\ttext: this._i18nBundle.getText(\"Close\"),\n\t\t\t\t\tpress: this.closeNewsGroupDialog.bind(this),\n\t\t\t\t\ttype: \"Transparent\"\n\t\t\t\t})\n\t\t\t]\n\t\t});\n\t}\n\n\t/**\n\t * Closes the news details dialog\n\t * @returns {void}\n\t */\n\tprivate closeNewsGroupDialog(): void {\n\t\tthis.oNewsGroupDialog.close();\n\t}\n\n\t/**\n\t * Handles the click on the show more button of news detail items in news group dialog\n\t * @param {Event} oEvent\n\t * @returns {void}\n\t */\n\tprivate handleShowNewsFeedDetails(oEvent: Event): void {\n\t\tconst listItemIndex = oEvent.getSource<Button>().data(\"index\") as number;\n\t\tconst fieldsVBox = Element.getElementById(this.getId() + \"--idNewsFieldsBox\" + \"--\" + listItemIndex) as VBox;\n\t\tconst fieldExpanded: boolean = fieldsVBox.getVisible();\n\t\tfieldsVBox.setVisible(!fieldExpanded);\n\t\tconst sButtonShowText = fieldExpanded\n\t\t\t? (this._i18nBundle.getText(\"expand\") as string)\n\t\t\t: (this._i18nBundle.getText(\"collapse\") as string);\n\t\toEvent.getSource<Button>().setText(sButtonShowText);\n\t}\n}\n"],"mappings":"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","ignoreList":[],"sourceRoot":""}},{"offset":{"line":241,"column":0},"map":{"version":3,"file":"NewsItem.js","names":["sap","ui","define","sap_m_library","__BaseNewsItem","_interopRequireDefault","obj","__esModule","default","URLHelper","BaseNewsItem","NewsItem","extend","metadata","library","properties","url","type","group","defaultValue","constructor","_constructor","id","settings","BaseNewsItem.prototype.constructor.call","this","init","_init","BaseNewsItem.prototype.init.call","_oTile","attachPress","pressNewsItem","bind","setUrl","_setUrl","sUrl","setProperty","getUrl","_getUrl","getProperty","_pressNewsItem","redirect"],"sources":["NewsItem.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\n\nimport { URLHelper } from \"sap/m/library\";\nimport type { MetadataOptions } from \"sap/ui/core/Element\";\nimport BaseNewsItem from \"./BaseNewsItem\";\nimport { $NewsItemSettings } from \"./NewsItem\";\n\n/**\n *\n * Class for managing and storing News items.\n *\n * @extends sap.cux.home.BaseNewsItem\n *\n * @author SAP SE\n * @version 0.0.1\n * @since 1.121\n *\n * @internal\n * @experimental Since 1.121\n * @private\n *\n * @alias sap.cux.home.NewsItem\n */\nexport default class NewsItem extends BaseNewsItem {\n\tconstructor(idOrSettings?: string | $NewsItemSettings);\n\tconstructor(id?: string, settings?: $NewsItemSettings);\n\tconstructor(id?: string, settings?: $NewsItemSettings) {\n\t\tsuper(id, settings);\n\t}\n\n\tstatic readonly metadata: MetadataOptions = {\n\t\tlibrary: \"sap.cux.home\",\n\t\tproperties: {\n\t\t\t/**\n\t\t\t * The URL of the news item. Clicking on the item navigates to this URL.\n\t\t\t */\n\t\t\turl: { type: \"string\", group: \"Misc\", defaultValue: \"\" }\n\t\t}\n\t};\n\n\t/**\n\t * Init lifecycle method\n\t *\n\t * @private\n\t * @override\n\t */\n\tpublic init(): void {\n\t\tsuper.init();\n\t\tthis._oTile.attachPress(this, this.pressNewsItem.bind(this));\n\t}\n\n\t/**\n\t * Sets the URL of the news item.\n\t * @param {string} sUrl - The URL of the news item.\n\t */\n\tpublic setUrl(sUrl: string): NewsItem {\n\t\tthis._oTile.setUrl(sUrl);\n\t\treturn this.setProperty(\"url\", sUrl, true);\n\t}\n\n\t/**\n\t * Gets the URL of the news item.\n\t * @param {string} sUrl - The URL of the news item.\n\t */\n\tpublic getUrl(): string {\n\t\treturn this.getProperty(\"url\") as string;\n\t}\n\n\t/**\n\t * Handles the press event on the news item, redirecting the user to the specified URL.\n\t */\n\tprivate pressNewsItem(): void {\n\t\tURLHelper.redirect(this.getUrl(), true);\n\t}\n}\n"],"mappings":"AAAA;;;;AAAA,aAAAA,IAAAC,GAAAC,OAAA,4CAAAC,EAAAC,GAAA,sBAAAC,EAAAC,GAAA,OAAAA,KAAAC,mBAAAD,EAAAE,UAAA,YAAAF,EAAAE,QAAAF,CAAA,OAKSG,EAASN,EAAA,mBAEXO,EAAYL,EAAAD,GAGnB,MAgBqBO,EAAiBD,EAAYE,OAAA,yBAOjCC,SAA4B,CAC3CC,QAAS,eACTC,WAAY,CAIXC,IAAK,CAAEC,KAAM,SAAUC,MAAO,OAAQC,aAAc,MAVtDC,YAAW,SAAAC,EAACC,EAAaC,GACxBC,6BAAAC,KAAMH,EAAIC,EACX,EAkBOG,KAAI,SAAAC,IACVC,sBAAAH,MACAA,KAAKI,OAAOC,YAAYL,KAAMA,KAAKM,cAAcC,KAAKP,MACvD,EAMOQ,OAAM,SAAAC,EAACC,GACbV,KAAKI,OAAOI,OAAOE,GACnB,OAAOV,KAAKW,YAAY,MAAOD,EAAM,KACtC,EAMOE,OAAM,SAAAC,IACZ,OAAOb,KAAKc,YAAY,MACzB,EAKQR,cAAa,SAAAS,IACpB/B,EAAUgC,SAAShB,KAAKY,SAAU,KACnC,IAAC,OAlDmB1B,CAAQ","ignoreList":[],"sourceRoot":""}},{"offset":{"line":248,"column":0},"map":{"version":3,"file":"NewsPanel.js","names":["sap","ui","define","Log","SlideTile","EventBus","DateFormat","XMLModel","Container","__BaseNewsPanel","__MenuItem","__NewsGroup","__NewsItem","___library","___utils_FESRUtil","__PersonalisationUtils","__UshellPersonalizer","_interopRequireDefault","obj","__esModule","default","_settle","pact","state","value","s","_Pact","v","o","bind","then","observer","BaseNewsPanel","prototype","onFulfilled","onRejected","result","this","callback","e","_this","_isSettledPact","thenable","_for","test","update","body","stage","shouldContinue","updateValue","reject","_resumeAfterTest","_resumeAfterBody","_resumeAfterUpdate","MenuItem","_catch","recover","NewsGroup","NewsItem","NewsType","addFESRId","PersonalisationUtils","UshellPersonalizer","BASE_URL","NEWS_FEED_READ_API","NEWS_FEED_TRANSLATION_API","NEWS_FEED_COUNT_URL","DEFAULT_FEED_COUNT","fnImagePlaceholder","sPath","N","Array","from","length","i","CUSTOM_NEWS_FEED","TITLE","LINK","VALIDITY","PREPARATION_REQUIRED","EXCLUDE_FIELDS","IMAGE_URL","FESR_STEP_NAME","EMPTY_DATA_ERROR_CODE","CUSTOM_IMAGES","Finance","Manufacturing","Sales","NewsPanel","extend","metadata","library","properties","url","type","group","defaultValue","visibility","RSS","customFeedKey","customFileName","showCustom","newsAvailable","aggregations","newsGroup","singularName","multiple","constructor","_constructor","id","settings","BaseNewsPanel.prototype.constructor.call","init","_init","BaseNewsPanel.prototype.init.call","oNewsTile","getId","displayTime","width","height","addStyleClass","getNewsWrapper","addContent","setProperty","_i18nBundle","getText","_eventBus","getInstance","menuItem","title","icon","press","handleEditNews","addAggregation","getData","_getData","sUrl","getUrl","_temp2","getProperty","Promise","resolve","initializeXmlModel","_this$initializeXmlMo","oNewsModel","setModel","_temp","bNewsLoad","getPersContainerId","getOwnerComponent","_UshellPersonalizer$g","oPersonalizer","read","_this$oPersonalizer$r","oPersData","sCustomNewsFeedKey","getCustomFeedKey","setCustomNewsFeed","handleFeedError","_getCustomFeedKey","oAdaptationData","customNewsFeedKey","_getUrl","_initializeXmlModel","_this2","oParent","getParent","setDefaultBindingMode","attachRequestCompleted","oEvent","panelLoadedFn","loaded","count","oDocument","getSource","loadNewsFeed","publish","showError","date","Date","attachRequestFailed","_loadNewsFeed","noOfFeeds","_this3","_temp4","querySelector","oBindingInfo","path","bindNewsTile","_temp3","extractAllImageUrls","_handleFeedError","generateErrorMessage","setVisible","setURL","_setURL","_this4","_bindNewsTile","oSlideTile","bindAggregation","templateShareable","factory","sId","oContext","newsInfo","getObject","oTile","getElementsByTagName","textContent","subTitle","imageUrl","footer","formatDate","getTile","_extractAllImageUrls","_this5","_temp5","oItemElement","extractImage","oImageUrl","createElement","appendChild","_formatDate","oPublished","toRelativeDateTime","getFavNewsFeed","_getFavNewsFeed","aFavNewsFeed","_extractImage","sHrefLink","fnLoadPlaceholderImage","sPrefix","require","toUrl","image","fetch","res","text","sHTML","aMatches","match","isArray","catch","_toRelativeDateTime","oDate","oRelativeDateFormatter","getDateTimeInstance","style","relative","relativeStyle","format","_setCustomNewsFeed","sFeedId","_this6","_this6$oPersonalizer$","favNewsFeed","items","all","getCustomNewsFeedCount","getCustomNewsFeed","showAllPreparationRequired","_ref","iFeedCount","aFeeds","Error","filter","oNewsFeed","includes","loadCustomNewsFeed","err","error","_getCustomNewsFeedCount","_this7","_temp8","_fetch","_temp6","json","_temp7","_await$fetch$json","pCustomNewsFeedCount","encodeURI","undefined","_getCustomNewsFeed","_this8","getNewsFeedDetailsUrl","changeId","pCustomNewsFeed","getAuthNewsFeed","oResponse","oFeedDict","forEach","oFeed","push","getCustomFeedImage","_getNewsFeedDetailsUrl","oNews","_getAuthNewsFeed","sNewsUrl","_this9","getAllAvailableApps","getNewsFeedDetails","_ref2","aAvailableApps","aNewsFeed","arrangeNewsFeeds","_arrangeNewsFeeds","aAuthNewsFeed","Category","ImpactedArtifacts","aImpactedArtifacts","split","impactedArtifact","oImpactedArtifact","isAuthFeed","_isAuthFeed","fioriIdSplitter","aTokens","sFioriId","trim","index","findIndex","oApp","signature","parameters","_getAllAvailableApps","getServiceAsync","oService","_oAdapter","_aInbounds","message","_getNewsFeedDetails","_this10","_temp11","_fetch2","_temp9","_temp10","_await$fetch$json2","pNewsFeed","fnFormattedLabel","sLabel","replace","getTranslatedText","_ref3","newsResponse","translationResponse","aNews","JSON","parse","stringify","aTranslation","map","aFields","Object","keys","aExpandFields","oField","oTranslatedField","find","oTranslation","ColumnName","toUpperCase","oTranslatedFieldName","TranslatedName","label","Link","expanded","expandFields","_getTranslatedText","_this11","_temp14","_fetch3","_temp12","_temp13","_await$fetch$json3","_loadCustomNewsFeed","feeds","oXMLResponse","parseJsonToXml","setData","_parseJsonToXml","_transformJsonForXml","aData","data","item","_jsonToXml","xml","key","transformedJson","rootToken","replaceAll","parser","DOMParser","parseFromString","_getCustomFeedImage","sFileName","sFileBasePath","sFilePath","files","randomIndex","randomArray","window","Uint32Array","crypto","getRandomValues"],"sources":["NewsPanel.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\nimport Log from \"sap/base/Log\";\nimport FlexBox from \"sap/m/FlexBox\";\nimport SlideTile from \"sap/m/SlideTile\";\nimport Event from \"sap/ui/base/Event\";\nimport Component from \"sap/ui/core/Component\";\nimport type { MetadataOptions } from \"sap/ui/core/Element\";\nimport EventBus from \"sap/ui/core/EventBus\";\nimport DateFormat from \"sap/ui/core/format/DateFormat\";\nimport Context from \"sap/ui/model/Context\";\nimport XMLModel from \"sap/ui/model/xml/XMLModel\";\nimport Container from \"sap/ushell/Container\";\nimport BaseNewsPanel, { $BaseNewsPanelSettings } from \"./BaseNewsPanel\";\nimport MenuItem from \"./MenuItem\";\nimport NewsAndPagesContainer from \"./NewsAndPagesContainer\";\nimport NewsGroup from \"./NewsGroup\";\nimport NewsItem from \"./NewsItem\";\nimport { NewsType } from \"./library\";\nimport { addFESRId } from \"./utils/FESRUtil\";\nimport PersonalisationUtils from \"./utils/PersonalisationUtils\";\nimport UshellPersonalizer, { IPersonalizationData } from \"./utils/UshellPersonalizer\";\n\ninterface IBindingInfo {\n\tpath: string;\n\tlength: number;\n}\n\ninterface INewsResponse {\n\tvalue: ICustomNewsFeed[];\n}\n\ninterface INewsFeedPromise {\n\t[key: string]: Promise<INewsResponse | ICustomNewsFeed[]>;\n}\n\nexport interface ICustomNewsFeed {\n\t[key: string]: string | boolean | INewsLink | number | INewsLink[] | INewsParam;\n}\n\nexport interface INewsItem {\n\tchangeId: string;\n\ttitle?: string;\n\tshowAllPreparationRequired?: boolean;\n}\n\ninterface ITranslatedText {\n\tColumnName?: string;\n\tTranslatedName?: string;\n}\n\ninterface IAppConfiguration {\n\t_oAdapter: {\n\t\t_aInbounds: IAvailableApp[];\n\t};\n}\n\ninterface IAvailableApp {\n\tsemanticObject?: string;\n\taction?: string;\n\tid?: string;\n\ttitle?: string;\n\tpermanentKey?: string;\n\tcontentProviderId?: string;\n\tresolutionResult?: {\n\t\t[key: string]: string;\n\t};\n\tdeviceTypes?: {\n\t\t[key: string]: boolean;\n\t};\n\tsignature: {\n\t\tparameters: {\n\t\t\t[key: string]: IAppParameter;\n\t\t};\n\t\tadditionalParameters?: string;\n\t};\n}\n\ninterface IAppParameter {\n\tdefaultValue?: {\n\t\tvalue: string;\n\t\tformat: string;\n\t};\n\trequired: boolean;\n}\n\nexport interface INewsLink {\n\t[key: string]: string;\n}\n\nexport interface INewsParam {\n\t[key: string]: { [key: string]: string };\n}\n\nconst BASE_URL = \"/sap/opu/odata4/ui2/insights_srv/srvd/ui2/\",\n\tNEWS_FEED_READ_API = BASE_URL + \"insights_read_srv/0001/\" + \"NEWS_FEED\",\n\tNEWS_FEED_TRANSLATION_API = BASE_URL + \"insights_read_srv/0001/\" + \"NewsFeedColumnTranslation\",\n\tNEWS_FEED_COUNT_URL = NEWS_FEED_READ_API + \"/$count\",\n\tDEFAULT_FEED_COUNT = 7,\n\tfnImagePlaceholder = function (sPath: string, N: number) {\n\t\treturn Array.from({ length: N }, function (v, i) {\n\t\t\treturn sPath + \"/\" + (i + 1) + \".jpg\";\n\t\t});\n\t};\n\nconst CUSTOM_NEWS_FEED = {\n\t\tTITLE: \"LineOfBusiness\",\n\t\tLINK: \"WhatsNewDocument\",\n\t\tVALIDITY: \"ValidAsOf\",\n\t\tPREPARATION_REQUIRED: \"PreparationRequired\",\n\t\tEXCLUDE_FIELDS: [\n\t\t\t\"ChangeId\",\n\t\t\t\"LineNumber\",\n\t\t\t\"LineOfBusiness\",\n\t\t\t\"SolutionArea\",\n\t\t\t\"Title\",\n\t\t\t\"Description\",\n\t\t\t\"Type\",\n\t\t\t\"ValidAsOf\",\n\t\t\t\"WhatsNewDocument\",\n\t\t\t\"Link\"\n\t\t],\n\t\tIMAGE_URL: \"sap/cux/home/img/CustomNewsFeed/\",\n\t\tFESR_STEP_NAME: \"custNewsSlide-press\",\n\t\tEMPTY_DATA_ERROR_CODE: \"NODATA\"\n\t},\n\tCUSTOM_IMAGES: { [key: string]: string[] } = {\n\t\t\"Application Platform and Infrastructure\": fnImagePlaceholder(\"ApplicationPlatformandInfrastructure\", 3),\n\t\t\"Asset Management\": fnImagePlaceholder(\"AssetManagement\", 3),\n\t\t\"Cross Applications\": fnImagePlaceholder(\"CrossApplications\", 3),\n\t\tFinance: fnImagePlaceholder(\"Finance\", 3),\n\t\tManufacturing: fnImagePlaceholder(\"Manufacturing\", 3),\n\t\t\"R&D / Engineering\": fnImagePlaceholder(\"RnDandEngineering\", 3),\n\t\tSales: fnImagePlaceholder(\"Sales\", 3),\n\t\t\"Sourcing and Procurement\": fnImagePlaceholder(\"SourcingandProcurement\", 3),\n\t\t\"Supply Chain\": fnImagePlaceholder(\"SupplyChain\", 3),\n\t\tdefault: [\"default.jpg\"]\n\t};\n\n/**\n *\n * Panel class for managing and storing News.\n *\n * @extends sap.cux.home.BaseNewsPanel\n *\n * @author SAP SE\n * @version 0.0.1\n * @since 1.121\n *\n * @internal\n * @experimental Since 1.121\n * @public\n *\n * @alias sap.cux.home.NewsPanel\n */\nexport default class NewsPanel extends BaseNewsPanel {\n\tprivate oNewsTile!: SlideTile;\n\tprivate oNewsModel!: XMLModel;\n\tprivate image!: number;\n\tprivate pCustomNewsFeed!: INewsFeedPromise;\n\tprivate pCustomNewsFeedCount!: { [key: string]: Promise<number> };\n\tprivate pNewsFeed!: INewsFeedPromise;\n\tprivate bNewsLoad!: boolean;\n\tprivate oPersonalizer!: UshellPersonalizer;\n\tprivate oPersData!: IPersonalizationData;\n\tprivate aFavNewsFeed!: { items: string[]; showAllPreparationRequired: boolean };\n\tprivate _eventBus!: EventBus;\n\n\tstatic readonly metadata: MetadataOptions = {\n\t\tlibrary: \"sap.cux.home\",\n\t\tproperties: {\n\t\t\t/**\n\t\t\t * The URL of the news item.\n\t\t\t *\n\t\t\t * @public\n\t\t\t */\n\t\t\turl: { type: \"string\", group: \"Misc\", defaultValue: \"\", visibility: \"public\" },\n\t\t\t/**\n\t\t\t * Type of the news item.\n\t\t\t *\n\t\t\t * @public\n\t\t\t */\n\t\t\ttype: {\n\t\t\t\ttype: \"sap.cux.home.NewsType\",\n\t\t\t\tgroup: \"Misc\",\n\t\t\t\tvisibility: \"public\",\n\t\t\t\tdefaultValue: NewsType.RSS\n\t\t\t},\n\t\t\t/**\n\t\t\t * The key of custom news feed.\n\t\t\t *\n\t\t\t * @public\n\t\t\t */\n\t\t\tcustomFeedKey: { type: \"string\", group: \"Misc\", defaultValue: \"\", visibility: \"public\" },\n\t\t\t/**\n\t\t\t * The filename of custom news feed.\n\t\t\t *\n\t\t\t */\n\t\t\tcustomFileName: { type: \"string\", group: \"Misc\", defaultValue: \"\" },\n\t\t\t/**\n\t\t\t * The flag for custom news feed is checked or not.\n\t\t\t */\n\t\t\tshowCustom: { type: \"boolean\", group: \"Misc\", defaultValue: false },\n\t\t\t/**\n\t\t\t * The flag to determine rss feed will load or not.\n\t\t\t *\n\t\t\t * @private\n\t\t\t */\n\t\t\tnewsAvailable: { type: \"boolean\", group: \"Misc\", defaultValue: true, visibility: \"hidden\" }\n\t\t},\n\t\taggregations: {\n\t\t\t/**\n\t\t\t * newsGroup aggregation for News\n\t\t\t */\n\t\t\tnewsGroup: { type: \"sap.cux.home.NewsGroup\", singularName: \"newsGroup\", multiple: true, visibility: \"hidden\" }\n\t\t}\n\t};\n\n\tconstructor(idOrSettings?: string | $BaseNewsPanelSettings);\n\tconstructor(id?: string, settings?: $BaseNewsPanelSettings);\n\t/**\n\t * Constructor for a new News Panel.\n\t *\n\t * @param {string} [id] ID for the new control, generated automatically if an ID is not provided\n\t * @param {object} [settings] Initial settings for the new control\n\t */\n\tpublic constructor(id?: string, settings?: $BaseNewsPanelSettings) {\n\t\tsuper(id, settings);\n\t}\n\n\t/**\n\t * Init lifecycle method\n\t *\n\t * @private\n\t * @override\n\t */\n\tpublic init(): void {\n\t\tsuper.init();\n\n\t\tthis.oNewsTile = new SlideTile(this.getId() + \"--idNewsSlide\", {\n\t\t\tdisplayTime: 20000,\n\t\t\twidth: \"100%\",\n\t\t\theight: \"17rem\"\n\t\t}).addStyleClass(\"newsTileMaxWidth sapUiSmallMarginTop sapUiSmallMarginBottom\");\n\n\t\tthis.getNewsWrapper().addContent(this.oNewsTile);\n\t\tthis.setProperty(\"title\", this._i18nBundle.getText(\"newsTitle\"));\n\t\tthis._eventBus = EventBus.getInstance();\n\n\t\tconst menuItem = new MenuItem(`${this.getId()}-manageNews`, {\n\t\t\ttitle: this._i18nBundle.getText(\"mngNews\"),\n\t\t\ticon: \"sap-icon://edit\",\n\t\t\tpress: this.handleEditNews.bind(this)\n\t\t});\n\t\tthis.addAggregation(\"menuItems\", menuItem);\n\t\taddFESRId(menuItem, \"manageNews\");\n\t}\n\n\t/**\n\t * Retrieves news data asynchronously.\n\t * If the news model is not initialized, it initializes the XML model and loads news feed data.\n\t * @returns {Promise} A promise that resolves when the news data is retrieved.\n\t */\n\n\tpublic async getData() {\n\t\tconst sUrl: string = this.getUrl();\n\t\tif (sUrl && !this.getProperty(\"showCustom\")) {\n\t\t\tthis.oNewsModel = await this.initializeXmlModel(sUrl);\n\t\t\tthis.oNewsTile.setModel(this.oNewsModel);\n\t\t} else if (this.getProperty(\"showCustom\")) {\n\t\t\tthis.bNewsLoad = this.bNewsLoad || false;\n\t\t\tthis.oPersonalizer = await UshellPersonalizer.getInstance(\n\t\t\t\tPersonalisationUtils.getPersContainerId(this),\n\t\t\t\tPersonalisationUtils.getOwnerComponent(this) as Component\n\t\t\t);\n\t\t\tthis.oPersData = await this.oPersonalizer.read();\n\t\t\tconst sCustomNewsFeedKey = this.getCustomFeedKey();\n\t\t\tif (sCustomNewsFeedKey) {\n\t\t\t\tvoid this.setCustomNewsFeed(sCustomNewsFeedKey);\n\t\t\t} else {\n\t\t\t\tthis.handleFeedError();\n\t\t\t}\n\t\t} else {\n\t\t\tthis.handleFeedError();\n\t\t}\n\t}\n\n\t/**\n\t * Returns the custom news feed key property of NewsPanel\n\t * @returns {string} custom news feed key\n\t */\n\tpublic getCustomFeedKey(): string {\n\t\tconst sCustomNewsFeedKey = this.getProperty(\"customFeedKey\") as string;\n\t\tif (sCustomNewsFeedKey) {\n\t\t\treturn sCustomNewsFeedKey;\n\t\t} else {\n\t\t\treturn this.oPersData?.oAdaptationData?.customNewsFeedKey as string;\n\t\t}\n\t}\n\n\t/**\n\t * Returns the Url property of NewsPanel\n\t * @returns {any}\n\t */\n\tpublic getUrl(): string {\n\t\treturn this.getProperty(\"url\") as string;\n\t}\n\n\t/**\n\t * Initializes an XML model for managing news data.\n\t * This method returns a Promise that resolves to the initialized XML model.\n\t */\n\n\t/**\n\t * Initializes an XML model for managing news data.\n\t * This method returns a Promise that resolves to the initialized XML model.\n\t * @param {string} sUrl rss url to load the news feed\n\t * @returns {Promise<XMLModel>} XML Document containing the news feeds\n\t */\n\tprivate async initializeXmlModel(sUrl: string): Promise<XMLModel> {\n\t\tconst oParent = this.getParent() as NewsAndPagesContainer;\n\t\treturn new Promise((resolve) => {\n\t\t\tconst oNewsModel = new XMLModel(sUrl);\n\t\t\toNewsModel.setDefaultBindingMode(\"OneWay\");\n\t\t\toNewsModel.attachRequestCompleted((oEvent: Event) => {\n\t\t\t\tvoid (async () => {\n\t\t\t\t\tif (!this.bNewsLoad) {\n\t\t\t\t\t\toParent?.panelLoadedFn(\"News\", { loaded: true, count: DEFAULT_FEED_COUNT });\n\t\t\t\t\t\tthis.bNewsLoad = true;\n\t\t\t\t\t}\n\t\t\t\t\tconst oDocument = oEvent.getSource<XMLModel>().getData() as XMLDocument;\n\t\t\t\t\tawait this.loadNewsFeed(oDocument, 0);\n\t\t\t\t\tthis._eventBus.publish(\"KeyUserChanges\", \"newsFeedLoadFailed\", { showError: false, date: new Date() });\n\t\t\t\t\tresolve(oNewsModel);\n\t\t\t\t})();\n\t\t\t});\n\t\t\toNewsModel.attachRequestFailed(() => {\n\t\t\t\tthis.handleFeedError();\n\t\t\t\tif (!this.bNewsLoad) {\n\t\t\t\t\toParent?.panelLoadedFn(\"News\", { loaded: false, count: 0 });\n\t\t\t\t\tthis.bNewsLoad = true;\n\t\t\t\t}\n\t\t\t\tthis._eventBus.publish(\"KeyUserChanges\", \"newsFeedLoadFailed\", { showError: true, date: new Date() });\n\t\t\t\tresolve(oNewsModel);\n\t\t\t});\n\t\t});\n\t}\n\n\t/**\n\t * Loads the news feed based on the provided document and number of feeds.\n\t * Determines the feed type (RSS, feed, custom) and binds the news tile accordingly.\n\t * @param {Document} oDocument - The document containing the news feed data.\n\t * @param {number} [noOfFeeds] - The number of feeds to be displayed. Defaults to a predefined value.\n\t */\n\tprivate async loadNewsFeed(oDocument: Document, noOfFeeds: number) {\n\t\tlet oBindingInfo: IBindingInfo;\n\t\tif (!oDocument?.querySelector(\"customFeed\")) {\n\t\t\tawait this.extractAllImageUrls(oDocument, noOfFeeds || DEFAULT_FEED_COUNT);\n\t\t}\n\n\t\tif (!!oDocument?.querySelector(\"rss\") && !!oDocument?.querySelector(\"item\")) {\n\t\t\toBindingInfo = {\n\t\t\t\tpath: \"/channel/item/\",\n\t\t\t\tlength: noOfFeeds || DEFAULT_FEED_COUNT\n\t\t\t};\n\t\t} else if (!!oDocument?.querySelector(\"feed\") && !!oDocument?.querySelector(\"entry\")) {\n\t\t\toBindingInfo = {\n\t\t\t\tpath: \"/entry/\",\n\t\t\t\tlength: noOfFeeds || DEFAULT_FEED_COUNT\n\t\t\t};\n\t\t} else if (!!oDocument?.querySelector(\"customFeed\") && !!oDocument?.querySelector(\"item\")) {\n\t\t\toBindingInfo = {\n\t\t\t\tpath: \"/item/\",\n\t\t\t\tlength: noOfFeeds || DEFAULT_FEED_COUNT\n\t\t\t};\n\t\t} else {\n\t\t\tthis.handleFeedError();\n\t\t\treturn;\n\t\t}\n\t\tthis.bindNewsTile(this.oNewsTile, oBindingInfo);\n\t}\n\n\t/**\n\t * Handles errors that occur during the loading of the news feed.\n\t * @returns {void}\n\t */\n\tpublic handleFeedError(): void {\n\t\tif (this.getProperty(\"showCustom\")) {\n\t\t\tthis.generateErrorMessage().setVisible(true);\n\t\t\tthis.oNewsTile.setVisible(false);\n\t\t} else {\n\t\t\t(this.getNewsWrapper()?.getParent() as FlexBox).setVisible(false);\n\t\t\tthis.setProperty(\"newsAvailable\", false);\n\t\t}\n\t}\n\n\tpublic async setURL(url: string) {\n\t\tthis.setProperty(\"showCustom\", false);\n\t\tthis.setProperty(\"newsAvailable\", true);\n\t\tthis.generateErrorMessage().setVisible(false);\n\t\t(this.getNewsWrapper()?.getParent() as FlexBox).setVisible(true);\n\t\tthis.oNewsTile.setVisible(true);\n\t\tthis.setProperty(\"url\", url);\n\t\tawait this.getData();\n\t}\n\n\t/**\n\t * Binds the news tile with the provided binding information.\n\t * @param {sap.m.SlideTile} oSlideTile - The SlideTile control to be bound.\n\t * @param {IBindingInfo} oBindingInfo - The binding information containing the path and length of the aggregation.\n\t */\n\tprivate bindNewsTile(oSlideTile: SlideTile, oBindingInfo: IBindingInfo): void {\n\t\tif (oBindingInfo) {\n\t\t\toSlideTile.bindAggregation(\"tiles\", {\n\t\t\t\tpath: oBindingInfo.path,\n\t\t\t\tlength: oBindingInfo.length,\n\t\t\t\ttemplateShareable: false,\n\t\t\t\tfactory: (sId: string, oContext: Context) => {\n\t\t\t\t\tconst newsInfo = oContext.getObject() as XMLDocument;\n\t\t\t\t\tlet oTile;\n\t\t\t\t\tif (newsInfo.getElementsByTagName(\"link\").length > 0) {\n\t\t\t\t\t\toTile = new NewsItem(\"\", {\n\t\t\t\t\t\t\turl: newsInfo.getElementsByTagName(\"link\")[0].textContent as string,\n\t\t\t\t\t\t\ttitle: newsInfo.getElementsByTagName(\"title\")[0].textContent as string,\n\t\t\t\t\t\t\tsubTitle: newsInfo.getElementsByTagName(\"description\")[0].textContent as string,\n\t\t\t\t\t\t\timageUrl: newsInfo.getElementsByTagName(\"imageUrl\")[0].textContent as string,\n\t\t\t\t\t\t\tfooter: this.formatDate(newsInfo.getElementsByTagName(\"pubDate\")[0].textContent as string)\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\toTile = new NewsGroup(\"\", {\n\t\t\t\t\t\t\ttitle: newsInfo.getElementsByTagName(\"title\")[0].textContent as string,\n\t\t\t\t\t\t\tsubTitle: this._i18nBundle.getText(\"newsFeedDescription\") as string,\n\t\t\t\t\t\t\timageUrl: newsInfo.getElementsByTagName(\"imageUrl\")[0].textContent as string,\n\t\t\t\t\t\t\tfooter: newsInfo.getElementsByTagName(\"footer\")[0].textContent as string\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\tthis.addAggregation(\"newsItems\", oTile, true);\n\t\t\t\t\treturn oTile.getTile();\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\n\t/**\n\t * Extracts images for all the news tiles\n\t * @param {Document} oDocument - The document containing the news feed data.\n\t * @param {number} [noOfFeeds] - The number of feeds to be displayed. Defaults to a predefined value.\n\t */\n\tprivate async extractAllImageUrls(oDocument: Document, noOfFeeds: number) {\n\t\tfor (let i = 0; i < noOfFeeds; i++) {\n\t\t\tconst oItemElement = oDocument?.getElementsByTagName(\"item\")[i];\n\t\t\tconst sUrl: string = await this.extractImage(oItemElement.getElementsByTagName(\"link\")[0].textContent as string);\n\t\t\tconst oImageUrl = oDocument.createElement(\"imageUrl\");\n\t\t\toImageUrl.textContent = sUrl;\n\t\t\toItemElement.appendChild(oImageUrl);\n\t\t}\n\t}\n\n\t/**\n\t * Formats the publication date or the update date to a relative date-time format.\n\t * @param {string} oPublished - The publication date.\n\t * @returns {string} The formatted relative date-time string.\n\t */\n\tprivate formatDate(oPublished: string): string {\n\t\treturn this.toRelativeDateTime(new Date(oPublished));\n\t}\n\n\t/**\n\t * Returns the favourite news feed for the custom news\n\t * @returns {any}\n\t */\n\tpublic getFavNewsFeed() {\n\t\treturn this.aFavNewsFeed;\n\t}\n\n\t/**\n\t * Extracts the image URL from the provided HREF link or link.\n\t * @param {string} sHrefLink - The HREF link containing the image URL.\n\t * @returns {Promise} A promise that resolves to the extracted image URL.\n\t */\n\tprivate extractImage(sHrefLink: string): Promise<string> {\n\t\tconst fnLoadPlaceholderImage = () => {\n\t\t\tconst sPrefix = sap.ui.require.toUrl(\"sap.cux.home/src/sap/cux/home/utils/\");\n\t\t\tthis.image = this.image ? this.image + 1 : 1;\n\t\t\tthis.image = this.image < 9 ? this.image : 1;\n\t\t\treturn `${sPrefix}/imgNews/${this.image}.jpg`;\n\t\t};\n\n\t\treturn fetch(sHrefLink)\n\t\t\t.then((res) => res.text())\n\t\t\t.then((sHTML) => {\n\t\t\t\tconst aMatches = sHTML.match(/<meta[^>]*property=[\"']og:image[\"'][^>]*content=[\"']([^\"']+)[\"'][^>]*>/i);\n\t\t\t\treturn Array.isArray(aMatches) && aMatches[1] ? aMatches[1] : fnLoadPlaceholderImage();\n\t\t\t})\n\t\t\t.catch(fnLoadPlaceholderImage);\n\t}\n\n\t/**\n\t * Converts the given date to a relative date-time format.\n\t * @param {Date} oDate - The date to be converted.\n\t * @returns {string} The date in relative date-time format.\n\t */\n\tprivate toRelativeDateTime(oDate: Date): string {\n\t\tconst oRelativeDateFormatter = DateFormat.getDateTimeInstance({\n\t\t\tstyle: \"medium\",\n\t\t\trelative: true,\n\t\t\trelativeStyle: \"short\"\n\t\t});\n\t\treturn oRelativeDateFormatter.format(new Date(oDate));\n\t}\n\n\t/**\n\t * This method retrieves the count and feeds of the custom news feed asynchronously.\n\t * If the count is not zero, it loads the custom news feed data and returns the feeds.\n\t * @param {string} sFeedId - The ID of the custom news feed to set.\n\t * @returns {Promise} A promise that resolves to an array of news feeds.\n\t */\n\tpublic async setCustomNewsFeed(sFeedId: string): Promise<void> {\n\t\ttry {\n\t\t\tthis.oNewsTile.setVisible(true);\n\t\t\tthis.generateErrorMessage().setVisible(false);\n\t\t\tthis.oPersData = await this.oPersonalizer?.read();\n\t\t\tthis.aFavNewsFeed = (this.oPersData?.favNewsFeed as { items: string[]; showAllPreparationRequired: boolean }) || { items: [] };\n\t\t\tlet [iFeedCount, aFeeds] = await Promise.all([\n\t\t\t\tthis.getCustomNewsFeedCount(sFeedId),\n\t\t\t\tthis.getCustomNewsFeed(sFeedId, this.aFavNewsFeed.showAllPreparationRequired)\n\t\t\t]);\n\t\t\tif (aFeeds.length === 0 || iFeedCount === 0) {\n\t\t\t\tthrow new Error();\n\t\t\t}\n\t\t\t//filer selected feeds from all news feed\n\t\t\tif (this.aFavNewsFeed?.items?.length) {\n\t\t\t\taFeeds = aFeeds.filter((oNewsFeed) => {\n\t\t\t\t\treturn this.aFavNewsFeed?.items.includes(oNewsFeed.title as string);\n\t\t\t\t});\n\t\t\t} else if (this.aFavNewsFeed?.items?.length === 0) {\n\t\t\t\tthrow new Error(\"Error: No news feed available\");\n\t\t\t}\n\t\t\tthis.loadCustomNewsFeed(aFeeds);\n\t\t} catch (err) {\n\t\t\tLog.error(err as string);\n\t\t\tthis.handleFeedError();\n\t\t}\n\t}\n\n\t/**\n\t * Retrieves the count of custom news feed items identified by the provided feed ID.\n\t * @param {string} sFeedId - The ID of the custom news feed.\n\t * @returns {Promise} A Promise that resolves to the count of custom news feed items.\n\t */\n\tpublic async getCustomNewsFeedCount(sFeedId: string): Promise<number> {\n\t\tlet sUrl = encodeURI(NEWS_FEED_COUNT_URL + \"?$filter=ChangeId\" + \" eq \" + \"'\" + sFeedId + \"'\");\n\t\tthis.pCustomNewsFeedCount = this.pCustomNewsFeedCount ? this.pCustomNewsFeedCount : {};\n\t\tthis.pCustomNewsFeedCount[sUrl] =\n\t\t\tthis.pCustomNewsFeedCount[sUrl] !== undefined\n\t\t\t\t? this.pCustomNewsFeedCount[sUrl]\n\t\t\t\t: ((await (await fetch(sUrl)).json()) as Promise<number>);\n\t\treturn this.pCustomNewsFeedCount[sUrl];\n\t}\n\n\t/**\n\t * Retrieves custom news feed items identified by the provided feed ID and settings.\n\t * It processes the response data and returns an array of custom news feed items.\n\t * @param {string} sFeedId - The ID of the custom news feed.\n\t * @param {boolean} showAllPreparationRequired - Indicates whether to show all preparation required.\n\t * @returns {Promise} A Promise that resolves to an array of custom news feed items.\n\t */\n\tpublic async getCustomNewsFeed(sFeedId: string, showAllPreparationRequired: boolean): Promise<ICustomNewsFeed[]> {\n\t\ttry {\n\t\t\tconst sUrl = this.getNewsFeedDetailsUrl({ changeId: sFeedId, showAllPreparationRequired: showAllPreparationRequired });\n\t\t\tthis.pCustomNewsFeed = this.pCustomNewsFeed ? this.pCustomNewsFeed : {};\n\t\t\tthis.pCustomNewsFeed[sUrl] =\n\t\t\t\tthis.pCustomNewsFeed[sUrl] !== undefined\n\t\t\t\t\t? this.pCustomNewsFeed[sUrl]\n\t\t\t\t\t: (this.getAuthNewsFeed(sUrl) as Promise<ICustomNewsFeed[]>);\n\t\t\tconst oResponse = await this.pCustomNewsFeed[sUrl];\n\t\t\tconst oFeedDict: { [key: string]: string } = {};\n\t\t\tconst aFeeds: ICustomNewsFeed[] = [];\n\t\t\tif ((oResponse as ICustomNewsFeed[])?.length > 0) {\n\t\t\t\t(oResponse as ICustomNewsFeed[]).forEach((oFeed: ICustomNewsFeed) => {\n\t\t\t\t\tconst title = oFeed[CUSTOM_NEWS_FEED.TITLE] as INewsLink;\n\t\t\t\t\tif (!oFeedDict[title.value]) {\n\t\t\t\t\t\taFeeds.push({\n\t\t\t\t\t\t\ttitle: title.value,\n\t\t\t\t\t\t\tfooter: (oFeed[CUSTOM_NEWS_FEED.VALIDITY] as INewsLink).value,\n\t\t\t\t\t\t\timageUrl: this.getCustomFeedImage(title.value)\n\t\t\t\t\t\t});\n\t\t\t\t\t\toFeedDict[title.value] = title.value;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\treturn aFeeds;\n\t\t} catch (err) {\n\t\t\tLog.error(err as string);\n\t\t\tthrow new Error(err as string);\n\t\t}\n\t}\n\n\t/**\n\t * Generates the URL for retrieving news feed details based on the provided news object.\n\t * The generated URL limits the number of results to 999.\n\t * @param {INewsItem} oNews - The news object containing properties such as changeId, title, and showAllPreparationRequired.\n\t * @returns {string} The URL for retrieving news feed details.\n\t */\n\tpublic getNewsFeedDetailsUrl(oNews: INewsItem) {\n\t\tlet sUrl = NEWS_FEED_READ_API + \"?$filter=ChangeId eq \" + \"'\" + oNews.changeId + \"'\";\n\t\tsUrl = oNews.title ? sUrl + \" and LineOfBusiness eq \" + \"'\" + encodeURI(oNews.title) + \"'\" : sUrl;\n\t\tsUrl = oNews.showAllPreparationRequired ? sUrl + \" and PreparationRequired eq true\" : sUrl;\n\t\treturn sUrl + \"&$top=999\";\n\t}\n\n\t/**\n\t * Retrieves the news feed from the specified URL after applying authorization filtering based on the available apps.\n\t * If the news feed contains impacted artifacts, it checks if the current user has access to any of the impacted apps.\n\t * If the user has access to at least one impacted app, the news feed is included in the returned array.\n\t * @param {string} sNewsUrl - The URL of the news feed.\n\t * @returns {Array} The filtered array of news feed items authorized for the user.\n\t */\n\tpublic async getAuthNewsFeed(sNewsUrl: string) {\n\t\ttry {\n\t\t\tconst [aAvailableApps, aNewsFeed] = await Promise.all([this.getAllAvailableApps(), this.getNewsFeedDetails(sNewsUrl)]);\n\t\t\tif (aAvailableApps.length === 0) {\n\t\t\t\treturn aNewsFeed;\n\t\t\t}\n\t\t\treturn this.arrangeNewsFeeds(aNewsFeed, aAvailableApps);\n\t\t} catch (err) {\n\t\t\tLog.error(err as string);\n\t\t}\n\t}\n\n\t/**\n\t * If the news feed contains impacted artifacts, it checks if the current user has access to any of the impacted apps.\n\t * If the user has access to at least one impacted app, the news feed is included in the returned array.\n\t * @param {ICustomNewsFeed[]} aNewsFeed - array of news feed\n\t * @param {IAvailableApp[]} aAvailableApps - array of all availabel apps\n\t * @returns {Array} The filtered array of news feed items authorized for the user.\n\t */\n\tprivate arrangeNewsFeeds(aNewsFeed: ICustomNewsFeed[], aAvailableApps: IAvailableApp[]) {\n\t\tconst aAuthNewsFeed: ICustomNewsFeed[] = [];\n\n\t\taNewsFeed.forEach((oNewsFeed: ICustomNewsFeed) => {\n\t\t\tif ((oNewsFeed.Category as INewsLink).value !== \"App\" || !(oNewsFeed.ImpactedArtifacts as INewsLink).value) {\n\t\t\t\taAuthNewsFeed.push(oNewsFeed);\n\t\t\t} else {\n\t\t\t\tconst aImpactedArtifacts: string[] = (oNewsFeed.ImpactedArtifacts as INewsLink).value.split(\"\\n\");\n\t\t\t\tfor (let impactedArtifact of aImpactedArtifacts) {\n\t\t\t\t\tconst oImpactedArtifact = impactedArtifact;\n\t\t\t\t\tif (oImpactedArtifact && this.isAuthFeed(aAvailableApps, impactedArtifact)) {\n\t\t\t\t\t\taAuthNewsFeed.push(oNewsFeed);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\treturn aAuthNewsFeed;\n\t}\n\n\t/**\n\t * takes all available apps list and the impacted atifact from the news and returns if it's valid\n\t * @param {IAvailableApp[]} aAvailableApps - Array of all available apps\n\t * @param {string} oImpactedArtifact - impacted artifact form the news\n\t * @returns {boolean} checks if the news is authenticated with the available apps list\n\t */\n\tprivate isAuthFeed(aAvailableApps: IAvailableApp[], oImpactedArtifact: string) {\n\t\tconst fioriIdSplitter = \"|\";\n\t\tif (oImpactedArtifact.includes(fioriIdSplitter)) {\n\t\t\tconst aTokens = oImpactedArtifact.split(fioriIdSplitter);\n\t\t\tconst sFioriId = (aTokens[aTokens.length - 1] || \"\").trim();\n\t\t\tif (sFioriId) {\n\t\t\t\tconst index = aAvailableApps.findIndex((oApp: IAvailableApp) => {\n\t\t\t\t\treturn sFioriId === oApp?.signature?.parameters[\"sap-fiori-id\"]?.defaultValue?.value;\n\t\t\t\t});\n\t\t\t\treturn index > -1;\n\t\t\t}\n\t\t}\n\t\treturn true;\n\t}\n\n\t/**\n\t * Retrieves all available apps from the ClientSideTargetResolution service for authorization filtering.\n\t * @returns {Array} An array of available apps.\n\t */\n\tprivate async getAllAvailableApps(): Promise<IAvailableApp[]> {\n\t\ttry {\n\t\t\tconst oService = await Container.getServiceAsync<IAppConfiguration>(\"ClientSideTargetResolution\");\n\t\t\treturn oService?._oAdapter._aInbounds || [];\n\t\t} catch (err) {\n\t\t\tif (err instanceof Error) {\n\t\t\t\tLog.error(err.message);\n\t\t\t}\n\t\t\treturn [];\n\t\t}\n\t}\n\n\t/**\n\t * Retrieves the news feed details from the specified URL, including translation and formatting of field labels.\n\t * @param {string} sUrl - The URL of the news feed details.\n\t * @returns {Array} The array of news feed items with translated and formatted field labels.\n\t */\n\tprivate async getNewsFeedDetails(sUrl: string): Promise<ICustomNewsFeed[]> {\n\t\tthis.pNewsFeed = this.pNewsFeed ? this.pNewsFeed : {};\n\t\tthis.pNewsFeed[sUrl] =\n\t\t\tthis.pNewsFeed[sUrl] !== undefined\n\t\t\t\t? this.pNewsFeed[sUrl]\n\t\t\t\t: ((await (await fetch(sUrl)).json()) as Promise<{ value: ICustomNewsFeed[] }>);\n\t\tconst fnFormattedLabel = (sLabel: string) => sLabel.replace(/([a-z0-9])([A-Z])/g, \"$1 $2\");\n\t\tconst [newsResponse, translationResponse] = await Promise.all([\n\t\t\tthis.pNewsFeed[sUrl],\n\t\t\tthis.getTranslatedText(this.getCustomFeedKey())\n\t\t]);\n\t\tconst aNews: ICustomNewsFeed[] = JSON.parse(JSON.stringify((newsResponse as INewsResponse).value || [])) as ICustomNewsFeed[];\n\t\tconst aTranslation = JSON.parse(JSON.stringify((translationResponse as INewsResponse).value || [])) as ITranslatedText[];\n\t\treturn aNews.map((oNews: ICustomNewsFeed) => {\n\t\t\tconst aFields = Object.keys(oNews);\n\t\t\tconst aExpandFields: INewsLink[] = [];\n\t\t\taFields.forEach((oField) => {\n\t\t\t\tconst oTranslatedField = aTranslation.find(\n\t\t\t\t\t(oTranslation: ITranslatedText) => oTranslation?.ColumnName?.toUpperCase() === oField.toUpperCase()\n\t\t\t\t);\n\t\t\t\tconst oTranslatedFieldName = (oTranslatedField?.TranslatedName as string) || fnFormattedLabel(oField);\n\t\t\t\toNews[oField] = { label: oTranslatedFieldName, value: oNews[oField] as string } as INewsLink;\n\t\t\t\tif (!CUSTOM_NEWS_FEED.EXCLUDE_FIELDS.includes(oField)) {\n\t\t\t\t\taExpandFields.push(oNews[oField]);\n\t\t\t\t}\n\t\t\t});\n\t\t\toNews.Link = {\n\t\t\t\tlabel: this._i18nBundle.getText(\"readMoreLink\") as string,\n\t\t\t\tvalue: oNews[CUSTOM_NEWS_FEED.LINK] as string,\n\t\t\t\ttext: \"Link\"\n\t\t\t};\n\t\t\toNews.expanded = aNews.length === 1;\n\t\t\toNews.expandFields = aExpandFields;\n\t\t\treturn oNews;\n\t\t});\n\t}\n\n\t/**\n\t * Retrieves translated text for news feed fields based on the specified feed ID.\n\t * @param {string} sFeedId - The ID of the custom news feed\n\t * @returns {Promise} A promise resolving to the translated text for news feed fields.\n\t */\n\tprivate async getTranslatedText(sFeedId: string) {\n\t\ttry {\n\t\t\tconst sUrl = NEWS_FEED_TRANSLATION_API + \"?$filter=Changeid eq '\" + sFeedId + \"'\";\n\t\t\tthis.pCustomNewsFeed = this.pCustomNewsFeed ? this.pCustomNewsFeed : {};\n\t\t\tthis.pCustomNewsFeed[sUrl] =\n\t\t\t\tthis.pCustomNewsFeed[sUrl] !== undefined\n\t\t\t\t\t? this.pCustomNewsFeed[sUrl]\n\t\t\t\t\t: ((await (await fetch(sUrl)).json()) as Promise<ICustomNewsFeed[]>);\n\t\t\treturn this.pCustomNewsFeed[sUrl];\n\t\t} catch (err) {\n\t\t\tif (err instanceof Error) {\n\t\t\t\tLog.error(err.message);\n\t\t\t}\n\t\t\treturn [];\n\t\t}\n\t}\n\n\t/**\n\t * Loads custom news feed into the news panel after parsing JSON feed data to XML format.\n\t * @param {Array} feeds - The array of custom news feed items.\n\t */\n\tprivate loadCustomNewsFeed(feeds: ICustomNewsFeed[]) {\n\t\tconst oXMLResponse = this.parseJsonToXml(JSON.parse(JSON.stringify(feeds)) as JSON[]);\n\t\tconst oParent = this.getParent() as NewsAndPagesContainer;\n\t\tif (!this.oNewsModel) {\n\t\t\tthis.oNewsModel = new XMLModel(oXMLResponse);\n\t\t\tif (!this.bNewsLoad) {\n\t\t\t\toParent?.panelLoadedFn(\"News\", { loaded: true, count: DEFAULT_FEED_COUNT });\n\t\t\t\tthis.bNewsLoad = true;\n\t\t\t}\n\t\t\tthis.oNewsTile.setModel(this.oNewsModel);\n\t\t} else {\n\t\t\tthis.oNewsModel.setData(oXMLResponse);\n\t\t}\n\t\tvoid this.loadNewsFeed(oXMLResponse, feeds.length);\n\t}\n\n\t/**\n\t * Parses JSON data into XML format.\n\t * @param {JSON[]} json - The JSON data to be parsed into XML.\n\t * @returns {XMLDocument} The XML document representing the parsed JSON data.\n\t */\n\tprivate parseJsonToXml(json: JSON[]): XMLDocument {\n\t\tconst _transformJsonForXml = (aData: JSON[]) => aData.map((data: JSON) => ({ item: data }));\n\t\tconst _jsonToXml = (json: JSON) => {\n\t\t\tlet xml = \"\";\n\t\t\tlet key: string;\n\t\t\tfor (key in json) {\n\t\t\t\tconst value = json[key as keyof typeof json];\n\t\t\t\tif (value) {\n\t\t\t\t\tif (typeof value === \"object\") {\n\t\t\t\t\t\txml += `<${key}>${_jsonToXml(value)}</${key}>`;\n\t\t\t\t\t} else {\n\t\t\t\t\t\txml += `<${key}>${value as string}</${key}>`;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn xml.replace(/<\\/?\\d+>/g, \"\");\n\t\t};\n\t\tconst transformedJson: JSON = JSON.parse(JSON.stringify(_transformJsonForXml(json))) as JSON;\n\t\tlet xml = \"<?xml version='1.0' encoding='UTF-8'?>\";\n\t\tconst rootToken = \"customFeed\";\n\t\txml += `<${rootToken}>`;\n\t\txml += _jsonToXml(transformedJson);\n\t\txml += `</${rootToken}>`;\n\t\txml = xml.replaceAll(\"&\", \"&amp;\");\n\t\tconst parser = new DOMParser();\n\t\treturn parser.parseFromString(xml, \"text/xml\");\n\t}\n\n\t/**\n\t * Randomly selects an image from the available images for the feed item.\n\t * @param {string} sFileName - The file name of the custom news feed item.\n\t * @returns {string} The URL of the image for the feed item.\n\t */\n\tpublic getCustomFeedImage(sFileName: string) {\n\t\tconst sFileBasePath = sap.ui.require.toUrl(CUSTOM_NEWS_FEED.IMAGE_URL);\n\t\tlet sFilePath = sFileBasePath + CUSTOM_IMAGES.default[0];\n\t\tconst files = CUSTOM_IMAGES[sFileName] || [];\n\t\tlet randomIndex = 0;\n\t\tif (files.length > 0) {\n\t\t\tconst randomArray = new window.Uint32Array(1);\n\t\t\twindow.crypto.getRandomValues(randomArray);\n\t\t\trandomIndex = randomArray[0] % 3;\n\t\t\tsFilePath = sFileBasePath + files[randomIndex];\n\t\t}\n\t\treturn sFilePath;\n\t}\n}\n"],"mappings":"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","ignoreList":[],"sourceRoot":""}},{"offset":{"line":255,"column":0},"map":{"version":3,"file":"NewsSettingsPanel.js","names":["sap","ui","define","HBox","Label","List","StandardListItem","Switch","Text","Title","VBox","__BaseSettingsPanel","___utils_Constants","___utils_FESRUtil","__PersonalisationUtils","__UshellPersonalizer","_interopRequireDefault","obj","__esModule","default","BaseSettingsPanel","SETTINGS_PANELS_KEYS","addFESRSemanticStepName","FESR_EVENTS","PersonalisationUtils","UshellPersonalizer","NewsSettingsPanel","extend","init","_init","BaseSettingsPanel.prototype.init.call","this","setProperty","NEWS","_i18nBundle","getText","addAggregation","getContent","attachPanelNavigated","loadNewsFeedSettings","aFavNewsFeed","_getContent","oHeader","setHeader","oTitle","setTitleMessage","oContentVBox","getId","alignItems","justifyContent","items","setNewsList","getPersonalization","_getPersonalization","_this","_temp2","oPersonalizer","_temp","Promise","resolve","getInstance","getPersContainerId","_getPanel","getOwnerComponent","then","_UshellPersonalizer$g","e","reject","_setHeader","oHeaderText","text","oHeaderVBox","addStyleClass","_setTitleMessage","titleStyle","oTitleHbox","oTitleVBox","_setNewsList","oShowSwitchLabel","oShowSwitch","customTextOn","customTextOff","change","saveNewsFeedSettings","state","CHANGE","oCustNewsSwitchContainer","width","oShowAllPrep","oList","mode","selectionChange","oNewsListVBox","direction","_saveNewsFeedSettings","_this2","aSelectedNewsFeed","getSelectedItems","map","item","getTitle","length","oFavNewsFeed","showAllPreparationRequired","getState","read","oPersData","favNewsFeed","write","setState","oNewsPanel","setCustomNewsFeed","getCustomFeedKey","setItems","_setItems","aItems","destroyAggregation","forEach","oItem","i","oCustomListItem","title","selected","addItem","_loadNewsFeedSettings","_this3","aPersNewsFeed","getCustomNewsFeed","aNewsFeed","oNewsFeed","NewsFeedInFavorites","find"],"sources":["NewsSettingsPanel.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\n\nimport HBox from \"sap/m/HBox\";\nimport Label from \"sap/m/Label\";\nimport List from \"sap/m/List\";\nimport ListItemBase from \"sap/m/ListItemBase\";\nimport StandardListItem from \"sap/m/StandardListItem\";\nimport Switch from \"sap/m/Switch\";\nimport Text from \"sap/m/Text\";\nimport Title from \"sap/m/Title\";\nimport VBox from \"sap/m/VBox\";\nimport Component from \"sap/ui/core/Component\";\nimport Control from \"sap/ui/core/Control\";\nimport BaseSettingsPanel from \"./BaseSettingsPanel\";\nimport NewsPanel, { ICustomNewsFeed } from \"./NewsPanel\";\nimport { SETTINGS_PANELS_KEYS } from \"./utils/Constants\";\nimport { addFESRSemanticStepName, FESR_EVENTS } from \"./utils/FESRUtil\";\nimport PersonalisationUtils from \"./utils/PersonalisationUtils\";\nimport UshellPersonalizer from \"./utils/UshellPersonalizer\";\n\n/**\n *\n * Class for My Home News Settings Panel.\n *\n * @extends BaseSettingsPanel\n *\n * @author SAP SE\n * @version 0.0.1\n * @since 1.121\n *\n * @internal\n * @experimental Since 1.121\n * @private\n *\n * @alias sap.cux.home.NewsSettingsPanel\n */\nexport default class NewsSettingsPanel extends BaseSettingsPanel {\n\tprivate oShowSwitch!: Switch;\n\tprivate oList!: List;\n\tprivate oPersonalizer!: UshellPersonalizer;\n\tprivate oNewsPanel!: NewsPanel;\n\tprivate aFavNewsFeed!: ICustomNewsFeed[] | string[];\n\n\t/**\n\t * Init lifecycle method\n\t *\n\t * @public\n\t * @override\n\t */\n\tpublic init(): void {\n\t\tsuper.init();\n\n\t\t//setup panel\n\t\tthis.setProperty(\"key\", SETTINGS_PANELS_KEYS.NEWS);\n\t\tthis.setProperty(\"title\", this._i18nBundle.getText(\"news\"));\n\t\tthis.setProperty(\"icon\", \"sap-icon://newspaper\");\n\n\t\t//setup layout content\n\t\tthis.addAggregation(\"content\", this.getContent());\n\n\t\t//fired every time on panel navigation\n\t\tthis.attachPanelNavigated(() => {\n\t\t\tvoid this.loadNewsFeedSettings();\n\t\t});\n\t\tthis.aFavNewsFeed = [];\n\t}\n\n\t/**\n\t * Returns the content for the News Settings Panel.\n\t *\n\t * @private\n\t * @returns {Control} The control containing the News Settings Panel content.\n\t */\n\tprivate getContent(): Control {\n\t\tconst oHeader = this.setHeader();\n\t\tconst oTitle = this.setTitleMessage();\n\t\tconst oContentVBox = new VBox(this.getId() + \"--idNewsPageOuterVBoX\", {\n\t\t\talignItems: \"Start\",\n\t\t\tjustifyContent: \"SpaceBetween\",\n\t\t\titems: [oHeader, oTitle, this.setNewsList()]\n\t\t});\n\t\treturn oContentVBox;\n\t}\n\n\t/**\n\t * Get personalization instance\n\t */\n\tprivate async getPersonalization() {\n\t\tif (!this.oPersonalizer) {\n\t\t\tthis.oPersonalizer = await UshellPersonalizer.getInstance(\n\t\t\t\tPersonalisationUtils.getPersContainerId(this._getPanel()),\n\t\t\t\tPersonalisationUtils.getOwnerComponent(this._getPanel()) as Component\n\t\t\t);\n\t\t}\n\t\treturn this.oPersonalizer;\n\t}\n\n\t/**\n\t * Returns the content for the News Settings Panel Header.\n\t *\n\t * @private\n\t * @returns {sap.ui.core.Control} The control containing the News Settings Panel's Header content.\n\t */\n\tprivate setHeader() {\n\t\tconst oHeaderText = new Text(this.getId() + \"--idCustNewsFeedSettingsText\", {\n\t\t\ttext: this._i18nBundle.getText(\"newsFeedSettingsText\")\n\t\t});\n\t\tconst oHeaderVBox = new VBox(this.getId() + \"--idCustNewsFeedSettingsTextContainer\", {\n\t\t\talignItems: \"Start\",\n\t\t\tjustifyContent: \"SpaceBetween\",\n\t\t\titems: [oHeaderText]\n\t\t}).addStyleClass(\"sapUiSmallMarginTop sapUiSmallMarginBegin\");\n\t\treturn oHeaderVBox;\n\t}\n\n\t/**\n\t * Returns the content for the News Settings Panel Title description.\n\t *\n\t * @private\n\t * @returns {sap.ui.core.Control} The control containing the News Settings Panel's Title description.\n\t */\n\tprivate setTitleMessage() {\n\t\tconst oTitle = new Title(this.getId() + \"--idCustNewsFeedSettignsTitle\", {\n\t\t\ttext: this._i18nBundle.getText(\"newsFeedSettingsHeading\"),\n\t\t\ttitleStyle: \"H5\"\n\t\t});\n\t\tconst oTitleHbox = new HBox(this.getId() + \"--idCustNewsFeedSettingsTitleContainer\", {\n\t\t\talignItems: \"Center\",\n\t\t\tjustifyContent: \"SpaceBetween\",\n\t\t\titems: [oTitle]\n\t\t});\n\t\tconst oTitleVBox = new VBox(this.getId() + \"--idCustNewsFeedSettingsTitleVBox\", {\n\t\t\talignItems: \"Start\",\n\t\t\tjustifyContent: \"SpaceBetween\",\n\t\t\titems: [oTitleHbox]\n\t\t}).addStyleClass(\"sapUiSmallMarginTop sapUiSmallMarginBegin\");\n\t\treturn oTitleVBox;\n\t}\n\n\t/**\n\t * Returns the content for the news List\n\t *\n\t * @private\n\t * @returns {sap.ui.core.Control} The control containing the News Settings Panel's List\n\t */\n\tprivate setNewsList() {\n\t\t//showAllPrepRequired Switch\n\t\tconst oShowSwitchLabel = new Label(this.getId() + \"--idShowAllCustNewsSwitchLabel\", {\n\t\t\ttext: this._i18nBundle.getText(\"showAllPreparationRequiredSwitchLabel\")\n\t\t});\n\t\tthis.oShowSwitch = new Switch(\"\", {\n\t\t\t// 'ariaLabelledBy': \"idShowAllCustNewsSwitchLabel idShowAllCustNewsSwitch\",\n\t\t\tcustomTextOn: \" \",\n\t\t\tcustomTextOff: \" \",\n\t\t\tchange: () => {\n\t\t\t\tvoid this.saveNewsFeedSettings();\n\t\t\t},\n\t\t\t// 'fesr:change': \"showPrepRequire\",\n\t\t\tstate: false\n\t\t});\n\t\taddFESRSemanticStepName(this.oShowSwitch, FESR_EVENTS.CHANGE, \"showPrepRequire\");\n\t\tconst oCustNewsSwitchContainer = new HBox(this.getId() + \"--idShowAllCustNewsSwitchContainer\", {\n\t\t\talignItems: \"Center\",\n\t\t\titems: [oShowSwitchLabel, this.oShowSwitch],\n\t\t\twidth: \"94%\"\n\t\t}).addStyleClass(\"sapUiSmallMarginTop\");\n\n\t\tconst oShowAllPrep = new VBox(this.getId() + \"--idShowAllCustNewsSwitchVBox\", {\n\t\t\titems: [oCustNewsSwitchContainer],\n\t\t\twidth: \"94%\"\n\t\t}).addStyleClass(\"sapUiSmallMarginTop\");\n\t\t//List of news items\n\t\tthis.oList = new List(this.getId() + \"--idCustNewsFeedList\", {\n\t\t\tmode: \"MultiSelect\",\n\t\t\tselectionChange: () => {\n\t\t\t\tvoid this.saveNewsFeedSettings();\n\t\t\t}\n\t\t});\n\t\t//Outer VBox\n\t\tconst oNewsListVBox = new VBox(this.getId() + \"--idCustNewsFeedListContainer\", {\n\t\t\tdirection: \"Column\",\n\t\t\titems: [this.oList, oShowAllPrep],\n\t\t\twidth: \"96%\"\n\t\t}).addStyleClass(\"sapUiSmallMarginTop sapUiSmallMarginBegin\");\n\t\treturn oNewsListVBox;\n\t}\n\n\t/**\n\t *\n\t * Saves news feed settings and shows news feed based on selection change of list of switch\n\t *\n\t * @private\n\t */\n\tprivate async saveNewsFeedSettings() {\n\t\tconst aSelectedNewsFeed: string[] = this.oList.getSelectedItems().map((item: ListItemBase) => {\n\t\t\treturn (item as StandardListItem).getTitle();\n\t\t});\n\t\t/****TO DO control visibility of newspanel based on selection */\n\t\tif (aSelectedNewsFeed && aSelectedNewsFeed.length > 0) {\n\t\t\t//control visibility of newsfeed\n\t\t}\n\t\tconst oFavNewsFeed = {\n\t\t\titems: aSelectedNewsFeed,\n\t\t\tshowAllPreparationRequired: this.oShowSwitch.getState()\n\t\t};\n\t\tconst oPersonalizer = await this.getPersonalization();\n\t\tconst oPersData = await oPersonalizer.read();\n\t\toPersData.favNewsFeed = oFavNewsFeed;\n\t\tawait oPersonalizer.write(oPersData);\n\t\t//get the latest value of switch and set the state\n\t\tthis.oShowSwitch.setState(oFavNewsFeed.showAllPreparationRequired);\n\t\t//load news feed\n\t\tawait this.oNewsPanel.setCustomNewsFeed(this.oNewsPanel.getCustomFeedKey());\n\t}\n\t/** Set items for the NewsList\n\t * @param {Array} [aItems] news items to be set as items aggregation\n\t * @private\n\t */\n\tprivate setItems(aItems: ICustomNewsFeed[]) {\n\t\tthis.oList.destroyAggregation(\"items\", true);\n\t\t(aItems || []).forEach((oItem: ICustomNewsFeed, i: number) => {\n\t\t\tconst oCustomListItem = new StandardListItem(this.getId() + \"--idCustNewsFeedItem\" + \"--\" + i, {\n\t\t\t\ttitle: oItem.title as string,\n\t\t\t\tselected: oItem.selected as boolean\n\t\t\t});\n\t\t\t//.addStyleClass(\"newsListItem\");\n\t\t\tthis.oList.addItem(oCustomListItem);\n\t\t});\n\t}\n\n\t/**\n\t * Loads news feed settings\n\t *\n\t * @returns {Promise} resolves to news feed settings\n\t */\n\tprivate async loadNewsFeedSettings() {\n\t\tthis.oNewsPanel = this._getPanel() as NewsPanel;\n\t\tconst oPersonalizer = await this.getPersonalization();\n\t\tconst oPersData = await oPersonalizer.read();\n\t\tconst aPersNewsFeed = oPersData?.[\"favNewsFeed\"];\n\t\tconst showAllPreparationRequired = !aPersNewsFeed ? true : aPersNewsFeed.showAllPreparationRequired;\n\n\t\tlet aNewsFeed: ICustomNewsFeed[] = await this.oNewsPanel.getCustomNewsFeed(this.oNewsPanel.getCustomFeedKey(), false);\n\t\tif (aNewsFeed && aNewsFeed.length > 0) {\n\t\t\tthis.aFavNewsFeed = (aPersNewsFeed && aPersNewsFeed.items) || aNewsFeed;\n\t\t\taNewsFeed = aNewsFeed.map((oNewsFeed: ICustomNewsFeed) => {\n\t\t\t\tconst NewsFeedInFavorites = this.aFavNewsFeed.find((oFavNewsFeed) => {\n\t\t\t\t\treturn oFavNewsFeed === oNewsFeed.title;\n\t\t\t\t})\n\t\t\t\t\t? true\n\t\t\t\t\t: false;\n\t\t\t\toNewsFeed.selected = !aPersNewsFeed ? true : NewsFeedInFavorites;\n\t\t\t\treturn oNewsFeed;\n\t\t\t});\n\t\t\tthis.aFavNewsFeed = aNewsFeed;\n\t\t\tthis.setItems(this.aFavNewsFeed);\n\t\t\tthis.oShowSwitch.setState(showAllPreparationRequired);\n\t\t\treturn aNewsFeed;\n\t\t}\n\t}\n}\n"],"mappings":"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","ignoreList":[],"sourceRoot":""}},{"offset":{"line":262,"column":0},"map":{"version":3,"file":"NoDataContainer.js","names":["sap","ui","define","Button","IllustratedMessage","VBox","__BaseContainer","__BaseContainerRenderer","__BasePanel","___library","_interopRequireDefault","obj","__esModule","default","BaseContainer","BaseContainerRenderer","BasePanel","LayoutType","NoDataContentPanel","static","library","properties","enableSettings","type","group","defaultValue","visibility","NoDataContainer","extend","renderer","apiVersion","metadata","width","height","layout","Vertical","init","_init","BaseContainer.prototype.init.call","this","addStyleClass","onBeforeRendering","_onBeforeRendering","content","getContent","length","_setupDefaultContent","BaseContainer.prototype.onBeforeRendering.call","illustratedMessage","getId","illustrationSize","illustrationType","title","_i18nBundle","getText","ariaTitleLevel","description","editMyHomeButton","text","press","getParent","openSettingsDialog","insertAdditionalContent","wrapper","alignItems","justifyContent","renderType","items","visible","contentPanel","_addContent","addContent"],"sources":["NoDataContainer.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\nimport Button from \"sap/m/Button\";\nimport IllustratedMessage from \"sap/m/IllustratedMessage\";\nimport VBox from \"sap/m/VBox\";\nimport { MetadataOptions } from \"sap/ui/core/Element\";\nimport BaseContainer from \"./BaseContainer\";\nimport BaseContainerRenderer from \"./BaseContainerRenderer\";\nimport BasePanel from \"./BasePanel\";\nimport Layout from \"./Layout\";\nimport { LayoutType } from \"./library\";\n\n/**\n *\n * Panel class to show no data content.\n *\n */\nclass NoDataContentPanel extends BasePanel {\n\tstatic readonly metadata: MetadataOptions = {\n\t\tlibrary: \"sap.cux.home\",\n\t\tproperties: {\n\t\t\tenableSettings: { type: \"boolean\", group: \"Behavior\", defaultValue: false, visibility: \"hidden\" }\n\t\t}\n\t};\n}\n\n/**\n *\n * Container class to show no data content.\n *\n * @extends BaseContainer\n *\n * @author SAP SE\n * @version 0.0.1\n * @since 1.121\n *\n * @internal\n * @experimental Since 1.121\n * @public\n *\n * @alias sap.cux.home.NoDataContainer\n */\nexport default class NoDataContainer extends BaseContainer {\n\tstatic readonly metadata: MetadataOptions = {\n\t\tlibrary: \"sap.cux.home\",\n\t\tproperties: {\n\t\t\t/**\n\t\t\t * Width of the container. Default value is 100%.\n\t\t\t */\n\t\t\twidth: { type: \"sap.ui.core.CSSSize\", group: \"Dimension\", defaultValue: \"100%\", visibility: \"hidden\" },\n\t\t\t/**\n\t\t\t * Height of the container. Default value is 100%.\n\t\t\t */\n\t\t\theight: { type: \"sap.ui.core.CSSSize\", group: \"Dimension\", defaultValue: \"100%\", visibility: \"hidden\" },\n\t\t\t/**\n\t\t\t * Layout of the container. Default value is Vertical.\n\t\t\t */\n\t\t\tlayout: {\n\t\t\t\ttype: \"sap.cux.home.LayoutType\",\n\t\t\t\tgroup: \"Data\",\n\t\t\t\tdefaultValue: LayoutType.Vertical,\n\t\t\t\tvisibility: \"hidden\"\n\t\t\t},\n\t\t\t/**\n\t\t\t * Enable my home settings. Default value is false.\n\t\t\t */\n\t\t\tenableSettings: { type: \"boolean\", group: \"Behavior\", defaultValue: false, visibility: \"hidden\" }\n\t\t}\n\t};\n\n\tstatic renderer = {\n\t\t...BaseContainerRenderer,\n\t\tapiVersion: 2\n\t};\n\n\t/**\n\t * Init lifecycle method\n\t *\n\t * @private\n\t */\n\tpublic init(): void {\n\t\tsuper.init();\n\t\tthis.addStyleClass(\"sapCuxNoDataContainer\");\n\t\tthis.addStyleClass(\"sapCuxNoMarginBottom\");\n\t}\n\n\t/**\n\t * onBeforeRendering lifecycle method\n\t *\n\t * @private\n\t */\n\tpublic onBeforeRendering(): void {\n\t\t// If no content is set, set up default content\n\t\tconst content = this.getContent();\n\t\tif (content?.length === 0) {\n\t\t\tthis._setupDefaultContent();\n\t\t}\n\n\t\tsuper.onBeforeRendering();\n\t}\n\n\t/**\n\t * Set up default no-data content for the container.\n\t *\n\t * @private\n\t */\n\tprivate _setupDefaultContent(): void {\n\t\t// set up default inner illustrated message\n\t\tconst illustratedMessage = new IllustratedMessage(this.getId() + \"-noDataMessage\", {\n\t\t\tillustrationSize: \"Scene\",\n\t\t\tillustrationType: \"sapIllus-EmptyList\",\n\t\t\ttitle: this._i18nBundle.getText(\"noSectionTitle\"),\n\t\t\tariaTitleLevel: \"H2\",\n\t\t\tdescription: this._i18nBundle.getText(\"noSectionDescription\")\n\t\t}).addStyleClass(\"myHomeIllustratedMsg\");\n\n\t\t// set up button to edit my home\n\t\tconst editMyHomeButton = new Button(this.getId() + \"-editMyHomeBtn\", {\n\t\t\ttext: this._i18nBundle.getText(\"noSectionButton\"),\n\t\t\ttype: \"Emphasized\",\n\t\t\tpress: () => {\n\t\t\t\tvoid (this.getParent() as Layout)?.openSettingsDialog();\n\t\t\t}\n\t\t});\n\t\tillustratedMessage.insertAdditionalContent(editMyHomeButton, 0);\n\n\t\t// set up no-data content wrapper\n\t\tconst wrapper = new VBox(this.getId() + \"-noDataWrapper\", {\n\t\t\talignItems: \"Center\",\n\t\t\tjustifyContent: \"Center\",\n\t\t\trenderType: \"Bare\",\n\t\t\titems: [illustratedMessage],\n\t\t\tvisible: true\n\t\t});\n\n\t\t// set up content panel\n\t\tconst contentPanel = new NoDataContentPanel(`${this.getId()}-noDataContent`);\n\t\tcontentPanel._addContent(wrapper);\n\n\t\t// add content to the container\n\t\tthis.addContent(contentPanel);\n\t}\n}\n"],"mappings":"AAAA;;;;AAAA,aAAAA,IAAAC,GAAAC,OAAA,wIAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,GAAA,sBAAAC,EAAAC,GAAA,OAAAA,KAAAC,mBAAAD,EAAAE,UAAA,YAAAF,EAAAE,QAAAF,CAAA,OAQOG,EAAaJ,EAAAJ,GAAA,MACbS,EAAqBL,EAAAH,GAAA,MACrBS,EAASN,EAAAF,GAAA,MAEPS,EAAUR,EAAA,cAOnB,MAAMS,UAA2BF,EAChCG,gBAA4C,CAC3CC,QAAS,eACTC,WAAY,CACXC,eAAgB,CAAEC,KAAM,UAAWC,MAAO,WAAYC,aAAc,MAAOC,WAAY,YAK1F,MAgBqBC,EAAwBb,EAAac,OAAA,gCA4BlDC,SAAW,IACdd,EACHe,WAAY,GA7BGC,SAA4B,CAC3CX,QAAS,eACTC,WAAY,CAIXW,MAAO,CAAET,KAAM,sBAAuBC,MAAO,YAAaC,aAAc,OAAQC,WAAY,UAI5FO,OAAQ,CAAEV,KAAM,sBAAuBC,MAAO,YAAaC,aAAc,OAAQC,WAAY,UAI7FQ,OAAQ,CACPX,KAAM,0BACNC,MAAO,OACPC,aAAcR,EAAWkB,SACzBT,WAAY,UAKbJ,eAAgB,CAAEC,KAAM,UAAWC,MAAO,WAAYC,aAAc,MAAOC,WAAY,YAclFU,KAAI,SAAAC,IACVC,sBAAAC,MACAA,KAAKC,cAAc,yBACnBD,KAAKC,cAAc,uBACpB,EAOOC,kBAAiB,SAAAC,IAEvB,MAAMC,EAAUJ,KAAKK,aACrB,GAAID,GAASE,SAAW,EAAG,CAC1BN,KAAKO,sBACN,CAEAC,mCAAAR,KACD,EAOQO,qBAAoB,SAAAA,IAE3B,MAAME,EAAqB,IAAI5C,EAAmBmC,KAAKU,QAAU,iBAAkB,CAClFC,iBAAkB,QAClBC,iBAAkB,qBAClBC,MAAOb,KAAKc,YAAYC,QAAQ,kBAChCC,eAAgB,KAChBC,YAAajB,KAAKc,YAAYC,QAAQ,0BACpCd,cAAc,wBAGjB,MAAMiB,EAAmB,IAAItD,EAAOoC,KAAKU,QAAU,iBAAkB,CACpES,KAAMnB,KAAKc,YAAYC,QAAQ,mBAC/B/B,KAAM,aACNoC,MAAOA,UACApB,KAAKqB,aAAwBC,wBAGrCb,EAAmBc,wBAAwBL,EAAkB,GAG7D,MAAMM,EAAU,IAAI1D,EAAKkC,KAAKU,QAAU,iBAAkB,CACzDe,WAAY,SACZC,eAAgB,SAChBC,WAAY,OACZC,MAAO,CAACnB,GACRoB,QAAS,OAIV,MAAMC,EAAe,IAAInD,EAAmB,GAAGqB,KAAKU,yBACpDoB,EAAaC,YAAYP,GAGzBxB,KAAKgC,WAAWF,EACjB,IAAC,OAnGmB1C,CAAe","ignoreList":[],"sourceRoot":""}},{"offset":{"line":269,"column":0},"map":{"version":3,"file":"Page.js","names":["sap","ui","define","Element","Container","Page","extend","metadata","library","properties","title","type","group","defaultValue","icon","subTitle","bgColor","pageId","spaceId","spaceTitle","url","events","press","constructor","_constructor","id","settings","Element.prototype.constructor.call","this","onPageTilePress","_onPageTilePress","oPage","sPageId","getProperty","sSpaceId","Promise","resolve","getServiceAsync","then","navigationService","navigate","target","semanticObject","action","params","e","reject"],"sources":["Page.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\n\nimport Element, { MetadataOptions } from \"sap/ui/core/Element\";\nimport Container from \"sap/ushell/Container\";\nimport Navigation from \"sap/ushell/services/Navigation\";\nimport { $PageSettings } from \"./Page\";\nimport { IPage } from \"./interface/PageSpaceInterface\";\n\n/**\n *\n * Class for managing and storing Pages.\n *\n * @extends sap.ui.core.Element\n *\n * @author SAP SE\n * @version 0.0.1\n * @since 1.121\n *\n * @internal\n * @experimental Since 1.121\n * @private\n *\n * @alias sap.cux.home.Page\n */\n\nexport default class Page extends Element {\n\tconstructor(idOrSettings?: string | $PageSettings);\n\tconstructor(id?: string, settings?: $PageSettings);\n\tconstructor(id?: string, settings?: $PageSettings) {\n\t\tsuper(id, settings);\n\t}\n\tstatic readonly metadata: MetadataOptions = {\n\t\tlibrary: \"sap.cux.home\",\n\t\tproperties: {\n\t\t\t/**\n\t\t\t * Title for the  page\n\t\t\t * @since 1.120\n\t\t\t */\n\t\t\ttitle: { type: \"string\", group: \"Misc\", defaultValue: \"\" },\n\t\t\t/**\n\t\t\t * Icon for the  page\n\t\t\t * @since 1.120\n\t\t\t */\n\t\t\ticon: { type: \"string\", group: \"Misc\", defaultValue: \"\" },\n\t\t\t/**\n\t\t\t * Subtitle for the  page\n\t\t\t * @since 1.120\n\t\t\t */\n\t\t\tsubTitle: { type: \"string\", group: \"Misc\", defaultValue: \"\" },\n\t\t\t/**\n\t\t\t * Background color for the  page\n\t\t\t * @since 1.120\n\t\t\t */\n\t\t\tbgColor: { type: \"string\", group: \"Misc\", defaultValue: \"\" },\n\t\t\t/**\n\t\t\t * Id for the corresponding page\n\t\t\t * @since 1.120\n\t\t\t * @experimental Since 1.120\n\t\t\t */\n\t\t\tpageId: { type: \"string\", group: \"Misc\", defaultValue: \"\" },\n\t\t\t/**\n\t\t\t * Space id for the corresponding page\n\t\t\t * @since 1.120\n\t\t\t * @experimental Since 1.120\n\t\t\t */\n\t\t\tspaceId: { type: \"string\", group: \"Misc\", defaultValue: \"\" },\n\t\t\t/**\n\t\t\t * Space title for the corresponding page\n\t\t\t * @since 1.120\n\t\t\t * @experimental Since 1.120\n\t\t\t */\n\t\t\tspaceTitle: { type: \"string\", group: \"Misc\", defaultValue: \"\" },\n\t\t\t/**\n\t\t\t * Url to be launched for the corresponding page\n\t\t\t * @since 1.120\n\t\t\t * @experimental Since 1.120\n\t\t\t */\n\t\t\turl: { type: \"string\", group: \"Misc\", defaultValue: \"\" }\n\t\t},\n\t\tevents: {\n\t\t\t/**\n\t\t\t * Press event for the page\n\t\t\t */\n\t\t\tpress: {}\n\t\t}\n\t};\n\n\tpublic async onPageTilePress(oPage: IPage) {\n\t\tconst sPageId = oPage.getProperty?.(\"pageId\"),\n\t\t\tsSpaceId = oPage.getProperty?.(\"spaceId\");\n\t\tconst navigationService = await Container.getServiceAsync<Navigation>(\"Navigation\");\n\t\tawait navigationService.navigate({\n\t\t\ttarget: {\n\t\t\t\tsemanticObject: \"Launchpad\",\n\t\t\t\taction: \"openFLPPage\"\n\t\t\t},\n\t\t\tparams: {\n\t\t\t\tpageId: sPageId,\n\t\t\t\tspaceId: sSpaceId\n\t\t\t}\n\t\t});\n\t}\n}\n"],"mappings":"AAAA;;;;AAAA,aAAAA,IAAAC,GAAAC,OAAA,wDAAAC,EAAAC,GAAA,aAWA,MAiBqBC,EAAaF,EAAOG,OAAA,qBAMxBC,SAA4B,CAC3CC,QAAS,eACTC,WAAY,CAKXC,MAAO,CAAEC,KAAM,SAAUC,MAAO,OAAQC,aAAc,IAKtDC,KAAM,CAAEH,KAAM,SAAUC,MAAO,OAAQC,aAAc,IAKrDE,SAAU,CAAEJ,KAAM,SAAUC,MAAO,OAAQC,aAAc,IAKzDG,QAAS,CAAEL,KAAM,SAAUC,MAAO,OAAQC,aAAc,IAMxDI,OAAQ,CAAEN,KAAM,SAAUC,MAAO,OAAQC,aAAc,IAMvDK,QAAS,CAAEP,KAAM,SAAUC,MAAO,OAAQC,aAAc,IAMxDM,WAAY,CAAER,KAAM,SAAUC,MAAO,OAAQC,aAAc,IAM3DO,IAAK,CAAET,KAAM,SAAUC,MAAO,OAAQC,aAAc,KAErDQ,OAAQ,CAIPC,MAAO,CAAC,IAvDVC,YAAW,SAAAC,EAACC,EAAaC,GACxBC,6BAAAC,KAAMH,EAAIC,EACX,EAyDaG,gBAAe,SAAAC,EAACC,GAAY,IACxC,MAAMC,EAAUD,EAAME,cAAc,UACnCC,EAAWH,EAAME,cAAc,WAAW,OAAAE,QAAAC,QACXhC,EAAUiC,gBAA4B,eAAaC,KAAA,SAA7EC,GAAiB,OAAAJ,QAAAC,QACjBG,EAAkBC,SAAS,CAChCC,OAAQ,CACPC,eAAgB,YAChBC,OAAQ,eAETC,OAAQ,CACP3B,OAAQe,EACRd,QAASgB,MAETI,KAAA,eACH,CAAC,MAAAO,GAAA,OAAAV,QAAAW,OAAAD,EAAA,YA5EmBxC,CAAI","ignoreList":[],"sourceRoot":""}},{"offset":{"line":276,"column":0},"map":{"version":3,"file":"PagePanel.js","names":["sap","ui","define","Button","FlexBox","GenericTile","IllustratedMessage","VBox","EventBus","DragDropInfo","sap_ui_core_library","__BasePagePanel","__MenuItem","__Page","___utils_Constants","___utils_Device","___utils_DragDropUtils","___utils_FESRUtil","__PageManager","__PersonalisationUtils","__UShellPersonalizer","_interopRequireDefault","obj","__esModule","default","dnd","BasePagePanel","MenuItem","Page","SETTINGS_PANELS_KEYS","DeviceType","attachKeyboardHandler","addFESRId","addFESRSemanticStepName","PageManager","PersonalisationUtils","UShellPersonalizer","maxTileSize","minTileSize","CustomFlexBox","extend","renderer","apiVersion","metadata","library","aggregations","items","type","multiple","singularName","draggable","droppable","constructor","_constructor","id","settings","FlexBox.prototype.constructor.call","this","PagePanel","properties","title","group","visibility","key","pages","_constructor2","BasePagePanel.prototype.constructor.call","persContainerId","getPersContainerId","PageManagerInstance","getInstance","getOwnerComponent","init","_init","BasePagePanel.prototype.init.call","_oWrapperFlexBox","justifyContent","height","width","direction","renderType","wrap","addStyleClass","addDragDropConfig","sourceAggregation","targetAggregation","dropPosition","DropPosition","Between","dropLayout","DropLayout","Horizontal","drop","oEvent","_handlePageDnd","attachBrowserEvent","event","dragDropEvent","_addContent","setProperty","_i18nBundle","getText","menuItem","getId","icon","press","_handleEditPages","addAggregation","oEventBus","subscribe","sChannelId","sEventId","oData","aFavPages","_getInnerControls","_importdone","getData","stateData","status","publish","_getData","forceUpdate","arguments","length","undefined","_this","_temp2","oPagePromise","_temp","getFavoritePages","Promise","resolve","then","e","reject","parent","getParent","_getLayout","openSettingsDialog","PAGES","attachResizeHandler","_attachResizeHandler","bIsNewsTileVisible","containerWidth","pagesContentWrapper","containerWrapper","iFavPagesCount","domRef","getDomRef","domRefClientWidth","clientWidth","pagesPerRow","tileWidth","wrapperWidth","gap","flexWrapperWidth","setAlignItems","spaceRequired","_setPropertyValues","hBoxWidth","pagesTileWidth","setWidth","_handleResizeForDesktop","oErr","Error","getUserAvailablePages","_getUserAvailablePages","_this2","fetchAllAvailablePages","sDeviceType","getDeviceType","pagesToDisplay","Math","ceil","Desktop","LargeDesktop","Tablet","myFavPage","oInnerControls","oParent","forEach","oPage","push","subTitle","spaceTitle","bgColor","BGColor","pageId","spaceId","url","oFav","header","getTitle","subheader","getSubTitle","onPageTilePress","sizeBehavior","state","frameType","mode","backgroundColor","getBgColor","tileIcon","getIcon","visible","renderOnThemeChange","ariaRole","dropAreaOffset","getProperty","panelLoadedFn","loaded","count","_setFavPagesContent","_setNoPageContent","removeAggregation","removeAllItems","oTile","addItem","_createNoPageContent","_oIllusMsg","illustrationSize","illustrationType","description","oAddPageBtn","text","tooltip","oWrapperNoPageVBox","backgroundDesign","addAdditionalContent","oVal","propNames","Object","keys","sProperty","_this3","sInsertPosition","getParameter","oDragItem","oDropItem","iDragItemIndex","indexOfItem","iDropItemIndex","_temp3","_DragnDropPages","_this4","_temp5","oPersonalizer","read","oPersData","favouritePages","write","oItemMoved","splice","_temp4","_UShellPersonalizer$g","applyColorPersonalizations","_applyColorPersonalizations","personalizations","applyIconPersonalizations","_applyIconPersonalizations"],"sources":["PagePanel.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\n\nimport Button from \"sap/m/Button\";\nimport FlexBox, { $FlexBoxSettings } from \"sap/m/FlexBox\";\nimport GenericTile from \"sap/m/GenericTile\";\nimport IllustratedMessage from \"sap/m/IllustratedMessage\";\nimport VBox from \"sap/m/VBox\";\nimport Event from \"sap/ui/base/Event\";\nimport Component from \"sap/ui/core/Component\";\nimport Control from \"sap/ui/core/Control\";\nimport { MetadataOptions } from \"sap/ui/core/Element\";\nimport EventBus from \"sap/ui/core/EventBus\";\nimport DragDropInfo from \"sap/ui/core/dnd/DragDropInfo\";\nimport { DropInfo$DropEventParameters } from \"sap/ui/core/dnd/DropInfo\";\nimport { dnd } from \"sap/ui/core/library\";\nimport BasePagePanel, { $BasePagePanelSettings } from \"./BasePagePanel\";\nimport MenuItem from \"./MenuItem\";\nimport NewsAndPagesContainer from \"./NewsAndPagesContainer\";\nimport Page from \"./Page\";\nimport { ISpacePagePersonalization } from \"./interface/KeyUserInterface\";\nimport { IPage } from \"./interface/PageSpaceInterface\";\nimport { SETTINGS_PANELS_KEYS } from \"./utils/Constants\";\nimport { DeviceType } from \"./utils/Device\";\nimport { attachKeyboardHandler } from \"./utils/DragDropUtils\";\nimport { addFESRId, addFESRSemanticStepName } from \"./utils/FESRUtil\";\nimport PageManager from \"./utils/PageManager\";\nimport PersonalisationUtils from \"./utils/PersonalisationUtils\";\nimport UShellPersonalizer from \"./utils/UshellPersonalizer\";\n\nconst maxTileSize = 15,\n\tminTileSize = 7;\n\n/**\n *\n * CustomFlexBox extending FlexBox to enable drag & drop.\n *\n * @extends sap.m.FlexBox\n *\n * @author SAP SE\n * @version 0.0.1\n * @since 1.122\n *\n * @internal\n * @experimental Since 1.121\n * @private\n *\n * @alias sap.cux.home.CustomFlexBox\n */\nclass CustomFlexBox extends FlexBox {\n\tconstructor(idOrSettings?: string | $FlexBoxSettings);\n\tconstructor(id?: string, settings?: $FlexBoxSettings);\n\tconstructor(id?: string, settings?: $FlexBoxSettings) {\n\t\tsuper(id, settings);\n\t}\n\n\tstatic readonly metadata: MetadataOptions = {\n\t\tlibrary: \"sap.cux.home\",\n\t\taggregations: {\n\t\t\titems: { type: \"sap.ui.core.Control\", multiple: true, singularName: \"item\", dnd: { draggable: true, droppable: true } }\n\t\t}\n\t};\n\tstatic renderer = {\n\t\tapiVersion: 2\n\t};\n}\n\n/**\n *\n * Panel class for managing and storing Pages.\n *\n * @extends sap.cux.home.BasePagePanel\n *\n * @author SAP SE\n * @version 0.0.1\n * @since 1.122\n *\n * @internal\n * @experimental Since 1.121\n * @public\n *\n * @alias sap.cux.home.PagePanel\n */\n\nexport default class PagePanel extends BasePagePanel {\n\tstatic readonly metadata: MetadataOptions = {\n\t\tlibrary: \"sap.cux.home\",\n\t\tproperties: {\n\t\t\t/**\n\t\t\t * Title for the page panel\n\t\t\t */\n\t\t\ttitle: { type: \"string\", group: \"Misc\", visibility: \"hidden\" },\n\t\t\t/**\n\t\t\t * Key for the page panel\n\t\t\t */\n\t\t\tkey: { type: \"string\", group: \"Misc\", visibility: \"hidden\" }\n\t\t},\n\t\taggregations: {\n\t\t\t/**\n\t\t\t * Aggregation of pages available within the page panel\n\t\t\t */\n\t\t\tpages: { type: \"sap.cux.home.Page\", singularName: \"page\", multiple: true, visibility: \"hidden\" }\n\t\t}\n\t};\n\tprivate _oWrapperFlexBox!: CustomFlexBox;\n\tprivate oPagePromise!: Promise<IPage[]> | null;\n\tprivate persContainerId: string = PersonalisationUtils.getPersContainerId(this);\n\tprivate PageManagerInstance: PageManager = PageManager.getInstance(\n\t\tthis.persContainerId,\n\t\tPersonalisationUtils.getOwnerComponent(this) as Component\n\t);\n\tprivate aFavPages!: IPage[];\n\tprivate oInnerControls!: GenericTile[];\n\tprivate _oIllusMsg!: IllustratedMessage;\n\tprivate oAddPageBtn!: Button;\n\tprivate oPersonalizer!: UShellPersonalizer;\n\tprivate oEventBus!: EventBus;\n\n\t/**\n\t * Constructor for a new Page panel.\n\t *\n\t * @param {string} [id] ID for the new control, generated automatically if an ID is not provided\n\t * @param {object} [settings] Initial settings for the new control\n\t */\n\tpublic constructor(id?: string, settings?: $BasePagePanelSettings) {\n\t\tsuper(id, settings);\n\t}\n\n\tinit() {\n\t\tsuper.init();\n\n\t\tthis._oWrapperFlexBox = new CustomFlexBox({\n\t\t\tjustifyContent: \"Start\",\n\t\t\theight: \"100%\",\n\t\t\twidth: \"100%\",\n\t\t\tdirection: \"Row\",\n\t\t\trenderType: \"Bare\",\n\t\t\twrap: \"Wrap\"\n\t\t}).addStyleClass(\"newsSlideFlexGap sapUiSmallMarginTop sapUiSmallMarginBottom\");\n\n\t\tthis._oWrapperFlexBox\n\t\t\t.addDragDropConfig(\n\t\t\t\tnew DragDropInfo({\n\t\t\t\t\tsourceAggregation: \"items\",\n\t\t\t\t\ttargetAggregation: \"items\",\n\t\t\t\t\tdropPosition: dnd.DropPosition.Between,\n\t\t\t\t\tdropLayout: dnd.DropLayout.Horizontal,\n\t\t\t\t\tdrop: (oEvent) => void this._handlePageDnd(oEvent)\n\t\t\t\t})\n\t\t\t)\n\t\t\t.attachBrowserEvent(\"keydown\", (event: KeyboardEvent) =>\n\t\t\t\tattachKeyboardHandler(event, true, (dragDropEvent: Event) => this._handlePageDnd(dragDropEvent))\n\t\t\t);\n\n\t\tthis._addContent(this._oWrapperFlexBox);\n\t\tthis.setProperty(\"title\", this._i18nBundle.getText(\"pageTitle\"));\n\n\t\tconst menuItem = new MenuItem(`${this.getId()}-managePages`, {\n\t\t\ttitle: this._i18nBundle.getText(\"mngPage\"),\n\t\t\ticon: \"sap-icon://edit\",\n\t\t\tpress: () => this._handleEditPages()\n\t\t});\n\t\tthis.addAggregation(\"menuItems\", menuItem);\n\t\taddFESRId(menuItem, \"managePages\");\n\t\tthis.oEventBus = EventBus.getInstance();\n\t\t// Subscribe to the event\n\t\tthis.oEventBus.subscribe(\n\t\t\t\"importChannel\",\n\t\t\t\"favPagesImport\",\n\t\t\t(sChannelId?: string, sEventId?: string, oData?) => {\n\t\t\t\tthis.aFavPages = oData as IPage[];\n\t\t\t\tthis._getInnerControls();\n\t\t\t\tthis._importdone();\n\t\t\t},\n\t\t\tthis\n\t\t);\n\n\t\t// Subscribe to page changes from pageManager\n\t\tthis.oEventBus.subscribe(\n\t\t\t\"pageChannel\",\n\t\t\t\"pageUpdated\",\n\t\t\t() => {\n\t\t\t\tvoid this.getData(true);\n\t\t\t},\n\t\t\tthis\n\t\t);\n\t}\n\n\tprivate _importdone() {\n\t\tconst stateData = { status: true };\n\t\tthis.oEventBus.publish(\"importChannel\", \"favPagesImported\", stateData);\n\t}\n\n\tpublic async getData(forceUpdate: boolean = false) {\n\t\tif (this.oPagePromise === undefined || this.oPagePromise === null || forceUpdate) {\n\t\t\tthis.oPagePromise = this.PageManagerInstance.getFavoritePages();\n\t\t\tconst aFavPages = await this.oPagePromise;\n\t\t\tthis.aFavPages = aFavPages;\n\t\t\tthis._getInnerControls();\n\t\t\tthis.oPagePromise = null;\n\t\t}\n\t\treturn this.oPagePromise;\n\t}\n\n\t/**\n\t * Handles the edit page event.\n\t * Opens the page dialog for managing page data.\n\t * @param {Event} oEvent - The event object.\n\t * @private\n\t */\n\tprivate _handleEditPages() {\n\t\tconst parent = this.getParent() as NewsAndPagesContainer;\n\t\tparent?._getLayout().openSettingsDialog(SETTINGS_PANELS_KEYS.PAGES);\n\t}\n\n\tpublic attachResizeHandler(\n\t\tbIsNewsTileVisible: boolean,\n\t\tcontainerWidth: number,\n\t\tpagesContentWrapper: FlexBox,\n\t\tcontainerWrapper: FlexBox\n\t) {\n\t\ttry {\n\t\t\tconst iFavPagesCount = this.aFavPages.length,\n\t\t\t\tdomRef = pagesContentWrapper.getDomRef() as Element;\n\n\t\t\tlet domRefClientWidth = 0;\n\t\t\tdomRefClientWidth = bIsNewsTileVisible ? domRef.clientWidth : containerWidth;\n\n\t\t\tlet pagesPerRow: number = 0,\n\t\t\t\ttileWidth,\n\t\t\t\twrapperWidth = domRefClientWidth / 16; // Divide by 16 to convert to rem,\n\t\t\tconst gap = 1,\n\t\t\t\tflexWrapperWidth = containerWidth || domRef.clientWidth;\n\n\t\t\tif (iFavPagesCount === 1) {\n\t\t\t\tcontainerWrapper.setAlignItems(\"Start\");\n\t\t\t}\n\n\t\t\tif (bIsNewsTileVisible && flexWrapperWidth >= 1520) {\n\t\t\t\t// As newsTile will grow till 40.75 rem, calculating the remaining width\n\t\t\t\twrapperWidth = flexWrapperWidth / 16 - 40.75;\n\t\t\t}\n\n\t\t\tif (iFavPagesCount > 0) {\n\t\t\t\tif (!bIsNewsTileVisible) {\n\t\t\t\t\t// If Space available display all tiles in a single row\n\t\t\t\t\tconst spaceRequired = iFavPagesCount * minTileSize + (iFavPagesCount - 1) * gap;\n\t\t\t\t\tif (spaceRequired <= wrapperWidth) {\n\t\t\t\t\t\tpagesPerRow = iFavPagesCount;\n\t\t\t\t\t\ttileWidth = (wrapperWidth - (pagesPerRow - 1) * gap) / pagesPerRow;\n\t\t\t\t\t\ttileWidth = tileWidth <= maxTileSize ? tileWidth : maxTileSize;\n\t\t\t\t\t\tthis._setPropertyValues({ hBoxWidth: wrapperWidth + \"rem\", pagesTileWidth: tileWidth + \"rem\" });\n\t\t\t\t\t\tpagesContentWrapper.setWidth(wrapperWidth + \"rem\");\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tpagesPerRow = this._handleResizeForDesktop(bIsNewsTileVisible, iFavPagesCount, pagesPerRow);\n\t\t\t\ttileWidth = (wrapperWidth - (pagesPerRow - 1) * gap) / pagesPerRow;\n\t\t\t\ttileWidth = tileWidth <= maxTileSize ? tileWidth : maxTileSize;\n\n\t\t\t\tconst hBoxWidth = pagesPerRow === 0 ? \"100%\" : pagesPerRow * tileWidth + pagesPerRow * gap + \"rem\";\n\t\t\t\tthis._setPropertyValues({ hBoxWidth: hBoxWidth, pagesTileWidth: tileWidth + \"rem\" });\n\t\t\t\tpagesContentWrapper.setWidth(wrapperWidth + \"rem\");\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\tpagesContentWrapper.setWidth(wrapperWidth + \"rem\");\n\t\t\treturn true;\n\t\t} catch (oErr) {\n\t\t\tif (oErr instanceof Error) {\n\t\t\t\tconsole.error(oErr.message);\n\t\t\t}\n\t\t\treturn false;\n\t\t}\n\t}\n\n\tpublic async getUserAvailablePages() {\n\t\treturn await this.PageManagerInstance.fetchAllAvailablePages();\n\t}\n\n\tprivate _handleResizeForDesktop(bIsNewsTileVisible: boolean, iFavPagesCount: number, pagesPerRow: number): number {\n\t\tconst sDeviceType = this.getDeviceType();\n\t\tconst pagesToDisplay = Math.ceil(iFavPagesCount >= 8 ? 4 : iFavPagesCount / 2);\n\t\tif (sDeviceType === DeviceType.Desktop || sDeviceType === DeviceType.LargeDesktop) {\n\t\t\tif (bIsNewsTileVisible) {\n\t\t\t\tpagesPerRow = pagesToDisplay;\n\t\t\t} else {\n\t\t\t\tpagesPerRow = iFavPagesCount <= 4 ? iFavPagesCount : pagesToDisplay;\n\t\t\t}\n\t\t} else if (sDeviceType === DeviceType.Tablet) {\n\t\t\tpagesPerRow = iFavPagesCount <= 4 ? iFavPagesCount : pagesToDisplay;\n\t\t}\n\t\treturn pagesPerRow;\n\t}\n\n\tprivate _getInnerControls() {\n\t\tconst myFavPage: Page[] = [];\n\t\tthis.oInnerControls = [];\n\t\tconst oParent = this.getParent() as NewsAndPagesContainer;\n\t\tif (this.aFavPages) {\n\t\t\tthis.aFavPages.forEach((oPage: IPage) => {\n\t\t\t\tmyFavPage.push(\n\t\t\t\t\tnew Page(\"\", {\n\t\t\t\t\t\ttitle: oPage.title,\n\t\t\t\t\t\tsubTitle: oPage.title === oPage.spaceTitle ? \"\" : oPage.spaceTitle,\n\t\t\t\t\t\ticon: oPage.icon,\n\t\t\t\t\t\tbgColor: oPage.BGColor as string,\n\t\t\t\t\t\tpageId: oPage.pageId,\n\t\t\t\t\t\tspaceId: oPage.spaceId,\n\t\t\t\t\t\tspaceTitle: oPage.spaceTitle,\n\t\t\t\t\t\turl: \"#Launchpad-openFLPPage?pageId=\" + oPage.pageId + \"&spaceId=\" + oPage.spaceId\n\t\t\t\t\t})\n\t\t\t\t);\n\t\t\t});\n\t\t\tmyFavPage.forEach((oFav: Page) => {\n\t\t\t\tthis.oInnerControls.push(\n\t\t\t\t\tnew GenericTile({\n\t\t\t\t\t\t// width: \"10rem\",\n\t\t\t\t\t\theader: oFav.getTitle(),\n\t\t\t\t\t\tsubheader: oFav.getSubTitle(),\n\t\t\t\t\t\tpress: () => void oFav.onPageTilePress(oFav),\n\t\t\t\t\t\tsizeBehavior: \"Responsive\",\n\t\t\t\t\t\tstate: \"Loaded\",\n\t\t\t\t\t\tframeType: \"OneByOne\",\n\t\t\t\t\t\tmode: \"IconMode\",\n\t\t\t\t\t\tbackgroundColor: oFav.getBgColor(),\n\t\t\t\t\t\ttileIcon: oFav.getIcon(),\n\t\t\t\t\t\tvisible: true,\n\t\t\t\t\t\trenderOnThemeChange: true,\n\t\t\t\t\t\tariaRole: \"listitem\",\n\t\t\t\t\t\tdropAreaOffset: 8,\n\t\t\t\t\t\turl: oFav.getProperty(\"url\") as string\n\t\t\t\t\t})\n\t\t\t\t);\n\t\t\t\tthis.addAggregation(\"pages\", oFav, true);\n\t\t\t});\n\n\t\t\tthis._oWrapperFlexBox.setAlignItems(this.aFavPages.length == 1 ? \"Start\" : \"Center\");\n\n\t\t\tif (this.aFavPages.length) {\n\t\t\t\toParent?.panelLoadedFn(\"Page\", { loaded: true, count: this.aFavPages.length });\n\t\t\t\tthis._setFavPagesContent();\n\t\t\t} else {\n\t\t\t\toParent?.panelLoadedFn(\"Page\", { loaded: true, count: 0 });\n\t\t\t\tthis._setNoPageContent();\n\t\t\t}\n\t\t} else {\n\t\t\toParent?.panelLoadedFn(\"Page\", { loaded: false, count: 0 });\n\t\t\tthis.removeAggregation(\"content\", this._oWrapperFlexBox);\n\t\t}\n\t}\n\n\tprivate _setFavPagesContent() {\n\t\tthis._oWrapperFlexBox.removeAllItems();\n\t\tthis.oInnerControls.forEach((oTile: GenericTile) => {\n\t\t\tthis._oWrapperFlexBox.addItem(oTile);\n\t\t});\n\t}\n\n\tprivate _createNoPageContent() {\n\t\tif (!this._oIllusMsg) {\n\t\t\tthis._oIllusMsg = new IllustratedMessage(this.getId() + \"--idNoPages\", {\n\t\t\t\tillustrationSize: \"Spot\",\n\t\t\t\tillustrationType: \"sapIllus-SimpleNoSavedItems\",\n\t\t\t\ttitle: this._i18nBundle.getText(\"noDataPageTitle\"),\n\t\t\t\tdescription: this._i18nBundle.getText(\"noPageDescription\")\n\t\t\t}).addStyleClass(\"myHomeIllustratedMsg myHomeIllustratedMessageAlign\");\n\t\t\tthis.oAddPageBtn = new Button(this.getId() + \"--idAddPageBtn\", {\n\t\t\t\ttext: this._i18nBundle.getText(\"addPage\"),\n\t\t\t\ttooltip: this._i18nBundle.getText(\"addPage\"),\n\t\t\t\ttype: \"Emphasized\",\n\t\t\t\tpress: () => this._handleEditPages()\n\t\t\t});\n\t\t\taddFESRSemanticStepName(this.oAddPageBtn, \"press\", \"addPages\");\n\t\t}\n\t}\n\n\tprivate _setNoPageContent() {\n\t\tconst oWrapperNoPageVBox = new VBox({\n\t\t\twidth: \"100%\",\n\t\t\theight: \"17rem\",\n\t\t\tbackgroundDesign: \"Solid\",\n\t\t\tjustifyContent: \"Center\"\n\t\t}).addStyleClass(\"sapUiRoundedBorder noCardsBorder\");\n\t\tthis._createNoPageContent();\n\t\tthis._oIllusMsg.addAdditionalContent(this.oAddPageBtn);\n\t\tthis._oWrapperFlexBox.removeAllItems();\n\t\tthis._oWrapperFlexBox.addStyleClass(\"pagesFlexBox\");\n\t\toWrapperNoPageVBox.addItem(this._oIllusMsg);\n\t\tthis._oWrapperFlexBox.addItem(oWrapperNoPageVBox);\n\t}\n\n\tprivate _setPropertyValues(oVal: { hBoxWidth: string; pagesTileWidth: string }) {\n\t\tconst propNames = Object.keys(oVal);\n\t\tpropNames.forEach((sProperty: string) => {\n\t\t\tif (sProperty === \"hBoxWidth\") {\n\t\t\t\tthis._oWrapperFlexBox.setProperty(\"width\", oVal[sProperty]);\n\t\t\t} else if (sProperty === \"pagesTileWidth\" && this.oInnerControls.length) {\n\t\t\t\tthis.oInnerControls.forEach(function (oTile) {\n\t\t\t\t\toTile.setProperty(\"width\", oVal[sProperty]);\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t}\n\n\tprivate async _handlePageDnd(oEvent: Event<DropInfo$DropEventParameters>) {\n\t\tconst sInsertPosition = oEvent.getParameter?.(\"dropPosition\"),\n\t\t\toDragItem = oEvent?.getParameter?.(\"draggedControl\") as Control,\n\t\t\toDropItem = oEvent.getParameter(\"droppedControl\") as Control,\n\t\t\tiDragItemIndex = (oDragItem.getParent() as FlexBox)?.indexOfItem(oDragItem);\n\t\tlet iDropItemIndex = (oDragItem.getParent() as FlexBox)?.indexOfItem(oDropItem);\n\n\t\tif (sInsertPosition === \"Before\" && iDragItemIndex === iDropItemIndex - 1) {\n\t\t\tiDropItemIndex--;\n\t\t} else if (sInsertPosition === \"After\" && iDragItemIndex === iDropItemIndex + 1) {\n\t\t\tiDropItemIndex++;\n\t\t}\n\n\t\tif (iDragItemIndex !== iDropItemIndex) {\n\t\t\tawait this._DragnDropPages(iDragItemIndex, iDropItemIndex, sInsertPosition as string);\n\t\t}\n\t}\n\n\tprivate async _DragnDropPages(iDragItemIndex: number, iDropItemIndex: number, sInsertPosition: string) {\n\t\tif (sInsertPosition === \"Before\" && iDragItemIndex < iDropItemIndex) {\n\t\t\tiDropItemIndex--;\n\t\t} else if (sInsertPosition === \"After\" && iDragItemIndex > iDropItemIndex) {\n\t\t\tiDropItemIndex++;\n\t\t}\n\t\t// take the moved item from dragIndex and add to dropindex\n\t\tconst oItemMoved = this.aFavPages.splice(iDragItemIndex, 1)[0];\n\t\tthis.aFavPages.splice(iDropItemIndex, 0, oItemMoved);\n\t\tthis._getInnerControls();\n\n\t\tif (this.oPersonalizer === undefined) {\n\t\t\tthis.oPersonalizer = await UShellPersonalizer.getInstance(\n\t\t\t\tthis.persContainerId,\n\t\t\t\tPersonalisationUtils.getOwnerComponent(this) as Component\n\t\t\t);\n\t\t}\n\n\t\tlet oPersData = await this.oPersonalizer.read();\n\t\tif (!oPersData) oPersData = { favouritePages: [] };\n\t\toPersData.favouritePages = this.aFavPages;\n\t\tawait this.oPersonalizer.write(oPersData);\n\t}\n\n\tpublic applyColorPersonalizations(personalizations: Array<ISpacePagePersonalization>) {\n\t\tvoid this.PageManagerInstance?.applyColorPersonalizations(personalizations);\n\t}\n\n\tpublic applyIconPersonalizations(personalizations: Array<ISpacePagePersonalization>) {\n\t\tvoid this.PageManagerInstance?.applyIconPersonalizations(personalizations);\n\t}\n}\n"],"mappings":"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","ignoreList":[],"sourceRoot":""}},{"offset":{"line":283,"column":0},"map":{"version":3,"file":"PageSettingsPanel.js","names":["sap","ui","define","CustomListItem","HBox","List","Panel","SearchField","Text","Title","ToggleButton","Toolbar","ToolbarSpacer","VBox","__BaseSettingsPanel","___utils_Constants","__PageManager","__PersonalisationUtils","_interopRequireDefault","obj","__esModule","default","BaseSettingsPanel","PAGE_SELECTION_LIMIT","SETTINGS_PANELS_KEYS","PageManager","PersonalisationUtils","PageSettingsPanel","extend","constructor","prototype","apply","this","arguments","_initialNavigation","init","_init","BaseSettingsPanel.prototype.init.call","setProperty","PAGES","_i18nBundle","getText","oWrapperVBox","getId","width","addStyleClass","addAggregation","attachPanelNavigated","onPanelNavigated","_onPanelNavigated","_this","_temp2","oSearchField","getValue","setValue","sSearchQuery","_renderPages","aSpaces","_temp","Promise","resolve","_initializePanel","then","e","reject","_this2","PageManagerInstance","getInstance","getPersContainerId","_getPanel","getOwnerComponent","fetchAllAvailablePages","_this2$PageManagerIns","aAllPages","getFavoritePages","_this2$PageManagerIns2","aFavPages","fetchAllAvailableSpaces","_this2$PageManagerIns3","_showMessageStrip","_showToolbar","_showPagesList","oMessageStripVBox","oMessage","_seHeaderMessage","addItem","setText","length","oTitle","text","titleStyle","liveChange","oEvent","_onPagesSearch","oToolbar","height","design","content","oPagesListVBox","_createPagesList","oPage","oText","label","oToggleBtn","tooltip","selected","icon","type","pressed","enabled","press","_pageSelectHandler","id","oHBox","justifyContent","alignItems","items","oCustomListItem","pageSettingsPage","getParent","scrollContainerDomRef","getDomRef","childNodes","currentScrollPosition","scrollTop","removeAllItems","oNoDataHBox","setVisible","forEach","oSpace","aPagesList","children","find","oFavPage","pageId","push","oHeaderToolbar","_createHeaderToolbar","oPanel","expandable","expanded","headerToolbar","setTimeout","scrollTo","wrapping","sPageId","_this3","bIsCheckBoxSelected","getSource","getPressed","oPageObj","iIndex","findIndex","splice","getFavPages","aFilteredSpaces","_filterSpacesPages","getData","toLowerCase","spaceLabel","includes"],"sources":["PageSettingsPanel.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\n\nimport CustomListItem from \"sap/m/CustomListItem\";\nimport HBox from \"sap/m/HBox\";\nimport List from \"sap/m/List\";\nimport Page from \"sap/m/Page\";\nimport Panel from \"sap/m/Panel\";\nimport SearchField from \"sap/m/SearchField\";\nimport Text from \"sap/m/Text\";\nimport Title from \"sap/m/Title\";\nimport ToggleButton from \"sap/m/ToggleButton\";\nimport Toolbar from \"sap/m/Toolbar\";\nimport ToolbarSpacer from \"sap/m/ToolbarSpacer\";\nimport VBox from \"sap/m/VBox\";\nimport Event from \"sap/ui/base/Event\";\nimport Component from \"sap/ui/core/Component\";\nimport BaseSettingsPanel from \"./BaseSettingsPanel\";\nimport PagePanel from \"./PagePanel\";\nimport { IPage, ISpace } from \"./interface/PageSpaceInterface\";\nimport { PAGE_SELECTION_LIMIT, SETTINGS_PANELS_KEYS } from \"./utils/Constants\";\nimport PageManager from \"./utils/PageManager\";\nimport PersonalisationUtils from \"./utils/PersonalisationUtils\";\n\n/**\n *\n * Class for My Home Page Settings Panel.\n *\n * @extends BaseSettingsPanel\n *\n * @author SAP SE\n * @version 0.0.1\n * @since 1.121\n *\n * @internal\n * @experimental Since 1.121\n * @private\n *\n * @alias sap.cux.home.PageSettingsPanel\n */\nexport default class PageSettingsPanel extends BaseSettingsPanel {\n\tprivate PageManagerInstance!: PageManager;\n\tprivate aAllPages!: IPage[];\n\tprivate aFavPages!: IPage[];\n\tprivate aSpaces!: ISpace[];\n\tprivate oWrapperVBox!: VBox;\n\tprivate oSearchField!: SearchField;\n\tprivate sSearchQuery!: string;\n\tprivate oMessage!: Text;\n\tprivate oPagesListVBox!: VBox;\n\tprivate oNoDataHBox!: HBox;\n\tprivate _initialNavigation: boolean = true;\n\t/**\n\t * Init lifecycle method\n\t *\n\t * @public\n\t * @override\n\t */\n\tpublic init() {\n\t\tsuper.init();\n\n\t\t//setup panel\n\t\tthis.setProperty(\"key\", SETTINGS_PANELS_KEYS.PAGES);\n\t\tthis.setProperty(\"title\", this._i18nBundle.getText(\"pages\"));\n\t\tthis.setProperty(\"icon\", \"sap-icon://course-book\");\n\t\tthis.oWrapperVBox = new VBox(`${this.getId()}--pageSettingsWrapper`, {\n\t\t\twidth: \"100%\"\n\t\t}).addStyleClass(\"sapUiNoPadding sapUiNoMarginEnd\");\n\t\tthis.addAggregation(\"content\", this.oWrapperVBox);\n\n\t\t//fired every time on panel navigation\n\t\tthis.attachPanelNavigated(() => {\n\t\t\tvoid this.onPanelNavigated();\n\t\t});\n\t}\n\n\t/**\n\t * Handler for panel navigation event.\n\t * Initialize the Page Settings Panel on navigation, if it is not already initializaed.\n\t * @private\n\t */\n\tprivate async onPanelNavigated() {\n\t\tif (this._initialNavigation) {\n\t\t\tthis._initialNavigation = false;\n\t\t\tawait this._initializePanel();\n\t\t}\n\t\t// Clear Search field and search results\n\t\tif (this.oSearchField?.getValue()) {\n\t\t\tthis.oSearchField.setValue(\"\");\n\t\t\tthis.sSearchQuery = \"\";\n\t\t\tthis._renderPages(this.aSpaces);\n\t\t}\n\t}\n\n\t/**\n\t * Initialize the Page Settings Panel.\n\t * @private\n\t */\n\tprivate async _initializePanel() {\n\t\tif (!this.PageManagerInstance) {\n\t\t\t// initializing the page manager instance on panel navigation, as when on init is triggered, the panel assocation is not yet set\n\t\t\t// we are using this._getPanel() (i.e. corresponding panel) instead of this, as settings panel don't have an ownerId\n\t\t\tthis.PageManagerInstance = PageManager.getInstance(\n\t\t\t\tPersonalisationUtils.getPersContainerId(this._getPanel()),\n\t\t\t\tPersonalisationUtils.getOwnerComponent(this._getPanel()) as Component\n\t\t\t);\n\t\t}\n\t\tthis.aAllPages = await this.PageManagerInstance.fetchAllAvailablePages();\n\t\tthis.aFavPages = await this.PageManagerInstance.getFavoritePages();\n\t\tthis.aSpaces = await this.PageManagerInstance.fetchAllAvailableSpaces();\n\t\tthis._showMessageStrip();\n\t\tthis._showToolbar();\n\t\tthis._showPagesList();\n\t}\n\n\tprivate _showMessageStrip() {\n\t\tconst oMessageStripVBox = new VBox(`${this.getId()}--msgStripContainer`, {\n\t\t\twidth: \"100%\"\n\t\t}).addStyleClass(\"sapUiNoPadding sapUiNoMarginEnd\");\n\t\tthis.oMessage = new Text(`${this.getId()}--msgStripText`).addStyleClass(\"sapUiSmallMargin\");\n\t\tthis._seHeaderMessage();\n\t\toMessageStripVBox.addItem(this.oMessage);\n\t\tthis.oWrapperVBox.addItem(oMessageStripVBox);\n\t}\n\n\tprivate _seHeaderMessage() {\n\t\tthis.oMessage.setText(\n\t\t\tthis.aFavPages.length >= PAGE_SELECTION_LIMIT\n\t\t\t\t? this._i18nBundle.getText(\"myInterestwarning\")\n\t\t\t\t: this._i18nBundle.getText(\"myInterestinfo\")\n\t\t);\n\t}\n\n\tprivate _showToolbar() {\n\t\tconst oTitle = new Title(`${this.getId()}--pagesListTitle`, {\n\t\t\ttext: this._i18nBundle.getText(\"pageGroupHeader\"),\n\t\t\ttitleStyle: \"H5\"\n\t\t}).addStyleClass(\"sapUiSmallMarginBottom\");\n\n\t\tthis.oSearchField = new SearchField(`${this.getId()}--pagesListSearch`, {\n\t\t\tliveChange: (oEvent) => this._onPagesSearch(oEvent),\n\t\t\twidth: \"13.75rem\"\n\t\t}).addStyleClass(\"sapUiSmallMarginBottom\");\n\n\t\tconst oToolbar = new Toolbar(`${this.getId()}--pagesListToolbar`, {\n\t\t\twidth: \"calc(100% - 2rem)\",\n\t\t\theight: \"3rem\",\n\t\t\tdesign: \"Solid\",\n\t\t\tcontent: [oTitle, new ToolbarSpacer(`${this.getId()}--pagesHeaderToolbarSpacer`), this.oSearchField]\n\t\t}).addStyleClass(\"sapUiSmallMarginBegin pagesToolbarNoPadding\");\n\t\tthis.oWrapperVBox.addItem(oToolbar);\n\t}\n\n\tprivate _showPagesList() {\n\t\tthis.oPagesListVBox = new VBox(`${this.getId()}--pagesListVBox`, {\n\t\t\twidth: \"calc(100% - 2rem)\"\n\t\t}).addStyleClass(\"sapUiSmallMarginBegin\");\n\t\tthis._renderPages(this.aSpaces);\n\t\tthis.oWrapperVBox.addItem(this.oPagesListVBox);\n\t}\n\n\tprivate _createPagesList(oPage: IPage): CustomListItem {\n\t\tconst oText = new Text({\n\t\t\ttext: oPage.label\n\t\t});\n\t\tconst oToggleBtn = new ToggleButton({\n\t\t\ttooltip: oPage.selected ? this._i18nBundle.getText(\"hideBtn\") : this._i18nBundle.getText(\"showBtn\"),\n\t\t\ticon: \"sap-icon://show\",\n\t\t\ttype: \"Emphasized\",\n\t\t\tpressed: !oPage.selected,\n\t\t\tenabled: oPage.selected || this.aFavPages.length < PAGE_SELECTION_LIMIT,\n\t\t\tpress: (oEvent) => void this._pageSelectHandler(oPage.id as string, oEvent)\n\t\t});\n\t\tconst oHBox = new HBox({\n\t\t\tjustifyContent: \"SpaceBetween\",\n\t\t\talignItems: \"Center\",\n\t\t\titems: [oText, oToggleBtn]\n\t\t});\n\t\tconst oCustomListItem = new CustomListItem({\n\t\t\tcontent: [oHBox]\n\t\t}).addStyleClass(\"pagesPanelItem\");\n\t\treturn oCustomListItem;\n\t}\n\n\tprivate _renderPages(aSpaces: ISpace[]) {\n\t\tconst pageSettingsPage = this.oPagesListVBox.getParent()?.getParent() as Page;\n\t\tconst scrollContainerDomRef = pageSettingsPage?.getDomRef()?.childNodes[1] as Element;\n\t\tconst currentScrollPosition = scrollContainerDomRef?.scrollTop || 0;\n\t\tthis.oPagesListVBox.removeAllItems();\n\t\tif (!aSpaces.length) {\n\t\t\tif (!this.oNoDataHBox) {\n\t\t\t\tthis.oNoDataHBox = new HBox(`${this.getId()}--noSpacePageHBox`, {\n\t\t\t\t\theight: \"3rem\",\n\t\t\t\t\tjustifyContent: \"Center\",\n\t\t\t\t\talignItems: \"Center\",\n\t\t\t\t\titems: [\n\t\t\t\t\t\tnew Text({\n\t\t\t\t\t\t\ttext: this._i18nBundle.getText(\"noData\")\n\t\t\t\t\t\t})\n\t\t\t\t\t]\n\t\t\t\t}).addStyleClass(\"pagesBottomBorder\");\n\t\t\t\tthis.oWrapperVBox.addItem(this.oNoDataHBox);\n\t\t\t}\n\t\t\tthis.oNoDataHBox.setVisible(true);\n\t\t} else if (this.oNoDataHBox) {\n\t\t\tthis.oNoDataHBox.setVisible(false);\n\t\t}\n\n\t\taSpaces.forEach((oSpace) => {\n\t\t\tconst aPagesList: CustomListItem[] = [];\n\t\t\toSpace.children.forEach((oPage) => {\n\t\t\t\toPage.selected = this.aFavPages.find((oFavPage) => oFavPage.pageId === oPage.id) ? true : false;\n\t\t\t\taPagesList.push(this._createPagesList(oPage));\n\t\t\t});\n\t\t\tconst oHeaderToolbar = this._createHeaderToolbar(oSpace);\n\t\t\tconst oPanel = new Panel(\"\", {\n\t\t\t\texpandable: true,\n\t\t\t\texpanded: true,\n\t\t\t\twidth: \"auto\",\n\t\t\t\theaderToolbar: oHeaderToolbar,\n\t\t\t\tcontent: new List({\n\t\t\t\t\titems: aPagesList\n\t\t\t\t})\n\t\t\t}).addStyleClass(\"pagesPanel\");\n\t\t\tthis.oPagesListVBox.addItem(oPanel);\n\t\t});\n\t\tif (currentScrollPosition >= 0 && pageSettingsPage) {\n\t\t\tsetTimeout(() => {\n\t\t\t\tpageSettingsPage.scrollTo(currentScrollPosition);\n\t\t\t}, 0);\n\t\t}\n\t}\n\n\tprivate _createHeaderToolbar(oSpace: ISpace) {\n\t\tconst oTitle = new Title({\n\t\t\twrapping: true,\n\t\t\twidth: \"16rem\",\n\t\t\ttext: oSpace.label\n\t\t}).addStyleClass(\"dialogPanelTitle\");\n\t\tconst oToolbar = new Toolbar({\n\t\t\tdesign: \"Solid\",\n\t\t\tcontent: [oTitle]\n\t\t});\n\t\treturn oToolbar;\n\t}\n\n\tprivate async _pageSelectHandler(sPageId: string, oEvent: { getSource: () => { getPressed: () => boolean } }) {\n\t\tconst bIsCheckBoxSelected = !oEvent.getSource().getPressed();\n\t\tconst oPageObj = this.aAllPages.find((oPage) => oPage.pageId === sPageId);\n\t\tif (!oPageObj) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif (bIsCheckBoxSelected) {\n\t\t\tthis.aFavPages.push(oPageObj);\n\t\t} else {\n\t\t\tconst iIndex = this.aFavPages.findIndex((oPage) => oPage.pageId === sPageId);\n\t\t\tthis.aFavPages.splice(iIndex, 1);\n\t\t}\n\t\tthis._seHeaderMessage();\n\t\tawait this.PageManagerInstance.getFavPages(this.aFavPages, true);\n\t\tlet aFilteredSpaces;\n\t\tif (this.sSearchQuery?.length) {\n\t\t\taFilteredSpaces = this._filterSpacesPages();\n\t\t}\n\t\tthis._renderPages(aFilteredSpaces || this.aSpaces);\n\t\tvoid (this._getPanel() as PagePanel).getData();\n\t}\n\n\tprivate _onPagesSearch(oEvent: Event) {\n\t\tthis.sSearchQuery = oEvent.getSource<SearchField>().getValue().toLowerCase();\n\t\tconst aFilteredSpaces = this._filterSpacesPages();\n\t\tthis._renderPages(aFilteredSpaces);\n\t}\n\n\tprivate _filterSpacesPages() {\n\t\tconst aFilteredSpaces: ISpace[] = [];\n\t\tthis.aSpaces.forEach((oSpace) => {\n\t\t\tconst children: IPage[] = [];\n\t\t\tconst spaceLabel = oSpace.label;\n\t\t\toSpace.children.forEach((oPage) => {\n\t\t\t\tif (oPage.label?.toLowerCase().includes(this.sSearchQuery) || spaceLabel?.toLowerCase().includes(this.sSearchQuery)) {\n\t\t\t\t\tchildren.push(oPage);\n\t\t\t\t}\n\t\t\t});\n\t\t\tif (children.length) {\n\t\t\t\taFilteredSpaces.push({\n\t\t\t\t\t...oSpace,\n\t\t\t\t\tchildren\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t\treturn aFilteredSpaces;\n\t}\n}\n"],"mappings":"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","ignoreList":[],"sourceRoot":""}},{"offset":{"line":290,"column":0},"map":{"version":3,"file":"RecentAppPanel.js","names":["sap","ui","define","Log","Button","CustomListItem","Dialog","GroupHeaderListItem","sap_m_library","List","OverflowToolbar","Select","StandardListItem","ToolbarSpacer","VBox","DateFormat","Item","Container","EventHub","__BaseAppPersPanel","__MenuItem","___utils_FESRUtil","_interopRequireDefault","obj","__esModule","default","_catch","body","recover","result","e","then","URLHelper","BaseAppPersPanel","MenuItem","addFESRId","DateFilterOption","GroupDateFormatter","getDateInstance","pattern","Constants","OLDER_DATE_TIMESTAMP","Number","MIN_SAFE_INTEGER","formatConstantTimeInDate","date","setHours","getWeekRangeValues","weekOffset","currentDate","Date","startDate","startDateTimeStamp","setDate","getDate","getDay","endDate","endDateTimeStamp","getDaysBefore","currentTimeStamp","days","newDateStamp","isDateWithinRange","appTimeStamp","startTimeStamp","endTimeStamp","RecentAppPanel","extend","metadata","library","defaultAggregation","aggregations","apps","type","singularName","multiple","visibility","constructor","_constructor","id","settings","BaseAppPersPanel.prototype.constructor.call","this","_recentApps","setSupported","init","_init","BaseAppPersPanel.prototype.init.call","setProperty","_i18nBundle","getText","_attachUserActivityTracking","on","do","refresh","showHistoryMenuItem","getId","title","icon","press","_openHistoryDialog","bind","insertAggregation","loadApps","_loadApps","_this","Promise","resolve","_getRecentApps","recentApps","map","app","menuItems","_getAppActions","addedInFavorites","destroyAggregation","setApps","generateApps","reject","_this2","getServiceAsync","UserRecentsService","all","getRecentActivity","oRecentActivity","_getRecentActivitiesFromLoadedData","_ref","recentActivities","recentActivitiesUsageData","convertActivitiesToVisualizations","_this2$convertActivit","recentDate","recentDay","_recentDayTimeStamp","recentUsage","recentUsageArray","recentUsageMap","Map","forEach","oItem","appId","set","aUsageArray","dateStamp","timestamp","size","usageArray","get","orgAppId","error","isAppAddedInFavorite","arguments","length","undefined","resumeLastActivityItem","_resumeAppActivity","appActions","addToFavoritesItem","event","_addAppToFavorites","push","menuItem","getSource","getParent","url","getUrl","redirect","_generateHistoryDialog","_controlMap","content","height","items","_generateAppHistoryList","addStyleClass","escapeHandler","_closeHistoryDialog","contentHeight","contentWidth","buttons","text","growing","growingScrollToLoad","headerToolbar","style","_generateAppHistoryListFilter","selectedKey","ALL","change","_onDateFilterChange","key","TODAY","WEEK","TWO_WEEK","THREE_WEEK","_generateAppHistoryListItems","appHistoryItems","appHistoryList","destroyItems","appHistoryItem","addItem","_getGroupHeader","name","historyDialog","appHistory","_getAppHistory","open","close","getParameter","getKey","filteredAppHistory","_getFilteredAppHistory","sTitle","format","groupedAppHistory","thresholdTimeStamp","recentApp","appUsage","usage","index","usageDate","Object","values","sort","a","b","filter","currentWeekStartDate","currentWeekEndDate","secondWeekStartDate","thirdWeekStartDate","generateIllustratedMessage","_generateIllustratedMessage","illustratedMessage","BaseAppPersPanel.prototype.generateIllustratedMessage.call","setDescription"],"sources":["RecentAppPanel.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\n\nimport Log from \"sap/base/Log\";\nimport Button from \"sap/m/Button\";\nimport CustomListItem from \"sap/m/CustomListItem\";\nimport Dialog from \"sap/m/Dialog\";\nimport GroupHeaderListItem from \"sap/m/GroupHeaderListItem\";\nimport { URLHelper } from \"sap/m/library\";\nimport List from \"sap/m/List\";\nimport OverflowToolbar from \"sap/m/OverflowToolbar\";\nimport Select, { Select$ChangeEvent } from \"sap/m/Select\";\nimport StandardListItem from \"sap/m/StandardListItem\";\nimport ToolbarSpacer from \"sap/m/ToolbarSpacer\";\nimport VBox from \"sap/m/VBox\";\nimport Event from \"sap/ui/base/Event\";\nimport type { MetadataOptions } from \"sap/ui/core/Element\";\nimport DateFormat from \"sap/ui/core/format/DateFormat\";\nimport Item from \"sap/ui/core/Item\";\nimport Container from \"sap/ushell/Container\";\nimport EventHub from \"sap/ushell/EventHub\";\nimport UserRecents from \"sap/ushell/services/UserRecents\";\nimport App from \"./App\";\nimport BaseAppPersPanel, { $BaseAppPersPanelSettings } from \"./BaseAppPersPanel\";\nimport { IActivity } from \"./interface/AppsInterface\";\nimport MenuItem from \"./MenuItem\";\nimport { addFESRId } from \"./utils/FESRUtil\";\n\ninterface IAppHistoryItem {\n\tname: string;\n}\n\ninterface IAppHistory {\n\tdateStamp: number;\n\tapps: IAppHistoryItem[];\n}\n\nenum DateFilterOption {\n\tALL = \"ALL\",\n\tTODAY = \"TODAY\",\n\tWEEK = \"WEEK\",\n\tTWO_WEEK = \"TWO_WEEK\",\n\tTHREE_WEEK = \"THREE_WEEK\"\n}\n\nconst GroupDateFormatter = DateFormat.getDateInstance({ pattern: \"MMMM d, yyyy\" });\n\nconst Constants = {\n\tOLDER_DATE_TIMESTAMP: Number.MIN_SAFE_INTEGER\n};\n\nconst formatConstantTimeInDate = (date: Date): number => {\n\treturn date.setHours(12, 0, 0, 0);\n};\n\n/**\n * Calculates the start and end dates of a week based on the given week offset.\n * @param weekOffset - The offset from the current week.\n * @returns An object containing the start and end dates of the week.\n */\nconst getWeekRangeValues = (weekOffset: number) => {\n\tconst currentDate = new Date();\n\n\t// Calculate the start of the current week (with sunday as the first day of the week)\n\tconst startDate = new Date(currentDate);\n\tconst startDateTimeStamp = startDate.setDate(currentDate.getDate() - currentDate.getDay() - 7 * weekOffset);\n\n\t// Calculate the end of the week\n\tconst endDate = new Date(startDate);\n\tconst endDateTimeStamp = endDate.setDate(startDate.getDate() + 6);\n\n\treturn {\n\t\tstartDate: startDateTimeStamp,\n\t\tendDate: endDateTimeStamp\n\t};\n};\n\n/**\n * Calculates the timestamp of a date, that is a specified number of days before a given current date.\n *\n * @param {Date} currentTimeStamp - The current date to calculate days before.\n * @param {number} days - The number of days before the current date.\n * @returns {number} The timestamp of the date `days` before `currentDate`.\n */\nconst getDaysBefore = (currentTimeStamp: number, days: number): number => {\n\tconst currentDate = new Date(currentTimeStamp);\n\tconst newDateStamp = currentDate.setDate(currentDate.getDate() - days);\n\treturn formatConstantTimeInDate(new Date(newDateStamp));\n};\n\n/**\n * Filters an app by date.\n * @private\n * @param {number} appTimeStamp - The timestamp of the app.\n * @param {number} startTimeStamp - The start timestamp for filtering.\n * @param {number} endTimeStamp - The end timestamp for filtering.\n * @returns A boolean indicating whether the app falls within the specified date range.\n */\nconst isDateWithinRange = (appTimeStamp: number, startTimeStamp: number, endTimeStamp: number) => {\n\treturn appTimeStamp >= startTimeStamp && appTimeStamp <= endTimeStamp;\n};\n\n/**\n *\n * Provides class for managing Recently Used apps.\n *\n * @extends sap.cux.home.BaseAppPersPanel\n *\n * @author SAP SE\n * @version 0.0.1\n * @since 1.121.0\n *\n * @internal\n * @experimental Since 1.121\n * @public\n *\n * @alias sap.cux.home.RecentAppPanel\n */\nexport default class RecentAppPanel extends BaseAppPersPanel {\n\tprivate _recentDayTimeStamp!: number;\n\tprivate _recentApps: IActivity[] = [];\n\tstatic readonly metadata: MetadataOptions = {\n\t\tlibrary: \"sap.cux.home\",\n\t\tdefaultAggregation: \"apps\",\n\t\taggregations: {\n\t\t\t/**\n\t\t\t * Apps aggregation for Recent apps\n\t\t\t */\n\t\t\tapps: { type: \"sap.cux.home.App\", singularName: \"app\", multiple: true, visibility: \"hidden\" }\n\t\t}\n\t};\n\n\t/**\n\t * Constructor for a new Recently Used apps Panel.\n\t *\n\t * @param {string} [id] ID for the new control, generated automatically if an ID is not provided\n\t * @param {object} [settings] Initial settings for the new control\n\t */\n\tpublic constructor(id?: string, settings?: $BaseAppPersPanelSettings) {\n\t\tsuper(id, settings);\n\t\tthis.setSupported(false);\n\t}\n\n\tpublic init() {\n\t\tsuper.init();\n\t\tthis.setProperty(\"key\", \"recentApps\");\n\t\tthis.setProperty(\"title\", this._i18nBundle.getText(\"recentlyUsedTab\"));\n\t\tthis.setProperty(\"tooltip\", this._i18nBundle.getText(\"recentAppsInfo\"));\n\t\tthis._attachUserActivityTracking();\n\t\tEventHub.on(\"userRecentsCleared\").do(() => {\n\t\t\tvoid this.refresh();\n\t\t});\n\n\t\t//Setup Menu Items\n\t\tconst showHistoryMenuItem = new MenuItem(`${this.getId()}-show-history-btn`, {\n\t\t\ttitle: this._i18nBundle.getText(\"showHistoryBtn\"),\n\t\t\ticon: \"sap-icon://history\",\n\t\t\tpress: this._openHistoryDialog.bind(this)\n\t\t});\n\t\taddFESRId(showHistoryMenuItem, \"showHistory\");\n\t\tthis.insertAggregation(\"menuItems\", showHistoryMenuItem, 0);\n\t}\n\n\t/**\n\t * Fetch recent apps and set apps aggregation\n\t * @private\n\t */\n\tpublic async loadApps() {\n\t\tlet recentApps = await this._getRecentApps();\n\t\trecentApps = recentApps.map((app) => {\n\t\t\treturn {\n\t\t\t\t...app,\n\t\t\t\tmenuItems: this._getAppActions(app.addedInFavorites)\n\t\t\t};\n\t\t});\n\t\tthis.destroyAggregation(\"apps\", true);\n\t\t//convert apps objects array to apps instances\n\t\tthis.setApps(this.generateApps(recentApps));\n\t}\n\n\t/**\n\t * Returns list of recent apps\n\t * @private\n\t * @returns {Promise<IActivity[]>} - Array of recent apps.\n\t */\n\tprivate async _getRecentApps(): Promise<IActivity[]> {\n\t\ttry {\n\t\t\tconst UserRecentsService = await Container.getServiceAsync<UserRecents>(\"UserRecents\");\n\t\t\tconst [recentActivities, recentActivitiesUsageData] = await Promise.all([\n\t\t\t\tUserRecentsService?.getRecentActivity().then((result) => result || []),\n\t\t\t\tUserRecentsService?.oRecentActivity._getRecentActivitiesFromLoadedData().then((result) => result || {})\n\t\t\t]);\n\t\t\t//convert activity to apps\n\t\t\tthis._recentApps = await this.convertActivitiesToVisualizations(recentActivities);\n\t\t\tlet recentDate = new Date(recentActivitiesUsageData?.recentDay);\n\t\t\t// add last used and usage info\n\t\t\tthis._recentDayTimeStamp = formatConstantTimeInDate(recentDate);\n\n\t\t\tconst recentUsage = recentActivitiesUsageData?.recentUsageArray || [];\n\t\t\tconst recentUsageMap = new Map<string, number[]>();\n\t\t\trecentUsage.forEach((app) => {\n\t\t\t\tif (app.oItem?.appId) {\n\t\t\t\t\trecentUsageMap.set(app.oItem.appId, app.aUsageArray);\n\t\t\t\t}\n\t\t\t});\n\t\t\tthis._recentApps.forEach((app) => {\n\t\t\t\t//isolate only date information by having common time information\n\t\t\t\tapp.dateStamp = formatConstantTimeInDate(new Date(app.timestamp));\n\t\t\t\tif (recentUsageMap.size) {\n\t\t\t\t\tapp.usageArray = recentUsageMap.get(app.orgAppId);\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn this._recentApps || [];\n\t\t} catch (error) {\n\t\t\tLog.error(error as string);\n\t\t\treturn [];\n\t\t}\n\t}\n\n\t/**\n\t * Returns list of actions available for selected app\n\t * @private\n\t * @param {boolean} isAppAddedInFavorite - true if app is already present in favorite, false otherwise.\n\t * @returns {sap.cux.home.MenuItem[]} - Array of list items.\n\t */\n\tprivate _getAppActions(isAppAddedInFavorite: boolean = false): MenuItem[] {\n\t\tconst resumeLastActivityItem = new MenuItem({\n\t\t\ttitle: this._i18nBundle.getText(\"resumeLastActivity\"),\n\t\t\ticon: \"sap-icon://past\",\n\t\t\tpress: this._resumeAppActivity.bind(this)\n\t\t});\n\t\taddFESRId(resumeLastActivityItem, \"resumeActivity\");\n\t\tconst appActions = [resumeLastActivityItem];\n\t\tif (!isAppAddedInFavorite) {\n\t\t\tconst addToFavoritesItem = new MenuItem({\n\t\t\t\ttitle: this._i18nBundle.getText(\"addToFavorites\"),\n\t\t\t\ticon: \"sap-icon://add-favorite\",\n\t\t\t\tpress: (event) => {\n\t\t\t\t\tvoid this._addAppToFavorites(event);\n\t\t\t\t}\n\t\t\t});\n\t\t\taddFESRId(addToFavoritesItem, \"addFavFromRecent\");\n\t\t\tappActions.push(addToFavoritesItem);\n\t\t}\n\t\treturn appActions;\n\t}\n\n\t/**\n\t * Redirects to the selected app url\n\t * @private\n\t * @param {sap.ui.base.Event} event - The event object.\n\t */\n\tprivate _resumeAppActivity(event: Event) {\n\t\tconst menuItem = event.getSource<MenuItem>();\n\t\tconst app = menuItem.getParent() as App;\n\t\tconst url = app.getUrl?.();\n\t\tURLHelper.redirect(url, false);\n\t}\n\n\t/**\n\t * Generates and returns a dialog for showing the history of recent applications.\n\t * @private\n\t * @returns The generated dialog for showing the history of recent applications.\n\t */\n\tprivate _generateHistoryDialog() {\n\t\tconst id = `${this.getId()}-history-dialog`;\n\t\tif (!this._controlMap.get(id)) {\n\t\t\tthis._controlMap.set(\n\t\t\t\tid,\n\t\t\t\tnew Dialog(id, {\n\t\t\t\t\ttitle: this._i18nBundle.getText(\"showHistoryTitle\"),\n\t\t\t\t\tcontent: new VBox({\n\t\t\t\t\t\tid: `${id}-container`,\n\t\t\t\t\t\theight: \"100%\",\n\t\t\t\t\t\titems: [this._generateAppHistoryList()]\n\t\t\t\t\t}).addStyleClass(\"sapUiTinyMargin\"),\n\t\t\t\t\tescapeHandler: this._closeHistoryDialog.bind(this),\n\t\t\t\t\tcontentHeight: \"29rem\",\n\t\t\t\t\tcontentWidth: \"25rem\",\n\t\t\t\t\tbuttons: [\n\t\t\t\t\t\tnew Button({\n\t\t\t\t\t\t\tid: `${id}-cancel-btn`,\n\t\t\t\t\t\t\ttext: this._i18nBundle.getText(\"cancelBtn\"),\n\t\t\t\t\t\t\tpress: this._closeHistoryDialog.bind(this)\n\t\t\t\t\t\t})\n\t\t\t\t\t]\n\t\t\t\t}).addStyleClass(\"sapContrastPlus\")\n\t\t\t);\n\t\t}\n\t\treturn this._controlMap.get(id) as Dialog;\n\t}\n\n\t/**\n\t * Generates the app history list.\n\t * @private\n\t * @returns The generated app history list.\n\t */\n\tprivate _generateAppHistoryList() {\n\t\tconst id = `${this.getId()}-history-dialog-list`;\n\t\tif (!this._controlMap.get(id)) {\n\t\t\tthis._controlMap.set(\n\t\t\t\tid,\n\t\t\t\tnew List({\n\t\t\t\t\tid,\n\t\t\t\t\tgrowing: true,\n\t\t\t\t\tgrowingScrollToLoad: true,\n\t\t\t\t\theaderToolbar: new OverflowToolbar({\n\t\t\t\t\t\tid: `${id}-header-toolbar`,\n\t\t\t\t\t\tstyle: \"Clear\",\n\t\t\t\t\t\theight: \"1.75rem\",\n\t\t\t\t\t\tcontent: [\n\t\t\t\t\t\t\tnew ToolbarSpacer({\n\t\t\t\t\t\t\t\tid: `${id}-header-toolbar-spacer`\n\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\tthis._generateAppHistoryListFilter()\n\t\t\t\t\t\t]\n\t\t\t\t\t})\n\t\t\t\t}).addStyleClass(\"sapMListShowSeparatorsNone recentAppList\")\n\t\t\t);\n\t\t}\n\t\treturn this._controlMap.get(id) as List;\n\t}\n\n\t/**\n\t * Generates the app history list filter.\n\t * @private\n\t * @returns The Select control for the app history list filter.\n\t */\n\tprivate _generateAppHistoryListFilter() {\n\t\tconst id = `${this.getId()}-history-dialog-list-filter`;\n\t\tif (!this._controlMap.get(id)) {\n\t\t\tthis._controlMap.set(\n\t\t\t\tid,\n\t\t\t\tnew Select({\n\t\t\t\t\tid,\n\t\t\t\t\tselectedKey: DateFilterOption.ALL,\n\t\t\t\t\tchange: (e) => this._onDateFilterChange(e),\n\t\t\t\t\titems: [\n\t\t\t\t\t\tnew Item({\n\t\t\t\t\t\t\tid: `${id}-month`,\n\t\t\t\t\t\t\tkey: DateFilterOption.ALL,\n\t\t\t\t\t\t\ttext: this._i18nBundle.getText(\"dateThirty\")\n\t\t\t\t\t\t}),\n\t\t\t\t\t\tnew Item({\n\t\t\t\t\t\t\tid: `${id}-today`,\n\t\t\t\t\t\t\tkey: DateFilterOption.TODAY,\n\t\t\t\t\t\t\ttext: this._i18nBundle.getText(\"dateToday\")\n\t\t\t\t\t\t}),\n\t\t\t\t\t\tnew Item({\n\t\t\t\t\t\t\tid: `${id}-week`,\n\t\t\t\t\t\t\tkey: DateFilterOption.WEEK,\n\t\t\t\t\t\t\ttext: this._i18nBundle.getText(\"dateWeek\")\n\t\t\t\t\t\t}),\n\t\t\t\t\t\tnew Item({\n\t\t\t\t\t\t\tid: `${id}-twoWeek`,\n\t\t\t\t\t\t\tkey: DateFilterOption.TWO_WEEK,\n\t\t\t\t\t\t\ttext: this._i18nBundle.getText(\"dateTwoWeek\")\n\t\t\t\t\t\t}),\n\t\t\t\t\t\tnew Item({\n\t\t\t\t\t\t\tid: `${id}-threeWeek`,\n\t\t\t\t\t\t\tkey: DateFilterOption.THREE_WEEK,\n\t\t\t\t\t\t\ttext: this._i18nBundle.getText(\"dateThreeWeek\")\n\t\t\t\t\t\t})\n\t\t\t\t\t]\n\t\t\t\t})\n\t\t\t);\n\t\t}\n\t\treturn this._controlMap.get(id) as Select;\n\t}\n\n\t/**\n\t * Generates and populates items in the app history list based on the provided list of items.\n\t * Clears existing items in the list before adding new items.\n\t *\n\t * @param {IAppHistory[]} appHistoryItems - Array of items to populate in the app history list.\n\t * @returns {void}\n\t * @private\n\t */\n\tprivate _generateAppHistoryListItems(appHistoryItems: IAppHistory[]): void {\n\t\tconst appHistoryList = this._generateAppHistoryList();\n\t\tappHistoryList?.destroyItems();\n\t\tappHistoryItems.forEach((appHistoryItem) => {\n\t\t\tappHistoryList.addItem(this._getGroupHeader(appHistoryItem.dateStamp));\n\t\t\tappHistoryList.addItem(\n\t\t\t\tnew CustomListItem({\n\t\t\t\t\tid: `date-${appHistoryItem.dateStamp}-lisItem`,\n\t\t\t\t\ttype: \"Inactive\",\n\t\t\t\t\tcontent: [\n\t\t\t\t\t\tnew List({\n\t\t\t\t\t\t\tid: `date-${appHistoryItem.dateStamp}-appList`,\n\t\t\t\t\t\t\titems: (appHistoryItem.apps || []).map((app) =>\n\t\t\t\t\t\t\t\tnew StandardListItem({\n\t\t\t\t\t\t\t\t\t//id,\n\t\t\t\t\t\t\t\t\ttitle: app.name,\n\t\t\t\t\t\t\t\t\ttype: \"Inactive\"\n\t\t\t\t\t\t\t\t}).addStyleClass(\"sapUiTinyMarginBeginEnd recentAppList sapUiSmallMarginTop\")\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t}).addStyleClass(\"sapMListShowSeparatorsNone sapUiTinyMarginBottom\")\n\t\t\t\t\t]\n\t\t\t\t})\n\t\t\t);\n\t\t});\n\t}\n\n\t/**\n\t * Opens the history dialog.\n\t * This method generates the show history dialog, retrieves the app history list,\n\t * generates the app history list items, and opens the dialog.\n\t * @private\n\t */\n\tprivate _openHistoryDialog() {\n\t\tconst historyDialog = this._generateHistoryDialog();\n\t\tconst appHistory = this._getAppHistory();\n\t\tthis._generateAppHistoryListItems(appHistory);\n\t\thistoryDialog.open();\n\t}\n\n\t/**\n\t * Closes the history dialog.\n\t * @private\n\t */\n\tprivate _closeHistoryDialog() {\n\t\tconst historyDialog = this._generateHistoryDialog();\n\t\thistoryDialog.close();\n\t}\n\n\t/**\n\t * Handles the change event of the date filter.\n\t * Updates the app history list based on the selected date filter.\n\t * @private\n\t * @param {Select$ChangeEvent} event - The select change event.\n\t */\n\tprivate _onDateFilterChange(event: Select$ChangeEvent) {\n\t\tconst selectedKey = event.getParameter(\"selectedItem\")?.getKey() as DateFilterOption;\n\t\tconst filteredAppHistory: IAppHistory[] = this._getFilteredAppHistory(selectedKey);\n\t\tthis._generateAppHistoryListItems(filteredAppHistory);\n\t}\n\n\t/**\n\t * Generates a group header for the given date timestamp.\n\t *\n\t * @param {number} dateStamp - The timestamp representing the date.\n\t * @returns {GroupHeaderListItem} The generated group header list item.\n\t * @private\n\t */\n\tprivate _getGroupHeader(dateStamp: number): GroupHeaderListItem {\n\t\tlet sTitle = \"\";\n\t\tswitch (dateStamp) {\n\t\t\tcase Constants.OLDER_DATE_TIMESTAMP:\n\t\t\t\tsTitle = this._i18nBundle.getText(\"dateLater\") as string;\n\t\t\t\tbreak;\n\t\t\tcase formatConstantTimeInDate(new Date()):\n\t\t\t\tsTitle = this._i18nBundle.getText(\"dateToday\") as string;\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tsTitle = GroupDateFormatter.format(new Date(dateStamp));\n\t\t\t\tbreak;\n\t\t}\n\t\treturn new GroupHeaderListItem({\n\t\t\ttitle: sTitle\n\t\t}).addStyleClass(\"sapUiTinyMarginBeginEnd recentAppListHeader\");\n\t}\n\n\t/**\n\t * Retrieves the application usage history based on recent app data.\n\t *\n\t * @returns {IAppHistory[]} Array of objects, where each object contains the date timestamp and the apps that are used on that date.\n\t * @private\n\t */\n\tprivate _getAppHistory(): IAppHistory[] {\n\t\tif (this._recentDayTimeStamp && this._recentApps?.length) {\n\t\t\tconst groupedAppHistory: Record<number, IAppHistory> = {};\n\t\t\tconst thresholdTimeStamp = getDaysBefore(this._recentDayTimeStamp, 30); // 30 days threshold\n\t\t\tthis._recentApps.forEach((recentApp) => {\n\t\t\t\tconst appTimeStamp = formatConstantTimeInDate(new Date(recentApp.dateStamp!));\n\t\t\t\tif (appTimeStamp < thresholdTimeStamp) {\n\t\t\t\t\tif (!groupedAppHistory[Constants.OLDER_DATE_TIMESTAMP]) {\n\t\t\t\t\t\tgroupedAppHistory[Constants.OLDER_DATE_TIMESTAMP] = { dateStamp: Constants.OLDER_DATE_TIMESTAMP, apps: [] };\n\t\t\t\t\t}\n\t\t\t\t\tgroupedAppHistory[Constants.OLDER_DATE_TIMESTAMP]?.apps.push({ name: recentApp.title });\n\t\t\t\t} else {\n\t\t\t\t\tconst appUsage = recentApp.usageArray || [];\n\t\t\t\t\tappUsage.forEach((usage, index) => {\n\t\t\t\t\t\tif (usage > 0) {\n\t\t\t\t\t\t\tconst usageDate = getDaysBefore(this._recentDayTimeStamp, appUsage.length - 1 - index);\n\t\t\t\t\t\t\tif (!groupedAppHistory[usageDate]) {\n\t\t\t\t\t\t\t\tgroupedAppHistory[usageDate] = { dateStamp: usageDate, apps: [] };\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tgroupedAppHistory[usageDate]?.apps.push({ name: recentApp.title });\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t\tconst appHistory = Object.values(groupedAppHistory);\n\t\t\tappHistory.sort((a, b) => b.dateStamp - a.dateStamp);\n\t\t\treturn appHistory;\n\t\t}\n\t\treturn [];\n\t}\n\n\t/**\n\t * Retrieves the filtered app history based on the selected date filter option.\n\t * @private\n\t * @param {DateFilterOption} selectedKey - The selected date filter option.\n\t * @returns {IAppHistory[]} An array of filtered app history.\n\t */\n\tprivate _getFilteredAppHistory(selectedKey: DateFilterOption): IAppHistory[] {\n\t\tconst appHistory = this._getAppHistory();\n\t\tlet filteredAppHistory: IAppHistory[] = [];\n\t\tswitch (selectedKey) {\n\t\t\tcase DateFilterOption.TODAY: {\n\t\t\t\tfilteredAppHistory = appHistory.filter((app) => app.dateStamp === formatConstantTimeInDate(new Date()));\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase DateFilterOption.WEEK: {\n\t\t\t\tconst { startDate: currentWeekStartDate, endDate: currentWeekEndDate } = getWeekRangeValues(0);\n\t\t\t\tfilteredAppHistory = appHistory.filter((app) => isDateWithinRange(app.dateStamp, currentWeekStartDate, currentWeekEndDate));\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase DateFilterOption.TWO_WEEK: {\n\t\t\t\tconst { startDate: secondWeekStartDate } = getWeekRangeValues(1);\n\t\t\t\tconst { endDate: currentWeekEndDate } = getWeekRangeValues(0);\n\t\t\t\tfilteredAppHistory = appHistory.filter((app) => isDateWithinRange(app.dateStamp, secondWeekStartDate, currentWeekEndDate));\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase DateFilterOption.THREE_WEEK: {\n\t\t\t\tconst { startDate: thirdWeekStartDate } = getWeekRangeValues(2);\n\t\t\t\tconst { endDate: currentWeekEndDate } = getWeekRangeValues(0);\n\t\t\t\tfilteredAppHistory = appHistory.filter((app) => isDateWithinRange(app.dateStamp, thirdWeekStartDate, currentWeekEndDate));\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tdefault:\n\t\t\t\tfilteredAppHistory = [...appHistory];\n\t\t\t\tbreak;\n\t\t}\n\t\treturn filteredAppHistory;\n\t}\n\n\t/**\n\t * Generates illustrated message for recent apps panel.\n\t * @private\n\t * @override\n\t * @returns {sap.m.IllustratedMessage} Illustrated error message.\n\t */\n\tprotected generateIllustratedMessage() {\n\t\tconst illustratedMessage = super.generateIllustratedMessage();\n\t\t//override the default description\n\t\tillustratedMessage.setDescription(this._i18nBundle.getText(\"noRecentAppsDescription\"));\n\t\treturn illustratedMessage;\n\t}\n}\n"],"mappings":"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","ignoreList":[],"sourceRoot":""}},{"offset":{"line":297,"column":0},"map":{"version":3,"file":"RecommendedAppPanel.js","names":["sap","ui","define","Log","Button","IllustratedMessageType","sap_m_library","Link","MessageStrip","MessageToast","VBox","EventBus","__BaseAppPersPanel","__MenuItem","___utils_Constants","___utils_Device","___utils_FESRUtil","__HttpHelper","_interopRequireDefault","obj","__esModule","default","_catch","body","recover","result","e","then","BackgroundDesign","_finallyRethrows","finalizer","bind","BaseAppPersPanel","MenuItem","FEATURE_TOGGLES","REPO_BASE_URL","SETTINGS_PANELS_KEYS","DeviceType","addFESRId","HttpHelper","CONSTANTS","USER_PREFERENCE_SRVC_URL","KEY","RecommendedAppPanel","extend","metadata","library","defaultAggregation","aggregations","apps","type","singularName","multiple","visibility","constructor","_constructor","id","settings","BaseAppPersPanel.prototype.constructor.call","this","setSupported","init","_init","BaseAppPersPanel.prototype.init.call","setProperty","_i18nBundle","getText","eventBus","getInstance","subscribe","channelId","eventId","data","showRecommendation","fireSupported","isSupported","getDeviceType","Mobile","_enableRecommendationTab","_generateWrapper","wrapperId","getId","_controlMap","get","set","items","_generateMessageStrip","BaseAppPersPanel.prototype._generateWrapper.call","backgroundDesign","Transparent","loadApps","_loadApps","_this","Promise","resolve","appManagerInstance","getRecommendedVisualizations","recommendedVisualizations","map","visualization","menuItems","_getActions","destroyAggregation","recommendedApps","generateApps","setApps","reject","messageStripId","text","showIcon","showCloseButton","link","press","getParent","_getLayout","openSettingsDialog","ADVANCED","addStyleClass","addToFavoritesItem","title","icon","event","_addAppToFavorites","notRelevantItem","_rejectRecommendation","actions","_this2","setBusy","_temp2","source","getSource","app","getTitle","find","viz","url","getUrl","fioriId","_temp","rejectPayload","AppId","Decision","Post","refresh","message","show","error","_wasThrown","_result","_isRecommendationEnabled","_this3","isFeatureEnabled","RECOMMENDATION","recommendationEnabled","_exit","_temp4","getPersonalization","personalisation","_temp3","_result2","_this4","generateIllustratedMessage","_generateIllustratedMessage","illustratedMessage","BaseAppPersPanel.prototype.generateIllustratedMessage.call","setIllustrationType","Tent","setTitle","setDescription","addAdditionalContent","tooltip"],"sources":["RecommendedAppPanel.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\nimport Log from \"sap/base/Log\";\nimport Button from \"sap/m/Button\";\nimport IllustratedMessageType from \"sap/m/IllustratedMessageType\";\nimport { BackgroundDesign } from \"sap/m/library\";\nimport Link from \"sap/m/Link\";\nimport MessageStrip from \"sap/m/MessageStrip\";\nimport MessageToast from \"sap/m/MessageToast\";\nimport VBox from \"sap/m/VBox\";\nimport type { MetadataOptions } from \"sap/ui/core/Element\";\nimport EventBus from \"sap/ui/core/EventBus\";\nimport App from \"./App\";\nimport BaseAppPersPanel, { $BaseAppPersPanelSettings } from \"./BaseAppPersPanel\";\nimport BaseContainer from \"./BaseContainer\";\nimport MenuItem, { MenuItem$PressEvent } from \"./MenuItem\";\nimport { FEATURE_TOGGLES, REPO_BASE_URL, SETTINGS_PANELS_KEYS } from \"./utils/Constants\";\nimport { DeviceType } from \"./utils/Device\";\nimport { addFESRId } from \"./utils/FESRUtil\";\nimport HttpHelper from \"./utils/HttpHelper\";\n\nconst CONSTANTS = {\n\tUSER_PREFERENCE_SRVC_URL: `${REPO_BASE_URL}UserPreference`,\n\tKEY: \"recommendedApps\"\n};\n\n/**\n *\n * Provides the RecommendedAppPanel Class.\n *\n * @extends sap.cux.home.BaseAppPersPanel\n *\n * @author SAP SE\n * @version 0.0.1\n * @since 1.128.0\n *\n * @private\n * @experimental\n * @hidden\n *\n * @alias sap.cux.home.RecommendedAppPanel\n */\nexport default class RecommendedAppPanel extends BaseAppPersPanel {\n\tstatic readonly metadata: MetadataOptions = {\n\t\tlibrary: \"sap.cux.home\",\n\t\tdefaultAggregation: \"apps\",\n\t\taggregations: {\n\t\t\t/**\n\t\t\t * Apps aggregation for Recommended apps\n\t\t\t */\n\t\t\tapps: { type: \"sap.cux.home.App\", singularName: \"app\", multiple: true, visibility: \"hidden\" }\n\t\t}\n\t};\n\n\tpublic constructor(id?: string, settings?: $BaseAppPersPanelSettings) {\n\t\tsuper(id, settings);\n\t\tthis.setSupported(false);\n\t}\n\n\tpublic init() {\n\t\tsuper.init();\n\t\tthis.setProperty(\"key\", CONSTANTS.KEY);\n\t\tthis.setProperty(\"title\", this._i18nBundle.getText(\"recommendedAppsTab\"));\n\t\t//subscribe to recommendation setting change event\n\t\tconst eventBus = EventBus.getInstance();\n\t\teventBus.subscribe(\"importChannel\", \"recommendationSettingChanged\", (channelId?: string, eventId?: string, data?: object) => {\n\t\t\tconst showRecommendation = (data as { showRecommendation: boolean }).showRecommendation;\n\t\t\tthis.fireSupported({ isSupported: showRecommendation });\n\t\t});\n\t\tif (this.getDeviceType() !== DeviceType.Mobile) {\n\t\t\tvoid this._enableRecommendationTab();\n\t\t}\n\t}\n\n\t/**\n\t * Overrides the wrapper for the apps panel to add message strip.\n\t *\n\t * @private\n\t * @returns {sap.m.VBox} The apps panel wrapper.\n\t */\n\tprotected _generateWrapper() {\n\t\tconst wrapperId = `${this.getId()}-recommendedPanelWrapper`;\n\t\tif (!this._controlMap.get(wrapperId)) {\n\t\t\tthis._controlMap.set(\n\t\t\t\twrapperId,\n\t\t\t\tnew VBox(wrapperId, {\n\t\t\t\t\titems: [this._generateMessageStrip(), super._generateWrapper()],\n\t\t\t\t\tbackgroundDesign: BackgroundDesign.Transparent\n\t\t\t\t})\n\t\t\t);\n\t\t}\n\t\treturn this._controlMap.get(wrapperId) as VBox;\n\t}\n\n\t/**\n\t * Fetch recommended apps and set apps aggregation\n\t * @private\n\t */\n\tpublic async loadApps() {\n\t\tlet recommendedVisualizations = await this.appManagerInstance.getRecommendedVisualizations(true);\n\t\trecommendedVisualizations = recommendedVisualizations.map((visualization) => {\n\t\t\treturn {\n\t\t\t\t...visualization,\n\t\t\t\tmenuItems: this._getActions()\n\t\t\t};\n\t\t});\n\t\tthis.destroyAggregation(\"apps\", true);\n\t\t//convert apps objects array to apps instances\n\t\tconst recommendedApps = this.generateApps(recommendedVisualizations);\n\t\tthis.setApps(recommendedApps);\n\t}\n\n\t/**\n\t * Returns message strip for recommended tab\n\t * @private\n\t * @returns {sap.cux.home.MessageStrip} - Message strip control.\n\t */\n\tprivate _generateMessageStrip() {\n\t\tconst messageStripId = `${this.getId()}-messageStrip`;\n\t\tif (!this._controlMap.get(messageStripId)) {\n\t\t\tthis._controlMap.set(\n\t\t\t\tmessageStripId,\n\t\t\t\tnew MessageStrip(messageStripId, {\n\t\t\t\t\ttext: this._i18nBundle.getText(\"recommendationMessageStrip\"),\n\t\t\t\t\tshowIcon: true,\n\t\t\t\t\tshowCloseButton: true,\n\t\t\t\t\tlink: new Link(`${messageStripId}-settings`, {\n\t\t\t\t\t\ttext: this._i18nBundle.getText(\"settings\"),\n\t\t\t\t\t\tpress: () => (this.getParent() as BaseContainer)?._getLayout()?.openSettingsDialog(SETTINGS_PANELS_KEYS.ADVANCED)\n\t\t\t\t\t}).addStyleClass(\"sapUiNoMargin\")\n\t\t\t\t}).addStyleClass(\"sapUiNoMarginBegin sapUiTinyMarginBottom\")\n\t\t\t);\n\t\t}\n\t\treturn this._controlMap.get(messageStripId) as MessageStrip;\n\t}\n\n\t/**\n\t * Returns list of actions available for selected app\n\t * @private\n\t * @returns {sap.cux.home.MenuItem[]} - Array of list items.\n\t */\n\tprivate _getActions(): MenuItem[] {\n\t\tconst addToFavoritesItem = new MenuItem({\n\t\t\ttitle: this._i18nBundle.getText(\"addToFavorites\"),\n\t\t\ticon: \"sap-icon://add-favorite\",\n\t\t\tpress: (event) => {\n\t\t\t\tvoid this._addAppToFavorites(event);\n\t\t\t}\n\t\t});\n\t\taddFESRId(addToFavoritesItem, \"acceptRecommendation\");\n\t\tconst notRelevantItem = new MenuItem({\n\t\t\ttitle: this._i18nBundle.getText(\"notRelevantRecommendation\"),\n\t\t\ticon: \"sap-icon://decline\",\n\t\t\tpress: (event) => {\n\t\t\t\tvoid this._rejectRecommendation(event);\n\t\t\t}\n\t\t});\n\t\taddFESRId(notRelevantItem, \"rejectRecommendation\");\n\t\tconst actions = [addToFavoritesItem, notRelevantItem];\n\t\treturn actions;\n\t}\n\n\t/**\n\t * Rejects the selected app as recommendation\n\t * @private\n\t * @param {sap.ui.base.MenuItem$PressEvent} event - Event object.\n\t */\n\tprivate async _rejectRecommendation(event: MenuItem$PressEvent) {\n\t\tthis.setBusy(true);\n\t\ttry {\n\t\t\tconst source = event.getSource<MenuItem>();\n\t\t\tconst app = source.getParent() as App;\n\t\t\tconst title = app.getTitle();\n\t\t\tconst recommendedVisualizations = await this.appManagerInstance.getRecommendedVisualizations();\n\t\t\tconst visualization = recommendedVisualizations.find((viz) => viz.url === app.getUrl());\n\t\t\tconst fioriId = visualization?.fioriId;\n\t\t\tif (fioriId) {\n\t\t\t\tconst rejectPayload = {\n\t\t\t\t\tAppId: fioriId,\n\t\t\t\t\tDecision: 1\n\t\t\t\t};\n\t\t\t\tawait HttpHelper.Post(CONSTANTS.USER_PREFERENCE_SRVC_URL, rejectPayload);\n\t\t\t\tawait this.refresh();\n\t\t\t\tconst message = this._i18nBundle.getText(\"rejectRecommendationMsg\", [title]) as string;\n\t\t\t\tMessageToast.show(message);\n\t\t\t}\n\t\t} catch (error) {\n\t\t\tLog.error(error as string);\n\t\t} finally {\n\t\t\tthis.setBusy(false);\n\t\t}\n\t}\n\n\t/**\n\t * Checks if recommendation is enabled based on recommendation feature toggle and user personalization.\n\t * @private\n\t * @returns {Boolean} - Returns true if recommendation is enabled otherwise false.\n\t */\n\tprivate async _isRecommendationEnabled() {\n\t\tconst recommendationEnabled = await this.appManagerInstance.isFeatureEnabled(FEATURE_TOGGLES.RECOMMENDATION);\n\t\tif (recommendationEnabled) {\n\t\t\tconst personalisation = await this.getPersonalization();\n\t\t\treturn personalisation.showRecommendation ?? true;\n\t\t}\n\t\treturn false;\n\t}\n\n\t/**\n\t * Show recommendation tab if recommendation is enabled\n\t * @private\n\t */\n\tprivate async _enableRecommendationTab() {\n\t\tconst isSupported = await this._isRecommendationEnabled();\n\t\tthis.setSupported(isSupported);\n\t\tthis.fireSupported({ isSupported });\n\t}\n\n\t/**\n\t * Generates illustrated message for recommended apps panel.\n\t * @private\n\t * @override\n\t * @returns {sap.m.IllustratedMessage} Illustrated error message.\n\t */\n\tprotected generateIllustratedMessage() {\n\t\tconst illustratedMessage = super.generateIllustratedMessage();\n\t\t//overrride the default illustrated message, title, description and add additional content\n\t\tillustratedMessage.setIllustrationType(IllustratedMessageType.Tent);\n\t\tillustratedMessage.setTitle(this._i18nBundle.getText(\"noRecommendationsTitle\"));\n\t\tillustratedMessage.setDescription(this._i18nBundle.getText(\"noRecommendationsDescription\"));\n\t\tillustratedMessage.addAdditionalContent(\n\t\t\tnew Button({\n\t\t\t\ttext: this._i18nBundle.getText(\"settings\"),\n\t\t\t\ttooltip: this._i18nBundle.getText(\"settings\"),\n\t\t\t\tpress: () => (this.getParent() as BaseContainer)?._getLayout()?.openSettingsDialog(SETTINGS_PANELS_KEYS.ADVANCED),\n\t\t\t\ttype: \"Emphasized\"\n\t\t\t})\n\t\t);\n\t\treturn illustratedMessage;\n\t}\n}\n"],"mappings":"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","ignoreList":[],"sourceRoot":""}},{"offset":{"line":304,"column":0},"map":{"version":3,"file":"SettingsDialog.js","names":["sap","ui","define","Bar","Button","List","Page","SplitApp","StandardListItem","Title","Element","Device","__BaseSettingsDialog","___utils_Device","_interopRequireDefault","obj","__esModule","default","BaseSettingsDialog","calculateDeviceType","DeviceType","SettingsDialog","extend","renderer","apiVersion","init","_init","BaseSettingsDialog.prototype.init.call","this","_controlMap","Map","setContentWidth","setStretch","setCustomHeader","_setCustomHeader","addButton","getId","text","_i18nBundle","getText","type","press","close","addContent","title","showHeader","content","_getPageContent","_menuBtn","icon","tooltip","_toggleMasterPage","contentLeft","contentMiddle","isMasterShown","_splitApp","deviceType","_deviceType","Tablet","toMaster","_masterPage","hideMaster","showMaster","_updateHeaderButtonVisibility","Mobile","setVisible","orientation","portrait","tooltipText","setTooltip","_menuList","mode","itemPress","event","_navigateToDetailPage","addStyleClass","masterPages","masterButton","_hideNavigationButton","context","listItem","getParameter","firstPanel","getPanels","selectedKey","data","getProperty","setProperty","detailPage","getElementById","toDetail","getMode","selectedPanel","find","panel","firePanelNavigated","removeSelections","pageItem","setTimeout","setSelectedItem","focus","navigationButton","getSource","destroy","onBeforeRendering","_onBeforeRendering","BaseSettingsDialog.prototype.onBeforeRendering.call","forEach","addItem","_getPageListItem","addDetailPage","_getDetailPage","settingsPanel","id","get","iconDensityAware","set","page","backgroundDesign","getAggregation","actionButton","addHeaderContent"],"sources":["SettingsDialog.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\n\nimport { Event as JQueryEvent } from \"jquery\";\nimport Bar from \"sap/m/Bar\";\nimport Button from \"sap/m/Button\";\nimport List from \"sap/m/List\";\nimport Page from \"sap/m/Page\";\nimport SplitApp from \"sap/m/SplitApp\";\nimport StandardListItem from \"sap/m/StandardListItem\";\nimport Title from \"sap/m/Title\";\nimport Event from \"sap/ui/base/Event\";\nimport Control from \"sap/ui/core/Control\";\nimport Element from \"sap/ui/core/Element\";\nimport Device from \"sap/ui/Device\";\nimport BaseSettingsDialog from \"./BaseSettingsDialog\";\nimport BaseSettingsPanel from \"./BaseSettingsPanel\";\nimport { calculateDeviceType, DeviceType } from \"./utils/Device\";\n\n/**\n *\n * Dialog class for My Home Settings.\n *\n * @extends BaseSettingsDialog\n *\n * @author SAP SE\n * @version 0.0.1\n * @since 1.121\n *\n * @internal\n * @experimental Since 1.121\n * @private\n *\n * @alias sap.cux.home.SettingsDialog\n */\nexport default class SettingsDialog extends BaseSettingsDialog {\n\tprivate _controlMap!: Map<string, Control | Element>;\n\tprivate _menuBtn!: Button;\n\tprivate _menuList!: List;\n\tprivate _masterPage!: Page;\n\tprivate _splitApp!: SplitApp;\n\tprivate _deviceType!: DeviceType;\n\n\tstatic renderer = {\n\t\tapiVersion: 2\n\t};\n\n\t/**\n\t * Init lifecycle method\n\t *\n\t * @public\n\t * @override\n\t */\n\tpublic init(): void {\n\t\tsuper.init();\n\t\tthis._controlMap = new Map();\n\n\t\t//setup dialog\n\t\tthis.setContentWidth(\"72rem\");\n\t\tthis.setStretch(false);\n\t\tthis.setCustomHeader(this._setCustomHeader());\n\n\t\t//setup dialog buttons\n\t\tthis.addButton(\n\t\t\tnew Button(`${this.getId()}-close-btn`, {\n\t\t\t\ttext: this._i18nBundle.getText(\"closeSettings\"),\n\t\t\t\ttype: \"Transparent\",\n\t\t\t\tpress: () => this.close()\n\t\t\t})\n\t\t);\n\n\t\t//setup dialog content\n\t\tthis.addContent(\n\t\t\tnew Page(`${this.getId()}-settingsPage`, {\n\t\t\t\ttitle: this._i18nBundle.getText(\"myHomeSettings\"),\n\t\t\t\tshowHeader: false,\n\t\t\t\tcontent: this._getPageContent()\n\t\t\t})\n\t\t);\n\t}\n\n\t/**\n\t * Creates and sets a custom header for the SettingsDialog.\n\t *\n\t * @private\n\t * @returns {Bar} The custom header bar for the SettingsDialog.\n\t */\n\tprivate _setCustomHeader(): Bar {\n\t\tthis._menuBtn = new Button(`${this.getId()}-menu-btn`, {\n\t\t\ticon: \"sap-icon://menu2\",\n\t\t\ttooltip: this._i18nBundle.getText(\"showMenu\"),\n\t\t\tpress: () => this._toggleMasterPage()\n\t\t});\n\t\treturn new Bar(`${this.getId()}-header`, {\n\t\t\tcontentLeft: [this._menuBtn],\n\t\t\tcontentMiddle: [\n\t\t\t\tnew Title(`${this.getId()}-dialog-title`, {\n\t\t\t\t\ttext: this._i18nBundle.getText(\"myHomeSettings\")\n\t\t\t\t})\n\t\t\t]\n\t\t});\n\t}\n\n\t/**\n\t * Toggles the visibility of the master page in the SettingsDialog based on the current device width.\n\t * If the device width is less than 600 pixels or equal to or greater than 1024 pixels, the master\n\t * page is always shown. Otherwise, it toggles the visibility of the master page.\n\t *\n\t * @private\n\t */\n\tprivate _toggleMasterPage(): void {\n\t\tconst isMasterShown = this._splitApp.isMasterShown();\n\t\tconst deviceType = this._deviceType || calculateDeviceType();\n\t\tif (deviceType !== DeviceType.Tablet) {\n\t\t\tthis._splitApp.toMaster(this._masterPage.getId(), \"slide\");\n\t\t} else {\n\t\t\tif (isMasterShown) {\n\t\t\t\tthis._splitApp.hideMaster();\n\t\t\t} else {\n\t\t\t\tthis._splitApp.showMaster();\n\t\t\t}\n\t\t}\n\t\tthis._updateHeaderButtonVisibility(!isMasterShown);\n\t}\n\n\t/**\n\t * Update header button\n\t *\n\t * @param {boolean} isMasterShown If master page is shown\n\t * @private\n\t */\n\tprivate _updateHeaderButtonVisibility(isMasterShown: boolean): void {\n\t\tconst deviceType = this._deviceType || calculateDeviceType();\n\t\tif (deviceType === DeviceType.Mobile) {\n\t\t\t// Hide or show the menu button on mobile\n\t\t\tthis._menuBtn.setVisible(!isMasterShown);\n\t\t} else if (deviceType === DeviceType.Tablet) {\n\t\t\tif (Device.orientation?.portrait) {\n\t\t\t\t// Show menu button in portrait mode with a tooltip\n\t\t\t\tconst tooltipText = this._i18nBundle.getText(isMasterShown ? \"ToggleButtonHide\" : \"ToggleButtonShow\");\n\t\t\t\tthis._menuBtn.setVisible(true);\n\t\t\t\tif (tooltipText) {\n\t\t\t\t\t// Only set the tooltip if a valid string is available\n\t\t\t\t\tthis._menuBtn.setTooltip(tooltipText);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// Hide or show the menu button in other orientations\n\t\t\t\tthis._menuBtn.setVisible(!isMasterShown);\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Generates the content for the SettingsDialog, including the master page and split app.\n\t *\n\t * @private\n\t * @returns {SplitApp} The split app containing the master page and detail pages for the SettingsDialog.\n\t */\n\tprivate _getPageContent(): SplitApp {\n\t\tthis._menuList = new List(`${this.getId()}-master-pages-list`, {\n\t\t\tmode: \"SingleSelectMaster\",\n\t\t\titemPress: (event: Event) => this._navigateToDetailPage(event)\n\t\t}).addStyleClass(\"sapCuxMasterPageList\");\n\t\tthis._masterPage = new Page(`${this.getId()}-master-page`, {\n\t\t\ttitle: this._i18nBundle.getText(\"myHomeSettings\"),\n\t\t\tshowHeader: false,\n\t\t\tcontent: [this._menuList]\n\t\t});\n\t\tthis._splitApp = new SplitApp(`${this.getId()}-settingsApp`, {\n\t\t\tmode: \"ShowHideMode\",\n\t\t\tmasterPages: [this._masterPage],\n\t\t\tmasterButton: (event: Event) => this._hideNavigationButton(event)\n\t\t});\n\n\t\treturn this._splitApp;\n\t}\n\n\t/**\n\t * Navigates to the detail page associated with the selected item in the master page list.\n\t *\n\t * @private\n\t * @param {Event} event The item press event from the master page list.\n\t */\n\tprivate _navigateToDetailPage(event: Event<{ listItem?: StandardListItem }> | string, context?: object): void {\n\t\t//update selected key\n\t\tconst listItem = typeof event === \"string\" ? event : event.getParameter?.(\"listItem\");\n\t\tconst firstPanel = this.getPanels()[0];\n\t\tconst selectedKey = ((listItem as StandardListItem)?.data?.(\"key\") || event || firstPanel?.getProperty(\"key\")) as string;\n\t\tthis.setProperty(\"selectedKey\", selectedKey, true);\n\n\t\t//navigate to detail page\n\t\tconst detailPage = Element.getElementById(`${selectedKey}-detail-page`) as Page;\n\t\tthis._splitApp.toDetail(detailPage.getId(), \"slide\");\n\t\tthis._splitApp.hideMaster();\n\t\tif (this._splitApp.getMode() === \"ShowHideMode\") {\n\t\t\tthis._updateHeaderButtonVisibility(false);\n\t\t}\n\n\t\t//fire panel navigated event\n\t\tconst selectedPanel = this.getPanels().find(\n\t\t\t(panel: BaseSettingsPanel) => panel.getProperty(\"key\") === selectedKey\n\t\t) as BaseSettingsPanel;\n\t\tselectedPanel?.firePanelNavigated({ context });\n\n\t\t//select list item\n\t\tthis._menuList.removeSelections(true);\n\t\tconst pageItem = Element.getElementById(`${selectedKey}-page-item`) as StandardListItem;\n\t\tsetTimeout(() => {\n\t\t\tthis._menuList.setSelectedItem(pageItem);\n\t\t\tpageItem.focus();\n\t\t}, 0);\n\t}\n\n\t/**\n\t * Hides the navigation button associated with the provided event.\n\t *\n\t * @private\n\t * @param {Event} event The event triggering the hide action.\n\t */\n\tprivate _hideNavigationButton(event: Event): void {\n\t\tconst navigationButton = Element.getElementById(`${event.getSource<SplitApp>().getId()}-MasterBtn`) as Button;\n\t\tnavigationButton?.destroy();\n\t}\n\n\t/**\n\t * onBeforeRendering lifecycle method.\n\t * Prepares the SettingsDialog content and navigate to the selected detail page.\n\t *\n\t * @public\n\t * @override\n\t */\n\tpublic onBeforeRendering(event: JQueryEvent): void {\n\t\tsuper.onBeforeRendering(event);\n\n\t\t//setup master and detail page content\n\t\tthis.getPanels().forEach((panel: BaseSettingsPanel) => {\n\t\t\tthis._menuList.addItem(this._getPageListItem(panel));\n\t\t\tthis._splitApp.addDetailPage(this._getDetailPage(panel));\n\t\t});\n\n\t\t//navigate to detail page\n\t\tconst selectedKey = this.getProperty(\"selectedKey\") as string;\n\t\tconst context = this.getProperty(\"context\") as object;\n\t\tthis._navigateToDetailPage(selectedKey, context);\n\t}\n\n\t/**\n\t * Generates a list item for the master page list based on the settings panel.\n\t * The list item displays the title and icon of the settings panel.\n\t *\n\t * @private\n\t * @param {BaseSettingsPanel} settingsPanel The settings panel for which to generate the list item.\n\t * @returns {StandardListItem} The list item control representing the settings panel in the master page list.\n\t */\n\tprivate _getPageListItem(settingsPanel: BaseSettingsPanel): StandardListItem {\n\t\tconst id = `${settingsPanel.getProperty(\"key\")}-page-item`;\n\t\tif (!this._controlMap.get(id)) {\n\t\t\tconst listItem = new StandardListItem(id, {\n\t\t\t\ttitle: settingsPanel.getProperty(\"title\") as string,\n\t\t\t\ticon: settingsPanel.getProperty(\"icon\") as string,\n\t\t\t\ttype: \"Navigation\",\n\t\t\t\ticonDensityAware: false\n\t\t\t});\n\t\t\tlistItem.data(\"key\", settingsPanel.getProperty(\"key\"));\n\t\t\tthis._controlMap.set(id, listItem);\n\t\t}\n\n\t\treturn this._controlMap.get(id) as StandardListItem;\n\t}\n\n\t/**\n\t * Generates a detail page for the SettingsDialog based on the provided settings panel.\n\t *\n\t * @private\n\t * @param {BaseSettingsPanel} settingsPanel The settings panel for which to generate the detail page.\n\t * @returns {Page} The detail page control representing the settings panel.\n\t */\n\tprivate _getDetailPage(settingsPanel: BaseSettingsPanel): Page {\n\t\tconst id = `${settingsPanel.getProperty(\"key\")}-detail-page`;\n\t\tif (!this._controlMap.get(id)) {\n\t\t\tconst page = new Page(id, {\n\t\t\t\ttitle: settingsPanel.getProperty(\"title\") as string,\n\t\t\t\tbackgroundDesign: \"List\",\n\t\t\t\tshowHeader: settingsPanel.getProperty(\"showHeader\") as boolean\n\t\t\t});\n\n\t\t\t//add settings panel action buttons\n\t\t\t((settingsPanel.getAggregation(\"actionButtons\") || []) as Button[]).forEach((actionButton) => {\n\t\t\t\tpage.addHeaderContent(actionButton);\n\t\t\t});\n\n\t\t\tthis._controlMap.set(id, page);\n\t\t}\n\n\t\t//add settings panel content\n\t\t(settingsPanel.getAggregation(\"content\") as Control[]).forEach((content) => (this._controlMap.get(id) as Page).addContent(content));\n\n\t\treturn this._controlMap.get(id) as Page;\n\t}\n}\n"],"mappings":"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","ignoreList":[],"sourceRoot":""}},{"offset":{"line":311,"column":0},"map":{"version":3,"file":"SituationPanel.js","names":["sap","ui","define","Log","Formatting","NavigationHandler","SelectionVariant","GenericTile","Text","TileContent","sap_m_library","Component","DateFormat","NumberFormat","ODataModel","S4MyHome","__ToDoPanel","_interopRequireDefault","obj","__esModule","default","_catch","body","recover","result","e","then","LoadState","URLHelper","ValueColor","ToDoPanel","NavigationHelperError","SituationPanel","extend","constructor","_constructor","id","settings","ToDoPanel.prototype.constructor.call","this","init","_init","ToDoPanel.prototype.init.call","setProperty","_i18nBundle","getText","generateRequestUrls","_generateRequestUrls","cardCount","language","getLanguageTag","getCountUrl","getDataUrl","toUpperCase","generateCardTemplate","_generateCardTemplate","context","mode","frameType","pressEnabled","header","_getSituationMessage","getProperty","headerImage","valueColor","Critical","state","press","event","_onPressSituation","tileContent","content","text","footer","formatDate","rawText","params","arguments","length","undefined","split","composedText","replaceAll","forEach","param","SitnInstceAttribName","attributeSource","SitnInstceAttribSource","paramName","matchedAttributes","_InstanceAttributeValue","reduce","attribute","push","formattedValues","attributeMatched","rawVal","SitnInstceAttribValue","trim","formattedVal","SitnInstceAttribEntityType","_getDateFormatter","format","parse","endsWith","substring","_getNumberFormatter","Number","join","_dateFormatter","datePattern","getDatePattern","getDateInstance","pattern","_decimalFormatter","getFloatInstance","decimalSeparator","getNumberSymbol","groupingSeparator","groupingEnabled","_this","control","getSource","getBindingContext","status","SitnInstceKey","SitnEngineType","getObject","url","getTargetAppUrl","_temp3","Loading","_temp2","_temp","Promise","resolve","_fetchNavigationTargetData","_this$_fetchNavigatio","navigationTargetData","_executeNavigation","getOwnerComponentFor","getParent","error","_sErrorCode","redirect","reject","_getSituationsModel","_situationsModel","serviceUrl","instanceId","situationEngineType","_this2","oContextBindingNavigation","bindContext","$expand","_NavigationParam","$select","requestObject","_oContextBindingNavig","SitnInstanceID","SitnSemanticObject","SitnSemanticObjectAction","SituationNotifParamName","SituationNotifParameterVal","Error","message","oData","ownerComponent","navigationHandler","oSelectionVariant","map","addSelectOption","sNavigationParameters","toJSONString","navigate","getNoDataText","_getNoDataText"],"sources":["SituationPanel.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\n\nimport Log from \"sap/base/Log\";\nimport Formatting from \"sap/base/i18n/Formatting\";\nimport NavigationHandler from \"sap/fe/navigation/NavigationHandler\";\nimport SelectionVariant from \"sap/fe/navigation/SelectionVariant\";\nimport GenericTile from \"sap/m/GenericTile\";\nimport Text from \"sap/m/Text\";\nimport TileContent from \"sap/m/TileContent\";\nimport { LoadState, URLHelper, ValueColor } from \"sap/m/library\";\nimport Event from \"sap/ui/base/Event\";\nimport Component from \"sap/ui/core/Component\";\nimport Control from \"sap/ui/core/Control\";\nimport DateFormat from \"sap/ui/core/format/DateFormat\";\nimport NumberFormat from \"sap/ui/core/format/NumberFormat\";\nimport Context from \"sap/ui/model/Context\";\nimport ODataModel from \"sap/ui/model/odata/v4/ODataModel\";\nimport S4MyHome from \"sap/ushell/api/S4MyHome\";\nimport ToDoPanel, { $ToDoPanelSettings, IToDoPanel } from \"./ToDoPanel\";\nimport ToDosContainer from \"./ToDosContainer\";\n\ninterface Situation {\n\tSitnInstceKey: string;\n\tSitnInstceCreatedAtDateTime: string;\n\tSitnEngineType: string;\n\t_InstanceAttribute: InstanceAttribute[];\n\t_InstanceText: InstanceText;\n\tstatus?: LoadState;\n}\n\ninterface InstanceAttribute {\n\tSitnInstceKey: string;\n\tSitnInstceAttribName: string;\n\tSitnInstceAttribSource: string;\n\tSitnInstceAttribEntityType: string;\n\t_InstanceAttributeValue: InstanceAttributeValue[];\n}\n\ninterface InstanceAttributeValue {\n\tSitnInstceKey: string;\n\tSitnInstceAttribName: string;\n\tSitnInstceAttribSource: string;\n\tSitnInstceAttribValue: string;\n}\n\ninterface InstanceText {\n\tSituationTitle: string;\n\tSituationText: string;\n}\n\ninterface NavigationData {\n\tSitnInstanceID: string;\n\tSitnSemanticObject: string;\n\tSitnSemanticObjectAction: string;\n\t_NavigationParam: NavigationParam[];\n}\n\ninterface NavigationParam {\n\tSituationNotifParamName: string;\n\tSituationNotifParameterVal: string;\n}\n\nclass NavigationHelperError {\n\tpublic _sErrorCode!: string;\n}\n\n/**\n *\n * Panel class for managing and storing Situation cards.\n *\n * @extends ToDoPanel\n *\n * @author SAP SE\n * @version 0.0.1\n * @since 1.121\n *\n * @internal\n * @experimental Since 1.121\n * @public\n *\n * @alias sap.cux.home.SituationPanel\n */\nexport default class SituationPanel extends ToDoPanel implements IToDoPanel {\n\tprivate _situationsModel!: ODataModel;\n\tprivate _dateFormatter!: DateFormat;\n\tprivate _decimalFormatter!: NumberFormat;\n\n\t/**\n\t * Constructor for a new Situation Panel.\n\t *\n\t * @param {string} [id] ID for the new control, generated automatically if an ID is not provided\n\t * @param {object} [settings] Initial settings for the new control\n\t */\n\tpublic constructor(id?: string, settings?: $ToDoPanelSettings) {\n\t\tsuper(id, settings);\n\t}\n\n\t/**\n\t * Init lifecycle method\n\t *\n\t * @private\n\t * @override\n\t */\n\tpublic init(): void {\n\t\tsuper.init();\n\n\t\t//Configure Header\n\t\tthis.setProperty(\"key\", \"situations\");\n\t\tthis.setProperty(\"title\", this._i18nBundle.getText(\"situationsTabTitle\"));\n\t}\n\n\t/**\n\t * Generates request URLs for fetching data based on the specified card count.\n\t * Overridden method to provide situation-specific URLs.\n\t *\n\t * @private\n\t * @override\n\t * @param {number} cardCount - The number of cards to retrieve.\n\t * @returns {string[]} An array of request URLs.\n\t */\n\tpublic generateRequestUrls(cardCount: number): string[] {\n\t\tconst language = Formatting.getLanguageTag().language || \"\";\n\t\treturn [\n\t\t\tthis.getCountUrl(),\n\t\t\t`${this.getDataUrl()}&$expand=_InstanceAttribute($expand=_InstanceAttributeValue($filter=(Language eq '${language.toUpperCase()}' or Language eq ''))),_InstanceText($filter=(Language eq '${language.toUpperCase()}' or Language eq ''))&$skip=0&$top=${cardCount}`\n\t\t];\n\t}\n\n\t/**\n\t * Generates a card template for situations.\n\t * Overridden method from To-Do panel to generate situation-specific card template.\n\t *\n\t * @private\n\t * @override\n\t * @param {string} id The ID for the template card.\n\t * @param {Context} context The context object.\n\t * @returns {Control} The generated card control template.\n\t */\n\tpublic generateCardTemplate(id: string, context: Context): Control {\n\t\treturn new GenericTile(`${id}-actionTile`, {\n\t\t\tmode: \"ActionMode\",\n\t\t\tframeType: \"TwoByOne\",\n\t\t\tpressEnabled: true,\n\t\t\theader: this._getSituationMessage(\n\t\t\t\tcontext.getProperty(\"_InstanceText/0/SituationTitle\") as string,\n\t\t\t\tcontext.getProperty(\"_InstanceAttribute\") as InstanceAttribute[]\n\t\t\t),\n\t\t\theaderImage: \"sap-icon://alert\",\n\t\t\tvalueColor: ValueColor.Critical,\n\t\t\tstate: context.getProperty(\"status\") as LoadState,\n\t\t\tpress: (event: Event) => {\n\t\t\t\tvoid this._onPressSituation(event);\n\t\t\t},\n\t\t\ttileContent: [\n\t\t\t\tnew TileContent(`${id}-actionTileContent`, {\n\t\t\t\t\tcontent: new Text(`${id}-text`, {\n\t\t\t\t\t\ttext: this._getSituationMessage(\n\t\t\t\t\t\t\tcontext.getProperty(\"_InstanceText/0/SituationText\") as string,\n\t\t\t\t\t\t\tcontext.getProperty(\"_InstanceAttribute\") as InstanceAttribute[]\n\t\t\t\t\t\t)\n\t\t\t\t\t}),\n\t\t\t\t\tfooter: S4MyHome.formatDate(context.getProperty(\"SitnInstceCreatedAtDateTime\") as string)\n\t\t\t\t})\n\t\t\t]\n\t\t});\n\t}\n\n\t/**\n\t * Compose the situation message by replacing placeholders with formatted parameter values.\n\t *\n\t * @private\n\t * @param {string} rawText - The raw text containing placeholders.\n\t * @param {InstanceAttribute[]} params - An array of parameters to replace in the text.\n\t * @returns {string} The composed text with replaced placeholders.\n\t */\n\tprivate _getSituationMessage(rawText: string, params: InstanceAttribute[] = []): string {\n\t\tif (!rawText?.split) {\n\t\t\treturn rawText;\n\t\t}\n\n\t\tlet composedText = rawText.replaceAll(\"\\n\", \" \");\n\n\t\tparams.forEach((param) => {\n\t\t\tif (param.SitnInstceAttribName?.length > 0) {\n\t\t\t\tconst attributeSource = `0${param.SitnInstceAttribSource}`;\n\t\t\t\tconst paramName = `${attributeSource}.${param.SitnInstceAttribName}`;\n\t\t\t\tconst matchedAttributes = param._InstanceAttributeValue.reduce(function (matchedAttributes, attribute) {\n\t\t\t\t\tif (\n\t\t\t\t\t\tattribute.SitnInstceAttribSource === param.SitnInstceAttribSource &&\n\t\t\t\t\t\tattribute.SitnInstceAttribName === param.SitnInstceAttribName\n\t\t\t\t\t) {\n\t\t\t\t\t\tmatchedAttributes.push(attribute);\n\t\t\t\t\t}\n\n\t\t\t\t\treturn matchedAttributes;\n\t\t\t\t}, [] as InstanceAttributeValue[]);\n\n\t\t\t\tconst formattedValues: string[] = [];\n\t\t\t\tmatchedAttributes.forEach((attributeMatched) => {\n\t\t\t\t\tlet rawVal = attributeMatched?.SitnInstceAttribValue?.trim() || \"\";\n\t\t\t\t\tlet formattedVal;\n\n\t\t\t\t\tswitch (param.SitnInstceAttribEntityType) {\n\t\t\t\t\t\tcase \"Edm.DateTime\":\n\t\t\t\t\t\t\tformattedVal = this._getDateFormatter().format(this._getDateFormatter().parse(rawVal));\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase \"Edm.Decimal\":\n\t\t\t\t\t\t\t// If the parameter string ends with a minus sign, move it to the first position\n\t\t\t\t\t\t\tif (rawVal.endsWith(\"-\")) {\n\t\t\t\t\t\t\t\trawVal = `-${rawVal.substring(0, rawVal.length - 1)}`;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tformattedVal = this._getNumberFormatter().format(Number(rawVal));\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tformattedVal = rawVal;\n\t\t\t\t\t}\n\n\t\t\t\t\tformattedValues.push(formattedVal);\n\t\t\t\t});\n\n\t\t\t\t// Replace placeholders with formatted values\n\t\t\t\tcomposedText = composedText.split(`{${paramName}}`).join(formattedValues.join(\", \"));\n\t\t\t}\n\t\t});\n\n\t\treturn composedText;\n\t}\n\n\t/**\n\t * Gets the date formatter instance using the medium date pattern.\n\t *\n\t * @returns {DateFormat} The date formatter instance.\n\t */\n\tprivate _getDateFormatter(): DateFormat {\n\t\tif (!this._dateFormatter) {\n\t\t\tconst datePattern = Formatting.getDatePattern(\"medium\") || \"dd/MM/yyyy\";\n\t\t\tthis._dateFormatter = DateFormat.getDateInstance({ pattern: datePattern });\n\t\t}\n\n\t\treturn this._dateFormatter;\n\t}\n\n\t/**\n\t * Gets the number formatter instance using the settings retrieved from Configuration.\n\t *\n\t * @returns {NumberFormat} The number formatter instance.\n\t */\n\tprivate _getNumberFormatter(): NumberFormat {\n\t\tif (!this._decimalFormatter) {\n\t\t\tthis._decimalFormatter = NumberFormat.getFloatInstance({\n\t\t\t\tdecimalSeparator: Formatting.getNumberSymbol(\"decimal\") || \".\",\n\t\t\t\tgroupingSeparator: Formatting.getNumberSymbol(\"group\") || \",\",\n\t\t\t\tgroupingEnabled: true\n\t\t\t});\n\t\t}\n\n\t\treturn this._decimalFormatter;\n\t}\n\n\t/**\n\t * Handle the press event for a situation.\n\t *\n\t * @private\n\t * @param {Event} event - The event object.\n\t */\n\tprivate async _onPressSituation(event: Event): Promise<void> {\n\t\tconst control = event.getSource<GenericTile>();\n\t\tconst context = control.getBindingContext();\n\t\tconst { status, SitnInstceKey: id, SitnEngineType } = context?.getObject() as Situation;\n\t\tconst url = this.getTargetAppUrl();\n\n\t\tif (status !== LoadState.Loading) {\n\t\t\tif (id) {\n\t\t\t\ttry {\n\t\t\t\t\tconst navigationTargetData = (await this._fetchNavigationTargetData(id, SitnEngineType)) as NavigationData;\n\t\t\t\t\tawait this._executeNavigation(\n\t\t\t\t\t\tnavigationTargetData,\n\t\t\t\t\t\tComponent.getOwnerComponentFor(this.getParent() as ToDosContainer) as Component\n\t\t\t\t\t);\n\t\t\t\t} catch (error: unknown) {\n\t\t\t\t\tif (\n\t\t\t\t\t\terror instanceof NavigationHelperError &&\n\t\t\t\t\t\tSitnEngineType === \"1\" &&\n\t\t\t\t\t\terror._sErrorCode === \"NavigationHandler.isIntentSupported.notSupported\"\n\t\t\t\t\t) {\n\t\t\t\t\t\t// Navigate to the situations app\n\t\t\t\t\t\tURLHelper.redirect(this.getTargetAppUrl(), false);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tURLHelper.redirect(url, false);\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Retrieves the Situations model. If the model does not exist, it creates a new one.\n\t *\n\t * @private\n\t * @returns {ODataModel} The Situations model instance.\n\t */\n\tprivate _getSituationsModel(): ODataModel {\n\t\tif (!this._situationsModel) {\n\t\t\tthis._situationsModel = new ODataModel({\n\t\t\t\tserviceUrl: \"/sap/opu/odata4/sap/a_sitn2mblinstce_v4/srvd/sap/a_sitn2mblinstce_srv/0002/\"\n\t\t\t});\n\t\t}\n\n\t\treturn this._situationsModel;\n\t}\n\n\t/**\n\t * Fetches navigation target data based on the provided instance ID.\n\t *\n\t * @private\n\t * @async\n\t * @param {string} instanceId - The instance ID for which to fetch navigation data.\n\t * @param {string} situationEngineType - Situation Engine Type\n\t * @returns {Promise<NavigationTargetData>} A promise that resolves with an object containing navigation data.\n\t */\n\tprivate async _fetchNavigationTargetData(instanceId: string, situationEngineType: string): Promise<NavigationData | undefined> {\n\t\ttry {\n\t\t\tif (situationEngineType === \"1\") {\n\t\t\t\tconst oContextBindingNavigation = this._getSituationsModel().bindContext(`/Navigation/${instanceId}`, undefined, {\n\t\t\t\t\t$expand: { _NavigationParam: { $select: [\"SituationNotifParamName\", \"SituationNotifParameterVal\"] } },\n\t\t\t\t\t$select: [\"SitnInstanceID\", \"SitnSemanticObject\", \"SitnSemanticObjectAction\"]\n\t\t\t\t});\n\t\t\t\treturn (await oContextBindingNavigation.requestObject()) as NavigationData;\n\t\t\t} else {\n\t\t\t\treturn Promise.resolve({\n\t\t\t\t\tSitnInstanceID: instanceId,\n\t\t\t\t\tSitnSemanticObject: \"SituationInstance\",\n\t\t\t\t\tSitnSemanticObjectAction: \"display\",\n\t\t\t\t\t_NavigationParam: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tSituationNotifParamName: \"ui-type\",\n\t\t\t\t\t\t\tSituationNotifParameterVal: \"extended\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tSituationNotifParamName: \"SitnInstceKey\",\n\t\t\t\t\t\t\tSituationNotifParameterVal: instanceId\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t});\n\t\t\t}\n\t\t} catch (error: unknown) {\n\t\t\tLog.error(error instanceof Error ? error.message : \"\");\n\t\t}\n\t}\n\n\t/**\n\t * Executes navigation based on provided data.\n\t *\n\t * @private\n\t * @param {NavigationData} oData - Data object containing navigation parameters.\n\t * @param {Component} ownerComponent - The owner component initiating the navigation.\n\t * @returns {Promise<void>} A promise that resolves or rejects based on the navigation result.\n\t */\n\tprivate _executeNavigation(oData: NavigationData, ownerComponent: Component): Promise<void> {\n\t\treturn new Promise((resolve, reject) => {\n\t\t\t//@ts-expect-error: params\n\t\t\tconst navigationHandler = new NavigationHandler(ownerComponent);\n\t\t\tconst oSelectionVariant = new SelectionVariant();\n\t\t\toData._NavigationParam?.map(function (param) {\n\t\t\t\tif (param.SituationNotifParamName) {\n\t\t\t\t\toSelectionVariant.addSelectOption(param.SituationNotifParamName, \"I\", \"EQ\", param.SituationNotifParameterVal);\n\t\t\t\t}\n\t\t\t});\n\t\t\tconst sNavigationParameters = oSelectionVariant.toJSONString();\n\t\t\tnavigationHandler.navigate(\n\t\t\t\toData.SitnSemanticObject,\n\t\t\t\toData.SitnSemanticObjectAction,\n\t\t\t\tsNavigationParameters,\n\t\t\t\tresolve,\n\t\t\t\t(error: unknown) => reject(error as Error)\n\t\t\t);\n\t\t});\n\t}\n\n\t/**\n\t * Get the text for the \"No Data\" message.\n\t *\n\t * @private\n\t * @returns {string} The text for the \"No Data\" message.\n\t */\n\tpublic getNoDataText(): string {\n\t\treturn this._i18nBundle.getText(\"noSituationTitle\") as string;\n\t}\n}\n"],"mappings":"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","ignoreList":[],"sourceRoot":""}},{"offset":{"line":318,"column":0},"map":{"version":3,"file":"TaskPanel.js","names":["sap","ui","define","Log","Formatting","ActionTile","ActionTileContent","Button","ContentConfig","Link","List","MessageBox","Popover","StandardListItem","TileAttribute","sap_m_library","Locale","DateFormat","NumberFormat","__MenuItem","__ToDoPanel","__DecisionDialog","___utils_Device","___utils_FESRUtil","_interopRequireDefault","obj","__esModule","default","_catch","body","recover","result","e","then","ButtonType","ContentConfigType","LoadState","PlacementType","URLHelper","MenuItem","ToDoPanel","DecisionDialog","getIconFrameBadge","getIconFrameBadgeValueState","fetchElementProperties","addFESRId","addFESRSemanticStepName","FESR_EVENTS","Format","TextArrangement","Constants","CARD_HEIGHT","splitCards","cards","maxLength","cardSet","i","length","push","slice","TaskPanel","extend","metadata","library","properties","enableActions","type","group","defaultValue","visibility","customAttributeUrl","constructor","_constructor","id","settings","ToDoPanel.prototype.constructor.call","this","init","_init","ToDoPanel.prototype.init.call","_customAttributeMap","_taskDefinitionMap","setProperty","_i18nBundle","getText","menuItem","getId","title","icon","press","_onPressViewAll","bind","insertAggregation","generateRequestUrls","_generateRequestUrls","cardCount","urls","getCountUrl","getDataUrl","getCustomAttributeUrl","generateCardTemplate","_generateCardTemplate","context","attributes","getObject","map","attribute","index","label","contentConfig","text","href","mode","frameType","pressEnabled","enableIconFrame","enableDynamicHeight","enableNavigationButton","headerImage","badgeIcon","getProperty","badgeValueState","header","state","priority","_toPriority","priorityText","_toPriorityText","event","_onPressTask","tileContent","headerLink","createdByLink","_onClickCreatedBy","PRESS","actionButtons","viewButton","getSource","getParent","firePress","visible","approveButton","_onActionButtonPress","undefined","addStyleClass","rejectButton","overflowButton","Transparent","_onOverflowButtonPress","overflowButtons","_getOverflowButtonPopover","openBy","_overflowPopover","_overflowList","showHeader","content","placement","VerticalPreferredBottom","_setupOverflowList","destroyItems","forEach","actionButton","listItem","pressHandler","addItem","_loadCards","_getCustomAttributes","task","finalAttributes","maximumAttributeCount","customAttributes","TaskDefinitionID","custom_attribute","customAttribute","taskCustomAttributes","CustomAttributeData","results","existingAttribute","find","taskAttribute","Name","name","value","referenced","Text","format","_formatCustomAttribute","textArrangement","_arrangeText","_formatDate","Value","_addCommonAttributes","trim","description","ValueText","formattedValue","TextFirst","TextLast","TextOnly","TextSeparate","taskAttributes","arguments","findAttribute","attributeName","oAttribute","toUpperCase","currentAttribute","CURRENCYVALUE","reference","referencedAttribute","currencyFormatter","getCurrencyInstance","parseFloat","USER","FormattedValue","CompletionDeadline","CreatedOn","dateStr","pattern","getDatePattern","locale","getLanguageTag","language","dateFormat","getDateTimeInstance","_getParsedTime","formattedDate","isNaN","Date","time","NaN","dateRegex","yyyymmddRegex","isoRegex","dateMatch","match","parseInt","test","_isValidDate","parsedDate","getDateInstance","parse","getTime","isoMatch","dateString","year","month","day","date","getFullYear","getMonth","getDate","control","getBindingContext","status","url","_getTaskUrl","_disableNavigation","Loading","redirect","originId","instanceId","taskInstanceURL","getTargetAppUrl","_this","sourceControl","getParameter","SAP__Origin","CreatedBy","userId","TaskTitle","subject","CreatedByName","createdBy","InstanceID","link","triggerEmail","email","_ref","setTimeout","URL","window","location","hash","toString","Promise","resolve","_fetchUserDetailsIfRequired","userData","Email","require","serviceContainer","getServiceAsync","teamsHelper","_temp2","enableContactsCollaboration","_temp","encodeURIComponent","_teamsHelper$enableCo","popover","error","Error","message","String","reject","warning","userInfo","Object","keys","includes","_fetchUserInfo","_this2","fetch","response","ok","json","_response$json","d","data","onDataReceived","_onDataReceived","options","_this3","tasks","taskDefinitions","_extractCustomAttributes","_temp3","onlyCount","_updateTasks","updatedTasks","_oData","displayTiles","tiles","_this4","_addCustomAttributes","_temp4","getEnableActions","_getTaskDefintions","_downloadDecisionOptions","_addActions","key","actions","getTaskActions","getBaseUrl","_this5","decisionKeys","decisionURLs","reduce","_temp5","_clearRequests","requests","baseURL","requestURLs","success","decisionOptions","_submitBatch","taskDefinition","CustomAttributeDefinitionData","filter","Rank","sort","attr1","attr2","Label","Type","Reference","Referenced","getNoDataText","_getNoDataText","getVerticalCardCount","_getVerticalCardCount","domRef","calculationProperties","domProperties","titleHeight","calculateTitleHeight","availableHeight","height","horizontalCardCount","getHorizontalCardCount","isPlaceholder","gap","verticalCardCount","_isLoaded","rowHeights","maxAttributes","attributeCount","card","count","Math","min","rowHeight","floor","max"],"sources":["TaskPanel.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\n\nimport Log from \"sap/base/Log\";\nimport Formatting from \"sap/base/i18n/Formatting\";\nimport ActionTile from \"sap/m/ActionTile\";\nimport ActionTileContent, { ActionTileContent$LinkPressEvent } from \"sap/m/ActionTileContent\";\nimport Button from \"sap/m/Button\";\nimport ContentConfig from \"sap/m/ContentConfig\";\nimport Link from \"sap/m/Link\";\nimport List from \"sap/m/List\";\nimport MessageBox from \"sap/m/MessageBox\";\nimport Popover from \"sap/m/Popover\";\nimport StandardListItem from \"sap/m/StandardListItem\";\nimport TileAttribute from \"sap/m/TileAttribute\";\nimport { ButtonType, ContentConfigType, LoadState, PlacementType, URLHelper } from \"sap/m/library\";\nimport ServiceContainer from \"sap/suite/ui/commons/collaboration/ServiceContainer\";\nimport Event from \"sap/ui/base/Event\";\nimport Control from \"sap/ui/core/Control\";\nimport { MetadataOptions } from \"sap/ui/core/Element\";\nimport Locale from \"sap/ui/core/Locale\";\nimport DateFormat from \"sap/ui/core/format/DateFormat\";\nimport NumberFormat from \"sap/ui/core/format/NumberFormat\";\nimport Context from \"sap/ui/model/Context\";\nimport MenuItem from \"./MenuItem\";\nimport { $TaskPanelSettings } from \"./TaskPanel\";\nimport ToDoPanel, { CalculationProperties, IToDoPanel, RequestOptions, Response, TaskPriority } from \"./ToDoPanel\";\nimport DecisionDialog, { ActionButton, DecisionOption, getIconFrameBadge, getIconFrameBadgeValueState } from \"./utils/DecisionDialog\";\nimport { fetchElementProperties } from \"./utils/Device\";\nimport { addFESRId, addFESRSemanticStepName, FESR_EVENTS } from \"./utils/FESRUtil\";\n\ninterface CustomAttribute {\n\tname?: string;\n\tlabel?: string;\n\ttext?: string;\n\ttype?: string;\n\thref?: string;\n\tformat?: string;\n\treference?: string;\n\treferenced?: string;\n\ttextArrangement?: TextArrangement;\n}\n\ninterface TaskCustomAttribute {\n\tName: string;\n\tValue: string;\n\tValueText: string;\n\tLabel: string;\n\tType: string;\n\tRank: number;\n\tFormat: string;\n\tFormattedValue: string;\n\tReference: string;\n\tReferenced: string;\n\tTextArrangement: TextArrangement;\n}\n\nexport interface Task {\n\tSAP__Origin: string;\n\tCreatedBy: string;\n\tTaskTitle: string;\n\tCreatedByName: string;\n\tInstanceID: string;\n\tTaskDefinitionID: string;\n\tCompletionDeadline: string;\n\tCreatedOn: string;\n\tactions: ActionButton[];\n\tPriority: TaskPriority;\n\tCustomAttributeData: {\n\t\tresults: TaskCustomAttribute[];\n\t};\n\tattributes: CustomAttribute[];\n}\n\ninterface TaskDefintion {\n\tSAP__Origin: string;\n\tInstanceID: string;\n\tTaskDefinitionID: string;\n}\n\ninterface TaskDefinitionCollection {\n\tTaskDefinitionID: string;\n\tCustomAttributeDefinitionData: {\n\t\tresults: TaskCustomAttribute[];\n\t};\n}\n\ninterface UserInfo {\n\tEmail?: string;\n}\n\nenum Format {\n\tCURRENCYVALUE = \"CURRENCYVALUE\",\n\tCURRENCYCODE = \"CURRENCYCODE\",\n\tUSER = \"USER\"\n}\n\nenum TextArrangement {\n\tTextFirst = \"TextFirst\",\n\tTextLast = \"TextLast\",\n\tTextOnly = \"TextOnly\",\n\tTextSeparate = \"TextSeparate\"\n}\n\nconst Constants = {\n\tCARD_HEIGHT: {\n\t\t// Cozy - Compact\n\t\t1: 220, // 214  - 226\n\t\t2: 272, // 265  - 278\n\t\t3: 324, // 318  - 330\n\t\t4: 376 // 370  - 382\n\t}\n};\n\n/**\n * Splits an array of task cards into smaller arrays, each with a maximum specified length.\n *\n * @param {Task[]} cards - The array of task cards to be split.\n * @param {number} maxLength - The maximum length of each sub-array.\n * @returns {Task[][]} - An array of sub-arrays, each containing a maximum of `maxLength` task cards.\n */\nfunction splitCards(cards: Task[], maxLength: number): Task[][] {\n\tconst cardSet = [];\n\tfor (let i = 0; i < cards.length; i += maxLength) {\n\t\tcardSet.push(cards.slice(i, i + maxLength));\n\t}\n\n\treturn cardSet;\n}\n\n/**\n *\n * Panel class for managing and storing Task cards.\n *\n * @extends ToDoPanel\n *\n * @author SAP SE\n * @version 0.0.1\n * @since 1.121\n *\n * @internal\n * @experimental Since 1.121\n * @public\n *\n * @alias sap.cux.home.TaskPanel\n */\nexport default class TaskPanel extends ToDoPanel implements IToDoPanel {\n\tprivate _customAttributeMap!: Record<string, CustomAttribute[]>;\n\tprivate userInfo!: Record<string, UserInfo>;\n\tprivate _disableNavigation!: boolean;\n\tprivate _taskDefinitionMap!: Record<string, DecisionOption[]>;\n\tprivate _overflowPopover!: Popover;\n\tprivate _overflowList!: List;\n\n\tconstructor(id?: string | $TaskPanelSettings);\n\tconstructor(id?: string, settings?: $TaskPanelSettings);\n\t/**\n\t * Constructor for a new Task Panel.\n\t *\n\t * @param {string} [id] ID for the new control, generated automatically if an ID is not provided\n\t * @param {object} [settings] Initial settings for the new control\n\t */\n\tpublic constructor(id?: string, settings?: $TaskPanelSettings) {\n\t\tsuper(id, settings);\n\t}\n\n\tstatic readonly metadata: MetadataOptions = {\n\t\tlibrary: \"sap.cux.home\",\n\t\tproperties: {\n\t\t\t/**\n\t\t\t * Specifies if actions should be enabled for the task cards.\n\t\t\t *\n\t\t\t * @public\n\t\t\t */\n\t\t\tenableActions: { type: \"boolean\", group: \"Data\", defaultValue: false, visibility: \"public\" },\n\t\t\t/**\n\t\t\t * Specifies the URL that fetches the custom attributes to be displayed along with the task cards.\n\t\t\t *\n\t\t\t * @public\n\t\t\t */\n\t\t\tcustomAttributeUrl: { type: \"string\", group: \"Data\", defaultValue: \"\", visibility: \"public\" }\n\t\t}\n\t};\n\n\t/**\n\t * Init lifecycle method\n\t *\n\t * @private\n\t * @override\n\t */\n\tpublic init(): void {\n\t\tsuper.init();\n\t\tthis._customAttributeMap = {};\n\t\tthis._taskDefinitionMap = {};\n\n\t\t//Configure Header\n\t\tthis.setProperty(\"key\", \"tasks\");\n\t\tthis.setProperty(\"title\", this._i18nBundle.getText(\"tasksTabTitle\"));\n\n\t\t//Setup Menu Items - ensure that 'View All Tasks' item is the first item in the list\n\t\tconst menuItem = new MenuItem(`${this.getId()}-view-tasks-btn`, {\n\t\t\ttitle: this._i18nBundle.getText(\"viewAllTasksTitle\"),\n\t\t\ticon: \"sap-icon://inbox\",\n\t\t\tpress: this._onPressViewAll.bind(this)\n\t\t});\n\t\tthis.insertAggregation(\"menuItems\", menuItem, 0);\n\t\taddFESRId(menuItem, \"goToTaskSitution\");\n\t}\n\n\t/**\n\t * Generates request URLs for fetching data based on the specified card count.\n\t * Overridden method to provide task-specific URLs.\n\t *\n\t * @private\n\t * @override\n\t * @param {number} cardCount - The number of cards to retrieve.\n\t * @returns {string[]} An array of request URLs.\n\t */\n\tpublic generateRequestUrls(cardCount: number): string[] {\n\t\tconst urls = [this.getCountUrl(), `${this.getDataUrl()},CustomAttributeData&$expand=CustomAttributeData&$skip=0&$top=${cardCount}`];\n\n\t\tconst customAttributeUrl = this.getCustomAttributeUrl();\n\t\tif (customAttributeUrl) {\n\t\t\turls.push(customAttributeUrl);\n\t\t}\n\n\t\treturn urls;\n\t}\n\n\t/**\n\t * Generates a card template for tasks.\n\t * Overridden method from To-Do panel to generate task-specific card template.\n\t *\n\t * @private\n\t * @override\n\t * @param {string} id The ID for the template card.\n\t * @param {Context} context The context object.\n\t * @returns {Control} The generated card control template.\n\t */\n\tpublic generateCardTemplate(id: string, context: Context): Control {\n\t\tconst attributes = (context.getObject() as Task).attributes?.map((attribute, index) => {\n\t\t\treturn new TileAttribute(`${id}-${index}-attribute`, {\n\t\t\t\tlabel: attribute.label as string,\n\t\t\t\tcontentConfig: new ContentConfig(`${id}-${index}-contentConfig`, {\n\t\t\t\t\ttype: attribute.type as ContentConfigType,\n\t\t\t\t\ttext: attribute.text as string,\n\t\t\t\t\thref: attribute.href as string\n\t\t\t\t})\n\t\t\t});\n\t\t});\n\n\t\treturn new ActionTile(`${id}-actionTile`, {\n\t\t\tmode: \"ActionMode\",\n\t\t\tframeType: \"TwoByOne\",\n\t\t\tpressEnabled: true,\n\t\t\tenableIconFrame: true,\n\t\t\tenableDynamicHeight: true,\n\t\t\tenableNavigationButton: true,\n\t\t\theaderImage: \"sap-icon://workflow-tasks\",\n\t\t\tbadgeIcon: getIconFrameBadge(context.getProperty(\"Priority\") as TaskPriority),\n\t\t\tbadgeValueState: getIconFrameBadgeValueState(context.getProperty(\"Priority\") as TaskPriority),\n\t\t\theader: context.getProperty(\"TaskTitle\") as string,\n\t\t\tstate: context.getProperty(\"status\") as LoadState,\n\t\t\tpriority: this._toPriority(context.getProperty(\"Priority\") as TaskPriority),\n\t\t\tpriorityText: this._toPriorityText(this._toPriority(context.getProperty(\"Priority\") as TaskPriority)),\n\t\t\tpress: (event: Event) => this._onPressTask(event),\n\t\t\ttileContent: [\n\t\t\t\tnew ActionTileContent(`${id}-actionTileContent`, {\n\t\t\t\t\theaderLink: (() => {\n\t\t\t\t\t\tconst createdByLink = new Link({\n\t\t\t\t\t\t\ttext: context.getProperty(\"CreatedByName\") as string,\n\t\t\t\t\t\t\tpress: (event: Event): void => {\n\t\t\t\t\t\t\t\tvoid this._onClickCreatedBy(event);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t\taddFESRSemanticStepName(createdByLink, FESR_EVENTS.PRESS, \"MST:ContactDetails\");\n\t\t\t\t\t\treturn createdByLink;\n\t\t\t\t\t})(),\n\t\t\t\t\tattributes\n\t\t\t\t})\n\t\t\t],\n\t\t\tactionButtons: [\n\t\t\t\t(() => {\n\t\t\t\t\tconst viewButton = new Button(`${id}-view-btn`, {\n\t\t\t\t\t\ttext: this._i18nBundle.getText(\"viewButton\"),\n\t\t\t\t\t\tpress: (event: Event) => (event.getSource<Button>().getParent() as ActionTile).firePress(),\n\t\t\t\t\t\tvisible: context.getProperty(\"actions/length\") === 0\n\t\t\t\t\t});\n\t\t\t\t\taddFESRSemanticStepName(viewButton, FESR_EVENTS.PRESS, \"todoActionBtn\");\n\t\t\t\t\treturn viewButton;\n\t\t\t\t})(),\n\t\t\t\t(() => {\n\t\t\t\t\tconst approveButton = new Button(`${id}-approve-btn`, {\n\t\t\t\t\t\ttext: context.getProperty(\"actions/0/text\") as string,\n\t\t\t\t\t\ttype: context.getProperty(\"actions/0/type\") as ButtonType,\n\t\t\t\t\t\tpress: () => this._onActionButtonPress(context.getProperty(\"actions/0/pressHandler\") as () => void),\n\t\t\t\t\t\tvisible: context.getProperty(\"actions/0\") !== undefined\n\t\t\t\t\t}).addStyleClass(\"sapUiTinyMarginEnd\");\n\t\t\t\t\taddFESRSemanticStepName(approveButton, FESR_EVENTS.PRESS, \"todoActionBtn\");\n\t\t\t\t\treturn approveButton;\n\t\t\t\t})(),\n\t\t\t\t(() => {\n\t\t\t\t\tconst rejectButton = new Button(`${id}-reject-btn`, {\n\t\t\t\t\t\ttext: context.getProperty(\"actions/1/text\") as string,\n\t\t\t\t\t\ttype: context.getProperty(\"actions/1/type\") as ButtonType,\n\t\t\t\t\t\tpress: () => this._onActionButtonPress(context.getProperty(\"actions/1/pressHandler\") as () => void),\n\t\t\t\t\t\tvisible: context.getProperty(\"actions/1\") !== undefined\n\t\t\t\t\t}).addStyleClass(\"sapUiTinyMarginEnd\");\n\t\t\t\t\taddFESRSemanticStepName(rejectButton, FESR_EVENTS.PRESS, \"todoActionBtn\");\n\t\t\t\t\treturn rejectButton;\n\t\t\t\t})(),\n\t\t\t\t(() => {\n\t\t\t\t\tconst overflowButton = new Button(`${id}-overflow-btn`, {\n\t\t\t\t\t\ticon: \"sap-icon://overflow\",\n\t\t\t\t\t\ttype: ButtonType.Transparent,\n\t\t\t\t\t\tpress: (event: Event) => this._onOverflowButtonPress(event, context),\n\t\t\t\t\t\tvisible: context.getProperty(\"actions/length\") >= 3\n\t\t\t\t\t});\n\t\t\t\t\taddFESRSemanticStepName(overflowButton, FESR_EVENTS.PRESS, \"todoActBtnOverflow\");\n\t\t\t\t\treturn overflowButton;\n\t\t\t\t})()\n\t\t\t]\n\t\t});\n\t}\n\n\t/**\n\t * Handles the press event of the overflow button.\n\t * Opens a Popover containing overflow actions.\n\t *\n\t * @private\n\t * @param {Event} event - The press event triggered by the overflow button.\n\t * @param {Context} context - The context containing all actions.\n\t * @returns {void}\n\t */\n\tprivate _onOverflowButtonPress(event: Event, context: Context): void {\n\t\tconst overflowButtons = (context.getProperty(\"actions\") as ActionButton[]).slice(2);\n\t\tthis._getOverflowButtonPopover(overflowButtons).openBy(event.getSource<Button>());\n\t}\n\n\t/**\n\t * Creates or retrieves the overflow button Popover.\n\t *\n\t * @private\n\t * @param {ActionButton[]} actionButtons - The array of overflow actions.\n\t * @returns {Popover} The overflow button Popover.\n\t */\n\tprivate _getOverflowButtonPopover(actionButtons: ActionButton[]): Popover {\n\t\tif (!this._overflowPopover) {\n\t\t\tthis._overflowList = new List(`${this.getId()}-overflowList`);\n\t\t\tthis._overflowPopover = new Popover(`${this.getId()}-overflowPopover`, {\n\t\t\t\tshowHeader: false,\n\t\t\t\tcontent: this._overflowList,\n\t\t\t\tplacement: PlacementType.VerticalPreferredBottom\n\t\t\t});\n\t\t}\n\n\t\t//setup task-specific with task-specific actions\n\t\tthis._setupOverflowList(actionButtons);\n\t\treturn this._overflowPopover;\n\t}\n\n\t/**\n\t * Sets up the overflow button list with the provided task-specific actions.\n\t *\n\t * @private\n\t * @param {ActionButton[]} actionButtons - The array of overflow actions.\n\t * @returns {void}\n\t */\n\tprivate _setupOverflowList(actionButtons: ActionButton[]): void {\n\t\tthis._overflowList.destroyItems();\n\t\tactionButtons.forEach((actionButton, index) => {\n\t\t\tconst listItem = new StandardListItem(`action-${index}`, {\n\t\t\t\ttitle: actionButton.text,\n\t\t\t\ttype: \"Active\",\n\t\t\t\tpress: () => this._onActionButtonPress(actionButton.pressHandler as () => void)\n\t\t\t});\n\t\t\taddFESRSemanticStepName(listItem, FESR_EVENTS.PRESS, \"todoActionBtn\");\n\t\t\tthis._overflowList.addItem(listItem);\n\t\t});\n\t}\n\n\t/**\n\t * Handles the button press event and executes the provided press handler function,\n\t * which refreshes the UI after the button press action.\n\t *\n\t * @private\n\t * @param {Function} pressHandler - The function to be executed when the button is pressed.\n\t * @returns {void}\n\t */\n\tprivate _onActionButtonPress(pressHandler: (refreshFn: () => Promise<void>) => void): void {\n\t\tpressHandler(this._loadCards.bind(this));\n\t}\n\n\t/**\n\t * Retrieves custom attributes for a given task and formats them for display.\n\t * If the task has completion deadline and creation date, those attributes are also included.\n\t * If the task has a creator, the creator's name is included as well.\n\t *\n\t * @param {Task} task - The task object for which custom attributes are retrieved.\n\t * @returns {CustomAttribute[]} - An array of formatted custom attributes.\n\t */\n\tprivate _getCustomAttributes(task: Task): CustomAttribute[] {\n\t\tconst finalAttributes = [];\n\t\tconst maximumAttributeCount = 4;\n\t\tconst customAttributes = this._customAttributeMap[task.TaskDefinitionID] || [];\n\n\t\tfor (let custom_attribute of customAttributes) {\n\t\t\tconst customAttribute = custom_attribute;\n\t\t\tconst taskCustomAttributes = task.CustomAttributeData?.results;\n\t\t\tconst existingAttribute = taskCustomAttributes.find((taskAttribute) => {\n\t\t\t\treturn taskAttribute.Name === customAttribute.name;\n\t\t\t});\n\t\t\tlet value = \"\";\n\n\t\t\tif (existingAttribute && !customAttribute.referenced) {\n\t\t\t\tconst attribute: CustomAttribute = {\n\t\t\t\t\tlabel: customAttribute.label + \":\",\n\t\t\t\t\ttype: ContentConfigType.Text\n\t\t\t\t};\n\n\t\t\t\tif (customAttribute.format) {\n\t\t\t\t\tvalue = this._formatCustomAttribute(customAttribute, taskCustomAttributes);\n\t\t\t\t} else if (customAttribute.textArrangement) {\n\t\t\t\t\tvalue = this._arrangeText(existingAttribute, customAttribute.textArrangement);\n\t\t\t\t} else {\n\t\t\t\t\tvalue = customAttribute.type === \"Edm.DateTime\" ? this._formatDate(existingAttribute.Value) : existingAttribute.Value;\n\t\t\t\t}\n\t\t\t\tattribute.text = value || \"-\";\n\t\t\t\tfinalAttributes.push(attribute);\n\t\t\t}\n\t\t}\n\n\t\t// add common attributes\n\t\tthis._addCommonAttributes(finalAttributes, task);\n\n\t\treturn finalAttributes.slice(0, maximumAttributeCount);\n\t}\n\n\t/**\n\t * Formats the given unit of measure value and description based on the specified text arrangement.\n\t *\n\t * @private\n\t * @param {TaskCustomAttribute} customAttribute The custom attribute object.\n\t * @param {TextArrangement} textArrangement The text arrangement option.\n\t * @returns {string} The formatted value.\n\t */\n\tprivate _arrangeText(customAttribute: TaskCustomAttribute, textArrangement: TextArrangement): string {\n\t\tconst value = customAttribute.Value.trim();\n\t\tconst description = customAttribute.ValueText.trim();\n\t\tlet formattedValue = \"\";\n\n\t\tswitch (textArrangement) {\n\t\t\tcase TextArrangement.TextFirst:\n\t\t\t\tformattedValue = `${description} (${value})`;\n\t\t\t\tbreak;\n\t\t\tcase TextArrangement.TextLast:\n\t\t\t\tformattedValue = `${value} (${description})`;\n\t\t\t\tbreak;\n\t\t\tcase TextArrangement.TextOnly:\n\t\t\t\tformattedValue = `${description}`;\n\t\t\t\tbreak;\n\t\t\tcase TextArrangement.TextSeparate:\n\t\t\t\tformattedValue = `${value}`;\n\t\t\t\tbreak;\n\t\t\tdefault: // TextFirst\n\t\t\t\tformattedValue = `${description} ${value})`;\n\t\t\t\tbreak;\n\t\t}\n\n\t\treturn formattedValue;\n\t}\n\n\t/**\n\t * Formats a custom attribute value based on its format type.\n\t *\n\t * @param {CustomAttribute} customAttribute - The custom attribute object.\n\t * @param {TaskCustomAttribute[]} taskAttributes - The array of task attributes.\n\t * @returns {string} - The formatted value.\n\t */\n\tprivate _formatCustomAttribute(customAttribute: CustomAttribute, taskAttributes: TaskCustomAttribute[] = []): string {\n\t\tconst findAttribute = (attributeName: string) => {\n\t\t\treturn taskAttributes.find((oAttribute) => {\n\t\t\t\treturn oAttribute.Name === attributeName;\n\t\t\t});\n\t\t};\n\t\tconst format = customAttribute.format?.toUpperCase();\n\t\tconst currentAttribute = findAttribute(customAttribute.name as string);\n\t\tlet formattedValue = currentAttribute?.Value;\n\n\t\t// Format = CurrencyValue\n\t\tif (format === Format.CURRENCYVALUE && customAttribute.reference) {\n\t\t\tconst referencedAttribute = findAttribute(customAttribute.reference);\n\n\t\t\tif (referencedAttribute) {\n\t\t\t\tconst currencyFormatter = NumberFormat.getCurrencyInstance();\n\t\t\t\tformattedValue = currencyFormatter.format(parseFloat(currentAttribute?.Value as string), referencedAttribute.Value);\n\t\t\t}\n\t\t} else if (format === Format.USER) {\n\t\t\tformattedValue = currentAttribute?.FormattedValue || currentAttribute?.Value;\n\t\t}\n\n\t\treturn formattedValue as string;\n\t}\n\n\t/**\n\t * Adds common attributes to the final attributes list based on the provided task.\n\t * Common attributes include completion deadline, creation date, and creator's name.\n\t *\n\t * @param {CustomAttribute[]} finalAttributes - The array of custom attributes to which the common attributes will be added.\n\t * @param {Task} task - The task object containing data for common attributes.\n\t */\n\tprivate _addCommonAttributes(finalAttributes: CustomAttribute[], task: Task): void {\n\t\tif (task.CompletionDeadline) {\n\t\t\tfinalAttributes.push({\n\t\t\t\tlabel: this._i18nBundle.getText(\"dueDate\") + \":\",\n\t\t\t\ttext: this._formatDate(task.CompletionDeadline, \"MMM dd, YYYY hh:mm a\"),\n\t\t\t\ttype: ContentConfigType.Text\n\t\t\t});\n\t\t}\n\n\t\tif (task.CreatedOn) {\n\t\t\tfinalAttributes.push({\n\t\t\t\tlabel: this._i18nBundle.getText(\"createdOn\") + \":\",\n\t\t\t\ttext: this._formatDate(task.CreatedOn),\n\t\t\t\ttype: ContentConfigType.Text\n\t\t\t});\n\t\t}\n\t}\n\n\t/**\n\t * Format a date string to a custom date and time format.\n\t *\n\t * @private\n\t * @param {string} dateStr - The date string to format.\n\t * @param {string} pattern - The pattern to be used for formatting the date.\n\t * @returns {string} The formatted date string.\n\t */\n\tprivate _formatDate(dateStr: string, pattern: string = Formatting.getDatePattern(\"short\") || \"dd/MM/yyyy\"): string {\n\t\tconst locale = new Locale(Formatting.getLanguageTag().language);\n\t\tconst dateFormat = DateFormat.getDateTimeInstance({ pattern }, locale);\n\t\tconst value = this._getParsedTime(dateStr);\n\t\tlet formattedDate = \"\";\n\n\t\tif (!isNaN(value)) {\n\t\t\tformattedDate = dateFormat.format(new Date(value));\n\t\t}\n\n\t\treturn formattedDate;\n\t}\n\n\t/**\n\t * Parses different time formats supplied from the back-ends. It returns UNIX time stamp in milliseconds.\n\t * If Time Format contains unexpected symbols or Format is not recognized NaN is returned.\n\t * Referenced from: cross.fnd.fiori.inbox.CustomAttributeComparator\n\t *\n\t * @param {string | number} time date format to be parsed. If int UNIX time stamp in milliseconds is assumed.\n\t * @returns {number} UNIX time stamp in milliseconds. (milliseconds that have elapsed since 00:00:00 UTC, Thursday, 1 January 1970)\n\t * @private\n\t */\n\tprivate _getParsedTime(time: string | number): number {\n\t\tif (time == null || time === \"00000000\") {\n\t\t\treturn NaN;\n\t\t}\n\n\t\tif (typeof time === \"number\") {\n\t\t\treturn time;\n\t\t}\n\n\t\t// Check for various time formats\n\t\tconst dateRegex = /\\/(Date)\\((\\d+)\\)\\//;\n\t\tconst yyyymmddRegex = /^\\d{8}$/;\n\t\tconst isoRegex = /^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(Z|([+-])(\\d{2}):(\\d{2}))?$/;\n\n\t\tconst dateMatch = time.match(dateRegex);\n\t\tif (dateMatch) {\n\t\t\t// Time Format \"/Date(869080830000)/\"\n\t\t\treturn parseInt(dateMatch[2], 10);\n\t\t}\n\n\t\tif (yyyymmddRegex.test(time) && this._isValidDate(time)) {\n\t\t\t// Time Format \"YYYYMMDD\" (Old TGW format)\n\t\t\tconst parsedDate = DateFormat.getDateInstance().parse(time);\n\t\t\treturn parsedDate instanceof Date ? parsedDate.getTime() : NaN;\n\t\t}\n\n\t\tconst isoMatch = time.match(isoRegex);\n\t\tif (isoMatch) {\n\t\t\t// Time Format \"2018-01-05T00:00:00\" (BPM and TGW-cloud format, UTC)\n\t\t\treturn new Date(time).getTime();\n\t\t}\n\n\t\treturn NaN;\n\t}\n\n\t/**\n\t * Check whether given dateString is of format YYYYMMDD and is a valid value for Date object.\n\t *\n\t * @param {string} dateString - The datestring to be checked for validity\n\t * @returns {Date} if its a valid date return the date else false\n\t * @private\n\t */\n\tprivate _isValidDate(dateString: string): boolean {\n\t\t// Check if the input has the correct length\n\t\tif (dateString.length !== 8) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Parse the date components\n\t\tconst year = parseInt(dateString.slice(0, 4), 10);\n\t\tconst month = parseInt(dateString.slice(4, 6), 10) - 1;\n\t\tconst day = parseInt(dateString.slice(6), 10);\n\n\t\t// Create a Date object with the parsed components\n\t\tconst date = new Date(year, month, day);\n\n\t\t// Check if the parsed date is valid\n\t\treturn date.getFullYear() === year && date.getMonth() === month && date.getDate() === day;\n\t}\n\n\t/**\n\t * Handles the press event of a task.\n\t *\n\t * @private\n\t * @param {Event} event - The press event.\n\t */\n\tprivate _onPressTask(event: Event) {\n\t\tconst control = event.getSource<ActionTile>();\n\t\tconst context = control.getBindingContext();\n\t\tconst status = context?.getProperty(\"status\") as LoadState;\n\t\tconst url = this._getTaskUrl(context?.getProperty(\"SAP__Origin\") as string, context?.getProperty(\"InstanceID\") as string);\n\n\t\tif (!this._disableNavigation) {\n\t\t\tif (status !== LoadState.Loading) {\n\t\t\t\tURLHelper.redirect(url, false);\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Get the task URL for a given task.\n\t *\n\t * @private\n\t * @param {string} originId - The origin ID of the task.\n\t * @param {string} instanceId - The instance ID of the task.\n\t * @returns {string} The task URL.\n\t */\n\tprivate _getTaskUrl(originId: string, instanceId: string): string {\n\t\tconst taskInstanceURL = `?showAdditionalAttributes=true&/detail/${originId}/${instanceId}/TaskCollection(SAP__Origin='${originId}',InstanceID='${instanceId}')`;\n\n\t\treturn this.getTargetAppUrl() + taskInstanceURL;\n\t}\n\n\t/**\n\t * Handles the click event on the \"Created By\" link.\n\t * Triggers email or opens a contact card if configuration is enabled\n\t *\n\t * @private\n\t * @param {Event} event - The event object.\n\t */\n\tprivate async _onClickCreatedBy(event: ActionTileContent$LinkPressEvent): Promise<void> {\n\t\tconst sourceControl = event.getParameter(\"link\");\n\t\tconst {\n\t\t\tSAP__Origin: originId,\n\t\t\tCreatedBy: userId,\n\t\t\tTaskTitle: subject,\n\t\t\tCreatedByName: createdBy,\n\t\t\tInstanceID\n\t\t} = event.getSource().getBindingContext()?.getObject() as Task;\n\t\tconst link = this._getTaskUrl(originId, InstanceID);\n\t\tconst triggerEmail = (email: string, { subject, body }: { subject: string; body: string }) => {\n\t\t\tURLHelper.triggerEmail(email, subject, body);\n\t\t\tsetTimeout(() => {\n\t\t\t\tthis._disableNavigation = false;\n\t\t\t}, 0);\n\t\t};\n\t\tconst url = new URL(window.location.href);\n\t\turl.hash = link;\n\t\tconst body = url.toString();\n\n\t\tthis._disableNavigation = true;\n\n\t\tconst userData = await this._fetchUserDetailsIfRequired(originId, userId);\n\t\tif (userData.Email) {\n\t\t\tsap.ui.require([\"sap/suite/ui/commons/collaboration/ServiceContainer\"], async (serviceContainer: ServiceContainer) => {\n\t\t\t\tconst teamsHelper = await serviceContainer.getServiceAsync();\n\n\t\t\t\tif (teamsHelper.enableContactsCollaboration) {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tconst popover = (await teamsHelper.enableContactsCollaboration(userData.Email as string, {\n\t\t\t\t\t\t\tsubject,\n\t\t\t\t\t\t\tbody: encodeURIComponent(body)\n\t\t\t\t\t\t})) as Popover;\n\t\t\t\t\t\tpopover.openBy(sourceControl as Link);\n\t\t\t\t\t} catch (error) {\n\t\t\t\t\t\tLog.error(error instanceof Error ? error.message : String(error));\n\t\t\t\t\t\ttriggerEmail(userData.Email as string, { subject, body });\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\ttriggerEmail(userData.Email as string, { subject, body });\n\t\t\t\t}\n\t\t\t});\n\t\t} else {\n\t\t\tMessageBox.warning(this._i18nBundle.getText(\"noEmail\", [createdBy]) as string);\n\t\t\tsetTimeout(() => {\n\t\t\t\tthis._disableNavigation = false;\n\t\t\t}, 0);\n\t\t}\n\t}\n\n\t/**\n\t * Fetches user details if required.\n\t *\n\t * @private\n\t * @param {string} originId - The origin ID.\n\t * @param {string} userId - The user ID.\n\t * @returns {Promise<UserInfo>} - A promise that resolves to the user information.\n\t */\n\tprivate _fetchUserDetailsIfRequired(originId: string, userId: string): Promise<UserInfo> {\n\t\tthis.userInfo = this.userInfo || {};\n\n\t\tif (Object.keys(this.userInfo).includes(userId)) {\n\t\t\treturn Promise.resolve(this.userInfo[userId]);\n\t\t} else {\n\t\t\treturn this._fetchUserInfo(originId, userId);\n\t\t}\n\t}\n\n\t/**\n\t * Fetches user information for a specific user.\n\t *\n\t * @private\n\t * @param {string} originId - The origin ID.\n\t * @param {string} userId - The user ID.\n\t * @returns {Promise<UserInfo>} - A promise that resolves to the user information.\n\t */\n\tprivate async _fetchUserInfo(originId: string, userId: string): Promise<UserInfo> {\n\t\ttry {\n\t\t\tconst response = await fetch(\n\t\t\t\t`/sap/opu/odata/IWPGW/TASKPROCESSING;mo;v=2/UserInfoCollection(SAP__Origin='${originId}',UniqueName='${userId}')?$format=json`\n\t\t\t);\n\n\t\t\tif (!response.ok) {\n\t\t\t\tthrow new Error(`Failed to Fetch User Info for: ${userId}`);\n\t\t\t}\n\n\t\t\tconst { d: data } = (await response.json()) as Response;\n\t\t\tthis.userInfo[userId] = data as UserInfo;\n\t\t\treturn this.userInfo[userId];\n\t\t} catch (error: unknown) {\n\t\t\tLog.error(error instanceof Error ? error.message : String(error));\n\t\t\treturn {};\n\t\t}\n\t}\n\n\t/**\n\t * Hook for processing data fetched from a batch call.\n\t * This method can be overridden to perform additional data processing operations.\n\t * In this implementation, it is consumed to handle task-related data, particularly\n\t * for extracting custom attributes if action cards are enabled.\n\t *\n\t * @private\n\t * @async\n\t * @param {unknown[]} results - Data retrieved from the batch call. Structure may vary based on the backend service.\n\t * @param {RequestOptions} options - Additional options for parsing the data.\n\t * @returns {Promise<void>} A Promise that resolves when the data processing is complete.\n\t */\n\tpublic async onDataReceived(results: unknown[], options: RequestOptions): Promise<void> {\n\t\tconst [tasks, taskDefinitions] = results;\n\t\tthis._extractCustomAttributes(taskDefinitions as TaskDefinitionCollection[]);\n\n\t\tif (!options || (options && !options.onlyCount)) {\n\t\t\tconst updatedTasks = await this._updateTasks(tasks as Task[]);\n\t\t\tthis._oData.displayTiles = this._oData.tiles = updatedTasks;\n\t\t}\n\t}\n\n\t/**\n\t * Updates the tasks with attributes and actions.\n\t *\n\t * @private\n\t * @param {Task[]} tasks - The array of tasks to update.\n\t * @returns {Promise<Task[]>} A promise that resolves with the updated array of tasks.\n\t */\n\tprivate async _updateTasks(tasks: Task[] = []): Promise<Task[]> {\n\t\t//add custom attributes to tasks\n\t\tlet updatedTasks = this._addCustomAttributes(tasks);\n\n\t\t//add actions to tasks\n\t\tif (this.getEnableActions()) {\n\t\t\t//calculate unique task definitions\n\t\t\tconst taskDefinitions = this._getTaskDefintions(updatedTasks);\n\n\t\t\t//download decision options for task defintions\n\t\t\tawait this._downloadDecisionOptions(taskDefinitions);\n\n\t\t\t//append actions\n\t\t\tupdatedTasks = this._addActions(updatedTasks);\n\t\t}\n\n\t\treturn updatedTasks;\n\t}\n\n\t/**\n\t * Adds custom attributes to each task in the provided array.\n\t *\n\t * @private\n\t * @param {Task[]} tasks - The array of tasks to which custom attributes will be added.\n\t * @returns {Task[]} - A new array of tasks, each with added custom attributes.\n\t */\n\tprivate _addCustomAttributes(tasks: Task[]): Task[] {\n\t\treturn tasks.map((task) => ({\n\t\t\t...task,\n\t\t\tattributes: this._getCustomAttributes(task)\n\t\t}));\n\t}\n\n\t/**\n\t * Adds actions to the tasks based on their task definitions.\n\t *\n\t * @private\n\t * @param {Task[]} tasks - The array of tasks to which actions will be added.\n\t * @returns {Task[]} The array of tasks with actions added.\n\t */\n\tprivate _addActions(tasks: Task[]): Task[] {\n\t\treturn tasks.map((task) => {\n\t\t\tconst key = task.SAP__Origin + task.TaskDefinitionID;\n\t\t\treturn {\n\t\t\t\t...task,\n\t\t\t\tactions: this._taskDefinitionMap[key]\n\t\t\t\t\t? DecisionDialog.getTaskActions(task, this.getBaseUrl(), this._taskDefinitionMap, this._i18nBundle)\n\t\t\t\t\t: []\n\t\t\t};\n\t\t});\n\t}\n\n\t/**\n\t * Downloads decision options for the provided task definitions.\n\t *\n\t * @private\n\t * @param {Record<string, TaskDefinition>} taskDefinitions - The task definitions for which decision options will be downloaded.\n\t * @returns {Promise<void>} A promise that resolves when all decision options are downloaded and processed.\n\t */\n\tprivate async _downloadDecisionOptions(taskDefinitions: Record<string, TaskDefintion>): Promise<void> {\n\t\tconst decisionKeys: string[] = [];\n\t\tconst decisionURLs = Object.keys(taskDefinitions).reduce((urls: string[], key) => {\n\t\t\tif (!Object.keys(this._taskDefinitionMap).includes(key)) {\n\t\t\t\tdecisionKeys.push(key);\n\t\t\t\tthis._taskDefinitionMap[key] = [];\n\n\t\t\t\tconst { SAP__Origin, InstanceID } = taskDefinitions[key];\n\t\t\t\turls.push(`DecisionOptions?SAP__Origin='${SAP__Origin}'&InstanceID='${InstanceID}'`);\n\t\t\t}\n\t\t\treturn urls;\n\t\t}, []);\n\n\t\tif (decisionURLs.length) {\n\t\t\tthis._clearRequests();\n\t\t\tthis.requests.push({\n\t\t\t\tbaseURL: this.getBaseUrl(),\n\t\t\t\trequestURLs: decisionURLs,\n\t\t\t\tsuccess: (results: DecisionOption[][]): Promise<void> => {\n\t\t\t\t\tresults.forEach((decisionOptions: DecisionOption[], index) => {\n\t\t\t\t\t\tthis._taskDefinitionMap[decisionKeys[index]] = decisionOptions;\n\t\t\t\t\t});\n\t\t\t\t\treturn Promise.resolve();\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tawait this._submitBatch();\n\t\t}\n\t}\n\n\t/**\n\t * Retrieves unique task definitions from the provided array of tasks.\n\t *\n\t * @private\n\t * @param {Task[]} tasks - The array of tasks from which to retrieve task definitions.\n\t * @returns {Record<string, TaskDefintion>} An object containing unique task definitions.\n\t */\n\tprivate _getTaskDefintions(tasks: Task[] = []): Record<string, TaskDefintion> {\n\t\tconst taskDefinitions: Record<string, TaskDefintion> = {};\n\t\ttasks.forEach((task) => {\n\t\t\tconst key = task.SAP__Origin + task.TaskDefinitionID;\n\t\t\tif (!taskDefinitions[key]) {\n\t\t\t\ttaskDefinitions[key] = {\n\t\t\t\t\tSAP__Origin: task.SAP__Origin,\n\t\t\t\t\tInstanceID: task.InstanceID,\n\t\t\t\t\tTaskDefinitionID: task.TaskDefinitionID\n\t\t\t\t};\n\t\t\t}\n\t\t});\n\n\t\treturn taskDefinitions;\n\t}\n\n\t/**\n\t * Extracts Custom Attribute Information to create an attribute map from raw attribute data\n\t * received from call, which is used while task processing\n\t *\n\t * @private\n\t * @param {TaskDefinitionCollection[]} taskDefinitions - array of raw tasks definitions\n\t */\n\tprivate _extractCustomAttributes(taskDefinitions: TaskDefinitionCollection[] = []): void {\n\t\ttaskDefinitions.forEach((taskDefinition: TaskDefinitionCollection) => {\n\t\t\tconst customAttributes = taskDefinition.CustomAttributeDefinitionData?.results || [];\n\t\t\tthis._customAttributeMap[taskDefinition.TaskDefinitionID] = customAttributes\n\t\t\t\t.filter((oAttribute) => oAttribute.Rank > 0)\n\t\t\t\t.sort((attr1, attr2) => attr2.Rank - attr1.Rank)\n\t\t\t\t.map((oAttribute) => ({\n\t\t\t\t\tname: oAttribute.Name,\n\t\t\t\t\tlabel: oAttribute.Label,\n\t\t\t\t\ttype: oAttribute.Type,\n\t\t\t\t\tformat: oAttribute.Format,\n\t\t\t\t\treference: oAttribute.Reference,\n\t\t\t\t\treferenced: oAttribute.Referenced,\n\t\t\t\t\ttextArrangement: oAttribute.TextArrangement\n\t\t\t\t}));\n\t\t});\n\t}\n\n\t/**\n\t * Get the text for the \"No Data\" message.\n\t *\n\t * @private\n\t * @returns {string} The text for the \"No Data\" message.\n\t */\n\tpublic getNoDataText(): string {\n\t\treturn this._i18nBundle.getText(\"noTaskTitle\") as string;\n\t}\n\n\t/**\n\t * Calculates the number of vertical cards that can fit within the available height of the given DOM element.\n\t *\n\t * @private\n\t * @override\n\t * @param {Element} domRef - The DOM element to calculate the vertical card count for.\n\t * @returns {number} - The number of vertical cards that can fit within the available height.\n\t */\n\tpublic getVerticalCardCount(domRef: Element, calculationProperties?: CalculationProperties): number {\n\t\tconst domProperties = fetchElementProperties(domRef, [\"height\", \"padding-top\"]);\n\t\tconst titleHeight = this.calculateTitleHeight();\n\t\tconst availableHeight = domProperties.height - domProperties[\"padding-top\"] * 2 - titleHeight;\n\t\tconst horizontalCardCount = this.getHorizontalCardCount(domRef);\n\t\tconst isPlaceholder = calculationProperties?.isPlaceholder;\n\t\tconst gap = 16;\n\t\tlet height = 0;\n\t\tlet verticalCardCount = 0;\n\n\t\tif (this._isLoaded()) {\n\t\t\tconst cardSet = splitCards(this._oData.tiles as Task[], horizontalCardCount);\n\t\t\tconst rowHeights = cardSet.map(\n\t\t\t\tfunction (cards: Task[]) {\n\t\t\t\t\tconst maxAttributes = cards.reduce(function (attributeCount: number, card: Task) {\n\t\t\t\t\t\tcard.attributes = card.attributes || [];\n\t\t\t\t\t\treturn card.attributes.length > attributeCount ? card.attributes.length : attributeCount;\n\t\t\t\t\t}, 1);\n\n\t\t\t\t\tconst count = Math.min(maxAttributes, 4) as keyof typeof Constants.CARD_HEIGHT;\n\t\t\t\t\treturn Constants.CARD_HEIGHT[count] + gap;\n\t\t\t\t}.bind(this)\n\t\t\t);\n\n\t\t\tfor (let rowHeight of rowHeights) {\n\t\t\t\tif (height + rowHeight < availableHeight) {\n\t\t\t\t\theight += rowHeight;\n\t\t\t\t\tverticalCardCount++;\n\t\t\t\t} else {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tverticalCardCount = Math.floor(availableHeight / Constants.CARD_HEIGHT[isPlaceholder ? \"4\" : \"1\"]);\n\t\t}\n\n\t\treturn Math.max(verticalCardCount, 2);\n\t}\n}\n"],"mappings":"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","ignoreList":[],"sourceRoot":""}},{"offset":{"line":325,"column":0},"map":{"version":3,"file":"TilesPanel.js","names":["sap","ui","define","GridContainer","GridContainerItemLayoutData","Button","CustomListItem","Dialog","HBox","HeaderContainer","IllustratedMessage","Label","List","ObjectIdentifier","Title","sap_m_library","EventBus","Icon","Lib","DragDropInfo","sap_ui_core_library","JSONModel","Config","Container","S4MyHome","__BasePanel","__MenuItem","__AppManager","___utils_Constants","___utils_Device","___utils_DragDropUtils","___utils_FESRUtil","_interopRequireDefault","obj","__esModule","default","_catch","body","recover","result","e","then","ButtonType","dnd","BasePanel","MenuItem","AppManager","DEFAULT_BG_COLOR","END_USER_COLORS","MYHOME_PAGE_ID","MYINSIGHT_SECTION_ID","SETTINGS_PANELS_KEYS","DeviceType","fetchElementProperties","attachKeyboardHandler","addFESRId","addFESRSemanticStepName","FESR_EVENTS","tilesMenuItems","DisplayFormat","_showAddApps","last","TilesPanel","extend","metadata","library","properties","title","type","group","defaultValue","visibility","key","fullScreenName","defaultAggregation","aggregations","tiles","multiple","singularName","events","handleHidePanel","parameters","handleUnhidePanel","constructor","_constructor","id","settings","BasePanel.prototype.constructor.call","this","_insightsSectionTitle","_i18nBundle","getText","_addFromFavDialogId","getId","init","_init","_this","BasePanel.prototype.init.call","_controlMap","Map","_oData","activateInsightsTiles","_controlModel","appManagerInstance","getInstance","setProperty","refreshMenuItem","REFRESH","icon","press","refreshData","addfromFavAppMenuItem","ADD_APPS","_handleAddFromFavApps","editTilesMenuItem","EDIT_TILES","event","handleEditTiles","menuItems","addTilesButton","text","actionButtons","_setupHeader","Promise","resolve","getServiceAsync","_Container$getService","VizInstantiationService","oEventBus","subscribe","sChannelId","sEventId","oData","createInsightSection","_addSectionViz","_adjustLayout","_importdone","reject","_toggleTileActivity","_this2","toggleUserActions","show","getParameter","_temp","attachRouteMatched","aSectionViz","sSectionId","reduce","promiseChain","oViz","isBookmark","addBookMark","addVisualization","vizId","stateData","status","publish","forEach","menuItem","addAggregation","actionButton","renderPanel","_renderPanel","bRefresh","arguments","length","undefined","_exit","_this3","_temp3","_result2","_temp2","tilesContainer","_createWrapperFlexBox","_await$_this3$refresh","error","fireHandleHidePanel","_refreshData","refreshTiles","_this4","fetchInsightApps","_this4$appManagerInst","_temp5","aInsightsApps","fireHandleUnhidePanel","sDefaultAggreName","getMetadata","getDefaultAggregationName","dynamicTiles","getAggregation","refresh","_getInsightsContainer","updatePanelsItemCount","getName","getProperty","bIsSmartBusinessTilePresent","some","oApp","isSmartBusinessTile","_temp4","load","name","getDeviceType","Mobile","scrollStep","scrollStepByItem","gridLayout","scrollTime","showDividers","addStyleClass","setModel","bindAggregation","path","factory","context","getObject","oVisualization","instantiateVisualization","visualization","setLayoutData","minRows","columns","getDisplayFormat","Standard","bindProperty","addDragDropConfig","sourceAggregation","targetAggregation","dropPosition","DropPosition","Between","dropLayout","DropLayout","Horizontal","drop","oEvent","_handleTilesDnd","attachBrowserEvent","disablenavigation","metaKey","ctrlKey","dragDropEvent","_addContent","sInsertPosition","oDragItem","oDropItem","iDragItemIndex","getParent","indexOfItem","iDropItemIndex","_DragnDropTiles","_this5","oDisplacedItem","oItemMoved","splice","moveConfigs","pageId","sourceSectionIndex","persConfig","sectionIndex","sourceVisualizationIndex","visualizationIndex","targetSectionIndex","targetVisualizationIndex","moveVisualization","_handleEditTiles","parent","getSource","isA","_getLayout","openSettingsDialog","INSIGHTS_TILES","handleRemoveActions","_handleRemoveActions","removeAllAggregation","handleAddActions","_handleAddActions","_closeAddFromFavDialog","get","close","navigateToAppFinder","_navigateToAppFinder","groupId","navigationService","navigationObject","pageID","sectionID","navigate","target","shellHash","JSON","stringify","_getLegendColor","color","find","oColor","value","_this6","_getFavToAdd","appsToAdd","dialog","_generateAddFromFavAppsDialog","setVisible","_generateAddFromFavAppsListItems","open","_this7","fetchFavVizs","aFavApps","aDynamicApps","filter","oDynApp","isCount","aFilteredFavApps","iAppIndex","findIndex","oInsightApps","targetURL","_getSelectedInsights","list","getSelectedItems","destroyItems","listItems","map","app","index","content","alignItems","items","src","backgroundColor","BGColor","width","height","size","subtitle","tooltip","data","item","addItem","getAppFinderBtn","btnType","appFinderBtn","visible","Default","PRESS","setAddBtnEnabled","selectedItems","setEnabled","set","mode","selectionChange","addButton","_addFromFavApps","enabled","illustrationSize","illustrationType","description","wrapping","justifyContent","Transparent","contentWidth","contentHeight","endButton","bind","escapeHandler","buttons","_this8","setBusy","promise","oMovingConfig","insightsSectionIndex","displayFormatHint","supportedDisplayFormats","includes","_temp6","_calculateVisibleTileCount","insightsApps","layoutDomRef","getDomRef","apps","count","sectionDomRef","childNodes","domProperties","availableWidth","widthMap","StandardWide","nextTileWidth","layout","isFullScreenEnabled","isMobileDevice","visibleTileCount","isElementExpanded","_getCurrentExpandedElementName","slice","toggleFullScreenElements","insightsContainer"],"sources":["TilesPanel.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\n\nimport GridContainer from \"sap/f/GridContainer\";\nimport GridContainerItemLayoutData from \"sap/f/GridContainerItemLayoutData\";\nimport Button from \"sap/m/Button\";\nimport CustomListItem from \"sap/m/CustomListItem\";\nimport Dialog from \"sap/m/Dialog\";\nimport FlexBox from \"sap/m/FlexBox\";\nimport HBox from \"sap/m/HBox\";\nimport HeaderContainer from \"sap/m/HeaderContainer\";\nimport IllustratedMessage from \"sap/m/IllustratedMessage\";\nimport Label from \"sap/m/Label\";\nimport List from \"sap/m/List\";\nimport ObjectIdentifier from \"sap/m/ObjectIdentifier\";\nimport Title from \"sap/m/Title\";\nimport { ButtonType } from \"sap/m/library\";\nimport Event from \"sap/ui/base/Event\";\nimport ManagedObject from \"sap/ui/base/ManagedObject\";\nimport Control from \"sap/ui/core/Control\";\nimport type { MetadataOptions } from \"sap/ui/core/Element\";\nimport EventBus from \"sap/ui/core/EventBus\";\nimport Icon from \"sap/ui/core/Icon\";\nimport Lib from \"sap/ui/core/Lib\";\nimport DragDropInfo from \"sap/ui/core/dnd/DragDropInfo\";\nimport { DropInfo$DropEventParameters } from \"sap/ui/core/dnd/DropInfo\";\nimport { dnd } from \"sap/ui/core/library\";\nimport Context from \"sap/ui/model/Context\";\nimport JSONModel from \"sap/ui/model/json/JSONModel\";\nimport Config from \"sap/ushell/Config\";\nimport Container from \"sap/ushell/Container\";\nimport S4MyHome from \"sap/ushell/api/S4MyHome\";\nimport Navigation from \"sap/ushell/services/Navigation\";\nimport VisualizationInstantiation from \"sap/ushell/services/VisualizationInstantiation\";\nimport BasePanel from \"./BasePanel\";\nimport InsightsContainer from \"./InsightsContainer\";\nimport MenuItem from \"./MenuItem\";\nimport { $TilesPanelSettings } from \"./TilesPanel\";\nimport { ICustomVisualization, ISectionAndVisualization, IVisualization } from \"./interface/AppsInterface\";\nimport AppManager from \"./utils/AppManager\";\nimport { DEFAULT_BG_COLOR, END_USER_COLORS, MYHOME_PAGE_ID, MYINSIGHT_SECTION_ID, SETTINGS_PANELS_KEYS } from \"./utils/Constants\";\nimport { DeviceType, fetchElementProperties } from \"./utils/Device\";\nimport { attachKeyboardHandler } from \"./utils/DragDropUtils\";\nimport { addFESRId, addFESRSemanticStepName, FESR_EVENTS } from \"./utils/FESRUtil\";\n\nexport enum tilesMenuItems {\n\tREFRESH = \"tiles-refresh\",\n\tADD_APPS = \"tiles-addSmartApps\",\n\tEDIT_TILES = \"tiles-editTiles\"\n}\n\nexport enum DisplayFormat {\n\tStandard = \"standard\",\n\tStandardWide = \"standardWide\"\n}\n\nconst _showAddApps = () => {\n\treturn (Config.last(\"/core/shell/enablePersonalization\") || Config.last(\"/core/catalog/enabled\")) as boolean;\n};\n\n/**\n *\n * Tiles Panel class for managing and storing Insights Tiles.\n *\n * @extends sap.cux.home.BasePanel\n *\n * @author SAP SE\n * @version 0.0.1\n * @since 1.122.0\n *\n * @internal\n * @experimental Since 1.122\n * @public\n *\n * @alias sap.cux.home.TilesPanel\n */\n\nexport default class TilesPanel extends BasePanel {\n\tconstructor(idOrSettings?: string | $TilesPanelSettings);\n\tconstructor(id?: string, settings?: $TilesPanelSettings);\n\t/**\n\t * Constructor for a new Tiles Panel.\n\t *\n\t * @param {string} [id] ID for the new control, generated automatically if an ID is not provided\n\t * @param {object} [settings] Initial settings for the new control\n\t */\n\tpublic constructor(id?: string, settings?: $TilesPanelSettings) {\n\t\tsuper(id, settings);\n\t}\n\tprivate _oData!: Record<string, unknown>;\n\tprivate _insightsSectionTitle: string = this._i18nBundle.getText(\"insights\") as string;\n\tprivate _addFromFavDialogId: string = `${this.getId()}-addFromFavDialog`;\n\tprivate appManagerInstance!: AppManager;\n\tprivate VizInstantiationService!: VisualizationInstantiation;\n\tprivate tilesContainer!: GridContainer | HeaderContainer;\n\tprivate aInsightsApps!: ICustomVisualization[];\n\tprivate _controlModel!: JSONModel;\n\tpublic _controlMap!: Map<string, Control | Element>;\n\tpublic menuItems!: MenuItem[];\n\tpublic actionButtons!: Button[];\n\tprivate oEventBus!: EventBus;\n\tprivate insightsContainer!: InsightsContainer;\n\tstatic readonly metadata: MetadataOptions = {\n\t\tlibrary: \"sap.cux.home\",\n\t\tproperties: {\n\t\t\t/**\n\t\t\t * Title for the tiles panel\n\t\t\t */\n\t\t\ttitle: { type: \"string\", group: \"Misc\", defaultValue: \"\", visibility: \"hidden\" },\n\t\t\t/**\n\t\t\t * Key for the tiles panel\n\t\t\t */\n\t\t\tkey: { type: \"string\", group: \"Misc\", defaultValue: \"\", visibility: \"hidden\" },\n\t\t\t/**\n\t\t\t * The name of the URL parameter used to expand the container into full-screen mode.\n\t\t\t */\n\t\t\tfullScreenName: { type: \"string\", group: \"Misc\", defaultValue: \"SI1\", visibility: \"hidden\" }\n\t\t},\n\t\tdefaultAggregation: \"tiles\",\n\t\taggregations: {\n\t\t\t/**\n\t\t\t * Aggregation of tiles available within the tiles Panel\n\t\t\t */\n\t\t\ttiles: { type: \"sap.cux.home.App\", multiple: true, singularName: \"tile\", visibility: \"hidden\" }\n\t\t},\n\t\tevents: {\n\t\t\thandleHidePanel: {\n\t\t\t\tparameters: {}\n\t\t\t},\n\t\t\thandleUnhidePanel: {\n\t\t\t\tparameters: {}\n\t\t\t}\n\t\t}\n\t};\n\n\tasync init() {\n\t\tsuper.init();\n\t\tthis._controlMap = new Map();\n\t\t//Initialise Tiles Model\n\t\tthis._oData = {\n\t\t\ttiles: [] as ICustomVisualization[],\n\t\t\tactivateInsightsTiles: true\n\t\t};\n\t\tthis._controlModel = new JSONModel(this._oData);\n\t\tthis.appManagerInstance = AppManager.getInstance();\n\t\tthis.setProperty(\"title\", `${this._i18nBundle?.getText(\"insights\")} ${this._i18nBundle.getText(\"insightsTilesTitle\")}`);\n\t\tconst refreshMenuItem = new MenuItem(tilesMenuItems.REFRESH, {\n\t\t\ttitle: this._i18nBundle.getText(\"refresh\"),\n\t\t\ticon: \"sap-icon://refresh\",\n\t\t\tpress: () => void this.refreshData(true)\n\t\t});\n\t\taddFESRId(refreshMenuItem, \"tilesRefresh\");\n\t\tconst addfromFavAppMenuItem = new MenuItem(tilesMenuItems.ADD_APPS, {\n\t\t\ttitle: this._i18nBundle.getText(\"addSmartApps\"),\n\t\t\ticon: \"sap-icon://duplicate\",\n\t\t\tpress: () => void this._handleAddFromFavApps()\n\t\t});\n\t\taddFESRId(addfromFavAppMenuItem, \"smartAppsDialog\");\n\t\tconst editTilesMenuItem = new MenuItem(tilesMenuItems.EDIT_TILES, {\n\t\t\ttitle: this._i18nBundle.getText(\"editLinkTiles\"),\n\t\t\ticon: \"sap-icon://edit\",\n\t\t\tpress: (event: Event) => this.handleEditTiles(event)\n\t\t});\n\t\taddFESRId(editTilesMenuItem, \"manageTiles\");\n\n\t\tthis.menuItems = [refreshMenuItem, addfromFavAppMenuItem, editTilesMenuItem];\n\n\t\tconst addTilesButton = new Button({\n\t\t\tid: `${this.getId()}-addTilesButton`,\n\t\t\ttext: this._i18nBundle.getText(\"appFinderLink\"),\n\t\t\tpress: () => void this._handleAddFromFavApps()\n\t\t});\n\t\taddFESRId(addTilesButton, \"smartAppsDialog\");\n\n\t\tthis.actionButtons = [addTilesButton];\n\n\t\t// Setup Header Content\n\t\tthis._setupHeader();\n\t\tthis.VizInstantiationService = await Container.getServiceAsync<VisualizationInstantiation>(\"VisualizationInstantiation\");\n\n\t\tthis.oEventBus = EventBus.getInstance();\n\t\t// Subscribe to the event\n\t\tthis.oEventBus.subscribe(\n\t\t\t\"importChannel\",\n\t\t\t\"tilesImport\",\n\t\t\tasync (sChannelId?: string, sEventId?: string, oData?) => {\n\t\t\t\tawait this.appManagerInstance.createInsightSection(this._i18nBundle.getText(\"insightsTiles\") as string);\n\t\t\t\tawait this._addSectionViz(oData as IVisualization[], MYINSIGHT_SECTION_ID);\n\n\t\t\t\tthis._adjustLayout();\n\t\t\t\tthis._importdone();\n\t\t\t},\n\t\t\tthis\n\t\t);\n\n\t\t// Toggles the activity of tiles\n\t\tthis._toggleTileActivity();\n\t}\n\n\t/**\n\t * Toggles the activity of tiles on route change.\n\t *\n\t * @private\n\t * @returns {void}\n\t */\n\tprivate _toggleTileActivity(): void {\n\t\tconst toggleUserActions = async (event: Event<{ isMyHomeRoute: boolean }>) => {\n\t\t\tconst show = event.getParameter(\"isMyHomeRoute\");\n\t\t\tthis._controlModel.setProperty(\"/activateInsightsTiles\", show);\n\t\t\tif (show) {\n\t\t\t\tawait this.refreshData(true);\n\t\t\t}\n\t\t};\n\n\t\tS4MyHome.attachRouteMatched({}, toggleUserActions, this);\n\t}\n\n\t/**\n\t * Takes the visualizations and add it to the provided section id\n\t * @param {IVisualization[]} aSectionViz - array of visualizations\n\t * @param {string} sSectionId - section id where the visualizations to be added\n\t * @returns {any}\n\t */\n\tprivate _addSectionViz(aSectionViz: IVisualization[], sSectionId: string) {\n\t\treturn aSectionViz.reduce((promiseChain, oViz) => {\n\t\t\treturn promiseChain.then(() => {\n\t\t\t\tif (oViz.isBookmark) {\n\t\t\t\t\treturn this.appManagerInstance.addBookMark(oViz);\n\t\t\t\t} else {\n\t\t\t\t\treturn sSectionId\n\t\t\t\t\t\t? this.appManagerInstance.addVisualization(oViz.vizId, sSectionId)\n\t\t\t\t\t\t: this.appManagerInstance.addVisualization(oViz.vizId);\n\t\t\t\t}\n\t\t\t});\n\t\t}, Promise.resolve());\n\t}\n\n\tprivate _importdone() {\n\t\tconst stateData = { status: true };\n\t\tthis.oEventBus.publish(\"importChannel\", \"tilesImported\", stateData);\n\t}\n\n\tprivate _setupHeader() {\n\t\tthis.menuItems.forEach((menuItem) => this.addAggregation(\"menuItems\", menuItem));\n\t\tthis.actionButtons.forEach((actionButton) => this.addAggregation(\"actionButtons\", actionButton));\n\t\tthis.setProperty(\"enableFullScreen\", true);\n\t}\n\n\tpublic async renderPanel(bRefresh: boolean = false): Promise<void> {\n\t\ttry {\n\t\t\tif (!this.tilesContainer || bRefresh) {\n\t\t\t\tthis._createWrapperFlexBox();\n\t\t\t\treturn await this.refreshData();\n\t\t\t}\n\t\t} catch (error) {\n\t\t\tconsole.error(error);\n\t\t\tthis.fireHandleHidePanel();\n\t\t}\n\t\treturn Promise.resolve();\n\t}\n\n\tpublic async refreshData(refreshTiles: boolean = false) {\n\t\tthis.aInsightsApps = await this.appManagerInstance.fetchInsightApps(true, this._insightsSectionTitle);\n\t\tconst bIsSmartBusinessTilePresent = this.aInsightsApps.some((oApp) => oApp.isSmartBusinessTile);\n\t\tif (bIsSmartBusinessTilePresent) {\n\t\t\tawait Lib.load({ name: \"sap.cloudfnd.smartbusiness.lib.reusetiles\" });\n\t\t}\n\t\tthis._controlModel.setProperty(\"/tiles\", this.aInsightsApps);\n\t\tif (this.aInsightsApps?.length) {\n\t\t\tthis.fireHandleUnhidePanel();\n\t\t\tif (refreshTiles && this.tilesContainer) {\n\t\t\t\tconst sDefaultAggreName = this.tilesContainer.getMetadata().getDefaultAggregationName();\n\t\t\t\tconst dynamicTiles = (this.tilesContainer.getAggregation(sDefaultAggreName) as ManagedObject[]) || [];\n\t\t\t\tdynamicTiles.forEach((tiles) => (tiles as ICustomVisualization).refresh?.());\n\t\t\t}\n\t\t\tthis.fireHandleUnhidePanel();\n\t\t\tthis._getInsightsContainer().updatePanelsItemCount(this.aInsightsApps.length, this.getMetadata().getName());\n\t\t\tif (this.getProperty(\"title\")) {\n\t\t\t\tthis.setProperty(\n\t\t\t\t\t\"title\",\n\t\t\t\t\t`${this._i18nBundle?.getText(\"insights\")} ${this._i18nBundle.getText(\"insightsTilesTitle\")} (${this.aInsightsApps.length})`\n\t\t\t\t);\n\t\t\t}\n\t\t} else {\n\t\t\tthis.fireHandleHidePanel();\n\t\t}\n\n\t\t//adjust layout\n\t\tthis._adjustLayout();\n\t}\n\n\tprivate _createWrapperFlexBox() {\n\t\tif (!this.tilesContainer) {\n\t\t\tif (this.getDeviceType() === DeviceType.Mobile) {\n\t\t\t\tthis.tilesContainer = new HeaderContainer(`${this.getId()}-insightsTilesMobileContainer`, {\n\t\t\t\t\tscrollStep: 0,\n\t\t\t\t\tscrollStepByItem: 1,\n\t\t\t\t\tgridLayout: true,\n\t\t\t\t\tscrollTime: 1000,\n\t\t\t\t\tshowDividers: false\n\t\t\t\t}).addStyleClass(\"sectionMarginTopTilesInsight sapMHeaderContainerAlign sapMHeaderContainerMarginBottom tilesBoxShadow\");\n\t\t\t} else {\n\t\t\t\tthis.tilesContainer = new GridContainer(`${this.getId()}-insightsTilesContainer`, {}).addStyleClass(\n\t\t\t\t\t\"insightTiles sapUiSmallMarginTop sapUiSmallMarginBottom\"\n\t\t\t\t);\n\t\t\t}\n\t\t\tthis.tilesContainer.setModel(this._controlModel);\n\t\t\tconst sDefaultAggreName = this.tilesContainer.getMetadata().getDefaultAggregationName();\n\t\t\tthis.tilesContainer.bindAggregation(sDefaultAggreName, {\n\t\t\t\tpath: \"/tiles\",\n\t\t\t\tfactory: (id: string, context: Context): ManagedObject => {\n\t\t\t\t\tconst oApp = context.getObject() as ICustomVisualization,\n\t\t\t\t\t\toVisualization = this.VizInstantiationService.instantiateVisualization(oApp.visualization) as ICustomVisualization;\n\t\t\t\t\toVisualization.setLayoutData?.(\n\t\t\t\t\t\tnew GridContainerItemLayoutData({\n\t\t\t\t\t\t\tminRows: 2,\n\t\t\t\t\t\t\tcolumns: oVisualization.getDisplayFormat?.() === DisplayFormat.Standard ? 2 : 4\n\t\t\t\t\t\t})\n\t\t\t\t\t);\n\t\t\t\t\toVisualization?.bindProperty?.(\"active\", \"/activateInsightsTiles\");\n\t\t\t\t\treturn oVisualization as ManagedObject;\n\t\t\t\t}\n\t\t\t});\n\t\t\tthis.tilesContainer\n\t\t\t\t.addDragDropConfig(\n\t\t\t\t\tnew DragDropInfo({\n\t\t\t\t\t\tsourceAggregation: \"items\",\n\t\t\t\t\t\ttargetAggregation: \"items\",\n\t\t\t\t\t\tdropPosition: dnd.DropPosition.Between,\n\t\t\t\t\t\tdropLayout: dnd.DropLayout.Horizontal,\n\t\t\t\t\t\tdrop: (oEvent) => this._handleTilesDnd(oEvent)\n\t\t\t\t\t})\n\t\t\t\t)\n\t\t\t\t.attachBrowserEvent(\"keydown\", (event: KeyboardEvent) => {\n\t\t\t\t\tconst disablenavigation = event.metaKey || event.ctrlKey;\n\t\t\t\t\tvoid attachKeyboardHandler(event, disablenavigation, (dragDropEvent: Event) => this._handleTilesDnd(dragDropEvent));\n\t\t\t\t});\n\t\t}\n\t\tthis._addContent(this.tilesContainer);\n\t}\n\n\tprivate _handleTilesDnd(oEvent: Event<DropInfo$DropEventParameters>) {\n\t\tconst sInsertPosition = oEvent.getParameter?.(\"dropPosition\"),\n\t\t\toDragItem = oEvent?.getParameter?.(\"draggedControl\") as Control,\n\t\t\toDropItem = oEvent.getParameter(\"droppedControl\") as Control,\n\t\t\tiDragItemIndex = (oDragItem.getParent() as FlexBox)?.indexOfItem(oDragItem);\n\t\tlet iDropItemIndex = (oDragItem.getParent() as FlexBox)?.indexOfItem(oDropItem);\n\n\t\tif (sInsertPosition === \"Before\" && iDragItemIndex === iDropItemIndex - 1) {\n\t\t\tiDropItemIndex--;\n\t\t} else if (sInsertPosition === \"After\" && iDragItemIndex === iDropItemIndex + 1) {\n\t\t\tiDropItemIndex++;\n\t\t}\n\n\t\tif (iDragItemIndex !== iDropItemIndex) {\n\t\t\tvoid this._DragnDropTiles(iDragItemIndex, iDropItemIndex, sInsertPosition as string);\n\t\t}\n\t}\n\n\tprivate async _DragnDropTiles(iDragItemIndex: number, iDropItemIndex: number, sInsertPosition: string) {\n\t\tif (sInsertPosition === \"Before\" && iDragItemIndex < iDropItemIndex) {\n\t\t\tiDropItemIndex--;\n\t\t} else if (sInsertPosition === \"After\" && iDragItemIndex > iDropItemIndex) {\n\t\t\tiDropItemIndex++;\n\t\t}\n\t\tconst oDisplacedItem = this.aInsightsApps[iDropItemIndex],\n\t\t\toItemMoved = this.aInsightsApps.splice(iDragItemIndex, 1)[0];\n\t\tthis.aInsightsApps.splice(iDropItemIndex, 0, oItemMoved);\n\t\tconst moveConfigs = {\n\t\t\tpageId: MYHOME_PAGE_ID,\n\t\t\tsourceSectionIndex: oItemMoved.persConfig?.sectionIndex as number,\n\t\t\tsourceVisualizationIndex: oItemMoved.persConfig?.visualizationIndex as number,\n\t\t\ttargetSectionIndex: oDisplacedItem.persConfig?.sectionIndex as number,\n\t\t\ttargetVisualizationIndex: oDisplacedItem.persConfig?.visualizationIndex as number\n\t\t};\n\t\tthis._controlModel.setProperty(\"/tiles\", this.aInsightsApps);\n\t\tawait this.appManagerInstance.moveVisualization(moveConfigs);\n\t\tawait this.renderPanel(true);\n\t}\n\n\tprivate handleEditTiles(event: Event) {\n\t\t/* If called from Panel Header event.source() will return TilesPanel, if called from Insights Container event.source() will return InsightsContainer.\n\t\t_getLayout is available at Container Level*/\n\t\tlet parent: ManagedObject = event.getSource<TilesPanel>().getParent() || this;\n\t\tif (parent?.isA(\"sap.cux.home.TilesPanel\")) {\n\t\t\tparent = parent.getParent() as ManagedObject;\n\t\t}\n\t\t(parent as InsightsContainer)?._getLayout().openSettingsDialog(SETTINGS_PANELS_KEYS.INSIGHTS_TILES);\n\t}\n\n\tpublic handleRemoveActions() {\n\t\tthis.setProperty(\"title\", \"\");\n\t\tthis.setProperty(\"enableSettings\", false);\n\t\tthis.setProperty(\"enableFullScreen\", false);\n\t\tthis.removeAllAggregation(\"actionButtons\");\n\t\tthis.removeAllAggregation(\"menuItems\");\n\t}\n\n\tpublic handleAddActions() {\n\t\tthis.setProperty(\n\t\t\t\"title\",\n\t\t\t`${this._i18nBundle?.getText(\"insights\")} ${this._i18nBundle.getText(\"insightsTilesTitle\")} (${this.aInsightsApps.length})`\n\t\t);\n\t\tthis.setProperty(\"enableSettings\", true);\n\t\tthis.setProperty(\"enableFullScreen\", true);\n\t\tthis._setupHeader();\n\t}\n\n\tprivate _closeAddFromFavDialog() {\n\t\t(this._controlMap.get(this._addFromFavDialogId) as Dialog)?.close();\n\t}\n\n\t/**\n\t * Navigates to the App Finder with optional group Id.\n\t * @async\n\t * @private\n\t * @param {string} [groupId] - Optional group Id\n\t */\n\tprivate async navigateToAppFinder(groupId?: string) {\n\t\tconst navigationService = await Container.getServiceAsync<Navigation>(\"Navigation\");\n\t\tconst navigationObject: { pageID: string; sectionID?: string } = {\n\t\t\tpageID: MYHOME_PAGE_ID,\n\t\t\tsectionID: MYINSIGHT_SECTION_ID\n\t\t};\n\t\tif (groupId) {\n\t\t\tnavigationObject.sectionID = groupId;\n\t\t}\n\t\tawait navigationService.navigate({\n\t\t\ttarget: {\n\t\t\t\tshellHash: `Shell-appfinder?&/catalog/${JSON.stringify(navigationObject)}`\n\t\t\t}\n\t\t});\n\t}\n\n\t/**\n\t * Retrieves the key of the legend color based on the provided color value.\n\t * @param {string} color - The color value for which to retrieve the legend color key.\n\t * @returns {string} The legend color key corresponding to the provided color value, or the default background color key if not found.\n\t * @private\n\t */\n\tprivate _getLegendColor(color: string) {\n\t\treturn END_USER_COLORS().find((oColor) => oColor.value === color) || DEFAULT_BG_COLOR();\n\t}\n\n\t/**\n\t * Handles the addition of tiles from favorite apps.\n\t * @returns {Promise<void>} A Promise that resolves when the operation is complete.\n\t * @private\n\t */\n\tprivate async _handleAddFromFavApps() {\n\t\tconst appsToAdd = await this._getFavToAdd();\n\t\tconst dialog = this._generateAddFromFavAppsDialog();\n\t\t(this._controlMap.get(`${this._addFromFavDialogId}-errorMessage`) as IllustratedMessage)?.setVisible(appsToAdd.length === 0);\n\t\tthis._generateAddFromFavAppsListItems(appsToAdd);\n\t\tdialog.open();\n\t}\n\n\tprivate async _getFavToAdd(): Promise<ISectionAndVisualization[]> {\n\t\tconst aFavApps: ISectionAndVisualization[] = await this.appManagerInstance.fetchFavVizs(false, true);\n\t\tconst aDynamicApps = aFavApps.filter(function (oDynApp) {\n\t\t\treturn oDynApp.isCount || oDynApp.isSmartBusinessTile;\n\t\t});\n\n\t\tconst aFilteredFavApps = aDynamicApps.filter((oDynApp) => {\n\t\t\tconst iAppIndex = this.aInsightsApps.findIndex(function (oInsightApps) {\n\t\t\t\treturn (\n\t\t\t\t\t(!oDynApp.visualization?.isBookmark && oInsightApps.visualization?.vizId === oDynApp.visualization?.vizId) ||\n\t\t\t\t\t(oDynApp.visualization?.isBookmark && oInsightApps.visualization?.targetURL === oDynApp.visualization?.targetURL)\n\t\t\t\t);\n\t\t\t});\n\t\t\treturn iAppIndex === -1;\n\t\t});\n\n\t\treturn aFilteredFavApps;\n\t}\n\n\t/**\n\t * Retrieves the selected Apps from the dialog.\n\t * @returns {sap.m.ListItemBase[]} An array of selected Apps.\n\t * @private\n\t */\n\tprivate _getSelectedInsights() {\n\t\tconst list = this._controlMap.get(`${this._addFromFavDialogId}-list`) as List;\n\t\treturn list.getSelectedItems() || [];\n\t}\n\n\tprivate _generateAddFromFavAppsListItems(appsToAdd: ISectionAndVisualization[]) {\n\t\tconst id = this._addFromFavDialogId;\n\t\tconst list = this._controlMap.get(`${id}-list`) as List;\n\t\tif (appsToAdd.length) {\n\t\t\tlist.destroyItems();\n\t\t\tconst listItems = appsToAdd.map(\n\t\t\t\t(app, index) =>\n\t\t\t\t\tnew CustomListItem({\n\t\t\t\t\t\tid: `${id}-listItem-${index}`,\n\t\t\t\t\t\tcontent: [\n\t\t\t\t\t\t\tnew HBox({\n\t\t\t\t\t\t\t\tid: `${id}-listItem-${index}-content`,\n\t\t\t\t\t\t\t\talignItems: \"Center\",\n\t\t\t\t\t\t\t\titems: [\n\t\t\t\t\t\t\t\t\tnew Icon({\n\t\t\t\t\t\t\t\t\t\tid: `${id}-listItem-${index}-content-icon`,\n\t\t\t\t\t\t\t\t\t\tsrc: app.icon,\n\t\t\t\t\t\t\t\t\t\tbackgroundColor: this._getLegendColor(app.BGColor || \"\").value,\n\t\t\t\t\t\t\t\t\t\tcolor: \"white\",\n\t\t\t\t\t\t\t\t\t\twidth: \"2.25rem\",\n\t\t\t\t\t\t\t\t\t\theight: \"2.25rem\",\n\t\t\t\t\t\t\t\t\t\tsize: \"1.25rem\"\n\t\t\t\t\t\t\t\t\t}).addStyleClass(\"sapUiRoundedBorder sapUiTinyMargin\"),\n\t\t\t\t\t\t\t\t\tnew ObjectIdentifier({\n\t\t\t\t\t\t\t\t\t\tid: `${id}-listItem-${index}-content-identifier`,\n\t\t\t\t\t\t\t\t\t\ttitle: app.title,\n\t\t\t\t\t\t\t\t\t\ttext: app.subtitle,\n\t\t\t\t\t\t\t\t\t\ttooltip: app.title\n\t\t\t\t\t\t\t\t\t}).addStyleClass(\"sapUiTinyMargin\")\n\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t]\n\t\t\t\t\t})\n\t\t\t\t\t\t.addStyleClass(\"sapUiContentPadding\")\n\t\t\t\t\t\t.data(\"app\", app) as CustomListItem\n\t\t\t);\n\t\t\tlistItems.forEach((item) => list.addItem(item));\n\t\t}\n\t\tlist?.setVisible(appsToAdd.length !== 0);\n\t}\n\n\tprivate _generateAddFromFavAppsDialog(): Dialog {\n\t\tconst id = this._addFromFavDialogId;\n\t\tif (!this._controlMap.get(id)) {\n\t\t\tconst getAppFinderBtn = (id: string, btnType?: ButtonType) => {\n\t\t\t\tconst appFinderBtn = new Button(id, {\n\t\t\t\t\ticon: \"sap-icon://action\",\n\t\t\t\t\ttext: this._i18nBundle.getText(\"appFinderBtn\"),\n\t\t\t\t\tpress: () => {\n\t\t\t\t\t\tthis._closeAddFromFavDialog();\n\t\t\t\t\t\tvoid this.navigateToAppFinder();\n\t\t\t\t\t},\n\t\t\t\t\tvisible: _showAddApps(),\n\t\t\t\t\ttype: btnType || ButtonType.Default\n\t\t\t\t});\n\t\t\t\taddFESRSemanticStepName(appFinderBtn, FESR_EVENTS.PRESS, \"tilesAppFinder\");\n\t\t\t\treturn appFinderBtn;\n\t\t\t};\n\t\t\tconst setAddBtnEnabled = () => {\n\t\t\t\tconst selectedItems = this._getSelectedInsights();\n\t\t\t\t(this._controlMap.get(`${id}-addBtn`) as Button).setEnabled(selectedItems.length > 0);\n\t\t\t};\n\t\t\tthis._controlMap.set(\n\t\t\t\t`${id}-list`,\n\t\t\t\tnew List({\n\t\t\t\t\tid: `${id}-list`,\n\t\t\t\t\tmode: \"MultiSelect\",\n\t\t\t\t\tselectionChange: setAddBtnEnabled\n\t\t\t\t})\n\t\t\t);\n\t\t\tconst addButton = new Button({\n\t\t\t\tid: `${id}-addBtn`,\n\t\t\t\ttext: this._i18nBundle.getText(\"addBtn\"),\n\t\t\t\ttype: \"Emphasized\",\n\t\t\t\tpress: () => {\n\t\t\t\t\tvoid this._addFromFavApps();\n\t\t\t\t},\n\t\t\t\tenabled: false\n\t\t\t});\n\t\t\taddFESRSemanticStepName(addButton, FESR_EVENTS.PRESS, \"addSmartApps\");\n\t\t\tthis._controlMap.set(`${id}-addBtn`, addButton);\n\t\t\tthis._controlMap.set(\n\t\t\t\t`${id}-errorMessage`,\n\t\t\t\tnew IllustratedMessage({\n\t\t\t\t\tid: `${id}-errorMessage`,\n\t\t\t\t\tillustrationSize: \"Spot\",\n\t\t\t\t\tillustrationType: \"sapIllus-AddDimensions\",\n\t\t\t\t\ttitle: this._i18nBundle.getText(\"noAppsTitle\"),\n\t\t\t\t\tdescription: this._i18nBundle.getText(\"tilesSectionNoDataDescription\"),\n\t\t\t\t\tvisible: true\n\t\t\t\t}).addStyleClass(\"sapUiLargeMarginTop\")\n\t\t\t);\n\t\t\tthis._controlMap.set(\n\t\t\t\tid,\n\t\t\t\tnew Dialog(id, {\n\t\t\t\t\ttitle: this._i18nBundle.getText(\"addSmartApps\"),\n\t\t\t\t\tcontent: [\n\t\t\t\t\t\tnew Label({\n\t\t\t\t\t\t\tid: `${id}-label`,\n\t\t\t\t\t\t\ttext: this._i18nBundle.getText(\"suggTileDialogLabel\"),\n\t\t\t\t\t\t\twrapping: true\n\t\t\t\t\t\t}).addStyleClass(\"sapMTitleAlign sapUiTinyMarginTopBottom sapUiSmallMarginBeginEnd\"),\n\t\t\t\t\t\tnew HBox({\n\t\t\t\t\t\t\tid: `${id}-textContainer`,\n\t\t\t\t\t\t\tjustifyContent: \"SpaceBetween\",\n\t\t\t\t\t\t\talignItems: \"Center\",\n\t\t\t\t\t\t\titems: [\n\t\t\t\t\t\t\t\tnew Title({\n\t\t\t\t\t\t\t\t\tid: `${id}-text`,\n\t\t\t\t\t\t\t\t\ttext: this._i18nBundle.getText(\"suggTileDialogTitle\")\n\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t\tgetAppFinderBtn(`${id}-addAppsBtn`, ButtonType.Transparent)\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t}).addStyleClass(\"sapUiTinyMarginTop dialogHeader sapUiSmallMarginBeginEnd\"),\n\t\t\t\t\t\tthis._controlMap.get(`${id}-list`) as List,\n\t\t\t\t\t\tthis._controlMap.get(`${id}-errorMessage`) as IllustratedMessage\n\t\t\t\t\t],\n\t\t\t\t\tcontentWidth: \"42.75rem\",\n\t\t\t\t\tcontentHeight: \"32.5rem\",\n\t\t\t\t\tendButton: new Button({\n\t\t\t\t\t\ttext: this._i18nBundle.getText(\"closeBtn\"),\n\t\t\t\t\t\tpress: this._closeAddFromFavDialog.bind(this)\n\t\t\t\t\t}),\n\t\t\t\t\tescapeHandler: this._closeAddFromFavDialog.bind(this),\n\t\t\t\t\tbuttons: [\n\t\t\t\t\t\tthis._controlMap.get(`${id}-addBtn`) as Button,\n\t\t\t\t\t\tnew Button({\n\t\t\t\t\t\t\tid: `${id}-cancelBtn`,\n\t\t\t\t\t\t\ttext: this._i18nBundle.getText(\"cancelBtn\"),\n\t\t\t\t\t\t\tpress: this._closeAddFromFavDialog.bind(this)\n\t\t\t\t\t\t})\n\t\t\t\t\t]\n\t\t\t\t}).addStyleClass(\"sapContrastPlus sapCuxAddFromInsightsDialog\")\n\t\t\t);\n\t\t}\n\t\treturn this._controlMap.get(id) as Dialog;\n\t}\n\n\tprivate async _addFromFavApps() {\n\t\tconst dialog = this._controlMap.get(this._addFromFavDialogId) as Dialog;\n\t\tdialog.setBusy(true);\n\t\tconst selectedItems = this._getSelectedInsights();\n\t\tawait selectedItems.reduce(async (promise, oApp) => {\n\t\t\tawait promise;\n\t\t\tconst app = oApp.data(\"app\") as ISectionAndVisualization;\n\t\t\tconst oMovingConfig = {\n\t\t\t\tpageId: MYHOME_PAGE_ID,\n\t\t\t\tsourceSectionIndex: app.persConfig?.sectionIndex as number,\n\t\t\t\tsourceVisualizationIndex: app.persConfig?.visualizationIndex as number,\n\t\t\t\ttargetSectionIndex: this.appManagerInstance.insightsSectionIndex,\n\t\t\t\ttargetVisualizationIndex: -1\n\t\t\t};\n\t\t\tif (app.visualization?.displayFormatHint !== \"standard\" && app.visualization?.displayFormatHint !== \"standardWide\") {\n\t\t\t\tif (app.visualization?.supportedDisplayFormats?.includes(\"standard\")) {\n\t\t\t\t\tapp.visualization.displayFormatHint = \"standard\";\n\t\t\t\t} else if (app.visualization?.supportedDisplayFormats?.includes(\"standardWide\")) {\n\t\t\t\t\tapp.visualization.displayFormatHint = \"standardWide\";\n\t\t\t\t}\n\t\t\t}\n\t\t\t// Add Selected App to Insights Section\n\t\t\tif (!app.visualization?.vizId) {\n\t\t\t\t(app.visualization as IVisualization).vizId = app.visualization?.targetURL || \"\";\n\t\t\t}\n\t\t\tif (app.visualization?.isBookmark === true) {\n\t\t\t\tawait this.appManagerInstance.addBookMark(app.visualization, oMovingConfig);\n\t\t\t} else {\n\t\t\t\tawait this.appManagerInstance.addVisualization(app.visualization?.vizId as string, MYINSIGHT_SECTION_ID);\n\t\t\t}\n\t\t}, Promise.resolve());\n\n\t\tawait this.refreshData();\n\t\tdialog.setBusy(false);\n\t\tdialog.close();\n\t}\n\n\t/**\n\t * Calculates the number of visible tiles that can fit within the available width of the parent container.\n\t *\n\t * @private\n\t * @param {ICustomVisualization[]} insightsApps - An array of custom visualizations to be displayed as tiles.\n\t * @returns {number} - The number of visible tiles.\n\t */\n\tprivate _calculateVisibleTileCount(insightsApps: ICustomVisualization[]): number {\n\t\tconst layoutDomRef = this._getInsightsContainer()?._getLayout()?.getDomRef();\n\t\tconst apps = insightsApps || [];\n\t\tlet count = 0;\n\n\t\tif (layoutDomRef && apps.length) {\n\t\t\tconst sectionDomRef = layoutDomRef.childNodes[0] as Element;\n\t\t\tconst domProperties = fetchElementProperties(sectionDomRef, [\"width\", \"padding-left\", \"padding-right\"]);\n\t\t\tlet availableWidth = domProperties.width - domProperties[\"padding-left\"] - domProperties[\"padding-right\"];\n\t\t\tconst widthMap = {} as Record<DisplayFormat, number>;\n\n\t\t\twidthMap[DisplayFormat.Standard] = 176 + 16; // Width + Gap\n\t\t\twidthMap[DisplayFormat.StandardWide] = 368 + 16; // Width + Gap\n\n\t\t\tlet nextTileWidth = widthMap[(apps[count].visualization?.displayFormatHint || DisplayFormat.Standard) as DisplayFormat];\n\t\t\tdo {\n\t\t\t\tavailableWidth -= nextTileWidth;\n\t\t\t\t++count;\n\t\t\t\tnextTileWidth =\n\t\t\t\t\twidthMap[((apps[count] && apps[count].visualization?.displayFormatHint) || DisplayFormat.Standard) as DisplayFormat];\n\t\t\t} while (availableWidth > nextTileWidth);\n\t\t}\n\n\t\treturn count || 1;\n\t}\n\n\t/**\n\t * Adjusts the layout of the tiles panel based on the current layout and device type.\n\t *\n\t * @private\n\t * @override\n\t */\n\tpublic _adjustLayout() {\n\t\tconst layout = this._getInsightsContainer()?._getLayout();\n\t\tconst isFullScreenEnabled = this.getProperty(\"enableFullScreen\") as boolean;\n\t\tconst isMobileDevice = this.getDeviceType() === DeviceType.Mobile;\n\n\t\tif (layout && isFullScreenEnabled) {\n\t\t\tconst visibleTileCount = isMobileDevice ? this.aInsightsApps?.length : this._calculateVisibleTileCount(this.aInsightsApps);\n\t\t\tconst isElementExpanded = layout._getCurrentExpandedElementName() === this.getProperty(\"fullScreenName\");\n\t\t\tthis._controlModel.setProperty(\n\t\t\t\t\"/tiles\",\n\t\t\t\tisElementExpanded ? this.aInsightsApps : this.aInsightsApps?.slice(0, visibleTileCount)\n\t\t\t);\n\n\t\t\t//Show/Hide Full Screen Button if available\n\t\t\tthis._getInsightsContainer()?.toggleFullScreenElements(this, this.aInsightsApps?.length > visibleTileCount, isElementExpanded);\n\t\t}\n\t}\n\n\tprivate _getInsightsContainer(): InsightsContainer {\n\t\tif (!this.insightsContainer) {\n\t\t\tthis.insightsContainer = this.getParent() as InsightsContainer;\n\t\t}\n\t\treturn this.insightsContainer;\n\t}\n}\n"],"mappings":"AAAA;;;;AAAA,aAAAA,IAAAC,GAAAC,OAAA,gmBAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,GAAA,sBAAAC,EAAAC,GAAA,OAAAA,KAAAC,mBAAAD,EAAAE,UAAA,YAAAF,EAAAE,QAAAF,CAAA,CAkjBO,SAAAG,EAAgBC,EAAMC,GAC5B,IACC,IAAIC,EAASF,GACd,CAAE,MAAMG,GACP,OAAOF,EAAQE,EAChB,CACA,GAAID,GAAUA,EAAOE,KAAM,CAC1B,OAAOF,EAAOE,UAAU,EAAGH,EAC5B,CACA,OAAOC,CACR,CAAC,MA1iBQG,EAAU3B,EAAA,oBAUV4B,EAAGvB,EAAA,aAQLwB,EAASZ,EAAAP,GAAA,MAEToB,EAAQb,EAAAN,GAAA,MAGRoB,EAAUd,EAAAL,GAAA,MACRoB,EAAgBnB,EAAA,0BAAEoB,EAAepB,EAAA,yBAAEqB,EAAcrB,EAAA,wBAAEsB,EAAoBtB,EAAA,8BAAEuB,EAAoBvB,EAAA,8BAC7FwB,EAAUvB,EAAA,oBAAEwB,EAAsBxB,EAAA,gCAClCyB,EAAqBxB,EAAA,+BACrByB,EAASxB,EAAA,mBAAEyB,EAAuBzB,EAAA,iCAAE0B,EAAW1B,EAAA,mBAE5C2B,EAAc,SAAdA,KAAc,2BAAdA,EAAc,iCAAdA,EAAc,uCAAdA,CAAc,EAAdA,GAAc,QAMdC,EAAa,SAAbA,KAAa,uBAAbA,EAAa,sCAAbA,CAAa,EAAbA,GAAa,IAKzB,MAAMC,EAAeA,IACZtC,EAAOuC,KAAK,sCAAwCvC,EAAOuC,KAAK,yBAGzE,MAiBqBC,EAAmBlB,EAASmB,OAAA,2BAyBhCC,SAA4B,CAC3CC,QAAS,eACTC,WAAY,CAIXC,MAAO,CAAEC,KAAM,SAAUC,MAAO,OAAQC,aAAc,GAAIC,WAAY,UAItEC,IAAK,CAAEJ,KAAM,SAAUC,MAAO,OAAQC,aAAc,GAAIC,WAAY,UAIpEE,eAAgB,CAAEL,KAAM,SAAUC,MAAO,OAAQC,aAAc,MAAOC,WAAY,WAEnFG,mBAAoB,QACpBC,aAAc,CAIbC,MAAO,CAAER,KAAM,mBAAoBS,SAAU,KAAMC,aAAc,OAAQP,WAAY,WAEtFQ,OAAQ,CACPC,gBAAiB,CAChBC,WAAY,CAAC,GAEdC,kBAAmB,CAClBD,WAAY,CAAC,KA5CTE,YAAW,SAAAC,EAACC,EAAaC,GAC/BC,6BAAAC,KAAMH,EAAIC,GAAUE,KAGbC,sBAAgCD,KAAKE,YAAYC,QAAQ,YAAWH,KACpEI,oBAA8B,GAAGJ,KAAKK,0BAH9C,EA+CMC,KAAI,SAAAC,IAAA,IAAG,MAAAC,EAAAR,KACZS,sBAAAD,GACAA,EAAKE,YAAc,IAAIC,IAEvBH,EAAKI,OAAS,CACbxB,MAAO,GACPyB,sBAAuB,MAExBL,EAAKM,cAAgB,IAAIjF,EAAU2E,EAAKI,QACxCJ,EAAKO,mBAAqBzD,EAAW0D,cACrCR,EAAKS,YAAY,QAAS,GAAGT,EAAKN,aAAaC,QAAQ,eAAeK,EAAKN,YAAYC,QAAQ,yBAC/F,MAAMe,EAAkB,IAAI7D,EAASa,EAAeiD,QAAS,CAC5DxC,MAAO6B,EAAKN,YAAYC,QAAQ,WAChCiB,KAAM,qBACNC,MAAOA,SAAWb,EAAKc,YAAY,QAEpCvD,EAAUmD,EAAiB,gBAC3B,MAAMK,EAAwB,IAAIlE,EAASa,EAAesD,SAAU,CACnE7C,MAAO6B,EAAKN,YAAYC,QAAQ,gBAChCiB,KAAM,uBACNC,MAAOA,SAAWb,EAAKiB,0BAExB1D,EAAUwD,EAAuB,mBACjC,MAAMG,EAAoB,IAAIrE,EAASa,EAAeyD,WAAY,CACjEhD,MAAO6B,EAAKN,YAAYC,QAAQ,iBAChCiB,KAAM,kBACNC,MAAQO,GAAiBpB,EAAKqB,gBAAgBD,KAE/C7D,EAAU2D,EAAmB,eAE7BlB,EAAKsB,UAAY,CAACZ,EAAiBK,EAAuBG,GAE1D,MAAMK,EAAiB,IAAIlH,EAAO,CACjCgF,GAAI,GAAGW,EAAKH,yBACZ2B,KAAMxB,EAAKN,YAAYC,QAAQ,iBAC/BkB,MAAOA,SAAWb,EAAKiB,0BAExB1D,EAAUgE,EAAgB,mBAE1BvB,EAAKyB,cAAgB,CAACF,GAGtBvB,EAAK0B,eAAe,OAAAC,QAAAC,QACiBrG,EAAUsG,gBAA4C,+BAA6BpF,KAAA,SAAAqF,GAAxH9B,EAAK+B,wBAAuBD,EAE5B9B,EAAKgC,UAAYhH,EAASwF,cAE1BR,EAAKgC,UAAUC,UACd,gBACA,cAAa,SACNC,EAAqBC,EAAmBC,GAAM,IAAK,OAAAT,QAAAC,QACnD5B,EAAKO,mBAAmB8B,qBAAqBrC,EAAKN,YAAYC,QAAQ,mBAA2BlD,KAAA,kBAAAkF,QAAAC,QACjG5B,EAAKsC,eAAeF,EAA2BlF,IAAqBT,KAAA,WAE1EuD,EAAKuC,gBACLvC,EAAKwC,aAAc,IACpB,CAAC,MAAAhG,GAAA,OAAAmF,QAAAc,OAAAjG,EAAA,GAAAwD,GAKFA,EAAK0C,qBAAsB,EAC5B,CAAC,MAAAlG,GAAA,OAAAmF,QAAAc,OAAAjG,EAAA,GAQOkG,oBAAmB,SAAAA,IAAS,MAAAC,EAGlCnD,KAFD,MAAMoD,EAAiB,SAAUxB,GAAwC,IACxE,MAAMyB,EAAOzB,EAAM0B,aAAa,iBAChCH,EAAKrC,cAAcG,YAAY,yBAA0BoC,GAAM,MAAAE,EAAA,cAC3DF,EAAI,QAAAlB,QAAAC,QACDe,EAAK7B,YAAY,OAAKrE,KAAA,eAFkC,GAElC,OAAAkF,QAAAC,QAAAmB,KAAAtG,KAAAsG,EAAAtG,KAAA,qBAE9B,CAAC,MAAAD,GAAA,OAAAmF,QAAAc,OAAAjG,EAAA,GAEDhB,EAASwH,mBAAmB,CAAC,EAAGJ,EAAmBpD,KACpD,EAQQ8C,eAAc,SAAAA,EAACW,EAA+BC,GACrD,OAAOD,EAAYE,OAAO,CAACC,EAAcC,IACjCD,EAAa3G,KAAK,KACxB,GAAI4G,EAAKC,WAAY,CACpB,OAAO9D,KAAKe,mBAAmBgD,YAAYF,EAC5C,KAAO,CACN,OAAOH,EACJ1D,KAAKe,mBAAmBiD,iBAAiBH,EAAKI,MAAOP,GACrD1D,KAAKe,mBAAmBiD,iBAAiBH,EAAKI,MAClD,IAEC9B,QAAQC,UACZ,EAEQY,YAAW,SAAAA,IAClB,MAAMkB,EAAY,CAAEC,OAAQ,MAC5BnE,KAAKwC,UAAU4B,QAAQ,gBAAiB,gBAAiBF,EAC1D,EAEQhC,aAAY,SAAAA,IACnBlC,KAAK8B,UAAUuC,QAASC,GAAatE,KAAKuE,eAAe,YAAaD,IACtEtE,KAAKiC,cAAcoC,QAASG,GAAiBxE,KAAKuE,eAAe,gBAAiBC,IAClFxE,KAAKiB,YAAY,mBAAoB,KACtC,EAEawD,YAAW,SAAAC,IAAA,IAACC,EAAiBC,UAAAC,OAAA,GAAAD,UAAA,KAAAE,UAAAF,UAAA,GAAG,MAAK,IAAiB,IAAAG,EAAA,YAAAC,EAE5DhF,KAAI,SAAAiF,EAAAC,GAAA,OAAAH,EAAAG,EAQH/C,QAAQC,SAAS,OAAA+C,EAAAvI,EAAA,eARlBoI,EAAKI,gBAAkBT,EAAQ,CACnCK,EAAKK,wBAAwB,OAAAlD,QAAAC,QAChB4C,EAAK1D,eAAarE,KAAA,SAAAqI,GAAAP,EAAA,YAAAO,CAAA,cAExBC,GAERP,EAAKQ,qBACN,GAAC,OAAArD,QAAAC,QAAA+C,KAAAlI,KAAAkI,EAAAlI,KAAAgI,KAAAE,GAEF,CAAC,MAAAnI,GAAA,OAAAmF,QAAAc,OAAAjG,EAAA,GAEYsE,YAAW,SAAAmE,IAAA,IAACC,EAAqBd,UAAAC,OAAA,GAAAD,UAAA,KAAAE,UAAAF,UAAA,GAAG,MAAK,IAAE,MAAAe,EACvD3F,KAAI,OAAAmC,QAAAC,QAAuBuD,EAAK5E,mBAAmB6E,iBAAiB,KAAMD,EAAK1F,wBAAsBhD,KAAA,SAAA4I,GAAA,SAAAC,IAKrGH,EAAK7E,cAAcG,YAAY,SAAU0E,EAAKI,eAC9C,GAAIJ,EAAKI,eAAelB,OAAQ,CAC/Bc,EAAKK,wBACL,GAAIN,GAAgBC,EAAKP,eAAgB,CACxC,MAAMa,EAAoBN,EAAKP,eAAec,cAAcC,4BAC5D,MAAMC,EAAgBT,EAAKP,eAAeiB,eAAeJ,IAA0C,GACnGG,EAAa/B,QAASjF,GAAWA,EAA+BkH,YACjE,CACAX,EAAKK,wBACLL,EAAKY,wBAAwBC,sBAAsBb,EAAKI,cAAclB,OAAQc,EAAKO,cAAcO,WACjG,GAAId,EAAKe,YAAY,SAAU,CAC9Bf,EAAK1E,YACJ,QACA,GAAG0E,EAAKzF,aAAaC,QAAQ,eAAewF,EAAKzF,YAAYC,QAAQ,0BAA0BwF,EAAKI,cAAclB,UAEpH,CACD,KAAO,CACNc,EAAKH,qBACN,CAGAG,EAAK5C,eAAgB,CA1BrB4C,EAAKI,cAAaF,EAClB,MAAMc,EAA8BhB,EAAKI,cAAca,KAAMC,GAASA,EAAKC,qBAAqB,MAAAC,EAAA,cAC5FJ,EAA2B,QAAAxE,QAAAC,QACxB1G,EAAIsL,KAAK,CAAEC,KAAM,+CAA8ChK,KAAA,eAF0B,GAE1B,OAAA8J,KAAA9J,KAAA8J,EAAA9J,KAAA6I,KAAAiB,EAAA,EAwBvE,CAAC,MAAA/J,GAAA,OAAAmF,QAAAc,OAAAjG,EAAA,GAEOqI,sBAAqB,SAAAA,IAC5B,IAAKrF,KAAKoF,eAAgB,CACzB,GAAIpF,KAAKkH,kBAAoBtJ,EAAWuJ,OAAQ,CAC/CnH,KAAKoF,eAAiB,IAAInK,EAAgB,GAAG+E,KAAKK,uCAAwC,CACzF+G,WAAY,EACZC,iBAAkB,EAClBC,WAAY,KACZC,WAAY,IACZC,aAAc,QACZC,cAAc,uGAClB,KAAO,CACNzH,KAAKoF,eAAiB,IAAIzK,EAAc,GAAGqF,KAAKK,iCAAkC,CAAC,GAAGoH,cACrF,0DAEF,CACAzH,KAAKoF,eAAesC,SAAS1H,KAAKc,eAClC,MAAMmF,EAAoBjG,KAAKoF,eAAec,cAAcC,4BAC5DnG,KAAKoF,eAAeuC,gBAAgB1B,EAAmB,CACtD2B,KAAM,SACNC,QAASA,CAAChI,EAAYiI,KACrB,MAAMjB,EAAOiB,EAAQC,YACpBC,EAAiBhI,KAAKuC,wBAAwB0F,yBAAyBpB,EAAKqB,eAC7EF,EAAeG,gBACd,IAAIvN,EAA4B,CAC/BwN,QAAS,EACTC,QAASL,EAAeM,uBAAyBnK,EAAcoK,SAAW,EAAI,KAGhFP,GAAgBQ,eAAe,SAAU,0BACzC,OAAOR,KAGThI,KAAKoF,eACHqD,kBACA,IAAI9M,EAAa,CAChB+M,kBAAmB,QACnBC,kBAAmB,QACnBC,aAAczL,EAAI0L,aAAaC,QAC/BC,WAAY5L,EAAI6L,WAAWC,WAC3BC,KAAOC,GAAWnJ,KAAKoJ,gBAAgBD,MAGxCE,mBAAmB,UAAYzH,IAC/B,MAAM0H,EAAoB1H,EAAM2H,SAAW3H,EAAM4H,aAC5C1L,EAAsB8D,EAAO0H,EAAoBG,GAAyBzJ,KAAKoJ,gBAAgBK,KAEvG,CACAzJ,KAAK0J,YAAY1J,KAAKoF,eACvB,EAEQgE,gBAAe,SAAAA,EAACD,GACvB,MAAMQ,EAAkBR,EAAO7F,eAAe,gBAC7CsG,EAAYT,GAAQ7F,eAAe,kBACnCuG,EAAYV,EAAO7F,aAAa,kBAChCwG,EAAkBF,EAAUG,aAAyBC,YAAYJ,GAClE,IAAIK,EAAkBL,EAAUG,aAAyBC,YAAYH,GAErE,GAAIF,IAAoB,UAAYG,IAAmBG,EAAiB,EAAG,CAC1EA,GACD,MAAO,GAAIN,IAAoB,SAAWG,IAAmBG,EAAiB,EAAG,CAChFA,GACD,CAEA,GAAIH,IAAmBG,EAAgB,MACjCjK,KAAKkK,gBAAgBJ,EAAgBG,EAAgBN,EAC3D,CACD,EAEcO,gBAAe,SAAAA,EAACJ,EAAwBG,EAAwBN,GAAuB,IAAE,MAAAQ,EAM/EnK,KALvB,GAAI2J,IAAoB,UAAYG,EAAiBG,EAAgB,CACpEA,GACD,MAAO,GAAIN,IAAoB,SAAWG,EAAiBG,EAAgB,CAC1EA,GACD,CACA,MAAMG,EAAiBD,EAAKpE,cAAckE,GACzCI,EAAaF,EAAKpE,cAAcuE,OAAOR,EAAgB,GAAG,GAC3DK,EAAKpE,cAAcuE,OAAOL,EAAgB,EAAGI,GAC7C,MAAME,EAAc,CACnBC,OAAQ/M,EACRgN,mBAAoBJ,EAAWK,YAAYC,aAC3CC,yBAA0BP,EAAWK,YAAYG,mBACjDC,mBAAoBV,EAAeM,YAAYC,aAC/CI,yBAA0BX,EAAeM,YAAYG,oBAEtDV,EAAKrJ,cAAcG,YAAY,SAAUkJ,EAAKpE,eAAe,OAAA5D,QAAAC,QACvD+H,EAAKpJ,mBAAmBiK,kBAAkBT,IAAYtN,KAAA,kBAAAkF,QAAAC,QACtD+H,EAAK1F,YAAY,OAAKxH,KAAA,eAC7B,CAAC,MAAAD,GAAA,OAAAmF,QAAAc,OAAAjG,EAAA,GAEO6E,gBAAe,SAAAoJ,EAACrJ,GAGvB,IAAIsJ,EAAwBtJ,EAAMuJ,YAAwBpB,aAAe/J,KACzE,GAAIkL,GAAQE,IAAI,2BAA4B,CAC3CF,EAASA,EAAOnB,WACjB,CACCmB,GAA8BG,aAAaC,mBAAmB3N,EAAqB4N,eACrF,EAEOC,oBAAmB,SAAAC,IACzBzL,KAAKiB,YAAY,QAAS,IAC1BjB,KAAKiB,YAAY,iBAAkB,OACnCjB,KAAKiB,YAAY,mBAAoB,OACrCjB,KAAK0L,qBAAqB,iBAC1B1L,KAAK0L,qBAAqB,YAC3B,EAEOC,iBAAgB,SAAAC,IACtB5L,KAAKiB,YACJ,QACA,GAAGjB,KAAKE,aAAaC,QAAQ,eAAeH,KAAKE,YAAYC,QAAQ,0BAA0BH,KAAK+F,cAAclB,WAEnH7E,KAAKiB,YAAY,iBAAkB,MACnCjB,KAAKiB,YAAY,mBAAoB,MACrCjB,KAAKkC,cACN,EAEQ2J,uBAAsB,SAAAA,IAC5B7L,KAAKU,YAAYoL,IAAI9L,KAAKI,sBAAiC2L,OAC7D,EAQcC,oBAAmB,SAAAC,EAACC,GAAgB,IAAE,OAAA/J,QAAAC,QACnBrG,EAAUsG,gBAA4B,eAAapF,KAAA,SAA7EkP,GACN,MAAMC,EAA2D,CAChEC,OAAQ5O,EACR6O,UAAW5O,GAEZ,GAAIwO,EAAS,CACZE,EAAiBE,UAAYJ,CAC9B,CAAC,OAAA/J,QAAAC,QACK+J,EAAkBI,SAAS,CAChCC,OAAQ,CACPC,UAAW,6BAA6BC,KAAKC,UAAUP,SAEvDnP,KAAA,eACH,CAAC,MAAAD,GAAA,OAAAmF,QAAAc,OAAAjG,EAAA,GAQO4P,gBAAe,SAAAA,EAACC,GACvB,OAAOrP,IAAkBsP,KAAMC,GAAWA,EAAOC,QAAUH,IAAUtP,GACtE,EAOckE,sBAAqB,SAAAA,IAAA,IAAG,MAAAwL,EACbjN,KAAI,OAAAmC,QAAAC,QAAJ6K,EAAKC,gBAAcjQ,KAAA,SAArCkQ,GACN,MAAMC,EAASH,EAAKI,gCACnBJ,EAAKvM,YAAYoL,IAAI,GAAGmB,EAAK7M,qCAA4DkN,WAAWH,EAAUtI,SAAW,GAC1HoI,EAAKM,iCAAiCJ,GACtCC,EAAOI,MAAO,EACf,CAAC,MAAAxQ,GAAA,OAAAmF,QAAAc,OAAAjG,EAAA,GAEakQ,aAAY,SAAAA,IAAA,IAAwC,MAAAO,EACdzN,KAAI,OAAAmC,QAAAC,QAAJqL,EAAK1M,mBAAmB2M,aAAa,MAAO,OAAKzQ,KAAA,SAA9F0Q,GACN,MAAMC,EAAeD,EAASE,OAAO,SAAUC,GAC9C,OAAOA,EAAQC,SAAWD,EAAQhH,mBACnC,GAEA,MAAMkH,EAAmBJ,EAAaC,OAAQC,IAC7C,MAAMG,EAAYR,EAAK1H,cAAcmI,UAAU,SAAUC,GACxD,OACGL,EAAQ5F,eAAepE,YAAcqK,EAAajG,eAAejE,QAAU6J,EAAQ5F,eAAejE,OACnG6J,EAAQ5F,eAAepE,YAAcqK,EAAajG,eAAekG,YAAcN,EAAQ5F,eAAekG,SAEzG,GACA,OAAOH,KAAe,IAGvB,OAAOD,CAAiB,EACzB,CAAC,MAAAhR,GAAA,OAAAmF,QAAAc,OAAAjG,EAAA,GAOOqR,qBAAoB,SAAAA,IAC3B,MAAMC,EAAOtO,KAAKU,YAAYoL,IAAI,GAAG9L,KAAKI,4BAC1C,OAAOkO,EAAKC,oBAAsB,EACnC,EAEQhB,iCAAgC,SAAAA,EAACJ,GACxC,MAAMtN,EAAKG,KAAKI,oBAChB,MAAMkO,EAAOtO,KAAKU,YAAYoL,IAAI,GAAGjM,UACrC,GAAIsN,EAAUtI,OAAQ,CACrByJ,EAAKE,eACL,MAAMC,EAAYtB,EAAUuB,IAC3B,CAACC,EAAKC,IACL,IAAI9T,EAAe,CAClB+E,GAAI,GAAGA,cAAe+O,IACtBC,QAAS,CACR,IAAI7T,EAAK,CACR6E,GAAI,GAAGA,cAAe+O,YACtBE,WAAY,SACZC,MAAO,CACN,IAAItT,EAAK,CACRoE,GAAI,GAAGA,cAAe+O,iBACtBI,IAAKL,EAAIvN,KACT6N,gBAAiBjP,KAAK4M,gBAAgB+B,EAAIO,SAAW,IAAIlC,MACzDH,MAAO,QACPsC,MAAO,UACPC,OAAQ,UACRC,KAAM,YACJ5H,cAAc,sCACjB,IAAIpM,EAAiB,CACpBwE,GAAI,GAAGA,cAAe+O,uBACtBjQ,MAAOgQ,EAAIhQ,MACXqD,KAAM2M,EAAIW,SACVC,QAASZ,EAAIhQ,QACX8I,cAAc,yBAKnBA,cAAc,uBACd+H,KAAK,MAAOb,IAEhBF,EAAUpK,QAASoL,GAASnB,EAAKoB,QAAQD,GAC1C,CACAnB,GAAMhB,WAAWH,EAAUtI,SAAW,EACvC,EAEQwI,8BAA6B,SAAAA,IACpC,MAAMxN,EAAKG,KAAKI,oBAChB,IAAKJ,KAAKU,YAAYoL,IAAIjM,GAAK,CAC9B,MAAM8P,EAAkBA,CAAC9P,EAAY+P,KACpC,MAAMC,EAAe,IAAIhV,EAAOgF,EAAI,CACnCuB,KAAM,oBACNY,KAAMhC,KAAKE,YAAYC,QAAQ,gBAC/BkB,MAAOA,KACNrB,KAAK6L,8BACA7L,KAAKgM,uBAEX8D,QAAS1R,IACTQ,KAAMgR,GAAW1S,EAAW6S,UAE7B/R,EAAwB6R,EAAc5R,EAAY+R,MAAO,kBACzD,OAAOH,GAER,MAAMI,EAAmBA,KACxB,MAAMC,EAAgBlQ,KAAKqO,uBAC1BrO,KAAKU,YAAYoL,IAAI,GAAGjM,YAAwBsQ,WAAWD,EAAcrL,OAAS,IAEpF7E,KAAKU,YAAY0P,IAChB,GAAGvQ,SACH,IAAIzE,EAAK,CACRyE,GAAI,GAAGA,SACPwQ,KAAM,cACNC,gBAAiBL,KAGnB,MAAMM,EAAY,IAAI1V,EAAO,CAC5BgF,GAAI,GAAGA,WACPmC,KAAMhC,KAAKE,YAAYC,QAAQ,UAC/BvB,KAAM,aACNyC,MAAOA,UACDrB,KAAKwQ,mBAEXC,QAAS,QAEVzS,EAAwBuS,EAAWtS,EAAY+R,MAAO,gBACtDhQ,KAAKU,YAAY0P,IAAI,GAAGvQ,WAAa0Q,GACrCvQ,KAAKU,YAAY0P,IAChB,GAAGvQ,iBACH,IAAI3E,EAAmB,CACtB2E,GAAI,GAAGA,iBACP6Q,iBAAkB,OAClBC,iBAAkB,yBAClBhS,MAAOqB,KAAKE,YAAYC,QAAQ,eAChCyQ,YAAa5Q,KAAKE,YAAYC,QAAQ,iCACtC2P,QAAS,OACPrI,cAAc,wBAElBzH,KAAKU,YAAY0P,IAChBvQ,EACA,IAAI9E,EAAO8E,EAAI,CACdlB,MAAOqB,KAAKE,YAAYC,QAAQ,gBAChC0O,QAAS,CACR,IAAI1T,EAAM,CACT0E,GAAI,GAAGA,UACPmC,KAAMhC,KAAKE,YAAYC,QAAQ,uBAC/B0Q,SAAU,OACRpJ,cAAc,oEACjB,IAAIzM,EAAK,CACR6E,GAAI,GAAGA,kBACPiR,eAAgB,eAChBhC,WAAY,SACZC,MAAO,CACN,IAAIzT,EAAM,CACTuE,GAAI,GAAGA,SACPmC,KAAMhC,KAAKE,YAAYC,QAAQ,yBAEhCwP,EAAgB,GAAG9P,eAAiB3C,EAAW6T,gBAE9CtJ,cAAc,4DACjBzH,KAAKU,YAAYoL,IAAI,GAAGjM,UACxBG,KAAKU,YAAYoL,IAAI,GAAGjM,mBAEzBmR,aAAc,WACdC,cAAe,UACfC,UAAW,IAAIrW,EAAO,CACrBmH,KAAMhC,KAAKE,YAAYC,QAAQ,YAC/BkB,MAAOrB,KAAK6L,uBAAuBsF,KAAKnR,QAEzCoR,cAAepR,KAAK6L,uBAAuBsF,KAAKnR,MAChDqR,QAAS,CACRrR,KAAKU,YAAYoL,IAAI,GAAGjM,YACxB,IAAIhF,EAAO,CACVgF,GAAI,GAAGA,cACPmC,KAAMhC,KAAKE,YAAYC,QAAQ,aAC/BkB,MAAOrB,KAAK6L,uBAAuBsF,KAAKnR,WAGxCyH,cAAc,+CAEnB,CACA,OAAOzH,KAAKU,YAAYoL,IAAIjM,EAC7B,EAEc2Q,gBAAe,SAAAA,IAAA,IAAG,MAAAc,EAChBtR,KAAf,MAAMoN,EAASkE,EAAK5Q,YAAYoL,IAAIwF,EAAKlR,qBACzCgN,EAAOmE,QAAQ,MACf,MAAMrB,EAAgBoB,EAAKjD,uBAAuB,OAAAlM,QAAAC,QAC5C8N,EAAcvM,OAAM,SAAQ6N,EAAS3K,GAAS,OAAA1E,QAAAC,QAC7CoP,GAAOvU,KAAA,WACb,MAAM0R,EAAM9H,EAAK2I,KAAK,OACtB,MAAMiC,EAAgB,CACrBjH,OAAQ/M,EACRgN,mBAAoBkE,EAAIjE,YAAYC,aACpCC,yBAA0B+D,EAAIjE,YAAYG,mBAC1CC,mBAAoBwG,EAAKvQ,mBAAmB2Q,qBAC5C3G,0BAA2B,GAE5B,GAAI4D,EAAIzG,eAAeyJ,oBAAsB,YAAchD,EAAIzG,eAAeyJ,oBAAsB,eAAgB,CACnH,GAAIhD,EAAIzG,eAAe0J,yBAAyBC,SAAS,YAAa,CACrElD,EAAIzG,cAAcyJ,kBAAoB,UACvC,MAAO,GAAIhD,EAAIzG,eAAe0J,yBAAyBC,SAAS,gBAAiB,CAChFlD,EAAIzG,cAAcyJ,kBAAoB,cACvC,CACD,CAEA,IAAKhD,EAAIzG,eAAejE,MAAO,CAC7B0K,EAAIzG,cAAiCjE,MAAQ0K,EAAIzG,eAAekG,WAAa,EAC/E,CAAC,MAAA0D,EAAA,cACGnD,EAAIzG,eAAepE,aAAe,KAAI,QAAA3B,QAAAC,QACnCkP,EAAKvQ,mBAAmBgD,YAAY4K,EAAIzG,cAAeuJ,IAAcxU,KAAA,0BAAAkF,QAAAC,QAErEkP,EAAKvQ,mBAAmBiD,iBAAiB2K,EAAIzG,eAAejE,MAAiBvG,IAAqBT,KAAA,eAJxG,GAIwG,GAAA6U,KAAA7U,KAAA,OAAA6U,EAAA7U,KAAA,eAE1G,EAAGkF,QAAQC,YAAUnF,KAAA,kBAAAkF,QAAAC,QAEfkP,EAAKhQ,eAAarE,KAAA,WACxBmQ,EAAOmE,QAAQ,OACfnE,EAAOrB,OAAQ,IAChB,CAAC,MAAA/O,GAAA,OAAAmF,QAAAc,OAAAjG,EAAA,GASO+U,2BAA0B,SAAAA,EAACC,GAClC,MAAMC,EAAejS,KAAKuG,yBAAyB8E,cAAc6G,YACjE,MAAMC,EAAOH,GAAgB,GAC7B,IAAII,EAAQ,EAEZ,GAAIH,GAAgBE,EAAKtN,OAAQ,CAChC,MAAMwN,EAAgBJ,EAAaK,WAAW,GAC9C,MAAMC,EAAgB1U,EAAuBwU,EAAe,CAAC,QAAS,eAAgB,kBACtF,IAAIG,EAAiBD,EAAcpD,MAAQoD,EAAc,gBAAkBA,EAAc,iBACzF,MAAME,EAAW,CAAC,EAElBA,EAAStU,EAAcoK,UAAY,IAAM,GACzCkK,EAAStU,EAAcuU,cAAgB,IAAM,GAE7C,IAAIC,EAAgBF,EAAUN,EAAKC,GAAOlK,eAAeyJ,mBAAqBxT,EAAcoK,UAC5F,EAAG,CACFiK,GAAkBG,IAChBP,EACFO,EACCF,EAAWN,EAAKC,IAAUD,EAAKC,GAAOlK,eAAeyJ,mBAAsBxT,EAAcoK,SAC3F,OAASiK,EAAiBG,EAC3B,CAEA,OAAOP,GAAS,CACjB,EAQOrP,cAAa,SAAAA,IACnB,MAAM6P,EAAS5S,KAAKuG,yBAAyB8E,aAC7C,MAAMwH,EAAsB7S,KAAK0G,YAAY,oBAC7C,MAAMoM,EAAiB9S,KAAKkH,kBAAoBtJ,EAAWuJ,OAE3D,GAAIyL,GAAUC,EAAqB,CAClC,MAAME,EAAmBD,EAAiB9S,KAAK+F,eAAelB,OAAS7E,KAAK+R,2BAA2B/R,KAAK+F,eAC5G,MAAMiN,EAAoBJ,EAAOK,mCAAqCjT,KAAK0G,YAAY,kBACvF1G,KAAKc,cAAcG,YAClB,SACA+R,EAAoBhT,KAAK+F,cAAgB/F,KAAK+F,eAAemN,MAAM,EAAGH,IAIvE/S,KAAKuG,yBAAyB4M,yBAAyBnT,KAAMA,KAAK+F,eAAelB,OAASkO,EAAkBC,EAC7G,CACD,EAEQzM,sBAAqB,SAAAA,IAC5B,IAAKvG,KAAKoT,kBAAmB,CAC5BpT,KAAKoT,kBAAoBpT,KAAK+J,WAC/B,CACA,OAAO/J,KAAKoT,iBACb,IAAC9U,EAAAJ,iBAAAI,EAAAH,gBAAA,OAtoBmBG,CAAU","ignoreList":[],"sourceRoot":""}},{"offset":{"line":332,"column":0},"map":{"version":3,"file":"ToDoPanel.js","names":["sap","ui","define","Log","Card","GridContainer","GridContainerSettings","Button","GenericTile","HeaderContainer","IllustratedMessage","Text","TileContent","VBox","sap_m_library","Device","UI5Element","DateFormat","JSONModel","__BasePanel","__MenuItem","__ToDosContainer","__BatchHelper","___utils_Device","___utils_FESRUtil","_interopRequireDefault","obj","__esModule","default","_catch","body","recover","result","e","then","Priority","_finallyRethrows","finalizer","bind","URLHelper","_iteratorSymbol","Symbol","iterator","_settle","pact","state","value","s","_Pact","v","o","observer","prototype","onFulfilled","onRejected","this","callback","_this","_isSettledPact","thenable","_forTo","array","check","i","reject","_cycle","length","BasePanel","_forOf","target","step","next","done","return","_fixup","TypeError","values","push","MenuItem","ToDosContainer","BatchHelper","DeviceType","fetchElementProperties","addFESRId","TaskPriority","Constants","SITUATION_ICON","PLACEHOLDER_ITEMS_COUNT","TODO_CARDS_LIMIT","TODO_SECTION_LIMIT","TODOS_REFRESH_INTERVAL","MOBILE_DEVICE_MAX_WIDTH","DEFAULT_TITLE_HEIGHT","DEFAULT_CARD_HEIGHT","DEFAULT_TAB_HEADER_HEIGHT","calculateCardWidth","availableWidth","minWidth","maxWidth","gap","count","cardWidth","Math","min","ToDoPanel","extend","metadata","library","properties","baseUrl","type","group","defaultValue","visibility","countUrl","dataUrl","targetAppUrl","constructor","_constructor","id","settings","BasePanel.prototype.constructor.call","init","_init","BasePanel.prototype.init.call","_oData","isLoaded","hasError","getSupported","isExpandedOnce","isCountCalledOnce","illustrationType","refreshInfo","_toRelativeDateTime","Date","horizontalCardCount","illustrationTitle","_i18nBundle","getText","illustrationDescription","isPhone","resize","width","system","phone","tiles","Array","fill","status","displayTiles","_controlModel","requests","_toDoWrapper","getId","renderType","items","_generateCardContainer","_generateMobileCardContainer","_generateErrorMessage","setModel","_addContent","menuItem","title","icon","press","_onPressRefresh","addAggregation","_refreshBtn","text","setProperty","attachEvent","Promise","resolve","_beforePanelExpand","_cardContainer","inlineBlockLayout","snapToRow","visible","layout","columns","columnSize","addStyleClass","_mobileCardContainer","scrollStep","gridLayout","scrollTime","showDividers","_errorCard","_errorMessage","illustrationSize","description","content","getParent","_getSelectedPanel","_loadCards","forceRefresh","_this2","_loadToDos","undefined","_bindInnerControls","selectedKey","getProperty","_isElementExpanded","_setCount","_getSupported","setTimeout","_generatePlaceHolderTiles","_generateRequestObject","onlyCount","concat","_submitBatch","_setSectionRefreshInterval","lastRefreshedTime","_updateRefreshInformation","_switchTabIfRequired","_updateHeaderIfExclusive","catch","error","Error","message","finally","refresh","_adjustLayout","_handleError","getTargetAppUrl","removeContent","_isExclusivePanel","_setTitle","String","_innerControlsBound","bindAggregation","path","factory","context","generateCardTemplate","bindProperty","_generateCardTemplate","mode","frameType","pressEnabled","header","tileContent","priority","priorityText","_toPriorityText","footer","_toPriority","VERY_HIGH","VeryHigh","None","HIGH","High","MEDIUM","Medium","LOW","Low","key","_cardCount","_getVisibleCardCount","isPlaceholder","calculationProperties","_getLayout","isElementExpanded","targetDomRef","getDomRef","containerDomRef","_getFullScreenContainer","childNodes","isMobileDevice","cardCount","getHorizontalCardCount","getVerticalCardCount","toDosContainer","_getCurrentExpandedElementName","_getHorizontalCardCount","domRef","domProperties","Object","slice","reduce","propertyValue","max","floor","_getVerticalCardCount","titleHeight","calculateTitleHeight","availableHeight","height","margin","cardHeight","verticalCardCount","_calculateTitleHeight","container","containerHeaderRef","getElementById","iconTabBarHeaderRef","_getInnerControl","defaultHeight","clientHeight","options","_this3","urls","generateRequestUrls","splice","baseURL","getBaseUrl","requestURLs","success","args","onDataReceived","Number","_handleEmptyCards","_generateRequestUrls","queryString","getDataUrl","includes","getCountUrl","_onDataReceived","results","arguments","_this4","getNoDataText","allPanels","getContent","supportedPanels","filter","panel","clearInterval","refreshFn","setInterval","_updateContainerHeader","displayCards","getDeviceType","Mobile","toggleFullScreenElements","date","inputDate","isNaN","relativeDateFormatter","format","_getNoDataText","_parseResponse","response","d","numericD","numericResponse","_this5","all","map","request","createMultipartRequest","responses","processedResponses","JSON","parse","_temp","_wasThrown","_result","_clearRequests","_isLoaded","_setLoaded","_setSupported","isSupported","_getAppIntent","pattern","match","semanticObject","action","params","paramsArray","split","param","_this6","_interrupt","_temp5","_temp3","nextAvailablePanel","panels","getAggregation","_temp4","_temp2","_getCardCount","_onPressViewAll","redirect","_this7","_temp6","getDateTimeInstance","style","relative","relativeStyle"],"sources":["ToDoPanel.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\n\nimport Log from \"sap/base/Log\";\nimport Card from \"sap/f/Card\";\nimport GridContainer from \"sap/f/GridContainer\";\nimport GridContainerSettings from \"sap/f/GridContainerSettings\";\nimport Button from \"sap/m/Button\";\nimport GenericTile from \"sap/m/GenericTile\";\nimport HeaderContainer from \"sap/m/HeaderContainer\";\nimport IllustratedMessage from \"sap/m/IllustratedMessage\";\nimport Text from \"sap/m/Text\";\nimport TileContent from \"sap/m/TileContent\";\nimport VBox from \"sap/m/VBox\";\nimport { LoadState, Priority, URLHelper } from \"sap/m/library\";\nimport Device from \"sap/ui/Device\";\nimport Control from \"sap/ui/core/Control\";\nimport type { MetadataOptions } from \"sap/ui/core/Element\";\nimport UI5Element from \"sap/ui/core/Element\";\nimport DateFormat from \"sap/ui/core/format/DateFormat\";\nimport Context from \"sap/ui/model/Context\";\nimport JSONModel from \"sap/ui/model/json/JSONModel\";\nimport BasePanel from \"./BasePanel\";\nimport MenuItem from \"./MenuItem\";\nimport { $ToDoPanelSettings } from \"./ToDoPanel\";\nimport ToDosContainer from \"./ToDosContainer\";\nimport BatchHelper from \"./utils/BatchHelper\";\nimport { DeviceType, fetchElementProperties } from \"./utils/Device\";\nimport { addFESRId } from \"./utils/FESRUtil\";\n\nexport interface IToDoPanel {\n\tgenerateCardTemplate(id: string, context: Context): Control;\n\tgenerateRequestUrls?(cardCount: number): string[];\n\tonDataReceived?(data: unknown[], options?: RequestOptions): Promise<void>;\n\tgetNoDataText?(): string;\n}\n\ninterface Request {\n\tbaseURL: string;\n\trequestURLs: string[];\n\tsuccess(args: unknown[]): Promise<void>;\n}\n\nexport interface CalculationProperties {\n\tisPlaceholder?: boolean;\n}\n\nexport interface Intent {\n\ttarget: {\n\t\tsemanticObject: string;\n\t\taction: string;\n\t};\n\tparams: {\n\t\t[key: string]: string;\n\t};\n}\n\nexport interface RequestOptions {\n\ttype: string;\n\tonlyCount?: boolean;\n}\n\nexport interface Response {\n\td?: {\n\t\tresults?: unknown[];\n\t};\n\tresults?: unknown[];\n\tvalue?: unknown[];\n}\n\nexport enum TaskPriority {\n\tVERY_HIGH = \"VERY_HIGH\",\n\tHIGH = \"HIGH\",\n\tMEDIUM = \"MEDIUM\",\n\tLOW = \"LOW\"\n}\n\nconst Constants = {\n\tSITUATION_ICON: \"sap-icon://message-warning\",\n\tPLACEHOLDER_ITEMS_COUNT: 5,\n\tTODO_CARDS_LIMIT: 100,\n\tTODO_SECTION_LIMIT: 6,\n\tTODOS_REFRESH_INTERVAL: 65000,\n\tMOBILE_DEVICE_MAX_WIDTH: 600,\n\tDEFAULT_TITLE_HEIGHT: 33,\n\tDEFAULT_CARD_HEIGHT: 168,\n\tDEFAULT_TAB_HEADER_HEIGHT: 44\n};\n\n/**\n * Calculates the card width based on the available width and certain constraints.\n *\n * @param {number} availableWidth - The available width for card rendering.\n * @returns {number} The calculated card width within specified constraints.\n */\nfunction calculateCardWidth(availableWidth: number): number {\n\tconst minWidth = 320;\n\tconst maxWidth = 400;\n\tconst gap = 14.5;\n\tlet count = 1;\n\tlet cardWidth = minWidth;\n\n\twhile (availableWidth / count >= minWidth + gap) {\n\t\tcardWidth = availableWidth / count;\n\t\tcount += 1;\n\t}\n\n\treturn Math.min(cardWidth - gap, maxWidth);\n}\n\n/**\n *\n * Abstract Panel class for managing and storing To-Do cards.\n *\n * @extends BasePanel\n *\n * @author SAP SE\n * @version 0.0.1\n * @since 1.121\n *\n * @abstract\n * @internal\n * @experimental Since 1.121\n * @public\n *\n * @alias sap.cux.home.ToDoPanel\n */\nexport default abstract class ToDoPanel extends BasePanel implements IToDoPanel {\n\tprotected _oData!: Record<string, unknown>;\n\tprotected requests!: Request[];\n\tprivate _controlModel!: JSONModel;\n\tprivate _toDoWrapper!: VBox;\n\tprivate _cardContainer!: GridContainer;\n\tprivate _mobileCardContainer!: HeaderContainer;\n\tprivate _errorCard!: Card;\n\tprivate _errorMessage!: IllustratedMessage;\n\tprivate _refreshBtn!: Button;\n\tprivate _loadToDos!: Promise<void> | undefined;\n\tprivate _innerControlsBound!: boolean;\n\tprivate _cardCount!: number;\n\n\tconstructor(id?: string | $ToDoPanelSettings);\n\tconstructor(id?: string, settings?: $ToDoPanelSettings);\n\t/**\n\t * Constructor for a new To-Dos Panel.\n\t *\n\t * @param {string} [id] ID for the new control, generated automatically if an ID is not provided\n\t * @param {object} [settings] Initial settings for the new control\n\t */\n\tpublic constructor(id?: string, settings?: $ToDoPanelSettings) {\n\t\tsuper(id, settings);\n\t}\n\n\tstatic readonly metadata: MetadataOptions = {\n\t\tlibrary: \"sap.cux.home\",\n\t\tproperties: {\n\t\t\t/**\n\t\t\t * Specifies the base URL for batching requests sent from the panel.\n\t\t\t *\n\t\t\t * @public\n\t\t\t */\n\t\t\tbaseUrl: { type: \"string\", group: \"Misc\", defaultValue: \"\", visibility: \"public\" },\n\t\t\t/**\n\t\t\t * Specifies the URL for fetching the count of requested to-do cards.\n\t\t\t *\n\t\t\t * @public\n\t\t\t */\n\t\t\tcountUrl: { type: \"string\", group: \"Misc\", defaultValue: \"\", visibility: \"public\" },\n\t\t\t/**\n\t\t\t * Specifies the URL from where the to-do cards should be fetched.\n\t\t\t *\n\t\t\t * @public\n\t\t\t */\n\t\t\tdataUrl: { type: \"string\", group: \"Misc\", defaultValue: \"\", visibility: \"public\" },\n\t\t\t/**\n\t\t\t * Specifies the URL of the target application associated with the to-do cards.\n\t\t\t *\n\t\t\t * @public\n\t\t\t */\n\t\t\ttargetAppUrl: { type: \"string\", group: \"Misc\", defaultValue: \"\", visibility: \"public\" }\n\t\t}\n\t};\n\n\tstatic relativeDateFormatter = DateFormat.getDateTimeInstance({\n\t\tstyle: \"medium\",\n\t\trelative: true,\n\t\trelativeStyle: \"short\"\n\t});\n\n\t/**\n\t * Init lifecycle method\n\t *\n\t * @private\n\t * @override\n\t */\n\tpublic init(): void {\n\t\tsuper.init();\n\n\t\t//Initialise ToDos Model\n\t\tthis._oData = {\n\t\t\tlength: 0,\n\t\t\tisLoaded: false,\n\t\t\thasError: false,\n\t\t\tcardWidth: \"20rem\",\n\t\t\tgetSupported: false,\n\t\t\tisExpandedOnce: false,\n\t\t\tisCountCalledOnce: false,\n\t\t\tillustrationType: \"sapIllus-NoTasks\",\n\t\t\trefreshInfo: this._toRelativeDateTime(new Date()),\n\t\t\thorizontalCardCount: Constants.PLACEHOLDER_ITEMS_COUNT,\n\t\t\tillustrationTitle: this._i18nBundle.getText(\"noToDoTitle\"),\n\t\t\tillustrationDescription: this._i18nBundle.getText(\"noToDoDesc\"),\n\t\t\tisPhone: Device.resize.width < Constants.MOBILE_DEVICE_MAX_WIDTH || Device.system.phone,\n\t\t\ttiles: new Array(Constants.PLACEHOLDER_ITEMS_COUNT).fill({ status: \"Loading\" }),\n\t\t\tdisplayTiles: new Array(Constants.PLACEHOLDER_ITEMS_COUNT).fill({ status: \"Loading\" })\n\t\t};\n\t\tthis._controlModel = new JSONModel(this._oData);\n\n\t\t//Initialize Request Queue\n\t\tthis.requests = [];\n\n\t\t//Add Wrapper Container to Panel\n\t\tthis._toDoWrapper = new VBox(`${this.getId()}-toDosWrapper`, {\n\t\t\trenderType: \"Bare\",\n\t\t\titems: [this._generateCardContainer(), this._generateMobileCardContainer(), this._generateErrorMessage()]\n\t\t});\n\t\tthis._toDoWrapper.setModel(this._controlModel);\n\t\tthis._addContent(this._toDoWrapper);\n\n\t\t//Setup Common Menu Items\n\t\tconst menuItem = new MenuItem(`${this.getId()}-refresh`, {\n\t\t\ttitle: this._i18nBundle.getText(\"refresh\"),\n\t\t\ticon: \"sap-icon://refresh\",\n\t\t\tpress: () => this._onPressRefresh()\n\t\t});\n\t\tthis.addAggregation(\"menuItems\", menuItem);\n\t\taddFESRId(menuItem, \"todosRefresh\");\n\n\t\t//Setup Common Action Buttons\n\t\tthis._refreshBtn = new Button(`${this.getId()}-refreshBtn`, {\n\t\t\ticon: \"sap-icon://refresh\",\n\t\t\ttext: this._toRelativeDateTime(new Date()),\n\t\t\tpress: () => this._onPressRefresh()\n\t\t});\n\t\taddFESRId(this._refreshBtn, \"manualTodoRefresh\");\n\t\tthis.addAggregation(\"actionButtons\", this._refreshBtn);\n\n\t\t//Configure Full Screen and Expand Event handlers\n\t\tthis.setProperty(\"enableFullScreen\", true);\n\t\tthis.attachEvent(\"onExpand\", async () => {\n\t\t\tawait this._beforePanelExpand();\n\t\t});\n\t}\n\n\t/**\n\t * Generates the card container (GridContainer) for displaying cards.\n\t *\n\t * @private\n\t * @returns {GridContainer} The generated card container.\n\t */\n\tprivate _generateCardContainer(): GridContainer {\n\t\t//create container\n\t\tif (!this._cardContainer) {\n\t\t\tthis._cardContainer = new GridContainer(`${this.getId()}-flexContainer`, {\n\t\t\t\tinlineBlockLayout: true,\n\t\t\t\tsnapToRow: true,\n\t\t\t\tvisible: \"{= !${/isPhone} && !${/hasError} && (!${/isLoaded} || ${/length} > 0) }\",\n\t\t\t\tlayout: new GridContainerSettings(`${this.getId()}-layout`, {\n\t\t\t\t\tcolumns: \"{/horizontalCardCount}\",\n\t\t\t\t\tcolumnSize: \"{/cardWidth}\",\n\t\t\t\t\tgap: \"1rem\"\n\t\t\t\t})\n\t\t\t}).addStyleClass(\"sapCuxToDoCardsContainer\");\n\t\t}\n\n\t\treturn this._cardContainer;\n\t}\n\n\t/**\n\t * Generates the mobile card container (HeaderContainer) for displaying cards on mobile devices.\n\t *\n\t * @private\n\t * @returns {HeaderContainer} The generated mobile card container.\n\t */\n\tprivate _generateMobileCardContainer(): HeaderContainer {\n\t\t// Create a HeaderContainer for mobile devices\n\t\tif (!this._mobileCardContainer) {\n\t\t\tthis._mobileCardContainer = new HeaderContainer(`${this.getId()}-headerContainer`, {\n\t\t\t\tvisible: \"{/isPhone}\",\n\t\t\t\tscrollStep: 0,\n\t\t\t\tgridLayout: true,\n\t\t\t\tscrollTime: 1000,\n\t\t\t\tshowDividers: false\n\t\t\t});\n\n\t\t\tthis._mobileCardContainer.addStyleClass(\"sapMHeaderContainerAlign sapMHeaderContainerToDoAlign toDoCardHeight\");\n\t\t}\n\n\t\treturn this._mobileCardContainer;\n\t}\n\n\t/**\n\t * Generates the error message card for displaying error messages.\n\t *\n\t * @private\n\t * @returns {Card} The generated error message card.\n\t */\n\tprivate _generateErrorMessage(): Card {\n\t\tif (!this._errorCard) {\n\t\t\tthis._errorMessage = new IllustratedMessage(`${this.getId()}-errorMessage`, {\n\t\t\t\tillustrationSize: \"Base\",\n\t\t\t\ttitle: \"{/illustrationTitle}\",\n\t\t\t\tdescription: \"{/illustrationDescription}\",\n\t\t\t\tillustrationType: \"{/illustrationType}\"\n\t\t\t});\n\t\t\tthis._errorCard = new Card(`${this.getId()}-errorCard`, {\n\t\t\t\tcontent: this._errorMessage,\n\t\t\t\tvisible: \"{= ${/tiles/length} === 0 || ${/hasError} === true }\"\n\t\t\t});\n\t\t}\n\n\t\treturn this._errorCard;\n\t}\n\n\t/**\n\t * Handler for the Refresh button for each panel.\n\t * Reloads the selected panel\n\t *\n\t * @async\n\t * @private\n\t */\n\tprivate _onPressRefresh(): void {\n\t\tvoid ((this.getParent() as ToDosContainer)?._getSelectedPanel() as ToDoPanel)?._loadCards(true);\n\t}\n\n\t/**\n\t * Loads the To-Do cards for the panel.\n\t *\n\t * @private\n\t * @param {boolean} forceRefresh - force refresh cards\n\t * @returns {Promise<void>} A promise that resolves when the cards are loaded.\n\t */\n\tpublic async _loadCards(forceRefresh?: boolean): Promise<void> {\n\t\tif (this._loadToDos !== undefined && !forceRefresh) {\n\t\t\treturn this._loadToDos;\n\t\t} else {\n\t\t\tthis._bindInnerControls();\n\t\t\tthis._loadToDos = new Promise((resolve) => {\n\t\t\t\tconst selectedKey = this.getParent()?.getProperty(\"selectedKey\") as string;\n\t\t\t\tconst requests: Request[] = [];\n\n\t\t\t\tthis._oData.isLoaded = false;\n\t\t\t\tthis._oData.isCountCalledOnce = false;\n\t\t\t\tthis._oData.isExpandedOnce = this._isElementExpanded();\n\t\t\t\tthis._setCount();\n\n\t\t\t\tif (this._getSupported()) {\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t// Load Placeholder Cards\n\t\t\t\t\t\tthis._generatePlaceHolderTiles();\n\n\t\t\t\t\t\t// Add Initial Batch Requests\n\t\t\t\t\t\trequests.push(\n\t\t\t\t\t\t\tthis._generateRequestObject({ type: selectedKey, onlyCount: selectedKey !== this.getProperty(\"key\") })\n\t\t\t\t\t\t);\n\t\t\t\t\t\tthis.requests = this.requests.concat(requests);\n\n\t\t\t\t\t\t//Submit Batch Requests\n\t\t\t\t\t\tthis._submitBatch()\n\t\t\t\t\t\t\t.then(async () => {\n\t\t\t\t\t\t\t\tthis._oData.isLoaded = selectedKey === this.getProperty(\"key\");\n\t\t\t\t\t\t\t\tthis._oData.isCountCalledOnce = true;\n\t\t\t\t\t\t\t\tthis._setCount(this._oData.length as string);\n\t\t\t\t\t\t\t\tthis._setSectionRefreshInterval();\n\t\t\t\t\t\t\t\tthis._oData.refreshInfo = this._toRelativeDateTime(new Date());\n\t\t\t\t\t\t\t\tthis._oData.lastRefreshedTime = new Date();\n\t\t\t\t\t\t\t\tthis._updateRefreshInformation();\n\t\t\t\t\t\t\t\tawait this._switchTabIfRequired();\n\t\t\t\t\t\t\t\tthis._updateHeaderIfExclusive();\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t.catch((error: unknown) => {\n\t\t\t\t\t\t\t\tLog.error(error instanceof Error ? error.message : \"\");\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t.finally(() => {\n\t\t\t\t\t\t\t\tthis._controlModel.refresh();\n\t\t\t\t\t\t\t\tthis._adjustLayout();\n\t\t\t\t\t\t\t\tresolve();\n\t\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tthis._handleError(`User not authorized to access: + ${this.getTargetAppUrl()}`);\n\n\t\t\t\t\t// Remove Item from IconTabBar\n\t\t\t\t\t(this.getParent() as ToDosContainer)?.removeContent(this);\n\n\t\t\t\t\t//resolve the promise\n\t\t\t\t\tresolve();\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\treturn this._loadToDos;\n\t}\n\n\t/**\n\t * Update Container Header if the panel is exclusive\n\t *\n\t * @private\n\t */\n\tprivate _updateHeaderIfExclusive() {\n\t\tif (this._isExclusivePanel()) {\n\t\t\t(this.getParent() as ToDosContainer)._setTitle(`${this._i18nBundle.getText(\"toDosTitle\")} (${String(this._oData.length)})`);\n\t\t}\n\t}\n\n\t/**\n\t * Creates a one-time binding of inner controls for the ToDoPanel.\n\t * @private\n\t */\n\tprivate _bindInnerControls(): void {\n\t\tif (!this._innerControlsBound) {\n\t\t\t//bind card container\n\t\t\tthis._cardContainer.bindAggregation(\"items\", {\n\t\t\t\tpath: \"/displayTiles\",\n\t\t\t\tlength: Constants.TODO_CARDS_LIMIT,\n\t\t\t\tfactory: (id, context) => this.generateCardTemplate(id, context)?.bindProperty?.(\"width\", { path: \"/cardWidth\" })\n\t\t\t});\n\n\t\t\t//bind mobile card container\n\t\t\tthis._mobileCardContainer.bindAggregation(\"content\", {\n\t\t\t\tpath: \"/displayTiles\",\n\t\t\t\tlength: Constants.TODO_CARDS_LIMIT,\n\t\t\t\tfactory: this.generateCardTemplate.bind(this)\n\t\t\t});\n\n\t\t\tthis._innerControlsBound = true;\n\t\t}\n\t}\n\n\t/**\n\t * Generate a default card template for the Current Panel.\n\t * An extended panel can have it's own template by overridding\n\t * this method and providing a custom card template.\n\t *\n\t * @public\n\t * @param {string} id The ID for the template.\n\t * @param {object} context The context for the template.\n\t * @returns {object} The generated card template.\n\t */\n\tpublic generateCardTemplate(id: string, context: Context): Control {\n\t\treturn new GenericTile(`${id}-tile`, {\n\t\t\tmode: \"ActionMode\",\n\t\t\tframeType: \"TwoByOne\",\n\t\t\tpressEnabled: true,\n\t\t\theader: context.getProperty(\"title\") as string,\n\t\t\twidth: context.getProperty(\"/cardWidth\") as string,\n\t\t\tstate: context.getProperty(\"status\") as LoadState,\n\t\t\ttileContent: [\n\t\t\t\tnew TileContent(`${id}-tileContent`, {\n\t\t\t\t\tpriority: context.getProperty(\"priority\") as Priority,\n\t\t\t\t\tpriorityText: this._toPriorityText(context.getProperty(\"priority\") as Priority),\n\t\t\t\t\tfooter: context.getProperty(\"footerText\") as string,\n\t\t\t\t\tcontent: new Text(`${id}-situationContent`, {\n\t\t\t\t\t\ttext: context.getProperty(\"message\") as string\n\t\t\t\t\t})\n\t\t\t\t})\n\t\t\t]\n\t\t});\n\t}\n\n\t/**\n\t * Convert a priority string to a corresponding priority value.\n\t *\n\t * @private\n\t * @param {TaskPriority} priority - The task priority string.\n\t * @returns {string} The corresponding priority value.\n\t */\n\tpublic _toPriority(priority: TaskPriority): Priority {\n\t\tif (priority === TaskPriority.VERY_HIGH) {\n\t\t\treturn Priority.VeryHigh ? Priority.VeryHigh : Priority.None;\n\t\t} else if (priority === TaskPriority.HIGH) {\n\t\t\treturn Priority.High;\n\t\t} else if (priority === TaskPriority.MEDIUM) {\n\t\t\treturn Priority.Medium;\n\t\t} else if (priority === TaskPriority.LOW) {\n\t\t\treturn Priority.Low;\n\t\t} else {\n\t\t\treturn Priority.None;\n\t\t}\n\t}\n\n\t/**\n\t * Convert a priority string to a corresponding priority text.\n\t *\n\t * @private\n\t * @param {Priority} priority - The priority string.\n\t * @returns {string} The corresponding priority text.\n\t */\n\tpublic _toPriorityText(priority: Priority): string {\n\t\tlet key;\n\t\tif (priority === Priority.VeryHigh) {\n\t\t\tkey = \"veryHighPriority\";\n\t\t} else if (priority === Priority.High) {\n\t\t\tkey = \"highPriority\";\n\t\t} else if (priority === Priority.Medium) {\n\t\t\tkey = \"mediumPriority\";\n\t\t} else if (priority === Priority.Low) {\n\t\t\tkey = \"lowPriority\";\n\t\t} else {\n\t\t\tkey = \"nonePriority\";\n\t\t}\n\n\t\treturn this._i18nBundle.getText(key) as string;\n\t}\n\n\t/**\n\t * Generates placeholder tiles for the panel.\n\t *\n\t * @private\n\t */\n\tprivate _generatePlaceHolderTiles(): void {\n\t\tthis._cardCount = this._getVisibleCardCount({ isPlaceholder: true });\n\t\tthis._oData.displayTiles = this._oData.tiles = new Array(this._cardCount).fill({ status: \"Loading\" });\n\t\tthis._oData.isLoaded = this._oData.hasError = false;\n\t\tthis._controlModel.refresh();\n\t}\n\n\t/**\n\t * Calculates the number of visible cards that can fit within the available space of the To-Dos panel.\n\t *\n\t * @private\n\t * @param {CalculationProperties} [calculationProperties] - Optional properties to assist in the calculation.\n\t * @returns {number} - The number of visible cards.\n\t */\n\tprivate _getVisibleCardCount(calculationProperties?: CalculationProperties): number {\n\t\tconst layout = (this.getParent() as ToDosContainer)?._getLayout();\n\t\tlet isElementExpanded = false;\n\t\tlet targetDomRef = this._toDoWrapper?.getDomRef();\n\n\t\tif (layout) {\n\t\t\tisElementExpanded = this._isElementExpanded();\n\t\t\tconst containerDomRef = (isElementExpanded ? layout._getFullScreenContainer() : layout).getDomRef();\n\t\t\ttargetDomRef = containerDomRef?.childNodes[0] as Element;\n\t\t}\n\n\t\tconst isMobileDevice = this._controlModel.getProperty(\"/isPhone\") as boolean;\n\t\tlet cardCount = isMobileDevice ? Constants.TODO_SECTION_LIMIT : 1;\n\n\t\tif (targetDomRef && !isMobileDevice) {\n\t\t\t// @ts-expect-error Calculate Horizontal Card Count\n\t\t\tcardCount = this.getHorizontalCardCount(targetDomRef, calculationProperties);\n\n\t\t\tif (isElementExpanded) {\n\t\t\t\t// @ts-expect-error Calculate Vertical Card Count\n\t\t\t\tcardCount *= this.getVerticalCardCount(targetDomRef, calculationProperties);\n\t\t\t}\n\n\t\t\t//Restrict cards to the maximum limit\n\t\t\tcardCount = cardCount > Constants.TODO_CARDS_LIMIT ? Constants.TODO_CARDS_LIMIT : cardCount;\n\t\t}\n\n\t\treturn cardCount;\n\t}\n\n\t/**\n\t * Checks if the current element is expanded to full screen.\n\t *\n\t * @private\n\t * @returns {boolean} - True if the element is expanded, otherwise false.\n\t */\n\tprivate _isElementExpanded(): boolean {\n\t\tconst toDosContainer = this.getParent() as ToDosContainer;\n\t\tconst layout = toDosContainer._getLayout();\n\t\treturn layout?._getCurrentExpandedElementName() === toDosContainer.getProperty(\"fullScreenName\");\n\t}\n\n\t/**\n\t * Calculates the number of horizontal cards that can fit within the available width of the given DOM element.\n\t *\n\t * @private\n\t * @param {Element} domRef - The DOM element to calculate the horizontal card count for.\n\t * @returns {number} - The number of horizontal cards that can fit within the available width.\n\t */\n\tprotected getHorizontalCardCount(domRef: Element): number {\n\t\tconst domProperties = fetchElementProperties(domRef, [\"width\", \"padding-left\", \"padding-right\", \"margin-left\", \"margin-right\"]);\n\t\tconst availableWidth = Object.values(domProperties)\n\t\t\t.slice(1)\n\t\t\t.reduce((width, propertyValue) => width - propertyValue, domProperties[\"width\"]);\n\t\tconst cardWidth = calculateCardWidth(availableWidth);\n\n\t\t// Calculate Horizontal Card Count\n\t\tlet horizontalCardCount = Math.max(Math.floor(availableWidth / cardWidth), 1);\n\t\tthis._controlModel.setProperty(\"/cardWidth\", `${cardWidth / 16}rem`);\n\t\tthis._controlModel.setProperty(\"/horizontalCardCount\", horizontalCardCount);\n\n\t\treturn horizontalCardCount;\n\t}\n\n\t/**\n\t * Calculates the number of vertical cards that can fit within the available height of the given DOM element.\n\t *\n\t * @private\n\t * @param {Element} domRef - The DOM element to calculate the vertical card count for.\n\t * @returns {number} - The number of vertical cards that can fit within the available height.\n\t */\n\tprotected getVerticalCardCount(domRef: Element): number {\n\t\tconst domProperties = fetchElementProperties(domRef, [\"height\", \"padding-top\"]);\n\t\tconst titleHeight = this.calculateTitleHeight();\n\t\tconst availableHeight = domProperties.height - domProperties[\"padding-top\"] * 2 - titleHeight;\n\t\tconst margin = 14;\n\t\tconst cardHeight = Constants.DEFAULT_CARD_HEIGHT + margin;\n\t\tconst verticalCardCount = Math.max(Math.floor(availableHeight / cardHeight), 2); //minimum of 2 rows should be displayed\n\n\t\treturn verticalCardCount;\n\t}\n\n\t/**\n\t * Calculates the combined height of the title and tab header for the To-Dos panel.\n\t *\n\t * @private\n\t * @returns {number} - The combined height of the title and tab header.\n\t */\n\tprotected calculateTitleHeight(): number {\n\t\tconst container = this.getParent() as ToDosContainer;\n\t\tconst containerHeaderRef = UI5Element.getElementById(`${container.getId()}-header`)?.getDomRef();\n\t\tconst iconTabBarHeaderRef = UI5Element.getElementById(`${container._getInnerControl().getId()}--header`)?.getDomRef();\n\t\tconst defaultHeight = Constants.DEFAULT_TITLE_HEIGHT + Constants.DEFAULT_TAB_HEADER_HEIGHT;\n\t\tlet titleHeight = 0;\n\n\t\tif (containerHeaderRef && iconTabBarHeaderRef) {\n\t\t\ttitleHeight = containerHeaderRef.clientHeight + iconTabBarHeaderRef.clientHeight;\n\t\t}\n\n\t\treturn Math.max(titleHeight, defaultHeight);\n\t}\n\n\t/**\n\t * Generates a request object for batch requests.\n\t *\n\t * @private\n\t * @param {RequestOptions} options - Additional properties for generating the request object.\n\t * @param {boolean} [options.onlyCount] - Whether to include only the count in the request.\n\t * @returns {Object} The generated request object.\n\t */\n\tprivate _generateRequestObject(options: RequestOptions): Request {\n\t\tconst cardCount = this._getVisibleCardCount();\n\t\tconst urls = this.generateRequestUrls?.(cardCount);\n\n\t\tif (options?.onlyCount) {\n\t\t\turls.splice(1);\n\t\t}\n\n\t\treturn {\n\t\t\tbaseURL: this.getBaseUrl(),\n\t\t\trequestURLs: urls,\n\t\t\tsuccess: async (args: unknown[]): Promise<void> => {\n\t\t\t\t//data process extension for panels\n\t\t\t\tawait this.onDataReceived(args.splice(1), options);\n\n\t\t\t\t//set card count and handle empty cards\n\t\t\t\tthis._oData.length = Number(args[0]);\n\t\t\t\tthis._handleEmptyCards();\n\t\t\t}\n\t\t};\n\t}\n\n\t/**\n\t * Generates request URLs for fetching data based on the specified card count.\n\t *\n\t * @private\n\t * @param {number} cardCount - The number of cards to retrieve.\n\t * @returns {string[]} An array of request URLs.\n\t */\n\tpublic generateRequestUrls(cardCount: number): string[] {\n\t\tconst queryString = `$skip=0&$top=${cardCount}`;\n\t\tlet dataUrl = this.getDataUrl();\n\t\tdataUrl = dataUrl.includes(\"?\") ? `${dataUrl}&${queryString}` : `${dataUrl}?${queryString}`;\n\n\t\treturn [this.getCountUrl(), dataUrl];\n\t}\n\n\t/**\n\t * Hook for processing data fetched from a batch call.\n\t * This method can be overridden to perform additional data processing operations.\n\t *\n\t * @private\n\t * @async\n\t * @param {unknown[]} results - Data retrieved from the batch call.\n\t * @param {RequestOptions} options - Additional options for parsing the data.\n\t * Structure may vary based on the backend service.\n\t */\n\tpublic async onDataReceived(results: unknown[] = [], options?: RequestOptions): Promise<void> {\n\t\tif (!options || (options && !options.onlyCount)) {\n\t\t\tthis._oData.displayTiles = this._oData.tiles = results[0] || [];\n\t\t}\n\n\t\tawait Promise.resolve();\n\t}\n\n\t/**\n\t * Handles the scenario when there are no cards to display.\n\t * Updates the illustration and description based on the selected panel and card count.\n\t *\n\t * @private\n\t */\n\tprivate _handleEmptyCards() {\n\t\tif (Number(this._oData.length) === 0) {\n\t\t\tthis._oData.illustrationType = \"sapIllus-EmptyPlanningCalendar\";\n\t\t\tthis._oData.illustrationTitle = this._isExclusivePanel()\n\t\t\t\t? this._i18nBundle.getText(\"noToDoTitle\")\n\t\t\t\t: this._i18nBundle.getText(this.getNoDataText());\n\t\t\tthis._oData.illustrationDescription = this._isExclusivePanel()\n\t\t\t\t? this._i18nBundle.getText(\"noToDoDesc\")\n\t\t\t\t: this._i18nBundle.getText(\"emptyToDoDesc\");\n\t\t}\n\t}\n\n\t/**\n\t * Checks if the panel is exclusive based on support and the number of panels.\n\t *\n\t * @private\n\t * @returns {boolean} True if the panel is exclusive, otherwise false.\n\t */\n\tprivate _isExclusivePanel(): boolean {\n\t\tconst allPanels = (this.getParent() as ToDosContainer).getContent() as ToDoPanel[];\n\t\tconst supportedPanels = allPanels.filter((panel) => panel._getSupported());\n\n\t\treturn supportedPanels.length === 1 || (allPanels.length === 1 && this._getSupported());\n\t}\n\n\t/**\n\t * Sets the interval for refreshing the section.\n\t *\n\t * @private\n\t */\n\tprivate _setSectionRefreshInterval(): void {\n\t\tclearInterval(this._oData.refreshFn as number);\n\t\tthis._oData.refreshFn = setInterval(() => {\n\t\t\tthis._oData.lastRefreshedTime = this._oData.lastRefreshedTime || new Date();\n\t\t\tthis._oData.refreshInfo = this._toRelativeDateTime(this._oData.lastRefreshedTime as Date);\n\t\t\tthis._updateRefreshInformation();\n\t\t}, Constants.TODOS_REFRESH_INTERVAL);\n\t}\n\n\t/**\n\t * Updates the refresh information and adjusts the layout.\n\t *\n\t * @private\n\t */\n\tpublic _updateRefreshInformation(): void {\n\t\tconst container = this.getParent() as ToDosContainer;\n\t\tif (container.getProperty(\"selectedKey\") === this.getProperty(\"key\")) {\n\t\t\tthis._refreshBtn.setProperty(\"text\", this._oData.refreshInfo, true);\n\t\t\tcontainer._updateContainerHeader(this);\n\t\t}\n\n\t\tthis._adjustLayout();\n\t}\n\n\t/**\n\t * Adjusts the layout based on card count and device type.\n\t *\n\t * @private\n\t */\n\tpublic _adjustLayout() {\n\t\t// Update visible cards\n\t\tconst cardCount = this._getVisibleCardCount();\n\t\tif ((this._oData.tiles as object[]).length && !this._oData.hasError) {\n\t\t\tconst displayCards = (this._oData.tiles as object[]).slice(0, cardCount);\n\t\t\tthis._controlModel.setProperty(\"/displayTiles\", displayCards);\n\t\t}\n\n\t\t// Update if device type is phone\n\t\tthis._controlModel.setProperty(\"/isPhone\", this.getDeviceType() === DeviceType.Mobile);\n\n\t\t// Show/Hide Full Screen Button if available\n\t\t(this.getParent() as ToDosContainer)?.toggleFullScreenElements(\n\t\t\tthis,\n\t\t\tNumber(this._oData.length) > cardCount,\n\t\t\tthis._isElementExpanded()\n\t\t);\n\t}\n\n\t/**\n\t * Formats the given date to a relative date.\n\t *\n\t * @private\n\t * @param {Date} date Date object or Date String\n\t * @returns {string} Formatted Date\n\t */\n\tpublic _toRelativeDateTime(date: Date): string {\n\t\tconst inputDate = new Date(date);\n\t\treturn isNaN(Number(inputDate)) ? \"\" : ToDoPanel.relativeDateFormatter.format(inputDate);\n\t}\n\n\t/**\n\t * Get the text for the \"No Data\" message.\n\t *\n\t * @private\n\t * @returns {string} The text for the \"No Data\" message.\n\t */\n\tpublic getNoDataText(): string {\n\t\treturn this._i18nBundle.getText(\"noData\") as string;\n\t}\n\n\t/**\n\t * Parses the response object and returns the appropriate value.\n\t *\n\t * @private\n\t * @param {Object} response - The response object.\n\t * @param {Object} [response.d] - The 'd' property of the response object.\n\t * @param {Array} [response.d.results] - The results array.\n\t * @param {string|number} [response.d] - The 'd' property of the response object which may contain a numeric value.\n\t * @param {string|number} [response] - The response object which may contain a numeric value.\n\t * @param {string|number} [response.value] - The 'value' property of the response object which may contain a numeric value.\n\t * @returns {Response} - The parsed value extracted from the response object.\n\t */\n\tprivate _parseResponse(response: Response): Response {\n\t\tconst { d = {}, value } = response || {};\n\t\tconst results = d?.results;\n\t\tconst numericD = !isNaN(+d) && +d;\n\t\tconst numericResponse = !isNaN(+response) && +response;\n\n\t\treturn (results || numericD || numericResponse || value || 0) as Response;\n\t}\n\n\t/**\n\t * Submits a batch request for multiple URLs and processes the responses.\n\t *\n\t * @private\n\t * @returns {Promise} A Promise that resolves when all batch requests are completed.\n\t */\n\tprotected _submitBatch(): Promise<unknown[]> {\n\t\treturn Promise.all(\n\t\t\tthis.requests.map(async (request: Request) => {\n\t\t\t\ttry {\n\t\t\t\t\tconst responses = await BatchHelper.createMultipartRequest(request.baseURL, request.requestURLs);\n\n\t\t\t\t\tif (responses.length) {\n\t\t\t\t\t\tconst processedResponses = responses.map((response: string | Response) => {\n\t\t\t\t\t\t\tif (typeof response === \"string\") {\n\t\t\t\t\t\t\t\tresponse = JSON.parse(response) as Response;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn this._parseResponse(response);\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\t// Call success callback, if any\n\t\t\t\t\t\tif (request.success && typeof request.success === \"function\") {\n\t\t\t\t\t\t\tawait request.success(processedResponses);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn processedResponses;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthrow new Error(\"Invalid response\");\n\t\t\t\t\t}\n\t\t\t\t} catch (error: unknown) {\n\t\t\t\t\tthis._handleError(error);\n\t\t\t\t} finally {\n\t\t\t\t\tthis._clearRequests();\n\t\t\t\t}\n\t\t\t})\n\t\t);\n\t}\n\n\t/**\n\t * Handles errors by updating the data and logging the error.\n\t *\n\t * @private\n\t * @param {Error} error - The error object to handle.\n\t */\n\tprivate _handleError(error: unknown) {\n\t\tthis._oData.displayTiles = this._oData.tiles = [];\n\t\tthis._oData.getSupported = this._oData.isLoaded = this._oData.hasError = true;\n\t\tthis._oData.illustrationType = \"sapIllus-UnableToLoad\";\n\t\tthis._oData.illustrationTitle = this._oData.illustrationDescription = \"\";\n\n\t\tLog.error(error as string);\n\t\tthis._controlModel.refresh();\n\t}\n\n\t/**\n\t * Clears the list of requests.\n\t *\n\t * @private\n\t */\n\tprotected _clearRequests() {\n\t\tthis.requests = [];\n\t}\n\n\t/**\n\t * Checks if the panel is loaded.\n\t *\n\t * @private\n\t * @returns {boolean} true if the panel is loaded, false otherwise.\n\t */\n\tpublic _isLoaded(): boolean {\n\t\treturn this._oData.isLoaded as boolean;\n\t}\n\n\t/**\n\t * Set the loaded status of the ToDoPanel.\n\t *\n\t * @private\n\t * @param {boolean} isLoaded - The new loaded status to set for the ToDoPanel.\n\t */\n\tpublic _setLoaded(isLoaded: boolean): void {\n\t\tthis._oData.isLoaded = isLoaded;\n\t}\n\n\t/**\n\t * Gets the supported status of the panel.\n\t *\n\t * @private\n\t * @returns {boolean} The supported status of the panel.\n\t */\n\tpublic _getSupported(): boolean {\n\t\treturn this._oData.getSupported as boolean;\n\t}\n\n\t/**\n\t * Sets the supported status of the panel.\n\t *\n\t * @private\n\t * @param {boolean} value - The value to set for supported status.\n\t */\n\tpublic _setSupported(isSupported: boolean): void {\n\t\tthis._oData.getSupported = isSupported;\n\t}\n\n\t/**\n\t * Extracts the app intent from the target app URL.\n\t *\n\t * @private\n\t * @returns {Intent | null} The app intent object with target and parameters, or null if not found.\n\t */\n\tpublic _getAppIntent(): Intent | null {\n\t\tconst pattern = /#([^?-]+)-([^?#]+)(?:\\?([^#]+))?(?:#.*)?/;\n\t\tconst match = this.getTargetAppUrl().match(pattern);\n\n\t\tif (match) {\n\t\t\tconst target = {\n\t\t\t\tsemanticObject: match[1],\n\t\t\t\taction: match[2]\n\t\t\t};\n\t\t\tconst params = {} as Record<string, string>;\n\n\t\t\tif (match[3]) {\n\t\t\t\tconst paramsArray = match[3].split(\"&\");\n\t\t\t\tfor (const param of paramsArray) {\n\t\t\t\t\tconst [key, value] = param.split(\"=\");\n\t\t\t\t\tparams[key] = value;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\ttarget,\n\t\t\t\tparams\n\t\t\t};\n\t\t} else {\n\t\t\treturn null;\n\t\t}\n\t}\n\n\t/**\n\t * Switch to available tab if current panel has empty cards or has error\n\t *\n\t * @private\n\t * @async\n\t */\n\tprivate async _switchTabIfRequired() {\n\t\tconst container = this.getParent() as ToDosContainer;\n\t\tconst selectedKey = container?.getProperty(\"selectedKey\") as string;\n\n\t\tif (selectedKey === this.getProperty(\"key\") && (this._oData.length === 0 || this._oData.hasError)) {\n\t\t\tlet nextAvailablePanel;\n\t\t\tconst panels = container?.getAggregation(\"content\") as ToDoPanel[];\n\n\t\t\tfor (const panel of panels) {\n\t\t\t\tif (panel !== this) {\n\t\t\t\t\t//ensure that panel is loaded first\n\t\t\t\t\tawait panel._loadCards();\n\n\t\t\t\t\tif (panel._getSupported() && !panel._isLoaded() && panel._getCardCount() > 0) {\n\t\t\t\t\t\tnextAvailablePanel = panel;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (nextAvailablePanel) {\n\t\t\t\tcontainer?.setProperty(\"selectedKey\", nextAvailablePanel.getProperty(\"key\"));\n\t\t\t\tToDosContainer.cardCount = this._cardCount;\n\t\t\t\tawait nextAvailablePanel._loadCards(true);\n\t\t\t\tToDosContainer.cardCount = undefined;\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Handles the press event to view all items.\n\t *\n\t * @private\n\t */\n\tpublic _onPressViewAll() {\n\t\tURLHelper.redirect(this.getTargetAppUrl(), false);\n\t}\n\n\t/**\n\t * Retrieves the count of cards in the panel.\n\t *\n\t * @private\n\t * @returns {number} The number of cards.\n\t */\n\tpublic _getCardCount(): number {\n\t\treturn Number(this._oData.length);\n\t}\n\n\t/**\n\t * Handles actions to be performed before the To-Dos panel is expanded.\n\t * If the panel has not been expanded before in full screen, the cards will be loaded once.\n\t *\n\t * @private\n\t */\n\tprivate async _beforePanelExpand() {\n\t\tif (!this._oData.isExpandedOnce) {\n\t\t\tthis._oData.isExpandedOnce = true;\n\t\t\tawait this._loadCards(true);\n\t\t}\n\t}\n}\n"],"mappings":"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","ignoreList":[],"sourceRoot":""}},{"offset":{"line":339,"column":0},"map":{"version":3,"file":"ToDosContainer.js","names":["sap","ui","define","Log","Container","__BaseContainer","___utils_Device","_interopRequireDefault","obj","__esModule","default","_catch","body","recover","result","e","then","BaseContainer","_iteratorSymbol","Symbol","iterator","_settle","pact","state","value","s","_Pact","v","o","bind","observer","prototype","onFulfilled","onRejected","this","callback","_this","_isSettledPact","thenable","_forTo","array","check","i","reject","_cycle","length","DeviceType","_forOf","target","step","next","done","return","_fixup","TypeError","values","push","ToDosContainer","extend","renderer","apiVersion","metadata","library","properties","fullScreenName","type","group","defaultValue","visibility","constructor","_constructor","id","settings","BaseContainer.prototype.constructor.call","init","_init","BaseContainer.prototype.init.call","setProperty","_i18nBundle","getText","addStyleClass","_isAuthCheckRequired","onBeforeRendering","_onBeforeRendering","BaseContainer.prototype.onBeforeRendering.call","_iconTabBarControl","_getInnerControl","_temp2","Promise","resolve","_performAuthCheck","panels","getContent","unsupportedPanels","filter","panel","_getSupported","_temp","_handleToDoUnauthorizedAccess","isOnePanelSupported","toggleStyleClass","_loadAllPanels","error","_this2","getServiceAsync","navigationService","intents","map","_getAppIntent","isNavigationSupported","_navigationService$is","responses","forEach","index","_setSupported","supported","oError","message","removeContent","setVisible","forceRefresh","_this3","selectedKey","getProperty","sortedPanels","sort","firstPanel","secondPanel","_temp3","_isLoaded","_loadCards","_onPanelSelect","event","_this4","_temp5","selectedPanel","_updateRefreshInformation","BaseContainer.prototype._onPanelSelect.call","_getSelectedPanel","_temp4","refreshData","_refreshData","_this5","_setLoaded","getSelectedKey","_getSelectedKey","_getDefaultKey","adjustLayout","_adjustLayout","toggleActionButtons","getDeviceType","Mobile"],"sources":["ToDosContainer.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\n\nimport Log from \"sap/base/Log\";\nimport IconTabBar from \"sap/m/IconTabBar\";\nimport Event from \"sap/ui/base/Event\";\nimport { MetadataOptions } from \"sap/ui/core/Element\";\nimport Container from \"sap/ushell/Container\";\nimport Navigation from \"sap/ushell/services/Navigation\";\nimport BaseContainer, { $BaseContainerSettings } from \"./BaseContainer\";\nimport ToDoPanel, { Intent } from \"./ToDoPanel\";\nimport { DeviceType } from \"./utils/Device\";\n\n/**\n *\n * Container class for managing and storing To-Do cards.\n *\n * @extends BaseContainer\n *\n * @author SAP SE\n * @version 0.0.1\n * @since 1.121\n *\n * @internal\n * @experimental Since 1.121\n * @public\n *\n * @alias sap.cux.home.ToDosContainer\n */\nexport default class ToDosContainer extends BaseContainer {\n\tprivate _isAuthCheckRequired!: boolean;\n\tprivate _iconTabBarControl!: IconTabBar;\n\n\tstatic cardCount: number | undefined;\n\tstatic readonly metadata: MetadataOptions = {\n\t\tlibrary: \"sap.cux.home\",\n\t\tproperties: {\n\t\t\tfullScreenName: { type: \"string\", group: \"Misc\", defaultValue: \"ST1\", visibility: \"hidden\" }\n\t\t}\n\t};\n\tstatic renderer = {\n\t\t...BaseContainer.renderer,\n\t\tapiVersion: 2\n\t};\n\n\t/**\n\t * Constructor for a new To-Dos container.\n\t *\n\t * @param {string} [id] ID for the new control, generated automatically if an ID is not provided\n\t * @param {object} [settings] Initial settings for the new control\n\t */\n\tpublic constructor(id?: string, settings?: $BaseContainerSettings) {\n\t\tsuper(id, settings);\n\t}\n\n\t/**\n\t * Init lifecycle method\n\t *\n\t * @private\n\t * @override\n\t */\n\tpublic init(): void {\n\t\tsuper.init();\n\n\t\t//Update Container Title\n\t\tthis.setProperty(\"title\", this._i18nBundle?.getText(\"toDosTitle\"));\n\t\tthis.addStyleClass(\"sapCuxToDosContainer\");\n\t\tthis._isAuthCheckRequired = true;\n\t}\n\n\t/**\n\t * onBeforeRendering lifecycle method\n\t *\n\t * @private\n\t * @override\n\t */\n\tpublic async onBeforeRendering(): Promise<void> {\n\t\tsuper.onBeforeRendering();\n\t\tthis._iconTabBarControl = this._getInnerControl() as IconTabBar;\n\n\t\t//initiate loading of all cards after auth check\n\t\ttry {\n\t\t\tawait this._performAuthCheck();\n\n\t\t\tconst panels = (this.getContent() as ToDoPanel[]) || [];\n\t\t\tconst unsupportedPanels = panels.filter((panel) => !panel._getSupported());\n\n\t\t\tif (unsupportedPanels.length === panels.length) {\n\t\t\t\tthis._handleToDoUnauthorizedAccess();\n\t\t\t} else {\n\t\t\t\t// Hide IconTabBar header if only one panel is accessible\n\t\t\t\tconst isOnePanelSupported = panels.length - unsupportedPanels.length === 1;\n\t\t\t\tthis._iconTabBarControl?.toggleStyleClass(\"sapUiITBHide\", isOnePanelSupported);\n\t\t\t\tawait this._loadAllPanels();\n\t\t\t}\n\t\t} catch (error) {\n\t\t\tthis._handleToDoUnauthorizedAccess(error as Error);\n\t\t}\n\t}\n\n\t/**\n\t * Performs an authorization check for the ToDosContainer.\n\t * Checks if the authorization check is required and updates panel support accordingly.\n\t *\n\t * @private\n\t * @async\n\t * @returns {Promise<void>} A Promise that resolves when the authorization check is completed.\n\t * @throws {Error} If an error occurs during the authorization check.\n\t */\n\tprivate async _performAuthCheck(): Promise<void> {\n\t\ttry {\n\t\t\tif (!this._isAuthCheckRequired) {\n\t\t\t\treturn Promise.resolve();\n\t\t\t} else {\n\t\t\t\tconst navigationService = await Container.getServiceAsync<Navigation>(\"Navigation\");\n\t\t\t\tconst panels = (this.getContent() as ToDoPanel[]) || [];\n\t\t\t\tconst intents = panels.map((panel) => panel._getAppIntent()) as Intent[];\n\t\t\t\tconst responses = (await navigationService.isNavigationSupported(intents)) as { supported: boolean }[];\n\n\t\t\t\t//Update panel support information\n\t\t\t\tpanels.forEach((panel, index) => panel._setSupported(responses[index].supported));\n\t\t\t\tthis._isAuthCheckRequired = false;\n\t\t\t\treturn Promise.resolve();\n\t\t\t}\n\t\t} catch (oError) {\n\t\t\treturn Promise.reject(oError as Error);\n\t\t}\n\t}\n\n\t/**\n\t * Handles unauthorized access to the ToDosContainer by hiding all inner controls\n\t *\n\t * @private\n\t * @param {Error} error - An optional custom error message or an Error object.\n\t */\n\tprivate _handleToDoUnauthorizedAccess(error?: Error): void {\n\t\t//Remove all Inner Controls\n\t\tLog.error(error?.message || \"User has no access to any available panels\");\n\t\t(this.getContent() as ToDoPanel[])?.forEach((panel) => this.removeContent(panel));\n\t\tthis.setVisible(false);\n\t}\n\n\t/**\n\t * Asynchronously loads all panels, ensuring the currently selected panel is loaded first.\n\t *\n\t * @private\n\t * @async\n\t * @param {boolean} forceRefresh - force refresh cards\n\t * @returns {Promise<void>} A promise that resolves when all panels are loaded.\n\t */\n\tprivate async _loadAllPanels(forceRefresh?: boolean): Promise<void> {\n\t\t//Sort panels so that the current panel is always loaded first\n\t\tconst selectedKey = this.getProperty(\"selectedKey\") as string;\n\t\tconst panels = (this.getContent() as ToDoPanel[]) || [];\n\t\tconst sortedPanels = [...panels].sort((firstPanel, secondPanel) => {\n\t\t\tif (firstPanel.getProperty(\"key\") === selectedKey) {\n\t\t\t\treturn -1;\n\t\t\t}\n\t\t\tif (secondPanel.getProperty(\"key\") === selectedKey) {\n\t\t\t\treturn 1;\n\t\t\t}\n\t\t\treturn 0;\n\t\t});\n\n\t\tfor (const panel of sortedPanels) {\n\t\t\tif (!panel._isLoaded?.()) {\n\t\t\t\tawait panel._loadCards(forceRefresh);\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Overridden method for selection of panel in the IconTabBar.\n\t * Loads the selected panel and updates the header elements as well\n\t *\n\t * @private\n\t * @async\n\t * @override\n\t */\n\tprotected async _onPanelSelect(event: Event): Promise<void> {\n\t\tsuper._onPanelSelect(event);\n\n\t\t//load panel if not loaded already\n\t\tconst selectedPanel = this._getSelectedPanel() as ToDoPanel;\n\t\tif (!selectedPanel._isLoaded()) {\n\t\t\tawait selectedPanel._loadCards(true);\n\t\t}\n\n\t\t//updates refresh information of the selected panel\n\t\tselectedPanel._updateRefreshInformation();\n\t}\n\n\t/**\n\t * Asynchronously refreshes the section by forcing all inner panels to be reloaded.\n\t *\n\t * @public\n\t * @async\n\t * @returns {Promise<void>} A promise that resolves when the section is successfully refreshed.\n\t */\n\tpublic async refreshData(): Promise<void> {\n\t\t//Force all inner panels to be reloaded\n\t\t(this.getContent() as ToDoPanel[])?.forEach((panel) => panel._setLoaded(false));\n\t\treturn await this._loadAllPanels(true);\n\t}\n\n\t/**\n\t * Gets the selected key of the To-Dos container.\n\t * If no selected key is set, it defaults to the first item.\n\t *\n\t * @public\n\t * @returns {string} The selected key.\n\t */\n\tpublic getSelectedKey(): string {\n\t\t//Default selected key to first item, if null\n\t\tif (!this.getProperty(\"selectedKey\")) {\n\t\t\tthis.setProperty(\"selectedKey\", this._getDefaultKey());\n\t\t}\n\n\t\treturn this.getProperty(\"selectedKey\") as string;\n\t}\n\n\t/**\n\t * Gets the default key for the ToDosContainer by returning the key of the first panel\n\t *\n\t * @private\n\t * @returns {string} The default key if it exists, or null if there are no panels\n\t */\n\tprivate _getDefaultKey(): string {\n\t\treturn this.getContent()?.[0]?.getProperty(\"key\") as string;\n\t}\n\n\t/**\n\t * Adjusts the layout of the all panels in the container.\n\t *\n\t * @private\n\t * @override\n\t */\n\tpublic adjustLayout() {\n\t\t//hide actions if the device is a phone\n\t\tthis.toggleActionButtons(this.getDeviceType() !== DeviceType.Mobile);\n\n\t\t//adjust layout of all panels\n\t\t(this.getContent() as ToDoPanel[])?.forEach((panel) => panel._adjustLayout());\n\t}\n}\n"],"mappings":"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","ignoreList":[],"sourceRoot":""}},{"offset":{"line":346,"column":0},"map":{"version":3,"file":"LayoutHandler.js","names":["sap","ui","define","LayoutHandler","allChanges","loadPersonalizationDialog","oWrapperControl","mPropertyBag","Promise","resolve","this","persDialogResolve","keyuserPersDialog","getAggregation","addStyleClass","styleClass","open","onCancelDialog","close","addChanges","aChanges","push","clearChanges","layoutHandler"],"sources":["LayoutHandler.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\n\nimport Dialog from \"sap/m/Dialog\";\nimport Control from \"sap/ui/core/Control\";\n\nclass LayoutHandler {\n\tprivate keyuserPersDialog!: Dialog;\n\tprivate persDialogResolve!: (value: unknown) => void;\n\tprivate allChanges: Array<unknown> = [];\n\n\tpublic loadPersonalizationDialog(oWrapperControl: Control, mPropertyBag: Record<string, unknown>) {\n\t\treturn new Promise((resolve) => {\n\t\t\tthis.persDialogResolve = resolve;\n\t\t\tthis.keyuserPersDialog = oWrapperControl.getAggregation(\"keyUserSettingsDialog\") as Dialog;\n\t\t\t// Add RTA Class and show dialog\n\t\t\tthis.keyuserPersDialog.addStyleClass(mPropertyBag.styleClass as string);\n\n\t\t\t// Open the dialog\n\t\t\tthis.keyuserPersDialog.open();\n\t\t});\n\t}\n\n\tpublic onCancelDialog() {\n\t\tthis.keyuserPersDialog.close();\n\t}\n\n\tpublic addChanges(aChanges: Array<unknown>) {\n\t\tthis.allChanges.push(...aChanges);\n\t}\n\n\tpublic clearChanges() {\n\t\tthis.allChanges = [];\n\t}\n\n\tpublic resolve() {\n\t\tthis.persDialogResolve(this.allChanges);\n\t}\n}\n\nconst layoutHandler = new LayoutHandler();\n\nexport default layoutHandler;\n"],"mappings":"AAAA;;;;AAAA,aAAAA,IAAAC,GAAAC,OAAA,2BAQA,MAAMC,EAGGC,WAA6B,GAE9BC,0BAA0BC,EAA0BC,GAC1D,OAAO,IAAIC,QAASC,IACnBC,KAAKC,kBAAoBF,EACzBC,KAAKE,kBAAoBN,EAAgBO,eAAe,yBAExDH,KAAKE,kBAAkBE,cAAcP,EAAaQ,YAGlDL,KAAKE,kBAAkBI,QAEzB,CAEOC,iBACNP,KAAKE,kBAAkBM,OACxB,CAEOC,WAAWC,GACjBV,KAAKN,WAAWiB,QAAQD,EACzB,CAEOE,eACNZ,KAAKN,WAAa,EACnB,CAEOK,UACNC,KAAKC,kBAAkBD,KAAKN,WAC7B,EAGD,MAAMmB,EAAgB,IAAIpB,EAAgB,OAE3BoB,CAAa","ignoreList":[],"sourceRoot":"changeHandler"}},{"offset":{"line":353,"column":0},"map":{"version":3,"file":"NewsFeedVisibilityChange.js","names":["sap","ui","define","CondenserClassification","getContainer","control","getMetadata","getName","getItems","find","item","debounceTimeout","NewsFeedVisibilityChange","applyChange","change","container","clearTimeout","setTimeout","newsVisibilityChangeHandler","getContent","revertChange","isNewsFeedVisible","completeChangeContent","getCondenserInfo","affectedControl","getSelector","classification","LastOneWins","uniqueKey"],"sources":["NewsFeedVisibilityChange.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\n\nimport Control from \"sap/ui/core/Control\";\nimport CondenserClassification from \"sap/ui/fl/changeHandler/condenser/Classification\";\nimport BaseLayout from \"../BaseLayout\";\nimport { IKeyUserChangeObject, INewsFeedVisibiliyChange } from \"../interface/KeyUserInterface\";\nimport NewsAndPagesContainer from \"../NewsAndPagesContainer\";\n\nfunction getContainer(control: Control): NewsAndPagesContainer {\n\tif (control.getMetadata().getName() === \"sap.cux.home.NewsAndPagesContainer\") {\n\t\treturn control as NewsAndPagesContainer;\n\t}\n\treturn (control as BaseLayout)\n\t\t.getItems()\n\t\t.find((item) => item.getMetadata().getName() === \"sap.cux.home.NewsAndPagesContainer\") as NewsAndPagesContainer;\n}\nlet debounceTimeout: ReturnType<typeof setTimeout> | null = null;\n\nconst NewsFeedVisibilityChange = {\n\tapplyChange: (change: IKeyUserChangeObject, control: Control) => {\n\t\tconst container = getContainer(control);\n\n\t\t// Debounce the newsPersonalization call\n\t\tif (debounceTimeout) {\n\t\t\tclearTimeout(debounceTimeout);\n\t\t}\n\n\t\tdebounceTimeout = setTimeout(() => {\n\t\t\tcontainer?.newsVisibilityChangeHandler(change.getContent());\n\t\t}, 0);\n\n\t\treturn true;\n\t},\n\trevertChange: (change: IKeyUserChangeObject, control: Control) => {\n\t\tconst container = getContainer(control);\n\t\tlet revertChange = change.getContent() as INewsFeedVisibiliyChange;\n\t\trevertChange.isNewsFeedVisible = !revertChange.isNewsFeedVisible;\n\t\tcontainer?.newsVisibilityChangeHandler(revertChange);\n\t},\n\tcompleteChangeContent: () => {\n\t\treturn;\n\t},\n\tgetCondenserInfo: (change: IKeyUserChangeObject) => {\n\t\treturn {\n\t\t\taffectedControl: change.getSelector(),\n\t\t\tclassification: (CondenserClassification as { LastOneWins: string }).LastOneWins,\n\t\t\tuniqueKey: \"newsFeedVisibility\"\n\t\t};\n\t}\n};\n\nexport default NewsFeedVisibilityChange;\n"],"mappings":"AAAA;;;;AAAA,aAAAA,IAAAC,GAAAC,OAAA,8DAAAC,GAAA,aAWA,SAASC,EAAaC,GACrB,GAAIA,EAAQC,cAAcC,YAAc,qCAAsC,CAC7E,OAAOF,CACR,CACA,OAAQA,EACNG,WACAC,KAAMC,GAASA,EAAKJ,cAAcC,YAAc,qCACnD,CACA,IAAII,EAAwD,KAE5D,MAAMC,EAA2B,CAChCC,YAAaA,CAACC,EAA8BT,KAC3C,MAAMU,EAAYX,EAAaC,GAG/B,GAAIM,EAAiB,CACpBK,aAAaL,EACd,CAEAA,EAAkBM,WAAW,KAC5BF,GAAWG,4BAA4BJ,EAAOK,eAC5C,GAEH,OAAO,MAERC,aAAcA,CAACN,EAA8BT,KAC5C,MAAMU,EAAYX,EAAaC,GAC/B,IAAIe,EAAeN,EAAOK,aAC1BC,EAAaC,mBAAqBD,EAAaC,kBAC/CN,GAAWG,4BAA4BE,IAExCE,sBAAuBA,OAGvBC,iBAAmBT,KAEjBU,gBAAiBV,EAAOW,cACxBC,eAAiBvB,EAAoDwB,YACrEC,UAAW,wBAGZ,OAEahB,CAAwB","ignoreList":[],"sourceRoot":"changeHandler"}},{"offset":{"line":360,"column":0},"map":{"version":3,"file":"SetNewsFeedUrl.js","names":["sap","ui","define","CondenserClassification","getContainer","control","getMetadata","getName","getItems","find","item","debounceTimeout","SetNewsFeedUrl","applyChange","change","container","clearTimeout","setTimeout","newsPersonalization","getContent","revertChange","revertChanges","newsFeedURL","oldNewsFeedUrl","showCustomNewsFeed","oldShowCustomNewsFeed","customNewsFeedKey","oldCustomNewsFeedKey","completeChangeContent","getCondenserInfo","affectedControl","getSelector","classification","LastOneWins","uniqueKey"],"sources":["SetNewsFeedUrl.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\n\nimport Control from \"sap/ui/core/Control\";\nimport CondenserClassification from \"sap/ui/fl/changeHandler/condenser/Classification\";\nimport BaseLayout from \"../BaseLayout\";\nimport { IKeyUserChangeObject, INewsPersData } from \"../interface/KeyUserInterface\";\nimport NewsAndPagesContainer from \"../NewsAndPagesContainer\";\n\nfunction getContainer(control: Control): NewsAndPagesContainer {\n\tif (control.getMetadata().getName() === \"sap.cux.home.NewsAndPagesContainer\") {\n\t\treturn control as NewsAndPagesContainer;\n\t}\n\treturn (control as BaseLayout)\n\t\t.getItems()\n\t\t.find((item) => item.getMetadata().getName() === \"sap.cux.home.NewsAndPagesContainer\") as NewsAndPagesContainer;\n}\nlet debounceTimeout: ReturnType<typeof setTimeout> | null = null;\n\nconst SetNewsFeedUrl = {\n\tapplyChange: (change: IKeyUserChangeObject, control: Control) => {\n\t\tconst container = getContainer(control);\n\n\t\t// Debounce the newsPersonalization call\n\t\tif (debounceTimeout) {\n\t\t\tclearTimeout(debounceTimeout);\n\t\t}\n\n\t\tdebounceTimeout = setTimeout(() => {\n\t\t\tcontainer?.newsPersonalization(change.getContent());\n\t\t}, 0);\n\n\t\treturn true;\n\t},\n\trevertChange: (change: IKeyUserChangeObject, control: Control) => {\n\t\tconst container = getContainer(control);\n\t\tlet revertChanges = change.getContent() as INewsPersData;\n\t\trevertChanges.newsFeedURL = revertChanges.oldNewsFeedUrl;\n\t\trevertChanges.showCustomNewsFeed = revertChanges.oldShowCustomNewsFeed;\n\t\trevertChanges.customNewsFeedKey = revertChanges.oldCustomNewsFeedKey;\n\t\tcontainer?.newsPersonalization(revertChanges);\n\t},\n\tcompleteChangeContent: () => {\n\t\treturn;\n\t},\n\tgetCondenserInfo: (change: IKeyUserChangeObject) => {\n\t\treturn {\n\t\t\taffectedControl: change.getSelector(),\n\t\t\tclassification: (CondenserClassification as { LastOneWins: string }).LastOneWins,\n\t\t\tuniqueKey: \"newsFeedUrl\"\n\t\t};\n\t}\n};\n\nexport default SetNewsFeedUrl;\n"],"mappings":"AAAA;;;;AAAA,aAAAA,IAAAC,GAAAC,OAAA,8DAAAC,GAAA,aAWA,SAASC,EAAaC,GACrB,GAAIA,EAAQC,cAAcC,YAAc,qCAAsC,CAC7E,OAAOF,CACR,CACA,OAAQA,EACNG,WACAC,KAAMC,GAASA,EAAKJ,cAAcC,YAAc,qCACnD,CACA,IAAII,EAAwD,KAE5D,MAAMC,EAAiB,CACtBC,YAAaA,CAACC,EAA8BT,KAC3C,MAAMU,EAAYX,EAAaC,GAG/B,GAAIM,EAAiB,CACpBK,aAAaL,EACd,CAEAA,EAAkBM,WAAW,KAC5BF,GAAWG,oBAAoBJ,EAAOK,eACpC,GAEH,OAAO,MAERC,aAAcA,CAACN,EAA8BT,KAC5C,MAAMU,EAAYX,EAAaC,GAC/B,IAAIgB,EAAgBP,EAAOK,aAC3BE,EAAcC,YAAcD,EAAcE,eAC1CF,EAAcG,mBAAqBH,EAAcI,sBACjDJ,EAAcK,kBAAoBL,EAAcM,qBAChDZ,GAAWG,oBAAoBG,IAEhCO,sBAAuBA,OAGvBC,iBAAmBf,KAEjBgB,gBAAiBhB,EAAOiB,cACxBC,eAAiB7B,EAAoD8B,YACrEC,UAAW,iBAGZ,OAEatB,CAAc","ignoreList":[],"sourceRoot":"changeHandler"}},{"offset":{"line":367,"column":0},"map":{"version":3,"file":"SpacePageColorHandler.js","names":["sap","ui","define","CondenserClassification","getNewsPageContainer","control","getItems","find","item","getMetadata","getName","SpacePageColorHandler","applyChange","change","container","setColorPersonalizations","getContent","revertChange","forEach","changeContent","BGColor","oldColor","applyColorToAllPages","oldApplyColorToAllPages","completeChangeContent","getCondenserInfo","affectedControl","getSelector","classification","LastOneWins","uniqueKey","spaceId","pageId"],"sources":["SpacePageColorHandler.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\n\nimport Control from \"sap/ui/core/Control\";\nimport CondenserClassification from \"sap/ui/fl/changeHandler/condenser/Classification\";\nimport BaseLayout from \"../BaseLayout\";\nimport { IKeyUserChangeObject, ISpacePagePersonalization } from \"../interface/KeyUserInterface\";\nimport NewsAndPagesContainer from \"../NewsAndPagesContainer\";\n\nfunction getNewsPageContainer(control: Control): NewsAndPagesContainer {\n\treturn (control as BaseLayout)\n\t\t.getItems()\n\t\t.find((item) => item.getMetadata().getName() === \"sap.cux.home.NewsAndPagesContainer\") as NewsAndPagesContainer;\n}\n\nconst SpacePageColorHandler = {\n\tapplyChange: (change: IKeyUserChangeObject, control: Control) => {\n\t\tconst container = getNewsPageContainer(control);\n\t\tcontainer?.setColorPersonalizations(change.getContent());\n\t\treturn true;\n\t},\n\trevertChange: (change: IKeyUserChangeObject, control: Control) => {\n\t\tconst revertChange = change.getContent() as ISpacePagePersonalization[];\n\t\trevertChange.forEach((changeContent) => {\n\t\t\tchangeContent.BGColor = changeContent.oldColor;\n\t\t\tchangeContent.applyColorToAllPages = changeContent.oldApplyColorToAllPages;\n\t\t});\n\t\tconst container = getNewsPageContainer(control);\n\t\tcontainer?.setColorPersonalizations(revertChange);\n\t},\n\tcompleteChangeContent: () => {\n\t\treturn;\n\t},\n\tgetCondenserInfo: (change: IKeyUserChangeObject) => {\n\t\tconst changeContent = change.getContent() as ISpacePagePersonalization;\n\t\treturn {\n\t\t\taffectedControl: change.getSelector(),\n\t\t\tclassification: (CondenserClassification as { LastOneWins: string }).LastOneWins,\n\t\t\tuniqueKey: changeContent.spaceId + (changeContent.pageId || \"\") + \"_color\"\n\t\t};\n\t}\n};\n\nexport default SpacePageColorHandler;\n"],"mappings":"AAAA;;;;AAAA,aAAAA,IAAAC,GAAAC,OAAA,8DAAAC,GAAA,aAWA,SAASC,EAAqBC,GAC7B,OAAQA,EACNC,WACAC,KAAMC,GAASA,EAAKC,cAAcC,YAAc,qCACnD,CAEA,MAAMC,EAAwB,CAC7BC,YAAaA,CAACC,EAA8BR,KAC3C,MAAMS,EAAYV,EAAqBC,GACvCS,GAAWC,yBAAyBF,EAAOG,cAC3C,OAAO,MAERC,aAAcA,CAACJ,EAA8BR,KAC5C,MAAMY,EAAeJ,EAAOG,aAC5BC,EAAaC,QAASC,IACrBA,EAAcC,QAAUD,EAAcE,SACtCF,EAAcG,qBAAuBH,EAAcI,0BAEpD,MAAMT,EAAYV,EAAqBC,GACvCS,GAAWC,yBAAyBE,IAErCO,sBAAuBA,OAGvBC,iBAAmBZ,IAClB,MAAMM,EAAgBN,EAAOG,aAC7B,MAAO,CACNU,gBAAiBb,EAAOc,cACxBC,eAAiBzB,EAAoD0B,YACrEC,UAAWX,EAAcY,SAAWZ,EAAca,QAAU,IAAM,YAGnE,OAEarB,CAAqB","ignoreList":[],"sourceRoot":"changeHandler"}},{"offset":{"line":374,"column":0},"map":{"version":3,"file":"SpacePageIconHandler.js","names":["sap","ui","define","CondenserClassification","getContainer","control","getMetadata","getName","getItems","find","item","SpacePageIconHandler","applyChange","change","container","setIconPersonalizations","getContent","revertChange","forEach","changeContent","icon","oldIcon","completeChangeContent","getCondenserInfo","affectedControl","getSelector","classification","LastOneWins","uniqueKey","spaceId","pageId"],"sources":["SpacePageIconHandler.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\n\nimport Control from \"sap/ui/core/Control\";\nimport CondenserClassification from \"sap/ui/fl/changeHandler/condenser/Classification\";\nimport BaseLayout from \"../BaseLayout\";\nimport { IKeyUserChangeObject, ISpacePagePersonalization } from \"../interface/KeyUserInterface\";\nimport NewsAndPagesContainer from \"../NewsAndPagesContainer\";\n\nfunction getContainer(control: Control): NewsAndPagesContainer {\n\tif (control.getMetadata().getName() === \"sap.cux.home.NewsAndPagesContainer\") {\n\t\treturn control as NewsAndPagesContainer;\n\t}\n\treturn (control as BaseLayout)\n\t\t.getItems()\n\t\t.find((item) => item.getMetadata().getName() === \"sap.cux.home.NewsAndPagesContainer\") as NewsAndPagesContainer;\n}\n\nconst SpacePageIconHandler = {\n\tapplyChange: (change: IKeyUserChangeObject, control: Control) => {\n\t\tconst container = getContainer(control);\n\t\tcontainer?.setIconPersonalizations(change.getContent());\n\t\treturn true;\n\t},\n\trevertChange: (change: IKeyUserChangeObject, control: Control) => {\n\t\tconst revertChange = change.getContent() as ISpacePagePersonalization[];\n\t\trevertChange.forEach((changeContent) => {\n\t\t\tchangeContent.icon = changeContent.oldIcon;\n\t\t});\n\t\tconst container = getContainer(control);\n\t\tcontainer?.setIconPersonalizations(revertChange);\n\t},\n\tcompleteChangeContent: () => {\n\t\treturn;\n\t},\n\tgetCondenserInfo: (change: IKeyUserChangeObject) => {\n\t\tconst changeContent = change.getContent() as ISpacePagePersonalization;\n\t\treturn {\n\t\t\taffectedControl: change.getSelector(),\n\t\t\tclassification: (CondenserClassification as { LastOneWins: string }).LastOneWins,\n\t\t\tuniqueKey: changeContent.spaceId + (changeContent.pageId || \"\") + \"_icon\"\n\t\t};\n\t}\n};\n\nexport default SpacePageIconHandler;\n"],"mappings":"AAAA;;;;AAAA,aAAAA,IAAAC,GAAAC,OAAA,8DAAAC,GAAA,aAWA,SAASC,EAAaC,GACrB,GAAIA,EAAQC,cAAcC,YAAc,qCAAsC,CAC7E,OAAOF,CACR,CACA,OAAQA,EACNG,WACAC,KAAMC,GAASA,EAAKJ,cAAcC,YAAc,qCACnD,CAEA,MAAMI,EAAuB,CAC5BC,YAAaA,CAACC,EAA8BR,KAC3C,MAAMS,EAAYV,EAAaC,GAC/BS,GAAWC,wBAAwBF,EAAOG,cAC1C,OAAO,MAERC,aAAcA,CAACJ,EAA8BR,KAC5C,MAAMY,EAAeJ,EAAOG,aAC5BC,EAAaC,QAASC,IACrBA,EAAcC,KAAOD,EAAcE,UAEpC,MAAMP,EAAYV,EAAaC,GAC/BS,GAAWC,wBAAwBE,IAEpCK,sBAAuBA,OAGvBC,iBAAmBV,IAClB,MAAMM,EAAgBN,EAAOG,aAC7B,MAAO,CACNQ,gBAAiBX,EAAOY,cACxBC,eAAiBvB,EAAoDwB,YACrEC,UAAWT,EAAcU,SAAWV,EAAcW,QAAU,IAAM,WAGnE,OAEanB,CAAoB","ignoreList":[],"sourceRoot":"changeHandler"}},{"offset":{"line":381,"column":0},"map":{"version":3,"file":"BaseContainer.flexibility.js","names":["sap","ui","define","HideControl","UnHideControl","Action","resetLayoutSections","changeType","action","change","control","propertyBag","genericChange","Promise","resolve","then","getParent","resetSections","e","reject","__exports","hideControl","layers","USER","changeHandler","applyChange","revertChange","unhideControl"],"sources":["BaseContainer.flexibility.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\n\nimport HideControl from \"sap/ui/fl/changeHandler/HideControl\";\nimport UnHideControl from \"sap/ui/fl/changeHandler/UnhideControl\";\nimport BaseContainer from \"../BaseContainer\";\nimport { IKeyUserChange } from \"../interface/KeyUserInterface\";\nimport Layout from \"../Layout\";\n\nenum Action {\n\tapplyChange = \"applyChange\",\n\trevertChange = \"revertChange\"\n}\n\ntype ChangeHandler = {\n\tapplyChange: (change: IKeyUserChange, control: BaseContainer, propertyBag: object) => Promise<void>;\n\trevertChange: (change: IKeyUserChange, control: BaseContainer, propertyBag: object) => Promise<void>;\n};\n\nconst resetLayoutSections = async (\n\tchangeType: ChangeHandler,\n\taction: Action,\n\tchange: IKeyUserChange,\n\tcontrol: BaseContainer,\n\tpropertyBag: object\n) => {\n\tconst genericChange: ChangeHandler = changeType;\n\tawait genericChange[action](change, control, propertyBag);\n\n\t// Reset sections to update the layout\n\t(control.getParent() as Layout).resetSections?.();\n};\n\nexport default {\n\thideControl: {\n\t\tlayers: {\n\t\t\tUSER: true\n\t\t},\n\t\tchangeHandler: {\n\t\t\t...HideControl,\n\t\t\tapplyChange: async (change: IKeyUserChange, control: BaseContainer, propertyBag: object) => {\n\t\t\t\tawait resetLayoutSections(HideControl as ChangeHandler, Action.applyChange, change, control, propertyBag);\n\t\t\t},\n\t\t\trevertChange: async (change: IKeyUserChange, control: BaseContainer, propertyBag: object) => {\n\t\t\t\tawait resetLayoutSections(HideControl as ChangeHandler, Action.revertChange, change, control, propertyBag);\n\t\t\t}\n\t\t} as ChangeHandler\n\t},\n\tunhideControl: {\n\t\tlayers: {\n\t\t\tUSER: true\n\t\t},\n\t\tchangeHandler: {\n\t\t\t...UnHideControl,\n\t\t\tapplyChange: async (change: IKeyUserChange, control: BaseContainer, propertyBag: object) => {\n\t\t\t\tawait resetLayoutSections(UnHideControl as ChangeHandler, Action.applyChange, change, control, propertyBag);\n\t\t\t},\n\t\t\trevertChange: async (change: IKeyUserChange, control: BaseContainer, propertyBag: object) => {\n\t\t\t\tawait resetLayoutSections(UnHideControl as ChangeHandler, Action.revertChange, change, control, propertyBag);\n\t\t\t}\n\t\t} as ChangeHandler\n\t}\n};\n"],"mappings":"AAAA;;;;AAAA,aAAAA,IAAAC,GAAAC,OAAA,yFAAAC,EAAAC,GAAA,iBAWKC,EAAM,SAANA,KAAM,6BAANA,EAAM,sCAANA,CAAM,EAANA,GAAM,IAUX,MAAMC,EAAmB,SACxBC,EACAC,EACAC,EACAC,EACAC,GAAmB,IAEnB,MAAMC,EAA+BL,EAAW,OAAAM,QAAAC,QAC1CF,EAAcJ,GAAQC,EAAQC,EAASC,IAAYI,KAAA,WAGxDL,EAAQM,YAAuBC,iBAAkB,EACnD,CAAC,MAAAC,GAAA,OAAAL,QAAAM,OAAAD,EAAA,GAAC,IAAAE,EAEa,CACdC,YAAa,CACZC,OAAQ,CACPC,KAAM,MAEPC,cAAe,IACXrB,EACHsB,YAAW,SAAShB,EAAwBC,EAAwBC,GAAmB,IAAK,OAAAE,QAAAC,QACrFR,EAAoBH,EAA8BE,EAAOoB,YAAahB,EAAQC,EAASC,IAAYI,KAAA,aAC1G,CAAC,MAAAG,GAAA,OAAAL,QAAAM,OAAAD,EAAA,GACDQ,aAAY,SAASjB,EAAwBC,EAAwBC,GAAmB,IAAK,OAAAE,QAAAC,QACtFR,EAAoBH,EAA8BE,EAAOqB,aAAcjB,EAAQC,EAASC,IAAYI,KAAA,aAC3G,CAAC,MAAAG,GAAA,OAAAL,QAAAM,OAAAD,EAAA,KAGHS,cAAe,CACdL,OAAQ,CACPC,KAAM,MAEPC,cAAe,IACXpB,EACHqB,YAAW,SAAShB,EAAwBC,EAAwBC,GAAmB,IAAK,OAAAE,QAAAC,QACrFR,EAAoBF,EAAgCC,EAAOoB,YAAahB,EAAQC,EAASC,IAAYI,KAAA,aAC5G,CAAC,MAAAG,GAAA,OAAAL,QAAAM,OAAAD,EAAA,GACDQ,aAAY,SAASjB,EAAwBC,EAAwBC,GAAmB,IAAK,OAAAE,QAAAC,QACtFR,EAAoBF,EAAgCC,EAAOqB,aAAcjB,EAAQC,EAASC,IAAYI,KAAA,aAC7G,CAAC,MAAAG,GAAA,OAAAL,QAAAM,OAAAD,EAAA,MAGH,OAAAE,CAAA","ignoreList":[],"sourceRoot":"flexibility"}},{"offset":{"line":388,"column":0},"map":{"version":3,"file":"Layout.flexibility.js","names":["sap","ui","define","MoveControls","__newsFeedVisibilityChange","__setNewsFeedUrl","__spacePageColorHandler","__SpacePageIconHandler","_interopRequireDefault","obj","__esModule","default","newsFeedVisibilityChange","setNewsFeedUrl","spacePageColorHandler","SpacePageIconHandler","CHANGE_TYPES","__exports","MOVE","layers","USER","changeHandler","HIDE","UNHIDE","SPACE_COLOR","CUSTOMER","PAGE_COLOR","SPACE_ICON","PAGE_ICON","NEWS_FEED_URL","NEWS_FEED_VISIBILITY"],"sources":["Layout.flexibility.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\n\nimport MoveControls from \"sap/ui/fl/changeHandler/MoveControls\";\nimport newsFeedVisibilityChange from \"../changeHandler/NewsFeedVisibilityChange\";\nimport setNewsFeedUrl from \"../changeHandler/SetNewsFeedUrl\";\nimport spacePageColorHandler from \"../changeHandler/SpacePageColorHandler\";\nimport SpacePageIconHandler from \"../changeHandler/SpacePageIconHandler\";\n\nexport enum CHANGE_TYPES {\n\tHIDE = \"hideControl\",\n\tUNHIDE = \"unhideControl\",\n\tMOVE = \"moveControls\",\n\tPAGE_COLOR = \"applyPageColor\",\n\tSPACE_COLOR = \"applySpaceColor\",\n\tPAGE_ICON = \"applyPageIcon\",\n\tSPACE_ICON = \"applySpaceIcon\",\n\tNEWS_FEED_URL = \"changeNewsFeedURL\",\n\tNEWS_FEED_VISIBILITY = \"setNewsFeedVisibility\"\n}\n\nexport default {\n\t[CHANGE_TYPES.MOVE]: {\n\t\tlayers: {\n\t\t\tUSER: true\n\t\t},\n\t\tchangeHandler: MoveControls as object\n\t},\n\t[CHANGE_TYPES.HIDE]: \"default\",\n\t[CHANGE_TYPES.UNHIDE]: \"default\",\n\t[CHANGE_TYPES.SPACE_COLOR]: {\n\t\tlayers: {\n\t\t\tCUSTOMER: true\n\t\t},\n\t\tchangeHandler: spacePageColorHandler\n\t},\n\t[CHANGE_TYPES.PAGE_COLOR]: {\n\t\tlayers: {\n\t\t\tCUSTOMER: true\n\t\t},\n\t\tchangeHandler: spacePageColorHandler\n\t},\n\t[CHANGE_TYPES.SPACE_ICON]: {\n\t\tlayers: {\n\t\t\tCUSTOMER: true\n\t\t},\n\t\tchangeHandler: SpacePageIconHandler\n\t},\n\t[CHANGE_TYPES.PAGE_ICON]: {\n\t\tlayers: {\n\t\t\tCUSTOMER: true\n\t\t},\n\t\tchangeHandler: SpacePageIconHandler\n\t},\n\t[CHANGE_TYPES.NEWS_FEED_URL]: {\n\t\tlayers: {\n\t\t\tCUSTOMER: true\n\t\t},\n\t\tchangeHandler: setNewsFeedUrl\n\t},\n\t[CHANGE_TYPES.NEWS_FEED_VISIBILITY]: {\n\t\tlayers: {\n\t\t\tCUSTOMER: true\n\t\t},\n\t\tchangeHandler: newsFeedVisibilityChange\n\t}\n};\n"],"mappings":"AAAA;;;;AAAA,aAAAA,IAAAC,GAAAC,OAAA,iNAAAC,EAAAC,EAAAC,EAAAC,EAAAC,GAAA,sBAAAC,EAAAC,GAAA,OAAAA,KAAAC,mBAAAD,EAAAE,UAAA,YAAAF,EAAAE,QAAAF,CAAA,OAMOG,EAAwBJ,EAAAJ,GAAA,MACxBS,EAAcL,EAAAH,GAAA,MACdS,EAAqBN,EAAAF,GAAA,MACrBS,EAAoBP,EAAAD,GAAA,IAEfS,EAAY,SAAZA,KAAY,sBAAZA,EAAY,0BAAZA,EAAY,uBAAZA,EAAY,+BAAZA,EAAY,iCAAZA,EAAY,6BAAZA,EAAY,+BAAZA,EAAY,qCAAZA,EAAY,uDAAZA,CAAY,EAAZA,GAAY,QAAAC,EAYT,CACd,CAACD,EAAaE,MAAO,CACpBC,OAAQ,CACPC,KAAM,MAEPC,cAAelB,GAEhB,CAACa,EAAaM,MAAO,UACrB,CAACN,EAAaO,QAAS,UACvB,CAACP,EAAaQ,aAAc,CAC3BL,OAAQ,CACPM,SAAU,MAEXJ,cAAeP,GAEhB,CAACE,EAAaU,YAAa,CAC1BP,OAAQ,CACPM,SAAU,MAEXJ,cAAeP,GAEhB,CAACE,EAAaW,YAAa,CAC1BR,OAAQ,CACPM,SAAU,MAEXJ,cAAeN,GAEhB,CAACC,EAAaY,WAAY,CACzBT,OAAQ,CACPM,SAAU,MAEXJ,cAAeN,GAEhB,CAACC,EAAaa,eAAgB,CAC7BV,OAAQ,CACPM,SAAU,MAEXJ,cAAeR,GAEhB,CAACG,EAAac,sBAAuB,CACpCX,OAAQ,CACPM,SAAU,MAEXJ,cAAeT,IAEhBK,EAAAD,eAAA,OAAAC,CAAA","ignoreList":[],"sourceRoot":"flexibility"}},{"offset":{"line":395,"column":0},"map":{"version":3,"file":"AppsInterface.js","names":[],"sources":[],"mappings":"AAAA","ignoreList":[],"sourceRoot":"interface"}},{"offset":{"line":398,"column":0},"map":{"version":3,"file":"CardsInterface.js","names":[],"sources":[],"mappings":"AAAA","ignoreList":[],"sourceRoot":"interface"}},{"offset":{"line":401,"column":0},"map":{"version":3,"file":"KeyUserInterface.js","names":[],"sources":[],"mappings":"AAAA","ignoreList":[],"sourceRoot":"interface"}},{"offset":{"line":404,"column":0},"map":{"version":3,"file":"LayoutInterface.js","names":[],"sources":[],"mappings":"AAAA","ignoreList":[],"sourceRoot":"interface"}},{"offset":{"line":407,"column":0},"map":{"version":3,"file":"PageSpaceInterface.js","names":[],"sources":[],"mappings":"AAAA","ignoreList":[],"sourceRoot":"interface"}},{"offset":{"line":410,"column":0},"map":{"version":3,"file":"library.js","names":["sap","ui","define","Lib","sap_ui_core_library","sap_ui_integration_library","cuxNamespace","cuxHomeNamespace","thisLib","init","apiVersion","name","version","dependencies","types","interfaces","controls","elements","noLibraryCSS","extensions","flChangeHandlers","LayoutType","NewsType"],"sources":["library.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\n\nimport Lib from \"sap/ui/core/Lib\";\nimport \"sap/ui/core/library\";\nimport \"sap/ui/integration/library\";\n\n/**\n * Root namespace for all the libraries related to Common User Experience.\n *\n * @namespace\n * @public\n * @since 1.121\n */\nexport const cuxNamespace = \"sap.cux\";\n\n/**\n * This is an SAPUI5 library with controls specialized for common user experience.\n *\n * @namespace\n * @public\n * @since 1.121\n */\nexport const cuxHomeNamespace = \"sap.cux.home\";\n\nconst thisLib = Lib.init({\n\tapiVersion: 2,\n\tname: \"sap.cux.home\",\n\tversion: \"0.0.1\",\n\tdependencies: [\"sap.ui.core\", \"sap.m\", \"sap.ui.integration\"],\n\ttypes: [\"sap.cux.home.LayoutType\", \"sap.cux.home.NewsType\"],\n\tinterfaces: [],\n\tcontrols: [\n\t\t\"sap.cux.home.Layout\",\n\t\t\"sap.cux.home.ToDosContainer\",\n\t\t\"sap.cux.home.NewsAndPagesContainer\",\n\t\t\"sap.cux.home.AppsContainer\",\n\t\t\"sap.cux.home.InsightsContainer\"\n\t],\n\telements: [\n\t\t\"sap.cux.home.MenuItem\",\n\t\t\"sap.cux.home.TaskPanel\",\n\t\t\"sap.cux.home.SituationPanel\",\n\t\t\"sap.cux.home.PagePanel\",\n\t\t\"sap.cux.home.NewsPanel\",\n\t\t\"sap.cux.home.FavAppPanel\",\n\t\t\"sap.cux.home.FrequentAppPanel\",\n\t\t\"sap.cux.home.RecentAppPanel\",\n\t\t\"sap.cux.home.RecommendedAppPanel\",\n\t\t\"sap.cux.home.TilesPanel\",\n\t\t\"sap.cux.home.CardsPanel\"\n\t],\n\tnoLibraryCSS: false,\n\textensions: {\n\t\tflChangeHandlers: {\n\t\t\t\"sap.cux.home.Layout\": \"sap/cux/home/flexibility/Layout\",\n\t\t\t\"sap.cux.home.ToDosContainer\": \"sap/cux/home/flexibility/BaseContainer\",\n\t\t\t\"sap.cux.home.NewsAndPagesContainer\": \"sap/cux/home/flexibility/BaseContainer\",\n\t\t\t\"sap.cux.home.InsightsContainer\": \"sap/cux/home/flexibility/BaseContainer\",\n\t\t\t\"sap.cux.home.AppsContainer\": \"sap/cux/home/flexibility/BaseContainer\"\n\t\t}\n\t}\n}) as { [key: string]: unknown };\n\n/**\n * Supported layout types for {@link sap.cux.home.BaseContainer}.\n *\n * @enum {string}\n * @public\n * @since 1.121\n * @experimental Since 1.121\n */\nexport enum LayoutType {\n\t/**\n\t * Panels are rendered side by side, for example To-Dos and Situaions, and Favorites, Recently Used and Frequently Used apps\n\t *\n\t * @public\n\t */\n\tSideBySide = \"SideBySide\",\n\n\t/**\n\t * Panels are rendered vertically, for example Insights Tiles and Insights Cards\n\t *\n\t * @public\n\t */\n\tVertical = \"Vertical\",\n\n\t/**\n\t * Panels are rendered horizontally, for example Pages and News\n\t *\n\t * @public\n\t */\n\tHorizontal = \"Horizontal\"\n}\nthisLib.LayoutType = LayoutType;\n\n/**\n * Supported News Types for {@link sap.cux.home.NewsPanel}.\n *\n * @enum {string}\n * @public\n * @since 1.121\n * @experimental Since 1.121\n */\nexport enum NewsType {\n\t/**\n\t * Url is of type RSS\n\t * @public\n\t */\n\tRSS = \"rss\",\n\n\t/**\n\t * Url is of type feed\n\t * @public\n\t */\n\tFeed = \"feed\",\n\n\t/**\n\t * News is of type custom news feed\n\t *\n\t * @public\n\t */\n\tCustom = \"customFeed\"\n}\nthisLib.NewsType = NewsType;\n\nexport default thisLib;\n"],"mappings":"AAAA;;;;AAAA,aAAAA,IAAAC,GAAAC,OAAA,gFAAAC,EAAAC,EAAAC,GAAA,aAgBO,MAAMC,EAAe,UASrB,MAAMC,EAAmB,eAEhC,MAAMC,EAAUL,EAAIM,KAAK,CACxBC,WAAY,EACZC,KAAM,eACNC,QAAS,QACTC,aAAc,CAAC,cAAe,QAAS,sBACvCC,MAAO,CAAC,0BAA2B,yBACnCC,WAAY,GACZC,SAAU,CACT,sBACA,8BACA,qCACA,6BACA,kCAEDC,SAAU,CACT,wBACA,yBACA,8BACA,yBACA,yBACA,2BACA,gCACA,8BACA,mCACA,0BACA,2BAEDC,aAAc,MACdC,WAAY,CACXC,iBAAkB,CACjB,sBAAuB,kCACvB,8BAA+B,yCAC/B,qCAAsC,yCACtC,iCAAkC,yCAClC,6BAA8B,6CAKjC,IAQYC,EAAU,SAAVA,KAAU,2BAAVA,EAAU,uBAAVA,EAAU,kCAAVA,CAAU,EAAVA,GAAU,IAsBtBb,EAAQa,WAAaA,EAErB,IAQYC,EAAQ,SAARA,KAAQ,aAARA,EAAQ,eAARA,EAAQ,8BAARA,CAAQ,EAARA,GAAQ,IAoBpBd,EAAQc,SAAWA,EAASd,EAAAF,eAAAE,EAAAD,mBAAA,OAEbC,CAAO","ignoreList":[],"sourceRoot":""}},{"offset":{"line":418,"column":0},"map":{"version":3,"file":"AppManager.js","names":["sap","ui","define","Log","Formatting","ResourceBundle","VersionInfo","BaseObject","ODataModelV2","Config","Container","___CardSkeleton","___Constants","__DataFormatUtils","__HttpHelper","_interopRequireDefault","obj","__esModule","default","_catch","body","recover","result","e","then","CardSkeleton","_iteratorSymbol","Symbol","iterator","_settle","pact","state","value","s","_Pact","v","o","bind","observer","prototype","onFulfilled","onRejected","this","callback","_this","_isSettledPact","thenable","_forTo","array","check","i","reject","_cycle","length","DEFAULT_BG_COLOR","_forOf","target","step","next","done","return","_fixup","TypeError","values","push","FALLBACK_ICON","FEATURE_TOGGLES","FEATURE_TOGGLE_SRVC_URL","MYHOME_PAGE_ID","MYHOME_SPACE_ID","MYINSIGHT_SECTION_ID","RECOMMENDATION_SRVC_URL","RECOMMENDED_CARD_LIMIT","DataFormatUtils","HttpHelper","CONSTANTS","MUST_INCLUDE_RECOMMEDED_APPS","_parseSBParameters","oParam","oParsedParams","JSON","parse","oError","error","Error","message","String","undefined","_getTileProperties","vizConfigFLP","oTileProperties","_instantiationData","chip","configuration","oConfig","tileConfiguration","oTileConfig","TILE_PROPERTIES","_getAppId","sAppId","semanticObject","action","semanticAction","_getTargetUrl","sTargetURL","evaluationId","_isSmartBusinessTile","oVisualization","vizType","startsWith","_getAppTitleSubTitle","oApp","oAppTileInfo","bags","sb_tileProperties","texts","title","subtitle","description","_linkDuplicateVizs","aVizs","forEach","oDuplicateViz","filter","oViz","appId","visualization","id","persConfig","sectionIndex","duplicateApps","_isGUIVisualization","parameters","_isMustIncludeRecommendation","recViz","fioriId","includes","_isVisualizationAlreadyAdded","favoriteVisualizations","some","favViz","AppManager","aRequestQueue","bInsightsSectionPresent","vizDataModified","constructor","super","getInstance","Instance","_fetchRequestFromQueue","bForceRefresh","Promise","resolve","getServiceAsync","oSpaceContentService","oPageLoadPromise","oRequestedPage","find","oRequest","pageId","getPage","pageLoadPromise","_fetchDynamicVizs","fetchFavVizs","aFavApps","oDynApp","isCount","isSmartBusinessTile","_getSections","arguments","_this2","oPage","aSections","sections","iRecentAppSectionIndex","findIndex","oSection","_temp2","_temp","_oMoveAppsPromise","moveSection","_fetchMyHomeVizs","_this3","iSectionIndex","visualizations","iVisualizationIndex","vizConfig","oVizInfo","oldAppId","targetURL","url","leanURL","getLeanURL","BGColor","key","isFav","isSection","icon","icons","indicatorDataSource","path","contentProviderId","sectionTitle","sectionId","visualizationIndex","isDefaultSection","isPresetSection","preset","_copyDynamicVizs","_this4","aDynamicVizs","all","map","oDynViz","addVisualization","vizId","bPreventGrouping","_this5","aMyHomeVizs","aVisibleFavVizs","_filterDuplicateVizs","_addGroupInformation","fetchInsightApps","sSectionTitle","_this6","_temp5","fnFetchInsightsApps","_temp4","insightsSectionIndex","_temp3","last","addSection","sectionProperties","visualizationId","spaceContentService","removeVisualizations","_ref","vizIds","_this7","_temp7","targetSection","_temp6","deleteVisualization","updateVisualizations","_ref2","sourceSectionIndex","sourceVisualizationIndex","oVisualizationData","updateVisualization","createInsightSection","_exit","_this8","_temp9","_result","_temp8","iMyInsightSectionIndex","_this8$addSection","visible","mProperties","getSectionVisualizations","forceRefresh","_this9","aApps","apps","addBookMark","bookmark","moveConfig","_this10","oBookmarkService","getContentNodes","aContentNodes","oMyHomeSpace","contentNode","children","addBookmark","createBookMarkData","moveVisualization","getVisualization","_this11","sectionVisualizations","sectionVisualization","_this12","targetSectionIndex","targetVisualizationIndex","aVisibleFavoriteVizs","bReturnDuplicateVizs","iVizIndex","iFirstIndex","oTempApp","aFavoriteVizs","aRecentVizs","oExistingSection","index","badge","toString","oPagesService","iPageIndex","getPageIndex","_getFeatureToggles","sFeatureToggleUrl","FEATURE_TOGGLE_KEYS","Object","keys","toggleFilter","sToggleKey","join","GetJSON","_HttpHelper$GetJSON","oResponse","isFeatureEnabled","sToggleId","_this13","aFeatureToggles","oToggle","oFeatureToggle","ToggleId","State","_getRecommenedFioriIds","_this14","RECOMMENDATION","recommendationEnabled","_exit2","_temp11","_result3","recommendedFioriIds","_temp10","_HttpHelper$GetJSON2","response","app_id","_Promise$resolve","_getCatalogApps","SearchableContent","getApps","includeAppsWithoutVisualizations","_isListReport","page","component","name","isAddCardToInsightsHidden","settings","tableSettings","addCardtoInsightsHidden","_checkValidManifests","manifest","hasRequiredDataSource","dataSources","mainService","pages","Array","isArray","_getOdataModel","oManifest","datasource","annotationUrls","annotations","sname","uri","urls","oDataModel","annotationURI","loadAnnotationsJoined","attachMetadataLoaded","attachMetadataFailed","_getEntitySet","entitySet","_hasMandatoryProperties","oEntitySet","aProperties","oProperty","_getParametersisedEntitySetParams","oMetaModel","sEntitySet","bInfoParams","oResult","entitySetName","navPropertyName","getODataEntitySet","oEntityType","getODataEntityType","entityType","aNavigationProperties","navigationProperty","oNavProperty","oNavigationEntitySet","getODataAssociationEnd","oNavigationEntityType","type","getODataAssociationSetEnd","propertyRef","navProp","property","navProperty","aSubNavigationProperties","bBackAssociationPresent","oSubNavigationProperty","sSubNavigationEntityType","_getColumnDetail","oLineItemContext","oColumnObject","Value","Path","getODataProperty","Bool","sColumnKeyDescription","sColumnValue","sNavigation","aSemKeyAnnotation","bIsPropertySemanticKey","oAnnotation","PropertyPath","concat","sTextArragement","_setColumnTextValue","identifier","importance","sTextArrangementType","EnumMember","split","_getManifestCardData","lineItem","oParentApp","mainServiceUri","serviceUrl","aColumns","oColumn","oItem","aColumnSorted","sortCollectionByImportance","column","splice","cardTitle","subTitle","columns","loadI18n","manifestUrl","_this15","_temp13","_RBManifestMap","absoluteUrl","i18nBundleUrl","URL","href","_temp12","create","bundleUrl","async","terminologies","oResourceBundle","getI18nValueOrDefaultString","sValue","oRB","sPath","substring","getText","_getAttributeValue","oAttribute","oAttributeValue","oDateFormatOptions","stringify","pattern","getDatePattern","_getManifest","oInput","cardSkeletonCopy","oCard","Date","now","header","oContent","content","item","attributes","data","request","actions","ibnTarget","parentAppId","cardType","versions","ui5","versionInfo","version","buildTimestamp","_getCardMainfest","aAppIds","_this16","_getInboundApps","_ref3","aInbounds","aCatalog","load","_VersionInfo$load","aAppUrls","signature","defaultValue","oCatalog","resolutionResult","applicationDependencies","aManifestPromises","fetch","json","_response$json","aManifest","validManifests","manifestObj","odataPromises","model","getMetaModel","aMetaModel","cardPromises","_exit3","_temp15","_result5","cardInput","oLineItem","parameterDetails","paramEntitySet","ui5ComponentName","_temp14","i18n","i18nResourceBundle","_this16$_getManifest","cards","card","_removeDuplicateCards","aCards","oCardDict","aResult","sCardTitle","descriptorContent","getRecommenedCards","_this17","aManifests","aRecManifests","slice","aRecommendedCards","rec","getRecommendedVisualizations","_this18","_temp18","_recommendedVisualizations","_temp17","_temp16","finalRecommendations","mustIncludeRecommendations","_getVisualizationsByFioriIds","_ref4","recommendedVisualizations","service","_oAdapter","_aInbounds","fioriIds","_this19","visitedVisualizations","Map","_ref5","inbounds","catalogApps","authorizedApps","inbound","app","matchingVizualizations","catalogApp","guiVisualizations","matchingVizualization","nonGuiVisualizations","recommendedVisualization","has","set"],"sources":["AppManager.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\n\nimport Log from \"sap/base/Log\";\nimport Formatting from \"sap/base/i18n/Formatting\";\nimport ResourceBundle from \"sap/base/i18n/ResourceBundle\";\nimport VersionInfo from \"sap/ui/VersionInfo\";\nimport BaseObject from \"sap/ui/base/Object\";\nimport Model from \"sap/ui/model/Model\";\nimport ODataMetaModel, { EntitySet, EntityType, Property } from \"sap/ui/model/odata/ODataMetaModel\";\nimport ODataModelV2 from \"sap/ui/model/odata/v2/ODataModel\";\nimport Config from \"sap/ushell/Config\";\nimport Container from \"sap/ushell/Container\";\nimport Bookmark from \"sap/ushell/services/BookmarkV2\";\nimport ClientSideTargetResolution from \"sap/ushell/services/ClientSideTargetResolution\";\nimport SearchableContent, { AppData } from \"sap/ushell/services/SearchableContent\";\nimport SpaceContent from \"sap/ushell/services/SpaceContent\";\nimport { ICustomVisualization, IParseSBParameters, ISection, ISectionAndVisualization, IVisualization } from \"../interface/AppsInterface\";\nimport { ICard, ICardManifest } from \"../interface/CardsInterface\";\nimport { IPage } from \"../interface/PageSpaceInterface\";\nimport { CardSkeleton } from \"./CardSkeleton\";\nimport {\n\tDEFAULT_BG_COLOR,\n\tFALLBACK_ICON,\n\tFEATURE_TOGGLES,\n\tFEATURE_TOGGLE_SRVC_URL,\n\tMYHOME_PAGE_ID,\n\tMYHOME_SPACE_ID,\n\tMYINSIGHT_SECTION_ID,\n\tRECOMMENDATION_SRVC_URL,\n\tRECOMMENDED_CARD_LIMIT\n} from \"./Constants\";\nimport DataFormatUtils from \"./DataFormatUtils\";\nimport HttpHelper from \"./HttpHelper\";\n\nconst CONSTANTS = {\n\tMUST_INCLUDE_RECOMMEDED_APPS: [\"F0862\", \"F1823\"] //My Inbox and Manage Timesheet apps\n};\n\ninterface IFeatureToggles {\n\tRECOMMENDATION: string;\n\tTASK_ACTIONS: string;\n}\n\ninterface IGenericApp {\n\tcomponent?: {\n\t\tname?: string;\n\t\tsettings?: {\n\t\t\ttableSettings?: {\n\t\t\t\taddCardtoInsightsHidden?: boolean;\n\t\t\t};\n\t\t};\n\t};\n\tentitySet?: IEntitySet;\n}\n\nexport interface IEntitySet extends EntitySet {\n\t\"Org.OData.Capabilities.V1.FilterRestrictions\"?: {\n\t\tRequiredProperties?: Array<unknown>;\n\t};\n}\n\ninterface IEntityType extends EntityType {\n\t\"com.sap.vocabularies.UI.v1.LineItem\": Array<ILineItemContext>;\n\t\"sap:semantics\": string;\n\t\"com.sap.vocabularies.Common.v1.SemanticKey\": Array<{\n\t\tPropertyPath: string;\n\t}>;\n\t\"com.sap.vocabularies.UI.v1.TextArrangement\": {\n\t\tEnumMember: string;\n\t};\n\t\"com.sap.vocabularies.Common.v1.Label\": {\n\t\tString: string;\n\t};\n\tproperty: Property[];\n}\n\ninterface ILineItemContext {\n\tValue: {\n\t\tPath: string;\n\t};\n\t\"com.sap.vocabularies.UI.v1.Importance\": string;\n\t\"com.sap.vocabularies.UI.v1.Hidden\": {\n\t\tBool: boolean;\n\t};\n}\n\ninterface IManifestCardData {\n\tcardTitle?: string;\n\tsubTitle: string;\n\turl: string;\n\tsemanticObject: string;\n\taction: string;\n\tid?: string;\n\tcolumns: Array<unknown>;\n}\n\nconst _parseSBParameters = (oParam: object | string | undefined): IParseSBParameters | undefined => {\n\tlet oParsedParams: IParseSBParameters | undefined = {};\n\tif (oParam) {\n\t\tif (typeof oParam === \"object\") {\n\t\t\toParsedParams = oParam;\n\t\t} else {\n\t\t\ttry {\n\t\t\t\toParsedParams = JSON.parse(oParam) as object;\n\t\t\t} catch (oError) {\n\t\t\t\tLog.error(oError instanceof Error ? oError.message : String(oError));\n\t\t\t\toParsedParams = undefined;\n\t\t\t}\n\t\t}\n\t}\n\treturn oParsedParams;\n};\n\nconst _getTileProperties = (vizConfigFLP?: IVisualization): IParseSBParameters | undefined => {\n\tlet oTileProperties: IParseSBParameters | undefined = {};\n\tif (vizConfigFLP?._instantiationData?.chip?.configuration) {\n\t\tconst oConfig: IParseSBParameters | undefined = _parseSBParameters(vizConfigFLP._instantiationData.chip.configuration);\n\t\tif (oConfig?.tileConfiguration) {\n\t\t\tconst oTileConfig: IParseSBParameters | undefined = _parseSBParameters(oConfig.tileConfiguration);\n\t\t\tif (oTileConfig) {\n\t\t\t\toTileProperties = _parseSBParameters(oTileConfig.TILE_PROPERTIES);\n\t\t\t}\n\t\t}\n\t}\n\treturn oTileProperties;\n};\n\nconst _getAppId = (vizConfigFLP: IVisualization | undefined): string => {\n\tlet sAppId = \"\";\n\tlet oTileProperties: IParseSBParameters | undefined = {};\n\tif (vizConfigFLP?.target?.semanticObject && vizConfigFLP?.target?.action) {\n\t\tsAppId = `#${vizConfigFLP.target.semanticObject}-${vizConfigFLP.target.action}`;\n\t} else if (vizConfigFLP?._instantiationData?.chip?.configuration) {\n\t\toTileProperties = _getTileProperties(vizConfigFLP);\n\t\tif (oTileProperties?.semanticObject && oTileProperties?.semanticAction) {\n\t\t\tsAppId = `#${oTileProperties?.semanticObject}-${oTileProperties?.semanticAction}`;\n\t\t}\n\t}\n\treturn sAppId;\n};\n\nconst _getTargetUrl = (vizConfigFLP: IVisualization | undefined) => {\n\tlet sTargetURL = _getAppId(vizConfigFLP) || \"\";\n\tconst oTileProperties = _getTileProperties(vizConfigFLP);\n\tif (oTileProperties?.evaluationId) {\n\t\tsTargetURL += \"?EvaluationId=\" + oTileProperties.evaluationId;\n\t}\n\treturn sTargetURL;\n};\n\nconst _isSmartBusinessTile = (oVisualization: IVisualization): boolean => {\n\treturn oVisualization.vizType?.startsWith(\"X-SAP-UI2-CHIP:SSB\");\n};\n\n// get App Title in case of value not present at root level\nconst _getAppTitleSubTitle = (oApp: IVisualization, vizConfigFLP: IVisualization): { title: string; subtitle: string } => {\n\tconst oAppTileInfo = vizConfigFLP?._instantiationData?.chip?.bags?.sb_tileProperties?.texts;\n\treturn {\n\t\ttitle: oApp.title ? oApp.title : oAppTileInfo?.title || \"\",\n\t\tsubtitle: oApp.subtitle ? oApp.subtitle : oAppTileInfo?.description || \"\"\n\t};\n};\n\n/**\n * Link Duplicate Visualizations to a single visualization\n *\n * @param {object[]} aVizs - array of visualizations\n * @returns {object[]} arry of visualizations after linking duplicate visualizations\n * @private\n */\nconst _linkDuplicateVizs = (aVizs: ICustomVisualization[]) => {\n\taVizs.forEach((oDuplicateViz) => {\n\t\taVizs\n\t\t\t.filter(\n\t\t\t\t(oViz) =>\n\t\t\t\t\toViz.appId === oDuplicateViz.appId &&\n\t\t\t\t\toViz?.visualization?.id !== oDuplicateViz?.visualization?.id &&\n\t\t\t\t\toViz.persConfig?.sectionIndex === oDuplicateViz.persConfig?.sectionIndex\n\t\t\t)\n\t\t\t.forEach((oViz) => {\n\t\t\t\toViz?.persConfig?.duplicateApps?.push(oDuplicateViz);\n\t\t\t});\n\t});\n\n\treturn aVizs;\n};\n\nconst _isGUIVisualization = (visualization: AppData) => {\n\treturn visualization?.target?.parameters?.[\"sap-ui-tech-hint\"]?.value?.value === \"GUI\";\n};\n\nconst _isMustIncludeRecommendation = (recViz: ICustomVisualization) => {\n\treturn recViz.fioriId && CONSTANTS.MUST_INCLUDE_RECOMMEDED_APPS.includes(recViz.fioriId);\n};\n\nconst _isVisualizationAlreadyAdded = (visualization: ICustomVisualization, favoriteVisualizations: ICustomVisualization[]) => {\n\treturn !favoriteVisualizations.some(\n\t\t(favViz) =>\n\t\t\tfavViz.visualization?.target?.semanticObject === visualization.visualization?.target?.semanticObject &&\n\t\t\tfavViz.visualization?.target?.action === visualization.visualization?.target?.action\n\t);\n};\n\n/**\n *\n * @class Provides the AppManager Class used for fetch and process user apps.\n *\n * @extends sap.ui.BaseObject\n *\n * @author SAP SE\n * @version 0.0.1\n * @since 1.121.0\n *\n * @private\n * @experimental Since 1.121\n * @hidden\n *\n * @alias sap.cux.home.util.AppManager\n */\nexport default class AppManager extends BaseObject {\n\tprivate aRequestQueue: { pageId: string; pageLoadPromise: Promise<IPage> }[] = [];\n\tprivate _oMoveAppsPromise!: Promise<void>;\n\tprivate bInsightsSectionPresent: boolean = false;\n\tpublic insightsSectionIndex!: number;\n\tstatic Instance: AppManager;\n\tprivate recommendedFioriIds!: string[];\n\tprivate versionInfo!: {\n\t\tversion: string;\n\t\tbuildTimestamp: string;\n\t};\n\tprivate _RBManifestMap!: Record<string, ResourceBundle>;\n\tprivate _recommendedVisualizations!: ICustomVisualization[];\n\tprivate vizDataModified: boolean = false;\n\n\tprivate constructor() {\n\t\tsuper();\n\t}\n\n\tstatic getInstance() {\n\t\tif (!AppManager.Instance) {\n\t\t\tAppManager.Instance = new AppManager();\n\t\t}\n\t\treturn AppManager.Instance;\n\t}\n\t/**\n\t * Returns page load promise from the request queue if it exists, adds it to the queue if it doesn't\n\t *\n\t * @param {string} sPageId - page id\n\t * @param {boolean} bForceRefresh - force reload of data if true\n\t * @returns {Promise} - returns a promise which resolves with the requested page data\n\t * @private\n\t */\n\tprivate async _fetchRequestFromQueue(bForceRefresh: boolean): Promise<IPage> {\n\t\tconst oSpaceContentService = await Container.getServiceAsync<SpaceContent>(\"SpaceContent\");\n\t\tlet oPageLoadPromise: Promise<IPage>;\n\t\tthis.aRequestQueue = this.aRequestQueue || [];\n\n\t\t//Check if request already exists in the queue, if not add it\n\t\tconst oRequestedPage = this.aRequestQueue.find((oRequest) => oRequest.pageId === MYHOME_PAGE_ID);\n\t\tif (!oRequestedPage || bForceRefresh === true || this.vizDataModified === true) {\n\t\t\tthis.vizDataModified = false;\n\t\t\toPageLoadPromise = oSpaceContentService.getPage(MYHOME_PAGE_ID);\n\t\t\tif (oRequestedPage) {\n\t\t\t\toRequestedPage.pageLoadPromise = oPageLoadPromise;\n\t\t\t} else {\n\t\t\t\tthis.aRequestQueue.push({\n\t\t\t\t\tpageId: MYHOME_PAGE_ID,\n\t\t\t\t\tpageLoadPromise: oPageLoadPromise\n\t\t\t\t});\n\t\t\t}\n\t\t} else {\n\t\t\toPageLoadPromise = oRequestedPage.pageLoadPromise;\n\t\t}\n\n\t\treturn oPageLoadPromise;\n\t}\n\t/**\n\t * Returns all dynamic visualizations present in MyHome page\n\t *\n\t * @param {boolean} bForceRefresh - force reload of visualizations data\n\t * @returns {Promise} - resolves to array of all dynamic visualizations in MyHome page\n\t * @private\n\t */\n\tprivate _fetchDynamicVizs(bForceRefresh: boolean) {\n\t\treturn this.fetchFavVizs(bForceRefresh, true).then((aFavApps: ICustomVisualization[]) =>\n\t\t\taFavApps.filter((oDynApp) => oDynApp.isCount || oDynApp.isSmartBusinessTile)\n\t\t);\n\t}\n\t/**\n\t * Returns all the sections that are available in the MyHome page\n\t *\n\t * @param {boolean} bForceRefresh - force reload of visualizations data\n\t * @returns {Promise} - resolves to array of all sections available in MyHome page\n\t * @private\n\t */\n\tpublic async _getSections(bForceRefresh: boolean = false): Promise<ISection[]> {\n\t\tconst oPage: IPage = await this._fetchRequestFromQueue(bForceRefresh);\n\t\tconst aSections = (oPage && oPage.sections) || [],\n\t\t\tiRecentAppSectionIndex: number = aSections.findIndex((oSection) => oSection.default);\n\t\tif (iRecentAppSectionIndex > 0) {\n\t\t\tif (this._oMoveAppsPromise !== undefined) {\n\t\t\t\tthis._oMoveAppsPromise = this.moveSection(iRecentAppSectionIndex, 0);\n\t\t\t\tawait this._oMoveAppsPromise;\n\t\t\t}\n\t\t\treturn this._getSections(true);\n\t\t} else {\n\t\t\treturn aSections;\n\t\t}\n\t}\n\t/**\n\t * Models and returns all visualizations available in MyHome page\n\t *\n\t * @param {bool} bForceRefresh - force reload of visualizations data\n\t * @returns {Promise} - resolves to array of all apps available in MyHome page\n\t * @private\n\t */\n\tprivate async _fetchMyHomeVizs(bForceRefresh: boolean): Promise<ICustomVisualization[]> {\n\t\tconst aVizs: ICustomVisualization[] = [];\n\t\tconst aSections = await this._getSections(bForceRefresh);\n\t\taSections.forEach((oSection: ISection, iSectionIndex: number) => {\n\t\t\toSection?.visualizations?.forEach((oVisualization: IVisualization, iVisualizationIndex: number) => {\n\t\t\t\tconst vizConfig = oVisualization.vizConfig,\n\t\t\t\t\toVizInfo = vizConfig?.[\"sap.app\"] || ({ title: \"?\" } as IVisualization),\n\t\t\t\t\toViz = {} as ICustomVisualization;\n\n\t\t\t\toViz.oldAppId = _getAppId(vizConfig?.[\"sap.flp\"]);\n\t\t\t\toViz.appId = oVisualization?.targetURL; // Using targetURL as unique identifier as in certian scenario vizConfig can be empty.\n\t\t\t\toViz.url = oVisualization?.targetURL;\n\t\t\t\tif (!oViz.url && _isSmartBusinessTile(oVisualization)) {\n\t\t\t\t\toViz.url = _getTargetUrl(vizConfig?.[\"sap.flp\"]);\n\t\t\t\t}\n\t\t\t\toViz.leanURL = DataFormatUtils.getLeanURL(oViz.url);\n\t\t\t\toViz.title = oVisualization?.title || _getAppTitleSubTitle(oVizInfo, oVisualization)?.title;\n\t\t\t\toViz.subtitle = oVisualization.subtitle || _getAppTitleSubTitle(oVizInfo, oVisualization).subtitle;\n\t\t\t\toViz.BGColor = DEFAULT_BG_COLOR().key;\n\t\t\t\toViz.isFav = true;\n\t\t\t\toViz.isSection = false;\n\t\t\t\toViz.icon = vizConfig?.[\"sap.ui\"]?.icons?.icon || FALLBACK_ICON;\n\t\t\t\tif (oVisualization?.indicatorDataSource) {\n\t\t\t\t\toViz.isCount = true;\n\t\t\t\t\toViz.indicatorDataSource = oVisualization.indicatorDataSource.path;\n\t\t\t\t\toViz.contentProviderId = oVisualization.contentProviderId;\n\t\t\t\t}\n\t\t\t\toViz.isSmartBusinessTile = _isSmartBusinessTile(oVisualization);\n\t\t\t\t// Add FLP Personalization Config\n\t\t\t\toViz.persConfig = {\n\t\t\t\t\tpageId: MYHOME_PAGE_ID,\n\t\t\t\t\tsectionTitle: oSection.title,\n\t\t\t\t\tsectionId: oSection.id,\n\t\t\t\t\tsectionIndex: iSectionIndex,\n\t\t\t\t\tvisualizationIndex: iVisualizationIndex,\n\t\t\t\t\tisDefaultSection: oSection.default,\n\t\t\t\t\tisPresetSection: oSection.preset,\n\t\t\t\t\tduplicateApps: []\n\t\t\t\t};\n\t\t\t\toViz.visualization = oVisualization;\n\t\t\t\t// Title and Subtitle in visualization are required in Insights Dialog.\n\t\t\t\toViz.visualization.title = oViz.title;\n\t\t\t\toViz.visualization.subtitle = oViz.subtitle;\n\t\t\t\taVizs.push(oViz);\n\t\t\t});\n\t\t});\n\t\treturn aVizs;\n\t}\n\t/**\n\t * Copies all Dynamic visualizations to Insights section\n\t *\n\t * @returns {Promise} - resolves to void and copy all the visualizations\n\t * @private\n\t */\n\tprivate async _copyDynamicVizs() {\n\t\tconst aDynamicVizs: ICustomVisualization[] = await this._fetchDynamicVizs(true);\n\t\treturn Promise.all(\n\t\t\taDynamicVizs.map((oDynViz: ICustomVisualization) => {\n\t\t\t\treturn this.addVisualization(oDynViz.visualization!.vizId, MYINSIGHT_SECTION_ID);\n\t\t\t})\n\t\t);\n\t}\n\t/**\n\t * Returns a list of all favorite vizualizations in MyHome page\n\t *\n\t * @param {boolean} bForceRefresh - force reload of vizualizations data\n\t * @param {boolean} bPreventGrouping - prevent vizualizations grouping\n\t * @returns {Promise} - resolves to array of favourite vizualizations in MyHome page\n\t * @private\n\t */\n\tpublic async fetchFavVizs(bForceRefresh: boolean, bPreventGrouping?: boolean): Promise<ISectionAndVisualization[]> {\n\t\tconst aMyHomeVizs = await this._fetchMyHomeVizs(bForceRefresh);\n\t\tconst aVisibleFavVizs = aMyHomeVizs.filter(\n\t\t\t(oViz) => oViz.persConfig && oViz.persConfig.sectionId !== MYINSIGHT_SECTION_ID && oViz.url && oViz.title\n\t\t);\n\n\t\tif (bPreventGrouping) {\n\t\t\treturn this._filterDuplicateVizs(_linkDuplicateVizs(aVisibleFavVizs), false);\n\t\t} else {\n\t\t\treturn this._addGroupInformation(aVisibleFavVizs);\n\t\t}\n\t}\n\t/**\n\t * Returns all vizualizations present in the Insights Section\n\t *\n\t * @param {boolean} bForceRefresh - force reload insights vizualizations data\n\t * @param {string} sSectionTitle - optional, title of insights section to be used while creating insights section\n\t * @returns {Promise} - resolves to an array with all vizualizations in Insights section\n\t */\n\tpublic async fetchInsightApps(bForceRefresh: boolean, sSectionTitle: string) {\n\t\tconst fnFetchInsightsApps = async () => {\n\t\t\tconst aVizs = await this._fetchMyHomeVizs(bForceRefresh);\n\t\t\treturn aVizs.filter((oViz) => oViz.persConfig?.sectionId === MYINSIGHT_SECTION_ID && oViz.url && oViz.title);\n\t\t};\n\n\t\tif (!this.bInsightsSectionPresent) {\n\t\t\tconst aSections: ISection[] = await this._getSections(bForceRefresh);\n\t\t\tthis.insightsSectionIndex = aSections.findIndex(function (oSection) {\n\t\t\t\treturn oSection.id === MYINSIGHT_SECTION_ID;\n\t\t\t});\n\n\t\t\tif (\n\t\t\t\tthis.insightsSectionIndex === -1 &&\n\t\t\t\t(Config.last(\"/core/shell/enablePersonalization\") || Config.last(\"/core/catalog/enabled\")) && \n\t\t\t\tthis.bInsightsSectionPresent === false\n\t\t\t) {\n\t\t\t\tthis.bInsightsSectionPresent = true;\n\t\t\t\tawait this.addSection({\n\t\t\t\t\tsectionIndex: aSections?.length,\n\t\t\t\t\tsectionProperties: {\n\t\t\t\t\t\tid: MYINSIGHT_SECTION_ID,\n\t\t\t\t\t\ttitle: sSectionTitle\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tawait this._copyDynamicVizs();\n\t\t\t} else {\n\t\t\t\tthis.bInsightsSectionPresent = true;\n\t\t\t}\n\t\t}\n\n\t\treturn await fnFetchInsightsApps();\n\t}\n\n\t/**\n\t * Add visualization to a particular section\n\t *\n\t * @param {string} visualizationId - The id of the visualization to add.\n\t * @param {string} sectionId - The id of the section the visualization should be added to (optional parameter)\n\t * @returns {Promise} resolves to void after adding app to a section\n\t * @private\n\t */\n\tpublic async addVisualization(visualizationId: string, sectionId: string | undefined = undefined): Promise<void> {\n\t\tconst spaceContentService = await Container.getServiceAsync<SpaceContent>(\"SpaceContent\");\n\t\tawait spaceContentService.addVisualization(MYHOME_PAGE_ID, sectionId, visualizationId);\n\t}\n\n\t/**\n\t * @param {object} mProperties - map of properties\n\t * @param {string} mProperties.sectionId - section id from which visualizations should be removed\n\t * @param {object[]} mProperties.appIds - array of url of visualizations that has to be deleted\n\t * @param {boolean} mProperties.ignoreDuplicateApps - if true doesn't remove the duplicate apps, else removes the duplicate apps as well\n\t * @private\n\t * @returns {Promise} resolves after all visualizations are deleted\n\t */\n\tpublic async removeVisualizations({ sectionId, vizIds }: { sectionId: string; vizIds: string[] }) {\n\t\tconst spaceContentService = await Container.getServiceAsync<SpaceContent>(\"SpaceContent\");\n\t\tfor (const vizId of vizIds) {\n\t\t\ttry {\n\t\t\t\tconst sections = await this._getSections(true);\n\t\t\t\tconst sectionIndex = sections.findIndex((oSection) => oSection.id === sectionId);\n\t\t\t\tconst targetSection = sectionIndex > -1 ? sections[sectionIndex] : null;\n\t\t\t\tconst visualizationIndex = targetSection?.visualizations?.findIndex((oVisualization) => oVisualization.id === vizId) ?? -1;\n\t\t\t\tif (visualizationIndex > -1) {\n\t\t\t\t\tawait spaceContentService.deleteVisualization(MYHOME_PAGE_ID, sectionIndex, visualizationIndex);\n\t\t\t\t}\n\t\t\t} catch (error) {\n\t\t\t\tLog.error(error as string);\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * @param {object} mProperties - map of properties\n\t * @param {string} mProperties.pageId - page id from which visualizations should be updated\n\t * @param {object[]} mProperties.sourceSectionIndex - section index in which visualization that has to be updated\n\t * @param {boolean} mProperties.sourceVisualizationIndex - visualization index in the which should be updated\n\t * @param {boolean} mProperties.oVisualizationData - visualization data which will be updated for the vizualisation\n\t * @private\n\t * @returns {Promise} resolves to void\n\t */\n\tpublic async updateVisualizations({\n\t\tpageId,\n\t\tsourceSectionIndex,\n\t\tsourceVisualizationIndex,\n\t\toVisualizationData\n\t}: {\n\t\tpageId: string;\n\t\tsourceSectionIndex: number;\n\t\tsourceVisualizationIndex: number;\n\t\toVisualizationData: { displayFormatHint: string };\n\t}) {\n\t\tconst spaceContentService = await Container.getServiceAsync<SpaceContent>(\"SpaceContent\");\n\t\treturn spaceContentService.updateVisualization(pageId, sourceSectionIndex, sourceVisualizationIndex, oVisualizationData);\n\t}\n\n\t/**\n\t * Create Insight Section if not already present\n\t *\n\t * @param {string} sSectionTitle - optional, section title\n\t * @returns {Promise} - resolves to insight section created\n\t */\n\tpublic async createInsightSection(sSectionTitle: string) {\n\t\tif (!this.bInsightsSectionPresent) {\n\t\t\tconst aSections = await this._getSections();\n\t\t\tconst iMyInsightSectionIndex = aSections.findIndex(function (oSection) {\n\t\t\t\treturn oSection.id === MYINSIGHT_SECTION_ID;\n\t\t\t});\n\n\t\t\t//check if myinsight section exists, if not create one\n\t\t\tif (\n\t\t\t\tiMyInsightSectionIndex === -1 &&\n\t\t\t\t(Config.last(\"/core/shell/enablePersonalization\") || Config.last(\"/core/catalog/enabled\"))\n\t\t\t) {\n\t\t\t\treturn this.addSection({\n\t\t\t\t\tsectionIndex: aSections.length,\n\t\t\t\t\tsectionProperties: {\n\t\t\t\t\t\tid: MYINSIGHT_SECTION_ID,\n\t\t\t\t\t\ttitle: sSectionTitle,\n\t\t\t\t\t\tvisible: true\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\treturn Promise.resolve();\n\t}\n\n\t/**\n\t * Adds a section\n\t *\n\t * @param {object} mProperties - map of properties\n\t * @param {string} mProperties.sectionIndex - section index\n\t * @param {object} mProperties.sectionProperties - section properties\n\t * @returns {Promise} resolves to void and creates the section\n\t * @private\n\t */\n\tpublic async addSection(mProperties: ISection) {\n\t\tconst { sectionIndex, sectionProperties } = mProperties;\n\t\tconst oSpaceContentService = await Container.getServiceAsync<SpaceContent>(\"SpaceContent\");\n\t\tawait oSpaceContentService.addSection(MYHOME_PAGE_ID, sectionIndex, {\n\t\t\t...sectionProperties,\n\t\t\tvisible: true\n\t\t});\n\t}\n\n\t/**\n\t * Returns visualizations for a given section\n\t * @param {string} sectionId - section id\n\t * @param {boolean} [forceRefresh=false] - force reload of data if true\n\t * @returns {Promise} resolves to array of visualizations\n\t * @private\n\t */\n\tpublic async getSectionVisualizations(sectionId?: string, forceRefresh = false): Promise<ICustomVisualization[]> {\n\t\tconst aApps: ISectionAndVisualization[] = await this.fetchFavVizs(forceRefresh);\n\t\tif (sectionId) {\n\t\t\treturn aApps.find((oViz) => oViz.isSection && oViz.id === sectionId)?.apps || [];\n\t\t} else {\n\t\t\treturn aApps.filter((oViz) => !oViz.isSection); //return recently added apps\n\t\t}\n\t}\n\n\t/**\n\t * Adds a bookmark.\n\t * @private\n\t * @param {Object} bookmark - The bookmark data object.\n\t * @returns {Promise<void>} - A Promise that resolves once the bookmark is added.\n\t */\n\tpublic async addBookMark(\n\t\tbookmark: IVisualization,\n\t\tmoveConfig?: {\n\t\t\tsourceSectionIndex: number;\n\t\t\tsourceVisualizationIndex: number;\n\t\t\ttargetSectionIndex: number;\n\t\t\ttargetVisualizationIndex: number;\n\t\t}\n\t) {\n\t\tconst oBookmarkService: Bookmark = await Container.getServiceAsync(\"BookmarkV2\");\n\t\tconst aContentNodes = await oBookmarkService.getContentNodes();\n\t\tconst oMyHomeSpace = aContentNodes.find((contentNode) => contentNode.id === MYHOME_SPACE_ID);\n\t\tconst contentNode = oMyHomeSpace?.children?.find((contentNode) => contentNode.id === MYHOME_PAGE_ID);\n\t\tawait oBookmarkService.addBookmark(DataFormatUtils.createBookMarkData(bookmark), contentNode);\n\t\tif (moveConfig) {\n\t\t\treturn this.moveVisualization(moveConfig);\n\t\t}\n\t\treturn Promise.resolve();\n\t}\n\n\t/**\n\t * Retrieves the visualization with the specified appId within the specified section.\n\t * @param {string} appId - appId of the visualization for.\n\t * @param {string} sectionId - The ID of the section containing the visualization.\n\t * @param {boolean} [forceRefresh=false] - Whether to force a refresh of the section's cache.\n\t * @returns {Promise<object|null>} A promise that resolves with the visualization object if found, or null if not found.\n\t * @private\n\t */\n\tpublic async getVisualization(appId: string, sectionId?: string, forceRefresh = false) {\n\t\tconst sectionVisualizations = await this.getSectionVisualizations(sectionId, forceRefresh);\n\t\treturn sectionVisualizations.find((sectionVisualization) => sectionVisualization.appId === appId);\n\t}\n\n\t/**\n\t * Moves a visualization from source section to target section.\n\t * @param {object} moveConfig - Configuration object containing details for moving the visualization.\n\t * @param {number} moveConfig.sourceSectionIndex - Index of the source section.\n\t * @param {number} moveConfig.sourceVisualizationIndex - Index of the visualization within the source section.\n\t * @param {number} moveConfig.targetSectionIndex - Index of the target section.\n\t * @param {number} moveConfig.targetVisualizationIndex - Index at which the visualization will be placed within the target section.\n\t * @returns {Promise<void>} A promise that resolves to void after the move operation.\n\t * @private\n\t */\n\tpublic async moveVisualization(moveConfig: {\n\t\tsourceSectionIndex: number;\n\t\tsourceVisualizationIndex: number;\n\t\ttargetSectionIndex: number;\n\t\ttargetVisualizationIndex: number;\n\t}) {\n\t\tconst spaceContentService = await Container.getServiceAsync<SpaceContent>(\"SpaceContent\");\n\t\tthis.vizDataModified = true;\n\t\treturn spaceContentService.moveVisualization(\n\t\t\tMYHOME_PAGE_ID,\n\t\t\tmoveConfig.sourceSectionIndex,\n\t\t\tmoveConfig.sourceVisualizationIndex,\n\t\t\tmoveConfig.targetSectionIndex,\n\t\t\tmoveConfig.targetVisualizationIndex\n\t\t);\n\t}\n\n\t/**\n\t * Filters out duplicate visualizations from a list of all visualizations\n\t *\n\t * @param {object[]} aVisibleFavoriteVizs - array containing list of all visualizations\n\t * @param {boolean} bReturnDuplicateVizs - flag when set to true, returns only the duplicate apps\n\t * @returns {object[]} filtered array of vizualisations\n\t * @private\n\t */\n\tpublic _filterDuplicateVizs(aVisibleFavoriteVizs: ICustomVisualization[], bReturnDuplicateVizs: boolean) {\n\t\treturn aVisibleFavoriteVizs.filter((oViz, iVizIndex, aVizs) => {\n\t\t\tconst iFirstIndex = aVizs.findIndex((oTempApp) => oTempApp.appId === oViz.appId);\n\t\t\treturn bReturnDuplicateVizs ? iFirstIndex !== iVizIndex : iFirstIndex === iVizIndex;\n\t\t});\n\t}\n\n\t/**\n\t * Add Grouping Information to visualizations list, and return concatenated list.\n\t *\n\t * @param {object[]} aFavoriteVizs - list of all favorite visualizations\n\t * @returns {object[]} - concatenated list contaning grouping information as well\n\t * @private\n\t */\n\tprivate _addGroupInformation(aFavoriteVizs: ICustomVisualization[]) {\n\t\tconst aRecentVizs: ICustomVisualization[] = [],\n\t\t\taSections: ISection[] = [];\n\t\tlet oExistingSection: ISection | undefined;\n\n\t\t_linkDuplicateVizs(aFavoriteVizs).forEach((oViz) => {\n\t\t\tif (oViz.persConfig?.isDefaultSection) {\n\t\t\t\taRecentVizs.push(oViz);\n\t\t\t} else {\n\t\t\t\toExistingSection = aSections.find((oSection) => oSection.isSection && oSection.id === oViz.persConfig?.sectionId);\n\n\t\t\t\tif (!oExistingSection) {\n\t\t\t\t\taSections.push({\n\t\t\t\t\t\tid: oViz.persConfig?.sectionId,\n\t\t\t\t\t\tindex: oViz.persConfig?.sectionIndex,\n\t\t\t\t\t\ttitle: oViz.persConfig?.sectionTitle || \"\",\n\t\t\t\t\t\tbadge: \"1\",\n\t\t\t\t\t\tBGColor: DEFAULT_BG_COLOR().key,\n\t\t\t\t\t\ticon: \"sap-icon://folder-full\",\n\t\t\t\t\t\tisSection: true,\n\t\t\t\t\t\tisPresetSection: oViz.persConfig?.isPresetSection,\n\t\t\t\t\t\tapps: [oViz]\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\toExistingSection.apps?.push(oViz);\n\t\t\t\t\toExistingSection.badge = oExistingSection.apps?.length.toString();\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\t//filter out duplicate apps only from recent apps list\n\t\treturn [...aSections, ...this._filterDuplicateVizs(aRecentVizs, false)];\n\t}\n\n\t/**\n\t * Move a section within a page\n\t *\n\t * @param {number} sourceSectionIndex - source index (previous index of the section in the page before move)\n\t * @param {number} targetSectionIndex - target index (desired index of the section in the page after move)\n\t * @returns {Promise} resolves to void  and moves the section to desired index within the page\n\t * @private\n\t */\n\tpublic async moveSection(sourceSectionIndex: number, targetSectionIndex: number): Promise<void> {\n\t\treturn Container.getServiceAsync(\"Pages\").then(function (oPagesService: {\n\t\t\tgetPageIndex: (id: string) => number;\n\t\t\tmoveSection: (index: number, sourceIndex: number, targetIndex: number) => void;\n\t\t}) {\n\t\t\tconst iPageIndex: number = oPagesService.getPageIndex(MYHOME_PAGE_ID);\n\t\t\treturn oPagesService.moveSection(iPageIndex, sourceSectionIndex, targetSectionIndex);\n\t\t} as () => void);\n\t}\n\n\t/**\n\t * Returns array of all feature toggles\n\t *\n\t * @returns {object[]} - returns array of all feature toggles.\n\t */\n\tprivate async _getFeatureToggles() {\n\t\tlet sFeatureToggleUrl = FEATURE_TOGGLE_SRVC_URL + \"?$filter=\";\n\t\tconst FEATURE_TOGGLE_KEYS = Object.keys(FEATURE_TOGGLES);\n\t\tconst toggleFilter = FEATURE_TOGGLE_KEYS.map((sToggleKey) => {\n\t\t\treturn \"ToggleId eq '\" + FEATURE_TOGGLES[sToggleKey as keyof IFeatureToggles] + \"'\";\n\t\t}).join(\" or \");\n\t\tsFeatureToggleUrl = sFeatureToggleUrl + \"(\" + toggleFilter + \")\";\n\t\tconst oResponse = (await HttpHelper.GetJSON(sFeatureToggleUrl)) as {\n\t\t\terror: { message: string };\n\t\t\tvalue: Array<{ ToggleId: string; State: string }>;\n\t\t};\n\t\tif (oResponse?.error) {\n\t\t\tthrow new Error(oResponse.error.message);\n\t\t}\n\t\treturn oResponse?.value || [];\n\t}\n\n\t/**\n\t * Checks if feature is enabled or not.\n\t *\n\t * @param {string} sToggleId - feature toggle id\n\t * @returns {boolean} - returns true if feature is enabled.\n\t */\n\tpublic async isFeatureEnabled(sToggleId: string) {\n\t\ttry {\n\t\t\tconst aFeatureToggles = await this._getFeatureToggles();\n\t\t\tconst oToggle = aFeatureToggles.find((oFeatureToggle) => {\n\t\t\t\treturn oFeatureToggle.ToggleId === sToggleId;\n\t\t\t});\n\t\t\treturn oToggle && oToggle.State === \"\" ? false : true;\n\t\t} catch (error) {\n\t\t\tLog.error(\"Unable to load feature toggles: \" + (error as Error).message);\n\t\t\treturn false;\n\t\t}\n\t}\n\n\t/**\n\t * Fetch Recommended Fiori IDs\n\t *\n\t * @returns {Promise} resolves to array of recommended fiori ids\n\t * @private\n\t */\n\tprivate async _getRecommenedFioriIds(bForceRefresh: boolean = false): Promise<string[]> {\n\t\tconst recommendationEnabled = await this.isFeatureEnabled(FEATURE_TOGGLES.RECOMMENDATION);\n\t\tif (!recommendationEnabled) {\n\t\t\treturn Promise.resolve([]);\n\t\t}\n\t\tif (!this.recommendedFioriIds || bForceRefresh) {\n\t\t\ttry {\n\t\t\t\tconst response = (await HttpHelper.GetJSON(RECOMMENDATION_SRVC_URL)) as {\n\t\t\t\t\terror: { message: string };\n\t\t\t\t\tvalue: Array<{ app_id: string }>;\n\t\t\t\t};\n\t\t\t\tthis.recommendedFioriIds =\n\t\t\t\t\tresponse?.value?.map((oApp) => {\n\t\t\t\t\t\treturn oApp.app_id;\n\t\t\t\t\t}) || [];\n\t\t\t} catch (error) {\n\t\t\t\tLog.error(\"Unable to load feature toggles: \" + (error as Error).message);\n\t\t\t\treturn Promise.resolve([]);\n\t\t\t}\n\t\t}\n\t\treturn this.recommendedFioriIds;\n\t}\n\n\t/**\n\t * Fetch Catalog Apps\n\t *\n\t * @returns {Promise} resolves to array of Catalog Apps\n\t * @private\n\t */\n\tpublic async _getCatalogApps() {\n\t\ttry {\n\t\t\tconst SearchableContent = await Container.getServiceAsync<SearchableContent>(\"SearchableContent\");\n\t\t\treturn SearchableContent.getApps({ includeAppsWithoutVisualizations: false });\n\t\t} catch (error) {\n\t\t\tLog.error(\"Error while fetching catalog apps: \" + (error as Error).message);\n\t\t\treturn [];\n\t\t}\n\t}\n\n\t/**\n\t * Check If Page is List Report\n\t *\n\t * @param {object} page - page object\n\t * @returns {boolean} returns boolean\n\t * @private\n\t */\n\tprivate _isListReport(page?: IGenericApp) {\n\t\treturn page?.component?.name === \"sap.suite.ui.generic.template.ListReport\";\n\t}\n\n\t/**\n\t * Checks whether page settings contains addCardtoInsightsHidden\n\t * @param {object} page - page object\n\t * @returns {boolean} returns boolean\n\t * @private\n\t */\n\t// checks whether page settings contains addCardtoInsightsHidden\n\tprivate isAddCardToInsightsHidden(page?: IGenericApp) {\n\t\treturn page?.component?.settings?.tableSettings?.addCardtoInsightsHidden;\n\t}\n\n\t/**\n\t * check Valid Manifests\n\t *\n\t * @returns {boolean} returns boolean\n\t * @private\n\t */\n\n\tprivate _checkValidManifests(manifest: ICardManifest) {\n\t\tconst hasRequiredDataSource = manifest[\"sap.ui.generic.app\"] && manifest[\"sap.app\"]?.dataSources?.mainService;\n\t\tif (!hasRequiredDataSource) {\n\t\t\treturn false;\n\t\t}\n\n\t\tconst pages = manifest[\"sap.ui.generic.app\"]?.pages as Array<IGenericApp> | Record<string, IGenericApp>;\n\t\t// if its not list report component or if listreport page settings has\n\t\t// isAddCardToInsightsHidden as true, then do not recommend the card\n\t\tif (Array.isArray(pages)) {\n\t\t\treturn this._isListReport(pages[0]) && !this.isAddCardToInsightsHidden(pages[0]);\n\t\t} else if (Object.keys(pages).length) {\n\t\t\treturn Object.keys(pages).some((key: string) => {\n\t\t\t\tif ((pages as Record<string, unknown>)[key]) {\n\t\t\t\t\treturn this._isListReport(pages[key]) && !this.isAddCardToInsightsHidden(pages[key]);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\treturn false;\n\t}\n\n\t/**\n\t * Get OData Model\n\t *\n\t * @param {object} manifest - manifest object\n\t * @returns {object} returns OData Model\n\t * @private\n\t */\n\tprivate _getOdataModel(oManifest: ICardManifest) {\n\t\treturn new Promise(function (resolve) {\n\t\t\tconst datasource = oManifest?.[\"sap.app\"]?.dataSources;\n\t\t\tconst mainService = datasource?.mainService;\n\t\t\tconst annotationUrls = mainService?.settings?.annotations\n\t\t\t\t.map((sname) => {\n\t\t\t\t\tif (datasource && datasource[sname]) {\n\t\t\t\t\t\treturn datasource[sname]?.uri;\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.filter((urls) => urls !== undefined);\n\t\t\tconst oDataModel = new ODataModelV2(mainService?.uri as string, {\n\t\t\t\tannotationURI: annotationUrls as string[],\n\t\t\t\tloadAnnotationsJoined: true\n\t\t\t});\n\t\t\toDataModel.attachMetadataLoaded(() => {\n\t\t\t\tresolve(oDataModel);\n\t\t\t});\n\t\t\toDataModel.attachMetadataFailed(() => {\n\t\t\t\tresolve(oDataModel);\n\t\t\t});\n\t\t});\n\t}\n\n\t/**\n\t * Get Entity Set\n\t *\n\t * @param {object} manifest - manifest object\n\t * @returns {string} returns entity set\n\t * @private\n\t */\n\tprivate _getEntitySet(manifest: ICardManifest) {\n\t\tconst pages = manifest[\"sap.ui.generic.app\"]?.pages;\n\t\tif (Array.isArray(pages)) {\n\t\t\treturn pages[0].entitySet;\n\t\t} else if (pages) {\n\t\t\tfor (const key in pages as Record<string, IGenericApp>) {\n\t\t\t\tconst oApp = pages[key] as IGenericApp;\n\t\t\t\tif (oApp.component && oApp.component?.name === \"sap.suite.ui.generic.template.ListReport\") {\n\t\t\t\t\treturn oApp.entitySet;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn undefined;\n\t}\n\n\t/**\n\t * function returns true if the passed entityset / properties have mandatory properties\n\t *\n\t * @param {EntitySet} oEntitySet - Entity set\n\t * @param {Array} aProperties - Additional Properties\n\t * @returns {boolean} returns boolean\n\t * @private\n\t */\n\tprivate _hasMandatoryProperties(oEntitySet: IEntitySet, aProperties?: Property[]) {\n\t\t// if entityset has required properties in filter restrictions return true\n\t\tif (oEntitySet?.[\"Org.OData.Capabilities.V1.FilterRestrictions\"]?.[\"RequiredProperties\"]?.length) {\n\t\t\treturn true;\n\t\t} else if (aProperties?.length) {\n\t\t\t// iterate through all properties and return true if any property is mandatory or sap:rquired-in-filter is true\n\t\t\treturn aProperties.some((oProperty: Record<string, string> | Property) => {\n\t\t\t\treturn (\n\t\t\t\t\tObject.keys(oProperty).length &&\n\t\t\t\t\t((oProperty as Record<string, string>)[\"sap:parameter\"] === \"mandatory\" ||\n\t\t\t\t\t\t(oProperty as Record<string, string>)[\"sap:required-in-filter\"] === \"true\")\n\t\t\t\t);\n\t\t\t});\n\t\t}\n\t}\n\n\t/**\n\t * Get Parametersised Entity Set Params\n\t *\n\t * @param {ODataMetaModel} oMetaModel - Meta Model\n\t * @param {string} sEntitySet - Entity Set\n\t * @param {boolean} bIsParamEntitySet - Is Param Entity Set\n\t * @returns {object} returns entity set params\n\t * @private\n\t */\n\tprivate _getParametersisedEntitySetParams(oMetaModel: ODataMetaModel, sEntitySet: string, bInfoParams: boolean) {\n\t\tif (!oMetaModel) {\n\t\t\tthrow new Error(\"OData Model needs to be passed as an argument\");\n\t\t}\n\n\t\tconst oResult: { entitySetName: string | undefined | null; parameters: Array<object | string>; navPropertyName: string | null } = {\n\t\t\tentitySetName: null,\n\t\t\tparameters: [],\n\t\t\tnavPropertyName: null\n\t\t};\n\n\t\tconst oEntitySet = oMetaModel.getODataEntitySet(sEntitySet) as IEntitySet;\n\t\tconst oEntityType = oMetaModel.getODataEntityType(oEntitySet.entityType) as IEntityType;\n\t\tconst aNavigationProperties = oEntityType.navigationProperty;\n\n\t\tif (!aNavigationProperties) {\n\t\t\treturn oResult;\n\t\t}\n\t\t// filter the parameter entityset for extracting it's key and it's entityset name\n\t\taNavigationProperties.forEach(function (oNavProperty) {\n\t\t\tconst oNavigationEntitySet = oMetaModel.getODataAssociationEnd(oEntityType, oNavProperty.name);\n\t\t\tconst oNavigationEntityType = oNavigationEntitySet && (oMetaModel.getODataEntityType(oNavigationEntitySet.type) as IEntityType);\n\t\t\tif (oNavigationEntityType?.[\"sap:semantics\"] !== \"parameters\" || !oNavigationEntityType.key) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\toResult.entitySetName = oMetaModel.getODataAssociationSetEnd(oEntityType, oNavProperty.name)?.entitySet as string;\n\t\t\tfor (let value of oNavigationEntityType.key.propertyRef) {\n\t\t\t\tif (bInfoParams) {\n\t\t\t\t\tconst navProp = oNavigationEntityType.property;\n\t\t\t\t\tfor (let navProperty of navProp) {\n\t\t\t\t\t\tif (navProperty.name === value.name) {\n\t\t\t\t\t\t\toResult.parameters.push(navProperty);\n\t\t\t\t\t\t\toResult.entitySetName = oMetaModel.getODataAssociationSetEnd(oEntityType, oNavProperty.name)?.entitySet;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\toResult.parameters.push(value.name);\n\t\t\t\t}\n\t\t\t}\n\t\t\tconst aSubNavigationProperties = oNavigationEntityType.navigationProperty;\n\t\t\t// Parameter entityset must have association back to main entityset.\n\t\t\tconst bBackAssociationPresent = aSubNavigationProperties?.some(function (oSubNavigationProperty) {\n\t\t\t\tconst sSubNavigationEntityType = oMetaModel.getODataAssociationEnd(\n\t\t\t\t\toNavigationEntityType as EntityType,\n\t\t\t\t\toSubNavigationProperty.name\n\t\t\t\t)?.type;\n\t\t\t\t//if entityset.entitytype is same as subnavigation entitytype then it's a back association\n\t\t\t\toResult.navPropertyName = sSubNavigationEntityType === oEntitySet.entityType ? oSubNavigationProperty.name : null;\n\t\t\t\treturn oResult.navPropertyName;\n\t\t\t});\n\t\t\treturn bBackAssociationPresent && oResult.navPropertyName && oResult.entitySetName;\n\t\t});\n\t\treturn oResult;\n\t}\n\n\t/**\n\t * Get Column Detail\n\t *\n\t * @param {object} oEntityType - entity type object\n\t * @param {object} oMetaModel - meta model object\n\t * @param {object} oColumn - column object\n\t * @returns {object} returns column detail\n\t * @private\n\t */\n\tprivate _getColumnDetail(oEntityType: IEntityType, oMetaModel: ODataMetaModel, oLineItemContext: ILineItemContext) {\n\t\tlet oProperty,\n\t\t\toColumnObject: Record<string, unknown> = {};\n\t\ttype oDataProprty = Record<\n\t\t\tstring,\n\t\t\t{ Bool?: boolean; Path?: string; \"com.sap.vocabularies.UI.v1.TextArrangement\"?: { EnumMember: string } }\n\t\t>;\n\t\tif (oLineItemContext.Value?.Path) {\n\t\t\toProperty = oMetaModel.getODataProperty(oEntityType, oLineItemContext.Value.Path) as oDataProprty | Property;\n\t\t}\n\t\tif (\n\t\t\t!oProperty ||\n\t\t\t(oProperty as oDataProprty)[\"com.sap.vocabularies.UI.v1.Hidden\"]?.Bool ||\n\t\t\toLineItemContext[\"com.sap.vocabularies.UI.v1.Hidden\"]?.Bool\n\t\t) {\n\t\t\treturn oColumnObject;\n\t\t}\n\t\t// if there is field control path binding then ignore the column\n\t\tif ((oProperty as oDataProprty)[\"com.sap.vocabularies.Common.v1.FieldControl\"]?.Path) {\n\t\t\treturn undefined;\n\t\t}\n\t\tlet sColumnKeyDescription = (oProperty as oDataProprty)[\"com.sap.vocabularies.Common.v1.Text\"]?.Path || \"\";\n\t\tsColumnKeyDescription = \"{\" + sColumnKeyDescription + \"}\";\n\t\tlet sColumnValue = \"{\" + (oProperty.name as string) + \"}\";\n\t\tlet sNavigation = \"\"; //need to improve\n\t\tconst aSemKeyAnnotation = oEntityType[\"com.sap.vocabularies.Common.v1.SemanticKey\"];\n\t\tconst bIsPropertySemanticKey =\n\t\t\t!!aSemKeyAnnotation &&\n\t\t\taSemKeyAnnotation.some(function (oAnnotation) {\n\t\t\t\treturn oAnnotation.PropertyPath === (oProperty as oDataProprty).name;\n\t\t\t});\n\n\t\tif ((oProperty as oDataProprty)[\"Org.OData.Measures.V1.ISOCurrency\"]?.Path) {\n\t\t\tsColumnValue = sColumnValue.concat(\n\t\t\t\t\" \" + \"{\" + sNavigation + (oProperty as oDataProprty)[\"Org.OData.Measures.V1.ISOCurrency\"].Path + \"}\"\n\t\t\t);\n\t\t}\n\t\tif ((oProperty as oDataProprty)[\"Org.OData.Measures.V1.Unit\"]?.Path) {\n\t\t\tsColumnValue = sColumnValue.concat(\n\t\t\t\t\" \" + \"{\" + sNavigation + (oProperty as oDataProprty)[\"Org.OData.Measures.V1.Unit\"].Path + \"}\"\n\t\t\t);\n\t\t}\n\n\t\tif ((oProperty as oDataProprty)[\"com.sap.vocabularies.Common.v1.Text\"]?.Path) {\n\t\t\tlet sTextArragement = (oProperty as oDataProprty)[\"com.sap.vocabularies.Common.v1.Text\"][\n\t\t\t\t\"com.sap.vocabularies.UI.v1.TextArrangement\"\n\t\t\t];\n\t\t\tif (!sTextArragement) {\n\t\t\t\tsTextArragement = oEntityType[\"com.sap.vocabularies.UI.v1.TextArrangement\"];\n\t\t\t}\n\n\t\t\tthis._setColumnTextValue(sTextArragement, oColumnObject, sColumnKeyDescription, sColumnValue);\n\t\t} else {\n\t\t\toColumnObject[\"value\"] = sColumnValue;\n\t\t\tif (bIsPropertySemanticKey) {\n\t\t\t\toColumnObject.identifier = bIsPropertySemanticKey;\n\t\t\t}\n\t\t}\n\t\toColumnObject.path = (oProperty as oDataProprty)[\"com.sap.vocabularies.Common.v1.Text\"]\n\t\t\t? (oProperty as oDataProprty)[\"com.sap.vocabularies.Common.v1.Text\"].Path\n\t\t\t: oProperty.name;\n\t\toColumnObject.importance = oLineItemContext[\"com.sap.vocabularies.UI.v1.Importance\"];\n\t\toColumnObject.type = oProperty.type;\n\t\treturn oColumnObject;\n\t}\n\n\t/**\n\t * Sets display text format of column\n\t *\n\t * @private\n\t * @param {{EnumMember: string} | undefined} sTextArragement - sTextArragement object\n\t * @param {Record<string, unknown>} oColumnObject - Object containing column details\n\t * @param {string} sColumnKeyDescription - Description field to include in text value\n\t * @param {string} sColumnValue - The value to include in Text value\n\t */\n\tprivate _setColumnTextValue(\n\t\tsTextArragement: { EnumMember: string } | undefined,\n\t\toColumnObject: Record<string, unknown>,\n\t\tsColumnKeyDescription: string,\n\t\tsColumnValue: string\n\t) {\n\t\tconst sTextArrangementType = sTextArragement?.EnumMember.split(\"/\")[1];\n\n\t\tif (sTextArrangementType === \"TextOnly\") {\n\t\t\toColumnObject[\"value\"] = \"{= $\" + sColumnKeyDescription + \" === '' ? '' : $\" + sColumnKeyDescription + \"}\";\n\t\t} else if (sTextArrangementType === \"TextLast\") {\n\t\t\toColumnObject[\"value\"] =\n\t\t\t\t\"{= $\" +\n\t\t\t\tsColumnValue +\n\t\t\t\t\" === '' ? '' : $\" +\n\t\t\t\tsColumnValue +\n\t\t\t\t\"}\" +\n\t\t\t\t\"{= $\" +\n\t\t\t\tsColumnKeyDescription +\n\t\t\t\t\" === '' ? '' : ' (' + ($\" +\n\t\t\t\tsColumnKeyDescription +\n\t\t\t\t\") + ')'}\";\n\t\t} else if (sTextArrangementType === \"TextSeparate\") {\n\t\t\toColumnObject[\"value\"] = \"{= $\" + sColumnValue + \" === '' ? '' : $\" + sColumnValue + \"}\";\n\t\t} else {\n\t\t\t// Default case\n\t\t\toColumnObject[\"value\"] =\n\t\t\t\t\"{= $\" +\n\t\t\t\tsColumnKeyDescription +\n\t\t\t\t\" === '' ? '' : $\" +\n\t\t\t\tsColumnKeyDescription +\n\t\t\t\t\"}\" +\n\t\t\t\t\"{= $\" +\n\t\t\t\tsColumnValue +\n\t\t\t\t\" === '' ? '' : ' (' + ($\" +\n\t\t\t\tsColumnValue +\n\t\t\t\t\") + ')'}\";\n\t\t}\n\t}\n\n\t/**\n\t * Get Manifest Card Data\n\t *\n\t * @param {object} manifest - manifest object\n\t * @param {object} entityType - entity type object\n\t * @param {object} lineItem - line item object\n\t * @param {string} entitySet - entity set\n\t * @param {object} parentApp - parent app object\n\t * @param {object} metaModel - meta model object\n\t * @returns {object} returns card data\n\t * @private\n\t */\n\tprivate _getManifestCardData(\n\t\tmanifest: ICardManifest,\n\t\toEntityType: IEntityType,\n\t\tlineItem: Array<ILineItemContext>,\n\t\tentitySet: IEntitySet | string,\n\t\toParentApp: unknown,\n\t\toMetaModel: ODataMetaModel\n\t): IManifestCardData {\n\t\tconst mainServiceUri = manifest?.[\"sap.app\"]?.dataSources.mainService.uri;\n\t\tconst serviceUrl =\n\t\t\tmainServiceUri?.[mainServiceUri.length - 1] === \"/\"\n\t\t\t\t? mainServiceUri + (entitySet as string)\n\t\t\t\t: mainServiceUri + \"/\" + (entitySet as string);\n\n\t\t//get the column details for each of the lineitem columns\n\t\tconst aColumns = lineItem\n\t\t\t?.map((oColumn) => {\n\t\t\t\treturn this._getColumnDetail(oEntityType, oMetaModel, oColumn);\n\t\t\t})\n\t\t\t.filter(function (oItem) {\n\t\t\t\t// if no column or if path of column is complex path then filter it out\n\t\t\t\treturn oItem !== undefined && (oItem as { path: string }).path.split(\"/\").length <= 1;\n\t\t\t});\n\t\t//sort  the column based on their importance and then splice the first 4 columns\n\t\tconst aColumnSorted = DataFormatUtils.sortCollectionByImportance(aColumns)\n\t\t\t.map((column) => {\n\t\t\t\ttype prop = { path: string; type: string; value: string };\n\t\t\t\treturn { path: (column as prop).path, type: (column as prop).type, value: (column as prop).value };\n\t\t\t})\n\t\t\t.splice(0, 4);\n\t\treturn {\n\t\t\tcardTitle: manifest?.[\"sap.app\"]?.title,\n\t\t\tsubTitle: oEntityType[\"com.sap.vocabularies.Common.v1.Label\"]\n\t\t\t\t? \"Top 5 \" + oEntityType[\"com.sap.vocabularies.Common.v1.Label\"].String\n\t\t\t\t: \"\",\n\t\t\turl: serviceUrl + \"?$top=5&skip=0\",\n\t\t\tsemanticObject: (oParentApp as { semanticObject: string }).semanticObject,\n\t\t\taction: (oParentApp as { action: string }).action,\n\t\t\tid: manifest?.[\"sap.app\"]?.id,\n\t\t\tcolumns: aColumnSorted\n\t\t};\n\t}\n\n\t/**\n\t * Load I18n\n\t *\n\t * @param {object} manifest - manifest object\n\t * @param {string} manifestUrl - manifest url\n\t * @returns {object} returns resource bundle\n\t * @private\n\t */\n\tprivate async loadI18n(manifest: ICardManifest, manifestUrl: string) {\n\t\t// construct abslute url for properties file relative to manifest url\n\t\tconst i18nBundleUrl = manifest?.[\"sap.app\"]?.[\"i18n\"][\"bundleUrl\"] as string;\n\t\tconst absoluteUrl = new URL(i18nBundleUrl, manifestUrl).href;\n\t\tthis._RBManifestMap = this._RBManifestMap || {};\n\t\tif (!this._RBManifestMap[absoluteUrl]) {\n\t\t\tconst oResourceBundle = await ResourceBundle.create({\n\t\t\t\t// specify url of the base .properties file\n\t\t\t\tbundleUrl: absoluteUrl,\n\t\t\t\tasync: true,\n\t\t\t\tterminologies: manifest[\"sap.app\"]?.[\"i18n\"][\"terminologies\"]\n\t\t\t});\n\t\t\tthis._RBManifestMap[absoluteUrl] = oResourceBundle;\n\t\t}\n\t\treturn this._RBManifestMap[absoluteUrl];\n\t}\n\n\t/**\n\t * Get I18n Value Or Default String\n\t *\n\t * @param {string} sValue - value\n\t * @param {object} oResourceBundle - resource bundle object\n\t * @returns {string} returns string\n\t * @private\n\t */\n\tprivate getI18nValueOrDefaultString(sValue: string, oRB: ResourceBundle) {\n\t\tlet sPath = \"\";\n\t\tif (sValue && sValue.startsWith(\"{{\")) {\n\t\t\tsPath = sValue.substring(2, sValue.length - 2);\n\t\t} else if (sValue && sValue.startsWith(\"{\")) {\n\t\t\tsPath = sValue.substring(1, sValue.length - 1);\n\t\t}\n\t\treturn sPath ? oRB.getText(sPath) : sValue;\n\t}\n\n\t/**\n\t * Get Attribute Value\n\t *\n\t * @param {object} oColumn - column object\n\t * @returns {string} returns attribute value\n\t * @private\n\t */\n\tprivate _getAttributeValue(oAttribute: unknown) {\n\t\ttype attribute = { value: string; path: string; type: string };\n\t\tlet oAttributeValue = !(oAttribute as attribute).value.startsWith(\"{\")\n\t\t\t? \"{= extension.formatters.stringFormatter(${\" + (oAttribute as attribute).path + \"}) }\"\n\t\t\t: (oAttribute as attribute).value;\n\t\tif ((oAttribute as attribute).type === \"Edm.Date\" || (oAttribute as attribute).type === \"Edm.DateTime\") {\n\t\t\tconst oDateFormatOptions = JSON.stringify({\n\t\t\t\tpattern: Formatting.getDatePattern(\"short\")\n\t\t\t});\n\t\t\toAttributeValue =\n\t\t\t\t\"{=${\" +\n\t\t\t\t(oAttribute as attribute).path +\n\t\t\t\t\"}?format.dateTime(${\" +\n\t\t\t\t(oAttribute as attribute).path +\n\t\t\t\t\"}, \" +\n\t\t\t\toDateFormatOptions +\n\t\t\t\t\") : ''}\";\n\t\t}\n\t\treturn oAttributeValue;\n\t}\n\n\t/**\n\t * Get Manifest\n\t *\n\t * @param {object} cardInput - card input object\n\t * @returns {object} returns manifest\n\t * @private\n\t */\n\tprivate _getManifest(oInput: IManifestCardData) {\n\t\tconst cardSkeletonCopy = JSON.parse(JSON.stringify(CardSkeleton)) as ICardManifest;\n\t\tconst oApp = cardSkeletonCopy[\"sap.app\"];\n\t\tconst oCard = cardSkeletonCopy[\"sap.card\"];\n\t\tif (oApp) {\n\t\t\toApp.id = \"user.\" + oInput.id + \".\" + Date.now();\n\t\t\toApp.title = (oCard.header as { title: string }).title = oInput.cardTitle as string;\n\t\t\toApp.subTitle = (oCard.header as { subTitle: string }).subTitle = oInput.subTitle;\n\t\t}\n\t\tconst oContent = oCard.content;\n\t\toContent.item.title = this._getAttributeValue(oInput.columns[0]);\n\t\toContent.item.description = this._getAttributeValue(oInput.columns[1]);\n\t\toContent.item.attributes[0] = {\n\t\t\tvalue: this._getAttributeValue(oInput.columns[2]),\n\t\t\tvisible: \"{= !!${\" + (oInput.columns[2] as { path: string }).path + \"} }\"\n\t\t};\n\t\toContent.data.request.url = oInput.url;\n\n\t\toContent.item.actions = oCard.header.actions = [\n\t\t\t{\n\t\t\t\ttype: \"Navigation\",\n\t\t\t\tparameters: {\n\t\t\t\t\tibnTarget: {\n\t\t\t\t\t\tsemanticObject: oInput.semanticObject,\n\t\t\t\t\t\taction: oInput.action\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t];\n\n\t\tcardSkeletonCopy[\"sap.insights\"] = {\n\t\t\tparentAppId: oInput.id as string,\n\t\t\tcardType: \"RT\",\n\t\t\tversions: {\n\t\t\t\tui5: this.versionInfo.version + \"-\" + this.versionInfo.buildTimestamp\n\t\t\t},\n\t\t\tvisible: true\n\t\t};\n\n\t\treturn cardSkeletonCopy;\n\t}\n\n\t/**\n\t * Fetch Card Mainfest\n\t *\n\t * @param {string[]} aAppIds - array of app ids\n\t * @returns {Promise} resolves to array of card manifest\n\t * @private\n\t */\n\tprivate async _getCardMainfest(aAppIds: string[]) {\n\t\tconst [aInbounds, aCatalog] = await Promise.all([this._getInboundApps(), this._getCatalogApps()]);\n\t\tthis.versionInfo = (await VersionInfo.load()) as { version: string; buildTimestamp: string };\n\n\t\tlet aAppUrls = aAppIds\n\t\t\t.map((appId) => {\n\t\t\t\tconst oApp = aInbounds.find((oItem) => {\n\t\t\t\t\treturn oItem?.signature?.parameters?.[\"sap-fiori-id\"]?.defaultValue?.value === appId;\n\t\t\t\t});\n\n\t\t\t\tif (oApp) {\n\t\t\t\t\tconst oViz = aCatalog.find((oCatalog) => {\n\t\t\t\t\t\treturn oApp.semanticObject === oCatalog.target?.semanticObject && oApp.action === oCatalog.target?.action;\n\t\t\t\t\t});\n\t\t\t\t\treturn (oViz && oApp?.resolutionResult?.applicationDependencies?.manifest) as string;\n\t\t\t\t}\n\t\t\t\treturn undefined;\n\t\t\t})\n\t\t\t.filter((url) => {\n\t\t\t\treturn url !== undefined;\n\t\t\t});\n\n\t\tconst aManifestPromises = aAppUrls.map(async (url) => {\n\t\t\tconst response = await fetch(String(url));\n\t\t\tconst manifest = (await response.json()) as ICardManifest;\n\t\t\treturn {\n\t\t\t\turl: response.url,\n\t\t\t\tmanifest: manifest\n\t\t\t};\n\t\t});\n\n\t\tconst aManifest = await Promise.all(aManifestPromises);\n\n\t\tconst validManifests = aManifest.filter((manifestObj) => {\n\t\t\treturn this._checkValidManifests(manifestObj.manifest);\n\t\t});\n\n\t\tconst odataPromises = validManifests.map((manifestObj) => {\n\t\t\treturn this._getOdataModel(manifestObj.manifest).then((model) => {\n\t\t\t\treturn (model as Model).getMetaModel();\n\t\t\t});\n\t\t});\n\n\t\tconst aMetaModel = await Promise.all(odataPromises);\n\t\tconst cardPromises = validManifests.map(async (manifestObj, index) => {\n\t\t\ttry {\n\t\t\t\tconst oMetaModel = aMetaModel[index] as ODataMetaModel;\n\t\t\t\tconst entitySet = this._getEntitySet(manifestObj.manifest);\n\t\t\t\tif (!entitySet) {\n\t\t\t\t\treturn undefined;\n\t\t\t\t}\n\t\t\t\tconst oEntitySet = oMetaModel.getODataEntitySet(entitySet as string) as IEntitySet;\n\t\t\t\tconst oEntityType = oMetaModel.getODataEntityType(oEntitySet.entityType) as IEntityType;\n\t\t\t\tconst oLineItem = oEntityType[\"com.sap.vocabularies.UI.v1.LineItem\"];\n\t\t\t\tif (!oLineItem || this._hasMandatoryProperties(oEntitySet, oEntityType.property)) {\n\t\t\t\t\treturn undefined;\n\t\t\t\t}\n\t\t\t\tconst parameterDetails = this._getParametersisedEntitySetParams(oMetaModel, entitySet as string, true);\n\t\t\t\tif (parameterDetails && parameterDetails.entitySetName && parameterDetails.parameters.length) {\n\t\t\t\t\tconst paramEntitySet = oMetaModel.getODataEntitySet(parameterDetails.entitySetName) as EntitySet;\n\t\t\t\t\tif (this._hasMandatoryProperties(paramEntitySet, parameterDetails.parameters as Property[])) {\n\t\t\t\t\t\treturn undefined;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tconst oParentApp = aInbounds.find(function (oApp) {\n\t\t\t\t\treturn oApp.resolutionResult && oApp.resolutionResult.ui5ComponentName === manifestObj?.manifest?.[\"sap.app\"]?.id;\n\t\t\t\t});\n\t\t\t\tconst cardInput = this._getManifestCardData(\n\t\t\t\t\tmanifestObj.manifest,\n\t\t\t\t\toEntityType,\n\t\t\t\t\toLineItem,\n\t\t\t\t\tentitySet as IEntitySet,\n\t\t\t\t\toParentApp as unknown,\n\t\t\t\t\toMetaModel\n\t\t\t\t);\n\t\t\t\t// if less than 3 columns are present in the card, then do not recommend the card\n\t\t\t\tif (cardInput.columns.length < 3) {\n\t\t\t\t\treturn undefined;\n\t\t\t\t}\n\t\t\t\tif (typeof manifestObj?.manifest?.[\"sap.app\"]?.i18n === \"object\") {\n\t\t\t\t\tconst i18nBundleUrl = manifestObj.manifest[\"sap.app\"].i18n.bundleUrl;\n\t\t\t\t\t//if manifest title is not resolved load the resource bundle of the parent app and get the text\n\t\t\t\t\tif (\n\t\t\t\t\t\ti18nBundleUrl &&\n\t\t\t\t\t\t(manifestObj.manifest[\"sap.app\"].title.startsWith(\"i18n>\") || manifestObj.manifest[\"sap.app\"].title.startsWith(\"{\"))\n\t\t\t\t\t) {\n\t\t\t\t\t\tconst i18nResourceBundle = await this.loadI18n(manifestObj.manifest, manifestObj.url);\n\t\t\t\t\t\tcardInput.cardTitle = this.getI18nValueOrDefaultString(cardInput.cardTitle as string, i18nResourceBundle);\n\t\t\t\t\t\treturn this._getManifest(cardInput);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn this._getManifest(cardInput);\n\t\t\t} catch (error) {\n\t\t\t\tLog.error(error as string);\n\t\t\t\treturn undefined;\n\t\t\t}\n\t\t});\n\n\t\tconst cards = await Promise.all(cardPromises);\n\t\treturn cards.filter((card) => {\n\t\t\treturn card !== undefined;\n\t\t});\n\t}\n\n\t/**\n\t * Remove Duplicate Cards\n\t *\n\t * @param {object[]} aCards - array of cards\n\t * @returns {object[]} returns array of cards\n\t * @private\n\t */\n\tprivate _removeDuplicateCards(aCards: ICard[]) {\n\t\tconst oCardDict: Record<string, unknown> = {};\n\t\tconst aResult: ICard[] = [];\n\t\taCards.forEach((oCard) => {\n\t\t\tconst sCardTitle = oCard?.descriptorContent?.[\"sap.card\"]?.header?.title || \"\";\n\t\t\tif (!oCardDict[sCardTitle]) {\n\t\t\t\taResult.push(oCard);\n\t\t\t\toCardDict[sCardTitle] = true;\n\t\t\t}\n\t\t});\n\t\treturn aResult;\n\t}\n\n\t/**\n\t * Fetch Recommended Cards\n\t *\n\t * @returns {Promise} resolves to array of recommended cards\n\t * @private\n\t */\n\tpublic async getRecommenedCards() {\n\t\ttry {\n\t\t\tconst aAppIds = await this._getRecommenedFioriIds();\n\t\t\tconst aManifests = await this._getCardMainfest(aAppIds);\n\t\t\tconst aRecManifests = aManifests.slice(0, RECOMMENDED_CARD_LIMIT);\n\t\t\tconst aRecommendedCards = aRecManifests.map((manifest) => {\n\t\t\t\tlet id;\n\t\t\t\tif (manifest) {\n\t\t\t\t\tmanifest[\"sap.card\"].rec = true;\n\t\t\t\t\tid = manifest[\"sap.app\"]?.id as string;\n\t\t\t\t}\n\t\t\t\treturn {\n\t\t\t\t\tid,\n\t\t\t\t\tdescriptorContent: manifest\n\t\t\t\t};\n\t\t\t});\n\t\t\treturn this._removeDuplicateCards(aRecommendedCards as ICard[]);\n\t\t} catch (error) {\n\t\t\tLog.error(\"Error while fetching recommended cards: \" + (error as Error).message);\n\t\t\treturn [];\n\t\t}\n\t}\n\n\t/**\n\t * Retrieves a list of recommended visualizations for the user.\n\t *\n\t * The final list is composed of up to 10 recommendations, with must-include visualizations prioritized.\n\t * If no recommended visualizations are available or if an error occurs, it returns an empty array.\n\t *\n\t * @private\n\t * @async\n\t * @param {boolean} [forceRefresh=false] - If `true`, forces a refresh of the recommended visualizations\n\t *                                         regardless of whether they are cached.\n\t * @returns {Promise<ICustomVisualization[]>} A promise that resolves to an array of recommended visualizations.\n\t *                                            The array is limited to 10 visualizations, including must-include recommendations.\n\t */\n\tpublic async getRecommendedVisualizations(forceRefresh: boolean = false) {\n\t\tif (!this._recommendedVisualizations || forceRefresh) {\n\t\t\tconst recommendedFioriIds = await this._getRecommenedFioriIds(forceRefresh);\n\t\t\tif (recommendedFioriIds.length) {\n\t\t\t\tlet finalRecommendations: ICustomVisualization[] = [];\n\t\t\t\tlet mustIncludeRecommendations: ICustomVisualization[] = [];\n\t\t\t\tlet [recommendedVisualizations, favoriteVisualizations] = await Promise.all([\n\t\t\t\t\tthis._getVisualizationsByFioriIds(recommendedFioriIds),\n\t\t\t\t\tthis._fetchMyHomeVizs(forceRefresh)\n\t\t\t\t]);\n\t\t\t\t//filter out recommendations that are already added\n\t\t\t\trecommendedVisualizations = recommendedVisualizations.filter((recViz) =>\n\t\t\t\t\t_isVisualizationAlreadyAdded(recViz, favoriteVisualizations)\n\t\t\t\t);\n\t\t\t\trecommendedVisualizations.forEach((recViz) => {\n\t\t\t\t\tif (_isMustIncludeRecommendation(recViz)) {\n\t\t\t\t\t\tmustIncludeRecommendations.push(recViz);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tfinalRecommendations.push(recViz);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\t//return only 10 recommended apps along with 'MyInbox' and 'Manage My Timesheet' if user has access to these apps.\n\t\t\t\tthis._recommendedVisualizations = finalRecommendations\n\t\t\t\t\t.slice(0, 10 - mustIncludeRecommendations.length)\n\t\t\t\t\t.concat(mustIncludeRecommendations);\n\t\t\t} else {\n\t\t\t\tthis._recommendedVisualizations = [];\n\t\t\t}\n\t\t}\n\t\treturn this._recommendedVisualizations;\n\t}\n\n\t/**\n\t * Asynchronously retrieves the list of inbound applications from the SAP Fiori client-side target resolution service.\n\t *\n\t * @private\n\t * @async\n\t * @returns {Promise<Array>} A promise that resolves to an array of inbound applications.\n\t *                            If an error occurs or the inbound applications are not available, it resolves to an empty array.\n\t */\n\tprivate async _getInboundApps() {\n\t\ttry {\n\t\t\tconst service = await Container.getServiceAsync<ClientSideTargetResolution>(\"ClientSideTargetResolution\");\n\t\t\treturn service?._oAdapter?._aInbounds || [];\n\t\t} catch (error) {\n\t\t\tLog.error(\"Error while fetching inbound apps: \" + (error as Error).message);\n\t\t\treturn [];\n\t\t}\n\t}\n\n\t/**\n\t * Retrieves visualizations based on a list of Fiori IDs.\n\t *\n\t * This function processes the given Fiori IDs to find associated visualizations. It does so by fetching\n\t * inbound applications and catalog apps, then matching the Fiori IDs to filter out and gather relevant visualizations.\n\t * The function distinguishes between GUI and non-GUI visualizations, prioritizing non-GUI visualizations if both types are found.\n\t * It also ensures that each visualization is unique based on its URL and title, avoiding duplicates.\n\t *\n\t * @private\n\t * @async\n\t * @param {string[]} fioriIds - An array of Fiori IDs to search for visualizations.\n\t * @returns {Promise<ICustomVisualization[]>} A promise that resolves to an array of unique visualizations associated with the provided Fiori IDs.\n\t */\n\tprivate async _getVisualizationsByFioriIds(fioriIds: string[]) {\n\t\tconst visualizations: ICustomVisualization[] = [];\n\t\tconst visitedVisualizations: Map<string, boolean> = new Map<string, boolean>();\n\t\tconst [inbounds, catalogApps] = await Promise.all([this._getInboundApps(), this._getCatalogApps()]);\n\t\tfioriIds.forEach((fioriId) => {\n\t\t\t// get all inbounds with the fiori id\n\t\t\tconst authorizedApps = inbounds.filter(function (inbound) {\n\t\t\t\treturn inbound?.signature.parameters[\"sap-fiori-id\"]?.defaultValue?.value === fioriId;\n\t\t\t});\n\t\t\tauthorizedApps.forEach((app) => {\n\t\t\t\t//filter apps that matched semantic object action\n\t\t\t\tlet matchingVizualizations = catalogApps.filter((catalogApp) => {\n\t\t\t\t\treturn catalogApp?.target?.semanticObject === app.semanticObject && catalogApp.target.action === app.action;\n\t\t\t\t});\n\n\t\t\t\tconst guiVisualizations = matchingVizualizations.filter((matchingVizualization) =>\n\t\t\t\t\t_isGUIVisualization(matchingVizualization)\n\t\t\t\t);\n\t\t\t\tconst nonGuiVisualizations = matchingVizualizations.filter(\n\t\t\t\t\t(matchingVizualization) => !_isGUIVisualization(matchingVizualization)\n\t\t\t\t);\n\t\t\t\t//if both gui and non-gui visualizations exists, then consider only non-gui visualizations for recommendation.\n\t\t\t\tif (guiVisualizations.length > 0 && nonGuiVisualizations.length > 0) {\n\t\t\t\t\tmatchingVizualizations = [...nonGuiVisualizations];\n\t\t\t\t}\n\n\t\t\t\tmatchingVizualizations.forEach((matchingVizualization) => {\n\t\t\t\t\tlet visualization = matchingVizualization.visualizations[0];\n\t\t\t\t\tlet recommendedVisualization: ICustomVisualization = {\n\t\t\t\t\t\ttitle: visualization.title,\n\t\t\t\t\t\tsubtitle: visualization.subtitle,\n\t\t\t\t\t\ticon: visualization.icon,\n\t\t\t\t\t\turl: visualization.targetURL,\n\t\t\t\t\t\tvizId: visualization.vizId,\n\t\t\t\t\t\tfioriId: fioriId,\n\t\t\t\t\t\tvisualization: visualization\n\t\t\t\t\t};\n\t\t\t\t\t//if app with same url or title already recommended, then don't consider it.\n\t\t\t\t\tif (\n\t\t\t\t\t\t!visitedVisualizations.has(recommendedVisualization.url!) ||\n\t\t\t\t\t\t!visitedVisualizations.has(recommendedVisualization.title!)\n\t\t\t\t\t) {\n\t\t\t\t\t\tvisitedVisualizations.set(recommendedVisualization.url!, true);\n\t\t\t\t\t\tvisitedVisualizations.set(recommendedVisualization.title!, true);\n\t\t\t\t\t\tvisualizations.push(recommendedVisualization);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t});\n\t\treturn visualizations;\n\t}\n}\n"],"mappings":"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","ignoreList":[],"sourceRoot":"utils"}},{"offset":{"line":425,"column":0},"map":{"version":3,"file":"BatchHelper.js","names":["sap","ui","define","BaseObject","_catch","body","recover","result","e","then","methods","MultiPartRequest","batchRequests","constructor","url","csrfToken","this","encodeURI","boundary","Date","now","options","headers","method","GET","_constructBody","BOUNDARY","REQUEST_HEADERS","REQUEST_BODY","index","length","request","boundaryEnd","addRequest","push","getDataFromRawValue","value","parsedValue","split","filter","data","finalData","contentTypeValue","includes","JSON","parse","fetchCSRFToken","baseURL","Promise","resolve","fetch","HEAD","response","ok","token","get","Error","error","message","reject","BatchHelper","extend","fetchData","_fetchData","multiPartRequest","_this","POST","text","buildMultipartRequest","_buildMultipartRequest","urls","forEach","createMultipartRequest","Instance"],"sources":["BatchHelper.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\n\nimport BaseObject from \"sap/ui/base/Object\";\n\nenum methods {\n\tGET = \"GET\",\n\tPOST = \"POST\",\n\tPUT = \"PUT\",\n\tPATCH = \"PATCH\",\n\tDELETE = \"DELETE\",\n\tHEAD = \"HEAD\"\n}\n\ninterface Options {\n\theaders: Record<string, string>;\n\tmethod: methods;\n\tbody?: string;\n}\n\n/**\n * Represents a multipart request.\n */\nclass MultiPartRequest {\n\tprivate url: string;\n\tprivate batchRequests: MultiPartRequest[] = [];\n\tprivate boundary: string;\n\tpublic options: Options;\n\n\t/**\n\t * Creates a MultiPartRequest object.\n\t *\n\t * @param {string} url - The URL for the multipart request.\n\t * @constructor\n\t */\n\tconstructor(url: string, csrfToken: string) {\n\t\tthis.url = encodeURI(url);\n\t\tthis.boundary = `batch_id_${Date.now()}_01`;\n\t\tthis.options = {\n\t\t\theaders: {\n\t\t\t\t\"Content-Type\": `multipart/mixed;boundary=${this.boundary}`\n\t\t\t},\n\t\t\tmethod: methods.GET\n\t\t};\n\n\t\t// Add CSRF token to headers if available\n\t\tif (csrfToken) {\n\t\t\tthis.options.headers[\"X-CSRF-Token\"] = csrfToken;\n\t\t}\n\t}\n\n\t/**\n\t * Constructs the body for the multipart request.\n\t *\n\t * @returns {string} - The constructed body.\n\t * @private\n\t */\n\tpublic _constructBody(): string {\n\t\tconst BOUNDARY = `--${this.boundary}`;\n\t\tconst REQUEST_HEADERS = `Content-Type: application/http\\r\\nContent-Transfer-Encoding: binary\\r\\n`;\n\t\tconst REQUEST_BODY = `Accept: application/json\\r\\n\\r\\n\\r\\n`;\n\n\t\tlet body = `${BOUNDARY}\\r\\n`;\n\n\t\tfor (let index = 0; index < this.batchRequests.length; index++) {\n\t\t\tconst request = this.batchRequests[index];\n\t\t\tconst boundaryEnd = index === this.batchRequests.length - 1 ? \"--\\r\\n\" : \"\\r\\n\";\n\t\t\tbody += `${REQUEST_HEADERS}\\r\\n`;\n\t\t\tbody += `${request.options.method} ${request.url} HTTP/1.1\\r\\n${REQUEST_BODY}`;\n\t\t\tbody += `${BOUNDARY}${boundaryEnd}`;\n\t\t}\n\n\t\treturn body;\n\t}\n\n\t/**\n\t * Adds a request to the MultiPartRequest batch.\n\t *\n\t * @public\n\t * @param {Object} request - The request to add to the batch.\n\t */\n\tpublic addRequest(request: MultiPartRequest): void {\n\t\tthis.batchRequests.push(request);\n\t}\n}\n\n/**\n * Parses multipart body response and returns an array of values called in the batch request.\n *\n * @param {string} value - Multipart body response.\n * @returns {Object[]} - Array of values in the multipart request.\n * @returns {Object[]} - An array of values in the multipart request.\n */\nconst getDataFromRawValue = function (value: string): (string | object)[] {\n\tconst parsedValue = value.split(\"\\r\\n\").filter((data) => data !== \"\");\n\n\tconst finalData: (string | object)[] = [];\n\tlet contentTypeValue = \"\";\n\n\tfor (let index = 1; index < parsedValue.length - 1; index++) {\n\t\tcontentTypeValue = parsedValue[index].includes(\"Content-Type: \") ? parsedValue[index].split(\"Content-Type: \")[1] : contentTypeValue;\n\n\t\tif (parsedValue[index + 1].includes(parsedValue[0])) {\n\t\t\tif (contentTypeValue === \"application/json\") {\n\t\t\t\tfinalData.push(JSON.parse(parsedValue[index]) as string);\n\t\t\t} else {\n\t\t\t\tfinalData.push(parsedValue[index]);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn finalData;\n};\n\n/**\n * Fetches the CSRF token from the specified base URL.\n *\n * @async\n * @param {string} baseURL - The base URL to fetch the CSRF token from.\n * @returns {Promise<string>} A Promise that resolves when all batch requests are completed. A promise that resolves to the CSRF token.\n * @throws {Error} An error if the CSRF token cannot be fetched.\n */\nconst fetchCSRFToken = async function (baseURL: string): Promise<string> {\n\ttry {\n\t\tconst response = await fetch(baseURL, {\n\t\t\tmethod: methods.HEAD,\n\t\t\theaders: {\n\t\t\t\t\"X-CSRF-Token\": \"Fetch\"\n\t\t\t}\n\t\t});\n\n\t\tif (response.ok) {\n\t\t\tconst token = response.headers.get(\"X-CSRF-Token\");\n\t\t\tif (token) {\n\t\t\t\treturn token;\n\t\t\t}\n\t\t}\n\n\t\tthrow new Error(\"Cannot fetch X-CSRF-Token.\");\n\t} catch (error: unknown) {\n\t\tthrow new Error((error as Error).message);\n\t}\n};\n\n/**\n *\n * Helper class for managing batch requests.\n *\n * @extends BaseObject\n *\n * @author SAP SE\n * @version 0.0.1\n * @since 1.121\n *\n * @internal\n * @experimental Since 1.121\n * @private\n *\n * @alias sap.cux.home.utils.BatchHelper\n */\nexport default class BatchHelper extends BaseObject {\n\tprivate url!: string;\n\tstatic Instance: BatchHelper;\n\n\t/**\n\t * Fetches data from a multipart request.\n\t *\n\t * @private\n\t * @param {MultiPartRequest} multiPartRequest - The multipart request object.\n\t * @returns {Promise<Array<string | object>>} - A promise that resolves to the data from the request.\n\t */\n\tprivate async fetchData(multiPartRequest: MultiPartRequest): Promise<Array<string | object>> {\n\t\tmultiPartRequest.options.body = multiPartRequest._constructBody();\n\t\tmultiPartRequest.options.method = methods.POST;\n\n\t\tconst response = await fetch(this.url, multiPartRequest.options);\n\n\t\tif (!response.ok) {\n\t\t\tthrow new Error(\"Failed to fetch data from the server.\");\n\t\t}\n\n\t\tconst text = await response.text();\n\t\treturn getDataFromRawValue(text);\n\t}\n\n\t/**\n\t * Creates a multipart batch request with multiple URLs.\n\t *\n\t * @public\n\t * @param {string} baseURL - The base URL for creating the batch request.\n\t * @param {string[]} urls - An array of URLs for individual requests.\n\t * @returns {Promise<Array<string | object>>} - A promise that resolves to the data from the batch request.\n\t */\n\tpublic static async createMultipartRequest(baseURL: string, urls: string[]): Promise<Array<string | object>> {\n\t\tif (!BatchHelper.Instance) {\n\t\t\tBatchHelper.Instance = new BatchHelper();\n\t\t}\n\t\tBatchHelper.Instance.url = `${baseURL}$batch`;\n\t\tconst csrfToken = await fetchCSRFToken(baseURL);\n\t\tconst request = BatchHelper.Instance.buildMultipartRequest(urls, csrfToken);\n\t\treturn await BatchHelper.Instance.fetchData(request);\n\t}\n\n\t/**\n\t * Builds a multipart request from an array of URLs.\n\t *\n\t * @private\n\t * @param {string[]} urls - An array of URLs for individual requests.\n\t * @returns {MultiPartRequest} - The multipart request object.\n\t */\n\tprivate buildMultipartRequest(urls: string[], csrfToken: string): MultiPartRequest {\n\t\t// create base request from first URL\n\t\tconst request = new MultiPartRequest(urls[0], csrfToken);\n\n\t\t// Add all URLs as sub-requests\n\t\turls.forEach((url) => {\n\t\t\trequest.addRequest(new MultiPartRequest(url, csrfToken));\n\t\t});\n\n\t\treturn request;\n\t}\n}\n"],"mappings":"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","ignoreList":[],"sourceRoot":"utils"}},{"offset":{"line":432,"column":0},"map":{"version":3,"file":"CardSkeleton.js","names":["sap","ui","define","CardSkeleton","_version","id","type","title","subTitle","applicationVersion","version","shortTitle","info","description","tags","keywords","extension","header","content","data","request","url","method","parameters","$format","path","item","attributesLayoutType","attributes","value","maxItems","__exports","__esModule"],"sources":["CardSkeleton.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\nexport const CardSkeleton = {\n\t_version: \"1.14.0\",\n\t\"sap.app\": {\n\t\tid: \"card.explorer.data.list.card\",\n\t\ttype: \"card\",\n\t\ttitle: \"Sample for Data usage in Cards\",\n\t\tsubTitle: \"Sample for Data usage in Cards\",\n\t\tapplicationVersion: {\n\t\t\tversion: \"1.0.0\"\n\t\t},\n\t\tshortTitle: \"A short title for this Card\",\n\t\tinfo: \"Additional information about this Card\",\n\t\tdescription: \"A long description for this Card\",\n\t\ttags: {\n\t\t\tkeywords: [\"Data\", \"Card\", \"Sample\"]\n\t\t}\n\t},\n\t\"sap.card\": {\n\t\textension: \"./sap/bc/ui5_ui5/sap/product_homes1/dataDump/CardExtension\",\n\t\ttype: \"List\",\n\t\theader: {\n\t\t\ttitle: \"Products\",\n\t\t\tsubTitle: \"In Stock Information\"\n\t\t},\n\t\tcontent: {\n\t\t\tdata: {\n\t\t\t\trequest: {\n\t\t\t\t\turl: \"\",\n\t\t\t\t\tmethod: \"GET\",\n\t\t\t\t\tparameters: {\n\t\t\t\t\t\t$format: \"json\"\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tpath: \"/d/results\"\n\t\t\t},\n\t\t\titem: {\n\t\t\t\ttitle: \"{ProductName}\",\n\t\t\t\tdescription: \"{UnitsInStock} units in stock\",\n\t\t\t\tattributesLayoutType: \"OneColumn\",\n\t\t\t\tattributes: [\n\t\t\t\t\t{\n\t\t\t\t\t\tvalue: \"{Processor}\"\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t},\n\t\t\tmaxItems: 5\n\t\t}\n\t}\n};\n"],"mappings":"AAAA;;;;AAAA,aAAAA,IAAAC,GAAAC,OAAA,2BAIO,MAAMC,EAAe,CAC3BC,SAAU,SACV,UAAW,CACVC,GAAI,+BACJC,KAAM,OACNC,MAAO,iCACPC,SAAU,iCACVC,mBAAoB,CACnBC,QAAS,SAEVC,WAAY,8BACZC,KAAM,yCACNC,YAAa,mCACbC,KAAM,CACLC,SAAU,CAAC,OAAQ,OAAQ,YAG7B,WAAY,CACXC,UAAW,6DACXV,KAAM,OACNW,OAAQ,CACPV,MAAO,WACPC,SAAU,wBAEXU,QAAS,CACRC,KAAM,CACLC,QAAS,CACRC,IAAK,GACLC,OAAQ,MACRC,WAAY,CACXC,QAAS,SAGXC,KAAM,cAEPC,KAAM,CACLnB,MAAO,gBACPM,YAAa,gCACbc,qBAAsB,YACtBC,WAAY,CACX,CACCC,MAAO,iBAIVC,SAAU,KAGX,IAAAC,EAAA,CAAAC,WAAA,MAAAD,EAAA5B,eAAA,OAAA4B,CAAA","ignoreList":[],"sourceRoot":"utils"}},{"offset":{"line":439,"column":0},"map":{"version":3,"file":"ColorUtils.js","names":["sap","ui","define","___Constants","DEFAULT_BG_COLOR","LEGEND_COLORS","PAGE_SELECTION_LIMIT","ColorUtils","constructor","this","_oColorList","slice","getFreeColor","oColor","find","oColour","assigned","sColor","key","addColor","sKey","_fetchColor","removeColor","_getColorMap","__exports"],"sources":["ColorUtils.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\n\nimport { Value } from \"sap/ui/core/theming/Parameters\";\nimport { DEFAULT_BG_COLOR, LEGEND_COLORS, PAGE_SELECTION_LIMIT } from \"./Constants\";\n\nclass ColorUtils {\n\tprivate _oColorList!: { key: string; value: Value; assigned: boolean }[];\n\n\tconstructor() {\n\t\tthis._oColorList = LEGEND_COLORS().slice(0, PAGE_SELECTION_LIMIT);\n\t}\n\n\t/**\n\t * Returns first unassigned color from the list\n\t *\n\t * @public\n\t * @returns {string} color key of unassigned color\n\t */\n\tpublic getFreeColor() {\n\t\tconst oColor = this._oColorList.find((oColour) => !oColour.assigned);\n\t\tlet sColor = DEFAULT_BG_COLOR().key;\n\n\t\tif (oColor) {\n\t\t\toColor.assigned = true;\n\t\t\tsColor = oColor.key;\n\t\t}\n\t\treturn sColor;\n\t}\n\n\t/**\n\t * Marks color as assigned in the list\n\t *\n\t * @public\n\t * @param {string} sKey color key\n\t * @returns {object} color list instance for chaining\n\t */\n\taddColor(sKey: string) {\n\t\tthis._fetchColor(sKey).assigned = true;\n\t\treturn this;\n\t}\n\n\t/**\n\t * Marks color as unassigned in the list\n\t *\n\t * @public\n\t * @param {string} sKey color key\n\t * @returns {object} color list instance for chaining\n\t */\n\tremoveColor(sKey: string) {\n\t\tthis._fetchColor(sKey).assigned = false;\n\t\treturn this;\n\t}\n\n\t/**\n\t * Fetch Color Object from the list\n\t *\n\t * @private\n\t * @param {string} sKey color key\n\t * @returns {object} color Object, if found\n\t */\n\t_fetchColor(sKey: string): { assigned: boolean } {\n\t\treturn (\n\t\t\tthis._oColorList.find(function (oColour) {\n\t\t\t\treturn oColour.key === sKey;\n\t\t\t}) || { assigned: false }\n\t\t);\n\t}\n\n\t/**\n\t * Getter for Color List\n\t *\n\t * @private\n\t * @returns {object} color list object\n\t */\n\t_getColorMap() {\n\t\treturn this._oColorList;\n\t}\n}\n\nexport default new ColorUtils();\n"],"mappings":"AAAA;;;;AAAA,aAAAA,IAAAC,GAAAC,OAAA,yBAAAC,GAAA,mBAMSC,EAAgBD,EAAA,0BAAEE,EAAaF,EAAA,uBAAEG,EAAoBH,EAAA,wBAE9D,MAAMI,EAGLC,cACCC,KAAKC,YAAcL,IAAgBM,MAAM,EAAGL,EAC7C,CAQOM,eACN,MAAMC,EAASJ,KAAKC,YAAYI,KAAMC,IAAaA,EAAQC,UAC3D,IAAIC,EAASb,IAAmBc,IAEhC,GAAIL,EAAQ,CACXA,EAAOG,SAAW,KAClBC,EAASJ,EAAOK,GACjB,CACA,OAAOD,CACR,CASAE,SAASC,GACRX,KAAKY,YAAYD,GAAMJ,SAAW,KAClC,OAAOP,IACR,CASAa,YAAYF,GACXX,KAAKY,YAAYD,GAAMJ,SAAW,MAClC,OAAOP,IACR,CASAY,YAAYD,GACX,OACCX,KAAKC,YAAYI,KAAK,SAAUC,GAC/B,OAAOA,EAAQG,MAAQE,CACxB,IAAM,CAAEJ,SAAU,MAEpB,CAQAO,eACC,OAAOd,KAAKC,WACb,EACA,IAAAc,EAEc,IAAIjB,EAAY,OAAAiB,CAAA","ignoreList":[],"sourceRoot":"utils"}},{"offset":{"line":446,"column":0},"map":{"version":3,"file":"Constants.js","names":["sap","ui","define","Parameters","fnFetchLegendColor","sLegendName","key","value","get","name","assigned","BASE_URL","INSIGHTS_READ_SRVC_URL","MYHOME_PAGE_ID","FALLBACK_ICON","DEFAULT_APP_ICON","MYINSIGHT_SECTION_ID","MYHOME_SPACE_ID","DEFAULT_BG_COLOR","PAGE_SELECTION_LIMIT","LEGEND_COLORS","map","END_USER_COLORS","AppTypes","FAVORITE","RECENT","FREQUENT","PLACEHOLDER_ITEMS_COUNT","RECOMMENDED_CARD_LIMIT","RECOMMENDATION_SRVC_URL","FEATURE_TOGGLES","RECOMMENDATION","TASK_ACTIONS","FEATURE_TOGGLE_SRVC_URL","REPO_BASE_URL","SETTINGS_PANELS_KEYS","KEYUSER_SETTINGS_PANELS_KEYS","__exports","__esModule"],"sources":["Constants.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\nimport Parameters from \"sap/ui/core/theming/Parameters\";\n\nexport const fnFetchLegendColor = (sLegendName: string) => {\n\treturn {\n\t\tkey: sLegendName,\n\t\tvalue: Parameters.get({\n\t\t\tname: sLegendName\n\t\t}),\n\t\tassigned: false\n\t};\n};\n\nconst BASE_URL = \"/sap/opu/odata4/ui2/insights_srv/srvd/ui2/\";\nconst INSIGHTS_READ_SRVC_URL = BASE_URL + \"insights_read_srv/0001/\";\n\nexport const MYHOME_PAGE_ID: string = \"SAP_BASIS_PG_UI_MYHOME\";\nexport const FALLBACK_ICON: string = \"sap-icon://document\";\nexport const DEFAULT_APP_ICON: string = \"sap-icon://product\";\nexport const MYINSIGHT_SECTION_ID: string = \"AZHJGRIT78TG7Y65RF6EPFJ9U\";\nexport const MYHOME_SPACE_ID: string = \"SAP_BASIS_SP_UI_MYHOME\";\nexport const DEFAULT_BG_COLOR = () => fnFetchLegendColor(\"sapLegendColor9\");\n\nexport const PAGE_SELECTION_LIMIT = 8;\nexport const LEGEND_COLORS = () =>\n\t[\n\t\t\"sapLegendColor6\",\n\t\t\"sapLegendColor3\",\n\t\t\"sapLegendColor1\",\n\t\t\"sapLegendColor10\",\n\t\t\"sapLegendColor12\",\n\t\t\"sapLegendColor7\",\n\t\t\"sapLegendColor5\",\n\t\t\"sapLegendColor8\",\n\t\t\"sapLegendColor18\",\n\t\t\"sapLegendColor9\"\n\t].map(fnFetchLegendColor);\nexport const END_USER_COLORS = () =>\n\t[\n\t\t\"sapLegendColor19\",\n\t\t\"sapLegendColor13\",\n\t\t\"sapLegendColor11\",\n\t\t\"sapLegendColor20\",\n\t\t\"sapLegendColor2\",\n\t\t\"sapLegendColor17\",\n\t\t\"sapLegendColor15\",\n\t\t\"sapLegendColor14\",\n\t\t\"sapLegendColor16\",\n\t\t\"sapLegendColor4\"\n\t].map(fnFetchLegendColor);\nexport const AppTypes = {\n\tFAVORITE: \"FAVORITE\",\n\tRECENT: \"RECENT\",\n\tFREQUENT: \"FREQUENT\"\n};\nexport const PLACEHOLDER_ITEMS_COUNT = 5;\nexport const RECOMMENDED_CARD_LIMIT = 4;\nexport const RECOMMENDATION_SRVC_URL = INSIGHTS_READ_SRVC_URL + \"RecommendedApps\";\nexport const FEATURE_TOGGLES = {\n\tRECOMMENDATION: \"/UI2/MYHOME_APP_RECOMMENDATION\",\n\tTASK_ACTIONS: \"/UI2/S4HOME_FEATURE_TOGGLE\"\n};\nexport const FEATURE_TOGGLE_SRVC_URL = INSIGHTS_READ_SRVC_URL + \"FeatureToggle\";\nexport const REPO_BASE_URL = BASE_URL + \"insights_cards_repo_srv/0001/\";\nexport enum SETTINGS_PANELS_KEYS {\n\tLAYOUT = \"LAYOUT\",\n\tNEWS = \"NEWS\",\n\tPAGES = \"PAGES\",\n\tINSIGHTS_TILES = \"INSIGHTS_TILES\",\n\tINSIGHTS_CARDS = \"INSIGHTS_CARDS\",\n\tADVANCED = \"ADVANCED\"\n}\nexport enum KEYUSER_SETTINGS_PANELS_KEYS {\n\tLAYOUT = \"KEYUSER_LAYOUT\",\n\tNEWS_PAGES = \"KEYUSER_NEWS_PAGES\",\n\tNEWS = \"KEYUSER_NEWS\",\n\tPAGES = \"KEYUSER_PAGES\"\n}\n"],"mappings":"AAAA;;;;AAAA,aAAAA,IAAAC,GAAAC,OAAA,4CAAAC,GAAA,aAMO,MAAMC,EAAsBC,KAEjCC,IAAKD,EACLE,MAAOJ,EAAWK,IAAI,CACrBC,KAAMJ,IAEPK,SAAU,QAIZ,MAAMC,EAAW,6CACjB,MAAMC,EAAyBD,EAAW,0BAEnC,MAAME,EAAyB,yBAC/B,MAAMC,EAAwB,sBAC9B,MAAMC,EAA2B,qBACjC,MAAMC,EAA+B,4BACrC,MAAMC,EAA0B,yBAChC,MAAMC,EAAmBA,IAAMd,EAAmB,mBAElD,MAAMe,EAAuB,EAC7B,MAAMC,EAAgBA,IAC5B,CACC,kBACA,kBACA,kBACA,mBACA,mBACA,kBACA,kBACA,kBACA,mBACA,mBACCC,IAAIjB,GACA,MAAMkB,EAAkBA,IAC9B,CACC,mBACA,mBACA,mBACA,mBACA,kBACA,mBACA,mBACA,mBACA,mBACA,mBACCD,IAAIjB,GACA,MAAMmB,EAAW,CACvBC,SAAU,WACVC,OAAQ,SACRC,SAAU,YAEJ,MAAMC,EAA0B,EAChC,MAAMC,EAAyB,EAC/B,MAAMC,EAA0BjB,EAAyB,kBACzD,MAAMkB,EAAkB,CAC9BC,eAAgB,iCAChBC,aAAc,8BAER,MAAMC,EAA0BrB,EAAyB,gBACzD,MAAMsB,EAAgBvB,EAAW,gCAAgC,IAC5DwB,EAAoB,SAApBA,KAAoB,mBAApBA,EAAoB,eAApBA,EAAoB,iBAApBA,EAAoB,mCAApBA,EAAoB,mCAApBA,EAAoB,8BAApBA,CAAoB,EAApBA,GAAoB,QAQpBC,EAA4B,SAA5BA,KAA4B,2BAA5BA,EAA4B,mCAA5BA,EAA4B,uBAA5BA,EAA4B,gCAA5BA,CAA4B,EAA5BA,GAA4B,QAAAC,EAAA,CAAAC,WAAA,MAAAD,EAAAjC,qBAAAiC,EAAAxB,iBAAAwB,EAAAvB,gBAAAuB,EAAAtB,mBAAAsB,EAAArB,uBAAAqB,EAAApB,kBAAAoB,EAAAnB,mBAAAmB,EAAAlB,uBAAAkB,EAAAjB,gBAAAiB,EAAAf,kBAAAe,EAAAd,WAAAc,EAAAV,0BAAAU,EAAAT,yBAAAS,EAAAR,0BAAAQ,EAAAP,kBAAAO,EAAAJ,0BAAAI,EAAAH,gBAAAG,EAAAF,uBAAAE,EAAAD,+BAAA,OAAAC,CAAA","ignoreList":[],"sourceRoot":"utils"}},{"offset":{"line":453,"column":0},"map":{"version":3,"file":"DataFormatUtils.js","names":["sap","ui","define","sap_m_library","BaseObject","DateFormat","___ToDoPanel","ValueColor","TaskPriority","oRelativeDateTimeFormatter","getDateTimeInstance","style","relative","relativeStyle","oRelativeDateFormatter","getDateInstance","DataFormatUtils","extend","toPriority","_toPriority","oTask","criticality","Error","Critical","Neutral","toTaskPriorityText","_toTaskPriorityText","sPriority","VERY_HIGH","HIGH","MEDIUM","LOW","toRelativeDateTime","_toRelativeDateTime","oDate","format","Date","toRelativeDate","_toRelativeDate","iTimeStamp","sRelativeDate","charAt","toUpperCase","slice","createBookMarkData","_createBookMarkData","oBookMark","finalBookMarkData","title","url","targetURL","icon","info","subtitle","serviceUrl","indicatorDataSource","path","numberUnit","vizType","vizConfig","dataSource","getImportance","_getImportance","oDataField","sImportance","iImportance","EnumMember","sortCollectionByImportance","_sortCollectionByImportance","aCollection","sort","oFirstData","oSecondData","iFirstDataImportance","this","iSecondDataImportance","getLeanURL","_getLeanURL","constructFullUrl","query","fullURL","URL","window","location","href","search","hash","toString","indexOf","__exports"],"sources":["DataFormatUtils.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\n\nimport { ValueColor } from \"sap/m/library\";\nimport BaseObject from \"sap/ui/base/Object\";\nimport DateFormat from \"sap/ui/core/format/DateFormat\";\nimport { BookmarkParameters } from \"sap/ushell/services/BookmarkV2\";\nimport { IVisualization } from \"../interface/AppsInterface\";\nimport { TaskPriority } from \"../ToDoPanel\";\n\nconst oRelativeDateTimeFormatter = DateFormat.getDateTimeInstance({\n\tstyle: \"medium\",\n\trelative: true,\n\trelativeStyle: \"short\"\n});\n\nconst oRelativeDateFormatter = DateFormat.getDateInstance({\n\trelative: true\n});\n\n/**\n *\n * Provides util methods for Date Formatting.\n *\n * @extends sap.ui.BaseObject\n *\n * @author SAP SE\n * @version 0.0.1\n * @since 1.122.0\n *\n * @private\n * @experimental Since 1.122\n * @hidden\n *\n * @alias sap.cux.home.utils.DataFormatUtils\n */\n\nclass DataFormatUtils extends BaseObject {\n\tpublic toPriority(oTask: { criticality: ValueColor }) {\n\t\tswitch (oTask.criticality) {\n\t\t\tcase ValueColor.Error:\n\t\t\t\treturn 1;\n\t\t\tcase ValueColor.Critical:\n\t\t\t\treturn 2;\n\t\t\tcase ValueColor.Neutral:\n\t\t\t\treturn 3;\n\t\t\tdefault:\n\t\t\t\treturn 99;\n\t\t}\n\t}\n\n\tpublic toTaskPriorityText(sPriority: TaskPriority) {\n\t\tswitch (sPriority) {\n\t\t\tcase TaskPriority.VERY_HIGH:\n\t\t\t\treturn \"veryHighPriority\";\n\t\t\tcase TaskPriority.HIGH:\n\t\t\t\treturn \"highPriority\";\n\t\t\tcase TaskPriority.MEDIUM:\n\t\t\t\treturn \"mediumPriority\";\n\t\t\tcase TaskPriority.LOW:\n\t\t\t\treturn \"lowPriority\";\n\t\t\tdefault:\n\t\t\t\treturn \"nonePriority\";\n\t\t}\n\t}\n\n\t/**\n\t * Formats a given date as a relative date and time string.\n\t *\n\t * @param {Date} oDate - The input date to format as a relative date and time string.\n\t * @returns {string} A string representing the input date in a relative date and time format.\n\t */\n\tpublic toRelativeDateTime(oDate: Date) {\n\t\treturn oRelativeDateTimeFormatter.format(new Date(oDate));\n\t}\n\n\t/**\n\t * Converts a given date to a relative date string.\n\t *\n\t * @param {Date} iTimeStamp - The input timestamp to convert to a relative date string.\n\t * @returns {string} A relative date string with the first letter capitalized.\n\t */\n\tpublic toRelativeDate(iTimeStamp: Date) {\n\t\tconst sRelativeDate = oRelativeDateFormatter.format(new Date(iTimeStamp));\n\t\treturn sRelativeDate.charAt(0).toUpperCase() + sRelativeDate.slice(1);\n\t}\n\n\tpublic createBookMarkData(oBookMark: IVisualization) {\n\t\tconst finalBookMarkData = {\n\t\t\ttitle: oBookMark.title || \"\",\n\t\t\turl: oBookMark.targetURL,\n\t\t\ticon: oBookMark.icon,\n\t\t\tinfo: oBookMark.info,\n\t\t\tsubtitle: oBookMark.subtitle,\n\t\t\tserviceUrl: oBookMark.indicatorDataSource && oBookMark.indicatorDataSource.path,\n\t\t\tnumberUnit: oBookMark.numberUnit,\n\t\t\tvizType: oBookMark.vizType,\n\t\t\tvizConfig: oBookMark.vizConfig,\n\t\t\tdataSource: oBookMark.dataSource\n\t\t} as unknown as BookmarkParameters;\n\t\treturn finalBookMarkData;\n\t}\n\n\tpublic getImportance(oDataField: unknown) {\n\t\tlet sImportance,\n\t\t\tiImportance = -1;\n\t\tif ((oDataField as { importance: { EnumMember: string } })[\"importance\"]) {\n\t\t\tsImportance = (oDataField as { importance: { EnumMember: string } })[\"importance\"].EnumMember;\n\t\t\tswitch (sImportance) {\n\t\t\t\tcase \"com.sap.vocabularies.UI.v1.ImportanceType/High\":\n\t\t\t\t\tiImportance = 1;\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"com.sap.vocabularies.UI.v1.ImportanceType/Medium\":\n\t\t\t\t\tiImportance = 2;\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"com.sap.vocabularies.UI.v1.ImportanceType/Low\":\n\t\t\t\t\tiImportance = 3;\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t} else {\n\t\t\tiImportance = 2; // default importance to be considered as Medium\n\t\t}\n\t\treturn iImportance;\n\t}\n\n\tpublic sortCollectionByImportance(aCollection: Array<unknown>) {\n\t\treturn aCollection.sort((oFirstData, oSecondData) => {\n\t\t\tconst iFirstDataImportance = this.getImportance(oFirstData);\n\t\t\tconst iSecondDataImportance = this.getImportance(oSecondData);\n\t\t\treturn iFirstDataImportance < iSecondDataImportance ? -1 : 1;\n\t\t});\n\t}\n\n\tpublic getLeanURL(targetURL: string) {\n\t\tconst url = targetURL;\n\t\tconst constructFullUrl = function (query: string, url: string) {\n\t\t\tconst fullURL = new URL(window.location.href);\n\t\t\tfullURL.search = query;\n\t\t\tfullURL.hash = url;\n\t\t\treturn fullURL.toString();\n\t\t};\n\n\t\t// append appState only in the case when targetURL starts with \"#\"\n\t\tif ((url || \"\").charAt(0) !== \"#\") {\n\t\t\treturn url;\n\t\t}\n\n\t\tlet query = window.location.search;\n\t\tif (!query) {\n\t\t\tquery = \"?sap-ushell-config=lean\";\n\t\t} else if (query.indexOf(\"sap-ushell-config=\") >= -1) {\n\t\t\t// avoid duplicates: lean FLP opens a link again\n\t\t\tquery += \"&sap-ushell-config=lean\";\n\t\t}\n\n\t\treturn constructFullUrl(query, url);\n\t}\n}\n\nexport default new DataFormatUtils();\n"],"mappings":"AAAA;;;;AAAA,aAAAA,IAAAC,GAAAC,OAAA,+FAAAC,EAAAC,EAAAC,EAAAC,GAAA,mBAKSC,EAAUJ,EAAA,oBAKVK,EAAYF,EAAA,gBAErB,MAAMG,EAA6BJ,EAAWK,oBAAoB,CACjEC,MAAO,SACPC,SAAU,KACVC,cAAe,UAGhB,MAAMC,EAAyBT,EAAWU,gBAAgB,CACzDH,SAAU,OAGX,MAiBMI,EAAwBZ,EAAUa,OAAA,sCAChCC,WAAU,SAAAC,EAACC,GACjB,OAAQA,EAAMC,aACb,KAAKd,EAAWe,MACf,OAAO,EACR,KAAKf,EAAWgB,SACf,OAAO,EACR,KAAKhB,EAAWiB,QACf,OAAO,EACR,QACC,OAAO,GAEV,EAEOC,mBAAkB,SAAAC,EAACC,GACzB,OAAQA,GACP,KAAKnB,EAAaoB,UACjB,MAAO,mBACR,KAAKpB,EAAaqB,KACjB,MAAO,eACR,KAAKrB,EAAasB,OACjB,MAAO,iBACR,KAAKtB,EAAauB,IACjB,MAAO,cACR,QACC,MAAO,eAEV,EAQOC,mBAAkB,SAAAC,EAACC,GACzB,OAAOzB,EAA2B0B,OAAO,IAAIC,KAAKF,GACnD,EAQOG,eAAc,SAAAC,EAACC,GACrB,MAAMC,EAAgB1B,EAAuBqB,OAAO,IAAIC,KAAKG,IAC7D,OAAOC,EAAcC,OAAO,GAAGC,cAAgBF,EAAcG,MAAM,EACpE,EAEOC,mBAAkB,SAAAC,EAACC,GACzB,MAAMC,EAAoB,CACzBC,MAAOF,EAAUE,OAAS,GAC1BC,IAAKH,EAAUI,UACfC,KAAML,EAAUK,KAChBC,KAAMN,EAAUM,KAChBC,SAAUP,EAAUO,SACpBC,WAAYR,EAAUS,qBAAuBT,EAAUS,oBAAoBC,KAC3EC,WAAYX,EAAUW,WACtBC,QAASZ,EAAUY,QACnBC,UAAWb,EAAUa,UACrBC,WAAYd,EAAUc,YAEvB,OAAOb,CACR,EAEOc,cAAa,SAAAC,EAACC,GACpB,IAAIC,EACHC,GAAe,EAChB,GAAKF,EAAsD,cAAe,CACzEC,EAAeD,EAAsD,cAAcG,WACnF,OAAQF,GACP,IAAK,iDACJC,EAAc,EACd,MACD,IAAK,mDACJA,EAAc,EACd,MACD,IAAK,gDACJA,EAAc,EACd,MACD,QACC,MAEH,KAAO,CACNA,EAAc,CACf,CACA,OAAOA,CACR,EAEOE,2BAA0B,SAAAC,EAACC,GACjC,OAAOA,EAAYC,KAAK,CAACC,EAAYC,KACpC,MAAMC,EAAuBC,KAAKb,cAAcU,GAChD,MAAMI,EAAwBD,KAAKb,cAAcW,GACjD,OAAOC,EAAuBE,GAAyB,EAAI,GAE7D,EAEOC,WAAU,SAAAC,EAAC3B,GACjB,MAAMD,EAAMC,EACZ,MAAM4B,EAAmB,SAAUC,EAAe9B,GACjD,MAAM+B,EAAU,IAAIC,IAAIC,OAAOC,SAASC,MACxCJ,EAAQK,OAASN,EACjBC,EAAQM,KAAOrC,EACf,OAAO+B,EAAQO,UAChB,EAGA,IAAKtC,GAAO,IAAIR,OAAO,KAAO,IAAK,CAClC,OAAOQ,CACR,CAEA,IAAI8B,EAAQG,OAAOC,SAASE,OAC5B,IAAKN,EAAO,CACXA,EAAQ,yBACT,MAAO,GAAIA,EAAMS,QAAQ,wBAA0B,EAAG,CAErDT,GAAS,yBACV,CAEA,OAAOD,EAAiBC,EAAO9B,EAChC,IAAC,IAAAwC,EAGa,IAAIzE,EAAiB,OAAAyE,CAAA","ignoreList":[],"sourceRoot":"utils"}},{"offset":{"line":460,"column":0},"map":{"version":3,"file":"DecisionDialog.js","names":["sap","ui","define","Log","MessageBox","sap_m_library","BaseObject","Element","Fragment","sap_ui_core_library","JSONModel","ODataModel","ResourceModel","___ToDoPanel","__DataFormatUtils","_interopRequireDefault","obj","__esModule","default","_catch","body","recover","result","e","then","ButtonType","ValueState","TaskPriority","DataFormatUtils","ReasonRequired","decideButtonNature","decisionOption","Nature","toUpperCase","Accept","Reject","Neutral","Default","getActionButton","i18nBundle","task","baseUrl","text","DecisionText","type","pressHandler","DecisionDialog","decisionDialogMethod","bind","getIconFrameBadge","priority","iconBadge","VERY_HIGH","HIGH","getIconFrameBadgeValueState","Error","None","extend","constructor","_constructor","refreshView","BaseObject.prototype.constructor.call","this","handleReasonOptionChange","_handleReasonOptionChange","event","comboBox","getSource","comboBoxValue","getValue","selectedItem","getSelectedItem","confirmationDialogPromise","confirmationDialog","comboBoxRequired","confirmationDialogModel","getData","dialogSettings","reasonOptionsSettings","required","setTooltip","setValueState","getBeginButton","setEnabled","_toggleSubmitButtonState","catch","error","message","String","dialogData","noteRequired","noteMandatory","noteFilled","getElementById","trim","length","comboBoxFilled","noteFlag","comboBoxFlag","setProperty","readReasonOptions","_readReasonOptions","origin","instance","decisionKey","onSuccess","onError","sPath","oUrlParams","SAP__Origin","InstanceID","DecisionKey","fnSuccess","oData","results","fnError","oError","dataServiceModel","read","urlParameters","success","groupId","loadReasonOptions","_loadReasonOptions","_this","metaModel","getMetaModel","Promise","resolve","loaded","getODataFunctionImport","reject","reasonOptions","show","Required","Optional","openDecisionDialog","_openDecisionDialog","submitButtonEnabled","load","name","controller","confirmationDialogFragment","i18nModel","bundle","priorityText","addStyleClass","Priority","setModel","open","confirmActionHandler","_confirmActionHandler","getModel","getProperty","reasonOptionSelectedItem","reasonCode","getKey","note","showNote","handleCancel","_handleCancel","_bClosedViaButton","close","cancelActionHandler","refresh","handleAfterClose","_handleAfterClose","destroy","createODataRequest","_createODataRequest","path","urlParams","settings","data","response","info","getText","details","parameters","responseText","fireRequestFailed","create","sendAction","_sendAction","importName","decision","reasonOptionCode","Comments","ReasonCode","setBusy","JSON","parse","value","showDecisionDialog","_showDecisionDialog","_this2","TaskTitle","title","decisionDialogSettings","CommentMandatory","question","badgeIcon","badgeValueState","toTaskPriorityText","confirmButtonLabel","showFeedbackMessage","textAreaLabel","reasonOptionKey","_temp","metadataLoaded","reasonOptionsLoadedPromise","noneText","unshift","Name","Code","dialogUtils","getTaskActions","multiSelectDecisionResults","actions","displayedTypes","Set","multiSelectDecisionOptions","TaskDefinitionID","has","push","add","action"],"sources":["DecisionDialog.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\n\nimport Log from \"sap/base/Log\";\nimport ResourceBundle from \"sap/base/i18n/ResourceBundle\";\nimport ComboBox from \"sap/m/ComboBox\";\nimport Dialog from \"sap/m/Dialog\";\nimport MessageBox from \"sap/m/MessageBox\";\nimport Text from \"sap/m/Text\";\nimport TextArea from \"sap/m/TextArea\";\nimport { ButtonType } from \"sap/m/library\";\nimport Event from \"sap/ui/base/Event\";\nimport BaseObject from \"sap/ui/base/Object\";\nimport Control from \"sap/ui/core/Control\";\nimport Element from \"sap/ui/core/Element\";\nimport Fragment from \"sap/ui/core/Fragment\";\nimport { ValueState } from \"sap/ui/core/library\";\nimport JSONModel from \"sap/ui/model/json/JSONModel\";\nimport ODataModel from \"sap/ui/model/odata/v2/ODataModel\";\nimport ResourceModel from \"sap/ui/model/resource/ResourceModel\";\nimport { Task } from \"../TaskPanel\";\nimport { Response, TaskPriority } from \"../ToDoPanel\";\nimport DataFormatUtils from \"./DataFormatUtils\";\n\nenum ReasonRequired {\n\tRequired = \"REQUIRED\",\n\tOptional = \"OPTIONAL\"\n}\n\nexport interface DecisionOption {\n\tSAP__Origin: string;\n\tInstanceID: string;\n\tNature: ButtonType;\n\tDecisionKey: string;\n\tCommentMandatory: boolean;\n\tDecisionText: string;\n\tReasonRequired: ReasonRequired;\n}\n\ninterface ReasonOption {\n\t[key: string]: string;\n}\n\ninterface ReasonOptionSettings {\n\tshow: boolean;\n\trequired: boolean;\n\treasonOptions?: ReasonOption[];\n}\n\ninterface DecisionDialogSettings {\n\tbadgeIcon: string;\n\tbadgeValueState: string;\n\tshowNote: boolean;\n\tnoteMandatory: boolean;\n\tquestion: string;\n\ttitle: string;\n\tconfirmButtonLabel: string;\n\ttextAreaLabel: string;\n\tpriorityText: string;\n\tshowFeedbackMessage: boolean;\n\treasonOptionsSettings: ReasonOptionSettings;\n\tconfirmActionHandler: (note: string, reasonCode: string) => void;\n\tcancelActionHandler: () => void;\n}\n\ninterface IDecisionDialog extends Dialog {\n\t_bClosedViaButton: boolean;\n}\n\ninterface DialogSettings {\n\tdialogSettings: DecisionDialogSettings;\n\tsubmitButtonEnabled: boolean;\n}\n\ninterface ODataError {\n\tresponse: {\n\t\tbody: string;\n\t};\n\tresponseText: string;\n\terror: {\n\t\tmessage: {\n\t\t\tvalue: string;\n\t\t};\n\t};\n}\n\ninterface MultiSelectDecisionResult {\n\t[key: string]: DecisionOption[];\n}\n\nexport interface ActionButton {\n\ttype: ButtonType;\n\ttext: string;\n\tpressHandler: (refresh: Refresh) => Promise<void> | void;\n}\n\ninterface Refresh {\n\t(forceRefresh: boolean): void;\n}\n\nconst decideButtonNature = (decisionOption: DecisionOption): ButtonType => {\n\tswitch (decisionOption.Nature?.toUpperCase()) {\n\t\tcase \"POSITIVE\":\n\t\t\treturn ButtonType.Accept;\n\t\tcase \"NEGATIVE\":\n\t\t\treturn ButtonType.Reject;\n\t\tcase \"NEUTRAL\":\n\t\t\treturn ButtonType.Neutral;\n\t\tdefault:\n\t\t\treturn ButtonType.Default;\n\t}\n};\n\nconst getActionButton = (decisionOption: DecisionOption, i18nBundle: ResourceBundle, task: Task, baseUrl: string): ActionButton => {\n\treturn {\n\t\ttext: decisionOption.DecisionText,\n\t\ttype: decideButtonNature(decisionOption) || ButtonType.Default,\n\t\tpressHandler: DecisionDialog.decisionDialogMethod.bind(null, decisionOption, i18nBundle, task, baseUrl)\n\t};\n};\n\n/**\n * Gets the icon frame badge based on the task priority.\n *\n * This method returns a specific badge string for tasks with high or very high priority.\n * For tasks with lower priorities, it returns an empty string.\n *\n * @param {TaskPriority} priority - The priority level of the task.\n * @returns {string} The badge string for high priority tasks, or an empty string for others.\n */\nexport function getIconFrameBadge(priority: TaskPriority): string {\n\tlet iconBadge = \"\";\n\tif (priority === TaskPriority.VERY_HIGH || priority === TaskPriority.HIGH) {\n\t\ticonBadge = \"sap-icon://high-priority\";\n\t}\n\n\treturn iconBadge;\n}\n\n/**\n * Converts a priority string to a Priority enum value.\n * If the priority string is not recognized, it returns the default value \"None\".\n *\n * @param {TaskPriority} priority - The priority string to convert.\n * @returns {ValueState} The corresponding Priority enum value.\n */\nexport function getIconFrameBadgeValueState(priority: TaskPriority): ValueState {\n\treturn priority === TaskPriority.VERY_HIGH || priority === TaskPriority.HIGH ? ValueState.Error : ValueState.None;\n}\n\n/**\n *\n * Helper class for Decision Dialog handling.\n *\n * @extends BaseObject\n *\n * @author SAP SE\n * @version 0.0.1\n * @since 1.121\n *\n * @internal\n * @experimental Since 1.121\n * @private\n *\n * @alias sap.cux.home.utils.DecisionDialog\n */\nexport default class DecisionDialog extends BaseObject {\n\tprivate decisionOption: DecisionOption;\n\tprivate i18nBundle: ResourceBundle;\n\tprivate refreshView: Refresh;\n\tprivate task: Task;\n\tprivate confirmationDialogPromise!: Promise<IDecisionDialog>;\n\tprivate confirmationDialogModel!: JSONModel;\n\tprivate dataServiceModel!: ODataModel;\n\tprivate baseUrl: string;\n\n\tconstructor(decisionOption: DecisionOption, i18nBundle: ResourceBundle, task: Task, baseUrl: string, refreshView: Refresh) {\n\t\tsuper();\n\t\tthis.decisionOption = decisionOption;\n\t\tthis.i18nBundle = i18nBundle;\n\t\tthis.baseUrl = baseUrl;\n\t\tthis.refreshView = refreshView;\n\t\tthis.task = task;\n\t}\n\n\t/**\n\t * Handles the change event of the reason option ComboBox.\n\t *\n\t * @private\n\t * @param {Event} event - The event object.\n\t * @returns {void}\n\t */\n\tpublic handleReasonOptionChange(event: Event): void {\n\t\tconst comboBox = event.getSource<ComboBox>();\n\t\tconst comboBoxValue = comboBox.getValue();\n\t\tconst selectedItem = comboBox.getSelectedItem();\n\n\t\tthis.confirmationDialogPromise\n\t\t\t.then((confirmationDialog) => {\n\t\t\t\tconst comboBoxRequired = (this.confirmationDialogModel.getData() as DialogSettings).dialogSettings.reasonOptionsSettings\n\t\t\t\t\t.required;\n\t\t\t\t// Set the tooltip useful when the currently selected item's text is truncated\n\t\t\t\tcomboBox.setTooltip(comboBoxValue);\n\t\t\t\tcomboBox.setValueState(selectedItem === null ? ValueState.Error : ValueState.None);\n\n\t\t\t\t// Special case where if reason options is optional and all\n\t\t\t\t// the text is deleted value state should be none (corner case)\n\t\t\t\tif (!comboBoxRequired && comboBoxValue === \"\") {\n\t\t\t\t\tcomboBox.setValueState(ValueState.None);\n\t\t\t\t}\n\n\t\t\t\t// Special case where if value in combo box gets partially deleted by the user\n\t\t\t\t// there is no selection yet button is not disabled\n\t\t\t\tif (!comboBoxRequired && comboBoxValue !== \"\" && selectedItem === null) {\n\t\t\t\t\tconfirmationDialog.getBeginButton().setEnabled(false);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t// Update the submit button state (disabled / enabled)\n\t\t\t\tthis._toggleSubmitButtonState();\n\t\t\t})\n\t\t\t.catch((error: unknown) => {\n\t\t\t\tLog.error(error instanceof Error ? error.message : String(error));\n\t\t\t});\n\t}\n\n\t/**\n\t * Toggles the state of the submit button based on the dialog settings.\n\t *\n\t * @private\n\t * @returns {void}\n\t */\n\tpublic _toggleSubmitButtonState(): void {\n\t\tconst dialogData = this.confirmationDialogModel.getData() as DialogSettings;\n\t\tconst noteRequired = dialogData.dialogSettings.noteMandatory;\n\n\t\tconst noteFilled = (Element.getElementById(\"confirmDialogTextarea\") as TextArea).getValue().trim().length > 0;\n\t\tconst comboBoxRequired = dialogData.dialogSettings.reasonOptionsSettings.required;\n\n\t\tconst comboBoxFilled = (Element.getElementById(\"reasonOptionsSelect\") as ComboBox).getSelectedItem() !== null;\n\t\tconst noteFlag = (noteRequired && noteFilled) || !noteRequired;\n\t\tconst comboBoxFlag = (comboBoxRequired && comboBoxFilled) || !comboBoxRequired;\n\n\t\tthis.confirmationDialogModel.setProperty(\"/submitButtonEnabled\", noteFlag && comboBoxFlag);\n\t}\n\n\t/**\n\t * Reads reason options from the backend.\n\t *\n\t * @private\n\t * @param {string} origin - The SAP origin.\n\t * @param {string} instance - The instance ID.\n\t * @param {string} decisionKey - The decision key.\n\t * @param {Function} onSuccess - The success callback function.\n\t * @param {Function} onError - The error callback function.\n\t * @returns {void}\n\t */\n\tprivate readReasonOptions(\n\t\torigin: string,\n\t\tinstance: string,\n\t\tdecisionKey: string,\n\t\tonSuccess: (arg: ReasonOption[]) => void,\n\t\tonError: (arg: unknown) => void\n\t): void {\n\t\tconst sPath = \"/ReasonOptions\";\n\t\tconst oUrlParams = {\n\t\t\tSAP__Origin: `'${origin}'`,\n\t\t\tInstanceID: `'${instance}'`,\n\t\t\tDecisionKey: `'${decisionKey}'`\n\t\t};\n\t\tconst fnSuccess = (oData: Response) => {\n\t\t\tif (oData && oData.results) {\n\t\t\t\tif (onSuccess) {\n\t\t\t\t\tonSuccess(oData.results as ReasonOption[]);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\tconst fnError = (oError: unknown) => {\n\t\t\tif (onError) {\n\t\t\t\tonError(oError);\n\t\t\t}\n\t\t};\n\n\t\tthis.dataServiceModel.read(sPath, {\n\t\t\turlParameters: oUrlParams,\n\t\t\tsuccess: fnSuccess,\n\t\t\terror: fnError,\n\t\t\tgroupId: \"reasonOptions\"\n\t\t});\n\t}\n\n\t/**\n\t * Load the reason options which are part of this decision option.\n\t *\n\t * @private\n\t * @returns {Promise<ReasonOptionSettings | null>} - containing resolved array of reason options\n\t */\n\tprivate async loadReasonOptions(): Promise<ReasonOptionSettings | null> {\n\t\tconst metaModel = this.dataServiceModel.getMetaModel();\n\t\tawait metaModel.loaded();\n\n\t\tif (metaModel.getODataFunctionImport(\"ReasonOptions\")) {\n\t\t\treturn new Promise((resolve, reject) => {\n\t\t\t\tthis.readReasonOptions(\n\t\t\t\t\tthis.decisionOption.SAP__Origin,\n\t\t\t\t\tthis.decisionOption.InstanceID,\n\t\t\t\t\tthis.decisionOption.DecisionKey,\n\t\t\t\t\t(reasonOptions: ReasonOption[]) => {\n\t\t\t\t\t\tconst reasonOptionsSettings = {\n\t\t\t\t\t\t\tshow:\n\t\t\t\t\t\t\t\t(this.decisionOption.ReasonRequired === ReasonRequired.Required ||\n\t\t\t\t\t\t\t\t\tthis.decisionOption.ReasonRequired === ReasonRequired.Optional) &&\n\t\t\t\t\t\t\t\treasonOptions.length > 0,\n\t\t\t\t\t\t\trequired: this.decisionOption.ReasonRequired === ReasonRequired.Required,\n\t\t\t\t\t\t\treasonOptions: reasonOptions\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\tresolve(reasonOptionsSettings);\n\t\t\t\t\t},\n\t\t\t\t\t(oError) => {\n\t\t\t\t\t\treject(oError as Error);\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t});\n\t\t} else {\n\t\t\treturn null;\n\t\t}\n\t}\n\n\t/**\n\t * Open the decision dialog for the inbox task selected.\n\t *\n\t * @private\n\t * @param {DecisionDialogSettings} dialogSettings - contains the settings for the decision dialog\n\t */\n\tprivate openDecisionDialog(dialogSettings: DecisionDialogSettings) {\n\t\tthis.confirmationDialogModel = new JSONModel({\n\t\t\tsubmitButtonEnabled: !dialogSettings?.noteMandatory && !dialogSettings?.reasonOptionsSettings?.required,\n\t\t\tdialogSettings\n\t\t});\n\n\t\tthis.confirmationDialogPromise = Fragment.load({\n\t\t\ttype: \"XML\",\n\t\t\tname: \"sap.cux.home.utils.fragment.showDecisionDialog\",\n\t\t\tcontroller: this\n\t\t})\n\t\t\t.then((confirmationDialogFragment: Control | Control[]) => {\n\t\t\t\tconst confirmationDialog = confirmationDialogFragment as IDecisionDialog;\n\t\t\t\tconst i18nModel = new ResourceModel({ bundle: this.i18nBundle });\n\t\t\t\tconst priorityText = Element.getElementById(\"task-priority-text\") as Text;\n\t\t\t\tpriorityText.addStyleClass(this.task.Priority);\n\n\t\t\t\tconfirmationDialog.setModel(this.confirmationDialogModel);\n\t\t\t\tconfirmationDialog.setModel(i18nModel, \"i18n\");\n\t\t\t\tconfirmationDialog.open();\n\t\t\t\treturn confirmationDialog;\n\t\t\t})\n\t\t\t.catch((error: unknown) => {\n\t\t\t\tLog.error(error instanceof Error ? error.message : String(error));\n\t\t\t}) as Promise<IDecisionDialog>;\n\t}\n\n\t/**\n\t * Submit handler for the decision dialog\n\t *\n\t * @private\n\t */\n\tpublic confirmActionHandler(): void {\n\t\tthis.confirmationDialogPromise\n\t\t\t.then((confirmationDialog) => {\n\t\t\t\tconst dialogSettings = (confirmationDialog.getModel()?.getProperty(\"/\") as DialogSettings).dialogSettings;\n\t\t\t\tconst reasonOptionsSettings = dialogSettings.reasonOptionsSettings;\n\n\t\t\t\t// Get the reason option value from the combo box\n\t\t\t\tconst reasonOptionSelectedItem = reasonOptionsSettings.show\n\t\t\t\t\t? (Element.getElementById(\"reasonOptionsSelect\") as ComboBox)?.getSelectedItem()\n\t\t\t\t\t: null;\n\t\t\t\tconst reasonCode = (\n\t\t\t\t\treasonOptionSelectedItem !== null && reasonOptionSelectedItem?.getKey() !== \"defaultSelectedKey\"\n\t\t\t\t\t\t? reasonOptionSelectedItem.getKey()\n\t\t\t\t\t\t: null\n\t\t\t\t) as string;\n\n\t\t\t\t// Get the note value from the text area\n\t\t\t\tconst note = (\n\t\t\t\t\tdialogSettings.showNote ? (Element.getElementById(\"confirmDialogTextarea\") as TextArea)?.getValue() : null\n\t\t\t\t) as string;\n\t\t\t\tdialogSettings.confirmActionHandler(note, reasonCode);\n\t\t\t})\n\t\t\t.catch((error: unknown) => {\n\t\t\t\tLog.error(error instanceof Error ? error.message : String(error));\n\t\t\t});\n\t}\n\n\t/**\n\t * Handler for cancel action in the decision dialog\n\t *\n\t * @private\n\t */\n\tpublic handleCancel() {\n\t\tthis.confirmationDialogPromise\n\t\t\t.then((confirmationDialog) => {\n\t\t\t\tconst dialogSettings = (confirmationDialog.getModel()?.getProperty(\"/\") as DialogSettings).dialogSettings;\n\t\t\t\tconfirmationDialog._bClosedViaButton = true;\n\t\t\t\tconfirmationDialog.close();\n\t\t\t\tdialogSettings.cancelActionHandler();\n\n\t\t\t\tif (this.confirmationDialogModel.getProperty(\"/dialogSettings/showFeedbackMessage\")) {\n\t\t\t\t\tthis.dataServiceModel.refresh();\n\t\t\t\t\tthis.refreshView(true);\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error: unknown) => {\n\t\t\t\tLog.error(error instanceof Error ? error.message : String(error));\n\t\t\t});\n\t}\n\n\t/**\n\t * After close dialog handler in the decision dialog\n\t *\n\t * @private\n\t */\n\tpublic handleAfterClose() {\n\t\tthis.confirmationDialogPromise\n\t\t\t.then((confirmationDialog) => {\n\t\t\t\tif (confirmationDialog._bClosedViaButton) {\n\t\t\t\t\t// dialog is closed via button\n\t\t\t\t\tconfirmationDialog._bClosedViaButton = false;\n\t\t\t\t} else {\n\t\t\t\t\t// dialog is closed by other means (e.g. pressing Escape)\n\t\t\t\t\tconst dialogSettings = (confirmationDialog.getModel()?.getProperty(\"/\") as DialogSettings).dialogSettings;\n\t\t\t\t\tdialogSettings.cancelActionHandler();\n\t\t\t\t}\n\t\t\t\tconfirmationDialog.destroy();\n\t\t\t})\n\t\t\t.catch((error: unknown) => {\n\t\t\t\tLog.error(error instanceof Error ? error.message : String(error));\n\t\t\t});\n\t}\n\n\t/**\n\t * Creates an OData request with the specified parameters.\n\t *\n\t * @private\n\t * @param {string} path - The path of the OData request.\n\t * @param {Record<string, string>} urlParams - The URL parameters of the request.\n\t * @param {Function} fnSuccess - The success callback function.\n\t * @param {Function} fnError - The error callback function.\n\t * @returns {void}\n\t */\n\tprivate createODataRequest(\n\t\tpath: string,\n\t\turlParams: Record<string, string>,\n\t\tfnSuccess: (data: unknown, response: unknown) => void,\n\t\tfnError: (error: ODataError) => void\n\t): void {\n\t\tconst settings = {\n\t\t\tsuccess: (data: unknown, response: unknown) => {\n\t\t\t\tLog.info(\"successful action\");\n\t\t\t\tfnSuccess?.(data, response);\n\t\t\t},\n\t\t\terror: (error: ODataError) => {\n\t\t\t\tconst message = this.i18nBundle.getText(\"DataManager.HTTPRequestFailed\");\n\t\t\t\tconst details = error.response ? error.response.body : null;\n\t\t\t\tconst parameters = {\n\t\t\t\t\tmessage: message,\n\t\t\t\t\tresponseText: details as string\n\t\t\t\t};\n\t\t\t\tthis.dataServiceModel.fireRequestFailed(parameters);\n\t\t\t\tfnError(error);\n\t\t\t},\n\t\t\turlParameters: urlParams\n\t\t};\n\n\t\tthis.dataServiceModel.create(path, {}, settings);\n\t}\n\n\t/**\n\t * Sends an action to the backend.\n\t *\n\t * @private\n\t * @param {string} importName - The name of the function import or action.\n\t * @param {DecisionOption} decision - The decision option.\n\t * @param {string} note - The note to be included with the action.\n\t * @param {string} reasonOptionCode - The reason option code.\n\t * @param {Task} task - The task associated with the action.\n\t * @returns {void}\n\t */\n\tprivate sendAction(importName: string, decision: DecisionOption, note: string, reasonOptionCode: string, task: Task): void {\n\t\tconst urlParams: Record<string, string> = {\n\t\t\tSAP__Origin: `'${task.SAP__Origin}'`,\n\t\t\tInstanceID: `'${task.InstanceID}'`\n\t\t};\n\n\t\tif (decision.DecisionKey) {\n\t\t\turlParams.DecisionKey = `'${decision.DecisionKey}'`;\n\t\t}\n\n\t\tif (note?.length > 0) {\n\t\t\turlParams.Comments = `'${note}'`;\n\t\t}\n\n\t\tif (reasonOptionCode) {\n\t\t\turlParams.ReasonCode = `'${reasonOptionCode}'`;\n\t\t}\n\n\t\tconst onSuccess = () => {\n\t\t\tthis.confirmationDialogPromise\n\t\t\t\t.then((confirmationDialog) => {\n\t\t\t\t\tconfirmationDialog.setBusy(false);\n\t\t\t\t\tthis.confirmationDialogModel.setProperty(\"/dialogSettings/showFeedbackMessage\", true);\n\t\t\t\t})\n\t\t\t\t.catch((error: unknown) => {\n\t\t\t\t\tLog.error(error instanceof Error ? error.message : String(error));\n\t\t\t\t});\n\t\t};\n\n\t\tconst onError = (error: ODataError) => {\n\t\t\tif (error.responseText) {\n\t\t\t\tconst oError = JSON.parse(error.responseText) as ODataError;\n\t\t\t\tMessageBox.error(oError?.error?.message?.value);\n\t\t\t}\n\t\t\tthis.handleCancel();\n\t\t};\n\n\t\tthis.createODataRequest(`/${importName}`, urlParams, onSuccess, onError);\n\t}\n\n\t/**\n\t * Shows the decision dialog.\n\t *\n\t * @private\n\t * @returns {Promise<void>}\n\t */\n\tprivate async showDecisionDialog(): Promise<void> {\n\t\tthis.dataServiceModel = this.dataServiceModel || new ODataModel(this.baseUrl);\n\t\tconst { TaskTitle: title, Priority } = this.task;\n\t\tconst decisionDialogSettings: DecisionDialogSettings = {\n\t\t\tnoteMandatory: this.decisionOption.CommentMandatory,\n\t\t\tquestion: this.i18nBundle.getText(\"XMSG_DECISION_QUESTION\", [this.decisionOption.DecisionText]) as string,\n\t\t\ttitle,\n\t\t\tbadgeIcon: getIconFrameBadge(Priority),\n\t\t\tbadgeValueState: getIconFrameBadgeValueState(Priority),\n\t\t\tpriorityText: this.i18nBundle.getText(DataFormatUtils.toTaskPriorityText(Priority)) as string,\n\t\t\tconfirmButtonLabel: this.i18nBundle.getText(\"XBUT_SUBMIT\") as string,\n\t\t\tshowNote: true,\n\t\t\tshowFeedbackMessage: false,\n\t\t\treasonOptionsSettings: {\n\t\t\t\tshow: false,\n\t\t\t\trequired: false\n\t\t\t},\n\t\t\ttextAreaLabel: this.i18nBundle.getText(\"XFLD_TextArea_Decision\") as string,\n\t\t\tconfirmActionHandler: (note, reasonOptionKey) => {\n\t\t\t\tthis.sendAction(\"Decision\", this.decisionOption, note, reasonOptionKey, this.task);\n\t\t\t},\n\t\t\tcancelActionHandler: () => {}\n\t\t};\n\n\t\ttry {\n\t\t\tawait this.dataServiceModel.metadataLoaded();\n\t\t\tconst reasonOptionsLoadedPromise =\n\t\t\t\tthis.decisionOption?.ReasonRequired === ReasonRequired.Required ||\n\t\t\t\tthis.decisionOption?.ReasonRequired === ReasonRequired.Optional\n\t\t\t\t\t? this.loadReasonOptions()\n\t\t\t\t\t: null;\n\n\t\t\t// reason options won't be loaded\n\t\t\tif (!reasonOptionsLoadedPromise) {\n\t\t\t\tthis.openDecisionDialog(decisionDialogSettings);\n\t\t\t} else {\n\t\t\t\t// based on reasonOptionsLoadedPromise, reason options will be loaded\n\t\t\t\treasonOptionsLoadedPromise\n\t\t\t\t\t.then((reasonOptionsSettings: ReasonOptionSettings | null) => {\n\t\t\t\t\t\tif (reasonOptionsSettings !== null) {\n\t\t\t\t\t\t\tdecisionDialogSettings.reasonOptionsSettings = reasonOptionsSettings;\n\n\t\t\t\t\t\t\t// In case of optional reason option combo box, a (None) option is created as to have a default selection\n\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\tdecisionDialogSettings.reasonOptionsSettings?.reasonOptions &&\n\t\t\t\t\t\t\t\t!decisionDialogSettings.reasonOptionsSettings?.required\n\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\tconst noneText = `(${this.i18nBundle.getText(\"XSEL_DECISION_REASON_NONE_OPTION\")})`;\n\t\t\t\t\t\t\t\tdecisionDialogSettings.reasonOptionsSettings.reasonOptions.unshift({\n\t\t\t\t\t\t\t\t\tName: noneText,\n\t\t\t\t\t\t\t\t\tCode: \"defaultSelectedKey\"\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tthis.openDecisionDialog(decisionDialogSettings);\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\t.catch(() => {\n\t\t\t\t\t\tLog.error(\"Could not load the reason options properly\");\n\t\t\t\t\t});\n\t\t\t}\n\t\t} catch {\n\t\t\tLog.error(\"Could not load metadata model for inbox\");\n\t\t}\n\t}\n\n\t/**\n\t * Initiates the decisionDialog\n\t *\n\t * @static\n\t * @param {DecisionOption} decisionOption - Decision Option\n\t * @param {ResourceModel} i18nBundle - The resource bundle for internationalization.\n\t * @param {Task} task - Task Instance\n\t * @param {Refresh} refresh - Refresh function\n\t */\n\tstatic decisionDialogMethod(decisionOption: DecisionOption, i18nBundle: ResourceBundle, task: Task, baseUrl: string, refresh: Refresh) {\n\t\tconst dialogUtils = new DecisionDialog(decisionOption, i18nBundle, task, baseUrl, refresh);\n\t\treturn dialogUtils.showDecisionDialog();\n\t}\n\n\t/**\n\t * Retrieves task actions based on the task and multi-select decision results.\n\t *\n\t * @static\n\t * @param {Task} task - The task for which actions are retrieved.\n\t * @param {string} baseUrl - The base URL.\n\t * @param {MultiSelectDecisionResult} multiSelectDecisionResults - The multi-select decision results.\n\t * @param {ResourceBundle} i18nBundle - The resource bundle for internationalization.\n\t * @returns {ActionButton[]} An array of action buttons.\n\t */\n\tstatic getTaskActions(\n\t\ttask: Task,\n\t\tbaseUrl: string,\n\t\tmultiSelectDecisionResults: MultiSelectDecisionResult,\n\t\ti18nBundle: ResourceBundle\n\t): ActionButton[] {\n\t\tconst actions: ActionButton[] = [];\n\t\tconst displayedTypes = new Set<string>();\n\t\tconst multiSelectDecisionOptions = multiSelectDecisionResults[task.SAP__Origin + task.TaskDefinitionID];\n\n\t\tif (multiSelectDecisionOptions) {\n\t\t\tfor (const decisionOption of multiSelectDecisionOptions) {\n\t\t\t\tif (!displayedTypes.has(decisionOption.Nature) || !decisionOption.Nature) {\n\t\t\t\t\tactions.push(getActionButton(decisionOption, i18nBundle, task, baseUrl));\n\t\t\t\t\tdisplayedTypes.add(decisionOption.Nature);\n\t\t\t\t} else {\n\t\t\t\t\tconst action = getActionButton(decisionOption, i18nBundle, task, baseUrl);\n\t\t\t\t\taction.type = ButtonType.Default;\n\t\t\t\t\tactions.push(action);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn actions;\n\t}\n}\n"],"mappings":"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","ignoreList":[],"sourceRoot":"utils"}},{"offset":{"line":467,"column":0},"map":{"version":3,"file":"Device.js","names":["sap","ui","define","Device","DeviceWidth","Mobile","Tablet","Desktop","DeviceType","calculateDeviceType","width","arguments","length","undefined","resize","system","phone","LargeDesktop","fetchElementProperties","domRef","properties","oProperties","forEach","property","parseFloat","window","getComputedStyle","getPropertyValue","__exports","__esModule"],"sources":["Device.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\n\nimport Device from \"sap/ui/Device\";\n\n/** Device widths in px */\nconst DeviceWidth = {\n\tMobile: 600,\n\tTablet: 1024,\n\tDesktop: 1440\n};\n\nexport enum DeviceType {\n\tMobile = \"Mobile\",\n\tTablet = \"Tablet\",\n\tDesktop = \"Desktop\",\n\tLargeDesktop = \"LargeDesktop\"\n}\n\n/**\n * Calculates the device type based on the given width.\n *\n * @param {number} [width=Device.resize.width] - The width of the device. Defaults to the current device width.\n * @returns {DeviceType} - The calculated device type.\n */\nexport function calculateDeviceType(width: number = Device.resize.width): DeviceType {\n\tif (width < DeviceWidth.Mobile || Device.system.phone) {\n\t\treturn DeviceType.Mobile;\n\t} else if (width < DeviceWidth.Tablet) {\n\t\treturn DeviceType.Tablet;\n\t} else if (width < DeviceWidth.Desktop) {\n\t\treturn DeviceType.Desktop;\n\t} else {\n\t\treturn DeviceType.LargeDesktop;\n\t}\n}\n\n/**\n * Fetches the specified CSS properties of a given DOM element and returns them as a record.\n *\n * @param {Element} domRef - The DOM element from which to fetch the properties.\n * @param {string[]} properties - An array of property names to fetch.\n * @returns {Record<string, number>} - A record where the keys are property names and the values are the corresponding property values as numbers.\n */\nexport function fetchElementProperties(domRef: Element, properties: string[]): Record<string, number> {\n\tconst oProperties: Record<string, number> = {};\n\tproperties.forEach((property) => {\n\t\toProperties[property] = parseFloat(window.getComputedStyle(domRef).getPropertyValue(property));\n\t});\n\n\treturn oProperties;\n}\n"],"mappings":"AAAA;;;;AAAA,aAAAA,IAAAC,GAAAC,OAAA,2BAAAC,GAAA,aAQA,MAAMC,EAAc,CACnBC,OAAQ,IACRC,OAAQ,KACRC,QAAS,MACR,IAEUC,EAAU,SAAVA,KAAU,mBAAVA,EAAU,mBAAVA,EAAU,qBAAVA,EAAU,sCAAVA,CAAU,EAAVA,GAAU,IAaf,SAASC,IAAqE,IAAjDC,EAAaC,UAAAC,OAAA,GAAAD,UAAA,KAAAE,UAAAF,UAAA,GAAGR,EAAOW,OAAOJ,MACjE,GAAIA,EAAQN,EAAYC,QAAUF,EAAOY,OAAOC,MAAO,CACtD,OAAOR,EAAWH,MACnB,MAAO,GAAIK,EAAQN,EAAYE,OAAQ,CACtC,OAAOE,EAAWF,MACnB,MAAO,GAAII,EAAQN,EAAYG,QAAS,CACvC,OAAOC,EAAWD,OACnB,KAAO,CACN,OAAOC,EAAWS,YACnB,CACD,CASO,SAASC,EAAuBC,EAAiBC,GACvD,MAAMC,EAAsC,CAAC,EAC7CD,EAAWE,QAASC,IACnBF,EAAYE,GAAYC,WAAWC,OAAOC,iBAAiBP,GAAQQ,iBAAiBJ,MAGrF,OAAOF,CACR,CAAC,IAAAO,EAAA,CAAAC,WAAA,MAAAD,EAAApB,aAAAoB,EAAAnB,sBAAAmB,EAAAV,yBAAA,OAAAU,CAAA","ignoreList":[],"sourceRoot":"utils"}},{"offset":{"line":474,"column":0},"map":{"version":3,"file":"DragDropUtils.js","names":["sap","ui","define","GridContainer","FlexBox","Event","Element","sap_ui_core_library","attachKeyboardHandler","event","disablenavigation","callback","draggedControl","closestTo","target","firstElementChild","container","getParent","isMetaKey","metaKey","ctrlKey","items","getItems","currentIndex","findIndex","item","document","activeElement","getDomRef","setTabIndexForItems","map","includes","key","Promise","resolve","preventDefault","stopPropagation","currentItemIndex","indexOfItem","reverseItems","reverse","_getClosestElementYIndex","data","length","droppedControl","_temp3","_temp2","focusDraggedItem","dragDropEvent","dropPosition","dnd","RelativeDropPosition","Before","After","_temp","then","e","reject","dropItemIndex","draggedItemDomRef","aWrapperItemsDomRef","$","children","each","iIndex","oWrapperItem","classList","contains","push","setAttribute","focus","keyCode","fnElementPositionX","element","getBoundingClientRect","x","fnElementPositionY","y","minIndex","minDistance","Number","MAX_SAFE_INTEGER","forEach","index","currentDist","Math","sqrt","pow","isAllowed","aItems","tabIndex","__exports","__esModule"],"sources":["DragDropUtils.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\n\nimport GridContainer from \"sap/f/GridContainer\";\nimport FlexBox from \"sap/m/FlexBox\";\nimport Event from \"sap/ui/base/Event\";\nimport Control from \"sap/ui/core/Control\";\nimport Element from \"sap/ui/core/Element\";\nimport { dnd } from \"sap/ui/core/library\";\n\n/**\n * Handles keyboard events for navigation and drag and drop functionality.\n * @param {KeyboardEvent} event - The keyboard event object.\n * @param {boolean} disablenavigation - Whether navigation is allowed.\n * @param {Function} callback - The callback function to execute when a drag and drop event occurs.\n * @returns {Promise<void>} A Promise that resolves when the handling is complete.\n */\n\nexport async function attachKeyboardHandler(\n\tevent: KeyboardEvent,\n\tdisablenavigation: boolean,\n\tcallback?: (dragDropEvent: Event) => Promise<void> | void\n) {\n\tconst draggedControl = Element.closestTo((event.target as HTMLElement).firstElementChild as HTMLElement) as Control;\n\tconst container = draggedControl.getParent() as GridContainer | FlexBox;\n\tconst isMetaKey = event.metaKey || event.ctrlKey;\n\tconst items = container.getItems();\n\tconst currentIndex = items.findIndex((item) => document.activeElement === item.getDomRef());\n\tsetTabIndexForItems(\n\t\titems.map((item) => item.getDomRef() as HTMLElement),\n\t\tcurrentIndex\n\t);\n\n\tif (\n\t\t!draggedControl ||\n\t\t!container ||\n\t\t!(disablenavigation && [\"ArrowRight\", \"ArrowLeft\", \"ArrowUp\", \"ArrowDown\", \"Home\", \"End\"].includes(event.key))\n\t) {\n\t\treturn;\n\t}\n\n\tevent.preventDefault();\n\tevent.stopPropagation();\n\n\tlet currentItemIndex = container.indexOfItem(draggedControl);\n\tconst reverseItems = [...items].reverse();\n\tswitch (event.key) {\n\t\tcase \"ArrowRight\":\n\t\t\tcurrentItemIndex += 1;\n\t\t\tbreak;\n\t\tcase \"ArrowLeft\":\n\t\t\tcurrentItemIndex -= 1;\n\t\t\tbreak;\n\t\tcase \"ArrowUp\":\n\t\tcase \"ArrowDown\":\n\t\t\tcurrentItemIndex = _getClosestElementYIndex(container, currentItemIndex, event.key);\n\t\t\tbreak;\n\t\tcase \"Home\":\n\t\t\tcurrentItemIndex = draggedControl.data(\"groupId\")\n\t\t\t\t? items.findIndex((item) => item.data(\"groupId\"))\n\t\t\t\t: items.findIndex((item) => !item.data(\"groupId\"));\n\t\t\tbreak;\n\t\tcase \"End\":\n\t\t\tcurrentItemIndex =\n\t\t\t\titems.length -\n\t\t\t\t1 -\n\t\t\t\t(draggedControl.data(\"groupId\")\n\t\t\t\t\t? reverseItems.findIndex((item) => item.data(\"groupId\"))\n\t\t\t\t\t: reverseItems.findIndex((item) => !item.data(\"groupId\")));\n\t\t\tbreak;\n\t}\n\tconst droppedControl = currentItemIndex > -1 && currentItemIndex < items.length ? items[currentItemIndex] : null;\n\tif (draggedControl && droppedControl) {\n\t\tconst dragDropEvent = new Event(\"keyboardDragDropEvent\", container, {\n\t\t\tdraggedControl,\n\t\t\tdroppedControl,\n\t\t\tdropPosition: [\"ArrowLeft\", \"ArrowUp\", \"Home\"].includes(event.key)\n\t\t\t\t? dnd.RelativeDropPosition.Before\n\t\t\t\t: dnd.RelativeDropPosition.After\n\t\t});\n\t\tsetTabIndexForItems(\n\t\t\titems.map((item) => item.getDomRef() as HTMLElement),\n\t\t\tcurrentItemIndex\n\t\t);\n\t\tif (callback && isMetaKey) {\n\t\t\tawait callback(dragDropEvent);\n\t\t}\n\t\tfocusDraggedItem(container, currentItemIndex);\n\t}\n}\n\n/**\n * Gathers all DOM elements representing individual tiles in the grid container\n * that have the \"sapFGridContainerItemWrapper\" class, stores them in an array,\n * and then focuses the DOM element corresponding to the card that was just moved\n * during a drag-and-drop operation by setting its \"tabindex\" to \"0\" for\n * accessibility and navigation purposes.\n * @param {GridContainer | FlexBox} container - The container containing the items.\n * @param {number} dropItemIndex - The index of the item to focus after drag-and-drop.\n */\nconst focusDraggedItem = (container: GridContainer | FlexBox, dropItemIndex: number): void => {\n\tlet draggedItemDomRef: HTMLElement | null = null;\n\tif (container instanceof GridContainer) {\n\t\tconst aWrapperItemsDomRef: HTMLElement[] = [];\n\t\tcontainer\n\t\t\t.$(\"listUl\")\n\t\t\t.children()\n\t\t\t.each(function (iIndex, oWrapperItem) {\n\t\t\t\tif (oWrapperItem.classList.contains(\"sapFGridContainerItemWrapper\")) {\n\t\t\t\t\taWrapperItemsDomRef.push(oWrapperItem);\n\t\t\t\t}\n\t\t\t});\n\t\tdraggedItemDomRef = aWrapperItemsDomRef[dropItemIndex];\n\t} else if (container instanceof FlexBox) {\n\t\tdraggedItemDomRef = container.getItems()[dropItemIndex].getDomRef() as HTMLElement;\n\t}\n\tif (draggedItemDomRef) {\n\t\tdraggedItemDomRef.setAttribute(\"tabindex\", \"0\");\n\t\tdraggedItemDomRef.focus();\n\t}\n};\n\n/**\n * Gets the index of the closest element in the Y direction within a grid container.\n * @param {GridContainer | FlexBox} container - The container (either GridContainer or FlexBox).\n * @param {number} currentIndex - The index of the current element.\n * @param {string} keyCode - The key code representing the direction (ArrowUp or ArrowDown).\n * @returns {number} The index of the closest element in the Y direction.\n */\n\nconst _getClosestElementYIndex = (container: GridContainer | FlexBox, currentIndex: number, keyCode: string) => {\n\tconst fnElementPositionX = function (element: HTMLElement) {\n\t\treturn element.getBoundingClientRect().x;\n\t};\n\n\tconst fnElementPositionY = function (element: HTMLElement) {\n\t\treturn element.getBoundingClientRect().y;\n\t};\n\n\tlet minIndex = currentIndex;\n\tlet minDistance = Number.MAX_SAFE_INTEGER;\n\tconst items = container.getItems().map((item) => item.getDomRef()) as HTMLElement[];\n\titems.forEach(function (item, index) {\n\t\tconst currentDist = Math.sqrt(\n\t\t\tMath.pow(fnElementPositionX(items[currentIndex]) - fnElementPositionX(item), 2) +\n\t\t\t\tMath.pow(fnElementPositionY(items[currentIndex]) - fnElementPositionY(item), 2)\n\t\t);\n\t\tconst isAllowed = (keyCode === \"ArrowDown\" && index > currentIndex) || (keyCode === \"ArrowUp\" && index < currentIndex);\n\t\tif (isAllowed && currentDist < minDistance && fnElementPositionY(item) !== fnElementPositionY(items[currentIndex])) {\n\t\t\tminDistance = currentDist;\n\t\t\tminIndex = index;\n\t\t}\n\t});\n\treturn minIndex;\n};\n\nconst setTabIndexForItems = (aItems: HTMLElement[], currentIndex: number) => {\n\taItems.forEach((x, index) => {\n\t\tx.tabIndex = index === currentIndex ? 0 : -1;\n\t});\n};\n"],"mappings":"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","ignoreList":[],"sourceRoot":"utils"}},{"offset":{"line":481,"column":0},"map":{"version":3,"file":"FESRUtil.js","names":["sap","ui","define","FESRHelper","FESR_EVENTS","addFESRId","control","fesrId","data","getFESRId","addFESRSemanticStepName","element","eventName","stepName","setSemanticStepname","__exports","__esModule"],"sources":["FESRUtil.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\n\nimport Control from \"sap/ui/core/Control\";\nimport UI5Element from \"sap/ui/core/Element\";\nimport FESRHelper from \"sap/ui/performance/trace/FESRHelper\";\n\nexport enum FESR_EVENTS {\n\tPRESS = \"press\",\n\tCHANGE = \"change\",\n\tSELECT = \"select\"\n}\n\nexport const addFESRId = (control: Control | UI5Element, fesrId: string) => {\n\tcontrol.data(\"fesr-id\", fesrId);\n\treturn control;\n};\n\nexport const getFESRId = (control: Control | UI5Element) => {\n\treturn control.data(\"fesr-id\") as string;\n};\n\nexport const addFESRSemanticStepName = (element: UI5Element, eventName: string, stepName: string) => {\n\tif (stepName) {\n\t\tFESRHelper.setSemanticStepname(element, eventName, stepName);\n\t}\n};\n"],"mappings":"AAAA;;;;AAAA,aAAAA,IAAAC,GAAAC,OAAA,iDAAAC,GAAA,iBASYC,EAAW,SAAXA,KAAW,iBAAXA,EAAW,mBAAXA,EAAW,0BAAXA,CAAW,EAAXA,GAAW,IAMhB,MAAMC,EAAYA,CAACC,EAA+BC,KACxDD,EAAQE,KAAK,UAAWD,GACxB,OAAOD,GAGD,MAAMG,EAAaH,GAClBA,EAAQE,KAAK,WAGd,MAAME,EAA0BA,CAACC,EAAqBC,EAAmBC,KAC/E,GAAIA,EAAU,CACbV,EAAWW,oBAAoBH,EAASC,EAAWC,EACpD,GACC,IAAAE,EAAA,CAAAC,WAAA,MAAAD,EAAAX,cAAAW,EAAAV,YAAAU,EAAAN,YAAAM,EAAAL,0BAAA,OAAAK,CAAA","ignoreList":[],"sourceRoot":"utils"}},{"offset":{"line":488,"column":0},"map":{"version":3,"file":"HttpHelper.js","names":["sap","ui","define","Log","BaseObject","___Constants","REPO_BASE_URL","AppManager","constructor","super","fetchCSRFToken","fetch","method","headers","then","response","token","get","ok","Error","catch","error","message","Post","url","payload","csrfToken","body","JSON","stringify","json","GetJSON"],"sources":["HttpHelper.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\nimport Log from \"sap/base/Log\";\nimport BaseObject from \"sap/ui/base/Object\";\nimport { REPO_BASE_URL } from \"./Constants\";\n\n/**\n *\n * @class Provides the HttpHelper Class used for Get and Post Calls.\n *\n * @extends sap.ui.BaseObject\n *\n * @author SAP SE\n * @version 0.0.1\n * @since 1.121.0\n *\n * @private\n * @experimental Since 1.121\n * @hidden\n *\n * @alias sap.cux.home.util.HttpHelper\n */\n\nexport default class AppManager extends BaseObject {\n\tprivate constructor() {\n\t\tsuper();\n\t}\n\n\t/**\n\t * Fetches the CSRF Token\n\t * @returns {Promise<string | void>} Promise that resolves with the CSRF Token\n\t */\n\tprivate static fetchCSRFToken(): Promise<string | void> {\n\t\treturn fetch(REPO_BASE_URL, {\n\t\t\tmethod: \"HEAD\",\n\t\t\theaders: {\n\t\t\t\t\"X-CSRF-Token\": \"Fetch\"\n\t\t\t}\n\t\t})\n\t\t\t.then((response) => {\n\t\t\t\tconst token = response.headers.get(\"X-CSRF-Token\");\n\t\t\t\tif (response.ok && token) {\n\t\t\t\t\treturn token;\n\t\t\t\t}\n\t\t\t\tthrow new Error(\"Cannot fetch X-CSRF-Token.\");\n\t\t\t})\n\t\t\t.catch((error: Error) => {\n\t\t\t\tLog.error(error.message);\n\t\t\t});\n\t}\n\n\t/**\n\t * Post Method\n\t * @param {string} url - The URL to post to\n\t * @param {object} payload - The payload to post\n\t * @returns {Promise<unknown>} Promise that resolves with the response\n\t */\n\tpublic static Post(url: string, payload: object): Promise<unknown> {\n\t\treturn AppManager.fetchCSRFToken()\n\t\t\t.then((csrfToken) => {\n\t\t\t\treturn fetch(url, {\n\t\t\t\t\tmethod: \"POST\",\n\t\t\t\t\theaders: {\n\t\t\t\t\t\t\"X-CSRF-Token\": csrfToken as string,\n\t\t\t\t\t\t\"content-type\": \"application/json\"\n\t\t\t\t\t},\n\t\t\t\t\tbody: JSON.stringify(payload)\n\t\t\t\t});\n\t\t\t})\n\t\t\t.then((response) => {\n\t\t\t\treturn response.json();\n\t\t\t})\n\t\t\t.catch((error: Error) => {\n\t\t\t\tLog.error(error.message);\n\t\t\t});\n\t}\n\n\t/**\n\t * Get Method for JSON Data\n\t * @param {string} url - The URL to get from\n\t * @returns {Promise<unknown>} Promise that resolves with the JSON data response\n\t */\n\tpublic static GetJSON(url: string): Promise<unknown> {\n\t\treturn fetch(url)\n\t\t\t.then((response) => {\n\t\t\t\treturn response.json();\n\t\t\t})\n\t\t\t.catch((error: Error) => {\n\t\t\t\tLog.error(error.message);\n\t\t\t});\n\t}\n}\n"],"mappings":"AAAA;;;;AAAA,aAAAA,IAAAC,GAAAC,OAAA,6DAAAC,EAAAC,EAAAC,GAAA,mBAMSC,EAAaD,EAAA,iBAmBP,MAAME,UAAmBH,EAC/BI,cACPC,OACD,CAMA,qBAAAC,GACC,OAAOC,MAAML,EAAe,CAC3BM,OAAQ,OACRC,QAAS,CACR,eAAgB,WAGhBC,KAAMC,IACN,MAAMC,EAAQD,EAASF,QAAQI,IAAI,gBACnC,GAAIF,EAASG,IAAMF,EAAO,CACzB,OAAOA,CACR,CACA,MAAM,IAAIG,MAAM,gCAEhBC,MAAOC,IACPlB,EAAIkB,MAAMA,EAAMC,UAEnB,CAQA,WAAAC,CAAmBC,EAAaC,GAC/B,OAAOlB,EAAWG,iBAChBI,KAAMY,GACCf,MAAMa,EAAK,CACjBZ,OAAQ,OACRC,QAAS,CACR,eAAgBa,EAChB,eAAgB,oBAEjBC,KAAMC,KAAKC,UAAUJ,MAGtBX,KAAMC,GACCA,EAASe,QAEhBV,MAAOC,IACPlB,EAAIkB,MAAMA,EAAMC,UAEnB,CAOA,cAAAS,CAAsBP,GACrB,OAAOb,MAAMa,GACXV,KAAMC,GACCA,EAASe,QAEhBV,MAAOC,IACPlB,EAAIkB,MAAMA,EAAMC,UAEnB,EACA,OAAAf,CAAA","ignoreList":[],"sourceRoot":"utils"}},{"offset":{"line":495,"column":0},"map":{"version":3,"file":"IconList.js","names":["sap","ui","define","ICONS","title","icons","account","wrench","visits","video","temperature","task","synchronize","survey","settings","search","refresh","product","present","pool","picture","phone","pending","past","opportunity","opportunities","notes","map","log","lightbulb","leads","lead","laptop","inbox","history","future","fridge","fallback","employee","email","edit","duplicate","download","dishwasher","delete","decline","complete","competitor","chalkboard","cart","card","camera","calendar","begin","basket","attachment","approvals","appointment","alert","addresses","add","activities","action","accept","hint","group","bed","arobase","favorite","less","lateness","lab","instance","inspection","home","grid","goalseek","flight","filter","factory","endoscopy","electrocardiogram","documents","decision","database","customer","contacts","compare","world","iphone","ipad","warning","sort","print","save","play","pause","record","response","unfavorite","timesheet","list","share","feed","role","flag","post","inspect","comment","collaborate","shortcut","permission","supplier","manager","signature","request","receipt","puzzle","process","private","overlay","meal","loan","performance","menu","education","accelerated","warning2","create","globe","tags","waiver","microphone","tree","theater","taxi","stethoscope","step","sonography","soccer","pharmacy","newspaper","machine","unwired","widgets","wallet","upload","unlocked","umbrella","tag","syringe","syntax","suitcase","simulate","shield","repost","provision","projector","palette","nurse","mileage","measure","locked","letter","inventory","initiative","incident","goal","form","folder","example","eraser","document","doctor","discussion","dimension","crop","collision","curriculum","cause","burglary","building","border","bookmark","badge","paging","explorer","header","collapse","expand","positive","negative","display","menu2","redo","undo","down","up","shelf","background","resize","move","show","hide","error","forward","overflow","dropdown","legend","restart","stop","activate","connected","disconnected","key","minimize","outbox","call","jam","cloud","headset","scissors","sound","co","bell","cancel","customize","copy","paste","reset","checklist","indent","outdent","heading1","heading2","heading3","away","busy","blur","pixelate","strikethrough","text","responsive","validate","touch","combine","split","megamenu","feedback","information","s4hana","translate","technicalsystem","systemjava","systemabap","systemrecommendations","system","systemtrex","systemtracks","technicalscenario","technicalinstance","exceptions","python","user","note","gateway","marquee","more","pattern","arrow","data","swimlane","select","cursor","api","java","block","actor","unit","signal","dependency","generalization","aggregation","composition","association","port","operations","constrains","receptions","references","parts","flow","values","subject","connector","aggregator","splitter","converter","realization","interface","application","network","intranet","antenna","firewall","hub","modem","repeater","router","switch","satellite","insights","BusinessSuiteInAppSymbols","heart","quarter","year","equalizer","component","sms","forklift","coins","program","phase","milestone","bold","italic","underline","segmentation","snapshot","intersection","union","top","bottom","neutral","blocked","pipette","recipe","ingredients","spill","fire","stratification","relationship","increase","decrease","expedite","postpone","approved","submission","birthday","classification","completed","answered","container","products","sidepanel","target","source","material","overdue","alarm","radius","polygon","grip","water","gas","liquid","operator","equipment","section","kohorte","female","male","model","hourglass","tv","radio","outdoor","event","tractor","social","event2","rescheduling","resequencing","driver","overlap","utilization","trailer","railcar","warehouse","goods","ship","contract","reminder","weight","immunization","allergies","rescheduling2","resequencing2","refinery","terminal","vessel","barge","road","pipeline","delay","causes","effects","rfid","input","lighthouse","__exports","__esModule"],"sources":["IconList.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\nexport const ICONS: Icons = {\n\t\"SAP-icons\": {\n\t\ttitle: \"SAP Icons\",\n\t\ticons: {\n\t\t\t\"accidental-leave\": [\"accidental\", \"leave\", \"medical\", \"cross\", \"plus\", \"emergency\", \"hospital\"],\n\t\t\taccount: [\"user\", \"menu\", \"settings\"],\n\t\t\twrench: [\"wrench\", \"control\", \"configuration\", \"settings\", \"tool\"],\n\t\t\t\"windows-doors\": [\"window\", \"door\", \"entry\"],\n\t\t\t\"washing-machine\": [\"washing\", \"machine\", \"laundry\", \"clean\", \"wash\", \"purify\"],\n\t\t\tvisits: [\"user\", \"arrow\", \"door\", \"visit\", \"login\", \"entry\"],\n\t\t\tvideo: [\"camera\", \"recorder\", \"video\", \"movie\", \"clip\"],\n\t\t\t\"travel-expense\": [\n\t\t\t\t\"plane\",\n\t\t\t\t\"dollar\",\n\t\t\t\t\"money\",\n\t\t\t\t\"trip\",\n\t\t\t\t\"expense\",\n\t\t\t\t\"travel\",\n\t\t\t\t\"holiday\",\n\t\t\t\t\"flight\",\n\t\t\t\t\"budget\",\n\t\t\t\t\"billing\",\n\t\t\t\t\"invoice\",\n\t\t\t\t\"cost\",\n\t\t\t\t\"payments\"\n\t\t\t],\n\t\t\ttemperature: [\"temperature\", \"hot\", \"heat\", \"cold\", \"cool\", \"illness\", \"sickness\", \"health\", \"medical\"],\n\t\t\ttask: [\"clipboard\", \"task\", \"checkbox\", \"checklist\", \"list\", \"checkmark\"],\n\t\t\tsynchronize: [\"synchronize\", \"reload\", \"refresh\", \"arrow\"],\n\t\t\tsurvey: [\"survey\", \"form\", \"checklist\", \"list\", \"checkbox\", \"checkmark\", \"x\"],\n\t\t\tsettings: [\"cogwheels\", \"configuration\", \"settings\", \"tools\", \"modify\", \"customize\"],\n\t\t\tsearch: [\"search\", \"magnifier\", \"glass\"],\n\t\t\t\"sales-document\": [\"document\", \"page\", \"file\", \"text\", \"sales\", \"money\"],\n\t\t\t\"retail-store\": [\"shop\", \"store\", \"retail\", \"market\"],\n\t\t\trefresh: [\"reload\", \"refresh\", \"arrow\"],\n\t\t\tproduct: [\"product\", \"commodity\", \"goods\", \"stock\", \"merchandise\", \"package\"],\n\t\t\tpresent: [\"time\", \"clock\", \"star\", \"current\", \"present\"],\n\t\t\t\"ppt-attachment\": [\"document\", \"page\", \"file\", \"attachment\", \"ppt\", \"powerpoint\"],\n\t\t\tpool: [\"pool\", \"basin\", \"swim\"],\n\t\t\t\"pie-chart\": [\"analytics\", \"chart\", \"display\", \"data\", \"pie\", \"segments\"],\n\t\t\tpicture: [\"picture\", \"photo\", \"photograph\", \"shot\", \"image\"],\n\t\t\t\"photo-voltaic\": [\"photovoltaic\", \"voltaic\", \"electricity\", \"power\", \"solar\", \"panel\", \"sun\"],\n\t\t\tphone: [\"phone\", \"telephone\", \"landline\", \"number\", \"call\", \"dial\"],\n\t\t\tpending: [\"time\", \"clock\", \"pend\", \"pending\", \"awaiting\", \"unresolved\", \"unsettled\"],\n\t\t\t\"pdf-attachment\": [\"document\", \"page\", \"file\", \"attachment\", \"pdf\"],\n\t\t\tpast: [\"time\", \"clock\", \"past\", \"bygone\", \"former\", \"late\"],\n\t\t\t\"outgoing-call\": [\"call\", \"communicate\", \"phone\", \"telephone\", \"outgoing\", \"arrow\"],\n\t\t\topportunity: [\"chart\", \"line\", \"star\", \"opportunity\", \"stock\", \"market\", \"exchange\", \"trade\"],\n\t\t\topportunities: [\"user\", \"person\", \"dollar\", \"equal to\", \"opportunity\"],\n\t\t\tnotes: [\"notes\", \"marks\", \"info\", \"draft\"],\n\t\t\t\"money-bills\": [\"money\", \"cash\", \"payment\", \"bills\", \"dollar\"],\n\t\t\tmap: [\"map\", \"pin\", \"loaction\", \"place\", \"area\"],\n\t\t\tlog: [\"log\", \"logout\", \"log on\", \"log off\"],\n\t\t\t\"line-charts\": [\"analytics\", \"chart\", \"display\", \"data\"],\n\t\t\tlightbulb: [\"lightbulb\", \"light\", \"lamp\", \"idea\"],\n\t\t\tleads: [\"user\", \"person\", \"leads\", \"star\", \"equal to\"],\n\t\t\tlead: [\"money\", \"dollar\", \"currency\", \"payment\"],\n\t\t\tlaptop: [\"laptop\", \"device\", \"computer\"],\n\t\t\t\"kpi-managing-my-area\": [\"user\", \"person\", \"kpi\", \"checkmark\", \"equal to\"],\n\t\t\t\"kpi-corporate-performance\": [\"chart\", \"line\", \"kpi\", \"checkmark\", \"performance\"],\n\t\t\t\"incoming-call\": [\"call\", \"communicate\", \"incoming\", \"phone\", \"telephone\", \"arrow\"],\n\t\t\tinbox: [\"inbox\", \"in\", \"arrow\"],\n\t\t\t\"horizontal-bar-chart\": [\"analytics\", \"chart\", \"display\", \"data\", \"bar\", \"horizontal\"],\n\t\t\thistory: [\"time\", \"clock\", \"history\", \"past\", \"chronicle\"],\n\t\t\t\"heating-cooling\": [\"temperature\", \"air conditioning\", \"ac\", \"heat\", \"cold\", \"sun\", \"snowflake\"],\n\t\t\t\"gantt-bars\": [\"calendar\", \"gantt\", \"bars\", \"gantt bars\", \"chart\", \"schedule\"],\n\t\t\tfuture: [\"time\", \"clock\", \"arrow\", \"future\", \"hereafter\"],\n\t\t\tfridge: [\"fridge\", \"refrigerator\", \"icebox\", \"freezer\", \"cooler\", \"appliance\"],\n\t\t\tfallback: [\"folder\", \"fallback\", \"marked\", \"object\"],\n\t\t\t\"expense-report\": [\"expense\", \"report\", \"documents\", \"money\", \"dollar\"],\n\t\t\t\"excel-attachment\": [\"document\", \"page\", \"file\", \"attachment\", \"excel\", \"spreadsheet\", \"accounting\"],\n\t\t\t\"energy-saving-lightbulb\": [\"lightbulb\", \"light\", \"lamp\", \"idea\", \"eco\", \"energy saving\"],\n\t\t\temployee: [\"user\", \"person\", \"employee\", \"member\", \"operator\", \"representative\"],\n\t\t\temail: [\"envelope\", \"email\", \"e-mail\", \"electronic mail\", \"mail\", \"correspondence\"],\n\t\t\tedit: [\"pencil\", \"pen\", \"write\", \"edit\", \"modify\", \"text\"],\n\t\t\tduplicate: [\"duplicate\", \"objects\", \"arrow\"],\n\t\t\tdownload: [\"download\", \"arrow\"],\n\t\t\t\"doc-attachment\": [\"document\", \"page\", \"file\", \"attachment\", \"word\", \"text\"],\n\t\t\tdishwasher: [\"dishwasher\", \"dish\", \"wash\", \"appliance\"],\n\t\t\tdelete: [\"bin\", \"trash can\", \"rubbish\", \"delete\"],\n\t\t\tdecline: [\"reject\", \"close\", \"remove\", \"cancel\", \"x\"],\n\t\t\tcomplete: [\"complete\", \"checkmark\", \"tick\", \"affirmative\", \"enter\", \"finish\"],\n\t\t\tcompetitor: [\"competitor\", \"winner\", \"prize\", \"award\", \"trophy\", \"cup\"],\n\t\t\t\"collections-management\": [\"calculator\", \"counting\", \"simulate\", \"collections management\", \"total\", \"accounting\"],\n\t\t\tchalkboard: [\"chalkboard\", \"education\", \"teaching\", \"learning\", \"classroom\", \"school\", \"college\"],\n\t\t\tcart: [\"cart\", \"trolley\", \"basket\", \"shopping\"],\n\t\t\tcard: [\"image\", \"placeholder\", \"picture\", \"hills\", \"mountains\", \"sun\", \"card\"],\n\t\t\tcamera: [\"camera\", \"photograph\", \"device\", \"image\", \"snap shot\"],\n\t\t\tcalendar: [\"calendar\"],\n\t\t\tbegin: [\"begin\", \"start\", \"arrows\"],\n\t\t\tbasket: [\"basket\", \"shopping\"],\n\t\t\t\"bar-chart\": [\"analytics\", \"chart\", \"display\", \"data\"],\n\t\t\tattachment: [\"attach\", \"file\", \"paper clip\"],\n\t\t\t\"arrow-top\": [\"arrow top\", \"up\"],\n\t\t\t\"arrow-right\": [\"arrow right\"],\n\t\t\t\"arrow-left\": [\"arrow left\"],\n\t\t\t\"arrow-bottom\": [\"arrow bottom\", \"down\"],\n\t\t\tapprovals: [\"form\", \"details\", \"text\", \"approvals\", \"accepted\", \"checkmark\"],\n\t\t\tappointment: [\"date picker\", \"calendar\", \"month\", \"week\", \"day\", \"appointment\"],\n\t\t\t\"alphabetical-order\": [\"function\", \"alphabet\", \"letters\", \"a to z\", \"descending\", \"sorting\", \"order\"],\n\t\t\t\"along-stacked-chart\": [\"analytics\", \"chart\", \"display\", \"data\"],\n\t\t\talert: [\"message\", \"warning\", \"critical\", \"notifications\", \"status\"],\n\t\t\taddresses: [\"customers\", \"contacts\", \"addresses\", \"email\", \"e-mail\", \"directory\", \"companies\", \"houses\", \"homes\"],\n\t\t\t\"address-book\": [\"customers\", \"contacts\", \"addresses\", \"email\", \"e-mail\", \"directory\", \"companies\", \"@\", \"at\"],\n\t\t\t\"add-filter\": [\"filter\", \"organise\", \"aggregate\", \"data\", \"add\", \"plus\", \"additional\", \"another\", \"more\"],\n\t\t\t\"add-favorite\": [\"favorite\", \"favourite\", \"star\", \"add\", \"plus\", \"additional\", \"another\", \"more\"],\n\t\t\tadd: [\"add\", \"plus\", \"additional\", \"another\", \"more\", \"add row\", \"add object\", \"add item\"],\n\t\t\tactivities: [\"activities\", \"tasks\", \"to do\", \"list\"],\n\t\t\taction: [\"actions\", \"collection\", \"share options\", \"forward actions\", \"more actions\", \"arrow\"],\n\t\t\taccept: [\"accept\", \"approve\", \"correct\", \"checkmark\", \"tick\", \"affirmative\"],\n\t\t\thint: [\"information\", \"hint\", \"about\", \"details\"],\n\t\t\tgroup: [\n\t\t\t\t\"group\",\n\t\t\t\t\"team\",\n\t\t\t\t\"people\",\n\t\t\t\t\"communication\",\n\t\t\t\t\"collaborate\",\n\t\t\t\t\"teamwork\",\n\t\t\t\t\"peer to peer\",\n\t\t\t\t\"design thinking\",\n\t\t\t\t\"work\",\n\t\t\t\t\"together\",\n\t\t\t\t\"project\",\n\t\t\t\t\"customers\",\n\t\t\t\t\"audience\",\n\t\t\t\t\"category\"\n\t\t\t],\n\t\t\t\"check-availability\": [\n\t\t\t\t\"date picker\",\n\t\t\t\t\"calendar\",\n\t\t\t\t\"month\",\n\t\t\t\t\"week\",\n\t\t\t\t\"day\",\n\t\t\t\t\"appointment\",\n\t\t\t\t\"search\",\n\t\t\t\t\"look up\",\n\t\t\t\t\"check\",\n\t\t\t\t\"availability\",\n\t\t\t\t\"find\"\n\t\t\t],\n\t\t\t\"weather-proofing\": [\"weather\", \"proofing\", \"protection\"],\n\t\t\t\"payment-approval\": [\"sales\", \"simple payment\", \"money\", \"bill\", \"details\", \"quote\", \"accept\", \"approval\", \"checkmark\"],\n\t\t\t\"batch-payments\": [\"folder\", \"open\", \"money\", \"documents\"],\n\t\t\tbed: [\"bed\", \"sleep\", \"ill\", \"hospital\", \"sick\", \"medical\", \"tired\", \"snooze\", \"night\"],\n\t\t\tarobase: [\"at\", \"@\", \"email\", \"address\"],\n\t\t\t\"family-care\": [\"family\", \"protection\", \"people\", \"family\"],\n\t\t\tfavorite: [\"favorite\", \"favourite\", \"star\"],\n\t\t\t\"navigation-right-arrow\": [\"navigation\", \"right\", \"expand\", \"collapsed tree\", \"tree arrow\", \"arrow\"],\n\t\t\t\"navigation-left-arrow\": [\"navigation\", \"left\", \"arrow\"],\n\t\t\t\"e-care\": [\n\t\t\t\t\"e care\",\n\t\t\t\t\"digital customer care\",\n\t\t\t\t\"service\",\n\t\t\t\t\"electronic\",\n\t\t\t\t\"leaf\",\n\t\t\t\t\"leaves\",\n\t\t\t\t\"nature\",\n\t\t\t\t\"organic\",\n\t\t\t\t\"health\",\n\t\t\t\t\"environment\"\n\t\t\t],\n\t\t\tless: [\"less\", \"minus\", \"subtract\"],\n\t\t\tlateness: [\"time\", \"timer\", \"waiting\", \"lateness\", \"loading\", \"hour glass\", \"sand\", \"out of time\"],\n\t\t\tlab: [\"lab\", \"chemicals\", \"liquid\", \"mixture\", \"chemistry\", \"science\", \"laboratory\"],\n\t\t\t\"internet-browser\": [\"screen\", \"internet\", \"website\", \"browser\", \"web app\", \"globe\", \"www\", \"html\"],\n\t\t\tinstance: [\"instance\", \"process\", \"clock\", \"chevron\"],\n\t\t\tinspection: [\"search\", \"document\", \"inspect\"],\n\t\t\t\"image-viewer\": [\"image\", \"placeholder\", \"picture\", \"hills\", \"mountains\", \"sun\", \"viewer\", \"carousel\", \"lightbox\"],\n\t\t\thome: [\"home\", \"house\", \"index\", \"landing page\", \"start\", \"main\"],\n\t\t\tgrid: [\"grid\", \"waffle\", \"layout\", \"boxes\", \"squares\", \"modular\"],\n\t\t\tgoalseek: [\"goal\", \"goalseek\", \"target\", \"result\", \"objective\", \"aim\"],\n\t\t\t\"general-leave-request\": [\"holiday\", \"vacation\", \"leave\", \"request\", \"deck\", \"chair\", \"sun\", \"create\"],\n\t\t\t\"create-leave-request\": [\n\t\t\t\t\"holiday\",\n\t\t\t\t\"vacation\",\n\t\t\t\t\"leave\",\n\t\t\t\t\"request\",\n\t\t\t\t\"deck chair\",\n\t\t\t\t\"sun\",\n\t\t\t\t\"create\",\n\t\t\t\t\"add\",\n\t\t\t\t\"plus\",\n\t\t\t\t\"additional\",\n\t\t\t\t\"another\",\n\t\t\t\t\"more\"\n\t\t\t],\n\t\t\tflight: [\"plane\", \"trip\", \"travel\", \"holiday\", \"flight\", \"Aeroplane\", \"transit\", \"shipment\"],\n\t\t\tfilter: [\"filter\", \"organise\", \"aggregate\", \"data\"],\n\t\t\t\"favorite-list\": [\"favorite\", \"favourite\", \"star\", \"menu\", \"list\"],\n\t\t\tfactory: [\"factory\", \"production\", \"supplier\", \"manufacturing\"],\n\t\t\tendoscopy: [\"endoscopy\", \"medical\", \"procedure\"],\n\t\t\t\"employee-pane\": [\"user\", \"person\", \"employee\", \"member\", \"operator\", \"representative\", \"profile\", \"me\"],\n\t\t\t\"employee-approvals\": [\"person\", \"accept\", \"approval\", \"employee\", \"hr\", \"human resources\"],\n\t\t\t\"email-read\": [\"mail\", \"letter\", \"e-mail\", \"envelope\", \"open\", \"read\"],\n\t\t\telectrocardiogram: [\"electrocardiogram\", \"heart\", \"scan\", \"monitor\", \"medical\"],\n\t\t\tdocuments: [\"document\", \"page\", \"file\", \"attachment\", \"documents\"],\n\t\t\tdecision: [\"hand shake\", \"decision\", \"hands\", \"agreement\", \"colleagues\", \"contract\"],\n\t\t\tdatabase: [\"database\", \"big data\", \"cube\", \"complex\", \"complicated\", \"simple\", \"information\", \"backend\"],\n\t\t\t\"customer-history\": [\"person\", \"history\", \"customer\", \"user\", \"clock\", \"account\"],\n\t\t\tcustomer: [\"person\", \"individual\", \"user\", \"customer\", \"human\", \"circle\", \"profile\", \"me\"],\n\t\t\t\"credit-card\": [\"credit card\", \"master-card\", \"money\", \"debit\", \"order\", \"buy\", \"purchase\", \"shopping\", \"book online\"],\n\t\t\t\"create-entry-time\": [\n\t\t\t\t\"document\",\n\t\t\t\t\"page\",\n\t\t\t\t\"file\",\n\t\t\t\t\"attachment\",\n\t\t\t\t\"timesheet\",\n\t\t\t\t\"clock\",\n\t\t\t\t\"hours\",\n\t\t\t\t\"days\",\n\t\t\t\t\"workday\",\n\t\t\t\t\"create entry time\",\n\t\t\t\t\"add\",\n\t\t\t\t\"plus\",\n\t\t\t\t\"additional\",\n\t\t\t\t\"another\",\n\t\t\t\t\"more\"\n\t\t\t],\n\t\t\tcontacts: [\"customers\", \"contacts\", \"address\", \"email\", \"e-mail\", \"phone book\", \"directory\", \"phone numbers\", \"companies\"],\n\t\t\tcompare: [\"compare\", \"law\", \"justice\", \"scale\", \"measure\", \"weight\", \"balance\", \"compare\", \"comparison\"],\n\t\t\t\"clinical-order\": [\"document\", \"page\", \"file\", \"text\", \"medical\", \"clinical\"],\n\t\t\t\"chain-link\": [\"link\", \"chain\", \"hyperlink\"],\n\t\t\t\"pull-down\": [\"navigation\", \"pull down\", \"refresh\", \"arrow\"],\n\t\t\t\"cargo-train\": [\"train\", \"cargo\", \"delivery\", \"transit\"],\n\t\t\t\"car-rental\": [\"car\", \"auto\", \"rental\", \"company car\", \"hire\", \"vehicle\", \"transportation\"],\n\t\t\t\"business-card\": [\n\t\t\t\t\"business card\",\n\t\t\t\t\"contact\",\n\t\t\t\t\"networking\",\n\t\t\t\t\"colleague\",\n\t\t\t\t\"person\",\n\t\t\t\t\"address\",\n\t\t\t\t\"identification\",\n\t\t\t\t\"details\",\n\t\t\t\t\"profile\"\n\t\t\t],\n\t\t\t\"bar-code\": [\"bar code\", \"document\", \"file\", \"scan\", \"verify\"],\n\t\t\t\"folder-blank\": [\"folder\", \"blank\"],\n\t\t\t\"passenger-train\": [\"train\", \"public transportation\", \"passenger\"],\n\t\t\t\"question-mark\": [\"message\", \"question mark\", \"neutral\", \"notifications\", \"status\"],\n\t\t\tworld: [\"globe\", \"world\", \"goegraphical\", \"earth\", \"planet\", \"international\", \"global\"],\n\t\t\tiphone: [\"iphone\", \"phone\", \"smart phone\", \"portrait\", \"tablet\", \"mobile\", \"responsive\", \"cozy\"],\n\t\t\tipad: [\"ipad\", \"tablet\", \"portrait\", \"mobile\", \"responsive\", \"cozy\"],\n\t\t\twarning: [\"warning\", \"exclamation mark\", \"indicator\", \"information\"],\n\t\t\tsort: [\"sort\", \"aggregate\", \"ascending\", \"descending\", \"arrow\"],\n\t\t\t\"course-book\": [\"education\", \"course\", \"learning\", \"e book\", \"bookmark\", \"open\", \"knowledge\", \"course book\", \"program\"],\n\t\t\t\"course-program\": [\n\t\t\t\t\"document\",\n\t\t\t\t\"page\",\n\t\t\t\t\"file\",\n\t\t\t\t\"attachment\",\n\t\t\t\t\"course\",\n\t\t\t\t\"education\",\n\t\t\t\t\"course\",\n\t\t\t\t\"learning\",\n\t\t\t\t\"e book\",\n\t\t\t\t\"bookmark\",\n\t\t\t\t\"open\",\n\t\t\t\t\"knowledge\",\n\t\t\t\t\"coursebook\",\n\t\t\t\t\"program\"\n\t\t\t],\n\t\t\t\"add-coursebook\": [\n\t\t\t\t\"education\",\n\t\t\t\t\"course\",\n\t\t\t\t\"learning\",\n\t\t\t\t\"e book\",\n\t\t\t\t\"bookmark\",\n\t\t\t\t\"open\",\n\t\t\t\t\"knowledge\",\n\t\t\t\t\"course book\",\n\t\t\t\t\"program\",\n\t\t\t\t\"add\",\n\t\t\t\t\"plus\",\n\t\t\t\t\"additional\",\n\t\t\t\t\"another\",\n\t\t\t\t\"more\"\n\t\t\t],\n\t\t\tprint: [\"print\", \"printer\", \"send to print\", \"hard copy\", \"output\", \"paper\", \"document\", \"file\"],\n\t\t\tsave: [\"save\", \"diskette\", \"floppy disc\", \"local disc\", \"hard disc\"],\n\t\t\tplay: [\"play\"],\n\t\t\tpause: [\"pause\"],\n\t\t\trecord: [\"record\"],\n\t\t\tresponse: [\"reply\", \"response\", \"arrow\"],\n\t\t\t\"pushpin-on\": [\n\t\t\t\t\"document\",\n\t\t\t\t\"page\",\n\t\t\t\t\"file\",\n\t\t\t\t\"attachment\",\n\t\t\t\t\"pin\",\n\t\t\t\t\"pushpin\",\n\t\t\t\t\"stick\",\n\t\t\t\t\"unstick\",\n\t\t\t\t\"snap\",\n\t\t\t\t\"remove pin\",\n\t\t\t\t\"unpin\",\n\t\t\t\t\"off\",\n\t\t\t\t\"on\"\n\t\t\t],\n\t\t\t\"pushpin-off\": [\"pin\", \"pushpin\", \"stick\", \"unstick\", \"snap\", \"remove pin\", \"unpin\", \"off\", \"on\"],\n\t\t\tunfavorite: [\"remove\", \"unfavorite\", \"star\"],\n\t\t\t\"learning-assistant\": [\n\t\t\t\t\"education\",\n\t\t\t\t\"course\",\n\t\t\t\t\"learning\",\n\t\t\t\t\"e book\",\n\t\t\t\t\"bookmark\",\n\t\t\t\t\"open\",\n\t\t\t\t\"knowledge\",\n\t\t\t\t\"school\",\n\t\t\t\t\"college\",\n\t\t\t\t\"help\",\n\t\t\t\t\"tutor\",\n\t\t\t\t\"assistant\",\n\t\t\t\t\"teacher\",\n\t\t\t\t\"professor\"\n\t\t\t],\n\t\t\ttimesheet: [\"document\", \"page\", \"file\", \"attachment\", \"timesheet\", \"clock\", \"hours\", \"days\", \"workday\"],\n\t\t\t\"time-entry-request\": [\"time\", \"entry\", \"request\", \"clock\", \"list\"],\n\t\t\tlist: [\"list\", \"text\", \"ordered\"],\n\t\t\t\"action-settings\": [\"settings\", \"cogwheel\", \"configuration\", \"tools\", \"modify\", \"customize\"],\n\t\t\tshare: [\"share\", \"reshare\", \"distribute\", \"arrow\"],\n\t\t\tfeed: [\"feed\", \"messages\", \"input\", \"news\", \"updates\", \"latest\", \"real-time\"],\n\t\t\trole: [\"person\", \"individual\", \"user\", \"customer\", \"permission\", \"access\", \"granted\", \"open\", \"restrictions\", \"unlocked\"],\n\t\t\tflag: [\"flag\", \"mark\", \"marker\", \"important\"],\n\t\t\tpost: [\"speech\", \"bubble\", \"comment\", \"post\"],\n\t\t\tinspect: [\"inspect\", \"dialog\", \"popup\", \"popout\", \"arrow\"],\n\t\t\t\"inspect-down\": [\"cancel\", \"x\", \"close\", \"dialog\", \"popup\"],\n\t\t\t\"appointment-2\": [\"date picker\", \"calendar\", \"month\", \"week\", \"day\", \"appointment\"],\n\t\t\t\"target-group\": [\"arrow\", \"dart\", \"dartboard\", \"target group\", \"goal\", \"audience\", \"specific\"],\n\t\t\t\"marketing-campaign\": [\"marketing campaign\", \"loud speaker\", \"megaphone\", \"notify\", \"announcenment\", \"public address\"],\n\t\t\t\"message-error\": [\"message\", \"error\", \"negative\", \"notifications\", \"status\"],\n\t\t\tcomment: [\"speech\", \"bubble\", \"comment\", \"discussion\"],\n\t\t\t\"shipping-status\": [\"shipping status\", \"truck\", \"products\", \"delivery\", \"supplier\", \"transit\", \"lorry\", \"van\", \"shipment\"],\n\t\t\tcollaborate: [\n\t\t\t\t\"group\",\n\t\t\t\t\"team\",\n\t\t\t\t\"people\",\n\t\t\t\t\"colleagues\",\n\t\t\t\t\"communication\",\n\t\t\t\t\"collaborate\",\n\t\t\t\t\"teamwork\",\n\t\t\t\t\"peer to peer\",\n\t\t\t\t\"design thinking\",\n\t\t\t\t\"work\",\n\t\t\t\t\"together\",\n\t\t\t\t\"project\"\n\t\t\t],\n\t\t\tshortcut: [\"shortcut\", \"redirect\", \"arrow\"],\n\t\t\t\"lead-outdated\": [\"lead outdated\", \"circle\", \"dollar\"],\n\t\t\t\"tools-opportunity\": [\"analytics\", \"chart\", \"display\", \"data\", \"overview\", \"map\", \"org\", \"tree\"],\n\t\t\tpermission: [\"document\", \"page\", \"file\", \"permission\", \"access\", \"granted\", \"open\", \"restrictions\", \"unlocked\"],\n\t\t\tsupplier: [\n\t\t\t\t\"supplier\",\n\t\t\t\t\"package\",\n\t\t\t\t\"product\",\n\t\t\t\t\"satisfaction\",\n\t\t\t\t\"returns\",\n\t\t\t\t\"deliveries\",\n\t\t\t\t\"warehouse\",\n\t\t\t\t\"person\",\n\t\t\t\t\"seller\",\n\t\t\t\t\"buyer\",\n\t\t\t\t\"inventory\"\n\t\t\t],\n\t\t\t\"table-view\": [\"analytics\", \"chart\", \"display\", \"data\", \"table\", \"grid\", \"waffle\", \"view\", \"columns\", \"rows\"],\n\t\t\t\"table-chart\": [\"analytics\", \"chart\", \"display\", \"data\", \"table\", \"columns\", \"rows\", \"grid\", \"waffle\", \"view\"],\n\t\t\t\"switch-views\": [\"switch\", \"views\", \"objects\", \"arrange\"],\n\t\t\t\"e-learning\": [\n\t\t\t\t\"education\",\n\t\t\t\t\"course\",\n\t\t\t\t\"e learning\",\n\t\t\t\t\"e book\",\n\t\t\t\t\"bookmark\",\n\t\t\t\t\"open\",\n\t\t\t\t\"knowledge\",\n\t\t\t\t\"school\",\n\t\t\t\t\"college\",\n\t\t\t\t\"computer\",\n\t\t\t\t\"screen\"\n\t\t\t],\n\t\t\tmanager: [\n\t\t\t\t\"manager\",\n\t\t\t\t\"company\",\n\t\t\t\t\"overview\",\n\t\t\t\t\"inform\",\n\t\t\t\t\"board\",\n\t\t\t\t\"leader\",\n\t\t\t\t\"conference\",\n\t\t\t\t\"meeting\",\n\t\t\t\t\"keynote\",\n\t\t\t\t\"speech\",\n\t\t\t\t\"presentation\"\n\t\t\t],\n\t\t\t\"switch-classes\": [\"switch\", \"views\", \"objects\", \"arrange\", \"classes\"],\n\t\t\t\"simple-payment\": [\"sales\", \"simple payment\", \"money\", \"bill\", \"details\", \"quote\"],\n\t\t\tsignature: [\"pencil\", \"pen\", \"signature\", \"sign\"],\n\t\t\t\"sales-order-item\": [\"document\", \"page\", \"file\", \"sales order item\", \"money\", \"bill\", \"details\", \"quote\"],\n\t\t\t\"sales-order\": [\"document\", \"page\", \"file\", \"sales order\", \"money\", \"bill\", \"details\", \"quote\"],\n\t\t\trequest: [\"document\", \"page\", \"file\", \"text\", \"edit\", \"write\", \"new\", \"pencil\", \"pen\", \"request\"],\n\t\t\treceipt: [\"money\", \"bill\", \"details\", \"proof\", \"sale\", \"receipt\"],\n\t\t\tpuzzle: [\"puzzle\", \"pieces\", \"fit\", \"together\", \"jigsaw\", \"thinking\", \"objects\", \"challenge\"],\n\t\t\tprocess: [\"process\", \"flow\", \"arrow\", \"chevron\"],\n\t\t\tprivate: [\n\t\t\t\t\"person\",\n\t\t\t\t\"individual\",\n\t\t\t\t\"user\",\n\t\t\t\t\"customer\",\n\t\t\t\t\"human\",\n\t\t\t\t\"locked\",\n\t\t\t\t\"in use\",\n\t\t\t\t\"occupied\",\n\t\t\t\t\"restricted\",\n\t\t\t\t\"private\",\n\t\t\t\t\"forbidden\"\n\t\t\t],\n\t\t\t\"popup-window\": [\"computer\", \"dialog\", \"popup\", \"window\", \"screen\", \"popout\"],\n\t\t\t\"person-placeholder\": [\"person\", \"individual\", \"user\", \"customer\", \"human\", \"profile\", \"me\"],\n\t\t\t\"per-diem\": [\"euro\", \"time\", \"per diem\", \"calendar\"],\n\t\t\t\"paper-plane\": [\"send\", \"flight\", \"paper\", \"plane\", \"fly\", \"message\", \"note\", \"folded\"],\n\t\t\t\"paid-leave\": [\"paid leave\", \"money\", \"dollar\", \"bill\", \"approved\"],\n\t\t\t\"pdf-reader\": [\"pdf reader\", \"document\", \"display\", \"file\"],\n\t\t\t\"overview-chart\": [\"analytics\", \"chart\", \"display\", \"data\", \"overview\", \"map\", \"org\"],\n\t\t\toverlay: [\"overlay\", \"circle\", \"dot\"],\n\t\t\t\"org-chart\": [\"analytics\", \"chart\", \"display\", \"data\", \"overview\", \"map\", \"org\", \"tree\"],\n\t\t\t\"number-sign\": [\"number sign\", \"hash\", \"#'\"],\n\t\t\t\"notification-2\": [\"speech\", \"bubble\", \"comment\", \"discussion\", \"notification\"],\n\t\t\t\"my-sales-order\": [\"document\", \"page\", \"sales\", \"order\", \"money\", \"bill\", \"details\", \"quote\", \"invoice\"],\n\t\t\tmeal: [\"meal\", \"knife and fork\", \"dinner\", \"lunch\", \"eating\", \"dine\", \"expenses\"],\n\t\t\tloan: [\"money bag\", \"bank\", \"dollar\", \"tag\"],\n\t\t\t\"order-status\": [\"document\", \"page\", \"file\", \"attachment\", \"order\", \"status\"],\n\t\t\t\"customer-order-entry\": [\"sign\", \"signature\", \"order\", \"entry\", \"customer\", \"contract\", \"agreement\"],\n\t\t\tperformance: [\"gauge\", \"measure\", \"speed\", \"monitor\", \"performance\"],\n\t\t\tmenu: [\"menu\", \"list\"],\n\t\t\t\"employee-lookup\": [\"customer\", \"user\", \"person\", \"individual\", \"contacts\", \"look up\", \"find\", \"search\"],\n\t\t\teducation: [\"education\", \"course\", \"learning\", \"e book\", \"bookmark\", \"open\", \"knowledge\", \"school\", \"college\"],\n\t\t\t\"customer-briefing\": [\"customer\", \"user\", \"person\", \"individual\", \"contacts\", \"address\", \"email\", \"e-mail\", \"briefing\"],\n\t\t\t\"customer-and-contacts\": [\"customer\", \"user\", \"person\", \"individual\", \"contacts\", \"address\", \"email\", \"e-mail\"],\n\t\t\t\"my-view\": [\"my view\", \"person\", \"profile\", \"tv\", \"monitor\", \"video call\", \"individual\", \"cutomer\", \"user\"],\n\t\t\taccelerated: [\"calendar\", \"time\", \"speed\"],\n\t\t\t\"to-be-reviewed\": [\"to be reviewed\", \"indicator\", \"information\"],\n\t\t\twarning2: [\"warning\", \"to be reviewed\", \"indicator\", \"information\"],\n\t\t\t\"feeder-arrow\": [\"feeder\", \"arrow\", \"input\", \"enter text\", \"execute\", \"send\"],\n\t\t\t\"quality-issue\": [\"quality issue\", \"warning\", \"problem\", \"attention\", \"status\", \"details\"],\n\t\t\t\"workflow-tasks\": [\"calendar\", \"workflow\", \"task\", \"process\", \"steps\", \"project\"],\n\t\t\tcreate: [\"document\", \"page\", \"file\", \"attachment\", \"create\", \"new\"],\n\t\t\t\"home-share\": [\"globe\", \"world\", \"goegraphical\", \"earth\", \"planet\", \"share\", \"global distribution\", \"arrow\"],\n\t\t\tglobe: [\"globe\", \"world\", \"goegraphical\", \"earth\", \"planet\", \"international\", \"global\"],\n\t\t\ttags: [\"tag\", \"label\", \"marker\", \"indicator\", \"detail\"],\n\t\t\t\"work-history\": [\"folder\", \"person\", \"work history\"],\n\t\t\t\"x-ray\": [\"x ray\", \"procedure\", \"scan\", \"medical\"],\n\t\t\t\"wounds-doc\": [\"wounds\", \"doc\", \"injury\", \"accident\", \"hospital\", \"patient\", \"emergency\", \"health\", \"illness\", \"cross\"],\n\t\t\t\"web-cam\": [\"web cam\", \"camera\", \"live\", \"video\", \"visual\"],\n\t\t\twaiver: [\"waiver\", \"money bag\", \"percentage\"],\n\t\t\t\"vertical-bar-chart\": [\"analytics\", \"chart\", \"display\", \"data\", \"bar\", \"vertical\"],\n\t\t\t\"upstacked-chart\": [\"analytics\", \"chart\", \"display\", \"data\", \"upstacked\"],\n\t\t\t\"trip-report\": [\"analytics\", \"chart\", \"display\", \"data\", \"suitcase\", \"trip\", \"report\", \"business trip\"],\n\t\t\tmicrophone: [\"microphone\", \"mic\", \"keynote\", \"announcement\", \"speech\", \"talk\", \"audio\", \"dictate\", \"record\"],\n\t\t\t\"unpaid-leave\": [\"unpaid leave\", \"money\", \"dollar\", \"bill\", \"rejected\"],\n\t\t\ttree: [\"analytics\", \"chart\", \"display\", \"data\", \"overview\", \"map\", \"org\", \"tree\"],\n\t\t\t\"toaster-up\": [\"toaster\", \"up\", \"details\"],\n\t\t\t\"toaster-top\": [\"toaster\", \"top\", \"details\"],\n\t\t\t\"toaster-down\": [\"toaster\", \"down\", \"details\"],\n\t\t\t\"time-account\": [\"time\", \"account\", \"clock\", \"list\"],\n\t\t\ttheater: [\"theater\", \"show\", \"play\", \"masks\"],\n\t\t\ttaxi: [\"car\", \"taxi\", \"cab\", \"transportation\"],\n\t\t\t\"subway-train\": [\"subway train\", \"underground\", \"tube\"],\n\t\t\t\"study-leave\": [\"study\", \"education\", \"graduate\", \"school\", \"college\", \"student\", \"qualification\"],\n\t\t\tstethoscope: [\"stethoscope\", \"medical\", \"health\", \"doctor\", \"hospital\", \"nurse\"],\n\t\t\tstep: [\"process\", \"flow\", \"step\", \"arrow\"],\n\t\t\tsonography: [\"sonography\", \"medical\", \"ultrasound\", \"ultrasonography\"],\n\t\t\tsoccer: [\"soccer\", \"ball\", \"football\", \"world cup\"],\n\t\t\t\"physical-activity\": [\"physical activity\", \"runing\", \"run\", \"jogging\"],\n\t\t\tpharmacy: [\"medicine\", \"pills\", \"drugs\", \"pharmacy\", \"pain\", \"medication\"],\n\t\t\t\"official-service\": [\"official\", \"service\", \"government\", \"court house\", \"law\", \"legal\", \"authority\", \"official\"],\n\t\t\t\"offsite-work\": [\"offsite work\", \"external\", \"company\", \"office\", \"outside\"],\n\t\t\t\"nutrition-activity\": [\"apple\", \"nutrition\", \"activity\", \"health\", \"fruit\"],\n\t\t\tnewspaper: [\"newspaper\", \"headlines\", \"latest\", \"updates\"],\n\t\t\t\"monitor-payments\": [\n\t\t\t\t\"report\",\n\t\t\t\t\"bill\",\n\t\t\t\t\"billing\",\n\t\t\t\t\"sales\",\n\t\t\t\t\"expense\",\n\t\t\t\t\"quote\",\n\t\t\t\t\"envelope\",\n\t\t\t\t\"invoice\",\n\t\t\t\t\"dollar\",\n\t\t\t\t\"money\",\n\t\t\t\t\"monitor payments\"\n\t\t\t],\n\t\t\t\"map-2\": [\"map\", \"card\", \"navigation\", \"hunt\", \"destination\", \"location\"],\n\t\t\tmachine: [\"machine\", \"factory\", \"production\", \"supplier\", \"technical\"],\n\t\t\t\"mri-scan\": [\"mri\", \"scan\", \"medical\"],\n\t\t\t\"end-user-experience-monitoring\": [\"end user experience monitoring\", \"gauge\", \"measure\", \"speed\", \"monitor\"],\n\t\t\tunwired: [\"unwired\", \"gauge\", \"measure\", \"speed\", \"monitor\", \"performance\"],\n\t\t\t\"customer-financial-fact-sheet\": [\"document\", \"page\", \"file\", \"attachment\", \"customer\", \"financial\", \"fact sheet\", \"money\"],\n\t\t\t\"retail-store-manager\": [\"retail store manager\"],\n\t\t\t\"electronic-medical-record\": [\"electronic medical record\", \"medical\", \"cross\", \"emergency\", \"hospital\"],\n\t\t\t\"eam-work-order\": [\"enterprise asset management\", \"work\", \"order\", \"hard hat\", \"check\", \"tick mark\"],\n\t\t\t\"customer-view\": [\"customer\", \"view\", \"analytics\", \"overview\"],\n\t\t\t\"crm-service-manager\": [\"crm service manager\", \"task\", \"dropdown\", \"list\"],\n\t\t\t\"crm-sales\": [\"crm sales\", \"customer\", \"relationship\", \"management\", \"person\", \"star\", \"money\", \"list\"],\n\t\t\twidgets: [\"widgets\", \"random\", \"star\", \"dollar\", \"plane\", \"music\", \"apps\"],\n\t\t\t\"commission-check\": [\"commission check\", \"coins\", \"stack\", \"search\", \"percentage\", \"money\"],\n\t\t\t\"collections-insight\": [\n\t\t\t\t\"collections\",\n\t\t\t\t\"insight\",\n\t\t\t\t\"report\",\n\t\t\t\t\"bill\",\n\t\t\t\t\"billing\",\n\t\t\t\t\"sales\",\n\t\t\t\t\"expense\",\n\t\t\t\t\"quote\",\n\t\t\t\t\"envelope\",\n\t\t\t\t\"invoice\",\n\t\t\t\t\"dollar\",\n\t\t\t\t\"money\"\n\t\t\t],\n\t\t\t\"clinical-tast-tracker\": [\"clinical\", \"task\", \"tracker\", \"clipboard\", \"medical\", \"checklist\", \"check boxes\"],\n\t\t\t\"citizen-connect\": [\n\t\t\t\t\"citizen connect\",\n\t\t\t\t\"people\",\n\t\t\t\t\"colleagues\",\n\t\t\t\t\"communication\",\n\t\t\t\t\"collaborate\",\n\t\t\t\t\"teamwork\",\n\t\t\t\t\"peer to peer\",\n\t\t\t\t\"design thinking\",\n\t\t\t\t\"work\",\n\t\t\t\t\"together\",\n\t\t\t\t\"project\"\n\t\t\t],\n\t\t\t\"cart-approval\": [\"cart\", \"trolley\", \"basket\", \"shopping\", \"item\", \"approve\", \"approval\", \"accept\", \"check\"],\n\t\t\t\"capital-projects\": [\"capital projects\", \"building\", \"dollar\", \"money\"],\n\t\t\t\"bo-strategy-management\": [\"bo strategy management\", \"business\", \"object\", \"circle\"],\n\t\t\t\"business-objects-mobile\": [\"business objects mobile\", \"analytics\", \"chart\", \"display\", \"data\"],\n\t\t\t\"business-objects-explorer\": [\"business objects explorer\", \"compass\"],\n\t\t\t\"business-objects-experience\": [\"analytics\", \"chart\", \"display\", \"data\", \"business objects experience\"],\n\t\t\t\"bbyd-dashboard\": [\"business by design\", \"dashboard\"],\n\t\t\t\"bbyd-active-sales\": [\"business by design\", \"active\", \"sales\", \"search\", \"approvals\", \"check\", \"book\"],\n\t\t\t\"business-by-design\": [\"business by design\"],\n\t\t\t\"business-one\": [\"business one\"],\n\t\t\t\"sap-box\": [\"container\", \"box\", \"work load\", \"collection\", \"documents\", \"files\", \"filing\", \"directory\", \"storage\"],\n\t\t\t\"manager-insight\": [\"manager\", \"insight\", \"company\", \"overview\", \"analyse\", \"inform\", \"board\", \"report\"],\n\t\t\t\"accounting-document-verification\": [\"document\", \"approve\", \"verify\", \"accounting\", \"money\", \"coins\"],\n\t\t\t\"hr-approval\": [\"person\", \"accept\", \"approval\", \"employee\", \"hr\", \"human resources\"],\n\t\t\t\"idea-wall\": [\n\t\t\t\t\"idea\",\n\t\t\t\t\"wall\",\n\t\t\t\t\"collaborate\",\n\t\t\t\t\"teamwork\",\n\t\t\t\t\"peer to peer\",\n\t\t\t\t\"design thinking\",\n\t\t\t\t\"work\",\n\t\t\t\t\"together\",\n\t\t\t\t\"project\",\n\t\t\t\t\"improve\"\n\t\t\t],\n\t\t\t\"cart-5\": [\"cart\", \"trolley\", \"basket\", \"shopping\", \"item\", \"sap\"],\n\t\t\t\"cart-4\": [\n\t\t\t\t\"cart\",\n\t\t\t\t\"trolley\",\n\t\t\t\t\"basket\",\n\t\t\t\t\"shopping\",\n\t\t\t\t\"item\",\n\t\t\t\t\"add\",\n\t\t\t\t\"put in\",\n\t\t\t\t\"insert\",\n\t\t\t\t\"add\",\n\t\t\t\t\"plus\",\n\t\t\t\t\"additional\",\n\t\t\t\t\"another\",\n\t\t\t\t\"more\"\n\t\t\t],\n\t\t\twallet: [\"money\", \"wallet\", \"purse\", \"coins\", \"bank\", \"allowance\", \"worth\", \"wealth\", \"cash\", \"notes\"],\n\t\t\t\"vehicle-repair\": [\"car\", \"crash\", \"accident\", \"damage\", \"repair\", \"fix\", \"garage\", \"vehicle\"],\n\t\t\tupload: [\"upload\", \"arrow\"],\n\t\t\tunlocked: [\"unlocked\", \"open padlock\", \"open\", \"status\", \"available\", \"access\", \"unrestricted\"],\n\t\t\tumbrella: [\"rain\", \"umbrella\", \"brolly\", \"shelter\", \"keep dry\"],\n\t\t\t\"travel-request\": [\"bubble\", \"question\", \"exclamation\", \"notifications\", \"status\", \"help\"],\n\t\t\t\"travel-expense-report\": [\"report\", \"bill\", \"billing\", \"sales\", \"travel\", \"expense\", \"quote\", \"envelope\", \"invoice\"],\n\t\t\t\"travel-itinerary\": [\"travel\", \"airplane\", \"plane\", \"car\", \"itinerary\", \"schedule\", \"plan\", \"flight\", \"drive\"],\n\t\t\t\"time-overtime\": [\"time\", \"overtime\", \"clock\", \"money\", \"hours\"],\n\t\t\t\"thing-type\": [\"popup\", \"speech\", \"bubble\", \"thing-type\"],\n\t\t\t\"technical-object\": [\"technical\", \"object\", \"wrench\", \"tool\", \"fine tune\", \"tweak\", \"fix\", \"work\", \"component\"],\n\t\t\ttag: [\"tag\", \"label\", \"marker\", \"indicator\", \"detail\"],\n\t\t\tsyringe: [\"medical\", \"emergency\", \"hospital\", \"syringe\", \"needle\", \"shot\", \"injection\"],\n\t\t\tsyntax: [\"source\", \"code\", \"develop\", \"write\", \"syntax\"],\n\t\t\tsuitcase: [\"travel\", \"suitcase\", \"business trip\", \"personal\", \"possessions\", \"articles\", \"items\", \"collection\"],\n\t\t\tsimulate: [\n\t\t\t\t\"calculator\",\n\t\t\t\t\"calculate\",\n\t\t\t\t\"count\",\n\t\t\t\t\"numbers\",\n\t\t\t\t\"counting\",\n\t\t\t\t\"simulate\",\n\t\t\t\t\"divide\",\n\t\t\t\t\"calculation\",\n\t\t\t\t\"tot up\",\n\t\t\t\t\"digits\",\n\t\t\t\t\"algorithm\",\n\t\t\t\t\"mathematician\",\n\t\t\t\t\"mathematics\"\n\t\t\t],\n\t\t\tshield: [\"authority\", \"legitimate\", \"official\", \"important\", \"protection\", \"defense\", \"security\"],\n\t\t\t\"share-2\": [\"share\", \"distribute\", \"share with connections\"],\n\t\t\t\"sales-quote\": [\"document\", \"page\", \"file\", \"text\", \"sales\", \"money\", \"bill\", \"details\", \"quote\"],\n\t\t\trepost: [\"post again\", \"circulate\"],\n\t\t\tprovision: [\n\t\t\t\t\"analytics\",\n\t\t\t\t\"chart\",\n\t\t\t\t\"display\",\n\t\t\t\t\"data\",\n\t\t\t\t\"table\",\n\t\t\t\t\"columns\",\n\t\t\t\t\"rows\",\n\t\t\t\t\"grid\",\n\t\t\t\t\"waffle\",\n\t\t\t\t\"settings\",\n\t\t\t\t\"modify\",\n\t\t\t\t\"customize\"\n\t\t\t],\n\t\t\tprojector: [\"beamer\", \"projector\", \"show\", \"movie\", \"presentation\", \"keynote\"],\n\t\t\t\"add-product\": [\"product\", \"box\", \"package\", \"unit\", \"inventory\", \"add\", \"plus\", \"additional\", \"another\", \"more\"],\n\t\t\t\"pipeline-analysis\": [\"analytics\", \"chart\", \"display\", \"data\"],\n\t\t\t\"add-photo\": [\"camera\", \"photograph\", \"device\", \"image\", \"snap shot\", \"add\", \"plus\", \"additional\", \"another\", \"more\"],\n\t\t\tpalette: [\"palette\", \"paint\", \"color\", \"spot\", \"mixing\", \"artist\", \"theme\", \"design\"],\n\t\t\tnurse: [\"nurse\", \"medical\", \"cross\", \"emergency\", \"hospital\"],\n\t\t\t\"sales-notification\": [\"bubble\", \"sales\", \"notification\"],\n\t\t\tmileage: [\"mileage\", \"tank\", \"petrol\", \"fuel\", \"fill up\", \"gas\", \"station\"],\n\t\t\t\"meeting-room\": [\"meeting\", \"room\", \"collaborate\", \"colleagues\", \"teamwork\", \"peer to peer\"],\n\t\t\t\"media-forward\": [\"forward\", \"media\", \"arrow\", \"end\", \"finish\"],\n\t\t\t\"media-play\": [\"play\", \"media\", \"arrow\"],\n\t\t\t\"media-pause\": [\"pause\", \"media\", \"arrow\"],\n\t\t\t\"media-reverse\": [\"reverse\", \"media\", \"arrow\"],\n\t\t\t\"media-rewind\": [\"rewind\", \"media\", \"arrow\", \"start\", \"back\"],\n\t\t\t\"measurement-document\": [\"measure\", \"weight\", \"scale\", \"precision\", \"technical\", \"calibrate\", \"calibration\", \"calculation\"],\n\t\t\t\"measuring-point\": [\"measure\", \"point\", \"scale\", \"precision\", \"arrow\"],\n\t\t\tmeasure: [\"measure\", \"weight\", \"scale\", \"precision\", \"technical\", \"calibrate\", \"calibration\", \"calculation\"],\n\t\t\t\"map-3\": [\"map\", \"card\", \"x marks the spot\", \"treasure\", \"navigation\", \"hunt\", \"find\", \"destination\", \"location\"],\n\t\t\tlocked: [\"locked\", \"padlock\", \"private\", \"status\", \"in use\", \"forbidden\", \"restricted\", \"safe\"],\n\t\t\tletter: [\"letter\", \"mail\", \"post\", \"postal\", \"envelope\", \"address\", \"contact\", \"correspondence\"],\n\t\t\t\"journey-arrive\": [\"journey\", \"arrive\", \"arrow\", \"placement\"],\n\t\t\t\"journey-change\": [\"journey\", \"change\", \"direction\", \"arrow\", \"placement\"],\n\t\t\t\"journey-depart\": [\"journey\", \"depart\", \"arrow\", \"move\", \"placement\"],\n\t\t\t\"it-system\": [\"server\", \"it\", \"machine\", \"computer\", \"technology\", \"device\", \"system\"],\n\t\t\t\"it-instance\": [\"server\", \"it\", \"machine\", \"computer\", \"technology\", \"device\", \"instance\"],\n\t\t\t\"it-host\": [\"server\", \"it\", \"machine\", \"computer\", \"technology\", \"device\", \"host\"],\n\t\t\t\"iphone-2\": [\"iphone\", \"phone\", \"smart phone\", \"landscape\", \"tablet\", \"mobile\", \"responsive\", \"cozy\"],\n\t\t\t\"ipad-2\": [\"ipad\", \"landscape\", \"tablet\", \"mobile\", \"responsive\", \"cozy\"],\n\t\t\tinventory: [\"inventory\", \"truck\", \"wrench\", \"tools\"],\n\t\t\t\"insurance-house\": [\"document\", \"page\", \"file\", \"attachment\", \"insurance\", \"house\"],\n\t\t\t\"insurance-life\": [\"document\", \"page\", \"file\", \"attachment\", \"insurance\", \"life\"],\n\t\t\t\"insurance-car\": [\"document\", \"page\", \"file\", \"attachment\", \"insurance\", \"car\"],\n\t\t\tinitiative: [\"initiative\", \"initiate\", \"begin\", \"enter\", \"right\", \"arrow\", \"circle\"],\n\t\t\tincident: [\"incident\", \"question\", \"message\"],\n\t\t\t\"group-2\": [\"group\", \"data\", \"aggregate\", \"list\", \"table\"],\n\t\t\tgoal: [\"goal\", \"target\", \"result\", \"objective\", \"aim\"],\n\t\t\t\"functional-location\": [\"arrow\", \"locate\", \"me\", \"map\", \"location\", \"pointer\", \"navigation\", \"functional\"],\n\t\t\t\"full-screen\": [\"full\", \"screen\", \"arrow\"],\n\t\t\tform: [\"form\", \"details\", \"text\"],\n\t\t\t\"fob-watch\": [\"fob watch\", \"time\", \"stop watch\", \"timer\", \"countdown\"],\n\t\t\t\"blank-tag\": [\"tag\", \"label\", \"marker\", \"indicator\", \"blank\"],\n\t\t\t\"family-protection\": [\"family\", \"protection\", \"people\", \"house\", \"roof\", \"family\"],\n\t\t\tfolder: [\"folder\", \"details\"],\n\t\t\t\"fax-machine\": [\"fax\", \"machine\", \"communicate\"],\n\t\t\texample: [\"example\", \"dots\", \"cicles\", \"individual\", \"odd\"],\n\t\t\teraser: [\"pencil\", \"pen\", \"erase\", \"remove\", \"undo\", \"text\"],\n\t\t\t\"employee-rejections\": [\"person\", \"x\", \"rejections\", \"employee\", \"hr\", \"human resources\"],\n\t\t\t\"drop-down-list\": [\"dropdown\", \"list\", \"arrow\", \"megamenu\"],\n\t\t\t\"draw-rectangle\": [\"draw\", \"rectangle\", \"resize\", \"shape\", \"create\"],\n\t\t\tdocument: [\"document\", \"page\", \"file\", \"attachment\", \"blank\", \"new\"],\n\t\t\tdoctor: [\"doctor\", \"medical\", \"cross\", \"emergency\", \"hospital\"],\n\t\t\t\"discussion-2\": [\"speech\", \"bubble\", \"comment\", \"discussion\", \"text\"],\n\t\t\tdiscussion: [\"speech\", \"bubble\", \"comment\", \"discussion\", \"blank\"],\n\t\t\tdimension: [\"dimension\", \"layers\", \"stacked\"],\n\t\t\t\"customer-and-supplier\": [\n\t\t\t\t\"customer and supplier\",\n\t\t\t\t\"package\",\n\t\t\t\t\"product\",\n\t\t\t\t\"satisfaction\",\n\t\t\t\t\"returns\",\n\t\t\t\t\"warehouse\",\n\t\t\t\t\"person\",\n\t\t\t\t\"seller\",\n\t\t\t\t\"buyer\",\n\t\t\t\t\"inventory\"\n\t\t\t],\n\t\t\tcrop: [\"crop\", \"clip\", \"snip\", \"cut\", \"picture\", \"image\", \"shape\", \"obect\"],\n\t\t\t\"add-contact\": [\n\t\t\t\t\"person\",\n\t\t\t\t\"contact\",\n\t\t\t\t\"business card\",\n\t\t\t\t\"customer\",\n\t\t\t\t\"details\",\n\t\t\t\t\"address\",\n\t\t\t\t\"information\",\n\t\t\t\t\"add\",\n\t\t\t\t\"plus\",\n\t\t\t\t\"additional\",\n\t\t\t\t\"another\",\n\t\t\t\t\"more\"\n\t\t\t],\n\t\t\t\"compare-2\": [\"compare\", \"law\", \"justice\", \"scale\", \"measure\", \"weight\", \"balance\", \"compare\", \"comparison\"],\n\t\t\t\"color-fill\": [\"square\", \"filled\", \"color\"],\n\t\t\tcollision: [\"car\", \"crash\", \"accident\", \"damage\"],\n\t\t\tcurriculum: [\"folder\", \"curriculum\", \"learning\", \"documents\", \"content\"],\n\t\t\t\"chart-axis\": [\"analytics\", \"chart\", \"display\", \"data\", \"chart axis\", \"arrows\", \"directions\"],\n\t\t\t\"full-stacked-chart\": [\"analytics\", \"chart\", \"display\", \"data\", \"full stacked chart\"],\n\t\t\t\"full-stacked-column-chart\": [\"analytics\", \"chart\", \"display\", \"data\", \"full stacked column chart\"],\n\t\t\t\"vertical-bar-chart-2\": [\"analytics\", \"chart\", \"display\", \"data\", \"vertical bar chart\"],\n\t\t\t\"horizontal-bar-chart-2\": [\"analytics\", \"chart\", \"display\", \"data\", \"horizontal bar chart\"],\n\t\t\t\"horizontal-stacked-chart\": [\"analytics\", \"chart\", \"display\", \"data\", \"horizontal stacked chart\"],\n\t\t\t\"vertical-stacked-chart\": [\"analytics\", \"chart\", \"display\", \"data\", \"vertical stacked chart\"],\n\t\t\t\"choropleth-chart\": [\"analytics\", \"chart\", \"display\", \"data\", \"choropleth chart\", \"geographic\", \"map\", \"world\"],\n\t\t\t\"geographic-bubble-chart\": [\"analytics\", \"chart\", \"display\", \"data\", \"geographic\", \"bubble\", \"map\", \"world\"],\n\t\t\t\"multiple-radar-chart\": [\"analytics\", \"chart\", \"display\", \"data\", \"multiple radar chart\"],\n\t\t\t\"radar-chart\": [\"analytics\", \"chart\", \"display\", \"data\", \"radar-chart\"],\n\t\t\t\"crossed-line-chart\": [\"analytics\", \"chart\", \"display\", \"data\", \"crossed line chart\"],\n\t\t\t\"multiple-line-chart\": [\"analytics\", \"chart\", \"display\", \"data\", \"multiple line chart\"],\n\t\t\t\"multiple-bar-chart\": [\"analytics\", \"chart\", \"display\", \"data\", \"multiple bar chart\"],\n\t\t\t\"line-chart\": [\"analytics\", \"chart\", \"display\", \"data\", \"line chart\"],\n\t\t\t\"line-chart-dual-axis\": [\"analytics\", \"chart\", \"display\", \"data\", \"line chart\", \"dual axis\"],\n\t\t\t\"bubble-chart\": [\"analytics\", \"chart\", \"display\", \"data\", \"bubble chart\"],\n\t\t\t\"scatter-chart\": [\"analytics\", \"chart\", \"display\", \"data\", \"scatter chart\"],\n\t\t\t\"multiple-pie-chart\": [\"analytics\", \"chart\", \"display\", \"data\", \"multiple\", \"pie chart\"],\n\t\t\t\"column-chart-dual-axis\": [\"analytics\", \"chart\", \"display\", \"data\", \"column\", \"dual axis\"],\n\t\t\t\"tag-cloud-chart\": [\"analytics\", \"chart\", \"display\", \"data\", \"speech\", \"tag\", \"cloud\"],\n\t\t\t\"area-chart\": [\"analytics\", \"chart\", \"display\", \"data\", \"area\"],\n\t\t\tcause: [\"get\", \"reason\", \"incoming\", \"arrow\", \"relocate\", \"take\"],\n\t\t\t\"cart-3\": [\"cart\", \"trolley\", \"basket\", \"shopping\", \"item\", \"add\", \"put in\", \"insert\", \"down\", \"arrow\"],\n\t\t\t\"cart-2\": [\"cart\", \"trolley\", \"basket\", \"shopping\", \"empty\", \"remove\", \"take out\", \"clear\", \"up\", \"arrow\"],\n\t\t\t\"bus-public-transport\": [\"bus\", \"public\", \"traffic\", \"vehicle\"],\n\t\t\tburglary: [\"money\", \"thief\", \"loss\", \"theft\", \"safe\", \"unsafe\", \"burglary\", \"robbery\", \"bank\"],\n\t\t\tbuilding: [\"building\", \"company\", \"firm\", \"factory\", \"office\"],\n\t\t\tborder: [\"border\", \"square\", \"outline\"],\n\t\t\tbookmark: [\"bookmark\", \"later\", \"marker\", \"save\"],\n\t\t\tbadge: [\n\t\t\t\t\"badge\",\n\t\t\t\t\"insignia\",\n\t\t\t\t\"star\",\n\t\t\t\t\"service\",\n\t\t\t\t\"identity\",\n\t\t\t\t\"authority\",\n\t\t\t\t\"legitimate\",\n\t\t\t\t\"coat of arms\",\n\t\t\t\t\"membership\",\n\t\t\t\t\"award\",\n\t\t\t\t\"rank\"\n\t\t\t],\n\t\t\t\"attachment-audio\": [\"document\", \"page\", \"file\", \"attachment\", \"audio\", \"sound\"],\n\t\t\t\"attachment-video\": [\"document\", \"page\", \"file\", \"attachment\", \"video\", \"film\", \"movie\"],\n\t\t\t\"attachment-html\": [\"document\", \"page\", \"file\", \"attachment\", \"html\", \"web\", \"website\"],\n\t\t\t\"attachment-photo\": [\"document\", \"page\", \"file\", \"attachment\", \"photo\", \"image\"],\n\t\t\t\"attachment-e-pub\": [\"document\", \"page\", \"file\", \"e pub\", \"electronic publication\", \"e book\"],\n\t\t\t\"attachment-zip-file\": [\"document\", \"page\", \"file\", \"zip\", \"compressed\"],\n\t\t\t\"attachment-text-file\": [\"document\", \"page\", \"file\", \"text\"],\n\t\t\t\"add-equipment\": [\"wrench\", \"control\", \"configuration\", \"settings\", \"tool\", \"add\", \"plus\", \"additional\", \"another\", \"more\"],\n\t\t\t\"add-activity\": [\"activity\", \"activities\", \"tasks\", \"to do\", \"list\", \"add\", \"plus\", \"additional\", \"another\", \"more\"],\n\t\t\t\"activity-individual\": [\"activity\", \"activities\", \"tasks\", \"to do\", \"list\", \"individual\", \"person\"],\n\t\t\t\"activity-2\": [\"activity\", \"activities\", \"tasks\", \"to do\", \"list\", \"check list\", \"correct\", \"success\", \"tick mark\"],\n\t\t\t\"add-activity-2\": [\n\t\t\t\t\"activity\",\n\t\t\t\t\"activities\",\n\t\t\t\t\"tasks\",\n\t\t\t\t\"to do\",\n\t\t\t\t\"list\",\n\t\t\t\t\"check list\",\n\t\t\t\t\"correct\",\n\t\t\t\t\"success\",\n\t\t\t\t\"tick mark\",\n\t\t\t\t\"add\",\n\t\t\t\t\"plus\",\n\t\t\t\t\"additional\",\n\t\t\t\t\"another\",\n\t\t\t\t\"more\"\n\t\t\t],\n\t\t\t\"activity-items\": [\"activity\", \"activities\", \"tasks\", \"to do\", \"list\", \"items\"],\n\t\t\t\"activity-assigned-to-goal\": [\"activity\", \"activities\", \"tasks\", \"to do\", \"assigned to goal\", \"target\", \"objective\"],\n\t\t\t\"status-positive\": [\"positive\", \"completed\", \"on track\", \"led\", \"traffic lights\", \"street sign\", \"lifecycle\"],\n\t\t\t\"status-negative\": [\"negative\", \"attention\", \"led\", \"traffic lights\", \"street sign\", \"lifecycle\"],\n\t\t\t\"status-inactive\": [\"inactive\", \"neutral\", \"information\", \"led\", \"traffic lights\", \"street sign\", \"lifecycle\"],\n\t\t\t\"status-critical\": [\"critical\", \"in process\", \"warning\", \"led\", \"traffic lights\", \"street sign\", \"lifecycle\"],\n\t\t\t\"blank-tag-2\": [\"tag\", \"label\", \"marker\", \"indicator\", \"blank\"],\n\t\t\t\"cart-full\": [\"cart\", \"trolley\", \"basket\", \"shopping\", \"full\", \"capacity\", \"load\"],\n\t\t\t\"locate-me\": [\"arrow\", \"locate\", \"me\", \"map\", \"location\", \"pointer\", \"navigation\"],\n\t\t\tpaging: [\"paging\", \"navigation\"],\n\t\t\t\"company-view\": [\"view\", \"group\", \"company\", \"personnel\", \"firm\", \"overview\"],\n\t\t\t\"document-text\": [\"document\", \"page\", \"file\", \"text\"],\n\t\t\texplorer: [\"explorer\", \"compass\"],\n\t\t\t\"personnel-view\": [\"view\", \"person\", \"profile\", \"personnel\", \"overview\"],\n\t\t\t\"sorting-ranking\": [\"sort\", \"ranking\", \"ascending\", \"descending\", \"arrow\"],\n\t\t\t\"drill-down\": [\"drill down\", \"arrow\", \"detail\", \"hierarchy\", \"level\", \"megamenu\"],\n\t\t\t\"drill-up\": [\"drill up\", \"arrow\", \"detail\", \"hierarchy\", \"level\"],\n\t\t\t\"vds-file\": [\"document\", \"page\", \"file\", \"text\", \"attachment\", \"Visual Design Stream\", \"vds\"],\n\t\t\t\"sap-logo-shape\": [\"sap\", \"logo\", \"shape\"],\n\t\t\t\"folder-full\": [\"folder\", \"full\"],\n\t\t\t\"system-exit\": [\"system\", \"exit\"],\n\t\t\t\"system-exit-2\": [\"system\", \"exit\"],\n\t\t\t\"close-command-field\": [\"close command field\", \"navigation\", \"left\", \"page left\", \"previous\", \"arrow\"],\n\t\t\t\"open-command-field\": [\"open command field\", \"navigation\", \"right\", \"page right\", \"next\", \"arrow\"],\n\t\t\t\"sys-enter-2\": [\"system\", \"enter\", \"correct\", \"tick\", \"affirmative\"],\n\t\t\t\"sys-enter\": [\"system\", \"enter\", \"correct\", \"tick\", \"affirmative\"],\n\t\t\t\"sys-help-2\": [\"system\", \"help\", \"circle\", \"question\"],\n\t\t\t\"sys-help\": [\"system\", \"help\", \"circle\", \"question\"],\n\t\t\t\"sys-back\": [\"system\", \"back\", \"arrows\"],\n\t\t\t\"sys-back-2\": [\"system\", \"back\", \"arrows\"],\n\t\t\t\"sys-cancel\": [\"clear\", \"remove\", \"cancel\", \"x\"],\n\t\t\t\"sys-cancel-2\": [\"clear\", \"remove\", \"cancel\", \"x\"],\n\t\t\t\"open-folder\": [\"folder\", \"open\"],\n\t\t\t\"sys-find-next\": [\"find\", \"binoculars\", \"look up\", \"add\", \"plus\", \"additional\", \"another\", \"more\"],\n\t\t\t\"sys-find\": [\"find\", \"binoculars\", \"look up\"],\n\t\t\t\"sys-monitor\": [\"screen\", \"monitor\", \"tv\"],\n\t\t\t\"sys-prev-page\": [\"system\", \"previous\", \"page\", \"up\", \"arrows\"],\n\t\t\t\"sys-first-page\": [\"system\", \"first\", \"page\", \"up\", \"top\", \"arrows\"],\n\t\t\t\"sys-next-page\": [\"system\", \"next\", \"page\", \"down\", \"arrows\"],\n\t\t\t\"sys-last-page\": [\"system\", \"last\", \"page\", \"down\", \"bottom\", \"arrows\"],\n\t\t\t\"generate-shortcut\": [\"generate\", \"shortcut\", \"arrow\"],\n\t\t\t\"create-session\": [\"create\", \"session\"],\n\t\t\t\"display-more\": [\"display\", \"details\", \"more\", \"arrow\"],\n\t\t\t\"enter-more\": [\"enter\", \"details\", \"more\", \"arrow\"],\n\t\t\t\"zoom-in\": [\"zoom\", \"in\", \"magnify\", \"glass\", \"plus\", \"enlarge\", \"bigger\"],\n\t\t\t\"zoom-out\": [\"zoom\", \"out\", \"glass\", \"minus\", \"reduce\", \"smaller\"],\n\t\t\theader: [\"maximize\", \"header\", \"screen\"],\n\t\t\t\"detail-view\": [\"search\", \"form\", \"look up\", \"find\", \"view\", \"detial\"],\n\t\t\tcollapse: [\"collapse all\", \"minus\", \"ungroup all\", \"arrow\"],\n\t\t\texpand: [\"expand all\", \"plus\", \"group all\", \"arrow\"],\n\t\t\tpositive: [\"plus\", \"positive\"],\n\t\t\tnegative: [\"minus\", \"remove\", \"subtract\", \"negative\"],\n\t\t\tdisplay: [\"display\", \"details\", \"inspect\", \"spectacles\", \"glasses\"],\n\t\t\tmenu2: [\"menu\", \"hamburger menu\", \"main menu\"],\n\t\t\tredo: [\"redo\", \"arrow\", \"previous state\", \"history\", \"forwards\"],\n\t\t\tundo: [\"undo\", \"arrow\", \"previous state\", \"history\", \"backwards\"],\n\t\t\t\"navigation-up-arrow\": [\"navigation\", \"up\", \"arrow\"],\n\t\t\t\"navigation-down-arrow\": [\"navigation\", \"down\", \"collapse\", \"expanded tree\", \"tree arrow\", \"arrow\", \"megamenu\"],\n\t\t\tdown: [\"down\", \"triangle\", \"megamenu\"],\n\t\t\tup: [\"up\", \"triangle\"],\n\t\t\tshelf: [\"shelf\", \"storage\", \"drawers\", \"compartments\"],\n\t\t\tbackground: [\"image\", \"placeholder\", \"picture\", \"hills\", \"mountains\", \"sun\"],\n\t\t\tresize: [\"resize\", \"bigger\", \"smaller\"],\n\t\t\tmove: [\"move\", \"relocate\", \"left\", \"right\", \"up\", \"down\"],\n\t\t\tshow: [\"show\", \"eye\"],\n\t\t\thide: [\"hide\", \"eye\"],\n\t\t\t\"nav-back\": [\"navigation\", \"back\", \"previous\", \"arrow\"],\n\t\t\terror: [\"message\", \"error\", \"negative\", \"notifications\", \"status\", \"solid\"],\n\t\t\t\"slim-arrow-right\": [\"slim\", \"thin\", \"skinny\", \"arrow\", \"right\", \"scroll right\"],\n\t\t\t\"slim-arrow-left\": [\"slim\", \"thin\", \"skinny\", \"arrow\", \"left\", \"scroll left\"],\n\t\t\t\"slim-arrow-down\": [\"slim\", \"thin\", \"skinny\", \"arrow\", \"down\", \"select navigation\", \"combobox\", \"multi combobox\"],\n\t\t\t\"slim-arrow-up\": [\"slim\", \"thin\", \"skinny\", \"arrow\", \"up\"],\n\t\t\tforward: [\"forward\", \"arrow\"],\n\t\t\toverflow: [\"overflow\", \"dots\", \"ellipsis\", \"more\"],\n\t\t\t\"value-help\": [\"value\", \"help\", \"popup\", \"assistance\", \"multi input\"],\n\t\t\t\"multi-select\": [\"multi select\", \"list\", \"table\", \"data\"],\n\t\t\t\"exit-full-screen\": [\"exit\", \"fullscreen\", \"arrow\"],\n\t\t\t\"sys-add\": [\"add\", \"plus\", \"additional\", \"another\", \"more\", \"add row\", \"add object\", \"add item\"],\n\t\t\t\"sys-minus\": [\"minus\", \"remove\", \"subtract\"],\n\t\t\tdropdown: [\"dropdown\", \"menu\", \"menu button\", \"arrow\", \"megamenu\"],\n\t\t\t\"expand-group\": [\"expand\", \"group\", \"move to bottom\", \"arrow\"],\n\t\t\t\"vertical-grip\": [\"vertical\", \"grip\", \"move left\", \"move right\", \"splitter\"],\n\t\t\t\"horizontal-grip\": [\"horizontal\", \"grip\", \"move up\", \"move down\", \"splitter\"],\n\t\t\t\"sort-descending\": [\"sort\", \"descending\", \"down\", \"table\", \"aggregate\"],\n\t\t\t\"sort-ascending\": [\"sort\", \"ascending\", \"up\", \"table\", \"aggregate\"],\n\t\t\t\"arrow-down\": [\"arrow\", \"circle\", \"down\", \"variant\", \"management\", \"selection\", \"options\", \"megamenu\"],\n\t\t\tlegend: [\"legend\", \"description\", \"colors\", \"charts\", \"table\", \"planning\", \"calendar\"],\n\t\t\t\"collapse-group\": [\"collapse\", \"group\", \"move to top\", \"arrow\"],\n\t\t\t\"message-warning\": [\"message\", \"warning\", \"critical\", \"notifications\", \"status\"],\n\t\t\t\"message-information\": [\"message\", \"information\", \"neutral\", \"notifications\", \"status\"],\n\t\t\t\"message-success\": [\"message\", \"success\", \"positive\", \"notifications\", \"status\"],\n\t\t\trestart: [\"restart\", \"process\", \"play\"],\n\t\t\tstop: [\"stop\", \"process\", \"play\"],\n\t\t\t\"add-process\": [\"process\", \"add\", \"plus\", \"additional\", \"another\", \"more\"],\n\t\t\t\"cancel-maintenance\": [\"wrench\", \"control\", \"configuration\", \"settings\", \"tool\", \"cancel maintenance\"],\n\t\t\tactivate: [\"activate\", \"ignite\", \"initiate\", \"magic\", \"wand\", \"spark\"],\n\t\t\t\"resize-horizontal\": [\n\t\t\t\t\"resize\",\n\t\t\t\t\"horizontal\",\n\t\t\t\t\"column\",\n\t\t\t\t\"screen\",\n\t\t\t\t\"bigger\",\n\t\t\t\t\"smaller\",\n\t\t\t\t\"enlarge\",\n\t\t\t\t\"reduce\",\n\t\t\t\t\"arrows\",\n\t\t\t\t\"lines\",\n\t\t\t\t\"side to side\"\n\t\t\t],\n\t\t\t\"resize-vertical\": [\n\t\t\t\t\"resize\",\n\t\t\t\t\"vertical\",\n\t\t\t\t\"row\",\n\t\t\t\t\"screen\",\n\t\t\t\t\"bigger\",\n\t\t\t\t\"smaller\",\n\t\t\t\t\"enlarge\",\n\t\t\t\t\"reduce\",\n\t\t\t\t\"arrows\",\n\t\t\t\t\"lines\",\n\t\t\t\t\"up and down\"\n\t\t\t],\n\t\t\tconnected: [\"plug\", \"connected\", \"on\", \"state\"],\n\t\t\tdisconnected: [\"plug\", \"disconnected\", \"unplug\", \"state\"],\n\t\t\t\"edit-outside\": [\"pencil\", \"pen\", \"write\", \"edit\", \"modify\", \"text\", \"outside\", \"arrow\"],\n\t\t\tkey: [\"key\", \"data\", \"lock\", \"important\"],\n\t\t\tminimize: [\"minimize\", \"screen\", \"window\", \"reduce\", \"hide\"],\n\t\t\t\"back-to-top\": [\"back to top\", \"jump\", \"beginning\", \"arrow\", \"up\"],\n\t\t\t\"hello-world\": [\"bubble\", \"ui5\", \"hello\", \"world\"],\n\t\t\toutbox: [\"outbox\", \"out\", \"arrow\"],\n\t\t\t\"donut-chart\": [\"analytics\", \"chart\", \"display\", \"data\"],\n\t\t\t\"heatmap-chart\": [\"analytics\", \"chart\", \"display\", \"data\"],\n\t\t\t\"horizontal-bullet-chart\": [\"analytics\", \"chart\", \"display\", \"data\"],\n\t\t\t\"vertical-bullet-chart\": [\"analytics\", \"chart\", \"display\", \"data\"],\n\t\t\tcall: [\"call\", \"communicate\", \"phone\", \"telephone\"],\n\t\t\t\"download-from-cloud\": [\"download\", \"cloud\", \"arrow\"],\n\t\t\t\"upload-to-cloud\": [\"save\", \"upload\", \"cloud\", \"arrow\"],\n\t\t\tjam: [\"sap\", \"logo\", \"jam\", \"social\", \"collaborate\", \"share\"],\n\t\t\t\"sap-ui5\": [\"ui5\", \"framework\", \"development\", \"sap\"],\n\t\t\t\"message-popup\": [\"message\", \"popup\", \"speech\", \"bubble\", \"exclamation\", \"notifications\", \"status\"],\n\t\t\tcloud: [\"cloud\", \"platform\", \"storage\", \"big data\", \"sap\"],\n\t\t\t\"horizontal-waterfall-chart\": [\"analytics\", \"chart\", \"display\", \"data\"],\n\t\t\t\"vertical-waterfall-chart\": [\"analytics\", \"chart\", \"display\", \"data\"],\n\t\t\t\"broken-link\": [\"unlink\", \"broken\", \"chain\", \"hyperlink\"],\n\t\t\theadset: [\"headset\", \"call\", \"help\", \"support\", \"talk\", \"mic\", \"listen\"],\n\t\t\t\"thumb-up\": [\"thumbs\", \"up\", \"like\", \"appreciate\", \"positive\"],\n\t\t\t\"thumb-down\": [\"thumbs\", \"down\", \"dislike\", \"negative\"],\n\t\t\t\"multiselect-all\": [\"multi select\", \"list\", \"table\", \"data\", \"all\", \"selected\"],\n\t\t\t\"multiselect-none\": [\"multi select\", \"list\", \"table\", \"data\", \"none\", \"deselected\"],\n\t\t\tscissors: [\"cut\", \"scissors\", \"document\", \"clipboards\", \"file\", \"text\"],\n\t\t\tsound: [\"sound\", \"audio\", \"audio\", \"speaker\"],\n\t\t\t\"sound-loud\": [\"sound\", \"audio\", \"audio\", \"speaker\", \"loud\", \"louder\"],\n\t\t\t\"sound-off\": [\"sound\", \"audio\", \"off\", \"mute\", \"quiet\", \"speaker\", \"cancel\"],\n\t\t\t\"date-time\": [\"date\", \"time\"],\n\t\t\t\"user-settings\": [\n\t\t\t\t\"settings\",\n\t\t\t\t\"cogwheel\",\n\t\t\t\t\"configuration\",\n\t\t\t\t\"settings\",\n\t\t\t\t\"tools\",\n\t\t\t\t\"modify\",\n\t\t\t\t\"customize\",\n\t\t\t\t\"person\",\n\t\t\t\t\"user\",\n\t\t\t\t\"runtime authoring\"\n\t\t\t],\n\t\t\t\"key-user-settings\": [\n\t\t\t\t\"settings\",\n\t\t\t\t\"cogwheel\",\n\t\t\t\t\"configuration\",\n\t\t\t\t\"settings\",\n\t\t\t\t\"tools\",\n\t\t\t\t\"modify\",\n\t\t\t\t\"customize\",\n\t\t\t\t\"administrator\",\n\t\t\t\t\"key user\",\n\t\t\t\t\"runtime authoring\"\n\t\t\t],\n\t\t\t\"developer-settings\": [\n\t\t\t\t\"settings\",\n\t\t\t\t\"cogwheel\",\n\t\t\t\t\"configuration\",\n\t\t\t\t\"settings\",\n\t\t\t\t\"tools\",\n\t\t\t\t\"modify\",\n\t\t\t\t\"customize\",\n\t\t\t\t\"developer\",\n\t\t\t\t\"runtime authoring\"\n\t\t\t],\n\t\t\t\"text-formatting\": [\"customize\", \"text\", \"format\", \"options\", \"text decoration\", \"text edit\", \"rich-text\"],\n\t\t\t\"bold-text\": [\"bold\", \"fat\", \"bulk\", \"weight\", \"text\", \"format\", \"text decoration\", \"text edit\", \"rich-text\"],\n\t\t\t\"italic-text\": [\"itlalic\", \"slanted\", \"leaning\", \"text\", \"format\", \"text decoration\", \"text edit\", \"rich-text\"],\n\t\t\t\"underline-text\": [\"underline\", \"text\", \"format\", \"text decoration\", \"text edit\", \"rich-text\"],\n\t\t\t\"text-align-justified\": [\"align\", \"text\", \"justified\", \"text edit\", \"rich-text\"],\n\t\t\t\"text-align-left\": [\"align\", \"text\", \"left\", \"text edit\", \"rich-text\"],\n\t\t\t\"text-align-center\": [\"align\", \"text\", \"center\", \"text edit\", \"rich-text\"],\n\t\t\t\"text-align-right\": [\"align\", \"text\", \"right\", \"text edit\", \"rich-text\"],\n\t\t\t\"bullet-text\": [\"bullet\", \"text\", \"dots\", \"text edit\", \"rich-text\"],\n\t\t\t\"numbered-text\": [\"numbered\", \"text\", \"1, 2, 3\", \"text edit\", \"rich-text\"],\n\t\t\tco: [\"co pilot\", \"mnemonics\", \"assistant\", \"launchpad\"],\n\t\t\t\"ui-notifications\": [\"notify\", \"ui\", \"notifications\", \"alerts\", \"launchpad\"],\n\t\t\tbell: [\"bell\", \"alarm\", \"notify\", \"alerts\"],\n\t\t\t\"cancel-share\": [\"cancel share\", \"cancel distribution\", \"do not share with connections\"],\n\t\t\t\"write-new-document\": [\"document\", \"page\", \"file\", \"text\", \"edit\", \"write\", \"new\", \"pencil\", \"pen\"],\n\t\t\t\"write-new\": [\"write\", \"new\", \"create\", \"pencil\", \"pen\"],\n\t\t\tcancel: [\"unable\", \"forbidden\", \"do not\", \"cancel\", \"not allowed\", \"not allowed\"],\n\t\t\t\"screen-split-one\": [\"screen\", \"split\", \"two\", \"master\", \"detail\", \"split app\"],\n\t\t\t\"screen-split-two\": [\"screen\", \"split\", \"two\", \"half\"],\n\t\t\t\"screen-split-three\": [\"screen\", \"split\", \"three\", \"columns\"],\n\t\t\tcustomize: [\"settings\", \"configuration\", \"settings\", \"modify\", \"customize\", \"equaliser\", \"fine tune\"],\n\t\t\t\"user-edit\": [\"user\", \"edit\", \"person\", \"pencil\", \"pen\"],\n\t\t\t\"source-code\": [\"source\", \"code\", \"develop\", \"write\", \"syntax\"],\n\t\t\tcopy: [\"copy\", \"document\", \"file\", \"duplicate\", \"text\"],\n\t\t\tpaste: [\"paste\", \"document\", \"clipboards\", \"file\", \"text\"],\n\t\t\t\"line-chart-time-axis\": [\"chart\", \"line\", \"time\", \"axis\"],\n\t\t\t\"clear-filter\": [\"filter\", \"organise\", \"aggregate\", \"data\", \"clear\", \"delete\", \"remove\", \"cancel\"],\n\t\t\treset: [\"reset\", \"x\", \"cancel\"],\n\t\t\t\"trend-up\": [\"trend\", \"up\", \"diagonal\", \"increase\", \"improve\", \"arrow\"],\n\t\t\t\"trend-down\": [\"trend\", \"down\", \"diagonal\", \"decrease\", \"decline\", \"arrow\"],\n\t\t\t\"cursor-arrow\": [\"cursor\", \"arrow\", \"mouse\", \"pointer\", \"select\"],\n\t\t\t\"add-document\": [\"document\", \"page\", \"file\", \"text\", \"new\", \"add\", \"plus\", \"additional\", \"another\", \"more\"],\n\t\t\t\"create-form\": [\"create\", \"form\", \"new\", \"add\", \"plus\", \"additional\", \"another\", \"more\"],\n\t\t\t\"resize-corner\": [\"resize\", \"dialog\", \"corner\"],\n\t\t\t\"chevron-phase\": [\"analytics\", \"chart\", \"display\", \"data\", \"gantt\", \"shape\", \"chevron\", \"phase\"],\n\t\t\t\"chevron-phase-2\": [\"analytics\", \"chart\", \"display\", \"data\", \"gantt\", \"shape\", \"chevron\", \"phase\"],\n\t\t\t\"rhombus-milestone\": [\"analytics\", \"chart\", \"display\", \"data\", \"gantt\", \"shape\", \"rhombus\", \"milestone\"],\n\t\t\t\"rhombus-milestone-2\": [\"analytics\", \"chart\", \"display\", \"data\", \"gantt\", \"shape\", \"rhombus\", \"milestone\"],\n\t\t\t\"circle-task\": [\"analytics\", \"chart\", \"display\", \"data\", \"gantt\", \"shape\", \"circle\", \"task\"],\n\t\t\t\"circle-task-2\": [\"analytics\", \"chart\", \"display\", \"data\", \"gantt\", \"shape\", \"circle\", \"task\"],\n\t\t\t\"project-definition-triangle\": [\"analytics\", \"chart\", \"display\", \"data\", \"gantt\", \"shape\", \"triangle\", \"project\", \"definition\"],\n\t\t\t\"project-definition-triangle-2\": [\n\t\t\t\t\"analytics\",\n\t\t\t\t\"chart\",\n\t\t\t\t\"display\",\n\t\t\t\t\"data\",\n\t\t\t\t\"gantt\",\n\t\t\t\t\"shape\",\n\t\t\t\t\"triangle\",\n\t\t\t\t\"project\",\n\t\t\t\t\"definition\"\n\t\t\t],\n\t\t\t\"master-task-triangle\": [\"analytics\", \"chart\", \"display\", \"data\", \"gantt\", \"shape\", \"triangle\", \"task\", \"master\"],\n\t\t\t\"master-task-triangle-2\": [\"analytics\", \"chart\", \"display\", \"data\", \"gantt\", \"shape\", \"triangle\", \"task\", \"master\"],\n\t\t\t\"program-triangles\": [\"analytics\", \"chart\", \"display\", \"data\", \"gantt\", \"shape\", \"triangle\", \"program\"],\n\t\t\t\"program-triangles-2\": [\"analytics\", \"chart\", \"display\", \"data\", \"gantt\", \"shape\", \"triangle\", \"program\"],\n\t\t\t\"mirrored-task-circle\": [\"analytics\", \"chart\", \"display\", \"data\", \"gantt\", \"shape\", \"mirrored\", \"circle\", \"task\"],\n\t\t\t\"mirrored-task-circle-2\": [\"analytics\", \"chart\", \"display\", \"data\", \"gantt\", \"shape\", \"mirrored\", \"circle\", \"task\"],\n\t\t\t\"checklist-item\": [\"analytics\", \"chart\", \"display\", \"data\", \"gantt\", \"shape\", \"checklist\", \"item\"],\n\t\t\t\"checklist-item-2\": [\"analytics\", \"chart\", \"display\", \"data\", \"gantt\", \"shape\", \"checklist\", \"item\"],\n\t\t\tchecklist: [\"analytics\", \"chart\", \"display\", \"data\", \"gantt\", \"shape\", \"checklist\"],\n\t\t\t\"checklist-2\": [\"analytics\", \"chart\", \"display\", \"data\", \"gantt\", \"shape\", \"checklist\"],\n\t\t\t\"chart-table-view\": [\"analytics\", \"chart\", \"display\", \"data\", \"table\", \"columns\", \"rows\", \"grid\", \"waffle\", \"view\"],\n\t\t\t\"filter-analytics\": [\"analytics\", \"filter\", \"organise\", \"chart\", \"customize\", \"display\", \"data\"],\n\t\t\t\"filter-facets\": [\"analytics\", \"filter\", \"organise\", \"chart\", \"customize\", \"display\", \"data\"],\n\t\t\t\"filter-fields\": [\"analytics\", \"filter\", \"organise\", \"chart\", \"customize\", \"display\", \"data\"],\n\t\t\tindent: [\"indent\", \"paragraph\", \"move right\", \"align\", \"text edit\", \"spacing\", \"rich-text\", \"arrows\"],\n\t\t\toutdent: [\"outdent\", \"paragraph\", \"move left\", \"align\", \"text edit\", \"spacing\", \"rich-text\", \"arrows\"],\n\t\t\theading1: [\"heading\", \"header\", \"h1\", \"large text\", \"title\", \"level 1\", \"text edit\", \"rich-text\"],\n\t\t\theading2: [\"heading\", \"header\", \"h2\", \"large text\", \"title\", \"level 2\", \"text edit\", \"rich-text\"],\n\t\t\theading3: [\"heading\", \"header\", \"h3\", \"large text\", \"title\", \"level 3\", \"text edit\", \"rich-text\"],\n\t\t\t\"decrease-line-height\": [\n\t\t\t\t\"decrease\",\n\t\t\t\t\"line height\",\n\t\t\t\t\"leading\",\n\t\t\t\t\"text edit\",\n\t\t\t\t\"spacing\",\n\t\t\t\t\"rich-text\",\n\t\t\t\t\"less space\",\n\t\t\t\t\"reduce\",\n\t\t\t\t\"compress\",\n\t\t\t\t\"arrows\"\n\t\t\t],\n\t\t\t\"increase-line-height\": [\n\t\t\t\t\"increase\",\n\t\t\t\t\"line height\",\n\t\t\t\t\"leading\",\n\t\t\t\t\"text edit\",\n\t\t\t\t\"spacing\",\n\t\t\t\t\"rich-text\",\n\t\t\t\t\"more space\",\n\t\t\t\t\"enlarge\",\n\t\t\t\t\"expand\",\n\t\t\t\t\"arrows\"\n\t\t\t],\n\t\t\t\"add-folder\": [\"folder\", \"add\", \"directory\", \"additional\", \"library\"],\n\t\t\taway: [\"time\", \"clock\", \"away\", \"availability\", \"chronicle\", \"be right back\", \"appear away\", \"off work\", \"me\"],\n\t\t\tbusy: [\"busy\", \"unavailable\", \"not responsive\", \"blocked\", \"circle\", \"dot\", \"me\", \"working\"],\n\t\t\t\"appear-offline\": [\"appear-offline\", \"offline\", \"hide\", \"blocked\", \"circle\", \"me\"],\n\t\t\tblur: [\"blur\", \"tool\", \"screenshot\", \"image\", \"edit\", \"modify\", \"distort\", \"smudge\", \"blurry\", \"filter\", \"effects\"],\n\t\t\tpixelate: [\n\t\t\t\t\"pixel\",\n\t\t\t\t\"tool\",\n\t\t\t\t\"screenshot\",\n\t\t\t\t\"image\",\n\t\t\t\t\"edit\",\n\t\t\t\t\"modify\",\n\t\t\t\t\"distort\",\n\t\t\t\t\"pixelate\",\n\t\t\t\t\"squares\",\n\t\t\t\t\"dots\",\n\t\t\t\t\"resolution\",\n\t\t\t\t\"noise\"\n\t\t\t],\n\t\t\t\"horizontal-combination-chart\": [\"analytics\", \"chart\", \"display\", \"data\", \"combination\", \"line-chart\", \"bar\", \"horizontal\"],\n\t\t\t\"add-employee\": [\n\t\t\t\t\"customer\",\n\t\t\t\t\"user\",\n\t\t\t\t\"person\",\n\t\t\t\t\"individual\",\n\t\t\t\t\"contacts\",\n\t\t\t\t\"add\",\n\t\t\t\t\"additional\",\n\t\t\t\t\"employee\",\n\t\t\t\t\"hr\",\n\t\t\t\t\"human resources\",\n\t\t\t\t\"plus\"\n\t\t\t],\n\t\t\t\"text-color\": [\"color\", \"formatting\", \"edit\", \"colour\", \"letters\", \"rich\", \"rich-text\", \"options\"],\n\t\t\t\"browse-folder\": [\"browse folder\", \"search\", \"look up\", \"folder\", \"browse\", \"directory\", \"library\", \"find\"],\n\t\t\t\"primary-key\": [\"key\", \"primary\", \"data\", \"lock\", \"important\"],\n\t\t\t\"two-keys\": [\"key\", \"primary\", \"foreign\", \"data\", \"lock\", \"important\"],\n\t\t\tstrikethrough: [\"strike\", \"formatting\", \"edit\", \"cross out\", \"letters\", \"rich\", \"rich-text\", \"options\", \"review\"],\n\t\t\ttext: [\"text\", \"formatting\", \"edit\", \"input\", \"letters\", \"rich\", \"rich-text\"],\n\t\t\tresponsive: [\"desktop\", \"tablet\", \"mobile\", \"phone\", \"adaptive\", \"cozy\", \"compact\", \"web app\"],\n\t\t\t\"desktop-mobile\": [\"desktop\", \"tablet\", \"mobile\", \"phone\", \"adaptive\", \"cozy\", \"compact\", \"web app\", \"responsive\", \"adaptive\"],\n\t\t\t\"table-row\": [\"display\", \"data\", \"table\", \"table row\", \"grid\", \"waffle\", \"view\", \"rows\"],\n\t\t\t\"table-column\": [\"display\", \"data\", \"table\", \"table column\", \"grid\", \"waffle\", \"view\", \"columns\"],\n\t\t\tvalidate: [\"message\", \"check\", \"validate\", \"security\", \"status\", \"approve\", \"reject\", \"decision\", \"certify\"],\n\t\t\t\"keyboard-and-mouse\": [\"mouse\", \"desktop\", \"click\", \"keyboard\", \"compact\", \"condensed\", \"controls\", \"devices\"],\n\t\t\ttouch: [\"finger\", \"mobile\", \"press\", \"touch\", \"cozy\", \"comfortable\", \"controls\", \"devices\"],\n\t\t\t\"expand-all\": [\"expand\", \"all\", \"open\", \"open all\", \"expand all\", \"arrow\", \"table\", \"tree\", \"list\"],\n\t\t\t\"collapse-all\": [\"collapse\", \"all\", \"close\", \"close all\", \"collapse all\", \"arrow\", \"table\", \"tree\", \"list\"],\n\t\t\tcombine: [\n\t\t\t\t\"merge\",\n\t\t\t\t\"arrow\",\n\t\t\t\t\"combine\",\n\t\t\t\t\"glue\",\n\t\t\t\t\"together\",\n\t\t\t\t\"join\",\n\t\t\t\t\"meld\",\n\t\t\t\t\"unite\",\n\t\t\t\t\"aggregate\",\n\t\t\t\t\"interflow\",\n\t\t\t\t\"runtime authoring\",\n\t\t\t\t\"runtime adaptation\",\n\t\t\t\t\"ui adaptation\",\n\t\t\t\t\"arrows-right\"\n\t\t\t],\n\t\t\tsplit: [\n\t\t\t\t\"split\",\n\t\t\t\t\"arrow\",\n\t\t\t\t\"separate\",\n\t\t\t\t\"break\",\n\t\t\t\t\"cleave\",\n\t\t\t\t\"clove\",\n\t\t\t\t\"cut up\",\n\t\t\t\t\"runtime authoring\",\n\t\t\t\t\"runtime adaptation\",\n\t\t\t\t\"ui adaptation\",\n\t\t\t\t\"arrows-right\"\n\t\t\t],\n\t\t\tmegamenu: [\"navigation\", \"arrows-down\", \"arrow-down\", \"down\", \"shell\"],\n\t\t\tfeedback: [\"feedback\", \"smiley\", \"comment\", \"shell\", \"callout\", \"speech\"],\n\t\t\tinformation: [\"information\", \"info\", \"message\", \"message-information\", \"i\", \"filled\", \"notification\"],\n\t\t\ts4hana: [\"s4hana\", \"S/4HANA\", \"S/4\", \"hana\", \"product switch\", \"product\", \"switch\"],\n\t\t\ttranslate: [\"translate\", \"text\", \"letters\", \"translation\", \"A\", \"arrows\"]\n\t\t}\n\t},\n\t\"SAP-icons-TNT\": {\n\t\ttitle: \"SAP Fiori Tools\",\n\t\ticons: {\n\t\t\ttechnicalsystem: [\"system\", \"hexagon\"],\n\t\t\tsystemjava: [\"system\", \"java\"],\n\t\t\tsystemabap: [\"abap\", \"system\"],\n\t\t\tsystemrecommendations: [\"system\", \"star\", \"favorite\"],\n\t\t\tsystem: [\"system\"],\n\t\t\tsystemtrex: [\"system\", \"trex\", \"settings\"],\n\t\t\tsystemtracks: [\"system\", \"arrow\"],\n\t\t\ttechnicalscenario: [\"hexagon\", \"connection\", \"scenario\"],\n\t\t\ttechnicalinstance: [\"hexagon\", \"connection\", \"instance\"],\n\t\t\t\"throughput-backlog\": [\"arrow\", \"bar\", \"chart\", \"up\"],\n\t\t\t\"batch-processing\": [\"process\", \"document\", \"settings\", \"double\", \"multiple\"],\n\t\t\t\"database-consistency\": [\"data\", \"indicator\", \"warning\"],\n\t\t\t\"intermediate-message\": [\"email\", \"e-mail\", \"electronic mail\", \"envelope\", \"mail\", \"correspondence\", \"message\", \"arrow\"],\n\t\t\texceptions: [\"warning\", \"status\", \"exclamation\"],\n\t\t\t\"system-hana\": [\"hana\", \"system\", \"chip\"],\n\t\t\tpython: [\"system\", \"python\"],\n\t\t\t\"raise-fault\": [\"lightning\", \"flash\", \"status\"],\n\t\t\t\"spike-arrest\": [\"chart\", \"line\", \"performance\", \"cancel\", \"data\", \"analytics\", \"x\"],\n\t\t\t\"verify-api\": [\"wrench\", \"question mark\", \"status\", \"tool\"],\n\t\t\tuser: [\"person\", \"individual\", \"user\", \"customer\", \"human\", \"profile\", \"me\"],\n\t\t\tnote: [\"notes\", \"draft\", \"text\", \"write\", \"letter\"],\n\t\t\t\"throwing-message\": [\"envelope\", \"email\", \"e-mail\", \"electronic mail\", \"mail\", \"correspondence\", \"throwing\"],\n\t\t\t\"catching-message\": [\"envelope\", \"email\", \"e-mail\", \"electronic mail\", \"mail\", \"correspondence\", \"catching\"],\n\t\t\t\"start-event\": [\"circle\", \"start\", \"event\", \"display\", \"data\", \"task\"],\n\t\t\t\"end-event\": [\"circle\", \"end\", \"event\", \"display\", \"data\", \"task\"],\n\t\t\tgateway: [\"shape\", \"indicator\", \"check\"],\n\t\t\t\"sub-process-marker\": [\"add\", \"square\", \"shape\", \"process\", \"plus\", \"marker\"],\n\t\t\t\"ad-hoc-marker\": [\"tilde\", \"marker\"],\n\t\t\t\"manual-task\": [\"activity\", \"manual\", \"task\", \"process\", \"hand\"],\n\t\t\t\"send-task\": [\"envelope\", \"email\", \"e-mail\", \"electronic mail\", \"mail\", \"correspondence\", \"catching\", \"send\"],\n\t\t\t\"receive-task\": [\"envelope\", \"email\", \"e-mail\", \"electronic mail\", \"mail\", \"correspondence\", \"catching\", \"receive\"],\n\t\t\t\"script-task\": [\"script\", \"activity\", \"task\", \"process\"],\n\t\t\tmarquee: [\"mark\", \"select\", \"lines\", \"dashed line\"],\n\t\t\t\"data-input-arrow\": [\"out\", \"arrow\", \"data\", \"arrow right\", \"filled\"],\n\t\t\t\"data-output-arrow\": [\"out\", \"arrow\", \"data\", \"arrow right\", \"empty\"],\n\t\t\tmore: [\"dropdown\", \"list\", \"arrow\"],\n\t\t\tpattern: [\"squares\", \"shape\", \"check\"],\n\t\t\ttask: [\"task\", \"steps\", \"project\", \"shape\"],\n\t\t\tarrow: [\"arrow up\", \"direction\", \"up\", \"right\"],\n\t\t\tdata: [\"document\", \"page\", \"file\", \"attachment\", \"blank\", \"new\"],\n\t\t\t\"data-store\": [\"data\", \"store\", \"storage\", \"files\", \"barrel\", \"cylinder\"],\n\t\t\tpool: [\"collect\", \"double\", \"pool\", \"lanes\"],\n\t\t\tswimlane: [\"collect\", \"single\", \"pool\", \"lane\"],\n\t\t\tselect: [\"arrow\", \"selection\", \"select\", \"cursor\", \"arrow\", \"pointer\", \"mouse\", \"filled\"],\n\t\t\tcursor: [\"arrow\", \"selection\", \"select\", \"cursor\", \"arrow\", \"pointer\", \"mouse\"],\n\t\t\tapi: [\"api\", \"program\", \"application\"],\n\t\t\t\"o-data\": [\"o data\", \"data\", \"protocol\"],\n\t\t\tjava: [\"java\", \"coffee\"],\n\t\t\t\"value-mapping\": [\"value\", \"exchange\"],\n\t\t\t\"terminate-end-event\": [\"circle\", \"end\", \"event\", \"terminate\", \"data\", \"task\"],\n\t\t\t\"parallel-gateway\": [\"shape\", \"indicator\", \"add\", \"check\"],\n\t\t\t\"exclusive-gateway\": [\"shape\", \"indicator\", \"cancel\", \"check\"],\n\t\t\t\"service-task\": [\"service\", \"task\", \"setting\", \"cogwheels\", \"configuration\", \"customize\"],\n\t\t\t\"workflow-editor\": [\"connection\", \"flow\", \"workflow\", \"square\", \"circle\", \"lines\"],\n\t\t\t\"boundary-interrupting\": [\"indicator\", \"clock\", \"event\", \"time\", \"boundary\"],\n\t\t\t\"boundary-non-interrupting\": [\"indicator\", \"clock\", \"event\", \"time\", \"boundary\"],\n\t\t\tblock: [\"cube\", \"square\", \"modular\", \"system\", \"collection\", \"box\", \"object\"],\n\t\t\t\"constrain-block\": [\"block\", \"cube\", \"braces\", \"brackets\", \"analysis\", \"model\"],\n\t\t\tactor: [\"person\", \"individual\", \"user\", \"human\"],\n\t\t\t\"instance-specification\": [\"block\", \"brick\", \"model\", \"system\", \"part\", \"module\"],\n\t\t\t\"value-type\": [\"slider\", \"define\", \"system\", \"panel\", \"variant\", \"control\"],\n\t\t\t\"interface-block\": [\"hexagon\", \"code\", \"design\", \"port\"],\n\t\t\tunit: [\"measure\", \"ruler\", \"quantity\", \"magnitude\", \"education\"],\n\t\t\tsignal: [\"tower\", \"information\", \"network\", \"radio\", \"wave\"],\n\t\t\t\"quantity-kind\": [\"measure\", \"quantity\", \"magnitude\", \"unit\", \"beaker\", \"jug\", \"capacity\"],\n\t\t\t\"item-flow\": [\"flow\", \"association\", \"connector\"],\n\t\t\tdependency: [\"link\", \"interrupted\", \"dependent\"],\n\t\t\tgeneralization: [\"link\", \"general\"],\n\t\t\taggregation: [\"link\", \"aggregate\", \"collect\"],\n\t\t\tcomposition: [\"link\", \"compose\"],\n\t\t\tassociation: [\"link\", \"associate\"],\n\t\t\tport: [\"external\", \"entity\", \"point\", \"block\", \"modular\"],\n\t\t\t\"proxy-port\": [\"external\", \"entity\", \"point\", \"block\", \"modular\", \"proxy\", \"system\", \"boundary\"],\n\t\t\t\"full-port\": [\"external\", \"entity\", \"point\", \"block\", \"modular\", \"full\", \"system\", \"boundary\"],\n\t\t\toperations: [\"setting\", \"arrow\", \"circle\", \"development\"],\n\t\t\tconstrains: [\"brackets\"],\n\t\t\treceptions: [\"arrow\", \"hexagon\", \"receive\", \"input\", \"inside\"],\n\t\t\treferences: [\"connection\", \"block\", \"relation\", \"connect\", \"influence\"],\n\t\t\tparts: [\"puzzle\", \"piece\", \"game\", \"module\", \"match\"],\n\t\t\tflow: [\"arrow\", \"direction\", \"cross\"],\n\t\t\tvalues: [\"object\", \"code\"],\n\t\t\t\"bill-of-material\": [\"list\", \"material\", \"manufacture\", \"list\", \"bom\"],\n\t\t\t\"document-info-recording\": [\"document\", \"link\"],\n\t\t\t\"use-case-diagram\": [\"diagram\", \"oval\"],\n\t\t\t\"bdd-diagram\": [\"diagram\", \"box\"],\n\t\t\t\"requirement-diagram\": [\"diagram\", \"need\", \"note\", \"notepad\"],\n\t\t\t\"package-diagram\": [\"diagram\", \"folder\"],\n\t\t\t\"internal-block-diagram\": [\"diagram\", \"box\"],\n\t\t\t\"requirement-containment-relationship\": [\"diagram\", \"box\"],\n\t\t\t\"use-case\": [\"oval\"],\n\t\t\t\"use-case-extension-point\": [\"oval\", \"dots\"],\n\t\t\t\"communication-path\": [\"line\", \"diagonal\"],\n\t\t\t\"note-connection\": [\"line\", \"diagonal\", \"dotted\"],\n\t\t\tsubject: [\"window\"],\n\t\t\t\"auto-layout\": [\"compose\", \"arrange\"],\n\t\t\t\"required-interface\": [\"receive\", \"import\", \"input\"],\n\t\t\t\"provided-interface\": [\"deliver\", \"export\", \"output\"],\n\t\t\t\"sub-content\": [\"folder\", \"container\"],\n\t\t\tconnector: [\"connect\", \"connection\", \"number\"],\n\t\t\t\"local-process-call\": [\"window\", \"arrow\"],\n\t\t\taggregator: [\"tree\", \"gather\", \"collect\"],\n\t\t\tsplitter: [\"tree\"],\n\t\t\tconverter: [\"tree\", \"extractor\", \"arrow\", \"document\", \"file\"],\n\t\t\t\"content-modifier\": [\"letter\", \"mail\", \"pen\", \"email\", \"e-mail\", \"electronic mail\", \"envelope\"],\n\t\t\t\"message-start-event\": [\n\t\t\t\t\"mail\",\n\t\t\t\t\"circle\",\n\t\t\t\t\"email\",\n\t\t\t\t\"e-mail\",\n\t\t\t\t\"electronic mail\",\n\t\t\t\t\"envelope\",\n\t\t\t\t\"mail\",\n\t\t\t\t\"correspondence\",\n\t\t\t\t\"receiving\",\n\t\t\t\t\"sending\",\n\t\t\t\t\"standard\"\n\t\t\t],\n\t\t\t\"message-end-event\": [\n\t\t\t\t\"mail\",\n\t\t\t\t\"circle\",\n\t\t\t\t\"email\",\n\t\t\t\t\"e-mail\",\n\t\t\t\t\"electronic mail\",\n\t\t\t\t\"envelope\",\n\t\t\t\t\"mail\",\n\t\t\t\t\"correspondence\",\n\t\t\t\t\"receiving\",\n\t\t\t\t\"sending\",\n\t\t\t\t\"standard\"\n\t\t\t],\n\t\t\t\"escalation-end-event\": [\"arrow\", \"circle\", \"responsibility\", \"standard\"],\n\t\t\t\"start-timer-event\": [\"clock\", \"circle\", \"standard\", \"timer\", \"span\", \"timeout\", \"time\"],\n\t\t\t\"error-start-event\": [\"circle\", \"lightning\", \"flash\"],\n\t\t\t\"error-end-event\": [\"circle\", \"lightning\", \"flash\"],\n\t\t\t\"content-enricher\": [\"square\", \"arrow\", \"box\"],\n\t\t\trealization: [\"sysml\", \"arrow\"],\n\t\t\tinterface: [\"sysml\", \"i\", \"hexagon\"],\n\t\t\t\"business-capability\": [\"business\", \"architecture\", \"enterprise\", \"capability\", \"pentagon\"],\n\t\t\t\"progress-group\": [\"business\", \"architecture\", \"enterprise\", \"process\", \"group\", \"chevron\", \"square\"],\n\t\t\t\"value-stream\": [\"business\", \"architecture\", \"enterprise\", \"value\", \"dollar\", \"square\"],\n\t\t\t\"value-flow\": [\"business\", \"architecture\", \"enterprise\", \"value\", \"dollar\", \"chevron\"],\n\t\t\tapplication: [\"app\", \"architecture\", \"enterprise\", \"application\", \"program\"],\n\t\t\t\"etl-job\": [\"architecture\", \"enterprise\", \"application\", \"etl\", \"extract\", \"transform\", \"load\", \"configuration\", \"setting\"],\n\t\t\t\"business-service\": [\"business\", \"enterprise\", \"application\", \"service\", \"pentagon\", \"setting\", \"architecture\"],\n\t\t\t\"application-service\": [\"architecture\", \"enterprise\", \"application\", \"service\", \"app\", \"setting\"],\n\t\t\t\"network-node\": [\"architecture\", \"enterprise\", \"infrastructure\", \"arrow\", \"circle\", \"node\"],\n\t\t\tnetwork: [\"architecture\", \"enterprise\", \"infrastructure\", \"circle\", \"node\"],\n\t\t\t\"deployment-instance\": [\"architecture\", \"enterprise\", \"infrastructure\", \"square\", \"setting\"],\n\t\t\tintranet: [\"architecture\", \"enterprise\", \"infrastructure\", \"house\", \"world\", \"globe\"],\n\t\t\t\"mobile-network\": [\"architecture\", \"enterprise\", \"infrastructure\", \"mobile\", \"network\", \"tower\", \"power\", \"pole\"],\n\t\t\t\"private-cloud\": [\"architecture\", \"enterprise\", \"infrastructure\", \"cloud\", \"lock\", \"secure\", \"safe\"],\n\t\t\tantenna: [\"architecture\", \"enterprise\", \"antenna\", \"transmit\"],\n\t\t\tfirewall: [\"architecture\", \"enterprise\", \"firewall\", \"brick\", \"wall\", \"secure\", \"safe\"],\n\t\t\thub: [\"architecture\", \"enterprise\", \"grid\"],\n\t\t\tmodem: [\"architecture\", \"enterprise\", \"grid\", \"internet\", \"web\"],\n\t\t\trepeater: [\"architecture\", \"enterprise\", \"grid\", \"internet\", \"repeat\"],\n\t\t\trouter: [\"architecture\", \"enterprise\", \"grid\", \"internet\"],\n\t\t\tswitch: [\"architecture\", \"enterprise\", \"grid\"],\n\t\t\tsatellite: [\"architecture\", \"enterprise\", \"space\"],\n\t\t\t\"system-2\": [\"architecture\", \"enterprise\", \"square\", \"node\"],\n\t\t\t\"status-activating\": [\"activate\", \"clock\", \"square\"],\n\t\t\t\"status-suspended\": [\"suspend\", \"pause\", \"square\"],\n\t\t\t\"status-suspending\": [\"suspend\", \"pause\", \"square\", \"clock\"],\n\t\t\t\"status-terminated\": [\"terminate\", \"triangle\"],\n\t\t\t\"status-terminating\": [\"terminate\", \"triangle\", \"clock\"],\n\t\t\t\"solution-not-licensed\": [\"circle\", \"half\", \"fill\", \"empty\", \"license\"],\n\t\t\t\"clear-all-mapping\": [\"clear\", \"remove\", \"delete\", \"map\", \"cancel\"],\n\t\t\t\"map-all-fields\": [\"link\", \"source\", \"target\", \"text\"],\n\t\t\t\"process-package\": [\"package\", \"process\", \"arrow\", \"arrows\", \"chevron\"],\n\t\t\t\"process-kpis\": [\"process\", \"kpi\", \"chart\", \"bulb\", \"light\", \"lamp\"],\n\t\t\tinsights: [\"insights\", \"chart\", \"light\", \"bulb\", \"lamp\"]\n\t\t}\n\t},\n\tBusinessSuiteInAppSymbols: {\n\t\ttitle: \"SAP Business Suite\",\n\t\ticons: {\n\t\t\theart: [\"heart\", \"medical\"],\n\t\t\tquarter: [\"calendar\", \"time\", \"date\", \"quarter\", \"schedule\"],\n\t\t\tyear: [\"calendar\", \"time\", \"date\", \"year\", \"schedule\"],\n\t\t\tequalizer: [\"equalizer\", \"sliders\", \"adjust\"],\n\t\t\tcomponent: [\"component\", \"plus\", \"add\"],\n\t\t\t\"component-private\": [\"component\", \"private\", \"locked\"],\n\t\t\t\"raw-material\": [\"barrel\", \"raw\", \"material\"],\n\t\t\tsms: [\"sms\", \"mobile\", \"message\", \"phone\", \"speech\", \"bubble\", \"text\"],\n\t\t\t\"add-note\": [\"add\", \"plus\", \"additional\", \"more\", \"another\", \"note\", \"info\", \"draft\"],\n\t\t\t\"change-time-horizon\": [\"change\", \"arrow\", \"time\", \"clock\", \"time horizon\"],\n\t\t\t\"table-chart-customization\": [\"wrench\", \"control\", \"customize\", \"configuration\", \"tools\", \"settings\", \"table\", \"chart\"],\n\t\t\t\"delegated-important-task\": [\"flag\", \"arrow\", \"task\", \"delegate\", \"important\"],\n\t\t\tforklift: [\"forklift\", \"transport\"],\n\t\t\tcoins: [\"coins\", \"money\", \"cash\"],\n\t\t\t\"filter-menu\": [\"filter\", \"organise\", \"aggregate\", \"data\", \"menu\"],\n\t\t\t\"target-to-date\": [\"date\", \"target\", \"calendar\", \"arrow\"],\n\t\t\tprogram: [\"planning\", \"scheduling\", \"program\", \"project\", \"scheduling\", \"shape\", \"gantt\", \"chart\", \"display\", \"analytics\"],\n\t\t\tphase: [\n\t\t\t\t\"planning\",\n\t\t\t\t\"scheduling\",\n\t\t\t\t\"program\",\n\t\t\t\t\"project\",\n\t\t\t\t\"scheduling\",\n\t\t\t\t\"shape\",\n\t\t\t\t\"gantt\",\n\t\t\t\t\"chart\",\n\t\t\t\t\"display\",\n\t\t\t\t\"analytics\",\n\t\t\t\t\"chevron\"\n\t\t\t],\n\t\t\tchecklist: [\n\t\t\t\t\"planning\",\n\t\t\t\t\"scheduling\",\n\t\t\t\t\"program\",\n\t\t\t\t\"project\",\n\t\t\t\t\"scheduling\",\n\t\t\t\t\"shape\",\n\t\t\t\t\"gantt\",\n\t\t\t\t\"chart\",\n\t\t\t\t\"display\",\n\t\t\t\t\"analytics\",\n\t\t\t\t\"checklist\"\n\t\t\t],\n\t\t\t\"mirrored-task\": [\n\t\t\t\t\"planning\",\n\t\t\t\t\"scheduling\",\n\t\t\t\t\"program\",\n\t\t\t\t\"project\",\n\t\t\t\t\"scheduling\",\n\t\t\t\t\"shape\",\n\t\t\t\t\"gantt\",\n\t\t\t\t\"chart\",\n\t\t\t\t\"display\",\n\t\t\t\t\"analytics\",\n\t\t\t\t\"mirrored task\"\n\t\t\t],\n\t\t\t\"sub-project\": [\n\t\t\t\t\"planning\",\n\t\t\t\t\"scheduling\",\n\t\t\t\t\"program\",\n\t\t\t\t\"project\",\n\t\t\t\t\"scheduling\",\n\t\t\t\t\"shape\",\n\t\t\t\t\"gantt\",\n\t\t\t\t\"chart\",\n\t\t\t\t\"display\",\n\t\t\t\t\"analytics\",\n\t\t\t\t\"sub project\"\n\t\t\t],\n\t\t\t\"checklist-item\": [\n\t\t\t\t\"planning\",\n\t\t\t\t\"scheduling\",\n\t\t\t\t\"program\",\n\t\t\t\t\"project\",\n\t\t\t\t\"scheduling\",\n\t\t\t\t\"shape\",\n\t\t\t\t\"gantt\",\n\t\t\t\t\"chart\",\n\t\t\t\t\"display\",\n\t\t\t\t\"analytics\",\n\t\t\t\t\"checklist item\"\n\t\t\t],\n\t\t\t\"adhoc-analysis\": [\"magnifier\", \"glass\", \"search\", \"adhoc analysis\", \"analytics\", \"exclamation\", \"status\"],\n\t\t\t\"change-analysis\": [\"magnifier\", \"glass\", \"search\", \"change analysis\", \"analytics\"],\n\t\t\t\"review-demands\": [\"magnifier\", \"glass\", \"search\", \"review demands\", \"clipboard\", \"task\", \"arrow\"],\n\t\t\t\"project-definition\": [\n\t\t\t\t\"shape\",\n\t\t\t\t\"gantt\",\n\t\t\t\t\"chart\",\n\t\t\t\t\"display\",\n\t\t\t\t\"analytics\",\n\t\t\t\t\"triangle\",\n\t\t\t\t\"project\",\n\t\t\t\t\"definition\",\n\t\t\t\t\"planning\",\n\t\t\t\t\"scheduling\"\n\t\t\t],\n\t\t\t\"data-access\": [\"arrow\", \"data\", \"access\"],\n\t\t\t\"define-shortage\": [\"define\", \"shortage\", \"chart\", \"measurement\"],\n\t\t\t\"review-supplies\": [\"magnifier\", \"glass\", \"search\", \"review\", \"supplies\", \"supply\", \"analytics\"],\n\t\t\t\"change-log\": [\"change\", \"log\", \"time\", \"clock\"],\n\t\t\t\"priority-1\": [\"high priority\", \"exclamation\", \"alert\", \"warning\", \"status\"],\n\t\t\t\"priority-2\": [\"high priority\", \"exclamation\", \"alert\", \"warning\", \"status\", \"multiple\"],\n\t\t\tjam: [\"jam\", \"message\", \"speech\", \"bubble\", \"text\", \"conversation\", \"social\", \"comment\", \"discussion\"],\n\t\t\tmilestone: [\"badge\", \"insignia\", \"star\", \"prize\", \"award\", \"achievement\", \"milestone\"],\n\t\t\t\"bulleting-with-numbers\": [\"bullet\", \"text\", \"dots\", \"rich text\"],\n\t\t\t\"decrease-indent\": [\"text\", \"rich text\", \"decrease indent\", \"paragraph\", \"move left\", \"align\", \"arrow\", \"outdent\"],\n\t\t\t\"increase-indent\": [\"text\", \"rich text\", \"increase indent\", \"paragraph\", \"move left\", \"align\", \"arrow\", \"indent\"],\n\t\t\tbold: [\"text\", \"rich text\", \"style\", \"text decoration\", \"format\", \"bold\", \"fat\", \"weight\"],\n\t\t\titalic: [\"text\", \"rich text\", \"style\", \"text decoration\", \"format\", \"italic\", \"slanted\", \"leaning\"],\n\t\t\t\"strike-through\": [\"text\", \"rich text\", \"style\", \"text decoration\", \"format\", \"strike through\", \"crossed out\"],\n\t\t\tunderline: [\"text\", \"rich text\", \"style\", \"text decoration\", \"format\", \"underline\"],\n\t\t\t\"save-as\": [\"save as\", \"diskette\", \"pencil\", \"floppy disc\"],\n\t\t\tsegmentation: [\"segmentation\", \"hierarchy\", \"map\", \"org\", \"tree\", \"overview\", \"data\"],\n\t\t\t\"context-menu\": [\"menu\", \"options\", \"context\", \"button\", \"corner\", \"triangle\"],\n\t\t\tsnapshot: [\"snapshot\", \"arrows\", \"x\", \"cancel\", \"remove\", \"delete\", \"close\"],\n\t\t\t\"substraction-b-a\": [\n\t\t\t\t\"circles\",\n\t\t\t\t\"substraction\",\n\t\t\t\t\"analytics\",\n\t\t\t\t\"analyze objects\",\n\t\t\t\t\"filter\",\n\t\t\t\t\"segmentation\",\n\t\t\t\t\"segment\",\n\t\t\t\t\"target group\",\n\t\t\t\t\"b-a\"\n\t\t\t],\n\t\t\t\"substraction-a-b\": [\n\t\t\t\t\"circles\",\n\t\t\t\t\"substraction\",\n\t\t\t\t\"analytics\",\n\t\t\t\t\"analyze objects\",\n\t\t\t\t\"filter\",\n\t\t\t\t\"segmentation\",\n\t\t\t\t\"segment\",\n\t\t\t\t\"target group\",\n\t\t\t\t\"a-b\"\n\t\t\t],\n\t\t\tintersection: [\"circles\", \"intersection\", \"analytics\", \"analyze objects\", \"filter\", \"segmentation\", \"segment\", \"target group\"],\n\t\t\tunion: [\n\t\t\t\t\"circles\",\n\t\t\t\t\"intersection\",\n\t\t\t\t\"analytics\",\n\t\t\t\t\"analyze objects\",\n\t\t\t\t\"filter\",\n\t\t\t\t\"segmentation\",\n\t\t\t\t\"segment\",\n\t\t\t\t\"target group\",\n\t\t\t\t\"union\",\n\t\t\t\t\"merge\",\n\t\t\t\t\"combine\"\n\t\t\t],\n\t\t\ttop: [\"arrow\", \"top\"],\n\t\t\tbottom: [\"arrow\", \"bottom\"],\n\t\t\t\"page-up\": [\"arrows\", \"page up\"],\n\t\t\t\"page-down\": [\"arrows\", \"page down\"],\n\t\t\t\"create-dashboard\": [\"create\", \"new\", \"plus\", \"dashboard\", \"page\", \"file\"],\n\t\t\t\"excelsius-file\": [\"excelsius file\"],\n\t\t\t\"open-folder\": [\"arrow\", \"open\", \"folder\"],\n\t\t\tneutral: [\"neutral\"],\n\t\t\t\"split-segmentation\": [\"split\", \"separate\", \"divide\", \"arrows\", \"segmentation\", \"segment\", \"target group\"],\n\t\t\t\"manage-budget\": [\"arrows\", \"money\", \"manage\", \"budget\"],\n\t\t\tblocked: [\"blocked\"],\n\t\t\tpipette: [\"pipette\", \"eye dropper\", \"sample\"],\n\t\t\t\"top-recipe\": [\"recipe\", \"bowl\", \"mortar\", \"star\", \"top\", \"important\"],\n\t\t\trecipe: [\"recipe\", \"bowl\", \"mortar\"],\n\t\t\tingredients: [\"ingredients\"],\n\t\t\t\"multiple-charts\": [\"analytics\", \"chart\", \"display\", \"data\", \"multiple charts\"],\n\t\t\t\"descending-bars\": [\"analytics\", \"chart\", \"display\", \"data\", \"descending bars\"],\n\t\t\t\"descending-stacked-bars\": [\"analytics\", \"chart\", \"display\", \"data\", \"descending stacked bars\"],\n\t\t\t\"scatter-plot\": [\"analytics\", \"chart\", \"display\", \"data\", \"scatter plot\"],\n\t\t\tspill: [\"spill\", \"hazard\"],\n\t\t\tfire: [\"fire\", \"hazard\"],\n\t\t\tstratification: [\"analytics\", \"chart\", \"display\", \"data\", \"stratification\"],\n\t\t\trelationship: [\"analytics\", \"chart\", \"display\", \"data\", \"relationship\"],\n\t\t\t\"margin-decomposition\": [\"analytics\", \"chart\", \"display\", \"data\", \"margin decomposition\"],\n\t\t\t\"control-group\": [\"control group\", \"people\"],\n\t\t\t\"responsible-area\": [\"responsible area\", \"person\", \"people\"],\n\t\t\tincrease: [\"increase\", \"arrow\", \"up\", \"raise\"],\n\t\t\tdecrease: [\"decrease\", \"arrow\", \"down\", \"lower\"],\n\t\t\t\"current-stock\": [\"current stock\", \"diamond\"],\n\t\t\texpedite: [\"arrow left\", \"calendar\", \"accelerate\"],\n\t\t\tpostpone: [\"arrow right\", \"calendar\", \"postpone\", \"delay\"],\n\t\t\tapproved: [\"checkmark\", \"approved\", \"tick\", \"ok\", \"checked\"],\n\t\t\t\"partially-delivered\": [\"partially delivered\"],\n\t\t\t\"line-bar-chart\": [\"analytics\", \"chart\", \"display\", \"data\", \"line bar chart\"],\n\t\t\t\"expand-all\": [\"expand all\", \"plus\"],\n\t\t\tsubmission: [\"money\", \"submission\", \"exclamation\", \"circle\"],\n\t\t\t\"change-request\": [\"change\", \"request\", \"pencil\", \"file\", \"edit\", \"write\", \"new\", \"pen\"],\n\t\t\t\"column-unselected\": [\"column\", \"unselected\", \"circle\"],\n\t\t\t\"column-selected\": [\"column\", \"selected\", \"circle\"],\n\t\t\t\"row-unselected\": [\"row\", \"unselected\", \"circle\"],\n\t\t\t\"row-selected\": [\"row\", \"selected\", \"circle\"],\n\t\t\t\"stock-requirements\": [\"arrows\", \"stock\", \"requirement\"],\n\t\t\t\"gender-male-and-female\": [\"gender\", \"male and female\"],\n\t\t\t\"icon-marital-status\": [\"marital status\", \"wedding rings\", \"married\", \"not married\"],\n\t\t\tbirthday: [\"birthday\", \"cake\", \"candles\", \"birth date\"],\n\t\t\tclassification: [\"classification\", \"ranking\"],\n\t\t\t\"marked-for-deletion\": [\"clock\", \"time\", \"bin\", \"trash can\", \"rubbish\", \"deletion\", \"marked\", \"to be deleted\"],\n\t\t\t\"bullet-chart\": [\"bullet chart\", \"analytics\", \"chart\", \"display\", \"data\"],\n\t\t\t\"remove-filter\": [\"filter\", \"organise\", \"aggregate\", \"data\", \"clear\", \"delete\", \"remove\", \"cancel\"],\n\t\t\t\"savings-account\": [\"money\", \"bank\", \"account\", \"savings\"],\n\t\t\t\"debit-card\": [\"money\", \"bank\", \"account\", \"savings\", \"debit\", \"payment\", \"buy\", \"purchase\", \"shopping\"],\n\t\t\t\"vip-customer\": [\n\t\t\t\t\"person\",\n\t\t\t\t\"individual\",\n\t\t\t\t\"user\",\n\t\t\t\t\"customer\",\n\t\t\t\t\"human\",\n\t\t\t\t\"circle\",\n\t\t\t\t\"profile\",\n\t\t\t\t\"me\",\n\t\t\t\t\"favorite\",\n\t\t\t\t\"favourite\",\n\t\t\t\t\"star\"\n\t\t\t],\n\t\t\t\"undesirable-customer\": [\n\t\t\t\t\"person\",\n\t\t\t\t\"individual\",\n\t\t\t\t\"user\",\n\t\t\t\t\"customer\",\n\t\t\t\t\"human\",\n\t\t\t\t\"circle\",\n\t\t\t\t\"profile\",\n\t\t\t\t\"me\",\n\t\t\t\t\"star\",\n\t\t\t\t\"unfavourite\",\n\t\t\t\t\"remove\"\n\t\t\t],\n\t\t\t\"answered-change-request\": [\"request\", \"bubble\"],\n\t\t\t\"collected-change-request\": [\"request\", \"collection\", \"layers stacked\"],\n\t\t\t\"draw-freehand\": [\"draw\", \"shape\", \"create\", \"freehand\"],\n\t\t\t\"draw-circle\": [\"draw\", \"shape\", \"create\", \"circle\"],\n\t\t\tcompleted: [\"status\", \"done\", \"completed\", \"accept\", \"approve\", \"correct\", \"checkmark\", \"tick\", \"affirmative\"],\n\t\t\tanswered: [\"answered\", \"bubble\"],\n\t\t\t\"traffic-cone\": [\"traffic\", \"logistics\", \"cone\"],\n\t\t\t\"traffic-lights\": [\"traffic\", \"logistics\", \"traffic lights\"],\n\t\t\tcontainer: [\"traffic\", \"logistics\", \"container\", \"freight\", \"shipping\"],\n\t\t\t\"container-loading\": [\"traffic\", \"logistics\", \"container\", \"freight\", \"shipping\", \"load\"],\n\t\t\t\"traffic-jam\": [\"traffic\", \"logistics\", \"traffic jam\", \"road conjestion\"],\n\t\t\tproducts: [\"product\", \"commodity\", \"goods\", \"stock\", \"merchandise\", \"package\"],\n\t\t\tsidepanel: [\"screen\", \"split\", \"two\", \"area\", \"split app\", \"side panel\"],\n\t\t\t\"split-screen\": [\"screen\", \"split\", \"two\", \"area\", \"split app\", \"top bottom\", \"horizontal split\", \"analytics\"],\n\t\t\t\"keep-segment\": [\"segments\", \"data\", \"marketing\", \"campaign\", \"keep\", \"approve\"],\n\t\t\t\"exclude-segment\": [\"segments\", \"data\", \"marketing\", \"campaign\", \"clear\", \"approve\", \"remove\", \"cancel\", \"x\"],\n\t\t\t\"separate-segments\": [\"segments\", \"data\", \"marketing\", \"campaign\", \"separate\"],\n\t\t\t\"distribute-segments\": [\"segments\", \"data\", \"marketing\", \"campaign\", \"distribute\"],\n\t\t\t\"next-open-item\": [\"navigation\", \"jump\", \"shift\", \"next\", \"arrow\", \"queue\"],\n\t\t\t\"where-used\": [\"arrows\", \"directions\", \"move\", \"forward\"],\n\t\t\t\"outbound-delivery\": [\"arrow\", \"truck\", \"move\", \"delivery\", \"forward\"],\n\t\t\t\"outbound-delivery-inactive\": [\"circle\", \"stroke\", \"dot\", \"status\"],\n\t\t\t\"outbound-delivery-active\": [\"circle\", \"fill\", \"dot\", \"status\"],\n\t\t\ttarget: [\"arrow\", \"download\", \"down\", \"import\"],\n\t\t\tsource: [\"arrow\", \"upload\", \"up\", \"export\"],\n\t\t\tmaterial: [\"screw\", \"data\", \"material\"],\n\t\t\t\"due-date\": [\"arrow\", \"calendar\", \"due\", \"date\", \"appointment\", \"next\"],\n\t\t\toverdue: [\"arrow\", \"calendar\", \"due\", \"date\", \"appointment\", \"previous\"],\n\t\t\t\"set-as-default\": [\"tick\", \"setting\", \"yes\"],\n\t\t\t\"face-very-bad\": [\"smiley\", \"emotions\", \"emoji\", \"bad\"],\n\t\t\t\"face-bad\": [\"smiley\", \"emotions\", \"emoji\", \"sad\"],\n\t\t\t\"face-skeptical\": [\"smiley\", \"emotions\", \"emoji\", \"skeptical\"],\n\t\t\t\"face-neutral\": [\"smiley\", \"emotions\", \"emoji\", \"neutral\"],\n\t\t\t\"face-astonished\": [\"smiley\", \"emotions\", \"emoji\", \"astonished\"],\n\t\t\t\"face-happy\": [\"face\", \"emoticon\", \"smile\", \"positive\", \"round\"],\n\t\t\t\"face-very-happy\": [\"face\", \"emoticon\", \"smile\", \"positive\", \"round\"],\n\t\t\t\"face-awful\": [\"face\", \"sad\", \"emoticon\", \"negative\", \"round\"],\n\t\t\t\"face-devastated\": [\"face\", \"sad\", \"emoticon\", \"negative\", \"round\"],\n\t\t\t\"face-okey-dokey\": [\"face\", \"emoticon\", \"smile\", \"blink\", \"positive\", \"round\"],\n\t\t\talarm: [\"attention\", \"bell\", \"noise\"],\n\t\t\tactivate: [\"magic\", \"wand\", \"select\"],\n\t\t\t\"segment-preview-reference-objects\": [\"dots\"],\n\t\t\tradius: [\"plus\", \"add\"],\n\t\t\t\"polygon-black\": [\"geometric body\", \"measurement\", \"geometry\"],\n\t\t\t\"polygon-white\": [\"geometric body\", \"measurement\", \"geometry\"],\n\t\t\tpolygon: [\"connection\", \"geometry\", \"network\", \"connected\", \"dots\"],\n\t\t\t\"no-filter\": [\"remove\", \"minus\", \"no\"],\n\t\t\tgrip: [\"pattern\", \"move\", \"grab\", \"take\", \"drag\"],\n\t\t\twater: [\"drop\", \"oil\", \"energy\"],\n\t\t\tgas: [\"fire\", \"flame\", \"energy\"],\n\t\t\tliquid: [\"drop\", \"water\", \"energy\"],\n\t\t\t\"gas-2\": [\"fire\", \"flame\", \"energy\", \"cooker\"],\n\t\t\t\"water-2\": [\"drop\", \"tap\", \"oil\", \"control\", \"close\", \"open\"],\n\t\t\toperator: [\"person\", \"individual\", \"user\", \"customer\", \"human\", \"me\", \"security\", \"helmet\"],\n\t\t\t\"target-filter\": [\"round\", \"circle\", \"cross\", \"segment\"],\n\t\t\tequipment: [\"pump\", \"engine\", \"pipeline\", \"generator\"],\n\t\t\t\"gis-layer\": [\"world\", \"round\", \"map\"],\n\t\t\tsection: [\"people\", \"person\", \"group\", \"team\", \"selection\", \"part\"],\n\t\t\tkohorte: [\"people\", \"person\", \"group\", \"team\", \"selection\", \"part\", \"data\", \"folder\", \"index\", \"card\"],\n\t\t\tfemale: [\"cross\", \"gender\"],\n\t\t\tmale: [\"arrow\", \"gender\"],\n\t\t\tmodel: [\"pump\", \"engine\", \"pipeline\", \"generator\", \"sheet\", \"dataset\"],\n\t\t\thourglass: [\"sand\", \"diabolo\"],\n\t\t\t\"plain-grid-layout\": [\"square\", \"grid\", \"division\", \"partition\", \"split\"],\n\t\t\t\"top-panel-layout\": [\"square\", \"grid\", \"division\", \"partition\", \"split\"],\n\t\t\t\"1x2-grid-layout\": [\"square\", \"grid\", \"division\", \"partition\", \"split\"],\n\t\t\t\"side-panel-left-layout\": [\"square\", \"grid\", \"division\", \"partition\", \"split\"],\n\t\t\t\"2x2-grid-layout\": [\"square\", \"grid\", \"division\", \"partition\", \"split\"],\n\t\t\t\"inverse-t-layout\": [\"square\", \"grid\", \"division\", \"partition\", \"split\"],\n\t\t\t\"t-layout\": [\"square\", \"grid\", \"division\", \"partition\", \"split\"],\n\t\t\t\"top-side-panel-layout\": [\"square\", \"grid\", \"division\", \"partition\", \"split\"],\n\t\t\t\"side-top-panel-layout\": [\"square\", \"grid\", \"division\", \"partition\", \"split\"],\n\t\t\t\"4x4-grid-layout\": [\"square\", \"grid\", \"division\", \"partition\", \"split\"],\n\t\t\t\"add-point\": [\"plus\", \"circle\", \"ball\"],\n\t\t\t\"add-polyline\": [\"plus\", \"share\", \"price\"],\n\t\t\t\"add-polygone\": [\"plus\", \"layer\", \"window\", \"rectangle\"],\n\t\t\t\"email-send-delayed\": [\"clock\", \"timer\", \"time\", \"watch\"],\n\t\t\t\"email-not-opened\": [\"warning\", \"exclamation mark\", \"reminder\", \"attention\"],\n\t\t\t\"link-not-clicked\": [\"warning\", \"exclamation mark\", \"reminder\", \"attention\"],\n\t\t\t\"sms-send-delayed\": [\"clock\", \"timer\", \"time\", \"watch\", \"speech bubble\", \"conversation\", \"chat\"],\n\t\t\t\"ab-testing\": [\"mail\", \"duplicate\", \"store\"],\n\t\t\ttv: [\"screen\", \"monitor\", \"technical device\", \"hi-fi\", \"smart-tv\", \"broadcast\"],\n\t\t\tradio: [\"technical device\", \"sound\", \"tuner\"],\n\t\t\toutdoor: [\"hills\", \"mountains\", \"sun\", \"tree\", \"image\", \"landscape\"],\n\t\t\tevent: [\"cinema\", \"keynote\", \"party\", \"workshop\", \"team\", \"beamer\", \"announcement\"],\n\t\t\t\"paid-search\": [\"money\", \"finder\", \"lens\", \"glass\", \"finance\", \"deposit\"],\n\t\t\ttractor: [\"load\", \"cargo\", \"freight\", \"street\", \"vehicle\"],\n\t\t\t\"display-ads\": [\n\t\t\t\t\"screen\",\n\t\t\t\t\"monitor\",\n\t\t\t\t\"website\",\n\t\t\t\t\"information\",\n\t\t\t\t\"layout\",\n\t\t\t\t\"screendesign\",\n\t\t\t\t\"shopping\",\n\t\t\t\t\"online\",\n\t\t\t\t\"social media\",\n\t\t\t\t\"facebook\"\n\t\t\t],\n\t\t\t\"call-center\": [\"person\", \"individual\", \"user\", \"customer\", \"human\", \"headset\", \"phones\", \"microphone\"],\n\t\t\tsocial: [\"people\", \"person\", \"group\", \"team\", \"conversation\", \"chat\", \"bubble\", \"workshop\"],\n\t\t\tevent2: [\"calendar\", \"time\", \"clock\", \"watch\", \"date\"],\n\t\t\t\"official-service-group\": [\"bank\", \"account\", \"data\", \"storage\", \"folder\", \"finance\", \"money\"],\n\t\t\t\"time-deposit\": [\"clock\", \"timer\", \"money\", \"bag\"],\n\t\t\t\"early-widthdrawal-for-time-deposits\": [\"clock\", \"timer\", \"money\", \"bag\"],\n\t\t\t\"aggregated-view\": [\"sort\", \"order\", \"tree view\"],\n\t\t\t\"detailed-view\": [\"sort\", \"order\", \"tree view\"],\n\t\t\trescheduling: [\"change\", \"replacement\", \"placement\", \"select\", \"switch\", \"move\"],\n\t\t\tresequencing: [\"change\", \"replacement\", \"placement\", \"select\", \"switch\", \"move\"],\n\t\t\t\"movement-warning\": [\"alert\", \"attention\", \"square\"],\n\t\t\t\"multiple-warnings\": [\"alert\", \"attention\", \"square\"],\n\t\t\t\"box-truck\": [\"load\", \"cargo\", \"freight\", \"street\", \"vehicle\"],\n\t\t\t\"box-truck-empty\": [\"load\", \"cargo\", \"freight\", \"street\", \"vehicle\"],\n\t\t\tdriver: [\"people\", \"target-user\", \"driver\"],\n\t\t\t\"driver-warning\": [\"people\", \"target-user\", \"warning\", \"attention\", \"driver\"],\n\t\t\toverlap: [\"object\", \"overlap\", \"window\"],\n\t\t\t\"expand-overlap\": [\"object\", \"overlap\", \"window\", \"hierarchy\", \"expand\"],\n\t\t\t\"collapse-overlap\": [\"object\", \"overlap\", \"wiondow\", \"hierarchy\", \"expand\"],\n\t\t\tutilization: [\"utilization\", \"evaluation\", \"usage\"],\n\t\t\t\"expand-utilization\": [\"utilization\", \"evaluation\", \"usage\", \"expand\", \"show\"],\n\t\t\ttrailer: [\"vehicle\", \"load\", \"cargo\", \"freight\", \"trailer\", \"street\", \"transportation\"],\n\t\t\t\"collapse-utilization\": [\"utilization\", \"evaluation\", \"usage\", \"collapse\", \"hide\"],\n\t\t\t\"container-closed\": [\"container\", \"cargo\", \"freight\"],\n\t\t\trailcar: [\"vehicle\", \"load\", \"cargo\", \"freight\", \"railway\", \"transportation\"],\n\t\t\twarehouse: [\"building\", \"warehouse\", \"industry\", \"repository\", \"depository\"],\n\t\t\tgoods: [\"beverage\", \"product\", \"goods\"],\n\t\t\tship: [\"vehicle\", \"load\", \"cargo\", \"freight\", \"shipment\", \"transportation\"],\n\t\t\t\"truck-driver\": [\"traffic\", \"logistics\", \"driver\", \"truck\", \"person\", \"vehicle\"],\n\t\t\t\"return-delivery\": [\"vehicle\", \"load\", \"cargo\", \"deposit\", \"depository\"],\n\t\t\t\"return-order\": [\"document\", \"order\", \"return\", \"money\", \"receipt\"],\n\t\t\tcontract: [\"document\", \"order\", \"contract\", \"deal\", \"agreement\"],\n\t\t\t\"business-partner\": [\"people\", \"partner\", \"collaboration\", \"business-partner\"],\n\t\t\t\"business-partner-verified\": [\"people\", \"partner\", \"collaboration\", \"business-partner\", \"verification\"],\n\t\t\t\"business-partner-anonymous\": [\"people\", \"partner\", \"collaboration\", \"business-partner\", \"anonymous\"],\n\t\t\t\"business-partner-self-identified\": [\"people\", \"partner\", \"collaboration\", \"business-partner\", \"favorite\"],\n\t\t\t\"money-withdrawal\": [\"money\", \"withdrawal\", \"moneybag\"],\n\t\t\t\"truck-load\": [\"vehicle\", \"load\", \"cargo\", \"freight\", \"truck\", \"street\"],\n\t\t\t\"truck-unload\": [\"vehicle\", \"unload\", \"deposit\", \"cargo\", \"freight\", \"truck\", \"street\"],\n\t\t\t\"truck-load-unload\": [\"vehicle\", \"load\", \"unload\", \"cargo\", \"freight\", \"truck\", \"street\"],\n\t\t\tpharmacy: [\"health\", \"medicine\", \"pharmacy\", \"making\"],\n\t\t\t\"medicine-syrup\": [\"health\", \"medicine\", \"pharmacy\", \"medication\", \"syrup\"],\n\t\t\treminder: [\"time\", \"reminder\", \"alarm\", \"timer\"],\n\t\t\t\"medicine-pill\": [\"health\", \"medicine\", \"pharmacy\", \"medication\", \"pills\"],\n\t\t\t\"medicine-ointment\": [\"health\", \"medicine\", \"pharmacy\", \"medication\", \"ointment\", \"salve\"],\n\t\t\t\"medicine-drops\": [\"health\", \"medicine\", \"pharmacy\", \"medication\", \"drops\", \"tincture\"],\n\t\t\t\"blood-test\": [\"health\", \"blood\", \"test\", \"examination\", \"diagnose\"],\n\t\t\ttemperature: [\"health\", \"temperature\", \"test\", \"examination\", \"diagnose\"],\n\t\t\t\"medicine-inhaler\": [\"health\", \"medicine\", \"pharmacy\", \"medication\", \"inhaler\"],\n\t\t\t\"foot-steps\": [\"human\", \"foot\", \"feet\", \"foot-prints\", \"steps\"],\n\t\t\tweight: [\"health\", \"weight\", \"test\", \"examination\", \"diagnose\"],\n\t\t\t\"health-tracking\": [\"health\", \"heart\", \"test\", \"examination\", \"diagnose\", \"heart-rate\", \"activity-tracker\"],\n\t\t\t\"blood-pressure\": [\"health\", \"blood\", \"blood-pressure\", \"test\", \"examination\", \"diagnose\"],\n\t\t\timmunization: [\"health\", \"medicine\", \"pharmacy\", \"immunization\", \"vaccination\", \"injection\"],\n\t\t\tallergies: [\"health\", \"allergies\", \"diagnose\"],\n\t\t\trescheduling2: [\"planning\", \"scheduling\", \"rescheduling\", \"time\", \"sequence\", \"steps\"],\n\t\t\tresequencing2: [\"planning\", \"scheduling\", \"resequencing\", \"time\", \"sequence\", \"steps\"],\n\t\t\t\"no-time-change\": [\"planning\", \"scheduling\", \"change\", \"time\", \"sequence\", \"steps\"],\n\t\t\t\"time-change\": [\"planning\", \"scheduling\", \"change-time\", \"time\", \"sequence\", \"steps\"],\n\t\t\t\"smart-matcher\": [\"people\", \"match\", \"agreement\"],\n\t\t\t\"parallel-sequence\": [\"planning\", \"scheduling\", \"process\", \"parallel\", \"sequence\", \"flow\"],\n\t\t\t\"alternative-sequence\": [\"planning\", \"scheduling\", \"process\", \"alternative-sequence\", \"flow\", \"decision\"],\n\t\t\t\"main-sequence\": [\"planning\", \"scheduling\", \"process\", \"main-sequence\", \"flow\"],\n\t\t\trefinery: [\"building\", \"factory\", \"warehouse\", \"industry\", \"production\"],\n\t\t\tterminal: [\"building\", \"terminal\", \"collecting-point\", \"reloading-point\", \"transshipment\"],\n\t\t\tvessel: [\"vehicle\", \"load\", \"cargo\", \"freight\", \"shipment\", \"vessel\", \"transportation\"],\n\t\t\tbarge: [\"vehicle\", \"load\", \"cargo\", \"freight\", \"shipment\", \"barge\", \"transportation\"],\n\t\t\troad: [\"vehicle\", \"load\", \"cargo\", \"freight\", \"truck\", \"street\", \"transportation\"],\n\t\t\tpipeline: [\"pipeline\", \"channel\", \"tube\", \"transportation\"],\n\t\t\tdelay: [\"time\", \"reminder\", \"timer\", \"delay\", \"warning\"],\n\t\t\t\"legal-section\": [\"document\", \"legal\", \"section\"],\n\t\t\tcauses: [\"analytics\", \"evaluation\", \"cog-wheel\", \"cause\"],\n\t\t\teffects: [\"analytics\", \"evaluation\", \"cog-wheel\", \"effects\"],\n\t\t\t\"shared-by-me\": [\"people\", \"team\", \"group\", \"shared\", \"deliver\"],\n\t\t\t\"shared-with-me\": [\"people\", \"team\", \"group\", \"shared\", \"received\"],\n\t\t\t\"main-milestone\": [\"planning\", \"goal\", \"milestone\", \"steps\"],\n\t\t\t\"indicator-groups\": [\"indicator\", \"groups\", \"status\", \"time\", \"folder\"],\n\t\t\t\"alert-groups\": [\"indicator\", \"groups\", \"alert\", \"status\", \"folder\"],\n\t\t\t\"function-alert\": [\"status\", \"function\", \"alert\"],\n\t\t\t\"function-hierarchy\": [\"status\", \"function\", \"hierarchy\"],\n\t\t\trfid: [\"device\", \"location\", \"indicator\", \"alert\"],\n\t\t\tinput: [\"actions\", \"arrow\", \"status\"],\n\t\t\t\"software-item\": [\"actions\", \"arrow\", \"status\"],\n\t\t\t\"product-view\": [\"actions\", \"arrow\", \"status\"],\n\t\t\t\"software-item-variant\": [\"actions\", \"arrow\", \"status\"],\n\t\t\tlighthouse: [\"status\", \"building\", \"things\", \"important\", \"highlight\", \"app\", \"light\"],\n\t\t\t\"demand-unit\": [\"people\", \"person\", \"circle\"]\n\t\t}\n\t}\n};\n\nexport type IconCollection = {\n\ttitle: string;\n\ticons: {\n\t\t[key: string]: string[];\n\t};\n};\n\nexport type Icons = {\n\t[key: string]: IconCollection;\n};\n"],"mappings":"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","ignoreList":[],"sourceRoot":"utils"}},{"offset":{"line":502,"column":0},"map":{"version":3,"file":"KeyUserPersonalization.js","names":["sap","ui","define","Log","BaseObject","Lib","HashChanger","FeaturesAPI","startKeyUserAdaptation","Container","EventHub","_catch","body","recover","result","e","then","KeyUserPersonalization","constructor","component","i18nBundle","super","this","on","do","adaptationCustomData","byId","getAggregation","adaptationData","getValue","JSON","parse","setValue","getRTAUserAction","_this","Promise","resolve","load","name","isKeyUser","rtaUserActionProperties","id","getId","icon","text","getText","tooltip","press","triggerRTA","error","Error","message","reject","_this2","_temp","rootControl","catch","getServiceAsync","URLParsingService","hashChangerInstance","getInstance","shellHash","parseShellHash","getHash","hashParams","params","rtaKey","value","Object","prototype","hasOwnProperty","call","replaceHash","constructShellHash","window","location","reload"],"sources":["KeyUserPersonalization.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\n\nimport ResourceBundle from \"sap/base/i18n/ResourceBundle\";\nimport Log from \"sap/base/Log\";\nimport BaseObject from \"sap/ui/base/Object\";\nimport CustomData from \"sap/ui/core/CustomData\";\nimport Lib from \"sap/ui/core/Lib\";\nimport HashChanger from \"sap/ui/core/routing/HashChanger\";\nimport UIComponent from \"sap/ui/core/UIComponent\";\nimport FeaturesAPI from \"sap/ui/fl/write/api/FeaturesAPI\";\nimport startKeyUserAdaptation from \"sap/ui/rta/api/startKeyUserAdaptation\";\nimport Container from \"sap/ushell/Container\";\nimport EventHub from \"sap/ushell/EventHub\";\nimport URLParsing from \"sap/ushell/services/URLParsing\";\nimport { UserActionProperties } from \"../Layout\";\n\nexport default class KeyUserPersonalization extends BaseObject {\n\tprivate component!: UIComponent | undefined;\n\tprivate i18nBundle!: ResourceBundle;\n\tprivate adaptationData!: object | string;\n\n\tconstructor(component: UIComponent | undefined, i18nBundle: ResourceBundle) {\n\t\tsuper();\n\n\t\tthis.component = component;\n\t\tthis.i18nBundle = i18nBundle;\n\n\t\tEventHub.on(\"keyUserAdaptationDataChange\").do(() => {\n\t\t\tconst adaptationCustomData = this.component?.byId(\"sectionWrapper\")?.getAggregation(\"adaptationData\") as CustomData;\n\t\t\tif (adaptationCustomData) {\n\t\t\t\tthis.adaptationData = adaptationCustomData.getValue() as object | string;\n\n\t\t\t\t// parse adaptation data if string\n\t\t\t\tif (typeof this.adaptationData === \"string\") {\n\t\t\t\t\tthis.adaptationData = JSON.parse(this.adaptationData) as object;\n\t\t\t\t\tadaptationCustomData.setValue(this.adaptationData);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\tpublic async getRTAUserAction(): Promise<UserActionProperties | undefined> {\n\t\ttry {\n\t\t\tawait Lib.load({ name: \"sap.ui.fl\" });\n\t\t\tconst isKeyUser = await FeaturesAPI.isKeyUser();\n\t\t\tlet rtaUserActionProperties: UserActionProperties | undefined;\n\n\t\t\tif (isKeyUser) {\n\t\t\t\trtaUserActionProperties = {\n\t\t\t\t\tid: `${this.component?.getId()}-s4MyHomeAdaptUIBtn`,\n\t\t\t\t\ticon: \"sap-icon://wrench\",\n\t\t\t\t\ttext: this.i18nBundle.getText(\"adaptUIBtn\") as string,\n\t\t\t\t\ttooltip: this.i18nBundle.getText(\"adaptUIBtn\") as string,\n\t\t\t\t\tpress: () => this.triggerRTA()\n\t\t\t\t};\n\t\t\t}\n\n\t\t\treturn Promise.resolve(rtaUserActionProperties);\n\t\t} catch (error: unknown) {\n\t\t\tLog.error(error instanceof Error ? error.message : (error as string));\n\t\t\treturn;\n\t\t}\n\t}\n\n\tprivate async triggerRTA() {\n\t\ttry {\n\t\t\tawait Lib.load({ name: \"sap.ui.fl\" });\n\t\t\tif (this.component) {\n\t\t\t\tstartKeyUserAdaptation({ rootControl: this.component }).catch(async () => {\n\t\t\t\t\tconst URLParsingService = await Container.getServiceAsync<URLParsing>(\"URLParsing\");\n\t\t\t\t\tconst hashChangerInstance = HashChanger.getInstance();\n\t\t\t\t\t//Trigger Manual Reload of Application in case of failure\n\t\t\t\t\tconst shellHash = URLParsingService.parseShellHash(hashChangerInstance.getHash());\n\t\t\t\t\tconst hashParams = (shellHash?.params || {}) as Record<string, unknown>;\n\t\t\t\t\tconst rtaKey = \"sap-ui-fl-max-layer\";\n\t\t\t\t\tconst value = \"CUSTOMER\";\n\n\t\t\t\t\tif (!Object.prototype.hasOwnProperty.call(hashParams, rtaKey)) {\n\t\t\t\t\t\thashParams[rtaKey] = value;\n\t\t\t\t\t\thashChangerInstance.replaceHash(URLParsingService.constructShellHash(shellHash), \"Unknown\");\n\t\t\t\t\t}\n\n\t\t\t\t\twindow.location.reload();\n\t\t\t\t});\n\t\t\t}\n\t\t} catch (error: unknown) {\n\t\t\tLog.error(error instanceof Error ? error.message : (error as string));\n\t\t\treturn;\n\t\t}\n\t}\n}\n"],"mappings":"AAAA;;;;AAAA,aAAAA,IAAAC,GAAAC,OAAA,0NAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,GAAA,aAkjBO,SAAAC,EAAgBC,EAAMC,GAC5B,IACC,IAAIC,EAASF,GACd,CAAE,MAAMG,GACP,OAAOF,EAAQE,EAChB,CACA,GAAID,GAAUA,EAAOE,KAAM,CAC1B,OAAOF,EAAOE,UAAU,EAAGH,EAC5B,CACA,OAAOC,CACR,CAziBe,MAAMG,UAA+Bb,EAKnDc,YAAYC,EAAoCC,GAC/CC,QAEAC,KAAKH,UAAYA,EACjBG,KAAKF,WAAaA,EAElBV,EAASa,GAAG,+BAA+BC,GAAG,KAC7C,MAAMC,EAAuBH,KAAKH,WAAWO,KAAK,mBAAmBC,eAAe,kBACpF,GAAIF,EAAsB,CACzBH,KAAKM,eAAiBH,EAAqBI,WAG3C,UAAWP,KAAKM,iBAAmB,SAAU,CAC5CN,KAAKM,eAAiBE,KAAKC,MAAMT,KAAKM,gBACtCH,EAAqBO,SAASV,KAAKM,eACpC,CACD,GAEF,CAEaK,mBAAgB,IAA8C,MAAAC,EAQhEZ,KAAI,OAAAa,QAAAC,QAAAzB,EAAA,WAPV,OAAAwB,QAAAC,QACG/B,EAAIgC,KAAK,CAAEC,KAAM,eAActB,KAAA,kBAAAmB,QAAAC,QACb7B,EAAYgC,aAAWvB,KAAA,SAAzCuB,GACN,IAAIC,EAEJ,GAAID,EAAW,CACdC,EAA0B,CACzBC,GAAI,GAAGP,EAAKf,WAAWuB,6BACvBC,KAAM,oBACNC,KAAMV,EAAKd,WAAWyB,QAAQ,cAC9BC,QAASZ,EAAKd,WAAWyB,QAAQ,cACjCE,MAAOA,IAAMb,EAAKc,aAEpB,CAEA,OAAOb,QAAQC,QAAQI,EAAyB,IACjD,EAAC,SAAQS,GACR9C,EAAI8C,MAAMA,aAAiBC,MAAQD,EAAME,QAAWF,EAErD,GACD,CAAC,MAAAlC,GAAA,OAAAoB,QAAAiB,OAAArC,EAAA,EAEaiC,aAAU,IAAG,MAAAK,EAGrB/B,KAAI,MAAAgC,EAAA3C,EAAA,WAFL,OAAAwB,QAAAC,QACG/B,EAAIgC,KAAK,CAAEC,KAAM,eAActB,KAAA,cACjCqC,EAAKlC,UAAS,CACjBX,EAAuB,CAAE+C,YAAaF,EAAKlC,YAAaqC,MAAK,eAAa,OAAArB,QAAAC,QACzC3B,EAAUgD,gBAA4B,eAAazC,KAAA,SAA7E0C,GACN,MAAMC,EAAsBrD,EAAYsD,cAExC,MAAMC,EAAYH,EAAkBI,eAAeH,EAAoBI,WACvE,MAAMC,EAAcH,GAAWI,QAAU,CAAC,EAC1C,MAAMC,EAAS,sBACf,MAAMC,EAAQ,WAEd,IAAKC,OAAOC,UAAUC,eAAeC,KAAKP,EAAYE,GAAS,CAC9DF,EAAWE,GAAUC,EACrBR,EAAoBa,YAAYd,EAAkBe,mBAAmBZ,GAAY,UAClF,CAEAa,OAAOC,SAASC,QAAS,EAC1B,CAAC,MAAA7D,GAAA,OAAAoB,QAAAiB,OAAArC,EAAA,GAAE,GAEL,EAAC,SAAQkC,GACR9C,EAAI8C,MAAMA,aAAiBC,MAAQD,EAAME,QAAWF,EAErD,GAAC,OAAAd,QAAAC,QAAAkB,KAAAtC,KAAAsC,EAAAtC,KAAA,qBACF,CAAC,MAAAD,GAAA,OAAAoB,QAAAiB,OAAArC,EAAA,GACD,OAAAE,CAAA","ignoreList":[],"sourceRoot":"utils"}},{"offset":{"line":509,"column":0},"map":{"version":3,"file":"PageManager.js","names":["sap","ui","define","BaseObject","EventBus","Config","Container","__ColorUtils","___Constants","___PagesIconsConstants","__UShellPersonalizer","_interopRequireDefault","obj","__esModule","default","ColorUtils","DEFAULT_BG_COLOR","FALLBACK_ICON","fnFetchLegendColor","MYHOME_SPACE_ID","PAGE_SELECTION_LIMIT","PAGES","SPACES","UShellPersonalizer","PageManager","extend","constructor","_constructor","persContainerId","oOwnerComponent","BaseObject.prototype.constructor.call","this","colorUtils","_eventBus","getInstance","_getPersonalization","fetchAllAvailableSpaces","_fetchAllAvailableSpaces","_this","_aSpaces","Promise","resolve","getServiceAsync","then","oBookmarkService","getContentNodes","_oBookmarkService$get","aSpaces","filter","oSpace","id","forEach","BGColor","applyColorToAllPages","e","reject","fetchAllAvailablePages","_fetchAllAvailablePages","bFetchDistinctPages","arguments","length","undefined","_this2","_aPages","Array","isArray","children","oPage","find","oExistingPage","push","title","label","icon","isIconLoaded","pageId","spaceId","spaceTitle","url","_getDefaultPages","aAvailablePages","aFavoritePages","slice","getFavPages","_getIconForPage","oFavPage","oIcon","includes","_applyIconsForFavPages","aFavPages","aPageWithoutIcon","_getFavPages","bUpdatePersonalisation","_this3","_temp4","selected","getFreeColor","addColor","_temp3","_temp2","oPersonalizer","read","oPersData","favouritePages","write","publish","_temp","_this3$_getPersonaliz","getFavoritePages","_getFavoritePages","bForceUpdate","bSpaceEnabled","encodeURIComponent","last","oGetFavPagesPromise","_getFavPages2","_this4","_this4$_getPersonaliz","_temp8","_temp7","_this4$_getDefaultPag","aPages","oAvailablePage","_temp6","_this4$getFavPages","_temp5","_this4$_getDefaultPag2","applyColorPersonalizations","_applyColorPersonalizations","personalizations","_this5","_temp10","allSpaces","personalization","isPagePersonalization","spaceObj","space","pageObj","page","colorObj","isSpacePersonalization","favPageObj","favPage","favpageBGColor","oldColor","pageBackgroundColor","_temp9","applyIconPersonalizations","_applyIconPersonalizations","_this6","_temp12","isSpaceIconPersonalization","isPageIconPersonalization","oldIcon","_temp11","oCacheInstances","pageManagerInstance"],"sources":["PageManager.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\n\nimport BaseObject from \"sap/ui/base/Object\";\nimport Component from \"sap/ui/core/Component\";\nimport EventBus from \"sap/ui/core/EventBus\";\nimport Config from \"sap/ushell/Config\";\nimport Container from \"sap/ushell/Container\";\nimport Bookmark from \"sap/ushell/services/BookmarkV2\";\nimport { ISpacePagePersonalization } from \"../interface/KeyUserInterface\";\nimport { IColor, IPage, ISpace } from \"../interface/PageSpaceInterface\";\nimport ColorUtils from \"./ColorUtils\";\nimport { DEFAULT_BG_COLOR, FALLBACK_ICON, fnFetchLegendColor, MYHOME_SPACE_ID, PAGE_SELECTION_LIMIT } from \"./Constants\";\nimport { PAGES, SPACES } from \"./PagesIconsConstants\";\nimport UShellPersonalizer from \"./UshellPersonalizer\";\n\n/**\n *\n * Provides the PageManager Class used for fetch and process user pages.\n *\n * @extends sap.ui.BaseObject\n *\n * @author SAP SE\n * @version 0.0.1\n * @since 1.121.0\n *\n * @private\n * @experimental Since 1.121\n * @hidden\n *\n * @alias sap.cux.home.utils.PageManager\n */\n\nexport default class PageManager extends BaseObject {\n\tcolorUtils: typeof ColorUtils = ColorUtils;\n\tpersContainerId: string;\n\toOwnerComponent: Component;\n\t_aSpaces!: ISpace[];\n\t_aPages!: IPage[];\n\taFavPages!: IPage[];\n\toPersonalizer!: UShellPersonalizer;\n\toGetFavPagesPromise!: Promise<IPage[]>;\n\tstatic oCacheInstances: { [key: string]: PageManager } = {};\n\tprivate _eventBus: EventBus;\n\tprivate constructor(persContainerId: string, oOwnerComponent: Component) {\n\t\tsuper();\n\t\tthis.persContainerId = persContainerId;\n\t\tthis.oOwnerComponent = oOwnerComponent;\n\t\tthis._eventBus = EventBus.getInstance();\n\t}\n\n\tstatic getInstance(persContainerId: string, oOwnerComponent: Component) {\n\t\tif (PageManager.oCacheInstances[persContainerId]) {\n\t\t\treturn PageManager.oCacheInstances[persContainerId];\n\t\t}\n\t\tconst pageManagerInstance = new PageManager(persContainerId, oOwnerComponent);\n\t\tPageManager.oCacheInstances[persContainerId] = pageManagerInstance;\n\t\treturn pageManagerInstance;\n\t}\n\n\tprivate _getPersonalization() {\n\t\treturn UShellPersonalizer.getInstance(this.persContainerId, this.oOwnerComponent);\n\t}\n\n\tpublic async fetchAllAvailableSpaces(): Promise<ISpace[]> {\n\t\tif (this._aSpaces) {\n\t\t\treturn Promise.resolve(this._aSpaces);\n\t\t}\n\t\tconst oBookmarkService: Bookmark = await Container.getServiceAsync(\"BookmarkV2\");\n\t\tconst aSpaces = (await oBookmarkService.getContentNodes()) as ISpace[];\n\t\t// Filter MyHome Space from Spaces\n\t\tthis._aSpaces = aSpaces.filter((oSpace) => oSpace.id !== MYHOME_SPACE_ID);\n\n\t\t// Add Initial Default Color for Spaces\n\t\tthis._aSpaces.forEach(function (oSpace) {\n\t\t\toSpace.BGColor = DEFAULT_BG_COLOR();\n\t\t\toSpace.applyColorToAllPages = false;\n\t\t});\n\n\t\treturn this._aSpaces;\n\t}\n\tpublic async fetchAllAvailablePages(bFetchDistinctPages: boolean = false): Promise<IPage[]> {\n\t\tif (this._aPages) {\n\t\t\treturn Promise.resolve(this._aPages);\n\t\t}\n\t\tconst aSpaces = await this.fetchAllAvailableSpaces();\n\t\tthis._aPages = [];\n\t\taSpaces.forEach((oSpace: ISpace) => {\n\t\t\tif (Array.isArray(oSpace.children)) {\n\t\t\t\toSpace.children.forEach((oPage: IPage) => {\n\t\t\t\t\tif (\n\t\t\t\t\t\t!bFetchDistinctPages ||\n\t\t\t\t\t\t(bFetchDistinctPages && !this._aPages.find((oExistingPage) => oExistingPage.id === oPage.id))\n\t\t\t\t\t) {\n\t\t\t\t\t\tthis._aPages.push({\n\t\t\t\t\t\t\ttitle: oPage.label,\n\t\t\t\t\t\t\ticon: FALLBACK_ICON,\n\t\t\t\t\t\t\tisIconLoaded: false,\n\t\t\t\t\t\t\tpageId: oPage.id,\n\t\t\t\t\t\t\tspaceId: oSpace.id,\n\t\t\t\t\t\t\tspaceTitle: oSpace.label,\n\t\t\t\t\t\t\turl: \"#Launchpad-openFLPPage?pageId=\" + oPage.id + \"&spaceId=\" + oSpace.id\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t\treturn this._aPages;\n\t}\n\tprivate _getDefaultPages(aAvailablePages: IPage[]): Promise<IPage[]> {\n\t\tconst aFavoritePages = aAvailablePages.slice(0, PAGE_SELECTION_LIMIT) || [];\n\t\treturn this.getFavPages(aFavoritePages);\n\t}\n\t// Get icons from icon constants file\n\tprivate _getIconForPage(oFavPage: IPage) {\n\t\t// Check for icon in page icon constants file\n\t\tlet oIcon = PAGES.find((oPage) => oFavPage.pageId?.includes(oPage.id));\n\n\t\tif (!oIcon) {\n\t\t\t// Check for icon in space icon constants file\n\t\t\toIcon = SPACES.find((oSpace) => oFavPage.spaceId?.includes(oSpace.id));\n\t\t}\n\n\t\toFavPage.icon = oIcon?.icon || FALLBACK_ICON;\n\t\toFavPage.isIconLoaded = true;\n\t}\n\tprivate _applyIconsForFavPages(aFavPages: IPage[]) {\n\t\tconst aPageWithoutIcon = aFavPages.filter((oPage) => !oPage.isIconLoaded);\n\t\taPageWithoutIcon.forEach((oPage: IPage) => {\n\t\t\tthis._getIconForPage(oPage);\n\t\t});\n\t}\n\tpublic async getFavPages(aFavPages: IPage[], bUpdatePersonalisation: boolean = false) {\n\t\taFavPages.forEach((oPage: IPage) => {\n\t\t\toPage.selected = true;\n\t\t\tif (!oPage.BGColor) {\n\t\t\t\toPage.BGColor = this.colorUtils.getFreeColor();\n\t\t\t} else {\n\t\t\t\tthis.colorUtils.addColor(oPage.BGColor as string);\n\t\t\t}\n\t\t});\n\n\t\t// Update the Personalisation model\n\t\tif (bUpdatePersonalisation) {\n\t\t\tif (!this.oPersonalizer) {\n\t\t\t\tthis.oPersonalizer = await this._getPersonalization();\n\t\t\t}\n\t\t\tlet oPersData = await this.oPersonalizer.read();\n\t\t\tif (!oPersData) oPersData = { favouritePages: [] };\n\t\t\toPersData.favouritePages = aFavPages;\n\t\t\tawait this.oPersonalizer.write(oPersData);\n\t\t\tthis._eventBus.publish(\"pageChannel\", \"pageUpdated\");\n\t\t}\n\n\t\t// Fetch and apply Icons for Favorite Pages\n\t\tif (aFavPages.length) {\n\t\t\tthis._applyIconsForFavPages(aFavPages);\n\t\t}\n\t\treturn aFavPages;\n\t}\n\tpublic getFavoritePages(bForceUpdate: boolean = false) {\n\t\t// eslint-disable-next-line @typescript-eslint/no-unsafe-argument\n\t\tconst bSpaceEnabled = encodeURIComponent(Config.last(\"/core/spaces/enabled\"));\n\t\tif (!bSpaceEnabled) {\n\t\t\treturn Promise.resolve([]);\n\t\t}\n\t\tif (this.aFavPages && !bForceUpdate) {\n\t\t\treturn Promise.resolve(this.aFavPages);\n\t\t}\n\t\tif (this.oGetFavPagesPromise === undefined) {\n\t\t\tthis.oGetFavPagesPromise = this._getFavPages(bForceUpdate);\n\t\t}\n\t\treturn this.oGetFavPagesPromise;\n\t}\n\n\tprivate async _getFavPages(bForceUpdate: boolean) {\n\t\tthis.oPersonalizer = await this._getPersonalization();\n\t\tconst oPersData = await this.oPersonalizer.read();\n\t\tconst aFavoritePages: IPage[] = oPersData?.favouritePages || [];\n\t\tconst aAvailablePages = await this.fetchAllAvailablePages(true);\n\t\t// Set first 8 available pages are favorite if no favorite page data is present\n\t\tif (!aFavoritePages.length) {\n\t\t\tthis.aFavPages = await this._getDefaultPages(aAvailablePages);\n\t\t} else {\n\t\t\tlet aPages: IPage[] = [],\n\t\t\t\toExistingPage;\n\t\t\taFavoritePages.forEach((oPage: IPage) => {\n\t\t\t\toExistingPage = aAvailablePages.find(function (oAvailablePage) {\n\t\t\t\t\treturn oAvailablePage.pageId === oPage.pageId;\n\t\t\t\t});\n\t\t\t\tif (oExistingPage) {\n\t\t\t\t\toExistingPage.BGColor = oPage.BGColor;\n\t\t\t\t\taPages.push(oExistingPage);\n\t\t\t\t}\n\t\t\t});\n\t\t\t// To send Maximum of 8 Pages (BCP incident: 2270169293)\n\t\t\taPages = aPages.slice(0, PAGE_SELECTION_LIMIT);\n\t\t\tif (aPages.length || !aFavoritePages.length) {\n\t\t\t\tthis.aFavPages = await this.getFavPages(aPages, aPages.length !== aFavoritePages.length || bForceUpdate);\n\t\t\t} else if (!aPages.length && aFavoritePages.length) {\n\t\t\t\t//Clean unaccessible page data\n\t\t\t\toPersData.favouritePages = [];\n\t\t\t\tawait this.oPersonalizer.write(oPersData);\n\t\t\t\tthis.aFavPages = await this._getDefaultPages(aAvailablePages);\n\t\t\t}\n\t\t}\n\t\treturn this.aFavPages;\n\t}\n\n\tpublic async applyColorPersonalizations(personalizations?: ISpacePagePersonalization[]) {\n\t\tif (!personalizations?.length) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (!this.aFavPages) {\n\t\t\tawait this.getFavoritePages();\n\t\t}\n\n\t\tconst allSpaces = await this.fetchAllAvailableSpaces();\n\n\t\tpersonalizations.forEach((personalization) => {\n\t\t\tconst isPagePersonalization = !!personalization.pageId;\n\t\t\tconst spaceObj = allSpaces?.find((space) => space.id === personalization.spaceId);\n\t\t\tconst pageObj = spaceObj?.children.find((page) => page.id === personalization.pageId);\n\t\t\tconst oPage = this.aFavPages.find((oPage) => oPage.pageId === personalization.pageId);\n\t\t\t// Update the Personalisation model for space\n\t\t\tif (!isPagePersonalization && spaceObj) {\n\t\t\t\tconst colorObj = fnFetchLegendColor(personalization.BGColor as string);\n\t\t\t\tspaceObj.BGColor = colorObj;\n\t\t\t\tspaceObj.applyColorToAllPages = personalization.applyColorToAllPages;\n\t\t\t\tspaceObj.isSpacePersonalization = true;\n\n\t\t\t\t// Update the color for all pages in the space if applied\n\t\t\t\tspaceObj.children.forEach((oPage) => {\n\t\t\t\t\tconst favPageObj = this.aFavPages.find((favPage) => favPage.pageId === oPage.id);\n\t\t\t\t\tif (favPageObj) {\n\t\t\t\t\t\tconst favpageBGColor = favPageObj.isPagePersonalization ? favPageObj.oldColor : DEFAULT_BG_COLOR();\n\t\t\t\t\t\tfavPageObj.BGColor = spaceObj.applyColorToAllPages ? personalization.BGColor : favpageBGColor;\n\t\t\t\t\t\toPage.BGColor = favPageObj.BGColor;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t} else if (pageObj && oPage) {\n\t\t\t\t// Update the Personalisation model for page\n\t\t\t\tconst pageBackgroundColor = spaceObj?.applyColorToAllPages\n\t\t\t\t\t? ({ ...spaceObj.BGColor } as IColor)\n\t\t\t\t\t: fnFetchLegendColor(personalization.BGColor as string);\n\t\t\t\toPage.isPagePersonalization = true;\n\t\t\t\tpageObj.isPagePersonalization = true;\n\t\t\t\toPage.BGColor = pageBackgroundColor;\n\t\t\t\tpageObj.BGColor = pageBackgroundColor;\n\t\t\t\toPage.oldColor = fnFetchLegendColor(personalization.BGColor as string);\n\t\t\t\tpageObj.oldColor = fnFetchLegendColor(personalization.BGColor as string);\n\t\t\t}\n\t\t});\n\n\t\tthis._eventBus.publish(\"pageChannel\", \"pageUpdated\");\n\t}\n\n\tpublic async applyIconPersonalizations(personalizations?: ISpacePagePersonalization[]) {\n\t\tif (!personalizations?.length) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (!this.aFavPages) {\n\t\t\tawait this._getFavPages(false);\n\t\t}\n\t\tconst allSpaces = await this.fetchAllAvailableSpaces();\n\n\t\tpersonalizations.forEach((personalization) => {\n\t\t\tconst isPagePersonalization = !!personalization.pageId;\n\t\t\tconst spaceObj = allSpaces?.find((space) => space.id === personalization.spaceId);\n\n\t\t\t// Update the Personalisation model for space\n\t\t\tif (!isPagePersonalization) {\n\t\t\t\tif (spaceObj) {\n\t\t\t\t\tspaceObj.icon = personalization.icon;\n\t\t\t\t\tspaceObj.isSpaceIconPersonalization = true;\n\n\t\t\t\t\t// Update the icon for all pages in the space if applied\n\t\t\t\t\tspaceObj.children.forEach((oPage) => {\n\t\t\t\t\t\tif (!oPage.isPageIconPersonalization) {\n\t\t\t\t\t\t\tconst favPageObj = this.aFavPages.find((favPage) => favPage.pageId === oPage.id);\n\t\t\t\t\t\t\tif (favPageObj) {\n\t\t\t\t\t\t\t\tfavPageObj.icon = spaceObj.icon || FALLBACK_ICON;\n\t\t\t\t\t\t\t\toPage.icon = spaceObj.icon || FALLBACK_ICON;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// Update the Personalisation model for page\n\t\t\t\tconst pageObj = spaceObj?.children.find((page) => page.id === personalization.pageId);\n\t\t\t\tconst oPage = this.aFavPages.find((oPage) => oPage.pageId === personalization.pageId);\n\t\t\t\tif (pageObj && oPage) {\n\t\t\t\t\toPage.isPageIconPersonalization = true;\n\t\t\t\t\tpageObj.isPageIconPersonalization = true;\n\t\t\t\t\toPage.icon = personalization.icon;\n\t\t\t\t\tpageObj.icon = personalization.icon;\n\t\t\t\t\toPage.oldIcon = personalization.oldIcon;\n\t\t\t\t\tpageObj.oldIcon = personalization.oldIcon;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tthis._eventBus.publish(\"pageChannel\", \"pageUpdated\");\n\t}\n}\n"],"mappings":"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","ignoreList":[],"sourceRoot":"utils"}},{"offset":{"line":516,"column":0},"map":{"version":3,"file":"PagesIconsConstants.js","names":["sap","ui","define","PAGES","id","title","icon","SPACES","__exports","__esModule"],"sources":["PagesIconsConstants.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\n\nexport const PAGES = [\n\t{\n\t\tid: \"SAP_FIN_PGT_AP_OVR_PC\",\n\t\ttitle: \"Overview\",\n\t\ticon: \"sap-icon://batch-payments\"\n\t},\n\t{\n\t\tid: \"SAP_FIN_PGT_AP_MGR_SETTING_PC\",\n\t\ttitle: \"Current Settings\",\n\t\ticon: \"sap-icon://BusinessSuiteInAppSymbols/icon-set-as-default\"\n\t},\n\t{\n\t\tid: \"SAP_FIN_PGT_AP_MGR_ANALYTIC_PC\",\n\t\ttitle: \"Analytics\",\n\t\ticon: \"sap-icon://business-objects-experience\"\n\t},\n\t{\n\t\tid: \"SAP_FIN_PGT_AP_PAYM_PC\",\n\t\ttitle: \"Payments\",\n\t\ticon: \"sap-icon://money-bills\"\n\t},\n\t{\n\t\tid: \"SAP_FIN_PGT_AP_PER_PC\",\n\t\ttitle: \"Periodic Activities\",\n\t\ticon: \"sap-icon://BusinessSuiteInAppSymbols/icon-event2\"\n\t},\n\t{\n\t\tid: \"SAP_FIN_PGT_AP_INV_PC\",\n\t\ttitle: \"Supplier Invoices\",\n\t\ticon: \"sap-icon://travel-expense-report\"\n\t},\n\t{\n\t\tid: \"SAP_FIN_PGT_AP_SUP_PC\",\n\t\ttitle: \"Suppliers\",\n\t\ticon: \"sap-icon://shipping-status\"\n\t},\n\t{\n\t\tid: \"SAP_FIN_PGT_AR_OVR_PC\",\n\t\ttitle: \"Overview\",\n\t\ticon: \"sap-icon://account\"\n\t},\n\t{\n\t\tid: \"SAP_FIN_PGT_AR_PAY_CLEAR_PC\",\n\t\ttitle: \"Payments and Clearing\",\n\t\ticon: \"sap-icon://simulate\"\n\t},\n\t{\n\t\tid: \"SAP_CORE_PGT_COM_PC\",\n\t\ttitle: \"Communication Management\",\n\t\ticon: \"sap-icon://key-user-settings\"\n\t},\n\t{\n\t\tid: \"SAP_CEC_PGT_MKT_CFG_PC\",\n\t\ttitle: \"Configuration\",\n\t\ticon: \"sap-icon://settings\"\n\t},\n\t{\n\t\tid: \"SAP_CEC_PGT_MKT_ADM_PC\",\n\t\ttitle: \"Data Management\",\n\t\ticon: \"sap-icon://kpi-managing-my-area\"\n\t},\n\t{\n\t\tid: \"SAP_CORE_PGT_DPP_PC\",\n\t\ttitle: \"Data Protection and Privacy\",\n\t\ticon: \"sap-icon://locked\"\n\t},\n\t{\n\t\tid: \"SAP_CORE_PGT_EMP_PC\",\n\t\ttitle: \"Employee Master Data\",\n\t\ticon: \"sap-icon://work-history\"\n\t},\n\t{\n\t\tid: \"SAP_CORE_PGT_EXT_PC\",\n\t\ttitle: \"Extensibility\",\n\t\ticon: \"sap-icon://expand-all\"\n\t},\n\t{\n\t\tid: \"SAP_CORE_PGT_IAM_PC\",\n\t\ttitle: \"Identity and Access Management\",\n\t\ticon: \"sap-icon://badge\"\n\t},\n\t{\n\t\tid: \"SAP_CORE_PGT_FLP_PC\",\n\t\ttitle: \"Launchpad\",\n\t\ticon: \"sap-icon://grid\"\n\t},\n\t{\n\t\tid: \"SAP_CORE_PGT_SEC_PC\",\n\t\ttitle: \"Security\",\n\t\ticon: \"sap-icon://shield\"\n\t},\n\t{\n\t\tid: \"SAP_CORE_PGT_TMC_PC\",\n\t\ttitle: \"Technical Monitoring\",\n\t\ticon: \"sap-icon://BusinessSuiteInAppSymbols/icon-indicator-groups\"\n\t},\n\t{\n\t\tid: \"SAP_CORE_PGT_CTS_PC\",\n\t\ttitle: \"Transport Management\",\n\t\ticon: \"sap-icon://BusinessSuiteInAppSymbols/icon-operator\"\n\t},\n\t{\n\t\tid: \"SAP_HCM_PGT_ADM_HRINFO_OVR_PC\",\n\t\ttitle: \"Overview\",\n\t\ticon: \"sap-icon://employee-pane\"\n\t},\n\t{\n\t\tid: \"SAP_FIN_PGT_CCONS_AUDITOR_CPROC_PC\",\n\t\ttitle: \"Consolidation Process\",\n\t\ticon: \"sap-icon://create-form\"\n\t},\n\t{\n\t\tid: \"SAP_FIN_PGT_CCONS_AUDITOR_MD_PC\",\n\t\ttitle: \"Master Data\",\n\t\ticon: \"sap-icon://filter-facets\"\n\t},\n\t{\n\t\tid: \"SAP_FIN_PGT_CCONS_AUDITOR_GREP_PC\",\n\t\ttitle: \"Group Reports\",\n\t\ticon: \"sap-icon://group-2\"\n\t},\n\t{\n\t\tid: \"SAP_FIN_PGT_CCONS_AUDITOR_SET_PC\",\n\t\ttitle: \"Settings\",\n\t\ticon: \"sap-icon://action-settings\"\n\t},\n\t{\n\t\tid: \"SAP_CEC_PGT_MKT_BAM_PC\",\n\t\ttitle: \"Business Data Analysis\",\n\t\ticon: \"sap-icon://BusinessSuiteInAppSymbols/icon-change-analysis\"\n\t},\n\t{\n\t\tid: \"SAP_MM_PGT_CNTRL_PURCH_OVR_PC\",\n\t\ttitle: \"Overview\",\n\t\ticon: \"sap-icon://BusinessSuiteInAppSymbols/icon-contract\"\n\t},\n\t{\n\t\tid: \"SAP_MM_PGT_CNTRL_SOURCING_PC\",\n\t\ttitle: \"Central Sourcing and Contracting\",\n\t\ticon: \"sap-icon://BusinessSuiteInAppSymbols/icon-contract\"\n\t},\n\t{\n\t\tid: \"SAP_MM_PGT_CNTRL_PURCHASING_PC\",\n\t\ttitle: \"Central Purchasing\",\n\t\ticon: \"sap-icon://BusinessSuiteInAppSymbols/icon-contract\"\n\t},\n\t{\n\t\tid: \"SAP_FIN_PGT_FICA_COLLSPEC_PC\",\n\t\ttitle: \"Overview\",\n\t\ticon: \"sap-icon://sap-box\"\n\t},\n\t{\n\t\tid: \"SAP_CEC_PGT_MKT_BPC_EXP_PC\",\n\t\ttitle: \"Configuration and Setup\",\n\t\ticon: \"sap-icon://action-settings\"\n\t},\n\t{\n\t\tid: \"SAP_CA_PGT_CONSENT_MGMT_PC\",\n\t\ttitle: \"Overview\",\n\t\ticon: \"sap-icon://customer-order-entry\"\n\t},\n\t{\n\t\tid: \"SAP_FIN_PGT_ICA_RECON_RUN_PC\",\n\t\ttitle: \"Overview\",\n\t\ticon: \"sap-icon://activity-individual\"\n\t},\n\t{\n\t\tid: \"SAP_FIN_PGT_FICA_RECONSPEC_PC\",\n\t\ttitle: \"Reconciliation\",\n\t\ticon: \"sap-icon://accept\"\n\t},\n\t{\n\t\tid: \"SAP_CINV_PGT_SPECIALIST_PC\",\n\t\ttitle: \"Overview\",\n\t\ticon: \"sap-icon://receipt\"\n\t},\n\t{\n\t\tid: \"SAP_CINV_PGT_ADMIN_PC\",\n\t\ttitle: \"Overview\",\n\t\ticon: \"sap-icon://my-sales-order\"\n\t},\n\t{\n\t\tid: \"SAP_FIN_PGT_CR_OVR_PC\",\n\t\ttitle: \"Overview\",\n\t\ticon: \"sap-icon://accounting-document-verification\"\n\t},\n\t{\n\t\tid: \"SAP_FIN_PGT_CR_ACC_PC\",\n\t\ttitle: \"Credit Accounts\",\n\t\ticon: \"sap-icon://accounting-document-verification\"\n\t},\n\t{\n\t\tid: \"SAP_SD_PGT_CR_PROC_PC\",\n\t\ttitle: \"Overview\",\n\t\ticon: \"sap-icon://BusinessSuiteInAppSymbols/icon-return-order\"\n\t},\n\t{\n\t\tid: \"SAP_PSS_PGT_DG_OVR_PC\",\n\t\ttitle: \"Overview\",\n\t\ticon: \"sap-icon://alert\"\n\t},\n\t{\n\t\tid: \"SAP_CA_PGT_MIG_PC\",\n\t\ttitle: \"Configuration - Data Migration\",\n\t\ticon: \"sap-icon://combine\"\n\t},\n\t{\n\t\tid: \"SAP_FIN_PGT_FICA_DPSPEC_PC\",\n\t\ttitle: \"Overview\",\n\t\ticon: \"sap-icon://shield\"\n\t},\n\t{\n\t\tid: \"SAP_CMD_PGT_QLTY_BUPA_OVR_PC\",\n\t\ttitle: \"Overview\",\n\t\ticon: \"sap-icon://BusinessSuiteInAppSymbols/icon-control-group\"\n\t},\n\t{\n\t\tid: \"SAP_CMD_PGT_QLTY_PROD_OVR_PC\",\n\t\ttitle: \"Overview\",\n\t\ticon: \"sap-icon://BusinessSuiteInAppSymbols/icon-review-supplies\"\n\t},\n\t{\n\t\tid: \"SAP_FIN_PGT_DIVISION_OVR_PC\",\n\t\ttitle: \"Overview\",\n\t\ticon: \"sap-icon://BusinessSuiteInAppSymbols/icon-split-segmentation\"\n\t},\n\t{\n\t\tid: \"SAP_PLM_PGT_DESIGN_OVR_PC\",\n\t\ttitle: \"Overview\",\n\t\ticon: \"sap-icon://course-program\"\n\t},\n\t{\n\t\tid: \"SAP_LCM_PGT_LEGAL_CONTENT_PC\",\n\t\ttitle: \"Overview\",\n\t\ticon: \"sap-icon://BusinessSuiteInAppSymbols/icon-event\"\n\t},\n\t{\n\t\tid: \"SAP_LCM_PGT_ADMINISTRATION_PC\",\n\t\ttitle: \"Overview\",\n\t\ticon: \"sap-icon://manager\"\n\t},\n\t{\n\t\tid: \"SAP_EHS_PGT_ENV_MGM_PC\",\n\t\ttitle: \"Overview\",\n\t\ticon: \"sap-icon://e-care\"\n\t},\n\t{\n\t\tid: \"SAP_OIL_PGT_FLOG_SUPLRITEM_PC\",\n\t\ttitle: \"?\",\n\t\ticon: \"sap-icon://BusinessSuiteInAppSymbols/icon-truck-driver\"\n\t},\n\t{\n\t\tid: \"SAP_FIN_PGT_GL_OVR_PC\",\n\t\ttitle: \"Overview\",\n\t\ticon: \"sap-icon://activity-items\"\n\t},\n\t{\n\t\tid: \"SAP_FIN_PGT_GL_DOC_ENTRY_PC\",\n\t\ttitle: \"Journal Entries\",\n\t\ticon: \"sap-icon://education\"\n\t},\n\t{\n\t\tid: \"SAP_FIN_PGT_GL_PERIODIC_PC\",\n\t\ttitle: \"Periodic Activities\",\n\t\ticon: \"sap-icon://BusinessSuiteInAppSymbols/icon-event2\"\n\t},\n\t{\n\t\tid: \"SAP_FIN_PGT_GL_REP_COA_PC\",\n\t\ttitle: \"Reporting and Chart of Accounts\",\n\t\ticon: \"sap-icon://chart-table-view\"\n\t},\n\t{\n\t\tid: \"SAP_FIN_PGT_GL_TX_DCL_PC\",\n\t\ttitle: \"Tax Declaration\",\n\t\ticon: \"sap-icon://accounting-document-verification\"\n\t},\n\t{\n\t\tid: \"SAP_PSM_PGT_GM_GR_OVR_PC\",\n\t\ttitle: \"Overview\",\n\t\ticon: \"sap-icon://loan\"\n\t},\n\t{\n\t\tid: \"SAP_PSM_PGT_GM_GR_OVR_PC\",\n\t\ttitle: \"Budget Maintenance and Execution\",\n\t\ticon: \"sap-icon://loan\"\n\t},\n\t{\n\t\tid: \"SAP_S4CRM_PGT_REPA_MGR_PC\",\n\t\ttitle: \"Overview\",\n\t\ticon: \"sap-icon://technical-object\"\n\t},\n\t{\n\t\tid: \"SAP_EHS_PGT_INC_MGMT_PC\",\n\t\ttitle: \"Health and Safety\",\n\t\ticon: \"sap-icon://incident\"\n\t},\n\t{\n\t\tid: \"SAP_FIN_PGT_ICA_RECON_RUN_PC\",\n\t\ttitle: \"Overview\",\n\t\ticon: \"sap-icon://compare-2\"\n\t},\n\t{\n\t\tid: \"SAP_SD_PGT_SO_PROC_PS_PC\",\n\t\ttitle: \"Sales Processing\",\n\t\ticon: \"sap-icon://capital-projects\"\n\t},\n\t{\n\t\tid: \"SAP_SLL_PGT_ADMIN_OVR_PC\",\n\t\ttitle: \"Overview\",\n\t\ticon: \"sap-icon://globe\"\n\t},\n\t{\n\t\tid: \"SAP_SLL_PGT_TRD_CLS_OVR_PC\",\n\t\ttitle: \"Overview\",\n\t\ticon: \"sap-icon://internet-browser\"\n\t},\n\t{\n\t\tid: \"SAP_SLL_PGT_TRD_CMPLNC_OVR_PC\",\n\t\ttitle: \"Overview\",\n\t\ticon: \"sap-icon://home-share\"\n\t},\n\t{\n\t\tid: \"SAP_SLL_PGT_INTRASTAT_OVR_PC\",\n\t\ttitle: \"Overview\",\n\t\ticon: \"sap-icon://simple-payment\"\n\t},\n\t{\n\t\tid: \"SAP_FIN_PGT_IA_INSIGHTS_PC\",\n\t\ttitle: \"Inventory Accounting\",\n\t\ticon: \"sap-icon://multi-select\"\n\t},\n\t{\n\t\tid: \"SAP_MM_PGT_IM_ANALYSIS_PC\",\n\t\ttitle: \"Overview\",\n\t\ticon: \"sap-icon://customer-and-supplier\"\n\t},\n\t{\n\t\tid: \"SAP_LO_PGT_HUM_INV_OVR_PC\",\n\t\ttitle: \"Handling Units in Inventory\",\n\t\ticon: \"sap-icon://customer-and-supplier\"\n\t},\n\t{\n\t\tid: \"SAP_RFM_PGT_IM_PROCESS_PC\",\n\t\ttitle: \"Overview\",\n\t\ticon: \"sap-icon://supplier\"\n\t},\n\t{\n\t\tid: \"SAP_LO_PGT_HUM_REM_OVR_PC\",\n\t\ttitle: \"Handling Units in Production\",\n\t\ticon: \"sap-icon://supplier\"\n\t},\n\t{\n\t\tid: \"SAP_FIN_PGT_JVA_OVR_PC\",\n\t\ttitle: \"Overview\",\n\t\ticon: \"sap-icon://BusinessSuiteInAppSymbols/icon-intersection\"\n\t},\n\t{\n\t\tid: \"SAP_FIN_PGT_JVA_MD_PC\",\n\t\ttitle: \"Master Data\",\n\t\ticon: \"sap-icon://save\"\n\t},\n\t{\n\t\tid: \"SAP_FIN_PGT_JVA_JE_PC\",\n\t\ttitle: \"Journal Entries\",\n\t\ticon: \"sap-icon://education\"\n\t},\n\t{\n\t\tid: \"SAP_FIN_PGT_JVA_PA_PC\",\n\t\ttitle: \"Periodic Activities\",\n\t\ticon: \"sap-icon://BusinessSuiteInAppSymbols/icon-event2\"\n\t},\n\t{\n\t\tid: \"SAP_FIN_PGT_JVA_REP_PC\",\n\t\ttitle: \"Reporting\",\n\t\ticon: \"sap-icon://table-view\"\n\t},\n\t{\n\t\tid: \"SAP_LE_PGT_JITMD_PC\",\n\t\ttitle: \"Overview\",\n\t\ticon: \"sap-icon://timesheet\"\n\t},\n\t{\n\t\tid: \"SAP_LE_PGT_JITMPLNR_PC\",\n\t\ttitle: \"Overview\",\n\t\ticon: \"sap-icon://create-entry-time\"\n\t},\n\t{\n\t\tid: \"SAP_SCM_PGT_PRODN_OPTR_LEAN_OVR_PC\",\n\t\ttitle: \"Kanban Overview\",\n\t\ticon: \"sap-icon://factory\"\n\t},\n\t{\n\t\tid: \"SAP_SCM_PGT_SUPERVISOR_LEAN_OVR_PC\",\n\t\ttitle: \"Overview\",\n\t\ticon: \"sap-icon://factory\"\n\t},\n\t{\n\t\tid: \"SAP_EAM_PGT_MT_OVR_MW_MC\",\n\t\ttitle: \"Overview\",\n\t\ticon: \"sap-icon://wrench\"\n\t},\n\t{\n\t\tid: \"SAP_EAM_PGT_MP_OVR_MC\",\n\t\ttitle: \"Overview\",\n\t\ticon: \"sap-icon://add-equipment\"\n\t},\n\t{\n\t\tid: \"SAP_EAM_PGT_MP_MD_PC\",\n\t\ttitle: \"Master Data\",\n\t\ticon: \"sap-icon://add-equipment\"\n\t},\n\t{\n\t\tid: \"SAP_EAM_PGT_MNT_SUP_OVR_PC\",\n\t\ttitle: \"Overview\",\n\t\ticon: \"sap-icon://technical-object\"\n\t},\n\t{\n\t\tid: \"SAP_EAM_PGT_MNT_SUP_MD_PC\",\n\t\ttitle: \"Master Data\",\n\t\ticon: \"sap-icon://technical-object\"\n\t},\n\t{\n\t\tid: \"SAP_EHS_PGT_MOC_CRDTR_PC\",\n\t\ttitle: \"Management of Change\",\n\t\ticon: \"sap-icon://BusinessSuiteInAppSymbols/icon-unsaved-changes\"\n\t},\n\t{\n\t\tid: \"SAP_CEC_PGT_MKT_EXP_PC\",\n\t\ttitle: \"Marketing\",\n\t\ticon: \"sap-icon://marketing-campaign\"\n\t},\n\t{\n\t\tid: \"SAP_CEC_PGT_MKT_MGR_PC\",\n\t\ttitle: \"Marketing Management\",\n\t\ticon: \"sap-icon://manager-insight\"\n\t},\n\t{\n\t\tid: \"SAP_CDM_PGT_BP_MAINT_PC\",\n\t\ttitle: \"Overview\",\n\t\ticon: \"sap-icon://save\"\n\t},\n\t{\n\t\tid: \"SAP_CMD_PGT_CA_DATA_REP_PC\",\n\t\ttitle: \"Overview\",\n\t\ticon: \"sap-icon://copy\"\n\t},\n\t{\n\t\tid: \"SAP_OIL_PGT_PVOL_PC\",\n\t\ttitle: \"Production Measurements\",\n\t\ticon: \"sap-icon://BusinessSuiteInAppSymbols/icon-gas\"\n\t},\n\t{\n\t\tid: \"SAP_SCM_PGT_OFS_RECRRG_ACTIES_PC\",\n\t\ttitle: \"Recurring Activities\",\n\t\ticon: \"sap-icon://BusinessSuiteInAppSymbols/icon-container-loading\"\n\t},\n\t{\n\t\tid: \"SAP_SCM_PGT_OFM_OCCSNL_ACTIES_PC\",\n\t\ttitle: \"Occasional Activities\",\n\t\ticon: \"sap-icon://enter-more\"\n\t},\n\t{\n\t\tid: \"SAP_SCM_PGT_OFM_RECRRG_ACTIES_PC\",\n\t\ttitle: \"Recurring Activities\",\n\t\ticon: \"sap-icon://refresh\"\n\t},\n\t{\n\t\tid: \"SAP_LO_PGT_PLANTMANAGMT_MC\",\n\t\ttitle: \"Overview\",\n\t\ticon: \"sap-icon://BusinessSuiteInAppSymbols/icon-operator\"\n\t},\n\t{\n\t\tid: \"SAP_PSS_PGT_PRODSTWRD_SPLST_PC\",\n\t\ttitle: \"Overview\",\n\t\ticon: \"sap-icon://BusinessSuiteInAppSymbols/icon-approved\"\n\t},\n\t{\n\t\tid: \"SAP_PSS_PGT_MD_SPECIALIST_PC\",\n\t\ttitle: \"Overview\",\n\t\ticon: \"sap-icon://permission\"\n\t},\n\t{\n\t\tid: \"SAP_SCM_PGT_SUPERVISOR_RPTV_OVR_PC\",\n\t\ttitle: \"Overview\",\n\t\ticon: \"sap-icon://BusinessSuiteInAppSymbols/icon-table-chart-customization\"\n\t},\n\t{\n\t\tid: \"SAP_SCM_PGT_PRODNENG_DISC_ANLYTS_PC\",\n\t\ttitle: \"Execution Analytics\",\n\t\ticon: \"sap-icon://BusinessSuiteInAppSymbols/icon-multiple-charts\"\n\t},\n\t{\n\t\tid: \"SAP_SCM_PGT_PRODN_ENG_DISC_TOOLS_PC\",\n\t\ttitle: \"Miscellaneous Tools\",\n\t\ticon: \"sap-icon://machine\"\n\t},\n\t{\n\t\tid: \"SAP_SCM_PGT_PRODN_ENG_DISC_PC\",\n\t\ttitle: \"Routing Management\",\n\t\ticon: \"sap-icon://BusinessSuiteInAppSymbols/icon-gis-layer\"\n\t},\n\t{\n\t\tid: \"SAP_SCM_PGT_PRODN_ENG_PROC_PC\",\n\t\ttitle: \"Master Recipe Management\",\n\t\ticon: \"sap-icon://process\"\n\t},\n\t{\n\t\tid: \"SAP_SCM_PGT_PRODN_OPTR_RPTV_OVR_PC\",\n\t\ttitle: \"Overview\",\n\t\ticon: \"sap-icon://BusinessSuiteInAppSymbols/icon-production\"\n\t},\n\t{\n\t\tid: \"SAP_SCM_PGT_DDMRP_PC\",\n\t\ttitle: \"Demand-Driven Replenishment\",\n\t\ticon: \"sap-icon://cause\"\n\t},\n\t{\n\t\tid: \"SAP_SCM_PGT_PMRP_PC\",\n\t\ttitle: \"Long-Term Planning\",\n\t\ticon: \"sap-icon://BusinessSuiteInAppSymbols/icon-year\"\n\t},\n\t{\n\t\tid: \"SAP_SCM_PGT_PRODN_PLNG_PC\",\n\t\ttitle: \"Material Planning\",\n\t\ticon: \"sap-icon://excel-attachment\"\n\t},\n\t{\n\t\tid: \"SAP_PS_PGT_PROJ_BILLING_PC\",\n\t\ttitle: \"Project Billing - Overview\",\n\t\ticon: \"sap-icon://receipt\"\n\t},\n\t{\n\t\tid: \"SAP_PPM_PGT_PROJ_MGMT_OVR_PC\",\n\t\ttitle: \"Overview\",\n\t\ticon: \"sap-icon://manager\"\n\t},\n\t{\n\t\tid: \"SAP_CPM_PGT_PROJ_MANAGE_COMM_PC\",\n\t\ttitle: \"Overview\",\n\t\ticon: \"sap-icon://BusinessSuiteInAppSymbols/icon-line-bar-chart\"\n\t},\n\t{\n\t\tid: \"SAP_PPM_PGT_PROJSTEER_COM_OVR_PC\",\n\t\ttitle: \"Overview\",\n\t\ticon: \"sap-icon://BusinessSuiteInAppSymbols/icon-demand-unit\"\n\t},\n\t{\n\t\tid: \"SAP_LE_PGT_ID_OVR_PC\",\n\t\ttitle: \"Overview\",\n\t\ticon: \"sap-icon://BusinessSuiteInAppSymbols/icon-shared-with-me\"\n\t},\n\t{\n\t\tid: \"SAP_PLM_PGT_RD_RECIPE_PC\",\n\t\ttitle: \"Overview\",\n\t\ticon: \"sap-icon://BusinessSuiteInAppSymbols/icon-recipe\"\n\t},\n\t{\n\t\tid: \"SAP_PLM_PGT_RCP_ADMIN_PC\",\n\t\ttitle: \"Overview\",\n\t\ticon: \"sap-icon://BusinessSuiteInAppSymbols/icon-top-recipe\"\n\t},\n\t{\n\t\tid: \"SAP_SERV_PGT_RECUR_SRVC_PC\",\n\t\ttitle: \"Overview\",\n\t\ticon: \"sap-icon://synchronize\"\n\t},\n\t{\n\t\tid: \"SAP_CA_PGT_RSH_RES_MNG_PC\",\n\t\ttitle: \"Resource Management for Projects\",\n\t\ticon: \"sap-icon://employee-approvals\"\n\t},\n\t{\n\t\tid: \"SAP_FIN_PGT_FARR_ADMIN_PC\",\n\t\ttitle: \"Overview\",\n\t\ticon: \"sap-icon://expense-report\"\n\t},\n\t{\n\t\tid: \"SAP_FIN_PGT_FARR_RCM_PC\",\n\t\ttitle: \"Revenue Contracts_\",\n\t\ticon: \"sap-icon://sales-document\"\n\t},\n\t{\n\t\tid: \"SAP_FIN_PGT_FARR_ADMIN_PC\",\n\t\ttitle: \"Overview\",\n\t\ticon: \"sap-icon://opportunities\"\n\t},\n\t{\n\t\tid: \"SAP_FIN_PGT_SA_OVR_PC\",\n\t\ttitle: \"Overview\",\n\t\ticon: \"sap-icon://BusinessSuiteInAppSymbols/icon-coins\"\n\t},\n\t{\n\t\tid: \"SAP_FIN_PGT_RECM_SBR_NOTIF_PC\",\n\t\ttitle: \"Overview\",\n\t\ticon: \"sap-icon://trip-report\"\n\t},\n\t{\n\t\tid: \"SAP_S4CRM_PGT_SRVC_MGR_PC\",\n\t\ttitle: \"Overview\",\n\t\ticon: \"sap-icon://BusinessSuiteInAppSymbols/icon-call-center\"\n\t},\n\t{\n\t\tid: \"SAP_S4CRM_PGT_SRVC_TEC_PC\",\n\t\ttitle: \"Overview\",\n\t\ticon: \"sap-icon://keyboard-and-mouse\"\n\t},\n\t{\n\t\tid: \"SAP_LE_PGT_OD_OVR_PC\",\n\t\ttitle: \"Overview\",\n\t\ticon: \"sap-icon://BusinessSuiteInAppSymbols/icon-ship\"\n\t},\n\t{\n\t\tid: \"SAP_PLM_PGT_SYSTEMS_ENGINEER_PC\",\n\t\ttitle: \"Overview\",\n\t\ticon: \"sap-icon://BusinessSuiteInAppSymbols/icon-software-item\"\n\t},\n\t{\n\t\tid: \"SAP_S4CRM_PGT_SOLN_ORD_MANAGE_PC\",\n\t\ttitle: \"Overview\",\n\t\ticon: \"sap-icon://order-status\"\n\t},\n\t{\n\t\tid: \"SAP_TM_PGT_TRANSP_PC\",\n\t\ttitle: \"Overview\",\n\t\ticon: \"sap-icon://bus-public-transport\"\n\t},\n\t{\n\t\tid: \"SAP_FIN_PGT_TRM_OVR_PC\",\n\t\ttitle: \"Overview\",\n\t\ticon: \"sap-icon://BusinessSuiteInAppSymbols/icon-bank-account\"\n\t},\n\t{\n\t\tid: \"SAP_FIN_PGT_TRM_ACCT_OVR_PC\",\n\t\ttitle: \"Overview\",\n\t\ticon: \"sap-icon://BusinessSuiteInAppSymbols/icon-bank-account\"\n\t},\n\t{\n\t\tid: \"SAP_FIN_PGT_TRM_BOE_OVR_PC\",\n\t\ttitle: \"Overview\",\n\t\ticon: \"sap-icon://BusinessSuiteInAppSymbols/icon-bank-account\"\n\t},\n\t{\n\t\tid: \"SAP_FIN_PGT_TRM_FOE_OVR_PC\",\n\t\ttitle: \"Overview\",\n\t\ticon: \"sap-icon://BusinessSuiteInAppSymbols/icon-bank-account\"\n\t},\n\t{\n\t\tid: \"SAP_FIN_PGT_TRM_MOE_OVR_PC\",\n\t\ttitle: \"Overview\",\n\t\ticon: \"sap-icon://BusinessSuiteInAppSymbols/icon-bank-account\"\n\t},\n\t{\n\t\tid: \"SAP_LO_PGT_VC_MODELING_PC\",\n\t\ttitle: \"Overview\",\n\t\ticon: \"sap-icon://customize\"\n\t},\n\t{\n\t\tid: \"SAP_SCM_PGT_EWM_WHSE_PROC_OP_PC\",\n\t\ttitle: \"Warehouse Processing\",\n\t\ticon: \"sap-icon://BusinessSuiteInAppSymbols/icon-warehouse\"\n\t},\n\t{\n\t\tid: \"SAP_SCM_PGT_EWM_WHSE_PHY_INV_PC\",\n\t\ttitle: \"Physical Inventory\",\n\t\ticon: \"sap-icon://BusinessSuiteInAppSymbols/icon-products\"\n\t},\n\t{\n\t\tid: \"SAP_SCM_PGT_EWM_WHSE_PROC_PC\",\n\t\ttitle: \"Warehouse Processing\",\n\t\ticon: \"sap-icon://BusinessSuiteInAppSymbols/icon-forklift\"\n\t},\n\t{\n\t\tid: \"SAP_SCM_PGT_EWM_WHSE_SETUP_PC\",\n\t\ttitle: \"Warehouse Setup\",\n\t\ticon: \"sap-icon://BusinessSuiteInAppSymbols/icon-warehouse\"\n\t}\n];\n\nexport const SPACES = [\n\t{\n\t\ttitle: \"Accounts Payable - Leasing\",\n\t\tid: \"SAP_BR_RECM_AP_ACCOUNTANT\",\n\t\ticon: \"sap-icon://batch-payments\"\n\t},\n\t{\n\t\ttitle: \"Accounts Receivable Leasing\",\n\t\tid: \"SAP_BR_RECM_AR_ACCOUNTANT\",\n\t\ticon: \"sap-icon://account\"\n\t},\n\t{\n\t\ttitle: \"Billing\",\n\t\tid: \"SAP_BR_BILLING_CLERK\",\n\t\ticon: \"sap-icon://payment-approval\"\n\t},\n\t{\n\t\ttitle: \"Business Partner\",\n\t\tid: \"SAP_BR_BUPA_MASTER_SPECIALIST\",\n\t\ticon: \"sap-icon://BusinessSuiteInAppSymbols/icon-business-partner\"\n\t},\n\t{\n\t\ttitle: \"Cash Management\",\n\t\tid: \"SAP_BR_CASH_SPECIALIST\",\n\t\ticon: \"sap-icon://monitor-payments\"\n\t},\n\t{\n\t\ttitle: \"Discrete Manufacturing Execution\",\n\t\tid: \"SAP_BR_PRODN_OPTR_DISC\",\n\t\ticon: \"sap-icon://locked\"\n\t},\n\t{\n\t\ttitle: \"Field Logistics - Returns\",\n\t\tid: \"SAP_BR_WAREHOUSE_CLERK_IOG\",\n\t\ticon: \"sap-icon://BusinessSuiteInAppSymbols/icon-return-delivery\"\n\t},\n\t{\n\t\ttitle: \"Fixed Assets\",\n\t\tid: \"SAP_BR_AA_ACCOUNTANT\",\n\t\ticon: \"sap-icon://capital-projects\"\n\t},\n\t{\n\t\ttitle: \"Group Reporting\",\n\t\tid: \"SAP_BR_GL_ACCOUNTANT_GRP\",\n\t\ticon: \"sap-icon://documents\"\n\t},\n\t{\n\t\ttitle: \"Internal Sales\",\n\t\tid: \"SAP_BR_INTERNAL_SALES_REP\",\n\t\ticon: \"sap-icon://collections-insight\"\n\t},\n\t{\n\t\ttitle: \"Inventory Management\",\n\t\tid: \"SAP_BR_INVENTORY_MANAGER\",\n\t\ticon: \"sap-icon://customer-and-supplier\"\n\t},\n\t{\n\t\ttitle: \"Just-In-Time Shipping\",\n\t\tid: \"SAP_BR_SHIP_SPECIALIST_JIT\",\n\t\ticon: \"sap-icon://instance\"\n\t},\n\t{\n\t\ttitle: \"Lean Manufacturing Planning\",\n\t\tid: \"SAP_BR_PRODN_PLNR_LEAN_MFG\",\n\t\ticon: \"sap-icon://factory\"\n\t},\n\t{\n\t\ttitle: \"Material Planning - External Procurement\",\n\t\tid: \"SAP_BR_MATL_PLNR_EXT_PROC\",\n\t\ticon: \"sap-icon://excel-attachment\"\n\t},\n\t{\n\t\ttitle: \"Operational Purchasing\",\n\t\tid: \"SAP_MM_SPT_PURCHASING_PC\",\n\t\ticon: \"sap-icon://credit-card\"\n\t},\n\t{\n\t\ttitle: \"Order BOM Management\",\n\t\tid: \"SAP_BR_BOM_ENG_CUST_ORDER\",\n\t\ticon: \"sap-icon://crm-service-manager\"\n\t},\n\t{\n\t\ttitle: \"Overhead Accounting\",\n\t\tid: \"SAP_BR_OVERHEAD_ACCOUNTANT\",\n\t\ticon: \"sap-icon://activity-individual\"\n\t},\n\t{\n\t\ttitle: \"Price Management\",\n\t\tid: \"SAP_BR_PRICING_SPECIALIST\",\n\t\ticon: \"sap-icon://customer-financial-fact-sheet\"\n\t},\n\t{\n\t\ttitle: \"Process Manufacturing Execution\",\n\t\tid: \"SAP_BR_PRODN_OPTR_PROC\",\n\t\ticon: \"sap-icon://process\"\n\t},\n\t{\n\t\ttitle: \"Process Manufacturing Execution Management\",\n\t\tid: \"SAP_BR_PRODN_SUPERVISOR_PROC\",\n\t\ticon: \"sap-icon://supplier\"\n\t},\n\t{\n\t\ttitle: \"Product\",\n\t\tid: \"SAP_BR_MD_SPCLST_ITEM_RFM\",\n\t\ticon: \"sap-icon://product\"\n\t},\n\t{\n\t\ttitle: \"Project Control - Financials\",\n\t\tid: \"SAP_BR_PROJ_FIN_CONTROLLER\",\n\t\ticon: \"sap-icon://accounting-document-verification\"\n\t},\n\t{\n\t\ttitle: \"Quality Engineering\",\n\t\tid: \"SAP_BR_QUALITY_ENGINEER\",\n\t\ticon: \"sap-icon://wrench\"\n\t},\n\t{\n\t\ttitle: \"Sales Management\",\n\t\tid: \"SAP_BR_SALES_MANAGER\",\n\t\ticon: \"sap-icon://commission-check\"\n\t},\n\t{\n\t\ttitle: \"Accounts Payable\",\n\t\tid: \"SAP_BR_ADMIN_APR_FICA\",\n\t\ticon: \"sap-icon://batch-payments\"\n\t},\n\t{\n\t\ttitle: \"Accounts Receivable\",\n\t\tid: \"SAP_BR_AR_ACCOUNTANT\",\n\t\ticon: \"sap-icon://account\"\n\t},\n\t{\n\t\ttitle: \"Administration\",\n\t\tid: \"AP_BR_RECM_ADMINISTRATOR\",\n\t\ticon: \"sap-icon://key-user-settings\"\n\t},\n\t{\n\t\ttitle: \"Administrator - HR Info\",\n\t\tid: \"SAP_BR_ADMINISTRATOR_HRINFO\",\n\t\ticon: \"sap-icon://employee-pane\"\n\t},\n\t{\n\t\ttitle: \"Auditing - Accounts Payable and Receivable\",\n\t\tid: \"SAP_BR_EXT_AUDITOR_APR_FICA\",\n\t\ticon: \"sap-icon://kpi-managing-my-area\"\n\t},\n\t{\n\t\ttitle: \"Auditing - Group Reporting\",\n\t\tid: \"SAP_BR_EXTERNAL_AUDITOR_GRP\",\n\t\ticon: \"sap-icon://create-form\"\n\t},\n\t{\n\t\ttitle: \"Bank Integration\",\n\t\tid: \"SAP_BR_BANK_INT_SPECIALIST\",\n\t\ticon: \"sap-icon://BusinessSuiteInAppSymbols/icon-official-service-group\"\n\t},\n\t{\n\t\ttitle: \"Master Data - Batch\",\n\t\tid: \"SAP_BR_BATCH_MASTER_SPCLST\",\n\t\ticon: \"sap-icon://curriculum\"\n\t},\n\t{\n\t\ttitle: \"BOM Management\",\n\t\tid: \"SAP_BR_BOM_ENGINEER\",\n\t\ticon: \"sap-icon://sales-order-item\"\n\t},\n\t{\n\t\ttitle: \"Budgeting\",\n\t\tid: \"SAP_BR_BUDGET_SPECIALIST\",\n\t\ticon: \"sap-icon://BusinessSuiteInAppSymbols/icon-manage-budget\"\n\t},\n\t{\n\t\ttitle: \"Business Data Analysis\",\n\t\tid: \"SAP_BR_BUSINESS_ANALYST_MKT\",\n\t\ticon: \"sap-icon://BusinessSuiteInAppSymbols/icon-change-analysis\"\n\t},\n\t{\n\t\ttitle: \"Central Procurement\",\n\t\tid: \"SAP_MM_SPT_CNTRL_PURCHASING_PC\",\n\t\ticon: \"sap-icon://BusinessSuiteInAppSymbols/icon-contract\"\n\t},\n\t{\n\t\ttitle: \"Collections\",\n\t\tid: \"SAP_BR_COLL_SPECIALIST_FICA\",\n\t\ticon: \"sap-icon://sap-box\"\n\t},\n\t{\n\t\ttitle: \"Configuration and Setup\",\n\t\tid: \"SAP_BR_BPC_EXPERT_MKT\",\n\t\ticon: \"sap-icon://action-settings\"\n\t},\n\t{\n\t\ttitle: \"Consent Administration\",\n\t\tid: \"SAP_BR_DATA_PRIV_SPEC_CONS\",\n\t\ticon: \"sap-icon://customer-order-entry\"\n\t},\n\t{\n\t\ttitle: \"Contract Accounting\",\n\t\tid: \"SAP_BR_RECONC_SPEC_APR_FICA\",\n\t\ticon: \"sap-icon://activity-individual\"\n\t},\n\t{\n\t\ttitle: \"Contract Accounting\",\n\t\tid: \"SAP_BR_APR_ACCOUNTANT_FICA\",\n\t\ticon: \"sap-icon://activity-individual\"\n\t},\n\t{\n\t\tid: \"SAP_BR_DATA_PRIVACY_SPECIALIST\",\n\t\ttitle: \"Data Protection and Privacy\",\n\t\ticon: \"sap-icon://locked\"\n\t},\n\t{\n\t\ttitle: \"Accounts Payable\",\n\t\tid: \"SAP_BR_AP_ACCOUNTANT\",\n\t\ticon: \"sap-icon://batch-payments\"\n\t},\n\t{\n\t\ttitle: \"Contract Data\",\n\t\tid: \"SAP_BR_RECM_SPECIALIST\",\n\t\ticon: \"sap-icon://paste\"\n\t},\n\t{\n\t\ttitle: \"Convergent Invoicing\",\n\t\tid: \"SAP_BR_INVOICING_SPECIALIST_CINV\",\n\t\ticon: \"sap-icon://receipt\"\n\t},\n\t{\n\t\ttitle: \"Convergent Invoicing Administration\",\n\t\tid: \"SAP_BR_INVOICING_ADMIN_CINV\",\n\t\ticon: \"sap-icon://my-sales-order\"\n\t},\n\t{\n\t\ttitle: \"Credit Management\",\n\t\tid: \"SAP_BR_CREDIT_CONTROLLER\",\n\t\ticon: \"sap-icon://accounting-document-verification\"\n\t},\n\t{\n\t\ttitle: \"Customer Returns\",\n\t\tid: \"SAP_BR_RETURNS_REFUND_CLERK\",\n\t\ticon: \"sap-icon://BusinessSuiteInAppSymbols/icon-return-order\"\n\t},\n\t{\n\t\ttitle: \"Dangerous Goods\",\n\t\tid: \"SAP_BR_DG_SPLST_PCL\",\n\t\ticon: \"sap-icon://alert\"\n\t},\n\t{\n\t\ttitle: \"Data Migration\",\n\t\tid: \"SAP_BR_CONFIG_EXPERT_DATA_MIG\",\n\t\ticon: \"sap-icon://combine\"\n\t},\n\t{\n\t\ttitle: \"Data Privacy and Protection\",\n\t\tid: \"SAP_BR_DATA_PRIVACY_SPEC_FICA\",\n\t\ticon: \"sap-icon://shield\"\n\t},\n\t{\n\t\ttitle: \"Data Quality for Business Partners\",\n\t\tid: \"SAP_BR_BUPA_MASTER_STEWARD\",\n\t\ticon: \"sap-icon://BusinessSuiteInAppSymbols/icon-control-group\"\n\t},\n\t{\n\t\ttitle: \"Data Quality for Products\",\n\t\tid: \"SAP_BR_PRODMASTER_STEWARD\",\n\t\ticon: \"sap-icon://BusinessSuiteInAppSymbols/icon-review-supplies\"\n\t},\n\t{\n\t\ttitle: \"Development Management for Discrete Industries\",\n\t\tid: \"SAP_BR_DEVELOPMENT_MANAGER_DIN\",\n\t\ticon: \"sap-icon://key\"\n\t},\n\t{\n\t\ttitle: \"Divisional Accounting\",\n\t\tid: \"SAP_BR_DIVISION_ACCOUNTANT\",\n\t\ticon: \"sap-icon://BusinessSuiteInAppSymbols/icon-split-segmentation\"\n\t},\n\t{\n\t\ttitle: \"Document Management\",\n\t\tid: \"SAP_BR_DESIGN_ENGINEER\",\n\t\ticon: \"sap-icon://course-program\"\n\t},\n\t{\n\t\ttitle: \"Enterprise Contract Management\",\n\t\tid: \"SAP_BR_LEGAL_COUNSEL\",\n\t\ticon: \"sap-icon://BusinessSuiteInAppSymbols/icon-event\"\n\t},\n\t{\n\t\ttitle: \"Enterprise Contract Management Admin\",\n\t\tid: \"SAP_BR_ADMINISTRATOR_LCM\",\n\t\ticon: \"sap-icon://manager\"\n\t},\n\t{\n\t\ttitle: \"Environmental Management\",\n\t\tid: \"SAP_BR_EHS_ENV_MGMT\",\n\t\ticon: \"sap-icon://e-care\"\n\t},\n\t{\n\t\ttitle: \"Field Logistics - Supply Chain Analysis\",\n\t\tid: \"SAP_BR_SC_ANALYST_IOG\",\n\t\ticon: \"sap-icon://BusinessSuiteInAppSymbols/icon-meter-chained\"\n\t},\n\t{\n\t\ttitle: \"General Ledger\",\n\t\tid: \"SAP_BR_GL_ACCOUNTANT\",\n\t\ticon: \"sap-icon://activity-items\"\n\t},\n\t{\n\t\ttitle: \"Grants Management\",\n\t\tid: \"SAP_BR_GRANT_SPECIALIST\",\n\t\ticon: \"sap-icon://loan\"\n\t},\n\t{\n\t\ttitle: \"In-House Repair\",\n\t\tid: \"SAP_BR_CUST_SRVC_REP_REPA\",\n\t\ticon: \"sap-icon://technical-object\"\n\t},\n\t{\n\t\ttitle: \"Incident Management\",\n\t\tid: \"SAP_BR_INDUSTRIAL_HYGIENIST\",\n\t\ticon: \"sap-icon://incident\"\n\t},\n\t{\n\t\ttitle: \"Intercompany Reconciliation\",\n\t\tid: \"SAP_BR_RECON_ACCOUNTANT\",\n\t\ticon: \"sap-icon://compare-2\"\n\t},\n\t{\n\t\ttitle: \"Internal Sales - Professional Services\",\n\t\tid: \"SAP_BR_INTERNAL_SALES_REP_PRSV\",\n\t\ticon: \"sap-icon://capital-projects\"\n\t},\n\t{\n\t\ttitle: \"International Trade Administration\",\n\t\tid: \"SAP_BR_ADMINISTRATOR_SLL\",\n\t\ticon: \"sap-icon://globe\"\n\t},\n\t{\n\t\ttitle: \"International Trade Classification\",\n\t\tid: \"SAP_BR_TRD_CLS_SPECIALIST\",\n\t\ticon: \"sap-icon://internet-browser\"\n\t},\n\t{\n\t\ttitle: \"International Trade Compliance\",\n\t\tid: \"SAP_BR_TRD_CMPLNC_SPECIALIST\",\n\t\ticon: \"sap-icon://home-share\"\n\t},\n\t{\n\t\ttitle: \"Intrastat\",\n\t\tid: \"SAP_BR_INTRASTAT_SPECIALIST\",\n\t\ticon: \"sap-icon://simple-payment\"\n\t},\n\t{\n\t\ttitle: \"Inventory Accounting\",\n\t\tid: \"SAP_BR_INVENTORY_ACCOUNTANT\",\n\t\ticon: \"sap-icon://multi-select\"\n\t},\n\t{\n\t\ttitle: \"Inventory Analysis\",\n\t\tid: \"SAP_BR_INVENTORY_ANALYST\",\n\t\ticon: \"sap-icon://customer-and-supplier\"\n\t},\n\t{\n\t\ttitle: \"Inventory Processing\",\n\t\tid: \"SAP_BR_WAREHOUSE_CLERK\",\n\t\ticon: \"sap-icon://supplier\"\n\t},\n\t{\n\t\ttitle: \"Joint Venture Accounting\",\n\t\tid: \"SAP_BR_JVA_ACCOUNTANT\",\n\t\ticon: \"sap-icon://BusinessSuiteInAppSymbols/icon-intersection\"\n\t},\n\t{\n\t\ttitle: \"Just-In-Time Master Data\",\n\t\tid: \"SAP_BR_MD_SPECIALIST_JIT\",\n\t\ticon: \"sap-icon://timesheet\"\n\t},\n\t{\n\t\ttitle: \"Just-In-Time Material Planning\",\n\t\tid: \"SAP_BR_MATL_PLNR_JIT_S_TO_C\",\n\t\ticon: \"sap-icon://create-entry-time\"\n\t},\n\t{\n\t\ttitle: \"Lean Manufacturing Operations\",\n\t\tid: \"SAP_BR_PRODN_OPTR_LEAN_MFG\",\n\t\ticon: \"sap-icon://factory\"\n\t},\n\t{\n\t\ttitle: \"Lean Manufacturing Supervising\",\n\t\tid: \"SAP_BR_PRODN_SUPVR_LEAN_MFG\",\n\t\ticon: \"sap-icon://factory\"\n\t},\n\t{\n\t\ttitle: \"Leasing Valuation\",\n\t\tid: \"SAP_BR_RECM_VALSPECIALIST\",\n\t\ticon: \"sap-icon://clinical-tast-tracker\"\n\t},\n\t{\n\t\ttitle: \"Maintenance Execution\",\n\t\tid: \"SAP_BR_MAINTENANCE_TECHNICIAN\",\n\t\ticon: \"sap-icon://wrench\"\n\t},\n\t{\n\t\ttitle: \"Maintenance Planning\",\n\t\tid: \"SAP_BR_MAINTENANCE_PLANNER\",\n\t\ticon: \"sap-icon://add-equipment\"\n\t},\n\t{\n\t\ttitle: \"Maintenance Supervision\",\n\t\tid: \"SAP_BR_MAINTENANCE_SUPERVISOR\",\n\t\ticon: \"sap-icon://technical-object\"\n\t},\n\t{\n\t\ttitle: \"Management of Change\",\n\t\tid: \"SAP_BR_CHG_MGMT_COORDINATOR\",\n\t\ticon: \"sap-icon://BusinessSuiteInAppSymbols/icon-unsaved-changes\"\n\t},\n\t{\n\t\ttitle: \"Marketing\",\n\t\tid: \"SAP_BR_ADMINISTRATOR_MKT\",\n\t\ticon: \"sap-icon://marketing-campaign\"\n\t},\n\t{\n\t\ttitle: \"Marketing Management\",\n\t\tid: \"SAP_BR_MARKETING_MANAGER\",\n\t\ticon: \"sap-icon://manager-insight\"\n\t},\n\t{\n\t\ttitle: \"Mass Processing of Asset\",\n\t\tid: \"SAP_BR_AA_ACCOUNTANT_IOG\",\n\t\ticon: \"sap-icon://table-chart\"\n\t},\n\t{\n\t\ttitle: \"Oil and Gas Field Operations\",\n\t\tid: \"SAP_BR_FIELD_OPERATOR_IOG\",\n\t\ticon: \"sap-icon://BusinessSuiteInAppSymbols/icon-gas\"\n\t},\n\t{\n\t\ttitle: \"Order Fulfillment Execution\",\n\t\tid: \"SAP_BR_ORDER_FULFILLMNT_SPCLST\",\n\t\ticon: \"sap-icon://BusinessSuiteInAppSymbols/icon-container-loading\"\n\t},\n\t{\n\t\ttitle: \"Order Fulfillment Management\",\n\t\tid: \"SAP_BR_ORDER_FULFILLMNT_MNGR\",\n\t\ticon: \"sap-icon://enter-more\"\n\t},\n\t{\n\t\ttitle: \"Payment Management\",\n\t\tid: \"SAP_BR_PAYM_SPECIALIST\",\n\t\ticon: \"sap-icon://my-sales-order\"\n\t},\n\t{\n\t\ttitle: \"Plant Management\",\n\t\tid: \"SAP_BR_PLANT_MANAGER\",\n\t\ticon: \"sap-icon://BusinessSuiteInAppSymbols/icon-operator\"\n\t},\n\t{\n\t\ttitle: \"Product Compliance\",\n\t\tid: \"SAP_BR_PRODSTWRD_SPLST_PCL\",\n\t\ticon: \"sap-icon://BusinessSuiteInAppSymbols/icon-approved\"\n\t},\n\t{\n\t\ttitle: \"Product Compliance Master Data\",\n\t\tid: \"SAP_BR_MD_SPECIALIST_PCL\",\n\t\ticon: \"sap-icon://permission\"\n\t},\n\t{\n\t\ttitle: \"Product Costing\",\n\t\tid: \"SAP_BR_PRODN_ACCOUNTANT\",\n\t\ticon: \"sap-icon://money-bills\"\n\t},\n\t{\n\t\ttitle: \"Production Control\",\n\t\tid: \"SAP_BR_PRODN_SUPERVISOR_RPTV\",\n\t\ticon: \"sap-icon://BusinessSuiteInAppSymbols/icon-table-chart-customization\"\n\t},\n\t{\n\t\ttitle: \"Production Engineering - Discrete Manufacturing\",\n\t\tid: \"SAP_BR_PRODN_ENG_DISC\",\n\t\ticon: \"sap-icon://BusinessSuiteInAppSymbols/icon-multiple-charts\"\n\t},\n\t{\n\t\ttitle: \"Production Engineering - Process Manufacturing\",\n\t\tid: \"SAP_BR_PRODN_ENG_PROC\",\n\t\ticon: \"sap-icon://process\"\n\t},\n\t{\n\t\ttitle: \"Production Execution\",\n\t\tid: \"SAP_BR_PRODN_SUPERVISOR_DISC\",\n\t\ticon: \"sap-icon://BusinessSuiteInAppSymbols/icon-production\"\n\t},\n\t{\n\t\ttitle: \"Production Planning\",\n\t\tid: \"SAP_BR_PRODN_PLNR\",\n\t\ticon: \"sap-icon://cause\"\n\t},\n\t{\n\t\ttitle: \"Project Billing\",\n\t\tid: \"SAP_BR_PROJ_BILLG_SPCLST\",\n\t\ticon: \"sap-icon://receipt\"\n\t},\n\t{\n\t\ttitle: \"Project Management\",\n\t\tid: \"SAP_BR_PROJECTMANAGER\",\n\t\ticon: \"sap-icon://manager\"\n\t},\n\t{\n\t\ttitle: \"Project Management - Commercial\",\n\t\tid: \"SAP_BR_PROJ_MANAGE_COMM\",\n\t\ticon: \"sap-icon://BusinessSuiteInAppSymbols/icon-line-bar-chart\"\n\t},\n\t{\n\t\ttitle: \"Project Steering Committee\",\n\t\tid: \"SAP_BR_PROJECT_STEER_MEMBER\",\n\t\ticon: \"sap-icon://BusinessSuiteInAppSymbols/icon-demand-unit\"\n\t},\n\t{\n\t\ttitle: \"Quality Inspection\",\n\t\tid: \"SAP_BR_QUALITY_TECHNICIAN\",\n\t\ticon: \"sap-icon://inspection\"\n\t},\n\t{\n\t\ttitle: \"Quality Planning\",\n\t\tid: \"SAP_BR_QUALITY_PLANNER\",\n\t\ticon: \"sap-icon://BusinessSuiteInAppSymbols/icon-checklist-item\"\n\t},\n\t{\n\t\ttitle: \"Raw Substance Maintenance\",\n\t\tid: \"SAP_BR_MD_SPECIALIST_RAW_SUBST\",\n\t\ticon: \"sap-icon://BusinessSuiteInAppSymbols/icon-raw-material\"\n\t},\n\t{\n\t\ttitle: \"Receiving\",\n\t\tid: \"SAP_BR_RECEIVING_SPECIALIST\",\n\t\ticon: \"sap-icon://BusinessSuiteInAppSymbols/icon-shared-with-me\"\n\t},\n\t{\n\t\ttitle: \"Recipe Development\",\n\t\tid: \"SAP_BR_RECIPE_DEVELOPER\",\n\t\ticon: \"sap-icon://BusinessSuiteInAppSymbols/icon-recipe\"\n\t},\n\t{\n\t\ttitle: \"Recipe Development Administration\",\n\t\tid: \"SAP_BR_ADMINISTRATOR_RCP_DEV\",\n\t\ticon: \"sap-icon://BusinessSuiteInAppSymbols/icon-top-recipe\"\n\t},\n\t{\n\t\ttitle: \"Recurring Service\",\n\t\tid: \"SAP_BR_SERVICE_PLANNER\",\n\t\ticon: \"sap-icon://synchronize\"\n\t},\n\t{\n\t\ttitle: \"Resource Management for Projects\",\n\t\tid: \"SAP_BR_RESOURCE_MANAGER\",\n\t\ticon: \"sap-icon://employee-approvals\"\n\t},\n\t{\n\t\ttitle: \"Revenue Accounting\",\n\t\tid: \"SAP_BR_REV_ACCOUNTANT\",\n\t\ticon: \"sap-icon://expense-report\"\n\t},\n\t{\n\t\ttitle: \"Revenue Accounting Administration\",\n\t\tid: \"SAP_BR_REV_ADMIN\",\n\t\ticon: \"sap-icon://opportunities\"\n\t},\n\t{\n\t\ttitle: \"Sales Accounting\",\n\t\tid: \"SAP_BR_SALES_ACCOUNTANT\",\n\t\ticon: \"sap-icon://BusinessSuiteInAppSymbols/icon-coins\"\n\t},\n\t{\n\t\ttitle: \"Sales-Based Rent Reporting\",\n\t\tid: \"SAP_BR_RECM_SALES_REPORTER\",\n\t\ticon: \"sap-icon://trip-report\"\n\t},\n\t{\n\t\ttitle: \"Service Management\",\n\t\tid: \"SAP_BR_CUSTOMER_SRVC_MGR\",\n\t\ticon: \"sap-icon://BusinessSuiteInAppSymbols/icon-call-center\"\n\t},\n\t{\n\t\ttitle: \"Service Processing\",\n\t\tid: \"SAP_BR_CUSTOMER_SRVC_TEC\",\n\t\ticon: \"sap-icon://keyboard-and-mouse\"\n\t},\n\t{\n\t\ttitle: \"Shipping\",\n\t\tid: \"SAP_BR_SHIPPING_SPECIALIST\",\n\t\ticon: \"sap-icon://BusinessSuiteInAppSymbols/icon-ship\"\n\t},\n\t{\n\t\ttitle: \"Software Constraints\",\n\t\tid: \"SAP_BR_SYSTEMS_ENGINEER\",\n\t\ticon: \"sap-icon://BusinessSuiteInAppSymbols/icon-software-item\"\n\t},\n\t{\n\t\ttitle: \"Solution Order Management\",\n\t\tid: \"SAP_BR_SOLN_ORDER_SPCLST\",\n\t\ticon: \"sap-icon://order-status\"\n\t},\n\t{\n\t\ttitle: \"Taxes\",\n\t\tid: \"SAP_BR_TAX_SPECIALIST\",\n\t\ticon: \"sap-icon://simulate\"\n\t},\n\t{\n\t\ttitle: \"Test Automation\",\n\t\tid: \"SAP_BR_ADMIN_TEST_AUTOMATION\",\n\t\ticon: \"sap-icon://repost\"\n\t},\n\t{\n\t\ttitle: \"Text Analysis\",\n\t\tid: \"SAP_BR_TEXTANALYSIS_DEVELOPER\",\n\t\ticon: \"sap-icon://vds-file\"\n\t},\n\t{\n\t\ttitle: \"Transportation\",\n\t\tid: \"SAP_BR_TRANSPORTATION_MGR\",\n\t\ticon: \"sap-icon://bus-public-transport\"\n\t},\n\t{\n\t\ttitle: \"Treasury\",\n\t\tid: \"SAP_BR_TREASURY_RISK_MANAGER\",\n\t\ticon: \"sap-icon://BusinessSuiteInAppSymbols/icon-bank-account\"\n\t},\n\t{\n\t\ttitle: \"Treasury Accounting\",\n\t\tid: \"SAP_BR_TREASURY_ACCOUNTANT\",\n\t\ticon: \"sap-icon://BusinessSuiteInAppSymbols/icon-bank-account\"\n\t},\n\t{\n\t\ttitle: \"Treasury Back Office\",\n\t\tid: \"SAP_BR_TREASURY_SPECIALIST_BOE\",\n\t\ticon: \"sap-icon://BusinessSuiteInAppSymbols/icon-bank-account\"\n\t},\n\t{\n\t\ttitle: \"Treasury Front Office\",\n\t\tid: \"SAP_BR_TREASURY_SPECIALIST_FOE\",\n\t\ticon: \"sap-icon://BusinessSuiteInAppSymbols/icon-bank-account\"\n\t},\n\t{\n\t\ttitle: \"Treasury Middle Office\",\n\t\tid: \"SAP_BR_TREASURY_SPECIALIST_MOE\",\n\t\ticon: \"sap-icon://BusinessSuiteInAppSymbols/icon-bank-account\"\n\t},\n\t{\n\t\ttitle: \"Variant Configuration\",\n\t\tid: \"SAP_BR_PRODUCT_CONFIG_MODELER\",\n\t\ticon: \"sap-icon://customize\"\n\t},\n\t{\n\t\ttitle: \"Warehouse Floor\",\n\t\tid: \"SAP_BR_WAREHOUSE_OPERATIVE_EWM\",\n\t\ticon: \"sap-icon://BusinessSuiteInAppSymbols/icon-warehouse\"\n\t},\n\t{\n\t\ttitle: \"Warehouse Office\",\n\t\tid: \"SAP_BR_WAREHOUSE_CLERK_EWM\",\n\t\ticon: \"sap-icon://BusinessSuiteInAppSymbols/icon-products\"\n\t},\n\t{\n\t\tid: \"SAP_BR_BPC_EXPERT\",\n\t\ttitle: \"Configuration Expert - Business Process Configuration\",\n\t\ticon: \"sap-icon://action-settings\"\n\t},\n\t{\n\t\tid: \"SAP_MM_SPT_SOURCING_PC\",\n\t\ttitle: \"Sourcing and Contracting\",\n\t\ticon: \"sap-icon://BusinessSuiteInAppSymbols/icon-contract\"\n\t},\n\t{\n\t\tid: \"SAP_BR_ADMINISTRATOR\",\n\t\ttitle: \"Administration\",\n\t\ticon: \"sap-icon://key-user-settings\"\n\t},\n\t{\n\t\tid: \"SAP_BR_PRODMASTER_SPECIALIST\",\n\t\ttitle: \"Master Data - Products\",\n\t\ticon: \"sap-icon://filter-facets\"\n\t},\n\t{\n\t\tid: \"SAP_BR_EMPLOYEE\",\n\t\ttitle: \"Employee Self-Services\",\n\t\ticon: \"sap-icon://employee\"\n\t},\n\t{\n\t\tid: \"SAP_BR_PROJECT_MANAGER_PROF\",\n\t\ttitle: \"Project Management Professional Services\",\n\t\ticon: \"sap-icon://manager\"\n\t},\n\t{\n\t\tid: \"SAP_MM_SPT_PRODUCT_SRC_PC\",\n\t\ttitle: \"Product Sourcing\",\n\t\ticon: \"sap-icon://phone\"\n\t},\n\t{\n\t\tid: \"SAP_BR_EXTERNAL_AUDITOR\",\n\t\ttitle: \"Auditing - Group Reporting\",\n\t\ticon: \"sap-icon://kpi-managing-my-area\"\n\t},\n\t{\n\t\tid: \"SAP_BR_BUSINESS_PROCESS_SPEC\",\n\t\ttitle: \"Business Process Management\",\n\t\ticon: \"sap-icon://manager-insight\"\n\t},\n\t{\n\t\tid: \"SAP_BR_AP_MANAGER\",\n\t\ttitle: \"Accounts Payable\",\n\t\ticon: \"sap-icon://accounting-document-verification\"\n\t},\n\t{\n\t\tid: \"SAP_BR_ADMINISTRATOR_DATA_REPL\",\n\t\ttitle: \"Master Data - Data Replication\",\n\t\ticon: \"sap-icon://copy\"\n\t},\n\t{\n\t\tid: \"SAP_BR_AR_MANAGER\",\n\t\ttitle: \"Accounts Receivable\",\n\t\ticon: \"sap-icon://cause\"\n\t},\n\t{\n\t\tid: \"SAP_BR_CUST_SRVC_MGR_REPA\",\n\t\ttitle: \"In-House Repair\",\n\t\ticon: \"sap-icon://insurance-house\"\n\t},\n\t{\n\t\tid: \"SAP_BR_CUST_SRVC_TEC_REPA\",\n\t\ttitle: \"In-House Repair\",\n\t\ticon: \"sap-icon://insurance-house\"\n\t},\n\t{\n\t\tid: \"SAP_RFM_SPT_INVTRY_PROCG_PC\",\n\t\ttitle: \"Inventory Processing\",\n\t\ticon: \"sap-icon://supplier\"\n\t},\n\t{\n\t\tid: \"SAP_BR_RFM_STORE_ASSOCIATE\",\n\t\ttitle: \"Store Operations\",\n\t\ticon: \"sap-icon://retail-store\"\n\t},\n\t{\n\t\tid: \"SAP_BR_GRP_ACCOUNTANT\",\n\t\ttitle: \"Group Reporting\",\n\t\ticon: \"sap-icon://group-2\"\n\t},\n\t{\n\t\tid: \"SAP_BR_ADMINISTRATOR_GRP\",\n\t\ttitle: \"Administration - Group Reporting\",\n\t\ticon: \"sap-icon://group-2\"\n\t},\n\t{\n\t\tid: \"SAP_BR_ADMINISTRATOR_RFM\",\n\t\ttitle: \"Retail Administration\",\n\t\ticon: \"sap-icon://sales-quote\"\n\t},\n\t{\n\t\tid: \"SAP_BR_ADMIN_SUS_PFM\",\n\t\ttitle: \"Product Footprint Management\",\n\t\ticon: \"sap-icon://tree\"\n\t},\n\t{\n\t\tid: \"SAP_BR_BUSINESS_ANALYST_GRP\",\n\t\ttitle: \"Group Reporting Analysis\",\n\t\ticon: \"sap-icon://group-2\"\n\t},\n\t{\n\t\tid: \"SAP_BR_APR_MANAGER_FICA\",\n\t\ttitle: \"Contract Accounting\",\n\t\ticon: \"sap-icon://warning2\"\n\t},\n\t{\n\t\tid: \"SAP_BR_MD_SPECIALIST_SITE_RFM\",\n\t\ttitle: \"Site Master Data\",\n\t\ticon: \"sap-icon://chart-table-view\"\n\t},\n\t{\n\t\tid: \"SAP_BR_PRICING_SPECIALIST_PRSV\",\n\t\ttitle: \"Price Management\",\n\t\ticon: \"sap-icon://crm-sales\"\n\t},\n\t{\n\t\tid: \"SAP_BR_PROJ_PROC_CONTROLLER\",\n\t\ttitle: \"Project Control Resourcing and Procurement\",\n\t\ticon: \"sap-icon://bar-chart\"\n\t},\n\t{\n\t\tid: \"SAP_BR_PRICING_SPCLST_RFM\",\n\t\ttitle: \"Retail Sales Prices\",\n\t\ticon: \"sap-icon://search\"\n\t},\n\t{\n\t\tid: \"SAP_BR_RFM_STORE_MANAGER\",\n\t\ttitle: \"Store Management\",\n\t\ticon: \"sap-icon://retail-store-manager\"\n\t},\n\t{\n\t\tid: \"SAP_BR_RPLNMT_SPCLST_ST_RFM\",\n\t\ttitle: \"Store Replenishment\",\n\t\ticon: \"sap-icon://travel-expense-report\"\n\t},\n\t{\n\t\tid: \"SAP_BR_RCVG_SPECIALIST_IOG\",\n\t\ttitle: \"Receipts - Field Logistics\",\n\t\ticon: \"sap-icon://receipt\"\n\t},\n\t{\n\t\tid: \"SAP_RFM_SPT_INVTRY_MGMT_PC\",\n\t\ttitle: \"Inventory Management\",\n\t\ticon: \"sap-icon://customer-and-supplier\"\n\t}\n];\n"],"mappings":"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","ignoreList":[],"sourceRoot":"utils"}},{"offset":{"line":523,"column":0},"map":{"version":3,"file":"PersonalisationUtils.js","names":["sap","ui","define","BaseObject","Component","defaultContainerId","PersonalisationUtils","extend","getPersContainerId","_getPersContainerId","oManagedObject","getOwnerIdFor","getOwnerComponent","_getOwnerComponent","getOwnerComponentFor","__exports"],"sources":["PersonalisationUtils.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\n\nimport ManagedObject from \"sap/ui/base/ManagedObject\";\nimport BaseObject from \"sap/ui/base/Object\";\nimport Component from \"sap/ui/core/Component\";\nimport UIComponent from \"sap/ui/core/UIComponent\";\n\nconst defaultContainerId = \"sap.cux\";\n\n/**\n *\n * Provides the util methods used for UshellPersonalizer.\n *\n * @extends sap.ui.BaseObject\n *\n * @author SAP SE\n * @version 0.0.1\n * @since 1.122.0\n *\n * @private\n * @experimental Since 1.122\n * @hidden\n *\n * @alias sap.cux.home.utils.PersonalisationUtils\n */\n\nclass PersonalisationUtils extends BaseObject {\n\tpublic getPersContainerId(oManagedObject: ManagedObject) {\n\t\treturn `${Component.getOwnerIdFor(oManagedObject)}--${defaultContainerId}`;\n\t}\n\tpublic getOwnerComponent(oManagedObject: ManagedObject) {\n\t\treturn Component.getOwnerComponentFor(oManagedObject) as UIComponent | undefined;\n\t}\n}\n\nexport default new PersonalisationUtils();\n"],"mappings":"AAAA;;;;AAAA,aAAAA,IAAAC,GAAAC,OAAA,wDAAAC,EAAAC,GAAA,aAUA,MAAMC,EAAqB,UAE3B,MAiBMC,EAA6BH,EAAUI,OAAA,2CACrCC,mBAAkB,SAAAC,EAACC,GACzB,MAAO,GAAGN,EAAUO,cAAcD,OAAoBL,GACvD,EACOO,kBAAiB,SAAAC,EAACH,GACxB,OAAON,EAAUU,qBAAqBJ,EACvC,IAAC,IAAAK,EAGa,IAAIT,EAAsB,OAAAS,CAAA","ignoreList":[],"sourceRoot":"utils"}},{"offset":{"line":530,"column":0},"map":{"version":3,"file":"UshellPersonalizer.js","names":["sap","ui","define","BaseObject","Container","UShellPersonalizer","extend","constructor","_constructor","persContainerId","oOwnerComponent","BaseObject.prototype.constructor.call","this","init","_init","_this","Promise","resolve","getServiceAsync","then","oPersonalizationService","oScope","keyCategory","constants","FIXED_KEY","writeFrequency","LOW","clientStorageAllowed","oPersId","container","item","oPersonalizer","getPersonalizer","e","reject","write","_write","oData","_this2","setPersData","read","_read","_this3","getPersData","oCacheInstances","getInstance","UShellPersonalizerInstance"],"sources":["UshellPersonalizer.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\nimport BaseObject from \"sap/ui/base/Object\";\nimport Container from \"sap/ushell/Container\";\nimport { IAppPersonalization } from \"../interface/AppsInterface\";\nimport { IPage } from \"../interface/PageSpaceInterface\";\n\ninterface IPersonalizer {\n\tgetPersData: () => Promise<IPersonalizationData>;\n\tsetPersData: (oData: object) => Promise<void>;\n}\n\nexport interface IPersonalizationData {\n\toAdaptationData?: { showCustomNewsFeed: boolean; customNewsFeedKey: string };\n\tfavNewsFeed?: { items: string[]; showAllPreparationRequired: boolean };\n\tfavouritePages?: IPage[] | [];\n\tfavoriteApps?: IAppPersonalization[];\n\tshowRecommendation?: boolean;\n}\n\n/**\n *\n * Provides the UshellPersonalizer Class used for fetch and update end user (Ushell) personalisation.\n *\n * @extends sap.ui.BaseObject\n *\n * @author SAP SE\n * @version 0.0.1\n * @since 1.121.0\n *\n * @private\n * @experimental Since 1.121\n * @hidden\n *\n * @alias sap.cux.home.utils.UshellPersonalizer\n */\nexport default class UShellPersonalizer extends BaseObject {\n\tprivate persContainerId: string;\n\tprivate oOwnerComponent: object;\n\tprivate oPersonalizer!: IPersonalizer;\n\tstatic oCacheInstances: { [key: string]: UShellPersonalizer } = {};\n\n\tprivate constructor(persContainerId: string, oOwnerComponent: object) {\n\t\tsuper();\n\t\tthis.persContainerId = persContainerId;\n\t\tthis.oOwnerComponent = oOwnerComponent;\n\t}\n\n\tstatic async getInstance(persContainerId: string, oOwnerComponent: object) {\n\t\tif (UShellPersonalizer.oCacheInstances[persContainerId]) {\n\t\t\treturn Promise.resolve(UShellPersonalizer.oCacheInstances[persContainerId]);\n\t\t}\n\t\tconst UShellPersonalizerInstance = new UShellPersonalizer(persContainerId, oOwnerComponent);\n\t\tawait UShellPersonalizerInstance.init();\n\t\tUShellPersonalizer.oCacheInstances[persContainerId] = UShellPersonalizerInstance;\n\t\treturn UShellPersonalizer.oCacheInstances[persContainerId];\n\t}\n\n\tpublic async init() {\n\t\tconst oPersonalizationService: {\n\t\t\t\tconstants: {\n\t\t\t\t\tkeyCategory: { FIXED_KEY: string };\n\t\t\t\t\twriteFrequency: { LOW: string };\n\t\t\t\t};\n\t\t\t\tgetPersonalizer: (id: { container: string; item: string }, oScope: object, oOwnerComponent: object) => IPersonalizer;\n\t\t\t} = await Container.getServiceAsync(\"Personalization\"),\n\t\t\toScope = {\n\t\t\t\tkeyCategory: oPersonalizationService?.constants?.keyCategory?.FIXED_KEY,\n\t\t\t\twriteFrequency: oPersonalizationService?.constants?.writeFrequency?.LOW,\n\t\t\t\tclientStorageAllowed: true\n\t\t\t},\n\t\t\toPersId = {\n\t\t\t\tcontainer: this.persContainerId,\n\t\t\t\titem: \"settings\"\n\t\t\t};\n\t\tthis.oPersonalizer = oPersonalizationService?.getPersonalizer(oPersId, oScope, this.oOwnerComponent);\n\t}\n\n\tpublic async write(oData: IPersonalizationData) {\n\t\tawait this.oPersonalizer?.setPersData(oData);\n\t\treturn \"success\";\n\t}\n\tpublic async read(): Promise<IPersonalizationData> {\n\t\tconst oData = await this.oPersonalizer.getPersData();\n\t\treturn oData;\n\t}\n}\n"],"mappings":"AAAA;;;;AAAA,aAAAA,IAAAC,GAAAC,OAAA,uDAAAC,EAAAC,GAAA,aAsBA,MAgBqBC,EAA2BF,EAAUG,OAAA,yCAMjDC,YAAW,SAAAC,EAACC,EAAyBC,GAC5CC,6BAAAC,MACAA,KAAKH,gBAAkBA,EACvBG,KAAKF,gBAAkBA,CACxB,EAYaG,KAAI,SAAAC,IAAA,IAAG,MAAAC,EAcNH,KAAI,OAAAI,QAAAC,QAPNb,EAAUc,gBAAgB,oBAAkBC,KAAA,SANjDC,GAAN,MAOCC,EAAS,CACRC,YAAaF,GAAyBG,WAAWD,aAAaE,UAC9DC,eAAgBL,GAAyBG,WAAWE,gBAAgBC,IACpEC,qBAAsB,MAEvBC,EAAU,CACTC,UAAWd,EAAKN,gBAChBqB,KAAM,YAERf,EAAKgB,cAAgBX,GAAyBY,gBAAgBJ,EAASP,EAAQN,EAAKL,gBAAiB,EACtG,CAAC,MAAAuB,GAAA,OAAAjB,QAAAkB,OAAAD,EAAA,GAEYE,MAAK,SAAAC,EAACC,GAA2B,IAAE,MAAAC,EACzC1B,KAAI,OAAAI,QAAAC,QAAJqB,EAAKP,eAAeQ,YAAYF,IAAMlB,KAAA,WAC5C,MAAO,SAAU,EAClB,CAAC,MAAAc,GAAA,OAAAjB,QAAAkB,OAAAD,EAAA,GACYO,KAAI,SAAAC,IAAA,IAAkC,MAAAC,EAC9B9B,KAAI,OAAAI,QAAAC,QAAJyB,EAAKX,cAAcY,cAExC,CAAC,MAAAV,GAAA,OAAAjB,QAAAkB,OAAAD,EAAA,KAjDmB5B,EAIbuC,gBAAyD,CAAC,EAJ7CvC,EAYPwC,YAAW,SAAXA,EAAYpC,EAAyBC,GAAuB,IACxE,GAAIL,EAAmBuC,gBAAgBnC,GAAkB,CACxD,OAAOO,QAAQC,QAAQZ,EAAmBuC,gBAAgBnC,GAC3D,CACA,MAAMqC,EAA6B,IAAIzC,EAAmBI,EAAiBC,GAAiB,OAAAM,QAAAC,QACtF6B,EAA2BjC,QAAMM,KAAA,WACvCd,EAAmBuC,gBAAgBnC,GAAmBqC,EACtD,OAAOzC,EAAmBuC,gBAAgBnC,EAAiB,EAC5D,CAAC,MAAAwB,GAAA,OAAAjB,QAAAkB,OAAAD,EAAA,UApBmB5B,CAAkB","ignoreList":[],"sourceRoot":"utils"}}]}