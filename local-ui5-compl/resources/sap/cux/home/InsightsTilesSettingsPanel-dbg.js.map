{"version":3,"file":"InsightsTilesSettingsPanel-dbg.js","names":["sap","ui","define","Button","Column","ColumnListItem","FlexBox","HBox","MessageBox","MessageToast","ObjectIdentifier","ScrollContainer","SearchField","Switch","Table","Text","Title","VBox","UI5Element","Icon","DragDropInfo","__BaseSettingsPanel","___TilesPanel","__AppManager","___utils_Constants","_interopRequireDefault","obj","__esModule","default","BaseSettingsPanel","DisplayFormat","AppManager","MYHOME_PAGE_ID","SETTINGS_PANELS_KEYS","InsightsTilesSettingsPanel","extend","init","_init","_this","this","BaseSettingsPanel.prototype.init.call","_controlMap","Map","setProperty","INSIGHTS_TILES","_i18nBundle","getText","appManagerInstance","getInstance","Promise","resolve","fetchInsightApps","then","_this$appManagerInsta","_allInsightsApps","_wrapperId","getId","set","alignItems","justifyContent","height","width","direction","addStyleClass","addAggregation","get","_showMessageStrip","_showToolbar","_showTilesList","attachPanelNavigated","setValue","insightsApps","setText","length","_createTableRows","e","reject","oMessageStripVBox","addItem","text","_getWrapperFlexBox","titleStyle","liveChange","oEvent","_onTilesSearch","titleContainer","toolbarContainer","items","event","sSearchQuery","getSource","getValue","toLowerCase","filteredTiles","filter","app","visualization","title","includes","_createTableWithContainer","columns","hAlign","dragDropConfig","sourceAggregation","targetAggregation","groupName","dropPosition","drop","_handleTilesDrop","scrollContainer","vertical","horizontal","content","containerVBox","containerFlexBox","_this2","oDragItem","getParameter","draggedControl","iDragItemIndex","getParent","indexOfItem","oDropItem","droppedControl","iDropItemIndex","oDragItemPersConfig","data","oDropItemPersConfig","_temp","setBusy","moveConfigs","pageId","sourceSectionIndex","sectionIndex","sourceVisualizationIndex","visualizationIndex","targetSectionIndex","targetVisualizationIndex","moveVisualization","_this2$appManagerInst","_getTilePanel","refreshData","table","removeAllItems","forEach","filteredTile","index","_createColumnListItem","insightsApp","id","existingControl","getElementById","destroy","columnListItem","type","addCell","src","aSupportedDisplayFormats","supportedDisplayFormats","convertSwitchContainer","isCount","isSmartBusinessTile","indexOf","Standard","StandardWide","wrapping","state","displayFormatHint","change","_onConvertTilePress","customTextOn","customTextOff","tooltip","deleteBtn","icon","press","_onDeleteApp","buttonsWrapper","subtitle","persConfig","_this3","updateConfigs","oVisualizationData","updateVisualizations","show","styleClass","QUESTION","actions","Action","CANCEL","emphasizedAction","onClose","action","_handleDeleteApp","_this4","_temp2","removeVisualizations","sectionId","vizIds","_this4$appManagerInst","_getPanel"],"sources":["InsightsTilesSettingsPanel.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\n\nimport Button from \"sap/m/Button\";\nimport Column from \"sap/m/Column\";\nimport ColumnListItem from \"sap/m/ColumnListItem\";\nimport FlexBox from \"sap/m/FlexBox\";\nimport HBox from \"sap/m/HBox\";\nimport MessageBox from \"sap/m/MessageBox\";\nimport MessageToast from \"sap/m/MessageToast\";\nimport ObjectIdentifier from \"sap/m/ObjectIdentifier\";\nimport ScrollContainer from \"sap/m/ScrollContainer\";\nimport SearchField from \"sap/m/SearchField\";\nimport Switch from \"sap/m/Switch\";\nimport Table from \"sap/m/Table\";\nimport Text from \"sap/m/Text\";\nimport Title from \"sap/m/Title\";\nimport VBox from \"sap/m/VBox\";\nimport Event from \"sap/ui/base/Event\";\nimport Control from \"sap/ui/core/Control\";\nimport UI5Element from \"sap/ui/core/Element\";\nimport Icon from \"sap/ui/core/Icon\";\nimport DragDropInfo from \"sap/ui/core/dnd/DragDropInfo\";\nimport { DropInfo$DropEvent } from \"sap/ui/core/dnd/DropInfo\";\nimport BaseSettingsPanel from \"./BaseSettingsPanel\";\nimport TilesPanel, { DisplayFormat } from \"./TilesPanel\";\nimport { ICustomVisualization, IPersConfig, ISectionAndVisualization } from \"./interface/AppsInterface\";\nimport AppManager from \"./utils/AppManager\";\nimport { MYHOME_PAGE_ID, SETTINGS_PANELS_KEYS } from \"./utils/Constants\";\n\ninterface IDragEvent {\n\tdraggedControl: ColumnListItem;\n\tdroppedControl: ColumnListItem;\n}\n\n/**\n *\n * Class for My Home Insights Tiles Settings Panel.\n *\n * @extends BaseSettingsPanel\n *\n * @author SAP SE\n * @version 0.0.1\n * @since 1.121\n *\n * @internal\n * @experimental Since 1.121\n * @private\n *\n * @alias sap.cux.home.InsightsTilesSettingsPanel\n */\nexport default class InsightsTilesSettingsPanel extends BaseSettingsPanel {\n\tprivate _wrapperId!: string;\n\tprivate _controlMap!: Map<string, Control | Element>;\n\tprivate _allInsightsApps!: ICustomVisualization[];\n\tprivate appManagerInstance!: AppManager;\n\t/**\n\t * Init lifecycle method\n\t *\n\t * @public\n\t * @override\n\t */\n\tpublic async init() {\n\t\tsuper.init();\n\t\tthis._controlMap = new Map();\n\n\t\t//setup panel\n\t\tthis.setProperty(\"key\", SETTINGS_PANELS_KEYS.INSIGHTS_TILES);\n\t\tthis.setProperty(\"title\", this._i18nBundle.getText(\"insightsTiles\"));\n\t\tthis.setProperty(\"icon\", \"sap-icon://manager-insight\");\n\n\t\t//Fetch Data\n\t\tthis.appManagerInstance = AppManager.getInstance();\n\t\tthis._allInsightsApps = await this.appManagerInstance.fetchInsightApps(true, this._i18nBundle.getText(\"insights\") as string);\n\n\t\t//setup Container & content Aggregation\n\t\tthis._wrapperId = `${this.getId()}-tilesSettingsWrapper`;\n\t\tthis._controlMap.set(\n\t\t\tthis._wrapperId,\n\t\t\tnew FlexBox(this._wrapperId, {\n\t\t\t\talignItems: \"Start\",\n\t\t\t\tjustifyContent: \"Start\",\n\t\t\t\theight: \"100%\",\n\t\t\t\twidth: \"100%\",\n\t\t\t\tdirection: \"Column\"\n\t\t\t}).addStyleClass(\"flexContainerCards\")\n\t\t);\n\t\tthis.addAggregation(\"content\", this._controlMap.get(this._wrapperId) as FlexBox);\n\n\t\t//setup content for the settings panel\n\t\tthis._showMessageStrip();\n\t\tthis._showToolbar();\n\t\tthis._showTilesList();\n\n\t\t//fired every time on panel navigation\n\t\tthis.attachPanelNavigated(() => {\n\t\t\t(this._controlMap.get(`${this._wrapperId}--searchField`) as SearchField).setValue(\"\");\n\t\t\tvoid this.appManagerInstance.fetchInsightApps(false, this._i18nBundle.getText(\"insights\") as string).then((insightsApps) => {\n\t\t\t\tthis._allInsightsApps = insightsApps;\n\t\t\t\t(this._controlMap.get(`${this._wrapperId}--title`) as Title).setText(\n\t\t\t\t\t`${this._i18nBundle.getText(\"insightsTilesTitle\")} (${this._allInsightsApps.length})`\n\t\t\t\t);\n\t\t\t\tthis._createTableRows(this._allInsightsApps);\n\t\t\t});\n\t\t});\n\t}\n\n\t/**\n\t * Add the Message Strip to the wrapper FlexBox.\n\t *\n\t * @private\n\t */\n\n\tprivate _showMessageStrip() {\n\t\tconst oMessageStripVBox = new VBox(`${this._wrapperId}--msgStripContainer`, {\n\t\t\twidth: \"calc(100% - 2rem)\"\n\t\t}).addStyleClass(\"sapUiSmallMarginTop sapUiSmallMarginBegin\");\n\t\toMessageStripVBox.addItem(\n\t\t\tnew Text(`${this._wrapperId}--msgStripText`, {\n\t\t\t\ttext: this._i18nBundle.getText(\"insightAppsTabText\")\n\t\t\t})\n\t\t);\n\t\tthis._getWrapperFlexBox().addItem(oMessageStripVBox);\n\t}\n\n\t/**\n\t * Add the Header ToolBar to the wrapper FlexBox.\n\t *\n\t * @private\n\t */\n\tprivate _showToolbar() {\n\t\tthis._controlMap.set(\n\t\t\t`${this._wrapperId}--title`,\n\t\t\tnew Title(`${this._wrapperId}--title`, {\n\t\t\t\ttext: `${this._i18nBundle.getText(\"insightsTilesTitle\")} (${this._allInsightsApps.length})`,\n\t\t\t\ttitleStyle: \"H5\",\n\t\t\t\twidth: \"100%\"\n\t\t\t})\n\t\t);\n\n\t\tthis._controlMap.set(\n\t\t\t`${this._wrapperId}--searchField`,\n\t\t\tnew SearchField(`${this._wrapperId}--pagesListSearch`, {\n\t\t\t\tliveChange: (oEvent) => this._onTilesSearch(oEvent),\n\t\t\t\twidth: \"100%\"\n\t\t\t}).addStyleClass(\"sapUiTinyMarginTop\")\n\t\t);\n\n\t\tconst titleContainer = new HBox(`${this._wrapperId}--titleContainer`, {\n\t\t\talignItems: \"Center\",\n\t\t\tjustifyContent: \"SpaceBetween\",\n\t\t\twidth: \"100%\"\n\t\t});\n\t\ttitleContainer.addItem(this._controlMap.get(`${this._wrapperId}--title`) as Title);\n\t\tconst toolbarContainer = new VBox(`${this._wrapperId}--toolbarContainer`, {\n\t\t\twidth: \"calc(100% - 2rem)\",\n\t\t\titems: [titleContainer, this._controlMap.get(`${this._wrapperId}--searchField`) as SearchField]\n\t\t}).addStyleClass(\"sapUiSmallMarginTop sapUiSmallMarginBegin\");\n\t\tthis._getWrapperFlexBox().addItem(toolbarContainer);\n\t}\n\n\t/**\n\t * Handles Search Field change\n\t * @private\n\t */\n\tprivate _onTilesSearch(event: Event) {\n\t\tconst sSearchQuery = event.getSource<SearchField>().getValue().toLowerCase();\n\t\tconst filteredTiles = this._allInsightsApps.filter((app) => app.visualization?.title?.toLowerCase().includes(sSearchQuery));\n\t\tthis._createTableRows(filteredTiles);\n\t}\n\n\t/**\n\t * Adds Tiles List Table to Wrapper FlexBox\n\t * @private\n\t */\n\tprivate _showTilesList() {\n\t\tthis._createTableWithContainer();\n\t\tthis._createTableRows(this._allInsightsApps);\n\t}\n\n\t/**\n\t * Creates Table to Render Tiles List\n\t * @private\n\t */\n\tprivate _createTableWithContainer() {\n\t\tthis._controlMap.set(\n\t\t\t`${this._wrapperId}-table`,\n\t\t\tnew Table(`${this._wrapperId}-table`, {\n\t\t\t\tcolumns: [\n\t\t\t\t\tnew Column(`${this._wrapperId}-table-dndIcon`, {\n\t\t\t\t\t\thAlign: \"Center\",\n\t\t\t\t\t\twidth: \"6%\"\n\t\t\t\t\t}),\n\t\t\t\t\tnew Column(`${this._wrapperId}-table-title`, {\n\t\t\t\t\t\twidth: \"94%\"\n\t\t\t\t\t})\n\t\t\t\t],\n\t\t\t\tdragDropConfig: new DragDropInfo(`${this._wrapperId}-dragDropInfo`, {\n\t\t\t\t\tsourceAggregation: \"items\",\n\t\t\t\t\ttargetAggregation: \"items\",\n\t\t\t\t\tgroupName: \"insightsTilesSettingsItems\",\n\t\t\t\t\tdropPosition: \"On\",\n\t\t\t\t\tdrop: (event: DropInfo$DropEvent) => void this._handleTilesDrop(event)\n\t\t\t\t})\n\t\t\t}).addStyleClass(\"sapContrastPlus\")\n\t\t);\n\t\tconst scrollContainer = new ScrollContainer(`${this._wrapperId}-scrollContainer`, {\n\t\t\tvertical: true,\n\t\t\thorizontal: false,\n\t\t\theight: \"100%\",\n\t\t\twidth: \"100%\",\n\t\t\tcontent: [this._controlMap.get(`${this._wrapperId}-table`) as Table]\n\t\t});\n\t\tconst containerVBox = new VBox(`${this._wrapperId}-containerVBox`, {\n\t\t\theight: \"100%\",\n\t\t\twidth: \"100%\",\n\t\t\tjustifyContent: \"Start\",\n\t\t\tdirection: \"Column\",\n\t\t\titems: [scrollContainer]\n\t\t});\n\t\tconst containerFlexBox = new FlexBox(`${this._wrapperId}-containerFlexBox`, {\n\t\t\talignItems: \"Start\",\n\t\t\tjustifyContent: \"Start\",\n\t\t\theight: \"100%\",\n\t\t\twidth: \"calc(100% - 2rem)\",\n\t\t\tdirection: \"Row\",\n\t\t\titems: [containerVBox]\n\t\t}).addStyleClass(\"sapUiSmallMarginBegin sapUiSmallMarginTop flexContainerCards\");\n\n\t\tthis._getWrapperFlexBox().addItem(containerFlexBox);\n\t}\n\n\t/**\n\t * Handles Drag Drop of Tiles\n\t * @private\n\t */\n\tprivate async _handleTilesDrop(oEvent: DropInfo$DropEvent | IDragEvent) {\n\t\tconst oDragItem = ((oEvent as DropInfo$DropEvent).getParameter?.(\"draggedControl\") ||\n\t\t\t\t(oEvent as IDragEvent).draggedControl) as ColumnListItem,\n\t\t\tiDragItemIndex = (oDragItem.getParent() as Table)?.indexOfItem(oDragItem),\n\t\t\toDropItem = ((oEvent as DropInfo$DropEvent).getParameter?.(\"droppedControl\") ||\n\t\t\t\t(oEvent as IDragEvent).droppedControl) as ColumnListItem,\n\t\t\tiDropItemIndex = (oDragItem.getParent() as Table)?.indexOfItem(oDropItem),\n\t\t\toDragItemPersConfig = oDragItem.data(\"persConfig\") as IPersConfig,\n\t\t\toDropItemPersConfig = oDropItem.data(\"persConfig\") as IPersConfig;\n\t\tif (iDragItemIndex !== iDropItemIndex) {\n\t\t\tthis._getWrapperFlexBox().setBusy(true);\n\t\t\tconst moveConfigs = {\n\t\t\t\tpageId: MYHOME_PAGE_ID,\n\t\t\t\tsourceSectionIndex: oDragItemPersConfig.sectionIndex as number,\n\t\t\t\tsourceVisualizationIndex: oDragItemPersConfig.visualizationIndex as number,\n\t\t\t\ttargetSectionIndex: oDropItemPersConfig.sectionIndex as number,\n\t\t\t\ttargetVisualizationIndex: oDropItemPersConfig.visualizationIndex as number\n\t\t\t};\n\t\t\tawait this.appManagerInstance.moveVisualization(moveConfigs);\n\t\t\tthis._allInsightsApps = await this.appManagerInstance.fetchInsightApps(true, this._i18nBundle.getText(\"insights\") as string);\n\t\t\tthis._createTableRows(this._allInsightsApps);\n\t\t\tawait this._getTilePanel().refreshData();\n\t\t\tthis._getWrapperFlexBox().setBusy(false);\n\t\t}\n\t}\n\n\t/**\n\t * Create Table Rows\n\t * @private\n\t */\n\tprivate _createTableRows(insightsApps: ICustomVisualization[]) {\n\t\tconst table = this._controlMap.get(`${this._wrapperId}-table`) as Table;\n\t\ttable.removeAllItems();\n\t\tlet filteredTiles = insightsApps;\n\t\tconst sSearchQuery = (this._controlMap.get(`${this._wrapperId}--searchField`) as SearchField).getValue();\n\t\tif (sSearchQuery) {\n\t\t\tfilteredTiles = this._allInsightsApps.filter((app) => app.visualization?.title?.toLowerCase().includes(sSearchQuery));\n\t\t}\n\t\tfilteredTiles.forEach((filteredTile, index) => {\n\t\t\ttable.addItem(this._createColumnListItem(filteredTile, index));\n\t\t});\n\t}\n\n\t/**\n\t * Create ColumnListItem for each Insights App\n\t * @private\n\t */\n\tprivate _createColumnListItem(insightsApp: ICustomVisualization, index: number): ColumnListItem {\n\t\tconst id = `insightsTiles-${index}-listItem`;\n\t\tconst existingControl = UI5Element.getElementById(id);\n\t\tif (existingControl) {\n\t\t\texistingControl.destroy();\n\t\t}\n\t\t// Create Column List Item\n\t\tconst columnListItem = new ColumnListItem({\n\t\t\tid,\n\t\t\ttype: \"Inactive\"\n\t\t}).addStyleClass(\"insightsListItem insightsListMargin manageSectionsTable\");\n\n\t\t// Add first cell as Drag & Drop Icon\n\t\tcolumnListItem.addCell(\n\t\t\tnew HBox({\n\t\t\t\titems: [\n\t\t\t\t\tnew Icon({\n\t\t\t\t\t\tsrc: \"sap-icon://BusinessSuiteInAppSymbols/icon-grip\"\n\t\t\t\t\t}).addStyleClass(\"tilesDndIcon\")\n\t\t\t\t]\n\t\t\t})\n\t\t);\n\n\t\t//Create Convert Switch\n\t\tconst aSupportedDisplayFormats = insightsApp.visualization?.supportedDisplayFormats || \"\";\n\t\tlet convertSwitchContainer;\n\t\t// if it is not static tile and standard/standardWide display format is supported, display convert switch\n\t\tif (\n\t\t\t(insightsApp.isCount || insightsApp.isSmartBusinessTile) &&\n\t\t\taSupportedDisplayFormats.length > 1 &&\n\t\t\taSupportedDisplayFormats.indexOf(DisplayFormat.Standard) > -1 &&\n\t\t\taSupportedDisplayFormats.indexOf(DisplayFormat.StandardWide) > -1\n\t\t) {\n\t\t\tconvertSwitchContainer = new HBox({\n\t\t\t\tid: `${id}-convertSwitchContainer`,\n\t\t\t\talignItems: \"Center\",\n\t\t\t\titems: [\n\t\t\t\t\tnew Text({\n\t\t\t\t\t\tid: `${id}-switchAppSizeLabel`,\n\t\t\t\t\t\ttext: this._i18nBundle.getText(\"wide\"),\n\t\t\t\t\t\twrapping: false\n\t\t\t\t\t}),\n\t\t\t\t\tnew Switch({\n\t\t\t\t\t\tid: `${id}-convertSwitch`,\n\t\t\t\t\t\t// ariaLabelledBy=\"switchAppSizeLabel\"\n\t\t\t\t\t\tstate: insightsApp.visualization?.displayFormatHint !== DisplayFormat.Standard,\n\t\t\t\t\t\tchange: () => void this._onConvertTilePress(insightsApp),\n\t\t\t\t\t\tcustomTextOn: \" \",\n\t\t\t\t\t\tcustomTextOff: \" \",\n\t\t\t\t\t\ttooltip:\n\t\t\t\t\t\t\tinsightsApp.visualization?.displayFormatHint === DisplayFormat.Standard\n\t\t\t\t\t\t\t\t? this._i18nBundle.getText(\"ConvertToWideTile\")\n\t\t\t\t\t\t\t\t: this._i18nBundle.getText(\"ConvertToTile\")\n\t\t\t\t\t})\n\t\t\t\t]\n\t\t\t});\n\t\t}\n\n\t\tconst deleteBtn = new Button({\n\t\t\tid: `${id}-deleteAppBtn`,\n\t\t\ttype: \"Transparent\",\n\t\t\ticon: \"sap-icon://decline\",\n\t\t\tpress: () => this._onDeleteApp(insightsApp),\n\t\t\ttooltip: this._i18nBundle.getText(\"removeFromInsights\")\n\t\t});\n\n\t\tconst buttonsWrapper = new HBox({\n\t\t\tid: `${id}-buttonsWrapper`,\n\t\t\talignItems: \"Center\"\n\t\t}).addStyleClass(\"sapUiSmallMarginEnd\");\n\n\t\tif (convertSwitchContainer) {\n\t\t\tbuttonsWrapper.addItem(convertSwitchContainer);\n\t\t}\n\t\tbuttonsWrapper.addItem(deleteBtn);\n\n\t\tcolumnListItem.addCell(\n\t\t\tnew HBox({\n\t\t\t\tid: `${id}-cell`,\n\t\t\t\talignItems: \"Center\",\n\t\t\t\tjustifyContent: \"SpaceBetween\",\n\t\t\t\titems: [\n\t\t\t\t\tnew ObjectIdentifier({\n\t\t\t\t\t\ttitle: insightsApp.visualization?.title as string,\n\t\t\t\t\t\ttext: insightsApp.visualization?.subtitle as string,\n\t\t\t\t\t\ttooltip: insightsApp.visualization?.title as string\n\t\t\t\t\t}).addStyleClass(\"objectIdentifierMargin\"),\n\t\t\t\t\tbuttonsWrapper\n\t\t\t\t]\n\t\t\t})\n\t\t);\n\t\tcolumnListItem.data(\"persConfig\", insightsApp.persConfig);\n\n\t\treturn columnListItem;\n\t}\n\n\t/**\n\t * Handles Convert Tile\n\t * @private\n\t */\n\tprivate async _onConvertTilePress(app: ICustomVisualization) {\n\t\tconst displayFormatHint = app.visualization?.displayFormatHint,\n\t\t\tupdateConfigs = {\n\t\t\t\tpageId: MYHOME_PAGE_ID,\n\t\t\t\tsourceSectionIndex: app.persConfig?.sectionIndex as number,\n\t\t\t\tsourceVisualizationIndex: app.persConfig?.visualizationIndex as number,\n\t\t\t\toVisualizationData: {\n\t\t\t\t\tdisplayFormatHint: displayFormatHint === DisplayFormat.Standard ? DisplayFormat.StandardWide : DisplayFormat.Standard\n\t\t\t\t}\n\t\t\t};\n\n\t\tthis._getWrapperFlexBox().setBusy(true);\n\t\tawait this.appManagerInstance.updateVisualizations(updateConfigs);\n\t\tawait this._getTilePanel().refreshData();\n\t\tif (app.visualization) {\n\t\t\tapp.visualization.displayFormatHint = updateConfigs.oVisualizationData.displayFormatHint;\n\t\t}\n\t\tthis._getWrapperFlexBox().setBusy(false);\n\t}\n\n\t/**\n\t * Deletes Insights App\n\t * @private\n\t */\n\tprivate _onDeleteApp(app: ICustomVisualization) {\n\t\tMessageBox.show(this._i18nBundle.getText(\"remove_tile_confirmation_title\", [app.title]) as string, {\n\t\t\tid: \"removeTileConfirmation\",\n\t\t\tstyleClass: \"msgBoxWidth\",\n\t\t\ticon: MessageBox.Icon.QUESTION,\n\t\t\ttitle: this._i18nBundle.getText(\"remove\") as string,\n\t\t\tactions: [this._i18nBundle.getText(\"remove\") as string, MessageBox.Action.CANCEL],\n\t\t\temphasizedAction: this._i18nBundle.getText(\"remove\"),\n\t\t\tonClose: (action: string) => this._handleDeleteApp(action, app)\n\t\t});\n\t}\n\n\t/**\n\t * Handle Delete App Confirmation Decision\n\t * @private\n\t */\n\tprivate async _handleDeleteApp(action: string, app: ISectionAndVisualization) {\n\t\tif (action === this._i18nBundle.getText(\"remove\")) {\n\t\t\tthis._getWrapperFlexBox().setBusy(true);\n\t\t\tawait this.appManagerInstance.removeVisualizations({\n\t\t\t\tsectionId: app.persConfig?.sectionId as string,\n\t\t\t\tvizIds: [app.visualization?.id as string]\n\t\t\t});\n\t\t\tMessageToast.show(this._i18nBundle.getText(\"appRemovedInsights\") as string);\n\t\t\tthis._allInsightsApps = await this.appManagerInstance.fetchInsightApps(true, this._i18nBundle.getText(\"insights\") as string);\n\t\t\t(this._controlMap.get(`${this._wrapperId}--title`) as Title).setText(\n\t\t\t\t`${this._i18nBundle.getText(\"insightsTilesTitle\")} (${this._allInsightsApps.length})`\n\t\t\t);\n\t\t\tthis._createTableRows(this._allInsightsApps);\n\t\t\tawait this._getTilePanel().refreshData();\n\t\t\tthis._getWrapperFlexBox().setBusy(false);\n\t\t}\n\t}\n\n\t/**\n\t * Returns wrapper FlexBox\n\t * @private\n\t */\n\tprivate _getWrapperFlexBox(): FlexBox {\n\t\treturn this._controlMap.get(this._wrapperId) as FlexBox;\n\t}\n\n\t/**\n\t * Returns Tiles Panel\n\t * @private\n\t */\n\tprivate _getTilePanel(): TilesPanel {\n\t\treturn this._getPanel() as TilesPanel;\n\t}\n}\n"],"mappings":"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","ignoreList":[]}