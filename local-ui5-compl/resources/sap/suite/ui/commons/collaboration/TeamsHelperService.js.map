{"version":3,"file":"TeamsHelperService.js","names":["sap","ui","define","Log","Core","URLListValidator","CollaborationHelper","BaseHelperService","Element","ContactHelper","Device","CollaborationCardHelper","Fragment","MessageBox","Library","Popover","HBox","VBox","MessageStrip","Button","CollaborationContactInfoHelper","sapMLibrary","FlexBox","Localization","CollaborationManagerService","FlexItemData","TeamsHelperService","extend","constructor","oProviderConfig","this","_providerConfig","shareAsLinkUrl","_getShareAsTabUrl","then","sShareAsTabUrl","shareAsTabUrl","bind","COLLABORATION_MSTEAMS_APPID","oLogger","getLogger","oResourceBundle","getResourceBundleFor","PARAM_SAP_CARD_TITLE","PARAM_SAP_CARD_ID","PARAM_SAP_CARD_VERSION","oBusyDailog","iTimeoutId","AUTO_CLOSE_BUSY_DIALOG_TIME","PARAM_SAP_STAGEVIEW_HASH","oTeamsParams","windowWidthAndHeight","prototype","getOptions","oParams","isShareAsLinkEnabled","isShareAsTabEnabled","isShareAsCardEnabled","aOptions","aFinalOptions","system","desktop","push","text","getText","key","icon","fesrStepName","info","bIsShareAsCardEnabled","bIsShareAsTabEnabled","CARD_OBJECT","undefined","length","type","subOptions","share","oOption","url","error","validate","_shareAsChat","_shareAsTab","_shareAsCard","newWindow","window","open","sMessage","appTitle","subTitle","opener","minifyUrlForChat","compactHash","async","sShortURL","sModifiedUrl","_modifyUrlForNavigationContext","location","encodeURIComponent","_modifyUrlForShareAsTab","sUrl","sAppUri","iIndexOfHash","indexOf","sUriForHeaderLess","substring","iIndexOfQuestionMark","sParam","_addNavmodeInUrl","oData","subEntityId","mode","sURL","JSON","stringify","m","URLHelper","redirect","sNavMode","UshellContainer","require","getServiceAsync","oURLParsing","oHashPartOfUri","parseShellHash","params","sHashOfUri","constructShellHash","Promise","resolve","originalUrl","iParamsCount","Object","keys","oUrl","URL","searchParams","has","set","delete","toString","cardId","cardManifest","isFeatureFlagEnabled","getRTL","load","name","controller","oDialog","setTimeout","close","destroy","postCard","response","bSuccessScenario","oResponseData","card_id","version","code","message","sCardVersion","parse","atob","e","_updateUrl","_closeBusyDailog","sUrlForTab","sShortURLTab","sStageViewHash","split","_closeBusyDialogAndOpenTeamsDialog","clearTimeout","_addCardParamsInUrl","sAppTitle","_getApplicationID","sTeamsAppID","_getCurrentUrl","sCurrentUrl","sBeforeHashURL","oParsedUrl","parseParameters","isContactsCollaborationSupported","enableContactsCollaboration","sEmail","isTeamMode","isTeamsModeActive","isContactServiceAvailable","fetchServiceStatus","value","FetchContacts","oContactHelper","isDirectCommunicationEnabled","loadContactPopover","reject","loadMinimalContactPopover","getTeamsContactCollabOptions","getTeamsContactOptions","getTeamsContactStatus","getCollaborationPopover","oSource","isLink","oCollaborationOptionsConfig","data","trim","shareToTeams","shareToEmail","shareToCM","oCollaborationManager","oCMOption","_shareData","oCollaborationPopover","_getPopover","openBy","showHeader","placement","enableScrolling","content","_getPopoverContent","oMainFBox","items","direction","FlexDirection","Column","oOptionFBox","sFormat","Row","justifyContent","FlexJustifyContent","SpaceAround","forEach","button","width","press","oEvent","getSource","getParent","addStyleClass","addItem","oCopyLinkFlexbox","Center","SpaceBetween","alignItems","FlexAlignItems","_writeToClipBoard","insertItem","showIcon","setHeight","sText","navigator","clipboard","writeText","oShareData","title","showPreview","_shareSummary","triggerEmail","triggerH2HChat"],"sources":["TeamsHelperService-dbg.js"],"mappings":"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","ignoreList":[]}