{"version":3,"file":"StatePreserver.js","names":["sap","ui","define","BaseObject","routingHelper","testableHelper","FeLogger","extend","deepExtend","isEmptyObject","oLogger","getLogger","getMethods","oTemplateContract","oSettings","oCrossAppNavServicePromise","getCrossAppNavServicePromise","oRegistryEntry","componentRegistry","oComponent","getId","bIsRoot","viewLevel","sRealizedAppStateKey","oAppStateIsSetPromise","Promise","resolve","fnNotifyRealizedAppStateConsistent","oAppStateCleanPromise","fnAppStateCleanResolve","oStoringInformation","sAppStateKeyInUrl","sLastAppKey","sLastBindingPath","oCurrentAnalyzedState","Object","create","oLastPermanentKeys","oLastSessionKeys","fnInitializeCurrentAnalyzedState","permanentEntries","sessionEntries","pageEntries","allEntries","fnTransferStateToAnalyzedState","oState","sKey","oEntry","oLifecycle","lifecycle","permanent","session","page","pagination","fnMoveKeyInfoToFront","oLastKeys","oPredecessor","oNext","next","getKeyForStatePromise","bPermanent","appStateKey","sSerialize","JSON","stringify","iCount","oLast","serialize","oAppStatePromise","then","oCrossAppNavService","createEmptyAppState","getAppComponent","undefined","oAppState","oNewLast","getKey","setData","oAppStateSavePromise","save","fnTransferAnalyzedStateToUrlPromise","oSessionAppStateKeyPromise","oSessionAppStateKey","oStorage","sessionAppStateKey","oPermanentAppStateKeyPromise","oPermanentAppStateKey","oNavigationPromise","utils","isComponentActive","oNavigationControllerProxy","navigateByExchangingQueryParam","appStateName","oBusyHelper","getUnbusy","fnStoreCurrentAppStateAndAdjustURLPromise","getCurrentState","getLastPath","aKeys","sRet","sRoute","route","i","length","oTreeNode","mRoutingTree","sOdataReference","entitySet","navigationProperty","parentRoute","getUrlParameterInfo","sPath","bAlreadyVisible","oRet","stateChanged","bStateHandlingSuspended","setTimeout","fnAdaptRealizedAppStateKey","fnTransferEntries","oTarget","mEntries","bUnconditional","fnRealizeStatePromise","bIsSameAsLast","oNewState","data","applyState","fnAddKeyToLastKeys","sAppStateKey","fnAdaptToFullAppStatePromise","oPermanentState","sSessionAppStateKey","oSessionState","hidePlaceholder","fnAdaptToUrlAppState","oRetrievedState","permanentState","getAppStateFromShell","catch","Function","prototype","bind","getSameAsLastPromise","sBindingPath","oHeaderDataPromise","getHeaderDataAvailablePromise","oApplicationProxy","areTwoKnownPathesIdentical","fnExecuteWithSameAsLast","fnExecute","fnApplyAppState","bIsComponentCurrentlyActive","callAlways","sAppStateKeyToConsider","fnLeaveApp","isStateChange","mAppStates","Array","isArray","sort","error","getAsStateChanger","leaveApp","setState","bToInitial","oInitialState","getInitialState","applyAppState","constructor","this"],"sources":["StatePreserver-dbg.js"],"mappings":"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","ignoreList":[]}