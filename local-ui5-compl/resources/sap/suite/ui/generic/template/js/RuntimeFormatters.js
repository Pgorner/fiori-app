sap.ui.define(["sap/ui/core/format/NumberFormat","sap/ui/core/message/MessageType","sap/suite/ui/generic/template/genericUtilities/FeLogger","sap/suite/ui/generic/template/genericUtilities/testableHelper","sap/suite/ui/generic/template/genericUtilities/utils"],function(e,t,r,a,i){"use strict";var n=new r("js.RuntimeFormatters").getLogger();function o(e){while(!e.getEntitySet){e=e.getParent()}return e}function s(e){var t=e.getCustomData();var r=t.find(function(e){return e.getKey()==="lineItemQualifier"});return r&&r.getValue()}function g(e,t){var r=t.getModel();var a=r.getMetaModel();var i=o(e.getParent());var n=a.getODataEntitySet(i.getEntitySet());var g=a.getODataEntityType(n.entityType);var u=g["com.sap.vocabularies.UI.v1.LineItem"];var l=g["com.sap.vocabularies.UI.v1.LineItem@com.sap.vocabularies.UI.v1.Criticality"];var c=s(i);if(c){l=g["com.sap.vocabularies.UI.v1.LineItem#"+c+"@com.sap.vocabularies.UI.v1.Criticality"]}if(u&&l){if(l.Path){var I=l.Path;var f=t.getObject(I);if(f){switch(f.toString()){case"0":return"None";case"1":return"Error";case"2":return"Warning";case"3":return"Success";default:break}}}else if(l.EnumMember){var T=l.EnumMember;if(T){switch(T){case"com.sap.vocabularies.UI.v1.CriticalityType/Neutral":return"None";case"com.sap.vocabularies.UI.v1.CriticalityType/Negative":return"Error";case"com.sap.vocabularies.UI.v1.CriticalityType/Critical":return"Warning";case"com.sap.vocabularies.UI.v1.CriticalityType/Positive":return"Success";default:break}}}}return"None"}var s=a.testableStatic(s,"RuntimeFormatters_getLineItemQualifier");var o=a.testableStatic(o,"RuntimeFormatters_getSmartTableControl");var u={setInfoHighlight:function(e,r,a){var i=this.getBindingContext();if(!i){return"None"}var n="None";if(a){var o=i.getMessages();for(var s=0;s<o.length;s++){var u=o[s];var l=u.getType();if(l===t.Error){return"Error"}if(l===t.Warning){n="Warning"}else if(l===t.Information&&n!==t.Warning){n="Information"}}if(i.isTransient()&&!i.isInactive()){return"Information"}}if(e===false&&r===false){return n==="None"?"Information":n}var c=g(this,i);return c==="Error"||c==="Warning"||n==="None"?c:n},setRowNavigated:function(e){var t=this.getBindingContext()||this.getParent().getBindingContext();var r=t&&t.getPath();return!!r&&r===e},formatImageUrl:function(e,t,r){return i.adjustImageUrlPath(e,t,r)},formatRatingIndicatorSubTitle:function(e){if(e){var t=this.getModel("i18n").getResourceBundle();if(this.getCustomData().length>0){return t.getText("RATING_INDICATOR_SUBTITLE",[e,this.data("Subtitle")])}else{var r=e>1?t.getText("RATING_INDICATOR_SUBTITLE_LABEL_PLURAL"):t.getText("RATING_INDICATOR_SUBTITLE_LABEL");return t.getText("RATING_INDICATOR_SUBTITLE",[e,r])}}},formatRatingIndicatorFooterText:function(e,t){if(e){var r=this.getModel("i18n").getResourceBundle();if(t){return r.getText("RATING_INDICATOR_FOOTER",[e,t])}else if(this.getCustomData().length>0){return r.getText("RATING_INDICATOR_FOOTER",[e,this.data("Footer")])}else{var a=sap.m.RatingIndicator.getMetadata().getPropertyDefaults().maxValue;return r.getText("RATING_INDICATOR_FOOTER",[e,a])}}},formatRatingIndicatorAggregateCount:function(e){var t=this.getModel("i18n").getResourceBundle();var r;if(e){r=t.getText("RATING_INDICATOR_AGGREGATE_COUNT",[e])}else if(this.getCustomData().length>0){r=t.getText("RATING_INDICATOR_AGGREGATE_COUNT",[this.data("AggregateCount")])}else{r=""}return r},formatDisplayValueForProgressIndicator:function(t,r,a){var i="";if(t!==null&&t!==undefined){t=t.toString()}if(r!==null&&r!==undefined){r=r.toString()}if(t){var o=this;var s=o.getModel("i18n").getResourceBundle();var g=o.getCustomData();var u=sap.ui.getCore().getConfiguration().getFormatSettings().getFormatLocale();t=e.getInstance(u).format(t);r=r||g.filter(function(e){if(e.getKey()==="Target"){return e}});r=typeof r==="object"?r[0]&&r[0].getValue():r;a=a||g.filter(function(e){if(e.getKey()==="UoM"){return e}});a=typeof a==="object"?a[0]&&a[0].getValue():a;if(a){if(a==="%"){i=s.getText("PROGRESS_INDICATOR_DISPLAY_VALUE_UOM_IS_PERCENT",[t])}else{if(r){r=e.getInstance(u).format(r);i=s.getText("PROGRESS_INDICATOR_DISPLAY_VALUE_UOM_IS_NOT_PERCENT",[t,r,a])}else{i=s.getText("PROGRESS_INDICATOR_DISPLAY_VALUE_UOM_IS_NOT_PERCENT_NO_TARGET_VALUE",[t,a])}}}else{if(r){r=e.getInstance(u).format(r);i=s.getText("PROGRESS_INDICATOR_DISPLAY_VALUE_NO_UOM",[t,r])}else{i=t}}}else{n.warning("Value property is mandatory, the default (empty string) will be returned")}return i}};return u},true);
//# sourceMappingURL=RuntimeFormatters.js.map