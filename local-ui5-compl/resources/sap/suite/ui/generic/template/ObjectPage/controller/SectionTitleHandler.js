sap.ui.define(["sap/ui/base/Object","sap/base/util/extend","sap/suite/ui/generic/template/genericUtilities/controlHelper","sap/ui/core/library","sap/suite/ui/generic/template/genericUtilities/FeLogger"],function(e,t,i,r,l){"use strict";var a="sapUiTableOnObjectPageAdjustmentsForSection";var n="ObjectPage.controller.SectionTitleHandler";var o=new l(n).getLogger();function s(e,t){var l=e.getOwnerComponent().getModel("_templPrivView");var n=Object.create(null);var s=e.getOwnerComponent().getAppComponent();t.getSections().forEach(function(e){var t=e.getSubSections();if(t.length===1){var i=t[0];var r=i.getId();n[r]={isStaticallySingleChild:true}}});function g(e,t){if(!s.getMergeObjectPageSectionTitle()){o.warning('Title of the section will not be adjusted as the manifest setting "mergeObjectPageSectionTitle" is set.');return}var g;for(var c=e;c;c=i.getParent(c)){if(i.isObjectPageSubSection(c)){if(c===e){var v=n[e.getId()];if(v&&v.titleOwner){v.titleOwner.reset()}return}g=c;break}}if(t&&(!g||g.getBlocks().concat(g.getMoreBlocks()).length>1)){return}var u=g.getParent();var f=u.getSubSections();var d=g.getId();var S=n[d];if(S){if(S.titleOwner){S.titleOwner.reset()}}else{S={};n[d]=S}var T=l.bindProperty("/#"+g.getId()+"/title");var h=e.getMetadata();var p=h.hasProperty("header");var b=(p?e.setHeader:e.setText).bind(e);var y=p?e.getHeader():e.getText();var L=h.hasProperty("headerLevel");var O=(L?e.setHeaderLevel:e.setLevel).bind(e);var m=h.hasProperty("headerStyle");var w=(m?e.setHeaderStyle:e.setTitleStyle).bind(e);var H=L?e.getHeaderLevel():e.getLevel();var P=m?e.getHeaderStyle():e.getTitleStyle();var A=function(){b(T.getValue());g.setShowTitle(false);g.setTitleLevel(r.TitleLevel.Auto);u.addStyleClass(a)};T.attachChange(A);S.titleOwner={reset:function(){b(y);O(H);w(P);u.removeStyleClass(a);g.setShowTitle(true);g.setTitleLevel(r.TitleLevel.H4);if(S.isStaticallySingleChild){u.setShowTitle(true);u.setTitleLevel(r.TitleLevel.H3)}delete S.titleOwner;T.destroy()}};A();if(S.isStaticallySingleChild){u.setShowTitle(false);u.setTitleLevel(r.TitleLevel.Auto)}O(S.isStaticallySingleChild?r.TitleLevel.H3:r.TitleLevel.H4);if(f.length===1){w(r.TitleLevel.H4)}}function c(e){if(e&&typeof e.getTitleVisible==="function"&&!e.getTitleVisible()){var t=e.getAggregation("blocks");if(t&&t.length>0){var i=t[0];if(i.isA("sap.ui.layout.Grid")){var r=i.getAggregation("content");if(r&&r.length>0){r.forEach(function(e){if(e.isA("sap.ui.comp.smartform.SmartForm")){var t=e.getAggregation("content");var i=t.getAggregation("formContainers");if(i&&i.length>0){i.forEach(function(e){var t=e.getAggregation("title");if(t){t.setProperty("level","H4")}})}}})}}}}}return{setAsTitleOwner:g,adjustSubSectionTitle:c}}return e.extend("sap.suite.ui.generic.template.ObjectPage.controller.SectionTitleHandler",{constructor:function(e,i){t(this,s(e,i))}})});
//# sourceMappingURL=SectionTitleHandler.js.map