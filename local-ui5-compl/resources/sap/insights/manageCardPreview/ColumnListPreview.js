/*!
 * 
		SAP UI development toolkit for HTML5 (SAPUI5)
		(c) Copyright 2009-2015 SAP SE. All rights reserved
	
 */
sap.ui.define(["sap/ui/core/Control","sap/ui/core/Core","sap/m/Label","sap/m/Title","sap/m/Text","sap/m/VBox","sap/m/Page","sap/m/FlexBox","sap/m/ScrollContainer","sap/m/Toolbar","sap/m/OverflowToolbar","sap/m/ToolbarSpacer","sap/m/HBox","sap/ui/integration/widgets/Card","sap/m/Panel","sap/m/Button","../utils/CardPreviewManager","sap/ui/model/resource/ResourceModel","../utils/DeviceType","sap/ui/Device","sap/m/Table","sap/m/SearchField","sap/m/Column","sap/ui/core/dnd/DragInfo","sap/ui/core/dnd/DropInfo","sap/ui/core/Icon","sap/m/ColumnListItem","sap/m/CheckBox","sap/m/ObjectIdentifier","sap/m/SegmentedButton","sap/m/SegmentedButtonItem","../utils/Transformations","sap/ui/model/Filter","sap/ui/model/FilterOperator","sap/ui/model/json/JSONModel","../base/InMemoryCachingHost","../utils/AppConstants","sap/ui/core/Element","../utils/InsightsUtils"],function(e,t,i,s,o,n,a,r,l,d,h,C,u,g,m,c,p,f,w,v,b,P,I,S,T,B,x,y,D,V,_,L,E,M,O,A,F,H,k){var N=e.extend("sap.insights.manageCardPreview.ColumnListPreview",{metadata:{properties:{manifest:{type:"string",group:"Behavior",defaultValue:""},dialogTitle:{type:"string",defaultValue:""}},aggregations:{_page:{type:"sap.m.Page",multiple:false,visibility:"hidden"}},events:{enableAddButton:{parameters:{enableButton:{type:"boolean"}}}}},renderer:{render:function(e,t){e.openStart("div",t);e.style("height","100%");e.style("width","100%");e.openEnd();e.renderControl(t.getAggregation("_page"));e.close("div")}}});N.prototype.init=function(){this.i18Bundle=new f({bundle:k.getResourceBundle()}).getResourceBundle();this._innerModel=new O;this._iDroppedIndex=null;this.setModel(this._innerModel);v.resize.attachHandler(this._adjustLayoutStyles.bind(this));this.oCardColumnPageHeader=new h(this.getId()+"--insightCardColumnPage-header",{});this.oCardColumnPageTitle=new s(this.getId()+"--insightCardPreviewTitle",{text:this.i18Bundle.getText("INT_PREVIEW_POPOVER_BUTTON_TITLE"),level:"H1"});this.oCardColumnPage=new a(this.getId()+"--insightCardColumnPage",{showSubHeader:true,backgroundDesign:"List",enableScrolling:false,headerContent:[],content:[],customHeader:[this.oCardColumnPageHeader]});this.setAggregation("_page",this.oCardColumnPage);this.host=new A(this.getId()+"--transactionalCardHost",{action:function(e){var t=e.getParameter("card")||{};this.oConfCard=t.getManifest()}.bind(this)});this.createStaticControls();this.oCardColumnPageHeader.addContent(this.oCardColumnPageTitle);this.oCardColumnPageHeader.addContent(new C(this.getId()+"--insightCardColumnPage-headerSpacer"));this.oCardColumnPageHeader.addContent(this.oCardPreviewBtn);this.oCardColumnPageHeader.addContent(this.oHideCardPreviewBtn);this.oCardColumnPage.addContent(this.oFlexContainerColumnContent)};N.prototype.onBeforeRendering=function(){this.oManifest=this.getManifest();if(this.oManifest){this.oManifest=JSON.parse(this.oManifest)}this._initConfigureCard(this.oManifest);const e=L.getDefaultColumns(this.oConfCard);if(e.length){this.oConfCard=L.selectColumnsForListCard(this.oConfCard,e);this.iVisibleColumnCount=e.length;this._innerModel.setProperty("/visibleColumnCount",this.iVisibleColumnCount);const t=this._findIdentifierTitle(this.cardColumn);this.oConfCard["sap.card"].content.item.attributes=t}this._adjustLayoutStyles();this.oInsightsColCardLayer.setVisible(this.oManifest["sap.card"].type==="Analytical"?false:true);this.oInsightsColCardLayerSD.setVisible(this.oManifest["sap.card"].type==="Analytical"?false:true)};N.prototype.createStaticControls=function(){this.oCardPreviewBtn=new c(this.getId()+"--cardPreviewId",{text:this.i18Bundle.getText("INT_DIALOG_CardPreview"),press:this._callPreview.bind(this),enabled:true});this.oHideCardPreviewBtn=new c(this.getId()+"--hideCardPreviewId",{text:this.i18Bundle.getText("INT_DIALOG_HidePreview"),press:this._callClosePreview.bind(this),enabled:true});this.oDefaultTitle=new s(this.getId()+"--defaultTitle",{text:this.i18Bundle.getText("INT_COLUMN_TITLE"),level:"H4"});this.oDefaultSubText=new o(this.getId()+"--defaultSubText",{text:this.i18Bundle.getText("INT_COLUMN_SUBTITLE")});this.oInsightsColumnEditVBox=new n(this.getId()+"--insightsColumnEditVBox",{direction:"Column",items:[this.oDefaultTitle,this.oDefaultSubText]}).addStyleClass("sapUiSmallMarginBegin sapUiSmallMarginTop sapUiTinyMarginBottom");this.oColumnSearch=new P(this.getId()+"--columnSearch",{placeholder:this.i18Bundle.getText("INT_COL_SEARCH"),liveChange:this._onColumnSearch.bind(this),ariaLabelledBy:[this.getId()+"--defaultTitle",this.getId()+"--defaultSubText"]}).addStyleClass("sapUiTinyMarginBottom");this.oColumnSearchVBox=new n(this.getId()+"--columnSearchVBox",{renderType:"Bare",items:[this.oColumnSearch]});this.oEditColumnsTableCheckBox=new I(this.getId()+"--editColumnsTableCheckBox",{hAlign:"Center"});this.oEditColumnsName=new I(this.getId()+"--editColumnsName",{});this.oColumnDrag=new S(this.getId()+"--idColumnDrag",{groupName:"editColumns",sourceAggregation:"items"});this.oColumnDrop=new T(this.getId()+"--idColumnDrop",{groupName:"editColumns",targetAggregation:"items",dropPosition:"On",drop:this._onColumnDrop.bind(this)});this.oInsightsCardsEditColumnsListTable=new b(this.getId()+"--insightsCardsEditColumnsListTable",{fixedLayout:"true",columns:[this.oEditColumnsTableCheckBox,this.oEditColumnsName],dragDropConfig:[this.oColumnDrag,this.oColumnDrop],updateFinished:function(){if(this._iDroppedIndex&&this._iDroppedIndex>=0){this.oInsightsCardsEditColumnsListTable.getItems()[this._iDroppedIndex].focus()}}.bind(this)}).addStyleClass("sapContrastPlus");this.oInsightsCardsEditColumnsListTable.attachBrowserEvent("keydown",this._attachDndHandler.bind(this,this.oInsightsCardsEditColumnsListTable,this._onColumnDrop.bind(this)));this.oEditColumnsScrollContainer=new l(this.getId()+"--idEditColumnsScrollContainer",{vertical:true,horizontal:false,height:"90%",width:"100%",content:[this.oInsightsCardsEditColumnsListTable]});this.oInsightsColumnEditFlexBox=new r(this.getId()+"--insightsColumnEditFlexBox",{height:"92%",width:"95%",direction:"Column",renderType:"Bare",items:[this.oColumnSearchVBox,this.oEditColumnsScrollContainer]}).addStyleClass("sapUiSmallMarginBegin sapUiSmallMarginEnd");this.oLabelColLayout=new i(this.getId()+"--labelColLayout",{text:this.i18Bundle.getText("INT_COL_LAYOUT")});this.oListViewSD=new _(this.getId()+"--idListViewSD",{icon:"sap-icon://list",key:"List"});this.oTableViewSD=new _(this.getId()+"--idTableViewSD",{icon:"sap-icon://table-view",key:"Table"});this.oSdColumnSegButton=new V(this.getId()+"--sdColumnSegButton",{width:"3.75rem",selectionChange:this._onSegmentedSelectionChange.bind(this),tooltip:this.i18Bundle.getText("INT_LAYOUT_TOOLTIP"),items:[this.oListViewSD,this.oTableViewSD]});this.oPreviewVBoxSD=new n(this.getId()+"--previewVBoxSD",{direction:"Column",height:"4rem",backgroundDesign:"Solid",items:[this.oLabelColLayout,this.oSdColumnSegButton]}).addStyleClass("sapUiSmallMarginBegin sapUiTinyMarginTop");this.oPreviewColCardSD=new g(this.getId()+"--previewColCardSD",{manifestApplied:this._setPreviewCardAriaText.bind(this,this.i18Bundle.getText("INT_DIALOG_TITLE_CardPreview")),width:"19rem",height:"32rem",host:this.host}).addStyleClass("sapUiTinyMarginBeginEnd sapUiTinyMarginTopBottom");this.oInsightsColOverflowInnerHBoxSD=new u(this.getId()+"--insightsColOverflowInnerHBoxSD",{}).addStyleClass("insightsCardOverflowLayer insightsPreviewCardOverLay insightsColOverLayPositionSD");this.oInsightsColCardLayerSD=new u(this.getId()+"--insightsColCardLayerSD",{height:"0",items:[this.oInsightsColOverflowInnerHBoxSD]}).addStyleClass("sapMFlexBoxJustifyCenter");this.oColCardsScrollSD=new l(this.getId()+"--colCardsScrollSD",{vertical:true,horizontal:false,height:"100%",content:[this.oPreviewColCardSD,this.oInsightsColCardLayerSD]});this.oPreviewColCardVBox=new n(this.getId()+"--previewColCardVBox",{width:"100%",height:"calc(100% - 4rem)",alignItems:"Center",backgroundDesign:"Solid",justifyContent:"SpaceAround",items:[this.oColCardsScrollSD]});this.oPreviewColCardFlex=new r(this.getId()+"--previewColCardFlex",{direction:"Column",height:"100%",width:"100%",items:[this.oPreviewVBoxSD,this.oPreviewColCardVBox]});this.oEditColumnInsightsCardsFlex=new r(this.getId()+"--editColumnInsightsCardsFlex",{height:"100%",width:"62%",direction:"Column",items:[this.oInsightsColumnEditVBox,this.oInsightsColumnEditFlexBox,this.oPreviewColCardFlex]});this.oInsightPreviewText=new s(this.getId()+"--insightPreviewText",{text:this.i18Bundle.getText("INT_DIALOG_TITLE_CardPreview"),textAlign:"Left"}).addStyleClass("sapUiTinyMarginTop sapUiSmallMarginEnd");this.oListViewLD=new _(this.getId()+"--idListViewLD",{icon:"sap-icon://list",key:"List"});this.oTableViewLD=new _(this.getId()+"--idTableViewLD",{icon:"sap-icon://table-view",key:"Table"});this.oColumnSegButton=new V(this.getId()+"--columnSegButton",{width:"3.75rem",selectionChange:this._onSegmentedSelectionChange.bind(this),tooltip:this.i18Bundle.getText("INT_LAYOUT_TOOLTIP"),items:[this.oListViewLD,this.oTableViewLD],ariaLabelledBy:[this.getId()+"--insightPreviewText",this.getId()+"--columnSegButton"]});this.oPreviewTextHBox=new u(this.getId()+"--idPreviewTextHBox",{width:"100%",justifyContent:"Start",backgroundDesign:"Transparent",renderType:"Bare",items:[this.oInsightPreviewText,this.oColumnSegButton]});this.oPreviewPanelToolBar=new d(this.getId()+"--previewPanelToolBar",{style:"Clear",design:"Auto",content:[this.oPreviewTextHBox]}).addStyleClass("sapThemeBaseBG");this.oPreviewCard=new g(this.getId()+"--previewCard",{manifestApplied:this._setPreviewCardAriaText.bind(this,this.i18Bundle.getText("INT_DIALOG_TITLE_CardPreview")),width:"19rem",height:"35rem",host:this.host}).addStyleClass("sapMFlexBoxJustifyCenter");this.oInsightsColOverflowInnerHBox=new u(this.getId()+"--insightsColOverflowInnerHBox",{}).addStyleClass("insightsCardOverflowLayer insightsPreviewCardOverLay insightsColOverLayPositionLS");this.oInsightsColCardLayer=new u(this.getId()+"--insightsColCardLayer",{height:"0",items:[this.oInsightsColOverflowInnerHBox]}).addStyleClass("insightsCardOverflowLayer insightsPreviewCardOverLay");this.oCardsPreviewVBox=new n(this.getId()+"--idCardsPreviewVBox",{height:"100%",alignItems:"Center",backgroundDesign:"Transparent",justifyContent:"SpaceAround",items:[this.oPreviewCard,this.oInsightsColCardLayer]});this.oPreviewPanelContainer=new m(this.getId()+"--previewPanelContainer",{expanded:false,height:"100%",backgroundDesign:"Transparent",headerToolbar:[this.oPreviewPanelToolBar],content:[this.oCardsPreviewVBox]});this.oColCardsScroll=new l(this.getId()+"--colCardsScroll",{vertical:true,horizontal:false,height:"100%",content:[this.oPreviewPanelContainer]});this.oColumnPreviewCardFlexbox=new r(this.getId()+"--columnPreviewCardFlexbox",{direction:"Column",width:"38%",height:"100%",renderType:"Bare",items:[this.oColCardsScroll]}).addStyleClass("sapMPageBgStandard");this.oFlexContainerColumnContent=new n(this.getId()+"--flexContainerColumnContent",{height:"100%",width:"100%",direction:"Row",justifyContent:"SpaceBetween",items:[this.oEditColumnInsightsCardsFlex,this.oColumnPreviewCardFlexbox]})};N.prototype._setPreviewCardAriaText=function(e,t){var i=t.getSource()._ariaText.getText();var s=this.i18Bundle.getText(e);t.getSource()._ariaText.setText(s+i)};N.prototype._callPreview=function(){var e,t;t=w.getDialogBasedDevice()!==F.DEVICE_TYPES.Desktop;if(t){this.bShowPreview=true;this.oCardPreviewBtn.setVisible(false);this.oHideCardPreviewBtn.setVisible(true);this.oPreviewColCardVBox.setVisible(true);this.oPreviewColCardFlex.setVisible(true);this.oInsightsColumnEditFlexBox.setVisible(false);this.oColumnPreviewCardFlexbox.setVisible(false);this.oInsightsColumnEditVBox.setVisible(false);e=t?this.oPreviewColCardSD:this.oPreviewCard}if(e){e.refresh()}};N.prototype._callClosePreview=function(){this.bShowPreview=false;this.oHideCardPreviewBtn.setVisible(false);this.oCardPreviewBtn.setVisible(true);this.oPreviewColCardFlex.setVisible(false);this.oInsightsColumnEditFlexBox.setVisible(true);this.oColumnPreviewCardFlexbox.setVisible(false);this.oInsightsColumnEditVBox.setVisible(true)};N.prototype._onColumnSearch=function(e){var t="";if(e){t=e.getSource().getValue()}var i=new E("title",M.Contains,t);var s=[];s.push(i);var o=this.oInsightsCardsEditColumnsListTable;var n=o.getBinding("items");n.filter(s,"Application")};N.prototype._refreshShowPreview=function(){this.bShowPreview=true;var e=w.getDialogBasedDevice()===F.DEVICE_TYPES.Desktop;var t=e?this.oPreviewCard:this.oPreviewColCardSD;if(t){t.refresh()}};N.prototype._onColumnDrop=function(e){var t=e.getParameter?e.getParameter("dropPosition"):e.dropPosition,i=e.getParameter?e.getParameter("draggedControl"):e.draggedControl,s=e.getParameter?e.getParameter("droppedControl"):e.droppedControl,o=i.getBindingContextPath().split("/"),n=Number(o[2]),a=s.getBindingContextPath().split("/"),r=Number(a[2]),l=this.cardColumn;if(t==="Before"&&n===r-1){r--}else if(t==="After"&&n===r+1){r++}if(n!==r){if(t==="Before"&&n<r){r--}else if(t==="After"&&n>r){r++}var d=l.splice(n,1)[0];l.splice(r,0,d);this.cardColumn=l;this._innerModel.setProperty("/cardColumn",this.cardColumn);var h=this.cardColumn.filter(function(e){return!e.identifier});if(this.oConfCard["sap.card"]&&this.oConfCard["sap.card"].content&&this.oConfCard["sap.card"].content.item){this.oConfCard["sap.card"].content.item.attributes=h}var C=w.getDialogBasedDevice()===F.DEVICE_TYPES.Desktop;var u=C?this.oPreviewCard:this.oPreviewColCardSD;if(u){u.setManifest(this.oConfCard)}if(w.getDialogBasedDevice()===F.DEVICE_TYPES.Desktop){this._refreshShowPreview()}}};N.prototype._handleColumnVisibilityToggle=function(e){var t=e.getSource();this.sColumnPath=t.getBindingContext().getPath();var i=this._innerModel.getProperty(this.sColumnPath);var s=t.getSelected();i["visible"]=s;var o=this.iVisibleColumnCount;this.iVisibleColumnCount=s?o+1:o-1;if(this.oConfCard["sap.card"].content.row){this.oConfCard["sap.card"].content.row.columns=this.cardColumn}else{var n=this._findIdentifierTitle(this.cardColumn);if(i.identifier&&this.oConfCard["sap.card"].content&&this.oConfCard["sap.card"].content.item){if(s){this.oConfCard["sap.card"].content.item.title=this._oListTitle}else{delete this.oConfCard["sap.card"].content.item.title}}this.oConfCard["sap.card"].content.item.attributes=n}this._innerModel.setProperty("/visibleColumnCount",this.iVisibleColumnCount);if(this.iVisibleColumnCount>0){this.fireEnableAddButton({enableButton:true})}else{this.fireEnableAddButton({enableButton:false})}if(w.getDialogBasedDevice()===F.DEVICE_TYPES.Desktop){this.oPreviewCard.setPreviewMode(this.iVisibleColumnCount>0?"Off":"Abstract");this._refreshShowPreview()}else{this.oPreviewColCardSD.setPreviewMode(this.iVisibleColumnCount>0?"Off":"Abstract")}};N.prototype._onSegmentedSelectionChange=function(){var e=w.getDialogBasedDevice()===F.DEVICE_TYPES.Desktop?this.oColumnSegButton:this.oSdColumnSegButton,t=e.getSelectedKey();if(t==="Table"){if(this.oConfCard["sap.card"].content&&this.oConfCard["sap.card"].content.item&&this._oListTitle){if(this.oConfCard["sap.card"].content.item.title){delete this.oConfCard["sap.card"].content.item.title}this.oConfCard["sap.card"].content.item.attributes=this.cardColumn}var i=L.createListOptions(this.oConfCard);var s=i.filter(function(e){if(e){return e["sap.card"].type==="Table"}});if(s.length){this.oConfCard=s[0];var o=s[0]["sap.card"].content.row.columns;this.cardColumn=o}}else if(t==="List"){var n=L.createTableOptions(this.oConfCard);var a=n.filter(function(e){if(e){return e["sap.card"].type==="List"}});if(a.length){this.oConfCard=a[0];this.cardColumn=a[0]["sap.card"].content.item.attributes}var r=this._findIdentifierTitle(this.cardColumn);if(this.oConfCard["sap.card"].content&&this.oConfCard["sap.card"].content.item){this.oConfCard["sap.card"].content.item.attributes=r;this.oConfCard["sap.card"].content.item.title=this._oListTitle&&this._oListTitle.visible?this._oListTitle:null}}this._innerModel.setProperty("/cardColumn",this.cardColumn);var l=w.getDialogBasedDevice()===F.DEVICE_TYPES.Desktop;var d=l?this.oPreviewCard:this.oPreviewColCardSD;if(d){d.setManifest(this.oConfCard)}};N.prototype._setCardColumnValue=function(e){var t=e["sap.card"];if(t.type==="Table"){var i;i=t.content.row.columns;this.cardColumn=i;var s=i.map(function(e){e["visible"]=e["visible"]?e["visible"]:false;return e}).filter(function(e){return e.visible});this.iVisibleColumnCount=s.length;this._innerModel.setProperty("/visibleColumnCount",this.iVisibleColumnCount);var o=L.createTableOptions(this.oConfCard);var n=o.filter(function(e){return e["sap.card"].type==="List"});if(n.length){this.oConfCard=n[0];var a=n[0]["sap.card"].content.item.attributes;this.cardColumn=a}this._innerModel.setProperty("/cardColumn",this.cardColumn);this.oInsightsCardsEditColumnsListTable.bindAggregation("items",{path:"/cardColumn",factory:this._generateTableColumnsTemplate.bind(this)})}};N.prototype._generateTableColumnsTemplate=function(){var e=new x({});var t=new D({title:"{title}",tooltip:"{title}"}).addStyleClass("sapUiNoPadding");var i=new u({items:[new B({src:"sap-icon://BusinessSuiteInAppSymbols/icon-grip"}).addStyleClass("compositeDndIcon"),new y({selected:"{= ${visible} ? true : false}",enabled:"{= !(!${visible} && (${/visibleColumnCount} > 2)) ? true : false}",select:this._handleColumnVisibilityToggle.bind(this),ariaLabelledBy:[t.getId()]})]}).addStyleClass("sapUiNoPadding");e.addCell(i);e.addCell(t);return e};N.prototype._adjustLayoutStyles=function(){if(w.getDialogBasedDevice()!==F.DEVICE_TYPES.Desktop){this.bDesktop=false;if(this.bShowPreview===true){this.oCardPreviewBtn.setVisible(false);this.oHideCardPreviewBtn.setVisible(true);this.oPreviewColCardFlex.setVisible(true);this.oInsightsColumnEditFlexBox.setVisible(false);this.oInsightsColumnEditVBox.setVisible(false)}else{this.oCardPreviewBtn.setVisible(true);this.oHideCardPreviewBtn.setVisible(false);this.oPreviewColCardFlex.setVisible(false);this.oInsightsColumnEditFlexBox.setVisible(true);this.oInsightsColumnEditVBox.setVisible(true);this.oEditColumnInsightsCardsFlex.setWidth("100%")}this.oColumnPreviewCardFlexbox.setVisible(false);this.oPreviewColCardSD.setManifest(this.oConfCard);this.oColumnSearch.setWidth("90%");this.oEditColumnsTableCheckBox.setWidth("20%");this.oEditColumnsName.setWidth("80%");this.oSdColumnSegButton.setSelectedKey(this.oConfCard["sap.card"].type);this.oPreviewColCardSD.refresh()}else{this.bDesktop=true;this.oColumnSearch.setWidth("100%");this.oEditColumnsTableCheckBox.setWidth("10%");this.oEditColumnsName.setWidth("90%");this.oPreviewCard.setManifest(this.oConfCard);this.oColumnSegButton.setSelectedKey(this.oConfCard["sap.card"].type);this.oCardPreviewBtn.setVisible(false);this.oHideCardPreviewBtn.setVisible(false);this.oPreviewColCardFlex.setVisible(false);this.oInsightsColumnEditVBox.setVisible(true);this.oInsightsColumnEditFlexBox.setVisible(true);this.oColumnPreviewCardFlexbox.setVisible(true);this.oPreviewCard.refresh()}var e=!this.bDesktop&&this.bShowPreview;this.oPreviewColCardVBox.setVisible(e?true:false);this.oPreviewColCardFlex.setVisible(e?true:false);this.oCardColumnPage.setTitle(this.getDialogTitle())};N.prototype._initConfigureCard=function(e){var t=e,i;var s=H.getElementById("myhomeSettingsView--INSIGHTS_CARDS");this.oOrgCard=t;i=JSON.parse(JSON.stringify(t));i=p.getCardPreviewManifest(i);this.oConfCard=i;this.iVisibleColumnCount=this.iVisibleColumnCount?this.iVisibleColumnCount:0;if(i){var o=i["sap.card"];if(o.type==="Table"){var n=w.getDialogBasedDevice()===F.DEVICE_TYPES.Desktop?this.oColumnSegButton:this.oSdColumnSegButton;n.setSelectedKey(this.oManifest["sap.card"].type);this._setCardColumnValue(i,s)}}};N.prototype._attachDndHandler=function(e,i,s){var o=s.metaKey||s.ctrlKey;if(o&&(s.key==="ArrowUp"||s.key==="ArrowDown")){s.preventDefault();var n=s.key==="ArrowUp"?"Before":"After";var a=e.getItems();var r=t.getCurrentFocusedControlId();var l=a.findIndex(e=>e.getId()===r);if(l>=0&&l<a.length){var d=s.key==="ArrowDown"?l+1:l-1;if(d>=0&&d<a.length){var h=a[l];var C=a[d];var s={draggedControl:h,droppedControl:C,dropPosition:n};this._iDroppedIndex=d;i(s)}a.forEach(function(e,t){e.tabIndex=t===d?0:-1})}}};N.prototype._findIdentifierTitle=function(e){var t=[];t=e.filter(e=>{if(e.identifier){this._oListTitle=e}return!e.identifier});return t};return N});
//# sourceMappingURL=ColumnListPreview.js.map