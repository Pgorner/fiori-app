/*!
 * 
		SAP UI development toolkit for HTML5 (SAPUI5)
        (c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.define(["sap/ui/test/OpaBuilder","./FEBuilder","sap/fe/test/Utils","sap/ui/test/matchers/Interactable"],function(e,t,r,n){"use strict";var o=function(){return t.apply(this,arguments)};o.create=function(e){return new o(e)};o.prototype=Object.create(t.prototype);o.prototype.constructor=o;o._toggleOverflow=function(r,o,s){var a="overflowButton";if(s){a=s+"-"+a}return r.doConditional(e.Matchers.childrenMatcher(e.create().has(t.Matchers.id(new RegExp(a+"$"))).hasProperties({pressed:!o}).has(new n).mustBeEnabled().mustBeVisible()),e.Actions.press(a))};o.openOverflow=function(e,t){return o._toggleOverflow(e,true,t)};o.closeOverflow=function(e,t){return o._toggleOverflow(e,false,t)};o.prototype.doOpenOverflow=function(){return o.openOverflow(this)};o.prototype.doCloseOverflow=function(){return o.closeOverflow(this)};o.prototype.doOnContent=function(r,o){var s=new t(this.getOpaInstance(),this.build()).hasType("sap.m.OverflowToolbar"),a=function(e){if(e.isA("sap.fe.macros.ShareAPI")||e.isA("sap.fe.macros.DraftToggle")){return!!e.getContent().getText}else{return!!e.getText}},c=t.Matchers.deepAggregation("content",[new n,a,r]),i=function(e){return e.getAggregation("_button")?e.getAggregation("_button").getAggregation("_textButton"):null},u=function(){s.has(function(e){return c(e).length===1}).do(function(t){var r=c(t)[0];if(r.isA("sap.fe.macros.ShareAPI")||r.isA("sap.fe.macros.DraftToggle")){r=r.getContent()}var n=r.getMetadata().getName()==="sap.m.MenuButton"?i(r)||r:r;e.Actions.executor(o||e.Actions.press())(n)}).execute()};return this.doOpenOverflow().success(u)};o.prototype.hasContent=function(r,n){var s=new o(this.getOpaInstance(),this.build()),a=[r,t.Matchers.states(n)];if(n&&n.visible===false){n=Object.assign(n);delete n.visible;s.hasSome(e.Matchers.aggregationMatcher("content",a),e.Matchers.not(e.Matchers.aggregationMatcher("content",[r,t.Matchers.states(n)])),e.Matchers.children(e.Matchers.match([r,t.Matchers.states(n)])))}else{s.hasSome(e.Matchers.aggregationMatcher("content",a),e.Matchers.children(e.Matchers.match([r,t.Matchers.states(n)])))}return this.doOpenOverflow().success(s)};return o});
//# sourceMappingURL=OverflowToolbarBuilder.js.map