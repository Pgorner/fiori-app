/*!
 * 
		SAP UI development toolkit for HTML5 (SAPUI5)
        (c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.define(["sap/ui/test/Opa5","sap/ui/test/OpaBuilder","./FEBuilder","./MacroFieldBuilder","./OverflowToolbarBuilder","./DialogBuilder","sap/fe/test/Utils","sap/fe/test/api/APIHelper","sap/ui/test/matchers/Interactable","sap/ui/core/library","sap/ui/test/actions/EnterText","sap/ui/core/Lib"],function(e,t,r,n,s,o,a,i,c,u,l,p){"use strict";var h=u.SortOrder;var g=p.getResourceBundleFor("sap.m");var d={Custom:"Custom",Navigation:"Navigation",Delete:"Delete"};var f=function(){return r.apply(this,arguments).hasType("sap.ui.mdc.Table").hasProperties({busy:false})};function m(e){if(Array.isArray(e)){e=e[0]}return e.getType().isA("sap.ui.mdc.table.GridTableType")}function y(e){return m(e)?"rows":"items"}function M(e,t){var r=Number(e);return Number.isNaN(r)?t.getColumns().findIndex(function(t){return t.getHeader()===e||t.getPropertyKey()===e}):r}function T(e){var t=e;while(t&&!t.isA("sap.ui.mdc.Table")){t=t._feMdcTableWrapper||t.getParent()}return t}function C(e,t){var r=T(t);return r?M(e,r):-1}function A(e){var t=e,r=e.getMetadata().getName()==="sap.ui.table.Row"?"sap.ui.table.Table":"sap.ui.mdc.Table";while(t&&!t.isA(r)){t=t._feMdcTableWrapper||t.getParent()}return t}function b(e,t){var r;if(!e){return null}if(e.isA("sap.ui.mdc.table.CreationRow")){r=e._oInnerCreationRow._getCell(t)}else if(e.isA("sap.ui.table.CreationRow")){r=e._getCell(t)}else{r=e.getCells()[t]}if(r.isA("sap.fe.macros.MacroAPI")){r=r.getContent()}return r}function w(e,n){if(e.isA("sap.fe.macros.MacroAPI")){e=e.getContent()}var s={controlType:"sap.m.Button"},o;if(n){s.text=n}o=r.Matchers.states(s);return o(e)?[e]:t.Matchers.children(o)(e)}function v(e,t){var r=Number(e);if(Number.isNaN(r)){return t.getCells().reduce(function(t,r){return t.concat(w(r,e))},[])}return w(b(t,r))}function O(e){var t=e.getRowAction();return t.getItems().reduce(function(e,r,n){if(!e&&r.getType()===d.Navigation){e=t.getAggregation("_icons")[n]}return e},null)}function x(e){var t=[new c,r.Matchers.bound()];if(a.isOfType(e,Object)){e=f.Row.Matchers.cellValues(e)}if(e){t=t.concat(e)}return t}function I(e){return e&&e._oTable}function S(e,r,n,s){s=s||"sap.m.Button";return e.doOpenOverflow().success(function(e){return t.create().hasType(s).hasId(RegExp(a.formatMessage("-{0}$",r))).has(t.Matchers.ancestor(e)).doConditional(!!n,n).execute()})}function P(e,t){return{getHeader:function(){return t?e.getLabel()&&e.getLabel().getText()||e.getName():e.getHeader()&&e.getHeader().getText()},getDataProperty:function(){return"$data property not available$"},getPropertyKey:function(){return"$data property not available$"}}}function R(e){var t=e.isA("sap.ui.table.Table"),r={_oTable:e,isA:function(e){return e==="sap.ui.mdc.Table"},getType:function(){return{isA:function(e){return e===(t?"sap.ui.mdc.table.GridTableType":"sap.ui.mdc.table.ResponsiveTableType")}}},getColumns:function(){return e.getColumns().map(function(e){return P(e,t)})},getRowBinding:function(){return e.getBinding(y(r))}};e._feMdcTableWrapper=r;return r}function B(e){var n;if(e!==undefined){n=e?"showDetails":"hideDetails"}t.create().hasType("sap.m.SegmentedButton").hasId(/-showHideDetails$/).check(function(t){if(e===undefined){n=t[0].getSelectedKey()==="showDetails"?"hideDetails":"showDetails"}return true}).success(function(e){return r.create().hasType("sap.m.SegmentedButton").hasId(/-showHideDetails$/).doOnAggregation("items",t.Matchers.properties({key:n}),t.Actions.press()).execute()}).execute()}function E(n){var s=e.getWindow().sap.ui.require("sap/ui/core/Lib").getResourceBundleFor("sap.ui.mdc"),o;if(n!==undefined){o=n?s.getText("table.SHOWDETAILS_TEXT"):s.getText("table.HIDEDETAILS_TEXT")}return t.create().hasType("sap.m.Select").hasId(/-showHideDetails-select$/).check(function(e){if(n===undefined){o=e[0].getSelectedItem().getText()===s.getText("table.SHOWDETAILS_TEXT")?s.getText("table.HIDEDETAILS_TEXT"):s.getText("table.SHOWDETAILS_TEXT")}return true}).doPress().success(function(e){return r.create().hasType("sap.m.SelectList").isDialogElement(true).has(function(e){return true}).has(i.createMenuAndListActionMatcher(o,true)).doPress().description(a.formatMessage("Executing action '{0}' from currently open selection list",o)).execute()}).execute()}function D(e,r){return t.create().isDialogElement().hasType("sap.m.ToggleButton").hasProperties({text:e}).doPress().description(a.formatMessage(r+" column '{0}'",e))}f.create=function(e){return new f(e)};f.createWrapper=function(e,t,r){var n=new f(e).hasType(t);if(r){n.has(r)}return n.has(function(e){return R(e)})};f.prototype=Object.create(r.prototype);f.prototype.constructor=f;f.prototype.getStatesMatcher=function(e){return f.Matchers.states(e)};f.prototype.hasColumns=function(e,t){if(!e||Object.keys(e).length===0){return this}return this.has(f.Matchers.columnsMatcher(e,t))};f.prototype.hasTitle=function(e){return this.hasChildren(r.create(this).hasType("sap.m.Title").hasProperties({text:e}))};f.prototype.hasSearchField=function(e,n){var s=a.parseArguments([String,Object],arguments);n=s[1];var o=new f(this.getOpaInstance(),this.build()).has(n&&n.visible===false&&n.present!==true,t.Matchers.not(r.Matchers.deepAggregationMatcher("actions/action",r.Matchers.id(/BasicSearch$/))),t.Matchers.childrenMatcher(r.create(this).hasType("sap.fe.macros.table.BasicSearch").checkNumberOfMatches(1).hasProperties(n).hasAggregation("filter",t.Matchers.properties(s[0]?{value:e}:{}))));return this.doOpenOverflow().success(o)};f.prototype.hasRows=function(e,t){e=x(e);return t?this.has(f.Matchers.rows(e)):this.has(f.Matchers.rowsMatcher(e))};f.prototype.doOnRows=function(e,r){if(arguments.length===1){r=e;e=undefined}if(!r){return this}return this.hasRows(e,true).do(t.Actions.executor(r))};f.prototype.doClickOnCell=function(e,r){return this.doOnRows(e,f.Row.Actions.onCell(r,t.Actions.press()))};f.prototype.doClickOnRow=function(e){return this.doOnRows(e,function(e){if(e.getMetadata().getName()==="sap.ui.table.Row"){var r=e.getParent(),n=r.indexOfRow(e);return t.Actions.press("rows-row"+n).executeOn(r)}return t.Actions.press().executeOn(e.getMultiSelectControl()||e.getSingleSelectControl())})};f.prototype.doScroll=function(e){return this.do(function(t){switch(e){case"up":t.scrollToIndex(0);break;case"down":default:t.scrollToIndex(-1);break}})};f.prototype.doPressKeyboardShortcut=function(e,t,n){if(t&&n){return this.doOnRows(t,f.Row.Actions.onCell(n,r.Actions.keyboardShortcut(e,"input")))}return this.do(r.Actions.keyboardShortcut(e,true))};f.prototype.doEditValues=function(e,t,r){if(arguments.length===1){t=e;e=undefined}return this.hasColumns(t,true).doOnRows(e,f.Row.Actions.editCells(t,r))};f.prototype.doEditCreationRowValues=function(e,r){return this.hasColumns(e,true).has(t.Matchers.aggregation("creationRow")).do(f.Row.Actions.editCells(e,r))};f.prototype.doSelectValueHelpTableRows=function(e){return this.doOnRows(e,function(e){if(e.getMetadata().getName()==="sap.ui.table.Row"){var r=e.getParent(),n=r.indexOfRow(e);return t.Actions.press("rowsel"+n).executeOn(r)||t.Actions.press("rows-row"+n).executeOn(r)}return t.Actions.press().executeOn(e.getMultiSelectControl()||e.getSingleSelectControl())})};f.prototype.doSelect=function(e){return this.doOnRows(e,function(e){var r=A(e);if(r.getBusy()){r.setBusy(false)}if(e.getMetadata().getName()==="sap.ui.table.Row"){var n=r.indexOfRow(e);return t.Actions.press("rowsel"+n).executeOn(r)}return t.Actions.press().executeOn(e.getMultiSelectControl()||e.getSingleSelectControl())})};f.prototype.doSelectAll=function(){return this.do(function(e){var r=m(e);if(r){return t.Actions.press("selall").executeOn(e.getAggregation("_content"))}return t.Actions.press("sa").executeOn(e.getAggregation("_content"))})};f.prototype.doNavigate=function(e){return this.doOnRows(e,function(e){if(e.getMetadata().getName()==="sap.ui.table.Row"){return t.Actions.press().executeOn(O(e))}return t.Actions.press("imgNav").executeOn(e)})};f.prototype.doPressColumnHeader=function(e){return this.has(f.Matchers.columnControl(e)).has(r.Matchers.singleElement()).doPress()};f.prototype.doColumnHeaderSorting=function(e,n,s,o,i){var c=s===h.Ascending?"sap-icon://sort-ascending":"sap-icon://sort-descending";var u=t.create().isDialogElement().hasType("sap.m.Button").hasProperties({text:"OK"}).doPress().description("Confirming the Sorting dialog");var l=t.create().isDialogElement().hasType("sap.m.Button").hasProperties({icon:"sap-icon://decline"}).doPress().description("Removing all previous sortings");var p=t.create(this).isDialogElement().hasType("sap.m.ComboBox").hasProperties({value:n});var d=t.create(this).isDialogElement().hasType("sap.m.CustomListItem").hasChildren(t.create(this).hasType("sap.m.ComboBox").hasProperties({value:n})).doOnChildren(t.create(this).hasType("sap.m.Button").hasProperties({icon:c}).doPress()).description(a.formatMessage("Change existing sorting field '{0}': {1}",n,s)).success(u);var f=t.create(this).isDialogElement().hasType("sap.m.CustomListItem").hasChildren(t.create(this).hasType("sap.m.ComboBox").hasProperties({placeholder:"Sort By"}).hasProperties({value:""})).doOnChildren(t.create(this).hasType("sap.m.ComboBox").hasProperties({placeholder:"Sort By"}).hasProperties({value:""}).doEnterText(n,true,false,true)).doOnChildren(t.create(this).hasType("sap.m.Button").hasProperties({icon:c}).doPress()).description(a.formatMessage("Insert new sorting field '{0}': {1}",n,s)).success(u);var m=t.create().isDialogElement().hasType("sap.m.p13n.SortPanel").do(function(){if(i){l.execute()}if(!r.controlsExist(p)||i){return f.execute()}else{return d.execute()}});var y=t.create().isDialogElement().hasType("sap.m.StandardListItem").hasProperties({icon:o}).doPress().description("Opening the Sorting dialog").success(m);var M=t.create().isDialogElement().hasType("sap.m.ToggleButton").hasProperties({text:s}).has(function(e){if(typeof e.getParent().getLabel==="function"){return e.getParent().getLabel()===a.formatMessage(g.getText("table.COLUMNMENU_QUICK_SORT"),n)}return false}).doPress().description(a.formatMessage("Sorting column '{0}': {1}",e,s));return this.doPressColumnHeader(e).success(i?M:y)};f.prototype.doSortByColumn=function(e,t,r,n){var s="sap-icon://sort";return this.doColumnHeaderSorting(e,t,r,s,n)};f.prototype.doColumnHeaderGrouping=function(e,t){var r=!t?e:t,n=D(r,"Grouping");return this.doPressColumnHeader(e).success(n)};f.prototype.doGroupByColumn=function(e,t){return this.doColumnHeaderGrouping(e,t)};f.prototype.doColumnHeaderAggregating=function(e,t){var r=!t?e:t,n=D(r,"Aggregating");return this.doPressColumnHeader(e).success(n)};f.prototype.doAggregateByColumn=function(e,t){return this.doColumnHeaderAggregating(e,t)};f.prototype.doChangeSearch=function(e){var r=new f(this.getOpaInstance(),this.build()).doOnChildren(t.create(this).hasType("sap.fe.macros.table.BasicSearch").checkNumberOfMatches(1).doOnAggregation("filter",t.Actions.press(),t.Actions.enterText(e||"")));return this.doOpenOverflow().success(r)};f.prototype.doResetSearch=function(){var e=new f(this.getOpaInstance(),this.build()).doOnChildren(t.create(this).hasType("sap.fe.macros.table.BasicSearch").checkNumberOfMatches(1).doOnAggregation("filter",t.Actions.press(),t.Actions.press("reset")));return this.doOpenOverflow().success(e)};f.prototype.checkColumnHeaderAction=function(e,r,n,s,o){var a=t.create().isDialogElement().hasType("sap.m.Button").hasProperties({text:"Cancel"}).doPress().description("Cancelling the dialog");var i=t.create().isDialogElement().hasType("sap.m.StandardListItem").hasProperties({icon:r}).doPress().success(a);var c=t.create().isDialogElement().hasType("sap.m.ToggleButton").has(function(e){if(typeof e.getParent().getLabel==="function"){return e.getParent().getLabel()===o}return false}).checkNumberOfMatches(s).success(i);var u=t.create().isDialogElement().hasType("sap.m.ToggleButton").hasProperties({text:n}).has(function(e){if(typeof e.getParent().getLabel==="function"){return e.getParent().getLabel()===o}return false}).checkNumberOfMatches(s).success(i);return this.doPressColumnHeader(e).success(n?u:c)};f.prototype.hasGroupByColumn=function(e,t,r){return this.checkColumnHeaderAction(e,"sap-icon://group-2",t,r,g.getText("table.COLUMNMENU_QUICK_GROUP"))};f.prototype.hasAggregationColumn=function(e,t,r){return this.checkColumnHeaderAction(e,"sap-icon://table-column",t,r,g.getText("table.COLUMNMENU_QUICK_TOTAL"))};f.prototype.doExpand=function(e){return this.doOnRows(e,function(e){if(e.getMetadata().getName()==="sap.ui.table.Row"){e.expand()}})};f.prototype.doCollapse=function(e){return this.doOnRows(e,function(e){if(e.getMetadata().getName()==="sap.ui.table.Row"){e.collapse()}})};f.prototype.hasOverlay=function(e){return this.has(f.Matchers.overlay(e))};f.prototype.hasNumberOfRows=function(e){return this.has(function(t){var r=t.getRowBinding(),n=f.Matchers.overlay(true)(t);return r&&!n&&(e===undefined?r.getLength()!==0:r.getLength()===e)||(!r||n)&&e===0})};f.prototype.hasHeaderFocused=function(){return this.has(function(t){var r=e.getWindow().sap.ui.require("sap/ui/core/Core"),n=r.getCurrentFocusedControlId(),s=I(t);if(m(t)){return s.getColumns()[0].getId()===n}else{return s.getId()===n}})};f.prototype.hasFocusOnRow=function(t){return this.has(function(r){var n=e.getWindow().sap.ui.require("sap/ui/core/Core"),s=n.getCurrentFocusedControlId(),o=I(r);if(m(r)){return s.includes(o.getRows()[t].getId())}else{return s===o.getItems()[t].getId()}})};f.prototype.hasQuickFilterItems=function(e){return this.has(function(t){var r=t.getQuickFilter()?.content;if(r){var n=r.getItems();if(a.isOfType(n,Array)){return n.length===e}return false}return false})};f.prototype.doSelectQuickFilter=function(e){return this.has(function(e){return e.getQuickFilter().content}).doConditional(r.Matchers.state("controlType","sap.m.Select"),t.Actions.press()).success(function(n){return r.create(this).hasId([].concat(n)[0].getId()).doOnAggregation("items",e,t.Actions.press()).execute()}.bind(this))};f.prototype.doPressMore=function(){return this.do(function(e){return r.create(this).hasId(e._oTable.getId("trigger")).do(t.Actions.press()).execute()}.bind(this))};f.prototype.doOpenOverflow=function(){return s.openOverflow(this,"toolbar")};f.prototype.doCloseOverflow=function(){return s.closeOverflow(this,"toolbar")};f.prototype.doExecuteAction=function(e,n){var s=new f(this.getOpaInstance(),this.build()),o=function(e){return!!e.getText||e.isA("sap.fe.core.buildingBlocks.BuildingBlock")&&!!e.getContent()?.getText},a=r.Matchers.deepAggregation("actions/action",[o,e]),i=function(e){return e.getAggregation("_button")?e.getAggregation("_button").getAggregation("_textButton"):null},c=function(){s.has(function(e){return a(e).length===1}).do(function(e){var r=a(e)[0];if(r.isA("sap.fe.core.buildingBlocks.BuildingBlock")){r=r.getContent()}var s=r.getMetadata().getName()==="sap.m.MenuButton"?i(r)||r:r;t.Actions.executor(n||t.Actions.press())(s)}).execute()};return this.doOpenOverflow().success(c)};f.prototype.doClickOnMessageStripFilter=function(){return this.do(function(e){var r=e.getDataStateIndicator()._oLink;return t.create().hasType("sap.m.Link").hasId(r.getId()).description("Press the messageStrip filter on Table").doPress().execute()})};f.prototype.hasShowHideDetails=function(){return S(this,"showHideDetails",false)};f.prototype.doShowHideDetails=function(e){return this.doOpenOverflow().success(function(r){if(m(r)){return}t.create().hasType("sap.m.SegmentedButton").hasId(/-showHideDetails$/).doConditional(t.Matchers.childrenMatcher(t.create(this).hasType("sap.m.Select"),true),function(t){E(e);return true},function(t){B(e);return true}).execute()})};f.prototype.hasColumnAdaptation=function(){return S(this,"settings",false)};f.prototype.doOpenColumnAdaptation=function(){return S(this,"settings",t.Actions.press())};f.prototype.hasColumnSorting=function(){return S(this,"settings",false)};f.prototype.doOpenColumnSorting=function(){return S(this,"settings",t.Actions.press()).success(t.create(this.getOpaInstance()).isDialogElement().hasType("sap.m.IconTabBar").has(t.Matchers.aggregation("items",t.Matchers.resourceBundle("text","sap.ui.mdc","p13nDialog.TAB_Sort"))).has(r.Matchers.singleElement()).doPress().description("Selecting Icon Tab Sort"))};f.prototype.hasColumnFiltering=function(){return S(this,"filter",false)};f.prototype.doOpenColumnFiltering=function(){return S(this,"settings",t.Actions.press()).success(t.create(this.getOpaInstance()).isDialogElement().hasType("sap.m.IconTabBar").has(t.Matchers.aggregation("items",t.Matchers.resourceBundle("text","sap.ui.mdc","p13nDialog.TAB_Filter"))).has(r.Matchers.singleElement()).doPress().description("Selecting Icon Tab Filter"))};f.prototype.hasExport=function(){return S(this,"export",false,"sap.m.MenuButton")};f.prototype.hasPaste=function(){return S(this,"paste",false,"sap.m.OverflowToolbarButton")};f.prototype.doExecuteInlineAction=function(e,t){return this.doOnRows(e,f.Row.Actions.pressInlineAction(t))};f.prototype.doPasteData=function(e){return this.do(function(t){t.firePaste({data:e})})};f.createAdaptationDialogBuilder=function(e){return o.create(e).hasSome(t.Matchers.resourceBundle("title","sap.ui.mdc","table.SETTINGS_COLUMN"),t.Matchers.resourceBundle("title","sap.ui.mdc","p13nDialog.VIEW_SETTINGS"))};f.createSortingDialogBuilder=function(e){return o.create(e).has(t.Matchers.resourceBundle("title","sap.ui.mdc","p13nDialog.VIEW_SETTINGS")).hasChildren(t.create(e).hasType("sap.m.IconTabFilter").has(t.Matchers.resourceBundle("text","sap.ui.mdc","p13nDialog.TAB_Sort")))};f.createFilteringDialogBuilder=function(e){return o.create(e).has(t.Matchers.resourceBundle("title","sap.ui.mdc","p13nDialog.VIEW_SETTINGS")).hasChildren(t.create(e).hasType("sap.m.IconTabFilter").has(t.Matchers.resourceBundle("text","sap.ui.mdc","p13nDialog.TAB_Filter")))};f.Cell={Matchers:{state:function(e,t){switch(e){case"editor":case"editors":return function(e){return n.Matchers.states(t)(e)};default:return r.Matchers.state(e,t)}},states:function(e){return r.Matchers.states(e,f.Cell.Matchers.state)}}};f.Column={Matchers:{state:function(e,t){switch(e){case"sortOrder":return f.Column.Matchers.sortOrder(t);case"template":case"creationTemplate":return function(r){return n.Matchers.states(t)(r.getAggregation(e))};case"importance":return f.Column.Matchers.importance(t);default:return r.Matchers.state(e,t)}},states:function(e){return r.Matchers.states(e,f.Column.Matchers.state)},sortOrder:function(e){return function(t){var n=t.getParent(),s=m(n),o={};if(s){o.sorted=e===h.None?false:true;if(e!==h.None){o.sortOrder=e}}else{o.sortIndicator=e}return r.controlsExist(r.create().hasId(t.getId()+"-innerColumn").hasProperties(o))}},importance:function(e){return function(t){return t.getExtendedSettings().getImportance()===e}}}};f.Row={Matchers:{cell:function(e){return function(t){var r=C(e,t);return b(t,r)}},cellValue:function(e,t){return function(r){if(r.isA("sap.m.GroupHeaderListItem")){return null}var s=f.Row.Matchers.cell(e)(r);while(s.isA("sap.fe.macros.MacroAPI")){s=s.getContent()}return n.Matchers.value(t)(s)}},cellValues:function(e){if(!e){return t.Matchers.TRUE}return r.Matchers.match(Object.keys(e).map(function(t){return f.Row.Matchers.cellValue(t,e[t])}))},hiddenCell:function(e){return function(t){var r=f.Row.Matchers.cell(e)(t);while(r.isA("sap.fe.macros.MacroAPI")){r=r.getContent()}return n.Matchers.empty(r)}},hiddenCells:function(e){if(!e||e.length===0){return t.Matchers.TRUE}return r.Matchers.match(e.map(function(e){return f.Row.Matchers.hiddenCell(e)}))},cellProperty:function(e,t){return function(r){var n=f.Row.Matchers.cell(e)(r);while(n.isA("sap.fe.macros.MacroAPI")){n=n.getContent()}return f.Cell.Matchers.states(t)(n)}},cellProperties:function(e){if(!e){return t.Matchers.TRUE}return r.Matchers.match(Object.keys(e).map(function(t){return f.Row.Matchers.cellProperty(t,e[t])}))},selected:function(e){return function(t){var r=t.getParent(),n=r.getParent(),s=m(n),o=s?n.getSelectedContexts().includes(t.getBindingContext()):t.getSelected();return e?o:!o}},navigated:function(e){return function(t){var r;if(t.getMetadata().getName()==="sap.ui.table.Row"){r=t.getAggregation("_settings").getNavigated()}else{r=t.getNavigated()}return e?r:!r}},focused:function(){return function(e){var r=[e];if(e.getMetadata().getName()==="sap.ui.table.Row"){r.push(O(e))}return r.some(t.Matchers.focused(true))}},highlighted:function(e){return function(t){var r;if(t.getMetadata().getName()==="sap.ui.table.Row"){r=t.getAggregation("_settings").getHighlight()}else{r=t.getHighlight()}return e===r}},isDraft:function(e){var r=t.Matchers.childrenMatcher(function(e){return e.isA("sap.m.ObjectMarker")},false);if(e){return r}else{return t.Matchers.not(r)}},states:function(e){if(!a.isOfType(e,Object)){return t.Matchers.TRUE}return r.Matchers.match(Object.keys(e).map(function(t){switch(t){case"selected":return f.Row.Matchers.selected(e.selected);case"focused":return f.Row.Matchers.focused();case"navigated":return f.Row.Matchers.navigated(e.navigated);case"highlight":return f.Row.Matchers.highlighted(e.highlight);case"isDraft":return f.Row.Matchers.isDraft(e.isDraft);default:return r.Matchers.state(t,e[t])}}))},visualGroup:function(e,t){return function(r){if(r.getMetadata().getName()==="sap.ui.table.Row"){return r.getLevel()===e&&r.getTitle()===t}else{return false}}}},Actions:{onCell:function(e,t){return function(r){var n=C(e,r),s=b(r,n);if(s.isA("sap.fe.macros.controls.FieldWrapper")){s=s.getEditMode()==="Display"?s.getContentDisplay():s.getContentEdit()[0]}if(s.isA("sap.m.VBox")){s=s.getItems()[0].getContent().getEditMode()==="Display"?s.getItems()[0].getContent().getContentDisplay():s.getItems()[0].getContent().getContentEdit()[0]}if(s.isA("sap.fe.macros.controls.ConditionalWrapper")){s=s.getCondition()?s.getContentTrue():s.getContentFalse()}if(s.isA("sap.m.HBox")&&s.getItems().length===2&&s.getItems()[1].isA("sap.m.Avatar")){s=s.getItems()[0]}if(t.executeOn){t.executeOn(s)}else{t(s)}}},editCell:function(e,t,r){return f.Row.Actions.onCell(e,new l({text:t,clearTextFirst:true,keepFocus:r?true:false,idSuffix:null,pressEnterKey:r?false:true}))},editCells:function(e,t){return Object.keys(e).map(function(r){return f.Row.Actions.editCell(r,e[r],t)})},onCellInlineAction:function(e,r){return function(n){var s=v(e,n);return t.Actions.executor(r)(s)}},pressInlineAction:function(e){return f.Row.Actions.onCellInlineAction(e,t.Actions.press())}}};f.Matchers={isGridTable:function(){return m},rows:function(e){return function(r){if(f.Matchers.overlay(true)(r)){return[]}return t.Matchers.aggregation(y(r),e)(r._oTable)}},rowsMatcher:function(e){var t=f.Matchers.rows(e);return function(e){return t(e).length>0}},columnControl:function(e){return function(t){var r=M(e,t),n=I(t);return n.getColumns()[r]}},column:function(e,t){return function(n){var s=M(e,n),o=a.getAggregation(n,"columns");if(s===-1){if(t&&t.visible===false){return true}}else{var i=o[s];if(!t||r.Matchers.match(f.Column.Matchers.states(t))(i)){return i}}return false}},columns:function(e,t){return function(r){return Object.keys(e).reduce(function(n,s){var o=f.Matchers.column(s,t?undefined:e[s])(r);if(o){n.push(o===true?null:o)}return n},[])}},columnsMatcher:function(e,t){var r=f.Matchers.columns(e,t);return function(t){return r(t).length===Object.keys(e).length}},overlay:function(e){if(e===undefined){e=true}return function(t){t=t._feMdcTableWrapper||t;return t&&t._oTable.getShowOverlay()===e}},state:function(e,t){switch(e){case"overlay":return f.Matchers.overlay(t);default:return r.Matchers.state(e,t)}},states:function(e){return r.Matchers.states(e,f.Matchers.state)}};f.Actions={};return f});
//# sourceMappingURL=MdcTableBuilder.js.map