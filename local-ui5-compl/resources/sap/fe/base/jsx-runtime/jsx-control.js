/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2024 SAP SE. All rights reserved
 */
sap.ui.define(["sap/base/Log","sap/fe/base/BindingToolkit","sap/m/Text","sap/ui/base/DataType","sap/ui/base/ManagedObject","sap/ui/core/mvc/EventHandlerResolver"],function(e,t,n,s,i,o){"use strict";var a=i.bindingParser;var l=t.isPathInModelExpression;var c=t.isConstant;var f=t.isBindingToolkitExpression;var r=t.compileExpression;var d=t.compileConstant;const p="fl:delegate";const u="core:require";const g="dt:designtime";const m=function(e,t,n){if(n===null||n===undefined||typeof n==="string"){return}if(!e[t]){e[t]=[]}if(y(n)){e[t].push(n)}else if(Array.isArray(n)){n.forEach(n=>{m(e,t,n)})}else if(typeof n==="function"){e[t]=n}else{Object.keys(n).forEach(t=>{m(e,t,n[t])})}};const y=function(e){return e?.isA?.("sap.ui.core.Element")};const h=function(e){return!!e?.getMetadata};function b(e,t){const n=e.getAllAggregations();const s=e.getDefaultAggregationName();const i={};m(i,s,t.children);delete t.children;Object.keys(n).forEach(e=>{if(i[e]!==undefined){if(t.hasOwnProperty(e)){if(typeof t[e]==="string"){t[e]={path:t[e]}}if(typeof i[e]==="function"){t[e].factory=i[e]}else{t[e].template=i[e][0]}}else{t[e]=i[e]}}})}function E(e,t){let n;const i={};const o=e.getAllEvents();const a=e.getAllProperties();for(n in t){const e=t[n];if(f(e)){const s=e;if(c(s)){t[n]=d(s,false,true,true)}else if(!Object.hasOwnProperty.call(a,n)){if(l(s)){t[n]={path:s.path,model:s.modelName}}}else{t[n]=r(s)}}else if(e!==null&&typeof e==="object"&&e.then){i[n]=e;delete t[n]}else if(typeof e==="string"&&!e.startsWith("{")){const i=a[n]?.getType?.();if(i&&i instanceof s&&["boolean","int","float"].includes(i.getName())){t[n]=i.parseValue(e)}}else if(typeof e==="object"&&e.__bindingInfo){t[n]=e.__bindingInfo}else if(e===undefined){if(Object.hasOwnProperty.call(o,n)){delete t[n]}}}return i}function v(e,t){const n=t["jsx:command"];if(n){const[s,i]=n.split("|");const a=e.getAllEvents()[i];if(a&&s.startsWith("cmd:")){t[a.name]=o.resolveEventHandler(s)}}delete t["jsx:command"]}const j=function(t,s,i,o){let l;if(t?.isFragment){l=s.children}else if(t?.isRuntime){const e=new t(s);l=e.getContent?.(o.view,o.appComponent)}else if(h(t)){const n=t.getMetadata();if(i!==undefined){s["key"]=i}const o=E(n,s);v(n,s);b(n,s);const c=s.class;const f=s.ref;const r=s.binding;const d=s[p];const m=s[g];delete s.ref;delete s.class;delete s.binding;delete s[p];delete s[g];delete s[u];const y=new t(s);if(c){y.addStyleClass(c)}if(f){f.setCurrent(y)}const h=y.data("sap-ui-custom-settings")??{};if(d){h["sap.ui.fl"]??={};h["sap.ui.fl"].delegate=d}if(m){h["sap.ui.dt"]??={};h["sap.ui.dt"].designtime=m}if(Object.keys(h).length>0){y.data("sap-ui-custom-settings",h)}if(r){if(typeof r==="string"){const e=a(r);if(e){y.bindElement({model:e.model??undefined,path:e.path})}y.bindElement(r)}else{Object.keys(r).forEach(e=>{y.bindElement({model:e,path:r[e]})})}}for(const n in o){o[n].then(e=>y.setProperty(n,e)).catch(s=>{e.error(`Couldn't set property ${n} on ${t.getMetadata().getName()}`,s,"jsxControl")})}l=y}else if(typeof t==="function"){const e=t;l=e(s)}else{l=new n({text:"Missing component "+t})}return l};return j},false);
//# sourceMappingURL=jsx-control.js.map