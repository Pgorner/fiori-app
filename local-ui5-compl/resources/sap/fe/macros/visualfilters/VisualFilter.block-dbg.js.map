{"version":3,"names":["VisualFilterBlock","_dec","defineBuildingBlock","name","namespace","_dec2","blockAttribute","type","required","_dec3","_dec4","expectedTypes","_dec5","_dec6","_dec7","_dec8","_dec9","_dec10","_dec11","_dec12","_dec13","_dec14","_dec15","_dec16","_dec17","_dec18","_dec19","_dec20","_dec21","_dec22","_dec23","_dec24","_dec25","_class","_class2","_BuildingBlockTemplat","props","configuration","mSettings","_this","call","_initializerDefineProperty","_descriptor","_descriptor2","_descriptor3","_descriptor4","_descriptor5","_descriptor6","_descriptor7","_descriptor8","_descriptor9","_descriptor10","_descriptor11","_descriptor12","_descriptor13","_descriptor14","_descriptor15","_descriptor16","_descriptor17","_descriptor18","_descriptor19","_descriptor20","_descriptor21","_descriptor22","_descriptor23","_descriptor24","groupId","path","metaPath","getPath","contextObjectPath","getInvolvedDataModelObjects","contextPath","converterContext","getConverterContext","undefined","aggregationHelper","AggregationHelper","getEntityType","customAggregates","getCustomAggregateDefinitions","pvAnnotation","targetObject","measure","visualizations","Visualizations","getChartAnnotation","aggregations","custAggMeasure","chartAnnotation","Measures","length","filter","custAgg","qualifier","value","getAggregatedProperties","DynamicMeasures","Log","warning","getConverterContextFor","getAbsoluteAnnotationPath","getDataModelObjectPath","Name","toString","getAggregatedProperty","some","customAggregate","defaultSelectionVariant","getDefaultSelectionVariant","checkSelectionVariant","aggregation","getAggregateProperties","aggregateProperties","propertyAnnotations","$target","annotations","aggregatablePropertyAnnotations","AggregatableProperty","checkIfUOMHasCustomAggregate","propertyHidden","UI","Hidden","hiddenMeasure","valueOf","chartType","ChartType","showValueHelp","getShowValueHelp","draftSupported","ModelHelper","isDraftSupported","models","metaModel","errorMessage","getErrorMessage","chartMeasure","measureDimensionTitle","InteractiveChartHelper","getMeasureDimensionTitle","collection","toolTip","getToolTip","renderLineChart","UoMVisibility","getUoMVisiblity","showError","scaleUoMTitle","getScaleUoMTitle","filterCountBinding","getfilterCountBinding","_exports","_inheritsLoose","_proto","prototype","measures","aggregatablePropertyMeasures","UOM","getUoM","UoMHasCustomAggregate","i","sAnnotationPath","getEntityTypeAnnotation","annotation","validChartType","errorMessageTitle","getTranslatedText","sDimensionType","Dimensions","isValueListWithFixedValues","selectionVariant","selectionVariantAnnotation","selectionVariantContext","getModel","createBindingContext","SelectOptions","multipleSelectionAllowed","selectOption","PropertyName","Ranges","error","matchedAggregate","aggregate","ISOCurrency","unit","Unit","getRequired","xml","getUoMTitle","showErrorExpression","generate","id","getValueHelp","getInteractiveChartFragment","getInteractiveChartWithErrorTemplate","getInteractiveBarChartTemplate","getInteractiveLineChartTemplate","getTemplate","cozyMode","document","body","classList","contains","overallHeight","chartHeight","BuildingBlockTemplatingBase","_applyDecoratedDescriptor","configurable","enumerable","writable","initializer"],"sourceRoot":".","sources":["VisualFilter.block.ts"],"sourcesContent":["import type { AnnotationPath, PathAnnotationExpression } from \"@sap-ux/vocabularies-types\";\nimport type { CustomAggregate } from \"@sap-ux/vocabularies-types/vocabularies/Aggregation\";\nimport type { AggregatedProperty, AggregatedPropertyType } from \"@sap-ux/vocabularies-types/vocabularies/Analytics\";\nimport type { PropertyAnnotations } from \"@sap-ux/vocabularies-types/vocabularies/Edm_Types\";\nimport type { PropertyAnnotations_Measures } from \"@sap-ux/vocabularies-types/vocabularies/Measures_Edm\";\nimport type { Chart, DataPoint, LineItem, PresentationVariant, SelectionVariant } from \"@sap-ux/vocabularies-types/vocabularies/UI\";\nimport Log from \"sap/base/Log\";\nimport type { PropertiesOf } from \"sap/fe/base/ClassSupport\";\nimport { blockAttribute, defineBuildingBlock } from \"sap/fe/core/buildingBlocks/templating/BuildingBlockSupport\";\nimport type { TemplateProcessorSettings } from \"sap/fe/core/buildingBlocks/templating/BuildingBlockTemplateProcessor\";\nimport { xml } from \"sap/fe/core/buildingBlocks/templating/BuildingBlockTemplateProcessor\";\nimport BuildingBlockTemplatingBase from \"sap/fe/core/buildingBlocks/templating/BuildingBlockTemplatingBase\";\nimport type ConverterContext from \"sap/fe/core/converters/ConverterContext\";\nimport { getInvolvedDataModelObjects } from \"sap/fe/core/converters/MetaModelConverter\";\nimport type { PageContextPathTarget } from \"sap/fe/core/converters/TemplateConverter\";\nimport { getDefaultSelectionVariant } from \"sap/fe/core/converters/controls/Common/DataVisualization\";\nimport type { ParameterType } from \"sap/fe/core/converters/controls/ListReport/VisualFilters\";\nimport { AggregationHelper } from \"sap/fe/core/converters/helpers/Aggregation\";\nimport ModelHelper from \"sap/fe/core/helpers/ModelHelper\";\nimport { generate } from \"sap/fe/core/helpers/StableIdHelper\";\nimport type Context from \"sap/ui/model/odata/v4/Context\";\nimport InteractiveChartHelper from \"./InteractiveChartHelper\";\nimport { getInteractiveBarChartTemplate } from \"./fragments/InteractiveBarChart\";\nimport { getInteractiveChartWithErrorTemplate } from \"./fragments/InteractiveChartWithError\";\nimport { getInteractiveLineChartTemplate } from \"./fragments/InteractiveLineChart\";\n\n/**\n * Building block for creating a VisualFilter based on the metadata provided by OData V4.\n * <br>\n * A Chart annotation is required to bring up an interactive chart\n *\n *\n * Usage example:\n * <pre>\n * &lt;macros:VisualFilter\n * collection=\"{entitySet&gt;}\"\n * chartAnnotation=\"{chartAnnotation&gt;}\"\n * id=\"someID\"\n * groupId=\"someGroupID\"\n * title=\"some Title\"\n * /&gt;\n * </pre>\n * @private\n * @experimental\n */\n@defineBuildingBlock({\n\tname: \"VisualFilter\",\n\tnamespace: \"sap.fe.macros\"\n})\nexport default class VisualFilterBlock extends BuildingBlockTemplatingBase {\n\t@blockAttribute({\n\t\ttype: \"string\",\n\t\trequired: true\n\t})\n\tid!: string;\n\n\t@blockAttribute({\n\t\ttype: \"string\"\n\t})\n\ttitle = \"\";\n\n\t@blockAttribute({\n\t\ttype: \"sap.ui.model.Context\",\n\t\trequired: true,\n\t\texpectedTypes: [\"EntitySet\", \"NavigationProperty\"]\n\t})\n\tcontextPath!: Context;\n\n\t@blockAttribute({\n\t\ttype: \"sap.ui.model.Context\",\n\t\trequired: true\n\t})\n\tmetaPath!: Context;\n\n\t@blockAttribute({\n\t\ttype: \"string\"\n\t})\n\toutParameter?: string;\n\n\t@blockAttribute({\n\t\ttype: \"string\"\n\t})\n\tvaluelistProperty?: string;\n\n\t@blockAttribute({\n\t\ttype: \"sap.ui.model.Context\"\n\t})\n\tselectionVariantAnnotation?: Context;\n\n\t@blockAttribute({\n\t\ttype: \"array\"\n\t})\n\tinParameters?: ParameterType[];\n\n\t@blockAttribute({\n\t\ttype: \"boolean\"\n\t})\n\tmultipleSelectionAllowed?: boolean;\n\n\t@blockAttribute({\n\t\ttype: \"boolean\"\n\t})\n\trequired?: boolean;\n\n\t@blockAttribute({\n\t\ttype: \"boolean\"\n\t})\n\tshowOverlayInitially?: boolean;\n\n\t@blockAttribute({\n\t\ttype: \"string\"\n\t})\n\trenderLineChart?: string;\n\n\t@blockAttribute({\n\t\ttype: \"string\"\n\t})\n\trequiredProperties?: string;\n\n\t@blockAttribute({\n\t\ttype: \"sap.ui.model.Context\"\n\t})\n\tfilterBarEntityType?: Context;\n\n\t@blockAttribute({\n\t\ttype: \"boolean\"\n\t})\n\tshowError?: boolean;\n\n\t@blockAttribute({\n\t\ttype: \"string\"\n\t})\n\tchartMeasure?: string;\n\n\t@blockAttribute({\n\t\ttype: \"boolean\"\n\t})\n\tUoMHasCustomAggregate?: boolean;\n\n\t@blockAttribute({\n\t\ttype: \"boolean\"\n\t})\n\tshowValueHelp?: boolean;\n\n\t@blockAttribute({\n\t\ttype: \"boolean\"\n\t})\n\tcustomAggregate = false;\n\n\t@blockAttribute({\n\t\ttype: \"string\"\n\t})\n\tgroupId = \"$auto.visualFilters\";\n\n\t@blockAttribute({\n\t\ttype: \"string\"\n\t})\n\terrorMessageTitle?: string;\n\n\t@blockAttribute({\n\t\ttype: \"string\"\n\t})\n\terrorMessage?: string;\n\n\t@blockAttribute({\n\t\ttype: \"boolean\"\n\t})\n\tdraftSupported?: boolean;\n\n\t@blockAttribute({\n\t\ttype: \"boolean\"\n\t})\n\tisValueListWithFixedValues: boolean | undefined;\n\n\t/******************************************************\n\t * Internal Properties\n\t * ***************************************************/\n\n\taggregateProperties: AggregatedPropertyType | undefined;\n\n\tchartType: string | undefined;\n\n\tpath: string | undefined;\n\n\tmeasureDimensionTitle: string | undefined;\n\n\ttoolTip: string | undefined;\n\n\tUoMVisibility: boolean | undefined;\n\n\tscaleUoMTitle: string | undefined;\n\n\tfilterCountBinding: string | undefined;\n\n\tchartAnnotation?: Chart;\n\n\tconstructor(props: PropertiesOf<VisualFilterBlock>, configuration: unknown, mSettings: TemplateProcessorSettings) {\n\t\tsuper(props, configuration, mSettings);\n\t\tthis.groupId = \"$auto.visualFilters\";\n\t\tthis.path = this.metaPath?.getPath();\n\t\tconst contextObjectPath = getInvolvedDataModelObjects<PresentationVariant>(this.metaPath, this.contextPath);\n\t\tconst converterContext = this.getConverterContext(contextObjectPath, undefined, mSettings);\n\t\tconst aggregationHelper = new AggregationHelper(converterContext.getEntityType(), converterContext);\n\t\tconst customAggregates = aggregationHelper.getCustomAggregateDefinitions();\n\t\tconst pvAnnotation = contextObjectPath.targetObject;\n\t\tlet measure: string | undefined;\n\t\tconst visualizations = pvAnnotation && pvAnnotation.Visualizations;\n\t\tthis.getChartAnnotation(visualizations, converterContext);\n\t\tlet aggregations: AggregatedPropertyType[] = [],\n\t\t\tcustAggMeasure = [];\n\n\t\tif (this.chartAnnotation?.Measures?.length) {\n\t\t\tcustAggMeasure = customAggregates.filter((custAgg) => {\n\t\t\t\treturn custAgg.qualifier === this.chartAnnotation?.Measures[0].value;\n\t\t\t});\n\t\t\tmeasure = custAggMeasure.length > 0 ? custAggMeasure[0].qualifier : this.chartAnnotation.Measures[0].value;\n\t\t\taggregations = aggregationHelper.getAggregatedProperties()[0];\n\t\t}\n\t\t// if there are AggregatedProperty objects but no dynamic measures, rather there are transformation aggregates found in measures\n\t\tif (\n\t\t\taggregations &&\n\t\t\taggregations.length > 0 &&\n\t\t\t!this.chartAnnotation?.DynamicMeasures &&\n\t\t\tcustAggMeasure.length === 0 &&\n\t\t\tthis.chartAnnotation?.Measures &&\n\t\t\tthis.chartAnnotation?.Measures.length > 0\n\t\t) {\n\t\t\tLog.warning(\n\t\t\t\t\"The transformational aggregate measures are configured as Chart.Measures but should be configured as Chart.DynamicMeasures instead. Please check the SAP Help documentation and correct the configuration accordingly.\"\n\t\t\t);\n\t\t}\n\t\t//if the chart has dynamic measures, but with no other custom aggregate measures then consider the dynamic measures\n\t\tif (this.chartAnnotation?.DynamicMeasures) {\n\t\t\tif (custAggMeasure.length === 0) {\n\t\t\t\tmeasure = converterContext\n\t\t\t\t\t.getConverterContextFor<AggregatedProperty>(\n\t\t\t\t\t\tconverterContext.getAbsoluteAnnotationPath(this.chartAnnotation.DynamicMeasures[0].value)\n\t\t\t\t\t)\n\t\t\t\t\t.getDataModelObjectPath()\n\t\t\t\t\t.targetObject?.Name.toString();\n\t\t\t\taggregations = aggregationHelper.getAggregatedProperty();\n\t\t\t} else {\n\t\t\t\tLog.warning(\n\t\t\t\t\t\"The dynamic measures have been ignored as visual filters can deal with only 1 measure and the first (custom aggregate) measure defined under Chart.Measures is considered.\"\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t\tif (\n\t\t\tcustomAggregates.some(function (custAgg) {\n\t\t\t\treturn custAgg.qualifier === measure;\n\t\t\t})\n\t\t) {\n\t\t\tthis.customAggregate = true;\n\t\t}\n\n\t\tconst defaultSelectionVariant = getDefaultSelectionVariant(converterContext.getEntityType());\n\t\tthis.checkSelectionVariant(defaultSelectionVariant);\n\t\tconst aggregation = this.getAggregateProperties(aggregations, measure);\n\t\tif (aggregation) {\n\t\t\tthis.aggregateProperties = aggregation;\n\t\t}\n\t\tconst propertyAnnotations =\n\t\t\tvisualizations && this.chartAnnotation?.Measures && this.chartAnnotation?.Measures[0]?.$target?.annotations;\n\t\tconst aggregatablePropertyAnnotations = aggregation?.AggregatableProperty?.$target?.annotations;\n\t\tthis.checkIfUOMHasCustomAggregate(customAggregates, propertyAnnotations, aggregatablePropertyAnnotations);\n\t\tconst propertyHidden = propertyAnnotations?.UI?.Hidden;\n\t\tconst hiddenMeasure = propertyHidden?.valueOf();\n\t\tconst chartType = this.chartAnnotation?.ChartType;\n\t\tthis.chartType = chartType;\n\t\tthis.showValueHelp = this.getShowValueHelp(chartType, hiddenMeasure);\n\t\tthis.draftSupported = ModelHelper.isDraftSupported(mSettings.models.metaModel, this.contextPath?.getPath());\n\t\t/**\n\t\t * If the measure of the chart is marked as 'hidden', or if the chart type is invalid, or if the data type for the line chart is invalid,\n\t\t * the call is made to the InteractiveChartWithError fragment (using error-message related APIs, but avoiding batch calls)\n\t\t */\n\t\tthis.errorMessage = this.getErrorMessage(hiddenMeasure, measure);\n\t\tthis.chartMeasure = measure;\n\t\tthis.measureDimensionTitle = InteractiveChartHelper.getMeasureDimensionTitle(\n\t\t\tthis.chartAnnotation,\n\t\t\tthis.customAggregate,\n\t\t\tthis.aggregateProperties\n\t\t);\n\t\tconst collection = getInvolvedDataModelObjects<PageContextPathTarget>(this.contextPath);\n\t\tthis.toolTip = InteractiveChartHelper.getToolTip(\n\t\t\tthis.chartAnnotation,\n\t\t\tcollection,\n\t\t\tthis.path,\n\t\t\tthis.customAggregate,\n\t\t\tthis.aggregateProperties,\n\t\t\tthis.renderLineChart\n\t\t);\n\t\tthis.UoMVisibility = InteractiveChartHelper.getUoMVisiblity(this.chartAnnotation, this.showError);\n\t\tthis.scaleUoMTitle = InteractiveChartHelper.getScaleUoMTitle(\n\t\t\tthis.chartAnnotation,\n\t\t\tcollection,\n\t\t\tthis.path,\n\t\t\tthis.customAggregate,\n\t\t\tthis.aggregateProperties\n\t\t);\n\t\tthis.filterCountBinding = InteractiveChartHelper.getfilterCountBinding(this.chartAnnotation);\n\t}\n\n\tcheckIfUOMHasCustomAggregate(\n\t\tcustomAggregates: Array<CustomAggregate>,\n\t\tpropertyAnnotations: PropertyAnnotations | undefined,\n\t\taggregatablePropertyAnnotations?: PropertyAnnotations\n\t): void {\n\t\tconst measures = propertyAnnotations?.Measures;\n\t\tconst aggregatablePropertyMeasures = aggregatablePropertyAnnotations?.Measures;\n\t\tconst UOM = this.getUoM(measures, aggregatablePropertyMeasures);\n\t\tif (\n\t\t\tUOM &&\n\t\t\tcustomAggregates.some(function (custAgg: CustomAggregate) {\n\t\t\t\treturn custAgg.qualifier === UOM;\n\t\t\t})\n\t\t) {\n\t\t\tthis.UoMHasCustomAggregate = true;\n\t\t} else {\n\t\t\tthis.UoMHasCustomAggregate = false;\n\t\t}\n\t}\n\n\tgetChartAnnotation(\n\t\tvisualizations: Array<AnnotationPath<Chart | DataPoint | LineItem>> | undefined,\n\t\tconverterContext: ConverterContext\n\t): void {\n\t\tif (visualizations) {\n\t\t\tfor (let i = 0; i < visualizations.length; i++) {\n\t\t\t\tconst sAnnotationPath = visualizations[i] && visualizations[i].value;\n\t\t\t\tthis.chartAnnotation =\n\t\t\t\t\tconverterContext.getEntityTypeAnnotation<Chart>(sAnnotationPath) &&\n\t\t\t\t\tconverterContext.getEntityTypeAnnotation<Chart>(sAnnotationPath).annotation;\n\t\t\t}\n\t\t}\n\t}\n\n\tgetErrorMessage(hiddenMeasure: Object | undefined, measure?: string): string | undefined {\n\t\tlet validChartType;\n\t\tif (this.chartAnnotation) {\n\t\t\tif (this.chartAnnotation.ChartType === \"UI.ChartType/Line\" || this.chartAnnotation.ChartType === \"UI.ChartType/Bar\") {\n\t\t\t\tvalidChartType = true;\n\t\t\t} else {\n\t\t\t\tvalidChartType = false;\n\t\t\t}\n\t\t}\n\t\tif ((typeof hiddenMeasure === \"boolean\" && hiddenMeasure) || !validChartType || this.renderLineChart === \"false\") {\n\t\t\tthis.showError = true;\n\t\t\tthis.errorMessageTitle =\n\t\t\t\thiddenMeasure || !validChartType\n\t\t\t\t\t? this.getTranslatedText(\"M_VISUAL_FILTERS_ERROR_MESSAGE_TITLE\")\n\t\t\t\t\t: this.getTranslatedText(\"M_VISUAL_FILTER_LINE_CHART_INVALID_DATATYPE\");\n\t\t\tif (hiddenMeasure) {\n\t\t\t\treturn this.getTranslatedText(\"M_VISUAL_FILTER_HIDDEN_MEASURE\", [measure]);\n\t\t\t} else if (!validChartType) {\n\t\t\t\treturn this.getTranslatedText(\"M_VISUAL_FILTER_UNSUPPORTED_CHART_TYPE\");\n\t\t\t} else {\n\t\t\t\treturn this.getTranslatedText(\"M_VISUAL_FILTER_LINE_CHART_UNSUPPORTED_DIMENSION\");\n\t\t\t}\n\t\t}\n\t}\n\n\tgetShowValueHelp(chartType?: string, hiddenMeasure?: Object): boolean {\n\t\tconst sDimensionType =\n\t\t\tthis.chartAnnotation?.Dimensions[0] &&\n\t\t\tthis.chartAnnotation?.Dimensions[0].$target &&\n\t\t\tthis.chartAnnotation.Dimensions[0].$target.type;\n\t\tif (sDimensionType === \"Edm.Date\" || sDimensionType === \"Edm.Time\" || sDimensionType === \"Edm.DateTimeOffset\") {\n\t\t\treturn false;\n\t\t} else if (typeof hiddenMeasure === \"boolean\" && hiddenMeasure) {\n\t\t\treturn false;\n\t\t} else if (!(chartType === \"UI.ChartType/Bar\" || chartType === \"UI.ChartType/Line\")) {\n\t\t\treturn false;\n\t\t} else if (this.renderLineChart === \"false\" && chartType === \"UI.ChartType/Line\") {\n\t\t\treturn false;\n\t\t} else if (this.isValueListWithFixedValues === true) {\n\t\t\treturn false;\n\t\t} else {\n\t\t\treturn true;\n\t\t}\n\t}\n\n\tcheckSelectionVariant(defaultSelectionVariant?: SelectionVariant): void {\n\t\tlet selectionVariant;\n\t\tif (this.selectionVariantAnnotation) {\n\t\t\tconst selectionVariantContext = this.metaPath?.getModel().createBindingContext(this.selectionVariantAnnotation.getPath());\n\t\t\tselectionVariant =\n\t\t\t\tselectionVariantContext &&\n\t\t\t\tgetInvolvedDataModelObjects<SelectionVariant>(selectionVariantContext, this.contextPath).targetObject;\n\t\t}\n\t\tif (!selectionVariant && defaultSelectionVariant) {\n\t\t\tselectionVariant = defaultSelectionVariant;\n\t\t}\n\t\tif (selectionVariant && selectionVariant.SelectOptions && !this.multipleSelectionAllowed) {\n\t\t\tfor (const selectOption of selectionVariant.SelectOptions) {\n\t\t\t\tif (selectOption.PropertyName?.value === this.chartAnnotation?.Dimensions[0].value) {\n\t\t\t\t\tif (selectOption.Ranges.length > 1) {\n\t\t\t\t\t\tLog.error(\"Multiple SelectOptions for FilterField having SingleValue Allowed Expression\");\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tgetAggregateProperties(aggregations: AggregatedPropertyType[], measure?: string): AggregatedPropertyType | undefined {\n\t\tlet matchedAggregate: AggregatedPropertyType | undefined;\n\t\tif (!aggregations) {\n\t\t\treturn;\n\t\t}\n\t\taggregations.some(function (aggregate) {\n\t\t\tif (aggregate.Name === measure) {\n\t\t\t\tmatchedAggregate = aggregate;\n\t\t\t\treturn true;\n\t\t\t}\n\t\t});\n\t\treturn matchedAggregate;\n\t}\n\n\tgetUoM(measures?: PropertyAnnotations_Measures, aggregatablePropertyMeasures?: PropertyAnnotations_Measures): string {\n\t\tlet ISOCurrency = measures?.ISOCurrency;\n\t\tlet unit = measures?.Unit;\n\t\tif (!ISOCurrency && !unit && aggregatablePropertyMeasures) {\n\t\t\tISOCurrency = aggregatablePropertyMeasures.ISOCurrency;\n\t\t\tunit = aggregatablePropertyMeasures.Unit;\n\t\t}\n\t\treturn (ISOCurrency as PathAnnotationExpression<String>)?.path || (unit as PathAnnotationExpression<String>)?.path;\n\t}\n\n\tgetRequired(): string {\n\t\tif (this.required) {\n\t\t\treturn xml`<Label text=\"\" width=\"0.5rem\" required=\"true\">\n\t\t\t\t\t\t\t<layoutData>\n\t\t\t\t\t\t\t\t<OverflowToolbarLayoutData priority=\"Never\" />\n\t\t\t\t\t\t\t</layoutData>\n\t\t\t\t\t\t</Label>`;\n\t\t} else {\n\t\t\treturn \"\";\n\t\t}\n\t}\n\n\tgetUoMTitle(showErrorExpression: string): string {\n\t\tif (this.UoMVisibility) {\n\t\t\treturn xml`<Title\n\t\t\t\t\t\t\tid=\"${generate([this.id, \"ScaleUoMTitle\"])}\"\n\t\t\t\t\t\t\tvisible=\"{= !${showErrorExpression}}\"\n\t\t\t\t\t\t\ttext=\"${this.scaleUoMTitle}\"\n\t\t\t\t\t\t\ttitleStyle=\"H6\"\n\t\t\t\t\t\t\tlevel=\"H3\"\n\t\t\t\t\t\t\twidth=\"4.15rem\"\n\t\t\t\t\t\t/>`;\n\t\t} else {\n\t\t\treturn \"\";\n\t\t}\n\t}\n\n\tgetValueHelp(showErrorExpression: string): string {\n\t\tif (this.showValueHelp) {\n\t\t\treturn xml`<ToolbarSpacer />\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tid=\"${generate([this.id, \"VisualFilterValueHelpButton\"])}\"\n\t\t\t\t\t\t\ttype=\"Transparent\"\n\t\t\t\t\t\t\tariaHasPopup=\"Dialog\"\n\t\t\t\t\t\t\ttext=\"${this.filterCountBinding}\"\n\t\t\t\t\t\t\tpress=\"VisualFilterRuntime.fireValueHelp\"\n\t\t\t\t\t\t\tenabled=\"{= !${showErrorExpression}}\"\n\t\t\t\t\t\t\tcustomData:multipleSelectionAllowed=\"${this.multipleSelectionAllowed}\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<layoutData>\n\t\t\t\t\t\t\t\t<OverflowToolbarLayoutData priority=\"Never\" />\n\t\t\t\t\t\t\t</layoutData>\n\t\t\t\t\t\t</Button>`;\n\t\t} else {\n\t\t\treturn \"\";\n\t\t}\n\t}\n\n\tgetInteractiveChartFragment(): string {\n\t\tif (this.showError) {\n\t\t\treturn getInteractiveChartWithErrorTemplate(this);\n\t\t} else if (this.chartType === \"UI.ChartType/Bar\") {\n\t\t\treturn getInteractiveBarChartTemplate(this);\n\t\t} else if (this.chartType === \"UI.ChartType/Line\") {\n\t\t\treturn getInteractiveLineChartTemplate(this);\n\t\t}\n\t\treturn \"\";\n\t}\n\n\tgetTemplate(): string {\n\t\tconst id = generate([this.path]);\n\t\tconst showErrorExpression = \"${internal>\" + id + \"/showError}\";\n\t\tconst cozyMode = document.body.classList.contains(\"sapUiSizeCozy\");\n\t\tconst overallHeight = cozyMode ? \"13rem\" : \"100%\";\n\t\tconst chartHeight = cozyMode ? \"100%\" : \"7.5rem\";\n\t\treturn xml`\n\t\t<fbControls:VisualFilter\n\t\tcore:require=\"{VisualFilterRuntime: 'sap/fe/macros/visualfilters/VisualFilterRuntime'}\"\n\t\txmlns=\"sap.m\"\n\t\txmlns:fbControls=\"sap.fe.macros.controls.filterbar\"\n\t\txmlns:customData=\"http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1\"\n\t\txmlns:core=\"sap.ui.core\"\n\t\tid=\"${this.id}\"\n\t\theight=\"${overallHeight}\"\n\t\twidth=\"20.5rem\"\n\t\tclass=\"sapUiSmallMarginBeginEnd\"\n\t\tcustomData:infoPath=\"${generate([this.path])}\"\n\t>\n\t\t<VBox height=\"2rem\" class=\"sapUiTinyMarginTopBottom\">\n\t\t\t<OverflowToolbar style=\"Clear\">\n\t\t\t\t${this.getRequired()}\n\t\t\t\t<Title\n\t\t\t\t\tid=\"${generate([this.id, \"MeasureDimensionTitle\"])}\"\n\t\t\t\t\ttext=\"${this.measureDimensionTitle}\"\n\t\t\t\t\ttooltip=\"${this.toolTip}\"\n\t\t\t\t\ttitleStyle=\"H6\"\n\t\t\t\t\tlevel=\"H3\"\n\t\t\t\t\tclass=\"sapUiTinyMarginEnd sapUiNoMarginBegin\"\n\t\t\t\t/>\n\t\t\t\t${this.getUoMTitle(showErrorExpression)}\n\t\t\t\t${this.getValueHelp(showErrorExpression)}\n\t\t\t</OverflowToolbar>\n\t\t</VBox>\n\t\t<VBox height=\"${chartHeight}\" width=\"100%\">\n\t\t\t${this.getInteractiveChartFragment()}\n\t\t</VBox>\n\t</fbControls:VisualFilter>`;\n\t}\n}\n"],"mappings":"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","ignoreList":[],"file":"VisualFilter.block-dbg.js"}