{"version":3,"names":["ValueHelp","_dec","defineUI5Class","_dec2","association","type","_dec3","property","_dec4","_dec5","_dec6","_dec7","_dec8","_dec9","_dec10","_dec11","_dec12","_class","_class2","_BuildingBlock","props","others","_this","_flexId","id","call","_initializerDefineProperty","_descriptor","_descriptor2","_descriptor3","_descriptor4","_descriptor5","_descriptor6","_descriptor7","_descriptor8","_descriptor9","_descriptor10","_descriptor11","requestGroupId","collaborationEnabled","_exports","_inheritsLoose","_proto","prototype","onMetadataAvailable","content","_getOwner","runAsOwner","createContent","metaContextPath","getMetaPathObject","metaPath","contextPath","metaModel","getMetaModel","entitySetOrSingleton","getClosestEntitySet","isEntitySet","ModelHelper","isCollaborationDraftSupported","createBindingContext","getPath","filterFieldValueHelp","FieldHelper","valueHelpPropertyForFilterField","valueHelpProperty","idPrefix","getValueHelpTemplate","getContextPath","useSemanticDateRange","opensOnFocus","useMultiValueField","navigationPrefix","requiresValidation","conditionModel","BuildingBlock","_applyDecoratedDescriptor","configurable","enumerable","writable","initializer"],"sourceRoot":".","sources":["ValueHelp.tsx"],"sourcesContent":["import type { PropertiesOf } from \"sap/fe/base/ClassSupport\";\nimport { association, defineUI5Class, property } from \"sap/fe/base/ClassSupport\";\nimport BuildingBlock from \"sap/fe/core/buildingBlocks/BuildingBlock\";\nimport ModelHelper from \"sap/fe/core/helpers/ModelHelper\";\nimport { isEntitySet } from \"sap/fe/core/helpers/TypeGuards\";\nimport FieldHelper from \"sap/fe/macros/field/FieldHelper\";\nimport { getValueHelpTemplate } from \"sap/fe/macros/internal/valuehelp/ValueHelpTemplating\";\n\nimport type Control from \"sap/ui/core/Control\";\n\n/**\n * Building block for creating a ValueHelp based on the provided OData V4 metadata.\n * @private\n */\n@defineUI5Class(\"sap.fe.macros.ValueHelp\")\nexport default class ValueHelp extends BuildingBlock {\n\t/**\n\t * A prefix that is added to the generated ID of the value help.\n\t */\n\t@association({ type: \"string\" })\n\tidPrefix?: string;\n\n\t/**\n\t * Defines the metadata path to the property.\n\t */\n\t@property({ type: \"string\" })\n\tmetaPath!: string;\n\n\t@property({ type: \"string\" })\n\tcontextPath!: string;\n\n\t/**\n\t * Indicator whether the value help is for a filter field.\n\t */\n\t@property({ type: \"string\" })\n\tconditionModel = \"\";\n\n\t/**\n\t * Indicates that this is a value help of a filter field. Necessary to decide if a\n\t * validation should occur on the back end or already on the client.\n\t */\n\t@property({ type: \"boolean\" })\n\tfilterFieldValueHelp = false;\n\n\t/**\n\t * Specifies the Sematic Date Range option for the filter field.\n\t */\n\t@property({ type: \"boolean\" })\n\tuseSemanticDateRange = true;\n\n\t/**\n\t * Specifies if the ValueHelp is opened on the focus event\n\t */\n\t@property({ type: \"boolean\" })\n\topensOnFocus = true;\n\n\t/**\n\t * Specifies whether the ValueHelp can be used with a MultiValueField\n\t */\n\t@property({ type: \"boolean\" })\n\tuseMultiValueField = false;\n\n\t@property({ type: \"string\" })\n\tnavigationPrefix?: string;\n\n\t@property({ type: \"boolean\" })\n\trequiresValidation = false;\n\n\t@association({ type: \"string\" })\n\t// eslint-disable-next-line @typescript-eslint/naming-convention\n\t_flexId?: string;\n\n\trequestGroupId: string | undefined = \"$auto.Workers\";\n\n\tcollaborationEnabled = false;\n\n\tconstructor(props: PropertiesOf<ValueHelp>, others?: PropertiesOf<ValueHelp>) {\n\t\tif (props._flexId) {\n\t\t\tprops.id = props._flexId + \"::Block\";\n\t\t}\n\t\tsuper(props, others);\n\t}\n\n\tonMetadataAvailable(): void {\n\t\tif (!this.content) {\n\t\t\tthis._getOwner()?.runAsOwner(() => {\n\t\t\t\tthis.content = this.createContent();\n\t\t\t});\n\t\t}\n\t}\n\n\tcreateContent(): Control | undefined {\n\t\tconst metaContextPath = this.getMetaPathObject(this.metaPath, this.contextPath);\n\t\tconst metaModel = this._getOwner()?.getMetaModel(this.metaModel);\n\t\tif (metaContextPath && metaModel) {\n\t\t\tconst entitySetOrSingleton = metaContextPath.getClosestEntitySet();\n\t\t\tif (isEntitySet(entitySetOrSingleton)) {\n\t\t\t\tthis.collaborationEnabled = ModelHelper.isCollaborationDraftSupported(metaModel);\n\t\t\t}\n\n\t\t\tlet metaPath = metaModel.createBindingContext(metaContextPath.getPath());\n\t\t\tif (metaPath) {\n\t\t\t\tif (this.filterFieldValueHelp) {\n\t\t\t\t\tmetaPath = metaModel.createBindingContext(FieldHelper.valueHelpPropertyForFilterField(metaPath))!;\n\t\t\t\t} else {\n\t\t\t\t\tmetaPath = metaModel.createBindingContext(FieldHelper.valueHelpProperty(metaPath))!;\n\t\t\t\t}\n\t\t\t\tconst idPrefix = this.idPrefix ?? \"ValueHelp\";\n\t\t\t\treturn getValueHelpTemplate(metaPath, {\n\t\t\t\t\tmetaPath: metaModel.createBindingContext(metaContextPath.getPath())!,\n\t\t\t\t\tcontextPath: metaModel.createBindingContext(metaContextPath.getContextPath())!,\n\t\t\t\t\tfilterFieldValueHelp: this.filterFieldValueHelp,\n\t\t\t\t\tuseSemanticDateRange: this.useSemanticDateRange,\n\t\t\t\t\topensOnFocus: this.opensOnFocus,\n\t\t\t\t\tuseMultiValueField: this.useMultiValueField,\n\t\t\t\t\tnavigationPrefix: this.navigationPrefix,\n\t\t\t\t\trequiresValidation: this.requiresValidation,\n\t\t\t\t\t_flexId: this._flexId,\n\t\t\t\t\tidPrefix: idPrefix,\n\t\t\t\t\tconditionModel: this.conditionModel,\n\t\t\t\t\trequestGroupId: this.requestGroupId,\n\t\t\t\t\tcollaborationEnabled: this.collaborationEnabled\n\t\t\t\t}) as Control | undefined;\n\t\t\t}\n\t\t}\n\t}\n}\n"],"mappings":"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","ignoreList":[],"file":"ValueHelp-dbg.js"}