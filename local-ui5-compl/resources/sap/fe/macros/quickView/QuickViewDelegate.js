/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2024 SAP SE. All rights reserved
 */
sap.ui.define(["sap/base/Log","sap/base/util/deepClone","sap/base/util/deepEqual","sap/base/util/isPlainObject","sap/fe/base/BindingToolkit","sap/fe/core/CommonUtils","sap/fe/core/helpers/KeepAliveHelper","sap/fe/core/helpers/ToES6Promise","sap/fe/core/templating/SemanticObjectHelper","sap/fe/macros/field/FieldHelper","sap/fe/macros/field/FieldRuntime","sap/fe/navigation/SelectionVariant","sap/ui/core/Fragment","sap/ui/core/Lib","sap/ui/core/XMLTemplateProcessor","sap/ui/core/util/XMLPreprocessor","sap/ui/mdc/LinkDelegate","sap/ui/mdc/enums/LinkType","sap/ui/mdc/link/Factory","sap/ui/mdc/link/LinkItem","sap/ui/mdc/ushell/SemanticObjectMapping","sap/ui/mdc/ushell/SemanticObjectMappingItem","sap/ui/mdc/ushell/SemanticObjectUnavailableAction","sap/ui/model/json/JSONModel"],function(e,t,n,i,a,s,c,o,r,l,m,u,d,p,f,g,h,b,y,O,v,j,S,k){"use strict";var P=r.getDynamicPathFromSemanticObject;var _=a.resolveBindingString;const M=Object.assign({},h);M.apiVersion=2;const C={iLinksShownInPopup:3,sapmLink:"sap.m.Link",sapuimdcLink:"sap.ui.mdc.Link",sapuimdclinkLinkItem:"sap.ui.mdc.link.LinkItem",sapmObjectIdentifier:"sap.m.ObjectIdentifier",sapmObjectStatus:"sap.m.ObjectStatus"};M.getConstants=function(){return C};M._getEntityType=function(e,t){if(t){return t.createBindingContext(e.entityType)??undefined}else{return undefined}};M._getSemanticsModel=function(e,t){if(t){return new k(e)}else{return undefined}};M._getDataField=function(e,t){return t.createBindingContext(e.dataField)??undefined};M._getContact=function(e,t){return t.createBindingContext(e.contact)??undefined};M.preparePayload=function(e){const t=M.calculatePayloadWithDynamicSemanticObjectsResolved(e);if(!t.LinkId){t.LinkId=this.oControl?.isA(C.sapuimdcLink)?this.oControl.getId():undefined}if(t.LinkId){t.titleLink=this.oControl.getModel("$sapuimdcLink")?.getProperty("/titleLinkHref")}return t};M.fnTemplateFragment=async function(e){const t=s.getTargetView(e);const n=s.getAppComponent(t);let i="";const a={bindingContexts:{},models:{},appComponent:n};const c=M.preparePayload(e);const o=this._getSemanticsModel(c,this.oMetaModel);this.semanticModel=o;if(c.entityType&&this._getEntityType(c,this.oMetaModel)&&o){i="sap.fe.macros.quickView.fragments.QuickViewForEntity";a.bindingContexts={entityType:this._getEntityType(c,this.oMetaModel),semantic:o.createBindingContext("/")};a.models={entityType:this.oMetaModel,semantic:o}}else if(c.dataField&&this._getDataField(c,this.oMetaModel)&&o){i="sap.fe.macros.quickView.fragments.QuickViewForDataField";a.bindingContexts={dataField:this._getDataField(c,this.oMetaModel),semantic:o.createBindingContext("/")};a.models={dataField:this.oMetaModel,semantic:o}}a.models.entitySet=this.oMetaModel;a.models.metaModel=this.oMetaModel;a.models.converterContext=t.getModel("_pageModel");a.bindingContexts.converterContext=a.models.converterContext.createBindingContext("/");if(this.oControl&&this.oControl.getModel("viewData")){a.models.viewData=this.oControl.getModel("viewData");a.bindingContexts.viewData=this.oControl.getModel("viewData")?.createBindingContext("/")}const r=f.loadTemplate(i,"fragment");const l=await g.process(r,{name:i},a);const m=t.getController().getOwnerComponent();const u=await m.runAsOwner(async()=>await d.load({definition:l,controller:t.getController()}));if(u){if(a.models&&a.models.semantic){u.setModel(a.models.semantic,"semantic");u.setBindingContext(a.bindingContexts.semantic,"semantic")}if(a.bindingContexts&&a.bindingContexts.entityType){u.setModel(a.models.entityType,"entityType");u.setBindingContext(a.bindingContexts.entityType,"entityType")}}return u};M.fetchAdditionalContent=async function(e){const t=e.getPayload();this.oControl=e;const n=t?.navigationPath?.match(/{(.*?)}/);const i=e.getBindingContext()?.getBinding();const a=i?.getAggregation&&i.getAggregation();const s=a!==undefined&&!a.hierarchyQualifier;const c=s?{$$ownRequest:true}:undefined;const o=n&&n.length>1&&n[1]?e.getModel()?.bindContext(n[1],e.getBindingContext()||undefined,c):null;this.payload=t;this.oMetaModel=e.getModel()?.getMetaModel();const r=await this.fnTemplateFragment(e);if(o){const e=o.getBoundContext();if(e){r.setBindingContext(e)}}return[r]};M._fetchLinkCustomData=function(e){if(e.getParent()&&e.isA(C.sapuimdcLink)&&(e.getParent()?.isA(C.sapmLink)||e.getParent()?.isA(C.sapmObjectIdentifier)||e.getParent()?.isA(C.sapmObjectStatus)||e.getParent()?.isA("sap.fe.macros.controls.TextLink"))){return e.getCustomData()}else{return undefined}};M.fetchLinkItems=async function(e,t,n){const i=e.getPayload();if(t&&M._getSemanticObjects(i)){if(n){n.initialize(M._getSemanticObjects(i))}const a=this._link&&this._fetchLinkCustomData(this._link);this.aLinkCustomData=a&&this._fetchLinkCustomData(this._link)?.map(function(e){return e.getValue()});const s=M._calculateSemanticAttributes(t,i,n,e);const c=s.results;const o=s.payload;return M._retrieveNavigationTargets("",c,o,n,this._link).then(function(e){return e.length===0?null:e})}else{return Promise.resolve(null)}};M._findLinkType=function(e,t){let n,i;if(t?.length===1){i=new O({text:t[0].getText(),href:t[0].getHref()});n=e.hasQuickViewFacets==="false"?b.DirectLink:b.Popover}else if(e.hasQuickViewFacets==="false"&&t?.length===0){n=b.Text}else{n=b.Popover}return{linkType:n,linkItem:i}};M.fetchLinkType=async function(t){const n=t;const i=Object.assign({},t.getPayload());let a={initialType:{type:b.Popover,directLink:undefined},runtimeType:undefined};if(!this.appStateKeyMap){this.appStateKeyMap={}}try{if(i?.semanticObjects){this._link=t;let e=await n._retrieveUnmodifiedLinkItems();if(e.length===1){e=await n.retrieveLinkItems()}const a=M._findLinkType(i,e);return{initialType:{type:a.linkType,directLink:a.linkItem?a.linkItem:undefined},runtimeType:undefined}}else if(i?.contact?.length&&i?.contact?.length>0){return a}else if(i?.entityType&&i?.navigationPath){return a}a=undefined;throw new Error("no payload or semanticObjects found")}catch(t){e.error("Error in SimpleLinkDelegate.fetchLinkType: ",t)}return a};M._RemoveTitleLinkFromTargets=function(e,t,n,i){let a;let s=false;if(n&&i&&t.length){const n=`#${t[0].getProperty("key")}`;const c=i.split("?")[0];const o=c===n;if(o){a=t[0].getProperty("href");this.payload.titleLinkhref=a;const i=e.getModel("$sapuimdcLink");i.setProperty("/titleLinkHref",a);const c=i?.getProperty("/linkItems").filter(function(e){if(`#${e.key}`!==n){return e}});if(c&&c.length>0){i.setProperty("/linkItems/",c)}s=true}}return s};M._IsSemanticObjectDynamic=function(e,t){if(e&&t.aLinkCustomData){return t.aLinkCustomData.filter(function(t){return e.filter(function(e){return e!==t}).length>0}).length>0}else{return false}};M._getLineContext=function(e,t){if(!t){if(e.getAggregation("content")[0]&&e.getAggregation("content")[0].getBindingContext()){return e.getAggregation("content")[0].getBindingContext()}}return t};M._setFilterContextUrlForSelectionVariant=function(e,t,n){if(e.getViewData().entitySet&&t){const i=n.constructContextUrl(e.getViewData().entitySet,e.getModel());t.setFilterContextUrl(i)}return t};M._setObjectMappings=function(e,t,n,i){let a=false;const s=new u(i.toJSONObject());n.forEach(function(n){let i=n.semanticObject;const c=P(n.semanticObject);if(c&&t[c]){i=t[c]}if(e===i){const e=n.items;for(const n in e){const i=e[n].key;const c=e[n].value;if(i!==c){if(t[i]){s.removeParameter(c);s.removeSelectOption(c);s.renameParameter(i,c);s.renameSelectOption(i,c);t[c]=t[i];delete t[i];a=true}else if(i.split("/").length>1){let e=s.getSelectOptionsPropertyNames().find(e=>e.includes(i.replace("/",".")));e=e?e:i.split("/").slice(-1)[0];if(!t[e]){delete t[e];s.removeParameter(e);s.removeSelectOption(e)}else if(e!==c){s.removeParameter(c);s.removeSelectOption(c);s.renameParameter(e,c);s.renameSelectOption(e,c);t[c]=t[e];delete t[e]}}else{delete t[i];s.removeParameter(c);s.removeSelectOption(c)}}}}});return{params:t,hasChanged:a,selectionVariant:s}};M._getAppStateKeyAndUrlParameters=async function(e,t,i,a){let s=[];if(n(i,e.appStateKeyMap[""]?.selectionVariant)){const t=e.appStateKeyMap[""];return[t.semanticAttributes,t.appstatekey]}if(e.appStateKeyMap[`${a}`]===undefined||!n(e.appStateKeyMap[`${a}`].selectionVariant,i)){s=await o(t.getAppStateKeyAndUrlParameters(i.toJSONString()));e.appStateKeyMap[`${a}`]={semanticAttributes:s[0],appstatekey:s[1],selectionVariant:i}}else{const t=e.appStateKeyMap[`${a}`];s=[t.semanticAttributes,t.appstatekey]}return s};M._getLinkItemWithNewParameter=async function(e,t,n,i,a){const s=await e.shellServices.expandCompactHash(n.mdcLinkItem.getHref());const c=e.shellServices.parseShellHash(s);const o=Object.assign({},n.linkParametersFromSelectionVariant);let r;const{params:m}=M._setObjectMappings(c.semanticObject,o,n.payload.semanticObjectMappings,a);delete m["sap-xapp-state"];delete m["@odata.etag"];const u={semanticObject:c.semanticObject,action:c.action,params:m,appStateKey:i};const d=await e.shellServices.getLinks([u]);const p=d&&d[0]&&d[0][0].intent;n.mdcLinkItem.setHref(p);if(n.payload.semanticPrimaryActions&&n.payload.semanticPrimaryActions.some(e=>e!==null)){const{primaryIntentFound:e}=l.findPrimaryActionWithinIntents(n.payload.semanticPrimaryActions,n.payload);r=e?e.intent??"":undefined}return M._RemoveTitleLinkFromTargets.bind(t)(n.mdcLink,[n.mdcLinkItem],n.titleHasLink,r)};M._removeEmptyLinkItem=function(e){return e.filter(e=>e!==undefined)};M._checkImplicitSemanticObjectMapping=function(e,t,n,i){if(!t){return}const a=i.getController()._intentBasedNavigation.removeSensitiveData(n.getObject(),i.getModel().getMetaModel().getMetaPath(n?.getPath()||""),i.getModel().getMetaModel());if(Object.keys(a)?.includes(t)){e.semanticObjects?.forEach(n=>{const i=e.semanticObjectMappings.filter(e=>e.semanticObject===n);if(!i.length){e.semanticObjectMappings.push({semanticObject:n,items:[{key:t,value:n}]})}})}};M.modifyLinkItems=async function(t,n,i){if(i.length!==0){this.payload=t.getPayload();const n=M.calculatePayloadWithDynamicSemanticObjectsResolved(t);const a=s.getTargetView(t);const c=s.getAppComponent(a);const o=await l.checkPrimaryActions(n,true,c);const r=o.hasTitleLink;const m=c.getShellServices();if(!m.hasUShell()){e.error("QuickViewDelegate: Cannot retrieve the shell services");return Promise.reject()}const u=a.getModel().getMetaModel();let d=t.getBindingContext();const p={semanticObject:n.semanticObjects[0],action:""};try{const e=c.getNavigationService();const s=a.getController();let o,l;d=M._getLineContext(a,d);const f=u.getMetaPath(d?.getPath()||"");l=d?.getObject();if(d){const e=this.payload?.dataFieldPropPath;const t=[];M._checkImplicitSemanticObjectMapping(n,e,d,a);this.payload.semanticObjectMappings.forEach(e=>{e.items.forEach(e=>{t.push(e.key)})});if(e){t.push(e)}l=s._intentBasedNavigation.processSemanticAttributes(d,l,t);l=s._intentBasedNavigation.removeSensitiveData(l,f,u);l=s._intentBasedNavigation.prepareContextForExternalNavigation(l,d)}o=e.mixAttributesAndSelectionVariant(l.semanticAttributes,{});p.propertiesWithoutConflict=l.propertiesWithoutConflict;p.linkContextPath=t.getBindingContext()?.getPath();o=M._setFilterContextUrlForSelectionVariant(a,o,e);s.intentBasedNavigation.adaptNavigationContext(o,p);M._removeTechnicalParameters(o);const g=e.oNavHandler._getURLParametersFromSelectionVariant(o);const h=undefined;let b;i=M._removeEmptyLinkItem(i);for(const a in i){b=await M._getLinkItemWithNewParameter({shellServices:m,navigationService:e},this,{mdcLink:t,payload:n,linkParametersFromSelectionVariant:g,titleHasLink:r,mdcLinkItem:i[a]},h,o);if(b===true&&i.length>1){i[a]=undefined}}return M._removeEmptyLinkItem(i)}catch(t){e.error("Error while getting the navigation service",t);return[]}}else{return i}};M.beforeNavigationCallback=async function(e,t){const n=t.getSource(),i=n.getHref(),a=y.getService("URLParsing"),o=i&&a.parseShellHash(i);c.storeControlRefreshStrategyForHash(n,o);const r=s.getTargetView(e);const l=s.getAppComponent(r);const m=l.getNavigationService();const u=n.getHref();const d=a.parseShellHash(u);m.navigate(d&&d.semanticObject,d&&d.action,d&&d.params);return Promise.resolve(false)};M._removeTechnicalParameters=function(e){e.removeSelectOption("@odata.context");e.removeSelectOption("@odata.metadataEtag");e.removeSelectOption("SAP__Messages")};M._getSemanticObjectCustomDataValue=function(e,t){let n,i;for(const a of e){n=a.getKey();i=a.getValue();t[n]={value:i}}};M._isDynamicPath=function(e){const t=_(e);if(t._type==="EmbeddedBinding"||t._type==="EmbeddedExpressionBinding"){return true}else{return false}};M._updatePayloadWithResolvedSemanticObjectValue=function(e,t){switch(typeof t){case"string":e.semanticObjectsResolved?.push(t);e.semanticObjects.push(t);break;case"object":for(const n in t){e.semanticObjectsResolved?.push(t[n]);e.semanticObjects.push(t[n])}break;default:}};M._createNewPayloadWithDynamicSemanticObjectsResolved=function(e,t,n){let i;const a=function(e,t){return Object.keys(e).find(n=>e[n]===t)};for(const s in e.semanticObjects){i=e.semanticObjects[s];if(M._isDynamicPath(i)){const s=e.qualifiers&&a(e.qualifiers,i);const c=s&&t[s].value;M._updatePayloadWithResolvedSemanticObjectValue(n,c)}else{n.semanticObjects.push(i)}}};M._updateSemanticObjectsForMappings=function(e,t,n){t.semanticObjectMappings.forEach(function(t){if(t.semanticObject&&M._isDynamicPath(t.semanticObject)){t.semanticObject=n.semanticObjects[e.semanticObjects.indexOf(t.semanticObject)]}})};M._updateSemanticObjectsUnavailableActions=function(e,t,n){let i;t.forEach(function(t){if(t?.semanticObject&&M._isDynamicPath(t.semanticObject)){i=e.semanticObjects.findIndex(function(e){return e===t.semanticObject});if(i!==undefined){t.semanticObject=n.semanticObjects[i]}}})};M._removeEmptySemanticObjectsMappings=function(e){for(let t=0;t<e.semanticObjectMappings.length;t++){if(e.semanticObjectMappings[t]&&e.semanticObjectMappings[t].semanticObject===undefined){e.semanticObjectMappings.splice(t,1)}}};M._setPayloadWithDynamicSemanticObjectsResolved=function(e,n){let i;if(n.semanticObjectsResolved&&n.semanticObjectsResolved.length>0){i={qualifiers:e.qualifiers,entityType:e.entityType,dataField:e.dataField,contact:e.contact,navigationPath:e.navigationPath,propertyPathLabel:e.propertyPathLabel,semanticObjectMappings:t(e.semanticObjectMappings),semanticObjectUnavailableActions:[],semanticObjects:n.semanticObjects};M._updateSemanticObjectsForMappings(e,i,n);const a=t(e.semanticObjectUnavailableActions);M._updateSemanticObjectsUnavailableActions(e,a,i);i.semanticObjectUnavailableActions=a;M._removeEmptySemanticObjectsMappings(i);return i}else{return{}}};M._getPayloadWithDynamicSemanticObjectsResolved=function(e,t){let n;const i={};const a={semanticObjects:[],semanticObjectsResolved:[],semanticObjectMappings:[],semanticObjectUnavailableActions:[],qualifiers:{}};if(e.semanticObjects){if(t&&t.length>0){M._getSemanticObjectCustomDataValue(t,i);M._createNewPayloadWithDynamicSemanticObjectsResolved(e,i,a);n=M._setPayloadWithDynamicSemanticObjectsResolved(e,a);return n}}else{return undefined}};M._updatePayloadWithSemanticAttributes=function(t,n,a,s,c){t.forEach(function(t){if(n){n.addContextObject(t,a)}s[t]={};for(const o in a){let r=null,l=null;if(n){r=n.getSemanticObjectAttribute(t,o);if(!r){r=n.createAttributeStructure();n.addSemanticObjectAttribute(t,o,r)}}if(a[o]===undefined||a[o]===null){if(r){r.transformations.push({value:undefined,description:"ℹ Undefined and null values have been removed in SimpleLinkDelegate."})}continue}if(i(a[o])){if(c&&c[t]){const e=Object.keys(c[t]);let n,i,r,l;for(const m of e){l=m;if(l.indexOf(o)===0){n=c[t][l];i=l.split("/")[l.split("/").length-1];r=a[o][i];if(n&&i&&r){s[t][n]=r}}}}if(r){r.transformations.push({value:undefined,description:"ℹ Plain objects has been removed in SimpleLinkDelegate."})}continue}const m=c&&c[t]&&c[t][o]?c[t][o]:o;if(r&&o!==m){l={value:undefined,description:`ℹ The attribute ${o} has been renamed to ${m} in SimpleLinkDelegate.`,reason:`🔴 A com.sap.vocabularies.Common.v1.SemanticObjectMapping annotation is defined for semantic object ${t} with source attribute ${o} and target attribute ${m}. You can modify the annotation if the mapping result is not what you expected.`}}if(s[t][m]){e.error(`SimpleLinkDelegate: The attribute ${o} can not be renamed to the attribute ${m} due to a clash situation. This can lead to wrong navigation later on.`)}s[t][m]=a[o];if(r){if(l){r.transformations.push(l);const e=n.createAttributeStructure();e.transformations.push({value:a[o],description:`ℹ The attribute ${m} with the value ${a[o]} has been added due to a mapping rule regarding the attribute ${o} in SimpleLinkDelegate.`});n.addSemanticObjectAttribute(t,m,e)}}}})};M.calculatePayloadWithDynamicSemanticObjectsResolved=function(e){const t=e?.getPayload();const n=e&&this._fetchLinkCustomData(e);const i=M._getPayloadWithDynamicSemanticObjectsResolved(t,n);return i?i:t};M._calculateSemanticAttributes=function(e,t,n,i){const a=e.getObject();const c=M.calculatePayloadWithDynamicSemanticObjectsResolved(i);const o=M._getSemanticObjects(c);if(!o.length){return{payload:c,results:{}}}const r={};const l=s.getTargetView(i);const m=c?.dataFieldPropPath;M._checkImplicitSemanticObjectMapping(c,m,e,l);const u=M._convertSemanticObjectMapping(M._getSemanticObjectMappings(c));M._updatePayloadWithSemanticAttributes(o,n,a,r,u);return{payload:c,results:r}};M.checkPrimaryActionForHash=function(e,t,n){return t.some(t=>{let i=e.constructShellHash({target:{shellHash:t.intent}});if(i.includes("?")){i=i.substring(0,i.indexOf("?"))}return`${n.semanticObject}-${n.action}`===i})};M._retrieveNavigationTargets=async function(t,n,i,a,s){if(!i.semanticObjects){return Promise.resolve([])}const c=i.semanticObjects;const o={ownNavigation:undefined,availableActions:[]};let r=0;return p.load({name:"sap.ui.fl"}).then(async()=>new Promise(u=>{sap.ui.require(["sap/ui/fl/Utils"],async d=>{const p=d.getAppComponentForControl(s===undefined?this.oControl:s);const f=p?p.getShellServices():null;if(!f){u(o.availableActions,o.ownNavigation);return}if(!f?.hasUShell()){e.error("SimpleLinkDelegate: Service 'CrossApplicationNavigation' or 'URLParsing' could not be obtained");u(o.availableActions,o.ownNavigation)}const g=c.map(function(e){return{semanticObject:e,params:n?n[e]:undefined,appStateKey:t,sortResultsBy:"text"}});try{const e=await f.getLinks(g);let t=false;for(const n of e){if(n.length>0){t=true;break}if(t){break}}if(!e||!e.length||!t){u(o.availableActions,o.ownNavigation)}const n=M._getSemanticObjectUnavailableActions(i);const s=M._convertSemanticObjectUnavailableAction(n);let d=m._fnFixHashQueryString(p.getShellServices().getHash());if(d){d+="?"}const h=function(e,t){return!!s&&!!s[e]&&s[e].includes(t)};const b=(await l._getPrimaryIntents(p,i&&i.semanticObjects)).filter(Boolean);const y=function(e){const t=f.parseShellHash(e.intent);if(h(t.semanticObject,t.action)){return}const n=`#${f.constructShellHash({target:{shellHash:e.intent}})}`;if(e.intent&&e.intent.indexOf(d)===0){o.ownNavigation=new O({href:n,text:e.text});return}const i=new O({key:t.semanticObject&&t.action?`${t.semanticObject}-${t.action}`:undefined,text:e.text,description:undefined,href:n,icon:undefined,initiallyVisible:e.tags&&e.tags.includes("superiorAction")});if(i.getProperty("initiallyVisible")){if(!M.checkPrimaryActionForHash(f,b,t)){r++}}o.availableActions.push(i);if(a){a.addSemanticObjectIntent(t.semanticObject,{intent:i.getHref(),text:i.getText()})}};for(let t=0;t<c.length;t++){e[t].forEach(y)}if(r===0){for(let e=0;e<o.availableActions.length;e++){if(e<this.getConstants().iLinksShownInPopup){o.availableActions[e].setProperty("initiallyVisible",true)}else{break}}}u(o.availableActions,o.ownNavigation)}catch(t){e.error("SimpleLinkDelegate: '_retrieveNavigationTargets' failed executing getLinks method");u(o.availableActions,o.ownNavigation)}})}))};M._getSemanticObjects=function(e){return e.semanticObjects?e.semanticObjects:[]};M._getSemanticObjectUnavailableActions=function(e){const t=[];if(e.semanticObjectUnavailableActions){e.semanticObjectUnavailableActions.forEach(function(e){t.push(new S({semanticObject:e.semanticObject,actions:e.actions}))})}return t};M._getSemanticObjectMappings=function(e){const t=[];let n=[];if(e.semanticObjectMappings){e.semanticObjectMappings.forEach(function(e){n=[];if(e.items){e.items.forEach(function(e){n.push(new j({key:e.key,value:e.value}))})}t.push(new v({semanticObject:e.semanticObject,items:n}))})}return t};M._convertSemanticObjectMapping=function(e){if(!e.length){return undefined}const t={};e.forEach(e=>{if(!e.getSemanticObject()){throw Error(`SimpleLinkDelegate: 'semanticObject' property with value '${e.getSemanticObject()}' is not valid`)}t[e.getSemanticObject()]=Object.fromEntries(e.getItems().map(e=>[e.getKey(),e.getValue()]))});return t};M._convertSemanticObjectUnavailableAction=function(e){let t;let n;let i=[];if(!e.length){return undefined}const a={};e.forEach(function(e){t=e.getSemanticObject();if(!t){throw Error(`SimpleLinkDelegate: 'semanticObject' property with value '${t}' is not valid`)}i=e.getActions();if(a[t]===undefined){a[t]=i}else{n=a[t];i.forEach(function(e){n.push(e)});a[t]=n}});return a};M.fetchPopoverTitle=async function(e,t){const n="";if(!e||!t){return{sTitle:n,oLabelledByControl:undefined}}const i=M?._getLabelledByControl(t);return Promise.resolve({sTitle:n,oLabelledByControl:i})};return M},false);
//# sourceMappingURL=QuickViewDelegate.js.map