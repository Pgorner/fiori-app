/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2024 SAP SE. All rights reserved
 */
sap.ui.define(["sap/fe/core/CommonUtils","sap/fe/core/helpers/ResourceModelHelper","sap/m/MessageBox","sap/ui/core/Item","sap/ui/unified/FileUploaderParameter"],function(e,t,o,r,a){"use strict";var s={};var i=t.getResourceModel;function n(e,t,r){const a=i(e);o.error(a.getText("M_FIELD_FILEUPLOADER_WRONG_MIMETYPE"),{details:`<p><strong>${a.getText("M_FIELD_FILEUPLOADER_WRONG_MIMETYPE_DETAILS_SELECTED")}</strong></p>${t}<br><br>`+`<p><strong>${a.getText("M_FIELD_FILEUPLOADER_WRONG_MIMETYPE_DETAILS_ALLOWED")}</strong></p>${r.toString().replaceAll(",",", ")}`,contentWidth:"150px"})}s.showTypeMismatchDialog=n;function l(e,t){const r=i(e);o.error(r.getText("M_FIELD_FILEUPLOADER_FILE_TOO_BIG",[t]),{contentWidth:"150px"})}s.showFileSizeExceedDialog=l;function d(e,t){const r=i(e);o.error(r.getText("M_FIELD_FILEUPLOADER_FILENAME_TOO_BIG",[t]),{contentWidth:"150px"})}s.showFileNameLengthExceedDialog=d;function c(e,t){let r,a;try{a=t&&JSON.parse(t);r=a.error?.message}catch(o){r=t||i(e).getText("M_FIELD_FILEUPLOADER_ABORTED_TEXT")}o.error(r)}s.displayMessageForFailedUpload=c;function p(e,t,o){if(e.isA("sap.ui.unified.FileUploader")){const r=new a;r.setName(t);r.setValue(o);e.addHeaderParameter(r)}else if(e.isA("sap.m.upload.UploadItem")){const a=new r({key:t,text:o});e.addHeaderField(a)}}function E(t,o){if(t.isA("sap.ui.unified.FileUploader")){t.removeAllHeaderParameters()}else if(t.isA("sap.m.upload.UploadItem")){t.removeAllHeaderFields()}const r=t.getModel()?.getHttpHeaders()?.["X-CSRF-Token"];if(r){p(t,"x-csrf-token",r)}const a=o?.getProperty("@odata.etag")??t.getBindingContext()?.getProperty("@odata.etag");if(a){const o=e.getTargetView(t);const r=o.getController().collaborativeDraft;p(t,"If-Match",r.isConnected()?"*":a)}p(t,"Accept","application/json")}s.setHeaderFields=E;return s},false);
//# sourceMappingURL=Upload.js.map