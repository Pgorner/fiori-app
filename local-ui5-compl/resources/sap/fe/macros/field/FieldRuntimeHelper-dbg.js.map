{"version":3,"names":["FieldRuntimeHelper","fetchRecommendations","field","controller","view","CommonUtils","getTargetView","fieldBindingContext","getBindingContext","recommendationsContext","fieldBinding","getBinding","isA","feController","getExtensionController","valueHelpId","getValueHelp","metaPath","ModelHelper","getMetaPathForContext","propertyPath","data","replace","fieldPath","getPath","selectedValue","getValue","recommendations","updateTelemetryDataBasedOnUserSelection","includes","tableId","substring","indexOf","table","byId","contextIdentifier","getParent","getIdentifierColumn","fetchAndApplyRecommendationsOnFieldChange","context","oController","_controller","getFieldStateOnChange","oEvent","oSourceField","getSource","mFieldState","_isBindingStateMessages","oBinding","getDataState","getInvalidValue","undefined","getContent","FieldWrapper","getMetadata","getName","getEditMode","getContentEdit","bIsValid","getParameter","getMaxConditions","oValueBindingInfo","getBindingInfo","binding","getProperty","fieldValue","validity","state","pressLink","oSource","sapmLink","findElements","elem","getDependents","length","oFieldInfo","openLink","mdcLink","hRef","getTriggerHref","_useDelegateItems","linkItems","retrieveLinkItems","getPayload","hasQuickViewFacets","popover","createPopoverWithNoTargets","addDependent","openBy","open","error","Log","appComponent","getAppComponent","shellService","getShellServices","shellHash","parseShellHash","navArgs","target","semanticObject","action","params","KeepAliveHelper","storeControlRefreshStrategyForHash","isStickyEditMode","navigate","newHref","hrefForExternal","openWindow","mdcLinkId","getId","illustratedMessageSettings","title","getResourceModel","getText","description","enableFormattedText","illustrationSize","illustrationType","IllustratedMessageType","Tent","illustratedMessage","IllustratedMessage","popoverSettings","horizontalScrolling","showHeader","Device","system","phone","placement","mobilelibrary","PlacementType","Auto","content","afterClose","event","destroy","ResponsivePopover"],"sourceRoot":".","sources":["FieldRuntimeHelper.ts"],"sourcesContent":["import Log from \"sap/base/Log\";\nimport type { EnhanceWithUI5 } from \"sap/fe/base/ClassSupport\";\nimport CommonUtils from \"sap/fe/core/CommonUtils\";\nimport type ExtensionAPI from \"sap/fe/core/ExtensionAPI\";\nimport type PageController from \"sap/fe/core/PageController\";\nimport KeepAliveHelper from \"sap/fe/core/helpers/KeepAliveHelper\";\nimport ModelHelper from \"sap/fe/core/helpers/ModelHelper\";\nimport { getResourceModel } from \"sap/fe/core/helpers/ResourceModelHelper\";\nimport type TextLink from \"sap/fe/macros/controls/TextLink\";\nimport type { LinkDelegatePayload } from \"sap/fe/macros/quickView/QuickViewDelegate\";\nimport type { Button$PressEvent } from \"sap/m/Button\";\nimport type { $IllustratedMessageSettings } from \"sap/m/IllustratedMessage\";\nimport IllustratedMessage from \"sap/m/IllustratedMessage\";\nimport IllustratedMessageType from \"sap/m/IllustratedMessageType\";\nimport type Link from \"sap/m/Link\";\nimport type ObjectIdentifier from \"sap/m/ObjectIdentifier\";\nimport type { $ResponsivePopoverSettings } from \"sap/m/ResponsivePopover\";\nimport ResponsivePopover from \"sap/m/ResponsivePopover\";\nimport mobilelibrary from \"sap/m/library\";\nimport Device from \"sap/ui/Device\";\nimport type Event from \"sap/ui/base/Event\";\nimport type Control from \"sap/ui/core/Control\";\nimport type Element from \"sap/ui/core/Element\";\nimport type { default as Field, Field$ChangeEvent, default as MDCField } from \"sap/ui/mdc/Field\";\nimport type MdcLink from \"sap/ui/mdc/Link\";\nimport type DataState from \"sap/ui/model/DataState\";\nimport type PropertyBinding from \"sap/ui/model/PropertyBinding\";\nimport type Context from \"sap/ui/model/odata/v4/Context\";\nimport openWindow from \"sap/ui/util/openWindow\";\nimport FieldWrapper from \"../controls/FieldWrapper\";\nimport type TableAPI from \"../table/TableAPI\";\nimport type FieldAPI from \"./FieldAPI\";\n\nconst FieldRuntimeHelper = {\n\tfetchRecommendations: function (field: Field, controller: PageController | ExtensionAPI): void {\n\t\tconst view = CommonUtils.getTargetView(field);\n\t\tconst fieldBindingContext = field.getBindingContext();\n\t\tlet recommendationsContext: Context;\n\n\t\t// determine recommendation context to use\n\t\tconst fieldBinding = (fieldBindingContext as Context)?.getBinding();\n\n\t\tif (fieldBinding.isA(\"sap.ui.model.odata.v4.ODataListBinding\")) {\n\t\t\t// inside a table, use the row\n\t\t\trecommendationsContext = fieldBindingContext as Context;\n\t\t} else {\n\t\t\t// inside a form now\n\t\t\t// can have 1-1 navigation property/direct property - use view context\n\t\t\trecommendationsContext = view.getBindingContext();\n\t\t}\n\t\tconst feController = FieldRuntimeHelper.getExtensionController(controller);\n\t\tconst valueHelpId = field.getValueHelp();\n\t\t// update telemetry data as per user selection\n\t\tconst metaPath = ModelHelper.getMetaPathForContext(field.getBindingContext() as Context);\n\t\tconst propertyPath = field.data(\"sourcePath\").replace(metaPath, \"\");\n\t\tconst fieldPath = `${field.getBindingContext()?.getPath()}${propertyPath}`;\n\t\tconst selectedValue = field.getValue();\n\t\tfeController.recommendations.updateTelemetryDataBasedOnUserSelection(fieldPath, selectedValue);\n\n\t\tif (valueHelpId && valueHelpId.includes(\"::TableValueHelp::\")) {\n\t\t\tconst tableId = valueHelpId.substring(0, valueHelpId.indexOf(\"::TableValueHelp::\"));\n\t\t\tconst table = view.byId(tableId);\n\t\t\tconst contextIdentifier = (table?.getParent() as TableAPI)?.getIdentifierColumn() as string[];\n\t\t\tfeController.recommendations.fetchAndApplyRecommendationsOnFieldChange(field, {\n\t\t\t\tcontext: recommendationsContext,\n\t\t\t\tcontextIdentifier\n\t\t\t});\n\t\t} else {\n\t\t\tfeController.recommendations.fetchAndApplyRecommendationsOnFieldChange(field, { context: recommendationsContext });\n\t\t}\n\t},\n\n\tgetExtensionController: function (oController: PageController | ExtensionAPI): PageController {\n\t\treturn oController.isA<ExtensionAPI>(\"sap.fe.core.ExtensionAPI\") ? oController._controller : oController;\n\t},\n\n\t/**\n\t * Gets the field value and validity on a change event.\n\t * @param oEvent The event object passed by the change event\n\t * @returns Field value and validity\n\t */\n\tgetFieldStateOnChange: function (oEvent: Field$ChangeEvent & Event<{ isValid: boolean }, Control>): {\n\t\tfield: Field;\n\t\tstate: {\n\t\t\tfieldValue?: unknown;\n\t\t\tvalidity: boolean;\n\t\t};\n\t} {\n\t\tlet oSourceField = oEvent.getSource(),\n\t\t\tmFieldState: {\n\t\t\t\tfieldValue?: unknown;\n\t\t\t\tvalidity: boolean;\n\t\t\t};\n\t\tconst _isBindingStateMessages = function (oBinding: PropertyBinding & { getDataState: () => DataState }): boolean {\n\t\t\treturn oBinding && oBinding.getDataState() ? oBinding.getDataState().getInvalidValue() === undefined : true;\n\t\t};\n\t\tif (oSourceField.isA<Field>(\"sap.fe.macros.field.Field\")) {\n\t\t\toSourceField = oSourceField.getContent() as MDCField;\n\t\t}\n\t\tif (oSourceField.isA<EnhanceWithUI5<FieldAPI>>(\"sap.fe.macros.field.FieldAPI\")) {\n\t\t\toSourceField = oSourceField.getContent() as MDCField;\n\t\t}\n\n\t\tif (\n\t\t\toSourceField.isA<EnhanceWithUI5<FieldWrapper>>(FieldWrapper.getMetadata().getName()) &&\n\t\t\toSourceField.getEditMode() === \"Editable\"\n\t\t) {\n\t\t\toSourceField = (oSourceField as EnhanceWithUI5<FieldWrapper>).getContentEdit()[0] as MDCField;\n\t\t}\n\n\t\tif (oSourceField.isA<MDCField>(\"sap.ui.mdc.Field\")) {\n\t\t\tlet bIsValid = oEvent.getParameter(\"valid\") || oEvent.getParameter(\"isValid\");\n\t\t\tif (bIsValid === undefined) {\n\t\t\t\tif (oSourceField.getMaxConditions() === 1) {\n\t\t\t\t\tconst oValueBindingInfo = oSourceField.getBindingInfo(\"value\");\n\t\t\t\t\tbIsValid = _isBindingStateMessages(oValueBindingInfo && oValueBindingInfo.binding);\n\t\t\t\t}\n\t\t\t\tif (oSourceField.getValue() === \"\" && !oSourceField.getProperty(\"required\")) {\n\t\t\t\t\tbIsValid = true;\n\t\t\t\t}\n\t\t\t}\n\t\t\tmFieldState = {\n\t\t\t\tfieldValue: oSourceField.getValue(),\n\t\t\t\tvalidity: !!bIsValid\n\t\t\t};\n\t\t} else {\n\t\t\t// oSourceField extends from a FileUploader || Input || is a CheckBox\n\t\t\tconst oBinding =\n\t\t\t\t(oSourceField as Control).getBinding(\"uploadUrl\") ||\n\t\t\t\t(oSourceField as Control).getBinding(\"value\") ||\n\t\t\t\t(oSourceField as Control).getBinding(\"selected\");\n\t\t\tmFieldState = {\n\t\t\t\tfieldValue: oBinding && (oBinding as PropertyBinding).getValue(),\n\t\t\t\tvalidity: _isBindingStateMessages(oBinding as PropertyBinding & { getDataState: () => DataState })\n\t\t\t};\n\t\t}\n\t\treturn {\n\t\t\tfield: oSourceField,\n\t\t\tstate: mFieldState\n\t\t};\n\t},\n\t/**\n\t * Handles the press event for a link.\n\t * @param oEvent The press event\n\t * @returns The pressed link\n\t */\n\tpressLink: async function (oEvent: Button$PressEvent): Promise<Link> {\n\t\tconst oSource = oEvent.getSource();\n\t\tlet sapmLink = oSource.isA<ObjectIdentifier>(\"sap.m.ObjectIdentifier\")\n\t\t\t? oSource.findElements(false, (elem: Element) => {\n\t\t\t\t\treturn elem.isA<Link>(\"sap.m.Link\");\n\t\t\t  })[0]\n\t\t\t: oSource;\n\t\tif (oSource?.isA<TextLink>(\"sap.fe.macros.controls.TextLink\")) {\n\t\t\t//when the link is inside a TextLink control, the dependent will be on the TextLink\n\t\t\tsapmLink = oSource.getContent() as Link;\n\t\t}\n\n\t\tif (oSource.getDependents() && oSource.getDependents().length > 0 && sapmLink.getProperty(\"text\") !== \"\") {\n\t\t\tconst oFieldInfo = oSource.getDependents()[0];\n\t\t\tif (oFieldInfo && oFieldInfo.isA<MdcLink>(\"sap.ui.mdc.Link\")) {\n\t\t\t\tawait FieldRuntimeHelper.openLink(oFieldInfo, sapmLink as Link);\n\t\t\t}\n\t\t}\n\t\treturn sapmLink as Link;\n\t},\n\n\topenLink: async function (mdcLink: MdcLink, sapmLink: Link): Promise<void> {\n\t\ttry {\n\t\t\tconst hRef = await mdcLink.getTriggerHref();\n\t\t\tif (!hRef) {\n\t\t\t\ttry {\n\t\t\t\t\tawait (mdcLink as unknown as { _useDelegateItems: Function })._useDelegateItems();\n\t\t\t\t\tconst linkItems = await mdcLink.retrieveLinkItems();\n\t\t\t\t\tif (linkItems?.length === 0 && (mdcLink.getPayload() as LinkDelegatePayload).hasQuickViewFacets === \"false\") {\n\t\t\t\t\t\tconst popover: ResponsivePopover = FieldRuntimeHelper.createPopoverWithNoTargets(mdcLink);\n\t\t\t\t\t\tmdcLink.addDependent(popover);\n\t\t\t\t\t\tpopover.openBy(sapmLink as unknown as Control);\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n\t\t\t\t\t\t// @ts-ignore\n\t\t\t\t\t\tawait mdcLink.open(sapmLink as unknown as Control);\n\t\t\t\t\t}\n\t\t\t\t} catch (error) {\n\t\t\t\t\tLog.error(`Cannot retrieve the QuickView Popover dialog: ${error}`);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tconst view = CommonUtils.getTargetView(sapmLink);\n\t\t\t\tconst appComponent = CommonUtils.getAppComponent(view);\n\t\t\t\tconst shellService = appComponent.getShellServices();\n\t\t\t\tconst shellHash = shellService.parseShellHash(hRef);\n\t\t\t\tconst navArgs = {\n\t\t\t\t\ttarget: {\n\t\t\t\t\t\tsemanticObject: shellHash.semanticObject,\n\t\t\t\t\t\taction: shellHash.action\n\t\t\t\t\t},\n\t\t\t\t\tparams: shellHash.params\n\t\t\t\t};\n\t\t\t\tKeepAliveHelper.storeControlRefreshStrategyForHash(view, shellHash);\n\t\t\t\tif (CommonUtils.isStickyEditMode(sapmLink as unknown as Control) !== true) {\n\t\t\t\t\t//URL params and xappState has been generated earlier hence using navigate\n\t\t\t\t\tawait shellService.navigate(navArgs, appComponent);\n\t\t\t\t} else {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tconst newHref = await shellService.hrefForExternal(navArgs, appComponent);\n\t\t\t\t\t\topenWindow(newHref);\n\t\t\t\t\t} catch (error) {\n\t\t\t\t\t\tLog.error(`Error while retireving hrefForExternal : ${error}`);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t} catch (error) {\n\t\t\tLog.error(`Error triggering link Href: ${error}`);\n\t\t}\n\t},\n\n\tcreatePopoverWithNoTargets: function (mdcLink: MdcLink): ResponsivePopover {\n\t\tconst mdcLinkId = mdcLink.getId();\n\t\tconst illustratedMessageSettings: $IllustratedMessageSettings = {\n\t\t\ttitle: getResourceModel(mdcLink as unknown as Control).getText(\"M_ILLUSTRATEDMESSAGE_TITLE\"),\n\t\t\tdescription: getResourceModel(mdcLink as unknown as Control).getText(\"M_ILLUSTRATEDMESSAGE_DESCRIPTION\"),\n\t\t\tenableFormattedText: true,\n\t\t\tillustrationSize: \"Dot\", // IllustratedMessageSize.Dot not available in \"@types/openui5\": \"1.107.0\"\n\t\t\tillustrationType: IllustratedMessageType.Tent\n\t\t};\n\t\tconst illustratedMessage = new IllustratedMessage(`${mdcLinkId}-illustratedmessage`, illustratedMessageSettings);\n\t\tconst popoverSettings: $ResponsivePopoverSettings = {\n\t\t\thorizontalScrolling: false,\n\t\t\tshowHeader: Device.system.phone,\n\t\t\tplacement: mobilelibrary.PlacementType.Auto,\n\t\t\tcontent: [illustratedMessage],\n\t\t\tafterClose: function (event) {\n\t\t\t\tif (event.getSource()) {\n\t\t\t\t\tevent.getSource().destroy();\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\treturn new ResponsivePopover(`${mdcLinkId}-popover`, popoverSettings);\n\t}\n};\n\nexport default FieldRuntimeHelper;\n"],"mappings":"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","ignoreList":[],"file":"FieldRuntimeHelper-dbg.js"}