{"version":3,"names":["getMenuItemForAction","dataField","action","menuItemAction","table","forContextMenu","collectionContext","handlerProvider","annotationPath","undefined","actionContextPath","CommonHelper","getActionContext","metaPath","getModel","createBindingContext","actionContext","dataFieldDataModelObjectPath","MetaModelConverter","getInvolvedDataModelObjects","isBound","ActionTarget","isOperationAvailable","annotations","Core","OperationAvailable","valueOf","command","contextMenuText","pressHandler","getDataFieldForActionButtonPressHandler","pressCommand","enabled","TableHelper","isDataFieldForActionEnabled","tableDefinition","Action","getObject","enableOnSelect","targetEntityType","itemId","generate","id","key","_jsx","MenuItem","text","Label","press","visible","children","customData","createCustomData","getMenuItemForIntentBasedNavigation","arguments","length","getDataFieldForIBNPressHandler","isDataFieldForIBNEnabled","collection","RequiresContext","NavigationAvailable","SemanticObject","getMenuItem","convertedMetadata","resolvePath","target","type","isDataFieldForAction","isActionShownInContextMenu","contextObjectPath","isDataFieldForIntentBasedNavigation","getManifestActionPressHandler","enabledForContextMenu","getDataFieldButtonForAction","dataFieldActionContext","toolbarActionId","Button","ariaHasPopup","isActionWithDialog","ButtonType","Transparent","tableActionContextMenuId","visibleForContextMenu","getDataFieldButtonForIntentBasedNavigation","IBNData","getDataFieldButton","template","ActionToolbarAction","getDefaultMenuButtonAction","defaultAction","dataFieldForDefaultAction","handler","e","getMenuButton","defaultActionHandlers","menuItems","menu","filter","map","item","menuId","MenuButton","menuPosition","useDefaultActionOnly","buttonMode","MenuButtonMode","Split","Regular","Menu","menuItemsForContextMenu","forEach","push","items","getDefaultButton","getAction","getCopyAction","operationAvailable","ActionHelper","getNumberOfContextsExpression","compileExpression","equal","pathInModel","getCreateButton","standardAction","collectionEntity","suffixResourceKey","name","buttonText","getTranslatedText","createOutboundDetail","annotation","create","outboundDetail","control","enableUploadPlugin","ActionsPlaceholder","placeholderFor","getIBNData","getCreateMenu","values","nodeType","hasCustomCreateEnablement","createEnablement","allowedValue","index","modelName","isEnabled","notEqual","value","getCreateMenuItemPressHandler","getDeleteButton","getStandardAction","isTemplated","StandardActionKeys","Create","isInsertUpdateActionsTemplated","Delete","Cut","getCutButton","Paste","getPasteButton","MassEdit","getMassEditButtonPressHandler","Insights","addCardToInsightsPress","layoutData","OverflowToolbarLayoutData","priority","MoveUp","MoveDown","getMoveUpDownButton","getActions","actions","ActionType","Standard","Copy","_exports","getBasicSearch","useBasicSearch","filterBarId","_collectionIsDraftEnabled","isSearchable","label","BasicSearchMacro","useDraftEditState","getFullScreen","enableFullScreen","TableFullScreenButton","forMoveUp","tableType","getTableActionsTemplate","ModelHelper","isDraftNode","isDraftRoot","searchable","basicSearch","filterBar","fullScreen","getTableContextMenuTemplate","getExpandedCollapseActions","expandNode","collapseNode","expand","enableExpression","and"],"sourceRoot":".","sources":["ActionsTemplating.tsx"],"sourcesContent":["import type { Action } from \"@sap-ux/vocabularies-types/Edm\";\nimport type {\n\tDataFieldAbstractTypes,\n\tDataFieldForAction,\n\tDataFieldForIntentBasedNavigation\n} from \"@sap-ux/vocabularies-types/vocabularies/UI\";\n\nimport type { EntitySet, NavigationProperty } from \"@sap-ux/vocabularies-types\";\nimport { and, compileExpression, equal, notEqual, pathInModel } from \"sap/fe/base/BindingToolkit\";\nimport { ActionType } from \"sap/fe/core/converters/ManifestSettings\";\nimport * as MetaModelConverter from \"sap/fe/core/converters/MetaModelConverter\";\nimport {\n\tisActionWithDialog,\n\tisDataFieldForAction,\n\tisDataFieldForIntentBasedNavigation\n} from \"sap/fe/core/converters/annotations/DataField\";\nimport type { AnnotationAction, BaseAction, CustomAction } from \"sap/fe/core/converters/controls/Common/Action\";\nimport { ButtonType } from \"sap/fe/core/converters/controls/Common/Action\";\nimport type { CreateBehaviorExternal } from \"sap/fe/core/converters/controls/Common/Table\";\nimport type { StandardAction } from \"sap/fe/core/converters/controls/Common/table/StandardActions\";\nimport { StandardActionKeys } from \"sap/fe/core/converters/controls/Common/table/StandardActions\";\nimport ModelHelper from \"sap/fe/core/helpers/ModelHelper\";\nimport { generate } from \"sap/fe/core/helpers/StableIdHelper\";\nimport CommonHelper from \"sap/fe/macros/CommonHelper\";\nimport { createCustomData } from \"sap/fe/macros/TSXUtils\";\nimport type { CustomAndAction } from \"sap/fe/macros/chart/MdcChartTemplate\";\nimport type { TableBlockProperties } from \"sap/fe/macros/table/MdcTableTemplate\";\nimport TableFullScreenButton from \"sap/fe/macros/table/TableFullScreenButton\";\nimport TableHelper from \"sap/fe/macros/table/TableHelper\";\nimport Button from \"sap/m/Button\";\nimport Menu from \"sap/m/Menu\";\nimport MenuButton from \"sap/m/MenuButton\";\nimport MenuItem from \"sap/m/MenuItem\";\nimport OverflowToolbarLayoutData from \"sap/m/OverflowToolbarLayoutData\";\nimport { MenuButtonMode } from \"sap/m/library\";\nimport ActionsPlaceholder from \"sap/m/upload/ActionsPlaceholder\";\nimport type UI5Event from \"sap/ui/base/Event\";\nimport type Control from \"sap/ui/core/Control\";\nimport ActionToolbarAction from \"sap/ui/mdc/actiontoolbar/ActionToolbarAction\";\nimport type Context from \"sap/ui/model/Context\";\nimport ActionHelper from \"../internal/helpers/ActionHelper\";\nimport BasicSearchMacro from \"./BasicSearch\";\nimport type TableEventHandlerProvider from \"./TableEventHandlerProvider\";\n\n/**\n * Generates the MenuItem for the DataFieldForAction.\n * @param dataField DataField for action\n * @param action The name of the action\n * @param menuItemAction The menuItemAction to be evaluated\n * @param table The instance of the table building block\n * @param forContextMenu Indicates if the action appears in the context menu. If false, the action appears in the table toolbar\n * @param collectionContext The context of the collection\n * @param handlerProvider\n * @returns The MenuItem\n */\nfunction getMenuItemForAction(\n\tdataField: DataFieldForAction,\n\taction: BaseAction | AnnotationAction | CustomAction,\n\tmenuItemAction: BaseAction,\n\ttable: TableBlockProperties,\n\tforContextMenu: boolean,\n\tcollectionContext: Context,\n\thandlerProvider: TableEventHandlerProvider\n): MenuItem | undefined {\n\tif (!menuItemAction.annotationPath) {\n\t\treturn undefined;\n\t}\n\tconst actionContextPath = CommonHelper.getActionContext(\n\t\ttable.metaPath.getModel().createBindingContext(menuItemAction.annotationPath + \"/Action\")!\n\t);\n\tconst actionContext = table.metaPath.getModel().createBindingContext(actionContextPath);\n\tconst dataFieldDataModelObjectPath = actionContext\n\t\t? MetaModelConverter.getInvolvedDataModelObjects(actionContext, collectionContext)\n\t\t: undefined;\n\tconst isBound = dataField.ActionTarget?.isBound;\n\tconst isOperationAvailable = dataField.ActionTarget?.annotations?.Core?.OperationAvailable?.valueOf() !== false;\n\tconst command = !forContextMenu ? menuItemAction.command : menuItemAction.command + \"::ContextMenu\";\n\tconst contextMenuText = forContextMenu ? \"ContextMenu\" : \"ActionMenu\";\n\tconst pressHandler = menuItemAction.command\n\t\t? undefined\n\t\t: handlerProvider.getDataFieldForActionButtonPressHandler(dataField, menuItemAction, action, forContextMenu);\n\tconst pressCommand = menuItemAction.command ? `cmd:${command}|press` : undefined;\n\tconst enabled =\n\t\tmenuItemAction.enabled !== undefined\n\t\t\t? menuItemAction.enabled\n\t\t\t: TableHelper.isDataFieldForActionEnabled(\n\t\t\t\t\ttable.tableDefinition,\n\t\t\t\t\tdataField.Action,\n\t\t\t\t\t!!isBound,\n\t\t\t\t\tactionContext.getObject(),\n\t\t\t\t\tmenuItemAction.enableOnSelect,\n\t\t\t\t\tdataFieldDataModelObjectPath?.targetEntityType,\n\t\t\t\t\tforContextMenu\n\t\t\t  );\n\tif (isBound !== true || isOperationAvailable) {\n\t\tconst itemId = generate([table.id, menuItemAction.key, action.key, contextMenuText, dataField, \"MenuItemForAction\"]);\n\t\treturn (\n\t\t\t<MenuItem\n\t\t\t\ttext={dataField.Label}\n\t\t\t\tid={itemId}\n\t\t\t\tpress={pressHandler}\n\t\t\t\tjsx:command={pressCommand}\n\t\t\t\tenabled={enabled}\n\t\t\t\tvisible={menuItemAction.visible}\n\t\t\t>\n\t\t\t\t{{\n\t\t\t\t\tcustomData: [createCustomData(\"actionId\", itemId)]\n\t\t\t\t}}\n\t\t\t</MenuItem>\n\t\t);\n\t} else {\n\t\treturn undefined;\n\t}\n}\n\n/**\n * Generates the MenuItem for the DataFieldForIntentBasedNavigation.\n * @param dataField DataField for IntentBasedNavigation\n * @param menuItemAction The menuItemAction to be evaluated\n * @param table The instance of the table building block\n * @param forContextMenu Indicates if the action appears in the context menu. If false, the action appears in the table toolbar\n * @param collectionContext The context of the collection\n * @param action\n * @param handlerProvider\n * @returns The MenuItem\n */\nfunction getMenuItemForIntentBasedNavigation(\n\tdataField: DataFieldForIntentBasedNavigation,\n\tmenuItemAction: BaseAction,\n\ttable: TableBlockProperties,\n\tforContextMenu = false,\n\tcollectionContext: Context,\n\taction: BaseAction | AnnotationAction | CustomAction,\n\thandlerProvider: TableEventHandlerProvider\n): MenuItem {\n\tconst pressHandler = menuItemAction.command\n\t\t? undefined\n\t\t: handlerProvider.getDataFieldForIBNPressHandler(menuItemAction, forContextMenu);\n\tconst pressCommand = menuItemAction.command ? `cmd:${menuItemAction.command}|press` : undefined;\n\n\tconst enabled =\n\t\tmenuItemAction.enabled !== undefined\n\t\t\t? menuItemAction.enabled\n\t\t\t: TableHelper.isDataFieldForIBNEnabled(\n\t\t\t\t\t{\n\t\t\t\t\t\tcollection: collectionContext,\n\t\t\t\t\t\ttableDefinition: table.tableDefinition\n\t\t\t\t\t},\n\t\t\t\t\tdataField,\n\t\t\t\t\tdataField.RequiresContext,\n\t\t\t\t\tdataField.NavigationAvailable,\n\t\t\t\t\tforContextMenu\n\t\t\t  );\n\tconst id = forContextMenu\n\t\t? generate([table.id, menuItemAction.key, action.key, dataField, \"MenuItemIntentBasedNavigation\", \"ContextMenu\"])\n\t\t: generate([table.id, menuItemAction.key, action.key, dataField, \"MenuItemIntentBasedNavigation\"]);\n\treturn (\n\t\t<MenuItem\n\t\t\ttext={dataField.Label}\n\t\t\tid={id}\n\t\t\tpress={pressHandler}\n\t\t\tjsx:command={pressCommand}\n\t\t\tenabled={enabled}\n\t\t\tvisible={menuItemAction.visible}\n\t\t>\n\t\t\t{{\n\t\t\t\tcustomData: [\n\t\t\t\t\t!dataField.RequiresContext\n\t\t\t\t\t\t? createCustomData(\"IBNData\", `{semanticObject: '${dataField.SemanticObject}' , action : '${dataField.Action}'}`)\n\t\t\t\t\t\t: undefined,\n\t\t\t\t\tcreateCustomData(\"actionId\", id)\n\t\t\t\t]\n\t\t\t}}\n\t\t</MenuItem>\n\t);\n}\n\n/**\n * Generates the xml string for the MenuItem based on the type of the menuItemAction.\n * @param action The name of the action\n * @param menuItemAction The menuItemAction to be evaluated\n * @param table The instance of the table building block\n * @param forContextMenu Indicates if the action appears in the context menu. If false, the action appears in the table toolbar\n * @param collectionContext The context of the collection\n * @param handlerProvider The entity set of the collection\n * @returns The xml string for the MenuItem\n */\nfunction getMenuItem(\n\taction: BaseAction | AnnotationAction | CustomAction,\n\tmenuItemAction: BaseAction,\n\ttable: TableBlockProperties,\n\tforContextMenu: boolean,\n\tcollectionContext: Context,\n\thandlerProvider: TableEventHandlerProvider\n): MenuItem | undefined {\n\tconst dataField = menuItemAction.annotationPath\n\t\t? (table.convertedMetadata.resolvePath(menuItemAction.annotationPath).target as DataFieldAbstractTypes)\n\t\t: undefined;\n\n\tswitch (dataField && menuItemAction.type) {\n\t\tcase \"ForAction\":\n\t\t\tif (isDataFieldForAction(dataField)) {\n\t\t\t\tif (\n\t\t\t\t\t!forContextMenu ||\n\t\t\t\t\t(forContextMenu && TableHelper.isActionShownInContextMenu(menuItemAction, table.contextObjectPath))\n\t\t\t\t) {\n\t\t\t\t\treturn getMenuItemForAction(\n\t\t\t\t\t\tdataField,\n\t\t\t\t\t\taction,\n\t\t\t\t\t\tmenuItemAction,\n\t\t\t\t\t\ttable,\n\t\t\t\t\t\tforContextMenu,\n\t\t\t\t\t\tcollectionContext,\n\t\t\t\t\t\thandlerProvider\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\t\t\tbreak;\n\t\tcase \"ForNavigation\":\n\t\t\tif (\n\t\t\t\tisDataFieldForIntentBasedNavigation(dataField!) &&\n\t\t\t\t(!forContextMenu || (forContextMenu && TableHelper.isActionShownInContextMenu(menuItemAction, table.contextObjectPath)))\n\t\t\t) {\n\t\t\t\treturn getMenuItemForIntentBasedNavigation(\n\t\t\t\t\tdataField,\n\t\t\t\t\tmenuItemAction,\n\t\t\t\t\ttable,\n\t\t\t\t\tforContextMenu,\n\t\t\t\t\tcollectionContext,\n\t\t\t\t\taction,\n\t\t\t\t\thandlerProvider\n\t\t\t\t);\n\t\t\t}\n\t\t\tbreak;\n\t\tdefault:\n\t}\n\n\tconst command = !forContextMenu ? menuItemAction.command : menuItemAction.command + \"::ContextMenu\";\n\tconst pressHandler = menuItemAction.command\n\t\t? undefined\n\t\t: handlerProvider.getManifestActionPressHandler(menuItemAction as CustomAction, forContextMenu);\n\tconst pressCommand = menuItemAction.command ? `cmd:${command}|press` : undefined;\n\tconst enabled = !forContextMenu ? menuItemAction.enabled : (menuItemAction as CustomAction).enabledForContextMenu;\n\tconst contextMenuText = forContextMenu ? \"ContextMenu\" : \"ActionMenu\";\n\tconst itemId = generate([table.id, menuItemAction.key, contextMenuText, action.key, dataField, \"MenuItem\"]);\n\treturn (\n\t\t<MenuItem\n\t\t\tcore:require=\"{FPM: 'sap/fe/core/helpers/FPMHelper'}\"\n\t\t\ttext={menuItemAction?.text}\n\t\t\tid={itemId}\n\t\t\tpress={pressHandler}\n\t\t\tjsx:command={pressCommand}\n\t\t\tvisible={menuItemAction.visible}\n\t\t\tenabled={enabled}\n\t\t>\n\t\t\t{{\n\t\t\t\tcustomData: [createCustomData(\"actionId\", itemId)]\n\t\t\t}}\n\t\t</MenuItem>\n\t);\n}\n\n/**\n * Generates the control for the DataFieldForActionButton.\n * @param dataField DataField for action\n * @param action The name of the action\n * @param table The instance of the table building block\n * @param forContextMenu Indicates if the action appears in the context menu. If false, the action appears in the table toolbar\n * @param collectionContext The context of the collection\n * @param handlerProvider\n * @returns The control for the DataFieldForActionButton\n */\nfunction getDataFieldButtonForAction(\n\tdataField: DataFieldForAction,\n\taction: BaseAction | AnnotationAction | CustomAction,\n\ttable: TableBlockProperties,\n\tforContextMenu: boolean,\n\tcollectionContext: Context,\n\thandlerProvider: TableEventHandlerProvider\n): Button | MenuItem {\n\tconst dataFieldActionContext = table.metaPath.getModel().createBindingContext(action.annotationPath + \"/Action\");\n\tconst actionContextPath = CommonHelper.getActionContext(dataFieldActionContext);\n\tconst actionContext = table.metaPath.getModel().createBindingContext(actionContextPath);\n\tconst dataFieldDataModelObjectPath = actionContext\n\t\t? MetaModelConverter.getInvolvedDataModelObjects<Action>(actionContext, collectionContext)\n\t\t: undefined;\n\tconst isBound = dataField.ActionTarget?.isBound;\n\tconst command = !forContextMenu ? action.command : action.command + \"::ContextMenu\";\n\tconst pressHandler = action.command\n\t\t? undefined\n\t\t: handlerProvider.getDataFieldForActionButtonPressHandler(dataField, action, undefined, forContextMenu);\n\tconst pressCommand = action.command ? `cmd:${command}|press` : undefined;\n\tconst enabled =\n\t\taction.enabled !== undefined\n\t\t\t? action.enabled\n\t\t\t: TableHelper.isDataFieldForActionEnabled(\n\t\t\t\t\ttable.tableDefinition,\n\t\t\t\t\tdataField.Action,\n\t\t\t\t\t!!isBound,\n\t\t\t\t\tactionContext.getObject(),\n\t\t\t\t\taction.enableOnSelect,\n\t\t\t\t\tdataFieldDataModelObjectPath?.targetEntityType,\n\t\t\t\t\tforContextMenu\n\t\t\t  );\n\tif (!forContextMenu) {\n\t\t// for table toolbar\n\t\tconst toolbarActionId = generate([table.id, dataField]);\n\t\treturn (\n\t\t\t<Button\n\t\t\t\tid={toolbarActionId}\n\t\t\t\ttext={dataField.Label}\n\t\t\t\tariaHasPopup={isActionWithDialog(dataField)}\n\t\t\t\tpress={pressHandler}\n\t\t\t\tjsx:command={pressCommand}\n\t\t\t\ttype={ButtonType.Transparent}\n\t\t\t\tenabled={enabled}\n\t\t\t\tvisible={action.visible}\n\t\t\t>\n\t\t\t\t{{\n\t\t\t\t\tcustomData: [createCustomData(\"actionId\", toolbarActionId)]\n\t\t\t\t}}\n\t\t\t</Button>\n\t\t);\n\t} else {\n\t\t// for context menu\n\t\tconst tableActionContextMenuId = generate([table.id, dataField, \"ContextMenu\"]);\n\t\treturn (\n\t\t\t<MenuItem\n\t\t\t\tid={tableActionContextMenuId}\n\t\t\t\ttext={dataField.Label}\n\t\t\t\tpress={pressHandler}\n\t\t\t\tjsx:command={pressCommand}\n\t\t\t\tenabled={enabled}\n\t\t\t\tvisible={action.visibleForContextMenu}\n\t\t\t>\n\t\t\t\t{{\n\t\t\t\t\tcustomData: [createCustomData(\"actionId\", tableActionContextMenuId)]\n\t\t\t\t}}\n\t\t\t</MenuItem>\n\t\t);\n\t}\n}\n\n/**\n * Generates the control for the DataFieldForIntentBasedNavigation Button.\n * @param dataField DataField for IntentBasedNavigation\n * @param action The name of the action\n * @param table The instance of the table building block\n * @param forContextMenu Indicates if the action appears in the context menu. If false, the action appears in the table toolbar\n * @param collectionContext The context of the collection\n * @param handlerProvider\n * @returns The control for the DataFieldForIntentBasedNavigation button/menu item\n */\nfunction getDataFieldButtonForIntentBasedNavigation(\n\tdataField: DataFieldForIntentBasedNavigation,\n\taction: BaseAction | AnnotationAction | CustomAction,\n\ttable: TableBlockProperties,\n\tforContextMenu: boolean,\n\tcollectionContext: Context,\n\thandlerProvider: TableEventHandlerProvider\n): Button | MenuItem {\n\tconst command = !forContextMenu ? action.command : action.command + \"::ContextMenu\";\n\tconst pressHandler = action.command ? undefined : handlerProvider.getDataFieldForIBNPressHandler(action, forContextMenu);\n\tconst pressCommand = action.command ? `cmd:${command}|press` : undefined;\n\tconst enabled =\n\t\taction.enabled !== undefined\n\t\t\t? action.enabled\n\t\t\t: TableHelper.isDataFieldForIBNEnabled(\n\t\t\t\t\t{\n\t\t\t\t\t\tcollection: collectionContext,\n\t\t\t\t\t\ttableDefinition: table.tableDefinition\n\t\t\t\t\t},\n\t\t\t\t\tdataField,\n\t\t\t\t\tdataField.RequiresContext,\n\t\t\t\t\tdataField.NavigationAvailable,\n\t\t\t\t\tforContextMenu\n\t\t\t  );\n\tconst IBNData = !dataField.RequiresContext\n\t\t? \"{semanticObject: '\" + dataField.SemanticObject + \"' , action : '\" + dataField.Action + \"'}\"\n\t\t: undefined;\n\tif (!forContextMenu) {\n\t\t// for table toolbar\n\t\tconst toolbarActionId = generate([table.id, dataField]);\n\t\treturn (\n\t\t\t<Button\n\t\t\t\tid={toolbarActionId}\n\t\t\t\ttext={dataField.Label}\n\t\t\t\tpress={pressHandler}\n\t\t\t\tjsx:command={pressCommand}\n\t\t\t\ttype={ButtonType.Transparent}\n\t\t\t\tenabled={enabled}\n\t\t\t\tvisible={action.visible}\n\t\t\t>\n\t\t\t\t{{\n\t\t\t\t\tcustomData: [createCustomData(\"IBNData\", IBNData), createCustomData(\"actionId\", toolbarActionId)]\n\t\t\t\t}}\n\t\t\t</Button>\n\t\t);\n\t} else {\n\t\t// for context menu\n\t\tconst tableActionContextMenuId = generate([table.id, dataField, \"ContextMenu\"]);\n\t\treturn (\n\t\t\t<MenuItem\n\t\t\t\tid={tableActionContextMenuId}\n\t\t\t\ttext={dataField.Label}\n\t\t\t\tpress={pressHandler}\n\t\t\t\tjsx:command={pressCommand}\n\t\t\t\tenabled={enabled}\n\t\t\t\tvisible={action.visibleForContextMenu}\n\t\t\t>\n\t\t\t\t{{\n\t\t\t\t\tcustomData: [createCustomData(\"IBNData\", IBNData), createCustomData(\"actionId\", tableActionContextMenuId)]\n\t\t\t\t}}\n\t\t\t</MenuItem>\n\t\t);\n\t}\n}\n\n/**\n * Generates the control for the button based on the type of the action.\n * @param action The name of the action\n * @param table The instance of the table building block\n * @param forContextMenu Indicates if the action appears in the context menu. If false, the action appears in the table toolbar\n * @param collectionContext The context of the collection\n * @param handlerProvider\n * @returns The control for the button/menu item\n */\nfunction getDataFieldButton(\n\taction: BaseAction | AnnotationAction | CustomAction,\n\ttable: TableBlockProperties,\n\tforContextMenu: boolean,\n\tcollectionContext: Context,\n\thandlerProvider: TableEventHandlerProvider\n): ActionToolbarAction | MenuItem | undefined {\n\tconst dataField = action.annotationPath\n\t\t? (table.convertedMetadata.resolvePath(action.annotationPath).target as DataFieldAbstractTypes)\n\t\t: undefined;\n\tlet template: MenuItem | Button | undefined;\n\tif (!dataField) {\n\t\treturn undefined;\n\t}\n\tswitch (action.type) {\n\t\tcase \"ForAction\":\n\t\t\tif (isDataFieldForAction(dataField)) {\n\t\t\t\tconst isBound = dataField.ActionTarget?.isBound;\n\t\t\t\tconst isOperationAvailable = dataField.ActionTarget?.annotations?.Core?.OperationAvailable?.valueOf() !== false;\n\t\t\t\t// show only bound actions in context menu\n\t\t\t\tif (!forContextMenu || TableHelper.isActionShownInContextMenu(action, table.contextObjectPath)) {\n\t\t\t\t\tif (isBound !== true || isOperationAvailable) {\n\t\t\t\t\t\ttemplate = getDataFieldButtonForAction(\n\t\t\t\t\t\t\tdataField,\n\t\t\t\t\t\t\taction,\n\t\t\t\t\t\t\ttable,\n\t\t\t\t\t\t\tforContextMenu,\n\t\t\t\t\t\t\tcollectionContext,\n\t\t\t\t\t\t\thandlerProvider\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tbreak;\n\t\tcase \"ForNavigation\":\n\t\t\tif (\n\t\t\t\tisDataFieldForIntentBasedNavigation(dataField) &&\n\t\t\t\t(!forContextMenu || TableHelper.isActionShownInContextMenu(action, table.contextObjectPath))\n\t\t\t) {\n\t\t\t\ttemplate = getDataFieldButtonForIntentBasedNavigation(\n\t\t\t\t\tdataField,\n\t\t\t\t\taction,\n\t\t\t\t\ttable,\n\t\t\t\t\tforContextMenu,\n\t\t\t\t\tcollectionContext,\n\t\t\t\t\thandlerProvider\n\t\t\t\t);\n\t\t\t}\n\t\t\tbreak;\n\t\tdefault:\n\t}\n\n\tif (template === undefined) {\n\t\treturn undefined;\n\t}\n\n\tif (!forContextMenu) {\n\t\t// for table toolbar\n\t\treturn (\n\t\t\t<ActionToolbarAction\n\t\t\t\tid={generate([table.id, action.id, dataField, \"ActionToolbarAction\"])}\n\t\t\t\tdt:designtime={action.visible === \"true\" || action.visible === \"false\" ? undefined : \"not-adaptable-visibility\"}\n\t\t\t>\n\t\t\t\t{{\n\t\t\t\t\taction: template\n\t\t\t\t}}\n\t\t\t</ActionToolbarAction>\n\t\t);\n\t} else {\n\t\t// for context menu\n\t\treturn template as MenuItem;\n\t}\n}\n\n/**\n * Gets the default action handler that is invoked when adding the menu button.\n * @param defaultAction The default action\n * @param dataFieldForDefaultAction The dataField for the default action\n * @param handlerProvider\n * @returns The corresponding event handler or command\n */\nfunction getDefaultMenuButtonAction(\n\tdefaultAction: CustomAction | undefined,\n\tdataFieldForDefaultAction: DataFieldForIntentBasedNavigation | DataFieldForAction | undefined,\n\thandlerProvider: TableEventHandlerProvider\n): { handler?: (e: UI5Event) => void; command?: string } {\n\tif (!defaultAction || !dataFieldForDefaultAction) {\n\t\treturn {};\n\t}\n\n\ttry {\n\t\tswitch (defaultAction.type) {\n\t\t\tcase \"ForAction\":\n\t\t\t\treturn {\n\t\t\t\t\thandler: handlerProvider.getDataFieldForActionButtonPressHandler(\n\t\t\t\t\t\tdataFieldForDefaultAction as DataFieldForAction,\n\t\t\t\t\t\tdefaultAction,\n\t\t\t\t\t\tundefined,\n\t\t\t\t\t\tfalse\n\t\t\t\t\t)\n\t\t\t\t};\n\n\t\t\tcase \"ForNavigation\":\n\t\t\t\treturn {\n\t\t\t\t\thandler: handlerProvider.getDataFieldForIBNPressHandler(defaultAction, false)\n\t\t\t\t};\n\n\t\t\tdefault: {\n\t\t\t\tif (defaultAction.command) {\n\t\t\t\t\treturn {\n\t\t\t\t\t\tcommand: `cmd:${defaultAction.command}|defaultAction`\n\t\t\t\t\t};\n\t\t\t\t} else {\n\t\t\t\t\treturn {\n\t\t\t\t\t\thandler: handlerProvider.getManifestActionPressHandler(defaultAction, false)\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t} catch (e) {\n\t\treturn {};\n\t}\n}\n\n/**\n * Generates the control for the MenuButton control which enables the user to show a hierarchical menu.\n * @param action The name of the action\n * @param table The instance of the table building block\n * @param forContextMenu Indicates if the action appears in the context menu. If false, the action appears in the table toolbar\n * @param collectionContext The context of the collection\n * @param handlerProvider\n * @returns The MenuButton control\n */\nfunction getMenuButton(\n\taction: BaseAction | AnnotationAction | CustomAction,\n\ttable: TableBlockProperties,\n\tforContextMenu: boolean,\n\tcollectionContext: Context,\n\thandlerProvider: TableEventHandlerProvider\n): ActionToolbarAction | MenuItem | undefined {\n\tif (!forContextMenu) {\n\t\t// for table toolbar\n\t\tconst defaultAction = (action as CustomAction).defaultAction as CustomAction | undefined;\n\t\tconst dataFieldForDefaultAction = defaultAction?.annotationPath\n\t\t\t? table.convertedMetadata.resolvePath<DataFieldForAction | DataFieldForIntentBasedNavigation>(defaultAction.annotationPath)\n\t\t\t\t\t.target\n\t\t\t: undefined;\n\t\tconst defaultActionHandlers = getDefaultMenuButtonAction(defaultAction, dataFieldForDefaultAction, handlerProvider);\n\t\tconst menuItems = action.menu\n\t\t\t?.filter((menuItemAction) => typeof menuItemAction !== \"string\")\n\t\t\t.map((menuItemAction) => {\n\t\t\t\treturn getMenuItem(action, menuItemAction, table, forContextMenu, collectionContext, handlerProvider);\n\t\t\t})\n\t\t\t.filter((item) => item !== undefined);\n\n\t\tif (menuItems?.length) {\n\t\t\tconst menuId = generate([table.id, action.id]);\n\t\t\treturn (\n\t\t\t\t<ActionToolbarAction\n\t\t\t\t\tid={generate([table.id, action.id, \"ActionToolbarAction\"])}\n\t\t\t\t\tdt:designtime={action.visible === \"true\" || action.visible === \"false\" ? undefined : \"not-adaptable-visibility\"}\n\t\t\t\t>\n\t\t\t\t\t<MenuButton\n\t\t\t\t\t\ttext={action.text}\n\t\t\t\t\t\ttype={ButtonType.Transparent}\n\t\t\t\t\t\tmenuPosition=\"BeginBottom\"\n\t\t\t\t\t\tid={menuId}\n\t\t\t\t\t\tvisible={action.visible}\n\t\t\t\t\t\tenabled={action.enabled}\n\t\t\t\t\t\tuseDefaultActionOnly={!!(action as CustomAndAction).defaultAction}\n\t\t\t\t\t\tbuttonMode={(action as CustomAndAction).defaultAction ? MenuButtonMode.Split : MenuButtonMode.Regular}\n\t\t\t\t\t\tdefaultAction={defaultActionHandlers.handler}\n\t\t\t\t\t\tjsx:command={defaultActionHandlers.command}\n\t\t\t\t\t>\n\t\t\t\t\t\t{{\n\t\t\t\t\t\t\tcustomData: [createCustomData(\"actionId\", menuId)],\n\t\t\t\t\t\t\tmenu: <Menu>{menuItems}</Menu>\n\t\t\t\t\t\t}}\n\t\t\t\t\t</MenuButton>\n\t\t\t\t</ActionToolbarAction>\n\t\t\t);\n\t\t} else {\n\t\t\treturn undefined;\n\t\t}\n\t} else {\n\t\t// for context menu\n\t\tconst menuItemsForContextMenu: BaseAction[] = [];\n\t\taction.menu?.forEach((menuItemAction) => {\n\t\t\tif (typeof menuItemAction !== \"string\" && TableHelper.isActionShownInContextMenu(menuItemAction, table.contextObjectPath)) {\n\t\t\t\tmenuItemsForContextMenu?.push(menuItemAction);\n\t\t\t}\n\t\t});\n\n\t\tconst menuItems = menuItemsForContextMenu\n\t\t\t.filter((menuItemAction) => typeof menuItemAction !== \"string\")\n\t\t\t.map((menuItemAction) => {\n\t\t\t\treturn getMenuItem(action, menuItemAction, table, forContextMenu, collectionContext, handlerProvider);\n\t\t\t})\n\t\t\t.filter((item) => item !== undefined);\n\n\t\tif (menuItems?.length) {\n\t\t\treturn (\n\t\t\t\t<MenuItem\n\t\t\t\t\ttext={action.text}\n\t\t\t\t\tid={generate([table.id, action.id, \"ContextMenu\"])}\n\t\t\t\t\tvisible={action.visibleForContextMenu}\n\t\t\t\t\tenabled={action.enabled}\n\t\t\t\t>\n\t\t\t\t\t{{\n\t\t\t\t\t\titems: menuItems\n\t\t\t\t\t}}\n\t\t\t\t</MenuItem>\n\t\t\t);\n\t\t} else {\n\t\t\treturn undefined;\n\t\t}\n\t}\n}\n\n/**\n * Generates the xml string for the default button.\n * @param action The name of the action\n * @param table The instance of the table building block\n * @param forContextMenu Indicates if the action appears in the context menu. If false, the action appears in the table toolbar\n * @param handlerProvider\n * @returns The xml string for the default button.\n */\nfunction getDefaultButton(\n\taction: CustomAction,\n\ttable: TableBlockProperties,\n\tforContextMenu: boolean,\n\thandlerProvider: TableEventHandlerProvider\n): ActionToolbarAction | MenuItem | undefined {\n\tconst command = !forContextMenu ? action.command : action.command + \"::ContextMenu\";\n\tconst pressHandler = action.command ? undefined : handlerProvider.getManifestActionPressHandler(action, forContextMenu);\n\tconst pressCommand = action.command ? `cmd:${command}|press` : undefined;\n\tif (!forContextMenu) {\n\t\t// for table toolbar\n\t\treturn (\n\t\t\t<ActionToolbarAction\n\t\t\t\tid={generate([table.id, action.id, \"ActionToolbarAction\"])}\n\t\t\t\tdt:designtime={action.visible === \"true\" || action.visible === \"false\" ? undefined : \"not-adaptable-visibility\"}\n\t\t\t>\n\t\t\t\t<Button\n\t\t\t\t\tcore:require=\"{FPM: 'sap/fe/core/helpers/FPMHelper'}\"\n\t\t\t\t\tid={generate([table.id, action.id])}\n\t\t\t\t\ttext={action.text}\n\t\t\t\t\tpress={pressHandler}\n\t\t\t\t\tjsx:command={pressCommand}\n\t\t\t\t\ttype={ButtonType.Transparent}\n\t\t\t\t\tvisible={action.visible}\n\t\t\t\t\tenabled={action.enabled}\n\t\t\t\t>\n\t\t\t\t\t{{\n\t\t\t\t\t\tcustomData: [createCustomData(\"actionId\", generate([table.id, action.id]))]\n\t\t\t\t\t}}\n\t\t\t\t</Button>\n\t\t\t</ActionToolbarAction>\n\t\t);\n\t} else if (TableHelper.isActionShownInContextMenu(action, table.contextObjectPath)) {\n\t\tconst tableActionContextMenuId = generate([table.id, action.id, \"ContextMenu\"]);\n\t\t// for context menu\n\t\treturn (\n\t\t\t<MenuItem\n\t\t\t\tcore:require=\"{FPM: 'sap/fe/core/helpers/FPMHelper'}\"\n\t\t\t\tid={tableActionContextMenuId}\n\t\t\t\ttext={action.text}\n\t\t\t\tpress={pressHandler}\n\t\t\t\tjsx:command={pressCommand}\n\t\t\t\tvisible={action.visibleForContextMenu}\n\t\t\t\tenabled={action.enabledForContextMenu}\n\t\t\t>\n\t\t\t\t{{\n\t\t\t\t\tcustomData: [createCustomData(\"actionId\", tableActionContextMenuId)]\n\t\t\t\t}}\n\t\t\t</MenuItem>\n\t\t);\n\t} else {\n\t\treturn undefined;\n\t}\n}\n\n/**\n * Generates the control for an action button/menu item based on the type of the action.\n * @param action The action to get\n * @param table The instance of the table building block\n * @param forContextMenu Indicates if the action appears in the context menu. If false, the action appears in the table toolbar\n * @param collectionContext The context of the collection\n * @param handlerProvider\n * @returns The control of the action\n */\nfunction getAction(\n\taction: BaseAction,\n\ttable: TableBlockProperties,\n\tforContextMenu: boolean,\n\tcollectionContext: Context,\n\thandlerProvider: TableEventHandlerProvider\n): ActionToolbarAction | MenuItem | undefined {\n\tswitch (action.type) {\n\t\tcase \"Default\":\n\t\t\tif (\"noWrap\" in action) {\n\t\t\t\treturn getDefaultButton(action as CustomAction, table, forContextMenu, handlerProvider);\n\t\t\t}\n\t\t\tbreak;\n\t\tcase \"Menu\":\n\t\t\treturn getMenuButton(action, table, forContextMenu, collectionContext, handlerProvider);\n\t\tdefault:\n\t}\n\treturn getDataFieldButton(action, table, forContextMenu, collectionContext, handlerProvider);\n}\n\n/**\n * Generates the copy action.\n * @param action The copy action\n * @param table The instance of the table building block\n * @param forContextMenu Indicates if action is for Action Toolbar of Context Menu\n * @param collectionContext The context of the collection\n * @param handlerProvider\n * @returns The action\n */\nfunction getCopyAction(\n\taction: BaseAction,\n\ttable: TableBlockProperties,\n\tforContextMenu: boolean,\n\tcollectionContext: Context,\n\thandlerProvider: TableEventHandlerProvider\n): ActionToolbarAction | MenuItem {\n\tconst dataField = action.annotationPath\n\t\t? (table.convertedMetadata.resolvePath(action.annotationPath).target as DataFieldForAction)\n\t\t: undefined;\n\tconst actionContextPath = CommonHelper.getActionContext(\n\t\ttable.metaPath.getModel().createBindingContext(action.annotationPath + \"/Action\")!\n\t);\n\tconst operationAvailable = dataField?.ActionTarget?.annotations?.Core?.OperationAvailable !== undefined;\n\tconst actionContext = table.metaPath.getModel().createBindingContext(actionContextPath);\n\tconst dataFieldDataModelObjectPath = actionContext\n\t\t? MetaModelConverter.getInvolvedDataModelObjects(actionContext, collectionContext)\n\t\t: undefined;\n\tconst isBound = dataField?.ActionTarget?.isBound;\n\tconst press = dataField\n\t\t? handlerProvider.getDataFieldForActionButtonPressHandler(dataField, action, undefined, forContextMenu)\n\t\t: undefined;\n\tconst enabled = operationAvailable\n\t\t? TableHelper.isDataFieldForActionEnabled(\n\t\t\t\ttable.tableDefinition,\n\t\t\t\tdataField.Action,\n\t\t\t\t!!isBound,\n\t\t\t\tactionContext.getObject(),\n\t\t\t\taction.enableOnSelect,\n\t\t\t\tdataFieldDataModelObjectPath?.targetEntityType,\n\t\t\t\tforContextMenu,\n\t\t\t\ttrue\n\t\t  )\n\t\t: `{= ${ActionHelper.getNumberOfContextsExpression(\"single\", forContextMenu)}}`;\n\tif (!forContextMenu) {\n\t\t// for table toolbar\n\t\treturn (\n\t\t\t<ActionToolbarAction\n\t\t\t\tid={generate([table.id, dataField, \"ActionToolbarAction\"])}\n\t\t\t\tdt:designtime={action.visible === \"true\" || action.visible === \"false\" ? undefined : \"not-adaptable-visibility\"}\n\t\t\t>\n\t\t\t\t<Button\n\t\t\t\t\tid={generate([table.id, dataField])}\n\t\t\t\t\ttext={action.text}\n\t\t\t\t\tpress={press}\n\t\t\t\t\ttype={ButtonType.Transparent}\n\t\t\t\t\tvisible={action.visible}\n\t\t\t\t\tenabled={enabled}\n\t\t\t\t>\n\t\t\t\t\t{{\n\t\t\t\t\t\tcustomData: [createCustomData(\"actionId\", generate([table.id, dataField]))]\n\t\t\t\t\t}}\n\t\t\t\t</Button>\n\t\t\t</ActionToolbarAction>\n\t\t);\n\t} else {\n\t\t// for context menu\n\t\treturn (\n\t\t\t<MenuItem\n\t\t\t\tid={generate([table.id, dataField, \"ContextMenu\"])}\n\t\t\t\ttext={action.text}\n\t\t\t\tpress={press}\n\t\t\t\tvisible={action.visibleForContextMenu as unknown as boolean}\n\t\t\t\tenabled={compileExpression(equal(pathInModel(\"contextmenu/numberOfSelectedContexts\", \"internal\"), 1)) as unknown as boolean}\n\t\t\t>\n\t\t\t\t{{\n\t\t\t\t\tcustomData: [createCustomData(\"actionId\", generate([table.id, dataField, \"ContextMenu\"]))]\n\t\t\t\t}}\n\t\t\t</MenuItem>\n\t\t);\n\t}\n}\n\n/**\n * Generates the xml string for the create button.\n * @param standardAction Standard actions to be evaluated\n * @param table The instance of the table building block\n * @param forContextMenu Indicates whether the action appears in the context menu. If set to `false`, the action appears in the table toolbar.\n * @param collectionEntity The entity set of the collection\n * @returns The xml string for the create button\n */\nfunction getCreateButton(\n\tstandardAction: StandardAction,\n\ttable: TableBlockProperties,\n\tforContextMenu: boolean,\n\tcollectionEntity: EntitySet | NavigationProperty\n): ActionsPlaceholder | ActionToolbarAction | MenuItem {\n\tconst suffixResourceKey = collectionEntity.name;\n\tconst buttonText = table.getTranslatedText(\"M_COMMON_TABLE_CREATE\", undefined, suffixResourceKey);\n\tconst createOutboundDetail = (table.tableDefinition.annotation.create as CreateBehaviorExternal).outboundDetail;\n\n\tif (table.tableDefinition.control.enableUploadPlugin) {\n\t\treturn <ActionsPlaceholder id={`${table.id}-uploadButton`} placeholderFor=\"UploadButtonPlaceholder\" />;\n\t} else if (!forContextMenu) {\n\t\treturn (\n\t\t\t<ActionToolbarAction id={generate([table.id, standardAction.key, \"ActionToolbarAction\"])} dt:designtime=\"not-adaptable-tree\">\n\t\t\t\t<Button\n\t\t\t\t\tid={generate([table.id, standardAction.key])}\n\t\t\t\t\ttext={buttonText}\n\t\t\t\t\tjsx:command=\"cmd:Create|press\"\n\t\t\t\t\ttype={ButtonType.Transparent}\n\t\t\t\t\tvisible={standardAction.visible as unknown as boolean}\n\t\t\t\t\tenabled={standardAction.enabled as unknown as boolean}\n\t\t\t\t>\n\t\t\t\t\t{{\n\t\t\t\t\t\tcustomData: createCustomData(\"IBNData\", TableHelper.getIBNData(createOutboundDetail))\n\t\t\t\t\t}}\n\t\t\t\t</Button>\n\t\t\t</ActionToolbarAction>\n\t\t);\n\t} else {\n\t\treturn (\n\t\t\t<MenuItem\n\t\t\t\tid={generate([table.id, standardAction.key, \"ContextMenu\"])}\n\t\t\t\ttext={buttonText}\n\t\t\t\tjsx:command=\"cmd:Create::ContextMenu|press\"\n\t\t\t\tvisible={standardAction.visible as unknown as boolean}\n\t\t\t\tenabled={standardAction.enabledForContextMenu as unknown as boolean}\n\t\t\t/>\n\t\t);\n\t}\n}\n\nfunction getCreateMenu(\n\tstandardAction: StandardAction,\n\ttable: TableBlockProperties,\n\tcollectionEntity: EntitySet | NavigationProperty,\n\tforContextMenu: boolean,\n\thandlerProvider: TableEventHandlerProvider\n): ActionToolbarAction | MenuItem {\n\tconst suffixResourceKey = collectionEntity.name;\n\tconst buttonText = table.getTranslatedText(\"M_COMMON_TABLE_CREATE\", undefined, suffixResourceKey);\n\tconst values = table.tableDefinition.control.nodeType!.values;\n\tconst hasCustomCreateEnablement = table.tableDefinition.control.createEnablement !== undefined;\n\n\tconst menuItems = values.map((allowedValue, index) => {\n\t\tconst modelName = !forContextMenu ? \"\" : \"contextmenu/\";\n\n\t\tconst isEnabled = hasCustomCreateEnablement\n\t\t\t? notEqual(pathInModel(`${modelName}createEnablement/Create_${index}`, \"internal\"), false)\n\t\t\t: undefined;\n\t\tconst id = forContextMenu ? generate([table.id, allowedValue.value, \"ContextMenu\"]) : generate([table.id, allowedValue.value]);\n\t\treturn (\n\t\t\t<MenuItem\n\t\t\t\tid={id}\n\t\t\t\ttext={allowedValue.text}\n\t\t\t\tenabled={isEnabled ? compileExpression(isEnabled) : undefined}\n\t\t\t\tpress={handlerProvider.getCreateMenuItemPressHandler(index, forContextMenu)}\n\t\t\t/>\n\t\t);\n\t});\n\n\tif (forContextMenu) {\n\t\treturn (\n\t\t\t<MenuItem\n\t\t\t\tid={generate([table.id, standardAction.key, \"ContextMenu\"])}\n\t\t\t\ttext={buttonText}\n\t\t\t\tvisible={standardAction.visible as unknown as boolean}\n\t\t\t\tenabled={standardAction.enabledForContextMenu as unknown as boolean}\n\t\t\t>\n\t\t\t\t{{\n\t\t\t\t\titems: menuItems !== undefined && menuItems.length > 0 ? menuItems : undefined\n\t\t\t\t}}\n\t\t\t</MenuItem>\n\t\t);\n\t}\n\n\treturn (\n\t\t<ActionToolbarAction id={generate([table.id, standardAction.key, \"ActionToolbarAction\"])} dt:designtime=\"not-adaptable-tree\">\n\t\t\t<MenuButton\n\t\t\t\ttext={buttonText}\n\t\t\t\ttype={ButtonType.Transparent}\n\t\t\t\tmenuPosition=\"BeginBottom\"\n\t\t\t\tid={generate([table.id, standardAction.key])}\n\t\t\t\tvisible={standardAction.visible as unknown as boolean}\n\t\t\t\tenabled={standardAction.enabled as unknown as boolean}\n\t\t\t>\n\t\t\t\t{{\n\t\t\t\t\tcustomData: [createCustomData(\"actionId\", generate([table.id, standardAction.key]))],\n\t\t\t\t\tmenu: <Menu>{menuItems}</Menu>\n\t\t\t\t}}\n\t\t\t</MenuButton>\n\t\t</ActionToolbarAction>\n\t);\n}\n\n/**\n * Generates the xml string for the delete button.\n * @param standardAction Standard actions to be evaluated\n * @param table The instance of the table building block\n * @param forContextMenu Indicates if the action appears in the context menu. If false, the action appears in the table toolbar\n * @param collectionEntity The entity set of the collection\n * @returns The xml string for the delete button\n */\nfunction getDeleteButton(\n\tstandardAction: StandardAction,\n\ttable: TableBlockProperties,\n\tforContextMenu: boolean,\n\tcollectionEntity: EntitySet | NavigationProperty\n): ActionToolbarAction | MenuItem {\n\tconst suffixResourceKey = collectionEntity.name;\n\tconst buttonText = table.getTranslatedText(\"M_COMMON_TABLE_DELETE\", undefined, suffixResourceKey);\n\tif (!forContextMenu) {\n\t\t// for table toolbar\n\t\treturn (\n\t\t\t<ActionToolbarAction id={generate([table.id, standardAction.key, \"ActionToolbarAction\"])} dt:designtime=\"not-adaptable-tree\">\n\t\t\t\t<Button\n\t\t\t\t\tid={generate([table.id, standardAction.key])}\n\t\t\t\t\ttext={buttonText}\n\t\t\t\t\tjsx:command=\"cmd:DeleteEntry|press\"\n\t\t\t\t\ttype={ButtonType.Transparent}\n\t\t\t\t\tvisible={standardAction.visible as unknown as boolean}\n\t\t\t\t\tenabled={standardAction.enabled as unknown as boolean}\n\t\t\t\t\tariaHasPopup=\"Dialog\"\n\t\t\t\t/>\n\t\t\t</ActionToolbarAction>\n\t\t);\n\t} else {\n\t\t// for context menu\n\t\treturn (\n\t\t\t<MenuItem\n\t\t\t\tid={generate([table.id, standardAction.key, \"ContextMenu\"])}\n\t\t\t\ttext={buttonText}\n\t\t\t\tjsx:command=\"cmd:DeleteEntry::ContextMenu|press\"\n\t\t\t\tvisible={standardAction.visible as unknown as boolean}\n\t\t\t\tenabled={standardAction.enabledForContextMenu as unknown as boolean}\n\t\t\t/>\n\t\t);\n\t}\n}\n\n/**\n * Generates the xml string for standard actions based on the key of the standard action.\n * @param action The action to template\n * @param table The instance of the table building block\n * @param forContextMenu Indicates if the action appears in the context menu. If false, the action appears in the table toolbar\n * @param handlerProvider\n * @param collectionEntity The entity set of the collection\n * @returns The xml string representation of the standard action\n */\nfunction getStandardAction(\n\taction: StandardAction,\n\ttable: TableBlockProperties,\n\tforContextMenu: boolean,\n\thandlerProvider: TableEventHandlerProvider,\n\tcollectionEntity: EntitySet | NavigationProperty\n): ActionToolbarAction | MenuItem | ActionsPlaceholder | undefined {\n\tif (action.isTemplated === \"false\") {\n\t\treturn undefined;\n\t}\n\n\tswitch (action.key) {\n\t\tcase StandardActionKeys.Create:\n\t\t\tif (\n\t\t\t\t!table.tableDefinition.annotation.isInsertUpdateActionsTemplated ||\n\t\t\t\t// We only have Create on the ContextMenu on the TreeTable\n\t\t\t\t(table.tableDefinition.control.type !== \"TreeTable\" && forContextMenu)\n\t\t\t) {\n\t\t\t\treturn undefined;\n\t\t\t} else if (table.tableDefinition.control.nodeType) {\n\t\t\t\treturn getCreateMenu(action, table, collectionEntity, forContextMenu, handlerProvider);\n\t\t\t} else {\n\t\t\t\treturn getCreateButton(action, table, forContextMenu, collectionEntity);\n\t\t\t}\n\n\t\tcase StandardActionKeys.Delete:\n\t\t\treturn getDeleteButton(action, table, forContextMenu, collectionEntity);\n\t\tcase StandardActionKeys.Cut:\n\t\t\treturn getCutButton(action, table, forContextMenu);\n\t\tcase StandardActionKeys.Paste:\n\t\t\treturn getPasteButton(action, table, forContextMenu);\n\n\t\tcase StandardActionKeys.MassEdit:\n\t\t\tif (table.tableDefinition.annotation.isInsertUpdateActionsTemplated) {\n\t\t\t\tif (!forContextMenu) {\n\t\t\t\t\t// for table toolbar\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<ActionToolbarAction\n\t\t\t\t\t\t\tid={generate([table.id, action.key, \"ActionToolbarAction\"])}\n\t\t\t\t\t\t\tdt:designtime=\"not-adaptable-tree\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tid={generate([table.id, action.key])}\n\t\t\t\t\t\t\t\ttext=\"{sap.fe.i18n>M_COMMON_TABLE_MASSEDIT}\"\n\t\t\t\t\t\t\t\tpress={handlerProvider.getMassEditButtonPressHandler(false)}\n\t\t\t\t\t\t\t\tvisible={action.visible as unknown as boolean}\n\t\t\t\t\t\t\t\tenabled={action.enabled as unknown as boolean}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</ActionToolbarAction>\n\t\t\t\t\t);\n\t\t\t\t} else {\n\t\t\t\t\t// for context menu\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<MenuItem\n\t\t\t\t\t\t\tid={generate([table.id, action.key, \"ContextMenu\"])}\n\t\t\t\t\t\t\ttext=\"{sap.fe.i18n>M_COMMON_TABLE_MASSEDIT}\"\n\t\t\t\t\t\t\tpress={handlerProvider.getMassEditButtonPressHandler(true)}\n\t\t\t\t\t\t\tvisible={action.visibleForContextMenu as unknown as boolean}\n\t\t\t\t\t\t\tenabled={action.enabledForContextMenu as unknown as boolean}\n\t\t\t\t\t\t/>\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn undefined;\n\n\t\tcase StandardActionKeys.Insights:\n\t\t\tif (!forContextMenu) {\n\t\t\t\t// for table toolbar\n\t\t\t\treturn (\n\t\t\t\t\t<ActionToolbarAction\n\t\t\t\t\t\tid={generate([table.id, action.key, \"ActionToolbarAction\"])}\n\t\t\t\t\t\tdt:designtime={action.visible === \"true\" || action.visible === \"false\" ? undefined : \"not-adaptable-visibility\"}\n\t\t\t\t\t\tvisible={action.visible}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tid={generate([table.id, action.key])}\n\t\t\t\t\t\t\ttext=\"{sap.fe.i18n>M_COMMON_INSIGHTS_CARD}\"\n\t\t\t\t\t\t\tpress={handlerProvider.addCardToInsightsPress}\n\t\t\t\t\t\t\tvisible={action.visible as unknown as boolean}\n\t\t\t\t\t\t\tenabled={action.enabled as unknown as boolean}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{{\n\t\t\t\t\t\t\t\tlayoutData: <OverflowToolbarLayoutData priority=\"AlwaysOverflow\" />\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</ActionToolbarAction>\n\t\t\t\t);\n\t\t\t}\n\t\t\treturn undefined;\n\n\t\tcase StandardActionKeys.MoveUp:\n\t\tcase StandardActionKeys.MoveDown:\n\t\t\treturn getMoveUpDownButton(action, table, forContextMenu);\n\n\t\tdefault:\n\t\t\treturn undefined;\n\t}\n}\n\n/**\n * Generates the xml string for standard, annotation, and custom actions of the table.\n * @param table The instance of the table building block\n * @param forContextMenu Indicates if the action appears in the context menu. If false, the action appears in the table toolbar\n * @param handlerProvider\n * @param collectionContext The context of the collection\n * @param collectionEntity The entity set of the collection\n * @returns The xml string representation of the actions\n */\nexport function getActions(\n\ttable: TableBlockProperties,\n\tforContextMenu: boolean,\n\thandlerProvider: TableEventHandlerProvider,\n\tcollectionContext: Context,\n\tcollectionEntity: EntitySet | NavigationProperty\n): (ActionToolbarAction | MenuItem | ActionsPlaceholder)[] {\n\treturn table.tableDefinition.actions\n\t\t.map((action) => {\n\t\t\tswitch (action.type) {\n\t\t\t\tcase ActionType.Standard:\n\t\t\t\t\treturn getStandardAction(action as StandardAction, table, forContextMenu, handlerProvider, collectionEntity);\n\t\t\t\tcase ActionType.Copy:\n\t\t\t\t\treturn getCopyAction(action, table, forContextMenu, collectionContext, handlerProvider);\n\t\t\t\tdefault:\n\t\t\t\t\treturn getAction(action, table, forContextMenu, collectionContext, handlerProvider);\n\t\t\t}\n\t\t})\n\t\t.filter((action) => action !== undefined) as (ActionToolbarAction | MenuItem | ActionsPlaceholder)[];\n}\n\n/**\n * Generates the control for BasicSearch.\n * @param useBasicSearch\n * @param filterBarId\n * @param _collectionIsDraftEnabled\n * @param isSearchable\n * @returns The control of the BasicSearch\n */\nfunction getBasicSearch(\n\tuseBasicSearch: boolean,\n\tfilterBarId: string | undefined,\n\t_collectionIsDraftEnabled: boolean,\n\tisSearchable: boolean\n): ActionToolbarAction | undefined {\n\tif (useBasicSearch) {\n\t\treturn (\n\t\t\t<ActionToolbarAction\n\t\t\t\tid={generate([filterBarId, \"ActionToolbarAction\"])}\n\t\t\t\tlabel=\"{sap.fe.i18n>M_BASIC_SEARCH}\"\n\t\t\t\tdt:designtime=\"not-adaptable-tree\"\n\t\t\t>\n\t\t\t\t{{\n\t\t\t\t\taction: <BasicSearchMacro id={filterBarId} useDraftEditState={_collectionIsDraftEnabled} visible={isSearchable} />\n\t\t\t\t}}\n\t\t\t</ActionToolbarAction>\n\t\t);\n\t}\n\treturn undefined;\n}\n\n/**\n * Generates the control for table fullscreen button.\n * @param table The instance of the table building block\n * @returns The control of the button\n */\nfunction getFullScreen(table: TableBlockProperties): ActionToolbarAction | undefined {\n\tif (table.tableDefinition.control.enableFullScreen) {\n\t\treturn (\n\t\t\t<ActionToolbarAction\n\t\t\t\tid={generate([table.id, \"StandardAction\", \"FullScreen\", \"ActionToolbarAction\"])}\n\t\t\t\tdt:designtime=\"not-adaptable-tree\"\n\t\t\t>\n\t\t\t\t{{\n\t\t\t\t\taction: <TableFullScreenButton id={generate([table.id, \"StandardAction\", \"FullScreen\"])} />\n\t\t\t\t}}\n\t\t\t</ActionToolbarAction>\n\t\t);\n\t}\n\treturn undefined;\n}\n\n/**\n * Generates the XML string for the Cut Button.\n * @param action The instance of the standardAction\n * @param table The instance of the table building block\n * @param forContextMenu\n * @returns The XML string representation of the Cut Button\n */\nfunction getCutButton(action: StandardAction, table: TableBlockProperties, forContextMenu = false): ActionToolbarAction | MenuItem {\n\tif (!forContextMenu) {\n\t\t// for table toolbar\n\t\treturn (\n\t\t\t<ActionToolbarAction id={generate([table.id, \"Cut\", \"ActionToolbarAction\"])} dt:designtime=\"not-adaptable-tree\">\n\t\t\t\t<Button\n\t\t\t\t\tid={generate([table.id, \"Cut\"])}\n\t\t\t\t\ttext=\"{sap.fe.i18n>M_TABLE_CUT}\"\n\t\t\t\t\tjsx:command=\"cmd:Cut|press\"\n\t\t\t\t\tvisible={action.visible as unknown as boolean}\n\t\t\t\t\tenabled={action.enabled as unknown as boolean}\n\t\t\t\t/>\n\t\t\t</ActionToolbarAction>\n\t\t);\n\t} else {\n\t\t// for context menu\n\t\treturn (\n\t\t\t<MenuItem\n\t\t\t\tid={generate([table.id, \"Cut\", \"ContextMenu\"])}\n\t\t\t\ttext=\"{sap.fe.i18n>M_TABLE_CUT}\"\n\t\t\t\tjsx:command=\"cmd:Cut::ContextMenu|press\"\n\t\t\t\tvisible={action.visible as unknown as boolean}\n\t\t\t\tenabled={action.enabledForContextMenu as unknown as boolean}\n\t\t\t/>\n\t\t);\n\t}\n}\n\nfunction getMoveUpDownButton(action: StandardAction, table: TableBlockProperties, forContextMenu: boolean): ActionToolbarAction | MenuItem {\n\tconst forMoveUp = action.key === StandardActionKeys.MoveUp;\n\tif (!forContextMenu) {\n\t\t// for table toolbar\n\t\treturn (\n\t\t\t<ActionToolbarAction\n\t\t\t\tid={generate([table.id, action.key, \"ActionToolbarAction\"])}\n\t\t\t\tvisible={action.visible}\n\t\t\t\tdt:designtime=\"not-adaptable-tree\"\n\t\t\t>\n\t\t\t\t<Button\n\t\t\t\t\tid={generate([table.id, action.key])}\n\t\t\t\t\ttext={forMoveUp ? \"{sap.fe.i18n>M_TABLE_MOVE_UP}\" : \"{sap.fe.i18n>M_TABLE_MOVE_DOWN}\"}\n\t\t\t\t\tjsx:command={forMoveUp ? \"cmd:TableMoveElementUp|press\" : \"cmd:TableMoveElementDown|press\"}\n\t\t\t\t\tvisible={action.visible as unknown as boolean}\n\t\t\t\t\tenabled={action.enabled as unknown as boolean}\n\t\t\t\t/>\n\t\t\t</ActionToolbarAction>\n\t\t);\n\t} else {\n\t\t// for context menu\n\t\treturn (\n\t\t\t<MenuItem\n\t\t\t\tid={generate([table.id, action.key, \"ContextMenu\"])}\n\t\t\t\ttext={forMoveUp ? \"{sap.fe.i18n>M_TABLE_MOVE_UP}\" : \"{sap.fe.i18n>M_TABLE_MOVE_DOWN}\"}\n\t\t\t\tjsx:command={forMoveUp ? \"cmd:TableMoveElementUp::ContextMenu|press\" : \"cmd:TableMoveElementDown::ContextMenu|press\"}\n\t\t\t\tvisible={action.visible as unknown as boolean}\n\t\t\t\tenabled={action.enabledForContextMenu as unknown as boolean}\n\t\t\t/>\n\t\t);\n\t}\n}\n/**\n * Generates the XML string for the Paste Button.\n * @param action The Paste action\n * @param table The instance of the table building block\n * @param forContextMenu Indicates if the action appears in the context menu. If false, the action appears in the table toolbar\n * @returns The XML string representation of the Paste Button\n */\nfunction getPasteButton(\n\taction: StandardAction,\n\ttable: TableBlockProperties,\n\tforContextMenu = false\n): ActionToolbarAction | MenuItem | undefined {\n\tconst tableType = table.tableDefinition.control.type;\n\tif (tableType === \"TreeTable\") {\n\t\tif (!forContextMenu) {\n\t\t\t// for table toolbar\n\t\t\treturn (\n\t\t\t\t<ActionToolbarAction id={generate([table.id, \"Paste\", \"ActionToolbarAction\"])} dt:designtime=\"not-adaptable-tree\">\n\t\t\t\t\t<Button\n\t\t\t\t\t\tid={generate([table.id, \"Paste\"])}\n\t\t\t\t\t\ttext=\"{sap.fe.i18n>M_PASTE}\"\n\t\t\t\t\t\tjsx:command=\"cmd:Paste|press\"\n\t\t\t\t\t\tvisible={action.visible as unknown as boolean}\n\t\t\t\t\t\tenabled={action.enabled as unknown as boolean}\n\t\t\t\t\t/>\n\t\t\t\t</ActionToolbarAction>\n\t\t\t);\n\t\t} else {\n\t\t\t// for Context Menu\n\t\t\treturn (\n\t\t\t\t<MenuItem\n\t\t\t\t\tid={generate([table.id, \"Paste\", \"ContextMenu\"])}\n\t\t\t\t\ttext=\"{sap.fe.i18n>M_PASTE}\"\n\t\t\t\t\tjsx:command=\"cmd:Paste::ContextMenu|press\"\n\t\t\t\t\tvisible={action.visible as unknown as boolean}\n\t\t\t\t\tenabled={action.enabledForContextMenu as unknown as boolean}\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\t}\n\treturn undefined;\n}\n\n/**\n * Generates the XML string for actions.\n * @param table The instance of the table building block\n * @param handlerProvider\n * @param collectionContext The context of the collection\n * @param collectionEntity The entity set of the collection\n * @returns The XML string representation of the actions\n */\nexport function getTableActionsTemplate(\n\ttable: TableBlockProperties,\n\thandlerProvider: TableEventHandlerProvider,\n\tcollectionContext: Context,\n\tcollectionEntity: EntitySet | NavigationProperty\n): Control[] {\n\tconst _collectionIsDraftEnabled = ModelHelper.isDraftNode(collectionEntity) || ModelHelper.isDraftRoot(collectionEntity);\n\tlet searchable: boolean;\n\tif (table.isSearchable === false) {\n\t\tsearchable = false;\n\t} else {\n\t\tsearchable = table.tableDefinition.annotation.searchable;\n\t}\n\n\tconst actions: (ActionToolbarAction | MenuItem | ActionsPlaceholder)[] = [];\n\tconst basicSearch = getBasicSearch(!!table.useBasicSearch, table.filterBar, _collectionIsDraftEnabled, searchable);\n\tif (basicSearch) {\n\t\tactions.push(basicSearch);\n\t}\n\tactions.push(...getActions(table, false, handlerProvider, collectionContext, collectionEntity));\n\tconst fullScreen = getFullScreen(table);\n\tif (fullScreen) {\n\t\tactions.push(fullScreen);\n\t}\n\n\treturn actions as Control[];\n}\n\n/**\n * Generates the xml string for context menu actions.\n * @param table The instance of the table building block\n * @param handlerProvider\n * @param collectionContext The context of the collection\n * @param collectionEntity The entity set of the collection\n * @returns The xml string representation of the actions\n */\nexport function getTableContextMenuTemplate(\n\ttable: TableBlockProperties,\n\thandlerProvider: TableEventHandlerProvider,\n\tcollectionContext: Context,\n\tcollectionEntity: EntitySet | NavigationProperty\n): MenuItem[] {\n\tconst template: MenuItem[] = getActions(table, true, handlerProvider, collectionContext, collectionEntity) as unknown as MenuItem[];\n\tif (table.tableDefinition.control.type === \"TreeTable\") {\n\t\ttemplate.push(getExpandedCollapseActions(table, true, handlerProvider.expandNode));\n\t\ttemplate.push(getExpandedCollapseActions(table, false, handlerProvider.collapseNode));\n\t}\n\treturn template;\n}\n\nfunction getExpandedCollapseActions(table: TableBlockProperties, expand: boolean, pressHandler?: (e: UI5Event) => void): MenuItem {\n\tconst enableExpression = expand\n\t\t? and(\n\t\t\t\tequal(pathInModel(\"contextmenu/isExpandable\", \"internal\"), true),\n\t\t\t\tequal(pathInModel(\"contextmenu/numberOfSelectedContexts\", \"internal\"), 1)\n\t\t  )\n\t\t: and(\n\t\t\t\tequal(pathInModel(\"contextmenu/isCollapsable\", \"internal\"), true),\n\t\t\t\tequal(pathInModel(\"contextmenu/numberOfSelectedContexts\", \"internal\"), 1)\n\t\t  );\n\treturn (\n\t\t<MenuItem\n\t\t\tid={generate([table.id, expand ? \"Expand\" : \"Collapse\", \"ContextMenu\"])}\n\t\t\ttext={expand ? \"{sap.fe.i18n>M_TABLE_CONTEXTMENU_EXPAND}\" : \"{sap.fe.i18n>M_TABLE_CONTEXTMENU_COLLAPSE}\"}\n\t\t\tpress={pressHandler}\n\t\t\tenabled={enableExpression}\n\t\t/>\n\t);\n}\n"],"mappings":"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","ignoreList":[],"file":"ActionsTemplating-dbg.js"}