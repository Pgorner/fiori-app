{"version":3,"file":"UploadTableTemplate.js","names":["getUploadButtonInvisible","tableDefinition","annotation","uploadTable","uploadAction","isTemplated","visibleExpression","not","getUploadPlugin","id","_jsx","UploadSetwithTable","httpRequestMethod","multiple","uploadButtonInvisible","itemValidationHandler","mediaTypeMismatch","fileSizeExceeded","maxFileSize","FieldHelper","calculateMBfromByte","maxLength","uploadCompleted","uploadEnabled","enabled","mediaTypes","acceptableMediaTypes","actions","uploadUrl","stream","maxFileNameLength","fileNameMaxLength","fileNameLengthExceeded","children","rowConfiguration","UploadItemConfiguration","fileNamePath","fileName","_exports"],"sources":["./UploadTableTemplate.tsx"],"sourcesContent":["import type { BindingToolkitExpression } from \"sap/fe/base/BindingToolkit\";\nimport { not } from \"sap/fe/base/BindingToolkit\";\nimport type { TableVisualization } from \"sap/fe/core/converters/controls/Common/Table\";\nimport FieldHelper from \"sap/fe/macros/field/FieldHelper\";\nimport UploadSetwithTable from \"sap/m/plugins/UploadSetwithTable\";\nimport UploadItemConfiguration from \"sap/m/upload/UploadItemConfiguration\";\nimport type UI5Event from \"sap/ui/base/Event\";\n\nfunction getUploadButtonInvisible(tableDefinition: TableVisualization): BindingToolkitExpression<boolean> | boolean {\n\tif (\n\t\ttableDefinition.annotation?.uploadTable?.uploadAction?.isTemplated &&\n\t\ttableDefinition.annotation?.uploadTable?.uploadAction?.visibleExpression\n\t) {\n\t\treturn not(tableDefinition.annotation.uploadTable.uploadAction.visibleExpression);\n\t} else {\n\t\t// not create enabled, therefore upload button is always invisible\n\t\treturn true;\n\t}\n}\n\nexport function getUploadPlugin(tableDefinition: TableVisualization, id: string): UploadSetwithTable {\n\treturn (\n\t\t<UploadSetwithTable\n\t\t\tcore:require=\"{UploadTableRuntime: 'sap/fe/macros/table/uploadTable/UploadTableRuntime'}\"\n\t\t\thttpRequestMethod=\"Put\"\n\t\t\tmultiple={false}\n\t\t\tuploadButtonInvisible={getUploadButtonInvisible(tableDefinition)}\n\t\t\titemValidationHandler=\"UploadTableRuntime.uploadFile\"\n\t\t\tmediaTypeMismatch={\"UploadTableRuntime.onMediaTypeMismatch\" as unknown as (event: UI5Event) => void}\n\t\t\tfileSizeExceeded={\"UploadTableRuntime.onFileSizeExceeded\" as unknown as (event: UI5Event) => void}\n\t\t\tmaxFileSize={FieldHelper.calculateMBfromByte(tableDefinition.annotation?.uploadTable?.maxLength)}\n\t\t\tuploadCompleted={\"UploadTableRuntime.onUploadCompleted\" as unknown as (event: UI5Event) => void}\n\t\t\tuploadEnabled={tableDefinition.annotation?.uploadTable?.uploadAction?.enabled}\n\t\t\tmediaTypes={tableDefinition.annotation?.uploadTable?.acceptableMediaTypes}\n\t\t\tactions={[`${id}-uploadButton`]}\n\t\t\tuploadUrl={tableDefinition.annotation?.uploadTable?.stream}\n\t\t\tmaxFileNameLength={tableDefinition.annotation?.uploadTable?.fileNameMaxLength}\n\t\t\tfileNameLengthExceeded={\"UploadTableRuntime.onFileNameLengthExceeded\" as unknown as (event: UI5Event) => void}\n\t\t>\n\t\t\t{{\n\t\t\t\trowConfiguration: <UploadItemConfiguration fileNamePath={tableDefinition.annotation?.uploadTable?.fileName} />\n\t\t\t}}\n\t\t</UploadSetwithTable>\n\t);\n}\n"],"mappings":";;;;6OAQA,SAASA,EAAyBC,GACjC,GACCA,EAAgBC,YAAYC,aAAaC,cAAcC,aACvDJ,EAAgBC,YAAYC,aAAaC,cAAcE,kBACtD,CACD,OAAOC,EAAIN,EAAgBC,WAAWC,YAAYC,aAAaE,kBAChE,KAAO,CAEN,OAAO,IACR,CACD,CAEO,SAASE,EAAgBP,EAAqCQ,GACpE,OACCC,EAACC,EAAkB,CAClB,eAAa,6EACbC,kBAAkB,MAClBC,SAAU,MACVC,sBAAuBd,EAAyBC,GAChDc,sBAAsB,gCACtBC,kBAAmB,yCACnBC,iBAAkB,wCAClBC,YAAaC,EAAYC,oBAAoBnB,EAAgBC,YAAYC,aAAakB,WACtFC,gBAAiB,uCACjBC,cAAetB,EAAgBC,YAAYC,aAAaC,cAAcoB,QACtEC,WAAYxB,EAAgBC,YAAYC,aAAauB,qBACrDC,QAAS,CAAC,GAAGlB,kBACbmB,UAAW3B,EAAgBC,YAAYC,aAAa0B,OACpDC,kBAAmB7B,EAAgBC,YAAYC,aAAa4B,kBAC5DC,uBAAwB,8CAAsFC,SAE7G,CACAC,iBAAkBxB,EAACyB,EAAuB,CAACC,aAAcnC,EAAgBC,YAAYC,aAAakC,aAItG,CAACC,EAAA9B,kBAAA,OAAA8B,CAAA","ignoreList":[]}