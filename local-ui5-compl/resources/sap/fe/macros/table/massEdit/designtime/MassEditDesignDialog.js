/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2024 SAP SE. All rights reserved
 */
sap.ui.define(["sap/m/p13n/Popup","sap/m/p13n/SelectionPanel","sap/ui/core/Lib","sap/fe/base/jsx-runtime/jsx"],function(e,t,s,i){"use strict";var n={};let a=function(){function a(e){this.tableAPI=e;this.massEdit=this.tableAPI.getMassEdit();this.popup=this.createDialog();this.selectionPanel=this.popup.getPanels()[0];this.dialogPromise=new Promise((e,t)=>{this._fnResolve=e;this._fnReject=t})}n=a;var o=a.prototype;o.createDialog=function n(){return i(e,{title:s.getResourceBundleFor("sap.fe.macros").getText("C_MASS_EDIT_DESIGN_DIALOG_TITLE"),mode:"Dialog",panels:[i(t,{title:"Columns",enableCount:"true",showHeader:"true"})],close:this.onClose.bind(this)})};o.getPopup=function e(){return this.popup};o.openDialog=async function e(t,s){await this.setData(s);this.popup.open(t);this.popup.getDependents().find(e=>e.isA("sap.m.Dialog"))?.addStyleClass("sapUiRTABorder");return this.dialogPromise};o.setData=async function e(t){const s=Object.assign({},...t.split(",").map(e=>({[e]:true})));const i=await this.massEdit.generateEntityFieldsProperties();const n=i.map(e=>({visible:!!s[e.propertyInfo.relativePath],name:e.propertyInfo.relativePath,label:e.label}));this.selectionPanel.setP13nData(n)};o.onClose=function e(t){if(t.getParameter("reason")==="Ok"){this._fnResolve(this.selectionPanel.getP13nData(true).map(e=>e.name).join(","))}else{this._fnReject(undefined)}if(this.popup){this.popup.destroy()}};return a}();n=a;return n},false);
//# sourceMappingURL=MassEditDesignDialog.js.map