/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2024 SAP SE. All rights reserved
 */
sap.ui.define(["sap/fe/base/BindingToolkit","sap/fe/core/buildingBlocks/templating/BuildingBlockSupport","sap/fe/core/buildingBlocks/templating/BuildingBlockTemplateProcessor","sap/fe/core/buildingBlocks/templating/BuildingBlockTemplatingBase","sap/fe/core/converters/MetaModelConverter","sap/fe/core/templating/DataModelPathHelper","sap/fe/core/templating/UIFormatters","sap/fe/macros/CommonHelper","sap/ui/model/odata/v4/AnnotationHelper"],function(e,t,r,a,i,n,o,l,c){"use strict";var u,s,p,m,g,f,b,h,d,y,P,C,v,M,T,O,x,z,B,w,N,I,j,k,D,F,U,A,L,S,$,X,E;var H={};var V=o.hasValidAnalyticalCurrencyOrUnit;var _=n.getTargetNavigationPath;var q=i.getInvolvedDataModelObjects;var W=i.convertMetaModelContext;var G=r.xml;var Q=t.defineBuildingBlock;var R=t.blockAttribute;var J=e.pathInModel;var K=e.or;var Y=e.not;var Z=e.equal;function ee(e,t,r,a){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(a):void 0})}function te(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,re(e,t)}function re(e,t){return re=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},re(e,t)}function ae(e,t,r,a,i){var n={};return Object.keys(a).forEach(function(e){n[e]=a[e]}),n.enumerable=!!n.enumerable,n.configurable=!!n.configurable,("value"in n||n.initializer)&&(n.writable=!0),n=r.slice().reverse().reduce(function(r,a){return a(e,t,r)||r},n),i&&void 0!==n.initializer&&(n.value=n.initializer?n.initializer.call(i):void 0,n.initializer=void 0),void 0===n.initializer?(Object.defineProperty(e,t,n),null):n}function ie(e,t){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let ne=(u=Q({name:"MicroChart",namespace:"sap.fe.macros.internal",publicNamespace:"sap.fe.macros",returnTypes:["sap.fe.macros.controls.ConditionalWrapper","sap.fe.macros.microchart.MicroChartContainer"]}),s=R({type:"string",isPublic:true,required:true}),p=R({type:"sap.ui.model.Context",expectedTypes:["EntitySet","EntityType","NavigationProperty"],isPublic:true}),m=R({type:"sap.ui.model.Context",isPublic:true,required:true}),g=R({type:"string",isPublic:true}),f=R({type:"string"}),b=R({type:"string"}),h=R({type:"string",isPublic:true}),d=R({type:"string"}),y=R({type:"sap.fe.macros.NavigationType"}),P=R({type:"function"}),C=R({type:"string",isPublic:true}),v=R({type:"boolean"}),M=R({type:"sap.ui.model.Context"}),T=R({type:"array"}),O=R({type:"sap.ui.model.Context"}),u(x=(z=function(e){function t(t){var r;r=e.call(this,t)||this;ee(r,"id",B,r);ee(r,"contextPath",w,r);ee(r,"metaPath",N,r);ee(r,"showOnlyChart",I,r);ee(r,"batchGroupId",j,r);ee(r,"title",k,r);ee(r,"hideOnNoData",D,r);ee(r,"description",F,r);ee(r,"navigationType",U,r);ee(r,"onTitlePressed",A,r);ee(r,"size",L,r);ee(r,"isAnalytics",S,r);ee(r,"DataPoint",$,r);ee(r,"sortOrder",X,r);ee(r,"targetNavigationPath",E,r);r.metaPath=r.metaPath.getModel().createBindingContext(c.resolve$Path(r.metaPath));const a=q(r.metaPath,r.contextPath);if(a.targetObject?.term==="com.sap.vocabularies.UI.v1.PresentationVariant"){if(a.targetObject.SortOrder?.length!=null){r.sortOrder=r.getSortOrder(a.targetObject.SortOrder)}r.metaPath=r.metaPath.getModel().createBindingContext("Visualizations/0/$AnnotationPath",r.metaPath)}const i=l.getMeasureAttributeForMeasure(r.metaPath.getModel().createBindingContext("Measures/0",r.metaPath));if(i){r.DataPoint=r.metaPath.getModel().createBindingContext(i)}r.contextObjectPath=q(r.metaPath,r.contextPath);r.targetNavigationPath=r.metaPath.getModel().createBindingContext(_(r.contextObjectPath));return r}H=t;te(t,e);var r=t.prototype;r.getSortOrder=function e(t){return t.map(e=>({Property:e.Property?.value,Descending:e.Descending,fullyQualifiedName:"",$Type:"com.sap.vocabularies.Common.v1.SortOrderType"}))};r.getMicroChartContent=function e(){const t=W(this.metaPath);switch(t.ChartType){case"UI.ChartType/Bullet":return`<core:Fragment fragmentName="sap.fe.macros.microchart.fragments.BulletMicroChart" type="XML" />`;case"UI.ChartType/Donut":return`<core:Fragment fragmentName="sap.fe.macros.microchart.fragments.RadialMicroChart" type="XML" />`;case"UI.ChartType/Pie":return`<core:Fragment fragmentName="sap.fe.macros.microchart.fragments.HarveyBallMicroChart" type="XML" />`;case"UI.ChartType/BarStacked":return`<core:Fragment fragmentName="sap.fe.macros.microchart.fragments.StackedBarMicroChart" type="XML" />`;case"UI.ChartType/Area":return`<core:Fragment fragmentName="sap.fe.macros.microchart.fragments.AreaMicroChart" type="XML" />`;case"UI.ChartType/Column":return`<core:Fragment fragmentName="sap.fe.macros.microchart.fragments.ColumnMicroChart" type="XML" />`;case"UI.ChartType/Line":return`<core:Fragment fragmentName="sap.fe.macros.microchart.fragments.LineMicroChart" type="XML" />`;case"UI.ChartType/Bar":return`<core:Fragment fragmentName="sap.fe.macros.microchart.fragments.ComparisonMicroChart" type="XML" />`;default:return`<m:Text text="This chart type is not supported. Other Types yet to be implemented.." />`}};r.getTemplate=function e(){const t=q(this.metaPath.getModel().createBindingContext("Value/$Path",this.DataPoint),this.contextPath);const r=V(t);const a=K(Y(J("@$ui5.node.isExpanded")),Z(J("@$ui5.node.level"),0));if(this.isAnalytics){return G`<controls:ConditionalWrapper
				xmlns:controls="sap.fe.macros.controls"
				condition="${r}"
				visible="${a}" >
				<controls:contentTrue>
					${this.getMicroChartContent()}
				</controls:contentTrue>
				<controls:contentFalse>
					<m:Text text="*" />
				</controls:contentFalse>
			</controls:ConditionalWrapper>`}else{return this.getMicroChartContent()}};return t}(a),B=ae(z.prototype,"id",[s],{configurable:true,enumerable:true,writable:true,initializer:null}),w=ae(z.prototype,"contextPath",[p],{configurable:true,enumerable:true,writable:true,initializer:null}),N=ae(z.prototype,"metaPath",[m],{configurable:true,enumerable:true,writable:true,initializer:null}),I=ae(z.prototype,"showOnlyChart",[g],{configurable:true,enumerable:true,writable:true,initializer:function(){return false}}),j=ae(z.prototype,"batchGroupId",[f],{configurable:true,enumerable:true,writable:true,initializer:function(){return""}}),k=ae(z.prototype,"title",[b],{configurable:true,enumerable:true,writable:true,initializer:function(){return""}}),D=ae(z.prototype,"hideOnNoData",[h],{configurable:true,enumerable:true,writable:true,initializer:function(){return false}}),F=ae(z.prototype,"description",[d],{configurable:true,enumerable:true,writable:true,initializer:function(){return""}}),U=ae(z.prototype,"navigationType",[y],{configurable:true,enumerable:true,writable:true,initializer:function(){return"None"}}),A=ae(z.prototype,"onTitlePressed",[P],{configurable:true,enumerable:true,writable:true,initializer:null}),L=ae(z.prototype,"size",[C],{configurable:true,enumerable:true,writable:true,initializer:null}),S=ae(z.prototype,"isAnalytics",[v],{configurable:true,enumerable:true,writable:true,initializer:function(){return false}}),$=ae(z.prototype,"DataPoint",[M],{configurable:true,enumerable:true,writable:true,initializer:null}),X=ae(z.prototype,"sortOrder",[T],{configurable:true,enumerable:true,writable:true,initializer:null}),E=ae(z.prototype,"targetNavigationPath",[O],{configurable:true,enumerable:true,writable:true,initializer:null}),z))||x);H=ne;return H},false);
//# sourceMappingURL=MicroChart.block.js.map