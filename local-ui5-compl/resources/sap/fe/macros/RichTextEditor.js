/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2024 SAP SE. All rights reserved
 */
sap.ui.define(["sap/fe/base/BindingToolkit","sap/fe/base/ClassSupport","sap/fe/core/buildingBlocks/BuildingBlock","sap/fe/core/helpers/BindingHelper","sap/fe/macros/richtexteditor/ButtonGroup","sap/fe/macros/richtexteditor/Plugin","sap/m/FormattedText","sap/ui/richtexteditor/RichTextEditor","sap/fe/base/jsx-runtime/jsx"],function(t,e,r,i,n,o,u,a,l){"use strict";var s,p,d,c,f,b,y,h,g,m,v,C,w,_,G,x,z,P,E;var B={};var O=i.UI;var I=e.property;var T=e.defineUI5Class;var M=e.aggregation;var j=t.compileExpression;function k(t,e,r,i){r&&Object.defineProperty(t,e,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function D(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,q(t,e)}function q(t,e){return q=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},q(t,e)}function R(t,e,r,i,n){var o={};return Object.keys(i).forEach(function(t){o[t]=i[t]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=r.slice().reverse().reduce(function(r,i){return i(t,e,r)||r},o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer?(Object.defineProperty(t,e,o),null):o}function A(t,e){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}let F=(s=T("sap.fe.macros.RichTextEditor"),p=I({type:"string",required:true}),d=I({type:"any",isBindingInfo:true}),c=I({type:"boolean"}),f=M({type:"sap.fe.macros.richtexteditor.ButtonGroup",multiple:true,defaultClass:n}),b=M({type:"sap.fe.macros.richtexteditor.Plugin",multiple:true,defaultClass:o}),y=I({type:"boolean"}),h=I({type:"any",bindable:false}),g=I({type:"boolean"}),s(m=(v=function(t){function e(e,r){var i;e._isInEditMode=j(O.IsEditable);i=t.call(this,e,r)||this;k(i,"id",C,i);k(i,"value",w,i);k(i,"readOnly",_,i);k(i,"buttonGroups",G,i);k(i,"plugins",x,i);k(i,"excludeDefaultPlugins",z,i);k(i,"required",P,i);k(i,"_isInEditMode",E,i);i.getPlugins=()=>{let t;if(i.excludeDefaultPlugins){t=[]}else{t=["emoticons","directionality","image","table","link","powerpaste"].map(t=>({name:t}))}if(i.plugins?.length){for(const e of i.plugins){t.push(e)}}return{plugins:t}};i.getButtonGroups=()=>{if(i.buttonGroups&&i.buttonGroups.length>0){return i.buttonGroups.map(t=>({name:t.name??"",visible:t.visible==="true",priority:t.priority,row:t.row,customToolbarPriority:t.customToolbarPriority,buttons:t.buttons?.split(",")||[]}))}return[]};i.getEditContent=()=>{if(i._editContent){i._editContent.destroy()}i._editContent=l(a,{id:i.createId("_rte"),value:i.value,visible:true,customToolbar:true,editable:true,editorType:"TinyMCE6",showGroupFontStyle:true,showGroupTextAlign:true,showGroupStructure:true,showGroupFont:false,showGroupClipboard:true,showGroupInsert:false,showGroupLink:false,showGroupUndo:false,sanitizeValue:true,wrapping:true,width:"100%",required:i.required,...i.getPlugins(),buttonGroups:i.buttonGroups.length>0?[]:undefined});i._editContent.attachReady(i.addButtonGroups,i);return i._editContent};return i}B=e;D(e,t);var r=e.prototype;r.onMetadataAvailable=function e(r){t.prototype.onMetadataAvailable.call(this,r);this.content=this.createContent()};r.exit=function t(){this._displayContent?.destroy();this._editContent?.destroy()};r.set_isInEditMode=function e(r){t.prototype.setProperty.call(this,"_isInEditMode",r);this.content=this.createContent()};r.setReadOnly=function e(r){t.prototype.setProperty.call(this,"readOnly",r);this.content=this.createContent()};r.addButtonGroups=function t(){const e=this.getButtonGroups().reverse();for(const t of e){this._editContent?.addButtonGroup(t)}this._editContent?.detachReady(this.addButtonGroups,this)};r.getDisplayContent=function t(){if(this._displayContent){this._displayContent.destroy()}this._displayContent=l(u,{htmlText:this.value});return this._displayContent};r.createContent=function t(){if(this._isInEditMode&&!this.readOnly){return this.getEditContent()}else{return this.getDisplayContent()}};return e}(r),C=R(v.prototype,"id",[p],{configurable:true,enumerable:true,writable:true,initializer:null}),w=R(v.prototype,"value",[d],{configurable:true,enumerable:true,writable:true,initializer:null}),_=R(v.prototype,"readOnly",[c],{configurable:true,enumerable:true,writable:true,initializer:function(){return false}}),G=R(v.prototype,"buttonGroups",[f],{configurable:true,enumerable:true,writable:true,initializer:function(){return[]}}),x=R(v.prototype,"plugins",[b],{configurable:true,enumerable:true,writable:true,initializer:null}),z=R(v.prototype,"excludeDefaultPlugins",[y],{configurable:true,enumerable:true,writable:true,initializer:function(){return false}}),P=R(v.prototype,"required",[h],{configurable:true,enumerable:true,writable:true,initializer:function(){return false}}),E=R(v.prototype,"_isInEditMode",[g],{configurable:true,enumerable:true,writable:true,initializer:function(){return false}}),v))||m);B=F;return B},false);
//# sourceMappingURL=RichTextEditor.js.map