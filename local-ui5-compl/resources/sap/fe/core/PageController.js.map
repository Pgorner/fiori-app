{"version":3,"file":"PageController.js","names":["PageController","_dec","defineUI5Class","_dec2","usingExtension","Routing","_dec3","CollaborativeDraft","_dec4","InternalRouting","_dec5","EditFlow","_dec6","IntentBasedNavigation","_dec7","InternalIntentBasedNavigation","_dec8","PageReady","_dec9","MessageHandler","_dec10","Share","_dec11","Paginator","_dec12","ViewState","_dec13","Placeholder","_dec14","SideEffects","_dec15","Recommendations","_dec16","Telemetry","_dec17","ContextSharing","_dec18","CollaborationManager","_dec19","publicExtension","_dec20","_dec21","_dec22","_dec23","extensible","_class","_class2","_BaseController","name","_this","call","this","_initializerDefineProperty","_descriptor","_descriptor2","_descriptor3","_descriptor4","_descriptor5","_descriptor6","_descriptor7","_descriptor8","_descriptor9","_descriptor10","_descriptor11","_descriptor12","_descriptor13","_descriptor14","_descriptor15","_descriptor16","_descriptor17","ownProps","Object","getOwnPropertyNames","constructor","prototype","ownProp","fnProp","getMetadata","_len","arguments","length","args","Array","_key","ownerComponent","Component","getOwnerComponentFor","getView","runAsOwner","apply","defineProperty","get","_oView","set","v","getOwnerComponent","setRootController","_inheritsLoose","_proto","onInit","oUIModel","getAppComponent","getModel","oInternalModel","sPath","getId","setProperty","controls","collaboration","bindElement","path","model","setModel","onBeforeRendering","placeholder","attachHideCallback","getExtensionAPI","id","extensionAPI","ExtensionAPI","onPageReady","_mParameters","view","getAppStateHandler","applyAppState","_getPageTitleInformation","_getPageModel","pageComponent","onOpenInNewTabNavigateOutBound","outboundTarget","contexts","createPath","maxNumberOfSelectedItems","that","forEach","context","_intentBasedNavigation","onChevronPressNavigateOutBound","MessageBox","warning","Library","getResourceBundleFor","getText","BaseController","_applyDecoratedDescriptor","configurable","enumerable","writable","initializer","getOwnPropertyDescriptor"],"sources":["./PageController.ts"],"sourcesContent":["import { defineUI5Class, extensible, publicExtension, usingExtension } from \"sap/fe/base/ClassSupport\";\nimport BaseController from \"sap/fe/core/BaseController\";\nimport ExtensionAPI from \"sap/fe/core/ExtensionAPI\";\nimport CollaborativeDraft from \"sap/fe/core/controllerextensions/CollaborativeDraft\";\nimport EditFlow from \"sap/fe/core/controllerextensions/EditFlow\";\nimport IntentBasedNavigation from \"sap/fe/core/controllerextensions/IntentBasedNavigation\";\nimport InternalIntentBasedNavigation from \"sap/fe/core/controllerextensions/InternalIntentBasedNavigation\";\nimport InternalRouting from \"sap/fe/core/controllerextensions/InternalRouting\";\nimport MessageHandler from \"sap/fe/core/controllerextensions/MessageHandler\";\nimport PageReady from \"sap/fe/core/controllerextensions/PageReady\";\nimport Paginator from \"sap/fe/core/controllerextensions/Paginator\";\nimport Placeholder from \"sap/fe/core/controllerextensions/Placeholder\";\nimport Recommendations from \"sap/fe/core/controllerextensions/Recommendations\";\nimport Routing from \"sap/fe/core/controllerextensions/Routing\";\nimport Share from \"sap/fe/core/controllerextensions/Share\";\nimport SideEffects from \"sap/fe/core/controllerextensions/SideEffects\";\nimport Telemetry from \"sap/fe/core/controllerextensions/Telemetry\";\nimport ViewState from \"sap/fe/core/controllerextensions/ViewState\";\nimport type { TitleInformation } from \"sap/fe/core/rootView/RootViewBaseController\";\nimport MessageBox from \"sap/m/MessageBox\";\nimport Component from \"sap/ui/core/Component\";\nimport Library from \"sap/ui/core/Lib\";\nimport type View from \"sap/ui/core/mvc/View\";\nimport type JSONModel from \"sap/ui/model/json/JSONModel\";\nimport type Context from \"sap/ui/model/odata/v4/Context\";\nimport ContextSharing from \"./controllerextensions/ContextSharing\";\nimport CollaborationManager from \"./controllerextensions/cards/CollaborationManager\";\n\n/**\n * Base controller class for your custom page used inside an SAP Fiori elements application.\n *\n * This controller provides preconfigured extensions that will ensure you have the basic functionalities required to use the building blocks.\n * @hideconstructor\n * @public\n * @since 1.88.0\n */\n@defineUI5Class(\"sap.fe.core.PageController\")\nclass PageController extends BaseController {\n\t@usingExtension(Routing)\n\trouting!: Routing;\n\n\t@usingExtension(CollaborativeDraft)\n\tcollaborativeDraft!: CollaborativeDraft;\n\n\t@usingExtension(InternalRouting)\n\t_routing!: InternalRouting;\n\n\t@usingExtension(EditFlow)\n\teditFlow!: EditFlow;\n\n\t@usingExtension(IntentBasedNavigation)\n\tintentBasedNavigation!: IntentBasedNavigation;\n\n\t@usingExtension(InternalIntentBasedNavigation)\n\t_intentBasedNavigation!: InternalIntentBasedNavigation;\n\n\t@usingExtension(PageReady)\n\tpageReady!: PageReady;\n\n\t@usingExtension(MessageHandler)\n\tmessageHandler!: MessageHandler;\n\n\t@usingExtension(Share)\n\tshare!: Share;\n\n\t@usingExtension(Paginator)\n\tpaginator!: Paginator;\n\n\t@usingExtension(ViewState)\n\tviewState!: ViewState;\n\n\t@usingExtension(Placeholder)\n\tplaceholder!: Placeholder;\n\n\t@usingExtension(SideEffects)\n\t_sideEffects!: SideEffects;\n\n\t@usingExtension(Recommendations)\n\trecommendations!: Recommendations;\n\n\t@usingExtension(Telemetry)\n\ttelemetry!: Telemetry;\n\n\t@usingExtension(ContextSharing)\n\tcontextSharing!: ContextSharing;\n\n\t@usingExtension(CollaborationManager)\n\tcollaborationManager!: CollaborationManager;\n\n\textension!: Record<string, unknown>;\n\n\t_oView?: View;\n\n\tprotected extensionAPI?: ExtensionAPI;\n\n\tconstructor(name: string) {\n\t\tsuper(name);\n\n\t\tconst ownProps = Object.getOwnPropertyNames(this.constructor.prototype);\n\t\tfor (const ownProp of ownProps) {\n\t\t\tif (ownProp !== \"constructor\" && ownProp !== \"getMetadata\" && ownProp !== \"extension\") {\n\t\t\t\tconst fnProp = (this as Record<string, unknown>)[ownProp];\n\t\t\t\tif (fnProp && typeof fnProp === \"function\" && !(fnProp as { getMetadata?: Function }).getMetadata) {\n\t\t\t\t\t(this as Record<string, unknown>)[ownProp] = (...args: unknown[]): unknown => {\n\t\t\t\t\t\tconst ownerComponent = Component.getOwnerComponentFor(this.getView());\n\t\t\t\t\t\tif (ownerComponent) {\n\t\t\t\t\t\t\treturn ownerComponent.runAsOwner(() => fnProp.apply(this, args));\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn fnProp.apply(this, args);\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tObject.defineProperty(this, \"oView\", {\n\t\t\tget(): View | undefined {\n\t\t\t\treturn this._oView;\n\t\t\t},\n\t\t\tset(v: View) {\n\t\t\t\tthis._oView = v;\n\t\t\t\t// On the initial view instantiation from XML the templating process may be finished before the view is completely created\n\t\t\t\t// When that happens we need to ensure that the root controller is available on the TemplateComponent\n\t\t\t\tthis.getOwnerComponent()?.setRootController?.(this);\n\t\t\t}\n\t\t});\n\t}\n\n\t@publicExtension()\n\tonInit(): void {\n\t\tconst oUIModel = this.getAppComponent().getModel(\"ui\"),\n\t\t\toInternalModel = this.getAppComponent().getModel(\"internal\") as JSONModel,\n\t\t\tsPath = `/pages/${this.getView().getId()}`;\n\n\t\toUIModel.setProperty(sPath, {\n\t\t\tcontrols: {}\n\t\t});\n\t\toInternalModel.setProperty(sPath, {\n\t\t\tcontrols: {},\n\t\t\tcollaboration: {}\n\t\t});\n\t\tthis.getView().bindElement({\n\t\t\tpath: \"/\",\n\t\t\tmodel: \"ui\"\n\t\t});\n\t\tthis.getView().bindElement({\n\t\t\tpath: sPath,\n\t\t\tmodel: \"internal\"\n\t\t});\n\n\t\t// for the time being provide it also pageInternal as some macros access it - to be removed\n\t\tthis.getView().bindElement({\n\t\t\tpath: sPath,\n\t\t\tmodel: \"pageInternal\"\n\t\t});\n\t\tthis.getView().setModel(oInternalModel, \"pageInternal\");\n\n\t\t// as the model propagation happens after init but we actually want to access the binding context in the\n\t\t// init phase already setting the model here\n\t\tthis.getView().setModel(oUIModel, \"ui\");\n\t\tthis.getView().setModel(oInternalModel, \"internal\");\n\t}\n\n\t@publicExtension()\n\tonBeforeRendering(): void {\n\t\tif (this.placeholder.attachHideCallback) {\n\t\t\tthis.placeholder.attachHideCallback();\n\t\t}\n\t}\n\n\t/**\n\t * Get the extension API for the current page.\n\t * @param id PRIVATE\n\t * @public\n\t * @returns The extension API.\n\t */\n\t@publicExtension()\n\tgetExtensionAPI(id?: string): ExtensionAPI {\n\t\tif (!this.extensionAPI) {\n\t\t\tthis.extensionAPI = new ExtensionAPI(this, id);\n\t\t}\n\t\treturn this.extensionAPI;\n\t}\n\n\t// We specify the extensibility here the same way as it is done in the object page controller\n\t// since the specification here overrides it and if we do not specify anything here, the\n\t// behavior defaults to an execute instead!\n\t// TODO This may not be ideal, since it also influences the list report controller but currently it's the best solution.\n\t@publicExtension()\n\t@extensible(\"After\")\n\tonPageReady(_mParameters: unknown): void {\n\t\t// Apply app state only after the page is ready with the first section selected\n\t\tconst view = this.getView();\n\t\tthis.getAppComponent().getAppStateHandler().applyAppState(view.getId(), view);\n\t}\n\n\t_getPageTitleInformation(): TitleInformation {\n\t\treturn {};\n\t}\n\n\t_getPageModel(): JSONModel | undefined {\n\t\tconst pageComponent = Component.getOwnerComponentFor(this.getView());\n\t\treturn pageComponent?.getModel(\"_pageModel\") as JSONModel;\n\t}\n\n\t/**\n\t * Opens one or more new tabs with the given outbound target for the selected contexts.\n\t * @param outboundTarget The outbound target\n\t * @param contexts The selected contexts\n\t * @param createPath The create path\n\t * @param maxNumberOfSelectedItems The maximum number of selected items\n\t */\n\tonOpenInNewTabNavigateOutBound(\n\t\toutboundTarget: string,\n\t\tcontexts: Context[],\n\t\tcreatePath: string,\n\t\tmaxNumberOfSelectedItems: number\n\t): void {\n\t\t// eslint-disable-next-line @typescript-eslint/no-this-alias\n\t\tconst that = this;\n\t\tif (contexts.length <= maxNumberOfSelectedItems) {\n\t\t\tcontexts.forEach(function (context: Context) {\n\t\t\t\tthat._intentBasedNavigation.onChevronPressNavigateOutBound(that, outboundTarget, context, createPath, \"explace\");\n\t\t\t});\n\t\t} else {\n\t\t\tMessageBox.warning(\n\t\t\t\tLibrary.getResourceBundleFor(\"sap.fe.macros\")!.getText(\"T_TABLE_NAVIGATION_TOO_MANY_ITEMS_SELECTED\", [\n\t\t\t\t\tmaxNumberOfSelectedItems\n\t\t\t\t])\n\t\t\t);\n\t\t}\n\t}\n}\n\nexport default PageController;\n"],"mappings":"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","ignoreList":[]}