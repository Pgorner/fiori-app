/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2024 SAP SE. All rights reserved
 */
sap.ui.define(["sap/base/Log","sap/base/util/ObjectPath","sap/fe/core/CommonUtils"],function(e,t,n){"use strict";const o={loadModuleAndCallMethod:async function(e,n,o){for(var i=arguments.length,r=new Array(i>3?i-3:0),s=3;s<i;s++){r[s-3]=arguments[s]}return new Promise(function(i){let s;if(o.getControllerName()==="sap.fe.templates.ObjectPage.ObjectPageController"||o.getControllerName()==="sap.fe.templates.ListReport.ListReportController"){s=o.getController().getExtensionAPI()}if(e.startsWith("/extension/")){const o=t.get(e.replace(/\//g,".").substring(1),s);i(o[n](...r))}else{sap.ui.require([e],function(e){i(e[n].bind(s)(...r))})}})},actionWrapper:async function(t,i,r,s){if(!i||!r){e.debug("Both the module and the method must be defined to execute a custom action");return}const a=t.getSource?t.getSource():t.oSource,l=n.getTargetView(a),u=a.getBindingContext();let c;let d;if(s!==undefined){d=s.contexts||[]}else if(u!==undefined){d=[u]}else{d=[]}if(a.getParent()?.isA("sap.ui.mdc.actiontoolbar.ActionToolbarAction")||a.getParent()?.isA("sap.m.Menu")){c=o.getMdcTable(a)?.getRowBinding()}return o.loadModuleAndCallMethod(i,r,l,u,d,c)},getMdcTable:function(e){const t=e.getParent();if(!t||t.isA("sap.ui.mdc.Table")){return t}return o.getMdcTable(t)},validationWrapper:async function(e,t,n,i,r){return o.loadModuleAndCallMethod(e,t,i,r,n)},getCustomFunction(o,i,r){let s;if(r.isA("sap.ui.base.Event")){s=r.getSource()}else{s=r}const a=n.getTargetView(s);const l=a.getController().getExtensionAPI();let u;if(o.startsWith("/extension/")){const e=t.get(o.replace(/\//g,".").substring(1),l);u=e?e[i]:undefined}else{const e=sap.ui.require(o);u=e?e[i]?.bind(l):undefined}if(!u){e.error(`Couldn't find method ${i} in ${o}`)}return u}};return o},false);
//# sourceMappingURL=FPMHelper.js.map