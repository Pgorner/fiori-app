{"version":3,"names":["CollaborationDraft","_dec","defineUI5Class","_class","_BaseControllerExtens","apply","arguments","_exports","_inheritsLoose","_proto","prototype","getCollaborativeDraftService","collaborativeDraftService","base","getAppComponent","handleContentFocusIn","focusEvent","fieldpAPI","getSource","isA","getParent","targetOutsideOfControlDomRef","getParameter","getDomRef","contains","lastFocusId","getLastFocusId","getId","getLastFocusFieldGroups","getFieldGroupIds","join","lastFocused","Element","getElementById","sendFocusOutMessage","setLastFocusInformation","sendFocusInMessage","handleContentFocusOut","fieldGroupEvent","control","fieldGroupIds","some","groupId","startsWith","CollaborationFieldGroupPrefix","sourceControl","currentFocusedControl","getActiveElement","undefined","lastFocusFieldGroups","focusedFieldAPI","collaborationPath","getCollaborationPath","send","action","Activity","Lock","content","Unlock","field","bindingContext","getBindingContext","getMainPropertyRelativePath","fieldWrapper","FieldEditMode","Editable","EditableDisplay","EditableReadOnly","includes","getProperty","getPath","keypath","getBindingInfo","template","getBindingPath","path","message","getView","isConnected","connect","disconnect","isCollaborationEnabled","retainAsyncMessages","activityPaths","releaseAsyncMessages","updateLocksForContextPath","oldContextPath","newContextPath","BaseControllerExtension"],"sourceRoot":".","sources":["CollaborativeDraft.ts"],"sourcesContent":["import { defineUI5Class } from \"sap/fe/base/ClassSupport\";\nimport type FieldWrapper from \"sap/fe/macros/controls/FieldWrapper\";\nimport type FieldAPI from \"sap/fe/macros/field/FieldAPI\";\nimport type Tokenizer from \"sap/m/Tokenizer\";\nimport type UI5Event from \"sap/ui/base/Event\";\nimport type ManagedObject from \"sap/ui/base/ManagedObject\";\nimport type Control from \"sap/ui/core/Control\";\nimport type { Control$ValidateFieldGroupEvent } from \"sap/ui/core/Control\";\nimport Element from \"sap/ui/core/Element\";\nimport type MultiValueField from \"sap/ui/mdc/MultiValueField\";\nimport type Context from \"sap/ui/model/odata/v4/Context\";\nimport type { FEView } from \"../BaseController\";\nimport type PageController from \"../PageController\";\nimport type { CollaborativeDraftService } from \"../services/collaborativeDraftServiceFactory\";\nimport { FieldEditMode } from \"../templating/UIFormatters\";\nimport BaseControllerExtension from \"./BaseControllerExtension\";\nimport { Activity, CollaborationFieldGroupPrefix } from \"./collaboration/CollaborationCommon\";\n\n@defineUI5Class(\"sap.fe.core.controllerextensions.CollaborationDraft\")\nexport default class CollaborationDraft extends BaseControllerExtension {\n\tprivate base!: PageController;\n\n\tprivate lastFocusId: string | undefined;\n\n\tprivate lastFocusFieldGroups: string | undefined;\n\n\tprivate collaborativeDraftService!: CollaborativeDraftService;\n\n\tprivate getCollaborativeDraftService(): CollaborativeDraftService {\n\t\tthis.collaborativeDraftService = this.collaborativeDraftService ?? this.base.getAppComponent().getCollaborativeDraftService();\n\t\treturn this.collaborativeDraftService;\n\t}\n\n\t/**\n\t * Callback when the focus is set in the FieldAPI or one of its children.\n\t * @param focusEvent\n\t */\n\tpublic handleContentFocusIn(focusEvent: UI5Event<{ relatedTarget: Node }>): void {\n\t\tlet fieldpAPI: FieldAPI | MultiValueField = focusEvent.getSource();\n\t\t// We send the event only if the focus was previously out of the FieldAPI\n\t\tif (fieldpAPI.isA<Tokenizer>(\"sap.m.Tokenizer\")) {\n\t\t\tfieldpAPI = fieldpAPI.getParent()?.getParent() as MultiValueField;\n\t\t}\n\t\tlet targetOutsideOfControlDomRef = false;\n\t\tif (focusEvent.getParameter) {\n\t\t\ttargetOutsideOfControlDomRef = !fieldpAPI.getDomRef()?.contains(focusEvent.getParameter(\"relatedTarget\"));\n\t\t}\n\t\tif (fieldpAPI.isA<MultiValueField>(\"sap.ui.mdc.MultiValueField\") || targetOutsideOfControlDomRef) {\n\t\t\t// We need to handle the case where the newly focused FieldAPI is different from the previous one, but they share the same fieldGroupIDs\n\t\t\t// (e.g. fields in different rows in the same column of a table)\n\t\t\t// In such case, the focusOut handler was not called (because we stay in the same fieldGroupID), so we need to send a focusOut event manually\n\t\t\tconst lastFocusId = this.getLastFocusId();\n\t\t\tif (\n\t\t\t\tlastFocusId &&\n\t\t\t\tlastFocusId !== fieldpAPI.getId() &&\n\t\t\t\tthis.getLastFocusFieldGroups() === fieldpAPI.getFieldGroupIds().join(\",\")\n\t\t\t) {\n\t\t\t\tconst lastFocused = Element.getElementById(lastFocusId) as FieldAPI;\n\t\t\t\tthis?.sendFocusOutMessage(lastFocused);\n\t\t\t}\n\n\t\t\tthis.setLastFocusInformation(fieldpAPI);\n\n\t\t\tthis.sendFocusInMessage(fieldpAPI);\n\t\t}\n\t}\n\n\t/**\n\t * Callback when the focus is removed from the FieldAPI or one of its children.\n\t * @param fieldGroupEvent\n\t */\n\tpublic handleContentFocusOut(fieldGroupEvent: Control$ValidateFieldGroupEvent): void {\n\t\tlet control: ManagedObject | null = fieldGroupEvent.getSource();\n\t\tif (control.isA<Tokenizer>(\"sap.m.Tokenizer\")) {\n\t\t\tcontrol = control.getParent()?.getParent() as MultiValueField;\n\t\t}\n\t\tif (!control.isA<MultiValueField>(\"sap.ui.mdc.MultiValueField\")) {\n\t\t\twhile (control && !control?.isA<FieldAPI>(\"sap.fe.macros.field.FieldAPI\")) {\n\t\t\t\tcontrol = control?.getParent();\n\t\t\t}\n\t\t\tif (!control) return;\n\t\t}\n\n\t\tconst fieldGroupIds = fieldGroupEvent.getParameter(\"fieldGroupIds\") as string[];\n\n\t\t// We send the event only if the validated fieldCroup corresponds to a collaboration group\n\t\tif (\n\t\t\tfieldGroupIds.some((groupId) => {\n\t\t\t\treturn groupId.startsWith(CollaborationFieldGroupPrefix);\n\t\t\t})\n\t\t) {\n\t\t\tconst sourceControl: Control = fieldGroupEvent.getSource();\n\n\t\t\t// Determine if the control that sent the event still has the focus (or one of its children).\n\t\t\t// This could happen e.g. if the user pressed <Enter> to validate the input.\n\t\t\tlet currentFocusedControl: ManagedObject | null | undefined = Element.getActiveElement();\n\t\t\twhile (currentFocusedControl && currentFocusedControl !== sourceControl) {\n\t\t\t\tcurrentFocusedControl = currentFocusedControl.getParent();\n\t\t\t}\n\t\t\tif (currentFocusedControl !== sourceControl) {\n\t\t\t\t// The control that sent the event isn't focused anymore\n\t\t\t\tthis.sendFocusOutMessage(control);\n\t\t\t\tif (this.getLastFocusId() === control.getId()) {\n\t\t\t\t\tthis.setLastFocusInformation(undefined);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Gets the id of the last focused FieldAPI (if any).\n\t * @returns ID\n\t */\n\tprivate getLastFocusId(): string | undefined {\n\t\treturn this.lastFocusId;\n\t}\n\n\t/**\n\t * Gets the fieldgroups of the last focused FieldAPI (if any).\n\t * @returns A string containing the fieldgroups separated by ','\n\t */\n\tprivate getLastFocusFieldGroups(): string | undefined {\n\t\treturn this.lastFocusFieldGroups;\n\t}\n\n\t/**\n\t * Stores information about the last focused FieldAPI (id and fieldgroups).\n\t * @param focusedFieldAPI\n\t */\n\tprivate setLastFocusInformation(focusedFieldAPI: FieldAPI | MultiValueField | undefined): void {\n\t\tthis.lastFocusId = focusedFieldAPI?.getId();\n\t\tthis.lastFocusFieldGroups = focusedFieldAPI?.getFieldGroupIds().join(\",\");\n\t}\n\n\t/**\n\t * If collaboration is enabled, send a Lock collaboration message.\n\t * @param fieldpAPI\n\t */\n\tprivate sendFocusInMessage(fieldpAPI: FieldAPI | MultiValueField): void {\n\t\tconst collaborationPath = this.getCollaborationPath(fieldpAPI);\n\n\t\tif (collaborationPath) {\n\t\t\tthis.send({ action: Activity.Lock, content: collaborationPath });\n\t\t}\n\t}\n\n\t/**\n\t * If collaboration is enabled, send an Unlock collaboration message.\n\t * @param fieldpAPI\n\t */\n\tprivate sendFocusOutMessage(fieldpAPI: FieldAPI | MultiValueField | undefined): void {\n\t\tif (!fieldpAPI) {\n\t\t\treturn;\n\t\t}\n\t\tconst collaborationPath = this.getCollaborationPath(fieldpAPI);\n\t\tif (collaborationPath) {\n\t\t\tthis.send({ action: Activity.Unlock, content: collaborationPath });\n\t\t}\n\t}\n\n\t/**\n\t * Gets the path used to send collaboration messages.\n\t * @param field\n\t * @returns The path (or undefined is no valid path could be found)\n\t */\n\tprivate getCollaborationPath(field: FieldAPI | MultiValueField): string | undefined {\n\t\t// Note: we send messages even if the context is inactive (empty creation rows),\n\t\t// otherwise we can't update the corresponding locks when the context is activated.\n\t\tconst bindingContext = field?.getBindingContext() as Context | undefined;\n\t\tif (!bindingContext) {\n\t\t\treturn;\n\t\t}\n\t\tif (field.isA<FieldAPI>(\"sap.fe.macros.field.FieldAPI\")) {\n\t\t\tif (!field.getMainPropertyRelativePath()) {\n\t\t\t\treturn undefined;\n\t\t\t}\n\n\t\t\tconst fieldWrapper = field.content as FieldWrapper | undefined;\n\t\t\tif (\n\t\t\t\t![FieldEditMode.Editable, FieldEditMode.EditableDisplay, FieldEditMode.EditableReadOnly].includes(\n\t\t\t\t\tfieldWrapper?.getProperty(\"editMode\")\n\t\t\t\t)\n\t\t\t) {\n\t\t\t\t// The field is not in edit mode --> no collaboration messages\n\t\t\t\treturn undefined;\n\t\t\t}\n\n\t\t\treturn `${bindingContext.getPath()}/${field.getMainPropertyRelativePath()}`;\n\t\t} else if (field.isA<MultiValueField>(\"sap.ui.mdc.MultiValueField\")) {\n\t\t\tconst keypath = field.getBindingInfo(\"items\").template.getBindingPath(\"key\");\n\t\t\treturn `${bindingContext.getPath()}/${field.getBindingInfo(\"items\").path}/${keypath}`;\n\t\t}\n\t}\n\n\tpublic send(message: {\n\t\taction: Activity;\n\t\tcontent: string | string[] | undefined;\n\t\ttriggeredActionName?: string;\n\t\trefreshListBinding?: boolean;\n\t\tactionRequestedProperties?: string[];\n\t}): void {\n\t\tthis.getCollaborativeDraftService().send(this.getView(), message);\n\t}\n\n\tpublic isConnected(): boolean {\n\t\treturn this.getCollaborativeDraftService().isConnected(this.getView());\n\t}\n\n\tpublic async connect(): Promise<void> {\n\t\treturn this.getCollaborativeDraftService().connect(this.getView() as FEView);\n\t}\n\n\tpublic disconnect(): void {\n\t\treturn this.getCollaborativeDraftService().disconnect(this.getView() as FEView);\n\t}\n\n\tpublic isCollaborationEnabled(): boolean {\n\t\treturn this.getCollaborativeDraftService().isCollaborationEnabled(this.getView());\n\t}\n\n\tpublic retainAsyncMessages(activityPaths: string | string[]): void {\n\t\treturn this.getCollaborativeDraftService().retainAsyncMessages(this.getView(), activityPaths);\n\t}\n\n\tpublic releaseAsyncMessages(activityPaths: string | string[]): void {\n\t\treturn this.getCollaborativeDraftService().releaseAsyncMessages(this.getView(), activityPaths);\n\t}\n\n\tpublic updateLocksForContextPath(oldContextPath: string, newContextPath: string): void {\n\t\treturn this.getCollaborativeDraftService().updateLocksForContextPath(this.getView(), oldContextPath, newContextPath);\n\t}\n}\n"],"mappings":"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","ignoreList":[],"file":"CollaborativeDraft-dbg.js"}