{"version":3,"names":["getIdentificationDataFieldForActions","entityType","isDeterminingAction","annotations","UI","Identification","filter","identificationDataField","$Type","Boolean","Determining","valueOf","ActionTarget","isBound","Core","OperationAvailable","_exports","getIdentificationDataFieldForActionsOrGroups","getIdentificationDataFieldForIBNActions","IMPORTANT_CRITICALITIES","getDeleteButtonVisibility","converterContext","deleteHidden","dataModelObjectPath","getDataModelObjectPath","visitedNavigationPaths","navigationProperties","map","navProp","name","deleteHiddenExpression","getExpressionFromAnnotation","path","singletonPathVisitor","getConvertedTypes","manifestWrapper","getManifestWrapper","viewLevel","getViewLevel","editableExpression","IsEditable","not","ifElse","undefined","and","equal","getDeleteButtonEnabled","isDeletable","isParentDeletable","entitySet","getEntitySet","isDraftRoot","ModelHelper","ret","constant","pathInModel","getEditButtonVisibility","rootUpdateHidden","rootConverterContext","updateHidden","rootEntitySet","isFCLEnabled","isFclEnabled","isDraftEnabled","rootUpdateHiddenExpression","getHiddenExpression","isDraftNode","updateHiddenExpression","notEditableExpression","resultantExpression","Draft","HasNoDraftForCurrentUser","getEditButtonEnabled","updateRestrictions","isSticky","editActionName","isEntitySet","Common","DraftRoot","EditAction","Session","StickySessionSupported","editActionAnnotationPath","getAbsoluteAnnotationPath","editAction","resolveAbsolutePath","target","compileExpression","getEnabledForAnnotationAction","getHeaderDefaultActions","sContextPath","getContextPath","rootEntitySetPath","getRootEntitySetPath","getConverterContextFor","getEntityType","rootEntityType","stickySessionSupported","getStickySession","draftRoot","getDraftRoot","draftNode","getDraftNode","entityDeleteRestrictions","Capabilities","DeleteRestrictions","isUpdateHidden","isPathDeletable","pathVisitor","navigationPaths","parentEntitySetDeletable","identificationDataFieldForActions","copyDataField","getCopyAction","dataField","dataFieldIsCopyAction","headerDataFieldForActions","headerActions","push","type","ActionType","DraftActions","key","updatablePropertyPath","UpdateRestrictions","Updatable","CollaborationAvatars","computeActionsAndActionGroups","Primary","visible","enabled","Deletable","getDeleteHidden","Secondary","parentEntityDeleteEnabled","getDataFieldAnnotationAction","Copy","text","Label","toString","Library","getResourceBundleFor","getText","headerDataFieldForIBNActions","criticality","Criticality","includes","forEach","RequiresContext","Error","Inline","oNavigationParams","semanticObjectMapping","getSemanticObjectMapping","Mapping","DataFieldForIntentBasedNavigation","annotationPath","getEntitySetBasedAnnotationPath","fullyQualifiedName","buttonType","ButtonType","Ghost","Hidden","NavigationAvailable","KeyHelper","generateKeyFromDataField","isNavigable","press","fn","SemanticObject","Action","customData","semanticObject","action","getHiddenHeaderActions","hiddenActions","Default","getFooterDefaultActions","entitySetDraftRoot","term","conditionSave","SaveAction","conditionApply","conditionCancel","DiscardAction","footerDataFieldForActions","footerActions","entityTypeName","DefaultApply","position","placement","Placement","End","isVisibleExp","isVisible","DataFieldForAction","prioritizeCriticality","headerDataFieldForActionsOrGroups","Menu","id","menu","Actions"],"sourceRoot":".","sources":["HeaderAndFooterAction.ts"],"sourcesContent":["import type { Action, EntityType, PropertyAnnotationValue } from \"@sap-ux/vocabularies-types\";\nimport { CommonAnnotationTerms } from \"@sap-ux/vocabularies-types/vocabularies/Common\";\nimport type {\n\tDataFieldForAction,\n\tDataFieldForActionGroupTypes,\n\tDataFieldForActionTypes,\n\tDataFieldForIntentBasedNavigationTypes,\n\tDeleteHidden,\n\tUpdateHidden\n} from \"@sap-ux/vocabularies-types/vocabularies/UI\";\nimport { UIAnnotationTypes } from \"@sap-ux/vocabularies-types/vocabularies/UI\";\nimport type { BindingToolkitExpression, CompiledBindingToolkitExpression } from \"sap/fe/base/BindingToolkit\";\nimport {\n\tand,\n\tcompileExpression,\n\tconstant,\n\tequal,\n\tfn,\n\tgetExpressionFromAnnotation,\n\tifElse,\n\tnot,\n\tpathInModel\n} from \"sap/fe/base/BindingToolkit\";\nimport type { PageContextPathTarget } from \"sap/fe/core/converters/TemplateConverter\";\nimport type { AnnotationAction, BaseAction, DataFieldForActionOrActionGroup } from \"sap/fe/core/converters/controls/Common/Action\";\nimport {\n\tButtonType,\n\tdataFieldIsCopyAction,\n\tgetCopyAction,\n\tgetEnabledForAnnotationAction,\n\tgetSemanticObjectMapping\n} from \"sap/fe/core/converters/controls/Common/Action\";\nimport { Placement } from \"sap/fe/core/converters/helpers/ConfigurableObject\";\nimport { KeyHelper } from \"sap/fe/core/converters/helpers/Key\";\nimport ModelHelper from \"sap/fe/core/helpers/ModelHelper\";\nimport { isEntitySet } from \"sap/fe/core/helpers/TypeGuards\";\nimport { isPathDeletable } from \"sap/fe/core/templating/DataModelPathHelper\";\nimport { isVisible } from \"sap/fe/core/templating/UIFormatters\";\nimport Library from \"sap/ui/core/Lib\";\nimport { Draft, UI, singletonPathVisitor } from \"../../helpers/BindingHelper\";\nimport type ConverterContext from \"../ConverterContext\";\nimport { ActionType } from \"../ManifestSettings\";\n\n/**\n * Retrieves all the DataFieldForActions from the Identification annotation\n * They must be\n * - Either linked to an unbound action or to an action which has an OperationAvailable that is not set to false statically.\n * @param entityType The current entity type\n * @param isDeterminingAction The flag which denotes whether or not the action is a determining action\n * @returns An array of DataFieldForAction respecting the input parameter 'isDeterminingAction'\n */\nexport function getIdentificationDataFieldForActions(entityType: EntityType, isDeterminingAction: boolean): DataFieldForActionTypes[] {\n\treturn (entityType.annotations?.UI?.Identification?.filter((identificationDataField) => {\n\t\treturn identificationDataField.$Type === UIAnnotationTypes.DataFieldForAction &&\n\t\t\tBoolean(identificationDataField.Determining?.valueOf()) === isDeterminingAction &&\n\t\t\t(identificationDataField.ActionTarget?.isBound?.valueOf() !== true ||\n\t\t\t\tidentificationDataField?.ActionTarget?.annotations?.Core?.OperationAvailable?.valueOf() !== false)\n\t\t\t? true\n\t\t\t: false;\n\t}) || []) as DataFieldForActionTypes[];\n}\n\n/**\n * Retrieves all the data field for actions for the identification annotation\n * They must be\n * - Either linked to an Unbound action or to an action which has an OperationAvailable that is not set to false statically.\n * @param entityType The current entity type\n * @param isDeterminingAction The flag which denotes whether or not the action is a determining action\n * @returns An array of DataField for action respecting the input parameter 'isDeterminingAction'\n */\nexport function getIdentificationDataFieldForActionsOrGroups(\n\tentityType: EntityType,\n\tisDeterminingAction: boolean\n): DataFieldForActionOrActionGroup[] {\n\treturn (entityType.annotations?.UI?.Identification?.filter((identificationDataField) => {\n\t\treturn (identificationDataField.$Type === UIAnnotationTypes.DataFieldForAction &&\n\t\t\tBoolean(identificationDataField.Determining?.valueOf()) === isDeterminingAction &&\n\t\t\t(identificationDataField.ActionTarget?.isBound?.valueOf() !== true ||\n\t\t\t\tidentificationDataField?.ActionTarget?.annotations?.Core?.OperationAvailable?.valueOf() !== false)) ||\n\t\t\tidentificationDataField.$Type === UIAnnotationTypes.DataFieldForActionGroup\n\t\t\t? true\n\t\t\t: false;\n\t}) || []) as DataFieldForActionOrActionGroup[];\n}\n\n/**\n * Retrieve all the IBN actions for the identification annotation.\n * @param entityType The current entitytype\n * @param isDeterminingAction Whether or not the action should be determining\n * @returns An array of data field for action respecting the isDeterminingAction property.\n */\nfunction getIdentificationDataFieldForIBNActions(\n\tentityType: EntityType,\n\tisDeterminingAction: boolean\n): DataFieldForIntentBasedNavigationTypes[] {\n\treturn (entityType.annotations?.UI?.Identification?.filter((identificationDataField) => {\n\t\treturn identificationDataField.$Type === UIAnnotationTypes.DataFieldForIntentBasedNavigation &&\n\t\t\tBoolean(identificationDataField.Determining?.valueOf()) === isDeterminingAction\n\t\t\t? true\n\t\t\t: false;\n\t}) || []) as DataFieldForIntentBasedNavigationTypes[];\n}\n\nexport const IMPORTANT_CRITICALITIES = [\n\t\"UI.CriticalityType/VeryPositive\",\n\t\"UI.CriticalityType/Positive\",\n\t\"UI.CriticalityType/Negative\",\n\t\"UI.CriticalityType/VeryNegative\"\n];\n\n/**\n * Method to determine the 'visible' property binding for the Delete button on an object page.\n * @param converterContext Instance of the converter context.\n * @param deleteHidden The value of the UI.DeleteHidden annotation on the entity set / type.\n * @returns The binding expression for the 'visible' property of the Delete button.\n */\nexport function getDeleteButtonVisibility(\n\tconverterContext: ConverterContext<PageContextPathTarget>,\n\tdeleteHidden: DeleteHidden | undefined\n): BindingToolkitExpression<boolean> {\n\tconst dataModelObjectPath = converterContext.getDataModelObjectPath(),\n\t\tvisitedNavigationPaths = dataModelObjectPath.navigationProperties.map((navProp) => navProp.name),\n\t\t// Set absolute binding path for Singleton references, otherwise the configured annotation path itself.\n\t\t// For e.g. /com.sap.namespace.EntityContainer/Singleton/Property to /Singleton/Property\n\t\tdeleteHiddenExpression = getExpressionFromAnnotation(deleteHidden, visitedNavigationPaths, false, (path: string) =>\n\t\t\tsingletonPathVisitor(path, converterContext.getConvertedTypes(), [])\n\t\t), // default to false\n\t\tmanifestWrapper = converterContext.getManifestWrapper(),\n\t\tviewLevel = manifestWrapper.getViewLevel(),\n\t\t// Delete button is visible\n\t\t// In OP \t\t-->  when not in edit mode\n\t\t// In sub-OP \t-->  when in edit mode\n\t\teditableExpression: BindingToolkitExpression<boolean> = viewLevel > 1 ? UI.IsEditable : not(UI.IsEditable);\n\n\t// If UI.DeleteHidden annotation on entity set or type is either not defined or explicitly set to false,\n\t// Delete button is visible based on editableExpression.\n\t// else,\n\t// Delete button is visible based on both annotation path and editableExpression.\n\treturn ifElse(\n\t\tdeleteHidden === undefined || deleteHidden.valueOf() === false,\n\t\teditableExpression,\n\t\tand(editableExpression, equal(deleteHiddenExpression, false))\n\t);\n}\n\n/**\n * Method to determine the 'enabled' property binding for the Delete button on an object page.\n * @param isDeletable The delete restriction configured\n * @param isParentDeletable The delete restriction configured on the parent entity\n * @param converterContext\n * @returns The binding expression for the 'enabled' property of the Delete button\n */\nexport function getDeleteButtonEnabled(\n\tisDeletable: PropertyAnnotationValue<Boolean> | undefined,\n\tisParentDeletable: BindingToolkitExpression<boolean>,\n\tconverterContext: ConverterContext<PageContextPathTarget>\n): BindingToolkitExpression<boolean> {\n\tconst entitySet = converterContext.getEntitySet(),\n\t\tisDraftRoot = ModelHelper.isDraftRoot(entitySet);\n\n\tlet ret = ifElse(\n\t\tisParentDeletable !== undefined,\n\t\tisParentDeletable,\n\t\tifElse(isDeletable !== undefined, equal(getExpressionFromAnnotation(isDeletable), true), constant(true))\n\t);\n\n\t// delete should be disabled for Locked objects\n\tret = isDraftRoot ? and(ret, not(pathInModel(\"DraftAdministrativeData/InProcessByUser\"))) : ret;\n\n\treturn ret;\n}\n\n/**\n * Method to determine the 'visible' property binding for the Edit button on an object page.\n * @param converterContext Instance of the converter context.\n * @param rootUpdateHidden The value of the UI.UpdateHidden annotation on the entity set / type.\n * @param rootConverterContext\n * @param updateHidden\n * @param viewLevel\n * @returns The binding expression for the 'visible' property of the Edit button.\n */\nexport function getEditButtonVisibility(\n\tconverterContext: ConverterContext<PageContextPathTarget>,\n\trootUpdateHidden: UpdateHidden | undefined,\n\trootConverterContext: ConverterContext<PageContextPathTarget>,\n\tupdateHidden?: UpdateHidden | undefined,\n\tviewLevel?: number | undefined\n): BindingToolkitExpression<boolean> {\n\tconst rootEntitySet = rootConverterContext?.getEntitySet(),\n\t\tentitySet = converterContext.getEntitySet(),\n\t\tisFCLEnabled = converterContext.getManifestWrapper().isFclEnabled();\n\tlet isDraftEnabled;\n\tconst rootUpdateHiddenExpression = getHiddenExpression(rootConverterContext, rootUpdateHidden);\n\tif (viewLevel && viewLevel > 1) {\n\t\t// if viewlevel > 1 check if node is draft enabled\n\t\tisDraftEnabled = ModelHelper.isDraftNode(entitySet);\n\t} else {\n\t\tisDraftEnabled = ModelHelper.isDraftRoot(rootEntitySet);\n\t}\n\tconst updateHiddenExpression = getHiddenExpression(rootConverterContext, updateHidden);\n\n\tconst notEditableExpression: BindingToolkitExpression<boolean> = not(UI.IsEditable);\n\n\t// If UI.UpdateHidden annotation on entity set or type is either not defined or explicitly set to false,\n\t// Edit button is visible in display mode.\n\t// else,\n\t// Edit button is visible based on both annotation path and in display mode.\n\tconst resultantExpression: BindingToolkitExpression<boolean> = ifElse(\n\t\t(viewLevel as number) > 1,\n\t\tifElse(\n\t\t\tupdateHidden === undefined || updateHidden.valueOf() === false,\n\t\t\tand(\n\t\t\t\tnotEditableExpression,\n\t\t\t\tequal(pathInModel(\"rootEditVisible\", \"internal\"), true),\n\t\t\t\tifElse(isFCLEnabled, equal(pathInModel(\"/showEditButton\", \"fclhelper\"), true), true)\n\t\t\t),\n\t\t\tand(\n\t\t\t\tnotEditableExpression,\n\t\t\t\tequal(updateHiddenExpression, false),\n\t\t\t\tequal(pathInModel(\"rootEditVisible\", \"internal\"), true),\n\t\t\t\tifElse(isFCLEnabled, equal(pathInModel(\"/showEditButton\", \"fclhelper\"), true), true)\n\t\t\t)\n\t\t),\n\t\tifElse(\n\t\t\trootUpdateHidden === undefined || rootUpdateHidden.valueOf() === false,\n\t\t\tnotEditableExpression,\n\t\t\tand(notEditableExpression, equal(rootUpdateHiddenExpression, false))\n\t\t)\n\t);\n\treturn ifElse(isDraftEnabled, and(resultantExpression, Draft.HasNoDraftForCurrentUser), resultantExpression);\n}\n\nexport function getHiddenExpression(\n\tconverterContext: ConverterContext<PageContextPathTarget>,\n\tupdateHidden: UpdateHidden | undefined\n): BindingToolkitExpression<boolean> {\n\tconst dataModelObjectPath = converterContext.getDataModelObjectPath(),\n\t\tvisitedNavigationPaths = dataModelObjectPath.navigationProperties.map((navProp) => navProp.name),\n\t\t// Set absolute binding path for Singleton references, otherwise the configured annotation path itself.\n\t\t// For e.g. /com.sap.namespace.EntityContainer/Singleton/Property to /Singleton/Property\n\t\tupdateHiddenExpression = getExpressionFromAnnotation(updateHidden, visitedNavigationPaths, false, (path: string) =>\n\t\t\tsingletonPathVisitor(path, converterContext.getConvertedTypes(), visitedNavigationPaths)\n\t\t);\n\treturn updateHiddenExpression;\n}\n/**\n * Method to determine the 'enabled' property binding for the Edit button on an object page.\n * @param converterContext Instance of the converter context.\n * @param updateRestrictions\n * @param viewLevel\n * @returns The binding expression for the 'enabled' property of the Edit button.\n */\nexport function getEditButtonEnabled(\n\tconverterContext: ConverterContext<PageContextPathTarget>,\n\tupdateRestrictions?: PropertyAnnotationValue<Boolean>,\n\tviewLevel?: number | undefined\n): CompiledBindingToolkitExpression {\n\tconst entitySet = converterContext.getEntitySet(),\n\t\tisDraftRoot = ModelHelper.isDraftRoot(entitySet),\n\t\tisSticky = ModelHelper.isSticky(entitySet);\n\tlet editActionName: string | undefined;\n\tif (isDraftRoot && isEntitySet(entitySet)) {\n\t\teditActionName = entitySet.annotations.Common?.DraftRoot?.EditAction as string;\n\t} else if (isSticky && isEntitySet(entitySet)) {\n\t\teditActionName = entitySet.annotations.Session?.StickySessionSupported?.EditAction as string;\n\t}\n\tif (editActionName) {\n\t\tconst editActionAnnotationPath = converterContext.getAbsoluteAnnotationPath(editActionName);\n\t\tconst editAction = converterContext.resolveAbsolutePath(editActionAnnotationPath).target as Action | null;\n\t\tif (editAction?.annotations?.Core?.OperationAvailable === null) {\n\t\t\t// We disabled action advertisement but kept it in the code for the time being\n\t\t\t//return \"{= ${#\" + editActionName + \"} ? true : false }\";\n\t\t} else if ((viewLevel as number) > 1) {\n\t\t\t// Edit button is enabled based on the update restrictions of the sub-OP\n\t\t\tif (updateRestrictions !== undefined) {\n\t\t\t\treturn compileExpression(\n\t\t\t\t\tand(\n\t\t\t\t\t\tequal(getExpressionFromAnnotation(updateRestrictions), true),\n\t\t\t\t\t\tequal(pathInModel(\"rootEditEnabled\", \"internal\"), true)\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\treturn compileExpression(equal(pathInModel(\"rootEditEnabled\", \"internal\"), true));\n\t\t\t}\n\t\t} else {\n\t\t\treturn getEnabledForAnnotationAction(converterContext, editAction ?? undefined);\n\t\t}\n\t}\n\treturn \"true\";\n}\n\nexport function getHeaderDefaultActions(converterContext: ConverterContext<PageContextPathTarget>): BaseAction[] {\n\tconst sContextPath = converterContext.getContextPath();\n\tconst rootEntitySetPath = ModelHelper.getRootEntitySetPath(sContextPath);\n\tconst rootConverterContext = converterContext.getConverterContextFor<PageContextPathTarget>(\"/\" + rootEntitySetPath);\n\tconst entitySet = converterContext.getEntitySet(),\n\t\tentityType = converterContext.getEntityType(),\n\t\trootEntitySet = rootConverterContext.getEntitySet(),\n\t\trootEntityType = rootConverterContext.getEntityType(),\n\t\tstickySessionSupported = ModelHelper.getStickySession(rootEntitySet), //for sticky app\n\t\tdraftRoot = ModelHelper.getDraftRoot(rootEntitySet), //entitySet && entitySet.annotations.Common?.DraftRoot,\n\t\tdraftNode = ModelHelper.getDraftNode(rootEntitySet),\n\t\tentityDeleteRestrictions = entitySet && entitySet.annotations?.Capabilities?.DeleteRestrictions,\n\t\trootUpdateHidden = ModelHelper.isUpdateHidden(rootEntitySet, rootEntityType),\n\t\tupdateHidden = rootEntitySet && isEntitySet(rootEntitySet) && rootUpdateHidden?.valueOf(),\n\t\tdataModelObjectPath = converterContext.getDataModelObjectPath(),\n\t\tisParentDeletable = isPathDeletable(dataModelObjectPath, {\n\t\t\tpathVisitor: (path: string, navigationPaths: string[]) =>\n\t\t\t\tsingletonPathVisitor(path, converterContext.getConvertedTypes(), navigationPaths)\n\t\t}),\n\t\tparentEntitySetDeletable = isParentDeletable ? compileExpression(isParentDeletable) : isParentDeletable,\n\t\tidentificationDataFieldForActions = getIdentificationDataFieldForActionsOrGroups(converterContext.getEntityType(), false);\n\n\tconst copyDataField =\n\t\tconverterContext.getManifestWrapper().getViewLevel() === 1\n\t\t\t? getCopyAction(\n\t\t\t\t\tidentificationDataFieldForActions.filter((dataField) => {\n\t\t\t\t\t\tif (dataField.$Type === UIAnnotationTypes.DataFieldForAction) {\n\t\t\t\t\t\t\treturn dataFieldIsCopyAction(dataField);\n\t\t\t\t\t\t}\n\t\t\t\t\t}) as DataFieldForAction[]\n\t\t\t  )\n\t\t\t: undefined;\n\n\tconst headerDataFieldForActions = identificationDataFieldForActions.filter((dataField) => {\n\t\treturn !dataFieldIsCopyAction(dataField as DataFieldForActionTypes);\n\t});\n\n\t// Initialize actions and start with draft actions if available since they should appear in the first\n\t// leftmost position in the actions area of the OP header\n\t// This is more like a placeholder than a single action, since this controls not only the templating of\n\t// the button for switching between draft and active document versions but also the controls for\n\t// the collaborative draft fragment.\n\tconst headerActions: BaseAction[] = [];\n\tif (isEntitySet(entitySet) && draftRoot?.EditAction && updateHidden !== true) {\n\t\theaderActions.push({ type: ActionType.DraftActions, key: \"DraftActions\" });\n\t}\n\n\tconst viewLevel = converterContext.getManifestWrapper().getViewLevel();\n\tconst updatablePropertyPath = viewLevel > 1 ? entitySet?.annotations.Capabilities?.UpdateRestrictions?.Updatable : undefined;\n\tif (draftRoot || draftNode) {\n\t\theaderActions.push({ type: ActionType.CollaborationAvatars, key: \"CollaborationAvatars\" });\n\t}\n\t// Then add the \"Critical\" DataFieldForActions and DataFieldForActionGroups\n\t// Prioritizes actions and action groups that have the Criticality annotation, placing them before those without the annotation\n\tcomputeActionsAndActionGroups(headerActions, true, headerDataFieldForActions, converterContext);\n\n\t// Then the edit action if it exists\n\tif ((draftRoot?.EditAction || stickySessionSupported?.EditAction) && updateHidden !== true) {\n\t\theaderActions.push({\n\t\t\ttype: ActionType.Primary,\n\t\t\tkey: \"EditAction\",\n\t\t\tvisible: compileExpression(\n\t\t\t\tgetEditButtonVisibility(\n\t\t\t\t\tconverterContext,\n\t\t\t\t\trootUpdateHidden,\n\t\t\t\t\trootConverterContext,\n\t\t\t\t\tModelHelper.isUpdateHidden(entitySet, entityType),\n\t\t\t\t\tviewLevel\n\t\t\t\t)\n\t\t\t),\n\t\t\tenabled: getEditButtonEnabled(rootConverterContext, updatablePropertyPath, viewLevel)\n\t\t});\n\t}\n\t// Then the delete action if we're not statically not deletable\n\tif (\n\t\t(parentEntitySetDeletable && parentEntitySetDeletable !== \"false\") ||\n\t\t(entityDeleteRestrictions?.Deletable?.valueOf() !== false && parentEntitySetDeletable !== \"false\")\n\t) {\n\t\tconst deleteHidden = ModelHelper.getDeleteHidden(entitySet, entityType);\n\t\theaderActions.push({\n\t\t\ttype: ActionType.Secondary,\n\t\t\tkey: \"DeleteAction\",\n\t\t\tvisible: compileExpression(getDeleteButtonVisibility(converterContext, deleteHidden)),\n\t\t\tenabled: compileExpression(getDeleteButtonEnabled(entityDeleteRestrictions?.Deletable, isParentDeletable, converterContext)),\n\t\t\tparentEntityDeleteEnabled: parentEntitySetDeletable\n\t\t});\n\t}\n\n\tif (copyDataField) {\n\t\theaderActions.push({\n\t\t\t...getDataFieldAnnotationAction(copyDataField, converterContext),\n\t\t\ttype: ActionType.Copy,\n\t\t\ttext: copyDataField.Label?.toString() ?? Library.getResourceBundleFor(\"sap.fe.core\")!.getText(\"C_COMMON_COPY\")\n\t\t});\n\t}\n\n\tconst headerDataFieldForIBNActions = getIdentificationDataFieldForIBNActions(converterContext.getEntityType(), false);\n\n\theaderDataFieldForIBNActions\n\t\t.filter((dataField) => {\n\t\t\tconst criticality = compileExpression(getExpressionFromAnnotation(dataField?.Criticality));\n\t\t\treturn !IMPORTANT_CRITICALITIES.includes(criticality!);\n\t\t})\n\t\t.forEach((dataField) => {\n\t\t\tif (dataField.RequiresContext?.valueOf() === true) {\n\t\t\t\tthrow new Error(`RequiresContext property should not be true for header IBN action : ${dataField.Label}`);\n\t\t\t}\n\t\t\tif (dataField.Inline?.valueOf() === true) {\n\t\t\t\tthrow new Error(`Inline property should not be true for header IBN action : ${dataField.Label}`);\n\t\t\t}\n\t\t\tconst oNavigationParams = {\n\t\t\t\tsemanticObjectMapping: getSemanticObjectMapping(dataField.Mapping)\n\t\t\t};\n\n\t\t\theaderActions.push({\n\t\t\t\ttype: ActionType.DataFieldForIntentBasedNavigation,\n\t\t\t\ttext: dataField.Label?.toString(),\n\t\t\t\tannotationPath: converterContext.getEntitySetBasedAnnotationPath(dataField.fullyQualifiedName),\n\t\t\t\tbuttonType: ButtonType.Ghost,\n\t\t\t\tvisible: compileExpression(\n\t\t\t\t\tand(\n\t\t\t\t\t\tnot(equal(getExpressionFromAnnotation(dataField.annotations?.UI?.Hidden), true)),\n\t\t\t\t\t\tnot(equal(pathInModel(\"shellNavigationNotAvailable\", \"internal\"), true))\n\t\t\t\t\t)\n\t\t\t\t),\n\t\t\t\tenabled:\n\t\t\t\t\tdataField.NavigationAvailable !== undefined\n\t\t\t\t\t\t? compileExpression(equal(getExpressionFromAnnotation(dataField.NavigationAvailable), true))\n\t\t\t\t\t\t: true,\n\t\t\t\tkey: KeyHelper.generateKeyFromDataField(dataField),\n\t\t\t\tisNavigable: true,\n\t\t\t\tpress: compileExpression(\n\t\t\t\t\tfn(\"._intentBasedNavigation.navigate\", [\n\t\t\t\t\t\tgetExpressionFromAnnotation(dataField.SemanticObject),\n\t\t\t\t\t\tgetExpressionFromAnnotation(dataField.Action),\n\t\t\t\t\t\toNavigationParams\n\t\t\t\t\t])\n\t\t\t\t),\n\t\t\t\tcustomData: compileExpression({\n\t\t\t\t\tsemanticObject: getExpressionFromAnnotation(dataField.SemanticObject),\n\t\t\t\t\taction: getExpressionFromAnnotation(dataField.Action)\n\t\t\t\t})\n\t\t\t} as AnnotationAction);\n\t\t});\n\t// Finally the non critical DataFieldForActions and DataFieldForActionGroups\n\tcomputeActionsAndActionGroups(headerActions, false, headerDataFieldForActions, converterContext);\n\n\treturn headerActions;\n}\n\nexport function getHiddenHeaderActions(converterContext: ConverterContext<PageContextPathTarget>): BaseAction[] {\n\tconst entityType = converterContext.getEntityType();\n\tconst hiddenActions = (entityType.annotations?.UI?.Identification?.filter((identificationDataField) => {\n\t\treturn identificationDataField?.annotations?.UI?.Hidden?.valueOf() === true;\n\t}) || []) as DataFieldForActionTypes[];\n\treturn hiddenActions.map((dataField) => {\n\t\treturn {\n\t\t\ttype: ActionType.Default,\n\t\t\tkey: KeyHelper.generateKeyFromDataField(dataField)\n\t\t};\n\t});\n}\n\nexport function getFooterDefaultActions(viewLevel: number, converterContext: ConverterContext<PageContextPathTarget>): BaseAction[] {\n\tconst entitySet = converterContext.getEntitySet();\n\tconst entityType = converterContext.getEntityType();\n\tconst stickySessionSupported = ModelHelper.getStickySession(entitySet), //for sticky app\n\t\tentitySetDraftRoot =\n\t\t\tisEntitySet(entitySet) &&\n\t\t\t(entitySet.annotations.Common?.DraftRoot?.term ?? entitySet.annotations.Session?.StickySessionSupported?.term),\n\t\tconditionSave = Boolean(\n\t\t\tentitySetDraftRoot === CommonAnnotationTerms.DraftRoot || (stickySessionSupported && stickySessionSupported?.SaveAction)\n\t\t),\n\t\tconditionApply = viewLevel > 1,\n\t\tconditionCancel = Boolean(\n\t\t\tentitySetDraftRoot === CommonAnnotationTerms.DraftRoot || (stickySessionSupported && stickySessionSupported?.DiscardAction)\n\t\t);\n\n\t// Retrieve all determining actions\n\tconst footerDataFieldForActions = getIdentificationDataFieldForActions(converterContext.getEntityType(), true);\n\n\t// First add the \"Critical\" DataFieldForActions\n\tconst footerActions: BaseAction[] = footerDataFieldForActions\n\t\t.filter((dataField) => {\n\t\t\tconst criticality = compileExpression(getExpressionFromAnnotation(dataField?.Criticality));\n\t\t\treturn criticality && IMPORTANT_CRITICALITIES.includes(criticality);\n\t\t})\n\t\t.map((dataField) => {\n\t\t\treturn getDataFieldAnnotationAction(dataField, converterContext);\n\t\t});\n\n\t// Then the save action if it exists\n\tif (entitySet?.entityTypeName === entityType?.fullyQualifiedName && conditionSave) {\n\t\tfooterActions.push({ type: ActionType.Primary, key: \"SaveAction\" });\n\t}\n\n\t// Then the apply action if it exists\n\tif (conditionApply) {\n\t\tfooterActions.push({ type: ActionType.DefaultApply, key: \"ApplyAction\" });\n\t}\n\n\t// Then the non critical DataFieldForActions\n\tfooterDataFieldForActions\n\t\t.filter((dataField) => {\n\t\t\tconst criticality = compileExpression(getExpressionFromAnnotation(dataField?.Criticality));\n\t\t\treturn criticality && !IMPORTANT_CRITICALITIES.includes(criticality);\n\t\t})\n\t\t.forEach((dataField) => {\n\t\t\tfooterActions.push(getDataFieldAnnotationAction(dataField, converterContext));\n\t\t});\n\n\t// Then the cancel action if it exists\n\tif (conditionCancel) {\n\t\tfooterActions.push({\n\t\t\ttype: ActionType.Secondary,\n\t\t\tkey: \"CancelAction\",\n\t\t\tposition: { placement: Placement.End }\n\t\t});\n\t}\n\treturn footerActions;\n}\n\nfunction getDataFieldAnnotationAction(\n\tdataField: DataFieldForActionTypes,\n\tconverterContext: ConverterContext<PageContextPathTarget>\n): AnnotationAction {\n\tconst isVisibleExp = isVisible(dataField);\n\treturn {\n\t\ttype: ActionType.DataFieldForAction,\n\t\tannotationPath: converterContext.getEntitySetBasedAnnotationPath(dataField.fullyQualifiedName),\n\t\tkey: KeyHelper.generateKeyFromDataField(dataField),\n\t\tvisible: compileExpression(isVisibleExp),\n\t\tenabled: getEnabledForAnnotationAction(converterContext, dataField.ActionTarget),\n\t\tisNavigable: true\n\t};\n}\n\n/**\n * Adds actions and action groups to the headerActions array, prioritizing them according to their criticality.\n * @param headerActions Array with all the current header actions in it\n * @param prioritizeCriticality Flag to determine the priority of the criticality action or actionGroups inside headerActions\n * @param headerDataFieldForActionsOrGroups All actions and action groups from the identification annotation with CopyAction filtered out\n * @param converterContext Instance of the converter context\n */\nfunction computeActionsAndActionGroups(\n\theaderActions: BaseAction[],\n\tprioritizeCriticality: boolean,\n\theaderDataFieldForActionsOrGroups: (DataFieldForActionTypes | DataFieldForActionGroupTypes)[],\n\tconverterContext: ConverterContext<PageContextPathTarget>\n): void {\n\theaderDataFieldForActionsOrGroups\n\t\t.filter((dataField) => {\n\t\t\tconst criticality = compileExpression(getExpressionFromAnnotation(dataField?.Criticality));\n\t\t\treturn prioritizeCriticality ? IMPORTANT_CRITICALITIES.includes(criticality!) : !IMPORTANT_CRITICALITIES.includes(criticality!);\n\t\t})\n\t\t.forEach((dataField) => {\n\t\t\tif (dataField.$Type === UIAnnotationTypes.DataFieldForAction) {\n\t\t\t\theaderActions.push(getDataFieldAnnotationAction(dataField, converterContext));\n\t\t\t} else if (dataField.$Type === UIAnnotationTypes.DataFieldForActionGroup) {\n\t\t\t\theaderActions.push({\n\t\t\t\t\ttype: ActionType.Menu,\n\t\t\t\t\ttext: dataField.Label as string,\n\t\t\t\t\tkey: KeyHelper.generateKeyFromDataField(dataField),\n\t\t\t\t\tid: KeyHelper.generateKeyFromDataField(dataField),\n\t\t\t\t\tvisible: compileExpression(not(equal(getExpressionFromAnnotation(dataField.annotations?.UI?.Hidden), true))),\n\t\t\t\t\tmenu: dataField.Actions.map((action) =>\n\t\t\t\t\t\tgetDataFieldAnnotationAction(action as DataFieldForActionTypes, converterContext)\n\t\t\t\t\t)\n\t\t\t\t});\n\t\t\t}\n\t\t});\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;EA2CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EACO,SAASA,oCAAoCA,CAACC,UAAsB,EAAEC,mBAA4B,EAA6B;IACrI,OAAQD,UAAU,CAACE,WAAW,EAAEC,EAAE,EAAEC,cAAc,EAAEC,MAAM,CAAEC,uBAAuB,IAAK;MACvF,OAAOA,uBAAuB,CAACC,KAAK,oDAAyC,IAC5EC,OAAO,CAACF,uBAAuB,CAACG,WAAW,EAAEC,OAAO,CAAC,CAAC,CAAC,KAAKT,mBAAmB,KAC9EK,uBAAuB,CAACK,YAAY,EAAEC,OAAO,EAAEF,OAAO,CAAC,CAAC,KAAK,IAAI,IACjEJ,uBAAuB,EAAEK,YAAY,EAAET,WAAW,EAAEW,IAAI,EAAEC,kBAAkB,EAAEJ,OAAO,CAAC,CAAC,KAAK,KAAK,CAAC,GACjG,IAAI,GACJ,KAAK;IACT,CAAC,CAAC,IAAI,EAAE;EACT;;EAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EAPAK,QAAA,CAAAhB,oCAAA,GAAAA,oCAAA;EAQO,SAASiB,4CAA4CA,CAC3DhB,UAAsB,EACtBC,mBAA4B,EACQ;IACpC,OAAQD,UAAU,CAACE,WAAW,EAAEC,EAAE,EAAEC,cAAc,EAAEC,MAAM,CAAEC,uBAAuB,IAAK;MACvF,OAAQA,uBAAuB,CAACC,KAAK,oDAAyC,IAC7EC,OAAO,CAACF,uBAAuB,CAACG,WAAW,EAAEC,OAAO,CAAC,CAAC,CAAC,KAAKT,mBAAmB,KAC9EK,uBAAuB,CAACK,YAAY,EAAEC,OAAO,EAAEF,OAAO,CAAC,CAAC,KAAK,IAAI,IACjEJ,uBAAuB,EAAEK,YAAY,EAAET,WAAW,EAAEW,IAAI,EAAEC,kBAAkB,EAAEJ,OAAO,CAAC,CAAC,KAAK,KAAK,CAAC,IACnGJ,uBAAuB,CAACC,KAAK,yDAA8C,GACzE,IAAI,GACJ,KAAK;IACT,CAAC,CAAC,IAAI,EAAE;EACT;;EAEA;AACA;AACA;AACA;AACA;AACA;EALAQ,QAAA,CAAAC,4CAAA,GAAAA,4CAAA;EAMA,SAASC,uCAAuCA,CAC/CjB,UAAsB,EACtBC,mBAA4B,EACe;IAC3C,OAAQD,UAAU,CAACE,WAAW,EAAEC,EAAE,EAAEC,cAAc,EAAEC,MAAM,CAAEC,uBAAuB,IAAK;MACvF,OAAOA,uBAAuB,CAACC,KAAK,mEAAwD,IAC3FC,OAAO,CAACF,uBAAuB,CAACG,WAAW,EAAEC,OAAO,CAAC,CAAC,CAAC,KAAKT,mBAAmB,GAC7E,IAAI,GACJ,KAAK;IACT,CAAC,CAAC,IAAI,EAAE;EACT;EAEO,MAAMiB,uBAAuB,GAAG,CACtC,iCAAiC,EACjC,6BAA6B,EAC7B,6BAA6B,EAC7B,iCAAiC,CACjC;;EAED;AACA;AACA;AACA;AACA;AACA;EALAH,QAAA,CAAAG,uBAAA,GAAAA,uBAAA;EAMO,SAASC,yBAAyBA,CACxCC,gBAAyD,EACzDC,YAAsC,EACF;IACpC,MAAMC,mBAAmB,GAAGF,gBAAgB,CAACG,sBAAsB,CAAC,CAAC;MACpEC,sBAAsB,GAAGF,mBAAmB,CAACG,oBAAoB,CAACC,GAAG,CAAEC,OAAO,IAAKA,OAAO,CAACC,IAAI,CAAC;MAChG;MACA;MACAC,sBAAsB,GAAGC,2BAA2B,CAACT,YAAY,EAAEG,sBAAsB,EAAE,KAAK,EAAGO,IAAY,IAC9GC,oBAAoB,CAACD,IAAI,EAAEX,gBAAgB,CAACa,iBAAiB,CAAC,CAAC,EAAE,EAAE,CACpE,CAAC;MAAE;MACHC,eAAe,GAAGd,gBAAgB,CAACe,kBAAkB,CAAC,CAAC;MACvDC,SAAS,GAAGF,eAAe,CAACG,YAAY,CAAC,CAAC;MAC1C;MACA;MACA;MACAC,kBAAqD,GAAGF,SAAS,GAAG,CAAC,GAAGjC,EAAE,CAACoC,UAAU,GAAGC,GAAG,CAACrC,EAAE,CAACoC,UAAU,CAAC;;IAE3G;IACA;IACA;IACA;IACA,OAAOE,MAAM,CACZpB,YAAY,KAAKqB,SAAS,IAAIrB,YAAY,CAACX,OAAO,CAAC,CAAC,KAAK,KAAK,EAC9D4B,kBAAkB,EAClBK,GAAG,CAACL,kBAAkB,EAAEM,KAAK,CAACf,sBAAsB,EAAE,KAAK,CAAC,CAC7D,CAAC;EACF;;EAEA;AACA;AACA;AACA;AACA;AACA;AACA;EANAd,QAAA,CAAAI,yBAAA,GAAAA,yBAAA;EAOO,SAAS0B,sBAAsBA,CACrCC,WAAyD,EACzDC,iBAAoD,EACpD3B,gBAAyD,EACrB;IACpC,MAAM4B,SAAS,GAAG5B,gBAAgB,CAAC6B,YAAY,CAAC,CAAC;MAChDC,WAAW,GAAGC,WAAW,CAACD,WAAW,CAACF,SAAS,CAAC;IAEjD,IAAII,GAAG,GAAGX,MAAM,CACfM,iBAAiB,KAAKL,SAAS,EAC/BK,iBAAiB,EACjBN,MAAM,CAACK,WAAW,KAAKJ,SAAS,EAAEE,KAAK,CAACd,2BAA2B,CAACgB,WAAW,CAAC,EAAE,IAAI,CAAC,EAAEO,QAAQ,CAAC,IAAI,CAAC,CACxG,CAAC;;IAED;IACAD,GAAG,GAAGF,WAAW,GAAGP,GAAG,CAACS,GAAG,EAAEZ,GAAG,CAACc,WAAW,CAAC,yCAAyC,CAAC,CAAC,CAAC,GAAGF,GAAG;IAE/F,OAAOA,GAAG;EACX;;EAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EARArC,QAAA,CAAA8B,sBAAA,GAAAA,sBAAA;EASO,SAASU,uBAAuBA,CACtCnC,gBAAyD,EACzDoC,gBAA0C,EAC1CC,oBAA6D,EAC7DC,YAAuC,EACvCtB,SAA8B,EACM;IACpC,MAAMuB,aAAa,GAAGF,oBAAoB,EAAER,YAAY,CAAC,CAAC;MACzDD,SAAS,GAAG5B,gBAAgB,CAAC6B,YAAY,CAAC,CAAC;MAC3CW,YAAY,GAAGxC,gBAAgB,CAACe,kBAAkB,CAAC,CAAC,CAAC0B,YAAY,CAAC,CAAC;IACpE,IAAIC,cAAc;IAClB,MAAMC,0BAA0B,GAAGC,mBAAmB,CAACP,oBAAoB,EAAED,gBAAgB,CAAC;IAC9F,IAAIpB,SAAS,IAAIA,SAAS,GAAG,CAAC,EAAE;MAC/B;MACA0B,cAAc,GAAGX,WAAW,CAACc,WAAW,CAACjB,SAAS,CAAC;IACpD,CAAC,MAAM;MACNc,cAAc,GAAGX,WAAW,CAACD,WAAW,CAACS,aAAa,CAAC;IACxD;IACA,MAAMO,sBAAsB,GAAGF,mBAAmB,CAACP,oBAAoB,EAAEC,YAAY,CAAC;IAEtF,MAAMS,qBAAwD,GAAG3B,GAAG,CAACrC,EAAE,CAACoC,UAAU,CAAC;;IAEnF;IACA;IACA;IACA;IACA,MAAM6B,mBAAsD,GAAG3B,MAAM,CACnEL,SAAS,GAAc,CAAC,EACzBK,MAAM,CACLiB,YAAY,KAAKhB,SAAS,IAAIgB,YAAY,CAAChD,OAAO,CAAC,CAAC,KAAK,KAAK,EAC9DiC,GAAG,CACFwB,qBAAqB,EACrBvB,KAAK,CAACU,WAAW,CAAC,iBAAiB,EAAE,UAAU,CAAC,EAAE,IAAI,CAAC,EACvDb,MAAM,CAACmB,YAAY,EAAEhB,KAAK,CAACU,WAAW,CAAC,iBAAiB,EAAE,WAAW,CAAC,EAAE,IAAI,CAAC,EAAE,IAAI,CACpF,CAAC,EACDX,GAAG,CACFwB,qBAAqB,EACrBvB,KAAK,CAACsB,sBAAsB,EAAE,KAAK,CAAC,EACpCtB,KAAK,CAACU,WAAW,CAAC,iBAAiB,EAAE,UAAU,CAAC,EAAE,IAAI,CAAC,EACvDb,MAAM,CAACmB,YAAY,EAAEhB,KAAK,CAACU,WAAW,CAAC,iBAAiB,EAAE,WAAW,CAAC,EAAE,IAAI,CAAC,EAAE,IAAI,CACpF,CACD,CAAC,EACDb,MAAM,CACLe,gBAAgB,KAAKd,SAAS,IAAIc,gBAAgB,CAAC9C,OAAO,CAAC,CAAC,KAAK,KAAK,EACtEyD,qBAAqB,EACrBxB,GAAG,CAACwB,qBAAqB,EAAEvB,KAAK,CAACmB,0BAA0B,EAAE,KAAK,CAAC,CACpE,CACD,CAAC;IACD,OAAOtB,MAAM,CAACqB,cAAc,EAAEnB,GAAG,CAACyB,mBAAmB,EAAEC,KAAK,CAACC,wBAAwB,CAAC,EAAEF,mBAAmB,CAAC;EAC7G;EAACrD,QAAA,CAAAwC,uBAAA,GAAAA,uBAAA;EAEM,SAASS,mBAAmBA,CAClC5C,gBAAyD,EACzDsC,YAAsC,EACF;IACpC,MAAMpC,mBAAmB,GAAGF,gBAAgB,CAACG,sBAAsB,CAAC,CAAC;MACpEC,sBAAsB,GAAGF,mBAAmB,CAACG,oBAAoB,CAACC,GAAG,CAAEC,OAAO,IAAKA,OAAO,CAACC,IAAI,CAAC;MAChG;MACA;MACAsC,sBAAsB,GAAGpC,2BAA2B,CAAC4B,YAAY,EAAElC,sBAAsB,EAAE,KAAK,EAAGO,IAAY,IAC9GC,oBAAoB,CAACD,IAAI,EAAEX,gBAAgB,CAACa,iBAAiB,CAAC,CAAC,EAAET,sBAAsB,CACxF,CAAC;IACF,OAAO0C,sBAAsB;EAC9B;EACA;AACA;AACA;AACA;AACA;AACA;AACA;EANAnD,QAAA,CAAAiD,mBAAA,GAAAA,mBAAA;EAOO,SAASO,oBAAoBA,CACnCnD,gBAAyD,EACzDoD,kBAAqD,EACrDpC,SAA8B,EACK;IACnC,MAAMY,SAAS,GAAG5B,gBAAgB,CAAC6B,YAAY,CAAC,CAAC;MAChDC,WAAW,GAAGC,WAAW,CAACD,WAAW,CAACF,SAAS,CAAC;MAChDyB,QAAQ,GAAGtB,WAAW,CAACsB,QAAQ,CAACzB,SAAS,CAAC;IAC3C,IAAI0B,cAAkC;IACtC,IAAIxB,WAAW,IAAIyB,WAAW,CAAC3B,SAAS,CAAC,EAAE;MAC1C0B,cAAc,GAAG1B,SAAS,CAAC9C,WAAW,CAAC0E,MAAM,EAAEC,SAAS,EAAEC,UAAoB;IAC/E,CAAC,MAAM,IAAIL,QAAQ,IAAIE,WAAW,CAAC3B,SAAS,CAAC,EAAE;MAC9C0B,cAAc,GAAG1B,SAAS,CAAC9C,WAAW,CAAC6E,OAAO,EAAEC,sBAAsB,EAAEF,UAAoB;IAC7F;IACA,IAAIJ,cAAc,EAAE;MACnB,MAAMO,wBAAwB,GAAG7D,gBAAgB,CAAC8D,yBAAyB,CAACR,cAAc,CAAC;MAC3F,MAAMS,UAAU,GAAG/D,gBAAgB,CAACgE,mBAAmB,CAACH,wBAAwB,CAAC,CAACI,MAAuB;MACzG,IAAIF,UAAU,EAAEjF,WAAW,EAAEW,IAAI,EAAEC,kBAAkB,KAAK,IAAI,EAAE;QAC/D;QACA;MAAA,CACA,MAAM,IAAKsB,SAAS,GAAc,CAAC,EAAE;QACrC;QACA,IAAIoC,kBAAkB,KAAK9B,SAAS,EAAE;UACrC,OAAO4C,iBAAiB,CACvB3C,GAAG,CACFC,KAAK,CAACd,2BAA2B,CAAC0C,kBAAkB,CAAC,EAAE,IAAI,CAAC,EAC5D5B,KAAK,CAACU,WAAW,CAAC,iBAAiB,EAAE,UAAU,CAAC,EAAE,IAAI,CACvD,CACD,CAAC;QACF,CAAC,MAAM;UACN,OAAOgC,iBAAiB,CAAC1C,KAAK,CAACU,WAAW,CAAC,iBAAiB,EAAE,UAAU,CAAC,EAAE,IAAI,CAAC,CAAC;QAClF;MACD,CAAC,MAAM;QACN,OAAOiC,6BAA6B,CAACnE,gBAAgB,EAAE+D,UAAU,IAAIzC,SAAS,CAAC;MAChF;IACD;IACA,OAAO,MAAM;EACd;EAAC3B,QAAA,CAAAwD,oBAAA,GAAAA,oBAAA;EAEM,SAASiB,uBAAuBA,CAACpE,gBAAyD,EAAgB;IAChH,MAAMqE,YAAY,GAAGrE,gBAAgB,CAACsE,cAAc,CAAC,CAAC;IACtD,MAAMC,iBAAiB,GAAGxC,WAAW,CAACyC,oBAAoB,CAACH,YAAY,CAAC;IACxE,MAAMhC,oBAAoB,GAAGrC,gBAAgB,CAACyE,sBAAsB,CAAwB,GAAG,GAAGF,iBAAiB,CAAC;IACpH,MAAM3C,SAAS,GAAG5B,gBAAgB,CAAC6B,YAAY,CAAC,CAAC;MAChDjD,UAAU,GAAGoB,gBAAgB,CAAC0E,aAAa,CAAC,CAAC;MAC7CnC,aAAa,GAAGF,oBAAoB,CAACR,YAAY,CAAC,CAAC;MACnD8C,cAAc,GAAGtC,oBAAoB,CAACqC,aAAa,CAAC,CAAC;MACrDE,sBAAsB,GAAG7C,WAAW,CAAC8C,gBAAgB,CAACtC,aAAa,CAAC;MAAE;MACtEuC,SAAS,GAAG/C,WAAW,CAACgD,YAAY,CAACxC,aAAa,CAAC;MAAE;MACrDyC,SAAS,GAAGjD,WAAW,CAACkD,YAAY,CAAC1C,aAAa,CAAC;MACnD2C,wBAAwB,GAAGtD,SAAS,IAAIA,SAAS,CAAC9C,WAAW,EAAEqG,YAAY,EAAEC,kBAAkB;MAC/FhD,gBAAgB,GAAGL,WAAW,CAACsD,cAAc,CAAC9C,aAAa,EAAEoC,cAAc,CAAC;MAC5ErC,YAAY,GAAGC,aAAa,IAAIgB,WAAW,CAAChB,aAAa,CAAC,IAAIH,gBAAgB,EAAE9C,OAAO,CAAC,CAAC;MACzFY,mBAAmB,GAAGF,gBAAgB,CAACG,sBAAsB,CAAC,CAAC;MAC/DwB,iBAAiB,GAAG2D,eAAe,CAACpF,mBAAmB,EAAE;QACxDqF,WAAW,EAAEA,CAAC5E,IAAY,EAAE6E,eAAyB,KACpD5E,oBAAoB,CAACD,IAAI,EAAEX,gBAAgB,CAACa,iBAAiB,CAAC,CAAC,EAAE2E,eAAe;MAClF,CAAC,CAAC;MACFC,wBAAwB,GAAG9D,iBAAiB,GAAGuC,iBAAiB,CAACvC,iBAAiB,CAAC,GAAGA,iBAAiB;MACvG+D,iCAAiC,GAAG9F,4CAA4C,CAACI,gBAAgB,CAAC0E,aAAa,CAAC,CAAC,EAAE,KAAK,CAAC;IAE1H,MAAMiB,aAAa,GAClB3F,gBAAgB,CAACe,kBAAkB,CAAC,CAAC,CAACE,YAAY,CAAC,CAAC,KAAK,CAAC,GACvD2E,aAAa,CACbF,iCAAiC,CAACzG,MAAM,CAAE4G,SAAS,IAAK;MACvD,IAAIA,SAAS,CAAC1G,KAAK,oDAAyC,EAAE;QAC7D,OAAO2G,qBAAqB,CAACD,SAAS,CAAC;MACxC;IACD,CAAC,CACD,CAAC,GACDvE,SAAS;IAEb,MAAMyE,yBAAyB,GAAGL,iCAAiC,CAACzG,MAAM,CAAE4G,SAAS,IAAK;MACzF,OAAO,CAACC,qBAAqB,CAACD,SAAoC,CAAC;IACpE,CAAC,CAAC;;IAEF;IACA;IACA;IACA;IACA;IACA,MAAMG,aAA2B,GAAG,EAAE;IACtC,IAAIzC,WAAW,CAAC3B,SAAS,CAAC,IAAIkD,SAAS,EAAEpB,UAAU,IAAIpB,YAAY,KAAK,IAAI,EAAE;MAC7E0D,aAAa,CAACC,IAAI,CAAC;QAAEC,IAAI,EAAEC,UAAU,CAACC,YAAY;QAAEC,GAAG,EAAE;MAAe,CAAC,CAAC;IAC3E;IAEA,MAAMrF,SAAS,GAAGhB,gBAAgB,CAACe,kBAAkB,CAAC,CAAC,CAACE,YAAY,CAAC,CAAC;IACtE,MAAMqF,qBAAqB,GAAGtF,SAAS,GAAG,CAAC,GAAGY,SAAS,EAAE9C,WAAW,CAACqG,YAAY,EAAEoB,kBAAkB,EAAEC,SAAS,GAAGlF,SAAS;IAC5H,IAAIwD,SAAS,IAAIE,SAAS,EAAE;MAC3BgB,aAAa,CAACC,IAAI,CAAC;QAAEC,IAAI,EAAEC,UAAU,CAACM,oBAAoB;QAAEJ,GAAG,EAAE;MAAuB,CAAC,CAAC;IAC3F;IACA;IACA;IACAK,6BAA6B,CAACV,aAAa,EAAE,IAAI,EAAED,yBAAyB,EAAE/F,gBAAgB,CAAC;;IAE/F;IACA,IAAI,CAAC8E,SAAS,EAAEpB,UAAU,IAAIkB,sBAAsB,EAAElB,UAAU,KAAKpB,YAAY,KAAK,IAAI,EAAE;MAC3F0D,aAAa,CAACC,IAAI,CAAC;QAClBC,IAAI,EAAEC,UAAU,CAACQ,OAAO;QACxBN,GAAG,EAAE,YAAY;QACjBO,OAAO,EAAE1C,iBAAiB,CACzB/B,uBAAuB,CACtBnC,gBAAgB,EAChBoC,gBAAgB,EAChBC,oBAAoB,EACpBN,WAAW,CAACsD,cAAc,CAACzD,SAAS,EAAEhD,UAAU,CAAC,EACjDoC,SACD,CACD,CAAC;QACD6F,OAAO,EAAE1D,oBAAoB,CAACd,oBAAoB,EAAEiE,qBAAqB,EAAEtF,SAAS;MACrF,CAAC,CAAC;IACH;IACA;IACA,IACEyE,wBAAwB,IAAIA,wBAAwB,KAAK,OAAO,IAChEP,wBAAwB,EAAE4B,SAAS,EAAExH,OAAO,CAAC,CAAC,KAAK,KAAK,IAAImG,wBAAwB,KAAK,OAAQ,EACjG;MACD,MAAMxF,YAAY,GAAG8B,WAAW,CAACgF,eAAe,CAACnF,SAAS,EAAEhD,UAAU,CAAC;MACvEoH,aAAa,CAACC,IAAI,CAAC;QAClBC,IAAI,EAAEC,UAAU,CAACa,SAAS;QAC1BX,GAAG,EAAE,cAAc;QACnBO,OAAO,EAAE1C,iBAAiB,CAACnE,yBAAyB,CAACC,gBAAgB,EAAEC,YAAY,CAAC,CAAC;QACrF4G,OAAO,EAAE3C,iBAAiB,CAACzC,sBAAsB,CAACyD,wBAAwB,EAAE4B,SAAS,EAAEnF,iBAAiB,EAAE3B,gBAAgB,CAAC,CAAC;QAC5HiH,yBAAyB,EAAExB;MAC5B,CAAC,CAAC;IACH;IAEA,IAAIE,aAAa,EAAE;MAClBK,aAAa,CAACC,IAAI,CAAC;QAClB,GAAGiB,4BAA4B,CAACvB,aAAa,EAAE3F,gBAAgB,CAAC;QAChEkG,IAAI,EAAEC,UAAU,CAACgB,IAAI;QACrBC,IAAI,EAAEzB,aAAa,CAAC0B,KAAK,EAAEC,QAAQ,CAAC,CAAC,IAAIC,OAAO,CAACC,oBAAoB,CAAC,aAAa,CAAC,CAAEC,OAAO,CAAC,eAAe;MAC9G,CAAC,CAAC;IACH;IAEA,MAAMC,4BAA4B,GAAG7H,uCAAuC,CAACG,gBAAgB,CAAC0E,aAAa,CAAC,CAAC,EAAE,KAAK,CAAC;IAErHgD,4BAA4B,CAC1BzI,MAAM,CAAE4G,SAAS,IAAK;MACtB,MAAM8B,WAAW,GAAGzD,iBAAiB,CAACxD,2BAA2B,CAACmF,SAAS,EAAE+B,WAAW,CAAC,CAAC;MAC1F,OAAO,CAAC9H,uBAAuB,CAAC+H,QAAQ,CAACF,WAAY,CAAC;IACvD,CAAC,CAAC,CACDG,OAAO,CAAEjC,SAAS,IAAK;MACvB,IAAIA,SAAS,CAACkC,eAAe,EAAEzI,OAAO,CAAC,CAAC,KAAK,IAAI,EAAE;QAClD,MAAM,IAAI0I,KAAK,CAAC,uEAAuEnC,SAAS,CAACwB,KAAK,EAAE,CAAC;MAC1G;MACA,IAAIxB,SAAS,CAACoC,MAAM,EAAE3I,OAAO,CAAC,CAAC,KAAK,IAAI,EAAE;QACzC,MAAM,IAAI0I,KAAK,CAAC,8DAA8DnC,SAAS,CAACwB,KAAK,EAAE,CAAC;MACjG;MACA,MAAMa,iBAAiB,GAAG;QACzBC,qBAAqB,EAAEC,wBAAwB,CAACvC,SAAS,CAACwC,OAAO;MAClE,CAAC;MAEDrC,aAAa,CAACC,IAAI,CAAC;QAClBC,IAAI,EAAEC,UAAU,CAACmC,iCAAiC;QAClDlB,IAAI,EAAEvB,SAAS,CAACwB,KAAK,EAAEC,QAAQ,CAAC,CAAC;QACjCiB,cAAc,EAAEvI,gBAAgB,CAACwI,+BAA+B,CAAC3C,SAAS,CAAC4C,kBAAkB,CAAC;QAC9FC,UAAU,EAAEC,UAAU,CAACC,KAAK;QAC5BhC,OAAO,EAAE1C,iBAAiB,CACzB3C,GAAG,CACFH,GAAG,CAACI,KAAK,CAACd,2BAA2B,CAACmF,SAAS,CAAC/G,WAAW,EAAEC,EAAE,EAAE8J,MAAM,CAAC,EAAE,IAAI,CAAC,CAAC,EAChFzH,GAAG,CAACI,KAAK,CAACU,WAAW,CAAC,6BAA6B,EAAE,UAAU,CAAC,EAAE,IAAI,CAAC,CACxE,CACD,CAAC;QACD2E,OAAO,EACNhB,SAAS,CAACiD,mBAAmB,KAAKxH,SAAS,GACxC4C,iBAAiB,CAAC1C,KAAK,CAACd,2BAA2B,CAACmF,SAAS,CAACiD,mBAAmB,CAAC,EAAE,IAAI,CAAC,CAAC,GAC1F,IAAI;QACRzC,GAAG,EAAE0C,SAAS,CAACC,wBAAwB,CAACnD,SAAS,CAAC;QAClDoD,WAAW,EAAE,IAAI;QACjBC,KAAK,EAAEhF,iBAAiB,CACvBiF,EAAE,CAAC,kCAAkC,EAAE,CACtCzI,2BAA2B,CAACmF,SAAS,CAACuD,cAAc,CAAC,EACrD1I,2BAA2B,CAACmF,SAAS,CAACwD,MAAM,CAAC,EAC7CnB,iBAAiB,CACjB,CACF,CAAC;QACDoB,UAAU,EAAEpF,iBAAiB,CAAC;UAC7BqF,cAAc,EAAE7I,2BAA2B,CAACmF,SAAS,CAACuD,cAAc,CAAC;UACrEI,MAAM,EAAE9I,2BAA2B,CAACmF,SAAS,CAACwD,MAAM;QACrD,CAAC;MACF,CAAqB,CAAC;IACvB,CAAC,CAAC;IACH;IACA3C,6BAA6B,CAACV,aAAa,EAAE,KAAK,EAAED,yBAAyB,EAAE/F,gBAAgB,CAAC;IAEhG,OAAOgG,aAAa;EACrB;EAACrG,QAAA,CAAAyE,uBAAA,GAAAA,uBAAA;EAEM,SAASqF,sBAAsBA,CAACzJ,gBAAyD,EAAgB;IAC/G,MAAMpB,UAAU,GAAGoB,gBAAgB,CAAC0E,aAAa,CAAC,CAAC;IACnD,MAAMgF,aAAa,GAAI9K,UAAU,CAACE,WAAW,EAAEC,EAAE,EAAEC,cAAc,EAAEC,MAAM,CAAEC,uBAAuB,IAAK;MACtG,OAAOA,uBAAuB,EAAEJ,WAAW,EAAEC,EAAE,EAAE8J,MAAM,EAAEvJ,OAAO,CAAC,CAAC,KAAK,IAAI;IAC5E,CAAC,CAAC,IAAI,EAAgC;IACtC,OAAOoK,aAAa,CAACpJ,GAAG,CAAEuF,SAAS,IAAK;MACvC,OAAO;QACNK,IAAI,EAAEC,UAAU,CAACwD,OAAO;QACxBtD,GAAG,EAAE0C,SAAS,CAACC,wBAAwB,CAACnD,SAAS;MAClD,CAAC;IACF,CAAC,CAAC;EACH;EAAClG,QAAA,CAAA8J,sBAAA,GAAAA,sBAAA;EAEM,SAASG,uBAAuBA,CAAC5I,SAAiB,EAAEhB,gBAAyD,EAAgB;IACnI,MAAM4B,SAAS,GAAG5B,gBAAgB,CAAC6B,YAAY,CAAC,CAAC;IACjD,MAAMjD,UAAU,GAAGoB,gBAAgB,CAAC0E,aAAa,CAAC,CAAC;IACnD,MAAME,sBAAsB,GAAG7C,WAAW,CAAC8C,gBAAgB,CAACjD,SAAS,CAAC;MAAE;MACvEiI,kBAAkB,GACjBtG,WAAW,CAAC3B,SAAS,CAAC,KACrBA,SAAS,CAAC9C,WAAW,CAAC0E,MAAM,EAAEC,SAAS,EAAEqG,IAAI,IAAIlI,SAAS,CAAC9C,WAAW,CAAC6E,OAAO,EAAEC,sBAAsB,EAAEkG,IAAI,CAAC;MAC/GC,aAAa,GAAG3K,OAAO,CACtByK,kBAAkB,+CAAoC,IAAKjF,sBAAsB,IAAIA,sBAAsB,EAAEoF,UAC9G,CAAC;MACDC,cAAc,GAAGjJ,SAAS,GAAG,CAAC;MAC9BkJ,eAAe,GAAG9K,OAAO,CACxByK,kBAAkB,+CAAoC,IAAKjF,sBAAsB,IAAIA,sBAAsB,EAAEuF,aAC9G,CAAC;;IAEF;IACA,MAAMC,yBAAyB,GAAGzL,oCAAoC,CAACqB,gBAAgB,CAAC0E,aAAa,CAAC,CAAC,EAAE,IAAI,CAAC;;IAE9G;IACA,MAAM2F,aAA2B,GAAGD,yBAAyB,CAC3DnL,MAAM,CAAE4G,SAAS,IAAK;MACtB,MAAM8B,WAAW,GAAGzD,iBAAiB,CAACxD,2BAA2B,CAACmF,SAAS,EAAE+B,WAAW,CAAC,CAAC;MAC1F,OAAOD,WAAW,IAAI7H,uBAAuB,CAAC+H,QAAQ,CAACF,WAAW,CAAC;IACpE,CAAC,CAAC,CACDrH,GAAG,CAAEuF,SAAS,IAAK;MACnB,OAAOqB,4BAA4B,CAACrB,SAAS,EAAE7F,gBAAgB,CAAC;IACjE,CAAC,CAAC;;IAEH;IACA,IAAI4B,SAAS,EAAE0I,cAAc,KAAK1L,UAAU,EAAE6J,kBAAkB,IAAIsB,aAAa,EAAE;MAClFM,aAAa,CAACpE,IAAI,CAAC;QAAEC,IAAI,EAAEC,UAAU,CAACQ,OAAO;QAAEN,GAAG,EAAE;MAAa,CAAC,CAAC;IACpE;;IAEA;IACA,IAAI4D,cAAc,EAAE;MACnBI,aAAa,CAACpE,IAAI,CAAC;QAAEC,IAAI,EAAEC,UAAU,CAACoE,YAAY;QAAElE,GAAG,EAAE;MAAc,CAAC,CAAC;IAC1E;;IAEA;IACA+D,yBAAyB,CACvBnL,MAAM,CAAE4G,SAAS,IAAK;MACtB,MAAM8B,WAAW,GAAGzD,iBAAiB,CAACxD,2BAA2B,CAACmF,SAAS,EAAE+B,WAAW,CAAC,CAAC;MAC1F,OAAOD,WAAW,IAAI,CAAC7H,uBAAuB,CAAC+H,QAAQ,CAACF,WAAW,CAAC;IACrE,CAAC,CAAC,CACDG,OAAO,CAAEjC,SAAS,IAAK;MACvBwE,aAAa,CAACpE,IAAI,CAACiB,4BAA4B,CAACrB,SAAS,EAAE7F,gBAAgB,CAAC,CAAC;IAC9E,CAAC,CAAC;;IAEH;IACA,IAAIkK,eAAe,EAAE;MACpBG,aAAa,CAACpE,IAAI,CAAC;QAClBC,IAAI,EAAEC,UAAU,CAACa,SAAS;QAC1BX,GAAG,EAAE,cAAc;QACnBmE,QAAQ,EAAE;UAAEC,SAAS,EAAEC,SAAS,CAACC;QAAI;MACtC,CAAC,CAAC;IACH;IACA,OAAON,aAAa;EACrB;EAAC1K,QAAA,CAAAiK,uBAAA,GAAAA,uBAAA;EAED,SAAS1C,4BAA4BA,CACpCrB,SAAkC,EAClC7F,gBAAyD,EACtC;IACnB,MAAM4K,YAAY,GAAGC,SAAS,CAAChF,SAAS,CAAC;IACzC,OAAO;MACNK,IAAI,EAAEC,UAAU,CAAC2E,kBAAkB;MACnCvC,cAAc,EAAEvI,gBAAgB,CAACwI,+BAA+B,CAAC3C,SAAS,CAAC4C,kBAAkB,CAAC;MAC9FpC,GAAG,EAAE0C,SAAS,CAACC,wBAAwB,CAACnD,SAAS,CAAC;MAClDe,OAAO,EAAE1C,iBAAiB,CAAC0G,YAAY,CAAC;MACxC/D,OAAO,EAAE1C,6BAA6B,CAACnE,gBAAgB,EAAE6F,SAAS,CAACtG,YAAY,CAAC;MAChF0J,WAAW,EAAE;IACd,CAAC;EACF;;EAEA;AACA;AACA;AACA;AACA;AACA;AACA;EACA,SAASvC,6BAA6BA,CACrCV,aAA2B,EAC3B+E,qBAA8B,EAC9BC,iCAA6F,EAC7FhL,gBAAyD,EAClD;IACPgL,iCAAiC,CAC/B/L,MAAM,CAAE4G,SAAS,IAAK;MACtB,MAAM8B,WAAW,GAAGzD,iBAAiB,CAACxD,2BAA2B,CAACmF,SAAS,EAAE+B,WAAW,CAAC,CAAC;MAC1F,OAAOmD,qBAAqB,GAAGjL,uBAAuB,CAAC+H,QAAQ,CAACF,WAAY,CAAC,GAAG,CAAC7H,uBAAuB,CAAC+H,QAAQ,CAACF,WAAY,CAAC;IAChI,CAAC,CAAC,CACDG,OAAO,CAAEjC,SAAS,IAAK;MACvB,IAAIA,SAAS,CAAC1G,KAAK,oDAAyC,EAAE;QAC7D6G,aAAa,CAACC,IAAI,CAACiB,4BAA4B,CAACrB,SAAS,EAAE7F,gBAAgB,CAAC,CAAC;MAC9E,CAAC,MAAM,IAAI6F,SAAS,CAAC1G,KAAK,yDAA8C,EAAE;QACzE6G,aAAa,CAACC,IAAI,CAAC;UAClBC,IAAI,EAAEC,UAAU,CAAC8E,IAAI;UACrB7D,IAAI,EAAEvB,SAAS,CAACwB,KAAe;UAC/BhB,GAAG,EAAE0C,SAAS,CAACC,wBAAwB,CAACnD,SAAS,CAAC;UAClDqF,EAAE,EAAEnC,SAAS,CAACC,wBAAwB,CAACnD,SAAS,CAAC;UACjDe,OAAO,EAAE1C,iBAAiB,CAAC9C,GAAG,CAACI,KAAK,CAACd,2BAA2B,CAACmF,SAAS,CAAC/G,WAAW,EAAEC,EAAE,EAAE8J,MAAM,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC;UAC5GsC,IAAI,EAAEtF,SAAS,CAACuF,OAAO,CAAC9K,GAAG,CAAEkJ,MAAM,IAClCtC,4BAA4B,CAACsC,MAAM,EAA6BxJ,gBAAgB,CACjF;QACD,CAAC,CAAC;MACH;IACD,CAAC,CAAC;EACJ;EAAC,OAAAL,QAAA;AAAA","ignoreList":[],"file":"HeaderAndFooterAction-dbg.js"}