{"version":3,"file":"StandardActions.js","names":["StandardActionKeys","Cut","Create","Delete","CreationRow","Paste","MassEdit","Insights","MoveUp","MoveDown","_exports","generateStandardActionsContext","converterContext","creationMode","tableManifestConfiguration","collectionPath","getTargetObjectPath","getDataModelObjectPath","hiddenAnnotation","create","isActionAnnotatedHidden","delete","update","isDraftOrStickySupported","newAction","getNewAction","restrictions","getRestrictions","dataModelObjectPath","bIsDraftSupported","ModelHelper","isObjectPathDraftSupported","bIsStickySessionSupported","startingEntitySet","annotations","Session","StickySessionSupported","currentEntitySet","getEntitySet","isEntitySet","Common","DraftRoot","NewAction","undefined","newActionName","toString","availableProperty","getEntityType","actions","Core","OperationAvailable","name","available","getExpressionFromAnnotation","sAnnotationTerm","bWithNavigationPath","arguments","length","actionAnnotationValue","isSingleton","UI","constant","visitedNavigationPaths","navigationProperties","map","navProp","path","singletonPathVisitor","getConvertedTypes","restrictionsDef","key","function","isPathInsertable","isPathUpdatable","isPathDeletable","result","forEach","def","defFunction","expression","apply","pathVisitor","navigationPaths","navigationExpression","ignoreTargetCollection","authorizeUnresolvable","getInsertUpdateActionsTemplating","standardActionsContext","isDraftOrSticky","CreationMode","External","getStandardActionCreate","createVisibility","getCreateVisibility","isTemplated","compileExpression","getCreateTemplating","visible","visibleExpression","enabled","getCreateEnablement","enabledForContextMenu","type","ActionType","Standard","getStandardActionCut","cutVisibility","getCutVisibility","getDefaultTemplating","getCutEnablement","getStandardActionMoveUpDown","forUp","canChangeSibling","Hierarchy","hierarchyQualifier","ChangeNextSiblingAction","moveVisibility","and","getMoveUpDownEnablement","getStandardActionDelete","deleteVisibility","getDeleteVisibility","getDeleteEnablement","getCreationRow","creationRowVisibility","getCreationRowEnablement","pathUpdatableExpression","isUpdatable","templateBindingExpression","getTemplateType","TemplateType","ListReport","IsEditable","ifElse","equal","isHierarchyParentNodeUpdatable","not","isConstant","getStandardActionPaste","isInsertUpdateActionsTemplated","pasteVisibility","getPasteVisibility","pasteEnablement","getPasteEnablement","pasteEnablementForContextMenu","getStandardActionMassEdit","massEditVisibility","getMassEditVisibility","visibleForContextMenu","pathInModel","getMassEditEnablement","getStandardActionInsights","visualizationPath","insightsVisibility","getInsightsVisibility","insightsEnablement","getInsightsEnablement","isForCreationRow","or","actionVisibility","isForPaste","isInsertable","isCreateHidden","InlineCreationRows","inlineCreationRowsHiddenInEditMode","IsCreateMode","isPathInModelExpression","isDeleteHidden","pathDeletableExpression","isDeletable","AnalyticalListPage","updateOnNavigation","_type","notEqual","enablePaste","includes","isUpdateHidden","massEditEnabledInManifest","massEdit","ObjectPage","restrictionsInsertable","indexOf","lastNav","partner","isNavigationProperty","disableAddRowButtonForEmptyData","formatResult","tableFormatters","validateCreationRowFields","forContextMenu","conditions","contextPath","push","CollectionType","resolveAbsolutePath","target","lessOrEqual","createEnablement","deletableContexts","unSavedContexts","draftsWithDeletableActive","draftsWithNonDeletableActive","greaterThan","numberOfSelectedContextsPath","isOnlyDynamicOnCurrentEntity","numberOfSelectedContextProperty","updatableContextProperty","numberOfSelectedContexts","greaterOrEqual","numberOfUpdatableContexts","bDisplayMode","isInDisplayMode","runtimeBinding","cutableContextsPath","moveUpDownVisibility","singleContextMovableUp","singleContextMovableDown","checkMultipleVisualization","templateType","getManifestWrapper","hasMultipleVisualizations"],"sources":["./StandardActions.ts"],"sourcesContent":["import type { Boolean, EntitySet } from \"@sap-ux/vocabularies-types\";\nimport type { BindingToolkitExpression, CompiledBindingToolkitExpression } from \"sap/fe/base/BindingToolkit\";\nimport {\n\tand,\n\tcompileExpression,\n\tconstant,\n\tequal,\n\tformatResult,\n\tgetExpressionFromAnnotation,\n\tgreaterOrEqual,\n\tgreaterThan,\n\tifElse,\n\tisConstant,\n\tisPathInModelExpression,\n\tlength,\n\tlessOrEqual,\n\tnot,\n\tnotEqual,\n\tor,\n\tpathInModel\n} from \"sap/fe/base/BindingToolkit\";\nimport type { PageContextPathTarget } from \"sap/fe/core/converters/TemplateConverter\";\nimport type { BaseAction } from \"sap/fe/core/converters/controls/Common/Action\";\nimport ModelHelper from \"sap/fe/core/helpers/ModelHelper\";\nimport { isEntitySet, isNavigationProperty, isSingleton } from \"sap/fe/core/helpers/TypeGuards\";\nimport { getTargetObjectPath, isPathDeletable, isPathInsertable, isPathUpdatable } from \"sap/fe/core/templating/DataModelPathHelper\";\n// eslint-disable-next-line @typescript-eslint/no-restricted-imports\nimport tableFormatters from \"sap/fe/macros/formatters/TableFormatter\";\nimport { UI, singletonPathVisitor } from \"../../../../helpers/BindingHelper\";\nimport type ConverterContext from \"../../../ConverterContext\";\nimport { ActionType, CreationMode, TemplateType } from \"../../../ManifestSettings\";\nimport { getInsightsEnablement, getInsightsVisibility } from \"../../../helpers/InsightsHelpers\";\nimport type { TableControlConfiguration } from \"../Table\";\n\nexport type StandardAction = BaseAction & {\n\ttype: ActionType.Standard;\n\tisTemplated?: CompiledBindingToolkitExpression;\n\tvisible: CompiledBindingToolkitExpression;\n\tvisibleExpression?: BindingToolkitExpression<boolean>;\n\tenabled: CompiledBindingToolkitExpression;\n\tenabledForContextMenu?: CompiledBindingToolkitExpression;\n};\n\ntype ExpressionRestrictionsType = {\n\texpression: BindingToolkitExpression<boolean>;\n\tnavigationExpression: BindingToolkitExpression<boolean>;\n};\ntype StandardActionsRestrictionsType = Record<string, ExpressionRestrictionsType>;\n\nexport type StandardActionsContext = {\n\tcollectionPath: string;\n\thiddenAnnotation: {\n\t\tcreate: BindingToolkitExpression<boolean>;\n\t\tdelete: BindingToolkitExpression<boolean>;\n\t\tupdate: BindingToolkitExpression<boolean>;\n\t};\n\tcreationMode: CreationMode;\n\tisDraftOrStickySupported: boolean;\n\tnewAction?: {\n\t\tname: string;\n\t\tavailable: BindingToolkitExpression<boolean>;\n\t};\n\ttableManifestConfiguration: TableControlConfiguration;\n\trestrictions: StandardActionsRestrictionsType;\n};\n\nexport const StandardActionKeys = {\n\tCut: \"StandardAction::Cut\",\n\tCreate: \"StandardAction::Create\",\n\tDelete: \"StandardAction::Delete\",\n\tCreationRow: \"StandardAction::CreationRow\",\n\tPaste: \"StandardAction::Paste\",\n\tMassEdit: \"StandardAction::MassEdit\",\n\tInsights: \"StandardAction::Insights\",\n\tMoveUp: \"StandardAction::MoveUp\",\n\tMoveDown: \"StandardAction::MoveDown\"\n};\n\n/**\n * Generates context for the standard actions.\n * @param converterContext\n * @param creationMode\n * @param tableManifestConfiguration\n * @returns  The context for table actions\n */\nexport function generateStandardActionsContext(\n\tconverterContext: ConverterContext<PageContextPathTarget>,\n\tcreationMode: CreationMode,\n\ttableManifestConfiguration: TableControlConfiguration\n): StandardActionsContext {\n\treturn {\n\t\tcollectionPath: getTargetObjectPath(converterContext.getDataModelObjectPath()),\n\t\thiddenAnnotation: {\n\t\t\tcreate: isActionAnnotatedHidden(converterContext, \"CreateHidden\"),\n\t\t\tdelete: isActionAnnotatedHidden(converterContext, \"DeleteHidden\"),\n\t\t\tupdate: isActionAnnotatedHidden(converterContext, \"UpdateHidden\")\n\t\t},\n\t\tcreationMode: creationMode,\n\t\tisDraftOrStickySupported: isDraftOrStickySupported(converterContext),\n\t\tnewAction: getNewAction(converterContext),\n\t\ttableManifestConfiguration: tableManifestConfiguration,\n\t\trestrictions: getRestrictions(converterContext)\n\t};\n}\n\n/**\n * Checks if sticky or draft is supported.\n * @param converterContext\n * @returns `true` if it is supported\n */\nexport function isDraftOrStickySupported(converterContext: ConverterContext<PageContextPathTarget>): boolean {\n\tconst dataModelObjectPath = converterContext.getDataModelObjectPath();\n\tconst bIsDraftSupported = ModelHelper.isObjectPathDraftSupported(dataModelObjectPath);\n\tconst bIsStickySessionSupported = (dataModelObjectPath.startingEntitySet as EntitySet)?.annotations?.Session?.StickySessionSupported\n\t\t? true\n\t\t: false;\n\n\treturn bIsDraftSupported || bIsStickySessionSupported;\n}\n\n/**\n * Gets the configured newAction into annotation.\n * @param converterContext\n * @returns The new action info\n */\nexport function getNewAction(\n\tconverterContext: ConverterContext<PageContextPathTarget>\n): { name: string; available: BindingToolkitExpression<boolean> } | undefined {\n\tconst currentEntitySet = converterContext.getEntitySet();\n\tconst newAction = isEntitySet(currentEntitySet)\n\t\t? currentEntitySet.annotations.Common?.DraftRoot?.NewAction ??\n\t\t  currentEntitySet.annotations.Session?.StickySessionSupported?.NewAction\n\t\t: undefined;\n\tconst newActionName: CompiledBindingToolkitExpression = newAction?.toString();\n\tif (newActionName) {\n\t\tconst availableProperty = converterContext?.getEntityType().actions[newActionName]?.annotations?.Core?.OperationAvailable;\n\t\treturn {\n\t\t\tname: newActionName,\n\t\t\tavailable: getExpressionFromAnnotation<Boolean>(availableProperty, [], true)\n\t\t};\n\t}\n\treturn undefined;\n}\n\n/**\n * Gets the binding expression for the action visibility configured into annotation.\n * @param converterContext\n * @param sAnnotationTerm\n * @param bWithNavigationPath\n * @returns The binding expression for the action visibility\n */\nexport function isActionAnnotatedHidden(\n\tconverterContext: ConverterContext<PageContextPathTarget>,\n\tsAnnotationTerm: \"CreateHidden\" | \"UpdateHidden\" | \"DeleteHidden\",\n\tbWithNavigationPath = true\n): BindingToolkitExpression<boolean> {\n\t// The annotations in question (CreateHidden, DeleteHidden, UpdateHidden) most specifically can be defined on EntitySet.\n\t// In several cases, fallback to EntityType needs to be checked:\n\t// - In case of singleton (annotations do not apply)\n\t// - EntitySet cannot be determined (containment or no navigationPropertyBinding)\n\t// - EntitySet can be determined, but the annotation is not defined there\n\n\tconst currentEntitySet = converterContext.getEntitySet();\n\tconst actionAnnotationValue =\n\t\t(!isSingleton(currentEntitySet) && currentEntitySet?.annotations.UI?.[sAnnotationTerm]) ||\n\t\tconverterContext.getEntityType().annotations.UI?.[sAnnotationTerm];\n\n\tif (!actionAnnotationValue) {\n\t\treturn constant(false);\n\t}\n\n\tconst dataModelObjectPath = converterContext.getDataModelObjectPath();\n\tconst visitedNavigationPaths =\n\t\tdataModelObjectPath.navigationProperties.length > 0 && bWithNavigationPath\n\t\t\t? dataModelObjectPath.navigationProperties.map((navProp) => navProp.name)\n\t\t\t: [];\n\n\treturn getExpressionFromAnnotation(actionAnnotationValue, visitedNavigationPaths, undefined, (path: string) =>\n\t\tsingletonPathVisitor(path, converterContext.getConvertedTypes(), visitedNavigationPaths)\n\t);\n}\n\n/**\n * Gets the annotated restrictions for the actions.\n * @param converterContext\n * @returns The restriction information\n */\nexport function getRestrictions(converterContext: ConverterContext<PageContextPathTarget>): StandardActionsRestrictionsType {\n\tconst dataModelObjectPath = converterContext.getDataModelObjectPath();\n\tconst restrictionsDef = [\n\t\t{\n\t\t\tkey: \"isInsertable\",\n\t\t\tfunction: isPathInsertable\n\t\t},\n\t\t{\n\t\t\tkey: \"isUpdatable\",\n\t\t\tfunction: isPathUpdatable\n\t\t},\n\t\t{\n\t\t\tkey: \"isDeletable\",\n\t\t\tfunction: isPathDeletable\n\t\t}\n\t];\n\tconst result: Record<string, ExpressionRestrictionsType> = {};\n\trestrictionsDef.forEach(function (def) {\n\t\tconst defFunction = def[\"function\"];\n\t\tresult[def.key] = {\n\t\t\texpression: defFunction.apply(null, [\n\t\t\t\tdataModelObjectPath,\n\t\t\t\t{\n\t\t\t\t\tpathVisitor: (path: string, navigationPaths: string[]) =>\n\t\t\t\t\t\tsingletonPathVisitor(path, converterContext.getConvertedTypes(), navigationPaths)\n\t\t\t\t}\n\t\t\t]),\n\t\t\tnavigationExpression: defFunction.apply(null, [\n\t\t\t\tdataModelObjectPath,\n\t\t\t\t{\n\t\t\t\t\tignoreTargetCollection: true,\n\t\t\t\t\tauthorizeUnresolvable: true,\n\t\t\t\t\tpathVisitor: (path: string, navigationPaths: string[]) =>\n\t\t\t\t\t\tsingletonPathVisitor(path, converterContext.getConvertedTypes(), navigationPaths)\n\t\t\t\t}\n\t\t\t])\n\t\t};\n\t});\n\treturn result;\n}\n\n/**\n * Checks if templating for insert/update actions is mandatory.\n * @param standardActionsContext\n * @param isDraftOrSticky\n * @returns True if we need to template insert or update actions, false otherwise\n */\nexport function getInsertUpdateActionsTemplating(standardActionsContext: StandardActionsContext, isDraftOrSticky: boolean): boolean {\n\treturn isDraftOrSticky || standardActionsContext.creationMode === CreationMode.External;\n}\n\n/**\n * Gets the binding expressions for the properties of the 'Create' action.\n * @param converterContext\n * @param standardActionsContext\n * @returns The standard action info\n */\nexport function getStandardActionCreate(\n\tconverterContext: ConverterContext<PageContextPathTarget>,\n\tstandardActionsContext: StandardActionsContext\n): StandardAction {\n\tconst createVisibility = getCreateVisibility(converterContext, standardActionsContext);\n\treturn {\n\t\tisTemplated: compileExpression(getCreateTemplating(standardActionsContext, createVisibility)),\n\t\tvisible: compileExpression(createVisibility),\n\t\tvisibleExpression: createVisibility,\n\t\tenabled: compileExpression(getCreateEnablement(converterContext, standardActionsContext, createVisibility)),\n\t\tenabledForContextMenu: compileExpression(getCreateEnablement(converterContext, standardActionsContext, createVisibility, true)),\n\t\tkey: StandardActionKeys.Create,\n\t\ttype: ActionType.Standard\n\t};\n}\n/**\n * Gets the binding expressions for the properties of the 'Cut' action.\n * @param converterContext\n * @param standardActionsContext\n * @returns The standard action info\n */\nexport function getStandardActionCut(\n\tconverterContext: ConverterContext<PageContextPathTarget>,\n\tstandardActionsContext: StandardActionsContext\n): StandardAction {\n\tconst cutVisibility = getCutVisibility(converterContext, standardActionsContext);\n\treturn {\n\t\tisTemplated: compileExpression(getDefaultTemplating(cutVisibility)),\n\t\tvisible: compileExpression(cutVisibility),\n\t\tenabled: compileExpression(getCutEnablement(cutVisibility, standardActionsContext, false)),\n\t\tenabledForContextMenu: compileExpression(getCutEnablement(cutVisibility, standardActionsContext, true)),\n\t\tkey: StandardActionKeys.Cut,\n\t\ttype: ActionType.Standard\n\t};\n}\n\n/**\n * Gets the binding expressions for the properties of the 'Move up' and 'Move down' actions.\n * @param converterContext\n * @param standardActionsContext\n * @param forUp\n * @returns The standard action info\n */\nexport function getStandardActionMoveUpDown(\n\tconverterContext: ConverterContext<PageContextPathTarget>,\n\tstandardActionsContext: StandardActionsContext,\n\tforUp: boolean\n): StandardAction {\n\tconst canChangeSibling =\n\t\tconverterContext.getEntityType().annotations.Hierarchy?.[\n\t\t\t`RecursiveHierarchyActions#${standardActionsContext.tableManifestConfiguration.hierarchyQualifier ?? \"\"}`\n\t\t]?.ChangeNextSiblingAction !== undefined;\n\tconst moveVisibility = and(getCutVisibility(converterContext, standardActionsContext), canChangeSibling);\n\treturn {\n\t\tisTemplated: compileExpression(getDefaultTemplating(moveVisibility)),\n\t\tvisible: compileExpression(moveVisibility),\n\t\tenabled: compileExpression(getMoveUpDownEnablement(moveVisibility, standardActionsContext, forUp)),\n\t\tenabledForContextMenu: compileExpression(getMoveUpDownEnablement(moveVisibility, standardActionsContext, forUp, true)),\n\t\tkey: forUp ? StandardActionKeys.MoveUp : StandardActionKeys.MoveDown,\n\t\ttype: ActionType.Standard\n\t};\n}\n\n/**\n * Gets the binding expressions for the properties of the 'Delete' action.\n * @param converterContext\n * @param standardActionsContext\n * @returns The binding expressions for the properties of the 'Delete' action.\n */\nexport function getStandardActionDelete(\n\tconverterContext: ConverterContext<PageContextPathTarget>,\n\tstandardActionsContext: StandardActionsContext\n): StandardAction {\n\tconst deleteVisibility = getDeleteVisibility(converterContext, standardActionsContext);\n\n\treturn {\n\t\tisTemplated: compileExpression(getDefaultTemplating(deleteVisibility)),\n\t\tvisible: compileExpression(deleteVisibility),\n\t\tenabled: compileExpression(getDeleteEnablement(converterContext, standardActionsContext, deleteVisibility, false)),\n\t\tenabledForContextMenu: compileExpression(getDeleteEnablement(converterContext, standardActionsContext, deleteVisibility, true)),\n\t\tkey: StandardActionKeys.Delete,\n\t\ttype: ActionType.Standard\n\t};\n}\n\n/**\n * Gets the binding expressions for the properties of the 'CreationRow' action.\n *\n * Note that this is not actually an action that is templated as a button but its properties are used to configure an MDC feature.\n * @param converterContext\n * @param standardActionsContext\n * @returns StandardAction\n */\nexport function getCreationRow(\n\tconverterContext: ConverterContext<PageContextPathTarget>,\n\tstandardActionsContext: StandardActionsContext\n): StandardAction {\n\tconst creationRowVisibility = getCreateVisibility(converterContext, standardActionsContext, true);\n\n\treturn {\n\t\tisTemplated: compileExpression(getCreateTemplating(standardActionsContext, creationRowVisibility, true)),\n\t\tvisible: compileExpression(creationRowVisibility),\n\t\tenabled: compileExpression(getCreationRowEnablement(converterContext, standardActionsContext, creationRowVisibility)),\n\t\tkey: StandardActionKeys.CreationRow,\n\t\ttype: ActionType.Standard\n\t};\n}\n\n/**\n * Gets the binding expression for the 'visible' property of the 'Cut' action.\n * @param converterContext\n * @param standardActionsContext\n * @returns The binding expression for the 'visible' property of the 'Cut' action.\n */\nexport function getCutVisibility(\n\tconverterContext: ConverterContext<PageContextPathTarget>,\n\tstandardActionsContext: StandardActionsContext\n): BindingToolkitExpression<boolean> {\n\tconst pathUpdatableExpression = standardActionsContext.restrictions?.isUpdatable?.expression;\n\tconst templateBindingExpression =\n\t\tconverterContext.getTemplateType() !== TemplateType.ListReport\n\t\t\t? UI.IsEditable\n\t\t\t: (converterContext.getEntitySet() as EntitySet)?.annotations.Common?.DraftRoot !== undefined; // To allow cut/paste for a draft TreeTable in a ListReport\n\treturn ifElse(\n\t\tequal(standardActionsContext.tableManifestConfiguration?.type, \"TreeTable\"),\n\t\tand(\n\t\t\tstandardActionsContext.tableManifestConfiguration.isHierarchyParentNodeUpdatable!,\n\t\t\tnot(and(isConstant(pathUpdatableExpression), equal(pathUpdatableExpression, false))),\n\t\t\ttemplateBindingExpression\n\t\t),\n\t\tfalse\n\t);\n}\n\n/**\n * Gets the binding expressions for the properties of the 'Paste' action.\n *\n * Note that this is not actually an action that is displayed as a button but its properties are used to configure an MDC feature.\n * @param converterContext\n * @param standardActionsContext\n * @param isInsertUpdateActionsTemplated\n * @returns The binding expressions for the properties of the 'Paste' action.\n */\nexport function getStandardActionPaste(\n\tconverterContext: ConverterContext<PageContextPathTarget>,\n\tstandardActionsContext: StandardActionsContext,\n\tisInsertUpdateActionsTemplated: boolean\n): StandardAction {\n\tconst cutVisibility = getCutVisibility(converterContext, standardActionsContext);\n\tconst createVisibility = getCreateVisibility(converterContext, standardActionsContext, false, true);\n\tconst pasteVisibility = getPasteVisibility(\n\t\tconverterContext,\n\t\tstandardActionsContext,\n\t\tcreateVisibility,\n\t\tcutVisibility,\n\t\tisInsertUpdateActionsTemplated\n\t);\n\tconst pasteEnablement = getPasteEnablement(pasteVisibility, standardActionsContext, false);\n\tconst pasteEnablementForContextMenu = getPasteEnablement(pasteVisibility, standardActionsContext, true);\n\treturn {\n\t\tvisible: compileExpression(pasteVisibility),\n\t\tenabled: compileExpression(pasteEnablement),\n\t\tenabledForContextMenu: compileExpression(pasteEnablementForContextMenu),\n\t\tkey: StandardActionKeys.Paste,\n\t\ttype: ActionType.Standard\n\t};\n}\n\n/**\n * Gets the binding expressions for the properties of the 'MassEdit' action.\n * @param converterContext\n * @param standardActionsContext\n * @returns The binding expressions for the properties of the 'MassEdit' action.\n */\nexport function getStandardActionMassEdit(\n\tconverterContext: ConverterContext<PageContextPathTarget>,\n\tstandardActionsContext: StandardActionsContext\n): StandardAction {\n\tconst massEditVisibility = getMassEditVisibility(converterContext, standardActionsContext);\n\n\treturn {\n\t\tisTemplated: compileExpression(getDefaultTemplating(massEditVisibility)),\n\t\tvisible: compileExpression(massEditVisibility),\n\t\t// For the context menu, the visibility should also consider the 'inactiveContext' property:\n\t\t// only when at least one selected context is active (i.e. \"contextmenu/inactiveContext\" is false), the action should be visible in the context menu\n\t\t// This is only relevant when the table manifest setting \"creationMode\" is \"InlineCreationRows\"\n\t\tvisibleForContextMenu: compileExpression(\n\t\t\tand(massEditVisibility, equal(pathInModel(\"contextmenu/inactiveContext\", \"internal\"), false))\n\t\t),\n\t\tenabled: compileExpression(getMassEditEnablement(converterContext, standardActionsContext, massEditVisibility)),\n\t\tenabledForContextMenu: compileExpression(getMassEditEnablement(converterContext, standardActionsContext, massEditVisibility, true)),\n\t\tkey: StandardActionKeys.MassEdit,\n\t\ttype: ActionType.Standard\n\t};\n}\n\n/**\n * Gets the binding expressions for the properties of the 'AddCardsToInsights' action.\n * @param converterContext\n * @param standardActionsContext\n * @param visualizationPath\n * @returns The binding expressions for the properties of the 'AddCardsToInsights' action.\n */\nexport function getStandardActionInsights(\n\tconverterContext: ConverterContext<PageContextPathTarget>,\n\tstandardActionsContext: StandardActionsContext,\n\tvisualizationPath: string\n): StandardAction {\n\tconst insightsVisibility = getInsightsVisibility(\"Table\", converterContext, visualizationPath, standardActionsContext);\n\tconst insightsEnablement = and(insightsVisibility, getInsightsEnablement());\n\treturn {\n\t\tisTemplated: compileExpression(getDefaultTemplating(insightsVisibility)),\n\t\tvisible: compileExpression(insightsVisibility),\n\t\tenabled: compileExpression(insightsEnablement),\n\t\tkey: StandardActionKeys.Insights,\n\t\ttype: ActionType.Standard\n\t};\n}\n\n/**\n * Gets the binding expression for the templating of the 'Create' action.\n * @param standardActionsContext\n * @param createVisibility\n * @param isForCreationRow\n * @returns The create binding expression\n */\nexport function getCreateTemplating(\n\tstandardActionsContext: StandardActionsContext,\n\tcreateVisibility: BindingToolkitExpression<boolean>,\n\tisForCreationRow = false\n): BindingToolkitExpression<boolean> {\n\t//Templating of Create Button is not done:\n\t// \t - If Button is never visible(covered the External create button, new Action)\n\t//\t - or CreationMode is on CreationRow for Create Button\n\t//\t - or CreationMode is not on CreationRow for CreationRow Button\n\n\treturn and(\n\t\t//XNOR gate\n\t\tor(\n\t\t\tand(isForCreationRow, standardActionsContext.creationMode === CreationMode.CreationRow),\n\t\t\tand(!isForCreationRow, standardActionsContext.creationMode !== CreationMode.CreationRow)\n\t\t),\n\t\tor(not(isConstant(createVisibility)), createVisibility)\n\t);\n}\n\n/**\n * Gets the binding expression for the templating of the non-Create actions.\n * @param actionVisibility\n * @returns The binding expression for the templating of the non-Create actions.\n */\nexport function getDefaultTemplating(actionVisibility: BindingToolkitExpression<boolean>): BindingToolkitExpression<boolean> {\n\treturn or(not(isConstant(actionVisibility)), actionVisibility);\n}\n\n/**\n * Gets the binding expression for the 'visible' property of the 'Create' action.\n * @param converterContext\n * @param standardActionsContext\n * @param isForCreationRow\n * @param isForPaste\n * @returns The binding expression for the 'visible' property of the 'Create' action.\n */\nexport function getCreateVisibility(\n\tconverterContext: ConverterContext<PageContextPathTarget>,\n\tstandardActionsContext: StandardActionsContext,\n\tisForCreationRow = false,\n\tisForPaste = false\n): BindingToolkitExpression<boolean> {\n\tconst isInsertable = standardActionsContext.restrictions.isInsertable.expression;\n\tconst isCreateHidden = isForCreationRow\n\t\t? isActionAnnotatedHidden(converterContext, \"CreateHidden\", false)\n\t\t: standardActionsContext.hiddenAnnotation.create;\n\tconst newAction = standardActionsContext.newAction;\n\t//Create Button is visible:\n\t// \t - If the creation mode is external\n\t//      - If we're on the list report and create is not hidden\n\t//\t\t- Otherwise this depends on the value of the UI.IsEditable\n\t//\t - Otherwise\n\t//\t\t- If any of the following conditions is valid then create button isn't visible\n\t//\t\t\t- no newAction available\n\t//\t\t\t- It's not insertable and there is not a new action\n\t//\t\t\t- create is hidden\n\t//\t\t\t- There are multiple visualizations\n\t//\t\t\t- It's an Analytical List Page\n\t//\t\t\t- Uses InlineCreationRows mode and a Responsive table type, with the parameter inlineCreationRowsHiddenInEditMode to true while not in create mode\n\t//          \t- when calculating paste button visibility,  we force the condition to false with the isForPaste property\n\t//   - Otherwise\n\t// \t \t- If we're on the list report ->\n\t// \t \t\t- If UI.CreateHidden points to a property path -> provide a negated binding to this path\n\t// \t \t\t- Otherwise, create is visible\n\t// \t \t- Otherwise\n\t// \t  \t - This depends on the value of the UI.IsEditable\n\treturn ifElse(\n\t\tstandardActionsContext.creationMode === CreationMode.External,\n\t\tand(not(isCreateHidden), or(converterContext.getTemplateType() === TemplateType.ListReport, UI.IsEditable)),\n\t\tifElse(\n\t\t\tor(\n\t\t\t\tand(isConstant(newAction?.available), equal(newAction?.available, false)),\n\t\t\t\tand(isConstant(isInsertable), equal(isInsertable, false), !newAction),\n\t\t\t\tand(isConstant(isCreateHidden), equal(isCreateHidden, true)),\n\t\t\t\tand(\n\t\t\t\t\tstandardActionsContext.creationMode === CreationMode.InlineCreationRows,\n\t\t\t\t\tstandardActionsContext.tableManifestConfiguration?.type === \"ResponsiveTable\",\n\t\t\t\t\tifElse(\n\t\t\t\t\t\tand(\n\t\t\t\t\t\t\tstandardActionsContext?.tableManifestConfiguration?.inlineCreationRowsHiddenInEditMode === false,\n\t\t\t\t\t\t\tnot(isForPaste)\n\t\t\t\t\t\t),\n\t\t\t\t\t\ttrue,\n\t\t\t\t\t\tUI.IsCreateMode\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t),\n\t\t\tfalse,\n\t\t\tifElse(\n\t\t\t\tconverterContext.getTemplateType() === TemplateType.ListReport,\n\t\t\t\tor(not(isPathInModelExpression(isCreateHidden)), not(isCreateHidden)),\n\t\t\t\tand(not(isCreateHidden), UI.IsEditable)\n\t\t\t)\n\t\t)\n\t);\n}\n\n/**\n * Gets the binding expression for the 'visible' property of the 'Delete' action.\n * @param converterContext\n * @param standardActionsContext\n * @returns The binding expression for the 'visible' property of the 'Delete' action.\n */\nexport function getDeleteVisibility(\n\tconverterContext: ConverterContext<PageContextPathTarget>,\n\tstandardActionsContext: StandardActionsContext\n): BindingToolkitExpression<boolean> {\n\tconst isDeleteHidden = standardActionsContext.hiddenAnnotation.delete;\n\tconst pathDeletableExpression = standardActionsContext.restrictions.isDeletable.expression;\n\n\t//Delete Button is visible:\n\t// \t Prerequisites:\n\t//\t - If we're not on ALP\n\t//   - If restrictions on deletable set to false -> not visible\n\t//   - Otherwise\n\t//\t\t\t- If UI.DeleteHidden is true -> not visible\n\t//\t\t\t- Otherwise\n\t// \t \t\t\t- If we're on OP -> depending if UI is editable and restrictions on deletable\n\t//\t\t\t\t- Otherwise\n\t//\t\t\t\t \t- If UI.DeleteHidden points to a property path -> provide a negated binding to this path\n\t//\t \t \t\t \t- Otherwise, delete is visible\n\n\treturn ifElse(\n\t\tconverterContext.getTemplateType() === TemplateType.AnalyticalListPage,\n\t\tfalse,\n\t\tifElse(\n\t\t\tand(isConstant(pathDeletableExpression), equal(pathDeletableExpression, false)),\n\t\t\tfalse,\n\t\t\tifElse(\n\t\t\t\tand(isConstant(isDeleteHidden), equal(isDeleteHidden, constant(true))),\n\t\t\t\tfalse,\n\t\t\t\tifElse(\n\t\t\t\t\tconverterContext.getTemplateType() !== TemplateType.ListReport,\n\t\t\t\t\tand(not(isDeleteHidden), UI.IsEditable),\n\t\t\t\t\tnot(and(isPathInModelExpression(isDeleteHidden), isDeleteHidden))\n\t\t\t\t)\n\t\t\t)\n\t\t)\n\t);\n}\n\n/**\n * Gets the binding expression for the 'visible' property of the 'Paste' action.\n * @param converterContext\n * @param standardActionsContext\n * @param createVisibility\n * @param cutVisibility\n * @param isInsertUpdateActionsTemplated\n * @returns The binding expression for the 'visible' property of the 'Paste' action.\n */\nexport function getPasteVisibility(\n\tconverterContext: ConverterContext<PageContextPathTarget>,\n\tstandardActionsContext: StandardActionsContext,\n\tcreateVisibility: BindingToolkitExpression<boolean>,\n\tcutVisibility: BindingToolkitExpression<boolean>,\n\tisInsertUpdateActionsTemplated: boolean\n): BindingToolkitExpression<boolean> {\n\t//If it isn't deactivated within the manifest and we're operating in OP/blocks outside Fiori elements templates,\n\t//the treeTable's visibility relies on the cutvisibility,\n\t//while the visibility of the other table is determined by insertable restrictions and create visibility.\n\tlet updateOnNavigation = standardActionsContext.restrictions?.isUpdatable?.navigationExpression;\n\tif (updateOnNavigation?._type === \"Unresolvable\") {\n\t\tupdateOnNavigation = constant(true);\n\t}\n\treturn and(\n\t\tstandardActionsContext.tableManifestConfiguration.type === \"TreeTable\"\n\t\t\t? cutVisibility\n\t\t\t: and(\n\t\t\t\t\tor(\n\t\t\t\t\t\tand(createVisibility, standardActionsContext.restrictions.isInsertable.expression),\n\t\t\t\t\t\tand(UI.IsEditable, updateOnNavigation)\n\t\t\t\t\t),\n\t\t\t\t\tnotEqual(standardActionsContext.tableManifestConfiguration.enablePaste, false),\n\t\t\t\t\t![TemplateType.ListReport, TemplateType.AnalyticalListPage].includes(converterContext.getTemplateType())\n\t\t\t  ),\n\t\tisInsertUpdateActionsTemplated\n\t);\n}\n\n/**\n * Gets the binding expression for the 'visible' property of the 'MassEdit' action.\n * @param converterContext\n * @param standardActionsContext\n * @returns The binding expression for the 'visible' property of the 'MassEdit' action.\n */\nexport function getMassEditVisibility(\n\tconverterContext: ConverterContext<PageContextPathTarget>,\n\tstandardActionsContext: StandardActionsContext\n): BindingToolkitExpression<boolean> {\n\tconst isUpdateHidden = standardActionsContext.hiddenAnnotation.update,\n\t\tpathUpdatableExpression = standardActionsContext.restrictions.isUpdatable.expression,\n\t\tmassEditEnabledInManifest: boolean = standardActionsContext.tableManifestConfiguration?.massEdit.enabled || false;\n\tconst templateBindingExpression =\n\t\tconverterContext.getTemplateType() === TemplateType.ObjectPage\n\t\t\t? UI.IsEditable\n\t\t\t: converterContext.getTemplateType() === TemplateType.ListReport;\n\t//MassEdit is visible\n\t// If\n\t//\t\t- there is no static restrictions set to false\n\t//\t\t- and enableMassEdit is not set to false into the manifest\n\t//\t\t- and the selectionMode is relevant\n\t//\tThen MassEdit is always visible in LR or dynamically visible in OP according to ui>Editable and hiddenAnnotation\n\t//  Button is hidden for all other cases\n\treturn and(\n\t\tnot(and(isConstant(pathUpdatableExpression), equal(pathUpdatableExpression, false))),\n\t\tmassEditEnabledInManifest,\n\t\ttemplateBindingExpression,\n\t\tnot(isUpdateHidden)\n\t);\n}\n\n/**\n * Gets the binding expression for the 'enabled' property of the creationRow.\n * @param converterContext\n * @param standardActionsContext\n * @param creationRowVisibility\n * @returns The binding expression for the 'enabled' property of the creationRow.\n */\nexport function getCreationRowEnablement(\n\tconverterContext: ConverterContext<PageContextPathTarget>,\n\tstandardActionsContext: StandardActionsContext,\n\tcreationRowVisibility: BindingToolkitExpression<boolean>\n): BindingToolkitExpression<boolean> {\n\tconst restrictionsInsertable = isPathInsertable(converterContext.getDataModelObjectPath(), {\n\t\tignoreTargetCollection: true,\n\t\tauthorizeUnresolvable: true,\n\t\tpathVisitor: (path: string, navigationPaths: string[]) => {\n\t\t\tif (path.indexOf(\"/\") === 0) {\n\t\t\t\tpath = singletonPathVisitor(path, converterContext.getConvertedTypes(), navigationPaths);\n\t\t\t\treturn path;\n\t\t\t}\n\t\t\tconst navigationProperties = converterContext.getDataModelObjectPath().navigationProperties;\n\t\t\tif (navigationProperties) {\n\t\t\t\tconst lastNav = navigationProperties[navigationProperties.length - 1];\n\t\t\t\tconst partner = isNavigationProperty(lastNav) && lastNav.partner;\n\t\t\t\tif (partner) {\n\t\t\t\t\tpath = `${partner}/${path}`;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn path;\n\t\t}\n\t});\n\tconst isInsertable =\n\t\trestrictionsInsertable._type === \"Unresolvable\"\n\t\t\t? isPathInsertable(converterContext.getDataModelObjectPath(), {\n\t\t\t\t\tpathVisitor: (path: string) => singletonPathVisitor(path, converterContext.getConvertedTypes(), [])\n\t\t\t  })\n\t\t\t: restrictionsInsertable;\n\n\treturn and(\n\t\tcreationRowVisibility,\n\t\tisInsertable,\n\t\tor(\n\t\t\t!standardActionsContext.tableManifestConfiguration.disableAddRowButtonForEmptyData,\n\t\t\tformatResult([pathInModel(\"creationRowFieldValidity\", \"internal\")], tableFormatters.validateCreationRowFields)\n\t\t)\n\t);\n}\n\n/**\n * Gets the binding expression for the 'enabled' property of the 'Create' action.\n * @param converterContext\n * @param standardActionsContext\n * @param createVisibility\n * @param forContextMenu\n * @returns The binding expression for the 'enabled' property of the 'Create' action.\n */\nexport function getCreateEnablement(\n\tconverterContext: ConverterContext<PageContextPathTarget>,\n\tstandardActionsContext: StandardActionsContext,\n\tcreateVisibility: BindingToolkitExpression<boolean>,\n\tforContextMenu = false\n): BindingToolkitExpression<boolean> {\n\tconst conditions: BindingToolkitExpression<boolean>[] = [];\n\tconst contextPath: string = !forContextMenu ? \"\" : \"contextmenu/\";\n\n\tif (standardActionsContext.creationMode === CreationMode.InlineCreationRows) {\n\t\t// for Inline creation rows create can be hidden via manifest and this should not impact its enablement\n\t\tconditions.push(and(not(standardActionsContext.hiddenAnnotation.create), UI.IsEditable));\n\t} else {\n\t\tconditions.push(createVisibility);\n\t}\n\n\tconst isInsertable = standardActionsContext.restrictions.isInsertable.expression;\n\tconst CollectionType = converterContext.resolveAbsolutePath<EntitySet>(standardActionsContext.collectionPath).target;\n\tconditions.push(\n\t\tor(\n\t\t\tisEntitySet(CollectionType),\n\t\t\tand(isInsertable, or(converterContext.getTemplateType() !== TemplateType.ObjectPage, UI.IsEditable))\n\t\t)\n\t);\n\n\tif (standardActionsContext.tableManifestConfiguration.type === \"TreeTable\") {\n\t\t// In case of a TreeTable, the create button shall be active only if 0 or 1 items are selected (parent node)\n\t\t// We do not need this condition on the ContextMenu, as we only create on the selected node\n\t\tconditions.push(lessOrEqual(pathInModel(contextPath + \"numberOfSelectedContexts\", \"internal\"), 1));\n\n\t\tif (standardActionsContext.tableManifestConfiguration.createEnablement) {\n\t\t\t// There's a createEnablement callback function for additionnal conditions\n\t\t\t// These conditions will be reflected in the internal model\n\t\t\tconditions.push(notEqual(pathInModel(contextPath + \"createEnablement/Create\", \"internal\"), false));\n\t\t}\n\t}\n\n\treturn and(...conditions);\n}\n\n/**\n * Gets the binding expression for the 'enabled' property of the 'Delete' action.\n * @param converterContext\n * @param standardActionsContext\n * @param deleteVisibility\n * @param forContextMenu Indicates if the action appears in the context menu. If false, the action appears in the table toolbar\n * @returns The binding expression for the 'enabled' property of the 'Delete' action.\n */\nexport function getDeleteEnablement(\n\tconverterContext: ConverterContext<PageContextPathTarget>,\n\tstandardActionsContext: StandardActionsContext,\n\tdeleteVisibility: BindingToolkitExpression<boolean>,\n\tforContextMenu = false\n): BindingToolkitExpression<boolean> {\n\t// The following contexts are filled at runtime when a user selects one or more items from a list.\n\t// Checks are then made in function updateDeleteInfoForSelectedContexts in file DeleteHelper to see if there\n\t// are items that can be deleted, thus the delete button should be enabled in these cases.\n\tconst contextPath = !forContextMenu ? \"\" : \"contextmenu/\";\n\tconst deletableContexts = pathInModel(contextPath + \"deletableContexts\", \"internal\");\n\tconst unSavedContexts = pathInModel(contextPath + \"unSavedContexts\", \"internal\");\n\tconst draftsWithDeletableActive = pathInModel(contextPath + \"draftsWithDeletableActive\", \"internal\");\n\tconst draftsWithNonDeletableActive = pathInModel(contextPath + \"draftsWithNonDeletableActive\", \"internal\");\n\n\t// \"Unresolvable\" in navigationExpression is interpreted to mean that there are no navigationExpressions\n\t// defined.\n\t// standardActionsContext.restrictions.isDeletable.expression is a binding expression that comes\n\t// from the Delete restrictions defined in NavigationRestrictions for this entity. In order to\n\t// be deletable, the item must also be allowed to be deletable according to the Delete Restrictions\n\t// on the entity itself.\n\treturn and(\n\t\tdeleteVisibility,\n\t\tor(\n\t\t\tstandardActionsContext.restrictions.isDeletable.navigationExpression._type === \"Unresolvable\",\n\t\t\tstandardActionsContext.restrictions.isDeletable.expression\n\t\t),\n\t\tor(\n\t\t\tgreaterThan(length(deletableContexts, true), 0),\n\t\t\tgreaterThan(length(draftsWithDeletableActive, true), 0),\n\t\t\tgreaterThan(length(draftsWithNonDeletableActive, true), 0),\n\t\t\tgreaterThan(length(unSavedContexts, true), 0)\n\t\t)\n\t);\n}\n\n/**\n * Gets the binding expression for the 'enabled' property of the 'Paste' action.\n * @param pasteVisibility\n * @param standardActionsContext\n * @param forContextMenu\n * @returns The binding expression for the 'enabled' property of the 'Paste' action.\n */\nexport function getPasteEnablement(\n\tpasteVisibility: BindingToolkitExpression<boolean>,\n\tstandardActionsContext: StandardActionsContext,\n\tforContextMenu: boolean\n): BindingToolkitExpression<boolean> {\n\tif (standardActionsContext.tableManifestConfiguration.type === \"TreeTable\") {\n\t\tconst numberOfSelectedContextsPath = !forContextMenu ? \"numberOfSelectedContexts\" : \"contextmenu/numberOfSelectedContexts\";\n\t\treturn and(\n\t\t\tpasteVisibility,\n\t\t\tor(\n\t\t\t\tstandardActionsContext.restrictions.isUpdatable.navigationExpression._type === \"Unresolvable\",\n\t\t\t\tstandardActionsContext.restrictions.isUpdatable.expression\n\t\t\t),\n\t\t\tand(\n\t\t\t\tequal(length(pathInModel(\"pastableContexts\", \"internal\"), true), 1),\n\t\t\t\tstandardActionsContext.tableManifestConfiguration.type === \"TreeTable\"\n\t\t\t\t\t? lessOrEqual(pathInModel(numberOfSelectedContextsPath, \"internal\"), 1)\n\t\t\t\t\t: true,\n\t\t\t\tequal(pathInModel(\"pasteAuthorized\", \"internal\"), true)\n\t\t\t)\n\t\t);\n\t}\n\tlet updateOnNavigation = standardActionsContext.restrictions?.isUpdatable?.navigationExpression;\n\tif (updateOnNavigation?._type === \"Unresolvable\") {\n\t\tupdateOnNavigation = constant(true);\n\t}\n\treturn and(updateOnNavigation, pasteVisibility);\n}\n\n/**\n * Gets the binding expression for the 'enabled' property of the 'MassEdit' action.\n * @param converterContext\n * @param standardActionsContext\n * @param massEditVisibility\n * @param forContextMenu Indicates if the action appears in the context menu. If false, the action appears in the table toolbar\n * @returns The binding expression for the 'enabled' property of the 'MassEdit' action.\n */\nexport function getMassEditEnablement(\n\tconverterContext: ConverterContext<PageContextPathTarget>,\n\tstandardActionsContext: StandardActionsContext,\n\tmassEditVisibility: BindingToolkitExpression<boolean>,\n\tforContextMenu = false\n): BindingToolkitExpression<boolean> {\n\tconst pathUpdatableExpression = standardActionsContext.restrictions.isUpdatable.expression;\n\tconst isOnlyDynamicOnCurrentEntity =\n\t\t!isConstant(pathUpdatableExpression) &&\n\t\tstandardActionsContext.restrictions.isUpdatable.navigationExpression._type === \"Unresolvable\";\n\tconst numberOfSelectedContextProperty = !forContextMenu ? \"numberOfSelectedContexts\" : \"contextmenu/numberOfSelectedContexts\";\n\tconst updatableContextProperty = !forContextMenu ? \"updatableContexts\" : \"contextmenu/updatableContexts\";\n\tconst numberOfSelectedContexts = greaterOrEqual(pathInModel(numberOfSelectedContextProperty, \"internal\"), 1);\n\tconst numberOfUpdatableContexts = greaterOrEqual(length(pathInModel(updatableContextProperty, \"internal\")), 1);\n\tconst bIsDraftSupported = ModelHelper.isObjectPathDraftSupported(converterContext.getDataModelObjectPath());\n\tconst bDisplayMode = isInDisplayMode(converterContext);\n\n\t// numberOfUpdatableContexts needs to be added to the binding in case\n\t// 1. Update is dependent on current entity property (isOnlyDynamicOnCurrentEntity is true).\n\t// 2. The table is read only and draft enabled(like LR), in this case only active contexts can be mass edited.\n\t//    So, update depends on 'IsActiveEntity' value which needs to be checked runtime.\n\tconst runtimeBinding = ifElse(\n\t\tor(and(bDisplayMode, bIsDraftSupported), isOnlyDynamicOnCurrentEntity),\n\t\tand(numberOfSelectedContexts, numberOfUpdatableContexts),\n\t\tand(numberOfSelectedContexts)\n\t);\n\n\treturn and(massEditVisibility, ifElse(isOnlyDynamicOnCurrentEntity, runtimeBinding, and(runtimeBinding, pathUpdatableExpression)));\n}\n\n/**\n * Gets the binding expression for the 'enabled' property of the 'Cut' action.\n * @param cutVisibility\n * @param standardActionsContext\n * @param forContextMenu\n * @returns The binding expression for the 'enabled' property of the 'MassEdit' action.\n */\nexport function getCutEnablement(\n\tcutVisibility: BindingToolkitExpression<boolean>,\n\tstandardActionsContext: StandardActionsContext,\n\tforContextMenu: boolean\n): BindingToolkitExpression<boolean> {\n\tconst numberOfSelectedContextsPath = !forContextMenu ? \"numberOfSelectedContexts\" : \"contextmenu/numberOfSelectedContexts\";\n\tconst numberOfSelectedContexts = equal(pathInModel(numberOfSelectedContextsPath, \"internal\"), 1);\n\tconst cutableContextsPath = !forContextMenu ? \"cutableContexts\" : \"contextmenu/cutableContexts\";\n\n\tconst runtimeBinding = and(numberOfSelectedContexts, equal(length(pathInModel(cutableContextsPath, \"internal\"), true), 1));\n\treturn and(\n\t\tcutVisibility,\n\t\tor(\n\t\t\tstandardActionsContext.restrictions.isUpdatable.navigationExpression._type === \"Unresolvable\",\n\t\t\tstandardActionsContext.restrictions.isUpdatable.expression\n\t\t),\n\t\truntimeBinding\n\t);\n}\n\n/**\n * Gets the binding expression for the 'enabled' property of the 'Move up' and 'Move down' actions.\n * @param moveUpDownVisibility\n * @param standardActionsContext\n * @param forUp\n * @param forContextMenu\n * @returns The binding expression\n */\nfunction getMoveUpDownEnablement(\n\tmoveUpDownVisibility: BindingToolkitExpression<boolean>,\n\tstandardActionsContext: StandardActionsContext,\n\tforUp: boolean,\n\tforContextMenu = false\n): BindingToolkitExpression<boolean> {\n\tconst singleContextMovableUp = !forContextMenu ? \"singleContextMovableUp\" : \"contextmenu/singleContextMovableUp\";\n\tconst singleContextMovableDown = !forContextMenu ? \"singleContextMovableDown\" : \"contextmenu/singleContextMovableDown\";\n\tconst runtimeBinding = forUp\n\t\t? equal(pathInModel(singleContextMovableUp, \"internal\"), true)\n\t\t: equal(pathInModel(singleContextMovableDown, \"internal\"), true);\n\treturn and(\n\t\tmoveUpDownVisibility,\n\t\tor(\n\t\t\tstandardActionsContext.restrictions.isUpdatable.navigationExpression._type === \"Unresolvable\",\n\t\t\tstandardActionsContext.restrictions.isUpdatable.expression\n\t\t),\n\t\truntimeBinding\n\t);\n}\n\n/**\n * Tells if the table in template is in display mode.\n * @param converterContext\n * @param checkMultipleVisualization\n * @returns `true` if the table is in display mode\n */\nexport function isInDisplayMode(converterContext: ConverterContext<PageContextPathTarget>, checkMultipleVisualization = false): boolean {\n\tconst templateType = converterContext.getTemplateType();\n\tif (\n\t\ttemplateType === TemplateType.ListReport ||\n\t\ttemplateType === TemplateType.AnalyticalListPage ||\n\t\t(checkMultipleVisualization && converterContext.getManifestWrapper().hasMultipleVisualizations())\n\t) {\n\t\treturn true;\n\t}\n\t// updatable will be handled at the property level\n\treturn false;\n}\n"],"mappings":"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","ignoreList":[]}