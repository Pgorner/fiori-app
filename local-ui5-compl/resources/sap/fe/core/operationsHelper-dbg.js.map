{"version":3,"names":["renderMessageView","parameters","messageHandler","messages","strictHandlingUtilities","isMultiContext412","resolve","groupId","isUnboundAction","length","resourceModel","ResourceModelHelper","getResourceModel","appComponent","actionName","getLocalizedText","label","model","strictHandlingPromises","message","cancelButtonTxt","getText","warningMessageText","genericChangesetMessage","bGrouped","messageText","getMessage","identifierText","getAdditionalText","undefined","headerInfoTypeName","control","getParent","getTableDefinition","toString","MessageBox","warning","title","actions","emphasizedAction","onClose","action","submitBatch","requestSideEffects","strictHandlingPromise","promises","strictHandlingTransitionFails","removeTransitionMessages","is412Executed","information","contentWidth","strictHandlingWarningMessages","messageDialogModel","JSONModel","warningMessage","warningDesc","genericMessage","Message","type","MessageType","Information","target","persistent","description","concat","setData","OperationsDialog","messageObject","messageHandling","prepareMessageViewForDialog","isGrouped","showMessageInfo","open","fnOnStrictHandlingFailed","currentContextIndex","context","contextLength","internalOperationsPromiseResolve","messages412","arguments","filteredErrorMessages","filterErrorMessages","forEach","includes","Log","addWarningMessagesToMessageHandler","shPromiseParams","Promise","operationsHelper","push","value","tableAPI","column","isA","getIdentifierColumn","getObject","setAdditionalText"],"sourceRoot":".","sources":["operationsHelper.ts"],"sourcesContent":["import Log from \"sap/base/Log\";\nimport type { InternalModelContext } from \"sap/fe/core/helpers/ModelHelper\";\nimport type TableAPI from \"sap/fe/macros/table/TableAPI\";\nimport type Dialog from \"sap/m/Dialog\";\nimport MessageBox from \"sap/m/MessageBox\";\nimport Message from \"sap/ui/core/message/Message\";\nimport MessageType from \"sap/ui/core/message/MessageType\";\nimport type Control from \"sap/ui/mdc/Control\";\nimport JSONModel from \"sap/ui/model/json/JSONModel\";\nimport type Context from \"sap/ui/model/odata/v4/Context\";\nimport type ODataContextBinding from \"sap/ui/model/odata/v4/ODataContextBinding\";\nimport type ODataModel from \"sap/ui/model/odata/v4/ODataModel\";\nimport type AppComponent from \"./AppComponent\";\nimport type MessageHandler from \"./controllerextensions/MessageHandler\";\nimport OperationsDialog from \"./controllerextensions/dialog/OperationsDialog\";\nimport messageHandling from \"./controllerextensions/messageHandler/messageHandling\";\nimport ResourceModelHelper from \"./helpers/ResourceModelHelper\";\n\ntype StrictHandlingPromise = {\n\tresolve: Function;\n\tgroupId: string;\n\trequestSideEffects?: Function;\n};\nexport type StrictHandlingParameters = {\n\tappComponent: AppComponent;\n\tlabel: string;\n\tmodel: ODataModel;\n\tinternalModelContext?: InternalModelContext | null;\n\tcontrol?: Control;\n\trequestSideEffects?: Function;\n\toDialog?: Dialog;\n\tbGrouped: boolean;\n};\ntype OperationsHelper = {\n\trenderMessageView: Function;\n\tfnOnStrictHandlingFailed: Function;\n};\n\nexport type StrictHandlingUtilities = {\n\tis412Executed: boolean;\n\tstrictHandlingTransitionFails: {\n\t\toAction: ODataContextBinding;\n\t\tgroupId: string;\n\t}[];\n\tstrictHandlingPromises: StrictHandlingPromise[];\n\tstrictHandlingWarningMessages: Message[];\n\tdelaySuccessMessages: Message[];\n\tprocessedMessageIds: Set<string>;\n};\n\nfunction renderMessageView(\n\tparameters: StrictHandlingParameters,\n\tmessageHandler: MessageHandler | undefined,\n\tmessages: Message[],\n\tstrictHandlingUtilities: StrictHandlingUtilities | undefined,\n\tisMultiContext412?: boolean,\n\tresolve?: Function,\n\tgroupId?: string,\n\tisUnboundAction?: boolean\n): void {\n\tif (!messages.length) {\n\t\treturn;\n\t}\n\tconst resourceModel = ResourceModelHelper.getResourceModel(parameters.appComponent);\n\tconst actionName = ResourceModelHelper.getLocalizedText(parameters.label, parameters.appComponent);\n\tconst model = parameters.model;\n\tconst strictHandlingPromises = strictHandlingUtilities?.strictHandlingPromises ?? [];\n\tlet message: string;\n\tlet cancelButtonTxt: string = resourceModel.getText(\"C_COMMON_DIALOG_CANCEL\");\n\tlet warningMessageText = \"\";\n\tlet genericChangesetMessage = \"\";\n\twarningMessageText = parameters.bGrouped\n\t\t? resourceModel.getText(\"C_COMMON_DIALOG_CANCEL_MESSAGE_TEXT\", [actionName])\n\t\t: resourceModel.getText(\"C_COMMON_DIALOG_SKIP_SINGLE_MESSAGE_TEXT\");\n\tif (messages.length === 1) {\n\t\tconst messageText = messages[0].getMessage();\n\t\tconst identifierText = messages[0].getAdditionalText();\n\t\tgenericChangesetMessage = resourceModel.getText(\"C_COMMON_DIALOG_CANCEL_SINGLE_MESSAGE_TEXT\");\n\t\tif (!isMultiContext412) {\n\t\t\tmessage = `${messageText}\\n${resourceModel.getText(\"PROCEED\")}`;\n\t\t} else if (identifierText !== undefined && identifierText !== \"\") {\n\t\t\tcancelButtonTxt = parameters.bGrouped ? cancelButtonTxt : resourceModel.getText(\"C_COMMON_DIALOG_SKIP\");\n\t\t\tconst headerInfoTypeName = (parameters.control?.getParent() as TableAPI | undefined)?.getTableDefinition().headerInfoTypeName;\n\t\t\tif (headerInfoTypeName) {\n\t\t\t\tmessage = `${headerInfoTypeName.toString()} ${identifierText}: ${messageText}\\n\\n${warningMessageText}`;\n\t\t\t} else {\n\t\t\t\tmessage = `${identifierText}: ${messageText}\\n\\n${warningMessageText}`;\n\t\t\t}\n\t\t} else {\n\t\t\tcancelButtonTxt = parameters.bGrouped ? cancelButtonTxt : resourceModel.getText(\"C_COMMON_DIALOG_SKIP\");\n\t\t\tmessage = `${messageText}\\n\\n${warningMessageText}`;\n\t\t}\n\t\tif (isMultiContext412 && parameters.bGrouped) {\n\t\t\tmessage = `${genericChangesetMessage}\\n\\n${message}`;\n\t\t}\n\t\tMessageBox.warning(message, {\n\t\t\ttitle: resourceModel.getText(\"WARNING\"),\n\t\t\tactions: [actionName, cancelButtonTxt],\n\t\t\temphasizedAction: actionName,\n\t\t\tonClose: (action: string) => {\n\t\t\t\tif (action === actionName) {\n\t\t\t\t\tif (isUnboundAction) {\n\t\t\t\t\t\t// condition is true for unbound as well as static actions\n\t\t\t\t\t\tresolve?.(true);\n\t\t\t\t\t\tmodel.submitBatch(groupId!);\n\t\t\t\t\t\tparameters.requestSideEffects?.();\n\t\t\t\t\t} else if (!isMultiContext412) {\n\t\t\t\t\t\t// condition true when multiple contexts are selected but only one strict handling warning is received\n\t\t\t\t\t\tconst strictHandlingPromise = strictHandlingPromises[0];\n\t\t\t\t\t\tstrictHandlingPromise.resolve(true);\n\t\t\t\t\t\tmodel.submitBatch(strictHandlingPromise.groupId);\n\t\t\t\t\t\tstrictHandlingPromise.requestSideEffects?.();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tfor (const promises of strictHandlingPromises) {\n\t\t\t\t\t\t\tpromises.resolve(true);\n\t\t\t\t\t\t\tmodel.submitBatch(promises.groupId);\n\t\t\t\t\t\t\tpromises.requestSideEffects?.();\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (strictHandlingUtilities?.strictHandlingTransitionFails?.length) {\n\t\t\t\t\t\t\tmessageHandler?.removeTransitionMessages();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (strictHandlingUtilities) {\n\t\t\t\t\t\tstrictHandlingUtilities.is412Executed = true;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif (strictHandlingUtilities) {\n\t\t\t\t\t\tstrictHandlingUtilities.is412Executed = false;\n\t\t\t\t\t}\n\t\t\t\t\tif (isUnboundAction) {\n\t\t\t\t\t\tresolve?.(false);\n\t\t\t\t\t} else if (!isMultiContext412) {\n\t\t\t\t\t\tstrictHandlingPromises[0].resolve(false);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tfor (const promises of strictHandlingPromises) {\n\t\t\t\t\t\t\tpromises.resolve(false);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (parameters.bGrouped) {\n\t\t\t\t\t\tMessageBox.information(resourceModel.getText(\"M_CHANGESET_CANCEL_MESSAGES\"), {\n\t\t\t\t\t\t\tcontentWidth: \"150px\"\n\t\t\t\t\t\t} as object);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (strictHandlingUtilities) {\n\t\t\t\t\tstrictHandlingUtilities.strictHandlingWarningMessages = [];\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\treturn;\n\t}\n\tconst messageDialogModel = new JSONModel();\n\tlet warningMessage = \"\";\n\tlet warningDesc = \"\";\n\tif (isMultiContext412) {\n\t\tcancelButtonTxt = parameters.bGrouped ? cancelButtonTxt : resourceModel.getText(\"C_COMMON_DIALOG_SKIP\");\n\t\twarningMessage = parameters.bGrouped\n\t\t\t? resourceModel.getText(\"C_COMMON_DIALOG_CANCEL_MESSAGES_WARNING\")\n\t\t\t: resourceModel.getText(\"C_COMMON_DIALOG_SKIP_MESSAGES_WARNING\");\n\t\twarningDesc = parameters.bGrouped\n\t\t\t? resourceModel.getText(\"C_COMMON_DIALOG_CANCEL_MESSAGES_TEXT\", [actionName])\n\t\t\t: resourceModel.getText(\"C_COMMON_DIALOG_SKIP_MESSAGES_TEXT\", [actionName]);\n\t} else {\n\t\twarningMessage = resourceModel.getText(\"C_COMMON_DIALOG_CANCEL_MESSAGES_GENERIC_ACTION_WARNING\", [actionName]);\n\t}\n\tconst genericMessage = new Message({\n\t\tmessage: warningMessage,\n\t\ttype: MessageType.Information,\n\t\ttarget: undefined,\n\t\tpersistent: true,\n\t\tdescription: warningDesc.length ? warningDesc : undefined\n\t});\n\tmessages = [genericMessage].concat(messages);\n\tmessageDialogModel.setData(messages);\n\tnew OperationsDialog({\n\t\tmessageObject: messageHandling.prepareMessageViewForDialog(messageDialogModel, true, isMultiContext412),\n\t\tisMultiContext412,\n\t\tisGrouped: parameters.bGrouped,\n\t\trequestSideEffects: parameters.requestSideEffects,\n\t\tresolve,\n\t\tmodel,\n\t\tgroupId,\n\t\tactionName,\n\t\tstrictHandlingUtilities,\n\t\tstrictHandlingPromises,\n\t\tmessageHandler,\n\t\tmessageDialogModel,\n\t\tcancelButtonTxt,\n\t\tshowMessageInfo: (): void => {\n\t\t\tMessageBox.information(resourceModel.getText(\"M_CHANGESET_CANCEL_MESSAGES\"), {\n\t\t\t\tcontentWidth: \"150px\"\n\t\t\t} as object);\n\t\t}\n\t}).open();\n}\n\nasync function fnOnStrictHandlingFailed(\n\tgroupId: string,\n\tparameters: StrictHandlingParameters,\n\tcurrentContextIndex: number | null,\n\tcontext: Context | null,\n\tcontextLength: number | null,\n\tmessageHandler: MessageHandler,\n\tstrictHandlingUtilities: StrictHandlingUtilities | undefined,\n\tinternalOperationsPromiseResolve: Function | undefined,\n\tmessages412: Message[] = []\n): Promise<boolean> {\n\t// Find error message in the 412 response and raise warning.\n\tconst filteredErrorMessages = messageHandler.filterErrorMessages(messages412);\n\tmessages412.forEach((message) => {\n\t\tif (filteredErrorMessages.includes(message)) {\n\t\t\tLog.warning(\n\t\t\t\t\"Warning: 412 ('Pre-condition Check Failed due to strict-handling') returns messages of type error but only warning messages are appropriate!\"\n\t\t\t);\n\t\t}\n\t});\n\n\tmessageHandler.addWarningMessagesToMessageHandler(messages412);\n\tlet shPromiseParams: StrictHandlingPromise | undefined;\n\n\tif ((currentContextIndex === null && contextLength === null) || (currentContextIndex === 1 && contextLength === 1)) {\n\t\treturn new Promise((resolve) => {\n\t\t\toperationsHelper.renderMessageView(\n\t\t\t\tparameters,\n\t\t\t\tmessageHandler,\n\t\t\t\tmessages412,\n\t\t\t\tstrictHandlingUtilities,\n\t\t\t\tfalse,\n\t\t\t\tresolve,\n\t\t\t\tgroupId,\n\t\t\t\ttrue\n\t\t\t);\n\t\t});\n\t}\n\tconst strictHandlingPromise = new Promise<boolean>(function (resolve) {\n\t\tshPromiseParams = {\n\t\t\trequestSideEffects: parameters.requestSideEffects,\n\t\t\tresolve: resolve,\n\t\t\tgroupId: groupId\n\t\t};\n\t});\n\n\tstrictHandlingUtilities?.strictHandlingPromises.push(shPromiseParams as StrictHandlingPromise);\n\n\tif (messages412.length && strictHandlingUtilities) {\n\t\t// copy existing 412 warning messages\n\t\tconst strictHandlingWarningMessages: Message[] = strictHandlingUtilities.strictHandlingWarningMessages;\n\t\tlet value = \"\";\n\t\t// If there is more than one context we need the identifier. This would fix if the action is triggered via table chevron\n\t\tif (contextLength && contextLength > 1) {\n\t\t\tconst tableAPI = parameters.control?.getParent() as TableAPI;\n\t\t\tconst column = tableAPI && tableAPI.isA(\"sap.fe.macros.table.TableAPI\") && (tableAPI.getIdentifierColumn() as string);\n\t\t\tif (column) {\n\t\t\t\tvalue = context?.getObject(column);\n\t\t\t}\n\t\t}\n\n\t\t// set type and subtitle for all warning messages\n\t\tfor (const message of messages412) {\n\t\t\tmessage.setAdditionalText(value);\n\t\t\tstrictHandlingWarningMessages.push(message);\n\t\t}\n\n\t\tstrictHandlingUtilities.strictHandlingWarningMessages = strictHandlingWarningMessages;\n\t}\n\tinternalOperationsPromiseResolve?.();\n\treturn strictHandlingPromise;\n}\n\nconst operationsHelper: OperationsHelper = {\n\trenderMessageView: renderMessageView,\n\tfnOnStrictHandlingFailed: fnOnStrictHandlingFailed\n};\n\nexport default operationsHelper;\n"],"mappings":"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","ignoreList":[],"file":"operationsHelper-dbg.js"}