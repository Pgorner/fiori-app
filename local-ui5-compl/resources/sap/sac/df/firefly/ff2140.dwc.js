/*!
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.define(["sap/sac/df/firefly/ff2100.runtime"],function(e){"use strict";e.DwcFsConstants={AMPERSAND:"&",ANALYTICAL_DATASET_TYPE:"DWC_FACT",ANALYTICAL_MODEL_TYPE:"DWC_CUBE",AND:" AND ",ATTRIBUTES:"attributes",CONSUMPTION_VIEW_PROSPECTIVE_TYPE:"DWC_CUBE",CURRICULUM:"curriculum",DWC:"DWC",DWC_FOLDER:"folder",DWC_SCHEMA_NAME_KEY:"space_name",ENCODED_DOUBLE_QUOTES:"%22",FACT_VIEW:"fact-view",FOLDER:"Folder",FOLDER_ID:"id",FOLDER_ID_RESPONSE:"folder_id",FOLDER_NAME_RESPONSE:"folder_name",FPA_ICON_PREFIX:"sap-icon://fpa/",ICON_FACT_VIEW:"FACTVIEW",ICON_FOLDER:"FOLDER",ICON_LIVEMODEL:"LIVEMODEL",ICON_PREFIX:"sap-icon://",ICON_SPACE:"SPACE",INA_MODEL:"inamodel",LIVE_MODEL:"live-model",NODE_TYPE_FOLDER:"sap.repo.folder",NODE_TYPE_SPACE:"sap.dwc.space",RESULT_BUSINESS_NAME_KEY:"businessName",RESULT_BUSINESS_TYPE_KEY:"deployment_business_type",RESULT_DEPLOYMENT_NAME_KEY:"deployment_name",RESULT_KIND_KEY:"kind",RESULT_LABEL_KEY:"business_name",RESULT_NAME_KEY:"name",RESULT_OBJECT_CREATOR_DISPLAY_NAME_KEY:"creator_user_name",RESULT_PARENT_HIERARCHY_KEY:"@com.sap.vocabularies.Search.v1.ParentHierarchies",RESULT_SEARCH_ROOT_KEY:"value",RESULT_SEARCH_TOTAL_COUNT_KEY:"@odata.count",RESULT_SPACE_CREATOR_DISPLAY_NAME_KEY:"#creatorBusinessName",RESULT_SPACE_LISTING_ROOT_KEY:"results",RESULT_SPACE_NAME_KEY:"space_name",SPACE_FOLDER:"Space",WILDCARD:"*"};e.DwcGenericFileRequestListener2=function(){};e.DwcGenericFileRequestListener2.prototype=new e.XObject;e.DwcGenericFileRequestListener2.prototype._ff_c="DwcGenericFileRequestListener2";e.DwcGenericFileRequestListener2.create=function(t){let r=new e.DwcGenericFileRequestListener2;r.callback=t;return r};e.DwcGenericFileRequestListener2.prototype.callback=null;e.DwcGenericFileRequestListener2.prototype.onHttpFileProcessed=function(e,t,r){this.callback(e)};e.AllSpacesSearchRequestBuilder=function(){};e.AllSpacesSearchRequestBuilder.prototype=new e.XObject;e.AllSpacesSearchRequestBuilder.prototype._ff_c="AllSpacesSearchRequestBuilder";e.AllSpacesSearchRequestBuilder.SEARCH_COUNT="$count=true";e.AllSpacesSearchRequestBuilder.SEARCH_ORDER_BY="$orderby=";e.AllSpacesSearchRequestBuilder.SEARCH_QUERY_FILTER="$apply=filter(Search.search(query=%27SCOPE:SEARCH_DESIGN%20(kind:EQ(S):%22sap.dwc.space%22)%20*%27))";e.AllSpacesSearchRequestBuilder.SEARCH_SELECT="$select=space_name,business_name,creator_user_name,id,kind";e.AllSpacesSearchRequestBuilder.SEARCH_SKIP="$skip=";e.AllSpacesSearchRequestBuilder.SEARCH_TOP="$top=";e.AllSpacesSearchRequestBuilder.SEARCH_URL="/repository/search/$all?";e.AllSpacesSearchRequestBuilder.SEARCH_WHY_FOUND="whyfound=true";e.AllSpacesSearchRequestBuilder.create=function(t){let r=new e.AllSpacesSearchRequestBuilder;r.m_fileQueryConfig=t;return r};e.AllSpacesSearchRequestBuilder.prototype.m_fileQueryConfig=null;e.AllSpacesSearchRequestBuilder.prototype.build=function(){let t="";let r="";let s=-1;let i=-1;if(e.notNull(this.m_fileQueryConfig)){i=this.m_fileQueryConfig.getOffset();s=this.m_fileQueryConfig.getMaxItems();if(this.m_fileQueryConfig.getSingleSortDef()!==null){let s=this.m_fileQueryConfig.getSingleSortDef().getDirection().getName();r=e.DwcFileUtil.getDwcSortDirection(s);let i=this.m_fileQueryConfig.getSingleSortDef().getAttributeName();t=e.DwcFileUtil.getAllSpaceSearchOrderByKey(i,r)}}let l=e.XStringBuffer.create();l.append(e.AllSpacesSearchRequestBuilder.SEARCH_URL);if(s!==-1){let t=e.XStringUtils.concatenate2(e.AllSpacesSearchRequestBuilder.SEARCH_TOP,e.XInteger.convertToString(s));l.append(t).append(e.DwcFsConstants.AMPERSAND)}if(i!==-1){let t=e.XStringUtils.concatenate2(e.AllSpacesSearchRequestBuilder.SEARCH_SKIP,e.XInteger.convertToString(i));l.append(t).append(e.DwcFsConstants.AMPERSAND)}l.append(e.AllSpacesSearchRequestBuilder.SEARCH_COUNT).append(e.DwcFsConstants.AMPERSAND);l.append(e.AllSpacesSearchRequestBuilder.SEARCH_WHY_FOUND).append(e.DwcFsConstants.AMPERSAND);l.append(e.AllSpacesSearchRequestBuilder.SEARCH_SELECT).append(e.DwcFsConstants.AMPERSAND);l.append(e.AllSpacesSearchRequestBuilder.SEARCH_QUERY_FILTER).append(e.DwcFsConstants.AMPERSAND);if(!e.XStringUtils.isNullOrEmpty(t)){l.append(e.AllSpacesSearchRequestBuilder.SEARCH_ORDER_BY).append(t)}return l.toString()};e.BaseChildrenRequestBuilder=function(){};e.BaseChildrenRequestBuilder.prototype=new e.XObject;e.BaseChildrenRequestBuilder.prototype._ff_c="BaseChildrenRequestBuilder";e.BaseChildrenRequestBuilder.CLOSE_BRACKETS=")";e.BaseChildrenRequestBuilder.SEARCH_COUNT="$count=true";e.BaseChildrenRequestBuilder.SEARCH_ORDER_BY="$orderby=";e.BaseChildrenRequestBuilder.SEARCH_QUERY_FILTER_CLOSE="%27))";e.BaseChildrenRequestBuilder.SEARCH_SELECT="$select=space_id,business_name,deployment_name,creator_user_name,deployment_business_type,id,space_description,space_name,folder_id,folder_name,kind";e.BaseChildrenRequestBuilder.SEARCH_SKIP="$skip=";e.BaseChildrenRequestBuilder.SEARCH_TOP="$top=";e.BaseChildrenRequestBuilder.SEARCH_URL="/repository/search/$all?";e.BaseChildrenRequestBuilder.SEARCH_WHY_FOUND="whyfound=true";e.BaseChildrenRequestBuilder.prototype.folderId=null;e.BaseChildrenRequestBuilder.prototype.m_fileQueryConfig=null;e.BaseChildrenRequestBuilder.prototype.m_searchText=null;e.BaseChildrenRequestBuilder.prototype.getCommonRequestParameters=function(t){let r=-1;let s=-1;let i="";let l="";let n="";if(e.notNull(this.m_fileQueryConfig)){s=this.m_fileQueryConfig.getOffset();r=this.m_fileQueryConfig.getMaxItems()}if(r!==-1){i=e.XStringUtils.concatenate2(e.BaseChildrenRequestBuilder.SEARCH_TOP,e.XInteger.convertToString(r))}if(s!==-1){l=e.XStringUtils.concatenate2(e.BaseChildrenRequestBuilder.SEARCH_SKIP,e.XInteger.convertToString(s))}if(!e.XStringUtils.isNullOrEmpty(t)){n=e.XStringUtils.concatenate2(e.BaseChildrenRequestBuilder.SEARCH_ORDER_BY,t)}let o=e.XStringBuffer.create();o.append(e.BaseChildrenRequestBuilder.SEARCH_URL);if(!e.XStringUtils.isNullOrEmpty(i)){o.append(i).append(e.DwcFsConstants.AMPERSAND)}if(!e.XStringUtils.isNullOrEmpty(l)){o.append(l).append(e.DwcFsConstants.AMPERSAND)}if(!e.XStringUtils.isNullOrEmpty(n)){o.append(n).append(e.DwcFsConstants.AMPERSAND)}o.append(e.BaseChildrenRequestBuilder.SEARCH_COUNT).append(e.DwcFsConstants.AMPERSAND);o.append(e.BaseChildrenRequestBuilder.SEARCH_WHY_FOUND).append(e.DwcFsConstants.AMPERSAND);o.append(e.BaseChildrenRequestBuilder.SEARCH_SELECT).append(e.DwcFsConstants.AMPERSAND);return o};e.DeployedObjectsSearchRequestBuilder=function(){};e.DeployedObjectsSearchRequestBuilder.prototype=new e.XObject;e.DeployedObjectsSearchRequestBuilder.prototype._ff_c="DeployedObjectsSearchRequestBuilder";e.DeployedObjectsSearchRequestBuilder.CLOSE_BRACKETS=")";e.DeployedObjectsSearchRequestBuilder.OPEN_BRACKETS="(";e.DeployedObjectsSearchRequestBuilder.SEARCH_COLUMNS_FILTER="AND (business_name deployment_name creator_user_name):";e.DeployedObjectsSearchRequestBuilder.SEARCH_COUNT="$count=true";e.DeployedObjectsSearchRequestBuilder.SEARCH_FILTER_CLOSE=")%27))";e.DeployedObjectsSearchRequestBuilder.SEARCH_OBJECT_TYPE_FILTER="kind:EQ(S):%22deployedObject%22 AND exposed_for_consumption_id:EQ(S):%22true%22 AND (deployment_business_type:EQ(S):%22DWC_CUBE%22 OR deployment_business_type:EQ(S):%22DWC_FACT%22)";e.DeployedObjectsSearchRequestBuilder.SEARCH_ORDER_BY="$orderby=";e.DeployedObjectsSearchRequestBuilder.SEARCH_QUERY_WITHOUT_SPACE_FILTER="$apply=filter(Search.search(query=%27SCOPE:SEARCH_DESIGN (";e.DeployedObjectsSearchRequestBuilder.SEARCH_QUERY_WITH_SPACE_FILTER="$apply=filter(Search.search(query=%27SCOPE:SEARCH_DESIGN (space_name:EQ(S):";e.DeployedObjectsSearchRequestBuilder.SEARCH_SELECT="$select=business_name,deployment_name,creator_user_name,deployment_business_type,space_name,name";e.DeployedObjectsSearchRequestBuilder.SEARCH_SKIP="$skip=";e.DeployedObjectsSearchRequestBuilder.SEARCH_TOP="$top=";e.DeployedObjectsSearchRequestBuilder.SEARCH_URL="/repository/search/$all?";e.DeployedObjectsSearchRequestBuilder.SEARCH_WHY_FOUND="whyfound=true";e.DeployedObjectsSearchRequestBuilder.create=function(t,r,s){let i=new e.DeployedObjectsSearchRequestBuilder;i.m_spaceName=t;i.m_searchText=r;i.m_fileQueryConfig=s;return i};e.DeployedObjectsSearchRequestBuilder.prototype.m_fileQueryConfig=null;e.DeployedObjectsSearchRequestBuilder.prototype.m_searchText=null;e.DeployedObjectsSearchRequestBuilder.prototype.m_spaceName=null;e.DeployedObjectsSearchRequestBuilder.prototype.build=function(){let t="";let r="";let s="";let i="";let l="";let n=-1;let o=-1;if(e.notNull(this.m_fileQueryConfig)){o=this.m_fileQueryConfig.getOffset();n=this.m_fileQueryConfig.getMaxItems();if(this.m_fileQueryConfig.getSingleSortDef()!==null){let s=this.m_fileQueryConfig.getSingleSortDef().getAttributeName();t=this.getDwcOrderByKey(s);let i=this.m_fileQueryConfig.getSingleSortDef().getDirection().getName();r=e.DwcFileUtil.getDwcSortDirection(i)}}if(n!==-1){s=e.XStringUtils.concatenate2(e.DeployedObjectsSearchRequestBuilder.SEARCH_TOP,e.XInteger.convertToString(n))}if(o!==-1){i=e.XStringUtils.concatenate2(e.DeployedObjectsSearchRequestBuilder.SEARCH_SKIP,e.XInteger.convertToString(o))}if(!e.XStringUtils.isNullOrEmpty(t)){l=e.XStringUtils.concatenate4(e.DeployedObjectsSearchRequestBuilder.SEARCH_ORDER_BY,t," ",r)}let c=e.XStringBuffer.create();c.append(e.DeployedObjectsSearchRequestBuilder.SEARCH_URL);if(!e.XStringUtils.isNullOrEmpty(s)){c.append(s).append(e.DwcFsConstants.AMPERSAND)}if(!e.XStringUtils.isNullOrEmpty(i)){c.append(i).append(e.DwcFsConstants.AMPERSAND)}if(!e.XStringUtils.isNullOrEmpty(l)){c.append(l).append(e.DwcFsConstants.AMPERSAND)}c.append(e.DeployedObjectsSearchRequestBuilder.SEARCH_COUNT).append(e.DwcFsConstants.AMPERSAND);c.append(e.DeployedObjectsSearchRequestBuilder.SEARCH_WHY_FOUND).append(e.DwcFsConstants.AMPERSAND);c.append(e.DeployedObjectsSearchRequestBuilder.SEARCH_SELECT).append(e.DwcFsConstants.AMPERSAND);if(e.notNull(this.m_spaceName)){c.append(e.DeployedObjectsSearchRequestBuilder.SEARCH_QUERY_WITH_SPACE_FILTER).append(e.DwcFsConstants.ENCODED_DOUBLE_QUOTES).append(this.m_spaceName).append(e.DwcFsConstants.ENCODED_DOUBLE_QUOTES);c.append(e.DwcFsConstants.AND).append(e.DeployedObjectsSearchRequestBuilder.SEARCH_OBJECT_TYPE_FILTER).append(e.DeployedObjectsSearchRequestBuilder.SEARCH_COLUMNS_FILTER)}else{c.append(e.DeployedObjectsSearchRequestBuilder.SEARCH_QUERY_WITHOUT_SPACE_FILTER);c.append(e.DeployedObjectsSearchRequestBuilder.SEARCH_OBJECT_TYPE_FILTER).append(e.DeployedObjectsSearchRequestBuilder.SEARCH_COLUMNS_FILTER)}let a=e.XHttpUtils.encodeURIComponent(this.m_searchText);c.append(e.DeployedObjectsSearchRequestBuilder.OPEN_BRACKETS).append(a).append(e.DeployedObjectsSearchRequestBuilder.CLOSE_BRACKETS).append(e.DeployedObjectsSearchRequestBuilder.SEARCH_FILTER_CLOSE);return c.toString()};e.DeployedObjectsSearchRequestBuilder.prototype.getDwcOrderByKey=function(t){let r="";if(this.isDisplayName(t)||this.isName(t)){r=e.DwcFsConstants.RESULT_DEPLOYMENT_NAME_KEY}else if(this.isDescription(t)){r=e.DwcFsConstants.RESULT_LABEL_KEY}else if(this.isCreatedByDisplayName(t)||this.isCreatedByName(t)){r=e.DwcFsConstants.RESULT_OBJECT_CREATOR_DISPLAY_NAME_KEY}return r};e.DeployedObjectsSearchRequestBuilder.prototype.isCreatedByDisplayName=function(t){return e.XString.isEqual(t,e.XFileAttribute.CREATED_BY_DISPLAY_NAME)};e.DeployedObjectsSearchRequestBuilder.prototype.isCreatedByName=function(t){return e.XString.isEqual(t,e.XFileAttribute.CREATED_BY)};e.DeployedObjectsSearchRequestBuilder.prototype.isDescription=function(t){return e.XString.isEqual(t,e.XFileAttribute.DESCRIPTION)};e.DeployedObjectsSearchRequestBuilder.prototype.isDisplayName=function(t){return e.XString.isEqual(t,e.XFileAttribute.DISPLAY_NAME)};e.DeployedObjectsSearchRequestBuilder.prototype.isName=function(t){return e.XString.isEqual(t,e.XFileAttribute.NAME)};e.ListAllSpacesRequestBuilder=function(){};e.ListAllSpacesRequestBuilder.prototype=new e.XObject;e.ListAllSpacesRequestBuilder.prototype._ff_c="ListAllSpacesRequestBuilder";e.ListAllSpacesRequestBuilder.SPACE_URL="/repository/spaces?inSpaceManagement=false&details=id,name,business_name,%23creatorBusinessName";e.ListAllSpacesRequestBuilder.create=function(){return new e.ListAllSpacesRequestBuilder};e.ListAllSpacesRequestBuilder.prototype.build=function(){return e.ListAllSpacesRequestBuilder.SPACE_URL};e.DatasphereRequestFactory={getAllSpacesSearchRequest:function(t){return e.AllSpacesSearchRequestBuilder.create(t).build()},getDeployedObjectsSearchRequest:function(t,r,s){return e.DeployedObjectsSearchRequestBuilder.create(t,r,s).build()},getGlobalSearchRequest:function(t,r){return e.GlobalSearchRequestBuilder.create(t,r).build()},getListSpaceOrFolderChildrenRequest:function(t,r,s){return e.ListSpaceOrFolderChildrenRequestBuilder.create(t,r,s).build()},getSearchInSpaceOrFolderRequest:function(t,r,s){return e.SearchInSpaceOrFolderRequestBuilder.create(t,r,s).build()},getSortGlobalSearchRequest:function(t,r){return e.SortGlobalSearchResultsRequestBuilder.create(t,r).build()},getSortSearchResultsForSpaceOrFolderRequest:function(t,r,s){return e.SortSearchResultsForSpaceOrFolderRequestBuilder.create(t,r,s).build()},listAllSpacesRequest:function(){return e.ListAllSpacesRequestBuilder.create().build()}};e.AllSpacesSearchRequestProcessor=function(){};e.AllSpacesSearchRequestProcessor.prototype=new e.XObject;e.AllSpacesSearchRequestProcessor.prototype._ff_c="AllSpacesSearchRequestProcessor";e.AllSpacesSearchRequestProcessor.create=function(){return new e.AllSpacesSearchRequestProcessor};e.AllSpacesSearchRequestProcessor.prototype.m_fileQueryConfig=null;e.AllSpacesSearchRequestProcessor.prototype.accept=function(t,r){this.m_fileQueryConfig=r;return e.DwcFileUtil.isListAllSpacesRequest(t,r.getSearchValue())};e.AllSpacesSearchRequestProcessor.prototype.process=function(){return e.DatasphereRequestFactory.getAllSpacesSearchRequest(this.m_fileQueryConfig)};e.BaseSearchRequestProcessor=function(){};e.BaseSearchRequestProcessor.prototype=new e.XObject;e.BaseSearchRequestProcessor.prototype._ff_c="BaseSearchRequestProcessor";e.BaseSearchRequestProcessor.AND="AND";e.BaseSearchRequestProcessor.CARET="^";e.BaseSearchRequestProcessor.CLOSE_PARENTHESES=")";e.BaseSearchRequestProcessor.CLOSE_SQUARE_BRACKET="]";e.BaseSearchRequestProcessor.COLON=":";e.BaseSearchRequestProcessor.DOUBLE_QUOTE='"';e.BaseSearchRequestProcessor.HIPHEN="-";e.BaseSearchRequestProcessor.NOT="NOT";e.BaseSearchRequestProcessor.OPEN_PARENTHESES="(";e.BaseSearchRequestProcessor.OPEN_SQUARE_BRACKET="[";e.BaseSearchRequestProcessor.OR="OR";e.BaseSearchRequestProcessor.QUESTION_MARK="?";e.BaseSearchRequestProcessor.SINGLE_BACK_SLASH="\\";e.BaseSearchRequestProcessor.SINGLE_QUOTE="'";e.BaseSearchRequestProcessor.TILDE="~";e.BaseSearchRequestProcessor.prototype.getDataSphereRequestReservedCharacters=function(){let t=e.XArray.create(12);t.set(0,e.BaseSearchRequestProcessor.SINGLE_BACK_SLASH);t.set(1,e.BaseSearchRequestProcessor.HIPHEN);t.set(2,e.BaseSearchRequestProcessor.OPEN_PARENTHESES);t.set(3,e.BaseSearchRequestProcessor.CLOSE_PARENTHESES);t.set(4,e.BaseSearchRequestProcessor.TILDE);t.set(5,e.BaseSearchRequestProcessor.CARET);t.set(6,e.BaseSearchRequestProcessor.QUESTION_MARK);t.set(7,e.BaseSearchRequestProcessor.DOUBLE_QUOTE);t.set(8,e.BaseSearchRequestProcessor.COLON);t.set(9,e.BaseSearchRequestProcessor.SINGLE_QUOTE);t.set(10,e.BaseSearchRequestProcessor.OPEN_SQUARE_BRACKET);t.set(11,e.BaseSearchRequestProcessor.CLOSE_SQUARE_BRACKET);return t};e.BaseSearchRequestProcessor.prototype.getDataSphereRequestReservedWords=function(){let t=e.XArray.create(3);t.set(0,e.BaseSearchRequestProcessor.AND);t.set(1,e.BaseSearchRequestProcessor.OR);t.set(2,e.BaseSearchRequestProcessor.NOT);return t};e.ListSpaceOrFolderChildrenRequestProcessor=function(){};e.ListSpaceOrFolderChildrenRequestProcessor.prototype=new e.XObject;e.ListSpaceOrFolderChildrenRequestProcessor.prototype._ff_c="ListSpaceOrFolderChildrenRequestProcessor";e.ListSpaceOrFolderChildrenRequestProcessor.create=function(){return new e.ListSpaceOrFolderChildrenRequestProcessor};e.ListSpaceOrFolderChildrenRequestProcessor.prototype.m_file=null;e.ListSpaceOrFolderChildrenRequestProcessor.prototype.m_fileQueryConfig=null;e.ListSpaceOrFolderChildrenRequestProcessor.prototype.accept=function(t,r){this.m_file=t;this.m_fileQueryConfig=r;return e.DwcFileUtil.isListSpaceOrFolderChildrenRequest(t,r.getSearchValue())};e.ListSpaceOrFolderChildrenRequestProcessor.prototype.process=function(){let t=e.XString.trim(this.m_fileQueryConfig.getSearchValue());t=!e.XStringUtils.isNullOrEmpty(t)?t:e.DwcFsConstants.WILDCARD;let r=this.m_file.getProviderMetadataAndAttributes().getStringByKey(e.XFileAttribute.FOLDER_ID);if(e.isNull(r)){r=this.m_file.getName()}return e.DatasphereRequestFactory.getListSpaceOrFolderChildrenRequest(r,t,this.m_fileQueryConfig)};e.BaseDatasphereResponseProcessor=function(){};e.BaseDatasphereResponseProcessor.prototype=new e.XObject;e.BaseDatasphereResponseProcessor.prototype._ff_c="BaseDatasphereResponseProcessor";e.BaseDatasphereResponseProcessor.DWC="dwc";e.BaseDatasphereResponseProcessor.SPACE="Space";e.BaseDatasphereResponseProcessor.prototype.m_iconMap=null;e.BaseDatasphereResponseProcessor.prototype.getIconByName=function(e){return this.m_iconMap.getByKey(e)};e.BaseDatasphereResponseProcessor.prototype.setupIcons=function(){this.m_iconMap=e.XLinkedHashMapByString.create();this.m_iconMap.put(e.DwcFsConstants.ICON_LIVEMODEL,e.XStringUtils.concatenate2(e.DwcFsConstants.FPA_ICON_PREFIX,e.DwcFsConstants.LIVE_MODEL));this.m_iconMap.put(e.DwcFsConstants.ICON_FACT_VIEW,e.XStringUtils.concatenate2(e.DwcFsConstants.FPA_ICON_PREFIX,e.DwcFsConstants.FACT_VIEW));this.m_iconMap.put(e.DwcFsConstants.ICON_SPACE,e.XStringUtils.concatenate2(e.DwcFsConstants.ICON_PREFIX,e.DwcFsConstants.CURRICULUM));this.m_iconMap.put(e.DwcFsConstants.ICON_FOLDER,e.XStringUtils.concatenate2(e.DwcFsConstants.ICON_PREFIX,e.DwcFsConstants.DWC_FOLDER))};e.DwcFileUtil={ASC:"ASC",ASCENDING:"ASCENDING",BACKSLASH:"\\",COMMA:",",DESC:"DESC",DOUBLE_QUOTE:'"',DOUBLE_QUOTE_WITH_TRAILING_SPACE:'" ',SINGLE_QUOTE:"'",SINGLE_QUOTE_OPEN_CLOSE:"''",SPACE_DIRECTORY:"Space",SPACE_DIRECTORY_WITH_SEPARATOR:"Space/",WHITESPACE:" ",addCommonMetaData:function(t){t.putBoolean(e.XFileAttribute.IS_HIDDEN,false);t.putBoolean(e.XFileAttribute.IS_EXECUTABLE,false);t.putBoolean(e.XFileAttribute.SUPPORTS_CARTESIAN_FILTER,false);t.putBoolean(e.XFileAttribute.SUPPORTS_SEARCH,true);t.putBoolean(e.XFileAttribute.SUPPORTS_OFFSET,true);t.putBoolean(e.XFileAttribute.SUPPORTS_MAX_ITEMS,true);t.putBoolean(e.XFileAttribute.SUPPORTS_SINGLE_SORT,true)},escapeSearchQueryText:function(t,r,s){let i=e.XString.trim(t);for(let t=0;t<r.size();t++){let s=r.get(t);if(e.XString.isEqual(s,e.DwcFileUtil.SINGLE_QUOTE)){i=e.DwcFileUtil.escapeSingleQuote(i)}else{let t=e.XStringUtils.concatenate2(e.DwcFileUtil.BACKSLASH,s);i=e.XString.replace(i,s,t)}}for(let t=0;t<s.size();t++){let r=s.get(t);let l=e.XStringUtils.concatenate2(r," ");let n=e.XStringUtils.concatenate2(" ",r);let o=e.XString.isEqual(r,i);if(o){i=e.XStringUtils.concatenate3(e.DwcFileUtil.DOUBLE_QUOTE,r,e.DwcFileUtil.DOUBLE_QUOTE)}let c=e.XString.startsWith(i,l);if(c){let t=e.XString.substring(i,e.XString.size(r)+1,e.XString.size(i));i=e.XStringUtils.concatenate4(e.DwcFileUtil.DOUBLE_QUOTE,r,e.DwcFileUtil.DOUBLE_QUOTE_WITH_TRAILING_SPACE,t)}let a=e.XString.endsWith(i,n);if(a){let t=e.XString.substring(i,0,e.XString.size(i)-e.XString.size(r));i=e.XStringUtils.concatenate4(t,e.DwcFileUtil.DOUBLE_QUOTE,r,e.DwcFileUtil.DOUBLE_QUOTE_WITH_TRAILING_SPACE)}}return i},escapeSingleQuote:function(t){return e.XString.replace(t,e.DwcFileUtil.SINGLE_QUOTE,e.DwcFileUtil.SINGLE_QUOTE_OPEN_CLOSE)},getAllSpaceSearchOrderByKey:function(t,r){let s=e.XStringBuffer.create();if(e.DwcFileUtil.isDisplayName(t)||e.DwcFileUtil.isName(t)){s.append(e.DwcFsConstants.DWC_SCHEMA_NAME_KEY);s.append(e.DwcFileUtil.WHITESPACE);s.append(r)}else if(e.DwcFileUtil.isDescription(t)){s.append(e.DwcFsConstants.RESULT_LABEL_KEY);s.append(e.DwcFileUtil.WHITESPACE);s.append(r)}else if(e.DwcFileUtil.isCreatedByDisplayName(t)||e.DwcFileUtil.isCreatedByName(t)){s.append(e.DwcFsConstants.RESULT_OBJECT_CREATOR_DISPLAY_NAME_KEY);s.append(e.DwcFileUtil.WHITESPACE);s.append(r)}return s.toString()},getBasicMetaData:function(t){let r=e.PrFactory.createStructure();r.putBoolean(e.XFileAttribute.IS_DIRECTORY,true);r.putString(e.XFileAttribute.DISPLAY_NAME,t);e.DwcFileUtil.addCommonMetaData(r);return r},getChildrenAttributes:function(t,r){let s="";let i="";let l="";let n=t.getStringByKey(e.DwcFsConstants.RESULT_KIND_KEY);if(e.notNull(n)&&(e.DwcFileUtil.isRepoFolder(n)||e.DwcFileUtil.isRepoSpace(n))){s=e.DwcFsConstants.DWC_FOLDER;i=e.DwcFsConstants.DWC_FOLDER;l=t.getStringByKey(e.DwcFsConstants.FOLDER_ID)}else{s=t.getStringByKey(e.DwcFsConstants.RESULT_BUSINESS_TYPE_KEY);i=e.DwcFsConstants.INA_MODEL}let o=r.getUri().getHost();let c=e.DwcFileUtil.getIconByObjectType(s);let a=t.getStringByKey(e.DwcFsConstants.DWC_SCHEMA_NAME_KEY);let u=e.XHashMapByString.create();u.put(e.XFileAttribute.FOLDER_ID,l);u.put(e.XFileAttribute.NODE_TYPE,n);u.put(e.XFileAttribute.ICON,c);let S="";if(e.notNull(s)&&!e.XString.isEqual(s,e.DwcFsConstants.DWC_FOLDER)){S=t.getStringByKey(e.DwcFsConstants.RESULT_LABEL_KEY)}u.put(e.XFileAttribute.DESCRIPTION,S);let p=t.getStringByKey(e.DwcFsConstants.RESULT_OBJECT_CREATOR_DISPLAY_NAME_KEY);u.put(e.XFileAttribute.CREATED_BY_DISPLAY_NAME,p);let E="";if(e.notNull(s)&&!e.XString.isEqual(s,e.DwcFsConstants.DWC_FOLDER)){E=t.getStringByKey(e.DwcFsConstants.RESULT_DEPLOYMENT_NAME_KEY)}else{E=t.getStringByKey(e.DwcFsConstants.RESULT_LABEL_KEY)}u.put(e.XFileAttribute.DISPLAY_NAME,E);u.put(e.XFileAttribute.OLAP_DATASOURCE_NAME,E);u.put(e.XFileAttribute.OLAP_DATASOURCE_SCHEMA,a);u.put(e.XFileAttribute.SYSTEM_NAME,o);u.put(e.XFileAttribute.OLAP_DATASOURCE_TYPE,i);u.put(e.XFileAttribute.SEMANTIC_TYPE,"");return u},getCommonOrderByKeyParameters:function(t,r,s){if(e.DwcFileUtil.isDisplayName(t)||e.DwcFileUtil.isName(t)){s.append(e.DwcFsConstants.RESULT_DEPLOYMENT_NAME_KEY);s.append(e.DwcFileUtil.WHITESPACE);s.append(r);if(e.XString.containsString(s.toString(),e.DwcFsConstants.RESULT_KIND_KEY)){s.append(e.DwcFileUtil.COMMA);s.append(e.DwcFsConstants.RESULT_LABEL_KEY);s.append(e.DwcFileUtil.WHITESPACE);s.append(r)}}else if(e.DwcFileUtil.isDescription(t)){s.append(e.DwcFsConstants.RESULT_LABEL_KEY);s.append(e.DwcFileUtil.WHITESPACE);s.append(r)}else if(e.DwcFileUtil.isCreatedByDisplayName(t)||e.DwcFileUtil.isCreatedByName(t)){s.append(e.DwcFsConstants.RESULT_OBJECT_CREATOR_DISPLAY_NAME_KEY);s.append(e.DwcFileUtil.WHITESPACE);s.append(r)}},getDwcSortDirection:function(t){if(e.XStringUtils.isNullOrEmpty(t)){return e.DwcFileUtil.DESC}switch(t){case e.DwcFileUtil.ASCENDING:return e.DwcFileUtil.ASC;default:return e.DwcFileUtil.DESC}},getIconByObjectType:function(t){let r="";if(e.XStringUtils.isNullOrEmpty(t)||e.XString.isEqual(t,e.DwcFsConstants.ANALYTICAL_DATASET_TYPE)){r=e.XStringUtils.concatenate2(e.DwcFsConstants.FPA_ICON_PREFIX,e.DwcFsConstants.FACT_VIEW)}else if(e.XString.isEqual(t,e.DwcFsConstants.ANALYTICAL_MODEL_TYPE)){r=e.XStringUtils.concatenate2(e.DwcFsConstants.FPA_ICON_PREFIX,e.DwcFsConstants.LIVE_MODEL)}else if(e.XString.isEqual(t,e.DwcFsConstants.CONSUMPTION_VIEW_PROSPECTIVE_TYPE)){r=e.XStringUtils.concatenate2(e.DwcFsConstants.FPA_ICON_PREFIX,e.DwcFsConstants.LIVE_MODEL)}else if(e.XString.isEqual(t,e.DwcFsConstants.DWC_FOLDER)){r=e.XStringUtils.concatenate2(e.DwcFsConstants.FPA_ICON_PREFIX,e.DwcFsConstants.DWC_FOLDER)}return r},getIconKey:function(t){let r=null;if(e.XStringUtils.isNullOrEmpty(t)||e.XString.isEqual(t,e.DwcFsConstants.ANALYTICAL_DATASET_TYPE)){r=e.DwcFsConstants.ICON_FACT_VIEW}else if(e.XString.isEqual(t,e.DwcFsConstants.ANALYTICAL_MODEL_TYPE)){r=e.DwcFsConstants.ICON_LIVEMODEL}else if(e.XString.isEqual(t,e.DwcFsConstants.CONSUMPTION_VIEW_PROSPECTIVE_TYPE)){r=e.DwcFsConstants.ICON_LIVEMODEL}return r},getListSpaceOrFolderOrderByKeyForSorting:function(t,r){let s=e.XStringBuffer.create();s.append(e.DwcFsConstants.RESULT_KIND_KEY).append(e.DwcFileUtil.WHITESPACE).append(e.DwcFileUtil.DESC);s.append(e.DwcFileUtil.COMMA);e.DwcFileUtil.getCommonOrderByKeyParameters(t,r,s);return s.toString()},getSearchSpaceOrFolderOrderByKey:function(t,r){let s=e.XStringBuffer.create();e.DwcFileUtil.getCommonOrderByKeyParameters(t,r,s);return s.toString()},getSearchSpaceResultMetaData:function(t){let r=t.getStringByKey(e.DwcFsConstants.DWC_SCHEMA_NAME_KEY);let s=t.getStringByKey(e.DwcFsConstants.RESULT_LABEL_KEY);let i=t.getStringByKey(e.DwcFsConstants.RESULT_OBJECT_CREATOR_DISPLAY_NAME_KEY);let l=t.getStringByKey(e.DwcFsConstants.RESULT_KIND_KEY);let n=t.getStringByKey(e.DwcFsConstants.FOLDER_ID);let o=e.PrFactory.createStructure();e.DwcFileUtil.addCommonMetaData(o);o.putBoolean(e.XFileAttribute.IS_DIRECTORY,true);if(!e.XStringUtils.isNullOrEmpty(r)){o.putString(e.XFileAttribute.DISPLAY_NAME,r)}if(!e.XStringUtils.isNullOrEmpty(s)){o.putString(e.XFileAttribute.DESCRIPTION,s)}if(!e.XStringUtils.isNullOrEmpty(i)){o.putString(e.XFileAttribute.CREATED_BY_DISPLAY_NAME,i)}if(!e.XStringUtils.isNullOrEmpty(l)){o.putString(e.XFileAttribute.NODE_TYPE,l)}if(!e.XStringUtils.isNullOrEmpty(n)){o.putString(e.XFileAttribute.FOLDER_ID,n)}return o},getSearchSpacesResultAttributes:function(t,r){let s=e.XHashMapByString.create();let i=t.getStringByKey(e.DwcFsConstants.RESULT_KIND_KEY);s.put(e.XFileAttribute.NODE_TYPE,i);s.put(e.XFileAttribute.SYSTEM_TYPE,e.SystemType.DWC.getName());s.put(e.XFileAttribute.ICON,r);let l=t.getStringByKey(e.DwcFsConstants.RESULT_LABEL_KEY);s.put(e.XFileAttribute.DESCRIPTION,l);let n=t.getStringByKey(e.DwcFsConstants.RESULT_OBJECT_CREATOR_DISPLAY_NAME_KEY);s.put(e.XFileAttribute.CREATED_BY_DISPLAY_NAME,n);let o=t.getStringByKey(e.DwcFsConstants.FOLDER_ID);s.put(e.XFileAttribute.FOLDER_ID,o);let c=t.getStringByKey(e.DwcFsConstants.DWC_SCHEMA_NAME_KEY);s.put(e.XFileAttribute.DISPLAY_NAME,c);return s},getSpaceAttributes:function(t,r){let s=e.XHashMapByString.create();let i=t.getStringByKey(e.DwcFsConstants.RESULT_KIND_KEY);s.put(e.XFileAttribute.NODE_TYPE,i);s.put(e.XFileAttribute.SYSTEM_TYPE,e.SystemType.DWC.getName());s.put(e.XFileAttribute.ICON,r);let l=t.getStringByKey(e.DwcFsConstants.RESULT_BUSINESS_NAME_KEY);s.put(e.XFileAttribute.DESCRIPTION,l);let n=t.getStringByKey(e.DwcFsConstants.RESULT_SPACE_CREATOR_DISPLAY_NAME_KEY);s.put(e.XFileAttribute.CREATED_BY_DISPLAY_NAME,n);let o=t.getStringByKey(e.DwcFsConstants.FOLDER_ID);s.put(e.XFileAttribute.FOLDER_ID,o);return s},getSpaceChildrenMetadata:function(t){let r=e.PrFactory.createStructure();let s=t.getStringByKey(e.DwcFsConstants.RESULT_LABEL_KEY);let i=t.getStringByKey(e.DwcFsConstants.RESULT_KIND_KEY);let l="";let n="";if(e.notNull(i)&&(e.DwcFileUtil.isRepoFolder(i)||e.DwcFileUtil.isRepoSpace(i))){l=t.getStringByKey(e.DwcFsConstants.RESULT_DEPLOYMENT_NAME_KEY);r.putBoolean(e.XFileAttribute.IS_DIRECTORY,true);r.putString(e.XFileAttribute.NODE_TYPE,i);n=t.getStringByKey(e.DwcFsConstants.FOLDER_ID)}let o=t.getStringByKey(e.DwcFsConstants.RESULT_OBJECT_CREATOR_DISPLAY_NAME_KEY);e.DwcFileUtil.addCommonMetaData(r);if(!e.XStringUtils.isNullOrEmpty(s)){r.putString(e.XFileAttribute.DISPLAY_NAME,s)}if(!e.XStringUtils.isNullOrEmpty(l)){r.putString(e.XFileAttribute.DESCRIPTION,l)}if(!e.XStringUtils.isNullOrEmpty(o)){r.putString(e.XFileAttribute.CREATED_BY_DISPLAY_NAME,o)}if(!e.XStringUtils.isNullOrEmpty(o)){r.putString(e.XFileAttribute.FOLDER_ID,n)}return r},getSpaceMetaDataFromDwcResponse:function(t){let r=t.getStringByKey(e.DwcFsConstants.RESULT_NAME_KEY);let s=t.getStringByKey(e.DwcFsConstants.RESULT_BUSINESS_NAME_KEY);let i=t.getStringByKey(e.DwcFsConstants.RESULT_SPACE_CREATOR_DISPLAY_NAME_KEY);let l=t.getStringByKey(e.DwcFsConstants.RESULT_KIND_KEY);let n=t.getStringByKey(e.DwcFsConstants.FOLDER_ID);let o=e.PrFactory.createStructure();e.DwcFileUtil.addCommonMetaData(o);o.putBoolean(e.XFileAttribute.IS_DIRECTORY,true);if(!e.XStringUtils.isNullOrEmpty(r)){o.putString(e.XFileAttribute.DISPLAY_NAME,r)}if(!e.XStringUtils.isNullOrEmpty(s)){o.putString(e.XFileAttribute.DESCRIPTION,s)}if(!e.XStringUtils.isNullOrEmpty(i)){o.putString(e.XFileAttribute.CREATED_BY_DISPLAY_NAME,i)}if(!e.XStringUtils.isNullOrEmpty(l)){o.putString(e.XFileAttribute.NODE_TYPE,l)}if(!e.XStringUtils.isNullOrEmpty(n)){o.putString(e.XFileAttribute.FOLDER_ID,n)}return o},getSpaceObjectAttributes:function(t,r,s,i,l){let n=t.getStringByKey(e.DwcFsConstants.DWC_SCHEMA_NAME_KEY);let o=e.XHashMapByString.create();o.put(e.XFileAttribute.NODE_TYPE,r);o.put(e.XFileAttribute.ICON,i);let c=t.getStringByKey(e.DwcFsConstants.RESULT_LABEL_KEY);o.put(e.XFileAttribute.DESCRIPTION,c);let a=t.getStringByKey(e.DwcFsConstants.RESULT_OBJECT_CREATOR_DISPLAY_NAME_KEY);o.put(e.XFileAttribute.CREATED_BY_DISPLAY_NAME,a);let u=t.getStringByKey(e.DwcFsConstants.RESULT_DEPLOYMENT_NAME_KEY);o.put(e.XFileAttribute.OLAP_DATASOURCE_NAME,u);o.put(e.XFileAttribute.OLAP_DATASOURCE_SCHEMA,n);o.put(e.XFileAttribute.SYSTEM_NAME,s);o.put(e.XFileAttribute.OLAP_DATASOURCE_TYPE,l);o.put(e.XFileAttribute.SEMANTIC_TYPE,"");return o},getSpaceObjectMetaDataFromDwcResponse:function(t){let r=t.getStringByKey(e.DwcFsConstants.RESULT_DEPLOYMENT_NAME_KEY);let s=t.getStringByKey(e.DwcFsConstants.RESULT_LABEL_KEY);let i=t.getStringByKey(e.DwcFsConstants.RESULT_OBJECT_CREATOR_DISPLAY_NAME_KEY);let l=e.PrFactory.createStructure();e.DwcFileUtil.addCommonMetaData(l);if(!e.XStringUtils.isNullOrEmpty(r)){l.putString(e.XFileAttribute.DISPLAY_NAME,r)}if(!e.XStringUtils.isNullOrEmpty(s)){l.putString(e.XFileAttribute.DESCRIPTION,s)}if(!e.XStringUtils.isNullOrEmpty(i)){l.putString(e.XFileAttribute.CREATED_BY_DISPLAY_NAME,i)}return l},isCreatedByDisplayName:function(t){return e.XString.isEqual(t,e.XFileAttribute.CREATED_BY_DISPLAY_NAME)},isCreatedByName:function(t){return e.XString.isEqual(t,e.XFileAttribute.CREATED_BY)},isDescription:function(t){return e.XString.isEqual(t,e.XFileAttribute.DESCRIPTION)},isDisplayName:function(t){return e.XString.isEqual(t,e.XFileAttribute.DISPLAY_NAME)},isGetDeployedObjectsRequest:function(t,r){return e.DwcFileUtil.isTargetUriContainsDirSeparator(t)&&!e.DwcFileUtil.isSpaceDirectory(r)},isGetRootFolderRequest:function(t){return e.XString.isEqual(t,e.XFile.SLASH)},isListAllSpacesRequest:function(t,r){let s=t.getName();let i=e.DwcFileUtil.parentHasSpaceFolder(t.getUri().getPathContainer().getParentPath());return e.DwcFileUtil.isSpaceDirectory(s)&&!i&&(e.XStringUtils.isNullOrEmpty(r)||e.XStringUtils.isNotNullAndNotEmpty(r)&&e.XString.size(r)===0)},isListRootFolderRequest:function(t){return e.XString.isEqual(t.getUri().getPath(),e.XFile.SLASH)},isListSpaceOrFolderChildrenRequest:function(t,r){let s=t.getProviderMetadataAndAttributes().getStringByKey(e.XFileAttribute.NODE_TYPE);return(e.DwcFileUtil.isRepoSpace(s)||e.DwcFileUtil.isRepoFolder(s))&&e.XStringUtils.isNullOrEmpty(r)},isName:function(t){return e.XString.isEqual(t,e.XFileAttribute.NAME)},isRepoFolder:function(t){return e.XString.isEqual(t,e.DwcFsConstants.NODE_TYPE_FOLDER)||e.XString.isEqual(t,e.DwcFsConstants.FOLDER)},isRepoSpace:function(t){return e.XString.isEqual(t,e.DwcFsConstants.NODE_TYPE_SPACE)},isSearchInSpaceOrFolderRequest:function(t,r){let s=t.getProviderMetadataAndAttributes().getStringByKey(e.XFileAttribute.NODE_TYPE);return(e.DwcFileUtil.isRepoSpace(s)||e.DwcFileUtil.isRepoFolder(s))&&!e.XStringUtils.isNullOrEmpty(r)},isSearchObjectsAcrossAllSpacesRequest:function(t,r){return e.DwcFileUtil.isSpaceDirectory(t.getName())&&e.XString.size(r)>0},isSpaceDirectory:function(t){return e.XString.isEqual(t,e.DwcFileUtil.SPACE_DIRECTORY)},isTargetUriContainsDirSeparator:function(t){return e.XString.containsString(t,e.DwcFileUtil.SPACE_DIRECTORY_WITH_SEPARATOR)},parentHasSpaceFolder:function(t){return e.XString.containsString(t,e.DwcFsConstants.SPACE_FOLDER)}};e.BaseGlobalSearchChildrenRequestBuilder=function(){};e.BaseGlobalSearchChildrenRequestBuilder.prototype=new e.BaseChildrenRequestBuilder;e.BaseGlobalSearchChildrenRequestBuilder.prototype._ff_c="BaseGlobalSearchChildrenRequestBuilder";e.BaseGlobalSearchChildrenRequestBuilder.SEARCH_QUERY_FILTER="$apply=filter(Search.search(query=%27SCOPE:SEARCH_DESIGN ((kind:EQ(S):%22deployedObject%22 AND (deployment_business_type:EQ(S):%22DWC_CUBE%22 OR deployment_business_type:EQ(S):%22DWC_FACT%22) AND exposed_for_consumption_id:EQ(S):%22true%22) OR kind:EQ(S):%22sap.repo.folder%22) (deployment_name business_name creator_user_name):(";e.BaseGlobalSearchChildrenRequestBuilder.prototype.buildSearchQuery=function(t){let r=this.getCommonRequestParameters(t);r.append(e.BaseGlobalSearchChildrenRequestBuilder.SEARCH_QUERY_FILTER);let s=e.XHttpUtils.encodeURIComponent(this.m_searchText);r.append(s).append(e.BaseChildrenRequestBuilder.CLOSE_BRACKETS).append(e.BaseChildrenRequestBuilder.SEARCH_QUERY_FILTER_CLOSE);return r};e.BaseSearchChildrenRequestBuilder=function(){};e.BaseSearchChildrenRequestBuilder.prototype=new e.BaseChildrenRequestBuilder;e.BaseSearchChildrenRequestBuilder.prototype._ff_c="BaseSearchChildrenRequestBuilder";e.BaseSearchChildrenRequestBuilder.SEARCH_QUERY_FILTER_DESCENDANT_OF="$apply=filter(Search.search(query=%27SCOPE:SEARCH_DESIGN%20((kind:EQ(S):%22deployedObject%22 AND (deployment_business_type:EQ(S):%22DWC_CUBE%22 OR deployment_business_type:EQ(S):%22DWC_FACT%22) AND exposed_for_consumption_id:EQ(S):%22true%22%20AND%20folder_id:DESCENDANT_OF:";e.BaseSearchChildrenRequestBuilder.SEARCH_QUERY_FOLDER_FILTER=") OR (kind:EQ(S):%22sap.repo.folder%22%20AND%20folder_id:DESCENDANT_OF:";e.BaseSearchChildrenRequestBuilder.SEARCH_QUERY_SEARCH_STRING_FILTER=")) (deployment_name business_name creator_user_name):(";e.BaseSearchChildrenRequestBuilder.prototype.buildSearchQuery=function(t){let r=this.getCommonRequestParameters(t);r.append(e.BaseSearchChildrenRequestBuilder.SEARCH_QUERY_FILTER_DESCENDANT_OF).append(e.DwcFsConstants.ENCODED_DOUBLE_QUOTES).append(this.folderId).append(e.DwcFsConstants.ENCODED_DOUBLE_QUOTES);r.append(e.BaseSearchChildrenRequestBuilder.SEARCH_QUERY_FOLDER_FILTER).append(e.DwcFsConstants.ENCODED_DOUBLE_QUOTES).append(this.folderId).append(e.DwcFsConstants.ENCODED_DOUBLE_QUOTES);r.append(e.BaseSearchChildrenRequestBuilder.SEARCH_QUERY_SEARCH_STRING_FILTER);let s=e.XHttpUtils.encodeURIComponent(this.m_searchText);r.append(s).append(e.BaseChildrenRequestBuilder.CLOSE_BRACKETS).append(e.BaseChildrenRequestBuilder.SEARCH_QUERY_FILTER_CLOSE);return r};e.ListSpaceOrFolderChildrenRequestBuilder=function(){};e.ListSpaceOrFolderChildrenRequestBuilder.prototype=new e.BaseChildrenRequestBuilder;e.ListSpaceOrFolderChildrenRequestBuilder.prototype._ff_c="ListSpaceOrFolderChildrenRequestBuilder";e.ListSpaceOrFolderChildrenRequestBuilder.SEARCH_QUERY_FILTER_CHILD_OFF="$apply=filter(Search.search(query=%27SCOPE:SEARCH_DESIGN%20((kind:EQ(S):%22deployedObject%22 AND (deployment_business_type:EQ(S):%22DWC_CUBE%22 OR deployment_business_type:EQ(S):%22DWC_FACT%22) AND exposed_for_consumption_id:EQ(S):%22true%22%20AND%20folder_id:CHILD_OF:";e.ListSpaceOrFolderChildrenRequestBuilder.SEARCH_QUERY_FOLDER_FILTER=") OR (kind:EQ(S):%22sap.repo.folder%22%20AND%20folder_id:CHILD_OF:";e.ListSpaceOrFolderChildrenRequestBuilder.SEARCH_QUERY_SEARCH_STRING_FILTER=")) (deployment_name business_name creator_user_name):(";e.ListSpaceOrFolderChildrenRequestBuilder.create=function(t,r,s){let i=new e.ListSpaceOrFolderChildrenRequestBuilder;i.folderId=t;i.m_searchText=r;i.m_fileQueryConfig=s;return i};e.ListSpaceOrFolderChildrenRequestBuilder.prototype.build=function(){let t="";let r="";if(e.notNull(this.m_fileQueryConfig)){if(this.m_fileQueryConfig.getSingleSortDef()!==null){let s=this.m_fileQueryConfig.getSingleSortDef().getDirection().getName();r=e.DwcFileUtil.getDwcSortDirection(s);let i=this.m_fileQueryConfig.getSingleSortDef().getAttributeName();t=e.DwcFileUtil.getListSpaceOrFolderOrderByKeyForSorting(i,r)}}let s=this.getCommonRequestParameters(t);s.append(e.ListSpaceOrFolderChildrenRequestBuilder.SEARCH_QUERY_FILTER_CHILD_OFF).append(e.DwcFsConstants.ENCODED_DOUBLE_QUOTES).append(this.folderId).append(e.DwcFsConstants.ENCODED_DOUBLE_QUOTES);s.append(e.ListSpaceOrFolderChildrenRequestBuilder.SEARCH_QUERY_FOLDER_FILTER).append(e.DwcFsConstants.ENCODED_DOUBLE_QUOTES).append(this.folderId).append(e.DwcFsConstants.ENCODED_DOUBLE_QUOTES);s.append(e.ListSpaceOrFolderChildrenRequestBuilder.SEARCH_QUERY_SEARCH_STRING_FILTER);let i=e.XHttpUtils.encodeURIComponent(this.m_searchText);s.append(i).append(e.BaseChildrenRequestBuilder.CLOSE_BRACKETS).append(e.BaseChildrenRequestBuilder.SEARCH_QUERY_FILTER_CLOSE);return s.toString()};e.GlobalSearchRequestProcessor=function(){};e.GlobalSearchRequestProcessor.prototype=new e.BaseSearchRequestProcessor;e.GlobalSearchRequestProcessor.prototype._ff_c="GlobalSearchRequestProcessor";e.GlobalSearchRequestProcessor.create=function(){return new e.GlobalSearchRequestProcessor};e.GlobalSearchRequestProcessor.prototype.m_fileQueryConfig=null;e.GlobalSearchRequestProcessor.prototype.m_lastSearchText=null;e.GlobalSearchRequestProcessor.prototype.m_lastSortDirection=null;e.GlobalSearchRequestProcessor.prototype.accept=function(t,r){this.m_fileQueryConfig=r;return e.DwcFileUtil.isSearchObjectsAcrossAllSpacesRequest(t,r.getSearchValue())};e.GlobalSearchRequestProcessor.prototype.isSortingRequest=function(t,r){return e.XString.isEqual(this.m_lastSearchText,t)&&!e.XString.isEqual(this.m_lastSortDirection,r)};e.GlobalSearchRequestProcessor.prototype.process=function(){let t=e.XString.trim(this.m_fileQueryConfig.getSearchValue());t=!e.XStringUtils.isNullOrEmpty(t)?t:e.DwcFsConstants.WILDCARD;if(!e.XString.isEqual(t,e.DwcFsConstants.WILDCARD)){t=e.DwcFileUtil.escapeSearchQueryText(t,this.getDataSphereRequestReservedCharacters(),this.getDataSphereRequestReservedWords())}let r=this.m_fileQueryConfig.getSingleSortDef().getDirection().getName();if(this.isSortingRequest(t,r)){this.m_lastSearchText=t;this.m_lastSortDirection=r;return e.DatasphereRequestFactory.getSortGlobalSearchRequest(t,this.m_fileQueryConfig)}else{this.m_lastSearchText=t;this.m_lastSortDirection=r;return e.DatasphereRequestFactory.getGlobalSearchRequest(t,this.m_fileQueryConfig)}};e.SearchInSpaceOrFolderRequestProcessor=function(){};e.SearchInSpaceOrFolderRequestProcessor.prototype=new e.BaseSearchRequestProcessor;e.SearchInSpaceOrFolderRequestProcessor.prototype._ff_c="SearchInSpaceOrFolderRequestProcessor";e.SearchInSpaceOrFolderRequestProcessor.create=function(){return new e.SearchInSpaceOrFolderRequestProcessor};e.SearchInSpaceOrFolderRequestProcessor.prototype.m_file=null;e.SearchInSpaceOrFolderRequestProcessor.prototype.m_fileQueryConfig=null;e.SearchInSpaceOrFolderRequestProcessor.prototype.m_lastFolderId=null;e.SearchInSpaceOrFolderRequestProcessor.prototype.m_lastSearchText=null;e.SearchInSpaceOrFolderRequestProcessor.prototype.m_lastSortDirection=null;e.SearchInSpaceOrFolderRequestProcessor.prototype.accept=function(t,r){this.m_file=t;this.m_fileQueryConfig=r;return e.DwcFileUtil.isSearchInSpaceOrFolderRequest(t,r.getSearchValue())};e.SearchInSpaceOrFolderRequestProcessor.prototype.isSortingRequest=function(t,r,s){return e.XString.isEqual(this.m_lastFolderId,t)&&e.XString.isEqual(this.m_lastSearchText,r)&&!e.XString.isEqual(this.m_lastSortDirection,s)};e.SearchInSpaceOrFolderRequestProcessor.prototype.process=function(){let t=e.XString.trim(this.m_fileQueryConfig.getSearchValue());t=!e.XStringUtils.isNullOrEmpty(t)?t:e.DwcFsConstants.WILDCARD;if(!e.XString.isEqual(t,e.DwcFsConstants.WILDCARD)){t=e.DwcFileUtil.escapeSearchQueryText(t,this.getDataSphereRequestReservedCharacters(),this.getDataSphereRequestReservedWords())}let r=this.m_file.getProviderMetadataAndAttributes().getStringByKey(e.XFileAttribute.FOLDER_ID);let s=this.m_fileQueryConfig.getSingleSortDef().getDirection().getName();if(this.isSortingRequest(r,t,s)){this.m_lastFolderId=r;this.m_lastSearchText=t;this.m_lastSortDirection=s;return e.DatasphereRequestFactory.getSortSearchResultsForSpaceOrFolderRequest(r,t,this.m_fileQueryConfig)}else{this.m_lastFolderId=r;this.m_lastSearchText=t;this.m_lastSortDirection=s;return e.DatasphereRequestFactory.getSearchInSpaceOrFolderRequest(r,t,this.m_fileQueryConfig)}};e.SearchResponseProcessor=function(){};e.SearchResponseProcessor.prototype=new e.BaseDatasphereResponseProcessor;e.SearchResponseProcessor.prototype._ff_c="SearchResponseProcessor";e.SearchResponseProcessor.HIERARCHY="hierarchy";e.SearchResponseProcessor.create=function(){let t=new e.SearchResponseProcessor;t.setupIcons();return t};e.SearchResponseProcessor.prototype.m_file=null;e.SearchResponseProcessor.prototype.m_fileSystem=null;e.SearchResponseProcessor.prototype.accept=function(t,r,s){this.m_file=t;this.m_fileSystem=r;return!e.DwcFileUtil.isListAllSpacesRequest(t,s)};e.SearchResponseProcessor.prototype.process=function(t){let r=e.XList.create();let s=t.getRootElementGeneric().asList().asStructure().getListByKey(e.DwcFsConstants.RESULT_SEARCH_ROOT_KEY);for(let t=0;t<s.size();t++){let i=s.get(t);if(e.DatasphereFeatureToggle.isActive(e.DatasphereFeatureToggle.RESOURCE_EXPLORER_DATASPHERE_FOLDER_SUPPORT)){this.processResponseWithFolders(i,r)}else{this.processResponseWithoutFolders(i,r)}}let i=t.getRootElementGeneric().asList().asStructure().getIntegerByKey(e.DwcFsConstants.RESULT_SEARCH_TOTAL_COUNT_KEY);this.m_file.setProviderChildFiles(r,i)};e.SearchResponseProcessor.prototype.processResponseWithFolders=function(t,r){let s=t.getStringByKey(e.DwcFsConstants.RESULT_LABEL_KEY);let i=e.XUri.createChildFile(this.m_file.getUri(),s);let l=e.DwcFileUtil.getChildrenAttributes(t,this.m_file);let n=e.DwcFile.createFile(this.m_fileSystem.getProcess(),this.m_fileSystem,i,l);let o=t.getListByKey(e.DwcFsConstants.RESULT_PARENT_HIERARCHY_KEY).getStructureAt(0).getListByKey(e.SearchResponseProcessor.HIERARCHY);let c=o.getIterator();while(c.hasNext()){let t=c.next();let r=t.getStringByKey(e.DwcFsConstants.FOLDER_ID_RESPONSE);if(!this.m_fileSystem.getFileCache().containsKey(r)){let s=e.XHashMapByString.create();let l=t.getStringByKey(e.DwcFsConstants.FOLDER_NAME_RESPONSE);s.put(e.XFileAttribute.DISPLAY_NAME,l);s.put(e.XFileAttribute.FOLDER_ID,r);s.put(e.XFileAttribute.NODE_TYPE,e.DwcFsConstants.NODE_TYPE_FOLDER);let n=e.DwcFileUtil.getBasicMetaData(l);let o=e.DwcFile.createFile(this.m_fileSystem.getProcess(),this.m_fileSystem,i,s);o.setProviderMetadata(n)}}let a=e.DwcFileUtil.getSpaceChildrenMetadata(t);this.setLinkUrlWithFolders(n,t);n.setProviderMetadata(a);r.add(n)};e.SearchResponseProcessor.prototype.processResponseWithoutFolders=function(t,r){let s=t.getStringByKey(e.DwcFsConstants.RESULT_DEPLOYMENT_NAME_KEY);let i=e.XUri.createChildFile(this.m_file.getUri(),s);let l=t.getStringByKey(e.DwcFsConstants.RESULT_BUSINESS_TYPE_KEY);let n=this.m_file.getUri().getHost();let o=e.DwcFileUtil.getIconKey(l);let c=this.getIconByName(o);let a=e.DwcFsConstants.INA_MODEL;let u=e.DwcFileUtil.getSpaceObjectAttributes(t,l,n,c,a);let S=e.DwcFile.createFile(this.m_fileSystem.getProcess(),this.m_fileSystem,i,u);let p=e.DwcFileUtil.getSpaceObjectMetaDataFromDwcResponse(t);this.setLinkUrl(S,t);S.setProviderMetadata(p);r.add(S)};e.SearchResponseProcessor.prototype.setLinkUrl=function(t,r){let s=t.getProviderAttributes();let i=e.XStringUtils.concatenate3(e.XUri.PATH_SEPARATOR,e.ProtocolType.SYS.toString(),e.XUri.PATH_SEPARATOR);let l=t.getName();let n=r.getStringByKey(e.DwcFsConstants.RESULT_SPACE_NAME_KEY);let o=e.XStringUtils.concatenate4(i,n,e.XUri.PATH_SEPARATOR,l);s.putBoolean(e.XFileAttribute.IS_LINK,true);s.putString(e.XFileAttribute.LINK_URL,o)};e.SearchResponseProcessor.prototype.setLinkUrlWithFolders=function(t,r){let s=e.XStringBuffer.create();s.append(e.XUri.PATH_SEPARATOR).append(e.ProtocolType.SYS.toString()).append(e.XUri.PATH_SEPARATOR);let i=t.getProviderMetadataAndAttributes().getStringByKey(e.XFileAttribute.SYSTEM_NAME);s.append(i).append(e.XUri.PATH_SEPARATOR).append(e.BaseDatasphereResponseProcessor.DWC).append(e.XUri.PATH_SEPARATOR).append(e.BaseDatasphereResponseProcessor.SPACE).append(e.XUri.PATH_SEPARATOR);let l=r.getListByKey(e.DwcFsConstants.RESULT_PARENT_HIERARCHY_KEY).getStructureAt(0).getListByKey(e.SearchResponseProcessor.HIERARCHY);let n=l.getIterator();while(n.hasNext()){let t=n.next();let r=t.getStringByKey(e.DwcFsConstants.FOLDER_ID_RESPONSE);s.append(r).append(e.XUri.PATH_SEPARATOR)}let o=r.getStringByKey(e.DwcFsConstants.FOLDER_ID);if(!e.XString.containsString(s.toString(),o)){s.append(o).append(e.XUri.PATH_SEPARATOR)}let c=t.getProviderAttributes();c.putBoolean(e.XFileAttribute.IS_LINK,true);c.putString(e.XFileAttribute.LINK_URL,s.toString())};e.SpaceListResponseProcessor=function(){};e.SpaceListResponseProcessor.prototype=new e.BaseDatasphereResponseProcessor;e.SpaceListResponseProcessor.prototype._ff_c="SpaceListResponseProcessor";e.SpaceListResponseProcessor.create=function(){let t=new e.SpaceListResponseProcessor;t.setupIcons();return t};e.SpaceListResponseProcessor.prototype.m_file=null;e.SpaceListResponseProcessor.prototype.m_fileSystem=null;e.SpaceListResponseProcessor.prototype.accept=function(t,r,s){this.m_file=t;this.m_fileSystem=r;return e.DwcFileUtil.isListAllSpacesRequest(t,s)};e.SpaceListResponseProcessor.prototype.process=function(t){let r=null;this.m_fileSystem.dropCache();let s=e.XList.create();if(e.DatasphereFeatureToggle.isActive(e.DatasphereFeatureToggle.RESOURCE_EXPLORER_DATASPHERE_FOLDER_SUPPORT)){let i=this.m_file.getUri().getHost();r=t.getRootElementGeneric().asList().asStructure().getListByKey(e.DwcFsConstants.RESULT_SEARCH_ROOT_KEY);for(let t=0;t<r.size();t++){let l=r.get(t);let n=l.getStringByKey(e.DwcFsConstants.DWC_SCHEMA_NAME_KEY);let o=l.getStringByKey(e.DwcFsConstants.FOLDER_ID);let c=e.XUri.createChildFile(this.m_file.getUri(),n);let a=this.getIconByName(e.DwcFsConstants.ICON_SPACE);let u=e.DwcFileUtil.getSearchSpacesResultAttributes(l,a);let S=e.DwcFile.createFile(this.m_fileSystem.getProcess(),this.m_fileSystem,c,u);let p=e.DwcFileUtil.getSearchSpaceResultMetaData(l);S.setProviderMetadata(p);let E=e.XStringBuffer.create();E.append(e.XUri.PATH_SEPARATOR).append(e.ProtocolType.SYS.toString()).append(e.XUri.PATH_SEPARATOR);E.append(i).append(e.XUri.PATH_SEPARATOR).append(e.BaseDatasphereResponseProcessor.DWC).append(e.XUri.PATH_SEPARATOR).append(e.BaseDatasphereResponseProcessor.SPACE).append(e.XUri.PATH_SEPARATOR);E.append(o).append(e.XUri.PATH_SEPARATOR);let _=S.getProviderAttributes();_.putBoolean(e.XFileAttribute.IS_LINK,true);_.putString(e.XFileAttribute.LINK_URL,E.toString());s.add(S)}}else{r=t.getRootElementGeneric().asList().asStructure().getListByKey(e.DwcFsConstants.RESULT_SPACE_LISTING_ROOT_KEY);for(let t=0;t<r.size();t++){let i=r.get(t);let l=i.getStringByKey(e.DwcFsConstants.RESULT_NAME_KEY);let n=e.XUri.createChildFile(this.m_file.getUri(),l);let o=this.getIconByName(e.DwcFsConstants.ICON_SPACE);let c=e.DwcFileUtil.getSpaceAttributes(i,o);let a=e.DwcFile.createFile(this.m_fileSystem.getProcess(),this.m_fileSystem,n,c);let u=e.DwcFileUtil.getSpaceMetaDataFromDwcResponse(i);a.setProviderMetadata(u);s.add(a)}}this.m_file.setProviderChildFiles(s,s.size())};e.GlobalSearchRequestBuilder=function(){};e.GlobalSearchRequestBuilder.prototype=new e.BaseGlobalSearchChildrenRequestBuilder;e.GlobalSearchRequestBuilder.prototype._ff_c="GlobalSearchRequestBuilder";e.GlobalSearchRequestBuilder.create=function(t,r){let s=new e.GlobalSearchRequestBuilder;s.m_searchText=t;s.m_fileQueryConfig=r;return s};e.GlobalSearchRequestBuilder.prototype.build=function(){let t="";let r;if(e.notNull(this.m_fileQueryConfig)){if(this.m_fileQueryConfig.getSingleSortDef()!==null){let s=this.m_fileQueryConfig.getSingleSortDef().getDirection().getName();r=e.DwcFileUtil.getDwcSortDirection(s);let i=this.m_fileQueryConfig.getSingleSortDef().getAttributeName();t=e.DwcFileUtil.getSearchSpaceOrFolderOrderByKey(i,r)}}let s=this.buildSearchQuery(t);return s.toString()};e.SearchInSpaceOrFolderRequestBuilder=function(){};e.SearchInSpaceOrFolderRequestBuilder.prototype=new e.BaseSearchChildrenRequestBuilder;e.SearchInSpaceOrFolderRequestBuilder.prototype._ff_c="SearchInSpaceOrFolderRequestBuilder";e.SearchInSpaceOrFolderRequestBuilder.create=function(t,r,s){let i=new e.SearchInSpaceOrFolderRequestBuilder;i.folderId=t;i.m_searchText=r;i.m_fileQueryConfig=s;return i};e.SearchInSpaceOrFolderRequestBuilder.prototype.build=function(){let t="";let r="";if(e.notNull(this.m_fileQueryConfig)){if(this.m_fileQueryConfig.getSingleSortDef()!==null){let s=this.m_fileQueryConfig.getSingleSortDef().getDirection().getName();r=e.DwcFileUtil.getDwcSortDirection(s);let i=this.m_fileQueryConfig.getSingleSortDef().getAttributeName();t=e.DwcFileUtil.getSearchSpaceOrFolderOrderByKey(i,r)}}let s=this.buildSearchQuery(t);return s.toString()};e.SortGlobalSearchResultsRequestBuilder=function(){};e.SortGlobalSearchResultsRequestBuilder.prototype=new e.BaseGlobalSearchChildrenRequestBuilder;e.SortGlobalSearchResultsRequestBuilder.prototype._ff_c="SortGlobalSearchResultsRequestBuilder";e.SortGlobalSearchResultsRequestBuilder.create=function(t,r){let s=new e.SortGlobalSearchResultsRequestBuilder;s.m_searchText=t;s.m_fileQueryConfig=r;return s};e.SortGlobalSearchResultsRequestBuilder.prototype.build=function(){let t="";if(e.notNull(this.m_fileQueryConfig)){if(this.m_fileQueryConfig.getSingleSortDef()!==null){let r=this.m_fileQueryConfig.getSingleSortDef().getDirection().getName();let s=e.DwcFileUtil.getDwcSortDirection(r);let i=this.m_fileQueryConfig.getSingleSortDef().getAttributeName();t=e.DwcFileUtil.getListSpaceOrFolderOrderByKeyForSorting(i,s)}}let r=this.buildSearchQuery(t);return r.toString()};e.SortSearchResultsForSpaceOrFolderRequestBuilder=function(){};e.SortSearchResultsForSpaceOrFolderRequestBuilder.prototype=new e.BaseSearchChildrenRequestBuilder;e.SortSearchResultsForSpaceOrFolderRequestBuilder.prototype._ff_c="SortSearchResultsForSpaceOrFolderRequestBuilder";e.SortSearchResultsForSpaceOrFolderRequestBuilder.create=function(t,r,s){let i=new e.SortSearchResultsForSpaceOrFolderRequestBuilder;i.folderId=t;i.m_searchText=r;i.m_fileQueryConfig=s;return i};e.SortSearchResultsForSpaceOrFolderRequestBuilder.prototype.build=function(){let t="";if(e.notNull(this.m_fileQueryConfig)){if(this.m_fileQueryConfig.getSingleSortDef()!==null){let r=this.m_fileQueryConfig.getSingleSortDef().getDirection().getName();let s=e.DwcFileUtil.getDwcSortDirection(r);let i=this.m_fileQueryConfig.getSingleSortDef().getAttributeName();t=e.DwcFileUtil.getListSpaceOrFolderOrderByKeyForSorting(i,s)}}let r=this.buildSearchQuery(t);return r.toString()};e.DatasphereFeatureToggle=function(){};e.DatasphereFeatureToggle.prototype=new e.XConstant;e.DatasphereFeatureToggle.prototype._ff_c="DatasphereFeatureToggle";e.DatasphereFeatureToggle.RESOURCE_EXPLORER_DATASPHERE_FOLDER_SUPPORT=null;e.DatasphereFeatureToggle.m_featureToggles=null;e.DatasphereFeatureToggle.create=function(t){let r=new e.DatasphereFeatureToggle;r.setupInternal(t);e.DatasphereFeatureToggle.m_featureToggles.put(t,r);return r};e.DatasphereFeatureToggle.disable=function(t){if(e.notNull(t)){t.m_isActive=false}};e.DatasphereFeatureToggle.disableAll=function(){if(e.notNull(e.DatasphereFeatureToggle.m_featureToggles)){e.XStream.of(e.DatasphereFeatureToggle.m_featureToggles).forEach(e.DatasphereFeatureToggle.disable)}};e.DatasphereFeatureToggle.enable=function(t){if(e.notNull(t)){t.m_isActive=true}};e.DatasphereFeatureToggle.enableAll=function(){if(e.notNull(e.DatasphereFeatureToggle.m_featureToggles)){e.XStream.of(e.DatasphereFeatureToggle.m_featureToggles).forEach(e.DatasphereFeatureToggle.enable)}};e.DatasphereFeatureToggle.isActive=function(t){return e.notNull(t)&&t.m_isActive};e.DatasphereFeatureToggle.lookup=function(t){return e.DatasphereFeatureToggle.m_featureToggles.getByKey(t)};e.DatasphereFeatureToggle.staticSetup=function(){e.DatasphereFeatureToggle.m_featureToggles=e.XHashMapByString.create();e.DatasphereFeatureToggle.RESOURCE_EXPLORER_DATASPHERE_FOLDER_SUPPORT=e.DatasphereFeatureToggle.create("RESOURCE_EXPLORER_DATASPHERE_FOLDER_SUPPORT")};e.DatasphereFeatureToggle.prototype.m_isActive=false;e.DatasphereFeatureToggle.prototype.setupInternal=function(t){e.XConstant.prototype.setupConstant.call(this,t);this.m_isActive=false};e.DwcFile=function(){};e.DwcFile.prototype=new e.DfXFileProvider;e.DwcFile.prototype._ff_c="DwcFile";e.DwcFile.createFile=function(t,r,s,i){let l=new e.DwcFile;l.setupDwcFile(t,r,s);let n=s.getPath();let o=e.XString.isEqual(r.getRootDirectoryUri().getPath(),s.getPath());if(o||e.DwcFile.isEndsWithPathSeparator(n,l.getName())||e.DwcFile.isSpaceFolderWithNoSpaceParent(l,s.getPathContainer().getParentPath())){l.getProviderAttributes().putString(e.XFileAttribute.NODE_TYPE,e.DwcFsConstants.FOLDER);let t=i.getByKey(e.XFileAttribute.SYSTEM_TYPE);l.getProviderAttributes().putString(e.XFileAttribute.SYSTEM_TYPE,t)}else{if(e.notNull(i)&&i.size()>0){let e=i.getKeysAsIterator();while(e.hasNext()){let t=e.next();l.getProviderAttributes().putString(t,i.getByKey(t))}}}l.setProviderIsExisting(true);let c=l.getProviderAttributes();let a=c.getStringByKey(e.XFileAttribute.FOLDER_ID);if(!e.XStringUtils.isNullOrEmpty(a)){r.getFileCache().put(a,l)}return l};e.DwcFile.isEndsWithPathSeparator=function(t,r){return e.XString.endsWith(t,e.XUri.PATH_SEPARATOR)&&!e.XString.endsWith(r,e.XUri.PATH_SEPARATOR)};e.DwcFile.isSpaceFolderWithNoSpaceParent=function(t,r){let s=e.DwcFileUtil.parentHasSpaceFolder(r);return e.XString.isEqual(t.getName(),e.DwcFsConstants.SPACE_FOLDER)&&!s};e.DwcFile.prototype.getProviderMetadataAndAttributes=function(){let t=e.DwcFileUtil.parentHasSpaceFolder(this.getUri().getPathContainer().getParentPath());if(e.XString.isEqual(this.getName(),e.DwcFileUtil.SPACE_DIRECTORY)&&!t){return this.getProviderMetadata()}else{let t=e.PrFactory.createStructure();let r=this.getProviderMetadata();t.putAll(r);t.putAll(this.getProviderAttributes());return t}};e.DwcFile.prototype.processProviderFetchChildren=function(e,t,r,s){let i=this.m_fs.processFetchChildren(this,e,t,r,s);return i};e.DwcFile.prototype.processProviderFetchMetadata=function(e,t,r,s){return this.m_fs.processFetchMetadata(this,e,t,r)};e.DwcFile.prototype.processProviderIsExisting=function(e,t,r){return this.m_fs.processIsExisting(this,e,t,r)};e.DwcFile.prototype.setupDwcFile=function(e,t,r){this.setupFile(e,t,r)};e.DwcFile.prototype.supportsProviderFetchChildren=function(){return true};e.DwcFile.prototype.supportsProviderIsExisting=function(){return true};e.DwcFileBaseAction2=function(){};e.DwcFileBaseAction2.prototype=new e.SyncActionExt;e.DwcFileBaseAction2.prototype._ff_c="DwcFileBaseAction2";e.DwcFileBaseAction2.INVALID_RESPONSE="Invalid response: ";e.DwcFileBaseAction2.RESPONSE_IS_NULL="Response is null";e.DwcFileBaseAction2.prototype.addResponseError=function(t){let r="";if(e.isNull(t)){r=e.DwcFileBaseAction2.RESPONSE_IS_NULL}else{r=e.XStringUtils.concatenate2(e.DwcFileBaseAction2.INVALID_RESPONSE,t.getRootElementAsString())}this.addErrorExt(e.OriginLayer.IOLAYER,e.ErrorCodes.SYSTEM_IO_HTTP,r,null)};e.DwcFileBaseAction2.prototype.callListener=function(e,t,r,s){t.onHttpFileProcessed(e,r,s)};e.DwcFileBaseAction2.prototype.releaseObjectInternal=function(){};e.XDwcFsActionFetch=function(){};e.XDwcFsActionFetch.prototype=new e.SyncActionExt;e.XDwcFsActionFetch.prototype._ff_c="XDwcFsActionFetch";e.XDwcFsActionFetch.createAndRun=function(t,r,s,i,l){let n=new e.XDwcFsActionFetch;n.m_uri=l;n.setupActionAndRun(t,r,s,i);return n};e.XDwcFsActionFetch.prototype.m_uri=null;e.XDwcFsActionFetch.prototype.callListener=function(e,t,r,s){t.onFileSystemFetched(e,r,s)};e.XDwcFsActionFetch.prototype.processSynchronization=function(e){let t=this.getActionContext().getFileSystemByUri(this.m_uri);this.setData(t);return false};e.SubSysFsDwcPrg=function(){};e.SubSysFsDwcPrg.prototype=new e.DfSubSysFilesystem;e.SubSysFsDwcPrg.prototype._ff_c="SubSysFsDwcPrg";e.SubSysFsDwcPrg.DEFAULT_PROGRAM_NAME="@SubSys.FileSystem.fsdwc";e.SubSysFsDwcPrg.prototype.m_dwcFileSystems=null;e.SubSysFsDwcPrg.prototype.m_fs=null;e.SubSysFsDwcPrg.prototype.getAllInitializedFileSystems=function(){return this.m_dwcFileSystems};e.SubSysFsDwcPrg.prototype.getFileSystem=function(e){return this.m_fs};e.SubSysFsDwcPrg.prototype.getFileSystemByUri=function(t){if(e.isNull(this.m_dwcFileSystems)){this.m_dwcFileSystems=e.XHashMapByString.create()}let r=t.getHost();let s;let i=this.m_dwcFileSystems.getByKey(r);if(e.notNull(i)){s=i}else{if(e.notNull(r)){s=e.DwcFileSystem.createByHost(this.getProcess(),r)}else{s=e.DwcFileSystem.create(this.getProcess())}this.m_dwcFileSystems.put(r,s)}this.m_fs=s;return this.m_fs};e.SubSysFsDwcPrg.prototype.getProgramName=function(){return e.SubSysFsDwcPrg.DEFAULT_PROGRAM_NAME};e.SubSysFsDwcPrg.prototype.getProtocolType=function(){return e.ProtocolType.FS_DWC};e.SubSysFsDwcPrg.prototype.newProgram=function(){let t=new e.SubSysFsDwcPrg;t.setup();return t};e.SubSysFsDwcPrg.prototype.processFetchFileSystem=function(t,r,s,i){if(this.getProcess().getConnectionPool()===null){this.getProcess().setEntity(e.ProcessEntity.CONNECTION_POOL,e.ConnectionPool.create(this.getProcess()))}return e.XDwcFsActionFetch.createAndRun(t,r,s,this,i)};e.SubSysFsDwcPrg.prototype.runProcess=function(){this.m_dwcFileSystems=e.XHashMapByString.create();let t=this.getProcess();if(this.getProcess().getConnectionPool()===null){this.getProcess().setEntity(e.ProcessEntity.CONNECTION_POOL,e.ConnectionPool.create(this.getProcess()))}this.m_fs=e.DwcFileSystem.create(t);this.activateSubSystem(null,e.SubSystemStatus.ACTIVE);return true};e.DwcFileSystem=function(){};e.DwcFileSystem.prototype=new e.DfXFileSystem;e.DwcFileSystem.prototype._ff_c="DwcFileSystem";e.DwcFileSystem.CHILDREN="children";e.DwcFileSystem.NAME="name";e.DwcFileSystem.create=function(t){let r=new e.DwcFileSystem;r.m_fileCache=e.XHashMapByString.create();r.setupProcessContext(t);return r};e.DwcFileSystem.createByHost=function(t,r){let s=new e.DwcFileSystem;s.m_fileCache=e.XHashMapByString.create();s.getRequestProcessors().add(e.AllSpacesSearchRequestProcessor.create());s.getRequestProcessors().add(e.ListSpaceOrFolderChildrenRequestProcessor.create());s.getRequestProcessors().add(e.SearchInSpaceOrFolderRequestProcessor.create());s.getRequestProcessors().add(e.GlobalSearchRequestProcessor.create());s.getResponseProcessors().add(e.SearchResponseProcessor.create());s.getResponseProcessors().add(e.SpaceListResponseProcessor.create());s.setupProcessContext(t);return s};e.DwcFileSystem.prototype.m_fileCache=null;e.DwcFileSystem.prototype.m_fs=null;e.DwcFileSystem.prototype.m_rootFile=null;e.DwcFileSystem.prototype.requestProcessors=null;e.DwcFileSystem.prototype.responseProcessors=null;e.DwcFileSystem.prototype.dropCache=function(){this.getFileCache().clear()};e.DwcFileSystem.prototype.getAttributes=function(t){let r=null;let s=t.getTargetUriPath();let i=this.getFileStructure(s);if(e.notNull(i)){r=i.getStructureByKey(e.DwcFsConstants.ATTRIBUTES)}if(e.isNull(r)){r=e.DfXFileSystem.prototype.getAttributes.call(this,t)}return r};e.DwcFileSystem.prototype.getChildren=function(t){let r=e.XList.create();return r};e.DwcFileSystem.prototype.getFileCache=function(){return this.m_fileCache};e.DwcFileSystem.prototype.getFileStructure=function(t){let r=null;if(e.XString.startsWith(t,e.XUri.PATH_SEPARATOR)===true){r=this.m_fs;let s=e.XStringTokenizer.splitString(t,e.XUri.PATH_SEPARATOR);if(e.XStringUtils.isNullOrEmpty(s.get(0))){s.removeAt(0)}let i=s.size();if(i>0){if(e.XStringUtils.isNullOrEmpty(s.get(i-1))){s.removeAt(i-1)}}for(let t=0;t<s.size()&&e.notNull(r);t++){let i=s.get(t);let l=r.getListByKey(e.DwcFileSystem.CHILDREN);r=null;if(e.notNull(l)){for(let t=0;t<l.size();t++){let s=l.getStructureAt(t);let n=s.getStringByKey(e.DwcFileSystem.NAME);if(e.XString.isEqual(i,n)){r=s;break}}}}}return r};e.DwcFileSystem.prototype.getFileType=function(t){if(this.isDirectoryExt(t)){return e.XFileType.DIR}else{return e.XFileType.FILE}};e.DwcFileSystem.prototype.getProtocolType=function(){return e.ProtocolType.FS_DWC};e.DwcFileSystem.prototype.getRequestProcessors=function(){if(e.isNull(this.requestProcessors)){this.requestProcessors=e.XList.create()}return this.requestProcessors};e.DwcFileSystem.prototype.getResponseProcessors=function(){if(e.isNull(this.responseProcessors)){this.responseProcessors=e.XList.create()}return this.responseProcessors};e.DwcFileSystem.prototype.isExistingExt=function(t){let r=t.getTargetUriPath();let s=this.getFileStructure(r);return e.notNull(s)};e.DwcFileSystem.prototype.isFileExt=function(e){return!this.isDirectoryExt(e)};e.DwcFileSystem.prototype.isProviderDirectoryExt=function(t){let r=t.getUri().getPath();let s=this.getFileStructure(r);return e.notNull(s)?s.containsKey(e.DwcFileSystem.CHILDREN):false};e.DwcFileSystem.prototype.newFile=function(t,r){let s=r.getPathContainer().getFileName();let i=this.getFileCache().getByKey(s);if(e.isNull(i)){i=e.DwcFile.createFile(t,this,r,e.XHashMapByString.create())}if(e.notNull(this.m_rootFile)&&e.XString.isEqual(r.getPath(),e.XUri.PATH_SEPARATOR)){let t=r.getHost();if(!e.XString.isEqual(t,this.m_rootFile.getUri().getHost())){this.m_rootFile=i}return this.m_rootFile}else if(e.XString.isEqual(r.getPath(),e.XUri.PATH_SEPARATOR)){this.m_rootFile=i}return i};e.DwcFileSystem.prototype.processFetchChildren=function(t,r,s,i,l){return e.DwcFileFetchChildrenAction.createAndRun(r,t,this,e.DwcGenericFileRequestListener2.create(t=>{let r=t.getData();if(e.notNull(s)){s.onFileProviderChildrenFetched(t,r,r.getProviderChildFiles(),r.getProviderChildrenResultset(),i)}}),i,l)};e.DwcFileSystem.prototype.processFetchMetadata=function(t,r,s,i){let l=e.DwcFileFetchMetadataAction2.createAndRun(r,t,this,e.DwcGenericFileRequestListener2.create(t=>{let r=t.getData();if(e.notNull(s)){s.onFileProviderFetchMetadata(t,r,r.getProviderMetadataAndAttributes(),i)}}),i);return l};e.DwcFileSystem.prototype.processIsExisting=function(t,r,s,i){let l=e.DwcFileFetchMetadataAction2.createAndRun(r,t,this,e.DwcGenericFileRequestListener2.create(t=>{let r=t.getData();if(e.notNull(s)){s.onFileProviderExistsCheck(t,r,r.getProviderIsExisting(),i)}}),i);return l};e.DwcFileFetchChildrenAction=function(){};e.DwcFileFetchChildrenAction.prototype=new e.DwcFileBaseAction2;e.DwcFileFetchChildrenAction.prototype._ff_c="DwcFileFetchChildrenAction";e.DwcFileFetchChildrenAction.AND="AND";e.DwcFileFetchChildrenAction.CARET="^";e.DwcFileFetchChildrenAction.CLOSE_PARENTHESES=")";e.DwcFileFetchChildrenAction.CLOSE_SQUARE_BRACKET="]";e.DwcFileFetchChildrenAction.COLON=":";e.DwcFileFetchChildrenAction.DOUBLE_QUOTE='"';e.DwcFileFetchChildrenAction.HIPHEN="-";e.DwcFileFetchChildrenAction.NOT="NOT";e.DwcFileFetchChildrenAction.OPEN_PARENTHESES="(";e.DwcFileFetchChildrenAction.OPEN_SQUARE_BRACKET="[";e.DwcFileFetchChildrenAction.OR="OR";e.DwcFileFetchChildrenAction.QUESTION_MARK="?";e.DwcFileFetchChildrenAction.SINGLE_BACK_SLASH="\\";e.DwcFileFetchChildrenAction.SINGLE_QUOTE="'";e.DwcFileFetchChildrenAction.TILDE="~";e.DwcFileFetchChildrenAction.createAndRun=function(t,r,s,i,l,n){let o=new e.DwcFileFetchChildrenAction;o.m_file=r;o.m_ofs=s;o.m_FileQueryConfig=n;o.setData(r);o.reservedCharacters=e.XArray.create(12);o.reservedCharacters.set(0,e.DwcFileFetchChildrenAction.SINGLE_BACK_SLASH);o.reservedCharacters.set(1,e.DwcFileFetchChildrenAction.HIPHEN);o.reservedCharacters.set(2,e.DwcFileFetchChildrenAction.OPEN_PARENTHESES);o.reservedCharacters.set(3,e.DwcFileFetchChildrenAction.CLOSE_PARENTHESES);o.reservedCharacters.set(4,e.DwcFileFetchChildrenAction.TILDE);o.reservedCharacters.set(5,e.DwcFileFetchChildrenAction.CARET);o.reservedCharacters.set(6,e.DwcFileFetchChildrenAction.QUESTION_MARK);o.reservedCharacters.set(7,e.DwcFileFetchChildrenAction.DOUBLE_QUOTE);o.reservedCharacters.set(8,e.DwcFileFetchChildrenAction.COLON);o.reservedCharacters.set(9,e.DwcFileFetchChildrenAction.SINGLE_QUOTE);o.reservedCharacters.set(10,e.DwcFileFetchChildrenAction.OPEN_SQUARE_BRACKET);o.reservedCharacters.set(11,e.DwcFileFetchChildrenAction.CLOSE_SQUARE_BRACKET);o.reservedWords=e.XArray.create(3);o.reservedWords.set(0,e.DwcFileFetchChildrenAction.AND);o.reservedWords.set(1,e.DwcFileFetchChildrenAction.OR);o.reservedWords.set(2,e.DwcFileFetchChildrenAction.NOT);o.setupActionAndRun(t,i,l,s);return o};e.DwcFileFetchChildrenAction.prototype.m_FileQueryConfig=null;e.DwcFileFetchChildrenAction.prototype.m_file=null;e.DwcFileFetchChildrenAction.prototype.m_ofs=null;e.DwcFileFetchChildrenAction.prototype.reservedCharacters=null;e.DwcFileFetchChildrenAction.prototype.reservedWords=null;e.DwcFileFetchChildrenAction.prototype.getDeployedObjects=function(t,r,s){let i=e.DatasphereRequestFactory.getDeployedObjectsSearchRequest(r,s,this.m_FileQueryConfig);let l=e.XUri.createFromUrl(i);let n=this.getDwcConnection().newRpcFunctionByUri(l);n.getRpcRequest().setMethod(e.HttpRequestMethod.HTTP_GET);n.processFunctionExecution(t,this,null)};e.DwcFileFetchChildrenAction.prototype.getDwcConnection=function(){return this.getProcess().getConnectionPool().getConnection(this.m_file.getUri().getHost())};e.DwcFileFetchChildrenAction.prototype.getSpacesForCurrentUser=function(t){let r=e.XUri.createFromUrl(e.DatasphereRequestFactory.listAllSpacesRequest());let s=this.getDwcConnection().newRpcFunctionByUri(r);s.getRpcRequest().setMethod(e.HttpRequestMethod.HTTP_GET);s.processFunctionExecution(t,this,null)};e.DwcFileFetchChildrenAction.prototype.onFunctionExecuted=function(t,r,s){this.addAllMessages(t);if(t.isValid()){if(e.notNull(r)&&r.getRootElement()!==null){if(this.m_ofs.getResponseProcessors()!==null&&!this.m_ofs.getResponseProcessors().isEmpty()){let e=this.m_ofs.getResponseProcessors().getIterator();while(e.hasNext()){let t=e.next();if(t.accept(this.m_file,this.m_ofs,this.m_FileQueryConfig.getSearchValue())){t.process(r);break}}}else{this.m_file.setProviderChildFiles(e.XList.create(),0)}}else{this.addResponseError(r)}}this.endSync()};e.DwcFileFetchChildrenAction.prototype.processSynchronization=function(t){let r;if(e.DatasphereFeatureToggle.isActive(e.DatasphereFeatureToggle.RESOURCE_EXPLORER_DATASPHERE_FOLDER_SUPPORT)){r=this.processTargetUri(t)}else{r=this.processTargetUriNoFolderSupport(t)}return r};e.DwcFileFetchChildrenAction.prototype.processTargetUri=function(t){let r=true;let s;if(e.DwcFileUtil.isListRootFolderRequest(this.m_file)){this.setRootFolders();r=false}else if(this.m_ofs.getRequestProcessors()!==null&&!this.m_ofs.getRequestProcessors().isEmpty()){let e=this.m_ofs.getRequestProcessors().getIterator();while(e.hasNext()){let r=e.next();if(r.accept(this.m_file,this.m_FileQueryConfig)){s=r.process();this.sendRequestToDataSphereBackend(s,t);break}}}return r};e.DwcFileFetchChildrenAction.prototype.processTargetUriNoFolderSupport=function(t){let r=true;let s=this.m_file.getUri().getPath();let i=this.m_file.getName();let l=null;let n="";if(e.notNull(this.m_FileQueryConfig)){n=this.m_FileQueryConfig.getSearchValue();l=e.XString.trim(n)}if(e.DwcFileUtil.isGetRootFolderRequest(s)){this.setRootFolders();r=false}else if(e.DwcFileUtil.isGetDeployedObjectsRequest(s,i)){l=e.DwcFileUtil.escapeSearchQueryText(l,this.reservedCharacters,this.reservedWords);l=!e.XStringUtils.isNullOrEmpty(l)?l:e.DwcFsConstants.WILDCARD;this.getDeployedObjects(t,i,l)}else if(e.DwcFileUtil.isListAllSpacesRequest(this.m_file,n)){this.getSpacesForCurrentUser(t)}else if(e.DwcFileUtil.isSearchObjectsAcrossAllSpacesRequest(this.m_file,n)){l=!e.XStringUtils.isNullOrEmpty(l)?l:e.DwcFsConstants.WILDCARD;if(!e.XString.isEqual(l,e.DwcFsConstants.WILDCARD)){l=e.DwcFileUtil.escapeSearchQueryText(l,this.reservedCharacters,this.reservedWords)}this.getDeployedObjects(t,null,l)}return r};e.DwcFileFetchChildrenAction.prototype.sendRequestToDataSphereBackend=function(t,r){let s=e.XUri.createFromUrl(t);let i=this.getDwcConnection().newRpcFunctionByUri(s);i.getRpcRequest().setMethod(e.HttpRequestMethod.HTTP_GET);i.processFunctionExecution(r,this,null)};e.DwcFileFetchChildrenAction.prototype.setRootFolders=function(){let t=e.XList.create();let r=e.XHashMapByString.create();r.put(e.XFileAttribute.NODE_TYPE,e.DwcFsConstants.FOLDER);r.put(e.XFileAttribute.SYSTEM_TYPE,e.DwcFsConstants.DWC);let s=e.XUri.createChildDir(this.m_file.getUri(),e.DwcFsConstants.SPACE_FOLDER);let i=e.DwcFile.createFile(this.getProcess(),this.m_ofs,s,r);let l=e.DwcFileUtil.getBasicMetaData(e.DwcFsConstants.SPACE_FOLDER);i.setProviderMetadata(l);t.add(i);this.m_file.setProviderChildFiles(t,1)};e.DwcFileFetchMetadataAction2=function(){};e.DwcFileFetchMetadataAction2.prototype=new e.DwcFileBaseAction2;e.DwcFileFetchMetadataAction2.prototype._ff_c="DwcFileFetchMetadataAction2";e.DwcFileFetchMetadataAction2.createAndRun=function(t,r,s,i,l){let n=new e.DwcFileFetchMetadataAction2;n.m_file=r;n.setData(r);n.setupActionAndRun(t,i,l,s);return n};e.DwcFileFetchMetadataAction2.prototype.m_file=null;e.DwcFileFetchMetadataAction2.prototype.onFunctionExecuted=function(e,t,r){this.endSync()};e.DwcFileFetchMetadataAction2.prototype.processSynchronization=function(e){let t;t=this.processTargetUri(e);return t};e.DwcFileFetchMetadataAction2.prototype.processTargetUri=function(t){let r=true;let s=this.m_file.getName();if(e.XString.isEqual(s,e.DwcFsConstants.SPACE_FOLDER)){let t=e.DwcFileUtil.getBasicMetaData(s);this.m_file.setProviderMetadata(t);r=false}return r};e.DwcModule=function(){};e.DwcModule.prototype=new e.DfModule;e.DwcModule.prototype._ff_c="DwcModule";e.DwcModule.DWC_MODULE="ff2140.dwc";e.DwcModule.s_module=null;e.DwcModule.getInstance=function(){if(e.isNull(e.DwcModule.s_module)){e.DfModule.checkInitialized(e.RuntimeModule.getInstance());e.DwcModule.s_module=e.DfModule.startExt(new e.DwcModule);e.DatasphereFeatureToggle.staticSetup();e.ProgramRegistry.setProgramFactory(new e.SubSysFsDwcPrg);e.DfModule.stopExt(e.DwcModule.s_module)}return e.DwcModule.s_module};e.DwcModule.prototype.getName=function(){return e.DwcModule.DWC_MODULE};e.DwcModule.getInstance();return e});
//# sourceMappingURL=ff2140.dwc.js.map