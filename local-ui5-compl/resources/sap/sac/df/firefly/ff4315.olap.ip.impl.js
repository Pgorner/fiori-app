/*!
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.define(["sap/sac/df/firefly/ff4310.olap.impl"],function(e){"use strict";e.XCommandCallback=function(){};e.XCommandCallback.prototype=new e.XObject;e.XCommandCallback.prototype._ff_c="XCommandCallback";e.XCommandCallback.create=function(n){let t=new e.XCommandCallback;t.m_callbackListener=n;return t};e.XCommandCallback.prototype.m_callbackListener=null;e.XCommandCallback.prototype.onCommandProcessed=function(e,n,t){this.m_callbackListener.onXCommandCallbackProcessed(e,n,t)};e.XPlanningCommandCallback=function(){};e.XPlanningCommandCallback.prototype=new e.XObject;e.XPlanningCommandCallback.prototype._ff_c="XPlanningCommandCallback";e.XPlanningCommandCallback.create=function(n){let t=new e.XPlanningCommandCallback;t.m_commandListener=n;return t};e.XPlanningCommandCallback.prototype.m_commandListener=null;e.XPlanningCommandCallback.prototype.onCommandProcessed=function(e){this.m_commandListener.onXPlanningCommandProcessed(e)};e.PlanningState={isApplicable:function(n,t,i){if(e.isNull(n)){return false}if(e.XStringUtils.isNullOrEmpty(t)){return false}return e.notNull(i)},update:function(n,t,i,a){if(e.PlanningState.isApplicable(n,t,i)){e.DataAreaState.updateState(n,t,i);e.PlanningModel.updateState(n,t,i,a)}},updateFromResponse:function(n,t,i,a,o){if(e.PlanningState.isApplicable(n,t,a)&&e.notNull(i)){e.PlanningModel.updateStateFromResponse(n,t,i,a,o)}}};e.DataAreaState=function(){};e.DataAreaState.prototype=new e.XObject;e.DataAreaState.prototype._ff_c="DataAreaState";e.DataAreaState.SINGLETON_KEY="com.oFF.ip.da.DataAreaState.Map";e.DataAreaState.createDataAreaState=function(n,t,i,a,o,r){let l=e.DataAreaState.getDataAreaStates(n,t);if(e.isNull(l)){return null}let s=i;if(e.XStringUtils.isNullOrEmpty(s)){s="DEFAULT"}let p=r;if(e.isNull(p)){p=e.CellLockingType.DEFAULT_SETTING_BACKEND}let g=l.getByKey(s);if(e.notNull(g)){throw e.XException.createIllegalStateException("data area already existing")}if(e.XString.isEqual(s,"DEFAULT")){if(e.XStringUtils.isNotNullAndNotEmpty(a)){throw e.XException.createIllegalStateException("DEFAULT data area - environment not supported")}if(e.XStringUtils.isNotNullAndNotEmpty(o)){throw e.XException.createIllegalStateException("DEFAULT data area - model not supported")}}g=new e.DataAreaState;g.m_systemName=t;g.m_dataArea=s;g.setModel(o);g.setEnvrionment(a);g.setCellLocking(p);g.setChangeCounter(-1);g.setChangedData(false);g.setWorkStatusActive(false);l.put(g.m_dataArea,g);return g};e.DataAreaState.getDataAreaState=function(n){if(e.isNull(n)){return null}let t=n.getPlanningService();return e.DataAreaState.getDataAreaStateByPlanningService(t)};e.DataAreaState.getDataAreaStateByName=function(n,t,i){let a=e.DataAreaState.getDataAreaStates(n,t);if(e.isNull(a)){return null}let o=i;if(e.XStringUtils.isNullOrEmpty(o)){o="DEFAULT"}return a.getByKey(o)};e.DataAreaState.getDataAreaStateByPlanningService=function(n){if(e.isNull(n)){return null}let t=n.getPlanningServiceConfig();if(e.isNull(t)){return null}let i=t.getSystemType();if(!i.isTypeOf(e.SystemType.BW)){return null}let a=t.getProperties();if(e.isNull(a)){return null}let o=a.getStringByKeyExt(e.PlanningConstants.DATA_AREA,"DEFAULT");return e.DataAreaState.getDataAreaStateByName(n.getApplication(),t.getSystemName(),o)};e.DataAreaState.getDataAreaStateByQueryConsumerService=function(n){if(e.isNull(n)){return null}let t=n.getSystemType();if(!t.isTypeOf(e.SystemType.BW)){return null}let i=n.getDataSource();if(e.isNull(i)){return null}let a=i.getDataArea();if(e.XStringUtils.isNullOrEmpty(a)){a="DEFAULT"}return e.DataAreaState.getDataAreaStateByName(n.getApplication(),n.getSystemName(),a)};e.DataAreaState.getDataAreaStates=function(n,t){if(e.isNull(n)){return null}if(e.XStringUtils.isNullOrEmpty(t)){return null}let i=n.getSession().getSessionSingletons();if(e.isNull(i)){return null}let a=i.getByKey(e.DataAreaState.SINGLETON_KEY);if(e.isNull(a)){a=e.XHashMapByString.create();i.put(e.DataAreaState.SINGLETON_KEY,a)}let o=a.getByKey(t);if(e.isNull(o)){o=e.XHashMapByString.create();a.put(t,o)}return o};e.DataAreaState.getQueryConsumerServices=function(n){return e.DataAreaUtil.getQueryConsumerServices(n)};e.DataAreaState.getQueryConsumerServicesByName=function(n,t,i){return e.DataAreaUtil.getQueryConsumerServicesByName(n,t,i)};e.DataAreaState.removeDataAreaState=function(n){if(e.isNull(n)){return}let t=n.getPlanningService();e.DataAreaState.removeDataAreaStateByPlanningService(t)};e.DataAreaState.removeDataAreaStateByName=function(n,t,i){let a=e.DataAreaState.getDataAreaStates(n,t);if(e.isNull(a)){return}let o=i;if(e.XStringUtils.isNullOrEmpty(o)){o="DEFAULT"}a.remove(o)};e.DataAreaState.removeDataAreaStateByPlanningService=function(n){if(e.isNull(n)){return}let t=n.getPlanningServiceConfig();if(e.isNull(t)){return}let i=t.getSystemType();if(!i.isTypeOf(e.SystemType.BW)){return}let a=t.getProperties();if(e.isNull(a)){return}let o=a.getStringByKeyExt(e.PlanningConstants.DATA_AREA,"DEFAULT");e.DataAreaState.removeDataAreaStateByName(n.getApplication(),t.getSystemName(),o)};e.DataAreaState.updateState=function(n,t,i){let a=n.getSystemLandscape();if(e.isNull(a)){return}let o=a.getSystemDescription(t);if(e.isNull(o)){return}let r=o.getSystemType();if(!r.isTypeOf(e.SystemType.BW)){return}let l=e.PrUtils.getListProperty(i,"DataAreas");if(e.isNull(l)){return}for(let i=0;i<l.size();i++){let a=e.PrUtils.getStructureElement(l,i);if(e.isNull(a)){continue}let o=e.PrUtils.getStringProperty(a,"Name");if(e.isNull(o)){continue}let r=e.DataAreaState.getDataAreaStateByName(n,t,o.getString());if(e.isNull(r)){continue}r.setSubmitted();let s=e.PrUtils.getStringProperty(a,"Model");if(e.notNull(s)){r.setModel(s.getString())}let p=e.PrUtils.getStringProperty(a,"Environment");if(e.notNull(p)){r.setEnvrionment(p.getString())}let g=e.PrUtils.getStringProperty(a,"CellLocking");if(e.notNull(g)){r.setCellLocking(e.CellLockingType.lookupByBWName(g.getString()))}let u=e.PrUtils.getNumberProperty(a,"ChangeCounter");if(e.notNull(u)){r.setChangeCounter(u.getInteger())}let c=e.PrUtils.getBooleanProperty(a,"HasChangedData");if(e.notNull(c)){r.setChangedData(c.getBoolean())}let P=e.PrUtils.getBooleanProperty(a,"IsWorkStatusActive");if(e.notNull(P)){r.setWorkStatusActive(P.getBoolean())}}};e.DataAreaState.prototype.m_cellLocking=null;e.DataAreaState.prototype.m_changeCounter=0;e.DataAreaState.prototype.m_changedData=false;e.DataAreaState.prototype.m_dataArea=null;e.DataAreaState.prototype.m_environment=null;e.DataAreaState.prototype.m_model=null;e.DataAreaState.prototype.m_submitted=false;e.DataAreaState.prototype.m_systemName=null;e.DataAreaState.prototype.m_workStatusActive=false;e.DataAreaState.prototype.getCellLocking=function(){return this.m_cellLocking};e.DataAreaState.prototype.getChangeCounter=function(){return this.m_changeCounter};e.DataAreaState.prototype.getDataArea=function(){return this.m_dataArea};e.DataAreaState.prototype.getEnvironment=function(){return this.m_environment};e.DataAreaState.prototype.getModel=function(){return this.m_model};e.DataAreaState.prototype.getSystemName=function(){return this.m_systemName};e.DataAreaState.prototype.hasChangedData=function(){return this.m_changedData};e.DataAreaState.prototype.isEqualSettings=function(n,t,i){if(!e.XString.isEqual(this.m_environment,n)){return false}if(!e.XString.isEqual(this.m_model,t)){return false}return this.m_cellLocking===i};e.DataAreaState.prototype.isSubmitted=function(){return this.m_submitted};e.DataAreaState.prototype.isWorkStatusActive=function(){return this.m_workStatusActive};e.DataAreaState.prototype.releaseObject=function(){this.m_systemName=null;this.m_dataArea=null;this.m_environment=null;this.m_model=null;this.m_cellLocking=null;e.XObject.prototype.releaseObject.call(this)};e.DataAreaState.prototype.serializeToJson=function(){let n=e.PrFactory.createStructure();n.putStringNotNull("Name",this.m_dataArea);n.putStringNotNull("Environment",this.m_environment);n.putStringNotNull("Model",this.m_model);n.putString("BackendCellLocking",this.m_cellLocking.toBwName());return n};e.DataAreaState.prototype.setCellLocking=function(n){if(e.isNull(n)){this.m_cellLocking=e.CellLockingType.DEFAULT_SETTING_BACKEND}else{this.m_cellLocking=n}};e.DataAreaState.prototype.setChangeCounter=function(e){this.m_changeCounter=e};e.DataAreaState.prototype.setChangedData=function(e){this.m_changedData=e};e.DataAreaState.prototype.setEnvrionment=function(n){if(e.XStringUtils.isNullOrEmpty(n)){this.m_environment=null}else{this.m_environment=n}};e.DataAreaState.prototype.setModel=function(n){if(e.XStringUtils.isNullOrEmpty(n)){this.m_model=null}else{this.m_model=n}};e.DataAreaState.prototype.setSubmitted=function(){this.m_submitted=true};e.DataAreaState.prototype.setWorkStatusActive=function(e){this.m_workStatusActive=e};e.PlanningOperationMetadata=function(){};e.PlanningOperationMetadata.prototype=new e.XObject;e.PlanningOperationMetadata.prototype._ff_c="PlanningOperationMetadata";e.PlanningOperationMetadata.prototype.m_dataArea=null;e.PlanningOperationMetadata.prototype.m_dimensions=null;e.PlanningOperationMetadata.prototype.m_instanceId=null;e.PlanningOperationMetadata.prototype.m_planningOperationIdentifier=null;e.PlanningOperationMetadata.prototype.m_variables=null;e.PlanningOperationMetadata.prototype.getDataArea=function(){return this.m_dataArea};e.PlanningOperationMetadata.prototype.getDimensions=function(){return this.m_dimensions};e.PlanningOperationMetadata.prototype.getInstanceId=function(){return this.m_instanceId};e.PlanningOperationMetadata.prototype.getPlanningOperationIdentifier=function(){return this.m_planningOperationIdentifier};e.PlanningOperationMetadata.prototype.getVariables=function(){return this.m_variables};e.PlanningOperationMetadata.prototype.setDataArea=function(e){this.m_dataArea=e};e.PlanningOperationMetadata.prototype.setDimenstions=function(e){this.m_dimensions=e};e.PlanningOperationMetadata.prototype.setInstanceId=function(e){this.m_instanceId=e};e.PlanningOperationMetadata.prototype.setPlanningOperationIdentifier=function(e){this.m_planningOperationIdentifier=e};e.PlanningOperationMetadata.prototype.setVariables=function(e){this.m_variables=e};e.PlanningSequenceStepMetadata=function(){};e.PlanningSequenceStepMetadata.prototype=new e.XObject;e.PlanningSequenceStepMetadata.prototype._ff_c="PlanningSequenceStepMetadata";e.PlanningSequenceStepMetadata.prototype.m_baseDatasource=null;e.PlanningSequenceStepMetadata.prototype.m_commandType=null;e.PlanningSequenceStepMetadata.prototype.m_filterName=null;e.PlanningSequenceStepMetadata.prototype.m_number=0;e.PlanningSequenceStepMetadata.prototype.m_planningFunctionDescription=null;e.PlanningSequenceStepMetadata.prototype.m_planningFunctionName=null;e.PlanningSequenceStepMetadata.prototype.m_queryName=null;e.PlanningSequenceStepMetadata.prototype.m_type=null;e.PlanningSequenceStepMetadata.prototype.getBaseDataSource=function(){return this.m_baseDatasource};e.PlanningSequenceStepMetadata.prototype.getCommendType=function(){return this.m_commandType};e.PlanningSequenceStepMetadata.prototype.getFilterName=function(){return this.m_filterName};e.PlanningSequenceStepMetadata.prototype.getNumber=function(){return this.m_number};e.PlanningSequenceStepMetadata.prototype.getPlanningFunctionDescription=function(){return this.m_planningFunctionDescription};e.PlanningSequenceStepMetadata.prototype.getPlanningFunctionName=function(){return this.m_planningFunctionName};e.PlanningSequenceStepMetadata.prototype.getQueryName=function(){return this.m_queryName};e.PlanningSequenceStepMetadata.prototype.getType=function(){return this.m_type};e.PlanningSequenceStepMetadata.prototype.setBaseDataSource=function(e){this.m_baseDatasource=e};e.PlanningSequenceStepMetadata.prototype.setCommendType=function(e){this.m_commandType=e};e.PlanningSequenceStepMetadata.prototype.setFilterName=function(e){this.m_filterName=e};e.PlanningSequenceStepMetadata.prototype.setNumber=function(e){this.m_number=e};e.PlanningSequenceStepMetadata.prototype.setPlanningFunctionDescription=function(e){this.m_planningFunctionDescription=e};e.PlanningSequenceStepMetadata.prototype.setPlanningFunctionName=function(e){this.m_planningFunctionName=e};e.PlanningSequenceStepMetadata.prototype.setQueryName=function(e){this.m_queryName=e};e.PlanningSequenceStepMetadata.prototype.setType=function(e){this.m_type=e};e.PlanningBatchRequestDecorator=function(){};e.PlanningBatchRequestDecorator.prototype=new e.XObject;e.PlanningBatchRequestDecorator.prototype._ff_c="PlanningBatchRequestDecorator";e.PlanningBatchRequestDecorator.getBatchRequestDecorator=function(n){if(e.isNull(n)){return null}let t=e.PrUtils.getStructureProperty(n,"Planning");if(e.isNull(t)){return null}let i=e.PrUtils.getListProperty(t,"commands");if(e.isNull(i)){return null}let a=e.XList.create();for(let n=0;n<i.size();n++){let t=e.PrUtils.getStructureElement(i,n);e.XObjectExt.assertNotNullExt(t,"illegal planning batch commands syntax");let o=e.PrFactory.createStructure();o.put("Planning",t);a.add(o)}let o=new e.PlanningBatchRequestDecorator;o.m_requestItems=a;return o};e.PlanningBatchRequestDecorator.prototype.m_requestItems=null;e.PlanningBatchRequestDecorator.prototype.buildResponse=function(n){if(n.size()!==this.getItemsSize()){throw e.XException.createIllegalStateException("illegal planning batch response structure")}let t=e.PrFactory.createStructure();let i=t.putNewList("Planning");for(let t=0;t<n.size();t++){let a=n.get(t);let o=e.PrUtils.getStructureProperty(a,"Planning");e.XObjectExt.assertNotNullExt(o,"illegal planning batch response structure");i.add(o)}return t};e.PlanningBatchRequestDecorator.prototype.getItemsSize=function(){return this.m_requestItems.size()};e.PlanningBatchRequestDecorator.prototype.getRequestItems=function(){return this.m_requestItems};e.PlanningBatchRequestDecoratorProvider=function(){};e.PlanningBatchRequestDecoratorProvider.prototype=new e.XObject;e.PlanningBatchRequestDecoratorProvider.prototype._ff_c="PlanningBatchRequestDecoratorProvider";e.PlanningBatchRequestDecoratorProvider.CLAZZ=null;e.PlanningBatchRequestDecoratorProvider.staticSetup=function(){e.PlanningBatchRequestDecoratorProvider.CLAZZ=e.XClass.create(e.PlanningBatchRequestDecoratorProvider)};e.PlanningBatchRequestDecoratorProvider.prototype.getBatchRequestDecorator=function(n){return e.PlanningBatchRequestDecorator.getBatchRequestDecorator(n)};e.PlanningRsRequestDecorator=function(){};e.PlanningRsRequestDecorator.prototype=new e.XObject;e.PlanningRsRequestDecorator.prototype._ff_c="PlanningRsRequestDecorator";e.PlanningRsRequestDecorator.getResultsetRequestDecorator=function(n,t,i){if(e.isNull(n)){return null}if(e.isNull(t)){return null}let a=t.getSystemType();if(e.isNull(a)){return null}if(!a.isTypeOf(e.SystemType.HANA)){return null}if(e.isNull(i)){return null}let o=e.PrUtils.getStructureProperty(i,"Analytics");if(e.isNull(o)){return null}let r=e.PrUtils.getStructureProperty(o,"Definition");if(e.isNull(r)){return null}let l=e.PrUtils.getListProperty(r,"NewValues");if(e.PrUtils.isListEmpty(l)){return null}let s=e.PrUtils.getStructureProperty(o,"DataSource");if(e.isNull(s)){return null}let p=e.PrUtils.getStringProperty(s,"Type");if(e.isNull(p)){return null}let g=e.MetaObjectType.lookup(p.getString());if(e.isNull(g)){return null}if(g!==e.MetaObjectType.PLANNING){return null}let u=e.QFactory.createDataSourceWithType(g,e.PrUtils.getStringValueProperty(s,"ObjectName",null));u.setSchemaName(e.PrUtils.getStringValueProperty(s,"SchemaName",null));let c=t.getSystemName();let P=e.PlanningModelUtil.getPlanningServiceFromQueryDataSource(n,c,u);if(e.isNull(P)){return null}let d=P.getPlanningContext();if(e.isNull(d)){return null}let m=d.createCommandRefresh();if(e.isNull(m)){return null}let y=m.serializeToElement(e.QModelFormat.INA_DATA).asStructure();if(e.isNull(y)){return null}let f=e.PlanningBatchRequestDecorator.getBatchRequestDecorator(y);let S=e.PrFactory.createStructure();let C=S.putNewList(e.ConnectionConstants.INA_BATCH);C.add(i);if(e.isNull(f)){C.add(y)}else{let n=f.getRequestItems();if(e.notNull(n)){for(let e=0;e<n.size();e++){C.add(n.get(e))}}}let h=new e.PlanningRsRequestDecorator;h.m_decoratedRequest=S;h.m_planningRequest=y;h.m_planningBatchDecorator=f;return h};e.PlanningRsRequestDecorator.prototype.m_decoratedRequest=null;e.PlanningRsRequestDecorator.prototype.m_planningBatchDecorator=null;e.PlanningRsRequestDecorator.prototype.m_planningRequest=null;e.PlanningRsRequestDecorator.prototype.m_planningResponse=null;e.PlanningRsRequestDecorator.prototype.buildResponse=function(n){this.m_planningResponse=null;if(e.isNull(n)){return null}let t=e.PrUtils.getListProperty(n,e.ConnectionConstants.INA_BATCH);if(e.isNull(t)){return null}let i;if(e.isNull(this.m_planningBatchDecorator)){i=2}else{i=1+this.m_planningBatchDecorator.getItemsSize()}if(t.size()!==i){return null}let a=e.PrUtils.getStructureElement(t,0);if(e.isNull(a)){return null}e.PrUtils.removeProperty(a,"Planning");let o;if(e.isNull(this.m_planningBatchDecorator)){o=e.PrUtils.getStructureElement(t,1)}else{let n=e.XList.create();for(let a=1;a<i;a++){n.add(e.PrUtils.getStructureElement(t,a))}o=this.m_planningBatchDecorator.buildResponse(n)}if(e.isNull(o)){return null}this.m_planningResponse=o;return a};e.PlanningRsRequestDecorator.prototype.getDecoratedRequest=function(){return this.m_decoratedRequest};e.PlanningRsRequestDecorator.prototype.getPlanningRequest=function(){return this.m_planningRequest};e.PlanningRsRequestDecorator.prototype.getPlanningResponse=function(){return this.m_planningResponse};e.PlanningRsRequestDecoratorProvider=function(){};e.PlanningRsRequestDecoratorProvider.prototype=new e.XObject;e.PlanningRsRequestDecoratorProvider.prototype._ff_c="PlanningRsRequestDecoratorProvider";e.PlanningRsRequestDecoratorProvider.CLAZZ=null;e.PlanningRsRequestDecoratorProvider.staticSetup=function(){e.PlanningRsRequestDecoratorProvider.CLAZZ=e.XClass.create(e.PlanningRsRequestDecoratorProvider)};e.PlanningRsRequestDecoratorProvider.prototype.getResultsetRequestDecorator=function(n,t,i){return e.PlanningRsRequestDecorator.getResultsetRequestDecorator(n,t,i)};e.InputEnablementRule=function(){};e.InputEnablementRule.prototype=new e.XObject;e.InputEnablementRule.prototype._ff_c="InputEnablementRule";e.InputEnablementRule.createRule=function(n,t){let i=new e.InputEnablementRule;i.m_mode=n;i.m_reason=t;return i};e.InputEnablementRule.prototype.m_mode=null;e.InputEnablementRule.prototype.m_reason=null;e.InputEnablementRule.prototype.cloneExt=function(n){return e.InputEnablementRule.createRule(this.m_mode,this.m_reason)};e.InputEnablementRule.prototype.getMode=function(){return this.m_mode};e.InputEnablementRule.prototype.getReason=function(){return this.m_reason};e.InputEnablementRule.prototype.releaseObject=function(){this.m_mode=null;this.m_reason=null;e.XObject.prototype.releaseObject.call(this)};e.PlanningManager=function(){};e.PlanningManager.prototype=new e.XObject;e.PlanningManager.prototype._ff_c="PlanningManager";e.PlanningManager.create=function(n){let t=new e.PlanningManager;t.m_queryManager=e.XWeakReferenceUtil.getWeakRef(n);t.m_allPlanningVersionSettings=e.XList.create();t.m_planningActionSequenceSettingsMode=e.PlanningVersionSettingsMode.SERVER_DEFAULT;t.m_versionAliases=e.XHashMapByString.create();t.m_inputReadinessRules=e.XList.create();return t};e.PlanningManager.prototype.m_allPlanningVersionSettings=null;e.PlanningManager.prototype.m_inputReadinessCacheMode=null;e.PlanningManager.prototype.m_inputReadinessMainQuery=null;e.PlanningManager.prototype.m_inputReadinessRules=null;e.PlanningManager.prototype.m_isPublicVersionEditPossible=false;e.PlanningManager.prototype.m_planningActionSequenceSettingsMode=null;e.PlanningManager.prototype.m_queryManager=null;e.PlanningManager.prototype.m_versionAliases=null;e.PlanningManager.prototype.m_versionRestrictionType=null;e.PlanningManager.prototype.addInputReadinessFilterState=function(n,t){let i=this.getQueryModel();if(e.notNull(i)){i.addInputReadinessFilterState(n,t)}};e.PlanningManager.prototype.addNewInputEnablementRule=function(n,t){let i=e.InputEnablementRule.createRule(n,t);this.m_inputReadinessRules.add(i);return i};e.PlanningManager.prototype.addPlanningVersionSettings=function(n){if(e.isNull(n)){return null}let t=this.findPlanningActionSequenceSettingsInternal(n);if(this.isPlanningVersionSettingsEqual(t,n)){return t}this.m_allPlanningVersionSettings.removeElement(t);this.m_allPlanningVersionSettings.add(n);this.getQueryManager().invalidateState();return n};e.PlanningManager.prototype.clearInputEnablementRules=function(){this.m_inputReadinessRules.clear()};e.PlanningManager.prototype.clearInputReadinessFilter=function(){let n=this.getQueryModel();if(e.notNull(n)){n.clearInputReadinessFilter()}};e.PlanningManager.prototype.clearVersionAliases=function(){this.m_versionAliases.clear();let n=this.getQueryManager();if(e.notNull(n)){n.invalidateState()}};e.PlanningManager.prototype.copyFrom=function(n,t){e.XObject.prototype.copyFrom.call(this,n,t);let i=n;this.m_inputReadinessRules=e.XCollectionUtils.createListOfClones(i.getInputEnablementRules());this.m_inputReadinessMainQuery=i.getInputReadinessMainQuery()};e.PlanningManager.prototype.createDataAreaCommand=function(n){let t=this.getDataArea();return e.isNull(t)?null:t.createPlanningContextCommand(n)};e.PlanningManager.prototype.createDataAreaCommandDocReset=function(){return this.createDataAreaCommand(e.PlanningContextCommandType.DOC_RESET)};e.PlanningManager.prototype.createDataAreaCommandDocSave=function(){return this.createDataAreaCommand(e.PlanningContextCommandType.DOC_SAVE)};e.PlanningManager.prototype.createDataAreaCommandRefresh=function(){return this.createDataAreaCommand(e.PlanningContextCommandType.REFRESH)};e.PlanningManager.prototype.deletePlanningVersionSettings=function(e){let n=this.findPlanningActionSequenceSettingsInternal(e);return this.m_allPlanningVersionSettings.removeElement(n)};e.PlanningManager.prototype.findPlanningActionSequenceSettingsInternal=function(n){if(e.isNull(n)){return null}let t=n.getVersionUniqueName();let i=this.m_allPlanningVersionSettings.size();for(let n=0;n<i;n++){let i=this.m_allPlanningVersionSettings.get(n);if(e.XString.isEqual(i.getVersionUniqueName(),t)){return i}}return null};e.PlanningManager.prototype.getAllPlanningVersionSettings=function(){return this.m_allPlanningVersionSettings};e.PlanningManager.prototype.getDataArea=function(){let n=this.getDataAreaName();if(e.XStringUtils.isNullOrEmpty(n)){return null}let t=this.getQueryManager();let i=t.getApplication();if(e.isNull(i)){return null}let a=e.DataAreaUtil.getPlanningService(i,t.getSystemName(),n);if(e.isNull(a)){return null}let o=a.getPlanningContext();if(e.isNull(o)){return null}return o};e.PlanningManager.prototype.getDataAreaName=function(){let n=this.getQueryModel();if(e.isNull(n)){return null}return n.getDataArea()};e.PlanningManager.prototype.getInputEnablementRules=function(){return this.m_inputReadinessRules};e.PlanningManager.prototype.getInputReadinessCacheMode=function(){return this.m_inputReadinessCacheMode};e.PlanningManager.prototype.getInputReadinessFilter=function(){let n=this.getQueryModel();if(e.notNull(n)){return n.getInputReadinessFilter()}return null};e.PlanningManager.prototype.getInputReadinessMainQuery=function(){return this.m_inputReadinessMainQuery};e.PlanningManager.prototype.getPlanningMode=function(){return this.getQueryModel().getPlanningMode()};e.PlanningManager.prototype.getPlanningModel=function(){let n=this.getQueryManager();if(this.getQueryManager().isReleased()){return null}let t=n.getApplication();if(e.isNull(t)){return null}let i=n.getDataSource();if(e.isNull(i)){return null}let a=e.PlanningModelUtil.getPlanningServiceFromQueryDataSource(t,n.getSystemName(),i);if(e.isNull(a)){return null}let o=a.getPlanningContext();if(e.isNull(o)){return null}return o};e.PlanningManager.prototype.getPlanningRestriction=function(){return this.m_versionRestrictionType};e.PlanningManager.prototype.getPlanningVersionIdentifier=function(n,t,i){return e.PlanningVersionIdentifier.create(n,t,i)};e.PlanningManager.prototype.getPlanningVersionSettings=function(n,t,i){return e.PlanningVersionSettings.create(n,t,i)};e.PlanningManager.prototype.getPlanningVersionSettingsMode=function(){if(e.isNull(this.m_planningActionSequenceSettingsMode)){return e.PlanningVersionSettingsMode.SERVER_DEFAULT}return this.m_planningActionSequenceSettingsMode};e.PlanningManager.prototype.getPlanningVersionSettingsSimple=function(n,t,i){return e.PlanningVersionSettingsSimple.create(n,t,i)};e.PlanningManager.prototype.getQueryManager=function(){return e.XWeakReferenceUtil.getHardRef(this.m_queryManager)};e.PlanningManager.prototype.getQueryModel=function(){return this.getQueryManager().getQueryModelBase()};e.PlanningManager.prototype.getResultSetContainer=function(){return this.getQueryManager().getActiveResultSetContainer()};e.PlanningManager.prototype.getVersionAliases=function(){return this.m_versionAliases};e.PlanningManager.prototype.hasChangedCells=function(){let e=this.getResultSetContainer();if(!e.hasDataEntryCollection()){return false}let n=e.getDataEntryCollection();return n.hasChangedDataEntries()};e.PlanningManager.prototype.hasChangedValueLocks=function(){let e=this.getResultSetContainer();if(!e.hasDataEntryCollection()){return false}let n=e.getDataEntryCollection();return n.hasChangedValueLocks()};e.PlanningManager.prototype.hasChangedValues=function(){let e=this.getResultSetContainer();if(!e.hasDataEntryCollection()){return false}let n=e.getDataEntryCollection();return n.hasChangedValues()};e.PlanningManager.prototype.hasNewValues=function(){let e=this.getResultSetContainer();if(e.hasDataEntryCollection()){let n=e.getDataEntryCollection();if(n.hasChangedDataEntries()){return true}}if(e.hasNewLineCollection()){let n=e.getNewLineCollection();return n.hasValidNewLines()}return false};e.PlanningManager.prototype.initializeDataAreaState=function(){let n=e.MessageManagerSimple.createMessageManager();if(this.isDataEntryEnabled()){let t=this.getQueryManager();let i=t.getSystemType();if(i.isTypeOf(e.SystemType.BW)){let i=t.getSystemName();let a=t.getApplication();let o=this.getDataAreaName();let r=e.DataAreaState.getDataAreaStateByName(a,i,o);if(e.isNull(r)){r=e.DataAreaState.createDataAreaState(a,i,o,null,null,null);if(e.isNull(r)){n.addError(e.ErrorCodes.INVALID_STATE,"illegal data area")}}else{if(!r.isSubmitted()){n.addErrorExt(e.OriginLayer.DRIVER,0,"illegal data area",r)}}}}return n};e.PlanningManager.prototype.isDataEntryEnabled=function(){return this.getQueryModel().isDataEntryEnabled()};e.PlanningManager.prototype.isDataEntryReadOnly=function(){return this.getQueryModel().isDataEntryReadOnly()};e.PlanningManager.prototype.isPlanningVersionSettingsEqual=function(n,t){if(n===t){return true}if(e.isNull(n)||e.isNull(t)){return false}if(!e.XString.isEqual(n.getVersionUniqueName(),t.getVersionUniqueName())){return false}if(!e.XString.isEqual(n.getActionSequenceId(),t.getActionSequenceId())){return false}if(n.getUseExternalView()!==t.getUseExternalView()){return false}return n.getIsRestrictionEnabled()===t.getIsRestrictionEnabled()};e.PlanningManager.prototype.isPublicVersionEditPossible=function(){return this.m_isPublicVersionEditPossible&&this.getPlanningMode()===e.PlanningMode.FORCE_PLANNING};e.PlanningManager.prototype.releaseObject=function(){this.m_queryManager=e.XObjectExt.release(this.m_queryManager);this.m_allPlanningVersionSettings=e.XObjectExt.release(this.m_allPlanningVersionSettings);this.m_versionRestrictionType=null;this.m_planningActionSequenceSettingsMode=null;this.m_versionAliases=e.XObjectExt.release(this.m_versionAliases);this.m_inputReadinessRules=e.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_inputReadinessRules);this.m_inputReadinessMainQuery=null;e.XObject.prototype.releaseObject.call(this)};e.PlanningManager.prototype.removeVersionAlias=function(n){this.m_versionAliases.remove(n);let t=this.getQueryManager();if(e.notNull(t)){t.invalidateState()}};e.PlanningManager.prototype.resetNewValues=function(){let e=this.getResultSetContainer();e.resetDataEntryCollection();e.resetNewLineCollection()};e.PlanningManager.prototype.setDataEntryEnabled=function(e){this.getQueryModel().setDataEntryEnabled(e)};e.PlanningManager.prototype.setDataEntryReadOnly=function(e){this.getQueryModel().setDataEntryReadOnly(e)};e.PlanningManager.prototype.setInputReadinessCacheMode=function(e){this.m_inputReadinessCacheMode=e};e.PlanningManager.prototype.setInputReadinessFilter=function(n){let t=this.getQueryModel();if(e.notNull(t)){t.setInputReadinessFilter(n)}};e.PlanningManager.prototype.setInputReadinessMainQuery=function(e){this.m_inputReadinessMainQuery=e};e.PlanningManager.prototype.setPlanningMode=function(e){this.getQueryModel().setPlanningMode(e)};e.PlanningManager.prototype.setPlanningRestriction=function(e){this.m_versionRestrictionType=e};e.PlanningManager.prototype.setPlanningVersionSettingsMode=function(n){if(e.isNull(n)){this.m_planningActionSequenceSettingsMode=e.PlanningVersionSettingsMode.SERVER_DEFAULT}else{this.m_planningActionSequenceSettingsMode=n}};e.PlanningManager.prototype.setPublicVersionEditPossible=function(e){this.m_isPublicVersionEditPossible=e};e.PlanningManager.prototype.setVersionAliasById=function(n,t){this.m_versionAliases.put(n,t);let i=this.getQueryManager();if(e.notNull(i)){i.invalidateState()}};e.PlanningManager.prototype.supportsDataEntryReadOnly=function(){return this.getQueryModel().supportsDataEntryReadOnly()};e.PlanningManager.prototype.transferNewValues=function(){let e=this.getResultSetContainer();let n=e.getId();let t=e.getDataEntryCollection();e.setDataEntryCollection(null);let i=e.getNewLineCollection();e.setNewLineCollection(null);let a=e.getDocumentIdCollection();e.setDocumentIdCollection(null);this.getQueryManager().invalidateState();e=this.getResultSetContainer();e.setId(n);e.setDataEntryCollection(t);e.setNewLineCollection(i);e.setDocumentIdCollection(a)};e.PlanningManagerFactoryImpl=function(){};e.PlanningManagerFactoryImpl.prototype=new e.XObject;e.PlanningManagerFactoryImpl.prototype._ff_c="PlanningManagerFactoryImpl";e.PlanningManagerFactoryImpl.create=function(){return new e.PlanningManagerFactoryImpl};e.PlanningManagerFactoryImpl.prototype.createPlanningManager=function(n){return e.PlanningManager.create(n)};e.PlanningModelQueryDataSource=function(){};e.PlanningModelQueryDataSource.prototype=new e.XObject;e.PlanningModelQueryDataSource.prototype._ff_c="PlanningModelQueryDataSource";e.PlanningModelQueryDataSource.prototype.m_datasource=null;e.PlanningModelQueryDataSource.prototype.m_description=null;e.PlanningModelQueryDataSource.prototype.m_primary=false;e.PlanningModelQueryDataSource.prototype.getDataSource=function(){return this.m_datasource};e.PlanningModelQueryDataSource.prototype.getDescription=function(){return this.m_description};e.PlanningModelQueryDataSource.prototype.isPrimary=function(){return this.m_primary};e.PlanningModelQueryDataSource.prototype.releaseObject=function(){this.m_description=null;this.m_datasource=null;e.XObject.prototype.releaseObject.call(this)};e.PlanningModelQueryDataSource.prototype.setDataSource=function(e){this.m_datasource=e};e.PlanningModelQueryDataSource.prototype.setDescription=function(e){this.m_description=e};e.PlanningModelQueryDataSource.prototype.setPrimary=function(e){this.m_primary=e};e.PlanningVersionIdentifier=function(){};e.PlanningVersionIdentifier.prototype=new e.XObject;e.PlanningVersionIdentifier.prototype._ff_c="PlanningVersionIdentifier";e.PlanningVersionIdentifier.create=function(n,t,i){let a=new e.PlanningVersionIdentifier;a.m_versionId=n;a.m_sharedVersion=t;a.m_versionOwner=i;return a};e.PlanningVersionIdentifier.prototype.m_sharedVersion=false;e.PlanningVersionIdentifier.prototype.m_versionId=0;e.PlanningVersionIdentifier.prototype.m_versionOwner=null;e.PlanningVersionIdentifier.prototype.getVersionId=function(){return this.m_versionId};e.PlanningVersionIdentifier.prototype.getVersionOwner=function(){return this.m_versionOwner};e.PlanningVersionIdentifier.prototype.getVersionUniqueName=function(){let n=e.XStringBuffer.create();n.append(e.XInteger.convertToString(this.m_versionId));if(this.m_sharedVersion){n.append(":");if(e.XStringUtils.isNotNullAndNotEmpty(this.m_versionOwner)){n.append(this.m_versionOwner)}}return n.toString()};e.PlanningVersionIdentifier.prototype.isSharedVersion=function(){return this.m_sharedVersion};e.PlanningVersionIdentifier.prototype.releaseObject=function(){this.m_versionOwner=null;e.XObject.prototype.releaseObject.call(this)};e.PlanningVersionIdentifier.prototype.toString=function(){return this.getVersionUniqueName()};e.PlanningVersionParameterMetadata=function(){};e.PlanningVersionParameterMetadata.prototype=new e.XObject;e.PlanningVersionParameterMetadata.prototype._ff_c="PlanningVersionParameterMetadata";e.PlanningVersionParameterMetadata.prototype.m_description=null;e.PlanningVersionParameterMetadata.prototype.m_hasValue=false;e.PlanningVersionParameterMetadata.prototype.m_name=null;e.PlanningVersionParameterMetadata.prototype.m_type=null;e.PlanningVersionParameterMetadata.prototype.m_valueAllowed=false;e.PlanningVersionParameterMetadata.prototype.m_valueElement=null;e.PlanningVersionParameterMetadata.prototype.getDescription=function(){return this.m_description};e.PlanningVersionParameterMetadata.prototype.getName=function(){return this.m_name};e.PlanningVersionParameterMetadata.prototype.getType=function(){return this.m_type};e.PlanningVersionParameterMetadata.prototype.getValue=function(){return this.m_valueElement};e.PlanningVersionParameterMetadata.prototype.hasValue=function(){return this.m_hasValue};e.PlanningVersionParameterMetadata.prototype.isValueAllowed=function(){return this.m_valueAllowed};e.PlanningVersionParameterMetadata.prototype.releaseObject=function(){this.m_name=null;this.m_description=null;this.m_type=null;this.m_valueElement=e.XObjectExt.release(this.m_valueElement);e.XObject.prototype.releaseObject.call(this)};e.PlanningVersionParameterMetadata.prototype.setDescription=function(e){this.m_description=e};e.PlanningVersionParameterMetadata.prototype.setHasValue=function(e){this.m_hasValue=e};e.PlanningVersionParameterMetadata.prototype.setName=function(e){this.m_name=e};e.PlanningVersionParameterMetadata.prototype.setType=function(e){this.m_type=e};e.PlanningVersionParameterMetadata.prototype.setValue=function(n){if(e.isNull(n)){this.m_valueElement=null}else{this.m_valueElement=e.PrUtils.deepCopyElement(n)}};e.PlanningVersionParameterMetadata.prototype.setValueAllowed=function(e){this.m_valueAllowed=e};e.PlanningVersionStateDescription=function(){};e.PlanningVersionStateDescription.prototype=new e.XObject;e.PlanningVersionStateDescription.prototype._ff_c="PlanningVersionStateDescription";e.PlanningVersionStateDescription.create=function(n,t,i,a,o,r){let l=new e.PlanningVersionStateDescription;l.m_id=n;l.m_description=t;l.m_userName=i;l.m_startTime=a;l.m_endTime=o;l.m_changeCount=r;return l};e.PlanningVersionStateDescription.prototype.m_changeCount=0;e.PlanningVersionStateDescription.prototype.m_description=null;e.PlanningVersionStateDescription.prototype.m_endTime=null;e.PlanningVersionStateDescription.prototype.m_id=null;e.PlanningVersionStateDescription.prototype.m_startTime=null;e.PlanningVersionStateDescription.prototype.m_userName=null;e.PlanningVersionStateDescription.prototype.getChangeCount=function(){return this.m_changeCount};e.PlanningVersionStateDescription.prototype.getDescription=function(){return this.m_description};e.PlanningVersionStateDescription.prototype.getEndTime=function(){return this.m_endTime};e.PlanningVersionStateDescription.prototype.getId=function(){return this.m_id};e.PlanningVersionStateDescription.prototype.getStartTime=function(){return this.m_startTime};e.PlanningVersionStateDescription.prototype.getUserName=function(){return this.m_userName};e.PlanningVersionStateDescription.prototype.toString=function(){let n=e.XStringBuffer.create();n.append("(");n.append("id: ").append(this.m_id);n.append(", ");n.append("description: ").append('"').append(this.m_description).append('"');n.append(")");return n.toString()};e.PlanningModelCommandHelper={s_helper:null,SetHelper:function(n){e.PlanningModelCommandHelper.s_helper=n},convertRequestToBatch:function(n){return e.PlanningModelCommandHelper.s_helper.convertRequestToBatch(n)},convertResponseFromBatch:function(n){return e.PlanningModelCommandHelper.s_helper.convertResponseFromBatch(n)},getCommandResponse:function(n,t,i){return e.PlanningModelCommandHelper.s_helper.getCommandResponse(n,t,i)},getResponsesReturnCodeStrict:function(n,t){return e.PlanningModelCommandHelper.s_helper.getResponsesReturnCodeStrict(n,t)},processResponseGetVersions:function(n,t,i){return e.PlanningModelCommandHelper.s_helper.processResponseGetVersions(n,t,i)},resetVersionParameters:function(n,t){e.PlanningModelCommandHelper.s_helper.resetVersionParameters(n,t)}};e.PlanningActionParameterMetadata=function(){};e.PlanningActionParameterMetadata.prototype=new e.XObject;e.PlanningActionParameterMetadata.prototype._ff_c="PlanningActionParameterMetadata";e.PlanningActionParameterMetadata.prototype.m_actionMetadata=null;e.PlanningActionParameterMetadata.prototype.m_parameters=null;e.PlanningActionParameterMetadata.prototype.getActionMetadata=function(){return e.XWeakReferenceUtil.getHardRef(this.m_actionMetadata)};e.PlanningActionParameterMetadata.prototype.getParameters=function(){return this.m_parameters};e.PlanningActionParameterMetadata.prototype.hasParameters=function(){return e.PrUtils.isListEmpty(this.m_parameters)};e.PlanningActionParameterMetadata.prototype.setActionMetadata=function(n){this.m_actionMetadata=e.XWeakReferenceUtil.getWeakRef(n)};e.PlanningActionParameterMetadata.prototype.setParameters=function(e){this.m_parameters=e};e.PlanningActionParameterMetadata.prototype.toString=function(){if(e.isNull(this.m_parameters)){return"no parameters"}return e.PrUtils.serialize(this.m_parameters,true,true,4)};e.PlanningFunctionMetadata=function(){};e.PlanningFunctionMetadata.prototype=new e.PlanningOperationMetadata;e.PlanningFunctionMetadata.prototype._ff_c="PlanningFunctionMetadata";e.PlanningFunctionMetadata.prototype.m_baseDatasource=null;e.PlanningFunctionMetadata.prototype.getBaseDataSource=function(){return this.m_baseDatasource};e.PlanningFunctionMetadata.prototype.getPlanningFunctionIdentifier=function(){return this.getPlanningOperationIdentifier()};e.PlanningFunctionMetadata.prototype.setBaseDataSource=function(e){this.m_baseDatasource=e};e.PlanningSequenceMetadata=function(){};e.PlanningSequenceMetadata.prototype=new e.PlanningOperationMetadata;e.PlanningSequenceMetadata.prototype._ff_c="PlanningSequenceMetadata";e.PlanningSequenceMetadata.prototype.m_stepMetadataList=null;e.PlanningSequenceMetadata.prototype.getPlanningSequenceIdentifier=function(){return this.getPlanningOperationIdentifier()};e.PlanningSequenceMetadata.prototype.getStepMetadataList=function(){return this.m_stepMetadataList};e.PlanningSequenceMetadata.prototype.setStepMetadataList=function(e){this.m_stepMetadataList=e};e.PlanningVersionPrivilege=function(){};e.PlanningVersionPrivilege.prototype=new e.XObject;e.PlanningVersionPrivilege.prototype._ff_c="PlanningVersionPrivilege";e.PlanningVersionPrivilege.create=function(n,t,i,a,o){let r=new e.PlanningVersionPrivilege;r.setupExt(n,t,i,a,o);return r};e.PlanningVersionPrivilege.createQualifiedName=function(n,t,i,a,o){e.XObjectExt.assertNotNullExt(n,"planning model null");let r=e.XStringBuffer.create();r.append("model:[").append(n.getPlanningModelSchema()).append("]");r.append("[").append(n.getPlanningModelName()).append("]");e.XObjectExt.assertNotNullExt(t,"query data source null");if(t.getType()!==e.MetaObjectType.PLANNING){throw e.XException.createIllegalArgumentException("illegal query data source object type")}r.append("datasource:[").append(t.getSchemaName()).append("]");r.append("[").append(t.getPackageName()).append("]");r.append("[").append(t.getObjectName()).append("]");r.append("version:[").append(i.getVersionUniqueName()).append("]");e.XObjectExt.assertNotNullExt(a,"planning privilege null");r.append("privilege:[").append(a.getName()).append("]");e.XStringUtils.checkStringNotEmpty(o,"Grantee null");r.append("grantee:[").append(o).append("]");return r.toString()};e.PlanningVersionPrivilege.prototype.m_clientState=null;e.PlanningVersionPrivilege.prototype.m_grantee=null;e.PlanningVersionPrivilege.prototype.m_planningModel=null;e.PlanningVersionPrivilege.prototype.m_privilege=null;e.PlanningVersionPrivilege.prototype.m_qualifiedName=null;e.PlanningVersionPrivilege.prototype.m_queryDataSource=null;e.PlanningVersionPrivilege.prototype.m_serverState=null;e.PlanningVersionPrivilege.prototype.m_versionIdentifier=null;e.PlanningVersionPrivilege.prototype.doGrant=function(){if(this.m_serverState===e.PlanningPrivilegeState.GRANTED){this.m_clientState=e.PlanningPrivilegeState.GRANTED}else{this.m_clientState=e.PlanningPrivilegeState.TO_BE_GRANTED}};e.PlanningVersionPrivilege.prototype.doRevoke=function(){if(this.m_serverState===e.PlanningPrivilegeState.NEW){this.m_clientState=e.PlanningPrivilegeState.NEW}else{this.m_clientState=e.PlanningPrivilegeState.TO_BE_REVOKED}};e.PlanningVersionPrivilege.prototype.getGrantee=function(){return this.m_grantee};e.PlanningVersionPrivilege.prototype.getPlanningModel=function(){return this.m_planningModel};e.PlanningVersionPrivilege.prototype.getPrivilege=function(){return this.m_privilege};e.PlanningVersionPrivilege.prototype.getPrivilegeState=function(){return this.m_clientState};e.PlanningVersionPrivilege.prototype.getPrivilegeStateServer=function(){return this.m_serverState};e.PlanningVersionPrivilege.prototype.getQualifiedName=function(){return this.m_qualifiedName};e.PlanningVersionPrivilege.prototype.getQueryDataSource=function(){return this.m_queryDataSource};e.PlanningVersionPrivilege.prototype.getVersionId=function(){return this.m_versionIdentifier.getVersionId()};e.PlanningVersionPrivilege.prototype.getVersionOwner=function(){return this.m_versionIdentifier.getVersionOwner()};e.PlanningVersionPrivilege.prototype.getVersionUniqueName=function(){return this.m_versionIdentifier.getVersionUniqueName()};e.PlanningVersionPrivilege.prototype.isSharedVersion=function(){return this.m_versionIdentifier.isSharedVersion()};e.PlanningVersionPrivilege.prototype.releaseObject=function(){this.m_qualifiedName=null;this.m_clientState=null;this.m_serverState=null;this.m_grantee=null;this.m_privilege=null;this.m_versionIdentifier=e.XObjectExt.release(this.m_versionIdentifier);this.m_queryDataSource=null;this.m_planningModel=null;e.XObject.prototype.releaseObject.call(this)};e.PlanningVersionPrivilege.prototype.setPrivilegeState=function(e){this.m_clientState=e};e.PlanningVersionPrivilege.prototype.setPrivilegeStateServer=function(e){this.m_serverState=e};e.PlanningVersionPrivilege.prototype.setupExt=function(n,t,i,a,o){e.XObjectExt.assertNotNullExt(n,"Planning model null");this.m_planningModel=n;e.XObjectExt.assertNotNullExt(t,"Query data source null");this.m_queryDataSource=t;if(this.m_queryDataSource.getType()!==e.MetaObjectType.PLANNING){throw e.XException.createIllegalArgumentException("illegal query data source object type")}this.m_versionIdentifier=this.getPlanningModel().copyVersionIdentifier(i);e.XObjectExt.assertNotNullExt(a,"Planning privilege null");this.m_privilege=a;e.XStringUtils.checkStringNotEmpty(o,"grantee null");this.m_grantee=o;this.m_serverState=e.PlanningPrivilegeState.NEW;this.m_clientState=e.PlanningPrivilegeState.NEW;this.m_qualifiedName=e.PlanningVersionPrivilege.createQualifiedName(this.m_planningModel,this.m_queryDataSource,this.m_versionIdentifier,this.m_privilege,this.m_grantee)};e.PlanningVersionPrivilege.prototype.toString=function(){let n=e.XStringBuffer.create();n.append(this.getQualifiedName());let t=this.getPrivilegeState();if(e.notNull(t)){n.append(" - ");n.append(t.getName())}return n.toString()};e.PlanningVersionSettings=function(){};e.PlanningVersionSettings.prototype=new e.XObject;e.PlanningVersionSettings.prototype._ff_c="PlanningVersionSettings";e.PlanningVersionSettings.create=function(n,t,i){let a=new e.PlanningVersionSettings;a.m_versionIdentifier=e.PlanningVersionIdentifier.create(n.getVersionId(),n.isSharedVersion(),n.getVersionOwner());a.m_sequenceId=t;a.m_useExternalView=i;return a};e.PlanningVersionSettings.prototype.m_sequenceId=null;e.PlanningVersionSettings.prototype.m_useExternalView=false;e.PlanningVersionSettings.prototype.m_versionIdentifier=null;e.PlanningVersionSettings.prototype.createVersionSettings=function(){return e.PlanningVersionSettings.create(this,this.getActionSequenceId(),this.getUseExternalView())};e.PlanningVersionSettings.prototype.getActionSequenceId=function(){return this.m_sequenceId};e.PlanningVersionSettings.prototype.getIsRestrictionEnabled=function(){return true};e.PlanningVersionSettings.prototype.getUseExternalView=function(){return this.m_useExternalView};e.PlanningVersionSettings.prototype.getVersionId=function(){return this.m_versionIdentifier.getVersionId()};e.PlanningVersionSettings.prototype.getVersionOwner=function(){return this.m_versionIdentifier.getVersionOwner()};e.PlanningVersionSettings.prototype.getVersionUniqueName=function(){return this.m_versionIdentifier.getVersionUniqueName()};e.PlanningVersionSettings.prototype.isSharedVersion=function(){return this.m_versionIdentifier.isSharedVersion()};e.PlanningVersionSettings.prototype.releaseObject=function(){this.m_versionIdentifier=null;this.m_sequenceId=null;e.XObject.prototype.releaseObject.call(this)};e.PlanningVersionSettings.prototype.toString=function(){return this.getVersionUniqueName()};e.PlanningVersionSettingsSimple=function(){};e.PlanningVersionSettingsSimple.prototype=new e.XObject;e.PlanningVersionSettingsSimple.prototype._ff_c="PlanningVersionSettingsSimple";e.PlanningVersionSettingsSimple.create=function(n,t,i){let a=new e.PlanningVersionSettingsSimple;a.m_versionId=n;a.m_sequenceId=t;a.m_useExternalView=i;return a};e.PlanningVersionSettingsSimple.prototype.m_sequenceId=null;e.PlanningVersionSettingsSimple.prototype.m_useExternalView=false;e.PlanningVersionSettingsSimple.prototype.m_versionId=null;e.PlanningVersionSettingsSimple.prototype.createVersionSettings=function(){return e.PlanningVersionSettingsSimple.create(this.m_versionId,this.m_sequenceId,this.m_useExternalView)};e.PlanningVersionSettingsSimple.prototype.getActionSequenceId=function(){return this.m_sequenceId};e.PlanningVersionSettingsSimple.prototype.getIsRestrictionEnabled=function(){return true};e.PlanningVersionSettingsSimple.prototype.getUseExternalView=function(){return this.m_useExternalView};e.PlanningVersionSettingsSimple.prototype.getVersionId=function(){return-1};e.PlanningVersionSettingsSimple.prototype.getVersionOwner=function(){return null};e.PlanningVersionSettingsSimple.prototype.getVersionUniqueName=function(){return this.m_versionId};e.PlanningVersionSettingsSimple.prototype.isSharedVersion=function(){return false};e.PlanningVersionSettingsSimple.prototype.releaseObject=function(){this.m_versionId=null;this.m_sequenceId=null;e.XObject.prototype.releaseObject.call(this)};e.PlanningVersionSettingsSimple.prototype.toString=function(){return this.getVersionUniqueName()};e.PlanningActionMetadata=function(){};e.PlanningActionMetadata.prototype=new e.XObject;e.PlanningActionMetadata.prototype._ff_c="PlanningActionMetadata";e.PlanningActionMetadata.prototype.m_actionDescription=null;e.PlanningActionMetadata.prototype.m_actionId=null;e.PlanningActionMetadata.prototype.m_actionName=null;e.PlanningActionMetadata.prototype.m_actionParameterMetadata=null;e.PlanningActionMetadata.prototype.m_actionParameterNames=null;e.PlanningActionMetadata.prototype.m_actionType=null;e.PlanningActionMetadata.prototype.m_defaultAction=false;e.PlanningActionMetadata.prototype.getActionDescription=function(){return this.m_actionDescription};e.PlanningActionMetadata.prototype.getActionId=function(){return this.m_actionId};e.PlanningActionMetadata.prototype.getActionName=function(){return this.m_actionName};e.PlanningActionMetadata.prototype.getActionParameterMetadata=function(){return this.m_actionParameterMetadata};e.PlanningActionMetadata.prototype.getActionParameterNames=function(){e.XObjectExt.assertNotNullExt(this.m_actionParameterNames,"not set");return this.m_actionParameterNames};e.PlanningActionMetadata.prototype.getActionType=function(){if(e.isNull(this.m_actionType)){return e.PlanningActionType.UNKNOWN}return this.m_actionType};e.PlanningActionMetadata.prototype.isDefault=function(){return this.m_defaultAction};e.PlanningActionMetadata.prototype.setActionDescription=function(e){this.m_actionDescription=e};e.PlanningActionMetadata.prototype.setActionId=function(e){this.m_actionId=e};e.PlanningActionMetadata.prototype.setActionName=function(e){this.m_actionName=e};e.PlanningActionMetadata.prototype.setActionParameterMetadata=function(e){this.m_actionParameterMetadata=e};e.PlanningActionMetadata.prototype.setActionParameterNames=function(n){if(e.notNull(this.m_actionParameterNames)){throw e.XException.createIllegalStateException("already set")}this.m_actionParameterNames=e.XList.create();if(e.notNull(n)){this.m_actionParameterNames.addAll(n)}};e.PlanningActionMetadata.prototype.setActionType=function(e){this.m_actionType=e};e.PlanningActionMetadata.prototype.setDefault=function(e){this.m_defaultAction=e};e.PlanningActionMetadata.prototype.toString=function(){let n=e.XStringBuffer.create();n.append("action: ");n.append("id: ");if(e.notNull(this.m_actionId)){n.append(this.m_actionId)}n.appendNewLine();n.append("name: ");if(e.notNull(this.m_actionName)){n.append(this.m_actionName)}n.appendNewLine();n.append("description: ");if(e.notNull(this.m_actionDescription)){n.append(this.m_actionDescription)}n.appendNewLine();n.append("type: ");if(e.notNull(this.m_actionType)){n.append(this.m_actionType.toString());n.append(" ")}if(this.m_defaultAction){n.append("default=true")}n.appendNewLine();let t=this.getActionParameterMetadata();if(e.isNull(t)){n.append("action does not have parameters")}else{n.appendLine("parameters:");n.append(t.toString())}n.appendNewLine();return n.toString()};e.XCmdCreatePlanningOperation=function(){};e.XCmdCreatePlanningOperation.prototype=new e.XCommand;e.XCmdCreatePlanningOperation.prototype._ff_c="XCmdCreatePlanningOperation";e.XCmdCreatePlanningOperation.CLAZZ=null;e.XCmdCreatePlanningOperation.CMD_NAME="CREATE_PLANNING_OPERATION";e.XCmdCreatePlanningOperation.PARAM_E_PLANNING_OPERATION="PLANNING_OPERATION";e.XCmdCreatePlanningOperation.PARAM_I_DATA_AREA="DATA_AREA";e.XCmdCreatePlanningOperation.PARAM_I_PLANNING_OPERATION_IDENTIFIER="PLANNING_OPERATION_IDENTIFIER";e.XCmdCreatePlanningOperation.staticSetup=function(){e.XCmdCreatePlanningOperation.CLAZZ=e.XClass.create(e.XCmdCreatePlanningOperation)};e.XCmdCreatePlanningOperation.prototype.getCommandResultClass=function(){return e.XCmdCreatePlanningOperationResult.CLAZZ};e.XCmdCreatePlanningOperationResult=function(){};e.XCmdCreatePlanningOperationResult.prototype=new e.XCommandResult;e.XCmdCreatePlanningOperationResult.prototype._ff_c="XCmdCreatePlanningOperationResult";e.XCmdCreatePlanningOperationResult.CLAZZ=null;e.XCmdCreatePlanningOperationResult.staticSetup=function(){e.XCmdCreatePlanningOperationResult.CLAZZ=e.XClass.create(e.XCmdCreatePlanningOperationResult)};e.XCmdCreatePlanningOperationResult.prototype.onXPlanningCommandProcessed=function(n){this.getMessageManager().addAllMessages(n);if(n.isValid()){let t=this.getParameter(e.XCmdCreatePlanningOperation.PARAM_I_DATA_AREA);let i=this.getParameter(e.XCmdCreatePlanningOperation.PARAM_I_PLANNING_OPERATION_IDENTIFIER);let a=i.getPlanningOperationType();let o=null;if(a===e.PlanningOperationType.PLANNING_FUNCTION){let a=new e.PlanningFunction;a.setCommandType(e.PlanningCommandType.PLANNING_FUNCTION);a.setPlanningService(t.getPlanningService());a.setPlanningContext(t);a.setCommandIdentifier(i);a.setPlanningOperationMetadata(n.getData().getPlanningFunctionMetadata());a.initializePlanningOperation();o=a}else if(a===e.PlanningOperationType.PLANNING_SEQUENCE){let a=new e.PlanningSequence;a.setCommandType(e.PlanningCommandType.PLANNING_SEQUENCE);a.setPlanningService(t.getPlanningService());a.setPlanningContext(t);a.setCommandIdentifier(i);a.setPlanningOperationMetadata(n.getData().getPlanningSequenceMetadata());a.initializePlanningOperation();o=a}if(e.isNull(o)){this.getMessageManager().addError(0,"illegal planning operation type");this.onProcessFinished();return}this.addResultParameter(e.XCmdCreatePlanningOperation.PARAM_E_PLANNING_OPERATION,o)}this.onProcessFinished()};e.XCmdCreatePlanningOperationResult.prototype.process=function(){let n=this.getParameter(e.XCmdCreatePlanningOperation.PARAM_I_DATA_AREA);let t=this.getParameter(e.XCmdCreatePlanningOperation.PARAM_I_PLANNING_OPERATION_IDENTIFIER);let i=t.getPlanningOperationType();if(i!==e.PlanningOperationType.PLANNING_FUNCTION&&i!==e.PlanningOperationType.PLANNING_SEQUENCE){this.getMessageManager().addError(0,"illegal planning operation type");this.onProcessFinished();return}let a=n.createRequestGetPlanningOperationMetadata(t);a.processCommand(this.getSyncType(),e.XPlanningCommandCallback.create(this),null)};e.XCmdInitPlanningStep=function(){};e.XCmdInitPlanningStep.prototype=new e.XCommand;e.XCmdInitPlanningStep.prototype._ff_c="XCmdInitPlanningStep";e.XCmdInitPlanningStep.CLAZZ=null;e.XCmdInitPlanningStep.CMD_NAME="INIT_PLANNING_STEP";e.XCmdInitPlanningStep.PARAM_I_PLANNING_MODEL="PLANNING_MODEL";e.XCmdInitPlanningStep.PARAM_I_STEP="STEP";e.XCmdInitPlanningStep.STEP_1_REFRESH_VERSIONS=null;e.XCmdInitPlanningStep.STEP_2_INIT_VERSIONS=null;e.XCmdInitPlanningStep.staticSetup=function(){e.XCmdInitPlanningStep.CLAZZ=e.XClass.create(e.XCmdInitPlanningStep);e.XCmdInitPlanningStep.STEP_1_REFRESH_VERSIONS=e.XStringValue.create("STEP_1_REFRESH_VERSIONS");e.XCmdInitPlanningStep.STEP_2_INIT_VERSIONS=e.XStringValue.create("STEP_2_INIT_VERSIONS")};e.XCmdInitPlanningStep.prototype.getCommandResultClass=function(){return e.XCmdInitPlanningStepResult.CLAZZ};e.XCmdInitPlanningStepResult=function(){};e.XCmdInitPlanningStepResult.prototype=new e.XCommandResult;e.XCmdInitPlanningStepResult.prototype._ff_c="XCmdInitPlanningStepResult";e.XCmdInitPlanningStepResult.CLAZZ=null;e.XCmdInitPlanningStepResult.staticSetup=function(){e.XCmdInitPlanningStepResult.CLAZZ=e.XClass.create(e.XCmdInitPlanningStepResult)};e.XCmdInitPlanningStepResult.prototype.checkBlocking=function(n){if(this.getSyncType()!==e.SyncType.BLOCKING){this.getMessageManager().addErrorExt(e.OriginLayer.DRIVER,e.ErrorCodes.INVALID_STATE,e.XStringBuffer.create().append("Planning model behaviour ").append(n.getName()).append(" is only supported in blocking mode").toString(),null);return false}return true};e.XCmdInitPlanningStepResult.prototype.onXPlanningCommandProcessed=function(e){this.getMessageManager().addAllMessages(e);this.onProcessFinished()};e.XCmdInitPlanningStepResult.prototype.process=function(){let n=this.getParameter(e.XCmdInitPlanningStep.PARAM_I_PLANNING_MODEL);if(e.isNull(n)){this.onProcessFinished()}let t=this.getParameter(e.XCmdInitPlanningStep.PARAM_I_STEP);if(t===e.XCmdInitPlanningStep.STEP_1_REFRESH_VERSIONS){this.processStep1RefreshVersions(n)}else if(t===e.XCmdInitPlanningStep.STEP_2_INIT_VERSIONS){this.processStep2InitVersions(n)}else{this.onProcessFinished()}};e.XCmdInitPlanningStepResult.prototype.processStep1RefreshVersions=function(n){if(n.isWithSharedVersions()){let t=n.getBackendUserName();if(e.XStringUtils.isNullOrEmpty(t)){this.getMessageManager().addErrorExt(e.OriginLayer.DRIVER,e.ErrorCodes.INVALID_STATE,"undo/redo stack with shared versions requires backend user",null)}}let t=n.getPlanningModelBehaviour();if(e.isNull(t)){this.getMessageManager().addErrorExt(e.OriginLayer.DRIVER,e.ErrorCodes.INVALID_STATE,"planning model behavior is null",null)}let i=e.PlanningContextCommandType.REFRESH;if(t===e.PlanningModelBehaviour.ENFORCE_NO_VERSION_HARD_DELETE){i=e.PlanningContextCommandType.HARD_DELETE}let a=n.createPlanningContextCommand(i);a.processCommand(this.getSyncType(),e.XPlanningCommandCallback.create(this),e.XCmdInitPlanningStep.STEP_1_REFRESH_VERSIONS)};e.XCmdInitPlanningStepResult.prototype.processStep2InitVersions=function(n){let t=n.getPlanningModelBehaviour();if(t===e.PlanningModelBehaviour.CREATE_DEFAULT_VERSION){if(this.checkBlocking(t)){e.PlanningModelUtil.initCreateDefaultVersion(n)}}else if(t===e.PlanningModelBehaviour.ENFORCE_NO_VERSION||t===e.PlanningModelBehaviour.ENFORCE_NO_VERSION_HARD_DELETE){if(this.checkBlocking(t)){e.PlanningModelUtil.initEnforceNoVersion(n)}}else if(t===e.PlanningModelBehaviour.ENFORCE_SINGLE_VERSION){if(this.checkBlocking(t)){e.PlanningModelUtil.initEnforceSingleVersion(n)}}this.onProcessFinished()};e.PlanningVersion=function(){};e.PlanningVersion.prototype=new e.XObject;e.PlanningVersion.prototype._ff_c="PlanningVersion";e.PlanningVersion.create=function(){let n=new e.PlanningVersion;n.m_useExternalView=true;n.m_isRestrictionEnabled=true;return n};e.PlanningVersion.parametersStringMap2ParametersStructure=function(n){if(e.isNull(n)){return null}let t=e.PrFactory.createStructure();let i=n.getKeysAsIterator();while(i.hasNext()){let e=i.next();let a=n.getByKey(e);t.putString(e,a)}return t};e.PlanningVersion.parametersStructure2ParametersStringMap=function(n){if(e.isNull(n)){return null}let t=e.XHashMapByString.create();let i=e.PrUtils.getKeysAsReadOnlyList(n,null);if(e.notNull(i)){for(let a=0;a<i.size();a++){let o=i.get(a);let r=e.PrUtils.getProperty(n,o);if(e.isNull(r)){continue}if(r.getType()!==e.PrElementType.STRING){continue}let l=r;t.put(o,l.getString())}}return t};e.PlanningVersion.prototype.m_actionActive=false;e.PlanningVersion.prototype.m_actionEndTime=null;e.PlanningVersion.prototype.m_actionSequenceId=null;e.PlanningVersion.prototype.m_actionStartTime=null;e.PlanningVersion.prototype.m_backupTime=null;e.PlanningVersion.prototype.m_creationTime=null;e.PlanningVersion.prototype.m_isRestrictionEnabled=false;e.PlanningVersion.prototype.m_isShowingAsPublicVersion=false;e.PlanningVersion.prototype.m_parametersStructure=null;e.PlanningVersion.prototype.m_planningModel=null;e.PlanningVersion.prototype.m_privilege=null;e.PlanningVersion.prototype.m_sequenceActive=false;e.PlanningVersion.prototype.m_sequenceCreateTime=null;e.PlanningVersion.prototype.m_sequenceDescription=null;e.PlanningVersion.prototype.m_sourceVersionName=null;e.PlanningVersion.prototype.m_totalChangesSize=0;e.PlanningVersion.prototype.m_undoChangesSize=0;e.PlanningVersion.prototype.m_useExternalView=false;e.PlanningVersion.prototype.m_userName=null;e.PlanningVersion.prototype.m_versionDescription=null;e.PlanningVersion.prototype.m_versionIdentifier=null;e.PlanningVersion.prototype.m_versionState=null;e.PlanningVersion.prototype.assertVersionDescriptionUniqueAndNotNullOrEmpty=function(n){e.XStringUtils.checkStringNotEmpty(n,"version description is null or empty.");if(e.XString.isEqual(this.m_versionDescription,n)){return}if(!this.getPlanningModel().isVersionDescriptionUnique(n)){throw e.XException.createIllegalArgumentException("version description is not unique.")}};e.PlanningVersion.prototype.backup=function(){this.checkModelInitialized();return this.processVersionRequest(e.PlanningModelRequestType.BACKUP_VERSION)};e.PlanningVersion.prototype.checkModelInitialized=function(){this.getPlanningModel().checkModelInitialized()};e.PlanningVersion.prototype.close=function(){this.checkModelInitialized();let n=this.createRequestVersion(e.PlanningModelRequestType.CLOSE_VERSION);let t=n.processCommand(e.SyncType.BLOCKING,null,null);return e.ExtResult.create(t.getData(),t)};e.PlanningVersion.prototype.createRequestBackupVersion=function(){return this.createRequestVersion(e.PlanningModelRequestType.BACKUP_VERSION)};e.PlanningVersion.prototype.createRequestCloseVersion=function(){return this.createRequestVersion(e.PlanningModelRequestType.CLOSE_VERSION)};e.PlanningVersion.prototype.createRequestDropVersion=function(){return this.createRequestVersion(e.PlanningModelRequestType.DROP_VERSION)};e.PlanningVersion.prototype.createRequestEndActionSequence=function(){return this.createRequestVersion(e.PlanningModelRequestType.END_ACTION_SEQUENCE)};e.PlanningVersion.prototype.createRequestInitVersion=function(){return this.createRequestVersion(e.PlanningModelRequestType.INIT_VERSION)};e.PlanningVersion.prototype.createRequestKillActionSequence=function(){return this.createRequestVersion(e.PlanningModelRequestType.KILL_ACTION_SEQUENCE)};e.PlanningVersion.prototype.createRequestRedoVersion=function(){return this.createRequestVersion(e.PlanningModelRequestType.REDO_VERSION)};e.PlanningVersion.prototype.createRequestResetVersion=function(){return this.createRequestVersion(e.PlanningModelRequestType.RESET_VERSION)};e.PlanningVersion.prototype.createRequestSetParameters=function(){return this.createRequestVersion(e.PlanningModelRequestType.SET_PARAMETERS)};e.PlanningVersion.prototype.createRequestSetTimeout=function(){return this.createRequestVersion(e.PlanningModelRequestType.SET_TIMEOUT)};e.PlanningVersion.prototype.createRequestStartActionSequence=function(){return this.createRequestVersion(e.PlanningModelRequestType.START_ACTION_SEQUENCE)};e.PlanningVersion.prototype.createRequestStateDescriptions=function(){return this.createRequestVersion(e.PlanningModelRequestType.GET_VERSION_STATE_DESCRIPTIONS)};e.PlanningVersion.prototype.createRequestUndoVersion=function(){return this.createRequestVersion(e.PlanningModelRequestType.UNDO_VERSION)};e.PlanningVersion.prototype.createRequestUpdateParameters=function(){return this.createRequestVersion(e.PlanningModelRequestType.UPDATE_PARAMETERS)};e.PlanningVersion.prototype.createRequestVersion=function(n){this.checkModelInitialized();if(!n.isTypeOf(e.PlanningModelRequestType.VERSION_REQUEST)){throw e.XException.createIllegalStateException("illegal request type")}let t;if(n===e.PlanningModelRequestType.INIT_VERSION){t=new e.PlanningModelRequestVersionInit}else if(n===e.PlanningModelRequestType.SET_PARAMETERS){t=new e.PlanningModelRequestVersionSetParameters}else if(n===e.PlanningModelRequestType.SET_TIMEOUT){t=new e.PlanningModelRequestVersionSetTimeout}else if(n===e.PlanningModelRequestType.CLOSE_VERSION){t=new e.PlanningModelRequestVersionClose;t.setCloseMode(e.CloseModeType.DISCARD)}else if(n===e.PlanningModelRequestType.START_ACTION_SEQUENCE){t=new e.PlanningModelRequestVersionStartActionSequence}else if(n===e.PlanningModelRequestType.END_ACTION_SEQUENCE){t=new e.PlanningModelRequestVersionEndActionSequence}else if(n===e.PlanningModelRequestType.UNDO_VERSION||n===e.PlanningModelRequestType.REDO_VERSION){t=new e.PlanningModelRequestVersionUndoRedo}else if(n===e.PlanningModelRequestType.GET_VERSION_STATE_DESCRIPTIONS){t=new e.PlanningModelRequestVersionStateDescriptions}else{t=new e.PlanningModelRequestVersion}t.setPlanningService(this.getPlanningModel().getPlanningService());t.setCommandType(e.PlanningCommandType.PLANNING_MODEL_REQUEST);t.setRequestType(n);t.setPlanningContext(this.getPlanningModel());t.setPlanningVersion(this);t.setInvalidatingResultSet(n.isInvalidatingResultSet());return t};e.PlanningVersion.prototype.createVersionSettings=function(){return e.PlanningVersionSettings.create(this,this.getActionSequenceId(),this.getUseExternalView())};e.PlanningVersion.prototype.drop=function(){this.checkModelInitialized();let n=this.createRequestVersion(e.PlanningModelRequestType.DROP_VERSION);let t=n.processCommand(e.SyncType.BLOCKING,null,null);return e.ExtResult.create(t.getData(),t)};e.PlanningVersion.prototype.endActionSequence=function(){this.checkModelInitialized();let n=this.createRequestVersion(e.PlanningModelRequestType.END_ACTION_SEQUENCE);let t=n.processCommand(e.SyncType.BLOCKING,null,null);return e.ExtResult.create(t.getData(),t)};e.PlanningVersion.prototype.getAction=function(e){return this.getPlanningModel().getAction(e)};e.PlanningVersion.prototype.getActionEndTime=function(){return this.m_actionEndTime};e.PlanningVersion.prototype.getActionIdentifier=function(e){this.checkModelInitialized();return this.getPlanningModel().getActionIdentifierById(e,this)};e.PlanningVersion.prototype.getActionIdentifiers=function(){this.checkModelInitialized();let n=e.XList.create();let t=this.getPlanningModel().getActionMetadataList();for(let i=0;i<t.size();i++){let a=t.get(i);let o=this.getActionIdentifier(a.getActionId());if(e.isNull(o)){continue}n.add(o)}return n};e.PlanningVersion.prototype.getActionSequenceCreateTime=function(){return this.m_sequenceCreateTime};e.PlanningVersion.prototype.getActionSequenceDescription=function(){return this.m_sequenceDescription};e.PlanningVersion.prototype.getActionSequenceId=function(){return this.m_actionSequenceId};e.PlanningVersion.prototype.getActionStartTime=function(){return this.m_actionStartTime};e.PlanningVersion.prototype.getBackupTime=function(){return this.m_backupTime};e.PlanningVersion.prototype.getCreationTime=function(){return this.m_creationTime};e.PlanningVersion.prototype.getIsRestrictionEnabled=function(){return this.m_isRestrictionEnabled};e.PlanningVersion.prototype.getParameters=function(){if(e.isNull(this.m_parametersStructure)){return e.XHashMapByString.create()}return e.PlanningVersion.parametersStructure2ParametersStringMap(this.m_parametersStructure)};e.PlanningVersion.prototype.getParametersStructure=function(){if(e.isNull(this.m_parametersStructure)){return e.PrFactory.createStructure()}return e.PrFactory.createStructureDeepCopy(this.m_parametersStructure)};e.PlanningVersion.prototype.getPlanningModel=function(){return this.m_planningModel};e.PlanningVersion.prototype.getPrivilege=function(){return this.m_privilege};e.PlanningVersion.prototype.getSourceVersionName=function(){return this.m_sourceVersionName};e.PlanningVersion.prototype.getTotalChangesSize=function(){return this.m_totalChangesSize};e.PlanningVersion.prototype.getUndoChangesSize=function(){return this.m_undoChangesSize};e.PlanningVersion.prototype.getUseExternalView=function(){return this.m_useExternalView};e.PlanningVersion.prototype.getUserName=function(){return this.m_userName};e.PlanningVersion.prototype.getVersionDescription=function(){return this.m_versionDescription};e.PlanningVersion.prototype.getVersionId=function(){return this.m_versionIdentifier.getVersionId()};e.PlanningVersion.prototype.getVersionOwner=function(){return this.m_versionIdentifier.getVersionOwner()};e.PlanningVersion.prototype.getVersionState=function(){return this.m_versionState};e.PlanningVersion.prototype.getVersionUniqueName=function(){return this.m_versionIdentifier.getVersionUniqueName()};e.PlanningVersion.prototype.initializeVersion=function(e){this.checkModelInitialized();return this.initializeVersionWithParameters(e,null)};e.PlanningVersion.prototype.initializeVersionWithParameters=function(n,t){let i=e.PlanningVersion.parametersStringMap2ParametersStructure(t);if(e.notNull(t)){i=e.PrFactory.createStructure();let n=t.getKeysAsIterator();while(n.hasNext()){let e=n.next();let a=t.getByKey(e);i.putString(e,a)}}return this.initializeVersionWithParametersJson(n,i)};e.PlanningVersion.prototype.initializeVersionWithParametersJson=function(n,t){this.checkModelInitialized();let i=this.createRequestVersion(e.PlanningModelRequestType.INIT_VERSION);i.setRestoreBackupType(n);if(this.getPlanningModel().supportsVersionParameters()){i.setVersionParametersAsJson(t)}let a=i.processCommand(e.SyncType.BLOCKING,null,null);return e.ExtResult.create(a.getData(),a)};e.PlanningVersion.prototype.invalidateVersion=function(){this.m_creationTime=null;this.m_backupTime=null;this.m_parametersStructure=e.XObjectExt.release(this.m_parametersStructure);this.m_privilege=null;this.m_versionDescription=null;this.m_versionState=null};e.PlanningVersion.prototype.isActionActive=function(){return this.m_actionActive};e.PlanningVersion.prototype.isActionSequenceActive=function(){return this.m_sequenceActive};e.PlanningVersion.prototype.isActive=function(){let n=this.getVersionState();if(e.isNull(n)){return false}return n.isActive()};e.PlanningVersion.prototype.isEqualTo=function(n){if(e.isNull(n)){return false}let t=n;if(t.getPlanningModel()!==this.getPlanningModel()){return false}if(!e.XString.isEqual(t.getVersionUniqueName(),this.getVersionUniqueName())){return false}if(t.getVersionState()!==this.getVersionState()){return false}if(t.isActive()!==this.isActive()){return false}return true};e.PlanningVersion.prototype.isSharedVersion=function(){return this.m_versionIdentifier.isSharedVersion()};e.PlanningVersion.prototype.isShowingAsPublicVersion=function(){return this.m_isShowingAsPublicVersion};e.PlanningVersion.prototype.killActionSequence=function(){this.checkModelInitialized();return this.processVersionRequest(e.PlanningModelRequestType.KILL_ACTION_SEQUENCE)};e.PlanningVersion.prototype.processVersionRequest=function(n){this.checkModelInitialized();let t=this.createRequestVersion(n);let i=t.processCommand(e.SyncType.BLOCKING,null,null);return e.ExtResult.create(i.getData(),i)};e.PlanningVersion.prototype.redo=function(){this.checkModelInitialized();return this.processVersionRequest(e.PlanningModelRequestType.REDO_VERSION)};e.PlanningVersion.prototype.releaseObject=function(){this.m_planningModel=null;this.m_versionIdentifier=e.XObjectExt.release(this.m_versionIdentifier);this.m_versionDescription=null;this.m_versionState=null;this.m_privilege=null;this.m_parametersStructure=e.XObjectExt.release(this.m_parametersStructure);this.m_creationTime=e.XObjectExt.release(this.m_creationTime);this.m_backupTime=e.XObjectExt.release(this.m_backupTime);this.m_sequenceCreateTime=e.XObjectExt.release(this.m_sequenceCreateTime);this.m_actionStartTime=e.XObjectExt.release(this.m_actionStartTime);this.m_actionEndTime=e.XObjectExt.release(this.m_actionEndTime);e.XObject.prototype.releaseObject.call(this)};e.PlanningVersion.prototype.reset=function(){this.checkModelInitialized();return this.processVersionRequest(e.PlanningModelRequestType.RESET_VERSION)};e.PlanningVersion.prototype.resetVersionState=function(){this.m_versionState=null};e.PlanningVersion.prototype.setActionActive=function(e){this.m_actionActive=e};e.PlanningVersion.prototype.setActionEndTime=function(e){this.m_actionEndTime=e};e.PlanningVersion.prototype.setActionSequenceActive=function(e){this.m_sequenceActive=e;if(!this.m_sequenceActive){this.m_sequenceCreateTime=null;this.m_sequenceDescription=null;this.m_actionSequenceId=null}};e.PlanningVersion.prototype.setActionSequenceCreateTime=function(e){this.m_sequenceCreateTime=e};e.PlanningVersion.prototype.setActionSequenceDescription=function(e){this.m_sequenceDescription=e};e.PlanningVersion.prototype.setActionSequenceId=function(e){this.m_actionSequenceId=e};e.PlanningVersion.prototype.setActionStartTime=function(e){this.m_actionStartTime=e};e.PlanningVersion.prototype.setBackupTime=function(e){this.m_backupTime=e};e.PlanningVersion.prototype.setCreationTime=function(e){this.m_creationTime=e};e.PlanningVersion.prototype.setIsRestrictionEnabled=function(e){this.m_isRestrictionEnabled=e};e.PlanningVersion.prototype.setParametersStructureInternal=function(n){if(e.isNull(n)){this.m_parametersStructure=null}else{this.m_parametersStructure=e.PrFactory.createStructureDeepCopy(n)}};e.PlanningVersion.prototype.setPlanningModel=function(e){this.m_planningModel=e};e.PlanningVersion.prototype.setPrivilege=function(n){e.XObjectExt.assertNotNullExt(n,"illegal privilege");this.m_privilege=n};e.PlanningVersion.prototype.setShowingAsPublicVersion=function(e){this.m_isShowingAsPublicVersion=e};e.PlanningVersion.prototype.setSourceVersionName=function(e){this.m_sourceVersionName=e};e.PlanningVersion.prototype.setTimeout=function(n){this.checkModelInitialized();let t=this.createRequestVersion(e.PlanningModelRequestType.SET_TIMEOUT);t.setTimeout(n);let i=t.processCommand(e.SyncType.BLOCKING,null,null);return e.ExtResult.create(i.getData(),i)};e.PlanningVersion.prototype.setTotalChangesSize=function(e){this.m_totalChangesSize=e};e.PlanningVersion.prototype.setUndoChangesSize=function(e){this.m_undoChangesSize=e};e.PlanningVersion.prototype.setUseExternalView=function(e){if(this.m_useExternalView===e){return}this.m_useExternalView=e;this.getPlanningModel().invalidate()};e.PlanningVersion.prototype.setUserName=function(e){this.m_userName=e};e.PlanningVersion.prototype.setVersionDescription=function(e){if(this.getPlanningModel().isWithUniqueVersionDescriptions()){this.assertVersionDescriptionUniqueAndNotNullOrEmpty(e)}this.m_versionDescription=e};e.PlanningVersion.prototype.setVersionIdentifier=function(e){this.m_versionIdentifier=this.getPlanningModel().copyVersionIdentifier(e)};e.PlanningVersion.prototype.setVersionState=function(n){e.XObjectExt.assertNotNullExt(n,"illegal version state");this.m_versionState=n;if(e.isNull(this.m_privilege)){if(this.isSharedVersion()){throw e.XException.createIllegalStateException("illegal privilege")}this.m_privilege=e.PlanningPrivilege.OWNER}};e.PlanningVersion.prototype.startActionSequence=function(){this.checkModelInitialized();let n=this.createRequestVersion(e.PlanningModelRequestType.START_ACTION_SEQUENCE);let t=n.processCommand(e.SyncType.BLOCKING,null,null);return e.ExtResult.create(t.getData(),t)};e.PlanningVersion.prototype.toString=function(){let n=e.XStringBuffer.create();n.append("Id  : ");n.append(this.m_versionIdentifier.getVersionUniqueName());n.append(", Active : ");n.append(e.XBoolean.convertToString(this.isActive()));n.append(", State : ");if(e.isNull(this.m_versionState)){n.append("null")}else{n.append(this.m_versionState.getName())}return n.toString()};e.PlanningVersion.prototype.undo=function(){this.checkModelInitialized();return this.processVersionRequest(e.PlanningModelRequestType.UNDO_VERSION)};e.PlanningVersion.prototype.updateInvalidPrivileges=function(){if(e.notNull(this.m_versionState)){return}let n=this.getPlanningModel();if(e.notNull(n)&&n.isVersionPrivilegesInitialized()){let t=n.getVersionPrivileges();if(e.notNull(t)){for(let n=0;n<t.size();n++){let i=t.get(n);if(e.XString.isEqual(i.getVersionUniqueName(),this.getVersionUniqueName())){i.setPrivilegeState(e.PlanningPrivilegeState.NEW);i.setPrivilegeStateServer(e.PlanningPrivilegeState.NEW)}}}}};e.PlanningVersion.prototype.updateParameters=function(){this.checkModelInitialized();let n=this.createRequestVersion(e.PlanningModelRequestType.UPDATE_PARAMETERS);let t=n.processCommand(e.SyncType.BLOCKING,null,null);return e.ExtResult.create(t.getData(),t)};e.PlanningService=function(){};e.PlanningService.prototype=new e.DfService;e.PlanningService.prototype._ff_c="PlanningService";e.PlanningService.CLAZZ=null;e.PlanningService.s_capabilitiesProviderFactory=null;e.PlanningService.staticSetup=function(){e.PlanningService.CLAZZ=e.XClass.create(e.PlanningService)};e.PlanningService.prototype.m_capabilitiesProvider=null;e.PlanningService.prototype.m_initialized=false;e.PlanningService.prototype.m_planningContext=null;e.PlanningService.prototype._setInitialized=function(n){if(this.m_initialized){throw e.XException.createInitializationException()}this.m_initialized=true;this.m_planningContext=n;this.setData(this);this.endSync()};e.PlanningService.prototype.getActiveCapabilities=function(){return this.m_capabilitiesProvider.getActiveCapabilities()};e.PlanningService.prototype.getInaCapabilities=function(){return this.m_capabilitiesProvider};e.PlanningService.prototype.getOlapEnv=function(){return this.getApplication().getOlapEnvironment()};e.PlanningService.prototype.getPlanningContext=function(){this.initializeContext(e.SyncType.BLOCKING);return this.m_planningContext};e.PlanningService.prototype.getPlanningServiceConfig=function(){return this.getServiceConfig()};e.PlanningService.prototype.initializeContext=function(n){if(this.m_initialized){return}let t=this.getConnection().getSystemConnect().getServerMetadata();this.m_capabilitiesProvider=e.PlanningService.s_capabilitiesProviderFactory.create(this.getSession(),t,e.ProviderType.PLANNING_COMMAND);let i=this.getPlanningServiceConfig();let a=i.getProperties();let o=i.getSystemType();if(o.isTypeOf(e.SystemType.BW)){let n=e.DataArea.create();n.setPlanningService(this);n.setDataArea(a.getStringByKeyExt(e.PlanningConstants.DATA_AREA,"DEFAULT"));n.setEnvironment(a.getStringByKey(e.PlanningConstants.ENVIRONMENT));n.setModel(a.getStringByKey(e.PlanningConstants.MODEL));n.setCellLockingType(e.CellLockingType.lookupWithDefault(a.getStringByKey(e.PlanningConstants.CELL_LOCKING),e.CellLockingType.DEFAULT_SETTING_BACKEND));this._setInitialized(n)}if(o.isTypeOf(e.SystemType.HANA)){let t=e.PlanningModel.create();t.setPlanningService(this);t.setPlanningModelSchema(a.getStringByKey(e.PlanningConstants.PLANNING_SCHEMA));t.setPlanningModelName(a.getStringByKey(e.PlanningConstants.PLANNING_MODEL));t.setPlanningModelBehaviour(e.PlanningModelBehaviour.lookupWithDefault(a.getStringByKey(e.PlanningConstants.PLANNING_MODEL_BEHAVIOUR),e.PlanningModelBehaviour.STANDARD));t.setBackendUserName(a.getStringByKeyExt(e.PlanningConstants.BACKEND_USER_NAME,i.getSystemDescription().getUser()));t.setWithSharedVersions(a.getBooleanByKeyExt(e.PlanningConstants.WITH_SHARED_VERSIONS,false));t.setPersistenceType(e.PlanningPersistenceType.lookupWithDefault(a.getStringByKeyExt(e.PlanningConstants.PERSISTENCE_TYPE,null),e.PlanningPersistenceType.DEFAULT));t.initializePlanningModel(n)}};e.PlanningService.prototype.isInitialized=function(){return this.m_initialized};e.PlanningService.prototype.isServiceConfigMatching=function(n,t,i){let a=n;let o=a.getSystemType();if(e.isNull(o)){i.addErrorExt(e.OriginLayer.DRIVER,e.ErrorCodes.INVALID_SYSTEM,"illegal system type",null);return false}if(o.isTypeOf(e.SystemType.BW)){let n=a.getProperties();let t=n.getStringByKeyExt(e.PlanningConstants.DATA_AREA,"DEFAULT");let o=n.getStringByKey(e.PlanningConstants.ENVIRONMENT);let r=n.getStringByKey(e.PlanningConstants.MODEL);let l=e.CellLockingType.lookupWithDefault(n.getStringByKey(e.PlanningConstants.CELL_LOCKING),e.CellLockingType.DEFAULT_SETTING_BACKEND);let s=e.DataAreaState.getDataAreaStateByPlanningService(this);if(e.isNull(s)){let p=a.getApplication();let g=a.getSystemName();s=e.DataAreaState.createDataAreaState(p,g,t,o,r,l);if(e.isNull(s)){i.addErrorExt(e.OriginLayer.DRIVER,e.ErrorCodes.INVALID_STATE,"illegal data area",n);return false}}else if(!s.isEqualSettings(o,r,l)){i.addErrorExt(e.OriginLayer.DRIVER,e.ErrorCodes.INVALID_STATE,"data area with different settings already existing",n);return false}}return true};e.PlanningService.prototype.processCommand=function(e,n,t,i){return n.processCommand(e,t,i)};e.PlanningService.prototype.processSynchronization=function(e){if(this.m_initialized){return false}this.initializeContext(e);return true};e.PlanningService.prototype.releaseObjectInternal=function(){this.releasePlanningContext();this.m_capabilitiesProvider=null;e.DfService.prototype.releaseObjectInternal.call(this)};e.PlanningService.prototype.releasePlanningContext=function(){this.m_initialized=false;this.m_planningContext=e.XObjectExt.release(this.m_planningContext)};e.PlanningService.prototype.supportsPlanningValueHelp=function(){let n=this.getActiveCapabilities();return n.containsKey(e.InACapabilities.C054_EXTENDED_SORT)&&n.containsKey(e.InACapabilities.C100_EXPAND_BOTTOM_UP)};e.PlanningService.prototype.toString=function(){let n=e.XStringBuffer.create();let t=this.getPlanningServiceConfig();if(e.notNull(t)){n.append(t.toString())}return n.toString()};e.PlanningContext=function(){};e.PlanningContext.prototype=new e.QModelComponent;e.PlanningContext.prototype._ff_c="PlanningContext";e.PlanningContext.prototype.m_planningService=null;e.PlanningContext.prototype.backup=function(){return this.executeCommandBlocking(e.PlanningContextCommandType.BACKUP)};e.PlanningContext.prototype.close=function(){return this.executeCommandBlocking(e.PlanningContextCommandType.CLOSE)};e.PlanningContext.prototype.createCommandDocReset=function(){return this.createPlanningContextCommand(e.PlanningContextCommandType.DOC_RESET)};e.PlanningContext.prototype.createCommandDocSave=function(){return this.createPlanningContextCommand(e.PlanningContextCommandType.DOC_SAVE)};e.PlanningContext.prototype.createCommandHardDelete=function(){return this.createPlanningContextCommand(e.PlanningContextCommandType.HARD_DELETE)};e.PlanningContext.prototype.createCommandRefresh=function(){return this.createPlanningContextCommand(e.PlanningContextCommandType.REFRESH)};e.PlanningContext.prototype.createCommandReset=function(){return this.createPlanningContextCommand(e.PlanningContextCommandType.RESET)};e.PlanningContext.prototype.createPlanningCommand=function(n){let t=this.createRequestCreateCommandWithId(n).processCommand(e.SyncType.BLOCKING,null,null);return e.ExtResult.create(t.getData(),t)};e.PlanningContext.prototype.executeCommandBlocking=function(n){let t=this.createPlanningContextCommand(n);let i=t.processCommand(e.SyncType.BLOCKING,null,null);return e.ExtResult.create(i.getData(),i)};e.PlanningContext.prototype.getPlanningService=function(){return this.m_planningService};e.PlanningContext.prototype.hardDelete=function(){return this.executeCommandBlocking(e.PlanningContextCommandType.HARD_DELETE)};e.PlanningContext.prototype.invalidate=function(){let n=this.getQueryConsumerServices();if(e.notNull(n)){for(let e=0;e<n.size();e++){let t=n.get(e);t.invalidateState()}}};e.PlanningContext.prototype.publish=function(){return this.executeCommandBlocking(e.PlanningContextCommandType.PUBLISH)};e.PlanningContext.prototype.refresh=function(){return this.executeCommandBlocking(e.PlanningContextCommandType.REFRESH)};e.PlanningContext.prototype.releaseObject=function(){this.m_planningService=null;e.QModelComponent.prototype.releaseObject.call(this)};e.PlanningContext.prototype.reset=function(){return this.executeCommandBlocking(e.PlanningContextCommandType.RESET)};e.PlanningContext.prototype.setPlanningService=function(e){this.m_planningService=e};e.PlanningContext.prototype.toString=function(){let n=e.XStringBuffer.create();n.appendLine(this.getPlanningContextType().toString());if(e.notNull(this.m_planningService)){n.appendLine(this.m_planningService.toString())}n.appendLine("Related query consumer services:");let t=this.getQueryConsumerServices();if(e.notNull(t)){for(let e=0;e<t.size();e++){let i=t.get(e);n.appendLine(i.toString())}}return n.toString()};e.PlanningPropertiesObject=function(){};e.PlanningPropertiesObject.prototype=new e.QModelComponent;e.PlanningPropertiesObject.prototype._ff_c="PlanningPropertiesObject";e.PlanningPropertiesObject.prototype.m_properties=null;e.PlanningPropertiesObject.prototype.getProperties=function(){if(e.isNull(this.m_properties)){this.m_properties=e.XHashMapByString.create()}return this.m_properties};e.PlanningPropertiesObject.prototype.getPropertiesCopy=function(){let n=null;if(e.notNull(this.m_properties)){n=this.m_properties.createMapByStringCopy()}return n};e.PlanningPropertiesObject.prototype.getPropertyBoolean=function(n){let t=this.getPropertyObject(n);if(e.isNull(t)){return false}return t.getBoolean()};e.PlanningPropertiesObject.prototype.getPropertyInteger=function(n){let t=this.getPropertyObject(n);if(e.isNull(t)){return 0}return t.getInteger()};e.PlanningPropertiesObject.prototype.getPropertyObject=function(e){return this.getProperties().getByKey(e)};e.PlanningPropertiesObject.prototype.getPropertyString=function(n){let t=this.getPropertyObject(n);if(e.isNull(t)){return null}return t.getString()};e.PlanningPropertiesObject.prototype.releaseObject=function(){this.m_properties=e.XObjectExt.release(this.m_properties);e.QModelComponent.prototype.releaseObject.call(this)};e.PlanningPropertiesObject.prototype.setProperties=function(e){this.m_properties=e};e.PlanningPropertiesObject.prototype.setPropertyBoolean=function(n,t){let i=this.getPropertyObject(n);if(e.isNull(i)){i=e.XBooleanValue.create(t);this.getProperties().put(n,i)}else{i.setBoolean(t)}};e.PlanningPropertiesObject.prototype.setPropertyInteger=function(n,t){let i=this.getPropertyObject(n);if(e.isNull(i)){i=e.XIntegerValue.create(t);this.getProperties().put(n,i)}else{i.setInteger(t)}};e.PlanningPropertiesObject.prototype.setPropertyObject=function(n,t){if(e.isNull(t)){this.getProperties().remove(n)}else{this.getProperties().put(n,t)}};e.PlanningPropertiesObject.prototype.setPropertyString=function(n,t){let i=this.getPropertyObject(n);if(e.isNull(i)){i=e.XStringValue.create(t);this.getProperties().put(n,i)}else{i.setString(t)}};e.PlanningServiceConfig=function(){};e.PlanningServiceConfig.prototype=new e.DfServiceConfigClassic;e.PlanningServiceConfig.prototype._ff_c="PlanningServiceConfig";e.PlanningServiceConfig.CLAZZ=null;e.PlanningServiceConfig.staticSetup=function(){e.PlanningServiceConfig.CLAZZ=e.XClass.create(e.PlanningServiceConfig)};e.PlanningServiceConfig.prototype.m_properties=null;e.PlanningServiceConfig.prototype.getDataSource=function(){let n=e.QFactory.createDataSource();let t=this.getProperties();if(t.containsKey(e.PlanningConstants.PLANNING_MODEL)){n.setType(e.MetaObjectType.PLANNING_MODEL);n.setObjectName(t.getStringByKey(e.PlanningConstants.PLANNING_MODEL));if(t.contains(e.PlanningConstants.PLANNING_SCHEMA)){n.setSchemaName(t.getByKey(e.PlanningConstants.PLANNING_SCHEMA))}}else{if(t.contains(e.PlanningConstants.MODEL)){n.setModelName(e.PlanningConstants.MODEL)}if(t.contains(e.PlanningConstants.ENVIRONMENT)){n.setEnvironmentName(e.PlanningConstants.ENVIRONMENT)}let i=null;if(t.contains(e.PlanningConstants.DATA_AREA)){i=t.getByKey(e.PlanningConstants.DATA_AREA)}if(e.XStringUtils.isNullOrEmpty(i)){i=e.PlanningConstants.DATA_AREA_DEFAULT}n.setDataArea(i)}return n};e.PlanningServiceConfig.prototype.getMatchingServiceForServiceName=function(n){let t=this.getProperties();let i=e.XList.create();if(this.getSystemType()===e.SystemType.BW){let n=t.getStringByKeyExt(e.PlanningConstants.DATA_AREA,"DEFAULT");i=e.DataAreaUtil.getPlanningServices(this.getApplication(),this.getSystemName(),n)}else if(this.getSystemType().isTypeOf(e.SystemType.HANA)){let n=t.getStringByKey(e.PlanningConstants.PLANNING_SCHEMA);let a=t.getStringByKey(e.PlanningConstants.PLANNING_MODEL);i=e.PlanningModelUtil.getPlanningServices(this.getApplication(),this.getSystemName(),n,a)}let a=this.getConnectionContainer();let o=e.MessageManager.createMessageManagerExt(this.getSession());for(let e=0;e<i.size();e++){let n=i.get(e);if(n.isServiceConfigMatching(this,a,o)){return n}}return e.DfServiceConfigClassic.prototype.getMatchingServiceForServiceName.call(this,n)};e.PlanningServiceConfig.prototype.getProperties=function(){return this.m_properties};e.PlanningServiceConfig.prototype.releaseObjectInternal=function(){this.m_properties=e.XObjectExt.release(this.m_properties);e.DfServiceConfigClassic.prototype.releaseObjectInternal.call(this)};e.PlanningServiceConfig.prototype.setDataSource=function(n){let t=this.getProperties();t.remove(e.PlanningConstants.PLANNING_MODEL);t.remove(e.PlanningConstants.PLANNING_SCHEMA);t.remove(e.PlanningConstants.MODEL);t.remove(e.PlanningConstants.ENVIRONMENT);t.remove(e.PlanningConstants.DATA_AREA);if(e.isNull(n)){return}let i=n.getType();if(i===e.MetaObjectType.PLANNING_MODEL){this.setStringNotEmpty(t,e.PlanningConstants.PLANNING_SCHEMA,n.getSchemaName());this.setStringNotEmpty(t,e.PlanningConstants.PLANNING_MODEL,n.getObjectName())}else if(e.isNull(i)){this.setStringNotEmpty(t,e.PlanningConstants.MODEL,n.getModelName());this.setStringNotEmpty(t,e.PlanningConstants.ENVIRONMENT,n.getEnvironmentName());let i=n.getDataArea();if(e.XStringUtils.isNullOrEmpty(i)){i=e.PlanningConstants.DATA_AREA_DEFAULT}t.putString(e.PlanningConstants.DATA_AREA,i)}};e.PlanningServiceConfig.prototype.setDataSourceName=function(n){this.setDataSource(e.QFactory.createDataSourceWithFqn(n))};e.PlanningServiceConfig.prototype.setStringNotEmpty=function(n,t,i){if(e.XStringUtils.isNotNullAndNotEmpty(i)){n.putString(t,i)}};e.PlanningServiceConfig.prototype.setupConfig=function(n){e.DfServiceConfigClassic.prototype.setupConfig.call(this,n);this.m_properties=e.XProperties.create()};e.PlanningServiceConfig.prototype.toString=function(){if(this.hasErrors()){return this.getSummary()}let n=e.XStringBuffer.create();if(e.notNull(this.m_properties)){let e=this.m_properties.getKeysAsReadOnlyList();for(let t=0;t<e.size();t++){let i=e.get(t);let a=this.m_properties.getByKey(i);n.append(i).append("=").appendLine(a)}}return n.toString()};e.PlanningCommandModelComponent=function(){};e.PlanningCommandModelComponent.prototype=new e.QModelComponent;e.PlanningCommandModelComponent.prototype._ff_c="PlanningCommandModelComponent";e.PlanningCommandModelComponent.create=function(n,t){let i=new e.PlanningCommandModelComponent;i.setupModelComponent(n,null);i.m_planningCommand=e.XWeakReferenceUtil.getWeakRef(t);return i};e.PlanningCommandModelComponent.prototype.m_planningCommand=null;e.PlanningCommandModelComponent.prototype.getContext=function(){return this};e.PlanningCommandModelComponent.prototype.getFieldAccessorSingle=function(){return this.getPlanningCommand()};e.PlanningCommandModelComponent.prototype.getOlapComponentType=function(){return e.OlapComponentType.PLANNING_X_COMMAND};e.PlanningCommandModelComponent.prototype.getPlanningCommand=function(){return e.XWeakReferenceUtil.getHardRef(this.m_planningCommand)};e.PlanningCommand=function(){};e.PlanningCommand.prototype=new e.PlanningPropertiesObject;e.PlanningCommand.prototype._ff_c="PlanningCommand";e.PlanningCommand.COMMAND_TYPE="COMMAND_TYPE";e.PlanningCommand.INVALIDATE_RESULT_SET="INVALIDATE_RESULT_SET";e.PlanningCommand.PLANNING_COMMAND_JSON="PLANNING_COMMAND_JSON";e.PlanningCommand.PLANNING_SERVICE="PLANNING_SERVICE";e.PlanningCommand.RESULT="RESULT";e.PlanningCommand.prototype.m_analyticsCapabilities=null;e.PlanningCommand.prototype.m_connection=null;e.PlanningCommand.prototype.m_extPlanningCommandResult=null;e.PlanningCommand.prototype.m_synchronizationType=null;e.PlanningCommand.prototype.createCommandResult=function(e,n){let t=this.createCommandResultInstance();t.setCustomIdentifier(n);t.setPlanningCommand(this);t.setPlanningCommandCallback(e);return t};e.PlanningCommand.prototype.createCommandResultInstance=function(){let n=this.getResult();if(e.notNull(n)){e.XObjectExt.release(n)}n=this.createCommandResultInstanceInternal();this.setResult(n);return n};e.PlanningCommand.prototype.createCommandResultInstanceInternal=function(){return new e.PlanningModelCommandResult};e.PlanningCommand.prototype.createCommandStructure=e.noSupport;e.PlanningCommand.prototype.doProcessCommand=function(n,t){let i=this.getConnection();let a=this.getServicePath();let o=i.newRpcFunction(a);let r=o.getRpcRequest();let l;if(this.getOlapComponentType()!==e.OlapComponentType.OLAP){l=this.serializeToElement(e.QModelFormat.INA_DATA)}else{l=this.serializeToJson()}if(i.getSystemDescription().getSystemType().isTypeOf(e.SystemType.HANA)&&this.getSession().hasFeature(e.FeatureToggleOlap.PLANNING_BATCH)){l=e.PlanningModelCommandHelper.convertRequestToBatch(l)}r.setRequestStructure(l);o.processFunctionExecution(n,this,t)};e.PlanningCommand.prototype.getCapabilities=function(){if(e.isNull(this.m_analyticsCapabilities)){let n=this.getConnection();let t=n.getSystemConnect().getServerMetadata();this.m_analyticsCapabilities=t.getMetadataForService(e.ServerService.ANALYTIC)}return this.m_analyticsCapabilities};e.PlanningCommand.prototype.getCommandType=function(){return this.getPropertyObject(e.PlanningCommand.COMMAND_TYPE)};e.PlanningCommand.prototype.getConnection=function(){if(e.notNull(this.m_connection)){return this.m_connection}let n=this.getPlanningService();let t=n.getPlanningServiceConfig().getConnectionContainer();if(e.isNull(t)){let e=n.getServiceConfig().getSystemName();t=n.getApplication().getConnectionPool().getConnection(e)}return t};e.PlanningCommand.prototype.getPlanningService=function(){return this.getPropertyObject(e.PlanningCommand.PLANNING_SERVICE)};e.PlanningCommand.prototype.getResult=function(){return this.getPropertyObject(e.PlanningCommand.RESULT)};e.PlanningCommand.prototype.getServicePath=function(){let n=this.getConnection();let t=n.getSystemDescription();let i=this.getCapabilities().getByKey(e.InACapabilities.C032_FAST_PATH);if(e.notNull(i)&&i.getValue()!==null){return i.getValue()}return t.getSystemType().getInAPath()};e.PlanningCommand.prototype.isInvalidatingResultSet=function(){let n=this.getPropertyObject(e.PlanningCommand.INVALIDATE_RESULT_SET);if(e.isNull(n)){return true}return n.getBoolean()};e.PlanningCommand.prototype.onCommandExecuted=function(n){if(this.m_synchronizationType===e.SyncType.BLOCKING){this.m_extPlanningCommandResult=n}let t=n.getData().getPlanningCommandCallback();if(e.notNull(t)){t.onCommandProcessed(n)}};e.PlanningCommand.prototype.onCommandProcessed=function(n){let t=n.getData().getPlanningCommandCallback();if(e.notNull(t)){t.onCommandProcessed(n)}};e.PlanningCommand.prototype.onFunctionExecuted=function(n,t,i){let a=i;let o;if(n.hasErrors()){o=e.ExtResult.create(a,n)}else{this.onSuccessfulCommand();let n=e.PrFactory.createStructureDeepCopy(t.getRootElement());if(this.getConnection().getSystemDescription().getSystemType().isTypeOf(e.SystemType.HANA)&&this.getSession().hasFeature(e.FeatureToggleOlap.PLANNING_BATCH)){n=e.PlanningModelCommandHelper.convertResponseFromBatch(n)}let i=e.MessageManager.createMessageManagerExt(this.getSession());this.updatePlanningContext(n,i);if(this.getOlapComponentType()!==e.OlapComponentType.OLAP){i.addAllMessages(this.deserializeFromElementExt(e.QModelFormat.INA_DATA,n))}else{a.processResponseStructrue(n,i)}o=e.ExtResult.create(a,i)}this.onCommandExecuted(o)};e.PlanningCommand.prototype.onSuccessfulCommand=function(){this.resetCommand()};e.PlanningCommand.prototype.processCommand=function(n,t,i){let a=this.createCommandResult(t,i);this.m_synchronizationType=n;this.doProcessCommand(n,a);let o=null;if(n===e.SyncType.BLOCKING){o=this.m_extPlanningCommandResult;this.m_extPlanningCommandResult=null}return o};e.PlanningCommand.prototype.resetCommand=function(){this.setPropertyObject(e.PlanningCommand.PLANNING_COMMAND_JSON,null)};e.PlanningCommand.prototype.serializeToJson=function(){let n=this.getPropertyObject(e.PlanningCommand.PLANNING_COMMAND_JSON);if(e.isNull(n)){n=this.createCommandStructure();this.setPropertyObject(e.PlanningCommand.PLANNING_COMMAND_JSON,n)}return n};e.PlanningCommand.prototype.setCommandType=function(n){this.setPropertyObject(e.PlanningCommand.COMMAND_TYPE,n)};e.PlanningCommand.prototype.setConnection=function(e){this.m_connection=e};e.PlanningCommand.prototype.setInvalidatingResultSet=function(n){this.setPropertyBoolean(e.PlanningCommand.INVALIDATE_RESULT_SET,n);return this};e.PlanningCommand.prototype.setPlanningService=function(n){this.setPropertyObject(e.PlanningCommand.PLANNING_SERVICE,n);this.setupContext(n.getOlapEnv().getContext())};e.PlanningCommand.prototype.setResult=function(n){this.setPropertyObject(e.PlanningCommand.RESULT,n)};e.PlanningCommand.prototype.updatePlanningContext=function(n,t){if(e.isNull(n)){return}let i=this.getPlanningService();if(e.isNull(i)){return}let a=i.getApplication();if(e.isNull(a)){return}let o=i.getServiceConfig();if(e.isNull(o)){return}let r=o.getSystemName();e.PlanningState.update(a,r,n,t)};e.PlanningCommandResult=function(){};e.PlanningCommandResult.prototype=new e.PlanningPropertiesObject;e.PlanningCommandResult.prototype._ff_c="PlanningCommandResult";e.PlanningCommandResult.CUSTOM_IDENTIFIER="CUSTOM_IDENTIFIER";e.PlanningCommandResult.PLANNING_COMMAND="PLANNING_COMMAND";e.PlanningCommandResult.PLANNING_COMMAND_CALLBACK="PLANNING_COMMAND_CALLBACK";e.PlanningCommandResult.prototype.checkErrorState=function(){};e.PlanningCommandResult.prototype.cloneOlapComponent=function(e,n){let t=this.getPlanningCommand();let i=t.createCommandResultInstance();i.setProperties(this.getPropertiesCopy());return i};e.PlanningCommandResult.prototype.getCustomIdentifier=function(){return this.getPropertyObject(e.PlanningCommandResult.CUSTOM_IDENTIFIER)};e.PlanningCommandResult.prototype.getPlanningCommand=function(){return this.getPropertyObject(e.PlanningCommandResult.PLANNING_COMMAND)};e.PlanningCommandResult.prototype.getPlanningCommandCallback=function(){return this.getPropertyObject(e.PlanningCommandResult.PLANNING_COMMAND_CALLBACK)};e.PlanningCommandResult.prototype.initResponseStructureCommand=function(e,n){};e.PlanningCommandResult.prototype.isValidResponseStructure=function(n,t){if(e.isNull(n)){return false}if(e.isNull(t)){return false}e.InAHelper.importMessages(n,t);return true};e.PlanningCommandResult.prototype.onCommandProcessed=e.noSupport;e.PlanningCommandResult.prototype.processResponseStructrue=function(e,n){this.initResponseStructureCommand(e,n);if(this.isValidResponseStructure(e,n)){this.processResponseStructureCommand(e,n,n.hasErrors())}this.getPlanningCommand().resetCommand();this.checkErrorState()};e.PlanningCommandResult.prototype.processResponseStructureCommand=function(e,n,t){};e.PlanningCommandResult.prototype.setCustomIdentifier=function(n){this.setPropertyObject(e.PlanningCommandResult.CUSTOM_IDENTIFIER,n)};e.PlanningCommandResult.prototype.setPlanningCommand=function(n){this.setPropertyObject(e.PlanningCommandResult.PLANNING_COMMAND,n)};e.PlanningCommandResult.prototype.setPlanningCommandCallback=function(n){this.setPropertyObject(e.PlanningCommandResult.PLANNING_COMMAND_CALLBACK,n)};e.PlanningCommandIdentifier=function(){};e.PlanningCommandIdentifier.prototype=new e.PlanningPropertiesObject;e.PlanningCommandIdentifier.prototype._ff_c="PlanningCommandIdentifier";e.PlanningCommandIdentifier.COMMAND_ID="COMMAND_ID";e.PlanningCommandIdentifier.PLANNING_COMMAND_TYPE="PLANNING_COMMAND_TYPE";e.PlanningCommandIdentifier.prototype.getCommandId=function(){return this.getPropertyString(e.PlanningCommandIdentifier.COMMAND_ID)};e.PlanningCommandIdentifier.prototype.getPlanningCommandType=function(){return this.getPropertyObject(e.PlanningCommandIdentifier.PLANNING_COMMAND_TYPE)};e.PlanningCommandIdentifier.prototype.setCommandId=function(n){this.setPropertyString(e.PlanningCommandIdentifier.COMMAND_ID,n)};e.PlanningCommandIdentifier.prototype.setPlanningCommandType=function(n){this.setPropertyObject(e.PlanningCommandIdentifier.PLANNING_COMMAND_TYPE,n)};e.DataArea=function(){};e.DataArea.prototype=new e.PlanningContext;e.DataArea.prototype._ff_c="DataArea";e.DataArea.create=function(){return new e.DataArea};e.DataArea.prototype.m_cellLockingType=null;e.DataArea.prototype.m_dataArea=null;e.DataArea.prototype.m_environment=null;e.DataArea.prototype.m_model=null;e.DataArea.prototype.m_supportsChangedData=false;e.DataArea.prototype.m_supportsChangedDataChecked=false;e.DataArea.prototype.m_supportsClose=false;e.DataArea.prototype.m_supportsCloseChecked=false;e.DataArea.prototype._getServiceConfig=function(){let n=this.getPlanningService();return e.isNull(n)?null:n.getServiceConfig()};e.DataArea.prototype._supportsCapability=function(n){let t=this._getServiceConfig();if(e.isNull(t)){return false}let i=t.getApplication();if(e.isNull(i)){return false}let a=i.getConnectionPool().getConnection(t.getSystemName());return a.supportsAnalyticCapability(n)};e.DataArea.prototype._supportsChangedData=function(){return this._supportsCapability("ChangeCounter")};e.DataArea.prototype._supportsClose=function(){return this._supportsCapability("ActionClose")};e.DataArea.prototype.createCommandClose=function(){return this.createPlanningContextCommand(e.PlanningContextCommandType.CLOSE)};e.DataArea.prototype.createCommandPublish=function(){return this.createPlanningContextCommand(e.PlanningContextCommandType.PUBLISH)};e.DataArea.prototype.createPlanningContextCommand=function(n){if(!this.supportsPlanningContextCommandType(n)){return null}let t;if(n===e.PlanningContextCommandType.CLOSE){t=new e.DataAreaCommandClose}else{t=new e.DataAreaCommand}t.setPlanningService(this.getPlanningService());t.setCommandType(e.PlanningCommandType.DATA_AREA_COMMAND);t.setPlanningContext(this);t.setPlanningContextCommandType(n);t.setInvalidatingResultSet(n.isInvalidatingResultSet());return t};e.DataArea.prototype.createPlanningFunctionIdentifier=function(n){let t=new e.PlanningFunctionIdentifier;t.setPlanningCommandType(e.PlanningCommandType.PLANNING_FUNCTION);t.setPlanningOperationType(e.PlanningOperationType.PLANNING_FUNCTION);t.setCommandId(n);return t};e.DataArea.prototype.createPlanningOperationIdentifier=function(n,t){if(t===e.PlanningOperationType.PLANNING_FUNCTION){return this.createPlanningFunctionIdentifier(n)}if(t===e.PlanningOperationType.PLANNING_SEQUENCE){return this.createPlanningSequenceIdentifier(n)}e.noSupport()};e.DataArea.prototype.createPlanningOperationIdentifierByDataSource=function(n){if(e.isNull(n)){return null}let t=n.getObjectName();let i=n.getType();if(i===e.MetaObjectType.PLANNING_FUNCTION){return this.createPlanningFunctionIdentifier(t)}else if(i===e.MetaObjectType.PLANNING_SEQUENCE){return this.createPlanningSequenceIdentifier(t)}return null};e.DataArea.prototype.createPlanningSequenceIdentifier=function(n){let t=new e.PlanningSequenceIdentifier;t.setPlanningCommandType(e.PlanningCommandType.PLANNING_SEQUENCE);t.setPlanningOperationType(e.PlanningOperationType.PLANNING_SEQUENCE);t.setCommandId(n);return t};e.DataArea.prototype.createRequestCreateCommandWithId=function(e){return this.createRequestCreatePlanningOperation(e)};e.DataArea.prototype.createRequestCreatePlanningFunction=function(n){let t=this.getPlanningService();let i=e.DataAreaRequestCreatePlanningFunction.create(t);i.setCommandType(e.PlanningCommandType.PLANNING_MODEL_REQUEST);i.setRequestType(e.DataAreaRequestType.CREATE_PLANNING_FUNCTION);i.setCommandIdentifier(n);i.setPlanningContext(this);return i};e.DataArea.prototype.createRequestCreatePlanningOperation=function(n){let t=n.getPlanningOperationType();if(t===e.PlanningOperationType.PLANNING_FUNCTION){return this.createRequestCreatePlanningFunction(n)}else if(t===e.PlanningOperationType.PLANNING_SEQUENCE){return this.createRequestCreatePlanningSequence(n)}throw e.XException.createRuntimeException("illegal operation identifier")};e.DataArea.prototype.createRequestCreatePlanningSequence=function(n){let t=e.DataAreaRequestCreatePlanningSequence.create(this.getPlanningService());t.setCommandType(e.PlanningCommandType.PLANNING_MODEL_REQUEST);t.setRequestType(e.DataAreaRequestType.CREATE_PLANNING_SEQUENCE);t.setCommandIdentifier(n);t.setPlanningContext(this);return t};e.DataArea.prototype.createRequestGetPlanningFunctionMetadata=function(n){let t=new e.DataAreaRequestGetPlanningFunctionMetadata;t.setPlanningService(this.getPlanningService());t.setCommandType(e.PlanningCommandType.PLANNING_MODEL_REQUEST);t.setRequestType(e.DataAreaRequestType.GET_PLANNING_FUNCTION_METADATA);t.setPlanningOperationIdentifier(n);t.setPlanningContext(this);return t};e.DataArea.prototype.createRequestGetPlanningOperationMetadata=function(n){let t=n.getPlanningOperationType();if(t===e.PlanningOperationType.PLANNING_FUNCTION){return this.createRequestGetPlanningFunctionMetadata(n)}if(t===e.PlanningOperationType.PLANNING_SEQUENCE){return this.createRequestGetPlanningSequenceMetadata(n)}e.noSupport()};e.DataArea.prototype.createRequestGetPlanningSequenceMetadata=function(n){let t=new e.DataAreaRequestGetPlanningSequenceMetadata;t.setPlanningService(this.getPlanningService());t.setCommandType(e.PlanningCommandType.PLANNING_MODEL_REQUEST);t.setRequestType(e.DataAreaRequestType.GET_PLANNING_SEQUENCE_METADATA);t.setPlanningOperationIdentifier(n);t.setPlanningContext(this);return t};e.DataArea.prototype.getCellLockingType=function(){let n=e.DataAreaState.getDataAreaState(this);if(e.notNull(n)){return n.getCellLocking()}return this.m_cellLockingType};e.DataArea.prototype.getDataArea=function(){return this.m_dataArea};e.DataArea.prototype.getEnvironment=function(){let n=e.DataAreaState.getDataAreaState(this);if(e.notNull(n)){return n.getEnvironment()}return this.m_environment};e.DataArea.prototype.getModel=function(){let n=e.DataAreaState.getDataAreaState(this);if(e.notNull(n)){return n.getModel()}return this.m_model};e.DataArea.prototype.getPlanningContextType=function(){return e.PlanningContextType.DATA_AREA};e.DataArea.prototype.getQueryConsumerServices=function(){return e.DataAreaUtil.getQueryConsumerServices(this)};e.DataArea.prototype.hasChangedData=function(){let n=e.DataAreaState.getDataAreaState(this);if(e.isNull(n)){return false}return n.hasChangedData()};e.DataArea.prototype.isInitializedAtServer=function(){let n=e.DataAreaState.getDataAreaState(this);if(e.isNull(n)){return false}return n.isSubmitted()};e.DataArea.prototype.isWorkStatusActive=function(){let n=e.DataAreaState.getDataAreaState(this);if(e.isNull(n)){return false}return n.isWorkStatusActive()};e.DataArea.prototype.releaseObject=function(){this.m_dataArea=null;this.m_environment=null;this.m_model=null;this.m_cellLockingType=null;e.PlanningContext.prototype.releaseObject.call(this)};e.DataArea.prototype.setCellLockingType=function(e){this.m_cellLockingType=e};e.DataArea.prototype.setDataArea=function(e){this.m_dataArea=e};e.DataArea.prototype.setEnvironment=function(e){this.m_environment=e};e.DataArea.prototype.setModel=function(e){this.m_model=e};e.DataArea.prototype.supportsChangedData=function(){if(!this.m_supportsChangedDataChecked){this.m_supportsChangedData=this._supportsChangedData();this.m_supportsChangedDataChecked=true}return this.m_supportsChangedData};e.DataArea.prototype.supportsClose=function(){if(!this.m_supportsCloseChecked){this.m_supportsClose=this._supportsClose();this.m_supportsCloseChecked=true}return this.m_supportsClose};e.DataArea.prototype.supportsPlanningContextCommandType=function(n){if(e.isNull(n)){return false}if(n===e.PlanningContextCommandType.PUBLISH){return true}if(n===e.PlanningContextCommandType.REFRESH){return true}if(n===e.PlanningContextCommandType.RESET){return true}if(n===e.PlanningContextCommandType.DOC_RESET||n===e.PlanningContextCommandType.DOC_SAVE){return true}if(n===e.PlanningContextCommandType.CLOSE){return this.supportsClose()}return false};e.DataArea.prototype.supportsWorkStatus=function(){return this.supportsChangedData()};e.PlanningModel=function(){};e.PlanningModel.prototype=new e.PlanningContext;e.PlanningModel.prototype._ff_c="PlanningModel";e.PlanningModel.create=function(){let n=new e.PlanningModel;n.m_versionParametersMetadata=e.XHashMapByString.create();n.m_planningModelBehaviour=e.PlanningModelBehaviour.STANDARD;n.m_persistenceType=e.PlanningPersistenceType.DEFAULT;return n};e.PlanningModel.updateState=function(n,t,i,a){let o=n.getSystemLandscape();if(e.isNull(o)){return}let r=o.getSystemDescription(t);if(e.isNull(r)){return}let l=r.getSystemType();if(e.isNull(l)){return}if(!l.isTypeOf(e.SystemType.HANA)){return}let s=e.PrUtils.getStructureProperty(i,"Planning");if(e.isNull(s)){return}let p=e.PrUtils.getIntegerValueProperty(s,"return_code",-1);if(p!==0){a.addErrorExt(e.OriginLayer.SERVER,0,e.XStringBuffer.create().append("Planning return code: ").appendInt(p).toString(),null);return}if(!e.PlanningModel.updateVersionsState(n,t,s)){a.addErrorExt(e.OriginLayer.PROTOCOL,0,e.XStringBuffer.create().append("Planning response structure invalid").toString(),null)}};e.PlanningModel.updateStateFromResponse=function(n,t,i,a,o){let r=n.getSystemLandscape();if(e.isNull(r)||!r.existsSystemName(t)){return}let l=r.getSystemDescription(t).getSystemType();if(e.isNull(l)||!l.isTypeOf(e.SystemType.HANA)){return}let s=e.InAHelper.importMessages(a,o);if(s){return}let p=i.getStructureByKey("Planning").getListByKey("commands");let g=e.PrUtils.getStructureWithKeyValuePair(p,"command","get_versions");let u=e.PlanningModelUtil.getPlanningService(n,t,g.getStringByKey("schema"),g.getStringByKey("model"));if(e.isNull(u)){return}if(e.PlanningModelCommandHelper.getResponsesReturnCodeStrict(a,o)!==0){return}let c=u.getPlanningContext();let P=a.getListByKey("Planning");if(!e.PlanningModelCommandHelper.processResponseGetVersions(p,P,c)){o.addErrorExt(e.OriginLayer.PROTOCOL,0,"Planning response structure invalid",null)}};e.PlanningModel.updateVersionState=function(n,t,i){if(e.isNull(i)){return false}let a=e.PrUtils.getStringValueProperty(i,"schema",null);if(e.isNull(a)){return false}let o=e.PrUtils.getStringValueProperty(i,"model",null);if(e.isNull(o)){return false}let r=e.PlanningModelUtil.getPlanningService(n,t,a,o);if(e.isNull(r)){return false}let l=r.getPlanningContext();return e.isNull(l)?false:l.updateVersionStateInternalIgnoreUndesired(i)};e.PlanningModel.updateVersionsState=function(n,t,i){let a=true;let o=e.PrUtils.getListProperty(i,"versions");let r=e.PrUtils.getListSize(o,0);for(let i=0;i<r;i++){let r=e.PrUtils.getStructureElement(o,i);if(!e.PlanningModel.updateVersionState(n,t,r)){a=false}}return a};e.PlanningModel.prototype.m_actionMetadataList=null;e.PlanningModel.prototype.m_actionMetadataMap=null;e.PlanningModel.prototype.m_backendUserName=null;e.PlanningModel.prototype.m_dataSources=null;e.PlanningModel.prototype.m_isPublicVersionEditInProgress=false;e.PlanningModel.prototype.m_modelInitialized=false;e.PlanningModel.prototype.m_persistenceType=null;e.PlanningModel.prototype.m_planningModelBehaviour=null;e.PlanningModel.prototype.m_planningModelName=null;e.PlanningModel.prototype.m_planningModelSchema=null;e.PlanningModel.prototype.m_privileges=null;e.PlanningModel.prototype.m_privilegesMap=null;e.PlanningModel.prototype.m_versionParametersMetadata=null;e.PlanningModel.prototype.m_versionPrivilegesInitialized=false;e.PlanningModel.prototype.m_versionsList=null;e.PlanningModel.prototype.m_versionsMap=null;e.PlanningModel.prototype.m_withPublicVersionEdit=false;e.PlanningModel.prototype.m_withSharedVersions=false;e.PlanningModel.prototype.m_withUniqueVersionDescriptions=false;e.PlanningModel.prototype._getVersions=function(n,t,i){this.checkModelInitialized();let a=e.XList.create();for(let e=0;e<this.m_versionsList.size();e++){let o=this.m_versionsList.get(e);if(o.getVersionState()===null){continue}if(!n){if(!o.isSharedVersion()){continue}}if(!t){if(o.isSharedVersion()){continue}}if(!i){if(!o.isActive()){continue}}a.add(o)}return a};e.PlanningModel.prototype.addInputEnabledPublicVersion=function(n){this.checkModelInitialized();let t=this.m_versionsMap.getByKey(n);if(e.isNull(t)){t=e.PlanningVersion.create();t.setPlanningModel(this);t.setVersionIdentifier(e.PlanningVersionIdentifier.create(-1,false,null))}t.setSourceVersionName(n);t.setShowingAsPublicVersion(true);t.updateInvalidPrivileges();t.setVersionState(e.PlanningVersionState.CLEAN);this.m_versionsMap.put(n,t);this.m_versionsList.add(t);this.setWithPublicVersionEdit(true);this.setPublicVersionEditInProgress(true);return true};e.PlanningModel.prototype.checkModelInitialized=function(){if(!this.isModelInitialized()){throw e.XException.createIllegalStateException("planning model is not initialized")}};e.PlanningModel.prototype.copyVersionIdentifier=function(n){return e.PlanningVersionIdentifier.create(n.getVersionId(),n.isSharedVersion(),n.getVersionOwner())};e.PlanningModel.prototype.createCommandBackup=function(){return this.createPlanningContextCommand(e.PlanningContextCommandType.BACKUP)};e.PlanningModel.prototype.createCommandClose=function(){return this.createPlanningContextCommand(e.PlanningContextCommandType.CLOSE)};e.PlanningModel.prototype.createCommandSave=function(){return this.createPlanningContextCommand(e.PlanningContextCommandType.SAVE)};e.PlanningModel.prototype.createPlanningContextCommand=function(n){if(!this.supportsPlanningContextCommandType(n)){return null}let t;if(n===e.PlanningContextCommandType.CLOSE){t=new e.PlanningModelCloseCommand}else{t=new e.PlanningModelCommand}t.setPlanningService(this.getPlanningService());t.setCommandType(e.PlanningCommandType.PLANNING_MODEL_COMMAND);t.setPlanningContext(this);t.setPlanningContextCommandType(n);t.setInvalidatingResultSet(n.isInvalidatingResultSet());return t};e.PlanningModel.prototype.createRequestCleanup=function(){this.checkModelInitialized();let n=new e.PlanningModelRequestCleanup;this.initializePlanningModelRequest(n,e.PlanningModelRequestType.CLEANUP);return n};e.PlanningModel.prototype.createRequestCreateCommandWithId=function(n){this.checkModelInitialized();let t=n;e.XObjectExt.assertNotNullExt(t,"Action  is not yet known by client");let i=new e.PlanningModelRequestCreateAction;this.initializePlanningModelRequest(i,e.PlanningModelRequestType.CREATE_PLANNING_ACTION);i.setCommandIdentifier(t);let a=this.getActionMetadata(t.getActionId()).getActionParameterMetadata();i.setActionParameters(a);return i};e.PlanningModel.prototype.createRequestRefreshActions=function(){this.checkModelInitialized();let n=new e.PlanningModelRequestRefreshActions;this.initializePlanningModelRequest(n,e.PlanningModelRequestType.REFRESH_ACTIONS);return n};e.PlanningModel.prototype.createRequestRefreshVersions=function(){this.checkModelInitialized();let n=new e.PlanningModelRequestRefreshVersions;this.initializePlanningModelRequest(n,e.PlanningModelRequestType.REFRESH_VERSIONS);return n};e.PlanningModel.prototype.createRequestUpdateVersionPrivileges=function(){this.checkModelInitialized();let n=new e.PlanningModelRequestUpdateVersionPrivileges;this.initializePlanningModelRequest(n,e.PlanningModelRequestType.UPDATE_PRIVILEGES);return n};e.PlanningModel.prototype.getAction=function(n){let t=new e.PlanningAction;t.setCommandType(e.PlanningCommandType.PLANNING_ACTION);t.setPlanningService(this.getPlanningService());t.setPlanningContext(this);t.setCommandIdentifier(n);let i=this.getActionMetadata(n.getActionId()).getActionParameterMetadata();t.setActionParameterMetadata(i);return t};e.PlanningModel.prototype.getActionForQuery=function(n){this.checkModelInitialized();if(e.isNull(n)){return null}let t=new e.PlanningAction;t.setCommandType(e.PlanningCommandType.PLANNING_ACTION);t.setPlanningService(this.getPlanningService());t.setPlanningContext(this);t.setCommandIdentifier(n);let i=this.getActionMetadata(n.getActionId()).getActionParameterMetadata();t.setActionParameterMetadata(i);return t};e.PlanningModel.prototype.getActionForQueryIdentifier=function(n){this.checkModelInitialized();let t=this.getActionMetadata(n);if(e.isNull(t)){return null}let i=t.getActionType();if(e.isNull(i)){return null}if(!i.isTypeOf(e.PlanningActionType.QUERY_ACTION)){return null}let a=new e.PlanningActionForQueryIdentifier;a.setActionMetadata(t);a.setCommandId(t.getActionId());a.setPlanningCommandType(e.PlanningCommandType.PLANNING_ACTION);return a};e.PlanningModel.prototype.getActionForQueryIdentifiers=function(){this.checkModelInitialized();let n=e.XList.create();let t=this.getActionMetadataList();for(let i=0;i<t.size();i++){let a=t.get(i);let o=this.getActionForQueryIdentifier(a.getActionId());if(e.isNull(o)){continue}n.add(o)}return n};e.PlanningModel.prototype.getActionIdentifierById=function(n,t){this.checkModelInitialized();let i=this.getActionMetadata(n);if(e.isNull(i)){return null}let a=i.getActionType();if(e.isNull(a)){return null}if(!a.isTypeOf(e.PlanningActionType.VERSION_ACTION)){return null}let o=new e.PlanningActionIdentifier;o.setActionMetadata(i);o.setCommandId(i.getActionId());o.setPlanningCommandType(e.PlanningCommandType.PLANNING_ACTION);o.setVersionIdentifier(t);return o};e.PlanningModel.prototype.getActionIdentifiers=function(){this.checkModelInitialized();let n=this.getAllVersions();let t=e.XList.create();for(let i=0;i<this.m_actionMetadataList.size();i++){let a=this.m_actionMetadataList.get(i);for(let i=0;i<n.size();i++){let o=n.get(i);if(!o.isActive()){continue}let r=this.getActionIdentifierById(a.getActionId(),o);if(e.isNull(r)){continue}t.add(r)}}return t};e.PlanningModel.prototype.getActionMetadata=function(e){this.checkModelInitialized();let n=this.getActionMetadataMap();return n.getByKey(e)};e.PlanningModel.prototype.getActionMetadataList=function(){this.checkModelInitialized();let n=e.XList.create();n.addAll(this.m_actionMetadataList);return n};e.PlanningModel.prototype.getActionMetadataListInternal=function(){this.m_actionMetadataMap=e.XObjectExt.release(this.m_actionMetadataMap);return this.m_actionMetadataList};e.PlanningModel.prototype.getActionMetadataMap=function(){this.checkModelInitialized();if(e.isNull(this.m_actionMetadataMap)){this.m_actionMetadataMap=e.XHashMapByString.create();for(let e=0;e<this.m_actionMetadataList.size();e++){let n=this.m_actionMetadataList.get(e);let t=n.getActionId();this.m_actionMetadataMap.put(t,n)}}return this.m_actionMetadataMap};e.PlanningModel.prototype.getActiveVersions=function(){return this._getVersions(true,false,false)};e.PlanningModel.prototype.getAllVersions=function(){return this._getVersions(true,true,true)};e.PlanningModel.prototype.getBackendUserName=function(){return this.m_backendUserName};e.PlanningModel.prototype.getDataSourcesInternal=function(){return this.m_dataSources};e.PlanningModel.prototype.getOlapComponentType=function(){return e.OlapComponentType.PLANNING_MODEL};e.PlanningModel.prototype.getPersistenceType=function(){return this.m_persistenceType};e.PlanningModel.prototype.getPlanningCapabilities=function(){let n=this.getPlanningService().getApplication().getOlapEnvironment();let t=n.getSystemContainer(this.getPlanningService().getServiceConfig().getSystemName());return t.getServiceCapabilities(e.ServerService.PLANNING)};e.PlanningModel.prototype.getPlanningContextType=function(){return e.PlanningContextType.PLANNING_MODEL};e.PlanningModel.prototype.getPlanningModelBehaviour=function(){return this.m_planningModelBehaviour};e.PlanningModel.prototype.getPlanningModelName=function(){return this.m_planningModelName};e.PlanningModel.prototype.getPlanningModelSchema=function(){return this.m_planningModelSchema};e.PlanningModel.prototype.getQueryConsumerServices=function(){this.checkModelInitialized();return e.PlanningModelUtil.getQueryConsumerServices(this)};e.PlanningModel.prototype.getQueryDataSources=function(){this.checkModelInitialized();let n=e.XList.create();n.addAll(this.m_dataSources);return n};e.PlanningModel.prototype.getSharedVersions=function(){return this._getVersions(false,true,true)};e.PlanningModel.prototype.getVersionById=function(n,t){this.checkModelInitialized();let i=this.getVersionByIdInternal(n);if(e.isNull(i)){i=e.PlanningVersion.create();i.setPlanningModel(this);i.setVersionIdentifier(n);i.setVersionDescription(t);i.updateInvalidPrivileges();this.m_versionsMap.put(n.getVersionUniqueName(),i);this.m_versionsList.add(i)}else if(i.getVersionState()===null){i.setVersionDescription(t)}return i};e.PlanningModel.prototype.getVersionByIdInternal=function(e){return this.m_versionsMap.getByKey(e.getVersionUniqueName())};e.PlanningModel.prototype.getVersionIdentifier=function(n,t,i){return e.PlanningVersionIdentifier.create(n,t,i)};e.PlanningModel.prototype.getVersionParametersMetadata=function(){return this.m_versionParametersMetadata};e.PlanningModel.prototype.getVersionParametersMetadataInternal=function(){return this.m_versionParametersMetadata};e.PlanningModel.prototype.getVersionPrivilege=function(e,n,t,i){return this.getVersionPrivilegeById(e,this.getVersionIdentifier(n,false,null),t,i)};e.PlanningModel.prototype.getVersionPrivilegeById=function(n,t,i,a){if(!this.isVersionPrivilegesInitialized()){throw e.XException.createIllegalStateException("version privileges are not yet initialized")}if(t.isSharedVersion()){e.noSupport()}let o=e.PlanningVersionPrivilege.createQualifiedName(this,n,t,i,a);let r=this.m_privilegesMap.getByKey(o);if(e.isNull(r)){let l=e.PlanningVersionPrivilege.create(this,n,t,i,a);if(!e.XString.isEqual(l.getQualifiedName(),o)){throw e.XException.createIllegalStateException("illegal qualified name")}this.m_privileges.add(l);this.m_privilegesMap.put(o,l);r=l}return r};e.PlanningModel.prototype.getVersionPrivileges=function(){if(!this.isVersionPrivilegesInitialized()){throw e.XException.createIllegalStateException("version privileges are not yet initialized")}return this.m_privileges};e.PlanningModel.prototype.getVersions=function(){return this._getVersions(true,false,true)};e.PlanningModel.prototype.hasActiveActionSequences=function(){if(!this.isModelInitialized()){return false}let n=this.getAllVersions();if(e.isNull(n)){return false}for(let t=0;t<n.size();t++){let i=n.get(t);if(e.isNull(i)){continue}if(i.isActionSequenceActive()){return true}}return false};e.PlanningModel.prototype.hasActiveActions=function(){if(!this.isModelInitialized()){return false}let n=this.getAllVersions();if(e.isNull(n)){return false}for(let t=0;t<n.size();t++){let i=n.get(t);if(e.isNull(i)){continue}if(i.isActionActive()){return true}}return false};e.PlanningModel.prototype.hasChangedData=function(){for(let n=0;n<this.m_versionsList.size();n++){let t=this.m_versionsList.get(n);if(t.getVersionState()===e.PlanningVersionState.CHANGED){return true}}return false};e.PlanningModel.prototype.hasChangedVersionPrivileges=function(){if(!this.isVersionPrivilegesInitialized()){return false}let n=this.getVersionPrivileges();if(e.isNull(n)||n.isEmpty()){return false}for(let t=0;t<n.size();t++){let i=n.get(t);let a=i.getPrivilegeState();if(a===e.PlanningPrivilegeState.TO_BE_GRANTED||a===e.PlanningPrivilegeState.TO_BE_REVOKED){return true}}return false};e.PlanningModel.prototype.initializePlanningModel=function(n){this.m_dataSources=e.XList.create();this.m_versionsList=e.XList.create();this.m_versionsMap=e.XHashMapByString.create();this.m_actionMetadataList=e.XList.create();this.m_privileges=e.XList.create();this.m_privilegesMap=e.XHashMapByString.create();let t=e.XCommandFactory.create(this.getPlanningService().getApplication());let i=t.createCommand(e.XCmdInitPlanningStep.CMD_NAME);i.addParameter(e.XCmdInitPlanningStep.PARAM_I_PLANNING_MODEL,this);i.addParameter(e.XCmdInitPlanningStep.PARAM_I_STEP,e.XCmdInitPlanningStep.STEP_1_REFRESH_VERSIONS);let a=t.createCommand(e.XCmdInitPlanningStep.CMD_NAME);a.addParameter(e.XCmdInitPlanningStep.PARAM_I_PLANNING_MODEL,this);a.addParameter(e.XCmdInitPlanningStep.PARAM_I_STEP,e.XCmdInitPlanningStep.STEP_2_INIT_VERSIONS);i.setFollowUpCommand(e.XCommandFollowUpType.SUCCESS,a);i.processCommand(n,this,null)};e.PlanningModel.prototype.initializePlanningModelRequest=function(n,t){n.setCommandType(e.PlanningCommandType.PLANNING_MODEL_REQUEST);n.setRequestType(t);n.setPlanningContext(this);n.setPlanningService(this.getPlanningService());n.setInvalidatingResultSet(t.isInvalidatingResultSet())};e.PlanningModel.prototype.invalidate=function(){if(!this.isModelInitialized()){return}if(this.supportsPublicVersionEdit()&&this.isPublicVersionEditInProgress()){this.setPublicVersionEditInProgress(false)}e.PlanningContext.prototype.invalidate.call(this)};e.PlanningModel.prototype.isModelInitialized=function(){return this.m_modelInitialized};e.PlanningModel.prototype.isPublicVersionEditInProgress=function(){return this.m_isPublicVersionEditInProgress};e.PlanningModel.prototype.isVersionDescriptionUnique=function(n){let t=this.getVersions().getIterator();let i=e.XString.toLowerCase(n);while(t.hasNext()){let n=e.XString.toLowerCase(t.next().getVersionDescription());if(e.XString.isEqual(n,i)){return false}}return true};e.PlanningModel.prototype.isVersionPrivilegesInitialized=function(){return this.m_versionPrivilegesInitialized};e.PlanningModel.prototype.isWithIgnoreUndesiredSharedVersions=function(){return true};e.PlanningModel.prototype.isWithSharedVersions=function(){return this.m_withSharedVersions};e.PlanningModel.prototype.isWithUniqueVersionDescriptions=function(){return this.m_withUniqueVersionDescriptions};e.PlanningModel.prototype.isWorkStatusActive=function(){return false};e.PlanningModel.prototype.onCommandProcessed=function(e,n,t){let i=this.getPlanningService();i.addAllMessages(e);this.getPlanningService()._setInitialized(this)};e.PlanningModel.prototype.refreshVersions=function(){this.checkModelInitialized();let n=this.createRequestRefreshVersions();let t=n.processCommand(e.SyncType.BLOCKING,null,null);return e.ExtResult.create(t.getData(),t)};e.PlanningModel.prototype.releaseObject=function(){if(this.supportsPublicVersionEdit()&&this.isPublicVersionEditInProgress()){this.setPublicVersionEditInProgress(false)}this.m_privileges=e.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_privileges);this.m_privilegesMap=e.XObjectExt.release(this.m_privilegesMap);this.m_planningModelSchema=null;this.m_backendUserName=null;this.m_persistenceType=null;this.m_planningModelBehaviour=null;this.m_planningModelName=null;this.m_versionParametersMetadata=e.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_versionParametersMetadata);this.m_versionsList=e.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_versionsList);this.m_versionsMap=e.XObjectExt.release(this.m_versionsMap);this.m_dataSources=e.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_dataSources);this.m_actionMetadataList=e.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_actionMetadataList);this.m_actionMetadataMap=e.XObjectExt.release(this.m_actionMetadataMap);e.PlanningContext.prototype.releaseObject.call(this)};e.PlanningModel.prototype.resetAllVersionStates=function(){if(e.isNull(this.m_versionsList)){return}for(let e=0;e<this.m_versionsList.size();e++){let n=this.m_versionsList.get(e);n.resetVersionState()}};e.PlanningModel.prototype.resetPlanningModel=function(){if(this.supportsPublicVersionEdit()&&this.isPublicVersionEditInProgress()){this.setPublicVersionEditInProgress(false)}this.m_modelInitialized=false;this.getActionMetadataListInternal().clear();this.resetAllVersionStates();this.updateAllInvalidPrivileges()};e.PlanningModel.prototype.setBackendUserName=function(e){this.m_backendUserName=e};e.PlanningModel.prototype.setModelInitialized=function(){this.m_modelInitialized=true;this.invalidate()};e.PlanningModel.prototype.setPersistenceType=function(n){e.XObjectExt.assertNotNullExt(n,"persistence type must not be null");this.m_persistenceType=n};e.PlanningModel.prototype.setPlanningModelBehaviour=function(e){this.m_planningModelBehaviour=e};e.PlanningModel.prototype.setPlanningModelName=function(e){this.m_planningModelName=e};e.PlanningModel.prototype.setPlanningModelSchema=function(e){this.m_planningModelSchema=e};e.PlanningModel.prototype.setPublicVersionEditInProgress=function(n){let t=this.getQueryConsumerServices();if(e.notNull(t)){let e=t.getIterator();while(e.hasNext()){let t=e.next();t.setPublicVersionEditPossible(n)}}this.m_isPublicVersionEditInProgress=n};e.PlanningModel.prototype.setVersionPrivilegesInitialized=function(){this.m_versionPrivilegesInitialized=true};e.PlanningModel.prototype.setWithPublicVersionEdit=function(e){this.m_withPublicVersionEdit=e};e.PlanningModel.prototype.setWithSharedVersions=function(e){this.m_withSharedVersions=e};e.PlanningModel.prototype.setWithUniqueVersionDescriptions=function(e){this.m_withUniqueVersionDescriptions=e};e.PlanningModel.prototype.supportsChangedData=function(){return true};e.PlanningModel.prototype.supportsPlanningContextCommandType=function(n){if(e.isNull(n)){return false}if(n===e.PlanningContextCommandType.SAVE){return true}if(n===e.PlanningContextCommandType.BACKUP){return true}if(n===e.PlanningContextCommandType.REFRESH){return true}if(n===e.PlanningContextCommandType.RESET){return true}if(n===e.PlanningContextCommandType.CLOSE){return true}return n===e.PlanningContextCommandType.HARD_DELETE};e.PlanningModel.prototype.supportsPublicVersionEdit=function(){return this.m_withPublicVersionEdit};e.PlanningModel.prototype.supportsVersionParameters=function(){return this.getPlanningCapabilities().supportsVersionParameters()};e.PlanningModel.prototype.supportsVersionPrivileges=function(){return this.getPlanningCapabilities().supportsVersionPrivileges()};e.PlanningModel.prototype.supportsWorkStatus=function(){return false};e.PlanningModel.prototype.updateAllInvalidPrivileges=function(){if(e.isNull(this.m_versionsList)){return}for(let e=0;e<this.m_versionsList.size();e++){let n=this.m_versionsList.get(e);n.updateInvalidPrivileges()}};e.PlanningModel.prototype.updateVersionPrivileges=function(){this.checkModelInitialized();let n=this.createRequestUpdateVersionPrivileges();let t=n.processCommand(e.SyncType.BLOCKING,null,null);return e.ExtResult.create(t.getData(),t)};e.PlanningModel.prototype.updateVersionStateInternalIgnoreUndesired=function(n){let t=e.PrUtils.getIntegerProperty(n,"version_id");if(e.isNull(t)){return false}let i=e.PrUtils.getBooleanProperty(n,"active");if(e.isNull(i)){return false}let a=e.PlanningVersionState.lookup(n.getStringByKey("state"));if(e.isNull(a)){return false}let o=i.getBoolean();if(o!==a.isActive()){return false}let r=n.getIntegerByKeyExt("changes",0);let l=n.getIntegerByKeyExt("undo_changes",0);let s=false;let p=n.getStringByKey("owner");if(!e.XStringUtils.isNullOrEmpty(p)||e.XString.isEqual(p,this.m_backendUserName)){p=null}let g=e.PlanningPrivilege.lookup(n.getStringByKey("privilege"));if(e.XStringUtils.isNullOrEmpty(p)&&e.isNull(g)){g=e.PlanningPrivilege.OWNER}if(g===e.PlanningPrivilege.OWNER){p=null}else{s=true}if(s&&!this.m_withSharedVersions&&!e.XStringUtils.isNullOrEmpty(this.m_backendUserName)){return true}if(!s&&g!==e.PlanningPrivilege.OWNER){return false}if(s&&g===e.PlanningPrivilege.OWNER){return false}let u=t.getInteger();let c=n.getStringByKey("description");let P=this.getVersionIdentifier(u,s,p);let d=this.getVersionById(P,c);if(d.getVersionState()===null){return false}d.setVersionState(a);d.setTotalChangesSize(r);d.setUndoChangesSize(l);return true};e.PlanningContextCommand=function(){};e.PlanningContextCommand.prototype=new e.PlanningCommand;e.PlanningContextCommand.prototype._ff_c="PlanningContextCommand";e.PlanningContextCommand.PLANNING_CONTEXT="PLANNING_CONTEXT";e.PlanningContextCommand.PLANNING_CONTEXT_COMMAND_TYPE="PLANNING_CONTEXT_COMMAND_TYPE";e.PlanningContextCommand.prototype.getPlanningContext=function(){return this.getPropertyObject(e.PlanningContextCommand.PLANNING_CONTEXT)};e.PlanningContextCommand.prototype.getPlanningContextCommandType=function(){return this.getPropertyObject(e.PlanningContextCommand.PLANNING_CONTEXT_COMMAND_TYPE)};e.PlanningContextCommand.prototype.onSuccessfulCommand=function(){e.PlanningCommand.prototype.onSuccessfulCommand.call(this);if(this.isInvalidatingResultSet()){this.getPlanningContext().invalidate()}};e.PlanningContextCommand.prototype.setPlanningContext=function(n){this.setPropertyObject(e.PlanningContextCommand.PLANNING_CONTEXT,n)};e.PlanningContextCommand.prototype.setPlanningContextCommandType=function(n){this.setPropertyObject(e.PlanningContextCommand.PLANNING_CONTEXT_COMMAND_TYPE,n)};e.PlanningContextCommandResult=function(){};e.PlanningContextCommandResult.prototype=new e.PlanningCommandResult;e.PlanningContextCommandResult.prototype._ff_c="PlanningContextCommandResult";e.PlanningContextCommandResult.prototype.getPlanningContextCommand=function(){return this.getPlanningCommand()};e.PlanningContextCommandResult.prototype.initResponseStructureCommand=function(e,n){let t=this.getPlanningContextCommand();if(t.isInvalidatingResultSet()){t.getPlanningContext().invalidate()}};e.PlanningCommandWithId=function(){};e.PlanningCommandWithId.prototype=new e.PlanningCommand;e.PlanningCommandWithId.prototype._ff_c="PlanningCommandWithId";e.PlanningCommandWithId.COMMAND_IDENTIFIER="COMMAND_IDENTIFIER";e.PlanningCommandWithId.PLANNING_CONTEXT="PLANNING_CONTEXT";e.PlanningCommandWithId.SELECTOR="SELECTOR";e.PlanningCommandWithId.VARIABLES="VARIABLES";e.PlanningCommandWithId.VARIABLE_HELP_PROVIDER="VARIABLE_HELP_PROVIDER";e.PlanningCommandWithId.VARIABLE_PROCESSOR="VARIABLE_PROCESSOR";e.PlanningCommandWithId.VARIABLE_PROCESSOR_PROVIDER="VARIABLE_PROCESSOR_PROVIDER";e.PlanningCommandWithId.s_variableHelpProviderFactory=null;e.PlanningCommandWithId.prototype.addVariable=function(e){let n=this.getVariables();if(!n.containsKey(e.getName())){n.add(e)}};e.PlanningCommandWithId.prototype.clearExternalVariablesRepresentations=function(){this.queueEventing();e.QVariableUtils.clearExternalVariablesRepresentations(this.getListOfVariables());this.resumeEventing()};e.PlanningCommandWithId.prototype.clearVariables=function(){let e=this.getVariables();e.clear()};e.PlanningCommandWithId.prototype.fillVariableRequestorDataRequestContext=e.noSupport;e.PlanningCommandWithId.prototype.getCommandForExport=function(){return this.createCommandStructure()};e.PlanningCommandWithId.prototype.getCommandIdentifier=function(){return this.getPropertyObject(e.PlanningCommandWithId.COMMAND_IDENTIFIER)};e.PlanningCommandWithId.prototype.getDimensionAccessor=function(){let n=this.getSelector();if(e.isNull(n)){return null}return n.getSelectableDimensions()};e.PlanningCommandWithId.prototype.getDimensionMemberVariables=function(){return e.QVariableUtils.getDimensionMemberVariables(this.getListOfVariables())};e.PlanningCommandWithId.prototype.getFieldByName=function(n){let t=this.getDimensionAccessor();for(let i=0;i<t.size();i++){let a=t.get(i).getFieldByName(n);if(e.notNull(a)){return a}}return null};e.PlanningCommandWithId.prototype.getFieldByNameOrAlias=function(n){let t=this.getDimensionAccessor();for(let i=0;i<t.size();i++){let a=t.get(i).getFieldByNameOrAlias(n);if(e.notNull(a)){return a}}return null};e.PlanningCommandWithId.prototype.getHierarchyNameVariable=function(n){return e.QVariableUtils.getVariableByType(this.getListOfVariables(),n,e.VariableType.HIERARCHY_NAME_VARIABLE)};e.PlanningCommandWithId.prototype.getHierarchyNameVariables=function(){return e.QVariableUtils.getHierarchyNameVariables(this.getListOfVariables())};e.PlanningCommandWithId.prototype.getHierarchyNodeVariable=function(n){return e.QVariableUtils.getVariableByType(this.getListOfVariables(),n,e.VariableType.HIERARCHY_NODE_VARIABLE)};e.PlanningCommandWithId.prototype.getInputEnabledAndNonTechnicalVariables=function(){return e.QVariableUtils.getInputEnabledAndNonTechnicalVariables(this.getListOfVariables())};e.PlanningCommandWithId.prototype.getInputEnabledVariable=function(n){return e.QVariableUtils.getInputEnabledVariable(this.getListOfVariables(),n)};e.PlanningCommandWithId.prototype.getInputEnabledVariables=function(){return e.QVariableUtils.getInputEnabledVariables(this.getListOfVariables())};e.PlanningCommandWithId.prototype.getListOfVariables=function(){return this.getPropertyObject(e.PlanningCommandWithId.VARIABLES)};e.PlanningCommandWithId.prototype.getModelComponentBase=function(){return null};e.PlanningCommandWithId.prototype.getPlanningContext=function(){return this.getPropertyObject(e.PlanningCommandWithId.PLANNING_CONTEXT)};e.PlanningCommandWithId.prototype.getSelector=function(){return this.getPropertyObject(e.PlanningCommandWithId.SELECTOR)};e.PlanningCommandWithId.prototype.getSystemDescription=function(){return this.getPlanningService().getServiceConfig().getSystemDescription()};e.PlanningCommandWithId.prototype.getSystemName=function(){return this.getSystemDescription().getSystemName()};e.PlanningCommandWithId.prototype.getSystemType=function(){return this.getSystemDescription().getSystemType()};e.PlanningCommandWithId.prototype.getVariableBaseAt=function(e){let n=this.getVariables();return n.get(e)};e.PlanningCommandWithId.prototype.getVariableBaseByName=function(e){let n=this.getVariables();return n.getByKey(e)};e.PlanningCommandWithId.prototype.getVariableHelpProvider=function(){return this.getPropertyObject(e.PlanningCommandWithId.VARIABLE_HELP_PROVIDER)};e.PlanningCommandWithId.prototype.getVariableMode=function(){return null};e.PlanningCommandWithId.prototype.getVariableProcessor=function(){return this.getPropertyObject(e.PlanningCommandWithId.VARIABLE_PROCESSOR)};e.PlanningCommandWithId.prototype.getVariableProcessorProvider=function(){return this.getPropertyObject(e.PlanningCommandWithId.VARIABLE_PROCESSOR_PROVIDER)};e.PlanningCommandWithId.prototype.getVariables=function(){let n=this.getListOfVariables();if(e.isNull(n)){n=e.XListOfNameObject.create();this.setListOfVariables(n)}return n};e.PlanningCommandWithId.prototype.hasInputEnabledAndNonTechnicalVariables=function(){return e.XCollectionUtils.hasElements(this.getInputEnabledAndNonTechnicalVariables())};e.PlanningCommandWithId.prototype.hasInputEnabledVariables=function(){return e.QVariableUtils.hasInputEnabledVariables(this.getListOfVariables())};e.PlanningCommandWithId.prototype.hasMandatoryVariables=function(){return e.QVariableUtils.hasMandatoryVariables(this.getListOfVariables())};e.PlanningCommandWithId.prototype.hasVariables=function(){return e.XCollectionUtils.hasElements(this.getListOfVariables())};e.PlanningCommandWithId.prototype.onSuccessfulCommand=function(){e.PlanningCommand.prototype.onSuccessfulCommand.call(this);if(this.isInvalidatingResultSet()){this.getPlanningContext().invalidate()}};e.PlanningCommandWithId.prototype.releaseObject=function(){let n=this.getVariableProcessorProvider();if(e.notNull(n)){e.XObjectExt.release(n)}e.PlanningCommand.prototype.releaseObject.call(this)};e.PlanningCommandWithId.prototype.removeVariable=function(e){let n=this.getVariables();let t=n.getByKey(e);n.removeElement(t)};e.PlanningCommandWithId.prototype.setCommandIdentifier=function(n){this.setPropertyObject(e.PlanningCommandWithId.COMMAND_IDENTIFIER,n)};e.PlanningCommandWithId.prototype.setListOfVariables=function(n){this.setPropertyObject(e.PlanningCommandWithId.VARIABLES,n)};e.PlanningCommandWithId.prototype.setPlanningContext=function(n){this.setPropertyObject(e.PlanningCommandWithId.PLANNING_CONTEXT,n)};e.PlanningCommandWithId.prototype.setSelector=function(n){this.setPropertyObject(e.PlanningCommandWithId.SELECTOR,n)};e.PlanningCommandWithId.prototype.setVariableHelpProvider=function(n){this.setPropertyObject(e.PlanningCommandWithId.VARIABLE_HELP_PROVIDER,n)};e.PlanningCommandWithId.prototype.setVariableProcessorBase=function(n){this.setPropertyObject(e.PlanningCommandWithId.VARIABLE_PROCESSOR,n)};e.PlanningCommandWithId.prototype.setVariableProcessorProvider=function(n){this.setPropertyObject(e.PlanningCommandWithId.VARIABLE_PROCESSOR_PROVIDER,n)};e.PlanningCommandWithIdResult=function(){};e.PlanningCommandWithIdResult.prototype=new e.PlanningCommandResult;e.PlanningCommandWithIdResult.prototype._ff_c="PlanningCommandWithIdResult";e.PlanningCommandWithIdResult.prototype.getPlanningCommandWithId=function(){return this.getPlanningCommand()};e.PlanningCommandWithIdResult.prototype.initResponseStructureCommand=function(e,n){let t=this.getPlanningCommandWithId();if(t.isInvalidatingResultSet()){t.getPlanningContext().invalidate()}};e.PlanningRequest=function(){};e.PlanningRequest.prototype=new e.PlanningCommand;e.PlanningRequest.prototype._ff_c="PlanningRequest";e.PlanningRequest.PLANNING_CONTEXT="PLANNING_CONTEXT";e.PlanningRequest.prototype.getPlanningContext=function(){return this.getPropertyObject(e.PlanningRequest.PLANNING_CONTEXT)};e.PlanningRequest.prototype.setPlanningContext=function(n){this.setPropertyObject(e.PlanningRequest.PLANNING_CONTEXT,n)};e.PlanningResponse=function(){};e.PlanningResponse.prototype=new e.PlanningCommandResult;e.PlanningResponse.prototype._ff_c="PlanningResponse";e.PlanningResponse.prototype.getPlanningRequest=function(){return this.getPlanningCommand()};e.PlanningOperationIdentifier=function(){};e.PlanningOperationIdentifier.prototype=new e.PlanningCommandIdentifier;e.PlanningOperationIdentifier.prototype._ff_c="PlanningOperationIdentifier";e.PlanningOperationIdentifier.PLANNING_OPERATION_TYPE="PLANNING_OPERATION_TYPE";e.PlanningOperationIdentifier.prototype.getDataSource=function(){let n=this.getPlanningOperationType();if(n===e.PlanningOperationType.PLANNING_FUNCTION){return e.QFactory.createDataSourceWithType(e.MetaObjectType.PLANNING_FUNCTION,this.getPlanningOperationName())}else if(n===e.PlanningOperationType.PLANNING_SEQUENCE){return e.QFactory.createDataSourceWithType(e.MetaObjectType.PLANNING_SEQUENCE,this.getPlanningOperationName())}else{return null}};e.PlanningOperationIdentifier.prototype.getPlanningOperationName=function(){return this.getCommandId()};e.PlanningOperationIdentifier.prototype.getPlanningOperationType=function(){return this.getPropertyObject(e.PlanningOperationIdentifier.PLANNING_OPERATION_TYPE)};e.PlanningOperationIdentifier.prototype.setPlanningOperationType=function(n){this.setPropertyObject(e.PlanningOperationIdentifier.PLANNING_OPERATION_TYPE,n)};e.PlanningActionIdentifierBase=function(){};e.PlanningActionIdentifierBase.prototype=new e.PlanningCommandIdentifier;e.PlanningActionIdentifierBase.prototype._ff_c="PlanningActionIdentifierBase";e.PlanningActionIdentifierBase.ACTION_METADATA="ACTION_METADATA";e.PlanningActionIdentifierBase.prototype.getActionDescription=function(){return this.getActionMetadata().getActionDescription()};e.PlanningActionIdentifierBase.prototype.getActionId=function(){return this.getActionMetadata().getActionId()};e.PlanningActionIdentifierBase.prototype.getActionMetadata=function(){return this.getPropertyObject(e.PlanningActionIdentifierBase.ACTION_METADATA)};e.PlanningActionIdentifierBase.prototype.getActionName=function(){return this.getActionMetadata().getActionName()};e.PlanningActionIdentifierBase.prototype.getActionParameterMetadata=function(){return this.getActionMetadata().getActionParameterMetadata()};e.PlanningActionIdentifierBase.prototype.getActionParameterNames=function(){return this.getActionMetadata().getActionParameterNames()};e.PlanningActionIdentifierBase.prototype.getActionType=function(){return this.getActionMetadata().getActionType()};e.PlanningActionIdentifierBase.prototype.isDefault=function(){return this.getActionMetadata().isDefault()};e.PlanningActionIdentifierBase.prototype.setActionMetadata=function(n){this.setPropertyObject(e.PlanningActionIdentifierBase.ACTION_METADATA,n)};e.PlanningActionIdentifierBase.prototype.setActionParameterMetadata=function(e){this.getActionMetadata().setActionParameterMetadata(e)};e.PlanningActionIdentifierBase.prototype.setActionParameterNames=function(e){this.getActionMetadata().setActionParameterNames(e)};e.DataAreaCommand=function(){};e.DataAreaCommand.prototype=new e.PlanningContextCommand;e.DataAreaCommand.prototype._ff_c="DataAreaCommand";e.DataAreaCommand.prototype.createCommandResultInstanceInternal=function(){return new e.DataAreaCommandResult};e.DataAreaCommand.prototype.getDataArea=function(){return this.getPlanningContext()};e.DataAreaCommand.prototype.getOlapComponentType=function(){return e.OlapComponentType.DATA_AREA_COMMAND};e.DataAreaCommandResult=function(){};e.DataAreaCommandResult.prototype=new e.PlanningContextCommandResult;e.DataAreaCommandResult.prototype._ff_c="DataAreaCommandResult";e.DataAreaCommandResult.EXECUTED="EXECUTED";e.DataAreaCommandResult.prototype.getDataAreaCommand=function(){return this.getPlanningCommand()};e.DataAreaCommandResult.prototype.isExecuted=function(){return this.getPropertyBoolean(e.DataAreaCommandResult.EXECUTED)};e.DataAreaCommandResult.prototype.setExecuted=function(n){this.setPropertyBoolean(e.DataAreaCommandResult.EXECUTED,n)};e.PlanningFunctionIdentifier=function(){};e.PlanningFunctionIdentifier.prototype=new e.PlanningOperationIdentifier;e.PlanningFunctionIdentifier.prototype._ff_c="PlanningFunctionIdentifier";e.PlanningFunctionIdentifier.prototype.getPlanningFunctionName=function(){return this.getPlanningOperationName()};e.PlanningOperation=function(){};e.PlanningOperation.prototype=new e.PlanningCommandWithId;e.PlanningOperation.prototype._ff_c="PlanningOperation";e.PlanningOperation.DIMENSIONS="DIMENSIONS";e.PlanningOperation.PLANNING_OPERATION_METADATA="PLANNING_OPERATION_METADATA";e.PlanningOperation.prototype.m_planningCommandModelComponent=null;e.PlanningOperation.prototype.createCommandStructure=function(){let n=e.PrFactory.createStructure();this.fillRequest(n,false);return n};e.PlanningOperation.prototype.fillRequest=function(n,t){let i=e.DataAreaState.getDataAreaState(this.getDataArea());if(!i.isSubmitted()){let t=i.serializeToJson();if(e.notNull(t)){n.putNewList("DataAreas").add(t)}}let a=this.getDataArea();let o=n.putNewStructure("Planning");this.getPlanningService().getInaCapabilities().exportActiveCapabilities(o);let r=o.putNewStructure("Command");let l=r.putNewStructure("DataSource");let s=a.getDataArea();if(e.isNull(s)){s="DEFAULT"}l.putString("DataArea",s);let p=this.getPlanningOperationMetadata();let g=p.getPlanningOperationIdentifier();l.putString("ObjectName",g.getPlanningOperationName());l.putString("Type",this.getPlanningType());l.putString("InstanceId",p.getInstanceId());let u=this.getSelectionJson();if(e.notNull(u)){r.put("Filter",u)}if(t){let e=this.getVariableProcessorProvider();e.exportVariables(this,r)}};e.PlanningOperation.prototype.fillVariableRequestorDataRequestContext=function(n,t,i){this.fillRequest(n,t);let a=n.getStructureByKey("Planning");if(e.notNull(i)){let e=a.putNewStructure("ProcessingDirectives");e.putString("ProcessingStep",i)}return a.getStructureByKey("Command")};e.PlanningOperation.prototype.getContext=function(){return this};e.PlanningOperation.prototype.getDataArea=function(){return this.getPlanningContext()};e.PlanningOperation.prototype.getDataSource=function(){let n=this.getPlanningOperationMetadata().getPlanningOperationIdentifier();let t=e.QFactory.createDataSource();t.setObjectName(n.getPlanningOperationName());t.setSystemName(this.getPlanningService().getConnection().getSystemDescription().getSystemName());if(n.getPlanningOperationType()===e.PlanningOperationType.PLANNING_SEQUENCE){t.setType(e.MetaObjectType.PLANNING_SEQUENCE)}else if(n.getPlanningOperationType()===e.PlanningOperationType.PLANNING_FUNCTION){t.setType(e.MetaObjectType.PLANNING_FUNCTION)}return t};e.PlanningOperation.prototype.getDimensionAccessor=function(){return this.getPropertyObject(e.PlanningOperation.DIMENSIONS)};e.PlanningOperation.prototype.getFieldAccessorSingle=function(){return this};e.PlanningOperation.prototype.getPlanningCommandModelComponent=function(){if(e.isNull(this.m_planningCommandModelComponent)){this.m_planningCommandModelComponent=e.PlanningCommandModelComponent.create(this.getContext(),this)}return this.m_planningCommandModelComponent};e.PlanningOperation.prototype.getPlanningOperationIdentifier=function(){return this.getCommandIdentifier()};e.PlanningOperation.prototype.getPlanningOperationMetadata=function(){return this.getPropertyObject(e.PlanningOperation.PLANNING_OPERATION_METADATA)};e.PlanningOperation.prototype.getPlanningType=e.noSupport;e.PlanningOperation.prototype.getSelectionJson=function(){return null};e.PlanningOperation.prototype.getVariable=function(e){return this.getVariableBaseByName(e)};e.PlanningOperation.prototype.getVariableContainer=function(){return this};e.PlanningOperation.prototype.getVariableContainerBase=function(){return this};e.PlanningOperation.prototype.initializePlanningOperation=function(){let e=this.getPlanningOperationMetadata();this.initializeSelector(e.getDimensions());this.initializeVariables(e.getVariables())};e.PlanningOperation.prototype.initializeSelector=function(n){if(e.isNull(n)){return}let t=e.QDimensionList.createDimensionList(this,null,null);this.setPropertyObject(e.PlanningOperation.DIMENSIONS,t);let i=this.getOlapEnv().getSystemContainer(this.getSystemName()).getServiceCapabilitiesExt(e.ProviderType.PLANNING_VALUE_HELP);let a=e.QInAImportFactory.createForMetadata(this.getApplication(),i);for(let i=0;i<n.size();i++){let o=e.PrUtils.getStructureElement(n,i);let r=a.importDimension(o,this);t.add(r)}let o=this.getPlanningCommandModelComponent();let r=e.QFilter.createWithModelComponent(this,o);this.setSelector(r)};e.PlanningOperation.prototype.initializeVariables=function(n){this.clearVariables();this.setVariableProcessorProvider(null);this.setVariableHelpProvider(null);if(!e.PrUtils.isListEmpty(n)){let t=e.PlanningCommandWithId.s_variableHelpProviderFactory.createVariableHelpProvider(this);let i=e.PlanningCommandWithId.s_variableHelpProviderFactory.createProcessorProvider(this.getDataSource(),this,this);i.importVariables(n,this);this.setVariableHelpProvider(t);this.setVariableProcessorProvider(i)}};e.PlanningOperation.prototype.setPlanningOperationMetadata=function(n){this.setPropertyObject(e.PlanningOperation.PLANNING_OPERATION_METADATA,n)};e.PlanningOperation.prototype.setWinControlInAutoSubmitByType=function(e,n,t){return};e.PlanningOperationResult=function(){};e.PlanningOperationResult.prototype=new e.PlanningCommandWithIdResult;e.PlanningOperationResult.prototype._ff_c="PlanningOperationResult";e.PlanningOperationResult.prototype.getPlanningOperation=function(){return this.getPlanningCommand()};e.PlanningSequenceIdentifier=function(){};e.PlanningSequenceIdentifier.prototype=new e.PlanningOperationIdentifier;e.PlanningSequenceIdentifier.prototype._ff_c="PlanningSequenceIdentifier";e.PlanningSequenceIdentifier.prototype.getPlanningSequenceName=function(){return this.getPlanningOperationName()};e.DataAreaRequest=function(){};e.DataAreaRequest.prototype=new e.PlanningRequest;e.DataAreaRequest.prototype._ff_c="DataAreaRequest";e.DataAreaRequest.REQUEST_TYPE="REQUEST_TYPE";e.DataAreaRequest.prototype.getDataArea=function(){return this.getPlanningContext()};e.DataAreaRequest.prototype.getRequestType=function(){return this.getPropertyObject(e.DataAreaRequest.REQUEST_TYPE)};e.DataAreaRequest.prototype.setRequestType=function(n){this.setPropertyObject(e.DataAreaRequest.REQUEST_TYPE,n)};e.DataAreaResponse=function(){};e.DataAreaResponse.prototype=new e.PlanningResponse;e.DataAreaResponse.prototype._ff_c="DataAreaResponse";e.DataAreaResponse.prototype.getDataAreaRequest=function(){return this.getPlanningRequest()};e.DataAreaResponse.prototype.processResponseStructureCommand=function(n,t,i){if(i){return}if(!this.processResponseStructureInternal(n,t)){t.addErrorExt(e.OriginLayer.DRIVER,e.ErrorCodes.PARSER_ERROR,"error in processing response structure",n)}};e.DataAreaResponse.prototype.processResponseStructureInternal=e.noSupport;e.PlanningModelCommand=function(){};e.PlanningModelCommand.prototype=new e.PlanningContextCommand;e.PlanningModelCommand.prototype._ff_c="PlanningModelCommand";e.PlanningModelCommand.prototype.createCommandResultInstanceInternal=function(){return new e.PlanningModelCommandResult};e.PlanningModelCommand.prototype.getOlapComponentType=function(){return e.OlapComponentType.PLANNING_MODEL_COMMAND};e.PlanningModelCommand.prototype.getPlanningModel=function(){return this.getPlanningContext()};e.PlanningModelCommandResult=function(){};e.PlanningModelCommandResult.prototype=new e.PlanningContextCommandResult;e.PlanningModelCommandResult.prototype._ff_c="PlanningModelCommandResult";e.PlanningModelCommandResult.RETURN_CODE="RETURN_CODE";e.PlanningModelCommandResult.prototype.getPlanningModelCommand=function(){return this.getPlanningCommand()};e.PlanningModelCommandResult.prototype.getReturnCode=function(){return this.getPropertyInteger(e.PlanningModelCommandResult.RETURN_CODE)};e.PlanningModelCommandResult.prototype.setReturnCode=function(n){this.setPropertyInteger(e.PlanningModelCommandResult.RETURN_CODE,n)};e.PlanningAction=function(){};e.PlanningAction.prototype=new e.PlanningCommandWithId;e.PlanningAction.prototype._ff_c="PlanningAction";e.PlanningAction.ACTION_GROUP="ACTION_GROUP";e.PlanningAction.ACTION_PARAMETERS="ACTION_PARAMETERS";e.PlanningAction.DESCRIPTION="DESCRIPTION";e.PlanningAction.PARAMETER_METADATA="PARAMETER_METADATA";e.PlanningAction.SEQUENCE_ID="SEQUENCE_ID";e.PlanningAction.TARGET_CELL_COLUMN="TARGET_CELL_COLUMN";e.PlanningAction.TARGET_CELL_ROW="TARGET_CELL_ROW";e.PlanningAction.TARGET_CELL_RS="TARGET_CELL_RS";e.PlanningAction.TARGET_VERSION_ID="TARGET_VERSION_ID";e.PlanningAction.prototype.createCommandResultInstanceInternal=function(){return new e.PlanningActionResult};e.PlanningAction.prototype.getActionForQueryIdentifier=function(){return this.getCommandIdentifier()};e.PlanningAction.prototype.getActionGroup=function(){return this.getPropertyString(e.PlanningAction.ACTION_GROUP)};e.PlanningAction.prototype.getActionIdentifier=function(){return this.getCommandIdentifier()};e.PlanningAction.prototype.getActionParameterMetadata=function(){return this.getPropertyObject(e.PlanningAction.PARAMETER_METADATA)};e.PlanningAction.prototype.getActionParameters=function(){return this.getPropertyObject(e.PlanningAction.ACTION_PARAMETERS)};e.PlanningAction.prototype.getDescription=function(){return this.getPropertyString(e.PlanningAction.DESCRIPTION)};e.PlanningAction.prototype.getOlapComponentType=function(){return e.OlapComponentType.PLANNING_ACTION};e.PlanningAction.prototype.getPlanningModel=function(){return this.getPlanningContext()};e.PlanningAction.prototype.getSequenceId=function(){return this.getPropertyString(e.PlanningAction.SEQUENCE_ID)};e.PlanningAction.prototype.getSequenceIdEffective=function(){let n=this.getPropertyString(e.PlanningAction.SEQUENCE_ID);if(e.XStringUtils.isNullOrEmpty(n)){n=this.getVersion().getActionSequenceId()}return n};e.PlanningAction.prototype.getTargetColumn=function(){return this.getPropertyInteger(e.PlanningAction.TARGET_CELL_COLUMN)};e.PlanningAction.prototype.getTargetRow=function(){return this.getPropertyInteger(e.PlanningAction.TARGET_CELL_ROW)};e.PlanningAction.prototype.getTargetVersionId=function(){return this.getPropertyString(e.PlanningAction.TARGET_VERSION_ID)};e.PlanningAction.prototype.getVariable=function(e){return this.getVariableBaseByName(e)};e.PlanningAction.prototype.getVariableContainer=function(){return this};e.PlanningAction.prototype.getVariableContainerBase=function(){return this};e.PlanningAction.prototype.getVersion=function(){let e=this.getPlanningModel();return e.getVersionByIdInternal(this.getActionIdentifier())};e.PlanningAction.prototype.hasTargetCell=function(){return this.getProperties().getByKey(e.PlanningAction.TARGET_CELL_COLUMN)!==null&&this.getProperties().getByKey(e.PlanningAction.TARGET_CELL_ROW)!==null};e.PlanningAction.prototype.initializeVariables=function(n){let t=e.PrFactory.createList();for(let i=0;i<n.size();i++){let a=e.PrUtils.getStructureElement(n,i);if(e.isNull(a)){continue}let o=a.getStringByKeyExt("optionOccurrence",null);if(e.notNull(o)){let n=t.addNewStructure();n.putString("Name",a.getStringByKey("name"));n.putString("Description",a.getStringByKey("description"));n.putString("VariableType","OptionListVariable");n.putString("Type","String");n.putString("InputType","Optional");n.putNewList("DependentOfVariable");if(e.XString.isEqual(o,"exactly-one")){n.putBoolean("MultipleValues",false)}else{n.putBoolean("MultipleValues",true)}n.putBoolean("InputEnabled",true);let i=a.getListByKey("options");let r=n.putNewList("Options");if(!e.PrUtils.isListEmpty(i)){for(let n=0;n<i.size();n++){let t=i.getStructureAt(n);let a=t.getIntegerByKeyExt("id",-1);if(a!==-1){let n=t.getStringByKey("description");let i=r.addNewStructure();i.putString("Name",e.XInteger.convertToString(a));i.putString("Description",n)}}let t=a.getListByKey("defaultOptions");let o=n.putNewList("OptionValues");if(e.notNull(t)){for(let n=0;n<t.size();n++){let i=t.getIntegerAt(n);o.addString(e.XInteger.convertToString(i))}}}}else{t.add(a.clone())}}this.clearVariables();this.setVariableProcessorProvider(null);this.setVariableHelpProvider(null);if(!e.PrUtils.isListEmpty(t)){let n=e.PlanningCommandWithId.s_variableHelpProviderFactory.createVariableHelpProvider(this);let i=e.PlanningCommandWithId.s_variableHelpProviderFactory.createProcessorProvider(this.getDataSource(),this,this);i.setIsVariableSubmitNeeded(false);i.importVariables(t,this);this.setVariableHelpProvider(n);this.setVariableProcessorProvider(i)}};e.PlanningAction.prototype.setActionGroup=function(n){this.setPropertyString(e.PlanningAction.ACTION_GROUP,n)};e.PlanningAction.prototype.setActionParameterMetadata=function(n){this.setPropertyObject(e.PlanningAction.PARAMETER_METADATA,n);if(e.notNull(n)&&!e.PrUtils.isListEmpty(n.getParameters())){this.initializeVariables(n.getParameters())}};e.PlanningAction.prototype.setActionParameters=function(n){this.setPropertyObject(e.PlanningAction.ACTION_PARAMETERS,n);this.tryPublicVersionEdit(n)};e.PlanningAction.prototype.setDescription=function(n){this.setPropertyString(e.PlanningAction.DESCRIPTION,n);return this};e.PlanningAction.prototype.setSequenceId=function(n){this.setPropertyString(e.PlanningAction.SEQUENCE_ID,n);return this};e.PlanningAction.prototype.setTargetCell=function(n){if(e.isNull(n)){this.getProperties().remove(e.PlanningAction.TARGET_CELL_ROW);this.getProperties().remove(e.PlanningAction.TARGET_CELL_RS)}else{this.setPropertyInteger(e.PlanningAction.TARGET_CELL_COLUMN,n.getColumn());this.setPropertyInteger(e.PlanningAction.TARGET_CELL_ROW,n.getRow())}return this};e.PlanningAction.prototype.setTargetColumn=function(n){this.setPropertyInteger(e.PlanningAction.TARGET_CELL_COLUMN,n);return this};e.PlanningAction.prototype.setTargetRow=function(n){this.setPropertyInteger(e.PlanningAction.TARGET_CELL_ROW,n);return this};e.PlanningAction.prototype.setTargetVersionId=function(n){this.setPropertyString(e.PlanningAction.TARGET_VERSION_ID,n);return this};e.PlanningAction.prototype.setWinControlInAutoSubmitByType=function(e,n,t){return};e.PlanningAction.prototype.tryPublicVersionEdit=function(n){if(this.getSystemType()!==e.SystemType.HANA){return}let t=this.getPlanningModel();if(e.isNull(t)||!t.supportsPublicVersionEdit()){return}let i=t.getActionMetadata(this.getActionIdentifier().getActionId());if(e.isNull(i)){return}let a=i.getActionType();if(e.isNull(a)){return}if(!a.isTypeOf(e.PlanningActionType.VERSION_ACTION)){return}let o=this.getActionIdentifier().getActionId();if(!e.XString.isEqual(o,"populate_single_version")){return}let r=this.getVersion();if(e.isNull(r)||!r.isShowingAsPublicVersion()){return}if(e.XStringUtils.isNullOrEmpty(r.getSourceVersionName())){return}if(e.isNull(n)){return}let l=n.getStructureByKey("epmPopulate.fromVersion");if(e.isNull(l)){return}let s=l.getStringByKey("value");if(e.XStringUtils.isNullOrEmpty(s)){return}t.setPublicVersionEditInProgress(true);let p=e.XString.endsWith(s,r.getSourceVersionName());this.setInvalidatingResultSet(!p)};e.PlanningActionForQueryIdentifier=function(){};e.PlanningActionForQueryIdentifier.prototype=new e.PlanningActionIdentifierBase;e.PlanningActionForQueryIdentifier.prototype._ff_c="PlanningActionForQueryIdentifier";e.PlanningActionForQueryIdentifier.prototype.cloneOlapComponent=function(n,t){let i=new e.PlanningActionForQueryIdentifier;i.setProperties(this.getPropertiesCopy());return i};e.PlanningActionForQueryIdentifier.prototype.toString=function(){let n=e.XStringBuffer.create();n.appendLine("Planning action for query identifier");n.append(this.getActionMetadata().toString());return n.toString()};e.PlanningActionIdentifier=function(){};e.PlanningActionIdentifier.prototype=new e.PlanningActionIdentifierBase;e.PlanningActionIdentifier.prototype._ff_c="PlanningActionIdentifier";e.PlanningActionIdentifier.VERSION_IDENTIFIER="VERSION_IDENDTIFIER";e.PlanningActionIdentifier.prototype.cloneOlapComponent=function(n,t){let i=new e.PlanningActionIdentifier;i.setProperties(this.getPropertiesCopy());return i};e.PlanningActionIdentifier.prototype.getVersionId=function(){return this.getVersionIdentifier().getVersionId()};e.PlanningActionIdentifier.prototype.getVersionIdentifier=function(){return this.getPropertyObject(e.PlanningActionIdentifier.VERSION_IDENTIFIER)};e.PlanningActionIdentifier.prototype.getVersionOwner=function(){return this.getVersionIdentifier().getVersionOwner()};e.PlanningActionIdentifier.prototype.getVersionUniqueName=function(){return this.getVersionIdentifier().getVersionUniqueName()};e.PlanningActionIdentifier.prototype.isSharedVersion=function(){return this.getVersionIdentifier().isSharedVersion()};e.PlanningActionIdentifier.prototype.setVersionIdentifier=function(n){this.setPropertyObject(e.PlanningActionIdentifier.VERSION_IDENTIFIER,n)};e.PlanningActionIdentifier.prototype.toString=function(){let n=e.XStringBuffer.create();n.append('Planning action identifier for version "');n.append(this.getVersionIdentifier().getVersionUniqueName());n.appendLine('"');n.append(this.getActionMetadata().toString());return n.toString()};e.PlanningActionResult=function(){};e.PlanningActionResult.prototype=new e.PlanningCommandWithIdResult;e.PlanningActionResult.prototype._ff_c="PlanningActionResult";e.PlanningActionResult.RETURN_CODE="RETURN_CODE";e.PlanningActionResult.prototype.checkErrorState=function(){let e=this.getReturnCode();if(e===3042){let e=this.getPlanningAction().getPlanningModel();e.resetPlanningModel()}};e.PlanningActionResult.prototype.getPlanningAction=function(){return this.getPlanningCommand()};e.PlanningActionResult.prototype.getReturnCode=function(){return this.getPropertyInteger(e.PlanningActionResult.RETURN_CODE)};e.PlanningActionResult.prototype.setReturnCode=function(n){this.setPropertyInteger(e.PlanningActionResult.RETURN_CODE,n)};e.PlanningModelRequest=function(){};e.PlanningModelRequest.prototype=new e.PlanningRequest;e.PlanningModelRequest.prototype._ff_c="PlanningModelRequest";e.PlanningModelRequest.REQUEST_TYPE="REQUEST_TYPE";e.PlanningModelRequest.prototype.createCommandResultInstanceInternal=function(){return new e.PlanningModelResponse};e.PlanningModelRequest.prototype.getPlanningModel=function(){return this.getPlanningContext()};e.PlanningModelRequest.prototype.getRequestType=function(){return this.getPropertyObject(e.PlanningModelRequest.REQUEST_TYPE)};e.PlanningModelRequest.prototype.setRequestType=function(n){this.setPropertyObject(e.PlanningModelRequest.REQUEST_TYPE,n)};e.PlanningModelResponse=function(){};e.PlanningModelResponse.prototype=new e.PlanningResponse;e.PlanningModelResponse.prototype._ff_c="PlanningModelResponse";e.PlanningModelResponse.RETURN_CODE="RETURN_CODE";e.PlanningModelResponse.prototype.getPlanningModelRequest=function(){return this.getPlanningCommand()};e.PlanningModelResponse.prototype.getReturnCode=function(){return this.getPropertyInteger(e.PlanningModelResponse.RETURN_CODE)};e.PlanningModelResponse.prototype.processResponseStructureCommand=function(n,t,i){let a=e.PlanningModelCommandHelper.getResponsesReturnCodeStrict(n,t);this.setReturnCode(a);if(a!==0){return}if(i){return}if(!this.processResponseStructureInternal(n,t)){t.addErrorExt(e.OriginLayer.DRIVER,e.ErrorCodes.PARSER_ERROR,"error in processing response structure",n)}};e.PlanningModelResponse.prototype.processResponseStructureInternal=e.noSupport;e.PlanningModelResponse.prototype.setReturnCode=function(n){this.setPropertyInteger(e.PlanningModelResponse.RETURN_CODE,n)};e.DataAreaCommandClose=function(){};e.DataAreaCommandClose.prototype=new e.DataAreaCommand;e.DataAreaCommandClose.prototype._ff_c="DataAreaCommandClose";e.DataAreaCommandClose.prototype.getOlapComponentType=function(){return e.OlapComponentType.DATA_AREA_COMMAND_CLOSE};e.PlanningFunction=function(){};e.PlanningFunction.prototype=new e.PlanningOperation;e.PlanningFunction.prototype._ff_c="PlanningFunction";e.PlanningFunction.prototype.createCommandResultInstanceInternal=function(){return new e.PlanningFunctionResult};e.PlanningFunction.prototype.getPlanningFunctionIdentifier=function(){return this.getPlanningOperationIdentifier()};e.PlanningFunction.prototype.getPlanningFunctionMetadata=function(){return this.getPlanningOperationMetadata()};e.PlanningFunction.prototype.getPlanningType=function(){return"PlanningFunction"};e.PlanningFunction.prototype.getSelectionJson=function(){let n=this.getSelector();if(e.notNull(n)){let t=n.getDynamicFilter();if(e.notNull(t)){return t.serializeToElement(e.QModelFormat.INA_DATA)}}return null};e.PlanningFunctionResult=function(){};e.PlanningFunctionResult.prototype=new e.PlanningOperationResult;e.PlanningFunctionResult.prototype._ff_c="PlanningFunctionResult";e.PlanningFunctionResult.prototype.getPlanningFunction=function(){return this.getPlanningOperation()};e.PlanningSequence=function(){};e.PlanningSequence.prototype=new e.PlanningOperation;e.PlanningSequence.prototype._ff_c="PlanningSequence";e.PlanningSequence.QUERY_MANAGER="QUERY_MANAGER";e.PlanningSequence.prototype.createCommandResultInstanceInternal=function(){return new e.PlanningSequenceResult};e.PlanningSequence.prototype.getPlanningSequenceIdentifier=function(){return this.getCommandIdentifier()};e.PlanningSequence.prototype.getPlanningSequenceMetadata=function(){return this.getPlanningOperationMetadata()};e.PlanningSequence.prototype.getPlanningType=function(){return"PlanningSequence"};e.PlanningSequence.prototype.getQueryManagerForDimension=function(n){let t=this.getDataSource().getSystemName();let i=this.getPropertyObject(e.XStringUtils.concatenate2(e.PlanningSequence.QUERY_MANAGER,n.getName()));let a;if(e.isNull(i)){let o=e.QFactory.createDataSourceWithType(e.MetaObjectType.DIMENSION,n.getName());let r=e.QueryServiceConfig.createWithDataSource(n.getApplication(),t,o);let l=r.processQueryManagerCreation(e.SyncType.BLOCKING,null,null);e.MessageUtil.checkNoError(l);i=l.getData();a=i.getQueryModel().getDimensionByName(n.getName());a.getFieldContainer().copyFrom(n.getFieldContainer(),null);this.setPropertyObject(e.XStringUtils.concatenate2(e.PlanningSequence.QUERY_MANAGER,n.getName()),i)}else{a=i.getQueryModel().getDimensionByName(n.getName())}let o=n.getSelectorFields();let r=a.getSelectorFields();for(let e=0;e<o.size();e++){r.add(a.getFieldByName(o.get(e).getName()))}let l=a.getFieldByPresentationType(e.PresentationType.DISPLAY_KEY);if(e.notNull(l)){a.getSelectorFields().add(l)}let s=a.getFieldByPresentationType(e.PresentationType.TEXT);if(e.notNull(s)){a.getSelectorFields().add(s)}let p=this.getSelector().getValuehelpFilter();let g=i.getQueryModel().getFilter().getValuehelpFilter();g.copyFrom(p,null);let u=n.getSelectorHierarchyNode();if(e.notNull(u)){a.setSelectorHierarchyNode(u)}return i};e.PlanningSequence.prototype.submitVariables=function(e,n,t){return this.getVariableProcessor().submitVariables(e,n,t)};e.PlanningSequenceResult=function(){};e.PlanningSequenceResult.prototype=new e.PlanningOperationResult;e.PlanningSequenceResult.prototype._ff_c="PlanningSequenceResult";e.PlanningSequenceResult.prototype.getPlanningSequence=function(){return this.getPlanningCommand()};e.DataAreaRequestCreatePlanningOperation=function(){};e.DataAreaRequestCreatePlanningOperation.prototype=new e.DataAreaRequest;e.DataAreaRequestCreatePlanningOperation.prototype._ff_c="DataAreaRequestCreatePlanningOperation";e.DataAreaRequestCreatePlanningOperation.COMMAND_IDENTIFIER="COMMAND_IDENTIFIER";e.DataAreaRequestCreatePlanningOperation.prototype.doProcessCommand=function(n,t){let i=e.XCommandFactory.create(this.getApplication());let a=i.createCommand(e.XCmdCreatePlanningOperation.CMD_NAME);a.addParameter(e.XCmdCreatePlanningOperation.PARAM_I_DATA_AREA,this.getDataArea());a.addParameter(e.XCmdCreatePlanningOperation.PARAM_I_PLANNING_OPERATION_IDENTIFIER,this.getPlanningOperationIdentifier());a.processCommand(n,e.XCommandCallback.create(this),t)};e.DataAreaRequestCreatePlanningOperation.prototype.getCommandIdentifier=function(){return this.getPropertyObject(e.DataAreaRequestCreatePlanningOperation.COMMAND_IDENTIFIER)};e.DataAreaRequestCreatePlanningOperation.prototype.getPlanningOperationIdentifier=function(){return this.getCommandIdentifier()};e.DataAreaRequestCreatePlanningOperation.prototype.onXCommandCallbackProcessed=function(n,t,i){let a=e.ExtResult.create(i,n);if(n.isValid()){let n=i;n.setCreatedPlanningOperation(t.getResultParameter(e.XCmdCreatePlanningOperation.PARAM_E_PLANNING_OPERATION))}this.onCommandExecuted(a)};e.DataAreaRequestCreatePlanningOperation.prototype.setCommandIdentifier=function(n){this.setPropertyObject(e.DataAreaRequestCreatePlanningOperation.COMMAND_IDENTIFIER,n)};e.DataAreaRequestGetPlanningOperationMetadata=function(){};e.DataAreaRequestGetPlanningOperationMetadata.prototype=new e.DataAreaRequest;e.DataAreaRequestGetPlanningOperationMetadata.prototype._ff_c="DataAreaRequestGetPlanningOperationMetadata";e.DataAreaRequestGetPlanningOperationMetadata.INSTANCE_ID="INSTANCE_ID";e.DataAreaRequestGetPlanningOperationMetadata.PLANNING_OPERATION_IDENTIFIER="PLANNING_OPERATION_IDENTIFIER";e.DataAreaRequestGetPlanningOperationMetadata.prototype.getInstanceId=function(){let n=this.getPropertyString(e.DataAreaRequestGetPlanningOperationMetadata.INSTANCE_ID);if(e.isNull(n)){n=this.getPlanningService().getApplication().createNextInstanceId();this.setPropertyString(e.DataAreaRequestGetPlanningOperationMetadata.INSTANCE_ID,n)}return n};e.DataAreaRequestGetPlanningOperationMetadata.prototype.getPlanningOperationIdentifier=function(){return this.getPropertyObject(e.DataAreaRequestGetPlanningOperationMetadata.PLANNING_OPERATION_IDENTIFIER)};e.DataAreaRequestGetPlanningOperationMetadata.prototype.setPlanningOperationIdentifier=function(n){this.setPropertyObject(e.DataAreaRequestGetPlanningOperationMetadata.PLANNING_OPERATION_IDENTIFIER,n)};e.DataAreaResponseCreatePlanningOperation=function(){};e.DataAreaResponseCreatePlanningOperation.prototype=new e.DataAreaResponse;e.DataAreaResponseCreatePlanningOperation.prototype._ff_c="DataAreaResponseCreatePlanningOperation";e.DataAreaResponseCreatePlanningOperation.CREATED_PLANNING_OPERATION="CREATED_PLANNING_OPERATION";e.DataAreaResponseCreatePlanningOperation.prototype.getCreatedPlanningCommandWithId=function(){return this.getCreatedPlanningOperation()};e.DataAreaResponseCreatePlanningOperation.prototype.getCreatedPlanningOperation=function(){return this.getPropertyObject(e.DataAreaResponseCreatePlanningOperation.CREATED_PLANNING_OPERATION)};e.DataAreaResponseCreatePlanningOperation.prototype.getDataAreaRequestCreatePlanningOperation=function(){return this.getPlanningRequestCreateCommandWithId()};e.DataAreaResponseCreatePlanningOperation.prototype.getPlanningRequestCreateCommandWithId=function(){return this.getPlanningCommand()};e.DataAreaResponseCreatePlanningOperation.prototype.setCreatedPlanningOperation=function(n){this.setPropertyObject(e.DataAreaResponseCreatePlanningOperation.CREATED_PLANNING_OPERATION,n)};e.DataAreaResponseGetPlanningOperationMetadata=function(){};e.DataAreaResponseGetPlanningOperationMetadata.prototype=new e.DataAreaResponse;e.DataAreaResponseGetPlanningOperationMetadata.prototype._ff_c="DataAreaResponseGetPlanningOperationMetadata";e.DataAreaResponseGetPlanningOperationMetadata.PLANNING_OPERATION_METADATA="PLANNING_OPERATION_METADATA";e.DataAreaResponseGetPlanningOperationMetadata.prototype.getDataAreaRequestGetPlanningOperationMetadata=function(){return this.getPlanningRequest()};e.DataAreaResponseGetPlanningOperationMetadata.prototype.getPlanningOperationMetadata=function(){return this.getPropertyObject(e.DataAreaResponseGetPlanningOperationMetadata.PLANNING_OPERATION_METADATA)};e.DataAreaResponseGetPlanningOperationMetadata.prototype.setPlanningOperationMetadata=function(n){this.setPropertyObject(e.DataAreaResponseGetPlanningOperationMetadata.PLANNING_OPERATION_METADATA,n)};e.PlanningModelCloseCommand=function(){};e.PlanningModelCloseCommand.prototype=new e.PlanningModelCommand;e.PlanningModelCloseCommand.prototype._ff_c="PlanningModelCloseCommand";e.PlanningModelCloseCommand.CLOSE_MODE="CLOSE_MODE";e.PlanningModelCloseCommand.prototype.getCloseMode=function(){return this.getPropertyObject(e.PlanningModelCloseCommand.CLOSE_MODE)};e.PlanningModelCloseCommand.prototype.setCloseMode=function(n){this.setPropertyObject(e.PlanningModelCloseCommand.CLOSE_MODE,n);return this};e.PlanningModelRequestCleanup=function(){};e.PlanningModelRequestCleanup.prototype=new e.PlanningModelRequest;e.PlanningModelRequestCleanup.prototype._ff_c="PlanningModelRequestCleanup";e.PlanningModelRequestCleanup.prototype.createCommandResultInstanceInternal=function(){return new e.PlanningModelResponseCleanup};e.PlanningModelRequestCleanup.prototype.getOlapComponentType=function(){return e.OlapComponentType.PLANNING_MODEL_CLEANUP_COMMAND};e.PlanningModelRequestCreateAction=function(){};e.PlanningModelRequestCreateAction.prototype=new e.PlanningModelRequest;e.PlanningModelRequestCreateAction.prototype._ff_c="PlanningModelRequestCreateAction";e.PlanningModelRequestCreateAction.ACTION_PARAMETERS="ACTION_PARAMETERS";e.PlanningModelRequestCreateAction.COMMAND_IDENTIFIER="COMMAND_IDENTIFIER";e.PlanningModelRequestCreateAction.prototype.createCommandResultInstanceInternal=function(){return new e.PlanningModelResponseCreateAction};e.PlanningModelRequestCreateAction.prototype.doProcessCommand=function(n,t){let i=this.getActionParameters();let a;let o=e.MessageManager.createMessageManagerExt(this.getSession());if(e.isNull(i)){o.addError(0,"illegal state - not action parameters");a=e.ExtResult.create(t,o)}else{let n=new e.PlanningAction;n.setCommandType(e.PlanningCommandType.PLANNING_ACTION);n.setPlanningService(this.getPlanningService());n.setPlanningContext(this.getPlanningModel());n.setCommandIdentifier(this.getActionIdentifier());n.setActionParameterMetadata(i);t.setCreatedPlanningAction(n);a=e.ExtResult.create(t,o)}this.onCommandExecuted(e.ExtResult.create(a.getData(),a))};e.PlanningModelRequestCreateAction.prototype.getActionIdentifier=function(){return this.getCommandIdentifier()};e.PlanningModelRequestCreateAction.prototype.getActionParameters=function(){return this.getPropertyObject(e.PlanningModelRequestCreateAction.ACTION_PARAMETERS)};e.PlanningModelRequestCreateAction.prototype.getCommandIdentifier=function(){return this.getPropertyObject(e.PlanningModelRequestCreateAction.COMMAND_IDENTIFIER)};e.PlanningModelRequestCreateAction.prototype.setActionParameters=function(n){this.setPropertyObject(e.PlanningModelRequestCreateAction.ACTION_PARAMETERS,n)};e.PlanningModelRequestCreateAction.prototype.setCommandIdentifier=function(n){this.setPropertyObject(e.PlanningModelRequestCreateAction.COMMAND_IDENTIFIER,n)};e.PlanningModelRequestRefreshActions=function(){};e.PlanningModelRequestRefreshActions.prototype=new e.PlanningModelRequest;e.PlanningModelRequestRefreshActions.prototype._ff_c="PlanningModelRequestRefreshActions";e.PlanningModelRequestRefreshActions.prototype.createCommandResultInstanceInternal=function(){return new e.PlanningModelResponseRefreshActions};e.PlanningModelRequestRefreshActions.prototype.getOlapComponentType=function(){return e.OlapComponentType.PLANNING_MODEL_REFRESH_ACTIONS_COMMAND};e.PlanningModelRequestRefreshVersions=function(){};e.PlanningModelRequestRefreshVersions.prototype=new e.PlanningModelRequest;e.PlanningModelRequestRefreshVersions.prototype._ff_c="PlanningModelRequestRefreshVersions";e.PlanningModelRequestRefreshVersions.prototype.createCommandResultInstanceInternal=function(){return new e.PlanningModelResponseRefreshVersions};e.PlanningModelRequestRefreshVersions.prototype.getOlapComponentType=function(){return e.OlapComponentType.PLANNING_MODEL_REFRESH_VERSIONS_COMMAND};e.PlanningModelRequestUpdateVersionPrivileges=function(){};e.PlanningModelRequestUpdateVersionPrivileges.prototype=new e.PlanningModelRequest;e.PlanningModelRequestUpdateVersionPrivileges.prototype._ff_c="PlanningModelRequestUpdateVersionPrivileges";e.PlanningModelRequestUpdateVersionPrivileges.prototype.createCommandResultInstanceInternal=function(){return new e.PlanningModelResponseUpdateVersionPrivileges};e.PlanningModelRequestUpdateVersionPrivileges.prototype.doProcessCommand=function(n,t){if(this.isServerRoundtripRequired()){e.PlanningModelRequest.prototype.doProcessCommand.call(this,n,t)}else{let n=e.MessageManager.createMessageManagerExt(this.getSession());let i=e.ExtResult.create(t,n);this.onCommandExecuted(i)}};e.PlanningModelRequestUpdateVersionPrivileges.prototype.getOlapComponentType=function(){return e.OlapComponentType.PLANNING_MODEL_UPDATE_VERSION_PRIVILEGES_COMMAND};e.PlanningModelRequestUpdateVersionPrivileges.prototype.isServerRoundtripRequired=function(){let e=this.getPlanningModel();if(!e.hasChangedVersionPrivileges()){return false}let n=e.getVersions();return!n.isEmpty()};e.PlanningModelRequestVersion=function(){};e.PlanningModelRequestVersion.prototype=new e.PlanningModelRequest;e.PlanningModelRequestVersion.prototype._ff_c="PlanningModelRequestVersion";e.PlanningModelRequestVersion.PLANNING_VERSION="PLANNING_VERSION";e.PlanningModelRequestVersion.prototype.createCommandResultInstanceInternal=function(){return new e.PlanningModelResponseVersion};e.PlanningModelRequestVersion.prototype.createCommandStructure=e.noSupport;e.PlanningModelRequestVersion.prototype.getOlapComponentType=function(){return e.OlapComponentType.PLANNING_VERSION_COMMAND};e.PlanningModelRequestVersion.prototype.getPlanningVersion=function(){return this.getPropertyObject(e.PlanningModelRequestVersion.PLANNING_VERSION)};e.PlanningModelRequestVersion.prototype.onCommandExecuted=function(n){let t=n.getData();if(t.getReturnCode()===3042){this.getPlanningModel().resetPlanningModel()}this.resetCommand();e.PlanningModelRequest.prototype.onCommandExecuted.call(this,n)};e.PlanningModelRequestVersion.prototype.setPlanningVersion=function(n){this.setPropertyObject(e.PlanningModelRequestVersion.PLANNING_VERSION,n)};e.PlanningModelRequestVersion.prototype.setTryOption=function(e){return this};e.PlanningModelRequestVersion.prototype.supportsTryOption=function(){return false};e.PlanningModelRequestVersion.prototype.useStateUpdate=function(){let n=this.getRequestType();if(e.isNull(n)){return false}return n.isTypeOf(e.PlanningModelRequestType.VERSION_REQUEST_WITH_STATE_UPDATE)};e.PlanningModelRequestVersion.prototype.useTryOption=function(){return false};e.PlanningModelResponseCleanup=function(){};e.PlanningModelResponseCleanup.prototype=new e.PlanningModelResponse;e.PlanningModelResponseCleanup.prototype._ff_c="PlanningModelResponseCleanup";e.PlanningModelResponseCleanup.prototype.getPlanningModelRequestCleanup=function(){return this.getPlanningCommand()};e.PlanningModelResponseCreateAction=function(){};e.PlanningModelResponseCreateAction.prototype=new e.PlanningModelResponse;e.PlanningModelResponseCreateAction.prototype._ff_c="PlanningModelResponseCreateAction";e.PlanningModelResponseCreateAction.CREATED_PLANNING_ACTION="CREATED_PLANNING_ACTION";e.PlanningModelResponseCreateAction.prototype.getCreatedPlanningAction=function(){return this.getPropertyObject(e.PlanningModelResponseCreateAction.CREATED_PLANNING_ACTION)};e.PlanningModelResponseCreateAction.prototype.getCreatedPlanningCommandWithId=function(){return this.getCreatedPlanningAction()};e.PlanningModelResponseCreateAction.prototype.getPlanningModelRequestCreateAction=function(){return this.getPlanningCommand()};e.PlanningModelResponseCreateAction.prototype.getPlanningRequestCreateCommandWithId=function(){return this.getPlanningCommand()};e.PlanningModelResponseCreateAction.prototype.setCreatedPlanningAction=function(n){this.setPropertyObject(e.PlanningModelResponseCreateAction.CREATED_PLANNING_ACTION,n)};e.PlanningModelResponseRefreshActions=function(){};e.PlanningModelResponseRefreshActions.prototype=new e.PlanningModelResponse;e.PlanningModelResponseRefreshActions.prototype._ff_c="PlanningModelResponseRefreshActions";e.PlanningModelResponseRefreshActions.prototype.getPlanningModelRequestRefreshVersions=function(){return this.getPlanningCommand()};e.PlanningModelResponseRefreshVersions=function(){};e.PlanningModelResponseRefreshVersions.prototype=new e.PlanningModelResponse;e.PlanningModelResponseRefreshVersions.prototype._ff_c="PlanningModelResponseRefreshVersions";e.PlanningModelResponseRefreshVersions.prototype.getPlanningModelRequestRefreshVersions=function(){return this.getPlanningCommand()};e.PlanningModelResponseUpdateVersionPrivileges=function(){};e.PlanningModelResponseUpdateVersionPrivileges.prototype=new e.PlanningModelResponse;e.PlanningModelResponseUpdateVersionPrivileges.prototype._ff_c="PlanningModelResponseUpdateVersionPrivileges";e.PlanningModelResponseUpdateVersionPrivileges.getVersionDataSource=function(n){let t=e.QFactory.createDataSourceWithType(e.MetaObjectType.PLANNING,e.PrUtils.getStringValueProperty(n,"query_source",null));t.setSchemaName(e.PrUtils.getStringValueProperty(n,"query_source_schema",null));return t};e.PlanningModelResponseUpdateVersionPrivileges.resetVersionPrivilegesClientState=function(n){let t=n.getVersionPrivileges();for(let n=0;n<t.size();n++){let i=t.get(n);let a=i.getPrivilegeStateServer();let o;if(a===e.PlanningPrivilegeState.GRANTED){o=e.PlanningPrivilegeState.GRANTED}else if(a===e.PlanningPrivilegeState.NEW){o=e.PlanningPrivilegeState.NEW}else{throw e.XException.createIllegalStateException("illegal state")}i.setPrivilegeState(o)}};e.PlanningModelResponseUpdateVersionPrivileges.resetVersionPrivilegesServerState=function(n){let t=n.getVersionPrivileges();for(let n=0;n<t.size();n++){let i=t.get(n);i.setPrivilegeStateServer(e.PlanningPrivilegeState.NEW)}};e.PlanningModelResponseUpdateVersionPrivileges.updateVersionPrivileges=function(n,t,i,a){let o=e.PrUtils.getListSize(a,0);for(let r=0;r<o;r++){let o=e.PrUtils.getStructureElement(a,r);let l=e.PlanningPrivilege.lookupWithDefault(e.PrUtils.getStringValueProperty(o,"privilege",null),null);let s=e.PrUtils.getStringValueProperty(o,"grantee",null);let p=n.getVersionPrivilegeById(t,i,l,s);p.setPrivilegeStateServer(e.PlanningPrivilegeState.GRANTED)}};e.PlanningModelResponseUpdateVersionPrivileges.prototype.getPlanningModelRequestUpdateVersionPrivileges=function(){return this.getPlanningCommand()};e.PlanningModelResponseVersion=function(){};e.PlanningModelResponseVersion.prototype=new e.PlanningModelResponse;e.PlanningModelResponseVersion.prototype._ff_c="PlanningModelResponseVersion";e.PlanningModelResponseVersion.prototype.getPlanningModelRequestVersion=function(){return this.getPlanningCommand()};e.DataAreaRequestCreatePlanningFunction=function(){};e.DataAreaRequestCreatePlanningFunction.prototype=new e.DataAreaRequestCreatePlanningOperation;e.DataAreaRequestCreatePlanningFunction.prototype._ff_c="DataAreaRequestCreatePlanningFunction";e.DataAreaRequestCreatePlanningFunction.create=function(n){let t=new e.DataAreaRequestCreatePlanningFunction;let i=n.getApplication().getOlapEnvironment();let a=i.getContext();t.setupModelComponent(a,null);t.setPlanningService(n);return t};e.DataAreaRequestCreatePlanningFunction.prototype.createCommandResultInstanceInternal=function(){return new e.DataAreaResponseCreatePlanningFunction};e.DataAreaRequestCreatePlanningFunction.prototype.getPlanningFunctionIdentifier=function(){return this.getPlanningOperationIdentifier()};e.DataAreaRequestCreatePlanningSequence=function(){};e.DataAreaRequestCreatePlanningSequence.prototype=new e.DataAreaRequestCreatePlanningOperation;e.DataAreaRequestCreatePlanningSequence.prototype._ff_c="DataAreaRequestCreatePlanningSequence";e.DataAreaRequestCreatePlanningSequence.create=function(n){let t=new e.DataAreaRequestCreatePlanningSequence;let i=n.getApplication().getOlapEnvironment();let a=i.getContext();t.setupModelComponent(a,null);t.setPlanningService(n);return t};e.DataAreaRequestCreatePlanningSequence.prototype.createCommandResultInstanceInternal=function(){return new e.DataAreaResponseCreatePlanningSequence};e.DataAreaRequestCreatePlanningSequence.prototype.getPlanningSequenceIdentifier=function(){return this.getPlanningOperationIdentifier()};e.DataAreaRequestGetPlanningFunctionMetadata=function(){};e.DataAreaRequestGetPlanningFunctionMetadata.prototype=new e.DataAreaRequestGetPlanningOperationMetadata;e.DataAreaRequestGetPlanningFunctionMetadata.prototype._ff_c="DataAreaRequestGetPlanningFunctionMetadata";e.DataAreaRequestGetPlanningFunctionMetadata.prototype.createCommandResultInstanceInternal=function(){return new e.DataAreaResponseGetPlanningFunctionMetadata};e.DataAreaRequestGetPlanningFunctionMetadata.prototype.getOlapComponentType=function(){return e.OlapComponentType.DATA_AREA_GET_FUNCTION_METADATA};e.DataAreaRequestGetPlanningFunctionMetadata.prototype.getPlanningFunctionIdentifier=function(){return this.getPlanningOperationIdentifier()};e.DataAreaRequestGetPlanningSequenceMetadata=function(){};e.DataAreaRequestGetPlanningSequenceMetadata.prototype=new e.DataAreaRequestGetPlanningOperationMetadata;e.DataAreaRequestGetPlanningSequenceMetadata.prototype._ff_c="DataAreaRequestGetPlanningSequenceMetadata";e.DataAreaRequestGetPlanningSequenceMetadata.prototype.createCommandResultInstanceInternal=function(){return new e.DataAreaResponseGetPlanningSequenceMetadata};e.DataAreaRequestGetPlanningSequenceMetadata.prototype.getOlapComponentType=function(){return e.OlapComponentType.DATA_AREA_GET_SEQUENCE_METADATA};e.DataAreaRequestGetPlanningSequenceMetadata.prototype.getPlanningSequenceIdentifier=function(){return this.getPlanningOperationIdentifier()};e.DataAreaResponseCreatePlanningFunction=function(){};e.DataAreaResponseCreatePlanningFunction.prototype=new e.DataAreaResponseCreatePlanningOperation;e.DataAreaResponseCreatePlanningFunction.prototype._ff_c="DataAreaResponseCreatePlanningFunction";e.DataAreaResponseCreatePlanningFunction.prototype.getCreatedPlanningFunction=function(){return this.getCreatedPlanningOperation()};e.DataAreaResponseCreatePlanningFunction.prototype.getDataAreaRequestCreatePlanningFunction=function(){return this.getDataAreaRequestCreatePlanningOperation()};e.DataAreaResponseCreatePlanningSequence=function(){};e.DataAreaResponseCreatePlanningSequence.prototype=new e.DataAreaResponseCreatePlanningOperation;e.DataAreaResponseCreatePlanningSequence.prototype._ff_c="DataAreaResponseCreatePlanningSequence";e.DataAreaResponseCreatePlanningSequence.prototype.getCreatedPlanningSequence=function(){return this.getCreatedPlanningOperation()};e.DataAreaResponseCreatePlanningSequence.prototype.getDataAreaRequestCreatePlanningSequence=function(){return this.getDataAreaRequestCreatePlanningOperation()};e.DataAreaResponseGetPlanningFunctionMetadata=function(){};e.DataAreaResponseGetPlanningFunctionMetadata.prototype=new e.DataAreaResponseGetPlanningOperationMetadata;e.DataAreaResponseGetPlanningFunctionMetadata.prototype._ff_c="DataAreaResponseGetPlanningFunctionMetadata";e.DataAreaResponseGetPlanningFunctionMetadata.prototype.getDataAreaRequestGetPlanningFunctionMetadata=function(){return this.getDataAreaRequestGetPlanningOperationMetadata()};e.DataAreaResponseGetPlanningFunctionMetadata.prototype.getPlanningFunctionMetadata=function(){return this.getPlanningOperationMetadata()};e.DataAreaResponseGetPlanningSequenceMetadata=function(){};e.DataAreaResponseGetPlanningSequenceMetadata.prototype=new e.DataAreaResponseGetPlanningOperationMetadata;e.DataAreaResponseGetPlanningSequenceMetadata.prototype._ff_c="DataAreaResponseGetPlanningSequenceMetadata";e.DataAreaResponseGetPlanningSequenceMetadata.prototype.getDataAreaRequestGetPlanningSequenceMetadata=function(){return this.getDataAreaRequestGetPlanningOperationMetadata()};e.DataAreaResponseGetPlanningSequenceMetadata.prototype.getPlanningSequenceMetadata=function(){return this.getPlanningOperationMetadata()};e.PlanningModelRequestVersionClose=function(){};e.PlanningModelRequestVersionClose.prototype=new e.PlanningModelRequestVersion;e.PlanningModelRequestVersionClose.prototype._ff_c="PlanningModelRequestVersionClose";e.PlanningModelRequestVersionClose.CLOSE_MODE="CLOSE_MODE";e.PlanningModelRequestVersionClose.prototype.getCloseMode=function(){return this.getPropertyObject(e.PlanningModelRequestVersionClose.CLOSE_MODE)};e.PlanningModelRequestVersionClose.prototype.getOlapComponentType=function(){return e.OlapComponentType.PLANNING_VERSION_CLOSE_COMMAND};e.PlanningModelRequestVersionClose.prototype.setCloseMode=function(n){this.setPropertyObject(e.PlanningModelRequestVersionClose.CLOSE_MODE,n);return this};e.PlanningModelRequestVersionEndActionSequence=function(){};e.PlanningModelRequestVersionEndActionSequence.prototype=new e.PlanningModelRequestVersion;e.PlanningModelRequestVersionEndActionSequence.prototype._ff_c="PlanningModelRequestVersionEndActionSequence";e.PlanningModelRequestVersionEndActionSequence.DESCRIPTION="DESCRIPTION";e.PlanningModelRequestVersionEndActionSequence.SEQUENCE_ID="SEQUENCE_ID";e.PlanningModelRequestVersionEndActionSequence.prototype.getDescription=function(){return this.getPropertyString(e.PlanningModelRequestVersionEndActionSequence.DESCRIPTION)};e.PlanningModelRequestVersionEndActionSequence.prototype.getOlapComponentType=function(){return e.OlapComponentType.PLANNING_VERSION_END_ACTION_SEQUENCE_COMMAND};e.PlanningModelRequestVersionEndActionSequence.prototype.getSequenceId=function(){return this.getPropertyString(e.PlanningModelRequestVersionEndActionSequence.SEQUENCE_ID)};e.PlanningModelRequestVersionEndActionSequence.prototype.setDescription=function(n){this.setPropertyString(e.PlanningModelRequestVersionEndActionSequence.DESCRIPTION,n);return this};e.PlanningModelRequestVersionEndActionSequence.prototype.setSequenceId=function(n){this.setPropertyString(e.PlanningModelRequestVersionEndActionSequence.SEQUENCE_ID,n);return this};e.PlanningModelRequestVersionSetParameters=function(){};e.PlanningModelRequestVersionSetParameters.prototype=new e.PlanningModelRequestVersion;e.PlanningModelRequestVersionSetParameters.prototype._ff_c="PlanningModelRequestVersionSetParameters";e.PlanningModelRequestVersionSetParameters.VERSION_PARAMETERS_STRUCTURE="VERSION_PARAMETERS_STRUCTURE";e.PlanningModelRequestVersionSetParameters.prototype.getOlapComponentType=function(){return e.OlapComponentType.PLANNING_VERSION_SET_PARAMETERS_COMMAND};e.PlanningModelRequestVersionSetParameters.prototype.getVersionParametersStructure=function(){return this.getPropertyObject(e.PlanningModelRequestVersionSetParameters.VERSION_PARAMETERS_STRUCTURE)};e.PlanningModelRequestVersionSetParameters.prototype.setVersionParametersAsJson=function(n){this.setPropertyObject(e.PlanningModelRequestVersionSetParameters.VERSION_PARAMETERS_STRUCTURE,n);if(e.notNull(n)){let t=this.getPlanningVersion();let i=n.getIntegerByKeyExt("showAsPublicVersion",-1);t.setShowingAsPublicVersion(i===1);let a=n.getStringByKeyExt("source version",null);if(!e.XStringUtils.isNullOrEmpty(a)){a=e.XStringUtils.concatenate3("public",".",a)}t.setSourceVersionName(a)}return this};e.PlanningModelRequestVersionSetTimeout=function(){};e.PlanningModelRequestVersionSetTimeout.prototype=new e.PlanningModelRequestVersion;e.PlanningModelRequestVersionSetTimeout.prototype._ff_c="PlanningModelRequestVersionSetTimeout";e.PlanningModelRequestVersionSetTimeout.TIMEOUT="TIMEOUT";e.PlanningModelRequestVersionSetTimeout.prototype.getOlapComponentType=function(){return e.OlapComponentType.PLANNING_VERSION_SET_TIMEOUT_COMMAND};e.PlanningModelRequestVersionSetTimeout.prototype.getTimeout=function(){return this.getPropertyInteger(e.PlanningModelRequestVersionSetTimeout.TIMEOUT)};e.PlanningModelRequestVersionSetTimeout.prototype.setTimeout=function(n){this.setPropertyInteger(e.PlanningModelRequestVersionSetTimeout.TIMEOUT,n);return this};e.PlanningModelRequestVersionStartActionSequence=function(){};e.PlanningModelRequestVersionStartActionSequence.prototype=new e.PlanningModelRequestVersion;e.PlanningModelRequestVersionStartActionSequence.prototype._ff_c="PlanningModelRequestVersionStartActionSequence";e.PlanningModelRequestVersionStartActionSequence.DESCRIPTION="DESCRIPTION";e.PlanningModelRequestVersionStartActionSequence.SEQUENCE_ID="SEQUENCE_ID";e.PlanningModelRequestVersionStartActionSequence.prototype.createCommandResultInstanceInternal=function(){return new e.PlanningModelResponseVersionStartActionSequence};e.PlanningModelRequestVersionStartActionSequence.prototype.getDescription=function(){return this.getPropertyString(e.PlanningModelRequestVersionStartActionSequence.DESCRIPTION)};e.PlanningModelRequestVersionStartActionSequence.prototype.getOlapComponentType=function(){return e.OlapComponentType.PLANNING_VERSION_START_ACTION_SEQUENCE_COMMAND};e.PlanningModelRequestVersionStartActionSequence.prototype.getSequenceId=function(){return this.getPropertyString(e.PlanningModelRequestVersionStartActionSequence.SEQUENCE_ID)};e.PlanningModelRequestVersionStartActionSequence.prototype.setDescription=function(n){this.setPropertyString(e.PlanningModelRequestVersionStartActionSequence.DESCRIPTION,n);return this};e.PlanningModelRequestVersionStartActionSequence.prototype.setSequenceId=function(n){this.setPropertyString(e.PlanningModelRequestVersionStartActionSequence.SEQUENCE_ID,n);return this};e.PlanningModelRequestVersionStateDescriptions=function(){};e.PlanningModelRequestVersionStateDescriptions.prototype=new e.PlanningModelRequestVersion;e.PlanningModelRequestVersionStateDescriptions.prototype._ff_c="PlanningModelRequestVersionStateDescriptions";e.PlanningModelRequestVersionStateDescriptions.COUNT="COUNT";e.PlanningModelRequestVersionStateDescriptions.START_INDEX="START_INDEX";e.PlanningModelRequestVersionStateDescriptions.prototype.createCommandResultInstanceInternal=function(){return new e.PlanningModelResponseVersionStateDescriptions};e.PlanningModelRequestVersionStateDescriptions.prototype.getCount=function(){return this.getPropertyInteger(e.PlanningModelRequestVersionStateDescriptions.COUNT)};e.PlanningModelRequestVersionStateDescriptions.prototype.getOlapComponentType=function(){return e.OlapComponentType.PLANNING_VERSION_STATE_DESCRIPTIONS_COMMAND};e.PlanningModelRequestVersionStateDescriptions.prototype.getStartIndex=function(){return this.getPropertyInteger(e.PlanningModelRequestVersionStateDescriptions.START_INDEX)};e.PlanningModelRequestVersionStateDescriptions.prototype.setCount=function(n){this.setPropertyInteger(e.PlanningModelRequestVersionStateDescriptions.COUNT,n);return this};e.PlanningModelRequestVersionStateDescriptions.prototype.setStartIndex=function(n){this.setPropertyInteger(e.PlanningModelRequestVersionStateDescriptions.START_INDEX,n);return this};e.PlanningModelRequestVersionUndoRedo=function(){};e.PlanningModelRequestVersionUndoRedo.prototype=new e.PlanningModelRequestVersion;e.PlanningModelRequestVersionUndoRedo.prototype._ff_c="PlanningModelRequestVersionUndoRedo";e.PlanningModelRequestVersionUndoRedo.NUM_UNDO_REDO_STEPS="NUM_UNDO_REDO_STEPS";e.PlanningModelRequestVersionUndoRedo.prototype.getOlapComponentType=function(){return e.OlapComponentType.PLANNING_VERSION_UNDO_REDO_COMMAND};e.PlanningModelRequestVersionUndoRedo.prototype.getSteps=function(){return this.getPropertyInteger(e.PlanningModelRequestVersionUndoRedo.NUM_UNDO_REDO_STEPS)};e.PlanningModelRequestVersionUndoRedo.prototype.setSteps=function(n){this.setPropertyInteger(e.PlanningModelRequestVersionUndoRedo.NUM_UNDO_REDO_STEPS,n);return this};e.PlanningModelResponseVersionStartActionSequence=function(){};e.PlanningModelResponseVersionStartActionSequence.prototype=new e.PlanningModelResponseVersion;e.PlanningModelResponseVersionStartActionSequence.prototype._ff_c="PlanningModelResponseVersionStartActionSequence";e.PlanningModelResponseVersionStartActionSequence.SEQUENCE_ID="SEQUENCE_ID";e.PlanningModelResponseVersionStartActionSequence.prototype.getPlanningModelRequestVersion=function(){return this.getPlanningCommand()};e.PlanningModelResponseVersionStartActionSequence.prototype.getSequenceId=function(){return this.getPropertyString(e.PlanningModelResponseVersionStartActionSequence.SEQUENCE_ID)};e.PlanningModelResponseVersionStartActionSequence.prototype.setSequenceId=function(n){this.setPropertyString(e.PlanningModelResponseVersionStartActionSequence.SEQUENCE_ID,n)};e.PlanningModelResponseVersionStateDescriptions=function(){};e.PlanningModelResponseVersionStateDescriptions.prototype=new e.PlanningModelResponseVersion;e.PlanningModelResponseVersionStateDescriptions.prototype._ff_c="PlanningModelResponseVersionStateDescriptions";e.PlanningModelResponseVersionStateDescriptions.AVAILABLE_REDOS="AVAILABLE_REDOS";e.PlanningModelResponseVersionStateDescriptions.AVAILABLE_UNDOS="AVAILABLE_UNDOS";e.PlanningModelResponseVersionStateDescriptions.DESCRIPTIONS="DESCRIPTIONS";e.PlanningModelResponseVersionStateDescriptions.VERSION_DESCRIPTION="VERSION_DESCRIPTION";e.PlanningModelResponseVersionStateDescriptions.VERSION_IDENTIFIER="VERSION_IDENTIFIER";e.PlanningModelResponseVersionStateDescriptions.prototype.getAvailableRedos=function(){return this.getPropertyInteger(e.PlanningModelResponseVersionStateDescriptions.AVAILABLE_REDOS)};e.PlanningModelResponseVersionStateDescriptions.prototype.getAvailableUndos=function(){return this.getPropertyInteger(e.PlanningModelResponseVersionStateDescriptions.AVAILABLE_UNDOS)};e.PlanningModelResponseVersionStateDescriptions.prototype.getPlanningModelRequestVersion=function(){return this.getPlanningCommand()};e.PlanningModelResponseVersionStateDescriptions.prototype.getVersionDescription=function(){return this.getPropertyString(e.PlanningModelResponseVersionStateDescriptions.VERSION_DESCRIPTION)};e.PlanningModelResponseVersionStateDescriptions.prototype.getVersionId=function(){return this.getVersionIdentifier().getVersionId()};e.PlanningModelResponseVersionStateDescriptions.prototype.getVersionIdentifier=function(){return this.getPropertyObject(e.PlanningModelResponseVersionStateDescriptions.VERSION_IDENTIFIER)};e.PlanningModelResponseVersionStateDescriptions.prototype.getVersionOwner=function(){return this.getVersionIdentifier().getVersionOwner()};e.PlanningModelResponseVersionStateDescriptions.prototype.getVersionStateDescription=function(e){return this.getVersionStateDescriptionList().get(e)};e.PlanningModelResponseVersionStateDescriptions.prototype.getVersionStateDescriptionIterator=function(){return this.getVersionStateDescriptionList().getIterator()};e.PlanningModelResponseVersionStateDescriptions.prototype.getVersionStateDescriptionList=function(){return this.getPropertyObject(e.PlanningModelResponseVersionStateDescriptions.DESCRIPTIONS)};e.PlanningModelResponseVersionStateDescriptions.prototype.getVersionStateDescriptionSize=function(){return this.getVersionStateDescriptionList().size()};e.PlanningModelResponseVersionStateDescriptions.prototype.getVersionUniqueName=function(){return this.getVersionIdentifier().getVersionUniqueName()};e.PlanningModelResponseVersionStateDescriptions.prototype.isSharedVersion=function(){return this.getVersionIdentifier().isSharedVersion()};e.PlanningModelResponseVersionStateDescriptions.prototype.setAvailableRedos=function(n){this.setPropertyInteger(e.PlanningModelResponseVersionStateDescriptions.AVAILABLE_REDOS,n)};e.PlanningModelResponseVersionStateDescriptions.prototype.setAvailableUndos=function(n){this.setPropertyInteger(e.PlanningModelResponseVersionStateDescriptions.AVAILABLE_UNDOS,n)};e.PlanningModelResponseVersionStateDescriptions.prototype.setVersionDescription=function(n){this.setPropertyString(e.PlanningModelResponseVersionStateDescriptions.VERSION_DESCRIPTION,n)};e.PlanningModelResponseVersionStateDescriptions.prototype.setVersionIdentifier=function(n){this.setPropertyObject(e.PlanningModelResponseVersionStateDescriptions.VERSION_IDENTIFIER,n)};e.PlanningModelResponseVersionStateDescriptions.prototype.setVersionStateDescriptions=function(n){this.setPropertyObject(e.PlanningModelResponseVersionStateDescriptions.DESCRIPTIONS,n)};e.PlanningModelResponseVersionStateDescriptions.prototype.toString=function(){let n=e.XStringBuffer.create();n.append("version id: ").appendInt(this.getVersionId()).append("\n");n.append("version description: ").append(this.getVersionDescription()).append("\n");n.append("undos: ").appendInt(this.getAvailableUndos()).append("\n");n.append("redos: ").appendInt(this.getAvailableRedos()).append("\n");let t=this.getVersionStateDescriptionIterator();n.append("state descriptions: [");while(t.hasNext()){n.append(t.next().toString());if(t.hasNext()){n.append(", ")}}n.append("]");return n.toString()};e.PlanningModelRequestVersionInit=function(){};e.PlanningModelRequestVersionInit.prototype=new e.PlanningModelRequestVersionSetParameters;e.PlanningModelRequestVersionInit.prototype._ff_c="PlanningModelRequestVersionInit";e.PlanningModelRequestVersionInit.RESTORE_BACKUP_TYPE="RESTORE_BACKUP_TYPE";e.PlanningModelRequestVersionInit.prototype.getOlapComponentType=function(){return e.OlapComponentType.PLANNING_VERSION_INIT_COMMAND};e.PlanningModelRequestVersionInit.prototype.getRestoreBackupType=function(){let n=this.getPropertyObject(e.PlanningModelRequestVersionInit.RESTORE_BACKUP_TYPE);if(e.isNull(n)){n=e.RestoreBackupType.NONE}return n};e.PlanningModelRequestVersionInit.prototype.getVersionParameters=function(){let n=this.getVersionParametersStructure();return e.PlanningVersion.parametersStructure2ParametersStringMap(n)};e.PlanningModelRequestVersionInit.prototype.setRestoreBackupType=function(n){this.setPropertyObject(e.PlanningModelRequestVersionInit.RESTORE_BACKUP_TYPE,n);return this};e.PlanningModelRequestVersionInit.prototype.setVersionParameters=function(n){let t=e.PlanningVersion.parametersStringMap2ParametersStructure(n);this.setVersionParametersAsJson(t);return this};e.PlanningModelRequestVersionInit.prototype.setVersionParametersAsJson=function(n){e.PlanningModelRequestVersionSetParameters.prototype.setVersionParametersAsJson.call(this,n);if(e.notNull(n)){this.tryPublicVersionEdit()}return this};e.PlanningModelRequestVersionInit.prototype.tryPublicVersionEdit=function(){let n=this.getPlanningModel();if(e.isNull(n)||!n.supportsPublicVersionEdit()){return}let t=this.getPlanningVersion();let i=t.isShowingAsPublicVersion()&&e.XStringUtils.isNotNullAndNotEmpty(t.getSourceVersionName());this.setInvalidatingResultSet(!i)};e.IpImplModule=function(){};e.IpImplModule.prototype=new e.DfModule;e.IpImplModule.prototype._ff_c="IpImplModule";e.IpImplModule.s_module=null;e.IpImplModule.getInstance=function(){if(e.isNull(e.IpImplModule.s_module)){e.DfModule.checkInitialized(e.OlapImplModule.getInstance());e.IpImplModule.s_module=e.DfModule.startExt(new e.IpImplModule);let n=e.RegistrationService.getInstance();e.PlanningServiceConfig.staticSetup();n.addServiceConfig(e.OlapApiModule.XS_PLANNING,e.PlanningServiceConfig.CLAZZ);e.PlanningService.staticSetup();n.addService(e.OlapApiModule.XS_PLANNING,e.PlanningService.CLAZZ);e.XCmdInitPlanningStep.staticSetup();e.XCmdInitPlanningStepResult.staticSetup();n.addCommand(e.XCmdInitPlanningStep.CMD_NAME,e.XCmdInitPlanningStep.CLAZZ);e.XCmdCreatePlanningOperation.staticSetup();e.XCmdCreatePlanningOperationResult.staticSetup();n.addCommand(e.XCmdCreatePlanningOperation.CMD_NAME,e.XCmdCreatePlanningOperation.CLAZZ);e.PlanningBatchRequestDecoratorProvider.staticSetup();n.addReference(e.BatchRequestDecoratorFactory.BATCH_REQUEST_DECORATOR_PROVIDER,e.PlanningBatchRequestDecoratorProvider.CLAZZ);e.PlanningRsRequestDecoratorProvider.staticSetup();n.addReference(e.RsRequestDecoratorFactory.RESULTSET_REQUEST_DECORATOR_PROVIDER,e.PlanningRsRequestDecoratorProvider.CLAZZ);e.PlanningFactory.setInstance(new e.PlanningManagerFactoryImpl);e.DfModule.stopExt(e.IpImplModule.s_module)}return e.IpImplModule.s_module};e.IpImplModule.prototype.getName=function(){return"ff4315.olap.ip.impl"};e.IpImplModule.getInstance();return e});
//# sourceMappingURL=ff4315.olap.ip.impl.js.map