/*!
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.define(["sap/sac/df/firefly/ff2710.export.native","sap/sac/df/firefly/ff4000.protocol.ina","sap/sac/df/firefly/ff4220.olap.catalog.api","sap/sac/df/firefly/ff5410.formula.editor.native","sap/sac/df/firefly/ff8005.olap.ui.api","sap/sac/df/firefly/ff2140.dwc"],function(e){"use strict";e.FF8010_OLAP_UI_RESOURCES=function(){};e.FF8010_OLAP_UI_RESOURCES.prototype={};e.FF8010_OLAP_UI_RESOURCES.prototype._ff_c="FF8010_OLAP_UI_RESOURCES";e.FF8010_OLAP_UI_RESOURCES.PATH_manifests_horizon_plugins_DataSourceListPlugin_json="manifests/horizon/plugins/DataSourceListPlugin.json";e.FF8010_OLAP_UI_RESOURCES.manifests_horizon_plugins_DataSourceListPlugin_json="ewogICAgIk5hbWUiOiAiRGF0YVNvdXJjZUxpc3RQbHVnaW4iLAogICAgIk1vZHVsZXMiOiBbImZmNDMzMC5vbGFwLmNhdGFsb2cuaW1wbCIsImZmNDQwMC5vbGFwLnByb3ZpZGVycyIsImZmNDQxMC5vbGFwLmlwLnByb3ZpZGVycyIsImZmODAxMC5vbGFwLnVpIl0sCiAgICAiRGlzcGxheU5hbWUiOiAiRGF0YSBTb3VyY2UgTGlzdCIsCiAgICAiRGVzY3JpcHRpb24iOiAiTGlzdHMgYWxsIHRoZSBkYXRhIHNvdXJjZXMgZnJvbSBhIHNwZWNpZmllZCBzeXN0ZW0iLAogICAgIkRlcGVuZGVuY2llcyI6IFtdLAogICAgIkF1dGhvciI6ICJNYXJjaW4gUGFza3VkYSIsCiAgICAiQ29uZmlndXJhdGlvbiI6IHsKICAgICAgICAiUHJvcGVydGllcyI6IHsKICAgICAgICAgICJzeXN0ZW1OYW1lIjogewogICAgICAgICAgICAiVHlwZSI6ICJzdHJpbmciLAogICAgICAgICAgICAiRGlzcGxheU5hbWUiOiAiU3lzdGVtIG5hbWUiLAogICAgICAgICAgICAiRGVzY3JpcHRpb24iOiAiVGhlIG5hbWUgb2YgdGhlIHN5c3RlbSB0byB1c2UuIiwKICAgICAgICAgICAgIlBhdHRlcm4iOiAiXlxcUyokIiwKICAgICAgICAgICAgIkhpZGRlbiI6IHRydWUKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KfQo=";e.XResources.registerResourceClass("ff8010.olap.ui",e.FF8010_OLAP_UI_RESOURCES);e.OuCalcCalculations=function(){};e.OuCalcCalculations.prototype=new e.XObject;e.OuCalcCalculations.prototype._ff_c="OuCalcCalculations";e.OuCalcCalculations.CONFIGURATION_DATA_NOTIFICATION_NAME="com.sap.ff.calculations.configuration";e.OuCalcCalculations.DATASOURCE_PROVIDER_NOTIFICATION_KEY="datasource.provider";e.OuCalcCalculations.FEMODE="femode";e.OuCalcCalculations.FE_CONFIGURATION="formula.configuration";e.OuCalcCalculations.FE_MODE_NAME="formula.editor.mode.name";e.OuCalcCalculations.FE_NOTIFICATION_CONTROL_FOCUS="com.sap.ff.calculations.notification.control.focus";e.OuCalcCalculations.FE_NOTIFICATION_SET_INITIAL_DATA="com.sap.ff.calculations.notification.set.initialData";e.OuCalcCalculations.FE_NOTIFICATION_SET_VALIDATION_MESSAGES="com.sap.ff.calculations.notification.set.validationMessage";e.OuCalcCalculations.FORMULA_INITIAL_DATA="formula.initial.data";e.OuCalcCalculations.FORMULA_ITEMS_PROVIDER_NOTIFICATION_KEY="formula.items.provider";e.OuCalcCalculations.FORMULA_PREFERENCES="formula.preferences";e.OuCalcCalculations.MEMBER_SELECTOR_HANDLER_KEY="member.selector.handler";e.OuCalcCalculations.NOTIFICATION_DATA_KEY="data";e.OuCalcCalculations.UI_CONFIGURATION_PROVIDER_NOTIFICATION_KEY="ui.configuration.provider";e.OuCalcCalculations.create=function(t,i,o,n,a,r,l,s,u){let m=new e.OuCalcCalculations;e.XObjectExt.assertNotNull(t);return e.FeFeatureToggle.load(u).onThenExt(p=>{let d=e.FePreferences.create(u.getUserProfile(),o,n,a);let c=e.FeFormulaItemsFactory.create(t.getDatasourceType()).getRequestedSupportedFormulaItems(i);let _=e.OuCalcFormulaItemsProviderBuilder.create();_.addAll(c);m.setupInstance(t,_.build(),r,l,d,s,u);return m})};e.OuCalcCalculations.createExt=function(t,i,o,n,a,r,l){let s=new e.OuCalcCalculations;e.XObjectExt.assertNotNull(t);return e.FeFeatureToggle.load(l).onThenExt(e=>{s.setupInstance(t,i,o,n,a,r,l);return s})};e.OuCalcCalculations.prototype.m_codeEditorPanelHorizon=null;e.OuCalcCalculations.prototype.m_datasource=null;e.OuCalcCalculations.prototype.m_detailsPanelHorizon=null;e.OuCalcCalculations.prototype.m_eventManager=null;e.OuCalcCalculations.prototype.m_feConfiguration=null;e.OuCalcCalculations.prototype.m_feModeName=null;e.OuCalcCalculations.prototype.m_formulaChangeEventConsumers=null;e.OuCalcCalculations.prototype.m_formulaItems=null;e.OuCalcCalculations.prototype.m_initialData=null;e.OuCalcCalculations.prototype.m_memberSelectorHandler=null;e.OuCalcCalculations.prototype.m_preferences=null;e.OuCalcCalculations.prototype.m_process=null;e.OuCalcCalculations.prototype.m_uiConfiguration=null;e.OuCalcCalculations.prototype.m_uiEventConsumers=null;e.OuCalcCalculations.prototype.m_validationStateChangeEventConsumers=null;e.OuCalcCalculations.prototype.calculationIsValid=function(){if(!this.m_preferences.isValidationEnabled()){return e.XBooleanValue.create(true)}let t=this.getSharedDataSpace();let i=!this.m_preferences.isDetailsEnabled()||t.getBooleanByKey(e.OuCalcDetailsAreaPlugin.VALIDATION_STATE);let o=t.getXObjectByKey(e.OuCalcCodeEditorPlugin.FE_FORMULA);let n=t.getXObjectByKey(e.OuCalcCodeEditorPlugin.FE_FORMULA_ERRORS);let a=i&&e.notNull(o)&&!o.isEmpty()&&(e.isNull(n)||!n.hasErrors());return e.XBooleanValue.create(a)};e.OuCalcCalculations.prototype.createCalculation=function(){let t=e.FeParser.create(this.m_datasource,this.m_initialData.getId(),this.m_formulaItems.getFunctions(),this.m_formulaItems.getOperators(),this.m_feConfiguration,this.m_preferences);return this.retrieveFormula().then(i=>{if(i.isPresent()){let o=t.parse(i.get());if(this.m_preferences.isValidationEnabled()&&t.getMessages().hasErrors()){throw e.XException.createRuntimeException(t.getMessages().toString())}else{return e.FeCalcCreateCalculationResponse.create(o)}}else{throw e.XException.createRuntimeException("No value returned from code editor")}},null)};e.OuCalcCalculations.prototype.focusComponent=function(t){let i=e.XNotificationData.create();i.putXObject(e.OuCalcCalculations.NOTIFICATION_DATA_KEY,t);this.getSharedNotificationCenter().postNotificationWithName(e.OuCalcCalculations.FE_NOTIFICATION_CONTROL_FOCUS,i)};e.OuCalcCalculations.prototype.getId=function(){if(e.isNull(this.m_detailsPanelHorizon)){let t=e.XStringValue.create(this.m_initialData.getId());let i=e.XOptional.of(t);let o=e.XPromise.resolve(i);return o}return this.m_detailsPanelHorizon.executeActionById(e.OuCalcDetailsAreaValueRetreiver.getCalculationIDCommand(),null).then(t=>{let i=t;if(i.getString()===null){return e.XOptional.empty()}return e.XOptional.of(i)},null)};e.OuCalcCalculations.prototype.getName=function(){if(e.isNull(this.m_detailsPanelHorizon)){return e.XPromise.resolve(e.XOptional.empty())}return this.m_detailsPanelHorizon.executeActionById(e.OuCalcDetailsAreaValueRetreiver.getCalculationNameCommand(),null).then(t=>{let i=t;if(e.XStringUtils.isNullOrEmpty(i.getString())){return e.XOptional.empty()}return e.XOptional.of(i)},null)};e.OuCalcCalculations.prototype.getPluginPromiseWrapper=function(t,i,o,n){let a=e.OuCalcPluginRunner.create(this.m_process);return a.runPlugin(t,e.OuCalcHorizonConfigGenerator.generateHorizonConfig(i)).onThenExt(t=>{let i=t;i.setStartupCompleteProcedure(()=>{i.postLocalNotification(e.OuCalcCalculations.CONFIGURATION_DATA_NOTIFICATION_NAME,o)});if(e.notNull(n)){n(t)}return t})};e.OuCalcCalculations.prototype.getSharedDataSpace=function(){return e.OuCalcSharedDataSpaceManager.create(this.m_process).get()};e.OuCalcCalculations.prototype.getSharedNotificationCenter=function(){return this.m_process.getSharedNotificationCenter()};e.OuCalcCalculations.prototype.initUiEventConsumer=function(){let t=this.getSharedNotificationCenter();e.XObjectExt.assertNotNullExt(t,"SharedNotificationCenter null!");this.m_eventManager=e.OuCalcEventManager.create(t);this.getSharedDataSpace().addChangeConsumer(t=>{if(e.XString.isEqual(t,e.OuCalcCodeEditorPlugin.FE_FORMULA)){let t=this.getSharedDataSpace().getXObjectByKey(e.OuCalcCodeEditorPlugin.FE_FORMULA);this.m_formulaChangeEventConsumers.accept(t)}if(e.XString.isEqual(t,e.OuCalcDetailsAreaPlugin.VALIDATION_STATE)||e.XString.isEqual(t,e.OuCalcCodeEditorPlugin.FE_FORMULA)||e.XString.isEqual(t,e.OuCalcCodeEditorPlugin.FE_FORMULA_ERRORS)){this.m_validationStateChangeEventConsumers.accept(this.calculationIsValid())}});this.m_eventManager.getListener().onListItemPanelCollapsed(t=>{let i=e.XNameGenericPair.create(e.OuCalcFormulaElementListPlugin.FE_NOTIFICATION_ITEM_LIST_PANEL_COLLAPSED,t);this.m_uiEventConsumers.accept(i)});this.m_eventManager.getListener().onAssistancePanelCollapsed(t=>{let i=e.FeFeatureToggle.isActive(e.FeFeatureToggle.DIALOG_NEW_LAYOUT)?e.OuCalcAssistancePluginV2.FE_NOTIFICATION_ASSISTANCE_PANEL_COLLAPSED:e.OuCalcAssistancePlugin.FE_NOTIFICATION_ASSISTANCE_PANEL_COLLAPSED;let o=e.XNameGenericPair.create(i,t);this.m_uiEventConsumers.accept(o)});this.m_eventManager.getListener().onAssistancePanelOpened(t=>{let i=e.XNameGenericPair.create(e.OuCalcAssistancePlugin.FE_NOTIFICATION_ASSISTANCE_PANEL_OPENED,e.XStringValue.create(t));this.m_uiEventConsumers.accept(i)})};e.OuCalcCalculations.prototype.registerCustomFeMode=function(t,i){e.FeCustomHighlighter.create().register(t,i)};e.OuCalcCalculations.prototype.registerOnFormulaChange=function(e){return this.m_formulaChangeEventConsumers.addConsumer(e)};e.OuCalcCalculations.prototype.registerOnUiEvent=function(e){return this.m_uiEventConsumers.addConsumer(e)};e.OuCalcCalculations.prototype.registerOnValidationStateChange=function(e){this.m_validationStateChangeEventConsumers.addConsumer(e)};e.OuCalcCalculations.prototype.retrieveFormula=function(){if(e.isNull(this.m_codeEditorPanelHorizon)){return e.XPromise.resolve(e.XOptional.empty())}return this.m_codeEditorPanelHorizon.executeActionById(e.OuCalcCodeEditorValueRetriever.getContentsCommand(),null).then(t=>{let i=t;if(i.isEmpty()){return e.XOptional.empty()}return e.XOptional.of(i)},null)};e.OuCalcCalculations.prototype.retrieveFormulaString=function(){return this.retrieveFormula().then(t=>{if(t.isPresent()){return e.XOptional.of(e.XStringValue.create(t.get().getText()))}return e.XOptional.empty()},null)};e.OuCalcCalculations.prototype.setInitialData=function(t){let i=e.XNotificationData.create();i.putXObject(e.OuCalcCalculations.NOTIFICATION_DATA_KEY,t);this.getSharedNotificationCenter().postNotificationWithName(e.OuCalcCalculations.FE_NOTIFICATION_SET_INITIAL_DATA,i)};e.OuCalcCalculations.prototype.setInitialDataByName=function(t){let i=e.OuCalcInitialDataBuilder.create(this.m_datasource,e.FeFormulaPresentation.create(this.m_preferences.isCommaDecimalSeparator()));i.setCalculationName(t);this.setInitialData(i.build())};e.OuCalcCalculations.prototype.setValidationMessages=function(e){this.m_eventManager.getEmitter().fireValidationMessageSet(e)};e.OuCalcCalculations.prototype.setupInstance=function(t,i,o,n,a,r,l){this.m_datasource=n.isEdit()?e.FeDatasourceMetadataProviderInternalImpl.createExt(t,n.getId()):e.FeDatasourceMetadataProviderInternalImpl.create(t);this.m_formulaItems=e.XObjectExt.assertNotNull(i);this.m_uiConfiguration=e.XObjectExt.assertNotNull(o);this.m_initialData=e.XObjectExt.assertNotNull(n);this.m_preferences=e.XObjectExt.assertNotNull(a);this.m_memberSelectorHandler=e.XObjectExt.assertNotNull(r);this.m_feConfiguration=e.FeConfigurationFactory.create(this.m_datasource);this.m_uiEventConsumers=e.XConsumerCollection.create();this.m_formulaChangeEventConsumers=e.XConsumerCollection.create();this.m_validationStateChangeEventConsumers=e.XConsumerCollection.create();this.m_process=e.XObjectExt.assertNotNull(l).newChildProcess(e.ProcessType.SERVICE);this.m_process.createSharedNotificationCenterIfNeeded();let s=this.m_datasource.getDatasourceType().getName();this.m_feModeName=e.XStringUtils.concatenate2(e.OuCalcCalculations.FEMODE,s);this.registerCustomFeMode(this.m_feModeName,e.OuCalcCustomModeRulesFactory.create(this.m_preferences.isModelPrefixEnabled()).buildRules(this.m_formulaItems,this.m_feConfiguration))};e.OuCalcCalculations.prototype.shutdown=function(){e.OuCalcSharedDataSpaceManager.create(this.m_process).destroy();this.m_uiEventConsumers.clear();this.m_uiEventConsumers=e.XObjectExt.release(this.m_uiEventConsumers);this.m_formulaChangeEventConsumers.clear();this.m_formulaChangeEventConsumers=e.XObjectExt.release(this.m_formulaChangeEventConsumers);this.m_validationStateChangeEventConsumers.clear();this.m_validationStateChangeEventConsumers=e.XObjectExt.release(this.m_validationStateChangeEventConsumers);this.m_formulaItems=null;this.m_uiConfiguration=null;this.m_initialData=null;this.m_preferences=null;this.m_memberSelectorHandler=null;this.m_process=null;this.m_codeEditorPanelHorizon=e.XObjectExt.release(this.m_codeEditorPanelHorizon);this.m_detailsPanelHorizon=e.XObjectExt.release(this.m_detailsPanelHorizon);this.m_datasource=e.XObjectExt.release(this.m_datasource)};e.OuCalcCalculations.prototype.startup=function(){e.OuCalcSharedDataSpaceManager.create(this.m_process).initialize();let t=e.XNotificationData.create();t.putXObject(e.OuCalcCalculations.DATASOURCE_PROVIDER_NOTIFICATION_KEY,this.m_datasource);t.putXObject(e.OuCalcCalculations.FORMULA_ITEMS_PROVIDER_NOTIFICATION_KEY,this.m_formulaItems);t.putXObject(e.OuCalcCalculations.UI_CONFIGURATION_PROVIDER_NOTIFICATION_KEY,this.m_uiConfiguration);t.putXObject(e.OuCalcCalculations.FORMULA_INITIAL_DATA,this.m_initialData);t.putXObject(e.OuCalcCalculations.FORMULA_PREFERENCES,this.m_preferences);t.putXObject(e.OuCalcCalculations.MEMBER_SELECTOR_HANDLER_KEY,this.m_memberSelectorHandler);t.putXObject(e.OuCalcCalculations.FE_CONFIGURATION,this.m_feConfiguration);t.putString(e.OuCalcCalculations.FE_MODE_NAME,this.m_feModeName);let i=this.m_uiConfiguration.getCodeEditorPanelRenderConfig();let o=this.m_preferences.isDetailsEnabled()?this.m_uiConfiguration.getDetailsPanelRenderConfig():e.OuCalcPanelRenderConfig.createEmpty();let n=this.m_uiConfiguration.getAssistancePanelRenderConfig();let a=this.m_uiConfiguration.getFormulaItemsListPanelRenderConfig();e.XObjectExt.assertTrueExt(i.isSet()||o.isSet()||n.isSet()||a.isSet(),"Configure at least one plugin!");let r=e.XPromiseList.create();if(i.isSet()){r.add(this.getPluginPromiseWrapper(i,e.OuCalcCodeEditorPlugin.PLUGIN_NAME,t,e=>{this.m_codeEditorPanelHorizon=e}))}if(o.isSet()){r.add(this.getPluginPromiseWrapper(o,e.OuCalcDetailsAreaPlugin.PLUGIN_NAME,t,e=>{this.m_detailsPanelHorizon=e}))}if(n.isSet()){r.add(this.getPluginPromiseWrapper(n,e.FeFeatureToggle.isActive(e.FeFeatureToggle.DIALOG_NEW_LAYOUT)?e.OuCalcAssistancePluginV2.PLUGIN_NAME:e.OuCalcAssistancePlugin.PLUGIN_NAME,t,null))}if(a.isSet()){r.add(this.getPluginPromiseWrapper(a,e.OuCalcFormulaElementListPlugin.PLUGIN_NAME,t,null))}let l=e.XPromise.all(r);l.onThen(e=>{this.initUiEventConsumer()});return l};e.OuCalcCalculationsValidator=function(){};e.OuCalcCalculationsValidator.prototype=new e.XObject;e.OuCalcCalculationsValidator.prototype._ff_c="OuCalcCalculationsValidator";e.OuCalcCalculationsValidator.create=function(t,i,o,n,a){e.XObjectExt.assertNotNull(i);let r=new e.OuCalcCalculationsValidator;r.m_parser=e.FeParser.create(e.FeDatasourceMetadataProviderInternalImpl.create(i),t,o,n,e.FeConfigurationFactory.create(i),a);return r};e.OuCalcCalculationsValidator.prototype.m_parser=null;e.OuCalcCalculationsValidator.prototype.validate=function(t){return e.FeValidationMessageManager.createWithMessageCollection(this.m_parser.validate(e.FeFormula.create(t,e.FeFormulaPresentation.create(false))))};e.OuCalcInitialData=function(){};e.OuCalcInitialData.prototype=new e.XObject;e.OuCalcInitialData.prototype._ff_c="OuCalcInitialData";e.OuCalcInitialData.create=function(t,i,o){let n=new e.OuCalcInitialData;n.m_id=e.XStringUtils.assertNotNullOrEmpty(t);n.m_desc=i;n.m_formula=o;return n};e.OuCalcInitialData.createEdit=function(t,i,o){let n=e.OuCalcInitialData.create(t,i,o);n.m_isEdit=true;return n};e.OuCalcInitialData.prototype.m_desc=null;e.OuCalcInitialData.prototype.m_formula=null;e.OuCalcInitialData.prototype.m_id=null;e.OuCalcInitialData.prototype.m_isEdit=false;e.OuCalcInitialData.prototype.getDescription=function(){return this.m_desc};e.OuCalcInitialData.prototype.getFormula=function(){return this.m_formula};e.OuCalcInitialData.prototype.getId=function(){return this.m_id};e.OuCalcInitialData.prototype.isEdit=function(){return this.m_isEdit};e.OuCalcInitialDataBuilder=function(){};e.OuCalcInitialDataBuilder.prototype=new e.XObject;e.OuCalcInitialDataBuilder.prototype._ff_c="OuCalcInitialDataBuilder";e.OuCalcInitialDataBuilder.EMPTY_STRING="";e.OuCalcInitialDataBuilder.create=function(t,i){let o=new e.OuCalcInitialDataBuilder;o.m_datasourceProvider=e.XObjectExt.assertNotNull(t);o.m_calcName=e.OuCalcInitialDataBuilder.EMPTY_STRING;o.m_formulaTextHandler=e.FeFormulaTextHandler.create(e.FeDatasourceMetadataProviderInternalImpl.create(t).getAllUsableMeasures());o.m_formulaPresentation=e.XObjectExt.assertNotNull(i);return o};e.OuCalcInitialDataBuilder.getLocalization=function(){return e.XLocalizationCenter.getCenter().getLocalizationProviderByName(e.OuCalcDetailsAreaViewI18n.PROVIDER_NAME)};e.OuCalcInitialDataBuilder.prototype.m_calcName=null;e.OuCalcInitialDataBuilder.prototype.m_datasourceProvider=null;e.OuCalcInitialDataBuilder.prototype.m_formulaPresentation=null;e.OuCalcInitialDataBuilder.prototype.m_formulaTextHandler=null;e.OuCalcInitialDataBuilder.prototype.build=function(){let t=e.XStream.of(this.m_datasourceProvider.getAllEditableCalculations()).find(t=>e.XString.isEqual(t.getId(),this.m_calcName));e.XObjectExt.assertTrue(!t.isPresent()||t.get().getFormulaText().isPresent());if(t.isPresent()){return this.createInitialDataFromExistingCalculation(t)}return this.createInitialDataForNewCalculation()};e.OuCalcInitialDataBuilder.prototype.createInitialDataForNewCalculation=function(){let t=1;let i=this.m_datasourceProvider.getAllMemberIds();let o=e.OuCalcDetailsAreaViewI18n.FE_ID_AREA_INPUT_VALUE;let n=e.OuCalcDetailsAreaViewI18n.FE_DESC_AREA_INPUT_VALUE;let a=e.OuCalcInitialDataBuilder.getLocalization().getTextWithPlaceholder(o,e.XInteger.convertToString(t));while(this.hasExistingMeasureWithName(a,i)){a=e.OuCalcInitialDataBuilder.getLocalization().getTextWithPlaceholder(o,e.XInteger.convertToString(++t))}return e.OuCalcInitialData.create(a,e.OuCalcInitialDataBuilder.getLocalization().getTextWithPlaceholder(n,e.XInteger.convertToString(t)),e.FeFormula.create(e.OuCalcInitialDataBuilder.EMPTY_STRING,this.m_formulaPresentation))};e.OuCalcInitialDataBuilder.prototype.createInitialDataFromExistingCalculation=function(t){let i=t.get().getFormulaText().get();let o=this.m_formulaTextHandler.generateFormulaText(i);let n=e.FeFormula.create(o,this.m_formulaPresentation);return e.OuCalcInitialData.createEdit(t.get().getId(),t.get().getDescription(),n)};e.OuCalcInitialDataBuilder.prototype.hasExistingMeasureWithName=function(t,i){for(let o=0;o<i.size();o++){if(e.XString.isEqual(i.get(o),t)){return true}}return false};e.OuCalcInitialDataBuilder.prototype.setCalculationName=function(e){this.m_calcName=e;return this};e.OuCalcFormulaItemsProviderBuilder=function(){};e.OuCalcFormulaItemsProviderBuilder.prototype=new e.XObject;e.OuCalcFormulaItemsProviderBuilder.prototype._ff_c="OuCalcFormulaItemsProviderBuilder";e.OuCalcFormulaItemsProviderBuilder.create=function(){let t=new e.OuCalcFormulaItemsProviderBuilder;t.m_items=e.XList.create();return t};e.OuCalcFormulaItemsProviderBuilder.prototype.m_items=null;e.OuCalcFormulaItemsProviderBuilder.prototype.add=function(e){this.m_items.add(e)};e.OuCalcFormulaItemsProviderBuilder.prototype.addAll=function(e){this.m_items.addAll(e)};e.OuCalcFormulaItemsProviderBuilder.prototype.build=function(){e.XObjectExt.assertNotNull(this.m_items);e.XCollectionUtils.forEach(this.m_items,t=>{e.XObjectExt.assertNotNull(t)});return e.FeFormulaItemsProvider.create(this.m_items)};e.OuCalcPanelConfigBuilder=function(){};e.OuCalcPanelConfigBuilder.prototype=new e.XObject;e.OuCalcPanelConfigBuilder.prototype._ff_c="OuCalcPanelConfigBuilder";e.OuCalcPanelConfigBuilder.prototype.m_anchorTag=null;e.OuCalcPanelConfigBuilder.prototype.m_domId=null;e.OuCalcPanelConfigBuilder.prototype.setAnchorTag=function(e){this.m_anchorTag=e};e.OuCalcPanelConfigBuilder.prototype.setDomId=function(e){this.m_domId=e};e.OuCalcUIConfigurationBuilder=function(){};e.OuCalcUIConfigurationBuilder.prototype=new e.XObject;e.OuCalcUIConfigurationBuilder.prototype._ff_c="OuCalcUIConfigurationBuilder";e.OuCalcUIConfigurationBuilder.create=function(){let t=new e.OuCalcUIConfigurationBuilder;return t};e.OuCalcUIConfigurationBuilder.prototype.m_assistancePanelConfig=null;e.OuCalcUIConfigurationBuilder.prototype.m_codeEditorConfig=null;e.OuCalcUIConfigurationBuilder.prototype.m_detailsPanelConfig=null;e.OuCalcUIConfigurationBuilder.prototype.m_formulaElementsPanelConfig=null;e.OuCalcUIConfigurationBuilder.prototype.addAssistancePanelConfig=function(e){this.m_assistancePanelConfig=e;return this};e.OuCalcUIConfigurationBuilder.prototype.addCodeEditorPanelConfig=function(e){this.m_codeEditorConfig=e;return this};e.OuCalcUIConfigurationBuilder.prototype.addDetailsPanelConfig=function(e){this.m_detailsPanelConfig=e;return this};e.OuCalcUIConfigurationBuilder.prototype.addFormulaElementListPanelConfig=function(e){this.m_formulaElementsPanelConfig=e;return this};e.OuCalcUIConfigurationBuilder.prototype.build=function(){return e.OuCalcUiConfiguration.create(e.notNull(this.m_codeEditorConfig)?this.m_codeEditorConfig.getRenderConfig():null,e.notNull(this.m_detailsPanelConfig)?this.m_detailsPanelConfig.getRenderConfig():null,e.notNull(this.m_assistancePanelConfig)?this.m_assistancePanelConfig.getRenderConfig():null,e.notNull(this.m_formulaElementsPanelConfig)?this.m_formulaElementsPanelConfig.getRenderConfig():null)};e.OuAbstractCalcEventManager=function(){};e.OuAbstractCalcEventManager.prototype=new e.XObject;e.OuAbstractCalcEventManager.prototype._ff_c="OuAbstractCalcEventManager";e.OuAbstractCalcEventManager.prototype.m_notificationCenter=null;e.OuAbstractCalcEventManager.prototype.releaseObject=function(){this.m_notificationCenter=null;e.XObject.prototype.releaseObject.call(this)};e.OuAbstractCalcEventManager.prototype.setupInternal=function(e){this.m_notificationCenter=e};e.OuCalcEventManager=function(){};e.OuCalcEventManager.prototype=new e.XObject;e.OuCalcEventManager.prototype._ff_c="OuCalcEventManager";e.OuCalcEventManager.create=function(t){let i=new e.OuCalcEventManager;i.m_eventEmitter=e.OuCalcEventEmitterManager.create(t);i.m_eventListener=e.OuCalcEventListenerManager.create(t);return i};e.OuCalcEventManager.prototype.m_eventEmitter=null;e.OuCalcEventManager.prototype.m_eventListener=null;e.OuCalcEventManager.prototype.getEmitter=function(){return this.m_eventEmitter};e.OuCalcEventManager.prototype.getListener=function(){return this.m_eventListener};e.OuCalcEventManager.prototype.releaseObject=function(){this.m_eventEmitter=e.XObjectExt.release(this.m_eventEmitter);this.m_eventListener=e.XObjectExt.release(this.m_eventListener);e.XObject.prototype.releaseObject.call(this)};e.OuCalcFormulaFormatter=function(){};e.OuCalcFormulaFormatter.prototype=new e.XObject;e.OuCalcFormulaFormatter.prototype._ff_c="OuCalcFormulaFormatter";e.OuCalcFormulaFormatter.create=function(){let t=new e.OuCalcFormulaFormatter;t.m_formulaPreProcessors=e.XHashMapByString.create();t.m_formulaPreProcessors.put(e.OuCalcFormulaFormatterConstants.REMOVE_CONTROL_CHARACTERS_PREPROCESSOR,e.OuCalcRemoveExistingControlCharactersPreProcessor.create());t.m_formulaPreProcessors.put(e.OuCalcFormulaFormatterConstants.SYMBOLIC_FIELDS_PREPROCESSOR,e.OuCalcSymbolicFieldsFormulaPreProcessor.create());t.m_formulaPreProcessors.put(e.OuCalcFormulaFormatterConstants.REMOVE_BLANKS_PREPROCESSOR,e.OuCalcRemoveBlanksFormulaPreProcessor.create());t.m_formulaTokenProcessors=e.XHashMapByString.create();t.m_formulaTokenProcessors.put(e.OuCalcFormulaFormatterConstants.SINGLE_WHITE_SPACE,e.OuCalcWhiteSpaceTokenProcessor.create());t.m_formulaTokenProcessors.put(e.OuCalcFormulaFormatterConstants.DOUBLE_QUOTE,e.OuCalcDoubleQuoteTokenProcessor.create());t.m_formulaTokenProcessors.put(e.OuCalcFormulaFormatterConstants.OPEN_SQAURE_BRACKETS,e.OuCalcOpenSquareBracketTokenProcessor.create());t.m_formulaTokenProcessors.put(e.OuCalcFormulaFormatterConstants.CLOSE_SQAURE_BRACKETS,e.OuCalcCloseSquareBracketTokenProcessor.create());t.m_formulaTokenProcessors.put(e.OuCalcFormulaFormatterConstants.SPECIAL_CHARACTER,e.OuCalcSpecialCharactersTokenProcessor.create());t.m_formulaTokenProcessors.put(e.OuCalcFormulaFormatterConstants.OPEN_PARENTHESIS,e.OuCalcOpenParenthesisTokenProcessor.create());t.m_formulaTokenProcessors.put(e.OuCalcFormulaFormatterConstants.CLOSE_PARENTHESIS,e.OuCalcCloseParenthesisTokenProcessor.create());t.m_formulaTokenProcessors.put(e.OuCalcFormulaFormatterConstants.COMMA,e.OuCalcCommaTokenProcessor.create());t.m_formulaPostProcessors=e.XHashMapByString.create();t.m_formulaPostProcessors.put(e.OuCalcFormulaFormatterConstants.RESET_TEMP_FORMATTING_STATE_POSTPROCESSOR,e.OuCalcResetTempFormattingStatePostProcessor.create());t.m_formulaPostProcessors.put(e.OuCalcFormulaFormatterConstants.RESTORE_SYMBOLIC_FIELDS_POSTPROCESSOR,e.OuCalcRestoreSymbolicFieldsFormulaPostProcessor.create());return t};e.OuCalcFormulaFormatter.prototype.m_formulaPostProcessors=null;e.OuCalcFormulaFormatter.prototype.m_formulaPreProcessors=null;e.OuCalcFormulaFormatter.prototype.m_formulaTokenProcessors=null;e.OuCalcFormulaFormatter.prototype.closeSquareBracketsDoesNotExists=function(t){return e.XString.indexOf(t,e.OuCalcFormulaFormatterConstants.CLOSE_SQAURE_BRACKETS)===-1};e.OuCalcFormulaFormatter.prototype.formatFormula=function(t){let i=t;if(e.notNull(t)&&e.XString.size(t)>0){let o=e.OuCalcFormulaFormattingState.create();o.setM_formulaCopy(t);this.preProcessFormula(o);o=this.processFormulaTokens(o);this.postProcessFormula(o);o.setM_countIf(0);i=o.getM_formattedString()}return i};e.OuCalcFormulaFormatter.prototype.membersWithSpecialCharacters=function(t){return e.XString.size(t)!==0&&this.openSquareBracketsExists(t)&&this.closeSquareBracketsDoesNotExists(t)};e.OuCalcFormulaFormatter.prototype.openSquareBracketsExists=function(t){return e.XString.indexOf(t,e.OuCalcFormulaFormatterConstants.OPEN_SQAURE_BRACKETS)!==-1};e.OuCalcFormulaFormatter.prototype.postProcessFormula=function(t){this.m_formulaPostProcessors.getByKey(e.OuCalcFormulaFormatterConstants.RESET_TEMP_FORMATTING_STATE_POSTPROCESSOR).postProcess(t);this.m_formulaPostProcessors.getByKey(e.OuCalcFormulaFormatterConstants.RESTORE_SYMBOLIC_FIELDS_POSTPROCESSOR).postProcess(t)};e.OuCalcFormulaFormatter.prototype.preProcessFormula=function(t){this.m_formulaPreProcessors.getByKey(e.OuCalcFormulaFormatterConstants.REMOVE_CONTROL_CHARACTERS_PREPROCESSOR).preProcess(t);this.m_formulaPreProcessors.getByKey(e.OuCalcFormulaFormatterConstants.SYMBOLIC_FIELDS_PREPROCESSOR).preProcess(t);this.m_formulaPreProcessors.getByKey(e.OuCalcFormulaFormatterConstants.REMOVE_BLANKS_PREPROCESSOR).preProcess(t)};e.OuCalcFormulaFormatter.prototype.processFormulaTokens=function(t){let i=t;for(let t=0;t<e.XString.size(i.getM_formulaCopy());t++){let o=e.XStringBuffer.create();let n=o.appendChar(e.XString.getCharAt(i.getM_formulaCopy(),t)).toString();i.setM_currentFormulaToken(n);i.setM_currentCount(t);let a=this.m_formulaTokenProcessors.getByKey(n);if(e.isNull(a)){if(this.membersWithSpecialCharacters(i.getM_tempFormattingState())){a=this.m_formulaTokenProcessors.getByKey(e.OuCalcFormulaFormatterConstants.SPECIAL_CHARACTER)}}if(e.notNull(a)){i=a.handleToken(i);if(i.isM_exitCurrentIteration()){i.setM_exitCurrentIteration(false);continue}if(i.getM_currentCount()>t){t=i.getM_currentCount()}}else{let t=e.XStringUtils.concatenate2(i.getM_formattedString(),n);i.setM_formattedString(t)}}return i};e.OuCalcFormulaFormatterConstants={CLOSE_PARENTHESIS:")",CLOSE_SQAURE_BRACKETS:"]",COLON:":",COMMA:",",DETAILS:"Details",DOUBLE_QUOTE:'"',ENTER:"\n",EQUAL:"=",FUNCTION_ARG_PATTERN_NAME:"functionArg",NEWLINE_OR_TAB_REGEX:"[\r\n\t]",OPEN_PARENTHESIS:"(",OPEN_SQAURE_BRACKETS:"[",REGEX_AND_OR_OR:"\\b(and|or)\\b",REGEX_BLANK_SPACE:"\\s+",REGEX_END_WITH_IF:".*if$",REGEX_FORMULA_VALIDATION_DETAILS_FORMULA:"^(Details\\s*\\(([\\s\\S]*)\\))$",REGEX_PROCEEDING_MEMBER_AND_PROPERTY:"\\[(?:[^,;'=\\[\\]]+)\\](\\.\\[(?:[^,;'=\\[\\]]+)\\])?",REGEX_QUOTED_WORDS:"('(\\'|[^'])*')|(\"(\\\"|[^\\\"])*\")",REGEX_SPLIT_COMMA_WITH_SPACE:"\\s*,\\s*",REGEX_SPLIT_EQUAL_WITH_SPACE:"\\s*=\\s*",REGEX_WHITE_SPACE:"^\\s$",REMOVE_BLANKS_PREPROCESSOR:"RemoveBlanksPreProcessor",REMOVE_CONTROL_CHARACTERS_PREPROCESSOR:"RemoveControlCharactersPreProcessor",RESET_TEMP_FORMATTING_STATE_POSTPROCESSOR:"ResetTempFormattingState",RESTORE_SYMBOLIC_FIELDS_POSTPROCESSOR:"RestoreSymbolicFieldsFormulaPostProcessor",SINGLE_WHITE_SPACE:" ",SPACE:"",SPECIAL_CHARACTER:"SpecialCharacter",SYMBOLIC_FIELDS_PREPROCESSOR:"SymbolicFieldsPreProcessor",TAB:"\t",UNDERSCORE:"_"};e.OuCalcResetTempFormattingStatePostProcessor=function(){};e.OuCalcResetTempFormattingStatePostProcessor.prototype=new e.XObject;e.OuCalcResetTempFormattingStatePostProcessor.prototype._ff_c="OuCalcResetTempFormattingStatePostProcessor";e.OuCalcResetTempFormattingStatePostProcessor.create=function(){return new e.OuCalcResetTempFormattingStatePostProcessor};e.OuCalcResetTempFormattingStatePostProcessor.prototype.addSpace=function(t){let i;i=e.XStringUtils.concatenate2(t,e.OuCalcFormulaFormatterConstants.SPACE);return i};e.OuCalcResetTempFormattingStatePostProcessor.prototype.postProcess=function(t){if(e.XString.size(t.getM_tempFormattingState())>0){t.setM_formattedString(this.addSpace(t.getM_tempFormattingState()));t.setM_tempFormattingState(e.OuCalcFormulaFormatterConstants.SPACE)}return t};e.OuCalcRestoreSymbolicFieldsFormulaPostProcessor=function(){};e.OuCalcRestoreSymbolicFieldsFormulaPostProcessor.prototype=new e.XObject;e.OuCalcRestoreSymbolicFieldsFormulaPostProcessor.prototype._ff_c="OuCalcRestoreSymbolicFieldsFormulaPostProcessor";e.OuCalcRestoreSymbolicFieldsFormulaPostProcessor.create=function(){return new e.OuCalcRestoreSymbolicFieldsFormulaPostProcessor};e.OuCalcRestoreSymbolicFieldsFormulaPostProcessor.prototype.postProcess=function(e){let t=this.restoreSymbolicFields(e.getM_symbolicFields(),e.getM_formattedString());e.setM_formattedString(t);return e};e.OuCalcRestoreSymbolicFieldsFormulaPostProcessor.prototype.restoreSymbolicFields=function(t,i){let o=i;let n=t.getIterator();while(n.hasNext()){let t=n.next();let i=e.XMath.max(0,e.XString.size(t)-2);let a=e.XStringBuffer.create();for(let t=0;t<i;t++){a.append(e.OuCalcFormulaFormatterConstants.UNDERSCORE)}let r=e.XStringUtils.concatenate3(e.OuCalcFormulaFormatterConstants.OPEN_SQAURE_BRACKETS,a.toString(),e.OuCalcFormulaFormatterConstants.CLOSE_SQAURE_BRACKETS);let l=e.XString.indexOf(o,r);if(l!==-1){let i=e.XString.substring(o,0,l);let n=e.XString.substring(o,l+e.XString.size(r),-1);o=e.XStringUtils.concatenate3(i,t,n)}}return o};e.OuCalcRemoveBlanksFormulaPreProcessor=function(){};e.OuCalcRemoveBlanksFormulaPreProcessor.prototype=new e.XObject;e.OuCalcRemoveBlanksFormulaPreProcessor.prototype._ff_c="OuCalcRemoveBlanksFormulaPreProcessor";e.OuCalcRemoveBlanksFormulaPreProcessor.create=function(){return new e.OuCalcRemoveBlanksFormulaPreProcessor};e.OuCalcRemoveBlanksFormulaPreProcessor.prototype.findSquareBrackets=function(t){let i=e.XList.create();let o=e.XList.create();for(let n=0;n<e.XString.size(t);n++){let a=e.XStringBuffer.create();let r=a.appendChar(e.XString.getCharAt(t,n)).toString();if(this.isOpenSquareBracket(r)){o.add(e.OuCalcSquareBracketStackItem.create(n))}else if(this.isCloseSquareBracket(r)&&!o.isEmpty()){let a=o.removeAt(o.size()-1);let r=e.XString.substring(t,a.getPos(),n+1);let l=e.XString.containsString(r,e.OuCalcFormulaFormatterConstants.COLON);let s=e.OuCalcSquareBracket.create(a.getPos(),n+1,e.XString.substring(t,a.getPos(),n+1),l);i.add(s)}}return i};e.OuCalcRemoveBlanksFormulaPreProcessor.prototype.formatContent=function(t){let i=t;if(e.XString.containsString(i,e.OuCalcFormulaFormatterConstants.EQUAL)){i=this.removeMemberBrackets(i);let t=e.XStringTokenizer.splitString(i,e.OuCalcFormulaFormatterConstants.REGEX_SPLIT_EQUAL_WITH_SPACE);let o=e.XString.trim(t.get(0));o=e.XRegex.getInstance().replaceAll(o,e.OuCalcFormulaFormatterConstants.REGEX_BLANK_SPACE,e.OuCalcFormulaFormatterConstants.SPACE,false,false);let n=e.XString.trim(t.get(1));let a=e.XStringTokenizer.splitString(n,e.OuCalcFormulaFormatterConstants.REGEX_SPLIT_COMMA_WITH_SPACE);let r=this.join(",",a);return e.XStringUtils.concatenate5(e.OuCalcFormulaFormatterConstants.OPEN_SQAURE_BRACKETS,o,e.OuCalcFormulaFormatterConstants.EQUAL,r,e.OuCalcFormulaFormatterConstants.CLOSE_SQAURE_BRACKETS)}else{return e.XRegex.getInstance().replaceAll(i,e.OuCalcFormulaFormatterConstants.REGEX_BLANK_SPACE,"",false,false)}};e.OuCalcRemoveBlanksFormulaPreProcessor.prototype.isCloseSquareBracket=function(t){return e.XString.isEqual(t,e.OuCalcFormulaFormatterConstants.CLOSE_SQAURE_BRACKETS)};e.OuCalcRemoveBlanksFormulaPreProcessor.prototype.isOpenSquareBracket=function(t){return e.XString.isEqual(t,e.OuCalcFormulaFormatterConstants.OPEN_SQAURE_BRACKETS)};e.OuCalcRemoveBlanksFormulaPreProcessor.prototype.join=function(t,i){if(e.isNull(i)||i.size()===0){return""}let o=e.XStringBuffer.create();o.append(i.get(0));for(let e=1;e<i.size();e++){o.append(t).append(i.get(e))}return o.toString()};e.OuCalcRemoveBlanksFormulaPreProcessor.prototype.preProcess=function(e){e.setM_formulaCopy(this.removeBlanks(e.getM_formulaCopy()));return e};e.OuCalcRemoveBlanksFormulaPreProcessor.prototype.removeBlanks=function(t){let i=this.findSquareBrackets(t);let o=e.XStringBuffer.create();let n;let a;if(i.size()===0){o.append(this.removeNonQuotedBlank(t))}else{for(let r=0;r<i.size();r++){a=i.get(r);if(r===0){o.append(this.removeNonQuotedBlank(e.XString.substring(t,0,a.getStart())));if(a.isPOV()){o.append(this.formatContent(a.getContent()))}else{o.append(a.getContent())}}else if(r!==i.size()-1){n=i.get(r-1);o.append(this.removeNonQuotedBlank(e.XString.substring(t,n.getEnd(),a.getStart())));if(a.isPOV()){o.append(this.formatContent(a.getContent()))}else{o.append(a.getContent())}}else{n=i.get(r-1);o.append(this.removeNonQuotedBlank(e.XString.substring(t,n.getEnd(),a.getStart())));if(a.isPOV()){o.append(this.formatContent(a.getContent()))}else{o.append(a.getContent())}o.append(this.removeNonQuotedBlank(e.XString.substring(t,a.getEnd(),e.XString.size(t))))}}}if(i.size()===1){o.append(this.removeNonQuotedBlank(e.XString.substring(t,i.get(0).getEnd(),e.XString.size(t))))}return o.toString()};e.OuCalcRemoveBlanksFormulaPreProcessor.prototype.removeBlanksExKeywords=function(t){let i=e.XStringTokenizer.splitString(t,e.OuCalcFormulaFormatterConstants.REGEX_BLANK_SPACE);let o=e.XStringBuffer.create();for(let t=0;t<i.size();t++){let n=i.get(t);n=e.XRegex.getInstance().replaceAll(n,e.OuCalcFormulaFormatterConstants.REGEX_AND_OR_OR,null,true,true);o.append(n);if(t<i.size()-1){o.append(" ")}}return o.toString()};e.OuCalcRemoveBlanksFormulaPreProcessor.prototype.removeMemberBrackets=function(t){let i=t;if(e.XString.containsString(i,e.OuCalcFormulaFormatterConstants.OPEN_SQAURE_BRACKETS)&&e.XString.containsString(i,e.OuCalcFormulaFormatterConstants.CLOSE_SQAURE_BRACKETS)){i=e.XString.trim(i);if(e.XString.startsWith(i,e.OuCalcFormulaFormatterConstants.OPEN_SQAURE_BRACKETS)){i=e.XString.substring(i,1,-1)}if(e.XString.endsWith(i,e.OuCalcFormulaFormatterConstants.CLOSE_SQAURE_BRACKETS)){i=e.XString.substring(i,0,e.XString.size(i)-1)}}return i};e.OuCalcRemoveBlanksFormulaPreProcessor.prototype.removeNonQuotedBlank=function(t){let i=t;let o=e.XRegex.getInstance().getAllGroupsOfMatch(i,e.OuCalcFormulaFormatterConstants.REGEX_QUOTED_WORDS,true);if(e.notNull(o)&&o.size()>0){let n=o.getIterator();while(n.hasNext()){let t=n.next();let o=this.repeat(e.OuCalcFormulaFormatterConstants.UNDERSCORE,e.XString.size(t));i=e.XString.replace(i,t,o);i=this.removeBlanksExKeywords(i)}let a=o.getIterator();while(a.hasNext()){let t=a.next();let o=this.repeat(e.OuCalcFormulaFormatterConstants.UNDERSCORE,e.XString.size(t));i=e.XString.replace(i,o,t)}return t}else{return this.removeBlanksExKeywords(i)}};e.OuCalcRemoveBlanksFormulaPreProcessor.prototype.repeat=function(t,i){let o=e.XStringBuffer.create();for(let e=0;e<i;e++){o.append(t)}return o.toString()};e.OuCalcRemoveExistingControlCharactersPreProcessor=function(){};e.OuCalcRemoveExistingControlCharactersPreProcessor.prototype=new e.XObject;e.OuCalcRemoveExistingControlCharactersPreProcessor.prototype._ff_c="OuCalcRemoveExistingControlCharactersPreProcessor";e.OuCalcRemoveExistingControlCharactersPreProcessor.create=function(){return new e.OuCalcRemoveExistingControlCharactersPreProcessor};e.OuCalcRemoveExistingControlCharactersPreProcessor.prototype.preProcess=function(t){let i=e.XRegex.getInstance().replaceAll(t.getM_formulaCopy(),e.OuCalcFormulaFormatterConstants.NEWLINE_OR_TAB_REGEX,e.OuCalcFormulaFormatterConstants.SPACE,false,false);t.setM_formulaCopy(i);return t};e.OuCalcSymbolicFieldsFormulaPreProcessor=function(){};e.OuCalcSymbolicFieldsFormulaPreProcessor.prototype=new e.XObject;e.OuCalcSymbolicFieldsFormulaPreProcessor.prototype._ff_c="OuCalcSymbolicFieldsFormulaPreProcessor";e.OuCalcSymbolicFieldsFormulaPreProcessor.create=function(){return new e.OuCalcSymbolicFieldsFormulaPreProcessor};e.OuCalcSymbolicFieldsFormulaPreProcessor.prototype.escapeSymbolicFields=function(t){return e.XRegex.getInstance().replaceMatches(t,e.OuCalcFormulaFormatterConstants.REGEX_PROCEEDING_MEMBER_AND_PROPERTY,e.OuCalcFormulaFormatterConstants.OPEN_SQAURE_BRACKETS,e.OuCalcFormulaFormatterConstants.CLOSE_SQAURE_BRACKETS,e.OuCalcFormulaFormatterConstants.UNDERSCORE,2,false)};e.OuCalcSymbolicFieldsFormulaPreProcessor.prototype.getSymbolicFields=function(t){let i=e.XRegex.getInstance().getAllGroupsOfMatch(t,e.OuCalcFormulaFormatterConstants.REGEX_PROCEEDING_MEMBER_AND_PROPERTY,true);return i};e.OuCalcSymbolicFieldsFormulaPreProcessor.prototype.preProcess=function(e){let t=this.getSymbolicFields(e.getM_formulaCopy());e.setM_symbolicFields(t);let i=this.escapeSymbolicFields(e.getM_formulaCopy());e.setM_formulaCopy(i);return e};e.OuCalcBaseTokenProcessor=function(){};e.OuCalcBaseTokenProcessor.prototype=new e.XObject;e.OuCalcBaseTokenProcessor.prototype._ff_c="OuCalcBaseTokenProcessor";e.OuCalcBaseTokenProcessor.prototype.isComma=function(t){return e.XString.isEqual(t,e.OuCalcFormulaFormatterConstants.COMMA)};e.OuCalcBaseTokenProcessor.prototype.isOpenParenthesis=function(t){return e.XString.isEqual(t,e.OuCalcFormulaFormatterConstants.OPEN_PARENTHESIS)};e.OuCalcFormulaFormattingState=function(){};e.OuCalcFormulaFormattingState.prototype=new e.XObject;e.OuCalcFormulaFormattingState.prototype._ff_c="OuCalcFormulaFormattingState";e.OuCalcFormulaFormattingState.create=function(){let t=new e.OuCalcFormulaFormattingState;t.setM_operators(e.XList.create());return t};e.OuCalcFormulaFormattingState.prototype.m_countIf=0;e.OuCalcFormulaFormattingState.prototype.m_currentCount=0;e.OuCalcFormulaFormattingState.prototype.m_currentFormulaToken=null;e.OuCalcFormulaFormattingState.prototype.m_exitCurrentIteration=false;e.OuCalcFormulaFormattingState.prototype.m_formattedString=null;e.OuCalcFormulaFormattingState.prototype.m_formulaCopy=null;e.OuCalcFormulaFormattingState.prototype.m_operators=null;e.OuCalcFormulaFormattingState.prototype.m_symbolicFields=null;e.OuCalcFormulaFormattingState.prototype.m_tempFormattingState="";e.OuCalcFormulaFormattingState.prototype.getM_countIf=function(){return this.m_countIf};e.OuCalcFormulaFormattingState.prototype.getM_currentCount=function(){return this.m_currentCount};e.OuCalcFormulaFormattingState.prototype.getM_currentFormulaToken=function(){return this.m_currentFormulaToken};e.OuCalcFormulaFormattingState.prototype.getM_formattedString=function(){return this.m_formattedString};e.OuCalcFormulaFormattingState.prototype.getM_formulaCopy=function(){return this.m_formulaCopy};e.OuCalcFormulaFormattingState.prototype.getM_operators=function(){return this.m_operators};e.OuCalcFormulaFormattingState.prototype.getM_symbolicFields=function(){return this.m_symbolicFields};e.OuCalcFormulaFormattingState.prototype.getM_tempFormattingState=function(){return this.m_tempFormattingState};e.OuCalcFormulaFormattingState.prototype.isM_exitCurrentIteration=function(){return this.m_exitCurrentIteration};e.OuCalcFormulaFormattingState.prototype.setM_countIf=function(e){this.m_countIf=e};e.OuCalcFormulaFormattingState.prototype.setM_currentCount=function(e){this.m_currentCount=e};e.OuCalcFormulaFormattingState.prototype.setM_currentFormulaToken=function(e){this.m_currentFormulaToken=e};e.OuCalcFormulaFormattingState.prototype.setM_exitCurrentIteration=function(e){this.m_exitCurrentIteration=e};e.OuCalcFormulaFormattingState.prototype.setM_formattedString=function(e){this.m_formattedString=e};e.OuCalcFormulaFormattingState.prototype.setM_formulaCopy=function(e){this.m_formulaCopy=e};e.OuCalcFormulaFormattingState.prototype.setM_operators=function(e){this.m_operators=e};e.OuCalcFormulaFormattingState.prototype.setM_symbolicFields=function(e){this.m_symbolicFields=e};e.OuCalcFormulaFormattingState.prototype.setM_tempFormattingState=function(e){this.m_tempFormattingState=e};e.OuCalcSquareBracket=function(){};e.OuCalcSquareBracket.prototype=new e.XObject;e.OuCalcSquareBracket.prototype._ff_c="OuCalcSquareBracket";e.OuCalcSquareBracket.create=function(t,i,o,n){let a=new e.OuCalcSquareBracket;a.m_start=t;a.m_end=i;a.m_content=o;a.m_isPov=n;return a};e.OuCalcSquareBracket.prototype.m_content=null;e.OuCalcSquareBracket.prototype.m_end=0;e.OuCalcSquareBracket.prototype.m_isPov=false;e.OuCalcSquareBracket.prototype.m_start=0;e.OuCalcSquareBracket.prototype.getContent=function(){return this.m_content};e.OuCalcSquareBracket.prototype.getEnd=function(){return this.m_end};e.OuCalcSquareBracket.prototype.getStart=function(){return this.m_start};e.OuCalcSquareBracket.prototype.isPOV=function(){return this.m_isPov};e.OuCalcSquareBracketStackItem=function(){};e.OuCalcSquareBracketStackItem.prototype=new e.XObject;e.OuCalcSquareBracketStackItem.prototype._ff_c="OuCalcSquareBracketStackItem";e.OuCalcSquareBracketStackItem.create=function(t){let i=new e.OuCalcSquareBracketStackItem;i.pos=t;return i};e.OuCalcSquareBracketStackItem.prototype.pos=0;e.OuCalcSquareBracketStackItem.prototype.getPos=function(){return this.pos};e.OuCalcCustomModeRulesFactory=function(){};e.OuCalcCustomModeRulesFactory.prototype=new e.XObject;e.OuCalcCustomModeRulesFactory.prototype._ff_c="OuCalcCustomModeRulesFactory";e.OuCalcCustomModeRulesFactory.ROOT_NODE="start";e.OuCalcCustomModeRulesFactory.create=function(t){let i=new e.OuCalcCustomModeRulesFactory;i.m_enableModelPrefix=t;return i};e.OuCalcCustomModeRulesFactory.prototype.m_enableModelPrefix=false;e.OuCalcCustomModeRulesFactory.prototype.buildRules=function(t,i){let o=e.PrFactory.createStructure();let n=o.putNewList(e.OuCalcCustomModeRulesFactory.ROOT_NODE);this.createCommonRules(t,n);if(i.dimensionsSupported()){this.createDimensionRules(n)}return o};e.OuCalcCustomModeRulesFactory.prototype.createCommonRules=function(t,i){e.OuCalcComparisonConditionHighlightRule.create().build(i,t);e.OuCalcFunctionHighlightRule.create().build(i,t);e.OuCalcLogicalConditionHighlightRule.create().build(i,t);e.OuCalcOperatorHighlightRule.create().build(i,t);e.OuCalcCommaHighlightRule.create().build(i);e.OuCalcMeasureHighlightRule.create(this.m_enableModelPrefix).build(i);e.OuCalcParenthesisHighlightRule.create().build(i);e.OuCalcSemicolonHighlightRule.create().build(i);e.OuCalcStringHighlightRule.create().build(i);e.OuCalcLiteralHighlightRule.create().build(i);e.OuCalcPercentageHighlightRule.create().build(i,t)};e.OuCalcCustomModeRulesFactory.prototype.createDimensionRules=function(t){e.OuCalcDimensionHierarchyHighlightRule.create().build(t);e.OuCalcDimensionHighlightRule.create().build(t);e.OuCalcDimensionPropertyHighlightRule.create().build(t)};e.OuCalcCommaHighlightRule=function(){};e.OuCalcCommaHighlightRule.prototype=new e.XObject;e.OuCalcCommaHighlightRule.prototype._ff_c="OuCalcCommaHighlightRule";e.OuCalcCommaHighlightRule.FE_COMMA_CSS_NAME="feComma";e.OuCalcCommaHighlightRule.FE_COMMA_REGEX=",";e.OuCalcCommaHighlightRule.create=function(){return new e.OuCalcCommaHighlightRule};e.OuCalcCommaHighlightRule.prototype.build=function(t){let i=e.PrFactory.createStructure();i.putString(e.OuCalcHighlightRulesConstant.TOKEN,e.OuCalcCommaHighlightRule.FE_COMMA_CSS_NAME);i.putString(e.OuCalcHighlightRulesConstant.REGEX,e.OuCalcCommaHighlightRule.FE_COMMA_REGEX);t.add(i)};e.OuCalcComparisonConditionHighlightRule=function(){};e.OuCalcComparisonConditionHighlightRule.prototype=new e.XObject;e.OuCalcComparisonConditionHighlightRule.prototype._ff_c="OuCalcComparisonConditionHighlightRule";e.OuCalcComparisonConditionHighlightRule.FE_COMPARISON_CSS_NAME="feComparisonConditions";e.OuCalcComparisonConditionHighlightRule.FE_LOGICAL_CONDITIONS_REGEX="\\b(?:AND|OR|NOT|XOR)\\b";e.OuCalcComparisonConditionHighlightRule.create=function(){return new e.OuCalcComparisonConditionHighlightRule};e.OuCalcComparisonConditionHighlightRule.prototype.build=function(t,i){let o="";let n=i.getConditions();let a=n.getIterator();if(a.hasNext()){while(a.hasNext()){let t=a.next();let i=e.XRegex.getInstance().getAllGroupsOfMatch(t.getDisplayName(),e.OuCalcComparisonConditionHighlightRule.FE_LOGICAL_CONDITIONS_REGEX,true);if(i.isEmpty()){o=e.XStringUtils.concatenate3(o,t.getDisplayName(),e.OuCalcHighlightRulesConstant.REGEX_OR)}}o=e.XString.substring(o,0,e.XString.size(o)-1);let i=e.PrFactory.createStructure();i.putString(e.OuCalcHighlightRulesConstant.TOKEN,e.OuCalcComparisonConditionHighlightRule.FE_COMPARISON_CSS_NAME);i.putString(e.OuCalcHighlightRulesConstant.REGEX,o);t.add(i)}};e.OuCalcDimensionHierarchyHighlightRule=function(){};e.OuCalcDimensionHierarchyHighlightRule.prototype=new e.XObject;e.OuCalcDimensionHierarchyHighlightRule.prototype._ff_c="OuCalcDimensionHierarchyHighlightRule";e.OuCalcDimensionHierarchyHighlightRule.FE_DIMENSION_HIERARCHY_CSS_NAME="feDimensionHierarchy";e.OuCalcDimensionHierarchyHighlightRule.FE_DIMENSION_HIERARCHY_REGEX="\\[h\\s*\\/\\s*([^\\]]*)\\]";e.OuCalcDimensionHierarchyHighlightRule.create=function(){return new e.OuCalcDimensionHierarchyHighlightRule};e.OuCalcDimensionHierarchyHighlightRule.prototype.build=function(t){let i=e.PrFactory.createStructure();i.putString(e.OuCalcHighlightRulesConstant.TOKEN,e.OuCalcDimensionHierarchyHighlightRule.FE_DIMENSION_HIERARCHY_CSS_NAME);i.putString(e.OuCalcHighlightRulesConstant.REGEX,e.OuCalcDimensionHierarchyHighlightRule.FE_DIMENSION_HIERARCHY_REGEX);t.add(i)};e.OuCalcDimensionHighlightRule=function(){};e.OuCalcDimensionHighlightRule.prototype=new e.XObject;e.OuCalcDimensionHighlightRule.prototype._ff_c="OuCalcDimensionHighlightRule";e.OuCalcDimensionHighlightRule.FE_DIMENSION_CSS_NAME="feDimensions";e.OuCalcDimensionHighlightRule.FE_DIMENSION_REGEX="\\[d\\/([^\\]]*)\\]";e.OuCalcDimensionHighlightRule.create=function(){return new e.OuCalcDimensionHighlightRule};e.OuCalcDimensionHighlightRule.prototype.build=function(t){let i=e.PrFactory.createStructure();i.putString(e.OuCalcHighlightRulesConstant.TOKEN,e.OuCalcDimensionHighlightRule.FE_DIMENSION_CSS_NAME);i.putString(e.OuCalcHighlightRulesConstant.REGEX,e.OuCalcDimensionHighlightRule.FE_DIMENSION_REGEX);t.add(i)};e.OuCalcDimensionPropertyHighlightRule=function(){};e.OuCalcDimensionPropertyHighlightRule.prototype=new e.XObject;e.OuCalcDimensionPropertyHighlightRule.prototype._ff_c="OuCalcDimensionPropertyHighlightRule";e.OuCalcDimensionPropertyHighlightRule.FE_DIMENSION_PROPERTY_CSS_NAME="feDimensionProperty";e.OuCalcDimensionPropertyHighlightRule.FE_DIMENSION_PROPERTY_REGEX="\\[p\\s*\\/\\s*([^\\]]*)\\]";e.OuCalcDimensionPropertyHighlightRule.create=function(){return new e.OuCalcDimensionPropertyHighlightRule};e.OuCalcDimensionPropertyHighlightRule.prototype.build=function(t){let i=e.PrFactory.createStructure();i.putString(e.OuCalcHighlightRulesConstant.TOKEN,e.OuCalcDimensionPropertyHighlightRule.FE_DIMENSION_PROPERTY_CSS_NAME);i.putString(e.OuCalcHighlightRulesConstant.REGEX,e.OuCalcDimensionPropertyHighlightRule.FE_DIMENSION_PROPERTY_REGEX);t.add(i)};e.OuCalcFunctionHighlightRule=function(){};e.OuCalcFunctionHighlightRule.prototype=new e.XObject;e.OuCalcFunctionHighlightRule.prototype._ff_c="OuCalcFunctionHighlightRule";e.OuCalcFunctionHighlightRule.FE_FUNCTION_CSS_NAME="feFunctions";e.OuCalcFunctionHighlightRule.create=function(){return new e.OuCalcFunctionHighlightRule};e.OuCalcFunctionHighlightRule.prototype.build=function(t,i){let o="";let n=i.getFunctions();let a=n.getIterator();if(a.hasNext()){while(a.hasNext()){let t=a.next();o=e.XStringUtils.concatenate3(o,t.getDisplayName(),e.OuCalcHighlightRulesConstant.REGEX_OR)}o=e.XString.substring(o,0,e.XString.size(o)-1);o=e.XStringUtils.concatenate3(e.OuCalcHighlightRulesConstant.FE_FUNCTION_REGEX_PREFIX,o,e.OuCalcHighlightRulesConstant.FE_FUNCTION_REGEX_POSTFIX);let i=e.PrFactory.createStructure();i.putString(e.OuCalcHighlightRulesConstant.TOKEN,e.OuCalcFunctionHighlightRule.FE_FUNCTION_CSS_NAME);i.putString(e.OuCalcHighlightRulesConstant.REGEX,o);i.putBoolean(e.OuCalcHighlightRulesConstant.CASE_INSENSITIVE,true);t.add(i)}};e.OuCalcHighlightRulesConstant={CASE_INSENSITIVE:"caseInsensitive",CLOSE_SQUARE_BRACKETS:"]",ESCAPE_CHAR:"\\",FE_FUNCTION_REGEX_POSTFIX:")\\b",FE_FUNCTION_REGEX_PREFIX:"\\b(?:",HIPEN:"-",OPEN_SQUARE_BRACKETS:"[",REGEX:"regex",REGEX_OR:"|",TOKEN:"token"};e.OuCalcLiteralHighlightRule=function(){};e.OuCalcLiteralHighlightRule.prototype=new e.XObject;e.OuCalcLiteralHighlightRule.prototype._ff_c="OuCalcLiteralHighlightRule";e.OuCalcLiteralHighlightRule.FE_LITERAL_CSS_NAME="feLiteral";e.OuCalcLiteralHighlightRule.FE_LITERAL_REGEX="\\b(?:TRUE|FALSE|YES|NO|NULL)\\b";e.OuCalcLiteralHighlightRule.create=function(){return new e.OuCalcLiteralHighlightRule};e.OuCalcLiteralHighlightRule.prototype.build=function(t){let i=e.PrFactory.createStructure();i.putString(e.OuCalcHighlightRulesConstant.TOKEN,e.OuCalcLiteralHighlightRule.FE_LITERAL_CSS_NAME);i.putString(e.OuCalcHighlightRulesConstant.REGEX,e.OuCalcLiteralHighlightRule.FE_LITERAL_REGEX);i.putBoolean(e.OuCalcHighlightRulesConstant.CASE_INSENSITIVE,true);t.add(i)};e.OuCalcLogicalConditionHighlightRule=function(){};e.OuCalcLogicalConditionHighlightRule.prototype=new e.XObject;e.OuCalcLogicalConditionHighlightRule.prototype._ff_c="OuCalcLogicalConditionHighlightRule";e.OuCalcLogicalConditionHighlightRule.FE_LOGICAL_CONDITIONS_REGEX="\\b(?:AND|OR|NOT|XOR)\\b";e.OuCalcLogicalConditionHighlightRule.FE_LOGICAL_CONDITION_CSS_NAME="feLogicalConditions";e.OuCalcLogicalConditionHighlightRule.create=function(){return new e.OuCalcLogicalConditionHighlightRule};e.OuCalcLogicalConditionHighlightRule.prototype.build=function(t,i){let o="";let n=i.getConditions();let a=n.getIterator();if(a.hasNext()){while(a.hasNext()){let t=a.next();let i=e.XRegex.getInstance().getAllGroupsOfMatch(t.getDisplayName(),e.OuCalcLogicalConditionHighlightRule.FE_LOGICAL_CONDITIONS_REGEX,true);if(i.hasElements()){o=e.XStringUtils.concatenate3(o,t.getDisplayName(),e.OuCalcHighlightRulesConstant.REGEX_OR)}}o=e.XString.substring(o,0,e.XString.size(o)-1);o=e.XStringUtils.concatenate3(e.OuCalcHighlightRulesConstant.FE_FUNCTION_REGEX_PREFIX,o,e.OuCalcHighlightRulesConstant.FE_FUNCTION_REGEX_POSTFIX);let i=e.PrFactory.createStructure();i.putString(e.OuCalcHighlightRulesConstant.TOKEN,e.OuCalcLogicalConditionHighlightRule.FE_LOGICAL_CONDITION_CSS_NAME);i.putString(e.OuCalcHighlightRulesConstant.REGEX,o);i.putBoolean(e.OuCalcHighlightRulesConstant.CASE_INSENSITIVE,true);t.add(i)}};e.OuCalcMeasureHighlightRule=function(){};e.OuCalcMeasureHighlightRule.prototype=new e.XObject;e.OuCalcMeasureHighlightRule.prototype._ff_c="OuCalcMeasureHighlightRule";e.OuCalcMeasureHighlightRule.FE_MEASURE_CSS_NAME="feMeasures";e.OuCalcMeasureHighlightRule.FE_MEASURE_REGEX="\\[(?!d\\/|p\\/|h\\/)[^\\/\\]]*\\]";e.OuCalcMeasureHighlightRule.FE_MEASURE_WITH_DATASOURCE_REGEX='\\[(?!d\\/|p\\/|h\\/)("[^"]*":)?[^\\/\\]]*\\]';e.OuCalcMeasureHighlightRule.create=function(t){let i=new e.OuCalcMeasureHighlightRule;i.m_enableModelPrefix=t;return i};e.OuCalcMeasureHighlightRule.prototype.m_enableModelPrefix=false;e.OuCalcMeasureHighlightRule.prototype.build=function(t){let i=e.PrFactory.createStructure();i.putString(e.OuCalcHighlightRulesConstant.TOKEN,e.OuCalcMeasureHighlightRule.FE_MEASURE_CSS_NAME);i.putString(e.OuCalcHighlightRulesConstant.REGEX,this.m_enableModelPrefix?e.OuCalcMeasureHighlightRule.FE_MEASURE_WITH_DATASOURCE_REGEX:e.OuCalcMeasureHighlightRule.FE_MEASURE_REGEX);t.add(i)};e.OuCalcOperatorHighlightRule=function(){};e.OuCalcOperatorHighlightRule.prototype=new e.XObject;e.OuCalcOperatorHighlightRule.prototype._ff_c="OuCalcOperatorHighlightRule";e.OuCalcOperatorHighlightRule.FE_OPERATOR_CSS_NAME="feOperators";e.OuCalcOperatorHighlightRule.QUANTIFIER="{1,2}";e.OuCalcOperatorHighlightRule.create=function(){return new e.OuCalcOperatorHighlightRule};e.OuCalcOperatorHighlightRule.prototype.build=function(t,i){let o="";let n=i.getOperators();let a=n.getIterator();if(a.hasNext()){while(a.hasNext()){let t=a.next();if(t.getCategory().isTypeOf(e.FeFormulaItemCategory.MATHEMATICAL)){if(e.XString.isEqual(t.getDisplayName(),e.OuCalcHighlightRulesConstant.HIPEN)){o=e.XStringUtils.concatenate3(o,e.OuCalcHighlightRulesConstant.ESCAPE_CHAR,t.getDisplayName())}else{o=e.XStringUtils.concatenate2(o,t.getDisplayName())}}}o=e.XStringUtils.concatenate4(e.OuCalcHighlightRulesConstant.OPEN_SQUARE_BRACKETS,o,e.OuCalcHighlightRulesConstant.CLOSE_SQUARE_BRACKETS,e.OuCalcOperatorHighlightRule.QUANTIFIER);let i=e.PrFactory.createStructure();i.putString(e.OuCalcHighlightRulesConstant.TOKEN,e.OuCalcOperatorHighlightRule.FE_OPERATOR_CSS_NAME);i.putString(e.OuCalcHighlightRulesConstant.REGEX,o);t.add(i)}};e.OuCalcParenthesisHighlightRule=function(){};e.OuCalcParenthesisHighlightRule.prototype=new e.XObject;e.OuCalcParenthesisHighlightRule.prototype._ff_c="OuCalcParenthesisHighlightRule";e.OuCalcParenthesisHighlightRule.FE_PARENTHESIS_CSS_NAME="feLeftAndRightParenthesis";e.OuCalcParenthesisHighlightRule.FE_PARENTHESIS_REGEX="[()]";e.OuCalcParenthesisHighlightRule.create=function(){return new e.OuCalcParenthesisHighlightRule};e.OuCalcParenthesisHighlightRule.prototype.build=function(t){let i=e.PrFactory.createStructure();i.putString(e.OuCalcHighlightRulesConstant.TOKEN,e.OuCalcParenthesisHighlightRule.FE_PARENTHESIS_CSS_NAME);i.putString(e.OuCalcHighlightRulesConstant.REGEX,e.OuCalcParenthesisHighlightRule.FE_PARENTHESIS_REGEX);t.add(i)};e.OuCalcPercentageHighlightRule=function(){};e.OuCalcPercentageHighlightRule.prototype=new e.XObject;e.OuCalcPercentageHighlightRule.prototype._ff_c="OuCalcPercentageHighlightRule";e.OuCalcPercentageHighlightRule.FE_PERCENTAGE_CSS_NAME="feFunctions";e.OuCalcPercentageHighlightRule.FE_PERCENTAGE_GRANDTOTAL_REGEX="%GRANDTOTAL";e.OuCalcPercentageHighlightRule.FE_PERCENTAGE_SUBTOTAL_REGEX="%SUBTOTAL";e.OuCalcPercentageHighlightRule.create=function(){return new e.OuCalcPercentageHighlightRule};e.OuCalcPercentageHighlightRule.prototype.build=function(t,i){let o=i.getFunctions();let n=o.getIterator();while(n.hasNext()){let i=n.next();if(e.XString.isEqual(i.getDisplayName(),e.OuCalcPercentageHighlightRule.FE_PERCENTAGE_GRANDTOTAL_REGEX)){let i=e.PrFactory.createStructure();i.putString(e.OuCalcHighlightRulesConstant.TOKEN,e.OuCalcPercentageHighlightRule.FE_PERCENTAGE_CSS_NAME);i.putString(e.OuCalcHighlightRulesConstant.REGEX,e.OuCalcPercentageHighlightRule.FE_PERCENTAGE_GRANDTOTAL_REGEX);t.add(i)}else if(e.XString.isEqual(i.getDisplayName(),e.OuCalcPercentageHighlightRule.FE_PERCENTAGE_SUBTOTAL_REGEX)){let i=e.PrFactory.createStructure();i.putString(e.OuCalcHighlightRulesConstant.TOKEN,e.OuCalcPercentageHighlightRule.FE_PERCENTAGE_CSS_NAME);i.putString(e.OuCalcHighlightRulesConstant.REGEX,e.OuCalcPercentageHighlightRule.FE_PERCENTAGE_SUBTOTAL_REGEX);t.add(i)}}};e.OuCalcSemicolonHighlightRule=function(){};e.OuCalcSemicolonHighlightRule.prototype=new e.XObject;e.OuCalcSemicolonHighlightRule.prototype._ff_c="OuCalcSemicolonHighlightRule";e.OuCalcSemicolonHighlightRule.FE_SEMICOLON_CSS_NAME="feSemicolon";e.OuCalcSemicolonHighlightRule.FE_SEMICOLON_REGEX=";";e.OuCalcSemicolonHighlightRule.create=function(){return new e.OuCalcSemicolonHighlightRule};e.OuCalcSemicolonHighlightRule.prototype.build=function(t){let i=e.PrFactory.createStructure();i.putString(e.OuCalcHighlightRulesConstant.TOKEN,e.OuCalcSemicolonHighlightRule.FE_SEMICOLON_CSS_NAME);i.putString(e.OuCalcHighlightRulesConstant.REGEX,e.OuCalcSemicolonHighlightRule.FE_SEMICOLON_REGEX);t.add(i)};e.OuCalcStringHighlightRule=function(){};e.OuCalcStringHighlightRule.prototype=new e.XObject;e.OuCalcStringHighlightRule.prototype._ff_c="OuCalcStringHighlightRule";e.OuCalcStringHighlightRule.FE_STRING_CSS_NAME="feString";e.OuCalcStringHighlightRule.FE_STRING_REGEX="\"(?:[^\"\\\\]|\\\\.)*\"|'(?:[^'\\\\]|\\\\.)*'";e.OuCalcStringHighlightRule.create=function(){return new e.OuCalcStringHighlightRule};e.OuCalcStringHighlightRule.prototype.build=function(t){let i=e.PrFactory.createStructure();i.putString(e.OuCalcHighlightRulesConstant.TOKEN,e.OuCalcStringHighlightRule.FE_STRING_CSS_NAME);i.putString(e.OuCalcHighlightRulesConstant.REGEX,e.OuCalcStringHighlightRule.FE_STRING_REGEX);t.add(i)};e.OuCalcHintBase=function(){};e.OuCalcHintBase.prototype=new e.XObject;e.OuCalcHintBase.prototype._ff_c="OuCalcHintBase";e.OuCalcHintBase.CAPTION_KEY="caption";e.OuCalcHintBase.CLASS_NAME_KEY="className";e.OuCalcHintBase.SCORE_KEY="score";e.OuCalcHintBase.prototype.m_caption=null;e.OuCalcHintBase.prototype.m_cssClassName=null;e.OuCalcHintBase.prototype.m_score=0;e.OuCalcHintBase.prototype.getCaption=function(){return e.XOptional.ofNullable(this.m_caption)};e.OuCalcHintBase.prototype.getCssClassName=function(){return this.m_cssClassName};e.OuCalcHintBase.prototype.getJson=function(){let t=e.PrStructure.create();t.putStringNotNull(e.OuCalcHintBase.CAPTION_KEY,this.m_caption);t.putInteger(e.OuCalcHintBase.SCORE_KEY,this.m_score);t.putString(e.OuCalcHintBase.CLASS_NAME_KEY,this.m_cssClassName);return t};e.OuCalcHintBase.prototype.getScore=function(){return this.m_score};e.OuCalcHintBase.prototype.setupInternal=function(e,t,i){this.m_caption=e;this.m_score=t;this.m_cssClassName=i};e.OuCalcHintBase.prototype.toString=function(){return this.getJson().getStringRepresentation()};e.OuCalcHintGenerator=function(){};e.OuCalcHintGenerator.prototype=new e.XObject;e.OuCalcHintGenerator.prototype._ff_c="OuCalcHintGenerator";e.OuCalcHintGenerator.create=function(t){e.XObjectExt.assertNotNull(t);e.XObjectExt.assertTrue(t.size()>0);let i=new e.OuCalcHintGenerator;i.m_hintProviders=t.getValuesAsReadOnlyList();return i};e.OuCalcHintGenerator.prototype.m_hintProviders=null;e.OuCalcHintGenerator.prototype.generate=function(t){let i=e.XList.create();for(let e=0;e<this.m_hintProviders.size();e++){let o=this.m_hintProviders.get(e);if(o.accept(t)){o.prepare(t);i.addAll(o.provide())}}return i};e.OuCalcAbstractHintProvider=function(){};e.OuCalcAbstractHintProvider.prototype=new e.XObject;e.OuCalcAbstractHintProvider.prototype._ff_c="OuCalcAbstractHintProvider";e.OuCalcAbstractHintProvider.prototype.m_cssClassName=null;e.OuCalcAbstractHintProvider.prototype.getCssClassName=function(){return e.FeFeatureToggle.isActive(e.FeFeatureToggle.DIALOG_NEW_LAYOUT)?e.XStringUtils.concatenate2(this.m_cssClassName,"V2"):this.m_cssClassName};e.OuCalcAbstractHintProvider.prototype.isGenericToken=function(t){return!t.getDataTypes().contains(e.FeDataType.OPERATOR)&&!t.getDataTypes().contains(e.FeDataType.HIERARCHY)&&!t.getDataTypes().contains(e.FeDataType.GRANULARITY)&&!t.getDataTypes().contains(e.FeDataType.PROPERTY)};e.OuCalcAbstractHintProvider.prototype.isTokenCompatible=function(t,i){return e.XStream.of(t.getDataTypes()).anyMatch(t=>e.FeDataType.isStrictlyCompatible(t,i)||t.isEqualTo(e.FeDataType.BOOLEAN)||t.isEqualTo(e.FeDataType.ANY))};e.OuCalcAbstractHintProvider.prototype.isTokenTypeOf=function(t,i){return e.XStream.of(t.getDataTypes()).anyMatch(t=>t.isTypeOf(i)||t.isEqualTo(e.FeDataType.BOOLEAN)||t.isEqualTo(e.FeDataType.ANY))};e.OuCalcAbstractHintProvider.prototype.prepare=function(e){};e.OuCalcAbstractHintProvider.prototype.setupInternal=function(e){this.m_cssClassName=e};e.OuCalcTranslationParser=function(){};e.OuCalcTranslationParser.prototype=new e.XObject;e.OuCalcTranslationParser.prototype._ff_c="OuCalcTranslationParser";e.OuCalcTranslationParser.ARGUMENT_SEPARATOR_TAG="argsep";e.OuCalcTranslationParser.CELL_SEPARATOR="|";e.OuCalcTranslationParser.CODE_PARSED="span class='ffFeCode'";e.OuCalcTranslationParser.CODE_TAG="code";e.OuCalcTranslationParser.DECIMAL_GROUPING_SEPARATOR_TAG="decgroupsep";e.OuCalcTranslationParser.DECIMAL_SEPARATOR_TAG="decsep";e.OuCalcTranslationParser.DEFAULT_CLOSE_TAG="</span>";e.OuCalcTranslationParser.DIMENSION_PARSED="span class='ffFeDimension'";e.OuCalcTranslationParser.DIMENSION_TAG="dimension";e.OuCalcTranslationParser.FUNCTION_PARSED="span class='ffFeFunc'";e.OuCalcTranslationParser.FUNCTION_TAG="func";e.OuCalcTranslationParser.MEASURE_PARSED="span class='ffFeMeasure'";e.OuCalcTranslationParser.MEASURE_TAG="measure";e.OuCalcTranslationParser.MEASURE_TYPE_TAG="measuretype";e.OuCalcTranslationParser.OPERATOR_PARSED="span class='ffFeOperator'";e.OuCalcTranslationParser.OPERATOR_TAG="operator";e.OuCalcTranslationParser.PARAMETER_PARSED="span class='ffFeParameter'";e.OuCalcTranslationParser.PARAMETER_TAG="param";e.OuCalcTranslationParser.PARAM_STRING_NUMBER_TAG="paramStringNumber";e.OuCalcTranslationParser.TAG_END=">";e.OuCalcTranslationParser.TAG_START="<";e.OuCalcTranslationParser.TAG_START_CLOSE="</";e.OuCalcTranslationParser.TAG_TABLE="table";e.OuCalcTranslationParser.TAG_TABLE_HEADER="thead";e.OuCalcTranslationParser.TAG_TD="td";e.OuCalcTranslationParser.TAG_TH="th";e.OuCalcTranslationParser.TAG_TR="tr";e.OuCalcTranslationParser.create=function(t,i,o){let n=new e.OuCalcTranslationParser;n.m_decimalSeparator=t.getDecimalSeparator();n.m_decimalGroupingSeparator=t.getDecimalGroupingSeparator();n.m_argumentSeparator=t.getArgumentSeparator();n.m_measureDataType=i;n.m_stringNumberText=o?e.FeDataType.STRING_NUMBER.getName():e.FeDataType.NUMBER.getName();n.internalSetup();return n};e.OuCalcTranslationParser.prototype.m_argumentSeparator=null;e.OuCalcTranslationParser.prototype.m_decimalGroupingSeparator=null;e.OuCalcTranslationParser.prototype.m_decimalSeparator=null;e.OuCalcTranslationParser.prototype.m_measureDataType=null;e.OuCalcTranslationParser.prototype.m_parseMap=null;e.OuCalcTranslationParser.prototype.m_stringNumberText=null;e.OuCalcTranslationParser.prototype.addToMap=function(t,i){this.m_parseMap.put(this.generateOpenTag(t),this.generateOpenTag(i));this.m_parseMap.put(this.generateCloseTag(t),e.OuCalcTranslationParser.DEFAULT_CLOSE_TAG)};e.OuCalcTranslationParser.prototype.generateCloseTag=function(t){return e.XStringUtils.concatenate3(e.OuCalcTranslationParser.TAG_START_CLOSE,t,e.OuCalcTranslationParser.TAG_END)};e.OuCalcTranslationParser.prototype.generateOpenTag=function(t){return e.XStringUtils.concatenate3(e.OuCalcTranslationParser.TAG_START,t,e.OuCalcTranslationParser.TAG_END)};e.OuCalcTranslationParser.prototype.internalSetup=function(){if(e.isNull(this.m_parseMap)){this.m_parseMap=e.XHashMapByString.create();this.addToMap(e.OuCalcTranslationParser.CODE_TAG,e.OuCalcTranslationParser.CODE_PARSED);this.addToMap(e.OuCalcTranslationParser.FUNCTION_TAG,e.OuCalcTranslationParser.FUNCTION_PARSED);this.addToMap(e.OuCalcTranslationParser.OPERATOR_TAG,e.OuCalcTranslationParser.OPERATOR_PARSED);this.addToMap(e.OuCalcTranslationParser.PARAMETER_TAG,e.OuCalcTranslationParser.PARAMETER_PARSED);this.addToMap(e.OuCalcTranslationParser.MEASURE_TAG,e.OuCalcTranslationParser.MEASURE_PARSED);this.addToMap(e.OuCalcTranslationParser.DIMENSION_TAG,e.OuCalcTranslationParser.DIMENSION_PARSED);this.m_parseMap.put(this.generateOpenTag(e.OuCalcTranslationParser.ARGUMENT_SEPARATOR_TAG),this.m_argumentSeparator);this.m_parseMap.put(this.generateOpenTag(e.OuCalcTranslationParser.DECIMAL_SEPARATOR_TAG),this.m_decimalSeparator);this.m_parseMap.put(this.generateOpenTag(e.OuCalcTranslationParser.DECIMAL_GROUPING_SEPARATOR_TAG),this.m_decimalGroupingSeparator);this.m_parseMap.put(this.generateOpenTag(e.OuCalcTranslationParser.MEASURE_TYPE_TAG),e.XStringUtils.concatenate3(this.generateOpenTag(e.OuCalcTranslationParser.MEASURE_PARSED),this.m_measureDataType,e.OuCalcTranslationParser.DEFAULT_CLOSE_TAG));this.m_parseMap.put(this.generateOpenTag(e.OuCalcTranslationParser.PARAM_STRING_NUMBER_TAG),e.XStringUtils.concatenate3(this.generateOpenTag(e.OuCalcTranslationParser.PARAMETER_PARSED),this.m_stringNumberText,e.OuCalcTranslationParser.DEFAULT_CLOSE_TAG))}};e.OuCalcTranslationParser.prototype.parseCellsTokens=function(t,i){let o=e.XStringBuffer.create();let n=e.XStringTokenizer.splitString(e.XString.substring(t,4,-1),e.OuCalcTranslationParser.CELL_SEPARATOR);for(let e=0;e<n.size();e++){o.append(this.generateOpenTag(i));o.append(n.get(e));o.append(this.generateCloseTag(i))}return o.toString()};e.OuCalcTranslationParser.prototype.parseTable=function(t){let i=e.XStringBuffer.create();i.append(this.generateOpenTag(e.OuCalcTranslationParser.TAG_TABLE));let o=e.XString.indexOf(t,this.generateOpenTag(e.OuCalcTranslationParser.TAG_TH));let n=e.XString.indexOf(t,this.generateOpenTag(e.OuCalcTranslationParser.TAG_TR));if(o!==-1){let a=e.XString.substring(t,o,n);let r=this.parseTableHeader(a);i.append(r)}let a=this.generateOpenTag(e.OuCalcTranslationParser.TAG_TR);let r=e.XStringTokenizer.splitString(t,a);for(let t=1;t<r.size();t++){let o=e.XStringUtils.concatenate2(a,r.get(t));let n=this.parseTableRow(o);i.append(n)}i.append(this.generateCloseTag(e.OuCalcTranslationParser.TAG_TABLE));return i.toString()};e.OuCalcTranslationParser.prototype.parseTableHeader=function(t){let i=e.XStringBuffer.create();i.append(this.generateOpenTag(e.OuCalcTranslationParser.TAG_TABLE_HEADER));i.append(this.generateOpenTag(e.OuCalcTranslationParser.TAG_TR));i.append(this.parseCellsTokens(t,e.OuCalcTranslationParser.TAG_TH));i.append(this.generateCloseTag(e.OuCalcTranslationParser.TAG_TR));i.append(this.generateCloseTag(e.OuCalcTranslationParser.TAG_TABLE_HEADER));return i.toString()};e.OuCalcTranslationParser.prototype.parseTableRow=function(t){let i=e.XStringBuffer.create();i.append(this.generateOpenTag(e.OuCalcTranslationParser.TAG_TR));i.append(this.parseCellsTokens(t,e.OuCalcTranslationParser.TAG_TD));i.append(this.generateCloseTag(e.OuCalcTranslationParser.TAG_TR));return i.toString()};e.OuCalcTranslationParser.prototype.parseText=function(t){if(e.XStringUtils.isNullOrEmpty(t)){return t}let i=t;let o=this.m_parseMap.getKeysAsIterator();while(o.hasNext()){let t=o.next();let n=this.m_parseMap.getByKey(t);i=e.XString.replace(i,t,n)}if(e.XString.startsWith(i,this.generateOpenTag(e.OuCalcTranslationParser.TAG_TABLE))){return this.parseTable(i)}if(e.XString.startsWith(i,this.generateOpenTag(e.OuCalcTranslationParser.TAG_TH))){return this.parseTableHeader(i)}if(e.XString.startsWith(i,this.generateOpenTag(e.OuCalcTranslationParser.TAG_TR))){return this.parseTableRow(i)}return i};e.OuCalcHorizonConfigGenerator={create:function(){return new e.OuCalcHorizonConfigGenerator},generateHorizonConfig:function(t){e.XStringUtils.assertNotNullOrEmpty(t);let i='{"layout":{"type":"SinglePlugin"}, "configuration": {     "toolbarVisible": false,     "menuVisible": false,     "statusBarVisible": false   },   "plugins": [     {       "plugin": "';let o='",       "config": {         "foo": "bar"       }     }   ],   "commands": [   {       "plugin": "CodeEditorValueRetriever",       "config": {         "foo": "bar"       }     }, {       "plugin": "CalculationsDetailsAreaRetriever",       "config": {         "foo": "bar"       }     }   ] }';return e.XStringUtils.concatenate3(i,t,o)}};e.OuCalcCtrlSpaceHandler=function(){};e.OuCalcCtrlSpaceHandler.prototype=new e.XObject;e.OuCalcCtrlSpaceHandler.prototype._ff_c="OuCalcCtrlSpaceHandler";e.OuCalcCtrlSpaceHandler.EQUALS="=";e.OuCalcCtrlSpaceHandler.NOT_EQUALS="!=";e.OuCalcCtrlSpaceHandler.OPERATOR_PATTERN="(!=|<=|>=|=|<|>)";e.OuCalcCtrlSpaceHandler.create=function(t,i,o,n){let a=new e.OuCalcCtrlSpaceHandler;a.m_datasource=t;a.m_memberSelectorHandler=i;a.m_preferences=e.XObjectExt.assertNotNull(o);a.m_feFormulaPresentation=n;return a};e.OuCalcCtrlSpaceHandler.prototype.m_datasource=null;e.OuCalcCtrlSpaceHandler.prototype.m_feFormulaPresentation=null;e.OuCalcCtrlSpaceHandler.prototype.m_memberSelectorHandler=null;e.OuCalcCtrlSpaceHandler.prototype.m_preferences=null;e.OuCalcCtrlSpaceHandler.prototype.getDimensionField=function(t,i,o,n,a){let r=n.getHierarchyName().orElse(i.getDefaultHierarchy());r=e.XStringUtils.isNullOrEmpty(r)?e.FeHierarchy.FLAT_HIERARCHY:r;let l=e.XStringUtils.isNullOrEmpty(a.getHierarchy())?e.FeHierarchy.FLAT_HIERARCHY:a.getHierarchy();let s=!i.getHierarchyByName(l).isPresent()?i.getDefaultHierarchy():l;s=e.XStringUtils.isNullOrEmpty(s)?e.FeHierarchy.FLAT_HIERARCHY:s;let u=!i.getSelectedProperty().isPresent()&&(e.XStringUtils.isNullOrEmpty(r)!==e.XStringUtils.isNullOrEmpty(s)||!e.XString.isEqual(r,s));let m=e.XStringBuffer.create();if(u){let t=e.XStringUtils.isNullOrEmpty(a.getHierarchy())?e.FeHierarchy.FLAT_HIERARCHY:a.getHierarchy();let o=e.FeDimension.createWithSelectedHierarchy(i,t);m.append(o.getField(this.m_preferences.isModelPrefixEnabled()))}else{let i=this.getOperatorPosition(t,o);m.append(e.XString.substring(t,o.getStart(),i))}m.append(this.getNewOperator(t,o,a));return m.toString()};e.OuCalcCtrlSpaceHandler.prototype.getDimensionFromToken=function(t){return e.FeMemberRetriever.create(this.m_datasource).getDimension(t.getText(),this.m_preferences.isModelPrefixEnabled())};e.OuCalcCtrlSpaceHandler.prototype.getEqualsSign=function(t){return t?e.OuCalcCtrlSpaceHandler.NOT_EQUALS:e.OuCalcCtrlSpaceHandler.EQUALS};e.OuCalcCtrlSpaceHandler.prototype.getExistingOperator=function(t,i){let o=e.XString.substring(t,i.getStart(),-1);let n=e.XRegex.getInstance().getFirstGroupOfMatch(o,e.OuCalcCtrlSpaceHandler.OPERATOR_PATTERN);return n};e.OuCalcCtrlSpaceHandler.prototype.getNewOperator=function(t,i,o){let n=this.getExistingOperator(t,i);if(e.XString.isEqual(n,e.OuCalcCtrlSpaceHandler.EQUALS)||e.XString.isEqual(n,e.OuCalcCtrlSpaceHandler.NOT_EQUALS)){return this.getEqualsSign(o.areMembersExcluded())}return n};e.OuCalcCtrlSpaceHandler.prototype.getOperatorPosition=function(t,i){let o=this.getExistingOperator(t,i);let n=e.XString.indexOfFrom(t,o,i.getStart());return n};e.OuCalcCtrlSpaceHandler.prototype.getUpdatedCursorIndex=function(t,i,o){return e.XString.size(e.XString.substring(t,0,i.getStart()))+e.XString.size(o)};e.OuCalcCtrlSpaceHandler.prototype.getUpdatedDimensionText=function(t,i,o,n,a){let r=e.FeDimensionCustomData.extractFromToken(i);if(!r.isPresent()){return e.XString.substring(t,i.getStart(),i.getEnd())}let l=e.XStringBuffer.create();l.append(this.getDimensionField(t,n,i,r.get(),o));l.append(e.FeDimensionMembersConverter.stringifyMembers(o.getNewMembers(),!a.isCommaDecimalSeparator()));return l.toString()};e.OuCalcCtrlSpaceHandler.prototype.getUpdatedFormulaText=function(t,i,o){let n=e.XStringBuffer.create();n.append(e.XString.substring(t,0,i.getStart()));n.append(o);n.append(e.XString.substring(t,i.getEnd(),-1));return n.toString()};e.OuCalcCtrlSpaceHandler.prototype.handle=function(t,i,o,n){e.XObjectExt.assertNotNull(t);let a=t.getText();if(this.isDimensionToken(i)&&this.isDimensionValid(i)){let t=this.getDimensionFromToken(i).get();let r=e.FeDimensionCustomData.extractFromToken(i);let l=e.XList.create();let s=r.isPresent()&&r.get().getMemberString().isPresent()?e.FeDimensionMembersConverter.parseMembers(r.get().getMemberString().get()):l;let u=r.isPresent()&&r.get().isExclude();let m=r.isPresent()&&r.get().isMultiselect();this.m_memberSelectorHandler.handle(t,u,m,s,r=>{let l=this.getUpdatedDimensionText(a,i,r,t,this.m_preferences);let s=this.getUpdatedFormulaText(a,i,l);let u=this.getUpdatedCursorIndex(a,i,l);o(e.FeFormula.create(s,this.m_feFormulaPresentation));n(e.FeCursorHelper.getCursorPosition(s,u))})}};e.OuCalcCtrlSpaceHandler.prototype.isDimensionToken=function(t){return e.FeFeatureToggle.isActive(e.FeFeatureToggle.DIMENSION_SUPPORT)&&e.notNull(t)&&t.getTokenType().isEqualTo(e.FeTokenType.DIMENSION)&&t.getDataTypes().contains(e.FeDataType.DIMENSION_MEMBER)};e.OuCalcCtrlSpaceHandler.prototype.isDimensionValid=function(t){let i=this.getDimensionFromToken(t);if(!i.isPresent()){return false}let o=i.get();let n=o.getSelectedProperty().isPresent()===e.FeFieldConverter.getProperty(t.getText()).isPresent();let a=o.getSelectedHierarchy().isPresent()===e.FeFieldConverter.getHierarchy(t.getText()).isPresent();return n&&a};e.OuCalcCtrlSpaceHandler.prototype.releaseObject=function(){this.m_datasource=null;this.m_memberSelectorHandler=null;this.m_preferences=null;this.m_feFormulaPresentation=null;e.XObject.prototype.releaseObject.call(this)};e.OuCalcMemberSelectorHandler=function(){};e.OuCalcMemberSelectorHandler.prototype=new e.XObject;e.OuCalcMemberSelectorHandler.prototype._ff_c="OuCalcMemberSelectorHandler";e.OuCalcMemberSelectorHandler.FLAT_HIERARCHY_VALUE="";e.OuCalcMemberSelectorHandler.create=function(t,i,o,n){let a=new e.OuCalcMemberSelectorHandler;a.m_process=e.XObjectExt.assertNotNull(t);a.m_queryModel=e.XObjectExt.assertNotNull(i);a.m_datasourceProvider=e.XObjectExt.assertNotNull(o);a.m_preferences=e.XObjectExt.assertNotNull(n);return a};e.OuCalcMemberSelectorHandler.createNull=function(){return new e.OuCalcMemberSelectorHandler};e.OuCalcMemberSelectorHandler.prototype.m_datasourceProvider=null;e.OuCalcMemberSelectorHandler.prototype.m_preferences=null;e.OuCalcMemberSelectorHandler.prototype.m_process=null;e.OuCalcMemberSelectorHandler.prototype.m_queryModel=null;e.OuCalcMemberSelectorHandler.prototype.convertMemberKeyToShortDate=function(t,i,o){let n=e.FeMemberKeyToShortDateConverter.create(t,o);return n.convert(i)};e.OuCalcMemberSelectorHandler.prototype.convertShortDateToMemberKey=function(t,i){let o=e.FeShortDateToMemberKeyConverter.create(t);return o.convert(i)};e.OuCalcMemberSelectorHandler.prototype.getDefaultSelection=function(t,i,o){if(e.isNull(t)||t.isEmpty()){return e.XOptional.empty()}let n=e.XList.create();let a=this.getSelectedHierarchyName(i);for(let r=0;r<t.size();r++){let l=t.get(r);let s;if(e.XString.isEqual(l,e.FeDimensionMembersConverter.NULL_VALUE)){s=e.FilterDialogValueFactory.createNullValue()}else{let o=this.convertShortDateToMemberKey(i,l);let n=t.get(r);let u=o.orElse(e.XStringUtils.isNullOrEmpty(a)?n:null);let m=e.isNull(u)?n:null;s=e.FilterDialogValueFactory.createValue(u,m,n)}s.setComparisonOperator(o?e.ComparisonOperator.NOT_EQUAL:e.ComparisonOperator.EQUAL);s.setHierarchyName(a);n.add(s)}return e.XOptional.of(n)};e.OuCalcMemberSelectorHandler.prototype.getSelectedHierarchyName=function(t){let i;if(t.getSelectedProperty().isPresent()){i=null}else if(t.getSelectedHierarchy().isPresent()){i=t.getSelectedHierarchy().get().getId()}else{i=t.getDefaultHierarchy()}return e.isNull(i)?e.OuCalcMemberSelectorHandler.FLAT_HIERARCHY_VALUE:i};e.OuCalcMemberSelectorHandler.prototype.handle=function(t,i,o,n,a){if(e.isNull(this.m_process)||e.isNull(this.m_queryModel)||e.isNull(this.m_datasourceProvider)||e.isNull(this.m_preferences)){return}e.XObjectExt.assertNotNull(t);e.XObjectExt.assertNotNull(n);let r=t.getDimensionName();let l=t.getDimensionDescription();let s=e.XLocalizationCenter.getCenter().getTextWithPlaceholder(e.OuCalcFormulaEditorI18n.MEMBER_SELECTOR_TITLE,l);let u=e.FilterDialogProgramRunnerFactory.createForDimension(this.m_process,this.m_queryModel.getQueryManager(),r,s);let m=e.PrFactory.createStructure();m.putBoolean(e.FilterDialog.PARAM_OFFER_READMODE_EXTENDED_SETTINGS,true);m.putString(e.FilterDialog.PARAM_SELECTION_MODE,o?e.UiSelectionMode.MULTI_SELECT.getName():e.UiSelectionMode.SINGLE_SELECT.getName());m.putBoolean(e.FilterDialog.PARAM_SELECTION_REQUIRED,true);m.putBoolean(e.FilterDialog.PARAM_OFFER_HIERARCHY_CHANGE,!t.getSelectedProperty().isPresent()&&t.getHierarchies().size()>1);m.putBoolean(e.FilterDialog.PARAM_OFFER_EXCLUDE,o);m.putBoolean(e.FilterDialog.PARAM_EXCLUDE_BY_DEFAULT,i);m.putString(e.FilterDialog.PARAM_HIERARCHY,this.getSelectedHierarchyName(t));let p=this.getDefaultSelection(n,t,i);if(p.isPresent()){u.getProgramStartData().putXObject(e.FilterDialog.PRG_DATA_DEFAULT_SELECTION,p.get())}u.getProgramStartData().putXObject(e.FilterDialog.PRG_DATA_LISTENER_CLOSE,e.FilterDialogLambdaCloseListener.create(i=>{let o=e.XCollectionUtils.map(i,i=>{let o=this.convertMemberKeyToShortDate(t,i.getKey(),i.getHierarchyName());if(o.isPresent()){return o.get()}if(i.isNull()){return e.FeDimensionMembersConverter.NULL_VALUE}if(e.XStringUtils.isNullOrEmpty(i.getDisplayKey())){return e.FeDimensionMembersConverter.EMPTY_VALUE}return i.getDisplayKey()});let n=i.get(0).getHierarchyName();let r=i.get(0).getComparisonOperator().isEqualTo(e.ComparisonOperator.NOT_EQUAL);let l=e.OuCalcMemberSelectorOutput.create(o,n,r);a(l)},null));u.setConfigStructure(m);u.runProgram()};e.OuCalcMemberSelectorOutput=function(){};e.OuCalcMemberSelectorOutput.prototype=new e.XObject;e.OuCalcMemberSelectorOutput.prototype._ff_c="OuCalcMemberSelectorOutput";e.OuCalcMemberSelectorOutput.create=function(t,i,o){e.XObjectExt.assertNotNull(t);let n=new e.OuCalcMemberSelectorOutput;n.m_newMembers=t;n.m_hierarchy=i;n.m_areMembersExcluded=o;return n};e.OuCalcMemberSelectorOutput.prototype.m_areMembersExcluded=false;e.OuCalcMemberSelectorOutput.prototype.m_hierarchy=null;e.OuCalcMemberSelectorOutput.prototype.m_newMembers=null;e.OuCalcMemberSelectorOutput.prototype.areMembersExcluded=function(){return this.m_areMembersExcluded};e.OuCalcMemberSelectorOutput.prototype.getHierarchy=function(){return this.m_hierarchy};e.OuCalcMemberSelectorOutput.prototype.getNewMembers=function(){return this.m_newMembers};e.OuCalcPanelConfig=function(){};e.OuCalcPanelConfig.prototype=new e.XObject;e.OuCalcPanelConfig.prototype._ff_c="OuCalcPanelConfig";e.OuCalcPanelConfig.prototype.m_renderConfig=null;e.OuCalcPanelConfig.prototype.getRenderConfig=function(){return this.m_renderConfig};e.OuCalcPanelConfig.prototype.setupInternal=function(e){this.m_renderConfig=e};e.OuCalcPanelRenderConfig=function(){};e.OuCalcPanelRenderConfig.prototype=new e.XObject;e.OuCalcPanelRenderConfig.prototype._ff_c="OuCalcPanelRenderConfig";e.OuCalcPanelRenderConfig.create=function(t,i){let o=new e.OuCalcPanelRenderConfig;o.m_anchorTag=t;o.m_domId=i;return o};e.OuCalcPanelRenderConfig.createEmpty=function(){return e.OuCalcPanelRenderConfig.create(null,null)};e.OuCalcPanelRenderConfig.prototype.m_anchorTag=null;e.OuCalcPanelRenderConfig.prototype.m_domId=null;e.OuCalcPanelRenderConfig.prototype.getAnchorTag=function(){return this.m_anchorTag};e.OuCalcPanelRenderConfig.prototype.getDomId=function(){return this.m_domId};e.OuCalcPanelRenderConfig.prototype.isAnchorTag=function(){return e.notNull(this.m_anchorTag)};e.OuCalcPanelRenderConfig.prototype.isDomId=function(){return!this.isAnchorTag()&&e.XStringUtils.isNotNullAndNotEmpty(this.m_domId)};e.OuCalcPanelRenderConfig.prototype.isSet=function(){return this.isAnchorTag()||this.isDomId()};e.OuCalcUiConfiguration=function(){};e.OuCalcUiConfiguration.prototype=new e.XObject;e.OuCalcUiConfiguration.prototype._ff_c="OuCalcUiConfiguration";e.OuCalcUiConfiguration.create=function(t,i,o,n){let a=new e.OuCalcUiConfiguration;e.XObjectExt.assertTrueExt(e.OuCalcUiConfiguration.isPanelRenderConfigSet(t)||e.OuCalcUiConfiguration.isPanelRenderConfigSet(i)||e.OuCalcUiConfiguration.isPanelRenderConfigSet(o)||e.OuCalcUiConfiguration.isPanelRenderConfigSet(n),"Configure at least one plugin!");a.m_codeEditorPanelRenderConfig=e.OuCalcUiConfiguration.getPanelRenderConfigOrEmpty(t);a.m_detailsPanelRenderConfig=e.OuCalcUiConfiguration.getPanelRenderConfigOrEmpty(i);a.m_assistancePanelRenderConfig=e.OuCalcUiConfiguration.getPanelRenderConfigOrEmpty(o);a.m_formulaItemsListPanelRenderConfig=e.OuCalcUiConfiguration.getPanelRenderConfigOrEmpty(n);return a};e.OuCalcUiConfiguration.getPanelRenderConfigOrEmpty=function(t){return e.notNull(t)?t:e.OuCalcPanelRenderConfig.createEmpty()};e.OuCalcUiConfiguration.isPanelRenderConfigSet=function(t){return e.notNull(t)&&t.isSet()};e.OuCalcUiConfiguration.prototype.m_assistancePanelRenderConfig=null;e.OuCalcUiConfiguration.prototype.m_codeEditorPanelRenderConfig=null;e.OuCalcUiConfiguration.prototype.m_detailsPanelRenderConfig=null;e.OuCalcUiConfiguration.prototype.m_formulaItemsListPanelRenderConfig=null;e.OuCalcUiConfiguration.prototype.displayUiComponent=function(t){if(t.isTypeOf(e.OuCalcUiComponent.CODE_EDITOR)){return this.m_codeEditorPanelRenderConfig.isSet()}else if(t.isTypeOf(e.OuCalcUiComponent.DETAILS_PANEL)){return this.m_detailsPanelRenderConfig.isSet()}else if(t.isTypeOf(e.OuCalcUiComponent.ASSISTANCE_PANEL)){return this.m_assistancePanelRenderConfig.isSet()}else if(t.isTypeOf(e.OuCalcUiComponent.FORMULA_ELEMENTS_PANEL)){return this.m_formulaItemsListPanelRenderConfig.isSet()}else{throw e.XException.createIllegalArgumentException(e.XStringUtils.concatenate2("Unknown CalUiComponent ",t.toString()))}};e.OuCalcUiConfiguration.prototype.getAssistancePanelRenderConfig=function(){return this.m_assistancePanelRenderConfig};e.OuCalcUiConfiguration.prototype.getCodeEditorPanelRenderConfig=function(){return this.m_codeEditorPanelRenderConfig};e.OuCalcUiConfiguration.prototype.getDetailsPanelRenderConfig=function(){return this.m_detailsPanelRenderConfig};e.OuCalcUiConfiguration.prototype.getFormulaItemsListPanelRenderConfig=function(){return this.m_formulaItemsListPanelRenderConfig};e.OuCalcPluginRunner=function(){};e.OuCalcPluginRunner.prototype=new e.XObject;e.OuCalcPluginRunner.prototype._ff_c="OuCalcPluginRunner";e.OuCalcPluginRunner.create=function(t){let i=new e.OuCalcPluginRunner;i.m_process=e.XObjectExt.assertNotNull(t);return i};e.OuCalcPluginRunner.prototype.m_process=null;e.OuCalcPluginRunner.prototype.runPlugin=function(t,i){if(!e.XStringUtils.isNotNullAndNotEmpty(i)){throw e.XException.createIllegalArgumentException("Horizon config must not be null or empty!")}let o=e.HuHorizonApi.createRunnerWithConfiguration(this.m_process,i,false);if(t.isSet()){if(t.isAnchorTag()){o.setContainerType(e.ProgramContainerType.CONTENT);o.setAnchorContentControl(t.getAnchorTag())}else{o.setContainerType(e.ProgramContainerType.STANDALONE);o.setNativeAnchorId(t.getDomId())}}else{this.m_process.getLogger().logWarning3("Panel render config not set, plugin is running but not rendered.  Config='",i,"'.")}let n=o.runProgram().onThenExt(e=>e).onCatch(t=>{let o=e.XStringUtils.concatenate3("Error launching plugin. Config='",i,"'.");o=e.XStringUtils.concatenate4(o,"Error='",t.getText(),"'.");this.m_process.getLogger().logError(o)});return n};e.OuCalcSharedDataSpaceManager=function(){};e.OuCalcSharedDataSpaceManager.prototype=new e.XObject;e.OuCalcSharedDataSpaceManager.prototype._ff_c="OuCalcSharedDataSpaceManager";e.OuCalcSharedDataSpaceManager.SHARED_DATA_SPACE_ID="Calculations-Shared-Dataspace";e.OuCalcSharedDataSpaceManager.create=function(t){let i=new e.OuCalcSharedDataSpaceManager;i.m_process=e.XObjectExt.assertNotNull(t);return i};e.OuCalcSharedDataSpaceManager.prototype.m_process=null;e.OuCalcSharedDataSpaceManager.prototype.destroy=function(){this.m_process.destroySharedDataSpace(e.OuCalcSharedDataSpaceManager.SHARED_DATA_SPACE_ID)};e.OuCalcSharedDataSpaceManager.prototype.get=function(){let t=this.m_process.getSharedDataSpace(e.OuCalcSharedDataSpaceManager.SHARED_DATA_SPACE_ID);if(e.isNull(t)){throw e.XException.createRuntimeException(e.XStringUtils.concatenate2("Unable to access space with ID=",e.OuCalcSharedDataSpaceManager.SHARED_DATA_SPACE_ID))}return t};e.OuCalcSharedDataSpaceManager.prototype.initialize=function(){let t=this.m_process.getSharedDataSpace(e.OuCalcSharedDataSpaceManager.SHARED_DATA_SPACE_ID);if(e.isNull(t)){let t=this.m_process.createSharedDataSpace(e.OuCalcSharedDataSpaceManager.SHARED_DATA_SPACE_ID);if(e.isNull(t)){throw e.XException.createRuntimeException(e.XStringUtils.concatenate2("Unable to create space with ID=",e.OuCalcSharedDataSpaceManager.SHARED_DATA_SPACE_ID))}}};e.OuCalcFormulaElementListConst={ATTRIBUTE_NAME:"fe-tab-name",COLLAPSE_ICON:"close-command-field",COLLAPSE_NAME:"collapse",EXPAND_ICON:"open-command-field",EXPAND_NAME:"expand",FUNCTIONS_ICON:"fpa/formula",FUNCTIONS_NAME:"fx",OBJECTS_ICON:"fpa/models",OBJECTS_NAME:"objs",OPERATIONS_ICON:"simulate",OPERATORS_NAME:"operators",getFunctionTooltip:function(){return e.OuCalcFormulaEditorI18n.getLocalization().getText(e.OuCalcFormulaEditorI18n.FE_TAB_ICON_FUNCTIONS)},getObjectsTooltip:function(){return e.OuCalcFormulaEditorI18n.getLocalization().getText(e.OuCalcFormulaEditorI18n.FE_TAB_ICON_OBJECTS)},getOperatorsTooltip:function(){return e.OuCalcFormulaEditorI18n.getLocalization().getText(e.OuCalcFormulaEditorI18n.FE_TAB_ICON_OPERATORS)}};e.OuCalcPanelItem=function(){};e.OuCalcPanelItem.prototype=new e.XObject;e.OuCalcPanelItem.prototype._ff_c="OuCalcPanelItem";e.OuCalcPanelItem.create=function(t,i){return e.OuCalcPanelItem.createExt(t,t,t,i,true,null,null,null)};e.OuCalcPanelItem.createExt=function(t,i,o,n,a,r,l,s){let u=new e.OuCalcPanelItem;u.setupInternal(t,i,o,n,a,r,l,s);return u};e.OuCalcPanelItem.createWithCategory=function(t,i,o){return e.OuCalcPanelItem.createExt(t,t,t,i,true,o,null,null)};e.OuCalcPanelItem.prototype.m_category=null;e.OuCalcPanelItem.prototype.m_displayName=null;e.OuCalcPanelItem.prototype.m_enabled=false;e.OuCalcPanelItem.prototype.m_id=null;e.OuCalcPanelItem.prototype.m_parentId=null;e.OuCalcPanelItem.prototype.m_technicalIdentifier=null;e.OuCalcPanelItem.prototype.m_tooltip=null;e.OuCalcPanelItem.prototype.m_uniqueKey=null;e.OuCalcPanelItem.prototype.compareTo=function(t){return e.XString.compare(this.m_displayName,t.getDisplayName())};e.OuCalcPanelItem.prototype.getCategory=function(){return this.m_category};e.OuCalcPanelItem.prototype.getDisplayName=function(){return this.m_displayName};e.OuCalcPanelItem.prototype.getDisplayText=function(e){return e.composeDisplayStrings(this.getId(),this.getDisplayName())};e.OuCalcPanelItem.prototype.getId=function(){return this.m_id};e.OuCalcPanelItem.prototype.getParentId=function(){return e.XOptional.ofNullable(this.m_parentId)};e.OuCalcPanelItem.prototype.getTechnicalIdentifier=function(){return this.m_technicalIdentifier};e.OuCalcPanelItem.prototype.getTooltip=function(){return this.m_tooltip};e.OuCalcPanelItem.prototype.getUniqueKey=function(){return this.m_uniqueKey};e.OuCalcPanelItem.prototype.isEnabled=function(){return this.m_enabled};e.OuCalcPanelItem.prototype.setupInternal=function(t,i,o,n,a,r,l,s){if(e.XStringUtils.isNullOrEmpty(i)){throw e.XException.createIllegalArgumentException("id must not be null or empty!")}if(e.XStringUtils.isNullOrEmpty(o)){throw e.XException.createIllegalArgumentException("Technical identifier must not be null or empty!")}this.m_uniqueKey=t;this.m_id=i;this.m_technicalIdentifier=o;this.m_displayName=n;this.m_parentId=s;this.m_enabled=a;this.m_category=r;this.m_tooltip=e.XOptional.ofNullable(l)};e.OuDataProviderVariableDialogActionResult=function(){};e.OuDataProviderVariableDialogActionResult.prototype=new e.XObject;e.OuDataProviderVariableDialogActionResult.prototype._ff_c="OuDataProviderVariableDialogActionResult";e.OuDataProviderVariableDialogActionResult.create=function(){return new e.OuDataProviderVariableDialogActionResult};e.OuDataProviderVariableDialogActionResult.prototype.m_isSubmitted=false;e.OuDataProviderVariableDialogActionResult.prototype.isDialogCancelled=function(){return!this.m_isSubmitted};e.OuDataProviderVariableDialogActionResult.prototype.isDialogSubmitted=function(){return this.m_isSubmitted};e.OuDataProviderVariableDialogActionResult.prototype.setDialogSubmitted=function(e){this.m_isSubmitted=e};e.AldEntryPoint=function(){};e.AldEntryPoint.prototype=new e.XObject;e.AldEntryPoint.prototype._ff_c="AldEntryPoint";e.AldEntryPoint.createEntryPoint=function(t){let i=new e.AldEntryPoint;i.setupEntryPoint(t);return i};e.AldEntryPoint.prototype.m_aldController=null;e.AldEntryPoint.prototype.closeAldDialog=function(){this.m_aldController.closeDialog()};e.AldEntryPoint.prototype.openAldDialog=function(e,t,i){this.m_aldController.openDialog(e,t,i)};e.AldEntryPoint.prototype.releaseObject=function(){e.XObject.prototype.releaseObject.call(this);this.m_aldController=e.XObjectExt.release(this.m_aldController)};e.AldEntryPoint.prototype.setupEntryPoint=function(t){let i=t.getUiManager();let o=e.OlapUiDisplayFactory.createFactoryForDialog(i);let n=e.OlapUiContext.createContext(i,o);this.m_aldController=e.AldFactory.createFactory(t,n).newAldDialogInstance()};e.AldFactory=function(){};e.AldFactory.prototype=new e.XObject;e.AldFactory.prototype._ff_c="AldFactory";e.AldFactory.createFactory=function(t,i){let o=new e.AldFactory;o.m_application=t;o.m_context=i;return o};e.AldFactory.prototype.m_application=null;e.AldFactory.prototype.m_context=null;e.AldFactory.prototype.newAldDialogInstance=function(){return e.AldControllerAxisLayout.create(this.m_application,this.m_context)};e.OuCalcCalculationsDialogLambdaCloseListener=function(){};e.OuCalcCalculationsDialogLambdaCloseListener.prototype=new e.XObject;e.OuCalcCalculationsDialogLambdaCloseListener.prototype._ff_c="OuCalcCalculationsDialogLambdaCloseListener";e.OuCalcCalculationsDialogLambdaCloseListener.create=function(t){let i=new e.OuCalcCalculationsDialogLambdaCloseListener;i.m_okProcedure=t;return i};e.OuCalcCalculationsDialogLambdaCloseListener.prototype.m_okProcedure=null;e.OuCalcCalculationsDialogLambdaCloseListener.prototype.onOkButton=function(t){if(e.notNull(this.m_okProcedure)){this.m_okProcedure(t)}};e.OuCalcCalculationsDialogLambdaCloseListener.prototype.releaseObject=function(){e.XObject.prototype.releaseObject.call(this);this.m_okProcedure=null};e.OuCalcDatasourceHandlerFactory={create:function(t,i){if(t.getSystemType().isTypeOf(e.SystemType.BW)){return e.OuCalcDatasourceHandlerBW.create(t,i)}else if(i.getDimensionType().isEqualTo(e.DimensionType.ACCOUNT)){return e.OuCalcDatasourceHandlerModelAccount.create(t,i)}else if(t.hasUserDefinedMeasures()){return e.OuCalcDatasourceHandlerModelMeasure.create(t,i)}else{return e.OuCalcDatasourceHandler.create(t,i)}},createPromise:function(t,i){if(t.getSystemType().isTypeOf(e.SystemType.BW)){return e.OuCalcDatasourceHandlerBW.createPromise(t,i)}else if(i.getDimensionType().isEqualTo(e.DimensionType.ACCOUNT)){return e.OuCalcDatasourceHandlerModelAccount.createPromise(t,i)}else if(t.hasUserDefinedMeasures()){return e.OuCalcDatasourceHandlerModelMeasure.createPromise(t,i)}else{return e.OuCalcDatasourceHandler.createPromise(t,i)}}};e.OuCalcNumberFormatting=function(){};e.OuCalcNumberFormatting.prototype=new e.XObject;e.OuCalcNumberFormatting.prototype._ff_c="OuCalcNumberFormatting";e.OuCalcNumberFormatting.create=function(t,i,o,n,a){let r=new e.OuCalcNumberFormatting;r.m_numericShift=t;r.m_isNumericShiftPercent=i;r.m_numericScale=o;r.m_scaleFormat=n;r.m_signPresentation=a;return r};e.OuCalcNumberFormatting.createFromMember=function(t,i){return e.OuCalcNumberFormatting.create(t.getNumericShiftExt(i),t.isNumericShiftPercent(),t.getNumericScale(),t.getScaleFormat(),t.getSignPresentation())};e.OuCalcNumberFormatting.prototype.m_isNumericShiftPercent=false;e.OuCalcNumberFormatting.prototype.m_numericScale=null;e.OuCalcNumberFormatting.prototype.m_numericShift=null;e.OuCalcNumberFormatting.prototype.m_scaleFormat=null;e.OuCalcNumberFormatting.prototype.m_signPresentation=null;e.OuCalcNumberFormatting.prototype.applyToMember=function(t){if(e.notNull(this.m_numericShift)){t.setNumericShiftExt(this.m_numericShift.getInteger(),true);if(t.getModelCapabilities().supportsNumericShiftPercent()){t.setNumericShiftPercent(this.m_isNumericShiftPercent)}}if(e.notNull(this.m_numericScale)){t.setNumericScale(this.m_numericScale.getInteger())}if(e.notNull(this.m_scaleFormat)){t.setScaleFormat(this.m_scaleFormat)}if(e.notNull(this.m_signPresentation)){t.setSignPresentation(this.m_signPresentation)}};e.OuCalcNumberFormatting.prototype.getNumericScale=function(){return this.m_numericScale};e.OuCalcNumberFormatting.prototype.getNumericShift=function(){return this.m_numericShift};e.OuCalcNumberFormatting.prototype.getScaleFormat=function(){return this.m_scaleFormat};e.OuCalcNumberFormatting.prototype.getSignPresentation=function(){return this.m_signPresentation};e.OuCalcNumberFormatting.prototype.isNumericShiftPercent=function(){return this.m_isNumericShiftPercent};e.CalculationDialogUsageTracking={CALCULATION_DIALOG_ACTION:"DATA_ANALYZER_2_CALCULATION",CALCULATION_DIALOG_FEATURE:"DataAnalyser",CALCULATION_TYPE:"calculationType",CLOSE_EVENT_KEY:"closeEvent",CREATE_EVENT:"Create",DATASOURCE:"dataSource",DATASOURCE_TYPE_PREFIX:"DataSource.",FUNCTION_USED:"functionUsed",UPDATE_EVENT:"Update",recordCalculationDialogEvent:function(t,i,o,n,a){let r=e.PrFactory.createStructure();r.putString(e.CalculationDialogUsageTracking.CLOSE_EVENT_KEY,i);r.putString(e.CalculationDialogUsageTracking.DATASOURCE,e.XStringUtils.concatenate2(e.CalculationDialogUsageTracking.DATASOURCE_TYPE_PREFIX,o));r.putString(e.CalculationDialogUsageTracking.CALCULATION_TYPE,n.getName());r.putString(e.CalculationDialogUsageTracking.FUNCTION_USED,e.CalculationDialogUsageTracking.setToCsv(a));t.interceptUserActivity(null,e.CalculationDialogUsageTracking.CALCULATION_DIALOG_ACTION,e.CalculationDialogUsageTracking.CALCULATION_DIALOG_FEATURE,r)},setToCsv:function(t){let i=e.XStringBuffer.create();i.append("");if(e.notNull(t)){let e=t.getIterator();while(e.hasNext()){let t=e.next();i.append(t);i.append(",")}}return i.toString()}};e.OuCalcCalculationsDialogViewConstants={ASSISTANCE_PANEL_AREA_CSS_CLASS:"ffCalculationsAssistancePanelArea",CALCULATION_DIALOG_V1_CSS_CLASS:"ffCalculationsDialogV1",CALCULATION_DIALOG_V2_CSS_CLASS:"ffCalculationsDialogV2",CODE_EDITOR_AREA_CSS_CLASS:"ffCalculationsDialogCodeEditorArea",COLLAPSED_CSS_CLASS:"ffOuPanelCollapsed",DETAILS_AREA_CSS_CLASS:"ffCalculationsDialogDetailsArea",FORMULA_ITEM_LIST_AREA_CSS_CLASS:"ffCalculationsFormulaItemListArea",FULLSPACE_CSS_CLASS:"ffOuPanelFullSpace",LAYOUT_BOTTOM_CSS_CLASS:"ffCalculationsDialog-FormulaEditor-BottomLayout",LAYOUT_BOTTOM_RIGHT_CSS_CLASS:"ffCalculationsDialog-FormulaEditor-BottomRightLayout",LAYOUT_TOP_CSS_CLASS:"ffCalculationsDialog-FormulaEditor-TopLayout",MAIN_LAYOUT_CSS_CLASS:"ffCalculationsDialog-FormulaEditor-MainLayout",PANEL_ITEM_ASSISTANCE_CSS_CLASS:"ffCalculationDialog-FormulaEditor-AssistanceItem",PANEL_ITEM_ASSISTANCE_MIN_HEIGHT:"4.6875rem",PANEL_ITEM_CENTRAL_CSS_CLASS:"ffCalculationDialog-FormulaEditor-CentralPanelItem",PANEL_ITEM_EDITOR_CSS_CLASS:"ffCalculationDialog-FormulaEditor-EditorPanelItem",PANEL_ITEM_LEFT_CSS_CLASS:"ffCalculationDialog-FormulaEditor-LeftPanelItem",PANEL_ITEM_RIGHT_CSS_CLASS:"ffCalculationDialog-FormulaEditor-RightPanelItem",V1_PANEL_ITEM_LEFT_MAX_WIDTH:"60%",V1_PANEL_ITEM_LEFT_MIN_WIDTH:"9.375rem",V2_PANEL_ITEM_LEFT_WIDTH_BIG_VIEWPORT:"23rem",V2_PANEL_ITEM_LEFT_WIDTH_SMALL_VIEWPORT:"23rem",V2_PANEL_ITEM_RIGHT_WIDTH_BIG_VIEWPORT:"27rem",V2_PANEL_ITEM_RIGHT_WIDTH_SMALL_VIEWPORT:"23rem"};e.OlapUiCatalogAbstract=function(){};e.OlapUiCatalogAbstract.prototype=new e.XObject;e.OlapUiCatalogAbstract.prototype._ff_c="OlapUiCatalogAbstract";e.OlapUiCatalogAbstract.s_syncType=null;e.OlapUiCatalogAbstract.prototype.m_valueRequestObject=null;e.OlapUiCatalogAbstract.prototype.releaseObject=function(){e.XObject.prototype.releaseObject.call(this);this.m_valueRequestObject=null};e.OlapUiCatalogAbstract.prototype.setupExt=function(t){this.m_valueRequestObject=t;if(e.isNull(e.OlapUiCatalogAbstract.s_syncType)){e.OlapUiCatalogAbstract.s_syncType=e.SyncType.NON_BLOCKING}};e.OlapUiHierarchyCatalogAbstract=function(){};e.OlapUiHierarchyCatalogAbstract.prototype=new e.XObject;e.OlapUiHierarchyCatalogAbstract.prototype._ff_c="OlapUiHierarchyCatalogAbstract";e.OlapUiHierarchyCatalogAbstract.s_syncType=null;e.OlapUiHierarchyCatalogAbstract.prototype.m_valueRequestObject=null;e.OlapUiHierarchyCatalogAbstract.prototype.releaseObject=function(){e.XObject.prototype.releaseObject.call(this);this.m_valueRequestObject=null};e.OlapUiHierarchyCatalogAbstract.prototype.setupExt=function(t){this.m_valueRequestObject=t;if(e.isNull(e.OlapUiHierarchyCatalogAbstract.s_syncType)){e.OlapUiHierarchyCatalogAbstract.s_syncType=e.SyncType.NON_BLOCKING}};e.ClipboardHelperForFdItem=function(){};e.ClipboardHelperForFdItem.prototype=new e.XObject;e.ClipboardHelperForFdItem.prototype._ff_c="ClipboardHelperForFdItem";e.ClipboardHelperForFdItem.createHelper=function(){return new e.ClipboardHelperForFdItem};e.ClipboardHelperForFdItem.prototype.getValueGrid=function(t){let i=e.XLocalizationCenter.getCenter();let o=e.XList.create();for(let n=0;n<t.size();n++){let a=t.get(n);let r=a.getDisplayKey();if(e.isNull(r)){continue}let l=e.XList.create();if(e.XString.isEqual(r,"")){l.add(this.mapToCbValue(i.getText(e.OuVariableDialogI18nLegacy.I18N_VD_NO_VALUE)))}else{l.add(r)}o.add(l)}return o};e.ClipboardHelperForFdItem.prototype.mapToCbValue=function(t){if(!e.XString.startsWith(t,"(")&&!e.XString.endsWith(t,")")){return e.XStringUtils.concatenate3("(",t,")")}return t};e.ClipboardHelperForFdItem.prototype.parseFromClipboard=function(t,i){let o=e.XLinkedHashMapByString.create();if(e.XStringUtils.isNullOrEmpty(t)){return e.XList.create()}let n=e.DialogGridParser.deserializeWithDefault(t);let a=n.size();for(let t=0;t<a;t++){let a=n.get(t);if(a.hasElements()){let t=a.get(0);let n=e.FilterDialogValueFactory.createValue(i?t:null,i?null:t,null);o.put(e.XString.toLowerCase(t),n)}}return e.XCollectionUtils.createListCopy(o.getValuesAsReadOnlyList())};e.ClipboardHelperForVdValue=function(){};e.ClipboardHelperForVdValue.prototype=new e.XObject;e.ClipboardHelperForVdValue.prototype._ff_c="ClipboardHelperForVdValue";e.ClipboardHelperForVdValue.createHelper=function(){let t=new e.ClipboardHelperForVdValue;t.m_i18n=e.OuVariableDialogI18nLegacy.getProvider();return t};e.ClipboardHelperForVdValue.prototype.m_i18n=null;e.ClipboardHelperForVdValue.prototype.createUniqueValueKey=function(t){let i=t.getFirstOperand();let o=t.getSecondOperand();let n=i.getDisplayKey();let a=e.notNull(o)?o.getDisplayKey():null;return e.XStringUtils.concatenate3(t.getOperator().getName(),e.XString.toLowerCase(n),e.XString.toLowerCase(a))};e.ClipboardHelperForVdValue.prototype.getValueGrid=function(t){let i=e.XList.create();for(let o=0;o<t.size();o++){let n=t.get(o);let a=n.getOperator();let r=n.getFirstOperand().getDisplayKey();let l=n.getSecondOperand().getDisplayKey();if(e.isNull(a)||e.isNull(r)){continue}let s=e.XList.create();if(a.isNullOperator()){s.add(this.mapToCbValue(a.getShortText()))}else if(e.XString.isEqual(r,"")){s.add(this.mapToCbValue(this.m_i18n.getText(e.OuVariableDialogI18nLegacy.I18N_VD_NO_VALUE)))}else{s.add(r)}if(e.XStringUtils.isNotNullAndNotEmpty(l)){s.add(l)}i.add(s)}return i};e.ClipboardHelperForVdValue.prototype.mapToCbValue=function(t){if(!e.XString.startsWith(t,"(")&&!e.XString.endsWith(t,")")){return e.XStringUtils.concatenate3("(",t,")")}return t};e.ClipboardHelperForVdValue.prototype.parseFromClipboard=function(t,i,o){let n=e.XLinkedHashMapByString.create();if(e.XStringUtils.isNullOrEmpty(t)){return e.XList.create()}let a=this.mapToCbValue(e.VdComparisonOperator.IS_NULL.getShortText());let r=this.mapToCbValue(e.VdComparisonOperator.IS_NOT_NULL.getShortText());let l=this.mapToCbValue(this.m_i18n.getText(e.OuVariableDialogI18nLegacy.I18N_VD_NO_VALUE));let s=e.DialogGridParser.deserializeWithDefault(t);let u=s.size();for(let t=0;t<u;t++){let u=s.get(t);if(u.hasElements()){let t=e.VdValue.createValue(e.VdComparisonOperator.EQUAL,null,null);let s=u.get(0);if(e.XString.isEqual(s,a)){t.setOperator(e.VdComparisonOperator.IS_NULL)}else if(e.XString.isEqual(s,r)){if(!i){continue}t.setOperator(e.VdComparisonOperator.IS_NOT_NULL)}else if(e.XString.isEqual(s,l)){t.setFirstOperand(e.FilterDialogValueFactory.createValue(null,"",null))}else{t.setFirstOperand(e.FilterDialogValueFactory.createValue(null,s,null));if(u.size()>1&&o){t.setSecondOperand(e.FilterDialogValueFactory.createValue(null,u.get(1),null));t.setOperator(e.VdComparisonOperator.BETWEEN);t.updateOperandOrder()}}n.put(this.createUniqueValueKey(t),t)}}return e.XCollectionUtils.createListCopy(n.getValuesAsReadOnlyList())};e.ClipboardHelperForVdValue.prototype.releaseObject=function(){this.m_i18n=null;e.XObject.prototype.releaseObject.call(this)};e.CbLayout=function(){};e.CbLayout.prototype=new e.XObject;e.CbLayout.prototype._ff_c="CbLayout";e.CbLayout.create=function(){return new e.CbLayout};e.CbLayout.prototype.m_infoLabel=null;e.CbLayout.prototype.m_infoSection=null;e.CbLayout.prototype.m_layout=null;e.CbLayout.prototype.m_textArea=null;e.CbLayout.prototype.buildOlapDialogUi=function(e){let t=this.buildTree(e);e.setRoot(t)};e.CbLayout.prototype.buildTree=function(t){this.m_layout=t.newControl(e.UiType.VERTICAL_LAYOUT);this.m_layout.setName("ClipboardWrapper");this.m_infoSection=t.newControl(e.UiType.FLEX_LAYOUT);this.m_infoSection.setDirection(e.UiFlexDirection.ROW);let i=t.newControl(e.UiType.ICON);i.setIcon("message-information");i.setEnabled(false);this.m_infoSection.addItem(i);let o=t.newControl(e.UiType.SPACER);o.setWidth(e.UiCssLength.createExt(5,e.UiCssSizeUnit.PIXEL));this.m_infoSection.addItem(o);this.m_infoLabel=t.newControl(e.UiType.LABEL);this.m_infoLabel.setName("ClipboardInfoLbl");this.m_infoLabel.setTextAlign(e.UiTextAlign.CENTER);this.m_infoLabel.setFontStyle(e.UiFontStyle.ITALIC);this.m_infoSection.addItem(this.m_infoLabel);this.m_layout.addItem(this.m_infoSection);let n=t.newControl(e.UiType.SPACER);n.setHeight(e.UiCssLength.createExt(10,e.UiCssSizeUnit.PIXEL));this.m_layout.addItem(n);this.m_textArea=t.newControl(e.UiType.TEXT_AREA);this.m_textArea.setName("ClipboardDialogTextArea");this.m_textArea.setWidth(e.UiCssLength.create("100%"));this.m_textArea.setHeight(e.UiCssLength.createExt(550,e.UiCssSizeUnit.PIXEL));this.m_layout.addItem(this.m_textArea);return this.m_layout};e.CbLayout.prototype.getInfoLabel=function(){return this.m_infoLabel};e.CbLayout.prototype.getInfoSection=function(){return this.m_infoSection};e.CbLayout.prototype.getTextArea=function(){return this.m_textArea};e.CmtFactory=function(){};e.CmtFactory.prototype=new e.XObject;e.CmtFactory.prototype._ff_c="CmtFactory";e.CmtFactory.createFactory=function(t){let i=new e.CmtFactory;i.m_context=t;return i};e.CmtFactory.prototype.m_context=null;e.CmtFactory.prototype.newCommentingDialogInstance=function(){return e.CmtController.create(this.m_context)};e.CmtLayout=function(){};e.CmtLayout.prototype=new e.XObject;e.CmtLayout.prototype._ff_c="CmtLayout";e.CmtLayout.create=function(){return new e.CmtLayout};e.CmtLayout.prototype.m_infoLabel=null;e.CmtLayout.prototype.m_infoSection=null;e.CmtLayout.prototype.m_layout=null;e.CmtLayout.prototype.m_textArea=null;e.CmtLayout.prototype.buildOlapDialogUi=function(e){let t=this.buildTree(e);e.setRoot(t)};e.CmtLayout.prototype.buildTree=function(t){this.m_layout=t.newControl(e.UiType.VERTICAL_LAYOUT);this.m_layout.setName("CmtDialogWrapper");this.m_infoSection=t.newControl(e.UiType.FLEX_LAYOUT);this.m_infoSection.setDirection(e.UiFlexDirection.ROW);this.m_infoLabel=t.newControl(e.UiType.LABEL);this.m_infoLabel.setName("CommentingInfoLbl");this.m_infoLabel.setTextAlign(e.UiTextAlign.CENTER);this.m_infoSection.addItem(this.m_infoLabel);this.m_layout.addItem(this.m_infoSection);this.m_textArea=t.newControl(e.UiType.TEXT_AREA);this.m_textArea.setName("CommentingTextArea");this.m_textArea.setWidth(e.UiCssLength.create("100%"));this.m_textArea.setHeight(e.UiCssLength.createExt(550,e.UiCssSizeUnit.PIXEL));this.m_layout.addItem(this.m_textArea);return this.m_layout};e.CmtLayout.prototype.getInfoLabel=function(){return this.m_infoLabel};e.CmtLayout.prototype.getInfoSection=function(){return this.m_infoSection};e.CmtLayout.prototype.getTextArea=function(){return this.m_textArea};e.OuCurrencyConversionDialogHelper=function(){};e.OuCurrencyConversionDialogHelper.prototype=new e.XObject;e.OuCurrencyConversionDialogHelper.prototype._ff_c="OuCurrencyConversionDialogHelper";e.OuCurrencyConversionDialogHelper.EMPTY_ITEM_NAME="CurrencyConversionDialog_EmptyItem";e.OuCurrencyConversionDialogHelper.EXCEPTION_NO_TRANSLATION_MANAGER="A Currency Translation Manager must be provided!";e.OuCurrencyConversionDialogHelper.create=function(t){if(e.isNull(t)){throw e.XException.createRuntimeException(e.OuCurrencyConversionDialogHelper.EXCEPTION_NO_TRANSLATION_MANAGER)}let i=new e.OuCurrencyConversionDialogHelper;i.m_currencyTranslationManager=t;i.setupCurrencyTranslations();return i};e.OuCurrencyConversionDialogHelper.prototype.m_availableCurrencies=null;e.OuCurrencyConversionDialogHelper.prototype.m_availableCurrencyTranslations=null;e.OuCurrencyConversionDialogHelper.prototype.m_currencyMap=null;e.OuCurrencyConversionDialogHelper.prototype.m_currencyToTranslationMap=null;e.OuCurrencyConversionDialogHelper.prototype.m_currencyTranslationManager=null;e.OuCurrencyConversionDialogHelper.prototype.m_translationMap=null;e.OuCurrencyConversionDialogHelper.prototype.m_translationToCurrencyMap=null;e.OuCurrencyConversionDialogHelper.prototype.m_translationsApplicableToAllCurrencies=null;e.OuCurrencyConversionDialogHelper.prototype.getAvailableCurrencies=function(){return this.m_availableCurrencies};e.OuCurrencyConversionDialogHelper.prototype.getAvailableCurrencyTranslations=function(){return this.m_availableCurrencyTranslations};e.OuCurrencyConversionDialogHelper.prototype.getCurrenciesOfTranslation=function(t){if(e.XStringUtils.isNotNullAndNotEmpty(t)&&!e.XString.isEqual(t,e.OuCurrencyConversionDialogHelper.EMPTY_ITEM_NAME)){let i=this.m_translationToCurrencyMap.getByKey(t);if(e.notNull(i)){return this.m_translationToCurrencyMap.getByKey(t)}}return this.getAvailableCurrencies()};e.OuCurrencyConversionDialogHelper.prototype.getCurrencyByName=function(e){return this.m_currencyMap.getByKey(e)};e.OuCurrencyConversionDialogHelper.prototype.getCurrencyTranslationByName=function(e){return this.m_translationMap.getByKey(e)};e.OuCurrencyConversionDialogHelper.prototype.getTranslationsOfCurrency=function(t){if(e.XStringUtils.isNotNullAndNotEmpty(t)&&!e.XString.isEqual(t,e.OuCurrencyConversionDialogHelper.EMPTY_ITEM_NAME)){let i=this.m_currencyToTranslationMap.getByKey(t);let o=e.notNull(i)?this.m_currencyToTranslationMap.getByKey(t).createListCopy():e.XList.create();o.addAll(this.m_translationsApplicableToAllCurrencies);return o}else{return this.getAvailableCurrencyTranslations()}};e.OuCurrencyConversionDialogHelper.prototype.initInstanceVariables=function(){this.m_availableCurrencies=e.XList.create();this.m_availableCurrencyTranslations=e.XList.create();this.m_translationsApplicableToAllCurrencies=e.XList.create();this.m_currencyMap=e.XHashMapByString.create();this.m_translationMap=e.XHashMapByString.create();this.m_currencyToTranslationMap=e.XHashMapByString.create();this.m_translationToCurrencyMap=e.XHashMapByString.create()};e.OuCurrencyConversionDialogHelper.prototype.isEmptyItemValue=function(t){return e.XStringUtils.isNullOrEmpty(t)||e.XString.isEqual(t,e.OuCurrencyConversionDialogHelper.EMPTY_ITEM_NAME)};e.OuCurrencyConversionDialogHelper.prototype.releaseObject=function(){this.m_availableCurrencies=null;this.m_availableCurrencyTranslations=null;this.m_translationsApplicableToAllCurrencies=e.XObjectExt.release(this.m_translationsApplicableToAllCurrencies);this.m_currencyMap=e.XObjectExt.release(this.m_currencyMap);this.m_translationMap=e.XObjectExt.release(this.m_translationMap);this.m_currencyToTranslationMap=e.XObjectExt.release(this.m_currencyToTranslationMap);this.m_translationToCurrencyMap=e.XObjectExt.release(this.m_translationToCurrencyMap);this.m_currencyTranslationManager=null;e.XObject.prototype.releaseObject.call(this)};e.OuCurrencyConversionDialogHelper.prototype.setupCrossLookups=function(){e.XStream.of(this.m_availableCurrencyTranslations).forEach(t=>{let i=t.getFixedTargetCurrency();if(e.XStringUtils.isNullOrEmpty(i)){this.m_translationsApplicableToAllCurrencies.add(t)}else{if(this.m_currencyToTranslationMap.containsKey(i)){this.m_currencyToTranslationMap.getByKey(i).add(t)}else{let o=e.XList.create();o.add(t);this.m_currencyToTranslationMap.put(i,o)}let o=t.getName();let n=this.m_currencyMap.getByKey(i);if(this.m_translationToCurrencyMap.containsKey(o)){this.m_translationToCurrencyMap.getByKey(o).add(n)}else{let t=e.XList.create();t.add(n);this.m_translationToCurrencyMap.put(o,t)}}})};e.OuCurrencyConversionDialogHelper.prototype.setupCurrencyTranslations=function(){this.initInstanceVariables();this.m_availableCurrencies=this.m_currencyTranslationManager.getAvailableCurrencies();if(e.isNull(this.m_availableCurrencies)){this.m_availableCurrencies=e.XList.create()}this.m_availableCurrencyTranslations=this.m_currencyTranslationManager.getAvailableCurrencyTranslationObjects();if(e.isNull(this.m_availableCurrencyTranslations)){this.m_availableCurrencyTranslations=e.XList.create()}this.setupSimpleLookups();this.setupCrossLookups()};e.OuCurrencyConversionDialogHelper.prototype.setupSimpleLookups=function(){if(e.notNull(this.m_availableCurrencies)&&this.m_availableCurrencies.size()>0){let t=e.XStream.of(this.m_availableCurrencies);this.m_currencyMap=t.collect(e.XStreamCollector.toMap(e=>e.getName(),e=>e))}if(e.notNull(this.m_availableCurrencyTranslations)&&this.m_availableCurrencyTranslations.size()>0){let t=e.XStream.of(this.m_availableCurrencyTranslations);this.m_translationMap=t.collect(e.XStreamCollector.toMap(e=>e.getName(),e=>e))}};e.DataCellModel=function(){};e.DataCellModel.prototype=new e.XObject;e.DataCellModel.prototype._ff_c="DataCellModel";e.DataCellModel.create=function(){return new e.DataCellModel};e.DataCellModel.prototype.m_decimal=null;e.DataCellModel.prototype.m_decimalDefaultAsMetadata=false;e.DataCellModel.prototype.m_decimalDefaultvalue=null;e.DataCellModel.prototype.m_decimalSelections=null;e.DataCellModel.prototype.m_disaggregationModeDefaultAsMetadata=false;e.DataCellModel.prototype.m_disaggregationModeDefaultvalue=null;e.DataCellModel.prototype.m_disaggregationModeOnModel=null;e.DataCellModel.prototype.m_disaggregationModeSelections=null;e.DataCellModel.prototype.m_resultCalculationOnModel=null;e.DataCellModel.prototype.m_resultCalculationSelections=null;e.DataCellModel.prototype.m_scaling=null;e.DataCellModel.prototype.m_scalingDefaultAsMetadata=false;e.DataCellModel.prototype.m_scalingDefaultvalue=null;e.DataCellModel.prototype.m_scalingSelections=null;e.DataCellModel.prototype.m_singleValueCalculationOnModel=null;e.DataCellModel.prototype.m_singleValueCalculationSelections=null;e.DataCellModel.prototype.m_valueType=null;e.DataCellModel.prototype.getDecimal=function(){return this.m_decimal};e.DataCellModel.prototype.getDecimalDefaultAsMetadata=function(){return this.m_decimalDefaultAsMetadata};e.DataCellModel.prototype.getDecimalDefaultValue=function(){return e.notNull(this.m_decimalDefaultvalue)?this.m_decimalDefaultvalue.getStringRepresentation():null};e.DataCellModel.prototype.getDecimalSelections=function(){return this.m_decimalSelections};e.DataCellModel.prototype.getDisaggregationModeDefaultAsMetadata=function(){return this.m_disaggregationModeDefaultAsMetadata};e.DataCellModel.prototype.getDisaggregationModeDefaultvalue=function(){return this.m_disaggregationModeDefaultvalue};e.DataCellModel.prototype.getDisaggregationModeOnModel=function(){return this.m_disaggregationModeOnModel};e.DataCellModel.prototype.getDisaggregationModeSelections=function(){return this.m_disaggregationModeSelections};e.DataCellModel.prototype.getResultCalculationOnModel=function(){return this.m_resultCalculationOnModel};e.DataCellModel.prototype.getResultCalculationSelections=function(){return this.m_resultCalculationSelections};e.DataCellModel.prototype.getScaling=function(){return this.m_scaling};e.DataCellModel.prototype.getScalingDefaultAsMetadata=function(){return this.m_scalingDefaultAsMetadata};e.DataCellModel.prototype.getScalingDefaultValue=function(){return e.notNull(this.m_scalingDefaultvalue)?this.m_scalingDefaultvalue.getStringRepresentation():null};e.DataCellModel.prototype.getScalingSelections=function(){return this.m_scalingSelections};e.DataCellModel.prototype.getSingleValueCalculationOnModel=function(){return this.m_singleValueCalculationOnModel};e.DataCellModel.prototype.getSingleValueCalculationSelections=function(){return this.m_singleValueCalculationSelections};e.DataCellModel.prototype.getValueType=function(){return this.m_valueType};e.DataCellModel.prototype.setDecimal=function(e){this.m_decimal=e};e.DataCellModel.prototype.setDecimalDefaultAsMetadata=function(e){this.m_decimalDefaultAsMetadata=e};e.DataCellModel.prototype.setDecimalDefaultValue=function(e){this.m_decimalDefaultvalue=e};e.DataCellModel.prototype.setDisaggregationModeDefaultAsMetadata=function(e){this.m_disaggregationModeDefaultAsMetadata=e};e.DataCellModel.prototype.setDisaggregationModeDefaultvalue=function(e){this.m_disaggregationModeDefaultvalue=e};e.DataCellModel.prototype.setModelValues=function(e,t,i,o,n,a,r,l,s,u,m){this.m_decimalSelections=e;this.m_scalingSelections=t;this.m_resultCalculationSelections=i;this.m_singleValueCalculationSelections=o;this.m_decimal=n;this.m_scaling=a;this.m_resultCalculationOnModel=r;this.m_singleValueCalculationOnModel=l;this.m_valueType=s;this.m_disaggregationModeSelections=u;this.m_disaggregationModeOnModel=m};e.DataCellModel.prototype.setScaling=function(e){this.m_scaling=e};e.DataCellModel.prototype.setScalingDefaultAsMetadata=function(e){this.m_scalingDefaultAsMetadata=e};e.DataCellModel.prototype.setScalingDefaultValue=function(e){this.m_scalingDefaultvalue=e};e.OuDatasourcePickerLambdaListener=function(){};e.OuDatasourcePickerLambdaListener.prototype=new e.XObject;e.OuDatasourcePickerLambdaListener.prototype._ff_c="OuDatasourcePickerLambdaListener";e.OuDatasourcePickerLambdaListener.create=function(t){let i=new e.OuDatasourcePickerLambdaListener;i.m_consumer=t;return i};e.OuDatasourcePickerLambdaListener.prototype.m_consumer=null;e.OuDatasourcePickerLambdaListener.prototype.onDatasourceSelected=function(e){this.m_consumer(e)};e.OuDatasourcePickerLambdaListener.prototype.releaseObject=function(){this.m_consumer=null;e.XObject.prototype.releaseObject.call(this)};e.DdControllerAbstract=function(){};e.DdControllerAbstract.prototype=new e.XObject;e.DdControllerAbstract.prototype._ff_c="DdControllerAbstract";e.DdControllerAbstract.BOTTOM_BUTTON="moveBottom";e.DdControllerAbstract.DISPLAY_CHECKBOX="displayCheckbox";e.DdControllerAbstract.DOWN_BUTTON="moveDown";e.DdControllerAbstract.TOP_BUTTON="moveTop";e.DdControllerAbstract.UP_BUTTON="moveUp";e.DdControllerAbstract.addEditablePropertyVerticalLayout=function(t,i,o,n){if(e.notNull(n)){n.setAlignSelf(e.UiFlexAlignSelf.AUTO);let a=t.addNewItemOfType(e.UiType.FLEX_LAYOUT).setWidth(e.UiCssLength.create("100%"));let r=a.addNewItemOfType(e.UiType.LABEL).setWidth(e.UiCssLength.create("100%")).setTextAlign(e.UiTextAlign.RIGHT).setHeight(e.UiCssLength.create("100%")).setAlignSelf(e.UiFlexAlignSelf.CENTER);r.setText(o).setName(i);a.addItem(n.setWidth(e.UiCssLength.create("100%")).setAlignSelf(e.UiFlexAlignSelf.CENTER))}};e.DdControllerAbstract.prototype.m_genesis=null;e.DdControllerAbstract.prototype.addControlsFl=function(t,i,o){for(let n=0;n<i.size();n++){t.addItem(i.get(n).setWidth(e.UiCssLength.create(o.get(n))).setTextAlign(e.UiTextAlign.CENTER).setAlignSelf(e.UiFlexAlignSelf.CENTER))}};e.DdControllerAbstract.prototype.addFlexLayoutComponents=function(e){this.addControlsFl(e,this.getPrefixControls(),this.getPrefixWidths());this.addControlsFl(e,this.getControls(),this.getWidths());this.addControlsFl(e,this.getSuffixControls(),this.getSuffixWidths())};e.DdControllerAbstract.prototype.addHeadersToFl=function(t,i,o){for(let n=0;n<i.size();n++){t.addNewItemOfType(e.UiType.LABEL).setText(i.get(n)).setWidth(e.UiCssLength.create(o.get(n))).setAlignSelf(e.UiFlexAlignSelf.CENTER).setTextAlign(e.UiTextAlign.CENTER)}};e.DdControllerAbstract.prototype.addToLeftRightVerticalLayout=function(t){let i=this.getLabelTexts();let o=this.getControls();let n=e.XMath.min(i.size(),o.size());for(let a=0;a<n;a++){let n=t.addNewItemOfType(e.UiType.FLEX_LAYOUT).setWidth(e.UiCssLength.create("100%"));let r=n.addNewItemOfType(e.UiType.LABEL).setWidth(e.UiCssLength.create("100%")).setTextAlign(e.UiTextAlign.RIGHT).setAlignSelf(e.UiFlexAlignSelf.CENTER);r.setText(i.get(a));n.addItem(o.get(a).setWidth(e.UiCssLength.create("100%")).setAlignSelf(e.UiFlexAlignSelf.CENTER))}};e.DdControllerAbstract.prototype.addToVerticalLayout=function(t){let i=this.getLabelTexts();let o=this.getControls();let n=e.XMath.min(i.size(),o.size());for(let a=0;a<n;a++){let n=t.addNewItemOfType(e.UiType.LABEL);n.setText(i.get(a));t.addItem(o.get(a))}};e.DdControllerAbstract.prototype.addVlHeaders=function(t){let i=t.addNewItemOfType(e.UiType.FLEX_LAYOUT).setWidth(e.UiCssLength.create("100%"));this.addHeadersToFl(i,this.getPrefixLabelTexts(),this.getPrefixWidths());this.addHeadersToFl(i,this.getLabelTexts(),this.getWidths());this.addHeadersToFl(i,this.getSuffixLabelTexts(),this.getSuffixWidths())};e.DdControllerAbstract.prototype.getGenesis=function(){return this.m_genesis};e.DdControllerAbstract.prototype.setupGenesis=function(e){this.m_genesis=e};e.DdFactory=function(){};e.DdFactory.prototype=new e.XObject;e.DdFactory.prototype._ff_c="DdFactory";e.DdFactory.createFactory=function(t,i){let o=new e.DdFactory;o.m_context=i;o.m_application=t;return o};e.DdFactory.prototype.m_application=null;e.DdFactory.prototype.m_context=null;e.DdFactory.prototype.newAxisDialogInstance=function(){return e.DdControllerAxis.create(this.m_application,this.m_context)};e.DdFactory.prototype.newDimensionDialogInstance=function(){return e.DdControllerDimensionCompact.create(this.m_application,this.m_context)};e.DdOceanEntryPoint=function(){};e.DdOceanEntryPoint.prototype=new e.XObject;e.DdOceanEntryPoint.prototype._ff_c="DdOceanEntryPoint";e.DdOceanEntryPoint.createEntryPoint=function(t){let i=new e.DdOceanEntryPoint;i.setupEntryPoint(t);return i};e.DdOceanEntryPoint.prototype.m_ddControllerAxis=null;e.DdOceanEntryPoint.prototype.m_ddControllerDimension=null;e.DdOceanEntryPoint.prototype.closeAxisDialog=function(){this.m_ddControllerAxis.closeDialog()};e.DdOceanEntryPoint.prototype.closeDimensionDialog=function(){this.m_ddControllerDimension.closeDialog()};e.DdOceanEntryPoint.prototype.openAxisDialog=function(e,t,i){this.m_ddControllerAxis.openDialog(e,t,i)};e.DdOceanEntryPoint.prototype.openDimensionDialog=function(e,t,i){this.m_ddControllerDimension.openDialog(e,t,i)};e.DdOceanEntryPoint.prototype.releaseObject=function(){e.XObject.prototype.releaseObject.call(this);this.m_ddControllerAxis=e.XObjectExt.release(this.m_ddControllerAxis);this.m_ddControllerDimension=e.XObjectExt.release(this.m_ddControllerDimension)};e.DdOceanEntryPoint.prototype.setupEntryPoint=function(t){let i=t.getUiManager();let o=e.OlapUiDisplayFactory.createFactoryForDialog(i);let n=e.OlapUiContext.createContext(i,o);this.m_ddControllerAxis=e.DdFactory.createFactory(t,n).newAxisDialogInstance();this.m_ddControllerDimension=e.DdFactory.createFactory(t,n).newDimensionDialogInstance()};e.DdLayoutAbstract=function(){};e.DdLayoutAbstract.prototype=new e.XObject;e.DdLayoutAbstract.prototype._ff_c="DdLayoutAbstract";e.DdLayoutAbstract.prototype.m_root=null;e.DdLayoutAbstract.prototype.buildOlapDialogUi=function(e){this.m_root=this.buildTree(e);e.setRoot(this.m_root)};e.DdModelAbstract={};e.DdObservableModel=function(){};e.DdObservableModel.prototype=new e.XObject;e.DdObservableModel.prototype._ff_c="DdObservableModel";e.DdObservableModel.prototype.m_listeners=null;e.DdObservableModel.prototype.addListener=function(e){this.m_listeners.add(e)};e.DdObservableModel.prototype.callListeners=function(){if(e.notNull(this.m_listeners)){for(let e=0;e<this.m_listeners.size();e++){this.m_listeners.get(e).onObservableModelChange(this)}}};e.DdObservableModel.prototype.releaseObject=function(){this.m_listeners=e.XObjectExt.release(this.m_listeners)};e.DdObservableModel.prototype.removeListener=function(e){this.m_listeners.removeElement(e)};e.DdObservableModel.prototype.setupListeners=function(){this.m_listeners=e.XList.create()};e.OuDd2AbstractTab=function(){};e.OuDd2AbstractTab.prototype=new e.XObject;e.OuDd2AbstractTab.prototype._ff_c="OuDd2AbstractTab";e.OuDd2AbstractTab.prototype.m_dimension=null;e.OuDd2AbstractTab.prototype.m_form=null;e.OuDd2AbstractTab.prototype.m_i18n=null;e.OuDd2AbstractTab.prototype.m_mainAttributeModel=null;e.OuDd2AbstractTab.prototype.m_startValues=null;e.OuDd2AbstractTab.prototype.focus=function(){if(this.getTabBarItem()!==null){this.getTabBarItem().focus()}};e.OuDd2AbstractTab.prototype.hasChanged=function(t,i){return!e.XObjectExt.areEqual(t.getByKey(i),this.m_startValues.getByKey(i))};e.OuDd2AbstractTab.prototype.selectItem=function(){let t=this.getTabBarItem();if(e.notNull(t)){t.getParent().setSelectedItem(t)}};e.OuDd2AbstractTab.prototype.setupTab=function(t,i){this.m_dimension=t;this.m_i18n=i;let o=this.m_dimension.getMainAttribute();if(e.isNull(o)){this.m_mainAttributeModel=e.FieldContainerPresentationHelper.createFromFieldContainer(this.m_dimension);this.m_mainAttributeModel.applyResultSetSettings(this.m_dimension)}else{this.m_mainAttributeModel=e.FieldContainerPresentationHelper.createFromFieldContainer(o);let t=e.XStream.of(this.m_dimension.getResultSetAttributes()).filter(t=>e.XString.isEqual(t.getName(),o.getName())).findAny();t.ifPresent(e=>{this.m_mainAttributeModel.applyResultSetSettings(e)})}};e.FdSettings=function(){};e.FdSettings.prototype=new e.XObject;e.FdSettings.prototype._ff_c="FdSettings";e.FdSettings.create=function(t){let i=new e.FdSettings;i.setupSettings(t);return i};e.FdSettings.prototype.m_additionalAttributes=null;e.FdSettings.prototype.m_displayInfo=null;e.FdSettings.prototype.m_readMode=null;e.FdSettings.prototype.getAdditionalAttributes=function(){return this.m_additionalAttributes};e.FdSettings.prototype.getDisplayInfo=function(){return this.m_displayInfo};e.FdSettings.prototype.getReadMode=function(){return this.m_readMode};e.FdSettings.prototype.releaseObject=function(){e.XObject.prototype.releaseObject.call(this);this.m_displayInfo=null;this.m_additionalAttributes=e.XObjectExt.release(this.m_additionalAttributes);this.m_readMode=null};e.FdSettings.prototype.setupSettings=function(t){let i=t.getPresentationsModel().getSelectedMainPresentation();if(e.notNull(i)){if(i.hasKeyPresentation()&&i.hasTextPresentation()){this.m_displayInfo=i.isKeyPrimary()?e.FilterDisplayInfo.ID_AND_DESCRIPTION:e.FilterDisplayInfo.DESCRIPTION_AND_ID}else{this.m_displayInfo=i.hasKeyPresentation()?e.FilterDisplayInfo.ID:e.FilterDisplayInfo.DESCRIPTION}}this.m_additionalAttributes=e.XCollectionUtils.map(t.getPresentationsModel().getSelectedAdditionalPresentations(),e=>e.getTechnicalName());this.m_readMode=t.getReadMode()};e.FdItemFactory=function(){};e.FdItemFactory.prototype=new e.XObject;e.FdItemFactory.prototype._ff_c="FdItemFactory";e.FdItemFactory.asFdItem=function(t){if(e.isNull(t)||t.getProperties()!==null&&t.getProperties().getBooleanByKeyExt(e.FdItem.FD_ITEM_IDENTIFIER,false)){return t}if(t.isNull()){return e.FdItemFactory.createNullValue()}let i;let o=t.getType();if(o===e.FilterDialogValueType.VALUEHELP){i=e.FdValueHelpItem.create(t.getValueHelpNode(),t.getHierarchyName(),null)}else if(o===e.FilterDialogValueType.HIERARCHY_CATALOG){i=e.FdHierarchyCatalogItem.createHierarchyCatalogItem(t.getCatalogItem())}else if(o===e.FilterDialogValueType.RANGE){let o=t;i=e.FdRangeItem.create(e.FdItemFactory.asFdItem(o.getLow()),e.FdItemFactory.asFdItem(o.getHigh()),t.isExcluded())}else if(o===e.FilterDialogValueType.DATE_RANGE_FIXED){let o=t;let n=o.getDateRange();i=e.FdFixedDateRangeItem.create(n.getFixedFromDate(),n.getFixedToDate(),n.getGranularity(),n.getDateTimeProvider())}else if(o===e.FilterDialogValueType.DATE_RANGE_DYNAMIC){let o=t;i=e.FdDynamicDateRangeItem.create(o.getDateRange())}else if(o===e.FilterDialogValueType.USER){i=e.FdUserItem.create(t.getKey(),t.getText(),null)}else if(o===e.FilterDialogValueType.TEAM){i=e.FdTeamItem.create(t.getKey(),t.getText(),null)}else{i=e.FdSimpleItem.createWithType(t.getKey(),t.hasDisplayKey()?t.getDisplayKey():null,t.getText(),t.getValueType())}i.addProperties(t.getProperties());i.setFdComparisonOperator(e.FdComparisonOperator.getByOriginalOperator(t.getComparisonOperator()));i.setHierarchyName(t.getHierarchyName());i.setExcluded(t.isExcluded());return null};e.FdItemFactory.asFdItemList=function(t){let i=e.XList.create();e.XCollectionUtils.forEach(t,t=>{i.add(e.FdItemFactory.asFdItem(t))});return i};e.FdItemFactory.asFdValueList=function(t){let i=e.XList.create();e.XCollectionUtils.forEach(t,e=>{i.add(e)});return i};e.FdItemFactory.convertRangeToDateRangeItem=function(t,i,o){if(e.notNull(t)&&t.getType()===e.FilterDialogValueType.RANGE&&t.getFdComparisonOperator()===e.FdComparisonOperator.BETWEEN){let n=e.XDate.createDateSafe(t.getLowItem().getKey());let a=e.XDate.createDateSafe(t.getHighItem().getKey());if(e.notNull(n)&&e.notNull(a)){return e.FdFixedDateRangeItem.create(n,a,i,o)}}return null};e.FdItemFactory.create=function(){return new e.FdItemFactory};e.FdItemFactory.createItemFromVariableValueBag=function(t,i,o){let n=e.XValueUtil.getString(t.getValue());let a=t.getDisplayKeySupplement(i);let r=t.getTextSupplement(i);return e.FdItemFactory.createSimpleItem(i,o,t,n,a,r)};e.FdItemFactory.createNullValue=function(){return e.FdSimpleItem.createNull(false)};e.FdItemFactory.createRangeItem=function(t,i,o){t.setFdComparisonOperator(e.FdComparisonOperator.EQUAL);i.setFdComparisonOperator(e.FdComparisonOperator.EQUAL);let n=o.getComparisonOperator();return e.FdRangeItem.create(t,i,n===e.ComparisonOperator.NOT_BETWEEN&&o.getSetSign()===e.SetSign.INCLUDING||n===e.ComparisonOperator.BETWEEN&&o.getSetSign()===e.SetSign.EXCLUDING)};e.FdItemFactory.createSimpleItem=function(t,i,o,n,a,r){if(e.notNull(n)||e.notNull(a)||e.notNull(r)){let l=e.FdSimpleItem.createWithType(n,a,r,o.getValueType());l.setFdComparisonOperator(e.FdComparisonOperator.lookup(i.getComparisonOperator().getName()));l.setExcluded(i.getSetSign()===e.SetSign.EXCLUDING);l.setHierarchyName(e.XStringUtils.isNotNullAndNotEmpty(i.getHierarchyName())?i.getHierarchyName():t.getHierarchyName());return l}return null};e.FdItemFactory.prototype.createDateRangeItemFromDateRangeOperation=function(t,i){let o=null;let n=i.getDateRange();if(e.notNull(n)){if(n.isFixedRange()){o=e.FdFixedDateRangeItem.create(n.getFixedFromDate(),n.getFixedToDate(),n.getGranularity(),n.getDateTimeProvider())}else{o=e.FdDynamicDateRangeItem.create(i.getDateRange())}this.updateDateRangeItem(o,t,i)}return o};e.FdItemFactory.prototype.createDimensionFilterItem=function(t,i,o,n){let a=t.getField();let r=a===n.getFlatKeyField()||a===n.getHierarchyKeyField()||a===n.getFirstFieldByType(e.PresentationType.KEY_NOT_COMPOUND);let l=!r&&(a===n.getFlatDisplayKeyField()||a===n.getHierarchyDisplayKeyField()||a===n.getFirstFieldByType(e.PresentationType.DISPLAY_KEY_NOT_COMPOUND));let s=!r&&!l&&e.notNull(a)&&a.getPresentationType().isTypeOf(e.PresentationType.ABSTRACT_TEXT);let u=o.getValue().getStringRepresentation();let m=u;if(!r){m=o.getSupplementValueString(n.getFlatKeyField().getName());if(e.isNull(m)){m=o.getSupplementValueString(n.getHierarchyKeyField().getName())}}let p=l?u:o.getFlatOrHierarchicalDisplayKeySupplement(t);let d=s?u:this.getTextSupplement(t,i,o);return e.FdItemFactory.createSimpleItem(t,i,o,m,p,d)};e.FdItemFactory.prototype.createFixedDateRangeItem=function(t,i,o,n){let a=i.getComparisonOperator();let r=i.getLow();let l=i.getHigh();let s=r.getValue().getStringRepresentation();let u=e.notNull(l)&&l.getValue()!==null?l.getValue().getStringRepresentation():null;let m=false;let p=false;if(a===e.ComparisonOperator.GREATER_EQUAL&&e.isNull(u)){m=e.XString.startsWith(s,"0002");p=true}else if(a===e.ComparisonOperator.LESS_EQUAL&&e.isNull(u)||a===e.ComparisonOperator.BETWEEN&&e.XString.startsWith(s,"0002")){m=true}let d=n;if(o.getFlatKeyField().getValueType().isDateBased()&&(e.notNull(s)&&e.XString.size(s)===4)&&(e.isNull(u)||e.XString.size(u)===4)){d=e.DateRangeGranularity.YEAR}let c=m?null:e.DateRangeGranularityMapper.mapToDate(s,d,false);let _=p?null:e.DateRangeGranularityMapper.mapToDate(m&&e.isNull(u)?s:u,d,true);if((m||e.notNull(c))&&(p||e.notNull(_))){let n=e.FdFixedDateRangeItem.create(c,_,d,o.getProcess().getDateTimeProvider());this.updateDateRangeItem(n,t,i);return n}return null};e.FdItemFactory.prototype.getTextSupplement=function(t,i,o){let n=e.QDimensionUtil.getTextFieldUsedInResultSet(t.getDimension(),e.XStringUtils.isNotNullAndNotEmpty(t.getHierarchyName())||e.XStringUtils.isNotNullAndNotEmpty(i.getHierarchyName()));if(e.notNull(n)){let t=o.getSupplementValueString(n.getName());if(e.notNull(t)){return t}}return o.getFlatOrHierarchicalTextSupplement(t)};e.FdItemFactory.prototype.newDateRangeDynamic=function(t){return e.FdDynamicDateRangeItem.create(t)};e.FdItemFactory.prototype.newDateRangeFixed=function(t,i,o,n){return e.FdFixedDateRangeItem.create(t,i,o,n)};e.FdItemFactory.prototype.newDateRangeItemFromCartesianElement=function(t,i,o){let n=i.getComparisonOperator();if(n===e.ComparisonOperator.BETWEEN||n===e.ComparisonOperator.LESS_EQUAL||n===e.ComparisonOperator.GREATER_EQUAL){if(o.getFlatKeyField().getValueType().isDateBased()){return this.createFixedDateRangeItem(t,i,o,e.DateRangeGranularity.DAY)}let n=t.getField();let a=n===o.getFlatKeyField();let r=n.getName();return e.XStream.of(o.getLeveledHierarchies()).map(t=>e.XCollectionUtils.findFirst(t.getAllLevel(),t=>e.XString.isEqual(r,t.getLevelDimensionName())||a&&e.XString.isEqual(o.getName(),t.getLevelDimensionName()))).filterNullValues().findAny().map(e=>e.getLevelType()!==null?e.getLevelType().mapToDateRangeGranularity():null).map(e=>this.createFixedDateRangeItem(t,i,o,e)).orElse(null)}return null};e.FdItemFactory.prototype.newEmptyValue=function(){return e.FdSimpleItem.create(null,null,null)};e.FdItemFactory.prototype.newNullValue=function(){return e.FdItemFactory.createNullValue()};e.FdItemFactory.prototype.newRangeValue=function(t,i,o){return e.FdRangeItem.create(e.FdItemFactory.asFdItem(t),e.FdItemFactory.asFdItem(i),o)};e.FdItemFactory.prototype.newSelectionFromFilter=function(t,i){let o=e.XList.create();if(e.notNull(t)&&e.notNull(i)&&e.XString.isEqual(i.getDimensionName(),t.getName())){let n=t.getFlatKeyField().getValueType().isDateBased()||e.HierarchyLevelType.getHighestDateRangeGranularity(t)!==null;for(let a=0;a<i.size();a++){let r=i.getCartesianElement(a);let l=r.getComparisonOperator();if(l===e.ComparisonOperator.IS_NULL){let t=e.FdItemFactory.createNullValue();t.setExcluded(r.getSetSign()===e.SetSign.EXCLUDING);o.add(t);continue}let s=r.getLow();if(s.getValue()===null){continue}let u=null;if(r.getOlapComponentType()===e.FilterComponentType.DATE_RANGE_OPERATION){u=this.createDateRangeItemFromDateRangeOperation(i,r)}else if(n){u=this.newDateRangeItemFromCartesianElement(i,r,t)}if(e.isNull(u)){u=this.createDimensionFilterItem(i,r,s,t);if((l===e.ComparisonOperator.BETWEEN||l===e.ComparisonOperator.NOT_BETWEEN)&&r.getHigh()!==null){let o=this.createDimensionFilterItem(i,r,r.getHigh(),t);if(e.notNull(u)&&e.notNull(o)){u=e.FdItemFactory.createRangeItem(u,o,r)}}}if(e.notNull(u)){o.add(u)}}}return o};e.FdItemFactory.prototype.newSelectionFromVariable=function(t){let i=e.XList.create();if(t.hasMemberFilter()){let o=t.getMemberFilter();for(let n=0;n<o.size();n++){let a=o.getOp(n);let r=a.getLow();let l=a.getHigh();let s=a.getComparisonOperator();if(s===e.ComparisonOperator.IS_NULL){let t=e.FdItemFactory.createNullValue();t.setExcluded(a.getSetSign()===e.SetSign.EXCLUDING);i.add(t)}else if(t.getVariableType().isTypeOf(e.VariableType.HIERARCHY_NAME_VARIABLE)){let t=e.XValueUtil.getString(r.getValue());let n=r.getTextSupplement(o);e.XCollectionUtils.addIfNotNull(i,e.FdItemFactory.createSimpleItem(o,a,r,t,t,n))}else{let t=e.FdItemFactory.createItemFromVariableValueBag(r,o,a);if((s===e.ComparisonOperator.BETWEEN||s===e.ComparisonOperator.NOT_BETWEEN)&&e.notNull(l)){let i=e.FdItemFactory.createItemFromVariableValueBag(l,o,a);if(e.notNull(t)&&e.notNull(i)){t=e.FdItemFactory.createRangeItem(t,i,a)}}e.XCollectionUtils.addIfNotNull(i,t)}}}return i};e.FdItemFactory.prototype.newTeamValue=function(t,i,o){return e.FdTeamItem.create(t,i,o)};e.FdItemFactory.prototype.newTeamValueByFile=function(t){return e.FdTeamItem.createWithAttributes(t.getAttributes())};e.FdItemFactory.prototype.newUserValue=function(t,i,o){return e.FdUserItem.create(t,i,o)};e.FdItemFactory.prototype.newUserValueByFile=function(t){return e.FdUserItem.createWithAttributes(t.getAttributes())};e.FdItemFactory.prototype.newValue=function(t,i,o){return e.FdSimpleItem.create(t,i,o)};e.FdItemFactory.prototype.newValueExt=function(t,i,o,n,a){let r=e.FdSimpleItem.create(t,i,o);r.setHierarchyName(n);r.setFdComparisonOperator(e.FdComparisonOperator.getByOriginalOperator(a));return r};e.FdItemFactory.prototype.newValueHelpValue=function(t){if(e.notNull(t)){let i=t.getDimension();let o=i.isSelectorHierarchyActive()?e.XStringUtils.isNotNullAndNotEmpty(i.getSelectorHierarchyName())?i.getSelectorHierarchyName():i.getHierarchyName():null;return e.FdValueHelpItem.create(t,o,null)}return null};e.FdItemFactory.prototype.newValueHelpValueExt=function(t,i,o){if(e.notNull(t)){let n=this.newValueHelpValue(t);n.setHierarchyName(i);n.setFdComparisonOperator(e.FdComparisonOperator.getByOriginalOperator(o));return n}return null};e.FdItemFactory.prototype.newValueWithType=function(t,i,o,n){return e.FdSimpleItem.createWithType(t,i,o,n)};e.FdItemFactory.prototype.updateDateRangeItem=function(t,i,o){if(e.notNull(t)){t.setExcluded(o.getSetSign()===e.SetSign.EXCLUDING);t.setHierarchyName(e.XStringUtils.isNotNullAndNotEmpty(o.getHierarchyName())?o.getHierarchyName():i.getHierarchyName())}};e.OuFilterDialogPerformance={FILTER_DIALOG_PERF_GROUP_NAME:"FilterDialog",MARK_DIALOG_STARTUP_END:"mark_fd_dialog_startup_end",MARK_DIALOG_STARTUP_START:"mark_fd_dialog_startup_start",MEASURE_DIALOG_STARTUP:"measure_fd_dialog_startup",getMeasureResult:function(t){let i=e.XPerformance.getGroup(e.OuFilterDialogPerformance.FILTER_DIALOG_PERF_GROUP_NAME);if(e.notNull(i)){let t=i.getEntriesByName(e.OuFilterDialogPerformance.MEASURE_DIALOG_STARTUP);if(e.notNull(t)&&t.hasElements()){let i=e.XCollectionUtils.last(t);if(i.getType()===e.XPerformanceEntryType.MEASURE){let e=i;return e.getDuration()}}}return 0},mark:function(t,i){let o=e.XPerformance.getGroup(e.OuFilterDialogPerformance.FILTER_DIALOG_PERF_GROUP_NAME);if(e.notNull(o)){o.mark(t,i)}},measure:function(t,i,o,n){let a=e.XPerformance.getGroup(e.OuFilterDialogPerformance.FILTER_DIALOG_PERF_GROUP_NAME);if(e.notNull(a)){return a.measure(t,i,o,n)}return 0}};e.FilterDialogI18nUtils={getDateRangeFormattedLongText:function(t,i,o){return e.FilterDialogI18nUtils.getDateRangeTextFormatted(t,i,(e,t)=>o.formatRange(e,null,t,null,false))},getDateRangeFormattedShortText:function(t,i,o){return e.FilterDialogI18nUtils.getDateRangeTextFormatted(t,i,(e,t)=>o.formatRangeSimplified(e,null,t,null))},getDateRangeText:function(t,i){return e.FilterDialogI18nUtils.getDateRangeTextFormatted(t,i,null)},getDateRangeTextForDimension:function(t,i){return e.FilterDialogI18nUtils.getDateRangeTextFormatted(t,e.HierarchyLevelType.getHighestDateRangeGranularity(i),null)},getDateRangeTextFormatted:function(t,i,o){if(e.isNull(t)||t.getGranularity()===null){return""}let n=e.XLocalizationCenter.getCenter();let a=t.isFixedRange();let r=t.getGranularity();if(r.isCurrentDateUnit()||t.isUpToCurrentPeriod()){r=e.notNull(i)?i:e.DateRangeGranularity.DAY}try{let i=t.getFromValue(e.DateRangeGranularity.YEAR);let l=t.getToValue(e.DateRangeGranularity.YEAR);let s=i===-1&&(!a||!r.isDay()||t.getFixedFromDate()===null)?n.getText(e.FilterDialogI18n.I18N_FD_DATE_RANGE_VALUE_FROM_START):null;let u=l===-1&&(!a||!r.isDay()||t.getFixedToDate()===null)?n.getText(e.FilterDialogI18n.I18N_FD_DATE_RANGE_VALUE_TO_END):null;if(e.isNull(s)){if(r.isQuarter()){s=e.FilterDialogI18nUtils.getDateText(i,0,t.getFromValue(e.DateRangeGranularity.QUARTER),0,0)}else if(r.isMonth()){s=e.FilterDialogI18nUtils.getDateText(i,0,0,t.getFromValue(e.DateRangeGranularity.MONTH),0)}else if(r.isDay()){if(a){s=e.UiNumberFormatterCenter.getCenter().formatTextForDateTimeKey(null,t.getFixedFromDate().toIsoFormat(),e.XValueType.DATE)}else{s=e.FilterDialogI18nUtils.getDateText(i,0,0,t.getFromValue(e.DateRangeGranularity.MONTH),t.getFromValue(e.DateRangeGranularity.DAY))}}else if(r.isHalfYear()){s=e.FilterDialogI18nUtils.getDateText(i,t.getFromValue(e.DateRangeGranularity.HALF_YEAR),0,0,0)}else{s=e.FilterDialogI18nUtils.getDateText(i,0,0,0,0)}}if(e.isNull(u)){if(r.isQuarter()){u=e.FilterDialogI18nUtils.getDateText(l,0,t.getToValue(e.DateRangeGranularity.QUARTER),0,0)}else if(r.isMonth()){u=e.FilterDialogI18nUtils.getDateText(l,0,0,t.getToValue(e.DateRangeGranularity.MONTH),0)}else if(r.isDay()){if(a){u=e.UiNumberFormatterCenter.getCenter().formatTextForDateTimeKey(null,t.getFixedToDate().toIsoFormat(),e.XValueType.DATE)}else{u=e.FilterDialogI18nUtils.getDateText(l,0,0,t.getToValue(e.DateRangeGranularity.MONTH),t.getToValue(e.DateRangeGranularity.DAY))}}else if(r.isHalfYear()){u=e.FilterDialogI18nUtils.getDateText(l,t.getToValue(e.DateRangeGranularity.HALF_YEAR),0,0,0)}else{u=e.FilterDialogI18nUtils.getDateText(l,0,0,0,0)}}return e.notNull(o)?o(s,u):e.FilterDialogValueFormatter.formatDateRangeSimplified(s,u)}catch(e){return""}},getDateText:function(t,i,o,n,a){let r=e.XStringBuffer.create();if(i===1||i===2){r.append(e.FilterDialogI18nUtils.getHalfYearText(i)).append(", ").appendInt(t)}else if(o>=1&&o<=4){r.append(e.FilterDialogI18nUtils.getQuarterText(o)).append(", ").appendInt(t)}else if(n>=1&&n<=12){r.append(e.FilterDialogI18nUtils.getMonthText(n));if(a>=1&&a<=31){r.append(" ").appendInt(a)}r.append(", ").appendInt(t)}else{r.appendInt(t)}return r.toString()},getHalfYearText:function(t){let i=e.XLocalizationCenter.getCenter();switch(t){case 1:return i.getText(e.FilterDialogI18n.I18N_FD_HALFYEAR1);case 2:return i.getText(e.FilterDialogI18n.I18N_FD_HALFYEAR2);default:return""}},getMonthText:function(t){let i=e.XLocalizationCenter.getCenter();switch(t){case 1:return i.getText(e.FilterDialogI18n.I18N_FD_MONTH1);case 2:return i.getText(e.FilterDialogI18n.I18N_FD_MONTH2);case 3:return i.getText(e.FilterDialogI18n.I18N_FD_MONTH3);case 4:return i.getText(e.FilterDialogI18n.I18N_FD_MONTH4);case 5:return i.getText(e.FilterDialogI18n.I18N_FD_MONTH5);case 6:return i.getText(e.FilterDialogI18n.I18N_FD_MONTH6);case 7:return i.getText(e.FilterDialogI18n.I18N_FD_MONTH7);case 8:return i.getText(e.FilterDialogI18n.I18N_FD_MONTH8);case 9:return i.getText(e.FilterDialogI18n.I18N_FD_MONTH9);case 10:return i.getText(e.FilterDialogI18n.I18N_FD_MONTH10);case 11:return i.getText(e.FilterDialogI18n.I18N_FD_MONTH11);case 12:return i.getText(e.FilterDialogI18n.I18N_FD_MONTH12);default:return""}},getQuarterText:function(t){let i=e.XLocalizationCenter.getCenter();switch(t){case 1:return i.getText(e.FilterDialogI18n.I18N_FD_QUARTER1);case 2:return i.getText(e.FilterDialogI18n.I18N_FD_QUARTER2);case 3:return i.getText(e.FilterDialogI18n.I18N_FD_QUARTER3);case 4:return i.getText(e.FilterDialogI18n.I18N_FD_QUARTER4);default:return""}}};e.FdPresentationFactory={createAdditionalPresentationsByDim:function(t,i,o,n,a){let r=e.XLocalizationCenter.getCenter();let l=r.getText(e.FilterDialogI18n.I18N_FD_PRESENTATION_ID);let s=r.getText(e.FilterDialogI18n.I18N_FD_PRESENTATION_DESCRIPTION);let u=e.XList.create();let m=e.FdPresentationFactory.getSystemType(t);if(!m.isTypeOf(e.SystemType.HANA)||!e.QDimensionUtil.isStructureLike(t)&&!e.FdPresentationFactory.isVersionDimension(t)){let r=t.getAttributes();let m=t.getMainAttribute();for(let t=0;t<r.size();t++){let p=r.get(t);if(p!==m&&!p.isExcludedFromValueHelp()){let t=e.XStringUtils.isNotNullAndNotEmpty(p.getText())?p.getText():p.getName();let r=i?p.getHierarchyDisplayKeyField():p.getFlatDisplayKeyField();let m=o?e.QDimensionUtil.getTextFieldUsedInResultSet(p,i):i?p.getHierarchyTextField():p.getFlatTextField();if(e.notNull(r)&&!r.getPresentationType().isTypeOf(e.PresentationType.HIERARCHY_PATH)&&!r.isExcludedFromValueHelp()||e.notNull(m)&&!m.isExcludedFromValueHelp()){let i=e.FdPresentation.createExt(t,p.getName());u.add(i);if(e.notNull(r)&&!r.isExcludedFromValueHelp()){i.addKeyPresentation(e.XStringUtils.concatenate4(t," (",l,")"),r,n&&r.isFilterableForValueHelpAndReadMode(a))}if(e.notNull(m)&&!m.isExcludedFromValueHelp()){i.addTextPresentation(e.XStringUtils.concatenate4(t," (",s,")"),m,n&&m.isFilterableForValueHelpAndReadMode(a))}}}}}return u},createAdditionalPresentationsForHierarchyCatalog:function(){let t=e.XLocalizationCenter.getCenter();let i=t.getText(e.FilterDialogI18n.I18N_FD_PRESENTATION_ID);let o=t.getText(e.FilterDialogI18n.I18N_FD_PRESENTATION_DESCRIPTION);let n=e.XList.create();let a=e.XStringValue.create(e.FdContentProviderHierarchyCatalog.VERSION);let r=t.getText(e.FilterDialogI18n.I18N_FD_HIER_VERSION);let l=e.FdPresentation.create(r);l.addKeyPresentation(e.XStringUtils.concatenate4(r," (",i,")"),a,true);l.addTextPresentation(e.XStringUtils.concatenate4(r," (",o,")"),a,false);n.add(l);let s=e.XStringValue.create(e.FdContentProviderHierarchyCatalog.OBJECT_VERSION);let u=t.getText(e.FilterDialogI18n.I18N_FD_HIER_OBJECT_VERSION);let m=e.FdPresentation.create(u);m.addKeyPresentation(e.XStringUtils.concatenate4(u," (",i,")"),s,true);n.add(m);let p=e.XStringValue.create(e.FdContentProviderHierarchyCatalog.DATE_FROM);let d=t.getText(e.FilterDialogI18n.I18N_FD_HIER_DATE_FROM);let c=e.FdPresentation.create(d);c.addKeyPresentation(d,p,false);n.add(c);let _=e.XStringValue.create(e.FdContentProviderHierarchyCatalog.DATE_FROM);let g=t.getText(e.FilterDialogI18n.I18N_FD_HIER_DATE_TO);let h=e.FdPresentation.create(g);h.addKeyPresentation(g,_,false);n.add(h);return n},createMainPresentationsByDim:function(t,i,o,n){let a=i;if(e.isNull(a)){a=t}let r=t.isFilterableForValueHelpAndReadMode(o);let l=a.isFilterableForValueHelpAndReadMode(o);let s=e.XList.create();let u=e.XLocalizationCenter.getCenter();let m=u.getText(e.FilterDialogI18n.I18N_FD_PRESENTATION_DESCRIPTION);let p=u.getText(e.FilterDialogI18n.I18N_FD_PRESENTATION_ID);s.add(e.FdPresentation.createMainPresentation(m).addTextPresentation(m,a,l));s.add(e.FdPresentation.createMainPresentation(u.getText(e.FilterDialogI18n.I18N_FD_PRESENTATION_ID_AND_DESCRIPTION)).addKeyPresentation(p,t,r).addTextPresentation(m,a,l).setKeyPrimary(true));if(n){s.add(e.FdPresentation.createMainPresentation(u.getText(e.FilterDialogI18n.I18N_FD_PRESENTATION_DESCRIPTION_AND_ID)).addKeyPresentation(p,t,r).addTextPresentation(m,a,l).setKeyPrimary(false))}s.add(e.FdPresentation.createMainPresentation(p).addKeyPresentation(p,t,r));return s},createMainPresentationsForHierarchyCatalog:function(t){let i=e.XLocalizationCenter.getCenter();let o=i.getText(e.FilterDialogI18n.I18N_FD_PRESENTATION_DESCRIPTION);let n=i.getText(e.FilterDialogI18n.I18N_FD_PRESENTATION_ID);let a=e.XList.create();a.add(e.FdPresentation.createMainPresentation(o).addTextPresentation(o,null,false));a.add(e.FdPresentation.createMainPresentation(i.getText(e.FilterDialogI18n.I18N_FD_PRESENTATION_ID_AND_DESCRIPTION)).addKeyPresentation(n,null,true).addTextPresentation(o,null,false).setKeyPrimary(true));if(t){a.add(e.FdPresentation.createMainPresentation(i.getText(e.FilterDialogI18n.I18N_FD_PRESENTATION_DESCRIPTION_AND_ID)).addKeyPresentation(n,null,true).addTextPresentation(o,null,false).setKeyPrimary(false))}a.add(e.FdPresentation.createMainPresentation(n).addKeyPresentation(n,null,true));return a},createMainPresentationsForUserAndText:function(t){let i=e.XLocalizationCenter.getCenter();let o=i.getText(e.FilterDialogI18n.I18N_FD_PRESENTATION_NAME);let n=i.getText(e.FilterDialogI18n.I18N_FD_PRESENTATION_ID);let a=e.XList.create();a.add(e.FdPresentation.createMainPresentation(o).addTextPresentation(o,null,true));a.add(e.FdPresentation.createMainPresentation(i.getText(e.FilterDialogI18n.I18N_FD_PRESENTATION_ID_AND_NAME)).addKeyPresentation(n,null,true).addTextPresentation(o,null,true).setKeyPrimary(true));if(t){a.add(e.FdPresentation.createMainPresentation(i.getText(e.FilterDialogI18n.I18N_FD_PRESENTATION_NAME_AND_ID)).addKeyPresentation(n,null,true).addTextPresentation(o,null,true).setKeyPrimary(false))}a.add(e.FdPresentation.createMainPresentation(n).addKeyPresentation(n,null,true));return a},getSystemType:function(t){let i=t.getDataSource().getSystemName();let o=t.getApplication().getSystemLandscape().getSystemDescription(i);return e.notNull(o)?o.getSystemType():e.SystemType.GENERIC},isVersionDimension:function(t){let i=t.getQueryModel();return e.notNull(i)&&t===i.getVersionDimension()},mapDimensionDisplayInfoToPresentation:function(t,i,o){let n=t!==e.FilterDisplayInfo.QUERY_DEFAULT&&e.notNull(t)?e.FdPresentationFactory.mapDisplayInfo(t,o):null;if(e.isNull(n)){let t=e.FilterDisplayInfo.getDimensionDisplayInfo(i);n=e.FdPresentationFactory.mapDisplayInfo(t,o)}return e.notNull(n)?n:o.get(0)},mapDisplayInfo:function(t,i){if(t===e.FilterDisplayInfo.DESCRIPTION){return e.XCollectionUtils.findFirst(i,e=>!e.hasKeyPresentation()&&e.hasTextPresentation())}if(t===e.FilterDisplayInfo.ID){return e.XCollectionUtils.findFirst(i,e=>e.hasKeyPresentation()&&!e.hasTextPresentation())}if(t===e.FilterDisplayInfo.ID_AND_DESCRIPTION){return e.XCollectionUtils.findFirst(i,e=>e.hasKeyPresentation()&&e.hasTextPresentation()&&e.isKeyPrimary())}if(t===e.FilterDisplayInfo.DESCRIPTION_AND_ID){return e.XCollectionUtils.findFirst(i,e=>e.hasKeyPresentation()&&e.hasTextPresentation()&&!e.isKeyPrimary())}return null},mapDisplayInfoToPresentation:function(t,i){if(e.notNull(t)){let o=e.FdPresentationFactory.mapDisplayInfo(t,i);if(e.notNull(o)){return o}}return i.get(0)}};e.FdPresentationsModel=function(){};e.FdPresentationsModel.prototype=new e.XObject;e.FdPresentationsModel.prototype._ff_c="FdPresentationsModel";e.FdPresentationsModel.create=function(t){let i=new e.FdPresentationsModel;i.m_model=t;i.m_presentationsChangeListeners=e.XList.create();return i};e.FdPresentationsModel.prototype.m_additionalPresentations=null;e.FdPresentationsModel.prototype.m_model=null;e.FdPresentationsModel.prototype.m_presentations=null;e.FdPresentationsModel.prototype.m_presentationsChangeListeners=null;e.FdPresentationsModel.prototype.m_selectedAdditionalPresentations=null;e.FdPresentationsModel.prototype.m_selectedPresentation=null;e.FdPresentationsModel.prototype.getAdditionalPresentationValues=function(t){let i=e.XList.create();e.XCollectionUtils.forEach(t?this.m_selectedAdditionalPresentations:this.m_additionalPresentations,t=>{e.XCollectionUtils.addIfNotNull(i,t.getKeyPresentation());e.XCollectionUtils.addIfNotNull(i,t.getTextPresentation())});return i};e.FdPresentationsModel.prototype.getAdditionalPresentations=function(){return this.m_additionalPresentations};e.FdPresentationsModel.prototype.getAdditionalPresentationsByName=function(t){if(e.XCollectionUtils.hasElements(t)&&e.XCollectionUtils.hasElements(this.m_additionalPresentations)){return e.XStream.of(this.m_additionalPresentations).filter(e=>t.contains(e.getName())||t.contains(e.getTechnicalName())).collect(e.XStreamCollector.toList())}return e.XList.create()};e.FdPresentationsModel.prototype.getDefaultSearchPresentation=function(){let e=this.getFilterablePresentations();if(e.contains(this.m_selectedPresentation)){return this.m_selectedPresentation}return e.hasElements()?e.get(0):null};e.FdPresentationsModel.prototype.getFilterablePresentations=function(){let t=e.XStream.of(this.m_presentations).filter(t=>{let i=t.getKeyPresentation();let o=t.getTextPresentation();return(e.isNull(i)||i.isFilterable())&&(e.isNull(o)||o.isFilterable())}).collect(e.XStreamCollector.toList());e.XStream.of(this.m_additionalPresentations).filter(e=>e.isFilterable()).forEach(e=>{t.add(e)});return t};e.FdPresentationsModel.prototype.getMainPresentations=function(){return this.m_presentations};e.FdPresentationsModel.prototype.getSelectedAdditionalPresentations=function(){return e.notNull(this.m_selectedAdditionalPresentations)?this.m_selectedAdditionalPresentations:e.XList.create()};e.FdPresentationsModel.prototype.getSelectedMainPresentation=function(){return this.m_selectedPresentation};e.FdPresentationsModel.prototype.onPresentationsChanged=function(){e.XCollectionUtils.forEach(this.m_presentationsChangeListeners,e=>{e()})};e.FdPresentationsModel.prototype.registerOnPresentationsChange=function(t){e.XCollectionUtils.addIfNotPresent(this.m_presentationsChangeListeners,t)};e.FdPresentationsModel.prototype.releaseObject=function(){e.XObject.prototype.releaseObject.call(this);this.m_model=null;this.m_presentations=e.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_presentations);this.m_additionalPresentations=e.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_additionalPresentations);this.m_selectedAdditionalPresentations=e.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_selectedAdditionalPresentations);this.m_selectedPresentation=e.XObjectExt.release(this.m_selectedPresentation);this.m_presentationsChangeListeners=e.XObjectExt.release(this.m_presentationsChangeListeners)};e.FdPresentationsModel.prototype.setSelectedPresentations=function(e,t){this.m_selectedPresentation=e;this.m_selectedAdditionalPresentations=t;if(this.m_model.getSessionData()!==null){this.m_model.getSessionData().setSelectedPresentations(e,t)}this.m_model.updateSelection()};e.FdPresentationsModel.prototype.setupModel=function(t,i,o,n){this.m_presentations=t;this.m_additionalPresentations=i;if(e.notNull(o)){this.m_selectedPresentation=o}else if(e.notNull(this.m_selectedPresentation)){this.m_selectedPresentation=e.XStream.of(t).filter(t=>e.XString.isEqual(t.getName(),this.m_selectedPresentation.getName())).findAny().orElse(t.get(0))}if(e.notNull(n)){this.m_selectedAdditionalPresentations=this.getAdditionalPresentationsByName(n)}else if(e.XCollectionUtils.hasElements(this.m_selectedAdditionalPresentations)){this.m_selectedAdditionalPresentations=this.getAdditionalPresentationsByName(e.XCollectionUtils.map(this.m_selectedAdditionalPresentations,e=>e.getName()))}this.onPresentationsChanged()};e.FdPresentationsModel.prototype.updateFilterableState=function(e,t){let i=false;for(let t=0;t<this.m_presentations.size();t++){let o=this.m_presentations.get(t);i=this.updateFilterableStateForPresentation(o.getKeyPresentation(),e,i);i=this.updateFilterableStateForPresentation(o.getTextPresentation(),e,i)}for(let e=0;e<this.m_additionalPresentations.size();e++){let o=this.m_additionalPresentations.get(e);i=this.updateFilterableStateForPresentation(o.getKeyPresentation(),t,i);i=this.updateFilterableStateForPresentation(o.getTextPresentation(),t,i)}if(i){this.onPresentationsChanged()}};e.FdPresentationsModel.prototype.updateFilterableStateForPresentation=function(t,i,o){if(e.notNull(t)){let e=i(t);if(t.isFilterable()!==e){t.setIsFilterable(e);return true}}return o};e.FdRangeModel=function(){};e.FdRangeModel.prototype=new e.XObject;e.FdRangeModel.prototype._ff_c="FdRangeModel";e.FdRangeModel.create=function(){return new e.FdRangeModel};e.FdRangeModel.prototype.m_availableDimContextValues=null;e.FdRangeModel.prototype.m_availableMeasureContextValues=null;e.FdRangeModel.prototype.m_dateRangeGranularities=null;e.FdRangeModel.prototype.m_dateTimeProvider=null;e.FdRangeModel.prototype.m_dimContext=null;e.FdRangeModel.prototype.m_infoText=null;e.FdRangeModel.prototype.m_inputValueType=null;e.FdRangeModel.prototype.m_max=null;e.FdRangeModel.prototype.m_measureContext=null;e.FdRangeModel.prototype.m_min=null;e.FdRangeModel.prototype.m_requiredDimContextValues=null;e.FdRangeModel.prototype.m_supportedComparisonOperators=null;e.FdRangeModel.prototype.m_supportsFixedAndDynamicDateRange=false;e.FdRangeModel.prototype.getAvailableDimContextValues=function(){if(e.notNull(this.m_availableDimContextValues)){return this.m_availableDimContextValues}return e.XList.create()};e.FdRangeModel.prototype.getAvailableMeasureContextValues=function(){if(e.notNull(this.m_availableMeasureContextValues)){return this.m_availableMeasureContextValues}return e.XList.create()};e.FdRangeModel.prototype.getDateRangeGranularities=function(){return this.m_dateRangeGranularities};e.FdRangeModel.prototype.getDateTimeProvider=function(){return this.m_dateTimeProvider};e.FdRangeModel.prototype.getDimContext=function(){if(e.isNull(this.m_dimContext)){this.m_dimContext=e.XList.create()}return this.m_dimContext};e.FdRangeModel.prototype.getInfoText=function(){return this.m_infoText};e.FdRangeModel.prototype.getInputValueType=function(){return this.m_inputValueType};e.FdRangeModel.prototype.getLastDayInMonth=function(t,i){try{return e.XInteger.convertToString(e.XGregorianCalendar.create().getDaysInMonth(t,i))}catch(e){return"01"}};e.FdRangeModel.prototype.getLastValidValue=function(t,i){for(let o=t.size()-1;o>=0;o--){let n=this.getRangeValue(t.get(o),i,false);if(e.notNull(n)){return n}}return null};e.FdRangeModel.prototype.getMax=function(){return this.m_max};e.FdRangeModel.prototype.getMeasureContext=function(){return this.m_measureContext};e.FdRangeModel.prototype.getMin=function(){return this.m_min};e.FdRangeModel.prototype.getRangeValue=function(t,i,o){if(e.notNull(t)&&!t.isNull()&&t.getKey()!==null){if(i.isDateBased()&&(e.XString.isEqual(t.getKey(),"0000-00-00")||e.XString.isEqual(t.getKey(),"00000000"))){return null}let n=e.XValueAccess.createWithType(i);let a=n.parseString(t.getKey());if(a.isValid()){return n.getValue()}if(i.isDateBased()&&e.XCollectionUtils.hasElements(this.m_dateRangeGranularities)){let i=e.XString.size(t.getKey());let r=this.m_dateRangeGranularities.get(this.m_dateRangeGranularities.size()-1);if(r.isYear()&&i===4){if(e.XInteger.convertFromStringWithDefault(t.getKey(),-1)!==-1){a=n.parseString(e.XStringUtils.concatenate2(t.getKey(),o?"0101":"1231"))}}else if(r.isHalfYear()&&i===5){let i=e.XString.substring(t.getKey(),0,4);let r=e.XInteger.convertFromStringWithDefault(i,-1);let l=e.XInteger.convertFromStringWithDefault(e.XString.substring(t.getKey(),4,5),-1);if(r!==-1&&(l===1||l===2)){let t=o?e.DateRangeGranularityMapper.convertHalfYearToMonthLowerBound(l):e.DateRangeGranularityMapper.convertHalfYearToMonthUpperBound(l);let s=e.XStringUtils.addNumberPadded(t,2);let u=o?"01":this.getLastDayInMonth(r,t);a=n.parseString(e.XStringUtils.concatenate3(i,s,u))}}else if(r.isQuarter()&&i===5){let i=e.XString.substring(t.getKey(),0,4);let r=e.XInteger.convertFromStringWithDefault(i,-1);let l=e.XInteger.convertFromStringWithDefault(e.XString.substring(t.getKey(),4,5),-1);if(r!==-1&&l>=1&&l<=4){let t=o?e.DateRangeGranularityMapper.convertQuarterToMonthLowerBound(l):e.DateRangeGranularityMapper.convertQuarterToMonthUpperBound(l);let s=e.XStringUtils.addNumberPadded(t,2);let u=o?"01":this.getLastDayInMonth(r,t);a=n.parseString(e.XStringUtils.concatenate3(i,s,u))}}else if(r.isMonth()&&i===6){let i=e.XInteger.convertFromStringWithDefault(e.XString.substring(t.getKey(),0,4),-1);let r=e.XInteger.convertFromStringWithDefault(e.XString.substring(t.getKey(),4,6),-1);if(i!==-1&&r>=1&&r<=12){a=n.parseString(e.XStringUtils.concatenate2(t.getKey(),o?"01":this.getLastDayInMonth(i,r)))}}if(a.isValid()){return n.getValue()}}}return null};e.FdRangeModel.prototype.getRequiredDimContextNames=function(){if(e.notNull(this.m_requiredDimContextValues)){return this.m_requiredDimContextValues.getKeysAsReadOnlyList()}return e.XList.create()};e.FdRangeModel.prototype.getRequiredDimContextValues=function(){if(e.notNull(this.m_requiredDimContextValues)){return this.m_requiredDimContextValues.getValuesAsReadOnlyList()}return e.XList.create()};e.FdRangeModel.prototype.getSupportedComparisonOperators=function(){return this.m_supportedComparisonOperators};e.FdRangeModel.prototype.isInputValueDateBased=function(){return e.notNull(this.m_inputValueType)&&this.m_inputValueType.isDateBased()};e.FdRangeModel.prototype.isInputValueTypeNumeric=function(){return e.notNull(this.m_inputValueType)&&this.m_inputValueType.isNumber()};e.FdRangeModel.prototype.releaseObject=function(){e.XObject.prototype.releaseObject.call(this);this.m_supportedComparisonOperators=e.XObjectExt.release(this.m_supportedComparisonOperators);this.m_inputValueType=null;this.m_min=e.XObjectExt.release(this.m_min);this.m_max=e.XObjectExt.release(this.m_max);this.m_dateRangeGranularities=e.XObjectExt.release(this.m_dateRangeGranularities);this.m_dateTimeProvider=null;this.m_dimContext=e.XObjectExt.release(this.m_dimContext);this.m_requiredDimContextValues=e.XObjectExt.release(this.m_requiredDimContextValues);this.m_measureContext=null;this.m_availableDimContextValues=e.XObjectExt.release(this.m_availableDimContextValues);this.m_availableMeasureContextValues=e.XObjectExt.release(this.m_availableMeasureContextValues)};e.FdRangeModel.prototype.setAvailableDimContextValues=function(e){this.m_availableDimContextValues=e};e.FdRangeModel.prototype.setAvailableMeasureContextValues=function(e){this.m_availableMeasureContextValues=e};e.FdRangeModel.prototype.setDateRangeGranularities=function(e){this.m_dateRangeGranularities=e};e.FdRangeModel.prototype.setDateTimeProvider=function(e){this.m_dateTimeProvider=e};e.FdRangeModel.prototype.setDimContext=function(e){this.m_dimContext=e};e.FdRangeModel.prototype.setInfoText=function(e){this.m_infoText=e};e.FdRangeModel.prototype.setInputValueType=function(t){if(e.notNull(t)){this.m_inputValueType=t}};e.FdRangeModel.prototype.setMeasureContext=function(e){this.m_measureContext=e};e.FdRangeModel.prototype.setRange=function(t){this.m_min=null;this.m_max=null;if(e.XCollectionUtils.hasElements(t)){let i=this.m_inputValueType===e.XValueType.NUMC?e.XValueType.STRING:this.m_inputValueType;if(e.notNull(i)){this.m_min=e.XStream.of(t).map(e=>this.getRangeValue(e,i,true)).filterNullValues().findAny().orElse(null);this.m_max=this.getLastValidValue(t,i)}}};e.FdRangeModel.prototype.setRequiredDimContextValues=function(e){this.m_requiredDimContextValues=e};e.FdRangeModel.prototype.setSupportedComparisonOperators=function(e){this.m_supportedComparisonOperators=e};e.FdRangeModel.prototype.setSupportsFixedAndDynamicDateRange=function(e){this.m_supportsFixedAndDynamicDateRange=e};e.FdRangeModel.prototype.supportsFixedAndDynamicDateRange=function(){return this.m_supportsFixedAndDynamicDateRange};e.FdSessionBasedSettings=function(){};e.FdSessionBasedSettings.prototype=new e.XObject;e.FdSessionBasedSettings.prototype._ff_c="FdSessionBasedSettings";e.FdSessionBasedSettings.s_additionalPresentations=null;e.FdSessionBasedSettings.s_displayInfos=null;e.FdSessionBasedSettings.s_hierarchies=null;e.FdSessionBasedSettings.s_readModes=null;e.FdSessionBasedSettings.createByContentType=function(t){let i=new e.FdSessionBasedSettings;i.setupSettings(t.getName());return i};e.FdSessionBasedSettings.createByQuery=function(t,i,o){let n=e.XStringBuffer.create();if(e.notNull(t)){n.append(t.getInstanceId()).append("-")}n.append(i.getName());if(e.notNull(o)){n.append("-").append(o.getName())}let a=new e.FdSessionBasedSettings;a.setupSettings(n.toString());return a};e.FdSessionBasedSettings.prototype.m_cacheKey=null;e.FdSessionBasedSettings.prototype.getAdditionalPresentations=function(){return e.FdSessionBasedSettings.s_additionalPresentations.getByKey(this.m_cacheKey)};e.FdSessionBasedSettings.prototype.getHierarchies=function(){let t=e.FdSessionBasedSettings.s_hierarchies.getByKey(this.m_cacheKey);return e.notNull(t)?t.getFirstObject().createMapByStringCopy():null};e.FdSessionBasedSettings.prototype.getHierarchiesDueDate=function(){let t=e.FdSessionBasedSettings.s_hierarchies.getByKey(this.m_cacheKey);return e.notNull(t)?t.getSecondObject():null};e.FdSessionBasedSettings.prototype.getMainPresentationDisplayInfo=function(){return e.FdSessionBasedSettings.s_displayInfos.getByKey(this.m_cacheKey)};e.FdSessionBasedSettings.prototype.getReadMode=function(){return e.FdSessionBasedSettings.s_readModes.getByKey(this.m_cacheKey)};e.FdSessionBasedSettings.prototype.releaseObject=function(){e.XObject.prototype.releaseObject.call(this);this.m_cacheKey=null};e.FdSessionBasedSettings.prototype.setHierarchies=function(t,i){if(e.notNull(this.m_cacheKey)){if(e.isNull(t)){e.FdSessionBasedSettings.s_hierarchies.remove(this.m_cacheKey)}else{e.FdSessionBasedSettings.s_hierarchies.put(this.m_cacheKey,e.XPair.create(t.createMapByStringCopy(),i))}}};e.FdSessionBasedSettings.prototype.setReadMode=function(t){if(e.notNull(this.m_cacheKey)){if(e.isNull(t)){e.FdSessionBasedSettings.s_readModes.remove(this.m_cacheKey)}else{e.FdSessionBasedSettings.s_readModes.put(this.m_cacheKey,t)}}};e.FdSessionBasedSettings.prototype.setSelectedPresentations=function(t,i){if(e.notNull(this.m_cacheKey)){let o;if(t.hasKeyPresentation()&&t.hasTextPresentation()){o=t.isKeyPrimary()?e.FilterDisplayInfo.ID_AND_DESCRIPTION:e.FilterDisplayInfo.DESCRIPTION_AND_ID}else{o=t.hasKeyPresentation()?e.FilterDisplayInfo.ID:e.FilterDisplayInfo.DESCRIPTION}e.FdSessionBasedSettings.s_displayInfos.put(this.m_cacheKey,o);e.FdSessionBasedSettings.s_additionalPresentations.remove(this.m_cacheKey);if(e.XCollectionUtils.hasElements(i)){e.FdSessionBasedSettings.s_additionalPresentations.put(this.m_cacheKey,e.XCollectionUtils.map(i,e=>e.getName()))}}};e.FdSessionBasedSettings.prototype.setupSettings=function(t){this.m_cacheKey=t;if(e.isNull(e.FdSessionBasedSettings.s_readModes)){e.FdSessionBasedSettings.s_readModes=e.XHashMapByString.create();e.FdSessionBasedSettings.s_displayInfos=e.XHashMapByString.create();e.FdSessionBasedSettings.s_additionalPresentations=e.XHashMapByString.create();e.FdSessionBasedSettings.s_hierarchies=e.XHashMapByString.create()}};e.FdContentProviderFactory={createContentProvider:function(t,i){let o=t.getConfig();if(o.getContentType()===e.FilterDialogContentType.DIMENSION){let i=o.getDimension();e.XObjectExt.assertNotNullExt(i,"Dimension must be set");return e.FdContentProviderValueHelpDimension.create(t)}else if(o.getContentType()===e.FilterDialogContentType.VARIABLE){let i=o.getVariable();e.XObjectExt.assertNotNullExt(i,"Variable must be set");return e.FdContentProviderValueHelpVariable.create(t)}else if(o.getContentType()===e.FilterDialogContentType.HIERARCHY_CATALOG){e.XObjectExt.assertNotNullExt(o.getDimension(),"Dimension must be set");return e.FdContentProviderHierarchyCatalog.create(t)}else if(o.getContentType()===e.FilterDialogContentType.MEASURE_BASED_FILTER){let i=o.getMeasureBasedFilter();e.XObjectExt.assertNotNullExt(i,"Measure based filter must be set");e.XObjectExt.assertTrue(i.getFormula()!==null||o.getMeasureBasedFilterMember()!==null);return e.FdContentProviderMeasureBasedFilter.create(i,o.getMeasureBasedFilterMember(),t)}else if(o.getContentType()===e.FilterDialogContentType.USER_TEAM){return e.FdContentProviderUserTeam.create(t,i)}throw e.XException.createIllegalStateException("Invalid filter dialog configuration")}};e.FdContentProviderMeasureBasedFilter=function(){};e.FdContentProviderMeasureBasedFilter.prototype=new e.XObject;e.FdContentProviderMeasureBasedFilter.prototype._ff_c="FdContentProviderMeasureBasedFilter";e.FdContentProviderMeasureBasedFilter.create=function(t,i,o){let n=new e.FdContentProviderMeasureBasedFilter;n.setupContentProvider(t,i,o);return n};e.FdContentProviderMeasureBasedFilter.prototype.m_measureBasedFilter=null;e.FdContentProviderMeasureBasedFilter.prototype.m_memberName=null;e.FdContentProviderMeasureBasedFilter.prototype.m_model=null;e.FdContentProviderMeasureBasedFilter.prototype.getDimensionText=function(t){let i=t.getText();return e.XStringUtils.isNotNullAndNotEmpty(i)?i:t.getName()};e.FdContentProviderMeasureBasedFilter.prototype.getRequiredDimensions=function(){return e.XStream.of(this.m_measureBasedFilter.getQueryModel().getDimensions()).filter(t=>!e.QDimensionUtil.isStructureLike(t)&&!t.canBeAggregated()&&!t.getDimensionType().isTypeOf(e.DimensionType.CALCULATED_DIMENSION))};e.FdContentProviderMeasureBasedFilter.prototype.getSupportedComparisonOperators=function(){return e.FdComparisonOperator.getAllOperators(false,this.m_model.isFeatureEnabled(e.FdFeature.EQUAL_IN_RANGE_VIEW),false,false)};e.FdContentProviderMeasureBasedFilter.prototype.isDimensionSelectable=function(t,i,o){if(i.contains(t.getName())&&!o.contains(t.getName())){return true}return!e.QDimensionUtil.isStructureLike(t)&&t.canBeAggregated()&&e.QDimensionUtil.shouldDimensionBeShownForRowsOrColumns(t,true)&&t.getFlatKeyField().isFilterable()&&t.getSupportedAxesTypes().contains(e.AxisType.ROWS)};e.FdContentProviderMeasureBasedFilter.prototype.loadSuggestions=function(e,t){};e.FdContentProviderMeasureBasedFilter.prototype.needsMeasureSelection=function(t){let i=t.getMeasureDimension();if(i.getStructureMember(this.m_memberName)!==null){return false}let o=t.getAccountDimension();return t.isUniversalAccountModel()||e.notNull(o)&&o.getDimensionMember(this.m_memberName)!==null&&i.getAllStructureMembers().size()>1};e.FdContentProviderMeasureBasedFilter.prototype.processData=function(e,t,i,o,n){};e.FdContentProviderMeasureBasedFilter.prototype.processDataRange=function(e,t){};e.FdContentProviderMeasureBasedFilter.prototype.releaseObject=function(){e.XObject.prototype.releaseObject.call(this);this.m_measureBasedFilter=null;this.m_memberName=null;this.m_model=null};e.FdContentProviderMeasureBasedFilter.prototype.search=function(e,t,i,o,n,a){};e.FdContentProviderMeasureBasedFilter.prototype.setupContentProvider=function(t,i,o){this.m_measureBasedFilter=t;this.m_memberName=e.XStringUtils.isNotNullAndNotEmpty(i)?i:e.FilterDialogMBFUtils.getMemberName(t);this.setupModel(o)};e.FdContentProviderMeasureBasedFilter.prototype.setupModel=function(t){this.m_model=t;let i=t.getRangeModel();let o=this.m_measureBasedFilter.getQueryModel();t.changeSelection(e.FdItemFactory.asFdItemList(e.FilterDialogMBFUtils.getFilterRangesByMemberName(this.m_measureBasedFilter,this.m_memberName)),t.getSelectedItems());t.setViewTypes(e.XCollectionUtils.singletonList(e.FilterDialogViewType.MEASURE_BASED_FILTER));let n=o.getDimensions();let a=this.getRequiredDimensions().collect(e.XStreamCollectorImpl.create(()=>e.XLinkedHashMapByString.create(),(e,t)=>{e.put(t.getName(),this.getDimensionText(t));return e}));let r=a.getKeysAsReadOnlyList();let l=this.m_measureBasedFilter.getDimensionContext().createListCopy();let s=e.XStream.of(n).filter(e=>this.isDimensionSelectable(e,l,r)).sorted(e.FdDimensionsByTextComparator.create()).collect(e.XStreamCollectorImpl.create(()=>e.XList.create(),(t,i)=>{t.add(e.XNameValuePair.create(i.getName(),this.getDimensionText(i)));return t}));if(l.isEmpty()&&s.hasElements()){let t=e.XCollectionUtils.map(s,e=>e.getName());l.addAll(e.XCollectionUtils.filter(o.getRowsAxis().getDimensionNames(),e=>t.contains(e)));if(l.isEmpty()&&!e.XCollectionUtils.hasElements(r)){l.add(s.get(0).getName())}}i.setRequiredDimContextValues(a);i.setAvailableDimContextValues(s);i.setDimContext(l);if(this.needsMeasureSelection(o)){let t=o.getMeasureDimension().getAllStructureMembers();if(e.XCollectionUtils.hasElements(t)){i.setAvailableMeasureContextValues(e.XStream.of(t).collect(e.XStreamCollectorImpl.create(()=>e.XList.create(),(t,i)=>{t.add(e.XNameValuePair.create(i.getName(),i.getText()));return t})));i.setMeasureContext(this.m_measureBasedFilter.getCrossCalculationMeasure()!==null?this.m_measureBasedFilter.getCrossCalculationMeasure():t.get(0).getName())}}i.setInputValueType(e.XValueType.DECIMAL_FLOAT);i.setSupportedComparisonOperators(this.getSupportedComparisonOperators())};e.FdContentProviderMeasureBasedFilter.prototype.syncSelectionListWithKnownItems=function(e,t,i,o,n,a,r){};e.FdDimensionsByTextComparator=function(){};e.FdDimensionsByTextComparator.prototype=new e.XObject;e.FdDimensionsByTextComparator.prototype._ff_c="FdDimensionsByTextComparator";e.FdDimensionsByTextComparator.create=function(){return new e.FdDimensionsByTextComparator};e.FdDimensionsByTextComparator.prototype.compare=function(t,i){let o=t.getText();if(e.XStringUtils.isNullOrEmpty(o)){o=t.getName()}let n=i.getText();if(e.XStringUtils.isNullOrEmpty(n)){n=i.getName()}return e.XString.compare(o,n)};e.FdViewCustomIdentifier=function(){};e.FdViewCustomIdentifier.prototype=new e.XObject;e.FdViewCustomIdentifier.prototype._ff_c="FdViewCustomIdentifier";e.FdViewCustomIdentifier.creatForFetchChildrenByItem=function(t){let i=new e.FdViewCustomIdentifier;i.m_isFetchChildrenIdentifier=true;i.m_parentItem=t;return i};e.FdViewCustomIdentifier.creatForFetchChildrenByRow=function(t){let i=new e.FdViewCustomIdentifier;i.m_isFetchChildrenIdentifier=true;i.m_parentRow=t;return i};e.FdViewCustomIdentifier.creatForSearch=function(t){let i=new e.FdViewCustomIdentifier;i.m_isSearchIdentifier=true;i.m_searchValue=t;return i};e.FdViewCustomIdentifier.prototype.m_isFetchChildrenIdentifier=false;e.FdViewCustomIdentifier.prototype.m_isSearchIdentifier=false;e.FdViewCustomIdentifier.prototype.m_parentItem=null;e.FdViewCustomIdentifier.prototype.m_parentRow=null;e.FdViewCustomIdentifier.prototype.m_searchValue=null;e.FdViewCustomIdentifier.prototype.getParentItem=function(){return this.m_parentItem};e.FdViewCustomIdentifier.prototype.getParentRow=function(){return this.m_parentRow};e.FdViewCustomIdentifier.prototype.getSearchValue=function(){return this.m_searchValue};e.FdViewCustomIdentifier.prototype.isFetchChildrenIdentifier=function(){return this.m_isFetchChildrenIdentifier};e.FdViewCustomIdentifier.prototype.isSearchIdentifier=function(){return this.m_isSearchIdentifier};e.FdViewCustomIdentifier.prototype.releaseObject=function(){e.XObject.prototype.releaseObject.call(this);this.m_searchValue=null;this.m_parentRow=null;this.m_parentItem=null};e.FdUiTable=function(){};e.FdUiTable.prototype=new e.XObject;e.FdUiTable.prototype._ff_c="FdUiTable";e.FdUiTable.createFdTable=function(t,i){let o=new e.FdUiTable;o.m_layout=t;o.m_tableType=i;o.m_table=t.getTable();return o};e.FdUiTable.createResponsiveTable=function(t){return e.FdUiTable.createFdTable(t,e.UiType.RESPONSIVE_TABLE)};e.FdUiTable.createTreeTable=function(t){return e.FdUiTable.createFdTable(t,e.UiType.TREE_TABLE)};e.FdUiTable.prototype.m_layout=null;e.FdUiTable.prototype.m_table=null;e.FdUiTable.prototype.m_tableType=null;e.FdUiTable.prototype.addAllCells=function(t,i){if(this.isResponsiveTable()){t.addAllResponsiveTableCells(e.XCollectionUtils.map(i,e=>e.getResponsiveTableCell()))}else{t.addAllCells(e.XCollectionUtils.map(i,e=>e.getTableCell()))}};e.FdUiTable.prototype.addAllRows=function(t){if(this.isResponsiveTable()){this.m_table.addAllResponsiveTableRows(e.XCollectionUtils.map(t,e=>e))}else{this.m_table.addAllTreeTableRows(e.XCollectionUtils.map(t,e=>e))}};e.FdUiTable.prototype.addNewColumn=function(){if(this.isResponsiveTable()){return e.FdUiTableColumn.createResponsiveColumn(this.m_table.addNewResponsiveTableColumn())}return e.FdUiTableColumn.createColumn(this.m_table.addNewColumn())};e.FdUiTable.prototype.addNewRow=function(){if(this.isResponsiveTable()){return this.m_table.addNewResponsiveTableRow()}return this.m_table.addNewTreeTableRow()};e.FdUiTable.prototype.clearCells=function(e){if(this.isResponsiveTable()){e.clearResponsiveTableCells()}else{e.clearCells()}};e.FdUiTable.prototype.clearRows=function(){if(this.isResponsiveTable()){this.m_table.clearResponsiveTableRows()}else{this.m_table.clearTreeTableRows()}};e.FdUiTable.prototype.clearSelectedItems=function(){this.m_table.clearSelectedItems()};e.FdUiTable.prototype.getAllTreeTableRows=function(t,i,o){let n=t.getTreeTableRows();e.XCollectionUtils.addAll(i,n);e.XCollectionUtils.forEach(n,e=>{if(o||e.isExpanded()){this.getAllTreeTableRows(e,i,o)}});return i};e.FdUiTable.prototype.getColumn=function(t){if(this.isResponsiveTable()){return e.FdUiTableColumn.createResponsiveColumn(this.m_table.getResponsiveTableColumn(t))}return e.FdUiTableColumn.createColumn(this.m_table.getColumn(t))};e.FdUiTable.prototype.getColumns=function(){if(this.isResponsiveTable()){return e.XCollectionUtils.map(this.m_table.getResponsiveTableColumns(),t=>e.FdUiTableColumn.createResponsiveColumn(t))}return e.XCollectionUtils.map(this.m_table.getColumns(),t=>e.FdUiTableColumn.createColumn(t))};e.FdUiTable.prototype.getCustomObject=function(){return this.m_table.getCustomObject()};e.FdUiTable.prototype.getFirstVisibleRow=function(){return this.m_table.getFirstVisibleRow()};e.FdUiTable.prototype.getLayout=function(){return this.m_layout};e.FdUiTable.prototype.getNumberOfColumns=function(){if(this.isResponsiveTable()){return this.m_table.getNumberOfResponsiveTableColumns()}return this.m_table.getNumberOfColumns()};e.FdUiTable.prototype.getRows=function(){if(this.isResponsiveTable()){return e.XCollectionUtils.map(this.m_table.getResponsiveTableRows(),e=>e)}return this.getAllTreeTableRows(this.m_table,e.XList.create(),true)};e.FdUiTable.prototype.getSelectedItems=function(){return e.XCollectionUtils.map(this.m_table.getSelectedItems(),e=>e)};e.FdUiTable.prototype.getTableControl=function(){return this.m_table};e.FdUiTable.prototype.getTableSelectionMode=function(){if(this.isResponsiveTable()){return this.m_table.getSelectionMode().isSingleSelect()?e.UiTableSelectionMode.SINGLE:e.UiTableSelectionMode.MULTI_TOGGLE}return this.m_table.getTableSelectionMode()};e.FdUiTable.prototype.getVisibleRows=function(){if(this.isTreeTable()){return this.getAllTreeTableRows(this.m_table,e.XList.create(),false)}return this.getRows()};e.FdUiTable.prototype.hasColumns=function(){if(this.isResponsiveTable()){return this.m_table.hasResponsiveTableColumns()}return this.m_table.hasColumns()};e.FdUiTable.prototype.isBusy=function(){return this.m_table.isBusy()};e.FdUiTable.prototype.isResponsiveTable=function(){return this.m_tableType===e.UiType.RESPONSIVE_TABLE};e.FdUiTable.prototype.isTreeTable=function(){return this.m_tableType===e.UiType.TREE_TABLE};e.FdUiTable.prototype.newCell=function(t,i){if(this.isResponsiveTable()){return e.FdUiTableCell.createResponsiveCell(t,e.notNull(i)?i:e.UiType.LABEL)}return e.FdUiTableCell.createCell(t)};e.FdUiTable.prototype.newRow=function(){if(this.isResponsiveTable()){return this.m_table.newResponsiveTableRow()}return this.m_table.newTreeTableRow()};e.FdUiTable.prototype.registerOnCollapse=function(e){this.m_table.registerOnCollapse(e)};e.FdUiTable.prototype.registerOnExpand=function(e){this.m_table.registerOnExpand(e)};e.FdUiTable.prototype.registerOnScroll=function(e){this.m_table.registerOnScroll(e)};e.FdUiTable.prototype.registerOnScrollLoad=function(e){if(this.isResponsiveTable()){this.m_table.registerOnScrollLoad(e)}};e.FdUiTable.prototype.registerOnSelectionChange=function(e){this.m_table.registerOnSelectionChange(e)};e.FdUiTable.prototype.releaseObject=function(){e.XObject.prototype.releaseObject.call(this);this.m_layout=e.XObjectExt.release(this.m_layout);this.m_table=null;this.m_tableType=null};e.FdUiTable.prototype.removeColumn=function(e){let t=e.getUiColumn();if(this.isResponsiveTable()){this.m_table.removeResponsiveTableColumn(t)}else{this.m_table.removeColumn(t)}};e.FdUiTable.prototype.removeRow=function(e){if(this.isResponsiveTable()){this.m_table.removeResponsiveTableRow(e)}else{this.m_table.removeTreeTableRow(e)}};e.FdUiTable.prototype.setBusy=function(e){return this.m_table.setBusy(e)};e.FdUiTable.prototype.setCustomObject=function(e){return this.m_table.setCustomObject(e)};e.FdUiTable.prototype.setFirstVisibleRow=function(e){return this.m_table.setFirstVisibleRow(e)};e.FdUiTable.prototype.setListItemType=function(e,t){if(this.isResponsiveTable()){e.setListItemType(t)}};e.FdUiTable.prototype.setTableSelectionMode=function(t,i){if(this.isResponsiveTable()){if(t===e.UiTableSelectionMode.SINGLE){if(i){this.m_table.setSelectionMode(e.UiSelectionMode.SINGLE_SELECT_LEFT)}else{this.m_table.setSelectionMode(e.UiSelectionMode.SINGLE_SELECT_MASTER)}}else{this.m_table.setSelectionMode(e.UiSelectionMode.MULTI_SELECT)}}else{this.m_table.setTableSelectionMode(t)}};e.FdUiTableCell=function(){};e.FdUiTableCell.prototype=new e.XObject;e.FdUiTableCell.prototype._ff_c="FdUiTableCell";e.FdUiTableCell.createCell=function(t){let i=new e.FdUiTableCell;i.setupCell(t);return i};e.FdUiTableCell.createResponsiveCell=function(t,i){let o=new e.FdUiTableCell;o.setupResponsiveCell(t,i);return o};e.FdUiTableCell.prototype.m_cellControl=null;e.FdUiTableCell.prototype.m_responsiveCellControl=null;e.FdUiTableCell.prototype.getCustomObject=function(){if(this.isResponsive()){return this.m_responsiveCellControl.getCustomObject()}return this.m_cellControl.getCustomObject()};e.FdUiTableCell.prototype.getResponsiveTableCell=function(){return this.m_responsiveCellControl};e.FdUiTableCell.prototype.getTableCell=function(){return this.m_cellControl};e.FdUiTableCell.prototype.getText=function(){if(this.isResponsive()){return this.m_responsiveCellControl.getText()}return this.m_cellControl.getText()};e.FdUiTableCell.prototype.getTooltip=function(){if(this.isResponsive()){return this.m_responsiveCellControl.getTooltip()}return this.m_cellControl.getTooltip()};e.FdUiTableCell.prototype.isResponsive=function(){return e.notNull(this.m_responsiveCellControl)};e.FdUiTableCell.prototype.releaseObject=function(){this.m_cellControl=e.XObjectExt.release(this.m_cellControl);this.m_responsiveCellControl=e.XObjectExt.release(this.m_responsiveCellControl);e.XObject.prototype.releaseObject.call(this)};e.FdUiTableCell.prototype.setCustomObject=function(e){if(this.isResponsive()){this.m_responsiveCellControl.setCustomObject(e)}else{this.m_cellControl.setCustomObject(e)}};e.FdUiTableCell.prototype.setText=function(e){if(this.isResponsive()){this.m_responsiveCellControl.setText(e)}else{this.m_cellControl.setText(e)}};e.FdUiTableCell.prototype.setTooltip=function(e){if(this.isResponsive()){this.m_responsiveCellControl.setTooltip(e)}else{this.m_cellControl.setTooltip(e)}};e.FdUiTableCell.prototype.setupCell=function(e){this.m_cellControl=e.newCell()};e.FdUiTableCell.prototype.setupResponsiveCell=function(e,t){this.m_responsiveCellControl=e.newResponsiveTableCellOfType(t)};e.FdUiTableColumn=function(){};e.FdUiTableColumn.prototype=new e.XObject;e.FdUiTableColumn.prototype._ff_c="FdUiTableColumn";e.FdUiTableColumn.createColumn=function(t){if(e.notNull(t)){let i=new e.FdUiTableColumn;i.m_tableColumn=t;return i}return null};e.FdUiTableColumn.createResponsiveColumn=function(t){if(e.notNull(t)){let i=new e.FdUiTableColumn;i.m_responsiveTableColumn=t;return i}return null};e.FdUiTableColumn.prototype.m_responsiveTableColumn=null;e.FdUiTableColumn.prototype.m_tableColumn=null;e.FdUiTableColumn.prototype.getTitle=function(){if(e.notNull(this.m_responsiveTableColumn)){let t=this.m_responsiveTableColumn.getHeader();return e.notNull(t)?t.getText():null}else if(e.notNull(this.m_tableColumn)){return this.m_tableColumn.getTitle()}return null};e.FdUiTableColumn.prototype.getUiColumn=function(){if(e.notNull(this.m_responsiveTableColumn)){return this.m_responsiveTableColumn}return this.m_tableColumn};e.FdUiTableColumn.prototype.releaseObject=function(){this.m_tableColumn=e.XObjectExt.release(this.m_tableColumn);this.m_responsiveTableColumn=e.XObjectExt.release(this.m_responsiveTableColumn);e.XObject.prototype.releaseObject.call(this)};e.FdUiTableColumn.prototype.setTitle=function(t){if(e.notNull(this.m_responsiveTableColumn)){let i=this.m_responsiveTableColumn.getHeader();if(e.isNull(i)){i=this.m_responsiveTableColumn.setNewHeader(e.UiType.LABEL)}i.setText(t)}else if(e.notNull(this.m_tableColumn)){this.m_tableColumn.setTitle(t)}};e.FdLayoutUtils={DROPDOWN_WIDTH:"180px",addClearSelectionButton:function(t,i){let o=e.XLocalizationCenter.getCenter();let n=t.addNewItemOfType(e.UiType.BUTTON);n.setName(i);n.setText(o.getText(e.FilterDialogI18n.I18N_FD_CLEAR_SELECTION));n.setTooltip(o.getText(e.FilterDialogI18n.I18N_FD_CLEAR_SELECTION));n.setButtonType(e.UiButtonType.TRANSPARENT);return n},addClipboardButton:function(t,i,o){let n=e.XLocalizationCenter.getCenter();let a=i.addNewItemOfType(e.UiType.BUTTON);a.setIcon("paste");a.setTooltip(n.getText(e.ClipboardDialogI18n.I18N_CB_CLIPBOARD));a.setName(o);a.setButtonType(e.UiButtonType.TRANSPARENT);i.addItem(e.FdLayoutUtils.createHiddenLabelFor(a,t,n.getText(e.FilterDialogI18n.I18N_FD_SELECTED_MEMBERS)));return a},addDropdownItem:function(e,t,i,o){let n=e.addNewItem();n.setName(t);n.setText(i);n.setCustomObject(o);return n},addInteractiveSplitterForSelectionContainer:function(t,i,o,n){let a=t.addNewItemOfType(e.UiType.INTERACTIVE_SPLITTER);a.setName("FilterDialogViewSplitter");a.setEnableReordering(false);let r=a.addNewItem();r.setMinWidth(e.UiCssLength.create("320px"));r.registerOnResize(e.UiLambdaResizeListener.create(e=>{i.onResize(e.getOffsetWidth(),-1)}));r.setContent(o);let l=a.addNewItem();l.setWidth(e.UiCssLength.create("260px"));l.setMinWidth(e.UiCssLength.create("200px"));l.setContent(n.getRoot());return a},addSelectedMembersToggleButton:function(t,i){let o=t.addNewItemOfType(e.UiType.TOGGLE_BUTTON);o.setName(i);o.setIcon("multiselect-all");o.setButtonType(e.UiButtonType.TRANSPARENT);o.setTooltip(e.XLocalizationCenter.getCenter().getText(e.FilterDialogI18n.I18N_FD_SHOW_ONLY_SELECTED_MEMBERS));return o},announceSelectedMemberRemoved:function(t){e.UiFramework.currentFramework().announce(e.XLocalizationCenter.getCenter().getTextWithPlaceholder(e.FilterDialogI18n.I18N_FD_SELECTED_MEMBERS_REMOVE_ANNOUNCEMENT,t),e.UiAriaLiveMode.POLITE)},announceSelectionCleared:function(){e.UiFramework.currentFramework().announce(e.XLocalizationCenter.getCenter().getText(e.FilterDialogI18n.I18N_FD_SELECTED_MEMBERS_CLEARED_ANNOUNCEMENT),e.UiAriaLiveMode.POLITE)},createErrorLabel:function(t,i){let o=t.newControl(e.UiType.LABEL);o.setMinHeight(e.UiCssLength.create("1.475rem"));o.setName(i);return o},createHiddenLabelFor:function(t,i,o){let n=e.UiCssLength.create("0");return i.newControl(e.UiType.LABEL).setWidth(n).setHeight(n).setText(o).setLabelFor(t)},createHr:function(t){let i=t.newControl(e.UiType.SEPARATOR);i.setWidth(e.UiCssLength.create("calc(100% + 2rem)"));i.setMargin(e.UiCssBoxEdges.create("1rem 0 1rem -1rem"));i.setHeight(e.UiCssLength.create("0.0625rem"));return i},isMultiView:function(e){return e.getViewTypes().size()>1},isSelectionContainerVisible:function(e){return!e.isMobile()&&!e.isSmall()},isShowSelectionContainer:function(t,i){return!t.getUiManager().getDeviceInfo().isMobile()&&(i.getSelectionMode()===e.UiTableSelectionMode.MULTI_TOGGLE||i.getConfig().isAlwaysShowSelectionContainer())},updateErrorLabel:function(t,i,o){t.setText(i);if(e.XStringUtils.isNotNullAndNotEmpty(i)){t.addCssClass("sapMValueStateMessage");t.addCssClass(o?"sapMValueStateMessageError":"sapMValueStateMessageWarning");t.removeCssClass(!o?"sapMValueStateMessageError":"sapMValueStateMessageWarning")}else{t.removeCssClass("sapMValueStateMessage");t.removeCssClass("sapMValueStateMessageError");t.removeCssClass("sapMValueStateMessageWarning")}}};e.FdPresentation=function(){};e.FdPresentation.prototype=new e.XObject;e.FdPresentation.prototype._ff_c="FdPresentation";e.FdPresentation.create=function(t){return e.FdPresentation.createExt(t,t)};e.FdPresentation.createExt=function(t,i){let o=new e.FdPresentation;o.m_name=t;o.m_technicalName=i;o.m_isKeyPrimary=true;return o};e.FdPresentation.createMainPresentation=function(t){let i=e.FdPresentation.createExt(t,t);i.m_isMainPresentation=true;return i};e.FdPresentation.prototype.m_isKeyPrimary=false;e.FdPresentation.prototype.m_isMainPresentation=false;e.FdPresentation.prototype.m_keyPresentation=null;e.FdPresentation.prototype.m_name=null;e.FdPresentation.prototype.m_technicalName=null;e.FdPresentation.prototype.m_textPresentation=null;e.FdPresentation.prototype.addKeyPresentation=function(t,i,o){this.m_keyPresentation=e.FdPresentationValue.create(t,i,true,o,this);return this};e.FdPresentation.prototype.addTextPresentation=function(t,i,o){this.m_textPresentation=e.FdPresentationValue.create(t,i,false,o,this);return this};e.FdPresentation.prototype.getFilterableValues=function(){let t=e.XList.create();if(e.notNull(this.m_keyPresentation)&&this.m_keyPresentation.isFilterable()){t.add(this.m_keyPresentation)}if(e.notNull(this.m_textPresentation)&&this.m_textPresentation.isFilterable()){t.add(this.m_textPresentation)}return t};e.FdPresentation.prototype.getKeyPresentation=function(){return this.m_keyPresentation};e.FdPresentation.prototype.getName=function(){return this.m_name};e.FdPresentation.prototype.getPrimaryValue=function(){return this.isKeyPrimary()?this.m_keyPresentation:this.m_textPresentation};e.FdPresentation.prototype.getSecondaryValue=function(){return this.isKeyPrimary()?this.m_textPresentation:this.m_keyPresentation};e.FdPresentation.prototype.getTechnicalName=function(){return this.m_technicalName};e.FdPresentation.prototype.getTextPresentation=function(){return this.m_textPresentation};e.FdPresentation.prototype.hasKeyPresentation=function(){return e.notNull(this.m_keyPresentation)};e.FdPresentation.prototype.hasTextPresentation=function(){return e.notNull(this.m_textPresentation)};e.FdPresentation.prototype.isFilterable=function(){return e.notNull(this.m_keyPresentation)&&this.m_keyPresentation.isFilterable()||e.notNull(this.m_textPresentation)&&this.m_textPresentation.isFilterable()};e.FdPresentation.prototype.isKeyPrimary=function(){return this.m_isKeyPrimary&&e.notNull(this.m_keyPresentation)};e.FdPresentation.prototype.isMainPresentation=function(){return this.m_isMainPresentation};e.FdPresentation.prototype.releaseObject=function(){e.XObject.prototype.releaseObject.call(this);this.m_name=null;this.m_technicalName=null;this.m_keyPresentation=e.XObjectExt.release(this.m_keyPresentation);this.m_textPresentation=e.XObjectExt.release(this.m_textPresentation)};e.FdPresentation.prototype.setKeyPrimary=function(e){this.m_isKeyPrimary=e;return this};e.FdPresentation.prototype.toString=function(){return this.m_name};e.FdPresentationValue=function(){};e.FdPresentationValue.prototype=new e.XObject;e.FdPresentationValue.prototype._ff_c="FdPresentationValue";e.FdPresentationValue.create=function(t,i,o,n,a){let r=new e.FdPresentationValue;r.m_name=t;r.m_customObject=i;r.m_isKey=o;r.m_filterable=n;r.m_parent=a;return r};e.FdPresentationValue.prototype.m_customObject=null;e.FdPresentationValue.prototype.m_filterable=false;e.FdPresentationValue.prototype.m_isKey=false;e.FdPresentationValue.prototype.m_name=null;e.FdPresentationValue.prototype.m_parent=null;e.FdPresentationValue.prototype.getCustomObject=function(){return this.m_customObject};e.FdPresentationValue.prototype.getName=function(){return this.m_name};e.FdPresentationValue.prototype.getParent=function(){return this.m_parent};e.FdPresentationValue.prototype.isFilterable=function(){return this.m_filterable};e.FdPresentationValue.prototype.isKey=function(){return this.m_isKey};e.FdPresentationValue.prototype.releaseObject=function(){e.XObject.prototype.releaseObject.call(this);this.m_name=null;this.m_customObject=null;this.m_parent=null};e.FdPresentationValue.prototype.setIsFilterable=function(e){this.m_filterable=e};e.FdPresentationValue.prototype.toString=function(){return this.m_name};e.FdSize=function(){};e.FdSize.prototype=new e.XObject;e.FdSize.prototype._ff_c="FdSize";e.FdSize.create=function(t,i){let o=new e.FdSize;o.m_contentSize=t;o.m_dialogSize=i;return o};e.FdSize.prototype.m_contentSize=null;e.FdSize.prototype.m_dialogSize=null;e.FdSize.prototype.getContentSize=function(){return this.m_contentSize};e.FdSize.prototype.getDialogSize=function(){return this.m_dialogSize};e.FdSize.prototype.isEqualTo=function(t){if(this===t){return true}if(e.isNull(t)){return false}let i=t;return this.m_contentSize===i.m_contentSize&&this.m_dialogSize===i.m_dialogSize};e.FdSize.prototype.releaseObject=function(){e.XObject.prototype.releaseObject.call(this);this.m_contentSize=null;this.m_dialogSize=null};e.OuQueryInformationDialogConstants={DESCRIPTION:"Description",LABEL:"label",MODEL_DISPLAY_NAME_KEY:"displayName",MODEL_SUBTYPE_KEY:"modelSubtype",MODEL_SUBTYPE_PLANNING:"PLANNING",TECH_ID:"TechID",VALUE:"value"};e.OuShareDialogConstants={ARG_FILE:"file",ARG_LINK:"link",ARG_OWNER:"owner",ARG_WORKSPACE:"workspace",ASSIGN:1,COMMENT_ADD:256,COMMENT_ADD_STRING:"commentAdd",COMMENT_DELETE:512,COMMENT_DELETE_STRING:"commentDelete",COMMENT_VIEW:128,COMMENT_VIEW_STRING:"commentView",COPY:64,COPY_STRING:"copy",CREATE_DOC:16,CREATE_FILE_STRING:"createFile",CREATE_FOLDER:32,CREATE_FOLDER_STRING:"createFolder",DELETE:8,DELETE_STRING:"delete",DENY:0,DESCRIPTION:"Description",LABEL:"label",READ:2,READ_STRING:"read",SHARE_LOWER:"share",UPDATE:4,UPDATE_STRING:"update",VALUE:"value"};e.OuShareDialogAccess=function(){};e.OuShareDialogAccess.prototype=new e.XObject;e.OuShareDialogAccess.prototype._ff_c="OuShareDialogAccess";e.OuShareDialogAccess.create=function(){let t=new e.OuShareDialogAccess;return t};e.OuShareDialogAccess.prototype.createJsonFromAccessNum=function(t){let i=e.XMath.binaryAnd(t,e.OuShareDialogConstants.READ)!==0;let o=e.XMath.binaryAnd(t,e.OuShareDialogConstants.COPY)!==0;let n=e.XMath.binaryAnd(t,e.OuShareDialogConstants.COMMENT_VIEW)!==0;let a=e.XMath.binaryAnd(t,e.OuShareDialogConstants.COMMENT_ADD)!==0;let r=e.XMath.binaryAnd(t,e.OuShareDialogConstants.COMMENT_DELETE)!==0;let l=e.XMath.binaryAnd(t,e.OuShareDialogConstants.UPDATE)!==0;let s=e.XMath.binaryAnd(t,e.OuShareDialogConstants.ASSIGN)!==0;let u=e.XMath.binaryAnd(t,e.OuShareDialogConstants.DELETE)!==0;let m=e.PrFactory.createStructure();let p=this.getAccessValuesAsJson("view","View",false);p.put("0",this.getAccessValuesAsJson("read","Read",i));p.put("1",this.getAccessValuesAsJson("copy","Copy",o));p.put("2",this.getAccessValuesAsJson("commentView","View Comment",n));p.put("3",this.getAccessValuesAsJson("commentAdd","Add Comment",a));m.put("0",p);let d=this.getAccessValuesAsJson("edit","Edit",false);d.put("0",this.getAccessValuesAsJson("update","Update",l));m.put("1",d);let c=this.getAccessValuesAsJson("fullAccess","Full Control",false);c.put("0",this.getAccessValuesAsJson("delete","Delete",u));c.put("1",this.getAccessValuesAsJson("commentDelete","Delete Comment",r));c.put("2",this.getAccessValuesAsJson("share","Share",s));m.put("2",c);return m};e.OuShareDialogAccess.prototype.getAccessMap=function(){let t=e.XHashMapByString.create();let i=e.XList.create();i.add(e.XFileAccess.READ);i.add(e.XFileAccess.COPY);i.add(e.XFileAccess.VIEW_COMMENT);i.add(e.XFileAccess.ADD_COMMENT);t.put("view",i);let o=e.XList.create();o.add(e.XFileAccess.UPDATE);t.put("edit",o);let n=e.XList.create();n.add(e.XFileAccess.DELETE);n.add(e.XFileAccess.DELETE_COMMENT);n.add(e.XFileAccess.SHARE);t.put("full",n);return t};e.OuShareDialogAccess.prototype.getAccessValuesAsJson=function(t,i,o){let n=e.PrFactory.createStructure();n.putString("id",t);n.putString("text",i);n.putBoolean("selected",o);n.putBoolean("visible",true);return n};e.OuShareDialogAccess.prototype.getCustomXFileAccess=function(t){let i=e.XList.create();for(let o=0;o<t.size();o++){let n=t.getStructureByKey(e.XInteger.convertToString(o));for(let t=0;t<n.size();t++){let o=n.getStructureByKey(e.XInteger.convertToString(t));if(e.notNull(o)){let t=o.getStringByKey("id");switch(t){case e.OuShareDialogConstants.READ_STRING:if(o.getBooleanByKey("selected")){i.add(e.XFileAccess.READ)}break;case e.OuShareDialogConstants.COPY_STRING:if(o.getBooleanByKey("selected")){i.add(e.XFileAccess.COPY)}break;case e.OuShareDialogConstants.COMMENT_VIEW_STRING:if(o.getBooleanByKey("selected")){i.add(e.XFileAccess.VIEW_COMMENT)}break;case e.OuShareDialogConstants.COMMENT_ADD_STRING:if(o.getBooleanByKey("selected")){i.add(e.XFileAccess.ADD_COMMENT)}break;case e.OuShareDialogConstants.UPDATE_STRING:if(o.getBooleanByKey("selected")){i.add(e.XFileAccess.UPDATE)}break;case e.OuShareDialogConstants.CREATE_FILE_STRING:if(o.getBooleanByKey("selected")){i.add(e.XFileAccess.CREATE)}break;case e.OuShareDialogConstants.SHARE_LOWER:if(o.getBooleanByKey("selected")){i.add(e.XFileAccess.SHARE)}break;case e.OuShareDialogConstants.DELETE_STRING:if(o.getBooleanByKey("selected")){i.add(e.XFileAccess.DELETE)}break;case e.OuShareDialogConstants.COMMENT_DELETE_STRING:if(o.getBooleanByKey("selected")){i.add(e.XFileAccess.DELETE_COMMENT)}break;default:}}}}return i};e.OuShareDialogAccess.prototype.getXFileAccess=function(t,i){let o=this.getAccessMap();if(e.XString.isEqual(t,"custom")){return this.getCustomXFileAccess(i)}else{if(e.XString.isEqual(t,"view")){return o.getByKey("view")}else if(e.XString.isEqual(t,"edit")){let t=e.XList.createWithList(o.getByKey("view"));t.addAll(o.getByKey("edit"));return t}else{let t=e.XList.createWithList(o.getByKey("view"));t.addAll(o.getByKey("edit"));t.addAll(o.getByKey("full"));return t}}};e.OuShareUserTeamSearchPanel=function(){};e.OuShareUserTeamSearchPanel.prototype=new e.XObject;e.OuShareUserTeamSearchPanel.prototype._ff_c="OuShareUserTeamSearchPanel";e.OuShareUserTeamSearchPanel.create=function(t,i){let o=new e.OuShareUserTeamSearchPanel;o.m_userTeamDialog=t;o.m_mainContainer=i;o.buildPanel();return o};e.OuShareUserTeamSearchPanel.prototype.m_dropdownSearch=null;e.OuShareUserTeamSearchPanel.prototype.m_mainContainer=null;e.OuShareUserTeamSearchPanel.prototype.m_userTeamDialog=null;e.OuShareUserTeamSearchPanel.prototype.buildPanel=function(){let t=this.m_userTeamDialog.getGenesis().newControl(e.UiType.PANEL).setName("ShareUserTeamSearchPanel");t.setMargin(e.UiCssBoxEdges.create("0 1rem 0.5rem 0"));t.setExpandable(true);t.setExpanded(false);t.removeAttribute(e.UtUi5AttributeConstants.FAST_NAV_GROUP);this.m_mainContainer.addNewItemOfType(e.UiType.FLEX_LAYOUT).addItem(t);let i=t.setNewHeaderToolbar();i.setPadding(e.UiCssBoxEdges.create("0"));i.removeAttribute(e.UtUi5AttributeConstants.FAST_NAV_GROUP);let o=i.addNewItemOfType(e.UiType.TITLE);o.setText(this.m_userTeamDialog.getLocalizationProvider().getText(e.OuShareDialogI18n.SETTINGS));let n=i.addNewItemOfType(e.UiType.FLEX_LAYOUT);n.setMargin(e.UiCssBoxEdges.create("0 0 0 auto"));n.setDirection(e.UiFlexDirection.ROW);n.setWrap(e.UiFlexWrap.NO_WRAP);n.setName("ShareDialogSearchContainer");let a=this.m_userTeamDialog.getGenesis().newControl(e.UiType.SEARCH_FIELD);let r=n.addNewItemOfType(e.UiType.FLEX_LAYOUT);r.setMargin(e.UiCssBoxEdges.create("0 0 0 auto"));r.setAlignSelf(e.UiFlexAlignSelf.END);a.setAlignSelf(e.UiFlexAlignSelf.END);a.setPadding(e.UiCssBoxEdges.create("0"));a.setName("ShareDialogSearchInput");a.setPlaceholder(this.m_userTeamDialog.getLocalizationProvider().getText(e.OuShareDialogI18n.SEARCH));a.registerOnSearch(e.UiLambdaSearchListener.create(this.m_userTeamDialog.handleSearch.bind(this.m_userTeamDialog)));a.registerOnLiveChange(e.UiLambdaLiveChangeWithDebounceListener.create(this.m_userTeamDialog.handleSearch.bind(this.m_userTeamDialog),1e3));r.addItem(a);let l=t.setNewContent(e.UiType.VERTICAL_LAYOUT);let s=l.addNewItemOfType(e.UiType.VERTICAL_LAYOUT);t.setMaxHeight(e.UiCssLength.create("7rem"));s.setDirection(e.UiFlexDirection.ROW);s.setWrap(e.UiFlexWrap.NO_WRAP);s.setMargin(e.UiCssBoxEdges.create("0 0 0.5rem 2.7rem"));s.setPadding(e.UiCssBoxEdges.create("0"));l.setPadding(e.UiCssBoxEdges.create("0"));s.setName("ShareDialogSearchContainer");s.addNewItemOfType(e.UiType.LABEL).setText(this.m_userTeamDialog.getLocalizationProvider().getText(e.OuShareDialogI18n.DISPLAY)).setAlignSelf(e.UiFlexAlignSelf.CENTER);this.m_dropdownSearch=this.m_userTeamDialog.getGenesis().newControl(e.UiType.DROPDOWN);this.m_dropdownSearch.setName("ShareDialogDropdownSearch");this.m_dropdownSearch.setWidth(e.UiCssLength.create("100%"));this.m_dropdownSearch.setTooltip(this.m_userTeamDialog.getLocalizationProvider().getText(e.OuShareDialogI18n.DISPLAY));this.m_dropdownSearch.addNewItem().setText(this.m_userTeamDialog.getLocalizationProvider().getText(e.OuShareDialogI18n.DISPLAY_NAME)).setName("DisplayName");this.m_dropdownSearch.addNewItem().setText(this.m_userTeamDialog.getLocalizationProvider().getText(e.OuShareDialogI18n.ID_AND_NAME)).setName("IdAndDisplay");this.m_dropdownSearch.addNewItem().setText(this.m_userTeamDialog.getLocalizationProvider().getText(e.OuShareDialogI18n.ID)).setName("Id");this.m_dropdownSearch.registerOnSelect(e.UiLambdaSelectListener.create(e=>{let t=this.m_dropdownSearch.getSelectedItem().getName();let i=this.m_userTeamDialog.getTable().getResponsiveTableRows();this.m_userTeamDialog.changeUserDisplayNameOrId(i,t)}));s.addItem(this.m_dropdownSearch)};e.OuShareUserTeamSearchPanel.prototype.getDropdownSearch=function(){return this.m_dropdownSearch};e.OuShareUserTeamSearchPanel.prototype.releaseObject=function(){this.m_userTeamDialog=e.XObjectExt.release(this.m_userTeamDialog);this.m_mainContainer=e.XObjectExt.release(this.m_mainContainer);this.m_dropdownSearch=e.XObjectExt.release(this.m_dropdownSearch);e.XObject.prototype.releaseObject.call(this)};e.OuShareUserTeamSelectionList=function(){};e.OuShareUserTeamSelectionList.prototype=new e.XObject;e.OuShareUserTeamSelectionList.prototype._ff_c="OuShareUserTeamSelectionList";e.OuShareUserTeamSelectionList.create=function(t){let i=new e.OuShareUserTeamSelectionList;i.m_userTeamDialog=t;return i};e.OuShareUserTeamSelectionList.prototype.m_selectionContainer=null;e.OuShareUserTeamSelectionList.prototype.m_selectionList=null;e.OuShareUserTeamSelectionList.prototype.m_userTeamDialog=null;e.OuShareUserTeamSelectionList.prototype.addAllUsersAlreadySelected=function(t){this.m_userTeamDialog.setSelectedUsers(this.m_selectionList.getItems());this.m_selectionList.clearItems();let i=e.XList.create();let o=t.size();for(let e=0;e<o;e++){let o=t.get(e);let n=o.getResponsiveTableCell(0);let a=n.getItems().get(1);let r=a.getName();i.add(this.m_userTeamDialog.createNewSelectionListItem(a.getText(),a.getTooltip(),r,o,this.m_userTeamDialog.getGenesis()))}this.m_selectionList.addAllItems(i);let n=e.XList.create();let a=this.m_userTeamDialog.getTable().getResponsiveTableRows();for(let t=0;t<this.m_userTeamDialog.getSelectedUsers().size();t++){let i=this.m_userTeamDialog.getSelectedUsers().get(t);for(let t=0;t<a.size();t++){let o=a.get(t).getResponsiveTableCell(0);if(e.XString.isEqual(o.getItem(1).getName(),i.getName())){break}if(t===a.size()-1){n.add(i)}}}this.m_selectionList.addAllItems(n);this.m_userTeamDialog.changeUserDisplayNameOrId(this.m_userTeamDialog.getTable().getResponsiveTableRows(),this.m_userTeamDialog.getSearchPanel().getDropdownSearch().getSelectedItem().getName());this.m_selectionList.setBusy(false)};e.OuShareUserTeamSelectionList.prototype.addUsersToList=function(e){if(e.getParameters().getBooleanByKey("deselectAll")){this.m_selectionList.clearItems()}else{let e=this.m_userTeamDialog.getTable().getSelectedItems();this.addAllUsersAlreadySelected(e)}};e.OuShareUserTeamSelectionList.prototype.buildList=function(t){this.m_selectionContainer=t.addNewItemOfType(e.UiType.VERTICAL_LAYOUT);this.m_selectionContainer.setName("ShareDialogSelectionContainer");this.m_selectionContainer.setPadding(e.UiCssBoxEdges.create("0 1rem"));this.m_selectionContainer.useMaxSpace();let i=this.m_selectionContainer.addNewItemOfType(e.UiType.FLEX_LAYOUT);i.setDirection(e.UiFlexDirection.COLUMN);i.setJustifyContent(e.UiFlexJustifyContent.SPACE_BETWEEN);i.setAlignItems(e.UiFlexAlignItems.START);i.setWrap(e.UiFlexWrap.NO_WRAP);i.setName("ShareDialogSelectionListContainer");i.useMaxSpace();this.m_selectionContainer.addItem(i);let o=this.m_userTeamDialog.getGenesis().newControl(e.UiType.FLEX_LAYOUT);o.setDirection(e.UiFlexDirection.ROW);o.setJustifyContent(e.UiFlexJustifyContent.SPACE_BETWEEN);o.setAlignItems(e.UiFlexAlignItems.START);o.setWrap(e.UiFlexWrap.NO_WRAP);o.setFlex("0 0 auto");o.setWidth(e.UiCssLength.create("100%"));o.setMargin(e.UiCssBoxEdges.create("0 0 0.5rem 0"));this.m_selectionContainer.addItem(o);let n=this.m_userTeamDialog.getGenesis().newControl(e.UiType.TITLE);n.setText(this.m_userTeamDialog.getLocalizationProvider().getText(e.OuShareDialogI18n.SELECTED_USERS));n.setFontSize(e.UiCssLength.create("0.875rem"));n.setFontColor(e.UiColor.create("#666"));n.setFontWeight(e.UiFontWeight.BOLD);n.setFlex("0 0 auto");n.setAlignSelf(e.UiFlexAlignSelf.CENTER);o.addItem(n);i.addItem(o);let a=i.addNewItemOfType(e.UiType.SCROLL_CONTAINER);a.setWidth(e.UiCssLength.create("100%"));a.setMargin(e.UiCssBoxEdges.create("1%"));a.setFlex("auto");this.m_selectionList=a.setNewContent(e.UiType.LIST);n.setLabelFor(this.m_selectionList);this.m_selectionList.setName("ShareDialogPreviewList");this.m_selectionList.useMaxSpace();this.m_selectionList.setSelectionMode(e.UiSelectionMode.DELETE);this.m_selectionList.setBorderWidth(e.UiCssBoxEdges.create("0px"));i.addItem(a);i.addItem(this.m_userTeamDialog.getGenesis().newControl(e.UiType.SPACER).setHeight(e.UiCssLength.create("0.5rem")).setFlex("0 0 auto"));for(let t=0;t<this.m_userTeamDialog.getCurrentSelectedUsers().size();t++){let i=this.m_userTeamDialog.getCurrentSelectedUsers().get(t);let o=i.get(0);let n=e.XStringTokenizer.splitString(o," (");let a=n.get(0);let r=e.XStringTokenizer.splitString(n.get(1),")").get(0);if(e.XStringTokenizer.splitString(r,":").size()>2){let t=e.XStringTokenizer.splitString(r,":");r=e.XStringUtils.concatenate3(t.get(0),": ",t.get(2))}let l=e.XStringUtils.concatenate3(this.m_userTeamDialog.getLocalizationProvider().getText(e.OuShareDialogI18n.ID),": ",r);let s=e.XStringUtils.concatenate3(this.m_userTeamDialog.getLocalizationProvider().getText(e.OuShareDialogI18n.DISPLAY_NAME),": ",a);let u=e.XStringUtils.concatenate3(l," ",s);let m=i.get(1);this.m_selectionList.addItem(this.m_userTeamDialog.createNewSelectionListItem(a,u,m,null,this.m_userTeamDialog.getGenesis()))}this.m_selectionList.registerOnDelete(e.UiLambdaDeleteListener.create(t=>{this.m_selectionList.removeItem(t.getAffectedItem());let i=this.m_userTeamDialog.getTable().getSelectedItems();for(let o=0;o<i.size();o++){let n=i.get(o);let a=n.getResponsiveTableCell(0);let r=a.getItems().get(1);let l=r.getName();let s=t.getAffectedItem().getName();if(e.XString.isEqual(l,s)){n.setSelected(false)}}this.m_userTeamDialog.setSelectedUsers(this.m_selectionList.getItems())}));this.m_userTeamDialog.setSelectedUsers(this.m_selectionList.getItems());let r=o.addNewItemOfType(e.UiType.FLEX_LAYOUT);r.setDirection(e.UiFlexDirection.ROW);r.setJustifyContent(e.UiFlexJustifyContent.START);r.setFlex("0 0 auto");r.useMaxWidth();r.setName("ShareDialogPreviewListClearBtnContainer");i.addItem(r);let l=r.addNewItemOfType(e.UiType.BUTTON);l.setName("ClearSelection");l.setText(this.m_userTeamDialog.getLocalizationProvider().getText(e.OuShareDialogI18n.CLEAR_SELECTION_BUTTON));l.setTooltip(this.m_userTeamDialog.getLocalizationProvider().getText(e.OuShareDialogI18n.CLEAR_SELECTION_BUTTON));l.setButtonType(e.UiButtonType.TRANSPARENT);l.registerOnPress(e.UiLambdaPressListener.create(e=>{this.m_userTeamDialog.getTable().clearSelectedItems();this.m_selectionList.clearItems();this.m_userTeamDialog.setSelectedUsers(this.m_selectionList.getItems())}));return this.m_selectionList};e.OuShareUserTeamSelectionList.prototype.getSelectionContainer=function(){return this.m_selectionContainer};e.OuShareUserTeamSelectionList.prototype.releaseObject=function(){this.m_selectionList=e.XObjectExt.release(this.m_selectionList);this.m_userTeamDialog=e.XObjectExt.release(this.m_userTeamDialog);this.m_selectionContainer=e.XObjectExt.release(this.m_selectionContainer);e.XObject.prototype.releaseObject.call(this)};e.OuShareUserTeamTable=function(){};e.OuShareUserTeamTable.prototype=new e.XObject;e.OuShareUserTeamTable.prototype._ff_c="OuShareUserTeamTable";e.OuShareUserTeamTable.create=function(t,i,o,n){let a=new e.OuShareUserTeamTable;a.m_userTeamDialog=t;a.m_mainContainer=i;a.m_fetchUsersTeams=e.OuFetchUsersTeams.create(a.m_userTeamDialog.getLocalizationProvider());a.m_owner=o;a.m_workspace=n;return a};e.OuShareUserTeamTable.prototype.m_currentPage=0;e.OuShareUserTeamTable.prototype.m_fetchUsersTeams=null;e.OuShareUserTeamTable.prototype.m_mainContainer=null;e.OuShareUserTeamTable.prototype.m_membersPerPage=0;e.OuShareUserTeamTable.prototype.m_owner=null;e.OuShareUserTeamTable.prototype.m_pages=0;e.OuShareUserTeamTable.prototype.m_pagingBtnNext=null;e.OuShareUserTeamTable.prototype.m_pagingBtnPrev=null;e.OuShareUserTeamTable.prototype.m_pagingLabel=null;e.OuShareUserTeamTable.prototype.m_popover=null;e.OuShareUserTeamTable.prototype.m_popoverTable=null;e.OuShareUserTeamTable.prototype.m_table=null;e.OuShareUserTeamTable.prototype.m_tableFooter=null;e.OuShareUserTeamTable.prototype.m_userSort=null;e.OuShareUserTeamTable.prototype.m_userTeamDialog=null;e.OuShareUserTeamTable.prototype.m_workspace=null;e.OuShareUserTeamTable.prototype.addAllUsersToTable=function(){this.m_userTeamDialog.setDialogBusy(true);this.m_membersPerPage=9;this.getTeams(0,this.m_membersPerPage,this.m_userTeamDialog.getSearchValue(),this.m_userSort,this.m_workspace).onThen(t=>{this.m_userTeamDialog.setTotalTeams(t.getTotalItemCount());let i=t.getChildFiles();if(e.notNull(i)){this.addTeams(i)}this.getUsers(0,0,this.m_userTeamDialog.getSearchValue(),this.m_userSort,this.m_workspace).onThen(t=>{let i=t.getTotalItemCount()+this.m_userTeamDialog.getTotalTeams();if(this.m_userTeamDialog.getTotalMembers()===0){this.m_userTeamDialog.setTotalMembers(i)}this.m_currentPage=1;if(this.m_userTeamDialog.getTotalTeams()<this.m_membersPerPage){if(i>this.m_membersPerPage){let t=this.m_membersPerPage-this.m_userTeamDialog.getTotalTeams();this.m_mainContainer.addItem(this.m_tableFooter);this.m_pages=e.XDouble.convertToInt(e.XMath.ceil(i/this.m_membersPerPage));this.m_pagingLabel.setText(e.XStringUtils.concatenate5(e.XInteger.convertToString(this.m_currentPage)," ",this.m_userTeamDialog.getLocalizationProvider().getText(e.OuShareDialogI18n.OF)," ",e.XInteger.convertToString(this.m_pages)));this.getUsers(0,t,this.m_userTeamDialog.getSearchValue(),this.m_userSort,this.m_workspace).onThen(e=>{let t=e.getChildFiles();this.addUsers(t)}).onFinally(()=>{this.m_userTeamDialog.setDialogBusy(false);this.setSelectedUsers()})}else{this.getUsers(0,this.m_membersPerPage,this.m_userTeamDialog.getSearchValue(),this.m_userSort,this.m_workspace).onThen(e=>{let t=e.getChildFiles();this.addUsers(t)}).onFinally(()=>{this.m_userTeamDialog.setDialogBusy(false);this.setSelectedUsers()})}}else{this.m_mainContainer.addItem(this.m_tableFooter);this.m_pages=e.XDouble.convertToInt(e.XMath.ceil(i/this.m_membersPerPage));this.m_pagingLabel.setText(e.XStringUtils.concatenate5(e.XInteger.convertToString(this.m_currentPage)," ",this.m_userTeamDialog.getLocalizationProvider().getText(e.OuShareDialogI18n.OF)," ",e.XInteger.convertToString(this.m_pages)));this.m_userTeamDialog.setDialogBusy(false);this.setSelectedUsers()}this.m_pagingBtnPrev.setEnabled(this.m_currentPage>1);this.m_pagingBtnNext.setEnabled(this.m_currentPage<this.m_pages)})})};e.OuShareUserTeamTable.prototype.addTeams=function(t){e.XCollectionUtils.forEach(t,t=>{let i=e.XStringTokenizer.splitString(t.getAttributes().getStringByKey(e.XFileAttribute.NAME),":");let o=e.XStringUtils.concatenate3(i.get(0),": ",i.get(2));let n=e.XStringUtils.concatenate3(this.m_userTeamDialog.getLocalizationProvider().getText(e.OuShareDialogI18n.ID),": ",o);let a=e.XStringUtils.concatenate3(this.m_userTeamDialog.getLocalizationProvider().getText(e.OuShareDialogI18n.DISPLAY_NAME),": ",t.getAttributes().getStringByKey(e.XFileAttribute.DISPLAY_NAME));let r=e.XStringUtils.concatenate3(n," ",a);let l=this.m_table.addNewResponsiveTableRow();let s=l.addNewResponsiveTableCellOfType(e.UiType.FLEX_LAYOUT);let u=this.m_userTeamDialog.getGenesis().newControl(e.UiType.AVATAR);u.setSize(e.UiSize.createByCss("1.5rem","1.5rem"));u.setAvatarColor(e.UiAvatarColor.ACCENT_6);u.setMargin(e.UiCssBoxEdges.create("0 5% 0 0"));u.setIcon(t.getAttributes().getStringByKey(e.XFileAttribute.ICON));u.addCssClass("ffShareDialogUserIcon");u.registerOnHover(e.UiLambdaHoverListener.create(i=>{this.m_popover=this.m_userTeamDialog.getGenesis().newControl(e.UiType.POPOVER);this.m_popover.setPlacement(e.UiPlacementType.BOTTOM);this.m_popover.setWidth(e.UiCssLength.create("10%"));let o=this.m_popover.setNewContent(e.UiType.VERTICAL_LAYOUT);this.m_popoverTable=o.addNewItemOfType(e.UiType.RESPONSIVE_TABLE);let n=i.getControl().getParent().getItems().get(1);this.m_popoverTable.addNewResponsiveTableColumn().setNewHeader(e.UiType.LABEL).setText(n.getText());this.m_fetchUsersTeams.getUsersInTeam(t.getAttributes().getStringByKey(e.XFileAttribute.NAME),this.m_userTeamDialog.getGenesis().getUiManager().getProcess()).onThen(t=>{let i=t.getData().getCachedChildrenResultset();let o=i.getChildFiles();if(e.notNull(o)){e.XCollectionUtils.forEach(o,t=>{let i=t.getAttributes().getStringByKey(e.XFileAttribute.NAME);let o=this.m_popoverTable;let n=o.addNewResponsiveTableRow();let a=n.addNewResponsiveTableCellOfType(e.UiType.FLEX_LAYOUT);let r=a.addNewItemOfType(e.UiType.AVATAR);r.setAvatarColor(e.UiAvatarColor.ACCENT_7);r.setMargin(e.UiCssBoxEdges.create("0 5% 0 0"));r.addCssClass("ffShareDialogUserIcon");r.setIcon(t.getAttributes().getStringByKey(e.XFileAttribute.ICON));r.setSize(e.UiSize.createByCss("1.5rem","1.5rem"));a.addNewItemOfType(e.UiType.LABEL).setText(i).setAlignSelf(e.UiFlexAlignSelf.CENTER)})}});this.m_popover.openAt(i.getControl())}));u.registerOnHoverEnd(e.UiLambdaHoverEndListener.create(e=>{this.m_popover.close()}));let m=this.m_userTeamDialog.getGenesis().newControl(e.UiType.LABEL).setText(t.getAttributes().getStringByKey(e.XFileAttribute.DISPLAY_NAME)).setTooltip(r).setName(e.XStringUtils.concatenate3(t.getAttributes().getStringByKey(e.XFileAttribute.NAME),",",t.getAttributes().getStringByKey(e.XFileAttribute.DISPLAY_NAME))).setAlignSelf(e.UiFlexAlignSelf.CENTER);s.addItem(u);s.addItem(m)})};e.OuShareUserTeamTable.prototype.addUsers=function(t){if(e.notNull(t)){e.XCollectionUtils.forEach(t,t=>{if(!e.XString.isEqual(t.getAttributes().getStringByKey(e.XFileAttribute.NAME),this.m_owner)){let i=e.XStringUtils.concatenate3(this.m_userTeamDialog.getLocalizationProvider().getText(e.OuShareDialogI18n.ID),": ",t.getAttributes().getStringByKey(e.XFileAttribute.NAME));let o=e.XStringUtils.concatenate3(this.m_userTeamDialog.getLocalizationProvider().getText(e.OuShareDialogI18n.DISPLAY_NAME),": ",t.getAttributes().getStringByKey(e.XFileAttribute.DISPLAY_NAME));let n=e.XStringUtils.concatenate3(i," ",o);let a=this.m_table.addNewResponsiveTableRow();let r=a.addNewResponsiveTableCellOfType(e.UiType.FLEX_LAYOUT);let l=r.addNewItemOfType(e.UiType.AVATAR);l.addCssClass("ffShareDialogUserIcon");l.setSize(e.UiSize.createByCss("1.5rem","1.5rem"));l.setAvatarColor(e.UiAvatarColor.ACCENT_7);l.setMargin(e.UiCssBoxEdges.create("0 5% 0 0"));l.setIcon(t.getAttributes().getStringByKey(e.XFileAttribute.ICON));let s=this.m_userTeamDialog.getGenesis().newControl(e.UiType.LABEL).setText(t.getAttributes().getStringByKey(e.XFileAttribute.DISPLAY_NAME)).setTooltip(n).setName(e.XStringUtils.concatenate3(t.getAttributes().getStringByKey(e.XFileAttribute.NAME),",",t.getAttributes().getStringByKey(e.XFileAttribute.DISPLAY_NAME))).setAlignSelf(e.UiFlexAlignSelf.CENTER);r.addItem(l);r.addItem(s)}})}};e.OuShareUserTeamTable.prototype.buildTable=function(){let t=this.m_mainContainer.addNewItemOfType(e.UiType.LABEL).setText(this.m_userTeamDialog.getLocalizationProvider().getText(e.OuShareDialogI18n.USERS)).setPadding(e.UiCssBoxEdges.create("0.5rem 0 0.3rem 0.6rem")).setBackgroundColor(e.UiColor.create("#f7f7f7"));t.setBorderStyle(e.UiBorderStyle.SOLID);t.setBorderColor(e.UiColor.create("#ddd"));t.setBorderWidth(e.UiCssBoxEdges.create(".0625rem .0625rem 0 .0625rem"));t.setWidth(e.UiCssLength.create("100%"));t.setHeight(e.UiCssLength.create("100%"));t.setFontColor(e.UiColor.create("#333"));t.setWidth(e.UiCssLength.create("calc(100% - 1rem)"));let i=this.m_mainContainer.addNewItemOfType(e.UiType.VERTICAL_LAYOUT);i.setWidth(e.UiCssLength.create("calc(100% - 1rem)"));let o=i.addNewItemOfType(e.UiType.SCROLL_CONTAINER);this.m_table=o.setNewContent(e.UiType.RESPONSIVE_TABLE);this.m_table.setName("ShareDialogTable");this.m_table.addCssClass("ffShareDialogReTable");this.m_table.setBorderStyle(e.UiBorderStyle.SOLID);this.m_table.setBorderColor(e.UiColor.create("#ddd"));this.m_table.setBorderWidth(e.UiCssBoxEdges.create("0 .0625rem 0 .0625rem"));this.m_table.setFlex("auto");this.m_table.setSelectionMode(e.UiSelectionMode.MULTI_SELECT);this.m_table.setMultiSelectMode(e.UiMultiSelectMode.CLEAR_ALL);let n=this.m_table.addNewResponsiveTableColumn();n.addCssClass("ffShareDialogReTableLastColumn");this.m_table.registerOnSelectionChange(e.UiLambdaSelectionChangeListener.create(this.m_userTeamDialog.getShareUserTeamSelectionList().addUsersToList.bind(this.m_userTeamDialog.getShareUserTeamSelectionList())));this.addAllUsersToTable();this.m_tableFooter=this.m_userTeamDialog.getGenesis().newControl(e.UiType.FLEX_LAYOUT);this.m_tableFooter.setDirection(e.UiFlexDirection.ROW);this.m_tableFooter.setAlignItems(e.UiFlexAlignItems.CENTER);this.m_tableFooter.setWrap(e.UiFlexWrap.NO_WRAP);this.m_tableFooter.setWidth(e.UiCssLength.create("100%"));this.m_tableFooter.setJustifyContent(e.UiFlexJustifyContent.CENTER);this.m_tableFooter.setMargin(e.UiCssBoxEdges.create("auto 0 0 0"));this.m_tableFooter.setName("TableFooter");let a=e.OuUserTeamSelectorPagination.create(this.m_userTeamDialog.getGenesis(),this.m_tableFooter,this.m_userTeamDialog.getLocalizationProvider());this.m_pagingBtnPrev=a.getPagingBtnPrev();this.m_pagingLabel=a.getPagingLabel();this.m_pagingBtnNext=a.getPagingBtnNext();this.m_pagingBtnNext.registerOnPress(e.UiLambdaPressListener.create(e=>{this.pageChanged(this.m_pagingBtnNext)}));this.m_pagingBtnPrev.registerOnPress(e.UiLambdaPressListener.create(e=>{this.pageChanged(this.m_pagingBtnPrev)}));return this.m_table};e.OuShareUserTeamTable.prototype.getTableFooter=function(){return this.m_tableFooter};e.OuShareUserTeamTable.prototype.getTeams=function(t,i,o,n,a){let r=this.m_userTeamDialog.getGenesis().getUiManager().getProcess();return e.XPromise.create((e,l)=>{this.m_fetchUsersTeams.getTeams(r,t,i,o,n,a).onThen(t=>{let i=t.getData().getCachedChildrenResultset();e(i)}).onCatch(e=>{this.m_userTeamDialog.getGenesis().showErrorToast(e.getText());this.m_userTeamDialog.setDialogBusy(false)})})};e.OuShareUserTeamTable.prototype.getUsers=function(t,i,o,n,a){let r=this.m_userTeamDialog.getGenesis().getUiManager().getProcess();return e.XPromise.create((e,l)=>{this.m_fetchUsersTeams.getUsers(r,t,i,o,n,a).onThen(t=>{let i=t.getData().getCachedChildrenResultset();e(i)}).onCatch(e=>{this.m_userTeamDialog.getGenesis().showErrorToast(e.getText());this.m_userTeamDialog.setDialogBusy(false)})})};e.OuShareUserTeamTable.prototype.pageChanged=function(t){this.m_userTeamDialog.setSelectedUsers(this.m_userTeamDialog.getSelectionList().getItems());let i=0;if(t.isEqualTo(this.m_pagingBtnNext)){i=this.m_currentPage*this.m_membersPerPage;this.m_currentPage=this.m_currentPage+1}else{this.m_currentPage=this.m_currentPage-1;i=(this.m_currentPage-1)*this.m_membersPerPage}this.m_pagingLabel.setText(e.XStringUtils.concatenate5(e.XInteger.convertToString(this.m_currentPage)," ",this.m_userTeamDialog.getLocalizationProvider().getText(e.OuShareDialogI18n.OF)," ",e.XInteger.convertToString(this.m_pages)));this.m_table.clearResponsiveTableRows();if(i<=this.m_userTeamDialog.getTotalTeams()){this.m_userTeamDialog.setDialogBusy(true);this.getTeams(i,this.m_membersPerPage,this.m_userTeamDialog.getSearchValue(),this.m_userSort,this.m_workspace).onThen(t=>{this.m_userTeamDialog.setTotalTeams(t.getTotalItemCount());let i=t.getChildFiles();if(e.notNull(i)){this.addTeams(i)}this.m_userTeamDialog.setDialogBusy(false);this.setSelectedUsers()});if(this.m_userTeamDialog.getTotalTeams()-i<this.m_membersPerPage){let e=i+this.m_membersPerPage-this.m_userTeamDialog.getTotalTeams();this.m_userTeamDialog.setDialogBusy(true);this.getUsers(0,e,this.m_userTeamDialog.getSearchValue(),this.m_userSort,this.m_workspace).onThen(e=>{let t=e.getChildFiles();this.addUsers(t)}).onFinally(()=>{this.m_userTeamDialog.setDialogBusy(false);this.setSelectedUsers()})}}else{this.m_userTeamDialog.setDialogBusy(true);this.getUsers(i-this.m_userTeamDialog.getTotalTeams(),this.m_membersPerPage,this.m_userTeamDialog.getSearchValue(),this.m_userSort,this.m_workspace).onThen(e=>{let t=e.getChildFiles();this.addUsers(t)}).onFinally(()=>{this.m_userTeamDialog.setDialogBusy(false);this.setSelectedUsers()})}this.m_pagingBtnPrev.setEnabled(this.m_currentPage>1);this.m_pagingBtnNext.setEnabled(this.m_currentPage<this.m_pages)};e.OuShareUserTeamTable.prototype.releaseObject=function(){this.m_table=e.XObjectExt.release(this.m_table);this.m_tableFooter=e.XObjectExt.release(this.m_tableFooter);this.m_userTeamDialog=e.XObjectExt.release(this.m_userTeamDialog);this.m_mainContainer=e.XObjectExt.release(this.m_mainContainer);this.m_pagingBtnPrev=e.XObjectExt.release(this.m_pagingBtnPrev);this.m_pagingLabel=e.XObjectExt.release(this.m_pagingLabel);this.m_pagingBtnNext=e.XObjectExt.release(this.m_pagingBtnNext);this.m_popover=e.XObjectExt.release(this.m_popover);this.m_popoverTable=e.XObjectExt.release(this.m_popoverTable);this.m_fetchUsersTeams=e.XObjectExt.release(this.m_fetchUsersTeams);e.XObject.prototype.releaseObject.call(this)};e.OuShareUserTeamTable.prototype.setSelectedUsers=function(){let t=this.m_userTeamDialog.getSelectionList().getItems();for(let i=0;i<this.m_table.getResponsiveTableRows().size();i++){let o=this.m_table.getResponsiveTableRows().get(i);let n=o.getResponsiveTableCell(0);for(let i=0;i<t.size();i++){if(e.XString.isEqual(n.getItems().get(1).getName(),t.get(i).getName())){o.setSelected(true)}}}let i=this.m_userTeamDialog.getSearchPanel().getDropdownSearch().getSelectedItem().getName();let o=this.m_table.getResponsiveTableRows();this.m_userTeamDialog.changeUserDisplayNameOrId(o,i)};e.OuUserTeamSelectorPagination=function(){};e.OuUserTeamSelectorPagination.prototype=new e.XObject;e.OuUserTeamSelectorPagination.prototype._ff_c="OuUserTeamSelectorPagination";e.OuUserTeamSelectorPagination.create=function(t,i,o){let n=new e.OuUserTeamSelectorPagination;n.buildUi(t,i,o);return n};e.OuUserTeamSelectorPagination.prototype.m_pagingBtnNext=null;e.OuUserTeamSelectorPagination.prototype.m_pagingBtnPrev=null;e.OuUserTeamSelectorPagination.prototype.m_pagingButtons=null;e.OuUserTeamSelectorPagination.prototype.m_pagingLabel=null;e.OuUserTeamSelectorPagination.prototype.buildUi=function(t,i,o){this.m_pagingButtons=e.XList.create();this.m_pagingBtnPrev=t.newControl(e.UiType.BUTTON);this.m_pagingBtnPrev.setName("PagingBtnPrev");this.m_pagingBtnPrev.setIcon("navigation-left-arrow");this.m_pagingBtnPrev.setTooltip(o.getText(e.OuShareDialogI18n.PREVIOUS_PAGE));this.m_pagingBtnPrev.setButtonType(e.UiButtonType.TRANSPARENT);i.addItem(this.createHiddenLabelFor(this.m_pagingBtnPrev,t,o.getText(e.OuShareDialogI18n.PREVIOUS_PAGE)));i.addItem(this.m_pagingBtnPrev);this.m_pagingButtons.add(this.m_pagingBtnPrev);let n=e.UiCssBoxEdges.create("0 0 0 0.25rem");this.m_pagingLabel=t.newControl(e.UiType.LABEL);i.addItem(this.m_pagingLabel);this.m_pagingBtnNext=t.newControl(e.UiType.BUTTON);this.m_pagingBtnNext.setName("PagingBtnNext");this.m_pagingBtnNext.setIcon("navigation-right-arrow");this.m_pagingBtnNext.setTooltip(o.getText(e.OuShareDialogI18n.NEXT_PAGE));this.m_pagingBtnNext.setMargin(n);this.m_pagingBtnNext.setButtonType(e.UiButtonType.TRANSPARENT);i.addItem(this.createHiddenLabelFor(this.m_pagingBtnNext,t,o.getText(e.OuShareDialogI18n.NEXT_PAGE)));i.addItem(this.m_pagingBtnNext);this.m_pagingButtons.add(this.m_pagingBtnNext)};e.OuUserTeamSelectorPagination.prototype.createHiddenLabelFor=function(t,i,o){let n=e.UiCssLength.create("0");return i.newControl(e.UiType.LABEL).setWidth(n).setHeight(n).setText(o).setLabelFor(t)};e.OuUserTeamSelectorPagination.prototype.getPagingBtnNext=function(){return this.m_pagingBtnNext};e.OuUserTeamSelectorPagination.prototype.getPagingBtnPrev=function(){return this.m_pagingBtnPrev};e.OuUserTeamSelectorPagination.prototype.getPagingLabel=function(){return this.m_pagingLabel};e.OuUserTeamSelectorPagination.prototype.releaseObject=function(){this.m_pagingBtnPrev=e.XObjectExt.release(this.m_pagingBtnPrev);this.m_pagingBtnNext=e.XObjectExt.release(this.m_pagingBtnNext);this.m_pagingButtons=e.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_pagingButtons);this.m_pagingLabel=e.XObjectExt.release(this.m_pagingLabel);e.XObject.prototype.releaseObject.call(this)};e.OuLambdaFdSelectionChangeListener=function(){};e.OuLambdaFdSelectionChangeListener.prototype=new e.XObject;e.OuLambdaFdSelectionChangeListener.prototype._ff_c="OuLambdaFdSelectionChangeListener";e.OuLambdaFdSelectionChangeListener.create=function(t){let i=new e.OuLambdaFdSelectionChangeListener;i.m_onSelectionChangeProcedure=t;return i};e.OuLambdaFdSelectionChangeListener.prototype.m_onSelectionChangeProcedure=null;e.OuLambdaFdSelectionChangeListener.prototype.onSelectionChange=function(t){if(e.notNull(this.m_onSelectionChangeProcedure)){this.m_onSelectionChangeProcedure(t)}};e.OuLambdaFdSelectionChangeListener.prototype.releaseObject=function(){this.m_onSelectionChangeProcedure=null;e.XObject.prototype.releaseObject.call(this)};e.VdConstants={BASIC_DIALOG_WIDTH:600,BW_NULL_DATE:"00000000",BW_NULL_OPERATOR:"#",DATE_DISPLAY_FORMAT:"yyyy-MM-dd",DATE_VALUE_FORMAT:"yyyy-MM-dd",EMPTY_OPTION:"empty"};e.VdConfiguration=function(){};e.VdConfiguration.prototype=new e.XObject;e.VdConfiguration.prototype._ff_c="VdConfiguration";e.VdConfiguration.createConfig=function(t,i){let o=new e.VdConfiguration;o.setupConfig(t,i);return o};e.VdConfiguration.prototype.m_autoSubmitOnStartup=false;e.VdConfiguration.prototype.m_dateDisplayFormat=null;e.VdConfiguration.prototype.m_dimensionDisplayInfo=null;e.VdConfiguration.prototype.m_forceValueIdModification=false;e.VdConfiguration.prototype.m_functionalValuesEnabled=false;e.VdConfiguration.prototype.m_gridLayoutEnabled=false;e.VdConfiguration.prototype.m_hideNotBetweenOperator=false;e.VdConfiguration.prototype.m_implicitSubmit=false;e.VdConfiguration.prototype.m_labelMode=null;e.VdConfiguration.prototype.m_linkedVariableNames=null;e.VdConfiguration.prototype.m_multiInputComponentEnabled=false;e.VdConfiguration.prototype.m_newSettingsEnabled=false;e.VdConfiguration.prototype.m_settingsPopoverEnabled=false;e.VdConfiguration.prototype.m_startValues=null;e.VdConfiguration.prototype.m_startValuesJson=null;e.VdConfiguration.prototype.m_textVariablesEnabled=false;e.VdConfiguration.prototype.m_title=null;e.VdConfiguration.prototype.m_useDatePicker=false;e.VdConfiguration.prototype.m_valueJsonFormat=null;e.VdConfiguration.prototype.m_varProcessor=null;e.VdConfiguration.prototype.m_variablesToDisplay=null;e.VdConfiguration.prototype.m_variantManagement=false;e.VdConfiguration.prototype.addDimensionDisplayInfo=function(t,i){if(e.XStringUtils.isNullOrEmpty(t)){return}if(e.isNull(this.m_dimensionDisplayInfo)){this.m_dimensionDisplayInfo=e.XHashMapByString.create()}this.m_dimensionDisplayInfo.putIfNotNull(t,i)};e.VdConfiguration.prototype.getDateDisplayFormat=function(){return this.m_dateDisplayFormat};e.VdConfiguration.prototype.getDimensionDisplayInfo=function(t){return e.notNull(this.m_dimensionDisplayInfo)?this.m_dimensionDisplayInfo.getByKey(t):null};e.VdConfiguration.prototype.getLabelMode=function(){return this.m_labelMode};e.VdConfiguration.prototype.getStartValueJson=function(){return this.m_startValuesJson};e.VdConfiguration.prototype.getStartValues=function(){return this.m_startValues};e.VdConfiguration.prototype.getTitle=function(){return this.m_title};e.VdConfiguration.prototype.getValueJsonFormat=function(){return this.m_valueJsonFormat};e.VdConfiguration.prototype.getVarProcessor=function(){return this.m_varProcessor};e.VdConfiguration.prototype.getVariablesToDisplay=function(){return this.m_variablesToDisplay};e.VdConfiguration.prototype.hideOperatorNotBetween=function(e){this.m_hideNotBetweenOperator=e};e.VdConfiguration.prototype.isAutoSubmitOnStartup=function(){return this.m_autoSubmitOnStartup};e.VdConfiguration.prototype.isForceValueIdModification=function(){return this.m_forceValueIdModification};e.VdConfiguration.prototype.isFunctionalValuesEnabled=function(){return this.m_functionalValuesEnabled};e.VdConfiguration.prototype.isGridLayoutEnabled=function(){return this.m_gridLayoutEnabled};e.VdConfiguration.prototype.isHidingOperatorNotBetween=function(){return this.m_hideNotBetweenOperator};e.VdConfiguration.prototype.isLinkedVariable=function(t){return e.notNull(this.m_linkedVariableNames)&&this.m_linkedVariableNames.contains(t)};e.VdConfiguration.prototype.isMultiInputComponentEnabled=function(){return this.m_multiInputComponentEnabled};e.VdConfiguration.prototype.isNewSettingsEnabled=function(){return this.m_newSettingsEnabled};e.VdConfiguration.prototype.isSettingsPopoverEnabled=function(){return this.m_settingsPopoverEnabled};e.VdConfiguration.prototype.isTextVariablesEnabled=function(){return this.m_textVariablesEnabled};e.VdConfiguration.prototype.isVariantManagementEnabled=function(){return this.m_variantManagement};e.VdConfiguration.prototype.releaseObject=function(){this.m_title=null;this.m_varProcessor=null;this.m_labelMode=null;this.m_dateDisplayFormat=null;this.m_variablesToDisplay=null;this.m_startValues=null;this.m_linkedVariableNames=null;this.m_dimensionDisplayInfo=e.XObjectExt.release(this.m_dimensionDisplayInfo);e.XObject.prototype.releaseObject.call(this)};e.VdConfiguration.prototype.setAutoSubmitOnStartup=function(e){this.m_autoSubmitOnStartup=e};e.VdConfiguration.prototype.setDateDisplayFormat=function(t){if(e.XStringUtils.isNullOrEmpty(t)){this.m_dateDisplayFormat=e.VdConstants.DATE_DISPLAY_FORMAT}else{this.m_dateDisplayFormat=t}};e.VdConfiguration.prototype.setForceValueIdModification=function(e){this.m_forceValueIdModification=e};e.VdConfiguration.prototype.setFunctionalValuesEnabled=function(e){this.m_functionalValuesEnabled=e};e.VdConfiguration.prototype.setGridLayoutEnabled=function(e){this.m_gridLayoutEnabled=e};e.VdConfiguration.prototype.setImplicitSubmit=function(e){this.m_implicitSubmit=e};e.VdConfiguration.prototype.setLabelMode=function(e){this.m_labelMode=e};e.VdConfiguration.prototype.setLinkedVariableNames=function(e){this.m_linkedVariableNames=e};e.VdConfiguration.prototype.setMultiInputComponentEnabled=function(e){this.m_multiInputComponentEnabled=e};e.VdConfiguration.prototype.setNewSettingsEnabled=function(e){this.m_newSettingsEnabled=e};e.VdConfiguration.prototype.setSettingsPopoverEnabled=function(e){this.m_settingsPopoverEnabled=e};e.VdConfiguration.prototype.setStartValues=function(e){this.m_startValues=e};e.VdConfiguration.prototype.setStartValuesJson=function(e,t){this.m_valueJsonFormat=e;this.m_startValuesJson=t};e.VdConfiguration.prototype.setTextVariablesEnabled=function(e){this.m_textVariablesEnabled=e};e.VdConfiguration.prototype.setTitle=function(e){this.m_title=e};e.VdConfiguration.prototype.setUseDatePicker=function(e){this.m_useDatePicker=e};e.VdConfiguration.prototype.setVarProcessor=function(e){this.m_varProcessor=e};e.VdConfiguration.prototype.setVariablesToDisplay=function(e){this.m_variablesToDisplay=e};e.VdConfiguration.prototype.setVariantManagementEnabled=function(e){this.m_variantManagement=e};e.VdConfiguration.prototype.setupConfig=function(t,i){this.m_title=t;this.m_varProcessor=i;this.m_dateDisplayFormat=e.VdConstants.DATE_DISPLAY_FORMAT;this.m_labelMode=e.DialogLabelMode.TEXT;this.m_useDatePicker=true;this.m_textVariablesEnabled=true;this.m_implicitSubmit=true;this.m_variantManagement=true;this.m_newSettingsEnabled=true;this.m_settingsPopoverEnabled=false;this.m_gridLayoutEnabled=false;this.m_multiInputComponentEnabled=false;this.m_forceValueIdModification=false};e.VdConfiguration.prototype.useDatePicker=function(){return this.m_useDatePicker};e.VdConfiguration.prototype.useImplicitSubmit=function(){return this.m_implicitSubmit};e.VdImportExport={addSupplementValues:function(t,i,o){let n=t.getDisplayKeyField();if(e.notNull(n)){i.addSupplementValue(n.getName(),o.getDisplayKey())}let a=t.getTextField();if(e.notNull(a)){i.addSupplementValue(a.getName(),o.getText())}},createOperand:function(t,i,o){let n=null;let a=o.getValue();if(e.notNull(a)){n=a.getStringRepresentation()}let r=o.getDisplayKeySupplement(i);let l=o.getTextSupplement(i);if(e.isNull(n)&&e.isNull(r)&&e.isNull(l)){return null}if(t.getVariableType().isTypeOf(e.VariableType.HIERARCHY_NAME_VARIABLE)){r=n}return e.FilterDialogValueFactory.createValueExt(n,r,l,t.getHierarchyName(),e.ComparisonOperator.EQUAL)},createXValue:function(t,i){let o=e.XValueAccess.createWithType(t);o.parseString(i);return o.getValue()},getDimensionMemberValues:function(t){let i=e.XList.create();if(t.hasMemberFilter()){i=e.VdImportExport.getDimensionMemberValuesFromFilter(t,t.getMemberFilter())}return i},getDimensionMemberValuesFromFilter:function(t,i){let o=e.XList.create();for(let n=0;n<i.size();n++){let a=i.getOp(n);if(a.getLow().getValueType()===e.XValueType.VARIABLE){continue}let r=e.VdComparisonOperator.lookupExt(a.getComparisonOperator().getName(),a.getSetSign()===e.SetSign.EXCLUDING);if(e.isNull(r)){continue}if(r.isNullOperator()){o.add(e.VdValue.createValue(r,e.FilterDialogValueFactory.createNullValue(),null));continue}let l=e.VdImportExport.createOperand(t,i,a.getLow());let s=e.VdImportExport.createOperand(t,i,a.getHigh());o.add(e.VdValue.createValue(r,l,s))}return o},getDynamicFilterValues:function(t){if(!t.isUsedInDynamicFilter()||t.getDimension().getAxisType()===e.AxisType.REPOSITORY||!e.VdImportExport.useDynamicFilterForVariable(t)){return null}let i=e.XList.create();let o=t.getQueryModel().getFilter().getDynamicFilter();let n;if(!o.isComplexFilter()){n=o.getCartesianProductWithDefault().getCartesianList(t.getDimension());if(e.notNull(n)){i=e.VdImportExport.getDimensionMemberValuesFromFilter(t,n)}}else{n=e.VdImportExport.searchChildrenForList(t,o);if(e.notNull(n)){i=e.VdImportExport.getDimensionMemberValuesFromFilter(t,n)}}return i},getDynamicFilterValuesFromProcessor:function(t){let i=e.XHashMapByString.create();let o=t.getInputEnabledAndNonTechnicalVariables();for(let t=0;t<o.size();t++){let n=o.get(t);if(!n.getVariableType().isTypeOf(e.VariableType.DIMENSION_MEMBER_VARIABLE)){continue}i.putIfNotNull(n.getName(),e.VdImportExport.getDynamicFilterValues(n))}return i},getOptionListValues:function(t){let i=e.XList.create();let o=t.getCurrentOption();if(e.notNull(o)){let t=e.FilterDialogValueFactory.createValue(o.getName(),null,o.getText());i.add(e.VdValue.createValue(e.VdComparisonOperator.UNDEFINED,t,null))}return i},getSimpleTypeValue:function(t,i){let o=i.getFirstOperand().getKey();if(t.getValueType().isTypeOf(e.XValueType.NUMBER)&&e.XStringUtils.isNotNullAndNotEmpty(o)&&e.XStringUtils.isNullOrEmpty(e.UiNumberFormatterCenter.getCenter().parseFormattedNumber(o))){return null}return o},getSimpleTypeValues:function(t){let i=e.XList.create();if(!t.supportsMultipleValues()){let o=t.getValue();if(e.notNull(o)){let t=e.FilterDialogValueFactory.createValue(o.getStringRepresentation(),null,null);i.add(e.VdValue.createValue(e.VdComparisonOperator.EQUAL,t,null))}}else{let o=t.getValues();for(let t=0;t<o.size();t++){let n=e.FilterDialogValueFactory.createValue(o.get(t).getStringRepresentation(),null,null);i.add(e.VdValue.createValue(e.VdComparisonOperator.EQUAL,n,null))}}return i},getValue:function(t,i,o){if(i){return t.getDisplayKey()}else if(e.notNull(o)){let i=t.getValueByField(o);if(e.notNull(i)){return i}}return t.getKey()},getValuesFromProcessor:function(t){let i=e.XHashMapByString.create();let o=t.getInputEnabledAndNonTechnicalVariables();for(let t=0;t<o.size();t++){let n=o.get(t);i.put(n.getName(),e.VdImportExport.getValuesFromVariable(n))}return i},getValuesFromVariable:function(t){let i=t.getVariableType();if(i.isTypeOf(e.VariableType.DIMENSION_MEMBER_VARIABLE)){return e.VdImportExport.getDimensionMemberValues(t)}else if(i.isTypeOf(e.VariableType.OPTION_LIST_VARIABLE)){return e.VdImportExport.getOptionListValues(t)}return e.VdImportExport.getSimpleTypeValues(t)},searchChildrenForList:function(t,i){let o=i.getChildrenIterator();while(o.hasNext()){let i=o.next();if(i.getOlapComponentType().isTypeOf(e.FilterComponentType.CARTESIAN_LIST)){let o=i;if(e.XString.isEqual(o.getDimensionName(),t.getDimension().getName())){return o}}else{let o=e.VdImportExport.searchChildrenForList(t,i);if(e.notNull(o)){return o}}}return null},setValuesToProcessor:function(t,i){let o=i.getKeysAsIterator();while(o.hasNext()){let n=o.next();let a=t.getVariable(n);if(e.notNull(a)){e.VdImportExport.setValuesToVariable(a,i.getByKey(n))}}},setValuesToVariable:function(t,i){t.clear();if(!e.XCollectionUtils.hasElements(i)){return}if(t.hasExternalRepresentation()){t.setExternalRepresentation(null)}let o=t.getVariableType();if(o.isTypeOf(e.VariableType.DIMENSION_MEMBER_VARIABLE)){let o=t;let n=o.getDimension();let a=o.getMemberFilter();a.addSupplementField(n.getDisplayKeyField());a.addSupplementField(n.getTextField());let r=e.VdImportExport.submitOnDisplayKeys(i);let l=!r&&e.QVariableUtils.useKeyNotCompoundForVariableFilter(o)?n.getFirstFieldByType(e.PresentationType.KEY_NOT_COMPOUND):null;if(r){a.setField(n.getDisplayKeyField())}else if(e.notNull(l)){a.setField(l)}let s=t.getValueType();let u=a.getField();if(u===n.getHierarchyKeyField()&&u.getValueType()!==n.getFlatKeyField().getValueType()){s=n.getFlatKeyField().getValueType()}for(let t=0;t<i.size();t++){let u=i.get(t);if(u.isEmpty()){continue}let m=u.getOperator();let p=e.SetSign.INCLUDING;if(m===e.VdComparisonOperator.NOT_EQUAL){m=e.VdComparisonOperator.EQUAL;p=e.SetSign.EXCLUDING}else if(m===e.VdComparisonOperator.BETWEEN&&e.VdImportExport.switchComparisonOperatorBetweenToEqual(u,o)){m=e.VdComparisonOperator.EQUAL}else if(m===e.VdComparisonOperator.NOT_BETWEEN){m=e.VdImportExport.switchComparisonOperatorBetweenToEqual(u,o)?e.VdComparisonOperator.EQUAL:e.VdComparisonOperator.BETWEEN;p=e.SetSign.EXCLUDING}else if(m===e.VdComparisonOperator.IS_NOT_NULL){m=e.VdComparisonOperator.IS_NULL;p=e.SetSign.EXCLUDING}let d=a.addNewCartesianElement();d.setComparisonOperator(m.getOriginOperator());d.setSetSign(p);if(m.getNumberOfParameters()<1){continue}let c=e.VdImportExport.getValue(u.getFirstOperand(),r,l);if(!e.VdImportExport.trySetValue(c,n,d.getLow(),u.getFirstOperand(),s)){a.removeElement(d);continue}if(m.getNumberOfParameters()<2){continue}let _=e.VdImportExport.getValue(u.getSecondOperand(),r,l);if(!e.VdImportExport.trySetValue(_,n,d.getHigh(),u.getSecondOperand(),s)){a.removeElement(d)}}}else if(o.isTypeOf(e.VariableType.OPTION_LIST_VARIABLE)){let e=t;if(!e.supportsMultipleValues()){e.setOptionByName(i.get(0).getFirstOperand().getKey())}else{for(let t=0;t<i.size();t++){e.addOptionByName(i.get(t).getFirstOperand().getKey())}}}else if(o.isTypeOf(e.VariableType.SIMPLE_TYPE_VARIABLE)){let o=t;if(!o.supportsMultipleValues()){o.setValueByString(e.VdImportExport.getSimpleTypeValue(t,i.get(0)))}else{for(let n=0;n<i.size();n++){o.addValueByString(e.VdImportExport.getSimpleTypeValue(t,i.get(n)))}}}},submitOnDisplayKeys:function(t){let i=true;let o=true;for(let n=0;n<t.size();n++){let a=t.get(n);let r=a.getOperator();if(a.isEmpty()||r.getNumberOfParameters()<=0){continue}let l=a.getFirstOperand();let s=l.getDisplayKey();if(!e.XString.isEqual(s,e.VdConstants.BW_NULL_OPERATOR)){i=i&&l.getKey()!==null;o=o&&e.notNull(s)}if(r.getNumberOfParameters()<2){continue}let u=a.getSecondOperand();let m=u.getDisplayKey();if(!e.XString.isEqual(m,e.VdConstants.BW_NULL_OPERATOR)){i=i&&u.getKey()!==null;o=o&&e.notNull(m)}}return!i&&o},switchComparisonOperatorBetweenToEqual:function(t,i){if(t.isOperandFilled(e.VdValue.FIRST)&&!t.isOperandFilled(e.VdValue.SECOND)){let o=i.getFilterCapability().getSupportedComparisonOperators(e.SetSign.INCLUDING);return e.notNull(o)&&o.contains(t.getOperator()===e.VdComparisonOperator.BETWEEN?e.ComparisonOperator.EQUAL:e.ComparisonOperator.NOT_EQUAL)}return false},trySetValue:function(t,i,o,n,a){let r=e.VdImportExport.createXValue(a,t);if(e.isNull(r)){if(a.isDateBased()){r=e.VdImportExport.createXValue(e.XValueType.STRING,t)}if(e.isNull(r)){return false}}o.setValue(r);e.VdImportExport.addSupplementValues(i,o,n);return true},useDynamicFilterForVariable:function(t){return!e.QVariableUtils.useKeyNotCompoundForVariableFilter(t)}};e.VdStartupAction=function(){};e.VdStartupAction.prototype=new e.XObject;e.VdStartupAction.prototype._ff_c="VdStartupAction";e.VdStartupAction.createAndRun=function(t,i,o,n){let a=new e.VdStartupAction;a.setupAndRun(t,i,o,n);return a};e.VdStartupAction.prototype.m_form=null;e.VdStartupAction.prototype.m_onFailure=null;e.VdStartupAction.prototype.m_onSuccess=null;e.VdStartupAction.prototype.m_startValues=null;e.VdStartupAction.prototype.releaseObject=function(){this.m_form=null;this.m_onSuccess=null;this.m_onFailure=null;e.XObject.prototype.releaseObject.call(this)};e.VdStartupAction.prototype.runAction=function(){this.m_form.getStateHandler().reinitVariables(e.VariableProcessorCallbackLambda.createSingleUse(t=>{if(t.hasErrors()){this.m_onFailure(t);return}if(e.isNull(this.m_startValues)){this.m_startValues=e.VdImportExport.getValuesFromProcessor(this.m_form.getVariableProcessor())}e.VdValueHelp.updateDescriptions(this.m_form.getVariableProcessor(),this.m_startValues,()=>{this.m_onSuccess(this.m_startValues)})}),null)};e.VdStartupAction.prototype.setupAndRun=function(t,i,o,n){this.m_form=t;this.m_startValues=e.notNull(i)?e.VdValue.cloneValueMap(i):null;this.m_onSuccess=o;this.m_onFailure=n;this.runAction()};e.VdValueRenderer=function(){};e.VdValueRenderer.prototype=new e.XObject;e.VdValueRenderer.prototype._ff_c="VdValueRenderer";e.VdValueRenderer.create=function(t,i,o,n,a){let r=new e.VdValueRenderer;r.setupConfigurator(t,i,o,n,a);return r};e.VdValueRenderer.prototype.m_config=null;e.VdValueRenderer.prototype.m_context=null;e.VdValueRenderer.prototype.m_value=null;e.VdValueRenderer.prototype.m_variable=null;e.VdValueRenderer.prototype.m_view=null;e.VdValueRenderer.prototype.drawBooleanList=function(t){let i=e.OuVariableDialogI18nLegacy.getProvider();let o=this.m_view.getDropdown();o.clearItems();if(!this.m_variable.isMandatory()){o.addNewItem().setName(e.VdConstants.EMPTY_OPTION)}let n=o.addNewItem();n.setName(e.XBoolean.convertToString(true));n.setText(i.getText(e.OuVariableDialogI18nLegacy.I18N_VD_TRUE));let a=o.addNewItem();a.setName(e.XBoolean.convertToString(false));a.setText(i.getText(e.OuVariableDialogI18nLegacy.I18N_VD_FALSE));let r=this.m_value.getFirstOperand().getKey();if(e.XStringUtils.isNotNullAndNotEmpty(r)){o.setSelectedName(r)}this.dropdownOnly(t)};e.VdValueRenderer.prototype.drawDimension=function(t,i){let o=this.m_value.getOperator();let n=this.m_variable.isInterval();let a=n&&o.getNumberOfParameters()>1;this.setupComparisonDropdown(o);if(this.m_config.isMultiInputComponentEnabled()){this.m_view.getDropdown().setEditable(i)}else{this.m_view.getDropdown().setEnabled(i)}let r=this.m_variable.getValues().isEmpty()||this.m_variable.getValues().size()===1&&this.m_variable.getValues().get(0)===this.m_variable.getInputValue();let l=this.m_config.isMultiInputComponentEnabled()&&!this.m_variable.supportsMultipleValues();let s=this.m_config.isMultiInputComponentEnabled()&&this.m_value.getOperator().getNumberOfParameters()===2&&!this.m_value.isEmpty();let u=s||this.m_value!==this.m_variable.getInputValue()&&(!l||this.m_value.isFilled());this.m_view.setDeleteLineButtonVisible(u,r).setEnabled(i);if(this.m_view.getDatePicker1()!==e.UiContextDummy.getSingleton()){this.m_view.setInput1Visible(false);this.m_view.setInput2Visible(false);this.hideEndButtons();let t=this.m_value.getFirstOperand().getKey();if(e.XStringUtils.isNullOrEmpty(t)){t=this.m_value.getFirstOperand().getDisplayKey()}if(this.m_view.getDatePicker1().getCustomObject()!==e.VdControllerState.DIRTY){let i=this.getDateDisplayValue(t);let o=this.m_view.getDatePicker1();let n=this.m_config.isMultiInputComponentEnabled()&&e.XStringUtils.isNullOrEmpty(i)&&e.XStringUtils.isNotNullAndNotEmpty(o.getValue());if(e.XStringUtils.isNotNullAndNotEmpty(i)||n&&o.getValueState()!==e.UiValueState.ERROR){o.setValue(i)}}let o=this.m_value.getSecondOperand().getKey();if(e.XStringUtils.isNullOrEmpty(o)){o=this.m_value.getSecondOperand().getDisplayKey()}if(this.m_view.getDatePicker2().getCustomObject()!==e.VdControllerState.DIRTY){let t=this.getDateDisplayValue(o);let i=this.m_view.getDatePicker2();let n=this.m_config.isMultiInputComponentEnabled()&&e.XStringUtils.isNullOrEmpty(t)&&e.XStringUtils.isNotNullAndNotEmpty(i.getValue());if(e.XStringUtils.isNotNullAndNotEmpty(t)||n&&i.getValueState()!==e.UiValueState.ERROR){i.setValue(t)}}if(this.m_config.isMultiInputComponentEnabled()){this.m_view.getDatePicker1().setEditable(i);this.m_view.setDatePicker2Visible(a).setEditable(i)}else{this.m_view.getDatePicker1().setEnabled(i);this.m_view.setDatePicker2Visible(a).setEnabled(i)}}else{let r=o.isNullOperator()?e.OuVariableDialogI18nLegacy.getProvider().getText(e.OuVariableDialogI18nLegacy.I18N_VD_NULL):this.getDisplayValue(t,this.m_value,e.VdValue.FIRST);let l=this.getDisplayValue(t,this.m_value,e.VdValue.SECOND);let s=e.XStringUtils.isNotNullAndNotEmpty(r);let u=e.XStringUtils.isNotNullAndNotEmpty(l);this.m_view.setDatePicker1Visible(false);this.m_view.setDatePicker2Visible(false);let m=this.m_view.getInput1();let p=o===e.VdComparisonOperator.EQUAL||o===e.VdComparisonOperator.NOT_EQUAL;let d=this.m_variable.getValueType().isDateBased()&&this.m_config.useDatePicker();if(this.m_config.isMultiInputComponentEnabled()&&s&&this.m_variable.getVariableType().isTypeOf(e.VariableType.DIMENSION_MEMBER_VARIABLE)&&!d&&this.m_variable.supportsMultipleValues()&&p){let e=m;e.setValue("");let t=this.generateChipName(this.m_value);if(e.getChipByName(t)===null){let i=e.addNewChip();i.setEditable(true);i.setText(r);i.setTooltip(r);i.setName(t)}}else{let t=this.m_config.isMultiInputComponentEnabled()&&e.XStringUtils.isNullOrEmpty(r)&&e.XStringUtils.isNotNullAndNotEmpty(m.getValue())&&!u;if(!m.isEditable()||!m.isEnabled()||s||t){if(!this.m_config.isMultiInputComponentEnabled()||m.getValueState()!==e.UiValueState.ERROR){m.setValue(r)}}m.setTooltip(o.isNullOperator()||this.m_config.isMultiInputComponentEnabled()?r:this.getDisplayValue(e.DialogLabelMode.KEY_AND_TEXT,this.m_value,e.VdValue.FIRST));if(this.m_config.isMultiInputComponentEnabled()){m.setEditable(i)}else{m.setEnabled(i);m.setEditable(!s)}}let c=this.m_view.getInput2();let _=this.m_config.isMultiInputComponentEnabled()&&(!a||e.XStringUtils.isNullOrEmpty(l)&&e.XStringUtils.isNotNullAndNotEmpty(c.getValue())&&!s);if(!c.isEditable()||!c.isEnabled()||u||_){if(!this.m_config.isMultiInputComponentEnabled()||c.getValueState()!==e.UiValueState.ERROR){c.setValue(l)}}if(this.m_config.isMultiInputComponentEnabled()){c.setEditable(i);c.setTooltip(a?l:null)}else{c.setEnabled(i);c.setTooltip(a?this.getDisplayValue(e.DialogLabelMode.KEY_AND_TEXT,this.m_value,e.VdValue.SECOND):null);c.setEditable(!u)}this.m_view.setInput2Visible(a);this.setValueHelpButton1Visibility(i&&(this.m_config.isMultiInputComponentEnabled()||!s)&&this.m_variable.supportsValueHelp());this.setValueHelpButton2Visibility(i&&(this.m_config.isMultiInputComponentEnabled()||!u)&&this.m_variable.supportsValueHelp()&&a);if(this.m_config.isMultiInputComponentEnabled()){this.m_view.getInput1().setEditable(i);this.m_view.getInput2().setEditable(i)}else{this.m_view.getInput1().setEnabled(i);this.m_view.getInput2().setEnabled(i);this.m_view.getInput1().setShowClearIcon(i&&n&&s&&!o.isNullOperator());this.m_view.getInput2().setShowClearIcon(i&&n&&u&&a)}}};e.VdValueRenderer.prototype.drawOptionList=function(e){this.setupOptionDropdown();this.dropdownOnly(e)};e.VdValueRenderer.prototype.drawSimple=function(t){this.m_view.setDatePicker1Visible(false);let i=this.m_variable.getValueType();let o=this.m_value.getFirstOperand().getDisplayKey();if(e.XStringUtils.isNullOrEmpty(o)){o=this.m_value.getFirstOperand().getKey()}if(i.isTypeOf(e.XValueType.STRING)){this.m_view.getInput1().setInputType(e.UiInputType.TEXT)}else if(i.isDateBased()){let i=this.m_view.getDatePicker1();if(this.m_config.isMultiInputComponentEnabled()){i.setVisible(true).setEditable(t)}else{i.setVisible(true).setEnabled(t)}if(e.XStringUtils.isNullOrEmpty(o)){i.setValue(null)}else{let t=this.getDateDisplayValue(o);i.setValue(e.notNull(t)?t:o)}}if(this.m_variable.getVariableType()===e.VariableType.TEXT_VARIABLE){if(this.m_config.isMultiInputComponentEnabled()){this.m_view.getInput1().setEditable(t&&this.m_config.isTextVariablesEnabled())}else{this.m_view.getInput1().setEnabled(t&&this.m_config.isTextVariablesEnabled())}}else{if(this.m_config.isMultiInputComponentEnabled()){this.m_view.getInput1().setEditable(t)}else{this.m_view.getInput1().setEnabled(t)}}this.m_view.getInput1().setValue(o);this.m_view.getInput1().setTooltip(o);this.m_view.setDropdownVisible(false);this.m_view.setInput2Visible(false);this.hideEndButtons();let n=this.m_variable.supportsMultipleValues();this.m_view.setDeleteLineButtonVisible(n&&this.m_value!==this.m_variable.getInputValue(),!n||this.m_variable.getValues().isEmpty()).setEnabled(t);this.m_view.setDatePicker2Visible(false)};e.VdValueRenderer.prototype.dropdownOnly=function(e){if(this.m_config.isMultiInputComponentEnabled()){this.m_view.getDropdown().setEditable(e)}else{this.m_view.getDropdown().setEnabled(e)}this.m_view.getDropdown().setFlex("1 auto");this.m_view.setInput1Visible(false);this.m_view.setInput2Visible(false);this.hideEndButtons();this.m_view.setDeleteLineButtonVisible(false,this.m_variable.getValues().isEmpty());this.m_view.setDatePicker1Visible(false);this.m_view.setDatePicker2Visible(false)};e.VdValueRenderer.prototype.formatText=function(t,i,o,n){if(e.notNull(n)&&n.getValueType().isDateTime()){return e.UiNumberFormatterCenter.getCenter().formatTextForDateTimeKey(t,i,n.getValueType())}if(e.notNull(o)&&o.getValueType().isTypeOf(e.XValueType.NUMBER)){let i=e.UiNumberFormatterCenter.getCenter().format(t);return e.XStringUtils.isNotNullAndNotEmpty(i)?i:t}return t};e.VdValueRenderer.prototype.generateChipName=function(t){return this.m_variable.supportsValueHelp()&&this.m_variable.hasCheckTable()&&e.XStringUtils.isNotNullAndNotEmpty(t.getFirstOperand().getKey())?t.getFirstOperand().getKey():t.getFirstOperand().getDisplayKey()};e.VdValueRenderer.prototype.getDateDisplayValue=function(t){if(e.XString.isEqual(t,e.VdConstants.BW_NULL_DATE)){return e.VdConstants.BW_NULL_OPERATOR}if(e.XStringUtils.isNullOrEmpty(t)){return null}let i=e.XValueAccess.createWithType(this.m_variable.getValueType());i.parseString(t);return i.getString()};e.VdValueRenderer.prototype.getDisplayValue=function(t,i,o){let n=i.getOperand(o);let a=n.getDisplayKey();let r=e.XStringUtils.isNotNullAndNotEmpty(a);if(!r){a=n.getKey();r=e.XStringUtils.isNotNullAndNotEmpty(a)}let l=n.getText();let s=e.XStringUtils.isNotNullAndNotEmpty(l);let u=this.m_variable.getVariable().getDimension();let m=u.getKeyField();if(s){l=this.formatText(l,a,u.getTextField(),m)}else if(r){a=this.formatText(a,a,m,m)}let p=a;if(t===e.DialogLabelMode.KEY_AND_TEXT&&s){if(this.m_config.isSettingsPopoverEnabled()){p=r?e.XStringUtils.concatenate4(a," (",l,")"):l}else{p=r?e.XStringUtils.concatenate4("[",a,"] ",l):l}}else if(t===e.DialogLabelMode.TEXT&&s){p=l}if(e.notNull(p)&&e.XString.size(p)===0){return e.OuVariableDialogI18nLegacy.getProvider().getText(e.OuVariableDialogI18nLegacy.I18N_VD_NO_VALUE)}return e.isNull(p)?"":p};e.VdValueRenderer.prototype.getSupportedComparisonOperators=function(t){let i=this.m_variable.getSupportedComparisonOperators();if(t===e.VdComparisonOperator.UNDEFINED||i.contains(t)){return i}let o=e.XListOfNameObject.create();o.addAll(i);o.add(t);return o};e.VdValueRenderer.prototype.hideEndButtons=function(){this.setValueHelpButton1Visibility(false);this.setValueHelpButton2Visibility(false);this.m_view.getInput1().setShowClearIcon(false);this.m_view.getInput2().setShowClearIcon(false)};e.VdValueRenderer.prototype.releaseObject=function(){this.m_view=null;this.m_value=null;this.m_variable=null;e.XObject.prototype.releaseObject.call(this)};e.VdValueRenderer.prototype.setValue=function(e){this.m_value=e};e.VdValueRenderer.prototype.setValueHelpButton1Visibility=function(e){this.m_view.getInput1().setShowValueHelp(e)};e.VdValueRenderer.prototype.setValueHelpButton2Visibility=function(e){this.m_view.getInput2().setShowValueHelp(e)};e.VdValueRenderer.prototype.setupComparisonDropdown=function(t){let i=this.m_context.getDeviceInfo().isSmartphone();let o=this.getSupportedComparisonOperators(t);let n=this.m_view.getDropdown();n.clearItems();let a=o.size();for(let r=0;r<a;r++){let a=o.get(r);if(a===e.VdComparisonOperator.NOT_BETWEEN&&a!==t&&this.m_config.isHidingOperatorNotBetween()){continue}if(this.shouldFilterOperator(a)){continue}let l=i?a.getLongText():a.getShortText();n.addNewItem().setCustomObject(a).setName(a.getName()).setText(l).setTooltip(l)}n.setSelectedName(t.getName()).setTooltip(i?t.getLongText():t.getShortText());if(this.m_config.isMultiInputComponentEnabled()){this.m_view.setDropdownVisible(this.m_variable.getSupportedComparisonOperators().size()>1)}else{this.m_view.setDropdownVisible(n.getNumberOfItems()>1)}};e.VdValueRenderer.prototype.setupConfigurator=function(t,i,o,n,a){this.m_context=t;this.m_config=i;this.m_view=o;this.m_variable=n;this.m_value=a;let r;let l=this.m_variable.getVariableType();let s=e.OuVariableDialogI18nLegacy.getProvider();if(l===e.VariableType.DIMENSION_MEMBER_VARIABLE){r=this.m_config.isMultiInputComponentEnabled()?s.getText(e.OuVariableDialogI18nLegacy.I18N_VD_V2_MEMBER_ID):s.getText(e.OuVariableDialogI18nLegacy.I18N_VD_MEMBER_ID)}else if(l===e.VariableType.HIERARCHY_NAME_VARIABLE){r=this.m_config.isMultiInputComponentEnabled()?s.getText(e.OuVariableDialogI18nLegacy.I18N_VD_V2_HIERARCHY_NAME):s.getText(e.OuVariableDialogI18nLegacy.I18N_VD_HIERARCHY_NAME)}else if(l===e.VariableType.HIERARCHY_NODE_VARIABLE){r=this.m_config.isMultiInputComponentEnabled()?s.getText(e.OuVariableDialogI18nLegacy.I18N_VD_V2_HIERARCHY_NODE):s.getText(e.OuVariableDialogI18nLegacy.I18N_VD_HIERARCHY_NODE)}else{let t=this.m_variable.getValueType();if(t.isString()){r=this.m_config.isMultiInputComponentEnabled()?s.getText(e.OuVariableDialogI18nLegacy.I18N_VD_V2_STRING):s.getText(e.OuVariableDialogI18nLegacy.I18N_VD_STRING)}else if(t.isNumber()){r=s.getText(e.OuVariableDialogI18nLegacy.I18N_VD_NUMBER)}else{r=s.getText(e.OuVariableDialogI18nLegacy.I18N_VD_VALUE)}}let u=s.getTextWithPlaceholder(e.OuVariableDialogI18nLegacy.I18N_VD_ENTER,r);this.m_view.getInput1().setPlaceholder(u);this.m_view.getInput2().setPlaceholder(u)};e.VdValueRenderer.prototype.setupOptionDropdown=function(){let t=e.XList.create();let i=this.m_variable.getOptions();let o=this.m_view.getDropdown();o.clearItems();let n=this.m_variable.getVariable();let a=n.getProcessingType()===e.ProcessingType.CURRENCY_CONVERSION;if(!this.m_variable.isMandatory()||a){let i=o.addNewItem();i.setName(e.VdConstants.EMPTY_OPTION);if(a){i.setText(e.OuVariableDialogI18nLegacy.getProvider().getText(e.OuVariableDialogI18nLegacy.I18N_VD_EMPTY_CURRENCY_OPTION_TEXT))}t.add(e.VdConstants.EMPTY_OPTION)}for(let e=0;e<i.size();e++){let n=i.get(e);o.addNewItem().setName(n.getName()).setText(n.getText());t.add(n.getName())}let r=this.m_value.getFirstOperand().getKey();if(e.XStringUtils.isNotNullAndNotEmpty(r)){if(!t.contains(r)){o.addNewItem().setName(r).setText(r)}o.setSelectedName(r)}};e.VdValueRenderer.prototype.shouldFilterOperator=function(t){let i=e.XList.create();i.add(e.VdComparisonOperator.EQUAL);i.add(e.VdComparisonOperator.NOT_EQUAL);return e.XStream.of(i).anyMatch(e=>this.m_config.isMultiInputComponentEnabled()&&t===e&&this.m_value.getOperator()!==e&&this.m_variable.isOperatorInUse(e)&&!(this.m_variable.getValueType().isDateBased()&&this.m_config.useDatePicker()))};e.VdValueRenderer.prototype.update=function(t,i){let o=this.m_variable.getVariableType();if(this.m_variable.getValueType().isBoolean()){this.drawBooleanList(i)}else if(o.isTypeOf(e.VariableType.DIMENSION_MEMBER_VARIABLE)){this.drawDimension(t,i)}else if(o.isTypeOf(e.VariableType.OPTION_LIST_VARIABLE)){this.drawOptionList(i)}else{this.drawSimple(i)}};e.VdVariableOrderComparator=function(){};e.VdVariableOrderComparator.prototype=new e.XObject;e.VdVariableOrderComparator.prototype._ff_c="VdVariableOrderComparator";e.VdVariableOrderComparator.INSTANCE=null;e.VdVariableOrderComparator.getComparator=function(){if(e.isNull(e.VdVariableOrderComparator.INSTANCE)){e.VdVariableOrderComparator.INSTANCE=new e.VdVariableOrderComparator}return e.VdVariableOrderComparator.INSTANCE};e.VdVariableOrderComparator.prototype.compare=function(e,t){let i=e.getOrder();let o=t.getOrder();if(i<o){return-1}if(i>o){return 1}return 0};e.VdValue=function(){};e.VdValue.prototype=new e.XObject;e.VdValue.prototype._ff_c="VdValue";e.VdValue.EMPTY_OPERAND=null;e.VdValue.FIRST=0;e.VdValue.NEXT_ID=0;e.VdValue.SECOND=1;e.VdValue.cloneValueMap=function(t){let i=e.XHashMapByString.create();let o=t.getKeysAsIterator();while(o.hasNext()){let n=o.next();let a=t.getByKey(n);i.put(n,e.XCollectionUtils.createListOfClones(a))}return i};e.VdValue.createValue=function(t,i,o){let n=new e.VdValue;n.setupValue(t,i,o);return n};e.VdValue.prototype.m_firstOperand=null;e.VdValue.prototype.m_firstValueState=null;e.VdValue.prototype.m_firstValueStateText=null;e.VdValue.prototype.m_id=null;e.VdValue.prototype.m_initialOperator=null;e.VdValue.prototype.m_listeners=null;e.VdValue.prototype.m_operator=null;e.VdValue.prototype.m_secondOperand=null;e.VdValue.prototype.m_secondValueState=null;e.VdValue.prototype.m_secondValueStateText=null;e.VdValue.prototype.m_valueStateListeners=null;e.VdValue.prototype.addListener=function(e){this.m_listeners.add(e)};e.VdValue.prototype.addValueStateListener=function(e){this.m_valueStateListeners.add(e)};e.VdValue.prototype.callListener=function(e){for(let t=this.m_listeners.size()-1;t>=0;t--){this.m_listeners.get(t).onValueChanged(this,e)}};e.VdValue.prototype.callOnInvalidValueState=function(){for(let e=this.m_valueStateListeners.size()-1;e>=0;e--){this.m_valueStateListeners.get(e).onInvalidValueState()}};e.VdValue.prototype.callValueStateListener=function(){for(let e=this.m_valueStateListeners.size()-1;e>=0;e--){this.m_valueStateListeners.get(e).onValueStateChanged()}};e.VdValue.prototype.clear=function(){if(this.m_operator!==this.m_initialOperator||this.isOperandSet(0)||this.isOperandSet(1)){this.m_operator=this.m_initialOperator;this.m_firstOperand=e.VdValue.EMPTY_OPERAND;this.resetValueState(0);this.m_secondOperand=e.VdValue.EMPTY_OPERAND;this.resetValueState(1);this.callListener(-1)}};e.VdValue.prototype.cloneExt=function(t){return e.VdValue.createValue(this.m_operator,this.m_firstOperand,this.m_secondOperand)};e.VdValue.prototype.createShallowCopy=function(){let t=new e.VdValue;t.m_operator=this.m_operator;t.m_initialOperator=this.m_initialOperator;t.m_firstOperand=this.m_firstOperand;t.m_secondOperand=this.m_secondOperand;t.m_id=this.m_id;t.m_listeners=e.XList.create();t.m_valueStateListeners=e.XList.create();return t};e.VdValue.prototype.getEmptyOperand=function(){if(e.isNull(e.VdValue.EMPTY_OPERAND)){e.VdValue.EMPTY_OPERAND=e.FilterDialogValueFactory.createEmptyValue()}return e.VdValue.EMPTY_OPERAND};e.VdValue.prototype.getFirstOperand=function(){if(e.isNull(this.m_firstOperand)){return this.getEmptyOperand()}return this.m_firstOperand};e.VdValue.prototype.getFirstValueState=function(){return this.m_firstValueState};e.VdValue.prototype.getFirstValueStateText=function(){return this.m_firstValueStateText};e.VdValue.prototype.getId=function(){return this.m_id};e.VdValue.prototype.getOperand=function(t){if(t<0||t>1){throw e.XException.createIllegalArgumentException("illegal index")}return t===0?this.getFirstOperand():this.getSecondOperand()};e.VdValue.prototype.getOperator=function(){return this.m_operator};e.VdValue.prototype.getSecondOperand=function(){if(e.isNull(this.m_secondOperand)){return this.getEmptyOperand()}return this.m_secondOperand};e.VdValue.prototype.getSecondValueState=function(){return this.m_secondValueState};e.VdValue.prototype.getSecondValueStateText=function(){return this.m_secondValueStateText};e.VdValue.prototype.getValueState=function(t){if(t<0||t>1){throw e.XException.createIllegalArgumentException("illegal index")}return t===0?this.getFirstValueState():this.getSecondValueState()};e.VdValue.prototype.hasErrors=function(){if(this.m_operator.getNumberOfParameters()<1){return false}return this.getFirstValueState()===e.UiValueState.ERROR||this.m_operator.getNumberOfParameters()>1&&this.getSecondValueState()===e.UiValueState.ERROR};e.VdValue.prototype.isEmpty=function(){return!this.isOperandFilled(e.VdValue.FIRST)&&(this.m_operator.getNumberOfParameters()<2||!this.isOperandFilled(e.VdValue.SECOND))};e.VdValue.prototype.isEqualTo=function(t){if(e.isNull(t)){return false}if(this===t){return true}let i=t;return e.XObjectExt.areEqual(this.getOperator(),i.getOperator())&&this.operandsEqualTo(i)};e.VdValue.prototype.isFilled=function(){return this.isOperandFilled(e.VdValue.FIRST)&&(this.m_operator.getNumberOfParameters()<2||this.isOperandFilled(e.VdValue.SECOND))};e.VdValue.prototype.isOperandFilled=function(e){let t=this.getOperand(e);return t.getKey()!==null||t.getDisplayKey()!==null};e.VdValue.prototype.isOperandSet=function(t){let i=t===0?this.m_firstOperand:this.m_secondOperand;return e.notNull(i)&&i!==e.VdValue.EMPTY_OPERAND};e.VdValue.prototype.isOperandSwitchRequired=function(){return this.m_operator.getNumberOfParameters()===2&&e.notNull(this.m_firstOperand)&&e.notNull(this.m_secondOperand)&&(this.m_firstOperand.getKey()!==null&&this.m_secondOperand.getKey()!==null||this.m_firstOperand.hasDisplayKey()&&this.m_secondOperand.hasDisplayKey())&&this.m_firstOperand.compareTo(this.m_secondOperand)>0};e.VdValue.prototype.operandsEqualTo=function(t){if(e.isNull(t)||this.getOperator().getNumberOfParameters()!==t.getOperator().getNumberOfParameters()){return false}let i=this.getOperator().getNumberOfParameters()>1;let o=this.getFirstOperand();let n=i?this.getSecondOperand():null;let a=t.getFirstOperand();let r=i?t.getSecondOperand():null;if(e.XObjectExt.areEqual(o,a)&&e.XObjectExt.areEqual(n,r)){return true}return this.isOperandSwitchRequired()&&e.XObjectExt.areEqual(o,r)&&e.XObjectExt.areEqual(n,a)};e.VdValue.prototype.releaseObject=function(){this.m_id=null;this.m_operator=null;this.m_firstOperand=null;this.m_secondOperand=null;e.XObject.prototype.releaseObject.call(this)};e.VdValue.prototype.removeFirstOperand=function(){this.removeOperand(0)};e.VdValue.prototype.removeListener=function(e){this.m_listeners.removeElement(e)};e.VdValue.prototype.removeOperand=function(t){if(t<0||t>1){throw e.XException.createIllegalArgumentException("illegal index")}if(this.isOperandSet(t)){this.setOperand(t,e.VdValue.EMPTY_OPERAND)}};e.VdValue.prototype.removeSecondOperand=function(){this.removeOperand(1)};e.VdValue.prototype.removeValueStateListener=function(e){this.m_valueStateListeners.removeElement(e)};e.VdValue.prototype.resetValueState=function(t){this.setValueState(t,"",e.UiValueState.NONE)};e.VdValue.prototype.setError=function(t,i){this.setValueState(t,i,e.UiValueState.ERROR)};e.VdValue.prototype.setFirstOperand=function(e){this.setOperand(0,e)};e.VdValue.prototype.setInfo=function(t,i){this.setValueState(t,i,e.UiValueState.INFORMATION)};e.VdValue.prototype.setOperand=function(t,i){if(t<0||t>1){throw e.XException.createIllegalArgumentException("illegal index")}this.resetValueState(t);if(t===0){this.m_firstOperand=i}else{this.m_secondOperand=i}this.callListener(t)};e.VdValue.prototype.setOperator=function(t){if(e.isNull(t)){return}if(t.getNumberOfParameters()<2){this.m_secondOperand=e.VdValue.EMPTY_OPERAND}if(t.isNullOperator()){this.m_firstOperand=e.FilterDialogValueFactory.createNullValue()}else if(t.getNumberOfParameters()<1||this.m_operator.isNullOperator()){this.m_firstOperand=e.VdValue.EMPTY_OPERAND}this.m_operator=t;this.callListener(-1)};e.VdValue.prototype.setSecondOperand=function(e){this.setOperand(1,e)};e.VdValue.prototype.setValueState=function(e,t,i){if(e<=0){this.m_firstValueStateText=t;this.m_firstValueState=i}if(e<0||e===1){this.m_secondValueStateText=t;this.m_secondValueState=i}this.callValueStateListener()};e.VdValue.prototype.setWarning=function(t,i){this.setValueState(t,i,e.UiValueState.WARNING)};e.VdValue.prototype.setupValue=function(t,i,o){this.m_id=e.XInteger.convertToString(e.VdValue.NEXT_ID);e.VdValue.NEXT_ID=e.VdValue.NEXT_ID+1;this.m_operator=e.notNull(t)?t:e.VdComparisonOperator.UNDEFINED;this.m_initialOperator=this.m_operator;this.m_firstOperand=i;this.m_secondOperand=o;this.m_listeners=e.XList.create();this.m_valueStateListeners=e.XList.create();this.m_firstValueState=e.UiValueState.NONE;this.m_secondValueState=e.UiValueState.NONE};e.VdValue.prototype.toString=function(){let t=e.XStringBuffer.create();t.append("{");t.append(this.m_operator.getName());t.append(", ").append(this.getFirstOperand().toString());let i=this.getSecondOperand().toString();if(e.XStringUtils.isNotNullAndNotEmpty(i)){t.append(", ").append(i)}t.append("}");return t.toString()};e.VdValue.prototype.updateOperandOrder=function(){if(this.isOperandSwitchRequired()){let e=this.m_firstOperand;this.m_firstOperand=this.m_secondOperand;this.m_secondOperand=e;this.callListener(-1)}};e.VdResolveHelperHandle=function(){};e.VdResolveHelperHandle.prototype=new e.XObject;e.VdResolveHelperHandle.prototype._ff_c="VdResolveHelperHandle";e.VdResolveHelperHandle.createHandle=function(t,i){let o=new e.VdResolveHelperHandle;o.m_master=t;o.m_name=i;return o};e.VdResolveHelperHandle.prototype.m_master=null;e.VdResolveHelperHandle.prototype.m_name=null;e.VdResolveHelperHandle.prototype.addResult=function(e){this.m_master.addResult(this.m_name,e)};e.VdResolveHelperHandle.prototype.getMaster=function(){return this.m_master};e.VdResolveHelperHandle.prototype.releaseObject=function(){this.m_master=null;e.XObject.prototype.releaseObject.call(this)};e.VdVariantManagerFactory=function(){};e.VdVariantManagerFactory.prototype=new e.XObject;e.VdVariantManagerFactory.prototype._ff_c="VdVariantManagerFactory";e.VdVariantManagerFactory.createFactory=function(t){let i=new e.VdVariantManagerFactory;i.m_context=t;return i};e.VdVariantManagerFactory.prototype.m_context=null;e.VdVariantManagerFactory.prototype.newVariantPopupInstance=function(){return e.VdVariantManager.createManager(this.m_context)};e.VdVariantManagerFactory.prototype.releaseObject=function(){this.m_context=null;e.XObject.prototype.releaseObject.call(this)};e.VdVariantComparator=function(){};e.VdVariantComparator.prototype=new e.XObject;e.VdVariantComparator.prototype._ff_c="VdVariantComparator";e.VdVariantComparator.s_instance=null;e.VdVariantComparator.getInstance=function(){if(e.isNull(e.VdVariantComparator.s_instance)){e.VdVariantComparator.s_instance=new e.VdVariantComparator}return e.VdVariantComparator.s_instance};e.VdVariantComparator.prototype.compare=function(t,i){let o=e.XString.toLowerCase(t.getText());let n=e.XString.toLowerCase(i.getText());return e.XString.compare(o,n)};e.VdHeaderButtons=function(){};e.VdHeaderButtons.prototype=new e.XObject;e.VdHeaderButtons.prototype._ff_c="VdHeaderButtons";e.VdHeaderButtons.createHeaderButtons=function(t,i){let o=new e.VdHeaderButtons;o.setupExt(t,i);return o};e.VdHeaderButtons.prototype.m_clearButton=null;e.VdHeaderButtons.prototype.m_clipboardButton=null;e.VdHeaderButtons.prototype.m_root=null;e.VdHeaderButtons.prototype.getClearButton=function(){return this.m_clearButton};e.VdHeaderButtons.prototype.getClipboardButton=function(){return this.m_clipboardButton};e.VdHeaderButtons.prototype.getRoot=function(){return this.m_root};e.VdHeaderButtons.prototype.releaseObject=function(){this.m_clearButton=e.XObjectExt.release(this.m_clearButton);this.m_clipboardButton=e.XObjectExt.release(this.m_clipboardButton);this.m_root=e.XObjectExt.release(this.m_root);e.XObject.prototype.releaseObject.call(this)};e.VdHeaderButtons.prototype.setupExt=function(t,i){this.m_root=t.newControl(e.UiType.FLEX_LAYOUT);this.m_root.addCssClass("ffVdVariableHeaderButtons");this.m_root.setName(e.XStringUtils.concatenate2("VariableHeaderButtons-",i));this.m_root.setJustifyContent(e.UiFlexJustifyContent.SPACE_BETWEEN);this.m_root.setWrap(e.UiFlexWrap.NO_WRAP);this.m_root.setFlex("0 0 auto");this.m_root.setGap(e.UiCssGap.create("5px"));this.m_clearButton=this.m_root.addNewItemOfType(e.UiType.BUTTON);this.m_clearButton.addCssClass("ffVdVariableClearButton");this.m_clearButton.setName(e.XStringUtils.concatenate2("VariableClearButton-",i));this.m_clearButton.setIcon("delete");this.m_clearButton.setTooltip(e.XLocalizationCenter.getCenter().getText(e.OuVariableDialogI18nLegacy.I18N_VD_CLEAR));this.m_clearButton.setVisible(true);this.m_clearButton.setButtonType(e.UiButtonType.TRANSPARENT);this.m_clipboardButton=this.m_root.addNewItemOfType(e.UiType.BUTTON);this.m_clipboardButton.addCssClass("ffVdVariableClipboardButton");this.m_clipboardButton.setName(e.XStringUtils.concatenate2("VariableClipboardButton-",i));this.m_clipboardButton.setIcon("paste");this.m_clipboardButton.setTooltip(e.XLocalizationCenter.getCenter().getText(e.ClipboardDialogI18n.I18N_CB_CLIPBOARD));this.m_clipboardButton.setVisible(true);this.m_clipboardButton.setButtonType(e.UiButtonType.TRANSPARENT)};e.VdVariableView=function(){};e.VdVariableView.prototype=new e.XObject;e.VdVariableView.prototype._ff_c="VdVariableView";e.VdVariableView.MOBILE_ICON_FONT_SIZE="18px";e.VdVariableView.create=function(t,i,o){let n=new e.VdVariableView;n.setupVariableView(t,i,o);return n};e.VdVariableView.prototype.m_body=null;e.VdVariableView.prototype.m_dynamicFilterInfoIcon=null;e.VdVariableView.prototype.m_dynamicFilterInfoPopover=null;e.VdVariableView.prototype.m_header=null;e.VdVariableView.prototype.m_headerButtons=null;e.VdVariableView.prototype.m_icons=null;e.VdVariableView.prototype.m_invisibleVariableTitleText=null;e.VdVariableView.prototype.m_moreValuesBtn=null;e.VdVariableView.prototype.m_name=null;e.VdVariableView.prototype.m_root=null;e.VdVariableView.prototype.m_techName=null;e.VdVariableView.prototype.m_title=null;e.VdVariableView.prototype.m_titleWrapper=null;e.VdVariableView.prototype.m_uiMgr=null;e.VdVariableView.prototype.m_valueViews=null;e.VdVariableView.prototype.addNewHeaderIcon=function(){let t=this.m_icons.addNewItemOfType(e.UiType.ICON);t.setMargin(e.UiCssBoxEdges.create("5px"));if(this.m_uiMgr.getDeviceInfo().isMobile()){t.setIconSize(e.UiCssLength.create(e.VdVariableView.MOBILE_ICON_FONT_SIZE));t.setMargin(e.UiCssBoxEdges.create("10px"))}return t};e.VdVariableView.prototype.addValue=function(e){this.m_valueViews.add(e);this.m_body.addItem(e.getRoot())};e.VdVariableView.prototype.buildUi=function(){this.m_root=this.m_uiMgr.newControl(e.UiType.FLEX_LAYOUT);this.m_root.addCssClass("ffVdVariable");this.m_root.setName(e.XStringUtils.concatenate2("Variable-",this.m_name));this.m_root.setPadding(e.UiCssBoxEdges.create("0 1rem 1.5rem 1rem"));this.m_root.setDirection(e.UiFlexDirection.COLUMN);this.m_header=this.m_root.addNewItemOfType(e.UiType.FLEX_LAYOUT);this.m_header.addCssClass("ffVdVariableHeader");this.m_header.setName(e.XStringUtils.concatenate2("VariableHeader-",this.m_name));this.m_header.setJustifyContent(e.UiFlexJustifyContent.SPACE_BETWEEN);this.m_header.setAlignItems(e.UiFlexAlignItems.CENTER);this.m_header.setWidth(e.UiCssLength.create("100%"));this.m_header.setHeight(e.UiCssLength.create("auto"));this.m_header.setWrap(e.UiFlexWrap.NO_WRAP);this.m_titleWrapper=this.m_header.addNewItemOfType(e.UiType.FLEX_LAYOUT);this.m_titleWrapper.addCssClass("ffVdVariableTitleWrapper");this.m_titleWrapper.setName(e.XStringUtils.concatenate2("VariableTitleWrapper-",this.m_name));this.m_titleWrapper.setJustifyContent(e.UiFlexJustifyContent.SPACE_BETWEEN);this.m_titleWrapper.setAlignItems(e.UiFlexAlignItems.CENTER);this.m_titleWrapper.setWrap(e.UiFlexWrap.WRAP);this.m_techName=this.m_titleWrapper.addNewItemOfType(e.UiType.LABEL);this.m_techName.addCssClass("ffVdVariableTechName");this.m_techName.setName(e.XStringUtils.concatenate2("VariableTechName-",this.m_name));this.m_techName.setWrapping(true);this.m_techName.setMargin(e.UiCssBoxEdges.create("0 0.3rem 0 0"));this.m_techName.setVisible(false);this.m_title=this.m_titleWrapper.addNewItemOfType(e.UiType.LABEL);this.m_title.addCssClass("ffVdVariableTitle");this.m_title.setName(e.XStringUtils.concatenate2("VariableTitle-",this.m_name));this.m_title.setWrapping(true);this.m_title.setFontWeight(e.UiFontWeight.BOLD);this.m_icons=this.m_titleWrapper.addNewItemOfType(e.UiType.FLEX_LAYOUT);this.m_icons.addCssClass("ffVdVariableHeaderIcons");this.m_icons.setName(e.XStringUtils.concatenate2("VariableIcons-",this.m_name));this.m_icons.setFlex("0 0 auto");this.m_body=this.m_root.addNewItemOfType(e.UiType.FLEX_LAYOUT);this.m_body.addCssClass("ffVdVariableBody");this.m_body.setName(e.XStringUtils.concatenate2("VariableBody-",this.m_name));this.m_body.setDirection(e.UiFlexDirection.COLUMN);this.m_invisibleVariableTitleText=this.m_root.addNewItemOfType(e.UiType.INVISIBLE_TEXT)};e.VdVariableView.prototype.clearValues=function(){this.m_moreValuesBtn=null;this.m_body.clearItems();this.m_valueViews.clear()};e.VdVariableView.prototype.getClearButton=function(){if(e.notNull(this.m_headerButtons)){return this.m_headerButtons.getClearButton()}return e.UiContextDummy.getSingleton()};e.VdVariableView.prototype.getClipboardButton=function(){if(e.notNull(this.m_headerButtons)){return this.m_headerButtons.getClipboardButton()}return e.UiContextDummy.getSingleton()};e.VdVariableView.prototype.getInvisibleVariableTitleText=function(){if(e.isNull(this.m_invisibleVariableTitleText)){return e.UiContextDummy.getSingleton()}return this.m_invisibleVariableTitleText};e.VdVariableView.prototype.getMoreButton=function(){if(e.notNull(this.m_moreValuesBtn)){return this.m_moreValuesBtn}return e.UiContextDummy.getSingleton()};e.VdVariableView.prototype.getMoreButtonIndex=function(){if(e.isNull(this.m_moreValuesBtn)){return-1}return this.m_body.getIndexOfItem(this.m_moreValuesBtn)};e.VdVariableView.prototype.getNameLabel=function(){return this.m_title};e.VdVariableView.prototype.getRoot=function(){return this.m_root};e.VdVariableView.prototype.getTechnicalNameLabel=function(){return this.m_techName};e.VdVariableView.prototype.getValueViews=function(){return this.m_valueViews};e.VdVariableView.prototype.getVisibleProperty=function(){return this.m_root};e.VdVariableView.prototype.hideMoreButton=function(){if(this.m_body.getItems().contains(this.m_moreValuesBtn)){this.m_body.removeItem(this.m_moreValuesBtn)}};e.VdVariableView.prototype.insertValue=function(e,t){this.m_valueViews.insert(e,t);this.m_body.insertItem(t.getRoot(),e)};e.VdVariableView.prototype.releaseObject=function(){this.m_uiMgr=null;this.m_dynamicFilterInfoIcon=e.XObjectExt.release(this.m_dynamicFilterInfoIcon);this.m_dynamicFilterInfoPopover=e.XObjectExt.release(this.m_dynamicFilterInfoPopover);this.m_headerButtons=e.XObjectExt.release(this.m_headerButtons);this.m_valueViews=e.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_valueViews);this.m_invisibleVariableTitleText=e.XObjectExt.release(this.m_invisibleVariableTitleText);this.m_header=e.XObjectExt.release(this.m_header);this.m_techName=e.XObjectExt.release(this.m_techName);this.m_title=e.XObjectExt.release(this.m_title);this.m_body=e.XObjectExt.release(this.m_body);this.m_root=e.XObjectExt.release(this.m_root);e.XObject.prototype.releaseObject.call(this)};e.VdVariableView.prototype.removeValue=function(e){this.m_body.removeItem(e.getRoot());this.m_valueViews.removeElement(e)};e.VdVariableView.prototype.setInfoText=function(t){let i=this.m_root;let o=i.addNewItemOfType(e.UiType.FLEX_LAYOUT);o.setDirection(e.UiFlexDirection.COLUMN);o.addNewItemOfType(e.UiType.SPACER).setHeight(e.UiCssLength.createExt(5,e.UiCssSizeUnit.PIXEL));let n=o.addNewItemOfType(e.UiType.FLEX_LAYOUT);let a=n.addNewItemOfType(e.UiType.ICON);a.setIcon("message-information");a.setEnabled(false);n.addNewItemOfType(e.UiType.SPACER).setWidth(e.UiCssLength.createExt(5,e.UiCssSizeUnit.PIXEL));let r=n.addNewItemOfType(e.UiType.LABEL);r.setName("VariableDialogTextVariableDisabledLbl");r.setText(t);r.setTextAlign(e.UiTextAlign.CENTER);r.setFontStyle(e.UiFontStyle.ITALIC);r.setWrapping(true);r.setEnabled(false);return o};e.VdVariableView.prototype.setupVariableView=function(t,i,o){this.m_uiMgr=t;this.m_name=i;this.m_valueViews=e.XList.create();this.buildUi();this.m_headerButtons=o;if(e.notNull(this.m_headerButtons)){this.m_header.addItem(this.m_headerButtons.getRoot())}};e.VdVariableView.prototype.showDynamicFilterInfoIcon=function(){if(e.isNull(this.m_dynamicFilterInfoIcon)){this.m_dynamicFilterInfoIcon=this.addNewHeaderIcon();this.m_dynamicFilterInfoIcon.setName("DynamicFilterInfoIco");this.m_dynamicFilterInfoIcon.setIcon("message-information");let t=e.OuVariableDialogI18nLegacy.getProvider().getText(e.OuVariableDialogI18nLegacy.I18N_VD_DYNAMIC_FILTER_INFO);this.m_dynamicFilterInfoPopover=e.OlapUiIconPopover.createPopoverWithText(this.m_uiMgr,"DynamicFilterInfoPop",this.m_dynamicFilterInfoIcon,t)}};e.VdVariableView.prototype.showMoreButton=function(){if(e.isNull(this.m_moreValuesBtn)){this.m_moreValuesBtn=this.m_body.addNewItemOfType(e.UiType.BUTTON);this.m_moreValuesBtn.setName("ffVdVariableMoreValueBtn");this.m_moreValuesBtn.setIcon("overflow");this.m_moreValuesBtn.setWidth(e.UiCssLength.create("100%"));this.m_moreValuesBtn.setButtonType(e.UiButtonType.TRANSPARENT)}return this.m_moreValuesBtn};e.VdVariableViewResponsiveTableRow=function(){};e.VdVariableViewResponsiveTableRow.prototype=new e.XObject;e.VdVariableViewResponsiveTableRow.prototype._ff_c="VdVariableViewResponsiveTableRow";e.VdVariableViewResponsiveTableRow.createVdVariableViewResponsiveTableRow=function(t,i,o,n){let a=new e.VdVariableViewResponsiveTableRow;a.setupVariableViewResponsiveTable(t,i,o,n);return a};e.VdVariableViewResponsiveTableRow.prototype.m_bodyWrapper=null;e.VdVariableViewResponsiveTableRow.prototype.m_header=null;e.VdVariableViewResponsiveTableRow.prototype.m_headerButtons=null;e.VdVariableViewResponsiveTableRow.prototype.m_i18n=null;e.VdVariableViewResponsiveTableRow.prototype.m_invisibleVariableTitleText=null;e.VdVariableViewResponsiveTableRow.prototype.m_moreValuesBtn=null;e.VdVariableViewResponsiveTableRow.prototype.m_name=null;e.VdVariableViewResponsiveTableRow.prototype.m_nameLabel=null;e.VdVariableViewResponsiveTableRow.prototype.m_popovers=null;e.VdVariableViewResponsiveTableRow.prototype.m_resTableRow=null;e.VdVariableViewResponsiveTableRow.prototype.m_technicalNameLabel=null;e.VdVariableViewResponsiveTableRow.prototype.m_titleWrapper=null;e.VdVariableViewResponsiveTableRow.prototype.m_uiMgr=null;e.VdVariableViewResponsiveTableRow.prototype.m_valueViews=null;e.VdVariableViewResponsiveTableRow.prototype.m_variableResTable=null;e.VdVariableViewResponsiveTableRow.prototype.addNewHeaderIcon=function(){let t=this.m_titleWrapper.addNewItemOfType(e.UiType.ICON);let i=this.m_titleWrapper.addNewItemOfType(e.UiType.INVISIBLE_TEXT);i.setText(this.m_i18n.getText(e.OuVariableDialogI18nLegacy.I18N_VD_ICON_INVISIBLE_TEXT));t.addLabelledBy(i);t.addCssClass("ff-variable-title-icon");return t};e.VdVariableViewResponsiveTableRow.prototype.addValue=function(e){this.m_valueViews.add(e);this.m_bodyWrapper.addItem(e.getRoot())};e.VdVariableViewResponsiveTableRow.prototype.buildUi=function(){this.m_resTableRow=this.m_variableResTable.addNewResponsiveTableRow();this.m_resTableRow.setName(e.XStringUtils.concatenate2("VariableRow-",this.m_name));let t=this.m_variableResTable.getParent();this.m_invisibleVariableTitleText=t.addNewItemOfType(e.UiType.INVISIBLE_TEXT);let i="ff-variable-cell-wrapper";this.m_titleWrapper=this.m_uiMgr.newControl(e.UiType.FLEX_LAYOUT);this.m_titleWrapper.setName(e.XStringUtils.concatenate2("VariableTitleWrapper-",this.m_name));this.m_titleWrapper.addCssClass(i);this.m_titleWrapper.setJustifyContent(e.UiFlexJustifyContent.END);this.m_technicalNameLabel=this.m_titleWrapper.addNewItemOfType(e.UiType.LABEL);this.m_technicalNameLabel.setName(e.XStringUtils.concatenate2("VariableTechName-",this.m_name));this.m_technicalNameLabel.addCssClass("ff-with-space-after");this.m_technicalNameLabel.setVisible(false);this.m_nameLabel=this.m_titleWrapper.addNewItemOfType(e.UiType.LABEL);this.m_resTableRow.addResponsiveTableCell(this.m_titleWrapper);let o=this.m_uiMgr.newControl(e.UiType.FLEX_LAYOUT);o.addCssClass("ff-variable-value-wrapper");this.m_bodyWrapper=this.m_uiMgr.newControl(e.UiType.FLEX_LAYOUT);this.m_bodyWrapper.addCssClass("ff-variable-value");this.m_bodyWrapper.addCssClass(i);o.addItem(this.m_bodyWrapper);let n=this.m_uiMgr.newControl(e.UiType.FLEX_LAYOUT);this.m_header=n;this.m_header.addCssClass("ff-variable-value-icons");o.addItem(this.m_header);this.m_resTableRow.addResponsiveTableCell(o)};e.VdVariableViewResponsiveTableRow.prototype.clearValues=function(){this.m_bodyWrapper.clearItems();this.m_valueViews.clear()};e.VdVariableViewResponsiveTableRow.prototype.getClearButton=function(){if(e.notNull(this.m_headerButtons)){return this.m_headerButtons.getClearButton()}return e.UiContextDummy.getSingleton()};e.VdVariableViewResponsiveTableRow.prototype.getClipboardButton=function(){if(e.notNull(this.m_headerButtons)){return this.m_headerButtons.getClipboardButton()}return e.UiContextDummy.getSingleton()};e.VdVariableViewResponsiveTableRow.prototype.getInvisibleVariableTitleText=function(){if(e.isNull(this.m_invisibleVariableTitleText)){return e.UiContextDummy.getSingleton()}return this.m_invisibleVariableTitleText};e.VdVariableViewResponsiveTableRow.prototype.getMoreButton=function(){if(e.notNull(this.m_moreValuesBtn)){return this.m_moreValuesBtn}return e.UiContextDummy.getSingleton()};e.VdVariableViewResponsiveTableRow.prototype.getMoreButtonIndex=function(){if(e.isNull(this.m_moreValuesBtn)){return-1}return this.m_bodyWrapper.getIndexOfItem(this.m_moreValuesBtn)};e.VdVariableViewResponsiveTableRow.prototype.getNameLabel=function(){return this.m_nameLabel};e.VdVariableViewResponsiveTableRow.prototype.getRoot=function(){return null};e.VdVariableViewResponsiveTableRow.prototype.getTechnicalNameLabel=function(){return this.m_technicalNameLabel};e.VdVariableViewResponsiveTableRow.prototype.getValueViews=function(){return this.m_valueViews};e.VdVariableViewResponsiveTableRow.prototype.getVisibleProperty=function(){return this.m_resTableRow};e.VdVariableViewResponsiveTableRow.prototype.hideMoreButton=function(){if(this.m_bodyWrapper.getItems().contains(this.m_moreValuesBtn)){this.m_bodyWrapper.removeItem(this.m_moreValuesBtn)}};e.VdVariableViewResponsiveTableRow.prototype.insertValue=function(e,t){this.m_valueViews.insert(e,t);this.m_bodyWrapper.insertItem(t.getRoot(),e)};e.VdVariableViewResponsiveTableRow.prototype.releaseObject=function(){this.m_uiMgr=null;this.m_i18n=null;this.m_variableResTable=null;this.m_name=null;this.m_invisibleVariableTitleText=e.XObjectExt.release(this.m_invisibleVariableTitleText);this.m_valueViews=e.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_valueViews);this.m_header=e.XObjectExt.release(this.m_header);this.m_bodyWrapper=e.XObjectExt.release(this.m_bodyWrapper);this.m_nameLabel=e.XObjectExt.release(this.m_nameLabel);this.m_technicalNameLabel=e.XObjectExt.release(this.m_technicalNameLabel);this.m_resTableRow=e.XObjectExt.release(this.m_resTableRow);e.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_popovers);e.XObject.prototype.releaseObject.call(this)};e.VdVariableViewResponsiveTableRow.prototype.removeValue=function(e){this.m_valueViews.removeElement(e);this.m_bodyWrapper.removeItem(e.getRoot())};e.VdVariableViewResponsiveTableRow.prototype.setInfoText=function(t){let i=this.addNewHeaderIcon();i.setIcon("message-information");i.setTooltip(this.m_i18n.getText(e.OuVariableDialogI18nLegacy.I18N_VD_INFORMATION_ICON_TOOLTIP));i.setEnabled(false);let o=this.m_uiMgr.newControl(e.UiType.FLEX_LAYOUT);o.setDirection(e.UiFlexDirection.COLUMN);o.setAlignContent(e.UiFlexAlignContent.START);o.addNewItemOfType(e.UiType.LABEL).setText(t).setWrapping(true);let n=e.OlapUiIconPopover.createPopoverWithContent(this.m_uiMgr,"VariableLinkPop",i,o);this.m_popovers.add(n);return i};e.VdVariableViewResponsiveTableRow.prototype.setupVariableViewResponsiveTable=function(t,i,o,n){this.m_uiMgr=t;this.m_i18n=e.OuVariableDialogI18nLegacy.getProvider();this.m_variableResTable=n;this.m_valueViews=e.XList.create();this.m_name=i;this.m_popovers=e.XList.create();this.buildUi();this.m_headerButtons=o;if(e.notNull(this.m_headerButtons)){this.m_header.addItem(this.m_headerButtons.getRoot())}};e.VdVariableViewResponsiveTableRow.prototype.showDynamicFilterInfoIcon=function(){};e.VdVariableViewResponsiveTableRow.prototype.showMoreButton=function(){if(e.isNull(this.m_moreValuesBtn)){this.m_moreValuesBtn=this.m_bodyWrapper.addNewItemOfType(e.UiType.BUTTON);this.m_moreValuesBtn.setName("ffVdVariableMoreValueBtn");this.m_moreValuesBtn.setIcon("overflow");this.m_moreValuesBtn.setWidth(e.UiCssLength.create("100%"));this.m_moreValuesBtn.setButtonType(e.UiButtonType.TRANSPARENT)}return this.m_moreValuesBtn};e.VdVariableViewValueWrapper=function(){};e.VdVariableViewValueWrapper.prototype=new e.XObject;e.VdVariableViewValueWrapper.prototype._ff_c="VdVariableViewValueWrapper";e.VdVariableViewValueWrapper.createVdVariableViewValueWrapper=function(t,i,o,n){let a=new e.VdVariableViewValueWrapper;a.setupVariableViewValueWrapper(t,i,o,n);return a};e.VdVariableViewValueWrapper.prototype.m_bodyWrapper=null;e.VdVariableViewValueWrapper.prototype.m_header=null;e.VdVariableViewValueWrapper.prototype.m_headerButtons=null;e.VdVariableViewValueWrapper.prototype.m_invisibleVariableTitleText=null;e.VdVariableViewValueWrapper.prototype.m_moreValuesBtn=null;e.VdVariableViewValueWrapper.prototype.m_name=null;e.VdVariableViewValueWrapper.prototype.m_uiMgr=null;e.VdVariableViewValueWrapper.prototype.m_valueViews=null;e.VdVariableViewValueWrapper.prototype.m_variableValueLayout=null;e.VdVariableViewValueWrapper.prototype.addNewHeaderIcon=function(){return e.UiContextDummy.getSingleton()};e.VdVariableViewValueWrapper.prototype.addValue=function(e){this.m_valueViews.add(e);this.m_bodyWrapper.addItem(e.getRoot())};e.VdVariableViewValueWrapper.prototype.buildUi=function(){let t=this.m_variableValueLayout.addNewItemOfType(e.UiType.FLEX_LAYOUT);t.setName(e.XStringUtils.concatenate2("VariableValueWrapper-",this.m_name));t.addCssClass("ff-variable-value-wrapper");this.m_bodyWrapper=this.m_uiMgr.newControl(e.UiType.FLEX_LAYOUT);this.m_bodyWrapper.addCssClass("ff-variable-value");this.m_bodyWrapper.addCssClass("ff-variable-cell-wrapper");t.addItem(this.m_bodyWrapper);this.m_header=this.m_uiMgr.newControl(e.UiType.FLEX_LAYOUT);this.m_header.addCssClass("ff-variable-value-icons");t.addItem(this.m_header);this.m_invisibleVariableTitleText=t.addNewItemOfType(e.UiType.INVISIBLE_TEXT)};e.VdVariableViewValueWrapper.prototype.clearValues=function(){this.m_bodyWrapper.clearItems();this.m_valueViews.clear()};e.VdVariableViewValueWrapper.prototype.getClearButton=function(){if(e.notNull(this.m_headerButtons)){return this.m_headerButtons.getClearButton()}return e.UiContextDummy.getSingleton()};e.VdVariableViewValueWrapper.prototype.getClipboardButton=function(){if(e.notNull(this.m_headerButtons)){return this.m_headerButtons.getClipboardButton()}return e.UiContextDummy.getSingleton()};e.VdVariableViewValueWrapper.prototype.getInvisibleVariableTitleText=function(){if(e.isNull(this.m_invisibleVariableTitleText)){e.UiContextDummy.getSingleton()}return this.m_invisibleVariableTitleText};e.VdVariableViewValueWrapper.prototype.getMoreButton=function(){if(e.notNull(this.m_moreValuesBtn)){return this.m_moreValuesBtn}return e.UiContextDummy.getSingleton()};e.VdVariableViewValueWrapper.prototype.getMoreButtonIndex=function(){if(e.isNull(this.m_moreValuesBtn)){return-1}return this.m_bodyWrapper.getIndexOfItem(this.m_moreValuesBtn)};e.VdVariableViewValueWrapper.prototype.getNameLabel=function(){return e.UiContextDummy.getSingleton()};e.VdVariableViewValueWrapper.prototype.getRoot=function(){return e.UiContextDummy.getSingleton()};e.VdVariableViewValueWrapper.prototype.getTechnicalNameLabel=function(){return e.UiContextDummy.getSingleton()};e.VdVariableViewValueWrapper.prototype.getValueViews=function(){return this.m_valueViews};e.VdVariableViewValueWrapper.prototype.getVisibleProperty=function(){return this.m_bodyWrapper};e.VdVariableViewValueWrapper.prototype.hideMoreButton=function(){if(this.m_bodyWrapper.getItems().contains(this.m_moreValuesBtn)){this.m_bodyWrapper.removeItem(this.m_moreValuesBtn)}};e.VdVariableViewValueWrapper.prototype.insertValue=function(e,t){this.m_valueViews.insert(e,t);this.m_bodyWrapper.insertItem(t.getRoot(),e)};e.VdVariableViewValueWrapper.prototype.releaseObject=function(){this.m_uiMgr=null;this.m_variableValueLayout=null;this.m_name=null;this.m_invisibleVariableTitleText=e.XObjectExt.release(this.m_invisibleVariableTitleText);this.m_valueViews=e.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_valueViews);this.m_header=e.XObjectExt.release(this.m_header);this.m_bodyWrapper=e.XObjectExt.release(this.m_bodyWrapper);e.XObject.prototype.releaseObject.call(this)};e.VdVariableViewValueWrapper.prototype.removeValue=function(e){this.m_valueViews.removeElement(e);this.m_bodyWrapper.removeItem(e.getRoot())};e.VdVariableViewValueWrapper.prototype.setInfoText=function(t){return e.UiContextDummy.getSingleton()};e.VdVariableViewValueWrapper.prototype.setupVariableViewValueWrapper=function(t,i,o,n){this.m_uiMgr=t;this.m_variableValueLayout=n;this.m_valueViews=e.XList.create();this.m_name=i;this.buildUi();this.m_headerButtons=o;if(e.notNull(this.m_headerButtons)){this.m_header.addItem(this.m_headerButtons.getRoot())}};e.VdVariableViewValueWrapper.prototype.showDynamicFilterInfoIcon=function(){};e.VdVariableViewValueWrapper.prototype.showMoreButton=function(){if(e.isNull(this.m_moreValuesBtn)){this.m_moreValuesBtn=this.m_bodyWrapper.addNewItemOfType(e.UiType.BUTTON);this.m_moreValuesBtn.setName("ffVdVariableMoreValueBtn");this.m_moreValuesBtn.setIcon("overflow");this.m_moreValuesBtn.setWidth(e.UiCssLength.create("100%"));this.m_moreValuesBtn.setButtonType(e.UiButtonType.TRANSPARENT)}return this.m_moreValuesBtn};e.VdView=function(){};e.VdView.prototype=new e.XObject;e.VdView.prototype._ff_c="VdView";e.VdView.create=function(t,i,o){let n=new e.VdView;n.setupExt(t,i,o);return n};e.VdView.prototype.m_config=null;e.VdView.prototype.m_customSection=null;e.VdView.prototype.m_customSectionPopover=null;e.VdView.prototype.m_defaultValuesSection=null;e.VdView.prototype.m_embedded=false;e.VdView.prototype.m_i18n=null;e.VdView.prototype.m_invisibleDropdownText=null;e.VdView.prototype.m_invisibleFromText=null;e.VdView.prototype.m_invisibleToText=null;e.VdView.prototype.m_mandatoryVarsOnlyCb=null;e.VdView.prototype.m_newSettingsSection=null;e.VdView.prototype.m_root=null;e.VdView.prototype.m_settingsButton=null;e.VdView.prototype.m_settingsPopover=null;e.VdView.prototype.m_showVarTechNamesCb=null;e.VdView.prototype.m_uiMgr=null;e.VdView.prototype.m_valuesDisplayDd=null;e.VdView.prototype.m_variableLayouts=null;e.VdView.prototype.m_variantLabel=null;e.VdView.prototype.m_variantMenu=null;e.VdView.prototype.m_variantMenuBtn=null;e.VdView.prototype.m_variantSection=null;e.VdView.prototype.addVariable=function(t,i){let o=null;if(i){o=e.VdHeaderButtons.createHeaderButtons(this.m_uiMgr,t)}let n=e.VdVariableView.create(this.m_uiMgr,t,o);this.m_variableLayouts.put(t,n);this.m_root.addItem(n.getRoot());return n};e.VdView.prototype.buildUi=function(){this.m_root=this.m_uiMgr.newControl(e.UiType.FLEX_LAYOUT);this.m_root.addCssClass("ffVdDialogContent");this.m_root.setName("VariableDialogContent");this.m_root.setDirection(e.UiFlexDirection.COLUMN);if(this.m_embedded){this.m_root.addCssClass("ffVdEmbedded")}if(this.m_config.isSettingsPopoverEnabled()){let t;if(this.m_config.isGridLayoutEnabled()){t=this.m_root.addNewItemOfType(e.UiType.FLEX_LAYOUT)}else{t=this.m_root.addNewItemOfType(e.UiType.TOOLBAR);t.setPadding(e.UiCssBoxEdges.create("1rem"));t.setMargin(e.UiCssBoxEdges.create("0 0 1rem 0"))}t.addCssClass("ffVdSubHeaderSection");t.setName("VariableDialogSubHeader");this.m_mandatoryVarsOnlyCb=t.addNewItemOfType(e.UiType.CHECKBOX);this.m_mandatoryVarsOnlyCb.setName("ShowMandatoryVariableOnlyCheckbox");this.m_mandatoryVarsOnlyCb.setText(this.m_i18n.getText(e.OuVariableDialogI18nLegacy.I18N_VD_SHOW_MANDATORY_VARS_ONLY));if(this.m_config.isGridLayoutEnabled()){let i=t.addNewItemOfType(e.UiType.FLEX_LAYOUT);i.addCssClass("ffVdVariantSection");i.setName("VariableDialogVariant");this.m_variantLabel=i.addNewItemOfType(e.UiType.LABEL);this.m_variantLabel.setText(e.XStringUtils.concatenate2(e.OuVariableDialogI18nLegacy.getProvider().getText(e.OuVariableDialogI18nLegacy.I18N_VD_APPLY_VARIANT),":"));this.m_variantMenuBtn=i.addNewItemOfType(e.UiType.MENU_BUTTON);this.m_variantMenuBtn.setName("VariableDialogVariantMenuBtn");this.m_variantLabel.setLabelFor(this.m_variantMenuBtn);this.setVariantDropdown()}else{t.addNewItemOfType(e.UiType.SPACER);this.m_variantLabel=t.addNewItemOfType(e.UiType.LABEL);this.m_variantLabel.setText(e.XStringUtils.concatenate2(e.OuVariableDialogI18nLegacy.getProvider().getText(e.OuVariableDialogI18nLegacy.I18N_VD_APPLY_VARIANT),":"));this.m_variantMenuBtn=t.addNewItemOfType(e.UiType.MENU_BUTTON);this.m_variantMenuBtn.setName("VariableDialogVariantMenuBtn");this.m_variantLabel.setLabelFor(this.m_variantMenuBtn);this.setVariantDropdown();t.addNewItemOfType(e.UiType.SPACER)}this.m_settingsButton=t.addNewItemOfType(e.UiType.BUTTON);this.m_settingsButton.setName("VariableDialogSettingsButton").setText(this.m_i18n.getText(e.OuVariableDialogI18nLegacy.I18N_VD_SETTINGS_BTN));this.m_settingsButton.setTooltip(this.m_i18n.getText(e.OuVariableDialogI18nLegacy.I18N_VD_SETTINGS_BTN));this.m_settingsButton.setIcon("slim-arrow-down");this.m_customSection=this.m_root.addNewItemOfType(e.UiType.FLEX_LAYOUT);this.m_customSection.addCssClass("ffVdCustomSection");this.m_customSection.setPadding(e.UiCssBoxEdges.create("0 1rem 0 1rem"));this.setCustomSectionPopover();this.setDefaultValuesSection();this.m_newSettingsSection=this.m_root.addNewItemOfType(e.UiType.FLEX_LAYOUT);this.m_newSettingsSection.addCssClass("ffVdCustomSection");this.setNewSettingsSection();this.setSettingsPopover()}else{this.m_customSection=this.m_root.addNewItemOfType(e.UiType.FLEX_LAYOUT);this.m_customSection.addCssClass("ffVdCustomSection");this.m_customSection.setPadding(e.UiCssBoxEdges.create("0 1rem 0 1rem"));this.m_newSettingsSection=this.m_root.addNewItemOfType(e.UiType.FLEX_LAYOUT);this.m_newSettingsSection.addCssClass("ffVdCustomSection");this.setNewSettingsSection();this.m_variantSection=this.m_root.addNewItemOfType(e.UiType.FLEX_LAYOUT);this.m_variantSection.addCssClass("ffVdVariantSection");this.m_variantSection.setName("VariableDialogVariant");this.m_variantSection.setPadding(e.UiCssBoxEdges.create("0 1rem 1.5rem 1rem"));this.m_variantSection.setDirection(e.UiFlexDirection.COLUMN);this.m_variantLabel=this.m_variantSection.addNewItemOfType(e.UiType.LABEL);this.m_variantLabel.setText(e.OuVariableDialogI18nLegacy.getProvider().getText(e.OuVariableDialogI18nLegacy.I18N_VD_APPLY_VARIANT));this.m_variantMenuBtn=this.m_variantSection.addNewItemOfType(e.UiType.MENU_BUTTON);this.m_variantMenuBtn.setName("VariableDialogVariantMenuBtn");this.m_variantLabel.setLabelFor(this.m_variantMenuBtn);this.setVariantDropdown();this.m_root.addItem(this.m_variantSection)}this.m_invisibleDropdownText=this.m_root.addNewItemOfType(e.UiType.INVISIBLE_TEXT);this.m_invisibleDropdownText.setText(this.m_i18n.getText(e.OuVariableDialogI18nLegacy.I18N_VD_OPERATOR_DROPDOWN_INVISIBLE_TEXT));this.m_invisibleFromText=this.m_root.addNewItemOfType(e.UiType.INVISIBLE_TEXT);this.m_invisibleFromText.setText(this.m_i18n.getText(e.OuVariableDialogI18nLegacy.I18N_VD_INPUT_1_INVISIBLE_TEXT));this.m_invisibleToText=this.m_root.addNewItemOfType(e.UiType.INVISIBLE_TEXT);this.m_invisibleToText.setText(this.m_i18n.getText(e.OuVariableDialogI18nLegacy.I18N_VD_INPUT_2_INVISIBLE_TEXT))};e.VdView.prototype.clearVariables=function(){let e=this.m_variableLayouts.getKeysAsReadOnlyList();for(let t=0;t<e.size();t++){let i=e.get(t);let o=this.m_variableLayouts.remove(i);this.m_root.removeItem(o.getRoot())}};e.VdView.prototype.getCustomSection=function(){return this.m_customSection};e.VdView.prototype.getCustomSectionPopover=function(){return this.m_customSectionPopover};e.VdView.prototype.getDefaultValuesSection=function(){return this.m_defaultValuesSection};e.VdView.prototype.getInvisibleDropdownText=function(){if(e.isNull(this.m_invisibleDropdownText)){e.UiContextDummy.getSingleton()}return this.m_invisibleDropdownText};e.VdView.prototype.getInvisibleFromText=function(){if(e.isNull(this.m_invisibleFromText)){e.UiContextDummy.getSingleton()}return this.m_invisibleFromText};e.VdView.prototype.getInvisibleToText=function(){if(e.isNull(this.m_invisibleToText)){e.UiContextDummy.getSingleton()}return this.m_invisibleToText};e.VdView.prototype.getMandatoryVarsOnlyCb=function(){return this.m_mandatoryVarsOnlyCb};e.VdView.prototype.getNewSettingsSection=function(){return this.m_newSettingsSection};e.VdView.prototype.getRoot=function(){return this.m_root};e.VdView.prototype.getRootNativeControl=function(){let e=this.getRoot();return e.getNativeControl()};e.VdView.prototype.getSettingsButton=function(){return this.m_settingsButton};e.VdView.prototype.getSettingsPopover=function(){return this.m_settingsPopover};e.VdView.prototype.getShowVarTechNamesCb=function(){return this.m_showVarTechNamesCb};e.VdView.prototype.getValuesDisplayDd=function(){if(e.isNull(this.m_valuesDisplayDd)){this.setValuesDisplayDd()}return this.m_valuesDisplayDd};e.VdView.prototype.getVariantLabel=function(){return this.m_variantLabel};e.VdView.prototype.getVariantMenu=function(){return this.m_variantMenu};e.VdView.prototype.getVariantMenuBtn=function(){return this.m_variantMenuBtn};e.VdView.prototype.getVariantSection=function(){return this.m_variantSection};e.VdView.prototype.isMultiInputComponentEnabled=function(){return this.m_config.isMultiInputComponentEnabled()};e.VdView.prototype.isSettingsPopoverEnabled=function(){return this.m_config.isSettingsPopoverEnabled()};e.VdView.prototype.releaseObject=function(){this.m_uiMgr=null;this.m_i18n=null;this.m_variableLayouts=e.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_variableLayouts);this.m_variantLabel=e.XObjectExt.release(this.m_variantLabel);this.m_variantMenuBtn=e.XObjectExt.release(this.m_variantMenuBtn);this.m_variantSection=e.XObjectExt.release(this.m_variantSection);this.m_customSection=e.XObjectExt.release(this.m_customSection);this.m_newSettingsSection=e.XObjectExt.release(this.m_newSettingsSection);this.m_mandatoryVarsOnlyCb=e.XObjectExt.release(this.m_mandatoryVarsOnlyCb);this.m_showVarTechNamesCb=e.XObjectExt.release(this.m_showVarTechNamesCb);this.m_root=e.XObjectExt.release(this.m_root);this.m_settingsPopover=e.XObjectExt.release(this.m_settingsPopover);this.m_customSectionPopover=e.XObjectExt.release(this.m_customSectionPopover);this.m_settingsPopover=e.XObjectExt.release(this.m_settingsPopover);this.m_defaultValuesSection=e.XObjectExt.release(this.m_defaultValuesSection);this.m_variantMenu=e.XObjectExt.release(this.m_variantMenu);this.m_invisibleDropdownText=e.XObjectExt.release(this.m_invisibleDropdownText);this.m_invisibleFromText=e.XObjectExt.release(this.m_invisibleFromText);this.m_invisibleToText=e.XObjectExt.release(this.m_invisibleToText);e.XObject.prototype.releaseObject.call(this)};e.VdView.prototype.setCustomSectionPopover=function(){this.m_customSectionPopover=this.m_uiMgr.newControl(e.UiType.FLEX_LAYOUT);this.m_customSectionPopover.addCssClass("ffVdCustomSection");this.m_customSectionPopover.setDirection(e.UiFlexDirection.COLUMN)};e.VdView.prototype.setDefaultValuesSection=function(){this.m_defaultValuesSection=this.m_uiMgr.newControl(e.UiType.FLEX_LAYOUT);this.m_defaultValuesSection.setName("VdDefaultValuesSection");this.m_defaultValuesSection.setDirection(e.UiFlexDirection.COLUMN);this.m_defaultValuesSection.setVisible(false);let t=this.m_defaultValuesSection.addNewItemOfType(e.UiType.TEXT);t.setFontWeight(e.UiFontWeight.BOLD);t.setText(this.m_i18n.getText(e.OuVariableDialogI18nLegacy.I18N_VD_SETTINGS_POPOVER_DEFAULT_VALUES_SECTION));t.setMargin(e.UiCssBoxEdges.create("0 0 0.75rem 0"))};e.VdView.prototype.setNewSettingsSection=function(){this.m_newSettingsSection.setName("VariableDialogNewSettingsLayout");this.m_newSettingsSection.useMaxWidth();this.m_newSettingsSection.setPadding(e.UiCssBoxEdges.create("0 1rem 0.75rem 1rem"));this.m_newSettingsSection.setDirection(e.UiFlexDirection.COLUMN);this.m_newSettingsSection.setJustifyContent(e.UiFlexJustifyContent.START);this.m_showVarTechNamesCb=this.m_uiMgr.newControl(e.UiType.CHECKBOX);this.m_showVarTechNamesCb.setName("ShowVariableTechnicalNamesCheckbox");this.m_showVarTechNamesCb.setText(this.m_i18n.getText(e.OuVariableDialogI18nLegacy.I18N_VD_SHOW_VARIABLE_TECHNICAL_NAMES));this.m_showVarTechNamesCb.setTooltip(this.m_i18n.getText(e.OuVariableDialogI18nLegacy.I18N_VD_SHOW_VARIABLE_TECHNICAL_NAMES));if(!this.m_config.isSettingsPopoverEnabled()){this.m_mandatoryVarsOnlyCb=this.m_newSettingsSection.addNewItemOfType(e.UiType.CHECKBOX);this.m_mandatoryVarsOnlyCb.setName("ShowMandatoryVariableOnlyCheckbox");this.m_mandatoryVarsOnlyCb.setText(this.m_i18n.getText(e.OuVariableDialogI18nLegacy.I18N_VD_SHOW_MANDATORY_VARS_ONLY));this.m_mandatoryVarsOnlyCb.setMargin(e.UiCssBoxEdges.create("0 0 0.75rem 0"));this.m_showVarTechNamesCb.setMargin(e.UiCssBoxEdges.create("0 0 0.75rem 0"));this.m_newSettingsSection.addItem(this.m_showVarTechNamesCb)}};e.VdView.prototype.setSettingsPopover=function(){this.m_settingsPopover=this.m_uiMgr.newControl(e.UiType.RESPONSIVE_POPOVER);this.m_settingsPopover.setName("SettingsPopover");this.m_settingsPopover.setPlacement(e.UiPlacementType.BOTTOM);this.m_settingsPopover.setShowHeader(false);let t=this.m_uiMgr.newControl(e.UiType.FLEX_LAYOUT);t.setDirection(e.UiFlexDirection.COLUMN);t.setName("SettingsPopoverDisplaySectionHeader");let i=t.addNewItemOfType(e.UiType.TEXT);i.setFontWeight(e.UiFontWeight.BOLD);i.setText(this.m_i18n.getText(e.OuVariableDialogI18nLegacy.I18N_VD_SETTINGS_POPOVER_DISPLAY_SECTION));i.setMargin(e.UiCssBoxEdges.create("0 0 0.75rem 0"));let o=this.m_uiMgr.newControl(e.UiType.LABEL);o.setText(e.XStringUtils.concatenate2(this.m_i18n.getText(e.OuVariableDialogI18nLegacy.I18N_VD_VALUES_DISPLAY_DD),":"));if(e.isNull(this.m_valuesDisplayDd)){this.setValuesDisplayDd()}let n=this.m_settingsPopover.setNewContent(e.UiType.FLEX_LAYOUT);n.setName("SettingsPopoverContentSection");n.setDirection(e.UiFlexDirection.COLUMN);n.setJustifyContent(e.UiFlexJustifyContent.START);let a=n.addNewItemOfType(e.UiType.FLEX_LAYOUT);a.setDirection(e.UiFlexDirection.COLUMN);a.setPadding(e.UiCssBoxEdges.create("1rem 1rem 0 1rem"));a.addItem(this.m_defaultValuesSection);a.addItem(t);a.addItem(this.m_customSectionPopover);a.addItem(this.m_showVarTechNamesCb);let r=n.addNewItemOfType(e.UiType.FLEX_LAYOUT);r.setDirection(e.UiFlexDirection.COLUMN);r.setPadding(e.UiCssBoxEdges.create("1rem"));r.addItem(o);r.addItem(this.m_valuesDisplayDd);let l=n.addNewItemOfType(e.UiType.FLEX_LAYOUT);l.setName("SettingsPopoverFooterSection");l.setDirection(e.UiFlexDirection.ROW_REVERSE);l.setPadding(e.UiCssBoxEdges.create("0.25rem 1rem"));l.setMargin(e.UiCssBoxEdges.create("0 0 auto 0"));let s=l.addNewItemOfType(e.UiType.DIALOG_BUTTON);s.setButtonType(e.UiButtonType.TRANSPARENT);s.setName("SettingsPopoverCloseButton");s.setText(this.m_i18n.getText(e.OuVariableDialogI18nLegacy.I18N_VD_SETTINGS_POPOVER_CLOSE));s.setTooltip(this.m_i18n.getText(e.OuVariableDialogI18nLegacy.I18N_VD_SETTINGS_POPOVER_CLOSE));s.registerOnPress(e.UiLambdaPressListener.create(e=>{this.m_settingsPopover.close()}))};e.VdView.prototype.setValuesDisplayDd=function(){this.m_valuesDisplayDd=this.m_uiMgr.newControl(e.UiType.DROPDOWN);this.m_valuesDisplayDd.setName("VdSettingsValuesDisplayDd");this.m_valuesDisplayDd.setTooltip(this.m_i18n.getText(e.OuVariableDialogI18nLegacy.I18N_VD_VALUES_DISPLAY_DD));this.m_valuesDisplayDd.addNewItem().setText(this.m_i18n.getText(e.OuVariableDialogI18nLegacy.I18N_VD_VALUES_DISPLAY_DD_DESC_ITEM)).setName("Description").setTooltip(this.m_i18n.getText(e.OuVariableDialogI18nLegacy.I18N_VD_VALUES_DISPLAY_DD_DESC_ITEM));this.m_valuesDisplayDd.addNewItem().setText(this.m_i18n.getText(e.OuVariableDialogI18nLegacy.I18N_VD_VALUES_DISPLAY_DD_ID_ITEM)).setName("ID").setTooltip(this.m_i18n.getText(e.OuVariableDialogI18nLegacy.I18N_VD_VALUES_DISPLAY_DD_ID_ITEM));this.m_valuesDisplayDd.addNewItem().setText(this.m_i18n.getText(e.OuVariableDialogI18nLegacy.I18N_VD_VALUES_DISPLAY_DD_ID_DESC_ITEM)).setName("ID and Description").setTooltip(this.m_i18n.getText(e.OuVariableDialogI18nLegacy.I18N_VD_VALUES_DISPLAY_DD_ID_DESC_ITEM))};e.VdView.prototype.setVariantDropdown=function(){this.m_variantMenu=this.m_uiMgr.newControl(e.UiType.MENU);if(!this.m_config.isSettingsPopoverEnabled()){this.m_variantMenuBtn.setWidth(e.UiCssLength.create("25%"))}let t=this.m_variantMenu.addNewItem();t.setName("VariableDialogVariantMenuNoneItem");t.setText("None");this.m_variantMenuBtn.setMenu(this.m_variantMenu);this.m_variantMenuBtn.setText(t.getText())};e.VdView.prototype.setupExt=function(t,i,o){this.m_uiMgr=t;this.m_i18n=e.OuVariableDialogI18nLegacy.getProvider();this.m_variableLayouts=e.XHashMapByString.create();this.m_embedded=i;this.m_config=o;this.buildUi()};e.VdAbstractValueView=function(){};e.VdAbstractValueView.prototype=new e.XObject;e.VdAbstractValueView.prototype._ff_c="VdAbstractValueView";e.VdAbstractValueView.prototype.getDatePicker1=function(){return e.UiContextDummy.getSingleton()};e.VdAbstractValueView.prototype.getDatePicker2=function(){return e.UiContextDummy.getSingleton()};e.VdAbstractValueView.prototype.getDeleteLineButton=function(){return e.UiContextDummy.getSingleton()};e.VdAbstractValueView.prototype.getDropdown=function(){return e.UiContextDummy.getSingleton()};e.VdAbstractValueView.prototype.getInput1=function(){return e.UiContextDummy.getSingleton()};e.VdAbstractValueView.prototype.getInput2=function(){return e.UiContextDummy.getSingleton()};e.VdAbstractValueView.prototype.setDateDisplayFormat=function(e){};e.VdAbstractValueView.prototype.setDatePicker1Visible=function(t){return e.UiContextDummy.getSingleton()};e.VdAbstractValueView.prototype.setDatePicker2Visible=function(t){return e.UiContextDummy.getSingleton()};e.VdAbstractValueView.prototype.setDateValueFormat=function(e){};e.VdAbstractValueView.prototype.setDeleteLineButtonVisible=function(t,i){return e.UiContextDummy.getSingleton()};e.VdAbstractValueView.prototype.setDropdownVisible=function(t){return e.UiContextDummy.getSingleton()};e.VdAbstractValueView.prototype.setInput1Visible=function(t){return e.UiContextDummy.getSingleton()};e.VdAbstractValueView.prototype.setInput2Visible=function(t){return e.UiContextDummy.getSingleton()};e.OuDefaultQmSettings=function(){};e.OuDefaultQmSettings.prototype=new e.XObject;e.OuDefaultQmSettings.prototype._ff_c="OuDefaultQmSettings";e.OuDefaultQmSettings.CREATE_HANA_DEFAULT_MEASURE_FILTER="CreateHanaDefaultMeasureFilter";e.OuDefaultQmSettings.FREEZE_TABLE_HEADERS="FreezeTableHeaders";e.OuDefaultQmSettings.HANA_TOTAL_ALIGNMENT_TOP="SetDefaultHanaTotalAlignmentTop";e.OuDefaultQmSettings.LOAD_COMMENTING_DOCUMENTS="LoadCommentingDocuments";e.OuDefaultQmSettings.PREACTIVATE_HANA_DEFAULT_HIERARCHY="PreActivateHanaDefaultHierarchy";e.OuDefaultQmSettings.SETUP_BW_DEFAULT_KEY_TYPES="SetupBWDefaultKeyTypes";e.OuDefaultQmSettings.SETUP_HANA_DEFAULT_MEASURE_ATTRIBUTES="SetupHanaDefaultMeasureAttributes";e.OuDefaultQmSettings.SET_ACTIVE_NODE_ALIGNMENT_INHERIT="SetAxisNodeAlignmentInherit";e.OuDefaultQmSettings.SET_SYNCHRONIZED_AXIS_READMODES="SetSynchronizedAxisReadModes";e.OuDefaultQmSettings.SHOW_EXIT_WIDGET="ShowExitWidget";e.OuDefaultQmSettings.SHOW_QUERY_DETAILS="ShowQueryDetails";e.OuDefaultQmSettings.create=function(t){let i=new e.OuDefaultQmSettings;i.loadConfiguration(t);return i};e.OuDefaultQmSettings.prototype.m_axisNodeAlignmentInherit=false;e.OuDefaultQmSettings.prototype.m_createHanaDefaultMeasureFilter=false;e.OuDefaultQmSettings.prototype.m_defaultHanaTotalAlignmentTop=false;e.OuDefaultQmSettings.prototype.m_freezeTableHeaders=false;e.OuDefaultQmSettings.prototype.m_loadCommentingDocuments=false;e.OuDefaultQmSettings.prototype.m_preActivateHanaDefaultHierarchy=false;e.OuDefaultQmSettings.prototype.m_setupBwDefaultKeyTypes=false;e.OuDefaultQmSettings.prototype.m_setupHanaDefaultMeasureAttributes=false;e.OuDefaultQmSettings.prototype.m_showExitWidget=false;e.OuDefaultQmSettings.prototype.m_showQueryDetails=false;e.OuDefaultQmSettings.prototype.m_synchronizedAxisReadModes=false;e.OuDefaultQmSettings.prototype.isCreateHanaDefaultMeasureFilter=function(){return this.m_createHanaDefaultMeasureFilter};e.OuDefaultQmSettings.prototype.isFreezeTableHeaders=function(){return this.m_freezeTableHeaders};e.OuDefaultQmSettings.prototype.isLoadCommentingDocuments=function(){return this.m_loadCommentingDocuments};e.OuDefaultQmSettings.prototype.isPreActivateHanaDefaultHierarchy=function(){return this.m_preActivateHanaDefaultHierarchy};e.OuDefaultQmSettings.prototype.isSetAxisNodeAlignmentInherit=function(){return this.m_axisNodeAlignmentInherit};e.OuDefaultQmSettings.prototype.isSetDefaultHanaTotalAlignmentTop=function(){return this.m_defaultHanaTotalAlignmentTop};e.OuDefaultQmSettings.prototype.isSetSynchronizedAxisReadModes=function(){return this.m_synchronizedAxisReadModes};e.OuDefaultQmSettings.prototype.isSetupBwDefaultKeyTypes=function(){return this.m_setupBwDefaultKeyTypes};e.OuDefaultQmSettings.prototype.isSetupHanaDefaultMeasureAttributes=function(){return this.m_setupHanaDefaultMeasureAttributes};e.OuDefaultQmSettings.prototype.isShowExitWidget=function(){return this.m_showExitWidget};e.OuDefaultQmSettings.prototype.isShowQueryDetails=function(){return this.m_showQueryDetails};e.OuDefaultQmSettings.prototype.loadConfiguration=function(t){if(e.notNull(t)){this.m_loadCommentingDocuments=t.getBooleanByKeyExt(e.OuDefaultQmSettings.LOAD_COMMENTING_DOCUMENTS,false);this.m_showQueryDetails=t.getBooleanByKeyExt(e.OuDefaultQmSettings.SHOW_QUERY_DETAILS,false);this.m_showExitWidget=t.getBooleanByKeyExt(e.OuDefaultQmSettings.SHOW_EXIT_WIDGET,false);this.m_freezeTableHeaders=t.getBooleanByKeyExt(e.OuDefaultQmSettings.FREEZE_TABLE_HEADERS,true);this.m_createHanaDefaultMeasureFilter=t.getBooleanByKeyExt(e.OuDefaultQmSettings.CREATE_HANA_DEFAULT_MEASURE_FILTER,false);this.m_defaultHanaTotalAlignmentTop=t.getBooleanByKeyExt(e.OuDefaultQmSettings.HANA_TOTAL_ALIGNMENT_TOP,false);this.m_setupHanaDefaultMeasureAttributes=t.getBooleanByKeyExt(e.OuDefaultQmSettings.SETUP_HANA_DEFAULT_MEASURE_ATTRIBUTES,false);this.m_setupBwDefaultKeyTypes=t.getBooleanByKeyExt(e.OuDefaultQmSettings.SETUP_BW_DEFAULT_KEY_TYPES,false);this.m_preActivateHanaDefaultHierarchy=t.getBooleanByKeyExt(e.OuDefaultQmSettings.PREACTIVATE_HANA_DEFAULT_HIERARCHY,false);this.m_axisNodeAlignmentInherit=t.getBooleanByKeyExt(e.OuDefaultQmSettings.SET_ACTIVE_NODE_ALIGNMENT_INHERIT,false);this.m_synchronizedAxisReadModes=t.getBooleanByKeyExt(e.OuDefaultQmSettings.SET_SYNCHRONIZED_AXIS_READMODES,false)}};e.VdAbstractValueParser=function(){};e.VdAbstractValueParser.prototype=new e.XObject;e.VdAbstractValueParser.prototype._ff_c="VdAbstractValueParser";e.VdAbstractValueParser.getSAPFormat=function(t,i){let o=e.XValueAccess.createWithType(t);o.parseString(i);if(t===e.XValueType.TIME){return o.getTime().toSAPFormat()}if(t===e.XValueType.DATE){return o.getDate().toSAPFormat()}if(t===e.XValueType.DATE_TIME){return o.getDateTime().toSAPFormat()}return o.getString()};e.VdAbstractValueParser.getTextOrDisplayKey=function(t){if(e.XStringUtils.isNotNullAndNotEmpty(t.getText())){return t.getText()}else if(t.hasDisplayKey()){return t.getDisplayKey()}return null};e.VdAbstractValueParser.isBw=function(t){let i=t.getDataSource().getSystemName();let o=t.getApplication().getSystemLandscape().getSystemDescription(i);return o.getSystemType().isTypeOf(e.SystemType.ABAP)};e.VdAbstractValueParser.useKeysAsDisplayKeys=function(t,i){if(!e.VdAbstractValueParser.isBw(t)||!t.getVariableType().isTypeOf(e.VariableType.DIMENSION_MEMBER_VARIABLE)){return false}let o=t;if(o.isEnforcedDynamicValue()){return false}let n=o.getDimension();if(!o.supportsValueHelp()){return true}return!i&&!n.isStructure()&&!n.isHierarchyActive()&&!o.getValueType().isDateBased()&&!n.getHasCheckTable()};e.VdDragonflyEntryPoint={createEntryPoint:function(t,i,o){let n=i.getApplication().getUiManager();let a=e.OlapUiDisplayFactory.createFactoryForDialog(n);let r=e.OlapUiContext.createContext(n,a);let l=e.VdConfiguration.createConfig(t,i);l.setFunctionalValuesEnabled(true);return e.VdVariableDialog.createAsDisplay(r,l,o)}};e.DialogEntryPoint=function(){};e.DialogEntryPoint.prototype=new e.XObject;e.DialogEntryPoint.prototype._ff_c="DialogEntryPoint";e.DialogEntryPoint.prototype.m_uiContext=null;e.DialogEntryPoint.prototype.getUiContext=function(){return this.m_uiContext};e.DialogEntryPoint.prototype.releaseObject=function(){e.XObject.prototype.releaseObject.call(this);this.m_uiContext=null};e.DialogEntryPoint.prototype.setupEntryPoint=function(t){let i=t.getProcess().getSubSystem(e.SubSystemType.GUI);if(e.isNull(i)){i=t.getUiManager()}let o=e.OlapUiDisplayFactory.createFactoryForDialog(i);let n=e.OlapUiContext.createContext(i,o);this.setupEntryPointWithContext(n)};e.DialogEntryPoint.prototype.setupEntryPointWithContext=function(e){this.m_uiContext=e};e.OrcaConstants={DESC_1:"desc1",DESC_2:"desc2",DIMENSION_DISPLAY_INFO:"dimensionDisplayInfo",DIMENSION_ID:"dimensionId",DISPLAY_INFO_DESCRIPTION:"description",DISPLAY_INFO_ID:"id",DISPLAY_INFO_ID_AND_DESCRIPTION:"idAndDescription",DISPLAY_KEY:"displayKey",DISPLAY_NAME:"displayName",IS_INPUT_ENABLED:"isInputEnabled",IS_MANDATORY:"isMandatory",IS_USED_IN_DYNAMIC_FILTER:"isUsedInDynamicFilter",NAME:"name",OPERAND_1:"operand1",OPERAND_2:"operand2",OPERATOR:"operator",OPERATORS:"operators",SELECTED_DATA:"selectedData",SELECTION:"selection",SELECTION_MULTI:"multi",SELECTION_SINGLE:"single",SUPPORTS_MULTIPLE_VALUES:"supportsMultipleValues",URL_PARAM_AUTO_SUBMIT:"autoSubmit",URL_PARAM_AUTO_SUBMIT_WITH_VALUE:"autoSubmit=true",VALUE_DETAILS:"valueDetails",VALUE_TYPE:"valueType",VARIABLE_OBJ:"variableObj",VARIABLE_TYPE:"variableType",mapOrcaDisplayInfo:function(t,i){if(e.XStringUtils.isNotNullAndNotEmpty(t)){switch(t){case e.OrcaConstants.DISPLAY_INFO_ID:return e.FilterDisplayInfo.ID;case e.OrcaConstants.DISPLAY_INFO_DESCRIPTION:return e.FilterDisplayInfo.DESCRIPTION;case e.OrcaConstants.DISPLAY_INFO_ID_AND_DESCRIPTION:return e.FilterDisplayInfo.ID_AND_DESCRIPTION;default:break}}return i}};e.VdOrcaNativeParams=function(){};e.VdOrcaNativeParams.prototype=new e.XObject;e.VdOrcaNativeParams.prototype._ff_c="VdOrcaNativeParams";e.VdOrcaNativeParams.create=function(){let t=new e.VdOrcaNativeParams;t.linkTooltips=e.XHashMapByString.create();t.linkage=e.XHashMapByString.create();t.linkSkipSubmit=e.XList.create();t.widgetLevelWarnings=e.XList.create();return t};e.VdOrcaNativeParams.prototype.analyticApp=false;e.VdOrcaNativeParams.prototype.analyticVarProcessor=null;e.VdOrcaNativeParams.prototype.customStoryButtonText=null;e.VdOrcaNativeParams.prototype.datasetVariables=null;e.VdOrcaNativeParams.prototype.datasetVariablesButtonText=null;e.VdOrcaNativeParams.prototype.datasetVariablesEditable=false;e.VdOrcaNativeParams.prototype.dateDisplayFormat=null;e.VdOrcaNativeParams.prototype.dimensionDisplayInfo=null;e.VdOrcaNativeParams.prototype.disableExitVariables=false;e.VdOrcaNativeParams.prototype.disableVariablePersistenceOptions=false;e.VdOrcaNativeParams.prototype.displayFactory=null;e.VdOrcaNativeParams.prototype.filterVariables=null;e.VdOrcaNativeParams.prototype.forcePrompt=false;e.VdOrcaNativeParams.prototype.forcePromptExec=false;e.VdOrcaNativeParams.prototype.infoText=null;e.VdOrcaNativeParams.prototype.isPlanningSequence=false;e.VdOrcaNativeParams.prototype.isPublication=false;e.VdOrcaNativeParams.prototype.isStoryUsingDynamicVariables=false;e.VdOrcaNativeParams.prototype.isWidget=false;e.VdOrcaNativeParams.prototype.isWidgetUsingDynamicVariables=false;e.VdOrcaNativeParams.prototype.linkSkipSubmit=null;e.VdOrcaNativeParams.prototype.linkTooltips=null;e.VdOrcaNativeParams.prototype.linkVarHelper=null;e.VdOrcaNativeParams.prototype.linkVarSubmitHandling=null;e.VdOrcaNativeParams.prototype.linkage=null;e.VdOrcaNativeParams.prototype.linkedModelsText=null;e.VdOrcaNativeParams.prototype.linkedVariables=null;e.VdOrcaNativeParams.prototype.preSetVariables=null;e.VdOrcaNativeParams.prototype.preSetVariablesEditable=false;e.VdOrcaNativeParams.prototype.presetVariablesButtonText=null;e.VdOrcaNativeParams.prototype.presetVariablesSelected=false;e.VdOrcaNativeParams.prototype.queryManager=null;e.VdOrcaNativeParams.prototype.readOnly=false;e.VdOrcaNativeParams.prototype.showChartVariables=false;e.VdOrcaNativeParams.prototype.showVariantSection=false;e.VdOrcaNativeParams.prototype.singleVariableKey=null;e.VdOrcaNativeParams.prototype.storyEditable=false;e.VdOrcaNativeParams.prototype.title=null;e.VdOrcaNativeParams.prototype.useTableMessage=false;e.VdOrcaNativeParams.prototype.varProcessor=null;e.VdOrcaNativeParams.prototype.variablesToDisplay=null;e.VdOrcaNativeParams.prototype.widgetLevelWarnings=null;e.VdOrcaNativeParams.prototype.releaseObject=function(){this.title=null;this.queryManager=null;this.varProcessor=null;e.XObject.prototype.releaseObject.call(this)};e.VdOrcaPlanningSequenceHandler=function(){};e.VdOrcaPlanningSequenceHandler.prototype=new e.XObject;e.VdOrcaPlanningSequenceHandler.prototype._ff_c="VdOrcaPlanningSequenceHandler";e.VdOrcaPlanningSequenceHandler.create=function(t,i,o){let n=new e.VdOrcaPlanningSequenceHandler;n.setupExt(t,i,o);return n};e.VdOrcaPlanningSequenceHandler.prototype.m_analyticProcessor=null;e.VdOrcaPlanningSequenceHandler.prototype.m_originalHandler=null;e.VdOrcaPlanningSequenceHandler.prototype.m_startValues=null;e.VdOrcaPlanningSequenceHandler.prototype.activateVariant=function(e,t,i){this.m_originalHandler.activateVariant(e,t,i)};e.VdOrcaPlanningSequenceHandler.prototype.cancelReinitVariables=function(t,i,o){if(e.isNull(this.m_analyticProcessor)){i.onVariableProcessorExecuted(e.ExtResult.createWithInfoMessage("ok"),null,o)}else{this.m_analyticProcessor.cancelReinitVariables(t,i,o)}};e.VdOrcaPlanningSequenceHandler.prototype.getSubmitProcessor=function(){if(e.isNull(this.m_analyticProcessor)){return null}return this.m_analyticProcessor.getSubmitProcessor()};e.VdOrcaPlanningSequenceHandler.prototype.reinitVariables=function(e,t){this.m_originalHandler.reinitVariables(e,t)};e.VdOrcaPlanningSequenceHandler.prototype.releaseObject=function(){this.m_originalHandler=null;this.m_analyticProcessor=null;this.m_startValues=null;e.XObject.prototype.releaseObject.call(this)};e.VdOrcaPlanningSequenceHandler.prototype.saveVariant=function(e,t,i,o){this.m_originalHandler.saveVariant(e,t,i,o)};e.VdOrcaPlanningSequenceHandler.prototype.setVariableValues=function(e){this.m_originalHandler.setVariableValues(e);this.m_analyticProcessor.setVariableValues(e)};e.VdOrcaPlanningSequenceHandler.prototype.setupExt=function(t,i,o){this.m_originalHandler=t;this.m_startValues=e.notNull(o)?o:e.XHashMapByString.create();if(e.notNull(i)){this.m_analyticProcessor=e.VdBackendStateHandler.createHandler(i)}};e.VdOrcaPlanningSequenceHandler.prototype.submitVariables=function(t,i,o){if(e.isNull(this.m_analyticProcessor)){i.onVariableProcessorExecuted(e.ExtResult.createWithInfoMessage("ok"),null,o)}else{let n=e.XLinkedHashMapByString.create();let a=this.m_analyticProcessor.getSubmitProcessor().getInputEnabledAndNonTechnicalVariables();for(let e=0;e<a.size();e++){let i=a.get(e).getName();if(!t.containsKey(i)){n.put(i,this.m_startValues.getByKey(i))}else{n.put(i,t.getByKey(i))}}this.m_analyticProcessor.submitVariables(n,i,o)}};e.VdOrcaPlanningSequenceHandler.prototype.transferVariables=function(e,t,i,o){this.m_originalHandler.transferVariables(e,t,i,o)};e.VdOrcaUiHelperConfig=function(){};e.VdOrcaUiHelperConfig.prototype=new e.XObject;e.VdOrcaUiHelperConfig.prototype._ff_c="VdOrcaUiHelperConfig";e.VdOrcaUiHelperConfig.createConfig=function(t,i){let o=new e.VdOrcaUiHelperConfig;o.m_scenario=t;o.m_level=i;o.m_linkTooltips=e.XHashMapByString.create();return o};e.VdOrcaUiHelperConfig.prototype.m_alignBwHanaDynamicVariables=false;e.VdOrcaUiHelperConfig.prototype.m_boardRoomChildLevelText=null;e.VdOrcaUiHelperConfig.prototype.m_boardRoomParentLevelText=null;e.VdOrcaUiHelperConfig.prototype.m_bottomLevelUsingDynamicVariables=false;e.VdOrcaUiHelperConfig.prototype.m_bottomLevelValues=null;e.VdOrcaUiHelperConfig.prototype.m_customStoryButtonText=null;e.VdOrcaUiHelperConfig.prototype.m_disableExit=false;e.VdOrcaUiHelperConfig.prototype.m_disableVariablePersistenceOptions=false;e.VdOrcaUiHelperConfig.prototype.m_forcePrompt=false;e.VdOrcaUiHelperConfig.prototype.m_hideForceSection=false;e.VdOrcaUiHelperConfig.prototype.m_hideLevelSection=false;e.VdOrcaUiHelperConfig.prototype.m_infoText=null;e.VdOrcaUiHelperConfig.prototype.m_level=null;e.VdOrcaUiHelperConfig.prototype.m_linkTooltips=null;e.VdOrcaUiHelperConfig.prototype.m_linkedModelsText=null;e.VdOrcaUiHelperConfig.prototype.m_readOnly=false;e.VdOrcaUiHelperConfig.prototype.m_scenario=null;e.VdOrcaUiHelperConfig.prototype.m_showDynamicVariableSection=false;e.VdOrcaUiHelperConfig.prototype.m_showExitVariableSection=false;e.VdOrcaUiHelperConfig.prototype.m_showVariants=false;e.VdOrcaUiHelperConfig.prototype.m_storyEditable=false;e.VdOrcaUiHelperConfig.prototype.m_topLevelUsingDynamicVariables=false;e.VdOrcaUiHelperConfig.prototype.m_topLevelValues=null;e.VdOrcaUiHelperConfig.prototype.m_useBottomLevelVariables=false;e.VdOrcaUiHelperConfig.prototype.m_widgetLevelWarnings=null;e.VdOrcaUiHelperConfig.prototype.getBoardRoomChildLevelText=function(){return this.m_boardRoomChildLevelText};e.VdOrcaUiHelperConfig.prototype.getBoardRoomParentLevelText=function(){return this.m_boardRoomParentLevelText};e.VdOrcaUiHelperConfig.prototype.getBottomLevelValues=function(){return this.m_bottomLevelValues};e.VdOrcaUiHelperConfig.prototype.getCustomStoryButtonText=function(){return this.m_customStoryButtonText};e.VdOrcaUiHelperConfig.prototype.getInfoText=function(){return this.m_infoText};e.VdOrcaUiHelperConfig.prototype.getLevel=function(){return this.m_level};e.VdOrcaUiHelperConfig.prototype.getLinkTooltips=function(){return this.m_linkTooltips};e.VdOrcaUiHelperConfig.prototype.getLinkedModelsText=function(){return this.m_linkedModelsText};e.VdOrcaUiHelperConfig.prototype.getScenario=function(){return this.m_scenario};e.VdOrcaUiHelperConfig.prototype.getTopLevelValues=function(){return this.m_topLevelValues};e.VdOrcaUiHelperConfig.prototype.getWidgetLevelWarnings=function(){return this.m_widgetLevelWarnings};e.VdOrcaUiHelperConfig.prototype.hideForceSection=function(){return this.m_hideForceSection};e.VdOrcaUiHelperConfig.prototype.hideLevelSection=function(){return this.m_hideLevelSection};e.VdOrcaUiHelperConfig.prototype.isAlignBwHanaDynamicVariables=function(){return this.m_alignBwHanaDynamicVariables};e.VdOrcaUiHelperConfig.prototype.isBottomLevelUsingDynamicVariables=function(){return this.m_bottomLevelUsingDynamicVariables};e.VdOrcaUiHelperConfig.prototype.isDisableExit=function(){return this.m_disableExit};e.VdOrcaUiHelperConfig.prototype.isDisableVariablePersistenceOptions=function(){return this.m_disableVariablePersistenceOptions};e.VdOrcaUiHelperConfig.prototype.isForcePrompt=function(){return this.m_forcePrompt};e.VdOrcaUiHelperConfig.prototype.isReadOnly=function(){return this.m_readOnly};e.VdOrcaUiHelperConfig.prototype.isStoryEditable=function(){return this.m_storyEditable};e.VdOrcaUiHelperConfig.prototype.isTopLevelUsingDynamicVariables=function(){return this.m_topLevelUsingDynamicVariables};e.VdOrcaUiHelperConfig.prototype.releaseObject=function(){this.m_scenario=null;this.m_level=null;this.m_linkTooltips=null;this.m_topLevelValues=null;this.m_bottomLevelValues=null;e.XObject.prototype.releaseObject.call(this)};e.VdOrcaUiHelperConfig.prototype.setAlignBwHanaDynamicVariables=function(e){this.m_alignBwHanaDynamicVariables=e};e.VdOrcaUiHelperConfig.prototype.setBoardRoomChildLevelText=function(e){this.m_boardRoomChildLevelText=e};e.VdOrcaUiHelperConfig.prototype.setBoardRoomParentLevelText=function(e){this.m_boardRoomParentLevelText=e};e.VdOrcaUiHelperConfig.prototype.setBottomLevelUsingDynamicVariables=function(e){this.m_bottomLevelUsingDynamicVariables=e};e.VdOrcaUiHelperConfig.prototype.setBottomLevelValues=function(e){this.m_bottomLevelValues=e};e.VdOrcaUiHelperConfig.prototype.setCustomStoryButtonText=function(e){this.m_customStoryButtonText=e};e.VdOrcaUiHelperConfig.prototype.setDisableExit=function(e){this.m_disableExit=e};e.VdOrcaUiHelperConfig.prototype.setDisableVariablePersistenceOptions=function(e){this.m_disableVariablePersistenceOptions=e};e.VdOrcaUiHelperConfig.prototype.setForcePrompt=function(e){this.m_forcePrompt=e};e.VdOrcaUiHelperConfig.prototype.setHideForceSection=function(e){this.m_hideForceSection=e};e.VdOrcaUiHelperConfig.prototype.setHideLevelSection=function(e){this.m_hideLevelSection=e};e.VdOrcaUiHelperConfig.prototype.setInfoText=function(e){this.m_infoText=e};e.VdOrcaUiHelperConfig.prototype.setLinkTooltips=function(e){this.m_linkTooltips=e};e.VdOrcaUiHelperConfig.prototype.setLinkedModelsText=function(e){this.m_linkedModelsText=e};e.VdOrcaUiHelperConfig.prototype.setReadOnly=function(e){this.m_readOnly=e};e.VdOrcaUiHelperConfig.prototype.setShowDynamicVariableSection=function(e){this.m_showDynamicVariableSection=e};e.VdOrcaUiHelperConfig.prototype.setShowExitVariableSection=function(e){this.m_showExitVariableSection=e};e.VdOrcaUiHelperConfig.prototype.setShowVariantSection=function(e){this.m_showVariants=e};e.VdOrcaUiHelperConfig.prototype.setStoryEditable=function(e){this.m_storyEditable=e};e.VdOrcaUiHelperConfig.prototype.setTopLevelUsingDynamicVariables=function(e){this.m_topLevelUsingDynamicVariables=e};e.VdOrcaUiHelperConfig.prototype.setTopLevelValues=function(e){this.m_topLevelValues=e};e.VdOrcaUiHelperConfig.prototype.setUseBottomLevelVariables=function(e){this.m_useBottomLevelVariables=e};e.VdOrcaUiHelperConfig.prototype.setWidgetLevelWarnings=function(e){this.m_widgetLevelWarnings=e};e.VdOrcaUiHelperConfig.prototype.showDynamicVariableSection=function(){return this.m_showDynamicVariableSection};e.VdOrcaUiHelperConfig.prototype.showExitVariableSection=function(){return this.m_showExitVariableSection};e.VdOrcaUiHelperConfig.prototype.showVariantSection=function(){return this.m_showVariants};e.VdOrcaUiHelperConfig.prototype.useBottomLevelVariables=function(){return this.m_useBottomLevelVariables};e.VdStandalone=function(){};e.VdStandalone.prototype=new e.XObject;e.VdStandalone.prototype._ff_c="VdStandalone";e.VdStandalone.BOTTOM_LEVEL_DYNAMIC_VARIABLES="bottomLevelDynamicVars";e.VdStandalone.BOTTOM_LEVEL_VALUES="bottomLevelValues";e.VdStandalone.BW_PARALLEL_LINK_DATASET_ID_TAG="bwParallelLinkDataSetIdTag";e.VdStandalone.BW_PARALLEL_LINK_REMOVE_AFTER_SUBMIT_TAG="bwParallelLinkRemoveAfterSubmitTag";e.VdStandalone.BW_PARALLEL_LINK_SHOULD_BE_SUBMITTED_TAG="bwParallelLinkShouldBeSubmittedTag";e.VdStandalone.DATE_DISPLAY_FORMAT="dateDisplayFormat";e.VdStandalone.DISABLE_EXIT="disableExit";e.VdStandalone.DISABLE_TEXT_VARIABLE_INPUT="disableTextVariableInput";e.VdStandalone.DISABLE_VARIABLE_PERSISTENCE_OPTIONS="disableVariablePersistenceOptions";e.VdStandalone.FORCE_PROMPT="forcePrompt";e.VdStandalone.HIDE_FORCE_SECTION="hideForceSection";e.VdStandalone.HIDE_LEVEL_SECTION="hideLevelSection";e.VdStandalone.HIDE_OPERATOR_NOT_BEWEEN="hideOperatorNotBetween";e.VdStandalone.IMPLICIT_SUBMIT="implicitSubmit";e.VdStandalone.INFO_TEXT="infoText";e.VdStandalone.JOIN_MODE="joinMode";e.VdStandalone.LEVEL="level";e.VdStandalone.LINKAGE="linkage";e.VdStandalone.LINKED_MODELS_TEXT="linkedModelsText";e.VdStandalone.LINKED_VAR_NAMES="linkedVariableNames";e.VdStandalone.LINKED_VAR_PROCESSOR_ID="linkedProcessorIds";e.VdStandalone.LINK_VAR_SUBMIT_HANDLING="linkVarSubmitHandling";e.VdStandalone.LOCALIZATION="localization";e.VdStandalone.READ_ONLY="readOnly";e.VdStandalone.SCENARIO="scenario";e.VdStandalone.SHOW_DYNAMIC_VARIABLE_SECTION="showDynamicVariableSection";e.VdStandalone.SHOW_EXIT_VARIABLE_SECTION="showExitVariableSection";e.VdStandalone.SHOW_VARIANT_SECTION="showVariantSection";e.VdStandalone.START_VALUES="startValues";e.VdStandalone.START_VALUES_FORMAT="startValuesFormat";e.VdStandalone.STORY_EDITABLE="storyEditable";e.VdStandalone.SUPPRESS_LOCALIZATION_DEFAULTS="suppressLocalizationDefaults";e.VdStandalone.TITLE="title";e.VdStandalone.TOOLTIP_DATASET="tooltipDataset";e.VdStandalone.TOOLTIP_VARIABLE="tooltipVariable";e.VdStandalone.TOP_LEVEL_DYNAMIC_VARIABLES="topLevelDynamicVars";e.VdStandalone.TOP_LEVEL_TEXT="topLevelText";e.VdStandalone.TOP_LEVEL_VALUES="topLevelValues";e.VdStandalone.UPDATE_DYNAMIC_VARIABLES_ON_START="updateDynamicVariablesOnStart";e.VdStandalone.USE_BOTTOM_LEVEL_VARIABLES="useBottomLevelVariables";e.VdStandalone.USE_DATEPICKER="useDatePicker";e.VdStandalone.VARIABLE_NAME="variableName";e.VdStandalone.VARIABLE_NAMES="variableNames";e.VdStandalone.VARIABLE_PROCESSOR_ID="variableProcessId";e.VdStandalone.WIDGET_LEVEL_WARNINGS="widgetLevelWarnings";e.VdStandalone.addLinkSymbols=function(t,i){if(e.isNull(t)||e.isNull(i)){return}let o=e.VdStandalone.parseNativeJsonParams(i);let n=e.VdStandalone.extractLinkTooltips(o);if(e.isNull(n)){return}let a=t.getControllers();if(e.notNull(a)){for(let i=0;i<a.size();i++){let o=a.get(i);let r=o.getName();if(!n.containsKey(r)){continue}e.VdOrcaUiHelper.showLinkIconForVariable(o,n.getByKey(r),t.getContext())}}};e.VdStandalone.createDisplayWithJson=function(t,i,o,n){let a=e.JsonParserFactory.newInstance();let r=a.convertFromNative(o).asStructure();e.XObjectExt.release(a);return e.VdStandalone.createDisplayWithParameters(t,i,r,n)};e.VdStandalone.createDisplayWithParameters=function(t,i,o,n){let a=e.VdStandalone.createInstance(t,o);let r=e.VdVariableDialog.createAsDisplay(a.m_uiContext,a.m_vdConfig,n);a.setupController(r);let l=e.VdOrcaFacade.createFacadeDisplay(r,a.m_uiHelper,a.m_linkedVariableNames);e.XObjectExt.release(a);return l};e.VdStandalone.createInstance=function(t,i){let o=new e.VdStandalone;o.setupContext(t,i);return o};e.VdStandalone.createLinkManager=function(t,i){let o=i.getListByKey(e.VdStandalone.LINKAGE);if(!e.XCollectionUtils.hasElements(o)){return null}let n=e.OrcaLinkVarSubmitHandling.lookupWithDefault(i.getStringByKey(e.VdStandalone.LINK_VAR_SUBMIT_HANDLING));let a=t.getVariableProcessor();let r=a.getOlapEnv();let l=e.OrcaLinkVarManager.createWithController(t);if(n===e.OrcaLinkVarSubmitHandling.SUBMIT_LINKED_DIRECT){l.activateSubmitLinked()}else if(n===e.OrcaLinkVarSubmitHandling.SUBMIT_LINKED_RECURSIVE){let t=i.getStringByKey(e.VdStandalone.BW_PARALLEL_LINK_DATASET_ID_TAG);let o=i.getStringByKey(e.VdStandalone.BW_PARALLEL_LINK_SHOULD_BE_SUBMITTED_TAG);let n=i.getStringByKey(e.VdStandalone.BW_PARALLEL_LINK_REMOVE_AFTER_SUBMIT_TAG);l.activateSubmitAll(e.VdStandaloneLinkVarHelper.createHelper(t,o,n))}for(let t=0;t<o.size();t++){let i=o.getStructureAt(t);let n=i.getStringByKey(e.VdStandalone.VARIABLE_NAME);let s=a.getVariable(n);if(e.isNull(s)){continue}let u=i.getListByKey(e.VdStandalone.LINKED_VAR_PROCESSOR_ID);let m=i.getListByKey(e.VdStandalone.LINKED_VAR_NAMES);let p=e.OrcaLinkVarJoinMode.lookup(i.getStringByKey(e.VdStandalone.JOIN_MODE));if(!e.XCollectionUtils.hasElements(m)||!e.XCollectionUtils.hasElements(u)||u.size()!==m.size()||e.isNull(p)){l.setHasMissingLink(s);continue}let d=e.XList.create();for(let t=0;t<u.size();t++){let i=e.VdStandalone.findVariableProcessorById(r,u.getStringAt(t));if(e.isNull(i)){l.setHasMissingLink(s);continue}let o=i.getVariable(m.getStringAt(t));if(e.isNull(o)){l.setHasMissingLink(s);continue}d.add(o)}l.addLinks(s,d,p)}t.setExternalStateHandler(l);t.setValueHelpProcessorProvider(l);return l};e.VdStandalone.createTokenWithJson=function(t,i,o){return e.VdStandalone.createTokenWithParameters(t,i,e.VdStandalone.parseNativeJsonParams(o))};e.VdStandalone.createTokenWithParameters=function(t,i,o){let n=e.VdStandalone.createInstance(t,o);let a=e.VdVariableForm.createAsToken(n.m_uiContext,n.m_vdConfig);n.setupController(a);let r=e.VdOrcaFacade.createFacadeToken(a,n.m_uiHelper,n.m_linkedVariableNames);e.XObjectExt.release(n);return r};e.VdStandalone.createUiConfig=function(t,i,o,n){let a=e.VdValueFormat.lookup(n.getStringByKey(e.VdStandalone.START_VALUES_FORMAT));let r=e.VdOrcaUiHelperConfig.createConfig(i,o);r.setUseBottomLevelVariables(n.getBooleanByKey(e.VdStandalone.USE_BOTTOM_LEVEL_VARIABLES));r.setStoryEditable(n.getBooleanByKey(e.VdStandalone.STORY_EDITABLE));r.setReadOnly(n.getBooleanByKey(e.VdStandalone.READ_ONLY));r.setForcePrompt(n.getBooleanByKey(e.VdStandalone.FORCE_PROMPT));r.setShowVariantSection(n.getBooleanByKey(e.VdStandalone.SHOW_VARIANT_SECTION));r.setHideLevelSection(n.getBooleanByKey(e.VdStandalone.HIDE_LEVEL_SECTION));r.setHideForceSection(n.getBooleanByKey(e.VdStandalone.HIDE_FORCE_SECTION));r.setTopLevelUsingDynamicVariables(n.getBooleanByKey(e.VdStandalone.TOP_LEVEL_DYNAMIC_VARIABLES));r.setBottomLevelUsingDynamicVariables(n.getBooleanByKey(e.VdStandalone.BOTTOM_LEVEL_DYNAMIC_VARIABLES));r.setCustomStoryButtonText(n.getStringByKey(e.VdStandalone.TOP_LEVEL_TEXT));r.setDisableExit(n.getBooleanByKey(e.VdStandalone.DISABLE_EXIT));r.setDisableVariablePersistenceOptions(n.getBooleanByKey(e.VdStandalone.DISABLE_VARIABLE_PERSISTENCE_OPTIONS));r.setInfoText(n.getStringByKey(e.VdStandalone.INFO_TEXT));r.setLinkedModelsText(n.getStringByKey(e.VdStandalone.LINKED_MODELS_TEXT));r.setLinkTooltips(e.VdStandalone.extractLinkTooltips(n));let l=t.getSession().hasFeatureByName(e.OlapUiFeatureToggle.VD_ALIGN_BW_HANA_DYNAMIC_VARIABLES);let s=t.getSession().hasFeatureByName(e.OlapUiFeatureToggle.VD_REDESIGN_PHASE2);r.setAlignBwHanaDynamicVariables(s&&l);r.setShowDynamicVariableSection(n.getBooleanByKey(e.VdStandalone.SHOW_DYNAMIC_VARIABLE_SECTION));r.setShowExitVariableSection(n.getBooleanByKey(e.VdStandalone.SHOW_EXIT_VARIABLE_SECTION));r.setWidgetLevelWarnings(e.VdStandalone.extractWidgetLevelWarnings(n));let u=n.getByKey(e.VdStandalone.TOP_LEVEL_VALUES);if(e.notNull(u)){r.setTopLevelValues(a.getParser().deserialize(t,u))}let m=n.getByKey(e.VdStandalone.BOTTOM_LEVEL_VALUES);if(e.notNull(m)){r.setBottomLevelValues(a.getParser().deserialize(t,m))}return r};e.VdStandalone.createUiContext=function(t){return e.OlapUiContext.createContext(t,e.OlapUiDisplayFactory.createFactoryForDialog(t))};e.VdStandalone.createVdConfig=function(t,i,o){let n=t.getOlapEnvironment();let a=e.VdStandalone.determineTitle(i);let r=e.VdStandalone.determineVariableProcessor(i,n);let l=e.VdStandalone.determineVariablesToDisplay(i);let s=e.VdConfiguration.createConfig(a,r);let u=i.getBooleanByKeyExt(e.VdStandalone.IMPLICIT_SUBMIT,s.useImplicitSubmit());let m=i.getBooleanByKeyExt(e.VdStandalone.USE_DATEPICKER,s.useDatePicker());let p=i.getBooleanByKeyExt(e.VdStandalone.HIDE_OPERATOR_NOT_BEWEEN,s.isHidingOperatorNotBetween());let d=i.getBooleanByKeyExt(e.VdStandalone.DISABLE_TEXT_VARIABLE_INPUT,!s.isTextVariablesEnabled());let c=i.getStringByKey(e.VdStandalone.DATE_DISPLAY_FORMAT);let _=e.VdValueFormat.lookup(i.getStringByKey(e.VdStandalone.START_VALUES_FORMAT));let g=i.getByKey(e.VdStandalone.START_VALUES);s.setVariablesToDisplay(l);s.setDateDisplayFormat(c);s.setImplicitSubmit(u);s.setStartValuesJson(_,g);s.setUseDatePicker(m);s.hideOperatorNotBetween(p);s.setTextVariablesEnabled(e.isNull(o)?!d:!o.isTypeOf(e.VdOrcaLevel.WIDGET));s.setNewSettingsEnabled((e.isNull(o)||!o.isTypeOf(e.VdOrcaLevel.FILTER))&&t.getSession().hasFeatureByName(e.OlapUiFeatureToggle.VD_REDESIGN_MORE_SETTINGS));let h=e.notNull(o)&&o.isTypeOf(e.VdOrcaLevel.FILTER);let C=t.getSession().hasFeatureByName(e.OlapUiFeatureToggle.VD_REDESIGN_PHASE2);let y=t.getSession().hasFeatureByName(e.OlapUiFeatureToggle.VD_REDESIGN_PHASE2_EMBEDDED);s.setSettingsPopoverEnabled(!h&&(s.isSettingsPopoverEnabled()||C));if(h){s.setGridLayoutEnabled(y);s.setMultiInputComponentEnabled(y)}else{s.setGridLayoutEnabled(s.isGridLayoutEnabled()||C);s.setMultiInputComponentEnabled(s.isMultiInputComponentEnabled()||C)}e.VdOrcaFacade.configureVariantManagement(r,s);return s};e.VdStandalone.determineTitle=function(t){let i=t.getStringByKey(e.VdStandalone.TITLE);if(e.XStringUtils.isNullOrEmpty(i)){return"Variables"}return i};e.VdStandalone.determineVariableProcessor=function(t,i){let o=t.getStringByKey(e.VdStandalone.VARIABLE_PROCESSOR_ID);let n=e.VdStandalone.findVariableProcessorById(i,o);if(e.notNull(n)){return n}return i.getVariableProcessor()};e.VdStandalone.determineVariablesToDisplay=function(t){let i=t.getListByKey(e.VdStandalone.VARIABLE_NAMES);if(!e.XCollectionUtils.hasElements(i)){return null}let o=e.XHashSetOfString.create();for(let e=0;e<i.size();e++){o.add(i.getStringAt(e))}return o};e.VdStandalone.extractLinkTooltips=function(t){let i=e.XHashMapByString.create();let o=t.getListByKey(e.VdStandalone.LINKAGE);if(!e.XCollectionUtils.hasElements(o)){return i}for(let t=0;t<o.size();t++){let n=o.getStructureAt(t);let a=n.getStringByKey(e.VdStandalone.VARIABLE_NAME);let r=n.getListByKey(e.VdStandalone.TOOLTIP_VARIABLE);let l=n.getListByKey(e.VdStandalone.TOOLTIP_DATASET);if(e.XStringUtils.isNotNullAndNotEmpty(a)&&e.XCollectionUtils.hasElements(r)&&e.XCollectionUtils.hasElements(l)&&r.size()===l.size()){let t=e.XList.create();for(let i=0;i<r.size();i++){t.add(e.XPairOfString.create(r.getStringAt(i),l.getStringAt(i)))}i.put(a,t)}}return i};e.VdStandalone.extractWidgetLevelWarnings=function(t){let i=t.getListByKey(e.VdStandalone.WIDGET_LEVEL_WARNINGS);if(!e.XCollectionUtils.hasElements(i)){return null}let o=e.XList.create();for(let e=0;e<i.size();e++){o.add(i.getStringAt(e))}return o};e.VdStandalone.findVariableProcessorById=function(t,i){if(e.notNull(i)){let o=t.getAllAreaQueryManagerActive();for(let t=0;t<o.size();t++){let n=o.get(t);let a=n.getTagging();let r=a.getByKey(e.VdStandalone.VARIABLE_PROCESSOR_ID);if(e.XString.isEqual(r,i)){return n.getVariableProcessor()}}}return null};e.VdStandalone.parseNativeJsonParams=function(t){let i=e.JsonParserFactory.newInstance();let o=i.convertFromNative(t).asStructure();e.XObjectExt.release(i);return o};e.VdStandalone.prototype.m_level=null;e.VdStandalone.prototype.m_linkedVariableNames=null;e.VdStandalone.prototype.m_params=null;e.VdStandalone.prototype.m_scenario=null;e.VdStandalone.prototype.m_uiContext=null;e.VdStandalone.prototype.m_uiHelper=null;e.VdStandalone.prototype.m_vdConfig=null;e.VdStandalone.prototype.releaseObject=function(){this.m_uiContext=null;this.m_vdConfig=null;this.m_scenario=null;this.m_level=null;e.XObject.prototype.releaseObject.call(this)};e.VdStandalone.prototype.setupContext=function(t,i){this.m_params=i;let o=t.getUiManager();this.m_uiContext=e.VdStandalone.createUiContext(o);this.m_scenario=e.VdOrcaScenario.lookup(i.getStringByKey(e.VdStandalone.SCENARIO));this.m_level=e.VdOrcaLevel.lookup(i.getStringByKey(e.VdStandalone.LEVEL));this.m_vdConfig=e.VdStandalone.createVdConfig(t,i,this.m_level)};e.VdStandalone.prototype.setupController=function(t){let i=e.VdStandalone.createLinkManager(t,this.m_params);if(e.notNull(i)){this.m_linkedVariableNames=i.getLinkedVariableNames()}else{this.m_linkedVariableNames=e.XList.create()}let o=e.VdStandalone.createUiConfig(this.m_vdConfig.getVarProcessor(),this.m_scenario,this.m_level,this.m_params);this.m_uiHelper=e.VdOrcaUiHelper.createUiHelper(t,o)};e.VdStandaloneLinkVarHelper=function(){};e.VdStandaloneLinkVarHelper.prototype=new e.XObject;e.VdStandaloneLinkVarHelper.prototype._ff_c="VdStandaloneLinkVarHelper";e.VdStandaloneLinkVarHelper.createHelper=function(t,i,o){let n=new e.VdStandaloneLinkVarHelper;n.m_datasetIdTag=t;n.m_shouldBeSubmittedTag=i;n.m_removeAfterSubmitTag=o;return n};e.VdStandaloneLinkVarHelper.prototype.m_datasetIdTag=null;e.VdStandaloneLinkVarHelper.prototype.m_removeAfterSubmitTag=null;e.VdStandaloneLinkVarHelper.prototype.m_shouldBeSubmittedTag=null;e.VdStandaloneLinkVarHelper.prototype.applySavedValues=function(e){};e.VdStandaloneLinkVarHelper.prototype.getLinkGroupId=function(e){return e.getTagging().getByKey(this.m_datasetIdTag)};e.VdStandaloneLinkVarHelper.prototype.onAfterVariableSubmit=function(e){e.getTagging().remove(this.m_removeAfterSubmitTag)};e.VdStandaloneLinkVarHelper.prototype.shouldBeSubmitted=function(t){let i=t.getTagging();if(!i.containsKey(this.m_shouldBeSubmittedTag)){return true}return e.XBoolean.convertFromString(i.getByKey(this.m_shouldBeSubmittedTag))};e.VdUqmConstants={DESCRIPTION:"description",EMPTY_OPTION_VALUE:"empty",FORMULA_VALUE:"formulaValue",HIERARCHY_DESCRIPTION:"hierarchyDescription",HIERARCHY_DUE_DATE:"dueDate",HIERARCHY_NAME:"hierarchyName",HIERARCHY_NAME_DIMENSION:"hierarchyNameDimension",ID:"id",IS_MANDATORY:"isMandatory",LOCAL_ID:"localId",MEMBERS:"members",MEMBER_ID:"memberId",MEMBER_IDS:"memberIds",NAME:"name",OPERATOR:"operator",OPERATOR_CONTAINS:"CONTAINS",OPERATOR_GREATER:"GREATER",OPERATOR_IN:"IN",OPERATOR_LESS:"LESS",OPERATOR_NOT_IN:"NOT_IN",OPTION_NAME:"optionName",SIMPLE_TYPE_VALUES:"simpleTypeValues",TEXT_VALUE:"textValue",TYPE:"type",TYPE_DIMENSION_MEMBER:"DimensionMemberVariable",TYPE_FORMULA:"FormulaVariable",TYPE_HIERARCHY_NAME:"HierarchyNameVariable",TYPE_HIERARCHY_NODE:"HierarchyNodeVariable",TYPE_OPTION_LIST:"OptionListVariable",TYPE_SIMPLE:"SimpleTypeVariable",TYPE_TEXT:"TextVariable",VALUE_TYPE:"valueType",VALUE_TYPE_DATE:"Date",VALUE_TYPE_DATETIME:"DateTime",VALUE_TYPE_STRING:"String",VALUE_TYPE_TIME:"Time",VALUE_TYPE_UNKNOWN:"",VARIABLE_ID:"variableId"};e.CtFactory=function(){};e.CtFactory.prototype=new e.XObject;e.CtFactory.prototype._ff_c="CtFactory";e.CtFactory.createFactory=function(t){let i=new e.CtFactory;i.m_context=t;return i};e.CtFactory.prototype.m_context=null;e.CtFactory.prototype.newQCTDialogInstance=function(){return e.QctController.create(this.m_context)};e.CtOceanEntryPoint=function(){};e.CtOceanEntryPoint.prototype=new e.XObject;e.CtOceanEntryPoint.prototype._ff_c="CtOceanEntryPoint";e.CtOceanEntryPoint.createEntryPoint=function(t){let i=new e.CtOceanEntryPoint;i.setupEntryPoint(t);return i};e.CtOceanEntryPoint.prototype.m_qccController=null;e.CtOceanEntryPoint.prototype.closeQCTDialog=function(){this.m_qccController.closeDialog()};e.CtOceanEntryPoint.prototype.openQCTDialog=function(e,t,i){this.m_qccController.openDialog(e,t,i)};e.CtOceanEntryPoint.prototype.releaseObject=function(){e.XObject.prototype.releaseObject.call(this);this.m_qccController=e.XObjectExt.release(this.m_qccController)};e.CtOceanEntryPoint.prototype.setupEntryPoint=function(t){let i=t.getUiManager();let o=e.OlapUiDisplayFactory.createFactoryForDialog(i);let n=e.OlapUiContext.createContext(i,o);this.m_qccController=e.CtFactory.createFactory(n).newQCTDialogInstance()};e.OuQueryControllerContants={AUTHENTICATION_FAILED:"authenticationFailed",BW_RESOURCE_CONSTRAINTS:"bwResourceConstraints",COULD_NOT_OPEN_QUERY:"couldNotOpenQuery",INITIAL_VARIABLES_NOT_SET:"initialVariablesNotSet",VARIABLE_SUBMIT_FAILED:"variablesSubmitFailed"};e.OuMeasureInputDataProvider=function(){};e.OuMeasureInputDataProvider.prototype=new e.XObject;e.OuMeasureInputDataProvider.prototype._ff_c="OuMeasureInputDataProvider";e.OuMeasureInputDataProvider.prototype.m_queryModel=null;e.OuMeasureInputDataProvider.prototype.findMeasureByDisplayName=function(t){return e.XStream.of(this.getMeasures()).find(i=>{let o=e.XString.replace(e.XString.replace(e.QueryPresentationUtils.DESCRIPTION.getDisplayValueByType(i),"\r",""),"\n","");return e.XString.isEqual(t,o)})};e.OuMeasureInputDataProvider.prototype.findMeasureByName=function(t){return e.XStream.of(this.getMeasures()).find(i=>e.XString.isEqual(t,i.getName()))};e.OuMeasureInputDataProvider.prototype.getMeasures=function(){let t=this.getMemberDimension();if(e.isNull(t)){return e.XList.create()}let i=t.getAllStructureMembers();return e.XStream.of(i).filter(t=>t.getResultVisibility()!==e.ResultVisibility.HIDDEN).collect(e.XStreamCollector.toList())};e.OuMeasureInputDataProvider.prototype.getOptionalDimension=function(t){if(e.notNull(t)){return e.XOptional.of(t)}return e.XOptional.empty()};e.OuMeasureInputDataProvider.prototype.setupInternal=function(t){e.XObjectExt.assertNotNullExt(t,"Query model null");this.assertQueryModelType(t);this.m_queryModel=t};e.OuMeasureInputDataProviderFactory={create:function(t){if(t.isAccountModel()){return e.OuMeasureInputDataProviderAccount.create(t)}else if(t.isUniversalAccountModel()){return e.OuMeasureInputDataProviderUAM.create(t)}else if(t.getDimensionByType(e.DimensionType.ACCOUNT)===null){return e.OuMeasureInputDataProviderMeasureModel.create(t)}else{throw e.XException.createIllegalStateException("query model not supported")}}};e.UiConvenienceCmdsMenuFactory=function(){};e.UiConvenienceCmdsMenuFactory.prototype=new e.XObject;e.UiConvenienceCmdsMenuFactory.prototype._ff_c="UiConvenienceCmdsMenuFactory";e.UiConvenienceCmdsMenuFactory.prototype.newInstance=function(){return e.UiConvenienceCmdsMenu.create()};e.UiRedoButtonFactory=function(){};e.UiRedoButtonFactory.prototype=new e.XObject;e.UiRedoButtonFactory.prototype._ff_c="UiRedoButtonFactory";e.UiRedoButtonFactory.prototype.newInstance=function(){return e.UiRedoButton.create()};e.UiUndoButtonFactory=function(){};e.UiUndoButtonFactory.prototype=new e.XObject;e.UiUndoButtonFactory.prototype._ff_c="UiUndoButtonFactory";e.UiUndoButtonFactory.prototype.newInstance=function(){return e.UiUndoButton.create()};e.DialogGridParser={DEFAULT_SEPARATOR_SYMBOLS:null,NEW_LINE_SYMBOL:"\n",TAB_SYMBOL:"\t",convertFromExcel:function(t){let i=e.XStringUtils.concatenate2(e.DialogGridFormat.SEMICOLON.getSeparatorSymbol(),e.DialogGridFormat.SEMICOLON.getDecoratorSymbol());return e.XString.replace(t,e.DialogGridParser.TAB_SYMBOL,i)},convertToExcel:function(t){let i=e.XString.replace(e.DialogGridParser.removeSeparatorSpaces(t),e.DialogGridFormat.SEMICOLON.getSeparatorSymbol(),e.DialogGridParser.TAB_SYMBOL);i=e.XString.replace(i,e.DialogGridFormat.COMMA.getSeparatorSymbol(),e.DialogGridParser.TAB_SYMBOL);return i},deserialize:function(t,i){let o=e.XList.create();if(e.XStringUtils.isNullOrEmpty(i)){return o}let n=0;let a=e.XString.size(i);while(n<a){let r=a;let l=e.XString.indexOfFrom(i,e.DialogGridParser.NEW_LINE_SYMBOL,n);if(l!==-1){r=l}let s=e.XList.create();while(n<r){let o=r;for(let a=0;a<t.size();a++){let r=e.XString.indexOfFrom(i,t.get(a),n);if(r!==-1){o=e.XMath.min(o,r)}}let a=e.XString.trim(e.XString.substring(i,n,o));if(e.XStringUtils.isNotNullAndNotEmpty(a)){s.add(a)}n=o+1}o.add(s);n=r+1}return o},deserializeWithDefault:function(t){return e.DialogGridParser.deserialize(e.DialogGridParser.DEFAULT_SEPARATOR_SYMBOLS,t)},removeSeparatorSpaces:function(t){if(e.XStringUtils.isNullOrEmpty(t)){return""}let i=e.XStringBuffer.create();i.append(t);let o=e.DialogGridParser.DEFAULT_SEPARATOR_SYMBOLS;for(let t=0;t<o.size();t++){let n=o.get(t);let a=i.toString();let r=0;let l=e.XString.size(a);i.clear();while(r<l){let t=e.XString.indexOfFrom(a,n,r);if(t!==-1){let o=e.XString.trim(e.XString.substring(a,r,t));i.append(o);i.append(n);r=t+1}else{i.append(e.XString.trim(e.XString.substring(a,r,l)));r=l}}}return i.toString()},serialize:function(t,i,o){let n=e.XStringBuffer.create();let a=o.size();for(let r=0;r<a;r++){let l=o.get(r);let s=l.size();for(let e=0;e<s;e++){n.append(l.get(e));if(e+1<s){n.append(t).append(i)}}if(r+1<a){n.append(e.DialogGridParser.NEW_LINE_SYMBOL)}}return n.toString()},serializeWithFormat:function(t,i){return e.DialogGridParser.serialize(t.getSeparatorSymbol(),t.getDecoratorSymbol(),i)},staticSetup:function(){e.DialogGridParser.DEFAULT_SEPARATOR_SYMBOLS=e.XList.create();e.DialogGridParser.DEFAULT_SEPARATOR_SYMBOLS.add(e.DialogGridFormat.COMMA.getSeparatorSymbol());e.DialogGridParser.DEFAULT_SEPARATOR_SYMBOLS.add(e.DialogGridFormat.SEMICOLON.getSeparatorSymbol());e.DialogGridParser.DEFAULT_SEPARATOR_SYMBOLS.add(e.DialogGridFormat.EXCEL.getSeparatorSymbol())}};e.OlapUiContext=function(){};e.OlapUiContext.prototype=new e.XObject;e.OlapUiContext.prototype._ff_c="OlapUiContext";e.OlapUiContext.createContext=function(t,i){let o=new e.OlapUiContext;o.setupContext(t,i);return o};e.OlapUiContext.createWithOtherContext=function(t,i){let o=new e.OlapUiContext;o.setupWithOtherContext(t,i);return o};e.OlapUiContext.prototype.m_cbController=null;e.OlapUiContext.prototype.m_cmtController=null;e.OlapUiContext.prototype.m_cmtFactory=null;e.OlapUiContext.prototype.m_displayFactory=null;e.OlapUiContext.prototype.m_messagePoster=null;e.OlapUiContext.prototype.m_uiManager=null;e.OlapUiContext.prototype.m_vpController=null;e.OlapUiContext.prototype.m_vpFactory=null;e.OlapUiContext.prototype.getClipboardController=function(){if(e.isNull(this.m_cbController)){this.m_cbController=e.CbController.create(this.m_uiManager)}return this.m_cbController};e.OlapUiContext.prototype.getCommentingController=function(){if(e.isNull(this.m_cmtController)){this.m_cmtController=this.m_cmtFactory.newCommentingDialogInstance()}return this.m_cmtController};e.OlapUiContext.prototype.getCommentingDialogFactory=function(){return this.m_cmtFactory};e.OlapUiContext.prototype.getDeviceInfo=function(){return this.m_uiManager.getDeviceInfo()};e.OlapUiContext.prototype.getDisplayFactory=function(){return this.m_displayFactory};e.OlapUiContext.prototype.getMessageCenter=function(){return this.m_messagePoster};e.OlapUiContext.prototype.getUiManager=function(){return this.m_uiManager};e.OlapUiContext.prototype.getVariantController=function(){if(e.isNull(this.m_vpController)){this.m_vpController=this.m_vpFactory.newVariantPopupInstance()}return this.m_vpController};e.OlapUiContext.prototype.releaseObject=function(){this.m_uiManager=null;this.m_displayFactory=null;this.m_cmtFactory=e.XObjectExt.release(this.m_cmtFactory);this.m_vpFactory=e.XObjectExt.release(this.m_vpFactory);this.m_cbController=e.XObjectExt.release(this.m_cbController);this.m_vpController=e.XObjectExt.release(this.m_vpController);this.m_messagePoster=null;e.XObject.prototype.releaseObject.call(this)};e.OlapUiContext.prototype.setCommentingDialogFactory=function(e){this.m_cmtFactory=e};e.OlapUiContext.prototype.setVariantPopupFactory=function(e){this.m_vpFactory=e};e.OlapUiContext.prototype.setupContext=function(t,i){this.m_uiManager=t;this.m_displayFactory=i;this.m_messagePoster=e.UiMessageCenter.createMessageCenter(t);this.setupFactories()};e.OlapUiContext.prototype.setupFactories=function(){this.m_cmtFactory=e.CmtFactory.createFactory(this);this.m_vpFactory=e.VdVariantManagerFactory.createFactory(this)};e.OlapUiContext.prototype.setupWithOtherContext=function(t,i){this.m_uiManager=t.getUiManager();this.m_displayFactory=i;this.m_messagePoster=e.UiMessageCenter.createMessageCenter(t.getUiManager());this.setupFactories()};e.OlapUiDimensionUtil={getMember:function(t){if(!e.OlapUiDimensionUtil.isMember(t)){return null}let i=e.OlapUiDimensionUtil.getMemberNode(t);if(e.notNull(i)){return i.getDimensionMember()}return t},getMemberNode:function(t){if(e.notNull(t)&&t.getOlapComponentType().isTypeOf(e.MemberType.TUPLE_ELEMENT)){return t}return null},isAttribute:function(t){return e.notNull(t)&&!t.isReleased()&&t.getOlapComponentType().isTypeOf(e.OlapComponentType.ATTRIBUTE)},isDimension:function(t){return e.notNull(t)&&!t.isReleased()&&t.getOlapComponentType().isTypeOf(e.OlapComponentType.ABSTRACT_DIMENSION)},isMember:function(t){return e.notNull(t)&&!t.isReleased()&&t.getOlapComponentType().isTypeOf(e.MemberType.ABSTRACT_MEMBER)&&t.getDimension()!==null},isMemberNode:function(t){return e.notNull(t)&&!t.isReleased()&&t.getOlapComponentType().isTypeOf(e.MemberType.TUPLE_ELEMENT)}};e.OlapUiFeatureToggle={DATA_ANALYZER_LAST_SAVED_VALUES:"Sac.FF_DATA_ANALYZER_LAST_SAVED_VALUES",DATA_ANALYZER_STORY_LINKAGE_V1:"Sac.FF_DATA_ANALYZER_STORY_LINKAGE_V1",DRAGONFLY_WORKSPACES_MODEL_ALLOWED:"Sac.FF_DRAGONFLY_WORKSPACES",MA_SUPPORT_BI_USER:"Sac.MULTI_ACTIONS_SUPPORT_BI_USER",MEMBERSELECTOR_STORY_FILTER_OPTIMIZATION_FOR_DESKTOP:"Sac.ABSTRACTION_API_MEMBERSELECTOR_STORY_FILTER_OPTIMIZATION_FOR_DESKTOP",VD_ALIGN_BW_HANA_DYNAMIC_VARIABLES:"Sac.FF_VARIABLE_DIALOG_ALIGN_BW_HANA_DYNAMIC_VARIABLES",VD_REDESIGN_MORE_SETTINGS:"Sac.FF_VARIABLE_DIALOG_REDESIGN_MORE_SETTINGS",VD_REDESIGN_PHASE2:"Sac.FF_VARIABLE_DIALOG_REDESIGN_PHASE2",VD_REDESIGN_PHASE2_EMBEDDED:"Sac.FF_VARIABLE_DIALOG_REDESIGN_PHASE2_EMBEDDED"};e.OlapUiMultiRequestHelper=function(){};e.OlapUiMultiRequestHelper.prototype=new e.XObject;e.OlapUiMultiRequestHelper.prototype._ff_c="OlapUiMultiRequestHelper";e.OlapUiMultiRequestHelper.createRequestHelper=function(t,i){let o=new e.OlapUiMultiRequestHelper;o.setupHelper(t,i);return o};e.OlapUiMultiRequestHelper.prototype.m_callbackCount=0;e.OlapUiMultiRequestHelper.prototype.m_errorResult=null;e.OlapUiMultiRequestHelper.prototype.m_inStartup=false;e.OlapUiMultiRequestHelper.prototype.m_originalListener=null;e.OlapUiMultiRequestHelper.prototype.m_originalObject=null;e.OlapUiMultiRequestHelper.prototype.m_requestCount=0;e.OlapUiMultiRequestHelper.prototype.finishProgress=function(){this.m_inStartup=false};e.OlapUiMultiRequestHelper.prototype.getErrorResult=function(){return this.m_errorResult};e.OlapUiMultiRequestHelper.prototype.getOriginalListener=function(){return this.m_originalListener};e.OlapUiMultiRequestHelper.prototype.getOriginalObject=function(){return this.m_originalObject};e.OlapUiMultiRequestHelper.prototype.getRequestCount=function(){return this.m_requestCount};e.OlapUiMultiRequestHelper.prototype.increaseCallbackCount=function(){this.m_callbackCount=this.m_callbackCount+1};e.OlapUiMultiRequestHelper.prototype.increaseRequestCount=function(){this.m_requestCount=this.m_requestCount+1};e.OlapUiMultiRequestHelper.prototype.isDone=function(){return!this.isInStartup()&&this.m_callbackCount>=this.m_requestCount};e.OlapUiMultiRequestHelper.prototype.isInStartup=function(){return this.m_inStartup};e.OlapUiMultiRequestHelper.prototype.releaseObject=function(){this.m_originalListener=null;this.m_originalObject=null;this.m_errorResult=null;e.XObject.prototype.releaseObject.call(this)};e.OlapUiMultiRequestHelper.prototype.setErrorResult=function(e){this.m_errorResult=e};e.OlapUiMultiRequestHelper.prototype.setupHelper=function(e,t){this.m_originalListener=e;this.m_originalObject=t;this.m_inStartup=true};e.OlapUiValueHelpNodeComparator=function(){};e.OlapUiValueHelpNodeComparator.prototype=new e.XObject;e.OlapUiValueHelpNodeComparator.prototype._ff_c="OlapUiValueHelpNodeComparator";e.OlapUiValueHelpNodeComparator.create=function(t){let i=new e.OlapUiValueHelpNodeComparator;i.m_isHierarchy=t;return i};e.OlapUiValueHelpNodeComparator.prototype.m_isHierarchy=false;e.OlapUiValueHelpNodeComparator.prototype.compare=function(t,i){let o=this.getKeyFieldValue(t).getValue();let n=this.getKeyFieldValue(i).getValue();if(o.getValueType().isNumber()){let t=e.XConverterUtils.getDouble(o)-e.XConverterUtils.getDouble(n);return t<0?-1:t>0?1:0}return e.XString.compare(o.getStringRepresentation(),n.getStringRepresentation())};e.OlapUiValueHelpNodeComparator.prototype.getKeyFieldValue=function(e){let t=this.m_isHierarchy?e.getDimension().getHierarchyKeyField():e.getDimension().getFlatKeyField();return e.getDimensionMember().getFieldValue(t)};e.OlapUiMessageCenter={getInaErrorCode:function(t){if(e.notNull(t)){let i=t.getFirstError();if(e.notNull(i)){return i.getCode()}}return 0},getInaErrorMessage:function(t,i){if(e.notNull(t)&&t.getServerStatusCode()===e.HttpStatusCode.SC_OK){let i=t.getFirstError();if(e.notNull(i)&&e.XStringUtils.isNotNullAndNotEmpty(i.getText())){return i.getText()}}return i}};e.QueryDesignerUtils={canBeAggregated:function(t){let i=t.getDimensionType();if(i.isTypeOf(e.DimensionType.CALCULATED_DIMENSION)){return true}if(t.getModelCapabilities().supportsCustomDimension2MemberMetadata()&&t.isStructure()&&!t.isMeasureStructure()){return true}let o=t.getQueryModel().getVersionDimension()===t;let n=i.isTypeOf(e.DimensionType.SECONDARY_STRUCTURE);return t.canBeAggregated()&&!o&&!n},canBeRemoved:function(t){if(!e.QueryDesignerUtils.canBeAggregated(t)){let e=t.getConvenienceCommands().getMemberVisibilityByFilter(t);let i=e.getFirstObject();return i.size()===1}return true},createFilterFromLists:function(t,i,o){t.getQueryManager().queueEventing();let n=t.getQueryModel().getFilter().getDynamicFilter();let a=n.getCartesianProduct();if(e.isNull(a)){a=e.QFactory.createFilterCartesianProduct(n);n.setCartesianProduct(a)}a.removeByDimensionName(t.getName());let r=a.getCartesianListWithDefault(t);r.setHierarchyInfo(t.isHierarchyActive()?t.getHierarchyName():null,t.getHierarchyDueDate(),t.getHierarchyVersion());for(let o=0;o<i.size();o++){let n=r.addNewCartesianElement();n.setComparisonOperator(e.ComparisonOperator.EQUAL);n.getLow().setDimensionMember(t.getDimensionMember(i.get(o)))}for(let i=0;i<o.size();i++){let n=r.addNewCartesianElement();n.setComparisonOperator(e.ComparisonOperator.EQUAL);n.setSetSign(e.SetSign.EXCLUDING);n.getLow().setDimensionMember(t.getDimensionMember(o.get(i)))}t.getQueryManager().resumeEventing()},getMembersOfDimensions:function(t){let i=e.XHashMapByString.create();let o=e.XPromiseList.create();for(let n=0;n<t.size();n++){let a=t.get(n);o.add(a.getMemberManager().getMembers());i.put(a.getName(),e.XListOfNameObject.create())}return e.XPromise.allSettled(o).then(t=>{for(let n=0;n<t.size();n++){if(o.get(n).getState()===e.XPromiseState.FULFILLED){let o=t.get(n);let a=o.getValue();if(e.XCollectionUtils.hasElements(a)){i.put(a.get(0).getDimension().getName(),a)}}}return i},null)},getOppositeAxis:function(t){return t===e.AxisType.ROWS?e.AxisType.COLUMNS:e.AxisType.ROWS},getStructureDimensions:function(t){let i=t.getMeasureDimension();let o=t.getDimensionByType(e.DimensionType.SECONDARY_STRUCTURE);let n=t.getAccountDimension();let a=e.XList.create();e.XCollectionUtils.addIfNotNull(a,i);e.XCollectionUtils.addIfNotNull(a,o);e.XCollectionUtils.addIfNotNull(a,n);return a},openSingleMemberFilterDialog:function(t,i,o,n){let a=e.FilterDialogProgramRunnerFactory.createForDimensionFilter(t.getProcess(),o.getQueryManager(),o.getName(),i);let r=e.PrFactory.createStructure();r.putBoolean(e.FilterDialog.PARAM_SELECTION_REQUIRED,true);a.setConfigStructure(r);a.getProgramStartData().putXObject(e.FilterDialog.PRG_DATA_LISTENER_CLOSE,n);a.runProgram()},removeDimension:function(t){if(!t.supportsAxis(e.AxisType.FREE)){return}if(e.QueryDesignerUtils.canBeRemoved(t)){e.QueryDesignerUtils.removeDimensionInternal(t)}},removeDimensionInternal:function(e){let t=e.getConvenienceCommands();t.clearNonMainFieldsFromResultSet(null,e.getName());t.moveDimensionToFree(e.getName());t.removeInvalidSortOperations()},setFilterForDimension:function(t,i,o){let n=e.XList.create();if(i.size()===o.size()){e.QueryDesignerUtils.createFilterFromLists(t,n,n);return}if(o.size()===0){let o=e.XStream.of(i).collect(e.XStreamCollector.toListOfString(e=>e.getDimensionMember().getName()));e.QueryDesignerUtils.createFilterFromLists(t,n,o);return}o.sortByDirection(e.XSortDirection.ASCENDING);if(!t.isHierarchyActive()){e.QueryDesignerUtils.setFilterForDimensionFlat(t,i,o)}else{let n=e.XList.create();let a=e.XList.create();for(let t=0;t<i.size();t++){let r=i.get(t);if(r.getParentNode()!==null){continue}let l=false;if(o.containsKey(r.getDimensionMember().getName())){l=true;n.add(r.getDimensionMember().getName())}e.QueryDesignerUtils.setFilterForDimensionHierarchical(r.getChildren(),o,n,a,l)}e.QueryDesignerUtils.createFilterFromLists(t,n,a)}},setFilterForDimensionFlat:function(t,i,o){let n=e.XList.create();let a=e.XList.create();let r=o.size()<=i.size()/2;if(r){e.XCollectionUtils.forEach(o,e=>{n.add(e.getName())})}else{for(let e=0;e<i.size();e++){let t=i.get(e);if(!o.containsKey(t.getDimensionMember().getName())){a.add(t.getDimensionMember().getName())}}}e.QueryDesignerUtils.createFilterFromLists(t,n,a)},setFilterForDimensionHierarchical:function(t,i,o,n,a){if(!e.XCollectionUtils.hasElements(t)){return}for(let r=0;r<t.size();r++){let l=t.get(r);let s=i.contains(l);if(!a&&s){o.add(l.getDimensionMember().getName())}else if(a&&!s){n.add(l.getDimensionMember().getName())}e.QueryDesignerUtils.setFilterForDimensionHierarchical(l.getChildren(),i,o,n,s)}},setMemberOrder:function(t,i){let o=e.XStream.of(i).collect(e.XStreamCollector.toListOfString(e=>e.getDimensionMember().getName()));let n=t.getQueryModel().getSortingManager();n.removeDimensionSorting(t);n.removeFieldSorting(t.getKeyField());n.applyCustomSort(t,t.getKeyField(),o,e.XSortDirection.ASCENDING,e.CustomSortPosition.TOP,true)},supportsMemberSort:function(e){let t=e.getModelCapabilities();return t.supportsCustomSort()||t.supportsCustomMeasureSortOrder()&&e.isMeasureStructure()||t.supportsCustomMemberKeySortOrder()&&!e.isMeasureStructure()||t.supportsCustomSortingExtended()&&e.isStructure()}};e.OlapUiDisplayFactory=function(){};e.OlapUiDisplayFactory.prototype=new e.XObject;e.OlapUiDisplayFactory.prototype._ff_c="OlapUiDisplayFactory";e.OlapUiDisplayFactory.createFactoryForDialog=function(t){let i=new e.OlapUiDisplayFactory;i.setupFactory(e.DialogDisplayMode.DIALOG,t,null,null);return i};e.OlapUiDisplayFactory.createFactoryForNavigation=function(t,i){let o=new e.OlapUiDisplayFactory;o.setupFactory(e.DialogDisplayMode.NAVIGATION,t,i,null);return o};e.OlapUiDisplayFactory.createFactoryForPage=function(t){let i=new e.OlapUiDisplayFactory;i.setupFactory(e.DialogDisplayMode.PAGE,null,null,t);return i};e.OlapUiDisplayFactory.prototype.m_container=null;e.OlapUiDisplayFactory.prototype.m_mode=null;e.OlapUiDisplayFactory.prototype.m_page=null;e.OlapUiDisplayFactory.prototype.m_uiManager=null;e.OlapUiDisplayFactory.prototype.getInstance=function(){if(this.m_mode===e.DialogDisplayMode.NAVIGATION){let t=this.m_container.pushNewPage();return e.OlapUiNavigationHandle.createNavigationHandle(this.m_container,t)}if(this.m_mode===e.DialogDisplayMode.PAGE){return e.OlapUiPageHandle.createPageHandle(this.m_page)}return e.OlapUiDialogHandle.createDialogHandle(this.m_uiManager.newControl(e.UiType.DIALOG))};e.OlapUiDisplayFactory.prototype.releaseObject=function(){this.m_mode=null;this.m_uiManager=null;this.m_container=e.XObjectExt.release(this.m_container);this.m_page=null;e.XObject.prototype.releaseObject.call(this)};e.OlapUiDisplayFactory.prototype.setupFactory=function(t,i,o,n){this.m_mode=t;this.m_uiManager=i;if(t===e.DialogDisplayMode.NAVIGATION){if(e.notNull(this.m_uiManager)){this.m_container=this.m_uiManager.newControl(e.UiType.NAVIGATION_CONTAINER);this.m_container.useMaxSpace();o.setRoot(this.m_container)}}if(t===e.DialogDisplayMode.PAGE){this.m_page=n}};e.ComplexFilterApplicationUtil={LAYER_COMPLEX_FILTER_MISC:"MiscComplexFilter",clearComplexContextFilter:function(t){let i=e.isNull(t)?null:t.getFilter();if(e.notNull(i)){i.linkFilter(e.ComplexFilterApplicationUtil.LAYER_COMPLEX_FILTER_MISC,null)}},getOrCreateUnbalancedTupleFilter:function(t,i){let o=e.isNull(t)?null:t.getFilter();let n=null;if(e.notNull(o)){let a=o.getLinkedFilter(e.ComplexFilterApplicationUtil.LAYER_COMPLEX_FILTER_MISC);if(e.isNull(a)){a=e.QFactory.createFilterExpression(t.getContext(),o);a.setPreserveOnRepoSerialization(true);o.linkFilter(e.ComplexFilterApplicationUtil.LAYER_COMPLEX_FILTER_MISC,a)}let r=a.getFilterRootElement();if(i===e.SetSign.INCLUDING){if(e.notNull(r)&&r.getOlapComponentType()===e.FilterComponentType.OR){n=r;n.clear()}else{n=e.QFactory.createFilterOr(t);a.setComplexRoot(n)}}else{if(e.notNull(r)&&r.getOlapComponentType()===e.FilterComponentType.NOT){let t=r.getChild();if(e.notNull(t)&&t.getOlapComponentType()===e.FilterComponentType.OR){n=t;n.clear()}}else{let i=e.QFactory.createFilterNot(t);n=e.QFactory.createFilterOr(t);i.setChild(n);a.setComplexRoot(i)}}}return n},setupComplexContextFilter:function(t,i,o){let n=e.ComplexFilterApplicationUtil.getOrCreateUnbalancedTupleFilter(t,o);for(let o=0;o<i.size();o++){let a=i.get(o);let r=a.getFirstTuple();let l=e.QFactory.createFilterAnd(t);for(let i=0;i<r.size();i++){let o=r.getTupleElementAt(i);let n=o.getDimension();if(!n.isStructure()){let i=e.QFactory.createFilterOperation(t.getContext(),n.getKeyField());i.setConvertToFlatFilter(true);if(n.isHierarchyActive()){i.setHierarchyInfo(n.getHierarchyName(),n.getHierarchyDueDate(),n.getHierarchyVersion())}let a=o.getDimensionMember();i.getLow().setDimensionMember(a);let r=a.getDimensionMemberNameValueException()===e.ValueException.NULL_VALUE;i.setComparisonOperator(r?e.ComparisonOperator.IS_NULL:e.ComparisonOperator.EQUAL);l.add(i)}if(o===a){break}}n.add(l)}}};e.ComplexFilterSeparationUtil={LAYER_CARTESIAN_FILTER_INTERSECT:"CartesianFilterIntersect",LAYER_COMPLEX_FILTER_MISC:"MiscComplexFilter",areCartesianElementsMatching:function(t,i){return t.getComparisonOperator()===i.getComparisonOperator()&&e.XString.isEqual(t.getFieldMetadata().getName(),i.getFieldMetadata().getName())&&t.getSetSign()===i.getSetSign()&&e.ComplexFilterSeparationUtil.areFilterBagsMatching(t.getLow(),i.getLow())&&e.ComplexFilterSeparationUtil.areFilterBagsMatching(t.getHigh(),i.getHigh())&&e.ComplexFilterSeparationUtil.areFilterBagsMatching(t.getThird(),i.getThird())},areFilterBagsMatching:function(t,i){return t===i||e.notNull(t)&&e.notNull(i)&&e.XString.isEqual(e.XValueUtil.getString(t.getValue()),e.XValueUtil.getString(i.getValue()))},areListElementsMatching:function(t,i){return e.XStream.of(t).allMatch(t=>e.XStream.of(i).anyMatch(i=>e.ComplexFilterSeparationUtil.areCartesianElementsMatching(t,i)))},determineRedundantCartesianLists:function(t){let i=e.XList.create();let o=t.size();for(let n=0;n<o;n++){let a=t.get(n);for(let r=n+1;r<o;r++){let o=t.get(r);let n=e.ComplexFilterSeparationUtil.getIndexOfRedundantCartesianList(a,o);if(n===0){i.add(a)}else if(n===1){i.add(o)}}}return i},extractTupleFilter:function(t,i){let o=e.QFactory.createFilterAnd(i);for(let n=0;n<t.size();n++){let a=t.get(n);let r=a.getComponentType();let l;if(r===e.FilterComponentType.OPERATION){let t=a;l=e.QFactory.createFilterOperation(i,t.getField());l.copyFrom(t,null);o.add(l)}else if(r===e.FilterComponentType.CARTESIAN_LIST&&a.size()===1){let t=a;l=e.QFactory.createFilterOperation(i,t.getField());l.copyFrom(t.getCartesianElement(0),null);if(t.getFieldMetadata()!==null){l.setFieldMetadata(t.getFieldMetadata())}if(t.getHierarchyName()!==null){l.setHierarchyName(t.getHierarchyName())}if(t.getHierarchyDueDate()!==null){l.setHierarchyDueDate(t.getHierarchyDueDate())}if(t.getHierarchyVersion()!==null){l.setHierarchyVersion(t.getHierarchyVersion())}if(t.isConvertToFlatFilter()){l.setConvertToFlatFilter(true)}o.add(l)}else{o=null;break}}return o},extractTupleFilters:function(t,i){let o=e.QFactory.createFilterOr(i);let n=null;for(let a=0;a<t.size();a++){let r=t.get(a);if(r.getComponentType()!==e.FilterComponentType.AND){o=null;break}let l=e.ComplexFilterSeparationUtil.extractTupleFilter(r,i);if(e.isNull(l)){o=null;break}if(a===0){n=e.XStream.of(l).map(e=>e.getDimension()).collect(e.XStreamCollector.toSetOfNameObject())}else if(!e.XObjectExt.areEqual(n,e.XStream.of(l).map(e=>e.getDimension()).collect(e.XStreamCollector.toSetOfNameObject()))){o=null;break}o.add(l)}return o},findTupleFilterElements:function(t,i,o,n,a){let r=i.getOlapComponentType();if(r===e.FilterComponentType.AND){e.ComplexFilterSeparationUtil.findTupleFilterInAndRecursively(t,i,o,n)}else if(r===e.FilterComponentType.OR){let r=e.ComplexFilterSeparationUtil.extractTupleFilters(i,o);if(e.notNull(r)){t.add(r);if(n){a.add(i)}}}else if(r===e.FilterComponentType.NOT&&i.getChild().getComponentType()===e.FilterComponentType.OR){let r=e.ComplexFilterSeparationUtil.extractTupleFilters(i.getChild(),o);if(e.notNull(r)){let l=e.QFactory.createFilterNot(o);l.setChild(r);t.add(l);if(n){a.add(i)}}}},findTupleFilterInAndRecursively:function(t,i,o,n){let a=e.XList.create();for(let r=0;r<i.size();r++){let l=i.get(r);e.ComplexFilterSeparationUtil.findTupleFilterElements(t,l,o,n,a)}e.XStream.of(a).forEach(e=>{i.removeElement(e)})},getIndexOfRedundantCartesianList:function(t,i){let o=e.XString.isEqual(t.getFieldMetadata().getName(),i.getFieldMetadata().getName())&&t.size()===i.size()&&e.XString.isEqual(t.getHierarchyName(),i.getHierarchyName())&&e.XString.isEqual(t.getHierarchyVersion(),i.getHierarchyVersion())&&t.getHierarchyDueDate()===i.getHierarchyDueDate()&&e.ComplexFilterSeparationUtil.areListElementsMatching(t,i)&&e.ComplexFilterSeparationUtil.areListElementsMatching(i,t);let n;if(!o){n=-1}else if(t.isConvertToFlatFilter()){n=0}else{n=1}return n},getIntersectedFiltersForDimension:function(t,i){return e.XStream.of(t).map(e=>e).filter(t=>e.XString.isEqual(t.getDimensionName(),i)).collect(e.XStreamCollector.toList())},getIsolatedCartesianIntersectFilterByDimension:function(t,i){return e.isNull(i)?null:e.ComplexFilterSeparationUtil.getIsolatedCartesianIntersectFilters(t).getByKey(i.getName())},getIsolatedCartesianIntersectFilters:function(t){let i=e.XHashMapByString.create();let o=e.isNull(t)?null:t.getFilter();if(e.notNull(o)){let t=o.getLinkedFilters();let n=t.getKeysAsIterator();while(n.hasNext()){let o=n.next();if(e.XString.startsWith(o,e.XStringUtils.concatenate2(e.ComplexFilterSeparationUtil.LAYER_CARTESIAN_FILTER_INTERSECT,"_"))){i.put(e.XString.substring(o,e.XString.size(e.ComplexFilterSeparationUtil.LAYER_CARTESIAN_FILTER_INTERSECT)+1,e.XString.size(o)),t.getByKey(o).getFilterRootElement())}}}return i},getIsolatedComplexFilter:function(t,i){let o=e.isNull(t)?null:t.getFilter();let n=null;if(e.notNull(o)){n=o.getLinkedFilter(e.ComplexFilterSeparationUtil.LAYER_COMPLEX_FILTER_MISC);if(e.isNull(n)&&i){n=e.QFactory.createFilterExpression(t.getContext(),o);n.setPreserveOnRepoSerialization(true);o.linkFilter(e.ComplexFilterSeparationUtil.LAYER_COMPLEX_FILTER_MISC,n)}}return n},isComplexButNotAnd:function(t){let i=false;let o=t.getComponentType();if(o===e.FilterComponentType.OR){i=e.ComplexFilterSeparationUtil.isOrFilterComplex(t)}else if(o===e.FilterComponentType.OPERATION){i=e.ComplexFilterSeparationUtil.isOperationComplex(t)}else if(o!==e.FilterComponentType.CARTESIAN_PRODUCT&&o!==e.FilterComponentType.CARTESIAN_LIST&&o!==e.FilterComponentType.AND){i=true}return i},isOperationComplex:function(t){return t.getComparisonOperator().isTypeOf(e.SpatialComparisonOperator._SPATIAL)},isOrFilterComplex:function(t){let i=false;let o=null;let n=t.size();let a=null;for(let r=0;r<n;r++){let n=t.get(r);let l=n.getComponentType();if(l.isTypeOf(e.FilterComponentType.OPERATION)){let t=n;if(r===0){a=t.getSetSign()}else if(a!==t.getSetSign()){i=true;break}if(t.getComparisonOperator().isTypeOf(e.SpatialComparisonOperator._SPATIAL)){i=true;break}if(e.isNull(o)){o=t.getDimensionName()}else if(!e.XString.isEqual(o,t.getDimensionName())){i=true;break}}else if(l.isTypeOf(e.FilterComponentType.CARTESIAN_LIST)){let t=n;if(r===0){a=t.getCartesianElement(0).getSetSign()}else if(a!==t.getCartesianElement(0).getSetSign()){i=true;break}if(e.isNull(o)){o=t.getDimensionName()}else if(!e.XString.isEqual(o,t.getDimensionName())){i=true;break}}else{i=true;break}}return i},isolateCartesianFilterIntersectsIntoSeparateLayers:function(t,i){let o=t.getFilter();let n=o.getDynamicFilter();if(n.isComplexFilter()){let a=n.getDimensionsUsedInFilter();let r=e.QFilterUtil.convertComplexFilterToCartesianExt(n.getComplexRoot(),true);if(e.notNull(r)){if(a.size()!==r.size()){let n=a.getIterator();while(n.hasNext()){let a=n.next();let l=e.ComplexFilterSeparationUtil.getIntersectedFiltersForDimension(r,a);if(i){let t=e.ComplexFilterSeparationUtil.determineRedundantCartesianLists(l);e.XStream.of(t).forEach(e=>{l.removeElement(e);r.removeElement(e)});e.XStream.of(l).filter(t=>!e.XCollectionUtils.hasElements(t)).forEach(e=>{l.removeElement(e)})}if(l.size()>1){let i=e.QFactory.createFilterExpression(t.getContext(),o);i.setPreserveOnRepoSerialization(true);let n=e.QFactory.createFilterAnd(t.getContext());e.XStream.of(l).forEach(i=>{r.removeElement(i);let o=e.QFactory.createFilterCartesianList(t.getContext());o.copyFrom(i,null);n.add(o)});i.setComplexRoot(n);o.linkFilter(e.XStringUtils.concatenate3(e.ComplexFilterSeparationUtil.LAYER_CARTESIAN_FILTER_INTERSECT,"_",a),i)}}}n.setCartesianProduct(r)}}},isolateComplexFilters:function(t){let i=t.getFilter();let o=i.getDynamicFilter();let n=o.getComplexRoot();if(e.notNull(n)){let a=e.XList.create();let r=e.XList.create();let l=n.getComponentType();if(l===e.FilterComponentType.AND||e.ComplexFilterSeparationUtil.isComplexButNotAnd(n)){let s=e.QFactory.createFilterExpression(t.getContext(),i);if(l===e.FilterComponentType.AND){e.ComplexFilterSeparationUtil.separateComplexFiltersFromAnd(n,a,r,s)}else if(l===e.FilterComponentType.FILTER_MEASURE_BASED){o.setComplexRoot(null);r.add(n)}else{o.setComplexRoot(null);a.add(e.QFilterUtil.createFilterElementFromOrigin(n,s))}if(e.XCollectionUtils.hasElements(a)){s.setPreserveOnRepoSerialization(true);if(a.size()>1){let i=e.QFactory.createFilterAnd(t.getContext());e.XStream.of(a).forEach(e=>{i.add(e)});s.setComplexRoot(i)}else{s.setComplexRoot(a.get(0))}i.linkFilter(e.ComplexFilterSeparationUtil.LAYER_COMPLEX_FILTER_MISC,s)}if(e.XCollectionUtils.hasElements(r)){e.XStream.of(r).forEach(o=>{let n=e.QFactory.createFilterExpression(t.getContext(),i);n.setPreserveOnRepoSerialization(true);let a=e.QFactory.createFilterMeasureBased(t.getContext(),n.getName());a.copyFrom(o,null);n.setComplexRoot(o);n.setPreserveOnRepoSerialization(true);i.linkFilter(o.getName(),n)})}}}},isolateTupleFiltersIntoSeparateLayers:function(t){let i=t.getFilter();let o=i.getDynamicFilter().getFilterRootElement();let n=e.XList.create();let a=e.XList.create();if(e.notNull(o)){e.ComplexFilterSeparationUtil.findTupleFilterElements(n,o,t.getContext(),true,a)}if(e.XCollectionUtils.hasElements(n)){if(e.XCollectionUtils.hasElements(a)){i.getDynamicFilter().setComplexRoot(null)}for(let o=0;o<n.size();o++){let a=n.get(o);let r=a.getComponentType()===e.FilterComponentType.NOT?e.TupleFilterApplicationUtil.TUPLE_FILTER_LAYER_EXCLUDE:e.TupleFilterApplicationUtil.TUPLE_FILTER_LAYER_INCLUDE;let l=e.XStringUtils.concatenate3(r,"_",e.XInteger.convertToString(o));let s=e.QFactory.createFilterExpression(t,i);s.setPreserveOnRepoSerialization(true);s.setComplexRoot(a);i.linkFilter(l,s)}}},removeIsolatedCartesianIntersectFilterByDimension:function(t,i){if(e.notNull(t)&&e.notNull(i)){t.getFilter().linkFilter(e.XStringUtils.concatenate3(e.ComplexFilterSeparationUtil.LAYER_CARTESIAN_FILTER_INTERSECT,"_",i.getName()),null)}},removeIsolatedComplexFilter:function(t){if(e.notNull(t)){t.getFilter().linkFilter(e.ComplexFilterSeparationUtil.LAYER_COMPLEX_FILTER_MISC,null)}},separateComplexFiltersFromAnd:function(t,i,o,n){let a=e.XList.create();for(let r=0;r<t.size();r++){let l=t.get(r);let s=l.getComponentType();if(s===e.FilterComponentType.AND){e.ComplexFilterSeparationUtil.separateComplexFiltersFromAnd(l,i,o,n)}else if(s===e.FilterComponentType.FILTER_MEASURE_BASED){a.add(l);o.add(l)}else if(e.ComplexFilterSeparationUtil.isComplexButNotAnd(l)){a.add(l);i.add(e.QFilterUtil.createFilterElementFromOrigin(l,n))}}e.XStream.of(a).forEach(e=>{t.removeElement(e)})}};e.MemberFilterApplicationUtil={addDimensionMemberFilter:function(t,i,o,n,a,r){let l=false;let s=t.getCartesianProduct().getCartesianList(i);if(e.notNull(s)){s.setHierarchyInfo(i.isHierarchyActive()?i.getHierarchyName():null,i.getHierarchyDueDate(),i.getHierarchyVersion());if(n===e.SetSign.EXCLUDING&&e.XCollectionUtils.hasElements(s)){let t=e.XStream.of(s).find(t=>t.getSetSign()===e.SetSign.INCLUDING&&e.XString.isEqual(t.getLow().getString(),o));if(t.isPresent()){s.removeElement(t.get())}}if(e.MemberFilterApplicationUtil.checkDimensionFilterCapabilityForSignAndOperator(i,n,e.ComparisonOperator.EQUAL)){let t=s.addNewCartesianElement();let u=r.getDimensionMemberNameValueException()===e.ValueException.NULL_VALUE;t.setComparisonOperator(u?e.ComparisonOperator.IS_NULL:e.ComparisonOperator.EQUAL);let m=a.getTextField();let p=a.getDisplayKeyField();let d=i.getTextField();let c=i.getDisplayKeyField();t.setSetSign(n);let _;if(e.notNull(m)&&e.notNull(d)){_=r.getFieldValue(m);if(e.notNull(_)&&_.hasValue()){s.addSupplementField(d);t.getLow().addSupplementValue(d.getName(),_.getValue().getStringRepresentation())}}if(e.notNull(p)&&e.notNull(c)){_=r.getFieldValue(p);if(e.notNull(_)&&_.hasValue()){s.addSupplementField(c);let e=p.getValueType().isDateTime()&&_.getFormattedValue()!==null?_.getFormattedValue():_.getValue().getStringRepresentation();t.getLow().addSupplementValue(p.getName(),e)}}if(i===a){t.getLow().setDimensionMember(r)}else{t.getLow().setValue(e.XStringValue.create(o))}l=true}}return l},checkDimensionFilterCapabilityForSignAndOperator:function(t,i,o){let n=e.isNull(t)?null:t.getFilterCapabilities();let a=e.isNull(n)?null:n.getFilterCapabilitiesByField(t.getKeyField());let r=e.isNull(a)?null:a.getSupportedComparisonOperators(i);return e.notNull(r)&&r.contains(o)},filterOnSelection:function(t,i,o,n,a){let r;let l=t.getConvenienceCommands();let s;let u=null;let m;let p;let d=t.getFilter().getDynamicFilter();d.queueEventing();for(r=0;r<i.size();r++){let n=i.get(r);s=n.getDimension();if(s.isUniversalDisplayHierarchyDimension()){m=n.getUdhKey();if(e.notNull(m)){p=t.getDimensionByName(m.getDrillGroupDimensionName());e.MemberFilterApplicationUtil.removeDimensionMemberFilter(d,p,o)}}else{e.MemberFilterApplicationUtil.removeDimensionMemberFilter(d,s,o)}}let c=-1;let _=e.XList.create();for(r=0;r<i.size();r++){let n=i.get(r);s=n.getDimension();if(s.isUniversalDisplayHierarchyDimension()){m=n.getUdhKey();if(e.notNull(m)){p=t.getDimensionByName(m.getDrillGroupDimensionName());if(e.MemberFilterApplicationUtil.addDimensionMemberFilter(d,p,m.getHierarchyKey(),o,s,n)){e.XCollectionUtils.addIfNotPresent(_,p)}}}else if(e.MemberFilterApplicationUtil.addDimensionMemberFilter(d,s,n.getName(),o,s,n)){e.XCollectionUtils.addIfNotPresent(_,s)}}if(n&&e.XCollectionUtils.hasElements(_)){for(r=0;r<_.size();r++){s=_.get(r);if(c===-1){c=s.getAxis().getIndex(s)}else{c=e.XMath.min(c,s.getAxis().getIndex(s))}u=s.getAxisType();if((s.getAxisType()===e.AxisType.ROWS||s.getAxisType()===e.AxisType.COLUMNS)&&s.supportsAxis(e.AxisType.FREE)){l.clearNonMainFieldsFromResultSet(null,s.getName());l.moveDimensionToAxis(s.getName(),e.AxisType.FREE);l.removeInvalidSortOperations()}}if(e.notNull(a)&&e.notNull(u)){l.moveDimensionOnAxisTo(a.getName(),u,c)}}d.resumeEventing()},isMemberFilterable:function(t,i,o){let n=i.getDimension();let a=null;let r;if(n.isUniversalDisplayHierarchyDimension()){let t=i.getUdhKey();if(e.notNull(t)){let e=t.getDrillGroupDimensionName();r=t.getHierarchyKey();a=n.getQueryModel().getDimensionByName(e)}else{r=null}}else{a=n;r=i.getName()}let l;if(e.notNull(a)&&!a.isHierarchyActive()&&o===e.SetSign.EXCLUDING){let i=t.getFilter().getDynamicFilter().getCartesianProduct();l=e.isNull(i)?null:i.getCartesianList(a);if(e.XCollectionUtils.hasElements(l)){if(e.XStream.of(l).find(t=>t.getSetSign()===e.SetSign.INCLUDING&&e.XString.isEqual(t.getLow().getString(),r)).isPresent()){return true}}}let s=e.isNull(a)?null:a.getFilterCapabilities();let u=e.isNull(s)?null:s.getFilterCapabilitiesByField(a.getKeyField());let m=e.isNull(u)?null:u.getSupportedComparisonOperators(o);return e.notNull(m)&&m.contains(e.ComparisonOperator.EQUAL)},removeDimensionMemberFilter:function(t,i,o){if(e.MemberFilterApplicationUtil.checkDimensionFilterCapabilityForSignAndOperator(i,o,e.ComparisonOperator.EQUAL)){let n=t=>t.getSetSign()===e.SetSign.INCLUDING;let a=t.getCartesianProductWithDefault().getCartesianListWithDefault(i);if(o===e.SetSign.INCLUDING){e.XCollectionUtils.removeIf(a,n)}}}};e.TupleFilterApplicationUtil={TUPLE_FILTER_LAYER_EXCLUDE:"Tuple.Filter.Layer.Exclude",TUPLE_FILTER_LAYER_INCLUDE:"Tuple.Filter.Layer.Include",areRsTuplesHomogeneous:function(t,i){let o=false;if(e.XCollectionUtils.hasElements(t)){o=true;let n=e.TupleFilterApplicationUtil.getDimensionsForTuple(t.get(0),i);for(let a=1;a<t.size();a++){if(!e.XObjectExt.areEqual(n,e.TupleFilterApplicationUtil.getDimensionsForTuple(t.get(a),i))){o=false;break}}}return o},areTuplesHomogeneous:function(t){let i=e.XStream.of(t.get(0)).collect(e.XStreamCollector.toListOfString(e.TupleFilterApplicationUtil.getActualDimensionNameForMember));let o=i.size();let n=true;for(let a=1;a<t.size();a++){let r=t.get(a);if(o!==r.size()){n=false;break}for(let t=0;t<o;t++){if(!e.XString.isEqual(i.get(t),e.TupleFilterApplicationUtil.getActualDimensionNameForMember(r.get(t)))){n=false;break}}if(!n){break}}return n},clearTupleFilter:function(t,i,o,n){let a=t.getFilter();let r=e.TupleFilterApplicationUtil.getTupleFilters(t,false,true);let l=r.getKeysAsIterator();let s=e=>{a.linkFilter(e,null)};let u=e=>{a.linkVisibilityFilter(e,null)};let m;while(l.hasNext()){m=l.next();e.TupleFilterApplicationUtil.unlinkTupleFilterForDimension(s,i,o,n,m,r.getByKey(m))}let p=e.TupleFilterApplicationUtil.getTupleFilters(t,true,true);l=r.getKeysAsIterator();while(l.hasNext()){m=l.next();e.TupleFilterApplicationUtil.unlinkTupleFilterForDimension(u,i,o,n,m,p.getByKey(m))}},clearTupleFilters:function(t){let i=t.getFilter();let o=e.TupleFilterApplicationUtil.getTupleFilters(t,false,true);let n=o.getKeysAsIterator();while(n.hasNext()){i.linkFilter(n.next(),null)}if(t.getModelCapabilities().supportsVisibilityFilter()){let o=e.TupleFilterApplicationUtil.getTupleFilters(t,true,true);n=o.getKeysAsIterator();while(n.hasNext()){i.linkVisibilityFilter(n.next(),null)}}},getActualDimensionNameForMember:function(t){let i=t.getDimension();let o=null;if(e.notNull(i)){if(i.isUniversalDisplayHierarchyDimension()){let i=t.getUdhKey();if(e.notNull(i)){o=i.getDrillGroupDimensionName()}}else{o=i.getName()}}return o},getDimensionsForTuple:function(t,i){let o=e.XList.create();let n=t.size()===1?t.get(0):null;let a=e.notNull(n)&&n.getDimension().isUniversalDisplayHierarchyDimension()?n.getDrillGroupDimension():null;if(e.notNull(a)){let t=a.getAxis().sublist(0,a.getIndexOnAxis()+1);if(!e.XCollectionUtils.hasElements(i)){o.addAll(t)}else{o.addAll(e.XStream.of(t).filter(e=>i.contains(e)).collect(e.XStreamCollector.toList()))}}else{for(let i=0;i<t.size();i++){let n=t.getTupleElementAt(i);if(!n.getDimensionMember().getMemberType().isTypeOf(e.MemberType.RESULT)){o.add(n.getDimension())}}}return o},getDimensionsForTupleFilterExpression:function(t,i){let o=e.TupleFilterApplicationUtil.getSetSignForTupleFilterExpression(t,false);return e.isNull(o)?null:e.TupleFilterApplicationUtil.getDimensionsForTupleFilterExpressionAndSetSign(t,o,i)},getDimensionsForTupleFilterExpressionAndSetSign:function(t,i,o){let n=null;let a=t.getFilterRootElement();if(e.notNull(a)){if(i===e.SetSign.EXCLUDING){let t=a.getOlapComponentType();if(t===e.FilterComponentType.NOT){n=e.TupleFilterApplicationUtil.getTupleDimensions(a.getChild(),o)}}else{n=e.TupleFilterApplicationUtil.getTupleDimensions(a,o)}}return n},getDimensionsForTupleMembers:function(t,i){let o=e.XList.create();let n=t.size()===1?t.get(0):null;let a=e.isNull(n)||!n.getDimension().isUniversalDisplayHierarchyDimension()?null:n.getUdhKey();let r=e.notNull(a)?a.getDrillGroupDimensionName():null;if(e.notNull(r)){let t=n.getDimension().getQueryModel();let a=t.getDimensionByName(r);let l=a.getAxis().sublist(0,a.getIndexOnAxis()+1);if(!e.XCollectionUtils.hasElements(i)){o.addAll(l)}else{o.addAll(e.XStream.of(l).filter(e=>i.contains(e)).collect(e.XStreamCollector.toList()))}}else{for(let i=0;i<t.size();i++){let n=t.get(i);if(!n.getDimensionMember().getMemberType().isTypeOf(e.MemberType.RESULT)){o.add(n.getDimension())}}}return o},getOrCreateTupleFilter:function(t,i,o,n,a){let r=t.getFilter();let l=n?r.getLinkedVisibilityFilters():r.getLinkedFilters();let s=o===e.SetSign.EXCLUDING?e.TupleFilterApplicationUtil.TUPLE_FILTER_LAYER_EXCLUDE:e.TupleFilterApplicationUtil.TUPLE_FILTER_LAYER_INCLUDE;let u=l.getKeysAsIterator();let m=null;let p=e.XHashSetOfString.create();let d;while(u.hasNext()){let t=u.next();d=l.getByKey(t);if(e.XString.startsWith(t,s)){if(e.TupleFilterApplicationUtil.isTupleFilterForDimensions(d,i,o,false)){if(o===e.SetSign.EXCLUDING){let e=d.getFilterRootElement();m=e.getChild()}else{m=d.getFilterRootElement()}break}else{p.add(e.XString.substring(t,e.XString.size(s)+1,e.XString.size(t)))}}}if(e.isNull(m)&&a){let i=0;while(p.contains(e.XInteger.convertToString(i))){i=i+1}let a;let l=e.QFactory.createFilterOr(t);if(o===e.SetSign.EXCLUDING){let i=e.QFactory.createFilterNot(t);i.setChild(l);a=i}else{a=l}let u=e.XStringUtils.concatenate3(s,"_",e.XInteger.convertToString(i));d=e.QFactory.createFilterExpression(t,r);d.setPreserveOnRepoSerialization(true);d.setComplexRoot(a);if(n){r.linkVisibilityFilter(u,d)}else{r.linkFilter(u,d)}m=l}return m},getRelevantDimMembersAsTuples:function(t,i,o,n){let a=e.XStream.of(t).filter(t=>e.TupleFilterApplicationUtil.isValidDimMembersFilterTuple(t,i,o)).collect(e.XStreamCollector.toList());if(n&&a.size()>1&&!e.TupleFilterApplicationUtil.areTuplesHomogeneous(a)){a=null}return a},getRelevantTuples:function(t,i,o,n){let a=e.XStream.of(t).filter(t=>e.TupleFilterApplicationUtil.isValidFilterTuple(t,i,o,n)).collect(e.XStreamCollector.toList());return a},getRelevantUdhPathDimensionsForMember:function(t){let i=t.getDimension();let o=null;if(i.isUniversalDisplayHierarchyDimension()){let n=t.getUdhKey();if(e.notNull(n)){let t=i.getAxis();o=e.XList.create();let a=e.XCollectionUtils.getIndexByName(t,n.getDrillGroupDimensionName());e.XListUtils.sublist(t,o,0,a)}}return o},getSetSignForTupleFilterExpression:function(t,i){let o=null;if(e.notNull(t)){let n=t.getFilterRootElement();if(e.notNull(n)){let a=n.getOlapComponentType();if(a===e.FilterComponentType.NOT){o=e.SetSign.EXCLUDING}else if(a===e.FilterComponentType.OR){o=e.SetSign.INCLUDING}if(e.notNull(o)&&i&&!e.XCollectionUtils.hasElements(e.TupleFilterApplicationUtil.getDimensionsForTupleFilterExpressionAndSetSign(t,o,true))){o=null}}}return o},getTupleDimensions:function(t,i){let o=t.getOlapComponentType();let n=null;if(o===e.FilterComponentType.OR){let o=t;if(e.XCollectionUtils.hasElements(o)){let t=o.get(0);if(t.getOlapComponentType()===e.FilterComponentType.AND){let a=t;if(e.XStream.of(a).allMatch(t=>t.getOlapComponentType()===e.FilterComponentType.OPERATION)){n=e.XStream.of(a).map(e=>e.getDimension()).collect(e.XStreamCollector.toList());if(i){e.TupleFilterApplicationUtil.isTupleFilterElementListForDimensions(o,n,true)}}}}}return n},getTupleFilter:function(t,i,o,n,a){let r=t.getFilter();let l=n?r.getLinkedVisibilityFilters():r.getLinkedFilters();let s=o===e.SetSign.EXCLUDING?e.TupleFilterApplicationUtil.TUPLE_FILTER_LAYER_EXCLUDE:e.TupleFilterApplicationUtil.TUPLE_FILTER_LAYER_INCLUDE;let u=l.getKeysAsIterator();let m=null;while(u.hasNext()){let t=u.next();let n=l.getByKey(t);if(e.XString.startsWith(t,s)){if(e.TupleFilterApplicationUtil.isTupleFilterForDimensions(n,i,o,a)){m=n;break}}}return m},getTupleFilterElement:function(t,i,o,n,a,r,l){let s=null;if((!a||!i.isStructure()&&!i.getDimensionType().isTypeOf(e.DimensionType.ACCOUNT))&&(!e.XCollectionUtils.hasElements(l)||l.contains(i))){s=e.QFactory.createFilterOperation(t.getContext(),i.getKeyField());if(r){s.setConvertToFlatFilter(true)}if(i.isHierarchyActive()){s.setHierarchyInfo(i.getHierarchyName(),i.getHierarchyDueDate(),i.getHierarchyVersion())}s.getLow().setValue(o);s.setComparisonOperator(n?e.ComparisonOperator.IS_NULL:e.ComparisonOperator.EQUAL)}return s},getTupleFilters:function(t,i,o){let n=e.XHashMapByString.create();let a=t.getFilter();let r=i?a.getLinkedVisibilityFilters():a.getLinkedFilters();let l=r.getKeysAsIterator();while(l.hasNext()){let t=l.next();let i=r.getByKey(t);if(e.XString.startsWith(t,e.TupleFilterApplicationUtil.TUPLE_FILTER_LAYER_INCLUDE)){if(!o||e.XCollectionUtils.hasElements(e.TupleFilterApplicationUtil.getDimensionsForTupleFilterExpressionAndSetSign(i,e.SetSign.INCLUDING,true))){n.put(t,i)}}else if(e.XString.startsWith(t,e.TupleFilterApplicationUtil.TUPLE_FILTER_LAYER_EXCLUDE)){if(!o||e.XCollectionUtils.hasElements(e.TupleFilterApplicationUtil.getDimensionsForTupleFilterExpressionAndSetSign(i,e.SetSign.EXCLUDING,true))){n.put(t,i)}}}return n},hasRelevantDimMemberAsTuples:function(t,i,o,n){return e.XCollectionUtils.hasElements(e.TupleFilterApplicationUtil.getRelevantDimMembersAsTuples(t,i,o,n))},hasRelevantTuples:function(t,i,o,n){let a=e.TupleFilterApplicationUtil.getRelevantTuples(t,i,o,n);return e.XCollectionUtils.hasElements(a)&&e.TupleFilterApplicationUtil.areRsTuplesHomogeneous(a,i)},isTupleFilterElementForDimension:function(t,i){let o=false;let n=t.getOlapComponentType();if(n===e.FilterComponentType.AND){let n=t;let a=e.XStream.of(n).filter(t=>t.getOlapComponentType()===e.FilterComponentType.OPERATION).map(e=>e.getDimension()).collect(e.XStreamCollector.toSetOfNameObject());o=a.size()===i.size()&&e.XStream.of(a).allMatch(e=>i.contains(e))}return o},isTupleFilterElementListForDimensions:function(t,i,o){let n=false;let a=t.getOlapComponentType();if(a===e.FilterComponentType.OR){n=e.XCollectionUtils.hasElements(t)&&o?e.XStream.of(t).allMatch(t=>e.TupleFilterApplicationUtil.isTupleFilterElementForDimension(t,i)):e.XCollectionUtils.hasElements(t)&&e.TupleFilterApplicationUtil.isTupleFilterElementForDimension(t.get(0),i)}return n},isTupleFilterForDimensions:function(t,i,o,n){let a=t.getFilterRootElement();let r=false;if(e.notNull(a)){let t=a.getOlapComponentType();if(o===e.SetSign.EXCLUDING){r=t===e.FilterComponentType.NOT&&e.TupleFilterApplicationUtil.isTupleFilterElementListForDimensions(a.getChild(),i,n)}else{r=e.TupleFilterApplicationUtil.isTupleFilterElementListForDimensions(a,i,n)}}return r},isValidDimMembersFilterTuple:function(t,i,o){let n=false;let a=0;let r=e.XSetOfNameObject.create();for(let l=0;l<t.size();l++){let s=t.get(l);let u=s.getDimension();if(s.getMemberType().isTypeOf(e.MemberType.RESULT)){n=false;break}if(r.contains(u)){continue}if(i&&(u.isStructure()||u.getDimensionType().isTypeOf(e.DimensionType.ACCOUNT))){continue}if(u.getDimension().isUniversalDisplayHierarchyDimension()){let t=e.TupleFilterApplicationUtil.getRelevantUdhPathDimensionsForMember(s);if(i){t=e.XStream.of(t).filter(e=>!e.isStructure()).collect(e.XStreamCollector.toList())}if(e.XCollectionUtils.hasElements(t)){a=a+t.size()}else{continue}}else{a++}r.add(u);n=!o||a>1}return n},isValidFilterTuple:function(t,i,o,n){let a=false;let r=0;let l;let s=e.XCollectionUtils.hasElements(i);if(t.size()===1&&t.getTupleElementAt(0).getDimension().isUniversalDisplayHierarchyDimension()){let u=t.get(0);let m=u.getDrillGroupDimension();let p=u.getDimensionMember().getUdhKey();if(e.notNull(m)&&e.notNull(p)){let t=m.getIndexOnAxis();let u=m.getAxis();for(l=0;l<u.size();l++){let m=u.get(l);if(s&&!i.contains(m)||o&&(m.isStructure()||m.getDimensionType().isTypeOf(e.DimensionType.ACCOUNT))){continue}if(m.getIndexOnAxis()>t){if(s){a=false}break}r++;a=!n||r>1}}}else{for(l=0;l<t.size();l++){let s=t.getTupleElementAt(l);if(e.XCollectionUtils.hasElements(i)&&!i.contains(s.getDimension())||o&&(s.getDimension().isStructure()||s.getDimension().getDimensionType().isTypeOf(e.DimensionType.ACCOUNT))){continue}if(s.getDimensionMember().getMemberType().isTypeOf(e.MemberType.RESULT)){a=false;break}r++;a=!n||r>1}}return a},setTupleFilter:function(t,i,o,n,a,r,l){let s=e.XCollectionUtils.hasElements(o);let u=e.XStream.of(i).filter(t=>e.TupleFilterApplicationUtil.isValidFilterTuple(t,o,r,false)).collect(e.XStreamCollector.toList());if(e.XCollectionUtils.hasElements(u)){let i=u.get(0);let m=i.getTupleElementAt(0).getDimension().isUniversalDisplayHierarchyDimension();let p=i.getTupleElementAt(0).getDrillGroupDimension();let d;if(s){d=o}else{let t=e.XSetOfNameObject.create();let o;if(i.size()===1&&m){t.addAll(p.getAxis().sublist(0,p.getIndexOnAxis()))}else{for(o=0;o<i.size();o++){t.add(i.get(o).getDimension())}}d=t}let c=e.TupleFilterApplicationUtil.getOrCreateTupleFilter(t,d,n,l,true);if(n===e.SetSign.INCLUDING){c.clear()}for(let i=0;i<u.size();i++){let n=u.get(i);let l=e.QFactory.createFilterAnd(t.getContext());let s;if(n.size()===1&&m){let i=n.get(0);let u=i.getDimensionMember().getUdhKey();let m=p.getAxis();if(e.notNull(u)){for(s=0;s<=p.getIndexOnAxis();s++){let i=m.get(s);let n=u.getHierarchyKeyByDimension(i);e.XCollectionUtils.addIfNotNull(l,e.TupleFilterApplicationUtil.getTupleFilterElement(t,i,e.XStringValue.create(n),e.isNull(n),r,a,o))}}}else{for(s=0;s<n.size();s++){let i=n.get(s);let u=i.getDimension();let m=i.getDimensionMember();e.XCollectionUtils.addIfNotNull(l,e.TupleFilterApplicationUtil.getTupleFilterElement(t,u,m.getValue(),m.getDimensionMemberNameValueException()===e.ValueException.NULL_VALUE,r,a,o))}}if(l.size()>0){c.add(l)}}}},setTupleFilterFromMemberLists:function(t,i,o,n,a,r,l){let s=e.XStream.of(i).filter(t=>e.TupleFilterApplicationUtil.isValidDimMembersFilterTuple(t,a,false)).collect(e.XStreamCollector.toList());if(e.XCollectionUtils.hasElements(s)&&(!l||e.TupleFilterApplicationUtil.areTuplesHomogeneous(s))){let i=e.TupleFilterApplicationUtil.getDimensionsForTupleMembers(s.get(0),null);let l=e.TupleFilterApplicationUtil.getOrCreateTupleFilter(t,i,o,r,true);if(o===e.SetSign.INCLUDING){l.clear()}for(let o=0;o<s.size();o++){let r;let u=e.XSetOfNameObject.create();let m=s.get(o);let p=e.QFactory.createFilterAnd(t.getContext());if(m.size()===1&&m.get(0).getDimension().isUniversalDisplayHierarchyDimension()&&m.get(0).getUdhKey()!==null){let o=m.get(0).getDimensionMember();for(r=0;r<i.size();r++){let l=i.get(r);let s=o.getUdhKey().getHierarchyKeyByDimension(l);e.XCollectionUtils.addIfNotNull(p,e.TupleFilterApplicationUtil.getTupleFilterElement(t,l,e.XStringValue.create(s),e.isNull(s),a,n,i))}}else{for(r=0;r<m.size();r++){let o=m.get(r);let l=o.getDimension();if(u.contains(l)){continue}else{u.add(l)}e.XCollectionUtils.addIfNotNull(p,e.TupleFilterApplicationUtil.getTupleFilterElement(t,l,o.getValue(),o.getDimensionMemberNameValueException()===e.ValueException.NULL_VALUE,a,n,i))}}if(p.size()>0){l.add(p)}}}},unlinkTupleFilterForDimension:function(t,i,o,n,a,r){if(e.TupleFilterApplicationUtil.getSetSignForTupleFilterExpression(r,false)===o&&e.TupleFilterApplicationUtil.isTupleFilterForDimensions(r,i,o,n)){t(a)}}};e.OuHorizonDataSpaceConventions={CUSTOM_PROVIDER_KEY_TAG:"OuHorizonDataSpaceConventions.customProviderKey",SPACE_ALL_PROVIDER_IDS:"allProviderIds",addDataProvider:function(t,i){let o=e.OuHorizonDataSpaceConventions.getDataProviderKey(i);t.putXObject(o,i);let n=e.OuHorizonDataSpaceConventions.getAllDataProviderIdsInternal(t);n.add(o);t.putXObject(e.OuHorizonDataSpaceConventions.SPACE_ALL_PROVIDER_IDS,n)},addDataProviderWithKey:function(t,i,o){i.getTagging().put(e.OuHorizonDataSpaceConventions.CUSTOM_PROVIDER_KEY_TAG,o);t.putXObject(o,i);let n=e.OuHorizonDataSpaceConventions.getAllDataProviderIdsInternal(t);n.add(o);t.putXObject(e.OuHorizonDataSpaceConventions.SPACE_ALL_PROVIDER_IDS,n)},getAllDataProvider:function(t){let i=e.OuHorizonDataSpaceConventions.getAllDataProviderIds(t);return e.XStream.ofString(i).map(e=>t.getXObjectByKey(e.getString())).collect(e.XStreamCollector.toList())},getAllDataProviderIds:function(t){return e.OuHorizonDataSpaceConventions.getAllDataProviderIdsInternal(t)},getAllDataProviderIdsInternal:function(t){let i=t.getXObjectByKey(e.OuHorizonDataSpaceConventions.SPACE_ALL_PROVIDER_IDS);if(e.notNull(i)){return i}return e.XHashSetOfString.create()},getDataProvider:function(t,i){let o=e.OuHorizonDataSpaceConventions.getAllDataProviderIds(t);if(o.contains(i)){return t.getXObjectByKey(i)}return null},getDataProviderKey:function(t){let i=t.getTagging().getByKey(e.OuHorizonDataSpaceConventions.CUSTOM_PROVIDER_KEY_TAG);if(e.XStringUtils.isNotNullAndNotEmpty(i)){return i}return t.getInstanceId()},isDataProviderExisting:function(t,i){return e.OuHorizonDataSpaceConventions.getDataProvider(t,i)!==null},removeDataProvider:function(t,i){let o=e.OuHorizonDataSpaceConventions.getDataProviderKey(i);t.putXObject(o,null);let n=e.OuHorizonDataSpaceConventions.getAllDataProviderIdsInternal(t);n.removeElement(o);t.putXObject(e.OuHorizonDataSpaceConventions.SPACE_ALL_PROVIDER_IDS,n)},setDataProviderKey:function(t,i){t.getTagging().put(e.OuHorizonDataSpaceConventions.CUSTOM_PROVIDER_KEY_TAG,i)}};e.OlapUiValueHelpAbstract=function(){};e.OlapUiValueHelpAbstract.prototype=new e.XObject;e.OlapUiValueHelpAbstract.prototype._ff_c="OlapUiValueHelpAbstract";e.OlapUiValueHelpAbstract.s_syncType=null;e.OlapUiValueHelpAbstract.prototype.m_defaultDrillEnabled=false;e.OlapUiValueHelpAbstract.prototype.m_nullText=null;e.OlapUiValueHelpAbstract.prototype.m_useResultSetTextField=false;e.OlapUiValueHelpAbstract.prototype.m_valueRequestObject=null;e.OlapUiValueHelpAbstract.prototype.addNullFilter=function(t,i){if(e.notNull(this.m_nullText)&&e.XStringUtils.isNotNullAndNotEmpty(t)&&e.notNull(i)&&e.XString.containsString(this.m_nullText,e.XString.toLowerCase(t))){let t=this.getDimension().getFilterCapabilities();let o=e.notNull(t)?t.getFilterCapabilitiesByField(this.getDisplayKeyField()):null;if(e.notNull(o)&&e.XCollectionUtils.containsElement(o.getSupportedComparisonOperatorsForValueHelpAndReadMode(e.SetSign.INCLUDING,i),e.ComparisonOperator.IS_NULL)){let t=this.getDimension().getSelectorContainer().getCartesianListByField(this.getDisplayKeyField());if(e.notNull(t)){t.addNewCartesianElement().setComparisonOperator(e.ComparisonOperator.IS_NULL);return true}}}return false};e.OlapUiValueHelpAbstract.prototype.configureFetchItems=function(t,i,o,n){this.configureValueHelp(t,i,0,-1,0,n,false);let a=e.XStream.of(o).filter(e=>e.isNull()||e.getKey()!==null).collect(e.XStreamCollector.toListOfString(e=>e.isNull()?null:e.getKey()));let r=e.XStream.of(o).filter(e=>!e.isNull()&&e.getKey()===null&&e.getDisplayKey()!==null).collect(e.XStreamCollector.toListOfString(e=>e.getDisplayKey()));return t.addSelectorFilterForSpecificKeys(a,r)};e.OlapUiValueHelpAbstract.prototype.configureValueHelp=function(e,t,i,o,n,a,r){e.clearSelectorSettings();e.setSelectorHierarchy(this.isHierarchicalValueHelp(),this.getHierarchyName(),this.m_defaultDrillEnabled&&r?e.getDefaultInitialDrillLevel():0);e.setReadModeGraceful(this.getContextType(),t);let l=i*n;let s=o===-1?o:l+(o-i+1)*n;e.setSelectorPaging(l,s);e.setSelectorCustomTextField(this.m_useResultSetTextField?this.getTextField():null);e.setSelectorFields(a,this.requestDefaultKeyAndTextFields(e))};e.OlapUiValueHelpAbstract.prototype.getContextType=function(){return e.QContextType.SELECTOR};e.OlapUiValueHelpAbstract.prototype.getDisplayKeyField=function(){let e=this.getDimension();return this.isHierarchicalValueHelp()?e.getHierarchyDisplayKeyField():e.getFlatDisplayKeyField()};e.OlapUiValueHelpAbstract.prototype.getKeyField=function(){let e=this.getDimension();return this.isHierarchicalValueHelp()?e.getHierarchyKeyField():e.getFlatKeyField()};e.OlapUiValueHelpAbstract.prototype.getSystemType=function(t){let i=t.getApplication().getSystemLandscape().getSystemDescription(t.getDataSource().getSystemName());return e.notNull(i)?i.getSystemType():e.SystemType.GENERIC};e.OlapUiValueHelpAbstract.prototype.getTextField=function(){let t=this.getDimension();if(this.m_useResultSetTextField){return e.QDimensionUtil.getTextFieldUsedInResultSet(t,this.isHierarchicalValueHelp())}return this.isHierarchicalValueHelp()?t.getHierarchyTextField():t.getFlatTextField()};e.OlapUiValueHelpAbstract.prototype.releaseObject=function(){e.XObject.prototype.releaseObject.call(this);this.m_valueRequestObject=null};e.OlapUiValueHelpAbstract.prototype.requestDefaultKeyAndTextFields=function(e){return true};e.OlapUiValueHelpAbstract.prototype.setDefaultDrillLevelEnabled=function(e){this.m_defaultDrillEnabled=e};e.OlapUiValueHelpAbstract.prototype.setNullText=function(t){this.m_nullText=e.XString.toLowerCase(t)};e.OlapUiValueHelpAbstract.prototype.setUseResultSetTextField=function(e){this.m_useResultSetTextField=e};e.OlapUiValueHelpAbstract.prototype.setupExt=function(t){this.m_valueRequestObject=t;if(e.isNull(e.OlapUiValueHelpAbstract.s_syncType)){e.OlapUiValueHelpAbstract.s_syncType=e.SyncType.NON_BLOCKING}};e.OlapUiValueHelpAbstract.prototype.supportsAdditionalPresentations=function(){return true};e.OlapUiValueHelpKeyObject=function(){};e.OlapUiValueHelpKeyObject.prototype=new e.XObject;e.OlapUiValueHelpKeyObject.prototype._ff_c="OlapUiValueHelpKeyObject";e.OlapUiValueHelpKeyObject.create=function(t,i,o){let n=new e.OlapUiValueHelpKeyObject;n.m_key=t;n.m_displayKey=i;n.m_isNull=o;return n};e.OlapUiValueHelpKeyObject.prototype.m_displayKey=null;e.OlapUiValueHelpKeyObject.prototype.m_isNull=false;e.OlapUiValueHelpKeyObject.prototype.m_key=null;e.OlapUiValueHelpKeyObject.prototype.getDisplayKey=function(){return this.m_displayKey};e.OlapUiValueHelpKeyObject.prototype.getKey=function(){return this.m_key};e.OlapUiValueHelpKeyObject.prototype.hasDisplayKey=function(){return e.notNull(this.m_displayKey)};e.OlapUiValueHelpKeyObject.prototype.isNull=function(){return this.m_isNull};e.OlapUiValueHelpKeyObject.prototype.releaseObject=function(){e.XObject.prototype.releaseObject.call(this);this.m_key=null;this.m_displayKey=null};e.OuDesignerViewConfiguration=function(){};e.OuDesignerViewConfiguration.prototype=new e.XObject;e.OuDesignerViewConfiguration.prototype._ff_c="OuDesignerViewConfiguration";e.OuDesignerViewConfiguration.createConfig=function(t){let i=new e.OuDesignerViewConfiguration;i.setupConfig(t);return i};e.OuDesignerViewConfiguration.getFormulaItems=function(){let t=e.XList.create();t.add(e.FeOperators.ADDITION);t.add(e.FeOperators.SUBTRACTION);t.add(e.FeOperators.MULTIPLICATION);t.add(e.FeOperators.DIVISION);t.add(e.FeOperators.POWER);t.add(e.FeFunctions.DECFLOAT);t.add(e.FeFunctions.INT);t.add(e.FeFunctions.ISNULL);t.add(e.FeFunctions.NOT);t.add(e.FeFunctions.IF);t.add(e.FeFunctions.ABS);t.add(e.FeFunctions.EXP);t.add(e.FeFunctions.SQRT);t.add(e.FeFunctions.GRAND_TOTAL);t.add(e.FeFunctions.PERCENTAGE_OF_GRAND_TOTAL);t.add(e.FeFunctions.MOD);t.add(e.FeFunctions.POWER);t.add(e.FeFunctions.LOG);t.add(e.FeFunctions.LOG10);t.add(e.FeFunctions.CEIL);t.add(e.FeFunctions.TRUNC);t.add(e.FeFunctions.DOUBLE);t.add(e.FeFunctions.ROUND);t.add(e.FeFunctions.FLOAT);t.add(e.FeFunctions.FLOOR);t.add(e.FeFunctions.DATEDIFF);t.add(e.FeFunctions.MIN);t.add(e.FeFunctions.MAX);t.add(e.FeFunctions.RESTRICT);t.add(e.FeConditions.AND);t.add(e.FeConditions.OR);t.add(e.FeConditions.EQUAL);t.add(e.FeConditions.NOT_EQUAL);t.add(e.FeConditions.GREATER_THAN);t.add(e.FeConditions.GREATER_THAN_EQUAL);t.add(e.FeConditions.LESS_THAN);t.add(e.FeConditions.LESS_THAN_EQUAL);return t};e.OuDesignerViewConfiguration.prototype.m_application=null;e.OuDesignerViewConfiguration.prototype.m_calculationsEnabled=false;e.OuDesignerViewConfiguration.prototype.m_calculationsOnSecondaryStructEnabled=false;e.OuDesignerViewConfiguration.prototype.m_dragElementTag=null;e.OuDesignerViewConfiguration.prototype.m_fireVizChangedEvent=false;e.OuDesignerViewConfiguration.prototype.m_isChartingEnabled=false;e.OuDesignerViewConfiguration.prototype.m_isChartingEnabledOnAccounts=false;e.OuDesignerViewConfiguration.prototype.m_isChartingNewTypesEnabled=false;e.OuDesignerViewConfiguration.prototype.m_isChartingPhase_3Enabled=false;e.OuDesignerViewConfiguration.prototype.m_menuProvider=null;e.OuDesignerViewConfiguration.prototype.m_presentation=null;e.OuDesignerViewConfiguration.prototype.m_rightClickContextMenuForAttributeEnabled=false;e.OuDesignerViewConfiguration.prototype.m_rightClickContextMenuForDimensionEnabled=false;e.OuDesignerViewConfiguration.prototype.m_rightClickContextMenuForMemberEnabled=false;e.OuDesignerViewConfiguration.prototype.m_toastPresenter=null;e.OuDesignerViewConfiguration.prototype.m_useExistingVisualizations=false;e.OuDesignerViewConfiguration.prototype.getApplication=function(){return this.m_application};e.OuDesignerViewConfiguration.prototype.getDefaultPresentation=function(){return this.m_presentation};e.OuDesignerViewConfiguration.prototype.getDragElementTag=function(){return this.m_dragElementTag};e.OuDesignerViewConfiguration.prototype.getMenuProvider=function(){return this.m_menuProvider};e.OuDesignerViewConfiguration.prototype.getSupportedDisplayTypes=function(){let t=e.XList.create();t.add(e.OuAxesViewDisplayType.GRID);t.add(e.OuAxesViewDisplayType.BAR);t.add(e.OuAxesViewDisplayType.COLUMN);t.add(e.OuAxesViewDisplayType.STACKED_BAR);t.add(e.OuAxesViewDisplayType.STACKED_COLUMN);t.add(e.OuAxesViewDisplayType.LINE);if(this.isChartingNewTypesEnabled()){t.add(e.OuAxesViewDisplayType.STACKED_AREA);t.add(e.OuAxesViewDisplayType.COLUMN_LINE);t.add(e.OuAxesViewDisplayType.STACKED_COLUMN_LINE)}t.add(e.OuAxesViewDisplayType.PIE);t.add(e.OuAxesViewDisplayType.DOUGHNUT);return t};e.OuDesignerViewConfiguration.prototype.getToastPresenter=function(){return this.m_toastPresenter};e.OuDesignerViewConfiguration.prototype.isCalculationsEnabled=function(){return this.m_calculationsEnabled};e.OuDesignerViewConfiguration.prototype.isCalculationsOnSecondaryStructEnabled=function(){return this.m_calculationsOnSecondaryStructEnabled};e.OuDesignerViewConfiguration.prototype.isChartingEnabled=function(){return this.m_isChartingEnabled};e.OuDesignerViewConfiguration.prototype.isChartingNewTypesEnabled=function(){return this.m_isChartingNewTypesEnabled};e.OuDesignerViewConfiguration.prototype.isChartingPhase2Enabled=function(){return this.m_isChartingEnabledOnAccounts};e.OuDesignerViewConfiguration.prototype.isChartingPhase_3Enabled=function(){return this.m_isChartingPhase_3Enabled};e.OuDesignerViewConfiguration.prototype.isRightClickContextMenuForAttributeEnabled=function(){return this.m_rightClickContextMenuForAttributeEnabled};e.OuDesignerViewConfiguration.prototype.isRightClickContextMenuForDimensionEnabled=function(){return this.m_rightClickContextMenuForDimensionEnabled};e.OuDesignerViewConfiguration.prototype.isRightClickContextMenuForMemberEnabled=function(){return this.m_rightClickContextMenuForMemberEnabled};e.OuDesignerViewConfiguration.prototype.releaseObject=function(){this.m_application=null;this.m_presentation=null;this.m_menuProvider=null;this.m_toastPresenter=null;this.m_dragElementTag=null;e.XObject.prototype.releaseObject.call(this)};e.OuDesignerViewConfiguration.prototype.setCalculationsEnabled=function(e){this.m_calculationsEnabled=e};e.OuDesignerViewConfiguration.prototype.setCalculationsOnSecondaryStructEnabled=function(e){this.m_calculationsOnSecondaryStructEnabled=e};e.OuDesignerViewConfiguration.prototype.setChartingEnabled=function(e){this.m_isChartingEnabled=e};e.OuDesignerViewConfiguration.prototype.setChartingNewTypesEnabled=function(e){this.m_isChartingNewTypesEnabled=e};e.OuDesignerViewConfiguration.prototype.setChartingPhase2Enabled=function(e){this.m_isChartingEnabledOnAccounts=e};e.OuDesignerViewConfiguration.prototype.setChartingPhase_3Enabled=function(e){this.m_isChartingPhase_3Enabled=e};e.OuDesignerViewConfiguration.prototype.setDefaultPresentation=function(e){this.m_presentation=e};e.OuDesignerViewConfiguration.prototype.setDragElementTag=function(e){this.m_dragElementTag=e};e.OuDesignerViewConfiguration.prototype.setFireVisualizationChangedEvent=function(e){this.m_fireVizChangedEvent=e};e.OuDesignerViewConfiguration.prototype.setMenuProvider=function(e){this.m_menuProvider=e};e.OuDesignerViewConfiguration.prototype.setRightClickContextMenuForAttributeEnabled=function(e){this.m_rightClickContextMenuForAttributeEnabled=e};e.OuDesignerViewConfiguration.prototype.setRightClickContextMenuForDimensionEnabled=function(e){this.m_rightClickContextMenuForDimensionEnabled=e};e.OuDesignerViewConfiguration.prototype.setRightClickContextMenuForMemberEnabled=function(e){this.m_rightClickContextMenuForMemberEnabled=e};e.OuDesignerViewConfiguration.prototype.setToastPresenter=function(e){this.m_toastPresenter=e};e.OuDesignerViewConfiguration.prototype.setUseExistingVisualizations=function(e){this.m_useExistingVisualizations=e};e.OuDesignerViewConfiguration.prototype.setupConfig=function(t){this.m_application=t;this.m_presentation=e.QueryPresentationUtils.DESCRIPTION};e.OuDesignerViewConfiguration.prototype.shouldFireVisualizationChangedEvent=function(){return this.m_fireVizChangedEvent};e.OuDesignerViewConfiguration.prototype.shouldUseExistingVisualizations=function(){return this.m_useExistingVisualizations};e.OuGridAxesController=function(){};e.OuGridAxesController.prototype=new e.XObject;e.OuGridAxesController.prototype._ff_c="OuGridAxesController";e.OuGridAxesController.createController=function(){return new e.OuGridAxesController};e.OuGridAxesController.moveModel=function(e,t,i){if(t>=0&&t<i.size()){let o=i.getIndex(e);if(o>=0){i.removeAt(o)}i.insert(t,e)}else{i.removeElement(e);i.add(e)}};e.OuGridAxesController.prototype.m_memberResults=null;e.OuGridAxesController.prototype.m_queryManager=null;e.OuGridAxesController.prototype.addMember=function(e){this.updateMemberFilter(e,true)};e.OuGridAxesController.prototype.addOrRemoveChildrenIfAny=function(e,t,i){if(e.hasChildren()){let o=e.getChildren();for(let e=0;e<o.size();e++){let n=o.get(e);if(i){t.add(n)}else{t.removeElement(n)}this.addOrRemoveChildrenIfAny(n,t,i)}}};e.OuGridAxesController.prototype.allowDropBetween=function(t){let i=t.isStructure();let o=t.isHierarchyActive();let n=e.QueryDesignerUtils.supportsMemberSort(t);return n&&i&&!o};e.OuGridAxesController.prototype.fetchMembers=function(){let t=this.m_queryManager.getQueryModel();let i=e.QueryDesignerUtils.getStructureDimensions(t);let o=e.XStream.of(i).map(e=>e.getMemberManager().getMemberResult().onThen(t=>{this.m_memberResults.put(e.getName(),t)})).collect(e.XPromiseList.toPromiseList());let n=e.XPromise.all(o);n.onCatch(t=>{e.XLogger.printError(t.getText());this.m_memberResults=e.XHashMapByString.create()});return n};e.OuGridAxesController.prototype.getMemberVisibility=function(t){let i=this.getMembersByDimension(t);let o=this.m_queryManager.getConvenienceCommands();let n=o.getVisibleMembers(t,i);for(let t=0;t<i.size();t++){let o=i.get(t);if(o.getDimensionMember().getResultVisibility()===e.ResultVisibility.HIDDEN){n.removeElement(o.getDimensionMember().getName())}}return n};e.OuGridAxesController.prototype.getMembersByDimension=function(e){return this.m_memberResults.getByKey(e.getName()).getAllNodes()};e.OuGridAxesController.prototype.getMembersInOrder=function(t){let i=this.getMembersByDimension(t);if(!e.XCollectionUtils.hasElements(i)){return e.XListOfNameObject.create()}if(t.getDimensionType()===e.DimensionType.ACCOUNT||t.isHierarchyActive()){return i}let o=this.m_queryManager.getConvenienceCommands();let n=o.getMembersInResultSetOrder(t);return e.XStream.of(n).map(e=>i.getByKey(e.getString())).collect(e.XStreamCollector.toListOfNameObject())};e.OuGridAxesController.prototype.getQueryManager=function(){return this.m_queryManager};e.OuGridAxesController.prototype.getVisibleMemberNodesInOrder=function(t){let i=this.getMembersByDimension(t);if(!e.XCollectionUtils.hasElements(i)){return null}let o=this.m_queryManager.getConvenienceCommands();let n=o.getVisibleMembers(t,i);if(t.getDimensionType()===e.DimensionType.ACCOUNT){return e.XStream.of(i).filter(t=>n.contains(t.getName())&&t.getDimensionMember().getResultVisibility()!==e.ResultVisibility.HIDDEN).collect(e.XStreamCollector.toListOfNameObject())}else{let a=o.getMembersInResultSetOrder(t);return e.XStream.of(a).filter(t=>n.contains(t.getName())&&t.getResultVisibility()!==e.ResultVisibility.HIDDEN).map(e=>i.getByKey(e.getName())).collect(e.XStreamCollector.toListOfNameObject())}};e.OuGridAxesController.prototype.handleAttributeDrop=function(t,i,o){let n=t.getDraggedControl();if(t.getDroppedControl()===n){return}let a=i.getDimension();let r=a.getResultSetAttributes();let l=e.OuDesignerDragDropUtilities.calcDropIndex(t);if(e.notNull(o)){this.moveDimensionToIndex(a,o,l);e.OuGridAxesController.moveModel(i,-1,r)}else{e.OuGridAxesController.moveModel(i,l+1,r)}};e.OuGridAxesController.prototype.handleDimDrop=function(t,i,o){let n=t.getDraggedControl();if(t.getDroppedControl()===n){return}this.moveDimensionToIndex(i,o,e.OuDesignerDragDropUtilities.calcDropIndex(t))};e.OuGridAxesController.prototype.handleMemberDrop=function(t,i,o){let n=t.getDraggedControl();if(t.getDroppedControl()===n){return}let a=i.getDimension();let r=e.OuDesignerDragDropUtilities.calcDropIndex(t);if(e.notNull(o)){this.moveDimensionToIndex(a,o,r);this.moveMemberToIndex(i,-1)}else{this.moveMemberToIndex(i,r)}};e.OuGridAxesController.prototype.moveDimensionToIndex=function(t,i,o){let n=this.m_queryManager.getQueryModel().getAxis(i);let a=i!==t.getAxisType();e.OuGridAxesController.moveModel(t,o,n);if(a){t.getConvenienceCommands().moveSortToPosition(e.SortType.ABSTRACT_DIMENSION_SORT,t.getName(),0)}};e.OuGridAxesController.prototype.moveMemberToIndex=function(t,i){this.updateMemberFilter(t,true);let o=t.getDimension();if(this.allowDropBetween(o)){let n=this.getVisibleMemberNodesInOrder(o);e.OuGridAxesController.moveModel(t,i,n);e.QueryDesignerUtils.setMemberOrder(o,n)}};e.OuGridAxesController.prototype.releaseObject=function(){this.m_queryManager=null;this.m_memberResults=e.XObjectExt.release(this.m_memberResults);e.XObject.prototype.releaseObject.call(this)};e.OuGridAxesController.prototype.removeAllMembers=function(t){let i=this.getMembersByDimension(t);e.QueryDesignerUtils.setFilterForDimension(t,i,e.XListOfNameObject.create())};e.OuGridAxesController.prototype.removeAttribute=function(e){let t=e.getDimension().getName();e.getConvenienceCommands().removeAttributeFromResultSet(t,e.getName())};e.OuGridAxesController.prototype.removeDimension=function(t,i){if(e.QueryDesignerUtils.canBeRemoved(t)){e.QueryDesignerUtils.removeDimension(t);i()}else{let o=this.m_queryManager.getApplication();let n=e.XLocalizationCenter.getCenter().getTextWithPlaceholder(e.OuAxesViewI18n.BUILDER_FILTER_DIALOG_TITLE,t.getText());e.QueryDesignerUtils.openSingleMemberFilterDialog(o,n,t,e.FilterDialogLambdaCloseListener.create(o=>{e.QueryDesignerUtils.removeDimension(t);i()},null))}};e.OuGridAxesController.prototype.removeMember=function(e){this.updateMemberFilter(e,false)};e.OuGridAxesController.prototype.setQueryManager=function(t){this.m_queryManager=t;this.m_memberResults=e.XHashMapByString.create()};e.OuGridAxesController.prototype.updateMemberFilter=function(t,i){let o=t.getDimensionMember().getDimension();let n=this.getMembersByDimension(o);let a=this.getVisibleMemberNodesInOrder(o);if(!i){a.removeElement(t)}else if(!a.contains(t)){a.add(t)}this.addOrRemoveChildrenIfAny(t,a,i);e.QueryDesignerUtils.setFilterForDimension(o,n,a)};e.OuGridAxesController.prototype.updateMembers=function(){if(!e.XObjectExt.isValidObject(this.m_queryManager)||!e.XObjectExt.isValidObject(this.m_queryManager.getQueryModel())){return e.XPromise.resolve(e.XBooleanValue.create(true))}let t=this.m_queryManager.getQueryModel();let i=e.QueryDesignerUtils.getStructureDimensions(t);let o=e.XCollectionUtils.ensureAll(i,t=>{let i=this.m_memberResults.getByKey(t.getName());return e.notNull(i)&&t.getMemberManager().isResultInSync(i)});if(o){return e.XPromise.resolve(e.XBooleanValue.create(false))}return this.fetchMembers().onThenExt(t=>e.XBooleanValue.create(true))};e.OuDesignerDragDropUtilities={calcDropIndex:function(t){let i=t.getRelativeDropPosition();let o=t.getControl();if(o.getUiType()!==e.UiType.LIST){return-1}let n=o.getIndexOfItem(t.getDroppedControl());n=i===e.UiRelativeDropPosition.BEFORE?n:n+1;let a=t.getDraggedControl();let r=o.getIndexOfItem(a);if(r>=0&&r<n){n--}return n}};e.OuDesignerDimension=function(){};e.OuDesignerDimension.prototype=new e.XObject;e.OuDesignerDimension.prototype._ff_c="OuDesignerDimension";e.OuDesignerDimension.createEmpty=function(){let t=new e.OuDesignerDimension;t.setupExt(null,null,null);return t};e.OuDesignerDimension.createForBuilderPanel=function(t,i,o){let n=new e.OuDesignerDimension;n.setupExt(t,i,o);return n};e.OuDesignerDimension.prototype.m_checkbox=null;e.OuDesignerDimension.prototype.m_children=null;e.OuDesignerDimension.prototype.m_childrenList=null;e.OuDesignerDimension.prototype.m_colIco=null;e.OuDesignerDimension.prototype.m_dimension=null;e.OuDesignerDimension.prototype.m_dimensionList=null;e.OuDesignerDimension.prototype.m_dimensionViews=null;e.OuDesignerDimension.prototype.m_displayName=null;e.OuDesignerDimension.prototype.m_displayText=null;e.OuDesignerDimension.prototype.m_header=null;e.OuDesignerDimension.prototype.m_label=null;e.OuDesignerDimension.prototype.m_moreBtn=null;e.OuDesignerDimension.prototype.m_name=null;e.OuDesignerDimension.prototype.m_panel=null;e.OuDesignerDimension.prototype.m_root=null;e.OuDesignerDimension.prototype.m_rowIco=null;e.OuDesignerDimension.prototype.getCheckbox=function(){return this.m_checkbox};e.OuDesignerDimension.prototype.getChildrenList=function(){return this.m_childrenList};e.OuDesignerDimension.prototype.getChildrenViews=function(){return this.m_children};e.OuDesignerDimension.prototype.getColumnIcon=function(){return this.m_colIco};e.OuDesignerDimension.prototype.getDimension=function(){return this.m_dimension};e.OuDesignerDimension.prototype.getDimensionList=function(){return this.m_dimensionList};e.OuDesignerDimension.prototype.getDimensionViews=function(){return this.m_dimensionViews};e.OuDesignerDimension.prototype.getDisplayName=function(){return this.m_displayName};e.OuDesignerDimension.prototype.getDisplayText=function(){return this.m_displayText};e.OuDesignerDimension.prototype.getHeader=function(){return this.m_header};e.OuDesignerDimension.prototype.getIconContainer=function(){return this.m_header};e.OuDesignerDimension.prototype.getLabel=function(){return this.m_label};e.OuDesignerDimension.prototype.getListItemRoot=function(){return this.m_root};e.OuDesignerDimension.prototype.getModelComponent=function(){return this.m_dimension};e.OuDesignerDimension.prototype.getMoreBtn=function(){return this.m_moreBtn};e.OuDesignerDimension.prototype.getName=function(){if(e.isNull(this.m_dimension)){return this.m_name}return this.m_dimension.getName()};e.OuDesignerDimension.prototype.getPanel=function(){return this.m_panel};e.OuDesignerDimension.prototype.getRowIcon=function(){return this.m_rowIco};e.OuDesignerDimension.prototype.isGroup=function(){return e.XCollectionUtils.hasElements(this.m_dimensionViews)};e.OuDesignerDimension.prototype.releaseObject=function(){this.m_name=null;this.m_dimension=null;this.m_children=e.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_children);this.m_dimensionViews=e.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_dimensionViews);this.m_label=e.XObjectExt.release(this.m_label);this.m_header=e.XObjectExt.release(this.m_header);this.m_panel=e.XObjectExt.release(this.m_panel);this.m_checkbox=e.XObjectExt.release(this.m_checkbox);this.m_rowIco=e.XObjectExt.release(this.m_rowIco);this.m_colIco=e.XObjectExt.release(this.m_colIco);this.m_moreBtn=e.XObjectExt.release(this.m_moreBtn);this.m_childrenList=e.XObjectExt.release(this.m_childrenList);e.XTimeout.timeout(0,()=>{this.m_root=e.XObjectExt.release(this.m_root)});e.XObject.prototype.releaseObject.call(this)};e.OuDesignerDimension.prototype.setCheckbox=function(e){this.m_checkbox=e};e.OuDesignerDimension.prototype.setChildrenList=function(e){this.m_childrenList=e};e.OuDesignerDimension.prototype.setChildrenViews=function(e){this.m_children=e};e.OuDesignerDimension.prototype.setColIcon=function(e){this.m_colIco=e};e.OuDesignerDimension.prototype.setDimension=function(e){this.m_dimension=e};e.OuDesignerDimension.prototype.setDimensionList=function(e){this.m_dimensionList=e};e.OuDesignerDimension.prototype.setDimensionViews=function(e){this.m_dimensionViews=e};e.OuDesignerDimension.prototype.setDisplayName=function(e){this.m_displayName=e};e.OuDesignerDimension.prototype.setDisplayText=function(e){this.m_displayText=e};e.OuDesignerDimension.prototype.setHeader=function(e){this.m_header=e};e.OuDesignerDimension.prototype.setLabel=function(e){this.m_label=e};e.OuDesignerDimension.prototype.setListItemRoot=function(e){this.m_root=e};e.OuDesignerDimension.prototype.setMoreBtn=function(e){this.m_moreBtn=e};e.OuDesignerDimension.prototype.setName=function(e){this.m_name=e};e.OuDesignerDimension.prototype.setPanel=function(e){this.m_panel=e};e.OuDesignerDimension.prototype.setRowIcon=function(e){this.m_rowIco=e};e.OuDesignerDimension.prototype.setupExt=function(t,i,o){this.m_dimension=t;this.m_children=i;this.m_childrenList=o;this.m_rowIco=e.UiContextDummy.getSingleton();this.m_colIco=e.UiContextDummy.getSingleton();this.m_checkbox=e.UiContextDummy.getSingleton();this.m_moreBtn=e.UiContextDummy.getSingleton()};e.OuDesignerDimension.prototype.toString=function(){if(e.isNull(this.m_dimension)){return this.m_name}let t=e.QueryPresentationUtils.DESCRIPTION_AND_ID;return t.composeDisplayStrings(this.m_dimension.getName(),this.m_dimension.getText())};e.OuDesignerListItem=function(){};e.OuDesignerListItem.prototype=new e.XObject;e.OuDesignerListItem.prototype._ff_c="OuDesignerListItem";e.OuDesignerListItem.createForBuilderPanel=function(t,i){let o=new e.OuDesignerListItem;o.setupExt(t,i,e.UiContextDummy.getSingleton());return o};e.OuDesignerListItem.createForNavPanel=function(t,i,o){let n=new e.OuDesignerListItem;n.setupExt(t,i,o);return n};e.OuDesignerListItem.getAllChildrenRecursive=function(t){let i=e.XList.create();for(let o=0;o<t.size();o++){let n=t.get(o);i.add(n);let a=e.OuDesignerListItem.getAllChildrenRecursive(n.getDirectChildren());i.addAll(a)}return i};e.OuDesignerListItem.prototype.m_attribute=null;e.OuDesignerListItem.prototype.m_checkbox=null;e.OuDesignerListItem.prototype.m_children=null;e.OuDesignerListItem.prototype.m_headerLayout=null;e.OuDesignerListItem.prototype.m_label=null;e.OuDesignerListItem.prototype.m_list=null;e.OuDesignerListItem.prototype.m_moreButton=null;e.OuDesignerListItem.prototype.m_node=null;e.OuDesignerListItem.prototype.m_panel=null;e.OuDesignerListItem.prototype.m_popoverIcon=null;e.OuDesignerListItem.prototype.m_removeButton=null;e.OuDesignerListItem.prototype.m_root=null;e.OuDesignerListItem.prototype.addAllChildren=function(t){this.m_children.addAll(t);this.m_list.addAllItems(e.XCollectionUtils.map(t,e=>e.getRoot()))};e.OuDesignerListItem.prototype.addChild=function(e){this.m_children.add(e);this.m_list.addItem(e.getRoot())};e.OuDesignerListItem.prototype.getAllChildren=function(){return e.OuDesignerListItem.getAllChildrenRecursive(this.m_children)};e.OuDesignerListItem.prototype.getAttribute=function(){return this.m_attribute};e.OuDesignerListItem.prototype.getCheckbox=function(){return this.m_checkbox};e.OuDesignerListItem.prototype.getChildrenList=function(){return this.m_list};e.OuDesignerListItem.prototype.getDirectChildren=function(){return this.m_children};e.OuDesignerListItem.prototype.getHeaderLayout=function(){return this.m_headerLayout};e.OuDesignerListItem.prototype.getLabel=function(){return this.m_label};e.OuDesignerListItem.prototype.getModelComponent=function(){if(e.notNull(this.m_node)){return this.m_node}return this.m_attribute};e.OuDesignerListItem.prototype.getMoreButton=function(){return this.m_moreButton};e.OuDesignerListItem.prototype.getNode=function(){return this.m_node};e.OuDesignerListItem.prototype.getPanel=function(){return this.m_panel};e.OuDesignerListItem.prototype.getPopoverIcon=function(){return this.m_popoverIcon};e.OuDesignerListItem.prototype.getRemoveButton=function(){return this.m_removeButton};e.OuDesignerListItem.prototype.getRoot=function(){return this.m_root};e.OuDesignerListItem.prototype.releaseObject=function(){this.m_node=null;this.m_popoverIcon=e.XObjectExt.release(this.m_popoverIcon);this.m_children=e.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_children);this.m_headerLayout=e.XObjectExt.release(this.m_headerLayout);this.m_checkbox=e.XObjectExt.release(this.m_checkbox);this.m_removeButton=e.XObjectExt.release(this.m_removeButton);this.m_moreButton=e.XObjectExt.release(this.m_moreButton);this.m_label=e.XObjectExt.release(this.m_label);this.m_list=e.XObjectExt.release(this.m_list);this.m_panel=e.XObjectExt.release(this.m_panel);this.m_root=e.XObjectExt.release(this.m_root);e.XObject.prototype.releaseObject.call(this)};e.OuDesignerListItem.prototype.setAttribute=function(e){this.m_attribute=e};e.OuDesignerListItem.prototype.setChildrenList=function(e){this.m_list=e};e.OuDesignerListItem.prototype.setHeaderLayout=function(e){this.m_headerLayout=e};e.OuDesignerListItem.prototype.setMoreButton=function(e){this.m_moreButton=e};e.OuDesignerListItem.prototype.setNode=function(e){this.m_node=e};e.OuDesignerListItem.prototype.setPanel=function(e){this.m_panel=e};e.OuDesignerListItem.prototype.setPopoverIcon=function(e){this.m_popoverIcon=e};e.OuDesignerListItem.prototype.setRemoveButton=function(e){this.m_removeButton=e};e.OuDesignerListItem.prototype.setupExt=function(t,i,o){this.m_root=t;this.m_label=i;this.m_checkbox=o;this.m_children=e.XList.create()};e.OuDesignerListItem.prototype.toString=function(){let t=this.getModelComponent();if(e.isNull(t)){return null}let i=e.QueryPresentationUtils.DESCRIPTION_AND_ID;return i.getDisplayValueByType(t)};e.OuDesignerFormulaPopoverIcon=function(){};e.OuDesignerFormulaPopoverIcon.prototype=new e.XObject;e.OuDesignerFormulaPopoverIcon.prototype._ff_c="OuDesignerFormulaPopoverIcon";e.OuDesignerFormulaPopoverIcon.create=function(t,i,o){let n=new e.OuDesignerFormulaPopoverIcon;n.m_member=i;n.m_messageManager=o;n.initializeComposite(t);return n};e.OuDesignerFormulaPopoverIcon.prototype.m_member=null;e.OuDesignerFormulaPopoverIcon.prototype.m_messageManager=null;e.OuDesignerFormulaPopoverIcon.prototype.m_popover=null;e.OuDesignerFormulaPopoverIcon.prototype.m_textControl=null;e.OuDesignerFormulaPopoverIcon.prototype.m_warningIcon=null;e.OuDesignerFormulaPopoverIcon.prototype.getView=function(){return this.m_warningIcon};e.OuDesignerFormulaPopoverIcon.prototype.initializeComposite=function(t){this.m_popover=t.newControl(e.UiType.POPOVER);this.m_popover.addCssClass("ffGdsQbDesignerPanelFormulaWarningPopover");this.m_popover.setPadding(e.UiCssBoxEdges.create("0.75rem"));this.m_popover.setMinWidth(e.UiCssLength.create("12rem"));this.m_popover.setHorizontalScrolling(false);this.m_popover.setPlacement(e.UiPlacementType.VERTICAL);let i=e.OuDesignerFormulaHelper.extractDisplayableTextFromMessages(this.m_member,this.m_messageManager);this.m_textControl=this.m_popover.setNewContent(e.UiType.TEXT);this.m_textControl.useMaxSpace();this.m_textControl.setText(i);this.m_textControl.setWrapping(true);this.m_warningIcon=t.newControl(e.UiType.ICON);this.m_warningIcon.addCssClass("ffGdsQbDesignerPanelFormulaWarningIcon");this.m_warningIcon.setMinWidth(e.UiCssLength.create("2rem"));this.m_warningIcon.setIcon("fpa/warning");this.m_warningIcon.setColor(e.UiColor.ORANGE);this.m_warningIcon.registerOnHover(e.UiLambdaHoverListener.create(e=>{this.m_popover.openAt(this.m_warningIcon)}));this.m_warningIcon.registerOnHoverEnd(e.UiLambdaHoverEndListener.create(e=>{this.m_popover.close()}));this.m_warningIcon.registerOnPress(e.UiLambdaPressListener.create(e=>{if(this.m_popover.isOpen()){this.m_popover.close()}else{this.m_popover.openAt(this.m_warningIcon)}}))};e.OuDesignerFormulaPopoverIcon.prototype.releaseObject=function(){this.m_member=null;this.m_messageManager=null;this.m_textControl=null;this.m_popover=e.XObjectExt.release(this.m_popover);this.m_warningIcon=e.XObjectExt.release(this.m_warningIcon);e.XObject.prototype.releaseObject.call(this)};e.OuDesignerFormulaPopoverIcon.prototype.setMessageManager=function(t){this.m_messageManager=t;if(e.isNull(this.m_messageManager)){this.m_textControl.setText(null);return}let i=e.OuDesignerFormulaHelper.extractDisplayableTextFromMessages(this.m_member,this.m_messageManager);this.m_textControl.setText(i)};e.OuDimensionPanelListConfig=function(){};e.OuDimensionPanelListConfig.prototype=new e.XObject;e.OuDimensionPanelListConfig.prototype._ff_c="OuDimensionPanelListConfig";e.OuDimensionPanelListConfig.createConfig=function(t){let i=new e.OuDimensionPanelListConfig;i.setupConfig(t);return i};e.OuDimensionPanelListConfig.prototype.m_application=null;e.OuDimensionPanelListConfig.prototype.m_calculationsEnabled=false;e.OuDimensionPanelListConfig.prototype.m_dragElementTag=null;e.OuDimensionPanelListConfig.prototype.m_focusContext=null;e.OuDimensionPanelListConfig.prototype.m_i18nProviderName=null;e.OuDimensionPanelListConfig.prototype.m_menuProvider=null;e.OuDimensionPanelListConfig.prototype.m_onAttributeItemCreated=null;e.OuDimensionPanelListConfig.prototype.m_onMemberItemCreated=null;e.OuDimensionPanelListConfig.prototype.m_presentation=null;e.OuDimensionPanelListConfig.prototype.m_rightClickContextMenuForAttributeEnabled=false;e.OuDimensionPanelListConfig.prototype.m_rightClickContextMenuForDimensionEnabled=false;e.OuDimensionPanelListConfig.prototype.m_rightClickContextMenuForMemberEnabled=false;e.OuDimensionPanelListConfig.prototype.m_showAttributes=false;e.OuDimensionPanelListConfig.prototype.m_showMeasureMoreMenuButton=false;e.OuDimensionPanelListConfig.prototype.getApplication=function(){return this.m_application};e.OuDimensionPanelListConfig.prototype.getDefaultPresentation=function(){return this.m_presentation};e.OuDimensionPanelListConfig.prototype.getDragElementTag=function(){return this.m_dragElementTag};e.OuDimensionPanelListConfig.prototype.getFocusContext=function(){return this.m_focusContext};e.OuDimensionPanelListConfig.prototype.getLocalizationProviderName=function(){return this.m_i18nProviderName};e.OuDimensionPanelListConfig.prototype.getMenuProvider=function(){return this.m_menuProvider};e.OuDimensionPanelListConfig.prototype.getOnAttributeItemCreated=function(){return this.m_onAttributeItemCreated};e.OuDimensionPanelListConfig.prototype.getOnMemberItemCreated=function(){return this.m_onMemberItemCreated};e.OuDimensionPanelListConfig.prototype.isCalculationsEnabled=function(){return this.m_calculationsEnabled};e.OuDimensionPanelListConfig.prototype.isRightClickContextMenuForAttributeEnabled=function(){return this.m_rightClickContextMenuForAttributeEnabled};e.OuDimensionPanelListConfig.prototype.isRightClickContextMenuForDimensionEnabled=function(){return this.m_rightClickContextMenuForDimensionEnabled};e.OuDimensionPanelListConfig.prototype.isRightClickContextMenuForMemberEnabled=function(){return this.m_rightClickContextMenuForMemberEnabled};e.OuDimensionPanelListConfig.prototype.isShowAttributes=function(){return this.m_showAttributes};e.OuDimensionPanelListConfig.prototype.releaseObject=function(){this.m_application=null;this.m_presentation=null;this.m_menuProvider=null;this.m_dragElementTag=null;this.m_i18nProviderName=null;this.m_onMemberItemCreated=null;this.m_onAttributeItemCreated=null;this.m_focusContext=null;e.XObject.prototype.releaseObject.call(this)};e.OuDimensionPanelListConfig.prototype.setCalculationsEnabled=function(e){this.m_calculationsEnabled=e};e.OuDimensionPanelListConfig.prototype.setDefaultPresentation=function(e){this.m_presentation=e};e.OuDimensionPanelListConfig.prototype.setDragElementTag=function(e){this.m_dragElementTag=e};e.OuDimensionPanelListConfig.prototype.setFocusContext=function(e){this.m_focusContext=e};e.OuDimensionPanelListConfig.prototype.setLocalizationProviderName=function(e){this.m_i18nProviderName=e};e.OuDimensionPanelListConfig.prototype.setMenuProvider=function(e){this.m_menuProvider=e};e.OuDimensionPanelListConfig.prototype.setOnAttributeItemCreated=function(e){this.m_onAttributeItemCreated=e};e.OuDimensionPanelListConfig.prototype.setOnMemberItemCreated=function(e){this.m_onMemberItemCreated=e};e.OuDimensionPanelListConfig.prototype.setRightClickContextMenuForAttributeEnabled=function(e){this.m_rightClickContextMenuForAttributeEnabled=e};e.OuDimensionPanelListConfig.prototype.setRightClickContextMenuForDimensionEnabled=function(e){this.m_rightClickContextMenuForDimensionEnabled=e};e.OuDimensionPanelListConfig.prototype.setRightClickContextMenuForMemberEnabled=function(e){this.m_rightClickContextMenuForMemberEnabled=e};e.OuDimensionPanelListConfig.prototype.setShowAttributes=function(e){this.m_showAttributes=e};e.OuDimensionPanelListConfig.prototype.setShowMeasureMoreMenuButton=function(e){this.m_showMeasureMoreMenuButton=e};e.OuDimensionPanelListConfig.prototype.setupConfig=function(t){this.m_application=t;this.m_presentation=e.QueryPresentationUtils.DESCRIPTION};e.OuDimensionPanelListConfig.prototype.showMeasureMoreMenuButton=function(){return this.m_showMeasureMoreMenuButton};e.OuMagicPanel=function(){};e.OuMagicPanel.prototype=new e.XObject;e.OuMagicPanel.prototype._ff_c="OuMagicPanel";e.OuMagicPanel.create=function(t){let i=new e.OuMagicPanel;i.initializeComposite(t);return i};e.OuMagicPanel.prototype.m_onCollapse=null;e.OuMagicPanel.prototype.m_onExpand=null;e.OuMagicPanel.prototype.m_panel=null;e.OuMagicPanel.prototype.m_panelContent=null;e.OuMagicPanel.prototype.m_placeholderContent=null;e.OuMagicPanel.prototype.m_timeout=null;e.OuMagicPanel.prototype.getPanelContent=function(){return this.m_panelContent};e.OuMagicPanel.prototype.getView=function(){return this.m_panel};e.OuMagicPanel.prototype.initializeComposite=function(t){this.m_panel=t.newControl(e.UiType.PANEL);this.m_panel.removeAttribute(e.UtUi5AttributeConstants.FAST_NAV_GROUP);this.m_panel.addCssClass("ffMagicPanel");this.m_panel.addCssClass("ffGdsQbFoldable");this.m_panel.setBackgroundDesign(e.UiBackgroundDesign.TRANSPARENT);this.m_panel.setMinHeight(e.UiCssLength.create("0"));this.m_placeholderContent=this.m_panel.setNewContent(e.UiType.CONTENT_WRAPPER);this.m_placeholderContent.useMaxWidth();this.m_panel.registerOnExpand(e.UiLambdaExpandListener.create(t=>{e.XTimeout.clear(this.m_timeout);if(e.isNull(this.m_panel)||e.isNull(this.m_panelContent)||this.m_panel.isReleased()||this.m_panelContent.isReleased()){return}this.m_panel.setContent(this.m_panelContent);if(e.notNull(this.m_onExpand)){this.m_onExpand()}}));this.m_panel.registerOnCollapse(e.UiLambdaCollapseListener.create(t=>{e.XTimeout.clear(this.m_timeout);if(e.isNull(this.m_panel)||e.isNull(this.m_panelContent)||this.m_panel.isReleased()||this.m_panelContent.isReleased()){return}this.m_timeout=e.XTimeout.timeout(500,()=>{this.m_panel.setContent(this.m_placeholderContent)});if(e.notNull(this.m_onCollapse)){this.m_onCollapse()}}))};e.OuMagicPanel.prototype.releaseObject=function(){e.XTimeout.clear(this.m_timeout);this.m_timeout=null;this.m_onExpand=null;this.m_onCollapse=null;this.m_panel=e.XObjectExt.release(this.m_panel);this.m_placeholderContent=e.XObjectExt.release(this.m_placeholderContent);this.m_panelContent=e.XObjectExt.release(this.m_panelContent);e.XObject.prototype.releaseObject.call(this)};e.OuMagicPanel.prototype.setContentHeightInRem=function(t){let i=e.XStringUtils.concatenate2(e.XInteger.convertToString(t),"rem");this.m_placeholderContent.setMinHeight(e.UiCssLength.create(i))};e.OuMagicPanel.prototype.setExpandable=function(e){this.m_panel.setExpandable(e);this.updateContent()};e.OuMagicPanel.prototype.setExpanded=function(e){this.m_panel.setExpanded(e);this.updateContent()};e.OuMagicPanel.prototype.setOnCollapse=function(e){this.m_onCollapse=e};e.OuMagicPanel.prototype.setOnExpand=function(e){this.m_onExpand=e};e.OuMagicPanel.prototype.setPanelContent=function(e){this.m_panelContent=e};e.OuMagicPanel.prototype.updateContent=function(){if(!this.m_panel.isExpandable()){this.m_panel.setContent(null)}else{this.m_panel.setContent(this.m_panel.isExpanded()?this.m_panelContent:this.m_placeholderContent)}};e.OuPanelList=function(){};e.OuPanelList.prototype=new e.XObject;e.OuPanelList.prototype._ff_c="OuPanelList";e.OuPanelList.create=function(t){let i=new e.OuPanelList;i.initializeComposite(t);return i};e.OuPanelList.prototype.m_dropZone=null;e.OuPanelList.prototype.m_genesis=null;e.OuPanelList.prototype.m_headerLayout=null;e.OuPanelList.prototype.m_list=null;e.OuPanelList.prototype.m_panel=null;e.OuPanelList.prototype.m_panelContent=null;e.OuPanelList.prototype.m_scroll=null;e.OuPanelList.prototype.m_title=null;e.OuPanelList.prototype.getDropZone=function(){return this.m_dropZone};e.OuPanelList.prototype.getHeaderLayout=function(){return this.m_headerLayout};e.OuPanelList.prototype.getList=function(){return this.m_list};e.OuPanelList.prototype.getPanel=function(){return this.m_panel};e.OuPanelList.prototype.getPanelContent=function(){return this.m_panelContent};e.OuPanelList.prototype.getScroll=function(){return this.m_scroll};e.OuPanelList.prototype.getTitle=function(){return this.m_title};e.OuPanelList.prototype.getView=function(){return this.m_panel};e.OuPanelList.prototype.initializeComposite=function(t){this.m_genesis=t;this.m_panel=t.newControl(e.UiType.PANEL);this.m_panel.removeAttribute(e.UtUi5AttributeConstants.FAST_NAV_GROUP);this.m_panel.addCssClass("ffGdsQbFoldable");this.m_panel.useMaxHeight();this.m_panel.setExpandable(true);this.m_panel.setBackgroundDesign(e.UiBackgroundDesign.TRANSPARENT);this.m_headerLayout=this.m_panel.setNewHeaderToolbar();this.m_headerLayout.removeAttribute(e.UtUi5AttributeConstants.FAST_NAV_GROUP);this.m_title=this.m_headerLayout.addNewItemOfType(e.UiType.TITLE);this.m_title.setTitleStyle(e.UiTitleLevel.H_5);this.m_title.setTitleLevel(e.UiTitleLevel.H_5);this.m_title.setMargin(e.UiCssBoxEdges.create("0"));this.m_panelContent=this.m_panel.setNewContent(e.UiType.FLEX_LAYOUT);this.m_panelContent.setDirection(e.UiFlexDirection.COLUMN);this.m_panelContent.useMaxHeight();this.m_scroll=this.m_panelContent.addNewItemOfType(e.UiType.SCROLL_CONTAINER);this.replaceList(e.XList.create());this.m_dropZone=this.m_panelContent.addNewItemOfType(e.UiType.FLEX_LAYOUT);this.m_dropZone.setFlex("1 1 auto")};e.OuPanelList.prototype.isVisible=function(){return this.getView().isVisible()};e.OuPanelList.prototype.releaseObject=function(){this.m_title=e.XObjectExt.release(this.m_title);this.m_dropZone=e.XObjectExt.release(this.m_dropZone);this.m_list=e.XObjectExt.release(this.m_list);this.m_headerLayout=e.XObjectExt.release(this.m_headerLayout);this.m_panelContent=e.XObjectExt.release(this.m_panelContent);this.m_panel=e.XObjectExt.release(this.m_panel);e.XObject.prototype.releaseObject.call(this)};e.OuPanelList.prototype.replaceList=function(t){let i=this.m_genesis.newControl(e.UiType.LIST);i.removeAttribute(e.UtUi5AttributeConstants.FAST_NAV_GROUP);i.addAllItems(t);this.m_scroll.setContent(i);this.m_list=i};e.OuPanelList.prototype.setVisible=function(e){this.getView().setVisible(e)};e.OuDesignerDragPayloadSimple=function(){};e.OuDesignerDragPayloadSimple.prototype=new e.XObject;e.OuDesignerDragPayloadSimple.prototype._ff_c="OuDesignerDragPayloadSimple";e.OuDesignerDragPayloadSimple.createWrapper=function(t){let i=new e.OuDesignerDragPayloadSimple;i.m_modelComponent=t;return i};e.OuDesignerDragPayloadSimple.prototype.m_modelComponent=null;e.OuDesignerDragPayloadSimple.prototype.getModelComponent=function(){return this.m_modelComponent};e.OuDesignerDragPayloadSimple.prototype.releaseObject=function(){this.m_modelComponent=null;e.XObject.prototype.releaseObject.call(this)};e.OuDesignerFormulaHelper={extractDisplayableTextFromMessages:function(t,i){if(i.containsCode(e.Severity.WARNING,e.ErrorCodes.MEASURE_MISSING_DEPENDENT)){let o=e.XStringBuffer.create();o.appendLine(e.OuDesignerFormulaHelper.getLocalizationProvider().getTextWithPlaceholder(e.OuFormulaValidationI18n.NAV_CALCULATION_INVALID_DEPENDENCY_INFO,t.getText()));let n=e.OuDesignerFormulaHelper.getMissingDependencyMeasureNames(i);e.XCollectionUtils.forEach(n,e=>{o.appendLine(e)});return o.toString()}if(i.containsCode(e.Severity.WARNING,e.ErrorCodes.MEASURE_PREFERRED_HIERARCHY_MISMATCH)){let i=t.getDimension();if(i.getDimensionType()===e.DimensionType.ACCOUNT){return e.OuDesignerFormulaHelper.getLocalizationProvider().getText(e.OuFormulaValidationI18n.NAV_CALCULATION_PREFERRED_HIERARCHY_MISMATCH_ACCOUNT)}return e.OuDesignerFormulaHelper.getLocalizationProvider().getText(e.OuFormulaValidationI18n.NAV_CALCULATION_PREFERRED_HIERARCHY_MISMATCH_MEASURE)}if(i.containsCode(e.Severity.ERROR,e.ErrorCodes.MEASURE_MISSING_REQUIRED_DIMENSION)){let o=i.getMessage(e.Severity.ERROR,e.ErrorCodes.MEASURE_MISSING_REQUIRED_DIMENSION);let n=o.getExtendedInfo();if(e.XCollectionUtils.hasElements(n)){let o=t.getUnsatisfiedRequiredDimensionNames(t.getQueryModel(),i,n);let a=e.XStringBuffer.create();a.appendLine(e.OuDesignerFormulaHelper.getLocalizationProvider().getTextWithPlaceholder(e.OuFormulaValidationI18n.NAV_CALCULATION_MISSING_DIMENSIONS_INFO,t.getText()));e.XCollectionUtils.forEach(o.getValuesAsReadOnlyList(),i=>{let o=t.getQueryModel().getDimensionByName(i);let n=o.getText();if(!e.QDimensionUtil.shouldDimensionBeShownForRowsOrColumns(o,true)&&e.XCollectionUtils.hasElements(o.getGroupingDimensions())){let e=o.getGroupingDimensions().get(0);n=e.getText()}a.appendLine(n)});return a.toString()}}if(i.hasErrors()||i.hasWarnings()){return e.OuDesignerFormulaHelper.getLocalizationProvider().getTextWithPlaceholder(e.OuFormulaValidationI18n.NAV_CALCULATION_INVALID_INFO,t.getText())}return null},getLocalizationProvider:function(){return e.XLocalizationCenter.getCenter().getLocalizationProviderByName(e.OuFormulaValidationI18n.PROVIDER_NAME)},getMissingDependencyMeasureNames:function(t){let i=e.XList.create();for(let o=0;o<t.getMessages().size();o++){let n=t.getMessages().get(o);if(n.getCode()!==e.ErrorCodes.MEASURE_MISSING_DEPENDENT){continue}let a=e.JsonParserFactory.createFromString(n.getText());if(e.isNull(a)||!a.isStructure()){continue}let r=a.asStructure().getListByKey("args");if(e.notNull(r)&&!r.isEmpty()){i.add(r.getStringAt(0))}}return i},validateFormula:function(t){let i=t.validateWithQueryModelScope(t.getQueryModel());if(i.hasErrors()||i.hasWarnings()){return i}let o=e.MessageManagerSimple.createMessageManager();t.validate(t.getDimension(),o,true,true);return o},validateFormulaAndExtractDisplayableText:function(t){let i=e.OuDesignerFormulaHelper.validateFormula(t);return e.OuDesignerFormulaHelper.extractDisplayableTextFromMessages(t,i)}};e.OuInventoryCalculationLink=function(){};e.OuInventoryCalculationLink.prototype=new e.XObject;e.OuInventoryCalculationLink.prototype._ff_c="OuInventoryCalculationLink";e.OuInventoryCalculationLink.create=function(t){let i=new e.OuInventoryCalculationLink;i.setupExt(t);return i};e.OuInventoryCalculationLink.prototype.m_root=null;e.OuInventoryCalculationLink.prototype.getRoot=function(){return this.m_root};e.OuInventoryCalculationLink.prototype.releaseObject=function(){this.m_root=e.XObjectExt.release(this.m_root);e.XObject.prototype.releaseObject.call(this)};e.OuInventoryCalculationLink.prototype.setupExt=function(e){this.m_root=e};e.OuInventoryStructure=function(){};e.OuInventoryStructure.prototype=new e.XObject;e.OuInventoryStructure.prototype._ff_c="OuInventoryStructure";e.OuInventoryStructure.createView=function(t){let i=new e.OuInventoryStructure;i.setupExt(t);return i};e.OuInventoryStructure.getAllChildrenRecursive=function(t){let i=e.XList.create();for(let o=0;o<t.size();o++){let n=t.get(o);i.add(n);let a=e.OuInventoryStructure.getAllChildrenRecursive(n.getDirectChildren());i.addAll(a)}return i};e.OuInventoryStructure.prototype.m_calculations=null;e.OuInventoryStructure.prototype.m_calculationsLink=null;e.OuInventoryStructure.prototype.m_childrenList=null;e.OuInventoryStructure.prototype.m_colIco=null;e.OuInventoryStructure.prototype.m_dimension=null;e.OuInventoryStructure.prototype.m_dimensionList=null;e.OuInventoryStructure.prototype.m_header=null;e.OuInventoryStructure.prototype.m_memberHierarchy=false;e.OuInventoryStructure.prototype.m_members=null;e.OuInventoryStructure.prototype.m_panel=null;e.OuInventoryStructure.prototype.m_rowIco=null;e.OuInventoryStructure.prototype.m_selectAll=null;e.OuInventoryStructure.prototype.addCalculation=function(e){this.m_calculations.add(e)};e.OuInventoryStructure.prototype.addChild=function(e){this.m_members.add(e);this.m_childrenList.addItem(e.getRoot())};e.OuInventoryStructure.prototype.getAllChildren=function(){return e.OuInventoryStructure.getAllChildrenRecursive(this.m_members)};e.OuInventoryStructure.prototype.getCalculations=function(){return this.m_calculations};e.OuInventoryStructure.prototype.getCalculationsLink=function(){return this.m_calculationsLink};e.OuInventoryStructure.prototype.getChildrenList=function(){return this.m_childrenList};e.OuInventoryStructure.prototype.getColumnIcon=function(){return this.m_colIco};e.OuInventoryStructure.prototype.getDimension=function(){return this.m_dimension};e.OuInventoryStructure.prototype.getDimensionList=function(){return this.m_dimensionList};e.OuInventoryStructure.prototype.getDirectChildren=function(){return this.m_members};e.OuInventoryStructure.prototype.getHeader=function(){return this.m_header};e.OuInventoryStructure.prototype.getIconContainer=function(){return this.m_header};e.OuInventoryStructure.prototype.getModelComponent=function(){return this.m_dimension};e.OuInventoryStructure.prototype.getName=function(){return this.m_dimension.getDisplayName()};e.OuInventoryStructure.prototype.getPanel=function(){return this.m_panel};e.OuInventoryStructure.prototype.getRowIcon=function(){return this.m_rowIco};e.OuInventoryStructure.prototype.getSelectAll=function(){return this.m_selectAll};e.OuInventoryStructure.prototype.hasMemberHierarchy=function(){return this.m_memberHierarchy};e.OuInventoryStructure.prototype.releaseObject=function(){this.m_dimension=null;this.m_panel=e.XObjectExt.release(this.m_panel);this.m_dimensionList=e.XObjectExt.release(this.m_dimensionList);this.m_selectAll=e.XObjectExt.release(this.m_selectAll);this.m_rowIco=e.XObjectExt.release(this.m_rowIco);this.m_colIco=e.XObjectExt.release(this.m_colIco);this.m_header=e.XObjectExt.release(this.m_header);this.m_childrenList=e.XObjectExt.release(this.m_childrenList);this.m_calculationsLink=e.XObjectExt.release(this.m_calculationsLink);this.m_members=e.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_members);this.m_calculations=e.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_calculations);e.XObject.prototype.releaseObject.call(this)};e.OuInventoryStructure.prototype.setCalculationsLink=function(e){this.m_calculationsLink=e};e.OuInventoryStructure.prototype.setChildrenList=function(e){this.m_childrenList=e};e.OuInventoryStructure.prototype.setColIcon=function(e){this.m_colIco=e};e.OuInventoryStructure.prototype.setDimension=function(e){this.m_dimension=e};e.OuInventoryStructure.prototype.setDimensionList=function(e){this.m_dimensionList=e};e.OuInventoryStructure.prototype.setHeader=function(e){this.m_header=e};e.OuInventoryStructure.prototype.setMemberHierarchy=function(e){this.m_memberHierarchy=e};e.OuInventoryStructure.prototype.setPanel=function(e){this.m_panel=e};e.OuInventoryStructure.prototype.setRowIcon=function(e){this.m_rowIco=e};e.OuInventoryStructure.prototype.setSelectAll=function(e){this.m_selectAll=e};e.OuInventoryStructure.prototype.setupExt=function(t){this.m_dimension=t;this.m_members=e.XList.create();this.m_calculations=e.XList.create()};e.OuInventoryStructure.prototype.toString=function(){if(e.isNull(this.m_dimension)){return null}let t=e.QueryPresentationUtils.DESCRIPTION_AND_ID;return t.composeDisplayStrings(this.m_dimension.getDisplayName(),this.m_dimension.getDisplayDescription())};e.OuInventoryViewSortMenu=function(){};e.OuInventoryViewSortMenu.prototype=new e.XObject;e.OuInventoryViewSortMenu.prototype._ff_c="OuInventoryViewSortMenu";e.OuInventoryViewSortMenu.create=function(t){let i=new e.OuInventoryViewSortMenu;i.m_menu=t;i.buildSortMenuForStructures();return i};e.OuInventoryViewSortMenu.prototype.m_ascendingItem=null;e.OuInventoryViewSortMenu.prototype.m_defaultOrderItem=null;e.OuInventoryViewSortMenu.prototype.m_descendingItem=null;e.OuInventoryViewSortMenu.prototype.m_menu=null;e.OuInventoryViewSortMenu.prototype.m_rootItem=null;e.OuInventoryViewSortMenu.prototype.addCssClass=function(t){this.m_rootItem.addCssClass(t);this.m_defaultOrderItem.addCssClass(e.XStringUtils.concatenate2(t,"Default"));this.m_ascendingItem.addCssClass(e.XStringUtils.concatenate2(t,"Ascending"));this.m_descendingItem.addCssClass(e.XStringUtils.concatenate2(t,"Descending"))};e.OuInventoryViewSortMenu.prototype.buildSortMenuForStructures=function(){let t=this.getLocalizationProvider();this.m_rootItem=this.m_menu.addNewItem();this.m_rootItem.setText(t.getText(e.OuInventoryViewI18n.NAV_MENU_SORT));this.m_defaultOrderItem=this.m_rootItem.addNewItem();this.m_defaultOrderItem.setText(t.getText(e.OuInventoryViewI18n.NAV_MENU_SORT_DEFAULT));this.m_ascendingItem=this.m_rootItem.addNewItem();this.m_ascendingItem.setText(t.getText(e.OuInventoryViewI18n.NAV_MENU_SORT_ASCENDING));this.m_descendingItem=this.m_rootItem.addNewItem();this.m_descendingItem.setText(t.getText(e.OuInventoryViewI18n.NAV_MENU_SORT_DESCENDING))};e.OuInventoryViewSortMenu.prototype.getLocalizationProvider=function(){return e.XLocalizationCenter.getCenter().getLocalizationProviderByName(e.OuInventoryViewI18n.PROVIDER_NAME)};e.OuInventoryViewSortMenu.prototype.releaseObject=function(){this.m_menu=null;this.m_defaultOrderItem=e.XObjectExt.release(this.m_defaultOrderItem);this.m_ascendingItem=e.XObjectExt.release(this.m_ascendingItem);this.m_descendingItem=e.XObjectExt.release(this.m_descendingItem);e.XObject.prototype.releaseObject.call(this)};e.OuInventoryViewSortMenu.prototype.setConsumer=function(t){this.m_defaultOrderItem.registerOnPress(e.UiLambdaPressListener.create(i=>{t(e.XSortDirection.NONE)}));this.m_ascendingItem.registerOnPress(e.UiLambdaPressListener.create(i=>{t(e.XSortDirection.ASCENDING)}));this.m_descendingItem.registerOnPress(e.UiLambdaPressListener.create(i=>{t(e.XSortDirection.DESCENDING)}))};e.OuInventoryViewSortMenu.prototype.update=function(t){this.m_defaultOrderItem.setIcon(t===e.XSortDirection.NONE?"accept":null);this.m_ascendingItem.setIcon(t===e.XSortDirection.ASCENDING?"accept":null);this.m_descendingItem.setIcon(t===e.XSortDirection.DESCENDING?"accept":null)};e.OuCalcAssistancePanelConfigBuilder=function(){};e.OuCalcAssistancePanelConfigBuilder.prototype=new e.OuCalcPanelConfigBuilder;e.OuCalcAssistancePanelConfigBuilder.prototype._ff_c="OuCalcAssistancePanelConfigBuilder";e.OuCalcAssistancePanelConfigBuilder.create=function(){return new e.OuCalcAssistancePanelConfigBuilder};e.OuCalcAssistancePanelConfigBuilder.prototype.build=function(){return e.OuCalcAssistancePanelConfig.create(e.OuCalcPanelRenderConfig.create(this.m_anchorTag,this.m_domId))};e.OuCalcCodeEditorPanelConfigBuilder=function(){};e.OuCalcCodeEditorPanelConfigBuilder.prototype=new e.OuCalcPanelConfigBuilder;e.OuCalcCodeEditorPanelConfigBuilder.prototype._ff_c="OuCalcCodeEditorPanelConfigBuilder";e.OuCalcCodeEditorPanelConfigBuilder.create=function(){return new e.OuCalcCodeEditorPanelConfigBuilder};e.OuCalcCodeEditorPanelConfigBuilder.prototype.build=function(){return e.OuCalcCodeEditorPanelConfig.create(e.OuCalcPanelRenderConfig.create(this.m_anchorTag,this.m_domId))};e.OuCalcDetailsPanelConfigBuilder=function(){};e.OuCalcDetailsPanelConfigBuilder.prototype=new e.OuCalcPanelConfigBuilder;e.OuCalcDetailsPanelConfigBuilder.prototype._ff_c="OuCalcDetailsPanelConfigBuilder";e.OuCalcDetailsPanelConfigBuilder.create=function(){return new e.OuCalcDetailsPanelConfigBuilder};e.OuCalcDetailsPanelConfigBuilder.prototype.build=function(){return e.OuCalcDetailsPanelConfig.create(e.OuCalcPanelRenderConfig.create(this.m_anchorTag,this.m_domId))};e.OuCalcFormulaItemListPanelConfigBuilder=function(){};e.OuCalcFormulaItemListPanelConfigBuilder.prototype=new e.OuCalcPanelConfigBuilder;e.OuCalcFormulaItemListPanelConfigBuilder.prototype._ff_c="OuCalcFormulaItemListPanelConfigBuilder";e.OuCalcFormulaItemListPanelConfigBuilder.create=function(){return new e.OuCalcFormulaItemListPanelConfigBuilder};e.OuCalcFormulaItemListPanelConfigBuilder.prototype.build=function(){return e.OuCalcFormulaItemListPanelConfig.create(e.OuCalcPanelRenderConfig.create(this.m_anchorTag,this.m_domId))};e.OuCalcEventEmitterManager=function(){};e.OuCalcEventEmitterManager.prototype=new e.OuAbstractCalcEventManager;e.OuCalcEventEmitterManager.prototype._ff_c="OuCalcEventEmitterManager";e.OuCalcEventEmitterManager.create=function(t){let i=new e.OuCalcEventEmitterManager;i.m_notificationCenter=t;return i};e.OuCalcEventEmitterManager.prototype.fireAssistancePanelCollapsed=function(t){let i=e.FeFeatureToggle.isActive(e.FeFeatureToggle.DIALOG_NEW_LAYOUT)?e.OuCalcAssistancePluginV2.FE_NOTIFICATION_ASSISTANCE_PANEL_COLLAPSED_DATA:e.OuCalcAssistancePlugin.FE_NOTIFICATION_ASSISTANCE_PANEL_COLLAPSED_DATA;let o=e.FeFeatureToggle.isActive(e.FeFeatureToggle.DIALOG_NEW_LAYOUT)?e.OuCalcAssistancePluginV2.FE_NOTIFICATION_ASSISTANCE_PANEL_COLLAPSED:e.OuCalcAssistancePlugin.FE_NOTIFICATION_ASSISTANCE_PANEL_COLLAPSED;let n=e.XNotificationData.create();n.putBoolean(i,t);this.m_notificationCenter.postNotificationWithName(o,n)};e.OuCalcEventEmitterManager.prototype.fireAssistancePanelOpened=function(t){let i=e.XNotificationData.create();i.putString(e.OuCalcAssistancePlugin.FE_NOTIFICATION_ASSISTANCE_PANEL_OPENED_DATA,t);this.m_notificationCenter.postNotificationWithName(e.OuCalcAssistancePlugin.FE_NOTIFICATION_ASSISTANCE_PANEL_OPENED,i)};e.OuCalcEventEmitterManager.prototype.fireExplainFormula=function(t){let i=e.XNotificationData.create();i.putString(e.OuCalcCalculations.NOTIFICATION_DATA_KEY,t);this.m_notificationCenter.postNotificationWithName(e.OuCalcAssistancePlugin.FE_NOTIFICATION_EXPLAIN,i)};e.OuCalcEventEmitterManager.prototype.fireFormulaItemChosen=function(t){let i=e.XNotificationData.create();i.putString(e.OuCalcFormulaElementListPlugin.FE_NOTIFICATION_CHOSEN_FORMULA_ITEM_DATA,t);this.m_notificationCenter.postNotificationWithName(e.OuCalcFormulaElementListPlugin.FE_NOTIFICATION_CHOSEN_FORMULA_ITEM,i)};e.OuCalcEventEmitterManager.prototype.fireListItemPanelCollapsed=function(t){let i=e.XNotificationData.create();i.putBoolean(e.OuCalcFormulaElementListPlugin.FE_NOTIFICATION_ITEM_LIST_PANEL_COLLAPSED_DATA,t);this.m_notificationCenter.postNotificationWithName(e.OuCalcFormulaElementListPlugin.FE_NOTIFICATION_ITEM_LIST_PANEL_COLLAPSED,i)};e.OuCalcEventEmitterManager.prototype.fireSetFormula=function(t){let i=e.XNotificationData.create();i.putString(e.OuCalcCalculations.NOTIFICATION_DATA_KEY,t);this.m_notificationCenter.postNotificationWithName(e.OuCalcCodeEditorPlugin.FE_NOTIFICATION_CODE_EDITOR_VALUE_SET,i)};e.OuCalcEventEmitterManager.prototype.fireValidationMessageSet=function(t){let i=e.XNotificationData.create();i.putXObject(e.OuCalcCalculations.NOTIFICATION_DATA_KEY,t);this.m_notificationCenter.postNotificationWithName(e.OuCalcCalculations.FE_NOTIFICATION_SET_VALIDATION_MESSAGES,i)};e.OuCalcEventListenerManager=function(){};e.OuCalcEventListenerManager.prototype=new e.OuAbstractCalcEventManager;e.OuCalcEventListenerManager.prototype._ff_c="OuCalcEventListenerManager";e.OuCalcEventListenerManager.create=function(t){let i=new e.OuCalcEventListenerManager;i.setupInternal(t);i.m_observersUUIds=e.XList.create();return i};e.OuCalcEventListenerManager.prototype.m_observersUUIds=null;e.OuCalcEventListenerManager.prototype.addObserverForName=function(t,i){let o=this.m_notificationCenter.addObserverForName(t,i);this.m_observersUUIds.add(e.XStringValue.create(o));return o};e.OuCalcEventListenerManager.prototype.onAssistancePanelCollapsed=function(t){let i=e.FeFeatureToggle.isActive(e.FeFeatureToggle.DIALOG_NEW_LAYOUT)?e.OuCalcAssistancePluginV2.FE_NOTIFICATION_ASSISTANCE_PANEL_COLLAPSED_DATA:e.OuCalcAssistancePlugin.FE_NOTIFICATION_ASSISTANCE_PANEL_COLLAPSED_DATA;let o=e.FeFeatureToggle.isActive(e.FeFeatureToggle.DIALOG_NEW_LAYOUT)?e.OuCalcAssistancePluginV2.FE_NOTIFICATION_ASSISTANCE_PANEL_COLLAPSED:e.OuCalcAssistancePlugin.FE_NOTIFICATION_ASSISTANCE_PANEL_COLLAPSED;return this.addObserverForName(o,o=>{t(e.XBooleanValue.create(o.getBooleanByKey(i)))})};e.OuCalcEventListenerManager.prototype.onAssistancePanelOpened=function(t){return this.addObserverForName(e.OuCalcAssistancePlugin.FE_NOTIFICATION_ASSISTANCE_PANEL_OPENED,i=>{t(i.getStringByKey(e.OuCalcAssistancePlugin.FE_NOTIFICATION_ASSISTANCE_PANEL_OPENED_DATA))})};e.OuCalcEventListenerManager.prototype.onControlFocused=function(t){return this.addObserverForName(e.OuCalcCalculations.FE_NOTIFICATION_CONTROL_FOCUS,i=>{let o=i.getXObjectByKey(e.OuCalcCalculations.NOTIFICATION_DATA_KEY);t(o)})};e.OuCalcEventListenerManager.prototype.onFormulaExplain=function(t){return this.addObserverForName(e.OuCalcAssistancePlugin.FE_NOTIFICATION_EXPLAIN,i=>{let o=i.getStringByKey(e.OuCalcCalculations.NOTIFICATION_DATA_KEY);t(o)})};e.OuCalcEventListenerManager.prototype.onFormulaItemChosen=function(t){return this.addObserverForName(e.OuCalcFormulaElementListPlugin.FE_NOTIFICATION_CHOSEN_FORMULA_ITEM,i=>{t(i.getStringByKey(e.OuCalcFormulaElementListPlugin.FE_NOTIFICATION_CHOSEN_FORMULA_ITEM_DATA))})};e.OuCalcEventListenerManager.prototype.onFormulaSet=function(t){return this.addObserverForName(e.OuCalcCodeEditorPlugin.FE_NOTIFICATION_CODE_EDITOR_VALUE_SET,i=>{let o=i.getStringByKey(e.OuCalcCalculations.NOTIFICATION_DATA_KEY);t(o)})};e.OuCalcEventListenerManager.prototype.onInitialDataSet=function(t){return this.addObserverForName(e.OuCalcCalculations.FE_NOTIFICATION_SET_INITIAL_DATA,i=>{let o=i.getXObjectByKey(e.OuCalcCalculations.NOTIFICATION_DATA_KEY);t(o)})};e.OuCalcEventListenerManager.prototype.onListItemPanelCollapsed=function(t){return this.addObserverForName(e.OuCalcFormulaElementListPlugin.FE_NOTIFICATION_ITEM_LIST_PANEL_COLLAPSED,i=>{t(e.XBooleanValue.create(i.getBooleanByKey(e.OuCalcFormulaElementListPlugin.FE_NOTIFICATION_ITEM_LIST_PANEL_COLLAPSED_DATA)))})};e.OuCalcEventListenerManager.prototype.onValidationMessageSet=function(t){return this.addObserverForName(e.OuCalcCalculations.FE_NOTIFICATION_SET_VALIDATION_MESSAGES,i=>{let o=i.getXObjectByKey(e.OuCalcCalculations.NOTIFICATION_DATA_KEY);t(o)})};e.OuCalcEventListenerManager.prototype.releaseObject=function(){e.XStream.of(this.m_observersUUIds).forEach(e=>{this.m_notificationCenter.removeObserverByUuid(e.getString())});this.m_observersUUIds.clear();this.m_observersUUIds=e.XObjectExt.release(this.m_observersUUIds);e.OuAbstractCalcEventManager.prototype.releaseObject.call(this)};e.OuCalcCloseParenthesisTokenProcessor=function(){};e.OuCalcCloseParenthesisTokenProcessor.prototype=new e.OuCalcBaseTokenProcessor;e.OuCalcCloseParenthesisTokenProcessor.prototype._ff_c="OuCalcCloseParenthesisTokenProcessor";e.OuCalcCloseParenthesisTokenProcessor.create=function(){return new e.OuCalcCloseParenthesisTokenProcessor};e.OuCalcCloseParenthesisTokenProcessor.prototype.handleToken=function(t){let i=t.getM_operators();let o=t.getM_countIf();let n;if(this.isCloseParenthesis(t.getM_currentFormulaToken())){if(this.isOpenParenthesis(i.get(i.size()-1))){i.removeAt(i.size()-1)}else if(this.isCommaAfterOpenParenthesis(i,o)){for(n=0;n<3;n++){i.removeAt(i.size()-1)}o--;t.setM_formattedString(e.XStringUtils.concatenate2(t.getM_formattedString(),e.OuCalcFormulaFormatterConstants.ENTER));for(n=0;n<o;n++){t.setM_formattedString(e.XStringUtils.concatenate2(t.getM_formattedString(),e.OuCalcFormulaFormatterConstants.TAB))}t.setM_countIf(o)}t.setM_formattedString(e.XStringUtils.concatenate2(t.getM_formattedString(),t.getM_currentFormulaToken()))}return t};e.OuCalcCloseParenthesisTokenProcessor.prototype.isCloseParenthesis=function(t){return e.XString.isEqual(t,e.OuCalcFormulaFormatterConstants.CLOSE_PARENTHESIS)};e.OuCalcCloseParenthesisTokenProcessor.prototype.isCommaAfterOpenParenthesis=function(e,t){return t>0&&e.size()>=3&&this.isComma(e.get(e.size()-1))&&this.isComma(e.get(e.size()-2))&&this.isOpenParenthesis(e.get(e.size()-3))};e.OuCalcCloseSquareBracketTokenProcessor=function(){};e.OuCalcCloseSquareBracketTokenProcessor.prototype=new e.OuCalcBaseTokenProcessor;e.OuCalcCloseSquareBracketTokenProcessor.prototype._ff_c="OuCalcCloseSquareBracketTokenProcessor";e.OuCalcCloseSquareBracketTokenProcessor.create=function(){return new e.OuCalcCloseSquareBracketTokenProcessor};e.OuCalcCloseSquareBracketTokenProcessor.prototype.handleToken=function(t){if(this.isCloseSquareBracket(t.getM_currentFormulaToken())){t.setM_tempFormattingState(e.XStringUtils.concatenate2(t.getM_tempFormattingState(),t.getM_currentFormulaToken()));t.setM_formattedString(e.XStringUtils.concatenate2(t.getM_formattedString(),t.getM_tempFormattingState()));t.setM_tempFormattingState(e.OuCalcFormulaFormatterConstants.SPACE)}return t};e.OuCalcCloseSquareBracketTokenProcessor.prototype.isCloseSquareBracket=function(t){return e.XString.isEqual(t,e.OuCalcFormulaFormatterConstants.CLOSE_SQAURE_BRACKETS)};e.OuCalcCommaTokenProcessor=function(){};e.OuCalcCommaTokenProcessor.prototype=new e.OuCalcBaseTokenProcessor;e.OuCalcCommaTokenProcessor.prototype._ff_c="OuCalcCommaTokenProcessor";e.OuCalcCommaTokenProcessor.create=function(){return new e.OuCalcCommaTokenProcessor};e.OuCalcCommaTokenProcessor.prototype.handleComma=function(t,i,o,n){let a=t;let r;o.add(e.OuCalcFormulaFormatterConstants.COMMA);a=e.XStringUtils.concatenate2(a,n);if(i>0){a=e.XStringUtils.concatenate2(a,e.OuCalcFormulaFormatterConstants.ENTER);for(r=0;r<i;r++){a=e.XStringUtils.concatenate2(a,e.OuCalcFormulaFormatterConstants.TAB)}}return a};e.OuCalcCommaTokenProcessor.prototype.handleToken=function(e){if(this.isComma(e.getM_currentFormulaToken())){e.setM_formattedString(this.handleComma(e.getM_formattedString(),e.getM_countIf(),e.getM_operators(),e.getM_currentFormulaToken()))}return e};e.OuCalcDoubleQuoteTokenProcessor=function(){};e.OuCalcDoubleQuoteTokenProcessor.prototype=new e.OuCalcBaseTokenProcessor;e.OuCalcDoubleQuoteTokenProcessor.prototype._ff_c="OuCalcDoubleQuoteTokenProcessor";e.OuCalcDoubleQuoteTokenProcessor.create=function(){return new e.OuCalcDoubleQuoteTokenProcessor};e.OuCalcDoubleQuoteTokenProcessor.prototype.formatTextBetweenDoubleQuotes=function(t){t.setM_formattedString(e.XStringUtils.concatenate2(t.getM_formattedString(),t.getM_currentFormulaToken()));t.setM_currentCount(t.getM_currentCount()+1);t.setM_currentFormulaToken(this.handleDoubleQuote(t.getM_formulaCopy(),t.getM_currentCount()))};e.OuCalcDoubleQuoteTokenProcessor.prototype.handleDoubleQuote=function(t,i){let o;if(i>=0&&i<e.XString.size(t)){let n=e.XStringBuffer.create();o=n.appendChar(e.XString.getCharAt(t,i)).toString()}else{o=""}return o};e.OuCalcDoubleQuoteTokenProcessor.prototype.handleToken=function(t){if(this.isDoubleQuote(t.getM_tempFormattingState(),t.getM_currentFormulaToken())){this.formatTextBetweenDoubleQuotes(t);while(!e.XString.isEqual(t.getM_currentFormulaToken(),e.OuCalcFormulaFormatterConstants.DOUBLE_QUOTE)&&t.getM_currentCount()<e.XString.size(t.getM_formulaCopy())-1){this.formatTextBetweenDoubleQuotes(t)}t.setM_formattedString(e.XStringUtils.concatenate2(t.getM_formattedString(),t.getM_currentFormulaToken()))}return t};e.OuCalcDoubleQuoteTokenProcessor.prototype.isDoubleQuote=function(t,i){return e.XString.size(t)===0&&e.XString.isEqual(i,e.OuCalcFormulaFormatterConstants.DOUBLE_QUOTE)};e.OuCalcOpenParenthesisTokenProcessor=function(){};e.OuCalcOpenParenthesisTokenProcessor.prototype=new e.OuCalcBaseTokenProcessor;e.OuCalcOpenParenthesisTokenProcessor.prototype._ff_c="OuCalcOpenParenthesisTokenProcessor";e.OuCalcOpenParenthesisTokenProcessor.create=function(){return new e.OuCalcOpenParenthesisTokenProcessor};e.OuCalcOpenParenthesisTokenProcessor.prototype.handleToken=function(t){if(this.isOpenParenthesis(t.getM_currentFormulaToken())){t.getM_operators().add(e.OuCalcFormulaFormatterConstants.OPEN_PARENTHESIS);let i=e.XRegex.getInstance().getAllGroupsOfMatch(t.getM_formattedString(),e.OuCalcFormulaFormatterConstants.REGEX_END_WITH_IF,true);if(i.size()>0){t.setM_countIf(t.getM_countIf()+1)}t.setM_formattedString(e.XStringUtils.concatenate2(t.getM_formattedString(),t.getM_currentFormulaToken()))}return t};e.OuCalcOpenSquareBracketTokenProcessor=function(){};e.OuCalcOpenSquareBracketTokenProcessor.prototype=new e.OuCalcBaseTokenProcessor;e.OuCalcOpenSquareBracketTokenProcessor.prototype._ff_c="OuCalcOpenSquareBracketTokenProcessor";e.OuCalcOpenSquareBracketTokenProcessor.create=function(){return new e.OuCalcOpenSquareBracketTokenProcessor};e.OuCalcOpenSquareBracketTokenProcessor.prototype.handleToken=function(t){if(this.isOpenSquareBracket(t.getM_currentFormulaToken())){t.setM_tempFormattingState(e.XStringUtils.concatenate2(t.getM_tempFormattingState(),t.getM_currentFormulaToken()))}return t};e.OuCalcOpenSquareBracketTokenProcessor.prototype.isOpenSquareBracket=function(t){return e.XString.isEqual(t,e.OuCalcFormulaFormatterConstants.OPEN_SQAURE_BRACKETS)};e.OuCalcSpecialCharactersTokenProcessor=function(){};e.OuCalcSpecialCharactersTokenProcessor.prototype=new e.OuCalcBaseTokenProcessor;e.OuCalcSpecialCharactersTokenProcessor.prototype._ff_c="OuCalcSpecialCharactersTokenProcessor";e.OuCalcSpecialCharactersTokenProcessor.create=function(){return new e.OuCalcSpecialCharactersTokenProcessor};e.OuCalcSpecialCharactersTokenProcessor.prototype.closeSquareBracketsDoesNotExists=function(t){return e.XString.indexOf(t,e.OuCalcFormulaFormatterConstants.CLOSE_SQAURE_BRACKETS)===-1};e.OuCalcSpecialCharactersTokenProcessor.prototype.handleToken=function(t){if(this.membersWithSpecialCharacters(t.getM_tempFormattingState())){t.setM_tempFormattingState(e.XStringUtils.concatenate2(t.getM_tempFormattingState(),t.getM_currentFormulaToken()))}return t};e.OuCalcSpecialCharactersTokenProcessor.prototype.membersWithSpecialCharacters=function(t){return e.XString.size(t)!==0&&this.openSquareBracketsExists(t)&&this.closeSquareBracketsDoesNotExists(t)};e.OuCalcSpecialCharactersTokenProcessor.prototype.openSquareBracketsExists=function(t){return e.XString.indexOf(t,e.OuCalcFormulaFormatterConstants.OPEN_SQAURE_BRACKETS)!==-1};e.OuCalcWhiteSpaceTokenProcessor=function(){};e.OuCalcWhiteSpaceTokenProcessor.prototype=new e.OuCalcBaseTokenProcessor;e.OuCalcWhiteSpaceTokenProcessor.prototype._ff_c="OuCalcWhiteSpaceTokenProcessor";e.OuCalcWhiteSpaceTokenProcessor.create=function(){return new e.OuCalcWhiteSpaceTokenProcessor};e.OuCalcWhiteSpaceTokenProcessor.prototype.closeSquareBracketsDoesNotExists=function(t){return e.XString.indexOf(t,e.OuCalcFormulaFormatterConstants.CLOSE_SQAURE_BRACKETS)===-1};e.OuCalcWhiteSpaceTokenProcessor.prototype.handleToken=function(e){if(this.isWhiteSpace(e.getM_currentFormulaToken())){return this.handleWhiteSpaces(e)}return e};e.OuCalcWhiteSpaceTokenProcessor.prototype.handleWhiteSpaces=function(t){if(e.XString.match(t.getM_currentFormulaToken(),e.OuCalcFormulaFormatterConstants.REGEX_BLANK_SPACE)){if(this.membersWithSpecialCharacters(t.getM_tempFormattingState())){t.setM_tempFormattingState(e.XStringUtils.concatenate2(t.getM_tempFormattingState(),t.getM_currentFormulaToken()))}else{if(!e.XString.endsWith(t.getM_formattedString(),e.OuCalcFormulaFormatterConstants.TAB)){t.setM_formattedString(e.XStringUtils.concatenate2(t.getM_formattedString(),e.OuCalcFormulaFormatterConstants.SINGLE_WHITE_SPACE))}}}t.setM_exitCurrentIteration(true);return t};e.OuCalcWhiteSpaceTokenProcessor.prototype.isWhiteSpace=function(t){return e.XString.match(t,e.OuCalcFormulaFormatterConstants.REGEX_WHITE_SPACE)};e.OuCalcWhiteSpaceTokenProcessor.prototype.membersWithSpecialCharacters=function(t){return e.XString.size(t)!==0&&this.openSquareBracketsExists(t)&&this.closeSquareBracketsDoesNotExists(t)};e.OuCalcWhiteSpaceTokenProcessor.prototype.openSquareBracketsExists=function(t){return e.XString.indexOf(t,e.OuCalcFormulaFormatterConstants.OPEN_SQAURE_BRACKETS)!==-1};e.OuCalcHintSnippet=function(){};e.OuCalcHintSnippet.prototype=new e.OuCalcHintBase;e.OuCalcHintSnippet.prototype._ff_c="OuCalcHintSnippet";e.OuCalcHintSnippet.SNIPPET_KEY="snippet";e.OuCalcHintSnippet.create=function(t,i,o,n){e.XObjectExt.assertStringNotNullAndNotEmpty(t);let a=new e.OuCalcHintSnippet;a.m_snippet=t;a.setupInternal(i,o,n);return a};e.OuCalcHintSnippet.prototype.m_snippet=null;e.OuCalcHintSnippet.prototype.getJson=function(){let t=e.OuCalcHintBase.prototype.getJson.call(this);t.putString(e.OuCalcHintSnippet.SNIPPET_KEY,this.m_snippet);return t};e.OuCalcHintSnippet.prototype.getValue=function(){return this.m_snippet};e.OuCalcHintValue=function(){};e.OuCalcHintValue.prototype=new e.OuCalcHintBase;e.OuCalcHintValue.prototype._ff_c="OuCalcHintValue";e.OuCalcHintValue.VALUE_KEY="value";e.OuCalcHintValue.create=function(t,i,o,n){e.XObjectExt.assertStringNotNullAndNotEmpty(t);let a=new e.OuCalcHintValue;a.m_value=t;a.setupInternal(i,o,n);return a};e.OuCalcHintValue.prototype.m_value=null;e.OuCalcHintValue.prototype.getJson=function(){let t=e.OuCalcHintBase.prototype.getJson.call(this);t.putString(e.OuCalcHintValue.VALUE_KEY,this.m_value);return t};e.OuCalcHintValue.prototype.getValue=function(){return this.m_value};e.OuCalcDateGranularityHintProvider=function(){};e.OuCalcDateGranularityHintProvider.prototype=new e.OuCalcAbstractHintProvider;e.OuCalcDateGranularityHintProvider.prototype._ff_c="OuCalcDateGranularityHintProvider";e.OuCalcDateGranularityHintProvider.CSS_CLASS_NAME="feDateGranularityHint";e.OuCalcDateGranularityHintProvider.INITIAL_SCORE=-1;e.OuCalcDateGranularityHintProvider.create=function(){let t=new e.OuCalcDateGranularityHintProvider;let i=e.XList.create();i.add(e.XStringUtils.concatenate3('"',e.FeDateGranularityConstants.YEAR.getName(),'"'));i.add(e.XStringUtils.concatenate3('"',e.FeDateGranularityConstants.MONTH.getName(),'"'));i.add(e.XStringUtils.concatenate3('"',e.FeDateGranularityConstants.DAY.getName(),'"'));t.m_granularities=i;return t};e.OuCalcDateGranularityHintProvider.prototype.m_currentScore=0;e.OuCalcDateGranularityHintProvider.prototype.m_granularities=null;e.OuCalcDateGranularityHintProvider.prototype.accept=function(t){return t.getDataTypes().contains(e.FeDataType.GRANULARITY)};e.OuCalcDateGranularityHintProvider.prototype.provide=function(){this.m_currentScore=e.OuCalcDateGranularityHintProvider.INITIAL_SCORE;return e.XStream.ofString(this.m_granularities).map(t=>e.OuCalcHintValue.create(t.getString(),t.getString(),this.m_currentScore--,e.OuCalcDateGranularityHintProvider.CSS_CLASS_NAME)).collect(e.XStreamCollector.toList())};e.OuCalcDimensionHintProvider=function(){};e.OuCalcDimensionHintProvider.prototype=new e.OuCalcAbstractHintProvider;e.OuCalcDimensionHintProvider.prototype._ff_c="OuCalcDimensionHintProvider";e.OuCalcDimensionHintProvider.CSS_CLASS_NAME="feDimensionHint";e.OuCalcDimensionHintProvider.INITIAL_SCORE=-1e4;e.OuCalcDimensionHintProvider.SPACE=" ";e.OuCalcDimensionHintProvider.create=function(t,i,o){e.XObjectExt.assertNotNull(t);let n=new e.OuCalcDimensionHintProvider;n.m_dimensions=t;n.m_filteredDimensions=t;n.m_feConfiguration=i;n.m_enableModelPrefix=o;n.setupInternal(e.OuCalcDimensionHintProvider.CSS_CLASS_NAME);return n};e.OuCalcDimensionHintProvider.prototype.m_currentScore=0;e.OuCalcDimensionHintProvider.prototype.m_dimensions=null;e.OuCalcDimensionHintProvider.prototype.m_enableModelPrefix=false;e.OuCalcDimensionHintProvider.prototype.m_feConfiguration=null;e.OuCalcDimensionHintProvider.prototype.m_filteredDimensions=null;e.OuCalcDimensionHintProvider.prototype.accept=function(t){if(!this.m_feConfiguration.dimensionsSupported()){return false}if(e.FeFeatureToggle.isActive(e.FeFeatureToggle.RESTRICT_HINTS)){return this.isTokenCompatible(t,e.FeDataType.DIMENSION)||this.isTokenCompatible(t,e.FeDataType.DATE_DIMENSION)}return this.isGenericToken(t)};e.OuCalcDimensionHintProvider.prototype.buildCaption=function(t){if(e.XStringUtils.isNullOrEmpty(t.getDescription())){return t.getField(this.m_enableModelPrefix)}return e.XStringUtils.concatenate3(t.getDescription(),e.OuCalcDimensionHintProvider.SPACE,t.getField(this.m_enableModelPrefix))};e.OuCalcDimensionHintProvider.prototype.prepare=function(t){if(e.FeFeatureToggle.isActive(e.FeFeatureToggle.RESTRICT_HINTS)){if(!t.getDataTypes().contains(e.FeDataType.DIMENSION)&&t.getDataTypes().contains(e.FeDataType.DATE_DIMENSION)){this.m_filteredDimensions=e.XCollectionUtils.filter(this.m_dimensions,e=>e.isDateDimension())}else{this.m_filteredDimensions=this.m_dimensions}let i=e.FeArgumentCustomData.extractFromToken(t);if(i.isPresent()){let t=i.get().getParentFunction();let o=e.FeFormulaItemProvider.getInstance().getFormulaItem(t.getName());if(o.isPresent()&&o.get().getMetadata().showUniqueDimensionsOnly()){let i=t.getDimensionTokens();let o=e.XHashSetOfString.create();e.XCollectionUtils.forEach(i,t=>{let i=e.FeFieldConverter.getMemberExt(t.getText(),this.m_enableModelPrefix);if(i.isPresent()){o.add(i.get())}});this.m_filteredDimensions=e.XCollectionUtils.filter(this.m_filteredDimensions,e=>!o.contains(e.getAlias()))}}}};e.OuCalcDimensionHintProvider.prototype.provide=function(){this.m_currentScore=e.OuCalcDimensionHintProvider.INITIAL_SCORE;return e.XStream.of(this.m_filteredDimensions).map(t=>e.OuCalcHintValue.create(t.getField(this.m_enableModelPrefix),this.buildCaption(t),this.m_currentScore--,this.getCssClassName())).collect(e.XStreamCollector.toList())};e.OuCalcFunctionHintProvider=function(){};e.OuCalcFunctionHintProvider.prototype=new e.OuCalcAbstractHintProvider;e.OuCalcFunctionHintProvider.prototype._ff_c="OuCalcFunctionHintProvider";e.OuCalcFunctionHintProvider.CSS_CLASS_NAME="feFunctionHint";e.OuCalcFunctionHintProvider.SCORE=10;e.OuCalcFunctionHintProvider.create=function(t,i){e.XObjectExt.assertNotNull(t);let o=new e.OuCalcFunctionHintProvider;o.m_functions=o.getSortedFunctions(t.getValuesAsReadOnlyList());o.m_filteredFunctions=o.m_functions;o.m_formulaPresentation=i;o.setupInternal(e.OuCalcFunctionHintProvider.CSS_CLASS_NAME);return o};e.OuCalcFunctionHintProvider.prototype.m_filteredFunctions=null;e.OuCalcFunctionHintProvider.prototype.m_formulaPresentation=null;e.OuCalcFunctionHintProvider.prototype.m_functions=null;e.OuCalcFunctionHintProvider.prototype.accept=function(t){if(e.FeFeatureToggle.isActive(e.FeFeatureToggle.RESTRICT_HINTS)){return this.isTokenCompatible(t,e.FeDataType.BOOLEAN)||this.isTokenCompatible(t,e.FeDataType.NUMBER)||this.isTokenCompatible(t,e.FeDataType.STRING)}return this.isGenericToken(t)};e.OuCalcFunctionHintProvider.prototype.getSortedFunctions=function(t){if(e.FeFeatureToggle.isActive(e.FeFeatureToggle.DIMENSION_SUPPORT)){let i=t.createListCopy();i.sortByComparator(e.XComparatorLambda.create((t,i)=>e.FeFunctionComparator.compareFunctionName(t.getDisplayName(),i.getDisplayName())));return i}return t};e.OuCalcFunctionHintProvider.prototype.prepare=function(t){if(e.FeFeatureToggle.isActive(e.FeFeatureToggle.RESTRICT_HINTS)){this.m_filteredFunctions=e.XStream.of(this.m_functions).filter(i=>e.XStream.of(i.getMetadata().getSupportedReturnTypes()).anyMatch(e=>this.isTokenTypeOf(t,e))).collect(e.XStreamCollector.toList())}};e.OuCalcFunctionHintProvider.prototype.provide=function(){return e.XStream.of(this.m_filteredFunctions).map(t=>e.OuCalcHintSnippet.create(this.m_formulaPresentation.getDisplayText(t.getSyntax()),t.getDisplayName(),e.OuCalcFunctionHintProvider.SCORE,this.getCssClassName())).collect(e.XStreamCollector.toList())};e.OuCalcHierarchyHintProvider=function(){};e.OuCalcHierarchyHintProvider.prototype=new e.OuCalcAbstractHintProvider;e.OuCalcHierarchyHintProvider.prototype._ff_c="OuCalcHierarchyHintProvider";e.OuCalcHierarchyHintProvider.CSS_CLASS_NAME="feHierarchyHint";e.OuCalcHierarchyHintProvider.SCORE=1;e.OuCalcHierarchyHintProvider.SPACE=" ";e.OuCalcHierarchyHintProvider.create=function(t,i,o){e.XObjectExt.assertNotNull(t);let n=new e.OuCalcHierarchyHintProvider;n.m_dimensions=t;n.m_feConfiguration=i;n.m_enableModelPrefix=o;n.setupInternal(e.OuCalcHierarchyHintProvider.CSS_CLASS_NAME);return n};e.OuCalcHierarchyHintProvider.prototype.m_dimensions=null;e.OuCalcHierarchyHintProvider.prototype.m_enableModelPrefix=false;e.OuCalcHierarchyHintProvider.prototype.m_feConfiguration=null;e.OuCalcHierarchyHintProvider.prototype.m_hierarchies=null;e.OuCalcHierarchyHintProvider.prototype.accept=function(t){return this.m_feConfiguration.dimensionsSupported()&&t.getDataTypes().contains(e.FeDataType.HIERARCHY)};e.OuCalcHierarchyHintProvider.prototype.buildCaption=function(t){if(e.XStringUtils.isNullOrEmpty(t.getDescription())){return t.getField(this.m_enableModelPrefix)}return e.XStringUtils.concatenate3(t.getDescription(),e.OuCalcHierarchyHintProvider.SPACE,t.getField(this.m_enableModelPrefix))};e.OuCalcHierarchyHintProvider.prototype.getDimensionByField=function(t){return e.XStream.of(this.m_dimensions).find(i=>e.XString.isEqual(i.getField(this.m_enableModelPrefix),t))};e.OuCalcHierarchyHintProvider.prototype.prepare=function(t){this.m_hierarchies=e.XList.create();let i=this.getDimensionByField(t.getText());if(i.isPresent()&&!i.get().getHierarchies().isEmpty()&&!(i.get().getHierarchies().size()===1&&i.get().getHierarchies().get(0).getId()===null)){this.m_hierarchies.addAll(i.get().getHierarchies())}};e.OuCalcHierarchyHintProvider.prototype.provide=function(){return e.XCollectionUtils.map(this.m_hierarchies,t=>e.OuCalcHintValue.create(t.getField(this.m_enableModelPrefix),this.buildCaption(t),e.OuCalcHierarchyHintProvider.SCORE,this.getCssClassName()))};e.OuCalcMeasureHintProvider=function(){};e.OuCalcMeasureHintProvider.prototype=new e.OuCalcAbstractHintProvider;e.OuCalcMeasureHintProvider.prototype._ff_c="OuCalcMeasureHintProvider";e.OuCalcMeasureHintProvider.CSS_CLASS_NAME="feMeasureHint";e.OuCalcMeasureHintProvider.INITIAL_SCORE=-1;e.OuCalcMeasureHintProvider.SPACE=" ";e.OuCalcMeasureHintProvider.create=function(t,i){e.XObjectExt.assertNotNull(t);let o=new e.OuCalcMeasureHintProvider;o.m_measures=t;o.m_enableModelPrefix=i;o.setupInternal(e.OuCalcMeasureHintProvider.CSS_CLASS_NAME);return o};e.OuCalcMeasureHintProvider.prototype.m_currentScore=0;e.OuCalcMeasureHintProvider.prototype.m_enableModelPrefix=false;e.OuCalcMeasureHintProvider.prototype.m_measures=null;e.OuCalcMeasureHintProvider.prototype.accept=function(t){if(e.FeFeatureToggle.isActive(e.FeFeatureToggle.RESTRICT_HINTS)){return this.isTokenCompatible(t,e.FeDataType.MEASURE)}return this.isGenericToken(t)};e.OuCalcMeasureHintProvider.prototype.buildCaption=function(t){let i=e.XStringBuffer.create();if(e.XStringUtils.isNotNullAndNotEmpty(t.getDescription())){i.append(t.getDescription());i.append(e.OuCalcMeasureHintProvider.SPACE)}i.append(t.getField(this.m_enableModelPrefix));return i.toString()};e.OuCalcMeasureHintProvider.prototype.provide=function(){this.m_currentScore=e.OuCalcMeasureHintProvider.INITIAL_SCORE;return e.XStream.of(this.m_measures).map(t=>e.OuCalcHintValue.create(t.getField(this.m_enableModelPrefix),this.buildCaption(t),this.m_currentScore--,this.getCssClassName())).collect(e.XStreamCollector.toList())};e.OuCalcOperatorHintProvider=function(){};e.OuCalcOperatorHintProvider.prototype=new e.OuCalcAbstractHintProvider;e.OuCalcOperatorHintProvider.prototype._ff_c="OuCalcOperatorHintProvider";e.OuCalcOperatorHintProvider.CSS_CLASS_NAME="feOperatorHint";e.OuCalcOperatorHintProvider.DIM_SEPARATOR=".";e.OuCalcOperatorHintProvider.create=function(t){e.XObjectExt.assertNotNull(t);let i=new e.OuCalcOperatorHintProvider;i.m_operators=t;i.setupInternal(e.OuCalcOperatorHintProvider.CSS_CLASS_NAME);return i};e.OuCalcOperatorHintProvider.prototype.m_hints=null;e.OuCalcOperatorHintProvider.prototype.m_operators=null;e.OuCalcOperatorHintProvider.prototype.accept=function(t){return t.getDataTypes().contains(e.FeDataType.OPERATOR)};e.OuCalcOperatorHintProvider.prototype.isBaseDimensionToken=function(t){return t.getTokenType().isEqualTo(e.FeTokenType.DIMENSION)&&!e.FeFieldConverter.getHierarchy(t.getText()).isPresent()&&!e.FeFieldConverter.getProperty(t.getText()).isPresent()};e.OuCalcOperatorHintProvider.prototype.prepare=function(t){if(!e.FeFeatureToggle.isActive(e.FeFeatureToggle.DIMENSION_SUPPORT)){return}let i=t.getTokenType().isEqualTo(e.FeTokenType.DIMENSION)?e.FeDataType.STRING:e.FeDataType.NUMBER;this.m_hints=e.XList.create();this.m_hints.addAll(e.XStream.of(this.m_operators).filter(t=>t.getMetadata().getArgument(0).isPresent()&&e.XStream.of(t.getMetadata().getArgument(0).get().getSupportedArgumentTypes()).anyMatch(t=>e.FeDataType.isCompatible(t,i))).map(t=>e.OuCalcHintValue.create(t.getSyntax(),t.getDisplayName(),t.getHintScore(),this.getCssClassName())).collect(e.XStreamCollector.toList()));if(this.isBaseDimensionToken(t)){let t=this.m_hints.isEmpty()?0:this.m_hints.get(this.m_hints.size()-1).getScore()-1;this.m_hints.add(e.OuCalcHintValue.create(e.OuCalcOperatorHintProvider.DIM_SEPARATOR,e.OuCalcOperatorHintProvider.DIM_SEPARATOR,t,this.getCssClassName()))}};e.OuCalcOperatorHintProvider.prototype.provide=function(){if(e.FeFeatureToggle.isActive(e.FeFeatureToggle.DIMENSION_SUPPORT)){return this.m_hints}return e.XStream.of(this.m_operators).filter(t=>e.XStream.of(t.getMetadata().getArgument(0).get().getSupportedArgumentTypes()).anyMatch(t=>e.FeDataType.isCompatible(t,e.FeDataType.NUMBER))).map(t=>e.OuCalcHintValue.create(t.getSyntax(),t.getDisplayName(),t.getHintScore(),this.getCssClassName())).collect(e.XStreamCollector.toList())};e.OuCalcPropertyHintProvider=function(){};e.OuCalcPropertyHintProvider.prototype=new e.OuCalcAbstractHintProvider;e.OuCalcPropertyHintProvider.prototype._ff_c="OuCalcPropertyHintProvider";e.OuCalcPropertyHintProvider.CSS_CLASS_NAME="fePropertyHint";e.OuCalcPropertyHintProvider.SCORE=0;e.OuCalcPropertyHintProvider.SPACE=" ";e.OuCalcPropertyHintProvider.create=function(t,i,o){e.XObjectExt.assertNotNull(t);let n=new e.OuCalcPropertyHintProvider;n.m_dimensions=t;n.m_feConfiguration=i;n.m_enableModelPrefix=o;n.setupInternal(e.OuCalcPropertyHintProvider.CSS_CLASS_NAME);return n};e.OuCalcPropertyHintProvider.prototype.m_dimensions=null;e.OuCalcPropertyHintProvider.prototype.m_enableModelPrefix=false;e.OuCalcPropertyHintProvider.prototype.m_feConfiguration=null;e.OuCalcPropertyHintProvider.prototype.m_properties=null;e.OuCalcPropertyHintProvider.prototype.accept=function(t){return this.m_feConfiguration.dimensionsSupported()&&t.getDataTypes().contains(e.FeDataType.PROPERTY)};e.OuCalcPropertyHintProvider.prototype.buildCaption=function(t){if(e.XStringUtils.isNullOrEmpty(t.getDescription())){return t.getField(this.m_enableModelPrefix)}return e.XStringUtils.concatenate3(t.getDescription(),e.OuCalcPropertyHintProvider.SPACE,t.getField(this.m_enableModelPrefix))};e.OuCalcPropertyHintProvider.prototype.getDimensionByField=function(t){return e.XStream.of(this.m_dimensions).find(i=>e.XString.isEqual(i.getField(this.m_enableModelPrefix),t))};e.OuCalcPropertyHintProvider.prototype.prepare=function(t){this.m_properties=e.XList.create();let i=this.getDimensionByField(t.getText());if(i.isPresent()&&!i.get().getProperties().isEmpty()){this.m_properties.addAll(i.get().getProperties())}};e.OuCalcPropertyHintProvider.prototype.provide=function(){return e.XCollectionUtils.map(this.m_properties,t=>e.OuCalcHintValue.create(t.getField(this.m_enableModelPrefix),this.buildCaption(t),e.OuCalcPropertyHintProvider.SCORE,this.getCssClassName()))};e.OuCalcAssistancePanelConfig=function(){};e.OuCalcAssistancePanelConfig.prototype=new e.OuCalcPanelConfig;e.OuCalcAssistancePanelConfig.prototype._ff_c="OuCalcAssistancePanelConfig";e.OuCalcAssistancePanelConfig.create=function(t){let i=new e.OuCalcAssistancePanelConfig;i.setupInternal(t);return i};e.OuCalcCodeEditorPanelConfig=function(){};e.OuCalcCodeEditorPanelConfig.prototype=new e.OuCalcPanelConfig;e.OuCalcCodeEditorPanelConfig.prototype._ff_c="OuCalcCodeEditorPanelConfig";e.OuCalcCodeEditorPanelConfig.create=function(t){let i=new e.OuCalcCodeEditorPanelConfig;i.setupInternal(t);return i};e.OuCalcDetailsPanelConfig=function(){};e.OuCalcDetailsPanelConfig.prototype=new e.OuCalcPanelConfig;e.OuCalcDetailsPanelConfig.prototype._ff_c="OuCalcDetailsPanelConfig";e.OuCalcDetailsPanelConfig.create=function(t){let i=new e.OuCalcDetailsPanelConfig;i.setupInternal(t);return i};e.OuCalcFormulaItemListPanelConfig=function(){};e.OuCalcFormulaItemListPanelConfig.prototype=new e.OuCalcPanelConfig;e.OuCalcFormulaItemListPanelConfig.prototype._ff_c="OuCalcFormulaItemListPanelConfig";e.OuCalcFormulaItemListPanelConfig.create=function(t){let i=new e.OuCalcFormulaItemListPanelConfig;i.setupInternal(t);return i};e.OuCalcTreePanelItem=function(){};e.OuCalcTreePanelItem.prototype=new e.OuCalcPanelItem;e.OuCalcTreePanelItem.prototype._ff_c="OuCalcTreePanelItem";e.OuCalcTreePanelItem.ROOT_ID="__ROOT_ID__";e.OuCalcTreePanelItem.createRoot=function(){let t=new e.OuCalcTreePanelItem;t.setupInternal(e.OuCalcTreePanelItem.ROOT_ID,e.OuCalcTreePanelItem.ROOT_ID,e.OuCalcTreePanelItem.ROOT_ID,e.OuCalcTreePanelItem.ROOT_ID,true,null,null,null);t.m_children=e.XLinkedHashMapByString.create();return t};e.OuCalcTreePanelItem.createWithItem=function(t){let i=new e.OuCalcTreePanelItem;i.setupInternal(t.getUniqueKey(),t.getId(),t.getTechnicalIdentifier(),t.getDisplayName(),t.isEnabled(),t.getCategory(),t.getTooltip().orElse(null),t.getParentId().orElse(null));i.m_children=e.XLinkedHashMapByString.create();return i};e.OuCalcTreePanelItem.prototype.m_children=null;e.OuCalcTreePanelItem.prototype.m_parent=null;e.OuCalcTreePanelItem.prototype.addChild=function(t){e.XObjectExt.assertFalseExt(this.m_children.containsKey(t.getUniqueKey()),e.XStringUtils.concatenate3("Item with the key '",t.getUniqueKey(),"', already exists!"));this.m_children.put(t.getUniqueKey(),t);t.m_parent=this};e.OuCalcTreePanelItem.prototype.getChildren=function(){return this.m_children.getValuesAsReadOnlyList()};e.OuCalcTreePanelItem.prototype.getParent=function(){return e.XOptional.ofNullable(this.m_parent)};e.OuCalcTreePanelItem.prototype.isLeaf=function(){return!this.m_children.hasElements()};e.OuCalcTreePanelItem.prototype.releaseObject=function(){this.m_parent=null;e.XStream.of(this.m_children).forEach(t=>{e.XObjectExt.release(t)});this.m_children.clear();this.m_children=e.XObjectExt.release(this.m_children);e.OuCalcPanelItem.prototype.releaseObject.call(this)};e.OuCalcTreePanelItem.prototype.removeChild=function(e){this.m_children.remove(e.getUniqueKey())};e.AldAxisLayoutDialogLayout=function(){};e.AldAxisLayoutDialogLayout.prototype=new e.DdLayoutAbstract;e.AldAxisLayoutDialogLayout.prototype._ff_c="AldAxisLayoutDialogLayout";e.AldAxisLayoutDialogLayout.createWithGenesis=function(t){let i=new e.AldAxisLayoutDialogLayout;i.setupExt(t);return i};e.AldAxisLayoutDialogLayout.prototype.m_columnDimensionControls=null;e.AldAxisLayoutDialogLayout.prototype.m_columnDimensionOrder=null;e.AldAxisLayoutDialogLayout.prototype.m_columnDimensions=null;e.AldAxisLayoutDialogLayout.prototype.m_content=null;e.AldAxisLayoutDialogLayout.prototype.m_dimensionInventory=null;e.AldAxisLayoutDialogLayout.prototype.m_freeAxisLayout=null;e.AldAxisLayoutDialogLayout.prototype.m_hideFreeAxisControl=null;e.AldAxisLayoutDialogLayout.prototype.m_rowDimensionControls=null;e.AldAxisLayoutDialogLayout.prototype.m_rowDimensionOrder=null;e.AldAxisLayoutDialogLayout.prototype.m_rowDimensions=null;e.AldAxisLayoutDialogLayout.prototype.m_showFreeAxisControl=null;e.AldAxisLayoutDialogLayout.prototype.m_technicalLayout=null;e.AldAxisLayoutDialogLayout.prototype.m_valueDisplayColumns=null;e.AldAxisLayoutDialogLayout.prototype.m_valueDisplayGrid=null;e.AldAxisLayoutDialogLayout.prototype.m_valueDisplayRows=null;e.AldAxisLayoutDialogLayout.prototype.buildTree=function(t){let i=e.LayoutDialogI18n.getLocalization();this.m_content=t.newRoot(e.UiType.FLEX_LAYOUT).setHeight(e.UiCssLength.create("100%")).setWidth(e.UiCssLength.create("100%"));this.m_content.setName("DisplayVerticalLayout");this.m_freeAxisLayout=this.m_content.addNewItemOfType(e.UiType.FLEX_LAYOUT).setHeight(e.UiCssLength.create("100%")).setWidth(e.UiCssLength.create("50%"));let o=this.m_freeAxisLayout.addNewItemOfType(e.UiType.FLEX_LAYOUT).setDirection(e.UiFlexDirection.COLUMN).setWidth(e.UiCssLength.create("100%")).setHeight(e.UiCssLength.create("100%"));o.addNewItemOfType(e.UiType.LABEL).setFontSize(e.UiCssLength.create("17px")).setHeight(e.UiCssLength.create("2em")).setText(i.getText(e.LayoutDialogI18n.I18N_LD_FREE_AXIS));o.addItem(this.m_dimensionInventory);this.setFreeAxisVisible(false);let n=this.m_content.addNewItemOfType(e.UiType.FLEX_LAYOUT).setDirection(e.UiFlexDirection.COLUMN).setHeight(e.UiCssLength.create("100%")).setWidth(e.UiCssLength.create("100%"));let a=n.addNewItemOfType(e.UiType.FLEX_LAYOUT).setHeight(e.UiCssLength.create("35%")).setWidth(e.UiCssLength.create("100%"));let r=a.addNewItemOfType(e.UiType.FLEX_LAYOUT).setDirection(e.UiFlexDirection.COLUMN).setWidth(e.UiCssLength.create("3em"));r.addItem(this.m_technicalLayout.setHeight(e.UiCssLength.create("3em")));r.addItem(this.m_columnDimensionControls);o=a.addNewItemOfType(e.UiType.FLEX_LAYOUT).setDirection(e.UiFlexDirection.COLUMN).setWidth(e.UiCssLength.create("100%")).setHeight(e.UiCssLength.create("100%"));let l=t.newRoot(e.UiType.FLEX_LAYOUT).setWidth(e.UiCssLength.create("100%")).setHeight(e.UiCssLength.create("100%"));o.addNewItemOfType(e.UiType.LABEL).setFontSize(e.UiCssLength.create("125%")).setHeight(e.UiCssLength.create("2em")).setText(i.getText(e.LayoutDialogI18n.I18N_LD_COLUMNS));o.addItem(l);let s=l.addNewItemOfType(e.UiType.FLEX_LAYOUT).setWidth(e.UiCssLength.create("50%"));let u=s.addNewItemOfType(e.UiType.FLEX_LAYOUT).setDirection(e.UiFlexDirection.COLUMN).setWidth(e.UiCssLength.create("90%"));u.addItem(this.m_columnDimensions);s.addNewItemOfType(e.UiType.SPACER).setWidth(e.UiCssLength.create("1em")).setHeight(e.UiCssLength.create("1em"));u=s.addNewItemOfType(e.UiType.FLEX_LAYOUT).setDirection(e.UiFlexDirection.COLUMN).setWidth(e.UiCssLength.create("3em"));u.addItem(this.m_columnDimensionOrder);u=l.addNewItemOfType(e.UiType.FLEX_LAYOUT).setDirection(e.UiFlexDirection.COLUMN).setWidth(e.UiCssLength.create("50%"));u.addItem(this.m_valueDisplayColumns);a=n.addNewItemOfType(e.UiType.FLEX_LAYOUT).setHeight(e.UiCssLength.create("65%")).setWidth(e.UiCssLength.create("100%"));r=a.addNewItemOfType(e.UiType.FLEX_LAYOUT).setDirection(e.UiFlexDirection.COLUMN).setWidth(e.UiCssLength.create("3em"));r.addItem(this.m_hideFreeAxisControl.setHeight(e.UiCssLength.create("3em")).setWidth(e.UiCssLength.create("2em")));r.addItem(this.m_showFreeAxisControl.setHeight(e.UiCssLength.create("3em")).setWidth(e.UiCssLength.create("2em")));r.addItem(this.m_rowDimensionControls);o=a.addNewItemOfType(e.UiType.FLEX_LAYOUT).setDirection(e.UiFlexDirection.COLUMN).setWidth(e.UiCssLength.create("100%")).setHeight(e.UiCssLength.create("100%"));l=t.newRoot(e.UiType.FLEX_LAYOUT).setHeight(e.UiCssLength.create("100%")).setWidth(e.UiCssLength.create("100%"));o.addNewItemOfType(e.UiType.LABEL).setFontSize(e.UiCssLength.create("125%")).setHeight(e.UiCssLength.create("2em")).setText(i.getText(e.LayoutDialogI18n.I18N_LD_ROWS));o.addItem(l);s=l.addNewItemOfType(e.UiType.FLEX_LAYOUT).setWidth(e.UiCssLength.create("50%"));u=s.addNewItemOfType(e.UiType.FLEX_LAYOUT).setDirection(e.UiFlexDirection.COLUMN).setWidth(e.UiCssLength.create("90%"));u.addItem(this.m_rowDimensions);s.addNewItemOfType(e.UiType.SPACER).setWidth(e.UiCssLength.create("1em")).setHeight(e.UiCssLength.create("1em"));u=s.addNewItemOfType(e.UiType.FLEX_LAYOUT).setDirection(e.UiFlexDirection.COLUMN).setWidth(e.UiCssLength.create("3em"));u.addItem(this.m_rowDimensionOrder);u=l.addNewItemOfType(e.UiType.FLEX_LAYOUT).setDirection(e.UiFlexDirection.COLUMN).setWidth(e.UiCssLength.create("50%"));u.addItem(this.m_valueDisplayRows);return this.m_content};e.AldAxisLayoutDialogLayout.prototype.getColumnDimensionControls=function(){return this.m_columnDimensionControls};e.AldAxisLayoutDialogLayout.prototype.getColumnDimensionOrder=function(){return this.m_columnDimensionOrder};e.AldAxisLayoutDialogLayout.prototype.getColumnDimensions=function(){return this.m_columnDimensions};e.AldAxisLayoutDialogLayout.prototype.getContent=function(){return this.m_content};e.AldAxisLayoutDialogLayout.prototype.getDimensionInventory=function(){return this.m_dimensionInventory};e.AldAxisLayoutDialogLayout.prototype.getFreeAxisLayout=function(){return this.m_freeAxisLayout};e.AldAxisLayoutDialogLayout.prototype.getHideFreeAxisControl=function(){return this.m_hideFreeAxisControl};e.AldAxisLayoutDialogLayout.prototype.getRowDimensionControls=function(){return this.m_rowDimensionControls};e.AldAxisLayoutDialogLayout.prototype.getRowDimensionOrder=function(){return this.m_rowDimensionOrder};e.AldAxisLayoutDialogLayout.prototype.getRowDimensions=function(){return this.m_rowDimensions};e.AldAxisLayoutDialogLayout.prototype.getShowFreeAxisControl=function(){return this.m_showFreeAxisControl};e.AldAxisLayoutDialogLayout.prototype.getTechnicalLayout=function(){return this.m_technicalLayout};e.AldAxisLayoutDialogLayout.prototype.getValueDisplayColumns=function(){return this.m_valueDisplayColumns};e.AldAxisLayoutDialogLayout.prototype.getValueDisplayGrid=function(){return this.m_valueDisplayGrid};e.AldAxisLayoutDialogLayout.prototype.getValueDisplayRows=function(){return this.m_valueDisplayRows};e.AldAxisLayoutDialogLayout.prototype.setFreeAxisVisible=function(e){this.m_showFreeAxisControl.setVisible(!e);this.m_hideFreeAxisControl.setVisible(e);this.m_freeAxisLayout.setVisible(e);this.m_rowDimensionControls.setVisible(e);this.m_columnDimensionControls.setVisible(e)};e.AldAxisLayoutDialogLayout.prototype.setupExt=function(t){this.m_technicalLayout=t.newControl(e.UiType.FLEX_LAYOUT).setDirection(e.UiFlexDirection.COLUMN).setWidth(e.UiCssLength.create("2em"));this.m_hideFreeAxisControl=t.newControl(e.UiType.FLEX_LAYOUT).setDirection(e.UiFlexDirection.COLUMN).setWidth(e.UiCssLength.create("2em"));this.m_showFreeAxisControl=t.newControl(e.UiType.FLEX_LAYOUT).setDirection(e.UiFlexDirection.COLUMN).setWidth(e.UiCssLength.create("2em"));this.m_valueDisplayRows=t.newControl(e.UiType.FLEX_LAYOUT).setDirection(e.UiFlexDirection.COLUMN);this.m_valueDisplayColumns=t.newControl(e.UiType.FLEX_LAYOUT).setDirection(e.UiFlexDirection.COLUMN);this.m_valueDisplayGrid=t.newControl(e.UiType.FLEX_LAYOUT).setDirection(e.UiFlexDirection.COLUMN);this.m_dimensionInventory=t.newControl(e.UiType.FLEX_LAYOUT).setHeight(e.UiCssLength.create("100%"));this.m_columnDimensionControls=t.newControl(e.UiType.FLEX_LAYOUT).setDirection(e.UiFlexDirection.COLUMN).setWidth(e.UiCssLength.create("2em"));this.m_columnDimensions=t.newControl(e.UiType.FLEX_LAYOUT).setDirection(e.UiFlexDirection.COLUMN);this.m_columnDimensionOrder=t.newControl(e.UiType.FLEX_LAYOUT).setDirection(e.UiFlexDirection.COLUMN).setWidth(e.UiCssLength.create("2em"));this.m_rowDimensionControls=t.newControl(e.UiType.FLEX_LAYOUT).setDirection(e.UiFlexDirection.COLUMN).setWidth(e.UiCssLength.create("2em"));this.m_rowDimensions=t.newControl(e.UiType.FLEX_LAYOUT).setDirection(e.UiFlexDirection.COLUMN);this.m_rowDimensionOrder=t.newControl(e.UiType.FLEX_LAYOUT).setDirection(e.UiFlexDirection.COLUMN).setWidth(e.UiCssLength.create("2em"))};e.AldModel=function(){};e.AldModel.prototype=new e.DdObservableModel;e.AldModel.prototype._ff_c="AldModel";e.AldModel.createFrom=function(t){let i=new e.AldModel;i.setupExt(t);i.setupListeners();return i};e.AldModel.prototype.m_aldModelTotalsColumns=null;e.AldModel.prototype.m_aldModelTotalsRows=null;e.AldModel.prototype.m_aldModelZeroSuppressionColumns=null;e.AldModel.prototype.m_aldModelZeroSuppressionRows=null;e.AldModel.prototype.m_allowInput=false;e.AldModel.prototype.m_columnLimit=0;e.AldModel.prototype.m_dimensionOrderedOnColumns=null;e.AldModel.prototype.m_dimensionOrderedOnColumnsSelected=null;e.AldModel.prototype.m_dimensionOrderedOnFree=null;e.AldModel.prototype.m_dimensionOrderedOnFreeSelected=null;e.AldModel.prototype.m_dimensionOrderedOnRows=null;e.AldModel.prototype.m_dimensionOrderedOnRowsSelected=null;e.AldModel.prototype.m_dimensionsOnColumns=null;e.AldModel.prototype.m_dimensionsOnFree=null;e.AldModel.prototype.m_dimensionsOnRows=null;e.AldModel.prototype.m_displayColumnsHierarchically=false;e.AldModel.prototype.m_displayRowsHierarchically=false;e.AldModel.prototype.m_rowLimit=0;e.AldModel.prototype.m_showTechnical=false;e.AldModel.prototype.m_supportsUniversalDisplayHierarchy=false;e.AldModel.prototype.activateColumnSelection=function(){this.moveElement(this.m_dimensionOrderedOnFreeSelected,this.m_dimensionOrderedOnFree,this.m_dimensionOrderedOnColumnsSelected,this.m_dimensionOrderedOnColumns)};e.AldModel.prototype.activateRowsSelection=function(){this.moveElement(this.m_dimensionOrderedOnFreeSelected,this.m_dimensionOrderedOnFree,this.m_dimensionOrderedOnRowsSelected,this.m_dimensionOrderedOnRows)};e.AldModel.prototype.applyToQueryModel=function(t){let i=t.getConvenienceCommands();let o=e.XList.create();let n=e.XList.create();i.clearAxis(e.AxisType.ROWS);i.clearAxis(e.AxisType.COLUMNS);let a;let r;for(r=0;r<this.m_dimensionOrderedOnRows.size();r++){a=this.m_dimensionOrderedOnRows.get(r);if(a.isVisible()){o.add(a.getComponentName());i.moveDimensionToRows(a.getComponentName())}}if(this.m_supportsUniversalDisplayHierarchy&&e.XCollectionUtils.hasElements(o)){i.setUniversalDisplayHierarchy(o,-1,this.m_displayRowsHierarchically)}for(r=0;r<this.m_dimensionOrderedOnColumns.size();r++){a=this.m_dimensionOrderedOnColumns.get(r);if(a.isVisible()){n.add(a.getComponentName());i.moveDimensionToColumns(a.getComponentName())}}if(this.m_supportsUniversalDisplayHierarchy&&e.XCollectionUtils.hasElements(n)){i.setUniversalDisplayHierarchy(n,-1,this.m_displayColumnsHierarchically)}let l;l=t.getRowsAxis();l.clearResultVisibilitySettings();if(e.notNull(this.m_aldModelTotalsRows)&&this.m_aldModelTotalsRows.isActive()){this.m_aldModelTotalsRows.applyToModel(t,l,e.QModelLevel.AXES)}if(e.notNull(this.m_aldModelZeroSuppressionRows)){this.m_aldModelZeroSuppressionRows.applyToModel(t,l)}l=t.getColumnsAxis();l.clearResultVisibilitySettings();if(e.notNull(this.m_aldModelTotalsColumns)&&this.m_aldModelTotalsColumns.isActive()){this.m_aldModelTotalsColumns.applyToModel(t,l,e.QModelLevel.AXES)}if(e.notNull(this.m_aldModelZeroSuppressionColumns)){this.m_aldModelZeroSuppressionColumns.applyToModel(t,l)}};e.AldModel.prototype.deActivateColumnSelection=function(){this.moveElement(this.m_dimensionOrderedOnColumnsSelected,this.m_dimensionOrderedOnColumns,this.m_dimensionOrderedOnFreeSelected,this.m_dimensionOrderedOnFree)};e.AldModel.prototype.deActivateRowSelection=function(){this.moveElement(this.m_dimensionOrderedOnRowsSelected,this.m_dimensionOrderedOnRows,this.m_dimensionOrderedOnFreeSelected,this.m_dimensionOrderedOnFree)};e.AldModel.prototype.getAldModelTotalsColumns=function(){return this.m_aldModelTotalsColumns};e.AldModel.prototype.getAldModelTotalsRows=function(){return this.m_aldModelTotalsRows};e.AldModel.prototype.getAldModelZeroSuppressionColumns=function(){return this.m_aldModelZeroSuppressionColumns};e.AldModel.prototype.getAldModelZeroSuppressionRows=function(){return this.m_aldModelZeroSuppressionRows};e.AldModel.prototype.getColumnLimit=function(){return this.m_columnLimit};e.AldModel.prototype.getDimensionOrderedOnColumns=function(){return this.m_dimensionOrderedOnColumns};e.AldModel.prototype.getDimensionOrderedOnColumnsSelected=function(){return this.m_dimensionOrderedOnColumnsSelected};e.AldModel.prototype.getDimensionOrderedOnFree=function(){return this.m_dimensionOrderedOnFree};e.AldModel.prototype.getDimensionOrderedOnFreeSelected=function(){return this.m_dimensionOrderedOnFreeSelected};e.AldModel.prototype.getDimensionOrderedOnRows=function(){return this.m_dimensionOrderedOnRows};e.AldModel.prototype.getDimensionOrderedOnRowsSelected=function(){return this.m_dimensionOrderedOnRowsSelected};e.AldModel.prototype.getDimensionsOnColumns=function(){return this.m_dimensionsOnColumns};e.AldModel.prototype.getDimensionsOnFree=function(){return this.m_dimensionsOnFree};e.AldModel.prototype.getDimensionsOnRows=function(){return this.m_dimensionsOnRows};e.AldModel.prototype.getRowLimit=function(){return this.m_rowLimit};e.AldModel.prototype.initializeTotals=function(t){let i;i=t.getRowsAxis();let o=i.getModelCapabilities();if(i.supportsTotals()){this.m_aldModelTotalsRows=e.AldModelTotals.createFrom(o,i,true,null,null)}i=t.getColumnsAxis();if(i.supportsTotals()){this.m_aldModelTotalsColumns=e.AldModelTotals.createFrom(o,i,true,null,null)}};e.AldModel.prototype.initializeZeroSuppression=function(t){let i;i=t.getRowsAxis();if(i.supportsZeroSuppression()){this.m_aldModelZeroSuppressionRows=e.AldModelZeroSuppression.createFrom(i,true)}i=t.getColumnsAxis();if(i.supportsZeroSuppression()){this.m_aldModelZeroSuppressionColumns=e.AldModelZeroSuppression.createFrom(i,true)}};e.AldModel.prototype.isAllowInput=function(){return this.m_allowInput};e.AldModel.prototype.isDisplayColumnsHierarchically=function(){return this.m_displayColumnsHierarchically};e.AldModel.prototype.isDisplayRowsHierarchically=function(){return this.m_displayRowsHierarchically};e.AldModel.prototype.isShowTechnical=function(){return this.m_showTechnical};e.AldModel.prototype.isSupportsUniversalDisplayHierarchy=function(){return this.m_supportsUniversalDisplayHierarchy};e.AldModel.prototype.moveDownColumnDimension=function(){this.moveDownDimension(this.m_dimensionOrderedOnColumnsSelected)};e.AldModel.prototype.moveDownDimension=function(e){if(e.size()===1){e.get(0).moveDown();this.callListeners()}};e.AldModel.prototype.moveDownRowDimension=function(){this.moveDownDimension(this.m_dimensionOrderedOnRowsSelected)};e.AldModel.prototype.moveElement=function(e,t,i,o){i.addAll(e);o.addAll(e);let n=e.size();for(let i=0;i<n;i++){t.removeElement(e.get(i))}e.clear();this.callListeners()};e.AldModel.prototype.moveUpColumnDimension=function(){this.moveUpDimension(this.m_dimensionOrderedOnColumnsSelected)};e.AldModel.prototype.moveUpDimension=function(e){if(e.size()===1){e.get(0).moveUp();this.callListeners()}};e.AldModel.prototype.moveUpRowDimension=function(){this.moveUpDimension(this.m_dimensionOrderedOnRowsSelected)};e.AldModel.prototype.setAldModelTotalsColumns=function(e){this.m_aldModelTotalsColumns=e};e.AldModel.prototype.setAldModelTotalsRows=function(e){this.m_aldModelTotalsRows=e};e.AldModel.prototype.setAldModelZeroSuppressionColumns=function(e){this.m_aldModelZeroSuppressionColumns=e};e.AldModel.prototype.setAldModelZeroSuppressionRows=function(e){this.m_aldModelZeroSuppressionRows=e};e.AldModel.prototype.setAllowInput=function(e){this.m_allowInput=e};e.AldModel.prototype.setColumnLimit=function(e){this.m_columnLimit=e};e.AldModel.prototype.setDimensionOrderedOnColumns=function(e){this.m_dimensionOrderedOnColumns=e};e.AldModel.prototype.setDimensionOrderedOnColumnsSelected=function(e){this.m_dimensionOrderedOnColumnsSelected=e;this.callListeners()};e.AldModel.prototype.setDimensionOrderedOnFree=function(e){this.m_dimensionOrderedOnFree=e};e.AldModel.prototype.setDimensionOrderedOnFreeSelected=function(e){this.m_dimensionOrderedOnFreeSelected=e;this.callListeners()};e.AldModel.prototype.setDimensionOrderedOnRows=function(e){this.m_dimensionOrderedOnRows=e};e.AldModel.prototype.setDimensionOrderedOnRowsSelected=function(e){this.m_dimensionOrderedOnRowsSelected=e;this.callListeners()};e.AldModel.prototype.setDimensionsOnColumns=function(e){this.m_dimensionsOnColumns=e};e.AldModel.prototype.setDimensionsOnFree=function(e){this.m_dimensionsOnFree=e};e.AldModel.prototype.setDimensionsOnRows=function(e){this.m_dimensionsOnRows=e};e.AldModel.prototype.setDisplayColumnsHierarchically=function(e){this.m_displayColumnsHierarchically=e};e.AldModel.prototype.setDisplayRowsHierarchically=function(e){this.m_displayRowsHierarchically=e};e.AldModel.prototype.setRowLimit=function(e){this.m_rowLimit=e};e.AldModel.prototype.setShowTechnical=function(e){this.m_showTechnical=e;this.callListeners()};e.AldModel.prototype.setupExt=function(t){let i=t.getRowsAxis();let o=t.getColumnsAxis();this.m_supportsUniversalDisplayHierarchy=t.getModelCapabilities().supportsUniversalDisplayHierarchies();this.m_dimensionsOnColumns=e.XHashMapByString.create();this.m_dimensionsOnRows=e.XHashMapByString.create();this.m_dimensionsOnFree=e.XHashMapByString.create();this.m_dimensionOrderedOnColumns=e.XList.create();this.m_dimensionOrderedOnRows=e.XList.create();this.m_dimensionOrderedOnFree=e.XList.create();this.m_dimensionOrderedOnColumnsSelected=e.XList.create();this.m_dimensionOrderedOnRowsSelected=e.XList.create();this.m_dimensionOrderedOnFreeSelected=e.XList.create();if(t.getModelCapabilities().supportsUniversalDisplayHierarchies()&&t.getUniversalDisplayHierarchies()!==null){if(t.getUniversalDisplayHierarchies().getByAxisType(e.AxisType.COLUMNS)!==null){this.m_displayColumnsHierarchically=t.getUniversalDisplayHierarchies().getByAxisType(e.AxisType.COLUMNS).isActive()}if(t.getUniversalDisplayHierarchies().getByAxisType(e.AxisType.ROWS)!==null){this.m_displayRowsHierarchically=t.getUniversalDisplayHierarchies().getByAxisType(e.AxisType.ROWS).isActive()}}let n;let a;let r=i.getDimensions();let l;for(n=0;n<r.size();n++){a=r.getDimensionAt(n);l=e.DdModelDimension.createFrom(a,true,this.m_dimensionOrderedOnRows,this);this.m_dimensionsOnRows.put(l.getComponentName(),l)}let s=o.getDimensions();for(n=0;n<s.size();n++){a=s.getDimensionAt(n);l=e.DdModelDimension.createFrom(a,true,this.m_dimensionOrderedOnColumns,this);this.m_dimensionsOnColumns.put(l.getComponentName(),l)}let u=t.getDimensions();for(n=0;n<u.size();n++){let i=u.getDimensionAt(n);let o=i.getName();if(!this.m_dimensionsOnColumns.containsKey(o)&&!this.m_dimensionsOnRows.containsKey(o)&&!i.isUniversalDisplayHierarchyDimension()){let t=e.DdModelDimension.createFrom(i,true,this.m_dimensionOrderedOnFree,this);this.m_dimensionsOnFree.put(o,t)}this.initializeTotals(t);this.initializeZeroSuppression(t)}};e.AldModelTotals=function(){};e.AldModelTotals.prototype=new e.DdObservableModel;e.AldModelTotals.prototype._ff_c="AldModelTotals";e.AldModelTotals.createFrom=function(t,i,o,n,a){let r=new e.AldModelTotals;r.setupExt(t,i,o,n,a);r.setupListeners();return r};e.AldModelTotals.prototype.m_active=false;e.AldModelTotals.prototype.m_resultAlignment=null;e.AldModelTotals.prototype.m_resultStructureElement=null;e.AldModelTotals.prototype.m_supportedResultAlignments=null;e.AldModelTotals.prototype.m_supportsConditionalResultVisibility=false;e.AldModelTotals.prototype.m_supportsResultAlignment=false;e.AldModelTotals.prototype.applyToModel=function(t,i,o){if(this.m_active){let n=t.getConvenienceCommands();let a=i.getName();if(e.isNull(this.m_resultStructureElement)){n.alignTotals(o,a,this.m_resultAlignment)}}};e.AldModelTotals.prototype.getResultAlignment=function(){return this.m_resultAlignment};e.AldModelTotals.prototype.getResultStructureElement=function(){return this.m_resultStructureElement};e.AldModelTotals.prototype.getSupportedResultAlignments=function(){return this.m_supportedResultAlignments};e.AldModelTotals.prototype.isActive=function(){return this.m_active};e.AldModelTotals.prototype.isSupportsConditionalResultVisibility=function(){return this.m_supportsConditionalResultVisibility};e.AldModelTotals.prototype.isSupportsResultAlignment=function(){return this.m_supportsResultAlignment};e.AldModelTotals.prototype.setActive=function(e){this.m_active=e;this.callListeners()};e.AldModelTotals.prototype.setResultAlignment=function(e){this.m_resultAlignment=e;this.callListeners()};e.AldModelTotals.prototype.setupExt=function(t,i,o,n,a){this.m_resultStructureElement=n;this.m_active=o;this.m_supportsResultAlignment=i.supportsResultAlignment();this.m_supportedResultAlignments=t.getSupportedResultAlignments();this.m_supportsConditionalResultVisibility=t.supportsConditionalResultVisibility();if(e.isNull(n)){this.m_resultAlignment=i.getResultAlignment()}else{this.m_resultAlignment=a}};e.AldModelZeroSuppression=function(){};e.AldModelZeroSuppression.prototype=new e.DdObservableModel;e.AldModelZeroSuppression.prototype._ff_c="AldModelZeroSuppression";e.AldModelZeroSuppression.createFrom=function(t,i){let o=new e.AldModelZeroSuppression;o.setupExt(t,i);o.setupListeners();return o};e.AldModelZeroSuppression.prototype.m_defaultZeroSuppressionType=null;e.AldModelZeroSuppression.prototype.m_supportsZeroSuppression=false;e.AldModelZeroSuppression.prototype.m_zeroSuppressionType=null;e.AldModelZeroSuppression.prototype.applyToModel=function(e,t){if(this.m_supportsZeroSuppression){t.setZeroSuppressionType(this.m_zeroSuppressionType)}};e.AldModelZeroSuppression.prototype.getDefaultZeroSuppressionType=function(){return this.m_defaultZeroSuppressionType};e.AldModelZeroSuppression.prototype.getZeroSuppressionType=function(){return this.m_zeroSuppressionType};e.AldModelZeroSuppression.prototype.isSupportsZeroSuppression=function(){return this.m_supportsZeroSuppression};e.AldModelZeroSuppression.prototype.setDefaultZeroSuppressionType=function(e){this.m_defaultZeroSuppressionType=e};e.AldModelZeroSuppression.prototype.setSupportsZeroSuppression=function(e){this.m_supportsZeroSuppression=e};e.AldModelZeroSuppression.prototype.setZeroSuppressionType=function(e){this.m_zeroSuppressionType=e};e.AldModelZeroSuppression.prototype.setupExt=function(e,t){this.m_supportsZeroSuppression=e.supportsZeroSuppression();this.m_zeroSuppressionType=e.getZeroSuppressionType();this.m_defaultZeroSuppressionType=e.getDefaultZeroSuppressionType()};e.OlapUiCatalogOlap=function(){};e.OlapUiCatalogOlap.prototype=new e.OlapUiCatalogAbstract;e.OlapUiCatalogOlap.prototype._ff_c="OlapUiCatalogOlap";e.OlapUiCatalogOlap.create=function(t){let i=new e.OlapUiCatalogOlap;i.setupExt(t);return i};e.OlapUiCatalogOlap.prototype.getOlapCatalogService=function(){return this.m_valueRequestObject};e.OlapUiCatalogOlap.prototype.processSearch=function(t,i,o,n,a,r){let l=this.m_valueRequestObject;l.setSearchOnSchema(n);l.setSearchOnName(i);l.setSearchOnText(o);l.setSearchFilter(t);let s=(i||o||n)&&e.XStringUtils.isNotNullAndNotEmpty(t);if(!s){a.onOlapCatalogResult(e.ExtResult.create(null,null),null,r);return}l.processGetResult(e.OlapUiCatalogAbstract.s_syncType,a,r)};e.OlapUiCatalogOlap.prototype.processValueHelp=function(t,i){let o=this.m_valueRequestObject;o.processGetResult(e.OlapUiCatalogAbstract.s_syncType,t,i)};e.OlapUiHierarchyCatalog=function(){};e.OlapUiHierarchyCatalog.prototype=new e.OlapUiHierarchyCatalogAbstract;e.OlapUiHierarchyCatalog.prototype._ff_c="OlapUiHierarchyCatalog";e.OlapUiHierarchyCatalog.create=function(t){let i=new e.OlapUiHierarchyCatalog;i.setupExt(t);return i};e.OlapUiHierarchyCatalog.prototype.getHierarchyCatalogService=function(){return this.m_valueRequestObject};e.OlapUiHierarchyCatalog.prototype.processSearch=function(t,i,o,n,a,r){let l=this.m_valueRequestObject;if(e.XStringUtils.isNotNullAndNotEmpty(t)){l.setFilterHierarchyNameWithOperator(e.XStringUtils.concatenate3("*",t,"*"),e.ComparisonOperator.MATCH)}else{l.setFilterHierarchyName(null,false)}if(e.XStringUtils.isNotNullAndNotEmpty(i)){l.setFilterVersionNameWithOperator(e.XStringUtils.concatenate3("*",i,"*"),e.ComparisonOperator.MATCH)}else{l.setFilterVersionName(null,false)}if(e.XStringUtils.isNotNullAndNotEmpty(o)){l.setFilterHierarchyObjectVersionWithOperator(o,e.ComparisonOperator.MATCH)}else{l.setFilterHierarchyObjectVersion(null,false)}if(e.notNull(n)){l.setFilterHierarchyDate(n,true)}else{l.setFilterHierarchyDate(null,false)}l.setIncludeCustomHierarchies(true);l.processGetResult(e.OlapUiCatalogAbstract.s_syncType,a,r)};e.OlapUiHierarchyCatalog.prototype.processValueHelp=function(t,i){let o=this.m_valueRequestObject;o.setIncludeCustomHierarchies(true);o.processGetResult(e.OlapUiCatalogAbstract.s_syncType,t,i)};e.DdCatalogLayout=function(){};e.DdCatalogLayout.prototype=new e.DdLayoutAbstract;e.DdCatalogLayout.prototype._ff_c="DdCatalogLayout";e.DdCatalogLayout.createWithGenesis=function(t){let i=new e.DdCatalogLayout;i.setupExt(t);return i};e.DdCatalogLayout.prototype.m_content=null;e.DdCatalogLayout.prototype.m_filterArea=null;e.DdCatalogLayout.prototype.m_selectionArea=null;e.DdCatalogLayout.prototype.buildTree=function(t){this.m_content=t.newControl(e.UiType.VERTICAL_LAYOUT);this.m_content.setName("DisplayVerticalLayout");this.m_content.addItem(this.m_filterArea);this.m_content.addItem(this.m_selectionArea);return this.m_content};e.DdCatalogLayout.prototype.getContent=function(){return this.m_content};e.DdCatalogLayout.prototype.getFilterArea=function(){return this.m_filterArea};e.DdCatalogLayout.prototype.getSelectionArea=function(){return this.m_selectionArea};e.DdCatalogLayout.prototype.setupExt=function(t){this.m_filterArea=t.newControl(e.UiType.VERTICAL_LAYOUT).setHeight(e.UiCssLength.create("8em"));this.m_selectionArea=t.newControl(e.UiType.VERTICAL_LAYOUT)};e.DataCellDialogDragonflyEntryPoint=function(){};e.DataCellDialogDragonflyEntryPoint.prototype=new e.DialogEntryPoint;e.DataCellDialogDragonflyEntryPoint.prototype._ff_c="DataCellDialogDragonflyEntryPoint";e.DataCellDialogDragonflyEntryPoint.createEntryPoint=function(t){let i=new e.DataCellDialogDragonflyEntryPoint;i.setupEntryPoint(t.getApplication());i.m_dcController=e.DataCellController.create(i.getUiContext());return i};e.DataCellDialogDragonflyEntryPoint.prototype.m_dcController=null;e.DataCellDialogDragonflyEntryPoint.prototype.close=function(){this.m_dcController.close()};e.DataCellDialogDragonflyEntryPoint.prototype.openDataCellPropertiesDialog=function(e,t,i,o,n){this.m_dcController.openDataCellPropertiesDialog(e,t,i,o,n)};e.DataCellDialogDragonflyEntryPoint.prototype.releaseObject=function(){e.DialogEntryPoint.prototype.releaseObject.call(this);this.m_dcController=e.XObjectExt.release(this.m_dcController)};e.DdControllerFlexible=function(){};e.DdControllerFlexible.prototype=new e.DdControllerAbstract;e.DdControllerFlexible.prototype._ff_c="DdControllerFlexible";e.DdControllerFlexible.prototype.m_application=null;e.DdControllerFlexible.prototype.m_context=null;e.DdControllerFlexible.prototype.m_model=null;e.DdControllerFlexible.prototype.getApplication=function(){return this.m_application};e.DdControllerFlexible.prototype.getContext=function(){return this.m_context};e.DdControllerFlexible.prototype.getModel=function(){return this.m_model};e.DdControllerFlexible.prototype.setupExt=function(e,t,i,o){this.m_context=t;this.setupGenesis(o);this.m_model=i;this.m_application=e};e.DdEntryPoint=function(){};e.DdEntryPoint.prototype=new e.DialogEntryPoint;e.DdEntryPoint.prototype._ff_c="DdEntryPoint";e.DdEntryPoint.createEntryPoint=function(t){let i=new e.DdEntryPoint;i.setupEntryPoint(t);i.setApplication(t);return i};e.DdEntryPoint.prototype.m_application=null;e.DdEntryPoint.prototype.openDimensionDialog=function(t,i,o){let n=this.m_application.getProcess();let a=e.ProgramStartData.create();a.putXObject("dimension",i);a.putXObject("listener",o);let r=e.ProgramRunner.createRunner(n,e.OuDimensionDialog.DEFAULT_PROGRAM_NAME);r.setProgramStartData(a);r.runProgram()};e.DdEntryPoint.prototype.releaseObject=function(){e.DialogEntryPoint.prototype.releaseObject.call(this)};e.DdEntryPoint.prototype.setApplication=function(e){this.m_application=e};e.DdExhaustiveEntryPoint=function(){};e.DdExhaustiveEntryPoint.prototype=new e.DialogEntryPoint;e.DdExhaustiveEntryPoint.prototype._ff_c="DdExhaustiveEntryPoint";e.DdExhaustiveEntryPoint.createEntryPoint=function(t){let i=new e.DdExhaustiveEntryPoint;i.setupEntryPoint(t);i.setApplication(t);return i};e.DdExhaustiveEntryPoint.prototype.m_application=null;e.DdExhaustiveEntryPoint.prototype.openDimensionDialog=function(t,i,o){let n=this.m_application.getProcess();let a=e.ProgramStartData.create();a.putXObject("dimension",i);a.putXObject("listener",o);let r=e.ProgramRunner.createRunner(n,e.OuDimensionDialogExt.DEFAULT_PROGRAM_NAME);r.setProgramStartData(a);r.runProgram()};e.DdExhaustiveEntryPoint.prototype.releaseObject=function(){e.DialogEntryPoint.prototype.releaseObject.call(this)};e.DdExhaustiveEntryPoint.prototype.setApplication=function(e){this.m_application=e};e.DdDimensionDisplayLayoutCompact=function(){};e.DdDimensionDisplayLayoutCompact.prototype=new e.DdLayoutAbstract;e.DdDimensionDisplayLayoutCompact.prototype._ff_c="DdDimensionDisplayLayoutCompact";e.DdDimensionDisplayLayoutCompact.createWithGenesis=function(t){let i=new e.DdDimensionDisplayLayoutCompact;i.setupExt(t);return i};e.DdDimensionDisplayLayoutCompact.prototype.m_content=null;e.DdDimensionDisplayLayoutCompact.prototype.m_detailsTable=null;e.DdDimensionDisplayLayoutCompact.prototype.m_hierarchyDisplayContent=null;e.DdDimensionDisplayLayoutCompact.prototype.m_sortDisplayContent=null;e.DdDimensionDisplayLayoutCompact.prototype.m_totalsDisplayContent=null;e.DdDimensionDisplayLayoutCompact.prototype.m_valueDisplayContent=null;e.DdDimensionDisplayLayoutCompact.prototype.m_valueDisplayPrefix=null;e.DdDimensionDisplayLayoutCompact.prototype.m_valueDisplaySuffix=null;e.DdDimensionDisplayLayoutCompact.prototype.m_zeroSuppressionDisplayContent=null;e.DdDimensionDisplayLayoutCompact.prototype.buildTree=function(t){let i=e.OuDimensionDialog.getDdLocalization();this.m_content=t.newControl(e.UiType.ICON_TAB_BAR).setHeight(e.UiCssLength.create("100%"));this.m_content.setName("DisplayVerticalLayout");let o;let n;let a;let r;let l;if(this.m_valueDisplayContent.hasItems()||this.m_valueDisplaySuffix.hasItems()||this.m_totalsDisplayContent.hasItems()){n=this.m_content.addNewItem().setHeight(e.UiCssLength.create("100%"));n.setName(e.DimensionDialogI18n.I18N_DD_DISPLAY);n.setText(i.getText(e.DimensionDialogI18n.I18N_DD_DISPLAY));r=t.newRoot(e.UiType.FLEX_LAYOUT).setHeight(e.UiCssLength.create("auto")).setWidth(e.UiCssLength.create("100%"));r.setWrap(e.UiFlexWrap.WRAP);n.setContent(r);n.setIcon(null);a=r.addNewItemOfType(e.UiType.FLEX_LAYOUT).setDirection(e.UiFlexDirection.COLUMN).setHeight(e.UiCssLength.create("auto")).setWidth(e.UiCssLength.create("35%"));a.setFlex("1 0 200px");if(this.m_valueDisplayContent.hasItems()){o=a.addNewItemOfType(e.UiType.FLEX_LAYOUT).setDirection(e.UiFlexDirection.COLUMN).setHeight(e.UiCssLength.create("auto")).setWidth(e.UiCssLength.create("100%"));o.addNewItemOfType(e.UiType.LABEL).setFontSize(e.UiCssLength.create("125%")).setText(i.getText(e.DimensionDialogI18n.I18N_DD_VALUE_DISPLAY)).setHeight(e.UiCssLength.create("2em"));l=o.addNewItemOfType(e.UiType.FLEX_LAYOUT).setDirection(e.UiFlexDirection.COLUMN).setHeight(e.UiCssLength.create("auto"));l.addItem(this.m_valueDisplayContent);if(this.m_totalsDisplayContent.hasItems()){o.addNewItemOfType(e.UiType.SPACER).setHeight(e.UiCssLength.create("1em"));o.addNewItemOfType(e.UiType.LABEL).setFontSize(e.UiCssLength.create("125%")).setText(i.getText(e.DimensionDialogI18n.I18N_DD_TOTALS)).setHeight(e.UiCssLength.create("2em"));l=o.addNewItemOfType(e.UiType.FLEX_LAYOUT).setDirection(e.UiFlexDirection.COLUMN).setHeight(e.UiCssLength.create("auto"));l.addItem(this.m_totalsDisplayContent)}}else if(this.m_totalsDisplayContent.hasItems()){o=a.addNewItemOfType(e.UiType.FLEX_LAYOUT).setDirection(e.UiFlexDirection.COLUMN).setHeight(e.UiCssLength.create("auto")).setWidth(e.UiCssLength.create("100%"));o.addNewItemOfType(e.UiType.LABEL).setFontSize(e.UiCssLength.create("125%")).setText(i.getText(e.DimensionDialogI18n.I18N_DD_TOTALS)).setHeight(e.UiCssLength.create("2em"));l=o.addNewItemOfType(e.UiType.FLEX_LAYOUT).setDirection(e.UiFlexDirection.COLUMN).setHeight(e.UiCssLength.create("100%"));l.addItem(this.m_totalsDisplayContent)}}if(this.m_sortDisplayContent.hasItems()){n=this.m_content.addNewItem().setHeight(e.UiCssLength.create("auto")).setWidth(e.UiCssLength.create("100%"));n.setName(e.DimensionDialogI18n.I18N_DD_SORTING);n.setText(i.getText(e.DimensionDialogI18n.I18N_DD_SORTING));a=t.newControl(e.UiType.FLEX_LAYOUT).setDirection(e.UiFlexDirection.COLUMN);n.setContent(a);n.setIcon(null);a.addItem(this.m_sortDisplayContent)}if(this.m_hierarchyDisplayContent.hasItems()){n=this.m_content.addNewItem().setHeight(e.UiCssLength.create("auto")).setWidth(e.UiCssLength.create("100%"));n.setName(e.DimensionDialogI18n.I18N_DD_HIERARCHY);n.setText(i.getText(e.DimensionDialogI18n.I18N_DD_HIERARCHY));a=t.newControl(e.UiType.FLEX_LAYOUT).setDirection(e.UiFlexDirection.COLUMN);n.setContent(a);n.setIcon(null);a.addItem(this.m_hierarchyDisplayContent)}if(this.m_valueDisplayPrefix.hasItems()||this.m_detailsTable.hasItems()){n=this.m_content.addNewItem().setHeight(e.UiCssLength.create("auto")).setWidth(e.UiCssLength.create("100%"));n.setName(e.DimensionDialogI18n.I18N_DD_ATTRIBUTES);n.setText(i.getText(e.DimensionDialogI18n.I18N_DD_ATTRIBUTES));a=t.newControl(e.UiType.FLEX_LAYOUT).setDirection(e.UiFlexDirection.COLUMN);n.setContent(a);n.setIcon(null);a.addItem(this.m_valueDisplayPrefix);o=a.addNewItemOfType(e.UiType.FLEX_LAYOUT).setDirection(e.UiFlexDirection.COLUMN).setHeight(e.UiCssLength.create("auto")).setWidth(e.UiCssLength.create("100%"));o.addItem(this.m_detailsTable)}let s=t.newControl(e.UiType.FLEX_LAYOUT).setDirection(e.UiFlexDirection.COLUMN).setHeight(e.UiCssLength.create("100%")).setWidth(e.UiCssLength.create("100%"));s.addItem(this.m_content.setHeight(e.UiCssLength.create("100%")).setWidth(e.UiCssLength.create("100%")));return s};e.DdDimensionDisplayLayoutCompact.prototype.getContent=function(){return this.m_content};e.DdDimensionDisplayLayoutCompact.prototype.getDetailsTable=function(){return this.m_detailsTable};e.DdDimensionDisplayLayoutCompact.prototype.getHierarchyDisplayContent=function(){return this.m_hierarchyDisplayContent};e.DdDimensionDisplayLayoutCompact.prototype.getSortDisplayContent=function(){return this.m_sortDisplayContent};e.DdDimensionDisplayLayoutCompact.prototype.getTotalsDisplayContent=function(){return this.m_totalsDisplayContent};e.DdDimensionDisplayLayoutCompact.prototype.getValueDisplayContent=function(){return this.m_valueDisplayContent};e.DdDimensionDisplayLayoutCompact.prototype.getValueDisplayPrefix=function(){return this.m_valueDisplayPrefix};e.DdDimensionDisplayLayoutCompact.prototype.getValueDisplaySuffix=function(){return this.m_valueDisplaySuffix};e.DdDimensionDisplayLayoutCompact.prototype.getZeroSuppressionDisplayContent=function(){return this.m_zeroSuppressionDisplayContent};e.DdDimensionDisplayLayoutCompact.prototype.setZeroSuppressionDisplayContent=function(e){this.m_zeroSuppressionDisplayContent=e};e.DdDimensionDisplayLayoutCompact.prototype.setupExt=function(t){this.m_valueDisplayPrefix=t.newControl(e.UiType.FLEX_LAYOUT).setDirection(e.UiFlexDirection.COLUMN);this.m_valueDisplayContent=t.newControl(e.UiType.FLEX_LAYOUT).setDirection(e.UiFlexDirection.COLUMN);this.m_valueDisplaySuffix=t.newControl(e.UiType.FLEX_LAYOUT).setDirection(e.UiFlexDirection.COLUMN);this.m_detailsTable=t.newControl(e.UiType.FLEX_LAYOUT).setDirection(e.UiFlexDirection.COLUMN);this.m_sortDisplayContent=t.newControl(e.UiType.FLEX_LAYOUT).setDirection(e.UiFlexDirection.COLUMN);this.m_totalsDisplayContent=t.newControl(e.UiType.FLEX_LAYOUT).setDirection(e.UiFlexDirection.COLUMN);this.m_hierarchyDisplayContent=t.newControl(e.UiType.FLEX_LAYOUT).setDirection(e.UiFlexDirection.COLUMN);this.m_zeroSuppressionDisplayContent=t.newControl(e.UiType.FLEX_LAYOUT).setDirection(e.UiFlexDirection.COLUMN)};e.DdDimensionDisplayLayoutExhaustive=function(){};e.DdDimensionDisplayLayoutExhaustive.prototype=new e.DdLayoutAbstract;e.DdDimensionDisplayLayoutExhaustive.prototype._ff_c="DdDimensionDisplayLayoutExhaustive";e.DdDimensionDisplayLayoutExhaustive.createWithGenesis=function(t){let i=new e.DdDimensionDisplayLayoutExhaustive;i.setupExt(t);return i};e.DdDimensionDisplayLayoutExhaustive.prototype.m_content=null;e.DdDimensionDisplayLayoutExhaustive.prototype.m_detailsTable=null;e.DdDimensionDisplayLayoutExhaustive.prototype.m_hierarchyDisplayContent=null;e.DdDimensionDisplayLayoutExhaustive.prototype.m_sortDisplayContent=null;e.DdDimensionDisplayLayoutExhaustive.prototype.m_valueDisplayContent=null;e.DdDimensionDisplayLayoutExhaustive.prototype.buildTree=function(t){let i=e.OuDimensionDialog.getDdLocalization();this.m_content=t.newControl(e.UiType.ICON_TAB_BAR).setHeight(e.UiCssLength.create("100%"));this.m_content.setName("DisplayVerticalLayout");let o;let n;let a;let r;let l;if(this.m_valueDisplayContent.hasItems()){n=this.m_content.addNewItem().setHeight(e.UiCssLength.create("100%"));n.setName(e.DimensionDialogI18n.I18N_DD_DISPLAY_SETTINGS);n.setText(i.getText(e.DimensionDialogI18n.I18N_DD_DISPLAY_SETTINGS));r=t.newRoot(e.UiType.FLEX_LAYOUT).setHeight(e.UiCssLength.create("auto")).setWidth(e.UiCssLength.create("100%"));r.setWrap(e.UiFlexWrap.WRAP);n.setContent(r);n.setIcon(null);a=r.addNewItemOfType(e.UiType.FLEX_LAYOUT).setDirection(e.UiFlexDirection.COLUMN).setHeight(e.UiCssLength.create("auto")).setWidth(e.UiCssLength.create("35%"));a.setFlex("1 0 200px");if(this.m_valueDisplayContent.hasItems()){o=a.addNewItemOfType(e.UiType.FLEX_LAYOUT).setDirection(e.UiFlexDirection.COLUMN).setHeight(e.UiCssLength.create("auto")).setWidth(e.UiCssLength.create("100%"));l=o.addNewItemOfType(e.UiType.FLEX_LAYOUT).setDirection(e.UiFlexDirection.COLUMN).setHeight(e.UiCssLength.create("auto"));l.addItem(this.m_valueDisplayContent)}}if(this.m_sortDisplayContent.hasItems()){n=this.m_content.addNewItem().setHeight(e.UiCssLength.create("auto")).setWidth(e.UiCssLength.create("100%"));n.setName(e.DimensionDialogI18n.I18N_DD_SORTING);n.setText(i.getText(e.DimensionDialogI18n.I18N_DD_SORTING));a=t.newControl(e.UiType.FLEX_LAYOUT).setDirection(e.UiFlexDirection.COLUMN);n.setContent(a);n.setIcon(null);a.addItem(this.m_sortDisplayContent)}if(this.m_hierarchyDisplayContent.hasItems()){n=this.m_content.addNewItem().setHeight(e.UiCssLength.create("auto")).setWidth(e.UiCssLength.create("100%"));n.setName(e.DimensionDialogI18n.I18N_DD_HIERARCHY);n.setText(i.getText(e.DimensionDialogI18n.I18N_DD_HIERARCHY));a=t.newControl(e.UiType.FLEX_LAYOUT).setDirection(e.UiFlexDirection.COLUMN);n.setContent(a);n.setIcon(null);a.addItem(this.m_hierarchyDisplayContent)}let s=t.newControl(e.UiType.FLEX_LAYOUT).setDirection(e.UiFlexDirection.COLUMN).setHeight(e.UiCssLength.create("100%")).setWidth(e.UiCssLength.create("100%"));s.addItem(this.m_content.setHeight(e.UiCssLength.create("100%")).setWidth(e.UiCssLength.create("100%")));return s};e.DdDimensionDisplayLayoutExhaustive.prototype.getContent=function(){return this.m_content};e.DdDimensionDisplayLayoutExhaustive.prototype.getDetailsTable=function(){return this.m_detailsTable};e.DdDimensionDisplayLayoutExhaustive.prototype.getHierarchyDisplayContent=function(){return this.m_hierarchyDisplayContent};e.DdDimensionDisplayLayoutExhaustive.prototype.getSortDisplayContent=function(){return this.m_sortDisplayContent};e.DdDimensionDisplayLayoutExhaustive.prototype.getValueDisplayContent=function(){return this.m_valueDisplayContent};e.DdDimensionDisplayLayoutExhaustive.prototype.setupExt=function(t){this.m_valueDisplayContent=t.newControl(e.UiType.FLEX_LAYOUT).setDirection(e.UiFlexDirection.COLUMN);this.m_detailsTable=t.newControl(e.UiType.FLEX_LAYOUT).setDirection(e.UiFlexDirection.COLUMN);this.m_sortDisplayContent=t.newControl(e.UiType.FLEX_LAYOUT).setDirection(e.UiFlexDirection.COLUMN);this.m_hierarchyDisplayContent=t.newControl(e.UiType.FLEX_LAYOUT).setDirection(e.UiFlexDirection.COLUMN)};e.DdModelAxis=function(){};e.DdModelAxis.prototype=new e.DdObservableModel;e.DdModelAxis.prototype._ff_c="DdModelAxis";e.DdModelAxis.createFrom=function(t){let i=new e.DdModelAxis;i.setupExt(t);i.setupListeners();return i};e.DdModelAxis.prototype.m_axis=null;e.DdModelAxis.prototype.m_ddModelTotals=null;e.DdModelAxis.prototype.m_ddModelTotalsIncluded=null;e.DdModelAxis.prototype.m_ddModelTotalsRemaining=null;e.DdModelAxis.prototype.m_ddModelZeroSuppression=null;e.DdModelAxis.prototype.m_dimensionModels=null;e.DdModelAxis.prototype.m_dimensionOrdered=null;e.DdModelAxis.prototype.applyToQueryModel=function(t){let i=t.getConvenienceCommands();i.clearAxis(this.m_axis.getType());for(let e=0;e<this.m_dimensionOrdered.size();e++){let t=this.m_dimensionOrdered.get(e);if(t.isVisible()){i.moveDimensionToRows(t.getComponentName())}}this.m_axis.clearResultVisibilitySettings();if(e.notNull(this.m_ddModelTotals)&&this.m_ddModelTotals.isActive()){this.m_ddModelTotals.applyToModel(t,this.m_axis,e.QModelLevel.AXES)}if(e.notNull(this.m_ddModelTotalsIncluded)&&e.notNull(this.m_ddModelTotalsIncluded)&&this.m_ddModelTotalsIncluded.isActive()){this.m_ddModelTotalsIncluded.applyToModel(t,this.m_axis,e.QModelLevel.AXES)}if(e.notNull(this.m_ddModelTotalsRemaining)&&e.notNull(this.m_ddModelTotalsRemaining)&&this.m_ddModelTotalsRemaining.isActive()){this.m_ddModelTotalsRemaining.applyToModel(t,this.m_axis,e.QModelLevel.AXES)}if(e.notNull(this.m_ddModelZeroSuppression)){this.m_ddModelZeroSuppression.applyToModel(t,this.m_axis)}};e.DdModelAxis.prototype.getDdModelTotals=function(){return this.m_ddModelTotals};e.DdModelAxis.prototype.getDdModelTotalsIncluded=function(){return this.m_ddModelTotalsIncluded};e.DdModelAxis.prototype.getDdModelTotalsRemaining=function(){return this.m_ddModelTotalsRemaining};e.DdModelAxis.prototype.getDdModelZeroSuppression=function(){return this.m_ddModelZeroSuppression};e.DdModelAxis.prototype.getDimensionOrdered=function(){return this.m_dimensionOrdered};e.DdModelAxis.prototype.initializeTotals=function(t){if(t.supportsTotals()){let i=t.getModelCapabilities();this.m_ddModelTotals=e.DdModelTotals.createFrom(i,t,true,null,null);if(i.supportsConditionalResults()){this.m_ddModelTotalsIncluded=e.DdModelTotals.createFrom(i,t,true,e.ResultStructureElement.TOTAL_INCLUDED_MEMBERS,null);this.m_ddModelTotalsRemaining=e.DdModelTotals.createFrom(i,t,true,e.ResultStructureElement.TOTAL_REMAINING_MEMBERS,null)}}};e.DdModelAxis.prototype.initializeZeroSuppression=function(t){if(t.supportsZeroSuppression()){this.m_ddModelZeroSuppression=e.AldModelZeroSuppression.createFrom(t,true)}};e.DdModelAxis.prototype.setDdModelTotals=function(e){this.m_ddModelTotals=e};e.DdModelAxis.prototype.setDdModelTotalsIncluded=function(e){this.m_ddModelTotalsIncluded=e};e.DdModelAxis.prototype.setDdModelTotalsRemaining=function(e){this.m_ddModelTotalsRemaining=e};e.DdModelAxis.prototype.setDdModelZeroSuppression=function(e){this.m_ddModelZeroSuppression=e};e.DdModelAxis.prototype.setupExt=function(t){let i=t.getDimensions();this.m_axis=t;this.m_dimensionModels=e.XHashMapByString.create();this.m_dimensionOrdered=e.XList.create();let o;for(o=0;o<i.size();o++){let t=i.getDimensionAt(o);let n=e.DdModelDimension.createFrom(t,true,this.m_dimensionOrdered,this);this.m_dimensionModels.put(n.getComponentName(),n)}let n=t.getQueryModel().getDimensions();for(o=0;o<n.size();o++){let i=n.getDimensionAt(o);let a=i.getName();if(!this.m_dimensionModels.containsKey(a)){let t=e.DdModelDimension.createFrom(i,false,this.m_dimensionOrdered,this);this.m_dimensionModels.put(a,t)}this.initializeTotals(t);this.initializeZeroSuppression(t)}};e.DdModelHierarchySelection=function(){};e.DdModelHierarchySelection.prototype=new e.DdObservableModel;e.DdModelHierarchySelection.prototype._ff_c="DdModelHierarchySelection";e.DdModelHierarchySelection.createFrom=function(t){let i=new e.DdModelHierarchySelection;i.setupExt(t);i.setupListeners();return i};e.DdModelHierarchySelection.prototype.m_activable=false;e.DdModelHierarchySelection.prototype.m_active=false;e.DdModelHierarchySelection.prototype.m_availableHierarchies=null;e.DdModelHierarchySelection.prototype.m_drillLevel=0;e.DdModelHierarchySelection.prototype.m_hierarchy=null;e.DdModelHierarchySelection.prototype.m_hierarchyText=null;e.DdModelHierarchySelection.prototype.m_levelMap=null;e.DdModelHierarchySelection.prototype.m_maximumDrillLevel=0;e.DdModelHierarchySelection.prototype.m_memberOfPostedNodeVisibility=null;e.DdModelHierarchySelection.prototype.m_nodeAlignment=null;e.DdModelHierarchySelection.prototype.m_nodeCondensation=false;e.DdModelHierarchySelection.prototype.m_selectable=false;e.DdModelHierarchySelection.prototype.m_supportsBottomUp=false;e.DdModelHierarchySelection.prototype.m_supportsLevels=false;e.DdModelHierarchySelection.prototype.getAvailableHierarchies=function(){return this.m_availableHierarchies};e.DdModelHierarchySelection.prototype.getDrillLevel=function(){return this.m_drillLevel};e.DdModelHierarchySelection.prototype.getHierarchy=function(){return this.m_hierarchy};e.DdModelHierarchySelection.prototype.getHierarchyText=function(){return this.m_hierarchyText};e.DdModelHierarchySelection.prototype.getMaximumDrillLevel=function(){return this.m_maximumDrillLevel};e.DdModelHierarchySelection.prototype.getMemberOfPostedNodeVisibility=function(){return this.m_memberOfPostedNodeVisibility};e.DdModelHierarchySelection.prototype.getNodeAlignment=function(){return this.m_nodeAlignment};e.DdModelHierarchySelection.prototype.isActivable=function(){return this.m_selectable&&e.XStringUtils.isNotNullAndNotEmpty(this.m_hierarchy)};e.DdModelHierarchySelection.prototype.isActive=function(){return this.m_activable&&this.m_active};e.DdModelHierarchySelection.prototype.isNodeCondensation=function(){return this.m_nodeCondensation};e.DdModelHierarchySelection.prototype.isSelectable=function(){return this.m_selectable};e.DdModelHierarchySelection.prototype.isSupportsBottomUp=function(){return this.m_supportsBottomUp};e.DdModelHierarchySelection.prototype.isSupportsLevels=function(){return this.m_supportsLevels};e.DdModelHierarchySelection.prototype.setActive=function(e){this.m_active=e;this.callListeners()};e.DdModelHierarchySelection.prototype.setDrillLevel=function(e){this.m_drillLevel=e};e.DdModelHierarchySelection.prototype.setHierarchy=function(e){this.m_hierarchy=e;if(this.m_levelMap.containsKey(e)){this.m_maximumDrillLevel=this.m_levelMap.getByKey(e).getInteger()}else{this.m_maximumDrillLevel=-1}this.callListeners()};e.DdModelHierarchySelection.prototype.setHierarchyText=function(e){this.m_hierarchyText=e};e.DdModelHierarchySelection.prototype.setMemberOfPostedNodeVisibility=function(e){this.m_memberOfPostedNodeVisibility=e};e.DdModelHierarchySelection.prototype.setNodeAlignment=function(e){this.m_nodeAlignment=e};e.DdModelHierarchySelection.prototype.setNodeCondensation=function(e){this.m_nodeCondensation=e};e.DdModelHierarchySelection.prototype.setupExt=function(t){this.m_active=t.isHierarchyActive();this.m_hierarchy=t.getHierarchyName();let i=t.getHierarchy();if(e.notNull(i)){this.m_hierarchyText=i.getText();if(e.isNull(this.m_hierarchyText)){this.m_hierarchyText=i.getHierarchyDescription()}if(e.isNull(this.m_hierarchyText)){this.m_hierarchyText=i.getName()}}if(e.isNull(this.m_hierarchyText)){this.m_hierarchyText=this.m_hierarchy}this.m_availableHierarchies=e.XHashMapByString.create();this.m_levelMap=e.XHashMapByString.create();let o;let n;if(t.supportsHierarchy()){let i=t.getHierarchies();if(e.notNull(i)){let t=i.getObjects();if(e.XCollectionUtils.hasElements(t)){for(let i=0;i<t.size();i++){let a=t.get(i);o=a.getHierarchyName();n=a.getHierarchyDescription();if(e.XStringUtils.isNullOrEmpty(n)){n=o}this.m_availableHierarchies.put(o,n);this.m_levelMap.put(o,e.XIntegerValue.create(e.XCollectionUtils.hasElements(a.getHierarchyLevels())?a.getHierarchyLevels().size():-1))}}}let a=t.getCustomHierarchies();if(e.XCollectionUtils.hasElements(a)){for(let t=0;t<a.size();t++){let i=a.get(t);o=i.getHierarchyName();n=i.getHierarchyDescription();if(e.XStringUtils.isNullOrEmpty(n)){n=o}this.m_availableHierarchies.put(o,n)}}}this.m_activable=t.supportsHierarchy();this.m_selectable=t.supportsHierarchy()&&!t.isDisplayHierarchyFixInFilter();this.m_memberOfPostedNodeVisibility=t.getMemberOfPostedNodeVisibility();this.m_supportsLevels=t.getModelCapabilities().supportsHierarchyLevelMetadata();this.m_drillLevel=t.getInitialDrillLevel();this.m_supportsBottomUp=t.getModelCapabilities().supportsExpandBottomUp();this.m_nodeAlignment=t.getLowerLevelNodeAlignment();if(e.XStringUtils.isNullOrEmpty(this.m_hierarchy)){this.m_hierarchy=t.getDefaultHierarchyName()}if(e.XStringUtils.isNullOrEmpty(this.m_hierarchy)&&e.XCollectionUtils.hasElements(this.m_availableHierarchies)){this.m_hierarchy=this.m_availableHierarchies.getKeysAsReadOnlyList().get(0)}this.m_nodeCondensation=t.hasNodeCondensation()};e.DdModelReadMode=function(){};e.DdModelReadMode.prototype=new e.DdObservableModel;e.DdModelReadMode.prototype._ff_c="DdModelReadMode";e.DdModelReadMode.createFrom=function(t,i){let o=new e.DdModelReadMode;o.setupExt(t,i);o.setupListeners();return o};e.DdModelReadMode.prototype.m_availableReadModes=null;e.DdModelReadMode.prototype.m_readMode=null;e.DdModelReadMode.prototype.getAvailableReadModes=function(){return this.m_availableReadModes};e.DdModelReadMode.prototype.getReadMode=function(){return this.m_readMode};e.DdModelReadMode.prototype.setReadMode=function(e){this.m_readMode=e};e.DdModelReadMode.prototype.setupExt=function(e,t){this.m_availableReadModes=e.getSupportedReadModes(t);this.m_readMode=e.getReadMode(t)};e.DdModelSorting=function(){};e.DdModelSorting.prototype=new e.DdObservableModel;e.DdModelSorting.prototype._ff_c="DdModelSorting";e.DdModelSorting.createFrom=function(t){let i=new e.DdModelSorting;i.setupExt(t);i.setupListeners();return i};e.DdModelSorting.prototype.m_active=false;e.DdModelSorting.prototype.m_availableFields=null;e.DdModelSorting.prototype.m_availableSortTypes=null;e.DdModelSorting.prototype.m_breakGrouping=false;e.DdModelSorting.prototype.m_caseSensitive=false;e.DdModelSorting.prototype.m_explicitlyNonHierarchical=false;e.DdModelSorting.prototype.m_field=null;e.DdModelSorting.prototype.m_hierarchySortEnabled=false;e.DdModelSorting.prototype.m_inHierarchy=false;e.DdModelSorting.prototype.m_keyField=null;e.DdModelSorting.prototype.m_locale=null;e.DdModelSorting.prototype.m_sortDirection=null;e.DdModelSorting.prototype.m_sortType=null;e.DdModelSorting.prototype.m_sortTypeNonHierarchical=null;e.DdModelSorting.prototype.m_sortingManger=null;e.DdModelSorting.prototype.m_supportsLocale=false;e.DdModelSorting.prototype.m_textField=null;e.DdModelSorting.prototype.getAvailableFields=function(){return this.m_availableFields};e.DdModelSorting.prototype.getAvailableSortTypes=function(){return this.m_availableSortTypes};e.DdModelSorting.prototype.getField=function(){return this.m_field};e.DdModelSorting.prototype.getLocale=function(){return this.m_locale};e.DdModelSorting.prototype.getSortDirection=function(){return this.m_active?this.m_sortDirection:e.XSortDirection.DISABLED};e.DdModelSorting.prototype.getSortType=function(){return this.m_sortType};e.DdModelSorting.prototype.isActive=function(){return this.m_active};e.DdModelSorting.prototype.isBreakGrouping=function(){return this.m_breakGrouping};e.DdModelSorting.prototype.isBreakGroupingSupported=function(){let t=this.m_sortingManger.getQueryModel().getModelCapabilities();if(e.notNull(this.m_sortingManger)&&e.notNull(this.m_sortType)){return t.supportsBreakGrouping(this.m_sortType)&&t.supportsPreserveGrouping(this.m_sortType)}return false};e.DdModelSorting.prototype.isCaseSensitive=function(){return this.m_caseSensitive};e.DdModelSorting.prototype.isHierarchySortEnabled=function(){return this.m_hierarchySortEnabled};e.DdModelSorting.prototype.setActive=function(e){this.m_active=e;this.callListeners()};e.DdModelSorting.prototype.setAvailableSortTypes=function(e){this.m_availableSortTypes=e};e.DdModelSorting.prototype.setBreakGrouping=function(e){this.m_breakGrouping=e};e.DdModelSorting.prototype.setCaseSensitive=function(e){this.m_caseSensitive=e};e.DdModelSorting.prototype.setField=function(e){this.m_field=e};e.DdModelSorting.prototype.setLocale=function(e){this.m_locale=e};e.DdModelSorting.prototype.setSortDirection=function(t){if(t===e.XSortDirection.DISABLED){this.m_active=false}else{this.m_active=true;this.m_sortDirection=t}this.callListeners()};e.DdModelSorting.prototype.setSortType=function(e){this.setSortTypeExt(e,true)};e.DdModelSorting.prototype.setSortTypeExt=function(t,i){if(t===this.m_sortType){return}if(t===e.SortType.MEMBER_KEY&&e.notNull(this.m_keyField)){this.m_field=this.m_keyField}else if(t===e.SortType.MEMBER_TEXT&&e.notNull(this.m_textField)){this.m_field=this.m_textField}else if(t===e.SortType.HIERARCHY){this.m_sortTypeNonHierarchical=this.m_sortType}this.m_sortType=t;this.m_explicitlyNonHierarchical=this.m_hierarchySortEnabled&&t!==e.SortType.HIERARCHY;if(i){this.callListeners()}};e.DdModelSorting.prototype.setupExt=function(t){let i=t.getResultSetSorting();let o=t.getQueryModel();let n=o.getSortingManager();this.m_sortingManger=n;this.m_active=false;this.m_breakGrouping=false;this.m_sortDirection=e.XSortDirection.DEFAULT_VALUE;this.m_availableSortTypes=e.XList.create();this.m_availableFields=e.XList.create();this.m_hierarchySortEnabled=t.isHierarchyActive();if(t.getTextField()!==null){this.m_textField=t.getTextField().getName()}if(t.getKeyField()!==null){this.m_keyField=t.getKeyField().getName()}if(e.notNull(n)){let a=o.getModelCapabilities();if(a.supportsSortType(e.SortType.MEMBER_KEY)){this.m_availableSortTypes.add(e.SortType.MEMBER_KEY)}if(a.supportsSortType(e.SortType.MEMBER_TEXT)){this.m_availableSortTypes.add(e.SortType.MEMBER_TEXT)}if(a.supportsSortType(e.SortType.FILTER)){this.m_availableSortTypes.add(e.SortType.FILTER)}if(a.supportsSortType(e.SortType.FIELD)){this.m_availableSortTypes.add(e.SortType.FIELD)}if(a.supportsSortType(e.SortType.HIERARCHY)){this.m_availableSortTypes.add(e.SortType.HIERARCHY)}this.m_supportsLocale=a.supportsLocaleSorting();if(e.notNull(i)){this.setSortTypeExt(i.getSortingType(),false);this.m_sortDirection=i.getDirection();this.m_active=this.m_sortDirection===e.XSortDirection.ASCENDING||this.m_sortDirection===e.XSortDirection.DESCENDING;this.m_breakGrouping=i.isBreakGroupingEnabled();this.m_caseSensitive=i.isCaseSensitive();this.m_locale=i.getLocale()}let r=t.getFields();if(e.XCollectionUtils.hasElements(r)){for(let t=0;t<r.size();t++){let o=r.getFieldAt(t);this.m_availableFields.add(o.getName());if(!this.m_active||e.isNull(i)||this.m_sortType===e.SortType.FIELD&&e.isNull(this.m_field)){let t=n.getFieldSorting(o,false);if(e.notNull(t)){this.m_field=o.getName();this.setSortTypeExt(e.SortType.FIELD,false);this.m_sortDirection=t.getDirection();this.m_active=true;this.m_breakGrouping=t.isBreakGroupingEnabled();this.m_caseSensitive=t.isCaseSensitive();this.m_locale=t.getLocale()}}}if(e.isNull(this.m_field)){this.m_field=r.getFieldAt(0).getName()}}if(e.isNull(this.m_sortType)&&e.XCollectionUtils.hasElements(this.m_availableSortTypes)){this.setSortTypeExt(this.m_availableSortTypes.get(0),false)}this.m_sortTypeNonHierarchical=this.m_sortType;if(this.m_sortTypeNonHierarchical===e.SortType.HIERARCHY&&e.XCollectionUtils.hasElements(this.m_availableSortTypes)){this.m_sortTypeNonHierarchical=this.m_availableSortTypes.get(0)}}};e.DdModelSorting.prototype.supportsLocaleSorting=function(){return this.m_supportsLocale};e.DdModelSorting.prototype.tryApplyHierarchicalSort=function(){this.m_hierarchySortEnabled=true;if(!this.m_inHierarchy&&this.m_sortType!==e.SortType.HIERARCHY&&!this.m_explicitlyNonHierarchical){this.m_inHierarchy=true;this.setSortTypeExt(e.SortType.HIERARCHY,false);return true}this.m_inHierarchy=true;return false};e.DdModelSorting.prototype.tryResetHierarchicalSort=function(){this.m_hierarchySortEnabled=false;if(this.m_inHierarchy&&e.notNull(this.m_sortTypeNonHierarchical)&&this.m_sortType===e.SortType.HIERARCHY){this.m_inHierarchy=false;this.setSortTypeExt(this.m_sortTypeNonHierarchical,false);return true}this.m_inHierarchy=false;return false};e.DdModelTotals=function(){};e.DdModelTotals.prototype=new e.DdObservableModel;e.DdModelTotals.prototype._ff_c="DdModelTotals";e.DdModelTotals.createFrom=function(t,i,o,n,a){let r=new e.DdModelTotals;r.setupExt(t,i,o,n,a);r.setupListeners();return r};e.DdModelTotals.prototype.m_active=false;e.DdModelTotals.prototype.m_resultAlignment=null;e.DdModelTotals.prototype.m_resultStructureElement=null;e.DdModelTotals.prototype.m_resultVisibility=null;e.DdModelTotals.prototype.m_supportedResultAlignments=null;e.DdModelTotals.prototype.m_supportsConditionalResultVisibility=false;e.DdModelTotals.prototype.m_supportsResultAlignment=false;e.DdModelTotals.prototype.applyToModel=function(t,i,o){if(this.m_active){let n=t.getConvenienceCommands();let a=i.getName();if(e.isNull(this.m_resultStructureElement)){n.setTotalsVisible(o,a,this.m_resultVisibility);n.alignTotals(o,a,this.m_resultAlignment)}else{if(e.isNull(this.m_resultAlignment)){i.setResultVisibilityByElement(this.m_resultStructureElement,this.m_resultVisibility)}else{i.setResultVisibilityByElementAndAlignment(this.m_resultAlignment,this.m_resultStructureElement,this.m_resultVisibility)}}}};e.DdModelTotals.prototype.getResultAlignment=function(){return this.m_resultAlignment};e.DdModelTotals.prototype.getResultStructureElement=function(){return this.m_resultStructureElement};e.DdModelTotals.prototype.getResultVisibility=function(){return this.m_resultVisibility};e.DdModelTotals.prototype.getSupportedResultAlignments=function(){return this.m_supportedResultAlignments};e.DdModelTotals.prototype.isActive=function(){return this.m_active};e.DdModelTotals.prototype.isSupportsConditionalResultVisibility=function(){return this.m_supportsConditionalResultVisibility};e.DdModelTotals.prototype.isSupportsResultAlignment=function(){return this.m_supportsResultAlignment};e.DdModelTotals.prototype.setActive=function(e){this.m_active=e;this.callListeners()};e.DdModelTotals.prototype.setResultAlignment=function(e){this.m_resultAlignment=e;this.callListeners()};e.DdModelTotals.prototype.setResultVisibility=function(e){this.m_resultVisibility=e;this.callListeners()};e.DdModelTotals.prototype.setupExt=function(t,i,o,n,a){this.m_resultStructureElement=n;this.m_active=o;this.m_supportsResultAlignment=i.supportsResultAlignment();this.m_supportedResultAlignments=t.getSupportedResultAlignments();this.m_supportsConditionalResultVisibility=t.supportsConditionalResultVisibility();if(e.isNull(n)){this.m_resultAlignment=i.getResultAlignment();this.m_resultVisibility=i.getResultVisibility()}else{this.m_resultAlignment=a;if(this.m_supportsResultAlignment&&e.notNull(a)){this.m_resultVisibility=i.getResultVisibilityByElementAndAlignment(a,n)}else{this.m_resultVisibility=i.getResultVisibilityByElement(n)}}};e.DdModelOrderable=function(){};e.DdModelOrderable.prototype=new e.DdObservableModel;e.DdModelOrderable.prototype._ff_c="DdModelOrderable";e.DdModelOrderable.adoptList=function(t){let i=t.size();for(let o=0;o<i;o++){let i=t.get(o);i.m_containingList=e.XWeakReferenceUtil.getWeakRef(t);i.m_position=o}};e.DdModelOrderable.prototype.m_containingList=null;e.DdModelOrderable.prototype.m_parentModel=null;e.DdModelOrderable.prototype.m_position=0;e.DdModelOrderable.prototype.isPossibleMoveDown=function(){return e.notNull(this.m_containingList)&&this.m_position+1<e.XWeakReferenceUtil.getHardRef(this.m_containingList).size()};e.DdModelOrderable.prototype.isPossibleMoveUp=function(){return e.notNull(this.m_containingList)&&this.m_position>0};e.DdModelOrderable.prototype.moveBottom=function(){this.swapTo(e.XWeakReferenceUtil.getHardRef(this.m_containingList).size()-1)};e.DdModelOrderable.prototype.moveDown=function(){this.swapTo(this.m_position+1)};e.DdModelOrderable.prototype.moveTop=function(){this.swapTo(0)};e.DdModelOrderable.prototype.moveUp=function(){this.swapTo(this.m_position-1)};e.DdModelOrderable.prototype.setupContainer=function(t,i){if(e.notNull(t)){this.m_position=t.size();t.add(this);this.m_containingList=e.XWeakReferenceUtil.getWeakRef(t)}if(e.notNull(i)){this.m_parentModel=e.XWeakReferenceUtil.getWeakRef(i)}this.setupListeners()};e.DdModelOrderable.prototype.swapTo=function(t){let i=e.XWeakReferenceUtil.getHardRef(this.m_containingList);i.removeAt(this.m_position);i.insert(t,this);for(let e=0;e<i.size();e++){i.get(e).m_position=e}if(e.notNull(this.m_parentModel)){e.XWeakReferenceUtil.getHardRef(this.m_parentModel).callListeners()}};e.OuDd2DisplayTab=function(){};e.OuDd2DisplayTab.prototype=new e.OuDd2AbstractTab;e.OuDd2DisplayTab.prototype._ff_c="OuDd2DisplayTab";e.OuDd2DisplayTab.createTab=function(t,i){let o=new e.OuDd2DisplayTab;o.setupTab(t,i);return o};e.OuDd2DisplayTab.prototype.m_displayTab=null;e.OuDd2DisplayTab.prototype.buildUi=function(t,i){this.m_displayTab=i.addNewItem();this.m_displayTab.setText(this.m_i18n.getText(e.OuDimensionDialog2I18n.DISPLAY));this.m_form=e.UiForm.create(t);let o=this.getSupportedPresentations();let n=this.m_form.addDropdown(e.OuDimensionDialog2I18n.CONTENT,null,this.m_i18n.getText(e.OuDimensionDialog2I18n.CONTENT),o,false);n.setVisible(o.size()>1);let a=this.getSupportedTextTypes();let r=this.m_form.addSegmentedButton(e.OuDimensionDialog2I18n.TEXT_TYPE,null,this.m_i18n.getText(e.OuDimensionDialog2I18n.TEXT_TYPE),a);r.setVisible(a.size()>1);let l=e.XLinkedHashMapByString.create();l.put(e.ResultVisibility.ALWAYS.getName(),this.m_i18n.getText(e.OuDimensionDialog2I18n.TOTALS_VISIBLE));l.put(e.ResultVisibility.HIDDEN.getName(),this.m_i18n.getText(e.OuDimensionDialog2I18n.TOTALS_HIDDEN));l.put(e.ResultVisibility.CONDITIONAL.getName(),this.m_i18n.getText(e.OuDimensionDialog2I18n.TOTALS_MORE_THAN_ONE));let s=this.m_form.addDropdown(e.OuDimensionDialog2I18n.TOTALS,null,this.m_i18n.getText(e.OuDimensionDialog2I18n.TOTALS),l,false);s.setVisible(this.m_dimension.supportsTotals()&&this.m_dimension.supportsResultVisibility());let u=e.XList.create();u.add(e.UiFormItemOption.createWithText(e.ResultAlignment.BOTTOM.getName(),this.m_i18n.getText(e.OuDimensionDialog2I18n.TOTALS_POSITION_BOT)));u.add(e.UiFormItemOption.createWithText(e.ResultAlignment.TOP.getName(),this.m_i18n.getText(e.OuDimensionDialog2I18n.TOTALS_POSITION_TOP)));let m=this.m_form.addSegmentedButton(e.OuDimensionDialog2I18n.TOTALS_POSITION,null,this.m_i18n.getText(e.OuDimensionDialog2I18n.TOTALS_POSITION),u);m.setVisible(this.m_dimension.supportsTotals()&&this.m_dimension.supportsResultAlignment());let p=this.m_form.addCheckbox(e.OuDimensionDialog2I18n.INCLUDE_UNBOOKED,false,this.m_i18n.getText(e.OuDimensionDialog2I18n.INCLUDE_UNBOOKED));p.setVisible(this.supportsMasterReadmode());let d=this.m_form.getView();d.setPadding(e.UiCssBoxEdges.create("1rem"));this.m_displayTab.setContent(d)};e.OuDd2DisplayTab.prototype.getNameValueOrNull=function(t){if(e.isNull(t)){return null}return e.XStringValue.create(t.getName())};e.OuDd2DisplayTab.prototype.getSupportedPresentations=function(){let t=e.XLinkedHashMapByString.create();if(this.m_mainAttributeModel.isMayDisplayText()){t.put(e.FieldContainerDisplay.TEXT.getName(),this.m_i18n.getText(e.OuDimensionDialog2I18n.TEXT))}t.put(e.FieldContainerDisplay.KEY.getName(),this.m_i18n.getText(e.OuDimensionDialog2I18n.KEY));if(this.m_mainAttributeModel.isMayDisplayText()){t.put(e.FieldContainerDisplay.TEXT_AND_KEY.getName(),this.m_i18n.getText(e.OuDimensionDialog2I18n.TEXT_AND_KEY));t.put(e.FieldContainerDisplay.KEY_AND_TEXT.getName(),this.m_i18n.getText(e.OuDimensionDialog2I18n.KEY_AND_TEXT))}return t};e.OuDd2DisplayTab.prototype.getSupportedTextTypes=function(){let t=e.XList.create();if(!this.m_mainAttributeModel.isMayDisplayText()){return t}if(this.m_dimension.getFieldByPresentationType(e.PresentationType.SHORT_TEXT)!==null){t.add(e.UiFormItemOption.createWithText(e.PresentationType.SHORT_TEXT.getName(),this.m_i18n.getText(e.OuDimensionDialog2I18n.TEXT_TYPE_SHORT)))}if(this.m_dimension.getFieldByPresentationType(e.PresentationType.MEDIUM_TEXT)!==null){t.add(e.UiFormItemOption.createWithText(e.PresentationType.MEDIUM_TEXT.getName(),this.m_i18n.getText(e.OuDimensionDialog2I18n.TEXT_TYPE_MEDIUM)))}if(this.m_dimension.getFieldByPresentationType(e.PresentationType.LONG_TEXT)!==null){t.add(e.UiFormItemOption.createWithText(e.PresentationType.LONG_TEXT.getName(),this.m_i18n.getText(e.OuDimensionDialog2I18n.TEXT_TYPE_LONG)))}if(this.m_dimension.getFieldByPresentationType(e.PresentationType.XL_LONG_TEXT)!==null){t.add(e.UiFormItemOption.createWithText(e.PresentationType.XL_LONG_TEXT.getName(),this.m_i18n.getText(e.OuDimensionDialog2I18n.TEXT_TYPE_XXL)))}return t};e.OuDd2DisplayTab.prototype.getTabBarItem=function(){return this.m_displayTab};e.OuDd2DisplayTab.prototype.loadState=function(){let t=this.m_mainAttributeModel.getDisplayAs();let i=this.m_mainAttributeModel.getTextView();let o=this.m_dimension.getResultVisibility();if(o===e.ResultVisibility.VISIBLE){o=e.ResultVisibility.ALWAYS}let n=this.m_dimension.getResultAlignment();let a=this.m_dimension.getReadMode(e.QContextType.RESULT_SET);this.m_form.getFormItemByKey(e.OuDimensionDialog2I18n.CONTENT).setValue(this.getNameValueOrNull(t));this.m_form.getFormItemByKey(e.OuDimensionDialog2I18n.TEXT_TYPE).setValue(this.getNameValueOrNull(i));this.m_form.getFormItemByKey(e.OuDimensionDialog2I18n.TOTALS).setValue(this.getNameValueOrNull(o));this.m_form.getFormItemByKey(e.OuDimensionDialog2I18n.TOTALS_POSITION).setValue(this.getNameValueOrNull(n));this.m_form.getFormItemByKey(e.OuDimensionDialog2I18n.INCLUDE_UNBOOKED).setValue(e.XBooleanValue.create(a.isTypeOf(e.QMemberReadMode.MASTER)));this.m_startValues=e.PrUtils.createDeepCopy(this.m_form.getJsonModel()).asStructure()};e.OuDd2DisplayTab.prototype.releaseObject=function(){this.m_displayTab=null;e.OuDd2AbstractTab.prototype.releaseObject.call(this)};e.OuDd2DisplayTab.prototype.saveState=function(){let t=this.m_form.getJsonModel();if(this.hasChanged(t,e.OuDimensionDialog2I18n.TEXT_TYPE)){let i=t.getStringByKey(e.OuDimensionDialog2I18n.TEXT_TYPE);let o=e.PresentationType.lookup(i);if(e.notNull(o)){this.m_mainAttributeModel.setTextView(o);this.m_mainAttributeModel.applyToQueryModel(this.m_dimension.getQueryModel(),this.m_dimension.getName())}}if(this.hasChanged(t,e.OuDimensionDialog2I18n.CONTENT)){let i=t.getStringByKey(e.OuDimensionDialog2I18n.CONTENT);let o=e.FieldContainerDisplay.lookup(i);this.m_mainAttributeModel.setDisplayAs(o);this.m_dimension.getQueryModel().getConvenienceCommands().clearAllAttributeFields(this.m_dimension.getName(),this.m_mainAttributeModel.getComponentName(),e.QContextType.RESULT_SET);this.m_mainAttributeModel.applyToQueryModel(this.m_dimension.getQueryModel(),this.m_dimension.getName());if(this.m_dimension.getFieldLayoutType()===e.FieldLayoutType.FIELD_BASED){this.m_mainAttributeModel.applyMainAttributeForFieldLayout(this.m_dimension)}}if(this.hasChanged(t,e.OuDimensionDialog2I18n.TOTALS)){let i=t.getStringByKey(e.OuDimensionDialog2I18n.TOTALS);let o=e.ResultVisibility.lookup(i);this.m_dimension.setResultVisibility(o)}if(this.hasChanged(t,e.OuDimensionDialog2I18n.TOTALS_POSITION)){let i=t.getStringByKey(e.OuDimensionDialog2I18n.TOTALS_POSITION);let o=e.ResultAlignment.lookup(i);this.m_dimension.setResultAlignment(o)}if(this.hasChanged(t,e.OuDimensionDialog2I18n.INCLUDE_UNBOOKED)){let i=t.getBooleanByKey(e.OuDimensionDialog2I18n.INCLUDE_UNBOOKED);this.m_dimension.setReadModeGraceful(e.QContextType.RESULT_SET,i?e.QMemberReadMode.MASTER:e.QMemberReadMode.BOOKED)}};e.OuDd2DisplayTab.prototype.supportsMasterReadmode=function(){let t=this.m_dimension.getSupportedReadModes(e.QContextType.RESULT_SET);if(e.isNull(t)||this.m_dimension.isMeasureStructure()){return false}let i=t.getValuesAsReadOnlyList();for(let t=0;t<i.size();t++){if(i.get(t).isTypeOf(e.QMemberReadMode.MASTER)){return true}}return false};e.OuDd2HierarchyTab=function(){};e.OuDd2HierarchyTab.prototype=new e.OuDd2AbstractTab;e.OuDd2HierarchyTab.prototype._ff_c="OuDd2HierarchyTab";e.OuDd2HierarchyTab.createTab=function(t,i){let o=new e.OuDd2HierarchyTab;o.setupTab(t,i);return o};e.OuDd2HierarchyTab.prototype.m_hierarchyTab=null;e.OuDd2HierarchyTab.prototype.buildUi=function(t,i){if(!this.m_dimension.supportsHierarchy()){return}this.m_hierarchyTab=i.addNewItem();this.m_hierarchyTab.setText(this.m_i18n.getText(e.OuDimensionDialog2I18n.HIERARCHIES));this.m_form=e.UiForm.create(t);let o=this.m_form.addCheckbox(e.OuDimensionDialog2I18n.DISPLAY_HIERARCHICALLY,false,this.m_i18n.getText(e.OuDimensionDialog2I18n.DISPLAY_HIERARCHICALLY));o.setEditable(!this.m_dimension.isDisplayHierarchyFixInFilter());let n=this.m_dimension.getDimensionType()===e.DimensionType.MEASURE_STRUCTURE||this.m_dimension.getDimensionType()===e.DimensionType.SECONDARY_STRUCTURE;let a=this.m_form.addInput(e.OuDimensionDialog2I18n.HIERARCHY,null,this.m_i18n.getText(e.OuDimensionDialog2I18n.HIERARCHY));a.setEditable(!n&&!this.m_dimension.isDisplayHierarchyFixInFilter());a.setPlaceholder(this.m_i18n.getText(e.OuDimensionDialog2I18n.ENTER_HIERARCHY_NAME));a.setValueHelpProcedure(this.launchFilterDialogForHierarchy.bind(this));a.setValueChangedConsumer((e,t)=>{this.validateHierarchy(t)});if(n){a.setTooltip(this.m_i18n.getText(e.OuDimensionDialog2I18n.INFO_HIERARCHY_ON_STRUCTURE))}else if(this.m_dimension.isDisplayHierarchyFixInFilter()){a.setTooltip(this.m_i18n.getText(e.OuDimensionDialog2I18n.INFO_HIERARCHY_FIXED))}let r=e.XLinkedHashMapByString.create();r.put(e.XInteger.convertToString(-1),this.m_i18n.getText(e.OuDimensionDialog2I18n.ALL_NODES));r.put(e.XInteger.convertToString(0),this.m_i18n.getText(e.OuDimensionDialog2I18n.ONLY_ROOT_NODES));for(let t=1;t<10;t++){let i=e.XInteger.convertToString(t);r.put(i,this.m_i18n.getTextWithPlaceholder(e.OuDimensionDialog2I18n.ROOT_AND_X_CHILD_LEVEL,i))}this.m_form.addDropdown(e.OuDimensionDialog2I18n.NODES_TO_SHOW,null,this.m_i18n.getText(e.OuDimensionDialog2I18n.NODES_TO_SHOW),r,false);let l=e.XList.create();l.add(e.UiFormItemOption.createWithText(e.Alignment.CHILDREN_ABOVE_PARENT.getName(),this.m_i18n.getText(e.OuDimensionDialog2I18n.NODE_POSITION_ABOVE)));l.add(e.UiFormItemOption.createWithText(e.Alignment.CHILDREN_BELOW_PARENT.getName(),this.m_i18n.getText(e.OuDimensionDialog2I18n.NODE_POSITION_BELOW)));this.m_form.addSegmentedButton(e.OuDimensionDialog2I18n.NODE_POSITION,null,this.m_i18n.getText(e.OuDimensionDialog2I18n.NODE_POSITION),l);this.m_form.addCheckbox(e.OuDimensionDialog2I18n.CONDENSE_NODES,false,this.m_i18n.getText(e.OuDimensionDialog2I18n.CONDENSE_NODES));let s=this.m_form.getView();s.setPadding(e.UiCssBoxEdges.create("1rem"));this.m_hierarchyTab.setContent(s)};e.OuDd2HierarchyTab.prototype.getTabBarItem=function(){return this.m_hierarchyTab};e.OuDd2HierarchyTab.prototype.launchFilterDialogForHierarchy=function(){let t=e.FilterDialogProgramRunnerFactory.createForHierarchyCatalog(this.m_dimension.getProcess(),this.m_dimension.getQueryManager(),this.m_dimension.getName(),this.m_i18n.getText(e.OuHierarchyDialogI18n.TITLE));let i=this.m_form.getFormItemByKey(e.OuDimensionDialog2I18n.HIERARCHY).getValue();if(e.notNull(i)){let o=i.getStringRepresentation();let n=e.XCollectionUtils.singletonList(e.FilterDialogValueFactory.createValue(o,null,null));t.getProgramStartData().putXObject(e.FilterDialog.PRG_DATA_DEFAULT_SELECTION,n)}t.getProgramStartData().putXObject(e.FilterDialog.PRG_DATA_LISTENER_CLOSE,this);t.setConfigStructure(e.PrFactory.createStructure());t.runProgram()};e.OuDd2HierarchyTab.prototype.loadState=function(){if(e.isNull(this.m_form)){return}let t=this.m_dimension.isHierarchyActive();let i=this.m_dimension.getHierarchyName();let o=this.m_dimension.getInitialDrillLevel();let n=this.m_dimension.getLowerLevelNodeAlignment()===e.Alignment.DEFAULT_VALUE?e.Alignment.CHILDREN_BELOW_PARENT:this.m_dimension.getHierarchyManager().getLowerLevelNodeAlignment();let a=this.m_dimension.getHierarchyManager().hasNodeCondensation();let r=this.m_form.getFormItemByKey(e.OuDimensionDialog2I18n.DISPLAY_HIERARCHICALLY);r.setValue(e.XBooleanValue.create(t));r.setEditable(!this.m_dimension.isDisplayHierarchyFixInFilter()&&e.notNull(i));this.m_form.getFormItemByKey(e.OuDimensionDialog2I18n.HIERARCHY).setValue(e.XStringValue.create(i));this.m_form.getFormItemByKey(e.OuDimensionDialog2I18n.NODES_TO_SHOW).setValue(e.XStringValue.create(e.XInteger.convertToString(o)));this.m_form.getFormItemByKey(e.OuDimensionDialog2I18n.NODE_POSITION).setValue(e.XStringValue.create(n.getName()));this.m_form.getFormItemByKey(e.OuDimensionDialog2I18n.CONDENSE_NODES).setValue(e.XBooleanValue.create(a));this.m_startValues=e.PrUtils.createDeepCopy(this.m_form.getJsonModel()).asStructure()};e.OuDd2HierarchyTab.prototype.onFilterDialogCancel=function(){};e.OuDd2HierarchyTab.prototype.onFilterDialogOk=function(t,i){let o=null;if(e.XCollectionUtils.hasElements(t)){let i=t.get(0);o=e.XStringValue.create(i.getName())}this.m_form.getFormItemByKey(e.OuDimensionDialog2I18n.HIERARCHY).setValue(o);this.validateHierarchy(o)};e.OuDd2HierarchyTab.prototype.releaseObject=function(){this.m_hierarchyTab=null;e.OuDd2AbstractTab.prototype.releaseObject.call(this)};e.OuDd2HierarchyTab.prototype.saveState=function(){if(e.isNull(this.m_form)){return}let t=this.m_form.getJsonModel();if(this.hasChanged(t,e.OuDimensionDialog2I18n.HIERARCHY)||this.hasChanged(t,e.OuDimensionDialog2I18n.DISPLAY_HIERARCHICALLY)){let i=t.getBooleanByKey(e.OuDimensionDialog2I18n.DISPLAY_HIERARCHICALLY);let o=t.getStringByKey(e.OuDimensionDialog2I18n.HIERARCHY);if(this.m_dimension.isHierarchyActive()){if(!i||e.isNull(o)){this.m_dimension.setHierarchyActive(false)}this.m_dimension.setHierarchyName(o)}else{this.m_dimension.setHierarchyName(o);this.m_dimension.setHierarchyActive(i&&e.notNull(o))}}if(this.hasChanged(t,e.OuDimensionDialog2I18n.NODES_TO_SHOW)){let i=e.XInteger.convertFromString(t.getStringByKey(e.OuDimensionDialog2I18n.NODES_TO_SHOW));this.m_dimension.getConvenienceCommands().removeDrillOperationsByDimensionName(this.m_dimension.getName());this.m_dimension.setInitialDrillLevel(i)}if(this.hasChanged(t,e.OuDimensionDialog2I18n.NODE_POSITION)){let i=t.getStringByKey(e.OuDimensionDialog2I18n.NODE_POSITION);let o=e.Alignment.lookup(i);this.m_dimension.getHierarchyManager().setLowerLevelNodeAlignment(o)}if(this.hasChanged(t,e.OuDimensionDialog2I18n.CONDENSE_NODES)){let i=t.getBooleanByKey(e.OuDimensionDialog2I18n.CONDENSE_NODES);this.m_dimension.getHierarchyManager().setHasNodeCondensation(i)}};e.OuDd2HierarchyTab.prototype.validateHierarchy=function(t){let i=e.notNull(t)?t.getStringRepresentation():null;let o=this.m_form.getFormItemByKey(e.OuDimensionDialog2I18n.DISPLAY_HIERARCHICALLY);if(e.isNull(i)){o.setValue(e.XBooleanValue.create(false))}o.setEditable(!this.m_dimension.isDisplayHierarchyFixInFilter()&&e.notNull(i))};e.OuDd2SortingTab=function(){};e.OuDd2SortingTab.prototype=new e.OuDd2AbstractTab;e.OuDd2SortingTab.prototype._ff_c="OuDd2SortingTab";e.OuDd2SortingTab.createTab=function(t,i){let o=new e.OuDd2SortingTab;o.setupTab(t,i);return o};e.OuDd2SortingTab.lookupDirection=function(t){if(e.XString.isEqual(t,e.XSortDirection.NONE.getName())){return e.XSortDirection.NONE}if(e.XString.isEqual(t,e.XSortDirection.ASCENDING.getName())){return e.XSortDirection.ASCENDING}if(e.XString.isEqual(t,e.XSortDirection.DESCENDING.getName())){return e.XSortDirection.DESCENDING}throw e.XException.createIllegalArgumentException(e.XStringUtils.concatenate2("Unknown sort direction ",t))};e.OuDd2SortingTab.prototype.m_sortingTab=null;e.OuDd2SortingTab.prototype.buildUi=function(t,i){let o=this.getSupportedSortTypes();if(o.isEmpty()){return}this.m_sortingTab=i.addNewItem();this.m_sortingTab.setText(this.m_i18n.getText(e.OuDimensionDialog2I18n.SORTING));this.m_form=e.UiForm.create(t);let n=e.XLinkedHashMapByString.create();n.put(e.XSortDirection.NONE.getName(),this.m_i18n.getText(e.OuDimensionDialog2I18n.SORT_DIRECTION_NONE));n.put(e.XSortDirection.ASCENDING.getName(),this.m_i18n.getText(e.OuDimensionDialog2I18n.SORT_DIRECTION_ASCENDING));n.put(e.XSortDirection.DESCENDING.getName(),this.m_i18n.getText(e.OuDimensionDialog2I18n.SORT_DIRECTION_DESCENDING));this.m_form.addDropdown(e.OuDimensionDialog2I18n.SORT_DIRECTION,null,this.m_i18n.getText(e.OuDimensionDialog2I18n.SORT_DIRECTION),n,false);this.m_form.addDropdown(e.OuDimensionDialog2I18n.SORT_BY,null,this.m_i18n.getText(e.OuDimensionDialog2I18n.SORT_BY),o,false);let a=this.m_form.addCheckbox(e.OuDimensionDialog2I18n.BREAK_GROUPING,false,this.m_i18n.getText(e.OuDimensionDialog2I18n.BREAK_GROUPING));a.setVisible(this.m_dimension.getResultSetSorting().supportsBreakGrouping()&&this.m_dimension.getResultSetSorting().supportsPreserveGrouping());let r=this.m_form.getView();r.setPadding(e.UiCssBoxEdges.create("1rem"));this.m_sortingTab.setContent(r)};e.OuDd2SortingTab.prototype.getSupportedSortTypes=function(){let t=e.XLinkedHashMapByString.create();if(this.m_dimension.supportsSorting(e.SortType.MEMBER_TEXT)&&this.m_mainAttributeModel.isMayDisplayText()){t.put(e.SortType.MEMBER_TEXT.getName(),this.m_i18n.getText(e.OuDimensionDialog2I18n.TEXT))}if(this.m_dimension.supportsSorting(e.SortType.MEMBER_KEY)){t.put(e.SortType.MEMBER_KEY.getName(),this.m_i18n.getText(e.OuDimensionDialog2I18n.KEY))}if(this.m_dimension.supportsSorting(e.SortType.HIERARCHY)){t.put(e.SortType.HIERARCHY.getName(),this.m_i18n.getText(e.OuDimensionDialog2I18n.SORT_BY_HIERARCHY))}if(this.m_dimension.supportsSorting(e.SortType.FILTER)){t.put(e.SortType.FILTER.getName(),this.m_i18n.getText(e.OuDimensionDialog2I18n.SORT_BY_FILTER))}return t};e.OuDd2SortingTab.prototype.getTabBarItem=function(){return this.m_sortingTab};e.OuDd2SortingTab.prototype.loadState=function(){if(e.isNull(this.m_form)){return}let t=this.m_dimension.getResultSetSorting();let i=t.getSortingType();let o=i===e.SortType.MEMBER_KEY||i===e.SortType.MEMBER_TEXT;let n=o?t.getDirection():e.XSortDirection.NONE;let a=t.isBreakGroupingEnabled();let r=this.m_form.getFormItemByKey(e.OuDimensionDialog2I18n.SORT_DIRECTION);r.setValue(e.XStringValue.create(n.getName()));r.setVisible(o);let l=this.m_form.getFormItemByKey(e.OuDimensionDialog2I18n.SORT_BY);l.setValue(e.XStringValue.create(i.getName()));l.setValueChangedConsumer((t,i)=>{let o=e.SortType.lookup(i.getStringRepresentation());let n=o===e.SortType.MEMBER_KEY||o===e.SortType.MEMBER_TEXT;r.setVisible(n)});this.m_form.getFormItemByKey(e.OuDimensionDialog2I18n.BREAK_GROUPING).setValue(e.XBooleanValue.create(a));this.m_startValues=e.PrUtils.createDeepCopy(this.m_form.getJsonModel()).asStructure()};e.OuDd2SortingTab.prototype.releaseObject=function(){this.m_sortingTab=null;e.OuDd2AbstractTab.prototype.releaseObject.call(this)};e.OuDd2SortingTab.prototype.saveState=function(){if(e.isNull(this.m_form)){return}let t=this.m_form.getJsonModel();let i=this.m_dimension.getResultSetSorting();if(this.hasChanged(t,e.OuDimensionDialog2I18n.SORT_DIRECTION)){if(!this.m_form.getFormItemByKey(e.OuDimensionDialog2I18n.SORT_DIRECTION).isVisible()){i.setDirection(e.XSortDirection.NONE)}else{let o=t.getStringByKey(e.OuDimensionDialog2I18n.SORT_DIRECTION);let n=e.OuDd2SortingTab.lookupDirection(o);i.setDirection(n)}}if(this.hasChanged(t,e.OuDimensionDialog2I18n.SORT_BY)){let o=t.getStringByKey(e.OuDimensionDialog2I18n.SORT_BY);let n=e.SortType.lookup(o);i.setSortType(n)}if(this.hasChanged(t,e.OuDimensionDialog2I18n.BREAK_GROUPING)){let o=t.getBooleanByKey(e.OuDimensionDialog2I18n.BREAK_GROUPING);i.setBreakGrouping(o)}};e.FdDataLoadedLambdaListener=function(){};e.FdDataLoadedLambdaListener.prototype=new e.XObject;e.FdDataLoadedLambdaListener.prototype._ff_c="FdDataLoadedLambdaListener";e.FdDataLoadedLambdaListener.create=function(t,i){let o=new e.FdDataLoadedLambdaListener;o.m_onOkListener=t;o.m_onErrorListener=i;return o};e.FdDataLoadedLambdaListener.prototype.m_onErrorListener=null;e.FdDataLoadedLambdaListener.prototype.m_onOkListener=null;e.FdDataLoadedLambdaListener.prototype.onError=function(t,i){if(e.notNull(this.m_onErrorListener)){this.m_onErrorListener(t)}};e.FdDataLoadedLambdaListener.prototype.onProcessFinished=function(t,i,o){if(e.notNull(this.m_onOkListener)){this.m_onOkListener(t,i)}};e.FdDataLoadedLambdaListener.prototype.releaseObject=function(){e.XObject.prototype.releaseObject.call(this);this.m_onOkListener=null;this.m_onErrorListener=null};e.FdHierarchyModel=function(){};e.FdHierarchyModel.prototype=new e.XObject;e.FdHierarchyModel.prototype._ff_c="FdHierarchyModel";e.FdHierarchyModel.create=function(){let t=new e.FdHierarchyModel;t.m_hierarchies=e.XLinkedHashMapByString.create();t.m_hierarchyChangeListeners=e.XList.create();t.m_availableHierarchiesChangeListeners=e.XList.create();return t};e.FdHierarchyModel.prototype.m_activeHierarchyChanged=false;e.FdHierarchyModel.prototype.m_availableHierarchiesChangeListeners=null;e.FdHierarchyModel.prototype.m_hasRootNodesOnly=false;e.FdHierarchyModel.prototype.m_hierarchies=null;e.FdHierarchyModel.prototype.m_hierarchyChangeListeners=null;e.FdHierarchyModel.prototype.m_hierarchyContentProvider=null;e.FdHierarchyModel.prototype.changeHierarchy=function(t){let i=this.getHierarchyName();if(!e.XString.isEqual(i,t)&&e.notNull(this.m_hierarchyContentProvider)){this.m_hierarchyContentProvider.changeHierarchy(t);this.m_activeHierarchyChanged=true;this.ensureActiveHierarchyExistsInHierarchyList();e.XCollectionUtils.forEach(this.m_hierarchyChangeListeners,e=>{e.onHierarchyChanged(t)})}};e.FdHierarchyModel.prototype.ensureActiveHierarchyExistsInHierarchyList=function(){if(e.isNull(this.m_hierarchies)){this.m_hierarchies=e.XHashMapByString.create()}let t=this.getHierarchyName();if(this.isHierarchical()&&!this.m_hierarchies.containsKey(t)){this.m_hierarchies.put(t,t)}};e.FdHierarchyModel.prototype.fetchChildren=function(t,i,o,n,a,r){if(e.notNull(this.m_hierarchyContentProvider)){this.m_hierarchyContentProvider.fetchChildren(t,i,o,n,a,r)}};e.FdHierarchyModel.prototype.getHierarchies=function(){return this.m_hierarchies};e.FdHierarchyModel.prototype.getHierarchyName=function(){return e.notNull(this.m_hierarchyContentProvider)?this.m_hierarchyContentProvider.getHierarchyName():null};e.FdHierarchyModel.prototype.hasRootNodesOnly=function(){return this.m_hasRootNodesOnly};e.FdHierarchyModel.prototype.isActiveHierarchyChanged=function(){return this.m_activeHierarchyChanged};e.FdHierarchyModel.prototype.isHierarchical=function(){return e.notNull(this.m_hierarchyContentProvider)&&this.m_hierarchyContentProvider.isHierarchical()};e.FdHierarchyModel.prototype.processHierarchies=function(){if(e.notNull(this.m_hierarchyContentProvider)){this.m_hierarchyContentProvider.processHierarchies()}};e.FdHierarchyModel.prototype.registerOnActiveHierarchyChange=function(t){e.XCollectionUtils.addIfNotPresent(this.m_hierarchyChangeListeners,t)};e.FdHierarchyModel.prototype.registerOnAvailableHierarchiesChange=function(t){e.XCollectionUtils.addIfNotPresent(this.m_availableHierarchiesChangeListeners,t)};e.FdHierarchyModel.prototype.releaseObject=function(){e.XObject.prototype.releaseObject.call(this);this.m_hierarchyContentProvider=null;this.m_hierarchies=e.XObjectExt.release(this.m_hierarchies);this.m_hierarchyChangeListeners=e.XObjectExt.release(this.m_hierarchyChangeListeners);this.m_availableHierarchiesChangeListeners=e.XObjectExt.release(this.m_availableHierarchiesChangeListeners)};e.FdHierarchyModel.prototype.resetHierarchyChangedState=function(){this.m_activeHierarchyChanged=false};e.FdHierarchyModel.prototype.setHasRootNodesOnly=function(e){this.m_hasRootNodesOnly=e};e.FdHierarchyModel.prototype.setHierarchies=function(t){this.m_hierarchies=t;this.ensureActiveHierarchyExistsInHierarchyList();if(e.notNull(this.m_availableHierarchiesChangeListeners)){e.XCollectionUtils.forEach(this.m_availableHierarchiesChangeListeners,e=>{e.onAvailableHierarchiesChanged(this.m_hierarchies,this.getHierarchyName())})}};e.FdHierarchyModel.prototype.setHierarchyContentProvider=function(e){this.m_hierarchyContentProvider=e;this.ensureActiveHierarchyExistsInHierarchyList()};e.FdHierarchyModel.prototype.unregisterOnActiveHierarchyChange=function(e){this.m_hierarchyChangeListeners.removeElement(e)};e.FdHierarchyModel.prototype.unregisterOnAvailableHierarchiesChange=function(e){this.m_availableHierarchiesChangeListeners.removeElement(e)};e.FdContentProviderHierarchyCatalog=function(){};e.FdContentProviderHierarchyCatalog.prototype=new e.XObject;e.FdContentProviderHierarchyCatalog.prototype._ff_c="FdContentProviderHierarchyCatalog";e.FdContentProviderHierarchyCatalog.DATE_FROM="dateFrom";e.FdContentProviderHierarchyCatalog.DATE_TO="dateTo";e.FdContentProviderHierarchyCatalog.OBJECT_VERSION="objectVersion";e.FdContentProviderHierarchyCatalog.VERSION="version";e.FdContentProviderHierarchyCatalog.create=function(t){let i=new e.FdContentProviderHierarchyCatalog;i.setupExt(t.getConfig().getDimension(),t);return i};e.FdContentProviderHierarchyCatalog.createWithoutModelReference=function(t){let i=new e.FdContentProviderHierarchyCatalog;i.setupExt(t,null);return i};e.FdContentProviderHierarchyCatalog.getHierarchyTextFromCatalogItem=function(t){let i=t.getHierarchyMediumText();if(e.XStringUtils.isNotNullAndNotEmpty(i)){return i}let o=t.getHierarchyShortText();if(e.XStringUtils.isNotNullAndNotEmpty(o)){return o}let n=t.getHierarchyLongText();return e.XStringUtils.isNotNullAndNotEmpty(n)?n:t.getHierarchyName()};e.FdContentProviderHierarchyCatalog.prototype.m_allItems=null;e.FdContentProviderHierarchyCatalog.prototype.m_catalogManager=null;e.FdContentProviderHierarchyCatalog.prototype.m_dimension=null;e.FdContentProviderHierarchyCatalog.prototype.m_model=null;e.FdContentProviderHierarchyCatalog.prototype.m_searchPattern=null;e.FdContentProviderHierarchyCatalog.prototype.m_searchPresentations=null;e.FdContentProviderHierarchyCatalog.prototype.configureSearch=function(){let t=e.XStringUtils.concatenate3("*",this.m_searchPattern,"*");for(let i=0;i<this.m_searchPresentations.size();i++){let o=this.m_searchPresentations.get(i);if(o.getCustomObject()!==null){let i=o.getCustomObject().toString();switch(i){case e.FdContentProviderHierarchyCatalog.VERSION:this.m_catalogManager.setFilterVersionNameWithOperator(t,e.ComparisonOperator.MATCH);break;case e.FdContentProviderHierarchyCatalog.OBJECT_VERSION:this.m_catalogManager.setFilterHierarchyObjectVersionWithOperator(t,e.ComparisonOperator.MATCH);break}}else if(o.isKey()){this.m_catalogManager.setFilterHierarchyNameWithOperator(t,e.ComparisonOperator.MATCH)}}};e.FdContentProviderHierarchyCatalog.prototype.getCatalogResult=function(t,i,o){if(!e.HierarchyCatalogUtil.supportsHierarchyCatalog2(this.m_dimension.getApplication(),this.m_dimension.getQueryModel().getSystemDescription())){i(e.ExtResult.create(this.m_dimension.getHierarchies(),null));return}if(e.isNull(this.m_catalogManager)){let n=e.OlapApiModule.SERVICE_TYPE_HIERARCHY_CATALOG.createServiceConfig(this.m_dimension.getApplication());n.setSystemName(this.m_dimension.getQueryModel().getSystemName());let a=this.m_dimension.getQueryModel().getDataSource().getFullQualifiedName();n.setDataSourceName(a);n.setDimension(this.m_dimension);n.processHierarchyCatalogManagerCreation(t,e.HierarchyCatalogCallbackLambda.createForCreation(e=>{if(e.hasErrors()||e.getData()===null){o(e);return}this.m_catalogManager=e.getData();this.getCatalogResult(t,i,o)}),null)}else{this.resetManager();this.configureSearch();let n=this.getHierarchyDate();this.m_catalogManager.setFilterHierarchyDate(n,e.notNull(n));this.m_catalogManager.processGetResult(t,e.HierarchyCatalogCallbackLambda.createForResult(e=>{if(e.hasErrors()){o(e)}i(e)}),null)}};e.FdContentProviderHierarchyCatalog.prototype.getHierarchyDate=function(){let t=this.m_dimension.getHierarchy();let i=e.notNull(t)?t.getHierarchyDueDate():null;if(e.isNull(i)){let t=this.m_dimension.getQueryModel().getCubeInfo().getDueDate();i=e.notNull(t)?t.getDate():null}return i};e.FdContentProviderHierarchyCatalog.prototype.getMissingPresentations=function(e,t){return null};e.FdContentProviderHierarchyCatalog.prototype.loadMissingPresentations=function(e,t,i,o){i.onProcessFinished(e,null,o)};e.FdContentProviderHierarchyCatalog.prototype.loadSuggestions=function(e,t){};e.FdContentProviderHierarchyCatalog.prototype.mapValueHelpResult=function(t){let i=e.XList.create();for(let o=0;o<t.size();o++){let n=t.get(o);i.add(e.FdHierarchyCatalogItem.createHierarchyCatalogItem(n))}return i};e.FdContentProviderHierarchyCatalog.prototype.mapValueHelpResultToHierarchyNames=function(t){return e.XStream.of(t.getObjects()).filter(t=>e.notNull(t)&&e.XStringUtils.isNotNullAndNotEmpty(t.getHierarchyName())).collect(e.XStreamCollectorImpl.create(()=>e.XLinkedHashMapByString.create(),(t,i)=>{t.put(i.getHierarchyName(),e.FdContentProviderHierarchyCatalog.getHierarchyTextFromCatalogItem(i));return t}))};e.FdContentProviderHierarchyCatalog.prototype.processData=function(t,i,o,n,a){this.m_searchPattern=null;this.m_searchPresentations.clear();this.getCatalogResult(e.OlapUiValueHelpAbstract.s_syncType,t=>{this.m_allItems=e.notNull(t)?this.mapValueHelpResult(t.getData().getObjects()):e.XList.create();if(e.notNull(this.m_model)){this.m_model.setTotalItemCount(this.m_allItems.size())}n.onProcessFinished(this.m_allItems,t,a)},e=>{n.onError(e,a)})};e.FdContentProviderHierarchyCatalog.prototype.processDataRange=function(t,i){t.onProcessFinished(e.XList.create(),null,i)};e.FdContentProviderHierarchyCatalog.prototype.processFetchHierarchyNames=function(t,i,o){if(o===e.FilterDialogContentType.DIMENSION&&this.m_dimension.getHierarchyKeyField()!==null&&!this.m_dimension.getHierarchyKeyField().isFilterable()||!this.m_dimension.supportsHierarchy()){t(e.XHashMapByString.create());return}let n=i.getHierarchies();if(e.notNull(n)&&e.XObjectExt.areEqual(i.getHierarchiesDueDate(),this.getHierarchyDate())){t(n);return}this.m_searchPattern=null;this.m_searchPresentations.clear();this.getCatalogResult(e.OlapUiValueHelpAbstract.s_syncType,o=>{let n=null;if(e.notNull(o)&&o.getData()!==null){n=this.mapValueHelpResultToHierarchyNames(o.getData());i.setHierarchies(n,e.notNull(this.m_catalogManager)?this.m_catalogManager.getFilterHierarchyDate():null)}t(n)},i=>{t(e.XHashMapByString.create())})};e.FdContentProviderHierarchyCatalog.prototype.releaseObject=function(){this.m_dimension=null;this.m_allItems=null;this.m_searchPattern=null;this.m_searchPresentations=e.XObjectExt.release(this.m_searchPresentations);this.m_catalogManager=e.XObjectExt.release(this.m_catalogManager);e.XObject.prototype.releaseObject.call(this)};e.FdContentProviderHierarchyCatalog.prototype.resetManager=function(){this.m_catalogManager.setFilterHierarchyName(null,false);this.m_catalogManager.setFilterHierarchyObjectVersion(null,false);this.m_catalogManager.setFilterVersionName(null,false)};e.FdContentProviderHierarchyCatalog.prototype.search=function(t,i,o,n,a,r){this.m_searchPattern=t;this.m_searchPresentations.clear();this.m_searchPresentations.addAll(i);if(this.m_searchPresentations.isEmpty()){this.m_searchPresentations.add(e.FdPresentationValue.create("",null,true,true,null))}this.getCatalogResult(e.OlapUiValueHelpAbstract.s_syncType,t=>{let i=e.notNull(t)?this.mapValueHelpResult(t.getData().getObjects()):null;a.onProcessFinished(i,t,r)},e=>{a.onError(e,r)})};e.FdContentProviderHierarchyCatalog.prototype.setupExt=function(t,i){this.m_dimension=t;this.m_searchPresentations=e.XList.create();this.setupModel(i)};e.FdContentProviderHierarchyCatalog.prototype.setupModel=function(t){if(e.notNull(t)){this.m_model=t;t.setSessionData(e.FdSessionBasedSettings.createByContentType(e.FilterDialogContentType.HIERARCHY_CATALOG));t.setViewTypes(e.XCollectionUtils.singletonList(e.FilterDialogViewType.LIST));let i=e.FdPresentationFactory.createMainPresentationsForHierarchyCatalog(t.getConfig().isOfferDisplayInfoExtendedSettings());let o=e.FdPresentationFactory.createAdditionalPresentationsForHierarchyCatalog();let n=t.getSessionData().getMainPresentationDisplayInfo();let a=e.notNull(n)?n:t.getConfig().getDisplayInfo();let r=this.m_model.getSessionData().getAdditionalPresentations();let l=e.notNull(r)?r:t.getConfig().getDefaultAttributeSelection();let s=e.FdPresentationFactory.mapDimensionDisplayInfoToPresentation(a,this.m_dimension,i);t.getPresentationsModel().setupModel(i,o,s,l)}};e.FdContentProviderHierarchyCatalog.prototype.syncSelectionListWithKnownItems=function(t,i,o,n,a,r,l){if(e.isNull(t)){r.onProcessFinished(null,null,l);return}for(let i=0;i<t.size();i++){let o=t.get(i);let n=e.XStream.of(this.m_allItems).find(t=>e.XString.isEqual(t.getKey(),o.getKey()));if(n.isPresent()){t.set(i,n.get())}}r.onProcessFinished(t,null,l)};e.FdContentProviderUserTeam=function(){};e.FdContentProviderUserTeam.prototype=new e.XObject;e.FdContentProviderUserTeam.prototype._ff_c="FdContentProviderUserTeam";e.FdContentProviderUserTeam.create=function(t,i){let o=new e.FdContentProviderUserTeam;o.setupContentProvider(t,i);return o};e.FdContentProviderUserTeam.prototype.m_fetchUsersTeams=null;e.FdContentProviderUserTeam.prototype.m_model=null;e.FdContentProviderUserTeam.prototype.m_process=null;e.FdContentProviderUserTeam.prototype.m_teamCount=0;e.FdContentProviderUserTeam.prototype.m_userCount=0;e.FdContentProviderUserTeam.prototype._setUsersTeamsFetcher=function(e){this.m_fetchUsersTeams=e};e.FdContentProviderUserTeam.prototype.callListener=function(t,i,o,n){let a=this.m_model.getConfig();let r=e.XCollectionUtils.map(a.getHiddenValues(),t=>e.XString.toLowerCase(t));let l=e.XList.create();e.XStream.of(t).map(t=>e.FdTeamItem.createWithAttributes(t.getAttributes())).filter(t=>!r.contains(e.XString.toLowerCase(t.getKey()))&&!r.contains(e.XString.toLowerCase(t.getDisplayKey()))).forEach(e=>{l.add(e)});e.XStream.of(i).map(t=>e.FdUserItem.createWithAttributes(t.getAttributes())).filter(t=>!r.contains(e.XString.toLowerCase(t.getKey()))&&!r.contains(e.XString.toLowerCase(t.getDisplayKey()))).forEach(e=>{l.add(e)});o.onProcessFinished(l,null,n)};e.FdContentProviderUserTeam.prototype.loadSuggestions=function(e,t){};e.FdContentProviderUserTeam.prototype.loadTeamsAndUsers=function(t,i,o,n,a){this.m_fetchUsersTeams.getTeams(this.m_process,t,i,o,null,this.m_model.getConfig().getWorkspace()).onThen(r=>{let l=r.getData().getCachedChildrenResultset();let s=t===0&&e.isNull(o);if(s){this.m_teamCount=l.getTotalItemCount()}let u=l.getChildFiles();let m=i-u.size();if(s||m>0){this.loadUsers(0,m,o,u,n,a)}else{this.callListener(u,null,n,a)}}).onCatch(t=>{n.onError(e.ExtResult.createWithErrorMessage(t.getText()),a)})};e.FdContentProviderUserTeam.prototype.loadUsers=function(t,i,o,n,a,r){this.m_fetchUsersTeams.getUsers(this.m_process,t,i,o,null,this.m_model.getConfig().getWorkspace()).onThen(i=>{let l=i.getData().getCachedChildrenResultset();if(t===0&&e.isNull(o)){this.m_userCount=l.getTotalItemCount();this.m_model.setTotalItemCount(this.m_teamCount+this.m_userCount)}this.callListener(n,l.getChildFiles(),a,r)}).onCatch(t=>{a.onError(e.ExtResult.createWithErrorMessage(t.getText()),r)})};e.FdContentProviderUserTeam.prototype.preloadNextPages=function(t,i,o,n){if(this.m_teamCount!==-1&&this.m_userCount!==-1&&t*this.m_model.getConfig().getListPageSize()>=this.m_teamCount+this.m_userCount){o.onProcessFinished(e.XList.create(),null,n);return}this.processData(t,t+this.m_model.getConfig().getListPreloadPageCount(),i,o,n)};e.FdContentProviderUserTeam.prototype.processData=function(e,t,i,o,n){let a=this.m_model.getConfig().getListPageSize();let r=t===-1?t:(t-e+1)*a;if(e>0&&this.m_teamCount!==-1&&e*a>=this.m_teamCount){let t=e*a-this.m_teamCount;this.loadUsers(t,r,null,null,o,n);return}this.loadTeamsAndUsers(e*a,r,null,o,n)};e.FdContentProviderUserTeam.prototype.processDataRange=function(e,t){};e.FdContentProviderUserTeam.prototype.releaseObject=function(){e.XObject.prototype.releaseObject.call(this);this.m_model=null;this.m_process=null;this.m_fetchUsersTeams=e.XObjectExt.release(this.m_fetchUsersTeams)};e.FdContentProviderUserTeam.prototype.search=function(e,t,i,o,n,a){this.loadTeamsAndUsers(0,this.m_model.getConfig().getSearchSize(),e,n,a)};e.FdContentProviderUserTeam.prototype.setupContentProvider=function(t,i){this.m_teamCount=-1;this.m_userCount=-1;this.m_model=t;this.m_process=i;this.m_fetchUsersTeams=e.OuFetchUsersTeams.create(e.XLocalizationCenter.getCenter());t.setSessionData(e.FdSessionBasedSettings.createByContentType(e.FilterDialogContentType.USER_TEAM));t.setViewTypes(e.XCollectionUtils.singletonList(e.FilterDialogViewType.LIST));let o=e.FdPresentationFactory.createMainPresentationsForUserAndText(t.getConfig().isOfferDisplayInfoExtendedSettings());let n=t.getSessionData().getMainPresentationDisplayInfo();let a=e.notNull(n)?n:t.getConfig().getDisplayInfo();let r=e.FdPresentationFactory.mapDisplayInfoToPresentation(a,o);t.getPresentationsModel().setupModel(o,null,r,null)};e.FdContentProviderUserTeam.prototype.syncSelectionListWithKnownItems=function(t,i,o,n,a,r,l){if(e.isNull(t)){r.onProcessFinished(e.XList.create(),null,l);return}let s=e.XList.create();for(let o=0;o<t.size();o++){let n=t.get(o);let a=e.XCollectionUtils.findFirst(i,e=>e.isEqualTo(n));if(e.notNull(a)){t.set(o,a)}else if(e.XStringUtils.isNotNullAndNotEmpty(n.getKey())||e.XStringUtils.isNotNullAndNotEmpty(n.getDisplayKey())){s.add(n)}}if(s.isEmpty()){r.onProcessFinished(t,null,l)}else{e.XCollectionUtils.forEach(s.createListCopy(),i=>{let o=e.XStringUtils.isNotNullAndNotEmpty(i.getKey())?i.getKey():i.getDisplayKey();this.loadTeamsAndUsers(0,1,o,e.FdDataLoadedLambdaListener.create((e,o)=>{if(e.hasElements()&&t.contains(i)){t.set(t.getIndex(i),e.get(0))}s.removeElement(i);if(s.isEmpty()){r.onProcessFinished(t,null,l)}},null),null)})}};e.FdValueHelpListenerProxy=function(){};e.FdValueHelpListenerProxy.prototype=new e.XObject;e.FdValueHelpListenerProxy.prototype._ff_c="FdValueHelpListenerProxy";e.FdValueHelpListenerProxy.create=function(t,i,o){let n=new e.FdValueHelpListenerProxy;n.m_listener=t;n.m_customIdentifier=i;n.m_valueHelpType=o;n.m_properties=e.XProperties.create();return n};e.FdValueHelpListenerProxy.prototype.m_customIdentifier=null;e.FdValueHelpListenerProxy.prototype.m_items=null;e.FdValueHelpListenerProxy.prototype.m_listener=null;e.FdValueHelpListenerProxy.prototype.m_properties=null;e.FdValueHelpListenerProxy.prototype.m_valueHelpType=null;e.FdValueHelpListenerProxy.prototype.callErrorListener=function(t){if(e.notNull(this.m_listener)){this.m_listener.onError(t,this.m_customIdentifier)}};e.FdValueHelpListenerProxy.prototype.callListener=function(t,i){if(e.notNull(this.m_listener)){this.m_listener.onProcessFinished(t,i,this.m_customIdentifier)}};e.FdValueHelpListenerProxy.prototype.getCustomIdentifier=function(){return this.m_customIdentifier};e.FdValueHelpListenerProxy.prototype.getItems=function(){return this.m_items};e.FdValueHelpListenerProxy.prototype.getListener=function(){return this.m_listener};e.FdValueHelpListenerProxy.prototype.getProperties=function(){return this.m_properties};e.FdValueHelpListenerProxy.prototype.getValueHelpType=function(){return this.m_valueHelpType};e.FdValueHelpListenerProxy.prototype.onError=function(e,t){this.callErrorListener(e)};e.FdValueHelpListenerProxy.prototype.onProcessFinished=function(e,t,i){this.callListener(e,t)};e.FdValueHelpListenerProxy.prototype.releaseObject=function(){e.XObject.prototype.releaseObject.call(this);this.m_listener=null;this.m_customIdentifier=null;this.m_valueHelpType=null;this.m_items=null};e.FdValueHelpListenerProxy.prototype.setItems=function(e){this.m_items=e};e.FdAbstractView=function(){};e.FdAbstractView.prototype=new e.XObject;e.FdAbstractView.prototype._ff_c="FdAbstractView";e.FdAbstractView.prototype.m_controller=null;e.FdAbstractView.prototype.m_model=null;e.FdAbstractView.prototype.onError=function(e,t){this.m_controller.postMessages(e)};e.FdAbstractView.prototype.onNewClipboardSelection=function(e,t,i){this.m_model.onNewClipboardSelection(e,t,i)};e.FdAbstractView.prototype.registerOnSelectionChange=function(){this.m_model.registerOnSelectionChange(this)};e.FdAbstractView.prototype.releaseObject=function(){this.m_model.unregisterOnSelectionChange(this);this.m_controller=null;this.m_model=null;e.XObject.prototype.releaseObject.call(this)};e.FdAbstractView.prototype.setupView=function(e,t){this.m_controller=e;this.m_model=t;this.registerOnSelectionChange()};e.FdAbstractView.prototype.validate=function(e){return true};e.FdAbstractComponent=function(){};e.FdAbstractComponent.prototype=new e.XObject;e.FdAbstractComponent.prototype._ff_c="FdAbstractComponent";e.FdAbstractComponent.prototype.m_layout=null;e.FdAbstractComponent.prototype.m_model=null;e.FdAbstractComponent.prototype.addDropdownItems=function(t,i){let o=e.XList.create();e.XCollectionUtils.forEach(i,i=>{let n=i.getName();o.add(e.FdLayoutUtils.addDropdownItem(t,n,n,i))});return o};e.FdAbstractComponent.prototype.focus=function(){let t=this.getFocusControl();if(e.notNull(t)){t.focus()}};e.FdAbstractComponent.prototype.getLayout=function(){return this.m_layout};e.FdAbstractComponent.prototype.releaseObject=function(){e.XObject.prototype.releaseObject.call(this);this.m_model=null;this.m_layout=e.XObjectExt.release(this.m_layout)};e.FdAbstractComponent.prototype.setupComponent=function(e,t){this.m_model=e;this.m_layout=t};e.VdModel=function(){};e.VdModel.prototype=new e.XObject;e.VdModel.prototype._ff_c="VdModel";e.VdModel.create=function(t,i){let o=new e.VdModel;o.setupExt(t,i);return o};e.VdModel.prototype.m_hasDynamicVariables=false;e.VdModel.prototype.m_hasExitVariables=false;e.VdModel.prototype.m_invalidValue=null;e.VdModel.prototype.m_listener=null;e.VdModel.prototype.m_startValues=null;e.VdModel.prototype.m_varProcessor=null;e.VdModel.prototype.m_variableModels=null;e.VdModel.prototype.m_variableModelsByName=null;e.VdModel.prototype.addListener=function(e){this.m_listener.add(e)};e.VdModel.prototype.checkVariablesInSync=function(){let e=this.m_varProcessor.getInputEnabledAndNonTechnicalVariables();if(e.size()!==this.m_variableModels.size()){this.prepare(e);return}for(let t=0;t<this.m_variableModels.size();t++){let i=this.m_variableModels.get(t);if(!e.containsKey(i.getName())){this.prepare(e);return}}};e.VdModel.prototype.clearValues=function(){for(let e=0;e<this.m_variableModels.size();e++){this.m_variableModels.get(e).clearValues()}};e.VdModel.prototype.getCleanedValues=function(){let t=e.XLinkedHashMapByString.create();for(let e=0;e<this.m_variableModels.size();e++){let i=this.m_variableModels.get(e);t.put(i.getName(),i.getCleanedValues())}return t};e.VdModel.prototype.getCurrentValues=function(){let t=e.XLinkedHashMapByString.create();for(let e=0;e<this.m_variableModels.size();e++){let i=this.m_variableModels.get(e);t.put(i.getName(),i.getValues())}return t};e.VdModel.prototype.getFirstInvalidValue=function(){return this.m_invalidValue};e.VdModel.prototype.getStartValues=function(){return this.m_startValues};e.VdModel.prototype.getVariableModelByName=function(e){return this.m_variableModelsByName.getByKey(e)};e.VdModel.prototype.getVariableModels=function(){return this.m_variableModels};e.VdModel.prototype.getVariableProcessor=function(){return this.m_varProcessor};e.VdModel.prototype.getVariants=function(){return this.m_varProcessor.getVariableVariants()};e.VdModel.prototype.hasDynamicVariables=function(){return this.m_hasDynamicVariables};e.VdModel.prototype.hasExitVariables=function(){return this.m_hasExitVariables};e.VdModel.prototype.hasVariables=function(){return e.XCollectionUtils.hasElements(this.m_variableModels)};e.VdModel.prototype.prepare=function(t){this.m_variableModels.clear();this.m_variableModelsByName.clear();this.m_hasExitVariables=false;this.m_hasDynamicVariables=false;let i=t.size();for(let o=0;o<i;o++){let i=t.get(o);let n=e.VdVariableModel.createVariableModel(i);this.m_variableModels.add(n);this.m_variableModelsByName.put(i.getName(),n);if(i.isEnforcedDynamicValue()){this.m_hasExitVariables=true}if(i.isDynamicVariable()){this.m_hasDynamicVariables=true}}this.m_variableModels.sortByComparator(e.VdVariableOrderComparator.getComparator());for(let e=this.m_listener.size()-1;e>=0;e--){this.m_listener.get(e).onVariableModelsChanged()}};e.VdModel.prototype.releaseObject=function(){this.m_varProcessor=null;this.m_variableModels=e.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_variableModels);this.m_variableModelsByName=e.XObjectExt.release(this.m_variableModelsByName);this.m_invalidValue=e.XObjectExt.release(this.m_invalidValue);this.m_listener=e.XObjectExt.release(this.m_listener);e.XObject.prototype.releaseObject.call(this)};e.VdModel.prototype.removeListener=function(e){this.m_listener.removeElement(e)};e.VdModel.prototype.resetValues=function(){this.setValues(this.m_startValues)};e.VdModel.prototype.resolveAndSaveValues=function(e,t){e.onValuesResolvedAndSave(t)};e.VdModel.prototype.setStartValues=function(t){this.m_startValues=e.VdValue.cloneValueMap(t)};e.VdModel.prototype.setValues=function(t){this.setValuesInternal(e.VdValue.cloneValueMap(t))};e.VdModel.prototype.setValuesFromProcessor=function(){this.setValuesInternal(e.VdImportExport.getValuesFromProcessor(this.m_varProcessor))};e.VdModel.prototype.setValuesInternal=function(t){if(!e.XCollectionUtils.hasElements(t)){this.clearValues();return}for(let i=0;i<this.m_variableModels.size();i++){let o=this.m_variableModels.get(i);let n=t.getByKey(o.getName());if(e.XCollectionUtils.hasElements(n)){o.setValues(n)}else{o.clearValues()}}};e.VdModel.prototype.setupExt=function(t,i){this.m_varProcessor=t;this.m_startValues=e.notNull(i)?e.VdValue.cloneValueMap(i):e.VdImportExport.getValuesFromProcessor(this.m_varProcessor);this.m_variableModels=e.XList.create();this.m_variableModelsByName=e.XHashMapByString.create();this.m_listener=e.XList.create();let o=this.m_varProcessor.getInputEnabledAndNonTechnicalVariables();this.prepare(o);let n=e.VdValue.cloneValueMap(this.m_startValues);for(let e=0;e<this.m_variableModels.size();e++){let t=this.m_variableModels.get(e);t.setValues(n.getByKey(t.getName()))}};e.VdModel.prototype.validateValues=function(){let t=true;this.m_invalidValue=null;for(let i=0;i<this.m_variableModels.size();i++){if(!this.m_variableModels.get(i).validateValues()){if(!this.m_variableModels.get(i).getInvalidValues().isEmpty()&&e.isNull(this.m_invalidValue)){this.m_invalidValue=this.m_variableModels.get(i).getInvalidValues().get(0)}t=false}}return t};e.VdResolveHelper=function(){};e.VdResolveHelper.prototype=new e.OlapUiMultiRequestHelper;e.VdResolveHelper.prototype._ff_c="VdResolveHelper";e.VdResolveHelper.createHelper=function(t,i){let o=new e.VdResolveHelper;o.setupExt(t,i);return o};e.VdResolveHelper.prototype.m_handles=null;e.VdResolveHelper.prototype.m_resolvedResult=null;e.VdResolveHelper.prototype.addResult=function(e,t){this.getResultsForVariable(e).add(t)};e.VdResolveHelper.prototype.addResults=function(e,t){this.getResultsForVariable(e).addAll(t)};e.VdResolveHelper.prototype.getHandle=function(t){let i=e.VdResolveHelperHandle.createHandle(this,t);this.m_handles.add(i);return i};e.VdResolveHelper.prototype.getResolvedResults=function(){return this.m_resolvedResult};e.VdResolveHelper.prototype.getResultsForVariable=function(t){let i=this.m_resolvedResult.getByKey(t);if(e.isNull(i)){i=e.XList.create();this.m_resolvedResult.put(t,i)}return i};e.VdResolveHelper.prototype.releaseObject=function(){this.m_resolvedResult=e.XObjectExt.release(this.m_resolvedResult);this.m_handles=e.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_handles);e.OlapUiMultiRequestHelper.prototype.releaseObject.call(this)};e.VdResolveHelper.prototype.setupExt=function(t,i){this.setupHelper(t,i);this.m_resolvedResult=e.XHashMapByString.create();this.m_handles=e.XList.create()};e.VdVariantManager=function(){};e.VdVariantManager.prototype=new e.XObject;e.VdVariantManager.prototype._ff_c="VdVariantManager";e.VdVariantManager.createManager=function(t){let i=new e.VdVariantManager;i.setupExt(t);return i};e.VdVariantManager.prototype.m_context=null;e.VdVariantManager.prototype.getUiContext=function(){return this.m_context};e.VdVariantManager.prototype.presentVariantSavePopup=function(t,i){let o=this.m_context.getUiManager().getFreeGenesis();e.VdVariantSavePopup.createSavePopup(this,o,t,i).open()};e.VdVariantManager.prototype.presentVariantsManagePopup=function(t,i){let o=this.m_context.getUiManager().getFreeGenesis();e.VdVariantManagePopup.createManagePopup(this,o,t,i).open()};e.VdVariantManager.prototype.releaseObject=function(){this.m_context=null;e.XObject.prototype.releaseObject.call(this)};e.VdVariantManager.prototype.setupExt=function(e){this.m_context=e};e.VdUpdateDescriptionsResolveHandler=function(){};e.VdUpdateDescriptionsResolveHandler.prototype=new e.OlapUiMultiRequestHelper;e.VdUpdateDescriptionsResolveHandler.prototype._ff_c="VdUpdateDescriptionsResolveHandler";e.VdUpdateDescriptionsResolveHandler.createResolveHandler=function(t){let i=new e.VdUpdateDescriptionsResolveHandler;i.setupHelper(t,null);return i};e.VdUpdateDescriptionsResolveHandler.prototype.checkDone=function(){if(!this.isInStartup()&&this.isDone()){let e=this.getOriginalListener();e()}};e.VdUpdateDescriptionsResolveHandler.prototype.finishProgress=function(){e.OlapUiMultiRequestHelper.prototype.finishProgress.call(this);this.checkDone()};e.VdUpdateDescriptionsResolveHandler.prototype.onFillFieldsDone=function(e,t,i){this.increaseCallbackCount();this.checkDone()};e.VdValueHelp=function(){};e.VdValueHelp.prototype=new e.XObject;e.VdValueHelp.prototype._ff_c="VdValueHelp";e.VdValueHelp.ERR_SERVER_ERROR=1001;e.VdValueHelp.KEY_NULL_VALUE="(null_value_key)";e.VdValueHelp.WARN_VALUE_NOT_FOUND=2001;e.VdValueHelp.s_nonHumanReadableFieldSearchPattern="HIEID_F4_HIEID";e.VdValueHelp.hasFieldsWithNonHumanReadableValues=function(t,i){let o=t.getAllFieldValues();let n=o.getKeysAsReadOnlyList();for(let t=0;t<n.size();t++){if(e.XString.containsString(n.get(t),e.VdValueHelp.s_nonHumanReadableFieldSearchPattern)){for(let t=0;t<i.size();t++){let o=i.get(t);if(e.XStringUtils.isNullOrEmpty(o.getFirstOperand().getText())||o.getOperator().getNumberOfParameters()>1&&e.XStringUtils.isNullOrEmpty(o.getSecondOperand().getText())){return true}}return false}}return false};e.VdValueHelp.searchValues=function(t,i,o,n,a,r){let l=new e.VdValueHelp;l.setupValueHelp(t,i,o,n,true,a,r);l.performSearch()};e.VdValueHelp.updateDescriptions=function(t,i,o){let n=null;let a=i.getKeysAsReadOnlyList();for(let r=0;r<a.size();r++){let l=a.get(r);let s=t.getVariable(l);if(e.notNull(s)&&s.getVariableType().isTypeOf(e.VariableType.DIMENSION_MEMBER_VARIABLE)){let t=s.getDimensionMember();if(e.notNull(t)&&e.VdValueHelp.hasFieldsWithNonHumanReadableValues(t,i.getByKey(l))){if(e.isNull(n)){n=e.VdUpdateDescriptionsResolveHandler.createResolveHandler(o)}n.increaseRequestCount();let t=new e.VdValueHelp;t.setupValueHelp(s,true,false,i.getByKey(l),false,n,null);t.performSearch()}}}if(e.notNull(n)){n.finishProgress()}else{o()}};e.VdValueHelp.prototype.m_customObject=null;e.VdValueHelp.prototype.m_listener=null;e.VdValueHelp.prototype.m_removeInvalidValues=false;e.VdValueHelp.prototype.m_searchEntries=null;e.VdValueHelp.prototype.m_searchNullValues=false;e.VdValueHelp.prototype.m_searchOnDisplayKey=false;e.VdValueHelp.prototype.m_valueHelpProcessor=null;e.VdValueHelp.prototype.m_values=null;e.VdValueHelp.prototype.m_variable=null;e.VdValueHelp.prototype.addSearchEntry=function(t,i,o,n){let a=i;if(t.getValueType().isDateBased()){let i=e.XValueAccess.createWithType(t.getValueType());if(i.parseString(a).isValid()){a=i.getValue().getStringRepresentation()}}let r=this.getSearchEntriesByKey(a,false);if(e.isNull(r)){r=e.XList.create();this.m_searchEntries.put(a,r)}r.add(e.XPair.create(o,e.XIntegerValue.create(n)))};e.VdValueHelp.prototype.getSearchEntriesByKey=function(t,i){let o=e.XString.toLowerCase(t);let n=this.m_searchEntries.getKeysAsIterator();while(n.hasNext()){let t=n.next();if(e.XString.isEqual(e.XString.toLowerCase(t),o)){e.XObjectExt.release(n);return i?this.m_searchEntries.remove(t):this.m_searchEntries.getByKey(t)}}e.XObjectExt.release(n);return null};e.VdValueHelp.prototype.handleCallback=function(t){if(e.isNull(this.m_listener)){return}let i=e.MessageManagerSimple.createMessageManager();if(t.hasErrors()){i.addError(e.VdValueHelp.ERR_SERVER_ERROR,"");let t=e.ExtResult.create(this.m_values,i);this.m_listener.onFillFieldsDone(this.m_variable,t,this.m_customObject);return}let o=this.m_searchOnDisplayKey?this.m_valueHelpProcessor.getDisplayKeyField():this.m_valueHelpProcessor.getKeyField();let n=t.getData();for(let t=0;t<n.size();t++){let i=n.get(t);let a=i.getDimensionMember();let r=a.getFieldValue(o).getValue().getStringRepresentation();let l=e.XString.isEqual(r,"")&&a.getDimensionMemberNameValueException()===e.ValueException.NULL_VALUE;let s=l?this.m_searchEntries.remove(e.VdValueHelp.KEY_NULL_VALUE):this.getSearchEntriesByKey(r,true);if(e.notNull(s)){for(let t=0;t<s.size();t++){let o=e.FilterDialogValueFactory.createValueHelpValueExt(i,this.m_valueHelpProcessor.getHierarchyName(),e.ComparisonOperator.EQUAL);let n=s.get(t);let a=n.getFirstObject();let r=n.getSecondObject().getInteger();a.setOperand(r,o)}}}if(this.m_removeInvalidValues){if(this.m_searchEntries.size()>0){i.addWarning(e.VdValueHelp.WARN_VALUE_NOT_FOUND,"")}let t=this.m_searchEntries.getKeysAsIterator();while(t.hasNext()){let e=t.next();let i=this.m_searchEntries.getByKey(e);for(let e=0;e<i.size();e++){let t=i.get(e);this.m_values.removeElement(t.getFirstObject())}}}let a=e.ExtResult.create(this.m_values,i);this.m_listener.onFillFieldsDone(this.m_variable,a,this.m_customObject)};e.VdValueHelp.prototype.isSearchNeeded=function(t){let i=this.m_valueHelpProcessor.getKeyField();let o=this.m_valueHelpProcessor.getDisplayKeyField();return t.getKey()===null&&e.notNull(i)||!t.hasDisplayKey()&&e.notNull(o)&&o!==i||t.getText()===null&&this.m_valueHelpProcessor.getTextField()!==null};e.VdValueHelp.prototype.onValuehelpExecuted=function(e,t,i){this.handleCallback(e);this.releaseObject()};e.VdValueHelp.prototype.performSearch=function(){let t=this.m_searchOnDisplayKey?this.m_valueHelpProcessor.getDisplayKeyField():this.m_valueHelpProcessor.getKeyField();if(e.isNull(t)||!t.isFilterable()){let t=e.ExtResult.create(this.m_values,e.MessageManagerSimple.createMessageManager());this.m_listener.onFillFieldsDone(this.m_variable,t,this.m_customObject);return}for(let i=0;i<this.m_values.size();i++){let o=this.m_values.get(i);let n=o.getOperator();if(n.isNullOperator()){if(this.m_searchNullValues&&n===e.VdComparisonOperator.IS_NULL){this.addSearchEntry(t,e.VdValueHelp.KEY_NULL_VALUE,o,e.VdValue.FIRST)}continue}let a=o.getFirstOperand();let r=a.getValueByField(t);if(e.notNull(r)&&this.isSearchNeeded(a)){this.addSearchEntry(t,r,o,e.VdValue.FIRST)}let l=o.getSecondOperand();let s=l.getValueByField(t);if(e.notNull(s)&&this.isSearchNeeded(l)){this.addSearchEntry(t,s,o,e.VdValue.SECOND)}}if(this.m_searchEntries.isEmpty()){let t=e.ExtResult.create(this.m_values,e.MessageManagerSimple.createMessageManager());this.m_listener.onFillFieldsDone(this.m_variable,t,this.m_customObject);return}let i=e.XList.create();let o=this.m_searchEntries.getKeysAsIterator();while(o.hasNext()){let t=o.next();if(e.XString.isEqual(t,e.VdValueHelp.KEY_NULL_VALUE)){i.add(e.OlapUiValueHelpKeyObject.create("","",true))}else{i.add(e.OlapUiValueHelpKeyObject.create(this.m_searchOnDisplayKey?null:t,this.m_searchOnDisplayKey?t:null,false))}}e.XObjectExt.release(o);this.m_valueHelpProcessor.processFetchItems(i,null,this,null);e.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(i)};e.VdValueHelp.prototype.releaseObject=function(){this.m_variable=null;this.m_listener=null;this.m_customObject=null;this.m_values=null;this.m_searchEntries=e.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_searchEntries);this.m_valueHelpProcessor=e.XObjectExt.release(this.m_valueHelpProcessor);e.XObject.prototype.releaseObject.call(this)};e.VdValueHelp.prototype.setupValueHelp=function(t,i,o,n,a,r,l){this.m_variable=t;this.m_valueHelpProcessor=e.OlapUiValueHelpVariable.create(this.m_variable);this.m_searchOnDisplayKey=i;this.m_searchNullValues=o;this.m_values=n;this.m_removeInvalidValues=a;this.m_listener=r;this.m_customObject=l;this.m_searchEntries=e.XLinkedHashMapByString.create()};e.VdVhMobileMemberSelector=function(){};e.VdVhMobileMemberSelector.prototype=new e.XObject;e.VdVhMobileMemberSelector.prototype._ff_c="VdVhMobileMemberSelector";e.VdVhMobileMemberSelector.VIEW_NAME="vhMobileMemberSelector";e.VdVhMobileMemberSelector.create=function(t,i,o,n,a){let r=new e.VdVhMobileMemberSelector;r.setupExt(t,o);r.setSelectionFinishedListener(a);r.setVariable(i,n);return r};e.VdVhMobileMemberSelector.prototype.m_filterDialog=null;e.VdVhMobileMemberSelector.prototype.m_listener=null;e.VdVhMobileMemberSelector.prototype.m_page=null;e.VdVhMobileMemberSelector.prototype.m_selectedItem=null;e.VdVhMobileMemberSelector.prototype.m_vdConfig=null;e.VdVhMobileMemberSelector.prototype.getPage=function(){return this.m_page};e.VdVhMobileMemberSelector.prototype.getSelectedItem=function(){return this.m_selectedItem};e.VdVhMobileMemberSelector.prototype.getViewName=function(){return e.VdVhMobileMemberSelector.VIEW_NAME};e.VdVhMobileMemberSelector.prototype.onFilterDialogCancel=function(){this.m_filterDialog=null;this.m_selectedItem=null};e.VdVhMobileMemberSelector.prototype.onFilterDialogOk=function(t,i){this.m_filterDialog=null;if(e.notNull(t)&&t.hasElements()){this.m_selectedItem=t.get(0)}else{this.m_selectedItem=null}this.m_listener.onVhMobileValuesSelected(this)};e.VdVhMobileMemberSelector.prototype.onSelectionChange=function(t){if(e.notNull(t)&&t.hasElements()){this.m_selectedItem=t.get(0)}else{this.m_selectedItem=null}if(e.notNull(this.m_selectedItem)){this.m_listener.onVhMobileValuesSelected(this)}};e.VdVhMobileMemberSelector.prototype.releaseObject=function(){this.m_vdConfig=null;this.m_page=e.XObjectExt.release(this.m_page);this.m_selectedItem=null;this.m_filterDialog=null;e.XObject.prototype.releaseObject.call(this)};e.VdVhMobileMemberSelector.prototype.setSelectionFinishedListener=function(e){this.m_listener=e};e.VdVhMobileMemberSelector.prototype.setVariable=function(t,i){if(e.notNull(t)&&t.getVariableType().isTypeOf(e.VariableType.DIMENSION_MEMBER_VARIABLE)){this.m_page.setContent(null);let o=null;if(e.notNull(i)){this.m_selectedItem=i;o=e.XCollectionUtils.singletonList(i)}let n=e.FilterDialogProgramRunnerFactory.createForVariable(t.getProcess(),null,t,"");n.setContainerType(e.ProgramContainerType.CONTENT);n.setAnchorContentControl(this.m_page);let a=e.PrFactory.createStructure();a.putString(e.FilterDialog.PARAM_SELECTION_MODE,e.UiTableSelectionMode.SINGLE.getName());a.putBoolean(e.FilterDialog.PARAM_RESIZABLE,false);a.putBoolean(e.FilterDialog.PARAM_OFFER_READMODE_CHANGE,true);if(e.notNull(this.m_vdConfig)){let i=this.m_vdConfig.getDimensionDisplayInfo(t.getDimension().getName());if(e.notNull(i)){a.putString(e.FilterDialog.PARAM_DISPLAY_INFO,i.getName())}}n.setConfigStructure(a);n.getProgramStartData().putXObject(e.FilterDialog.PRG_DATA_DEFAULT_SELECTION,o);n.getProgramStartData().putXObject(e.FilterDialog.PRG_DATA_LISTENER_SELECTION_CHANGE,this);n.getProgramStartData().putXObject(e.FilterDialog.PRG_DATA_LISTENER_CLOSE,this);n.runProgram().onThen(e=>{this.m_filterDialog=e}).onCatch(e=>{this.m_filterDialog=null});this.m_page.clearPageButtons()}};e.VdVhMobileMemberSelector.prototype.setupExt=function(t,i){this.m_vdConfig=i;let o=t.getUiManager().getFreeGenesis();this.m_page=o.newControl(e.UiType.PAGE);this.m_page.setName("VdVhMobileMemberSelectorView");this.m_page.addCssClass("ffVdVhMobileViewWrapperPage");this.m_page.setShowNavButton(false);this.m_page.setShowHeader(false);let n=this.m_page.setNewContent(e.UiType.LABEL);n.setText("No variable specified!")};e.VdVhMobileMemberSelector.prototype.triggerSelection=function(){if(e.notNull(this.m_filterDialog)){this.m_filterDialog.confirmDialog()}};e.VdViewResponsiveTable=function(){};e.VdViewResponsiveTable.prototype=new e.VdView;e.VdViewResponsiveTable.prototype._ff_c="VdViewResponsiveTable";e.VdViewResponsiveTable.createVdViewResponsiveTable=function(t,i,o){let n=new e.VdViewResponsiveTable;n.setupExt(t,i,o);return n};e.VdViewResponsiveTable.prototype.m_i18n2=null;e.VdViewResponsiveTable.prototype.m_uiMgr2=null;e.VdViewResponsiveTable.prototype.m_variableLayouts2=null;e.VdViewResponsiveTable.prototype.m_variableResTable2=null;e.VdViewResponsiveTable.prototype.m_variableSection2=null;e.VdViewResponsiveTable.prototype.addColumn=function(t,i,o){let n=this.m_uiMgr2.newControl(e.UiType.FLEX_LAYOUT);let a=n.addNewItemOfType(e.UiType.LABEL);a.setText(i);let r=this.m_variableResTable2.addNewResponsiveTableColumn();r.setName(t);r.setHeader(n);r.addCssClass(e.XStringUtils.concatenate2("ff-variable-dialog-table-column-",t));r.setHorizontalAlign(o)};e.VdViewResponsiveTable.prototype.addVariable=function(t,i){let o=null;if(i){o=e.VdHeaderButtons.createHeaderButtons(this.m_uiMgr2,t)}let n=e.VdVariableViewResponsiveTableRow.createVdVariableViewResponsiveTableRow(this.m_uiMgr2,t,o,this.m_variableResTable2);this.m_variableLayouts2.put(t,n);return n};e.VdViewResponsiveTable.prototype.buildUi=function(){e.VdView.prototype.buildUi.call(this);this.getRoot().addCssClass("ffVdGridLayout");this.m_variableSection2=this.getRoot().addNewItemOfType(e.UiType.FLEX_LAYOUT);this.m_variableSection2.addCssClass("ff-variable-dialog-variables-section");this.m_variableResTable2=this.m_variableSection2.addNewItemOfType(e.UiType.RESPONSIVE_TABLE);this.m_variableResTable2.addCssClass("ff-variable-dialog-table");this.m_variableResTable2.setColumnResize(true);this.addColumn("variables",this.m_i18n2.getText(e.OuVariableDialogI18nLegacy.I18N_VD_COLUMN_HEADER_VARIABLES),e.UiHorizontalAlign.END);this.addColumn("members",this.m_i18n2.getText(e.OuVariableDialogI18nLegacy.I18N_VD_COLUMN_HEADER_MEMBERS_DESCRIPTION),e.UiHorizontalAlign.BEGIN);this.getNewSettingsSection().setVisible(false)};e.VdViewResponsiveTable.prototype.clearVariables=function(){let e=this.m_variableLayouts2.getKeysAsReadOnlyList();for(let t=0;t<e.size();t++){let i=e.get(t);this.m_variableLayouts2.remove(i)}};e.VdViewResponsiveTable.prototype.releaseObject=function(){this.m_uiMgr2=null;this.m_i18n2=null;this.m_variableLayouts2=e.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_variableLayouts2);this.m_variableSection2=e.XObjectExt.release(this.m_variableSection2);this.m_variableResTable2=e.XObjectExt.release(this.m_variableResTable2);e.VdView.prototype.releaseObject.call(this)};e.VdViewResponsiveTable.prototype.setupExt=function(t,i,o){this.m_uiMgr2=t;this.m_i18n2=e.OuVariableDialogI18nLegacy.getProvider();this.m_variableLayouts2=e.XHashMapByString.create();e.VdView.prototype.setupExt.call(this,t,i,o)};e.VdViewValueLayout=function(){};e.VdViewValueLayout.prototype=new e.VdView;e.VdViewValueLayout.prototype._ff_c="VdViewValueLayout";e.VdViewValueLayout.createVdViewValueLayout=function(t,i,o){let n=new e.VdViewValueLayout;n.setupExt(t,i,o);return n};e.VdViewValueLayout.prototype.m2_uiMgr=null;e.VdViewValueLayout.prototype.m_variableValueLayout=null;e.VdViewValueLayout.prototype.addVariable=function(t,i){let o=null;if(i){o=e.VdHeaderButtons.createHeaderButtons(this.m2_uiMgr,t)}return e.VdVariableViewValueWrapper.createVdVariableViewValueWrapper(this.m2_uiMgr,t,o,this.m_variableValueLayout)};e.VdViewValueLayout.prototype.buildUi=function(){e.VdView.prototype.buildUi.call(this);this.getRoot().addCssClass("ffVdEmbeddedValueLayout");this.m_variableValueLayout=this.getRoot().addNewItemOfType(e.UiType.FLEX_LAYOUT);this.m_variableValueLayout.addCssClass("ff-variable-dialog-variables-section")};e.VdViewValueLayout.prototype.releaseObject=function(){this.m2_uiMgr=null;this.m_variableValueLayout=e.XObjectExt.release(this.m_variableValueLayout);e.VdView.prototype.releaseObject.call(this)};e.VdViewValueLayout.prototype.setupExt=function(t,i,o){this.m2_uiMgr=t;e.VdView.prototype.setupExt.call(this,t,i,o)};e.VdDateMultiView=function(){};e.VdDateMultiView.prototype=new e.VdAbstractValueView;e.VdDateMultiView.prototype._ff_c="VdDateMultiView";e.VdDateMultiView.create=function(t,i){let o=new e.VdDateMultiView;o.setupExt(t,i);return o};e.VdDateMultiView.prototype.m_datePicker1=null;e.VdDateMultiView.prototype.m_datePicker2=null;e.VdDateMultiView.prototype.m_deleteLineBtn=null;e.VdDateMultiView.prototype.m_dropdown=null;e.VdDateMultiView.prototype.m_root=null;e.VdDateMultiView.prototype.getDatePicker1=function(){return this.m_datePicker1};e.VdDateMultiView.prototype.getDatePicker2=function(){return this.m_datePicker2};e.VdDateMultiView.prototype.getDeleteLineButton=function(){return this.m_deleteLineBtn};e.VdDateMultiView.prototype.getDropdown=function(){return this.m_dropdown};e.VdDateMultiView.prototype.getRoot=function(){return this.m_root};e.VdDateMultiView.prototype.releaseObject=function(){this.m_dropdown=e.XObjectExt.release(this.m_dropdown);this.m_datePicker1=e.XObjectExt.release(this.m_datePicker1);this.m_datePicker2=e.XObjectExt.release(this.m_datePicker2);this.m_deleteLineBtn=e.XObjectExt.release(this.m_deleteLineBtn);this.m_root=e.XObjectExt.release(this.m_root);e.VdAbstractValueView.prototype.releaseObject.call(this)};e.VdDateMultiView.prototype.setDateDisplayFormat=function(e){this.m_datePicker1.setDisplayFormat(e);this.m_datePicker2.setDisplayFormat(e)};e.VdDateMultiView.prototype.setDatePicker1Visible=function(e){return this.m_datePicker1.setVisible(e)};e.VdDateMultiView.prototype.setDatePicker2Visible=function(e){return this.m_datePicker2.setVisible(e)};e.VdDateMultiView.prototype.setDateValueFormat=function(e){this.m_datePicker1.setValueFormat(e);this.m_datePicker2.setValueFormat(e)};e.VdDateMultiView.prototype.setDeleteLineButtonVisible=function(t,i){this.m_root.setPadding(e.UiCssBoxEdges.create("0"));if(!t&&!i&&!this.m_root.getUiManager().getDeviceInfo().isMobile()){this.m_root.setPadding(e.UiCssBoxEdges.create("0 37px 0 0"))}return this.m_deleteLineBtn.setVisible(t)};e.VdDateMultiView.prototype.setDropdownVisible=function(e){return this.m_dropdown.setVisible(e)};e.VdDateMultiView.prototype.setupExt=function(t,i){let o=t.getDeviceInfo().isMobile();this.m_root=t.newControl(e.UiType.FLEX_LAYOUT);this.m_root.setName("VariableDialogVariableMember");this.m_root.setWidth(e.UiCssLength.create("100%"));let n=this.m_root.addNewItemOfType(e.UiType.FLEX_LAYOUT);n.addCssClass("ffVdVariableMemberInputContainer");n.setWidth(e.UiCssLength.create("calc(100% - 2.3rem)"));n.setGap(e.UiCssGap.create("5px"));if(!i){n.setAlignItems(e.UiFlexAlignItems.CENTER)}n.setDirection(e.UiFlexDirection.ROW);if(i){n.setDirection(e.UiFlexDirection.COLUMN)}this.m_dropdown=n.addNewItemOfType(e.UiType.DROPDOWN);this.m_dropdown.setName("VariableDialogOperatorDd1");this.m_dropdown.setWidth(e.UiCssLength.create("100px"));this.m_datePicker1=n.addNewItemOfType(e.UiType.DATE_PICKER);this.m_datePicker1.setName("VariableDialogDatePicker1");this.m_datePicker2=n.addNewItemOfType(e.UiType.DATE_PICKER);this.m_datePicker2.setName("VariableDialogDatePicker2");this.m_deleteLineBtn=this.m_root.addNewItemOfType(e.UiType.BUTTON);this.m_deleteLineBtn.setName("VariableDialogDeleteLineBtn");this.m_deleteLineBtn.setIcon("decline");this.m_deleteLineBtn.setTooltip(e.OuVariableDialogI18nLegacy.getProvider().getText(e.OuVariableDialogI18nLegacy.I18N_VD_DELETE));this.m_deleteLineBtn.setPadding(e.UiCssBoxEdges.create("0 0 0 5px"));this.m_deleteLineBtn.setButtonType(e.UiButtonType.TRANSPARENT);if(o){this.m_root.setGap(e.UiCssGap.create("5px"));n.setWidth(e.UiCssLength.create("85%"));n.setDirection(e.UiFlexDirection.COLUMN);n.setPadding(e.UiCssBoxEdges.create("0 0 10px 0"));this.m_dropdown.setWidth(e.UiCssLength.create("100%"));this.m_datePicker1.setWidth(e.UiCssLength.create("100%"));this.m_datePicker2.setWidth(e.UiCssLength.create("100%"))}else{this.m_root.setJustifyContent(e.UiFlexJustifyContent.SPACE_BETWEEN);this.m_root.setWrap(e.UiFlexWrap.NO_WRAP);n.setJustifyContent(e.UiFlexJustifyContent.SPACE_BETWEEN);this.m_dropdown.setFlex("0 0 auto")}};e.VdDateSingleView=function(){};e.VdDateSingleView.prototype=new e.VdAbstractValueView;e.VdDateSingleView.prototype._ff_c="VdDateSingleView";e.VdDateSingleView.create=function(t){let i=new e.VdDateSingleView;i.setupExt(t);return i};e.VdDateSingleView.prototype.m_datePicker=null;e.VdDateSingleView.prototype.m_deleteLineBtn=null;e.VdDateSingleView.prototype.m_root=null;e.VdDateSingleView.prototype.getDatePicker1=function(){return this.m_datePicker};e.VdDateSingleView.prototype.getDeleteLineButton=function(){return this.m_deleteLineBtn};e.VdDateSingleView.prototype.getRoot=function(){return this.m_root};e.VdDateSingleView.prototype.releaseObject=function(){this.m_deleteLineBtn=e.XObjectExt.release(this.m_deleteLineBtn);this.m_datePicker=e.XObjectExt.release(this.m_datePicker);this.m_root=e.XObjectExt.release(this.m_root);e.VdAbstractValueView.prototype.releaseObject.call(this)};e.VdDateSingleView.prototype.setDateDisplayFormat=function(e){this.m_datePicker.setDisplayFormat(e)};e.VdDateSingleView.prototype.setDatePicker1Visible=function(e){return this.m_datePicker.setVisible(e)};e.VdDateSingleView.prototype.setDateValueFormat=function(e){this.m_datePicker.setValueFormat(e)};e.VdDateSingleView.prototype.setDeleteLineButtonVisible=function(t,i){this.m_root.setPadding(e.UiCssBoxEdges.create("0"));if(!t&&!i&&!this.m_root.getUiManager().getDeviceInfo().isMobile()){this.m_root.setPadding(e.UiCssBoxEdges.create("0 37px 0 0"))}return this.m_deleteLineBtn.setVisible(t)};e.VdDateSingleView.prototype.setupExt=function(t){this.m_root=t.newControl(e.UiType.FLEX_LAYOUT);this.m_root.setName("VariableDialogVariableMember");this.m_root.setWidth(e.UiCssLength.create("100%"));this.m_root.setWrap(e.UiFlexWrap.NO_WRAP);this.m_root.setGap(e.UiCssGap.create("5px"));this.m_datePicker=this.m_root.addNewItemOfType(e.UiType.DATE_PICKER);this.m_datePicker.setName("VariableDialogDatePicker1");if(t.getDeviceInfo().isMobile()){this.m_datePicker.setWidth(e.UiCssLength.create("85%"))}else{this.m_datePicker.setWidth(e.UiCssLength.create("calc(100% - 4.3rem)"))}this.m_deleteLineBtn=this.m_root.addNewItemOfType(e.UiType.BUTTON);this.m_deleteLineBtn.setName("VariableDialogDeleteLineBtn");this.m_deleteLineBtn.setIcon("decline");this.m_deleteLineBtn.setTooltip(e.OuVariableDialogI18nLegacy.getProvider().getText(e.OuVariableDialogI18nLegacy.I18N_VD_DELETE));this.m_deleteLineBtn.setButtonType(e.UiButtonType.TRANSPARENT)};e.VdDropdownSingleView=function(){};e.VdDropdownSingleView.prototype=new e.VdAbstractValueView;e.VdDropdownSingleView.prototype._ff_c="VdDropdownSingleView";e.VdDropdownSingleView.create=function(t){let i=new e.VdDropdownSingleView;i.setupExt(t);return i};e.VdDropdownSingleView.prototype.m_dropdown=null;e.VdDropdownSingleView.prototype.m_root=null;e.VdDropdownSingleView.prototype.getDropdown=function(){return this.m_dropdown};e.VdDropdownSingleView.prototype.getRoot=function(){return this.m_root};e.VdDropdownSingleView.prototype.releaseObject=function(){this.m_root=e.XObjectExt.release(this.m_root);this.m_dropdown=e.XObjectExt.release(this.m_dropdown);e.VdAbstractValueView.prototype.releaseObject.call(this)};e.VdDropdownSingleView.prototype.setDropdownVisible=function(e){return this.m_dropdown.setVisible(e)};e.VdDropdownSingleView.prototype.setupExt=function(t){this.m_root=t.newControl(e.UiType.FLEX_LAYOUT);this.m_root.setName("VariableDialogVariableMember");this.m_root.setJustifyContent(e.UiFlexJustifyContent.SPACE_BETWEEN);this.m_root.setWidth(e.UiCssLength.create("100%"));this.m_root.setWrap(e.UiFlexWrap.NO_WRAP);this.m_root.setGap(e.UiCssGap.create("5px"));this.m_dropdown=this.m_root.addNewItemOfType(e.UiType.DROPDOWN);this.m_dropdown.setName("VariableDialogOperatorDd1");this.m_dropdown.setWidth(e.UiCssLength.create("100%"))};e.VdInputMultiView=function(){};e.VdInputMultiView.prototype=new e.VdAbstractValueView;e.VdInputMultiView.prototype._ff_c="VdInputMultiView";e.VdInputMultiView.create=function(t,i){let o=new e.VdInputMultiView;o.setupExt(t,i);return o};e.VdInputMultiView.prototype.m_deleteLineBtn=null;e.VdInputMultiView.prototype.m_dropdown=null;e.VdInputMultiView.prototype.m_input1=null;e.VdInputMultiView.prototype.m_input1WrapperContainer=null;e.VdInputMultiView.prototype.m_input2=null;e.VdInputMultiView.prototype.m_input2WrapperContainer=null;e.VdInputMultiView.prototype.m_root=null;e.VdInputMultiView.prototype.getDeleteLineButton=function(){return this.m_deleteLineBtn};e.VdInputMultiView.prototype.getDropdown=function(){return this.m_dropdown};e.VdInputMultiView.prototype.getInput1=function(){return this.m_input1};e.VdInputMultiView.prototype.getInput2=function(){return this.m_input2};e.VdInputMultiView.prototype.getRoot=function(){return this.m_root};e.VdInputMultiView.prototype.releaseObject=function(){this.m_dropdown=e.XObjectExt.release(this.m_dropdown);this.m_input1=e.XObjectExt.release(this.m_input1);this.m_input2=e.XObjectExt.release(this.m_input2);this.m_deleteLineBtn=e.XObjectExt.release(this.m_deleteLineBtn);this.m_root=e.XObjectExt.release(this.m_root);e.VdAbstractValueView.prototype.releaseObject.call(this)};e.VdInputMultiView.prototype.setDeleteLineButtonVisible=function(t,i){this.m_root.setPadding(e.UiCssBoxEdges.create("0"));if(!t&&!i&&!this.m_root.getUiManager().getDeviceInfo().isMobile()){this.m_root.setPadding(e.UiCssBoxEdges.create("0 37px 0 0"))}return this.m_deleteLineBtn.setVisible(t)};e.VdInputMultiView.prototype.setDropdownVisible=function(e){return this.m_dropdown.setVisible(e)};e.VdInputMultiView.prototype.setInput1Visible=function(e){let t=this.m_input1WrapperContainer.getUiManager().getDeviceInfo().isMobile();if(!t){this.m_input1WrapperContainer.setVisible(e)}return this.m_input1.setVisible(e)};e.VdInputMultiView.prototype.setInput2Visible=function(e){let t=this.m_input2WrapperContainer.getUiManager().getDeviceInfo().isMobile();if(!t){this.m_input2WrapperContainer.setVisible(e)}return this.m_input2.setVisible(e)};e.VdInputMultiView.prototype.setupExt=function(t,i){let o=t.getDeviceInfo().isMobile();let n=e.OuVariableDialogI18nLegacy.getProvider();this.m_root=t.newControl(e.UiType.FLEX_LAYOUT);this.m_root.setName("VariableDialogVariableMember");this.m_root.setWidth(e.UiCssLength.create("100%"));let a=this.m_root.addNewItemOfType(e.UiType.FLEX_LAYOUT);a.addCssClass("ffVdVariableMemberInputContainer");a.setWidth(e.UiCssLength.create("100%"));a.setGap(e.UiCssGap.create("5px"));a.setDirection(e.UiFlexDirection.ROW);if(!i){a.setAlignItems(e.UiFlexAlignItems.CENTER)}let r=a.addNewItemOfType(e.UiType.FLEX_LAYOUT);r.setAlignItems(e.UiFlexAlignItems.CENTER);r.setWidth(e.UiCssLength.create("100%"));r.setGap(e.UiCssGap.create("5px"));r.addCssClass("ffInputWrapperContainer");if(!i&&!o){r.setWidth(e.UiCssLength.create("calc(100% - 4.3rem)"))}else if(i){r.setWidth(e.UiCssLength.create("calc(100% - 2.3rem)"));r.setDirection(e.UiFlexDirection.COLUMN);r.setAlignItems(e.UiFlexAlignItems.START)}this.m_dropdown=r.addNewItemOfType(e.UiType.DROPDOWN);this.m_dropdown.setName("VariableDialogOperatorDd1");this.m_dropdown.setWidth(e.UiCssLength.create("100px"));this.m_input1WrapperContainer=r.addNewItemOfType(e.UiType.FLEX_LAYOUT);this.m_input1WrapperContainer.setAlignItems(e.UiFlexAlignItems.CENTER);this.m_input1WrapperContainer.setWidth(e.UiCssLength.create("100%"));if(i){this.m_input1WrapperContainer.setJustifyContent(e.UiFlexJustifyContent.SPACE_BETWEEN)}this.m_input1=this.m_input1WrapperContainer.addNewItemOfType(e.UiType.INPUT);this.m_input1.setName("VariableDialogValueIpt1");this.m_input1.setShowValueHelp(true);this.m_input1.addCssClass("ffShowClearIconWhenDisabledInput");this.m_input2WrapperContainer=r.addNewItemOfType(e.UiType.FLEX_LAYOUT);this.m_input2WrapperContainer.setAlignItems(e.UiFlexAlignItems.CENTER);this.m_input2WrapperContainer.setWidth(e.UiCssLength.create("100%"));this.m_input2=this.m_input2WrapperContainer.addNewItemOfType(e.UiType.INPUT);this.m_input2.setName("VariableDialogValueIpt2");this.m_input2.setShowValueHelp(true);this.m_input2.addCssClass("ffShowClearIconWhenDisabledInput");if(i&&!o){this.m_deleteLineBtn=this.m_input1WrapperContainer.addNewItemOfType(e.UiType.BUTTON);this.m_input1.setWidth(e.UiCssLength.create("calc(100% - 2.3rem)"));this.m_input2.setWidth(e.UiCssLength.create("calc(100% - 2.3rem)"))}else{this.m_deleteLineBtn=a.addNewItemOfType(e.UiType.BUTTON)}this.m_deleteLineBtn.setName("VariableDialogDeleteLineBtn");this.m_deleteLineBtn.setIcon("decline");this.m_deleteLineBtn.setTooltip(n.getText(e.OuVariableDialogI18nLegacy.I18N_VD_DELETE));this.m_deleteLineBtn.setButtonType(e.UiButtonType.TRANSPARENT);if(o){r.setDirection(e.UiFlexDirection.COLUMN);r.setWidth(e.UiCssLength.create("85%"));a.setWidth(e.UiCssLength.create("100%"));a.setPadding(e.UiCssBoxEdges.create("0 0 10px 0"));this.m_input1WrapperContainer.setGap(e.UiCssGap.create("5px"));this.m_dropdown.setWidth(e.UiCssLength.create("100%"));this.m_input1.setWidth(e.UiCssLength.create("100%"));this.m_input2.setWidth(e.UiCssLength.create("100%"));if(i){a.setAlignItems(e.UiFlexAlignItems.CENTER)}}else{this.m_dropdown.setFlex("0 0 auto")}};e.VdInputSingleView=function(){};e.VdInputSingleView.prototype=new e.VdAbstractValueView;e.VdInputSingleView.prototype._ff_c="VdInputSingleView";e.VdInputSingleView.create=function(t){let i=new e.VdInputSingleView;i.setupExt(t);return i};e.VdInputSingleView.prototype.m_deleteLineBtn=null;e.VdInputSingleView.prototype.m_input=null;e.VdInputSingleView.prototype.m_root=null;e.VdInputSingleView.prototype.getDeleteLineButton=function(){return this.m_deleteLineBtn};e.VdInputSingleView.prototype.getInput1=function(){return this.m_input};e.VdInputSingleView.prototype.getRoot=function(){return this.m_root};e.VdInputSingleView.prototype.releaseObject=function(){this.m_deleteLineBtn=e.XObjectExt.release(this.m_deleteLineBtn);this.m_input=e.XObjectExt.release(this.m_input);this.m_root=e.XObjectExt.release(this.m_root);e.VdAbstractValueView.prototype.releaseObject.call(this)};e.VdInputSingleView.prototype.setDeleteLineButtonVisible=function(t,i){this.m_root.setPadding(e.UiCssBoxEdges.create("0"));if(!t&&!i&&!this.m_root.getUiManager().getDeviceInfo().isMobile()){this.m_root.setPadding(e.UiCssBoxEdges.create("0 37px 0 0"))}return this.m_deleteLineBtn.setVisible(t)};e.VdInputSingleView.prototype.setInput1Visible=function(e){return this.m_input.setVisible(e)};e.VdInputSingleView.prototype.setupExt=function(t){let i=t.getDeviceInfo().isMobile();let o=e.OuVariableDialogI18nLegacy.getProvider();this.m_root=t.newControl(e.UiType.FLEX_LAYOUT);this.m_root.setName("VariableDialogVariableMember");this.m_root.setWidth(e.UiCssLength.create("100%"));this.m_root.setWrap(e.UiFlexWrap.NO_WRAP);this.m_root.setGap(e.UiCssGap.create("5px"));this.m_input=this.m_root.addNewItemOfType(e.UiType.INPUT);this.m_input.setName("VariableDialogValueIpt1");this.m_input.setShowValueHelp(true);this.m_input.setWidth(e.UiCssLength.create("calc(100% - 4.3rem)"));this.m_deleteLineBtn=this.m_root.addNewItemOfType(e.UiType.BUTTON);this.m_deleteLineBtn.setName("VariableDialogDeleteLineBtn");this.m_deleteLineBtn.setIcon("decline");this.m_deleteLineBtn.setTooltip(o.getText(e.OuVariableDialogI18nLegacy.I18N_VD_DELETE));this.m_deleteLineBtn.setButtonType(e.UiButtonType.TRANSPARENT);if(i){this.m_input.setWidth(e.UiCssLength.create("85%"))}};e.VdMultiInputSingleView=function(){};e.VdMultiInputSingleView.prototype=new e.VdAbstractValueView;e.VdMultiInputSingleView.prototype._ff_c="VdMultiInputSingleView";e.VdMultiInputSingleView.create=function(t,i){let o=new e.VdMultiInputSingleView;o.setupExt(t,i);return o};e.VdMultiInputSingleView.prototype.m_deleteLineBtn=null;e.VdMultiInputSingleView.prototype.m_dropdown=null;e.VdMultiInputSingleView.prototype.m_input=null;e.VdMultiInputSingleView.prototype.m_input1WrapperContainer=null;e.VdMultiInputSingleView.prototype.m_root=null;e.VdMultiInputSingleView.prototype.getDeleteLineButton=function(){return this.m_deleteLineBtn};e.VdMultiInputSingleView.prototype.getDropdown=function(){return this.m_dropdown};e.VdMultiInputSingleView.prototype.getInput1=function(){return this.m_input};e.VdMultiInputSingleView.prototype.getRoot=function(){return this.m_root};e.VdMultiInputSingleView.prototype.releaseObject=function(){this.m_deleteLineBtn=e.XObjectExt.release(this.m_deleteLineBtn);this.m_dropdown=e.XObjectExt.release(this.m_dropdown);this.m_input=e.XObjectExt.release(this.m_input);this.m_root=e.XObjectExt.release(this.m_root);e.VdAbstractValueView.prototype.releaseObject.call(this)};e.VdMultiInputSingleView.prototype.setDeleteLineButtonVisible=function(t,i){this.m_root.setPadding(e.UiCssBoxEdges.create("0"));if(!t&&!i&&!this.m_root.getUiManager().getDeviceInfo().isMobile()){this.m_root.setPadding(e.UiCssBoxEdges.create("0 37px 0 0"))}return this.m_deleteLineBtn.setVisible(t)};e.VdMultiInputSingleView.prototype.setDropdownVisible=function(e){return this.m_dropdown.setVisible(e)};e.VdMultiInputSingleView.prototype.setInput1Visible=function(e){let t=this.m_input1WrapperContainer.getUiManager().getDeviceInfo().isMobile()||this.m_input1WrapperContainer.getUiManager().getDeviceInfo().isTablet();if(!t){this.m_input1WrapperContainer.setVisible(e)}return this.m_input.setVisible(e)};e.VdMultiInputSingleView.prototype.setupExt=function(t,i){let o=t.getDeviceInfo().isMobile();let n=e.OuVariableDialogI18nLegacy.getProvider();this.m_root=t.newControl(e.UiType.FLEX_LAYOUT);this.m_root.setName("VariableDialogVariableMember");this.m_root.setWidth(e.UiCssLength.create("100%"));let a=this.m_root.addNewItemOfType(e.UiType.FLEX_LAYOUT);a.addCssClass("ffVdVariableMemberInputContainer");a.setWidth(e.UiCssLength.create("100%"));a.setGap(e.UiCssGap.create("5px"));this.m_dropdown=a.addNewItemOfType(e.UiType.DROPDOWN);this.m_dropdown.setName("VariableDialogOperatorDd1");this.m_dropdown.setWidth(e.UiCssLength.create("100px"));this.m_dropdown.setVisible(true);let r=a.addNewItemOfType(e.UiType.FLEX_LAYOUT);r.setVisible(i);r.setAlignItems(e.UiFlexAlignItems.CENTER);r.setWidth(e.UiCssLength.create("100%"));this.m_input1WrapperContainer=a.addNewItemOfType(e.UiType.FLEX_LAYOUT);this.m_input1WrapperContainer.setAlignItems(e.UiFlexAlignItems.CENTER);this.m_input=i?r.addNewItemOfType(e.UiType.MULTI_INPUT):this.m_input1WrapperContainer.addNewItemOfType(e.UiType.MULTI_INPUT);this.m_input.setName("VariableDialogValueIpt1");this.m_input.addCssClass("ff-multi-input");this.m_input.setShowValueHelp(true);this.m_input.setWidth(e.UiCssLength.create("100%"));if(o&&i){this.m_deleteLineBtn=this.m_root.addNewItemOfType(e.UiType.BUTTON)}else{this.m_deleteLineBtn=i?r.addNewItemOfType(e.UiType.BUTTON):this.m_root.addNewItemOfType(e.UiType.BUTTON)}this.m_deleteLineBtn.setName("VariableDialogDeleteLineBtn");this.m_deleteLineBtn.setIcon("decline");this.m_deleteLineBtn.setTooltip(n.getText(e.OuVariableDialogI18nLegacy.I18N_VD_DELETE));this.m_deleteLineBtn.setPadding(e.UiCssBoxEdges.create("0 0 0 5px"));this.m_deleteLineBtn.setButtonType(e.UiButtonType.TRANSPARENT);if(i){this.m_input.setWidth(e.UiCssLength.create("calc(100% - 4.3rem)"));a.setDirection(e.UiFlexDirection.COLUMN)}else{a.setWidth(e.UiCssLength.create("calc(100% - 2.3rem)"));a.setAlignItems(e.UiFlexAlignItems.CENTER);a.setDirection(e.UiFlexDirection.ROW);this.m_input1WrapperContainer.setWidth(e.UiCssLength.create("100%"))}if(o){this.m_root.setPadding(e.UiCssBoxEdges.create("0 0 10px 0"));this.m_root.setGap(e.UiCssGap.create("5px"));a.setWidth(e.UiCssLength.create("85%"));this.m_input.setWidth(e.UiCssLength.create("100%"));a.setDirection(e.UiFlexDirection.COLUMN);this.m_dropdown.setWidth(e.UiCssLength.create("100%"))}else{this.m_root.setWrap(e.UiFlexWrap.NO_WRAP);this.m_dropdown.setFlex("0 0 auto");this.m_deleteLineBtn.setPadding(e.UiCssBoxEdges.create("0 0 0 5px"))}};e.OuLambdaSyncListener=function(){};e.OuLambdaSyncListener.prototype=new e.XObject;e.OuLambdaSyncListener.prototype._ff_c="OuLambdaSyncListener";e.OuLambdaSyncListener.create=function(t){let i=new e.OuLambdaSyncListener;i.m_action=t;return i};e.OuLambdaSyncListener.prototype.m_action=null;e.OuLambdaSyncListener.prototype.onSynchronized=function(e,t,i){this.m_action(e,t)};e.OuLambdaSyncListener.prototype.releaseObject=function(){this.m_action=null;e.XObject.prototype.releaseObject.call(this)};e.VdEntryPoint=function(){};e.VdEntryPoint.prototype=new e.DialogEntryPoint;e.VdEntryPoint.prototype._ff_c="VdEntryPoint";e.VdEntryPoint.createEntryPoint=function(t,i,o){let n=new e.VdEntryPoint;n.setupVdUqmEntryPoint(t,i,null,o);return n};e.VdEntryPoint.createEntryPointWithConfig=function(t,i){let o=new e.VdEntryPoint;o.setupVdUqmEntryPoint(null,null,t,i);return o};e.VdEntryPoint.prototype.m_vdController=null;e.VdEntryPoint.prototype.close=function(){this.m_vdController.close()};e.VdEntryPoint.prototype.getController=function(){return this.m_vdController};e.VdEntryPoint.prototype.open=function(){this.m_vdController.open()};e.VdEntryPoint.prototype.releaseObject=function(){this.m_vdController=e.XObjectExt.release(this.m_vdController);e.DialogEntryPoint.prototype.releaseObject.call(this)};e.VdEntryPoint.prototype.setupVdUqmEntryPoint=function(t,i,o,n){if(e.notNull(o)){this.setupEntryPoint(o.getVarProcessor().getApplication());this.m_vdController=e.VdVariableDialog.createAsDisplay(this.getUiContext(),o,n)}else{this.setupEntryPoint(i.getApplication());let o=e.VdConfiguration.createConfig(t,i);this.m_vdController=e.VdVariableDialog.createAsDisplay(this.getUiContext(),o,n)}};e.FdOrcaEntryPoint=function(){};e.FdOrcaEntryPoint.prototype=new e.XObject;e.FdOrcaEntryPoint.prototype._ff_c="FdOrcaEntryPoint";e.FdOrcaEntryPoint.create=function(){return new e.FdOrcaEntryPoint};e.FdOrcaEntryPoint.prototype.m_filterDialog=null;e.FdOrcaEntryPoint.prototype.m_listener=null;e.FdOrcaEntryPoint.prototype.m_reinitializedQm=null;e.FdOrcaEntryPoint.prototype.close=function(){if(this.isOpen()){this.m_filterDialog.terminate()}};e.FdOrcaEntryPoint.prototype.deserializeOrcaSelectionData=function(t){let i=e.XList.create();let o=e.PrUtils.getListProperty(t,e.OrcaConstants.SELECTED_DATA);if(e.notNull(o)){for(let t=0;t<o.size();t++){let n=o.getStructureAt(t);let a=n.containsKey(e.OrcaConstants.NAME);let r=n.containsKey(e.OrcaConstants.DISPLAY_KEY);if(a||r){let t=n.getStringByKey(e.OrcaConstants.NAME);let o=n.getStringByKey(e.OrcaConstants.DISPLAY_KEY);let l=n.getStringByKey(e.OrcaConstants.DISPLAY_NAME);if((!a||e.isNull(t))&&(!r||e.isNull(o))){i.add(e.FilterDialogValueFactory.createNullValue())}else{i.add(e.FilterDialogValueFactory.createValue(t,o,l))}}}}return i};e.FdOrcaEntryPoint.prototype.getSelectionMode=function(t,i){if(e.notNull(i)){let t=i.getStringByKey(e.OrcaConstants.SELECTION);if(e.XString.isEqual(t,e.OrcaConstants.SELECTION_SINGLE)){return e.UiTableSelectionMode.SINGLE}if(e.XString.isEqual(t,e.OrcaConstants.SELECTION_MULTI)){return e.UiTableSelectionMode.MULTI_TOGGLE}}return t.supportsMultipleValues()?e.UiTableSelectionMode.MULTI_TOGGLE:e.UiTableSelectionMode.SINGLE};e.FdOrcaEntryPoint.prototype.isOpen=function(){return e.notNull(this.m_filterDialog)};e.FdOrcaEntryPoint.prototype.onFilterDialogCancel=function(){this.onFilterDialogClose(null)};e.FdOrcaEntryPoint.prototype.onFilterDialogClose=function(t){this.m_filterDialog=null;if(e.notNull(this.m_reinitializedQm)&&!this.m_reinitializedQm.isReleased()&&this.m_reinitializedQm.getVariableProcessorState().isCancelNeeded()){this.m_reinitializedQm.cancelReInitVariables(e.SyncType.NON_BLOCKING,this,e.XStringValue.create(t));this.m_reinitializedQm=null;return}this.m_reinitializedQm=null;if(e.notNull(t)){this.m_listener.onOrcaFilterDialogOk(t)}else{this.m_listener.onOrcaFilterDialogCancel()}};e.FdOrcaEntryPoint.prototype.onFilterDialogOk=function(e,t){this.onFilterDialogClose(this.serializeOrcaSelectionData(e))};e.FdOrcaEntryPoint.prototype.onVariableProcessorExecuted=function(e,t,i){this.onFilterDialogClose(i.getString())};e.FdOrcaEntryPoint.prototype.openForVariable=function(t,i,o,n){if(e.isNull(this.m_filterDialog)&&e.notNull(i)&&i.getVariableType().isTypeOf(e.VariableType.DIMENSION_MEMBER_VARIABLE)&&i.supportsValueHelp()){let a=e.XLocalizationCenter.getCenter().getTextWithPlaceholder(e.FilterDialogI18n.I18N_FD_SELECT_MEMBER_FOR,i.getText());let r=this.getSelectionMode(i,o);let l=this.deserializeOrcaSelectionData(o);let s=t.getSystemType().isTypeOf(e.SystemType.HANA)?e.FilterDisplayInfo.DESCRIPTION:e.FilterDisplayInfo.QUERY_DEFAULT;if(e.notNull(o)&&o.containsKey(e.OrcaConstants.DIMENSION_DISPLAY_INFO)){s=e.OrcaConstants.mapOrcaDisplayInfo(o.getStringByKey(e.OrcaConstants.DIMENSION_DISPLAY_INFO),s)}this.m_listener=n;let u=e.FilterDialogProgramRunnerFactory.createForVariable(t.getProcess(),t,i,a);let m=e.PrFactory.createStructure();m.putString(e.FilterDialog.PARAM_SELECTION_MODE,r.getName());m.putString(e.FilterDialog.PARAM_DISPLAY_INFO,s.getName());m.putBoolean(e.FilterDialog.PARAM_OFFER_READMODE_CHANGE,true);m.putBoolean(e.FilterDialog.PARAM_RESIZABLE,false);u.setConfigStructure(m);u.getProgramStartData().putXObject(e.FilterDialog.PRG_DATA_DEFAULT_SELECTION,l);u.getProgramStartData().putXObject(e.FilterDialog.PRG_DATA_LISTENER_CLOSE,this);u.runProgram().onThen(e=>{this.m_filterDialog=e}).onCatch(e=>{this.m_filterDialog=null});return true}return false};e.FdOrcaEntryPoint.prototype.prepareVariableProcessorState=function(t,i){this.m_reinitializedQm=null;let o=e.notNull(t)?t.getQueryManager():null;if(e.notNull(o)&&o.getVariableProcessorState().isReinitNeeded()){this.m_reinitializedQm=o;o.reInitVariablesAfterSubmit(e.SyncType.NON_BLOCKING,i,null)}else if(e.notNull(o)&&!o.supportsDirectVariableTransfer()){o.transferVariables(e.SyncType.NON_BLOCKING,i,null)}else if(e.notNull(i)){i.onVariableProcessorExecuted(e.ExtResult.createEmpty(),null,null)}};e.FdOrcaEntryPoint.prototype.releaseObject=function(){e.XObject.prototype.releaseObject.call(this);this.m_listener=null;this.m_filterDialog=null};e.FdOrcaEntryPoint.prototype.serializeOrcaSelectionData=function(t){let i=e.PrFactory.createStructure();let o=i.putNewList(e.OrcaConstants.SELECTED_DATA);for(let i=0;i<t.size();i++){let n=t.get(i);let a=o.addNewStructure();if(n.isNull()){a.putString(e.OrcaConstants.NAME,null);a.putString(e.OrcaConstants.DISPLAY_KEY,null);a.putString(e.OrcaConstants.DISPLAY_NAME,e.XLocalizationCenter.getCenter().getText(e.FilterDialogI18n.I18N_FD_NULL))}else{let t=n.getKey();let i=n.getDisplayKey();let o=n.getText();if(e.XString.isEqual(t,"")&&e.XString.isEqual(i,"")){o=e.XLocalizationCenter.getCenter().getText(e.FilterDialogI18n.I18N_FD_NO_VALUE)}a.putStringNotNull(e.OrcaConstants.NAME,t);a.putStringNotNull(e.OrcaConstants.DISPLAY_KEY,i);a.putStringNotNull(e.OrcaConstants.DISPLAY_NAME,o)}}return e.PrUtils.serialize(i,false,false,0)};e.VdOrcaValueParser=function(){};e.VdOrcaValueParser.prototype=new e.VdAbstractValueParser;e.VdOrcaValueParser.prototype._ff_c="VdOrcaValueParser";e.VdOrcaValueParser.createItem=function(t,i,o,n){let a=t.getVariableType().isTypeOf(e.VariableType.DIMENSION_MEMBER_VARIABLE)?t.getHierarchyName():null;if(e.VdAbstractValueParser.useKeysAsDisplayKeys(t,n)){return e.FilterDialogValueFactory.createValueExt(null,i,o,a,e.ComparisonOperator.EQUAL)}return e.FilterDialogValueFactory.createValueExt(i,null,o,a,e.ComparisonOperator.EQUAL)};e.VdOrcaValueParser.createParser=function(){return new e.VdOrcaValueParser};e.VdOrcaValueParser.createValueDetail=function(t,i,o,n,a){let r=e.PrFactory.createStructure();let l=i.getOperator();if(l===e.VdComparisonOperator.UNDEFINED){l=e.VdComparisonOperator.EQUAL}r.putString(e.OrcaConstants.OPERATOR,l.getName());if(l.getNumberOfParameters()<1){return r}let s=e.VdOrcaValueParser.tryGetKey(t,i.getFirstOperand(),n,a);if(e.isNull(s)){return null}let u=t.getVariableType();let m=t.getValueType();if(u.isTypeOf(e.VariableType.SIMPLE_TYPE_VARIABLE)&&m.isTypeOf(e.XValueType.NUMBER)&&e.XStringUtils.isNullOrEmpty(s)){return null}if(o&&m.isDateBased()){r.putString(e.OrcaConstants.OPERAND_1,e.VdAbstractValueParser.getSAPFormat(m,s))}else if(u.isTypeOf(e.VariableType.SIMPLE_TYPE_VARIABLE)){r.putString(e.OrcaConstants.OPERAND_1,s)}else{r.putString(e.OrcaConstants.OPERAND_1,s);r.putStringNotNull(e.OrcaConstants.DESC_1,e.VdAbstractValueParser.getTextOrDisplayKey(i.getFirstOperand()))}if(l.getNumberOfParameters()<2){return r}let p=e.VdOrcaValueParser.tryGetKey(t,i.getSecondOperand(),n,a);if(e.isNull(p)){return null}if(o&&m.isDateBased()){r.putString(e.OrcaConstants.OPERAND_2,e.VdAbstractValueParser.getSAPFormat(m,p))}else if(u.isTypeOf(e.VariableType.SIMPLE_TYPE_VARIABLE)){r.putString(e.OrcaConstants.OPERAND_2,p)}else{r.putString(e.OrcaConstants.OPERAND_2,p);r.putStringNotNull(e.OrcaConstants.DESC_2,e.VdAbstractValueParser.getTextOrDisplayKey(i.getSecondOperand()))}return r};e.VdOrcaValueParser.exportVariables=function(t,i,o){let n=e.PrFactory.createStructure();let a=i.getKeysAsIterator();while(a.hasNext()){let r=a.next();let l=e.notNull(o)&&o.contains(r);let s=t.getVariable(r);let u=n.putNewStructure(r);u.putString(e.OrcaConstants.DISPLAY_NAME,s.getText());u.putString(e.OrcaConstants.NAME,r);let m=e.VdAbstractValueParser.isBw(s);let p=null;if(s.getVariableType().isTypeOf(e.VariableType.DIMENSION_MEMBER_VARIABLE)){let t=s;let i=t.getDimension();u.putString(e.OrcaConstants.DIMENSION_ID,i.getName());u.putBoolean(e.OrcaConstants.IS_USED_IN_DYNAMIC_FILTER,t.isUsedInDynamicFilter()&&i.getAxisType()!==e.AxisType.REPOSITORY);if(m&&i.isCompound()&&!s.getVariableType().isTypeOf(e.VariableType.HIERARCHY_NODE_VARIABLE)&&e.XStringUtils.isNullOrEmpty(s.getHierarchyName())){p=i.getFirstFieldByType(e.PresentationType.KEY_NOT_COMPOUND)}}u.putBoolean(e.OrcaConstants.IS_INPUT_ENABLED,true);u.putBoolean(e.OrcaConstants.IS_MANDATORY,s.isMandatory());u.putString(e.OrcaConstants.VALUE_TYPE,s.getValueType().getName());u.putString(e.OrcaConstants.VARIABLE_TYPE,s.getVariableType().getName());u.putBoolean(e.OrcaConstants.SUPPORTS_MULTIPLE_VALUES,s.supportsMultipleValues());u.putNewStructure(e.OrcaConstants.VARIABLE_OBJ);u.putNewList(e.OrcaConstants.OPERATORS);let d=u.putNewList(e.OrcaConstants.VALUE_DETAILS);let c=i.getByKey(r);for(let t=0;t<c.size();t++){let i=e.VdOrcaValueParser.createValueDetail(s,c.get(t),m,p,l);if(e.notNull(i)){d.add(i)}}}return n};e.VdOrcaValueParser.mapOrcaDisplayInfo=function(t,i,o){return e.notNull(i)?e.OrcaConstants.mapOrcaDisplayInfo(i.getStringByKey(t),o):o};e.VdOrcaValueParser.parseJsonToStartValues=function(t,i,o){if(!e.XCollectionUtils.hasElements(t)){return null}let n=e.XHashMapByString.create();let a=t.getKeysAsIterator();while(a.hasNext()){let r=a.next();let l=e.notNull(o)&&o.contains(r);let s=e.XList.create();let u=i.getVariable(r);let m=t.getStructureByKey(r).getListByKey(e.OrcaConstants.VALUE_DETAILS);if(e.isNull(u)||e.isNull(m)){continue}let p=u.getVariableType().isTypeOf(e.VariableType.SIMPLE_TYPE_VARIABLE);for(let t=0;t<m.size();t++){let i=m.getStructureAt(t);let o=e.VdComparisonOperator.lookupExt(i.getStringByKey(e.OrcaConstants.OPERATOR),false);if(e.notNull(o)&&o.isNullOperator()){s.add(e.VdValue.createValue(o,e.FilterDialogValueFactory.createNullValue(),null));continue}let n=e.PrUtils.getStringValueProperty(i,e.OrcaConstants.OPERAND_1,null);let a=p?null:i.getStringByKey(e.OrcaConstants.DESC_1);let r=e.VdOrcaValueParser.createItem(u,n,a,l);if(!p){let t=e.PrUtils.getStringValueProperty(i,e.OrcaConstants.OPERAND_2,null);let n=i.getStringByKey(e.OrcaConstants.DESC_2);let a=e.VdOrcaValueParser.createItem(u,t,n,l);s.add(e.VdValue.createValue(o,r,a))}else{s.add(e.VdValue.createValue(o,r,null))}}n.put(r,s)}return n};e.VdOrcaValueParser.tryGetKey=function(t,i,o,n){let a=e.notNull(o)?i.getValueByField(o):null;if(e.isNull(a)){a=i.getKey();if(i.getDisplayKey()!==null&&e.VdAbstractValueParser.useKeysAsDisplayKeys(t,n)){a=i.getDisplayKey()}}return a};e.VdOrcaValueParser.prototype.deserialize=function(t,i){return e.VdOrcaValueParser.parseJsonToStartValues(i.asStructure(),t,null)};e.VdOrcaValueParser.prototype.serialize=function(t,i){return e.VdOrcaValueParser.exportVariables(t,i,null)};e.OrcaLinkVarManager=function(){};e.OrcaLinkVarManager.prototype=new e.XObject;e.OrcaLinkVarManager.prototype._ff_c="OrcaLinkVarManager";e.OrcaLinkVarManager.CANCEL="cancel";e.OrcaLinkVarManager.COMPONENT_NAME="OrcaLinkVarManager";e.OrcaLinkVarManager.REINIT="reinit";e.OrcaLinkVarManager.SUBMIT="submit";e.OrcaLinkVarManager.TRANSFER="transfer";e.OrcaLinkVarManager.create=function(t,i,o){let n=new e.OrcaLinkVarManager;n.setupExt(t,i,o);return n};e.OrcaLinkVarManager.createWithController=function(t){let i=new e.OrcaLinkVarManager;i.setupExt(t.getContext(),t.getModel(),t.getInternalStateHandler());return i};e.OrcaLinkVarManager.prototype.m_context=null;e.OrcaLinkVarManager.prototype.m_hasMissingLink=null;e.OrcaLinkVarManager.prototype.m_linkVarHelper=null;e.OrcaLinkVarManager.prototype.m_linkage=null;e.OrcaLinkVarManager.prototype.m_linkedDatasourceSkipSubmit=null;e.OrcaLinkVarManager.prototype.m_linkedProcessors=null;e.OrcaLinkVarManager.prototype.m_linkedProcessorsSkipSubmit=null;e.OrcaLinkVarManager.prototype.m_linkedVarsByDatasource=null;e.OrcaLinkVarManager.prototype.m_mainVarsByLinkedVar=null;e.OrcaLinkVarManager.prototype.m_originalHandler=null;e.OrcaLinkVarManager.prototype.m_submitMode=null;e.OrcaLinkVarManager.prototype.m_valueHelps=null;e.OrcaLinkVarManager.prototype.m_vdModel=null;e.OrcaLinkVarManager.prototype.activateSubmitAll=function(t){if(e.isNull(t)){throw e.XException.createIllegalArgumentException("Cannot activate linked var helper with null object")}this.m_linkVarHelper=t;this.m_submitMode=e.OrcaLinkVarSubmitHandling.SUBMIT_LINKED_RECURSIVE};e.OrcaLinkVarManager.prototype.activateSubmitLinked=function(){this.m_linkVarHelper=null;this.m_submitMode=e.OrcaLinkVarSubmitHandling.SUBMIT_LINKED_DIRECT};e.OrcaLinkVarManager.prototype.activateVariant=function(e,t,i){this.m_originalHandler.activateVariant(e,t,i)};e.OrcaLinkVarManager.prototype.addLinkedDatasource=function(t,i){if(e.isNull(this.m_linkVarHelper)){return}this.m_mainVarsByLinkedVar.put(this.getUniqueVarName(i),t.getName());let o=this.m_linkVarHelper.getLinkGroupId(i.getQueryManager());let n=this.m_linkedVarsByDatasource.getByKey(o);if(e.isNull(n)){n=e.XList.create();this.m_linkedVarsByDatasource.put(o,n)}n.add(i.getName())};e.OrcaLinkVarManager.prototype.addLinks=function(t,i,o){if(e.isNull(t)||!t.isInputEnabled()){return}let n=e.XList.create();let a=e.XList.create();for(let o=0;o<i.size();o++){let r=i.get(o);let l=r.getQueryManager();if(!r.isInputEnabled()||e.isNull(l)){continue}let s=l.getVariableProcessor();if(!this.m_linkedProcessors.contains(s)){this.m_linkedProcessors.add(s)}n.add(r);this.addLinkedDatasource(t,r);if(r.getVariableType().isTypeOf(e.VariableType.DIMENSION_MEMBER_VARIABLE)){a.add(r)}}if(n.hasElements()){let i=t.getName();this.m_linkage.put(i,n);if(a.hasElements()&&t.getVariableType().isTypeOf(e.VariableType.DIMENSION_MEMBER_VARIABLE)){let e=this.createLinkValueHelp(t,a,o);this.m_valueHelps.put(i,e)}}};e.OrcaLinkVarManager.prototype.areValuesDifferentToStartValues=function(t){let i=this.m_vdModel.getStartValues();let o=t.getKeysAsIterator();while(o.hasNext()){let n=o.next();if(!e.XListUtils.isListEquals(t.getByKey(n),i.getByKey(n))){return true}}return false};e.OrcaLinkVarManager.prototype.cancelReinitVariables=function(t,i,o){let n=e.OrcaLinkVarProxyData.createData(e.OrcaLinkVarManager.CANCEL,i,o);n.increaseRequestCount();this.m_originalHandler.cancelReinitVariables(t,this,n);let a=this.collectLinkedQueryManagers();e.XCollectionUtils.addAllIfNotPresent(a,this.m_linkedProcessors);this.setVariableValuesToLinkedProcessors(t);for(let t=0;t<a.size();t++){let i=a.get(t);if(!i.isCancelNeeded()){continue}n.increaseRequestCount();i.cancelReInitVariables(e.OlapUiValueHelpAbstract.s_syncType,this,n)}n.finishProgress();this.checkIfDone(n)};e.OrcaLinkVarManager.prototype.checkIfDone=function(t){if(!t.isReleased()&&t.isDone()){let i=t.getErrorResult();if(e.notNull(i)){let t=this.m_linkedProcessors.createListCopy();t.add(this.m_originalHandler.getSubmitProcessor());e.XStream.of(t).filter(e=>e.isReinitNeeded()&&!e.isDirectVariableTransferEnabled()).forEach(t=>{t.reInitVariablesAfterSubmit(e.SyncType.BLOCKING,null,null)})}let o=t.getOriginalListener();if(e.notNull(o)){o.onVariableProcessorExecuted(e.notNull(i)?i:e.ExtResult.createWithInfoMessage("ok"),null,t.getOriginalObject())}e.XObjectExt.release(t)}};e.OrcaLinkVarManager.prototype.collectLinkedQueryManagers=function(){if(this.m_submitMode===e.OrcaLinkVarSubmitHandling.SUBMIT_LINKED_RECURSIVE){return e.XStream.of(this.getAllLinkedQueryManagersRecursive()).map(e=>e.getVariableProcessor()).collect(e.XStreamCollector.toList())}return e.XStream.of(this.m_linkedProcessors).filter(e=>!this.m_linkedProcessorsSkipSubmit.contains(e)).collect(e.XStreamCollector.toList())};e.OrcaLinkVarManager.prototype.createLinkValueHelp=function(t,i,o){if(o===e.OrcaLinkVarJoinMode.INTERSECT){return e.OrcaLinkVarValueHelpIntersect.createLink(t,i)}else if(o===e.OrcaLinkVarJoinMode.UNION){return e.OrcaLinkVarValueHelpUnion.createLink(t,i)}throw e.XException.createIllegalArgumentException("Unknown join type")};e.OrcaLinkVarManager.prototype.getAllLinkedQueryManagersRecursive=function(){let t=e.XList.create();let i=this.m_vdModel.getVariableProcessor().getOlapEnv();let o=i.getAllAreaQueryManagerActive();for(let i=0;i<o.size();i++){let n=o.get(i);let a=this.m_linkVarHelper.getLinkGroupId(n);let r=this.m_linkedVarsByDatasource.getByKey(a);if(!e.XCollectionUtils.hasElements(r)||this.m_linkedDatasourceSkipSubmit.contains(a)||!this.m_linkVarHelper.shouldBeSubmitted(n)){continue}t.add(n)}return t};e.OrcaLinkVarManager.prototype.getLinkage=function(){return this.m_linkage};e.OrcaLinkVarManager.prototype.getLinkedVariableNames=function(){return this.m_linkage.getKeysAsReadOnlyList()};e.OrcaLinkVarManager.prototype.getSubmitMode=function(){return this.m_submitMode};e.OrcaLinkVarManager.prototype.getSubmitProcessor=function(){return this.m_originalHandler.getSubmitProcessor()};e.OrcaLinkVarManager.prototype.getUniqueVarName=function(t){if(e.isNull(this.m_linkVarHelper)||t.getQueryManager()===null){return t.getName()}let i=this.m_linkVarHelper.getLinkGroupId(t.getQueryManager());return e.XStringUtils.concatenate3(i,"~",t.getName())};e.OrcaLinkVarManager.prototype.getValueHelpProcessorForVariable=function(t){if(this.m_hasMissingLink.contains(t)){let t=e.OuVariableDialogI18nLegacy.getProvider().getText(e.OuVariableDialogI18nLegacy.I18N_VD_MISSING_LINK_WARNING);this.m_context.getMessageCenter().postMessage(e.UiMessageType.WARNING,t,e.OrcaLinkVarManager.COMPONENT_NAME)}return this.m_valueHelps.getByKey(t)};e.OrcaLinkVarManager.prototype.handleErrors=function(t,i,o){if(e.isNull(o)||o.isReleased()){return true}if(t.hasErrors()){o.setErrorResult(t);o.increaseCallbackCount();this.checkIfDone(o);return true}return false};e.OrcaLinkVarManager.prototype.hasLinks=function(){return this.m_linkage.hasElements()};e.OrcaLinkVarManager.prototype.isQueryManagerValidForSubmit=function(t){if(e.isNull(t)||t.isReleased()){return false}let i=t.getQueryModel();if(e.isNull(i)||i.isReleased()){return false}let o=i.getVariableManager();if(e.isNull(o)||o.isReleased()){return false}return o.hasVariables()};e.OrcaLinkVarManager.prototype.onQueryManagerSubmit=function(t,i,o,n,a){let r=a;if(this.handleErrors(o,n,r)){return}this.m_linkVarHelper.onAfterVariableSubmit(i);r.increaseCallbackCount();this.checkIfDone(r);e.XObjectExt.release(t)};e.OrcaLinkVarManager.prototype.onVariableProcessorExecuted=function(e,t,i){let o=i;if(this.handleErrors(e,t,o)){return}o.increaseCallbackCount();this.checkIfDone(o)};e.OrcaLinkVarManager.prototype.prepareVariableProcessorsToBeTransferred=function(t,i){let o=e.XList.create();let n=this.m_linkage.getKeysAsIterator();while(n.hasNext()){let a=n.next();let r=this.m_vdModel.getVariableModelByName(a).getVariable();let l=this.m_linkage.getByKey(a);for(let n=0;n<l.size();n++){let s=l.get(n);let u=s.getQueryManager();if(e.isNull(u)||!this.m_linkedProcessors.contains(u.getVariableProcessor())){continue}let m=u.getVariableProcessor();if(!o.contains(m)){o.add(m)}if(r!==t){let t=i.getByKey(a);e.VdImportExport.setValuesToVariable(s,t)}else{s.clear()}}}e.XObjectExt.release(n);return o};e.OrcaLinkVarManager.prototype.reinitVariables=function(t,i){let o=e.OrcaLinkVarProxyData.createData(e.OrcaLinkVarManager.REINIT,t,i);o.increaseRequestCount();this.m_originalHandler.reinitVariables(this,o);let n=this.collectLinkedQueryManagers();e.XCollectionUtils.addAllIfNotPresent(n,this.m_linkedProcessors);for(let t=0;t<n.size();t++){let i=n.get(t);if(!i.isReinitNeeded()){continue}o.increaseRequestCount();i.reInitVariablesAfterSubmit(e.OlapUiValueHelpAbstract.s_syncType,this,o)}o.finishProgress();this.checkIfDone(o)};e.OrcaLinkVarManager.prototype.releaseObject=function(){this.m_context=null;this.m_vdModel=null;this.m_originalHandler=null;this.m_linkedProcessors=e.XObjectExt.release(this.m_linkedProcessors);this.m_linkedProcessorsSkipSubmit=e.XObjectExt.release(this.m_linkedProcessorsSkipSubmit);this.m_linkedDatasourceSkipSubmit=e.XObjectExt.release(this.m_linkedDatasourceSkipSubmit);this.m_linkedVarsByDatasource=e.XObjectExt.release(this.m_linkedVarsByDatasource);this.m_linkage=e.XObjectExt.release(this.m_linkage);this.m_valueHelps=e.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_valueHelps);e.XObject.prototype.releaseObject.call(this)};e.OrcaLinkVarManager.prototype.saveVariant=function(e,t,i,o){this.m_originalHandler.saveVariant(e,t,i,o)};e.OrcaLinkVarManager.prototype.setHasMissingLink=function(e){this.m_hasMissingLink.add(e.getName())};e.OrcaLinkVarManager.prototype.setSkipSubmitOfLinkedQm=function(t){if(e.isNull(t)||t.getVariableProcessor()===this.m_vdModel.getVariableProcessor()){return}this.m_linkedProcessorsSkipSubmit.add(t.getVariableProcessor());if(e.notNull(this.m_linkVarHelper)){this.m_linkedDatasourceSkipSubmit.add(this.m_linkVarHelper.getLinkGroupId(t))}};e.OrcaLinkVarManager.prototype.setVariableValues=function(e){this.m_originalHandler.setVariableValues(e);this.setVariableValuesToLinkedProcessors(e)};e.OrcaLinkVarManager.prototype.setVariableValuesToLinkedProcessors=function(t){let i=this.m_linkage.getKeysAsIterator();while(i.hasNext()){let o=i.next();let n=this.m_linkage.getByKey(o);for(let i=0;i<n.size();i++){let a=n.get(i);let r=a.getQueryManager();if(e.isNull(r)||!this.m_linkedProcessors.contains(r.getVariableProcessor())){continue}let l=t.getByKey(o);e.VdImportExport.setValuesToVariable(a,l)}}e.XObjectExt.release(i)};e.OrcaLinkVarManager.prototype.setupExt=function(t,i,o){this.m_context=t;this.m_vdModel=i;this.m_originalHandler=o;this.m_submitMode=e.OrcaLinkVarSubmitHandling.NONE;this.m_linkedProcessors=e.XList.create();this.m_linkedProcessorsSkipSubmit=e.XList.create();this.m_linkedDatasourceSkipSubmit=e.XList.create();this.m_linkedVarsByDatasource=e.XHashMapByString.create();this.m_mainVarsByLinkedVar=e.XHashMapByString.create();this.m_linkage=e.XHashMapByString.create();this.m_valueHelps=e.XHashMapByString.create();this.m_hasMissingLink=e.XHashSetOfString.create()};e.OrcaLinkVarManager.prototype.submitAllQueryManagersOfLinkedDatasources=function(t,i){let o=this.areValuesDifferentToStartValues(t);let n=this.getAllLinkedQueryManagersRecursive();for(let a=0;a<n.size();a++){let r=n.get(a);if(!this.isQueryManagerValidForSubmit(r)){continue}let l=this.m_linkVarHelper.getLinkGroupId(r);let s=this.m_linkedVarsByDatasource.getByKey(l);if(!o&&!r.getVariableProcessorState().isSubmitNeeded()){continue}this.m_linkVarHelper.applySavedValues(r);let u=r.getVariableProcessor();for(let i=0;i<s.size();i++){let o=u.getVariable(s.get(i));if(e.notNull(o)){let i=this.m_mainVarsByLinkedVar.getByKey(this.getUniqueVarName(o));e.VdImportExport.setValuesToVariable(o,t.getByKey(i))}}i.increaseRequestCount();u.submitVariables(e.OlapUiValueHelpAbstract.s_syncType,e.OrcaLinkVarSubmitCallback.createCallback(this,r),i)}};e.OrcaLinkVarManager.prototype.submitLinkedVariableProcessors=function(t,i){let o=this.m_linkage.getKeysAsIterator();while(o.hasNext()){let i=o.next();let n=this.m_linkage.getByKey(i);for(let o=0;o<n.size();o++){let a=n.get(o);e.VdImportExport.setValuesToVariable(a,t.getByKey(i))}}e.XObjectExt.release(o);let n=this.areValuesDifferentToStartValues(t);for(let t=0;t<this.m_linkedProcessors.size();t++){i.increaseRequestCount();let o=this.m_linkedProcessors.get(t);if(n&&!this.m_linkedProcessorsSkipSubmit.contains(o)){o.submitVariables(e.OlapUiValueHelpAbstract.s_syncType,this,i)}else{o.cancelReInitVariables(e.OlapUiValueHelpAbstract.s_syncType,this,i)}}};e.OrcaLinkVarManager.prototype.submitVariables=function(t,i,o){let n=e.OrcaLinkVarProxyData.createData(e.OrcaLinkVarManager.SUBMIT,i,o);n.increaseRequestCount();this.m_originalHandler.submitVariables(t,this,n);if(this.m_submitMode===e.OrcaLinkVarSubmitHandling.SUBMIT_LINKED_DIRECT){this.submitLinkedVariableProcessors(t,n)}else if(this.m_submitMode===e.OrcaLinkVarSubmitHandling.SUBMIT_LINKED_RECURSIVE){this.submitAllQueryManagersOfLinkedDatasources(t,n)}n.finishProgress();this.checkIfDone(n)};e.OrcaLinkVarManager.prototype.transferVariables=function(t,i,o,n){let a=e.OrcaLinkVarProxyData.createData(e.OrcaLinkVarManager.TRANSFER,o,n);a.increaseRequestCount();this.m_originalHandler.transferVariables(t,i,this,a);if(this.m_linkage.containsKey(i.getName())){let o=this.prepareVariableProcessorsToBeTransferred(i,t);for(let t=0;t<o.size();t++){let i=o.get(t);if(i.isDirectVariableTransferEnabled()){continue}a.increaseRequestCount();i.transferVariables(e.OlapUiValueHelpAbstract.s_syncType,this,a)}}a.finishProgress();this.checkIfDone(a)};e.OrcaLinkVarProxyData=function(){};e.OrcaLinkVarProxyData.prototype=new e.OlapUiMultiRequestHelper;e.OrcaLinkVarProxyData.prototype._ff_c="OrcaLinkVarProxyData";e.OrcaLinkVarProxyData.createData=function(t,i,o){let n=new e.OrcaLinkVarProxyData;n.setupExt(t,i,o);return n};e.OrcaLinkVarProxyData.prototype.m_proxyId=null;e.OrcaLinkVarProxyData.prototype.getProxyId=function(){return this.m_proxyId};e.OrcaLinkVarProxyData.prototype.releaseObject=function(){this.m_proxyId=null;e.OlapUiMultiRequestHelper.prototype.releaseObject.call(this)};e.OrcaLinkVarProxyData.prototype.setupExt=function(e,t,i){this.setupHelper(t,i);this.m_proxyId=e};e.OrcaLinkVarProxyData.prototype.toString=function(){return this.getProxyId()};e.VdUqmValueParser=function(){};e.VdUqmValueParser.prototype=new e.VdAbstractValueParser;e.VdUqmValueParser.prototype._ff_c="VdUqmValueParser";e.VdUqmValueParser.createParser=function(){return new e.VdUqmValueParser};e.VdUqmValueParser.deserializeHierarchyName=function(t){let i=t.getStringByKey(e.VdUqmConstants.HIERARCHY_NAME);let o=t.getStringByKey(e.VdUqmConstants.HIERARCHY_DESCRIPTION);if(e.XStringUtils.isNullOrEmpty(i)){return e.XList.create()}let n=e.FilterDialogValueFactory.createValue(i,null,o);let a=e.VdValue.createValue(e.VdComparisonOperator.EQUAL,n,null);return e.XCollectionUtils.singletonList(a)};e.VdUqmValueParser.deserializeMembers=function(t){let i=e.XList.create();for(let o=0;o<t.size();o++){let n=t.getStructureAt(o);let a=n.getStringByKey(e.VdUqmConstants.OPERATOR);let r=e.VdUqmValueParser.deserializeOperator(a);if(r.getNumberOfParameters()===0){i.add(e.VdValue.createValue(r,e.FilterDialogValueFactory.createNullValue(),null))}else if(r.getNumberOfParameters()===1){let t=n.getStructureByKey(e.VdUqmConstants.MEMBER_ID);let o=t.getStringByKey(e.VdUqmConstants.NAME);let a=t.getStringByKey(e.VdUqmConstants.DESCRIPTION);let l=e.FilterDialogValueFactory.createValue(o,null,a);i.add(e.VdValue.createValue(r,l,null))}else{let t=n.getListByKey(e.VdUqmConstants.MEMBER_IDS);let o=t.getStructureAt(0);let a=o.getStringByKey(e.VdUqmConstants.NAME);let l=o.getStringByKey(e.VdUqmConstants.DESCRIPTION);let s=e.FilterDialogValueFactory.createValue(a,null,l);let u=t.getStructureAt(1);let m=u.getStringByKey(e.VdUqmConstants.NAME);let p=u.getStringByKey(e.VdUqmConstants.DESCRIPTION);let d=e.FilterDialogValueFactory.createValue(m,null,p);i.add(e.VdValue.createValue(r,s,d))}}return i};e.VdUqmValueParser.deserializeOperator=function(t){if(e.XString.isEqual(t,e.VdUqmConstants.OPERATOR_IN)){return e.VdComparisonOperator.EQUAL}if(e.XString.isEqual(t,e.VdUqmConstants.OPERATOR_NOT_IN)){return e.VdComparisonOperator.NOT_EQUAL}if(e.XString.isEqual(t,e.VdUqmConstants.OPERATOR_GREATER)){return e.VdComparisonOperator.GREATER_THAN}if(e.XString.isEqual(t,e.VdUqmConstants.OPERATOR_LESS)){return e.VdComparisonOperator.LESS_THAN}if(e.XString.isEqual(t,e.VdUqmConstants.OPERATOR_CONTAINS)){return e.VdComparisonOperator.MATCH}return e.VdComparisonOperator.lookupExt(t,false)};e.VdUqmValueParser.deserializeOption=function(t){let i=e.XList.create();let o=t.getStringByKey(e.VdUqmConstants.NAME);let n=t.getStringByKey(e.VdUqmConstants.DESCRIPTION);if(!e.XString.isEqual(o,e.VdUqmConstants.EMPTY_OPTION_VALUE)){let t=e.FilterDialogValueFactory.createValue(o,null,n);let a=e.VdValue.createValue(e.VdComparisonOperator.EQUAL,t,null);i.add(a)}return i};e.VdUqmValueParser.deserializeSimple=function(t){let i=e.XList.create();for(let o=0;o<t.size();o++){let n=e.FilterDialogValueFactory.createValue(t.getStringAt(o),null,null);let a=e.VdValue.createValue(e.VdComparisonOperator.EQUAL,n,null);i.add(a)}return i};e.VdUqmValueParser.deserializeVariableType=function(t){if(e.XString.isEqual(e.VdUqmConstants.TYPE_DIMENSION_MEMBER,t)){return e.VariableType.DIMENSION_MEMBER_VARIABLE}if(e.XString.isEqual(e.VdUqmConstants.TYPE_HIERARCHY_NAME,t)){return e.VariableType.HIERARCHY_NAME_VARIABLE}if(e.XString.isEqual(e.VdUqmConstants.TYPE_OPTION_LIST,t)){return e.VariableType.OPTION_LIST_VARIABLE}if(e.XString.isEqual(e.VdUqmConstants.TYPE_SIMPLE,t)){return e.VariableType.SIMPLE_TYPE_VARIABLE}if(e.XString.isEqual(e.VdUqmConstants.TYPE_TEXT,t)){return e.VariableType.TEXT_VARIABLE}if(e.XString.isEqual(e.VdUqmConstants.TYPE_FORMULA,t)){return e.VariableType.FORMULA_VARIABLE}if(e.XString.isEqual(e.VdUqmConstants.TYPE_HIERARCHY_NODE,t)){return e.VariableType.HIERARCHY_NODE_VARIABLE}throw e.XException.createIllegalArgumentException(e.XStringUtils.concatenate2("No variable type for: ",t))};e.VdUqmValueParser.getFirstKeySafe=function(t,i){if(e.XCollectionUtils.hasElements(t)){let i=t.get(0).getFirstOperand().getKey();if(e.notNull(i)){return i}}return i};e.VdUqmValueParser.getTextValue=function(t){let i=t.getText();if(e.XStringUtils.isNotNullAndNotEmpty(i)){return i}let o=t.getDisplayKey();if(!e.XString.isEqual(t.getKey(),t.getDisplayKey())){return o}return null};e.VdUqmValueParser.getUqmPropertyNameByVariableType=function(t){if(t===e.VariableType.HIERARCHY_NAME_VARIABLE){return e.VdUqmConstants.HIERARCHY_NAME}if(t===e.VariableType.OPTION_LIST_VARIABLE){return e.VdUqmConstants.OPTION_NAME}if(t===e.VariableType.TEXT_VARIABLE){return e.VdUqmConstants.TEXT_VALUE}if(t===e.VariableType.FORMULA_VARIABLE){return e.VdUqmConstants.FORMULA_VALUE}throw e.XException.createIllegalArgumentException(e.XStringUtils.concatenate2("No uqm property name for: ",t.getName()))};e.VdUqmValueParser.serializeHierarchyName=function(t,i,o){if(e.XCollectionUtils.hasElements(i)){let t=i.get(0).getFirstOperand();if(e.XStringUtils.isNotNullAndNotEmpty(t.getKey())){o.putString(e.VdUqmConstants.HIERARCHY_NAME,t.getKey());let i=e.XStringUtils.isNotNullAndNotEmpty(t.getText())?t.getText():"";o.putString(e.VdUqmConstants.HIERARCHY_DESCRIPTION,i)}}else{o.putString(e.VdUqmConstants.HIERARCHY_NAME,"");o.putString(e.VdUqmConstants.HIERARCHY_DESCRIPTION,"")}let n=t.getHierarchyNameDimension().getHierarchyDueDate();o.putString(e.VdUqmConstants.HIERARCHY_DUE_DATE,e.notNull(n)?n.getStringRepresentation():"");o.putString(e.VdUqmConstants.HIERARCHY_NAME_DIMENSION,t.getHierarchyNameDimension().getName())};e.VdUqmValueParser.serializeMembers=function(t,i){let o=e.PrFactory.createList();if(!e.XCollectionUtils.hasElements(i)){return o}for(let n=0;n<i.size();n++){let a=o.addNewStructure();let r=i.get(n);let l=r.getOperator();a.putString(e.VdUqmConstants.OPERATOR,e.VdUqmValueParser.serializeOperator(l));if(l.getNumberOfParameters()<=0){continue}let s=r.getFirstOperand();let u=e.PrStructure.create();u.putString(e.VdUqmConstants.VARIABLE_ID,t);u.putString(e.VdUqmConstants.NAME,s.getKey());u.putString(e.VdUqmConstants.DESCRIPTION,e.VdUqmValueParser.getTextValue(s));if(l.getNumberOfParameters()===1){a.put(e.VdUqmConstants.MEMBER_ID,u)}else{let i=r.getSecondOperand();let o=e.PrStructure.create();o.putString(e.VdUqmConstants.VARIABLE_ID,t);o.putString(e.VdUqmConstants.NAME,i.getKey());o.putString(e.VdUqmConstants.DESCRIPTION,e.VdUqmValueParser.getTextValue(i));let n=a.putNewList(e.VdUqmConstants.MEMBER_IDS);n.add(u);n.add(o)}}return o};e.VdUqmValueParser.serializeOperator=function(t){if(t===e.VdComparisonOperator.GREATER_THAN){return e.VdUqmConstants.OPERATOR_GREATER}if(t===e.VdComparisonOperator.LESS_THAN){return e.VdUqmConstants.OPERATOR_LESS}if(t===e.VdComparisonOperator.MATCH){return e.VdUqmConstants.OPERATOR_CONTAINS}return t.getName()};e.VdUqmValueParser.serializeOption=function(t,i){let o=e.PrFactory.createStructure();o.putString(e.VdUqmConstants.VARIABLE_ID,t);if(e.XCollectionUtils.hasElements(i)){let t=i.get(0).getFirstOperand();o.putString(e.VdUqmConstants.NAME,t.getKey());o.putString(e.VdUqmConstants.DESCRIPTION,t.getText())}else{o.putString(e.VdUqmConstants.NAME,e.VdUqmConstants.EMPTY_OPTION_VALUE);o.putString(e.VdUqmConstants.DESCRIPTION,"")}return o};e.VdUqmValueParser.serializeSimple=function(t){let i=e.PrFactory.createList();if(!e.XCollectionUtils.hasElements(t)){return i}for(let o=0;o<t.size();o++){let n=t.get(o).getFirstOperand().getKey();if(e.notNull(n)){i.addString(n)}}return i};e.VdUqmValueParser.serializeValueType=function(t){if(t===e.XValueType.DATE){return e.VdUqmConstants.VALUE_TYPE_DATE}if(t===e.XValueType.TIME){return e.VdUqmConstants.VALUE_TYPE_TIME}if(t===e.XValueType.DATE_TIME){return e.VdUqmConstants.VALUE_TYPE_DATETIME}if(t===e.XValueType.STRING){return e.VdUqmConstants.VALUE_TYPE_STRING}return e.VdUqmConstants.VALUE_TYPE_UNKNOWN};e.VdUqmValueParser.serializeVariableType=function(t){if(t===e.VariableType.DIMENSION_MEMBER_VARIABLE){return e.VdUqmConstants.TYPE_DIMENSION_MEMBER}if(t===e.VariableType.HIERARCHY_NAME_VARIABLE){return e.VdUqmConstants.TYPE_HIERARCHY_NAME}if(t===e.VariableType.OPTION_LIST_VARIABLE){return e.VdUqmConstants.TYPE_OPTION_LIST}if(t===e.VariableType.SIMPLE_TYPE_VARIABLE){return e.VdUqmConstants.TYPE_SIMPLE}if(t===e.VariableType.TEXT_VARIABLE){return e.VdUqmConstants.TYPE_TEXT}if(t===e.VariableType.FORMULA_VARIABLE){return e.VdUqmConstants.TYPE_FORMULA}if(t===e.VariableType.HIERARCHY_NODE_VARIABLE){return e.VdUqmConstants.TYPE_HIERARCHY_NODE}throw e.XException.createIllegalArgumentException(e.XStringUtils.concatenate2("No uqm variable type for: ",t.getName()))};e.VdUqmValueParser.prototype.deserialize=function(t,i){if(e.isNull(i)||!i.isList()){return null}let o=e.XHashMapByString.create();let n=i.asList();for(let t=0;t<n.size();t++){let i=n.getStructureAt(t);let a=i.getStructureByKey(e.VdUqmConstants.ID);let r=a.getStringByKey(e.VdUqmConstants.VARIABLE_ID);let l;let s=e.VdUqmValueParser.deserializeVariableType(i.getStringByKey(e.VdUqmConstants.TYPE));if(s===e.VariableType.DIMENSION_MEMBER_VARIABLE||s===e.VariableType.HIERARCHY_NODE_VARIABLE){let t=i.getListByKey(e.VdUqmConstants.MEMBERS);l=e.VdUqmValueParser.deserializeMembers(t)}else if(s===e.VariableType.HIERARCHY_NAME_VARIABLE){l=e.VdUqmValueParser.deserializeHierarchyName(i)}else if(s===e.VariableType.SIMPLE_TYPE_VARIABLE){let t=i.getListByKey(e.VdUqmConstants.SIMPLE_TYPE_VALUES);l=e.VdUqmValueParser.deserializeSimple(t)}else if(s===e.VariableType.OPTION_LIST_VARIABLE){let t=i.getStructureByKey(e.VdUqmConstants.OPTION_NAME);l=e.VdUqmValueParser.deserializeOption(t)}else{let t=e.VdUqmValueParser.getUqmPropertyNameByVariableType(s);let o=i.getStringByKey(t);let n=e.FilterDialogValueFactory.createValue(o,null,null);let a=e.VdValue.createValue(e.VdComparisonOperator.EQUAL,n,null);l=e.XCollectionUtils.singletonList(a)}if(e.XCollectionUtils.hasElements(l)){o.put(r,l)}}return o};e.VdUqmValueParser.prototype.serialize=function(t,i){let o=e.PrFactory.createList();let n=t.getInputEnabledAndNonTechnicalVariables();for(let t=0;t<n.size();t++){let a=n.get(t);let r=a.getName();let l=i.getByKey(r);let s=o.addNewStructure();let u=s.putNewStructure(e.VdUqmConstants.ID);u.putString(e.VdUqmConstants.VARIABLE_ID,r);let m=a.getVariableType();s.putString(e.VdUqmConstants.TYPE,e.VdUqmValueParser.serializeVariableType(m));s.putString(e.VdUqmConstants.VALUE_TYPE,e.VdUqmValueParser.serializeValueType(a.getValueType()));s.putString(e.VdUqmConstants.DESCRIPTION,a.getText());s.putString(e.VdUqmConstants.IS_MANDATORY,e.XBoolean.convertToString(a.isMandatory()));if(m===e.VariableType.DIMENSION_MEMBER_VARIABLE||m===e.VariableType.HIERARCHY_NODE_VARIABLE){s.put(e.VdUqmConstants.MEMBERS,e.VdUqmValueParser.serializeMembers(r,l))}else if(m===e.VariableType.HIERARCHY_NAME_VARIABLE){e.VdUqmValueParser.serializeHierarchyName(a,l,s)}else if(m===e.VariableType.SIMPLE_TYPE_VARIABLE){s.put(e.VdUqmConstants.SIMPLE_TYPE_VALUES,e.VdUqmValueParser.serializeSimple(l))}else if(m===e.VariableType.OPTION_LIST_VARIABLE){s.put(e.VdUqmConstants.OPTION_NAME,e.VdUqmValueParser.serializeOption(r,l))}else{let t=e.VdUqmValueParser.getFirstKeySafe(l,"");let i=e.VdUqmValueParser.getUqmPropertyNameByVariableType(m);s.putString(i,t)}}return o};e.CtEntryPoint=function(){};e.CtEntryPoint.prototype=new e.DialogEntryPoint;e.CtEntryPoint.prototype._ff_c="CtEntryPoint";e.CtEntryPoint.createEntryPoint=function(t){let i=new e.CtEntryPoint;i.setupEntryPoint(t);i.m_qccController=e.CtFactory.createFactory(i.getUiContext()).newQCTDialogInstance();return i};e.CtEntryPoint.prototype.m_qccController=null;e.CtEntryPoint.prototype.closeQCTDialog=function(){this.m_qccController.closeDialog()};e.CtEntryPoint.prototype.openQCTDialog=function(e,t,i){this.m_qccController.openDialog(e,t,i)};e.CtEntryPoint.prototype.releaseObject=function(){e.DialogEntryPoint.prototype.releaseObject.call(this);this.m_qccController=e.XObjectExt.release(this.m_qccController)};e.CtLayout=function(){};e.CtLayout.prototype=new e.DdLayoutAbstract;e.CtLayout.prototype._ff_c="CtLayout";e.CtLayout.createWithGenesis=function(t){let i=new e.CtLayout;i.setupExt(t);return i};e.CtLayout.prototype.m_content=null;e.CtLayout.prototype.m_panel=null;e.CtLayout.prototype.buildTree=function(t){this.m_panel=t.newControl(e.UiType.PANEL).setHeight(e.UiCssLength.create("100%"));this.m_panel.setText(e.CtDialogI18n.getLocalization().getText(e.CtDialogI18n.I18N_QCT_PROPERTIES));this.m_panel.setContent(this.m_content);return this.m_panel};e.CtLayout.prototype.getContent=function(){return this.m_content};e.CtLayout.prototype.setupExt=function(t){this.m_content=t.newControl(e.UiType.VERTICAL_LAYOUT).setHeight(e.UiCssLength.create("100%"))};e.QctModel=function(){};e.QctModel.prototype=new e.DdObservableModel;e.QctModel.prototype._ff_c="QctModel";e.QctModel.CUSTOM="@@CUSTOM@@";e.QctModel.DEFAULT_RATE_NAME="EURX";e.QctModel.DYNAMIC="@@DYNAMIC@@";e.QctModel.createFrom=function(t){let i=new e.QctModel;i.setupExt(t);i.setupListeners();return i};e.QctModel.prototype.m_category=null;e.QctModel.prototype.m_fixedDate=false;e.QctModel.prototype.m_negativeOffset=false;e.QctModel.prototype.m_offset=false;e.QctModel.prototype.m_queryCurrencyTranslation=null;e.QctModel.prototype.m_rateType=null;e.QctModel.prototype.m_rateVersion=null;e.QctModel.prototype.m_referenceDate=null;e.QctModel.prototype.m_referenceDateOffset=0;e.QctModel.prototype.m_referenceOffsetGranularity=null;e.QctModel.prototype.m_showTechnical=false;e.QctModel.prototype.m_targetCurrency=null;e.QctModel.prototype.applyToQueryModel=function(t){t.queueEventing();let i=t.getCurrencyTranslationManager();let o=i.getQueryCurrencyTranslation();if(this.getCurrencyTranslationType()!==null){o.setCurrencyTranslationObject(this.getCurrencyTranslationType())}if(this.m_queryCurrencyTranslation.supportsReferenceDate()&&!this.m_fixedDate){if(this.m_queryCurrencyTranslation.supportsOffsetInMonths()&&this.m_offset){let e=this.m_negativeOffset?-this.m_referenceDateOffset:this.m_referenceDateOffset;this.m_queryCurrencyTranslation.setDynamicReferenceDateWithOffsetAndGranularity(e,this.m_referenceOffsetGranularity)}else{this.m_queryCurrencyTranslation.setDynamicReferenceDate()}}if(this.m_queryCurrencyTranslation.supportsReferenceDate()&&this.m_fixedDate&&e.notNull(this.m_referenceDate)){this.m_queryCurrencyTranslation.setFixedReferenceDateByDateValue(this.m_referenceDate)}if(this.m_queryCurrencyTranslation.requiresRateName()){this.m_queryCurrencyTranslation.setFixedRateNameByString(e.QctModel.DEFAULT_RATE_NAME)}if(this.m_queryCurrencyTranslation.supportsPlanningParameters()){this.checkApplyCatVersion();if(e.CtRateType.isDefined(this.m_rateType)){this.m_queryCurrencyTranslation.setFixedRateType(this.m_rateType)}else{this.m_queryCurrencyTranslation.setDynamicRateType()}}if(this.m_queryCurrencyTranslation.supportsTargetCurrency()&&e.notNull(this.m_targetCurrency)){this.m_queryCurrencyTranslation.setFixedTargetCurrencyByString(this.m_targetCurrency)}t.resumeEventing()};e.QctModel.prototype.checkApplyCatVersion=function(){if(e.notNull(this.m_queryCurrencyTranslation)){if(e.XStringUtils.isNotNullAndNotEmpty(this.m_rateVersion)){this.m_queryCurrencyTranslation.setFixedRateVersion(this.m_rateVersion)}else if(e.CtCategory.isDefined(this.m_category)){this.m_queryCurrencyTranslation.setFixedCategory(this.m_category)}else{this.m_queryCurrencyTranslation.setDynamicRateVersionAndCategory()}}};e.QctModel.prototype.getCategory=function(){return this.m_category};e.QctModel.prototype.getCurrencyTranslationType=function(){return this.m_queryCurrencyTranslation.getCurrencyTranslationObject()};e.QctModel.prototype.getRateType=function(){return this.m_rateType};e.QctModel.prototype.getRateVersion=function(){return this.m_rateVersion};e.QctModel.prototype.getReferenceDate=function(){return this.m_referenceDate};e.QctModel.prototype.getReferenceDateOffset=function(){return this.m_referenceDateOffset};e.QctModel.prototype.getReferenceOffsetGranularity=function(){return this.m_referenceOffsetGranularity};e.QctModel.prototype.getTargetCurrency=function(){if(e.notNull(this.m_queryCurrencyTranslation)&&!this.m_queryCurrencyTranslation.supportsTargetCurrency()&&e.XStringUtils.isNotNullAndNotEmpty(this.m_queryCurrencyTranslation.getFixedTargetCurrency())){return this.m_queryCurrencyTranslation.getFixedTargetCurrency()}return this.m_targetCurrency};e.QctModel.prototype.isConsiderCurrencyTranslationFromQueryDefinition=function(){return this.m_queryCurrencyTranslation.isApplyPredefinedCurrencyTranslation()};e.QctModel.prototype.isDefineCurrencyTranslation=function(){return this.m_queryCurrencyTranslation.isApplyDefinedCurrencyTranslation()};e.QctModel.prototype.isFixedDate=function(){return this.m_fixedDate};e.QctModel.prototype.isMayConsiderOriginalCurrencyTranslation=function(){return this.m_queryCurrencyTranslation.supportsPredefinedCurrencyTranslation()};e.QctModel.prototype.isMayDefineFixedDate=function(){return this.isDefineCurrencyTranslation()&&this.m_queryCurrencyTranslation.supportsReferenceDate()};e.QctModel.prototype.isMayDefineOffsetInDays=function(){return this.isDefineCurrencyTranslation()&&!this.m_queryCurrencyTranslation.requiresReferenceDate()&&this.m_queryCurrencyTranslation.supportsOffsetInDays()};e.QctModel.prototype.isMayDefineOffsetInMonths=function(){return this.isDefineCurrencyTranslation()&&!this.m_queryCurrencyTranslation.requiresReferenceDate()&&this.m_queryCurrencyTranslation.supportsOffsetInMonths()};e.QctModel.prototype.isMayDefinePlanningParameters=function(){return this.isDefineCurrencyTranslation()&&this.m_queryCurrencyTranslation.supportsPlanningParameters()};e.QctModel.prototype.isMayDefineTargetCurrency=function(){return this.isDefineCurrencyTranslation()&&this.m_queryCurrencyTranslation.supportsTargetCurrency()};e.QctModel.prototype.isNegativeOffset=function(){return this.m_negativeOffset};e.QctModel.prototype.isOffset=function(){return this.m_offset};e.QctModel.prototype.isShowTechnical=function(){return this.m_showTechnical};e.QctModel.prototype.setCategory=function(t){this.m_category=t;if(e.CtCategory.isDefined(this.m_category)){this.m_rateVersion=null}};e.QctModel.prototype.setConsiderCurrencyTranslationFromQueryDefinition=function(e){this.m_queryCurrencyTranslation.setApplyPredefinedCurrencyTranslation(e)};e.QctModel.prototype.setCurrencyTranslationType=function(t){this.m_queryCurrencyTranslation.setCurrencyTranslationObject(t);if(e.notNull(t)){if(e.XString.isEqual(t.getName(),e.QctModel.CUSTOM)){t.copyFrom(this.m_queryCurrencyTranslation.getCurrencyTranslationObject(),null)}this.m_queryCurrencyTranslation.setCurrencyTranslationObject(t)}this.updateByCurrencyTranslationType()};e.QctModel.prototype.setDefineCurrencyTranslation=function(e){this.m_queryCurrencyTranslation.setApplyDefinedCurrencyTranslation(e)};e.QctModel.prototype.setFixedDate=function(e){this.m_fixedDate=e};e.QctModel.prototype.setNegativeOffset=function(e){this.m_negativeOffset=e};e.QctModel.prototype.setOffset=function(e){this.m_offset=e};e.QctModel.prototype.setRateType=function(t){if(e.notNull(this.m_queryCurrencyTranslation)){this.m_rateType=t}};e.QctModel.prototype.setRateVersion=function(t){if(e.XString.isEqual(t,e.QctModel.DYNAMIC)||e.XStringUtils.isNullOrEmpty(t)){this.m_rateVersion=null}else{this.m_rateVersion=t}if(e.XStringUtils.isNotNullAndNotEmpty(this.m_rateVersion)){this.m_category=null}};e.QctModel.prototype.setReferenceDate=function(e){this.m_referenceDate=e};e.QctModel.prototype.setReferenceDateOffset=function(e){this.m_referenceDateOffset=e};e.QctModel.prototype.setReferenceOffsetGranularity=function(e){this.m_referenceOffsetGranularity=e};e.QctModel.prototype.setShowTechnical=function(e){this.m_showTechnical=e;this.callListeners()};e.QctModel.prototype.setTargetCurrency=function(e){this.m_targetCurrency=e};e.QctModel.prototype.setupExt=function(e){this.m_queryCurrencyTranslation=e.getQueryCurrencyTranslation();this.updateByCurrencyTranslationType()};e.QctModel.prototype.updateByCurrencyTranslationType=function(){this.m_rateVersion=this.m_queryCurrencyTranslation.getFixedRateVersion();this.m_referenceDate=this.m_queryCurrencyTranslation.getFixedReferenceDate();this.m_referenceOffsetGranularity=this.m_queryCurrencyTranslation.getDateOffsetGranularity();this.m_rateType=this.m_queryCurrencyTranslation.getFixedRateType();this.m_category=this.m_queryCurrencyTranslation.getFixedCategory();if(this.m_queryCurrencyTranslation.supportsTargetCurrency()){this.m_targetCurrency=this.m_queryCurrencyTranslation.getFixedTargetCurrency()}if(e.isNull(this.m_referenceOffsetGranularity)){this.m_referenceOffsetGranularity=e.DateOffsetGranularity.MONTH}this.m_negativeOffset=this.m_queryCurrencyTranslation.getDateOffset()<0;this.m_referenceDateOffset=this.m_negativeOffset?-this.m_queryCurrencyTranslation.getDateOffset():this.m_queryCurrencyTranslation.getDateOffset();this.m_offset=this.m_referenceDateOffset!==0&&e.notNull(this.m_referenceOffsetGranularity);this.m_fixedDate=this.m_queryCurrencyTranslation.isReferenceDateFixed()||this.m_queryCurrencyTranslation.requiresReferenceDate()};e.OuMeasureInputDataProviderAccount=function(){};e.OuMeasureInputDataProviderAccount.prototype=new e.OuMeasureInputDataProvider;e.OuMeasureInputDataProviderAccount.prototype._ff_c="OuMeasureInputDataProviderAccount";e.OuMeasureInputDataProviderAccount.create=function(t){let i=new e.OuMeasureInputDataProviderAccount;i.setupInternal(t);return i};e.OuMeasureInputDataProviderAccount.prototype.assertQueryModelType=function(t){e.XObjectExt.assertTrueExt(t.isAccountModel(),"Query model should be 'account model'")};e.OuMeasureInputDataProviderAccount.prototype.getMemberDimension=function(){let e=this.m_queryModel.getAccountDimension();if(e.getAllStructureMembers().size()===0){e=this.m_queryModel.getMeasureDimension()}return e};e.OuMeasureInputDataProviderMeasureModel=function(){};e.OuMeasureInputDataProviderMeasureModel.prototype=new e.OuMeasureInputDataProvider;e.OuMeasureInputDataProviderMeasureModel.prototype._ff_c="OuMeasureInputDataProviderMeasureModel";e.OuMeasureInputDataProviderMeasureModel.create=function(t){let i=new e.OuMeasureInputDataProviderMeasureModel;i.setupInternal(t);return i};e.OuMeasureInputDataProviderMeasureModel.prototype.assertQueryModelType=function(t){e.XObjectExt.assertTrueExt(t.getAccountDimension()===null,"Query model should be 'measure model'")};e.OuMeasureInputDataProviderMeasureModel.prototype.getMemberDimension=function(){return this.m_queryModel.getMeasureDimension()};e.OuMeasureInputDataProviderUAM=function(){};e.OuMeasureInputDataProviderUAM.prototype=new e.OuMeasureInputDataProvider;e.OuMeasureInputDataProviderUAM.prototype._ff_c="OuMeasureInputDataProviderUAM";e.OuMeasureInputDataProviderUAM.create=function(t){let i=new e.OuMeasureInputDataProviderUAM;i.setupInternal(t);return i};e.OuMeasureInputDataProviderUAM.prototype.assertQueryModelType=function(t){e.XObjectExt.assertTrueExt(t.isUniversalAccountModel(),"Query model should be 'Universal Account Model'")};e.OuMeasureInputDataProviderUAM.prototype.getMemberDimension=function(){let e=this.m_queryModel.getAccountDimension();if(e.getAllStructureMembers().size()===0){e=this.m_queryModel.getMeasureDimension()}return e};e.HierarchyCatalogCallbackLambda=function(){};e.HierarchyCatalogCallbackLambda.prototype=new e.XObject;e.HierarchyCatalogCallbackLambda.prototype._ff_c="HierarchyCatalogCallbackLambda";e.HierarchyCatalogCallbackLambda.createForCreation=function(t){let i=new e.HierarchyCatalogCallbackLambda;i.m_creationCallback=t;return i};e.HierarchyCatalogCallbackLambda.createForResult=function(t){let i=new e.HierarchyCatalogCallbackLambda;i.m_resultCallback=t;return i};e.HierarchyCatalogCallbackLambda.prototype.m_creationCallback=null;e.HierarchyCatalogCallbackLambda.prototype.m_resultCallback=null;e.HierarchyCatalogCallbackLambda.prototype.onHierarchyCatalogManagerCreated=function(e,t,i){this.m_creationCallback(e);this.releaseObject()};e.HierarchyCatalogCallbackLambda.prototype.onHierarchyCatalogResult=function(e,t,i){this.m_resultCallback(e);this.releaseObject()};e.HierarchyCatalogCallbackLambda.prototype.releaseObject=function(){this.m_creationCallback=null;this.m_resultCallback=null;e.XObject.prototype.releaseObject.call(this)};e.DataExportHelper=function(){};e.DataExportHelper.prototype=new e.XObject;e.DataExportHelper.prototype._ff_c="DataExportHelper";e.DataExportHelper.OVERWRITE_APPENDIX_CREATED_BY="FF_DATA_EXPORT_OVERWRITE_APPENDIX_CREATED_BY";e.DataExportHelper.OVERWRITE_APPENDIX_CREATED_ON_TIMESTAMP="FF_DATA_EXPORT_OVERWRITE_APPENDIX_CREATED_ON_TIMESTAMP";e.DataExportHelper.applyOriginalApplicationSettings=function(e,t,i){e.setUserProfile(i);let o=t.getKeysAsIterator();while(o.hasNext()){let i=o.next();let n=t.getByKey(i);e.putOverwriteText(i,n)}};e.DataExportHelper.applyTableDefinition=function(t,i,o){i.setRepetitiveMemberNames(o.getShowRepetitiveMembers());i.getApplicationSettings().setSkipTableCellWidthCalc(o.hasAutoColWidths());if(e.notNull(t)){i.getApplicationSettings().setDerivePercentageFromShift(t.getApplicationSettings().isDerivePercentageFromShift())}};e.DataExportHelper.applyWindowingSettings=function(e){e.setMaxColumns(-1);e.setMaxRows(-1);e.setMinColumnsFetch(-1);e.setMinRowsFetch(-1)};e.DataExportHelper.copyPropertiesMissedByClone=function(t,i){i.getFilter().linkFilters(t.getFilter().getLinkedFilters());let o=e.DataExportHelper.getMeasureDimension(t);let n=e.DataExportHelper.getMeasureDimension(i);i.getVisualizationManager().getApplicationSettings().copyFrom(t.getVisualizationManager().getApplicationSettings(),null);if(e.notNull(n)&&e.notNull(o)){let e=n.getAllStructureMembers();let t=o.getAllStructureMembers();for(let i=0;i<e.size();i++){let o=e.get(i);let n=t.get(i);if(n.getNumericShift()!==null){o.setNumericShift(n.getNumericShift().getInteger())}o.setScaleFormat(n.getScaleFormat());if(n.getNumericScale()!==null){o.setNumericScale(n.getNumericScale().getInteger())}o.setSignPresentation(n.getSignPresentation());o.setScaleAndUnitPlacement(n.getScaleAndUnitPlacement())}}};e.DataExportHelper.create=function(t,i,o,n){let a=new e.DataExportHelper;a.m_queryManager=t.cloneQueryManager();a.m_originalTableDef=i;e.DataExportHelper.copyPropertiesMissedByClone(t.getQueryModel(),a.m_queryManager.getQueryModel());a.m_process=t.getProcess();a.m_overwriteTexts=t.getQueryModel().getVisualizationManager().getApplicationSettings().getOverwriteTexts();a.m_onError=o;a.m_onComplete=n;a.m_scheduleExportHelper=e.SuExportScheduleHelper.create(a.m_process);a.m_processedDimensions=e.XHashSetOfString.create();return a};e.DataExportHelper.createForTest=function(t,i,o,n){let a=e.DataExportHelper.create(t,i,o,n);a.isUnderTest=true;return a};e.DataExportHelper.getDisplayMessageFromResult=function(t){let i=e.DataExportHelper.getLocalizationProvider();let o=t.getWarnings();let n="";let a=o.getIterator();while(a.hasNext()){if(e.XStringUtils.isNotNullAndNotEmpty(n)){n=e.XStringUtils.concatenate2(n,"\n")}let t=a.next();n=e.XStringUtils.concatenate2(n,i.getTextWithPlaceholder(t.getFirstString(),i.getText(t.getSecondString())))}return n};e.DataExportHelper.getLocalizationProvider=function(){return e.XLocalizationCenter.getCenter().getLocalizationProviderByName(e.DataExportHelperI18n.PROVIDER_NAME)};e.DataExportHelper.getMeasureDimension=function(e){if(e.isLeadingStructureAccount()){return e.getAccountDimension()}return e.getMeasureDimension()};e.DataExportHelper.prototype.isUnderTest=false;e.DataExportHelper.prototype.m_config=null;e.DataExportHelper.prototype.m_expModel=null;e.DataExportHelper.prototype.m_json=null;e.DataExportHelper.prototype.m_newTableDef=null;e.DataExportHelper.prototype.m_onComplete=null;e.DataExportHelper.prototype.m_onError=null;e.DataExportHelper.prototype.m_originalTableDef=null;e.DataExportHelper.prototype.m_overwriteTexts=null;e.DataExportHelper.prototype.m_process=null;e.DataExportHelper.prototype.m_processedDimensions=null;e.DataExportHelper.prototype.m_queryManager=null;e.DataExportHelper.prototype.m_savedQueryModelState=null;e.DataExportHelper.prototype.m_scheduleExportHelper=null;e.DataExportHelper.prototype.m_table=null;e.DataExportHelper.prototype.buildFilterTable=function(t){let i="";if(this.m_queryManager.getDimensionAccessor().getAccountDimension()!==null){i=this.m_queryManager.getDimensionAccessor().getAccountDimension().getName()}else{i=this.m_overwriteTexts.getByKey(e.SacTableConstants.S_MEASURE_DIMENSION_OVERWRITE_TEXT);if(e.XStringUtils.isNullOrEmpty(i)&&this.m_queryManager.getQueryModel().getMeasureDimension()!==null){i=this.m_queryManager.getQueryModel().getMeasureDimension().getName()}}if(e.XStringUtils.isNotNullAndNotEmpty(i)){this.m_processedDimensions.add(i)}let o=e.DataExportHelper.getLocalizationProvider();let n=this.m_queryManager.getQueryModel().getDimensionAccessor().getDimensions().getIterator();while(n.hasNext()){let a=n.next();if(!a.isMeasureStructure()&&!e.XString.isEqual(a.getName(),i)){let i=a.getFilter();if(e.notNull(i)&&i.hasElements()&&!this.m_processedDimensions.contains(a.getName())&&!a.isStructure()){this.m_processedDimensions.add(a.getName());t.addFilterRow(this.getDimensionName(a),o.getText(e.DataExportHelperI18n.APPENDIX_FILTER_OPERATOR_TITLE),o.getText(e.DataExportHelperI18n.APPENDIX_FILTER_VALUE_TITLE));let n=e.FilterDialogValueFactory.createSelectionFromFilter(a,i).getIterator();while(n.hasNext()){let e=n.next();t.addFilterRow("",this.getFilterOperation(e),this.getFilterValueDisplayText(e))}}}}let a=this.m_queryManager.getQueryModel().getFilter();if(e.notNull(a)){let n=a.getLinkedFilters().getIterator();while(n.hasNext()){let a=n.next().getFilterRootElement();if(a.getOlapComponentType()===e.FilterComponentType.FILTER_MEASURE_BASED){let n=a;let r=e.FilterDialogMBFUtils.getFilterRanges(n).getIterator();t.addMeasureFilterRow(i,this.getDimensionContext(n),o.getText(e.DataExportHelperI18n.APPENDIX_FILTER_OPERATOR_TITLE),o.getText(e.DataExportHelperI18n.APPENDIX_FILTER_VALUE_TITLE));while(r.hasNext()){let i=r.next();let o=e.FilterDialogMBFUtils.getMemberName(n);t.addMeasureFilterRow("",e.notNull(o)?o:"",this.getFilterOperation(i),this.getFilterValueDisplayText(i))}}}let r=e.ComplexFilterSeparationUtil.getIsolatedCartesianIntersectFilters(this.m_queryManager.getQueryModel());if(e.notNull(r)){let i=r.getKeysAsIterator();while(i.hasNext()){let n=i.next();if(this.m_queryManager.getQueryModel().getDimensionByName(n)!==null&&!this.m_processedDimensions.contains(n)){let i=r.getByKey(n);t.addFilterRow(n,o.getText(e.DataExportHelperI18n.APPENDIX_FILTER_OPERATOR_TITLE),o.getText(e.DataExportHelperI18n.APPENDIX_FILTER_VALUE_TITLE));let a=i.getIterator();while(a.hasNext()){let o=a.next();if(o.getOlapComponentType()===e.FilterComponentType.CARTESIAN_LIST){let n=o;for(let i=0;i<n.size();i++){let o=n.getCartesianElement(i);let a=this.getOperator(e.VdComparisonOperator.lookupExt(o.getComparisonOperator().getName(),o.getSetSign()===e.SetSign.EXCLUDING));let r=o.getLow();let l=o.getHigh();let s="";let u="";if(e.notNull(r)&&r.getValue()!==null){s=r.getValue().toString()}if(e.notNull(l)&&l.getValue()!==null){u=l.getValue().toString()}if(e.XStringUtils.isNotNullAndNotEmpty(u)){s=e.XStringUtils.concatenate3(s," - ",u)}t.addFilterRow("",a,s)}if(a.hasNext()){t.addFilterRow("",i.getComponentType().getName(),"")}}}}}}}};e.DataExportHelper.prototype.buildVariableTable=function(t){let i=this.m_queryManager.getSystemType().isTypeOf(e.SystemType.BW);let o=this.m_queryManager.getVariables().getIterator();while(o.hasNext()){let n=o.next();if(!n.isEmpty()&&!n.isTechnicalVariable()){let o=e.VdImportExport.getValuesFromVariable(n).getIterator();if(o.hasNext()){if(n.getVariableType().isTypeOf(e.VariableType.DIMENSION_MEMBER_VARIABLE)){let e=n;if(i&&e.getDimension()!==null){this.m_processedDimensions.add(e.getDimension().getName())}}let a="";if(e.XStringUtils.isNotNullAndNotEmpty(n.getText())){a=n.getText()}else{a=n.getName()}let r=e.DataExportHelper.getLocalizationProvider();t.addVariableRow(a,r.getText(e.DataExportHelperI18n.APPENDIX_FILTER_OPERATOR_TITLE),r.getText(e.DataExportHelperI18n.APPENDIX_FILTER_VALUE_TITLE));while(o.hasNext()){let i=o.next();let n=this.getFilterValueDisplayText(i.getFirstOperand());let a=this.getFilterValueDisplayText(i.getSecondOperand());if(e.XStringUtils.isNotNullAndNotEmpty(a)){n=e.XStringUtils.concatenate3(n," - ",a)}t.addVariableRow("",this.getOperator(i.getOperator()),n)}}}}};e.DataExportHelper.prototype.createAppendix=function(){let t=e.DataExportHelper.getLocalizationProvider();let i=t.getText(e.DataExportHelperI18n.APPENDIX_TITLE);let o=t.getText(e.DataExportHelperI18n.APPENDIX_TECHNICAL_TITLE);let n=t.getText(e.DataExportHelperI18n.APPENDIX_TENANT_TITLE);let a=t.getText(e.DataExportHelperI18n.APPENDIX_QUERY_TITLE);let r=t.getText(e.DataExportHelperI18n.APPENDIX_INFO_PROVIDER_TITLE);let l=t.getText(e.DataExportHelperI18n.APPENDIX_MODEL_TITLE);let s=t.getText(e.DataExportHelperI18n.APPENDIX_CREATED_BY_TITLE);let u=t.getText(e.DataExportHelperI18n.APPENDIX_CREATED_ON_TITLE);let m=t.getText(e.DataExportHelperI18n.APPENDIX_VARIABLES_TITLE);let p=t.getText(e.DataExportHelperI18n.APPENDIX_FILTERS_TITLE);let d=t.getText(e.DataExportHelperI18n.APPENDIX_MEASURE_FILTERS_TITLE);let c=e.Appendix.create(i,o,n,a,r,l,s,u,m,p,d);c.setTenantData(this.m_process.getNetworkLocation());c.setQueryData(this.m_config,this.m_queryManager.getQueryModel().getName(),this.m_queryManager.getQueryModel().getText(),this.m_queryManager.getSystemType());if(this.m_queryManager.getQueryModel().getInfoProvider()!==null){c.setInfoProviderData(this.m_queryManager.getQueryModel().getInfoProvider().getName(),this.m_queryManager.getQueryModel().getInfoProvider().getText())}if(this.m_overwriteTexts.containsKey(e.DataExportHelper.OVERWRITE_APPENDIX_CREATED_BY)){c.setCreatedBy(this.m_overwriteTexts.getByKey(e.DataExportHelper.OVERWRITE_APPENDIX_CREATED_BY))}else{c.setCreatedBy(this.m_process.getUserProfile().getName())}if(this.m_overwriteTexts.containsKey(e.DataExportHelper.OVERWRITE_APPENDIX_CREATED_ON_TIMESTAMP)){c.setCreatedOnString(this.m_overwriteTexts.getByKey(e.DataExportHelper.OVERWRITE_APPENDIX_CREATED_ON_TIMESTAMP))}else{c.setCreatedOn(e.XDateTime.create())}this.buildVariableTable(c);this.buildFilterTable(c);return c};e.DataExportHelper.prototype.exportData=function(t){if(e.isNull(t)){this.onError(e.DataExportHelper.getLocalizationProvider().getText(e.DataExportHelperI18n.UKNOWN_EXPORT_CONFIG));return}try{this.m_config=t;if(this.m_config.getVdVariableValues()!==null&&!e.XStringUtils.isNullOrEmpty(this.m_config.getVdValueFormat())){let t=e.VdValueFormat.lookup(this.m_config.getVdValueFormat());let i=t.getParser().deserialize(this.m_queryManager,this.m_config.getVdVariableValues());if(this.m_config.getVdSuppressExitVariables()){let t=i.getKeysAsIterator();while(t.hasNext()){let o=t.next();let n=this.m_queryManager.getVariable(o);if(e.notNull(n)&&n.isDynamicOrExitVariable()){i.remove(o)}}}e.VdImportExport.setValuesToProcessor(this.m_queryManager,i);this.m_queryManager.stopEventing();let o=this.m_queryManager.getVariables();e.XStream.of(o).filter(t=>t.getVariableType().isTypeOf(e.VariableType.DIMENSION_MEMBER_VARIABLE)).filter(e=>!e.isHierarchyInfoVariableForExplicitlyInactivatedHierarchy()).map(e=>e).forEach(e=>{e.setWinControlInAutoSubmit(true)});this.m_queryManager.resumeEventing()}if(this.m_config.supportsAppendix()){this.m_config.addAppendix(this.createAppendix())}if(this.m_config.getExpandHierarchy()){this.m_queryManager.getQueryModel().getDrillManager().removeAllContextDrillOperations();this.m_queryManager.getQueryModel().getDrillManager().removeAllZoomDrillOperations();let e=e=>{while(e.hasNext()){let t=e.next();if(t.isHierarchyActive()){t.setInitialDrillLevel(-1)}}};let t=this.m_queryManager.getQueryModel().getRowsAxis().getIterator();e(t);let i=this.m_queryManager.getQueryModel().getColumnsAxis().getIterator();e(i)}if(this.m_config.skipNumberFormatting()){let t=e.DataExportHelper.getMeasureDimension(this.m_queryManager.getQueryModel());if(e.notNull(t)){let e=t.getAllStructureMembers();for(let t=0;t<e.size();t++){let i=e.get(t);i.setNumericShift(0)}}}let i=e.DataExportHelper.getLocalizationProvider();if(e.XStringUtils.isNullOrEmpty(this.m_config.getFileName())){this.m_config.setFileName(i.getText(e.DataExportHelperI18n.DEFAULT_EXPORT_FILE_NAME))}let o=e.XStringUtils.concatenate2(i.getText(e.DataExportHelperI18n.ID_PREFIX),this.m_config.getFileName());this.m_newTableDef=this.m_queryManager.getQueryModel().getVisualizationManager().getOrCreateVisualisationDefinition(o,e.ProtocolBindingType.SAC_TABLE_GRID,e.SemanticBindingType.TABLE);this.m_newTableDef.setShowDimensionTitles(e.TriStateBool._TRUE);if(!this.m_queryManager.isSubmitNeeded()||this.m_queryManager.getModelCapabilities().supportsAutoVariableSubmit()){this.getResultSet()}else{this.submitVariables()}}catch(e){this.onThrowable(e)}};e.DataExportHelper.prototype.getDimensionContext=function(t){let i=t.getDimensionContext();let o="";if(e.notNull(i)){let t=i.getIterator();while(t.hasNext()){if(e.XStringUtils.isNotNullAndNotEmpty(o)){o=e.XStringUtils.concatenate2(o,", ")}o=e.XStringUtils.concatenate2(o,t.next())}}return o};e.DataExportHelper.prototype.getDimensionName=function(e){if(e.getText()!==null){return e.getText()}return e.getName()};e.DataExportHelper.prototype.getFilterOperation=function(t){let i=e.VdComparisonOperator.lookupExt(t.getComparisonOperator().getName(),t.isExcluded());if(e.notNull(i)){return this.getOperator(i)}return t.getComparisonOperator().getDisplayString()};e.DataExportHelper.prototype.getFilterValueDisplayText=function(t){let i="";if(e.notNull(t)){if(e.XStringUtils.isNotNullAndNotEmpty(t.getText())){i=t.getText()}else if(e.XStringUtils.isNotNullAndNotEmpty(t.getDisplayKey())){i=t.getDisplayKey()}else if(t.getType()===e.FilterDialogValueType.RANGE){let o=t;i=e.XStringUtils.concatenate3(o.getLow().getDisplayKey()," - ",o.getHigh().getDisplayKey())}else{i=t.getKey()}}return i};e.DataExportHelper.prototype.getOperator=function(t){if(t===e.VdComparisonOperator.NOT_EQUAL){return"!="}if(t===e.VdComparisonOperator.UNDEFINED){return e.VdComparisonOperator.EQUAL.getShortText()}return t.getShortText()};e.DataExportHelper.prototype.getResultSet=function(){this.m_scheduleExportHelper.postStatusNotificationWithData(e.SuExportScheduleHelper.EXPORT_NOTIFICATION_NAME,"RESULT_SET_COLLECTION_STARTED",e.SuExportScheduleNotificationType.INFO,null);let t=e.XStringUtils.concatenate2(e.DataExportHelper.getLocalizationProvider().getText(e.DataExportHelperI18n.ID_PREFIX),this.m_config.getFileName());let i=this.m_queryManager.getQueryModel().getVisualizationManager();this.m_newTableDef=i.getOrCreateVisualisationDefinition(t,e.ProtocolBindingType.SAC_TABLE_GRID,e.SemanticBindingType.TABLE);this.m_newTableDef.setShowDimensionTitles(e.TriStateBool._TRUE);if(e.notNull(this.m_originalTableDef)){i.getTableTemplateLinker().copyFrom(this.m_originalTableDef.getQueryModel().getVisualizationManager().getTableTemplateLinker(),null);this.m_newTableDef.getTemplateLinker().copyFrom(this.m_originalTableDef.getTemplateLinker(),null)}let o=this.m_queryManager.getQueryModel().getVisualizationManager().getApplicationSettings();e.DataExportHelper.applyWindowingSettings(o);e.DataExportHelper.applyOriginalApplicationSettings(o,this.m_overwriteTexts,this.m_process.getUserProfile());e.DataExportHelper.applyTableDefinition(this.m_originalTableDef,this.m_newTableDef,this.m_config);if(this.isUnderTest){this.m_newTableDef.getActiveTableContainer().processExecution(e.SyncType.BLOCKING,null,null);this.onSynchronized(this.m_queryManager.getResultSetMessages(),null,null)}else{this.m_newTableDef.getActiveTableContainer().attachListener(this,e.ListenerType.SYNC_LISTENER,null);this.m_newTableDef.getActiveTableContainer().processExecution(e.SyncType.NON_BLOCKING,null,null)}};e.DataExportHelper.prototype.messagesHandler=function(t){let i="";while(e.notNull(t)&&t.hasNext()){i=e.XStringUtils.concatenate2(i,t.next().getText());if(t.hasNext()){i=e.XStringUtils.concatenate2(i,"\n")}}this.onError(i)};e.DataExportHelper.prototype.onComplete=function(t){if(e.notNull(this.m_onComplete)){this.m_onComplete(t)}if(!this.isUnderTest){this.releaseObject()}};e.DataExportHelper.prototype.onError=function(t){if(e.notNull(this.m_onError)){this.m_onError(t)}e.XLogger.println(e.XStringUtils.concatenate2("Error occurred in DataExportHelper: ",t));if(!this.isUnderTest){this.releaseObject()}};e.DataExportHelper.prototype.onSynchronized=function(t,i,o){if(e.notNull(t)&&t.hasErrors()){this.m_scheduleExportHelper.postStatusNotificationWithData(e.SuExportScheduleHelper.EXPORT_NOTIFICATION_NAME,"RESULT_SET_COLLECTION_FAILED",e.SuExportScheduleNotificationType.ERROR,null);this.messagesHandler(t.getErrors().getIterator())}else{this.m_scheduleExportHelper.postStatusNotificationWithData(e.SuExportScheduleHelper.EXPORT_NOTIFICATION_NAME,"RESULT_SET_COLLECTION_COMPLETE",e.SuExportScheduleNotificationType.INFO,null);this.processExport()}};e.DataExportHelper.prototype.onThrowable=function(t){this.onError(e.XException.getMessage(t))};e.DataExportHelper.prototype.onVariableProcessorExecuted=function(t,i,o){if(e.notNull(t)&&t.hasErrors()){this.m_scheduleExportHelper.postStatusNotificationWithData(e.SuExportScheduleHelper.EXPORT_NOTIFICATION_NAME,"VARIABLE_SUBMIT_FAILED",e.SuExportScheduleNotificationType.ERROR,null);this.messagesHandler(t.getErrors().getIterator())}else{let t=this.m_queryManager.getQueryModel().getVariableContainer().serializeToElement(e.QModelFormat.INA_REPOSITORY_DELTA);if(e.notNull(this.m_savedQueryModelState)){this.m_queryManager.getQueryModel().deserializeFromElementExt(e.QModelFormat.INA_REPOSITORY_DELTA,this.m_savedQueryModelState);e.XObjectExt.release(this.m_savedQueryModelState);this.m_savedQueryModelState=null}this.m_queryManager.getQueryModel().getVariableContainer().deserializeFromElementExt(e.QModelFormat.INA_REPOSITORY_DELTA,t);this.m_scheduleExportHelper.postStatusNotificationWithData(e.SuExportScheduleHelper.EXPORT_NOTIFICATION_NAME,"VARIABLE_SUBMIT_COMPLETED",e.SuExportScheduleNotificationType.INFO,null);this.getResultSet()}};e.DataExportHelper.prototype.processExport=function(){try{this.m_scheduleExportHelper.postStatusNotificationWithData(e.SuExportScheduleHelper.EXPORT_NOTIFICATION_NAME,"STARTING_EXPORT_FILE_PROCESSING",e.SuExportScheduleNotificationType.INFO,null);this.m_table=this.m_newTableDef.getActiveVisualizationContainer().getVisualizationData();this.m_expModel=e.Model.create();this.m_expModel.processTable(this.m_config,this.m_table);let t=e.Exporter.create();let i;if(this.isUnderTest){i=e.ExportResult.createSuccessForTest(this.m_expModel)}else{i=this.m_config.getExportResult(t,this.m_expModel)}if(!i.success()){this.m_scheduleExportHelper.postStatusNotificationWithData(e.SuExportScheduleHelper.EXPORT_NOTIFICATION_NAME,"EXPORT_FILE_PROCESSING_FAILED",e.SuExportScheduleNotificationType.ERROR,null);if(i.hasWarnings()){this.onError(e.DataExportHelper.getDisplayMessageFromResult(i))}else{this.onError(e.DataExportHelper.getLocalizationProvider().getText(e.DataExportHelperI18n.GENERIC_EXPORT_FAILURE))}}else{this.m_scheduleExportHelper.postStatusNotificationWithData(e.SuExportScheduleHelper.EXPORT_NOTIFICATION_NAME,"EXPORT_COMPLETED",e.SuExportScheduleNotificationType.INFO,null);this.onComplete(i)}}catch(e){this.onThrowable(e)}};e.DataExportHelper.prototype.releaseObject=function(){this.m_onError=null;this.m_onComplete=null;e.XObjectExt.release(this.m_processedDimensions);e.XObjectExt.release(this.m_savedQueryModelState);e.XObjectExt.release(this.m_expModel);e.XObjectExt.release(this.m_json);e.XObjectExt.release(this.m_table);e.XObjectExt.release(this.m_newTableDef);e.XObjectExt.release(this.m_config);e.XObjectExt.release(this.m_queryManager);e.XObjectExt.release(this.m_scheduleExportHelper);e.XObject.prototype.releaseObject.call(this)};e.DataExportHelper.prototype.showExportDialog=function(t,i,o){let n=e=>{try{this.exportData(e)}catch(e){this.onThrowable(e)}};let a=e.notNull(this.m_originalTableDef)?this.m_originalTableDef.isRepetitiveMemberNames():false;let r=e.ProgramRunner.createRunner(this.m_process,e.SuExportDialog.DEFAULT_PROGRAM_NAME);r.setStringArgument(e.SuExportDialog.PARAM_EXPORT_TYPE,t);r.setStringArgument(e.SuExportDialog.PARAM_FILE_NAME,i);r.setBooleanArgument(e.SuExportDialog.PARAM_SHOW_REP_MEMBERS,a);r.runProgram().then(e=>{let t=e;t.setOkHandler(n);t.setCancelHandler(o);return t},e=>{this.onError(e.getMessage().getText());return null})};e.DataExportHelper.prototype.submitVariables=function(){this.m_savedQueryModelState=this.m_queryManager.getQueryModel().serializeToElement(e.QModelFormat.INA_REPOSITORY_DELTA);if(this.isUnderTest){let t=this.m_queryManager.submitVariables(e.SyncType.BLOCKING,null,null);this.onVariableProcessorExecuted(t,null,null)}else{this.m_scheduleExportHelper.postStatusNotificationWithData(e.SuExportScheduleHelper.EXPORT_NOTIFICATION_NAME,"SUBMITTING_VARIABLES",e.SuExportScheduleNotificationType.INFO,null);this.m_queryManager.submitVariables(e.SyncType.NON_BLOCKING,this,null)}};e.OlapUiDialogHandle=function(){};e.OlapUiDialogHandle.prototype=new e.XObject;e.OlapUiDialogHandle.prototype._ff_c="OlapUiDialogHandle";e.OlapUiDialogHandle.DIALOG_CSS_CLASS="ffSacDialog";e.OlapUiDialogHandle.createDialogHandle=function(t){let i=new e.OlapUiDialogHandle;i.setupDialogHandle(t);return i};e.OlapUiDialogHandle.prototype.m_dialog=null;e.OlapUiDialogHandle.prototype.m_genesis=null;e.OlapUiDialogHandle.prototype.addCssClass=function(e){return this.m_dialog.addCssClass(e)};e.OlapUiDialogHandle.prototype.addNewButton=function(){return this.m_dialog.addNewDialogButton()};e.OlapUiDialogHandle.prototype.close=function(){return this.m_dialog.close()};e.OlapUiDialogHandle.prototype.getCssClass=function(){return this.m_dialog.getCssClass()};e.OlapUiDialogHandle.prototype.getGenesis=function(){return this.m_genesis};e.OlapUiDialogHandle.prototype.getListenerOnAfterClose=function(){return this.m_dialog.getListenerOnAfterClose()};e.OlapUiDialogHandle.prototype.getListenerOnAfterOpen=function(){return this.m_dialog.getListenerOnAfterOpen()};e.OlapUiDialogHandle.prototype.getListenerOnBeforeClose=function(){return this.m_dialog.getListenerOnBeforeClose()};e.OlapUiDialogHandle.prototype.getListenerOnBeforeOpen=function(){return this.m_dialog.getListenerOnBeforeOpen()};e.OlapUiDialogHandle.prototype.getListenerOnResize=function(){return this.m_dialog.getListenerOnResize()};e.OlapUiDialogHandle.prototype.getOffsetWidth=function(){return this.m_dialog.getOffsetWidth()};e.OlapUiDialogHandle.prototype.insertNewButton=function(t){let i=this.m_genesis.newControl(e.UiType.DIALOG_BUTTON);this.m_dialog.insertDialogButton(i,t);return i};e.OlapUiDialogHandle.prototype.isBusy=function(){return this.m_dialog.isBusy()};e.OlapUiDialogHandle.prototype.isOpen=function(){return this.m_dialog.isOpen()};e.OlapUiDialogHandle.prototype.isResizable=function(){return this.m_dialog.isResizable()};e.OlapUiDialogHandle.prototype.open=function(){return this.m_dialog.open()};e.OlapUiDialogHandle.prototype.registerOnAfterClose=function(e){return this.m_dialog.registerOnAfterClose(e)};e.OlapUiDialogHandle.prototype.registerOnAfterOpen=function(e){return this.m_dialog.registerOnAfterOpen(e)};e.OlapUiDialogHandle.prototype.registerOnBeforeClose=function(e){return this.m_dialog.registerOnBeforeClose(e)};e.OlapUiDialogHandle.prototype.registerOnBeforeOpen=function(e){return this.m_dialog.registerOnBeforeOpen(e)};e.OlapUiDialogHandle.prototype.registerOnResize=function(e){return this.m_dialog.registerOnResize(e)};e.OlapUiDialogHandle.prototype.releaseObject=function(){if(e.notNull(this.m_dialog)&&this.m_dialog.isOpen()){this.m_dialog.close()}this.m_dialog=e.XObjectExt.release(this.m_dialog);this.m_genesis=e.XObjectExt.release(this.m_genesis);e.XObject.prototype.releaseObject.call(this)};e.OlapUiDialogHandle.prototype.removeCssClass=function(e){return this.m_dialog.removeCssClass(e)};e.OlapUiDialogHandle.prototype.setBusy=function(e){return this.m_dialog.setBusy(e)};e.OlapUiDialogHandle.prototype.setHeight=function(e){this.m_dialog.setHeight(e)};e.OlapUiDialogHandle.prototype.setName=function(e){this.m_dialog.setName(e)};e.OlapUiDialogHandle.prototype.setResizable=function(e){return this.m_dialog.setResizable(e)};e.OlapUiDialogHandle.prototype.setTitle=function(e){this.m_dialog.setTitle(e)};e.OlapUiDialogHandle.prototype.setWidth=function(e){this.m_dialog.setWidth(e)};e.OlapUiDialogHandle.prototype.setupDialogHandle=function(t){this.m_dialog=t;this.m_dialog.addCssClass(e.OlapUiDialogHandle.DIALOG_CSS_CLASS);this.m_dialog.setPadding(e.UiCssBoxEdges.create("1rem"));this.m_genesis=e.UiGenesis.create(this.m_dialog)};e.OlapUiDialogHandle.prototype.shake=function(){this.m_dialog.shake()};e.OlapUiDummyHandle=function(){};e.OlapUiDummyHandle.prototype=new e.XObject;e.OlapUiDummyHandle.prototype._ff_c="OlapUiDummyHandle";e.OlapUiDummyHandle.createDummy=function(){let t=new e.OlapUiDummyHandle;t.m_genesis=e.UiGenesis.create(e.UiContextDummy.getSingleton());return t};e.OlapUiDummyHandle.createFactory=function(){return new e.OlapUiDummyHandle};e.OlapUiDummyHandle.prototype.m_afterClose=null;e.OlapUiDummyHandle.prototype.m_afterOpen=null;e.OlapUiDummyHandle.prototype.m_beforeClose=null;e.OlapUiDummyHandle.prototype.m_beforeOpen=null;e.OlapUiDummyHandle.prototype.m_genesis=null;e.OlapUiDummyHandle.prototype.addCssClass=function(t){return e.UiContextDummy.getSingleton()};e.OlapUiDummyHandle.prototype.addNewButton=function(){return e.UiContextDummy.getSingleton()};e.OlapUiDummyHandle.prototype.close=function(){let t=e.UiControlEvent.create(e.UiContextDummy.getSingleton());if(e.notNull(this.m_beforeClose)){this.m_beforeClose.onBeforeClose(t)}if(e.notNull(this.m_afterClose)){this.m_afterClose.onAfterClose(t)}return e.UiContextDummy.getSingleton()};e.OlapUiDummyHandle.prototype.getCssClass=function(){return null};e.OlapUiDummyHandle.prototype.getGenesis=function(){return this.m_genesis};e.OlapUiDummyHandle.prototype.getInstance=function(){return e.OlapUiDummyHandle.createDummy()};e.OlapUiDummyHandle.prototype.getListenerOnAfterClose=function(){return this.m_afterClose};e.OlapUiDummyHandle.prototype.getListenerOnAfterOpen=function(){return this.m_afterOpen};e.OlapUiDummyHandle.prototype.getListenerOnBeforeClose=function(){return this.m_beforeClose};e.OlapUiDummyHandle.prototype.getListenerOnBeforeOpen=function(){return this.m_beforeOpen};e.OlapUiDummyHandle.prototype.getListenerOnResize=function(){return null};e.OlapUiDummyHandle.prototype.getOffsetWidth=function(){return 0};e.OlapUiDummyHandle.prototype.insertNewButton=function(t){return e.UiContextDummy.getSingleton()};e.OlapUiDummyHandle.prototype.isBusy=function(){return false};e.OlapUiDummyHandle.prototype.isOpen=function(){return false};e.OlapUiDummyHandle.prototype.isResizable=function(){return false};e.OlapUiDummyHandle.prototype.open=function(){if(e.notNull(this.m_afterOpen)){this.m_afterOpen.onAfterOpen(e.UiControlEvent.create(e.UiContextDummy.getSingleton()))}return e.UiContextDummy.getSingleton()};e.OlapUiDummyHandle.prototype.registerOnAfterClose=function(t){this.m_afterClose=t;return e.UiContextDummy.getSingleton()};e.OlapUiDummyHandle.prototype.registerOnAfterOpen=function(t){this.m_afterOpen=t;return e.UiContextDummy.getSingleton()};e.OlapUiDummyHandle.prototype.registerOnBeforeClose=function(t){this.m_beforeClose=t;return e.UiContextDummy.getSingleton()};e.OlapUiDummyHandle.prototype.registerOnBeforeOpen=function(t){this.m_beforeOpen=t;return e.UiContextDummy.getSingleton()};e.OlapUiDummyHandle.prototype.registerOnResize=function(e){return null};e.OlapUiDummyHandle.prototype.removeCssClass=function(t){return e.UiContextDummy.getSingleton()};e.OlapUiDummyHandle.prototype.setBusy=function(t){return e.UiContextDummy.getSingleton()};e.OlapUiDummyHandle.prototype.setHeight=function(e){};e.OlapUiDummyHandle.prototype.setName=function(e){};e.OlapUiDummyHandle.prototype.setResizable=function(e){return null};e.OlapUiDummyHandle.prototype.setTitle=function(e){};e.OlapUiDummyHandle.prototype.setWidth=function(e){};e.OlapUiDummyHandle.prototype.shake=function(){};e.OlapUiNavigationHandle=function(){};e.OlapUiNavigationHandle.prototype=new e.XObject;e.OlapUiNavigationHandle.prototype._ff_c="OlapUiNavigationHandle";e.OlapUiNavigationHandle.createNavigationHandle=function(t,i){let o=new e.OlapUiNavigationHandle;o.setupNavigationHandle(t,i);return o};e.OlapUiNavigationHandle.prototype.m_afterClose=null;e.OlapUiNavigationHandle.prototype.m_afterOpen=null;e.OlapUiNavigationHandle.prototype.m_beforeClose=null;e.OlapUiNavigationHandle.prototype.m_beforeOpen=null;e.OlapUiNavigationHandle.prototype.m_genesis=null;e.OlapUiNavigationHandle.prototype.m_navigationContainer=null;e.OlapUiNavigationHandle.prototype.m_page=null;e.OlapUiNavigationHandle.prototype.addCssClass=function(e){return this.m_navigationContainer.addCssClass(e)};e.OlapUiNavigationHandle.prototype.addNewButton=function(){let t=this.m_genesis.newControl(e.UiType.PAGE_BUTTON);this.m_page.addPageButton(t);return t};e.OlapUiNavigationHandle.prototype.close=function(){if(e.notNull(this.m_beforeClose)){this.m_beforeClose.onBeforeClose(e.UiControlEvent.create(this.m_page))}this.m_navigationContainer.popPage();if(e.notNull(this.m_afterClose)){this.m_afterClose.onAfterClose(e.UiControlEvent.create(this.m_page))}return this.m_page};e.OlapUiNavigationHandle.prototype.getCssClass=function(){return this.m_navigationContainer.getCssClass()};e.OlapUiNavigationHandle.prototype.getGenesis=function(){return this.m_genesis};e.OlapUiNavigationHandle.prototype.getListenerOnAfterClose=function(){return this.m_afterClose};e.OlapUiNavigationHandle.prototype.getListenerOnAfterOpen=function(){return this.m_afterOpen};e.OlapUiNavigationHandle.prototype.getListenerOnBeforeClose=function(){return this.m_beforeClose};e.OlapUiNavigationHandle.prototype.getListenerOnBeforeOpen=function(){return this.m_beforeOpen};e.OlapUiNavigationHandle.prototype.getListenerOnResize=function(){return null};e.OlapUiNavigationHandle.prototype.getOffsetWidth=function(){return 0};e.OlapUiNavigationHandle.prototype.insertNewButton=function(t){let i=this.m_genesis.newControl(e.UiType.PAGE_BUTTON);this.m_page.insertPageButton(i,t);return i};e.OlapUiNavigationHandle.prototype.isBusy=function(){return this.m_genesis.getRoot().isBusy()};e.OlapUiNavigationHandle.prototype.isOpen=function(){return this.m_navigationContainer.getIndexOfPage(this.m_page)!==-1};e.OlapUiNavigationHandle.prototype.isResizable=function(){return false};e.OlapUiNavigationHandle.prototype.open=function(){this.m_navigationContainer.pushPage(this.m_page);if(e.notNull(this.m_afterOpen)){this.m_afterOpen.onAfterOpen(e.UiControlEvent.create(this.m_page))}return this.m_page};e.OlapUiNavigationHandle.prototype.registerOnAfterClose=function(e){this.m_afterClose=e;return this.m_page};e.OlapUiNavigationHandle.prototype.registerOnAfterOpen=function(e){this.m_afterOpen=e;return this.m_page};e.OlapUiNavigationHandle.prototype.registerOnBeforeClose=function(e){this.m_beforeClose=e;return this.m_page};e.OlapUiNavigationHandle.prototype.registerOnBeforeOpen=function(e){this.m_beforeOpen=e;return this.m_page};e.OlapUiNavigationHandle.prototype.registerOnResize=function(e){return null};e.OlapUiNavigationHandle.prototype.releaseObject=function(){this.m_navigationContainer.clearPages();this.m_navigationContainer=null;this.m_page=null;this.m_genesis=e.XObjectExt.release(this.m_genesis);e.XObject.prototype.releaseObject.call(this)};e.OlapUiNavigationHandle.prototype.removeCssClass=function(e){return this.m_navigationContainer.removeCssClass(e)};e.OlapUiNavigationHandle.prototype.setBusy=function(e){this.m_genesis.getRoot().setBusy(e);return this.m_page};e.OlapUiNavigationHandle.prototype.setHeight=function(e){};e.OlapUiNavigationHandle.prototype.setName=function(e){this.m_page.setName(e)};e.OlapUiNavigationHandle.prototype.setResizable=function(e){return null};e.OlapUiNavigationHandle.prototype.setTitle=function(e){this.m_page.setTitle(e)};e.OlapUiNavigationHandle.prototype.setWidth=function(e){};e.OlapUiNavigationHandle.prototype.setupNavigationHandle=function(t,i){this.m_navigationContainer=t;this.m_page=i;this.m_page.setShowNavButton(false);this.m_genesis=e.UiGenesis.create(this.m_page)};e.OlapUiNavigationHandle.prototype.shake=function(){};e.OlapUiPageHandle=function(){};e.OlapUiPageHandle.prototype=new e.XObject;e.OlapUiPageHandle.prototype._ff_c="OlapUiPageHandle";e.OlapUiPageHandle.createPageHandle=function(t){let i=new e.OlapUiPageHandle;i.setupPageHandle(t);return i};e.OlapUiPageHandle.prototype.m_afterClose=null;e.OlapUiPageHandle.prototype.m_afterOpen=null;e.OlapUiPageHandle.prototype.m_beforeClose=null;e.OlapUiPageHandle.prototype.m_beforeOpen=null;e.OlapUiPageHandle.prototype.m_genesis=null;e.OlapUiPageHandle.prototype.m_page=null;e.OlapUiPageHandle.prototype.addCssClass=function(e){return this.m_page.addCssClass(e)};e.OlapUiPageHandle.prototype.addNewButton=function(){let t=this.m_genesis.newControl(e.UiType.PAGE_BUTTON);this.m_page.addPageButton(t);return t};e.OlapUiPageHandle.prototype.close=function(){if(e.notNull(this.m_beforeClose)){this.m_beforeClose.onBeforeClose(e.UiControlEvent.create(this.m_page))}if(e.notNull(this.m_afterClose)){this.m_afterClose.onAfterClose(e.UiControlEvent.create(this.m_page))}return this.m_page};e.OlapUiPageHandle.prototype.getCssClass=function(){return this.m_page.getCssClass()};e.OlapUiPageHandle.prototype.getGenesis=function(){return this.m_genesis};e.OlapUiPageHandle.prototype.getListenerOnAfterClose=function(){return this.m_afterClose};e.OlapUiPageHandle.prototype.getListenerOnAfterOpen=function(){return this.m_afterOpen};e.OlapUiPageHandle.prototype.getListenerOnBeforeClose=function(){return this.m_beforeClose};e.OlapUiPageHandle.prototype.getListenerOnBeforeOpen=function(){return this.m_beforeOpen};e.OlapUiPageHandle.prototype.getListenerOnResize=function(){return null};e.OlapUiPageHandle.prototype.getOffsetWidth=function(){return 0};e.OlapUiPageHandle.prototype.insertNewButton=function(t){let i=this.m_genesis.newControl(e.UiType.PAGE_BUTTON);this.m_page.insertPageButton(i,t);return i};e.OlapUiPageHandle.prototype.isBusy=function(){return this.m_genesis.getRoot().isBusy()};e.OlapUiPageHandle.prototype.isOpen=function(){return this.m_page.getParent()!==null};e.OlapUiPageHandle.prototype.isResizable=function(){return false};e.OlapUiPageHandle.prototype.open=function(){if(e.notNull(this.m_afterOpen)){this.m_afterOpen.onAfterOpen(e.UiControlEvent.create(this.m_page))}return this.m_page};e.OlapUiPageHandle.prototype.registerOnAfterClose=function(e){this.m_afterClose=e;return this.m_page};e.OlapUiPageHandle.prototype.registerOnAfterOpen=function(e){this.m_afterOpen=e;return this.m_page};e.OlapUiPageHandle.prototype.registerOnBeforeClose=function(e){this.m_beforeClose=e;return this.m_page};e.OlapUiPageHandle.prototype.registerOnBeforeOpen=function(e){this.m_beforeOpen=e;return this.m_page};e.OlapUiPageHandle.prototype.registerOnResize=function(e){return null};e.OlapUiPageHandle.prototype.releaseObject=function(){this.m_page=null;this.m_genesis=e.XObjectExt.release(this.m_genesis);e.XObject.prototype.releaseObject.call(this)};e.OlapUiPageHandle.prototype.removeCssClass=function(e){return this.m_page.removeCssClass(e)};e.OlapUiPageHandle.prototype.setBusy=function(e){this.m_genesis.getRoot().setBusy(e);return this.m_page};e.OlapUiPageHandle.prototype.setHeight=function(e){};e.OlapUiPageHandle.prototype.setName=function(e){this.m_page.setName(e)};e.OlapUiPageHandle.prototype.setResizable=function(e){return null};e.OlapUiPageHandle.prototype.setTitle=function(e){this.m_page.setTitle(e)};e.OlapUiPageHandle.prototype.setWidth=function(e){};e.OlapUiPageHandle.prototype.setupPageHandle=function(t){this.m_page=t;this.m_genesis=e.UiGenesis.create(this.m_page)};e.OlapUiPageHandle.prototype.shake=function(){};e.OlapUiValueHelpDimension=function(){};e.OlapUiValueHelpDimension.prototype=new e.OlapUiValueHelpAbstract;e.OlapUiValueHelpDimension.prototype._ff_c="OlapUiValueHelpDimension";e.OlapUiValueHelpDimension.create=function(t){let i=new e.OlapUiValueHelpDimension;i.setupExt(t);return i};e.OlapUiValueHelpDimension.prototype.m_hierarchyChanged=false;e.OlapUiValueHelpDimension.prototype.m_hierarchyName=null;e.OlapUiValueHelpDimension.prototype.configureValueHelp=function(t,i,o,n,a,r,l){e.OlapUiValueHelpAbstract.prototype.configureValueHelp.call(this,t,i,o,n,a,r,l);if(i===e.QMemberReadMode.BOOKED_AND_SPACE_AND_STATE){t.setSelectorCascadingReadModeAndFilter()}};e.OlapUiValueHelpDimension.prototype.getDimension=function(){return this.m_valueRequestObject};e.OlapUiValueHelpDimension.prototype.getHierarchyName=function(){return this.m_hierarchyChanged?this.m_hierarchyName:this.m_valueRequestObject.getHierarchyName()};e.OlapUiValueHelpDimension.prototype.getReadMode=function(t){if(t===e.OlapUiReadMode.QUERY_DEFAULT){let t=this.getDimension();let i=t.getReadModeDefault(this.getSystemType(t).isTypeOf(e.SystemType.HANA)?e.QContextType.RESULT_SET:e.QContextType.SELECTOR);if(e.notNull(i)){return i}}if(t===e.OlapUiReadMode.MASTER){return e.QMemberReadMode.MASTER_AND_SPACE}return t===e.OlapUiReadMode.BOOKED_CASCADING?e.QMemberReadMode.BOOKED_AND_SPACE_AND_STATE:e.QMemberReadMode.BOOKED_AND_SPACE};e.OlapUiValueHelpDimension.prototype.isHierarchicalValueHelp=function(){return this.m_hierarchyChanged?e.XStringUtils.isNotNullAndNotEmpty(this.m_hierarchyName):this.m_valueRequestObject.isHierarchyActive()};e.OlapUiValueHelpDimension.prototype.processChildFetch=function(t,i,o,n,a,r,l){let s=t.getDimension();let u=this.getReadMode(a);this.configureValueHelp(s,u,0,0,o,n,false);s.setSelectorPaging(i,i+o);t.processValueHelpChildFetch(e.OlapUiValueHelpAbstract.s_syncType,r,l)};e.OlapUiValueHelpDimension.prototype.processDataRange=function(t,i){let o=this.m_valueRequestObject;let n=this.getReadMode(e.OlapUiReadMode.BOOKED);let a=o.getQueryModel()!==null&&o.getQueryModel().isValueHelpIgnoreQueryDynamicFilter();let r=this.m_hierarchyChanged;let l=this.m_hierarchyName;this.m_hierarchyChanged=true;this.m_hierarchyName=null;this.configureValueHelp(o,n,0,-1,0,null,true);o.setSelectorGettingInterval(true);o.setSelectorHierarchyActive(false);this.setIgnoreQueryDynamicFilter(true);if(o.getFlatKeyField().getValueType().isDateBased()){o.addSelectorFilterForKey("0001-01-01",e.ComparisonOperator.GREATER_THAN)}o.processValueHelp(e.OlapUiValueHelpAbstract.s_syncType,t,i);this.m_hierarchyChanged=r;this.m_hierarchyName=l;this.setIgnoreQueryDynamicFilter(a)};e.OlapUiValueHelpDimension.prototype.processFetchItems=function(t,i,o,n){let a=this.m_valueRequestObject;if(!this.configureFetchItems(a,this.getReadMode(e.OlapUiReadMode.MASTER),t,i)){o.onValuehelpExecuted(e.ExtResult.create(e.XList.create(),null),null,n);return}a.processValueHelp(e.OlapUiValueHelpAbstract.s_syncType,o,n)};e.OlapUiValueHelpDimension.prototype.processSearch=function(t,i,o,n,a,r,l,s){let u=this.m_valueRequestObject;let m=this.getReadMode(r);this.configureValueHelp(u,m,0,0,n,o,false);let p=this.addNullFilter(t,m);let d=u.addSelectorFilterForFields(t,i,e.ComparisonOperator.MATCH,a,true);if(!p&&!d){l.onValuehelpExecuted(e.ExtResult.create(e.XList.create(),null),null,s);return}u.processValueHelp(e.OlapUiValueHelpAbstract.s_syncType,l,s)};e.OlapUiValueHelpDimension.prototype.processValueHelp=function(t,i,o,n,a,r,l){let s=this.m_valueRequestObject;let u=this.getReadMode(a);this.configureValueHelp(s,u,t,i,o,n,true);s.processValueHelp(e.OlapUiValueHelpAbstract.s_syncType,r,l)};e.OlapUiValueHelpDimension.prototype.releaseObject=function(){e.OlapUiValueHelpAbstract.prototype.releaseObject.call(this);this.m_hierarchyName=null};e.OlapUiValueHelpDimension.prototype.setHierarchyName=function(e){this.m_hierarchyName=e;this.m_hierarchyChanged=true;this.m_valueRequestObject.setSelectorHierarchyActive(this.isHierarchicalValueHelp())};e.OlapUiValueHelpDimension.prototype.setIgnoreQueryDynamicFilter=function(t){let i=this.getDimension();let o=this.getSystemType(i);if(e.notNull(o)&&o.isTypeOf(e.SystemType.ABAP)&&i.getQueryModel()!==null){i.getQueryModel().setIgnoreQueryDynamicFilterInValueHelp(t)}};e.OlapUiValueHelpDimension.prototype.setupExt=function(t){e.OlapUiValueHelpAbstract.prototype.setupExt.call(this,t);let i=t;i.clearSelectorSettings();i.setSelectorHierarchy(this.isHierarchicalValueHelp(),this.getHierarchyName(),0)};e.OlapUiValueHelpVariable=function(){};e.OlapUiValueHelpVariable.prototype=new e.OlapUiValueHelpAbstract;e.OlapUiValueHelpVariable.prototype._ff_c="OlapUiValueHelpVariable";e.OlapUiValueHelpVariable.create=function(t){let i=new e.OlapUiValueHelpVariable;i.setupExt(t);return i};e.OlapUiValueHelpVariable.prototype.getContextType=function(){let t=this.m_valueRequestObject;return this.getSystemType(t.getDimension()).isTypeOf(e.SystemType.ABAP)?e.QContextType.VARIABLE:e.QContextType.SELECTOR};e.OlapUiValueHelpVariable.prototype.getDimension=function(){return this.m_valueRequestObject.getDimension()};e.OlapUiValueHelpVariable.prototype.getHierarchyName=function(){let t=this.m_valueRequestObject;let i=t.getVariableType();return e.notNull(i)&&i.isTypeOf(e.VariableType.HIERARCHY_NODE_VARIABLE)?t.getHierarchyName():null};e.OlapUiValueHelpVariable.prototype.getReadMode=function(t){if(t===e.OlapUiReadMode.QUERY_DEFAULT){let t=this.getDimension().getReadModeDefault(this.getContextType());if(e.notNull(t)){return t}}return t===e.OlapUiReadMode.MASTER?e.QMemberReadMode.MASTER:e.QMemberReadMode.BOOKED};e.OlapUiValueHelpVariable.prototype.isHierarchicalValueHelp=function(){return e.XStringUtils.isNotNullAndNotEmpty(this.getHierarchyName())};e.OlapUiValueHelpVariable.prototype.processChildFetch=function(e,t,i,o,n,a,r){let l=this.m_valueRequestObject;this.processChildFetchForVariable(l,e,t,i,o,n,a,r)};e.OlapUiValueHelpVariable.prototype.processChildFetchForVariable=function(t,i,o,n,a,r,l,s){let u=i.getDimension();this.configureValueHelp(u,this.getReadMode(r),0,0,n,a,false);u.setSelectorPaging(o,o+n);if(u.getDataSource().getType()===e.MetaObjectType.DIMENSION){i.processVarHelpChildFetchWithVariable(t,e.OlapUiValueHelpAbstract.s_syncType,l,s)}else{this.processVariableValueHelpWithReinit(t,l,s,()=>{i.processVarHelpChildFetch(t.getName(),e.OlapUiValueHelpAbstract.s_syncType,l,s)})}};e.OlapUiValueHelpVariable.prototype.processDataRange=function(t,i){let o=this.m_valueRequestObject;let n=o.getDimension();this.configureValueHelp(n,this.getReadMode(e.OlapUiReadMode.BOOKED),0,-1,0,null,true);n.setSelectorGettingInterval(true);if(o.getValueType().isDateBased()){n.addSelectorFilterForKey("0001-01-01",e.ComparisonOperator.GREATER_THAN)}this.processVariableValueHelp(o,t,i)};e.OlapUiValueHelpVariable.prototype.processFetchItems=function(t,i,o,n){let a=this.m_valueRequestObject;let r=a.getDimension();if(!this.configureFetchItems(r,this.getReadMode(e.OlapUiReadMode.MASTER),t,i)){o.onValuehelpExecuted(e.ExtResult.create(e.XList.create(),null),null,n);return}this.processVariableValueHelp(a,o,n);r.clearSelectorFilter()};e.OlapUiValueHelpVariable.prototype.processSearch=function(e,t,i,o,n,a,r,l){let s=this.m_valueRequestObject;this.processSearchForVariable(s,e,t,i,o,n,a,r,l)};e.OlapUiValueHelpVariable.prototype.processSearchForVariable=function(t,i,o,n,a,r,l,s,u){let m=t.getDimension();let p=this.getReadMode(l);this.configureValueHelp(m,p,0,0,a,n,false);let d=this.addNullFilter(i,p);let c=m.addSelectorFilterForFields(i,o,e.ComparisonOperator.MATCH,r,true);if(!d&&!c){s.onValuehelpExecuted(e.ExtResult.create(e.XList.create(),null),null,u);return}this.processVariableValueHelp(t,s,u);m.clearSelectorFilter()};e.OlapUiValueHelpVariable.prototype.processValueHelp=function(e,t,i,o,n,a,r){let l=this.m_valueRequestObject;this.processValueHelpForVariable(l,e,t,i,o,n,a,r)};e.OlapUiValueHelpVariable.prototype.processValueHelpForVariable=function(e,t,i,o,n,a,r,l){let s=e.getDimension();this.configureValueHelp(s,this.getReadMode(a),t,i,o,n,true);this.processVariableValueHelp(e,r,l)};e.OlapUiValueHelpVariable.prototype.processVariableValueHelp=function(t,i,o){let n=t.getDimension();if(n.getDataSource().getType()===e.MetaObjectType.PLANNING_SEQUENCE){n.processVarHelpWithVariable(t,e.OlapUiValueHelpAbstract.s_syncType,i,o)}else{this.processVariableValueHelpWithReinit(t,i,o,()=>{n.processVarHelp(t.getName(),e.OlapUiValueHelpAbstract.s_syncType,i,o)})}};e.OlapUiValueHelpVariable.prototype.processVariableValueHelpWithReinit=function(t,i,o,n){if(t.getQueryManager()!==null&&t.getQueryManager().isReinitNeeded()){t.getQueryManager().reInitVariablesAfterSubmit(e.OlapUiValueHelpAbstract.s_syncType,e.VariableProcessorCallbackLambda.createSingleUse(t=>{if(t.hasErrors()){let n=e.ExtResult.create(null,t);i.onValuehelpExecuted(n,null,o);return}n()}),null)}else{n()}};e.OlapUiValueHelpVariable.prototype.setHierarchyName=function(e){};e.OlapUiValueHelpVariable.prototype.setIgnoreQueryDynamicFilter=function(e){};e.OlapUiValueHelpVariable.prototype.setupExt=function(t){e.OlapUiValueHelpAbstract.prototype.setupExt.call(this,t);let i=t.getDimension();i.clearSelectorSettings();i.setSelectorHierarchy(this.isHierarchicalValueHelp(),this.getHierarchyName(),0)};e.OuAxesViewConfiguration=function(){};e.OuAxesViewConfiguration.prototype=new e.OuDesignerViewConfiguration;e.OuAxesViewConfiguration.prototype._ff_c="OuAxesViewConfiguration";e.OuAxesViewConfiguration.createAxesViewConfig=function(t){let i=new e.OuAxesViewConfiguration;i.setupConfig(t);return i};e.OuAxesViewConfiguration.prototype.m_chartProtocolBindingType=null;e.OuAxesViewConfiguration.prototype.m_useRowsAndColumnsSplitterExpandable=false;e.OuAxesViewConfiguration.prototype.getDefaultChartProtocolBindingType=function(){return this.m_chartProtocolBindingType};e.OuAxesViewConfiguration.prototype.isUseRowsAndColumnsSplitterExpandable=function(){return this.m_useRowsAndColumnsSplitterExpandable};e.OuAxesViewConfiguration.prototype.setDefaultChartProtocolBindingType=function(e){this.m_chartProtocolBindingType=e};e.OuAxesViewConfiguration.prototype.setUseRowsAndColumnsSplitterExpandable=function(e){this.m_useRowsAndColumnsSplitterExpandable=e};e.OuChartAxesController=function(){};e.OuChartAxesController.prototype=new e.OuGridAxesController;e.OuChartAxesController.prototype._ff_c="OuChartAxesController";e.OuChartAxesController.createChartController=function(){return new e.OuChartAxesController};e.OuInventoryViewConfiguration=function(){};e.OuInventoryViewConfiguration.prototype=new e.OuDesignerViewConfiguration;e.OuInventoryViewConfiguration.prototype._ff_c="OuInventoryViewConfiguration";e.OuInventoryViewConfiguration.createInventoryViewConfig=function(t){let i=new e.OuInventoryViewConfiguration;i.setupConfig(t);return i};e.OuInventoryViewConfiguration.prototype.m_defaultGroupPresentation=null;e.OuInventoryViewConfiguration.prototype.m_separateSortMenus=false;e.OuInventoryViewConfiguration.prototype.m_showCustomDimension2=false;e.OuInventoryViewConfiguration.prototype.m_showDimensionMoreButton=false;e.OuInventoryViewConfiguration.prototype.m_showGroupExpandCollapseOptions=false;e.OuInventoryViewConfiguration.prototype.m_showGroupPresentationMenu=false;e.OuInventoryViewConfiguration.prototype.getDefaultGroupPresentation=function(){return this.m_defaultGroupPresentation};e.OuInventoryViewConfiguration.prototype.isSeparateSortMenus=function(){return this.m_separateSortMenus};e.OuInventoryViewConfiguration.prototype.isShowCustomDimension2=function(){return this.m_showCustomDimension2};e.OuInventoryViewConfiguration.prototype.isShowDimensionMoreButton=function(){return this.m_showDimensionMoreButton};e.OuInventoryViewConfiguration.prototype.isShowGroupExpandCollapseOptions=function(){return this.m_showGroupExpandCollapseOptions};e.OuInventoryViewConfiguration.prototype.isShowGroupPresentationMenu=function(){return this.m_showGroupPresentationMenu};e.OuInventoryViewConfiguration.prototype.releaseObject=function(){this.m_defaultGroupPresentation=null;e.OuDesignerViewConfiguration.prototype.releaseObject.call(this)};e.OuInventoryViewConfiguration.prototype.setDefaultGroupPresentation=function(e){this.m_defaultGroupPresentation=e};e.OuInventoryViewConfiguration.prototype.setSeparateSortMenus=function(e){this.m_separateSortMenus=e};e.OuInventoryViewConfiguration.prototype.setShowCustomDimension2=function(e){this.m_showCustomDimension2=e};e.OuInventoryViewConfiguration.prototype.setShowDimensionMoreButton=function(e){this.m_showDimensionMoreButton=e};e.OuInventoryViewConfiguration.prototype.setShowGroupExpandCollapseOptions=function(e){this.m_showGroupExpandCollapseOptions=e};e.OuInventoryViewConfiguration.prototype.setShowGroupPresentationMenu=function(e){this.m_showGroupPresentationMenu=e};e.OuCalcCustomTreeWidgetItem=function(){};e.OuCalcCustomTreeWidgetItem.prototype=new e.XObjectExt;e.OuCalcCustomTreeWidgetItem.prototype._ff_c="OuCalcCustomTreeWidgetItem";e.OuCalcCustomTreeWidgetItem.create=function(t,i,o,n){let a=new e.OuCalcCustomTreeWidgetItem;a.m_children=e.XLinkedHashMapByString.create();a.m_name=t;a.m_content=i;a.m_filtered=false;a.m_enabled=o;a.m_customObject=n;return a};e.OuCalcCustomTreeWidgetItem.createEmpty=function(t){return e.OuCalcCustomTreeWidgetItem.create(t,null,true,null)};e.OuCalcCustomTreeWidgetItem.prototype.m_children=null;e.OuCalcCustomTreeWidgetItem.prototype.m_content=null;e.OuCalcCustomTreeWidgetItem.prototype.m_customObject=null;e.OuCalcCustomTreeWidgetItem.prototype.m_enabled=false;e.OuCalcCustomTreeWidgetItem.prototype.m_expanded=false;e.OuCalcCustomTreeWidgetItem.prototype.m_filtered=false;e.OuCalcCustomTreeWidgetItem.prototype.m_name=null;e.OuCalcCustomTreeWidgetItem.prototype.m_parent=null;e.OuCalcCustomTreeWidgetItem.prototype.m_uiTreeItem=null;e.OuCalcCustomTreeWidgetItem.prototype.addItem=function(t){e.XObjectExt.assertFalseExt(this.m_children.containsKey(t.getName()),e.XStringUtils.concatenate3("Item with the name '",t.getName(),"', already exists!"));this.m_children.put(t.getName(),t);t.setParent(this);return t};e.OuCalcCustomTreeWidgetItem.prototype.applyToItems=function(t){e.XStream.of(this.m_children).forEach(e=>{t(e);e.applyToItems(t)})};e.OuCalcCustomTreeWidgetItem.prototype.filterItems=function(t){e.XStream.of(this.m_children).forEach(e=>{e.setFiltered(!t(e));e.filterItems(t)})};e.OuCalcCustomTreeWidgetItem.prototype.getChildren=function(){return this.m_children.getValuesAsReadOnlyList()};e.OuCalcCustomTreeWidgetItem.prototype.getContent=function(){return this.m_content};e.OuCalcCustomTreeWidgetItem.prototype.getCustomObject=function(){return this.m_customObject};e.OuCalcCustomTreeWidgetItem.prototype.getItemByName=function(t){if(this.m_children.containsKey(t)){return e.XOptional.of(this.m_children.getByKey(t))}let i=e.XStream.of(this.m_children.getValuesAsReadOnlyList()).find(e=>{let i=e.getItemByName(t);return i.isPresent()});if(i.isPresent()){return i.get().getItemByName(t)}return e.XOptional.empty()};e.OuCalcCustomTreeWidgetItem.prototype.getName=function(){return this.m_name};e.OuCalcCustomTreeWidgetItem.prototype.getParent=function(){return e.XOptional.ofNullable(this.m_parent)};e.OuCalcCustomTreeWidgetItem.prototype.getUiItem=function(){return this.m_uiTreeItem};e.OuCalcCustomTreeWidgetItem.prototype.getVisibleItems=function(){let t=e.XList.create();if(!this.isFiltered()){t.add(this)}e.XStream.of(this.m_children).forEach(e=>{t.addAll(e.getVisibleItems())});return t.getValuesAsReadOnlyList()};e.OuCalcCustomTreeWidgetItem.prototype.isEnabled=function(){return this.m_enabled};e.OuCalcCustomTreeWidgetItem.prototype.isExpanded=function(){return this.m_expanded};e.OuCalcCustomTreeWidgetItem.prototype.isFiltered=function(){return this.m_filtered};e.OuCalcCustomTreeWidgetItem.prototype.isLeaf=function(){return!this.m_children.hasElements()};e.OuCalcCustomTreeWidgetItem.prototype.isRoot=function(){return e.isNull(this.m_parent)};e.OuCalcCustomTreeWidgetItem.prototype.releaseObject=function(){this.m_parent=null;this.m_content.destroy();this.m_content=null;this.m_uiTreeItem=null;e.XStream.of(this.m_children).forEach(t=>{e.XObjectExt.release(t)});this.m_children.clear();this.m_children=e.XObjectExt.release(this.m_children);e.XObjectExt.prototype.releaseObject.call(this)};e.OuCalcCustomTreeWidgetItem.prototype.setContent=function(e){this.m_content=e};e.OuCalcCustomTreeWidgetItem.prototype.setExpanded=function(e){this.m_expanded=e;this.updateUi();if(e){this.getParent().ifPresent(e=>{e.setExpanded(true)})}};e.OuCalcCustomTreeWidgetItem.prototype.setFiltered=function(t){this.m_filtered=t;if(e.notNull(this.m_parent)&&!t){this.m_parent.setFiltered(false)}};e.OuCalcCustomTreeWidgetItem.prototype.setParent=function(e){this.m_parent=e};e.OuCalcCustomTreeWidgetItem.prototype.setUiItem=function(e){this.m_uiTreeItem=e;this.updateUi()};e.OuCalcCustomTreeWidgetItem.prototype.toggleExpanded=function(){this.m_expanded=!this.m_expanded;return this.m_expanded};e.OuCalcCustomTreeWidgetItem.prototype.updateUi=function(){if(e.isNull(this.m_uiTreeItem)){return}let t=this.isExpanded();let i=this.m_uiTreeItem.getContent().getItem(0);let o=t?"ffOuCustomTreeItemExpanded":"ffOuCustomTreeItemCollapsed";let n=!t?"ffOuCustomTreeItemExpanded":"ffOuCustomTreeItemCollapsed";this.m_uiTreeItem.addCssClass(o);this.m_uiTreeItem.removeCssClass(n);i.setIcon(t?"slim-arrow-down":"slim-arrow-right");i.setTooltip(e.XLocalizationCenter.getCenter().getText(t?e.XCommonI18n.COLLAPSE:e.XCommonI18n.EXPAND))};e.OuDataProviderVariableDialogAction=function(){};e.OuDataProviderVariableDialogAction.prototype=new e.DfOuDataProviderAction;e.OuDataProviderVariableDialogAction.prototype._ff_c="OuDataProviderVariableDialogAction";e.OuDataProviderVariableDialogAction.ACTION_NAME="DefaultVariableDialogAction";e.OuDataProviderVariableDialogAction.create=function(t){let i=new e.OuDataProviderVariableDialogAction;i.setupAction(t);return i};e.OuDataProviderVariableDialogAction.prototype.m_actionResult=null;e.OuDataProviderVariableDialogAction.prototype.m_resolve=null;e.OuDataProviderVariableDialogAction.prototype.m_vdPromise=null;e.OuDataProviderVariableDialogAction.prototype.doAction=function(t){if(e.notNull(this.m_vdPromise)&&!this.m_vdPromise.isSettled()){return this.m_vdPromise}let i=t.get(0);let o=t.size()>=2?e.PrUtils.deserialize(t.get(1)):null;this.m_actionResult=this.newActionResult(t);this.m_vdPromise=e.XPromise.create((t,n)=>{this.m_resolve=t;let a=this.getDataProvider().getApplication().getProcess();let r=e.ProgramRunner.createRunner(a,e.VdProgram.PROGRAM_NAME);let l=this.getDataProvider().getQueryManager();let s=this.getDataProvider().isAutoSubmitEffective();r.setAllArguments(o);r.setStringArgument(e.VdProgram.ARG_TITLE,i);r.setStringArgument(e.VdProgram.ARG_DATA_PROVIDER_NAME,this.getDataProvider().getName());r.setBooleanArgument(e.VdProgram.ARG_IMPLICIT_SUBMIT,!s);if(s){this.setVariablesWinControl(l,true);e.OuQueryExecutionListenerLambda.createAndAttach(l,e=>{this.setVariablesWinControl(l,false)},true)}r.setProgramTerminatedConsumer(this.onVdProgramTerminated.bind(this));r.runProgram()});return this.m_vdPromise};e.OuDataProviderVariableDialogAction.prototype.executeTyped=function(t,i){let o=e.XList.create();o.add(t);o.add(e.notNull(i)?e.PrUtils.serialize(i,false,false,-1):null);return this.getActionsBase().performAction(this,o)};e.OuDataProviderVariableDialogAction.prototype.getName=function(){return e.OuDataProviderVariableDialogAction.ACTION_NAME};e.OuDataProviderVariableDialogAction.prototype.onVdProgramTerminated=function(t){let i=e.OuDataProviderVariableDialogActionResult.create();if(t.getBooleanByKey(e.VdProgram.EXIT_DATA_WORKFLOW_DONE)){i.setDialogSubmitted(true);this.m_actionResult.getChangesBase().addChangedEventType(e.OuDataProviderEventType.MODEL_CHANGE)}this.m_actionResult.setReturnValue(i);this.m_resolve(this.m_actionResult)};e.OuDataProviderVariableDialogAction.prototype.releaseObject=function(){this.m_resolve=null;this.m_vdPromise=null;this.m_actionResult=null;e.DfOuDataProviderAction.prototype.releaseObject.call(this)};e.OuDataProviderVariableDialogAction.prototype.setVariablesWinControl=function(t,i){t.stopEventing();let o=t.getVariables();e.XStream.of(o).filter(t=>t.getVariableType().isTypeOf(e.VariableType.DIMENSION_MEMBER_VARIABLE)).filter(e=>!e.isHierarchyInfoVariableForExplicitlyInactivatedHierarchy()).map(e=>e).forEach(e=>{e.setWinControlInAutoSubmit(i)});t.resumeEventing()};e.OuDataProviderVariableDialogAction.prototype.setupAction=function(t){e.DfOuDataProviderAction.prototype.setupAction.call(this,t)};e.AldControllerAxisLayout=function(){};e.AldControllerAxisLayout.prototype=new e.XObject;e.AldControllerAxisLayout.prototype._ff_c="AldControllerAxisLayout";e.AldControllerAxisLayout.BUTTON_ADD_TO_COLUMNS="buttonAddToColumns";e.AldControllerAxisLayout.BUTTON_ADD_TO_ROWS="buttonAddToRows";e.AldControllerAxisLayout.BUTTON_COLUMNS_DOWN="buttonColumnsDown";e.AldControllerAxisLayout.BUTTON_COLUMNS_UP="buttonColumnsUp";e.AldControllerAxisLayout.BUTTON_REMOVE_FROM_COLUMNS="buttonRemoveFromColumns";e.AldControllerAxisLayout.BUTTON_REMOVE_FROM_ROWS="buttonRemoveFromRows";e.AldControllerAxisLayout.BUTTON_ROWS_DOWN="buttonRowsDown";e.AldControllerAxisLayout.BUTTON_ROWS_UP="buttonRowsUp";e.AldControllerAxisLayout.CANCEL_BUTTON="cancelButton";e.AldControllerAxisLayout.COLUMN_DIMENSION_LIST="ColumnDimensionList";e.AldControllerAxisLayout.DIMENSION_INVENTORY_LIST="DimensionInventoryList";e.AldControllerAxisLayout.HIDE_FREE_BUTTON="hideFreeButton";e.AldControllerAxisLayout.HIERARCHICHAL_COLUMN_SWITCH="HierarchichalColumnSwitch";e.AldControllerAxisLayout.HIERARCHICHAL_ROW_SWITCH="HierarchichalRowSwitch";e.AldControllerAxisLayout.OK_BUTTON="okButton";e.AldControllerAxisLayout.ROW_DIMENSION_LIST="RowDimensionListList";e.AldControllerAxisLayout.SHOW_FREE_BUTTON="showFreeButton";e.AldControllerAxisLayout.TECHNICAL_BUTTON="technicalButton";e.AldControllerAxisLayout.create=function(t,i){let o=new e.AldControllerAxisLayout;o.m_context=i;o.m_application=t;return o};e.AldControllerAxisLayout.prototype.m_aldLayout=null;e.AldControllerAxisLayout.prototype.m_aldModel=null;e.AldControllerAxisLayout.prototype.m_application=null;e.AldControllerAxisLayout.prototype.m_buttonAddToColumns=null;e.AldControllerAxisLayout.prototype.m_buttonAddToRows=null;e.AldControllerAxisLayout.prototype.m_buttonHideFree=null;e.AldControllerAxisLayout.prototype.m_buttonMoveDownColumns=null;e.AldControllerAxisLayout.prototype.m_buttonMoveDownRows=null;e.AldControllerAxisLayout.prototype.m_buttonMoveUpColumns=null;e.AldControllerAxisLayout.prototype.m_buttonMoveUpRows=null;e.AldControllerAxisLayout.prototype.m_buttonRemoveFromColumns=null;e.AldControllerAxisLayout.prototype.m_buttonRemoveFromRows=null;e.AldControllerAxisLayout.prototype.m_buttonShowFree=null;e.AldControllerAxisLayout.prototype.m_cancelButton=null;e.AldControllerAxisLayout.prototype.m_columnDimensionList=null;e.AldControllerAxisLayout.prototype.m_context=null;e.AldControllerAxisLayout.prototype.m_dialogCloseListener=null;e.AldControllerAxisLayout.prototype.m_dimensionInventoryList=null;e.AldControllerAxisLayout.prototype.m_display=null;e.AldControllerAxisLayout.prototype.m_isClosing=false;e.AldControllerAxisLayout.prototype.m_okButton=null;e.AldControllerAxisLayout.prototype.m_queryModel=null;e.AldControllerAxisLayout.prototype.m_rowDimensionList=null;e.AldControllerAxisLayout.prototype.m_technicalButton=null;e.AldControllerAxisLayout.prototype.m_udhSwitchColumns=null;e.AldControllerAxisLayout.prototype.m_udhSwitchRows=null;e.AldControllerAxisLayout.prototype.closeDialog=function(){if(!this.m_isClosing){this.m_isClosing=true;this.m_aldModel=e.XObjectExt.release(this.m_aldModel);if(e.notNull(this.m_display)&&this.m_display.isOpen()){this.m_display.close()}}if(e.notNull(this.m_dialogCloseListener)){this.m_dialogCloseListener.onClose()}};e.AldControllerAxisLayout.prototype.getListOfSelectedCustomObjects=function(t){let i=e.XList.create();let o=t.getSelectedItems();let n=o.size();for(let e=0;e<n;e++){i.add(o.get(e).getCustomObject())}return i};e.AldControllerAxisLayout.prototype.onAfterOpen=function(e){};e.AldControllerAxisLayout.prototype.onBeforeClose=function(e){this.closeDialog()};e.AldControllerAxisLayout.prototype.onChange=function(t){let i=t.getControl();let o=i.getName();switch(o){case e.AldControllerAxisLayout.HIERARCHICHAL_ROW_SWITCH:this.m_aldModel.setDisplayRowsHierarchically(i.isOn());break;case e.AldControllerAxisLayout.HIERARCHICHAL_COLUMN_SWITCH:this.m_aldModel.setDisplayColumnsHierarchically(i.isOn());break}};e.AldControllerAxisLayout.prototype.onObservableModelChange=function(e){this.reinitializeChildControllers()};e.AldControllerAxisLayout.prototype.onPress=function(t){let i=t.getControl().getName();switch(i){case e.AldControllerAxisLayout.TECHNICAL_BUTTON:this.m_aldModel.setShowTechnical(t.getControl().isPressed());return;case e.AldControllerAxisLayout.SHOW_FREE_BUTTON:this.setFreeAxisVisible(true);return;case e.AldControllerAxisLayout.HIDE_FREE_BUTTON:this.setFreeAxisVisible(false);return;case e.AldControllerAxisLayout.BUTTON_ADD_TO_COLUMNS:this.m_aldModel.activateColumnSelection();return;case e.AldControllerAxisLayout.BUTTON_ADD_TO_ROWS:this.m_aldModel.activateRowsSelection();return;case e.AldControllerAxisLayout.BUTTON_REMOVE_FROM_COLUMNS:this.m_aldModel.deActivateColumnSelection();return;case e.AldControllerAxisLayout.BUTTON_REMOVE_FROM_ROWS:this.m_aldModel.deActivateRowSelection();return;case e.AldControllerAxisLayout.BUTTON_COLUMNS_UP:this.m_aldModel.moveUpColumnDimension();return;case e.AldControllerAxisLayout.BUTTON_ROWS_UP:this.m_aldModel.moveUpRowDimension();return;case e.AldControllerAxisLayout.BUTTON_COLUMNS_DOWN:this.m_aldModel.moveDownColumnDimension();return;case e.AldControllerAxisLayout.BUTTON_ROWS_DOWN:this.m_aldModel.moveDownRowDimension();return;case e.AldControllerAxisLayout.OK_BUTTON:this.m_aldModel.applyToQueryModel(this.m_queryModel);if(e.notNull(this.m_dialogCloseListener)){this.m_dialogCloseListener.onSubmit()}break;case e.AldControllerAxisLayout.CANCEL_BUTTON:break}this.closeDialog()};e.AldControllerAxisLayout.prototype.onSelectionChange=function(t){let i=t.getControl().getName();let o=t.getControl();switch(i){case e.AldControllerAxisLayout.DIMENSION_INVENTORY_LIST:this.m_aldModel.setDimensionOrderedOnFreeSelected(this.getListOfSelectedCustomObjects(o));break;case e.AldControllerAxisLayout.COLUMN_DIMENSION_LIST:this.m_aldModel.setDimensionOrderedOnColumnsSelected(this.getListOfSelectedCustomObjects(o));break;case e.AldControllerAxisLayout.ROW_DIMENSION_LIST:this.m_aldModel.setDimensionOrderedOnRowsSelected(this.getListOfSelectedCustomObjects(o));break}};e.AldControllerAxisLayout.prototype.openDialog=function(t,i,o){e.XObjectExt.assertNotNullExt(i,"Dimension must be set");this.m_dialogCloseListener=o;this.setupController(t,i)};e.AldControllerAxisLayout.prototype.reinitializeChildControllers=function(){let t;let i;let o;let n;let a;let r;t=this.m_aldModel.getDimensionOrderedOnFree();i=this.m_aldModel.getDimensionOrderedOnFreeSelected();o=t.size();if(e.notNull(this.m_udhSwitchRows)){this.m_udhSwitchRows.setOn(this.m_aldModel.isDisplayRowsHierarchically())}if(e.notNull(this.m_udhSwitchColumns)){this.m_udhSwitchColumns.setOn(this.m_aldModel.isDisplayColumnsHierarchically())}this.m_dimensionInventoryList.clearItems();for(n=0;n<o;n++){r=t.get(n);a=this.m_dimensionInventoryList.addNewItem().setName(r.getComponentName()).setText(this.m_aldModel.isShowTechnical()?r.getComponentName():r.getComponentText());a.setSelected(i.contains(r)).setCustomObject(r)}this.m_buttonAddToColumns.setEnabled(e.XCollectionUtils.hasElements(i));this.m_buttonAddToRows.setEnabled(e.XCollectionUtils.hasElements(i));t=this.m_aldModel.getDimensionOrderedOnColumns();i=this.m_aldModel.getDimensionOrderedOnColumnsSelected();o=t.size();this.m_columnDimensionList.clearItems();for(n=0;n<o;n++){r=t.get(n);a=this.m_columnDimensionList.addNewItem().setName(r.getComponentName()).setText(this.m_aldModel.isShowTechnical()?r.getComponentName():r.getComponentText());a.setSelected(i.contains(r)).setCustomObject(r)}this.m_buttonRemoveFromColumns.setEnabled(e.XCollectionUtils.hasElements(i));e.DdModelOrderable.adoptList(this.m_aldModel.getDimensionOrderedOnColumns());let l=i.size()===1?i.get(0):null;this.m_buttonMoveDownColumns.setEnabled(e.notNull(l)&&l.isPossibleMoveDown());this.m_buttonMoveUpColumns.setEnabled(e.notNull(l)&&l.isPossibleMoveUp());t=this.m_aldModel.getDimensionOrderedOnRows();i=this.m_aldModel.getDimensionOrderedOnRowsSelected();o=t.size();this.m_rowDimensionList.clearItems();for(n=0;n<o;n++){r=t.get(n);a=this.m_rowDimensionList.addNewItem().setName(r.getComponentName()).setText(this.m_aldModel.isShowTechnical()?r.getComponentName():r.getComponentText());a.setSelected(i.contains(r)).setCustomObject(r)}this.m_buttonRemoveFromRows.setEnabled(e.XCollectionUtils.hasElements(i));e.DdModelOrderable.adoptList(this.m_aldModel.getDimensionOrderedOnRows());l=i.size()===1?i.get(0):null;this.m_buttonMoveDownRows.setEnabled(e.notNull(l)&&l.isPossibleMoveDown());this.m_buttonMoveUpRows.setEnabled(e.notNull(l)&&l.isPossibleMoveUp())};e.AldControllerAxisLayout.prototype.releaseObject=function(){this.m_aldModel=e.XObjectExt.release(this.m_aldModel);this.m_okButton=e.XObjectExt.release(this.m_okButton);this.m_cancelButton=e.XObjectExt.release(this.m_cancelButton);this.m_display=e.XObjectExt.release(this.m_display);this.m_aldLayout=e.XObjectExt.release(this.m_aldLayout);this.m_context=null};e.AldControllerAxisLayout.prototype.setFreeAxisVisible=function(e){this.m_aldLayout.setFreeAxisVisible(e)};e.AldControllerAxisLayout.prototype.setupController=function(t,i){let o;let n;this.m_isClosing=false;this.m_aldModel=e.AldModel.createFrom(i);this.m_queryModel=i;this.m_display=this.m_context.getDisplayFactory().getInstance();this.m_display.setName("AxisDialog");this.m_display.setTitle(t);this.m_display.registerOnAfterOpen(this);this.m_display.registerOnBeforeClose(this);this.m_display.setHeight(e.UiCssLength.createExt(60,e.UiCssSizeUnit.PERCENT));this.m_display.setWidth(e.UiCssLength.createExt(55,e.UiCssSizeUnit.PERCENT));this.m_aldModel.addListener(this);let a=this.m_display.getGenesis();this.m_aldLayout=e.AldAxisLayoutDialogLayout.createWithGenesis(a);let r=e.LayoutDialogI18n.getLocalization();if(this.m_aldModel.isSupportsUniversalDisplayHierarchy()){let t;let i;if(e.isNull(this.m_udhSwitchColumns)){t=this.m_aldLayout.getColumnDimensions().addNewItemOfType(e.UiType.FLEX_LAYOUT).setWidth(e.UiCssLength.create("100%"));i=t.addNewItemOfType(e.UiType.LABEL).setWidth(e.UiCssLength.create("auto")).setTextAlign(e.UiTextAlign.RIGHT).setAlignSelf(e.UiFlexAlignSelf.CENTER).setMargin(e.UiCssBoxEdges.create("0em"));i.setText(r.getText(e.LayoutDialogI18n.I18N_LD_DISPLAY_HIERARCHICALLY));t.addNewItemOfType(e.UiType.SPACER).setWidth(e.UiCssLength.create("1em")).setHeight(e.UiCssLength.create("1em"));this.m_udhSwitchColumns=t.addNewItemOfType(e.UiType.SWITCH).setName(e.AldControllerAxisLayout.HIERARCHICHAL_COLUMN_SWITCH).setOffText(" ").setOnText(" ");t.addItem(this.m_udhSwitchColumns.setWidth(e.UiCssLength.create("4em")).setAlignSelf(e.UiFlexAlignSelf.CENTER)).setMargin(e.UiCssBoxEdges.create("0em"));this.m_udhSwitchColumns.registerOnChange(this);this.m_aldLayout.getColumnDimensions().addNewItemOfType(e.UiType.SPACER).setHeight(e.UiCssLength.create("1em")).setHeight(e.UiCssLength.create("1em"))}if(e.isNull(this.m_udhSwitchRows)){t=this.m_aldLayout.getRowDimensions().addNewItemOfType(e.UiType.FLEX_LAYOUT).setWidth(e.UiCssLength.create("100%"));i=t.addNewItemOfType(e.UiType.LABEL).setWidth(e.UiCssLength.create("auto")).setTextAlign(e.UiTextAlign.RIGHT).setAlignSelf(e.UiFlexAlignSelf.CENTER).setMargin(e.UiCssBoxEdges.create("0em"));i.setText(r.getText(e.LayoutDialogI18n.I18N_LD_DISPLAY_HIERARCHICALLY));t.addNewItemOfType(e.UiType.SPACER).setWidth(e.UiCssLength.create("1em")).setHeight(e.UiCssLength.create("1em"));this.m_udhSwitchRows=t.addNewItemOfType(e.UiType.SWITCH).setName(e.AldControllerAxisLayout.HIERARCHICHAL_ROW_SWITCH).setOffText(" ").setOnText(" ");t.addItem(this.m_udhSwitchRows.setWidth(e.UiCssLength.create("4em")).setAlignSelf(e.UiFlexAlignSelf.CENTER)).setMargin(e.UiCssBoxEdges.create("0em"));this.m_udhSwitchRows.registerOnChange(this);this.m_aldLayout.getRowDimensions().addNewItemOfType(e.UiType.SPACER).setHeight(e.UiCssLength.create("1em"))}}let l;let s;if(e.isNull(this.m_technicalButton)){this.m_technicalButton=this.m_aldLayout.getTechnicalLayout().addNewItemOfType(e.UiType.TOGGLE_BUTTON);this.m_technicalButton.setIcon("technical-object").setTooltip(r.getText(e.LayoutDialogI18n.I18N_LD_TECHNICAL));this.m_technicalButton.setName(e.AldControllerAxisLayout.TECHNICAL_BUTTON);this.m_technicalButton.registerOnPress(this)}if(this.m_aldModel.getAldModelTotalsColumns()!==null){n=e.AldControllerTotals.createWithModelAndGenesis(this.m_application,this.m_context,this.m_aldModel.getAldModelTotalsColumns(),a);l=this.m_aldLayout.getValueDisplayColumns().addNewItemOfType(e.UiType.FLEX_LAYOUT).setDirection(e.UiFlexDirection.COLUMN).setMargin(e.UiCssBoxEdges.create("0em")).setPadding(e.UiCssBoxEdges.create("0em"));l.addNewItemOfType(e.UiType.LABEL).setFontSize(e.UiCssLength.create("125%")).setHeight(e.UiCssLength.create("2em")).setText(r.getText(e.LayoutDialogI18n.I18N_LD_POSITION_OF_TOTALS));s=a.newControl(e.UiType.VERTICAL_LAYOUT);s.addItem(n.getPositionRBG());l.addItem(s)}if(this.m_aldModel.getAldModelZeroSuppressionColumns()!==null){o=e.AldControllerZeroSuppression.createWithModelAndGenesis(this.m_application,this.m_context,this.m_aldModel.getAldModelZeroSuppressionColumns(),a);l=this.m_aldLayout.getValueDisplayColumns().addNewItemOfType(e.UiType.FLEX_LAYOUT).setDirection(e.UiFlexDirection.COLUMN).setMargin(e.UiCssBoxEdges.create("0em")).setPadding(e.UiCssBoxEdges.create("0em"));l.addNewItemOfType(e.UiType.LABEL).setHeight(e.UiCssLength.create("2em")).setFontSize(e.UiCssLength.create("125%")).setText(r.getText(e.LayoutDialogI18n.I18N_LD_ZERO_SUPPRESSION));s=a.newControl(e.UiType.VERTICAL_LAYOUT);s.addItem(o.getZeroSuppressionRadioButtonGroup());l.addItem(s)}if(this.m_aldModel.getAldModelTotalsRows()!==null){n=e.AldControllerTotals.createWithModelAndGenesis(this.m_application,this.m_context,this.m_aldModel.getAldModelTotalsRows(),a);l=this.m_aldLayout.getValueDisplayRows().addNewItemOfType(e.UiType.FLEX_LAYOUT).setDirection(e.UiFlexDirection.COLUMN).setMargin(e.UiCssBoxEdges.create("0em")).setPadding(e.UiCssBoxEdges.create("0em"));l.addNewItemOfType(e.UiType.LABEL).setHeight(e.UiCssLength.create("2em")).setFontSize(e.UiCssLength.create("125%")).setText(r.getText(e.LayoutDialogI18n.I18N_LD_POSITION_OF_TOTALS));s=a.newControl(e.UiType.VERTICAL_LAYOUT);s.addItem(n.getPositionRBG());l.addItem(s)}if(this.m_aldModel.getAldModelZeroSuppressionRows()!==null){o=e.AldControllerZeroSuppression.createWithModelAndGenesis(this.m_application,this.m_context,this.m_aldModel.getAldModelZeroSuppressionRows(),a);l=this.m_aldLayout.getValueDisplayRows().addNewItemOfType(e.UiType.FLEX_LAYOUT).setDirection(e.UiFlexDirection.COLUMN).setMargin(e.UiCssBoxEdges.create("0em")).setPadding(e.UiCssBoxEdges.create("0em"));l.addNewItemOfType(e.UiType.LABEL).setHeight(e.UiCssLength.create("2em")).setFontSize(e.UiCssLength.create("125%")).setText(r.getText(e.LayoutDialogI18n.I18N_LD_ZERO_SUPPRESSION));s=a.newControl(e.UiType.VERTICAL_LAYOUT);s.addItem(o.getZeroSuppressionRadioButtonGroup());l.addItem(s)}if(e.isNull(this.m_dimensionInventoryList)){this.m_dimensionInventoryList=this.m_aldLayout.getDimensionInventory().addNewItemOfType(e.UiType.LIST).setName(e.AldControllerAxisLayout.DIMENSION_INVENTORY_LIST);this.m_dimensionInventoryList.setSelectionMode(e.UiSelectionMode.MULTI_SELECT);this.m_dimensionInventoryList.registerOnSelectionChange(this).setHeight(e.UiCssLength.create("100%")).setWidth(e.UiCssLength.create("100%"));this.m_aldLayout.getDimensionInventory().addNewItemOfType(e.UiType.SPACER).setHeight(e.UiCssLength.create("1em")).setWidth(e.UiCssLength.create("1em"))}if(e.isNull(this.m_columnDimensionList)){this.m_columnDimensionList=this.m_aldLayout.getColumnDimensions().addNewItemOfType(e.UiType.LIST).setName(e.AldControllerAxisLayout.COLUMN_DIMENSION_LIST);this.m_columnDimensionList.setSelectionMode(e.UiSelectionMode.SINGLE_SELECT);this.m_columnDimensionList.registerOnSelectionChange(this).setHeight(e.UiCssLength.create("auto")).setWidth(e.UiCssLength.create("100%"))}if(e.isNull(this.m_rowDimensionList)){this.m_rowDimensionList=this.m_aldLayout.getRowDimensions().addNewItemOfType(e.UiType.LIST).setName(e.AldControllerAxisLayout.ROW_DIMENSION_LIST);this.m_rowDimensionList.setSelectionMode(e.UiSelectionMode.SINGLE_SELECT);this.m_rowDimensionList.registerOnSelectionChange(this).setHeight(e.UiCssLength.create("auto")).setWidth(e.UiCssLength.create("100%"))}if(e.isNull(this.m_buttonHideFree)){this.m_buttonHideFree=this.m_aldLayout.getHideFreeAxisControl().addNewItemOfType(e.UiType.BUTTON);this.m_buttonHideFree.setIcon("close-command-field").setTooltip(r.getText(e.LayoutDialogI18n.I18N_LD_HIDE_FREE));this.m_buttonHideFree.setName(e.AldControllerAxisLayout.HIDE_FREE_BUTTON);this.m_buttonHideFree.registerOnPress(this)}if(e.isNull(this.m_buttonShowFree)){this.m_buttonShowFree=this.m_aldLayout.getShowFreeAxisControl().addNewItemOfType(e.UiType.BUTTON);this.m_buttonShowFree.setIcon("open-command-field").setTooltip(r.getText(e.LayoutDialogI18n.I18N_LD_SHOW_FREE));this.m_buttonShowFree.setName(e.AldControllerAxisLayout.SHOW_FREE_BUTTON);this.m_buttonShowFree.registerOnPress(this)}if(e.isNull(this.m_buttonAddToColumns)){this.m_buttonAddToColumns=this.m_aldLayout.getColumnDimensionControls().addNewItemOfType(e.UiType.BUTTON);this.m_buttonAddToColumns.setTooltip(r.getText(e.LayoutDialogI18n.I18N_LD_MOVE_TO_COLUMNS));this.m_buttonAddToColumns.setIcon("slim-arrow-right");this.m_buttonAddToColumns.setName(e.AldControllerAxisLayout.BUTTON_ADD_TO_COLUMNS);this.m_buttonAddToColumns.registerOnPress(this)}if(e.isNull(this.m_buttonRemoveFromColumns)){this.m_buttonRemoveFromColumns=this.m_aldLayout.getColumnDimensionControls().addNewItemOfType(e.UiType.BUTTON);this.m_buttonRemoveFromColumns.setTooltip(r.getText(e.LayoutDialogI18n.I18N_LD_REMOVE_FROM_LAYOUT));this.m_buttonRemoveFromColumns.setIcon("slim-arrow-left");this.m_buttonRemoveFromColumns.setName(e.AldControllerAxisLayout.BUTTON_REMOVE_FROM_COLUMNS);this.m_buttonRemoveFromColumns.registerOnPress(this)}if(e.isNull(this.m_buttonAddToRows)){this.m_buttonAddToRows=this.m_aldLayout.getRowDimensionControls().addNewItemOfType(e.UiType.BUTTON);this.m_buttonAddToRows.setTooltip(r.getText(e.LayoutDialogI18n.I18N_LD_MOVE_TO_ROWS));this.m_buttonAddToRows.setIcon("slim-arrow-right");this.m_buttonAddToRows.setName(e.AldControllerAxisLayout.BUTTON_ADD_TO_ROWS);this.m_buttonAddToRows.registerOnPress(this)}if(e.isNull(this.m_buttonRemoveFromRows)){this.m_buttonRemoveFromRows=this.m_aldLayout.getRowDimensionControls().addNewItemOfType(e.UiType.BUTTON);this.m_buttonRemoveFromRows.setTooltip(r.getText(e.LayoutDialogI18n.I18N_LD_REMOVE_FROM_LAYOUT));this.m_buttonRemoveFromRows.setIcon("slim-arrow-left");this.m_buttonRemoveFromRows.setName(e.AldControllerAxisLayout.BUTTON_REMOVE_FROM_ROWS);this.m_buttonRemoveFromRows.registerOnPress(this)}if(e.isNull(this.m_buttonMoveUpColumns)){this.m_aldLayout.getColumnDimensionOrder().addNewItemOfType(e.UiType.SPACER).setHeight(e.UiCssLength.create("5em"));this.m_buttonMoveUpColumns=this.m_aldLayout.getColumnDimensionOrder().addNewItemOfType(e.UiType.BUTTON);this.m_buttonMoveUpColumns.setTooltip(r.getText(e.LayoutDialogI18n.I18N_LD_MOVE_UP));this.m_buttonMoveUpColumns.setIcon("slim-arrow-up");this.m_buttonMoveUpColumns.setName(e.AldControllerAxisLayout.BUTTON_COLUMNS_UP);this.m_buttonMoveUpColumns.registerOnPress(this)}if(e.isNull(this.m_buttonMoveDownColumns)){this.m_buttonMoveDownColumns=this.m_aldLayout.getColumnDimensionOrder().addNewItemOfType(e.UiType.BUTTON);this.m_buttonMoveDownColumns.setTooltip(r.getText(e.LayoutDialogI18n.I18N_LD_MOVE_DOWN));this.m_buttonMoveDownColumns.setIcon("slim-arrow-down");this.m_buttonMoveDownColumns.setName(e.AldControllerAxisLayout.BUTTON_COLUMNS_DOWN);this.m_buttonMoveDownColumns.registerOnPress(this)}if(e.isNull(this.m_buttonMoveUpRows)){this.m_aldLayout.getRowDimensionOrder().addNewItemOfType(e.UiType.SPACER).setHeight(e.UiCssLength.create("5em"));this.m_buttonMoveUpRows=this.m_aldLayout.getRowDimensionOrder().addNewItemOfType(e.UiType.BUTTON);this.m_buttonMoveUpRows.setTooltip(r.getText(e.LayoutDialogI18n.I18N_LD_MOVE_UP));this.m_buttonMoveUpRows.setIcon("slim-arrow-up");this.m_buttonMoveUpRows.setName(e.AldControllerAxisLayout.BUTTON_ROWS_UP);this.m_buttonMoveUpRows.registerOnPress(this)}if(e.isNull(this.m_buttonMoveDownRows)){this.m_buttonMoveDownRows=this.m_aldLayout.getRowDimensionOrder().addNewItemOfType(e.UiType.BUTTON);this.m_buttonMoveDownRows.setTooltip(r.getText(e.LayoutDialogI18n.I18N_LD_MOVE_DOWN));this.m_buttonMoveDownRows.setIcon("slim-arrow-down");this.m_buttonMoveDownRows.setName(e.AldControllerAxisLayout.BUTTON_ROWS_DOWN);this.m_buttonMoveDownRows.registerOnPress(this)}this.reinitializeChildControllers();this.m_aldLayout.buildOlapDialogUi(this.m_display.getGenesis());this.m_okButton=this.m_display.addNewButton();this.m_okButton.setName(e.AldControllerAxisLayout.OK_BUTTON);this.m_okButton.setText(e.LayoutDialogI18n.getLocalization().getText(e.XCommonI18n.OK));this.m_okButton.setButtonType(e.UiButtonType.PRIMARY);this.m_okButton.registerOnPress(this);this.m_cancelButton=this.m_display.addNewButton();this.m_cancelButton.setName(e.AldControllerAxisLayout.CANCEL_BUTTON);this.m_cancelButton.setText(e.LayoutDialogI18n.getLocalization().getText(e.XCommonI18n.CANCEL));this.m_cancelButton.registerOnPress(this);this.m_display.getGenesis().setRoot(this.m_aldLayout.buildTree(a));this.m_display.open()};e.AldControllerTotals=function(){};e.AldControllerTotals.prototype=new e.DdControllerFlexible;e.AldControllerTotals.prototype._ff_c="AldControllerTotals";e.AldControllerTotals.POSITION_DROPDOWN="positionDropdown";e.AldControllerTotals.createWithModelAndGenesis=function(t,i,o,n){let a=new e.AldControllerTotals;a.setupExt(t,i,o,n);o.addListener(a);return a};e.AldControllerTotals.prototype.m_positionRBG=null;e.AldControllerTotals.prototype.getControls=function(){let t=e.LayoutDialogI18n.getLocalization();let i=e.XList.create();if(this.getModel().getResultAlignment()!==null&&this.getModel().isSupportsResultAlignment()){let o=this.getModel().getResultAlignment();if(e.isNull(this.m_positionRBG)){this.m_positionRBG=this.getGenesis().newControl(e.UiType.RADIO_BUTTON_GROUP).setName(e.AldControllerTotals.POSITION_DROPDOWN);let i=this.getModel().getSupportedResultAlignments();let o=e.ResultAlignment.TOP;if(i.contains(o)){this.m_positionRBG.addNewRadioButton().setText(t.getText(e.LayoutDialogI18n.I18N_LD_ABOVE)).setName(o.getName()).setCustomObject(o)}o=e.ResultAlignment.TOPBOTTOM;if(i.contains(o)){this.m_positionRBG.addNewRadioButton().setText(t.getText(e.LayoutDialogI18n.I18N_LD_ABOVE_AND_BELOW)).setName(o.getName()).setCustomObject(o).setEnabled(i.contains(o))}o=e.ResultAlignment.BOTTOM;if(i.contains(o)){this.m_positionRBG.addNewRadioButton().setText(t.getText(e.LayoutDialogI18n.I18N_LD_BELOW)).setName(o.getName()).setCustomObject(o).setEnabled(i.contains(o))}this.m_positionRBG.registerOnSelect(this)}this.m_positionRBG.setSelectedName(o.getName());i.add(this.m_positionRBG)}return i};e.AldControllerTotals.prototype.getLabelTexts=function(){let t=e.LayoutDialogI18n.getLocalization();let i=e.XList.create();if(this.getModel().getResultAlignment()!==null&&this.getModel().isSupportsResultAlignment()){i.add(t.getText(e.LayoutDialogI18n.I18N_LD_POSITION_OF_TOTALS))}return i};e.AldControllerTotals.prototype.getPositionRBG=function(){this.getControls();return this.m_positionRBG};e.AldControllerTotals.prototype.getPrefixControls=function(){let t=e.XList.create();return t};e.AldControllerTotals.prototype.getPrefixLabelTexts=function(){let t=e.XList.create();return t};e.AldControllerTotals.prototype.getPrefixWidths=function(){return null};e.AldControllerTotals.prototype.getSuffixControls=function(){let t=e.XList.create();return t};e.AldControllerTotals.prototype.getSuffixLabelTexts=function(){let t=e.XList.create();return t};e.AldControllerTotals.prototype.getSuffixWidths=function(){return null};e.AldControllerTotals.prototype.getWidths=function(){return null};e.AldControllerTotals.prototype.onObservableModelChange=function(e){this.getPrefixControls();this.getControls();this.getSuffixControls()};e.AldControllerTotals.prototype.onSelect=function(t){let i=t.getControl();let o=i.getName();switch(o){case e.AldControllerTotals.POSITION_DROPDOWN:this.getModel().setResultAlignment(i.getSelectedItem().getCustomObject());break}};e.AldControllerTotals.prototype.onSelectionChange=function(t){let i=t.getControl();let o=i.getName();switch(o){case e.AldControllerTotals.POSITION_DROPDOWN:this.getModel().setResultAlignment(i.getSelectedItem().getCustomObject());break}};e.AldControllerZeroSuppression=function(){};e.AldControllerZeroSuppression.prototype=new e.DdControllerFlexible;e.AldControllerZeroSuppression.prototype._ff_c="AldControllerZeroSuppression";e.AldControllerZeroSuppression.ZERO_SUPPRESSION_RBG="zeroSuppressionRBG";e.AldControllerZeroSuppression.createWithModelAndGenesis=function(t,i,o,n){let a=new e.AldControllerZeroSuppression;a.setupExt(t,i,o,n);o.addListener(a);return a};e.AldControllerZeroSuppression.prototype.m_zeroSuppressionRadioButtonGroup=null;e.AldControllerZeroSuppression.prototype.getControls=function(){let t=e.XList.create();let i=e.LayoutDialogI18n.getLocalization();if(e.isNull(this.m_zeroSuppressionRadioButtonGroup)){this.m_zeroSuppressionRadioButtonGroup=this.getGenesis().newControl(e.UiType.RADIO_BUTTON_GROUP).setName(e.AldControllerZeroSuppression.ZERO_SUPPRESSION_RBG);this.m_zeroSuppressionRadioButtonGroup.addNewRadioButton().setText(i.getText(e.LayoutDialogI18n.I18N_LD_SUPPRESSION_NONE)).setName(e.ZeroSuppressionType.NONE.getName()).setCustomObject(e.ZeroSuppressionType.NONE);this.m_zeroSuppressionRadioButtonGroup.addNewRadioButton().setText(i.getText(e.LayoutDialogI18n.I18N_LD_SUPPRESSION_TOTALS_ZERO)).setName(e.ZeroSuppressionType.TOTAL_IS_ZERO.getName()).setCustomObject(e.ZeroSuppressionType.TOTAL_IS_ZERO);this.m_zeroSuppressionRadioButtonGroup.addNewRadioButton().setText(i.getText(e.LayoutDialogI18n.I18N_LD_SUPPRESSION_ALL_ZERO)).setName(e.ZeroSuppressionType.ALL_CELLS_ARE_ZERO.getName()).setCustomObject(e.ZeroSuppressionType.ALL_CELLS_ARE_ZERO);this.m_zeroSuppressionRadioButtonGroup.registerOnSelect(this)}this.m_zeroSuppressionRadioButtonGroup.setSelectedName(this.getModel().getZeroSuppressionType().getName());t.add(this.m_zeroSuppressionRadioButtonGroup);return t};e.AldControllerZeroSuppression.prototype.getLabelTexts=function(){let t=e.LayoutDialogI18n.getLocalization();let i=e.XList.create();if(this.getModel().isSupportsZeroSuppression()){i.add(t.getText(e.LayoutDialogI18n.I18N_LD_ZERO_SUPPRESSION))}return i};e.AldControllerZeroSuppression.prototype.getPrefixControls=function(){let t=e.XList.create();return t};e.AldControllerZeroSuppression.prototype.getPrefixLabelTexts=function(){let t=e.XList.create();return t};e.AldControllerZeroSuppression.prototype.getPrefixWidths=function(){return null};e.AldControllerZeroSuppression.prototype.getSuffixControls=function(){let t=e.XList.create();return t};e.AldControllerZeroSuppression.prototype.getSuffixLabelTexts=function(){let t=e.XList.create();return t};e.AldControllerZeroSuppression.prototype.getSuffixWidths=function(){return null};e.AldControllerZeroSuppression.prototype.getWidths=function(){return null};e.AldControllerZeroSuppression.prototype.getZeroSuppressionRadioButtonGroup=function(){this.getControls();return this.m_zeroSuppressionRadioButtonGroup};e.AldControllerZeroSuppression.prototype.onObservableModelChange=function(e){this.getPrefixControls();this.getControls();this.getSuffixControls()};e.AldControllerZeroSuppression.prototype.onSelect=function(t){let i=t.getControl();let o=i.getName();switch(o){case e.AldControllerZeroSuppression.ZERO_SUPPRESSION_RBG:this.getModel().setZeroSuppressionType(i.getSelectedItem().getCustomObject());break}};e.OuCalcAbstractDatasourceHandler=function(){};e.OuCalcAbstractDatasourceHandler.prototype=new e.XObjectExt;e.OuCalcAbstractDatasourceHandler.prototype._ff_c="OuCalcAbstractDatasourceHandler";e.OuCalcAbstractDatasourceHandler.prototype.m_calcStructure=null;e.OuCalcAbstractDatasourceHandler.prototype.m_datasource=null;e.OuCalcAbstractDatasourceHandler.prototype.m_formulaTextHandler=null;e.OuCalcAbstractDatasourceHandler.prototype.m_queryModel=null;e.OuCalcAbstractDatasourceHandler.prototype.m_restrictedMeasures=null;e.OuCalcAbstractDatasourceHandler.prototype.cleanup=function(t,i){let o=e.notNull(i)?i:t;e.FeFormulaCustomMeasureUtil.deleteCustomMeasures(o,this.m_calcStructure);this.m_calcStructure.removeMeasure(o)};e.OuCalcAbstractDatasourceHandler.prototype.createCalculation=function(t,i,o,n,a){this.m_calcStructure.queueEventing();let r=null;try{r=this.createCalculationInternal(t,i,o,n,a);this.m_calcStructure.resumeEventing()}catch(t){this.m_calcStructure.resumeEventing();throw e.XException.createRuntimeException("Error in formula dialog calculation creation.")}return r};e.OuCalcAbstractDatasourceHandler.prototype.createCalculationInternal=function(t,i,o,n,a){let r=null;let l=e.XStringUtils.isNotNullAndNotEmpty(o)&&e.XString.isEqual(t,o);if(l){let t=this.m_calcStructure.getStructureMember(o);r=e.OuCalcNumberFormatting.createFromMember(t,true)}this.cleanup(t,o);this.m_restrictedMeasures=e.FeFormulaCustomMeasureUtil.createRestrictedMeasures(this.m_queryModel,this.m_calcStructure,n.getCustomMeasures());return this.createFormulaMeasure(t,i,n,a,l,r)};e.OuCalcAbstractDatasourceHandler.prototype.createFormulaMeasure=function(t,i,o,n,a,r){let l=this.m_calcStructure.addNewFormulaMeasure(t,i);l.setFormula(o.getFormula());l.setFormulaText(this.m_formulaTextHandler.generateInternalFormulaText(n));l.setIsEditable(true);l.setCustomMeasureNames(e.FeFormulaCustomMeasureUtil.getCustomMeasureNames(this.m_restrictedMeasures));if(this.m_calcStructure.getHierarchy()!==null&&this.m_calcStructure.getHierarchy().getName()!==null){l.setPreferredHierarchy(this.m_calcStructure.getHierarchy().getName())}let s=o.getFormula().getNumericShift();if(a){r.applyToMember(l);let e=r.getNumericShift()!==null&&r.getNumericShift().getInteger()===2;if(!s.isPresent()&&e){l.resetNumericShiftExt(true);this.updateIsNumericShiftPercentInFormula(l)}}if(s.isPresent()){l.setNumericShiftExt(s.get().getInteger(),false);this.updateIsNumericShiftPercentInFormula(l)}return l};e.OuCalcAbstractDatasourceHandler.prototype.getLocalization=function(){return e.XLocalizationCenter.getCenter()};e.OuCalcAbstractDatasourceHandler.prototype.getLogLayer=function(){return e.OriginLayer.APPLICATION};e.OuCalcAbstractDatasourceHandler.prototype.setupInternal=function(t,i){e.XObjectExt.assertNotNull(t);e.XObjectExt.assertNotNull(i);this.m_queryModel=t;this.m_calcStructure=i;this.m_datasource=this.getDatasource();this.m_formulaTextHandler=e.FeFormulaTextHandler.create(e.FeDatasourceMetadataProviderInternalImpl.create(this.m_datasource).getAllUsableMeasures())};e.OuCalcAbstractDatasourceHandler.prototype.setupInternalPromise=function(t,i){e.XObjectExt.assertNotNull(t);e.XObjectExt.assertNotNull(i);this.m_queryModel=t;this.m_calcStructure=i;return e.XPromise.create((t,i)=>{this.getDatasourcePromise().onThen(i=>{this.m_datasource=i;this.m_formulaTextHandler=e.FeFormulaTextHandler.create(e.FeDatasourceMetadataProviderInternalImpl.create(i).getAllUsableMeasures());t(this)})})};e.OuCalcAbstractDatasourceHandler.prototype.updateIsNumericShiftPercentInFormula=function(t){let i=t.getNumericShift();if(this.m_queryModel.getModelCapabilities().supportsNumericShiftPercent()){t.setNumericShiftPercent(e.notNull(i)&&i.getInteger()===2)}};e.AbstractCatalogController=function(){};e.AbstractCatalogController.prototype=new e.XObject;e.AbstractCatalogController.prototype._ff_c="AbstractCatalogController";e.AbstractCatalogController.CANCEL_BUTTON="cancelButton";e.AbstractCatalogController.OK_BUTTON="okButton";e.AbstractCatalogController.prototype.m_cancelButton=null;e.AbstractCatalogController.prototype.m_catalogLayout=null;e.AbstractCatalogController.prototype.m_catalogProcess=null;e.AbstractCatalogController.prototype.m_context=null;e.AbstractCatalogController.prototype.m_dialogCloseListener=null;e.AbstractCatalogController.prototype.m_display=null;e.AbstractCatalogController.prototype.m_isClosing=false;e.AbstractCatalogController.prototype.m_okButton=null;e.AbstractCatalogController.prototype.m_parameterName=null;e.AbstractCatalogController.prototype.m_searchInput=null;e.AbstractCatalogController.prototype.m_selectedItem=null;e.AbstractCatalogController.prototype.m_selectionList=null;e.AbstractCatalogController.prototype.m_setParameterListener=null;e.AbstractCatalogController.prototype.closeDialog=function(){if(!this.m_isClosing){this.m_isClosing=true;if(e.notNull(this.m_display)&&this.m_display.isOpen()){this.m_display.close()}}if(e.notNull(this.m_dialogCloseListener)){this.m_dialogCloseListener.onClose()}};e.AbstractCatalogController.prototype.isSearchActive=function(){return e.XStringUtils.isNotNullAndNotEmpty(this.m_searchInput.getValue())};e.AbstractCatalogController.prototype.onAfterOpen=function(e){};e.AbstractCatalogController.prototype.onBeforeClose=function(e){this.closeDialog()};e.AbstractCatalogController.prototype.onLiveChange=function(e){this.onSearch(e)};e.AbstractCatalogController.prototype.onOlapCatalogResult=function(e,t,i){if(!e.hasErrors()){this.m_selectionList.clearRows();let e=t.getObjectsIterator();while(e.hasNext()){let t=e.next();this.addItemToSelectionList(this.m_selectionList,t)}}this.m_selectionList.setBusy(false)};e.AbstractCatalogController.prototype.onPress=function(t){let i=t.getControl().getName();switch(i){case e.AbstractCatalogController.OK_BUTTON:if(e.notNull(this.m_dialogCloseListener)){if(e.notNull(this.m_setParameterListener)&&e.notNull(this.m_parameterName)&&e.notNull(this.m_selectedItem)){this.m_setParameterListener.setObject(this.m_parameterName,this.m_selectedItem)}this.m_dialogCloseListener.onSubmit()}break;case e.AbstractCatalogController.CANCEL_BUTTON:break}this.closeDialog()};e.AbstractCatalogController.prototype.onSearch=function(e){this.m_selectionList.setBusy(true);if(this.isSearchActive()){this.m_catalogProcess.processSearch(this.m_searchInput.getValue(),true,true,true,this,null)}else{this.m_searchInput.setValue(null);this.m_selectionList.setBusy(false)}};e.AbstractCatalogController.prototype.onSelect=function(e){let t=e.getControl();this.m_selectedItem=t.getSelectedItem().getCustomObject()};e.AbstractCatalogController.prototype.openDialog=function(t,i,o,n,a){e.XObjectExt.assertNotNullExt(i,"Catalog manager must be set");this.m_dialogCloseListener=a;this.m_catalogProcess=e.OlapUiCatalogOlap.create(i);this.m_setParameterListener=o;this.m_parameterName=n;this.setupController(t);this.m_catalogProcess.processValueHelp(this,null)};e.AbstractCatalogController.prototype.releaseObject=function(){this.m_catalogProcess=e.XObjectExt.release(this.m_catalogProcess);this.m_okButton=e.XObjectExt.release(this.m_okButton);this.m_cancelButton=e.XObjectExt.release(this.m_cancelButton);this.m_display=e.XObjectExt.release(this.m_display);this.m_catalogLayout=e.XObjectExt.release(this.m_catalogLayout);this.m_context=null};e.AbstractCatalogController.prototype.setupController=function(t){this.m_isClosing=false;this.m_display=this.m_context.getDisplayFactory().getInstance();this.m_display.setName("Catalog Dialog");this.m_display.setTitle(t);this.m_display.registerOnAfterOpen(this);this.m_display.registerOnBeforeClose(this);this.m_display.setHeight(e.UiCssLength.createExt(80,e.UiCssSizeUnit.PERCENT));this.m_display.setWidth(e.UiCssLength.createExt(80,e.UiCssSizeUnit.PERCENT));let i=this.m_display.getGenesis();this.m_catalogLayout=e.DdCatalogLayout.createWithGenesis(i);this.m_selectionList=this.m_catalogLayout.getSelectionArea().addNewItemOfType(e.UiType.TABLE);this.m_selectionList.setTableSelectionMode(e.UiTableSelectionMode.SINGLE);this.m_selectionList.setHeight(e.UiCssLength.create("100%"));this.m_selectionList.addNewColumn();this.m_selectionList.addNewColumn();this.m_selectionList.addNewColumn();this.m_selectionList.registerOnSelect(this);this.m_catalogLayout.buildOlapDialogUi(this.m_display.getGenesis());this.m_okButton=this.m_display.addNewButton();this.m_okButton.setName(e.AbstractCatalogController.OK_BUTTON);this.m_okButton.setText(e.XLocalizationCenter.getCenter().getText(e.XCommonI18n.OK));this.m_okButton.setButtonType(e.UiButtonType.PRIMARY);this.m_okButton.registerOnPress(this);this.m_cancelButton=this.m_display.addNewButton();this.m_cancelButton.setName(e.AbstractCatalogController.CANCEL_BUTTON);this.m_cancelButton.setText(e.XLocalizationCenter.getCenter().getText(e.XCommonI18n.CANCEL));this.m_cancelButton.registerOnPress(this);this.m_display.getGenesis().setRoot(this.m_catalogLayout.buildTree(i));this.m_display.open()};e.HierarchyCatalogController=function(){};e.HierarchyCatalogController.prototype=new e.XObject;e.HierarchyCatalogController.prototype._ff_c="HierarchyCatalogController";e.HierarchyCatalogController.CANCEL_BUTTON="cancelButton";e.HierarchyCatalogController.DATE_FILTER_INPUT="dateFilterInput";e.HierarchyCatalogController.FILTER_INPUT="filterInput";e.HierarchyCatalogController.OBJECT_VERSION_FILTER_INPUT="objectVersionFilterInput";e.HierarchyCatalogController.OK_BUTTON="okButton";e.HierarchyCatalogController.VERSION_FILTER_INPUT="versionFilterInput";e.HierarchyCatalogController.create=function(t){let i=new e.HierarchyCatalogController;i.m_context=t;return i};e.HierarchyCatalogController.prototype.m_cancelButton=null;e.HierarchyCatalogController.prototype.m_catalogLayout=null;e.HierarchyCatalogController.prototype.m_catalogProcess=null;e.HierarchyCatalogController.prototype.m_context=null;e.HierarchyCatalogController.prototype.m_dateSearchInput=null;e.HierarchyCatalogController.prototype.m_dialogCloseListener=null;e.HierarchyCatalogController.prototype.m_display=null;e.HierarchyCatalogController.prototype.m_isClosing=false;e.HierarchyCatalogController.prototype.m_modelDimension=null;e.HierarchyCatalogController.prototype.m_objectVersionSearchInput=null;e.HierarchyCatalogController.prototype.m_okButton=null;e.HierarchyCatalogController.prototype.m_parameterName=null;e.HierarchyCatalogController.prototype.m_searchInput=null;e.HierarchyCatalogController.prototype.m_selectedItem=null;e.HierarchyCatalogController.prototype.m_selectionList=null;e.HierarchyCatalogController.prototype.m_setParameterListener=null;e.HierarchyCatalogController.prototype.m_versionSearchInput=null;e.HierarchyCatalogController.prototype.addItemToSelectionList=function(t,i,o,n,a,r){let l=this.m_selectionList.addNewRow().setName(t.getHierarchyName()).setCustomObject(t);if(e.notNull(this.m_modelDimension)&&(this.m_modelDimension.isShowTechnical()||e.XStringUtils.isNullOrEmpty(t.getHierarchyDescription()))){l.addNewCell().setCustomObject(t).setText(t.getHierarchyName()).setWidth(e.UiCssLength.create("20%"))}else{l.addNewCell().setCustomObject(t).setText(t.getHierarchyDescription()).setWidth(e.UiCssLength.create("30%"))}if(e.notNull(this.m_modelDimension)&&(this.m_modelDimension.isShowTechnical()||!n)&&i){l.addNewCell().setCustomObject(t).setText(t.getVersionName()).setWidth(e.UiCssLength.create("10%"))}else if(n){l.addNewCell().setCustomObject(t).setText(t.getVersionDescription()).setWidth(e.UiCssLength.create("10%"))}if(a){l.addNewCell().setCustomObject(t).setText(t.getObjectVersion()).setWidth(e.UiCssLength.create("10%"))}if(r){l.addNewCell().setCustomObject(t).setText(t.getDateFrom()===null?"":t.getDateFrom().toIsoFormat()).setWidth(e.UiCssLength.create("10%"));l.addNewCell().setCustomObject(t).setText(t.getDateTo()===null?"":t.getDateTo().toIsoFormat()).setWidth(e.UiCssLength.create("10%"))}};e.HierarchyCatalogController.prototype.addItemsToSelectionList=function(t){let i=false;let o=false;let n=false;let a=false;let r=false;let l;let s;for(l=0;l<t.size();l++){s=t.get(l);i=i||s.hasVersionName()&&e.XStringUtils.isNotNullAndNotEmpty(s.getVersionName());o=o||s.hasVersionDisplayKey()&&e.XStringUtils.isNotNullAndNotEmpty(s.getVersionDisplayKey());n=n||s.hasVersionDescription()&&e.XStringUtils.isNotNullAndNotEmpty(s.getVersionDescription());a=a||s.hasObjectVersion()&&e.XStringUtils.isNotNullAndNotEmpty(s.getObjectVersion());r=r||s.getDateFrom()!==null&&s.getDateFrom().getYear()>0||s.getDateTo()!==null&&s.getDateTo().getYear()<9999}let u=e.CatalogDialogI18n.getLocalization();if(e.notNull(this.m_modelDimension)&&this.m_modelDimension.isShowTechnical()){this.m_selectionList.addNewColumn().setTitle(u.getText(e.CatalogDialogI18n.I18N_CD_KEY))}else{this.m_selectionList.addNewColumn().setTitle(u.getText(e.CatalogDialogI18n.I18N_CD_TEXT))}if(i){this.m_selectionList.addNewColumn().setTitle(u.getText(e.CatalogDialogI18n.I18N_CD_VERSION))}if(n){this.m_selectionList.addNewColumn().setTitle(e.XStringUtils.concatenate4(u.getText(e.CatalogDialogI18n.I18N_CD_OBJECT_VERSION)," (",u.getText(e.CatalogDialogI18n.I18N_CD_TEXT),")"))}if(a){this.m_selectionList.addNewColumn().setTitle(u.getText(e.CatalogDialogI18n.I18N_CD_OBJECT_VERSION))}if(r){this.m_selectionList.addNewColumn();this.m_selectionList.addNewColumn()}for(l=0;l<t.size();l++){s=t.get(l);this.addItemToSelectionList(s,i,o,n,a,r)}};e.HierarchyCatalogController.prototype.closeDialog=function(){if(!this.m_isClosing){this.m_isClosing=true;if(e.notNull(this.m_display)&&this.m_display.isOpen()){this.m_display.close()}}if(e.notNull(this.m_dialogCloseListener)){this.m_dialogCloseListener.onClose()}};e.HierarchyCatalogController.prototype.isSearchActive=function(){return e.XStringUtils.isNotNullAndNotEmpty(this.m_searchInput.getValue())||e.XStringUtils.isNotNullAndNotEmpty(this.m_versionSearchInput.getValue())||e.XStringUtils.isNotNullAndNotEmpty(this.m_objectVersionSearchInput.getValue())||e.XStringUtils.isNotNullAndNotEmpty(this.m_dateSearchInput.getValue())};e.HierarchyCatalogController.prototype.onAfterOpen=function(e){};e.HierarchyCatalogController.prototype.onBeforeClose=function(e){this.closeDialog()};e.HierarchyCatalogController.prototype.onChange=function(e){this.onSearch(e)};e.HierarchyCatalogController.prototype.onHierarchyCatalogResult=function(t,i,o){if(!t.hasErrors()&&e.notNull(i)){this.m_selectionList.clearColumns();this.m_selectionList.clearRows();this.addItemsToSelectionList(i.getObjects())}this.m_selectionList.setBusy(false)};e.HierarchyCatalogController.prototype.onLiveChange=function(e){this.onSearch(e)};e.HierarchyCatalogController.prototype.onPress=function(t){let i=t.getControl().getName();switch(i){case e.HierarchyCatalogController.OK_BUTTON:if(e.notNull(this.m_dialogCloseListener)){this.m_dialogCloseListener.onSubmit()}if(e.notNull(this.m_setParameterListener)&&e.notNull(this.m_parameterName)&&e.notNull(this.m_selectedItem)){this.m_setParameterListener.setObject(this.m_parameterName,this.m_selectedItem)}break;case e.HierarchyCatalogController.CANCEL_BUTTON:break}this.closeDialog()};e.HierarchyCatalogController.prototype.onSearch=function(t){this.m_selectionList.setBusy(true);this.m_catalogProcess.processSearch(this.m_searchInput.getValue(),this.m_versionSearchInput.getValue(),this.m_objectVersionSearchInput.getValue(),e.XDate.createDateSafe(this.m_dateSearchInput.getValue()),this,null)};e.HierarchyCatalogController.prototype.onSelect=function(e){this.m_selectedItem=e.getSelectedItem().getCustomObject()};e.HierarchyCatalogController.prototype.openDialog=function(t,i,o,n,a,r){e.XObjectExt.assertNotNullExt(i,"Catalog manager must be set");this.m_dialogCloseListener=a;this.m_catalogProcess=e.OlapUiHierarchyCatalog.create(i);this.m_parameterName=n;this.m_setParameterListener=o;this.setupController(t);this.m_catalogProcess.processValueHelp(this,null);this.m_modelDimension=r};e.HierarchyCatalogController.prototype.releaseObject=function(){this.m_catalogProcess=e.XObjectExt.release(this.m_catalogProcess);this.m_okButton=e.XObjectExt.release(this.m_okButton);this.m_cancelButton=e.XObjectExt.release(this.m_cancelButton);this.m_display=e.XObjectExt.release(this.m_display);this.m_catalogLayout=e.XObjectExt.release(this.m_catalogLayout);this.m_context=null};e.HierarchyCatalogController.prototype.setupController=function(t){this.m_isClosing=false;this.m_display=this.m_context.getDisplayFactory().getInstance();this.m_display.setName("Hierarchy Catalog Dialog");this.m_display.setTitle(t);this.m_display.registerOnAfterOpen(this);this.m_display.registerOnBeforeClose(this);this.m_display.setHeight(e.UiCssLength.createExt(50,e.UiCssSizeUnit.PERCENT));this.m_display.setWidth(e.UiCssLength.createExt(50,e.UiCssSizeUnit.PERCENT));let i=this.m_display.getGenesis();this.m_catalogLayout=e.DdCatalogLayout.createWithGenesis(i);this.m_catalogLayout.buildOlapDialogUi(this.m_display.getGenesis());this.m_selectionList=this.m_catalogLayout.getSelectionArea().addNewItemOfType(e.UiType.TABLE);this.m_selectionList.setBusy(true);this.m_selectionList.setTableSelectionMode(e.UiTableSelectionMode.SINGLE);this.m_selectionList.addNewColumn();this.m_selectionList.addNewColumn();this.m_selectionList.addNewColumn();this.m_selectionList.addNewColumn();this.m_selectionList.addNewColumn();this.m_selectionList.addNewColumn();this.m_selectionList.addNewColumn();this.setupSearchArea();this.m_selectionList.registerOnSelect(this);this.m_okButton=this.m_display.addNewButton();this.m_okButton.setName(e.HierarchyCatalogController.OK_BUTTON);this.m_okButton.setText(e.CatalogDialogI18n.getLocalization().getText(e.XCommonI18n.OK));this.m_okButton.setButtonType(e.UiButtonType.PRIMARY);this.m_okButton.registerOnPress(this);this.m_cancelButton=this.m_display.addNewButton();this.m_cancelButton.setName(e.HierarchyCatalogController.CANCEL_BUTTON);this.m_cancelButton.setText(e.CatalogDialogI18n.getLocalization().getText(e.XCommonI18n.CANCEL));this.m_cancelButton.registerOnPress(this);this.m_display.getGenesis().setRoot(this.m_catalogLayout.buildTree(i));this.m_display.open()};e.HierarchyCatalogController.prototype.setupSearchArea=function(){let t=e.CatalogDialogI18n.getLocalization();let i=this.m_catalogLayout.getFilterArea().addNewItemOfType(e.UiType.FLEX_LAYOUT);i.addNewItemOfType(e.UiType.LABEL).setText(t.getText(e.CatalogDialogI18n.I18N_CD_HIERARCHY)).setWidth(e.UiCssLength.create("20%"));this.m_searchInput=i.addNewItemOfType(e.UiType.SEARCH_FIELD).setName(e.HierarchyCatalogController.FILTER_INPUT);this.m_searchInput.setPlaceholder(t.getText(e.CatalogDialogI18n.I18N_CD_SEARCH));this.m_searchInput.registerOnSearch(this);this.m_searchInput.registerOnLiveChange(this);i=this.m_catalogLayout.getFilterArea().addNewItemOfType(e.UiType.FLEX_LAYOUT);i.addNewItemOfType(e.UiType.LABEL).setText(t.getText(e.CatalogDialogI18n.I18N_CD_VERSION)).setWidth(e.UiCssLength.create("20%"));this.m_versionSearchInput=i.addNewItemOfType(e.UiType.SEARCH_FIELD).setName(e.HierarchyCatalogController.VERSION_FILTER_INPUT);this.m_versionSearchInput.setPlaceholder(t.getText(e.CatalogDialogI18n.I18N_CD_SEARCH));this.m_versionSearchInput.registerOnSearch(this);this.m_versionSearchInput.registerOnLiveChange(this);i=this.m_catalogLayout.getFilterArea().addNewItemOfType(e.UiType.FLEX_LAYOUT);i.addNewItemOfType(e.UiType.LABEL).setText(t.getText(e.CatalogDialogI18n.I18N_CD_OBJECT_VERSION)).setWidth(e.UiCssLength.create("20%"));this.m_objectVersionSearchInput=i.addNewItemOfType(e.UiType.SEARCH_FIELD).setName(e.HierarchyCatalogController.OBJECT_VERSION_FILTER_INPUT);this.m_objectVersionSearchInput.setPlaceholder(t.getText(e.CatalogDialogI18n.I18N_CD_SEARCH));this.m_objectVersionSearchInput.registerOnSearch(this);this.m_objectVersionSearchInput.registerOnLiveChange(this);i=this.m_catalogLayout.getFilterArea().addNewItemOfType(e.UiType.FLEX_LAYOUT);i.addNewItemOfType(e.UiType.LABEL).setText(t.getText(e.CatalogDialogI18n.I18N_CD_DATE)).setWidth(e.UiCssLength.create("20%"));this.m_dateSearchInput=i.addNewItemOfType(e.UiType.DATE_PICKER).setName(e.HierarchyCatalogController.DATE_FILTER_INPUT);this.m_dateSearchInput.registerOnChange(this)};e.CbController=function(){};e.CbController.prototype=new e.XObject;e.CbController.prototype._ff_c="CbController";e.CbController.BUSY=1;e.CbController.COMPONENT_NAME="ClipboardDialog";e.CbController.IDLE=0;e.CbController.create=function(t){let i=new e.CbController;i.setupController(t);return i};e.CbController.prototype.m_cancelBtn=null;e.CbController.prototype.m_display=null;e.CbController.prototype.m_layout=null;e.CbController.prototype.m_listener=null;e.CbController.prototype.m_okBtn=null;e.CbController.prototype.m_originalText=null;e.CbController.prototype.m_uiManager=null;e.CbController.prototype.close=function(){this.m_display.close()};e.CbController.prototype.onAfterOpen=function(e){this.m_layout.getTextArea().focus()};e.CbController.prototype.onPaste=function(t){let i=this.m_layout.getTextArea().getValue();let o=e.DialogGridParser.convertFromExcel(i);this.m_layout.getTextArea().setValue(o)};e.CbController.prototype.onPress=function(t){let i=t.getControl();if(i===this.m_okBtn){this.setState(e.CbController.BUSY);let t=this.m_layout.getTextArea().getValue();let i=!e.XString.isEqual(this.m_originalText,t);this.m_listener.onClipboardOk(i,t)}else if(i===this.m_cancelBtn){this.m_listener.onClipboardCancel()}};e.CbController.prototype.openClipboardDialog=function(e,t,i){this.setupClipboardDialog(e,t,i,false)};e.CbController.prototype.openLazyLoadClipboardDialog=function(e,t){this.setupClipboardDialog(e,null,t,true)};e.CbController.prototype.releaseObject=function(){this.m_listener=null;this.m_originalText=null;this.m_okBtn=e.XObjectExt.release(this.m_okBtn);this.m_cancelBtn=e.XObjectExt.release(this.m_cancelBtn);this.m_display=e.XObjectExt.release(this.m_display);this.m_uiManager=null;e.XObject.prototype.releaseObject.call(this)};e.CbController.prototype.setBusy=function(){this.setState(e.CbController.BUSY)};e.CbController.prototype.setIdle=function(){this.setState(e.CbController.IDLE)};e.CbController.prototype.setState=function(t){switch(t){case e.CbController.IDLE:this.m_layout.getTextArea().setBusy(false);this.m_okBtn.setEnabled(true);break;case e.CbController.BUSY:this.m_layout.getTextArea().setBusy(true);this.m_okBtn.setEnabled(false);break}};e.CbController.prototype.setText=function(t){this.m_originalText=t;this.m_layout.getTextArea().setValue(t);this.setState(e.CbController.IDLE)};e.CbController.prototype.setupClipboardDialog=function(t,i,o,n){this.m_listener=o;if(e.isNull(this.m_display)){this.m_display=e.OlapUiDialogHandle.createDialogHandle(this.m_uiManager.newControl(e.UiType.DIALOG));this.m_display.setName("ClipboardDialog");this.m_display.registerOnAfterOpen(this);this.m_display.setTitle(e.XLocalizationCenter.getCenter().getText(e.ClipboardDialogI18n.I18N_CB_CLIPBOARD));this.m_display.setWidth(e.UiCssLength.createExt(509,e.UiCssSizeUnit.PIXEL));this.m_okBtn=this.m_display.addNewButton();this.m_okBtn.setText("Ok");this.m_okBtn.setButtonType(e.UiButtonType.PRIMARY);this.m_okBtn.setName("ClipboardOkBtn");this.m_okBtn.registerOnPress(this);this.m_cancelBtn=this.m_display.addNewButton();this.m_cancelBtn.setText("Cancel");this.m_cancelBtn.setName("ClipboardCancelBtn");this.m_cancelBtn.registerOnPress(this);this.m_layout.buildOlapDialogUi(this.m_display.getGenesis());this.m_layout.getTextArea().registerOnPaste(this)}if(e.XStringUtils.isNullOrEmpty(t)){this.m_layout.getInfoSection().setVisible(false)}else{this.m_layout.getInfoSection().setVisible(true);this.m_layout.getInfoLabel().setText(t)}this.setText(i);this.setState(n?e.CbController.BUSY:e.CbController.IDLE);this.m_display.open()};e.CbController.prototype.setupController=function(t){this.m_uiManager=t;this.m_layout=e.CbLayout.create()};e.CmtController=function(){};e.CmtController.prototype=new e.XObject;e.CmtController.prototype._ff_c="CmtController";e.CmtController.BUSY=1;e.CmtController.IDLE=0;e.CmtController.create=function(t){let i=new e.CmtController;i.setupController(t);return i};e.CmtController.prototype.m_cancelBtn=null;e.CmtController.prototype.m_context=null;e.CmtController.prototype.m_display=null;e.CmtController.prototype.m_layout=null;e.CmtController.prototype.m_listener=null;e.CmtController.prototype.m_okBtn=null;e.CmtController.prototype.m_originalText=null;e.CmtController.prototype.close=function(){this.m_display.close()};e.CmtController.prototype.onAfterOpen=function(e){this.m_layout.getTextArea().focus()};e.CmtController.prototype.onPress=function(t){let i=t.getControl();if(i===this.m_okBtn){this.setState(e.CmtController.BUSY);let t=this.m_layout.getTextArea().getValue();let i=!e.XString.isEqual(this.m_originalText,t);this.m_listener.onCommentingOk(i,t)}else if(i===this.m_cancelBtn){this.m_listener.onCommentingCancel()}};e.CmtController.prototype.openCommentingDialog=function(e,t,i,o){this.setUpCommentingDialog(e,t,i,o)};e.CmtController.prototype.releaseObject=function(){this.m_listener=null;this.m_originalText=null;this.m_okBtn=e.XObjectExt.release(this.m_okBtn);this.m_cancelBtn=e.XObjectExt.release(this.m_cancelBtn);this.m_display=e.XObjectExt.release(this.m_display);this.m_context=null;e.XObject.prototype.releaseObject.call(this)};e.CmtController.prototype.setBusy=function(){this.setState(e.CmtController.BUSY)};e.CmtController.prototype.setIdle=function(){this.setState(e.CmtController.IDLE)};e.CmtController.prototype.setState=function(t){switch(t){case e.CmtController.IDLE:this.m_layout.getTextArea().setBusy(false);this.m_okBtn.setEnabled(true);break;case e.CmtController.BUSY:this.m_layout.getTextArea().setBusy(true);this.m_okBtn.setEnabled(false);break}};e.CmtController.prototype.setText=function(t){this.m_originalText=t;this.m_layout.getTextArea().setValue(t);this.setState(e.CmtController.IDLE)};e.CmtController.prototype.setUpCommentingDialog=function(t,i,o,n){this.m_listener=n;if(e.isNull(this.m_display)){this.m_display=this.m_context.getDisplayFactory().getInstance();this.m_display.setName("CommentingDialog");this.m_display.registerOnAfterOpen(this);this.m_display.setTitle("Comment");this.m_display.setWidth(e.UiCssLength.createExt(509,e.UiCssSizeUnit.PIXEL));this.m_okBtn=this.m_display.addNewButton();this.m_okBtn.setText("Ok");this.m_okBtn.setButtonType(e.UiButtonType.PRIMARY);this.m_okBtn.setName("CommentingOkBtn");this.m_okBtn.registerOnPress(this);this.m_cancelBtn=this.m_display.addNewButton();this.m_cancelBtn.setText("Cancel");this.m_cancelBtn.setName("CommentingCancelBtn");this.m_cancelBtn.registerOnPress(this);this.m_layout.buildOlapDialogUi(this.m_display.getGenesis());if(e.XStringUtils.isNullOrEmpty(t)){this.m_layout.getInfoSection().setVisible(false)}else{this.m_layout.getInfoSection().setVisible(true);this.m_layout.getInfoLabel().setText(t)}this.setText(i);this.m_layout.getTextArea().setEnabled(!o);this.setState(e.CmtController.IDLE);this.m_display.open()}};e.CmtController.prototype.setupController=function(t){this.m_context=t;this.m_layout=e.CmtLayout.create()};e.DataCellController=function(){};e.DataCellController.prototype=new e.XObject;e.DataCellController.prototype._ff_c="DataCellController";e.DataCellController.create=function(t){let i=new e.DataCellController;i.setupController(t);return i};e.DataCellController.prototype.m_closeBtn=null;e.DataCellController.prototype.m_context=null;e.DataCellController.prototype.m_display=null;e.DataCellController.prototype.m_layout=null;e.DataCellController.prototype.m_listener=null;e.DataCellController.prototype.m_measure1=null;e.DataCellController.prototype.m_measure2=null;e.DataCellController.prototype.m_model=null;e.DataCellController.prototype.m_okBtn=null;e.DataCellController.prototype.m_propsForSecondStructure=false;e.DataCellController.prototype.m_queryManager=null;e.DataCellController.prototype.changed=function(){let t=this.getCmds().getMeasure(this.m_measure1);let i=null;if(e.notNull(this.m_measure2)){let e=this.getQueryModel().getNonMeasureDimension();i=e.getDimensionMember(this.m_measure2)}let o=false;let n=false;let a=false;let r=false;let l=e.isNull(this.m_measure2)?t:e.notNull(i)?i:null;if(e.notNull(l)){n=this.didValueChange(this.m_model.getDecimal(),this.m_layout.getSelectedDecimal());a=this.didValueChange(this.m_model.getScaling(),this.m_layout.getSelectedScaling());r=this.m_model.getDisaggregationModeOnModel()!==this.m_layout.getSelectedDisaggregationMode();if(n){if(this.m_model.getDecimalDefaultAsMetadata()){l.resetToDefaultNumericScale()}else{l.setNumericScale(e.XInteger.convertFromString(this.m_layout.getSelectedDecimal()))}}if(a){if(this.m_model.getScalingDefaultAsMetadata()){l.resetToDefaultNumericShift()}else{l.setNumericShiftExt(e.XInteger.convertFromString(this.m_layout.getSelectedScaling()),true)}}if(r){let e=this.getCellBasedOnMeasures();if(this.m_model.getDisaggregationModeDefaultAsMetadata()){e.resetToDefaultDisaggregationMode()}else{e.setDisaggregationMode(this.m_layout.getSelectedDisaggregationMode())}}}return o||n||a||r};e.DataCellController.prototype.close=function(){this.m_display.close()};e.DataCellController.prototype.decimalDefaultAsMetadata=function(){let t=this.getCmds().getMeasure(this.m_measure1);let i=e.isNull(t)||t.isNumericScaleDefault();let o=true;if(e.XStringUtils.isNotNullAndNotEmpty(this.m_measure2)){let e=this.getQueryModel().getNonMeasureDimension();let t=e.getDimensionMember(this.m_measure2);o=t.isNumericScaleDefault()}return i&&o};e.DataCellController.prototype.determineDecimal=function(){let t=this.getCmds().getMeasure(this.m_measure1);let i=null;let o=e.isNull(t)?null:t.getNumericScale();let n=null;if(e.XStringUtils.isNotNullAndNotEmpty(this.m_measure2)){let e=this.getQueryModel().getNonMeasureDimension();i=e.getDimensionMember(this.m_measure2);n=i.getNumericScale()}let a=null;if(e.isNull(i)){if(e.notNull(o)){a=o.getStringRepresentation()}}else{if(e.notNull(n)){a=n.getStringRepresentation()}}return a};e.DataCellController.prototype.determineDisaggregationMode=function(){let t=this.getCellBasedOnMeasures();return e.notNull(t)?t.getDisaggregationMode():null};e.DataCellController.prototype.determineResultCalculation=function(){let t=null;if(!this.m_propsForSecondStructure&&e.XStringUtils.isNotNullAndNotEmpty(this.m_measure1)){t=this.getCmds().getMeasure(this.m_measure1)}else if(e.XStringUtils.isNotNullAndNotEmpty(this.m_measure2)){let e=this.getQueryModel().getNonMeasureDimension();t=e.getDimensionMember(this.m_measure2)}let i=e.notNull(t)?t.getResultCalculation():null;return e.notNull(i)?i.getName():null};e.DataCellController.prototype.determineScaling=function(){let t=this.getCmds().getMeasure(this.m_measure1);let i=null;let o=e.isNull(t)?null:t.getNumericShiftExt(true);let n=null;if(e.XStringUtils.isNotNullAndNotEmpty(this.m_measure2)){let e=this.getQueryModel().getNonMeasureDimension();i=e.getDimensionMember(this.m_measure2);n=i.getNumericShiftExt(true)}let a=null;if(e.isNull(i)){if(e.notNull(o)){a=o.getStringRepresentation()}}else{if(e.notNull(n)){a=n.getStringRepresentation()}}return a};e.DataCellController.prototype.determineSingleValueCalculation=function(){let t=null;if(!this.m_propsForSecondStructure&&e.XStringUtils.isNotNullAndNotEmpty(this.m_measure1)){t=this.getCmds().getMeasure(this.m_measure1)}else if(e.XStringUtils.isNotNullAndNotEmpty(this.m_measure2)){let e=this.getQueryModel().getNonMeasureDimension();t=e.getDimensionMember(this.m_measure2)}let i=e.notNull(t)?t.getSingleValueCalculation():null;return e.notNull(i)?i.getName():null};e.DataCellController.prototype.determineValueType=function(){let t=this.getCellBasedOnMeasures();let i=null;if(e.notNull(t)){i=t.getBaseValueType()}return e.notNull(i)?i.getName():null};e.DataCellController.prototype.didValueChange=function(t,i){let o=false;if(e.XStringUtils.isNotNullAndNotEmpty(i)){let n=e.XInteger.convertFromString(i);if(e.notNull(t)){let i=e.XInteger.convertFromString(t);if(n!==i){o=true}}else{o=true}}return o};e.DataCellController.prototype.getCellBasedOnMeasures=function(){let t=this.getCmds().getMeasure(this.m_measure1);let i=e.isNull(t)?null:t.getQueryDataCells();let o=null;if(e.XCollectionUtils.hasElements(i)){let t=i.size();if(t===1||e.XStringUtils.isNullOrEmpty(this.m_measure2)){o=i.get(0)}else{let n=null;for(let a=0;a<t;a++){n=i.get(a);if(e.XString.isEqual(n.getReferenceStructureElement1().getName(),this.m_measure1)&&e.XString.isEqual(n.getReferenceStructureElement2().getName(),this.m_measure2)){o=n;break}}}}else if(e.XStringUtils.isNullOrEmpty(this.m_measure1)&&e.XStringUtils.isNotNullAndNotEmpty(this.m_measure2)){let t=this.getQueryModel().getNonMeasureDimension();if(e.notNull(t)){let n=t.getStructureMemberByAliasOrMember(this.m_measure2);i=e.isNull(n)?null:n.getQueryDataCells();if(e.XCollectionUtils.hasElements(i)){o=i.get(0)}}}return o};e.DataCellController.prototype.getCmds=function(){return this.getQueryManager().getConvenienceCommands()};e.DataCellController.prototype.getDecimalDefaultValue=function(){let t=this.getCmds().getMeasure(this.m_measure1);let i=e.isNull(t)?null:t.getDefaultNumericScale();if(e.XStringUtils.isNotNullAndNotEmpty(this.m_measure2)){let e=this.getQueryModel().getNonMeasureDimension();let t=e.getDimensionMember(this.m_measure2);let i=t.getDefaultNumericScale();return i}return i};e.DataCellController.prototype.getDecimalSelections=function(){let t=e.XList.create();t.add(e.XPairOfString.create(e.DataCellDialogI18n.getLocalization().getText(e.DataCellDialogI18n.I18N_DCD_UNDEFINED),"-1"));t.add(e.XPairOfString.create(e.DataCellDialogI18n.getLocalization().getText(e.DataCellDialogI18n.I18N_DCD_DECIMAL_0),"0"));t.add(e.XPairOfString.create(e.DataCellDialogI18n.getLocalization().getText(e.DataCellDialogI18n.I18N_DCD_DECIMAL_1),"1"));t.add(e.XPairOfString.create(e.DataCellDialogI18n.getLocalization().getText(e.DataCellDialogI18n.I18N_DCD_DECIMAL_2),"2"));t.add(e.XPairOfString.create(e.DataCellDialogI18n.getLocalization().getText(e.DataCellDialogI18n.I18N_DCD_DECIMAL_3),"3"));t.add(e.XPairOfString.create(e.DataCellDialogI18n.getLocalization().getText(e.DataCellDialogI18n.I18N_DCD_DECIMAL_4),"4"));t.add(e.XPairOfString.create(e.DataCellDialogI18n.getLocalization().getText(e.DataCellDialogI18n.I18N_DCD_DECIMAL_5),"5"));t.add(e.XPairOfString.create(e.DataCellDialogI18n.getLocalization().getText(e.DataCellDialogI18n.I18N_DCD_DECIMAL_6),"6"));t.add(e.XPairOfString.create(e.DataCellDialogI18n.getLocalization().getText(e.DataCellDialogI18n.I18N_DCD_DECIMAL_7),"7"));t.add(e.XPairOfString.create(e.DataCellDialogI18n.getLocalization().getText(e.DataCellDialogI18n.I18N_DCD_DECIMAL_8),"8"));t.add(e.XPairOfString.create(e.DataCellDialogI18n.getLocalization().getText(e.DataCellDialogI18n.I18N_DCD_DECIMAL_9),"9"));return t};e.DataCellController.prototype.getDisaggregationModeDefaultValue=function(){let t=this.getCellBasedOnMeasures();return e.notNull(t)?t.getDefaultDisaggregationMode():null};e.DataCellController.prototype.getDisaggregationModeSelections=function(){let t=e.XList.create();t.add(e.XPairOfString.create(e.DataCellDialogI18n.getLocalization().getText(e.DataCellDialogI18n.I18N_DCD_DM_NONE),"None"));t.add(e.XPairOfString.create(e.DataCellDialogI18n.getLocalization().getText(e.DataCellDialogI18n.I18N_DCD_DM_ABS),"Absolute"));t.add(e.XPairOfString.create(e.DataCellDialogI18n.getLocalization().getText(e.DataCellDialogI18n.I18N_DCD_DM_COPY),"Copy"));t.add(e.XPairOfString.create(e.DataCellDialogI18n.getLocalization().getText(e.DataCellDialogI18n.I18N_DCD_DM_DELTA),"Delta"));return t};e.DataCellController.prototype.getQueryManager=function(){return e.XWeakReferenceUtil.getHardRef(this.m_queryManager)};e.DataCellController.prototype.getQueryModel=function(){return this.getQueryManager().getQueryModel()};e.DataCellController.prototype.getResultCalculationSelections=function(){let t=e.XList.create();t.add(e.XPairOfString.create(e.DataCellDialogI18n.getLocalization().getText(e.DataCellDialogI18n.I18N_DCD_UNDEFINED),"00"));t.add(e.XPairOfString.create(e.DataCellDialogI18n.getLocalization().getText(e.DataCellDialogI18n.I18N_DCD_RC_SUM),"01"));t.add(e.XPairOfString.create(e.DataCellDialogI18n.getLocalization().getText(e.DataCellDialogI18n.I18N_DCD_RC_MAX),"02"));t.add(e.XPairOfString.create(e.DataCellDialogI18n.getLocalization().getText(e.DataCellDialogI18n.I18N_DCD_RC_MIN),"03"));t.add(e.XPairOfString.create(e.DataCellDialogI18n.getLocalization().getText(e.DataCellDialogI18n.I18N_DCD_RC_COUNT_ALL_VALUES),"04"));t.add(e.XPairOfString.create(e.DataCellDialogI18n.getLocalization().getText(e.DataCellDialogI18n.I18N_DCD_RC_COUNT_ALL_VALUES_NOT_ZERO),"05"));t.add(e.XPairOfString.create(e.DataCellDialogI18n.getLocalization().getText(e.DataCellDialogI18n.I18N_DCD_RC_AVG_ALL_VALUES),"06"));t.add(e.XPairOfString.create(e.DataCellDialogI18n.getLocalization().getText(e.DataCellDialogI18n.I18N_DCD_RC_AVG_ALL_VALUES_NOT_ZERO),"07"));t.add(e.XPairOfString.create(e.DataCellDialogI18n.getLocalization().getText(e.DataCellDialogI18n.I18N_DCD_RC_SD),"08"));t.add(e.XPairOfString.create(e.DataCellDialogI18n.getLocalization().getText(e.DataCellDialogI18n.I18N_DCD_RC_VARIANCE),"09"));t.add(e.XPairOfString.create(e.DataCellDialogI18n.getLocalization().getText(e.DataCellDialogI18n.I18N_DCD_RC_FV),"11"));t.add(e.XPairOfString.create(e.DataCellDialogI18n.getLocalization().getText(e.DataCellDialogI18n.I18N_DCD_RC_LV),"12"));t.add(e.XPairOfString.create(e.DataCellDialogI18n.getLocalization().getText(e.DataCellDialogI18n.I18N_DCD_RC_SUM_ROUNDED_VALUES),"13"));t.add(e.XPairOfString.create(e.DataCellDialogI18n.getLocalization().getText(e.DataCellDialogI18n.I18N_DCD_RC_SUPPRESS_RESULT),"14"));return t};e.DataCellController.prototype.getScalingDefaultValue=function(){let t=this.getCmds().getMeasure(this.m_measure1);let i=e.isNull(t)?null:t.getDefaultNumericShiftExt(true);if(e.XStringUtils.isNotNullAndNotEmpty(this.m_measure2)){let e=this.getQueryModel().getNonMeasureDimension();let t=e.getDimensionMember(this.m_measure2);let i=t.getDefaultNumericShiftExt(true);return i}return i};e.DataCellController.prototype.getScalingSelections=function(){let t=e.XList.create();t.add(e.XPairOfString.create(e.DataCellDialogI18n.getLocalization().getText(e.DataCellDialogI18n.I18N_DCD_SCALING_IN_1),"0"));t.add(e.XPairOfString.create(e.DataCellDialogI18n.getLocalization().getText(e.DataCellDialogI18n.I18N_DCD_SCALING_IN_10),"-1"));t.add(e.XPairOfString.create(e.DataCellDialogI18n.getLocalization().getText(e.DataCellDialogI18n.I18N_DCD_SCALING_IN_100),"-2"));t.add(e.XPairOfString.create(e.DataCellDialogI18n.getLocalization().getText(e.DataCellDialogI18n.I18N_DCD_SCALING_IN_1000),"-3"));t.add(e.XPairOfString.create(e.DataCellDialogI18n.getLocalization().getText(e.DataCellDialogI18n.I18N_DCD_SCALING_IN_10000),"-4"));t.add(e.XPairOfString.create(e.DataCellDialogI18n.getLocalization().getText(e.DataCellDialogI18n.I18N_DCD_SCALING_IN_100000),"-5"));t.add(e.XPairOfString.create(e.DataCellDialogI18n.getLocalization().getText(e.DataCellDialogI18n.I18N_DCD_SCALING_IN_1000000),"-6"));t.add(e.XPairOfString.create(e.DataCellDialogI18n.getLocalization().getText(e.DataCellDialogI18n.I18N_DCD_SCALING_IN_10000000),"-7"));t.add(e.XPairOfString.create(e.DataCellDialogI18n.getLocalization().getText(e.DataCellDialogI18n.I18N_DCD_SCALING_IN_100000000),"-8"));t.add(e.XPairOfString.create(e.DataCellDialogI18n.getLocalization().getText(e.DataCellDialogI18n.I18N_DCD_SCALING_IN_1000000000),"-9"));return t};e.DataCellController.prototype.getSingleValueCalculationSelections=function(){let t=e.XList.create();t.add(e.XPairOfString.create(e.DataCellDialogI18n.getLocalization().getText(e.DataCellDialogI18n.I18N_DCD_UNDEFINED)," "));t.add(e.XPairOfString.create(e.DataCellDialogI18n.getLocalization().getText(e.DataCellDialogI18n.I18N_DCD_SVC_SUM),"1"));t.add(e.XPairOfString.create(e.DataCellDialogI18n.getLocalization().getText(e.DataCellDialogI18n.I18N_DCD_SVC_MAX),"2"));t.add(e.XPairOfString.create(e.DataCellDialogI18n.getLocalization().getText(e.DataCellDialogI18n.I18N_DCD_SVC_MIN),"3"));t.add(e.XPairOfString.create(e.DataCellDialogI18n.getLocalization().getText(e.DataCellDialogI18n.I18N_DCD_SVC_COUNT_ALL_VALUES),"4"));t.add(e.XPairOfString.create(e.DataCellDialogI18n.getLocalization().getText(e.DataCellDialogI18n.I18N_DCD_SVC_COUNT_ALL_VALUES_NOT_ZERO),"5"));t.add(e.XPairOfString.create(e.DataCellDialogI18n.getLocalization().getText(e.DataCellDialogI18n.I18N_DCD_SVC_AVG_ALL_VALUES),"6"));t.add(e.XPairOfString.create(e.DataCellDialogI18n.getLocalization().getText(e.DataCellDialogI18n.I18N_DCD_SVC_AVG_ALL_VALUES_NOT_ZERO),"7"));t.add(e.XPairOfString.create(e.DataCellDialogI18n.getLocalization().getText(e.DataCellDialogI18n.I18N_DCD_SVC_SUPPRESS_RESULT),"0"));t.add(e.XPairOfString.create(e.DataCellDialogI18n.getLocalization().getText(e.DataCellDialogI18n.I18N_DCD_SVC_RANKEDLIST_OLYMPIC),"O"));t.add(e.XPairOfString.create(e.DataCellDialogI18n.getLocalization().getText(e.DataCellDialogI18n.I18N_DCD_SVC_RANKEDLIST),"S"));t.add(e.XPairOfString.create(e.DataCellDialogI18n.getLocalization().getText(e.DataCellDialogI18n.I18N_DCD_SVC_NORMALIZATION_OF_OVERALL_RESULT),"G"));return t};e.DataCellController.prototype.isDisaggregationModeDefaultAsMetadata=function(){let t=this.getCellBasedOnMeasures();return e.notNull(t)?t.isDisaggregationModeDefault():true};e.DataCellController.prototype.onPress=function(e){let t=e.getControl();if(t===this.m_okBtn){if(this.changed()){this.m_listener.onDataCellOk()}}this.m_listener.onDataCellClose()};e.DataCellController.prototype.openDataCellPropertiesDialog=function(t,i,o,n,a){if(a&&e.XStringUtils.isNullOrEmpty(n)){throw e.XException.createRuntimeException("measure2 needed when properties for 2nd Structure are to be displayed.")}this.m_listener=t;this.m_queryManager=e.XWeakReferenceUtil.getWeakRef(i);this.m_measure1=o;this.m_measure2=n;this.m_propsForSecondStructure=a;this.setupDisplay();this.populateModel();this.m_layout.setModel(this.m_model);this.setupDataCellDialog()};e.DataCellController.prototype.populateModel=function(){let e=this.getDecimalSelections();let t=this.getScalingSelections();let i=this.getResultCalculationSelections();let o=this.getSingleValueCalculationSelections();let n=this.getDisaggregationModeSelections();let a=this.determineDecimal();let r=this.determineScaling();let l=this.determineValueType();let s=this.determineDisaggregationMode();let u=this.determineResultCalculation();let m=this.determineSingleValueCalculation();this.m_model.setModelValues(e,t,i,o,a,r,u,m,l,n,s);let p=this.getDecimalDefaultValue();this.m_model.setDecimalDefaultValue(p);let d=this.decimalDefaultAsMetadata();this.m_model.setDecimalDefaultAsMetadata(d);let c=this.getScalingDefaultValue();this.m_model.setScalingDefaultValue(c);let _=this.scalingDefaultAsMetadata();this.m_model.setScalingDefaultAsMetadata(_);let g=this.getDisaggregationModeDefaultValue();this.m_model.setDisaggregationModeDefaultvalue(g);let h=this.isDisaggregationModeDefaultAsMetadata();this.m_model.setDisaggregationModeDefaultAsMetadata(h)};e.DataCellController.prototype.releaseObject=function(){this.m_listener=null;this.m_okBtn=e.XObjectExt.release(this.m_okBtn);this.m_closeBtn=e.XObjectExt.release(this.m_closeBtn);this.m_display=e.XObjectExt.release(this.m_display);this.m_context=null;this.m_queryManager=null;e.XObject.prototype.releaseObject.call(this)};e.DataCellController.prototype.scalingDefaultAsMetadata=function(){let t=this.getCmds().getMeasure(this.m_measure1);let i=e.isNull(t)||t.isNumericShiftDefaultExt(true);let o=true;if(e.XStringUtils.isNotNullAndNotEmpty(this.m_measure2)){let e=this.getQueryModel().getNonMeasureDimension();let t=e.getDimensionMember(this.m_measure2);o=t.isNumericShiftDefaultExt(true)}return i&&o};e.DataCellController.prototype.setupController=function(t){this.m_context=t;this.m_model=e.DataCellModel.create();this.m_layout=e.DataCellLayout.create()};e.DataCellController.prototype.setupDataCellDialog=function(){this.m_okBtn=this.m_display.addNewButton();this.m_okBtn.setText(e.DataCellDialogI18n.getLocalization().getText(e.XCommonI18n.OK)).setButtonType(e.UiButtonType.PRIMARY);this.m_okBtn.setName("OkBtn");this.m_okBtn.registerOnPress(this);this.m_closeBtn=this.m_display.addNewButton();this.m_closeBtn.setText(e.DataCellDialogI18n.getLocalization().getText(e.DataCellDialogI18n.I18N_DCD_CLOSE));this.m_closeBtn.setName("CloseBtn");this.m_closeBtn.registerOnPress(this);this.m_layout.buildOlapDialogUi(this.m_display.getGenesis());this.m_display.open()};e.DataCellController.prototype.setupDisplay=function(){this.m_display=this.m_context.getDisplayFactory().getInstance();this.m_display.setName("DataCellProperties");let t=null;let i=this.getQueryModel().getMeasureDimension();let o=this.getQueryModel().getNonMeasureDimension();if(e.XStringUtils.isNotNullAndNotEmpty(this.m_measure1)&&e.notNull(i)){t=i.getStructureMemberByAliasOrMember(this.m_measure1)}else if(e.XStringUtils.isNotNullAndNotEmpty(this.m_measure2)&&e.notNull(o)){t=o.getStructureMemberByAliasOrMember(this.m_measure2)}if(e.notNull(t)){this.m_display.setTitle(e.XStringUtils.concatenate3(e.DataCellDialogI18n.getLocalization().getText(e.DataCellDialogI18n.I18N_DCD_SETTINGS_OF)," ",t.getText()))}this.m_display.setWidth(e.UiCssLength.createExt(500,e.UiCssSizeUnit.PIXEL))};e.DataCellLayout=function(){};e.DataCellLayout.prototype=new e.XObject;e.DataCellLayout.prototype._ff_c="DataCellLayout";e.DataCellLayout.create=function(){return new e.DataCellLayout};e.DataCellLayout.prototype.m_dataCellModel=null;e.DataCellLayout.prototype.m_decimalDefaultSwitch=null;e.DataCellLayout.prototype.m_decimalDropdown=null;e.DataCellLayout.prototype.m_disaggregationModeDefaultSwitch=null;e.DataCellLayout.prototype.m_disaggregationModeDropdown=null;e.DataCellLayout.prototype.m_flexLayout=null;e.DataCellLayout.prototype.m_resetAllSwitch=null;e.DataCellLayout.prototype.m_resultCalculationDropdown=null;e.DataCellLayout.prototype.m_scalingDefaultSwitch=null;e.DataCellLayout.prototype.m_scalingDropdown=null;e.DataCellLayout.prototype.m_selectedDecimal=null;e.DataCellLayout.prototype.m_selectedDisaggregationMode=null;e.DataCellLayout.prototype.m_selectedScaling=null;e.DataCellLayout.prototype.m_singleValueCalculationDropdown=null;e.DataCellLayout.prototype.addBoldLabel=function(t,i){this.spaceHeight(this.m_flexLayout,t);let o=this.createLabel(t,e.DataCellDialogI18n.getLocalization().getText(i));o.setFontWeight(e.UiFontWeight.BOLD).setTextAlign(e.UiTextAlign.LEFT).setFontSize(e.UiCssLength.createExt(15,e.UiCssSizeUnit.PIXEL));o.setWidth(e.UiCssLength.create("100%"));this.m_flexLayout.addItem(o)};e.DataCellLayout.prototype.addDropDownFor=function(t,i,o,n){let a=t.newControl(e.UiType.DROPDOWN);a.setName(n);a.addAllItems(this.createDropdownElements(a,i));a.setSelectedName(o);a.setWidth(e.UiCssLength.create("35%"));a.registerOnSelect(this);return a};e.DataCellLayout.prototype.addSwitch=function(t,i,o){let n=t.newControl(e.UiType.SWITCH);n.setName(i);n.setOnText(" ").setOffText(" ");n.setOn(o);n.setAlignSelf(e.UiFlexAlignSelf.START);n.registerOnChange(this);return n};e.DataCellLayout.prototype.buildOlapDialogUi=function(e){let t=this.buildTree(e);e.setRoot(t)};e.DataCellLayout.prototype.buildTree=function(t){this.m_flexLayout=t.newControl(e.UiType.FLEX_LAYOUT);this.m_flexLayout.setDirection(e.UiFlexDirection.COLUMN);this.m_flexLayout.setWidth(e.UiCssLength.create("100%"));this.m_flexLayout.setHeight(e.UiCssLength.create("100%"));this.m_flexLayout.setName("QueryCellDialogMainViewContainer");let i=this.createRow(t);i.addItem(t.newControl(e.UiType.SPACER).setWidth(e.UiCssLength.create("75%")));this.spaceWidth(i,t);let o=t.newControl(e.UiType.LABEL);o.setName(e.DataCellDialogI18n.getLocalization().getText(e.DataCellDialogI18n.I18N_DCD_DEFAULT_TO_METATA));o.setText(e.DataCellDialogI18n.getLocalization().getText(e.DataCellDialogI18n.I18N_DCD_DEFAULT_TO_METATA));o.setFontWeight(e.UiFontWeight.BOLD).setTextAlign(e.UiTextAlign.LEFT).setFontSize(e.UiCssLength.createExt(15,e.UiCssSizeUnit.PIXEL));i.addItem(o);this.m_flexLayout.addItem(i);this.addBoldLabel(t,e.DataCellDialogI18n.I18N_DCD_NUMBER_FORMAT);let n=this.createRow(t);n.addItem(this.createLabel(t,e.DataCellDialogI18n.getLocalization().getText(e.DataCellDialogI18n.I18N_DCD_SCALING)));this.spaceWidth(n,t);this.m_scalingDropdown=this.addDropDownFor(t,this.m_dataCellModel.getScalingSelections(),this.m_dataCellModel.getScaling(),"scalingDropDown");n.addItem(this.m_scalingDropdown);this.m_scalingDefaultSwitch=this.addSwitch(t,"scalingDefaultAsMetadata",this.m_dataCellModel.getScalingDefaultAsMetadata());n.addItem(this.m_scalingDefaultSwitch);this.m_flexLayout.addItem(n);let a=this.createRow(t);a.addItem(this.createLabel(t,e.DataCellDialogI18n.getLocalization().getText(e.DataCellDialogI18n.I18N_DCD_DECIMAL)));this.spaceWidth(a,t);this.m_decimalDropdown=this.addDropDownFor(t,this.m_dataCellModel.getDecimalSelections(),this.m_dataCellModel.getDecimal(),"decimalDropDown");a.addItem(this.m_decimalDropdown);this.m_decimalDefaultSwitch=this.addSwitch(t,"decimalDefaultAsMetadata",this.m_dataCellModel.getDecimalDefaultAsMetadata());a.addItem(this.m_decimalDefaultSwitch);this.m_flexLayout.addItem(a);this.addBoldLabel(t,e.DataCellDialogI18n.I18N_DCD_PROPERTIES);let r=this.createRow(t);r.addItem(this.createLabel(t,e.DataCellDialogI18n.getLocalization().getText(e.DataCellDialogI18n.I18N_DCD_VALUETYPE)));this.spaceWidth(r,t);r.addItem(this.createTextBox(t,this.m_dataCellModel.getValueType(),false));this.m_flexLayout.addItem(r);let l=this.createRow(t);l.addItem(this.createLabel(t,e.DataCellDialogI18n.getLocalization().getText(e.DataCellDialogI18n.I18N_DCD_DISAGGREGATION_MODE)));this.spaceWidth(l,t);let s=this.m_dataCellModel.getDisaggregationModeOnModel()!==null?this.m_dataCellModel.getDisaggregationModeOnModel().getName():null;this.m_disaggregationModeDropdown=this.addDropDownFor(t,this.m_dataCellModel.getDisaggregationModeSelections(),s,"diaggregationModeDropDown");l.addItem(this.m_disaggregationModeDropdown);this.m_disaggregationModeDefaultSwitch=this.addSwitch(t,"disaggregationModeDefaultAsMetadata",this.m_dataCellModel.getDisaggregationModeDefaultAsMetadata());l.addItem(this.m_disaggregationModeDefaultSwitch);this.m_flexLayout.addItem(l);this.addBoldLabel(t,e.DataCellDialogI18n.I18N_DCD_CALCULATIONS);let u=this.createRow(t);u.addItem(this.createLabel(t,e.DataCellDialogI18n.getLocalization().getText(e.DataCellDialogI18n.I18N_DCD_RESULT_CALCULATION)));this.spaceWidth(u,t);this.m_resultCalculationDropdown=this.addDropDownFor(t,this.m_dataCellModel.getResultCalculationSelections(),this.m_dataCellModel.getResultCalculationOnModel(),"resultCalculationDropDown");this.m_resultCalculationDropdown.setEnabled(false);u.addItem(this.m_resultCalculationDropdown);this.m_flexLayout.addItem(u);let m=this.createRow(t);m.addItem(this.createLabel(t,e.DataCellDialogI18n.getLocalization().getText(e.DataCellDialogI18n.I18N_DCD_SINGLE_VALUE_CALCULATION)));this.spaceWidth(m,t);this.m_singleValueCalculationDropdown=this.addDropDownFor(t,this.m_dataCellModel.getSingleValueCalculationSelections(),this.m_dataCellModel.getSingleValueCalculationOnModel(),"singleValueCalculationLabel");this.m_singleValueCalculationDropdown.setEnabled(false);m.addItem(this.m_singleValueCalculationDropdown);this.m_flexLayout.addItem(m);this.spaceHeight(this.m_flexLayout,t);this.spaceHeight(this.m_flexLayout,t);let p=this.createRow(t);let d=this.createLabel(t,e.DataCellDialogI18n.getLocalization().getText(e.DataCellDialogI18n.I18N_DCD_RESET_ALL));d.setFontWeight(e.UiFontWeight.BOLD).setTextAlign(e.UiTextAlign.RIGHT).setFontSize(e.UiCssLength.createExt(15,e.UiCssSizeUnit.PIXEL));d.setWidth(e.UiCssLength.create("75%"));p.addItem(d);this.spaceWidth(p,t);let c=this.m_dataCellModel.getDecimalDefaultAsMetadata()&&this.m_dataCellModel.getScalingDefaultAsMetadata()&&this.m_dataCellModel.getDisaggregationModeDefaultAsMetadata();this.m_resetAllSwitch=this.addSwitch(t,"resetAllAsMetadata",c);p.addItem(this.m_resetAllSwitch);this.m_flexLayout.addItem(p);this.m_selectedDecimal=this.m_dataCellModel.getDecimal();this.m_selectedScaling=this.m_dataCellModel.getScaling();this.m_selectedDisaggregationMode=this.m_dataCellModel.getDisaggregationModeOnModel();return this.m_flexLayout};e.DataCellLayout.prototype.createDropdownElements=function(t,i){let o=e.XList.create();let n=i.size();for(let e=0;e<n;e++){let n=i.get(e);let a=n.getFirstString();let r=n.getSecondString();let l=t.newItem();l.setName(r);l.setText(a);o.add(l)}return o};e.DataCellLayout.prototype.createLabel=function(t,i){let o=t.newControl(e.UiType.LABEL);o.setName(i);o.setText(i);o.setWidth(e.UiCssLength.create("40%"));o.setTextAlign(e.UiTextAlign.RIGHT);return o};e.DataCellLayout.prototype.createRow=function(t){let i=t.newControl(e.UiType.FLEX_LAYOUT);i.setDirection(e.UiFlexDirection.ROW);i.setWidth(e.UiCssLength.create("100%"));i.setAlignItems(e.UiFlexAlignItems.CENTER);return i};e.DataCellLayout.prototype.createTextBox=function(t,i,o){let n=t.newControl(e.UiType.INPUT);n.setName(i);n.setValue(i);n.setEditable(o);n.setWidth(e.UiCssLength.create("35%"));return n};e.DataCellLayout.prototype.getLayout=function(){return this.m_flexLayout};e.DataCellLayout.prototype.getSelectedDecimal=function(){return this.m_selectedDecimal};e.DataCellLayout.prototype.getSelectedDisaggregationMode=function(){return this.m_selectedDisaggregationMode};e.DataCellLayout.prototype.getSelectedScaling=function(){return this.m_selectedScaling};e.DataCellLayout.prototype.onChange=function(e){let t=e.getControl();if(t.isOn()){let t=e.getControl().getName();switch(t){case"decimalDefaultAsMetadata":this.resetDecimal();break;case"scalingDefaultAsMetadata":this.resetScaling();break;case"disaggregationModeDefaultAsMetadata":this.resetDisaggregationMode();break;default:this.resetScaling();this.resetDecimal();this.resetDisaggregationMode();this.m_decimalDefaultSwitch.setOn(true);this.m_scalingDefaultSwitch.setOn(true);this.m_disaggregationModeDefaultSwitch.setOn(true);break}}};e.DataCellLayout.prototype.onSelect=function(t){let i=t.getControl().getName();if(e.XString.isEqual(i,this.m_decimalDropdown.getName())){if(!e.XString.isEqual(this.m_selectedDecimal,this.m_decimalDropdown.getSelectedItem().getName())){this.m_decimalDefaultSwitch.setOn(false);this.m_dataCellModel.setDecimalDefaultAsMetadata(false);this.m_selectedDecimal=this.m_decimalDropdown.getSelectedItem().getName()}}else if(e.XString.isEqual(i,this.m_scalingDropdown.getName())){if(!e.XString.isEqual(this.m_selectedScaling,this.m_scalingDropdown.getSelectedItem().getName())){this.m_scalingDefaultSwitch.setOn(false);this.m_dataCellModel.setScalingDefaultAsMetadata(false);this.m_selectedScaling=this.m_scalingDropdown.getSelectedItem().getName()}}else if(e.XString.isEqual(i,this.m_disaggregationModeDropdown.getName())){let t=e.DisaggregationMode.lookup(this.m_disaggregationModeDropdown.getSelectedItem().getName());if(this.m_selectedDisaggregationMode!==t){this.m_disaggregationModeDefaultSwitch.setOn(false);this.m_dataCellModel.setDisaggregationModeDefaultAsMetadata(false);this.m_selectedDisaggregationMode=t}}this.m_resetAllSwitch.setOn(this.m_decimalDefaultSwitch.isOn()&&this.m_scalingDefaultSwitch.isOn()&&this.m_disaggregationModeDefaultSwitch.isOn())};e.DataCellLayout.prototype.resetDecimal=function(){this.m_selectedDecimal=this.m_dataCellModel.getDecimalDefaultValue();this.m_decimalDropdown.setSelectedName(this.m_selectedDecimal);this.m_dataCellModel.setDecimalDefaultAsMetadata(true)};e.DataCellLayout.prototype.resetDisaggregationMode=function(){this.m_selectedDisaggregationMode=this.m_dataCellModel.getDisaggregationModeDefaultvalue();this.m_disaggregationModeDropdown.setSelectedName(this.m_selectedDisaggregationMode.getName());this.m_dataCellModel.setDisaggregationModeDefaultAsMetadata(true)};e.DataCellLayout.prototype.resetScaling=function(){this.m_selectedScaling=this.m_dataCellModel.getScalingDefaultValue();this.m_scalingDropdown.setSelectedName(this.m_selectedScaling);this.m_dataCellModel.setScalingDefaultAsMetadata(true)};e.DataCellLayout.prototype.setModel=function(e){this.m_dataCellModel=e};e.DataCellLayout.prototype.spaceHeight=function(t,i){t.addItem(i.newControl(e.UiType.SPACER).setHeight(e.UiCssLength.create("10px")))};e.DataCellLayout.prototype.spaceWidth=function(t,i){t.addItem(i.newControl(e.UiType.SPACER).setWidth(e.UiCssLength.create("10px")))};e.DdControllerAxis=function(){};e.DdControllerAxis.prototype=new e.XObject;e.DdControllerAxis.prototype._ff_c="DdControllerAxis";e.DdControllerAxis.CANCEL_BUTTON="cancelButton";e.DdControllerAxis.OK_BUTTON="okButton";e.DdControllerAxis.create=function(t,i){let o=new e.DdControllerAxis;o.m_context=i;o.m_application=t;return o};e.DdControllerAxis.prototype.m_application=null;e.DdControllerAxis.prototype.m_axis=null;e.DdControllerAxis.prototype.m_axisModel=null;e.DdControllerAxis.prototype.m_cancelButton=null;e.DdControllerAxis.prototype.m_context=null;e.DdControllerAxis.prototype.m_ddLayout=null;e.DdControllerAxis.prototype.m_dialogCloseListener=null;e.DdControllerAxis.prototype.m_display=null;e.DdControllerAxis.prototype.m_isClosing=false;e.DdControllerAxis.prototype.m_okButton=null;e.DdControllerAxis.prototype.m_totalsContainer=null;e.DdControllerAxis.prototype.m_totalsIncludedContainer=null;e.DdControllerAxis.prototype.m_totalsRemainingContainer=null;e.DdControllerAxis.prototype.m_zeroSuppressionContainer=null;e.DdControllerAxis.prototype.closeDialog=function(){if(!this.m_isClosing){this.m_isClosing=true;this.m_axisModel=e.XObjectExt.release(this.m_axisModel);if(e.notNull(this.m_display)&&this.m_display.isOpen()){this.m_display.close()}}if(e.notNull(this.m_dialogCloseListener)){this.m_dialogCloseListener.onClose()}};e.DdControllerAxis.prototype.onAfterOpen=function(e){};e.DdControllerAxis.prototype.onBeforeClose=function(e){this.closeDialog()};e.DdControllerAxis.prototype.onObservableModelChange=function(e){this.reinitializeChildControllers()};e.DdControllerAxis.prototype.onPress=function(t){let i=t.getControl().getName();switch(i){case e.DdControllerAxis.OK_BUTTON:this.m_axisModel.applyToQueryModel(this.m_axis.getQueryModel());if(e.notNull(this.m_dialogCloseListener)){this.m_dialogCloseListener.onSubmit()}break;case e.DdControllerAxis.CANCEL_BUTTON:break}this.closeDialog()};e.DdControllerAxis.prototype.openDialog=function(t,i,o){e.XObjectExt.assertNotNullExt(i,"Dimension must be set");this.m_dialogCloseListener=o;this.setupController(t,i)};e.DdControllerAxis.prototype.reinitializeChildControllers=function(){let t=this.m_ddLayout.getDetailsTable();t.clearItems();let i=this.m_axisModel.getDimensionOrdered();let o=e.XList.create();for(let t=0;t<i.size();t++){o.add(e.DdControllerDimensionSelection.createWithModelAndGenesis(this.m_application,this.m_context,i.get(t),this.m_display.getGenesis()))}if(e.XCollectionUtils.hasElements(o)){o.get(0).addVlHeaders(t);for(let i=0;i<o.size();i++){let n=t.addNewItemOfType(e.UiType.FLEX_LAYOUT);o.get(i).addFlexLayoutComponents(n)}}};e.DdControllerAxis.prototype.releaseObject=function(){this.m_axisModel=e.XObjectExt.release(this.m_axisModel);this.m_axis=null;this.m_okButton=e.XObjectExt.release(this.m_okButton);this.m_cancelButton=e.XObjectExt.release(this.m_cancelButton);this.m_display=e.XObjectExt.release(this.m_display);this.m_ddLayout=e.XObjectExt.release(this.m_ddLayout);this.m_context=null};e.DdControllerAxis.prototype.setupController=function(t,i){this.m_axis=i;this.m_isClosing=false;this.m_axisModel=e.DdModelAxis.createFrom(this.m_axis);this.m_display=this.m_context.getDisplayFactory().getInstance();this.m_display.setName("AxisDialog");this.m_display.setTitle(t);this.m_display.registerOnAfterOpen(this);this.m_display.registerOnBeforeClose(this);this.m_display.setHeight(e.UiCssLength.createExt(80,e.UiCssSizeUnit.PERCENT));this.m_display.setWidth(e.UiCssLength.createExt(80,e.UiCssSizeUnit.PERCENT));this.m_axisModel.addListener(this);let o=this.m_display.getGenesis();this.m_ddLayout=e.DdDimensionDisplayLayoutCompact.createWithGenesis(o);if(this.m_axisModel.getDdModelTotals()!==null){this.m_totalsContainer=e.DdControllerTotalsCompact.createWithModelAndGenesis(this.m_application,this.m_context,this.m_axisModel.getDdModelTotals(),o);this.m_totalsContainer.addToLeftRightVerticalLayout(this.m_ddLayout.getTotalsDisplayContent())}if(this.m_axisModel.getDdModelTotalsIncluded()!==null){this.m_totalsIncludedContainer=e.DdControllerTotalsCompact.createWithModelAndGenesis(this.m_application,this.m_context,this.m_axisModel.getDdModelTotalsIncluded(),o);this.m_totalsIncludedContainer.addToLeftRightVerticalLayout(this.m_ddLayout.getTotalsDisplayContent())}if(this.m_axisModel.getDdModelTotalsRemaining()!==null){this.m_totalsRemainingContainer=e.DdControllerTotalsCompact.createWithModelAndGenesis(this.m_application,this.m_context,this.m_axisModel.getDdModelTotalsRemaining(),o);this.m_totalsRemainingContainer.addToLeftRightVerticalLayout(this.m_ddLayout.getTotalsDisplayContent())}if(this.m_axisModel.getDdModelZeroSuppression()!==null){this.m_zeroSuppressionContainer=e.AldControllerZeroSuppression.createWithModelAndGenesis(this.m_application,this.m_context,this.m_axisModel.getDdModelZeroSuppression(),o);this.m_zeroSuppressionContainer.addToLeftRightVerticalLayout(this.m_ddLayout.getZeroSuppressionDisplayContent())}this.reinitializeChildControllers();this.m_ddLayout.buildOlapDialogUi(this.m_display.getGenesis());this.m_okButton=this.m_display.addNewButton();this.m_okButton.setName(e.DdControllerAxis.OK_BUTTON);this.m_okButton.setText(e.OuDimensionDialog.getDdLocalization().getText(e.XCommonI18n.OK));this.m_okButton.setButtonType(e.UiButtonType.PRIMARY);this.m_okButton.registerOnPress(this);this.m_cancelButton=this.m_display.addNewButton();this.m_cancelButton.setName(e.DdControllerAxis.CANCEL_BUTTON);this.m_cancelButton.setText(e.OuDimensionDialog.getDdLocalization().getText(e.XCommonI18n.CANCEL));this.m_cancelButton.registerOnPress(this);this.m_display.getGenesis().setRoot(this.m_ddLayout.buildTree(o));this.m_display.open()};e.DdControllerDimensionCompact=function(){};e.DdControllerDimensionCompact.prototype=new e.XObject;e.DdControllerDimensionCompact.prototype._ff_c="DdControllerDimensionCompact";e.DdControllerDimensionCompact.ACTIVATE_SELECTION_BUTTON="activateSelectionButton";e.DdControllerDimensionCompact.ACTIVE_ATTRIBUTE_LIST="attributeActiveList";e.DdControllerDimensionCompact.ATTRIBUTE_INVENTORY_LIST="attributeInventoryList";e.DdControllerDimensionCompact.CANCEL_BUTTON="cancelButton";e.DdControllerDimensionCompact.DEACTIVATE_SELECTION_BUTTON="deactivateSelectionButton";e.DdControllerDimensionCompact.FIELD_LAYOUT_DROPDOWN="fieldLayoutDropdown";e.DdControllerDimensionCompact.OK_BUTTON="okButton";e.DdControllerDimensionCompact.READ_MODE_DROPDOWN="readModeDropdown";e.DdControllerDimensionCompact.TECHNICAL_BUTTON="technicalButton";e.DdControllerDimensionCompact.create=function(t,i){let o=new e.DdControllerDimensionCompact;o.m_context=i;o.m_application=t;return o};e.DdControllerDimensionCompact.prototype.m_activeAttributeList=null;e.DdControllerDimensionCompact.prototype.m_application=null;e.DdControllerDimensionCompact.prototype.m_attributeInventoryList=null;e.DdControllerDimensionCompact.prototype.m_buttonActivateSelection=null;e.DdControllerDimensionCompact.prototype.m_buttonDeactivateSelection=null;e.DdControllerDimensionCompact.prototype.m_buttonMoveDown=null;e.DdControllerDimensionCompact.prototype.m_buttonMoveUp=null;e.DdControllerDimensionCompact.prototype.m_cancelButton=null;e.DdControllerDimensionCompact.prototype.m_context=null;e.DdControllerDimensionCompact.prototype.m_ddLayout=null;e.DdControllerDimensionCompact.prototype.m_detailFieldContainerLayout=null;e.DdControllerDimensionCompact.prototype.m_dialogCloseListener=null;e.DdControllerDimensionCompact.prototype.m_dimension=null;e.DdControllerDimensionCompact.prototype.m_dimensionModel=null;e.DdControllerDimensionCompact.prototype.m_display=null;e.DdControllerDimensionCompact.prototype.m_hierarchyContainer=null;e.DdControllerDimensionCompact.prototype.m_isClosing=false;e.DdControllerDimensionCompact.prototype.m_mainAttributeContainer=null;e.DdControllerDimensionCompact.prototype.m_okButton=null;e.DdControllerDimensionCompact.prototype.m_sortContainer=null;e.DdControllerDimensionCompact.prototype.m_totalsContainer=null;e.DdControllerDimensionCompact.prototype.m_totalsIncludedContainer=null;e.DdControllerDimensionCompact.prototype.m_totalsRemainingContainer=null;e.DdControllerDimensionCompact.prototype.closeDialog=function(){if(!this.m_isClosing){this.m_isClosing=true;this.m_dimensionModel=e.XObjectExt.release(this.m_dimensionModel);if(e.notNull(this.m_display)&&this.m_display.isOpen()){this.m_display.close()}}if(e.notNull(this.m_dialogCloseListener)){this.m_dialogCloseListener.onClose()}};e.DdControllerDimensionCompact.prototype.getListOfSelectedCustomObjects=function(t){let i=e.XList.create();let o=t.getSelectedItems();let n=o.size();for(let e=0;e<n;e++){i.add(o.get(e).getCustomObject())}return i};e.DdControllerDimensionCompact.prototype.onAfterOpen=function(e){};e.DdControllerDimensionCompact.prototype.onBeforeClose=function(e){this.closeDialog()};e.DdControllerDimensionCompact.prototype.onChange=function(t){let i=t.getControl();let o=t.getControl().getName();switch(o){case e.DdControllerDimensionCompact.FIELD_LAYOUT_DROPDOWN:this.m_dimensionModel.setFieldLayoutType(i.isOn()?e.FieldLayoutType.FIELD_BASED:e.FieldLayoutType.ATTRIBUTE_BASED);break;case e.DdControllerDimensionCompact.READ_MODE_DROPDOWN:this.m_dimensionModel.getDdModelReadMode().setReadMode(i.isOn()?e.QMemberReadMode.BOOKED:e.QMemberReadMode.MASTER);break}};e.DdControllerDimensionCompact.prototype.onObservableModelChange=function(e){this.reinitializeChildControllers()};e.DdControllerDimensionCompact.prototype.onPress=function(t){let i=t.getControl().getName();switch(i){case e.DdControllerDimensionCompact.TECHNICAL_BUTTON:this.m_dimensionModel.setShowTechnical(t.getControl().isPressed());return;case e.DdControllerDimensionCompact.ACTIVATE_SELECTION_BUTTON:this.m_dimensionModel.activateSelection();return;case e.DdControllerDimensionCompact.DEACTIVATE_SELECTION_BUTTON:this.m_dimensionModel.deActivateSelection();return;case e.DdControllerAbstract.BOTTOM_BUTTON:this.m_dimensionModel.moveBottomActiveAttribute();return;case e.DdControllerAbstract.DOWN_BUTTON:this.m_dimensionModel.moveDownActiveAttribute();return;case e.DdControllerAbstract.UP_BUTTON:this.m_dimensionModel.moveUpActiveAttribute();return;case e.DdControllerAbstract.TOP_BUTTON:this.m_dimensionModel.moveTopActiveAttribute();return;case e.DdControllerDimensionCompact.OK_BUTTON:this.m_dimensionModel.applyToQueryModel(this.m_dimension.getQueryModel());if(e.notNull(this.m_dialogCloseListener)){this.m_dialogCloseListener.onSubmit()}break;case e.DdControllerDimensionCompact.CANCEL_BUTTON:break}this.closeDialog()};e.DdControllerDimensionCompact.prototype.onSelect=function(t){let i=t.getControl().getName();let o=t.getControl();switch(i){case e.DdControllerDimensionCompact.FIELD_LAYOUT_DROPDOWN:this.m_dimensionModel.setFieldLayoutType(o.getSelectedItem().getCustomObject());break;case e.DdControllerDimensionCompact.READ_MODE_DROPDOWN:this.m_dimensionModel.getDdModelReadMode().setReadMode(o.getSelectedItem().getCustomObject());break}};e.DdControllerDimensionCompact.prototype.onSelectionChange=function(t){let i=t.getControl().getName();switch(i){case e.DdControllerDimensionCompact.ATTRIBUTE_INVENTORY_LIST:let i=t.getControl();this.m_dimensionModel.setAttributesOrderInactiveSelected(this.getListOfSelectedCustomObjects(i));break;case e.DdControllerDimensionCompact.ACTIVE_ATTRIBUTE_LIST:let o=t.getControl();this.m_dimensionModel.setAttributesOrderActiveSelected(this.getListOfSelectedCustomObjects(o));break;case e.DdControllerDimensionCompact.FIELD_LAYOUT_DROPDOWN:let n=t.getControl();this.m_dimensionModel.setFieldLayoutType(n.getSelectedItem().getCustomObject());break;case e.DdControllerDimensionCompact.READ_MODE_DROPDOWN:let a=t.getControl();this.m_dimensionModel.getDdModelReadMode().setReadMode(a.getSelectedItem().getCustomObject());break}};e.DdControllerDimensionCompact.prototype.openDialog=function(t,i,o){e.XObjectExt.assertNotNullExt(i,"Dimension must be set");this.setupController(t,i,o)};e.DdControllerDimensionCompact.prototype.reinitializeChildControllers=function(){if(!this.m_dimensionModel.getDdModelHierarchy().isActive()){if(this.m_dimensionModel.getDdModelSorting().tryResetHierarchicalSort()){this.m_sortContainer.getVertialControls()}}else{if(this.m_dimensionModel.getDdModelSorting().tryApplyHierarchicalSort()){this.m_sortContainer.getVertialControls()}}this.m_detailFieldContainerLayout.clearItems();let t;let i;let o;let n;let a;let r;t=this.m_dimensionModel.getAttributesOrderInactive();i=this.m_dimensionModel.getAttributesOrderInactiveSelected();o=t.size();this.m_attributeInventoryList.clearItems();for(n=0;n<o;n++){r=t.get(n);a=this.m_attributeInventoryList.addNewItem().setName(r.getComponentName()).setText(this.m_dimensionModel.isShowTechnical()?r.getComponentName():r.getComponentText());a.setSelected(i.contains(r)).setCustomObject(r)}this.m_buttonActivateSelection.setEnabled(e.XCollectionUtils.hasElements(i));t=this.m_dimensionModel.getAttributesOrderActive();i=this.m_dimensionModel.getAttributesOrderActiveSelected();o=t.size();this.m_activeAttributeList.clearItems();for(n=0;n<o;n++){r=t.get(n);a=this.m_activeAttributeList.addNewItem().setName(r.getComponentName()).setText(this.m_dimensionModel.isShowTechnical()?r.getComponentName():r.getComponentText());a.setSelected(i.contains(r)).setCustomObject(r)}this.m_buttonDeactivateSelection.setEnabled(e.XCollectionUtils.hasElements(i));this.m_detailFieldContainerLayout.clearItems();let l=this.m_dimensionModel.getDetailAttribute();if(e.notNull(l)){this.m_detailFieldContainerLayout.addNewItemOfType(e.UiType.LABEL).setFontSize(e.UiCssLength.create("125%")).setText(this.m_dimensionModel.isShowTechnical()?l.getComponentName():l.getComponentText()).setHeight(e.UiCssLength.create("2em"));let t=e.DdControllerFieldContainerCompact.createWithModelAndGenesis(this.m_application,this.m_context,l,this.m_display.getGenesis());this.m_detailFieldContainerLayout.addAllItems(t.getLayoutedControls())}e.DdModelOrderable.adoptList(this.m_dimensionModel.getAttributesOrderActive());let s=i.size()===1?i.get(0):null;this.m_buttonMoveDown.setEnabled(e.notNull(s)&&s.isPossibleMoveDown());this.m_buttonMoveUp.setEnabled(e.notNull(s)&&s.isPossibleMoveUp())};e.DdControllerDimensionCompact.prototype.releaseObject=function(){this.m_dimensionModel=e.XObjectExt.release(this.m_dimensionModel);this.m_dimension=null;this.m_okButton=e.XObjectExt.release(this.m_okButton);this.m_cancelButton=e.XObjectExt.release(this.m_cancelButton);this.m_display=e.XObjectExt.release(this.m_display);this.m_ddLayout=e.XObjectExt.release(this.m_ddLayout);this.m_context=null};e.DdControllerDimensionCompact.prototype.setupController=function(t,i,o){let n;this.m_dimension=i;this.m_dialogCloseListener=o;this.m_isClosing=false;this.m_dimensionModel=e.DdModelDimension.createFrom(this.m_dimension,true,null,null);this.m_display=this.m_context.getDisplayFactory().getInstance();this.m_display.setName("DimensionDialog");this.m_display.setTitle(t);this.m_display.registerOnAfterOpen(this);this.m_display.registerOnBeforeClose(this);this.m_display.setHeight(e.UiCssLength.createExt(40,e.UiCssSizeUnit.EM));this.m_display.setWidth(e.UiCssLength.createExt(60,e.UiCssSizeUnit.EM));this.m_dimensionModel.addListener(this);let a=this.m_display.getGenesis();let r=e.OuDimensionDialog.getDdLocalization();if(this.m_dimensionModel.getMainAttribute()!==null){this.m_mainAttributeContainer=e.DdControllerFieldContainerCompact.createWithModelAndGenesis(this.m_application,this.m_context,this.m_dimensionModel.getMainAttribute(),a)}this.m_ddLayout=e.DdDimensionDisplayLayoutCompact.createWithGenesis(a);let l=this.m_ddLayout.getDetailsTable();let s=l.addNewItemOfType(e.UiType.FLEX_LAYOUT);this.m_attributeInventoryList=s.addNewItemOfType(e.UiType.LIST).setName(e.DdControllerDimensionCompact.ATTRIBUTE_INVENTORY_LIST);this.m_attributeInventoryList.setSelectionMode(e.UiSelectionMode.MULTI_SELECT);this.m_attributeInventoryList.registerOnSelectionChange(this).setHeight(e.UiCssLength.create("100%")).setWidth(e.UiCssLength.create("30%"));s.addNewItemOfType(e.UiType.SPACER).setHeight(e.UiCssLength.create("1em")).setWidth(e.UiCssLength.create("1em"));let u=s.addNewItemOfType(e.UiType.FLEX_LAYOUT).setDirection(e.UiFlexDirection.COLUMN).setWidth(e.UiCssLength.create("5%")).setHeight(e.UiCssLength.create("100%"));s.addNewItemOfType(e.UiType.SPACER).setHeight(e.UiCssLength.create("1em")).setWidth(e.UiCssLength.create("1em"));if(e.isNull(this.m_buttonDeactivateSelection)){this.m_buttonDeactivateSelection=u.addNewItemOfType(e.UiType.BUTTON);this.m_buttonDeactivateSelection.setTooltip(r.getText(e.DimensionDialogI18n.I18N_DD_DEACTIVATE_SELECTION));this.m_buttonDeactivateSelection.setIcon("slim-arrow-left");this.m_buttonDeactivateSelection.setName(e.DdControllerDimensionCompact.DEACTIVATE_SELECTION_BUTTON);this.m_buttonDeactivateSelection.registerOnPress(this)}else{u.addItem(this.m_buttonDeactivateSelection)}if(e.isNull(this.m_buttonActivateSelection)){this.m_buttonActivateSelection=u.addNewItemOfType(e.UiType.BUTTON);this.m_buttonActivateSelection.setTooltip(r.getText(e.DimensionDialogI18n.I18N_DD_ACTIVATE_SELECTION));this.m_buttonActivateSelection.setIcon("slim-arrow-right");this.m_buttonActivateSelection.setName(e.DdControllerDimensionCompact.ACTIVATE_SELECTION_BUTTON);this.m_buttonActivateSelection.registerOnPress(this)}else{u.addItem(this.m_buttonActivateSelection)}this.m_activeAttributeList=s.addNewItemOfType(e.UiType.LIST).setName(e.DdControllerDimensionCompact.ACTIVE_ATTRIBUTE_LIST);this.m_activeAttributeList.registerOnSelectionChange(this).setHeight(e.UiCssLength.create("100%")).setWidth(e.UiCssLength.create("30%"));s.addNewItemOfType(e.UiType.SPACER).setHeight(e.UiCssLength.create("1em")).setWidth(e.UiCssLength.create("1em"));u=s.addNewItemOfType(e.UiType.FLEX_LAYOUT).setDirection(e.UiFlexDirection.COLUMN).setWidth(e.UiCssLength.create("5%")).setHeight(e.UiCssLength.create("100%"));s.addNewItemOfType(e.UiType.SPACER).setHeight(e.UiCssLength.create("1em")).setWidth(e.UiCssLength.create("1em"));if(e.isNull(this.m_buttonMoveUp)){this.m_buttonMoveUp=u.addNewItemOfType(e.UiType.BUTTON);this.m_buttonMoveUp.setTooltip(r.getText(e.DimensionDialogI18n.I18N_DD_MOVE_UP));this.m_buttonMoveUp.setIcon("slim-arrow-up");this.m_buttonMoveUp.setName(e.DdControllerAbstract.UP_BUTTON);this.m_buttonMoveUp.registerOnPress(this)}else{u.addItem(this.m_buttonMoveUp)}if(e.isNull(this.m_buttonMoveDown)){this.m_buttonMoveDown=u.addNewItemOfType(e.UiType.BUTTON);this.m_buttonMoveDown.setTooltip(r.getText(e.DimensionDialogI18n.I18N_DD_MOVE_DOWN));this.m_buttonMoveDown.setIcon("slim-arrow-down");this.m_buttonMoveDown.setName(e.DdControllerAbstract.DOWN_BUTTON);this.m_buttonMoveDown.registerOnPress(this)}else{u.addItem(this.m_buttonMoveDown)}this.m_detailFieldContainerLayout=s.addNewItemOfType(e.UiType.FLEX_LAYOUT).setDirection(e.UiFlexDirection.COLUMN).setHeight(e.UiCssLength.create("100%")).setWidth(e.UiCssLength.create("30%"));let m=e.XList.create();if(e.notNull(this.m_mainAttributeContainer)&&this.m_dimensionModel.getAvailableFieldLayoutTypes().contains(e.FieldLayoutType.ATTRIBUTE_BASED)||this.m_dimensionModel.getAvailableFieldLayoutTypes().contains(e.FieldLayoutType.ATTRIBUTES_AND_PRESENTATIONS)){m=this.m_mainAttributeContainer.getLayoutedControls()}m.add(a.newControl(e.UiType.SPACER).setHeight(e.UiCssLength.create("1em")));let p=a.newControl(e.UiType.FLEX_LAYOUT);p.setWidth(e.UiCssLength.create("100%"));m.add(p);p.addNewItemOfType(e.UiType.LABEL).setText(r.getText(e.DimensionDialogI18n.I18N_DD_ONLY_POSTED_VALUES)).setAlignSelf(e.UiFlexAlignSelf.CENTER).setWidth(e.UiCssLength.create("auto"));p.addNewItemOfType(e.UiType.SPACER).setHeight(e.UiCssLength.create("1em")).setWidth(e.UiCssLength.create("1em"));let d=p.addNewItemOfType(e.UiType.SWITCH).setOnText(" ").setOffText(" ").setName(e.DdControllerDimensionCompact.READ_MODE_DROPDOWN).setAlignSelf(e.UiFlexAlignSelf.CENTER);let c=this.m_dimensionModel.getDdModelReadMode().getReadMode();if(e.notNull(c)){d.setOn(c.isTypeOf(e.QMemberReadMode.BOOKED))}d.registerOnChange(this);for(n=0;n<m.size();n++){this.m_ddLayout.getValueDisplayContent().addItem(m.get(n))}this.m_dimensionModel.getDdModelSorting().addListener(this);this.m_dimensionModel.getDdModelHierarchy().addListener(this);this.m_sortContainer=e.DdControllerSortCompact.createWithModelAndGenesis(this.m_application,this.m_context,this.m_dimensionModel.getDdModelSorting(),a);this.m_ddLayout.getSortDisplayContent().addAllItems(this.m_sortContainer.getVertialControls());this.m_hierarchyContainer=e.DdControllerHierarchy.createWithModelAndGenesis(this.m_application,this.m_context,this.m_dimensionModel,this.m_dimension,a);this.m_ddLayout.getHierarchyDisplayContent().addAllItems(this.m_hierarchyContainer.getVerticalControls());if(this.m_dimension.supportsTotals()){this.m_totalsContainer=e.DdControllerTotalsCompact.createWithModelAndGenesis(this.m_application,this.m_context,this.m_dimensionModel.getDdModelTotals(),a);this.m_ddLayout.getTotalsDisplayContent().addAllItems(this.m_totalsContainer.getVerticalControls())}if(this.m_dimensionModel.getDdModelTotalsIncluded()!==null){this.m_totalsIncludedContainer=e.DdControllerTotalsCompact.createWithModelAndGenesis(this.m_application,this.m_context,this.m_dimensionModel.getDdModelTotalsIncluded(),a);this.m_ddLayout.getTotalsDisplayContent().addAllItems(this.m_totalsIncludedContainer.getVerticalControls())}if(this.m_dimensionModel.getDdModelTotalsRemaining()!==null){this.m_totalsRemainingContainer=e.DdControllerTotalsCompact.createWithModelAndGenesis(this.m_application,this.m_context,this.m_dimensionModel.getDdModelTotalsRemaining(),a);this.m_ddLayout.getTotalsDisplayContent().addAllItems(this.m_totalsRemainingContainer.getVerticalControls())}this.reinitializeChildControllers();this.m_ddLayout.buildOlapDialogUi(this.m_display.getGenesis());this.m_okButton=this.m_display.addNewButton();this.m_okButton.setName(e.DdControllerDimensionCompact.OK_BUTTON);this.m_okButton.setText(e.OuDimensionDialog.getDdLocalization().getText(e.XCommonI18n.OK));this.m_okButton.setButtonType(e.UiButtonType.PRIMARY);this.m_okButton.registerOnPress(this);this.m_cancelButton=this.m_display.addNewButton();this.m_cancelButton.setName(e.DdControllerDimensionCompact.CANCEL_BUTTON);this.m_cancelButton.setText(e.OuDimensionDialog.getDdLocalization().getText(e.XCommonI18n.CANCEL));this.m_cancelButton.registerOnPress(this);this.m_display.getGenesis().setRoot(this.m_ddLayout.buildTree(a));this.m_display.open()};e.DdControllerDimensionSelection=function(){};e.DdControllerDimensionSelection.prototype=new e.DdControllerFlexible;e.DdControllerDimensionSelection.prototype._ff_c="DdControllerDimensionSelection";e.DdControllerDimensionSelection.createWithModelAndGenesis=function(t,i,o,n){let a=new e.DdControllerDimensionSelection;a.setupExt(t,i,o,n);o.addListener(a);return a};e.DdControllerDimensionSelection.prototype.m_bottomButton=null;e.DdControllerDimensionSelection.prototype.m_displayCheckbox=null;e.DdControllerDimensionSelection.prototype.m_downButton=null;e.DdControllerDimensionSelection.prototype.m_nameLabel=null;e.DdControllerDimensionSelection.prototype.m_textLabel=null;e.DdControllerDimensionSelection.prototype.m_topButton=null;e.DdControllerDimensionSelection.prototype.m_upButton=null;e.DdControllerDimensionSelection.prototype.getControls=function(){let t=e.XList.create();let i=this.getModel().isVisible();if(e.isNull(this.m_displayCheckbox)){this.m_displayCheckbox=this.getGenesis().newControl(e.UiType.CHECKBOX).setName(e.DdControllerAbstract.DISPLAY_CHECKBOX);this.m_displayCheckbox.registerOnChange(this)}this.m_displayCheckbox.setChecked(i);t.add(this.m_displayCheckbox);return t};e.DdControllerDimensionSelection.prototype.getLabelTexts=function(){let t=e.OuDimensionDialog.getDdLocalization();let i=e.XList.create();i.add(t.getText(e.DimensionDialogI18n.I18N_DD_DISPLAY));return i};e.DdControllerDimensionSelection.prototype.getPrefixControls=function(){let t=e.XList.create();if(e.isNull(this.m_nameLabel)){this.m_nameLabel=this.getGenesis().newControl(e.UiType.LABEL);this.m_nameLabel.setText(this.getModel().getComponentName())}if(e.isNull(this.m_textLabel)){this.m_textLabel=this.getGenesis().newControl(e.UiType.LABEL);this.m_textLabel.setText(this.getModel().getComponentText())}t.add(this.m_nameLabel);t.add(this.m_textLabel);return t};e.DdControllerDimensionSelection.prototype.getPrefixLabelTexts=function(){let t=e.XList.create();t.add("");t.add("");return t};e.DdControllerDimensionSelection.prototype.getPrefixWidths=function(){let t=e.XList.create();t.add("95%");t.add("95%");return t};e.DdControllerDimensionSelection.prototype.getSuffixControls=function(){let t=e.OuDimensionDialog.getDdLocalization();let i=e.XList.create();if(e.isNull(this.m_topButton)){this.m_topButton=this.getGenesis().newControl(e.UiType.BUTTON);this.m_topButton.setTooltip(t.getText(e.DimensionDialogI18n.I18N_DD_MOVE_TOP));this.m_topButton.setIcon("arrow-top");this.m_topButton.setName(e.DdControllerAbstract.TOP_BUTTON);this.m_topButton.registerOnPress(this)}this.m_topButton.setEnabled(this.getModel().isPossibleMoveUp());i.add(this.m_topButton);if(e.isNull(this.m_upButton)){this.m_upButton=this.getGenesis().newControl(e.UiType.BUTTON);this.m_upButton.setTooltip(t.getText(e.DimensionDialogI18n.I18N_DD_MOVE_UP));this.m_upButton.setIcon("slim-arrow-up");this.m_upButton.setName(e.DdControllerAbstract.UP_BUTTON);this.m_upButton.registerOnPress(this)}this.m_upButton.setEnabled(this.getModel().isPossibleMoveUp());i.add(this.m_upButton);if(e.isNull(this.m_downButton)){this.m_downButton=this.getGenesis().newControl(e.UiType.BUTTON);this.m_downButton.setTooltip(t.getText(e.DimensionDialogI18n.I18N_DD_MOVE_DOWN));this.m_downButton.setIcon("slim-arrow-down");this.m_downButton.setName(e.DdControllerAbstract.DOWN_BUTTON);this.m_downButton.registerOnPress(this)}this.m_downButton.setEnabled(this.getModel().isPossibleMoveDown());i.add(this.m_downButton);if(e.isNull(this.m_bottomButton)){this.m_bottomButton=this.getGenesis().newControl(e.UiType.BUTTON);this.m_bottomButton.setTooltip(t.getText(e.DimensionDialogI18n.I18N_DD_MOVE_BOTTOM));this.m_bottomButton.setIcon("arrow-bottom");this.m_bottomButton.setName(e.DdControllerAbstract.BOTTOM_BUTTON);this.m_bottomButton.registerOnPress(this)}this.m_bottomButton.setEnabled(this.getModel().isPossibleMoveDown());i.add(this.m_bottomButton);return i};e.DdControllerDimensionSelection.prototype.getSuffixLabelTexts=function(){let t=e.XList.create();t.add("");t.add("");t.add("");t.add("");return t};e.DdControllerDimensionSelection.prototype.getSuffixWidths=function(){let t=e.XList.create();t.add("5em");t.add("5em");t.add("5em");t.add("5em");return t};e.DdControllerDimensionSelection.prototype.getWidths=function(){let t=e.XList.create();t.add("95%");return t};e.DdControllerDimensionSelection.prototype.onChange=function(t){let i=t.getControl();let o=i.getName();switch(o){case e.DdControllerAbstract.DISPLAY_CHECKBOX:this.getModel().setVisible(i.isChecked());break}};e.DdControllerDimensionSelection.prototype.onObservableModelChange=function(e){this.getPrefixControls();this.getControls();this.getSuffixControls()};e.DdControllerDimensionSelection.prototype.onPress=function(t){let i=t.getControl().getName();switch(i){case e.DdControllerAbstract.UP_BUTTON:this.getModel().moveUp();break;case e.DdControllerAbstract.DOWN_BUTTON:this.getModel().moveDown();break;case e.DdControllerAbstract.TOP_BUTTON:this.getModel().moveTop();break;case e.DdControllerAbstract.BOTTOM_BUTTON:this.getModel().moveBottom();break}};e.DdControllerFieldContainerCompact=function(){};e.DdControllerFieldContainerCompact.prototype=new e.DdControllerFlexible;e.DdControllerFieldContainerCompact.prototype._ff_c="DdControllerFieldContainerCompact";e.DdControllerFieldContainerCompact.DISPLAY_AS_DISPLAY="displayAsDisplay";e.DdControllerFieldContainerCompact.DISPLAY_KEY_SWITCH="displayKey";e.DdControllerFieldContainerCompact.DISPLAY_TEXT_SWITCH="displayText";e.DdControllerFieldContainerCompact.KEY_BEFORE_TEXT_SWITCH="keyBeforeText";e.DdControllerFieldContainerCompact.KEY_VIEW_DROPDOWN="keyView";e.DdControllerFieldContainerCompact.TEXT_VIEW_DROPDOWN="textView";e.DdControllerFieldContainerCompact.createWithModelAndGenesis=function(t,i,o,n){let a=new e.DdControllerFieldContainerCompact;a.setupExt(t,i,o,n);o.addListener(a);return a};e.DdControllerFieldContainerCompact.prototype.m_arrangeKeyBeforeTextSegmentedButton=null;e.DdControllerFieldContainerCompact.prototype.m_bottomButton=null;e.DdControllerFieldContainerCompact.prototype.m_displayKeyCB=null;e.DdControllerFieldContainerCompact.prototype.m_displayTextCB=null;e.DdControllerFieldContainerCompact.prototype.m_downButton=null;e.DdControllerFieldContainerCompact.prototype.m_nameLabel=null;e.DdControllerFieldContainerCompact.prototype.m_textLabel=null;e.DdControllerFieldContainerCompact.prototype.m_textViewSB=null;e.DdControllerFieldContainerCompact.prototype.m_topButton=null;e.DdControllerFieldContainerCompact.prototype.m_upButton=null;e.DdControllerFieldContainerCompact.prototype.getControls=function(){let t=e.XList.create();this.getLayoutedControls();return t};e.DdControllerFieldContainerCompact.prototype.getLabelTexts=function(){let t=e.XList.create();return t};e.DdControllerFieldContainerCompact.prototype.getLayoutedControls=function(){let t=e.OuDimensionDialog.getDdLocalization();let i=e.XList.create();i.add(this.getGenesis().newControl(e.UiType.LABEL).setText(t.getText(e.DimensionDialogI18n.I18N_DD_PRESENTATIONS_TO_SHOW)).setFontSize(e.UiCssLength.create("110%")));i.add(this.getGenesis().newControl(e.UiType.SPACER).setHeight(e.UiCssLength.create("1em")).setWidth(e.UiCssLength.create("1em")));if(e.isNull(this.m_displayKeyCB)){this.m_displayKeyCB=this.getGenesis().newControl(e.UiType.CHECKBOX).setText(t.getText(e.DimensionDialogI18n.I18N_DD_KEY));this.m_displayKeyCB.setName(e.DdControllerFieldContainerCompact.DISPLAY_KEY_SWITCH);this.m_displayKeyCB.registerOnChange(this)}i.add(this.m_displayKeyCB);this.m_displayKeyCB.setChecked(this.getModel().isDisplayKey());this.m_displayKeyCB.setEnabled(this.getModel().isMayDisplayKey());if(e.isNull(this.m_displayTextCB)){this.m_displayTextCB=this.getGenesis().newControl(e.UiType.CHECKBOX).setText(t.getText(e.DimensionDialogI18n.I18N_DD_TEXT));this.m_displayTextCB.setName(e.DdControllerFieldContainerCompact.DISPLAY_TEXT_SWITCH);this.m_displayTextCB.registerOnChange(this)}i.add(this.m_displayTextCB);this.m_displayTextCB.setChecked(this.getModel().isDisplayText());this.m_displayTextCB.setEnabled(this.getModel().isMayDisplayText());i.add(this.getGenesis().newControl(e.UiType.SPACER).setHeight(e.UiCssLength.create("1em")).setWidth(e.UiCssLength.create("1em")));let o=this.getModel().getTextView();let n=this.getModel().getTextViewsAvailable();if(e.XCollectionUtils.hasElements(n)&&(n.contains(e.PresentationType.SHORT_TEXT)||n.contains(e.PresentationType.MEDIUM_TEXT)||n.contains(e.PresentationType.LONG_TEXT))){i.add(this.getGenesis().newControl(e.UiType.LABEL).setText(t.getText(e.DimensionDialogI18n.I18N_DD_TEXT_VIEW)).setFontSize(e.UiCssLength.create("110%")));i.add(this.getGenesis().newControl(e.UiType.SPACER).setHeight(e.UiCssLength.create("1em")).setWidth(e.UiCssLength.create("1em")));if(e.isNull(this.m_textViewSB)){this.m_textViewSB=this.getGenesis().newControl(e.UiType.SEGMENTED_BUTTON).setName(e.DdControllerFieldContainerCompact.TEXT_VIEW_DROPDOWN);this.m_textViewSB.registerOnSelectionChange(this);let i=e.PresentationType.SHORT_TEXT;this.m_textViewSB.addNewItem().setName(i.getName()).setText(t.getText(e.DimensionDialogI18n.I18N_DD_SHORT_TEXT)).setCustomObject(i).setEnabled(n.contains(i));i=e.PresentationType.MEDIUM_TEXT;this.m_textViewSB.addNewItem().setName(i.getName()).setText(t.getText(e.DimensionDialogI18n.I18N_DD_MEDIUM_TEXT)).setCustomObject(i).setEnabled(n.contains(i));i=e.PresentationType.LONG_TEXT;this.m_textViewSB.addNewItem().setName(i.getName()).setText(t.getText(e.DimensionDialogI18n.I18N_DD_LONG_TEXT)).setCustomObject(i).setEnabled(n.contains(i))}i.add(this.m_textViewSB);if(e.notNull(o)){this.m_textViewSB.setSelectedName(o.getName())}this.m_textViewSB.setEnabled(this.getModel().isDisplayText())}i.add(this.getGenesis().newControl(e.UiType.SPACER).setHeight(e.UiCssLength.create("1em")).setWidth(e.UiCssLength.create("1em")));i.add(this.getGenesis().newControl(e.UiType.LABEL).setText(t.getText(e.DimensionDialogI18n.I18N_DD_PRESENTATION_ORDER)).setFontSize(e.UiCssLength.create("110%")));i.add(this.getGenesis().newControl(e.UiType.SPACER).setHeight(e.UiCssLength.create("1em")).setWidth(e.UiCssLength.create("1em")));if(e.isNull(this.m_arrangeKeyBeforeTextSegmentedButton)){this.m_arrangeKeyBeforeTextSegmentedButton=this.getGenesis().newControl(e.UiType.SEGMENTED_BUTTON);this.m_arrangeKeyBeforeTextSegmentedButton.setName(e.DdControllerFieldContainerCompact.KEY_BEFORE_TEXT_SWITCH);this.m_arrangeKeyBeforeTextSegmentedButton.addNewItem().setName(e.DdDisplayAs.TEXT_AND_KEY.getName()).setText(t.getText(e.DimensionDialogI18n.I18N_DD_TEXT_AND_KEY_SHORT)).setTooltip(t.getText(e.DimensionDialogI18n.I18N_DD_TEXT_AND_KEY)).setCustomObject(e.DdDisplayAs.TEXT_AND_KEY);this.m_arrangeKeyBeforeTextSegmentedButton.addNewItem().setName(e.DdDisplayAs.KEY_AND_TEXT.getName()).setText(t.getText(e.DimensionDialogI18n.I18N_DD_KEY_AND_TEXT_SHORT)).setTooltip(t.getText(e.DimensionDialogI18n.I18N_DD_KEY_AND_TEXT)).setCustomObject(e.DdDisplayAs.KEY_AND_TEXT);this.m_arrangeKeyBeforeTextSegmentedButton.registerOnSelectionChange(this)}i.add(this.m_arrangeKeyBeforeTextSegmentedButton);let a=this.getModel().isDisplayKey()&&this.getModel().isDisplayText();this.m_arrangeKeyBeforeTextSegmentedButton.setSelectedName(this.getModel().isDisplayKeyBeforeText()?e.DdDisplayAs.KEY_AND_TEXT.getName():e.DdDisplayAs.TEXT_AND_KEY.getName());this.m_arrangeKeyBeforeTextSegmentedButton.setEnabled(a);return i};e.DdControllerFieldContainerCompact.prototype.getPrefixControls=function(){let t=e.XList.create();if(e.isNull(this.m_nameLabel)){this.m_nameLabel=this.getGenesis().newControl(e.UiType.LABEL);this.m_nameLabel.setText(this.getModel().getComponentName())}t.add(this.m_nameLabel);if(e.isNull(this.m_textLabel)){this.m_textLabel=this.getGenesis().newControl(e.UiType.LABEL);this.m_textLabel.setText(this.getModel().getComponentText())}t.add(this.m_textLabel);return t};e.DdControllerFieldContainerCompact.prototype.getPrefixLabelTexts=function(){let t=e.XList.create();t.add("");t.add("");return t};e.DdControllerFieldContainerCompact.prototype.getPrefixWidths=function(){let t=e.XList.create();t.add("95%");t.add("95%");return t};e.DdControllerFieldContainerCompact.prototype.getSuffixControls=function(){let t=e.OuDimensionDialog.getDdLocalization();let i=e.XList.create();if(e.isNull(this.m_topButton)){this.m_topButton=this.getGenesis().newControl(e.UiType.BUTTON);this.m_topButton.setTooltip(t.getText(e.DimensionDialogI18n.I18N_DD_MOVE_TOP));this.m_topButton.setIcon("arrow-top");this.m_topButton.setName(e.DdControllerAbstract.TOP_BUTTON);this.m_topButton.registerOnPress(this)}this.m_topButton.setEnabled(this.getModel().isPossibleMoveUp());i.add(this.m_topButton);if(e.isNull(this.m_upButton)){this.m_upButton=this.getGenesis().newControl(e.UiType.BUTTON);this.m_upButton.setTooltip(t.getText(e.DimensionDialogI18n.I18N_DD_MOVE_UP));this.m_upButton.setIcon("slim-arrow-up");this.m_upButton.setName(e.DdControllerAbstract.UP_BUTTON);this.m_upButton.registerOnPress(this)}this.m_upButton.setEnabled(this.getModel().isPossibleMoveUp());i.add(this.m_upButton);if(e.isNull(this.m_downButton)){this.m_downButton=this.getGenesis().newControl(e.UiType.BUTTON);this.m_downButton.setTooltip(t.getText(e.DimensionDialogI18n.I18N_DD_MOVE_DOWN));this.m_downButton.setIcon("slim-arrow-down");this.m_downButton.setName(e.DdControllerAbstract.DOWN_BUTTON);this.m_downButton.registerOnPress(this)}this.m_downButton.setEnabled(this.getModel().isPossibleMoveDown());i.add(this.m_downButton);if(e.isNull(this.m_bottomButton)){this.m_bottomButton=this.getGenesis().newControl(e.UiType.BUTTON);this.m_bottomButton.setTooltip(t.getText(e.DimensionDialogI18n.I18N_DD_MOVE_BOTTOM));this.m_bottomButton.setIcon("arrow-bottom");this.m_bottomButton.setName(e.DdControllerAbstract.BOTTOM_BUTTON);this.m_bottomButton.registerOnPress(this)}this.m_bottomButton.setEnabled(this.getModel().isPossibleMoveDown());i.add(this.m_bottomButton);return i};e.DdControllerFieldContainerCompact.prototype.getSuffixLabelTexts=function(){let t=e.XList.create();t.add("");t.add("");t.add("");t.add("");return t};e.DdControllerFieldContainerCompact.prototype.getSuffixWidths=function(){let t=e.XList.create();t.add("5em");t.add("5em");t.add("5em");t.add("5em");return t};e.DdControllerFieldContainerCompact.prototype.getWidths=function(){let t=e.XList.create();if(this.getModel().isFieldBased()){t.add("95%")}else{t.add("95%");t.add("95%");t.add("95%");t.add("95%");t.add("95%");t.add("95%")}return t};e.DdControllerFieldContainerCompact.prototype.onChange=function(t){let i=t.getControl();let o=t.getControl();let n=o.getName();switch(n){case e.DdControllerAbstract.DISPLAY_CHECKBOX:this.getModel().setDisplayAs(i.isChecked()?e.DdDisplayAs.DISPLAY:e.DdDisplayAs.NO_DISPLAY);break;case e.DdControllerFieldContainerCompact.DISPLAY_KEY_SWITCH:this.getModel().setDisplayKey(i.isChecked());break;case e.DdControllerFieldContainerCompact.DISPLAY_TEXT_SWITCH:this.getModel().setDisplayText(i.isChecked());break;case e.DdControllerFieldContainerCompact.KEY_BEFORE_TEXT_SWITCH:this.getModel().setDisplayKeyBeforeText(o.isOn());break}};e.DdControllerFieldContainerCompact.prototype.onObservableModelChange=function(e){this.getPrefixControls();this.getControls();this.getSuffixControls()};e.DdControllerFieldContainerCompact.prototype.onPress=function(t){let i=t.getControl().getName();switch(i){case e.DdControllerAbstract.UP_BUTTON:this.getModel().moveUp();break;case e.DdControllerAbstract.DOWN_BUTTON:this.getModel().moveDown();break;case e.DdControllerAbstract.TOP_BUTTON:this.getModel().moveTop();break;case e.DdControllerAbstract.BOTTOM_BUTTON:this.getModel().moveBottom();break}};e.DdControllerFieldContainerCompact.prototype.onSelect=function(t){let i=t.getControl().getName();switch(i){case e.DdControllerFieldContainerCompact.DISPLAY_AS_DISPLAY:this.getModel().setDisplayAs(t.getSelectedItem().getCustomObject());break;case e.DdControllerFieldContainerCompact.KEY_VIEW_DROPDOWN:this.getModel().setKeyView(t.getSelectedItem().getCustomObject());break;case e.DdControllerFieldContainerCompact.TEXT_VIEW_DROPDOWN:this.getModel().setTextView(t.getSelectedItem().getCustomObject());break;case e.DdControllerFieldContainerCompact.KEY_BEFORE_TEXT_SWITCH:this.getModel().setDisplayKeyBeforeText(t.getSelectedItem().getCustomObject()===e.DdDisplayAs.KEY_AND_TEXT);break}};e.DdControllerFieldContainerCompact.prototype.onSelectionChange=function(t){let i=t.getControl().getName();switch(i){case e.DdControllerFieldContainerCompact.DISPLAY_AS_DISPLAY:this.getModel().setDisplayAs(t.getSelectedItem().getCustomObject());break;case e.DdControllerFieldContainerCompact.KEY_VIEW_DROPDOWN:this.getModel().setKeyView(t.getSelectedItem().getCustomObject());break;case e.DdControllerFieldContainerCompact.TEXT_VIEW_DROPDOWN:this.getModel().setTextView(t.getSelectedItem().getCustomObject());break;case e.DdControllerFieldContainerCompact.KEY_BEFORE_TEXT_SWITCH:this.getModel().setDisplayKeyBeforeText(t.getSelectedItem().getCustomObject()===e.DdDisplayAs.KEY_AND_TEXT);break}};e.DdControllerFieldContainerExhaustive=function(){};e.DdControllerFieldContainerExhaustive.prototype=new e.DdControllerFlexible;e.DdControllerFieldContainerExhaustive.prototype._ff_c="DdControllerFieldContainerExhaustive";e.DdControllerFieldContainerExhaustive.DISPLAY_AS_DROPDOWN="displayAs";e.DdControllerFieldContainerExhaustive.DISPLAY_KEY_SWITCH="displayKey";e.DdControllerFieldContainerExhaustive.DISPLAY_TEXT_SWITCH="displayText";e.DdControllerFieldContainerExhaustive.KEY_BEFORE_TEXT_SWITCH="keyBeforeText";e.DdControllerFieldContainerExhaustive.KEY_VIEW_DROPDOWN="keyView";e.DdControllerFieldContainerExhaustive.TEXT_VIEW_DROPDOWN="textView";e.DdControllerFieldContainerExhaustive.createWithModelAndGenesis=function(t,i,o,n){let a=new e.DdControllerFieldContainerExhaustive;a.setupExt(t,i,o,n);o.addListener(a);return a};e.DdControllerFieldContainerExhaustive.prototype.m_bottomButton=null;e.DdControllerFieldContainerExhaustive.prototype.m_displayAsDropDown=null;e.DdControllerFieldContainerExhaustive.prototype.m_displayCheckbox=null;e.DdControllerFieldContainerExhaustive.prototype.m_downButton=null;e.DdControllerFieldContainerExhaustive.prototype.m_keyViewDropDown=null;e.DdControllerFieldContainerExhaustive.prototype.m_textViewDropDown=null;e.DdControllerFieldContainerExhaustive.prototype.m_topButton=null;e.DdControllerFieldContainerExhaustive.prototype.m_upButton=null;e.DdControllerFieldContainerExhaustive.prototype.getControls=function(){let t=e.XList.create();this.getLayoutedControls();return t};e.DdControllerFieldContainerExhaustive.prototype.getLabelTexts=function(){let t=e.XList.create();return t};e.DdControllerFieldContainerExhaustive.prototype.getLayoutedControls=function(){let t=e.OuDimensionDialog.getDdLocalization();let i;let o=e.XList.create();o.add(this.getGenesis().newControl(e.UiType.LABEL).setText(e.XStringUtils.concatenate4(this.getModel().getComponentText()," (",this.getModel().getComponentName(),")")).setFontSize(e.UiCssLength.create("110%")));o.add(this.getGenesis().newControl(e.UiType.SPACER).setHeight(e.UiCssLength.create("1em")).setWidth(e.UiCssLength.create("1em")));if(this.getModel().isFieldBased()){let t=this.getModel().getDisplayAs()!==e.DdDisplayAs.NO_DISPLAY;if(e.isNull(this.m_displayCheckbox)){this.m_displayCheckbox=this.getGenesis().newControl(e.UiType.CHECKBOX).setName(e.DdControllerAbstract.DISPLAY_CHECKBOX);this.m_displayCheckbox.registerOnChange(this)}this.m_displayCheckbox.setChecked(t);o.add(this.m_displayCheckbox)}else{let n;let a=this.getModel().getAvailableDisplayAs();let r=this.getModel().getDisplayAs();if(e.isNull(this.m_displayAsDropDown)){n=this.getGenesis().newControl(e.UiType.FLEX_LAYOUT).setAlignContent(e.UiFlexAlignContent.END);n.setWidth(e.UiCssLength.create("100%"));o.add(n);n.addNewItemOfType(e.UiType.LABEL).setText(t.getText(e.DimensionDialogI18n.I18N_DD_DISPLAY_SETTINGS)).setAlignContent(e.UiFlexAlignContent.END).setWidth(e.UiCssLength.create("50%"));n.addNewItemOfType(e.UiType.SPACER).setHeight(e.UiCssLength.create("1em")).setWidth(e.UiCssLength.create("1em"));this.m_displayAsDropDown=n.addNewItemOfType(e.UiType.DROPDOWN).setWidth(e.UiCssLength.create("50%"));for(i=0;i<a.size();i++){let o=a.get(i);let n=null;if(o===e.DdDisplayAs.NO_DISPLAY){n=t.getText(e.DimensionDialogI18n.I18N_DD_NO_DISPLAY)}else if(o===e.DdDisplayAs.TEXT){n=t.getText(e.DimensionDialogI18n.I18N_DD_TEXT)}else if(o===e.DdDisplayAs.KEY){n=t.getText(e.DimensionDialogI18n.I18N_DD_KEY)}else if(o===e.DdDisplayAs.TEXT_AND_KEY){n=t.getText(e.DimensionDialogI18n.I18N_DD_TEXT_AND_KEY)}else if(o===e.DdDisplayAs.KEY_AND_TEXT){n=t.getText(e.DimensionDialogI18n.I18N_DD_KEY_AND_TEXT)}this.m_displayAsDropDown.addNewItem().setName(o.getName()).setText(n).setCustomObject(o)}this.m_displayAsDropDown.setName(e.DdControllerFieldContainerExhaustive.DISPLAY_AS_DROPDOWN);this.m_displayAsDropDown.registerOnSelect(this)}if(e.notNull(r)){this.m_displayAsDropDown.setSelectedName(r.getName())}this.m_displayAsDropDown.setEnabled(e.XCollectionUtils.hasElements(a));o.add(this.getGenesis().newControl(e.UiType.SPACER).setHeight(e.UiCssLength.create("1em")));let l=this.getModel().getKeyView();let s=this.getModel().getKeyViewsAvailable();if(e.XCollectionUtils.hasElements(s)){if(e.isNull(this.m_keyViewDropDown)){n=this.getGenesis().newControl(e.UiType.FLEX_LAYOUT).setAlignContent(e.UiFlexAlignContent.END);n.setWidth(e.UiCssLength.create("100%"));o.add(n);n.addNewItemOfType(e.UiType.LABEL).setText(t.getText(e.DimensionDialogI18n.I18N_DD_KEY)).setAlignContent(e.UiFlexAlignContent.END).setWidth(e.UiCssLength.create("50%"));n.addNewItemOfType(e.UiType.SPACER).setHeight(e.UiCssLength.create("1em")).setWidth(e.UiCssLength.create("1em"));this.m_keyViewDropDown=n.addNewItemOfType(e.UiType.DROPDOWN).setWidth(e.UiCssLength.create("50%"));for(i=0;i<s.size();i++){let e=s.get(i);this.m_keyViewDropDown.addNewItem().setName(e.getName()).setText(e.getName()).setCustomObject(e)}this.m_keyViewDropDown.setName(e.DdControllerFieldContainerExhaustive.KEY_VIEW_DROPDOWN);this.m_keyViewDropDown.registerOnSelect(this)}if(e.notNull(l)){this.m_keyViewDropDown.setSelectedName(l.getName())}this.m_keyViewDropDown.setEnabled(e.XCollectionUtils.hasElements(s)&&r.isKey());o.add(this.getGenesis().newControl(e.UiType.SPACER).setHeight(e.UiCssLength.create("1em")))}let u=this.getModel().getTextView();let m=this.getModel().getTextViewsAvailable();if(e.XCollectionUtils.hasElements(m)){if(e.isNull(this.m_textViewDropDown)){n=this.getGenesis().newControl(e.UiType.FLEX_LAYOUT).setAlignContent(e.UiFlexAlignContent.END);n.setWidth(e.UiCssLength.create("100%"));o.add(n);n.addNewItemOfType(e.UiType.LABEL).setText(t.getText(e.DimensionDialogI18n.I18N_DD_TEXT)).setAlignContent(e.UiFlexAlignContent.END).setWidth(e.UiCssLength.create("50%"));n.addNewItemOfType(e.UiType.SPACER).setHeight(e.UiCssLength.create("1em")).setWidth(e.UiCssLength.create("1em"));this.m_textViewDropDown=n.addNewItemOfType(e.UiType.DROPDOWN).setWidth(e.UiCssLength.create("50%"));for(i=0;i<m.size();i++){let e=m.get(i);this.m_textViewDropDown.addNewItem().setName(e.getName()).setText(e.getName()).setCustomObject(e)}this.m_textViewDropDown.setName(e.DdControllerFieldContainerExhaustive.TEXT_VIEW_DROPDOWN);this.m_textViewDropDown.registerOnSelect(this)}if(e.notNull(u)){this.m_textViewDropDown.setSelectedName(u.getName())}this.m_textViewDropDown.setEnabled(e.XCollectionUtils.hasElements(m)&&r.isText());o.add(this.getGenesis().newControl(e.UiType.SPACER).setHeight(e.UiCssLength.create("1em")))}}return o};e.DdControllerFieldContainerExhaustive.prototype.getPrefixControls=function(){let t=e.XList.create();return t};e.DdControllerFieldContainerExhaustive.prototype.getPrefixLabelTexts=function(){let t=e.XList.create();t.add("");t.add("");return t};e.DdControllerFieldContainerExhaustive.prototype.getPrefixWidths=function(){let t=e.XList.create();t.add("95%");t.add("95%");return t};e.DdControllerFieldContainerExhaustive.prototype.getSuffixControls=function(){let t=e.OuDimensionDialog.getDdLocalization();let i=e.XList.create();if(e.isNull(this.m_topButton)){this.m_topButton=this.getGenesis().newControl(e.UiType.BUTTON);this.m_topButton.setTooltip(t.getText(e.DimensionDialogI18n.I18N_DD_MOVE_TOP));this.m_topButton.setIcon("arrow-top");this.m_topButton.setName(e.DdControllerAbstract.TOP_BUTTON);this.m_topButton.registerOnPress(this)}this.m_topButton.setEnabled(this.getModel().isPossibleMoveUp());i.add(this.m_topButton);if(e.isNull(this.m_upButton)){this.m_upButton=this.getGenesis().newControl(e.UiType.BUTTON);this.m_upButton.setTooltip(t.getText(e.DimensionDialogI18n.I18N_DD_MOVE_UP));this.m_upButton.setIcon("slim-arrow-up");this.m_upButton.setName(e.DdControllerAbstract.UP_BUTTON);this.m_upButton.registerOnPress(this)}this.m_upButton.setEnabled(this.getModel().isPossibleMoveUp());i.add(this.m_upButton);if(e.isNull(this.m_downButton)){this.m_downButton=this.getGenesis().newControl(e.UiType.BUTTON);this.m_downButton.setTooltip(t.getText(e.DimensionDialogI18n.I18N_DD_MOVE_DOWN));this.m_downButton.setIcon("slim-arrow-down");this.m_downButton.setName(e.DdControllerAbstract.DOWN_BUTTON);this.m_downButton.registerOnPress(this)}this.m_downButton.setEnabled(this.getModel().isPossibleMoveDown());i.add(this.m_downButton);if(e.isNull(this.m_bottomButton)){this.m_bottomButton=this.getGenesis().newControl(e.UiType.BUTTON);this.m_bottomButton.setTooltip(t.getText(e.DimensionDialogI18n.I18N_DD_MOVE_BOTTOM));this.m_bottomButton.setIcon("arrow-bottom");this.m_bottomButton.setName(e.DdControllerAbstract.BOTTOM_BUTTON);this.m_bottomButton.registerOnPress(this)}this.m_bottomButton.setEnabled(this.getModel().isPossibleMoveDown());i.add(this.m_bottomButton);return i};e.DdControllerFieldContainerExhaustive.prototype.getSuffixLabelTexts=function(){let t=e.XList.create();t.add("");t.add("");t.add("");t.add("");return t};e.DdControllerFieldContainerExhaustive.prototype.getSuffixWidths=function(){let t=e.XList.create();t.add("5em");t.add("5em");t.add("5em");t.add("5em");return t};e.DdControllerFieldContainerExhaustive.prototype.getWidths=function(){let t=e.XList.create();if(this.getModel().isFieldBased()){t.add("95%")}else{t.add("95%");t.add("95%");t.add("95%");t.add("95%");t.add("95%");t.add("95%")}return t};e.DdControllerFieldContainerExhaustive.prototype.onChange=function(t){let i=t.getControl();let o=t.getControl();let n=o.getName();switch(n){case e.DdControllerAbstract.DISPLAY_CHECKBOX:this.getModel().setDisplayAs(i.isChecked()?e.DdDisplayAs.DISPLAY:e.DdDisplayAs.NO_DISPLAY);break;case e.DdControllerFieldContainerExhaustive.DISPLAY_KEY_SWITCH:this.getModel().setDisplayKey(i.isChecked());break;case e.DdControllerFieldContainerExhaustive.DISPLAY_TEXT_SWITCH:this.getModel().setDisplayText(i.isChecked());break;case e.DdControllerFieldContainerExhaustive.KEY_BEFORE_TEXT_SWITCH:this.getModel().setDisplayKeyBeforeText(o.isOn());break}};e.DdControllerFieldContainerExhaustive.prototype.onObservableModelChange=function(e){this.getPrefixControls();this.getControls();this.getSuffixControls()};e.DdControllerFieldContainerExhaustive.prototype.onPress=function(t){let i=t.getControl().getName();switch(i){case e.DdControllerAbstract.UP_BUTTON:this.getModel().moveUp();break;case e.DdControllerAbstract.DOWN_BUTTON:this.getModel().moveDown();break;case e.DdControllerAbstract.TOP_BUTTON:this.getModel().moveTop();break;case e.DdControllerAbstract.BOTTOM_BUTTON:this.getModel().moveBottom();break}};e.DdControllerFieldContainerExhaustive.prototype.onSelect=function(t){let i=t.getControl().getName();switch(i){case e.DdControllerFieldContainerExhaustive.DISPLAY_AS_DROPDOWN:this.getModel().setDisplayAs(t.getSelectedItem().getCustomObject());break;case e.DdControllerFieldContainerExhaustive.KEY_VIEW_DROPDOWN:this.getModel().setKeyView(t.getSelectedItem().getCustomObject());break;case e.DdControllerFieldContainerExhaustive.TEXT_VIEW_DROPDOWN:this.getModel().setTextView(t.getSelectedItem().getCustomObject());break;case e.DdControllerFieldContainerExhaustive.KEY_BEFORE_TEXT_SWITCH:this.getModel().setDisplayKeyBeforeText(t.getSelectedItem().getCustomObject()===e.DdDisplayAs.KEY_AND_TEXT);break}};e.DdControllerFieldContainerExhaustive.prototype.onSelectionChange=function(t){let i=t.getControl().getName();switch(i){case e.DdControllerFieldContainerExhaustive.DISPLAY_AS_DROPDOWN:this.getModel().setDisplayAs(t.getSelectedItem().getCustomObject());break;case e.DdControllerFieldContainerExhaustive.KEY_VIEW_DROPDOWN:this.getModel().setKeyView(t.getSelectedItem().getCustomObject());break;case e.DdControllerFieldContainerExhaustive.TEXT_VIEW_DROPDOWN:this.getModel().setTextView(t.getSelectedItem().getCustomObject());break;case e.DdControllerFieldContainerExhaustive.KEY_BEFORE_TEXT_SWITCH:this.getModel().setDisplayKeyBeforeText(t.getSelectedItem().getCustomObject()===e.DdDisplayAs.KEY_AND_TEXT);break}};e.DdControllerHierarchy=function(){};e.DdControllerHierarchy.prototype=new e.DdControllerFlexible;e.DdControllerHierarchy.prototype._ff_c="DdControllerHierarchy";e.DdControllerHierarchy.DRILL_LEVEL_DROPDOWN="drillLevelDropdown";e.DdControllerHierarchy.HIERARCHY_DROPDOWN="hierarchyDropdown";e.DdControllerHierarchy.NODE_CONDENSATION_CHECKBOX="nodeCondensationCheckbox";e.DdControllerHierarchy.NODE_POSITION_DROPDOWN="nodePositionDropdown";e.DdControllerHierarchy.POSTED_NODES_DROPDOWN="postedNodesDropdown";e.DdControllerHierarchy.createWithModelAndGenesis=function(t,i,o,n,a){let r=new e.DdControllerHierarchy;r.setupExt(t,i,o.getDdModelHierarchy(),a);r.m_dimension=n;r.m_modelDimension=o;o.getDdModelHierarchy().addListener(r);o.addListener(r);return r};e.DdControllerHierarchy.prototype.m_activeFlex=null;e.DdControllerHierarchy.prototype.m_activeSwitch=null;e.DdControllerHierarchy.prototype.m_dimension=null;e.DdControllerHierarchy.prototype.m_drillLevelDropdown=null;e.DdControllerHierarchy.prototype.m_drillLevelFlex=null;e.DdControllerHierarchy.prototype.m_hierarchyCatalogController=null;e.DdControllerHierarchy.prototype.m_hierarchyDropdown=null;e.DdControllerHierarchy.prototype.m_hierarchyInput=null;e.DdControllerHierarchy.prototype.m_modelDimension=null;e.DdControllerHierarchy.prototype.m_nodeCondensationCheckbox=null;e.DdControllerHierarchy.prototype.m_nodePositionRBG=null;e.DdControllerHierarchy.prototype.m_postedNodesCheckbox=null;e.DdControllerHierarchy.prototype.getControls=function(){this.getVerticalControls();return e.XList.create()};e.DdControllerHierarchy.prototype.getLabelTexts=function(){let t=e.OuDimensionDialog.getDdLocalization();let i=e.XList.create();i.add(t.getText(e.DimensionDialogI18n.I18N_DD_ACTIVE));i.add(t.getText(e.DimensionDialogI18n.I18N_DD_SELECTED_HIERARCHY));i.add(t.getText(e.DimensionDialogI18n.I18N_DD_EXPAND_TO_LEVEL));i.add(t.getText(e.DimensionDialogI18n.I18N_DD_POSITION_OF_LOWER_LEVE_NODES));i.add(t.getText(e.DimensionDialogI18n.I18N_DD_VALUES_OF_POSTED_NODES));i.add(t.getText(e.DimensionDialogI18n.I18N_DD_CONDENSE_NODES_WITH_ONLY_ONE_LOWER_LEVEL_NODE));return i};e.DdControllerHierarchy.prototype.getPrefixControls=function(){let t=e.XList.create();return t};e.DdControllerHierarchy.prototype.getPrefixLabelTexts=function(){let t=e.XList.create();return t};e.DdControllerHierarchy.prototype.getPrefixWidths=function(){return null};e.DdControllerHierarchy.prototype.getSuffixControls=function(){let t=e.XList.create();return t};e.DdControllerHierarchy.prototype.getSuffixLabelTexts=function(){let t=e.XList.create();return t};e.DdControllerHierarchy.prototype.getSuffixWidths=function(){return null};e.DdControllerHierarchy.prototype.getVerticalControls=function(){let t;let i=e.XList.create();let o=e.OuDimensionDialog.getDdLocalization();let n=this.getModel().getHierarchy();i.add(this.getGenesis().newControl(e.UiType.LABEL).setText(o.getText(e.DimensionDialogI18n.I18N_DD_SELECTED_HIERARCHY)).setFontSize(e.UiCssLength.create("110%")));i.add(this.getGenesis().newControl(e.UiType.SPACER).setHeight(e.UiCssLength.create("1em")));let a=this.getModel().getAvailableHierarchies();if(e.isNull(this.m_hierarchyDropdown)&&e.XCollectionUtils.hasElements(a)){let i=a.getKeysAsReadOnlyList();this.m_hierarchyDropdown=this.getGenesis().newControl(e.UiType.COMBO_BOX).setName(e.DdControllerHierarchy.HIERARCHY_DROPDOWN);for(t=0;t<i.size();t++){let e=i.get(t);this.m_hierarchyDropdown.addNewItem().setText(this.m_modelDimension.isShowTechnical()?e:a.getByKey(e)).setName(e)}this.m_hierarchyDropdown.registerOnSelectionChange(this)}else if(e.isNull(this.m_hierarchyInput)&&!e.XCollectionUtils.hasElements(a)){this.m_hierarchyInput=this.getGenesis().newControl(e.UiType.INPUT).setName(e.DdControllerHierarchy.HIERARCHY_DROPDOWN);this.m_hierarchyInput.setShowValueHelp(true);this.m_hierarchyInput.registerOnValueHelpRequest(this);this.m_hierarchyCatalogController=e.HierarchyCatalogController.create(this.getContext())}if(e.notNull(this.m_hierarchyDropdown)){this.m_hierarchyDropdown.setEnabled(this.getModel().isSelectable());this.m_hierarchyDropdown.setSelectedName(n);i.add(this.m_hierarchyDropdown)}if(e.notNull(this.m_hierarchyInput)){this.m_hierarchyInput.setEnabled(this.getModel().isSelectable());this.m_hierarchyInput.setValue(this.m_modelDimension.isShowTechnical()?this.getModel().getHierarchy():this.getModel().getHierarchyText());i.add(this.m_hierarchyInput)}i.add(this.getGenesis().newControl(e.UiType.SPACER).setWidth(e.UiCssLength.create("100%")).setHeight(e.UiCssLength.create("1em")));let r=this.getModel().isActive();if(e.isNull(this.m_activeFlex)){this.m_activeFlex=this.getGenesis().newControl(e.UiType.FLEX_LAYOUT).setWidth(e.UiCssLength.create("100%"));this.m_activeFlex.addNewItemOfType(e.UiType.LABEL).setText(o.getText(e.DimensionDialogI18n.I18N_DD_PRESENT_HIERARCHY)).setAlignSelf(e.UiFlexAlignSelf.CENTER);this.m_activeFlex.addNewItemOfType(e.UiType.SPACER).setHeight(e.UiCssLength.create("1em"));this.m_activeSwitch=this.m_activeFlex.addNewItemOfType(e.UiType.SWITCH).setOnText(" ").setOffText(" ").setName(e.DdControllerAbstract.DISPLAY_CHECKBOX).setAlignSelf(e.UiFlexAlignSelf.CENTER);this.m_activeSwitch.registerOnChange(this)}this.m_activeSwitch.setOn(r);this.m_activeSwitch.setEnabled(this.getModel().isActivable());i.add(this.m_activeFlex);i.add(this.getGenesis().newControl(e.UiType.SPACER).setWidth(e.UiCssLength.create("100%")).setHeight(e.UiCssLength.create("1em")));i.add(this.getGenesis().newControl(e.UiType.LABEL).setText(o.getText(e.DimensionDialogI18n.I18N_DD_NODES_TO_SHOW)).setFontSize(e.UiCssLength.create("110%")));i.add(this.getGenesis().newControl(e.UiType.SPACER).setHeight(e.UiCssLength.create("1em")));let l=this.getModel().getDrillLevel();if(e.isNull(this.m_drillLevelFlex)){this.m_drillLevelFlex=this.getGenesis().newControl(e.UiType.FLEX_LAYOUT).setWidth(e.UiCssLength.create("100%"));let i=this.getModel().getMaximumDrillLevel();if(i<1||i>9){i=10}this.m_drillLevelFlex.addNewItemOfType(e.UiType.SPACER).setHeight(e.UiCssLength.create("1em")).setWidth(e.UiCssLength.create("1em"));this.m_drillLevelDropdown=this.m_drillLevelFlex.addNewItemOfType(e.UiType.DROPDOWN).setName(e.DdControllerHierarchy.DRILL_LEVEL_DROPDOWN).setAlignSelf(e.UiFlexAlignSelf.CENTER);this.m_drillLevelDropdown.addNewItem().setText(o.getText(e.DimensionDialogI18n.I18N_DD_ALL_NODES)).setName("-1").setCustomObject(e.XIntegerValue.create(-1));this.m_drillLevelDropdown.addNewItem().setText(o.getText(e.DimensionDialogI18n.I18N_DD_ONLY_ROOT_NODE)).setName("0").setCustomObject(e.XIntegerValue.create(0));for(t=1;t<i;t++){let i=e.XInteger.convertToString(t);this.m_drillLevelDropdown.addNewItem().setText(o.getTextWithPlaceholder(e.DimensionDialogI18n.I18N_DD_N_CHILD_NODES,i)).setName(e.XInteger.convertToString(t)).setCustomObject(e.XIntegerValue.create(t));this.m_drillLevelDropdown.registerOnSelect(this)}}this.m_drillLevelDropdown.setEnabled(r);this.m_drillLevelDropdown.setSelectedName(e.XInteger.convertToString(l));i.add(this.m_drillLevelFlex);i.add(this.getGenesis().newControl(e.UiType.SPACER).setWidth(e.UiCssLength.create("100%")).setHeight(e.UiCssLength.create("1em")));i.add(this.getGenesis().newControl(e.UiType.LABEL).setText(o.getText(e.DimensionDialogI18n.I18N_DD_POSITION_OF_LOWER_LEVE_NODES)).setFontSize(e.UiCssLength.create("110%")));i.add(this.getGenesis().newControl(e.UiType.SPACER).setHeight(e.UiCssLength.create("1em")));let s=this.getModel().getNodeAlignment();let u=this.getModel().isSupportsBottomUp();if(e.isNull(this.m_nodePositionRBG)){this.m_nodePositionRBG=this.getGenesis().newControl(e.UiType.RADIO_BUTTON_GROUP).setName(e.DdControllerHierarchy.NODE_POSITION_DROPDOWN).setEnabled(u);this.m_nodePositionRBG.addNewRadioButton().setText(o.getText(e.DimensionDialogI18n.I18N_DD_BELOW)).setName(e.Alignment.CHILDREN_BELOW_PARENT.getName()).setCustomObject(e.Alignment.CHILDREN_BELOW_PARENT);this.m_nodePositionRBG.addNewRadioButton().setText(o.getText(e.DimensionDialogI18n.I18N_DD_ABOVE)).setName(e.Alignment.CHILDREN_ABOVE_PARENT.getName()).setCustomObject(e.Alignment.CHILDREN_ABOVE_PARENT);this.m_nodePositionRBG.registerOnSelect(this)}this.m_nodePositionRBG.setEnabled(r&&u);this.m_nodePositionRBG.setSelectedName(s.getName());i.add(this.m_nodePositionRBG);i.add(this.getGenesis().newControl(e.UiType.SPACER).setWidth(e.UiCssLength.create("100%")).setHeight(e.UiCssLength.create("1em")));i.add(this.getGenesis().newControl(e.UiType.LABEL).setText(o.getText(e.DimensionDialogI18n.I18N_DD_HIERARCHY_CONDENSATION)).setFontSize(e.UiCssLength.create("110%")));i.add(this.getGenesis().newControl(e.UiType.SPACER).setHeight(e.UiCssLength.create("1em")));let m=this.getModel().getMemberOfPostedNodeVisibility();if(e.isNull(this.m_postedNodesCheckbox)){this.m_postedNodesCheckbox=this.getGenesis().newControl(e.UiType.CHECKBOX).setName(e.DdControllerHierarchy.POSTED_NODES_DROPDOWN).setText(o.getText(e.DimensionDialogI18n.I18N_DD_SUPPRESS_VALUES_OF_POSTED_NODES));this.m_postedNodesCheckbox.registerOnChange(this)}this.m_postedNodesCheckbox.setEnabled(r);this.m_postedNodesCheckbox.setChecked(m===e.ResultVisibility.HIDDEN);i.add(this.m_postedNodesCheckbox);let p=this.getModel().isNodeCondensation();if(e.isNull(this.m_nodeCondensationCheckbox)){this.m_nodeCondensationCheckbox=this.getGenesis().newControl(e.UiType.CHECKBOX).setName(e.DdControllerHierarchy.NODE_CONDENSATION_CHECKBOX).setText(o.getText(e.DimensionDialogI18n.I18N_DD_CONDENSE_NODES_WITH_ONLY_ONE_LOWER_LEVEL_NODE));this.m_nodeCondensationCheckbox.registerOnChange(this)}this.m_nodeCondensationCheckbox.setEnabled(r);this.m_nodeCondensationCheckbox.setChecked(p);i.add(this.m_nodeCondensationCheckbox);return i};e.DdControllerHierarchy.prototype.getWidths=function(){return null};e.DdControllerHierarchy.prototype.onChange=function(t){let i=t.getControl();let o=t.getControl();let n=i.getName();switch(n){case e.DdControllerAbstract.DISPLAY_CHECKBOX:this.getModel().setActive(i.isOn());break;case e.DdControllerHierarchy.NODE_CONDENSATION_CHECKBOX:this.getModel().setNodeCondensation(o.isChecked());break;case e.DdControllerHierarchy.POSTED_NODES_DROPDOWN:this.getModel().setMemberOfPostedNodeVisibility(o.isChecked()?e.ResultVisibility.HIDDEN:e.ResultVisibility.ALWAYS);break}};e.DdControllerHierarchy.prototype.onHierarchyCatalogManagerCreated=function(e,t,i){let o=e.getData();this.getGenesis().getRoot().setBusy(false);this.m_hierarchyCatalogController.openDialog("Hierarchy",o,this,"hierarchy",null,this.m_modelDimension)};e.DdControllerHierarchy.prototype.onObservableModelChange=function(e){this.getPrefixControls();this.getControls();this.getSuffixControls();this.update()};e.DdControllerHierarchy.prototype.onSelect=function(t){let i=t.getControl();let o=t.getControl();let n=i.getName();switch(n){case e.DdControllerHierarchy.DRILL_LEVEL_DROPDOWN:this.getModel().setDrillLevel(i.getSelectedItem().getCustomObject().getInteger());break;case e.DdControllerHierarchy.NODE_POSITION_DROPDOWN:this.getModel().setNodeAlignment(o.getSelectedItem().getCustomObject());break;case e.DdControllerHierarchy.POSTED_NODES_DROPDOWN:this.getModel().setMemberOfPostedNodeVisibility(o.getSelectedItem().getCustomObject());break}};e.DdControllerHierarchy.prototype.onSelectionChange=function(t){let i=t.getControl();let o=i.getName();switch(o){case e.DdControllerHierarchy.HIERARCHY_DROPDOWN:this.getModel().setHierarchy(i.getSelectedItem().getName());this.getModel().setActive(e.XStringUtils.isNotNullAndNotEmpty(i.getSelectedItem().getName()));break;case e.DdControllerHierarchy.DRILL_LEVEL_DROPDOWN:this.getModel().setDrillLevel(i.getSelectedItem().getCustomObject().getInteger());break;case e.DdControllerHierarchy.NODE_POSITION_DROPDOWN:this.getModel().setNodeAlignment(i.getSelectedItem().getCustomObject());break;case e.DdControllerHierarchy.POSTED_NODES_DROPDOWN:this.getModel().setMemberOfPostedNodeVisibility(i.getSelectedItem().getCustomObject());break}};e.DdControllerHierarchy.prototype.onValueHelpRequest=function(t){this.getGenesis().getRoot().setBusy(true);let i=e.OlapApiModule.SERVICE_TYPE_HIERARCHY_CATALOG.createServiceConfig(this.getApplication());i.setSystemName(this.m_dimension.getQueryModel().getSystemName());let o=this.m_dimension.getQueryModel().getDataSource().getFullQualifiedName();i.setDataSourceName(o);i.setDimension(this.m_dimension);i.processHierarchyCatalogManagerCreation(e.SyncType.NON_BLOCKING,this,null).getData()};e.DdControllerHierarchy.prototype.setObject=function(t,i){this.getModel().setHierarchyText(i.getHierarchyDescription());let o=i.getHierarchyName();this.getModel().setHierarchy(o);this.getModel().setActive(e.XStringUtils.isNotNullAndNotEmpty(o))};e.DdControllerHierarchy.prototype.update=function(){if(e.notNull(this.m_hierarchyDropdown)){let e=this.getModel().getAvailableHierarchies();let t=this.m_hierarchyDropdown.getNumberOfItems();for(let i=0;i<t;i++){let t=this.m_hierarchyDropdown.getItem(i);let o=t.getName();t.setText(this.m_modelDimension.isShowTechnical()?o:e.getByKey(o))}}};e.DdControllerSortCompact=function(){};e.DdControllerSortCompact.prototype=new e.DdControllerFlexible;e.DdControllerSortCompact.prototype._ff_c="DdControllerSortCompact";e.DdControllerSortCompact.BREAK_GROUPING_CHECKBOX="breakGroupingCheckbox";e.DdControllerSortCompact.CASE_SENSITIVITY_SWITCH="caseSensitivitySwitch";e.DdControllerSortCompact.LOCALE_INPUT="localeInput";e.DdControllerSortCompact.SORT_DIRECTION_DROPDOWN="sortDirectionDropdown";e.DdControllerSortCompact.SORT_FIELD_DROPDOWN="sortFieldDropdown";e.DdControllerSortCompact.SORT_TYPE_DROPDOWN="sortTypeDropdown";e.DdControllerSortCompact.createWithModelAndGenesis=function(t,i,o,n){let a=new e.DdControllerSortCompact;a.setupExt(t,i,o,n);o.addListener(a);return a};e.DdControllerSortCompact.prototype.m_breakGroupingFlex=null;e.DdControllerSortCompact.prototype.m_breakGroupingSwitch=null;e.DdControllerSortCompact.prototype.m_caseSensitiveFlex=null;e.DdControllerSortCompact.prototype.m_caseSensitivitySwitch=null;e.DdControllerSortCompact.prototype.m_localeFlex=null;e.DdControllerSortCompact.prototype.m_localeInput=null;e.DdControllerSortCompact.prototype.m_sortDirectionRadioButtonGroup=null;e.DdControllerSortCompact.prototype.m_sortFieldDropdown=null;e.DdControllerSortCompact.prototype.m_sortFlex=null;e.DdControllerSortCompact.prototype.m_sortHierarchyItem=null;e.DdControllerSortCompact.prototype.m_sortTypeRBG=null;e.DdControllerSortCompact.prototype.getControls=function(){this.getVertialControls();return e.XList.create()};e.DdControllerSortCompact.prototype.getLabelTexts=function(){let t=e.OuDimensionDialog.getDdLocalization();let i=e.XList.create();i.add(t.getText(e.DimensionDialogI18n.I18N_DD_ACTIVE));i.add(t.getText(e.DimensionDialogI18n.I18N_DD_SORT_BY));i.add(t.getText(e.DimensionDialogI18n.I18N_DD_FIELD));i.add(t.getText(e.DimensionDialogI18n.I18N_DD_SORT_DIRECTION));i.add(t.getText(e.DimensionDialogI18n.I18N_DD_BREAK_GROUPING));return i};e.DdControllerSortCompact.prototype.getPrefixControls=function(){let t=e.XList.create();return t};e.DdControllerSortCompact.prototype.getPrefixLabelTexts=function(){let t=e.XList.create();return t};e.DdControllerSortCompact.prototype.getPrefixWidths=function(){return null};e.DdControllerSortCompact.prototype.getSuffixControls=function(){let t=e.XList.create();return t};e.DdControllerSortCompact.prototype.getSuffixLabelTexts=function(){let t=e.XList.create();return t};e.DdControllerSortCompact.prototype.getSuffixWidths=function(){return null};e.DdControllerSortCompact.prototype.getVertialControls=function(){let t=e.OuDimensionDialog.getDdLocalization();let i;let o=e.XList.create();let n=this.getModel().isActive();o.add(this.getGenesis().newControl(e.UiType.LABEL).setText(t.getText(e.DimensionDialogI18n.I18N_DD_SORT_DIRECTION)).setFontSize(e.UiCssLength.create("110%")));o.add(this.getGenesis().newControl(e.UiType.SPACER).setHeight(e.UiCssLength.create("1em")));let a=this.getModel().getSortDirection();if(e.isNull(this.m_sortDirectionRadioButtonGroup)){this.m_sortDirectionRadioButtonGroup=this.getGenesis().newControl(e.UiType.RADIO_BUTTON_GROUP).setName(e.DdControllerSortCompact.SORT_DIRECTION_DROPDOWN);this.m_sortDirectionRadioButtonGroup.addNewRadioButton().setText(t.getText(e.DimensionDialogI18n.I18N_DD_NO_SORT)).setName(e.XSortDirection.DISABLED.getName()).setCustomObject(e.XSortDirection.DISABLED);this.m_sortDirectionRadioButtonGroup.addNewRadioButton().setText(t.getText(e.DimensionDialogI18n.I18N_DD_ASCENDING)).setName(e.XSortDirection.ASCENDING.getName()).setCustomObject(e.XSortDirection.ASCENDING);this.m_sortDirectionRadioButtonGroup.addNewRadioButton().setText(t.getText(e.DimensionDialogI18n.I18N_DD_DESCENDING)).setName(e.XSortDirection.DESCENDING.getName()).setCustomObject(e.XSortDirection.DESCENDING);this.m_sortDirectionRadioButtonGroup.registerOnSelect(this)}this.m_sortDirectionRadioButtonGroup.setEnabled(true);this.m_sortDirectionRadioButtonGroup.setSelectedName(a.getName());o.add(this.m_sortDirectionRadioButtonGroup);o.add(this.getGenesis().newControl(e.UiType.SPACER).setWidth(e.UiCssLength.create("100%")).setHeight(e.UiCssLength.create("1em")));o.add(this.getGenesis().newControl(e.UiType.LABEL).setText(t.getText(e.DimensionDialogI18n.I18N_DD_SORT_BY)).setFontSize(e.UiCssLength.create("110%")));o.add(this.getGenesis().newControl(e.UiType.SPACER).setHeight(e.UiCssLength.create("1em")));let r=this.getModel().getSortType();let l=this.getModel().getAvailableSortTypes();let s=this.getModel().getField();if(e.isNull(this.m_sortFlex)){this.m_sortFlex=this.getGenesis().newControl(e.UiType.VERTICAL_LAYOUT).setWidth(e.UiCssLength.create("100%"));this.m_sortTypeRBG=this.m_sortFlex.addNewItemOfType(e.UiType.RADIO_BUTTON_GROUP).setName(e.DdControllerSortCompact.SORT_TYPE_DROPDOWN);let o=e.SortType.MEMBER_KEY;if(l.contains(o)){this.m_sortTypeRBG.addNewRadioButton().setText(t.getText(e.DimensionDialogI18n.I18N_DD_DIMENSION_KEY)).setName(o.getName()).setCustomObject(o)}o=e.SortType.MEMBER_TEXT;if(l.contains(o)){this.m_sortTypeRBG.addNewRadioButton().setText(t.getText(e.DimensionDialogI18n.I18N_DD_DIMENSION_TEXT)).setName(o.getName()).setCustomObject(o)}o=e.SortType.HIERARCHY;if(l.contains(o)){this.m_sortHierarchyItem=this.m_sortTypeRBG.addNewRadioButton().setText(t.getText(e.DimensionDialogI18n.I18N_DD_SORT_HIERARCHY)).setName(o.getName()).setCustomObject(o)}o=e.SortType.FIELD;if(l.contains(o)){this.m_sortTypeRBG.addNewRadioButton().setText(t.getText(e.DimensionDialogI18n.I18N_DD_FIELD)).setName(o.getName()).setCustomObject(o)}o=e.SortType.FILTER;if(l.contains(o)){this.m_sortTypeRBG.addNewRadioButton().setText(t.getText(e.DimensionDialogI18n.I18N_DD_FILTER)).setName(o.getName()).setCustomObject(o)}this.m_sortTypeRBG.registerOnSelect(this);this.m_sortFieldDropdown=this.m_sortFlex.addNewItemOfType(e.UiType.DROPDOWN).setName(e.DdControllerSortCompact.SORT_FIELD_DROPDOWN);let n=this.getModel().getAvailableFields();for(i=0;i<n.size();i++){let e=n.get(i);this.m_sortFieldDropdown.addNewItem().setText(e).setName(e)}this.m_sortFieldDropdown.registerOnSelect(this)}this.m_sortTypeRBG.setEnabled(n);this.m_sortTypeRBG.setSelectedName(r.getName());if(e.notNull(this.m_sortHierarchyItem)){this.m_sortHierarchyItem.setEnabled(this.getModel().isHierarchySortEnabled())}o.add(this.m_sortFlex);o.add(this.getGenesis().newControl(e.UiType.SPACER).setWidth(e.UiCssLength.create("100%")).setHeight(e.UiCssLength.create("1em")));this.m_sortFieldDropdown.setEnabled(n);this.m_sortFieldDropdown.setVisible(r===e.SortType.FIELD);if(e.notNull(s)){this.m_sortFieldDropdown.setSelectedName(s)}if(false&&this.getModel().supportsLocaleSorting()){if(e.isNull(this.m_localeFlex)){this.m_localeFlex=this.getGenesis().newControl(e.UiType.FLEX_LAYOUT).setWidth(e.UiCssLength.create("100%"));this.m_localeFlex.addNewItemOfType(e.UiType.LABEL).setText(t.getText(e.DimensionDialogI18n.I18N_DD_LOCALE)).setWidth(e.UiCssLength.create("auto")).setAlignSelf(e.UiFlexAlignSelf.CENTER);this.m_localeFlex.addNewItemOfType(e.UiType.SPACER).setHeight(e.UiCssLength.create("1em")).setWidth(e.UiCssLength.create("1em"));this.m_localeInput=this.m_localeFlex.addNewItemOfType(e.UiType.INPUT).setName(e.DdControllerSortCompact.LOCALE_INPUT).setAlignSelf(e.UiFlexAlignSelf.CENTER).setWidth(e.UiCssLength.create("50%"));this.m_localeInput.registerOnLiveChange(this)}this.m_localeInput.setEnabled(n);this.m_localeInput.setValue(this.getModel().getLocale());o.add(this.m_localeFlex);o.add(this.getGenesis().newControl(e.UiType.SPACER).setWidth(e.UiCssLength.create("100%")).setHeight(e.UiCssLength.create("1em")));if(e.isNull(this.m_caseSensitiveFlex)){this.m_caseSensitiveFlex=this.getGenesis().newControl(e.UiType.FLEX_LAYOUT).setWidth(e.UiCssLength.create("100%"));this.m_caseSensitiveFlex.addNewItemOfType(e.UiType.LABEL).setText(t.getText(e.DimensionDialogI18n.I18N_DD_CASE_SENSITIVE)).setWidth(e.UiCssLength.create("auto")).setAlignSelf(e.UiFlexAlignSelf.CENTER);this.m_caseSensitiveFlex.addNewItemOfType(e.UiType.SPACER).setHeight(e.UiCssLength.create("1em")).setWidth(e.UiCssLength.create("1em"));this.m_caseSensitivitySwitch=this.m_caseSensitiveFlex.addNewItemOfType(e.UiType.SWITCH).setOnText(" ").setOffText(" ").setName(e.DdControllerSortCompact.CASE_SENSITIVITY_SWITCH).setAlignSelf(e.UiFlexAlignSelf.CENTER);this.m_caseSensitivitySwitch.registerOnChange(this)}this.m_caseSensitivitySwitch.setEnabled(n);this.m_caseSensitivitySwitch.setOn(this.getModel().isCaseSensitive());o.add(this.m_caseSensitiveFlex)}o.add(this.getGenesis().newControl(e.UiType.SPACER).setWidth(e.UiCssLength.create("100%")).setHeight(e.UiCssLength.create("1em")));let u=this.getModel().isBreakGrouping();if(e.isNull(this.m_breakGroupingFlex)){this.m_breakGroupingFlex=this.getGenesis().newControl(e.UiType.FLEX_LAYOUT).setWidth(e.UiCssLength.create("100%"));this.m_breakGroupingFlex.addNewItemOfType(e.UiType.LABEL).setText(t.getText(e.DimensionDialogI18n.I18N_DD_BREAK_GROUPING)).setWidth(e.UiCssLength.create("auto")).setAlignSelf(e.UiFlexAlignSelf.CENTER);this.m_breakGroupingFlex.addNewItemOfType(e.UiType.SPACER).setHeight(e.UiCssLength.create("1em")).setWidth(e.UiCssLength.create("1em"));this.m_breakGroupingSwitch=this.m_breakGroupingFlex.addNewItemOfType(e.UiType.SWITCH).setOnText(" ").setOffText(" ").setName(e.DdControllerSortCompact.BREAK_GROUPING_CHECKBOX).setAlignSelf(e.UiFlexAlignSelf.CENTER);this.m_breakGroupingSwitch.registerOnChange(this)}this.m_breakGroupingSwitch.setOn(u);this.m_breakGroupingSwitch.setEnabled(n&&this.getModel().isBreakGroupingSupported());o.add(this.m_breakGroupingFlex);return o};e.DdControllerSortCompact.prototype.getWidths=function(){return null};e.DdControllerSortCompact.prototype.onChange=function(t){let i=t.getControl();let o=i.getName();switch(o){case e.DdControllerAbstract.DISPLAY_CHECKBOX:this.getModel().setActive(i.isOn());break;case e.DdControllerSortCompact.BREAK_GROUPING_CHECKBOX:this.getModel().setBreakGrouping(i.isOn());break;case e.DdControllerSortCompact.CASE_SENSITIVITY_SWITCH:this.getModel().setCaseSensitive(i.isOn());break}};e.DdControllerSortCompact.prototype.onLiveChange=function(t){let i=t.getControl();let o=i.getName();switch(o){case e.DdControllerSortCompact.LOCALE_INPUT:this.getModel().setLocale(i.getValue());break}};e.DdControllerSortCompact.prototype.onObservableModelChange=function(e){this.getPrefixControls();this.getControls();this.getSuffixControls()};e.DdControllerSortCompact.prototype.onSelect=function(t){let i=t.getControl();let o=i.getName();switch(o){case e.DdControllerSortCompact.SORT_TYPE_DROPDOWN:this.getModel().setSortType(i.getSelectedItem().getCustomObject());break;case e.DdControllerSortCompact.SORT_FIELD_DROPDOWN:this.getModel().setField(i.getSelectedItem().getName());break;case e.DdControllerSortCompact.SORT_DIRECTION_DROPDOWN:this.getModel().setSortDirection(i.getSelectedItem().getCustomObject());break}};e.DdControllerSortCompact.prototype.onSelectionChange=function(t){let i=t.getControl();let o=i.getName();switch(o){case e.DdControllerSortCompact.SORT_TYPE_DROPDOWN:this.getModel().setSortType(i.getSelectedItem().getCustomObject());break;case e.DdControllerSortCompact.SORT_FIELD_DROPDOWN:this.getModel().setField(i.getSelectedItem().getName());break;case e.DdControllerSortCompact.SORT_DIRECTION_DROPDOWN:this.getModel().setSortDirection(i.getSelectedItem().getCustomObject());break}};e.DdControllerSortExhaustive=function(){};e.DdControllerSortExhaustive.prototype=new e.DdControllerFlexible;e.DdControllerSortExhaustive.prototype._ff_c="DdControllerSortExhaustive";e.DdControllerSortExhaustive.BREAK_GROUPING_CHECKBOX="breakGroupingCheckbox";e.DdControllerSortExhaustive.CASE_SENSITIVITY_SWITCH="caseSensitivitySwitch";e.DdControllerSortExhaustive.LOCALE_INPUT="localeInput";e.DdControllerSortExhaustive.SORT_DIRECTION_DROPDOWN="sortDirectionDropdown";e.DdControllerSortExhaustive.SORT_FIELD_DROPDOWN="sortFieldDropdown";e.DdControllerSortExhaustive.SORT_TYPE_DROPDOWN="sortTypeDropdown";e.DdControllerSortExhaustive.createWithModelAndGenesis=function(t,i,o,n){let a=new e.DdControllerSortExhaustive;a.setupExt(t,i,o,n);o.addListener(a);return a};e.DdControllerSortExhaustive.prototype.m_breakGroupingFlex=null;e.DdControllerSortExhaustive.prototype.m_breakGroupingSwitch=null;e.DdControllerSortExhaustive.prototype.m_caseSensitiveFlex=null;e.DdControllerSortExhaustive.prototype.m_caseSensitivitySwitch=null;e.DdControllerSortExhaustive.prototype.m_localeFlex=null;e.DdControllerSortExhaustive.prototype.m_localeInput=null;e.DdControllerSortExhaustive.prototype.m_sortDirectionRadioButtonGroup=null;e.DdControllerSortExhaustive.prototype.m_sortFieldDropdown=null;e.DdControllerSortExhaustive.prototype.m_sortFlex=null;e.DdControllerSortExhaustive.prototype.m_sortHierarchyItem=null;e.DdControllerSortExhaustive.prototype.m_sortTypeRBG=null;e.DdControllerSortExhaustive.prototype.getControls=function(){this.getVertialControls();return e.XList.create()};e.DdControllerSortExhaustive.prototype.getLabelTexts=function(){let t=e.OuDimensionDialog.getDdLocalization();let i=e.XList.create();i.add(t.getText(e.DimensionDialogI18n.I18N_DD_ACTIVE));i.add(t.getText(e.DimensionDialogI18n.I18N_DD_SORT_BY));i.add(t.getText(e.DimensionDialogI18n.I18N_DD_FIELD));i.add(t.getText(e.DimensionDialogI18n.I18N_DD_SORT_DIRECTION));i.add(t.getText(e.DimensionDialogI18n.I18N_DD_BREAK_GROUPING));return i};e.DdControllerSortExhaustive.prototype.getPrefixControls=function(){let t=e.XList.create();return t};e.DdControllerSortExhaustive.prototype.getPrefixLabelTexts=function(){let t=e.XList.create();return t};e.DdControllerSortExhaustive.prototype.getPrefixWidths=function(){return null};e.DdControllerSortExhaustive.prototype.getSuffixControls=function(){let t=e.XList.create();return t};e.DdControllerSortExhaustive.prototype.getSuffixLabelTexts=function(){let t=e.XList.create();return t};e.DdControllerSortExhaustive.prototype.getSuffixWidths=function(){return null};e.DdControllerSortExhaustive.prototype.getVertialControls=function(){let t=e.OuDimensionDialog.getDdLocalization();let i;let o=e.XList.create();let n=this.getModel().isActive();o.add(this.getGenesis().newControl(e.UiType.LABEL).setText(t.getText(e.DimensionDialogI18n.I18N_DD_SORT_DIRECTION)).setFontSize(e.UiCssLength.create("110%")));o.add(this.getGenesis().newControl(e.UiType.SPACER).setHeight(e.UiCssLength.create("1em")));let a=this.getModel().getSortDirection();if(e.isNull(this.m_sortDirectionRadioButtonGroup)){this.m_sortDirectionRadioButtonGroup=this.getGenesis().newControl(e.UiType.RADIO_BUTTON_GROUP).setName(e.DdControllerSortExhaustive.SORT_DIRECTION_DROPDOWN);this.m_sortDirectionRadioButtonGroup.addNewRadioButton().setText(t.getText(e.DimensionDialogI18n.I18N_DD_NO_SORT)).setName(e.XSortDirection.DISABLED.getName()).setCustomObject(e.XSortDirection.DISABLED);this.m_sortDirectionRadioButtonGroup.addNewRadioButton().setText(t.getText(e.DimensionDialogI18n.I18N_DD_ASCENDING)).setName(e.XSortDirection.ASCENDING.getName()).setCustomObject(e.XSortDirection.ASCENDING);this.m_sortDirectionRadioButtonGroup.addNewRadioButton().setText(t.getText(e.DimensionDialogI18n.I18N_DD_DESCENDING)).setName(e.XSortDirection.DESCENDING.getName()).setCustomObject(e.XSortDirection.DESCENDING);this.m_sortDirectionRadioButtonGroup.registerOnSelect(this)}this.m_sortDirectionRadioButtonGroup.setEnabled(true);this.m_sortDirectionRadioButtonGroup.setSelectedName(a.getName());o.add(this.m_sortDirectionRadioButtonGroup);o.add(this.getGenesis().newControl(e.UiType.SPACER).setWidth(e.UiCssLength.create("100%")).setHeight(e.UiCssLength.create("1em")));o.add(this.getGenesis().newControl(e.UiType.LABEL).setText(t.getText(e.DimensionDialogI18n.I18N_DD_SORT_BY)).setFontSize(e.UiCssLength.create("110%")));o.add(this.getGenesis().newControl(e.UiType.SPACER).setHeight(e.UiCssLength.create("1em")));let r=this.getModel().getSortType();let l=this.getModel().getAvailableSortTypes();let s=this.getModel().getField();if(e.isNull(this.m_sortFlex)){this.m_sortFlex=this.getGenesis().newControl(e.UiType.VERTICAL_LAYOUT).setWidth(e.UiCssLength.create("100%"));this.m_sortTypeRBG=this.m_sortFlex.addNewItemOfType(e.UiType.RADIO_BUTTON_GROUP).setName(e.DdControllerSortExhaustive.SORT_TYPE_DROPDOWN);let o=e.SortType.MEMBER_KEY;if(l.contains(o)){this.m_sortTypeRBG.addNewRadioButton().setText(t.getText(e.DimensionDialogI18n.I18N_DD_DIMENSION_KEY)).setName(o.getName()).setCustomObject(o)}o=e.SortType.MEMBER_TEXT;if(l.contains(o)){this.m_sortTypeRBG.addNewRadioButton().setText(t.getText(e.DimensionDialogI18n.I18N_DD_DIMENSION_TEXT)).setName(o.getName()).setCustomObject(o)}o=e.SortType.HIERARCHY;if(l.contains(o)){this.m_sortHierarchyItem=this.m_sortTypeRBG.addNewRadioButton().setText(t.getText(e.DimensionDialogI18n.I18N_DD_SORT_HIERARCHY)).setName(o.getName()).setCustomObject(o)}o=e.SortType.FIELD;if(l.contains(o)){this.m_sortTypeRBG.addNewRadioButton().setText(t.getText(e.DimensionDialogI18n.I18N_DD_FIELD)).setName(o.getName()).setCustomObject(o)}o=e.SortType.FILTER;if(l.contains(o)){this.m_sortTypeRBG.addNewRadioButton().setText(t.getText(e.DimensionDialogI18n.I18N_DD_FILTER)).setName(o.getName()).setCustomObject(o)}this.m_sortTypeRBG.registerOnSelect(this);this.m_sortFieldDropdown=this.m_sortFlex.addNewItemOfType(e.UiType.DROPDOWN).setName(e.DdControllerSortExhaustive.SORT_FIELD_DROPDOWN);let n=this.getModel().getAvailableFields();for(i=0;i<n.size();i++){let e=n.get(i);this.m_sortFieldDropdown.addNewItem().setText(e).setName(e)}this.m_sortFieldDropdown.registerOnSelect(this)}this.m_sortTypeRBG.setEnabled(n);this.m_sortTypeRBG.setSelectedName(r.getName());if(e.notNull(this.m_sortHierarchyItem)){this.m_sortHierarchyItem.setEnabled(this.getModel().isHierarchySortEnabled())}o.add(this.m_sortFlex);o.add(this.getGenesis().newControl(e.UiType.SPACER).setWidth(e.UiCssLength.create("100%")).setHeight(e.UiCssLength.create("1em")));this.m_sortFieldDropdown.setEnabled(n);this.m_sortFieldDropdown.setVisible(r===e.SortType.FIELD);if(e.notNull(s)){this.m_sortFieldDropdown.setSelectedName(s)}if(this.getModel().supportsLocaleSorting()){if(e.isNull(this.m_localeFlex)){this.m_localeFlex=this.getGenesis().newControl(e.UiType.FLEX_LAYOUT).setWidth(e.UiCssLength.create("100%"));this.m_localeFlex.addNewItemOfType(e.UiType.LABEL).setText(t.getText(e.DimensionDialogI18n.I18N_DD_LOCALE)).setWidth(e.UiCssLength.create("auto")).setAlignSelf(e.UiFlexAlignSelf.CENTER);this.m_localeFlex.addNewItemOfType(e.UiType.SPACER).setHeight(e.UiCssLength.create("1em")).setWidth(e.UiCssLength.create("1em"));this.m_localeInput=this.m_localeFlex.addNewItemOfType(e.UiType.INPUT).setName(e.DdControllerSortExhaustive.LOCALE_INPUT).setAlignSelf(e.UiFlexAlignSelf.CENTER).setWidth(e.UiCssLength.create("50%"));this.m_localeInput.registerOnLiveChange(this)}this.m_localeInput.setEnabled(n);this.m_localeInput.setValue(this.getModel().getLocale());o.add(this.m_localeFlex);o.add(this.getGenesis().newControl(e.UiType.SPACER).setWidth(e.UiCssLength.create("100%")).setHeight(e.UiCssLength.create("1em")));if(e.isNull(this.m_caseSensitiveFlex)){this.m_caseSensitiveFlex=this.getGenesis().newControl(e.UiType.FLEX_LAYOUT).setWidth(e.UiCssLength.create("100%"));this.m_caseSensitiveFlex.addNewItemOfType(e.UiType.LABEL).setText(t.getText(e.DimensionDialogI18n.I18N_DD_CASE_SENSITIVE)).setWidth(e.UiCssLength.create("auto")).setAlignSelf(e.UiFlexAlignSelf.CENTER);this.m_caseSensitiveFlex.addNewItemOfType(e.UiType.SPACER).setHeight(e.UiCssLength.create("1em")).setWidth(e.UiCssLength.create("1em"));this.m_caseSensitivitySwitch=this.m_caseSensitiveFlex.addNewItemOfType(e.UiType.SWITCH).setOnText(" ").setOffText(" ").setName(e.DdControllerSortExhaustive.CASE_SENSITIVITY_SWITCH).setAlignSelf(e.UiFlexAlignSelf.CENTER);this.m_caseSensitivitySwitch.registerOnChange(this)}this.m_caseSensitivitySwitch.setEnabled(n);this.m_caseSensitivitySwitch.setOn(this.getModel().isCaseSensitive());o.add(this.m_caseSensitiveFlex)}o.add(this.getGenesis().newControl(e.UiType.SPACER).setWidth(e.UiCssLength.create("100%")).setHeight(e.UiCssLength.create("1em")));let u=this.getModel().isBreakGrouping();if(e.isNull(this.m_breakGroupingFlex)){this.m_breakGroupingFlex=this.getGenesis().newControl(e.UiType.FLEX_LAYOUT).setWidth(e.UiCssLength.create("100%"));this.m_breakGroupingFlex.addNewItemOfType(e.UiType.LABEL).setText(t.getText(e.DimensionDialogI18n.I18N_DD_BREAK_GROUPING)).setWidth(e.UiCssLength.create("auto")).setAlignSelf(e.UiFlexAlignSelf.CENTER);this.m_breakGroupingFlex.addNewItemOfType(e.UiType.SPACER).setHeight(e.UiCssLength.create("1em")).setWidth(e.UiCssLength.create("1em"));this.m_breakGroupingSwitch=this.m_breakGroupingFlex.addNewItemOfType(e.UiType.SWITCH).setOnText(" ").setOffText(" ").setName(e.DdControllerSortExhaustive.BREAK_GROUPING_CHECKBOX).setAlignSelf(e.UiFlexAlignSelf.CENTER);this.m_breakGroupingSwitch.registerOnChange(this)}this.m_breakGroupingSwitch.setOn(u);this.m_breakGroupingSwitch.setEnabled(n&&this.getModel().isBreakGroupingSupported());o.add(this.m_breakGroupingFlex);return o};e.DdControllerSortExhaustive.prototype.getWidths=function(){return null};e.DdControllerSortExhaustive.prototype.onChange=function(t){let i=t.getControl();let o=i.getName();switch(o){case e.DdControllerAbstract.DISPLAY_CHECKBOX:this.getModel().setActive(i.isOn());break;case e.DdControllerSortExhaustive.BREAK_GROUPING_CHECKBOX:this.getModel().setBreakGrouping(i.isOn());break;case e.DdControllerSortExhaustive.CASE_SENSITIVITY_SWITCH:this.getModel().setCaseSensitive(i.isOn());break}};e.DdControllerSortExhaustive.prototype.onLiveChange=function(t){let i=t.getControl();let o=i.getName();switch(o){case e.DdControllerSortExhaustive.LOCALE_INPUT:this.getModel().setLocale(i.getValue());break}};e.DdControllerSortExhaustive.prototype.onObservableModelChange=function(e){this.getPrefixControls();this.getControls();this.getSuffixControls()};e.DdControllerSortExhaustive.prototype.onSelect=function(t){let i=t.getControl();let o=i.getName();switch(o){case e.DdControllerSortExhaustive.SORT_TYPE_DROPDOWN:this.getModel().setSortType(i.getSelectedItem().getCustomObject());break;case e.DdControllerSortExhaustive.SORT_FIELD_DROPDOWN:this.getModel().setField(i.getSelectedItem().getName());break;case e.DdControllerSortExhaustive.SORT_DIRECTION_DROPDOWN:this.getModel().setSortDirection(i.getSelectedItem().getCustomObject());break}};e.DdControllerSortExhaustive.prototype.onSelectionChange=function(t){let i=t.getControl();let o=i.getName();switch(o){case e.DdControllerSortExhaustive.SORT_TYPE_DROPDOWN:this.getModel().setSortType(i.getSelectedItem().getCustomObject());break;case e.DdControllerSortExhaustive.SORT_FIELD_DROPDOWN:this.getModel().setField(i.getSelectedItem().getName());break;case e.DdControllerSortExhaustive.SORT_DIRECTION_DROPDOWN:this.getModel().setSortDirection(i.getSelectedItem().getCustomObject());break}};e.DdControllerTotalsCompact=function(){};e.DdControllerTotalsCompact.prototype=new e.DdControllerFlexible;e.DdControllerTotalsCompact.prototype._ff_c="DdControllerTotalsCompact";e.DdControllerTotalsCompact.POSITION_DROPDOWN="positionDropdown";e.DdControllerTotalsCompact.VISIBILITY_DROPDOWN="visibilityDropdown";e.DdControllerTotalsCompact.VISIBILITY_SWITCH="visibilitySwitch";e.DdControllerTotalsCompact.createWithModelAndGenesis=function(t,i,o,n){let a=new e.DdControllerTotalsCompact;a.setupExt(t,i,o,n);o.addListener(a);return a};e.DdControllerTotalsCompact.prototype.m_horizontalSwitchLayout=null;e.DdControllerTotalsCompact.prototype.m_visibilitySB=null;e.DdControllerTotalsCompact.prototype.m_visibilitySwitch=null;e.DdControllerTotalsCompact.prototype.getControls=function(){let t=e.OuDimensionDialog.getDdLocalization();let i=e.XList.create();if(this.getModel().getResultAlignment()===null){if(e.isNull(this.m_visibilitySwitch)){this.m_visibilitySwitch=this.getGenesis().newControl(e.UiType.SWITCH).setOnText(" ").setOffText(" ").setName(e.DdControllerTotalsCompact.VISIBILITY_SWITCH);this.m_visibilitySwitch.registerOnChange(this)}this.m_visibilitySwitch.setOn(this.getModel().getResultVisibility()!==e.ResultVisibility.HIDDEN);i.add(this.m_visibilitySwitch)}else{let o=this.getModel().getResultVisibility();if(e.isNull(this.m_visibilitySB)){this.m_visibilitySB=this.getGenesis().newControl(e.UiType.SEGMENTED_BUTTON).setName(e.DdControllerTotalsCompact.VISIBILITY_DROPDOWN).setWidth(e.UiCssLength.create("90%"));this.m_visibilitySB.addNewItem().setText(t.getText(e.DimensionDialogI18n.I18N_DD_DISPLAY)).setTooltip(t.getText(e.DimensionDialogI18n.I18N_DD_DISPLAY_ALWAYS)).setName(e.ResultVisibility.ALWAYS.getName()).setCustomObject(e.ResultVisibility.ALWAYS);this.m_visibilitySB.addNewItem().setText(t.getText(e.DimensionDialogI18n.I18N_DD_CONDITIONAL)).setTooltip(t.getText(e.DimensionDialogI18n.I18N_DD_DISPLAY_IF_MORE_THAN_ONE)).setName(e.ResultVisibility.CONDITIONAL.getName()).setCustomObject(e.ResultVisibility.CONDITIONAL).setEnabled(this.getModel().isSupportsConditionalResultVisibility());this.m_visibilitySB.addNewItem().setText(t.getText(e.DimensionDialogI18n.I18N_DD_SUPPRESS)).setTooltip(t.getText(e.DimensionDialogI18n.I18N_DD_SUPPRESS_ALWAYS)).setName(e.ResultVisibility.HIDDEN.getName()).setCustomObject(e.ResultVisibility.HIDDEN);this.m_visibilitySB.registerOnSelectionChange(this)}this.m_visibilitySB.setSelectedName(o.getName());i.add(this.m_visibilitySB)}return i};e.DdControllerTotalsCompact.prototype.getInternationalText=function(t){if(this.getModel().getResultStructureElement()===e.ResultStructureElement.TOTAL_INCLUDED_MEMBERS){return t.getText(e.DimensionDialogI18n.I18N_DD_TOTALS_INCLUDING)}if(this.getModel().getResultStructureElement()===e.ResultStructureElement.TOTAL_REMAINING_MEMBERS){return t.getText(e.DimensionDialogI18n.I18N_DD_TOTALS_REMAINING)}return""};e.DdControllerTotalsCompact.prototype.getLabelTexts=function(){let t=e.OuDimensionDialog.getDdLocalization();let i=e.XList.create();if(this.getModel().getResultAlignment()===null){i.add(this.getModel().getResultStructureElement().getName())}else{i.add(t.getText(e.DimensionDialogI18n.I18N_DD_RESULT_LINES))}return i};e.DdControllerTotalsCompact.prototype.getPrefixControls=function(){let t=e.XList.create();return t};e.DdControllerTotalsCompact.prototype.getPrefixLabelTexts=function(){let t=e.XList.create();return t};e.DdControllerTotalsCompact.prototype.getPrefixWidths=function(){return null};e.DdControllerTotalsCompact.prototype.getSuffixControls=function(){let t=e.XList.create();return t};e.DdControllerTotalsCompact.prototype.getSuffixLabelTexts=function(){let t=e.XList.create();return t};e.DdControllerTotalsCompact.prototype.getSuffixWidths=function(){return null};e.DdControllerTotalsCompact.prototype.getVerticalControls=function(){let t=e.OuDimensionDialog.getDdLocalization();let i=e.XList.create();if(this.getModel().getResultAlignment()===null){if(e.isNull(this.m_horizontalSwitchLayout)){this.m_horizontalSwitchLayout=this.getGenesis().newControl(e.UiType.FLEX_LAYOUT);this.m_horizontalSwitchLayout.setWidth(e.UiCssLength.create("100%"));this.m_horizontalSwitchLayout.addNewItemOfType(e.UiType.LABEL).setText(this.getInternationalText(t)).setWidth(e.UiCssLength.create("auto")).setAlignSelf(e.UiFlexAlignSelf.CENTER);this.m_horizontalSwitchLayout.addNewItemOfType(e.UiType.SPACER).setHeight(e.UiCssLength.create("1em")).setWidth(e.UiCssLength.create("1em"));this.m_visibilitySwitch=this.m_horizontalSwitchLayout.addNewItemOfType(e.UiType.SWITCH).setOnText(" ").setOffText(" ").setName(e.DdControllerTotalsCompact.VISIBILITY_SWITCH).setAlignSelf(e.UiFlexAlignSelf.CENTER);this.m_visibilitySwitch.registerOnChange(this)}this.m_visibilitySwitch.setOn(this.getModel().getResultVisibility()!==e.ResultVisibility.HIDDEN);i.add(this.getGenesis().newControl(e.UiType.SPACER).setHeight(e.UiCssLength.create("1em")).setWidth(e.UiCssLength.create("1em")));i.add(this.m_horizontalSwitchLayout)}else{let o=this.getModel().getResultVisibility();if(e.isNull(this.m_visibilitySB)){this.m_visibilitySB=this.getGenesis().newControl(e.UiType.SEGMENTED_BUTTON).setName(e.DdControllerTotalsCompact.VISIBILITY_DROPDOWN).setWidth(e.UiCssLength.create("90%"));this.m_visibilitySB.addNewItem().setText(t.getText(e.DimensionDialogI18n.I18N_DD_DISPLAY)).setTooltip(t.getText(e.DimensionDialogI18n.I18N_DD_DISPLAY_ALWAYS)).setName(e.ResultVisibility.ALWAYS.getName()).setCustomObject(e.ResultVisibility.ALWAYS);this.m_visibilitySB.addNewItem().setText(t.getText(e.DimensionDialogI18n.I18N_DD_CONDITIONAL)).setTooltip(t.getText(e.DimensionDialogI18n.I18N_DD_DISPLAY_IF_MORE_THAN_ONE)).setName(e.ResultVisibility.CONDITIONAL.getName()).setCustomObject(e.ResultVisibility.CONDITIONAL).setEnabled(this.getModel().isSupportsConditionalResultVisibility());this.m_visibilitySB.addNewItem().setText(t.getText(e.DimensionDialogI18n.I18N_DD_SUPPRESS)).setTooltip(t.getText(e.DimensionDialogI18n.I18N_DD_SUPPRESS_ALWAYS)).setName(e.ResultVisibility.HIDDEN.getName()).setCustomObject(e.ResultVisibility.HIDDEN);this.m_visibilitySB.registerOnSelectionChange(this)}this.m_visibilitySB.setSelectedName(o.getName());i.add(this.m_visibilitySB)}return i};e.DdControllerTotalsCompact.prototype.getWidths=function(){return null};e.DdControllerTotalsCompact.prototype.onChange=function(t){let i=t.getControl();let o=i.getName();switch(o){case e.DdControllerTotalsCompact.VISIBILITY_SWITCH:this.getModel().setResultVisibility(i.isOn()?e.ResultVisibility.VISIBLE:e.ResultVisibility.HIDDEN);break}};e.DdControllerTotalsCompact.prototype.onObservableModelChange=function(e){this.getPrefixControls();this.getControls();this.getSuffixControls()};e.DdControllerTotalsCompact.prototype.onSelect=function(t){let i=t.getControl();let o=i.getName();switch(o){case e.DdControllerTotalsCompact.VISIBILITY_DROPDOWN:this.getModel().setResultVisibility(i.getSelectedItem().getCustomObject());break;case e.DdControllerTotalsCompact.POSITION_DROPDOWN:this.getModel().setResultAlignment(i.getSelectedItem().getCustomObject());break}};e.DdControllerTotalsCompact.prototype.onSelectionChange=function(t){let i=t.getControl();let o=i.getName();switch(o){case e.DdControllerTotalsCompact.VISIBILITY_DROPDOWN:this.getModel().setResultVisibility(i.getSelectedItem().getCustomObject());break;case e.DdControllerTotalsCompact.POSITION_DROPDOWN:this.getModel().setResultAlignment(i.getSelectedItem().getCustomObject());break}};e.DdControllerTotalsExhaustive=function(){};e.DdControllerTotalsExhaustive.prototype=new e.DdControllerFlexible;e.DdControllerTotalsExhaustive.prototype._ff_c="DdControllerTotalsExhaustive";e.DdControllerTotalsExhaustive.POSITION_DROPDOWN="positionDropdown";e.DdControllerTotalsExhaustive.VISIBILITY_DROPDOWN="visibilityDropdown";e.DdControllerTotalsExhaustive.VISIBILITY_SWITCH="visibilitySwitch";e.DdControllerTotalsExhaustive.createWithModelAndGenesis=function(t,i,o,n){let a=new e.DdControllerTotalsExhaustive;a.setupExt(t,i,o,n);o.addListener(a);return a};e.DdControllerTotalsExhaustive.prototype.m_alignmentLayout=null;e.DdControllerTotalsExhaustive.prototype.m_horizontalSwitchLayout=null;e.DdControllerTotalsExhaustive.prototype.m_positionDropdown=null;e.DdControllerTotalsExhaustive.prototype.m_visibilityDropdown=null;e.DdControllerTotalsExhaustive.prototype.m_visibilityLayout=null;e.DdControllerTotalsExhaustive.prototype.m_visibilitySwitch=null;e.DdControllerTotalsExhaustive.prototype.getControls=function(){let t=e.OuDimensionDialog.getDdLocalization();let i=e.XList.create();if(this.getModel().getResultAlignment()===null){if(e.isNull(this.m_visibilitySwitch)){this.m_visibilitySwitch=this.getGenesis().newControl(e.UiType.SWITCH).setOnText(" ").setOffText(" ").setName(e.DdControllerTotalsExhaustive.VISIBILITY_SWITCH);this.m_visibilitySwitch.registerOnChange(this)}this.m_visibilitySwitch.setOn(this.getModel().getResultVisibility()!==e.ResultVisibility.HIDDEN);i.add(this.m_visibilitySwitch)}else{let o=this.getModel().getResultVisibility();if(e.isNull(this.m_visibilityDropdown)){this.m_visibilityDropdown=this.getGenesis().newControl(e.UiType.DROPDOWN).setName(e.DdControllerTotalsExhaustive.VISIBILITY_DROPDOWN);this.m_visibilityDropdown.addNewItem().setText(t.getText(e.DimensionDialogI18n.I18N_DD_DISPLAY_ALWAYS)).setName(e.ResultVisibility.ALWAYS.getName()).setCustomObject(e.ResultVisibility.ALWAYS);if(this.getModel().isSupportsConditionalResultVisibility()){this.m_visibilityDropdown.addNewItem().setText(t.getText(e.DimensionDialogI18n.I18N_DD_DISPLAY_IF_MORE_THAN_ONE)).setName(e.ResultVisibility.CONDITIONAL.getName()).setCustomObject(e.ResultVisibility.CONDITIONAL)}this.m_visibilityDropdown.addNewItem().setText(t.getText(e.DimensionDialogI18n.I18N_DD_SUPPRESS)).setName(e.ResultVisibility.HIDDEN.getName()).setCustomObject(e.ResultVisibility.HIDDEN);this.m_visibilityDropdown.registerOnSelect(this);this.m_visibilityDropdown.setSelectedName(o.getName())}this.m_visibilityDropdown.setSelectedName(o.getName());i.add(this.m_visibilityDropdown)}if(this.getModel().getResultAlignment()!==null&&this.getModel().isSupportsResultAlignment()){let o=this.getModel().getResultAlignment();if(e.isNull(this.m_positionDropdown)){this.m_positionDropdown=this.getGenesis().newControl(e.UiType.DROPDOWN).setName(e.DdControllerTotalsExhaustive.POSITION_DROPDOWN);let i=this.getModel().getSupportedResultAlignments();let o=e.ResultAlignment.TOP;if(i.contains(o)){this.m_positionDropdown.addNewItem().setText(t.getText(e.LayoutDialogI18n.I18N_LD_ABOVE)).setName(o.getName()).setCustomObject(o)}o=e.ResultAlignment.TOPBOTTOM;if(i.contains(o)){this.m_positionDropdown.addNewItem().setText(t.getText(e.LayoutDialogI18n.I18N_LD_ABOVE_AND_BELOW)).setName(o.getName()).setCustomObject(o).setEnabled(i.contains(o))}o=e.ResultAlignment.BOTTOM;if(i.contains(o)){this.m_positionDropdown.addNewItem().setText(t.getText(e.LayoutDialogI18n.I18N_LD_BELOW)).setName(o.getName()).setCustomObject(o).setEnabled(i.contains(o))}this.m_positionDropdown.registerOnSelect(this)}this.m_positionDropdown.setSelectedName(o.getName());i.add(this.m_positionDropdown)}return i};e.DdControllerTotalsExhaustive.prototype.getInternationalText=function(t){if(this.getModel().getResultStructureElement()===e.ResultStructureElement.TOTAL_INCLUDED_MEMBERS){return t.getText(e.DimensionDialogI18n.I18N_DD_TOTALS_INCLUDING)}if(this.getModel().getResultStructureElement()===e.ResultStructureElement.TOTAL_REMAINING_MEMBERS){return t.getText(e.DimensionDialogI18n.I18N_DD_TOTALS_REMAINING)}return""};e.DdControllerTotalsExhaustive.prototype.getLabelTexts=function(){let t=e.OuDimensionDialog.getDdLocalization();let i=e.XList.create();if(this.getModel().getResultAlignment()===null){i.add(this.getModel().getResultStructureElement().getName())}else{i.add(t.getText(e.DimensionDialogI18n.I18N_DD_RESULT_LINES))}return i};e.DdControllerTotalsExhaustive.prototype.getPrefixControls=function(){let t=e.XList.create();return t};e.DdControllerTotalsExhaustive.prototype.getPrefixLabelTexts=function(){let t=e.XList.create();return t};e.DdControllerTotalsExhaustive.prototype.getPrefixWidths=function(){return null};e.DdControllerTotalsExhaustive.prototype.getSuffixControls=function(){let t=e.XList.create();return t};e.DdControllerTotalsExhaustive.prototype.getSuffixLabelTexts=function(){let t=e.XList.create();return t};e.DdControllerTotalsExhaustive.prototype.getSuffixWidths=function(){return null};e.DdControllerTotalsExhaustive.prototype.getVerticalControls=function(){let t=e.OuDimensionDialog.getDdLocalization();let i=e.XList.create();if(this.getModel().getResultAlignment()===null){if(e.isNull(this.m_horizontalSwitchLayout)){this.m_horizontalSwitchLayout=this.getGenesis().newControl(e.UiType.FLEX_LAYOUT);this.m_horizontalSwitchLayout.setWidth(e.UiCssLength.create("100%"));this.m_horizontalSwitchLayout.addNewItemOfType(e.UiType.LABEL).setText(this.getInternationalText(t)).setWidth(e.UiCssLength.create("50%")).setAlignSelf(e.UiFlexAlignSelf.CENTER);this.m_horizontalSwitchLayout.addNewItemOfType(e.UiType.SPACER).setHeight(e.UiCssLength.create("1em")).setWidth(e.UiCssLength.create("1em"));this.m_visibilitySwitch=this.m_horizontalSwitchLayout.addNewItemOfType(e.UiType.SWITCH).setOnText(" ").setOffText(" ").setName(e.DdControllerTotalsExhaustive.VISIBILITY_SWITCH).setAlignSelf(e.UiFlexAlignSelf.CENTER);this.m_visibilitySwitch.registerOnChange(this)}this.m_visibilitySwitch.setOn(this.getModel().getResultVisibility()!==e.ResultVisibility.HIDDEN);i.add(this.getGenesis().newControl(e.UiType.SPACER).setHeight(e.UiCssLength.create("1em")).setWidth(e.UiCssLength.create("1em")));i.add(this.m_horizontalSwitchLayout)}else{let o=this.getModel().getResultVisibility();if(e.isNull(this.m_visibilityLayout)||e.isNull(this.m_visibilityDropdown)){this.m_visibilityLayout=this.getGenesis().newControl(e.UiType.FLEX_LAYOUT);this.m_visibilityLayout.setWidth(e.UiCssLength.create("100%"));this.m_visibilityLayout.addNewItemOfType(e.UiType.LABEL).setText(t.getText(e.DimensionDialogI18n.I18N_DD_RESULT_LINES)).setWidth(e.UiCssLength.create("50%")).setAlignSelf(e.UiFlexAlignSelf.CENTER);this.m_visibilityLayout.addNewItemOfType(e.UiType.SPACER).setHeight(e.UiCssLength.create("1em")).setWidth(e.UiCssLength.create("1em"));this.m_visibilityDropdown=this.m_visibilityLayout.addNewItemOfType(e.UiType.DROPDOWN).setName(e.DdControllerTotalsExhaustive.VISIBILITY_DROPDOWN).setWidth(e.UiCssLength.create("50%"));this.m_visibilityDropdown.addNewItem().setText(t.getText(e.DimensionDialogI18n.I18N_DD_DISPLAY_ALWAYS)).setTooltip(t.getText(e.DimensionDialogI18n.I18N_DD_DISPLAY_ALWAYS)).setName(e.ResultVisibility.ALWAYS.getName()).setCustomObject(e.ResultVisibility.ALWAYS);this.m_visibilityDropdown.addNewItem().setText(t.getText(e.DimensionDialogI18n.I18N_DD_DISPLAY_IF_MORE_THAN_ONE)).setTooltip(t.getText(e.DimensionDialogI18n.I18N_DD_DISPLAY_IF_MORE_THAN_ONE)).setName(e.ResultVisibility.CONDITIONAL.getName()).setCustomObject(e.ResultVisibility.CONDITIONAL).setEnabled(this.getModel().isSupportsConditionalResultVisibility());this.m_visibilityDropdown.addNewItem().setText(t.getText(e.DimensionDialogI18n.I18N_DD_SUPPRESS)).setTooltip(t.getText(e.DimensionDialogI18n.I18N_DD_SUPPRESS_ALWAYS)).setName(e.ResultVisibility.HIDDEN.getName()).setCustomObject(e.ResultVisibility.HIDDEN);this.m_visibilityDropdown.registerOnSelect(this)}this.m_visibilityDropdown.setSelectedName(o.getName());i.add(this.m_visibilityLayout)}let o=this.getModel().getSupportedResultAlignments();if(this.getModel().getResultAlignment()!==null&&this.getModel().isSupportsResultAlignment()&&e.XCollectionUtils.hasElements(o)){let n=this.getModel().getResultAlignment();if(e.isNull(this.m_alignmentLayout)||e.isNull(this.m_positionDropdown)){this.m_alignmentLayout=this.getGenesis().newControl(e.UiType.FLEX_LAYOUT);this.m_alignmentLayout.setWidth(e.UiCssLength.create("100%"));this.m_alignmentLayout.addNewItemOfType(e.UiType.LABEL).setText(t.getText(e.DimensionDialogI18n.I18N_DD_RESULT_LINES_POSITION)).setWidth(e.UiCssLength.create("50%")).setAlignSelf(e.UiFlexAlignSelf.CENTER);this.m_alignmentLayout.addNewItemOfType(e.UiType.SPACER).setHeight(e.UiCssLength.create("1em")).setWidth(e.UiCssLength.create("1em"));this.m_positionDropdown=this.m_alignmentLayout.addNewItemOfType(e.UiType.DROPDOWN).setName(e.DdControllerTotalsExhaustive.POSITION_DROPDOWN).setWidth(e.UiCssLength.create("50%"));let i=e.ResultAlignment.TOP;if(o.contains(i)){this.m_positionDropdown.addNewItem().setText(t.getText(e.LayoutDialogI18n.I18N_LD_ABOVE)).setName(i.getName()).setCustomObject(i)}i=e.ResultAlignment.TOPBOTTOM;if(o.contains(i)){this.m_positionDropdown.addNewItem().setText(t.getText(e.LayoutDialogI18n.I18N_LD_ABOVE_AND_BELOW)).setName(i.getName()).setCustomObject(i).setEnabled(o.contains(i))}i=e.ResultAlignment.BOTTOM;if(o.contains(i)){this.m_positionDropdown.addNewItem().setText(t.getText(e.LayoutDialogI18n.I18N_LD_BELOW)).setName(i.getName()).setCustomObject(i).setEnabled(o.contains(i))}this.m_positionDropdown.registerOnSelect(this)}this.m_positionDropdown.setSelectedName(n.getName());i.add(this.m_alignmentLayout)}return i};e.DdControllerTotalsExhaustive.prototype.getWidths=function(){return null};e.DdControllerTotalsExhaustive.prototype.onChange=function(t){let i=t.getControl();let o=i.getName();switch(o){case e.DdControllerTotalsExhaustive.VISIBILITY_SWITCH:this.getModel().setResultVisibility(i.isOn()?e.ResultVisibility.VISIBLE:e.ResultVisibility.HIDDEN);break}};e.DdControllerTotalsExhaustive.prototype.onObservableModelChange=function(e){this.getPrefixControls();this.getControls();this.getSuffixControls()};e.DdControllerTotalsExhaustive.prototype.onSelect=function(t){let i=t.getControl();let o=i.getName();switch(o){case e.DdControllerTotalsExhaustive.VISIBILITY_DROPDOWN:this.getModel().setResultVisibility(i.getSelectedItem().getCustomObject());break;case e.DdControllerTotalsExhaustive.POSITION_DROPDOWN:this.getModel().setResultAlignment(i.getSelectedItem().getCustomObject());break}};e.DdControllerTotalsExhaustive.prototype.onSelectionChange=function(t){let i=t.getControl();let o=i.getName();switch(o){case e.DdControllerTotalsExhaustive.VISIBILITY_DROPDOWN:this.getModel().setResultVisibility(i.getSelectedItem().getCustomObject());break;case e.DdControllerTotalsExhaustive.POSITION_DROPDOWN:this.getModel().setResultAlignment(i.getSelectedItem().getCustomObject());break}};e.DdModelDimension=function(){};e.DdModelDimension.prototype=new e.DdModelOrderable;e.DdModelDimension.prototype._ff_c="DdModelDimension";e.DdModelDimension.createFrom=function(t,i,o,n){let a=new e.DdModelDimension;a.setupExt(t,i,e.isNull(o)&&e.isNull(n));a.setupListeners();a.setupContainer(o,n);return a};e.DdModelDimension.prototype.m_availableFieldLayoutTypes=null;e.DdModelDimension.prototype.m_componentName=null;e.DdModelDimension.prototype.m_componentText=null;e.DdModelDimension.prototype.m_ddModelHierarchy=null;e.DdModelDimension.prototype.m_ddModelReadMode=null;e.DdModelDimension.prototype.m_ddModelSorting=null;e.DdModelDimension.prototype.m_ddModelTotals=null;e.DdModelDimension.prototype.m_ddModelTotalsIncluded=null;e.DdModelDimension.prototype.m_ddModelTotalsRemaining=null;e.DdModelDimension.prototype.m_fieldInventory=null;e.DdModelDimension.prototype.m_fieldLayoutType=null;e.DdModelDimension.prototype.m_fieldsOrderActive=null;e.DdModelDimension.prototype.m_fieldsOrderActiveSelected=null;e.DdModelDimension.prototype.m_fieldsOrderInactive=null;e.DdModelDimension.prototype.m_fieldsOrderInactiveSelected=null;e.DdModelDimension.prototype.m_mainAttribute=null;e.DdModelDimension.prototype.m_secondaryAttributeInventory=null;e.DdModelDimension.prototype.m_secondaryAttributesOrderActive=null;e.DdModelDimension.prototype.m_secondaryAttributesOrderActiveSelected=null;e.DdModelDimension.prototype.m_secondaryAttributesOrderInactive=null;e.DdModelDimension.prototype.m_secondaryAttributesOrderInactiveSelected=null;e.DdModelDimension.prototype.m_showTechnical=false;e.DdModelDimension.prototype.m_visible=false;e.DdModelDimension.prototype.activateAll=function(){if(this.m_fieldLayoutType===e.FieldLayoutType.FIELD_BASED){this.moveElement(this.m_fieldsOrderInactive,this.m_fieldsOrderInactiveSelected,this.m_fieldsOrderActiveSelected,this.m_fieldsOrderActive)}else{this.moveElement(this.m_secondaryAttributesOrderInactive,this.m_secondaryAttributesOrderInactiveSelected,this.m_secondaryAttributesOrderActiveSelected,this.m_secondaryAttributesOrderActive)}};e.DdModelDimension.prototype.activateSelection=function(){if(this.m_fieldLayoutType===e.FieldLayoutType.FIELD_BASED){this.moveElement(this.m_fieldsOrderInactiveSelected,this.m_fieldsOrderInactive,this.m_fieldsOrderActiveSelected,this.m_fieldsOrderActive)}else{this.moveElement(this.m_secondaryAttributesOrderInactiveSelected,this.m_secondaryAttributesOrderInactive,this.m_secondaryAttributesOrderActiveSelected,this.m_secondaryAttributesOrderActive)}};e.DdModelDimension.prototype.applyToQueryModel=function(t){let i=t.getConvenienceCommands();i.clearAllFields(this.m_componentName,e.QContextType.RESULT_SET);i.clearAllAttributes(this.m_componentName,e.QContextType.RESULT_SET);let o=i.getDimension(this.m_componentName);if(e.notNull(this.m_mainAttribute)){this.m_mainAttribute.applyToQueryModel(t,this.m_componentName)}if(o.getFieldLayoutType()!==this.m_fieldLayoutType){o.setFieldLayoutType(this.m_fieldLayoutType)}if(this.m_fieldLayoutType===e.FieldLayoutType.ATTRIBUTE_BASED||this.m_fieldLayoutType===e.FieldLayoutType.ATTRIBUTES_AND_PRESENTATIONS){for(let e=0;e<this.m_secondaryAttributesOrderActive.size();e++){this.m_secondaryAttributesOrderActive.get(e).applyToQueryModel(t,this.m_componentName)}}else if(this.m_fieldLayoutType===e.FieldLayoutType.FIELD_BASED){let t;let n;if(e.notNull(this.m_mainAttribute)){if(this.m_mainAttribute.isDisplayKey()&&this.m_mainAttribute.isDisplayText()){t=this.getTextFieldName(o);n=this.getKeyFieldName(o);if(!this.m_mainAttribute.isDisplayKeyBeforeText()){if(e.XStringUtils.isNotNullAndNotEmpty(t)){i.addField(null,this.m_componentName,null,t,e.QContextType.RESULT_SET)}if(e.XStringUtils.isNotNullAndNotEmpty(n)){i.addField(null,this.m_componentName,null,n,e.QContextType.RESULT_SET)}}else if(this.m_mainAttribute.isDisplayKey()&&this.m_mainAttribute.isDisplayText()){if(e.XStringUtils.isNotNullAndNotEmpty(n)){i.addField(null,this.m_componentName,null,n,e.QContextType.RESULT_SET)}if(e.XStringUtils.isNotNullAndNotEmpty(t)){i.addField(null,this.m_componentName,null,t,e.QContextType.RESULT_SET)}}}else if(this.m_mainAttribute.isDisplayKey()){n=this.getKeyFieldName(o);if(e.XStringUtils.isNotNullAndNotEmpty(n)){i.addField(null,this.m_componentName,null,n,e.QContextType.RESULT_SET)}}else if(this.m_mainAttribute.isDisplayText()){t=this.getTextFieldName(o);if(e.XStringUtils.isNotNullAndNotEmpty(t)){i.addField(null,this.m_componentName,null,t,e.QContextType.RESULT_SET)}}}for(let t=0;t<this.m_fieldsOrderActive.size();t++){let n=this.m_fieldsOrderActive.get(t);let a=i.getField(n.getComponentName());i.addField(o.getDimensionType(),this.m_componentName,a.getPresentationType(),n.getComponentName(),e.QContextType.RESULT_SET)}}o.setReadModeGraceful(e.QContextType.RESULT_SET,this.getDdModelReadMode().getReadMode());let n=this.getDdModelSorting();let a=t.getSortingManager();a.removeDimensionSorting(o);let r=o.getFields();if(e.XCollectionUtils.hasElements(r)){for(let i=0;i<r.size();i++){let o=t.getSortingManager().getFieldSorting(r.get(i),false);if(e.notNull(o)){a.getSortingOperations().removeElement(o)}}}if(n.isActive()){i.sort(n.getSortType(),o.getDimensionType(),this.getComponentName(),null,n.getField(),null,n.getSortDirection());let r=null;if(n.getSortType()===e.SortType.FIELD){r=a.getFieldSorting(t.getFieldByName(n.getField()),false)}else if(n.getSortType().isTypeOf(e.SortType.ABSTRACT_DIMENSION_SORT)){r=a.getDimensionSorting(o,false)}if(e.notNull(r)&&n.supportsLocaleSorting()){r.setLocale(n.getLocale());r.setIsCaseSensitive(n.isCaseSensitive())}}let l=this.getDdModelHierarchy();if(o.supportsHierarchy()){if(!o.isDisplayHierarchyFixInFilter()){i.setDimensionHierarchy(this.getComponentName(),l.getHierarchy(),l.isActive(),l.getDrillLevel())}else{o.setInitialDrillLevel(l.getDrillLevel())}if(l.isActive()){o.setLowerLevelNodeAlignment(l.getNodeAlignment());o.setMemberOfPostedNodeVisibility(l.getMemberOfPostedNodeVisibility());o.setHasNodeCondensation(l.isNodeCondensation())}}o.clearResultVisibilitySettings();if(e.notNull(this.m_ddModelTotals)&&this.m_ddModelTotals.isActive()){this.m_ddModelTotals.applyToModel(t,o,e.QModelLevel.DIMENSIONS)}if(e.notNull(this.m_ddModelTotalsIncluded)&&e.notNull(this.m_ddModelTotalsIncluded)&&this.m_ddModelTotalsIncluded.isActive()){this.m_ddModelTotalsIncluded.applyToModel(t,o,e.QModelLevel.DIMENSIONS)}if(e.notNull(this.m_ddModelTotalsRemaining)&&e.notNull(this.m_ddModelTotalsRemaining)&&this.m_ddModelTotalsRemaining.isActive()){this.m_ddModelTotalsRemaining.applyToModel(t,o,e.QModelLevel.DIMENSIONS)}};e.DdModelDimension.prototype.deActivateAll=function(){if(this.m_fieldLayoutType===e.FieldLayoutType.FIELD_BASED){this.moveElement(this.m_fieldsOrderActive,this.m_fieldsOrderActiveSelected,this.m_fieldsOrderInactiveSelected,this.m_fieldsOrderInactive)}else{this.moveElement(this.m_secondaryAttributesOrderActive,this.m_secondaryAttributesOrderActiveSelected,this.m_secondaryAttributesOrderInactiveSelected,this.m_secondaryAttributesOrderInactive)}};e.DdModelDimension.prototype.deActivateSelection=function(){if(this.m_fieldLayoutType===e.FieldLayoutType.FIELD_BASED){this.moveElement(this.m_fieldsOrderActiveSelected,this.m_fieldsOrderActive,this.m_fieldsOrderInactiveSelected,this.m_fieldsOrderInactive)}else{this.moveElement(this.m_secondaryAttributesOrderActiveSelected,this.m_secondaryAttributesOrderActive,this.m_secondaryAttributesOrderInactiveSelected,this.m_secondaryAttributesOrderInactive)}};e.DdModelDimension.prototype.getAttributesOrderActive=function(){return this.m_fieldLayoutType===e.FieldLayoutType.FIELD_BASED?this.m_fieldsOrderActive:this.m_secondaryAttributesOrderActive};e.DdModelDimension.prototype.getAttributesOrderActiveSelected=function(){return this.m_fieldLayoutType===e.FieldLayoutType.FIELD_BASED?this.m_fieldsOrderActiveSelected:this.m_secondaryAttributesOrderActiveSelected};e.DdModelDimension.prototype.getAttributesOrderInactive=function(){return this.m_fieldLayoutType===e.FieldLayoutType.FIELD_BASED?this.m_fieldsOrderInactive:this.m_secondaryAttributesOrderInactive};e.DdModelDimension.prototype.getAttributesOrderInactiveSelected=function(){return this.m_fieldLayoutType===e.FieldLayoutType.FIELD_BASED?this.m_fieldsOrderInactiveSelected:this.m_secondaryAttributesOrderInactiveSelected};e.DdModelDimension.prototype.getAvailableFieldLayoutTypes=function(){return this.m_availableFieldLayoutTypes};e.DdModelDimension.prototype.getComponentName=function(){return this.m_componentName};e.DdModelDimension.prototype.getComponentText=function(){return this.m_componentText};e.DdModelDimension.prototype.getDdModelHierarchy=function(){return this.m_ddModelHierarchy};e.DdModelDimension.prototype.getDdModelReadMode=function(){return this.m_ddModelReadMode};e.DdModelDimension.prototype.getDdModelSorting=function(){return this.m_ddModelSorting};e.DdModelDimension.prototype.getDdModelTotals=function(){return this.m_ddModelTotals};e.DdModelDimension.prototype.getDdModelTotalsIncluded=function(){return this.m_ddModelTotalsIncluded};e.DdModelDimension.prototype.getDdModelTotalsRemaining=function(){return this.m_ddModelTotalsRemaining};e.DdModelDimension.prototype.getDetailAttribute=function(){if(this.m_fieldLayoutType===e.FieldLayoutType.FIELD_BASED||!e.XCollectionUtils.hasElements(this.m_secondaryAttributesOrderActiveSelected)){return null}return this.m_secondaryAttributesOrderActiveSelected.get(this.m_secondaryAttributesOrderActiveSelected.size()-1)};e.DdModelDimension.prototype.getFieldLayoutType=function(){return this.m_fieldLayoutType};e.DdModelDimension.prototype.getKeyFieldName=function(t){let i=this.m_mainAttribute.getKeyView();let o=t.getFieldByPresentationType(i);if(e.isNull(o)){o=t.getDisplayKeyField()}if(e.isNull(o)){o=t.getKeyField()}let n=null;if(e.notNull(o)){n=o.getName()}return n};e.DdModelDimension.prototype.getMainAttribute=function(){return this.m_mainAttribute};e.DdModelDimension.prototype.getTextFieldName=function(t){let i=this.m_mainAttribute.getTextView();let o=t.getFieldByPresentationType(i);if(e.isNull(o)){o=t.getTextField()}let n=null;if(e.notNull(o)){n=o.getName()}return n};e.DdModelDimension.prototype.initializeDetailsLayout=function(t){let i=t.getResultSetAttributes();this.m_secondaryAttributeInventory=e.XHashMapByString.create();this.m_secondaryAttributesOrderActive=e.XList.create();this.m_secondaryAttributesOrderInactive=e.XList.create();this.m_secondaryAttributesOrderActiveSelected=e.XList.create();this.m_secondaryAttributesOrderInactiveSelected=e.XList.create();let o=t.getMainAttribute();for(let t=0;t<i.size();t++){let n=i.get(t);let a=n.getName();if(e.notNull(this.m_mainAttribute)&&e.notNull(o)&&e.XString.isEqual(a,o.getName())){this.m_mainAttribute.applyResultSetSettings(n)}else{let t=e.DdModelFieldContainer.createFromFieldContainer(n,this.m_secondaryAttributesOrderActive,this);t.applyResultSetSettings(n);this.m_secondaryAttributeInventory.put(a,t)}}let n=t.getAttributes();for(let t=0;t<n.size();t++){let i=n.get(t);let a=i.getName();if((e.isNull(o)||e.isNull(this.m_mainAttribute)||!e.XString.isEqual(a,o.getName()))&&!this.m_secondaryAttributeInventory.containsKey(a)){let t=e.DdModelFieldContainer.createFromFieldContainer(i,this.m_secondaryAttributesOrderInactive,this);this.m_secondaryAttributeInventory.put(a,t)}}this.m_fieldInventory=e.XHashMapByString.create();this.m_fieldsOrderInactive=e.XList.create();this.m_fieldsOrderActive=e.XList.create();this.m_fieldsOrderInactiveSelected=e.XList.create();this.m_fieldsOrderActiveSelected=e.XList.create();let a=t.getResultSetFields();let r=null;if(e.notNull(o)){r=o.getFields()}if(!e.XCollectionUtils.hasElements(r)){let i=e.XList.create();i.add(t.getFlatKeyField());i.add(t.getHierarchyKeyField());i.add(t.getFlatDisplayKeyField());i.add(t.getHierarchyDisplayKeyField());i.add(t.getFlatTextField());i.add(t.getHierarchyTextField());r=i}for(let t=0;t<a.size();t++){let i=a.get(t);if(!r.contains(i)){let t=e.DdModelFieldContainer.createFromSingleField(i,this.m_fieldsOrderActive,this);t.setDisplayAs(e.DdDisplayAs.DISPLAY);this.m_fieldInventory.put(i.getName(),t)}}let l=t.getFields();for(let t=0;t<l.size();t++){let i=l.get(t);let o=i.getName();if(!r.contains(i)&&!this.m_fieldInventory.containsKey(o)){let t=e.DdModelFieldContainer.createFromSingleField(i,this.m_fieldsOrderInactive,this);this.m_fieldInventory.put(o,t)}}};e.DdModelDimension.prototype.initializeHierarchy=function(t){this.m_ddModelHierarchy=e.DdModelHierarchySelection.createFrom(t)};e.DdModelDimension.prototype.initializeMainAttributes=function(t){let i=t.getMainAttribute();if(e.notNull(i)){this.m_mainAttribute=e.DdModelFieldContainer.createFromFieldContainer(i,null,null)}else{this.m_mainAttribute=e.DdModelFieldContainer.createFromFieldContainer(t,null,null)}};e.DdModelDimension.prototype.initializeReadMode=function(t){this.m_ddModelReadMode=e.DdModelReadMode.createFrom(t,e.QContextType.RESULT_SET)};e.DdModelDimension.prototype.initializeSorting=function(t){this.m_ddModelSorting=e.DdModelSorting.createFrom(t)};e.DdModelDimension.prototype.initializeTotals=function(t){if(t.supportsTotals()){let i=t.getModelCapabilities();this.m_ddModelTotals=e.DdModelTotals.createFrom(i,t,true,null,null);if(i.supportsConditionalResults()){this.m_ddModelTotalsIncluded=e.DdModelTotals.createFrom(i,t,true,e.ResultStructureElement.TOTAL_INCLUDED_MEMBERS,null);this.m_ddModelTotalsRemaining=e.DdModelTotals.createFrom(i,t,true,e.ResultStructureElement.TOTAL_REMAINING_MEMBERS,null)}}};e.DdModelDimension.prototype.isShowTechnical=function(){return this.m_showTechnical};e.DdModelDimension.prototype.isVisible=function(){return this.m_visible};e.DdModelDimension.prototype.moveBottomActiveAttribute=function(){let e=this.getAttributesOrderActiveSelected();if(e.size()===1){e.get(0).moveBottom();this.callListeners()}};e.DdModelDimension.prototype.moveDownActiveAttribute=function(){let e=this.getAttributesOrderActiveSelected();if(e.size()===1){e.get(0).moveDown();this.callListeners()}};e.DdModelDimension.prototype.moveElement=function(e,t,i,o){i.addAll(e);o.addAll(e);let n=e.size();for(let i=0;i<n;i++){t.removeElement(e.get(i))}e.clear();this.callListeners()};e.DdModelDimension.prototype.moveTopActiveAttribute=function(){let e=this.getAttributesOrderActiveSelected();if(e.size()===1){e.get(0).moveTop();this.callListeners()}};e.DdModelDimension.prototype.moveUpActiveAttribute=function(){let e=this.getAttributesOrderActiveSelected();if(e.size()===1){e.get(0).moveUp();this.callListeners()}};e.DdModelDimension.prototype.setAttributesOrderActiveSelected=function(t){if(this.m_fieldLayoutType===e.FieldLayoutType.FIELD_BASED){this.m_fieldsOrderActiveSelected=t}else{this.m_secondaryAttributesOrderActiveSelected=t}this.callListeners()};e.DdModelDimension.prototype.setAttributesOrderInactiveSelected=function(t){if(this.m_fieldLayoutType===e.FieldLayoutType.FIELD_BASED){this.m_fieldsOrderInactiveSelected=t}else{this.m_secondaryAttributesOrderInactiveSelected=t}this.callListeners()};e.DdModelDimension.prototype.setComponentName=function(e){this.m_componentName=e};e.DdModelDimension.prototype.setFieldLayoutType=function(e){this.m_fieldLayoutType=e;this.callListeners()};e.DdModelDimension.prototype.setMainAttribute=function(e){this.m_mainAttribute=e};e.DdModelDimension.prototype.setShowTechnical=function(e){this.m_showTechnical=e;this.callListeners()};e.DdModelDimension.prototype.setVisible=function(e){this.m_visible=e};e.DdModelDimension.prototype.setupExt=function(t,i,o){this.m_visible=i;this.m_componentName=t.getName();this.m_componentText=t.getText();this.m_fieldLayoutType=t.getFieldLayoutType();this.m_availableFieldLayoutTypes=e.XList.create();if(t.supportsFieldLayoutType(e.FieldLayoutType.ATTRIBUTE_BASED)){this.m_availableFieldLayoutTypes.add(e.FieldLayoutType.ATTRIBUTE_BASED)}if(t.supportsFieldLayoutType(e.FieldLayoutType.ATTRIBUTES_AND_PRESENTATIONS)){this.m_availableFieldLayoutTypes.add(e.FieldLayoutType.ATTRIBUTES_AND_PRESENTATIONS)}if(t.supportsFieldLayoutType(e.FieldLayoutType.FIELD_BASED)){this.m_availableFieldLayoutTypes.add(e.FieldLayoutType.FIELD_BASED)}if(o){this.initializeMainAttributes(t);this.initializeDetailsLayout(t);this.initializeReadMode(t);this.initializeSorting(t);this.initializeHierarchy(t);this.initializeTotals(t)}};e.DdModelFieldContainer=function(){};e.DdModelFieldContainer.prototype=new e.DdModelOrderable;e.DdModelFieldContainer.prototype._ff_c="DdModelFieldContainer";e.DdModelFieldContainer.createFromFieldContainer=function(t,i,o){let n=new e.DdModelFieldContainer;n.setupExt(t);n.setupContainer(i,o);return n};e.DdModelFieldContainer.createFromSingleField=function(t,i,o){let n=new e.DdModelFieldContainer;n.setupExtFromField(t);n.setupContainer(i,o);return n};e.DdModelFieldContainer.prototype.m_componentName=null;e.DdModelFieldContainer.prototype.m_componentText=null;e.DdModelFieldContainer.prototype.m_displayKey=false;e.DdModelFieldContainer.prototype.m_displayKeyBeforeText=false;e.DdModelFieldContainer.prototype.m_displayText=false;e.DdModelFieldContainer.prototype.m_displayUseDimensionSetting=false;e.DdModelFieldContainer.prototype.m_fieldBased=false;e.DdModelFieldContainer.prototype.m_keyView=null;e.DdModelFieldContainer.prototype.m_keyViewsAvailable=null;e.DdModelFieldContainer.prototype.m_mayDisplayKey=false;e.DdModelFieldContainer.prototype.m_mayDisplayText=false;e.DdModelFieldContainer.prototype.m_textView=null;e.DdModelFieldContainer.prototype.m_textViewsAvailable=null;e.DdModelFieldContainer.prototype.applyResultSetSettings=function(t){let i;let o;this.m_displayKey=false;this.m_displayText=false;let n=t.getResultSetFields();for(i=0;i<n.size();i++){o=n.get(i);let t=o.getPresentationType();if(t.isTypeOf(e.PresentationType.ABSTRACT_TEXT)){if(this.m_displayKey){this.m_displayKeyBeforeText=true;this.m_displayText=true;return}if(!this.m_displayText){this.m_displayText=true;this.m_textView=t}}else if(t.isTypeOf(e.PresentationType.ABSTRACT_KEY)){if(this.m_displayText){this.m_displayKeyBeforeText=false;this.m_displayKey=true;return}if(!this.m_displayKey){this.m_displayKey=true;this.m_keyView=t}}}if(!e.XCollectionUtils.hasElements(n)&&t.getDimension().getMainAttribute()===t){n=t.getDimension().getResultSetFields();for(i=0;i<n.size();i++){o=n.get(i);if(o===t.getFlatTextField()||o===t.getHierarchyTextField()){if(this.m_displayKey){this.m_displayKeyBeforeText=true;this.m_displayText=true;return}if(!this.m_displayText){this.m_displayText=true;this.m_textView=o.getPresentationType()}}else if(o===t.getFlatKeyField()||o===t.getHierarchyKeyField()||o===t.getFlatDisplayKeyField()||o===t.getHierarchyDisplayKeyField()){if(this.m_displayText){this.m_displayKeyBeforeText=false;this.m_displayKey=true;return}if(!this.m_displayKey){this.m_displayKey=true;this.m_keyView=o.getPresentationType()}}}}};e.DdModelFieldContainer.prototype.applyToQueryModel=function(t,i){let o=t.getConvenienceCommands();if(this.m_displayKey||this.m_displayText){if(!e.XStream.of(t.getDimensionByName(i).getResultSetAttributes()).anyMatch(t=>e.XString.isEqual(t.getName(),this.getComponentName()))){o.addAttributeToResultSet(i,this.getComponentName())}o.clearAllAttributeFields(i,this.getComponentName(),e.QContextType.RESULT_SET)}let n=null;let a=null;if(this.m_displayKey&&this.m_displayText&&!this.m_displayKeyBeforeText){n=this.getTextView();a=this.getKeyView()}else if(this.m_displayKey&&this.m_displayText){n=this.getKeyView();a=this.getTextView()}else if(this.m_displayKey){n=this.getKeyView()}else if(this.m_displayText){n=this.getTextView()}if(e.notNull(n)){let t=o.addAttributeField(null,i,this.getComponentName(),n,null,e.QContextType.RESULT_SET);if(e.notNull(t)){t.setObtainability(e.ObtainabilityType.ALWAYS)}}if(e.notNull(a)){let t=o.addAttributeField(null,i,this.getComponentName(),a,null,e.QContextType.RESULT_SET);if(e.notNull(t)){t.setObtainability(e.ObtainabilityType.ALWAYS)}}};e.DdModelFieldContainer.prototype.getAvailableDisplayAs=function(){let t=e.XList.create();t.add(e.DdDisplayAs.NO_DISPLAY);if(this.isMayDisplayKey()){t.add(e.DdDisplayAs.KEY)}if(this.isMayDisplayText()){t.add(e.DdDisplayAs.TEXT)}if(this.isMayDisplayText()&&this.isMayDisplayKey()){t.add(e.DdDisplayAs.KEY_AND_TEXT);t.add(e.DdDisplayAs.TEXT_AND_KEY)}return t};e.DdModelFieldContainer.prototype.getComponentName=function(){return this.m_componentName};e.DdModelFieldContainer.prototype.getComponentText=function(){return this.m_componentText};e.DdModelFieldContainer.prototype.getDisplayAs=function(){if(this.m_displayText&&this.m_displayKey&&this.m_displayKeyBeforeText){return e.DdDisplayAs.KEY_AND_TEXT}if(this.m_displayText&&this.m_displayKey){return e.DdDisplayAs.TEXT_AND_KEY}if(this.m_displayText){return e.DdDisplayAs.TEXT}if(this.m_displayKey){return e.DdDisplayAs.KEY}return e.DdDisplayAs.NO_DISPLAY};e.DdModelFieldContainer.prototype.getKeyView=function(){return this.m_keyView};e.DdModelFieldContainer.prototype.getKeyViewsAvailable=function(){return this.m_keyViewsAvailable};e.DdModelFieldContainer.prototype.getTextView=function(){return this.m_textView};e.DdModelFieldContainer.prototype.getTextViewsAvailable=function(){return this.m_textViewsAvailable};e.DdModelFieldContainer.prototype.isDisplayKey=function(){return this.m_displayKey};e.DdModelFieldContainer.prototype.isDisplayKeyBeforeText=function(){return this.m_displayKeyBeforeText};e.DdModelFieldContainer.prototype.isDisplayText=function(){return this.m_displayText};e.DdModelFieldContainer.prototype.isDisplayUseDimensionSetting=function(){return this.m_displayUseDimensionSetting};e.DdModelFieldContainer.prototype.isFieldBased=function(){return this.m_fieldBased};e.DdModelFieldContainer.prototype.isMayDisplayKey=function(){return this.m_mayDisplayKey};e.DdModelFieldContainer.prototype.isMayDisplayText=function(){return this.m_mayDisplayText};e.DdModelFieldContainer.prototype.reloadFieldContainerLayout=function(t){this.m_textViewsAvailable=e.XList.create();this.m_keyViewsAvailable=e.XList.create();let i;if(t.getComponentType()===e.OlapComponentType.ATTRIBUTE){let o=t.getFields();for(let t=0;t<o.size();t++){let n=o.get(t);i=n.getPresentationType();if(i.isTypeOf(e.PresentationType.TEXT)&&i!==e.PresentationType.TEXT&&!this.m_textViewsAvailable.contains(i)){this.m_textViewsAvailable.add(i)}else if(i.isTypeOf(e.PresentationType.ABSTRACT_KEY)&&!this.m_keyViewsAvailable.contains(i)){this.m_keyViewsAvailable.add(i)}}}if(t.getTextField()!==null){i=t.getTextField().getPresentationType();this.m_textViewsAvailable.removeElement(i);this.m_textViewsAvailable.insert(0,i)}if(t.getKeyField()!==null){i=t.getKeyField().getPresentationType();this.m_keyViewsAvailable.removeElement(i);this.m_keyViewsAvailable.insert(0,i)}if(t.getDisplayKeyField()!==null){i=t.getDisplayKeyField().getPresentationType();this.m_keyViewsAvailable.removeElement(i);this.m_keyViewsAvailable.insert(0,i)}};e.DdModelFieldContainer.prototype.setComponentName=function(e){this.m_componentName=e};e.DdModelFieldContainer.prototype.setDisplayAs=function(t){if(e.notNull(t)){this.m_displayKey=t.isKey();this.m_displayText=t.isText()}if(t===e.DdDisplayAs.KEY_AND_TEXT){this.m_displayKeyBeforeText=true}else if(t===e.DdDisplayAs.TEXT_AND_KEY){this.m_displayKeyBeforeText=false}this.callListeners()};e.DdModelFieldContainer.prototype.setDisplayKey=function(e){this.m_displayKey=e;this.callListeners()};e.DdModelFieldContainer.prototype.setDisplayKeyBeforeText=function(e){this.m_displayKeyBeforeText=e;this.callListeners()};e.DdModelFieldContainer.prototype.setDisplayText=function(e){this.m_displayText=e;this.callListeners()};e.DdModelFieldContainer.prototype.setDisplayUseDimensionSetting=function(e){this.m_displayUseDimensionSetting=e};e.DdModelFieldContainer.prototype.setKeyView=function(e){this.m_keyView=e};e.DdModelFieldContainer.prototype.setKeyViewsAvailable=function(e){this.m_keyViewsAvailable=e};e.DdModelFieldContainer.prototype.setTextView=function(e){this.m_textView=e};e.DdModelFieldContainer.prototype.setTextViewsAvailable=function(e){this.m_textViewsAvailable=e};e.DdModelFieldContainer.prototype.setupExt=function(t){this.m_componentName=t.getName();this.m_componentText=t.getText();if(e.XStringUtils.isNullOrEmpty(this.m_componentText)){this.m_componentText=this.m_componentName}this.m_fieldBased=false;this.reloadFieldContainerLayout(t);this.m_mayDisplayKey=e.XCollectionUtils.hasElements(this.m_keyViewsAvailable);this.m_mayDisplayText=e.XCollectionUtils.hasElements(this.m_textViewsAvailable);if(this.m_mayDisplayText){this.m_textView=this.m_textViewsAvailable.get(0)}if(this.m_mayDisplayKey){this.m_keyView=this.m_keyViewsAvailable.get(0);for(let t=0;t<this.m_keyViewsAvailable.size();t++){let i=this.m_keyViewsAvailable.get(t);if(i.isTypeOf(e.PresentationType.DISPLAY_KEY)||i.isTypeOf(e.PresentationType.ACTIVE_DISPLAY_KEY)||i.isTypeOf(e.PresentationType.HIERARCHY_DISPLAY_KEY)||i.isTypeOf(e.PresentationType.DISPLAY_KEY_NOT_COMPOUND)||i.isTypeOf(e.PresentationType.DISPLAY_KEY_MIXED_COMPOUNDMENT)){this.m_keyView=i;break}}}};e.DdModelFieldContainer.prototype.setupExtFromField=function(t){this.m_componentName=t.getName();this.m_componentText=t.getText();if(e.XStringUtils.isNullOrEmpty(this.m_componentText)){this.m_componentText=this.m_componentName}this.m_fieldBased=true};e.FdItem=function(){};e.FdItem.prototype=new e.XObject;e.FdItem.prototype._ff_c="FdItem";e.FdItem.FD_ITEM_IDENTIFIER="FdItemIdentifier";e.FdItem.prototype.m_comparisonOperator=null;e.FdItem.prototype.m_hierarchyName=null;e.FdItem.prototype.m_properties=null;e.FdItem.prototype.addProperties=function(t){if(e.notNull(t)){this.m_properties.putAll(t)}};e.FdItem.prototype.getChildren=function(){return null};e.FdItem.prototype.getComparisonOperator=function(){let t=this.getFdComparisonOperator();return e.notNull(t)?t.getOriginOperator():null};e.FdItem.prototype.getDisplayKeyFormatted=function(){return this.getDisplayKey()};e.FdItem.prototype.getFdComparisonOperator=function(){return e.notNull(this.m_comparisonOperator)?this.m_comparisonOperator:e.FdComparisonOperator.EQUAL};e.FdItem.prototype.getFormattedValueByPresentation=function(t){if(e.isNull(t)){return null}if(this.isNull()){return e.XLocalizationCenter.getCenter().getText(e.FilterDialogI18n.I18N_FD_NULL)}let i=t.isKey()?this.getDisplayKey():this.getText();if(e.XString.isEqual(i,"")){if(!t.isKey()&&e.XStringUtils.isNotNullAndNotEmpty(this.getDisplayKey())){return this.getDisplayKey()}else{return e.XLocalizationCenter.getCenter().getText(e.FilterDialogI18n.I18N_FD_NO_VALUE)}}return i};e.FdItem.prototype.getHierarchyName=function(){return this.m_hierarchyName};e.FdItem.prototype.getHighItem=function(){return this};e.FdItem.prototype.getLowItem=function(){return this};e.FdItem.prototype.getProperties=function(){if(e.isNull(this.m_properties)){this.m_properties=e.XProperties.create();this.m_properties.putBoolean(e.FdItem.FD_ITEM_IDENTIFIER,true)}return this.m_properties};e.FdItem.prototype.getTextFormatted=function(){return this.getText()};e.FdItem.prototype.hasChildren=function(){return false};e.FdItem.prototype.isComparisonOperatorEqual=function(e){return this.getFdComparisonOperator()===e.getFdComparisonOperator()||this.getFdComparisonOperator().isEqualOperator()&&e.getFdComparisonOperator().isEqualOperator()};e.FdItem.prototype.isEqualTo=function(t){if(e.isNull(t)){return false}if(this===t){return true}let i=t;return this.isComparisonOperatorEqual(i)&&e.XString.isEqual(this.getHierarchyName(),i.getHierarchyName())&&this.isNull()===i.isNull()};e.FdItem.prototype.isExcluded=function(){return!this.getFdComparisonOperator().isIncluding()};e.FdItem.prototype.isRootNode=function(){return false};e.FdItem.prototype.releaseObject=function(){e.XObject.prototype.releaseObject.call(this);this.m_comparisonOperator=null;this.m_hierarchyName=null;this.m_properties=e.XObjectExt.release(this.m_properties)};e.FdItem.prototype.setComparisonOperator=function(t){let i=e.FdComparisonOperator.getByOriginalOperator(t);if(e.notNull(i)||e.isNull(t)){this.m_comparisonOperator=i}};e.FdItem.prototype.setExcluded=function(e){this.m_comparisonOperator=this.getFdComparisonOperator().getWithExcludedState(e)};e.FdItem.prototype.setFdComparisonOperator=function(e){this.m_comparisonOperator=e};e.FdItem.prototype.setHierarchyName=function(e){this.m_hierarchyName=e};e.FdItem.prototype.toString=function(){return this.getKey()};e.FdFunctionalValuesView=function(){};e.FdFunctionalValuesView.prototype=new e.FdAbstractView;e.FdFunctionalValuesView.prototype._ff_c="FdFunctionalValuesView";e.FdFunctionalValuesView.createView=function(t,i){let o=new e.FdFunctionalValuesView;o.setupView(t,i);return o};e.FdFunctionalValuesView.prototype.m_layout=null;e.FdFunctionalValuesView.prototype.buildOlapDialogUi=function(t,i,o){this.m_layout=e.FdFunctionalValuesViewLayout.createLayout();this.m_layout.buildOlapDialogUi(t)};e.FdFunctionalValuesView.prototype.getCurrentViewType=function(){return e.FilterDialogViewType.FUNCTIONAL_VALUES};e.FdFunctionalValuesView.prototype.getInitialFocusControl=function(){return null};e.FdFunctionalValuesView.prototype.getLayout=function(){return this.m_layout};e.FdFunctionalValuesView.prototype.onResize=function(e,t){this.m_layout.onResize(e,t)};e.FdFunctionalValuesView.prototype.onSelectionChange=function(e){};e.FdFunctionalValuesView.prototype.publishAvailablePresentations=function(){};e.FdFunctionalValuesView.prototype.publishMembersList=function(e,t){};e.FdFunctionalValuesView.prototype.publishPresentations=function(){};e.FdFunctionalValuesView.prototype.releaseObject=function(){e.FdAbstractView.prototype.releaseObject.call(this);this.m_layout=e.XObjectExt.release(this.m_layout)};e.FdFunctionalValuesViewLayout=function(){};e.FdFunctionalValuesViewLayout.prototype=new e.XObject;e.FdFunctionalValuesViewLayout.prototype._ff_c="FdFunctionalValuesViewLayout";e.FdFunctionalValuesViewLayout.createLayout=function(){return new e.FdFunctionalValuesViewLayout};e.FdFunctionalValuesViewLayout.prototype.m_root=null;e.FdFunctionalValuesViewLayout.prototype.buildOlapDialogUi=function(t){this.m_root=t.newControl(e.UiType.FLEX_LAYOUT);this.m_root.setDirection(e.UiFlexDirection.COLUMN);this.m_root.setName("FilterDialogFunctionalValuesView")};e.FdFunctionalValuesViewLayout.prototype.getRoot=function(){return this.m_root};e.FdFunctionalValuesViewLayout.prototype.onResize=function(e,t){};e.FdFunctionalValuesViewLayout.prototype.releaseObject=function(){e.XObject.prototype.releaseObject.call(this);this.m_root=e.XObjectExt.release(this.m_root)};e.FdRangesUnsupportedView=function(){};e.FdRangesUnsupportedView.prototype=new e.FdAbstractView;e.FdRangesUnsupportedView.prototype._ff_c="FdRangesUnsupportedView";e.FdRangesUnsupportedView.create=function(t,i){let o=new e.FdRangesUnsupportedView;o.setupView(t,i);o.m_layout=e.FdRangesUnsupportedViewLayout.create();return o};e.FdRangesUnsupportedView.prototype.m_layout=null;e.FdRangesUnsupportedView.prototype.buildOlapDialogUi=function(e,t,i){this.m_layout.buildOlapDialogUi(e);this.m_layout.onResize(t,i);this.m_layout.getClearHierarchyBtn().registerOnPress(this)};e.FdRangesUnsupportedView.prototype.getCurrentViewType=function(){return e.FilterDialogViewType.RANGE};e.FdRangesUnsupportedView.prototype.getInitialFocusControl=function(){return this.m_layout.getClearHierarchyBtn()};e.FdRangesUnsupportedView.prototype.getLayout=function(){return this.m_layout};e.FdRangesUnsupportedView.prototype.onPress=function(t){this.m_model.clearSelection();e.FdLayoutUtils.announceSelectionCleared()};e.FdRangesUnsupportedView.prototype.onResize=function(e,t){this.m_layout.onResize(e,t)};e.FdRangesUnsupportedView.prototype.onSelectionChange=function(e){};e.FdRangesUnsupportedView.prototype.publishAvailablePresentations=function(){};e.FdRangesUnsupportedView.prototype.publishMembersList=function(e,t){};e.FdRangesUnsupportedView.prototype.publishPresentations=function(){};e.FdRangesUnsupportedView.prototype.releaseObject=function(){e.FdAbstractView.prototype.releaseObject.call(this);this.m_layout=e.XObjectExt.release(this.m_layout)};e.FdRangesUnsupportedViewLayout=function(){};e.FdRangesUnsupportedViewLayout.prototype=new e.XObject;e.FdRangesUnsupportedViewLayout.prototype._ff_c="FdRangesUnsupportedViewLayout";e.FdRangesUnsupportedViewLayout.create=function(){return new e.FdRangesUnsupportedViewLayout};e.FdRangesUnsupportedViewLayout.prototype.m_clearSelectionBtn=null;e.FdRangesUnsupportedViewLayout.prototype.m_root=null;e.FdRangesUnsupportedViewLayout.prototype.buildOlapDialogUi=function(t){let i=e.XLocalizationCenter.getCenter();this.m_root=t.newControl(e.UiType.FLEX_LAYOUT);this.m_root.setDirection(e.UiFlexDirection.COLUMN);this.m_root.setAlignItems(e.UiFlexAlignItems.CENTER);this.m_root.setPadding(e.UiCssBoxEdges.create("1rem"));let o=this.m_root.addNewItemOfType(e.UiType.ILLUSTRATED_MESSAGE);o.setName("FilterDialogRangesNotSupportedMessage");o.setTitle(i.getText(e.FilterDialogI18n.I18N_FD_RANGES_UNSUPPORTED_TEXT1));o.setDescription(i.getText(e.FilterDialogI18n.I18N_FD_RANGES_UNSUPPORTED_TEXT2));o.setIllustrationSize(e.UiIllustratedMessageSize.DOT);o.setIllustrationType(e.UiIllustratedMessageType.ERROR_SCREEN);this.m_clearSelectionBtn=e.FdLayoutUtils.addClearSelectionButton(this.m_root,"FilterDialogRangeClearSelectionBtn");this.m_clearSelectionBtn.setButtonType(e.UiButtonType.DEFAULT);let n=this.m_root.addNewItemOfType(e.UiType.LABEL);n.setText(i.getText(e.FilterDialogI18n.I18N_FD_RANGES_UNSUPPORTED_TEXT3));n.setMargin(e.UiCssBoxEdges.create("0.5rem 0 0 0"))};e.FdRangesUnsupportedViewLayout.prototype.getClearHierarchyBtn=function(){return this.m_clearSelectionBtn};e.FdRangesUnsupportedViewLayout.prototype.getRoot=function(){return this.m_root};e.FdRangesUnsupportedViewLayout.prototype.onResize=function(e,t){};e.FdRangesUnsupportedViewLayout.prototype.releaseObject=function(){e.XObject.prototype.releaseObject.call(this);this.m_root=e.XObjectExt.release(this.m_root)};e.FdRangesView=function(){};e.FdRangesView.prototype=new e.FdAbstractView;e.FdRangesView.prototype._ff_c="FdRangesView";e.FdRangesView.createView=function(t,i){let o=new e.FdRangesView;o.setupView(t,i);return o};e.FdRangesView.prototype.m_genesis=null;e.FdRangesView.prototype.m_layout=null;e.FdRangesView.prototype.m_ranges=null;e.FdRangesView.prototype.m_selectionContainer=null;e.FdRangesView.prototype.addNewRange=function(t,i,o){if(!this.isValidItem(t)){return}let n=this.createRange(t);this.m_ranges.add(n);n.buildOlapDialogUi(this.m_genesis);n.registerOnDelete(()=>{this.deleteRange(n,true)});n.registerOnChange((e,t)=>{this.updateModel(n,e,t)});this.m_layout.addRange(n.getLayout());if(o&&!n.isEmpty()&&n.getItem()!==null){this.addRangeToSelection(n)}if(i){e.XCollectionUtils.forEach(this.m_ranges,e=>{e.setExpanded(e===n)});n.focus()}};e.FdRangesView.prototype.addRangeToSelection=function(t){this.clearHierarchy();this.m_model.unregisterOnSelectionChange(this);if(this.m_model.getSelectionMode()===e.UiTableSelectionMode.SINGLE&&this.m_model.getSelectedItems().hasElements()){this.m_model.setSelectedItemAt(0,t.getItem())}else{this.m_model.addToSelection(t.getItem())}this.m_model.registerOnSelectionChange(this)};e.FdRangesView.prototype.buildOlapDialogUi=function(t,i,o){this.m_genesis=t;this.m_layout=this.createLayout(()=>{if(e.isNull(this.m_selectionContainer)){this.m_selectionContainer=e.FdComponentSelectionContainer.create(this.m_model,this,true);this.m_selectionContainer.buildOlapDialogUi(this.m_genesis)}return this.m_selectionContainer.getLayout()});this.m_layout.buildOlapDialogUi(t);this.m_layout.getAddRangeBtn().registerOnPress(this);this.m_layout.setAddRangeBtnVisible(this.m_model.getSelectionMode()===e.UiTableSelectionMode.MULTI_TOGGLE);let n=this.m_model.getRangeModel();this.m_layout.setRangeInfo(n.getMin(),n.getMax(),n.getDateRangeGranularities());this.m_layout.onResize(i,o);this.m_layout.getRoot().setBusy(true)};e.FdRangesView.prototype.clearHierarchy=function(){if(this.m_model.getHierarchyModel().isHierarchical()&&!this.m_model.isFeatureEnabled(e.FdFeature.RANGES_IN_HIERARCHY)){this.m_model.unregisterOnSelectionChange(this);this.m_model.getHierarchyModel().changeHierarchy(null);this.m_model.registerOnSelectionChange(this)}};e.FdRangesView.prototype.createLayout=function(t){return e.FdRangesViewLayout.createLayout(this.m_model,t)};e.FdRangesView.prototype.createRange=function(t){return e.FdComponentRange.create(this.m_model,t)};e.FdRangesView.prototype.deleteRange=function(t,i){this.m_model.unregisterOnSelectionChange(this);this.removeRangeFromModel(t);this.m_ranges.removeElement(t);this.m_layout.removeRange(t.getLayout());e.XObjectExt.release(t);this.onRangesChanged(i);this.m_model.registerOnSelectionChange(this)};e.FdRangesView.prototype.getCurrentViewType=function(){return e.FilterDialogViewType.RANGE};e.FdRangesView.prototype.getInitialFocusControl=function(){return this.m_ranges.hasElements()?this.m_ranges.get(0).getFocusControl():null};e.FdRangesView.prototype.getLayout=function(){return this.m_layout};e.FdRangesView.prototype.isValidItem=function(t){return e.isNull(t)||t.getType()===e.FilterDialogValueType.RANGE||t.getType()===e.FilterDialogValueType.BASIC||t.getType()===e.FilterDialogValueType.VALUEHELP};e.FdRangesView.prototype.onNewClipboardSelection=function(t,i,o){this.m_layout.getRoot().setBusy(true);e.FdAbstractView.prototype.onNewClipboardSelection.call(this,t,i,o)};e.FdRangesView.prototype.onPress=function(e){if(e.getControl()===this.m_layout.getAddRangeBtn()){this.addNewRange(null,true,true);this.onRangesChanged(false)}};e.FdRangesView.prototype.onRangesChanged=function(e){if(e&&this.m_ranges.isEmpty()){this.addNewRange(null,true,true)}let t=this.m_ranges.size()>1;for(let e=0;e<this.m_ranges.size();e++){this.m_ranges.get(e).onRangesChanged(t,e)}this.updateAddRangeButtonState()};e.FdRangesView.prototype.onResize=function(e,t){this.m_layout.onResize(e,t)};e.FdRangesView.prototype.onSelectionChange=function(t){let i=e.XStream.of(this.m_ranges).filter(e=>e.isExpanded()).map(e=>e.getItem()).collect(e.XStreamCollector.toList());this.publishRanges();if(this.m_ranges.size()===1&&this.m_ranges.get(0).isEmpty()){this.m_ranges.get(0).setExpanded(true)}else{e.XCollectionUtils.forEach(this.m_ranges,e=>{e.setExpanded(i.contains(e.getItem()))})}this.m_layout.getRoot().setBusy(false)};e.FdRangesView.prototype.publishAvailablePresentations=function(){};e.FdRangesView.prototype.publishMembersList=function(e,t){this.publishRanges();this.m_layout.getRoot().setBusy(false)};e.FdRangesView.prototype.publishPresentations=function(){};e.FdRangesView.prototype.publishRanges=function(){this.m_ranges.clear();this.m_layout.clearRanges();if(this.m_model.getSelectedItems().hasElements()){let t=this.m_model.isFeatureEnabled(e.FdFeature.EQUAL_IN_RANGE_VIEW);let i=this.m_model.isFeatureEnabled(e.FdFeature.NOT_EQUAL_IN_RANGE_VIEW);let o=this.m_model.isFeatureEnabled(e.FdFeature.NULL_IN_RANGE_VIEW);let n;if(!e.FdLayoutUtils.isMultiView(this.m_model)||t&&o){n=this.m_model.getSelectedItems().createListCopy()}else{n=e.XCollectionUtils.filter(this.m_model.getSelectedItems(),n=>{if(n.isNull()){return o}let a=n.getFdComparisonOperator();return!a.isEqualOperator()||a===e.FdComparisonOperator.EQUAL&&t||a===e.FdComparisonOperator.NOT_EQUAL&&i})}e.XCollectionUtils.forEach(n,e=>{this.addNewRange(e,false,false)});if(this.m_ranges.hasElements()){this.m_ranges.get(0).setExpanded(true)}}this.onRangesChanged(true)};e.FdRangesView.prototype.registerOnSelectionChange=function(){this.m_model.registerOnSelectionChange(this)};e.FdRangesView.prototype.releaseObject=function(){e.FdAbstractView.prototype.releaseObject.call(this);this.m_layout=e.XObjectExt.release(this.m_layout);this.m_genesis=null;this.m_ranges=e.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_ranges);this.m_selectionContainer=e.XObjectExt.release(this.m_selectionContainer)};e.FdRangesView.prototype.removeRangeFromModel=function(e){let t=0;let i=this.m_model.getSelectedItems();while(t<i.size()&&i.get(t)!==e.getItem()){t++}this.m_model.removeSelectedItemAt(t)};e.FdRangesView.prototype.setupView=function(t,i){e.FdAbstractView.prototype.setupView.call(this,t,i);this.m_ranges=e.XList.create()};e.FdRangesView.prototype.updateAddRangeButtonState=function(){let t=e.XCollectionUtils.findFirst(this.m_ranges,e=>!e.validate(false));if(e.notNull(t)){this.m_layout.getAddRangeBtn().setEnabled(false);this.m_layout.getAddRangeBtn().setTooltip(e.XLocalizationCenter.getCenter().getTextWithPlaceholder(e.FilterDialogI18n.I18N_FD_RANGES_ADD_NEW_DISABLED_TOOLTIP,e.XInteger.convertToString(this.m_ranges.getIndex(t)+1)))}else{this.m_layout.getAddRangeBtn().setEnabled(true);this.m_layout.getAddRangeBtn().setTooltip(e.XLocalizationCenter.getCenter().getText(e.FilterDialogI18n.I18N_FD_RANGES_ADD_NEW))}};e.FdRangesView.prototype.updateModel=function(t,i,o){this.updateAddRangeButtonState();if(i.getBoolean()){return}this.m_model.unregisterOnSelectionChange(this);let n=t.getItem();if(n!==o){let e=0;let t=this.m_model.getSelectedItems();while(e<t.size()&&t.get(e)!==n){e++}this.m_model.setSelectedItemAt(e,o)}else if(t.isEmpty()&&this.m_ranges.size()<=1){this.removeRangeFromModel(t)}else if(!t.isEmpty()&&!e.XCollectionUtils.contains(this.m_model.getSelectedItems(),e=>e===n)){this.addRangeToSelection(t)}else{this.m_model.updateSelection()}this.m_model.registerOnSelectionChange(this)};e.FdRangesView.prototype.validate=function(t){let i=e.XStream.of(this.m_ranges).filter(e=>!e.isEmpty()&&!e.validate(true)).collect(e.XStreamCollector.toList());if(i.hasElements()){e.XCollectionUtils.forEach(this.m_ranges,e=>{e.setExpanded(i.contains(e))});return false}e.XStream.of(this.m_ranges.createListCopy()).filter(e=>e.isEmpty()).forEach(e=>{this.deleteRange(e,false)});if(t&&!e.XCollectionUtils.hasElements(this.m_model.getSelectedItems())){this.onRangesChanged(true);return false}return true};e.FdRangesViewLayout=function(){};e.FdRangesViewLayout.prototype=new e.XObject;e.FdRangesViewLayout.prototype._ff_c="FdRangesViewLayout";e.FdRangesViewLayout.createLayout=function(t,i){let o=new e.FdRangesViewLayout;o.setupRangesLayout(t,i);return o};e.FdRangesViewLayout.prototype.m_addRangeBtn=null;e.FdRangesViewLayout.prototype.m_addRangeBtnContainer=null;e.FdRangesViewLayout.prototype.m_genesis=null;e.FdRangesViewLayout.prototype.m_info=null;e.FdRangesViewLayout.prototype.m_infoContainer=null;e.FdRangesViewLayout.prototype.m_model=null;e.FdRangesViewLayout.prototype.m_rangeLayouts=null;e.FdRangesViewLayout.prototype.m_ranges=null;e.FdRangesViewLayout.prototype.m_root=null;e.FdRangesViewLayout.prototype.m_selectionContainer=null;e.FdRangesViewLayout.prototype.m_selectionContainerToggleBtn=null;e.FdRangesViewLayout.prototype.m_size=null;e.FdRangesViewLayout.prototype.addContent=function(t){this.addHeader(t);this.m_ranges=t.addNewItemOfType(e.UiType.FLEX_LAYOUT);this.m_ranges.setDirection(e.UiFlexDirection.COLUMN);this.m_ranges.setAlignItems(e.UiFlexAlignItems.START);this.m_ranges.useMaxWidth();this.m_ranges.setWrap(e.UiFlexWrap.NO_WRAP);this.m_ranges.setName("FilterDialogRangeList");this.m_addRangeBtnContainer=t.addNewItemOfType(e.UiType.FLEX_LAYOUT);this.m_addRangeBtnContainer.setDirection(e.UiFlexDirection.ROW);this.m_addRangeBtnContainer.setName("FilterDialogAddRangeBtnContainer");this.m_addRangeBtn=this.m_addRangeBtnContainer.addNewItemOfType(e.UiType.BUTTON);let i=e.XLocalizationCenter.getCenter().getText(e.FilterDialogI18n.I18N_FD_RANGES_ADD_NEW);this.m_addRangeBtn.setText(i);this.m_addRangeBtn.setTooltip(i);this.m_addRangeBtn.setName("FilterDialogAddRangeBtn");this.m_addRangeBtn.setButtonType(e.UiButtonType.PRIMARY);this.m_addRangeBtn.setMargin(e.UiCssBoxEdges.create("0 0 0 1rem"))};e.FdRangesViewLayout.prototype.addHeader=function(t){this.m_infoContainer=t.addNewItemOfType(e.UiType.FLEX_LAYOUT);this.m_infoContainer.setName("FilterDialogInfoContainer");this.m_infoContainer.setAlignItems(e.UiFlexAlignItems.CENTER);this.m_infoContainer.setJustifyContent(e.UiFlexJustifyContent.END);this.m_infoContainer.useMaxWidth();this.m_infoContainer.setMargin(e.UiCssBoxEdges.create("0 0 1rem 0"));this.m_info=this.m_infoContainer.addNewItemOfType(e.UiType.MESSAGE_STRIP);this.m_info.setIcon("message-information");this.m_info.setShowIcon(true);this.m_info.useMaxWidth();this.m_info.setName("FilterDialogRangeInfo");this.addSelectionContainerToggleBtn(this.m_infoContainer)};e.FdRangesViewLayout.prototype.addRange=function(t){if(e.notNull(this.m_size)){t.resizeComponent(this.m_size)}this.m_rangeLayouts.add(t);this.m_ranges.addItem(t.getRoot())};e.FdRangesViewLayout.prototype.addSelectionContainerToggleBtn=function(t){this.m_selectionContainerToggleBtn=e.FdLayoutUtils.addSelectedMembersToggleButton(t,"FilterDialogRangesShowOnlySelected");this.m_selectionContainerToggleBtn.setMargin(e.UiCssBoxEdges.create("0 0 0 1rem"));this.m_selectionContainerToggleBtn.registerOnPress(e.UiLambdaPressListener.create(e=>{this.setSelectionContainerVisible(e.getControl().isPressed())}))};e.FdRangesViewLayout.prototype.buildOlapDialogUi=function(t){this.m_genesis=t;this.m_root=t.newControl(e.UiType.FLEX_LAYOUT);this.m_root.setDirection(e.UiFlexDirection.COLUMN);this.m_root.setWrap(e.UiFlexWrap.NO_WRAP);this.m_root.setName("FilterDialogRangesView");this.m_root.setPadding(e.UiCssBoxEdges.create("1rem"));this.addContent(this.m_root)};e.FdRangesViewLayout.prototype.clearRanges=function(){this.m_rangeLayouts.clear();this.m_ranges.clearItems()};e.FdRangesViewLayout.prototype.getAddRangeBtn=function(){return this.m_addRangeBtn};e.FdRangesViewLayout.prototype.getRoot=function(){return this.m_root};e.FdRangesViewLayout.prototype.onResize=function(t,i){this.m_size=e.FdLayoutSize.get(this.m_genesis.getUiManager().getDeviceInfo(),t,i,e.FdLayoutUtils.isShowSelectionContainer(this.m_genesis,this.m_model));this.resizeRangeLayouts(this.m_size,e.FdLayoutUtils.isSelectionContainerVisible(this.m_size.getDialogSize()))};e.FdRangesViewLayout.prototype.releaseObject=function(){e.XObject.prototype.releaseObject.call(this);this.m_model=null;this.m_genesis=null;this.m_selectionContainer=null;this.m_root=e.XObjectExt.release(this.m_root);this.m_size=e.XObjectExt.release(this.m_size);this.m_ranges=e.XObjectExt.release(this.m_ranges);this.m_addRangeBtn=e.XObjectExt.release(this.m_addRangeBtn);this.m_rangeLayouts=e.XObjectExt.release(this.m_rangeLayouts)};e.FdRangesViewLayout.prototype.removeRange=function(e){this.m_rangeLayouts.removeElement(e);this.m_ranges.removeItem(e.getRoot())};e.FdRangesViewLayout.prototype.resizeRangeLayouts=function(t,i){e.XCollectionUtils.forEach(this.m_rangeLayouts,e=>{e.resizeComponent(t)});this.m_selectionContainerToggleBtn.setVisible(!i&&t.getContentSize().isSmall()&&e.FdLayoutUtils.isMultiView(this.m_model)&&e.FdLayoutUtils.isShowSelectionContainer(this.m_genesis,this.m_model));if(!this.m_selectionContainerToggleBtn.isVisible()){this.setSelectionContainerVisible(false)}this.updateInfoContainerVisibility()};e.FdRangesViewLayout.prototype.setAddRangeBtnVisible=function(e){this.m_addRangeBtn.setVisible(e)};e.FdRangesViewLayout.prototype.setRangeInfo=function(t,i,o){if(e.XStringUtils.isNotNullAndNotEmpty(this.m_model.getRangeModel().getInfoText())){this.m_info.setText(this.m_model.getRangeModel().getInfoText())}else if(e.notNull(t)&&e.notNull(i)){let n;let a;let r=e.UiNumberFormatterCenter.getCenter();if(t.getValueType().isDateBased()&&i.getValueType().isDateBased()){if(!e.XCollectionUtils.hasElements(o)||o.contains(e.DateRangeGranularity.DAY)){n=r.formatTextForDateTimeKey(null,t.getStringRepresentation(),t.getValueType());a=r.formatTextForDateTimeKey(null,i.getStringRepresentation(),i.getValueType())}else{let r=t;let l=i;let s=e.DateRangeGranularity.getHighest(o);let u=s===e.DateRangeGranularity.MONTH;let m=s===e.DateRangeGranularity.QUARTER;let p=s===e.DateRangeGranularity.HALF_YEAR;n=e.FilterDialogI18nUtils.getDateText(r.getYear(),p?e.DateRangeGranularityMapper.convertMonthToHalfYear(r.getMonthOfYear()):0,m?r.getQuarterOfYear():0,u?r.getMonthOfYear():0,0);a=e.FilterDialogI18nUtils.getDateText(l.getYear(),p?e.DateRangeGranularityMapper.convertMonthToHalfYear(l.getMonthOfYear()):0,m?l.getQuarterOfYear():0,u?l.getMonthOfYear():0,0)}}else if(t.getValueType().isNumber()&&i.getValueType().isNumber()){n=r.format(t.getStringRepresentation());a=r.format(i.getStringRepresentation())}else{n=t.getStringRepresentation();a=i.getStringRepresentation()}this.m_info.setText(e.XLocalizationCenter.getCenter().getTextWithPlaceholder2(e.FilterDialogI18n.I18N_FD_RANGES_INFO,n,a))}this.m_info.setVisible(e.XStringUtils.isNotNullAndNotEmpty(this.m_info.getText()));this.updateInfoContainerVisibility()};e.FdRangesViewLayout.prototype.setSelectionContainerVisible=function(e){if(e){this.m_ranges.setVisible(false);this.m_addRangeBtnContainer.setVisible(false);let e=this.m_selectionContainer();let t=e.getRoot();this.getRoot().addItem(t);t.setVisible(true)}else if(!this.m_ranges.isVisible()){this.m_selectionContainer().getRoot().setVisible(false);this.m_selectionContainerToggleBtn.setPressed(false);this.m_ranges.setVisible(true);this.m_addRangeBtnContainer.setVisible(true)}};e.FdRangesViewLayout.prototype.setupRangesLayout=function(t,i){this.m_model=t;this.m_selectionContainer=i;this.m_rangeLayouts=e.XList.create()};e.FdRangesViewLayout.prototype.updateInfoContainerVisibility=function(){this.m_infoContainer.setVisible(this.m_info.isVisible()||this.m_infoContainer.getItemByName(this.m_selectionContainerToggleBtn.getName())!==null&&this.m_selectionContainerToggleBtn.isVisible())};e.FdTableView=function(){};e.FdTableView.prototype=new e.FdAbstractView;e.FdTableView.prototype._ff_c="FdTableView";e.FdTableView.createView=function(t,i){let o=new e.FdTableView;o.setupView(t,i);return o};e.FdTableView.prototype.m_dataLayoutType=null;e.FdTableView.prototype.m_genesis=null;e.FdTableView.prototype.m_layout=null;e.FdTableView.prototype.m_mainViewSelectionContainer=null;e.FdTableView.prototype.m_presentationSelection=null;e.FdTableView.prototype.m_search=null;e.FdTableView.prototype.m_selectionContainer=null;e.FdTableView.prototype.m_selectionTools=null;e.FdTableView.prototype.m_table=null;e.FdTableView.prototype.m_toggles=null;e.FdTableView.prototype.m_waitingOnSelectionChangeEvent=false;e.FdTableView.prototype.addAllMembersToSelection=function(){this.m_layout.getRoot().setEnabled(false);this.setSelectionContainerBusy(true);this.m_controller.loadAndSelectAllMembers(this.m_presentationSelection.getSelectedPresentations().getValuesAsReadOnlyList())};e.FdTableView.prototype.buildOlapDialogUi=function(t,i,o){this.m_genesis=t;this.m_search=e.FdComponentSearch.create(this.m_model,()=>{this.onSearch()});this.m_search.buildOlapDialogUi(t);this.m_toggles=e.FdComponentToggles.create(this.m_model,()=>{this.reload(false)});this.m_toggles.buildOlapDialogUi(t);this.m_presentationSelection=e.FdComponentPresentationSelection.create(this.m_model,()=>{this.onPresentationChanged()});this.m_presentationSelection.buildOlapDialogUi(t);this.m_selectionTools=e.FdComponentSelectionTools.create(this.m_model,this,e.UiLambdaPressListener.create(e=>{this.onShowSelectedMembersOnlyBtnPress()}));this.m_selectionTools.buildOlapDialogUi(t);let n=e.FdLayoutUtils.isShowSelectionContainer(t,this.m_model);if(n&&!e.FdLayoutUtils.isMultiView(this.m_model)){this.m_selectionContainer=e.FdComponentSelectionContainer.create(this.m_model,this,false);this.m_selectionContainer.buildOlapDialogUi(t)}this.m_layout=e.FdTableViewLayout.createLayout(this.m_model,this,this.m_search.getLayout(),this.m_toggles.getLayout(),e.notNull(this.m_selectionContainer)?this.m_selectionContainer.getLayout():null,this.m_presentationSelection.getLayout(),this.m_selectionTools.getLayout());this.m_layout.setHasSelectionContainer(n);this.m_layout.buildOlapDialogUi(t);this.m_layout.setHeaderPanelExpanded(!this.m_model.isMobile()&&this.m_model.getConfig().getContentType()!==e.FilterDialogContentType.USER_TEAM);this.buildTable();this.m_layout.getClearSelectionBtnMobile().registerOnPress(e.UiLambdaPressListener.create(e=>{this.m_model.clearSelection()}));this.m_layout.getShowOnlySelectedToggleBtnMobile().registerOnPress(e.UiLambdaPressListener.create(e=>{this.onShowSelectedMembersOnlyBtnPress()}));this.m_layout.onResize(i,o);this.m_model.getHierarchyModel().registerOnActiveHierarchyChange(this);this.m_model.registerOnItemsAdded(()=>{this.updatePaging()});this.m_table.setBusy(true)};e.FdTableView.prototype.buildTable=function(){let t=this.m_genesis.getUiManager().getDeviceInfo().isMobile();let i=e.FdTableType.getLayoutType(this.m_model.getHierarchyModel().isHierarchical()&&!this.m_model.getHierarchyModel().hasRootNodesOnly(),t);if(e.isNull(this.m_dataLayoutType)||this.m_dataLayoutType!==i){let t=this.m_table;this.m_dataLayoutType=i;if(this.m_dataLayoutType===e.FdTableType.RESPONSIVE_TABLE_PAGING||this.m_dataLayoutType===e.FdTableType.RESPONSIVE_TABLE_LAZY_LOADING){this.m_table=e.FdComponentResponsiveTable.create(this,this.m_model,this.m_dataLayoutType)}else if(this.m_dataLayoutType===e.FdTableType.TREE_TABLE){this.m_table=e.FdComponentTreeTable.create(this,this.m_model)}else if(this.m_dataLayoutType===e.FdTableType.NAVIGATION_CONTAINER){this.m_table=e.FdComponentNavigationContainer.create(this,this.m_model)}else{throw e.XException.createRuntimeException(e.XStringUtils.concatenate2("No ui control exists for the layout type ",this.m_dataLayoutType.getName()))}this.m_table.buildOlapDialogUi(this.m_genesis);this.m_table.setSelectionMode(this.m_model.getSelectionMode());this.m_selectionTools.setShowSelectionToolButtons(this.isSelectedMembersTableViewSupported());this.resetToTableLayout();e.XObjectExt.release(t)}};e.FdTableView.prototype.clearSearch=function(){this.m_search.clearSearch();this.m_layout.setInfoLabelText(null)};e.FdTableView.prototype.getCurrentViewType=function(){return e.FilterDialogViewType.LIST};e.FdTableView.prototype.getInitialFocusControl=function(){return e.notNull(this.m_search)&&this.m_search.getLayout()!==null&&this.m_search.getLayout().getRoot().isVisible()?this.m_search.getFocusControl():this.m_presentationSelection.getFocusControl()};e.FdTableView.prototype.getLayout=function(){return this.m_layout};e.FdTableView.prototype.getMainPresentation=function(){return this.m_presentationSelection.getMainPresentation()};e.FdTableView.prototype.getNoResultsText=function(t){let i=e.FilterDialogI18n.I18N_FD_NO_RESULTS;if(e.notNull(t)&&e.XCollectionUtils.contains(t.getInfos(),e=>e.getCode()===42709)){i=e.FilterDialogI18n.I18N_FD_MAX_RESULT_RECORDS_LIMIT_REACHED}else if(this.m_model.getConfig().getContentType().isValueHelp()&&this.m_model.getConfig().getExternalValueHelpProcess()!==null){i=e.FilterDialogI18n.I18N_FD_NO_RESULTS_EXT}else if(this.isSearchActive()){i=e.FilterDialogI18n.I18N_FD_NO_RESULTS_FOR_SEARCH}return e.XLocalizationCenter.getCenter().getText(i)};e.FdTableView.prototype.getSelectedPresentations=function(){return this.m_presentationSelection.getSelectedPresentations()};e.FdTableView.prototype.isSearchActive=function(){return this.m_search.isSearchActive()};e.FdTableView.prototype.isSelectedMembersTableViewActive=function(){return(this.m_layout.getShowOnlySelectedToggleBtnMobile().isPressed()||this.m_selectionTools.isShowOnlySelectedMembers())&&this.isSelectedMembersTableViewSupported()};e.FdTableView.prototype.isSelectedMembersTableViewSupported=function(){return!this.m_dataLayoutType.isTreeLayout()&&!e.FdLayoutUtils.isMultiView(this.m_model)};e.FdTableView.prototype.isSelectionContainerViewActive=function(){return(this.m_layout.getShowOnlySelectedToggleBtnMobile().isPressed()||this.m_selectionTools.isShowOnlySelectedMembers())&&!this.isSelectedMembersTableViewSupported()};e.FdTableView.prototype.onError=function(t,i){e.FdAbstractView.prototype.onError.call(this,t,i);this.m_table.setBusy(false);this.setSelectionContainerBusy(false);this.m_table.onError(t,i);this.m_model.onError(t,i);this.m_toggles.onError(t,i)};e.FdTableView.prototype.onFetchChildren=function(t,i,o,n,a){let r=e.notNull(o)?o:this.m_presentationSelection.getSelectedPresentations().getValuesAsReadOnlyList();this.m_controller.fetchChildren(t,i,this.m_model.getChildNodesPageSize()+1,r,n,a)};e.FdTableView.prototype.onHierarchyChanged=function(e){this.resetToTableLayout();this.reload(false)};e.FdTableView.prototype.onNewClipboardSelection=function(t,i,o){this.m_search.clearSearch();this.m_table.setBusy(true);this.m_waitingOnSelectionChangeEvent=true;e.FdAbstractView.prototype.onNewClipboardSelection.call(this,t,i,o)};e.FdTableView.prototype.onPresentationChanged=function(){if(this.isSearchActive()){let t=this.m_table.getFirstItem();if(e.isNull(t)||!this.m_controller.isReloadRequired(t,this.m_presentationSelection.getSelectedPresentations().getValuesAsReadOnlyList())){this.m_model.getPresentationsModel().setSelectedPresentations(this.m_presentationSelection.getMainPresentation(),this.m_presentationSelection.getAdditionalPresentations());this.publishPresentations();return}}this.m_model.getPresentationsModel().setSelectedPresentations(this.m_presentationSelection.getMainPresentation(),this.m_presentationSelection.getAdditionalPresentations());this.reload(true)};e.FdTableView.prototype.onProcessFinished=function(t,i,o){if(this.isReleased()){e.XObjectExt.release(o);return}let n=o;if(n.isFetchChildrenIdentifier()){this.m_table.onProcessFinished(t,i,o)}else if(n.isSearchIdentifier()&&e.XString.isEqual(this.m_search.getSearchText(),n.getSearchValue())){this.publishMembersList(t,i)}e.XObjectExt.release(o)};e.FdTableView.prototype.onRefreshList=function(e,t){this.m_controller.refreshList(this.m_presentationSelection.getSelectedPresentations().getValuesAsReadOnlyList(),e,t)};e.FdTableView.prototype.onRefreshTree=function(e,t){this.m_controller.refreshTree(this.m_presentationSelection.getSelectedPresentations().getValuesAsReadOnlyList(),e,t)};e.FdTableView.prototype.onResize=function(t,i){let o=t>0?t:e.notNull(this.m_layout)?this.m_layout.getContentWidth():-1;let n=i>0?i:this.m_controller.getProgram().getWidth();if(e.notNull(this.m_layout)){this.m_layout.onResize(o,n)}};e.FdTableView.prototype.onSearch=function(){let t=this.m_search.isSearchActive();let i=this.m_search.getSearchText();this.m_table.onSearchChange(t,i);if(t){this.m_table.setBusy(true);let t=this.m_search.getSearchPresentations();let o=this.m_presentationSelection.getSelectedPresentations().getValuesAsReadOnlyList();this.m_controller.search(i,t,o,this.m_table.parentNodesInSearchNeeded(),this,e.FdViewCustomIdentifier.creatForSearch(i))}else{this.clearSearch()}};e.FdTableView.prototype.onSelectionChange=function(t){if(!e.XCollectionUtils.hasElements(t)){this.m_table.onSelectionCleared();e.FdLayoutUtils.announceSelectionCleared()}if(this.isSelectedMembersTableViewActive()&&!this.isSearchActive()){this.m_model.unregisterOnSelectionChange(this);this.renderItems(this.m_model.getSelectedItems(),null);this.m_model.registerOnSelectionChange(this)}else{this.m_model.unregisterOnSelectionChange(this);this.m_table.updateSelectionState(t);this.m_model.registerOnSelectionChange(this)}this.m_layout.getRoot().setEnabled(true);if(this.m_waitingOnSelectionChangeEvent){this.m_waitingOnSelectionChangeEvent=false;this.m_table.setBusy(false);this.updatePaging()}};e.FdTableView.prototype.onShowSelectedMembersOnlyBtnPress=function(){if(this.isSelectedMembersTableViewActive()){this.clearSearch();this.renderItems(this.m_model.getSelectedItems(),null)}else if(this.isSelectionContainerViewActive()){this.clearSearch();if(e.isNull(this.m_mainViewSelectionContainer)){this.m_mainViewSelectionContainer=e.FdComponentSelectionContainer.create(this.m_model,this,true);this.m_mainViewSelectionContainer.buildOlapDialogUi(this.m_genesis)}this.m_layout.setSelectionContainerLayout(this.m_mainViewSelectionContainer.getLayout())}else{this.resetToTableLayout();this.publishMembersList(this.m_model.getItems(this.m_dataLayoutType===e.FdTableType.RESPONSIVE_TABLE_PAGING?this.m_model.getPage():0,this.m_model.getPage()),null)}};e.FdTableView.prototype.onTableSelectionChange=function(t,i){let o=this.m_model.getSelectedItems();if(this.m_model.getSelectionMode()===e.UiTableSelectionMode.SINGLE){this.m_model.changeSelection(i.hasElements()?e.XCollectionUtils.singletonList(i.get(0).getCustomObject()):e.XList.create(),o)}else{let n=e.XList.create();let a=e.XList.create();e.XCollectionUtils.forEach(t,t=>{let o=t.getCustomObject();if(e.notNull(o)){if(i.contains(t)){n.add(o)}else{a.add(o)}}});for(let e=n.size()-1;e>=0;e--){let t=n.get(e);if(a.contains(t)){if(o.contains(t)){n.removeElement(t)}else{while(a.contains(t)){a.removeElement(t)}}}}this.m_model.changeSelection(n,a);e.XObjectExt.release(n);e.XObjectExt.release(a)}};e.FdTableView.prototype.publishAvailablePresentations=function(){this.m_presentationSelection.publishAvailablePresentations();this.m_search.publishAvailablePresentations()};e.FdTableView.prototype.publishMembersList=function(e,t){let i=this.isSelectedMembersTableViewActive();let o=this.isSelectionContainerViewActive();if(i||o){if(this.isSearchActive()){this.resetToTableLayout();this.renderItems(e,t)}else if(i){this.renderItems(this.m_model.getSelectedItems(),null)}else{this.renderItems(e,t)}}else{this.renderItems(e,t)}};e.FdTableView.prototype.publishPresentations=function(){this.m_table.publishPresentations();this.updatePaging()};e.FdTableView.prototype.releaseObject=function(){this.m_table=e.XObjectExt.release(this.m_table);this.m_layout=e.XObjectExt.release(this.m_layout);this.m_search=e.XObjectExt.release(this.m_search);this.m_toggles=e.XObjectExt.release(this.m_toggles);this.m_selectionContainer=e.XObjectExt.release(this.m_selectionContainer);this.m_mainViewSelectionContainer=e.XObjectExt.release(this.m_mainViewSelectionContainer);this.m_presentationSelection=e.XObjectExt.release(this.m_presentationSelection);this.m_selectionTools=e.XObjectExt.release(this.m_selectionTools);this.m_model.registerOnItemsAdded(null);this.m_model.getHierarchyModel().unregisterOnActiveHierarchyChange(this);e.FdAbstractView.prototype.releaseObject.call(this)};e.FdTableView.prototype.reload=function(e){if(!e){this.buildTable()}this.m_table.setBusy(true);if(this.isSearchActive()){this.onSearch()}else{this.m_table.refreshContent(e)}};e.FdTableView.prototype.renderItems=function(t,i){let o=null;if(!e.XCollectionUtils.hasElements(t)){o=this.getNoResultsText(i)}else if(this.isSearchActive()&&t.size()>=this.m_model.getConfig().getSearchSize()){o=e.XLocalizationCenter.getCenter().getTextWithPlaceholder(e.FilterDialogI18n.I18N_FD_MAX_RESULTS,e.XInteger.convertToString(this.m_model.getConfig().getSearchSize()))}this.m_layout.setInfoLabelText(o);this.m_table.renderItems(t,this.m_presentationSelection.getSelectedPresentations(),this.m_model.getSelectedItems());this.updatePaging();this.m_table.setBusy(false)};e.FdTableView.prototype.resetToTableLayout=function(){this.m_layout.setTableLayout(this.m_table.getLayout(),this.m_dataLayoutType);this.m_selectionTools.resetShowOnlySelectedMembersButtonState();this.m_layout.getShowOnlySelectedToggleBtnMobile().setPressed(false)};e.FdTableView.prototype.setSelectionContainerBusy=function(t){if(e.notNull(this.m_selectionContainer)){this.m_selectionContainer.setBusy(t)}};e.FdTableView.prototype.updatePaging=function(){this.m_table.updatePaging(this.isSelectedMembersTableViewActive())};e.FdTableViewLayout=function(){};e.FdTableViewLayout.prototype=new e.XObject;e.FdTableViewLayout.prototype._ff_c="FdTableViewLayout";e.FdTableViewLayout.createLayout=function(t,i,o,n,a,r,l){let s=new e.FdTableViewLayout;s.m_model=t;s.m_resizeListener=i;s.m_searchLayout=o;s.m_togglesLayout=n;s.m_selectionContainerLayout=a;s.m_presentationSelectionLayout=r;s.m_selectionToolsLayout=l;return s};e.FdTableViewLayout.prototype.m_clearSelectionBtnMobile=null;e.FdTableViewLayout.prototype.m_contentContainer=null;e.FdTableViewLayout.prototype.m_genesis=null;e.FdTableViewLayout.prototype.m_hasSelectionContainer=false;e.FdTableViewLayout.prototype.m_headerContainer=null;e.FdTableViewLayout.prototype.m_headerPanel=null;e.FdTableViewLayout.prototype.m_headerPanelToolbar=null;e.FdTableViewLayout.prototype.m_infoLabel=null;e.FdTableViewLayout.prototype.m_infoLabelIcon=null;e.FdTableViewLayout.prototype.m_invisibleTitle=null;e.FdTableViewLayout.prototype.m_layoutType=null;e.FdTableViewLayout.prototype.m_mainView=null;e.FdTableViewLayout.prototype.m_model=null;e.FdTableViewLayout.prototype.m_presentationSelectionLayout=null;e.FdTableViewLayout.prototype.m_resizeListener=null;e.FdTableViewLayout.prototype.m_root=null;e.FdTableViewLayout.prototype.m_searchLayout=null;e.FdTableViewLayout.prototype.m_selectionContainerLayout=null;e.FdTableViewLayout.prototype.m_selectionToolsLayout=null;e.FdTableViewLayout.prototype.m_showOnlySelectedToggleBtnMobile=null;e.FdTableViewLayout.prototype.m_size=null;e.FdTableViewLayout.prototype.m_splitter=null;e.FdTableViewLayout.prototype.m_togglesLayout=null;e.FdTableViewLayout.prototype.m_toolsContainer=null;e.FdTableViewLayout.prototype.buildOlapDialogUi=function(t){this.m_genesis=t;this.m_root=t.newControl(e.UiType.FLEX_LAYOUT);this.m_root.setDirection(e.UiFlexDirection.ROW);this.m_root.setAlignItems(e.UiFlexAlignItems.CENTER);this.m_root.setWrap(e.UiFlexWrap.NO_WRAP);this.m_root.setName("FilterDialogWrapper");this.m_invisibleTitle=this.m_root.addNewItemOfType(e.UiType.INVISIBLE_TEXT);this.m_invisibleTitle.setText(this.m_model.getConfig().getTitle());this.m_mainView=this.createMainView();this.m_root.addItem(this.m_mainView);if(e.notNull(this.m_selectionContainerLayout)){this.m_splitter=e.FdLayoutUtils.addInteractiveSplitterForSelectionContainer(this.m_root,this.m_resizeListener,this.m_mainView,this.m_selectionContainerLayout)}};e.FdTableViewLayout.prototype.createHeaderPanel=function(){let t=e.XLocalizationCenter.getCenter();this.m_headerPanel=this.m_genesis.newControl(e.UiType.PANEL);this.m_headerPanel.setExpandable(true);this.m_headerPanel.setWidth(e.UiCssLength.create("100%"));this.m_headerPanel.setName("FilterDialogHeader");this.m_headerPanelToolbar=this.m_genesis.newControl(e.UiType.TOOLBAR);this.m_headerPanel.setHeaderToolbar(this.m_headerPanelToolbar);let i=this.m_headerPanelToolbar.addNewItemOfType(e.UiType.TITLE);i.setText(t.getText(e.FilterDialogI18n.I18N_FD_SETTINGS));this.m_headerPanelToolbar.addLabelledBy(i);this.m_headerPanelToolbar.addNewItemOfType(e.UiType.SPACER);this.m_showOnlySelectedToggleBtnMobile=e.FdLayoutUtils.addSelectedMembersToggleButton(this.m_headerPanelToolbar,"FilterDialogHeaderShowOnlySelectedToggleBtn");let o=this.m_genesis.newControl(e.UiType.FLEX_LAYOUT);o.setDirection(e.UiFlexDirection.COLUMN);o.setWrap(e.UiFlexWrap.NO_WRAP);o.setFlex("0 0 auto");o.setName("FilterDialogHeaderContentWrapper");this.m_headerPanel.setContent(o);o.addItem(this.m_presentationSelectionLayout.getRoot());o.addItem(this.m_togglesLayout.getRoot());return this.m_headerPanel};e.FdTableViewLayout.prototype.createMainView=function(){let t=this.m_genesis.newControl(e.UiType.FLEX_LAYOUT);t.setDirection(e.UiFlexDirection.COLUMN);t.setJustifyContent(e.UiFlexJustifyContent.START);t.setWrap(e.UiFlexWrap.NO_WRAP);if(!e.FdLayoutUtils.isMultiView(this.m_model)){t.setPadding(e.UiCssBoxEdges.create("1rem"))}t.useMaxSpace();t.setName("FilterDialogMainViewContainer");this.m_headerContainer=this.m_genesis.newControl(e.UiType.FLEX_LAYOUT);this.m_headerContainer.setDirection(e.UiFlexDirection.COLUMN);this.m_headerContainer.useMaxWidth();this.m_headerContainer.setFlex("0 0 auto");this.m_headerContainer.setName("FilterDialogHeaderContainer");t.addItem(this.m_headerContainer);this.m_headerContainer.addItem(this.createHeaderPanel());this.m_headerContainer.addItem(this.createToolsContainer());this.m_contentContainer=this.m_genesis.newControl(e.UiType.FLEX_LAYOUT);this.m_contentContainer.setDirection(e.UiFlexDirection.COLUMN);this.m_contentContainer.setJustifyContent(e.UiFlexJustifyContent.START);this.m_contentContainer.setWrap(e.UiFlexWrap.NO_WRAP);this.m_contentContainer.useMaxWidth();this.m_contentContainer.setMinHeight(e.UiCssLength.create("0"));this.m_contentContainer.setFlex("auto");this.m_contentContainer.setName("FilterDialogContentContainer");t.addItem(this.m_contentContainer);this.m_clearSelectionBtnMobile=e.FdLayoutUtils.addClearSelectionButton(t,"FilterDialogClearButton");this.m_clearSelectionBtnMobile.setFlex("0 0 40px");this.m_clearSelectionBtnMobile.setVisible(this.m_genesis.getUiManager().getDeviceInfo().isMobile());return t};e.FdTableViewLayout.prototype.createToolsContainer=function(){this.m_toolsContainer=this.m_genesis.newControl(e.UiType.FLEX_LAYOUT);this.m_toolsContainer.setDirection(e.UiFlexDirection.ROW);this.m_toolsContainer.setAlignItems(e.UiFlexAlignItems.CENTER);this.m_toolsContainer.setName("FilterDialogToolsContainer");this.m_toolsContainer.useMaxWidth();this.m_toolsContainer.setMargin(e.UiCssBoxEdges.create("0 0 1rem 0"));this.m_toolsContainer.setVisible(false);this.m_infoLabelIcon=this.m_toolsContainer.addNewItemOfType(e.UiType.ICON);this.m_infoLabelIcon.setIcon("message-information");this.m_infoLabelIcon.setMargin(e.UiCssBoxEdges.create("0 0.5rem 0 0"));this.m_infoLabelIcon.setVisible(false);this.m_infoLabel=this.m_toolsContainer.addNewItemOfType(e.UiType.LABEL);this.m_infoLabel.setFontStyle(e.UiFontStyle.ITALIC);this.m_infoLabel.setName("FilterDialogInfoLabel");this.m_infoLabel.setWrapping(true);this.m_infoLabel.setVisible(false);this.m_toolsContainer.addItem(this.m_selectionToolsLayout.getRoot());this.m_selectionToolsLayout.getRoot().setVisible(false);return this.m_toolsContainer};e.FdTableViewLayout.prototype.getClearSelectionBtnMobile=function(){return this.m_clearSelectionBtnMobile};e.FdTableViewLayout.prototype.getContentWidth=function(){return e.notNull(this.m_splitter)&&this.m_splitter.getParent()!==null?this.m_splitter.getItem(0).getOffsetWidth():-1};e.FdTableViewLayout.prototype.getRoot=function(){return this.m_root};e.FdTableViewLayout.prototype.getShowOnlySelectedToggleBtnMobile=function(){return this.m_showOnlySelectedToggleBtnMobile};e.FdTableViewLayout.prototype.onResize=function(t,i){let o=e.FdLayoutSize.get(this.m_genesis.getUiManager().getDeviceInfo(),t,i,this.m_hasSelectionContainer);if(!e.XObjectExt.areEqual(this.m_size,o)){this.m_size=o;let t=o.getContentSize();if((t.isLarge()||t.isMedium()&&this.m_model.getConfig().isShowSimplifiedSearch())&&!t.isMobile()){this.m_headerPanelToolbar.addItem(this.m_searchLayout.getRoot())}else{this.m_headerContainer.insertItem(this.m_searchLayout.getRoot(),0)}this.updateSelectionTools(o);this.m_toolsContainer.setVisible(e.XStringUtils.isNotNullAndNotEmpty(this.m_infoLabel.getText())||this.m_selectionToolsLayout.getRoot().isVisible());this.m_searchLayout.resizeComponent(o);this.m_presentationSelectionLayout.resizeComponent(o);this.m_togglesLayout.resizeComponent(o);if(e.notNull(this.m_splitter)){let t=e.FdLayoutUtils.isSelectionContainerVisible(o.getDialogSize());if(this.m_splitter.getParent()!==null&&!t){this.m_root.removeItem(this.m_splitter);this.m_root.addItem(this.m_mainView)}else if(this.m_splitter.getParent()===null&&t){this.m_root.removeItem(this.m_mainView);this.m_root.addItem(this.m_splitter);this.m_splitter.getItem(0).setContent(this.m_mainView)}}}};e.FdTableViewLayout.prototype.releaseObject=function(){this.m_model=null;this.m_resizeListener=null;this.m_genesis=null;this.m_size=e.XObjectExt.release(this.m_size);this.m_layoutType=null;this.m_root=e.XObjectExt.release(this.m_root);this.m_contentContainer=e.XObjectExt.release(this.m_contentContainer);this.m_toolsContainer=e.XObjectExt.release(this.m_toolsContainer);this.m_infoLabelIcon=e.XObjectExt.release(this.m_infoLabelIcon);this.m_infoLabel=e.XObjectExt.release(this.m_infoLabel);this.m_clearSelectionBtnMobile=e.XObjectExt.release(this.m_clearSelectionBtnMobile);this.m_splitter=e.XObjectExt.release(this.m_splitter);this.m_mainView=e.XObjectExt.release(this.m_mainView);this.m_searchLayout=e.XObjectExt.release(this.m_searchLayout);this.m_togglesLayout=e.XObjectExt.release(this.m_togglesLayout);this.m_selectionContainerLayout=e.XObjectExt.release(this.m_selectionContainerLayout);this.m_presentationSelectionLayout=e.XObjectExt.release(this.m_presentationSelectionLayout);this.m_showOnlySelectedToggleBtnMobile=e.XObjectExt.release(this.m_showOnlySelectedToggleBtnMobile);this.m_headerContainer=e.XObjectExt.release(this.m_headerContainer);this.m_headerPanelToolbar=e.XObjectExt.release(this.m_headerPanelToolbar);this.m_selectionToolsLayout=e.XObjectExt.release(this.m_selectionToolsLayout);this.m_invisibleTitle=e.XObjectExt.release(this.m_invisibleTitle);e.XObject.prototype.releaseObject.call(this)};e.FdTableViewLayout.prototype.setHasSelectionContainer=function(e){this.m_hasSelectionContainer=e};e.FdTableViewLayout.prototype.setHeaderPanelExpanded=function(e){this.m_headerPanel.setExpanded(e)};e.FdTableViewLayout.prototype.setInfoLabelText=function(t){let i=e.XStringUtils.isNotNullAndNotEmpty(t);this.m_infoLabel.setText(t);this.m_infoLabel.setVisible(i);this.m_infoLabelIcon.setVisible(i);this.m_toolsContainer.setVisible(i||this.m_selectionToolsLayout.getRoot().isVisible())};e.FdTableViewLayout.prototype.setSelectionContainerLayout=function(e){this.m_contentContainer.clearItems();this.m_contentContainer.addItem(e.getRoot());this.m_layoutType=null};e.FdTableViewLayout.prototype.setTableLayout=function(t,i){if(i!==this.m_layoutType){t.addLabelledBy(this.m_invisibleTitle);this.m_contentContainer.clearItems();this.m_contentContainer.addItem(t.getRoot());this.m_layoutType=i;if(e.notNull(this.m_size)){this.updateSelectionTools(this.m_size)}}};e.FdTableViewLayout.prototype.updateSelectionTools=function(t){this.m_showOnlySelectedToggleBtnMobile.setVisible(e.notNull(this.m_layoutType)&&!this.m_layoutType.isTreeLayout()&&t.getContentSize().isMobile());this.m_showOnlySelectedToggleBtnMobile.setPressed(this.m_showOnlySelectedToggleBtnMobile.isPressed()&&this.m_showOnlySelectedToggleBtnMobile.isVisible());this.m_selectionToolsLayout.resizeComponent(t)};e.FdView=function(){};e.FdView.prototype=new e.FdAbstractView;e.FdView.prototype._ff_c="FdView";e.FdView.createView=function(t,i,o,n){let a=e.FilterDialogViewType.LIST;let r=i.getViewTypes();if(e.XCollectionUtils.hasElements(r)){a=r.get(0);if(e.FdLayoutUtils.isMultiView(i)){let l=i.getConfig().getDefaultViewType();if(e.notNull(l)&&r.contains(l)){a=l}else if(r.contains(e.FilterDialogViewType.RANGE)&&i.containsRangeSelectionOnly()&&e.XStringUtils.isNullOrEmpty(i.getInitialSearchValue())){a=e.FilterDialogViewType.RANGE}let s=new e.FdView;s.setupFdView(t,i,r,a,n,o);s.buildOlapDialogUi(o,-1,t.getProgram().getWidth());o.setRoot(s.getLayout().getRoot());return s}}let l=e.FdView.createViewByType(t,i,a,null,null);l.buildOlapDialogUi(o,-1,t.getProgram().getWidth());o.setRoot(l.getLayout().getRoot());return l};e.FdView.createViewByType=function(t,i,o,n,a){let r=null;if(o===e.FilterDialogViewType.RANGE){let o=i.getRangeModel();if(e.notNull(a)){a.m_unsupportedRangesViewActive=false}if(e.notNull(a)&&e.FdLayoutUtils.isMultiView(i)&&!e.FdView.isRangeViewSupported(i)){r=e.FdRangesUnsupportedView.create(t,i);a.m_unsupportedRangesViewActive=true}else if(o.isInputValueDateBased()&&o.supportsFixedAndDynamicDateRange()){r=e.FdDateRangesView.createDateRangeView(t,i)}else if(!o.isInputValueTypeNumeric()&&i.supportsValueHelp()){r=e.FdValueHelpRangesView.createValueHelpRangesView(t,i)}else{r=e.FdRangesView.createView(t,i)}}if(o===e.FilterDialogViewType.MEASURE_BASED_FILTER){r=e.FdMeasureBasedView.createMeasureBasedView(t,i)}if(o===e.FilterDialogViewType.FUNCTIONAL_VALUES){r=e.FdFunctionalValuesView.createView(t,i)}if(o===e.FilterDialogViewType.LIST||e.isNull(r)){r=e.FdTableView.createView(t,i)}return r};e.FdView.isRangeViewSupported=function(t){return!t.getHierarchyModel().isHierarchical()||!e.XCollectionUtils.hasElements(t.getSelectedItems())||t.isFeatureEnabled(e.FdFeature.RANGES_IN_HIERARCHY)};e.FdView.prototype.m_currentView=null;e.FdView.prototype.m_currentViewType=null;e.FdView.prototype.m_genesis=null;e.FdView.prototype.m_layout=null;e.FdView.prototype.m_selectionContainer=null;e.FdView.prototype.m_unsupportedRangesViewActive=false;e.FdView.prototype.m_viewTypeChangeListener=null;e.FdView.prototype.m_viewTypes=null;e.FdView.prototype.buildOlapDialogUi=function(t,i,o){this.m_currentView.buildOlapDialogUi(t,i,o);if(e.isNull(this.m_layout)){let n=null;if(e.FdLayoutUtils.isShowSelectionContainer(t,this.m_model)){this.m_selectionContainer=e.FdComponentSelectionContainer.create(this.m_model,this,false);this.m_selectionContainer.buildOlapDialogUi(t);n=this.m_selectionContainer.getLayout()}this.m_layout=e.FdViewLayout.createLayout(this.m_viewTypes,this.m_currentViewType,(e,t)=>this.changeView(e,t.getString(),false),this,n,null);this.m_layout.buildOlapDialogUi(t);this.m_layout.onResize(i,o);this.m_layout.setTabContent(this.m_currentView.getLayout())}};e.FdView.prototype.changeView=function(t,i,o){if((o||this.m_currentViewType!==t)&&this.validate(false)){this.m_currentViewType=t;this.m_currentView=e.XObjectExt.release(this.m_currentView);this.m_currentView=e.FdView.createViewByType(this.m_controller,this.m_model,t,i,this);this.m_currentView.buildOlapDialogUi(this.m_genesis,this.m_layout.getContentWidth(),this.m_controller.getProgram().getWidth());this.m_viewTypeChangeListener();this.m_layout.setTabContent(this.m_currentView.getLayout());return e.XBooleanValue.create(true)}return e.XBooleanValue.create(false)};e.FdView.prototype.getCurrentViewType=function(){return this.m_currentViewType};e.FdView.prototype.getInitialFocusControl=function(){let t=this.m_layout.getSelectedTab();return e.notNull(t)?t:this.m_currentView.getInitialFocusControl()};e.FdView.prototype.getLayout=function(){return this.m_layout};e.FdView.prototype.onError=function(e,t){this.m_currentView.onError(e,t)};e.FdView.prototype.onNewClipboardSelection=function(e,t,i){this.m_currentView.onNewClipboardSelection(e,t,i)};e.FdView.prototype.onResize=function(t,i){let o=t>0?t:e.notNull(this.m_layout)?this.m_layout.getContentWidth():-1;let n=i>0?i:this.m_controller.getProgram().getWidth();if(e.notNull(this.m_layout)){this.m_layout.onResize(o,n)}this.m_currentView.onResize(o,n)};e.FdView.prototype.onSelectionChange=function(t){if(this.m_currentViewType===e.FilterDialogViewType.RANGE){let t=e.FdView.isRangeViewSupported(this.m_model);if(t&&this.m_unsupportedRangesViewActive||!t&&!this.m_unsupportedRangesViewActive){this.changeView(this.m_currentViewType,null,true)}}};e.FdView.prototype.publishAvailablePresentations=function(){this.m_currentView.publishAvailablePresentations()};e.FdView.prototype.publishMembersList=function(e,t){this.m_currentView.publishMembersList(e,t)};e.FdView.prototype.publishPresentations=function(){this.m_currentView.publishPresentations()};e.FdView.prototype.releaseObject=function(){this.m_genesis=null;this.m_viewTypes=null;this.m_layout=e.XObjectExt.release(this.m_layout);this.m_currentViewType=null;this.m_currentView=e.XObjectExt.release(this.m_currentView);this.m_viewTypeChangeListener=null;this.m_selectionContainer=e.XObjectExt.release(this.m_selectionContainer);e.FdAbstractView.prototype.releaseObject.call(this)};e.FdView.prototype.setupFdView=function(t,i,o,n,a,r){e.FdAbstractView.prototype.setupView.call(this,t,i);this.m_viewTypes=o;this.m_currentViewType=n;this.m_currentView=e.FdView.createViewByType(t,i,n,null,this);this.m_viewTypeChangeListener=a;this.m_genesis=r};e.FdView.prototype.validate=function(e){return this.m_currentView.validate(e)};e.FdViewLayout=function(){};e.FdViewLayout.prototype=new e.XObject;e.FdViewLayout.prototype._ff_c="FdViewLayout";e.FdViewLayout.createLayout=function(t,i,o,n,a,r){let l=new e.FdViewLayout;l.m_filterTypes=t;l.m_selectedTabName=l.getTabBarItemName(i===e.FilterDialogViewType.FUNCTIONAL_VALUES&&e.XCollectionUtils.hasElements(r)?r.get(0).getFirstString():i.getName());l.m_typeChangeListener=o;l.m_resizeListener=n;l.m_selectionContainerLayout=a;l.m_functionalValueViews=r;return l};e.FdViewLayout.prototype.m_filterTypes=null;e.FdViewLayout.prototype.m_functionalValueTabNames=null;e.FdViewLayout.prototype.m_functionalValueViews=null;e.FdViewLayout.prototype.m_genesis=null;e.FdViewLayout.prototype.m_resizeListener=null;e.FdViewLayout.prototype.m_root=null;e.FdViewLayout.prototype.m_selectedTabName=null;e.FdViewLayout.prototype.m_selectionContainerLayout=null;e.FdViewLayout.prototype.m_splitter=null;e.FdViewLayout.prototype.m_tabBar=null;e.FdViewLayout.prototype.m_typeChangeListener=null;e.FdViewLayout.prototype.addTabBarItem=function(t,i,o){let n=t.newControl(e.UiType.ICON_TAB_BAR_ITEM);n.setName(this.getTabBarItemName(i));n.setText(o);n.setTooltip(o);this.m_tabBar.addItem(n);return n};e.FdViewLayout.prototype.buildOlapDialogUi=function(t){this.m_genesis=t;this.m_root=t.newControl(e.UiType.FLEX_LAYOUT);this.m_root.setDirection(e.UiFlexDirection.ROW);this.m_root.setAlignItems(e.UiFlexAlignItems.START);this.m_root.setWrap(e.UiFlexWrap.NO_WRAP);this.m_root.setName("FilterDialogViewContainer");this.m_tabBar=this.m_root.addNewItemOfType(e.UiType.ICON_TAB_BAR);e.XCollectionUtils.forEach(this.m_filterTypes,i=>{if(i===e.FilterDialogViewType.FUNCTIONAL_VALUES){this.m_functionalValueTabNames=e.XHashSetOfString.create();for(let e=0;e<this.m_functionalValueViews.size();e++){let i=this.m_functionalValueViews.get(e).getFirstString();let o=this.m_functionalValueViews.get(e).getSecondString();let n=this.addTabBarItem(t,i,o);this.m_functionalValueTabNames.add(n.getName())}}else{this.addTabBarItem(t,i.getName(),this.getTabName(i))}});this.m_tabBar.setName("FilterDialogTabBar");this.m_tabBar.setSelectedName(this.m_selectedTabName);this.m_tabBar.registerOnSelect(this);if(e.notNull(this.m_selectionContainerLayout)){this.m_splitter=e.FdLayoutUtils.addInteractiveSplitterForSelectionContainer(this.m_root,this.m_resizeListener,this.m_tabBar,this.m_selectionContainerLayout)}};e.FdViewLayout.prototype.getContentWidth=function(){return e.notNull(this.m_splitter)&&this.m_splitter.getParent()!==null?this.m_splitter.getItem(0).getOffsetWidth():-1};e.FdViewLayout.prototype.getRoot=function(){return this.m_root};e.FdViewLayout.prototype.getSelectedTab=function(){return this.m_tabBar.getSelectedItem()};e.FdViewLayout.prototype.getTabBarItemName=function(t){return e.XStringUtils.concatenate2("FilterDialogTab",t)};e.FdViewLayout.prototype.getTabName=function(t){let i=e.XLocalizationCenter.getCenter();if(t===e.FilterDialogViewType.LIST){return i.getText(e.FilterDialogI18n.I18N_FD_FILTER_TAB_LIST)}if(t===e.FilterDialogViewType.RANGE){return i.getText(e.FilterDialogI18n.I18N_FD_FILTER_TAB_RANGE)}if(t===e.FilterDialogViewType.MEASURE_BASED_FILTER){return i.getText(e.FilterDialogI18n.I18N_FD_FILTER_TYPE_MBF)}throw e.XException.createIllegalArgumentException(e.XStringUtils.concatenate2(t.getName()," is not supported"))};e.FdViewLayout.prototype.getViewTypeByTabBarItemName=function(t){return e.FilterDialogViewType.getByName(e.XStringUtils.stripStart(t,"FilterDialogTab"))};e.FdViewLayout.prototype.onResize=function(t,i){if(e.notNull(this.m_splitter)){let o=e.FdLayoutUtils.isSelectionContainerVisible(e.FdLayoutSize.get(this.m_genesis.getUiManager().getDeviceInfo(),t,i,true).getDialogSize());if(this.m_splitter.getParent()!==null&&!o){this.m_root.removeItem(this.m_splitter);this.m_root.addItem(this.m_tabBar)}else if(this.m_splitter.getParent()===null&&o){this.m_root.removeItem(this.m_tabBar);this.m_root.addItem(this.m_splitter);this.m_splitter.getItem(0).setContent(this.m_tabBar)}}};e.FdViewLayout.prototype.onSelect=function(t){let i=t.getSelectedName();let o=e.notNull(this.m_functionalValueTabNames)&&this.m_functionalValueTabNames.contains(i)?e.FilterDialogViewType.FUNCTIONAL_VALUES:this.getViewTypeByTabBarItemName(i);if(e.notNull(o)&&!e.XString.isEqual(this.m_selectedTabName,i)){this.m_root.setBusy(true);if(this.m_typeChangeListener(o,e.XStringValue.create(i)).getBoolean()){this.m_selectedTabName=i}else{this.m_tabBar.setSelectedName(this.m_selectedTabName)}this.m_root.setBusy(false)}};e.FdViewLayout.prototype.releaseObject=function(){e.XObject.prototype.releaseObject.call(this);this.m_genesis=null;this.m_root=e.XObjectExt.release(this.m_root);this.m_splitter=e.XObjectExt.release(this.m_splitter);this.m_tabBar=e.XObjectExt.release(this.m_tabBar);this.m_selectedTabName=null;this.m_filterTypes=null;this.m_typeChangeListener=null;this.m_resizeListener=null;this.m_functionalValueViews=null;this.m_functionalValueTabNames=e.XObjectExt.release(this.m_functionalValueTabNames);this.m_selectionContainerLayout=e.XObjectExt.release(this.m_selectionContainerLayout)};e.FdViewLayout.prototype.setTabContent=function(e){let t=e.getRoot();t.setPadding(null);this.m_tabBar.getSelectedItem().setContent(t)};e.FdClipboardListener=function(){};e.FdClipboardListener.prototype=new e.XObject;e.FdClipboardListener.prototype._ff_c="FdClipboardListener";e.FdClipboardListener.create=function(t,i,o,n,a){let r=new e.FdClipboardListener;r.m_model=t;r.m_uiManager=i;r.m_listenerOnNewSelection=o;r.m_showIncludedItems=n;r.m_showExcludedItems=a;return r};e.FdClipboardListener.prototype.m_clipboardController=null;e.FdClipboardListener.prototype.m_clipboardHelper=null;e.FdClipboardListener.prototype.m_listenerOnNewSelection=null;e.FdClipboardListener.prototype.m_model=null;e.FdClipboardListener.prototype.m_showExcludedItems=false;e.FdClipboardListener.prototype.m_showIncludedItems=false;e.FdClipboardListener.prototype.m_uiManager=null;e.FdClipboardListener.prototype.getClipboardController=function(){if(e.isNull(this.m_clipboardController)){this.m_clipboardController=e.CbController.create(this.m_uiManager)}return this.m_clipboardController};e.FdClipboardListener.prototype.onClipboardCancel=function(){this.getClipboardController().close();this.m_clipboardHelper=e.XObjectExt.release(this.m_clipboardHelper)};e.FdClipboardListener.prototype.onClipboardOk=function(t,i){if(t){let t=e.FdItemFactory.asFdItemList(this.m_clipboardHelper.parseFromClipboard(i,!this.m_model.supportsDisplayKey()));this.m_listenerOnNewSelection.onNewClipboardSelection(t,this.m_showIncludedItems,this.m_showExcludedItems)}this.getClipboardController().close();this.m_clipboardHelper=e.XObjectExt.release(this.m_clipboardHelper)};e.FdClipboardListener.prototype.onPress=function(t){this.m_clipboardHelper=e.ClipboardHelperForFdItem.createHelper();let i=e.XCollectionUtils.filter(this.m_model.getSelectedItems(),e=>e.getFdComparisonOperator().isEqualOperator()&&(this.m_showIncludedItems&&!e.isExcluded()||this.m_showExcludedItems&&e.isExcluded()));let o=this.m_clipboardHelper.getValueGrid(e.FdItemFactory.asFdValueList(i));let n=e.DialogGridParser.serializeWithFormat(e.DialogGridFormat.SEMICOLON,o);this.getClipboardController().openClipboardDialog(null,n,this)};e.FdClipboardListener.prototype.releaseObject=function(){e.XObject.prototype.releaseObject.call(this);this.m_model=null;this.m_uiManager=null;this.m_listenerOnNewSelection=null;this.m_clipboardHelper=e.XObjectExt.release(this.m_clipboardHelper);this.m_clipboardController=e.XObjectExt.release(this.m_clipboardController)};e.FdComponentMainPresentationSelection=function(){};e.FdComponentMainPresentationSelection.prototype=new e.FdAbstractComponent;e.FdComponentMainPresentationSelection.prototype._ff_c="FdComponentMainPresentationSelection";e.FdComponentMainPresentationSelection.create=function(t,i){let o=new e.FdComponentMainPresentationSelection;o.setupComponent(t,e.FdComponentMainPresentationSelectionLayout.create());o.m_listenerOnPresentationChanged=i;return o};e.FdComponentMainPresentationSelection.prototype.m_listenerOnPresentationChanged=null;e.FdComponentMainPresentationSelection.prototype.buildOlapDialogUi=function(e){this.m_layout.buildOlapDialogUi(e);this.publishAvailablePresentations()};e.FdComponentMainPresentationSelection.prototype.getFocusControl=function(){return e.notNull(this.m_layout)?this.getMainPresentationSelectionLayout().getDropdownMainPresentations():null};e.FdComponentMainPresentationSelection.prototype.getMainPresentationSelectionLayout=function(){return this.m_layout};e.FdComponentMainPresentationSelection.prototype.onSelect=function(e){let t=this.getMainPresentationSelectionLayout().getDropdownMainPresentations();t.setTooltip(t.getSelectedName());this.m_model.getPresentationsModel().setSelectedPresentations(t.getSelectedItem().getCustomObject(),this.m_model.getPresentationsModel().getSelectedAdditionalPresentations());this.m_listenerOnPresentationChanged()};e.FdComponentMainPresentationSelection.prototype.publishAvailablePresentations=function(){let e=this.getMainPresentationSelectionLayout().getDropdownMainPresentations();e.clearItems();this.addDropdownItems(e,this.m_model.getPresentationsModel().getMainPresentations());let t=this.m_model.getPresentationsModel().getSelectedMainPresentation().getName();e.setSelectedName(t);e.setTooltip(t);e.registerOnSelect(this)};e.FdComponentMainPresentationSelection.prototype.releaseObject=function(){e.FdAbstractComponent.prototype.releaseObject.call(this);this.m_listenerOnPresentationChanged=null};e.FdComponentMainPresentationSelectionLayout=function(){};e.FdComponentMainPresentationSelectionLayout.prototype=new e.XObject;e.FdComponentMainPresentationSelectionLayout.prototype._ff_c="FdComponentMainPresentationSelectionLayout";e.FdComponentMainPresentationSelectionLayout.create=function(){return new e.FdComponentMainPresentationSelectionLayout};e.FdComponentMainPresentationSelectionLayout.prototype.m_dropdownMainPresentations=null;e.FdComponentMainPresentationSelectionLayout.prototype.m_presentationsContainer=null;e.FdComponentMainPresentationSelectionLayout.prototype.buildOlapDialogUi=function(t){this.m_presentationsContainer=t.newControl(e.UiType.FLEX_LAYOUT);this.m_presentationsContainer.setName("FilterDialogMainPresentationsContainer");this.m_presentationsContainer.setDirection(e.UiFlexDirection.ROW);this.m_presentationsContainer.setAlignItems(e.UiFlexAlignItems.CENTER);this.m_presentationsContainer.setWrap(e.UiFlexWrap.NO_WRAP);let i=this.m_presentationsContainer.addNewItemOfType(e.UiType.LABEL);i.setName("FilterDialogPresentationLabel");i.setText(e.XLocalizationCenter.getCenter().getText(e.FilterDialogI18n.I18N_FD_SHOW_PRESENTATION));i.setMargin(e.UiCssBoxEdges.create("0 0.5rem 0 0"));this.m_dropdownMainPresentations=this.m_presentationsContainer.addNewItemOfType(e.UiType.DROPDOWN);this.m_dropdownMainPresentations.setName("FilterDialogDropdownMainPresentations");i.setLabelFor(this.m_dropdownMainPresentations)};e.FdComponentMainPresentationSelectionLayout.prototype.getDropdownMainPresentations=function(){return this.m_dropdownMainPresentations};e.FdComponentMainPresentationSelectionLayout.prototype.getRoot=function(){return this.m_presentationsContainer};e.FdComponentMainPresentationSelectionLayout.prototype.releaseObject=function(){e.XObject.prototype.releaseObject.call(this);this.m_presentationsContainer=e.XObjectExt.release(this.m_presentationsContainer)};e.FdComponentMainPresentationSelectionLayout.prototype.resizeComponent=function(e){};e.FdComponentPresentationSelection=function(){};e.FdComponentPresentationSelection.prototype=new e.FdAbstractComponent;e.FdComponentPresentationSelection.prototype._ff_c="FdComponentPresentationSelection";e.FdComponentPresentationSelection.create=function(t,i){let o=new e.FdComponentPresentationSelection;o.setupComponent(t,e.FdComponentPresentationSelectionLayout.create());o.m_listenerOnPresentationsChanged=i;return o};e.FdComponentPresentationSelection.prototype.m_listenerOnPresentationsChanged=null;e.FdComponentPresentationSelection.prototype.buildOlapDialogUi=function(t){this.m_layout.buildOlapDialogUi(t);let i=this.m_layout;this.publishAvailablePresentations();if(t.getUiManager().getDeviceInfo().isSmartphone()){i.getComboBoxAdditionalPresentations().registerOnSelectionFinish(this)}let o=this.m_model.isFeatureEnabled(e.FdFeature.HIERARCHY_CHANGE);i.setHierarchyDropdownVisible(o);if(o){let e=this.m_model.getHierarchyModel();this.onAvailableHierarchiesChanged(e.getHierarchies(),e.getHierarchyName());e.registerOnAvailableHierarchiesChange(this);i.getDropdownHierarchySelection().registerOnSelect(this)}};e.FdComponentPresentationSelection.prototype.getAdditionalPresentations=function(){let t=e.XList.create();let i=this.getPresentationSelectionLayout().getComboBoxAdditionalPresentations().getSelectedItems();let o=i.size();for(let e=0;e<o;e++){t.add(i.get(e).getCustomObject())}return t};e.FdComponentPresentationSelection.prototype.getDropdownItemsSelectedByDefault=function(t,i){let o=e.XList.create();for(let e=0;e<t.size();e++){if(i.contains(t.get(e).getCustomObject())){o.add(t.get(e))}}return o.hasElements()?o:null};e.FdComponentPresentationSelection.prototype.getFocusControl=function(){return e.notNull(this.m_layout)?this.getPresentationSelectionLayout().getDropdownMainPresentations():null};e.FdComponentPresentationSelection.prototype.getMainPresentation=function(){let t=this.getPresentationSelectionLayout().getDropdownMainPresentations().getSelectedItem();return e.notNull(t)?t.getCustomObject():null};e.FdComponentPresentationSelection.prototype.getPresentationSelectionLayout=function(){return this.m_layout};e.FdComponentPresentationSelection.prototype.getSelectedPresentations=function(){let t=e.XLinkedHashMapByString.create();let i=this.getMainPresentation();let o=i.getPrimaryValue();let n=i.getSecondaryValue();t.put(o.getName(),o);if(e.notNull(n)){t.put(n.getName(),n)}let a=i.hasKeyPresentation();let r=i.hasTextPresentation();let l=i.isKeyPrimary();e.XCollectionUtils.forEach(this.getAdditionalPresentations(),i=>{let o=i.getKeyPresentation();let n=i.getTextPresentation();let s=e.notNull(o)&&(a||e.isNull(n));let u=e.notNull(n)&&(r||e.isNull(o));if(u&&!l){t.put(i.getName(),n)}if(s){t.put(u?o.getName():i.getName(),o)}if(u&&l){t.put(i.getName(),n)}});return t};e.FdComponentPresentationSelection.prototype.onAvailableHierarchiesChanged=function(t,i){let o=this.getPresentationSelectionLayout();let n=e.XCollectionUtils.hasElements(t)||e.XStringUtils.isNotNullAndNotEmpty(i);o.setHierarchyDropdownVisible(n);if(n){let n=o.getDropdownHierarchySelection();n.clearItems();let a=e.XLocalizationCenter.getCenter().getText(e.FilterDialogI18n.I18N_FD_HIERARCHY_FLAT_PRESENTATION);e.FdLayoutUtils.addDropdownItem(n,a,a,null);let r=t.getKeysAsReadOnlyList();e.XCollectionUtils.forEach(r,i=>{e.FdLayoutUtils.addDropdownItem(n,i,t.getByKey(i),null)});let l=e.XStringUtils.isNotNullAndNotEmpty(i)?i:a;n.setSelectedName(l);this.updateHierarchyDropdownTooltip();this.m_model.registerOnSelectionChange(this);o.setShowHierarchyDropdownInfoText(e.XCollectionUtils.contains(this.m_model.getSelectedItems(),e=>e.getComparisonOperator().isRange()))}};e.FdComponentPresentationSelection.prototype.onSelect=function(t){let i=this.getPresentationSelectionLayout();let o=i.getDropdownMainPresentations();if(t.getControl()===o){o.setTooltip(o.getSelectedName());this.m_listenerOnPresentationsChanged();return}let n=i.getDropdownHierarchySelection();if(t.getControl()===n){let t=n.getSelectedName();this.updateHierarchyDropdownTooltip();if(e.XString.isEqual(t,e.XLocalizationCenter.getCenter().getText(e.FilterDialogI18n.I18N_FD_HIERARCHY_FLAT_PRESENTATION))){t=null}this.m_model.getHierarchyModel().changeHierarchy(t)}};e.FdComponentPresentationSelection.prototype.onSelectionChange=function(t){this.getPresentationSelectionLayout().setShowHierarchyDropdownInfoText(e.XCollectionUtils.contains(t,e=>e.getComparisonOperator().isRange()))};e.FdComponentPresentationSelection.prototype.onSelectionFinish=function(e){this.updateAdditionalPresentationsTooltip();this.m_listenerOnPresentationsChanged()};e.FdComponentPresentationSelection.prototype.publishAvailablePresentations=function(){let t=this.m_model.getPresentationsModel();let i=this.getPresentationSelectionLayout();let o=i.getDropdownMainPresentations();o.clearItems();this.addDropdownItems(o,t.getMainPresentations());let n=t.getSelectedMainPresentation().getName();o.setSelectedName(n);o.setTooltip(n);o.registerOnSelect(this);let a=i.getComboBoxAdditionalPresentations();a.clearItems();let r=this.addDropdownItems(a,t.getAdditionalPresentations());a.setSelectedItems(this.getDropdownItemsSelectedByDefault(r,t.getSelectedAdditionalPresentations()));this.updateAdditionalPresentationsTooltip();i.setAdditionalPresentationsVisible(r.hasElements());a.registerOnSelectionChange(e.UiLambdaSelectionChangeListener.create(e=>{this.updateAdditionalPresentationsTooltip();this.m_listenerOnPresentationsChanged()}))};e.FdComponentPresentationSelection.prototype.releaseObject=function(){this.m_listenerOnPresentationsChanged=null;this.m_model.unregisterOnSelectionChange(this);this.m_model.getHierarchyModel().unregisterOnAvailableHierarchiesChange(this);e.FdAbstractComponent.prototype.releaseObject.call(this)};e.FdComponentPresentationSelection.prototype.updateAdditionalPresentationsTooltip=function(){let t=this.getPresentationSelectionLayout().getComboBoxAdditionalPresentations();if(t.isVisible()){let i=t.getSelectedItems();t.setTooltip(e.XCollectionUtils.hasElements(i)?e.XCollectionUtils.join(e.XStream.of(i).collect(e.XStreamCollector.toListOfString(e=>e.getName())),","):null)}};e.FdComponentPresentationSelection.prototype.updateHierarchyDropdownTooltip=function(){let t=this.getPresentationSelectionLayout().getDropdownHierarchySelection();let i=t.getSelectedName();if(!e.XString.isEqual(i,e.XLocalizationCenter.getCenter().getText(e.FilterDialogI18n.I18N_FD_HIERARCHY_FLAT_PRESENTATION))){let o=this.m_model.getHierarchyModel().getHierarchies();let n=e.notNull(o)?o.getByKey(i):null;if(e.XStringUtils.isNotNullAndNotEmpty(n)&&!e.XString.isEqual(n,i)){t.setTooltip(e.XStringUtils.concatenate3(i," - ",n));return}}t.setTooltip(i)};e.FdComponentPresentationSelectionLayout=function(){};e.FdComponentPresentationSelectionLayout.prototype=new e.XObject;e.FdComponentPresentationSelectionLayout.prototype._ff_c="FdComponentPresentationSelectionLayout";e.FdComponentPresentationSelectionLayout.MARGIN="0 0 0 0.25rem";e.FdComponentPresentationSelectionLayout.create=function(){return new e.FdComponentPresentationSelectionLayout};e.FdComponentPresentationSelectionLayout.prototype.m_additionalPresentationsContainer=null;e.FdComponentPresentationSelectionLayout.prototype.m_comboBoxAdditionalPresentations=null;e.FdComponentPresentationSelectionLayout.prototype.m_dropdownHierarchySelection=null;e.FdComponentPresentationSelectionLayout.prototype.m_dropdownMainPresentations=null;e.FdComponentPresentationSelectionLayout.prototype.m_hierarchyContainer=null;e.FdComponentPresentationSelectionLayout.prototype.m_mainPresentationsContainer=null;e.FdComponentPresentationSelectionLayout.prototype.m_presentationsContainer=null;e.FdComponentPresentationSelectionLayout.prototype.m_size=null;e.FdComponentPresentationSelectionLayout.prototype.buildOlapDialogUi=function(t){let i=e.XLocalizationCenter.getCenter();let o=e.UiCssBoxEdges.create(e.FdComponentPresentationSelectionLayout.MARGIN);this.m_presentationsContainer=t.newControl(e.UiType.FLEX_LAYOUT);this.m_presentationsContainer.setName("FilterDialogPresentationWrapper");this.m_presentationsContainer.setDirection(e.UiFlexDirection.ROW);this.m_presentationsContainer.setAlignItems(e.UiFlexAlignItems.CENTER);this.m_presentationsContainer.setJustifyContent(e.UiFlexJustifyContent.SPACE_BETWEEN);this.m_presentationsContainer.setWrap(e.UiFlexWrap.NO_WRAP);this.m_presentationsContainer.setWidth(e.UiCssLength.create("100%"));this.m_mainPresentationsContainer=t.newControl(e.UiType.VERTICAL_LAYOUT);this.m_mainPresentationsContainer.setName("FilterDialogMainPresentationsContainer");this.m_presentationsContainer.addItem(this.m_mainPresentationsContainer);let n=t.newControl(e.UiType.LABEL);n.setName("FilterDialogPresentationLabel");n.setText(i.getText(e.FilterDialogI18n.I18N_FD_SHOW_PRESENTATION));this.m_mainPresentationsContainer.addItem(n);this.m_dropdownMainPresentations=t.newControl(e.UiType.DROPDOWN);this.m_dropdownMainPresentations.setName("FilterDialogDropdownMainPresentations");this.m_dropdownMainPresentations.setWidth(e.UiCssLength.create("100%"));n.setLabelFor(this.m_dropdownMainPresentations);this.m_mainPresentationsContainer.addItem(this.m_dropdownMainPresentations);this.m_hierarchyContainer=t.newControl(e.UiType.VERTICAL_LAYOUT);this.m_hierarchyContainer.setName("FilterDialogHierarchyContainer");this.m_hierarchyContainer.setMargin(o);this.m_presentationsContainer.addItem(this.m_hierarchyContainer);let a=t.newControl(e.UiType.LABEL);a.setName("FilterDialogHierarchyLabel");a.setText(i.getText(e.FilterDialogI18n.I18N_FD_HIERARCHY));this.m_hierarchyContainer.addItem(a);this.m_dropdownHierarchySelection=t.newControl(e.UiType.DROPDOWN);this.m_dropdownHierarchySelection.setName("FilterDialogDropdownHierarchy");this.m_dropdownHierarchySelection.setWidth(e.UiCssLength.create("100%"));a.setLabelFor(this.m_dropdownHierarchySelection);this.m_hierarchyContainer.addItem(this.m_dropdownHierarchySelection);this.m_additionalPresentationsContainer=t.newControl(e.UiType.VERTICAL_LAYOUT);this.m_additionalPresentationsContainer.setName("FilterDialogAdditionalPresentationsContainer");this.m_additionalPresentationsContainer.setMargin(o);this.m_presentationsContainer.addItem(this.m_additionalPresentationsContainer);let r=t.newControl(e.UiType.LABEL);r.setText(i.getText(e.FilterDialogI18n.I18N_FD_ATTRIBUTES));this.m_additionalPresentationsContainer.addItem(r);this.m_comboBoxAdditionalPresentations=t.newControl(e.UiType.MULTI_COMBO_BOX);this.m_comboBoxAdditionalPresentations.setName("FilterDialogComboBoxAdditionalPresentations");this.m_comboBoxAdditionalPresentations.setWidth(e.UiCssLength.create("100%"));this.m_comboBoxAdditionalPresentations.setPlaceholder(i.getText(e.FilterDialogI18n.I18N_FD_SELECT_ATTRIBUTE));r.setLabelFor(this.m_comboBoxAdditionalPresentations);this.m_additionalPresentationsContainer.addItem(this.m_comboBoxAdditionalPresentations);this.updateDropdownSizes()};e.FdComponentPresentationSelectionLayout.prototype.getComboBoxAdditionalPresentations=function(){return this.m_comboBoxAdditionalPresentations};e.FdComponentPresentationSelectionLayout.prototype.getDropdownHierarchySelection=function(){return this.m_dropdownHierarchySelection};e.FdComponentPresentationSelectionLayout.prototype.getDropdownMainPresentations=function(){return this.m_dropdownMainPresentations};e.FdComponentPresentationSelectionLayout.prototype.getRoot=function(){return this.m_presentationsContainer};e.FdComponentPresentationSelectionLayout.prototype.releaseObject=function(){e.XObject.prototype.releaseObject.call(this);this.m_size=e.XObjectExt.release(this.m_size);this.m_mainPresentationsContainer=e.XObjectExt.release(this.m_mainPresentationsContainer);this.m_dropdownMainPresentations=e.XObjectExt.release(this.m_dropdownMainPresentations);this.m_additionalPresentationsContainer=e.XObjectExt.release(this.m_additionalPresentationsContainer);this.m_comboBoxAdditionalPresentations=e.XObjectExt.release(this.m_comboBoxAdditionalPresentations);this.m_hierarchyContainer=e.XObjectExt.release(this.m_hierarchyContainer);this.m_dropdownHierarchySelection=e.XObjectExt.release(this.m_dropdownHierarchySelection)};e.FdComponentPresentationSelectionLayout.prototype.resizeComponent=function(e){this.m_size=e;if(this.m_hierarchyContainer.isVisible()||this.m_additionalPresentationsContainer.isVisible()){this.updateDropdownSizes()}};e.FdComponentPresentationSelectionLayout.prototype.setAdditionalPresentationsVisible=function(e){if(this.m_additionalPresentationsContainer.isVisible()!==e){this.m_additionalPresentationsContainer.setVisible(e);this.updateDropdownSizes()}};e.FdComponentPresentationSelectionLayout.prototype.setHierarchyDropdownVisible=function(e){if(this.m_hierarchyContainer.isVisible()!==e){this.m_hierarchyContainer.setVisible(e);this.updateDropdownSizes()}};e.FdComponentPresentationSelectionLayout.prototype.setShowHierarchyDropdownInfoText=function(t){this.m_dropdownHierarchySelection.setValueState(t?e.UiValueState.INFORMATION:null);this.m_dropdownHierarchySelection.setValueStateText(t?e.XLocalizationCenter.getCenter().getText(e.FilterDialogI18n.I18N_FD_HIERARCHY_INFO):null)};e.FdComponentPresentationSelectionLayout.prototype.updateDropdownSizes=function(){if(e.notNull(this.m_size)&&(this.m_size.getContentSize().isLarge()||this.m_size.getContentSize().isMedium()&&(!this.m_hierarchyContainer.isVisible()||!this.m_additionalPresentationsContainer.isVisible()))){let t=e.UiCssLength.create(e.FdLayoutUtils.DROPDOWN_WIDTH);let i=e.UiCssBoxEdges.create(e.FdComponentPresentationSelectionLayout.MARGIN);let o=this.m_additionalPresentationsContainer.isVisible();this.m_presentationsContainer.setWrap(e.UiFlexWrap.NO_WRAP);this.m_mainPresentationsContainer.setWidth(o||this.m_hierarchyContainer.isVisible()?t:e.UiCssLength.create("100%"));this.m_mainPresentationsContainer.setFlex("0 0 auto");this.m_hierarchyContainer.setWidth(o?t:null);this.m_hierarchyContainer.setFlex(o?"0 0 auto":"1 1 auto");this.m_hierarchyContainer.setMargin(i);this.m_additionalPresentationsContainer.setWidth(null);this.m_additionalPresentationsContainer.setFlex("1 1 auto");this.m_additionalPresentationsContainer.setMargin(i)}else{this.m_presentationsContainer.setWrap(e.UiFlexWrap.WRAP);this.m_mainPresentationsContainer.useMaxWidth();this.m_hierarchyContainer.useMaxWidth();this.m_hierarchyContainer.setMargin(null);this.m_additionalPresentationsContainer.useMaxWidth();this.m_additionalPresentationsContainer.setMargin(null)}};e.FdComponentSearch=function(){};e.FdComponentSearch.prototype=new e.FdAbstractComponent;e.FdComponentSearch.prototype._ff_c="FdComponentSearch";e.FdComponentSearch.SEARCH_DEBOUNCE_TIMEOUT=1e3;e.FdComponentSearch.create=function(t,i){let o=new e.FdComponentSearch;o.setupComponent(t,e.FdComponentSearchLayout.create());o.m_listenerOnSearch=i;return o};e.FdComponentSearch.prototype.m_listenerOnSearch=null;e.FdComponentSearch.prototype.buildOlapDialogUi=function(t){this.m_layout.buildOlapDialogUi(t);let i=this.getSearchContainerLayout();let o=i.getSearchField();o.setValue(this.m_model.getInitialSearchValue());o.registerOnSearch(this);o.registerOnLiveChange(e.UiLambdaLiveChangeWithDebounceListener.create(e=>{this.m_listenerOnSearch()},e.FdComponentSearch.SEARCH_DEBOUNCE_TIMEOUT));i.setDropdownVisible(!this.m_model.getConfig().isShowSimplifiedSearch());this.publishAvailablePresentations()};e.FdComponentSearch.prototype.clearSearch=function(){this.getSearchContainerLayout().getSearchField().setValue(null)};e.FdComponentSearch.prototype.getFocusControl=function(){return e.notNull(this.m_layout)?this.getSearchContainerLayout().getSearchField():null};e.FdComponentSearch.prototype.getSearchContainerLayout=function(){return this.m_layout};e.FdComponentSearch.prototype.getSearchPresentations=function(){let t=this.getSearchContainerLayout().getDropdownSearch();if(t.isVisible()){let i=t.getSelectedItem();let o=e.notNull(i)?i.getCustomObject():null;if(e.notNull(o)){return o.getFilterableValues()}}return e.XList.create()};e.FdComponentSearch.prototype.getSearchText=function(){return this.getSearchContainerLayout().getSearchField().getValue()};e.FdComponentSearch.prototype.isSearchActive=function(){return e.XStringUtils.isNotNullAndNotEmpty(this.getSearchContainerLayout().getSearchField().getValue())};e.FdComponentSearch.prototype.onSearch=function(t){e.UtUiHelpers.cancelLiveChangeDebounceIfNeeded(t.getControl());this.m_listenerOnSearch()};e.FdComponentSearch.prototype.onSelect=function(e){if(this.isSearchActive()){this.m_listenerOnSearch()}};e.FdComponentSearch.prototype.publishAvailablePresentations=function(){let t=this.m_model.getPresentationsModel().getFilterablePresentations();if(e.XCollectionUtils.hasElements(t)){this.getSearchContainerLayout().setSearchVisible(true);let i=this.getSearchContainerLayout().getDropdownSearch();if(i.isVisible()){let o=i.getSelectedName();let n=e.XStringUtils.isNotNullAndNotEmpty(o);if(!n||!e.XCollectionUtils.contains(t,t=>e.XString.isEqual(t.getName(),i.getSelectedName()))){o=this.m_model.getPresentationsModel().getDefaultSearchPresentation().getName();if(n){this.clearSearch()}}i.clearItems();this.addDropdownItems(i,t);i.setSelectedName(o);i.registerOnSelect(this)}}else{this.getSearchContainerLayout().setSearchVisible(false)}};e.FdComponentSearch.prototype.releaseObject=function(){e.FdAbstractComponent.prototype.releaseObject.call(this);this.m_listenerOnSearch=null};e.FdComponentSearchLayout=function(){};e.FdComponentSearchLayout.prototype=new e.XObject;e.FdComponentSearchLayout.prototype._ff_c="FdComponentSearchLayout";e.FdComponentSearchLayout.create=function(){return new e.FdComponentSearchLayout};e.FdComponentSearchLayout.prototype.m_dropdownSearch=null;e.FdComponentSearchLayout.prototype.m_searchContainer=null;e.FdComponentSearchLayout.prototype.m_searchField=null;e.FdComponentSearchLayout.prototype.buildOlapDialogUi=function(t){this.m_searchContainer=t.newControl(e.UiType.FLEX_LAYOUT);this.m_searchContainer.setDirection(e.UiFlexDirection.ROW);this.m_searchContainer.setJustifyContent(e.UiFlexJustifyContent.END);this.m_searchContainer.setAlignItems(e.UiFlexAlignItems.END);this.m_searchContainer.setWrap(e.UiFlexWrap.NO_WRAP);this.m_searchContainer.setName("FilterDialogSearchContainer");this.m_searchField=t.newControl(e.UiType.SEARCH_FIELD);this.m_searchField.setName("FilterDialogSearchInput");this.m_searchField.setWidth(e.UiCssLength.create("250px"));this.m_searchField.setMargin(e.UiCssBoxEdges.create("0 0.25rem 0 0"));this.m_searchContainer.addItem(this.m_searchField);this.m_dropdownSearch=t.newControl(e.UiType.DROPDOWN);this.m_dropdownSearch.setName("FilterDialogDropdownSearch");this.m_dropdownSearch.setWidth(e.UiCssLength.create(e.FdLayoutUtils.DROPDOWN_WIDTH));this.m_dropdownSearch.setTooltip(e.XLocalizationCenter.getCenter().getText(e.FilterDialogI18n.I18N_FD_SEARCH_TOOLTIP));this.m_searchContainer.addItem(this.m_dropdownSearch)};e.FdComponentSearchLayout.prototype.getDropdownSearch=function(){return this.m_dropdownSearch};e.FdComponentSearchLayout.prototype.getRoot=function(){return this.m_searchContainer};e.FdComponentSearchLayout.prototype.getSearchField=function(){return this.m_searchField};e.FdComponentSearchLayout.prototype.releaseObject=function(){e.XObject.prototype.releaseObject.call(this);this.m_searchContainer=e.XObjectExt.release(this.m_searchContainer);this.m_dropdownSearch=e.XObjectExt.release(this.m_dropdownSearch);this.m_searchField=e.XObjectExt.release(this.m_searchField)};e.FdComponentSearchLayout.prototype.resizeComponent=function(e){};e.FdComponentSearchLayout.prototype.setDropdownVisible=function(t){this.m_dropdownSearch.setVisible(t);this.m_searchField.setMargin(e.UiCssBoxEdges.create(t?"0 0.25rem 0 0":"0"));this.m_searchField.setPlaceholder(e.XLocalizationCenter.getCenter().getText(t?e.FilterDialogI18n.I18N_FD_SEARCH:e.FilterDialogI18n.I18N_FD_SEARCH_SIMPLIFIED))};e.FdComponentSearchLayout.prototype.setSearchVisible=function(e){this.m_searchContainer.setVisible(e)};e.FdComponentSelectionContainer=function(){};e.FdComponentSelectionContainer.prototype=new e.FdAbstractComponent;e.FdComponentSelectionContainer.prototype._ff_c="FdComponentSelectionContainer";e.FdComponentSelectionContainer.create=function(t,i,o){let n=new e.FdComponentSelectionContainer;n.setupSelectionContainer(t,i,o);return n};e.FdComponentSelectionContainer.prototype.m_excludes=null;e.FdComponentSelectionContainer.prototype.m_includes=null;e.FdComponentSelectionContainer.prototype.m_listenerOnNewSelection=null;e.FdComponentSelectionContainer.prototype.buildOlapDialogUi=function(t){this.m_includes.buildOlapDialogUi(t);this.m_layout.buildOlapDialogUi(t);this.onFeatureAvailabilityChanged(e.FdFeature.EXCLUDE_ADVANCED,this.m_model.isFeatureEnabled(e.FdFeature.EXCLUDE_ADVANCED));this.getSelectionContainerLayout().registerOnSelectionClearPress(e.UiLambdaPressListener.create(t=>{this.m_model.clearSelection();e.FdLayoutUtils.announceSelectionCleared()}));this.m_model.registerOnSelectionChange(this);this.m_model.registerOnFeatureAvailabilityChange(this)};e.FdComponentSelectionContainer.prototype.getFocusControl=function(){return null};e.FdComponentSelectionContainer.prototype.getSelectionContainerLayout=function(){return this.m_layout};e.FdComponentSelectionContainer.prototype.onFeatureAvailabilityChanged=function(t,i){if(t===e.FdFeature.EXCLUDE_ADVANCED){if(i&&e.isNull(this.m_excludes)){this.m_excludes=e.FdComponentSelectionList.create(this.m_model,this,false);this.m_excludes.buildOlapDialogUi(this.getSelectionContainerLayout().getRoot().getUiManager().getGenesis())}if(e.notNull(this.m_excludes)){this.getSelectionContainerLayout().setExcludeList(this.m_excludes.getLayout(),i)}}};e.FdComponentSelectionContainer.prototype.onNewClipboardSelection=function(e,t,i){this.setBusy(true);this.m_listenerOnNewSelection.onNewClipboardSelection(e,t,i)};e.FdComponentSelectionContainer.prototype.onSelectionChange=function(e){this.setBusy(false)};e.FdComponentSelectionContainer.prototype.releaseObject=function(){this.m_model.unregisterOnSelectionChange(this);this.m_model.unregisterOnFeatureAvailabilityChange(this);this.m_includes=e.XObjectExt.release(this.m_includes);this.m_excludes=e.XObjectExt.release(this.m_excludes);this.m_listenerOnNewSelection=null;e.FdAbstractComponent.prototype.releaseObject.call(this)};e.FdComponentSelectionContainer.prototype.setBusy=function(t){this.m_includes.setBusy(t);if(e.notNull(this.m_excludes)){this.m_excludes.setBusy(t)}this.getSelectionContainerLayout().setClearButtonEnabled(!t)};e.FdComponentSelectionContainer.prototype.setupSelectionContainer=function(t,i,o){this.m_includes=e.FdComponentSelectionList.create(t,this,true);this.m_listenerOnNewSelection=i;this.setupComponent(t,e.FdComponentSelectionContainerLayout.create(o,e.FdLayoutUtils.isMultiView(t),this.m_includes.getLayout()))};e.FdComponentSelectionContainerLayout=function(){};e.FdComponentSelectionContainerLayout.prototype=new e.XObject;e.FdComponentSelectionContainerLayout.prototype._ff_c="FdComponentSelectionContainerLayout";e.FdComponentSelectionContainerLayout.create=function(t,i,o){let n=new e.FdComponentSelectionContainerLayout;n.m_usedInMainContentArea=t;n.m_usedInMultiView=i;n.m_listLayout=o;return n};e.FdComponentSelectionContainerLayout.prototype.m_listLayout=null;e.FdComponentSelectionContainerLayout.prototype.m_selectionContainer=null;e.FdComponentSelectionContainerLayout.prototype.m_selectionListClearBtn=null;e.FdComponentSelectionContainerLayout.prototype.m_selectionListContainer=null;e.FdComponentSelectionContainerLayout.prototype.m_usedInMainContentArea=false;e.FdComponentSelectionContainerLayout.prototype.m_usedInMultiView=false;e.FdComponentSelectionContainerLayout.prototype.buildOlapDialogUi=function(t){this.m_selectionContainer=t.newControl(e.UiType.FLEX_LAYOUT);this.m_selectionContainer.setDirection(e.UiFlexDirection.COLUMN);this.m_selectionContainer.setJustifyContent(e.UiFlexJustifyContent.SPACE_BETWEEN);this.m_selectionContainer.setAlignItems(e.UiFlexAlignItems.START);this.m_selectionContainer.setWrap(e.UiFlexWrap.NO_WRAP);this.m_selectionContainer.setName("FilterDialogSelectionContainer");this.m_selectionContainer.useMaxSpace();if(this.m_usedInMainContentArea){this.m_selectionContainer.setMargin(e.UiCssBoxEdges.create("0 -0.5rem 0 0.5rem"))}else if(this.m_usedInMultiView){this.m_selectionContainer.setPadding(e.UiCssBoxEdges.create("0.25rem 0.25rem 1rem 0.25rem"))}else{this.m_selectionContainer.setPadding(e.UiCssBoxEdges.create("1rem 0.25rem"))}this.m_selectionListContainer=this.m_selectionContainer.addNewItemOfType(e.UiType.VERTICAL_LAYOUT);this.m_selectionListContainer.setName("FilterDialogSelectionListsContainer");this.m_selectionListContainer.useMaxSpace();this.m_selectionListContainer.addItem(this.m_listLayout.getRoot());let i=this.m_selectionContainer.addNewItemOfType(e.UiType.FLEX_LAYOUT);i.setDirection(e.UiFlexDirection.ROW);i.setJustifyContent(e.UiFlexJustifyContent.START);i.setFlex("0 0 auto");i.useMaxWidth();i.setName("FilterDialogPreviewListClearBtnContainer");this.m_selectionListClearBtn=e.FdLayoutUtils.addClearSelectionButton(i,"FilterDialogPreviewListClearBtn")};e.FdComponentSelectionContainerLayout.prototype.getRoot=function(){return this.m_selectionContainer};e.FdComponentSelectionContainerLayout.prototype.registerOnSelectionClearPress=function(t){if(e.notNull(this.m_selectionListClearBtn)){this.m_selectionListClearBtn.registerOnPress(t)}};e.FdComponentSelectionContainerLayout.prototype.releaseObject=function(){e.XObject.prototype.releaseObject.call(this);this.m_selectionContainer=e.XObjectExt.release(this.m_selectionContainer)};e.FdComponentSelectionContainerLayout.prototype.resizeComponent=function(e){};e.FdComponentSelectionContainerLayout.prototype.setClearButtonEnabled=function(e){this.m_selectionListClearBtn.setEnabled(e)};e.FdComponentSelectionContainerLayout.prototype.setExcludeList=function(t,i){let o=this.m_listLayout.getRoot();let n=t.getRoot();if(i){if(this.m_selectionListContainer.getIndexOfItem(n)===-1){this.m_selectionListContainer.addItem(n)}o.setHeight(e.UiCssLength.create("50%"));o.setMinHeight(e.UiCssLength.create(this.m_usedInMainContentArea?"100px":"150px"));n.setHeight(e.UiCssLength.create("50%"));n.setMinHeight(e.UiCssLength.create(this.m_usedInMainContentArea?"100px":"150px"));n.setVisible(true)}else{o.setHeight(null);n.setVisible(false)}};e.FdComponentSelectionList=function(){};e.FdComponentSelectionList.prototype=new e.FdAbstractComponent;e.FdComponentSelectionList.prototype._ff_c="FdComponentSelectionList";e.FdComponentSelectionList.create=function(t,i,o){let n=new e.FdComponentSelectionList;n.setupSelectionList(t,i,o);return n};e.FdComponentSelectionList.prototype.m_listenerOnNewSelection=null;e.FdComponentSelectionList.prototype.m_showIncludes=false;e.FdComponentSelectionList.prototype.buildOlapDialogUi=function(t){let i=this.getSelectionListLayout();i.buildOlapDialogUi(t);i.getSelectionList().registerOnDelete(this);if(this.m_model.isFeatureEnabled(e.FdFeature.CLIPBOARD)){i.getClipboardButton().registerOnPress(e.FdClipboardListener.create(this.m_model,t.getUiManager(),this.m_listenerOnNewSelection,this.m_showIncludes,this.isShowExcludes(this.m_model)))}if(this.m_model.isFeatureEnabled(e.FdFeature.EXCLUDE_ADVANCED)){i.getRoot().registerOnDrop(e.UiLambdaDropListener.create(e=>{let t=e.getDraggedControl().getCustomObject();if(!this.m_model.getSelectedItems().contains(t)||t.isExcluded()!==this.isShowExcludes(this.m_model)){t.setExcluded(this.isShowExcludes(this.m_model));this.m_model.moveToEndOfSelection(t)}}))}this.renderSelectedItems();this.m_model.registerOnSelectionChange(this)};e.FdComponentSelectionList.prototype.getFocusControl=function(){return null};e.FdComponentSelectionList.prototype.getItemKeyValue=function(t,i){let o=t.getFormattedValueByPresentation(i);return e.notNull(o)?o:t.getDisplayKey()};e.FdComponentSelectionList.prototype.getItemTextValue=function(t,i){let o=t.getFormattedValueByPresentation(i);return e.notNull(o)?o:t.getTextFormatted()};e.FdComponentSelectionList.prototype.getSelectedItemText=function(t,i,o){let n=i.getKeyPresentation();let a=i.getTextPresentation();let r=i.isKeyPrimary();let l=this.m_model.getConfig().getValueFormatter();if(t.getType()===e.FilterDialogValueType.RANGE){let i=e.notNull(n)?this.getItemKeyValue(t.getLowItem(),n):null;let s=e.notNull(n)?this.getItemKeyValue(t.getHighItem(),n):null;let u=e.notNull(a)?this.getItemTextValue(t.getLowItem(),a):null;let m=e.notNull(a)?this.getItemTextValue(t.getHighItem(),a):null;if(r){return l.formatRange(i,u,s,m,!o&&t.isExcluded())}else{return l.formatRange(u,i,m,s,!o&&t.isExcluded())}}else if(t.getType()===e.FilterDialogValueType.DATE_RANGE_FIXED||t.getType()===e.FilterDialogValueType.DATE_RANGE_DYNAMIC){return e.FilterDialogI18nUtils.getDateRangeFormattedLongText(t.getDateRange(),null,l)}let s;let u=this.getItemKeyValue(t,n);let m=this.getItemTextValue(t,a);if(e.notNull(n)&&e.notNull(a)&&e.notNull(u)&&e.notNull(m)){if(r){s=l.format(u,m)}else{s=l.format(m,u)}}else{s=e.notNull(a)&&e.notNull(m)||e.isNull(u)?m:u}return this.prependComparisonOperator(t,s)};e.FdComponentSelectionList.prototype.getSelectionListLayout=function(){return this.m_layout};e.FdComponentSelectionList.prototype.isShowExcludes=function(t){return!this.m_showIncludes||!t.isFeatureEnabled(e.FdFeature.EXCLUDE_ADVANCED)};e.FdComponentSelectionList.prototype.isSupportedOperatorForDragDrop=function(t,i){if(i){let i=t.getType();if(i!==e.FilterDialogValueType.DATE_RANGE_DYNAMIC&&i!==e.FilterDialogValueType.DATE_RANGE_FIXED){let i=t.getFdComparisonOperator();if(i.isEqualOperator()){return true}if(i.isBetweenOperator()||i.isNullOperator()){let t=this.m_model.getRangeModel().getSupportedComparisonOperators();let o=i.getWithExcludedState(i.isIncluding());return e.notNull(t)&&t.contains(o)}}}return false};e.FdComponentSelectionList.prototype.onDelete=function(t){let i=t.getAffectedItem();let o=i.getCustomObject();let n=this.getSelectionListLayout().getSelectionList();let a=n.getIndexOfItem(i);n.removeItem(i);this.m_model.removeSelectedItem(o);e.FdLayoutUtils.announceSelectedMemberRemoved(this.getSelectedItemText(o,this.m_model.getPresentationsModel().getSelectedMainPresentation(),this.m_model.isFeatureEnabled(e.FdFeature.EXCLUDE_ADVANCED)));this.getSelectionListLayout().onAfterItemDelete(a)};e.FdComponentSelectionList.prototype.onSelectionChange=function(e){this.renderSelectedItems()};e.FdComponentSelectionList.prototype.prependComparisonOperator=function(t,i){let o=t.getFdComparisonOperator();if(!o.isIncluding()&&!this.m_showIncludes&&this.isShowExcludes(this.m_model)){o=o.getWithExcludedState(false)}if(!o.isEqualOperator()){return e.XStringUtils.concatenate3(o.getSign()," ",i)}return i};e.FdComponentSelectionList.prototype.releaseObject=function(){this.m_model.unregisterOnSelectionChange(this);this.m_listenerOnNewSelection=null;e.FdAbstractComponent.prototype.releaseObject.call(this)};e.FdComponentSelectionList.prototype.renderSelectedItems=function(){if(this.m_layout.getRoot().isVisible()){let t=this.getSelectionListLayout();let i=t.getSelectionList();let o=this.m_model.getPresentationsModel().getSelectedMainPresentation();let n=this.m_model.getSelectedItems();let a=this.isShowExcludes(this.m_model);let r=this.m_model.isFeatureEnabled(e.FdFeature.EXCLUDE_ADVANCED);i.clearItems();i.addAllItems(e.XStream.of(n).filter(e=>this.m_showIncludes&&!e.isExcluded()||a&&e.isExcluded()).map(i=>{let n=this.getSelectedItemText(i,o,r);let l=this.m_showIncludes&&a&&i.isExcluded()&&i.getFdComparisonOperator()!==e.FdComparisonOperator.NOT_BETWEEN;return t.createNewSelectionListItem(n,l,this.isSupportedOperatorForDragDrop(i,r),i)}).collect(e.XStreamCollector.toList()));this.setBusy(false)}};e.FdComponentSelectionList.prototype.setBusy=function(t){let i=this.getSelectionListLayout().getSelectionList();if(e.notNull(i)){i.setBusy(t)}};e.FdComponentSelectionList.prototype.setupSelectionList=function(t,i,o){this.m_listenerOnNewSelection=i;this.m_showIncludes=o;let n;if(t.getConfig().getContentType()===e.FilterDialogContentType.USER_TEAM){n=e.FilterDialogI18n.I18N_FD_SELECTED_USERS}else if(!this.m_showIncludes&&this.isShowExcludes(t)){n=e.FilterDialogI18n.I18N_FD_EXCLUDED_MEMBERS}else{n=e.FilterDialogI18n.I18N_FD_SELECTED_MEMBERS}this.setupComponent(t,e.FdComponentSelectionListLayout.create(n,t.isFeatureEnabled(e.FdFeature.CLIPBOARD)))};e.FdComponentSelectionListLayout=function(){};e.FdComponentSelectionListLayout.prototype=new e.XObject;e.FdComponentSelectionListLayout.prototype._ff_c="FdComponentSelectionListLayout";e.FdComponentSelectionListLayout.SELECTION_LIST_ITEM_PADDING="0 5px";e.FdComponentSelectionListLayout.SELECTION_LIST_MARGIN="0 0 0 -5px";e.FdComponentSelectionListLayout.SELECTION_LIST_WIDTH="calc(100% + 10px)";e.FdComponentSelectionListLayout.create=function(t,i){let o=new e.FdComponentSelectionListLayout;o.m_titleI18nKey=t;o.m_showClipboardButton=i;return o};e.FdComponentSelectionListLayout.prototype.m_clipboardBtn=null;e.FdComponentSelectionListLayout.prototype.m_deleteItemKeyPressed=false;e.FdComponentSelectionListLayout.prototype.m_genesis=null;e.FdComponentSelectionListLayout.prototype.m_list=null;e.FdComponentSelectionListLayout.prototype.m_root=null;e.FdComponentSelectionListLayout.prototype.m_showClipboardButton=false;e.FdComponentSelectionListLayout.prototype.m_titleI18nKey=null;e.FdComponentSelectionListLayout.prototype.buildOlapDialogUi=function(t){this.m_genesis=t;this.m_root=t.newControl(e.UiType.FLEX_LAYOUT);this.m_root.setDirection(e.UiFlexDirection.COLUMN);this.m_root.useMaxSpace();this.m_root.setName("FilterDialogSelectionListContainer");this.m_root.setPadding(e.UiCssBoxEdges.create("0 0.5rem 0.5rem 0.5rem"));let i=this.m_root.addNewItemOfType(e.UiType.FLEX_LAYOUT);i.setDirection(e.UiFlexDirection.ROW);i.setJustifyContent(e.UiFlexJustifyContent.SPACE_BETWEEN);i.setAlignItems(e.UiFlexAlignItems.START);i.setWrap(e.UiFlexWrap.NO_WRAP);i.useMaxWidth();i.setMinHeight(e.UiCssLength.create("2rem"));i.setFlex("0 0 auto");i.setMargin(e.UiCssBoxEdges.create("0 0 0.5rem 0"));i.setName("FilterDialogSelectionListHeader");let o=i.addNewItemOfType(e.UiType.LABEL);o.setText(e.XLocalizationCenter.getCenter().getText(this.m_titleI18nKey));o.setFontWeight(e.UiFontWeight.BOLD);o.setFlex("0 0 auto");o.setAlignSelf(e.UiFlexAlignSelf.CENTER);if(this.m_showClipboardButton){let t=i.addNewItemOfType(e.UiType.FLEX_LAYOUT);t.setDirection(e.UiFlexDirection.ROW);t.setJustifyContent(e.UiFlexJustifyContent.END);t.setAlignItems(e.UiFlexAlignItems.START);t.setWrap(e.UiFlexWrap.NO_WRAP);this.m_clipboardBtn=e.FdLayoutUtils.addClipboardButton(this.m_genesis,t,"FilterDialogClipboard")}let n=this.m_root.addNewItemOfType(e.UiType.SCROLL_CONTAINER);n.setWidth(e.UiCssLength.create(e.FdComponentSelectionListLayout.SELECTION_LIST_WIDTH));n.setMargin(e.UiCssBoxEdges.create(e.FdComponentSelectionListLayout.SELECTION_LIST_MARGIN));n.setFlex("auto");this.m_list=n.setNewContent(e.UiType.LIST);this.m_list.setName("FilterDialogPreviewList");this.m_list.useMaxSpace();this.m_list.setSelectionMode(e.UiSelectionMode.DELETE);this.m_list.setBorderWidth(e.UiCssBoxEdges.create("0px"));o.setLabelFor(this.m_list)};e.FdComponentSelectionListLayout.prototype.createNewSelectionListItem=function(t,i,o,n){let a=this.m_genesis.newControl(e.UiType.FLEX_LAYOUT);let r=a.addNewItemOfType(e.UiType.LABEL);r.setText(t);if(i){r.setTextDecoration(e.UiCssTextDecoration.createByValues(e.UiTextDecorationLine.LINE_THROUGH,null,null))}r.addCssClass("sapMSLITitle");let l=this.m_genesis.newControl(e.UiType.CUSTOM_LIST_ITEM);l.setCustomObject(n);l.setContent(a);l.setPadding(e.UiCssBoxEdges.create(e.FdComponentSelectionListLayout.SELECTION_LIST_ITEM_PADDING));l.setTooltip(t);l.setDraggable(o);l.registerOnKeyDown(e.UiLambdaKeyDownListener.create(t=>{if(e.XString.isEqual(t.getCode(),"Delete")){this.m_deleteItemKeyPressed=true}}));return l};e.FdComponentSelectionListLayout.prototype.getClipboardButton=function(){return this.m_clipboardBtn};e.FdComponentSelectionListLayout.prototype.getRoot=function(){return this.m_root};e.FdComponentSelectionListLayout.prototype.getSelectionList=function(){return this.m_list};e.FdComponentSelectionListLayout.prototype.onAfterItemDelete=function(e){if(this.m_deleteItemKeyPressed){let t=this.m_list.getNumberOfItems();if(t>e){this.m_list.getItem(e).focus()}else if(t>0){this.m_list.getItem(t-1).focus()}else{this.m_list.focus()}}this.m_deleteItemKeyPressed=false};e.FdComponentSelectionListLayout.prototype.releaseObject=function(){e.XObject.prototype.releaseObject.call(this);this.m_root=e.XObjectExt.release(this.m_root);this.m_titleI18nKey=null};e.FdComponentSelectionListLayout.prototype.resizeComponent=function(e){};e.FdComponentSelectionTools=function(){};e.FdComponentSelectionTools.prototype=new e.FdAbstractComponent;e.FdComponentSelectionTools.prototype._ff_c="FdComponentSelectionTools";e.FdComponentSelectionTools.create=function(t,i,o){let n=new e.FdComponentSelectionTools;n.setupComponent(t,e.FdComponentSelectionToolsLayout.create(t));n.m_clipboardListenerOnNewSelection=i;n.m_showOnlySelectedMembersListener=o;return n};e.FdComponentSelectionTools.prototype.m_clipboardListenerOnNewSelection=null;e.FdComponentSelectionTools.prototype.m_showOnlySelectedMembersListener=null;e.FdComponentSelectionTools.prototype.buildOlapDialogUi=function(t){let i=this.getSelectionToolsLayout();i.buildOlapDialogUi(t);if(i.getClipboardBtn()!==null&&e.notNull(this.m_clipboardListenerOnNewSelection)){i.getClipboardBtn().registerOnPress(e.FdClipboardListener.create(this.m_model,t.getUiManager(),this.m_clipboardListenerOnNewSelection,true,!this.m_model.isFeatureEnabled(e.FdFeature.EXCLUDE_ADVANCED)))}i.getClearSelectionBtn().registerOnPress(e.UiLambdaPressListener.create(e=>{this.m_model.clearSelection()}));if(e.notNull(this.m_showOnlySelectedMembersListener)){i.getShowOnlySelectedToggleBtn().registerOnPress(this.m_showOnlySelectedMembersListener)}};e.FdComponentSelectionTools.prototype.getFocusControl=function(){let t=this.getSelectionToolsLayout();let i=t.getShowOnlySelectedToggleBtn();if(e.notNull(i)&&i.isVisible()){return i}let o=t.getClipboardBtn();if(e.notNull(o)&&o.isVisible()){return o}return t.getClearSelectionBtn()};e.FdComponentSelectionTools.prototype.getSelectionToolsLayout=function(){return this.m_layout};e.FdComponentSelectionTools.prototype.isShowOnlySelectedMembers=function(){return this.getSelectionToolsLayout().getShowOnlySelectedToggleBtn().isPressed()};e.FdComponentSelectionTools.prototype.releaseObject=function(){e.FdAbstractComponent.prototype.releaseObject.call(this);this.m_clipboardListenerOnNewSelection=null;this.m_showOnlySelectedMembersListener=null};e.FdComponentSelectionTools.prototype.resetShowOnlySelectedMembersButtonState=function(){this.getSelectionToolsLayout().getShowOnlySelectedToggleBtn().setPressed(false)};e.FdComponentSelectionTools.prototype.setShowSelectionToolButtons=function(e){this.getSelectionToolsLayout().setShowSelectionToolButtons(e)};e.FdComponentSelectionToolsLayout=function(){};e.FdComponentSelectionToolsLayout.prototype=new e.XObject;e.FdComponentSelectionToolsLayout.prototype._ff_c="FdComponentSelectionToolsLayout";e.FdComponentSelectionToolsLayout.create=function(t){let i=new e.FdComponentSelectionToolsLayout;i.m_model=t;return i};e.FdComponentSelectionToolsLayout.prototype.m_clearSelectionBtn=null;e.FdComponentSelectionToolsLayout.prototype.m_clipboardBtn=null;e.FdComponentSelectionToolsLayout.prototype.m_genesis=null;e.FdComponentSelectionToolsLayout.prototype.m_model=null;e.FdComponentSelectionToolsLayout.prototype.m_root=null;e.FdComponentSelectionToolsLayout.prototype.m_showOnlySelectedToggleBtn=null;e.FdComponentSelectionToolsLayout.prototype.m_showSelectionToolButtons=false;e.FdComponentSelectionToolsLayout.prototype.buildOlapDialogUi=function(t){this.m_root=t.newControl(e.UiType.FLEX_LAYOUT);this.m_genesis=t;this.m_root.setDirection(e.UiFlexDirection.ROW);this.m_root.setJustifyContent(e.UiFlexJustifyContent.END);this.m_root.setAlignItems(e.UiFlexAlignItems.CENTER);this.m_root.setName("FilterDialogSelectionToolsContainer");this.m_root.setFlex("1");this.m_root.setMaxHeight(e.UiCssLength.create("1rem"));this.m_showOnlySelectedToggleBtn=e.FdLayoutUtils.addSelectedMembersToggleButton(this.m_root,"FilterDialogSelectionToolsShowOnlySelected");if(this.m_model.isFeatureEnabled(e.FdFeature.CLIPBOARD)){this.m_clipboardBtn=e.FdLayoutUtils.addClipboardButton(t,this.m_root,"FilterDialogSelectionToolsClipboard")}this.m_clearSelectionBtn=e.FdLayoutUtils.addClearSelectionButton(this.m_root,"FilterDialogSelectionToolsClear")};e.FdComponentSelectionToolsLayout.prototype.getClearSelectionBtn=function(){return this.m_clearSelectionBtn};e.FdComponentSelectionToolsLayout.prototype.getClipboardBtn=function(){return this.m_clipboardBtn};e.FdComponentSelectionToolsLayout.prototype.getRoot=function(){return this.m_root};e.FdComponentSelectionToolsLayout.prototype.getShowOnlySelectedToggleBtn=function(){return this.m_showOnlySelectedToggleBtn};e.FdComponentSelectionToolsLayout.prototype.releaseObject=function(){e.XObject.prototype.releaseObject.call(this);this.m_model=null;this.m_genesis=null;this.m_root=e.XObjectExt.release(this.m_root)};e.FdComponentSelectionToolsLayout.prototype.resizeComponent=function(t){let i=e.FdLayoutUtils.isShowSelectionContainer(this.m_genesis,this.m_model);let o=this.m_showSelectionToolButtons&&i&&!e.FdLayoutUtils.isSelectionContainerVisible(t.getDialogSize());let n=this.m_showOnlySelectedToggleBtn.isVisible()&&this.m_showOnlySelectedToggleBtn.isPressed();this.m_showOnlySelectedToggleBtn.setVisible(!t.getContentSize().isMobile()&&t.getContentSize().isSmall()&&i&&!e.FdLayoutUtils.isSelectionContainerVisible(t.getDialogSize()));this.m_showOnlySelectedToggleBtn.setPressed(this.m_showOnlySelectedToggleBtn.isPressed()&&this.m_showOnlySelectedToggleBtn.isVisible());if(n&&!this.m_showOnlySelectedToggleBtn.isVisible()&&this.m_showOnlySelectedToggleBtn.getListenerOnPress()!==null){this.m_showOnlySelectedToggleBtn.getListenerOnPress().onPress(e.UiControlEvent.create(this.m_showOnlySelectedToggleBtn))}if(e.notNull(this.m_clipboardBtn)){this.m_clipboardBtn.setVisible(o)}this.m_clearSelectionBtn.setVisible(o);this.m_root.setVisible(o||this.m_showOnlySelectedToggleBtn.isVisible())};e.FdComponentSelectionToolsLayout.prototype.setShowSelectionToolButtons=function(e){this.m_showSelectionToolButtons=e};e.FdComponentToggles=function(){};e.FdComponentToggles.prototype=new e.FdAbstractComponent;e.FdComponentToggles.prototype._ff_c="FdComponentToggles";e.FdComponentToggles.create=function(t,i){let o=new e.FdComponentToggles;o.setupComponent(t,e.FdComponentTogglesLayout.create());o.m_listenerOnToggleChange=i;return o};e.FdComponentToggles.prototype.m_listenerOnToggleChange=null;e.FdComponentToggles.prototype.buildOlapDialogUi=function(t){this.m_layout.buildOlapDialogUi(t);this.updateReadModeToggleLayout();let i=this.getToggleLayout();let o=i.getReadModeSwitch();if(o.isVisible()){if(this.m_model.supportsReadMode(e.OlapUiReadMode.BOOKED)&&this.m_model.supportsReadMode(e.OlapUiReadMode.MASTER)){o.registerOnChange(this);if(this.m_model.supportsReadMode(e.OlapUiReadMode.QUERY_DEFAULT)){i.getReadModeUseDefaultCheckbox().registerOnChange(this)}}else{o.setTooltip(e.XLocalizationCenter.getCenter().getText(o.isOn()?e.FilterDialogI18n.I18N_FD_READMODE_SWITCH_UNBOOKED_DISABLED:e.FilterDialogI18n.I18N_FD_READMODE_SWITCH_BOOKED_DISABLED))}}else if(i.getReadModeDropdown().isVisible()){i.getReadModeDropdown().registerOnSelect(this)}this.updateExcludeToggleVisibility();this.m_model.registerOnFeatureAvailabilityChange(this)};e.FdComponentToggles.prototype.getFocusControl=function(){if(e.notNull(this.m_layout)){let t=this.getToggleLayout().getReadModeDropdown();if(e.notNull(t)&&t.isVisible()){return t}let i=this.getToggleLayout().getReadModeSwitch();if(e.notNull(i)&&i.isVisible()){return i}let o=this.getToggleLayout().getExcludeSwitch();if(e.notNull(o)&&o.isVisible()){return o}}return null};e.FdComponentToggles.prototype.getToggleLayout=function(){return this.m_layout};e.FdComponentToggles.prototype.onChange=function(t){let i=this.getToggleLayout();let o=i.getReadModeSwitch();let n=i.getReadModeUseDefaultCheckbox();let a=i.getExcludeSwitch();if(t.getControl()===o){let t=o.isOn();this.m_model.setReadMode(t?e.OlapUiReadMode.MASTER:e.OlapUiReadMode.BOOKED);this.m_listenerOnToggleChange()}else if(t.getControl()===n){this.m_model.setReadMode(n.isChecked()?e.OlapUiReadMode.QUERY_DEFAULT:o.isOn()?e.OlapUiReadMode.MASTER:e.OlapUiReadMode.BOOKED);this.updateReadModeToggleLayout();this.m_listenerOnToggleChange()}else if(t.getControl()===a){this.m_model.setExcludeSwitchOn(a.isOn())}};e.FdComponentToggles.prototype.onError=function(e,t){this.updateReadModeToggleLayout()};e.FdComponentToggles.prototype.onFeatureAvailabilityChanged=function(t,i){if(t===e.FdFeature.EXCLUDE){this.updateExcludeToggleVisibility()}};e.FdComponentToggles.prototype.onSelect=function(e){let t=this.getToggleLayout();if(e.getControl()===t.getReadModeDropdown()){this.m_model.setReadMode(t.getReadModeDropdown().getSelectedItem().getCustomObject());this.m_listenerOnToggleChange();this.getToggleLayout().updateReadModeDropdownTooltip(this.m_model.getQueryDefaultReadMode())}};e.FdComponentToggles.prototype.releaseObject=function(){this.m_model.unregisterOnFeatureAvailabilityChange(this);this.m_listenerOnToggleChange=null;e.FdAbstractComponent.prototype.releaseObject.call(this)};e.FdComponentToggles.prototype.updateExcludeToggleVisibility=function(){let t=this.getToggleLayout();t.setExcludeSwitchVisible(this.m_model.isFeatureEnabled(e.FdFeature.EXCLUDE));let i=t.getExcludeSwitch();i.setOn(this.m_model.isExcludeSwitchOn());i.registerOnChange(this)};e.FdComponentToggles.prototype.updateReadModeToggleLayout=function(){let t=this.getToggleLayout();let i=this.m_model.supportsReadMode(e.OlapUiReadMode.QUERY_DEFAULT);let o=this.m_model.supportsReadMode(e.OlapUiReadMode.BOOKED_CASCADING);let n=this.m_model.supportsReadMode(e.OlapUiReadMode.BOOKED);let a=this.m_model.supportsReadMode(e.OlapUiReadMode.MASTER);if(this.m_model.isFeatureEnabled(e.FdFeature.EXTENDED_READMODE)&&(i||o||n||a)){t.setReadModeDropdownVisible(true,i,o,n,a,this.m_model.getReadMode());t.updateReadModeDropdownTooltip(this.m_model.getQueryDefaultReadMode());t.setReadModeSwitchVisible(false,false,false,false,false)}else{t.setReadModeDropdownVisible(false,false,false,false,false,null);t.setReadModeSwitchVisible(n||a,n&&a,this.m_model.getEffectiveReadMode()===e.OlapUiReadMode.MASTER,i,this.m_model.getReadMode()===e.OlapUiReadMode.QUERY_DEFAULT)}};e.FdComponentTogglesLayout=function(){};e.FdComponentTogglesLayout.prototype=new e.XObject;e.FdComponentTogglesLayout.prototype._ff_c="FdComponentTogglesLayout";e.FdComponentTogglesLayout.MARGIN_COLUMN="0 0.5rem 0 0";e.FdComponentTogglesLayout.MARGIN_EXCLUDE_SWITCH_IN_ROW="0 0 0.5rem 0.75rem";e.FdComponentTogglesLayout.MARGIN_RIGHT="0 0.25rem 0 0";e.FdComponentTogglesLayout.MARGIN_TOP="0.25rem 0 0 0";e.FdComponentTogglesLayout.MARGIN_TOP_AND_BOTTOM="0.25rem 0";e.FdComponentTogglesLayout.MARGIN_USE_DEFAULT_READMODE_SMALL_SCREEN="-0.25rem 0px 0px 0.5rem";e.FdComponentTogglesLayout.create=function(){return new e.FdComponentTogglesLayout};e.FdComponentTogglesLayout.prototype.m_container=null;e.FdComponentTogglesLayout.prototype.m_excludeLabelContainer=null;e.FdComponentTogglesLayout.prototype.m_excludeSwitch=null;e.FdComponentTogglesLayout.prototype.m_labelColumn=null;e.FdComponentTogglesLayout.prototype.m_readModeDropdown=null;e.FdComponentTogglesLayout.prototype.m_readModeDropdownContainer=null;e.FdComponentTogglesLayout.prototype.m_readModeLabelContainer=null;e.FdComponentTogglesLayout.prototype.m_readModeSwitch=null;e.FdComponentTogglesLayout.prototype.m_readModeUseDefaultCheckbox=null;e.FdComponentTogglesLayout.prototype.m_readModeUseDefaultCheckboxColumn=null;e.FdComponentTogglesLayout.prototype.m_readModeUseDefaultInfoIcon=null;e.FdComponentTogglesLayout.prototype.m_readModeUseDefaultInfoIconPopover=null;e.FdComponentTogglesLayout.prototype.m_readModeUseDefaultLayout=null;e.FdComponentTogglesLayout.prototype.m_smallScreenSwitchPlaceholder=null;e.FdComponentTogglesLayout.prototype.m_switchContainer=null;e.FdComponentTogglesLayout.prototype.buildOlapDialogUi=function(t){this.m_readModeDropdown=this.createReadModeDropdown(t);this.m_readModeSwitch=this.createSwitch(t,"FilterDialogReadModeSwitch");this.m_readModeUseDefaultCheckbox=t.newControl(e.UiType.CHECKBOX);this.m_readModeUseDefaultCheckbox.setName("FilterDialogReadModeUseDefaultCheckbox");this.m_smallScreenSwitchPlaceholder=t.newControl(e.UiType.FLEX_LAYOUT).setHeight(e.UiCssLength.create("2rem")).setVisible(false);this.m_excludeSwitch=this.createSwitch(t,"FilterDialogExcludeSwitch");this.m_container=t.newControl(e.UiType.FLEX_LAYOUT);this.m_container.setDirection(e.UiFlexDirection.COLUMN);this.m_container.setJustifyContent(e.UiFlexJustifyContent.START);this.m_container.setWrap(e.UiFlexWrap.NO_WRAP);this.m_container.setName("FilterDialogToggleContainer");this.m_switchContainer=t.newControl(e.UiType.FLEX_LAYOUT);this.m_switchContainer.setDirection(e.UiFlexDirection.ROW);this.m_switchContainer.setJustifyContent(e.UiFlexJustifyContent.START);this.m_switchContainer.setWrap(e.UiFlexWrap.NO_WRAP);this.m_switchContainer.setName("FilterDialogToggleSwitchContainer");this.m_labelColumn=this.createColumn(t);this.m_readModeLabelContainer=this.createLabelLayout(t,e.FilterDialogI18n.I18N_FD_UNBOOKED_MEMBERS,this.m_readModeSwitch);this.m_excludeLabelContainer=this.createLabelLayout(t,e.FilterDialogI18n.I18N_FD_EXCLUDE_MEMBERS,this.m_excludeSwitch);this.m_labelColumn.addItem(this.m_readModeLabelContainer);this.m_labelColumn.addItem(this.m_excludeLabelContainer);this.m_switchContainer.addItem(this.m_labelColumn);let i=this.createColumn(t);i.addItem(this.m_readModeSwitch);i.addItem(this.m_smallScreenSwitchPlaceholder);i.addItem(this.m_excludeSwitch);this.m_switchContainer.addItem(i);this.m_readModeUseDefaultCheckboxColumn=this.createColumn(t);this.m_readModeUseDefaultLayout=this.createReadModeDefaultLayout(t);this.m_readModeUseDefaultCheckboxColumn.addItem(this.m_readModeUseDefaultLayout);this.m_switchContainer.addItem(this.m_readModeUseDefaultCheckboxColumn);this.m_readModeDropdownContainer=t.newControl(e.UiType.FLEX_LAYOUT);this.m_readModeDropdownContainer.setDirection(e.UiFlexDirection.COLUMN);this.m_readModeDropdownContainer.setAlignItems(e.UiFlexAlignItems.START);this.m_readModeDropdownContainer.setName("FilterDialogReadModeToggleDropdownContainer");this.m_readModeDropdownContainer.addItem(this.createReadModeDropdownLabel(t));this.m_readModeDropdownContainer.addItem(this.m_readModeDropdown);this.m_container.addItem(this.m_readModeDropdownContainer);this.m_container.addItem(this.m_switchContainer)};e.FdComponentTogglesLayout.prototype.createCenteredRowLayout=function(t){let i=t.newControl(e.UiType.FLEX_LAYOUT);i.setDirection(e.UiFlexDirection.ROW);i.setAlignItems(e.UiFlexAlignItems.CENTER);i.setWrap(e.UiFlexWrap.NO_WRAP);i.setFlex("auto");i.setMargin(e.UiCssBoxEdges.create(e.FdComponentTogglesLayout.MARGIN_TOP));return i};e.FdComponentTogglesLayout.prototype.createColumn=function(t){let i=t.newControl(e.UiType.FLEX_LAYOUT);i.setDirection(e.UiFlexDirection.COLUMN);i.setJustifyContent(e.UiFlexJustifyContent.START);i.setWrap(e.UiFlexWrap.NO_WRAP);i.setMargin(e.UiCssBoxEdges.create(e.FdComponentTogglesLayout.MARGIN_COLUMN));i.setFlex("0 0 auto");return i};e.FdComponentTogglesLayout.prototype.createLabelLayout=function(t,i,o){let n=t.newControl(e.UiType.LABEL);n.setFlex("auto");n.setText(e.XLocalizationCenter.getCenter().getText(i));n.setLabelFor(o);let a=this.createCenteredRowLayout(t);a.addItem(n);return a};e.FdComponentTogglesLayout.prototype.createReadModeDefaultLayout=function(t){let i=e.XLocalizationCenter.getCenter();let o=t.newControl(e.UiType.LABEL);o.setName("FilterDialogReadModeUseDefaultLabel");o.setText(i.getText(e.FilterDialogI18n.I18N_FD_UNBOOKED_MEMBERS_USE_DEFAULT));o.setMargin(e.UiCssBoxEdges.create(e.FdComponentTogglesLayout.MARGIN_RIGHT));this.m_readModeUseDefaultInfoIcon=t.newControl(e.UiType.ICON);this.m_readModeUseDefaultInfoIcon.setName("FilterDialogReadModeUseDefaultIcon");this.m_readModeUseDefaultInfoIcon.setIcon("message-information");this.m_readModeUseDefaultInfoIcon.setTooltip(null);this.m_readModeUseDefaultInfoIcon.registerOnHover(this);this.m_readModeUseDefaultInfoIcon.registerOnHoverEnd(this);let n=t.newControl(e.UiType.LABEL);n.setName("FilterDialogReadModeUseDefaultIconPopoverLabel");n.setText(i.getText(e.FilterDialogI18n.I18N_FD_UNBOOKED_MEMBERS_USE_DEFAULT_TOOLTIP));n.setWrapping(true);this.m_readModeUseDefaultInfoIconPopover=t.newControl(e.UiType.POPOVER);this.m_readModeUseDefaultInfoIconPopover.setName("FilterDialogReadModeUseDefaultIconPopover");this.m_readModeUseDefaultInfoIconPopover.setContent(n);this.m_readModeUseDefaultInfoIconPopover.setWidth(e.UiCssLength.create("150px"));this.m_readModeUseDefaultInfoIconPopover.setPadding(e.UiCssBoxEdges.create("10px"));this.m_readModeUseDefaultInfoIconPopover.setPlacement(e.UiPlacementType.TOP);let a=this.createCenteredRowLayout(t);a.setName("FilterDialogReadModeUseDefaultContainer");a.setFlex(null);a.addItem(this.m_readModeUseDefaultCheckbox);a.addItem(e.FdLayoutUtils.createHiddenLabelFor(this.m_readModeUseDefaultCheckbox,t,i.getText(e.FilterDialogI18n.I18N_FD_UNBOOKED_MEMBERS)));o.setLabelFor(this.m_readModeUseDefaultCheckbox);a.addItem(o);a.addItem(this.m_readModeUseDefaultInfoIcon);a.addItem(e.FdLayoutUtils.createHiddenLabelFor(this.m_readModeUseDefaultInfoIcon,t,i.getText(e.FilterDialogI18n.I18N_FD_UNBOOKED_MEMBERS_USE_DEFAULT_TOOLTIP)));return a};e.FdComponentTogglesLayout.prototype.createReadModeDropdown=function(t){let i=t.newControl(e.UiType.DROPDOWN);i.setName("FilterDialogReadModeDropdown");i.setMinWidth(e.UiCssLength.create(e.FdLayoutUtils.DROPDOWN_WIDTH));return i};e.FdComponentTogglesLayout.prototype.createReadModeDropdownLabel=function(t){let i=t.newControl(e.UiType.LABEL);i.setName("FilterDialogReadModeDropdownLabel");i.setText(e.XLocalizationCenter.getCenter().getText(e.FilterDialogI18n.I18N_FD_AVAILABLE_MEMBERS));i.setMargin(e.UiCssBoxEdges.create(e.FdComponentTogglesLayout.MARGIN_TOP_AND_BOTTOM));i.setLabelFor(this.m_readModeDropdown);return i};e.FdComponentTogglesLayout.prototype.createSwitch=function(t,i){let o=t.newControl(e.UiType.SWITCH);o.setName(i);o.setOnText(" ");o.setOffText(" ");o.setMargin(e.UiCssBoxEdges.create(e.FdComponentTogglesLayout.MARGIN_TOP));return o};e.FdComponentTogglesLayout.prototype.getExcludeSwitch=function(){return this.m_excludeSwitch};e.FdComponentTogglesLayout.prototype.getReadModeDropdown=function(){return this.m_readModeDropdown};e.FdComponentTogglesLayout.prototype.getReadModeSwitch=function(){return this.m_readModeSwitch};e.FdComponentTogglesLayout.prototype.getReadModeUseDefaultCheckbox=function(){return this.m_readModeUseDefaultCheckbox};e.FdComponentTogglesLayout.prototype.getRoot=function(){return this.m_container};e.FdComponentTogglesLayout.prototype.onHover=function(e){this.m_readModeUseDefaultInfoIconPopover.openAt(this.m_readModeUseDefaultInfoIcon)};e.FdComponentTogglesLayout.prototype.onHoverEnd=function(e){this.m_readModeUseDefaultInfoIconPopover.close()};e.FdComponentTogglesLayout.prototype.releaseObject=function(){e.XObject.prototype.releaseObject.call(this);this.m_container=e.XObjectExt.release(this.m_container);this.m_labelColumn=e.XObjectExt.release(this.m_labelColumn);this.m_readModeLabelContainer=e.XObjectExt.release(this.m_readModeLabelContainer);this.m_excludeLabelContainer=e.XObjectExt.release(this.m_excludeLabelContainer);this.m_readModeSwitch=e.XObjectExt.release(this.m_readModeSwitch);this.m_readModeDropdown=e.XObjectExt.release(this.m_readModeDropdown);this.m_readModeUseDefaultCheckbox=e.XObjectExt.release(this.m_readModeUseDefaultCheckbox);this.m_excludeSwitch=e.XObjectExt.release(this.m_excludeSwitch);this.m_readModeUseDefaultCheckboxColumn=e.XObjectExt.release(this.m_readModeUseDefaultCheckboxColumn);this.m_readModeUseDefaultLayout=e.XObjectExt.release(this.m_readModeUseDefaultLayout);this.m_smallScreenSwitchPlaceholder=e.XObjectExt.release(this.m_smallScreenSwitchPlaceholder);this.m_readModeUseDefaultInfoIcon=e.XObjectExt.release(this.m_readModeUseDefaultInfoIcon);this.m_readModeUseDefaultInfoIconPopover=e.XObjectExt.release(this.m_readModeUseDefaultInfoIconPopover);this.m_switchContainer=e.XObjectExt.release(this.m_switchContainer);this.m_readModeDropdownContainer=e.XObjectExt.release(this.m_readModeDropdownContainer)};e.FdComponentTogglesLayout.prototype.resizeComponent=function(t){if(this.m_readModeUseDefaultCheckboxColumn.isVisible()){if(t.getContentSize().isSmall()){this.m_readModeUseDefaultLayout.setMargin(e.UiCssBoxEdges.create(e.FdComponentTogglesLayout.MARGIN_USE_DEFAULT_READMODE_SMALL_SCREEN));this.m_labelColumn.insertItem(this.m_readModeUseDefaultLayout,1);this.m_smallScreenSwitchPlaceholder.setVisible(true)}else{this.m_readModeUseDefaultLayout.setMargin(e.UiCssBoxEdges.create(e.FdComponentTogglesLayout.MARGIN_TOP));this.m_readModeUseDefaultCheckboxColumn.addItem(this.m_readModeUseDefaultLayout);this.m_smallScreenSwitchPlaceholder.setVisible(false)}}if(this.m_readModeDropdown.isVisible()){if(t.getContentSize().isLarge()){this.m_readModeDropdown.setWidth(null);this.showSwitchContainerInRow()}else{this.m_readModeDropdown.useMaxWidth();this.showSwitchContainerInColumn()}}};e.FdComponentTogglesLayout.prototype.setExcludeSwitchVisible=function(e){this.m_excludeLabelContainer.setVisible(e);this.m_excludeSwitch.setVisible(e);this.updateComponentVisibility()};e.FdComponentTogglesLayout.prototype.setReadModeDropdownVisible=function(t,i,o,n,a,r){this.m_readModeDropdown.setVisible(t);this.m_readModeDropdown.clearItems();let l=e.XLocalizationCenter.getCenter();if(i){e.FdLayoutUtils.addDropdownItem(this.m_readModeDropdown,"FilterDialogReadModeDefault",l.getText(e.FilterDialogI18n.I18N_FD_MEMBERS_DEFAULT_WITHOUT_EFFECTIVE),e.OlapUiReadMode.QUERY_DEFAULT)}if(o){e.FdLayoutUtils.addDropdownItem(this.m_readModeDropdown,"FilterDialogReadModeBookedCascading",l.getText(e.FilterDialogI18n.I18N_FD_MEMBERS_BOOKED_CASCADING),e.OlapUiReadMode.BOOKED_CASCADING)}if(n){e.FdLayoutUtils.addDropdownItem(this.m_readModeDropdown,"FilterDialogReadModeBooked",l.getText(e.FilterDialogI18n.I18N_FD_MEMBERS_BOOKED),e.OlapUiReadMode.BOOKED)}if(a){e.FdLayoutUtils.addDropdownItem(this.m_readModeDropdown,"FilterDialogReadModeMaster",l.getText(e.FilterDialogI18n.I18N_FD_MEMBERS_MASTER),e.OlapUiReadMode.MASTER)}if(e.notNull(r)){let t=e.XCollectionUtils.findFirst(this.m_readModeDropdown.getItems(),e=>e.getCustomObject()===r);if(e.notNull(t)){this.m_readModeDropdown.setSelectedItem(t)}}this.updateComponentVisibility()};e.FdComponentTogglesLayout.prototype.setReadModeSwitchVisible=function(e,t,i,o,n){this.m_readModeLabelContainer.setVisible(e);this.m_readModeSwitch.setVisible(e);this.m_readModeSwitch.setEnabled(t&&(!o||!n));this.m_readModeSwitch.setOn(i);this.m_readModeUseDefaultCheckboxColumn.setVisible(o);this.m_readModeUseDefaultCheckbox.setChecked(n);this.updateComponentVisibility()};e.FdComponentTogglesLayout.prototype.showSwitchContainerInColumn=function(){this.m_container.setDirection(e.UiFlexDirection.COLUMN);this.m_switchContainer.setAlignItems(e.UiFlexAlignItems.STRETCH);this.m_excludeLabelContainer.setMargin(e.UiCssBoxEdges.create(e.FdComponentTogglesLayout.MARGIN_TOP))};e.FdComponentTogglesLayout.prototype.showSwitchContainerInRow=function(){this.m_container.setDirection(e.UiFlexDirection.ROW);this.m_switchContainer.setAlignItems(e.UiFlexAlignItems.END);this.m_excludeLabelContainer.setMargin(e.UiCssBoxEdges.create(e.FdComponentTogglesLayout.MARGIN_EXCLUDE_SWITCH_IN_ROW))};e.FdComponentTogglesLayout.prototype.updateComponentVisibility=function(){if(this.m_readModeDropdown.isVisible()||this.m_readModeSwitch.isVisible()||this.m_excludeSwitch.isVisible()){this.m_container.setVisible(true);this.m_readModeDropdownContainer.setVisible(this.m_readModeDropdown.isVisible());this.m_switchContainer.setVisible(this.m_readModeSwitch.isVisible()||this.m_excludeSwitch.isVisible());if(this.m_readModeDropdown.isVisible()){this.showSwitchContainerInRow()}else{this.showSwitchContainerInColumn()}}else{this.m_container.setVisible(false)}};e.FdComponentTogglesLayout.prototype.updateReadModeDropdownTooltip=function(t){let i=this.m_readModeDropdown.getSelectedItem().getCustomObject();if(i===e.OlapUiReadMode.QUERY_DEFAULT&&e.notNull(t)){i=t}let o=e.FilterDialogI18n.I18N_FD_MEMBERS_BOOKED;if(i===e.OlapUiReadMode.MASTER){o=e.FilterDialogI18n.I18N_FD_MEMBERS_MASTER}else if(i===e.OlapUiReadMode.BOOKED_CASCADING){o=e.FilterDialogI18n.I18N_FD_MEMBERS_BOOKED_CASCADING}else if(i===e.FdReadMode.DIMENSION_RELATIONSHIPS){o=e.FilterDialogI18n.I18N_FD_MEMBERS_DIM_RELATIONSHIPS}this.m_readModeDropdown.setTooltip(e.XLocalizationCenter.getCenter().getText(o))};e.FdComponentDateRangeDynamic=function(){};e.FdComponentDateRangeDynamic.prototype=new e.FdAbstractComponent;e.FdComponentDateRangeDynamic.prototype._ff_c="FdComponentDateRangeDynamic";e.FdComponentDateRangeDynamic.create=function(t,i,o){let n=new e.FdComponentDateRangeDynamic;n.setupComponent(t,e.FdComponentDateRangeDynamicLayout.create(()=>{n.onDataChanged()},t.getConfig().getValueFormatter()));n.m_item=i;n.m_dataChangedListener=o;return n};e.FdComponentDateRangeDynamic.prototype.m_dataChangedListener=null;e.FdComponentDateRangeDynamic.prototype.m_item=null;e.FdComponentDateRangeDynamic.prototype.buildOlapDialogUi=function(e){this.m_layout.buildOlapDialogUi(e);let t=this.getDynamicDateRangeLayout();t.setAvailableGranularities(this.m_model.getRangeModel().getDateRangeGranularities());t.bindItem(this.m_item)};e.FdComponentDateRangeDynamic.prototype.getDynamicDateRangeLayout=function(){return this.m_layout};e.FdComponentDateRangeDynamic.prototype.getFocusControl=function(){return this.getDynamicDateRangeLayout().getTypeDropdown()};e.FdComponentDateRangeDynamic.prototype.getItem=function(){return this.m_item};e.FdComponentDateRangeDynamic.prototype.getMaxValue=function(t){let i=this.m_model.getConfig().getDynamicDateRangeMaxYears();if(t===e.DateRangeGranularity.HALF_YEAR){return i*2}if(t===e.DateRangeGranularity.QUARTER){return i*4}if(t===e.DateRangeGranularity.MONTH){return i*12}if(t===e.DateRangeGranularity.DAY){return i*365}return i};e.FdComponentDateRangeDynamic.prototype.isEmpty=function(){return this.m_item.getGranularity()===null};e.FdComponentDateRangeDynamic.prototype.isNumberValid=function(t,i){if(e.XStringUtils.isNullOrEmpty(t)||e.XString.containsString(t,".")||e.XString.containsString(t,",")){return false}let o=e.XInteger.convertFromStringWithDefault(t,-1);return o>=0&&o<=i};e.FdComponentDateRangeDynamic.prototype.onDataChanged=function(){this.validate(true);this.m_dataChangedListener()};e.FdComponentDateRangeDynamic.prototype.releaseObject=function(){e.FdAbstractComponent.prototype.releaseObject.call(this);this.m_item=null;this.m_dataChangedListener=null};e.FdComponentDateRangeDynamic.prototype.validate=function(t){let i=this.getDynamicDateRangeLayout();if(t){i.clearMessages()}if(t&&this.isEmpty()){return true}let o=this.m_item.getGranularity();if(e.isNull(o)){return false}let n=o.isCurrentDateUnit()||this.isNumberValid(i.getLookBackText(),this.getMaxValue(o));let a=o.isCurrentDateUnit()||this.isNumberValid(i.getLookAheadText(),this.getMaxValue(o));if((!n||!a)&&t){i.showMainMessage(e.XLocalizationCenter.getCenter().getTextWithPlaceholder2(e.FilterDialogI18n.I18N_FD_DATE_RANGE_ERROR_NUMBER_BETWEEN,"0",e.XInteger.convertToString(this.getMaxValue(o))),!n,!a)}let r=this.m_item.getOffsetGranularity();let l=e.isNull(r)||this.isNumberValid(i.getOffsetText(),this.getMaxValue(r));if(!l&&t){i.showOffsetMessage(e.XLocalizationCenter.getCenter().getTextWithPlaceholder2(e.FilterDialogI18n.I18N_FD_DATE_RANGE_ERROR_NUMBER_BETWEEN,"0",e.XInteger.convertToString(this.getMaxValue(r))))}return a&&n&&l};e.FdComponentDateRangeFixed=function(){};e.FdComponentDateRangeFixed.prototype=new e.FdAbstractComponent;e.FdComponentDateRangeFixed.prototype._ff_c="FdComponentDateRangeFixed";e.FdComponentDateRangeFixed.create=function(t,i,o){let n=new e.FdComponentDateRangeFixed;n.setupComponent(t,e.FdComponentDateRangeFixedLayout.create(()=>{n.onDataChanged()},t.getConfig().getValueFormatter()));n.m_item=i;n.m_dataChangedListener=o;return n};e.FdComponentDateRangeFixed.prototype.m_dataChangedListener=null;e.FdComponentDateRangeFixed.prototype.m_dateRangeMax=null;e.FdComponentDateRangeFixed.prototype.m_dateRangeMin=null;e.FdComponentDateRangeFixed.prototype.m_item=null;e.FdComponentDateRangeFixed.prototype.buildOlapDialogUi=function(t){this.m_layout.buildOlapDialogUi(t);let i=this.getFixedDateRangeLayout();let o=this.m_model.getRangeModel();let n=o.getMin();let a=o.getMax();if(e.notNull(n)&&e.notNull(a)){this.m_dateRangeMin=e.XDate.createHollowDate();this.m_dateRangeMin.setYear(n.getYear());this.m_dateRangeMin.setMonthOfYear(1);this.m_dateRangeMin.setDayOfMonth(1);this.m_dateRangeMax=e.XDate.createHollowDate();this.m_dateRangeMax.setYear(a.getYear());this.m_dateRangeMax.setMonthOfYear(12);this.m_dateRangeMax.setDayOfMonth(31);i.setAvailableRange(this.m_dateRangeMin,this.m_dateRangeMax)}i.setAvailableGranularities(o.getDateRangeGranularities());i.bindItem(this.m_item)};e.FdComponentDateRangeFixed.prototype.getFixedDateRangeLayout=function(){return this.m_layout};e.FdComponentDateRangeFixed.prototype.getFocusControl=function(){return this.getFixedDateRangeLayout().getGranularityDropdown()};e.FdComponentDateRangeFixed.prototype.getItem=function(){return this.m_item};e.FdComponentDateRangeFixed.prototype.getMilliseconds=function(t){try{return e.notNull(t)?t.getMilliseconds():-1}catch(e){return-1}};e.FdComponentDateRangeFixed.prototype.isEmpty=function(){return this.m_item.getGranularity()===null};e.FdComponentDateRangeFixed.prototype.isStartDateLaterThanEndDate=function(){let t=false;let i=this.m_item.getGranularity();if((i===e.DateRangeGranularity.YEAR||i===e.DateRangeGranularity.HALF_YEAR||i===e.DateRangeGranularity.QUARTER||i===e.DateRangeGranularity.MONTH)&&this.m_item.getYearFrom()!==-1&&this.m_item.getYearTo()!==-1){if(this.m_item.getYearFrom()>this.m_item.getYearTo()){t=true}else if(this.m_item.getYearFrom()===this.m_item.getYearTo()){if(i===e.DateRangeGranularity.HALF_YEAR){t=this.m_item.getHalfYearFrom()>this.m_item.getHalfYearTo()}else if(i===e.DateRangeGranularity.QUARTER){t=this.m_item.getQuarterFrom()>this.m_item.getQuarterTo()}else{t=this.m_item.getMonthFrom()>this.m_item.getMonthTo()}}}return t};e.FdComponentDateRangeFixed.prototype.onDataChanged=function(){this.validate(true);this.m_dataChangedListener()};e.FdComponentDateRangeFixed.prototype.releaseObject=function(){e.FdAbstractComponent.prototype.releaseObject.call(this);this.m_item=null;this.m_dataChangedListener=null;this.m_dateRangeMin=e.XObjectExt.release(this.m_dateRangeMin);this.m_dateRangeMax=e.XObjectExt.release(this.m_dateRangeMax)};e.FdComponentDateRangeFixed.prototype.validate=function(t){if(t){this.getFixedDateRangeLayout().clearMessage()}if(t&&this.isEmpty()){return true}if(this.m_item.getGranularity()===null){return false}if(this.m_item.getGranularity()===e.DateRangeGranularity.DAY){return this.validateDateInputFields(t)}if(this.isStartDateLaterThanEndDate()){if(t){this.getFixedDateRangeLayout().showMessage(e.XLocalizationCenter.getCenter().getText(e.FilterDialogI18n.I18N_FD_DATE_RANGE_ERROR_MIN_GREATER_MAX),true,true)}return false}return true};e.FdComponentDateRangeFixed.prototype.validateDateInputFields=function(t){let i=this.m_item.getDateFrom()===null;let o=this.m_item.getDateTo()===null;let n=!i?e.XDate.createDateSafe(this.m_item.getDateFrom()):null;let a=!o?e.XDate.createDateSafe(this.m_item.getDateTo()):null;let r=null;let l=!i&&e.isNull(n);let s=!o&&e.isNull(a);if(l||s){let t=e.UiNumberFormatterCenter.getCenter().getDateDisplayFormat();r=e.XLocalizationCenter.getCenter().getTextWithPlaceholder(e.FilterDialogI18n.I18N_FD_DATE_RANGE_ERROR_INVALID_DATE_FORMAT,e.notNull(t)?t:"")}else{let t=this.getMilliseconds(n);let u=this.getMilliseconds(a);if(!i&&!o&&t>u){l=true;s=true;r=e.XLocalizationCenter.getCenter().getText(e.FilterDialogI18n.I18N_FD_DATE_RANGE_ERROR_MIN_GREATER_MAX)}else{if(!i&&(t===-1||e.notNull(this.m_dateRangeMin)&&t<this.m_dateRangeMin.getMilliseconds())){l=true;r=e.XLocalizationCenter.getCenter().getText(e.FilterDialogI18n.I18N_FD_DATE_RANGE_ERROR_START_DATE_OUTSIDE_RANGE)}if(!o&&(u===-1||e.notNull(this.m_dateRangeMax)&&u>this.m_dateRangeMax.getMilliseconds())){s=true;r=e.XLocalizationCenter.getCenter().getText(e.FilterDialogI18n.I18N_FD_DATE_RANGE_ERROR_END_DATE_OUTSIDE_RANGE)}}}if((l||s)&&t){this.getFixedDateRangeLayout().showMessage(r,l,s)}return!l&&!s};e.FdComponentAbstractPagingLayout=function(){};e.FdComponentAbstractPagingLayout.prototype=new e.XObject;e.FdComponentAbstractPagingLayout.prototype._ff_c="FdComponentAbstractPagingLayout";e.FdComponentAbstractPagingLayout.MARGIN="0 0 0 0.25rem";e.FdComponentAbstractPagingLayout.prototype.m_container=null;e.FdComponentAbstractPagingLayout.prototype.m_pagingBtnNext=null;e.FdComponentAbstractPagingLayout.prototype.m_pagingBtnPrev=null;e.FdComponentAbstractPagingLayout.prototype.addContainer=function(t){this.m_container=t.newControl(e.UiType.FLEX_LAYOUT);this.m_container.setDirection(e.UiFlexDirection.ROW);this.m_container.setAlignItems(e.UiFlexAlignItems.CENTER);this.m_container.setWrap(e.UiFlexWrap.NO_WRAP);this.m_container.setWidth(e.UiCssLength.create("100%"));this.m_container.setMargin(e.UiCssBoxEdges.create("0.5rem 0 0 0"));this.m_container.setJustifyContent(e.UiFlexJustifyContent.CENTER);this.m_container.setName("FilterDialogTableFooter")};e.FdComponentAbstractPagingLayout.prototype.addPagingBtnNext=function(t){this.m_pagingBtnNext=this.m_container.addNewItemOfType(e.UiType.BUTTON);this.m_pagingBtnNext.setName("FilterDialogPagingBtnNext");this.m_pagingBtnNext.setIcon("navigation-right-arrow");this.m_pagingBtnNext.setTooltip(e.XLocalizationCenter.getCenter().getText(e.FilterDialogI18n.I18N_FD_NEXT));this.m_pagingBtnNext.setMargin(e.UiCssBoxEdges.create(e.FdComponentAbstractPagingLayout.MARGIN));this.m_pagingBtnNext.setButtonType(e.UiButtonType.TRANSPARENT);this.m_container.addItem(e.FdLayoutUtils.createHiddenLabelFor(this.m_pagingBtnNext,t,e.XLocalizationCenter.getCenter().getText(e.FilterDialogI18n.I18N_FD_NEXT)))};e.FdComponentAbstractPagingLayout.prototype.addPagingBtnPrev=function(t){this.m_pagingBtnPrev=this.m_container.addNewItemOfType(e.UiType.BUTTON);this.m_pagingBtnPrev.setName("FilterDialogPagingBtnPrev");this.m_pagingBtnPrev.setIcon("navigation-left-arrow");this.m_pagingBtnPrev.setTooltip(e.XLocalizationCenter.getCenter().getText(e.FilterDialogI18n.I18N_FD_PREVIOUS));this.m_pagingBtnPrev.setButtonType(e.UiButtonType.TRANSPARENT);this.m_container.addItem(e.FdLayoutUtils.createHiddenLabelFor(this.m_pagingBtnPrev,t,e.XLocalizationCenter.getCenter().getText(e.FilterDialogI18n.I18N_FD_PREVIOUS)))};e.FdComponentAbstractPagingLayout.prototype.getPagingBtnNext=function(){return this.m_pagingBtnNext};e.FdComponentAbstractPagingLayout.prototype.getPagingBtnPrev=function(){return this.m_pagingBtnPrev};e.FdComponentAbstractPagingLayout.prototype.getRoot=function(){return this.m_container};e.FdComponentAbstractPagingLayout.prototype.releaseObject=function(){e.XObject.prototype.releaseObject.call(this);this.m_container=e.XObjectExt.release(this.m_container)};e.FdComponentAbstractPagingLayout.prototype.resizeComponent=function(e){};e.FdComponentAbstractTable=function(){};e.FdComponentAbstractTable.prototype=new e.FdAbstractComponent;e.FdComponentAbstractTable.prototype._ff_c="FdComponentAbstractTable";e.FdComponentAbstractTable.prototype.m_uiTable=null;e.FdComponentAbstractTable.prototype.m_view=null;e.FdComponentAbstractTable.prototype.createCell=function(e,t,i,o){let n=this.m_uiTable.newCell(e,null);n.setText(t.getFormattedValueByPresentation(i));return n};e.FdComponentAbstractTable.prototype.createRowCells=function(t,i,o){let n=this.getTooltip(i);let a=e.XList.create();let r=o.size();for(let e=0;e<r;e++){let r=o.get(e);let l=this.createCell(t,i,r,e);l.setCustomObject(r);l.setTooltip(n);a.add(l)}return a};e.FdComponentAbstractTable.prototype.getFirstItem=function(){let t=this.m_uiTable.getRows();return e.XCollectionUtils.hasElements(t)?t.get(0).getCustomObject():null};e.FdComponentAbstractTable.prototype.getFocusControl=function(){return null};e.FdComponentAbstractTable.prototype.getLayout=function(){return this.m_uiTable.getLayout()};e.FdComponentAbstractTable.prototype.getOrCreateColumn=function(t){let i=this.m_uiTable.getColumn(t);return e.notNull(i)?i:this.m_uiTable.addNewColumn()};e.FdComponentAbstractTable.prototype.getTooltip=function(t){let i=e.XStringBuffer.create();let o=t.getDisplayKeyFormatted();let n=e.XStringUtils.isNotNullAndNotEmpty(o);if(n){i.append(e.XLocalizationCenter.getCenter().getText(e.FilterDialogI18n.I18N_FD_PRESENTATION_ID)).append(": ").append(o)}let a=t.getTextFormatted();if(e.XStringUtils.isNotNullAndNotEmpty(a)){if(n){i.appendNewLine()}let o=t.getType();let r=o===e.FilterDialogValueType.USER||o===e.FilterDialogValueType.TEAM?e.FilterDialogI18n.I18N_FD_PRESENTATION_NAME:e.FilterDialogI18n.I18N_FD_PRESENTATION_DESCRIPTION;i.append(e.XLocalizationCenter.getCenter().getText(r)).append(": ").append(a)}return i.toString()};e.FdComponentAbstractTable.prototype.isPresentationUpdateNeeded=function(t){let i=this.m_uiTable.getColumns();if(t.size()!==i.size()){return true}for(let o=0;o<i.size();o++){if(!e.XString.isEqual(i.get(o).getTitle(),t.get(o))){return true}}return false};e.FdComponentAbstractTable.prototype.onError=function(e,t){this.setBusy(false);this.updatePaging(false)};e.FdComponentAbstractTable.prototype.onProcessFinished=function(e,t,i){};e.FdComponentAbstractTable.prototype.onSearchChange=function(e,t){if(!e){this.setBusy(true);this.refreshContent(false)}};e.FdComponentAbstractTable.prototype.onSelectionChange=function(e){this.m_view.onTableSelectionChange(this.m_uiTable.getVisibleRows(),this.m_uiTable.getSelectedItems())};e.FdComponentAbstractTable.prototype.onSelectionCleared=function(){this.m_uiTable.clearSelectedItems()};e.FdComponentAbstractTable.prototype.parentNodesInSearchNeeded=function(){return true};e.FdComponentAbstractTable.prototype.publishPresentations=function(){let e=this.m_view.getSelectedPresentations();this.updateColumns(e.getKeysAsReadOnlyList());this.updateRows(this.m_uiTable.getRows(),e.getValuesAsReadOnlyList());this.setBusy(false)};e.FdComponentAbstractTable.prototype.releaseObject=function(){e.FdAbstractComponent.prototype.releaseObject.call(this);this.m_uiTable=e.XObjectExt.release(this.m_uiTable);this.m_view=null};e.FdComponentAbstractTable.prototype.setBusy=function(e){this.m_uiTable.setBusy(e)};e.FdComponentAbstractTable.prototype.setSelectionMode=function(e){this.m_uiTable.setTableSelectionMode(e,this.m_model.isMobile())};e.FdComponentAbstractTable.prototype.setupTableComponent=function(e,t,i){this.setupComponent(e,t);this.m_view=i};e.FdComponentAbstractTable.prototype.updateColumns=function(t){let i=0;let o=t.size();for(let e=0;e<o;e++){let o=this.getOrCreateColumn(i);o.setTitle(t.get(e));i++}while(this.m_uiTable.getColumn(i)!==null){this.m_uiTable.removeColumn(this.m_uiTable.getColumn(i))}if(this.m_uiTable.hasColumns()){let t=this.m_uiTable.getNumberOfColumns()-1;let i=this.m_uiTable.getColumn(t).getUiColumn();i.setWidth(e.UiCssLength.create("auto"))}};e.FdComponentAbstractTable.prototype.updatePaging=function(e){};e.FdComponentAbstractTable.prototype.updateRows=function(t,i){if(e.XCollectionUtils.hasElements(t)){let e=t.size();for(let o=0;o<e;o++){let e=t.get(o);this.m_uiTable.clearCells(e);this.m_uiTable.addAllCells(e,this.createRowCells(e,e.getCustomObject(),i))}}};e.FdComponentAbstractTable.prototype.updateSelectionState=function(t){e.XCollectionUtils.forEach(this.m_uiTable.getRows(),i=>{let o=i.getCustomObject();if(e.notNull(o)){let e=t.contains(o);if(i.isSelected()!==e){i.setSelected(e)}}})};e.FdComponentEndlessPaging=function(){};e.FdComponentEndlessPaging.prototype=new e.FdAbstractComponent;e.FdComponentEndlessPaging.prototype._ff_c="FdComponentEndlessPaging";e.FdComponentEndlessPaging.create=function(t){let i=new e.FdComponentEndlessPaging;i.setupComponent(t,e.FdComponentEndlessPagingLayout.create());return i};e.FdComponentEndlessPaging.prototype.m_keepPagingButtonsEnabled=false;e.FdComponentEndlessPaging.prototype.buildOlapDialogUi=function(e){let t=this.getPagingLayout();t.buildOlapDialogUi(e);t.registerOnPress(this)};e.FdComponentEndlessPaging.prototype.getFocusControl=function(){return this.getPagingLayout().getNextEnabledPagingButton().orElse(null)};e.FdComponentEndlessPaging.prototype.getPagingLayout=function(){return this.m_layout};e.FdComponentEndlessPaging.prototype.onPress=function(t){let i=this.getPagingLayout();let o=t.getControl();let n=o.getName();if(e.XString.isEqual(n,i.getPagingBtnPrev().getName())){this.switchPage(this.m_model.getPage()-1);this.preservePagingFocus(o)}else if(e.XString.isEqual(n,i.getPagingBtnNext().getName())){this.switchPage(this.m_model.getPage()+1);this.preservePagingFocus(o)}else if(e.XString.isEqual(n,i.getPagingBtn1().getName())||e.XString.isEqual(n,i.getPagingBtn2().getName())||e.XString.isEqual(n,i.getPagingBtn3().getName())){this.switchPage(o.getCustomObject().getInteger());this.preservePagingFocus(o)}};e.FdComponentEndlessPaging.prototype.preservePagingFocus=function(e){if(!e.isVisible()||!e.isEnabled()){this.getPagingLayout().getNextEnabledPagingButton().ifPresent(e=>{e.focus()})}};e.FdComponentEndlessPaging.prototype.setBusy=function(e){if(e&&!this.m_keepPagingButtonsEnabled){this.getPagingLayout().disableAllPagingButtons()}};e.FdComponentEndlessPaging.prototype.switchPage=function(e){this.m_keepPagingButtonsEnabled=true;this.m_model.setPage(e);this.m_keepPagingButtonsEnabled=false};e.FdComponentEndlessPaging.prototype.updatePaging=function(t){let i=this.getPagingLayout();let o=i.getPagingBtn1();let n=i.getPagingBtn2();let a=i.getPagingBtn3();if(t){o.setText("1");i.setPagingBtn1Visible(true,false);i.setPagingBtn2Visible(false,false);i.setPagingBtn3Visible(false,false);i.getPagingBtnPrev().setEnabled(false);i.getPagingBtnNext().setEnabled(false)}else{let t=this.m_model.getPageCount();let r=this.m_model.getPage();i.getPagingBtnPrev().setEnabled(r>0);i.getPagingBtnNext().setEnabled(this.m_model.hasNextPage());let l=r;let s=-1;let u=-1;if(t>r+1){s=r+1;if(t>r+2){u=r+2}else if(l>0){u=s;s=l;l=r-1}}else if(l>0){s=l;l=r-1;if(l>0){u=s;s=l;l=r-2}}o.setText(e.XInteger.convertToString(l+1));o.setEnabled(l!==r);o.setCustomObject(e.XIntegerValue.create(l));n.setText(e.XInteger.convertToString(s+1));i.setPagingBtn2Visible(s!==-1,s!==r);n.setCustomObject(e.XIntegerValue.create(s));a.setText(e.XInteger.convertToString(u+1));i.setPagingBtn3Visible(u!==-1,u!==r);a.setCustomObject(e.XIntegerValue.create(u))}};e.FdComponentPaging=function(){};e.FdComponentPaging.prototype=new e.FdAbstractComponent;e.FdComponentPaging.prototype._ff_c="FdComponentPaging";e.FdComponentPaging.create=function(t){let i=new e.FdComponentPaging;i.setupComponent(t,e.FdComponentPagingLayout.create());return i};e.FdComponentPaging.prototype.m_keepPagingButtonsEnabled=false;e.FdComponentPaging.prototype.buildOlapDialogUi=function(e){let t=this.getPagingLayout();t.buildOlapDialogUi(e);t.registerOnPress(this)};e.FdComponentPaging.prototype.getFocusControl=function(){let e=this.getPagingLayout();if(e.getPagingBtnPrev().isEnabled()){return e.getPagingBtnPrev()}if(e.getPagingBtnNext().isEnabled()){return e.getPagingBtnNext()}return null};e.FdComponentPaging.prototype.getPagingLayout=function(){return this.m_layout};e.FdComponentPaging.prototype.onPress=function(t){let i=this.getPagingLayout();let o=t.getControl().getName();if(e.XString.isEqual(o,i.getPagingBtnPrev().getName())){this.switchPage(this.m_model.getPage()-1)}else if(e.XString.isEqual(o,i.getPagingBtnNext().getName())){this.switchPage(this.m_model.getPage()+1)}};e.FdComponentPaging.prototype.setBusy=function(e){if(e&&!this.m_keepPagingButtonsEnabled){let e=this.getPagingLayout();e.getPagingBtnPrev().setEnabled(false);e.getPagingBtnNext().setEnabled(false)}};e.FdComponentPaging.prototype.switchPage=function(e){this.m_keepPagingButtonsEnabled=true;this.m_model.setPage(e);this.m_keepPagingButtonsEnabled=false};e.FdComponentPaging.prototype.updatePaging=function(e){let t=this.getPagingLayout();if(e){t.setPage(0,0)}else{let e=this.m_model.getPage();t.getPagingBtnPrev().setEnabled(e>0);t.getPagingBtnNext().setEnabled(e<this.m_model.getPageCount()-1);t.setPage(e+1,this.m_model.getTotalPageCount())}};e.OuShareDialogAccessPanel=function(){};e.OuShareDialogAccessPanel.prototype=new e.XObject;e.OuShareDialogAccessPanel.prototype._ff_c="OuShareDialogAccessPanel";e.OuShareDialogAccessPanel.create=function(t,i){let o=new e.OuShareDialogAccessPanel;o.m_shareDialog=t;o.m_isInitialiseShareDialog=i;o.buildPanel();return o};e.OuShareDialogAccessPanel.prototype.m_accessDropdownVisible=false;e.OuShareDialogAccessPanel.prototype.m_accessIcon=null;e.OuShareDialogAccessPanel.prototype.m_deleteIcon=null;e.OuShareDialogAccessPanel.prototype.m_isInitialiseShareDialog=false;e.OuShareDialogAccessPanel.prototype.m_page=0;e.OuShareDialogAccessPanel.prototype.m_panelAccessMenuButton=null;e.OuShareDialogAccessPanel.prototype.m_searchField=null;e.OuShareDialogAccessPanel.prototype.m_searchIcon=null;e.OuShareDialogAccessPanel.prototype.m_shareDialog=null;e.OuShareDialogAccessPanel.prototype.m_sharedWithLbl=null;e.OuShareDialogAccessPanel.prototype.m_table=null;e.OuShareDialogAccessPanel.prototype.m_toolbarButtons=null;e.OuShareDialogAccessPanel.prototype.m_totalUsers=0;e.OuShareDialogAccessPanel.prototype.m_userAccessList=null;e.OuShareDialogAccessPanel.prototype.addRow=function(t){let i;if(e.XString.isEqual(t.getStringByKey("type"),"USER")){i=e.XStringUtils.concatenate4(t.getStringByKey("displayName")," (",t.getStringByKey("id"),")")}else if(e.XString.isEqual(t.getStringByKey("type"),"ALL_USERS")){i=this.m_shareDialog.getShareDialogLocalization().getText(e.OuShareDialogI18n.ALL_USERS)}else{i=e.XStringUtils.concatenate2("Team: ",t.getStringByKey("displayName"))}if(!e.XString.isEqual(t.getStringByKey("id"),this.m_shareDialog.getFile().getAttributes().getStringByKey("os.createdBy"))){let o=this.m_table.addNewResponsiveTableRow();o.addNewResponsiveTableCell().setText(i).setTooltip(i).setName(t.getStringByKey("id"));let n=this.m_shareDialog.getGenesis().newControl(e.UiType.MENU);this.m_shareDialog.setTableAccessMenuButton(this.m_shareDialog.getGenesis().newControl(e.UiType.MENU_BUTTON));this.m_shareDialog.getTableAccessMenuButton().setButtonType(e.UiButtonType.TRANSPARENT);this.m_shareDialog.getTableAccessMenuButton().addCssClass(t.getStringByKey("id"));this.m_shareDialog.getTableAccessMenuButton().setWidth(e.UiCssLength.create("7rem"));this.m_shareDialog.getTableAccessMenuButton().setMenu(n);let a=t.getIntegerByKey("access");let r=this.setAccessType(a);this.m_shareDialog.getTableAccessMenuButton().setText(r);this.m_shareDialog.getTableAccessMenuButton().setName("view");this.m_shareDialog.getTableAccessMenuButton().addCssClass("ffShareDialogAccessMenu");this.m_shareDialog.getTableAccessMenuButton().setWidth(e.UiCssLength.create("auto"));this.m_toolbarButtons.addItem(this.m_shareDialog.getTableAccessMenuButton());this.m_shareDialog.fillAccessTypes(n);let l=n.getItems();for(let i=0;i<l.size();i++){let o=l.get(i);o.setKey(t.getStringByKey("id"));if(e.XString.isEqual(o.getText(),r)){this.m_shareDialog.getTableAccessMenuButton().setText(o.getText())}}let s=o.addNewResponsiveTableCellOfType(e.UiType.VERTICAL_LAYOUT);s.addItem(this.m_shareDialog.getTableAccessMenuButton())}};e.OuShareDialogAccessPanel.prototype.addRowsToTable=function(){this.m_table.clearResponsiveTableRows();for(let e=0;e<this.m_userAccessList.size()-1;e++){let t=this.m_userAccessList.getStructureAt(e);this.addRow(t)}};e.OuShareDialogAccessPanel.prototype.buildPanel=function(){let t=this.m_shareDialog.getPanelLayout();if(e.notNull(t)){t.destroy()}let i=this.m_shareDialog.getAccessRights(0,0,null,this.m_isInitialiseShareDialog);i.onThen(t=>{this.m_userAccessList=t.getListReadOnlyByKey(e.XFileAttribute.ACCESS_RIGHTS);let i=this.m_userAccessList.get(this.m_userAccessList.size()-1);let o=i.getIntegerByKey("teamCount");let n=i.getIntegerByKey("userCount");for(let t=0;t<this.m_userAccessList.size()-1;t++){let i=this.m_userAccessList.getStructureAt(t);if(e.XString.isEqual(i.getStringByKey("id"),this.m_shareDialog.getOwner())){n--}}if(o+n>0){this.buildUi();this.m_shareDialog.resizeDialog("43rem","auto");this.m_searchField.registerOnSearch(e.UiLambdaSearchListener.create(e=>{this.handleSearch(e,false)}));this.m_searchField.registerOnLiveChange(e.UiLambdaLiveChangeWithDebounceListener.create(e=>{this.handleSearch(e,true)},1e3));this.m_searchIcon.registerOnPress(e.UiLambdaPressListener.create(e=>{this.m_searchField.setVisible(true);this.setSearchButtonHidden()}));this.m_deleteIcon.registerOnPress(e.UiLambdaPressListener.create(t=>{let i=this.m_table.getSelectedItems();let o=e.XList.create();for(let e=0;e<i.size();e++){o.add(i.get(e).getResponsiveTableCell(0).getName())}let n=e.XFileAccessState.create();for(let t=0;t<o.size();t++){n.setUserAccess(o.get(t),e.XFileAccess.READ,false);n.setUserAccess(o.get(t),e.XFileAccess.COPY,false);n.setUserAccess(o.get(t),e.XFileAccess.VIEW_COMMENT,false);n.setUserAccess(o.get(t),e.XFileAccess.ADD_COMMENT,false);n.setUserAccess(o.get(t),e.XFileAccess.UPDATE,false);n.setUserAccess(o.get(t),e.XFileAccess.DELETE,false);n.setUserAccess(o.get(t),e.XFileAccess.DELETE_COMMENT,false);n.setUserAccess(o.get(t),e.XFileAccess.SHARE,false)}this.m_shareDialog.setIsSearch(false);this.m_shareDialog.setDialogBusy(true);this.m_shareDialog.shareFile(n,false,this.m_shareDialog.getIsSelectAll())}));this.m_shareDialog.fillAccessTypes(this.m_panelAccessMenuButton.getMenu());this.m_accessDropdownVisible=false;this.m_accessIcon.registerOnPress(e.UiLambdaPressListener.create(e=>{if(this.m_accessDropdownVisible){this.m_panelAccessMenuButton.setVisible(false);this.m_accessDropdownVisible=false}else{this.m_panelAccessMenuButton.setVisible(true);this.m_accessDropdownVisible=true}}));this.m_table.registerOnSelectionChange(e.UiLambdaSelectionChangeListener.create(t=>{let i=this.m_table.getSelectedItems();if(this.m_shareDialog.getIsSearch()){this.m_shareDialog.setIsSelectAll(false)}else{this.m_shareDialog.setIsSelectAll(t.getParameters().getBooleanByKey(e.UiEventParams.PARAM_SELECT_ALL));this.m_table.getResponsiveTableColumn(0).getHeader().setSelected(this.m_table.getResponsiveTableRows().size()-1===i.size())}if(!i.isEmpty()){this.m_deleteIcon.setEnabled(true);this.m_accessIcon.setEnabled(true)}else{this.m_deleteIcon.setEnabled(false);this.m_accessIcon.setEnabled(false);if(this.m_accessDropdownVisible){this.m_panelAccessMenuButton.setVisible(false);this.m_accessDropdownVisible=false}}}));this.buildSharedWithTable();this.m_shareDialog.setPanelAccessMenuButton(this.m_panelAccessMenuButton);this.m_shareDialog.setTable(this.m_table)}else{this.m_shareDialog.resizeDialog("43rem","auto")}})};e.OuShareDialogAccessPanel.prototype.buildSharedWithTable=function(){if(this.m_shareDialog.getProgramStartData()!==null){let t=this.m_shareDialog.getAccessRights(0,25,null,false);t.onThen(t=>{this.m_userAccessList=t.getListReadOnlyByKey(e.XFileAttribute.ACCESS_RIGHTS);let i=this.m_userAccessList.get(this.m_userAccessList.size()-1);let o=i.getIntegerByKey("teamCount");let n=i.getIntegerByKey("userCount");for(let t=0;t<this.m_userAccessList.size()-1;t++){let i=this.m_userAccessList.getStructureAt(t);if(e.XString.isEqual(i.getStringByKey("id"),this.m_shareDialog.getOwner())){n--}}let a=this.getSharedWithText(o,n);this.m_sharedWithLbl.setText(a);this.addRowsToTable();this.m_page=1;this.m_table.registerOnScrollLoad(this)})}};e.OuShareDialogAccessPanel.prototype.buildUi=function(){let t=this.m_shareDialog.getGenesis().newControl(e.UiType.PANEL);t.registerOnExpand(e.UiLambdaExpandListener.create(e=>{this.m_shareDialog.resizeDialog("43rem","auto")}));t.registerOnCollapse(e.UiLambdaCollapseListener.create(e=>{this.m_shareDialog.resizeDialog("43rem","auto")}));t.setMargin(e.UiCssBoxEdges.create("0 1rem 1rem 1rem"));t.setExpandable(true);t.setExpanded(false);t.removeAttribute(e.UtUi5AttributeConstants.FAST_NAV_GROUP);t.setWidth(e.UiCssLength.create("calc(100% - 2rem)"));let i=t.setNewHeaderToolbar();i.removeAttribute(e.UtUi5AttributeConstants.FAST_NAV_GROUP);this.m_sharedWithLbl=i.addNewItemOfType(e.UiType.LABEL);this.m_sharedWithLbl.setLabelFor(t);this.m_toolbarButtons=i.addNewItemOfType(e.UiType.FLEX_LAYOUT);let o=this.m_toolbarButtons.addNewItemOfType(e.UiType.FLEX_LAYOUT);this.m_searchIcon=o.addNewItemOfType(e.UiType.BUTTON);this.m_searchIcon.setName("Search");this.m_searchIcon.setIcon("search");this.m_searchField=t.setNewContent(e.UiType.SEARCH_FIELD);this.m_searchField.setVisible(false);this.m_searchField.setName("ShareDialogSearchInput");this.m_searchField.setWidth(e.UiCssLength.create("250px"));this.m_searchField.setMargin(e.UiCssBoxEdges.create("0 0.25rem 0 0 "));this.m_searchField.setPlaceholder(this.m_shareDialog.getShareDialogLocalization().getText(e.OuShareDialogI18n.SEARCH));o.addItem(this.m_searchField);this.m_deleteIcon=this.m_toolbarButtons.addNewItemOfType(e.UiType.BUTTON);this.m_deleteIcon.setName("Unshare");this.m_deleteIcon.setIcon("delete");this.m_deleteIcon.setEnabled(false);let n=this.m_toolbarButtons.addNewItemOfType(e.UiType.FLEX_LAYOUT);this.m_accessIcon=n.addNewItemOfType(e.UiType.BUTTON);this.m_accessIcon.setName("Access");this.m_accessIcon.setIcon("fpa/roles");this.m_accessIcon.setTooltip(this.m_shareDialog.getShareDialogLocalization().getText(e.OuShareDialogI18n.ACCESS_TOOLTIP));this.m_accessIcon.setEnabled(false);this.m_panelAccessMenuButton=this.m_shareDialog.getGenesis().newControl(e.UiType.MENU_BUTTON);this.m_panelAccessMenuButton.setButtonType(e.UiButtonType.TRANSPARENT);let a=this.m_shareDialog.getGenesis().newControl(e.UiType.MENU);n.addItem(this.m_panelAccessMenuButton);this.m_panelAccessMenuButton.setMenu(a);this.m_panelAccessMenuButton.setText(this.m_shareDialog.getShareDialogLocalization().getText(e.OuShareDialogI18n.VIEW_ACCESS_TYPE));this.m_panelAccessMenuButton.setName("view");this.m_panelAccessMenuButton.setWidth(e.UiCssLength.create("auto"));a.setName("selectedUsersTable");this.m_panelAccessMenuButton.setVisible(false);this.m_panelAccessMenuButton.addCssClass("ffShareDialogAccessMenu");this.m_toolbarButtons.setMargin(e.UiCssBoxEdges.create("0 0 0 auto"));let r=t.setNewContent(e.UiType.VERTICAL_LAYOUT);let l=r.addNewItemOfType(e.UiType.SCROLL_CONTAINER);l.setWidth(e.UiCssLength.create("auto"));l.setBorderColor(e.UiColor.createByRgba(240,240,240,1));l.setBorderStyle(e.UiBorderStyle.SOLID);l.setBorderWidth(e.UiCssBoxEdges.create("1px"));l.setMaxHeight(e.UiCssLength.create("9.5rem"));this.m_table=l.setNewContent(e.UiType.RESPONSIVE_TABLE);this.m_table.addCssClass("ffShareDialogReTable");this.m_table.setFlex("auto");this.m_table.setBorderColor(e.UiColor.createByRgba(240,240,240,1));this.m_table.setBorderStyle(e.UiBorderStyle.SOLID);this.m_table.setBorderWidth(e.UiCssBoxEdges.create("1px"));this.m_table.setHeight(e.UiCssLength.create("20%"));this.m_table.setSelectionMode(e.UiSelectionMode.MULTI_SELECT);this.m_table.addNewResponsiveTableColumn().setNewHeader(e.UiType.LABEL).setText(this.m_shareDialog.getShareDialogLocalization().getText(e.OuShareDialogI18n.NAME));let s=this.m_table.addNewResponsiveTableColumn();s.setNewHeader(e.UiType.LABEL).setText(this.m_shareDialog.getShareDialogLocalization().getText(e.OuShareDialogI18n.ACCESS));s.setWidth(e.UiCssLength.create("32%"));s.addCssClass("ffShareDialogReTableLastColumn");this.m_shareDialog.setPanelLayout(t)};e.OuShareDialogAccessPanel.prototype.getSharedWithText=function(t,i){if(this.m_totalUsers===0){this.m_totalUsers=t+i}this.m_shareDialog.getGeneralLayout().addItem(this.m_shareDialog.getPanelLayout());if(i>=1&&e.XString.isEqual(this.m_userAccessList.get(1).getStringByKey("type"),"ALL_USERS")){if(t>1){return this.m_shareDialog.getShareDialogLocalization().getTextWithPlaceholder(e.OuShareDialogI18n.SHARED_WITH_TEAMS_AND_ALL_USERS,e.XInteger.convertToString(t))}else if(t===1){return this.m_shareDialog.getShareDialogLocalization().getText(e.OuShareDialogI18n.SHARED_WITH_TEAM_AND_ALL_USERS)}else{return this.m_shareDialog.getShareDialogLocalization().getText(e.OuShareDialogI18n.SHARED_WITH_ALL_USERS)}}if(t>1&&i>1){return this.m_shareDialog.getShareDialogLocalization().getTextWithPlaceholder2(e.OuShareDialogI18n.SHARED_WITH_TEAMS_AND_USERS,e.XInteger.convertToString(t),e.XInteger.convertToString(i))}else if(t>1&&i===1){return this.m_shareDialog.getShareDialogLocalization().getTextWithPlaceholder(e.OuShareDialogI18n.SHARED_WITH_TEAMS_AND_USER,e.XInteger.convertToString(t))}else if(t===1&&i>1){return this.m_shareDialog.getShareDialogLocalization().getTextWithPlaceholder(e.OuShareDialogI18n.SHARED_WITH_TEAM_AND_USERS,e.XInteger.convertToString(i))}else if(t===1&&i===1){return this.m_shareDialog.getShareDialogLocalization().getText(e.OuShareDialogI18n.SHARED_WITH_TEAM_AND_USER)}else if(t>1&&i===0){return this.m_shareDialog.getShareDialogLocalization().getTextWithPlaceholder(e.OuShareDialogI18n.SHARED_WITH_TEAMS,e.XInteger.convertToString(t))}else if(t===1&&i===0){return this.m_shareDialog.getShareDialogLocalization().getText(e.OuShareDialogI18n.SHARED_WITH_TEAM)}else if(t===0&&i>1){return this.m_shareDialog.getShareDialogLocalization().getTextWithPlaceholder(e.OuShareDialogI18n.SHARED_WITH_USERS,e.XInteger.convertToString(i))}else if(t===0&&i===1){return this.m_shareDialog.getShareDialogLocalization().getText(e.OuShareDialogI18n.SHARED_WITH_USER)}return""};e.OuShareDialogAccessPanel.prototype.getUserAccessList=function(){return this.m_userAccessList};e.OuShareDialogAccessPanel.prototype.handleSearch=function(t,i){if(e.notNull(t)){let o=t.getParameters().getBooleanByKeyExt(e.UiEventParams.PARAM_CLEAR_BUTTON_PRESSED,false);let n;if(i){n=t.getParameters().getStringByKeyExt(e.UiEventParams.PARAM_VALUE,"")}else{n=t.getParameters().getStringByKeyExt(e.UiEventParams.PARAM_SEARCH_TEXT,"")}if(!o&&!e.XStringUtils.isNullOrEmpty(n)){this.m_shareDialog.setDialogBusy(true);this.m_shareDialog.setIsSearch(true);let t=this.m_shareDialog.getAccessRights(0,100,n,false);t.onThen(t=>{this.m_userAccessList=t.getListReadOnlyByKey(e.XFileAttribute.ACCESS_RIGHTS);this.addRowsToTable();this.m_shareDialog.setDialogBusy(false)})}else{this.m_shareDialog.setIsSearch(false);this.m_shareDialog.setDialogBusy(true);this.m_searchField.setVisible(false);this.m_table.clearResponsiveTableRows();let t=this.m_shareDialog.getAccessRights(0,25,null,false);t.onThen(t=>{this.m_userAccessList=t.getListReadOnlyByKey(e.XFileAttribute.ACCESS_RIGHTS);this.addRowsToTable()}).onFinally(()=>{this.m_table.getResponsiveTableColumn(0).getHeader().setSelected(false);this.m_shareDialog.setDialogBusy(false)});this.m_searchIcon.setVisible(true);this.m_searchIcon.setEnabled(true)}}};e.OuShareDialogAccessPanel.prototype.onScrollLoad=function(t){if(!this.m_table.isBusy()){if(this.m_totalUsers>this.m_page*25){this.m_shareDialog.setDialogBusy(true);this.m_page=this.m_page+1;let t=this.m_shareDialog.getAccessRights((this.m_page-1)*25,this.m_page*25,null,false);t.onThen(t=>{this.m_userAccessList=t.getListReadOnlyByKey(e.XFileAttribute.ACCESS_RIGHTS);for(let e=0;e<this.m_userAccessList.size()-1;e++){let t=this.m_userAccessList.getStructureAt(e);this.addRow(t)}this.m_shareDialog.setDialogBusy(false)})}}};e.OuShareDialogAccessPanel.prototype.releaseObject=function(){this.m_sharedWithLbl=e.XObjectExt.release(this.m_sharedWithLbl);this.m_toolbarButtons=e.XObjectExt.release(this.m_toolbarButtons);this.m_searchIcon=e.XObjectExt.release(this.m_searchIcon);this.m_searchField=e.XObjectExt.release(this.m_searchField);this.m_accessIcon=e.XObjectExt.release(this.m_accessIcon);this.m_deleteIcon=e.XObjectExt.release(this.m_deleteIcon);this.m_table=e.XObjectExt.release(this.m_table);this.m_panelAccessMenuButton=e.XObjectExt.release(this.m_panelAccessMenuButton);this.m_shareDialog=e.XObjectExt.release(this.m_shareDialog);this.m_userAccessList=e.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_userAccessList);e.XObject.prototype.releaseObject.call(this)};e.OuShareDialogAccessPanel.prototype.setAccessType=function(t){let i;switch(t){case 450:i=this.m_shareDialog.getShareDialogLocalization().getText(e.OuShareDialogI18n.VIEW_ACCESS_TYPE);break;case 454:i=this.m_shareDialog.getShareDialogLocalization().getText(e.OuShareDialogI18n.EDIT_ACCESS_TYPE);break;case 975:i=this.m_shareDialog.getShareDialogLocalization().getText(e.OuShareDialogI18n.FULL_ACCESS_TYPE);break;default:i=this.m_shareDialog.getShareDialogLocalization().getText(e.OuShareDialogI18n.CUSTOM_ACCESS_TYPE);break}return i};e.OuShareDialogAccessPanel.prototype.setSearchButtonHidden=function(){this.m_searchIcon.setEnabled(false);this.m_searchIcon.setVisible(false);this.m_searchField.setVisible(true);this.m_searchField.focus()};e.OuFetchUsersTeams=function(){};e.OuFetchUsersTeams.prototype=new e.XObjectExt;e.OuFetchUsersTeams.prototype._ff_c="OuFetchUsersTeams";e.OuFetchUsersTeams.create=function(t){let i=new e.OuFetchUsersTeams;i.m_localization=t;return i};e.OuFetchUsersTeams.prototype.m_localization=null;e.OuFetchUsersTeams.prototype.fetchUsersOrTeams=function(t,i,o,n,a,r){return e.XPromise.create((l,s)=>{if(e.notNull(t)&&t.isValid()){if(!t.isMetadataLoaded()){t.processFetchMetadata(e.SyncType.BLOCKING,null,null,e.XFileCachingType.AUTO)}let u=t.newFileQuery();u.setSearchValue(n);u.setOffset(i);u.setMaxItems(o);let m=e.XFileSortDef.create();if(e.notNull(a)){m.setDirection(a)}u.setSingleSortDef(m);if(e.notNull(r)){let t=u.newFilterElement(e.XFileAttributeDef.SPACE_ID);t.setValue(r);t.setType(e.XFileFilterType.EXACT);u.addCartesianFilter(t)}t.processFetchChildren(e.SyncType.NON_BLOCKING,e.XLambdaFileFetchChildrenListener.create((t,i)=>{if(e.notNull(t)&&!t.hasErrors()){l(t)}else{s(e.XError.create(this.m_localization.getText(e.OuShareDialogI18n.FETCH_MEMBER_ERROR)))}}),null,u)}else{s(e.XError.create(this.m_localization.getText(e.OuShareDialogI18n.FETCH_MEMBER_ERROR)))}})};e.OuFetchUsersTeams.prototype.getTeams=function(t,i,o,n,a,r){let l=t.getKernel().getKernelProcess().getEnvironment().resolvePath("sys/${ff_main_clib_sys}/sacusers/Teams/");let s=t.getRootDirectoryUri().getUrl();let u=e.XStringUtils.concatenate2(s,l);let m=e.XFile.createWithVars(t,u);return this.fetchUsersOrTeams(m,i,o,n,a,r)};e.OuFetchUsersTeams.prototype.getUsers=function(t,i,o,n,a,r){let l=t.getKernel().getKernelProcess().getEnvironment().resolvePath("sys/${ff_main_clib_sys}/sacusers/Users/");let s=t.getRootDirectoryUri().getUrl();let u=e.XStringUtils.concatenate2(s,l);let m=e.XFile.createWithVars(t,u);return this.fetchUsersOrTeams(m,i,o,n,a,r)};e.OuFetchUsersTeams.prototype.getUsersInTeam=function(t,i){return e.XPromise.create((o,n)=>{let a=i.getKernel().getKernelProcess().getEnvironment().resolvePath("sys/${ff_main_clib_sys}/sacusers/Teams/");let r=i.getRootDirectoryUri().getUrl();let l=e.XStringUtils.concatenate3(r,a,t);let s=e.XFile.createWithVars(i,l);if(s.isValid()){s.processFetchChildren(e.SyncType.NON_BLOCKING,e.XLambdaFileFetchChildrenListener.create((t,i)=>{if(e.notNull(t)&&!t.hasErrors()){o(t)}else{n(e.XError.create(this.m_localization.getText(e.OuShareDialogI18n.FETCH_MEMBER_ERROR)))}}),null,null)}else{n(e.XError.create(this.m_localization.getText(e.OuShareDialogI18n.FETCH_MEMBER_ERROR)))}})};e.OuFetchUsersTeams.prototype.releaseObject=function(){this.m_localization=null;e.XObjectExt.prototype.releaseObject.call(this)};e.VdBackendStateHandler=function(){};e.VdBackendStateHandler.prototype=new e.XObjectExt;e.VdBackendStateHandler.prototype._ff_c="VdBackendStateHandler";e.VdBackendStateHandler.createHandler=function(t){let i=new e.VdBackendStateHandler;i.setupExt(t);return i};e.VdBackendStateHandler.prototype.m_savedValues=null;e.VdBackendStateHandler.prototype.m_submitListener=null;e.VdBackendStateHandler.prototype.m_submitValues=null;e.VdBackendStateHandler.prototype.m_varProcessor=null;e.VdBackendStateHandler.prototype.m_variables=null;e.VdBackendStateHandler.prototype.activateVariant=function(t,i,o){let n=e.VariableProcessorCallbackLambda.createSingleUse(t=>{if(t.hasErrors()){i.onVariableProcessorExecuted(t,null,o);return}let n=e.VdImportExport.getValuesFromProcessor(this.m_varProcessor);this.m_savedValues=e.VdValue.cloneValueMap(n);i.onVariableProcessorExecuted(t,t.getData(),o)});let a=e.VariableProcessorCallbackLambda.createSingleUse(t=>{if(t.hasErrors()){i.onVariableProcessorExecuted(t,null,o);return}this.m_varProcessor.transferVariables(e.OlapUiValueHelpAbstract.s_syncType,n,null)});this.m_varProcessor.activateVariableVariant(t,e.OlapUiValueHelpAbstract.s_syncType,a,null)};e.VdBackendStateHandler.prototype.cancelReinitVariables=function(t,i,o){this.saveValues(t);if(!this.m_varProcessor.isCancelNeeded()){i.onVariableProcessorExecuted(e.ExtResult.createWithInfoMessage("ok"),null,o);return}this.m_varProcessor.cancelReInitVariables(e.OlapUiValueHelpAbstract.s_syncType,i,o)};e.VdBackendStateHandler.prototype.doCallbackWithProcessingError=function(t,i,o){let n=e.MessageManagerSimple.createMessageManager();n.setServerStatusCode(e.HttpStatusCode.SC_OK);n.addError(e.ErrorCodes.VARIABLE_PROCESSOR_ALREADY_PROCESSING,e.OuVariableDialogI18nLegacy.getProvider().getText(t));i.onVariableProcessorExecuted(e.ExtResult.create(null,n),null,o)};e.VdBackendStateHandler.prototype.getSubmitProcessor=function(){return this.m_varProcessor};e.VdBackendStateHandler.prototype.isTransferRequired=function(t,i){let o=i.getQueryManager();let n=e.notNull(o)?!o.isDirectVariableTransferEnabled():!this.m_varProcessor.isDirectVariableTransferEnabled();for(let o=0;o<this.m_variables.size();o++){let a=this.m_variables.get(o);if(a===i&&n){continue}let r=a.getName();if(!e.XListUtils.isListEquals(t.getByKey(r),this.m_savedValues.getByKey(r))){return true}}return false};e.VdBackendStateHandler.prototype.onVariableProcessorExecuted=function(e,t,i){this.submitVariables(this.m_submitValues,this.m_submitListener,i);this.m_submitValues=null;this.m_submitListener=null};e.VdBackendStateHandler.prototype.reinitVariables=function(t,i){if(this.m_varProcessor.getVariableProcessorState().isTypeOf(e.VariableProcessorState.PROCESSING)){this.doCallbackWithProcessingError(e.OuVariableDialogI18nLegacy.I18N_VD_ERR_QUERIES_IN_PROCESSING,t,i);return}if(!this.m_varProcessor.isReinitNeeded()){t.onVariableProcessorExecuted(e.ExtResult.createWithInfoMessage("ok"),null,i);return}this.m_varProcessor.reInitVariablesAfterSubmit(e.OlapUiValueHelpAbstract.s_syncType,t,i)};e.VdBackendStateHandler.prototype.releaseObject=function(){this.m_varProcessor=null;this.m_variables=null;this.m_submitValues=null;this.m_submitListener=null;this.m_savedValues=e.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_savedValues);e.XObjectExt.prototype.releaseObject.call(this)};e.VdBackendStateHandler.prototype.saveValues=function(t){for(let i=0;i<this.m_variables.size();i++){let o=this.m_variables.get(i);let n=o.getName();e.VdImportExport.setValuesToVariable(o,t.getByKey(n))}this.m_savedValues=e.VdValue.cloneValueMap(t)};e.VdBackendStateHandler.prototype.saveVariant=function(t,i,o,n){this.saveValues(t);this.m_varProcessor.updateVariableVariantValues(i,e.OlapUiValueHelpAbstract.s_syncType,o,n)};e.VdBackendStateHandler.prototype.setVariableValues=function(t){e.VdImportExport.setValuesToProcessor(this.m_varProcessor,t)};e.VdBackendStateHandler.prototype.setupExt=function(t){this.m_varProcessor=t;this.m_variables=this.m_varProcessor.getInputEnabledAndNonTechnicalVariables();this.m_savedValues=this.m_varProcessor.isDirectVariableTransferEnabled()||this.m_varProcessor.getVariableProcessorState().isTypeOf(e.VariableProcessorState.CHANGEABLE_REINIT)?e.VdImportExport.getValuesFromProcessor(this.m_varProcessor):e.XHashMapByString.create()};e.VdBackendStateHandler.prototype.submitVariables=function(t,i,o){if(this.m_varProcessor.getVariableProcessorState().isTypeOf(e.VariableProcessorState.PROCESSING)){this.doCallbackWithProcessingError(e.OuVariableDialogI18nLegacy.I18N_VD_ERR_VAR_SUBMIT_IN_PROCESSING,i,o)}else if(this.m_varProcessor.isReinitNeeded()){this.m_submitValues=t;this.m_submitListener=i;this.m_varProcessor.reInitVariablesAfterSubmit(e.OlapUiValueHelpAbstract.s_syncType,this,o)}else if(this.m_varProcessor.isSubmitNeeded()){this.saveValues(t);this.m_varProcessor.submitVariables(e.OlapUiValueHelpAbstract.s_syncType,i,o)}else{this.saveValues(t);i.onVariableProcessorExecuted(e.ExtResult.createWithInfoMessage("ok"),null,o)}};e.VdBackendStateHandler.prototype.transferVariables=function(t,i,o,n){let a=i.getQueryManager();if(e.notNull(a)){this.transferWithProcessor(a,t,i,o,n)}else{this.transferWithProcessor(this.m_varProcessor,t,i,o,n)}};e.VdBackendStateHandler.prototype.transferWithProcessor=function(t,i,o,n,a){if(this.isTransferRequired(i,o)){this.saveValues(i);if(!t.isDirectVariableTransferEnabled()){t.transferVariables(e.OlapUiValueHelpAbstract.s_syncType,n,a);return}}n.onVariableProcessorExecuted(e.ExtResult.createWithInfoMessage("ok"),null,a)};e.VdVariableDialog=function(){};e.VdVariableDialog.prototype=new e.XObject;e.VdVariableDialog.prototype._ff_c="VdVariableDialog";e.VdVariableDialog.CSS_DIALOG="ffVariableDialog";e.VdVariableDialog.CSS_DIALOG_CANCEL_BTN="VariableDialogCancelBtn";e.VdVariableDialog.CSS_DIALOG_SUBMIT_BTN="VariableDialogSubmitBtn";e.VdVariableDialog.CSS_DIALOG_WITH_GRID="ffVariableDialogWithGrid";e.VdVariableDialog.createAsDisplay=function(t,i,o){let n=new e.VdVariableDialog;n.setupVariableDialog(t,i,o);return n};e.VdVariableDialog.prototype.m_cancelBtn=null;e.VdVariableDialog.prototype.m_config=null;e.VdVariableDialog.prototype.m_display=null;e.VdVariableDialog.prototype.m_displayListener=null;e.VdVariableDialog.prototype.m_originalReinitListener=null;e.VdVariableDialog.prototype.m_originalRenderListener=null;e.VdVariableDialog.prototype.m_originalSubmitListener=null;e.VdVariableDialog.prototype.m_submitBtn=null;e.VdVariableDialog.prototype.m_variableForm=null;e.VdVariableDialog.prototype.attemptSubmit=function(){this.m_variableForm.attemptSubmit()};e.VdVariableDialog.prototype.attemptSubmitWithCancelReinitFallback=function(){this.m_variableForm.attemptSubmitWithCancelReinitFallback()};e.VdVariableDialog.prototype.callOnCancel=function(){if(e.notNull(this.m_displayListener)){this.m_displayListener.onCancel()}};e.VdVariableDialog.prototype.callOnOk=function(){if(e.notNull(this.m_displayListener)){this.m_displayListener.onOk()}};e.VdVariableDialog.prototype.cancelReinit=function(){this.m_variableForm.cancelReinit()};e.VdVariableDialog.prototype.close=function(){if(this.m_display.isOpen()){this.m_display.close()}};e.VdVariableDialog.prototype.closeDialogCancel=function(){if(e.notNull(this.m_display)&&this.m_display.isOpen()){this.m_display.close()}this.callOnCancel()};e.VdVariableDialog.prototype.closeDialogOk=function(){if(e.notNull(this.m_display)&&this.m_display.isOpen()){this.m_display.close()}this.callOnOk()};e.VdVariableDialog.prototype.getCleanedValues=function(){return this.m_variableForm.getCleanedValues()};e.VdVariableDialog.prototype.getContext=function(){return this.m_variableForm.getContext()};e.VdVariableDialog.prototype.getControllers=function(){return this.m_variableForm.getControllers()};e.VdVariableDialog.prototype.getCurrentValues=function(){return this.m_variableForm.getCurrentValues()};e.VdVariableDialog.prototype.getInternalStateHandler=function(){return this.m_variableForm.getInternalStateHandler()};e.VdVariableDialog.prototype.getModel=function(){return this.m_variableForm.getModel()};e.VdVariableDialog.prototype.getNumberOfMandatoryVariables=function(){return this.m_variableForm.getNumberOfMandatoryVariables()};e.VdVariableDialog.prototype.getStateHandler=function(){return this.m_variableForm.getStateHandler()};e.VdVariableDialog.prototype.getVariableProcessor=function(){return this.m_variableForm.getVariableProcessor()};e.VdVariableDialog.prototype.getView=function(){return this.m_variableForm.getView()};e.VdVariableDialog.prototype.hasDynamicVariables=function(){return this.m_variableForm.hasDynamicVariables()};e.VdVariableDialog.prototype.hasExitVariables=function(){return this.m_variableForm.hasExitVariables()};e.VdVariableDialog.prototype.hasVariables=function(){return this.m_variableForm.hasVariables()};e.VdVariableDialog.prototype.isEmbedded=function(){return this.m_variableForm.isEmbedded()};e.VdVariableDialog.prototype.isInputEnabled=function(){return this.m_variableForm.isInputEnabled()};e.VdVariableDialog.prototype.isOpen=function(){return this.m_display.isOpen()};e.VdVariableDialog.prototype.needShowMandatoryVarsOnlyCb=function(){return this.m_variableForm.needShowMandatoryVarsOnlyCb()};e.VdVariableDialog.prototype.onAfterOpen=function(t){let i=e.UiGenesis.create(this.m_display);this.m_variableForm.buildOlapDialogUi(i)};e.VdVariableDialog.prototype.onAfterSubmit=function(t,i,o,n){this.m_submitBtn.setEnabled(true);if(e.notNull(this.m_originalSubmitListener)){this.m_originalSubmitListener.onAfterSubmit(t,i,o,n)}if(t){this.closeDialogOk()}};e.VdVariableDialog.prototype.onAfterVariantActivation=function(){this.setSubmitButtonEnabled(true)};e.VdVariableDialog.prototype.onBeforeClose=function(e){this.cancelReinit()};e.VdVariableDialog.prototype.onBeforeSubmit=function(t,i){this.m_submitBtn.setEnabled(false);if(e.notNull(this.m_originalSubmitListener)){this.m_originalSubmitListener.onBeforeSubmit(t,i)}};e.VdVariableDialog.prototype.onBeforeVariantActivation=function(){this.setSubmitButtonEnabled(false)};e.VdVariableDialog.prototype.onCancelReinit=function(){this.closeDialogCancel();if(e.notNull(this.m_originalReinitListener)){this.m_originalReinitListener.onCancelReinit()}};e.VdVariableDialog.prototype.onReinit=function(t,i){if(!t){this.m_display.close()}if(e.notNull(this.m_originalReinitListener)){this.m_originalReinitListener.onReinit(t,i)}};e.VdVariableDialog.prototype.onRenderDone=function(t){if(!this.m_config.isGridLayoutEnabled()){this.m_display.setHeight(e.UiCssLength.AUTO)}this.m_submitBtn=this.m_display.newDialogButton();this.m_submitBtn.setButtonType(e.UiButtonType.PRIMARY);this.m_submitBtn.setText(e.OuVariableDialogI18nLegacy.getProvider().getText(e.OuVariableDialogI18nLegacy.I18N_VD_SET));this.m_submitBtn.setName(e.VdVariableDialog.CSS_DIALOG_SUBMIT_BTN);this.m_submitBtn.registerOnPress(e.UiLambdaPressListener.create(e=>{this.attemptSubmit()}));this.m_submitBtn.focus();this.m_display.insertDialogButton(this.m_submitBtn,0);if(e.notNull(this.m_originalRenderListener)){this.m_originalRenderListener.onRenderDone(t)}};e.VdVariableDialog.prototype.open=function(){let t=this.m_variableForm.getModel();let i=t.getVariableProcessor().getVariableProcessorState();if(this.m_config.isAutoSubmitOnStartup()&&i===e.VariableProcessorState.CHANGEABLE_STARTUP&&t.validateValues()){this.m_variableForm.submitInternal()}else{this.m_display.setNewContent(e.UiType.ACTIVITY_INDICATOR).useMaxSpace();this.m_display.open()}};e.VdVariableDialog.prototype.performStoryFilterOptimizationWorkflow=function(e){this.m_variableForm.performStoryFilterOptimizationWorkflow(e)};e.VdVariableDialog.prototype.performStoryFilterOptimizationWorkflowWithCallback=function(e,t){this.m_variableForm.performStoryFilterOptimizationWorkflowWithCallback(e,t)};e.VdVariableDialog.prototype.performValueHelpWithDialog=function(e,t,i,o){this.m_variableForm.performValueHelpWithDialog(e,t,i,o)};e.VdVariableDialog.prototype.registerReinitListener=function(e){this.m_originalReinitListener=e};e.VdVariableDialog.prototype.registerRenderListener=function(e){this.m_originalRenderListener=e};e.VdVariableDialog.prototype.registerSubmitListener=function(e){this.m_originalSubmitListener=e};e.VdVariableDialog.prototype.releaseObject=function(){this.m_submitBtn=e.XObjectExt.release(this.m_submitBtn);this.m_cancelBtn=e.XObjectExt.release(this.m_cancelBtn);this.m_display=e.XObjectExt.release(this.m_display);this.m_variableForm=e.XObjectExt.release(this.m_variableForm);this.m_displayListener=null;e.XObject.prototype.releaseObject.call(this)};e.VdVariableDialog.prototype.resetValues=function(){this.m_variableForm.resetValues()};e.VdVariableDialog.prototype.setExternalStateHandler=function(e){this.m_variableForm.setExternalStateHandler(e)};e.VdVariableDialog.prototype.setInitialFocus=function(){this.m_submitBtn.focus()};e.VdVariableDialog.prototype.setInputEnabled=function(e){this.m_variableForm.setInputEnabled(e)};e.VdVariableDialog.prototype.setSubmitButtonEnabled=function(e){this.m_submitBtn.setEnabled(e)};e.VdVariableDialog.prototype.setValueHelpProcessorProvider=function(e){this.m_variableForm.setValueHelpProcessorProvider(e)};e.VdVariableDialog.prototype.setValueJson=function(e){this.m_variableForm.setValueJson(e)};e.VdVariableDialog.prototype.setValueNativeJson=function(e){this.m_variableForm.setValueNativeJson(e)};e.VdVariableDialog.prototype.setValues=function(e){this.m_variableForm.setValues(e)};e.VdVariableDialog.prototype.setValuesFromProcessor=function(){this.m_variableForm.setValuesFromProcessor()};e.VdVariableDialog.prototype.setVariantsSectionVisible=function(e){this.m_variableForm.setVariantsSectionVisible(e)};e.VdVariableDialog.prototype.setupVariableDialog=function(t,i,o){this.m_config=i;this.m_displayListener=o;this.m_variableForm=e.VdVariableForm._createForDialog(t,i);this.m_variableForm.registerReinitListener(this);this.m_variableForm.registerRenderListener(this);this.m_variableForm.registerSubmitListener(this);this.m_variableForm.registerVariantActivationListener(this);this.m_variableForm.setOnInvalidValues(()=>{this.m_display.shake();if(this.m_config.isMultiInputComponentEnabled()){let t=this.getModel().getFirstInvalidValue();if(e.notNull(t)){t.callOnInvalidValueState()}}});this.m_display=t.getUiManager().getFreeGenesis().newControl(e.UiType.DIALOG);this.m_display.addCssClass(e.VdVariableDialog.CSS_DIALOG);if(this.m_config.isGridLayoutEnabled()){this.m_display.addCssClass(e.VdVariableDialog.CSS_DIALOG_WITH_GRID)}this.m_display.setName("VariableDialog");this.m_display.setTitle(this.m_config.getTitle());this.m_display.setResizable(true);this.m_display.setNewContent(e.UiType.ACTIVITY_INDICATOR).useMaxSpace();this.m_display.registerOnAfterOpen(this);this.m_display.registerOnBeforeClose(this);this.m_submitBtn=e.UiContextDummy.getSingleton();this.m_cancelBtn=this.m_display.addNewDialogButton();this.m_cancelBtn.setText(e.OuVariableDialogI18nLegacy.getProvider().getText(e.OuVariableDialogI18nLegacy.I18N_CANCEL));this.m_cancelBtn.setName(e.VdVariableDialog.CSS_DIALOG_CANCEL_BTN);this.m_cancelBtn.registerOnPress(e.UiLambdaPressListener.create(e=>{this.cancelReinit()}));if(!i.isGridLayoutEnabled()){this.m_display.setHeight(e.UiCssLength.createExt(50,e.UiCssSizeUnit.PERCENT));this.m_display.setWidth(e.UiCssLength.createExt(e.VdConstants.BASIC_DIALOG_WIDTH,e.UiCssSizeUnit.PIXEL))}else{this.m_cancelBtn.setButtonType(e.UiButtonType.TRANSPARENT)}};e.VdVariableDialog.prototype.showMandatoryVarsOnly=function(e){this.m_variableForm.showMandatoryVarsOnly(e)};e.VdVariableDialog.prototype.showVariableTechnicalNames=function(e){this.m_variableForm.showVariableTechnicalNames(e)};e.VdVariableDialog.prototype.supportsStoryFilterOptimization=function(e){return this.m_variableForm.supportsStoryFilterOptimization(e)};e.VdVariableDialog.prototype.updateDynamicVariables=function(){this.m_variableForm.updateDynamicVariables()};e.VdVariableForm=function(){};e.VdVariableForm.prototype=new e.XObject;e.VdVariableForm.prototype._ff_c="VdVariableForm";e.VdVariableForm.ACTIVATE_VARIANT_IDENTIFIER="activate_variant";e.VdVariableForm.CANCEL_SUBMIT_IDENTIFIER="cancel_submit";e.VdVariableForm.COMPONENT_NAME="VariableDialog";e.VdVariableForm.SAVE_VARIANT_IDENTIFIER="save_variant";e.VdVariableForm.SUBMIT_IDENTIFIER="submit";e.VdVariableForm._createForDialog=function(t,i){let o=new e.VdVariableForm;o.setupController(t,i);return o};e.VdVariableForm.areKeysDifferent=function(t,i,o,n){if(t.size()!==i.size()){return true}for(let a=0;a<t.size();a++){let r=t.get(a);let l=i.get(a);let s=r.getOperator();if(s!==l.getOperator()){return true}if(s.getNumberOfParameters()<=0){continue}if(e.VdVariableForm.areKeysDifferent2(r.getFirstOperand(),l.getFirstOperand(),o,n)){return true}if(s.getNumberOfParameters()>=2&&e.VdVariableForm.areKeysDifferent2(r.getSecondOperand(),l.getSecondOperand(),o,n)){return true}}return false};e.VdVariableForm.areKeysDifferent2=function(t,i,o,n){let a=t.getKey();let r=o?i.getDisplayKey():i.getKey();if(n&&e.XObjectExt.areEqual(e.XDate.createDateSafe(a),e.XDate.createDateSafe(r))){return false}return!e.XString.isEqual(a,r)};e.VdVariableForm.createAsToken=function(t,i){let o=new e.VdVariableForm;o.setupController(t,i);o.m_embedded=true;return o};e.VdVariableForm.getVariantNameForMenu=function(t){let i=t.getScope()===e.Scope.USER?"User":"Global";return e.XStringUtils.concatenate3(i,":",t.getName())};e.VdVariableForm.supportsStoryFilterOptimizationForDesktop=function(t){if(!t.supportsValueHelp()||t.getValueType().isDateBased()||t.isInterval()){return false}return!t.getVariableType().isTypeOf(e.VariableType.OPTION_LIST_VARIABLE)&&!t.getVariableType().isTypeOf(e.VariableType.SIMPLE_TYPE_VARIABLE)};e.VdVariableForm.prototype.allVariablesAreMandatory=false;e.VdVariableForm.prototype.m_backendStateHandler=null;e.VdVariableForm.prototype.m_config=null;e.VdVariableForm.prototype.m_context=null;e.VdVariableForm.prototype.m_embedded=false;e.VdVariableForm.prototype.m_externalStateHandler=null;e.VdVariableForm.prototype.m_externalValueHelpProvider=null;e.VdVariableForm.prototype.m_genesis=null;e.VdVariableForm.prototype.m_inputEnabled=false;e.VdVariableForm.prototype.m_isClosing=false;e.VdVariableForm.prototype.m_maintainsVariants=false;e.VdVariableForm.prototype.m_model=null;e.VdVariableForm.prototype.m_numberOfMandatoryVariables=0;e.VdVariableForm.prototype.m_onInvalidValues=null;e.VdVariableForm.prototype.m_preparingSubmit=false;e.VdVariableForm.prototype.m_preparingTransfer=false;e.VdVariableForm.prototype.m_reinitListener=null;e.VdVariableForm.prototype.m_renderListener=null;e.VdVariableForm.prototype.m_startValues=null;e.VdVariableForm.prototype.m_submitListener=null;e.VdVariableForm.prototype.m_transferCallback=null;e.VdVariableForm.prototype.m_transferModel=null;e.VdVariableForm.prototype.m_valuesDisplayDd=null;e.VdVariableForm.prototype.m_variableController=null;e.VdVariableForm.prototype.m_variantActivationListener=null;e.VdVariableForm.prototype.m_variantMenu=null;e.VdVariableForm.prototype.m_variantMenuBtn=null;e.VdVariableForm.prototype.m_variantMenuManageBtn=null;e.VdVariableForm.prototype.m_variantMenuOverwriteBtn=null;e.VdVariableForm.prototype.m_variantMenuSaveBtn=null;e.VdVariableForm.prototype.m_view=null;e.VdVariableForm.prototype.attemptSubmit=function(){this.setBusy(true);this.m_preparingSubmit=true;for(let e=0;e<this.m_variableController.size();e++){if(!this.m_variableController.get(e).wrapUpState()){return}}if(this.m_model.validateValues()){this.m_isClosing=true;if(this.m_config.isFunctionalValuesEnabled()){this.m_model.resolveAndSaveValues(this,null)}else{this.submitInternal()}}else{this.setBusy(false);if(e.notNull(this.m_onInvalidValues)){this.m_onInvalidValues()}}this.m_preparingSubmit=false};e.VdVariableForm.prototype.attemptSubmitWithCancelReinitFallback=function(){this.attemptSubmit();if(this.m_isClosing){return}this.cancelReinit()};e.VdVariableForm.prototype.buildOlapDialogUi=function(t){this.m_genesis=t;this.setBusy(true);e.VdStartupAction.createAndRun(this,this.m_startValues,e=>{this.setBusy(false);this.m_model.checkVariablesInSync();this.setStartValues(e);this.render()},e=>{this.postServerError(e);this.callOnReinit(false,e)})};e.VdVariableForm.prototype.callOnAfterSubmit=function(t,i){let o=this.m_model.getCleanedValues();this.syncValues(o,true,true);if(e.isNull(this.m_submitListener)){return}let n=this.m_config.getValueJsonFormat();let a=e.notNull(n)?n.getParser().serialize(this.getVariableProcessor(),o):null;this.m_submitListener.onAfterSubmit(t,i,o,a)};e.VdVariableForm.prototype.callOnAfterVariantActivation=function(){this.m_variantActivationListener.onAfterVariantActivation()};e.VdVariableForm.prototype.callOnBeforeSubmit=function(){if(e.isNull(this.m_submitListener)){return}let t=this.m_model.getCleanedValues();let i=this.m_config.getValueJsonFormat();let o=e.notNull(i)?i.getParser().serialize(this.getVariableProcessor(),t):null;this.m_submitListener.onBeforeSubmit(t,o)};e.VdVariableForm.prototype.callOnBeforeVariantActivation=function(){this.m_variantActivationListener.onBeforeVariantActivation()};e.VdVariableForm.prototype.callOnCancelReinit=function(){if(e.notNull(this.m_reinitListener)){this.m_reinitListener.onCancelReinit()}};e.VdVariableForm.prototype.callOnReinit=function(t,i){if(e.notNull(this.m_reinitListener)){this.m_reinitListener.onReinit(t,i)}};e.VdVariableForm.prototype.callOnRenderDone=function(){if(e.notNull(this.m_renderListener)){this.m_renderListener.onRenderDone(this.m_view.getRoot())}};e.VdVariableForm.prototype.cancelReinit=function(){if(!this.m_isClosing&&this.isVisible()){this.m_isClosing=true;this.getStateHandler().cancelReinitVariables(this.m_model.getStartValues(),this,e.XStringValue.create(e.VdVariableForm.CANCEL_SUBMIT_IDENTIFIER))}};e.VdVariableForm.prototype.clearVariantIcons=function(){e.XCollectionUtils.forEach(this.getAllVariantItemsWithIcon(),e=>{e.setIcon(null)})};e.VdVariableForm.prototype.configureNewSettingsSection=function(){if(!this.hasVariables()||!this.m_config.isNewSettingsEnabled()){this.getView().getNewSettingsSection().setVisible(false);return}let t=this.getView().getMandatoryVarsOnlyCb();if(this.needShowMandatoryVarsOnlyCb()){let i=e.XStringUtils.concatenate4(t.getText()," (",e.XInteger.convertToString(this.getNumberOfMandatoryVariables()),")");t.setText(i);t.registerOnChange(e.UiLambdaChangeListener.create(e=>{this.showMandatoryVarsOnly(t.isChecked())}))}else{t.setVisible(false)}let i=this.getView().getShowVarTechNamesCb();i.registerOnChange(e.UiLambdaChangeListener.create(e=>{this.showVariableTechnicalNames(i.isChecked())}));this.m_valuesDisplayDd=this.getView().getValuesDisplayDd();this.m_valuesDisplayDd.registerOnSelect(this)};e.VdVariableForm.prototype.configureToolbar=function(){this.configureVariantSection();this.m_view.getSettingsButton().registerOnPress(this)};e.VdVariableForm.prototype.configureVariantSection=function(){let t=e.XCollectionUtils.hasElements(this.m_model.getVariants());this.m_variantMenuBtn=e.UiContextDummy.getSingleton();this.m_variantMenu=e.UiContextDummy.getSingleton();this.m_variantMenuOverwriteBtn=e.UiContextDummy.getSingleton();this.m_variantMenuSaveBtn=e.UiContextDummy.getSingleton();this.m_variantMenuManageBtn=e.UiContextDummy.getSingleton();let i=this.getVariableProcessor();this.m_maintainsVariants=this.m_config.isVariantManagementEnabled()&&i.supportsMaintainsVariableVariants()&&i.getSession().hasFeature(e.FeatureToggleOlap.MAINTAIN_VARIABLE_VARIANTS);if(!this.m_model.hasVariables()||!t&&!this.m_maintainsVariants){this.setVariantsSectionVisible(false);return}this.m_variantMenuBtn=this.m_view.getVariantMenuBtn();this.m_variantMenuBtn.setEnabled(this.m_inputEnabled);this.m_variantMenuBtn.registerOnPress(this);this.m_variantMenu=this.m_view.getVariantMenu();if(this.m_maintainsVariants){this.setVariantActions()}this.updateVariantSection(null)};e.VdVariableForm.prototype.createVariableControllers=function(){let t=this.m_config.getVariablesToDisplay();let i=e.XCollectionUtils.hasElements(t);let o=this.m_model.getVariableModels();for(let n=0;n<o.size();n++){let a=o.get(n);let r=a.getName();if(i&&!t.contains(r)){continue}let l=this.m_view.addVariable(r,a.supportsMultipleValues());let s=e.VdVariableController.createVariableController(this.m_context,this.m_config,this,a,l);if(a.getVariable().isMandatory()){this.m_numberOfMandatoryVariables++}else{this.allVariablesAreMandatory=false}this.m_variableController.add(s)}};e.VdVariableForm.prototype.enhanceWithDisplayKeys=function(){let t=this.getCurrentValues().getKeysAsReadOnlyList();for(let i=0;i<t.size();i++){let o=t.get(i);let n=this.getStateHandler().getSubmitProcessor().getVariable(o);if(this.isDisplayKeyRelevant(n)){let t=e.VdImportExport.getValuesFromVariable(n);let i=this.getCurrentValues().getByKey(n.getName());e.XStream.of(i).forEach(i=>{let o=i.getFirstOperand();if(e.notNull(o)&&!o.hasDisplayKey()){let n=e.XStream.of(t).find(e=>o.compareTo(e.getFirstOperand())===0).orElse(null);if(e.notNull(n)){i.setFirstOperand(e.FdSimpleItem.create(o.getKey(),n.getFirstOperand().getDisplayKey(),o.getText()))}}let n=i.getSecondOperand();if(e.notNull(n)&&!n.hasDisplayKey()){let o=e.XStream.of(t).find(e=>n.compareTo(e.getSecondOperand())===0).orElse(null);if(e.notNull(o)){i.setSecondOperand(e.FdSimpleItem.create(n.getKey(),o.getSecondOperand().getDisplayKey(),n.getText()))}}})}}};e.VdVariableForm.prototype.executeValueSearch=function(t,i,o,n){let a=t.getVariable();let r=null;if(e.notNull(this.m_externalValueHelpProvider)){r=this.m_externalValueHelpProvider.getValueHelpProcessorForVariable(a.getName())}if(e.isNull(r)){r=e.OlapUiValueHelpVariable.create(a)}let l=e.XCollectionUtils.singletonList(a.getDimension().getSelectorDisplayKeyField());r.processSearch(i,l,null,10,false,e.OlapUiReadMode.MASTER,o,n)};e.VdVariableForm.prototype.executeVariableHelpWithDialog=function(t,i,o,n){let a=t.getVariable();let r=e.XStringUtils.isNotNullAndNotEmpty(a.getText())?a.getText():a.getName();let l=e.OuVariableDialogI18nLegacy.getProvider().getTextWithPlaceholder(e.OuVariableDialogI18nLegacy.I18N_VD_SELECT_MEMBER_FOR,r);let s=e.XList.create();e.XCollectionUtils.addAll(s,i);let u=this.m_config.getDimensionDisplayInfo(a.getDimension().getName());let m=e.FilterDialogProgramRunnerFactory.createForVariable(this.getVariableProcessor().getProcess(),null,a,l);let p=e.PrFactory.createStructure();p.putString(e.FilterDialog.PARAM_SELECTION_MODE,o.getName());p.putBoolean(e.FilterDialog.PARAM_RESIZABLE,false);p.putBoolean(e.FilterDialog.PARAM_OFFER_READMODE_CHANGE,true);p.putBoolean(e.FilterDialog.PARAM_OFFER_FUNCTIONAL_VALUES_VIEW,this.m_config.isFunctionalValuesEnabled());if(e.notNull(u)){p.putString(e.FilterDialog.PARAM_DISPLAY_INFO,u.getName())}m.setConfigStructure(p);if(e.notNull(this.m_externalValueHelpProvider)){m.getProgramStartData().putXObject(e.FilterDialog.PRG_DATA_EXTERNAL_VALUEHELP_PROCESS,this.m_externalValueHelpProvider.getValueHelpProcessorForVariable(t.getName()))}m.getProgramStartData().putXObject(e.FilterDialog.PRG_DATA_DEFAULT_SELECTION,s);m.getProgramStartData().putXObject(e.FilterDialog.PRG_DATA_LISTENER_CLOSE,n);m.runProgram()};e.VdVariableForm.prototype.getAllVariantItemsWithIcon=function(){return e.XCollectionUtils.filter(this.m_variantMenu.getItems(),t=>{let i=t.getIcon()!==null;return i&&e.XString.isEqual(t.getIcon(),"accept")})};e.VdVariableForm.prototype.getCleanedValues=function(){return this.m_model.getCleanedValues()};e.VdVariableForm.prototype.getContext=function(){return this.m_context};e.VdVariableForm.prototype.getControllers=function(){return this.m_variableController};e.VdVariableForm.prototype.getCurrentValues=function(){return this.m_model.getCurrentValues()};e.VdVariableForm.prototype.getInternalStateHandler=function(){return this.m_backendStateHandler};e.VdVariableForm.prototype.getModel=function(){return this.m_model};e.VdVariableForm.prototype.getNumberOfMandatoryVariables=function(){return this.m_numberOfMandatoryVariables};e.VdVariableForm.prototype.getSelectedVariant=function(){return this.getAllVariantItemsWithIcon().get(0).getCustomObject()};e.VdVariableForm.prototype.getStateHandler=function(){if(e.notNull(this.m_externalStateHandler)){return this.m_externalStateHandler}return this.m_backendStateHandler};e.VdVariableForm.prototype.getVariableProcessor=function(){return this.m_model.getVariableProcessor()};e.VdVariableForm.prototype.getView=function(){return this.m_view};e.VdVariableForm.prototype.hasDynamicVariables=function(){return this.m_model.hasDynamicVariables()};e.VdVariableForm.prototype.hasExitVariables=function(){return this.m_model.hasExitVariables()};e.VdVariableForm.prototype.hasVariables=function(){return this.m_model.hasVariables()};e.VdVariableForm.prototype.isDisplayKeyRelevant=function(t){return e.notNull(t)&&t.getVariableType().isTypeOf(e.VariableType.DIMENSION_MEMBER_VARIABLE)&&t.getValueType()!==e.XValueType.DATE&&t.getDimension().getDisplayKeyField()!==null};e.VdVariableForm.prototype.isEmbedded=function(){return this.m_embedded};e.VdVariableForm.prototype.isInputEnabled=function(){return this.m_inputEnabled};e.VdVariableForm.prototype.isMissingDisplayKey=function(){let t=this.getStateHandler().getSubmitProcessor().getVariables();for(let i=0;i<t.size();i++){let o=t.get(i);if(this.isDisplayKeyRelevant(o)){let t=this.getCurrentValues().getByKey(o.getName());for(let i=0;e.notNull(t)&&i<t.size();i++){let e=t.get(i);if(!e.getFirstOperand().hasDisplayKey()){return true}}}}return false};e.VdVariableForm.prototype.isSyncCandidate=function(t,i){if(this.getVariableProcessor().getVariable(t.getName())===null){return false}if(i&&t.isEnforcedDynamicValue()){return true}if(!t.getVariableType().isTypeOf(e.VariableType.DIMENSION_MEMBER_VARIABLE)){return false}let o=t;return!o.supportsValueHelp()||!o.getDimension().getHasCheckTable()};e.VdVariableForm.prototype.isVariableUpdateRequired=function(){if(e.XStringUtils.containsString(this.m_valuesDisplayDd.getSelectedItem().getName(),"ID",false)&&this.isMissingDisplayKey()){let t=this.getStateHandler().getSubmitProcessor();if(e.notNull(t)&&!t.isDirectVariableTransferEnabled()){return true}}return false};e.VdVariableForm.prototype.isVisible=function(){return true};e.VdVariableForm.prototype.needShowMandatoryVarsOnlyCb=function(){return this.m_numberOfMandatoryVariables!==0&&this.allVariablesAreMandatory===false};e.VdVariableForm.prototype.notifyStateChange=function(e){if(this.m_preparingSubmit){this.attemptSubmit()}else if(this.m_preparingTransfer){this.prepareValuehelp(this.m_transferModel,this.m_transferCallback)}};e.VdVariableForm.prototype.onPress=function(t){let i=t.getControl();let o=i.getParent();if(o===this.m_variantMenu){let t=this.m_variantMenu.getItemByName(i.getName()).getCustomObject();if(i===this.m_variantMenuOverwriteBtn){this.openOverwriteConfirmation(this.getSelectedVariant())}else if(i===this.m_variantMenuSaveBtn){e.VdImportExport.setValuesToProcessor(this.getVariableProcessor(),this.m_model.getCleanedValues());this.m_context.getVariantController().presentVariantSavePopup(this.getVariableProcessor(),t=>{if(e.notNull(t)){this.updateVariantSection(t);this.clearVariantIcons();this.m_variantMenu.getItemByName(e.VdVariableForm.getVariantNameForMenu(t)).setIcon("accept")}this.m_variantMenuBtn.focus()})}else if(i===this.m_variantMenuManageBtn){this.m_context.getVariantController().presentVariantsManagePopup(this.getVariableProcessor(),()=>{this.updateVariantSection(null);this.m_variantMenuBtn.focus()})}else{this.clearVariantIcons();this.m_variantMenu.getItemByName(i.getName()).setIcon("accept");if(e.isNull(t)){this.m_variantMenuBtn.setText(i.getText());this.m_variantMenuOverwriteBtn.setEnabled(false);this.resetValues();return}this.m_variantMenuBtn.setText(t.getText());this.m_variantMenuOverwriteBtn.setEnabled(true);this.callOnBeforeVariantActivation();this.getStateHandler().activateVariant(t,this,e.XStringValue.create(e.VdVariableForm.ACTIVATE_VARIANT_IDENTIFIER))}}else if(i===this.m_view.getSettingsButton()){this.openSettingsPopover()}};e.VdVariableForm.prototype.onSelect=function(e){if(e.getControl()===this.m_valuesDisplayDd){let e=this.m_valuesDisplayDd.getSelectedItem();this.setLabelMode(e.getName());this.updateOnDisplayChange()}};e.VdVariableForm.prototype.onValuesResolvedAndSave=function(e){this.submitInternal()};e.VdVariableForm.prototype.onVariableModelsChanged=function(){if(e.isNull(this.m_view)){return}this.m_view.clearVariables();this.m_variableController.clear();this.createVariableControllers()};e.VdVariableForm.prototype.onVariableProcessorExecuted=function(t,i,o){this.setBusy(false);let n=o.toString();if(t.hasErrors()||t.hasSeverity(e.Severity.SEMANTICAL_ERROR)){this.postServerError(t);switch(n){case e.VdVariableForm.CANCEL_SUBMIT_IDENTIFIER:this.m_isClosing=false;break;case e.VdVariableForm.SUBMIT_IDENTIFIER:this.m_isClosing=false;this.callOnAfterSubmit(false,t);break;case e.VdVariableForm.ACTIVATE_VARIANT_IDENTIFIER:this.callOnAfterVariantActivation();break}return}switch(n){case e.VdVariableForm.SUBMIT_IDENTIFIER:if(!t.hasSeverity(e.Severity.SEMANTICAL_ERROR)){this.callOnAfterSubmit(true,t)}else{this.callOnAfterSubmit(false,t);this.postServerError(t)}break;case e.VdVariableForm.CANCEL_SUBMIT_IDENTIFIER:this.callOnCancelReinit();break;case e.VdVariableForm.ACTIVATE_VARIANT_IDENTIFIER:this.m_model.setValuesFromProcessor();this.callOnAfterVariantActivation();break;case e.VdVariableForm.SAVE_VARIANT_IDENTIFIER:let i=e.OuVariableDialogI18nLegacy.getProvider().getText(e.OuVariableDialogI18nLegacy.I18N_VARIANT_SAVE_SUCCESS);this.m_context.getMessageCenter().postMessage(e.UiMessageType.SUCCESS,i,e.VdVariableForm.COMPONENT_NAME);this.m_variantMenu.close();break}e.XObjectExt.release(o)};e.VdVariableForm.prototype.openOverwriteConfirmation=function(t){let i=e.OuVariableDialogI18nLegacy.getProvider();let o=i.getText(e.OuVariableDialogI18nLegacy.I18N_VARIANT_WARNING);let n=t.getText();let a=i.getText(t.getScope()===e.Scope.USER?e.OuVariableDialogI18nLegacy.I18N_VARIANT_PERSONAL:e.OuVariableDialogI18nLegacy.I18N_VARIANT_GLOBAL);let r=i.getTextWithPlaceholder2(e.OuVariableDialogI18nLegacy.I18N_VARIANT_OVERWRITE_CONFIRMATION,a,n);let l=e.UtConfirmPopup.create(this.m_genesis,o,r);l.setConfirmButtonIcon(null);l.setConfirmButtonText(i.getText(e.OuVariableDialogI18nLegacy.I18N_VARIANT_POPUP_SAVE));l.setCancelButtonIcon(null);l.setCancelButtonText(i.getText(e.OuVariableDialogI18nLegacy.I18N_VARIANT_POPUP_CANCEL));l.setCloseProcedure(()=>{this.m_variantMenuBtn.focus()});l.setConfirmProcedure(()=>{this.getStateHandler().saveVariant(this.m_model.getCleanedValues(),t,this,e.XStringValue.create(e.VdVariableForm.SAVE_VARIANT_IDENTIFIER));this.m_variantMenuBtn.focus()});l.open()};e.VdVariableForm.prototype.openSettingsPopover=function(){this.m_view.getSettingsPopover().openAt(this.m_view.getSettingsButton())};e.VdVariableForm.prototype.performMobileValueHelpWithDialog=function(t,i,o,n){this.setBusy(true);this.prepareValuehelp(t,e.VariableProcessorCallbackLambda.createSingleUse(a=>{this.setBusy(false);if(a.hasErrors()||a.hasSeverity(e.Severity.SEMANTICAL_ERROR)){this.postServerError(a);n.onFilterDialogCancel();return}let r=e.VdVhMobileController.createForVariableModel(t,this,n,this.m_config);if(r.mobileValueHelpViewAvailable()){r.performMobileValueHelp()}else{this.executeVariableHelpWithDialog(t,i,o,n)}}))};e.VdVariableForm.prototype.performStoryFilterOptimizationWorkflow=function(e){this.performStoryFilterOptimizationWorkflowWithCallback(e,null)};e.VdVariableForm.prototype.performStoryFilterOptimizationWorkflowWithCallback=function(t,i){if(!this.supportsStoryFilterOptimization(t)){if(e.notNull(i)){i.onCancel()}return}e.VdStartupAction.createAndRun(this,this.m_startValues,o=>{this.m_genesis=e.UiGenesis.create(e.UiContextDummy.getSingleton());this.m_model.checkVariablesInSync();this.setStartValues(o);this.render();let n=this.m_variableController.getByKey(t);let a=e.FilterDialogLambdaCloseListener.create(t=>{if(e.notNull(t)){n.handleMultipleFilterDialogValues(t)}this.attemptSubmit();if(e.notNull(i)){i.onOk()}},()=>{this.cancelReinit();if(e.notNull(i)){i.onCancel()}});if(this.m_context.getUiManager().getDeviceInfo().isMobile()){let t=n.getVariable().supportsMultipleValues()?e.UiTableSelectionMode.MULTI_TOGGLE:e.UiTableSelectionMode.SINGLE;this.performMobileValueHelpWithDialog(n.getModel(),n.getFirstValues(),t,a)}else{let t=n.getVariable().supportsMultipleValues()?e.UiTableSelectionMode.MULTI_TOGGLE:e.UiTableSelectionMode.SINGLE;this.performValueHelpWithDialog(n.getModel(),n.getFirstValues(),t,a)}},t=>{if(e.notNull(i)){i.onCancel()}this.callOnReinit(false,t)})};e.VdVariableForm.prototype.performValueHelpWithDialog=function(t,i,o,n){this.setBusy(true);this.prepareValuehelp(t,e.VariableProcessorCallbackLambda.createSingleUse(a=>{this.setBusy(false);if(a.hasErrors()||a.hasSeverity(e.Severity.SEMANTICAL_ERROR)){this.postServerError(a);n.onFilterDialogCancel();return}this.executeVariableHelpWithDialog(t,i,o,n)}))};e.VdVariableForm.prototype.performValueSearch=function(t,i,o,n){this.prepareValuehelp(t,e.VariableProcessorCallbackLambda.createSingleUse(a=>{if(a.hasErrors()||a.hasSeverity(e.Severity.SEMANTICAL_ERROR)){this.postServerError(a);o.onValuehelpExecuted(e.ExtResult.create(null,a),null,n);return}this.executeValueSearch(t,i,o,n)}))};e.VdVariableForm.prototype.postServerError=function(t){let i=e.OlapUiMessageCenter.getInaErrorMessage(t,e.OuVariableDialogI18nLegacy.getProvider().getText(e.OuVariableDialogI18nLegacy.I18N_VD_ERR_VH_SERVER_ERROR));let o=e.OlapUiMessageCenter.getInaErrorCode(t)===e.ErrorCodes.VARIABLE_PROCESSOR_ALREADY_PROCESSING;this.m_context.getMessageCenter().postMessage(o?e.UiMessageType.WARNING:e.UiMessageType.ERROR,i,e.VdVariableForm.COMPONENT_NAME)};e.VdVariableForm.prototype.postValueDifferenceMessage=function(t,i){let o=e.OuVariableDialogI18nLegacy.getProvider();let n=e.XStringBuffer.create();n.append(o.getTextWithPlaceholder(e.OuVariableDialogI18nLegacy.I18N_VD_VARIABLE_VALUES_SET_TO,t.getText())).appendNewLine();n.append(this.prettyPrintVariableValues(i));this.m_context.getMessageCenter().postMessage(e.UiMessageType.WARNING,n.toString(),e.VdVariableForm.COMPONENT_NAME)};e.VdVariableForm.prototype.prepareValuehelp=function(t,i){this.m_preparingTransfer=true;if(e.notNull(this.m_transferModel)&&this.m_transferModel!==t){i.onVariableProcessorExecuted(e.ExtResult.createWithInfoMessage("ok"),null,null);return}this.m_transferModel=t;this.m_transferCallback=i;for(let e=0;e<this.m_variableController.size();e++){let i=this.m_variableController.get(e);if(i.getModel()===t){continue}if(!i.wrapUpState()){return}}this.m_preparingTransfer=false;this.m_transferModel=null;this.m_transferCallback=null;let o=t.getVariable();this.getStateHandler().transferVariables(this.m_model.getCleanedValues(),o,i,null)};e.VdVariableForm.prototype.prettyPrintVariableValues=function(t){let i=e.XStringBuffer.create();if(!e.XCollectionUtils.hasElements(t)){return i.toString()}for(let o=0;o<t.size();o++){let n=t.get(o);if(n.getOperator().getNumberOfParameters()===2){let t=n.getFirstOperand();let o=n.getSecondOperand();let a=t.getText();let r=o.getText();if(e.isNull(a)||e.isNull(r)){a=t.getDisplayKey();r=o.getDisplayKey()}i.append(a).append(" - ").append(r)}else{let t=n.getFirstOperand();let o=t.getText();if(e.isNull(o)){o=t.getDisplayKey()}i.append(o)}i.appendNewLine()}return i.toString()};e.VdVariableForm.prototype.registerReinitListener=function(e){this.m_reinitListener=e};e.VdVariableForm.prototype.registerRenderListener=function(e){this.m_renderListener=e};e.VdVariableForm.prototype.registerSubmitListener=function(e){this.m_submitListener=e};e.VdVariableForm.prototype.registerVariantActivationListener=function(e){this.m_variantActivationListener=e};e.VdVariableForm.prototype.releaseObject=function(){this.m_context=null;this.m_backendStateHandler=null;this.m_externalStateHandler=null;this.m_externalValueHelpProvider=null;this.m_variableController=e.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_variableController);this.m_genesis=null;this.m_variantMenuBtn=null;this.m_variantMenu=null;this.m_valuesDisplayDd=e.XObjectExt.release(this.m_valuesDisplayDd);this.m_variantMenuOverwriteBtn=e.XObjectExt.release(this.m_variantMenuOverwriteBtn);this.m_variantMenuSaveBtn=e.XObjectExt.release(this.m_variantMenuSaveBtn);this.m_variantMenuManageBtn=e.XObjectExt.release(this.m_variantMenuManageBtn);this.m_view=e.XObjectExt.release(this.m_view);this.m_model=e.XObjectExt.release(this.m_model);this.m_renderListener=null;this.m_reinitListener=null;this.m_submitListener=null;this.m_variantActivationListener=null;e.XObject.prototype.releaseObject.call(this)};e.VdVariableForm.prototype.render=function(){if(e.isNull(this.m_genesis)){this.buildOlapDialogUi(e.UiGenesis.create(e.UiContextDummy.getSingleton()));return}this.callOnReinit(true,null);if(this.m_config.isGridLayoutEnabled()){if(this.m_config.isMultiInputComponentEnabled()&&this.m_embedded){this.m_view=e.VdViewValueLayout.createVdViewValueLayout(this.m_context.getUiManager(),this.m_embedded,this.m_config)}else{this.m_view=e.VdViewResponsiveTable.createVdViewResponsiveTable(this.m_context.getUiManager(),this.m_embedded,this.m_config)}}else{this.m_view=e.VdView.create(this.m_context.getUiManager(),this.m_embedded,this.m_config)}this.m_genesis.setRoot(this.m_view.getRoot());if(this.m_config.isSettingsPopoverEnabled()){this.configureToolbar()}else{this.configureVariantSection()}this.m_variableController=e.XListOfNameObject.create();this.createVariableControllers();this.configureNewSettingsSection();this.callOnRenderDone()};e.VdVariableForm.prototype.resetValues=function(){this.m_model.resetValues()};e.VdVariableForm.prototype.setBusy=function(t){if(e.notNull(this.m_view)){this.m_view.getRoot().setBusy(t)}};e.VdVariableForm.prototype.setDynamicVariables=function(){let t=this.m_config.getVariablesToDisplay();let i=e.XCollectionUtils.hasElements(t);let o=this.m_model.getVariableModels();for(let n=0;n<o.size();n++){let a=o.get(n);let r=a.getVariable();if(!r.isDynamicVariable()||i&&!t.contains(r.getName())){continue}a.setValues(e.VdImportExport.getValuesFromVariable(r))}};e.VdVariableForm.prototype.setExternalStateHandler=function(e){this.m_externalStateHandler=e};e.VdVariableForm.prototype.setInitialFocus=function(){if(!this.m_context.getDeviceInfo().isMobile()){this.m_view.getShowVarTechNamesCb().focus()}};e.VdVariableForm.prototype.setInputEnabled=function(t){if(this.m_inputEnabled===t){return}this.m_inputEnabled=t;if(e.notNull(this.m_variantMenuBtn)){this.m_variantMenuBtn.setEnabled(this.m_inputEnabled)}if(this.m_config.isMultiInputComponentEnabled()){this.m_view.getMandatoryVarsOnlyCb().setEditable(t);this.m_view.getShowVarTechNamesCb().setEditable(t)}else{this.m_view.getMandatoryVarsOnlyCb().setEnabled(t);this.m_view.getShowVarTechNamesCb().setEnabled(t)}if(e.notNull(this.m_variableController)){let e=this.m_variableController.getKeysAsIterator();while(e.hasNext()){let t=this.m_variableController.getByKey(e.next());t.update()}}};e.VdVariableForm.prototype.setLabelMode=function(t){if(e.XString.isEqual(t,"ID")){this.m_config.setLabelMode(e.DialogLabelMode.KEY)}else if(e.XString.isEqual(t,"Description")){this.m_config.setLabelMode(e.DialogLabelMode.TEXT)}else if(e.XString.isEqual(t,"ID and Description")){this.m_config.setLabelMode(e.DialogLabelMode.KEY_AND_TEXT)}};e.VdVariableForm.prototype.setOnInvalidValues=function(e){this.m_onInvalidValues=e};e.VdVariableForm.prototype.setStartValues=function(t){this.m_startValues=e.VdValue.cloneValueMap(t);this.m_model.setStartValues(this.m_startValues);this.m_model.setValues(this.m_startValues)};e.VdVariableForm.prototype.setSubmitButtonEnabled=function(e){};e.VdVariableForm.prototype.setValueHelpProcessorProvider=function(e){this.m_externalValueHelpProvider=e};e.VdVariableForm.prototype.setValueJson=function(t){let i=this.m_config.getValueJsonFormat();if(e.isNull(i)){return}let o=i.getParser().deserialize(this.getVariableProcessor(),t);this.setValues(o)};e.VdVariableForm.prototype.setValueNativeJson=function(t){let i=e.JsonParserFactory.newInstance();let o=i.convertFromNative(t);this.setValueJson(o)};e.VdVariableForm.prototype.setValues=function(e){this.m_model.setValues(e)};e.VdVariableForm.prototype.setValuesFromProcessor=function(){this.m_model.setValuesFromProcessor()};e.VdVariableForm.prototype.setVariantActions=function(){let t=e.OuVariableDialogI18nLegacy.getProvider();this.m_variantMenuOverwriteBtn=this.m_variantMenu.addNewItem();this.m_variantMenuOverwriteBtn.setName("VdVariantMenuOverwriteBtn");this.m_variantMenuOverwriteBtn.setText(t.getText(e.OuVariableDialogI18nLegacy.I18N_VARIANT_OVERWRITE));this.m_variantMenuOverwriteBtn.setIcon("refresh");this.m_variantMenuOverwriteBtn.registerOnPress(this);this.m_variantMenuSaveBtn=this.m_variantMenu.addNewItem();this.m_variantMenuSaveBtn.setName("VdVariantMenuSaveBtn");this.m_variantMenuSaveBtn.setText(t.getText(e.OuVariableDialogI18nLegacy.I18N_VARIANT_SAVE_CURRENT));this.m_variantMenuSaveBtn.setIcon("save");this.m_variantMenuSaveBtn.registerOnPress(this);this.m_variantMenuManageBtn=this.m_variantMenu.addNewItem();this.m_variantMenuManageBtn.setName("VdVariantMenuManageBtn");this.m_variantMenuManageBtn.setText(t.getText(e.OuVariableDialogI18nLegacy.I18N_VARIANT_MANAGE));this.m_variantMenuManageBtn.setIcon("wrench");this.m_variantMenuManageBtn.registerOnPress(this)};e.VdVariableForm.prototype.setVariantsSectionVisible=function(t){let i=e.XCollectionUtils.hasElements(this.m_model.getVariants());let o=this.m_model.hasVariables()&&(i||this.m_maintainsVariants)&&t;if(this.m_config.isSettingsPopoverEnabled()){this.m_view.getVariantLabel().setVisible(o);this.m_view.getVariantMenuBtn().setVisible(o)}else{this.m_view.getVariantSection().setVisible(o)}};e.VdVariableForm.prototype.setupController=function(t,i){this.m_context=t;this.m_config=i;this.m_inputEnabled=true;let o=this.m_config.getVarProcessor();this.m_numberOfMandatoryVariables=0;this.allVariablesAreMandatory=true;this.m_startValues=this.m_config.getStartValues();if(e.isNull(this.m_startValues)){let t=this.m_config.getValueJsonFormat();let i=this.m_config.getStartValueJson();if(e.notNull(t)&&e.notNull(i)){this.m_startValues=t.getParser().deserialize(o,i)}}this.m_model=e.VdModel.create(o,this.m_startValues);this.m_model.addListener(this);this.m_backendStateHandler=e.VdBackendStateHandler.createHandler(o)};e.VdVariableForm.prototype.showMandatoryVarsOnly=function(e){for(let t=0;t<this.m_variableController.size();t++){let i=this.m_variableController.get(t);if(!i.getVariable().isMandatory()){i.getView().getVisibleProperty().setVisible(e?false:true)}}};e.VdVariableForm.prototype.showVariableTechnicalNames=function(t){for(let i=0;i<this.m_variableController.size();i++){if(e.XStringUtils.isNotNullAndNotEmpty(this.m_variableController.get(i).getView().getTechnicalNameLabel().getText())){this.m_variableController.get(i).getView().getTechnicalNameLabel().setVisible(t?true:false)}}};e.VdVariableForm.prototype.submitInternal=function(){let t=this.m_model.getCleanedValues();if(this.m_config.useImplicitSubmit()){this.callOnBeforeSubmit();this.getStateHandler().submitVariables(t,this,e.XStringValue.create(e.VdVariableForm.SUBMIT_IDENTIFIER))}else{this.getStateHandler().setVariableValues(t);let i=this.getStateHandler().getSubmitProcessor();if(e.notNull(i)&&!i.isDirectVariableTransferEnabled()){i.transferVariables(e.OlapUiValueHelpAbstract.s_syncType,e.VariableProcessorCallbackLambda.createSingleUse(e=>{this.syncValues(t,false,false);this.m_model.setValues(t);this.callOnBeforeSubmit()}),null);return}this.callOnBeforeSubmit()}};e.VdVariableForm.prototype.supportsStoryFilterOptimization=function(t){let i=this.m_model.getVariableModelByName(t);if(e.isNull(i)){return false}if(this.m_context.getUiManager().getDeviceInfo().isMobile()){return e.VdVhMobileController.supportsMobileValueHelp(i)}return e.VdVariableForm.supportsStoryFilterOptimizationForDesktop(i)};e.VdVariableForm.prototype.syncValues=function(t,i,o){let n=this.getStateHandler().getSubmitProcessor();if(e.isNull(n)){return}let a=n.getInputEnabledAndNonTechnicalVariables();for(let n=0;n<a.size();n++){let r=a.get(n);let l=r.getName();if(!this.isSyncCandidate(r,i)){continue}let s=r.getValueType().isDateBased();let u=t.containsKey(l)?t.getByKey(l):e.XList.create();let m=e.VdImportExport.getValuesFromVariable(r);if(e.VdVariableForm.areKeysDifferent(u,m,false,s)){t.put(l,m);if(o&&!r.getVariableType().isTypeOf(e.VariableType.DIMENSION_MEMBER_VARIABLE)){this.postValueDifferenceMessage(r,m);continue}let i=r;if(!i.supportsValueHelp()||!i.getDimension().getHasCheckTable()){continue}if(o&&e.VdVariableForm.areKeysDifferent(u,m,true,s)){this.postValueDifferenceMessage(r,m)}}}};e.VdVariableForm.prototype.updateDisplayedValues=function(){for(let t=0;t<this.m_variableController.size();t++){let i=this.m_variableController.get(t);let o=i.getVariable();if(o.getVariableType().isTypeOf(e.VariableType.TEXT_VARIABLE)||o.getVariableType().isTypeOf(e.VariableType.FORMULA_VARIABLE)){continue}i.updateDisplayedValues()}};e.VdVariableForm.prototype.updateDynamicVariables=function(){if(this.hasDynamicVariables()){this.setBusy(true);this.getVariableProcessor().updateDynamicVariables(e.SyncType.NON_BLOCKING,e.OuQueryExecutionListenerLambda.createSingleUse(e=>{this.setBusy(false);if(e.isValid()){this.setDynamicVariables()}}),null)}};e.VdVariableForm.prototype.updateOnDisplayChange=function(){if(this.isVariableUpdateRequired()){this.getStateHandler().getSubmitProcessor().transferVariables(e.OlapUiValueHelpAbstract.s_syncType,e.VariableProcessorCallbackLambda.createSingleUse(e=>{if(e.hasErrors()){this.postServerError(e)}else{this.enhanceWithDisplayKeys()}this.updateDisplayedValues()}),null)}else{this.updateDisplayedValues()}};e.VdVariableForm.prototype.updateVariantSection=function(t){if(e.isNull(this.m_variantMenuBtn)){return}let i=this.m_model.getVariants();this.m_variantMenu.clearItems();let o=this.m_variantMenu.addNewItem();o.setName("emptyItem");o.setText(e.OuVariableDialogI18nLegacy.getProvider().getText(e.OuVariableDialogI18nLegacy.I18N_VARIANT_NONE));o.registerOnPress(this);if(e.isNull(t)){o.setIcon("accept")}let n=t=>{let i=this.m_variantMenu.addNewItem();i.setName(e.VdVariableForm.getVariantNameForMenu(t));i.setText(t.getText());i.setCustomObject(t);i.registerOnPress(this)};e.XStream.of(i).filter(t=>t.getScope()===e.Scope.USER).sorted(e.VdVariantComparator.getInstance()).forEach(n);e.XStream.of(i).filter(t=>t.getScope()===e.Scope.GLOBAL).sorted(e.VdVariantComparator.getInstance()).forEach(n);this.setVariantActions();this.m_variantMenuBtn.setText(e.notNull(t)?t.getText():o.getText());this.m_variantMenuOverwriteBtn.setEnabled(e.notNull(t));this.m_variantMenuManageBtn.setEnabled(e.XCollectionUtils.hasElements(i))};e.VdAbstractValueController=function(){};e.VdAbstractValueController.prototype=new e.XObject;e.VdAbstractValueController.prototype._ff_c="VdAbstractValueController";e.VdAbstractValueController.prototype.INDEX=null;e.VdAbstractValueController.prototype.SEARCH_VALUE=null;e.VdAbstractValueController.prototype.m_config=null;e.VdAbstractValueController.prototype.m_context=null;e.VdAbstractValueController.prototype.m_control1=null;e.VdAbstractValueController.prototype.m_control2=null;e.VdAbstractValueController.prototype.m_focusedControl=null;e.VdAbstractValueController.prototype.m_parent=null;e.VdAbstractValueController.prototype.m_renderer=null;e.VdAbstractValueController.prototype.m_value=null;e.VdAbstractValueController.prototype.m_variableModel=null;e.VdAbstractValueController.prototype.m_view=null;e.VdAbstractValueController.prototype.addInvisibleTexts=function(){let e=this.m_parent.getView().getInvisibleVariableTitleText();this.m_view.getDropdown().addLabelledBy(e);this.addValueSpecificInvisibleTexts();this.m_view.getDeleteLineButton().addLabelledBy(e)};e.VdAbstractValueController.prototype.getBestFittingValueHelpResult=function(t,i){let o=null;for(let n=0;n<t.size();n++){let a=t.get(n);let r=e.FilterDialogValueFactory.createValueHelpValue(a);if(e.XString.isEqual(e.XString.toLowerCase(r.getDisplayKey()),e.XString.toLowerCase(i))){e.XObjectExt.release(o);return r}if(e.isNull(o)){o=r;continue}e.XObjectExt.release(r)}return o};e.VdAbstractValueController.prototype.getControlState=function(t){if(t.getCustomObject()===null){return e.VdControllerState.PRISTINE}return t.getCustomObject()};e.VdAbstractValueController.prototype.getDisplayValue=function(e,t,i){return this.m_renderer.getDisplayValue(e,t,i)};e.VdAbstractValueController.prototype.getSelectedOperator=function(t){let i=t.getCustomObject();let o=this.m_value.createShallowCopy();o.setOperator(i);let n=this.m_variableModel.isNewValue(o);e.XObjectExt.release(o);return n?i:this.m_value.getOperator()};e.VdAbstractValueController.prototype.getVarType=function(){return this.m_variableModel.getVariableType()};e.VdAbstractValueController.prototype.getView=function(){return this.m_view};e.VdAbstractValueController.prototype.isMultiInput=function(){return false};e.VdAbstractValueController.prototype.isNewValue=function(t,i){let o=this.m_value.createShallowCopy();o.setOperand(i,t);let n=this.m_variableModel.isNewValue(o);e.XObjectExt.release(o);return n};e.VdAbstractValueController.prototype.notifyStateChange=function(){let t=this.getControlState(this.m_control1);let i=this.getControlState(this.m_control2);this.m_parent.notifyStateChange(e.VdControllerState.getHigherPriority(t,i))};e.VdAbstractValueController.prototype.onInvalidValueState=function(){};e.VdAbstractValueController.prototype.onSearchDone=function(e){};e.VdAbstractValueController.prototype.onSelect=function(t){let i=this.getSelectedOperator(t.getSelectedItem());let o=this.m_value.getOperator();let n=this.m_parent.isSupportedMultiInput(i)===this.m_parent.isSupportedMultiInput(o);if(!n){this.m_value=this.m_parent.replaceIncompatibleValue(this,this.m_value,i)}else if(!this.isMultiInput()){this.m_value.setOperator(i)}else{this.m_parent.updateMultiInputKey(o,i);let t=this.m_parent.getMultiInputValues(i);if(t.isEmpty()){t.add(this.m_value)}e.XCollectionUtils.forEach(t,e=>{e.setOperator(i)})}if(this.m_parent.isSupportedMultiInput(o)||this.m_parent.isSupportedMultiInput(i)){this.m_parent.updateWithOptions(true)}};e.VdAbstractValueController.prototype.onValueStateChanged=function(){};e.VdAbstractValueController.prototype.onValuehelpExecuted=function(t,i,o){let n=o;let a=n.getIntegerByKey(this.INDEX);let r=n.getStringByKey(this.SEARCH_VALUE);let l=e.OuVariableDialogI18nLegacy.getProvider();if(t.hasErrors()){this.m_value.setError(a,l.getText(e.OuVariableDialogI18nLegacy.I18N_VD_ERR_VH_SERVER_ERROR))}else{let i=t.getData();if(e.XCollectionUtils.hasElements(i)){let e=this.getBestFittingValueHelpResult(i,r);if(this.m_variableModel.getInputValue()===this.m_value||this.isNewValue(e,a)){let t=a===0?this.m_view.getInput1():this.m_view.getInput2();this.m_parent.setEnableAutoFocus(t===this.m_focusedControl);this.m_value.setOperand(a,e);this.m_parent.setEnableAutoFocus(false)}}else{this.m_value.setError(a,l.getText(e.OuVariableDialogI18nLegacy.I18N_VD_MEMBER_DOES_NOT_EXIST))}}this.onSearchDone(a)};e.VdAbstractValueController.prototype.performValueSearch=function(t,i){let o=e.XProperties.create();o.putInteger(this.INDEX,t);o.putString(this.SEARCH_VALUE,i);this.m_parent.performValueSearch(i,this,o)};e.VdAbstractValueController.prototype.releaseObject=function(){this.m_control1=null;this.m_control2=null;this.m_view=e.XObjectExt.release(this.m_view);this.m_renderer=e.XObjectExt.release(this.m_renderer);this.m_config=null;if(e.notNull(this.m_value)){this.m_value.removeValueStateListener(this)}this.m_value=null;this.m_variableModel=null;this.m_parent=null;this.m_context=null;e.XObject.prototype.releaseObject.call(this)};e.VdAbstractValueController.prototype.setState=function(t,i){t.setCustomObject(i);if(e.VdControllerState.isCompleted(this.m_control1.getCustomObject())&&e.notNull(this.m_control2)&&e.VdControllerState.isCompleted(this.m_control2.getCustomObject())){this.m_value.updateOperandOrder()}this.notifyStateChange()};e.VdAbstractValueController.prototype.setupController=function(t,i,o,n,a){this.m_context=t;this.m_config=i;this.m_parent=o;this.m_variableModel=n;this.m_value=a;if(e.notNull(this.m_value)){this.m_value.addValueStateListener(this)}this.m_view=this.createView(this.m_parent.isEmbedded());if(this.m_config.isGridLayoutEnabled()){this.addInvisibleTexts()}this.m_view.getDropdown().registerOnSelect(this);this.m_view.getInput1().setShowClearIcon(!this.m_config.isMultiInputComponentEnabled());this.m_view.getInput1().registerOnValueHelpRequest(e.UiLambdaValueHelpRequestListener.create(t=>{if(this.m_variableModel.isInterval()){this.m_parent.performValueHelpForValue(this.m_value,e.VdValue.FIRST)}else{this.m_parent.performValueHelpForVariable()}}));this.m_view.getInput2().setShowClearIcon(!this.m_config.isMultiInputComponentEnabled());this.m_view.getInput2().registerOnValueHelpRequest(e.UiLambdaValueHelpRequestListener.create(t=>{this.m_parent.performValueHelpForValue(this.m_value,e.VdValue.SECOND)}));if(this.m_view.getDeleteLineButton()!==null){this.m_view.getDeleteLineButton().registerOnPress(e.UiLambdaPressListener.create(e=>{this.m_parent.setEnableAutoFocus(true);let t=this.m_value.getOperator();if(this.m_parent.isSupportedMultiInput(t)){this.m_variableModel.removeValuesWithOperator(t);if(this.m_variableModel.isInterval()){this.m_parent.updateViewForMultiInputOperator(t)}}else{this.m_variableModel.removeValue(this.m_value)}this.m_parent.setEnableAutoFocus(false);if(this.m_parent.isEmbedded()&&this.m_variableModel.isMandatory()&&this.m_variableModel.getValues().isEmpty()||this.m_variableModel.getValues().size()===1&&!this.m_variableModel.getValues().get(0).isFilled()){this.m_variableModel.validateValues()}}))}this.m_renderer=e.VdValueRenderer.create(t,i,this.m_view,n,a);this.INDEX="index";this.SEARCH_VALUE="search_value"};e.VdAbstractValueController.prototype.update=function(e,t){this.m_renderer.update(e,t)};e.VdAbstractValueController.prototype.wrapUpState=function(){let t=this.getControlState(this.m_control1);let i=this.getControlState(this.m_control2);if(t===e.VdControllerState.PENDING||i===e.VdControllerState.PENDING){return false}if(t===e.VdControllerState.DIRTY){this.processVariable(this.m_control1);return false}else if(i===e.VdControllerState.DIRTY){this.processVariable(this.m_control2);return false}return true};e.VdVariableController=function(){};e.VdVariableController.prototype=new e.XObject;e.VdVariableController.prototype._ff_c="VdVariableController";e.VdVariableController.CLIPBOARD="Clipboard";e.VdVariableController.MAX_VALUES=50;e.VdVariableController.OPEN_CLIPBOARD="OpenClipboard";e.VdVariableController.createVariableController=function(t,i,o,n,a){let r=new e.VdVariableController;r.setupVariableController(t,i,o,n,a);return r};e.VdVariableController.prototype.m_clipboardController=null;e.VdVariableController.prototype.m_clipboardHelper=null;e.VdVariableController.prototype.m_config=null;e.VdVariableController.prototype.m_context=null;e.VdVariableController.prototype.m_controllers=null;e.VdVariableController.prototype.m_enableAutoFocus=false;e.VdVariableController.prototype.m_master=null;e.VdVariableController.prototype.m_model=null;e.VdVariableController.prototype.m_multiInputControllers=null;e.VdVariableController.prototype.m_view=null;e.VdVariableController.prototype.addCurrentInputValueToModel=function(){let e=this.m_model.getInputValue();this.m_model.setInputValue(null);this.renderValue(e);this.m_model.addValue(e)};e.VdVariableController.prototype.addInputFieldIfNecessary=function(){let t=this.m_model.getValues();if(t.isEmpty()||t.get(t.size()-1).isFilled()&&this.m_model.supportsMultipleValues()){let i=this.m_model.getInputValue();if(e.notNull(i)){if(!t.contains(i)&&i.isFilled()&&this.m_model.isNewValue(i)){this.addCurrentInputValueToModel()}else if(!i.isFilled()&&!this.isSupportedMultiInput(i.getOperator())){let e=this.m_controllers.getByKey(i.getId()).getView();this.m_view.removeValue(e);this.m_view.addValue(e);this.renderValue(i)}}else{let t=this.m_model.getDefaultOperator();let o=this.getCurrentOperatorOrFallback(this.m_model.getDefaultOperator());if(e.isNull(t)||e.notNull(o)){i=e.VdValue.createValue(o,null,null);this.m_model.setInputValue(i);this.addValue(i)}}}};e.VdVariableController.prototype.addMoreButton=function(){let t=this.m_view.showMoreButton();t.registerOnPress(e.UiLambdaPressListener.create(e=>{let t=this.getHiddenValues();this.insertValueList(this.m_view.getMoreButtonIndex(),t);this.addInputFieldIfNecessary();if(this.m_model.getValues().size()<=this.m_controllers.size()){this.m_view.hideMoreButton()}}))};e.VdVariableController.prototype.addValue=function(e){this.insertValue(-1,e)};e.VdVariableController.prototype.createValueController=function(t){let i=this.m_model.getVariableType();if(this.m_model.getVariableType().isTypeOf(e.VariableType.OPTION_LIST_VARIABLE)||this.m_model.getValueType().isBoolean()){return e.VdOptionValueController.create(this.m_context,this.m_config,this,this.m_model,t)}if(this.m_model.getValueType().isDateBased()){if(i.isTypeOf(e.VariableType.SIMPLE_TYPE_VARIABLE)){return e.VdDateValueController.create(this.m_context,this.m_config,this,this.m_model,t)}if(this.m_config.useDatePicker()){return e.VdDateValueController.create(this.m_context,this.m_config,this,this.m_model,t)}}if(this.isSupportedMultiInput(t.getOperator())){return e.VdMultiInputValueController.create(this.m_context,this.m_config,this,this.m_model)}else{return e.VdInputValueController.create(this.m_context,this.m_config,this,this.m_model,t)}};e.VdVariableController.prototype.focusInput=function(t){if(e.notNull(t)&&t.isVisible()&&t.isEnabled()&&t.isEditable()){t.focus();return true}return false};e.VdVariableController.prototype.focusNextField=function(t,i){let o=this.m_view.getValueViews();if(!e.XCollectionUtils.hasElements(o)){return}let n;if(e.notNull(t)){if(t.getSecondOperand()!==null){return}n=this.m_controllers.getByKey(t.getId()).getView()}else{n=o.get(o.size()-1)}let a=o.getIndex(n);if(i>=0){if(i===0&&this.focusInput(n.getInput2())){return}a++}for(let e=a;e<o.size();e++){let t=o.get(e);if(this.focusInput(t.getInput1())||this.focusInput(t.getInput2())){return}}let r=i===1&&n.getInput2().isVisible()?n.getInput2():n.getInput1();r.focus()};e.VdVariableController.prototype.getCurrentOperatorOrFallback=function(t){if(this.isSupportedMultiInput(t)&&this.m_model.isOperatorInUse(t)){let t=this.m_model.getSupportedComparisonOperators().createListCopy();let i=this.m_model.isOperatorInUse(e.VdComparisonOperator.EQUAL);let o=this.m_model.isOperatorInUse(e.VdComparisonOperator.NOT_EQUAL);e.XCollectionUtils.removeIf(t,t=>i&&t===e.VdComparisonOperator.EQUAL||o&&t===e.VdComparisonOperator.NOT_EQUAL);if(t.isEmpty()){return null}else{return t.get(0)}}return t};e.VdVariableController.prototype.getFdLambda=function(t){return e.FilterDialogLambdaCloseListener.create(t,null)};e.VdVariableController.prototype.getFirstValues=function(){let t=e.XList.create();let i=this.m_model.getValues();for(let e=0;e<i.size();e++){t.add(i.get(e).getFirstOperand())}return t};e.VdVariableController.prototype.getFirstValuesForOperator=function(t){let i=e.XList.create();let o=this.m_model.getValues();for(let n=0;n<o.size();n++){let a=o.get(n);if(a.isFilled()&&(a.getOperator()===t||a.getOperator()===e.VdComparisonOperator.IS_NULL&&t===e.VdComparisonOperator.EQUAL||a.getOperator()===e.VdComparisonOperator.IS_NOT_NULL&&t===e.VdComparisonOperator.NOT_EQUAL)){i.add(a.getFirstOperand())}}return i};e.VdVariableController.prototype.getFromCurrentValues=function(t,i){let o=this.m_model.getValues();let n=o.size();for(let a=0;a<n;a++){let n=o.get(a);if(e.XObjectExt.areEqual(n.getFirstOperand(),t)&&e.XObjectExt.areEqual(n.getSecondOperand(),i)){return n}}return null};e.VdVariableController.prototype.getHiddenValues=function(){return e.XStream.of(this.m_model.getValues()).filter(e=>!this.m_controllers.containsKey(e.getId())&&e!==this.m_model.getInputValue()).collect(e.XStreamCollector.toList())};e.VdVariableController.prototype.getMaster=function(){return this.m_master};e.VdVariableController.prototype.getModel=function(){return this.m_model};e.VdVariableController.prototype.getMultiInputValueControllerKey=function(t){return e.XStringUtils.concatenate2(this.m_model.getName(),t.toString())};e.VdVariableController.prototype.getMultiInputValues=function(t){let i=this.getMultiInputValueControllerKey(t);if(!this.m_multiInputControllers.containsKey(i)){return e.XList.create()}return this.m_multiInputControllers.getByKey(i).getValues()};e.VdVariableController.prototype.getName=function(){return this.m_model.getName()};e.VdVariableController.prototype.getValueViewToFocusOn=function(t){let i=null;if(this.isSupportedMultiInput(t.getOperator())){let e=this.m_multiInputControllers.getByKey(this.getMultiInputValueControllerKey(t.getOperator()));if(e.getValues().size()>1){return e.getView()}i=e}else{i=this.m_controllers.getByKey(t.getId())}if(e.notNull(i)){let t=this.m_view.getValueViews();let o=e.XListUtils.getIndexOf(t,i.getView());if(o>-1&&o<t.size()-1){return t.get(o+1)}}return null};e.VdVariableController.prototype.getValuesFromFilterDialogSelection=function(t,i){let o=e.XList.create();for(let n=0;n<t.size();n++){let a=t.get(n);let r=this.m_model.createNewValue();if(a.isNull()){if(i===e.VdComparisonOperator.NOT_EQUAL){r.setOperator(e.VdComparisonOperator.IS_NOT_NULL)}else{r.setOperator(e.VdComparisonOperator.IS_NULL)}}else if(e.notNull(i)){r.setOperator(i)}r.setFirstOperand(a);o.add(r)}return o};e.VdVariableController.prototype.getVariable=function(){return this.m_model.getVariable()};e.VdVariableController.prototype.getView=function(){return this.m_view};e.VdVariableController.prototype.handleMultipleFilterDialogValues=function(t){if(e.isNull(t)){return}this.setEnableAutoFocus(true);let i=this.getValuesFromFilterDialogSelection(t,null);this.m_model.setValues(i);this.setEnableAutoFocus(false)};e.VdVariableController.prototype.handleSingleFilterDialogValue=function(t,i,o){if(!e.XCollectionUtils.hasElements(o)){return}this.setEnableAutoFocus(true);let n=o.get(0);if(this.isNewValue(t,n,i)){if(n.isNull()){t.setOperator(e.VdComparisonOperator.IS_NULL)}t.setOperand(i,n)}this.setEnableAutoFocus(false)};e.VdVariableController.prototype.insertValue=function(t,i){let o=i.getId();let n=this.isSupportedMultiInput(i.getOperator());if(!n&&this.m_controllers.containsKey(o)){return}let a=null;if(n){o=this.getMultiInputValueControllerKey(i.getOperator());a=this.m_multiInputControllers.getByKey(o)}if(e.isNull(a)){a=this.createValueController(i);if(t<0){this.m_view.addValue(a.getView())}else{this.m_view.insertValue(t,a.getView())}}if(n){let e=a;e.addValue(i);this.m_multiInputControllers.put(o,e)}else{this.m_controllers.put(i.getId(),a)}a.update(this.m_config.getLabelMode(),this.m_master.isInputEnabled());i.addListener(this);let r=n&&a.getValues().size()===1;let l=this.m_model.getInputValue()!==null&&this.isSupportedMultiInput(this.m_model.getInputValue().getOperator());if(this.m_model.isInterval()&&(r||l)){this.updateWithOptions(true)}else{this.updateHead()}};e.VdVariableController.prototype.insertValueList=function(t,i){for(let o=0;o<i.size();o++){if(o>=e.VdVariableController.MAX_VALUES){break}this.insertValue(t+o,i.get(o))}};e.VdVariableController.prototype.isEmbedded=function(){return this.m_master.isEmbedded()};e.VdVariableController.prototype.isNewValue=function(t,i,o){let n=t.createShallowCopy();if(i.isNull()){n.setOperator(e.VdComparisonOperator.IS_NULL)}n.setOperand(o,i);let a=this.m_model.isNewValue(n);e.XObjectExt.release(n);return a};e.VdVariableController.prototype.isSupportedMultiInput=function(t){if(!this.m_config.isMultiInputComponentEnabled()){return false}let i=this.m_model.getVariableType().isTypeOf(e.VariableType.DIMENSION_MEMBER_VARIABLE);let o=this.m_model.getValueType().isDateBased()&&this.m_config.useDatePicker();let n=this.m_model.supportsMultipleValues();if(!i||!n||o){return false}if(e.isNull(t)){return false}return t===e.VdComparisonOperator.EQUAL||t===e.VdComparisonOperator.NOT_EQUAL};e.VdVariableController.prototype.notifyStateChange=function(e){this.m_master.notifyStateChange(e)};e.VdVariableController.prototype.onClipboardCancel=function(){this.m_clipboardController.close();this.m_clipboardController=null;this.m_clipboardHelper=e.XObjectExt.release(this.m_clipboardHelper)};e.VdVariableController.prototype.onClipboardOk=function(t,i){if(!t){this.m_clipboardController.close();this.m_clipboardController=null;this.m_clipboardHelper=e.XObjectExt.release(this.m_clipboardHelper);return}let o=this.m_model.getSupportedComparisonOperators();let n=o.contains(e.VdComparisonOperator.IS_NULL);let a=o.contains(e.VdComparisonOperator.IS_NOT_NULL);let r=o.contains(e.VdComparisonOperator.BETWEEN);let l=this.m_clipboardHelper.parseFromClipboard(i,a,r);let s=this.m_model.getVariable();e.VdValueHelp.searchValues(s,true,!n,l,this,e.XStringValue.create(e.VdVariableController.CLIPBOARD))};e.VdVariableController.prototype.onFillFieldsDone=function(t,i,o){let n=o.toString();let a=e.OuVariableDialogI18nLegacy.getProvider();if(i.hasErrors()){let t=a.getText(e.OuVariableDialogI18nLegacy.I18N_VD_ERR_UNKNOWN_ERROR);if(e.XString.isEqual(e.VdVariableController.CLIPBOARD,n)&&i.getFirstError().getCode()===e.VdValueHelp.ERR_SERVER_ERROR){t=a.getText(e.OuVariableDialogI18nLegacy.I18N_VD_ERR_VH_SERVER_ERROR)}this.m_clipboardController.setIdle();this.m_context.getMessageCenter().postMessage(e.UiMessageType.ERROR,t,e.VdVariableForm.COMPONENT_NAME);return}if(i.hasSeverity(e.Severity.WARNING)){if(i.getFirstWithSeverity(e.Severity.WARNING).getCode()===e.VdValueHelp.WARN_VALUE_NOT_FOUND){this.m_context.getMessageCenter().postMessage(e.UiMessageType.WARNING,a.getText(e.OuVariableDialogI18nLegacy.I18N_VD_WARN_VH_VALUES_NOT_FOUND),e.VdVariableForm.COMPONENT_NAME)}}let r=i.getData();switch(n){case e.VdVariableController.CLIPBOARD:this.updateOperatorsOnClipboadValues(r);this.m_model.setValues(r);this.m_clipboardController.close();this.m_clipboardController=null;this.m_clipboardHelper=e.XObjectExt.release(this.m_clipboardHelper);break;case e.VdVariableController.OPEN_CLIPBOARD:let t=this.m_clipboardHelper.getValueGrid(r);this.m_clipboardController.setText(e.DialogGridParser.serializeWithFormat(e.DialogGridFormat.SEMICOLON,t));break}};e.VdVariableController.prototype.onFilterDialogCancel=function(){};e.VdVariableController.prototype.onFilterDialogOk=function(e,t){this.setEnableAutoFocus(true);this.handleMultipleFilterDialogValues(e);this.setEnableAutoFocus(false)};e.VdVariableController.prototype.onPress=function(t){let i=t.getControl();if(i===this.m_view.getClearButton()){this.m_view.hideMoreButton();this.m_model.clearValues()}else if(i===this.m_view.getClipboardButton()){this.m_clipboardController=this.m_context.getClipboardController();this.m_clipboardHelper=e.ClipboardHelperForVdValue.createHelper();let t=this.m_model.getVariable();let i=null;if(this.m_model.isInterval()){i=e.OuVariableDialogI18nLegacy.getProvider().getText(e.OuVariableDialogI18nLegacy.I18N_VD_CLIPBOARD_INFO)}this.m_clipboardController.openLazyLoadClipboardDialog(i,this);e.VdValueHelp.searchValues(t,false,false,this.m_model.getValues(),this,e.XStringValue.create(e.VdVariableController.OPEN_CLIPBOARD))}};e.VdVariableController.prototype.onValueAdded=function(e){this.addValue(e);this.addInputFieldIfNecessary()};e.VdVariableController.prototype.onValueChanged=function(e,t){if(this.m_model.isNewValue(e)||!e.isFilled()){if(this.m_model.getInputValue()===e&&e.isFilled()){this.addCurrentInputValueToModel()}else{this.renderValue(e)}if(this.m_enableAutoFocus){this.focusNextField(e,t)}}};e.VdVariableController.prototype.onValueRemoved=function(t,i){if(this.m_enableAutoFocus){let i=this.getValueViewToFocusOn(t);if(e.notNull(i)&&i.getDeleteLineButton()!==null&&i.getDeleteLineButton().isVisible()){i.getDeleteLineButton().focus()}else{this.focusNextField(null,-1)}}let o=this.m_model.getValues();this.removeValue(t);this.addInputFieldIfNecessary();if(o.isEmpty()){if(this.m_model.isInterval()&&this.isSupportedMultiInput(t.getOperator())){return}this.focusNextField(null,-1)}};e.VdVariableController.prototype.onValuesSet=function(){let e=this.m_model.getValues();this.setValueList(e);if(this.m_enableAutoFocus){this.focusNextField(null,-1)}};e.VdVariableController.prototype.performValueHelpForValue=function(t,i){let o=t.getOperator();let n=(this.m_config.isNewSettingsEnabled()||this.m_config.isMultiInputComponentEnabled())&&(o===e.VdComparisonOperator.EQUAL||o===e.VdComparisonOperator.NOT_EQUAL)&&this.m_model.supportsMultipleValues();if(n){let t=e.FilterDialogLambdaCloseListener.create(t=>{if(e.isNull(t)){return}this.setEnableAutoFocus(true);let i=this.getValuesFromFilterDialogSelection(t,o);this.m_model.setMultiInputValues(i,o);this.setEnableAutoFocus(false)},null);this.m_master.performValueHelpWithDialog(this.m_model,this.getFirstValuesForOperator(o),e.UiTableSelectionMode.MULTI_TOGGLE,t)}else{let o=this.getFdLambda(e=>{this.handleSingleFilterDialogValue(t,i,e)});this.m_master.performValueHelpWithDialog(this.m_model,e.XList.create(),e.UiTableSelectionMode.SINGLE,o)}};e.VdVariableController.prototype.performValueHelpForVariable=function(){let t=this.m_model.supportsMultipleValues()?e.UiTableSelectionMode.MULTI_TOGGLE:e.UiTableSelectionMode.SINGLE;let i=this.getFdLambda(this.handleMultipleFilterDialogValues.bind(this));this.m_master.performValueHelpWithDialog(this.m_model,this.getFirstValues(),t,i)};e.VdVariableController.prototype.performValueSearch=function(e,t,i){this.m_master.performValueSearch(this.m_model,e,t,i)};e.VdVariableController.prototype.releaseObject=function(){this.m_controllers=e.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_controllers);this.m_multiInputControllers=e.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_multiInputControllers);this.m_view=e.XObjectExt.release(this.m_view);let t=this.m_model.getValues();for(let e=0;e<t.size();e++){t.get(e).removeListener(this)}this.m_model.removeListener(this);this.m_model=null;this.m_master=null;e.XObject.prototype.releaseObject.call(this)};e.VdVariableController.prototype.removeValue=function(e){let t=e.getId();let i=this.getMultiInputValueControllerKey(e.getOperator());let o=this.m_config.isMultiInputComponentEnabled()&&this.m_multiInputControllers.containsKey(i);if(!this.m_controllers.containsKey(t)&&!o){return}if(o){let t=this.m_multiInputControllers.getByKey(i);t.removeValue(e)}else{let e=this.m_controllers.remove(t);this.m_view.removeValue(e.getView())}e.removeListener(this);this.updateHead()};e.VdVariableController.prototype.renderValue=function(t){let i=this.m_controllers.getByKey(t.getId());let o=null;if(this.m_config.isMultiInputComponentEnabled()){o=this.m_multiInputControllers.getByKey(this.getMultiInputValueControllerKey(t.getOperator()))}if(e.notNull(i)&&!this.isSupportedMultiInput(t.getOperator())){i.update(this.m_config.getLabelMode(),this.m_master.isInputEnabled())}else if(e.notNull(o)){o.addValue(t);o.update(this.m_config.getLabelMode(),this.m_master.isInputEnabled())}};e.VdVariableController.prototype.replaceIncompatibleValue=function(e,t,i){let o=e.getView();let n=this.m_view.getValueViews().getIndex(o);let a=t.getOperator();let r=this.isSupportedMultiInput(a);let l;this.m_view.removeValue(o);if(r){let e=this.getMultiInputValueControllerKey(a);let t=this.m_multiInputControllers.getByKey(e).getValues();l=t.isEmpty()?this.m_model.createNewValue():t.get(0).createShallowCopy();this.m_model.removeValuesWithOperator(a);this.m_multiInputControllers.remove(e)}else{let e=t.getOperator().isNullOperator();l=t.isEmpty()||e?this.m_model.createNewValue():t;this.m_controllers.remove(t.getId());if(e){this.m_model.removeValue(t)}}l.setOperator(i);let s=t===this.m_model.getInputValue();if(s){this.m_model.setInputValue(l)}this.insertValue(n,l);if(r&&!s){this.m_model.insertValue(n,l)}this.addInputFieldIfNecessary();this.m_view.getValueViews().get(n).getDropdown().focus();return l};e.VdVariableController.prototype.setEnableAutoFocus=function(e){this.m_enableAutoFocus=e};e.VdVariableController.prototype.setValueList=function(t){this.m_view.clearValues();this.m_controllers.clear();this.m_multiInputControllers.clear();for(let i=0;i<t.size();i++){if(!this.isSupportedMultiInput(t.get(i).getOperator())&&i>=e.VdVariableController.MAX_VALUES){this.addMoreButton();break}this.addValue(t.get(i))}this.addInputFieldIfNecessary()};e.VdVariableController.prototype.setupVariableController=function(t,i,o,n,a){this.m_context=t;this.m_config=i;this.m_master=o;this.m_model=n;this.m_model.addListener(this);this.m_view=a;this.m_view.getClearButton().registerOnPress(this);this.m_view.getClipboardButton().registerOnPress(this);if(this.m_config.isGridLayoutEnabled()){this.m_view.getClipboardButton().addLabelledBy(this.m_view.getInvisibleVariableTitleText())}if(this.m_model.getVariableType().isTypeOf(e.VariableType.DIMENSION_MEMBER_VARIABLE)){let t=this.m_model.getVariable();if(t.isUsedInDynamicFilter()&&t.getDimension().getAxisType()!==e.AxisType.REPOSITORY){this.m_view.showDynamicFilterInfoIcon()}}this.updateHead();this.m_controllers=e.XHashMapByString.create();this.m_multiInputControllers=e.XHashMapByString.create();this.setValueList(this.m_model.getValues())};e.VdVariableController.prototype.update=function(){this.updateWithOptions(false)};e.VdVariableController.prototype.updateDisplayedValues=function(){let e=this.m_model.getValues().createListCopy();for(let t=0;t<e.size();t++){this.renderValue(e.get(t))}};e.VdVariableController.prototype.updateHead=function(){let t=this.m_model.getText();if(e.XStringUtils.isNullOrEmpty(t)){t=this.m_model.getName()}else if(this.m_config.isNewSettingsEnabled()){let t=this.m_view.getTechnicalNameLabel();t.setText(e.XStringUtils.concatenate3("[",this.m_model.getName(),"]"));t.setTooltip(this.m_model.getName())}let i=this.m_view.getNameLabel();i.setText(t);if(this.m_config.isGridLayoutEnabled()){i.setTooltip(t);this.m_view.getInvisibleVariableTitleText().setText(t)}else{i.setTooltip(this.m_model.getName())}i.setRequired(this.m_model.isMandatory());let o=this.m_master.isInputEnabled();let n=this.m_view.getClearButton();if(this.m_config.isGridLayoutEnabled()){n.setVisible(false)}else{n.setVisible(this.m_model.getValues().size()>1);n.setEnabled(o)}let a=this.m_view.getClipboardButton();if(this.m_context.getDeviceInfo().isMobile()){a.setVisible(false);a.removeCssClass("ffClipBoardVisible")}else{let t=this.m_model.getVariableType().isTypeOf(e.VariableType.HIERARCHY_NODE_VARIABLE);let i=this.m_model.supportsMultipleValues()&&this.m_model.supportsValueHelp()&&!t;if(i){a.addCssClass("ffClipBoardVisible")}a.setVisible(i);a.setEnabled(o)}this.m_view.getMoreButton().setEnabled(o)};e.VdVariableController.prototype.updateMultiInputKey=function(e,t){let i=this.getMultiInputValueControllerKey(e);let o=this.getMultiInputValueControllerKey(t);if(this.m_multiInputControllers.containsKey(i)){let e=this.m_multiInputControllers.remove(i);this.m_multiInputControllers.put(o,e)}};e.VdVariableController.prototype.updateOperatorsOnClipboadValues=function(t){let i=t.size();for(let o=0;o<i;o++){let i=t.get(o);if(i.getOperator().isNullOperator()){continue}let n=this.getFromCurrentValues(i.getFirstOperand(),i.getSecondOperand());if(e.notNull(n)){i.setOperator(n.getOperator())}else{let t=this.m_model.getSupportedComparisonOperators();if(i.isOperandFilled(e.VdValue.SECOND)&&t.contains(e.VdComparisonOperator.BETWEEN)){i.setOperator(e.VdComparisonOperator.BETWEEN)}else{i.setOperator(t.contains(e.VdComparisonOperator.EQUAL)?e.VdComparisonOperator.EQUAL:this.m_model.getDefaultOperator())}}}};e.VdVariableController.prototype.updateViewForMultiInputOperator=function(e){let t=this.getMultiInputValueControllerKey(e);if(this.m_multiInputControllers.containsKey(t)){let i=this.m_multiInputControllers.getByKey(t);this.m_view.removeValue(i.getView());let o=this.m_model.getInputValue()!==null&&this.m_model.getInputValue().getOperator()===e;if(o){this.m_view.addValue(i.getView())}else{this.m_multiInputControllers.remove(t)}this.updateWithOptions(true)}};e.VdVariableController.prototype.updateWithOptions=function(t){this.updateHead();let i=this.m_model.getValues().createListCopy();let o=e.XSetOfNameObject.create();for(let e=0;e<i.size();e++){let n=i.get(e);let a=n.getOperator();if(t&&this.isSupportedMultiInput(a)){if(o.contains(a)){continue}else{o.add(a)}}this.renderValue(n)}let n=this.m_model.getInputValue();if(e.notNull(n)){this.renderValue(n)}};e.VdVariableController.prototype.wrapUpState=function(){let e=this.m_controllers.getValuesAsReadOnlyList();for(let t=0;t<e.size();t++){if(!e.get(t).wrapUpState()){return false}}let t=this.m_multiInputControllers.getValuesAsReadOnlyList();for(let e=0;e<t.size();e++){if(!t.get(e).wrapUpState()){return false}}return true};e.VdVariableModel=function(){};e.VdVariableModel.prototype=new e.XObject;e.VdVariableModel.prototype._ff_c="VdVariableModel";e.VdVariableModel.EMPTY_OPTIONS=null;e.VdVariableModel.createVariableModel=function(t){let i=new e.VdVariableModel;i.setupVariableModel(t);return i};e.VdVariableModel.prototype.m_defaultOperator=null;e.VdVariableModel.prototype.m_inputValue=null;e.VdVariableModel.prototype.m_interval=false;e.VdVariableModel.prototype.m_invalidValues=null;e.VdVariableModel.prototype.m_listeners=null;e.VdVariableModel.prototype.m_supportedOperators=null;e.VdVariableModel.prototype.m_values=null;e.VdVariableModel.prototype.m_variable=null;e.VdVariableModel.prototype.addListener=function(e){this.m_listeners.add(e)};e.VdVariableModel.prototype.addValue=function(e){this.insertValue(-1,e)};e.VdVariableModel.prototype.clearValues=function(){this.setValues(null)};e.VdVariableModel.prototype.createNewValue=function(){return e.VdValue.createValue(this.m_defaultOperator,null,null)};e.VdVariableModel.prototype.determineOperators=function(){this.m_supportedOperators=e.XListOfNameObject.create();let t=this.m_variable.getVariableType();if(t.isTypeOf(e.VariableType.SIMPLE_TYPE_VARIABLE)){this.m_defaultOperator=e.VdComparisonOperator.EQUAL;return}if(!t.isTypeOf(e.VariableType.DIMENSION_MEMBER_VARIABLE)){return}let i=this.m_variable;let o=i.getFilterCapability();let n=o.getSupportedComparisonOperators(e.SetSign.INCLUDING);let a=o.getSupportedComparisonOperators(e.SetSign.EXCLUDING);if(e.notNull(n)){for(let t=0;t<n.size();t++){let i=n.get(t);if(i.getNumberOfParameters()>1){this.m_interval=true}let o=e.VdComparisonOperator.lookup(i.getName(),false);if(e.notNull(o)){this.m_supportedOperators.add(o)}}}if(e.notNull(a)&&a.contains(e.ComparisonOperator.IS_NULL)){this.m_supportedOperators.add(e.VdComparisonOperator.IS_NOT_NULL)}this.m_defaultOperator=this.m_supportedOperators.hasElements()?this.m_supportedOperators.get(0):e.VdComparisonOperator.UNDEFINED};e.VdVariableModel.prototype.formatValues=function(t){if(!e.XCollectionUtils.hasElements(t)||!this.m_variable.getVariableType().isTypeOf(e.VariableType.SIMPLE_TYPE_VARIABLE)||!this.m_variable.getValueType().isTypeOf(e.XValueType.NUMBER)){return}let i=e.UiNumberFormatterCenter.getCenter();for(let o=0;o<t.size();o++){let n=t.get(o);let a=n.getFirstOperand().getKey();let r=i.format(a);if(e.XStringUtils.isNullOrEmpty(r)){continue}n.setFirstOperand(e.FilterDialogValueFactory.createValue(a,r,null))}};e.VdVariableModel.prototype.getCleanedValue=function(t){if(e.isNull(t)||!t.isFilled()&&!this.isOperatorSwitchPossible(t)){return null}let i=t.clone();let o=i.getOperator();if((o===e.VdComparisonOperator.BETWEEN&&this.m_supportedOperators.contains(e.VdComparisonOperator.EQUAL)||o===e.VdComparisonOperator.NOT_BETWEEN&&this.m_supportedOperators.contains(e.VdComparisonOperator.NOT_EQUAL))&&i.isOperandFilled(e.VdValue.FIRST)&&!i.isOperandFilled(e.VdValue.SECOND)){i.setOperator(o===e.VdComparisonOperator.BETWEEN?e.VdComparisonOperator.EQUAL:e.VdComparisonOperator.NOT_EQUAL)}return i};e.VdVariableModel.prototype.getCleanedValues=function(){let t=e.XList.create();for(let i=0;i<this.m_values.size();i++){e.XCollectionUtils.addIfNotNull(t,this.getCleanedValue(this.m_values.get(i)))}let i=this.getCleanedValue(this.m_inputValue);if(e.notNull(i)&&this.isNewValueInList(t,i)){t.add(i)}return t};e.VdVariableModel.prototype.getDefaultOperator=function(){return this.m_defaultOperator};e.VdVariableModel.prototype.getInputValue=function(){return this.m_inputValue};e.VdVariableModel.prototype.getInvalidValues=function(){return this.m_invalidValues};e.VdVariableModel.prototype.getName=function(){return this.m_variable.getName()};e.VdVariableModel.prototype.getOptions=function(){if(this.m_variable.getVariableType().isTypeOf(e.VariableType.OPTION_LIST_VARIABLE)){return this.m_variable.getOptions()}if(e.isNull(e.VdVariableModel.EMPTY_OPTIONS)){e.VdVariableModel.EMPTY_OPTIONS=e.XListOfNameObject.create()}return e.VdVariableModel.EMPTY_OPTIONS};e.VdVariableModel.prototype.getOrder=function(){return this.m_variable.getVariableOrder()};e.VdVariableModel.prototype.getSupportedComparisonOperators=function(){return this.m_supportedOperators};e.VdVariableModel.prototype.getText=function(){return this.m_variable.getText()};e.VdVariableModel.prototype.getValueType=function(){return this.m_variable.getValueType()};e.VdVariableModel.prototype.getValues=function(){return this.m_values};e.VdVariableModel.prototype.getValuesWithOperator=function(t){return e.XStream.of(this.m_values).filter(e=>e.getOperator()===t).collect(e.XStreamCollector.toList())};e.VdVariableModel.prototype.getVariable=function(){return this.m_variable};e.VdVariableModel.prototype.getVariableType=function(){return this.m_variable.getVariableType()};e.VdVariableModel.prototype.handleMissingValue=function(t){if(!t.isFilled()&&!this.isOperatorSwitchPossible(t)){let i=!t.isOperandFilled(0)?0:1;t.setError(i,e.OuVariableDialogI18nLegacy.getProvider().getText(e.OuVariableDialogI18nLegacy.I18N_VD_ERROR_MSG_VALUE_MISSING));return true}return false};e.VdVariableModel.prototype.hasCheckTable=function(){if(this.getVariableType().isTypeOf(e.VariableType.DIMENSION_MEMBER_VARIABLE)){let e=this.m_variable;let t=e.getDimension();if(!t.isStructure()&&!t.isHierarchyActive()){return t.getHasCheckTable()}return true}return false};e.VdVariableModel.prototype.insertValue=function(e,t){if(!this.supportsMultipleValues()&&this.m_values.size()===1){return}if(e<0){this.m_values.add(t)}else{this.m_values.insert(e,t)}for(let e=this.m_listeners.size()-1;e>=0;e--){this.m_listeners.get(e).onValueAdded(t)}};e.VdVariableModel.prototype.isInterval=function(){return this.m_interval};e.VdVariableModel.prototype.isMandatory=function(){return this.m_variable.isMandatory()};e.VdVariableModel.prototype.isNewValue=function(e){return this.isNewValueInList(this.getValues(),e)};e.VdVariableModel.prototype.isNewValueInList=function(t,i){let o=i.isFilled();let n=t.size();for(let a=0;a<n;a++){let n=t.get(a);if(!e.XString.isEqual(i.getId(),n.getId())){if(i.getOperator()===e.VdComparisonOperator.IS_NULL&&n.getOperator()===e.VdComparisonOperator.IS_NOT_NULL||i.getOperator()===e.VdComparisonOperator.IS_NOT_NULL&&n.getOperator()===e.VdComparisonOperator.IS_NULL){continue}if(o&&i.operandsEqualTo(n)||!o&&i.isEqualTo(n)){return false}}}return true};e.VdVariableModel.prototype.isOperatorInUse=function(t){let i=e.XList.createWithList(this.m_values);if(e.notNull(this.m_inputValue)){i.add(this.m_inputValue)}return e.XStream.of(i).find(e=>e.getOperator()===t).isPresent()};e.VdVariableModel.prototype.isOperatorSwitchPossible=function(t){let i=t.getOperator();return(i===e.VdComparisonOperator.BETWEEN&&this.m_supportedOperators.contains(e.VdComparisonOperator.EQUAL)||i===e.VdComparisonOperator.NOT_BETWEEN&&this.m_supportedOperators.contains(e.VdComparisonOperator.NOT_EQUAL))&&t.isOperandFilled(e.VdValue.FIRST)&&!t.isOperandFilled(e.VdValue.SECOND)};e.VdVariableModel.prototype.releaseObject=function(){this.m_variable=null;this.m_values=e.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_values);this.m_inputValue=e.XObjectExt.release(this.m_inputValue);this.m_invalidValues=e.XObjectExt.release(this.m_invalidValues);this.m_listeners=e.XObjectExt.release(this.m_listeners);e.XObject.prototype.releaseObject.call(this)};e.VdVariableModel.prototype.removeListener=function(e){this.m_listeners.removeElement(e)};e.VdVariableModel.prototype.removeValue=function(t){if(t===this.m_inputValue){this.m_inputValue.clear();return}for(let i=this.m_values.size()-1;i>=0;i--){if(this.m_values.get(i)===t){this.m_values.removeAt(i);for(let e=this.m_listeners.size()-1;e>=0;e--){this.m_listeners.get(e).onValueRemoved(t,i)}e.XObjectExt.release(t);return}}};e.VdVariableModel.prototype.removeValuesWithOperator=function(t){let i=e.XList.create();i.addAll(this.m_values);e.XStream.of(i).filter(e=>e.getOperator()===t).forEach(this.removeValue.bind(this))};e.VdVariableModel.prototype.setDefaultOption=function(){if(!this.isMandatory()||!this.m_values.isEmpty()){return}if(this.getVariableType().isTypeOf(e.VariableType.OPTION_LIST_VARIABLE)){let t=this.getOptions();if(e.XCollectionUtils.hasElements(t)){let i=this.createNewValue();i.setFirstOperand(e.FilterDialogValueFactory.createValue(t.get(0).getName(),null,null));this.m_values.add(i)}}else if(this.getValueType().isBoolean()){let t=this.createNewValue();t.setFirstOperand(e.FilterDialogValueFactory.createValue(e.XBoolean.convertToString(true),null,null));this.m_values.add(t)}};e.VdVariableModel.prototype.setInputValue=function(e){this.m_inputValue=e};e.VdVariableModel.prototype.setMultiInputValues=function(t,i){let o=e.XList.create();for(let t=0;t<this.m_values.size();t++){let n=this.m_values.get(t);if(n.getOperator()!==i&&!(n.getOperator()===e.VdComparisonOperator.IS_NULL&&i===e.VdComparisonOperator.EQUAL)&&!(n.getOperator()===e.VdComparisonOperator.IS_NOT_NULL&&i===e.VdComparisonOperator.NOT_EQUAL)){o.add(n)}}this.m_values.clear();this.formatValues(t);let n=e.XList.create();n.addAll(o);for(let e=0;e<t.size();e++){let i=t.get(e);if(this.isNewValueInList(o,i)){n.add(i)}}this.setValuesInternal(n);this.setDefaultOption()};e.VdVariableModel.prototype.setValues=function(e){this.m_values.clear();this.formatValues(e);this.setValuesInternal(e);this.setDefaultOption()};e.VdVariableModel.prototype.setValuesInternal=function(t){this.m_inputValue=null;if(e.isNull(t)){this.m_values=e.XList.create()}else if(!this.supportsMultipleValues()&&t.size()>1){this.m_values=e.XCollectionUtils.singletonList(t.get(0))}else{this.m_values=t}for(let e=this.m_listeners.size()-1;e>=0;e--){this.m_listeners.get(e).onValuesSet()}};e.VdVariableModel.prototype.setupVariableModel=function(t){this.m_variable=t;this.m_values=e.XList.create();this.m_listeners=e.XList.create();this.determineOperators()};e.VdVariableModel.prototype.supportsMultipleValues=function(){let t=this.getVariableType();return this.m_variable.supportsMultipleValues()&&(t.isTypeOf(e.VariableType.DIMENSION_MEMBER_VARIABLE)||t.isTypeOf(e.VariableType.SIMPLE_TYPE_VARIABLE))};e.VdVariableModel.prototype.supportsValueHelp=function(){if(this.getVariableType().isTypeOf(e.VariableType.DIMENSION_MEMBER_VARIABLE)){return this.m_variable.supportsValueHelp()}return false};e.VdVariableModel.prototype.toString=function(){if(e.isNull(this.m_variable)){return""}let t=e.XStringBuffer.create();t.append(this.m_variable.getName()).append("=[");for(let e=0;e<this.m_values.size();e++){t.append("{");let i=this.m_values.get(e);t.append(i.toString());t.append("}");if(e+1<this.m_values.size()){t.append(", ")}}t.append("]");return t.toString()};e.VdVariableModel.prototype.validateSimpleType=function(e,t){this.validateSimpleTypeInput(e,e.getOperand(t).getDisplayKey(),t)};e.VdVariableModel.prototype.validateSimpleTypeInput=function(t,i,o){if(this.getVariableType().isTypeOf(e.VariableType.SIMPLE_TYPE_VARIABLE)){let n=e.OuVariableDialogI18nLegacy.getProvider();let a=e.UiNumberFormatterCenter.getCenter();if(this.m_variable.isMandatory()&&!this.m_variable.supportsMultipleValues()&&e.XStringUtils.isNullOrEmpty(i)){t.setError(o,n.getTextWithPlaceholder(e.OuVariableDialogI18nLegacy.I18N_VD_ERROR_MSG_MANDATORY_VAR,this.m_variable.getText()));return}if(e.XStringUtils.isNullOrEmpty(i)){return}let r=this.getValueType();if(r.isTypeOf(e.XValueType.NUMBER)){let r=a.format(a.parseFormattedNumber(i));if(e.XStringUtils.isNotNullAndNotEmpty(r)){if(!e.XString.isEqual(r,i)){t.setWarning(o,n.getTextWithPlaceholder(e.OuVariableDialogI18nLegacy.I18N_VD_WARNING_MSG_NUMBER_FORMAT,r))}}else{t.setError(o,n.getText(e.OuVariableDialogI18nLegacy.I18N_VD_ERROR_MSG_NUMBER_VALIDATION))}}}};e.VdVariableModel.prototype.validateValues=function(){let t=true;let i=true;let o=this.m_variable.getVariableType();let n=e.OuVariableDialogI18nLegacy.getProvider();this.m_invalidValues=e.XList.create();if(o.isTypeOf(e.VariableType.DIMENSION_MEMBER_VARIABLE)||o.isTypeOf(e.VariableType.SIMPLE_TYPE_VARIABLE)){if(e.notNull(this.m_inputValue)&&!this.m_inputValue.isEmpty()&&this.handleMissingValue(this.m_inputValue)){t=false;this.m_invalidValues.add(this.m_inputValue)}for(let e=0;e<this.m_values.size();e++){let o=this.m_values.get(e);if(o.isEmpty()){continue}if(o.hasErrors()){t=false;this.m_invalidValues.add(o)}else if(this.handleMissingValue(o)){t=false;this.m_invalidValues.add(o)}else{i=false}}}else if(o.isTypeOf(e.VariableType.OPTION_LIST_VARIABLE)){for(let e=0;e<this.m_values.size();e++){if(this.m_values.get(e).hasErrors()){t=false;this.m_invalidValues.add(this.m_values.get(e))}else{i=false}}}if(e.notNull(this.m_inputValue)&&this.m_inputValue.hasErrors()){t=false;this.m_invalidValues.add(this.m_inputValue)}if(t&&this.m_variable.isMandatory()&&i){t=false;let i=e.notNull(this.m_inputValue)||this.m_values.isEmpty()?this.m_inputValue:this.m_values.get(this.m_values.size()-1);if(e.notNull(i)){this.m_invalidValues.add(i);i.setError(-1,n.getTextWithPlaceholder(e.OuVariableDialogI18nLegacy.I18N_VD_ERROR_MSG_MANDATORY_VAR,this.m_variable.getText()))}}return t};e.VdVhMobileTester=function(){};e.VdVhMobileTester.prototype=new e.XObject;e.VdVhMobileTester.prototype._ff_c="VdVhMobileTester";e.VdVhMobileTester.testCalendarRange=function(t){let i=t;if(e.isNull(i)){i=e.ApplicationFactory.createDefaultApplication()}let o=new e.VdVhMobileTester;o.testRangeCalendarView(i);return o};e.VdVhMobileTester.testCalendarSingle=function(t){let i=t;if(e.isNull(i)){i=e.ApplicationFactory.createDefaultApplication()}let o=new e.VdVhMobileTester;o.testSingleCalendarView(i);return o};e.VdVhMobileTester.testMemberSelector=function(t,i){let o=t;if(e.isNull(o)){let t=e.DefaultSession.createWithVersion(e.XVersion.MAX);t.getEnvironment().put("ff_sdk","${ff_network_dir}/");let i=e.XUri.createFromFilePath(t,"${ff_sdk}/production/systems/SystemLandscapeAllWithPwds.json",e.PathFormat.AUTO_DETECT,e.VarResolveMode.DOLLAR,null);let n=i.getUrl();let a=e.ApplicationFactory.createApplicationWithVersionAndLandscape(t,e.XVersion.MAX,n);o=a.getData()}let n=i;if(e.isNull(n)){let t=e.QueryServiceConfig.createWithDataSourceName(o,"KIW","query:[0BOC_TEST_VARIABLE_TYPES_1]");let i=t.processQueryManagerCreation(e.SyncType.BLOCKING,null,null);let a=i.getData();n=a.getVariables().get(1)}let a=new e.VdVhMobileTester;a.testMemberSelectorView(o,n);return a};e.VdVhMobileTester.testOperatorList=function(t){let i=t;if(e.isNull(i)){i=e.ApplicationFactory.createDefaultApplication()}let o=new e.VdVhMobileTester;o.testOperatorListView(i);return o};e.VdVhMobileTester.testOperatorWorkflow=function(t,i){let o=t;if(e.isNull(o)){let t=e.DefaultSession.createWithVersion(e.XVersion.MAX);t.getEnvironment().put("ff_sdk","${ff_network_dir}/");let i=e.XUri.createFromFilePath(t,"${ff_sdk}/production/systems/SystemLandscapeAllWithPwds.json",e.PathFormat.AUTO_DETECT,e.VarResolveMode.DOLLAR,null);let n=i.getUrl();let a=e.ApplicationFactory.createApplicationWithVersionAndLandscape(t,e.XVersion.MAX,n);o=a.getData()}let n=i;if(e.isNull(n)){let t=e.QueryServiceConfig.createWithDataSourceName(o,"KIW","query:[0BOC_TEST_VARIABLE_TYPES_1]");let i=t.processQueryManagerCreation(e.SyncType.BLOCKING,null,null);let a=i.getData();n=a.getVariables().get(1)}let a=new e.VdVhMobileTester;a.prepareOperatorWorkflow(o,n);return a};e.VdVhMobileTester.testSimpleList=function(t){let i=t;if(e.isNull(i)){i=e.ApplicationFactory.createDefaultApplication()}let o=new e.VdVhMobileTester;o.testSimpleListView(i);return o};e.VdVhMobileTester.prototype.m_dialog=null;e.VdVhMobileTester.prototype.m_genesis=null;e.VdVhMobileTester.prototype.onPress=function(t){let i=t.getControl().getName();if(e.XString.isEqual(i,"vdVhMobileDialogCloseBtn")){this.m_dialog.close()}if(e.XString.isEqual(i,"vdVhMobileDialogOkBtn")){this.m_dialog.close();let i=t.getControl().getParent().getCustomObject();let o=e.XStringUtils.concatenate2("startDate: ",i.getStartDate());let n=e.XStringUtils.concatenate2("endDate: ",i.getEndDate());let a=e.XStringUtils.concatenate3(o," ",n);this.m_genesis.showSuccessToast(a)}if(e.XString.isEqual(i,"vdVhMobileDialogMemberSelectorOkBtn")){this.m_dialog.close();let e=t.getControl().getParent().getCustomObject();e.triggerSelection()}if(e.XString.isEqual(i,"vdVhMobileDialogWorkflowOkBtn")){this.m_dialog.close();let t=this.m_dialog.getCustomObject();let i="Operator workflow finished! Operator: ";if(e.XStringUtils.isNotNullAndNotEmpty(t.getSelectedOperatorItem().getName())){i=e.XStringUtils.concatenate3(i,t.getSelectedOperatorItem().getName(),",")}if(t.getSelectedFromItem()!==null){i=e.XStringUtils.concatenate3(i," Item1:",t.getSelectedFromItem().getText())}if(t.getSelectedToItem()!==null){i=e.XStringUtils.concatenate3(i,", Item2:",t.getSelectedToItem().getText())}this.m_genesis.showSuccessToast(i)}};e.VdVhMobileTester.prototype.onVhMobileOperatorWorkflowFinished=function(e,t,i){if(!this.m_dialog.getDialogButtonByName("vdVhMobileDialogWorkflowOkBtn").isEnabled()){this.m_dialog.getDialogButtonByName("vdVhMobileDialogWorkflowOkBtn").setEnabled(true)}};e.VdVhMobileTester.prototype.onVhMobileOperatorWorkflowNavigate=function(e,t){this.m_dialog.getDialogButtonByName("vdVhMobileDialogWorkflowOkBtn").setVisible(e===t-1)};e.VdVhMobileTester.prototype.onVhMobileValuesSelected=function(t){let i="result missing";if(e.XString.isEqual(t.getViewName(),e.VdVhMobileCalendar.VIEW_NAME)){this.m_dialog.close();let e=t;i=e.getStartDate()}if(e.XString.isEqual(t.getViewName(),e.VdVhMobileRangeCalendar.VIEW_NAME)){let o=t;i=e.XStringUtils.concatenate4("startDate:",o.getStartDate()," endDate:",o.getEndDate())}if(e.XString.isEqual(t.getViewName(),e.VdVhMobileList.VIEW_NAME)){this.m_dialog.close();let e=t;i=e.getSelectedItem().getName()}if(e.XString.isEqual(t.getViewName(),e.VdVhMobileMemberSelector.VIEW_NAME)){this.m_dialog.close();let e=t;i=e.getSelectedItem().getText()}this.m_genesis.showSuccessToast(i)};e.VdVhMobileTester.prototype.prepareOperatorWorkflow=function(t,i){let o=t.getUiManager();let n=e.OlapUiContext.createContext(o,e.OlapUiDisplayFactory.createFactoryForDialog(o));let a=e.VdVariableModel.createVariableModel(i);let r=e.VdVhMobileOperatorWorkflow.createWithVariableModel(n,a,null,this);this.setupExt(t.getUiManager(),null,i.getText());this.m_dialog.setName("vdVhMobileDialogOperatorList");this.m_dialog.setCustomObject(r);this.m_dialog.setPadding(e.UiCssBoxEdges.create("0px"));this.m_dialog.setContent(r.getWorkflowView());let l=this.m_dialog.addNewDialogButton();l.setName("vdVhMobileDialogWorkflowOkBtn");l.setText("Ok");l.setButtonType(e.UiButtonType.PRIMARY);l.setEnabled(false);l.setVisible(false);l.registerOnPress(this);let s=this.m_dialog.addNewDialogButton();s.setName("vdVhMobileDialogCloseBtn");s.setText("Cancel");s.registerOnPress(this);r.start();this.m_dialog.open()};e.VdVhMobileTester.prototype.releaseObject=function(){this.m_dialog=e.XObjectExt.release(this.m_dialog);this.m_genesis=null;e.XObject.prototype.releaseObject.call(this)};e.VdVhMobileTester.prototype.setupExt=function(t,i,o){this.m_genesis=t.getFreeGenesis();this.m_dialog=this.m_genesis.newControl(e.UiType.DIALOG);this.m_dialog.useMaxSpace();this.m_dialog.setTitle(o);if(e.notNull(i)){this.m_dialog.setContent(i.getPage())}};e.VdVhMobileTester.prototype.testMemberSelectorView=function(t,i){let o=t.getUiManager();let n=e.OlapUiContext.createContext(o,e.OlapUiDisplayFactory.createFactoryForDialog(o));let a=e.VdVhMobileMemberSelector.create(n,i,null,null,this);this.setupExt(t.getUiManager(),a,"Select Member");this.m_dialog.setName("vdVhMobileDialogMemberSelector");this.m_dialog.setCustomObject(a);this.m_dialog.setPadding(e.UiCssBoxEdges.create("0px"));let r=this.m_dialog.addNewDialogButton();r.setName("vdVhMobileDialogCloseBtn");r.setText("Cancel");r.registerOnPress(this);this.m_dialog.open()};e.VdVhMobileTester.prototype.testOperatorListView=function(t){let i=t.getUiManager();let o=e.XList.create();o.add(e.VdVhMobileListItem.create(e.VdComparisonOperator.IS_NULL.getName(),e.VdComparisonOperator.IS_NULL.getLongText(),e.VdComparisonOperator.IS_NULL));o.add(e.VdVhMobileListItem.create(e.VdComparisonOperator.IS_NOT_NULL.getName(),e.VdComparisonOperator.IS_NOT_NULL.getLongText(),e.VdComparisonOperator.IS_NOT_NULL));o.add(e.VdVhMobileListItem.create(e.VdComparisonOperator.EQUAL.getName(),e.VdComparisonOperator.EQUAL.getLongText(),e.VdComparisonOperator.EQUAL));o.add(e.VdVhMobileListItem.create(e.VdComparisonOperator.NOT_EQUAL.getName(),e.VdComparisonOperator.NOT_EQUAL.getLongText(),e.VdComparisonOperator.NOT_EQUAL));o.add(e.VdVhMobileListItem.create(e.VdComparisonOperator.GREATER_THAN.getName(),e.VdComparisonOperator.GREATER_THAN.getLongText(),e.VdComparisonOperator.GREATER_THAN));o.add(e.VdVhMobileListItem.create(e.VdComparisonOperator.GREATER_EQUAL.getName(),e.VdComparisonOperator.GREATER_EQUAL.getLongText(),e.VdComparisonOperator.GREATER_EQUAL));o.add(e.VdVhMobileListItem.create(e.VdComparisonOperator.LESS_THAN.getName(),e.VdComparisonOperator.LESS_THAN.getLongText(),e.VdComparisonOperator.LESS_THAN));o.add(e.VdVhMobileListItem.create(e.VdComparisonOperator.LESS_EQUAL.getName(),e.VdComparisonOperator.LESS_EQUAL.getLongText(),e.VdComparisonOperator.LESS_EQUAL));o.add(e.VdVhMobileListItem.create(e.VdComparisonOperator.BETWEEN.getName(),e.VdComparisonOperator.BETWEEN.getLongText(),e.VdComparisonOperator.BETWEEN));o.add(e.VdVhMobileListItem.create(e.VdComparisonOperator.NOT_BETWEEN.getName(),e.VdComparisonOperator.NOT_BETWEEN.getLongText(),e.VdComparisonOperator.NOT_BETWEEN));let n=e.VdVhMobileList.create(i,o,e.VdComparisonOperator.EQUAL.getName(),this);this.setupExt(t.getUiManager(),n,"Select Operator of Type");this.m_dialog.setName("vdVhMobileDialogOperatorList");this.m_dialog.setCustomObject(n);this.m_dialog.setPadding(e.UiCssBoxEdges.create("0px"));let a=this.m_dialog.addNewDialogButton();a.setName("vdVhMobileDialogCloseBtn");a.setText("Cancel");a.registerOnPress(this);this.m_dialog.open()};e.VdVhMobileTester.prototype.testRangeCalendarView=function(t){let i=e.VdVhMobileRangeCalendar.create(t.getUiManager(),"yyyy-MM-dd","2016-03-11","2016-03-15",this);i.setIsMandatory(true);this.setupExt(t.getUiManager(),i,"Please select a date range");this.m_dialog.setName("vdVhMobileDialogRangeDate");this.m_dialog.setCustomObject(i);let o=this.m_dialog.addNewDialogButton();o.setName("vdVhMobileDialogOkBtn");o.setText("Ok");o.setButtonType(e.UiButtonType.PRIMARY);o.registerOnPress(this);let n=this.m_dialog.addNewDialogButton();n.setName("vdVhMobileDialogCloseBtn");n.setText("Cancel");n.registerOnPress(this);this.m_dialog.open()};e.VdVhMobileTester.prototype.testSimpleListView=function(t){let i=t.getUiManager();let o=e.XList.create();o.add(e.VdVhMobileListItem.create("one_time","1x",null));o.add(e.VdVhMobileListItem.create("two_times","2x",null));o.add(e.VdVhMobileListItem.create("x_times","x",null));let n=e.VdVhMobileList.create(i,o,null,this);this.setupExt(t.getUiManager(),n,"Select for Input Multiplier");this.m_dialog.setName("vdVhMobileDialogSimpleList");this.m_dialog.setCustomObject(n);this.m_dialog.setPadding(e.UiCssBoxEdges.create("0px"));let a=this.m_dialog.addNewDialogButton();a.setName("vdVhMobileDialogCloseBtn");a.setText("Cancel");a.registerOnPress(this);this.m_dialog.open()};e.VdVhMobileTester.prototype.testSingleCalendarView=function(t){let i=e.VdVhMobileCalendar.create(t.getUiManager(),"yyyy-MM-dd","2016-03-11",this);i.setIsMandatory(false);this.setupExt(t.getUiManager(),i,"Please select a date");this.m_dialog.setName("VdVhMobileDialogSingleDate");this.m_dialog.setCustomObject(i);let o=this.m_dialog.addNewDialogButton();o.setName("vdVhMobileDialogCloseBtn");o.setText("Cancel");o.registerOnPress(this);this.m_dialog.open()};e.VdVhMobileController=function(){};e.VdVhMobileController.prototype=new e.XObject;e.VdVhMobileController.prototype._ff_c="VdVhMobileController";e.VdVhMobileController.VD_MOBILE_VH_ISO_DATE_FORMAT="yyyy-MM-dd";e.VdVhMobileController.VD_MOBILE_VH_TYPE_CALENDAR=1;e.VdVhMobileController.VD_MOBILE_VH_TYPE_NOT_SUPPORTED=0;e.VdVhMobileController.VD_MOBILE_VH_TYPE_OPERATOR_WORKFLOW=5;e.VdVhMobileController.VD_MOBILE_VH_TYPE_OPTION_LIST=3;e.VdVhMobileController.VD_MOBILE_VH_TYPE_RANGE_CALENDAR=2;e.VdVhMobileController.VD_MOBILE_VH_TYPE_SINGLE_DIMENSION_MEMBER=4;e.VdVhMobileController.createForVariableModel=function(t,i,o,n){let a=new e.VdVhMobileController;a.setupController(t,i,o,n);return a};e.VdVhMobileController.supportsMobileValueHelp=function(t){if(t.getVariableType().isTypeOf(e.VariableType.OPTION_LIST_VARIABLE)){return true}if(t.getValueType().isDateBased()){if(t.supportsMultipleValues()&&t.isInterval()){return false}return true}if(t.supportsValueHelp()){if(t.supportsMultipleValues()&&t.isInterval()){return false}return true}return false};e.VdVhMobileController.prototype.m_closeListener=null;e.VdVhMobileController.prototype.m_containerDialog=null;e.VdVhMobileController.prototype.m_uiMgr=null;e.VdVhMobileController.prototype.m_valueHelpType=0;e.VdVhMobileController.prototype.m_variableModel=null;e.VdVhMobileController.prototype.m_vdConfig=null;e.VdVhMobileController.prototype.m_vdVariableForm=null;e.VdVhMobileController.prototype.cancelSubmit=function(){this.m_containerDialog.close();if(e.notNull(this.m_closeListener)){this.m_closeListener.onFilterDialogCancel()}else{this.m_vdVariableForm.cancelReinit()}};e.VdVhMobileController.prototype.createCalendarValueHelp=function(){let t=e.OuVariableDialogI18nLegacy.getProvider();let i=null;if(this.m_variableModel.getValues().size()>0){i=this.m_variableModel.getValues().get(0).getFirstOperand().getKey();i=this.formatDateToIsoFormat(i)}let o=e.VdVhMobileCalendar.create(this.m_uiMgr,e.VdVhMobileController.VD_MOBILE_VH_ISO_DATE_FORMAT,i,this);o.setIsMandatory(this.m_variableModel.isMandatory());this.m_containerDialog.setName("VdVhMobileDialogSingleDate");this.m_containerDialog.setTitle(t.getText(e.OuVariableDialogI18nLegacy.I18N_VD_VH_MOBILE_DATE_VIEW_SELECT_DATE));this.m_containerDialog.setContent(o.getPage());this.m_containerDialog.setCustomObject(o);if(!this.m_variableModel.isMandatory()){let i=this.m_containerDialog.addNewDialogButton();i.setName("VdVhMobileSingleCalendarDialogOkBtn");i.setText(t.getText(e.OuVariableDialogI18nLegacy.I18N_OK));i.setButtonType(e.UiButtonType.PRIMARY);i.registerOnPress(this)}};e.VdVhMobileController.prototype.createOperatorWorkflowValueHelp=function(){let t=e.VdVhMobileOperatorWorkflow.createWithVariableModel(this.m_vdVariableForm.getContext(),this.m_variableModel,this.m_vdConfig,this);this.m_containerDialog.setName("VdVhMobileDialogOperatorWorkflow");this.m_containerDialog.setTitle(this.m_variableModel.getVariable().getText());this.m_containerDialog.setContent(t.getWorkflowView());this.m_containerDialog.setCustomObject(t);let i=this.m_containerDialog.addNewDialogButton();i.setName("VdVhMobileDialogWorkflowOkBtn");i.setText(e.OuVariableDialogI18nLegacy.getProvider().getText(e.OuVariableDialogI18nLegacy.I18N_OK));i.setButtonType(e.UiButtonType.PRIMARY);i.setEnabled(false);i.setVisible(false);i.registerOnPress(this);t.start()};e.VdVhMobileController.prototype.createOptionListValueHelp=function(){let t=e.XList.create();let i=null;if(!this.m_variableModel.isMandatory()){t.add(e.VdVhMobileListItem.create(e.VdConstants.EMPTY_OPTION,"",null))}if(this.m_variableModel.getOptions().size()>0){e.XCollectionUtils.forEach(this.m_variableModel.getOptions(),i=>{let o=e.VdVhMobileListItem.create(i.getName(),i.getText(),null);t.add(o)})}if(this.m_variableModel.getValues()!==null&&this.m_variableModel.getValues().size()>0){i=this.m_variableModel.getValues().get(0).getFirstOperand().getKey()}else if(t.size()>0){i=t.get(0).getName()}let o=e.VdVhMobileList.create(this.m_uiMgr,t,i,this);this.m_containerDialog.setName("VdVhMobileDialogSimpleList");this.m_containerDialog.setTitle(e.OuVariableDialogI18nLegacy.getProvider().getTextWithPlaceholder(e.OuVariableDialogI18nLegacy.I18N_VD_VH_MOBILE_LIST_VIEW_SELECT,this.m_variableModel.getVariable().getText()));this.m_containerDialog.setContent(o.getPage());this.m_containerDialog.setCustomObject(o)};e.VdVhMobileController.prototype.createRangeCalendarValueHelp=function(){let t=e.OuVariableDialogI18nLegacy.getProvider();let i=null;let o=null;if(this.m_variableModel.getValues().size()>0){i=this.m_variableModel.getValues().get(0).getFirstOperand().getKey();o=this.m_variableModel.getValues().get(0).getSecondOperand().getKey();i=this.formatDateToIsoFormat(i);o=this.formatDateToIsoFormat(o)}let n=e.VdVhMobileRangeCalendar.create(this.m_uiMgr,e.VdVhMobileController.VD_MOBILE_VH_ISO_DATE_FORMAT,i,o,this);n.setIsMandatory(this.m_variableModel.isMandatory());this.m_containerDialog.setName("VdVhMobileDialogRangeDate");this.m_containerDialog.setTitle(t.getText(e.OuVariableDialogI18nLegacy.I18N_VD_VH_MOBILE_RANGE_DATE_VIEW_SELECT_DATE_RANGE));this.m_containerDialog.setContent(n.getPage());this.m_containerDialog.setCustomObject(n);let a=this.m_containerDialog.addNewDialogButton();a.setName("VdVhMobileRangeCalendarDialogOkBtn");a.setText(t.getText(e.OuVariableDialogI18nLegacy.I18N_OK));a.setButtonType(e.UiButtonType.PRIMARY);a.registerOnPress(this)};e.VdVhMobileController.prototype.createSingleDimensionMemberValueHelp=function(){let t=null;if(this.m_variableModel.getValues().size()>0){let e=this.m_variableModel.getValues().get(0);t=e.getFirstOperand()}let i=e.VdVhMobileMemberSelector.create(this.m_vdVariableForm.getContext(),this.m_variableModel.getVariable(),this.m_vdConfig,t,this);this.m_containerDialog.setName("VdVhMobileDialogSingleDimensionMember");this.m_containerDialog.setTitle(this.m_variableModel.getVariable().getText());this.m_containerDialog.setContent(i.getPage());this.m_containerDialog.setCustomObject(i);if(!this.m_variableModel.isMandatory()){let t=this.m_containerDialog.addNewDialogButton();t.setName("VdVhMobileDialogSingleDimensionMemberOkBtn");t.setText(e.OuVariableDialogI18nLegacy.getProvider().getText(e.OuVariableDialogI18nLegacy.I18N_OK));t.setButtonType(e.UiButtonType.PRIMARY);t.registerOnPress(this)}};e.VdVhMobileController.prototype.formatDateToIsoFormat=function(t){let i=e.XDate.createDateSafe(t);if(e.notNull(i)){return i.toIsoFormat()}return t};e.VdVhMobileController.prototype.getValueHelpType=function(){if(!this.m_variableModel.supportsMultipleValues()){if(this.m_variableModel.getValueType().isDateBased()&&(this.m_vdConfig.useDatePicker()||this.m_variableModel.getVariableType().isTypeOf(e.VariableType.SIMPLE_TYPE_VARIABLE))){if(this.m_variableModel.isInterval()){return e.VdVhMobileController.VD_MOBILE_VH_TYPE_RANGE_CALENDAR}return e.VdVhMobileController.VD_MOBILE_VH_TYPE_CALENDAR}if(this.m_variableModel.getVariableType().isTypeOf(e.VariableType.DIMENSION_MEMBER_VARIABLE)){if(this.m_variableModel.isInterval()){return e.VdVhMobileController.VD_MOBILE_VH_TYPE_OPERATOR_WORKFLOW}return e.VdVhMobileController.VD_MOBILE_VH_TYPE_SINGLE_DIMENSION_MEMBER}}if(this.m_variableModel.getVariableType().isTypeOf(e.VariableType.OPTION_LIST_VARIABLE)){return e.VdVhMobileController.VD_MOBILE_VH_TYPE_OPTION_LIST}return e.VdVhMobileController.VD_MOBILE_VH_TYPE_NOT_SUPPORTED};e.VdVhMobileController.prototype.handleListSelect=function(t){let i=t.getSelectedItem();let o=null;if(e.notNull(i)){let t=e.FilterDialogValueFactory.createValue(i.getName(),null,i.getText());let n=e.VdValue.createValue(e.VdComparisonOperator.EQUAL,t,null);o=e.XCollectionUtils.singletonList(n)}this.submitValues(o)};e.VdVhMobileController.prototype.handleOperatorWorkflowSelect=function(t){let i=t.getSelectedFromItem();let o=t.getSelectedToItem();let n=t.getSelectedOperatorItem().getCustomObject();let a=null;if(e.notNull(i)){let t=this.m_variableModel.createNewValue();if(i.isNull()){t.setOperator(e.VdComparisonOperator.IS_NULL)}else{t.setOperator(n)}t.setFirstOperand(i);if(e.notNull(o)){t.setSecondOperand(o)}a=e.XCollectionUtils.singletonList(t)}this.submitValues(a)};e.VdVhMobileController.prototype.handleRangeDateSelect=function(t){let i=t.getStartDate();let o=t.getEndDate();let n=null;if(e.XStringUtils.isNotNullAndNotEmpty(i)){let t=e.FilterDialogValueFactory.createValueWithType(i,null,null,e.XValueType.DATE);let a=e.FilterDialogValueFactory.createValueWithType(o,null,null,e.XValueType.DATE);let r=e.VdValue.createValue(e.VdComparisonOperator.BETWEEN,t,a);n=e.XCollectionUtils.singletonList(r)}this.submitValues(n)};e.VdVhMobileController.prototype.handleSingleDateSelect=function(t){let i=t.getStartDate();let o=null;if(e.XStringUtils.isNotNullAndNotEmpty(i)){let t=e.FilterDialogValueFactory.createValueWithType(i,null,null,e.XValueType.DATE);let n=e.VdValue.createValue(e.VdComparisonOperator.EQUAL,t,null);o=e.XCollectionUtils.singletonList(n)}this.submitValues(o)};e.VdVhMobileController.prototype.handleSingleDimensionMemberSelect=function(t){let i=t.getSelectedItem();let o=null;if(e.notNull(i)){let t=e.VdValue.createValue(e.VdComparisonOperator.EQUAL,i,null);o=e.XCollectionUtils.singletonList(t)}this.submitValues(o)};e.VdVhMobileController.prototype.mobileValueHelpViewAvailable=function(){return this.m_valueHelpType!==e.VdVhMobileController.VD_MOBILE_VH_TYPE_NOT_SUPPORTED};e.VdVhMobileController.prototype.onPress=function(t){let i=t.getControl().getName();if(e.XString.isEqual(i,"VdVhMobileDialogCloseBtn")){this.cancelSubmit()}else if(e.XString.isEqual(i,"VdVhMobileSingleCalendarDialogOkBtn")){let e=t.getControl().getParent().getCustomObject();this.handleSingleDateSelect(e)}else if(e.XString.isEqual(i,"VdVhMobileRangeCalendarDialogOkBtn")){let e=t.getControl().getParent().getCustomObject();this.handleRangeDateSelect(e)}else if(e.XString.isEqual(i,"VdVhMobileDialogWorkflowOkBtn")){let e=this.m_containerDialog.getCustomObject();this.handleOperatorWorkflowSelect(e)}else if(e.XString.isEqual(i,"VdVhMobileDialogSingleDimensionMemberOkBtn")){let e=this.m_containerDialog.getCustomObject();e.triggerSelection()}};e.VdVhMobileController.prototype.onVhMobileOperatorWorkflowFinished=function(e,t,i){this.m_containerDialog.getDialogButtonByName("VdVhMobileDialogWorkflowOkBtn").setEnabled(true)};e.VdVhMobileController.prototype.onVhMobileOperatorWorkflowNavigate=function(e,t){let i=e===t-1;this.m_containerDialog.getDialogButtonByName("VdVhMobileDialogWorkflowOkBtn").setVisible(i);if(i&&!this.m_variableModel.isMandatory()){this.m_containerDialog.getDialogButtonByName("VdVhMobileDialogWorkflowOkBtn").setEnabled(true)}};e.VdVhMobileController.prototype.onVhMobileValuesSelected=function(t){if(e.XString.isEqual(t.getViewName(),e.VdVhMobileCalendar.VIEW_NAME)){this.handleSingleDateSelect(t)}else if(e.XString.isEqual(t.getViewName(),e.VdVhMobileList.VIEW_NAME)){this.handleListSelect(t)}else if(e.XString.isEqual(t.getViewName(),e.VdVhMobileMemberSelector.VIEW_NAME)){this.handleSingleDimensionMemberSelect(t)}};e.VdVhMobileController.prototype.performMobileValueHelp=function(){if(this.mobileValueHelpViewAvailable()&&e.notNull(this.m_containerDialog)){this.m_containerDialog.open()}};e.VdVhMobileController.prototype.releaseObject=function(){this.m_variableModel=null;this.m_vdVariableForm=null;this.m_closeListener=null;this.m_uiMgr=null;this.m_containerDialog=e.XObjectExt.release(this.m_containerDialog);e.XObject.prototype.releaseObject.call(this)};e.VdVhMobileController.prototype.setupContainerDialog=function(){this.m_containerDialog=this.m_uiMgr.newControl(e.UiType.DIALOG);this.m_containerDialog.addCssClass("ffVdVhMobileDialog");this.m_containerDialog.useMaxSpace();let t=this.m_containerDialog.addNewDialogButton();t.setName("VdVhMobileDialogCloseBtn");t.setText(e.OuVariableDialogI18nLegacy.getProvider().getText(e.OuVariableDialogI18nLegacy.I18N_CANCEL));t.registerOnPress(this);switch(this.m_valueHelpType){case e.VdVhMobileController.VD_MOBILE_VH_TYPE_CALENDAR:this.createCalendarValueHelp();break;case e.VdVhMobileController.VD_MOBILE_VH_TYPE_RANGE_CALENDAR:this.createRangeCalendarValueHelp();break;case e.VdVhMobileController.VD_MOBILE_VH_TYPE_OPTION_LIST:this.createOptionListValueHelp();break;case e.VdVhMobileController.VD_MOBILE_VH_TYPE_SINGLE_DIMENSION_MEMBER:this.createSingleDimensionMemberValueHelp();break;case e.VdVhMobileController.VD_MOBILE_VH_TYPE_OPERATOR_WORKFLOW:this.createOperatorWorkflowValueHelp();break;default:break}};e.VdVhMobileController.prototype.setupController=function(e,t,i,o){this.m_variableModel=e;this.m_vdVariableForm=t;this.m_closeListener=i;this.m_vdConfig=o;this.m_uiMgr=t.getContext().getUiManager();this.m_valueHelpType=this.getValueHelpType();if(this.mobileValueHelpViewAvailable()){this.setupContainerDialog()}};e.VdVhMobileController.prototype.submitValues=function(t){this.m_containerDialog.close();this.m_variableModel.setValues(t);if(e.notNull(this.m_closeListener)){this.m_closeListener.onFilterDialogOk(null,null)}else{this.m_vdVariableForm.attemptSubmit()}};e.VdVhMobileCalendar=function(){};e.VdVhMobileCalendar.prototype=new e.XObject;e.VdVhMobileCalendar.prototype._ff_c="VdVhMobileCalendar";e.VdVhMobileCalendar.VIEW_NAME="vhMobileSingleDate";e.VdVhMobileCalendar.create=function(t,i,o,n){let a=new e.VdVhMobileCalendar;a.setupExt(t);a.setSelectionFinishedListener(n);if(e.XStringUtils.isNotNullAndNotEmpty(i)){a.setValueFormat(i)}if(e.XStringUtils.isNotNullAndNotEmpty(o)){a.setStartDate(o)}return a};e.VdVhMobileCalendar.prototype.m_calendar=null;e.VdVhMobileCalendar.prototype.m_clearSelectionBtn=null;e.VdVhMobileCalendar.prototype.m_listener=null;e.VdVhMobileCalendar.prototype.m_page=null;e.VdVhMobileCalendar.prototype.getPage=function(){return this.m_page};e.VdVhMobileCalendar.prototype.getStartDate=function(){if(e.notNull(this.m_calendar)){return this.m_calendar.getStartDate()}return null};e.VdVhMobileCalendar.prototype.getViewName=function(){return e.VdVhMobileCalendar.VIEW_NAME};e.VdVhMobileCalendar.prototype.onChange=function(t){if(e.notNull(this.m_listener)){this.m_listener.onVhMobileValuesSelected(this)}};e.VdVhMobileCalendar.prototype.onPress=function(t){let i=t.getControl().getName();if(e.XString.isEqual(i,"VdVhMobileCalendarClearSelectionBtn")){this.setStartDate(null)}};e.VdVhMobileCalendar.prototype.releaseObject=function(){this.m_clearSelectionBtn=e.XObjectExt.release(this.m_clearSelectionBtn);this.m_calendar=e.XObjectExt.release(this.m_calendar);this.m_page=e.XObjectExt.release(this.m_page);e.XObject.prototype.releaseObject.call(this)};e.VdVhMobileCalendar.prototype.setIsMandatory=function(e){this.m_clearSelectionBtn.setVisible(!e)};e.VdVhMobileCalendar.prototype.setSelectionFinishedListener=function(e){this.m_listener=e};e.VdVhMobileCalendar.prototype.setStartDate=function(t){if(e.notNull(this.m_calendar)){this.m_calendar.setStartDate(t)}};e.VdVhMobileCalendar.prototype.setValueFormat=function(t){if(e.notNull(this.m_calendar)){this.m_calendar.setValueFormat(t)}};e.VdVhMobileCalendar.prototype.setupExt=function(t){let i=t.getFreeGenesis();this.m_page=i.newControl(e.UiType.PAGE);this.m_page.setName("VdVhMobileCalendarView");this.m_page.addCssClass("ffVdVhMobileViewWrapperPage");this.m_page.setShowNavButton(false);this.m_page.setShowHeader(false);let o=this.m_page.setNewContent(e.UiType.FLEX_LAYOUT);o.setDirection(e.UiFlexDirection.COLUMN);o.setJustifyContent(e.UiFlexJustifyContent.SPACE_BETWEEN);o.useMaxSpace();o.setPadding(e.UiCssBoxEdges.create("8px"));this.m_calendar=o.addNewItemOfType(e.UiType.CALENDAR);this.m_calendar.setName("VdVhMobileCalendarViewCalendar");this.m_calendar.setWidth(e.UiCssLength.create("100%"));this.m_calendar.setPadding(e.UiCssBoxEdges.create("0px"));this.m_calendar.registerOnChange(this);this.m_clearSelectionBtn=o.addNewItemOfType(e.UiType.BUTTON);this.m_clearSelectionBtn.setName("VdVhMobileCalendarClearSelectionBtn");this.m_clearSelectionBtn.setText(e.XLocalizationCenter.getCenter().getText(e.FilterDialogI18n.I18N_FD_CLEAR_SELECTION));this.m_clearSelectionBtn.setHeight(e.UiCssLength.create("40px"));this.m_clearSelectionBtn.setPadding(e.UiCssBoxEdges.create("0px"));this.m_clearSelectionBtn.setVisible(false);this.m_clearSelectionBtn.setButtonType(e.UiButtonType.TRANSPARENT);this.m_clearSelectionBtn.registerOnPress(this)};e.VdVhMobileList=function(){};e.VdVhMobileList.prototype=new e.XObject;e.VdVhMobileList.prototype._ff_c="VdVhMobileList";e.VdVhMobileList.VIEW_NAME="vhMobileList";e.VdVhMobileList.create=function(t,i,o,n){let a=new e.VdVhMobileList;a.setupExt(t);a.setItems(i);a.setSelectionFinishedListener(n);if(e.XStringUtils.isNotNullAndNotEmpty(o)){a.setSelectedItemName(o)}return a};e.VdVhMobileList.prototype.m_items=null;e.VdVhMobileList.prototype.m_list=null;e.VdVhMobileList.prototype.m_listener=null;e.VdVhMobileList.prototype.m_page=null;e.VdVhMobileList.prototype.generateListItems=function(t){if(e.notNull(this.m_list)){this.m_list.clearItems();if(e.notNull(t)&&t.hasElements()){let e=t.getIterator();while(e.hasNext()){let t=e.next();let i=this.m_list.addNewItem();i.setName(t.getName());i.setText(t.getText());i.setCustomObject(t);i.registerOnClick(this)}}}};e.VdVhMobileList.prototype.getPage=function(){return this.m_page};e.VdVhMobileList.prototype.getSelectedItem=function(){if(e.notNull(this.m_list)&&this.m_list.getSelectedItem()!==null){return this.m_list.getSelectedItem().getCustomObject()}return null};e.VdVhMobileList.prototype.getViewName=function(){return e.VdVhMobileList.VIEW_NAME};e.VdVhMobileList.prototype.onClick=function(t){let i=this.m_list.getSelectedItem();if(e.notNull(i)){this.m_listener.onVhMobileValuesSelected(this)}};e.VdVhMobileList.prototype.releaseObject=function(){this.m_list=e.XObjectExt.release(this.m_list);this.m_page=e.XObjectExt.release(this.m_page);if(e.notNull(this.m_items)&&this.m_items.hasElements()){this.m_items.clear()}this.m_items=e.XObjectExt.release(this.m_items);e.XObject.prototype.releaseObject.call(this)};e.VdVhMobileList.prototype.setItems=function(e){this.generateListItems(e)};e.VdVhMobileList.prototype.setSelectedItemName=function(t){if(e.notNull(this.m_list)&&this.m_list.hasItems()===true){this.m_list.setSelectedName(t)}};e.VdVhMobileList.prototype.setSelectionFinishedListener=function(e){this.m_listener=e};e.VdVhMobileList.prototype.setupExt=function(t){let i=t.getFreeGenesis();this.m_page=i.newControl(e.UiType.PAGE);this.m_page.setName("VdVhMobileListView");this.m_page.addCssClass("ffVdVhMobileViewWrapperPage");this.m_page.setShowNavButton(false);this.m_page.setShowHeader(false);this.m_list=this.m_page.setNewContent(e.UiType.LIST);this.m_list.setName("VdVhMobileListViewList");this.m_list.useMaxSpace();this.m_list.setBorderWidth(e.UiCssBoxEdges.create("0px"));this.m_list.setSelectionMode(e.UiSelectionMode.SINGLE_SELECT_MASTER)};e.VdVhMobileOperatorWorkflow=function(){};e.VdVhMobileOperatorWorkflow.prototype=new e.XObject;e.VdVhMobileOperatorWorkflow.prototype._ff_c="VdVhMobileOperatorWorkflow";e.VdVhMobileOperatorWorkflow.NAVIGATION_CONTAINER_NAME="VdVhMobileWorkflowOperatorNavContainer";e.VdVhMobileOperatorWorkflow.NEXT_PAGE_BUTTON_TAG="ffVdVhOperatorWorkflowPageNextButton";e.VdVhMobileOperatorWorkflow.PREV_MEMBER_LABEL_NAME="VdVhMobileWorkflowOperatorPrevMemberNameLbl";e.VdVhMobileOperatorWorkflow.WORKFLOW_NAME="vhMobileWorkflowOperator";e.VdVhMobileOperatorWorkflow.createWithVariableModel=function(t,i,o,n){let a=new e.VdVhMobileOperatorWorkflow;a.setupWithVariableModel(t,i,o);a.setListener(n);return a};e.VdVhMobileOperatorWorkflow.prototype.m_currentViewIndex=0;e.VdVhMobileOperatorWorkflow.prototype.m_fromMemberSelectorView=null;e.VdVhMobileOperatorWorkflow.prototype.m_isSingleSelectionWorkflow=false;e.VdVhMobileOperatorWorkflow.prototype.m_isVariableMandatory=false;e.VdVhMobileOperatorWorkflow.prototype.m_listener=null;e.VdVhMobileOperatorWorkflow.prototype.m_navContainer=null;e.VdVhMobileOperatorWorkflow.prototype.m_operatorListView=null;e.VdVhMobileOperatorWorkflow.prototype.m_toMemberSelectorView=null;e.VdVhMobileOperatorWorkflow.prototype.m_uiMgr=null;e.VdVhMobileOperatorWorkflow.prototype.m_views=null;e.VdVhMobileOperatorWorkflow.prototype.addView=function(e){this.m_views.add(e)};e.VdVhMobileOperatorWorkflow.prototype.adjustViewsToWorkflowType=function(){if(this.m_isSingleSelectionWorkflow===false&&this.m_views.size()===2){this.addView(this.m_toMemberSelectorView);this.m_fromMemberSelectorView.getPage().setTitle(e.OuVariableDialogI18nLegacy.getProvider().getText(e.OuVariableDialogI18nLegacy.I18N_VD_VH_MOBILE_OPERATOR_WORKFLOW_SELECT_MEMBER1))}else if(this.m_isSingleSelectionWorkflow===true&&this.m_views.size()===3&&this.m_views.get(2)===this.m_toMemberSelectorView){this.m_views.removeAt(2);this.m_fromMemberSelectorView.getPage().setTitle(e.OuVariableDialogI18nLegacy.getProvider().getText(e.OuVariableDialogI18nLegacy.I18N_VD_VH_MOBILE_OPERATOR_WORKFLOW_SELECT_MEMBER))}};e.VdVhMobileOperatorWorkflow.prototype.checkWorkflowType=function(){let t=this.m_operatorListView.getSelectedItem().getCustomObject();if(t===e.VdComparisonOperator.BETWEEN||t===e.VdComparisonOperator.NOT_BETWEEN){this.m_isSingleSelectionWorkflow=false}else{this.m_isSingleSelectionWorkflow=true}};e.VdVhMobileOperatorWorkflow.prototype.finishWorkflow=function(){if(this.m_currentViewIndex===this.m_views.size()-1&&this.m_views.size()===2&&this.m_fromMemberSelectorView.getSelectedItem()!==null){if(e.notNull(this.m_listener)){this.m_listener.onVhMobileOperatorWorkflowFinished(this.m_operatorListView.getSelectedItem(),this.m_fromMemberSelectorView.getSelectedItem(),null)}}else if(this.m_currentViewIndex===this.m_views.size()-1&&this.m_views.size()===3&&this.m_toMemberSelectorView.getSelectedItem()!==null){if(e.notNull(this.m_listener)){this.m_listener.onVhMobileOperatorWorkflowFinished(this.m_operatorListView.getSelectedItem(),this.m_fromMemberSelectorView.getSelectedItem(),this.m_toMemberSelectorView.getSelectedItem())}}};e.VdVhMobileOperatorWorkflow.prototype.getSelectedFromItem=function(){return this.m_fromMemberSelectorView.getSelectedItem()};e.VdVhMobileOperatorWorkflow.prototype.getSelectedOperatorItem=function(){return this.m_operatorListView.getSelectedItem()};e.VdVhMobileOperatorWorkflow.prototype.getSelectedToItem=function(){if(!this.m_isSingleSelectionWorkflow){return this.m_toMemberSelectorView.getSelectedItem()}return null};e.VdVhMobileOperatorWorkflow.prototype.getViews=function(){return this.m_views};e.VdVhMobileOperatorWorkflow.prototype.getWorkflowView=function(){return this.m_navContainer};e.VdVhMobileOperatorWorkflow.prototype.goToNextPage=function(){if(this.m_currentViewIndex===0){this.checkWorkflowType();this.adjustViewsToWorkflowType()}if(this.m_currentViewIndex===1){this.updatePreviousSelectionLabel()}this.toggleNextButtons();this.m_currentViewIndex++;let t=this.m_views.get(this.m_currentViewIndex);let i=t.getPage();i.setShowHeader(true);i.setShowNavButton(true);this.m_navContainer.pushPage(i);if(e.notNull(this.m_listener)){this.m_listener.onVhMobileOperatorWorkflowNavigate(this.m_currentViewIndex,this.m_views.size())}this.finishWorkflow()};e.VdVhMobileOperatorWorkflow.prototype.onBack=function(t){this.m_currentViewIndex=this.m_currentViewIndex-1;this.toggleNextButtons();if(e.notNull(this.m_listener)){this.m_listener.onVhMobileOperatorWorkflowNavigate(this.m_currentViewIndex,this.m_views.size())}};e.VdVhMobileOperatorWorkflow.prototype.onPress=function(t){let i=t.getControl();if(e.XString.isEqual(i.getTag(),e.VdVhMobileOperatorWorkflow.NEXT_PAGE_BUTTON_TAG)){this.goToNextPage()}};e.VdVhMobileOperatorWorkflow.prototype.onVhMobileValuesSelected=function(t){if(e.XString.isEqual(t.getViewName(),e.VdVhMobileMemberSelector.VIEW_NAME)&&this.m_currentViewIndex===1){this.updatePreviousSelectionLabel()}if(this.m_currentViewIndex===this.m_views.size()-1){this.finishWorkflow()}else{this.goToNextPage()}};e.VdVhMobileOperatorWorkflow.prototype.releaseObject=function(){this.m_uiMgr=null;this.m_views.clear();this.m_views=e.XObjectExt.release(this.m_views);this.m_operatorListView=e.XObjectExt.release(this.m_operatorListView);this.m_fromMemberSelectorView=e.XObjectExt.release(this.m_fromMemberSelectorView);this.m_toMemberSelectorView=e.XObjectExt.release(this.m_toMemberSelectorView);e.XObject.prototype.releaseObject.call(this)};e.VdVhMobileOperatorWorkflow.prototype.setListener=function(e){this.m_listener=e};e.VdVhMobileOperatorWorkflow.prototype.setupWithVariableModel=function(t,i,o){let n=e.OuVariableDialogI18nLegacy.getProvider();this.m_views=e.XList.create();this.m_currentViewIndex=0;this.m_isSingleSelectionWorkflow=true;this.m_isVariableMandatory=i.isMandatory();this.m_uiMgr=t.getUiManager();let a=this.m_uiMgr.getFreeGenesis();this.m_navContainer=a.newControl(e.UiType.NAVIGATION_CONTAINER);this.m_navContainer.setName(e.VdVhMobileOperatorWorkflow.NAVIGATION_CONTAINER_NAME);this.m_navContainer.registerOnBack(this);let r=e.XList.create();let l=i.getSupportedComparisonOperators().getIterator();while(l.hasNext()){let t=l.next();let i=e.VdVhMobileListItem.create(t.getName(),t.getLongText(),t);r.add(i)}let s=null;let u=null;let m=null;if(i.getValues().size()>0){let e=i.getValues().get(0);m=e.getOperator().getName();s=e.getFirstOperand();u=e.getSecondOperand()}this.m_operatorListView=e.VdVhMobileList.create(this.m_uiMgr,r,m,this);this.m_operatorListView.getPage().setTitle(n.getText(e.OuVariableDialogI18nLegacy.I18N_VD_VH_MOBILE_OPERATOR_WORKFLOW_SELECT_OPERATOR));let p=this.m_operatorListView.getPage().addNewPageButton();p.setTag(e.VdVhMobileOperatorWorkflow.NEXT_PAGE_BUTTON_TAG);p.setButtonType(e.UiButtonType.TRANSPARENT);p.setIcon("navigation-right-arrow");p.setTooltip(n.getText(e.OuVariableDialogI18nLegacy.I18N_VD_VH_MOBILE_OPERATOR_WORKFLOW_NEXT_PAGE_TOOLTIP));p.registerOnPress(this);p.setVisible(false);this.addView(this.m_operatorListView);this.m_fromMemberSelectorView=e.VdVhMobileMemberSelector.create(t,i.getVariable(),o,s,this);this.m_fromMemberSelectorView.getPage().setTitle(n.getText(e.OuVariableDialogI18nLegacy.I18N_VD_VH_MOBILE_OPERATOR_WORKFLOW_SELECT_MEMBER));let d=this.m_fromMemberSelectorView.getPage().addNewPageButton();d.setTag(e.VdVhMobileOperatorWorkflow.NEXT_PAGE_BUTTON_TAG);d.setButtonType(e.UiButtonType.TRANSPARENT);d.setIcon("navigation-right-arrow");d.setTooltip(n.getText(e.OuVariableDialogI18nLegacy.I18N_VD_VH_MOBILE_OPERATOR_WORKFLOW_NEXT_PAGE_TOOLTIP));d.registerOnPress(this);d.setVisible(false);this.addView(this.m_fromMemberSelectorView);this.m_toMemberSelectorView=e.VdVhMobileMemberSelector.create(t,i.getVariable(),o,u,this);this.m_toMemberSelectorView.getPage().setTitle(n.getText(e.OuVariableDialogI18nLegacy.I18N_VD_VH_MOBILE_OPERATOR_WORKFLOW_SELECT_MEMBER2));let c=this.m_toMemberSelectorView.getPage().setNewSubHeader(e.UiType.FLEX_LAYOUT);c.setPadding(e.UiCssBoxEdges.create("10px"));c.setAlignItems(e.UiFlexAlignItems.CENTER);let _=c.addNewItemOfType(e.UiType.LABEL);_.setText(n.getText(e.OuVariableDialogI18nLegacy.I18N_VD_VH_MOBILE_OPERATOR_WORKFLOW_PREVIOUS_SELECTION));c.addNewItemOfType(e.UiType.SPACER).setWidth(e.UiCssLength.create("5px")).setFlex("none");let g=c.addNewItemOfType(e.UiType.LABEL);g.setName(e.VdVhMobileOperatorWorkflow.PREV_MEMBER_LABEL_NAME);g.setFontWeight(e.UiFontWeight.BOLD);if(e.XStringUtils.isNotNullAndNotEmpty(m)){p.setVisible(true)}if(e.notNull(s)){d.setVisible(true);g.setText(s.getText())}};e.VdVhMobileOperatorWorkflow.prototype.start=function(){if(this.m_views.hasElements()){let e=this.m_views.get(0);let t=e.getPage();t.setShowHeader(true);t.setShowNavButton(false);this.m_navContainer.pushPage(t);this.m_currentViewIndex=0}};e.VdVhMobileOperatorWorkflow.prototype.toggleNextButtons=function(){this.m_operatorListView.getPage().getPageButton(0).setVisible(this.m_operatorListView.getSelectedItem()!==null);let e=this.getViews().size()>2;if(this.m_isVariableMandatory){let t=this.m_fromMemberSelectorView.getSelectedItem()!==null;this.m_fromMemberSelectorView.getPage().getPageButton(0).setVisible(t&&e)}else{this.m_fromMemberSelectorView.getPage().getPageButton(0).setVisible(e)}};e.VdVhMobileOperatorWorkflow.prototype.triggerSelection=function(){if(e.notNull(this.m_fromMemberSelectorView)){this.m_fromMemberSelectorView.triggerSelection()}if(!this.m_isSingleSelectionWorkflow&&e.notNull(this.m_toMemberSelectorView)){this.m_toMemberSelectorView.triggerSelection()}};e.VdVhMobileOperatorWorkflow.prototype.updatePreviousSelectionLabel=function(){let t=this.m_fromMemberSelectorView.getSelectedItem();let i=this.m_toMemberSelectorView.getPage().getSubHeader();let o=i.getItemByName(e.VdVhMobileOperatorWorkflow.PREV_MEMBER_LABEL_NAME);if(e.notNull(t)){o.setText(t.getText())}else{o.setText("-")}};e.VdVhMobileRangeCalendar=function(){};e.VdVhMobileRangeCalendar.prototype=new e.XObject;e.VdVhMobileRangeCalendar.prototype._ff_c="VdVhMobileRangeCalendar";e.VdVhMobileRangeCalendar.VIEW_NAME="vhMobileRangeCalendar";e.VdVhMobileRangeCalendar.create=function(t,i,o,n,a){let r=new e.VdVhMobileRangeCalendar;r.setupExt(t);r.setSelectionFinishedListener(a);if(e.XStringUtils.isNotNullAndNotEmpty(i)){r.setValueFormat(i)}if(e.XStringUtils.isNotNullAndNotEmpty(o)){r.setStartDate(o)}if(e.XStringUtils.isNotNullAndNotEmpty(n)){r.setEndDate(n)}return r};e.VdVhMobileRangeCalendar.prototype.m_calendar=null;e.VdVhMobileRangeCalendar.prototype.m_clearSelectionBtn=null;e.VdVhMobileRangeCalendar.prototype.m_listener=null;e.VdVhMobileRangeCalendar.prototype.m_page=null;e.VdVhMobileRangeCalendar.prototype.getEndDate=function(){if(e.notNull(this.m_calendar)){return this.m_calendar.getEndDate()}return null};e.VdVhMobileRangeCalendar.prototype.getPage=function(){return this.m_page};e.VdVhMobileRangeCalendar.prototype.getStartDate=function(){if(e.notNull(this.m_calendar)){return this.m_calendar.getStartDate()}return null};e.VdVhMobileRangeCalendar.prototype.getViewName=function(){return e.VdVhMobileRangeCalendar.VIEW_NAME};e.VdVhMobileRangeCalendar.prototype.onChange=function(t){if(e.notNull(this.m_listener)){let t=this.m_calendar.getEndDate();if(e.XStringUtils.isNotNullAndNotEmpty(t)===true){this.m_listener.onVhMobileValuesSelected(this)}}};e.VdVhMobileRangeCalendar.prototype.onPress=function(t){let i=t.getControl().getName();if(e.XString.isEqual(i,"VdVhMobileRangeCalendarClearSelectionBtn")){this.setStartDate(null);this.setEndDate(null)}};e.VdVhMobileRangeCalendar.prototype.releaseObject=function(){this.m_clearSelectionBtn=e.XObjectExt.release(this.m_clearSelectionBtn);this.m_calendar=e.XObjectExt.release(this.m_calendar);this.m_page=e.XObjectExt.release(this.m_page);e.XObject.prototype.releaseObject.call(this)};e.VdVhMobileRangeCalendar.prototype.setEndDate=function(t){if(e.notNull(this.m_calendar)){this.m_calendar.setEndDate(t)}};e.VdVhMobileRangeCalendar.prototype.setIsMandatory=function(e){this.m_clearSelectionBtn.setVisible(!e)};e.VdVhMobileRangeCalendar.prototype.setSelectionFinishedListener=function(e){this.m_listener=e};e.VdVhMobileRangeCalendar.prototype.setStartDate=function(t){if(e.notNull(this.m_calendar)){this.m_calendar.setStartDate(t)}};e.VdVhMobileRangeCalendar.prototype.setValueFormat=function(t){if(e.notNull(this.m_calendar)){this.m_calendar.setValueFormat(t)}};e.VdVhMobileRangeCalendar.prototype.setupExt=function(t){let i=t.getFreeGenesis();this.m_page=i.newControl(e.UiType.PAGE);this.m_page.setName("VdVhMobileRangeCalendarView");this.m_page.addCssClass("ffVdVhMobileViewWrapperPage");this.m_page.setShowNavButton(false);this.m_page.setShowHeader(false);let o=this.m_page.setNewContent(e.UiType.FLEX_LAYOUT);o.setDirection(e.UiFlexDirection.COLUMN);o.setJustifyContent(e.UiFlexJustifyContent.SPACE_BETWEEN);o.useMaxSpace();o.setPadding(e.UiCssBoxEdges.create("8px"));this.m_calendar=o.addNewItemOfType(e.UiType.CALENDAR);this.m_calendar.setName("VdVhMobileRangeCalendarViewCalendar");this.m_calendar.setWidth(e.UiCssLength.create("100%"));this.m_calendar.setPadding(e.UiCssBoxEdges.create("0px"));this.m_calendar.setIntervalSelection(true);this.m_calendar.registerOnChange(this);this.m_clearSelectionBtn=o.addNewItemOfType(e.UiType.BUTTON);this.m_clearSelectionBtn.setName("VdVhMobileRangeCalendarClearSelectionBtn");this.m_clearSelectionBtn.setText(e.OuVariableDialogI18nLegacy.getProvider().getText(e.FilterDialogI18n.I18N_FD_CLEAR_SELECTION));this.m_clearSelectionBtn.setHeight(e.UiCssLength.create("40px"));this.m_clearSelectionBtn.setPadding(e.UiCssBoxEdges.create("0px"));this.m_clearSelectionBtn.setVisible(false);this.m_clearSelectionBtn.setButtonType(e.UiButtonType.TRANSPARENT);this.m_clearSelectionBtn.registerOnPress(this)};e.OlapUiPropertyListHelper=function(){};e.OlapUiPropertyListHelper.prototype=new e.XObject;e.OlapUiPropertyListHelper.prototype._ff_c="OlapUiPropertyListHelper";e.OlapUiPropertyListHelper.create=function(t){let i=new e.OlapUiPropertyListHelper;i.setupExt(t);return i};e.OlapUiPropertyListHelper.prototype.m_checkboxes=null;e.OlapUiPropertyListHelper.prototype.m_inputs=null;e.OlapUiPropertyListHelper.prototype.m_layout=null;e.OlapUiPropertyListHelper.prototype.m_values=null;e.OlapUiPropertyListHelper.prototype.addBooleanProperty=function(t,i,o){this.m_values.put(t,e.XBooleanValue.create(o));let n=this.addNewLine(t,i);let a=n.addNewItemOfType(e.UiType.CHECKBOX);a.setName(t);a.setChecked(o);a.registerOnChange(this);this.m_checkboxes.put(t,a);return a};e.OlapUiPropertyListHelper.prototype.addNewLine=function(t,i){let o=this.m_layout.addNewItemOfType(e.UiType.FLEX_LAYOUT);o.setName(e.XStringUtils.concatenate2(t,"Container"));o.setJustifyContent(e.UiFlexJustifyContent.SPACE_BETWEEN);let n=o.addNewItemOfType(e.UiType.LABEL);n.setText(i);n.setAlignSelf(e.UiFlexAlignSelf.CENTER);return o};e.OlapUiPropertyListHelper.prototype.addStringProperty=function(t,i,o){this.m_values.put(t,e.XStringValue.create(o));let n=this.addNewLine(t,i);let a=n.addNewItemOfType(e.UiType.INPUT);a.setName(t);a.setValue(o);a.registerOnEditingEnd(this);this.m_inputs.put(t,a);return a};e.OlapUiPropertyListHelper.prototype.buildOlapDialogUi=function(e){e.setRoot(this.m_layout)};e.OlapUiPropertyListHelper.prototype.getBooleanValue=function(e){return this.m_values.getByKey(e).getBoolean()};e.OlapUiPropertyListHelper.prototype.getInput=function(e){return this.m_inputs.getByKey(e)};e.OlapUiPropertyListHelper.prototype.getLayout=function(){return this.m_layout};e.OlapUiPropertyListHelper.prototype.getStringValue=function(e){return this.m_values.getByKey(e).getString()};e.OlapUiPropertyListHelper.prototype.onChange=function(t){let i=t.getControl();let o=this.m_values.getByKey(i.getName());if(e.isNull(o)){return}o.setBoolean(i.isChecked())};e.OlapUiPropertyListHelper.prototype.onEditingEnd=function(t){let i=t.getControl();let o=this.m_values.getByKey(i.getName());if(e.isNull(o)){return}o.setString(i.getValue())};e.OlapUiPropertyListHelper.prototype.setBooleanValue=function(e,t){this.m_values.getByKey(e).setBoolean(t);this.m_checkboxes.getByKey(e).setChecked(t)};e.OlapUiPropertyListHelper.prototype.setStringValue=function(e,t){this.m_values.getByKey(e).setString(t);return this.m_inputs.getByKey(e).setValue(t)};e.OlapUiPropertyListHelper.prototype.setupExt=function(t){this.m_values=e.XHashMapByString.create();this.m_layout=t.newControl(e.UiType.VERTICAL_LAYOUT);this.m_inputs=e.XHashMapByString.create();this.m_checkboxes=e.XHashMapByString.create()};e.VdOrcaFacade=function(){};e.VdOrcaFacade.prototype=new e.XObject;e.VdOrcaFacade.prototype._ff_c="VdOrcaFacade";e.VdOrcaFacade.ANCHOR_NAME="VdTokenRoot";e.VdOrcaFacade.configureVariantManagement=function(t,i){let o=t.getApplication();let n=t.getDataSource();if(e.notNull(n)){let t=o.getSystemLandscape().getSystemDescription(n.getSystemName());if(e.notNull(t)){let o=t.getProperties().getBooleanByKeyExt("FPA_IS_S4_HANA",false);let n=e.XString.isEqual(t.getProperties().getStringByKeyExt("FPA_CONNECTION_TYPE",null),"CLOUD");let a=e.UiIntegrationInfoCenter.getCenter().isEmbedded();let r=o&&(n||a);i.setVariantManagementEnabled(!r)}}};e.VdOrcaFacade.createFacadeDisplay=function(t,i,o){let n=new e.VdOrcaFacade;n.setDisplay(t);n.setupExt(i,o);return n};e.VdOrcaFacade.createFacadeToken=function(t,i,o){let n=new e.VdOrcaFacade;n.setToken(t);n.setupExt(i,o);return n};e.VdOrcaFacade.prototype.m_linkedVariableNames=null;e.VdOrcaFacade.prototype.m_originalRenderListener=null;e.VdOrcaFacade.prototype.m_originalSubmitListener=null;e.VdOrcaFacade.prototype.m_tokenGenesis=null;e.VdOrcaFacade.prototype.m_uiHelper=null;e.VdOrcaFacade.prototype.m_vdController=null;e.VdOrcaFacade.prototype.m_vdDisplay=null;e.VdOrcaFacade.prototype.m_vdToken=null;e.VdOrcaFacade.prototype.attemptSubmit=function(){this.m_vdController.attemptSubmit()};e.VdOrcaFacade.prototype.attemptSubmitWithCancelReinitFallback=function(){this.m_vdController.attemptSubmitWithCancelReinitFallback()};e.VdOrcaFacade.prototype.buildUiOnAnchorId=function(t){if(e.notNull(this.m_vdToken)){let i=this.m_vdToken.getContext().getUiManager().getProcess().newChildProcess(e.ProcessType.SERVICE);let o=e.UiManagerFactory.newInstance(i);o.registerNativeAnchor(e.VdOrcaFacade.ANCHOR_NAME,t,null);this.m_tokenGenesis=o.getGenesis();this.m_vdToken.buildOlapDialogUi(this.m_tokenGenesis)}};e.VdOrcaFacade.prototype.buildUiOnAnchorObject=function(t){if(e.notNull(this.m_vdToken)){let i=this.m_vdToken.getContext().getUiManager().getProcess().newChildProcess(e.ProcessType.SERVICE);let o=e.UiManagerFactory.newInstance(i);o.registerNativeAnchor(e.VdOrcaFacade.ANCHOR_NAME,null,t);this.m_tokenGenesis=o.getGenesis();this.m_vdToken.buildOlapDialogUi(this.m_tokenGenesis)}};e.VdOrcaFacade.prototype.buildUiOnControl=function(t){if(e.notNull(this.m_vdToken)){this.m_tokenGenesis=e.UiGenesis.create(t);this.m_vdToken.buildOlapDialogUi(this.m_tokenGenesis)}};e.VdOrcaFacade.prototype.close=function(){if(e.notNull(this.m_vdDisplay)){this.m_vdDisplay.close()}};e.VdOrcaFacade.prototype.exportVariablesAsJson=function(){return e.VdOrcaValueParser.exportVariables(this.m_vdController.getVariableProcessor(),this.m_vdController.getCleanedValues(),this.m_linkedVariableNames)};e.VdOrcaFacade.prototype.exportVariablesAsString=function(){return e.PrUtils.serialize(this.exportVariablesAsJson(),false,false,0)};e.VdOrcaFacade.prototype.getController=function(){return this.m_vdController};e.VdOrcaFacade.prototype.getSubmitListener=function(){return this.m_originalSubmitListener};e.VdOrcaFacade.prototype.getVariableProcessor=function(){return this.m_vdController.getVariableProcessor()};e.VdOrcaFacade.prototype.getView=function(){return this.m_vdController.getView()};e.VdOrcaFacade.prototype.isDisablingDynamicVariables=function(){return this.m_uiHelper.isDisablingDynamicVariables()};e.VdOrcaFacade.prototype.isDisablingExitVariables=function(){return this.m_uiHelper.isDisablingExitVariables()};e.VdOrcaFacade.prototype.isForcePrompt=function(){return this.m_uiHelper.isForcePrompt()};e.VdOrcaFacade.prototype.isOpen=function(){return e.notNull(this.m_vdDisplay)&&this.m_vdDisplay.isOpen()};e.VdOrcaFacade.prototype.isWidgetSelected=function(){return this.m_uiHelper.isWidgetSelected()};e.VdOrcaFacade.prototype.onAfterSubmit=function(e,t,i,o){this.getSubmitListener().onAfterSubmit(e,t,i,o)};e.VdOrcaFacade.prototype.onBeforeSubmit=function(e,t){this.getSubmitListener().onBeforeSubmit(e,t)};e.VdOrcaFacade.prototype.onRenderDone=function(t){this.m_uiHelper.addOrcaSpecificUi();if(e.notNull(this.m_originalRenderListener)){this.m_originalRenderListener.onRenderDone(t)}};e.VdOrcaFacade.prototype.open=function(){if(e.notNull(this.m_vdDisplay)){this.m_vdDisplay.open()}};e.VdOrcaFacade.prototype.performStoryFilterOptimizationWorkflow=function(e){this.m_vdController.performStoryFilterOptimizationWorkflow(e)};e.VdOrcaFacade.prototype.performStoryFilterOptimizationWorkflowWithCallback=function(e,t){this.m_vdController.performStoryFilterOptimizationWorkflowWithCallback(e,t)};e.VdOrcaFacade.prototype.registerReinitListener=function(e){this.m_vdController.registerReinitListener(e)};e.VdOrcaFacade.prototype.registerRenderListener=function(e){this.m_originalRenderListener=e};e.VdOrcaFacade.prototype.registerSubmitListener=function(e){this.m_originalSubmitListener=e};e.VdOrcaFacade.prototype.releaseObject=function(){this.m_vdController=e.XObjectExt.release(this.m_vdController);this.m_vdToken=null;this.m_vdDisplay=null;this.m_uiHelper=e.XObjectExt.release(this.m_uiHelper);this.m_tokenGenesis=e.XObjectExt.release(this.m_tokenGenesis);e.XObject.prototype.releaseObject.call(this)};e.VdOrcaFacade.prototype.render=function(){if(e.notNull(this.m_vdToken)){this.m_vdToken.render()}};e.VdOrcaFacade.prototype.setDisplay=function(e){this.m_vdController=this.m_vdDisplay=e};e.VdOrcaFacade.prototype.setInitialFocus=function(){this.m_vdController.setInitialFocus()};e.VdOrcaFacade.prototype.setToken=function(e){this.m_vdController=this.m_vdToken=e};e.VdOrcaFacade.prototype.setupExt=function(e,t){this.m_vdController.registerRenderListener(this);this.m_vdController.registerSubmitListener(this);this.m_uiHelper=e;this.m_linkedVariableNames=t};e.VdOrcaFacade.prototype.supportsStoryFilterOptimization=function(e){return this.m_vdController.supportsStoryFilterOptimization(e)};e.OrcaLinkVarSubmitCallback=function(){};e.OrcaLinkVarSubmitCallback.prototype=new e.XObjectExt;e.OrcaLinkVarSubmitCallback.prototype._ff_c="OrcaLinkVarSubmitCallback";e.OrcaLinkVarSubmitCallback.createCallback=function(t,i){let o=new e.OrcaLinkVarSubmitCallback;o.m_original=t;o.m_queryManager=i;return o};e.OrcaLinkVarSubmitCallback.prototype.m_original=null;e.OrcaLinkVarSubmitCallback.prototype.m_queryManager=null;e.OrcaLinkVarSubmitCallback.prototype.onVariableProcessorExecuted=function(e,t,i){this.m_original.onQueryManagerSubmit(this,this.m_queryManager,e,t,i)};e.OrcaLinkVarSubmitCallback.prototype.releaseObject=function(){this.m_original=null;this.m_queryManager=null;e.XObjectExt.prototype.releaseObject.call(this)};e.OrcaLinkVarValueHelpAbstract=function(){};e.OrcaLinkVarValueHelpAbstract.prototype=new e.OlapUiValueHelpVariable;e.OrcaLinkVarValueHelpAbstract.prototype._ff_c="OrcaLinkVarValueHelpAbstract";e.OrcaLinkVarValueHelpAbstract.FETCHED_MEMBER_COUNT=4e3;e.OrcaLinkVarValueHelpAbstract.ID_LINK="link";e.OrcaLinkVarValueHelpAbstract.ID_MAIN="main";e.OrcaLinkVarValueHelpAbstract.prototype.m_linkedVariables=null;e.OrcaLinkVarValueHelpAbstract.prototype.m_nodeRepo=null;e.OrcaLinkVarValueHelpAbstract.prototype.checkIfDone=function(t){if(t.isDone()){let i=this.joinNodes(t.getMain(),t.getLinked(),t.isSearch());let o=e.ExtResult.create(i,e.MessageManagerSimple.createMessageManager());t.getOriginalListener().onValuehelpExecuted(o,null,t.getOriginalObject());e.XObjectExt.release(t)}};e.OrcaLinkVarValueHelpAbstract.prototype.findNodeToVariable=function(t,i,o){for(let n=0;n<i.size();n++){let a=i.get(n);if(t.getDimension()===a.getDimension()&&e.XString.isEqual(this.getNodePath(o),this.getNodePath(a))){return a}}return null};e.OrcaLinkVarValueHelpAbstract.prototype.getMergeKeyValue=function(t){let i=t.getDimension().getDisplayKeyField();let o=t.getDimensionMember().getFieldValue(i);return e.isNull(o)?null:o.getString()};e.OrcaLinkVarValueHelpAbstract.prototype.getNodePath=function(t){let i=e.XStringBuffer.create();let o=t.getParentNode();while(e.notNull(o)){i.append(this.getMergeKeyValue(o)).append("/");o=o.getParentNode()}return i.toString()};e.OrcaLinkVarValueHelpAbstract.prototype.getRepoMapping=function(t){let i=this.m_nodeRepo.getByKey(t);if(e.isNull(i)){i=e.XList.create();this.m_nodeRepo.put(t,i)}return i};e.OrcaLinkVarValueHelpAbstract.prototype.onValuehelpExecuted=function(t,i,o){let n=o;let a=n.getObject();if(e.isNull(a)||a.isReleased()){return}if(t.hasErrors()){a.getOriginalListener().onValuehelpExecuted(t,i,a.getOriginalObject());e.XObjectExt.release(a);return}a.increaseCallbackCount();switch(n.getName()){case e.OrcaLinkVarValueHelpAbstract.ID_MAIN:a.setMain(t.getData());break;case e.OrcaLinkVarValueHelpAbstract.ID_LINK:a.addLinked(t.getData());break}e.XObjectExt.release(n);this.checkIfDone(a)};e.OrcaLinkVarValueHelpAbstract.prototype.processChildFetch=function(t,i,o,n,a,r,l){let s=e.OrcaLinkValueHelpProxyData.createForValueHelp(r,l);s.increaseRequestCount();let u=e.XNameGenericPair.create(e.OrcaLinkVarValueHelpAbstract.ID_MAIN,s);e.OlapUiValueHelpVariable.prototype.processChildFetch.call(this,t,i,e.OrcaLinkVarValueHelpAbstract.FETCHED_MEMBER_COUNT,n,a,this,u);let m=this.m_nodeRepo.getByKey(this.getMergeKeyValue(t));if(e.notNull(m)){for(let o=0;o<this.m_linkedVariables.size();o++){let n=this.m_linkedVariables.get(o);let r=this.findNodeToVariable(n,m,t);if(e.isNull(r)){continue}s.increaseRequestCount();let l=this.getRequestedFields(t.getDimension());this.processChildFetchForVariable(n,r,i,e.OrcaLinkVarValueHelpAbstract.FETCHED_MEMBER_COUNT,l,a,this,e.XNameGenericPair.create(e.OrcaLinkVarValueHelpAbstract.ID_LINK,s))}}s.finishProgress();this.checkIfDone(s)};e.OrcaLinkVarValueHelpAbstract.prototype.processSearch=function(t,i,o,n,a,r,l,s){let u=this.m_valueRequestObject;let m=u.getDimension();let p=r===e.OlapUiReadMode.MASTER&&(!this.getSystemType(m).isTypeOf(e.SystemType.ABAP)||m.getHasCheckTable())?e.OlapUiReadMode.MASTER:e.OlapUiReadMode.BOOKED;let d=e.OrcaLinkValueHelpProxyData.createForValueHelp(l,s);d.setSearch(true);d.increaseRequestCount();let c=e.XNameGenericPair.create(e.OrcaLinkVarValueHelpAbstract.ID_MAIN,d);e.OlapUiValueHelpVariable.prototype.processSearch.call(this,t,i,o,e.OrcaLinkVarValueHelpAbstract.FETCHED_MEMBER_COUNT,false,p,this,c);let _=i.contains(m.getSelectorKeyField());let g=i.contains(m.getSelectorDisplayKeyField());let h=i.contains(m.getSelectorTextField());for(let i=0;i<this.m_linkedVariables.size();i++){let o=this.m_linkedVariables.get(i);let n=o.getDimension();let a=e.XList.create();if(_&&!a.contains(n.getSelectorKeyField())){a.add(n.getSelectorKeyField())}if(g&&!a.contains(n.getSelectorDisplayKeyField())){a.add(n.getSelectorDisplayKeyField())}if(h&&!a.contains(n.getSelectorTextField())){a.add(n.getSelectorTextField())}d.increaseRequestCount();let r=this.getRequestedFields(o.getDimension());this.processSearchForVariable(o,t,a,r,e.OrcaLinkVarValueHelpAbstract.FETCHED_MEMBER_COUNT,false,p,this,e.XNameGenericPair.create(e.OrcaLinkVarValueHelpAbstract.ID_LINK,d))}d.finishProgress();this.checkIfDone(d)};e.OrcaLinkVarValueHelpAbstract.prototype.processValueHelp=function(t,i,o,n,a,r,l){let s=e.OrcaLinkValueHelpProxyData.createForValueHelp(r,l);let u=e.OrcaLinkVarValueHelpAbstract.FETCHED_MEMBER_COUNT/o;if(e.XMath.mod(e.OrcaLinkVarValueHelpAbstract.FETCHED_MEMBER_COUNT,o)!==0){u=u+1}let m=t+u-1;s.increaseRequestCount();let p=e.XNameGenericPair.create(e.OrcaLinkVarValueHelpAbstract.ID_MAIN,s);e.OlapUiValueHelpVariable.prototype.processValueHelp.call(this,t,m,o,n,a,this,p);for(let i=0;i<this.m_linkedVariables.size();i++){s.increaseRequestCount();let n=this.m_linkedVariables.get(i);let r=this.getRequestedFields(n.getDimension());let l=e.XNameGenericPair.create(e.OrcaLinkVarValueHelpAbstract.ID_LINK,s);this.processValueHelpForVariable(n,t,m,o,r,a,this,l)}s.finishProgress();this.checkIfDone(s)};e.OrcaLinkVarValueHelpAbstract.prototype.releaseObject=function(){this.m_linkedVariables=e.XObjectExt.release(this.m_linkedVariables);this.m_nodeRepo=e.XObjectExt.release(this.m_nodeRepo);e.OlapUiValueHelpVariable.prototype.releaseObject.call(this)};e.OrcaLinkVarValueHelpAbstract.prototype.setupLink=function(t,i){e.OlapUiValueHelpVariable.prototype.setupExt.call(this,t);this.m_linkedVariables=i;this.m_nodeRepo=e.XHashMapByString.create()};e.OrcaLinkVarValueHelpAbstract.prototype.supportsAdditionalPresentations=function(){return false};e.OrcaLinkValueHelpProxyData=function(){};e.OrcaLinkValueHelpProxyData.prototype=new e.OrcaLinkVarProxyData;e.OrcaLinkValueHelpProxyData.prototype._ff_c="OrcaLinkValueHelpProxyData";e.OrcaLinkValueHelpProxyData.createForValueHelp=function(t,i){let o=new e.OrcaLinkValueHelpProxyData;o.setupExt(null,t,i);o.m_linked=e.XList.create();return o};e.OrcaLinkValueHelpProxyData.prototype.m_isSearch=false;e.OrcaLinkValueHelpProxyData.prototype.m_linked=null;e.OrcaLinkValueHelpProxyData.prototype.m_main=null;e.OrcaLinkValueHelpProxyData.prototype.addLinked=function(e){this.m_linked.add(e)};e.OrcaLinkValueHelpProxyData.prototype.getLinked=function(){return this.m_linked};e.OrcaLinkValueHelpProxyData.prototype.getMain=function(){return this.m_main};e.OrcaLinkValueHelpProxyData.prototype.isSearch=function(){return this.m_isSearch};e.OrcaLinkValueHelpProxyData.prototype.releaseObject=function(){this.m_main=e.XObjectExt.release(this.m_main);this.m_linked=e.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_linked);e.OrcaLinkVarProxyData.prototype.releaseObject.call(this)};e.OrcaLinkValueHelpProxyData.prototype.setMain=function(e){this.m_main=e};e.OrcaLinkValueHelpProxyData.prototype.setSearch=function(e){this.m_isSearch=e};e.VdOrcaUiHelper=function(){};e.VdOrcaUiHelper.prototype=new e.XObject;e.VdOrcaUiHelper.prototype._ff_c="VdOrcaUiHelper";e.VdOrcaUiHelper.addTextVariableInfoSection=function(t,i){if(t.getVariable().getVariableType()!==e.VariableType.TEXT_VARIABLE){return null}return t.getView().setInfoText(i)};e.VdOrcaUiHelper.createUiHelper=function(t,i){let o=new e.VdOrcaUiHelper;o.setupUiHelper(t,i);return o};e.VdOrcaUiHelper.showLinkIconForVariable=function(t,i,o){if(e.isNull(t)||e.isNull(o)||e.isNull(i)){return null}let n=o.getUiManager();let a=e.OuVariableDialogI18nLegacy.getProvider();let r=t.getView().addNewHeaderIcon();r.setName("VariableLinkIco");r.setIcon("chain-link");let l=n.newControl(e.UiType.FLEX_LAYOUT);l.setDirection(e.UiFlexDirection.COLUMN);l.setAlignContent(e.UiFlexAlignContent.START);l.addNewItemOfType(e.UiType.LABEL).setText(a.getText(e.OuVariableDialogI18nLegacy.I18N_VD_LINK_INFO_MESSAGE)).setWrapping(true);l.addNewItemOfType(e.UiType.SPACER).setHeight(e.UiCssLength.create("10px"));for(let t=0;t<i.size();t++){let o=i.get(t);let n=l.addNewItemOfType(e.UiType.FLEX_LAYOUT);n.addNewItemOfType(e.UiType.LABEL).setText(o.getFirstString()).setTooltip(o.getFirstString()).setWrapping(true);n.addNewItemOfType(e.UiType.ICON).setIcon("product").setWidth(e.UiCssLength.createExt(30,e.UiCssSizeUnit.PIXEL)).setEnabled(false);n.addNewItemOfType(e.UiType.LABEL).setText(o.getSecondString()).setTooltip(o.getSecondString()).setWrapping(true);if(t<i.size()-1){l.addNewItemOfType(e.UiType.SPACER).setHeight(e.UiCssLength.create("5px"))}}return e.OlapUiIconPopover.createPopoverWithContent(n,"VariableLinkPop",r,l)};e.VdOrcaUiHelper.supportsStoryFilterOptimization=function(t,i){if(e.isNull(t)){return false}let o=e.VdVariableModel.createVariableModel(t);let n=i?e.VdVhMobileController.supportsMobileValueHelp(o):e.VdVariableForm.supportsStoryFilterOptimizationForDesktop(o);e.XObjectExt.release(o);return n};e.VdOrcaUiHelper.prototype.m_config=null;e.VdOrcaUiHelper.prototype.m_disableDynamicCb=null;e.VdOrcaUiHelper.prototype.m_disableExitCb=null;e.VdOrcaUiHelper.prototype.m_forceCb=null;e.VdOrcaUiHelper.prototype.m_i18n=null;e.VdOrcaUiHelper.prototype.m_level=null;e.VdOrcaUiHelper.prototype.m_orcaLayout=null;e.VdOrcaUiHelper.prototype.m_orcaLayoutPopover=null;e.VdOrcaUiHelper.prototype.m_popovers=null;e.VdOrcaUiHelper.prototype.m_scenario=null;e.VdOrcaUiHelper.prototype.m_storyRb=null;e.VdOrcaUiHelper.prototype.m_textVariableDisableInfos=null;e.VdOrcaUiHelper.prototype.m_uiContext=null;e.VdOrcaUiHelper.prototype.m_uiMgr=null;e.VdOrcaUiHelper.prototype.m_useBottomLevelVariables=false;e.VdOrcaUiHelper.prototype.m_vdController=null;e.VdOrcaUiHelper.prototype.m_widgetRb=null;e.VdOrcaUiHelper.prototype.addDisableDynamicSection=function(){if(this.isDisableDynamicSection()){let t=this.m_orcaLayout.addNewItemOfType(e.UiType.FLEX_LAYOUT);t.setName("VariableDialogDynamicLayout");t.useMaxWidth();t.setDirection(e.UiFlexDirection.ROW);t.setAlignItems(e.UiFlexAlignItems.CENTER);t.setJustifyContent(e.UiFlexJustifyContent.START);t.setPadding(e.UiCssBoxEdges.create("0 0 0.75rem 0"));this.m_disableDynamicCb=t.addNewItemOfType(e.UiType.CHECKBOX);this.m_disableDynamicCb.setName("VariableDialogDynamicCb");this.m_disableDynamicCb.setWrapping(true);this.m_disableDynamicCb.setEnabled(!this.m_config.isReadOnly()&&(this.m_level===e.VdOrcaLevel.DEFAULT||this.m_useBottomLevelVariables)&&!this.m_config.isDisableVariablePersistenceOptions());this.m_disableDynamicCb.setChecked(this.getDisableDynamicInitialValue());this.m_disableDynamicCb.registerOnChange(this);let i=t.addNewItemOfType(e.UiType.LABEL);i.setText(this.m_i18n.getText(e.OuVariableDialogI18nLegacy.I18N_VD_DISABLE_DYNAMIC));i.setTooltip(this.m_i18n.getText(e.OuVariableDialogI18nLegacy.I18N_VD_DISABLE_DYNAMIC));i.setLabelFor(this.m_disableDynamicCb);if(this.m_config.isDisableVariablePersistenceOptions()){let i=t.addNewItemOfType(e.UiType.ICON);i.setName("VariableDialogDynamicIco");i.setIcon("message-information");i.setIconSize(e.UiCssLength.create("1rem"));i.setMargin(e.UiCssBoxEdges.create("0 0 0 0.5rem"));if(this.m_uiMgr.getDeviceInfo().isMobile()){i.setIconSize(e.UiCssLength.create(e.VdVariableView.MOBILE_ICON_FONT_SIZE))}let o=this.m_i18n.getText(e.OuVariableDialogI18nLegacy.I18N_VD_DISABLE_DYNAMIC_DISABLED_LONG);this.m_popovers.add(e.OlapUiIconPopover.createPopoverWithText(this.m_uiMgr,"VariableDialogDynamicPop",i,o))}}};e.VdOrcaUiHelper.prototype.addDisableExitSection=function(){if(this.isDisableExitSection()||this.isDisableDynamicSection()&&this.m_config.isAlignBwHanaDynamicVariables()){let t=this.m_uiMgr.newControl(e.UiType.FLEX_LAYOUT);t.setName("VariableDialogExitLayout");t.useMaxWidth();t.setDirection(e.UiFlexDirection.ROW);t.setAlignItems(e.UiFlexAlignItems.CENTER);t.setJustifyContent(e.UiFlexJustifyContent.START);t.setPadding(e.UiCssBoxEdges.create("0 0 0.75rem 0"));this.m_disableExitCb=t.addNewItemOfType(e.UiType.CHECKBOX);this.m_disableExitCb.setName("VariableDialogExitCb");this.m_disableExitCb.setText(this.m_i18n.getText(e.OuVariableDialogI18nLegacy.I18N_VD_SAVED_PROMPTS_FOR_DYNAMIC_SHORT));this.m_disableExitCb.setTooltip(this.m_i18n.getText(e.OuVariableDialogI18nLegacy.I18N_VD_SAVED_PROMPTS_FOR_DYNAMIC_SHORT));this.m_disableExitCb.setChecked(this.isDisableDynamicSection()?this.getDisableDynamicInitialValue():this.m_config.isDisableExit());let i;if(this.isDisableDynamicSection()){this.m_disableExitCb.registerOnChange(this);i=!this.m_config.isReadOnly()&&(this.m_level===e.VdOrcaLevel.DEFAULT||this.m_useBottomLevelVariables)&&!this.m_config.isDisableVariablePersistenceOptions()}else if(this.m_scenario!==e.VdOrcaScenario.BOARD_ROOM&&this.m_level.isTypeOf(e.VdOrcaLevel.WIDGET)){i=!this.m_config.isReadOnly()&&this.m_useBottomLevelVariables&&!this.m_config.isDisableVariablePersistenceOptions()}else{i=!this.m_config.isReadOnly()&&!this.m_config.isDisableVariablePersistenceOptions()}if(this.m_vdController.getView().isMultiInputComponentEnabled()){this.m_disableExitCb.setEditable(i)}else{this.m_disableExitCb.setEnabled(i)}let o=t.addNewItemOfType(e.UiType.ICON);o.setName("VariableDialogExitIco");o.setIcon("message-information");o.setIconSize(e.UiCssLength.create("1rem"));o.setMargin(e.UiCssBoxEdges.create("0 0 0 0.5rem"));o.setTooltip(this.m_i18n.getText(e.OuVariableDialogI18nLegacy.I18N_VD_INFORMATION_ICON_TOOLTIP));let n=this.m_config.isDisableVariablePersistenceOptions()?this.m_i18n.getText(e.OuVariableDialogI18nLegacy.I18N_VD_DISABLE_DYNAMIC_DISABLED_LONG):this.m_i18n.getText(e.OuVariableDialogI18nLegacy.I18N_VD_SAVED_PROMPTS_FOR_DYNAMIC_LONG);this.m_popovers.add(e.OlapUiIconPopover.createPopoverWithText(this.m_uiMgr,"VariableDialogExitPop",o,n));if(this.m_vdController.getView().isSettingsPopoverEnabled()){this.m_vdController.getView().getDefaultValuesSection().addItem(t);this.m_vdController.getView().getDefaultValuesSection().setVisible(true)}else{this.m_orcaLayout.addItem(t)}}};e.VdOrcaUiHelper.prototype.addDynamicVariableIcon=function(t){if(!t.getVariable().isDynamicVariable()){return}let i=t.getView().addNewHeaderIcon();i.setName("DynamicVariableInfoIco");i.setIcon("synchronize");i.setEnabled(!this.m_config.isReadOnly());let o=this.m_i18n.getText(e.OuVariableDialogI18nLegacy.I18N_VD_DYNAMIC_VARIABLE_INFO);this.m_popovers.add(e.OlapUiIconPopover.createPopoverWithText(this.m_uiMgr,"DynamicVariableInfoPop",i,o))};e.VdOrcaUiHelper.prototype.addForceSection=function(){if(this.m_config.hideForceSection()||!this.m_config.isStoryEditable()||this.m_scenario===e.VdOrcaScenario.LINKED_VARIABLE||this.m_level.isTypeOf(e.VdOrcaLevel.WIDGET)){return}let t=this.m_vdController.getView().isSettingsPopoverEnabled()?this.m_orcaLayoutPopover.addNewItemOfType(e.UiType.FLEX_LAYOUT):this.m_orcaLayout.addNewItemOfType(e.UiType.FLEX_LAYOUT);t.setName("VariableDialogForceLayout");t.useMaxWidth();t.setDirection(e.UiFlexDirection.ROW);t.setAlignItems(e.UiFlexAlignItems.CENTER);t.setJustifyContent(e.UiFlexJustifyContent.START);this.m_forceCb=t.addNewItemOfType(e.UiType.CHECKBOX);this.m_forceCb.setName("VariableDialogForceCb");this.m_forceCb.setWrapping(true);this.m_forceCb.setChecked(this.m_config.isForcePrompt());let i=!this.m_config.isReadOnly()&&!this.m_config.isDisableVariablePersistenceOptions();if(this.m_vdController.getView().isMultiInputComponentEnabled()){this.m_forceCb.setEditable(i)}else{this.m_forceCb.setEnabled(i)}if(this.m_vdController.getView().isSettingsPopoverEnabled()){this.m_forceCb.setText(this.getForceText());this.m_forceCb.setTooltip(this.getForceText())}else{t.setPadding(e.UiCssBoxEdges.create("0 0 0.75rem 0"));let i=t.addNewItemOfType(e.UiType.LABEL);i.setText(this.getForceText());i.setTooltip(this.getForceText());i.setLabelFor(this.m_forceCb)}if(e.XCollectionUtils.hasElements(this.m_config.getLinkTooltips())||this.m_config.isDisableVariablePersistenceOptions()){let i=t.addNewItemOfType(e.UiType.ICON);i.setName("VariableDialogForceIco");i.setIcon("message-information");i.setIconSize(e.UiCssLength.create("1rem"));i.setMargin(e.UiCssBoxEdges.create("0 0 0 0.5rem"));if(this.m_uiMgr.getDeviceInfo().isMobile()){i.setIconSize(e.UiCssLength.create(e.VdVariableView.MOBILE_ICON_FONT_SIZE))}let o=this.m_config.isDisableVariablePersistenceOptions()?this.m_i18n.getText(e.OuVariableDialogI18nLegacy.I18N_VD_FORCE_PROMPT_DISABLED_LONG):this.m_i18n.getText(e.OuVariableDialogI18nLegacy.I18N_VD_FORCE_PROMPT_STORY_INFO);this.m_popovers.add(e.OlapUiIconPopover.createPopoverWithText(this.m_uiMgr,"VariableDialogForcePop",i,o))}};e.VdOrcaUiHelper.prototype.addInfoMessageSection=function(t){if(e.XStringUtils.isNullOrEmpty(t)){return}let i=this.m_orcaLayout.addNewItemOfType(e.UiType.FLEX_LAYOUT);i.useMaxWidth();i.setMinHeight(e.UiCssLength.create("40px"));i.setDirection(e.UiFlexDirection.ROW);i.setJustifyContent(e.UiFlexJustifyContent.START);i.setAlignItems(e.UiFlexAlignItems.CENTER);i.setPadding(e.UiCssBoxEdges.create("0 0 0.75rem 0"));let o=i.addNewItemOfType(e.UiType.ICON);o.setIcon("message-information");o.setEnabled(false);if(this.m_uiContext.getDeviceInfo().isMobile()){o.setMargin(e.UiCssBoxEdges.create("0 0.5rem 0 2rem"))}else{o.setMargin(e.UiCssBoxEdges.create("0 0.5rem 0 0.5rem"))}let n=i.addNewItemOfType(e.UiType.LABEL);n.useMaxWidth();n.setName("VariableDialogInfoLbl");n.setText(t);n.setTextAlign(e.UiTextAlign.CENTER);n.setFontStyle(e.UiFontStyle.ITALIC);n.setTextAlign(e.UiTextAlign.LEFT);n.setWrapping(true)};e.VdOrcaUiHelper.prototype.addLevelSection=function(){if(this.m_config.hideLevelSection()||this.m_level!==e.VdOrcaLevel.CHART&&this.m_level!==e.VdOrcaLevel.TABLE||this.m_scenario===e.VdOrcaScenario.ANALYTIC_APP&&!this.m_config.isStoryEditable()){return}let t=this.m_config.getWidgetLevelWarnings();if(e.notNull(t)){for(let e=0;e<t.size();e++){let i=t.get(e);this.addInfoMessageSection(i)}}let i=this.m_orcaLayout.addNewItemOfType(e.UiType.RADIO_BUTTON_GROUP);i.setColumnCount(2);i.setWidth(e.UiCssLength.create("100%"));i.registerOnSelect(this);this.m_storyRb=i.addNewRadioButton();this.m_storyRb.setText(this.getStoryText());this.m_storyRb.setName("VariableDialogStoryRb");this.m_storyRb.setSelected(!this.m_useBottomLevelVariables);this.m_storyRb.setEnabled(!this.m_config.isReadOnly());this.m_widgetRb=i.addNewRadioButton();this.m_widgetRb.setText(this.getWidgetText());this.m_widgetRb.setName("VariableDialogWidgetRb");this.m_widgetRb.setSelected(this.m_useBottomLevelVariables);this.m_widgetRb.setEnabled(!this.m_config.isReadOnly());this.m_orcaLayout.addNewItemOfType(e.UiType.SPACER).setHeight(e.UiCssLength.createExt(15,e.UiCssSizeUnit.PIXEL))};e.VdOrcaUiHelper.prototype.addLinkIconForVariable=function(t){let i=this.m_config.getLinkTooltips().getByKey(t.getName());if(!e.XCollectionUtils.hasElements(i)){return}e.XCollectionUtils.addIfNotNull(this.m_popovers,e.VdOrcaUiHelper.showLinkIconForVariable(t,i,this.m_uiContext))};e.VdOrcaUiHelper.prototype.addLinkedVariableInfoSection=function(){let t=this.m_config.getLinkedModelsText();if(this.m_scenario!==e.VdOrcaScenario.LINKED_VARIABLE||e.XStringUtils.isNullOrEmpty(t)){return}let i=this.m_orcaLayout.addNewItemOfType(e.UiType.LABEL);i.setName("VariableDialogLinkLbl");i.setText(t);this.m_orcaLayout.addNewItemOfType(e.UiType.SPACER).setHeight(e.UiCssLength.createExt(15,e.UiCssSizeUnit.PIXEL))};e.VdOrcaUiHelper.prototype.addOrcaSpecificUi=function(){if(e.isNull(this.m_scenario)||e.isNull(this.m_level)){return}this.m_orcaLayout=this.m_vdController.getView().getCustomSection();this.m_orcaLayout.setAlignItems(e.UiFlexAlignItems.START);this.m_orcaLayout.setDirection(e.UiFlexDirection.COLUMN);this.m_orcaLayoutPopover=this.m_vdController.getView().getCustomSectionPopover();let t=this.m_scenario!==e.VdOrcaScenario.LINKED_VARIABLE;t=t&&(this.m_level.isTypeOf(e.VdOrcaLevel.DEFAULT)||this.m_useBottomLevelVariables);t=t||this.m_config.showVariantSection();this.m_vdController.setVariantsSectionVisible(t);if(this.m_scenario!==e.VdOrcaScenario.BOARD_ROOM&&this.m_level.isTypeOf(e.VdOrcaLevel.WIDGET)){this.m_vdController.setInputEnabled(!this.m_config.isReadOnly()&&this.m_useBottomLevelVariables)}else{this.m_vdController.setInputEnabled(!this.m_config.isReadOnly())}this.m_vdController.setSubmitButtonEnabled(!this.m_config.isReadOnly());if(this.m_level!==e.VdOrcaLevel.FILTER){if(!this.m_vdController.hasVariables()){let t=this.m_i18n.getText(e.OuVariableDialogI18nLegacy.I18N_VD_NO_VARIABLES);this.addInfoMessageSection(t)}else{this.addLinkedVariableInfoSection();this.addInfoMessageSection(this.m_config.getInfoText());this.addLevelSection();this.addForceSection();this.addDisableExitSection();if(!this.m_config.isAlignBwHanaDynamicVariables()){this.addDisableDynamicSection()}}}this.addVariableUi()};e.VdOrcaUiHelper.prototype.addTextVariableInfo=function(t){if(!this.m_level.isTypeOf(e.VdOrcaLevel.WIDGET)){return}let i=e.VdOrcaUiHelper.addTextVariableInfoSection(t,this.m_i18n.getText(e.OuVariableDialogI18nLegacy.I18N_VD_TEXT_VARIABLE_DISABLED));if(e.isNull(i)){return}i.setVisible(this.m_useBottomLevelVariables);this.m_textVariableDisableInfos.add(i)};e.VdOrcaUiHelper.prototype.addVariableUi=function(){let e=this.m_vdController.getControllers();for(let t=0;t<e.size();t++){let i=e.get(t);this.addLinkIconForVariable(i);this.addDynamicVariableIcon(i);this.addTextVariableInfo(i)}};e.VdOrcaUiHelper.prototype.getCheckbox=function(){return this.m_config.isAlignBwHanaDynamicVariables()||this.isDisableExitSection()?this.m_disableExitCb:this.m_disableDynamicCb};e.VdOrcaUiHelper.prototype.getDisableDynamicInitialValue=function(){return this.m_useBottomLevelVariables?!this.m_config.isBottomLevelUsingDynamicVariables():!this.m_config.isTopLevelUsingDynamicVariables()};e.VdOrcaUiHelper.prototype.getForceText=function(){if(this.m_scenario===e.VdOrcaScenario.ANALYTIC_APP){return this.m_i18n.getText(e.OuVariableDialogI18nLegacy.I18N_VD_FORCE_PROMPT_APP)}else if(this.m_scenario===e.VdOrcaScenario.PLANNING_SEQUENCE){if(this.m_vdController.getVariableProcessor().getSession().hasFeatureByName(e.OlapUiFeatureToggle.MA_SUPPORT_BI_USER)){return this.m_i18n.getText(e.OuVariableDialogI18nLegacy.I18N_VD_NEW_FORCE_PROMPT_PS)}return this.m_i18n.getText(e.OuVariableDialogI18nLegacy.I18N_VD_FORCE_PROMPT_PS)}return this.m_i18n.getText(e.OuVariableDialogI18nLegacy.I18N_VD_FORCE_PROMPT_STORY)};e.VdOrcaUiHelper.prototype.getStoryText=function(){if(e.XStringUtils.isNotNullAndNotEmpty(this.m_config.getCustomStoryButtonText())){return this.m_config.getCustomStoryButtonText()}else if(this.m_scenario===e.VdOrcaScenario.BOARD_ROOM){return this.m_config.getBoardRoomParentLevelText()}else if(this.m_scenario===e.VdOrcaScenario.ANALYTIC_APP){return this.m_i18n.getText(e.OuVariableDialogI18nLegacy.I18N_VD_APP_LEVEL)}return this.m_i18n.getText(e.OuVariableDialogI18nLegacy.I18N_VD_STORY_LEVEL)};e.VdOrcaUiHelper.prototype.getWidgetText=function(){if(this.m_scenario===e.VdOrcaScenario.BOARD_ROOM){return this.m_config.getBoardRoomChildLevelText()}else if(this.m_level===e.VdOrcaLevel.TABLE){return this.m_i18n.getText(e.OuVariableDialogI18nLegacy.I18N_VD_TABLE_LEVEL)}return this.m_i18n.getText(e.OuVariableDialogI18nLegacy.I18N_VD_CHART_LEVEL)};e.VdOrcaUiHelper.prototype.isDisableDynamicSection=function(){return this.m_vdController.hasDynamicVariables()&&(this.m_config.isStoryEditable()||this.m_config.showDynamicVariableSection())&&this.m_scenario!==e.VdOrcaScenario.LINKED_VARIABLE};e.VdOrcaUiHelper.prototype.isDisableExitSection=function(){return this.m_vdController.hasExitVariables()&&(this.m_config.isStoryEditable()||this.m_config.showExitVariableSection())};e.VdOrcaUiHelper.prototype.isDisablingDynamicVariables=function(){if(this.getCheckbox()===e.UiContextDummy.getSingleton()){return this.getDisableDynamicInitialValue()}return this.getCheckbox().isChecked()};e.VdOrcaUiHelper.prototype.isDisablingExitVariables=function(){if(this.getCheckbox()===e.UiContextDummy.getSingleton()){return this.m_config.isDisableExit()}return this.getCheckbox().isChecked()};e.VdOrcaUiHelper.prototype.isForcePrompt=function(){if(this.m_forceCb===e.UiContextDummy.getSingleton()){return this.m_config.isForcePrompt()}return this.m_forceCb.isChecked()};e.VdOrcaUiHelper.prototype.isWidgetSelected=function(){return this.m_useBottomLevelVariables};e.VdOrcaUiHelper.prototype.onChange=function(t){let i=t.getControl();if(i===this.getCheckbox()){if(!this.getCheckbox().isChecked()&&this.m_scenario!==e.VdOrcaScenario.PLANNING_SEQUENCE){this.m_vdController.updateDynamicVariables()}}};e.VdOrcaUiHelper.prototype.onSelect=function(t){let i=t.getSelectedItem();if(i===this.m_widgetRb||i===this.m_storyRb){if(this.m_scenario!==e.VdOrcaScenario.BOARD_ROOM){this.m_useBottomLevelVariables=this.m_widgetRb.isSelected();this.m_vdController.setInputEnabled(this.m_useBottomLevelVariables);this.m_vdController.setVariantsSectionVisible(this.m_useBottomLevelVariables);let e=this.m_useBottomLevelVariables&&!this.m_config.isDisableVariablePersistenceOptions();if(this.m_vdController.getView().isMultiInputComponentEnabled()){this.m_disableExitCb.setEditable(e);this.m_disableDynamicCb.setEditable(e)}else{this.m_disableExitCb.setEnabled(e);this.m_disableDynamicCb.setEnabled(e)}if(this.isDisableDynamicSection()){this.getCheckbox().setChecked(this.getDisableDynamicInitialValue())}for(let e=0;e<this.m_textVariableDisableInfos.size();e++){this.m_textVariableDisableInfos.get(e).setVisible(this.m_useBottomLevelVariables)}this.updateValues()}}};e.VdOrcaUiHelper.prototype.releaseObject=function(){this.m_uiContext=null;this.m_vdController=null;e.XObjectExt.release(this.m_config);this.m_uiMgr=null;this.m_i18n=null;this.m_scenario=null;this.m_level=null;this.m_forceCb=null;this.m_storyRb=null;this.m_widgetRb=null;this.m_disableExitCb=null;this.m_disableDynamicCb=null;e.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_popovers);e.XObjectExt.release(this.m_textVariableDisableInfos);e.XObjectExt.release(this.m_orcaLayout);e.XObject.prototype.releaseObject.call(this)};e.VdOrcaUiHelper.prototype.setupUiHelper=function(t,i){this.m_vdController=t;this.m_config=i;this.m_uiContext=this.m_vdController.getContext();this.m_uiMgr=this.m_uiContext.getUiManager();this.m_i18n=e.OuVariableDialogI18nLegacy.getProvider();this.m_scenario=this.m_config.getScenario();this.m_level=this.m_config.getLevel();this.m_useBottomLevelVariables=this.m_config.useBottomLevelVariables();this.m_textVariableDisableInfos=e.XList.create();this.m_popovers=e.XList.create();this.m_forceCb=e.UiContextDummy.getSingleton();this.m_storyRb=e.UiContextDummy.getSingleton();this.m_widgetRb=e.UiContextDummy.getSingleton();this.m_disableExitCb=e.UiContextDummy.getSingleton();this.m_disableDynamicCb=e.UiContextDummy.getSingleton()};e.VdOrcaUiHelper.prototype.updateValues=function(){if(this.m_useBottomLevelVariables){let t=this.m_config.getBottomLevelValues();if(e.notNull(t)){this.m_vdController.setValues(t)}}else{let t=this.m_config.getTopLevelValues();if(e.notNull(t)){this.m_vdController.setValues(t)}else{this.m_vdController.resetValues()}}};e.QctController=function(){};e.QctController.prototype=new e.XObject;e.QctController.prototype._ff_c="QctController";e.QctController.CANCEL_BUTTON="cancelButton";e.QctController.CATEGORY_DROPDOWN="categoryDropdown";e.QctController.CURRENCY_DROPDOWN="currencyDropdown";e.QctController.CURRENCY_TRANSLATION_DROPDOWN="currencyTranslationDropdown";e.QctController.DATE_MODE_SWITCH="dateModeSwitch";e.QctController.DATE_OFFSET_GRANULARITY_RBG="dateOffsetGranularityRBG";e.QctController.MINUS="minus";e.QctController.OFFSET_DROPDOWN="offsetDropdown";e.QctController.OFFSET_SWITCH="offsetSwitch";e.QctController.OK_BUTTON="okButton";e.QctController.PLUS="plus";e.QctController.PLUS_MINUS_SWITCH="plusMinusSwitch";e.QctController.QUERY_DEFINITON_SWITCH="queryDefinitionSwitch";e.QctController.RATE_TYPE_DROPDOWN="rateTypeDropdown";e.QctController.RATE_VERSION_DROPDOWN="rateVersionDropdown";e.QctController.REFERENCE_DATE_PICKER="referenceDatePicker";e.QctController.TECHNICAL_BUTTON="technicalButton";e.QctController.TRANSLATION_DEFINITON_SWITCH="translationDefinitionSwitch";e.QctController.create=function(t){let i=new e.QctController;i.m_context=t;return i};e.QctController.prototype.m_cancelButton=null;e.QctController.prototype.m_categoryDropdown=null;e.QctController.prototype.m_ccdLayout=null;e.QctController.prototype.m_context=null;e.QctController.prototype.m_currencyDropDown=null;e.QctController.prototype.m_currencyTranslationDropDown=null;e.QctController.prototype.m_currencyTranslationManager=null;e.QctController.prototype.m_dateGranularityRadioGroup=null;e.QctController.prototype.m_dateModeButton=null;e.QctController.prototype.m_dateOffsetGroup=null;e.QctController.prototype.m_dialogCloseListener=null;e.QctController.prototype.m_display=null;e.QctController.prototype.m_isClosing=false;e.QctController.prototype.m_model=null;e.QctController.prototype.m_offsetDropdown=null;e.QctController.prototype.m_offsetSwitch=null;e.QctController.prototype.m_okButton=null;e.QctController.prototype.m_plusMinus=null;e.QctController.prototype.m_queryDefinitionSwitch=null;e.QctController.prototype.m_rateTypeDropdown=null;e.QctController.prototype.m_rateVersionDropdown=null;e.QctController.prototype.m_rdFlex=null;e.QctController.prototype.m_referenceDatePicker=null;e.QctController.prototype.m_translationDefinitionSwitch=null;e.QctController.prototype.closeDialog=function(){if(!this.m_isClosing){this.m_isClosing=true;if(e.notNull(this.m_display)&&this.m_display.isOpen()){this.m_display.close()}}if(e.notNull(this.m_dialogCloseListener)){this.m_dialogCloseListener.onClose()}};e.QctController.prototype.onAfterOpen=function(e){};e.QctController.prototype.onBeforeClose=function(e){this.closeDialog()};e.QctController.prototype.onCatalogsLoaded=function(){let t=this.m_currencyTranslationManager.getAvailableCurrencyTranslationObjects();let i;let o;let n;let a=e.CtDialogI18n.getLocalization();let r=a.getText(e.CtDialogI18n.I18N_QCT_DYNAMIC);let l=a.getText(e.CtDialogI18n.I18N_QCT_CUSTOM);if(this.m_currencyTranslationManager.getQueryModel().getModelCapabilities().supportsCurrencyTranslation()&&this.m_currencyTranslationManager.getMeasureCurrencyTranslation(e.QctModel.CUSTOM)===null&&e.XCollectionUtils.hasElements(this.m_currencyTranslationManager.getAvailableCurrencies())){this.m_currencyTranslationManager.addNewMeasureCurrencyTranslation(e.QctModel.CUSTOM,l)}if(e.XCollectionUtils.hasElements(t)){o=t.size();for(i=0;i<o;i++){n=t.get(i);this.m_currencyTranslationDropDown.addNewItem().setText(n.getText()).setCustomObject(n).setName(n.getName())}}let s;let u=this.m_currencyTranslationManager.getAvailableCurrencies();if(e.XCollectionUtils.hasElements(u)){o=u.size();for(i=0;i<o;i++){s=u.get(i);this.m_currencyDropDown.addNewItem().setText(s.getText()).setCustomObject(s).setName(s.getName())}}let m=this.m_currencyTranslationManager.getAvailableCategories();if(e.XCollectionUtils.hasElements(m)&&e.notNull(this.m_categoryDropdown)){o=m.size();this.m_categoryDropdown.addNewItem().setText(r).setCustomObject(null).setName(e.QctModel.DYNAMIC);for(i=0;i<o;i++){let e=m.get(i);this.m_categoryDropdown.addNewItem().setText(e.getName()).setCustomObject(e).setName(e.getName())}}let p=this.m_currencyTranslationManager.getAvailableRateVersions();if(e.XCollectionUtils.hasElements(p)&&e.notNull(this.m_rateVersionDropdown)){o=p.size();s=e.QCurrencyObject.create(null,r);this.m_rateVersionDropdown.addNewItem().setText(s.getText()).setCustomObject(s).setName(s.getName());for(i=0;i<o;i++){s=p.get(i);this.m_rateVersionDropdown.addNewItem().setText(s.getText()).setCustomObject(s).setName(s.getName())}}let d=this.m_currencyTranslationManager.getAvailableRateTypes();if(e.XCollectionUtils.hasElements(d)&&e.notNull(this.m_rateTypeDropdown)){o=d.size();this.m_rateTypeDropdown.addNewItem().setText(r).setCustomObject(null).setName(e.QctModel.DYNAMIC);for(i=0;i<o;i++){let e=d.get(i);this.m_rateTypeDropdown.addNewItem().setText(e.getName()).setCustomObject(e).setName(e.getName())}}this.updateSettings()};e.QctController.prototype.onChange=function(t){let i=t.getControl();let o=null;switch(i.getName()){case e.QctController.CURRENCY_DROPDOWN:o=i.getSelectedItem().getCustomObject();this.m_model.setTargetCurrency(o.getName());break;case e.QctController.CURRENCY_TRANSLATION_DROPDOWN:o=i.getSelectedItem().getCustomObject();this.m_model.setCurrencyTranslationType(o);break;case e.QctController.QUERY_DEFINITON_SWITCH:this.m_model.setConsiderCurrencyTranslationFromQueryDefinition(i.isOn());break;case e.QctController.TRANSLATION_DEFINITON_SWITCH:this.m_model.setDefineCurrencyTranslation(i.isOn());break;case e.QctController.OFFSET_SWITCH:this.m_model.setOffset(i.isOn());break;case e.QctController.REFERENCE_DATE_PICKER:this.m_model.setReferenceDate(e.XDate.createDateSafe(i.getValue()));break}this.updateSettings()};e.QctController.prototype.onObservableModelChange=function(e){this.updateSettings()};e.QctController.prototype.onPress=function(t){let i=t.getControl().getName();switch(i){case e.QctController.TECHNICAL_BUTTON:this.m_model.setShowTechnical(t.getControl().isPressed());return;case e.QctController.OK_BUTTON:this.m_model.applyToQueryModel(this.m_currencyTranslationManager.getQueryModel());if(e.notNull(this.m_dialogCloseListener)){this.m_dialogCloseListener.onSubmit()}break;case e.QctController.CANCEL_BUTTON:break}this.closeDialog()};e.QctController.prototype.onSelect=function(t){let i=t.getControl();let o=i.getSelectedItem();let n=o.getCustomObject();switch(i.getName()){case e.QctController.CATEGORY_DROPDOWN:this.m_model.setCategory(n);break;case e.QctController.RATE_TYPE_DROPDOWN:this.m_model.setRateType(n);break;case e.QctController.RATE_VERSION_DROPDOWN:this.m_model.setRateVersion(n.getName());break;case e.QctController.OFFSET_DROPDOWN:this.m_model.setReferenceDateOffset(n.getInteger());break;case e.QctController.DATE_OFFSET_GRANULARITY_RBG:this.m_model.setReferenceOffsetGranularity(n);break}this.updateSettings()};e.QctController.prototype.onSelectionChange=function(t){let i=t.getControl();let o=i.getSelectedItem();switch(i.getName()){case e.QctController.PLUS_MINUS_SWITCH:this.m_model.setNegativeOffset(e.XString.isEqual(o.getName(),e.QctController.MINUS));break;case e.QctController.DATE_MODE_SWITCH:this.m_model.setFixedDate(e.XString.isEqual(o.getName(),e.CtDialogI18n.I18N_QCT_REFERENCE_DATE_FIXED));break}this.updateSettings()};e.QctController.prototype.openDialog=function(t,i,o){this.m_dialogCloseListener=o;this.m_model=e.QctModel.createFrom(i);this.m_model.addListener(this);this.m_currencyTranslationManager=i;this.setupController(t);if(e.notNull(this.m_currencyTranslationDropDown)){this.m_currencyTranslationDropDown.clearItems();this.m_currencyTranslationDropDown.setEnabled(false)}if(e.notNull(this.m_currencyDropDown)){this.m_currencyDropDown.clearItems();this.m_currencyDropDown.setEnabled(false)}if(e.notNull(this.m_categoryDropdown)){this.m_categoryDropdown.clearItems();this.m_categoryDropdown.setEnabled(false)}if(e.notNull(this.m_rateVersionDropdown)){this.m_rateVersionDropdown.clearItems();this.m_rateVersionDropdown.setEnabled(false)}if(e.notNull(this.m_rateTypeDropdown)){this.m_rateTypeDropdown.clearItems();this.m_rateTypeDropdown.setEnabled(false)}i.setupBwCatalogs(e.SyncType.NON_BLOCKING,this)};e.QctController.prototype.releaseObject=function(){this.m_okButton=e.XObjectExt.release(this.m_okButton);this.m_cancelButton=e.XObjectExt.release(this.m_cancelButton);this.m_ccdLayout=e.XObjectExt.release(this.m_ccdLayout);this.m_display=e.XObjectExt.release(this.m_display);this.m_queryDefinitionSwitch=e.XObjectExt.release(this.m_queryDefinitionSwitch);this.m_translationDefinitionSwitch=e.XObjectExt.release(this.m_translationDefinitionSwitch);this.m_currencyDropDown=e.XObjectExt.release(this.m_currencyDropDown);this.m_categoryDropdown=e.XObjectExt.release(this.m_categoryDropdown);this.m_rateVersionDropdown=e.XObjectExt.release(this.m_rateVersionDropdown);this.m_rateTypeDropdown=e.XObjectExt.release(this.m_rateTypeDropdown);this.m_dateModeButton=e.XObjectExt.release(this.m_dateModeButton);this.m_referenceDatePicker=e.XObjectExt.release(this.m_referenceDatePicker);this.m_plusMinus=e.XObjectExt.release(this.m_plusMinus);this.m_offsetDropdown=e.XObjectExt.release(this.m_offsetDropdown);this.m_offsetSwitch=e.XObjectExt.release(this.m_offsetSwitch);this.m_dateGranularityRadioGroup=e.XObjectExt.release(this.m_dateGranularityRadioGroup);this.m_currencyTranslationDropDown=e.XObjectExt.release(this.m_currencyTranslationDropDown);this.m_dateOffsetGroup=e.XObjectExt.release(this.m_dateOffsetGroup);this.m_rdFlex=e.XObjectExt.release(this.m_rdFlex);this.m_model=e.XObjectExt.release(this.m_model);this.m_context=null};e.QctController.prototype.setupController=function(t){this.m_isClosing=false;this.m_display=this.m_context.getDisplayFactory().getInstance();this.m_display.setName("Catalog Dialog");this.m_display.setTitle(t);this.m_display.registerOnAfterOpen(this);this.m_display.registerOnBeforeClose(this);this.m_display.setHeight(e.UiCssLength.createExt(30,e.UiCssSizeUnit.EM));this.m_display.setWidth(e.UiCssLength.createExt(50,e.UiCssSizeUnit.EM));let i=this.m_display.getGenesis();let o=e.CtDialogI18n.getLocalization();this.m_ccdLayout=e.CtLayout.createWithGenesis(i);let n=this.m_ccdLayout.getContent().addNewItemOfType(e.UiType.FLEX_LAYOUT);n.addNewItemOfType(e.UiType.LABEL).setText(o.getText(e.CtDialogI18n.I18N_QCT_DEFINE_CURRENCY_TRANSLATION)).setWidth(e.UiCssLength.create("100%")).setTextAlign(e.UiTextAlign.RIGHT).setAlignItems(e.UiFlexAlignItems.CENTER).setPadding(e.UiCssBoxEdges.create("10px"));n.addNewItemOfType(e.UiType.SPACER).setHeight(e.UiCssLength.create("1em")).setWidth(e.UiCssLength.create("3em"));this.m_translationDefinitionSwitch=n.addNewItemOfType(e.UiType.SWITCH).setName(e.QctController.TRANSLATION_DEFINITON_SWITCH).setWidth(e.UiCssLength.create("100%"));this.m_translationDefinitionSwitch.setOffText(" ").setOnText(" ");this.m_translationDefinitionSwitch.registerOnChange(this);let a=this.m_ccdLayout.getContent().addNewItemOfType(e.UiType.FLEX_LAYOUT);a.addNewItemOfType(e.UiType.LABEL).setText(o.getText(e.CtDialogI18n.I18N_QCT_CURRENCY_TRANSLATION_TYPE)).setWidth(e.UiCssLength.create("100%")).setTextAlign(e.UiTextAlign.RIGHT).setAlignItems(e.UiFlexAlignItems.CENTER).setPadding(e.UiCssBoxEdges.create("10px"));a.addNewItemOfType(e.UiType.SPACER).setHeight(e.UiCssLength.create("1em")).setWidth(e.UiCssLength.create("3em"));this.m_currencyTranslationDropDown=a.addNewItemOfType(e.UiType.COMBO_BOX).setName(e.QctController.CURRENCY_TRANSLATION_DROPDOWN).setHeight(e.UiCssLength.create("100%")).setWidth(e.UiCssLength.create("100%")).setAlignItems(e.UiFlexAlignItems.CENTER);this.m_currencyTranslationDropDown.registerOnChange(this);if(this.m_currencyTranslationManager.getModelCapabilities().supportsQueryCurrencyTranslation()||e.XCollectionUtils.hasElements(this.m_currencyTranslationManager.getAvailableCurrencies())){let t=this.m_ccdLayout.getContent().addNewItemOfType(e.UiType.FLEX_LAYOUT);t.addNewItemOfType(e.UiType.LABEL).setText(o.getText(e.CtDialogI18n.I18N_QCT_TARGET_CURRENCY)).setWidth(e.UiCssLength.create("100%")).setTextAlign(e.UiTextAlign.RIGHT).setAlignItems(e.UiFlexAlignItems.CENTER).setPadding(e.UiCssBoxEdges.create("10px"));t.addNewItemOfType(e.UiType.SPACER).setHeight(e.UiCssLength.create("1em")).setWidth(e.UiCssLength.create("3em"));this.m_currencyDropDown=t.addNewItemOfType(e.UiType.COMBO_BOX).setName(e.QctController.CURRENCY_DROPDOWN).setHeight(e.UiCssLength.create("100%")).setWidth(e.UiCssLength.create("100%")).setAlignItems(e.UiFlexAlignItems.CENTER);this.m_currencyDropDown.registerOnChange(this)}if(e.XCollectionUtils.hasElements(this.m_currencyTranslationManager.getAvailableCategories())){let t=this.m_ccdLayout.getContent().addNewItemOfType(e.UiType.FLEX_LAYOUT);t.addNewItemOfType(e.UiType.LABEL).setText(o.getText(e.CtDialogI18n.I18N_QCT_CATEGORY)).setWidth(e.UiCssLength.create("100%")).setTextAlign(e.UiTextAlign.RIGHT).setAlignItems(e.UiFlexAlignItems.CENTER).setPadding(e.UiCssBoxEdges.create("10px"));t.addNewItemOfType(e.UiType.SPACER).setHeight(e.UiCssLength.create("1em")).setWidth(e.UiCssLength.create("3em"));this.m_categoryDropdown=t.addNewItemOfType(e.UiType.DROPDOWN).setName(e.QctController.CATEGORY_DROPDOWN).setHeight(e.UiCssLength.create("100%")).setWidth(e.UiCssLength.create("100%")).setAlignItems(e.UiFlexAlignItems.CENTER);this.m_categoryDropdown.registerOnSelect(this)}if(e.XCollectionUtils.hasElements(this.m_currencyTranslationManager.getAvailableRateVersions())){let t=this.m_ccdLayout.getContent().addNewItemOfType(e.UiType.FLEX_LAYOUT);t.addNewItemOfType(e.UiType.LABEL).setText(o.getText(e.CtDialogI18n.I18N_QCT_RATE_VERSION)).setWidth(e.UiCssLength.create("100%")).setTextAlign(e.UiTextAlign.RIGHT).setAlignItems(e.UiFlexAlignItems.CENTER).setPadding(e.UiCssBoxEdges.create("10px"));t.addNewItemOfType(e.UiType.SPACER).setHeight(e.UiCssLength.create("1em")).setWidth(e.UiCssLength.create("3em"));this.m_rateVersionDropdown=t.addNewItemOfType(e.UiType.DROPDOWN).setName(e.QctController.RATE_VERSION_DROPDOWN).setHeight(e.UiCssLength.create("100%")).setWidth(e.UiCssLength.create("100%")).setAlignItems(e.UiFlexAlignItems.CENTER);this.m_rateVersionDropdown.registerOnSelect(this)}if(e.XCollectionUtils.hasElements(this.m_currencyTranslationManager.getAvailableRateTypes())){let t=this.m_ccdLayout.getContent().addNewItemOfType(e.UiType.FLEX_LAYOUT);t.addNewItemOfType(e.UiType.LABEL).setText(o.getText(e.CtDialogI18n.I18N_QCT_RATE_TYPE)).setWidth(e.UiCssLength.create("100%")).setTextAlign(e.UiTextAlign.RIGHT).setAlignItems(e.UiFlexAlignItems.CENTER).setPadding(e.UiCssBoxEdges.create("10px"));t.addNewItemOfType(e.UiType.SPACER).setHeight(e.UiCssLength.create("1em")).setWidth(e.UiCssLength.create("3em"));this.m_rateTypeDropdown=t.addNewItemOfType(e.UiType.DROPDOWN).setName(e.QctController.RATE_TYPE_DROPDOWN).setHeight(e.UiCssLength.create("100%")).setWidth(e.UiCssLength.create("100%")).setAlignItems(e.UiFlexAlignItems.CENTER);this.m_rateTypeDropdown.registerOnSelect(this)}if(this.m_currencyTranslationManager.supportsMeasureBasedCurrencyTranslation()){this.m_rdFlex=this.m_ccdLayout.getContent().addNewItemOfType(e.UiType.FLEX_LAYOUT);this.m_rdFlex.addNewItemOfType(e.UiType.LABEL).setText(o.getText(e.CtDialogI18n.I18N_QCT_REFERENCE_DATE)).setWidth(e.UiCssLength.create("100%")).setTextAlign(e.UiTextAlign.RIGHT).setAlignItems(e.UiFlexAlignItems.CENTER).setPadding(e.UiCssBoxEdges.create("10px"));this.m_rdFlex.addNewItemOfType(e.UiType.SPACER).setHeight(e.UiCssLength.create("1em")).setWidth(e.UiCssLength.create("3em"));this.m_dateModeButton=this.m_rdFlex.addNewItemOfType(e.UiType.SEGMENTED_BUTTON).setName(e.QctController.DATE_MODE_SWITCH).setWidth(e.UiCssLength.create("100%")).setAlignItems(e.UiFlexAlignItems.CENTER);this.m_dateModeButton.addNewItem().setName(e.CtDialogI18n.I18N_QCT_REFERENCE_DATE_BOOKING).setText(o.getText(e.CtDialogI18n.I18N_QCT_REFERENCE_DATE_BOOKING));this.m_dateModeButton.addNewItem().setName(e.CtDialogI18n.I18N_QCT_REFERENCE_DATE_FIXED).setText(o.getText(e.CtDialogI18n.I18N_QCT_REFERENCE_DATE_FIXED));this.m_dateModeButton.registerOnSelectionChange(this);let t=this.m_ccdLayout.getContent().addNewItemOfType(e.UiType.FLEX_LAYOUT).setWidth(e.UiCssLength.create("100%")).setAlignItems(e.UiFlexAlignItems.CENTER);t.addNewItemOfType(e.UiType.LABEL).setWidth(e.UiCssLength.create("100%")).setTextAlign(e.UiTextAlign.RIGHT).setAlignItems(e.UiFlexAlignItems.CENTER).setPadding(e.UiCssBoxEdges.create("10px"));t.addNewItemOfType(e.UiType.SPACER).setHeight(e.UiCssLength.create("1em")).setWidth(e.UiCssLength.create("3em"));this.m_referenceDatePicker=t.addNewItemOfType(e.UiType.DATE_PICKER).setValueFormat("YYYY-MM-dd").setName(e.QctController.REFERENCE_DATE_PICKER).setWidth(e.UiCssLength.create("100%")).setTextAlign(e.UiTextAlign.RIGHT).setAlignItems(e.UiFlexAlignItems.CENTER).setPadding(e.UiCssBoxEdges.create("10px"));this.m_referenceDatePicker.registerOnChange(this);this.m_dateOffsetGroup=this.m_ccdLayout.getContent().addNewItemOfType(e.UiType.FLEX_LAYOUT);this.m_dateOffsetGroup.addNewItemOfType(e.UiType.LABEL).setWidth(e.UiCssLength.create("100%")).setTextAlign(e.UiTextAlign.RIGHT).setAlignItems(e.UiFlexAlignItems.CENTER).setPadding(e.UiCssBoxEdges.create("10px"));this.m_dateOffsetGroup.addNewItemOfType(e.UiType.SPACER).setHeight(e.UiCssLength.create("1em")).setWidth(e.UiCssLength.create("3em"));let i=this.m_dateOffsetGroup.addNewItemOfType(e.UiType.FLEX_LAYOUT).setWidth(e.UiCssLength.create("100%")).setAlignItems(e.UiFlexAlignItems.CENTER);this.m_offsetSwitch=i.addNewItemOfType(e.UiType.SWITCH).setName(e.QctController.OFFSET_SWITCH).setAlignItems(e.UiFlexAlignItems.CENTER).setOffText(" ").setOnText(" ");this.m_offsetSwitch.registerOnChange(this);this.m_plusMinus=i.addNewItemOfType(e.UiType.SEGMENTED_BUTTON).setName(e.QctController.PLUS_MINUS_SWITCH).setAlignItems(e.UiFlexAlignItems.CENTER).setOffText(" ").setOnText(" ");this.m_plusMinus.addNewItem().setName(e.QctController.MINUS).setText("-");this.m_plusMinus.addNewItem().setName(e.QctController.PLUS).setText("+");this.m_plusMinus.registerOnSelectionChange(this);this.m_offsetDropdown=i.addNewItemOfType(e.UiType.DROPDOWN).setName(e.QctController.OFFSET_DROPDOWN);this.m_offsetDropdown.addNewItem().setText("0").setName("0").setCustomObject(e.XIntegerValue.create(0));this.m_offsetDropdown.addNewItem().setText("1").setName("1").setCustomObject(e.XIntegerValue.create(1));this.m_offsetDropdown.addNewItem().setText("2").setName("2").setCustomObject(e.XIntegerValue.create(2));this.m_offsetDropdown.addNewItem().setText("3").setName("3").setCustomObject(e.XIntegerValue.create(3));this.m_offsetDropdown.addNewItem().setText("4").setName("4").setCustomObject(e.XIntegerValue.create(4));this.m_offsetDropdown.addNewItem().setText("5").setName("5").setCustomObject(e.XIntegerValue.create(5));this.m_offsetDropdown.registerOnSelect(this);this.m_dateGranularityRadioGroup=i.addNewItemOfType(e.UiType.RADIO_BUTTON_GROUP).setName(e.QctController.DATE_OFFSET_GRANULARITY_RBG);this.m_dateGranularityRadioGroup.addNewRadioButton().setText(o.getText(e.CtDialogI18n.I18N_QCT_REFERENCE_DATE_DAY)).setName(e.DateOffsetGranularity.DAY.getName()).setCustomObject(e.DateOffsetGranularity.DAY);this.m_dateGranularityRadioGroup.addNewRadioButton().setText(o.getText(e.CtDialogI18n.I18N_QCT_REFERENCE_DATE_WEEK)).setName(e.DateOffsetGranularity.WEEK.getName()).setCustomObject(e.DateOffsetGranularity.WEEK);this.m_dateGranularityRadioGroup.addNewRadioButton().setText(o.getText(e.CtDialogI18n.I18N_QCT_REFERENCE_DATE_MONTH)).setName(e.DateOffsetGranularity.MONTH.getName()).setCustomObject(e.DateOffsetGranularity.MONTH);this.m_dateGranularityRadioGroup.addNewRadioButton().setText(o.getText(e.CtDialogI18n.I18N_QCT_REFERENCE_DATE_QUARTER)).setName(e.DateOffsetGranularity.QUARTER.getName()).setCustomObject(e.DateOffsetGranularity.QUARTER);this.m_dateGranularityRadioGroup.addNewRadioButton().setText(o.getText(e.CtDialogI18n.I18N_QCT_REFERENCE_DATE_YEAR)).setName(e.DateOffsetGranularity.YEAR.getName()).setCustomObject(e.DateOffsetGranularity.YEAR);this.m_dateGranularityRadioGroup.registerOnSelect(this)}if(this.m_currencyTranslationManager.getModelCapabilities().supportsQueryCurrencyTranslation()){let t=this.m_ccdLayout.getContent().addNewItemOfType(e.UiType.FLEX_LAYOUT);t.addNewItemOfType(e.UiType.LABEL).setText(o.getText(e.CtDialogI18n.I18N_QCT_CCTF_QUERY_DEFINITION)).setWidth(e.UiCssLength.create("100%")).setTextAlign(e.UiTextAlign.RIGHT).setAlignItems(e.UiFlexAlignItems.CENTER).setPadding(e.UiCssBoxEdges.create("10px"));t.addNewItemOfType(e.UiType.SPACER).setHeight(e.UiCssLength.create("1em")).setWidth(e.UiCssLength.create("3em"));this.m_queryDefinitionSwitch=t.addNewItemOfType(e.UiType.SWITCH).setName(e.QctController.QUERY_DEFINITON_SWITCH).setWidth(e.UiCssLength.create("100%")).setAlignItems(e.UiFlexAlignItems.CENTER);this.m_queryDefinitionSwitch.setOffText(" ").setOnText(" ");this.m_queryDefinitionSwitch.registerOnChange(this)}this.m_ccdLayout.buildOlapDialogUi(this.m_display.getGenesis());this.m_okButton=this.m_display.addNewButton();this.m_okButton.setName(e.QctController.OK_BUTTON);this.m_okButton.setText(e.CtDialogI18n.getLocalization().getText(e.XCommonI18n.OK));this.m_okButton.setButtonType(e.UiButtonType.PRIMARY);this.m_okButton.registerOnPress(this);this.m_cancelButton=this.m_display.addNewButton();this.m_cancelButton.setName(e.QctController.CANCEL_BUTTON);this.m_cancelButton.setText(e.CtDialogI18n.getLocalization().getText(e.XCommonI18n.CANCEL));this.m_cancelButton.registerOnPress(this);this.m_display.getGenesis().setRoot(this.m_ccdLayout.buildTree(i));this.m_display.open()};e.QctController.prototype.updateSettings=function(){let t;if(this.m_model.getCurrencyTranslationType()===null){if(this.m_currencyTranslationDropDown.getNumberOfItems()>0){t=this.m_currencyTranslationDropDown.getItem(0).getCustomObject();this.m_model.setCurrencyTranslationType(t)}}let i;if(e.XStringUtils.isNullOrEmpty(this.m_model.getTargetCurrency())&&e.notNull(this.m_currencyDropDown)){if(this.m_currencyDropDown.getNumberOfItems()>0){i=this.m_currencyDropDown.getItem(0).getCustomObject();this.m_model.setTargetCurrency(i.getName())}}if(this.m_model.getCategory()===null&&e.notNull(this.m_categoryDropdown)){if(this.m_categoryDropdown.getNumberOfItems()>0){this.m_model.setCategory(this.m_categoryDropdown.getItem(0).getCustomObject())}}if(e.XStringUtils.isNullOrEmpty(this.m_model.getRateVersion())&&e.notNull(this.m_rateVersionDropdown)){if(this.m_rateVersionDropdown.getNumberOfItems()>0){i=this.m_rateVersionDropdown.getItem(0).getCustomObject();this.m_model.setRateVersion(i.getName())}}if(this.m_model.getRateType()===null&&e.notNull(this.m_rateTypeDropdown)){if(this.m_rateTypeDropdown.getNumberOfItems()>0){this.m_model.setRateType(this.m_rateTypeDropdown.getItem(0).getCustomObject())}}if(this.m_model.getReferenceDate()===null&&this.m_model.isFixedDate()){this.m_model.setReferenceDate(e.XDate.createDateFromIsoFormat("2020-05-05"))}if(e.notNull(this.m_queryDefinitionSwitch)){this.m_queryDefinitionSwitch.setOn(this.m_model.isConsiderCurrencyTranslationFromQueryDefinition());this.m_queryDefinitionSwitch.setEnabled(this.m_model.isMayConsiderOriginalCurrencyTranslation())}if(e.notNull(this.m_translationDefinitionSwitch)){this.m_translationDefinitionSwitch.setOn(this.m_model.isDefineCurrencyTranslation());this.m_translationDefinitionSwitch.setEnabled(e.notNull(this.m_currencyTranslationDropDown)&&this.m_currencyTranslationDropDown.hasItems())}let o;let n;let a;if(e.notNull(this.m_currencyTranslationDropDown)){if(this.m_model.getCurrencyTranslationType()!==null){this.m_currencyTranslationDropDown.setSelectedName(this.m_model.getCurrencyTranslationType().getName())}n=this.m_currencyTranslationDropDown.getNumberOfItems();this.m_currencyTranslationDropDown.setEnabled(n>0&&this.m_model.isDefineCurrencyTranslation());for(o=0;o<n;o++){a=this.m_currencyTranslationDropDown.getItem(o);t=a.getCustomObject();a.setText(this.m_model.isShowTechnical()?t.getName():t.getText())}}if(e.notNull(this.m_currencyDropDown)){this.m_currencyDropDown.setSelectedName(this.m_model.getTargetCurrency());this.m_currencyDropDown.setEnabled(this.m_model.isMayDefineTargetCurrency());n=this.m_currencyDropDown.getNumberOfItems();for(o=0;o<n;o++){a=this.m_currencyDropDown.getItem(o);i=a.getCustomObject();a.setText(this.m_model.isShowTechnical()?i.getName():i.getText())}}if(e.notNull(this.m_categoryDropdown)){let t=this.m_model.getCategory();this.m_categoryDropdown.setSelectedName(e.isNull(t)?e.QctModel.DYNAMIC:t.getName());this.m_categoryDropdown.setEnabled(this.m_model.isMayDefinePlanningParameters())}if(e.notNull(this.m_rateVersionDropdown)){this.m_rateVersionDropdown.setSelectedName(this.m_model.getRateVersion());this.m_rateVersionDropdown.setEnabled(this.m_model.isMayDefinePlanningParameters());n=this.m_rateVersionDropdown.getNumberOfItems();for(o=0;o<n;o++){a=this.m_rateVersionDropdown.getItem(o);i=a.getCustomObject();a.setText(this.m_model.isShowTechnical()?i.getName():i.getText())}}if(e.notNull(this.m_rateTypeDropdown)){let t=this.m_model.getRateType();this.m_rateTypeDropdown.setSelectedName(e.isNull(t)?e.QctModel.DYNAMIC:t.getName());this.m_rateTypeDropdown.setEnabled(this.m_model.isMayDefinePlanningParameters())}if(e.notNull(this.m_dateModeButton)){this.m_rdFlex.setVisible(this.m_model.isMayDefineFixedDate()||this.m_model.isMayDefineOffsetInMonths());this.m_dateModeButton.setSelectedName(this.m_model.isFixedDate()?e.CtDialogI18n.I18N_QCT_REFERENCE_DATE_FIXED:e.CtDialogI18n.I18N_QCT_REFERENCE_DATE_BOOKING);this.m_dateModeButton.setEnabled(this.m_model.isMayDefineFixedDate()&&this.m_model.isMayDefineOffsetInMonths())}if(e.notNull(this.m_referenceDatePicker)&&this.m_model.isFixedDate()){this.m_referenceDatePicker.setVisible(this.m_model.isMayDefineFixedDate());this.m_dateOffsetGroup.setVisible(false);this.m_referenceDatePicker.setEnabled(this.m_model.isMayDefineFixedDate());if(this.m_model.getReferenceDate()!==null){this.m_referenceDatePicker.setValue(this.m_model.getReferenceDate().getStringRepresentation())}}if(e.notNull(this.m_dateOffsetGroup)&&!this.m_model.isFixedDate()){this.m_referenceDatePicker.setVisible(false);this.m_dateOffsetGroup.setVisible(this.m_model.isMayDefineOffsetInMonths());this.m_offsetSwitch.setEnabled(this.m_model.isMayDefineOffsetInMonths());this.m_offsetSwitch.setOn(this.m_model.isOffset());this.m_plusMinus.setEnabled(this.m_model.isMayDefineOffsetInMonths()&&this.m_model.isOffset());this.m_plusMinus.setSelectedName(this.m_model.isNegativeOffset()?e.QctController.MINUS:e.QctController.PLUS);this.m_offsetDropdown.setEnabled(this.m_model.isMayDefineOffsetInMonths()&&this.m_model.isOffset());this.m_offsetDropdown.setSelectedName(e.XInteger.convertToString(this.m_model.getReferenceDateOffset()));this.m_dateGranularityRadioGroup.setEnabled(this.m_model.isMayDefineOffsetInMonths()&&this.m_model.isOffset());this.m_dateGranularityRadioGroup.getRadioButtonByName(e.DateOffsetGranularity.DAY.getName()).setEnabled(this.m_model.isMayDefineOffsetInDays());this.m_dateGranularityRadioGroup.getRadioButtonByName(e.DateOffsetGranularity.WEEK.getName()).setEnabled(this.m_model.isMayDefineOffsetInDays());if(this.m_model.getReferenceOffsetGranularity()!==null){this.m_dateGranularityRadioGroup.setSelectedName(this.m_model.getReferenceOffsetGranularity().getName())}}};e.FAReflectionEngine=function(){};e.FAReflectionEngine.prototype=new e.XObjectExt;e.FAReflectionEngine.prototype._ff_c="FAReflectionEngine";e.FAReflectionEngine.createEngine=function(t){let i=new e.FAReflectionEngine;i.m_target=t;return i};e.FAReflectionEngine.prototype.m_target=null;e.FAReflectionEngine.prototype.extractMethodName=function(t){let i=e.XString.indexOf(t,"(");return i!==-1?e.XString.substring(t,0,i):t};e.FAReflectionEngine.prototype.extractParams=function(t){let i=e.XList.create();let o=e.XString.indexOf(t,"(");let n=e.XString.indexOf(t,")");if(o===-1&&n===-1){return i}let a=e.XString.substring(t,o+1,n);if(e.XStringUtils.isNullOrEmpty(a)){return i}let r=e.XStringTokenizer.splitString(a,",");for(let t=0;t<r.size();t++){let o=e.XString.trim(r.get(t));i.add(this.tryParseValue(o))}return i};e.FAReflectionEngine.prototype.getLastObject=function(t){if(e.XStringUtils.isNullOrEmpty(t)){return e.ExtResult.createWithErrorMessage("commandString was empty")}let i=this.m_target;let o=null;let n=e.XStringTokenizer.splitString(t,".");for(let t=0;t<n.size();t++){let a=n.get(t);if(e.XStringUtils.isNullOrEmpty(a)){continue}try{let t=this.extractMethodName(a);let n=this.extractParams(a);o=e.XReflection.invokeMethodWithArgs(i,t,n);i=o.getValue()}catch(t){return e.ExtResult.createWithErrorMessage("error in command chain")}}if(e.isNull(o)){return e.ExtResult.createWithErrorMessage("no result")}return e.ExtResult.create(o,null)};e.FAReflectionEngine.prototype.getMethodNames=function(){return this.getMethodNamesOf(this.m_target)};e.FAReflectionEngine.prototype.getMethodNamesOf=function(t){let i=e.XHashSetOfString.create();if(e.isNull(t)){return i}let o=e.XClass.getCanonicalClassName(t);let n=e.XClass.createByName(o);if(e.isNull(n)){return i}let a=e.XReflection.getMethods(n);for(let e=0;e<a.size();e++){i.add(a.get(e).getName())}return i};e.FAReflectionEngine.prototype.getMethodNamesOfLastObject=function(t){let i=this.getLastObject(t);if(i.hasErrors()){return e.ExtResult.createWithExternalMessages(null,i)}let o=this.getMethodNamesOf(i.getData().getValue());return e.ExtResult.create(o,i)};e.FAReflectionEngine.prototype.getTarget=function(){return this.m_target};e.FAReflectionEngine.prototype.invoke=function(t){let i=this.getLastObject(t);if(i.hasErrors()){return e.ExtResult.createWithExternalMessages(null,i)}let o=i.getData().getValue();if(e.isNull(o)){return e.ExtResult.create(e.XStringValue.create("null"),i)}return e.ExtResult.create(e.XStringValue.create(o.toString()),i)};e.FAReflectionEngine.prototype.setTarget=function(e){this.m_target=e};e.FAReflectionEngine.prototype.tryParseValue=function(t){if(e.XString.startsWith(t,'"')&&e.XString.endsWith(t,'"')){let i=e.XString.substring(t,1,e.XString.size(t)-1);return e.XReflectionParam.createString(i)}try{let i=e.XInteger.convertFromString(t);return e.XReflectionParam.createInteger(i)}catch(i){try{let i=e.XBoolean.convertFromString(t);return e.XReflectionParam.createBoolean(i)}catch(i){try{let i=e.XDouble.convertFromString(t);return e.XReflectionParam.createDouble(i)}catch(i){let o=e.XStringUtils.concatenate3("parameter ",t," cannot be parsed");throw e.XException.createIllegalArgumentException(o)}}}};e.FirstAid=function(){};e.FirstAid.prototype=new e.XObjectExt;e.FirstAid.prototype._ff_c="FirstAid";e.FirstAid.createFirstAid=function(t){let i=new e.FirstAid;i.setupExt(t);return i};e.FirstAid.prototype.m_allAreaQueryManager=null;e.FirstAid.prototype.m_application=null;e.FirstAid.prototype.m_currentEngine=null;e.FirstAid.prototype.m_currentQm=null;e.FirstAid.prototype.m_input=null;e.FirstAid.prototype.m_oldLastDot=0;e.FirstAid.prototype.m_output=null;e.FirstAid.prototype.m_qms=null;e.FirstAid.prototype.buildOlapDialogUi=function(t){let i=this.m_application.getProcess().getKernel();let o=i.selectProcesses(e.ProcessEntity.OLAP_ENVIRONMENT,null);let n=null;if(o.size()>0){let t=o.get(0);n=t.getEntity(e.ProcessEntity.OLAP_ENVIRONMENT);this.m_allAreaQueryManager=n.getAllAreaQueryManager()}else{this.m_allAreaQueryManager=e.XList.create()}let a=t.newRoot(e.UiType.FLEX_LAYOUT);a.useMaxSpace();a.setDirection(e.UiFlexDirection.ROW);a.setAlignItems(e.UiFlexAlignItems.CENTER);a.setJustifyContent(e.UiFlexJustifyContent.CENTER);a.setWrap(e.UiFlexWrap.NO_WRAP);this.m_qms=a.addNewItemOfType(e.UiType.LIST);this.m_qms.setWidth(e.UiCssLength.create("30%"));this.m_qms.useMaxHeight();this.m_qms.setPadding(e.UiCssBoxEdges.create("4px"));this.m_qms.setBorderWidth(e.UiCssBoxEdges.create("0px"));this.m_qms.setSelectionMode(e.UiSelectionMode.SINGLE_SELECT_MASTER);this.m_qms.registerOnSelect(this);let r=a.addNewItemOfType(e.UiType.SPACER);r.setWidth(e.UiCssLength.create("1px"));r.setHeight(e.UiCssLength.create("100%"));r.setBackgroundColor(e.UiColor.GREY);let l=a.addNewItemOfType(e.UiType.FLEX_LAYOUT);l.useMaxSpace();l.setPadding(e.UiCssBoxEdges.create("4px"));l.setDirection(e.UiFlexDirection.COLUMN);let s=l.addNewItemOfType(e.UiType.LABEL);s.setFlex("0 1 auto");s.setText("Console: ");this.m_input=l.addNewItemOfType(e.UiType.INPUT);this.m_input.useMaxWidth();this.m_input.registerOnEnter(this);this.m_input.registerOnLiveChange(this);this.m_input.registerOnSuggestionSelect(this);this.m_output=l.addNewItemOfType(e.UiType.TEXT_AREA);this.m_output.useMaxSpace();this.m_output.setFlex("0 1 auto");for(let e=0;e<this.m_allAreaQueryManager.size();e++){let t=this.m_allAreaQueryManager.get(e);let i=this.m_qms.addNewItem();i.setText(t.getName());i.setDescription(t.getDataSource().getFullQualifiedName());i.setCustomObject(t);if(e===0){i.setSelected(true);this.selectQm(t)}}};e.FirstAid.prototype.handleInput=function(e){let t=this.m_currentEngine.invoke(e);if(t.hasErrors()){this.m_output.setValue(t.getSummary())}else{this.m_output.setValue(t.getData().toString())}};e.FirstAid.prototype.onEnter=function(t){if(t.getControl()===this.m_input){if(e.isNull(this.m_currentEngine)){return}this.handleInput(this.m_input.getValue())}};e.FirstAid.prototype.onLiveChange=function(t){if(t.getControl()===this.m_input){let t=this.m_input.getValue();if(e.isNull(this.m_currentEngine)){return}let i=e.XString.lastIndexOf(t,".");if(i!==this.m_oldLastDot){if(i===-1){this.updateSuggestions(this.m_currentEngine.getMethodNames(),null)}else{let e=this.m_currentEngine.getMethodNamesOfLastObject(t);if(e.isValid()){this.updateSuggestions(e.getData(),t)}}this.m_oldLastDot=i}}};e.FirstAid.prototype.onSelect=function(e){let t=e.getControl();if(t===this.m_qms){this.selectQm(this.m_qms.getSelectedItem().getCustomObject())}};e.FirstAid.prototype.onSuggestionSelect=function(e){if(e.getControl()===this.m_input){this.handleInput(e.getSelectedItem().getText())}};e.FirstAid.prototype.selectQm=function(t){this.m_currentQm=t;this.m_currentEngine=e.FAReflectionEngine.createEngine(this.m_currentQm);this.updateSuggestions(this.m_currentEngine.getMethodNames(),null)};e.FirstAid.prototype.setupExt=function(e){this.m_application=e;this.m_oldLastDot=-1};e.FirstAid.prototype.updateSuggestions=function(t,i){let o=e.XStringUtils.isNotNullAndNotEmpty(i);this.m_input.clearSuggestions();let n=t.getIterator();while(n.hasNext()){let t=n.next();let a=this.m_input.addNewSuggestion();a.setText(o?e.XStringUtils.concatenate2(i,t):t)}e.XObjectExt.release(n)};e.FirstAidDialog=function(){};e.FirstAidDialog.prototype=new e.XObjectExt;e.FirstAidDialog.prototype._ff_c="FirstAidDialog";e.FirstAidDialog.createFirstAidDialog=function(t,i){let o=new e.FirstAidDialog;o.setupExt(t,i);return o};e.FirstAidDialog.prototype.m_closeBtn=null;e.FirstAidDialog.prototype.m_dialog=null;e.FirstAidDialog.prototype.m_firstAid=null;e.FirstAidDialog.prototype.onAfterClose=function(e){};e.FirstAidDialog.prototype.onPress=function(e){let t=e.getControl();if(t===this.m_closeBtn){this.m_dialog.close()}};e.FirstAidDialog.prototype.open=function(){return this.m_dialog.open()};e.FirstAidDialog.prototype.releaseObject=function(){this.m_closeBtn=e.XObjectExt.release(this.m_closeBtn);this.m_dialog=e.XObjectExt.release(this.m_dialog);this.m_firstAid=e.XObjectExt.release(this.m_firstAid);e.XObjectExt.prototype.releaseObject.call(this)};e.FirstAidDialog.prototype.setupExt=function(t,i){this.m_dialog=i.newControl(e.UiType.DIALOG);this.m_dialog.setTitle("FirstAid - QueryManager Overview");this.m_dialog.setWidth(e.UiCssLength.create("1400px"));this.m_dialog.setHeight(e.UiCssLength.create("600px"));this.m_dialog.setPadding(e.UiCssBoxEdges.create("5px"));this.m_dialog.registerOnAfterClose(this);this.m_closeBtn=this.m_dialog.addNewDialogButton();this.m_closeBtn.setText("Close");this.m_closeBtn.registerOnPress(this);let o=e.UiGenesis.create(this.m_dialog);this.m_firstAid=e.FirstAid.createFirstAid(t);this.m_firstAid.buildOlapDialogUi(o)};e.OlapUiDatePicker=function(){};e.OlapUiDatePicker.prototype=new e.XObject;e.OlapUiDatePicker.prototype._ff_c="OlapUiDatePicker";e.OlapUiDatePicker.create=function(t){let i=new e.OlapUiDatePicker;i.setupExt(t);return i};e.OlapUiDatePicker.prototype.m_calendar=null;e.OlapUiDatePicker.prototype.m_calendarPop=null;e.OlapUiDatePicker.prototype.m_input=null;e.OlapUiDatePicker.prototype.m_listenerOnChange=null;e.OlapUiDatePicker.prototype.getCalendar=function(){return this.m_calendar};e.OlapUiDatePicker.prototype.getInput=function(){return this.m_input};e.OlapUiDatePicker.prototype.getListenerOnChange=function(){return this.m_listenerOnChange};e.OlapUiDatePicker.prototype.onChange=function(t){let i=t.getControl();if(i===this.m_calendar){this.m_input.setValue(this.m_calendar.getStartDate());this.m_calendarPop.close();if(e.notNull(this.m_listenerOnChange)){this.m_listenerOnChange.onChange(t)}}};e.OlapUiDatePicker.prototype.onValueHelpRequest=function(e){let t=e.getControl();this.m_calendarPop.openAt(t)};e.OlapUiDatePicker.prototype.registerOnChange=function(e){this.m_listenerOnChange=e;return this.m_input};e.OlapUiDatePicker.prototype.releaseObject=function(){this.m_input=e.XObjectExt.release(this.m_input);this.m_calendar=e.XObjectExt.release(this.m_calendar);this.m_calendarPop=e.XObjectExt.release(this.m_calendarPop);e.XObject.prototype.releaseObject.call(this)};e.OlapUiDatePicker.prototype.setupExt=function(t){this.m_input=t.newControl(e.UiType.INPUT);this.m_input.setShowValueHelp(true);this.m_input.setValueHelpIcon("appointment-2");this.m_input.registerOnValueHelpRequest(this);this.m_calendarPop=t.newControl(e.UiType.POPOVER);this.m_calendarPop.setPlacement(e.UiPlacementType.BOTTOM);this.m_calendar=this.m_calendarPop.setNewContent(e.UiType.CALENDAR);this.m_calendar.registerOnChange(this)};e.OlapUiIconPopover=function(){};e.OlapUiIconPopover.prototype=new e.XObject;e.OlapUiIconPopover.prototype._ff_c="OlapUiIconPopover";e.OlapUiIconPopover.createPopoverWithContent=function(t,i,o,n){let a=new e.OlapUiIconPopover;a.setupExt(t,i,o,n);return a};e.OlapUiIconPopover.createPopoverWithText=function(t,i,o,n){let a=new e.OlapUiIconPopover;let r=t.newControl(e.UiType.LABEL);r.setWrapping(true);r.setText(n);a.setupExt(t,i,o,r);return a};e.OlapUiIconPopover.prototype.m_anchor=null;e.OlapUiIconPopover.prototype.m_keepOpen=false;e.OlapUiIconPopover.prototype.m_popover=null;e.OlapUiIconPopover.prototype.onAfterClose=function(e){this.m_keepOpen=false};e.OlapUiIconPopover.prototype.onHover=function(e){this.m_popover.openAt(e.getControl())};e.OlapUiIconPopover.prototype.onHoverEnd=function(e){if(!this.m_keepOpen){this.m_popover.close()}};e.OlapUiIconPopover.prototype.onPress=function(e){this.onHover(e);this.m_keepOpen=true};e.OlapUiIconPopover.prototype.releaseObject=function(){this.m_anchor=null;this.m_popover=e.XObjectExt.release(this.m_popover);e.XObject.prototype.releaseObject.call(this)};e.OlapUiIconPopover.prototype.setupExt=function(t,i,o,n){this.m_anchor=o;this.m_anchor.registerOnPress(this);this.m_anchor.registerOnHover(this);this.m_anchor.registerOnHoverEnd(this);this.m_popover=t.newControl(e.UiType.POPOVER);this.m_popover.setName(i);this.m_popover.registerOnAfterClose(this);let a=this.m_popover.setNewContent(e.UiType.VERTICAL_LAYOUT);a.setPadding(e.UiCssBoxEdges.create("15px"));a.setWidth(e.UiCssLength.create("320px"));a.addItem(n);if(t.getDeviceInfo().isSmartphone()){this.m_popover.setPlacement(e.UiPlacementType.BOTTOM)}else{this.m_popover.setPlacement(e.UiPlacementType.RIGHT)}};e.OlapUiSideTab=function(){};e.OlapUiSideTab.prototype=new e.XObject;e.OlapUiSideTab.prototype._ff_c="OlapUiSideTab";e.OlapUiSideTab.create=function(t){let i=new e.OlapUiSideTab;i.setupExt(t);return i};e.OlapUiSideTab.prototype.m_contentPage=null;e.OlapUiSideTab.prototype.m_listener=null;e.OlapUiSideTab.prototype.m_selected=0;e.OlapUiSideTab.prototype.m_tabList=null;e.OlapUiSideTab.prototype.addTab=function(t,i,o){if(e.isNull(o)){throw e.XException.createIllegalArgumentException("Listener cannot be null")}let n=this.m_tabList.addNewItem();n.setName(t).setText(i);n.setCustomObject(o);this.m_listener.add(o)};e.OlapUiSideTab.prototype.buildOlapDialogUi=function(t){let i=t.newRoot(e.UiType.FLEX_LAYOUT);i.setSize(e.UiSize.createByCss("100%","100%"));i.addItem(this.m_tabList);i.addItem(this.m_contentPage);if(this.m_tabList.getNumberOfItems()>0){this.m_selected=0;this.m_tabList.setSelectedItemByIndex(this.m_selected);this.m_listener.get(this.m_selected).onTabSelected(this.m_contentPage)}};e.OlapUiSideTab.prototype.getActiveTabName=function(){return this.m_tabList.getSelectedItem().getName()};e.OlapUiSideTab.prototype.getListenerOnSelect=function(){return this.m_tabList.getListenerOnSelect()};e.OlapUiSideTab.prototype.onSelect=function(e){this.m_listener.get(this.m_selected).onTabDeselected();this.m_selected=this.m_tabList.getIndexOfItem(this.m_tabList.getSelectedItem());this.m_listener.get(this.m_selected).onTabSelected(this.m_contentPage)};e.OlapUiSideTab.prototype.registerOnSelect=function(e){return this.m_tabList.registerOnSelect(e)};e.OlapUiSideTab.prototype.releaseObject=function(){this.m_contentPage=e.XObjectExt.release(this.m_contentPage);this.m_tabList=e.XObjectExt.release(this.m_tabList);this.m_listener=e.XObjectExt.release(this.m_listener);e.XObject.prototype.releaseObject.call(this)};e.OlapUiSideTab.prototype.setupExt=function(t){this.m_listener=e.XList.create();this.m_tabList=t.newControl(e.UiType.LIST);this.m_tabList.setSelectionMode(e.UiSelectionMode.SINGLE_SELECT_MASTER);this.m_tabList.setSize(e.UiSize.createByCss("25%","100%"));this.m_tabList.setFlex("1 1 150px");this.m_tabList.setBorderWidth(e.UiCssBoxEdges.create("0px"));this.m_tabList.registerOnSelect(this);this.m_contentPage=t.newControl(e.UiType.PAGE);this.m_contentPage.setShowHeader(false);this.m_contentPage.setSize(e.UiSize.createByCss("75%","100%"));this.m_contentPage.setFlex("1 1 auto")};e.OuDimensionPanelList=function(){};e.OuDimensionPanelList.prototype=new e.XObject;e.OuDimensionPanelList.prototype._ff_c="OuDimensionPanelList";e.OuDimensionPanelList.createDimensionPanelList=function(t,i,o,n){let a=new e.OuDimensionPanelList;a.setupExt(t,i,o,n);return a};e.OuDimensionPanelList.findListItemParent=function(t){let i=t.getParent();if(e.isNull(i)){return null}if(i.getUiType()===e.UiType.CUSTOM_LIST_ITEM){return i}return e.OuDimensionPanelList.findListItemParent(i)};e.OuDimensionPanelList.getModelComponentNameFromControl=function(t){let i=t.getCustomObject();if(e.isNull(i)){return null}return i.getModelComponent().getName()};e.OuDimensionPanelList.prototype.m_config=null;e.OuDimensionPanelList.prototype.m_controller=null;e.OuDimensionPanelList.prototype.m_customObject=null;e.OuDimensionPanelList.prototype.m_debug=false;e.OuDimensionPanelList.prototype.m_dimViews=null;e.OuDimensionPanelList.prototype.m_dirty=false;e.OuDimensionPanelList.prototype.m_dragEnd=null;e.OuDimensionPanelList.prototype.m_dragStartModelComponent=null;e.OuDimensionPanelList.prototype.m_dragging=false;e.OuDimensionPanelList.prototype.m_genesis=null;e.OuDimensionPanelList.prototype.m_labels=null;e.OuDimensionPanelList.prototype.m_memberViews=null;e.OuDimensionPanelList.prototype.m_menuButton=null;e.OuDimensionPanelList.prototype.m_oldDimensions=null;e.OuDimensionPanelList.prototype.m_oldMembers=null;e.OuDimensionPanelList.prototype.m_onPanelCollapsed=null;e.OuDimensionPanelList.prototype.m_onPanelExpanded=null;e.OuDimensionPanelList.prototype.m_panelExpansion=null;e.OuDimensionPanelList.prototype.m_panelExpansionNew=null;e.OuDimensionPanelList.prototype.m_panelList=null;e.OuDimensionPanelList.prototype.m_presentation=null;e.OuDimensionPanelList.prototype.m_process=null;e.OuDimensionPanelList.prototype.m_releaseTimeout=null;e.OuDimensionPanelList.prototype.m_rootPanelExpanded=false;e.OuDimensionPanelList.prototype.m_scrollTimeout=null;e.OuDimensionPanelList.prototype.addPlaceholderItem=function(t){let i=this.getLocalizationProvider();let o=this.m_genesis.newControl(e.UiType.CUSTOM_LIST_ITEM);o.addCssClass("ffGdsQbBuilderPanelChildItem");o.addCssClass("ffGdsQbBuilderPanelEmptyPlaceholder");o.setDraggable(false);let n=o.setNewContent(e.UiType.FLEX_LAYOUT);n.useMaxWidth();n.setDirection(e.UiFlexDirection.ROW);n.setOverflow(e.UiOverflow.HIDDEN);n.setAlignItems(e.UiFlexAlignItems.CENTER);n.setMinHeight(e.UiCssLength.create("2rem"));let a=n.addNewItemOfType(e.UiType.ICON);a.addCssClass("ffGdsQbBuilderPanelEmptyPlaceholderInfoIcon");a.setIcon("message-information");a.setMinHeight(e.UiCssLength.create("1rem"));a.setIconSize(e.UiCssLength.create("1rem"));let r=n.addNewItemOfType(e.UiType.LABEL);r.setText(i.getText(e.OuAxesViewI18n.BUILDER_ADD_MEASURE_INFO));r.setFontStyle(e.UiFontStyle.ITALIC);t.addItem(o)};e.OuDimensionPanelList.prototype.applyIfNotReleased=function(t,i,o){if(e.notNull(t)&&!t.isReleased()){o(t,i)}};e.OuDimensionPanelList.prototype.buildAttributeItem=function(t){let i=this.buildDragItem(t,null);i.setAttribute(t);let o=i.getRoot();o.addCssClass("ffGdsQbBuilderPanelAttribute");if(this.m_config.isRightClickContextMenuForAttributeEnabled()&&this.getMenuProvider()!==null){o.registerOnContextMenu(e.UiLambdaContextMenuListener.create(i=>{this.getMenuProvider().showAttributeMenu(e.OuAxesView.UI_CONTEXT,i,t)}))}let n=i.getLabel();n.addCssClass("ffGdsQbBuilderPanelAttributeLabel");n.setFontStyle(e.UiFontStyle.ITALIC);n.useMaxWidth();n.setCustomObject(t);this.m_labels.add(n);let a=this.m_genesis.newControl(e.UiType.BUTTON);a.setIcon("sys-cancel");a.addCssClass("ffGdsQbBuilderPanelRemoveButton");a.setTooltip(this.getLocalizationProvider().getText(e.OuAxesViewI18n.BUILDER_REMOVE));a.setButtonType(e.UiButtonType.TRANSPARENT);a.registerOnPress(e.UiLambdaPressListener.create(e=>{this.onAttributeRemoveButtonPress(i)}));i.getHeaderLayout().addItem(a);this.configureFocus(t,o,null);if(this.m_config.getOnAttributeItemCreated()!==null){this.m_config.getOnAttributeItemCreated()(i)}return i};e.OuDimensionPanelList.prototype.buildAttributeList=function(t,i){let o=this.getRelevantAttributes(t);let n=e.XList.create();for(let e=0;e<o.size();e++){let t=o.get(e);let a=this.buildAttributeItem(t);i.addItem(a.getRoot());n.add(a)}return n};e.OuDimensionPanelList.prototype.buildDimItem=function(t){let i=this.getLocalizationProvider();let o=this.m_genesis.newControl(e.UiType.CUSTOM_LIST_ITEM);o.addCssClass("ffGdsQbBuilderPanelDimension");if(this.m_config.isRightClickContextMenuForDimensionEnabled()&&this.getMenuProvider()!==null){o.registerOnContextMenu(e.UiLambdaContextMenuListener.create(i=>{this.getMenuProvider().showDimMenu(e.OuAxesView.UI_CONTEXT,i,t)}))}o.setDraggable(true);o.setTag(this.getDragElementTag());o.setCustomObject(e.OuDesignerDragPayloadSimple.createWrapper(t));o.registerOnDragStart(this);o.registerOnDragEnd(this);let n=e.OuMagicPanel.create(this.m_genesis);let a=this.buildDimItemBody(n,t);let r=n.getView();r.removeAttribute(e.UtUi5AttributeConstants.FAST_NAV_GROUP);r.addCssClass("ffGdsQbFoldable");r.addCssClass("ffGdsQbBuilderPanelDimensionPanel");r.setMinHeight(e.UiCssLength.create("0"));r.setBackgroundDesign(e.UiBackgroundDesign.TRANSPARENT);o.setContent(r);n.setOnCollapse(()=>{this.m_panelExpansion.putBoolean(t.getName(),false)});n.setOnExpand(()=>{this.m_panelExpansion.putBoolean(t.getName(),true)});let l=r.setNewHeaderToolbar();l.removeAttribute(e.UtUi5AttributeConstants.FAST_NAV_GROUP);l.addCssClass("ffGdsQbBuilderPanelDimensionHeaderToolbar");l.setBorderWidth(e.UiCssBoxEdges.create("0"));l.setToolbarDesign(e.UiToolbarDesign.TRANSPARENT);let s=l.addNewItemOfType(e.UiType.LABEL);this.configurePanelLabel(t,o,s);l.addNewItemOfType(e.UiType.SPACER);let u=l.addNewItemOfType(e.UiType.FLEX_LAYOUT);u.setDirection(e.UiFlexDirection.ROW);u.setFlex("0 0 auto");if(this.getMenuProvider()!==null){let o=u.addNewItemOfType(e.UiType.BUTTON);o.setVisible(false);o.addCssClass("ffGdsQbBuilderPanelDimensionMoreBtn");o.setIcon("overflow");o.setButtonType(e.UiButtonType.TRANSPARENT);o.setTooltip(i.getText(e.OlapUiCommonI18n.COMMON_MORE));o.registerOnPress(e.UiLambdaPressListener.create(e=>{this.onDimMenuButtonPress(e,t,o)}));this.getMenuProvider().hasDimMenu(e.OuAxesView.UI_CONTEXT,t,e=>{this.applyIfNotReleased(o,e,(e,t)=>{e.setVisible(t.getBoolean())})});a.setMoreBtn(o)}let m=u.addNewItemOfType(e.UiType.BUTTON);m.setIcon("sys-cancel");m.addCssClass("ffGdsQbBuilderPanelRemoveButton");m.setButtonType(e.UiButtonType.TRANSPARENT);m.setTooltip(i.getText(e.OuAxesViewI18n.BUILDER_REMOVE));m.registerOnPress(e.UiLambdaPressListener.create(e=>{this.onDimRemoveButtonPress(a)}));a.setListItemRoot(o);a.setHeader(l);this.configurePanelList(t,a.getChildrenList());this.configureFocus(t,a.getListItemRoot(),a.getMoreBtn());o.setName(a.getName());return a};e.OuDimensionPanelList.prototype.buildDimItemBody=function(t,i){let o=this.m_genesis.newControl(e.UiType.LIST);o.addCssClass("ffDimPanDimensionChildrenList");o.setWidth(e.UiCssLength.create("auto"));o.removeAttribute(e.UtUi5AttributeConstants.FAST_NAV_GROUP);let n;if(e.QDimensionUtil.isStructureLike(i)){n=this.buildMemberListForDimensionItem(i,o)}else if(this.m_config.isShowAttributes()){n=this.buildAttributeList(i,o)}else{n=e.XList.create()}if(o.hasItems()){t.setContentHeightInRem(o.getNumberOfItems()*2);t.setPanelContent(o);t.setExpandable(true);let n=e.QDimensionUtil.isStructureLike(i);let a=this.m_panelExpansion.getBooleanByKeyExt(i.getName(),n);t.setExpanded(a);this.m_panelExpansionNew.putBoolean(i.getName(),a)}return e.OuDesignerDimension.createForBuilderPanel(i,n,o)};e.OuDimensionPanelList.prototype.buildDragItem=function(t,i){let o=this.m_genesis.newControl(e.UiType.CUSTOM_LIST_ITEM);o.addCssClass("ffGdsQbBuilderPanelChildItem");o.setDraggable(true);o.setTag(this.getDragElementTag());o.setCustomObject(e.OuDesignerDragPayloadSimple.createWrapper(t));o.registerOnDragStart(this);o.registerOnDragEnd(this);let n=this.m_genesis.newControl(e.UiType.LABEL);n.useMaxWidth();let a=e.OuDesignerListItem.createForBuilderPanel(o,n);if(!e.XCollectionUtils.hasElements(i)){o.addCssClass("ffGdsQbBuilderPanelChildItemEmpty");let t=o.setNewContent(e.UiType.FLEX_LAYOUT);t.addCssClass("ffGdsQbBuilderPanelChildItemHeader");t.useMaxWidth();t.setDirection(e.UiFlexDirection.ROW);t.setAlignItems(e.UiFlexAlignItems.CENTER);t.setJustifyContent(e.UiFlexJustifyContent.SPACE_BETWEEN);t.setOverflow(e.UiOverflow.HIDDEN);t.addItem(n);a.setHeaderLayout(t)}else{let r=e.OuMagicPanel.create(this.m_genesis);r.setContentHeightInRem(i.size()*2);r.setExpandable(true);let l=r.getView();l.removeAttribute(e.UtUi5AttributeConstants.FAST_NAV_GROUP);l.addCssClass("ffGdsQbBuilderPanelChildItemPanel");l.addCssClass("ffGdsQbFoldable");l.setMinHeight(e.UiCssLength.create("0"));l.setBackgroundDesign(e.UiBackgroundDesign.TRANSPARENT);o.setContent(l);let s=l.setNewHeaderToolbar();s.addCssClass("ffGdsQbBuilderPanelChildItemHeader");s.addCssClass("ffGdsQbBuilderPanelChildItemHeaderToolbar");s.addItem(n);let u=this.m_genesis.newControl(e.UiType.LIST);u.addCssClass("ffDimPanChildItemList");u.setShowNoData(false);r.setPanelContent(u);let m=this.m_panelExpansion.getBooleanByKeyExt(t.getName(),false);r.setExpanded(m);this.m_panelExpansionNew.putBoolean(t.getName(),m);r.setOnExpand(()=>{this.m_panelExpansion.putBoolean(t.getName(),true)});r.setOnCollapse(()=>{this.m_panelExpansion.putBoolean(t.getName(),false)});a.setHeaderLayout(s);a.setPanel(l);a.setChildrenList(u);a.addAllChildren(i)}return a};e.OuDimensionPanelList.prototype.buildMemberItem=function(t,i){let o=t.getDimensionMember();let n=e.XList.create();if(t.hasChildren()){let e=t.getChildren();for(let t=0;t<e.size();t++){let o=e.get(t);if(i.contains(o.getDimensionMember().getName())){n.add(this.buildMemberItem(o,i))}}}let a=this.getLocalizationProvider();let r=this.buildDragItem(t,n);r.setNode(t);if(!o.getDimension().isHierarchyActive()){r.getRoot().registerOnKeyDown(e.UiLambdaKeyDownListener.create(e=>{this.onMemberKeyDown(r,e)}))}let l=r.getRoot();l.addCssClass("ffGdsQbBuilderPanelMember");let s=r.getLabel();s.setCustomObject(o);this.m_labels.add(s);let u=r.getHeaderLayout();let m=this.m_genesis.newControl(e.UiType.FLEX_LAYOUT);m.addCssClass("ffGdsQbBuilderPanelButtons");m.setDirection(e.UiFlexDirection.ROW);m.setFlex("0 0 auto");m.setAlignItems(e.UiFlexAlignItems.CENTER);u.addItem(m);if(this.m_config.isCalculationsEnabled()&&o.getMemberType().isTypeOf(e.MemberType.FORMULA)&&this.isFormulaEditable(o)){let t=o;let i=e.OuDesignerFormulaPopoverIcon.create(this.m_genesis,t,e.MessageManagerSimple.createMessageManager());i.getView().setVisible(false);m.addItem(i.getView());r.setPopoverIcon(i)}if(this.m_config.showMeasureMoreMenuButton()&&this.getMenuProvider()!==null){let i=m.addNewItemOfType(e.UiType.BUTTON);i.setVisible(false);i.addCssClass("ffGdsQbBuilderPanelMeasureMoreBtn");i.setIcon("overflow");i.setButtonType(e.UiButtonType.TRANSPARENT);i.registerOnPress(e.UiLambdaPressListener.create(e=>{this.onMemberMenuButtonPress(e,t,i)}));this.getMenuProvider().hasMemberMenu(e.OuAxesView.UI_CONTEXT,o,e=>{this.applyIfNotReleased(i,e,(e,t)=>{e.setVisible(t.getBoolean())})});r.setMoreButton(i)}let p=m.addNewItemOfType(e.UiType.BUTTON);p.setIcon("sys-cancel");p.addCssClass("ffGdsQbBuilderPanelRemoveButton");p.setTooltip(a.getText(e.OuAxesViewI18n.BUILDER_REMOVE));p.setButtonType(e.UiButtonType.TRANSPARENT);p.registerOnPress(e.UiLambdaPressListener.create(e=>{this.onMemberRemoveButtonPress(r)}));r.setRemoveButton(p);if(this.m_config.isRightClickContextMenuForMemberEnabled()&&this.getMenuProvider()!==null){l.registerOnContextMenu(e.UiLambdaContextMenuListener.create(i=>{this.getMenuProvider().showMemberMenu(e.OuAxesView.UI_CONTEXT,i,o,t,null,null)}))}this.configureFocus(o,r.getRoot(),r.getMoreButton());if(this.m_config.getOnMemberItemCreated()!==null){this.m_config.getOnMemberItemCreated()(r)}return r};e.OuDimensionPanelList.prototype.buildMemberList=function(t,i){let o=e.XList.create();for(let n=0;n<t.size();n++){let a=t.get(n);if(this.shouldMemberBeShownOnRootLevel(a,i)){let t=this.buildMemberItem(a,i);if(e.notNull(t)){t.getRoot().addCssClass("ffDimPanRootLevelMember");o.add(t)}}}return o};e.OuDimensionPanelList.prototype.buildMemberListForDimensionItem=function(t,i){let o=this.m_controller.getDimensionMembers(t);let n=this.m_controller.getDimensionMemberVisibility(t);let a=this.buildMemberList(o,n);if(t.isMeasureStructure()&&!e.XCollectionUtils.hasElements(a)){this.addPlaceholderItem(i)}else{i.addAllItems(e.XCollectionUtils.map(a,e=>e.getRoot()))}return a};e.OuDimensionPanelList.prototype.checkDimensionsInSync=function(t){if(this.m_dimViews.size()!==t.size()){return false}for(let i=0;i<this.m_dimViews.size();i++){let o=this.m_dimViews.get(i);let n=o.getDimension();let a=t.get(i);if(!e.XString.isEqual(n.getName(),a.getName())){return false}let r=o.getChildrenViews();if(e.QDimensionUtil.isStructureLike(a)){let t=this.m_controller.getDimensionMembers(a);let i=this.m_controller.getDimensionMemberVisibility(a);let o=e.XCollectionUtils.filter(t,e=>i.contains(e.getDimensionMember().getName()));if(!this.checkRootLevelMembersInSync(r,o,i)){return false}}else if(this.m_config.isShowAttributes()){let t=this.getRelevantAttributes(a);if(r.size()!==t.size()){return false}for(let i=0;i<t.size();i++){let o=r.get(i).getAttribute();let n=t.get(i);if(!e.XString.isEqual(o.getName(),n.getName())){return false}}}}return true};e.OuDimensionPanelList.prototype.checkMembersInSync=function(e,t){return this.checkRootLevelMembersInSync(this.m_memberViews,e,t)};e.OuDimensionPanelList.prototype.checkRootLevelMembersInSync=function(t,i,o){let n=e.XCollectionUtils.filter(i,e=>this.shouldMemberBeShownOnRootLevel(e,o));return this.compareMemberNodeLists(t,n,o)};e.OuDimensionPanelList.prototype.clearDeprecatedUi=function(){if(this.m_oldDimensions.hasElements()||this.m_oldMembers.hasElements()){this.debugLog("releasing old ui");e.XCollectionUtils.forEach(this.m_oldDimensions,t=>{e.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(t)});e.XCollectionUtils.forEach(this.m_oldMembers,t=>{e.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(t)});this.m_oldDimensions.clear();this.m_oldMembers.clear()}};e.OuDimensionPanelList.prototype.compareMemberNodeLists=function(t,i,o){if(!e.XCollectionUtils.hasElements(t)&&!e.XCollectionUtils.hasElements(i)){return true}if(t.size()!==i.size()){return false}for(let n=0;n<t.size();n++){let a=t.get(n);let r=a.getNode();let l=i.get(n);let s=this.m_presentation.getDisplayValueByType(r.getDimensionMember());let u=this.m_presentation.getDisplayValueByType(l.getDimensionMember());if(!e.XString.isEqual(s,u)){return false}let m=a.getDirectChildren();let p=l.getChildren();p=e.XCollectionUtils.filter(p,e=>o.contains(e.getDimensionMember().getName()));if(!this.compareMemberNodeLists(m,p,o)){return false}}return true};e.OuDimensionPanelList.prototype.configureFocus=function(t,i,o){let n=this.m_config.getFocusContext();if(e.isNull(n)||!e.XString.isEqual(n.getFocusedName(),t.getName())){return}if(n.isFocusMoreButton()&&e.notNull(o)&&o!==e.UiContextDummy.getSingleton()){o.addCssClass("ffGdsQbBuilderPanelDimensionMoreBtnForceVisible");o.focus();e.XTimeout.timeout(30,()=>{if(e.XObjectExt.isValidObject(o)){o.removeCssClass("ffGdsQbBuilderPanelDimensionMoreBtnForceVisible")}})}else{i.focus()}n.resetFocus()};e.OuDimensionPanelList.prototype.configurePanelLabel=function(t,i,o){let n=this.getLocalizationProvider();o.setMargin(e.UiCssBoxEdges.create("0"));if(t.isMeasureStructure()){i.addCssClass("ffGdsQbBuilderPanelMeasure");o.setText(n.getText(e.OlapUiCommonI18n.COMMON_MEASURES));o.setTooltip(n.getText(e.OlapUiCommonI18n.COMMON_MEASURES))}else if(t.isStructure()){i.addCssClass("ffGdsQbBuilderPanelSecondStructure");if(this.m_process.hasFeature(e.FeatureToggleOlap.USE_ORIGINAL_STRUCTURE_TEXT_IN_UI)&&e.XStringUtils.isNotNullAndNotEmpty(t.getOriginalText())){o.setText(t.getOriginalText());o.setTooltip(t.getOriginalText())}else{o.setText(n.getText(e.OlapUiCommonI18n.COMMON_STRUCTURE));o.setTooltip(n.getText(e.OlapUiCommonI18n.COMMON_STRUCTURE))}}else if(t.getDimensionType()===e.DimensionType.ACCOUNT){i.addCssClass("ffGdsQbBuilderPanelAccount");o.setText(n.getText(e.OlapUiCommonI18n.COMMON_ACCOUNT));o.setTooltip(n.getText(e.OlapUiCommonI18n.COMMON_ACCOUNT))}else{o.setCustomObject(t);this.m_labels.add(o)}};e.OuDimensionPanelList.prototype.configurePanelList=function(t,i){if(t.isMeasureStructure()){i.addCssClass("ffGdsQbBuilderPanelMeasureList")}else if(t.isStructure()){i.addCssClass("ffGdsQbBuilderPanelSecondStructureList")}else if(t.getDimensionType()===e.DimensionType.ACCOUNT){i.addCssClass("ffGdsQbBuilderPanelAccountList")}};e.OuDimensionPanelList.prototype.debugLog=function(t){if(this.m_debug){e.XLogger.println(t)}};e.OuDimensionPanelList.prototype.deprecateUi=function(){this.m_oldDimensions.add(this.m_dimViews);this.m_oldMembers.add(this.m_memberViews);this.m_dimViews=e.XListOfNameObject.create();this.m_memberViews=e.XList.create();this.m_labels.clear();this.m_panelExpansionNew.clear();if(!this.m_dragging){this.debugLog("starting release timeout");e.XTimeout.clear(this.m_releaseTimeout);this.m_releaseTimeout=e.XTimeout.timeout(500,()=>{this.clearDeprecatedUi();this.m_releaseTimeout=null})}};e.OuDimensionPanelList.prototype.expandDimension=function(e){this.m_panelExpansion.putBoolean(e,true)};e.OuDimensionPanelList.prototype.expandMemberNodeRecursive=function(t){let i=t.getParentNode();if(e.notNull(i)){let e=i.getDimensionMember().getName();this.m_panelExpansion.putBoolean(e,true);this.expandMemberNodeRecursive(i)}};e.OuDimensionPanelList.prototype.expandToMemberNode=function(e){this.expandMemberNodeRecursive(e)};e.OuDimensionPanelList.prototype.getCustomObject=function(){return this.m_customObject};e.OuDimensionPanelList.prototype.getDimensionViews=function(){return this.m_dimViews};e.OuDimensionPanelList.prototype.getDragElementTag=function(){return this.m_config.getDragElementTag()};e.OuDimensionPanelList.prototype.getLocalizationProvider=function(){return e.XLocalizationCenter.getCenter().getLocalizationProviderByName(this.m_config.getLocalizationProviderName())};e.OuDimensionPanelList.prototype.getMenuButton=function(){return this.m_menuButton};e.OuDimensionPanelList.prototype.getMenuProvider=function(){return this.m_config.getMenuProvider()};e.OuDimensionPanelList.prototype.getPanelList=function(){return this.m_panelList};e.OuDimensionPanelList.prototype.getRelevantAttributes=function(e){let t=e.getResultSetAttributes().createListCopy();t.removeElement(e.getMainAttribute());return t};e.OuDimensionPanelList.prototype.getView=function(){return this.m_panelList.getView()};e.OuDimensionPanelList.prototype.hardResetUi=function(){this.deprecateUi();this.m_panelExpansion.clear();this.clearDeprecatedUi()};e.OuDimensionPanelList.prototype.initializeComposite=function(){this.m_panelList=e.OuPanelList.create(this.m_genesis);let t=this.m_panelList.getPanel();t.addCssClass("ffGdsQbBuilderPanelAxisPanel");t.addCssClass("ffGdsQbFoldableBorderContent");t.setFlex("1 1 50%");t.registerOnCollapse(e.UiLambdaCollapseListener.create(t=>{this.m_rootPanelExpanded=false;if(e.notNull(this.m_onPanelCollapsed)){this.m_onPanelCollapsed()}}));t.registerOnExpand(e.UiLambdaExpandListener.create(t=>{this.m_rootPanelExpanded=true;if(e.notNull(this.m_onPanelExpanded)){this.m_onPanelExpanded()}}));let i=this.m_panelList.getHeaderLayout();i.addCssClass("ffGdsQbBuilderPanelAxisPanelHeaderToolbar");this.m_panelList.getList().setShowNoData(false);this.m_panelList.getList().addCssClass("ffDimPanList");i.addNewItemOfType(e.UiType.SPACER);this.m_menuButton=i.addNewItemOfType(e.UiType.BUTTON);this.m_menuButton.setIcon("overflow");this.m_menuButton.setButtonType(e.UiButtonType.TRANSPARENT);this.m_menuButton.setTooltip(this.getLocalizationProvider().getText(e.OlapUiCommonI18n.COMMON_MORE))};e.OuDimensionPanelList.prototype.isFormulaEditable=function(t){return t.isEditable()&&t.getFormulaText().isPresent()&&e.XStringUtils.isNotNullAndNotEmpty(t.getFormulaText().get())};e.OuDimensionPanelList.prototype.isVisible=function(){return this.getView().isVisible()};e.OuDimensionPanelList.prototype.markDirty=function(){this.m_dirty=true};e.OuDimensionPanelList.prototype.onAttributeRemoveButtonPress=function(e){this.setFocusToNext(e.getRoot());this.m_controller.handleAttributeRemovalFromList(this,e.getAttribute())};e.OuDimensionPanelList.prototype.onDimMenuButtonPress=function(t,i,o){if(this.m_config.getFocusContext()!==null){this.m_config.getFocusContext().setFocusedName(i.getName());this.m_config.getFocusContext().setFocusMoreButton(true)}this.getMenuProvider().showDimMenuWithAction(e.OuAxesView.UI_CONTEXT,t,i,()=>{this.applyIfNotReleased(o,"ffGdsQbBuilderPanelDimensionMoreBtnForceVisible",(e,t)=>{e.addCssClass(t)})},()=>{this.applyIfNotReleased(o,"ffGdsQbBuilderPanelDimensionMoreBtnForceVisible",(e,t)=>{e.removeCssClass(t)})})};e.OuDimensionPanelList.prototype.onDimRemoveButtonPress=function(e){this.setFocusToNext(e.getListItemRoot());this.m_controller.handleDimensionRemovalFromList(this,e.getDimension())};e.OuDimensionPanelList.prototype.onDragEnd=function(t){this.debugLog("on drag end");this.m_dragging=false;this.clearDeprecatedUi();if(e.notNull(this.m_dragEnd)){this.m_dragEnd()}};e.OuDimensionPanelList.prototype.onDragStart=function(t){this.debugLog("on drag start");this.m_dragging=true;if(e.notNull(this.m_releaseTimeout)){this.debugLog("stopping release timeout");e.XTimeout.clear(this.m_releaseTimeout)}if(e.notNull(this.m_dragStartModelComponent)){let e=t.getControl().getCustomObject();this.m_dragStartModelComponent(e.getModelComponent())}};e.OuDimensionPanelList.prototype.onMemberKeyDown=function(t,i){let o=t.getNode();let n=t.getRoot().getParent();if(e.notNull(n)&&i.isCtrlPressed()){let a=0;a=e.XString.isEqual(i.getKey(),"ArrowUp")?-1:a;a=e.XString.isEqual(i.getKey(),"ArrowDown")?1:a;if(a!==0){let e=n.getIndexOfItem(t.getRoot());this.m_controller.moveMemberToIndex(this,o,e+a);this.m_config.getFocusContext().setFocusedName(o.getDimensionMember().getName())}}};e.OuDimensionPanelList.prototype.onMemberMenuButtonPress=function(t,i,o){let n=i.getDimensionMember();if(this.m_config.getFocusContext()!==null){this.m_config.getFocusContext().setFocusedName(n.getName());this.m_config.getFocusContext().setFocusMoreButton(true)}this.getMenuProvider().showMemberMenu(e.OuAxesView.UI_CONTEXT,t,n,i,()=>{this.applyIfNotReleased(o,"ffGdsQbBuilderPanelMeasureMoreBtnForceVisible",(e,t)=>{e.addCssClass(t)})},()=>{this.applyIfNotReleased(o,"ffGdsQbBuilderPanelMeasureMoreBtnForceVisible",(e,t)=>{e.removeCssClass(t)})})};e.OuDimensionPanelList.prototype.onMemberRemoveButtonPress=function(e){this.setFocusToNext(e.getRoot());this.m_controller.handleMemberRemovalFromList(this,e.getNode())};e.OuDimensionPanelList.prototype.releaseObject=function(){e.XTimeout.clear(this.m_scrollTimeout);e.XTimeout.clear(this.m_releaseTimeout);this.clearDeprecatedUi();this.m_presentation=null;this.m_config=null;this.m_controller=null;this.m_process=null;this.m_genesis=null;this.m_panelExpansion=e.XObjectExt.release(this.m_panelExpansion);this.m_panelExpansionNew=e.XObjectExt.release(this.m_panelExpansionNew);this.m_dimViews=e.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_dimViews);this.m_labels=e.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_labels);this.m_panelList=e.XObjectExt.release(this.m_panelList);this.m_menuButton=e.XObjectExt.release(this.m_menuButton);this.m_dragStartModelComponent=null;this.m_dragEnd=null;e.XObject.prototype.releaseObject.call(this)};e.OuDimensionPanelList.prototype.scrollWithTimeout=function(t){e.XTimeout.clear(this.m_scrollTimeout);this.m_scrollTimeout=e.XTimeout.timeout(10,()=>{this.getPanelList().getScroll().scrollTo(0,t,0)})};e.OuDimensionPanelList.prototype.setCustomObject=function(e){this.m_customObject=e};e.OuDimensionPanelList.prototype.setDebug=function(e){this.m_debug=e};e.OuDimensionPanelList.prototype.setDragEnd=function(e){this.m_dragEnd=e};e.OuDimensionPanelList.prototype.setDragStartModelComponent=function(e){this.m_dragStartModelComponent=e};e.OuDimensionPanelList.prototype.setFocusToNext=function(t){let i=t.getParent();let o=i.getIndexOfItem(t);if(o+1<i.getNumberOfItems()){let t=i.getItem(o+1);let n=e.OuDimensionPanelList.getModelComponentNameFromControl(t);this.m_config.getFocusContext().setFocusedName(n)}else if(i.getNumberOfItems()>1&&o>=1){let t=i.getItem(o-1);let n=e.OuDimensionPanelList.getModelComponentNameFromControl(t);this.m_config.getFocusContext().setFocusedName(n)}else{let t=e.OuDimensionPanelList.findListItemParent(i);if(e.notNull(t)){let i=e.OuDimensionPanelList.getModelComponentNameFromControl(t);this.m_config.getFocusContext().setFocusedName(i)}}};e.OuDimensionPanelList.prototype.setOnPanelCollapsed=function(e){this.m_onPanelCollapsed=e};e.OuDimensionPanelList.prototype.setOnPanelExpanded=function(e){this.m_onPanelExpanded=e};e.OuDimensionPanelList.prototype.setPresentation=function(e){this.m_presentation=e;this.updateLabels()};e.OuDimensionPanelList.prototype.setVisible=function(e){this.getView().setVisible(e)};e.OuDimensionPanelList.prototype.setupExt=function(t,i,o,n){this.setup();this.m_process=t;this.m_genesis=i;this.m_controller=o;this.m_config=n;this.m_dimViews=e.XListOfNameObject.create();this.m_memberViews=e.XList.create();this.m_labels=e.XList.create();this.m_panelExpansion=e.XProperties.create();this.m_panelExpansionNew=e.XProperties.create();this.m_rootPanelExpanded=true;this.m_presentation=this.m_config.getDefaultPresentation();this.m_oldDimensions=e.XList.create();this.m_oldMembers=e.XList.create();this.initializeComposite()};e.OuDimensionPanelList.prototype.shouldMemberBeShownOnRootLevel=function(e,t){if(!t.contains(e.getDimensionMember().getName())){return false}return e.getParentNode()===null||!t.contains(e.getParentNode().getDimensionMember().getName())};e.OuDimensionPanelList.prototype.updateCalculations=function(t){if(!this.m_config.isCalculationsEnabled()){return}for(let i=0;i<t.size();i++){let o=t.get(i);let n=o.getNode().getDimensionMember();if(n.getMemberType().isTypeOf(e.MemberType.FORMULA)&&this.isFormulaEditable(n)){let t=n;let i=e.OuDesignerFormulaHelper.validateFormula(t);let a=i.hasErrors()||i.hasWarnings();let r=o.getPopoverIcon();r.setMessageManager(i);r.getView().setVisible(a);if(a){o.getLabel().setFontStyle(e.UiFontStyle.ITALIC);o.getLabel().setOpacity(.65)}else{o.getLabel().setFontStyle(e.UiFontStyle.NORMAL);o.getLabel().setOpacity(1)}}this.updateCalculations(o.getDirectChildren())}};e.OuDimensionPanelList.prototype.updateControls=function(){this.updateLabels();if(e.XCollectionUtils.hasElements(this.m_memberViews)){this.updateCalculations(this.m_memberViews)}else{e.XCollectionUtils.forEach(this.m_dimViews,t=>{if(e.QDimensionUtil.isStructureLike(t.getDimension())){this.updateCalculations(t.getChildrenViews())}})}};e.OuDimensionPanelList.prototype.updateLabels=function(){for(let e=0;e<this.m_labels.size();e++){let t=this.m_labels.get(e);let i=t.getCustomObject();let o=this.m_presentation.getDisplayValueByType(i);t.setText(o);t.setTooltip(o)}};e.OuDimensionPanelList.prototype.updateViewWithDimensions=function(t){if(!this.m_dirty&&this.checkDimensionsInSync(t)){this.updateControls();return}this.debugLog("updating view");let i=this.getPanelList().getScroll().getScrollTop();this.deprecateUi();for(let i=0;i<t.size();i++){let o=t.get(i);if(e.QDimensionUtil.shouldDimensionBeShown(o,true)){let e=this.buildDimItem(o);this.m_dimViews.add(e)}}this.m_panelList.replaceList(e.XCollectionUtils.map(this.m_dimViews,e=>e.getListItemRoot()));let o=this.m_panelList.getList();o.setVisible(o.hasItems());this.m_panelList.getPanel().setExpanded(this.m_rootPanelExpanded);this.updateControls();this.m_panelExpansion=this.m_panelExpansionNew.cloneExt(null);this.scrollWithTimeout(i);this.m_dirty=false};e.OuDimensionPanelList.prototype.updateViewWithMembers=function(t,i){if(!this.m_dirty&&this.checkMembersInSync(t,i)){this.updateControls();return}this.getView().addCssClass("ffDimPanMembersOnly");let o=this.getPanelList().getScroll().getScrollTop();this.deprecateUi();this.m_memberViews=this.buildMemberList(t,i);this.m_panelList.replaceList(e.XCollectionUtils.map(this.m_memberViews,e=>e.getRoot()));let n=this.m_panelList.getList();n.setVisible(n.hasItems());this.m_panelList.getPanel().setExpanded(this.m_rootPanelExpanded);this.updateControls();this.m_panelExpansion=this.m_panelExpansionNew.cloneExt(null);this.scrollWithTimeout(o);this.m_dirty=false};e.OuCalcDetailsAreaViewI18n=function(){};e.OuCalcDetailsAreaViewI18n.prototype=new e.DfXLocalizationProvider;e.OuCalcDetailsAreaViewI18n.prototype._ff_c="OuCalcDetailsAreaViewI18n";e.OuCalcDetailsAreaViewI18n.FE_DESC_AREA_INPUT_VALUE="FF_FE_DESC_AREA_INPUT_VALUE";e.OuCalcDetailsAreaViewI18n.FE_ID_AREA_INPUT_VALUE="FF_FE_ID_AREA_INPUT_VALUE";e.OuCalcDetailsAreaViewI18n.FE_ID_AREA_LABEL="FF_FE_ID_AREA_LABEL";e.OuCalcDetailsAreaViewI18n.ID_ERROR_EXISTING="FF_FE_ID_ERROR_DUPLICATED";e.OuCalcDetailsAreaViewI18n.ID_ERROR_INVALID_CHARS="FF_FE_ID_ERROR_INVALID_CHARS";e.OuCalcDetailsAreaViewI18n.ID_ERROR_MANDATORY="FF_FE_ID_ERROR_MANDATORY";e.OuCalcDetailsAreaViewI18n.ID_ERROR_MAX_LENGTH="FF_FE_ID_ERROR_MAX_LENGTH";e.OuCalcDetailsAreaViewI18n.NAME_AREA_LABEL="FF_FE_NAME_AREA_LABEL";e.OuCalcDetailsAreaViewI18n.NAME_ERROR_MAX_LENGTH="FE_NAME_ERROR_MAX_LENGTH";e.OuCalcDetailsAreaViewI18n.PROVIDER_NAME="CalDetailsAreaView";e.OuCalcDetailsAreaViewI18n.staticSetup=function(){let t=new e.OuCalcDetailsAreaViewI18n;t.setupProvider(e.OuCalcDetailsAreaViewI18n.PROVIDER_NAME,true);t.addTextWithComment(e.OuCalcDetailsAreaViewI18n.FE_ID_AREA_LABEL,"ID","#XMIT: Label for input field where identifier of calculation is inputted");t.addTextWithComment(e.OuCalcDetailsAreaViewI18n.FE_ID_AREA_INPUT_VALUE,"Calculation_{0}","#XMIT: Initial value of input field for calculation. the placeholder is the index used in case of existing calculation with same name.");t.addTextWithComment(e.OuCalcDetailsAreaViewI18n.FE_DESC_AREA_INPUT_VALUE,"Calculation {0}","#XMIT: Initial value of input field for description of calculation. the placeholder is the index used in case of existing calculation with same name.");t.addTextWithComment(e.OuCalcDetailsAreaViewI18n.NAME_AREA_LABEL,"Description","#XMIT: Label for input field where name of calculation is inputted");t.addTextWithComment(e.OuCalcDetailsAreaViewI18n.ID_ERROR_MANDATORY,"Enter the ID to create the calculation.","#XMSG: Error value state message shown when an id is empty");t.addTextWithComment(e.OuCalcDetailsAreaViewI18n.ID_ERROR_EXISTING,"This ID already exists. Enter a different one.","#XMSG: Error value state message shown when an id already exists");t.addTextWithComment(e.OuCalcDetailsAreaViewI18n.ID_ERROR_MAX_LENGTH,"ID length must not exceed 256 characters.","#XMSG: Error value state message shown when a id exceed the max length of 256");t.addTextWithComment(e.OuCalcDetailsAreaViewI18n.NAME_ERROR_MAX_LENGTH,"Description length must not exceed 256 characters.","#XMSG: Error value state message shown when a description exceed the max length of 256");t.addTextWithComment(e.OuCalcDetailsAreaViewI18n.ID_ERROR_INVALID_CHARS,'Enter a name (ID) that contains a combination of the characters "A-Z", "a-z", "0-9", or "_", and begins with a letter.',"#XMSG: Error value state message shown when a id has invalid characters");return t};e.OuCalcFormulaEditorI18n=function(){};e.OuCalcFormulaEditorI18n.prototype=new e.DfXLocalizationProvider;e.OuCalcFormulaEditorI18n.prototype._ff_c="OuCalcFormulaEditorI18n";e.OuCalcFormulaEditorI18n.ASSISTANCE_AI_PANEL_TITLE="FF_FE_ASSISTANCE_AI_PANEL_TITLE";e.OuCalcFormulaEditorI18n.ASSISTANCE_ERRORS_ANNOUNCE_UPDATE="FF_FE_ASSISTANCE_ERRORS_ANNOUNCE_UPDATE";e.OuCalcFormulaEditorI18n.ASSISTANCE_ERRORS_BUTTON="FF_FE_ASSISTANCE_ERRORS_BUTTON";e.OuCalcFormulaEditorI18n.ASSISTANCE_ERRORS_EMPTY_FORMULA="FF_FE_ASSISTANCE_ERRORS_EMPTY_FORMULA";e.OuCalcFormulaEditorI18n.ASSISTANCE_ERRORS_TITLE_MULTIPLE="FF_FE_ASSISTANCE_ERRORS_TITLE_MULTIPLE";e.OuCalcFormulaEditorI18n.ASSISTANCE_ERRORS_TITLE_SINGLE="FF_FE_ASSISTANCE_ERRORS_TITLE_SINGLE";e.OuCalcFormulaEditorI18n.ASSISTANCE_ERRORS_VALID_FORMULA="FF_FE_ASSISTANCE_ERRORS_VALID_FORMULA";e.OuCalcFormulaEditorI18n.ASSISTANCE_FUNC_HELP_PANEL_TITLE="FF_FE_ASSISTANCE_FUNC_HELP_PANEL_TITLE";e.OuCalcFormulaEditorI18n.ASSISTANCE_HELP_ANNOUNCE_UPDATE="FF_FE_ASSISTANCE_HELP_ANNOUNCE_UPDATE";e.OuCalcFormulaEditorI18n.ASSISTANCE_HELP_BUTTON="FF_FE_ASSISTANCE_HELP_BUTTON";e.OuCalcFormulaEditorI18n.ASSISTANCE_HELP_EMPTY="FF_FE_ASSISTANCE_HELP_EMPTY";e.OuCalcFormulaEditorI18n.ASSISTANCE_HELP_EMPTY_DESCRIPTION="FF_FE_ASSISTANCE_HELP_EMPTY_DESCRIPTION";e.OuCalcFormulaEditorI18n.ASSISTANCE_HELP_EMPTY_TITLE="FF_FE_ASSISTANCE_HELP_EMPTY_TITLE";e.OuCalcFormulaEditorI18n.DISPLAY_OPTIONS="FF_FE_DISPLAY_OPTIONS";e.OuCalcFormulaEditorI18n.DISPLAY_OPTIONS_DESCRIPTION="FF_FE_DISPLAY_OPTIONS_DESCRIPTION";e.OuCalcFormulaEditorI18n.DISPLAY_OPTIONS_DESCRIPTION_AND_ID="FF_FE_DISPLAY_OPTIONS_DESCRIPTION_AND_ID";e.OuCalcFormulaEditorI18n.DISPLAY_OPTIONS_ID="FF_FE_DISPLAY_OPTIONS_ID";e.OuCalcFormulaEditorI18n.DISPLAY_OPTIONS_ID_AND_DESCRIPTION="FF_FE_DISPLAY_OPTIONS_ID_AND_DESCRIPTION";e.OuCalcFormulaEditorI18n.EDITOR_AI_DESCRIPTION_ANNOUNCE_UPDATE="FF_FE_EDITOR_AI_DESCRIPTION_ANNOUNCE_UPDATE";e.OuCalcFormulaEditorI18n.EDITOR_ANNOUNCE_UPDATE="FF_FE_EDITOR_ANNOUNCE_UPDATE";e.OuCalcFormulaEditorI18n.EDITOR_CLEAR_BTN="FF_FE_EDITOR_TOOLBAR_CLEAR";e.OuCalcFormulaEditorI18n.EDITOR_ERRORS_ANNOUNCE_UPDATE="FF_FE_EDITOR_ERRORS_ANNOUNCE_UPDATE";e.OuCalcFormulaEditorI18n.EDITOR_ERROR_MESSAGE_MORE="FF_FE_EDITOR_ERROR_MESSAGE_MORE";e.OuCalcFormulaEditorI18n.EDITOR_FORMAT_BTN="FF_FE_EDITOR_TOOLBAR_FORMAT";e.OuCalcFormulaEditorI18n.EDITOR_HIDE_ERRORS_BTN="FF_FE_EDITOR_HIDE_ERRORS_BTN";e.OuCalcFormulaEditorI18n.EDITOR_HIDE_FUNC_HELP_BTN="FF_FE_EDITOR_HIDE_FUNC_HELP_BTN";e.OuCalcFormulaEditorI18n.EDITOR_LABEL="FF_FE_EDITOR_TOOLBAR_TITLE";e.OuCalcFormulaEditorI18n.EDITOR_NO_ERRORS_ANNOUNCE_UPDATE="FF_FE_EDITOR_NO_ERRORS_ANNOUNCE_UPDATE";e.OuCalcFormulaEditorI18n.EDITOR_SHOW_DESCRIPTIONS_BTN="FF_FE_EDITOR_TOOLBAR_SHOW_DESCRIPTIONS";e.OuCalcFormulaEditorI18n.EDITOR_SHOW_ERRORS_BTN="FF_FE_EDITOR_SHOW_ERRORS_BTN";e.OuCalcFormulaEditorI18n.EDITOR_SHOW_FUNC_HELP_BTN="FF_FE_EDITOR_SHOW_FUNC_HELP_BTN";e.OuCalcFormulaEditorI18n.ERRORS_TITLE_MULTIPLE="FF_FE_ERRORS_TITLE_MULTIPLE";e.OuCalcFormulaEditorI18n.ERRORS_TITLE_SINGLE="FF_FE_ERRORS_TITLE_SINGLE";e.OuCalcFormulaEditorI18n.FE_BTN_COLLAPSE="FF_FE_BTN_COLLAPSE";e.OuCalcFormulaEditorI18n.FE_BTN_EXPAND="FF_FE_BTN_EXPAND";e.OuCalcFormulaEditorI18n.FE_CONDITIONS="FF_FE_CONDITIONS";e.OuCalcFormulaEditorI18n.FE_DIMENSIONS="FF_FE_DIMENSIONS";e.OuCalcFormulaEditorI18n.FE_DIMENSION_DATE_DISABLE="FE_DIMENSION_DATE_DISABLE";e.OuCalcFormulaEditorI18n.FE_DIMENSION_VIRTUAL_DISABLE="FF_FE_MEASURE_VIRTUAL_DISABLE";e.OuCalcFormulaEditorI18n.FE_DOCUMENTATION="FF_FE_DOCUMENTATION";e.OuCalcFormulaEditorI18n.FE_EXAMPLE="FF_FE_EXAMPLE";e.OuCalcFormulaEditorI18n.FE_FUNCTIONS="FF_FE_FUNCTIONS";e.OuCalcFormulaEditorI18n.FE_FUNCTIONS_BUSINESS="FF_FE_FUNCTIONS_BUSINESS";e.OuCalcFormulaEditorI18n.FE_FUNCTIONS_CONVERSION="FF_FE_FUNCTIONS_CONVERSION";e.OuCalcFormulaEditorI18n.FE_FUNCTIONS_DATE_AND_TIME="FF_FE_FUNCTIONS_DATE_AND_TIME";e.OuCalcFormulaEditorI18n.FE_FUNCTIONS_DYNAMIC_TIME="FF_FE_FUNCTIONS_DYNAMIC_TIME";e.OuCalcFormulaEditorI18n.FE_FUNCTIONS_LOGICAL="FF_FE_FUNCTIONS_LOGICAL";e.OuCalcFormulaEditorI18n.FE_FUNCTIONS_LOOKUP_AND_REFERENCE="FF_FE_FUNCTIONS_LOOKUP_AND_REFERENCE";e.OuCalcFormulaEditorI18n.FE_FUNCTIONS_MATHEMATICAL_FN="FF_FE_FUNCTIONS_MATHEMATICAL_FN";e.OuCalcFormulaEditorI18n.FE_MEASURE_DATE_DISABLE="FF_FE_MEASURE_DATE_DISABLE";e.OuCalcFormulaEditorI18n.FE_OPERATORS="FF_FE_OPERATORS";e.OuCalcFormulaEditorI18n.FE_REMARK="FF_FE_REMARK";e.OuCalcFormulaEditorI18n.FE_SUMMARY="FF_FE_SUMMARY";e.OuCalcFormulaEditorI18n.FE_SYNTAX="FF_FE_SYNTAX";e.OuCalcFormulaEditorI18n.FE_TAB_ICON_FUNCTIONS="FF_FE_TAB_ICON_FUNCTIONS";e.OuCalcFormulaEditorI18n.FE_TAB_ICON_OBJECTS="FF_FE_TAB_ICON_OBJECTS";e.OuCalcFormulaEditorI18n.FE_TAB_ICON_OPERATORS="FF_FE_TAB_ICON_OPERATORS";e.OuCalcFormulaEditorI18n.FORMULA_EXPLAIN_BTN="FF_FE_FORMULA_EXPLAIN";e.OuCalcFormulaEditorI18n.FORMULA_EXPLAIN_DISCLAIMER_PART1="FF_FE_FORMULA_EXPLAIN_DISCLAIMER_PART1";e.OuCalcFormulaEditorI18n.FORMULA_EXPLAIN_DISCLAIMER_PART2="FF_FE_FORMULA_EXPLAIN_DISCLAIMER_PART2";e.OuCalcFormulaEditorI18n.FORMULA_EXPLAIN_PANEL_TITLE="FF_FE_FORMULA_EXPLAIN_PANEL_TITLE";e.OuCalcFormulaEditorI18n.FORMULA_EXPLAIN_TEXT="FF_FE_FORMULA_EXPLAIN_TEXT";e.OuCalcFormulaEditorI18n.FORMULA_GENERATE_BTN="FF_FE_FORMULA_GENERATE";e.OuCalcFormulaEditorI18n.FORMULA_GENERATE_PANEL_TITLE="FF_FE_FORMULA_GENERATE_PANEL_TITLE";e.OuCalcFormulaEditorI18n.FORMULA_GENERATE_TEXT="FF_FE_FORMULA_GENERATE_TEXT";e.OuCalcFormulaEditorI18n.FORMULA_NL_AREA_PLACEHOLDER="FF_FE_FORMULA_NL_AREA_PLACEHOLDER";e.OuCalcFormulaEditorI18n.LEFT_PANEL_NO_DATA_DESCRIPTION="FF_FE_LEFT_PANEL_NO_DATA_DESCRIPTION";e.OuCalcFormulaEditorI18n.LEFT_PANEL_NO_DATA_TITLE="FF_FE_LEFT_PANEL_NO_DATA_TITLE";e.OuCalcFormulaEditorI18n.MEMBER_SELECTOR_TITLE="FF_FE_MEMBER_SELECTOR_TITLE";e.OuCalcFormulaEditorI18n.PROVIDER_NAME="FeFormulaEditor";e.OuCalcFormulaEditorI18n.TAB_OBJECTS_ANNOUNCE_UPDATE="FF_FE_TAB_OBJECTS_ANNOUNCE_UPDATE";e.OuCalcFormulaEditorI18n.getLocalization=function(){return e.XLocalizationCenter.getCenter().getLocalizationProviderByName(e.OuCalcFormulaEditorI18n.PROVIDER_NAME)};e.OuCalcFormulaEditorI18n.staticSetup=function(){let t=new e.OuCalcFormulaEditorI18n;t.setupProvider(e.OuCalcFormulaEditorI18n.PROVIDER_NAME,true);t.addTextWithComment(e.OuCalcFormulaEditorI18n.FE_BTN_EXPAND,"Expand","#XTOL: expand button tooltip");t.addTextWithComment(e.OuCalcFormulaEditorI18n.FE_BTN_COLLAPSE,"Collapse","#XTOL: collapse button tooltip");t.addTextWithComment(e.OuCalcFormulaEditorI18n.FE_TAB_ICON_FUNCTIONS,"Functions","#XTOL: Functions tab icon tooltip");t.addTextWithComment(e.OuCalcFormulaEditorI18n.FE_TAB_ICON_OBJECTS,"Available Objects","#XTOL: Objects tab icon tooltip");t.addTextWithComment(e.OuCalcFormulaEditorI18n.FE_TAB_ICON_OPERATORS,"Conditions and Operators","#XTOL: Conditions and Operators tab icon tooltip");t.addTextWithComment(e.OuCalcFormulaEditorI18n.FE_FUNCTIONS,"Functions","#XTIT: Functions panel name");t.addTextWithComment(e.OuCalcFormulaEditorI18n.FE_FUNCTIONS_CONVERSION,"Conversion","#XTIT: Conversion functions panel name");t.addTextWithComment(e.OuCalcFormulaEditorI18n.FE_FUNCTIONS_LOGICAL,"Logical","#XTIT: Logical functions panel name");t.addTextWithComment(e.OuCalcFormulaEditorI18n.FE_FUNCTIONS_DATE_AND_TIME,"Date and Time","#XTIT: Date and Time functions panel name");t.addTextWithComment(e.OuCalcFormulaEditorI18n.FE_FUNCTIONS_MATHEMATICAL_FN,"Mathematical","#XTIT: Mathematical functions panel name");t.addTextWithComment(e.OuCalcFormulaEditorI18n.FE_FUNCTIONS_LOOKUP_AND_REFERENCE,"Lookup & Reference","#XTIT: Lookup & Reference functions panel name");t.addTextWithComment(e.OuCalcFormulaEditorI18n.FE_FUNCTIONS_BUSINESS,"Business","#XTIT: Business functions panel name");t.addTextWithComment(e.OuCalcFormulaEditorI18n.FE_FUNCTIONS_DYNAMIC_TIME,"Dynamic Time","#XTIT: Dynamic Time functions panel name");t.addTextWithComment(e.OuCalcFormulaEditorI18n.FE_DIMENSIONS,"Dimensions","#XTIT: Dimensions panel name");t.addTextWithComment(e.OuCalcFormulaEditorI18n.FE_OPERATORS,"Operators","#XTIT: Operators panel name");t.addTextWithComment(e.OuCalcFormulaEditorI18n.FE_CONDITIONS,"Conditions","#XTIT: Conditions panel name");t.addTextWithComment(e.OuCalcFormulaEditorI18n.FE_MEASURE_DATE_DISABLE,"This measure is disabled as measures of type date and time are not supported in formulas.","#XTOL: Tooltip to inform the measure has been disabled because type date");t.addTextWithComment(e.OuCalcFormulaEditorI18n.FE_DIMENSION_VIRTUAL_DISABLE,"This dimension is disabled as group dimensions are not supported in formulas.","#XTOL: Tooltip to inform the dimensions has been disabled because type group");t.addTextWithComment(e.OuCalcFormulaEditorI18n.FE_DIMENSION_DATE_DISABLE,"This dimension is disabled as dimensions of type date and time are not supported in formulas.","#XTOL: Tooltip to inform the dimensions has been disabled because type date");t.addTextWithComment(e.OuCalcFormulaEditorI18n.DISPLAY_OPTIONS,"Display Options","#XTOL: Tooltip for Display option menu button");t.addTextWithComment(e.OuCalcFormulaEditorI18n.DISPLAY_OPTIONS_DESCRIPTION,"Description","#XTIT: Display option menu item for 'Description'");t.addTextWithComment(e.OuCalcFormulaEditorI18n.DISPLAY_OPTIONS_ID,"ID","#XTIT: Display option menu item for 'ID'");t.addTextWithComment(e.OuCalcFormulaEditorI18n.DISPLAY_OPTIONS_ID_AND_DESCRIPTION,"ID and Description","#XTIT: Display option menu item for 'ID and Description'");t.addTextWithComment(e.OuCalcFormulaEditorI18n.DISPLAY_OPTIONS_DESCRIPTION_AND_ID,"Description and ID","#XTIT: Display option menu item for 'Description and ID'");t.addTextWithComment(e.OuCalcFormulaEditorI18n.LEFT_PANEL_NO_DATA_TITLE,"We couldn't find that","#XMSG: Illustrated message title when no data as result of a search");t.addTextWithComment(e.OuCalcFormulaEditorI18n.LEFT_PANEL_NO_DATA_DESCRIPTION,"Try adjusting your search?","#XMSG: Illustrated message description when no data as result of a search");t.addTextWithComment(e.OuCalcFormulaEditorI18n.FE_DOCUMENTATION,"{0} Documentation","#XTIT: Documentation label used as aria-label for the accessibility tool");t.addTextWithComment(e.OuCalcFormulaEditorI18n.FE_SYNTAX,"Syntax","#XTIT: Syntax label, also used as aria-label for the accessibility tool");t.addTextWithComment(e.OuCalcFormulaEditorI18n.FE_SUMMARY,"Summary","#XTIT: Summary label, also used as aria-label for the accessibility tool");t.addTextWithComment(e.OuCalcFormulaEditorI18n.FE_EXAMPLE,"Example","#XTIT: Example label, also used as aria-label for the accessibility tool");t.addTextWithComment(e.OuCalcFormulaEditorI18n.FE_REMARK,"Remarks","#XTIT: Remarks label, also used as aria-label for the accessibility tool");t.addTextWithComment(e.OuCalcFormulaEditorI18n.EDITOR_LABEL,"Formula","#XTIT: Formula editor label");t.addTextWithComment(e.OuCalcFormulaEditorI18n.EDITOR_FORMAT_BTN,"Format","#XBUT: Format formula button in editor toolbar");t.addTextWithComment(e.OuCalcFormulaEditorI18n.EDITOR_CLEAR_BTN,"Clear","#XBUT: Clear formula button in editor toolbar");t.addTextWithComment(e.OuCalcFormulaEditorI18n.EDITOR_SHOW_DESCRIPTIONS_BTN,"Shows Descriptions","#XBUT: Shows Descriptions formula button in editor toolbar");t.addTextWithComment(e.OuCalcFormulaEditorI18n.EDITOR_SHOW_ERRORS_BTN,"Show errors","#XTOL: Show errors toggle button in editor toolbar");t.addTextWithComment(e.OuCalcFormulaEditorI18n.EDITOR_HIDE_ERRORS_BTN,"Hide errors","#XTOL: Hide errors toggle button in editor toolbar");t.addTextWithComment(e.OuCalcFormulaEditorI18n.EDITOR_SHOW_FUNC_HELP_BTN,"Show Function Help","#XTOL: Show Function Help Side panel toggle button in editor toolbar");t.addTextWithComment(e.OuCalcFormulaEditorI18n.EDITOR_HIDE_FUNC_HELP_BTN,"Hide Function Help","#XTOL: Hide Function Help Side panel toggle button in editor toolbar");t.addTextWithComment(e.OuCalcFormulaEditorI18n.EDITOR_ERROR_MESSAGE_MORE,"{0} more errors","#XMSG: link shown in error message area in case of more than 1 errors");t.addTextWithComment(e.OuCalcFormulaEditorI18n.ERRORS_TITLE_MULTIPLE,"Errors ({0})","#XTIT: Errors area title in case of multiple errors");t.addTextWithComment(e.OuCalcFormulaEditorI18n.ERRORS_TITLE_SINGLE,"Error (1)","#XTIT: Errors area title in case 1 error");t.addTextWithComment(e.OuCalcFormulaEditorI18n.FORMULA_GENERATE_PANEL_TITLE,"AI Generated Formula","#NOTR: (POC code no translate for now) Title of the generated formula panel");t.addTextWithComment(e.OuCalcFormulaEditorI18n.FORMULA_EXPLAIN_PANEL_TITLE,"AI Formula Explanation","#NOTR: (POC code no translate for now) Title of the generated formula panel");t.addTextWithComment(e.OuCalcFormulaEditorI18n.FORMULA_EXPLAIN_TEXT,"Explain a Formula","#NOTR: (POC code no translate for now) Explain formula in action dropdown selection");t.addTextWithComment(e.OuCalcFormulaEditorI18n.FORMULA_GENERATE_TEXT,"Generate a Formula","#NOTR: (POC code no translate for now) Generate formula in action dropdown selection");t.addTextWithComment(e.OuCalcFormulaEditorI18n.FORMULA_EXPLAIN_DISCLAIMER_PART1,"Created with AI.","#NOTR: (POC code no translate for now) AI explanation disclaimer part 1");t.addTextWithComment(e.OuCalcFormulaEditorI18n.FORMULA_EXPLAIN_DISCLAIMER_PART2,"Verify result before use.","#NOTR: (POC code no translate for now) AI explanation disclaimer part 2");t.addTextWithComment(e.OuCalcFormulaEditorI18n.FORMULA_GENERATE_TEXT,"Generate a Formula","#NOTR: (POC code no translate for now) Generate formula in action dropdown selection");t.addTextWithComment(e.OuCalcFormulaEditorI18n.FORMULA_EXPLAIN_BTN,"Explain","#NOTR: (POC code no translate for now) Explain formula button in editor toolbar");t.addTextWithComment(e.OuCalcFormulaEditorI18n.FORMULA_GENERATE_BTN,"Generate","#NOTR: (POC code no translate for now) Generate formula button in editor toolbar");t.addTextWithComment(e.OuCalcFormulaEditorI18n.FORMULA_NL_AREA_PLACEHOLDER,"Specify a Formula in Natural Language Format\n for example: 10% of Revenue - 90% of Cost","#NOTR: (POC code no translate for now) Natural language text area placeholder");t.addTextWithComment(e.OuCalcFormulaEditorI18n.ASSISTANCE_AI_PANEL_TITLE,"AI Formula Assistant","#NOTR: (POC code no translate for now) Shows AI assistant panel title");t.addTextWithComment(e.OuCalcFormulaEditorI18n.ASSISTANCE_FUNC_HELP_PANEL_TITLE,"Function Help","#XTIT: Shows Documentation panel title");t.addTextWithComment(e.OuCalcFormulaEditorI18n.ASSISTANCE_HELP_BUTTON,"Help","#XBUT: Shows Documentation tab button in assistance area");t.addTextWithComment(e.OuCalcFormulaEditorI18n.ASSISTANCE_HELP_EMPTY,"Select a function to get some help here.","#XMSG: Message shown on Documentation area when no function is selected");t.addTextWithComment(e.OuCalcFormulaEditorI18n.ASSISTANCE_HELP_EMPTY_TITLE,"Nothing selected","#XMSG: Message shown as illustrated message title on Documentation area when no function is selected");t.addTextWithComment(e.OuCalcFormulaEditorI18n.ASSISTANCE_HELP_EMPTY_DESCRIPTION,"Select a function to get information on how to use it.","#XMSG: Message shown as illustrated message description on Documentation area when no function is selected");t.addTextWithComment(e.OuCalcFormulaEditorI18n.ASSISTANCE_ERRORS_BUTTON,"Errors","#XBUT: Shows Error tab button in assistance area");t.addTextWithComment(e.OuCalcFormulaEditorI18n.ASSISTANCE_ERRORS_TITLE_MULTIPLE,"Found errors ({0})","#XTIT: Errors area title in case of multiple errors");t.addTextWithComment(e.OuCalcFormulaEditorI18n.ASSISTANCE_ERRORS_TITLE_SINGLE,"Found error (1)","#XTIT: Errors area title in case 1 error");t.addTextWithComment(e.OuCalcFormulaEditorI18n.ASSISTANCE_ERRORS_EMPTY_FORMULA,"There are no errors. The formula is empty","#XTIT: Errors area placeholder in case of empty formula (part 2)");t.addTextWithComment(e.OuCalcFormulaEditorI18n.ASSISTANCE_ERRORS_VALID_FORMULA,"There are no errors. Your formula is valid","#XTIT: Errors area placeholder in case of valid formula (part 2)");t.addTextWithComment(e.OuCalcFormulaEditorI18n.TAB_OBJECTS_ANNOUNCE_UPDATE,"The Objects panel has been updated.","#XMSG: Hidden message for screen reader to announce the Measure/Dimension/Accounts have been updated in the panel view.");t.addTextWithComment(e.OuCalcFormulaEditorI18n.EDITOR_ANNOUNCE_UPDATE,"The code in the editor has been updated.","#XMSG: Hidden message for screen reader to announce the code in the editor has been updated.");t.addTextWithComment(e.OuCalcFormulaEditorI18n.EDITOR_ERRORS_ANNOUNCE_UPDATE,"The editor error message has been updated: {0}","#XMSG: Hidden message for screen reader to announce the editor error area has been updated.");t.addTextWithComment(e.OuCalcFormulaEditorI18n.EDITOR_AI_DESCRIPTION_ANNOUNCE_UPDATE,"The editor AI area has been updated: {0}","#NOTR: (POC code no translate for now) Hidden message for screen reader to announce the editor AI area has been updated.");t.addTextWithComment(e.OuCalcFormulaEditorI18n.EDITOR_NO_ERRORS_ANNOUNCE_UPDATE,"No Errors","#XMSG: Hidden message used by FF_FE_ASSISTANCE_ERRORS_ANNOUNCE_UPDATE as parameter in case of no errors.");t.addTextWithComment(e.OuCalcFormulaEditorI18n.ASSISTANCE_ERRORS_ANNOUNCE_UPDATE,"The list of errors has been updated.","#XMSG: Hidden message for screen reader to announce the errors list has been updated.");t.addTextWithComment(e.OuCalcFormulaEditorI18n.ASSISTANCE_HELP_ANNOUNCE_UPDATE,"The help section has been updated.","#XMSG: Hidden message for screen reader to announce the documentation has been updated.");t.addTextWithComment(e.OuCalcFormulaEditorI18n.MEMBER_SELECTOR_TITLE,"Select Values for {0}","#XTIT: Member selector dialog title. {0} is the dimension name.");return t};e.OuCalcAIExplainView=function(){};e.OuCalcAIExplainView.prototype=new e.DfUiView;e.OuCalcAIExplainView.prototype._ff_c="OuCalcAIExplainView";e.OuCalcAIExplainView.EMPTY_TEXT="";e.OuCalcAIExplainView.create=function(t,i){let o=new e.OuCalcAIExplainView;o.m_formulaPresentation=e.XObjectExt.assertNotNull(t);o.m_genAiService=e.XObjectExt.assertNotNull(i);o.m_explanationView=e.OuCalcAIExplanationView.create();return o};e.OuCalcAIExplainView.prototype.m_codeEditor=null;e.OuCalcAIExplainView.prototype.m_explainBtn=null;e.OuCalcAIExplainView.prototype.m_explanationView=null;e.OuCalcAIExplainView.prototype.m_formulaPresentation=null;e.OuCalcAIExplainView.prototype.m_genAiService=null;e.OuCalcAIExplainView.prototype.destroyView=function(){this.m_formulaPresentation=null;this.m_genAiService=null;this.m_explanationView=e.XObjectExt.release(this.m_explanationView);this.m_codeEditor=e.XObjectExt.release(this.m_codeEditor)};e.OuCalcAIExplainView.prototype.getFormula=function(){return this.m_codeEditor.getView().getValue()};e.OuCalcAIExplainView.prototype.getLocalization=function(){return e.XLocalizationCenter.getCenter()};e.OuCalcAIExplainView.prototype.getViewControl=function(t){return t.newControl(e.UiType.FLEX_LAYOUT)};e.OuCalcAIExplainView.prototype.layoutView=function(t){t.setDirection(e.UiFlexDirection.COLUMN);t.addCssClass("ffOuCalcAIPanelView");t.addCssClass("ffOuCalcAIExplainView");let i=t.addNewItemOfType(e.UiType.FLEX_LAYOUT);i.addCssClass("ffOuCalcAIInputLayout");i.setDirection(e.UiFlexDirection.COLUMN);this.m_codeEditor=e.OuCalcCodeEditorWidget.create(this.m_formulaPresentation);this.m_codeEditor.renderView(this.getGenesis());this.m_codeEditor.addOnChangeConsumer(t=>{this.m_explainBtn.setEnabled(e.XStringUtils.isNotNullAndNotEmpty(this.getFormula()))});i.addItem(this.m_codeEditor.getView());this.m_explainBtn=i.addNewItemOfType(e.UiType.BUTTON);this.m_explainBtn.addCssClass("ffOuCalcAIExplainBtn");this.m_explainBtn.addCssClass("ffOuCalcAIBtn");this.m_explainBtn.setEnabled(false);this.m_explainBtn.setButtonType(e.UiButtonType.PRIMARY);let o=this.getLocalization().getText(e.OuCalcFormulaEditorI18n.FORMULA_EXPLAIN_BTN);this.m_explainBtn.setTooltip(o);this.m_explainBtn.setText(o);this.m_explainBtn.setIcon("ai");this.m_explainBtn.registerOnPress(e.UiLambdaPressListener.create(e=>{this.performExplainInternal()}));t.addItem(this.m_explanationView.renderView(this.getGenesis()))};e.OuCalcAIExplainView.prototype.performExplain=function(e){this.m_codeEditor.getView().setValue(e);this.performExplainInternal()};e.OuCalcAIExplainView.prototype.performExplainInternal=function(){this.m_explanationView.setExplanation(e.OuCalcAIExplainView.EMPTY_TEXT);this.m_explanationView.setVisible(true);this.setBusy(true);let t=this.getFormula();this.m_genAiService.explainFormula(t).onThen(e=>{this.m_explanationView.setExplanation(e)}).onCatch(t=>{this.m_explanationView.setVisible(false);this.getGenesis().showErrorToast(e.XStringUtils.concatenate2("Error while generating description: ",t.getText()))}).onFinally(()=>{this.setBusy(false)})};e.OuCalcAIExplainView.prototype.setBusy=function(e){this.m_explainBtn.setEnabled(false);this.m_explanationView.setBusy(e)};e.OuCalcAIExplainView.prototype.setCustomMode=function(e){this.m_codeEditor.setCustomMode(e)};e.OuCalcAIExplainView.prototype.setupView=function(){};e.OuCalcAIExplanationView=function(){};e.OuCalcAIExplanationView.prototype=new e.DfUiView;e.OuCalcAIExplanationView.prototype._ff_c="OuCalcAIExplanationView";e.OuCalcAIExplanationView.create=function(){let t=new e.OuCalcAIExplanationView;t.m_disclaimer=e.OuCalcAIDisclaimerWidget.create();return t};e.OuCalcAIExplanationView.prototype.m_disclaimer=null;e.OuCalcAIExplanationView.prototype.m_explanationResult=null;e.OuCalcAIExplanationView.prototype._updateUI=function(){let t=e.XStringUtils.isNotNullAndNotEmpty(this.m_explanationResult.getText());this.setVisible(t);this.m_disclaimer.setVisible(t)};e.OuCalcAIExplanationView.prototype.destroyView=function(){this.m_explanationResult=null};e.OuCalcAIExplanationView.prototype.getLocalization=function(){return e.XLocalizationCenter.getCenter()};e.OuCalcAIExplanationView.prototype.getViewControl=function(t){return t.newControl(e.UiType.FLEX_LAYOUT)};e.OuCalcAIExplanationView.prototype.layoutView=function(t){t.addNewItemOfType(e.UiType.FLEX_LAYOUT);t.setDirection(e.UiFlexDirection.COLUMN);t.addCssClass("ffOuCalcAIOutputLayout");let i=t.addNewItemOfType(e.UiType.TITLE);i.setText(this.getLocalization().getText(e.OuCalcFormulaEditorI18n.FORMULA_EXPLAIN_PANEL_TITLE));i.setTitleStyle(e.UiTitleLevel.H_5);i.setTitleLevel(e.UiTitleLevel.H_5);this.m_explanationResult=t.addNewItemOfType(e.UiType.TEXT);this.m_explanationResult.addCssClass("ffOuCalcAIExplanationResult");this.m_disclaimer.renderView(this.getGenesis());t.addItem(this.m_disclaimer.getView());this._updateUI()};e.OuCalcAIExplanationView.prototype.setBusy=function(e){if(e){this.getView().setVisible(true)}this.m_explanationResult.setBusy(e)};e.OuCalcAIExplanationView.prototype.setExplanation=function(e){this.m_explanationResult.setText(e);this._updateUI()};e.OuCalcAIExplanationView.prototype.setVisible=function(e){this.getView().setVisible(e)};e.OuCalcAIExplanationView.prototype.setupView=function(){};e.OuCalcAIGenerateView=function(){};e.OuCalcAIGenerateView.prototype=new e.DfUiView;e.OuCalcAIGenerateView.prototype._ff_c="OuCalcAIGenerateView";e.OuCalcAIGenerateView.EMPTY_TEXT="";e.OuCalcAIGenerateView.create=function(t,i){let o=new e.OuCalcAIGenerateView;o.m_formulaPresentation=e.XObjectExt.assertNotNull(t);o.m_genAiService=e.XObjectExt.assertNotNull(i);o.m_explanationView=e.OuCalcAIExplanationView.create();o.m_onAddFormulaConsumers=e.XConsumerCollection.create();o.m_disclaimer=e.OuCalcAIDisclaimerWidget.create();return o};e.OuCalcAIGenerateView.prototype.m_codeEditor=null;e.OuCalcAIGenerateView.prototype.m_disclaimer=null;e.OuCalcAIGenerateView.prototype.m_explanationView=null;e.OuCalcAIGenerateView.prototype.m_formulaPresentation=null;e.OuCalcAIGenerateView.prototype.m_genAiService=null;e.OuCalcAIGenerateView.prototype.m_generateBtn=null;e.OuCalcAIGenerateView.prototype.m_generatedFormulaLayout=null;e.OuCalcAIGenerateView.prototype.m_naturalLanguageTextArea=null;e.OuCalcAIGenerateView.prototype.m_onAddFormulaConsumers=null;e.OuCalcAIGenerateView.prototype._updateUI=function(){let t=e.XStringUtils.isNotNullAndNotEmpty(this.m_codeEditor.getView().getValue());this.m_generatedFormulaLayout.setVisible(t);this.m_disclaimer.setVisible(t)};e.OuCalcAIGenerateView.prototype.addOnAddFormulaConsumers=function(e){return this.m_onAddFormulaConsumers.addConsumer(e)};e.OuCalcAIGenerateView.prototype.destroyView=function(){this.m_formulaPresentation=null;this.m_genAiService=null;this.m_generatedFormulaLayout=null;this.m_explanationView=e.XObjectExt.release(this.m_explanationView);this.m_codeEditor=e.XObjectExt.release(this.m_codeEditor);this.m_naturalLanguageTextArea=null;this.m_onAddFormulaConsumers.clear();this.m_onAddFormulaConsumers=e.XObjectExt.release(this.m_onAddFormulaConsumers)};e.OuCalcAIGenerateView.prototype.getLocalization=function(){return e.XLocalizationCenter.getCenter()};e.OuCalcAIGenerateView.prototype.getViewControl=function(t){return t.newControl(e.UiType.FLEX_LAYOUT)};e.OuCalcAIGenerateView.prototype.layoutView=function(t){t.setDirection(e.UiFlexDirection.COLUMN);t.addCssClass("ffOuCalcAIPanelView");t.addCssClass("ffOuCalcAIGenerationView");let i=t.addNewItemOfType(e.UiType.FLEX_LAYOUT);i.addCssClass("ffOuCalcAIInputLayout");i.setDirection(e.UiFlexDirection.COLUMN);this.m_naturalLanguageTextArea=i.addNewItemOfType(e.UiType.TEXT_AREA);this.m_naturalLanguageTextArea.registerOnLiveChange(e.UiLambdaLiveChangeListener.create(t=>{this.m_generateBtn.setEnabled(e.XStringUtils.isNotNullAndNotEmpty(this.m_naturalLanguageTextArea.getValue()))}));this.m_generateBtn=i.addNewItemOfType(e.UiType.BUTTON);this.m_generateBtn.addCssClass("ffOuCalcAIGenerateBtn");this.m_generateBtn.addCssClass("ffOuCalcAIBtn");this.m_generateBtn.setEnabled(false);this.m_generateBtn.setButtonType(e.UiButtonType.PRIMARY);let o=this.getLocalization().getText(e.OuCalcFormulaEditorI18n.FORMULA_GENERATE_BTN);this.m_generateBtn.setTooltip(o);this.m_generateBtn.setText(o);this.m_generateBtn.setIcon("ai");this.m_generateBtn.registerOnPress(e.UiLambdaPressListener.create(e=>{this.performGenerate()}));this.m_generatedFormulaLayout=t.addNewItemOfType(e.UiType.FLEX_LAYOUT);this.m_generatedFormulaLayout.setDirection(e.UiFlexDirection.COLUMN);this.m_generatedFormulaLayout.addCssClass("ffOuCalcAIOutputLayout");let n=this.m_generatedFormulaLayout.addNewItemOfType(e.UiType.TOOLBAR);let a=n.addNewItemOfType(e.UiType.TITLE);a.setText(this.getLocalization().getText(e.OuCalcFormulaEditorI18n.FORMULA_GENERATE_PANEL_TITLE));a.setTitleStyle(e.UiTitleLevel.H_5);a.setTitleLevel(e.UiTitleLevel.H_5);n.addNewItemOfType(e.UiType.SPACER);let r=n.addNewItemOfType(e.UiType.BUTTON);r.addCssClass("ffOuCalcAIAddBtn");r.setTooltip(this.getLocalization().getText(e.XCommonI18n.ADD));r.setIcon("add");r.setButtonType(e.UiButtonType.TRANSPARENT);r.registerOnPress(e.UiLambdaPressListener.create(e=>{this.m_onAddFormulaConsumers.accept(this.m_codeEditor.getView().getValue())}));this.m_codeEditor=e.OuCalcCodeEditorWidget.create(this.m_formulaPresentation);this.m_codeEditor.renderView(this.getGenesis());this.m_codeEditor.setEditable(false);this.m_generatedFormulaLayout.addItem(this.m_codeEditor.getView());t.addItem(this.m_explanationView.renderView(this.getGenesis()));this.m_disclaimer.renderView(this.getGenesis());t.addItem(this.m_disclaimer.getView());this._updateUI()};e.OuCalcAIGenerateView.prototype.performGenerate=function(){this.m_codeEditor.setValue(e.OuCalcAIGenerateView.EMPTY_TEXT);this.setBusy(true);this.m_genAiService.generateFormula(this.m_naturalLanguageTextArea.getValue()).onThen(e=>{this.m_codeEditor.setValue(e)}).onCatch(t=>{this.getGenesis().showErrorToast(e.XStringUtils.concatenate2("Error while generating formula: ",t.getText()))}).onFinally(()=>{this.setBusy(false);this._updateUI()})};e.OuCalcAIGenerateView.prototype.setBusy=function(e){this.m_disclaimer.setVisible(false);this.m_generatedFormulaLayout.setVisible(true);this.m_codeEditor.setBusy(e);this.m_generateBtn.setEnabled(false)};e.OuCalcAIGenerateView.prototype.setCustomMode=function(e){this.m_codeEditor.setCustomMode(e)};e.OuCalcAIGenerateView.prototype.setupView=function(){};e.OuCalcAIView=function(){};e.OuCalcAIView.prototype=new e.DfUiView;e.OuCalcAIView.prototype._ff_c="OuCalcAIView";e.OuCalcAIView.create=function(t,i){let o=new e.OuCalcAIView;if(e.FeFeatureToggle.isActive(e.FeFeatureToggle.GEN_AI_PHASE1)){o.m_explainView=e.OuCalcAIExplainView.create(t,i);o.m_generateView=e.OuCalcAIGenerateView.create(t,i)}return o};e.OuCalcAIView.prototype.m_actionTypeDD=null;e.OuCalcAIView.prototype.m_explainDDItem=null;e.OuCalcAIView.prototype.m_explainView=null;e.OuCalcAIView.prototype.m_generateDDItem=null;e.OuCalcAIView.prototype.m_generateView=null;e.OuCalcAIView.prototype._updateUI=function(){if(e.isNull(this.m_actionTypeDD)){return}if(this.m_actionTypeDD.getSelectedItem()===this.m_generateDDItem){this.m_explainView.getView().setVisible(false);this.m_generateView.getView().setVisible(true)}else{this.m_explainView.getView().setVisible(true);this.m_generateView.getView().setVisible(false)}};e.OuCalcAIView.prototype.addOnAddFormulaConsumers=function(t){if(e.FeFeatureToggle.isActive(e.FeFeatureToggle.GEN_AI_PHASE1)){return this.m_generateView.addOnAddFormulaConsumers(t)}return null};e.OuCalcAIView.prototype.destroyView=function(){this.m_actionTypeDD=null;this.m_explainView=e.XObjectExt.release(this.m_explainView);this.m_generateView=e.XObjectExt.release(this.m_generateView);this.m_generateDDItem=null;this.m_explainDDItem=null};e.OuCalcAIView.prototype.getLocalization=function(){return e.XLocalizationCenter.getCenter()};e.OuCalcAIView.prototype.getViewControl=function(t){return t.newControl(e.UiType.FLEX_LAYOUT)};e.OuCalcAIView.prototype.layoutView=function(t){t.setDirection(e.UiFlexDirection.COLUMN);t.addCssClass("ffOuCalcAIView");if(e.FeFeatureToggle.isActive(e.FeFeatureToggle.GEN_AI_PHASE1)){this.m_actionTypeDD=t.addNewItemOfType(e.UiType.DROPDOWN);this.m_actionTypeDD.addCssClass("ffOuCalcAIActionType");this.m_generateDDItem=this.m_actionTypeDD.addNewItem();this.m_generateDDItem.setText(this.getLocalization().getText(e.OuCalcFormulaEditorI18n.FORMULA_GENERATE_TEXT));this.m_explainDDItem=this.m_actionTypeDD.addNewItem();this.m_explainDDItem.setText(this.getLocalization().getText(e.OuCalcFormulaEditorI18n.FORMULA_EXPLAIN_TEXT));this.m_actionTypeDD.setSelectedItem(this.m_explainDDItem);this.m_explainView.renderView(this.getGenesis());t.addItem(this.m_explainView.getView());if(e.notNull(this.m_generateView)){this.m_generateView.renderView(this.getGenesis());t.addItem(this.m_generateView.getView())}this._updateUI();this.m_actionTypeDD.registerOnSelect(e.UiLambdaSelectListener.create(e=>{this._updateUI()}))}else{let i=t.addNewItemOfType(e.UiType.TEXT);i.addCssClass("ffOuCalcAINoServiceText");i.setText("No AI services available")}};e.OuCalcAIView.prototype.performExplain=function(e){this.setActionTypeExplain();this.m_explainView.performExplain(e)};e.OuCalcAIView.prototype.setActionTypeExplain=function(){this.m_actionTypeDD.setSelectedItem(this.m_explainDDItem);this._updateUI()};e.OuCalcAIView.prototype.setCustomMode=function(e){this.m_explainView.setCustomMode(e);this.m_generateView.setCustomMode(e)};e.OuCalcAIView.prototype.setupView=function(){};e.OuCalcErrorsViewV2=function(){};e.OuCalcErrorsViewV2.prototype=new e.DfUiView;e.OuCalcErrorsViewV2.prototype._ff_c="OuCalcErrorsViewV2";e.OuCalcErrorsViewV2.EMPTY_STRING="";e.OuCalcErrorsViewV2.create=function(){let t=new e.OuCalcErrorsViewV2;t.m_onCloseConsumers=e.XConsumerCollection.create();return t};e.OuCalcErrorsViewV2.prototype.m_errors=null;e.OuCalcErrorsViewV2.prototype.m_messageView=null;e.OuCalcErrorsViewV2.prototype.m_onCloseConsumers=null;e.OuCalcErrorsViewV2.prototype.m_title=null;e.OuCalcErrorsViewV2.prototype.addRegisterOnCloseConsumer=function(e){return this.m_onCloseConsumers.addConsumer(e)};e.OuCalcErrorsViewV2.prototype.announceUpdate=function(){e.UiFramework.currentFramework().announce(this.getLocalization().getText(e.OuCalcFormulaEditorI18n.ASSISTANCE_ERRORS_ANNOUNCE_UPDATE),e.UiAriaLiveMode.ASSERTIVE)};e.OuCalcErrorsViewV2.prototype.destroyView=function(){this.m_messageView=null;this.m_onCloseConsumers.clear();this.m_onCloseConsumers=e.XObjectExt.release(this.m_onCloseConsumers)};e.OuCalcErrorsViewV2.prototype.generateErrorList=function(t){this.m_messageView.setVisible(true);for(let i=0;i<t.getErrors().size();i++){let o=t.getErrors().get(i).getText();let n=this.m_messageView.addNewItem();n.setTitle(o);n.setMessageType(e.UiMessageType.ERROR)}};e.OuCalcErrorsViewV2.prototype.generateErrors=function(e){this.m_messageView.clearItems();this.generateErrorList(this.m_errors);this.m_title.setText(this.getTitle());this.m_messageView.back();if(e){this.announceUpdate()}};e.OuCalcErrorsViewV2.prototype.getLocalization=function(){return e.XLocalizationCenter.getCenter()};e.OuCalcErrorsViewV2.prototype.getTitle=function(){let t=this.m_messageView.getNumberOfItems();if(t===0){return e.OuCalcErrorsViewV2.EMPTY_STRING}else if(t===1){return this.getLocalization().getText(e.OuCalcFormulaEditorI18n.ERRORS_TITLE_SINGLE)}else{return this.getLocalization().getTextWithPlaceholder(e.OuCalcFormulaEditorI18n.ERRORS_TITLE_MULTIPLE,e.XInteger.convertToString(t))}};e.OuCalcErrorsViewV2.prototype.getViewControl=function(t){let i=t.newControl(e.UiType.FLEX_LAYOUT);i.addCssClass("ffOuCalcErrorsView");i.setDirection(e.UiFlexDirection.COLUMN);return i};e.OuCalcErrorsViewV2.prototype.hasChanged=function(t){let i=e.isNull(this.m_errors)||!this.m_errors.hasErrors();let o=e.isNull(t)||!t.hasErrors();return i!==o};e.OuCalcErrorsViewV2.prototype.layoutView=function(t){let i=t.addNewItemOfType(e.UiType.TOOLBAR);i.addCssClass("ffOuCalcErrorsViewToolbar");this.m_title=i.addNewItemOfType(e.UiType.TITLE);this.m_title.setTitleLevel(e.UiTitleLevel.H_4);this.m_title.setTitleStyle(e.UiTitleLevel.H_4);this.m_title.addCssClass("ffOuCalcTitle");i.addNewItemOfType(e.UiType.SPACER);let o=i.addNewItemOfType(e.UiType.BUTTON);o.setIcon("decline");o.setTooltip(this.getLocalization().getText(e.OuCalcFormulaEditorI18n.EDITOR_HIDE_ERRORS_BTN));o.setButtonType(e.UiButtonType.TRANSPARENT);o.registerOnPress(e.UiLambdaPressListener.create(t=>{this.m_onCloseConsumers.accept(e.XBooleanValue.create(true))}));this.m_messageView=t.addNewItemOfType(e.UiType.MESSAGE_VIEW);this.m_messageView.addCssClass("ffOuCalcAssistanceErrorList")};e.OuCalcErrorsViewV2.prototype.setErrors=function(e){let t=this.hasChanged(e);this.m_errors=e;this.generateErrors(t)};e.OuCalcErrorsViewV2.prototype.setVisible=function(e){this.getView().setVisible(e)};e.OuCalcErrorsViewV2.prototype.setupView=function(){};e.OuCalcNaturalLanguageView=function(){};e.OuCalcNaturalLanguageView.prototype=new e.DfUiView;e.OuCalcNaturalLanguageView.prototype._ff_c="OuCalcNaturalLanguageView";e.OuCalcNaturalLanguageView.COLLAPSED_CSS_CLASS="ffOuPanelCollapsed";e.OuCalcNaturalLanguageView.ICON_COLLAPSE_NAME="collapse-group";e.OuCalcNaturalLanguageView.ICON_EXPAND_NAME="expand-group";e.OuCalcNaturalLanguageView.create=function(){let t=new e.OuCalcNaturalLanguageView;t.m_onGenerationPressConsumers=e.XConsumerCollection.create();t.m_contentVisible=true;return t};e.OuCalcNaturalLanguageView.prototype.m_NLFSection=null;e.OuCalcNaturalLanguageView.prototype.m_collapseIcon=null;e.OuCalcNaturalLanguageView.prototype.m_contentVisible=false;e.OuCalcNaturalLanguageView.prototype.m_generateBtn=null;e.OuCalcNaturalLanguageView.prototype.m_nLTxtArea=null;e.OuCalcNaturalLanguageView.prototype.m_onGenerationPressConsumers=null;e.OuCalcNaturalLanguageView.prototype.m_toolbar=null;e.OuCalcNaturalLanguageView.prototype.addNewToolbarButton=function(t,i,o){let n=this.getLocalization().getText(t);let a=this.m_toolbar.addNewItemOfType(e.UiType.BUTTON);a.setButtonType(e.UiButtonType.TRANSPARENT);a.setText(n);a.addCssClass(i);a.registerOnPress(o);return a};e.OuCalcNaturalLanguageView.prototype.addOnGenerationPressConsumer=function(e){return this.m_onGenerationPressConsumers.addConsumer(e)};e.OuCalcNaturalLanguageView.prototype.announceDescriptionUpdated=function(){e.UiFramework.currentFramework().announce(this.getLocalization().getTextWithPlaceholder(e.OuCalcFormulaEditorI18n.EDITOR_ERRORS_ANNOUNCE_UPDATE,this.m_nLTxtArea.getValue()),e.UiAriaLiveMode.ASSERTIVE)};e.OuCalcNaturalLanguageView.prototype.destroyView=function(){this.m_onGenerationPressConsumers.clear();this.m_onGenerationPressConsumers=e.XObjectExt.release(this.m_onGenerationPressConsumers);this.m_nLTxtArea=null};e.OuCalcNaturalLanguageView.prototype.getLocalization=function(){return e.OuCalcFormulaEditorI18n.getLocalization()};e.OuCalcNaturalLanguageView.prototype.getViewControl=function(t){return t.newControl(e.UiType.FLEX_LAYOUT)};e.OuCalcNaturalLanguageView.prototype.layoutView=function(t){t.addCssClass("ffOuCalcNLView");t.setDirection(e.UiFlexDirection.COLUMN);this.m_NLFSection=t.addNewItemOfType(e.UiType.FLEX_LAYOUT);this.m_NLFSection.addCssClass("ffOuCalcNLSection");this.m_NLFSection.setDirection(e.UiFlexDirection.COLUMN);this.m_toolbar=this.m_NLFSection.addNewItemOfType(e.UiType.TOOLBAR);this.m_toolbar.addCssClass("ffOuCalcNLToolbar");this.m_collapseIcon=this.m_toolbar.addNewItemOfType(e.UiType.BUTTON);this.m_collapseIcon.setButtonType(e.UiButtonType.TRANSPARENT);this.m_collapseIcon.registerOnPress(e.UiLambdaPressListener.create(e=>{this.m_contentVisible=!this.m_contentVisible;this.updateVisibility()}));let i=this.m_toolbar.addNewItemOfType(e.UiType.LABEL);let o=this.getLocalization().getText(e.OuCalcFormulaEditorI18n.DISPLAY_OPTIONS_DESCRIPTION);i.addCssClass("ffOuCalcNLLabel");i.setText(o);this.m_toolbar.addNewItemOfType(e.UiType.SPACER);this.m_generateBtn=this.addNewToolbarButton(e.OuCalcFormulaEditorI18n.FORMULA_GENERATE_BTN,"ffOuCalcNLGenerateBtn",e.UiLambdaPressListener.create(e=>{this.m_onGenerationPressConsumers.accept(this.m_nLTxtArea.getValue())}));this.m_nLTxtArea=this.m_NLFSection.addNewItemOfType(e.UiType.TEXT_AREA);this.m_nLTxtArea.addCssClass("ffOuCalcNLTextArea");this.m_nLTxtArea.setGrowing(true);this.m_nLTxtArea.setPlaceholder(this.getLocalization().getText(e.OuCalcFormulaEditorI18n.FORMULA_NL_AREA_PLACEHOLDER));i.setLabelFor(this.m_nLTxtArea);this.updateVisibility()};e.OuCalcNaturalLanguageView.prototype.setValue=function(e){this.m_nLTxtArea.setValue(e);this.announceDescriptionUpdated()};e.OuCalcNaturalLanguageView.prototype.setupView=function(){};e.OuCalcNaturalLanguageView.prototype.updateVisibility=function(){this.m_collapseIcon.setIcon(this.m_contentVisible?e.OuCalcNaturalLanguageView.ICON_EXPAND_NAME:e.OuCalcNaturalLanguageView.ICON_COLLAPSE_NAME);this.m_nLTxtArea.setVisible(this.m_contentVisible);this.m_generateBtn.setVisible(this.m_contentVisible);if(!this.m_contentVisible){this.m_NLFSection.addCssClass(e.OuCalcNaturalLanguageView.COLLAPSED_CSS_CLASS)}else{this.m_NLFSection.removeCssClass(e.OuCalcNaturalLanguageView.COLLAPSED_CSS_CLASS)}};e.OuDataProviderOlapUiActionsCollection=function(){};e.OuDataProviderOlapUiActionsCollection.prototype=new e.DfOuDataProviderActionsCollection;e.OuDataProviderOlapUiActionsCollection.prototype._ff_c="OuDataProviderOlapUiActionsCollection";e.OuDataProviderOlapUiActionsCollection.NAME="OlapUiActions";e.OuDataProviderOlapUiActionsCollection.getOlapUiActions=function(t){return t.getActions().getActionCollectionByName(e.OuDataProviderOlapUiActionsCollection.NAME)};e.OuDataProviderOlapUiActionsCollection.prototype.m_variableDialogAction=null;e.OuDataProviderOlapUiActionsCollection.prototype.getName=function(){return e.OuDataProviderOlapUiActionsCollection.NAME};e.OuDataProviderOlapUiActionsCollection.prototype.openVariableDialog=function(e,t){return this.m_variableDialogAction.executeTyped(e,t)};e.OuDataProviderOlapUiActionsCollection.prototype.releaseObject=function(){this.m_variableDialogAction=e.XObjectExt.release(this.m_variableDialogAction);e.DfOuDataProviderActionsCollection.prototype.releaseObject.call(this)};e.OuDataProviderOlapUiActionsCollection.prototype.setupCollection=function(t){e.DfOuDataProviderActionsCollection.prototype.setupCollection.call(this,t);this.m_variableDialogAction=this.addAction(e.OuDataProviderVariableDialogAction.create(this.getActions()))};e.OuCalcCalculationsDialogI18n=function(){};e.OuCalcCalculationsDialogI18n.prototype=new e.DfXLocalizationProvider;e.OuCalcCalculationsDialogI18n.prototype._ff_c="OuCalcCalculationsDialogI18n";e.OuCalcCalculationsDialogI18n.DIALOG_TITLE_CREATE="FF_CALCULATIONS_DIALOG_TITLE_CREATE";e.OuCalcCalculationsDialogI18n.DIALOG_TITLE_DEFAULT="FF_CALCULATIONS_DIALOG_TITLE";e.OuCalcCalculationsDialogI18n.DIALOG_TITLE_EDIT="FF_CALCULATIONS_DIALOG_TITLE_EDIT";e.OuCalcCalculationsDialogI18n.DIALOG_TOOLBAR_MAXIMIZE="FF_CALCULATIONS_DIALOG_TOOLBAR_MAXIMIZE";e.OuCalcCalculationsDialogI18n.staticSetup=function(){let t=new e.OuCalcCalculationsDialogI18n;t.setupProvider(e.OuCalcCalculationsDialog.DEFAULT_PROGRAM_NAME,true);t.addTextWithComment(e.OuCalcCalculationsDialogI18n.DIALOG_TOOLBAR_MAXIMIZE,"Maximize","#XTOL: Tooltip shown on maximize button");t.addTextWithComment(e.OuCalcCalculationsDialogI18n.DIALOG_TITLE_DEFAULT,"Calculation Editor","#XTIT: The title of the dialog");t.addTextWithComment(e.OuCalcCalculationsDialogI18n.DIALOG_TITLE_CREATE,"Create Calculation","#XTIT: The title of the dialog when opened on Calculation creation");t.addTextWithComment(e.OuCalcCalculationsDialogI18n.DIALOG_TITLE_EDIT,"Edit Calculation","#XTIT: The title of the dialog when opened on Calculation edit");return t};e.OuCalcDatasourceHandler=function(){};e.OuCalcDatasourceHandler.prototype=new e.OuCalcAbstractDatasourceHandler;e.OuCalcDatasourceHandler.prototype._ff_c="OuCalcDatasourceHandler";e.OuCalcDatasourceHandler.create=function(t,i){let o=new e.OuCalcDatasourceHandler;o.setupInternal(t,i);return o};e.OuCalcDatasourceHandler.createPromise=function(t,i){let o=new e.OuCalcDatasourceHandler;return o.setupInternalPromise(t,i)};e.OuCalcDatasourceHandler.prototype.getDatasource=function(){return e.notNull(this.m_datasource)?this.m_datasource:e.FeDatasourceMetadataProvider.create(this.m_queryModel,this.m_calcStructure)};e.OuCalcDatasourceHandler.prototype.getDatasourcePromise=function(){if(e.notNull(this.m_datasource)){return e.XPromise.resolve(this.m_datasource)}else{return e.FeDatasourceMetadataProvider.createPromise(this.m_queryModel,this.m_calcStructure)}};e.OuCalcDatasourceHandlerBW=function(){};e.OuCalcDatasourceHandlerBW.prototype=new e.OuCalcAbstractDatasourceHandler;e.OuCalcDatasourceHandlerBW.prototype._ff_c="OuCalcDatasourceHandlerBW";e.OuCalcDatasourceHandlerBW.create=function(t,i){let o=new e.OuCalcDatasourceHandlerBW;o.setupInternal(t,i);e.XObjectExt.assertTrueExt(t.getSystemType().isTypeOf(e.SystemType.BW),"This provider only supports BW");return o};e.OuCalcDatasourceHandlerBW.createPromise=function(t,i){let o=new e.OuCalcDatasourceHandlerBW;e.XObjectExt.assertTrueExt(t.getSystemType().isTypeOf(e.SystemType.BW),"This provider only supports BW");return o.setupInternalPromise(t,i)};e.OuCalcDatasourceHandlerBW.prototype.getDatasource=function(){return e.notNull(this.m_datasource)?this.m_datasource:e.FeDatasourceMetadataProviderBW.create(this.m_queryModel,this.m_calcStructure)};e.OuCalcDatasourceHandlerBW.prototype.getDatasourcePromise=function(){if(e.notNull(this.m_datasource)){return e.XPromise.resolve(this.m_datasource)}else{return e.FeDatasourceMetadataProviderBW.createPromise(this.m_queryModel,this.m_calcStructure)}};e.OuCalcDatasourceHandlerModelAccount=function(){};e.OuCalcDatasourceHandlerModelAccount.prototype=new e.OuCalcAbstractDatasourceHandler;e.OuCalcDatasourceHandlerModelAccount.prototype._ff_c="OuCalcDatasourceHandlerModelAccount";e.OuCalcDatasourceHandlerModelAccount.create=function(t,i){let o=new e.OuCalcDatasourceHandlerModelAccount;o.setupInternal(t,i);e.XObjectExt.assertTrueExt(i.getDimensionType().isEqualTo(e.DimensionType.ACCOUNT),"This provider only support account structures");return o};e.OuCalcDatasourceHandlerModelAccount.createPromise=function(t,i){let o=new e.OuCalcDatasourceHandlerModelAccount;e.XObjectExt.assertTrueExt(i.getDimensionType().isEqualTo(e.DimensionType.ACCOUNT),"This provider only support account structures");return o.setupInternalPromise(t,i)};e.OuCalcDatasourceHandlerModelAccount.prototype.createCalculationInternal=function(t,i,o,n,a){let r=e.OuCalcAbstractDatasourceHandler.prototype.createCalculationInternal.call(this,t,i,o,n,a);r.setAliasName(t);this.m_calcStructure.assignPlaceholderIdByAlias(this.m_calcStructure.getNextFreePlaceholderId(),r.getAliasName());let l=this.m_restrictedMeasures.getIterator();while(l.hasNext()){let e=l.next();e.setAutoSignFlip(true);e.setAliasName(e.getName());this.m_calcStructure.assignPlaceholderIdByAlias(this.m_calcStructure.getNextFreePlaceholderId(),e.getName())}r.setAutoSignFlip(true);return r};e.OuCalcDatasourceHandlerModelAccount.prototype.getDatasource=function(){return e.notNull(this.m_datasource)?this.m_datasource:e.FeDatasourceMetadataProviderModelAccount.create(this.m_queryModel,this.m_calcStructure)};e.OuCalcDatasourceHandlerModelAccount.prototype.getDatasourcePromise=function(){if(e.notNull(this.m_datasource)){return e.XPromise.resolve(this.m_datasource)}else{return e.FeDatasourceMetadataProviderModelAccount.createPromise(this.m_queryModel,this.m_calcStructure)}};e.OuCalcDatasourceHandlerModelMeasure=function(){};e.OuCalcDatasourceHandlerModelMeasure.prototype=new e.OuCalcAbstractDatasourceHandler;e.OuCalcDatasourceHandlerModelMeasure.prototype._ff_c="OuCalcDatasourceHandlerModelMeasure";e.OuCalcDatasourceHandlerModelMeasure.create=function(t,i){let o=new e.OuCalcDatasourceHandlerModelMeasure;o.setupInternal(t,i);e.XObjectExt.assertTrue(t.hasUserDefinedMeasures());e.XObjectExt.assertTrueExt(!i.getDimensionType().isEqualTo(e.DimensionType.ACCOUNT),"This provider handles the measures structure in acquired models");return o};e.OuCalcDatasourceHandlerModelMeasure.createPromise=function(t,i){let o=new e.OuCalcDatasourceHandlerModelMeasure;e.XObjectExt.assertTrue(t.hasUserDefinedMeasures());e.XObjectExt.assertTrueExt(!i.getDimensionType().isEqualTo(e.DimensionType.ACCOUNT),"This provider handles the measures structure in acquired models");return o.setupInternalPromise(t,i)};e.OuCalcDatasourceHandlerModelMeasure.prototype.createCalculationInternal=function(t,i,o,n,a){let r=e.OuCalcAbstractDatasourceHandler.prototype.createCalculationInternal.call(this,t,i,o,n,a);let l=this.m_restrictedMeasures.getIterator();while(l.hasNext()){let e=l.next();e.setAutoSignFlip(true)}r.setAutoSignFlip(true);return r};e.OuCalcDatasourceHandlerModelMeasure.prototype.getDatasource=function(){return e.notNull(this.m_datasource)?this.m_datasource:e.FeDatasourceMetadataProviderModelMeasure.create(this.m_queryModel,this.m_calcStructure)};e.OuCalcDatasourceHandlerModelMeasure.prototype.getDatasourcePromise=function(){if(e.notNull(this.m_datasource)){return e.XPromise.resolve(this.m_datasource)}else{return e.FeDatasourceMetadataProviderModelMeasure.createPromise(this.m_queryModel,this.m_calcStructure)}};e.OuCalcCalculationsDialogView=function(){};e.OuCalcCalculationsDialogView.prototype=new e.DfUiView;e.OuCalcCalculationsDialogView.prototype._ff_c="OuCalcCalculationsDialogView";e.OuCalcCalculationsDialogView.create=function(t,i,o,n){let a=new e.OuCalcCalculationsDialogView;a.m_leftPanelWidth=t;a.m_rightPanelWidth=i;a.m_isRightPanelInitialCollapsed=o;a.m_preferences=e.notNull(n)?n:e.FePreferences.createDefault();return a};e.OuCalcCalculationsDialogView.prototype.m_assistancePanelArea=null;e.OuCalcCalculationsDialogView.prototype.m_centralPanelSplitterItem=null;e.OuCalcCalculationsDialogView.prototype.m_codeEditorArea=null;e.OuCalcCalculationsDialogView.prototype.m_detailsArea=null;e.OuCalcCalculationsDialogView.prototype.m_formulaItemListArea=null;e.OuCalcCalculationsDialogView.prototype.m_isRightPanelInitialCollapsed=false;e.OuCalcCalculationsDialogView.prototype.m_leftPanelSplitterItem=null;e.OuCalcCalculationsDialogView.prototype.m_leftPanelWidth=null;e.OuCalcCalculationsDialogView.prototype.m_mainSplitter=null;e.OuCalcCalculationsDialogView.prototype.m_preferences=null;e.OuCalcCalculationsDialogView.prototype.m_rightPanelSplitterItem=null;e.OuCalcCalculationsDialogView.prototype.m_rightPanelWidth=null;e.OuCalcCalculationsDialogView.prototype.m_rightSplitter=null;e.OuCalcCalculationsDialogView.prototype.m_rightSplitterItem=null;e.OuCalcCalculationsDialogView.prototype.addItemToSplitter=function(e,t){let i=e.addNewItem();i.setContent(t);return i};e.OuCalcCalculationsDialogView.prototype.createBottomLayout=function(){this.m_mainSplitter=this.getGenesis().newControl(e.UiType.INTERACTIVE_SPLITTER);this.m_mainSplitter.setOrientation(e.UiOrientation.HORIZONTAL);this.m_mainSplitter.addCssClass(e.OuCalcCalculationsDialogViewConstants.LAYOUT_BOTTOM_CSS_CLASS);this.m_mainSplitter.setEnableReordering(false);this.m_leftPanelSplitterItem=this.addItemToSplitter(this.m_mainSplitter,this.m_formulaItemListArea);this.m_leftPanelSplitterItem.addCssClass(e.OuCalcCalculationsDialogViewConstants.PANEL_ITEM_LEFT_CSS_CLASS);this.m_rightSplitter=this.getGenesis().newControl(e.UiType.INTERACTIVE_SPLITTER);this.m_rightSplitter.setOrientation(e.UiOrientation.HORIZONTAL);this.m_rightSplitter.addCssClass(e.OuCalcCalculationsDialogViewConstants.LAYOUT_BOTTOM_CSS_CLASS);this.m_rightSplitter.setEnableReordering(false);this.m_rightSplitterItem=this.addItemToSplitter(this.m_mainSplitter,this.m_rightSplitter);let t=this.getGenesis().newControl(e.UiType.FLEX_LAYOUT);t.setDirection(e.UiFlexDirection.COLUMN);t.addItem(this.m_codeEditorArea);this.m_centralPanelSplitterItem=this.addItemToSplitter(this.m_rightSplitter,t);this.m_centralPanelSplitterItem.addCssClass(e.OuCalcCalculationsDialogViewConstants.PANEL_ITEM_CENTRAL_CSS_CLASS);this.m_rightPanelSplitterItem=this.addItemToSplitter(this.m_rightSplitter,this.m_assistancePanelArea);this.m_rightPanelSplitterItem.addCssClass(e.OuCalcCalculationsDialogViewConstants.PANEL_ITEM_RIGHT_CSS_CLASS);return this.m_mainSplitter};e.OuCalcCalculationsDialogView.prototype.createContentWrapper=function(t){let i=this.getGenesis().newControl(e.UiType.CONTENT_WRAPPER);i.useMaxSpace();i.addCssClass(t);return i};e.OuCalcCalculationsDialogView.prototype.destroyView=function(){this.m_mainSplitter=null;this.m_leftPanelSplitterItem=null;this.m_rightPanelSplitterItem=null;this.m_centralPanelSplitterItem=null;this.m_detailsArea=null;this.m_codeEditorArea=null;this.m_assistancePanelArea=null;this.m_formulaItemListArea=null;this.m_preferences=null};e.OuCalcCalculationsDialogView.prototype.getContentWrapperMap=function(){let t=e.XSimpleMap.create();if(this.m_preferences.isDetailsEnabled()){t.put(e.OuCalcUiComponent.DETAILS_PANEL,this.m_detailsArea)}t.put(e.OuCalcUiComponent.CODE_EDITOR,this.m_codeEditorArea);t.put(e.OuCalcUiComponent.ASSISTANCE_PANEL,this.m_assistancePanelArea);t.put(e.OuCalcUiComponent.FORMULA_ELEMENTS_PANEL,this.m_formulaItemListArea);return t};e.OuCalcCalculationsDialogView.prototype.getViewControl=function(t){let i=t.newControl(e.UiType.FLEX_LAYOUT);i.setDirection(e.UiFlexDirection.COLUMN);i.addCssClass(e.OuCalcCalculationsDialogViewConstants.CALCULATION_DIALOG_V2_CSS_CLASS);i.addCssClass(e.OuCalcCalculationsDialogViewConstants.MAIN_LAYOUT_CSS_CLASS);return i};e.OuCalcCalculationsDialogView.prototype.layoutView=function(t){if(this.m_preferences.isDetailsEnabled()){this.m_detailsArea=this.createContentWrapper(e.OuCalcCalculationsDialogViewConstants.DETAILS_AREA_CSS_CLASS)}this.m_codeEditorArea=this.createContentWrapper(e.OuCalcCalculationsDialogViewConstants.CODE_EDITOR_AREA_CSS_CLASS);this.m_assistancePanelArea=this.createContentWrapper(e.OuCalcCalculationsDialogViewConstants.ASSISTANCE_PANEL_AREA_CSS_CLASS);this.m_formulaItemListArea=this.createContentWrapper(e.OuCalcCalculationsDialogViewConstants.FORMULA_ITEM_LIST_AREA_CSS_CLASS);if(this.m_preferences.isDetailsEnabled()){let i=t.addNewItemOfType(e.UiType.FLEX_LAYOUT);i.addCssClass(e.OuCalcCalculationsDialogViewConstants.LAYOUT_TOP_CSS_CLASS);i.addItem(this.m_detailsArea)}t.addItem(this.createBottomLayout());this.m_leftPanelSplitterItem.setWidth(e.UiCssLength.create(this.m_leftPanelWidth));this.m_rightPanelSplitterItem.setWidth(e.UiCssLength.create(this.m_rightPanelWidth));this.setRightPanelCollapsed(this.m_isRightPanelInitialCollapsed)};e.OuCalcCalculationsDialogView.prototype.onCalculationUiEvents=function(t,i){if(e.XString.isEqual(t,e.OuCalcFormulaElementListPlugin.FE_NOTIFICATION_ITEM_LIST_PANEL_COLLAPSED)){let e=i;this.setLeftPanelCollapsed(e.getBoolean())}else if(e.XString.isEqual(t,e.OuCalcAssistancePluginV2.FE_NOTIFICATION_ASSISTANCE_PANEL_COLLAPSED)){let e=i;this.setRightPanelCollapsed(e.getBoolean())}};e.OuCalcCalculationsDialogView.prototype.resetBottomRightSplitterWidth=function(){this.m_rightSplitterItem.setWidth(null)};e.OuCalcCalculationsDialogView.prototype.resetCentralSplitterWidth=function(){this.m_centralPanelSplitterItem.setWidth(null)};e.OuCalcCalculationsDialogView.prototype.setLeftPanelCollapsed=function(t){if(t){this.m_leftPanelSplitterItem.addCssClass(e.OuCalcCalculationsDialogViewConstants.COLLAPSED_CSS_CLASS);this.m_mainSplitter.hideResizerAtIndex(0);this.resetBottomRightSplitterWidth()}else{this.m_leftPanelSplitterItem.removeCssClass(e.OuCalcCalculationsDialogViewConstants.COLLAPSED_CSS_CLASS);this.m_mainSplitter.showResizerAtIndex(0)}};e.OuCalcCalculationsDialogView.prototype.setRightPanelCollapsed=function(t){if(t){this.m_rightSplitter.hideResizerAtIndex(0);this.m_rightPanelSplitterItem.addCssClass(e.OuCalcCalculationsDialogViewConstants.COLLAPSED_CSS_CLASS);this.resetBottomRightSplitterWidth();this.resetCentralSplitterWidth()}else{this.m_rightPanelSplitterItem.removeCssClass(e.OuCalcCalculationsDialogViewConstants.COLLAPSED_CSS_CLASS);this.m_rightSplitter.showResizerAtIndex(0)}};e.OuCalcCalculationsDialogView.prototype.setupView=function(){};e.OuCalcCalculationsDialogViewOld=function(){};e.OuCalcCalculationsDialogViewOld.prototype=new e.DfUiView;e.OuCalcCalculationsDialogViewOld.prototype._ff_c="OuCalcCalculationsDialogViewOld";e.OuCalcCalculationsDialogViewOld.create=function(){return new e.OuCalcCalculationsDialogViewOld};e.OuCalcCalculationsDialogViewOld.prototype.m_assistancePanelArea=null;e.OuCalcCalculationsDialogViewOld.prototype.m_assistancePanelAreaSplitterItem=null;e.OuCalcCalculationsDialogViewOld.prototype.m_bottomRightSplitter=null;e.OuCalcCalculationsDialogViewOld.prototype.m_bottomSplitter=null;e.OuCalcCalculationsDialogViewOld.prototype.m_codeEditorArea=null;e.OuCalcCalculationsDialogViewOld.prototype.m_codeEditorAreaSplitterItem=null;e.OuCalcCalculationsDialogViewOld.prototype.m_detailsArea=null;e.OuCalcCalculationsDialogViewOld.prototype.m_formulaItemListArea=null;e.OuCalcCalculationsDialogViewOld.prototype.m_leftPanelAreaSplitterItem=null;e.OuCalcCalculationsDialogViewOld.prototype.m_rightPanelAreaSplitterItem=null;e.OuCalcCalculationsDialogViewOld.prototype.addItemToSplitter=function(e,t){let i=e.addNewItem();i.setContent(t);return i};e.OuCalcCalculationsDialogViewOld.prototype.createBottomLayout=function(t,i,o){this.m_bottomSplitter=this.getGenesis().newControl(e.UiType.INTERACTIVE_SPLITTER);this.m_bottomSplitter.setOrientation(e.UiOrientation.HORIZONTAL);this.m_bottomSplitter.addCssClass(e.OuCalcCalculationsDialogViewConstants.LAYOUT_BOTTOM_CSS_CLASS);this.m_bottomSplitter.setEnableReordering(false);this.m_bottomRightSplitter=this.getGenesis().newControl(e.UiType.INTERACTIVE_SPLITTER);this.m_bottomRightSplitter.setOrientation(e.UiOrientation.VERTICAL);this.m_bottomRightSplitter.addCssClass(e.OuCalcCalculationsDialogViewConstants.LAYOUT_BOTTOM_RIGHT_CSS_CLASS);this.m_bottomRightSplitter.setEnableReordering(false);this.m_codeEditorAreaSplitterItem=this.addItemToSplitter(this.m_bottomRightSplitter,t);this.m_codeEditorAreaSplitterItem.addCssClass(e.OuCalcCalculationsDialogViewConstants.PANEL_ITEM_EDITOR_CSS_CLASS);i.addCssClass(e.OuCalcCalculationsDialogViewConstants.ASSISTANCE_PANEL_AREA_CSS_CLASS);this.m_assistancePanelAreaSplitterItem=this.addItemToSplitter(this.m_bottomRightSplitter,i);this.m_assistancePanelAreaSplitterItem.addCssClass(e.OuCalcCalculationsDialogViewConstants.PANEL_ITEM_ASSISTANCE_CSS_CLASS);this.m_assistancePanelAreaSplitterItem.setMinHeight(e.UiCssLength.create(e.OuCalcCalculationsDialogViewConstants.PANEL_ITEM_ASSISTANCE_MIN_HEIGHT));this.m_leftPanelAreaSplitterItem=this.addItemToSplitter(this.m_bottomSplitter,o);this.m_leftPanelAreaSplitterItem.addCssClass(e.OuCalcCalculationsDialogViewConstants.PANEL_ITEM_LEFT_CSS_CLASS);this.m_leftPanelAreaSplitterItem.setMinWidth(e.UiCssLength.create(e.OuCalcCalculationsDialogViewConstants.V1_PANEL_ITEM_LEFT_MIN_WIDTH));this.m_leftPanelAreaSplitterItem.setMaxWidth(e.UiCssLength.create(e.OuCalcCalculationsDialogViewConstants.V1_PANEL_ITEM_LEFT_MAX_WIDTH));this.m_rightPanelAreaSplitterItem=this.addItemToSplitter(this.m_bottomSplitter,this.m_bottomRightSplitter);this.m_rightPanelAreaSplitterItem.addCssClass(e.OuCalcCalculationsDialogViewConstants.PANEL_ITEM_RIGHT_CSS_CLASS);return this.m_bottomSplitter};e.OuCalcCalculationsDialogViewOld.prototype.createContentWrapper=function(t){let i=this.getGenesis().newControl(e.UiType.CONTENT_WRAPPER);i.useMaxSpace();i.addCssClass(t);return i};e.OuCalcCalculationsDialogViewOld.prototype.destroyView=function(){this.m_bottomSplitter=null;this.m_bottomRightSplitter=null;this.m_leftPanelAreaSplitterItem=null;this.m_assistancePanelAreaSplitterItem=null;this.m_codeEditorAreaSplitterItem=null;this.m_rightPanelAreaSplitterItem=null;this.m_detailsArea=null;this.m_codeEditorArea=null;this.m_assistancePanelArea=null;this.m_formulaItemListArea=null};e.OuCalcCalculationsDialogViewOld.prototype.getContentWrapperMap=function(){let t=e.XSimpleMap.create();t.put(e.OuCalcUiComponent.DETAILS_PANEL,this.m_detailsArea);t.put(e.OuCalcUiComponent.CODE_EDITOR,this.m_codeEditorArea);t.put(e.OuCalcUiComponent.ASSISTANCE_PANEL,this.m_assistancePanelArea);t.put(e.OuCalcUiComponent.FORMULA_ELEMENTS_PANEL,this.m_formulaItemListArea);return t};e.OuCalcCalculationsDialogViewOld.prototype.getViewControl=function(t){let i=t.newControl(e.UiType.FLEX_LAYOUT);i.setDirection(e.UiFlexDirection.COLUMN);i.addCssClass(e.OuCalcCalculationsDialogViewConstants.CALCULATION_DIALOG_V1_CSS_CLASS);i.addCssClass(e.OuCalcCalculationsDialogViewConstants.MAIN_LAYOUT_CSS_CLASS);return i};e.OuCalcCalculationsDialogViewOld.prototype.layoutView=function(t){this.m_detailsArea=this.createContentWrapper(e.OuCalcCalculationsDialogViewConstants.DETAILS_AREA_CSS_CLASS);this.m_codeEditorArea=this.createContentWrapper(e.OuCalcCalculationsDialogViewConstants.CODE_EDITOR_AREA_CSS_CLASS);this.m_assistancePanelArea=this.createContentWrapper(e.OuCalcCalculationsDialogViewConstants.ASSISTANCE_PANEL_AREA_CSS_CLASS);this.m_formulaItemListArea=this.createContentWrapper(e.OuCalcCalculationsDialogViewConstants.FORMULA_ITEM_LIST_AREA_CSS_CLASS);let i=t.addNewItemOfType(e.UiType.FLEX_LAYOUT);i.setDirection(e.UiFlexDirection.ROW);i.addCssClass(e.OuCalcCalculationsDialogViewConstants.LAYOUT_TOP_CSS_CLASS);i.addItem(this.m_detailsArea);t.addItem(this.createBottomLayout(this.m_codeEditorArea,this.m_assistancePanelArea,this.m_formulaItemListArea))};e.OuCalcCalculationsDialogViewOld.prototype.onCalculationUiEvents=function(t,i){if(e.XString.isEqual(t,e.OuCalcFormulaElementListPlugin.FE_NOTIFICATION_ITEM_LIST_PANEL_COLLAPSED)){let e=i;this.setLeftPanelCollapsed(e.getBoolean())}else if(e.XString.isEqual(t,e.OuCalcAssistancePlugin.FE_NOTIFICATION_ASSISTANCE_PANEL_COLLAPSED)){let e=i;this.setAssistancePanelCollapsed(e.getBoolean())}else if(e.XString.isEqual(t,e.OuCalcAssistancePlugin.FE_NOTIFICATION_ASSISTANCE_PANEL_OPENED)){this.setAssistancePanelCollapsed(false)}};e.OuCalcCalculationsDialogViewOld.prototype.setAssistancePanelCollapsed=function(t){if(t){this.m_bottomRightSplitter.hideResizerAtIndex(0);this.m_assistancePanelAreaSplitterItem.addCssClass(e.OuCalcCalculationsDialogViewConstants.COLLAPSED_CSS_CLASS)}else{this.m_bottomRightSplitter.showResizerAtIndex(0);this.m_assistancePanelAreaSplitterItem.removeCssClass(e.OuCalcCalculationsDialogViewConstants.COLLAPSED_CSS_CLASS)}};e.OuCalcCalculationsDialogViewOld.prototype.setLeftPanelCollapsed=function(t){if(t){this.m_bottomSplitter.hideResizerAtIndex(0);this.m_leftPanelAreaSplitterItem.addCssClass(e.OuCalcCalculationsDialogViewConstants.COLLAPSED_CSS_CLASS);this.m_rightPanelAreaSplitterItem.addCssClass(e.OuCalcCalculationsDialogViewConstants.FULLSPACE_CSS_CLASS)}else{this.m_bottomSplitter.showResizerAtIndex(0);this.m_leftPanelAreaSplitterItem.removeCssClass(e.OuCalcCalculationsDialogViewConstants.COLLAPSED_CSS_CLASS);this.m_rightPanelAreaSplitterItem.removeCssClass(e.OuCalcCalculationsDialogViewConstants.FULLSPACE_CSS_CLASS)}};e.OuCalcCalculationsDialogViewOld.prototype.setupView=function(){};e.CatalogDialogI18n=function(){};e.CatalogDialogI18n.prototype=new e.DfXLocalizationProvider;e.CatalogDialogI18n.prototype._ff_c="CatalogDialogI18n";e.CatalogDialogI18n.I18N_CD_DATE="I18N_CD_DATE";e.CatalogDialogI18n.I18N_CD_HIERARCHY="I18N_CD_HIERARCHY";e.CatalogDialogI18n.I18N_CD_KEY="I18N_CD_KEY";e.CatalogDialogI18n.I18N_CD_OBJECT_VERSION="I18N_CD_OBJECT_VERSION";e.CatalogDialogI18n.I18N_CD_SEARCH="I18N_CD_SEARCH";e.CatalogDialogI18n.I18N_CD_TEXT="I18N_CD_TEXT";e.CatalogDialogI18n.I18N_CD_VERSION="I18N_CD_VERSION";e.CatalogDialogI18n.LOCA_NAME="CatalogDialogI18n";e.CatalogDialogI18n.getLocalization=function(){return e.XLocalizationCenter.getCenter().getLocalizationProviderByName(e.CatalogDialogI18n.LOCA_NAME)};e.CatalogDialogI18n.staticSetup=function(){let t=new e.CatalogDialogI18n;t.setupProvider(e.CatalogDialogI18n.LOCA_NAME,false);t.addText(e.CatalogDialogI18n.I18N_CD_SEARCH,"Search");t.addText(e.CatalogDialogI18n.I18N_CD_HIERARCHY,"Hierarchy");t.addText(e.CatalogDialogI18n.I18N_CD_VERSION,"Version");t.addText(e.CatalogDialogI18n.I18N_CD_OBJECT_VERSION,"Object Version");t.addText(e.CatalogDialogI18n.I18N_CD_DATE,"Date");t.addText(e.CatalogDialogI18n.I18N_CD_KEY,"Technical Name");t.addText(e.CatalogDialogI18n.I18N_CD_TEXT,"Description");return t};e.CurrencyCatalogController=function(){};e.CurrencyCatalogController.prototype=new e.AbstractCatalogController;e.CurrencyCatalogController.prototype._ff_c="CurrencyCatalogController";e.CurrencyCatalogController.create=function(t){let i=new e.CurrencyCatalogController;i.m_context=t;return i};e.CurrencyCatalogController.prototype.addItemToSelectionList=function(e,t){let i=e.addNewRow().setName(t.getCurrencyKey()).setCustomObject(t);let o=i.addNewCell();o.setText(t.getCurrencyKey()).setCustomObject(t);o=i.addNewCell();o.setText(t.getCurrencyText()).setCustomObject(t)};e.CurrencyTranslationCatalogController=function(){};e.CurrencyTranslationCatalogController.prototype=new e.AbstractCatalogController;e.CurrencyTranslationCatalogController.prototype._ff_c="CurrencyTranslationCatalogController";e.CurrencyTranslationCatalogController.create=function(t){let i=new e.CurrencyTranslationCatalogController;i.m_context=t;return i};e.CurrencyTranslationCatalogController.prototype.addItemToSelectionList=function(e,t){let i=e.addNewRow().setName(t.getCurrencyKey()).setCustomObject(t);let o=i.addNewCell();o.setText(t.getCurrencyTranslationNameKey()).setCustomObject(t);o=i.addNewCell();o.setText(t.getCurrencyTranslationNameText()).setCustomObject(t);o=i.addNewCell();o.setText(t.getCurrencyTargetKey()).setCustomObject(t)};e.ClipboardDialogI18n=function(){};e.ClipboardDialogI18n.prototype=new e.DfXLocalizationProvider;e.ClipboardDialogI18n.prototype._ff_c="ClipboardDialogI18n";e.ClipboardDialogI18n.I18N_CB_CLIPBOARD="FIREFLY_DIALOGS_CLIPBOARD";e.ClipboardDialogI18n.staticSetup=function(){let t=new e.ClipboardDialogI18n;t.setupProvider(e.CbController.COMPONENT_NAME,true);t.addComment(e.ClipboardDialogI18n.I18N_CB_CLIPBOARD,"#XMSG: Title text of the clipboard dialog used in the variable dialog");t.addText(e.ClipboardDialogI18n.I18N_CB_CLIPBOARD,"Clipboard");return t};e.OuCurrencyConversionDialogI18n=function(){};e.OuCurrencyConversionDialogI18n.prototype=new e.DfXLocalizationProvider;e.OuCurrencyConversionDialogI18n.prototype._ff_c="OuCurrencyConversionDialogI18n";e.OuCurrencyConversionDialogI18n.TARGET_CURRENCY_LABEL="FF_CURR_DIALOG_TARGET_CURRENCY_LABEL";e.OuCurrencyConversionDialogI18n.TARGET_DROPDOWN_DEFAULT_VALUE="FF_CURR_DIALOG_TARGET_DROPDOWN_DEFAULT_VALUE";e.OuCurrencyConversionDialogI18n.TARGET_DROPDOWN_VALUE="FF_CURR_DIALOG_TARGET_DROPDOWN_VALUE";e.OuCurrencyConversionDialogI18n.TITLE="FF_CURR_DIALOG_TITLE";e.OuCurrencyConversionDialogI18n.TOAST_ERROR_TRANSLATION_NOT_ENABLED="FF_CURR_DIALOG_TOAST_ERROR_TRANSLATION_NOT_ENABLED";e.OuCurrencyConversionDialogI18n.TOAST_ERROR_TRANSLATION_NOT_SUPPORTED="FF_CURR_DIALOG_TOAST_ERROR_TRANSLATION_NOT_SUPPORTED";e.OuCurrencyConversionDialogI18n.TRANSLATION_TYPE_LABEL="FF_CURR_DIALOG_TRANSLATION_TYPE_LABEL";e.OuCurrencyConversionDialogI18n.TYPE_DROPDOWN_DEFAULT_VALUE="FF_CURR_DIALOG_TYPE_DROPDOWN_DEFAULT_VALUE";e.OuCurrencyConversionDialogI18n.staticSetup=function(){let t=new e.OuCurrencyConversionDialogI18n;t.setupProvider(e.OuCurrencyConversionDialog.DEFAULT_PROGRAM_NAME,true);t.addText(e.OuCurrencyConversionDialogI18n.TITLE,"Select Conversions");t.addComment(e.OuCurrencyConversionDialogI18n.TITLE,"#XTIT: Title of the currency conversion dialog");t.addText(e.OuCurrencyConversionDialogI18n.TARGET_CURRENCY_LABEL,"Target Currency");t.addComment(e.OuCurrencyConversionDialogI18n.TARGET_CURRENCY_LABEL,"#XFLD: Label for the first dropdown field. The target currency");t.addText(e.OuCurrencyConversionDialogI18n.TRANSLATION_TYPE_LABEL,"Currency Translation Type");t.addComment(e.OuCurrencyConversionDialogI18n.TRANSLATION_TYPE_LABEL,"#XFLD: Label for the second dropdown field. The translation type is the rule set up to deal with currency conversion");t.addText(e.OuCurrencyConversionDialogI18n.TARGET_DROPDOWN_DEFAULT_VALUE,"Display Original Currency");t.addComment(e.OuCurrencyConversionDialogI18n.TARGET_DROPDOWN_DEFAULT_VALUE,"#XSEL: Default dropdown value for target currency indicating no currency conversion is being done");t.addText(e.OuCurrencyConversionDialogI18n.TYPE_DROPDOWN_DEFAULT_VALUE,"No Conversion");t.addComment(e.OuCurrencyConversionDialogI18n.TYPE_DROPDOWN_DEFAULT_VALUE,"#XSEL: Default dropdown value for translation type indicating no currency conversion is being done");t.addText(e.OuCurrencyConversionDialogI18n.TARGET_DROPDOWN_VALUE,"{0} | {1}");t.addComment(e.OuCurrencyConversionDialogI18n.TARGET_DROPDOWN_VALUE,"#XSEL: Dropdown value for target currency, with key and description as placeholders");t.addText(e.OuCurrencyConversionDialogI18n.TOAST_ERROR_TRANSLATION_NOT_SUPPORTED,"The query does not support Currency Translation.");t.addComment(e.OuCurrencyConversionDialogI18n.TOAST_ERROR_TRANSLATION_NOT_SUPPORTED,"#XMSG: A toast to say the query does not support currency translation");t.addText(e.OuCurrencyConversionDialogI18n.TOAST_ERROR_TRANSLATION_NOT_ENABLED,"A Currency Translation cannot be applied on this query.");t.addComment(e.OuCurrencyConversionDialogI18n.TOAST_ERROR_TRANSLATION_NOT_ENABLED,"#XMSG: A toast to say the query has currency translation disabled");return t};e.DataCellDialogI18n=function(){};e.DataCellDialogI18n.prototype=new e.DfXLocalizationProvider;e.DataCellDialogI18n.prototype._ff_c="DataCellDialogI18n";e.DataCellDialogI18n.I18N_DCD_CALCULATIONS="I18N_DCD_CALCULATIONS";e.DataCellDialogI18n.I18N_DCD_CLOSE="I18N_DCD_CLOSE";e.DataCellDialogI18n.I18N_DCD_DECIMAL="I18N_DCD_DECIMAL";e.DataCellDialogI18n.I18N_DCD_DECIMAL_0="I18N_DCD_DECIMAL_0";e.DataCellDialogI18n.I18N_DCD_DECIMAL_1="I18N_DCD_DECIMAL_1";e.DataCellDialogI18n.I18N_DCD_DECIMAL_2="I18N_DCD_DECIMAL_2";e.DataCellDialogI18n.I18N_DCD_DECIMAL_3="I18N_DCD_DECIMAL_3";e.DataCellDialogI18n.I18N_DCD_DECIMAL_4="I18N_DCD_DECIMAL_4";e.DataCellDialogI18n.I18N_DCD_DECIMAL_5="I18N_DCD_DECIMAL_5";e.DataCellDialogI18n.I18N_DCD_DECIMAL_6="I18N_DCD_DECIMAL_6";e.DataCellDialogI18n.I18N_DCD_DECIMAL_7="I18N_DCD_DECIMAL_7";e.DataCellDialogI18n.I18N_DCD_DECIMAL_8="I18N_DCD_DECIMAL_8";e.DataCellDialogI18n.I18N_DCD_DECIMAL_9="I18N_DCD_DECIMAL_9";e.DataCellDialogI18n.I18N_DCD_DEFAULT_TO_METATA="I18N_DCD_DEFAULT_TO_METATA";e.DataCellDialogI18n.I18N_DCD_DISAGGREGATION_MODE="I18N_DCD_DISAGGREGATION_MODE";e.DataCellDialogI18n.I18N_DCD_DM_ABS="I18N_DCD_DM_ABS";e.DataCellDialogI18n.I18N_DCD_DM_COPY="I18N_DCD_DM_COPY";e.DataCellDialogI18n.I18N_DCD_DM_DELTA="I18N_DCD_DM_DELTA";e.DataCellDialogI18n.I18N_DCD_DM_NONE="I18N_DCD_DM_NONE";e.DataCellDialogI18n.I18N_DCD_NUMBER_FORMAT="I18N_DCD_NUMBER_FORMAT";e.DataCellDialogI18n.I18N_DCD_PROPERTIES="I18N_DCD_PROPERTIES";e.DataCellDialogI18n.I18N_DCD_RC_AVG_ALL_VALUES="I18N_DCD_RC_AVG_ALL_VALUES";e.DataCellDialogI18n.I18N_DCD_RC_AVG_ALL_VALUES_NOT_ZERO="I18N_DCD_RC_AVG_ALL_VALUES_NOT_ZERO";e.DataCellDialogI18n.I18N_DCD_RC_COUNT_ALL_VALUES="I18N_DCD_RC_COUNT_ALL_VALUES";e.DataCellDialogI18n.I18N_DCD_RC_COUNT_ALL_VALUES_NOT_ZERO="I18N_DCD_RC_COUNT_ALL_VALUES_NOT_ZERO ";e.DataCellDialogI18n.I18N_DCD_RC_FV="I18N_DCD_RC_FV";e.DataCellDialogI18n.I18N_DCD_RC_LV="I18N_DCD_RC_LV";e.DataCellDialogI18n.I18N_DCD_RC_MAX="I18N_DCD_RC_MAX";e.DataCellDialogI18n.I18N_DCD_RC_MIN="I18N_DCD_RC_MIN";e.DataCellDialogI18n.I18N_DCD_RC_SD="I18N_DCD_RC_SD";e.DataCellDialogI18n.I18N_DCD_RC_SUM="I18N_DCD_RC_SUM";e.DataCellDialogI18n.I18N_DCD_RC_SUM_ROUNDED_VALUES="I18N_DCD_RC_SUM_ROUNDED_VALUES";e.DataCellDialogI18n.I18N_DCD_RC_SUPPRESS_RESULT="I18N_DCD_RC_SUPPRESS_RESULT";e.DataCellDialogI18n.I18N_DCD_RC_VARIANCE="I18N_DCD_RC_VARIANCE";e.DataCellDialogI18n.I18N_DCD_RESET_ALL="I18N_DCD_RESET_ALL";e.DataCellDialogI18n.I18N_DCD_RESULT_CALCULATION="I18N_DCD_RESULT_CALCULATION";e.DataCellDialogI18n.I18N_DCD_SCALING="I18N_DCD_SCALING";e.DataCellDialogI18n.I18N_DCD_SCALING_IN_1="I18N_DCD_SCALING_IN_1";e.DataCellDialogI18n.I18N_DCD_SCALING_IN_10="I18N_DCD_SCALING_IN_10";e.DataCellDialogI18n.I18N_DCD_SCALING_IN_100="I18N_DCD_SCALING_IN_100";e.DataCellDialogI18n.I18N_DCD_SCALING_IN_1000="I18N_DCD_SCALING_IN_1000";e.DataCellDialogI18n.I18N_DCD_SCALING_IN_10000="I18N_DCD_SCALING_IN_10000";e.DataCellDialogI18n.I18N_DCD_SCALING_IN_100000="I18N_DCD_SCALING_IN_100000";e.DataCellDialogI18n.I18N_DCD_SCALING_IN_1000000="I18N_DCD_SCALING_IN_1000000";e.DataCellDialogI18n.I18N_DCD_SCALING_IN_10000000="I18N_DCD_SCALING_IN_10000000";e.DataCellDialogI18n.I18N_DCD_SCALING_IN_100000000="I18N_DCD_SCALING_IN_100000000";e.DataCellDialogI18n.I18N_DCD_SCALING_IN_1000000000="I18N_DCD_SCALING_IN_1000000000";e.DataCellDialogI18n.I18N_DCD_SETTINGS_OF="I18N_DCD_SETTINGS_OF";e.DataCellDialogI18n.I18N_DCD_SINGLE_VALUE_CALCULATION="I18N_DCD_SINGLE_VALUE_CALCULATION";e.DataCellDialogI18n.I18N_DCD_SVC_AVG_ALL_VALUES="I18N_DCD_SVC_AVG_ALL_VALUES";e.DataCellDialogI18n.I18N_DCD_SVC_AVG_ALL_VALUES_NOT_ZERO="I18N_DCD_SVC_AVG_ALL_VALUES_NOT_ZERO";e.DataCellDialogI18n.I18N_DCD_SVC_COUNT_ALL_VALUES="I18N_DCD_SVC_COUNT_ALL_VALUES";e.DataCellDialogI18n.I18N_DCD_SVC_COUNT_ALL_VALUES_NOT_ZERO="I18N_DCD_SVC_COUNT_ALL_VALUES_NOT_ZERO ";e.DataCellDialogI18n.I18N_DCD_SVC_MAX="I18N_DCD_SVC_MAX";e.DataCellDialogI18n.I18N_DCD_SVC_MIN="I18N_DCD_SVC_MIN";e.DataCellDialogI18n.I18N_DCD_SVC_NORMALIZATION_OF_OVERALL_RESULT="I18N_DCD_SVC_NORMALIZATION_OF_OVERALL_RESULT";e.DataCellDialogI18n.I18N_DCD_SVC_RANKEDLIST="I18N_DCD_SVC_RANKEDLIST";e.DataCellDialogI18n.I18N_DCD_SVC_RANKEDLIST_OLYMPIC="I18N_DCD_SVC_RANKEDLIST_OLYMPIC";e.DataCellDialogI18n.I18N_DCD_SVC_SUM="I18N_DCD_SVC_SUM";e.DataCellDialogI18n.I18N_DCD_SVC_SUPPRESS_RESULT="I18N_DCD_SVC_SUPPRESS_RESULT";e.DataCellDialogI18n.I18N_DCD_UNDEFINED="I18N_DCD_UNDEFINED";e.DataCellDialogI18n.I18N_DCD_VALUETYPE="I18N_DCD_VALUETYPE";e.DataCellDialogI18n.PROVIDER_NAME="DataCellDialogI18n";e.DataCellDialogI18n.getLocalization=function(){return e.XLocalizationCenter.getCenter().getLocalizationProviderByName(e.DataCellDialogI18n.PROVIDER_NAME)};e.DataCellDialogI18n.staticSetupDcd=function(){let t=new e.DataCellDialogI18n;t.setupProvider(e.DataCellDialogI18n.PROVIDER_NAME,false);t.addText(e.DataCellDialogI18n.I18N_DCD_PROPERTIES,"Properties");t.addText(e.DataCellDialogI18n.I18N_DCD_NUMBER_FORMAT,"Number Format");t.addText(e.DataCellDialogI18n.I18N_DCD_SETTINGS_OF,"Settings of");t.addText(e.DataCellDialogI18n.I18N_DCD_CLOSE,"Close");t.addText(e.DataCellDialogI18n.I18N_DCD_VALUETYPE,"Value Type");t.addText(e.DataCellDialogI18n.I18N_DCD_DECIMAL,"Number of Decimal Places");t.addText(e.DataCellDialogI18n.I18N_DCD_SCALING,"Scaling Factor");t.addText(e.DataCellDialogI18n.I18N_DCD_CALCULATIONS,"Calculations (Includes Displayed Data Only)");t.addText(e.DataCellDialogI18n.I18N_DCD_RESULT_CALCULATION,"Calculate Results as");t.addText(e.DataCellDialogI18n.I18N_DCD_SINGLE_VALUE_CALCULATION,"Calculate Single Value as");t.addText(e.DataCellDialogI18n.I18N_DCD_DISAGGREGATION_MODE,"Disaggregation Mode");t.addText(e.DataCellDialogI18n.I18N_DCD_RESET_ALL,"Reset All Settings");t.addText(e.DataCellDialogI18n.I18N_DCD_DEFAULT_TO_METATA,"Default");t.addText(e.DataCellDialogI18n.I18N_DCD_UNDEFINED,"Undefined");t.addText(e.DataCellDialogI18n.I18N_DCD_DECIMAL_0,"0");t.addText(e.DataCellDialogI18n.I18N_DCD_DECIMAL_1,"0.0");t.addText(e.DataCellDialogI18n.I18N_DCD_DECIMAL_2,"0.00");t.addText(e.DataCellDialogI18n.I18N_DCD_DECIMAL_3,"0.000");t.addText(e.DataCellDialogI18n.I18N_DCD_DECIMAL_4,"0.0000");t.addText(e.DataCellDialogI18n.I18N_DCD_DECIMAL_5,"0.00000");t.addText(e.DataCellDialogI18n.I18N_DCD_DECIMAL_6,"0.000000");t.addText(e.DataCellDialogI18n.I18N_DCD_DECIMAL_7,"0.0000000");t.addText(e.DataCellDialogI18n.I18N_DCD_DECIMAL_8,"0.00000000");t.addText(e.DataCellDialogI18n.I18N_DCD_DECIMAL_9,"0.000000000");t.addText(e.DataCellDialogI18n.I18N_DCD_SCALING_IN_1,"in 1");t.addText(e.DataCellDialogI18n.I18N_DCD_SCALING_IN_10,"in 10");t.addText(e.DataCellDialogI18n.I18N_DCD_SCALING_IN_100,"in 100");t.addText(e.DataCellDialogI18n.I18N_DCD_SCALING_IN_1000,"in 1,000");t.addText(e.DataCellDialogI18n.I18N_DCD_SCALING_IN_10000,"in 10,000");t.addText(e.DataCellDialogI18n.I18N_DCD_SCALING_IN_100000,"in 100,000");t.addText(e.DataCellDialogI18n.I18N_DCD_SCALING_IN_1000000,"in 1,000,000");t.addText(e.DataCellDialogI18n.I18N_DCD_SCALING_IN_10000000,"in 10,000,000");t.addText(e.DataCellDialogI18n.I18N_DCD_SCALING_IN_100000000,"in 100,000,000");t.addText(e.DataCellDialogI18n.I18N_DCD_SCALING_IN_1000000000,"in 1,000,000,000");t.addText(e.DataCellDialogI18n.I18N_DCD_RC_SUM,"Summation");t.addText(e.DataCellDialogI18n.I18N_DCD_RC_MAX,"Maximum");t.addText(e.DataCellDialogI18n.I18N_DCD_RC_MIN,"Minimum");t.addText(e.DataCellDialogI18n.I18N_DCD_RC_COUNT_ALL_VALUES,"Counting all Values");t.addText(e.DataCellDialogI18n.I18N_DCD_RC_COUNT_ALL_VALUES_NOT_ZERO,"Counting all Values <> 0");t.addText(e.DataCellDialogI18n.I18N_DCD_RC_AVG_ALL_VALUES,"Average of all Values");t.addText(e.DataCellDialogI18n.I18N_DCD_RC_AVG_ALL_VALUES_NOT_ZERO,"Average of all Values <> 0");t.addText(e.DataCellDialogI18n.I18N_DCD_RC_SD,"Standard Deviation");t.addText(e.DataCellDialogI18n.I18N_DCD_RC_VARIANCE,"Variance");t.addText(e.DataCellDialogI18n.I18N_DCD_RC_FV,"First Value");t.addText(e.DataCellDialogI18n.I18N_DCD_RC_LV,"Last Value");t.addText(e.DataCellDialogI18n.I18N_DCD_RC_SUM_ROUNDED_VALUES,"Summation of Rounded Values");t.addText(e.DataCellDialogI18n.I18N_DCD_RC_SUPPRESS_RESULT,"Suppress Result");t.addText(e.DataCellDialogI18n.I18N_DCD_SVC_SUM,"Summation");t.addText(e.DataCellDialogI18n.I18N_DCD_SVC_MAX,"Maximum");t.addText(e.DataCellDialogI18n.I18N_DCD_SVC_MIN,"Minimum");t.addText(e.DataCellDialogI18n.I18N_DCD_SVC_COUNT_ALL_VALUES,"Counting all Values");t.addText(e.DataCellDialogI18n.I18N_DCD_SVC_COUNT_ALL_VALUES_NOT_ZERO,"Counting all Values <> 0");t.addText(e.DataCellDialogI18n.I18N_DCD_SVC_AVG_ALL_VALUES,"Average of all Values");t.addText(e.DataCellDialogI18n.I18N_DCD_SVC_AVG_ALL_VALUES_NOT_ZERO,"Average of all Values <> 0");t.addText(e.DataCellDialogI18n.I18N_DCD_SVC_SUPPRESS_RESULT,"Suppress Result");t.addText(e.DataCellDialogI18n.I18N_DCD_SVC_RANKEDLIST_OLYMPIC,"Ranked List (Olympic)");t.addText(e.DataCellDialogI18n.I18N_DCD_SVC_RANKEDLIST,"Ranked List");t.addText(e.DataCellDialogI18n.I18N_DCD_SVC_NORMALIZATION_OF_OVERALL_RESULT,"Normalization of Overall Result");t.addText(e.DataCellDialogI18n.I18N_DCD_DM_NONE,"None");t.addText(e.DataCellDialogI18n.I18N_DCD_DM_ABS,"Absolute");t.addText(e.DataCellDialogI18n.I18N_DCD_DM_COPY,"Copy");t.addText(e.DataCellDialogI18n.I18N_DCD_DM_DELTA,"Delta");return t};e.AuDatasourcePickerI18n=function(){};e.AuDatasourcePickerI18n.prototype=new e.DfXLocalizationProvider;e.AuDatasourcePickerI18n.prototype._ff_c="AuDatasourcePickerI18n";e.AuDatasourcePickerI18n.CATALOG="FF_DATASOURCE_PICKER_CATALOG";e.AuDatasourcePickerI18n.RECENT="FF_DATASOURCE_PICKER_RECENT";e.AuDatasourcePickerI18n.staticSetup=function(){let t=new e.AuDatasourcePickerI18n;t.setupProvider(e.AuDatasourcePicker.DEFAULT_PROGRAM_NAME,false);t.addText(e.AuDatasourcePickerI18n.CATALOG,"Catalog");t.addText(e.AuDatasourcePickerI18n.RECENT,"Recent");return t};e.DimensionDialogI18n=function(){};e.DimensionDialogI18n.prototype=new e.DfXLocalizationProvider;e.DimensionDialogI18n.prototype._ff_c="DimensionDialogI18n";e.DimensionDialogI18n.I18N_DD_ABOVE="I18N_DD_ABOVE";e.DimensionDialogI18n.I18N_DD_ACTIVATE_SELECTION="I18N_DD_ACTIVATE_SELECTION";e.DimensionDialogI18n.I18N_DD_ACTIVE="I18N_DD_ACTIVE";e.DimensionDialogI18n.I18N_DD_ALL_NODES="I18N_DD_ALL_NODES";e.DimensionDialogI18n.I18N_DD_ASCENDING="I18N_DD_ASCENDING";e.DimensionDialogI18n.I18N_DD_ATTRIBUTES="I18N_DD_ATTRIBUTES";e.DimensionDialogI18n.I18N_DD_BELOW="I18N_DD_BELOW";e.DimensionDialogI18n.I18N_DD_BREAK_GROUPING="I18N_DD_BREAK_GROUPING";e.DimensionDialogI18n.I18N_DD_CASE_SENSITIVE="I18N_DD_CASE_SENSITIVE";e.DimensionDialogI18n.I18N_DD_CONDENSE_NODES_WITH_ONLY_ONE_LOWER_LEVEL_NODE="I18N_DD_CONDENSE_NODES_WITH_ONLY_ONE_LOWER_LEVEL_NODE";e.DimensionDialogI18n.I18N_DD_CONDITIONAL="I18N_DD_CONDITIONAL";e.DimensionDialogI18n.I18N_DD_DEACTIVATE_SELECTION="I18N_DD_DEACTIVATE_SELECTION";e.DimensionDialogI18n.I18N_DD_DESCENDING="I18N_DD_DESCENDING";e.DimensionDialogI18n.I18N_DD_DETAILS="I18N_DD_DETAILS";e.DimensionDialogI18n.I18N_DD_DIMENSION_KEY="I18N_DD_DIMENSION_KEY";e.DimensionDialogI18n.I18N_DD_DIMENSION_TEXT="I18N_DD_DIMENSION_TEXT";e.DimensionDialogI18n.I18N_DD_DISPLAY="I18N_DD_DISPLAY";e.DimensionDialogI18n.I18N_DD_DISPLAY_ALWAYS="I18N_DD_DISPLAY_ALWAYS";e.DimensionDialogI18n.I18N_DD_DISPLAY_IF_MORE_THAN_ONE="I18N_DD_DISPLAY_IF_MORE_THAN_ONE";e.DimensionDialogI18n.I18N_DD_DISPLAY_SETTINGS="I18N_DD_DISPLAY_SETTINGS";e.DimensionDialogI18n.I18N_DD_EXPAND_TO_LEVEL="I18N_DD_EXPAND_TO_LEVEL";e.DimensionDialogI18n.I18N_DD_FIELD="I18N_DD_FIELD";e.DimensionDialogI18n.I18N_DD_FIELD_LAYOUT="I18N_DD_FIELD_LAYOUT";e.DimensionDialogI18n.I18N_DD_FILTER="I18N_DD_FILTER";e.DimensionDialogI18n.I18N_DD_HIERARCHY="I18N_DD_HIERARCHY";e.DimensionDialogI18n.I18N_DD_HIERARCHY_CONDENSATION="I18N_DD_HIERARCHY_CONDENSATION";e.DimensionDialogI18n.I18N_DD_KEY="I18N_DD_KEY";e.DimensionDialogI18n.I18N_DD_KEY_AND_TEXT="I18N_DD_KEY_AND_TEXT";e.DimensionDialogI18n.I18N_DD_KEY_AND_TEXT_SHORT="I18N_DD_KEY_AND_TEXT_SHORT";e.DimensionDialogI18n.I18N_DD_LOCALE="I18N_DD_LOCALE";e.DimensionDialogI18n.I18N_DD_LONG_TEXT="I18N_DD_LONG_TEXT";e.DimensionDialogI18n.I18N_DD_MEASURE="I18N_DD_MEASURE";e.DimensionDialogI18n.I18N_DD_MEDIUM_TEXT="I18N_DD_MEDIUM_TEXT";e.DimensionDialogI18n.I18N_DD_MOVE_BOTTOM="I18N_DD_MOVE_BOTTOM";e.DimensionDialogI18n.I18N_DD_MOVE_DOWN="I18N_DD_MOVE_DOWN";e.DimensionDialogI18n.I18N_DD_MOVE_TOP="I18N_DD_MOVE_TOP";e.DimensionDialogI18n.I18N_DD_MOVE_UP="I18N_DD_MOVE_UP";e.DimensionDialogI18n.I18N_DD_NODES_TO_SHOW="I18N_DD_NODES_TO_SHOW";e.DimensionDialogI18n.I18N_DD_NO_DISPLAY="I18N_DD_NO_DISPLAY";e.DimensionDialogI18n.I18N_DD_NO_SORT="I18N_DD_NO_SORT";e.DimensionDialogI18n.I18N_DD_N_CHILD_NODES="I18N_DD_N_CHILD_NODES";e.DimensionDialogI18n.I18N_DD_ONLY_POSTED_VALUES="I18N_DD_ONLY_POSTED_VALUES";e.DimensionDialogI18n.I18N_DD_ONLY_ROOT_NODE="I18N_DD_ONLY_ROOT_NODE";e.DimensionDialogI18n.I18N_DD_POSITION_OF_LOWER_LEVE_NODES="I18N_DD_POSITION_OF_LOWER_LEVE_NODES";e.DimensionDialogI18n.I18N_DD_PRESENTATIONS_TO_SHOW="I18N_DD_PRESENTATIONS_TO_SHOW";e.DimensionDialogI18n.I18N_DD_PRESENTATION_ORDER="I18N_DD_PRESENTATION_ORDER";e.DimensionDialogI18n.I18N_DD_PRESENT_HIERARCHY="I18N_DD_PRESENT_HIERARCHY";e.DimensionDialogI18n.I18N_DD_READMODE="I18N_DD_READMODE";e.DimensionDialogI18n.I18N_DD_RESULT_LINES="I18N_DD_RESULT_LINES";e.DimensionDialogI18n.I18N_DD_RESULT_LINES_POSITION="I18N_DD_RESULT_LINES_POSIITON";e.DimensionDialogI18n.I18N_DD_SELECTED_HIERARCHY="I18N_DD_SELECTED_HIERARCHY";e.DimensionDialogI18n.I18N_DD_SHORT_TEXT="I18N_DD_SHORT_TEXT";e.DimensionDialogI18n.I18N_DD_SORTING="I18N_DD_SORTING";e.DimensionDialogI18n.I18N_DD_SORT_BY="I18N_DD_SORT_BY";e.DimensionDialogI18n.I18N_DD_SORT_DIRECTION="I18N_DD_SORT_DIRECTION";e.DimensionDialogI18n.I18N_DD_SORT_HIERARCHY="I18N_DD_SORT_HIERARCHY";e.DimensionDialogI18n.I18N_DD_SUPPRESS="I18N_DD_SUPPRESS";e.DimensionDialogI18n.I18N_DD_SUPPRESS_ALWAYS="I18N_DD_SUPPRESS_ALWAYS";e.DimensionDialogI18n.I18N_DD_SUPPRESS_VALUES_OF_POSTED_NODES="I18N_DD_SUPPRESS_VALUES_OF_POSTED_NODES";e.DimensionDialogI18n.I18N_DD_TECHNICAL="I18N_DD_TECHNICAL";e.DimensionDialogI18n.I18N_DD_TEXT="I18N_DD_TEXT";e.DimensionDialogI18n.I18N_DD_TEXT_AND_KEY="I18N_DD_TEXT_AND_KEY";e.DimensionDialogI18n.I18N_DD_TEXT_AND_KEY_SHORT="I18N_DD_TEXT_AND_KEY_SHORT";e.DimensionDialogI18n.I18N_DD_TEXT_VIEW="I18N_DD_TEXT_VIEW";e.DimensionDialogI18n.I18N_DD_TOTALS="I18N_DD_TOTALS";e.DimensionDialogI18n.I18N_DD_TOTALS_INCLUDING="I18N_DD_TOTALS_INCLUDING";e.DimensionDialogI18n.I18N_DD_TOTALS_REMAINING="I18N_DD_TOTALS_REMAINING";e.DimensionDialogI18n.I18N_DD_USE_DEFAULT_SETTING="I18N_DD_USE_DEFAULT_SETTING";e.DimensionDialogI18n.I18N_DD_VALUES_OF_POSTED_NODES="I18N_DD_VALUES_OF_POSTED_NODES";e.DimensionDialogI18n.I18N_DD_VALUE_DISPLAY="I18N_DD_VALUE_DISPLAY";e.DimensionDialogI18n.I18N_DD_VALUE_HELP="I18N_DD_VALUE_HELP";e.DimensionDialogI18n.staticSetup=function(){let t=new e.DimensionDialogI18n;t.setupProvider(e.OuDimensionDialog.DEFAULT_PROGRAM_NAME,false);t.addText(e.DimensionDialogI18n.I18N_DD_VALUE_HELP,"Value Help");t.addText(e.DimensionDialogI18n.I18N_DD_DISPLAY_SETTINGS,"Display Settings");t.addText(e.DimensionDialogI18n.I18N_DD_DISPLAY,"Display");t.addText(e.DimensionDialogI18n.I18N_DD_HIERARCHY,"Hierarchy");t.addText(e.DimensionDialogI18n.I18N_DD_SORT_HIERARCHY,"Hierarchy");t.addText(e.DimensionDialogI18n.I18N_DD_PRESENT_HIERARCHY,"Display Hierarchically");t.addText(e.DimensionDialogI18n.I18N_DD_VALUE_DISPLAY,"Value Display");t.addText(e.DimensionDialogI18n.I18N_DD_PRESENTATION_ORDER,"Presentation Order");t.addText(e.DimensionDialogI18n.I18N_DD_TEXT_VIEW,"Description Type");t.addText(e.DimensionDialogI18n.I18N_DD_LOCALE,"Locale");t.addText(e.DimensionDialogI18n.I18N_DD_CASE_SENSITIVE,"Case Sensitive");t.addText(e.DimensionDialogI18n.I18N_DD_SORTING,"Sorting");t.addText(e.DimensionDialogI18n.I18N_DD_SORT_BY,"Sort by");t.addText(e.DimensionDialogI18n.I18N_DD_SORT_DIRECTION,"Sort Direction");t.addText(e.DimensionDialogI18n.I18N_DD_RESULT_LINES,"Result Lines");t.addText(e.DimensionDialogI18n.I18N_DD_RESULT_LINES_POSITION,"Result Position");t.addText(e.DimensionDialogI18n.I18N_DD_SELECTED_HIERARCHY,"Selected Hierarchy");t.addText(e.DimensionDialogI18n.I18N_DD_EXPAND_TO_LEVEL,"Expand to Level");t.addText(e.DimensionDialogI18n.I18N_DD_POSITION_OF_LOWER_LEVE_NODES,"Position of Lower-Level Nodes");t.addText(e.DimensionDialogI18n.I18N_DD_TOTALS_INCLUDING,"Totals Including");t.addText(e.DimensionDialogI18n.I18N_DD_TOTALS_REMAINING,"Totals Remaining");t.addText(e.DimensionDialogI18n.I18N_DD_ABOVE,"Above");t.addText(e.DimensionDialogI18n.I18N_DD_BELOW,"Below");t.addText(e.DimensionDialogI18n.I18N_DD_VALUES_OF_POSTED_NODES,"Values of Posted Nodes");t.addText(e.DimensionDialogI18n.I18N_DD_SUPPRESS_VALUES_OF_POSTED_NODES,"Suppress Values of Posted Nodes");t.addText(e.DimensionDialogI18n.I18N_DD_SUPPRESS,"Suppress");t.addText(e.DimensionDialogI18n.I18N_DD_CONDITIONAL,"Conditional");t.addText(e.DimensionDialogI18n.I18N_DD_CONDENSE_NODES_WITH_ONLY_ONE_LOWER_LEVEL_NODE,"Condense Nodes with Only 1 Child");t.addText(e.DimensionDialogI18n.I18N_DD_READMODE,"Read Mode");t.addText(e.DimensionDialogI18n.I18N_DD_NODES_TO_SHOW,"Nodes to Show");t.addText(e.DimensionDialogI18n.I18N_DD_ONLY_POSTED_VALUES,"Show Only Booked Values");t.addText(e.DimensionDialogI18n.I18N_DD_NO_DISPLAY,"No Display");t.addText(e.DimensionDialogI18n.I18N_DD_KEY_AND_TEXT,"ID and Description");t.addText(e.DimensionDialogI18n.I18N_DD_KEY,"ID");t.addText(e.DimensionDialogI18n.I18N_DD_TEXT,"Description");t.addText(e.DimensionDialogI18n.I18N_DD_PRESENTATIONS_TO_SHOW,"Presentations to Show");t.addText(e.DimensionDialogI18n.I18N_DD_TEXT_AND_KEY,"Description and ID");t.addText(e.DimensionDialogI18n.I18N_DD_TEXT_AND_KEY_SHORT,"Desc | ID");t.addText(e.DimensionDialogI18n.I18N_DD_KEY_AND_TEXT_SHORT,"ID | Desc");t.addText(e.DimensionDialogI18n.I18N_DD_DISPLAY_ALWAYS,"Always Display");t.addText(e.DimensionDialogI18n.I18N_DD_SUPPRESS_ALWAYS,"Always Suppress");t.addText(e.DimensionDialogI18n.I18N_DD_DISPLAY_IF_MORE_THAN_ONE,"Display if more than one value");t.addText(e.DimensionDialogI18n.I18N_DD_DIMENSION_KEY,"Dimension ID");t.addText(e.DimensionDialogI18n.I18N_DD_DIMENSION_TEXT,"Dimension Description");t.addText(e.DimensionDialogI18n.I18N_DD_NO_SORT,"Don't Sort");t.addText(e.DimensionDialogI18n.I18N_DD_ASCENDING,"Ascending");t.addText(e.DimensionDialogI18n.I18N_DD_DESCENDING,"Descending");t.addText(e.DimensionDialogI18n.I18N_DD_SHORT_TEXT,"Short");t.addText(e.DimensionDialogI18n.I18N_DD_MEDIUM_TEXT,"Medium");t.addText(e.DimensionDialogI18n.I18N_DD_LONG_TEXT,"Long");t.addText(e.DimensionDialogI18n.I18N_DD_ACTIVE,"Active");t.addText(e.DimensionDialogI18n.I18N_DD_FIELD,"Field");t.addText(e.DimensionDialogI18n.I18N_DD_MEASURE,"Measure");t.addText(e.DimensionDialogI18n.I18N_DD_FILTER,"Filter");t.addText(e.DimensionDialogI18n.I18N_DD_BREAK_GROUPING,"Break Grouping");t.addText(e.DimensionDialogI18n.I18N_DD_ALL_NODES,"All Nodes");t.addText(e.DimensionDialogI18n.I18N_DD_ONLY_ROOT_NODE,"Only Root Node");t.addText(e.DimensionDialogI18n.I18N_DD_N_CHILD_NODES,"Root and {0} Child Nodes");t.addText(e.DimensionDialogI18n.I18N_DD_DETAILS,"Details");t.addText(e.DimensionDialogI18n.I18N_DD_MOVE_BOTTOM,"Move Item to Bottom");t.addText(e.DimensionDialogI18n.I18N_DD_MOVE_DOWN,"Move Down Item by 1");t.addText(e.DimensionDialogI18n.I18N_DD_MOVE_UP,"Move Up Item by 1");t.addText(e.DimensionDialogI18n.I18N_DD_MOVE_TOP,"Move Item to Top");t.addText(e.DimensionDialogI18n.I18N_DD_USE_DEFAULT_SETTING,"Use Default Setting");t.addText(e.DimensionDialogI18n.I18N_DD_DEACTIVATE_SELECTION,"Deactivate Selection");t.addText(e.DimensionDialogI18n.I18N_DD_FIELD_LAYOUT,"Field Layout Type");t.addText(e.DimensionDialogI18n.I18N_DD_ACTIVATE_SELECTION,"Activate Selection");t.addText(e.DimensionDialogI18n.I18N_DD_HIERARCHY_CONDENSATION,"Hierarchy Condensation");t.addText(e.DimensionDialogI18n.I18N_DD_TECHNICAL,"Show Technical Names");t.addText(e.DimensionDialogI18n.I18N_DD_ATTRIBUTES,"Attributes");t.addText(e.DimensionDialogI18n.I18N_DD_TOTALS,"Totals");return t};e.OuDimensionDialog2I18n=function(){};e.OuDimensionDialog2I18n.prototype=new e.DfXLocalizationProvider;e.OuDimensionDialog2I18n.prototype._ff_c="OuDimensionDialog2I18n";e.OuDimensionDialog2I18n.ALL_NODES="FF_DD_ALL_NODES";e.OuDimensionDialog2I18n.BREAK_GROUPING="FF_DD_BREAK_GROUPING";e.OuDimensionDialog2I18n.CONDENSE_NODES="FF_DD_CONDENSE_NODES";e.OuDimensionDialog2I18n.CONTENT="FF_DD_CONTENT";e.OuDimensionDialog2I18n.DIMENSION="FF_DD_DIMENSION";e.OuDimensionDialog2I18n.DISPLAY="FF_DD_DISPLAY";e.OuDimensionDialog2I18n.DISPLAY_HIERARCHICALLY="FF_DD_DISPLAY_HIERARCHICALLY";e.OuDimensionDialog2I18n.ENTER_HIERARCHY_NAME="FF_DD_ENTER_HIERARCHY_NAME";e.OuDimensionDialog2I18n.HIERARCHIES="FF_DD_HIERARCHIES";e.OuDimensionDialog2I18n.HIERARCHY="FF_DD_HIERARCHY";e.OuDimensionDialog2I18n.INCLUDE_UNBOOKED="FF_DD_INCLUDE_UNBOOKED";e.OuDimensionDialog2I18n.INFO_HIERARCHY_FIXED="FF_DD_INFO_HIERARCHY_FIXED";e.OuDimensionDialog2I18n.INFO_HIERARCHY_ON_STRUCTURE="FF_DD_INFO_HIERARCHY_ON_STRUCTURE";e.OuDimensionDialog2I18n.KEY="FF_DD_CONTENT_KEY";e.OuDimensionDialog2I18n.KEY_AND_TEXT="FF_DD_CONTENT_KEY_AND_TEXT";e.OuDimensionDialog2I18n.NODES_TO_SHOW="FF_DD_NODES_TO_SHOW";e.OuDimensionDialog2I18n.NODE_POSITION="FF_DD_NODE_POSITION";e.OuDimensionDialog2I18n.NODE_POSITION_ABOVE="FF_DD_NODE_POSITION_ABOVE";e.OuDimensionDialog2I18n.NODE_POSITION_BELOW="FF_DD_NODE_POSITION_BELOW";e.OuDimensionDialog2I18n.ONLY_ROOT_NODES="FF_DD_ONLY_ROOT_NODES";e.OuDimensionDialog2I18n.ROOT_AND_X_CHILD_LEVEL="FF_DD_ROOT_AND_X_CHILD_LEVEL";e.OuDimensionDialog2I18n.SORTING="FF_DD_SORTING";e.OuDimensionDialog2I18n.SORT_BY="FF_DD_SORT_BY";e.OuDimensionDialog2I18n.SORT_BY_FILTER="FF_DD_SORT_BY_FILTER";e.OuDimensionDialog2I18n.SORT_BY_HIERARCHY="FF_DD_SORT_BY_HIERARCHY";e.OuDimensionDialog2I18n.SORT_DIRECTION="FF_DD_SORT_DIRECTION";e.OuDimensionDialog2I18n.SORT_DIRECTION_ASCENDING="FF_DD_SORT_DIRECTION_ASCENDING";e.OuDimensionDialog2I18n.SORT_DIRECTION_DESCENDING="FF_DD_SORT_DIRECTION_DESCENDING";e.OuDimensionDialog2I18n.SORT_DIRECTION_NONE="FF_DD_SORT_DIRECTION_NONE";e.OuDimensionDialog2I18n.TEXT="FF_DD_CONTENT_TEXT";e.OuDimensionDialog2I18n.TEXT_AND_KEY="FF_DD_CONTENT_TEXT_AND_KEY";e.OuDimensionDialog2I18n.TEXT_TYPE="FF_DD_TYPE";e.OuDimensionDialog2I18n.TEXT_TYPE_LONG="FF_DD_TYPE_LONG";e.OuDimensionDialog2I18n.TEXT_TYPE_MEDIUM="FF_DD_TYPE_MEDIUM";e.OuDimensionDialog2I18n.TEXT_TYPE_SHORT="FF_DD_TYPE_SHORT";e.OuDimensionDialog2I18n.TEXT_TYPE_XXL="FF_DD_TYPE_XXL";e.OuDimensionDialog2I18n.TITLE="FF_DD_TITLE";e.OuDimensionDialog2I18n.TOTALS="FF_DD_TOTALS";e.OuDimensionDialog2I18n.TOTALS_HIDDEN="FF_DD_TOTALS_HIDDEN";e.OuDimensionDialog2I18n.TOTALS_MORE_THAN_ONE="FF_DD_TOTALS_MORE_THAN_ONE";e.OuDimensionDialog2I18n.TOTALS_POSITION="FF_DD_TOTALS_POSITION";e.OuDimensionDialog2I18n.TOTALS_POSITION_BOT="FF_DD_TOTALS_POSITION_BOT";e.OuDimensionDialog2I18n.TOTALS_POSITION_TOP="FF_DD_TOTALS_POSITION_TOP";e.OuDimensionDialog2I18n.TOTALS_VISIBLE="FF_DD_TOTALS_VISIBLE";e.OuDimensionDialog2I18n.staticSetup=function(){let t=new e.OuDimensionDialog2I18n;t.setupProvider(e.OuDimensionDialog2.DEFAULT_PROGRAM_NAME,true);t.addText(e.OuDimensionDialog2I18n.TITLE,"Properties for {0}");t.addComment(e.OuDimensionDialog2I18n.TITLE,"#XTIT: Title of the dialog for dimension settings (Placeholder is dimension name)");t.addText(e.OuDimensionDialog2I18n.DIMENSION,"Dimension");t.addComment(e.OuDimensionDialog2I18n.DIMENSION,"#XTIT: A generic fallback for the title placeholder, if no dimension name is available");t.addText(e.OuDimensionDialog2I18n.DISPLAY,"Display");t.addComment(e.OuDimensionDialog2I18n.DISPLAY,"#XTBS: A label on the tab for the display settings (e.g. presentation type)");t.addText(e.OuDimensionDialog2I18n.SORTING,"Sorting");t.addComment(e.OuDimensionDialog2I18n.SORTING,"#XTBS: A label on the tab for the sorting settings");t.addText(e.OuDimensionDialog2I18n.HIERARCHIES,"Hierarchies");t.addComment(e.OuDimensionDialog2I18n.HIERARCHIES,"#XTBS: A label on the tab for the hierarchy settings");t.addText(e.OuDimensionDialog2I18n.CONTENT,"Content:");t.addComment(e.OuDimensionDialog2I18n.CONTENT,"#XFLD: Title of a dropdown to set how a dimension should be shown");t.addText(e.OuDimensionDialog2I18n.KEY,"ID");t.addComment(e.OuDimensionDialog2I18n.KEY,"#XSEL: Dropdown item to configure that dimension should be shown by their id");t.addText(e.OuDimensionDialog2I18n.TEXT,"Description");t.addComment(e.OuDimensionDialog2I18n.TEXT,"#XSEL: Dropdown item to configure that dimension should be shown by their description");t.addText(e.OuDimensionDialog2I18n.KEY_AND_TEXT,"ID (Description)");t.addComment(e.OuDimensionDialog2I18n.KEY_AND_TEXT,"#XSEL: Dropdown item to configure that dimension should be shown by their id and description");t.addText(e.OuDimensionDialog2I18n.TEXT_AND_KEY,"Description (ID)");t.addComment(e.OuDimensionDialog2I18n.TEXT_AND_KEY,"#XSEL: Dropdown item to configure that dimension should be shown by their id and description");t.addText(e.OuDimensionDialog2I18n.TEXT_TYPE,"Description Type:");t.addComment(e.OuDimensionDialog2I18n.TEXT_TYPE,"#XFLD: Title of a dropdown to set the type of texts");t.addText(e.OuDimensionDialog2I18n.TEXT_TYPE_SHORT,"Short");t.addComment(e.OuDimensionDialog2I18n.TEXT_TYPE_SHORT,"#XSEL: Dropdown item to set that short text attributes should be used");t.addText(e.OuDimensionDialog2I18n.TEXT_TYPE_MEDIUM,"Medium");t.addComment(e.OuDimensionDialog2I18n.TEXT_TYPE_MEDIUM,"#XSEL: Dropdown item to set that medium text attributes should be used");t.addText(e.OuDimensionDialog2I18n.TEXT_TYPE_LONG,"Long");t.addComment(e.OuDimensionDialog2I18n.TEXT_TYPE_LONG,"#XSEL: Dropdown item to set that long text attributes should be used");t.addText(e.OuDimensionDialog2I18n.TEXT_TYPE_XXL,"XXL");t.addComment(e.OuDimensionDialog2I18n.TEXT_TYPE_XXL,"#XSEL: Dropdown item to set that xxl text attributes should be used");t.addText(e.OuDimensionDialog2I18n.TOTALS,"Totals:");t.addComment(e.OuDimensionDialog2I18n.TOTALS,"#XFLD: Title of a dropdown to set the representation of totals in a table");t.addText(e.OuDimensionDialog2I18n.TOTALS_VISIBLE,"Visible");t.addComment(e.OuDimensionDialog2I18n.TOTALS_VISIBLE,"#XSEL: Dropdown item to make totals visible in the table");t.addText(e.OuDimensionDialog2I18n.TOTALS_HIDDEN,"Hidden");t.addComment(e.OuDimensionDialog2I18n.TOTALS_HIDDEN,"#XSEL: Dropdown item to hide totals in the table");t.addText(e.OuDimensionDialog2I18n.TOTALS_MORE_THAN_ONE,"When more than 1 value");t.addComment(e.OuDimensionDialog2I18n.TOTALS_MORE_THAN_ONE,"#XSEL: Dropdown item to hide totals in the table if there is only one value");t.addText(e.OuDimensionDialog2I18n.TOTALS_POSITION,"Totals Position:");t.addComment(e.OuDimensionDialog2I18n.TOTALS_POSITION,"#XFLD: Title of a dropdown to set the position of totals in a table");t.addText(e.OuDimensionDialog2I18n.TOTALS_POSITION_TOP,"Top");t.addComment(e.OuDimensionDialog2I18n.TOTALS_POSITION_TOP,"#XSEL: Dropdown item put the totals on top of the table");t.addText(e.OuDimensionDialog2I18n.TOTALS_POSITION_BOT,"Bottom");t.addComment(e.OuDimensionDialog2I18n.TOTALS_POSITION_BOT,"#XSEL: Dropdown item put the totals on bottom of the table");t.addText(e.OuDimensionDialog2I18n.INCLUDE_UNBOOKED,"Include unbooked values");t.addComment(e.OuDimensionDialog2I18n.INCLUDE_UNBOOKED,"#XCKL: A checkbox to determine if unbooked values should show up in the table");t.addText(e.OuDimensionDialog2I18n.SORT_DIRECTION,"Direction:");t.addComment(e.OuDimensionDialog2I18n.SORT_DIRECTION,"#XFLD: Title of a dropdown to change the sorting direction");t.addText(e.OuDimensionDialog2I18n.SORT_DIRECTION_NONE,"None");t.addComment(e.OuDimensionDialog2I18n.SORT_DIRECTION_NONE,"#XSEL: Dropdown item to disable the sorting");t.addText(e.OuDimensionDialog2I18n.SORT_DIRECTION_ASCENDING,"Ascending");t.addComment(e.OuDimensionDialog2I18n.SORT_DIRECTION_ASCENDING,"#XSEL: Dropdown item to set the sort direction to ascending");t.addText(e.OuDimensionDialog2I18n.SORT_DIRECTION_DESCENDING,"Descending");t.addComment(e.OuDimensionDialog2I18n.SORT_DIRECTION_DESCENDING,"#XSEL: Dropdown item to set the sort direction to descending");t.addText(e.OuDimensionDialog2I18n.SORT_BY,"Sort by:");t.addComment(e.OuDimensionDialog2I18n.SORT_BY,"#XFLD: Title of a dropdown to define how a sort operation is done");t.addText(e.OuDimensionDialog2I18n.SORT_BY_HIERARCHY,"Hierarchy");t.addComment(e.OuDimensionDialog2I18n.SORT_BY_HIERARCHY,"#XSEL: Dropdown item to let the sort be done by hierarchy");t.addText(e.OuDimensionDialog2I18n.SORT_BY_FILTER,"Filter");t.addComment(e.OuDimensionDialog2I18n.SORT_BY_FILTER,"#XSEL: Dropdown item to let the sort be done by filter");t.addText(e.OuDimensionDialog2I18n.BREAK_GROUPING,"Break grouping");t.addComment(e.OuDimensionDialog2I18n.BREAK_GROUPING,"#XCKL: A checkbox to allow the sorting to break up groups");t.addText(e.OuDimensionDialog2I18n.DISPLAY_HIERARCHICALLY,"Display hierarchically");t.addComment(e.OuDimensionDialog2I18n.DISPLAY_HIERARCHICALLY,"#XCKL: A checkbox to enable or disable the hierarchy");t.addText(e.OuDimensionDialog2I18n.CONDENSE_NODES,"Condense nodes with only 1 child");t.addComment(e.OuDimensionDialog2I18n.CONDENSE_NODES,"#XCKL: A checkbox to set if nodes in a hierarchy can be condensed if they only have one child");t.addText(e.OuDimensionDialog2I18n.HIERARCHY,"Hierarchy:");t.addComment(e.OuDimensionDialog2I18n.HIERARCHY,"#XFLD: The title of a input field for hierarchy names");t.addText(e.OuDimensionDialog2I18n.ENTER_HIERARCHY_NAME,"Hierarchy Name");t.addComment(e.OuDimensionDialog2I18n.ENTER_HIERARCHY_NAME,"#XFLD: An input placeholder to let the user know to enter a hierarchy name");t.addText(e.OuDimensionDialog2I18n.NODES_TO_SHOW,"Nodes to show:");t.addComment(e.OuDimensionDialog2I18n.NODES_TO_SHOW,"XFLD: Title of a dropdown to which level of nodes should be displayed");t.addText(e.OuDimensionDialog2I18n.ALL_NODES,"All nodes");t.addComment(e.OuDimensionDialog2I18n.ALL_NODES,"#XSEL: A dropdown item to set that all nodes should be shown");t.addText(e.OuDimensionDialog2I18n.ONLY_ROOT_NODES,"Only root nodes");t.addComment(e.OuDimensionDialog2I18n.ONLY_ROOT_NODES,"#XSEL: A dropdown item to set that only nodes on root level are to be displayed");t.addText(e.OuDimensionDialog2I18n.ROOT_AND_X_CHILD_LEVEL,"From root to level {0}");t.addComment(e.OuDimensionDialog2I18n.ROOT_AND_X_CHILD_LEVEL,"#XSEL: A dropdown item to set that the amount of the placeholder number levels should be shown");t.addText(e.OuDimensionDialog2I18n.NODE_POSITION,"Position of child nodes");t.addComment(e.OuDimensionDialog2I18n.NODE_POSITION,"#XFLD: The description of a segmented button to select where hierarchy nodes are positioned");t.addText(e.OuDimensionDialog2I18n.NODE_POSITION_ABOVE,"Above");t.addComment(e.OuDimensionDialog2I18n.NODE_POSITION_ABOVE,"#XBUT: Segment button text to let child nodes be shown above their parents");t.addText(e.OuDimensionDialog2I18n.NODE_POSITION_BELOW,"Below");t.addComment(e.OuDimensionDialog2I18n.NODE_POSITION_BELOW,"#XBUT: Segment button text to let child nodes be shown below their parents");t.addTextWithComment(e.OuDimensionDialog2I18n.INFO_HIERARCHY_FIXED,"The hierarchy can only be changed by the filter or a variable","#XTOL: A tooltip indicating why a input field is not editable, because the hierarchy is defined by the filter");t.addTextWithComment(e.OuDimensionDialog2I18n.INFO_HIERARCHY_ON_STRUCTURE,"The hierarchy of a measure or structure cannot be changed","#XTOL: A tooltip indicating why a input field is not editable, because the dimension is a measure or structure");return t};e.FdUnsupportedFilterPopup=function(){};e.FdUnsupportedFilterPopup.prototype=new e.UtConfirmPopup;e.FdUnsupportedFilterPopup.prototype._ff_c="FdUnsupportedFilterPopup";e.FdUnsupportedFilterPopup.createFiscalDateRangePopup=function(t){let i=new e.FdUnsupportedFilterPopup;let o=e.XLocalizationCenter.getCenter();i.setupUnsupportedFilterPopup(t,o.getText(e.FilterDialogI18n.I18N_FD_UNSUPPORTED_FILTER_FISCAL_RANGE_TEXT),o.getText(e.FilterDialogI18n.I18N_FD_UNSUPPORTED_FILTER_NON_COMPOUND_FIELD_SUB_TEXT),null);return i};e.FdUnsupportedFilterPopup.createNonCompoundPopup=function(t){let i=new e.FdUnsupportedFilterPopup;let o=e.XLocalizationCenter.getCenter();i.setupUnsupportedFilterPopup(t,o.getText(e.FilterDialogI18n.I18N_FD_UNSUPPORTED_FILTER_NON_COMPOUND_FIELD_TEXT),null,"https://help.sap.com/docs/SAP_ANALYTICS_CLOUD/00f68c2e08b941f081002fd3691d86a7/90edb0e43311457a8d331d31c1129cb1.html");return i};e.FdUnsupportedFilterPopup.prototype.m_link=null;e.FdUnsupportedFilterPopup.prototype.m_subText=null;e.FdUnsupportedFilterPopup.prototype.buildPopupContent=function(t){let i=t.newRoot(e.UiType.FLEX_LAYOUT);i.setDirection(e.UiFlexDirection.COLUMN);i.setName("FilterDialogIncompatibleFilterPopupContent");let o=i.addNewItemOfType(e.UiType.LABEL);o.setName("FilterDialogIncompatibleFilterPopupInfoLabel");o.setText(this.m_text);if(e.notNull(this.m_subText)){let t=i.addNewItemOfType(e.UiType.LABEL);t.setName("FilterDialogIncompatibleFilterPopupAdditionalInfoLabel");t.setMargin(e.UiCssBoxEdges.create("1rem 0 0 0"));t.setText(this.m_subText)}if(e.notNull(this.m_link)){let t=i.addNewItemOfType(e.UiType.LINK);t.setText(e.XLocalizationCenter.getCenter().getText(e.FilterDialogI18n.I18N_FD_UNSUPPORTED_FILTER_INFO_LINK));t.addLabelledBy(o);t.setName("FilterDialogIncompatibleFilterPopupInfoLink");t.setMargin(e.UiCssBoxEdges.create("1rem 0 0 0"));t.setSrc(this.m_link);t.setTarget("_blank")}};e.FdUnsupportedFilterPopup.prototype.configurePopup=function(t){e.UtConfirmPopup.prototype.configurePopup.call(this,t);t.setName("FilterDialogIncompatibleFilterPopup");this.setConfirmButtonText(e.XLocalizationCenter.getCenter().getText(e.FilterDialogI18n.I18N_FD_UNSUPPORTED_FILTER_DELETE_BUTTON));this.setCancelButtonIcon(e.XLocalizationCenter.getCenter().getText(e.FilterDialogI18n.I18N_FD_UNSUPPORTED_FILTER_CANCEL_BUTTON));this.setConfirmButtonIcon(null);this.setCancelButtonIcon(null)};e.FdUnsupportedFilterPopup.prototype.releaseObject=function(){e.UtConfirmPopup.prototype.releaseObject.call(this);this.m_subText=null;this.m_link=null};e.FdUnsupportedFilterPopup.prototype.setupUnsupportedFilterPopup=function(t,i,o,n){this.m_subText=o;this.m_link=n;e.UtConfirmPopup.prototype.setupInternal.call(this,t,e.XLocalizationCenter.getCenter().getText(e.FilterDialogI18n.I18N_FD_UNSUPPORTED_FILTER_TITLE),i)};e.FdAbstractDateRangeItem=function(){};e.FdAbstractDateRangeItem.prototype=new e.FdItem;e.FdAbstractDateRangeItem.prototype._ff_c="FdAbstractDateRangeItem";e.FdAbstractDateRangeItem.prototype.m_dateTimeProvider=null;e.FdAbstractDateRangeItem.prototype.m_granularity=null;e.FdAbstractDateRangeItem.prototype.getDisplayKey=function(){return null};e.FdAbstractDateRangeItem.prototype.getFdComparisonOperator=function(){let t=e.FdItem.prototype.getFdComparisonOperator.call(this);return t===e.FdComparisonOperator.BETWEEN||t===e.FdComparisonOperator.NOT_BETWEEN?t:e.FdComparisonOperator.BETWEEN};e.FdAbstractDateRangeItem.prototype.getFormattedValueByPresentation=function(e){return this.getTextFormatted()};e.FdAbstractDateRangeItem.prototype.getGranularity=function(){return this.m_granularity};e.FdAbstractDateRangeItem.prototype.getKey=function(){return null};e.FdAbstractDateRangeItem.prototype.getName=function(){return null};e.FdAbstractDateRangeItem.prototype.getText=function(){return null};e.FdAbstractDateRangeItem.prototype.getValueByField=function(e){return null};e.FdAbstractDateRangeItem.prototype.getValueType=function(){return e.XValueType.DATE};e.FdAbstractDateRangeItem.prototype.hasDisplayKey=function(){return false};e.FdAbstractDateRangeItem.prototype.hasText=function(){return false};e.FdAbstractDateRangeItem.prototype.isEqualTo=function(t){if(!e.FdItem.prototype.isEqualTo.call(this,t)||t.getType()!==this.getType()){return false}if(this===t){return true}let i=t;return i.m_granularity===this.m_granularity};e.FdAbstractDateRangeItem.prototype.isNull=function(){return false};e.FdAbstractDateRangeItem.prototype.releaseObject=function(){e.FdItem.prototype.releaseObject.call(this);this.m_dateTimeProvider=null;this.m_granularity=null};e.FdAbstractDateRangeItem.prototype.setGranularity=function(e){this.m_granularity=e};e.FdAbstractUserTeamItem=function(){};e.FdAbstractUserTeamItem.prototype=new e.FdItem;e.FdAbstractUserTeamItem.prototype._ff_c="FdAbstractUserTeamItem";e.FdAbstractUserTeamItem.prototype.m_displayName=null;e.FdAbstractUserTeamItem.prototype.m_icon=null;e.FdAbstractUserTeamItem.prototype.m_name=null;e.FdAbstractUserTeamItem.prototype.m_text=null;e.FdAbstractUserTeamItem.prototype.getDisplayKey=function(){return this.m_displayName};e.FdAbstractUserTeamItem.prototype.getIcon=function(){return this.m_icon};e.FdAbstractUserTeamItem.prototype.getKey=function(){return this.m_name};e.FdAbstractUserTeamItem.prototype.getName=function(){return this.m_name};e.FdAbstractUserTeamItem.prototype.getText=function(){return this.m_text};e.FdAbstractUserTeamItem.prototype.getValueByField=function(e){return null};e.FdAbstractUserTeamItem.prototype.getValueType=function(){return e.XValueType.STRING};e.FdAbstractUserTeamItem.prototype.hasDisplayKey=function(){return true};e.FdAbstractUserTeamItem.prototype.hasText=function(){return e.notNull(this.m_text)};e.FdAbstractUserTeamItem.prototype.isEqualTo=function(t){if(!e.FdItem.prototype.isEqualTo.call(this,t)){return false}if(this===t){return true}let i=t;let o=i.getKey();return e.notNull(o)&&e.XString.isEqual(this.getKey(),o)||i.getDisplayKey()!==null&&e.XString.isEqual(this.getDisplayKey(),i.getDisplayKey())};e.FdAbstractUserTeamItem.prototype.isNull=function(){return false};e.FdAbstractUserTeamItem.prototype.releaseObject=function(){e.FdItem.prototype.releaseObject.call(this);this.m_name=null;this.m_displayName=null;this.m_text=null;this.m_icon=null};e.FdAbstractUserTeamItem.prototype.setupUserTeamItem=function(e,t,i){this.m_name=e;this.m_displayName=this.getDisplayName(e);this.m_text=t;this.m_icon=i};e.FdAbstractUserTeamItem.prototype.toString=function(){let t=e.XStringBuffer.create();t.append("{");t.append("Name: ").append(this.m_name);t.append(", Text: ").append(this.m_text);t.append("}");return t.toString()};e.FdHierarchyCatalogItem=function(){};e.FdHierarchyCatalogItem.prototype=new e.FdItem;e.FdHierarchyCatalogItem.prototype._ff_c="FdHierarchyCatalogItem";e.FdHierarchyCatalogItem.createHierarchyCatalogItem=function(t){let i=new e.FdHierarchyCatalogItem;i.m_catalogItem=t;return i};e.FdHierarchyCatalogItem.prototype.m_catalogItem=null;e.FdHierarchyCatalogItem.prototype.getCatalogItem=function(){return this.m_catalogItem};e.FdHierarchyCatalogItem.prototype.getDateStringToDisplay=function(t){if(e.isNull(t)||t.isEqualTo(e.XDate.createHollowDate())){return null}let i=t.toIsoFormat();return e.UiNumberFormatterCenter.getCenter().formatTextForDateTimeKey(i,i,e.XValueType.DATE)};e.FdHierarchyCatalogItem.prototype.getDisplayKey=function(){return this.getName()};e.FdHierarchyCatalogItem.prototype.getFormattedValueByPresentation=function(t){if(e.isNull(t)){return null}if(t.getCustomObject()!==null){let i=t.getCustomObject().toString();switch(i){case e.FdContentProviderHierarchyCatalog.VERSION:return t.isKey()?this.m_catalogItem.getVersionDisplayKey():this.m_catalogItem.getVersionDescription();case e.FdContentProviderHierarchyCatalog.OBJECT_VERSION:return this.m_catalogItem.getObjectVersion();case e.FdContentProviderHierarchyCatalog.DATE_FROM:return this.getDateStringToDisplay(this.m_catalogItem.getDateFrom());case e.FdContentProviderHierarchyCatalog.DATE_TO:return this.getDateStringToDisplay(this.m_catalogItem.getDateTo())}}if(t.isKey()){return this.getDisplayKey()}let i=this.getText();if(e.XStringUtils.isNullOrEmpty(i)){return this.getDisplayKey()}return i};e.FdHierarchyCatalogItem.prototype.getHierarchyName=function(){return this.m_catalogItem.getHierarchyName()};e.FdHierarchyCatalogItem.prototype.getKey=function(){return this.getName()};e.FdHierarchyCatalogItem.prototype.getName=function(){return this.getHierarchyName()};e.FdHierarchyCatalogItem.prototype.getText=function(){let t=this.m_catalogItem.getHierarchyShortText();if(e.XStringUtils.isNotNullAndNotEmpty(t)){return t}t=this.m_catalogItem.getHierarchyMediumText();if(e.XStringUtils.isNotNullAndNotEmpty(t)){return t}t=this.m_catalogItem.getHierarchyLongText();if(e.XStringUtils.isNotNullAndNotEmpty(t)){return t}return t};e.FdHierarchyCatalogItem.prototype.getType=function(){return e.FilterDialogValueType.HIERARCHY_CATALOG};e.FdHierarchyCatalogItem.prototype.getValueByField=function(e){return null};e.FdHierarchyCatalogItem.prototype.getValueType=function(){return e.XValueType.STRING};e.FdHierarchyCatalogItem.prototype.hasDisplayKey=function(){return false};e.FdHierarchyCatalogItem.prototype.hasText=function(){return true};e.FdHierarchyCatalogItem.prototype.isNull=function(){return false};e.FdHierarchyCatalogItem.prototype.releaseObject=function(){this.m_catalogItem=null;e.FdItem.prototype.releaseObject.call(this)};e.FdHierarchyCatalogItem.prototype.toString=function(){return this.m_catalogItem.getHierarchyName()};e.FdRangeItem=function(){};e.FdRangeItem.prototype=new e.FdItem;e.FdRangeItem.prototype._ff_c="FdRangeItem";e.FdRangeItem.create=function(t,i,o){let n=new e.FdRangeItem;n.setupRangeItem(t,i,o);return n};e.FdRangeItem.prototype.m_high=null;e.FdRangeItem.prototype.m_low=null;e.FdRangeItem.prototype.concatenate=function(t,i){return e.XStringUtils.concatenate3(e.notNull(t)?t:""," - ",e.notNull(i)?i:"")};e.FdRangeItem.prototype.getDisplayKey=function(){return null};e.FdRangeItem.prototype.getFormattedValueByPresentation=function(e){return this.concatenate(this.m_low.getFormattedValueByPresentation(e),this.m_high.getFormattedValueByPresentation(e))};e.FdRangeItem.prototype.getHierarchyName=function(){return e.XStringUtils.isNotNullAndNotEmpty(e.FdItem.prototype.getHierarchyName.call(this))?e.FdItem.prototype.getHierarchyName.call(this):this.m_low.getHierarchyName()};e.FdRangeItem.prototype.getHigh=function(){return this.getHighItem()};e.FdRangeItem.prototype.getHighItem=function(){return this.m_high};e.FdRangeItem.prototype.getKey=function(){return null};e.FdRangeItem.prototype.getLow=function(){return this.getLowItem()};e.FdRangeItem.prototype.getLowItem=function(){return this.m_low};e.FdRangeItem.prototype.getName=function(){return this.concatenate(this.m_low.getName(),this.m_high.getName())};e.FdRangeItem.prototype.getText=function(){let t=this.m_low.getText();let i=this.m_high.getText();return e.XStringUtils.isNotNullAndNotEmpty(t)&&e.XStringUtils.isNotNullAndNotEmpty(i)?this.concatenate(t,i):null};e.FdRangeItem.prototype.getTextFormatted=function(){return this.concatenate(this.m_low.getTextFormatted(),this.m_high.getTextFormatted())};e.FdRangeItem.prototype.getType=function(){return e.FilterDialogValueType.RANGE};e.FdRangeItem.prototype.getValueByField=function(e){return this.concatenate(this.m_low.getValueByField(e),this.m_high.getValueByField(e))};e.FdRangeItem.prototype.getValueType=function(){return null};e.FdRangeItem.prototype.hasDisplayKey=function(){return false};e.FdRangeItem.prototype.hasText=function(){return this.m_low.hasText()||this.m_high.hasText()};e.FdRangeItem.prototype.isEqualTo=function(t){if(!e.FdItem.prototype.isEqualTo.call(this,t)){return false}if(this===t){return true}let i=t;return e.XObjectExt.areEqual(this.getLowItem(),i.getLowItem())&&e.XObjectExt.areEqual(this.getHighItem(),i.getHighItem())};e.FdRangeItem.prototype.isNull=function(){return false};e.FdRangeItem.prototype.releaseObject=function(){e.FdItem.prototype.releaseObject.call(this);this.m_low=e.XObjectExt.release(this.m_low);this.m_high=e.XObjectExt.release(this.m_high)};e.FdRangeItem.prototype.setFdComparisonOperator=function(t){if(t===e.FdComparisonOperator.BETWEEN||t===e.FdComparisonOperator.NOT_BETWEEN){e.FdItem.prototype.setFdComparisonOperator.call(this,t)}};e.FdRangeItem.prototype.setHigh=function(t){if(e.notNull(t)){this.m_high=t}else{this.m_high=e.FdSimpleItem.create(null,null,null)}};e.FdRangeItem.prototype.setLow=function(t){if(e.notNull(t)){this.m_low=t}else{this.m_low=e.FdSimpleItem.create(null,null,null)}};e.FdRangeItem.prototype.setupRangeItem=function(t,i,o){this.setLow(t);this.setHigh(i);this.setFdComparisonOperator(o?e.FdComparisonOperator.NOT_BETWEEN:e.FdComparisonOperator.BETWEEN)};e.FdRangeItem.prototype.toString=function(){return e.XStringUtils.concatenate3(this.getLowItem().getKey(),"-",this.getHighItem().getKey())};e.FdSimpleItem=function(){};e.FdSimpleItem.prototype=new e.FdItem;e.FdSimpleItem.prototype._ff_c="FdSimpleItem";e.FdSimpleItem.create=function(t,i,o){let n=new e.FdSimpleItem;n.m_key=t;n.m_displayKey=i;n.m_text=o;return n};e.FdSimpleItem.createNull=function(t){let i=new e.FdSimpleItem;i.m_key="";i.m_displayKey="";i.m_isNull=true;i.setExcluded(t);return i};e.FdSimpleItem.createWithType=function(t,i,o,n){let a=e.FdSimpleItem.create(t,i,o);a.m_valueType=n;return a};e.FdSimpleItem.prototype.m_displayKey=null;e.FdSimpleItem.prototype.m_isNull=false;e.FdSimpleItem.prototype.m_key=null;e.FdSimpleItem.prototype.m_text=null;e.FdSimpleItem.prototype.m_valueType=null;e.FdSimpleItem.prototype.compareTo=function(t){if(e.isNull(t)){return 1}let i=this.getKey();let o=t.getKey();if(e.isNull(i)||e.isNull(o)){i=this.getDisplayKey();o=t.getDisplayKey()}if(this.getValueType()===e.XValueType.DATE||t.getValueType()===e.XValueType.DATE){let t=e.XDate.createDateSafe(i);let n=e.XDate.createDateSafe(o);if(e.notNull(t)&&e.notNull(n)){return e.XString.compare(t.toIsoFormat(),n.toIsoFormat())}}try{let t=e.XDouble.convertFromString(i)-e.XDouble.convertFromString(o);return t<0?-1:t>0?1:0}catch(t){return e.XString.compare(i,o)}};e.FdSimpleItem.prototype.getDisplayKey=function(){return e.notNull(this.m_displayKey)?this.m_displayKey:this.m_key};e.FdSimpleItem.prototype.getKey=function(){return this.m_key};e.FdSimpleItem.prototype.getName=function(){return this.m_displayKey};e.FdSimpleItem.prototype.getText=function(){return this.m_text};e.FdSimpleItem.prototype.getType=function(){return e.FilterDialogValueType.BASIC};e.FdSimpleItem.prototype.getValueByField=function(t){if(e.notNull(t)){let i=t.getDimension();let o=i.getFlatKeyField();let n=i.getHierarchyKeyField();let a=i.getFlatDisplayKeyField();let r=i.getHierarchyDisplayKeyField();if(o===t||n===t||i.getFirstFieldByType(e.PresentationType.KEY_NOT_COMPOUND)===t){if(e.notNull(a)&&o===a||e.notNull(r)&&n===r){return e.notNull(this.m_key)?this.m_key:this.m_displayKey}return this.m_key}if(a===t||r===t){return this.m_displayKey}if(t.getPresentationType().isTypeOf(e.PresentationType.ABSTRACT_TEXT)){return this.m_text}}return null};e.FdSimpleItem.prototype.getValueType=function(){return this.m_valueType};e.FdSimpleItem.prototype.hasDisplayKey=function(){return e.notNull(this.m_displayKey)};e.FdSimpleItem.prototype.hasText=function(){return e.notNull(this.m_text)};e.FdSimpleItem.prototype.isEqualTo=function(t){if(!e.FdItem.prototype.isEqualTo.call(this,t)){return false}if(this===t){return true}let i=t;if(this.isNull()&&i.isNull()){return true}if(!e.XString.isEqual(this.getKey(),i.getKey())){return false}if(this.getKey()===null&&!e.XString.isEqual(this.getDisplayKey(),i.getDisplayKey())){return false}let o=this.getText();let n=i.getText();return e.isNull(o)||e.isNull(n)||e.XString.isEqual(o,n)};e.FdSimpleItem.prototype.isNull=function(){return this.m_isNull||this.getFdComparisonOperator().isNullOperator()};e.FdSimpleItem.prototype.releaseObject=function(){e.FdItem.prototype.releaseObject.call(this);this.m_key=null;this.m_displayKey=null;this.m_text=null;this.m_valueType=null};e.FdSimpleItem.prototype.setNull=function(e){this.m_isNull=e};e.FdSimpleItem.prototype.toString=function(){if(e.isNull(this.m_displayKey)&&e.isNull(this.m_key)&&e.isNull(this.m_text)){return""}let t=e.XStringBuffer.create();t.append("{");t.append("DisplayKey: ").append(this.m_displayKey);t.append(", Key: ").append(this.m_key);t.append(", Text: ").append(this.m_text);t.append("}");return t.toString()};e.FdValueHelpItem=function(){};e.FdValueHelpItem.prototype=new e.FdItem;e.FdValueHelpItem.prototype._ff_c="FdValueHelpItem";e.FdValueHelpItem.create=function(t,i,o){let n=new e.FdValueHelpItem;n.setupValueHelpItem(t,i,o);return n};e.FdValueHelpItem.getByKey=function(t,i){if(!e.XCollectionUtils.hasElements(t)||e.isNull(i)){return null}if(i.isNull()){return e.XStream.of(t).map(t=>t.isNull()?t:e.FdValueHelpItem.getByKey(t.getChildren(),i)).filterNullValues().map(t=>e.FdValueHelpItem.getMatchingItem(i,t)).findAny().orElse(null)}let o=i.getKey();let n=i.hasDisplayKey()?i.getDisplayKey():null;let a=e.XStringUtils.isNotNullAndNotEmpty(n);let r=e.XStringUtils.isNotNullAndNotEmpty(o)||e.XString.isEqual(o,"")&&!a;let l=null;for(let s=0;s<t.size();s++){let u=t.get(s);if(!u.isNull()){if(r&&e.XString.isEqual(u.getKey(),o)){l=e.FdValueHelpItem.getMatchingItem(i,u);break}if(!r&&a&&u.hasDisplayKey()&&e.XString.isEqual(u.getDisplayKey(),n)){l=e.FdValueHelpItem.getMatchingItem(i,u)}if(!r&&e.XStringUtils.isNullOrEmpty(u.getKey())&&!a&&e.XStringUtils.isNullOrEmpty(u.getDisplayKey())){l=e.FdValueHelpItem.getMatchingItem(i,u)}}let m=e.FdValueHelpItem.getByKey(u.getChildren(),i);if(e.notNull(m)){l=m}}return l};e.FdValueHelpItem.getMatchingItem=function(t,i){if(t.getFdComparisonOperator()!==i.getFdComparisonOperator()&&i.getType()===e.FilterDialogValueType.VALUEHELP){let o=e.FdValueHelpItem.create(i.getValueHelpNode(),i.getHierarchyName(),i.getTextField());o.setFdComparisonOperator(t.getFdComparisonOperator());return o}return i};e.FdValueHelpItem.prototype.m_children=null;e.FdValueHelpItem.prototype.m_node=null;e.FdValueHelpItem.prototype.m_textField=null;e.FdValueHelpItem.prototype.compareTo=function(t){if(e.isNull(t)){return 1}let i=this.getKey();let o=t.getKey();let n=this.getValueType();if(n.isNumber()){try{let t=e.XDouble.convertFromString(i)-e.XDouble.convertFromString(o);return t<0?-1:t>0?1:0}catch(t){return e.XString.compare(i,o)}}else if(n===e.XValueType.DATE){let t=e.XDate.createDateSafe(i);let n=e.XDate.createDateSafe(o);if(e.notNull(t)&&e.notNull(n)){i=t.toIsoFormat();o=n.toIsoFormat()}}return e.XString.compare(i,o)};e.FdValueHelpItem.prototype.getChildren=function(){if(e.isNull(this.m_children)){this.m_children=e.XList.create()}if(this.m_node.hasChildren()){let t=this.m_node.getChildren();let i=t.size();for(let o=0;o<i;o++){if(this.m_children.size()<=o){this.m_children.add(e.FdValueHelpItem.create(t.get(o),this.getHierarchyName(),this.m_textField))}}}return this.m_children};e.FdValueHelpItem.prototype.getDimension=function(){return this.m_node.getDimension()};e.FdValueHelpItem.prototype.getDimensionMember=function(){return this.m_node.getDimensionMember()};e.FdValueHelpItem.prototype.getDisplayKey=function(){let t=this.getDisplayName();return e.notNull(t)?t:this.getValueByField(this.getDisplayKeyField())};e.FdValueHelpItem.prototype.getDisplayKeyField=function(){let e=this.getDimension();return this.isHierarchyNode()?e.getHierarchyDisplayKeyField():e.getFlatDisplayKeyField()};e.FdValueHelpItem.prototype.getDisplayKeyFormatted=function(){let t=this.getDisplayName();return e.notNull(t)?t:this.getFormattedValueByField(this.getDisplayKeyField())};e.FdValueHelpItem.prototype.getDisplayName=function(){let e=this.getDimensionMember();return e.isDisplayNameSet()?e.getDisplayName():null};e.FdValueHelpItem.prototype.getFormattedValueByField=function(t){let i=this.getDimensionMember().getFieldValue(t);if(e.notNull(i)){let t=i.getFormattedValue();return e.notNull(t)?t:i.getString()}return null};e.FdValueHelpItem.prototype.getFormattedValueByPresentation=function(t){if(this.isNull()){return e.XLocalizationCenter.getCenter().getText(e.FilterDialogI18n.I18N_FD_NULL)}let i=null;if(e.notNull(t)){let o=t.getCustomObject();if(o===this.getTextField()){i=this.getText()}else{let e=this.hasDisplayKey();if(e&&o===this.getDisplayKeyField()||!e&&o===this.getKeyField()&&this.getDimensionMember().isDisplayNameSet()){i=this.getDisplayKey()}}if(e.isNull(i)){i=this.getFormattedValueByField(o)}if(e.isNull(i)){let t=o.getPresentationType();if(t.isTypeOf(e.PresentationType.KEY)||t.isTypeOf(e.PresentationType.HIERARCHY_KEY)){i=this.getKey()}else if(t.isTypeOf(e.PresentationType.DISPLAY_KEY)||t.isTypeOf(e.PresentationType.HIERARCHY_DISPLAY_KEY)){i=this.getDisplayKey();if(e.isNull(i)){i=this.getKey()}}else if(t.isTypeOf(e.PresentationType.TEXT)||t.isTypeOf(e.PresentationType.HIERARCHY_TEXT)){i=this.getText()}}if(e.XString.isEqual(i,"")&&!t.isKey()){let o=this.getFormattedValueByField(this.getKeyFieldForTextPresentation(t));if(e.XStringUtils.isNotNullAndNotEmpty(o)){i=o}}if(!t.isKey()){if(o.getValueType().isTypeOf(e.XValueType.NUMBER)){i=e.UiNumberFormatterCenter.getCenter().format(i)}else{let o=this.getKeyFieldForTextPresentation(t);if(e.notNull(o)&&o.getValueType().isDateTime()){let t=this.getFormattedValueByField(o);i=e.UiNumberFormatterCenter.getCenter().formatTextForDateTimeKey(i,e.notNull(t)?t:i,o.getValueType())}}}}if(e.XString.isEqual(i,"")){return e.XLocalizationCenter.getCenter().getText(e.FilterDialogI18n.I18N_FD_NO_VALUE)}return i};e.FdValueHelpItem.prototype.getKey=function(){return this.getValueByField(this.getKeyField())};e.FdValueHelpItem.prototype.getKeyField=function(){let e=this.getDimension();return this.isHierarchyNode()?e.getHierarchyKeyField():e.getFlatKeyField()};e.FdValueHelpItem.prototype.getKeyFieldForTextPresentation=function(t){let i=t.getParent();let o=i.getKeyPresentation();if(e.notNull(o)){return o.getCustomObject()}else if(i.isMainPresentation()){return this.hasDisplayKey()?this.getDisplayKeyField():this.getKeyField()}return null};e.FdValueHelpItem.prototype.getName=function(){return this.m_node.getName()};e.FdValueHelpItem.prototype.getText=function(){let t=this.getDimensionMember();if(t.isDisplayDescriptionSet()){return t.getDisplayDescription()}let i=t.getText();if(e.XStringUtils.isNotNullAndNotEmpty(i)){return i}return this.getValueByField(this.getTextField())};e.FdValueHelpItem.prototype.getTextField=function(){return e.notNull(this.m_textField)?this.m_textField:this.isHierarchyNode()?this.getDimension().getHierarchyTextField():this.getDimension().getFlatTextField()};e.FdValueHelpItem.prototype.getTextFormatted=function(){if(!this.isNull()){let t=this.hasDisplayKey()?this.getDisplayKeyField():this.getKeyField();let i=e.UiNumberFormatterCenter.getCenter();if(e.notNull(t)&&t.getValueType().isDateTime()){return i.formatTextForDateTimeKey(this.getText(),this.getFormattedValueByField(t),t.getValueType())}let o=this.getTextField();if(e.notNull(o)&&o.getValueType().isTypeOf(e.XValueType.NUMBER)){return i.format(this.getText())}}return this.getText()};e.FdValueHelpItem.prototype.getType=function(){return e.FilterDialogValueType.VALUEHELP};e.FdValueHelpItem.prototype.getValueByField=function(t){let i=this.getDimensionMember().getFieldValue(t);return e.isNull(i)?null:i.getString()};e.FdValueHelpItem.prototype.getValueHelpNode=function(){return this.m_node};e.FdValueHelpItem.prototype.getValueType=function(){return this.getDimensionMember().getValueType()};e.FdValueHelpItem.prototype.hasChildren=function(){return this.isHierarchyNode()&&this.m_node.getChildSetState()!==e.ChildSetState.NONE};e.FdValueHelpItem.prototype.hasDisplayKey=function(){let t=this.getDisplayKeyField();return e.notNull(t)&&t!==this.getKeyField()&&this.getDisplayKey()!==null};e.FdValueHelpItem.prototype.hasText=function(){return this.getTextField()!==null};e.FdValueHelpItem.prototype.isEqualTo=function(t){if(!e.FdItem.prototype.isEqualTo.call(this,t)){return false}if(this===t){return true}let i=t;if(this.isNull()&&i.isNull()){return true}let o=this.getKey();if(!e.XString.isEqual(o,i.getKey())){return false}if(e.isNull(o)&&!e.XString.isEqual(this.getDisplayKey(),i.getDisplayKey())){return false}let n=this.getText();let a=i.getText();return e.isNull(n)||e.isNull(a)||e.XString.isEqual(n,a)};e.FdValueHelpItem.prototype.isHierarchyNode=function(){return e.XStringUtils.isNotNullAndNotEmpty(this.getHierarchyName())};e.FdValueHelpItem.prototype.isNull=function(){return this.getDimensionMember().getDimensionMemberNameValueException()===e.ValueException.NULL_VALUE};e.FdValueHelpItem.prototype.isRootNode=function(){return this.m_node.getParentNode()===null};e.FdValueHelpItem.prototype.releaseObject=function(){e.FdItem.prototype.releaseObject.call(this);this.m_node=null;this.m_children=e.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_children);this.m_textField=null};e.FdValueHelpItem.prototype.setupValueHelpItem=function(t,i,o){this.m_node=t;this.setHierarchyName(i);this.m_textField=o;if(e.isNull(this.m_textField)){this.m_textField=e.XStream.of(t.getDimensionMember().getAllFieldValues()).map(e=>e.getField()).filter(t=>e.notNull(t)&&t.getPresentationType().isTypeOf(e.PresentationType.ABSTRACT_TEXT)).findAny().orElse(null)}};e.FdValueHelpItem.prototype.toString=function(){return this.m_node.toString()};e.FilterDialogI18n=function(){};e.FilterDialogI18n.prototype=new e.DfXLocalizationProvider;e.FilterDialogI18n.prototype._ff_c="FilterDialogI18n";e.FilterDialogI18n.I18N_FD_ATTRIBUTES="I18N_FD_ATTRIBUTES";e.FilterDialogI18n.I18N_FD_AVAILABLE_MEMBERS="I18N_FD_AVAILABLE_MEMBERS";e.FilterDialogI18n.I18N_FD_CANCEL="I18N_FD_CANCEL";e.FilterDialogI18n.I18N_FD_CLEAR_SELECTION="I18N_FD_CLEAR_SELECTION";e.FilterDialogI18n.I18N_FD_CLIPBOARD_VALUES_NOT_FOUND="I18N_FD_CLIPBOARD_VALUES_NOT_FOUND";e.FilterDialogI18n.I18N_FD_COMPARISON_OPERATOR_BETWEEN="I18N_FD_COMPARISON_OPERATOR_BETWEEN";e.FilterDialogI18n.I18N_FD_COMPARISON_OPERATOR_EQUAL="I18N_FD_COMPARISON_OPERATOR_EQUAL";e.FilterDialogI18n.I18N_FD_COMPARISON_OPERATOR_GREATER="I18N_FD_COMPARISON_OPERATOR_GREATER";e.FilterDialogI18n.I18N_FD_COMPARISON_OPERATOR_GREATER_EQUAL="I18N_FD_COMPARISON_OPERATOR_GREATER_EQUAL";e.FilterDialogI18n.I18N_FD_COMPARISON_OPERATOR_IS_NOT_NULL="I18N_FD_COMPARISON_OPERATOR_IS_NOT_NULL";e.FilterDialogI18n.I18N_FD_COMPARISON_OPERATOR_IS_NULL="I18N_FD_COMPARISON_OPERATOR_IS_NULL";e.FilterDialogI18n.I18N_FD_COMPARISON_OPERATOR_LESS="I18N_FD_COMPARISON_OPERATOR_LESS";e.FilterDialogI18n.I18N_FD_COMPARISON_OPERATOR_LESS_EQUAL="I18N_FD_COMPARISON_OPERATOR_LESS_EQUAL";e.FilterDialogI18n.I18N_FD_COMPARISON_OPERATOR_NOT_BETWEEN="I18N_FD_COMPARISON_OPERATOR_NOT_BETWEEN";e.FilterDialogI18n.I18N_FD_COMPARISON_OPERATOR_NOT_EQUAL="I18N_FD_COMPARISON_OPERATOR_NOT_EQUAL";e.FilterDialogI18n.I18N_FD_COMPARISON_OPERATOR_NOT_GREATER="I18N_FD_COMPARISON_OPERATOR_NOT_GREATER";e.FilterDialogI18n.I18N_FD_COMPARISON_OPERATOR_NOT_GREATER_EQUAL="I18N_FD_COMPARISON_OPERATOR_NOT_GREATER_EQUAL";e.FilterDialogI18n.I18N_FD_COMPARISON_OPERATOR_NOT_LESS="I18N_FD_COMPARISON_OPERATOR_NOT_LESS";e.FilterDialogI18n.I18N_FD_COMPARISON_OPERATOR_NOT_LESS_EQUAL="I18N_FD_COMPARISON_OPERATOR_NOT_LESS_EQUAL";e.FilterDialogI18n.I18N_FD_CURRENTPAGE="I18N_FD_CURRENTPAGE";e.FilterDialogI18n.I18N_FD_DATE_RANGE_CURRENT_PERIOD="I18N_FD_DATE_RANGE_CURRENT_PERIOD";e.FilterDialogI18n.I18N_FD_DATE_RANGE_DYNAMIC="I18N_FD_DATE_RANGE_DYNAMIC";e.FilterDialogI18n.I18N_FD_DATE_RANGE_ERROR_END_DATE_OUTSIDE_RANGE="I18N_FD_DATE_RANGE_ERROR_END_DATE_OUTSIDE_RANGE";e.FilterDialogI18n.I18N_FD_DATE_RANGE_ERROR_INVALID_DATE_FORMAT="I18N_FD_DATE_RANGE_ERROR_INVALID_DATE_FORMAT";e.FilterDialogI18n.I18N_FD_DATE_RANGE_ERROR_MIN_GREATER_MAX="I18N_FD_DATE_RANGE_ERROR_MIN_GREATER_MAX";e.FilterDialogI18n.I18N_FD_DATE_RANGE_ERROR_NUMBER_BETWEEN="I18N_FD_DATE_RANGE_ERROR_NUMBER_BETWEEN";e.FilterDialogI18n.I18N_FD_DATE_RANGE_ERROR_START_DATE_OUTSIDE_RANGE="I18N_FD_DATE_RANGE_ERROR_START_DATE_OUTSIDE_RANGE";e.FilterDialogI18n.I18N_FD_DATE_RANGE_FIXED="I18N_FD_DATE_RANGE_FIXED";e.FilterDialogI18n.I18N_FD_DATE_RANGE_FROM="I18N_FD_DATE_RANGE_FROM";e.FilterDialogI18n.I18N_FD_DATE_RANGE_GRANULARITY="I18N_FD_DATE_RANGE_GRANULARITY";e.FilterDialogI18n.I18N_FD_DATE_RANGE_HEADER="I18N_FD_DATE_RANGE_HEADER";e.FilterDialogI18n.I18N_FD_DATE_RANGE_HIERARCHY="I18N_FD_DATE_RANGE_HIERARCHY";e.FilterDialogI18n.I18N_FD_DATE_RANGE_INCLUDE_UP_TO_CURRENT_PERIOD="I18N_FD_DATE_RANGE_INCLUDE_UP_TO_CURRENT_PERIOD";e.FilterDialogI18n.I18N_FD_DATE_RANGE_INCLUDE_UP_TO_OFFSET_PERIOD="I18N_FD_DATE_RANGE_INCLUDE_UP_TO_OFFSET_PERIOD";e.FilterDialogI18n.I18N_FD_DATE_RANGE_LOOK_AHEAD="I18N_FD_DATE_RANGE_LOOK_AHEAD";e.FilterDialogI18n.I18N_FD_DATE_RANGE_LOOK_BACK="I18N_FD_DATE_RANGE_LOOK_BACK";e.FilterDialogI18n.I18N_FD_DATE_RANGE_OFFSET_AMOUNT="I18N_FD_DATE_RANGE_OFFSET_AMOUNT";e.FilterDialogI18n.I18N_FD_DATE_RANGE_OFFSET_DIRECTION="I18N_FD_DATE_RANGE_OFFSET_DIRECTION";e.FilterDialogI18n.I18N_FD_DATE_RANGE_OFFSET_GRANULARITY="I18N_FD_DATE_RANGE_OFFSET_GRANULARITY";e.FilterDialogI18n.I18N_FD_DATE_RANGE_OFFSET_PERIOD="I18N_FD_DATE_RANGE_OFFSET_PERIOD";e.FilterDialogI18n.I18N_FD_DATE_RANGE_TO="I18N_FD_DATE_RANGE_TO";e.FilterDialogI18n.I18N_FD_DATE_RANGE_TYPE="I18N_FD_DATE_RANGE_TYPE";e.FilterDialogI18n.I18N_FD_DATE_RANGE_VALUE_FROM_START="I18N_FD_DATE_RANGE_START";e.FilterDialogI18n.I18N_FD_DATE_RANGE_VALUE_GRANULARITY_CURRENT_MONTH="I18N_FD_DATE_RANGE_CURRENT_MONTH";e.FilterDialogI18n.I18N_FD_DATE_RANGE_VALUE_GRANULARITY_CURRENT_QUARTER="I18N_FD_DATE_RANGE_CURRENT_QUARTER";e.FilterDialogI18n.I18N_FD_DATE_RANGE_VALUE_GRANULARITY_CURRENT_YEAR="I18N_FD_DATE_RANGE_CURRENT_YEAR";e.FilterDialogI18n.I18N_FD_DATE_RANGE_VALUE_GRANULARITY_DAY="I18N_FD_DATE_RANGE_DAY";e.FilterDialogI18n.I18N_FD_DATE_RANGE_VALUE_GRANULARITY_HALFYEAR="I18N_FD_DATE_RANGE_HALFYEAR";e.FilterDialogI18n.I18N_FD_DATE_RANGE_VALUE_GRANULARITY_MONTH="I18N_FD_DATE_RANGE_MONTH";e.FilterDialogI18n.I18N_FD_DATE_RANGE_VALUE_GRANULARITY_QUARTER="I18N_FD_DATE_RANGE_QUARTER";e.FilterDialogI18n.I18N_FD_DATE_RANGE_VALUE_GRANULARITY_YEAR="I18N_FD_DATE_RANGE_YEAR";e.FilterDialogI18n.I18N_FD_DATE_RANGE_VALUE_OFFSET_DIRECTION_LOOK_AHEAD="I18N_FD_DATE_RANGE_OFFSET_DIRECTION_LOOK_AHEAD";e.FilterDialogI18n.I18N_FD_DATE_RANGE_VALUE_OFFSET_DIRECTION_LOOK_BACK="I18N_FD_DATE_RANGE_OFFSET_DIRECTION_LOOK_BACK";e.FilterDialogI18n.I18N_FD_DATE_RANGE_VALUE_TO_END="I18N_FD_DATE_RANGE_END";e.FilterDialogI18n.I18N_FD_DATE_RANGE_VALUE_TYPE_OFFSET="I18N_FD_DATE_RANGE_OFFSET";e.FilterDialogI18n.I18N_FD_DATE_RANGE_VALUE_TYPE_STANDARD="I18N_FD_DATE_RANGE_STANDARD";e.FilterDialogI18n.I18N_FD_ERR_NO_VALUES_FOR_MANDATORY_VARIABLES="I18N_FD_ERR_NO_VALUES_FOR_MANDATORY_VARIABLES";e.FilterDialogI18n.I18N_FD_ERR_VH_SERVER_ERROR="I18N_ERR_VH_SERVER_ERROR";e.FilterDialogI18n.I18N_FD_EXCLUDE="I18N_FD_EXCLUDE";e.FilterDialogI18n.I18N_FD_EXCLUDED_MEMBERS="I18N_FD_EXCLUDED_MEMBERS";e.FilterDialogI18n.I18N_FD_EXCLUDE_MEMBERS="I18N_FD_EXCLUDE_MEMBERS";e.FilterDialogI18n.I18N_FD_FILTER_TAB_LIST="I18N_FD_FILTER_TAB_LIST";e.FilterDialogI18n.I18N_FD_FILTER_TAB_RANGE="I18N_FD_FILTER_TAB_RANGE";e.FilterDialogI18n.I18N_FD_FILTER_TYPE_MBF="I18N_FD_FILTER_TAB_RANGE";e.FilterDialogI18n.I18N_FD_HALFYEAR1="I18N_FD_HALFYEAR1";e.FilterDialogI18n.I18N_FD_HALFYEAR2="I18N_FD_HALFYEAR2";e.FilterDialogI18n.I18N_FD_HIERARCHY="I18N_FD_HIERARCHY";e.FilterDialogI18n.I18N_FD_HIERARCHY_FLAT_PRESENTATION="I18N_FD_HIERARCHY_FLAT_PRESENTATION";e.FilterDialogI18n.I18N_FD_HIERARCHY_INFO="I18N_FD_HIERARCHY_INFO";e.FilterDialogI18n.I18N_FD_HIER_DATE_FROM="I18N_FD_HIER_DATE_FROM";e.FilterDialogI18n.I18N_FD_HIER_DATE_TO="I18N_FD_HIER_DATE_TO";e.FilterDialogI18n.I18N_FD_HIER_OBJECT_VERSION="I18N_FD_HIER_OBJECT_VERSION";e.FilterDialogI18n.I18N_FD_HIER_VERSION="I18N_FD_HIER_VERSION";e.FilterDialogI18n.I18N_FD_INCLUDE="I18N_FD_INCLUDE";e.FilterDialogI18n.I18N_FD_LOADING="I18N_FD_LOADING";e.FilterDialogI18n.I18N_FD_MAX_RESULTS="I18N_FD_MAX_RESULTS";e.FilterDialogI18n.I18N_FD_MAX_RESULT_RECORDS_LIMIT_REACHED="I18N_FD_MAX_RESULT_RECORDS_LIMIT_REACHED";e.FilterDialogI18n.I18N_FD_MBF_DIMENSION_CONTEXT="I18N_FD_MBF_DIMENSION_CONTEXT";e.FilterDialogI18n.I18N_FD_MBF_DIMENSION_CONTEXT_ERROR_NO_SELECTION="I18N_FD_MBF_DIMENSION_CONTEXT_ERROR_NO_SELECTION";e.FilterDialogI18n.I18N_FD_MBF_DIMENSION_CONTEXT_INFO="I18N_FD_MBF_DIMENSION_CONTEXT_INFO";e.FilterDialogI18n.I18N_FD_MBF_DIMENSION_CONTEXT_INFO_REQUIRED_DIMENSION="I18N_FD_MBF_DIMENSION_CONTEXT_INFO_REQUIRED_DIMENSION";e.FilterDialogI18n.I18N_FD_MBF_DIMENSION_CONTEXT_INFO_REQUIRED_DIMENSIONS="I18N_FD_MBF_DIMENSION_CONTEXT_INFO_REQUIRED_DIMENSIONS";e.FilterDialogI18n.I18N_FD_MBF_DIMENSION_CONTEXT_INFO_REQUIRED_DIMENSION_LIST="I18N_FD_MBF_DIMENSION_CONTEXT_INFO_REQUIRED_DIMENSION_LIST";e.FilterDialogI18n.I18N_FD_MBF_MEASURE_CONTEXT="I18N_FD_MBF_MEASURE_CONTEXT";e.FilterDialogI18n.I18N_FD_MBF_MEASURE_CONTEXT_INFO="I18N_FD_MBF_MEASURE_CONTEXT_INFO";e.FilterDialogI18n.I18N_FD_MEMBERS_BOOKED="I18N_FD_MEMBERS_BOOKED";e.FilterDialogI18n.I18N_FD_MEMBERS_BOOKED_CASCADING="I18N_FD_MEMBERS_BOOKED_CASCADING";e.FilterDialogI18n.I18N_FD_MEMBERS_DEFAULT="I18N_FD_MEMBERS_DEFAULT";e.FilterDialogI18n.I18N_FD_MEMBERS_DEFAULT_WITHOUT_EFFECTIVE="I18N_FD_MEMBERS_DEFAULT_WITHOUT_EFFECTIVE";e.FilterDialogI18n.I18N_FD_MEMBERS_DIM_RELATIONSHIPS="I18N_FD_MEMBERS_DIM_RELATIONSHIPS";e.FilterDialogI18n.I18N_FD_MEMBERS_MASTER="I18N_FD_MEMBERS_MASTER";e.FilterDialogI18n.I18N_FD_MEMBER_SELECTION="I18N_FD_MEMBER_SELECTION";e.FilterDialogI18n.I18N_FD_MONTH1="I18N_FD_MONTH1";e.FilterDialogI18n.I18N_FD_MONTH10="I18N_FD_MONTH10";e.FilterDialogI18n.I18N_FD_MONTH11="I18N_FD_MONTH11";e.FilterDialogI18n.I18N_FD_MONTH12="I18N_FD_MONTH12";e.FilterDialogI18n.I18N_FD_MONTH2="I18N_FD_MONTH2";e.FilterDialogI18n.I18N_FD_MONTH3="I18N_FD_MONTH3";e.FilterDialogI18n.I18N_FD_MONTH4="I18N_FD_MONTH4";e.FilterDialogI18n.I18N_FD_MONTH5="I18N_FD_MONTH5";e.FilterDialogI18n.I18N_FD_MONTH6="I18N_FD_MONTH6";e.FilterDialogI18n.I18N_FD_MONTH7="I18N_FD_MONTH7";e.FilterDialogI18n.I18N_FD_MONTH8="I18N_FD_MONTH8";e.FilterDialogI18n.I18N_FD_MONTH9="I18N_FD_MONTH9";e.FilterDialogI18n.I18N_FD_NEXT="I18N_FD_NEXT";e.FilterDialogI18n.I18N_FD_NO_RESULTS="I18N_FD_NO_RESULTS";e.FilterDialogI18n.I18N_FD_NO_RESULTS_EXT="I18N_VD_LINKED_VARIABLE_NO_DESCRIPTION";e.FilterDialogI18n.I18N_FD_NO_RESULTS_FOR_SEARCH="I18N_FD_NO_RESULTS_FOR_SEARCH";e.FilterDialogI18n.I18N_FD_NO_VALUE="I18N_FD_NO_VALUE";e.FilterDialogI18n.I18N_FD_NULL="I18N_FD_NULL";e.FilterDialogI18n.I18N_FD_OK="I18N_FD_OK";e.FilterDialogI18n.I18N_FD_PAGE="I18N_FD_PAGE";e.FilterDialogI18n.I18N_FD_PRESENTATION_DESCRIPTION="I18N_FD_PRESENTATION_DESCRIPTION";e.FilterDialogI18n.I18N_FD_PRESENTATION_DESCRIPTION_AND_ID="I18N_FD_PRESENTATION_DESCRIPTION_AND_ID";e.FilterDialogI18n.I18N_FD_PRESENTATION_ID="I18N_FD_PRESENTATION_ID";e.FilterDialogI18n.I18N_FD_PRESENTATION_ID_AND_DESCRIPTION="I18N_FD_PRESENTATION_ID_AND_DESCRIPTION";e.FilterDialogI18n.I18N_FD_PRESENTATION_ID_AND_NAME="I18N_FD_PRESENTATION_ID_AND_NAME";e.FilterDialogI18n.I18N_FD_PRESENTATION_NAME="I18N_FD_PRESENTATION_NAME";e.FilterDialogI18n.I18N_FD_PRESENTATION_NAME_AND_ID="I18N_FD_PRESENTATION_NAME_AND_ID";e.FilterDialogI18n.I18N_FD_PREVIOUS="I18N_FD_PREVIOUS";e.FilterDialogI18n.I18N_FD_QUARTER1="I18N_FD_QUARTER1";e.FilterDialogI18n.I18N_FD_QUARTER2="I18N_FD_QUARTER2";e.FilterDialogI18n.I18N_FD_QUARTER3="I18N_FD_QUARTER3";e.FilterDialogI18n.I18N_FD_QUARTER4="I18N_FD_QUARTER4";e.FilterDialogI18n.I18N_FD_RANGES_ADD_NEW="I18N_FD_RANGES_ADD_NEW";e.FilterDialogI18n.I18N_FD_RANGES_ADD_NEW_DISABLED_TOOLTIP="I18N_FD_RANGES_ADD_NEW_DISABLED_TOOLTIP";e.FilterDialogI18n.I18N_FD_RANGES_BETWEEN_LABEL="I18N_FD_RANGES_BETWEEN_LABEL";e.FilterDialogI18n.I18N_FD_RANGES_ERROR_ENTER_NUMBER="I18N_FD_RANGES_ERROR_ENTER_NUMER";e.FilterDialogI18n.I18N_FD_RANGES_ERROR_ENTER_VALUE="I18N_FD_RANGES_ERROR_ENTER_VALUE";e.FilterDialogI18n.I18N_FD_RANGES_ERROR_MIN_GREATER_MAX="I18N_FD_RANGES_MIN_GREATER_MAX";e.FilterDialogI18n.I18N_FD_RANGES_ERROR_NOT_VALID="I18N_FD_RANGES_NOT_VALID";e.FilterDialogI18n.I18N_FD_RANGES_HEADER="I18N_FD_RANGES_HEADER";e.FilterDialogI18n.I18N_FD_RANGES_HEADER_GENERIC="I18N_FD_RANGES_HEADER_GENERIC";e.FilterDialogI18n.I18N_FD_RANGES_HEADER_OPERATOR_BETWEEN="I18N_FD_RANGES_HEADER_OPERATOR_BETWEEN";e.FilterDialogI18n.I18N_FD_RANGES_HEADER_OPERATOR_EQUAL="I18N_FD_RANGES_HEADER_OPERATOR_EQUAL";e.FilterDialogI18n.I18N_FD_RANGES_HEADER_OPERATOR_GREATER="I18N_FD_RANGES_HEADER_OPERATOR_GREATER";e.FilterDialogI18n.I18N_FD_RANGES_HEADER_OPERATOR_GREATER_EQUAL="I18N_FD_RANGES_HEADER_OPERATOR_GREATER_EQUAL";e.FilterDialogI18n.I18N_FD_RANGES_HEADER_OPERATOR_LESS="I18N_FD_RANGES_HEADER_OPERATOR_LESS";e.FilterDialogI18n.I18N_FD_RANGES_HEADER_OPERATOR_LESS_EQUAL="I18N_FD_RANGES_HEADER_OPERATOR_LESS_EQUAL";e.FilterDialogI18n.I18N_FD_RANGES_HEADER_OPERATOR_NOT_BETWEEN="I18N_FD_RANGES_HEADER_OPERATOR_NOT_BETWEEN";e.FilterDialogI18n.I18N_FD_RANGES_HEADER_OPERATOR_NOT_EQUAL="I18N_FD_RANGES_HEADER_OPERATOR_NOT_EQUAL";e.FilterDialogI18n.I18N_FD_RANGES_HEADER_OPERATOR_NOT_GREATER="I18N_FD_RANGES_HEADER_OPERATOR_NOT_GREATER";e.FilterDialogI18n.I18N_FD_RANGES_HEADER_OPERATOR_NOT_GREATER_EQUAL="I18N_FD_RANGES_HEADER_OPERATOR_NOT_GREATER_EQUAL";e.FilterDialogI18n.I18N_FD_RANGES_HEADER_OPERATOR_NOT_LESS="I18N_FD_RANGES_HEADER_OPERATOR_NOT_LESS";e.FilterDialogI18n.I18N_FD_RANGES_HEADER_OPERATOR_NOT_LESS_EQUAL="I18N_FD_RANGES_HEADER_OPERATOR_NOT_LESS_EQUAL";e.FilterDialogI18n.I18N_FD_RANGES_INFO="I18N_FD_RANGES_INFO";e.FilterDialogI18n.I18N_FD_RANGES_INFO_ON_COMPOUND_DIMENSION="I18N_FD_RANGES_INFO_ON_COMPOUND_DIMENSION";e.FilterDialogI18n.I18N_FD_RANGES_OPERATOR_EXCLUDING="I18N_FD_RANGES_OPERATOR_EXCLUDING";e.FilterDialogI18n.I18N_FD_RANGES_OPERATOR_INCLUDING="I18N_FD_RANGES_OPERATOR_INCLUDING";e.FilterDialogI18n.I18N_FD_RANGES_PLACEHOLDER_EQUAL="I18N_FD_RANGES_PLACEHOLDER_EQUAL";e.FilterDialogI18n.I18N_FD_RANGES_PLACEHOLDER_MAX="I18N_FD_RANGES_PLACEHOLDER_MAX";e.FilterDialogI18n.I18N_FD_RANGES_PLACEHOLDER_MIN="I18N_FD_RANGES_PLACEHOLDER_MIN";e.FilterDialogI18n.I18N_FD_RANGES_PLACEHOLDER_NOT_EQUAL="I18N_FD_RANGES_PLACEHOLDER_NOT_EQUAL";e.FilterDialogI18n.I18N_FD_RANGES_REMOVE_RANGE="I18N_FD_RANGES_REMOVE_RANGE";e.FilterDialogI18n.I18N_FD_RANGES_SELECT_OPERATOR="I18N_FD_RANGES_SELECT_OPERATOR";e.FilterDialogI18n.I18N_FD_RANGES_TOOLTIP_EQUAL="I18N_FD_RANGES_TOOLTIP_EQUAL";e.FilterDialogI18n.I18N_FD_RANGES_TOOLTIP_MAX="I18N_FD_RANGES_TOOLTIP_MAX";e.FilterDialogI18n.I18N_FD_RANGES_TOOLTIP_MIN="I18N_FD_RANGES_TOOLTIP_MIN";e.FilterDialogI18n.I18N_FD_RANGES_TOOLTIP_NOT_EQUAL="I18N_FD_RANGES_TOOLTIP_NOT_EQUAL";e.FilterDialogI18n.I18N_FD_RANGES_UNSUPPORTED_TEXT1="I18N_FD_RANGES_UNSUPPORTED_TEXT1";e.FilterDialogI18n.I18N_FD_RANGES_UNSUPPORTED_TEXT2="I18N_FD_RANGES_UNSUPPORTED_TEXT2";e.FilterDialogI18n.I18N_FD_RANGES_UNSUPPORTED_TEXT3="I18N_FD_RANGES_UNSUPPORTED_TEXT3";e.FilterDialogI18n.I18N_FD_RANGES_WARN_VALUE_OUTSIDE_RANGE="I18N_FD_RANGES_WARN_VALUE_OUTSIDE_RANGE";e.FilterDialogI18n.I18N_FD_READMODE_SWITCH_BOOKED_DISABLED="I18N_FD_READMODE_SWITCH_BOOKED_DISABLED";e.FilterDialogI18n.I18N_FD_READMODE_SWITCH_UNBOOKED_DISABLED="I18N_FD_READMODE_SWITCH_UNBOOKED_DISABLED";e.FilterDialogI18n.I18N_FD_SEARCH="I18N_FD_SEARCH";e.FilterDialogI18n.I18N_FD_SEARCH_SIMPLIFIED="I18N_FD_SEARCH_SIMPLIFIED";e.FilterDialogI18n.I18N_FD_SEARCH_TOOLTIP="I18N_FD_SEARCH_TOOLTIP";e.FilterDialogI18n.I18N_FD_SELECTED_MEMBERS="I18N_FD_SELECTED_MEMBERS";e.FilterDialogI18n.I18N_FD_SELECTED_MEMBERS_CLEARED_ANNOUNCEMENT="I18N_FD_SELECTED_MEMBERS_CLEARED_ANNOUNCEMENT";e.FilterDialogI18n.I18N_FD_SELECTED_MEMBERS_REMOVE_ANNOUNCEMENT="I18N_FD_SELECTED_MEMBERS_REMOVE_ANNOUNCEMENT";e.FilterDialogI18n.I18N_FD_SELECTED_USERS="I18N_FD_SELECTED_USERS";e.FilterDialogI18n.I18N_FD_SELECTION_REQUIRED="I18N_FD_SELECTION_REQUIRED";e.FilterDialogI18n.I18N_FD_SELECT_ATTRIBUTE="I18N_FD_SELECT_ATTRIBUTE";e.FilterDialogI18n.I18N_FD_SELECT_MEMBER_FOR="I18N_FD_SELECT_MEMBER_FOR";e.FilterDialogI18n.I18N_FD_SETTINGS="I18N_FD_SETTINGS";e.FilterDialogI18n.I18N_FD_SHOW_ONLY_SELECTED_MEMBERS="I18N_FD_SHOW_ONLY_SELECTED_MEMBERS";e.FilterDialogI18n.I18N_FD_SHOW_PRESENTATION="I18N_FD_SHOW_PRESENTATION";e.FilterDialogI18n.I18N_FD_UNBOOKED_MEMBERS="I18N_FD_UNBOOKED_MEMBERS";e.FilterDialogI18n.I18N_FD_UNBOOKED_MEMBERS_USE_DEFAULT="I18N_FD_UNBOOKED_MEMBERS_USE_DEFAULT";e.FilterDialogI18n.I18N_FD_UNBOOKED_MEMBERS_USE_DEFAULT_TOOLTIP="I18N_FD_UNBOOKED_MEMBERS_USE_DEFAULT_TOOLTIP";e.FilterDialogI18n.I18N_FD_UNSUPPORTED_FILTER_CANCEL_BUTTON="I18N_FD_UNSUPPORTED_FILTER_CANCEL_BUTTON";e.FilterDialogI18n.I18N_FD_UNSUPPORTED_FILTER_DELETE_BUTTON="I18N_FD_UNSUPPORTED_FILTER_DELETE_BUTTON";e.FilterDialogI18n.I18N_FD_UNSUPPORTED_FILTER_FISCAL_RANGE_TEXT="I18N_FD_UNSUPPORTED_FILTER_FISCAL_RANGE_TEXT";e.FilterDialogI18n.I18N_FD_UNSUPPORTED_FILTER_INFO_LINK="I18N_FD_UNSUPPORTED_FILTER_INFO_LINK";e.FilterDialogI18n.I18N_FD_UNSUPPORTED_FILTER_NON_COMPOUND_FIELD_SUB_TEXT="I18N_FD_UNSUPPORTED_FILTER_NON_COMPOUND_FIELD_SUB_TEXT";e.FilterDialogI18n.I18N_FD_UNSUPPORTED_FILTER_NON_COMPOUND_FIELD_TEXT="I18N_FD_UNSUPPORTED_FILTER_NON_COMPOUND_FIELD_TEXT";e.FilterDialogI18n.I18N_FD_UNSUPPORTED_FILTER_TITLE="I18N_FD_UNSUPPORTED_FILTER_TITLE";e.FilterDialogI18n.staticSetup=function(){let t=new e.FilterDialogI18n;t.setupProvider("FilterDialogProgram",true);t.addTextWithComment(e.FilterDialogI18n.I18N_FD_OK,"OK","#XBUT: The text of the ok button");t.addTextWithComment(e.FilterDialogI18n.I18N_FD_CANCEL,"Cancel","#XBUT: The text of the cancel button");t.addTextWithComment(e.FilterDialogI18n.I18N_FD_SETTINGS,"Settings","#XTIT: The title of the settings panel");t.addTextWithComment(e.FilterDialogI18n.I18N_FD_NO_RESULTS,"No available members","#XMSG: Message shown when no members are available for selection");t.addTextWithComment(e.FilterDialogI18n.I18N_FD_NO_RESULTS_FOR_SEARCH,"There are no results for the searched member","#XMSG: Message shown when no members are available for selection");t.addTextWithComment(e.FilterDialogI18n.I18N_FD_NO_RESULTS_EXT,"There are no results for the searched member in the description section. It might be a fallback. Please try to search with ID.","#XMSG: Message shown when no members are available for linked variables selection");t.addTextWithComment(e.FilterDialogI18n.I18N_FD_MAX_RESULT_RECORDS_LIMIT_REACHED,"No available members are displayed as the member count is higher than the limit for possible members. Please use the search field to restrict the results.","#XMSG: Message shown when no members are available because the MaxResultRecords limit has been reached.");t.addTextWithComment(e.FilterDialogI18n.I18N_FD_MAX_RESULTS,"This list is restricted to {0} results. Please refine your search criteria.","#XMSG: Message shown when a search responds with too many members");t.addTextWithComment(e.FilterDialogI18n.I18N_FD_SELECTED_MEMBERS,"Selected Members","#XTIT: The title of the list showing the selected members");t.addTextWithComment(e.FilterDialogI18n.I18N_FD_EXCLUDED_MEMBERS,"Excluded Members","#XTIT: The title of the list showing the excluded members");t.addTextWithComment(e.FilterDialogI18n.I18N_FD_SELECTED_USERS,"Selected Users","#XTIT: The title of the list showing the selected members");t.addTextWithComment(e.FilterDialogI18n.I18N_FD_SELECTED_MEMBERS_REMOVE_ANNOUNCEMENT,"{0} has been removed from selection","#XMSG: Announcement read by screen readers after removing a member from the selected members list");t.addTextWithComment(e.FilterDialogI18n.I18N_FD_SELECTED_MEMBERS_CLEARED_ANNOUNCEMENT,"Selection has been cleared","#XMSG: Announcement read by screen readers the clear selection button has been pressed");t.addTextWithComment(e.FilterDialogI18n.I18N_FD_CLEAR_SELECTION,"Clear selection","#XBUT: The text of the clear selection button");t.addTextWithComment(e.FilterDialogI18n.I18N_FD_SHOW_PRESENTATION,"Display:","#XFLD: The label of the id and description dropdown");t.addTextWithComment(e.FilterDialogI18n.I18N_FD_PRESENTATION_ID,"ID","#XSEL: The ID presentation value");t.addTextWithComment(e.FilterDialogI18n.I18N_FD_PRESENTATION_DESCRIPTION,"Description","#XSEL: The description presentation value");t.addTextWithComment(e.FilterDialogI18n.I18N_FD_PRESENTATION_NAME,"Name","#XSEL: The name presentation value");t.addTextWithComment(e.FilterDialogI18n.I18N_FD_PRESENTATION_ID_AND_DESCRIPTION,"ID and Description","#XSEL: The ID and description presentation value");t.addTextWithComment(e.FilterDialogI18n.I18N_FD_PRESENTATION_DESCRIPTION_AND_ID,"Description and ID","#XSEL: The description and ID presentation value");t.addTextWithComment(e.FilterDialogI18n.I18N_FD_PRESENTATION_ID_AND_NAME,"ID and Name","#XSEL: The ID and name presentation value");t.addTextWithComment(e.FilterDialogI18n.I18N_FD_PRESENTATION_NAME_AND_ID,"Name and ID","#XSEL: The name and ID presentation value");t.addTextWithComment(e.FilterDialogI18n.I18N_FD_ATTRIBUTES,"Attributes:","#XFLD: The label of the attributes combobox");t.addTextWithComment(e.FilterDialogI18n.I18N_FD_SELECT_ATTRIBUTE,"Select Attribute","#XTOL: A placeholder for the attributes combobox");t.addTextWithComment(e.FilterDialogI18n.I18N_FD_HIERARCHY,"Hierarchy:","#XFLD: The label of the hierarchy dropdown");t.addTextWithComment(e.FilterDialogI18n.I18N_FD_HIERARCHY_FLAT_PRESENTATION,"Flat presentation","#XSEL: The hierarchy dropdown value for flat presentation, i.e. no hierarchy");t.addTextWithComment(e.FilterDialogI18n.I18N_FD_HIERARCHY_INFO,"Changing the hierarchy presentation will clear your current selection.","#XMSG: An info text that is shown in the hierarchy dropdown when a member selection already exists");t.addTextWithComment(e.FilterDialogI18n.I18N_FD_LOADING,"Loading...","#XSEL: An indicator shown in the tree to while child members of an expanded node are currently loading");t.addTextWithComment(e.FilterDialogI18n.I18N_FD_SEARCH,"Search in...","#XTOL: A placeholder for the search field");t.addTextWithComment(e.FilterDialogI18n.I18N_FD_SEARCH_SIMPLIFIED,"Search","#XTOL: A placeholder for the search field if no dropdown is available for choosing an attribute to search on");t.addTextWithComment(e.FilterDialogI18n.I18N_FD_SEARCH_TOOLTIP,"Select the option in which to search","#XTOL: A tooltip for the search in attributes dropdown");t.addTextWithComment(e.FilterDialogI18n.I18N_FD_PREVIOUS,"Previous page","#XTOL: A tooltip for the previous page button");t.addTextWithComment(e.FilterDialogI18n.I18N_FD_NEXT,"Next page","#XTOL: A tooltip for the next page button");t.addTextWithComment(e.FilterDialogI18n.I18N_FD_PAGE,"Page","#XFLD: A hidden label for paging buttons");t.addTextWithComment(e.FilterDialogI18n.I18N_FD_CURRENTPAGE,"{0} of {1}","#XMSG: A label showing the current page number that is displayed like '1 of 10'");t.addTextWithComment(e.FilterDialogI18n.I18N_FD_NULL,"(Null)","#XSEL: A text for representing a NULL member");t.addTextWithComment(e.FilterDialogI18n.I18N_FD_NO_VALUE,"(No Value)","#XSEL: A text for representing an empy member");t.addTextWithComment(e.FilterDialogI18n.I18N_FD_ERR_VH_SERVER_ERROR,"A server error has occurred, and the values cannot be processed. Please try again.","#XMSG: A message displayed when the value help response contains an error");t.addTextWithComment(e.FilterDialogI18n.I18N_FD_UNBOOKED_MEMBERS,"Show unbooked members","#XFLD: A label for the unbooked members switch");t.addTextWithComment(e.FilterDialogI18n.I18N_FD_UNBOOKED_MEMBERS_USE_DEFAULT,"Use Default","#XCKL: A label for the default read mode usage");t.addTextWithComment(e.FilterDialogI18n.I18N_FD_UNBOOKED_MEMBERS_USE_DEFAULT_TOOLTIP,"Applies type for filter value selection as defined in BW query","#XTOL: A label for the default read mode usage");t.addTextWithComment(e.FilterDialogI18n.I18N_FD_AVAILABLE_MEMBERS,"Available members:","#XFLD: A label for the members dropdown");t.addTextWithComment(e.FilterDialogI18n.I18N_FD_MEMBERS_DEFAULT,"Default ({0})","#XSEL: The Default selection value for available members including the effective value in brackets.");t.addTextWithComment(e.FilterDialogI18n.I18N_FD_MEMBERS_DEFAULT_WITHOUT_EFFECTIVE,"Default","#XSEL: The Default selection value for available members without the effective value in brackets.");t.addTextWithComment(e.FilterDialogI18n.I18N_FD_MEMBERS_BOOKED_CASCADING,"Cascaded Members","#XSEL: The Booked Cascading selection value for available members");t.addTextWithComment(e.FilterDialogI18n.I18N_FD_MEMBERS_BOOKED,"Booked Members","#XSEL: The Booked selection value for available members");t.addTextWithComment(e.FilterDialogI18n.I18N_FD_MEMBERS_MASTER,"All Members","#XSEL: The Master selection value for available members");t.addTextWithComment(e.FilterDialogI18n.I18N_FD_MEMBERS_DIM_RELATIONSHIPS,"Dimension Relationships","#XSEL: The Dimension Relationships value for available members");t.addTextWithComment(e.FilterDialogI18n.I18N_FD_EXCLUDE_MEMBERS,"Exclude selected members","#XFLD: A label for the exclude switch");t.addTextWithComment(e.FilterDialogI18n.I18N_FD_MEMBER_SELECTION,"Member selection:","#XFLD: A label for the include-exclude toggle button");t.addTextWithComment(e.FilterDialogI18n.I18N_FD_INCLUDE,"Include","#XFLD: A label for the include toggle button");t.addTextWithComment(e.FilterDialogI18n.I18N_FD_EXCLUDE,"Exclude","#XFLD: A label for the exclude toggle button");t.addTextWithComment(e.FilterDialogI18n.I18N_FD_ERR_NO_VALUES_FOR_MANDATORY_VARIABLES,"Please set values for all mandatory variables","#XMSG: A message shown when the mandatory variables must be set first before opening the filter dialog for the current variable");t.addTextWithComment(e.FilterDialogI18n.I18N_FD_READMODE_SWITCH_BOOKED_DISABLED,"Showing unbooked members is not supported","#XTOL: A tooltip for the unbooked members switch");t.addTextWithComment(e.FilterDialogI18n.I18N_FD_READMODE_SWITCH_UNBOOKED_DISABLED,"Showing booked members only is not supported","#XTOL: A tooltip for the unbooked members switch");t.addTextWithComment(e.FilterDialogI18n.I18N_FD_SHOW_ONLY_SELECTED_MEMBERS,"Show only selected members","#XBUT: A text for a button showing only the selected members in the list");t.addTextWithComment(e.FilterDialogI18n.I18N_FD_SELECT_MEMBER_FOR,"Select Member for {0}","#XTIT: A dialog title for selecting a member for a specific variable");t.addTextWithComment(e.FilterDialogI18n.I18N_FD_SELECTION_REQUIRED,"Please select at least one item to set the filter","#XMSG: A post message shown when selecting at least 1 item is required but user didn't select anything");t.addTextWithComment(e.FilterDialogI18n.I18N_FD_CLIPBOARD_VALUES_NOT_FOUND,"Some values could not be found and were not applied.","#XMSG: A post message shown when not all values which were pasted to the clipboard are valid members");t.addTextWithComment(e.FilterDialogI18n.I18N_FD_HIER_VERSION,"Version","#XSEL: A presentation value in hierarchy catalog");t.addTextWithComment(e.FilterDialogI18n.I18N_FD_HIER_OBJECT_VERSION,"Object Version","#XSEL: A presentation value in hierarchy catalog");t.addTextWithComment(e.FilterDialogI18n.I18N_FD_HIER_DATE_FROM,"Date from","#XSEL: A presentation value in hierarchy catalog");t.addTextWithComment(e.FilterDialogI18n.I18N_FD_HIER_DATE_TO,"Date to","#XSEL: A presentation value in hierarchy catalog");t.addTextWithComment(e.FilterDialogI18n.I18N_FD_COMPARISON_OPERATOR_EQUAL,"Equal","#XSEL: An item in the comparison operator dropdown for range selection");t.addTextWithComment(e.FilterDialogI18n.I18N_FD_COMPARISON_OPERATOR_NOT_EQUAL,"Not Equal","#XSEL: An item in the comparison operator dropdown for range selection");t.addTextWithComment(e.FilterDialogI18n.I18N_FD_COMPARISON_OPERATOR_GREATER,"Greater Than","#XSEL: An item in the comparison operator dropdown for range selection");t.addTextWithComment(e.FilterDialogI18n.I18N_FD_COMPARISON_OPERATOR_GREATER_EQUAL,"Greater Than or Equal To","#XSEL: An item in the comparison operator dropdown for range selection");t.addTextWithComment(e.FilterDialogI18n.I18N_FD_COMPARISON_OPERATOR_LESS,"Less Than","#XSEL: An item in the comparison operator dropdown for range selection");t.addTextWithComment(e.FilterDialogI18n.I18N_FD_COMPARISON_OPERATOR_LESS_EQUAL,"Less Than or Equal To","#XSEL: An item in the comparison operator dropdown for range selection");t.addTextWithComment(e.FilterDialogI18n.I18N_FD_COMPARISON_OPERATOR_BETWEEN,"Between","#XSEL: An item in the comparison operator dropdown for range selection");t.addTextWithComment(e.FilterDialogI18n.I18N_FD_COMPARISON_OPERATOR_NOT_BETWEEN,"Not Between","#XSEL: An item in the comparison operator dropdown for range selection");t.addTextWithComment(e.FilterDialogI18n.I18N_FD_COMPARISON_OPERATOR_IS_NULL,"Is Null","#XSEL: An item in the comparison operator dropdown for range selection");t.addTextWithComment(e.FilterDialogI18n.I18N_FD_COMPARISON_OPERATOR_IS_NOT_NULL,"Is Not Null","#XSEL: An item in the comparison operator dropdown for range selection");t.addTextWithComment(e.FilterDialogI18n.I18N_FD_COMPARISON_OPERATOR_NOT_GREATER,"Not Greater Than","#XSEL: An item in the comparison operator dropdown for range selection");t.addTextWithComment(e.FilterDialogI18n.I18N_FD_COMPARISON_OPERATOR_NOT_GREATER_EQUAL,"Not Greater Than or Equal To","#XSEL: An item in the comparison operator dropdown for range selection");t.addTextWithComment(e.FilterDialogI18n.I18N_FD_COMPARISON_OPERATOR_NOT_LESS,"Not Less Than","#XSEL: An item in the comparison operator dropdown for range selection");t.addTextWithComment(e.FilterDialogI18n.I18N_FD_COMPARISON_OPERATOR_NOT_LESS_EQUAL,"Not Less Than or Equal To","#XSEL: An item in the comparison operator dropdown for range selection");t.addTextWithComment(e.FilterDialogI18n.I18N_FD_FILTER_TAB_LIST,"Filter by Member","#XTIT: A tab title for list view.");t.addTextWithComment(e.FilterDialogI18n.I18N_FD_FILTER_TAB_RANGE,"Filter by Range","#XTIT: A tab title for range view.");t.addTextWithComment(e.FilterDialogI18n.I18N_FD_RANGES_HEADER,"Range {0}: {1}","#XTIT: A basic title for a range containing the range number and the range description");t.addTextWithComment(e.FilterDialogI18n.I18N_FD_RANGES_HEADER_GENERIC,"Range {0}","#XTIT: A basic title for a range containing the range number but no description yet");t.addTextWithComment(e.FilterDialogI18n.I18N_FD_RANGES_HEADER_OPERATOR_EQUAL,"Equal To {0}","#XTIT: The range title description for comparison operator equal");t.addTextWithComment(e.FilterDialogI18n.I18N_FD_RANGES_HEADER_OPERATOR_NOT_EQUAL,"Not Equal To {0}","#XTIT: The range title description for comparison operator not-equal");t.addTextWithComment(e.FilterDialogI18n.I18N_FD_RANGES_HEADER_OPERATOR_GREATER,"Greater Than {0}","#XTIT: The range title description for comparison operator greater");t.addTextWithComment(e.FilterDialogI18n.I18N_FD_RANGES_HEADER_OPERATOR_GREATER_EQUAL,"Greater Than or Equal To {0}","#XTIT: The range title description for comparison operator greater-equal");t.addTextWithComment(e.FilterDialogI18n.I18N_FD_RANGES_HEADER_OPERATOR_LESS,"Less Than {0}","#XTIT: The range title description for comparison operator less");t.addTextWithComment(e.FilterDialogI18n.I18N_FD_RANGES_HEADER_OPERATOR_LESS_EQUAL,"Less Than or Equal To {0}","#XTIT: The range title description for comparison operator less-equal");t.addTextWithComment(e.FilterDialogI18n.I18N_FD_RANGES_HEADER_OPERATOR_BETWEEN,"Between {0} and {1}","#XTIT: The range title description for comparison operator between");t.addTextWithComment(e.FilterDialogI18n.I18N_FD_RANGES_HEADER_OPERATOR_NOT_BETWEEN,"Not Between {0} and {1}","#XTIT: The range title description for comparison operator not-between");t.addTextWithComment(e.FilterDialogI18n.I18N_FD_RANGES_HEADER_OPERATOR_NOT_GREATER,"Not Greater Than {0}","#XTIT: The range title description for comparison operator not greater");t.addTextWithComment(e.FilterDialogI18n.I18N_FD_RANGES_HEADER_OPERATOR_NOT_GREATER_EQUAL,"Not Greater Than or Equal To {0}","#XTIT: The range title description for comparison operator not greater-equal");t.addTextWithComment(e.FilterDialogI18n.I18N_FD_RANGES_HEADER_OPERATOR_NOT_LESS,"Not Less Than {0}","#XTIT: The range title description for comparison operator not less");t.addTextWithComment(e.FilterDialogI18n.I18N_FD_RANGES_HEADER_OPERATOR_NOT_LESS_EQUAL,"Not Less Than or Equal To {0}","#XTIT: The range title description for comparison operator not less-equal");t.addTextWithComment(e.FilterDialogI18n.I18N_FD_RANGES_INFO,"Available range: {0} - {1}","#XMSG: A message describing the available numeric range");t.addTextWithComment(e.FilterDialogI18n.I18N_FD_RANGES_ADD_NEW,"Add a new range","#XBUT: The text of the add new range button");t.addTextWithComment(e.FilterDialogI18n.I18N_FD_RANGES_ADD_NEW_DISABLED_TOOLTIP,"Range {0} is not valid.","#XTOL: A button tooltip describing the disabled state");t.addTextWithComment(e.FilterDialogI18n.I18N_FD_RANGES_SELECT_OPERATOR,"Operator:","#XFLD: The label of the comparison operator dropdown");t.addTextWithComment(e.FilterDialogI18n.I18N_FD_RANGES_OPERATOR_INCLUDING,"Including","#XTIT: The group header for including operators in the comparison operator dropdown");t.addTextWithComment(e.FilterDialogI18n.I18N_FD_RANGES_OPERATOR_EXCLUDING,"Excluding","#XTIT: The group header for excluding operators in the comparison operator dropdown");t.addTextWithComment(e.FilterDialogI18n.I18N_FD_RANGES_BETWEEN_LABEL,"and","#XFLD: A label shown between the 2 ranges fields for min and max values");t.addTextWithComment(e.FilterDialogI18n.I18N_FD_RANGES_REMOVE_RANGE,"Remove range {0}","#XTOL: A tooltip for the remove range button");t.addTextWithComment(e.FilterDialogI18n.I18N_FD_RANGES_PLACEHOLDER_MIN,"Min","#XTOL: A placeholder for the min value in a range");t.addTextWithComment(e.FilterDialogI18n.I18N_FD_RANGES_PLACEHOLDER_MAX,"Max","#XTOL: A placeholder for the max value in a range");t.addTextWithComment(e.FilterDialogI18n.I18N_FD_RANGES_PLACEHOLDER_EQUAL,"Equal To","#XTOL: A placeholder shown in the input field when the equal comparison operator is chosen in a range");t.addTextWithComment(e.FilterDialogI18n.I18N_FD_RANGES_PLACEHOLDER_NOT_EQUAL,"Not Equal To","#XTOL: A placeholder shown in the input field when the not-equal comparison operator is chosen in a range");t.addTextWithComment(e.FilterDialogI18n.I18N_FD_RANGES_TOOLTIP_MIN,"Range {0}, minimum value","#XTOL: A tooltip shown for the min value in a range");t.addTextWithComment(e.FilterDialogI18n.I18N_FD_RANGES_TOOLTIP_MAX,"Range {0}, maximum value","#XTOL: A tooltip shown for the max value in a range");t.addTextWithComment(e.FilterDialogI18n.I18N_FD_RANGES_TOOLTIP_EQUAL,"Range {0}, equal to value","#XTOL: A tooltip shown for the equal-to value in a range");t.addTextWithComment(e.FilterDialogI18n.I18N_FD_RANGES_TOOLTIP_NOT_EQUAL,"Range {0}, not equal to value","#XTOL: A tooltip shown for the not-equal-to value in a range");t.addTextWithComment(e.FilterDialogI18n.I18N_FD_RANGES_ERROR_ENTER_NUMBER,"Please enter a number.","#XMSG: Error message shown when a number is not valid");t.addTextWithComment(e.FilterDialogI18n.I18N_FD_RANGES_ERROR_ENTER_VALUE,"Please enter a value.","#XMSG: Error shown when no value is provided in an input field in a range");t.addTextWithComment(e.FilterDialogI18n.I18N_FD_RANGES_ERROR_NOT_VALID,"The value is not valid.","#XMSG: Error shown when a provided non-numeric value is not valid");t.addTextWithComment(e.FilterDialogI18n.I18N_FD_RANGES_ERROR_MIN_GREATER_MAX,"The start value cannot be bigger than the end value.","#XMSG: Error shown when the start value is bigger the end value");t.addTextWithComment(e.FilterDialogI18n.I18N_FD_RANGES_WARN_VALUE_OUTSIDE_RANGE,"Input value is outside the available value range.","#XMSG: Warning shown when the provided range is outside the available range");t.addTextWithComment(e.FilterDialogI18n.I18N_FD_RANGES_UNSUPPORTED_TEXT1,"You can't mix ranges with member selection in a hierarchy.","#XMSG: Part 1 of a message displayed when adding a range is not possible because a hierarchy is active and members from this hierarchy have already been selected");t.addTextWithComment(e.FilterDialogI18n.I18N_FD_RANGES_UNSUPPORTED_TEXT2,"Clear your current selection to filter by range.","#XMSG: Part 2 of a message displayed when adding a range is not possible because a hierarchy is active and members from this hierarchy have already been selected");t.addTextWithComment(e.FilterDialogI18n.I18N_FD_RANGES_UNSUPPORTED_TEXT3,"If you want to mix member selection and ranges, use the flat presentation.","#XMSG: Part 3 of a message displayed when adding a range is not possible because a hierarchy is active and members from this hierarchy have already been selected");t.addTextWithComment(e.FilterDialogI18n.I18N_FD_RANGES_INFO_ON_COMPOUND_DIMENSION,"Filter by range is only applied to the non-compounded key of this compounded dimension.","#XMSG: Info message shown when the user tries to define a range filter on a compound dimension");t.addTextWithComment(e.FilterDialogI18n.I18N_FD_DATE_RANGE_HIERARCHY,"Hierarchy:","#XFLD: A label of the hierarchy dropdown in a date range");t.addTextWithComment(e.FilterDialogI18n.I18N_FD_DATE_RANGE_HEADER,"From {0} to {1}","#XTIT: A title for a date range");t.addTextWithComment(e.FilterDialogI18n.I18N_FD_DATE_RANGE_FIXED,"Fixed Date","#XBUT: A text for selecting a fixed range");t.addTextWithComment(e.FilterDialogI18n.I18N_FD_DATE_RANGE_DYNAMIC,"Dynamic Date","#XBUT: A text for selecting a dynamic range");t.addTextWithComment(e.FilterDialogI18n.I18N_FD_DATE_RANGE_TYPE,"Range Type:","#XFLD: A label for the date range type dropdown");t.addTextWithComment(e.FilterDialogI18n.I18N_FD_DATE_RANGE_GRANULARITY,"Granularity:","#XFLD: A label for the date range granularity dropdown");t.addTextWithComment(e.FilterDialogI18n.I18N_FD_DATE_RANGE_LOOK_BACK,"Look Back:","#XFLD: A label for the date range look back input");t.addTextWithComment(e.FilterDialogI18n.I18N_FD_DATE_RANGE_LOOK_AHEAD,"Look Ahead:","XFLD: A label for the date range look ahead input");t.addTextWithComment(e.FilterDialogI18n.I18N_FD_DATE_RANGE_CURRENT_PERIOD,"Current Period:","XFLD: A label for the date range current period description");t.addTextWithComment(e.FilterDialogI18n.I18N_FD_DATE_RANGE_OFFSET_PERIOD,"Offset Period:","#XFLD: A label for the date range offset period description");t.addTextWithComment(e.FilterDialogI18n.I18N_FD_DATE_RANGE_OFFSET_DIRECTION,"Offset Direction:","XFLD: A label for the date range offset direction dropdown");t.addTextWithComment(e.FilterDialogI18n.I18N_FD_DATE_RANGE_OFFSET_GRANULARITY,"Offset Granularity:","XFLD: A label for the date range offset granularity dropdown");t.addTextWithComment(e.FilterDialogI18n.I18N_FD_DATE_RANGE_OFFSET_AMOUNT,"Offset Amount:","XFLD: A label for the date range offset amount input");t.addTextWithComment(e.FilterDialogI18n.I18N_FD_DATE_RANGE_INCLUDE_UP_TO_CURRENT_PERIOD,"Include range up to current period:","#XFLD: A label for the up-to-current-period toggle");t.addTextWithComment(e.FilterDialogI18n.I18N_FD_DATE_RANGE_INCLUDE_UP_TO_OFFSET_PERIOD,"Include range up to offset period:","#XFLD: A label for the up-to-offset-period toggle");t.addTextWithComment(e.FilterDialogI18n.I18N_FD_DATE_RANGE_FROM,"From:","#XFLD: A label for the from date selection in a fixed date range");t.addTextWithComment(e.FilterDialogI18n.I18N_FD_DATE_RANGE_TO,"To:","#XFLD: A label for the to date selection in a fixed date range");t.addTextWithComment(e.FilterDialogI18n.I18N_FD_DATE_RANGE_ERROR_MIN_GREATER_MAX,"The start date cannot be later than the end date.","#XMSG: Error shown when the start date is later than the end date");t.addTextWithComment(e.FilterDialogI18n.I18N_FD_DATE_RANGE_ERROR_INVALID_DATE_FORMAT,"The input is not a valid date format ({0}).","#XMSG: Error shown when the date valid is not in a valid format");t.addTextWithComment(e.FilterDialogI18n.I18N_FD_DATE_RANGE_ERROR_START_DATE_OUTSIDE_RANGE,"The start date is outside the selectable range.","#XMSG: Error shown when the start date range is outside the available range");t.addTextWithComment(e.FilterDialogI18n.I18N_FD_DATE_RANGE_ERROR_END_DATE_OUTSIDE_RANGE,"The end date is outside the selectable range.","#XMSG: Error shown when the end date range is outside the available range");t.addTextWithComment(e.FilterDialogI18n.I18N_FD_DATE_RANGE_ERROR_NUMBER_BETWEEN,"Please enter a number between {0} and {1}.","#XMSG: Error shown when the provided number of years/months/etc. for look back or ahead is outside the supported range");t.addTextWithComment(e.FilterDialogI18n.I18N_FD_DATE_RANGE_VALUE_TYPE_STANDARD,"Standard","#XSEL: A value in the date range type dropdown");t.addTextWithComment(e.FilterDialogI18n.I18N_FD_DATE_RANGE_VALUE_TYPE_OFFSET,"Offset","#XSEL: A value in the date range type dropdown");t.addTextWithComment(e.FilterDialogI18n.I18N_FD_DATE_RANGE_VALUE_OFFSET_DIRECTION_LOOK_BACK,"Look Back","#XSEL: A value in the date range offset direction dropdown");t.addTextWithComment(e.FilterDialogI18n.I18N_FD_DATE_RANGE_VALUE_OFFSET_DIRECTION_LOOK_AHEAD,"Look Ahead","#XSEL: A value in the date range offset direction dropdown");t.addTextWithComment(e.FilterDialogI18n.I18N_FD_DATE_RANGE_VALUE_GRANULARITY_YEAR,"Year","#XSEL: A value in the date range granularity dropdown");t.addTextWithComment(e.FilterDialogI18n.I18N_FD_DATE_RANGE_VALUE_GRANULARITY_HALFYEAR,"Half Year","#XSEL: A value in the date range granularity dropdown");t.addTextWithComment(e.FilterDialogI18n.I18N_FD_DATE_RANGE_VALUE_GRANULARITY_QUARTER,"Quarter","#XSEL: A value in the date range granularity dropdown");t.addTextWithComment(e.FilterDialogI18n.I18N_FD_DATE_RANGE_VALUE_GRANULARITY_MONTH,"Month","#XSEL: A value in the date range granularity dropdown");t.addTextWithComment(e.FilterDialogI18n.I18N_FD_DATE_RANGE_VALUE_GRANULARITY_DAY,"Day","#XSEL: A value in the date range granularity dropdown");t.addTextWithComment(e.FilterDialogI18n.I18N_FD_DATE_RANGE_VALUE_GRANULARITY_CURRENT_YEAR,"Current Year","#XSEL: A value in the date range granularity dropdown");t.addTextWithComment(e.FilterDialogI18n.I18N_FD_DATE_RANGE_VALUE_GRANULARITY_CURRENT_QUARTER,"Current Quarter","#XSEL: A value in the date range granularity dropdown");t.addTextWithComment(e.FilterDialogI18n.I18N_FD_DATE_RANGE_VALUE_GRANULARITY_CURRENT_MONTH,"Current Month","#XSEL: A value in the date range granularity dropdown");t.addTextWithComment(e.FilterDialogI18n.I18N_FD_DATE_RANGE_VALUE_FROM_START,"Start","#XSEL: A value in the fixed date range year dropdown");t.addTextWithComment(e.FilterDialogI18n.I18N_FD_DATE_RANGE_VALUE_TO_END,"End","#XSEL: A value in the fixed date range year dropdown");t.addTextWithComment(e.FilterDialogI18n.I18N_FD_HALFYEAR1,"H1","#XSEL: A value in the date range half year dropdown");t.addTextWithComment(e.FilterDialogI18n.I18N_FD_HALFYEAR2,"H2","#XSEL: A value in the date range half year dropdown");t.addTextWithComment(e.FilterDialogI18n.I18N_FD_QUARTER1,"Q1","#XSEL: A value in the date range quarter dropdown");t.addTextWithComment(e.FilterDialogI18n.I18N_FD_QUARTER2,"Q2","#XSEL: A value in the date range quarter dropdown");t.addTextWithComment(e.FilterDialogI18n.I18N_FD_QUARTER3,"Q3","#XSEL: A value in the date range quarter dropdown");t.addTextWithComment(e.FilterDialogI18n.I18N_FD_QUARTER4,"Q4","#XSEL: A value in the date range quarter dropdown");t.addTextWithComment(e.FilterDialogI18n.I18N_FD_MONTH1,"Jan","#XSEL: A value in the date range month dropdown");t.addTextWithComment(e.FilterDialogI18n.I18N_FD_MONTH2,"Feb","#XSEL: A value in the date range month dropdown");t.addTextWithComment(e.FilterDialogI18n.I18N_FD_MONTH3,"Mar","#XSEL: A value in the date range month dropdown");t.addTextWithComment(e.FilterDialogI18n.I18N_FD_MONTH4,"Apr","#XSEL: A value in the date range month dropdown");t.addTextWithComment(e.FilterDialogI18n.I18N_FD_MONTH5,"May","#XSEL: A value in the date range month dropdown");t.addTextWithComment(e.FilterDialogI18n.I18N_FD_MONTH6,"Jun","#XSEL: A value in the date range month dropdown");t.addTextWithComment(e.FilterDialogI18n.I18N_FD_MONTH7,"Jul","#XSEL: A value in the date range month dropdown");t.addTextWithComment(e.FilterDialogI18n.I18N_FD_MONTH8,"Aug","#XSEL: A value in the date range month dropdown");t.addTextWithComment(e.FilterDialogI18n.I18N_FD_MONTH9,"Sep","#XSEL: A value in the date range month dropdown");t.addTextWithComment(e.FilterDialogI18n.I18N_FD_MONTH10,"Oct","#XSEL: A value in the date range month dropdown");t.addTextWithComment(e.FilterDialogI18n.I18N_FD_MONTH11,"Nov","#XSEL: A value in the date range month dropdown");t.addTextWithComment(e.FilterDialogI18n.I18N_FD_MONTH12,"Dec","#XSEL: A value in the date range month dropdown");t.addTextWithComment(e.FilterDialogI18n.I18N_FD_MBF_DIMENSION_CONTEXT,"Dimension Context:","#XFLD: A label for the dimension context dropdown for measure based filters");t.addTextWithComment(e.FilterDialogI18n.I18N_FD_MBF_DIMENSION_CONTEXT_INFO,"Edit dimension context for aggregation.","#XACT: A text shown in a popover for the dimension context dropdown for measure based filters");t.addTextWithComment(e.FilterDialogI18n.I18N_FD_MBF_DIMENSION_CONTEXT_INFO_REQUIRED_DIMENSION,"Mandatory dimension:","#XACT: A text shown in a popover for the dimension context dropdown for measure based filters when a required dimension exists");t.addTextWithComment(e.FilterDialogI18n.I18N_FD_MBF_DIMENSION_CONTEXT_INFO_REQUIRED_DIMENSIONS,"Mandatory dimensions:","#XACT: A text shown in a popover for the dimension context dropdown for measure based filters when required dimensions exist");t.addTextWithComment(e.FilterDialogI18n.I18N_FD_MBF_DIMENSION_CONTEXT_INFO_REQUIRED_DIMENSION_LIST,"{0}.","#XACT: A bold enumeration of dimensions shown in a popover for the dimension context dropdown for measure based filters when required dimensions exist");t.addTextWithComment(e.FilterDialogI18n.I18N_FD_MBF_DIMENSION_CONTEXT_ERROR_NO_SELECTION,"At least one dimension must be selected.","#XMSG: Error shown when no dimension context has been selected for a measure based filter");t.addTextWithComment(e.FilterDialogI18n.I18N_FD_MBF_MEASURE_CONTEXT,"Measure Context:","#XFLD: A label for the measure context dropdown for measure based filters");t.addTextWithComment(e.FilterDialogI18n.I18N_FD_MBF_MEASURE_CONTEXT_INFO,"A measure selection is required for this model.","#XACT:  A text shown in a popover for the measure context dropdown for measure based filters");t.addTextWithComment(e.FilterDialogI18n.I18N_FD_UNSUPPORTED_FILTER_TITLE,"Incompatible Filter","#XTIT: The title of the popup for unsupported filters");t.addTextWithComment(e.FilterDialogI18n.I18N_FD_UNSUPPORTED_FILTER_DELETE_BUTTON,"Delete Filter","#XBUT: The text of the button to clear the unsupported filter");t.addTextWithComment(e.FilterDialogI18n.I18N_FD_UNSUPPORTED_FILTER_CANCEL_BUTTON,"Cancel","#XBUT: The text of the button to cancel the popup and not clear the unsupported filter");t.addTextWithComment(e.FilterDialogI18n.I18N_FD_UNSUPPORTED_FILTER_INFO_LINK,"Learn more...","#XLNK: The link to the documentation to show more details");t.addTextWithComment(e.FilterDialogI18n.I18N_FD_UNSUPPORTED_FILTER_FISCAL_RANGE_TEXT,"To edit the filter of this fiscal dimension, you must first delete the applied filter.","#XMSG: The text describing the unsupported filter on non-compound fields");t.addTextWithComment(e.FilterDialogI18n.I18N_FD_UNSUPPORTED_FILTER_NON_COMPOUND_FIELD_TEXT,"To edit the filter of this compounded dimension, you must first delete the applied filter.","#XMSG: The text describing the unsupported fiscal range filter");t.addTextWithComment(e.FilterDialogI18n.I18N_FD_UNSUPPORTED_FILTER_NON_COMPOUND_FIELD_SUB_TEXT,"Range filters on fiscal dimensions are not supported.","#XMSG: The text describing the unsupported fiscal range filter");return t};e.FdModel=function(){};e.FdModel.prototype=new e.XObject;e.FdModel.prototype._ff_c="FdModel";e.FdModel.create=function(t){return e.FdModel.createExt(t,false,null,null)};e.FdModel.createExt=function(t,i,o,n){let a=new e.FdModel;a.setupModel(t,i,o,n);return a};e.FdModel.prototype.m_childNodesPageSize=0;e.FdModel.prototype.m_configuration=null;e.FdModel.prototype.m_contentProvider=null;e.FdModel.prototype.m_controller=null;e.FdModel.prototype.m_currentPage=0;e.FdModel.prototype.m_defaultExpandLevel=0;e.FdModel.prototype.m_excludeSwitchOn=false;e.FdModel.prototype.m_featureAvailabilityChangeListeners=null;e.FdModel.prototype.m_features=null;e.FdModel.prototype.m_hierarchyModel=null;e.FdModel.prototype.m_initialSearchValue=null;e.FdModel.prototype.m_items=null;e.FdModel.prototype.m_lastReadMode=null;e.FdModel.prototype.m_listenerOnItemsAdded=null;e.FdModel.prototype.m_listenerOnPageChanged=null;e.FdModel.prototype.m_mobile=false;e.FdModel.prototype.m_pageCount=0;e.FdModel.prototype.m_pageSize=0;e.FdModel.prototype.m_presentationsModel=null;e.FdModel.prototype.m_queryDefaultReadMode=null;e.FdModel.prototype.m_rangeModel=null;e.FdModel.prototype.m_selectedItems=null;e.FdModel.prototype.m_selectionChangeListeners=null;e.FdModel.prototype.m_selectionMode=null;e.FdModel.prototype.m_sessionData=null;e.FdModel.prototype.m_supportedReadModes=null;e.FdModel.prototype.m_supportsDisplayKey=false;e.FdModel.prototype.m_totalPageCount=0;e.FdModel.prototype.m_viewTypes=null;e.FdModel.prototype.addItems=function(t,i){if(e.notNull(this.m_lastReadMode)||this.m_hierarchyModel.isActiveHierarchyChanged()){this.m_items=e.XObjectExt.release(this.m_items);this.m_items=e.XLinkedHashMapByString.create();this.m_currentPage=0;this.m_pageCount=0;this.m_lastReadMode=null;this.m_hierarchyModel.resetHierarchyChangedState()}if(e.XCollectionUtils.hasElements(t)&&i>=0){let o=this.getPageSize();let n=t.size();if(n<=o){this.m_items.put(e.XInteger.convertToString(i),t);this.m_pageCount=i>=this.m_pageCount?i+1:this.m_pageCount}else{let a=i;let r=0;let l=0;while(n>l){l=l+o;this.m_items.put(e.XInteger.convertToString(a),t.sublist(r,e.XMath.min(l,n)).createListCopy());r=r+o;a++}this.m_pageCount=e.XMath.max(a,this.m_pageCount)}if(e.notNull(this.m_listenerOnItemsAdded)){this.m_listenerOnItemsAdded()}}};e.FdModel.prototype.addToSelection=function(t){if(e.notNull(t)){this.m_selectedItems.add(t);this.onSelectionChanged()}};e.FdModel.prototype.changeSelection=function(t,i){if(e.notNull(i)){for(let o=i.size()-1;o>=0;o--){let n=i.get(o);if(e.isNull(t)||!t.contains(n)){this.m_selectedItems.removeElement(n)}}}if(e.notNull(t)){for(let i=0;i<t.size();i++){let o=t.get(i);if(!this.m_selectedItems.contains(o)){if(this.isFeatureEnabled(e.FdFeature.EXCLUDE)&&o.getFdComparisonOperator().isEqualOperator()){o.setExcluded(this.isExcludeSwitchOn())}this.m_selectedItems.add(o)}}}this.onSelectionChanged()};e.FdModel.prototype.clearSelection=function(){this.m_selectedItems.clear();this.onSelectionChanged()};e.FdModel.prototype.containsRangeSelectionOnly=function(){return e.XCollectionUtils.hasElements(this.m_selectedItems)&&!e.XCollectionUtils.contains(this.m_selectedItems,e=>e.getFdComparisonOperator().isEqualOperator())};e.FdModel.prototype.getChildNodesPageSize=function(){return this.m_childNodesPageSize};e.FdModel.prototype.getConfig=function(){return this.m_configuration};e.FdModel.prototype.getContentProvider=function(){return this.m_contentProvider};e.FdModel.prototype.getDefaultExpandLevel=function(){return this.m_defaultExpandLevel};e.FdModel.prototype.getEffectiveReadMode=function(){let t=this.getReadMode();return t===e.OlapUiReadMode.QUERY_DEFAULT?this.m_queryDefaultReadMode:t};e.FdModel.prototype.getHierarchyModel=function(){return this.m_hierarchyModel};e.FdModel.prototype.getInitialSearchValue=function(){return this.m_initialSearchValue};e.FdModel.prototype.getItems=function(t,i){let o=e.XList.create();let n=this.m_items.getValuesAsReadOnlyList();let a=n.size();let r=i===-1?a:e.XMath.min(i+1,a);for(let e=t;e<r;e++){o.addAll(n.get(e))}return o};e.FdModel.prototype.getItemsByPage=function(t){return this.m_items.getByKey(e.XInteger.convertToString(t))};e.FdModel.prototype.getItemsOnCurrentPage=function(){this.m_initialSearchValue=null;let t=this.getItemsByPage(this.m_currentPage);return e.notNull(t)?t:e.XList.create()};e.FdModel.prototype.getMissingPresentations=function(e,t){return this.supportsPresentations()?this.m_contentProvider.getMissingPresentations(e,t):null};e.FdModel.prototype.getPage=function(){return this.m_currentPage};e.FdModel.prototype.getPageCount=function(){return this.m_pageCount};e.FdModel.prototype.getPageSize=function(){return this.m_hierarchyModel.isHierarchical()?this.m_childNodesPageSize:this.m_pageSize};e.FdModel.prototype.getPresentationsModel=function(){if(e.isNull(this.m_presentationsModel)){this.m_presentationsModel=e.FdPresentationsModel.create(this)}return this.m_presentationsModel};e.FdModel.prototype.getQueryDefaultReadMode=function(){return this.m_queryDefaultReadMode};e.FdModel.prototype.getRangeModel=function(){if(e.isNull(this.m_rangeModel)){this.m_rangeModel=e.FdRangeModel.create()}return this.m_rangeModel};e.FdModel.prototype.getReadMode=function(){return this.supportsReadModes()?this.m_contentProvider.getReadMode():null};e.FdModel.prototype.getSelectedItems=function(){return this.m_selectedItems};e.FdModel.prototype.getSelectionMode=function(){return this.m_selectionMode};e.FdModel.prototype.getSessionData=function(){return this.m_sessionData};e.FdModel.prototype.getTotalPageCount=function(){return this.m_totalPageCount};e.FdModel.prototype.getViewTypes=function(){return e.XCollectionUtils.hasElements(this.m_viewTypes)?this.m_viewTypes:e.XCollectionUtils.singletonList(e.FilterDialogViewType.LIST)};e.FdModel.prototype.hasNextPage=function(){return this.m_currentPage+1<this.m_pageCount};e.FdModel.prototype.initReadMode=function(t,i,o){if(e.notNull(this.m_contentProvider)&&this.supportsReadModes()){this.m_contentProvider.setReadMode(t)}this.m_queryDefaultReadMode=i;this.m_supportedReadModes=o};e.FdModel.prototype.isExcludeSwitchOn=function(){return this.m_excludeSwitchOn};e.FdModel.prototype.isFeatureEnabled=function(e){return this.m_features.contains(e)};e.FdModel.prototype.isInitial=function(){return e.notNull(this.m_lastReadMode)||this.m_hierarchyModel.isActiveHierarchyChanged()||!e.XCollectionUtils.hasElements(this.m_items)};e.FdModel.prototype.isMobile=function(){return this.m_mobile};e.FdModel.prototype.isSystemTypeHana=function(){return this.supportsValueHelp()&&this.m_contentProvider.isSystemTypeHana()};e.FdModel.prototype.loadMissingPresentations=function(e,t,i,o){if(this.supportsPresentations()){this.m_contentProvider.loadMissingPresentations(e,t,i,o)}};e.FdModel.prototype.loadSuggestions=function(e,t){this.m_contentProvider.loadSuggestions(e,t)};e.FdModel.prototype.moveToEndOfSelection=function(t){if(e.notNull(t)){this.m_selectedItems.removeElement(t);this.m_selectedItems.add(t);this.onSelectionChanged()}};e.FdModel.prototype.onError=function(t,i){if(e.notNull(this.m_lastReadMode)){this.setReadMode(this.m_lastReadMode);this.m_lastReadMode=null}};e.FdModel.prototype.onNewClipboardSelection=function(t,i,o){this.syncSelectionListWithKnownItems(t,this.getItems(0,-1),null,true,true,e.FdDataLoadedLambdaListener.create((t,n)=>{if(!this.isReleased()){let a=e.XList.create();e.XStream.of(this.m_selectedItems).filter(e=>!e.getFdComparisonOperator().isEqualOperator()).forEach(e=>{a.add(e)});if(!i&&o){e.XCollectionUtils.addAllIfNotPresent(a,e.XCollectionUtils.filter(this.m_selectedItems,e=>e.getFdComparisonOperator().isEqualOperator()&&!e.isExcluded()&&!t.contains(e)))}let r=this.isFeatureEnabled(e.FdFeature.EXCLUDE)&&this.m_excludeSwitchOn||this.isFeatureEnabled(e.FdFeature.EXCLUDE_ADVANCED)&&o;e.XCollectionUtils.forEach(t,e=>{e.setExcluded(r)});e.XCollectionUtils.addAllIfNotPresent(a,t);if(i&&!o){e.XCollectionUtils.addAllIfNotPresent(a,e.XCollectionUtils.filter(this.m_selectedItems,e=>e.getFdComparisonOperator().isEqualOperator()&&e.isExcluded()))}this.m_selectedItems.clear();this.m_selectedItems.addAll(a);this.onSelectionChanged();if(e.notNull(n)&&e.notNull(this.m_controller)&&n.hasSeverity(e.Severity.WARNING)&&n.getFirstWithSeverity(e.Severity.WARNING).getCode()===e.ErrorCodes.INVALID_TOKEN){this.m_controller.postMessage(e.UiMessageType.WARNING,e.XLocalizationCenter.getCenter().getText(e.FilterDialogI18n.I18N_FD_CLIPBOARD_VALUES_NOT_FOUND))}}},t=>{if(!this.isReleased()&&e.notNull(this.m_controller)){this.m_controller.onError(t,null)}}),null)};e.FdModel.prototype.onSelectionChanged=function(){this.triggerOnSelectionChanged(true)};e.FdModel.prototype.openValueHelp=function(e,t,i,o){if(this.supportsValueHelp()){this.m_contentProvider.openValueHelp(e,t,i,o)}};e.FdModel.prototype.preloadNextPages=function(e,t,i,o){if(this.supportsPreloading()){this.m_contentProvider.preloadNextPages(e,t,i,o)}};e.FdModel.prototype.processData=function(e,t,i,o,n){this.m_contentProvider.processData(e,t,i,o,n)};e.FdModel.prototype.processDataRange=function(e,t){this.m_contentProvider.processDataRange(e,t)};e.FdModel.prototype.registerOnFeatureAvailabilityChange=function(t){if(e.isNull(this.m_featureAvailabilityChangeListeners)){this.m_featureAvailabilityChangeListeners=e.XList.create()}this.m_featureAvailabilityChangeListeners.add(t)};e.FdModel.prototype.registerOnItemsAdded=function(e){this.m_listenerOnItemsAdded=e};e.FdModel.prototype.registerOnPageChanged=function(e){this.m_listenerOnPageChanged=e};e.FdModel.prototype.registerOnSelectionChange=function(t){this.unregisterOnSelectionChange(t);if(e.isNull(this.m_selectionChangeListeners)){this.m_selectionChangeListeners=e.XList.create()}this.m_selectionChangeListeners.add(t)};e.FdModel.prototype.releaseObject=function(){this.m_contentProvider=e.XObjectExt.release(this.m_contentProvider);this.m_configuration=null;this.m_items=e.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_items);this.m_selectedItems=null;this.m_features=e.XObjectExt.release(this.m_features);this.m_hierarchyModel=e.XObjectExt.release(this.m_hierarchyModel);this.m_rangeModel=e.XObjectExt.release(this.m_rangeModel);this.m_presentationsModel=e.XObjectExt.release(this.m_presentationsModel);this.m_sessionData=null;this.m_listenerOnItemsAdded=null;this.m_listenerOnPageChanged=null;this.m_queryDefaultReadMode=null;this.m_lastReadMode=null;this.m_supportedReadModes=e.XObjectExt.release(this.m_supportedReadModes);this.m_selectionChangeListeners=e.XObjectExt.release(this.m_selectionChangeListeners);this.m_featureAvailabilityChangeListeners=e.XObjectExt.release(this.m_featureAvailabilityChangeListeners);this.m_viewTypes=null;this.m_controller=null;this.m_initialSearchValue=null};e.FdModel.prototype.removeSelectedItem=function(e){this.m_selectedItems.removeElement(e);this.onSelectionChanged()};e.FdModel.prototype.removeSelectedItemAt=function(e){if(e>=0&&this.m_selectedItems.size()>e){this.m_selectedItems.removeAt(e);this.onSelectionChanged()}};e.FdModel.prototype.search=function(t,i,o,n,a,r){if(!e.XString.isEqual(t,this.m_initialSearchValue)){this.m_initialSearchValue=null}this.m_contentProvider.search(t,i,o,n,a,r)};e.FdModel.prototype.selectAll=function(){this.m_selectedItems.clear();this.changeSelection(e.XStream.of(this.m_items.getValuesAsReadOnlyList()).flatMap(t=>e.XStream.of(t)).collect(e.XStreamCollector.toList()),null)};e.FdModel.prototype.setDefaultExpandLevel=function(e){this.m_defaultExpandLevel=e};e.FdModel.prototype.setExcludeSwitchOn=function(t){this.m_excludeSwitchOn=t&&this.isFeatureEnabled(e.FdFeature.EXCLUDE);if(this.isFeatureEnabled(e.FdFeature.EXCLUDE)){e.XStream.of(this.m_selectedItems).filter(e=>e.getFdComparisonOperator().isEqualOperator()).forEach(e=>{e.setExcluded(this.m_excludeSwitchOn)});this.updateSelection()}};e.FdModel.prototype.setFeatureEnabled=function(t,i){let o=i&&!this.isFeatureEnabled(t)||!i&&this.isFeatureEnabled(t);if(i){e.XCollectionUtils.addIfNotPresent(this.m_features,t)}else{this.m_features.removeElement(t)}if(o){e.XCollectionUtils.forEach(this.m_featureAvailabilityChangeListeners,e=>{e.onFeatureAvailabilityChanged(t,i)})}};e.FdModel.prototype.setPage=function(t){if(t>=0&&this.m_currentPage!==t){this.m_currentPage=t;if(e.notNull(this.m_listenerOnPageChanged)){this.m_listenerOnPageChanged()}}};e.FdModel.prototype.setReadMode=function(e){if(e!==this.getReadMode()&&this.supportsReadMode(e)&&this.supportsReadModes()){this.m_lastReadMode=this.getReadMode();this.m_contentProvider.setReadMode(e)}};e.FdModel.prototype.setSelectedItemAt=function(t,i){if(e.notNull(i)&&t>=0&&this.m_selectedItems.size()>t){this.m_selectedItems.removeAt(t);this.m_selectedItems.insert(t,i);this.onSelectionChanged()}};e.FdModel.prototype.setSessionData=function(e){this.m_sessionData=e};e.FdModel.prototype.setSupportsDisplayKey=function(e){this.m_supportsDisplayKey=e};e.FdModel.prototype.setTotalItemCount=function(t){let i=this.getPageSize();this.m_totalPageCount=e.XMath.div(t,i);if(e.XMath.mod(t,i)>0){this.m_totalPageCount++}};e.FdModel.prototype.setViewTypes=function(e){this.m_viewTypes=e};e.FdModel.prototype.setupModel=function(t,i,o,n){this.m_mobile=i;this.m_controller=n;this.m_items=e.XLinkedHashMapByString.create();this.m_selectedItems=e.XList.create();this.m_currentPage=0;this.m_pageCount=0;this.m_pageSize=t.getListPageSize();this.m_childNodesPageSize=t.getListChildNodePageSize();this.m_selectionMode=t.getSelectionMode();this.m_features=e.XSetOfNameObject.create();this.m_hierarchyModel=e.FdHierarchyModel.create();this.changeSelection(e.FdItemFactory.asFdItemList(t.getDefaultSelection()),null);this.m_configuration=t;this.m_queryDefaultReadMode=null;this.m_lastReadMode=null;this.m_totalPageCount=-1;this.setFeatureEnabled(e.FdFeature.CLIPBOARD,t.isOfferClipboard()&&this.m_selectionMode===e.UiTableSelectionMode.MULTI_TOGGLE);this.setFeatureEnabled(e.FdFeature.EQUAL_IN_RANGE_VIEW,t.isOfferEqualInRangeFilter());this.setFeatureEnabled(e.FdFeature.NULL_IN_RANGE_VIEW,t.isOfferNullInRangeFilter());this.setFeatureEnabled(e.FdFeature.EXTENDED_READMODE,t.isOfferReadModeExtendedSettings());this.m_contentProvider=e.FdContentProviderFactory.createContentProvider(this,o);if(this.supportsValueHelp()){this.m_hierarchyModel.setHierarchyContentProvider(this.m_contentProvider)}if(e.notNull(this.m_viewTypes)&&this.m_viewTypes.contains(e.FilterDialogViewType.LIST)&&(t.getDefaultViewType()===null||t.getDefaultViewType()===e.FilterDialogViewType.LIST)&&e.XCollectionUtils.hasElements(this.getPresentationsModel().getFilterablePresentations())){this.m_initialSearchValue=t.getSearchValue()}};e.FdModel.prototype.supportsDisplayKey=function(){return this.m_supportsDisplayKey};e.FdModel.prototype.supportsPreloading=function(){return this.supportsValueHelp()||this.m_configuration.getContentType().isEqualTo(e.FilterDialogContentType.USER_TEAM)};e.FdModel.prototype.supportsPresentations=function(){let e=this.m_configuration.getContentType();return e.isValueHelp()||e.isHierarchyCatalog()};e.FdModel.prototype.supportsReadMode=function(t){return e.notNull(this.m_supportedReadModes)&&this.m_supportedReadModes.contains(t)};e.FdModel.prototype.supportsReadModes=function(){return this.supportsValueHelp()};e.FdModel.prototype.supportsSelectAll=function(){return this.supportsValueHelp()};e.FdModel.prototype.supportsValueHelp=function(){return this.m_configuration.getContentType().isValueHelp()};e.FdModel.prototype.syncSelectionListWithKnownItems=function(e,t,i,o,n,a,r){this.m_contentProvider.syncSelectionListWithKnownItems(e,t,i,o,n,a,r)};e.FdModel.prototype.triggerOnSelectionChanged=function(t){let i=e.FdItemFactory.asFdValueList(this.getSelectedItems());e.XCollectionUtils.forEach(e.XCollectionUtils.createListCopy(this.m_selectionChangeListeners),e=>{e.onSelectionChange(i)});if(t&&e.notNull(this.m_configuration)&&this.m_configuration.getListenerSelectionChange()!==null){this.m_configuration.getListenerSelectionChange().onSelectionChange(e.FdItemFactory.asFdValueList(this.getSelectedItems()))}};e.FdModel.prototype.unregisterOnFeatureAvailabilityChange=function(t){if(e.notNull(this.m_featureAvailabilityChangeListeners)){this.m_featureAvailabilityChangeListeners.removeElement(t)}};e.FdModel.prototype.unregisterOnSelectionChange=function(t){if(e.notNull(this.m_selectionChangeListeners)){this.m_selectionChangeListeners.removeElement(t)}};e.FdModel.prototype.updateSelection=function(){this.triggerOnSelectionChanged(false)};e.FdContentProviderValueHelp=function(){};e.FdContentProviderValueHelp.prototype=new e.XObject;e.FdContentProviderValueHelp.prototype._ff_c="FdContentProviderValueHelp";e.FdContentProviderValueHelp.PARAM_VALUE_HELP_REMOVE_UNKNOWN="ParamValueHelpRemoveUnknown";e.FdContentProviderValueHelp.PARAM_VALUE_HELP_SEARCH_ON_KEY="ParamValueHelpSearchOnKey";e.FdContentProviderValueHelp.PARAM_VALUE_HELP_SEARCH_ON_TEXT="ParamValueHelpSearchOnText";e.FdContentProviderValueHelp.PARAM_VALUE_HELP_SEARCH_PATTERN="ParamValueHelpSearchPattern";e.FdContentProviderValueHelp.PARAM_VALUE_HELP_SHOW_ERRORS="ParamValueHelpShowErrors";e.FdContentProviderValueHelp.PARAM_VALUE_HELP_SUGGESTIONS_CACHE_KEY="ParamValueHelpSuggestionsCacheKey";e.FdContentProviderValueHelp.VALUE_HELP="ValueHelp";e.FdContentProviderValueHelp.VALUE_HELP_LOAD_ATTRIBUTES="ValueHelpLoadPresentations";e.FdContentProviderValueHelp.VALUE_HELP_LOAD_CHILDREN="ValueHelpLoadChildren";e.FdContentProviderValueHelp.VALUE_HELP_LOAD_UNKNOWN_SELECTED_ITEMS="ValueHelpLoadUnknownSelectedItems";e.FdContentProviderValueHelp.VALUE_HELP_RANGE="ValueHelpRange";e.FdContentProviderValueHelp.VALUE_HELP_SEARCH="ValueHelpSearch";e.FdContentProviderValueHelp.VALUE_HELP_SUGGESTIONS="ValueHelpSuggestions";e.FdContentProviderValueHelp.prototype.m_allDataLoaded=false;e.FdContentProviderValueHelp.prototype.m_configuration=null;e.FdContentProviderValueHelp.prototype.m_isPreloading=false;e.FdContentProviderValueHelp.prototype.m_model=null;e.FdContentProviderValueHelp.prototype.m_readMode=null;e.FdContentProviderValueHelp.prototype.m_suggestions=null;e.FdContentProviderValueHelp.prototype.m_valueHelpProcessor=null;e.FdContentProviderValueHelp.prototype.addAttributesToExistingValueHelpNodes=function(t,i){let o=t.size();for(let n=0;n<o;n++){let o=t.get(n).getValueHelpNode();let a=this.getNodeByKey(i,this.getKeyFieldValue(o).getValue(),n);if(e.notNull(a)){o.getDimensionMember().copyAttributesFromDimensionMember(a.getDimensionMember())}}};e.FdContentProviderValueHelp.prototype.applyCustomMembers=function(t,i){let o=this.getDimension();if(o.isMeasureStructure()){let i=this.m_configuration.isHideCumulatedMeasures();return e.XCollectionUtils.filter(t,t=>{let n=o.getStructureMember(t.getName());if(e.notNull(n)){if(o.getTagging().containsKey(e.QTransientConstants.createIsTransientMemberTag(n.getAliasOrMemberName()))||n.getResultVisibility()===e.ResultVisibility.HIDDEN){return false}if(i){return!n.isCumulation()&&(n.getSingleValueCalculation()===null||n.getSingleValueCalculation()===e.SingleValueCalculation.NOT_DEFINED)&&(n.getResultCalculation()===null||n.getResultCalculation()===e.ResultCalculation.NOT_DEFINED)}}return true})}return t};e.FdContentProviderValueHelp.prototype.changeHierarchy=function(t){let i=this.m_valueHelpProcessor.getHierarchyName();this.m_valueHelpProcessor.setHierarchyName(t);this.m_model.clearSelection();this.m_model.setExcludeSwitchOn(false);if((e.isNull(t)&&e.notNull(i)||e.notNull(t)&&e.isNull(i))&&this.m_model.getPresentationsModel().getMainPresentations()!==null){this.m_model.getPresentationsModel().setupModel(this.getMainPresentations(),this.getAdditionalPresentations(),null,null);this.m_model.setSupportsDisplayKey(this.supportsDisplayKeyField());this.updateExcludeFeatureAvailability();this.updateSupportedComparisonOperators()}if(e.notNull(this.m_suggestions)){this.m_suggestions.clear()}};e.FdContentProviderValueHelp.prototype.fetchChildren=function(t,i,o,n,a,r){let l=e.FdValueHelpListenerProxy.create(a,r,e.FdContentProviderValueHelp.VALUE_HELP_LOAD_CHILDREN);this.m_valueHelpProcessor.processChildFetch(t.getValueHelpNode(),i,o,this.getFieldsFromPresentationValues(n),this.m_readMode,this,l)};e.FdContentProviderValueHelp.prototype.getAdditionalPresentations=function(){if(this.supportsAdditionalPresentations()){return e.FdPresentationFactory.createAdditionalPresentationsByDim(this.getDimension(),this.isHierarchical(),this.isUseResultSetTextField(),this.isFilterOnAdditionalPresentationsAllowed(),this.m_readMode.getFFReadMode())}return e.XList.create()};e.FdContentProviderValueHelp.prototype.getContextType=function(t){return e.notNull(t)&&t.isTypeOf(e.SystemType.HANA)?e.QContextType.RESULT_SET:e.QContextType.SELECTOR};e.FdContentProviderValueHelp.prototype.getFieldsFromPresentationValues=function(t){return e.XStream.of(t).filterNullValues().map(e=>e.getCustomObject()).distinct().collect(e.XStreamCollector.toList())};e.FdContentProviderValueHelp.prototype.getHierarchyName=function(){return this.isHierarchical()?this.m_valueHelpProcessor.getHierarchyName():null};e.FdContentProviderValueHelp.prototype.getKeyFieldValue=function(e){let t=e.getDimensionMember();return t.getFieldValue(t.getDimension().getSelectorKeyField())};e.FdContentProviderValueHelp.prototype.getMainPresentations=function(){return e.FdPresentationFactory.createMainPresentationsByDim(this.m_valueHelpProcessor.getDisplayKeyField(),this.m_valueHelpProcessor.getTextField(),this.m_readMode.getFFReadMode(),this.m_model.getConfig().isOfferDisplayInfoExtendedSettings())};e.FdContentProviderValueHelp.prototype.getMissingPresentations=function(t,i){let o=e.XList.create();if(e.XCollectionUtils.hasElements(t)&&e.XCollectionUtils.hasElements(i)&&this.supportsAdditionalPresentations()){let e=t.get(0).getValueHelpNode();let n=e.getDimensionMember().getAllFieldValues();for(let e=0;e<i.size();e++){let t=i.get(e);if(!n.containsKey(t.getCustomObject().getName())){o.add(t)}}}return o};e.FdContentProviderValueHelp.prototype.getNodeByKey=function(t,i,o){let n=t.size();if(n>o){let n=t.get(o);let a=this.getKeyFieldValue(n);if(e.notNull(a)&&a.getValue().isEqualTo(i)){return n}}return e.XCollectionUtils.findFirst(t,t=>{let o=this.getKeyFieldValue(t);return e.notNull(o)&&o.getValue().isEqualTo(i)})};e.FdContentProviderValueHelp.prototype.getReadMode=function(){return this.m_readMode};e.FdContentProviderValueHelp.prototype.getSupportedComparisonOperatorsByFilterCapability=function(t){let i=e.XList.create();if(e.notNull(t)){let o=t.getSupportedComparisonOperators(e.SetSign.INCLUDING);let n=t.getSupportedComparisonOperators(e.SetSign.EXCLUDING);e.XCollectionUtils.forEach(o,t=>{e.XCollectionUtils.addIfNotPresent(i,e.FdComparisonOperator.lookup(t.getName()))});if(e.notNull(n)){if(n.contains(e.ComparisonOperator.EQUAL)){e.XCollectionUtils.addIfNotPresent(i,e.FdComparisonOperator.NOT_EQUAL)}if(n.contains(e.ComparisonOperator.BETWEEN)){e.XCollectionUtils.addIfNotPresent(i,e.FdComparisonOperator.NOT_BETWEEN)}if(n.contains(e.ComparisonOperator.IS_NULL)){e.XCollectionUtils.addIfNotPresent(i,e.FdComparisonOperator.IS_NOT_NULL)}}}if(i.isEmpty()){i.add(e.FdComparisonOperator.EQUAL)}return i};e.FdContentProviderValueHelp.prototype.getSupportedReadModes=function(){let t=this.getDimension();if(t.getQueryModel()!==null&&t.getQueryModel().isSelectorReadModeMasterOnly()){return e.XCollectionUtils.singletonList(e.OlapUiReadMode.MASTER)}let i=this.getSystemType(t);let o=this.getContextType(i);let n=t.getSupportedReadModes(o);let a=e.XList.create();if(this.m_configuration.isOfferReadModeExtendedSettings()&&this.supportsReadModeBookedCascading(o)){a.add(e.OlapUiReadMode.BOOKED);a.add(e.OlapUiReadMode.BOOKED_CASCADING)}else if(e.XCollectionUtils.contains(n,t=>t.isTypeOf(e.QMemberReadMode.BOOKED))){a.add(e.OlapUiReadMode.BOOKED)}if(e.XCollectionUtils.contains(n,t=>t.isTypeOf(e.QMemberReadMode.MASTER))){a.add(e.OlapUiReadMode.MASTER)}if(this.supportsQueryDefaultReadMode(o,i)){a.add(e.OlapUiReadMode.QUERY_DEFAULT)}if(!a.contains(this.m_readMode)){a.add(this.m_readMode)}return a};e.FdContentProviderValueHelp.prototype.getSystemType=function(t){let i=t.getDataSource().getSystemName();let o=t.getApplication().getSystemLandscape().getSystemDescription(i);return e.notNull(o)?o.getSystemType():null};e.FdContentProviderValueHelp.prototype.getVhItemFromKnownItems=function(t,i,o){let n=e.FdValueHelpItem.getByKey(i,t);if(e.notNull(n)){return n}else{o.add(t);return null}};e.FdContentProviderValueHelp.prototype.isFilterOnAdditionalPresentationsAllowed=function(){return!this.isHierarchical()||!this.isSystemTypeBW()};e.FdContentProviderValueHelp.prototype.isHierarchical=function(){return this.m_valueHelpProcessor.isHierarchicalValueHelp()};e.FdContentProviderValueHelp.prototype.isSystemTypeBW=function(){let t=this.getSystemType(this.getDimension());return e.notNull(t)&&t.isTypeOf(e.SystemType.ABAP)};e.FdContentProviderValueHelp.prototype.isSystemTypeHana=function(){let t=this.getSystemType(this.getDimension());return e.notNull(t)&&t.isTypeOf(e.SystemType.HANA)};e.FdContentProviderValueHelp.prototype.isUseResultSetTextField=function(){let t=this.m_configuration.getTextUsageType();return this.isSystemTypeBW()&&(t===e.FilterDialogTextUsageType.RESULTSET_TEXT||t===e.FilterDialogTextUsageType.AUTO)};e.FdContentProviderValueHelp.prototype.loadMissingPresentations=function(t,i,o,n){let a=e.FdValueHelpListenerProxy.create(o,n,e.FdContentProviderValueHelp.VALUE_HELP_LOAD_ATTRIBUTES);a.setItems(t);let r=e.XList.create();e.XCollectionUtils.forEach(i,t=>{let i=t.getParent();e.XCollectionUtils.addIfNotNull(r,i.getKeyPresentation());e.XCollectionUtils.addIfNotNull(r,i.getTextPresentation())});let l=this.getFieldsFromPresentationValues(r);if(this.isHierarchical()){let i=t.get(0).getValueHelpNode().getParentNode();if(e.notNull(i)){this.m_valueHelpProcessor.processChildFetch(i,0,t.size(),l,this.m_readMode,this,a)}else{this.m_valueHelpProcessor.processValueHelp(0,-1,0,l,this.m_readMode,this,a)}}else{let i=this.m_configuration.getListPageSize();let o=t.size()/i;if(e.XMath.mod(t.size(),i)===0){o--}this.m_valueHelpProcessor.processValueHelp(0,o,i,l,this.m_readMode,this,a)}};e.FdContentProviderValueHelp.prototype.loadSuggestions=function(t,i){if(e.XStringUtils.isNullOrEmpty(t)){i.onProcessFinished(e.XList.create(),null,null);return}let o=this.m_model.getPresentationsModel().getSelectedMainPresentation();if(!o.hasKeyPresentation()){o=e.XStream.of(this.getMainPresentations()).find(e=>e.hasKeyPresentation()&&e.hasTextPresentation()).orElse(o)}let n=t;let a=e.XList.create();if(e.notNull(o)){n=e.XStringUtils.concatenate2(t,o.getName());e.XCollectionUtils.addIfNotPresent(a,o.hasKeyPresentation()?o.getKeyPresentation().getCustomObject():null);e.XCollectionUtils.addIfNotPresent(a,o.hasTextPresentation()?o.getTextPresentation().getCustomObject():null)}if(e.notNull(this.m_suggestions)&&this.m_suggestions.containsKey(n)){i.onProcessFinished(this.m_suggestions.getByKey(n),null,null);return}let r=e.FdValueHelpListenerProxy.create(i,null,e.FdContentProviderValueHelp.VALUE_HELP_SUGGESTIONS);r.getProperties().put(e.FdContentProviderValueHelp.PARAM_VALUE_HELP_SEARCH_PATTERN,t);r.getProperties().put(e.FdContentProviderValueHelp.PARAM_VALUE_HELP_SUGGESTIONS_CACHE_KEY,n);r.getProperties().putBoolean(e.FdContentProviderValueHelp.PARAM_VALUE_HELP_SEARCH_ON_KEY,!e.XCollectionUtils.hasElements(a)||a.contains(this.m_valueHelpProcessor.getDisplayKeyField()));r.getProperties().putBoolean(e.FdContentProviderValueHelp.PARAM_VALUE_HELP_SEARCH_ON_TEXT,!e.XCollectionUtils.hasElements(a)||a.contains(this.m_valueHelpProcessor.getTextField()));this.m_valueHelpProcessor.processSearch(t,a,a,this.m_configuration.getListPageSize(),false,e.OlapUiReadMode.MASTER,this,r)};e.FdContentProviderValueHelp.prototype.mapValueHelpResult=function(t,i){let o=!i&&this.isHierarchical()?this.m_valueHelpProcessor.getHierarchyName():null;let n=this.m_valueHelpProcessor.getTextField();return e.XCollectionUtils.map(t,t=>e.FdValueHelpItem.create(t,o,n))};e.FdContentProviderValueHelp.prototype.onValuehelpExecuted=function(t,i,o){if(!this.isReleased()){let i=o;let n=i.getValueHelpType();if(t.hasErrors()){if(!e.XString.isEqual(n,e.FdContentProviderValueHelp.VALUE_HELP_LOAD_UNKNOWN_SELECTED_ITEMS)&&!e.XString.isEqual(n,e.FdContentProviderValueHelp.VALUE_HELP_SUGGESTIONS)){this.m_model.getSessionData().setReadMode(null);this.m_isPreloading=false;i.callErrorListener(t)}else if(i.getProperties().getBooleanByKeyExt(e.FdContentProviderValueHelp.PARAM_VALUE_HELP_SHOW_ERRORS,false)){i.callErrorListener(t)}else{i.callListener(i.getItems(),t)}return}let a=t.getData();switch(n){case e.FdContentProviderValueHelp.VALUE_HELP:let o=this.mapValueHelpResult(this.applyCustomMembers(a,i),false);let n=!o.hasElements()||e.XMath.mod(o.size(),this.m_configuration.getListPageSize())!==0;this.m_model.getHierarchyModel().setHasRootNodesOnly(n&&!this.m_model.isFeatureEnabled(e.FdFeature.HIERARCHY_CHANGE)&&(!this.isHierarchical()||!e.XCollectionUtils.contains(o,e=>e.hasChildren())));this.m_allDataLoaded=!this.isHierarchical()&&n;i.callListener(o,t);this.m_isPreloading=false;break;case e.FdContentProviderValueHelp.VALUE_HELP_RANGE:i.callListener(this.mapValueHelpResult(a,true),t);break;case e.FdContentProviderValueHelp.VALUE_HELP_LOAD_ATTRIBUTES:this.addAttributesToExistingValueHelpNodes(i.getItems(),a);i.callListener(i.getItems(),t);break;case e.FdContentProviderValueHelp.VALUE_HELP_LOAD_CHILDREN:let r=this.mapValueHelpResult(a,false);this.syncSelectionList(this.m_model.getSelectedItems(),r);i.callListener(r,t);break;case e.FdContentProviderValueHelp.VALUE_HELP_LOAD_UNKNOWN_SELECTED_ITEMS:let l=this.syncSelectionList(i.getItems(),this.mapValueHelpResult(a,false));let s=e.MessageManagerSimple.createMessageManager();s.addAllMessages(t);if(i.getProperties().getBooleanByKeyExt(e.FdContentProviderValueHelp.PARAM_VALUE_HELP_REMOVE_UNKNOWN,false)){if(e.XCollectionUtils.hasElements(l)){s.addWarning(e.ErrorCodes.INVALID_TOKEN,"Unknown items removed")}e.XCollectionUtils.removeIf(i.getItems(),e=>l.contains(e))}i.callListener(i.getItems(),s);break;case e.FdContentProviderValueHelp.VALUE_HELP_SEARCH:i.callListener(this.mapValueHelpResult(this.applyCustomMembers(a,i),false),t);break;case e.FdContentProviderValueHelp.VALUE_HELP_SUGGESTIONS:let u=this.mapValueHelpResult(this.applyCustomMembers(a,i),false);this.m_suggestions=e.isNull(this.m_suggestions)?e.XHashMapByString.create():this.m_suggestions;this.m_suggestions.put(i.getProperties().getByKey(e.FdContentProviderValueHelp.PARAM_VALUE_HELP_SUGGESTIONS_CACHE_KEY),u);i.callListener(u,t);break}}};e.FdContentProviderValueHelp.prototype.openValueHelp=function(t,i,o,n){let a=e.notNull(t)&&(t.getKey()!==null||t.getDisplayKey()!==null||t.isNull())?e.XCollectionUtils.singletonList(t):null;if(e.notNull(a)&&!t.getFdComparisonOperator().isEqualOperator()){if(t.getType()===e.FilterDialogValueType.VALUEHELP){a.set(0,e.FdValueHelpItem.create(t.getValueHelpNode(),t.getHierarchyName(),t.getTextField()))}else if(t.getType()===e.FilterDialogValueType.BASIC){a.set(0,e.FdSimpleItem.create(t.getKey(),t.getDisplayKey(),t.getText()))}}let r=this.createProgramRunner();r.getProgramStartData().putXObject(e.FilterDialog.PRG_DATA_DEFAULT_SELECTION,a);let l=e.PrFactory.createStructure();l.putString(e.FilterDialog.PARAM_SELECTION_MODE,e.UiTableSelectionMode.SINGLE.getName());l.putBoolean(e.FilterDialog.PARAM_OFFER_LIST_VIEW,true);l.putInteger(e.FilterDialog.PARAM_LIST_PAGE_SIZE,this.m_configuration.getListPageSize());l.putInteger(e.FilterDialog.PARAM_LIST_PRELOAD_PAGE_COUNT,this.m_configuration.getListPreloadPageCount());l.putInteger(e.FilterDialog.PARAM_SEARCH_SIZE,this.m_configuration.getSearchSize());l.putInteger(e.FilterDialog.PARAM_LIST_CHILD_NODES_PAGE_SIZE,this.m_configuration.getListChildNodePageSize());l.putString(e.FilterDialog.PARAM_DISPLAY_INFO,this.m_configuration.getDisplayInfo()!==null?this.m_configuration.getDisplayInfo().getName():null);l.putBoolean(e.FilterDialog.PARAM_OFFER_DISPLAY_INFO_EXTENDED_SETTINGS,this.m_configuration.isOfferDisplayInfoExtendedSettings());l.putString(e.FilterDialog.PARAM_READMODE,this.m_readMode.getName());l.putString(e.FilterDialog.PARAM_HIERARCHY,i?e.XStringUtils.nullToEmpty(this.getHierarchyName()):"");l.putBoolean(e.FilterDialog.PARAM_OFFER_HIERARCHY_CHANGE,false);l.putBoolean(e.FilterDialog.PARAM_OFFER_READMODE_CHANGE,this.m_configuration.isOfferReadModeChange());l.putBoolean(e.FilterDialog.PARAM_OFFER_READMODE_EXTENDED_SETTINGS,this.m_configuration.isOfferReadModeExtendedSettings());l.putBoolean(e.FilterDialog.PARAM_RESIZABLE,this.m_configuration.isResizeable());l.putBoolean(e.FilterDialog.PARAM_SELECTION_REQUIRED,true);l.putBoolean(e.FilterDialog.PARAM_SIMPLIFIED_SEARCH,this.m_configuration.isShowSimplifiedSearch());r.setConfigStructure(l);r.getProgramStartData().putXObject(e.FilterDialog.PRG_DATA_LISTENER_CLOSE,e.FilterDialogLambdaCloseListener.createExt((t,i)=>{this.m_model.setReadMode(i.getReadMode());o.onProcessFinished(e.FdItemFactory.asFdItemList(t),null,n)},()=>{o.onProcessFinished(null,null,n)}));r.runProgram()};e.FdContentProviderValueHelp.prototype.preloadNextPages=function(e,t,i,o){if(!this.m_allDataLoaded&&!this.m_isPreloading){this.m_isPreloading=true;let n=e+this.m_configuration.getListPreloadPageCount()-1;this.processData(e,n,t,i,o)}};e.FdContentProviderValueHelp.prototype.processData=function(t,i,o,n,a){let r=e.FdValueHelpListenerProxy.create(n,a,e.FdContentProviderValueHelp.VALUE_HELP);this.m_valueHelpProcessor.processValueHelp(t,i,this.m_configuration.getListPageSize(),this.getFieldsFromPresentationValues(o),this.m_readMode,this,r)};e.FdContentProviderValueHelp.prototype.releaseObject=function(){this.m_valueHelpProcessor=this.m_configuration.getExternalValueHelpProcess()!==this.m_valueHelpProcessor?e.XObjectExt.release(this.m_valueHelpProcessor):null;this.m_model=null;this.m_configuration=null;this.m_readMode=null;this.m_suggestions=e.XObjectExt.release(this.m_suggestions);e.XObject.prototype.releaseObject.call(this)};e.FdContentProviderValueHelp.prototype.search=function(t,i,o,n,a,r){let l=this.getFieldsFromPresentationValues(i);if(l.isEmpty()){l.add(this.m_valueHelpProcessor.getDisplayKeyField());l.add(this.m_valueHelpProcessor.getTextField())}let s=this.getFieldsFromPresentationValues(o);let u=e.FdValueHelpListenerProxy.create(a,r,e.FdContentProviderValueHelp.VALUE_HELP_SEARCH);u.getProperties().put(e.FdContentProviderValueHelp.PARAM_VALUE_HELP_SEARCH_PATTERN,t);u.getProperties().putBoolean(e.FdContentProviderValueHelp.PARAM_VALUE_HELP_SEARCH_ON_KEY,l.contains(this.m_valueHelpProcessor.getDisplayKeyField()));u.getProperties().putBoolean(e.FdContentProviderValueHelp.PARAM_VALUE_HELP_SEARCH_ON_TEXT,l.contains(this.m_valueHelpProcessor.getTextField()));this.m_valueHelpProcessor.processSearch(t,l,s,this.m_configuration.getSearchSize(),n,this.m_readMode,this,u)};e.FdContentProviderValueHelp.prototype.setReadMode=function(t){if(this.m_readMode!==t&&e.notNull(t)){this.m_readMode=t;this.m_model.getSessionData().setReadMode(t);let e=this.isFilterOnAdditionalPresentationsAllowed();this.m_model.getPresentationsModel().updateFilterableState(e=>e.getCustomObject().isFilterableForValueHelpAndReadMode(t.getFFReadMode()),i=>e&&i.getCustomObject().isFilterableForValueHelpAndReadMode(t.getFFReadMode()))}};e.FdContentProviderValueHelp.prototype.setupContentProvider=function(t){this.m_model=t;this.m_configuration=t.getConfig();this.setupSessionBasedSettings();this.setupProcessor(this.m_configuration.getExternalValueHelpProcess());this.m_valueHelpProcessor.setUseResultSetTextField(this.isUseResultSetTextField());this.m_valueHelpProcessor.setNullText(e.XLocalizationCenter.getCenter().getText(e.FilterDialogI18n.I18N_FD_NULL));this.setupReadMode();this.setupModel()};e.FdContentProviderValueHelp.prototype.setupModel=function(){this.m_model.setSupportsDisplayKey(this.supportsDisplayKeyField());this.m_model.setViewTypes(this.getSupportedViewTypes());this.updateExcludeFeatureAvailability();if(this.m_model.isFeatureEnabled(e.FdFeature.EXCLUDE)&&this.m_configuration.isExcludeByDefault()){this.m_model.setExcludeSwitchOn(true)}let t=this.getMainPresentations();let i=this.getAdditionalPresentations();let o=this.m_model.getSessionData().getMainPresentationDisplayInfo();let n=e.notNull(o)?o:this.m_configuration.getDisplayInfo();let a=this.m_model.getSessionData().getAdditionalPresentations();let r=e.notNull(a)?a:this.m_configuration.getDefaultAttributeSelection();this.m_model.getPresentationsModel().setupModel(t,i,e.FdPresentationFactory.mapDimensionDisplayInfoToPresentation(n,this.getDimension(),t),r)};e.FdContentProviderValueHelp.prototype.setupReadMode=function(){this.m_readMode=e.OlapUiReadMode.BOOKED;let t=e.OlapUiReadMode.BOOKED;let i=false;let o=this.getDimension();let n=this.m_model.getSessionData();let a=this.getSystemType(o);if(e.notNull(a)){let r=this.getContextType(a);let l=o.getQueryModel()!==null&&o.getQueryModel().isSelectorReadModeMasterOnly();let s=l?e.QMemberReadMode.MASTER:o.getReadModeDefault(r);if(e.notNull(s)){if(s===e.QMemberReadMode.REL_MASTER){t=e.FdReadMode.DIMENSION_RELATIONSHIPS}else if(s.isTypeOf(e.QMemberReadMode.MASTER)){t=e.OlapUiReadMode.MASTER}else{t=s.isTypeOf(e.QMemberReadMode.BOOKED_AND_SPACE_AND_STATE)?e.OlapUiReadMode.BOOKED_CASCADING:e.OlapUiReadMode.BOOKED}}let u=l?e.OlapUiReadMode.MASTER:this.m_configuration.getReadMode();i=this.supportsReadModeSwitch(a);if(i&&e.isNull(u)){u=n.getReadMode()!==null?n.getReadMode():e.OlapUiReadMode.QUERY_DEFAULT}if(u===e.OlapUiReadMode.QUERY_DEFAULT&&this.supportsQueryDefaultReadMode(r,a)){this.m_readMode=e.OlapUiReadMode.QUERY_DEFAULT}else if(u===e.OlapUiReadMode.BOOKED&&this.supportsReadMode(r,e.QMemberReadMode.BOOKED)){this.m_readMode=e.OlapUiReadMode.BOOKED}else if(u===e.OlapUiReadMode.BOOKED_CASCADING&&this.supportsReadModeBookedCascading(r)){this.m_readMode=e.OlapUiReadMode.BOOKED_CASCADING}else if(this.supportsReadMode(r,e.QMemberReadMode.MASTER)){if(u===e.OlapUiReadMode.MASTER||a.isTypeOf(e.SystemType.HANA)&&this.m_configuration.getContentType().isVariableValueHelp()){this.m_readMode=e.OlapUiReadMode.MASTER}else if((e.isNull(u)||u===e.OlapUiReadMode.QUERY_DEFAULT)&&e.notNull(s)&&s.isTypeOf(e.QMemberReadMode.MASTER)||!this.supportsReadMode(r,e.QMemberReadMode.BOOKED)){this.m_readMode=e.OlapUiReadMode.MASTER}}if(n.getReadMode()!==null&&n.getReadMode()!==this.m_readMode){n.setReadMode(null)}}this.m_model.initReadMode(this.m_readMode,t,i?this.getSupportedReadModes():null)};e.FdContentProviderValueHelp.prototype.supportsAdditionalPresentations=function(){let t=this.m_valueHelpProcessor.supportsAdditionalPresentations();if(t){let t=this.getDimension().getModelCapabilities();return e.notNull(t)&&t.supportsValueHelpWithAttributes()}return false};e.FdContentProviderValueHelp.prototype.supportsDisplayKeyField=function(){return this.m_valueHelpProcessor.getDisplayKeyField()!==null&&this.m_valueHelpProcessor.getDisplayKeyField()!==this.m_valueHelpProcessor.getKeyField()};e.FdContentProviderValueHelp.prototype.supportsReadMode=function(t,i){let o=this.getDimension().getSupportedReadModes(t);return e.notNull(o)&&e.XCollectionUtils.contains(o.getValuesAsReadOnlyList(),e=>e.isTypeOf(i))};e.FdContentProviderValueHelp.prototype.supportsReadModeSwitch=function(t){return this.m_configuration.isOfferReadModeChange()&&!t.isTypeOf(e.SystemType.UNV)&&!t.isTypeOf(e.SystemType.UQAS)};e.FdContentProviderValueHelp.prototype.syncSelectionList=function(t,i){let o=e.XList.create();let n=e.notNull(t)?t.size():0;for(let a=0;a<n;a++){let n=t.get(a);if(n.getType()===e.FilterDialogValueType.BASIC){let r=this.getVhItemFromKnownItems(n,i,o);t.set(a,e.notNull(r)?r:n)}else if(n.getType()===e.FilterDialogValueType.RANGE){let t=n;let a=t.getLowItem();if(a.getType()===e.FilterDialogValueType.BASIC){let n=this.getVhItemFromKnownItems(a,i,o);t.setLow(e.notNull(n)?n:a)}let r=t.getHighItem();if(r.getType()===e.FilterDialogValueType.BASIC){let n=this.getVhItemFromKnownItems(r,i,o);t.setHigh(e.notNull(n)?n:r)}}}return o};e.FdContentProviderValueHelp.prototype.syncSelectionListWithKnownItems=function(t,i,o,n,a,r,l){let s=this.syncSelectionList(t,i);if(e.notNull(r)){if(s.isEmpty()){r.onProcessFinished(t,null,l)}else{let i=e.FdValueHelpListenerProxy.create(r,l,e.FdContentProviderValueHelp.VALUE_HELP_LOAD_UNKNOWN_SELECTED_ITEMS);i.setItems(t);i.getProperties().putBoolean(e.FdContentProviderValueHelp.PARAM_VALUE_HELP_REMOVE_UNKNOWN,n);i.getProperties().putBoolean(e.FdContentProviderValueHelp.PARAM_VALUE_HELP_SHOW_ERRORS,a);this.m_valueHelpProcessor.processFetchItems(s,this.getFieldsFromPresentationValues(o),this,i)}}else if(n){e.XCollectionUtils.removeIf(t,e=>s.contains(e))}};e.FdContentProviderValueHelp.prototype.updateExcludeFeatureAvailability=function(){let t=this.getSupportedComparisonOperators(false).contains(e.FdComparisonOperator.NOT_EQUAL);let i=t&&this.m_configuration.isOfferExclude();let o=t&&this.m_configuration.isOfferExcludeAdvanced();if(o&&(this.m_model.getSelectionMode()===e.UiTableSelectionMode.SINGLE||!this.m_model.getViewTypes().contains(e.FilterDialogViewType.RANGE))){i=true;o=false}this.m_model.setFeatureEnabled(e.FdFeature.EXCLUDE_ADVANCED,o);this.m_model.setFeatureEnabled(e.FdFeature.EXCLUDE,i&&!o);this.m_model.setFeatureEnabled(e.FdFeature.EXCLUDE_IN_RANGE_VIEW,o||i&&this.isSystemTypeHana());this.m_model.setFeatureEnabled(e.FdFeature.NOT_EQUAL_IN_RANGE_VIEW,o||this.m_model.isFeatureEnabled(e.FdFeature.EXCLUDE_IN_RANGE_VIEW)&&this.m_model.isFeatureEnabled(e.FdFeature.EQUAL_IN_RANGE_VIEW));this.m_model.setFeatureEnabled(e.FdFeature.RANGES_IN_HIERARCHY,o)};e.FdContentProviderValueHelp.prototype.updateSupportedComparisonOperators=function(){let t;if(this.m_model.isFeatureEnabled(e.FdFeature.EXCLUDE_ADVANCED)&&this.isHierarchical()){t=e.XList.create();if(this.m_model.isFeatureEnabled(e.FdFeature.EQUAL_IN_RANGE_VIEW)){t.add(e.FdComparisonOperator.EQUAL)}if(this.m_model.isFeatureEnabled(e.FdFeature.NOT_EQUAL_IN_RANGE_VIEW)){t.add(e.FdComparisonOperator.NOT_EQUAL)}}else{t=this.getSupportedComparisonOperators(!this.m_model.isFeatureEnabled(e.FdFeature.RANGES_IN_HIERARCHY))}this.m_model.getRangeModel().setSupportedComparisonOperators(t)};e.FdDateRangesView=function(){};e.FdDateRangesView.prototype=new e.FdRangesView;e.FdDateRangesView.prototype._ff_c="FdDateRangesView";e.FdDateRangesView.createDateRangeView=function(t,i){let o=new e.FdDateRangesView;o.setupView(t,i);return o};e.FdDateRangesView.prototype.createRange=function(t){return e.isNull(t)&&this.m_ranges.isEmpty()&&e.FdLayoutUtils.isMultiView(this.m_model)?e.FdComponentDateRange.createEmpty(this.m_model):e.FdComponentDateRange.create(this.m_model,t)};e.FdDateRangesView.prototype.isValidItem=function(t){return e.isNull(t)||t.getType()===e.FilterDialogValueType.DATE_RANGE_FIXED||t.getType()===e.FilterDialogValueType.DATE_RANGE_DYNAMIC};e.FdMeasureBasedView=function(){};e.FdMeasureBasedView.prototype=new e.FdRangesView;e.FdMeasureBasedView.prototype._ff_c="FdMeasureBasedView";e.FdMeasureBasedView.createMeasureBasedView=function(t,i){let o=new e.FdMeasureBasedView;o.setupView(t,i);return o};e.FdMeasureBasedView.prototype.createLayout=function(t){return e.FdMeasureBasedViewLayout.createMeasureBasedLayout(this.m_model,t)};e.FdMeasureBasedView.prototype.getCurrentViewType=function(){return e.FilterDialogViewType.MEASURE_BASED_FILTER};e.FdMeasureBasedView.prototype.getInitialFocusControl=function(){return this.getMeasureBasedLayout().getDimContextComboBox()};e.FdMeasureBasedView.prototype.getMeasureBasedLayout=function(){return this.m_layout};e.FdMeasureBasedView.prototype.onDimensionContextChange=function(t){let i=t.getSelectedItem();if(e.notNull(i)){if(this.getMeasureBasedLayout().getDimContextComboBox().getSelectedItems().contains(i)){e.XCollectionUtils.addIfNotPresent(this.m_model.getRangeModel().getDimContext(),i.getName())}else{this.m_model.getRangeModel().getDimContext().removeElement(i.getName())}this.getMeasureBasedLayout().updateDimContextState()}};e.FdMeasureBasedView.prototype.onSelect=function(e){this.m_model.getRangeModel().setMeasureContext(e.getSelectedName())};e.FdMeasureBasedView.prototype.publishRanges=function(){e.FdRangesView.prototype.publishRanges.call(this);let t=this.getMeasureBasedLayout();let i=this.m_model.getRangeModel();let o=i.getDimContext();let n=i.getAvailableDimContextValues();let a=t.getDimContextComboBox();a.registerOnSelectionChange(e.UiLambdaSelectionChangeListener.create(e=>{this.onDimensionContextChange(e)}));a.clearItems();e.XCollectionUtils.forEach(n,t=>{let i=t.getName();let o=t.getValue();e.FdLayoutUtils.addDropdownItem(a,i,e.XStringUtils.isNotNullAndNotEmpty(o)?o:i,null)});e.XCollectionUtils.forEach(o,e=>{a.addSelectedItem(a.getItemByName(e))});let r=i.getAvailableMeasureContextValues();if(r.hasElements()){let o=t.getMeasureContextDropdown();o.registerOnSelect(this);o.clearItems();e.XCollectionUtils.forEach(r,t=>{let i=t.getName();let n=t.getValue();e.FdLayoutUtils.addDropdownItem(o,i,e.XStringUtils.isNotNullAndNotEmpty(n)?n:i,null)});o.setSelectedName(i.getMeasureContext());t.setMeasureContextVisible(true)}else{t.setMeasureContextVisible(false)}};e.FdMeasureBasedView.prototype.validate=function(t){let i=this.m_model.getRangeModel();return e.FdRangesView.prototype.validate.call(this,t)&&(i.getDimContext().hasElements()||e.XCollectionUtils.hasElements(i.getRequiredDimContextValues())||this.m_ranges.isEmpty())};e.FdMeasureBasedViewLayout=function(){};e.FdMeasureBasedViewLayout.prototype=new e.FdRangesViewLayout;e.FdMeasureBasedViewLayout.prototype._ff_c="FdMeasureBasedViewLayout";e.FdMeasureBasedViewLayout.createMeasureBasedLayout=function(t,i){let o=new e.FdMeasureBasedViewLayout;o.m_requiredDimensions=t.getRangeModel().getRequiredDimContextValues();o.setupRangesLayout(t,i);return o};e.FdMeasureBasedViewLayout.prototype.m_contextContainer=null;e.FdMeasureBasedViewLayout.prototype.m_dimContextComboBox=null;e.FdMeasureBasedViewLayout.prototype.m_dimContextContainer=null;e.FdMeasureBasedViewLayout.prototype.m_dimContextIconPopover=null;e.FdMeasureBasedViewLayout.prototype.m_dimContextInfoBtn=null;e.FdMeasureBasedViewLayout.prototype.m_dimContextInfoText=null;e.FdMeasureBasedViewLayout.prototype.m_dimLabelContainer=null;e.FdMeasureBasedViewLayout.prototype.m_measureContextContainer=null;e.FdMeasureBasedViewLayout.prototype.m_measureContextDropdown=null;e.FdMeasureBasedViewLayout.prototype.m_measureContextIconPopover=null;e.FdMeasureBasedViewLayout.prototype.m_measureContextInfoBtn=null;e.FdMeasureBasedViewLayout.prototype.m_requiredDimensions=null;e.FdMeasureBasedViewLayout.prototype.addContent=function(t){let i=e.UiCssBoxEdges.create("0 0.5rem 0 0");this.m_contextContainer=this.createContainer("FilterDialogContextContainer");this.m_contextContainer.setMargin(e.UiCssBoxEdges.create("0 0 0 0.5rem"));this.m_contextContainer.addItem(this.createDimensionContext(i));this.m_contextContainer.addItem(this.createMeasureContext(i));t.addItem(this.m_contextContainer);t.addItem(e.FdLayoutUtils.createHr(this.m_genesis));e.FdRangesViewLayout.prototype.addContent.call(this,t)};e.FdMeasureBasedViewLayout.prototype.createContainer=function(t){let i=this.m_genesis.newControl(e.UiType.FLEX_LAYOUT);i.setName(t);i.setWrap(e.UiFlexWrap.NO_WRAP);this.setContainerToRow(i);return i};e.FdMeasureBasedViewLayout.prototype.createDimensionContext=function(t){let i=e.XLocalizationCenter.getCenter();this.m_dimContextContainer=this.createContainer("FilterDialogDimensionContextContainer");this.m_dimContextContainer.setFlex("auto");this.m_dimLabelContainer=this.createContainer("FilterDialogDimensionContextLabelContainer");this.m_dimLabelContainer.setMargin(t);this.m_dimLabelContainer.setMinWidth(e.UiCssLength.create("160px"));let o=this.m_dimLabelContainer.addNewItemOfType(e.UiType.LABEL);o.setName("FilterDialogDimensionContextLabel");o.setText(i.getText(e.FilterDialogI18n.I18N_FD_MBF_DIMENSION_CONTEXT));this.m_dimContextContainer.addItem(this.m_dimLabelContainer);let n=this.createContainer("FilterDialogDimensionContextComboboxContainer");n.useMaxWidth();n.setJustifyContent(e.UiFlexJustifyContent.START);this.m_dimContextContainer.addItem(n);this.m_dimContextComboBox=n.addNewItemOfType(e.UiType.MULTI_COMBO_BOX);this.m_dimContextComboBox.setShowSelectAll(true);this.m_dimContextComboBox.setName("FilterDialogDimensionContext");this.m_dimContextComboBox.setFlex("auto");this.m_dimContextComboBox.setMargin(t);o.setLabelFor(this.m_dimContextComboBox);this.m_dimContextInfoBtn=n.addNewItemOfType(e.UiType.BUTTON);this.m_dimContextInfoBtn.setName("FilterDialogDimensionContextInfoButton");this.m_dimContextInfoBtn.setIcon("message-information");this.m_dimContextInfoBtn.setTooltip(null);this.m_dimContextInfoBtn.setButtonType(e.UiButtonType.TRANSPARENT);this.m_dimContextInfoBtn.registerOnHover(this);this.m_dimContextInfoBtn.registerOnHoverEnd(this);this.m_dimContextInfoBtn.registerOnPress(this);let a=this.createContainer("FilterDialogDimensionContextIconPopoverLabelContainer");a.setAlignItems(e.UiFlexAlignItems.START);a.setDirection(e.UiFlexDirection.COLUMN);let r=a.addNewItemOfType(e.UiType.LABEL);r.setName("FilterDialogDimensionContextPopoverLabel");r.setText(i.getText(e.FilterDialogI18n.I18N_FD_MBF_DIMENSION_CONTEXT_INFO));r.setWrapping(true);this.m_dimContextInfoText=r.getText();if(e.XCollectionUtils.hasElements(this.m_requiredDimensions)){let t=this.createContainer("FilterDialogDimensionContextIconPopoverRequiredDimLabelContainer");t.useMaxWidth();t.setJustifyContent(e.UiFlexJustifyContent.START);t.setWrap(e.UiFlexWrap.WRAP);a.addItem(t);let o=t.addNewItemOfType(e.UiType.LABEL);o.setName("FilterDialogDimensionContextPopoverRequiredDimensionLabel");o.setMargin(e.UiCssBoxEdges.create("0 0.25rem 0 0"));o.setText(i.getText(this.m_requiredDimensions.size()>1?e.FilterDialogI18n.I18N_FD_MBF_DIMENSION_CONTEXT_INFO_REQUIRED_DIMENSIONS:e.FilterDialogI18n.I18N_FD_MBF_DIMENSION_CONTEXT_INFO_REQUIRED_DIMENSION));let n=t.addNewItemOfType(e.UiType.LABEL);n.setName("FilterDialogDimensionContextPopoverRequiredDimensionList");n.setText(i.getTextWithPlaceholder(e.FilterDialogI18n.I18N_FD_MBF_DIMENSION_CONTEXT_INFO_REQUIRED_DIMENSION_LIST,e.XCollectionUtils.join(this.m_requiredDimensions,", ")));n.setFontWeight(e.UiFontWeight.BOLD);this.m_dimContextInfoText=e.XStringUtils.concatenate3(this.m_dimContextInfoText,o.getText(),n.getText())}this.m_dimContextIconPopover=this.m_genesis.newControl(e.UiType.POPOVER);this.m_dimContextIconPopover.setName("FilterDialogDimensionContextIconPopover");this.m_dimContextIconPopover.setContent(a);this.m_dimContextIconPopover.setMaxWidth(e.UiCssLength.create("320px"));this.m_dimContextIconPopover.setPadding(e.UiCssBoxEdges.create("10px"));this.m_dimContextIconPopover.setPlacement(e.UiPlacementType.TOP);this.m_dimContextIconPopover.registerOnAfterOpen(this);this.m_dimContextIconPopover.registerOnAfterClose(this);return this.m_dimContextContainer};e.FdMeasureBasedViewLayout.prototype.createMeasureContext=function(t){let i=e.XLocalizationCenter.getCenter();this.m_measureContextContainer=this.createContainer("FilterDialogMeasureContextContainer");this.setContainerToColumn(this.m_measureContextContainer);this.m_measureContextContainer.setFlex("auto");this.m_measureContextContainer.setMaxWidth(e.UiCssLength.create("500px"));this.m_measureContextContainer.setMargin(e.UiCssBoxEdges.create("0 0 0 2rem"));let o=this.createContainer("FilterDialogMeasureContextLabelContainer");this.setContainerToColumn(o);o.setMargin(t);o.setMinWidth(e.UiCssLength.create("160px"));let n=o.addNewItemOfType(e.UiType.LABEL);n.setName("FilterDialogMeasureContextLabel");n.setText(i.getText(e.FilterDialogI18n.I18N_FD_MBF_MEASURE_CONTEXT));this.m_measureContextContainer.addItem(o);let a=this.createContainer("FilterDialogMeasureContextDropdownContainer");a.useMaxWidth();a.setJustifyContent(e.UiFlexJustifyContent.START);this.m_measureContextContainer.addItem(a);this.m_measureContextDropdown=a.addNewItemOfType(e.UiType.DROPDOWN);this.m_measureContextDropdown.setName("FilterDialogMeasureContext");this.m_measureContextDropdown.setFlex("auto");this.m_measureContextDropdown.setMargin(t);n.setLabelFor(this.m_measureContextDropdown);this.m_measureContextInfoBtn=a.addNewItemOfType(e.UiType.BUTTON);this.m_measureContextInfoBtn.setName("FilterDialogMeasureContextInfoButton");this.m_measureContextInfoBtn.setIcon("message-information");this.m_measureContextInfoBtn.setTooltip(null);this.m_measureContextInfoBtn.setButtonType(e.UiButtonType.TRANSPARENT);this.m_measureContextInfoBtn.registerOnHover(this);this.m_measureContextInfoBtn.registerOnHoverEnd(this);this.m_measureContextInfoBtn.registerOnPress(this);let r=this.m_genesis.newControl(e.UiType.LABEL);r.setName("FilterDialogMeasureContextPopoverLabel");r.setText(i.getText(e.FilterDialogI18n.I18N_FD_MBF_MEASURE_CONTEXT_INFO));r.setWrapping(true);this.m_measureContextIconPopover=this.m_genesis.newControl(e.UiType.POPOVER);this.m_measureContextIconPopover.setName("FilterDialogMeasureContextIconPopover");this.m_measureContextIconPopover.setContent(r);this.m_measureContextIconPopover.setMaxWidth(e.UiCssLength.create("320px"));this.m_measureContextIconPopover.setPadding(e.UiCssBoxEdges.create("10px"));this.m_measureContextIconPopover.setPlacement(e.UiPlacementType.TOP);this.m_measureContextIconPopover.registerOnAfterOpen(this);this.m_measureContextIconPopover.registerOnAfterClose(this);return this.m_measureContextContainer};e.FdMeasureBasedViewLayout.prototype.getDimContextComboBox=function(){return this.m_dimContextComboBox};e.FdMeasureBasedViewLayout.prototype.getMeasureContextDropdown=function(){return this.m_measureContextDropdown};e.FdMeasureBasedViewLayout.prototype.onAfterClose=function(e){if(e.getControl()===this.m_dimContextIconPopover){this.m_dimContextInfoBtn.setTooltip(null)}else if(e.getControl()===this.m_measureContextIconPopover){this.m_measureContextInfoBtn.setTooltip(null)}};e.FdMeasureBasedViewLayout.prototype.onAfterOpen=function(e){if(e.getControl()===this.m_dimContextIconPopover){this.m_dimContextInfoBtn.focus()}else if(e.getControl()===this.m_measureContextIconPopover){this.m_measureContextInfoBtn.focus()}};e.FdMeasureBasedViewLayout.prototype.onHover=function(e){if(e.getControl()===this.m_dimContextInfoBtn){this.m_dimContextIconPopover.openAt(this.m_dimContextInfoBtn)}else if(e.getControl()===this.m_measureContextInfoBtn){this.m_measureContextIconPopover.openAt(this.m_measureContextInfoBtn)}};e.FdMeasureBasedViewLayout.prototype.onHoverEnd=function(e){if(e.getControl()===this.m_dimContextInfoBtn){this.m_dimContextIconPopover.close()}else if(e.getControl()===this.m_measureContextInfoBtn){this.m_measureContextIconPopover.close()}};e.FdMeasureBasedViewLayout.prototype.onPress=function(t){if(t.getControl()===this.m_dimContextInfoBtn){this.m_dimContextIconPopover.openAt(this.m_dimContextInfoBtn);this.m_dimContextInfoBtn.setTooltip(this.m_dimContextInfoText)}else if(t.getControl()===this.m_measureContextInfoBtn){this.m_measureContextIconPopover.openAt(this.m_measureContextInfoBtn);this.m_measureContextInfoBtn.setTooltip(e.XLocalizationCenter.getCenter().getText(e.FilterDialogI18n.I18N_FD_MBF_MEASURE_CONTEXT_INFO))}};e.FdMeasureBasedViewLayout.prototype.reArrangeDimContext=function(){if(e.notNull(this.m_size)&&!this.m_size.getContentSize().isSmall()&&!this.m_measureContextContainer.isVisible()){this.setContainerToRow(this.m_dimContextContainer);this.setContainerToRow(this.m_dimLabelContainer)}else{this.setContainerToColumn(this.m_dimContextContainer);this.setContainerToColumn(this.m_dimLabelContainer)}};e.FdMeasureBasedViewLayout.prototype.releaseObject=function(){e.FdRangesViewLayout.prototype.releaseObject.call(this);this.m_requiredDimensions=null;this.m_dimContextIconPopover=e.XObjectExt.release(this.m_dimContextIconPopover);this.m_measureContextIconPopover=e.XObjectExt.release(this.m_measureContextIconPopover);this.m_dimContextInfoText=null};e.FdMeasureBasedViewLayout.prototype.resizeRangeLayouts=function(t,i){e.FdRangesViewLayout.prototype.resizeRangeLayouts.call(this,t,i);if(t.getContentSize().isLarge()){this.setContainerToRow(this.m_contextContainer);this.m_dimContextContainer.setWidth(null);this.m_measureContextContainer.setWidth(null);this.m_measureContextContainer.setMargin(e.UiCssBoxEdges.create("0 0 0 2rem"))}else{this.setContainerToColumn(this.m_contextContainer);this.m_contextContainer.setAlignItems(e.UiFlexAlignItems.END);this.m_dimContextContainer.useMaxWidth();this.m_measureContextContainer.useMaxWidth();this.m_measureContextContainer.setMargin(null)}this.reArrangeDimContext()};e.FdMeasureBasedViewLayout.prototype.setContainerToColumn=function(t){t.setDirection(e.UiFlexDirection.COLUMN);t.setJustifyContent(e.UiFlexJustifyContent.CENTER);t.setAlignItems(e.UiFlexAlignItems.START)};e.FdMeasureBasedViewLayout.prototype.setContainerToRow=function(t){t.setDirection(e.UiFlexDirection.ROW);t.setJustifyContent(e.UiFlexJustifyContent.END);t.setAlignItems(e.UiFlexAlignItems.CENTER)};e.FdMeasureBasedViewLayout.prototype.setMeasureContextVisible=function(t){this.m_measureContextContainer.setVisible(t);this.m_dimContextContainer.setMaxWidth(e.UiCssLength.create(t?"500px":"750px"));this.m_dimContextComboBox.setMaxWidth(e.UiCssLength.create(t?"460px":"540px"));this.reArrangeDimContext()};e.FdMeasureBasedViewLayout.prototype.updateDimContextState=function(){if(this.m_dimContextComboBox.getSelectedItems().isEmpty()&&!e.XCollectionUtils.hasElements(this.m_requiredDimensions)){this.m_dimContextComboBox.setValueState(e.UiValueState.ERROR);this.m_dimContextComboBox.setValueStateText(e.XLocalizationCenter.getCenter().getText(e.FilterDialogI18n.I18N_FD_MBF_DIMENSION_CONTEXT_ERROR_NO_SELECTION));this.m_dimContextComboBox.focus()}else{this.m_dimContextComboBox.setValueState(e.UiValueState.NONE)}};e.FdValueHelpRangesView=function(){};e.FdValueHelpRangesView.prototype=new e.FdRangesView;e.FdValueHelpRangesView.prototype._ff_c="FdValueHelpRangesView";e.FdValueHelpRangesView.createValueHelpRangesView=function(t,i){let o=new e.FdValueHelpRangesView;o.setupView(t,i);return o};e.FdValueHelpRangesView.prototype.m_presentation=null;e.FdValueHelpRangesView.prototype.createLayout=function(t){this.m_presentation=e.FdComponentMainPresentationSelection.create(this.m_model,()=>{this.onRangesChanged(true)});this.m_presentation.buildOlapDialogUi(this.m_genesis);return e.FdValueHelpRangesViewLayout.createValueHelpRangeLayout(this.m_model,this.m_presentation.getLayout(),t)};e.FdValueHelpRangesView.prototype.createRange=function(t){return e.FdComponentValueHelpRange.createValueHelpRange(this.m_model,t,this.m_controller,(e,t)=>{this.clearHierarchy();this.m_controller.loadSuggestions(e,t)})};e.FdValueHelpRangesView.prototype.getInitialFocusControl=function(){return this.m_presentation.getFocusControl()};e.FdValueHelpRangesView.prototype.publishAvailablePresentations=function(){e.FdRangesView.prototype.publishAvailablePresentations.call(this);this.m_presentation.publishAvailablePresentations()};e.FdValueHelpRangesView.prototype.releaseObject=function(){e.FdRangesView.prototype.releaseObject.call(this);this.m_presentation=e.XObjectExt.release(this.m_presentation)};e.FdValueHelpRangesViewLayout=function(){};e.FdValueHelpRangesViewLayout.prototype=new e.FdRangesViewLayout;e.FdValueHelpRangesViewLayout.prototype._ff_c="FdValueHelpRangesViewLayout";e.FdValueHelpRangesViewLayout.createValueHelpRangeLayout=function(t,i,o){let n=new e.FdValueHelpRangesViewLayout;n.setupValueHelpRangesLayout(t,i,o);return n};e.FdValueHelpRangesViewLayout.prototype.m_presentationSelection=null;e.FdValueHelpRangesViewLayout.prototype.m_presentationSelectionContainer=null;e.FdValueHelpRangesViewLayout.prototype.addHeader=function(t){this.m_presentationSelectionContainer=t.newItemOfType(e.UiType.FLEX_LAYOUT);this.m_presentationSelectionContainer.setDirection(e.UiFlexDirection.ROW);this.m_presentationSelectionContainer.setAlignItems(e.UiFlexAlignItems.CENTER);this.m_presentationSelectionContainer.setJustifyContent(e.UiFlexJustifyContent.SPACE_BETWEEN);this.m_presentationSelectionContainer.setMargin(e.UiCssBoxEdges.create("0 0 0.75rem 0"));this.m_presentationSelectionContainer.setName("FilterDialogRangesHeaderContainer");this.m_presentationSelectionContainer.addItem(this.m_presentationSelection.getRoot());this.m_presentationSelection.getRoot().setMargin(e.UiCssBoxEdges.create("0 0 0 1rem"));e.FdRangesViewLayout.prototype.addHeader.call(this,t);t.addItem(this.m_presentationSelectionContainer)};e.FdValueHelpRangesViewLayout.prototype.addSelectionContainerToggleBtn=function(t){e.FdRangesViewLayout.prototype.addSelectionContainerToggleBtn.call(this,this.m_presentationSelectionContainer)};e.FdValueHelpRangesViewLayout.prototype.releaseObject=function(){e.FdRangesViewLayout.prototype.releaseObject.call(this);this.m_presentationSelection=null};e.FdValueHelpRangesViewLayout.prototype.setupValueHelpRangesLayout=function(e,t,i){this.m_presentationSelection=t;this.setupRangesLayout(e,i)};e.FdComponentAbstractRange=function(){};e.FdComponentAbstractRange.prototype=new e.FdAbstractComponent;e.FdComponentAbstractRange.prototype._ff_c="FdComponentAbstractRange";e.FdComponentAbstractRange.prototype.m_changeListener=null;e.FdComponentAbstractRange.prototype.m_deleteListener=null;e.FdComponentAbstractRange.prototype.m_expandedByUser=false;e.FdComponentAbstractRange.prototype.m_forceDeleteBtnEnabled=false;e.FdComponentAbstractRange.prototype.m_item=null;e.FdComponentAbstractRange.prototype.m_rangeIndex=0;e.FdComponentAbstractRange.prototype.buildOlapDialogUi=function(e){let t=this.m_layout;t.buildOlapDialogUi(e);t.getPanel().registerOnExpand(this);t.getPanel().registerOnCollapse(this);t.getDeleteBtn().registerOnPress(this)};e.FdComponentAbstractRange.prototype.getItem=function(){return this.m_item};e.FdComponentAbstractRange.prototype.getRangeNumber=function(){return this.m_rangeIndex+1};e.FdComponentAbstractRange.prototype.isExpanded=function(){return this.m_expandedByUser||this.m_layout.getPanel().isExpanded()};e.FdComponentAbstractRange.prototype.onCollapse=function(e){this.m_expandedByUser=false};e.FdComponentAbstractRange.prototype.onDataChanged=function(t){if(e.notNull(this.m_changeListener)){this.m_changeListener(e.XBooleanValue.create(t),this.m_item)}this.m_layout.updateDeleteBtnEnabledState(this.m_forceDeleteBtnEnabled)};e.FdComponentAbstractRange.prototype.onExpand=function(t){if(t.getParameters().getBooleanByKeyExt(e.UiEventParams.PARAM_TRIGGERED_BY_INTERACTION,false)){this.m_expandedByUser=true}};e.FdComponentAbstractRange.prototype.onPress=function(e){this.m_deleteListener()};e.FdComponentAbstractRange.prototype.onRangesChanged=function(e,t){this.m_forceDeleteBtnEnabled=e;this.m_rangeIndex=t;this.updateFields();this.updateRangeText();this.m_layout.updateDeleteBtnEnabledState(this.m_forceDeleteBtnEnabled)};e.FdComponentAbstractRange.prototype.registerOnChange=function(e){this.m_changeListener=e};e.FdComponentAbstractRange.prototype.registerOnDelete=function(e){this.m_deleteListener=e};e.FdComponentAbstractRange.prototype.releaseObject=function(){e.FdAbstractComponent.prototype.releaseObject.call(this);this.m_item=null;this.m_deleteListener=null;this.m_changeListener=null};e.FdComponentAbstractRange.prototype.replaceItem=function(t){this.m_changeListener(e.XBooleanValue.create(false),t);this.m_item=t};e.FdComponentAbstractRange.prototype.setExpanded=function(e){if(e||!this.m_expandedByUser){this.m_layout.getPanel().setExpanded(e)}};e.FdComponentAbstractRange.prototype.updateFields=function(){};e.FdComponentAbstractRange.prototype.updateRangeText=function(){this.m_layout.updateHeaderText(this.getRangeNumber())};e.FdComponentAbstractRangeLayout=function(){};e.FdComponentAbstractRangeLayout.prototype=new e.XObject;e.FdComponentAbstractRangeLayout.prototype._ff_c="FdComponentAbstractRangeLayout";e.FdComponentAbstractRangeLayout.prototype.m_contentContainer=null;e.FdComponentAbstractRangeLayout.prototype.m_deleteBtn=null;e.FdComponentAbstractRangeLayout.prototype.m_errorLabel=null;e.FdComponentAbstractRangeLayout.prototype.m_genesis=null;e.FdComponentAbstractRangeLayout.prototype.m_headerTitle=null;e.FdComponentAbstractRangeLayout.prototype.m_root=null;e.FdComponentAbstractRangeLayout.prototype.addErrorLabel=function(t){this.m_errorLabel=e.FdLayoutUtils.createErrorLabel(this.m_genesis,"FilterDialogErrorLabel");t.addItem(this.m_errorLabel)};e.FdComponentAbstractRangeLayout.prototype.buildOlapDialogUi=function(t){this.m_genesis=t;this.m_root=t.newControl(e.UiType.PANEL);this.m_root.setName("FilterDialogRangePanel");this.m_root.useMaxWidth();this.m_root.setMargin(e.UiCssBoxEdges.create("0 0 0.5rem 0"));this.m_root.setExpandable(true);this.m_root.setExpanded(false);let i=this.m_genesis.newControl(e.UiType.TOOLBAR);this.m_root.setHeaderToolbar(i);this.m_headerTitle=i.addNewItemOfType(e.UiType.TITLE);this.m_headerTitle.setName("FilterDialogRangeHeaderTitle");this.m_headerTitle.setFlex("1");this.m_headerTitle.setTitleStyle(e.UiTitleLevel.H_5);i.addLabelledBy(this.m_headerTitle);this.m_deleteBtn=i.addNewItemOfType(e.UiType.BUTTON);this.m_deleteBtn.setIcon("decline");this.m_deleteBtn.setName("FilterDialogRangeDeleteBtn");this.m_deleteBtn.setButtonType(e.UiButtonType.TRANSPARENT);this.m_contentContainer=this.m_genesis.newControl(e.UiType.FLEX_LAYOUT);this.m_contentContainer.setDirection(e.UiFlexDirection.ROW);this.m_contentContainer.setWrap(e.UiFlexWrap.NO_WRAP);this.m_contentContainer.setPadding(e.UiCssBoxEdges.create("0.5rem 0 0.5rem 0"));this.m_contentContainer.setName("FilterDialogRangeContainer");this.m_contentContainer.useMaxWidth();this.addContent(this.m_contentContainer);this.m_root.setContent(this.m_contentContainer)};e.FdComponentAbstractRangeLayout.prototype.clearMessage=function(){e.FdLayoutUtils.updateErrorLabel(this.m_errorLabel,null,false)};e.FdComponentAbstractRangeLayout.prototype.getContentContainer=function(){return this.m_contentContainer};e.FdComponentAbstractRangeLayout.prototype.getDeleteBtn=function(){return this.m_deleteBtn};e.FdComponentAbstractRangeLayout.prototype.getPanel=function(){return this.m_root};e.FdComponentAbstractRangeLayout.prototype.getRoot=function(){return this.m_root};e.FdComponentAbstractRangeLayout.prototype.releaseObject=function(){e.XObject.prototype.releaseObject.call(this);this.m_genesis=null;this.m_root=e.XObjectExt.release(this.m_root);this.m_headerTitle=e.XObjectExt.release(this.m_headerTitle);this.m_deleteBtn=e.XObjectExt.release(this.m_deleteBtn);this.m_contentContainer=e.XObjectExt.release(this.m_contentContainer);this.m_errorLabel=e.XObjectExt.release(this.m_errorLabel)};e.FdComponentAbstractRangeLayout.prototype.resizeComponent=function(t){this.m_contentContainer.setDirection(t.getContentSize().isLarge()?e.UiFlexDirection.ROW:e.UiFlexDirection.COLUMN)};e.FdComponentAbstractRangeLayout.prototype.showMessage=function(t,i,o){if(o||this.m_errorLabel.getText()===null){e.FdLayoutUtils.updateErrorLabel(this.m_errorLabel,t,o)}};e.FdComponentAbstractRangeLayout.prototype.updateDeleteBtnEnabledState=function(e){this.m_deleteBtn.setEnabled(e||this.hasUserInput())};e.FdComponentAbstractRangeLayout.prototype.updateHeaderText=function(t){let i=e.XLocalizationCenter.getCenter();let o=e.XInteger.convertToString(t);let n=this.getDescriptionText();this.m_headerTitle.setText(e.XStringUtils.isNotNullAndNotEmpty(n)?i.getTextWithPlaceholder2(e.FilterDialogI18n.I18N_FD_RANGES_HEADER,o,n):i.getTextWithPlaceholder(e.FilterDialogI18n.I18N_FD_RANGES_HEADER_GENERIC,o));this.m_deleteBtn.setTooltip(i.getTextWithPlaceholder(e.FilterDialogI18n.I18N_FD_RANGES_REMOVE_RANGE,o))};e.FdComponentDateRangeDynamicLayout=function(){};e.FdComponentDateRangeDynamicLayout.prototype=new e.XObject;e.FdComponentDateRangeDynamicLayout.prototype._ff_c="FdComponentDateRangeDynamicLayout";e.FdComponentDateRangeDynamicLayout.ELEMENT_WIDTH="160px";e.FdComponentDateRangeDynamicLayout.MARGIN_RIGHT="0 0.5rem 0 0";e.FdComponentDateRangeDynamicLayout.MARGIN_RIGHT_BOTTOM="0 0.5rem 0.5rem 0";e.FdComponentDateRangeDynamicLayout.create=function(t,i){let o=new e.FdComponentDateRangeDynamicLayout;o.m_dataChangedListener=t;o.m_highestGranularity=e.DateRangeGranularity.DAY;o.m_valueFormatter=i;return o};e.FdComponentDateRangeDynamicLayout.prototype.m_currentPeriod=null;e.FdComponentDateRangeDynamicLayout.prototype.m_currentPeriodLabel=null;e.FdComponentDateRangeDynamicLayout.prototype.m_dataChangedListener=null;e.FdComponentDateRangeDynamicLayout.prototype.m_genesis=null;e.FdComponentDateRangeDynamicLayout.prototype.m_granularity=null;e.FdComponentDateRangeDynamicLayout.prototype.m_hiddenLabelForLookAhead=null;e.FdComponentDateRangeDynamicLayout.prototype.m_hiddenLabelForLookBack=null;e.FdComponentDateRangeDynamicLayout.prototype.m_highestGranularity=null;e.FdComponentDateRangeDynamicLayout.prototype.m_item=null;e.FdComponentDateRangeDynamicLayout.prototype.m_lookAhead=null;e.FdComponentDateRangeDynamicLayout.prototype.m_lookBack=null;e.FdComponentDateRangeDynamicLayout.prototype.m_lookBackAheadContainer=null;e.FdComponentDateRangeDynamicLayout.prototype.m_mainContainer=null;e.FdComponentDateRangeDynamicLayout.prototype.m_mainErrorLabel=null;e.FdComponentDateRangeDynamicLayout.prototype.m_offset=null;e.FdComponentDateRangeDynamicLayout.prototype.m_offsetContainer=null;e.FdComponentDateRangeDynamicLayout.prototype.m_offsetDirection=null;e.FdComponentDateRangeDynamicLayout.prototype.m_offsetErrorLabel=null;e.FdComponentDateRangeDynamicLayout.prototype.m_offsetGranularity=null;e.FdComponentDateRangeDynamicLayout.prototype.m_root=null;e.FdComponentDateRangeDynamicLayout.prototype.m_type=null;e.FdComponentDateRangeDynamicLayout.prototype.m_upToPeriod=null;e.FdComponentDateRangeDynamicLayout.prototype.m_upToPeriodLabel=null;e.FdComponentDateRangeDynamicLayout.prototype.m_valueFormatter=null;e.FdComponentDateRangeDynamicLayout.prototype.addCurrentPeriodLabel=function(t){let i=this.addElementContainer(t,"FilterDialogDynamicDateRangeCurrentPeriodContainer",false,true);this.m_currentPeriodLabel=i.addNewItemOfType(e.UiType.LABEL);this.m_currentPeriodLabel.setName("FilterDialogDynamicDateRangeCurrentPeriodLabel");this.m_currentPeriodLabel.setText(e.XLocalizationCenter.getCenter().getText(e.FilterDialogI18n.I18N_FD_DATE_RANGE_CURRENT_PERIOD));let o=i.addNewItemOfType(e.UiType.FLEX_LAYOUT);o.setName("FilterDialogDynamicDateRangeCurrentPeriodTextContainer");o.setDirection(e.UiFlexDirection.COLUMN);o.setJustifyContent(e.UiFlexJustifyContent.CENTER);o.setWidth(e.UiCssLength.create(e.FdComponentDateRangeDynamicLayout.ELEMENT_WIDTH));o.setMinHeight(e.UiCssLength.create("2rem"));o.setFlex("1");this.m_currentPeriod=o.addNewItemOfType(e.UiType.TITLE);this.m_currentPeriod.setTitleStyle(e.UiTitleLevel.H_6);this.m_currentPeriod.setName("FilterDialogDynamicDateRangeCurrentPeriodText");this.m_currentPeriodLabel.setLabelFor(this.m_currentPeriod)};e.FdComponentDateRangeDynamicLayout.prototype.addElementContainer=function(t,i,o,n){let a=t.addNewItemOfType(e.UiType.FLEX_LAYOUT);a.setDirection(e.UiFlexDirection.COLUMN);a.setWrap(e.UiFlexWrap.NO_WRAP);a.setName(i);if(!o){a.setMargin(n?e.UiCssBoxEdges.create(e.FdComponentDateRangeDynamicLayout.MARGIN_RIGHT):e.UiCssBoxEdges.create(e.FdComponentDateRangeDynamicLayout.MARGIN_RIGHT_BOTTOM))}return a};e.FdComponentDateRangeDynamicLayout.prototype.addMainSettings=function(){this.m_mainContainer=this.m_root.addNewItemOfType(e.UiType.FLEX_LAYOUT);this.m_mainContainer.setDirection(e.UiFlexDirection.ROW);this.m_mainContainer.setName("FilterDialogDynamicDateRangeMainSettingsContainer");this.m_mainContainer.setWrap(e.UiFlexWrap.WRAP);let t=e.XLocalizationCenter.getCenter();this.m_type=this.createDropdown(this.m_mainContainer,"FilterDialogDynamicDateRangeTypeContainer","FilterDialogDynamicDateRangeTypeDropdown",t.getText(e.FilterDialogI18n.I18N_FD_DATE_RANGE_TYPE),i=>{e.FdLayoutUtils.addDropdownItem(i,"FilterDialogDynamicDateRangeTypeStandard",t.getText(e.FilterDialogI18n.I18N_FD_DATE_RANGE_VALUE_TYPE_STANDARD),null);e.FdLayoutUtils.addDropdownItem(i,"FilterDialogDynamicDateRangeTypeOffset",t.getText(e.FilterDialogI18n.I18N_FD_DATE_RANGE_VALUE_TYPE_OFFSET),null)});this.m_granularity=this.createDropdown(this.m_mainContainer,"FilterDialogDynamicDateRangeGranularityContainer","FilterDialogDynamicDateRangeGranularityDropdown",t.getText(e.FilterDialogI18n.I18N_FD_DATE_RANGE_GRANULARITY),i=>{e.FdLayoutUtils.addDropdownItem(i,"FilterDialogDynamicDateRangeGranularityEmpty","",null);e.FdLayoutUtils.addDropdownItem(i,"FilterDialogDynamicDateRangeGranularityYear",t.getText(e.FilterDialogI18n.I18N_FD_DATE_RANGE_VALUE_GRANULARITY_YEAR),e.DateRangeGranularity.YEAR);e.FdLayoutUtils.addDropdownItem(i,"FilterDialogDynamicDateRangeGranularityHalfYear",t.getText(e.FilterDialogI18n.I18N_FD_DATE_RANGE_VALUE_GRANULARITY_HALFYEAR),e.DateRangeGranularity.HALF_YEAR);e.FdLayoutUtils.addDropdownItem(i,"FilterDialogDynamicDateRangeGranularityQuarter",t.getText(e.FilterDialogI18n.I18N_FD_DATE_RANGE_VALUE_GRANULARITY_QUARTER),e.DateRangeGranularity.QUARTER);e.FdLayoutUtils.addDropdownItem(i,"FilterDialogDynamicDateRangeGranularityMonth",t.getText(e.FilterDialogI18n.I18N_FD_DATE_RANGE_VALUE_GRANULARITY_MONTH),e.DateRangeGranularity.MONTH);e.FdLayoutUtils.addDropdownItem(i,"FilterDialogDynamicDateRangeGranularityDay",t.getText(e.FilterDialogI18n.I18N_FD_DATE_RANGE_VALUE_GRANULARITY_DAY),e.DateRangeGranularity.DAY);e.FdLayoutUtils.addDropdownItem(i,"FilterDialogDynamicDateRangeGranularityCurrentYear",t.getText(e.FilterDialogI18n.I18N_FD_DATE_RANGE_VALUE_GRANULARITY_CURRENT_YEAR),e.DateRangeGranularity.CURRENT_YEAR);e.FdLayoutUtils.addDropdownItem(i,"FilterDialogDynamicDateRangeGranularityCurrentQuarter",t.getText(e.FilterDialogI18n.I18N_FD_DATE_RANGE_VALUE_GRANULARITY_CURRENT_QUARTER),e.DateRangeGranularity.CURRENT_QUARTER);e.FdLayoutUtils.addDropdownItem(i,"FilterDialogDynamicDateRangeGranularityCurrentMonth",t.getText(e.FilterDialogI18n.I18N_FD_DATE_RANGE_VALUE_GRANULARITY_CURRENT_MONTH),e.DateRangeGranularity.CURRENT_MONTH)});let i=this.m_mainContainer.addNewItemOfType(e.UiType.FLEX_LAYOUT);i.setDirection(e.UiFlexDirection.COLUMN);i.setName("FilterDialogDynamicDateRangeLookBackAndAheadContainer1");i.setWrap(e.UiFlexWrap.NO_WRAP);this.m_lookBackAheadContainer=i.addNewItemOfType(e.UiType.FLEX_LAYOUT);this.m_lookBackAheadContainer.setDirection(e.UiFlexDirection.ROW);this.m_lookBackAheadContainer.setName("FilterDialogDynamicDateRangeLookBackAndAheadContainer2");this.m_lookBackAheadContainer.setWrap(e.UiFlexWrap.WRAP);this.m_lookBack=this.createInput(this.m_lookBackAheadContainer,"FilterDialogDynamicDateRangeLookBackContainer","FilterDialogDynamicDateRangeLookBackInput",t.getText(e.FilterDialogI18n.I18N_FD_DATE_RANGE_LOOK_BACK),false);this.m_hiddenLabelForLookBack=e.FdLayoutUtils.createHiddenLabelFor(this.m_lookBack,this.m_genesis,"");this.m_lookBackAheadContainer.addItem(this.m_hiddenLabelForLookBack);this.addCurrentPeriodLabel(this.m_lookBackAheadContainer);this.m_lookAhead=this.createInput(this.m_lookBackAheadContainer,"FilterDialogDynamicDateRangeLookAheadContainer","FilterDialogDynamicDateRangeLookAheadInput",t.getText(e.FilterDialogI18n.I18N_FD_DATE_RANGE_LOOK_AHEAD),true);this.m_hiddenLabelForLookAhead=e.FdLayoutUtils.createHiddenLabelFor(this.m_lookAhead,this.m_genesis,"");this.m_lookBackAheadContainer.addItem(this.m_hiddenLabelForLookAhead);this.m_mainErrorLabel=e.FdLayoutUtils.createErrorLabel(this.m_genesis,"FilterDialogErrorLabel");i.addItem(this.m_mainErrorLabel)};e.FdComponentDateRangeDynamicLayout.prototype.addOffsetSettings=function(){this.m_offsetContainer=this.m_root.addNewItemOfType(e.UiType.FLEX_LAYOUT);this.m_offsetContainer.setDirection(e.UiFlexDirection.ROW);this.m_offsetContainer.setName("FilterDialogDynamicDateRangeOffsetContainer");this.m_offsetContainer.setWrap(e.UiFlexWrap.WRAP);this.m_offsetContainer.setMargin(e.UiCssBoxEdges.create("0.5rem 0 0 0"));let t=e.XLocalizationCenter.getCenter();this.m_offsetDirection=this.createDropdown(this.m_offsetContainer,"FilterDialogDynamicDateRangeOffsetDirectionContainer","FilterDialogDynamicDateRangeOffsetDirectionDropdown",t.getText(e.FilterDialogI18n.I18N_FD_DATE_RANGE_OFFSET_DIRECTION),i=>{e.FdLayoutUtils.addDropdownItem(i,"FilterDialogDynamicDateRangeOffsetDirectionBack",t.getText(e.FilterDialogI18n.I18N_FD_DATE_RANGE_VALUE_OFFSET_DIRECTION_LOOK_BACK),null);e.FdLayoutUtils.addDropdownItem(i,"FilterDialogDynamicDateRangeOffsetDirectionAhead",t.getText(e.FilterDialogI18n.I18N_FD_DATE_RANGE_VALUE_OFFSET_DIRECTION_LOOK_AHEAD),null)});this.m_offsetGranularity=this.createDropdown(this.m_offsetContainer,"FilterDialogDynamicDateRangeOffsetGranularityContainer","FilterDialogDynamicDateRangeOffsetGranularityDropdown",t.getText(e.FilterDialogI18n.I18N_FD_DATE_RANGE_OFFSET_GRANULARITY),i=>{e.FdLayoutUtils.addDropdownItem(i,"FilterDialogDynamicDateRangeOffsetGranularityYear",t.getText(e.FilterDialogI18n.I18N_FD_DATE_RANGE_VALUE_GRANULARITY_YEAR),e.DateRangeGranularity.YEAR)});this.m_offset=this.createInput(this.m_offsetContainer,"FilterDialogDynamicDateRangeOffsetAmountContainer","FilterDialogDynamicDateRangeOffsetAmountInput",t.getText(e.FilterDialogI18n.I18N_FD_DATE_RANGE_OFFSET_AMOUNT),true);this.m_offsetErrorLabel=e.FdLayoutUtils.createErrorLabel(this.m_genesis,"FilterDialogOffsetErrorLabel");this.m_offset.getParent().addItem(this.m_offsetErrorLabel)};e.FdComponentDateRangeDynamicLayout.prototype.addUpToOffsetPeriodSwitch=function(){let t=this.m_root.addNewItemOfType(e.UiType.FLEX_LAYOUT);t.setDirection(e.UiFlexDirection.ROW);t.setAlignItems(e.UiFlexAlignItems.CENTER);t.setName("FilterDialogDynamicDateRangeUpToPeriodContainer");t.setWrap(e.UiFlexWrap.WRAP);this.m_upToPeriodLabel=t.addNewItemOfType(e.UiType.LABEL);this.m_upToPeriodLabel.setText(e.XLocalizationCenter.getCenter().getText(e.FilterDialogI18n.I18N_FD_DATE_RANGE_INCLUDE_UP_TO_CURRENT_PERIOD));this.m_upToPeriodLabel.setMargin(e.UiCssBoxEdges.create("0 0.5rem 0 0"));this.m_upToPeriod=t.addNewItemOfType(e.UiType.SWITCH);this.m_upToPeriod.setName("FilterDialogDynamicDateRangeUpToPeriodSwitch");this.m_upToPeriod.setOnText(" ");this.m_upToPeriod.setOffText(" ");this.m_upToPeriodLabel.setLabelFor(this.m_upToPeriod)};e.FdComponentDateRangeDynamicLayout.prototype.bindItem=function(t){this.m_item=t;let i=this.m_item.getGranularity()!==null?e.XCollectionUtils.findFirst(this.m_granularity.getItems(),e=>e.getCustomObject()===this.m_item.getGranularity()):null;if(e.notNull(i)){this.removeEmptyGranularity();this.m_granularity.setSelectedItem(i)}this.updateOffsetGranularityItems();let o=this.m_granularity.getSelectedItem().getCustomObject();if(e.notNull(o)){this.m_lookBackAheadContainer.setVisible(true);this.m_lookBack.setValue(e.XInteger.convertToString(this.m_item.getLookBack()));this.m_lookBack.getParent().setVisible(!o.isCurrentDateUnit());this.m_lookAhead.setValue(e.XInteger.convertToString(this.m_item.getLookAhead()));this.m_lookAhead.getParent().setVisible(!o.isCurrentDateUnit());this.m_lookAhead.setEnabled(!this.m_item.isUpToCurrentPeriod());this.m_mainErrorLabel.setVisible(!o.isCurrentDateUnit())}else{this.m_lookBackAheadContainer.setVisible(false)}let n=this.m_item.getOffsetGranularity();this.m_offsetContainer.setVisible(e.notNull(n));if(this.m_offsetContainer.isVisible()){this.m_type.setSelectedName("FilterDialogDynamicDateRangeTypeOffset")}let a=this.m_item.getOffset();this.m_offsetDirection.setSelectedName(a<=0?"FilterDialogDynamicDateRangeOffsetDirectionBack":"FilterDialogDynamicDateRangeOffsetDirectionAhead");let r=e.notNull(n)?e.XCollectionUtils.findFirst(this.m_offsetGranularity.getItems(),e=>e.getCustomObject()===n):null;if(e.notNull(r)){this.m_offsetGranularity.setSelectedItem(r)}else if(e.notNull(n)){this.m_item.setOffsetGranularity(this.m_offsetGranularity.getSelectedItem().getCustomObject())}this.m_offset.setValue(e.XInteger.convertToString(a<0?a*-1:a));this.updateUpToCurrentPeriodSwitchState();this.updateCurrentPeriodText();this.m_type.registerOnSelect(this);this.m_granularity.registerOnSelect(this);this.m_lookBack.registerOnEditingEnd(this);this.m_lookAhead.registerOnEditingEnd(this);this.m_offsetDirection.registerOnSelect(this);this.m_offsetGranularity.registerOnSelect(this);this.m_offset.registerOnEditingEnd(this);this.m_upToPeriod.registerOnChange(this)};e.FdComponentDateRangeDynamicLayout.prototype.buildOlapDialogUi=function(t){this.m_genesis=t;this.m_root=t.newControl(e.UiType.FLEX_LAYOUT);this.m_root.setDirection(e.UiFlexDirection.COLUMN);this.m_root.setName("FilterDialogDynamicDateRangeContainer");this.addMainSettings();this.addOffsetSettings();this.addUpToOffsetPeriodSwitch()};e.FdComponentDateRangeDynamicLayout.prototype.clearMainMessage=function(t){if(t){e.FdLayoutUtils.updateErrorLabel(this.m_mainErrorLabel,null,false)}this.m_lookBack.setValueState(null);this.m_lookAhead.setValueState(null)};e.FdComponentDateRangeDynamicLayout.prototype.clearMessages=function(){this.clearMainMessage(true);this.clearOffsetMessage(true)};e.FdComponentDateRangeDynamicLayout.prototype.clearOffsetMessage=function(t){if(t){e.FdLayoutUtils.updateErrorLabel(this.m_offsetErrorLabel,null,false)}this.m_offset.setValueState(null)};e.FdComponentDateRangeDynamicLayout.prototype.createDropdown=function(t,i,o,n,a){let r=this.addElementContainer(t,i,false,false);let l=r.addNewItemOfType(e.UiType.LABEL).setText(n);let s=r.addNewItemOfType(e.UiType.DROPDOWN);l.setLabelFor(s);a(s);s.setName(o);s.setWidth(e.UiCssLength.create(e.FdComponentDateRangeDynamicLayout.ELEMENT_WIDTH));s.setSelectedItemByIndex(0);return s};e.FdComponentDateRangeDynamicLayout.prototype.createInput=function(t,i,o,n,a){let r=this.addElementContainer(t,i,a,true);let l=r.addNewItemOfType(e.UiType.LABEL).setText(n);let s=r.addNewItemOfType(e.UiType.INPUT);l.setLabelFor(s);s.setName(o);s.setWidth(e.UiCssLength.create(e.FdComponentDateRangeDynamicLayout.ELEMENT_WIDTH));s.setInputType(e.UiInputType.NUMBER);s.setValue("0");s.setShowValueStateMessage(false);return s};e.FdComponentDateRangeDynamicLayout.prototype.getCurrentDateGranularityText=function(t){if(t.isQuarter()){return e.XLocalizationCenter.getCenter().getText(e.FilterDialogI18n.I18N_FD_DATE_RANGE_VALUE_GRANULARITY_CURRENT_QUARTER)}if(t.isMonth()){return e.XLocalizationCenter.getCenter().getText(e.FilterDialogI18n.I18N_FD_DATE_RANGE_VALUE_GRANULARITY_CURRENT_MONTH)}return e.XLocalizationCenter.getCenter().getText(e.FilterDialogI18n.I18N_FD_DATE_RANGE_VALUE_GRANULARITY_CURRENT_YEAR)};e.FdComponentDateRangeDynamicLayout.prototype.getDescriptionText=function(){let t=e.XLocalizationCenter.getCenter();let i=this.m_item.getGranularity();let o=e.FilterDialogI18nUtils.getDateRangeFormattedShortText(this.m_item.getDateRange(),this.m_highestGranularity,this.m_valueFormatter);if(e.notNull(i)&&i.isCurrentDateUnit()){let n=e.XStringBuffer.create();if(this.m_item.getOffsetGranularity()!==null){n.append(t.getText(e.FilterDialogI18n.I18N_FD_DATE_RANGE_VALUE_TYPE_OFFSET)).append(" ")}return n.append(this.getCurrentDateGranularityText(i)).append(" (").append(o).append(")").toString()}return o};e.FdComponentDateRangeDynamicLayout.prototype.getLookAheadText=function(){return this.m_lookAhead.getValue()};e.FdComponentDateRangeDynamicLayout.prototype.getLookBackText=function(){return this.m_lookBack.getValue()};e.FdComponentDateRangeDynamicLayout.prototype.getOffsetText=function(){return this.m_offset.getValue()};e.FdComponentDateRangeDynamicLayout.prototype.getRoot=function(){return this.m_root};e.FdComponentDateRangeDynamicLayout.prototype.getTypeDropdown=function(){return this.m_type};e.FdComponentDateRangeDynamicLayout.prototype.hasUserInput=function(){return true};e.FdComponentDateRangeDynamicLayout.prototype.onChange=function(t){if(t.getControl()===this.m_upToPeriod){this.m_item.setUpToCurrentPeriod(this.m_upToPeriod.isOn());this.m_lookAhead.setValue(e.XInteger.convertToString(this.m_item.getLookAhead()));this.m_lookAhead.setEnabled(!this.m_upToPeriod.isOn());this.m_dataChangedListener()}};e.FdComponentDateRangeDynamicLayout.prototype.onEditingEnd=function(t){let i=t.getControl();if(i===this.m_lookBack){let t=e.XInteger.convertFromStringWithDefault(this.m_lookBack.getValue(),0);this.m_item.setLookBack(t);this.updateCurrentPeriodText();this.m_dataChangedListener()}else if(i===this.m_lookAhead){let t=e.XInteger.convertFromStringWithDefault(this.m_lookAhead.getValue(),0);this.m_item.setLookAhead(t);this.updateCurrentPeriodText();this.m_dataChangedListener()}else if(i===this.m_offset){let t=e.XInteger.convertFromStringWithDefault(this.m_offset.getValue(),0);if(e.XString.isEqual(this.m_offsetDirection.getSelectedName(),"FilterDialogDynamicDateRangeOffsetDirectionBack")){t=t*-1}this.m_item.setOffset(t);this.updateCurrentPeriodText();this.m_dataChangedListener()}};e.FdComponentDateRangeDynamicLayout.prototype.onSelect=function(t){let i=t.getControl();if(i===this.m_type){let t=e.XString.isEqual(this.m_type.getSelectedName(),"FilterDialogDynamicDateRangeTypeOffset");this.m_offsetContainer.setVisible(t);this.m_item.setOffsetGranularity(t&&this.m_offsetGranularity.getSelectedItem()!==null?this.m_offsetGranularity.getSelectedItem().getCustomObject():null);this.updateCurrentPeriodText();this.m_dataChangedListener()}else if(i===this.m_granularity){let e=this.m_granularity.getSelectedItem().getCustomObject();this.m_item.setGranularity(e);this.removeEmptyGranularity();this.m_lookBackAheadContainer.setVisible(true);let t=e.isCurrentDateUnit();this.m_lookBack.getParent().setVisible(!t);this.m_lookAhead.getParent().setVisible(!t);this.m_mainErrorLabel.setVisible(!t);this.updateUpToCurrentPeriodSwitchState();this.updateOffsetGranularityItems();if(this.m_item.getOffsetGranularity()!==null){this.m_item.setOffsetGranularity(this.m_offsetGranularity.getSelectedItem().getCustomObject())}this.updateCurrentPeriodText();this.m_dataChangedListener()}else if(i===this.m_offsetDirection){this.m_item.setOffset(this.m_item.getOffset()*-1);this.updateCurrentPeriodText();this.m_dataChangedListener()}else if(i===this.m_offsetGranularity){this.m_item.setOffsetGranularity(this.m_offsetGranularity.getSelectedItem().getCustomObject());this.updateCurrentPeriodText();this.m_dataChangedListener()}};e.FdComponentDateRangeDynamicLayout.prototype.releaseObject=function(){e.XObject.prototype.releaseObject.call(this);this.m_item=null;this.m_dataChangedListener=null;this.m_highestGranularity=null;this.m_genesis=null;this.m_valueFormatter=null;this.m_root=e.XObjectExt.release(this.m_root)};e.FdComponentDateRangeDynamicLayout.prototype.removeEmptyGranularity=function(){let t=this.m_granularity.getItemByName("FilterDialogDynamicDateRangeGranularityEmpty");if(e.notNull(t)){this.m_granularity.removeItem(t)}};e.FdComponentDateRangeDynamicLayout.prototype.resizeComponent=function(t){let i=t.getContentSize().isSmall()?e.UiFlexDirection.COLUMN:e.UiFlexDirection.ROW;this.m_mainContainer.setDirection(i);this.m_lookBackAheadContainer.setDirection(i);this.m_offsetContainer.setDirection(i);let o=e.UiCssBoxEdges.create(i===e.UiFlexDirection.COLUMN?e.FdComponentDateRangeDynamicLayout.MARGIN_RIGHT_BOTTOM:e.FdComponentDateRangeDynamicLayout.MARGIN_RIGHT);this.m_lookBack.getParent().setMargin(o);this.m_currentPeriodLabel.getParent().setMargin(o)};e.FdComponentDateRangeDynamicLayout.prototype.setAvailableGranularities=function(t){if(e.XCollectionUtils.hasElements(t)){if(!t.contains(e.DateRangeGranularity.DAY)){this.m_granularity.removeItem(this.m_granularity.getItemByName("FilterDialogDynamicDateRangeGranularityDay"));this.m_highestGranularity=t.contains(e.DateRangeGranularity.MONTH)?e.DateRangeGranularity.MONTH:t.contains(e.DateRangeGranularity.QUARTER)?e.DateRangeGranularity.QUARTER:t.contains(e.DateRangeGranularity.HALF_YEAR)?e.DateRangeGranularity.HALF_YEAR:e.DateRangeGranularity.YEAR}if(!t.contains(e.DateRangeGranularity.MONTH)){this.m_granularity.removeItem(this.m_granularity.getItemByName("FilterDialogDynamicDateRangeGranularityMonth"));this.m_granularity.removeItem(this.m_granularity.getItemByName("FilterDialogDynamicDateRangeGranularityCurrentMonth"))}if(!t.contains(e.DateRangeGranularity.QUARTER)){this.m_granularity.removeItem(this.m_granularity.getItemByName("FilterDialogDynamicDateRangeGranularityQuarter"));this.m_granularity.removeItem(this.m_granularity.getItemByName("FilterDialogDynamicDateRangeGranularityCurrentQuarter"))}if(!t.contains(e.DateRangeGranularity.HALF_YEAR)){this.m_granularity.removeItem(this.m_granularity.getItemByName("FilterDialogDynamicDateRangeGranularityHalfYear"))}if(!t.contains(e.DateRangeGranularity.YEAR)&&this.m_granularity.getItems().size()>1){this.m_granularity.removeItem(this.m_granularity.getItemByName("FilterDialogDynamicDateRangeGranularityYear"));this.m_granularity.removeItem(this.m_granularity.getItemByName("FilterDialogDynamicDateRangeGranularityCurrentYear"))}this.m_granularity.setSelectedItemByIndex(0)}};e.FdComponentDateRangeDynamicLayout.prototype.showMainMessage=function(t,i,o){this.clearMainMessage(false);e.FdLayoutUtils.updateErrorLabel(this.m_mainErrorLabel,t,true);if(i){this.m_lookBack.setValueState(e.UiValueState.ERROR)}if(o){this.m_lookAhead.setValueState(e.UiValueState.ERROR)}};e.FdComponentDateRangeDynamicLayout.prototype.showOffsetMessage=function(t){this.clearOffsetMessage(false);e.FdLayoutUtils.updateErrorLabel(this.m_offsetErrorLabel,t,true);this.m_offset.setValueState(e.UiValueState.ERROR)};e.FdComponentDateRangeDynamicLayout.prototype.updateCurrentPeriodText=function(){let t=e.XLocalizationCenter.getCenter();let i=this.m_item.getOffsetGranularity()!==null;this.m_upToPeriodLabel.setText(i?t.getText(e.FilterDialogI18n.I18N_FD_DATE_RANGE_INCLUDE_UP_TO_OFFSET_PERIOD):t.getText(e.FilterDialogI18n.I18N_FD_DATE_RANGE_INCLUDE_UP_TO_CURRENT_PERIOD));this.m_currentPeriodLabel.setText(i?t.getText(e.FilterDialogI18n.I18N_FD_DATE_RANGE_OFFSET_PERIOD):t.getText(e.FilterDialogI18n.I18N_FD_DATE_RANGE_CURRENT_PERIOD));let o=this.m_granularity.getSelectedItem().getCustomObject();if(e.isNull(o)){return}let n=e.XStringBuffer.create();if(o.isCurrentDateUnit()){o=this.m_highestGranularity}if(o===e.DateRangeGranularity.YEAR){n.append(t.getText(e.FilterDialogI18n.I18N_FD_DATE_RANGE_VALUE_GRANULARITY_YEAR))}else if(o===e.DateRangeGranularity.HALF_YEAR){n.append(t.getText(e.FilterDialogI18n.I18N_FD_DATE_RANGE_VALUE_GRANULARITY_HALFYEAR))}else if(o===e.DateRangeGranularity.QUARTER){n.append(t.getText(e.FilterDialogI18n.I18N_FD_DATE_RANGE_VALUE_GRANULARITY_QUARTER))}else if(o===e.DateRangeGranularity.MONTH){n.append(t.getText(e.FilterDialogI18n.I18N_FD_DATE_RANGE_VALUE_GRANULARITY_MONTH))}else{n.append(t.getText(e.FilterDialogI18n.I18N_FD_DATE_RANGE_VALUE_GRANULARITY_DAY))}let a=e.XDateRange.create(this.m_item.getDateRange().getDateTimeProvider()).withOffset(this.m_item.getOffsetGranularity(),this.m_item.getOffset());n.append(" (");let r=a.getFromValue(e.DateRangeGranularity.YEAR);if(o===e.DateRangeGranularity.DAY){n.append(e.FilterDialogI18nUtils.getDateText(r,0,0,a.getFromValue(e.DateRangeGranularity.MONTH),a.getFromValue(e.DateRangeGranularity.DAY)))}else if(o===e.DateRangeGranularity.MONTH){n.append(e.FilterDialogI18nUtils.getDateText(r,0,0,a.getFromValue(e.DateRangeGranularity.MONTH),0))}else if(o===e.DateRangeGranularity.QUARTER){n.append(e.FilterDialogI18nUtils.getDateText(r,0,a.getFromValue(e.DateRangeGranularity.QUARTER),0,0))}else if(o===e.DateRangeGranularity.HALF_YEAR){n.append(e.FilterDialogI18nUtils.getDateText(r,a.getFromValue(e.DateRangeGranularity.HALF_YEAR),0,0,0))}else{n.append(e.FilterDialogI18nUtils.getDateText(r,0,0,0,0))}n.append(")");e.XObjectExt.release(a);let l=n.toString();this.m_currentPeriod.setText(l);this.m_hiddenLabelForLookBack.setText(l);this.m_hiddenLabelForLookAhead.setText(l)};e.FdComponentDateRangeDynamicLayout.prototype.updateOffsetGranularityItems=function(){let t=e.XLocalizationCenter.getCenter();let i=this.m_granularity.getSelectedItem().getCustomObject();let o=this.m_offsetGranularity.getSelectedItem()!==null?this.m_offsetGranularity.getSelectedItem().getCustomObject():null;this.m_offsetGranularity.clearItems();if(e.notNull(i)){this.m_offset.getParent().setVisible(true);if(this.m_granularity.getItemByName("FilterDialogDynamicDateRangeGranularityYear")!==null){e.FdLayoutUtils.addDropdownItem(this.m_offsetGranularity,"FilterDialogDynamicDateRangeOffsetGranularityYear",t.getText(e.FilterDialogI18n.I18N_FD_DATE_RANGE_VALUE_GRANULARITY_YEAR),e.DateRangeGranularity.YEAR)}if(i.isHalfYear()||(i.isMonth()||i.isQuarter())&&this.m_granularity.getItemByName("FilterDialogDynamicDateRangeGranularityHalfYear")!==null){e.FdLayoutUtils.addDropdownItem(this.m_offsetGranularity,"FilterDialogDynamicDateRangeOffsetGranularityHalfYear",t.getText(e.FilterDialogI18n.I18N_FD_DATE_RANGE_VALUE_GRANULARITY_HALFYEAR),e.DateRangeGranularity.HALF_YEAR)}if(i.isQuarter()||i.isMonth()&&this.m_granularity.getItemByName("FilterDialogDynamicDateRangeGranularityQuarter")!==null){e.FdLayoutUtils.addDropdownItem(this.m_offsetGranularity,"FilterDialogDynamicDateRangeOffsetGranularityQuarter",t.getText(e.FilterDialogI18n.I18N_FD_DATE_RANGE_VALUE_GRANULARITY_QUARTER),e.DateRangeGranularity.QUARTER)}if(i.isMonth()){e.FdLayoutUtils.addDropdownItem(this.m_offsetGranularity,"FilterDialogDynamicDateRangeOffsetGranularityMonth",t.getText(e.FilterDialogI18n.I18N_FD_DATE_RANGE_VALUE_GRANULARITY_MONTH),e.DateRangeGranularity.MONTH)}if(i.isDay()){e.FdLayoutUtils.addDropdownItem(this.m_offsetGranularity,"FilterDialogDynamicDateRangeOffsetGranularityDay",t.getText(e.FilterDialogI18n.I18N_FD_DATE_RANGE_VALUE_GRANULARITY_DAY),e.DateRangeGranularity.DAY)}let n=e.XCollectionUtils.findFirst(this.m_offsetGranularity.getItems(),e=>e.getCustomObject()===o);if(e.notNull(n)){this.m_offsetGranularity.setSelectedItem(n)}else{this.m_offsetGranularity.setSelectedItemByIndex(0)}}else{this.m_offset.getParent().setVisible(false)}};e.FdComponentDateRangeDynamicLayout.prototype.updateUpToCurrentPeriodSwitchState=function(){let t=this.m_item.getGranularity();let i=e.notNull(t)&&t.isCurrentDateUnit();this.m_upToPeriod.setEnabled(!i);this.m_upToPeriod.setOn(i||this.m_item.isUpToCurrentPeriod())};e.FdComponentDateRangeFixedLayout=function(){};e.FdComponentDateRangeFixedLayout.prototype=new e.XObject;e.FdComponentDateRangeFixedLayout.prototype._ff_c="FdComponentDateRangeFixedLayout";e.FdComponentDateRangeFixedLayout.create=function(t,i){let o=new e.FdComponentDateRangeFixedLayout;o.m_dataChangedListener=t;o.m_valueFormatter=i;return o};e.FdComponentDateRangeFixedLayout.prototype.m_dataChangedListener=null;e.FdComponentDateRangeFixedLayout.prototype.m_dateFrom=null;e.FdComponentDateRangeFixedLayout.prototype.m_dateTo=null;e.FdComponentDateRangeFixedLayout.prototype.m_errorLabel=null;e.FdComponentDateRangeFixedLayout.prototype.m_fromToContainer=null;e.FdComponentDateRangeFixedLayout.prototype.m_granularity=null;e.FdComponentDateRangeFixedLayout.prototype.m_granularityContainer=null;e.FdComponentDateRangeFixedLayout.prototype.m_halfYearFrom=null;e.FdComponentDateRangeFixedLayout.prototype.m_halfYearTo=null;e.FdComponentDateRangeFixedLayout.prototype.m_item=null;e.FdComponentDateRangeFixedLayout.prototype.m_monthFrom=null;e.FdComponentDateRangeFixedLayout.prototype.m_monthTo=null;e.FdComponentDateRangeFixedLayout.prototype.m_quarterFrom=null;e.FdComponentDateRangeFixedLayout.prototype.m_quarterTo=null;e.FdComponentDateRangeFixedLayout.prototype.m_rangeContainer=null;e.FdComponentDateRangeFixedLayout.prototype.m_root=null;e.FdComponentDateRangeFixedLayout.prototype.m_valueFormatter=null;e.FdComponentDateRangeFixedLayout.prototype.m_yearFrom=null;e.FdComponentDateRangeFixedLayout.prototype.m_yearTo=null;e.FdComponentDateRangeFixedLayout.prototype.bindItem=function(t){this.m_item=t;let i=this.m_item.getGranularity();let o=e.notNull(i)?e.XCollectionUtils.findFirst(this.m_granularity.getItems(),e=>e.getCustomObject()===i):null;if(e.notNull(o)){this.removeEmptyGranularity();this.m_granularity.setSelectedItem(o)}if(this.m_item.getYearFrom()===-1){this.m_yearFrom.setSelectedItemByIndex(0)}else if(this.m_item.getYearFrom()!==0){this.setSelectedValue(this.m_yearFrom,this.m_item.getYearFrom())}if(this.m_item.getYearTo()===-1){this.m_yearTo.setSelectedItemByIndex(0)}else if(this.m_item.getYearTo()!==0){this.setSelectedValue(this.m_yearTo,this.m_item.getYearTo())}let n=this.m_item.getHalfYearFrom();if(n===1||n===2){this.m_halfYearFrom.setSelectedName(e.XStringUtils.concatenate2("FilterDialogFixedDateRangeFromHalfYear",e.XInteger.convertToString(n)))}let a=this.m_item.getHalfYearTo();if(a===1||a===2){this.m_halfYearTo.setSelectedName(e.XStringUtils.concatenate2("FilterDialogFixedDateRangeToHalfYear",e.XInteger.convertToString(a)))}let r=this.m_item.getQuarterFrom();if(r>=1&&r<=4){this.m_quarterFrom.setSelectedName(e.XStringUtils.concatenate2("FilterDialogFixedDateRangeFromQuarter",e.XInteger.convertToString(r)))}let l=this.m_item.getQuarterTo();if(l>=1&&l<=4){this.m_quarterTo.setSelectedName(e.XStringUtils.concatenate2("FilterDialogFixedDateRangeToQuarter",e.XInteger.convertToString(l)))}let s=this.m_item.getMonthFrom();if(s>=1&&s<=12){this.m_monthFrom.setSelectedName(e.XStringUtils.concatenate2("FilterDialogFixedDateRangeFromMonth",e.XInteger.convertToString(s)))}let u=this.m_item.getMonthTo();if(u>=1&&u<=12){this.m_monthTo.setSelectedName(e.XStringUtils.concatenate2("FilterDialogFixedDateRangeToMonth",e.XInteger.convertToString(u)))}let m=this.m_item.getDateFrom();this.m_dateFrom.setValue(e.isNull(m)?e.XLocalizationCenter.getCenter().getText(e.FilterDialogI18n.I18N_FD_DATE_RANGE_VALUE_FROM_START):m);let p=this.m_item.getDateTo();this.m_dateTo.setValue(e.isNull(p)?e.XLocalizationCenter.getCenter().getText(e.FilterDialogI18n.I18N_FD_DATE_RANGE_VALUE_TO_END):p);this.updateElementsVisibility(this.m_granularity.getSelectedItem().getCustomObject());this.m_granularity.registerOnSelect(this);this.m_yearFrom.registerOnSelect(this);this.m_yearTo.registerOnSelect(this);this.m_halfYearFrom.registerOnSelect(this);this.m_halfYearTo.registerOnSelect(this);this.m_quarterFrom.registerOnSelect(this);this.m_quarterTo.registerOnSelect(this);this.m_monthFrom.registerOnSelect(this);this.m_monthTo.registerOnSelect(this);this.m_dateFrom.registerOnChange(this);this.m_dateTo.registerOnChange(this)};e.FdComponentDateRangeFixedLayout.prototype.buildOlapDialogUi=function(t){let i=e.XLocalizationCenter.getCenter();this.m_root=t.newControl(e.UiType.FLEX_LAYOUT);this.m_root.setDirection(e.UiFlexDirection.ROW);this.m_root.setName("FilterDialogFixedDateRangeContainer");this.m_root.setWrap(e.UiFlexWrap.WRAP);this.m_granularityContainer=this.m_root.addNewItemOfType(e.UiType.FLEX_LAYOUT);this.m_granularityContainer.setDirection(e.UiFlexDirection.COLUMN);this.m_granularityContainer.setName("FilterDialogFixedDateRangeGranularityContainer");this.m_granularityContainer.setMargin(e.UiCssBoxEdges.create("0 2rem 0 0"));let o=this.m_granularityContainer.addNewItemOfType(e.UiType.LABEL);o.setText(i.getText(e.FilterDialogI18n.I18N_FD_DATE_RANGE_GRANULARITY));this.m_granularity=this.m_granularityContainer.addNewItemOfType(e.UiType.DROPDOWN);o.setLabelFor(this.m_granularity);this.m_granularity.setName("FilterDialogFixedDateRangeGranularityDropdown");this.m_granularity.setWidth(e.UiCssLength.create("200px"));e.FdLayoutUtils.addDropdownItem(this.m_granularity,"FilterDialogFixedDateRangeGranularityEmpty","",null);e.FdLayoutUtils.addDropdownItem(this.m_granularity,"FilterDialogFixedDateRangeGranularityYear",i.getText(e.FilterDialogI18n.I18N_FD_DATE_RANGE_VALUE_GRANULARITY_YEAR),e.DateRangeGranularity.YEAR);e.FdLayoutUtils.addDropdownItem(this.m_granularity,"FilterDialogFixedDateRangeGranularityHalfYear",i.getText(e.FilterDialogI18n.I18N_FD_DATE_RANGE_VALUE_GRANULARITY_HALFYEAR),e.DateRangeGranularity.HALF_YEAR);e.FdLayoutUtils.addDropdownItem(this.m_granularity,"FilterDialogFixedDateRangeGranularityQuarter",i.getText(e.FilterDialogI18n.I18N_FD_DATE_RANGE_VALUE_GRANULARITY_QUARTER),e.DateRangeGranularity.QUARTER);e.FdLayoutUtils.addDropdownItem(this.m_granularity,"FilterDialogFixedDateRangeGranularityMonth",i.getText(e.FilterDialogI18n.I18N_FD_DATE_RANGE_VALUE_GRANULARITY_MONTH),e.DateRangeGranularity.MONTH);e.FdLayoutUtils.addDropdownItem(this.m_granularity,"FilterDialogFixedDateRangeGranularityDay",i.getText(e.FilterDialogI18n.I18N_FD_DATE_RANGE_VALUE_GRANULARITY_DAY),e.DateRangeGranularity.DAY);this.m_granularity.setSelectedItemByIndex(0);this.m_rangeContainer=this.m_root.addNewItemOfType(e.UiType.FLEX_LAYOUT);this.m_rangeContainer.setDirection(e.UiFlexDirection.COLUMN);this.m_rangeContainer.setName("FilterDialogFixedDateRangeRangeSelectionContainer");this.m_fromToContainer=this.m_rangeContainer.addNewItemOfType(e.UiType.FLEX_LAYOUT);this.m_fromToContainer.setDirection(e.UiFlexDirection.ROW);this.m_fromToContainer.setAlignItems(e.UiFlexAlignItems.CENTER);this.m_fromToContainer.setName("FilterDialogFixedDateRangeFromToContainer");this.m_fromToContainer.setMargin(e.UiCssBoxEdges.create("1rem 0 0 0"));this.m_fromToContainer.setWrap(e.UiFlexWrap.WRAP);this.m_fromToContainer.addItem(this.createRangeFrom());this.m_fromToContainer.addItem(this.createRangeTo());this.m_errorLabel=e.FdLayoutUtils.createErrorLabel(t,"FilterDialogErrorLabel");this.m_rangeContainer.addItem(this.m_errorLabel)};e.FdComponentDateRangeFixedLayout.prototype.clearDropdownStates=function(){this.m_yearFrom.removeCssClass("ffErrorState");this.m_halfYearFrom.removeCssClass("ffErrorState");this.m_quarterFrom.removeCssClass("ffErrorState");this.m_monthFrom.removeCssClass("ffErrorState");this.m_dateFrom.removeCssClass("ffErrorState");this.m_yearTo.removeCssClass("ffErrorState");this.m_halfYearTo.removeCssClass("ffErrorState");this.m_quarterTo.removeCssClass("ffErrorState");this.m_monthTo.removeCssClass("ffErrorState");this.m_dateTo.removeCssClass("ffErrorState")};e.FdComponentDateRangeFixedLayout.prototype.clearMessage=function(){e.FdLayoutUtils.updateErrorLabel(this.m_errorLabel,null,false);this.clearDropdownStates()};e.FdComponentDateRangeFixedLayout.prototype.createRangeFrom=function(){let t=e.XLocalizationCenter.getCenter();let i=this.m_fromToContainer.addNewItemOfType(e.UiType.FLEX_LAYOUT);i.setDirection(e.UiFlexDirection.ROW);i.setAlignItems(e.UiFlexAlignItems.CENTER);i.setName("FilterDialogFixedDateRangeFromContainer");i.setMargin(e.UiCssBoxEdges.create("0 2rem 0 0"));let o=i.addNewItemOfType(e.UiType.LABEL);o.setText(t.getText(e.FilterDialogI18n.I18N_FD_DATE_RANGE_FROM));o.setMargin(e.UiCssBoxEdges.create("0 1rem 0 0"));this.m_yearFrom=i.addNewItemOfType(e.UiType.DROPDOWN);this.m_yearFrom.setName("FilterDialogFixedDateRangeYearFromDropdown");this.m_yearFrom.setVisible(false);e.FdLayoutUtils.addDropdownItem(this.m_yearFrom,"FilterDialogFixedDateRangeFromYearStart",t.getText(e.FilterDialogI18n.I18N_FD_DATE_RANGE_VALUE_FROM_START),e.XIntegerValue.create(-1));this.m_halfYearFrom=i.addNewItemOfType(e.UiType.DROPDOWN);this.m_halfYearFrom.setName("FilterDialogFixedDateRangeHalfYearFromDropdown");this.m_halfYearFrom.setVisible(false);this.m_halfYearFrom.setMargin(e.UiCssBoxEdges.create("0 0 0 0.5rem"));e.FdLayoutUtils.addDropdownItem(this.m_halfYearFrom,"FilterDialogFixedDateRangeFromHalfYear1",t.getText(e.FilterDialogI18n.I18N_FD_HALFYEAR1),e.XIntegerValue.create(1));e.FdLayoutUtils.addDropdownItem(this.m_halfYearFrom,"FilterDialogFixedDateRangeFromHalfYear2",t.getText(e.FilterDialogI18n.I18N_FD_HALFYEAR2),e.XIntegerValue.create(2));this.m_quarterFrom=i.addNewItemOfType(e.UiType.DROPDOWN);this.m_quarterFrom.setName("FilterDialogFixedDateRangeQuarterFromDropdown");this.m_quarterFrom.setVisible(false);this.m_quarterFrom.setMargin(e.UiCssBoxEdges.create("0 0 0 0.5rem"));e.FdLayoutUtils.addDropdownItem(this.m_quarterFrom,"FilterDialogFixedDateRangeFromQuarter1",t.getText(e.FilterDialogI18n.I18N_FD_QUARTER1),e.XIntegerValue.create(1));e.FdLayoutUtils.addDropdownItem(this.m_quarterFrom,"FilterDialogFixedDateRangeFromQuarter2",t.getText(e.FilterDialogI18n.I18N_FD_QUARTER2),e.XIntegerValue.create(2));e.FdLayoutUtils.addDropdownItem(this.m_quarterFrom,"FilterDialogFixedDateRangeFromQuarter3",t.getText(e.FilterDialogI18n.I18N_FD_QUARTER3),e.XIntegerValue.create(3));e.FdLayoutUtils.addDropdownItem(this.m_quarterFrom,"FilterDialogFixedDateRangeFromQuarter4",t.getText(e.FilterDialogI18n.I18N_FD_QUARTER4),e.XIntegerValue.create(4));this.m_quarterFrom.setSelectedItemByIndex(0);this.m_monthFrom=i.addNewItemOfType(e.UiType.DROPDOWN);this.m_monthFrom.setName("FilterDialogFixedDateRangeMonthFromDropdown");this.m_monthFrom.setVisible(false);this.m_monthFrom.setMargin(e.UiCssBoxEdges.create("0 0 0 0.5rem"));e.FdLayoutUtils.addDropdownItem(this.m_monthFrom,"FilterDialogFixedDateRangeFromMonth1",t.getText(e.FilterDialogI18n.I18N_FD_MONTH1),e.XIntegerValue.create(1));e.FdLayoutUtils.addDropdownItem(this.m_monthFrom,"FilterDialogFixedDateRangeFromMonth2",t.getText(e.FilterDialogI18n.I18N_FD_MONTH2),e.XIntegerValue.create(2));e.FdLayoutUtils.addDropdownItem(this.m_monthFrom,"FilterDialogFixedDateRangeFromMonth3",t.getText(e.FilterDialogI18n.I18N_FD_MONTH3),e.XIntegerValue.create(3));e.FdLayoutUtils.addDropdownItem(this.m_monthFrom,"FilterDialogFixedDateRangeFromMonth4",t.getText(e.FilterDialogI18n.I18N_FD_MONTH4),e.XIntegerValue.create(4));e.FdLayoutUtils.addDropdownItem(this.m_monthFrom,"FilterDialogFixedDateRangeFromMonth5",t.getText(e.FilterDialogI18n.I18N_FD_MONTH5),e.XIntegerValue.create(5));e.FdLayoutUtils.addDropdownItem(this.m_monthFrom,"FilterDialogFixedDateRangeFromMonth6",t.getText(e.FilterDialogI18n.I18N_FD_MONTH6),e.XIntegerValue.create(6));e.FdLayoutUtils.addDropdownItem(this.m_monthFrom,"FilterDialogFixedDateRangeFromMonth7",t.getText(e.FilterDialogI18n.I18N_FD_MONTH7),e.XIntegerValue.create(7));e.FdLayoutUtils.addDropdownItem(this.m_monthFrom,"FilterDialogFixedDateRangeFromMonth8",t.getText(e.FilterDialogI18n.I18N_FD_MONTH8),e.XIntegerValue.create(8));e.FdLayoutUtils.addDropdownItem(this.m_monthFrom,"FilterDialogFixedDateRangeFromMonth9",t.getText(e.FilterDialogI18n.I18N_FD_MONTH9),e.XIntegerValue.create(9));e.FdLayoutUtils.addDropdownItem(this.m_monthFrom,"FilterDialogFixedDateRangeFromMonth10",t.getText(e.FilterDialogI18n.I18N_FD_MONTH10),e.XIntegerValue.create(10));e.FdLayoutUtils.addDropdownItem(this.m_monthFrom,"FilterDialogFixedDateRangeFromMonth11",t.getText(e.FilterDialogI18n.I18N_FD_MONTH11),e.XIntegerValue.create(11));e.FdLayoutUtils.addDropdownItem(this.m_monthFrom,"FilterDialogFixedDateRangeFromMonth12",t.getText(e.FilterDialogI18n.I18N_FD_MONTH12),e.XIntegerValue.create(12));this.m_monthFrom.setSelectedItemByIndex(0);this.m_dateFrom=i.addNewItemOfType(e.UiType.DATE_PICKER);this.m_dateFrom.setName("FilterDialogFixedDateRangeDateFromPicker");this.m_dateFrom.setValueFormat(e.UiNumberFormatterCenter.DATE_VALUE_FORMAT);this.m_dateFrom.setDisplayFormat(e.UiNumberFormatterCenter.getCenter().getDateDisplayFormat());this.m_dateFrom.setWidth(e.UiCssLength.create("auto"));this.m_dateFrom.setVisible(false);return i};e.FdComponentDateRangeFixedLayout.prototype.createRangeTo=function(){let t=e.XLocalizationCenter.getCenter();let i=this.m_fromToContainer.addNewItemOfType(e.UiType.FLEX_LAYOUT);i.setDirection(e.UiFlexDirection.ROW);i.setAlignItems(e.UiFlexAlignItems.CENTER);i.setName("FilterDialogFixedDateRangeFromContainer");let o=i.addNewItemOfType(e.UiType.LABEL);o.setText(t.getText(e.FilterDialogI18n.I18N_FD_DATE_RANGE_TO));o.setMargin(e.UiCssBoxEdges.create("0 1rem 0 0"));this.m_yearTo=i.addNewItemOfType(e.UiType.DROPDOWN);this.m_yearTo.setName("FilterDialogFixedDateRangeYearToDropdown");this.m_yearTo.setVisible(false);e.FdLayoutUtils.addDropdownItem(this.m_yearTo,"FilterDialogFixedDateRangeFromYearEnd",t.getText(e.FilterDialogI18n.I18N_FD_DATE_RANGE_VALUE_TO_END),e.XIntegerValue.create(-1));this.m_halfYearTo=i.addNewItemOfType(e.UiType.DROPDOWN);this.m_halfYearTo.setName("FilterDialogFixedDateRangeHalfYearToDropdown");this.m_halfYearTo.setVisible(false);this.m_halfYearTo.setMargin(e.UiCssBoxEdges.create("0 0 0 0.5rem"));e.FdLayoutUtils.addDropdownItem(this.m_halfYearTo,"FilterDialogFixedDateRangeToHalfYear1",t.getText(e.FilterDialogI18n.I18N_FD_HALFYEAR1),e.XIntegerValue.create(1));e.FdLayoutUtils.addDropdownItem(this.m_halfYearTo,"FilterDialogFixedDateRangeToHalfYear2",t.getText(e.FilterDialogI18n.I18N_FD_HALFYEAR2),e.XIntegerValue.create(2));this.m_quarterTo=i.addNewItemOfType(e.UiType.DROPDOWN);this.m_quarterTo.setName("FilterDialogFixedDateRangeQuarterToDropdown");this.m_quarterTo.setVisible(false);this.m_quarterTo.setMargin(e.UiCssBoxEdges.create("0 0 0 0.5rem"));e.FdLayoutUtils.addDropdownItem(this.m_quarterTo,"FilterDialogFixedDateRangeToQuarter1",t.getText(e.FilterDialogI18n.I18N_FD_QUARTER1),e.XIntegerValue.create(1));e.FdLayoutUtils.addDropdownItem(this.m_quarterTo,"FilterDialogFixedDateRangeToQuarter2",t.getText(e.FilterDialogI18n.I18N_FD_QUARTER2),e.XIntegerValue.create(2));e.FdLayoutUtils.addDropdownItem(this.m_quarterTo,"FilterDialogFixedDateRangeToQuarter3",t.getText(e.FilterDialogI18n.I18N_FD_QUARTER3),e.XIntegerValue.create(3));e.FdLayoutUtils.addDropdownItem(this.m_quarterTo,"FilterDialogFixedDateRangeToQuarter4",t.getText(e.FilterDialogI18n.I18N_FD_QUARTER4),e.XIntegerValue.create(4));this.m_quarterTo.setSelectedItemByIndex(3);this.m_monthTo=i.addNewItemOfType(e.UiType.DROPDOWN);this.m_monthTo.setName("FilterDialogFixedDateRangeMonthToDropdown");this.m_monthTo.setVisible(false);this.m_monthTo.setMargin(e.UiCssBoxEdges.create("0 0 0 0.5rem"));e.FdLayoutUtils.addDropdownItem(this.m_monthTo,"FilterDialogFixedDateRangeToMonth1",t.getText(e.FilterDialogI18n.I18N_FD_MONTH1),e.XIntegerValue.create(1));e.FdLayoutUtils.addDropdownItem(this.m_monthTo,"FilterDialogFixedDateRangeToMonth2",t.getText(e.FilterDialogI18n.I18N_FD_MONTH2),e.XIntegerValue.create(2));e.FdLayoutUtils.addDropdownItem(this.m_monthTo,"FilterDialogFixedDateRangeToMonth3",t.getText(e.FilterDialogI18n.I18N_FD_MONTH3),e.XIntegerValue.create(3));e.FdLayoutUtils.addDropdownItem(this.m_monthTo,"FilterDialogFixedDateRangeToMonth4",t.getText(e.FilterDialogI18n.I18N_FD_MONTH4),e.XIntegerValue.create(4));e.FdLayoutUtils.addDropdownItem(this.m_monthTo,"FilterDialogFixedDateRangeToMonth5",t.getText(e.FilterDialogI18n.I18N_FD_MONTH5),e.XIntegerValue.create(5));e.FdLayoutUtils.addDropdownItem(this.m_monthTo,"FilterDialogFixedDateRangeToMonth6",t.getText(e.FilterDialogI18n.I18N_FD_MONTH6),e.XIntegerValue.create(6));e.FdLayoutUtils.addDropdownItem(this.m_monthTo,"FilterDialogFixedDateRangeToMonth7",t.getText(e.FilterDialogI18n.I18N_FD_MONTH7),e.XIntegerValue.create(7));e.FdLayoutUtils.addDropdownItem(this.m_monthTo,"FilterDialogFixedDateRangeToMonth8",t.getText(e.FilterDialogI18n.I18N_FD_MONTH8),e.XIntegerValue.create(8));e.FdLayoutUtils.addDropdownItem(this.m_monthTo,"FilterDialogFixedDateRangeToMonth9",t.getText(e.FilterDialogI18n.I18N_FD_MONTH9),e.XIntegerValue.create(9));e.FdLayoutUtils.addDropdownItem(this.m_monthTo,"FilterDialogFixedDateRangeToMonth10",t.getText(e.FilterDialogI18n.I18N_FD_MONTH10),e.XIntegerValue.create(10));e.FdLayoutUtils.addDropdownItem(this.m_monthTo,"FilterDialogFixedDateRangeToMonth11",t.getText(e.FilterDialogI18n.I18N_FD_MONTH11),e.XIntegerValue.create(11));e.FdLayoutUtils.addDropdownItem(this.m_monthTo,"FilterDialogFixedDateRangeToMonth12",t.getText(e.FilterDialogI18n.I18N_FD_MONTH12),e.XIntegerValue.create(12));this.m_monthTo.setSelectedItemByIndex(11);this.m_dateTo=i.addNewItemOfType(e.UiType.DATE_PICKER);this.m_dateTo.setName("FilterDialogFixedDateRangeDateToPicker");this.m_dateTo.setValueFormat(e.UiNumberFormatterCenter.DATE_VALUE_FORMAT);this.m_dateTo.setDisplayFormat(e.UiNumberFormatterCenter.getCenter().getDateDisplayFormat());this.m_dateTo.setWidth(e.UiCssLength.create("auto"));this.m_dateTo.setVisible(false);return i};e.FdComponentDateRangeFixedLayout.prototype.getDateInIsoFormat=function(t,i){if(e.XString.isEqual(e.XString.toLowerCase(t),e.XString.toLowerCase(e.XLocalizationCenter.getCenter().getText(i)))){return null}else if(e.XDate.createDateSafe(t)!==null){return t}let o=e.UiNumberFormatterCenter.getCenter().parseFormattedDate(t);return e.notNull(o)?o.toIsoFormat():t};e.FdComponentDateRangeFixedLayout.prototype.getDescriptionText=function(){return e.FilterDialogI18nUtils.getDateRangeFormattedShortText(this.m_item.getDateRange(),null,this.m_valueFormatter)};e.FdComponentDateRangeFixedLayout.prototype.getGranularityDropdown=function(){return this.m_granularity};e.FdComponentDateRangeFixedLayout.prototype.getRoot=function(){return this.m_root};e.FdComponentDateRangeFixedLayout.prototype.hasUserInput=function(){return true};e.FdComponentDateRangeFixedLayout.prototype.onChange=function(t){if(t.getControl()===this.m_dateFrom){this.m_item.setDateFrom(this.getDateInIsoFormat(t.getParameters().getStringByKey(e.UiEventParams.PARAM_VALUE),e.FilterDialogI18n.I18N_FD_DATE_RANGE_VALUE_FROM_START));this.m_dataChangedListener()}else if(t.getControl()===this.m_dateTo){this.m_item.setDateTo(this.getDateInIsoFormat(t.getParameters().getStringByKey(e.UiEventParams.PARAM_VALUE),e.FilterDialogI18n.I18N_FD_DATE_RANGE_VALUE_TO_END));this.m_dataChangedListener()}};e.FdComponentDateRangeFixedLayout.prototype.onSelect=function(e){let t=e.getControl();let i=this.m_granularity.getSelectedItem().getCustomObject();if(t===this.m_granularity){this.removeEmptyGranularity();this.m_item.setGranularity(i);this.updateSecondaryDropdowns();this.updateElementsVisibility(i);this.m_dataChangedListener()}else if(t===this.m_yearFrom){this.m_item.setYearFrom(t.getSelectedItem().getCustomObject().getInteger());this.updateSecondaryDropdowns();this.updateElementsVisibility(i);this.m_dataChangedListener()}else if(t===this.m_yearTo){this.m_item.setYearTo(t.getSelectedItem().getCustomObject().getInteger());this.updateSecondaryDropdowns();this.updateElementsVisibility(i);this.m_dataChangedListener()}else if(t===this.m_halfYearFrom){this.m_item.setHalfYearFrom(t.getSelectedItem().getCustomObject().getInteger());this.m_dataChangedListener()}else if(t===this.m_halfYearTo){this.m_item.setHalfYearTo(t.getSelectedItem().getCustomObject().getInteger());this.m_dataChangedListener()}else if(t===this.m_quarterFrom){this.m_item.setQuarterFrom(t.getSelectedItem().getCustomObject().getInteger());this.m_dataChangedListener()}else if(t===this.m_quarterTo){this.m_item.setQuarterTo(t.getSelectedItem().getCustomObject().getInteger());this.m_dataChangedListener()}else if(t===this.m_monthFrom){this.m_item.setMonthFrom(t.getSelectedItem().getCustomObject().getInteger());this.m_dataChangedListener()}else if(t===this.m_monthTo){this.m_item.setMonthTo(t.getSelectedItem().getCustomObject().getInteger());this.m_dataChangedListener()}};e.FdComponentDateRangeFixedLayout.prototype.releaseObject=function(){e.XObject.prototype.releaseObject.call(this);this.m_item=null;this.m_dataChangedListener=null;this.m_valueFormatter=null;this.m_root=e.XObjectExt.release(this.m_root)};e.FdComponentDateRangeFixedLayout.prototype.removeEmptyGranularity=function(){let t=this.m_granularity.getItemByName("FilterDialogFixedDateRangeGranularityEmpty");if(e.notNull(t)){this.m_granularity.removeItem(t)}};e.FdComponentDateRangeFixedLayout.prototype.resizeComponent=function(e){};e.FdComponentDateRangeFixedLayout.prototype.setAvailableGranularities=function(t){if(e.XCollectionUtils.hasElements(t)){if(!t.contains(e.DateRangeGranularity.DAY)){this.m_granularity.removeItem(this.m_granularity.getItemByName("FilterDialogFixedDateRangeGranularityDay"))}if(!t.contains(e.DateRangeGranularity.MONTH)){this.m_granularity.removeItem(this.m_granularity.getItemByName("FilterDialogFixedDateRangeGranularityMonth"))}if(!t.contains(e.DateRangeGranularity.QUARTER)){this.m_granularity.removeItem(this.m_granularity.getItemByName("FilterDialogFixedDateRangeGranularityQuarter"))}if(!t.contains(e.DateRangeGranularity.HALF_YEAR)){this.m_granularity.removeItem(this.m_granularity.getItemByName("FilterDialogFixedDateRangeGranularityHalfYear"))}if(!t.contains(e.DateRangeGranularity.YEAR)&&this.m_granularity.getItems().size()>1){this.m_granularity.removeItem(this.m_granularity.getItemByName("FilterDialogFixedDateRangeGranularityYear"))}this.m_granularity.setSelectedItemByIndex(0)}};e.FdComponentDateRangeFixedLayout.prototype.setAvailableRange=function(t,i){for(let o=t.getYear();o<=i.getYear();o++){let t=e.XInteger.convertToString(o);e.FdLayoutUtils.addDropdownItem(this.m_yearFrom,e.XStringUtils.concatenate2("FilterDialogFixedDateRangeFromYear",t),t,e.XIntegerValue.create(o));e.FdLayoutUtils.addDropdownItem(this.m_yearTo,e.XStringUtils.concatenate2("FilterDialogFixedDateRangeToYear",t),t,e.XIntegerValue.create(o))}this.m_yearFrom.setSelectedItemByIndex(1);this.m_yearTo.setSelectedItemByIndex(1);this.m_dateFrom.setMinDate(t.toIsoFormat());this.m_dateTo.setMinDate(t.toIsoFormat());this.m_dateFrom.setMaxDate(i.toIsoFormat());this.m_dateTo.setMaxDate(i.toIsoFormat());let o=e.XDate.createCurrentLocalDate();let n=e.XDateTimeUtils.compareDate(t,o)<=0&&e.XDateTimeUtils.compareDate(i,o)>=0;this.m_dateFrom.setShowCurrentDateButton(n);this.m_dateTo.setShowCurrentDateButton(n)};e.FdComponentDateRangeFixedLayout.prototype.setSelectedValue=function(t,i){let o=e.XInteger.convertToString(i);let n=e.XCollectionUtils.findFirst(t.getItems(),e=>e.getCustomObject().getInteger()===i);if(e.notNull(n)){t.setSelectedItem(n)}else{let n=e.FdLayoutUtils.addDropdownItem(t,null,o,e.XIntegerValue.create(i));t.setSelectedItem(n)}};e.FdComponentDateRangeFixedLayout.prototype.showMessage=function(t,i,o){this.clearDropdownStates();e.FdLayoutUtils.updateErrorLabel(this.m_errorLabel,t,true);let n=this.m_granularity.getSelectedItem().getCustomObject();if(i){if(n===e.DateRangeGranularity.YEAR||n===e.DateRangeGranularity.QUARTER||n===e.DateRangeGranularity.MONTH||n===e.DateRangeGranularity.HALF_YEAR){this.m_yearFrom.addCssClass("ffErrorState")}if(n===e.DateRangeGranularity.HALF_YEAR){this.m_halfYearFrom.addCssClass("ffErrorState")}if(n===e.DateRangeGranularity.QUARTER){this.m_quarterFrom.addCssClass("ffErrorState")}if(n===e.DateRangeGranularity.MONTH){this.m_monthFrom.addCssClass("ffErrorState")}if(n===e.DateRangeGranularity.DAY){this.m_dateFrom.addCssClass("ffErrorState")}}if(o){if(n===e.DateRangeGranularity.YEAR||n===e.DateRangeGranularity.QUARTER||n===e.DateRangeGranularity.MONTH||n===e.DateRangeGranularity.HALF_YEAR){this.m_yearTo.addCssClass("ffErrorState")}if(n===e.DateRangeGranularity.HALF_YEAR){this.m_halfYearTo.addCssClass("ffErrorState")}if(n===e.DateRangeGranularity.QUARTER){this.m_quarterTo.addCssClass("ffErrorState")}if(n===e.DateRangeGranularity.MONTH){this.m_monthTo.addCssClass("ffErrorState")}if(n===e.DateRangeGranularity.DAY){this.m_dateTo.addCssClass("ffErrorState")}}};e.FdComponentDateRangeFixedLayout.prototype.updateElementsVisibility=function(t){if(e.notNull(t)){this.m_fromToContainer.setVisible(true);this.m_rangeContainer.addItem(this.m_errorLabel);let e=t.isHalfYear();let i=t.isQuarter();let o=t.isMonth();let n=t.isYear()||i||o||e;let a=t.isDay();this.m_yearFrom.setVisible(n);this.m_yearTo.setVisible(n);this.m_halfYearFrom.setVisible(e);this.m_halfYearTo.setVisible(e);this.m_quarterFrom.setVisible(i);this.m_quarterTo.setVisible(i);this.m_monthFrom.setVisible(o);this.m_monthTo.setVisible(o);this.m_dateFrom.setVisible(a);this.m_dateTo.setVisible(a);let r=this.m_item.getYearFrom()!==-1;let l=this.m_item.getYearTo()!==-1;this.m_halfYearFrom.setEnabled(r);this.m_halfYearTo.setEnabled(l);this.m_quarterFrom.setEnabled(r);this.m_quarterTo.setEnabled(l);this.m_monthFrom.setEnabled(r);this.m_monthTo.setEnabled(l)}else{this.m_fromToContainer.setVisible(false);this.m_granularityContainer.addItem(this.m_errorLabel)}};e.FdComponentDateRangeFixedLayout.prototype.updateSecondaryDropdowns=function(){if(this.m_item.getYearFrom()===-1){if(this.m_item.getGranularity().isHalfYear()){this.m_item.setHalfYearFrom(1);this.m_halfYearFrom.setSelectedItemByIndex(0)}else if(this.m_item.getGranularity().isQuarter()){this.m_item.setQuarterFrom(1);this.m_quarterFrom.setSelectedItemByIndex(0)}else if(this.m_item.getGranularity().isMonth()){this.m_item.setMonthFrom(1);this.m_monthFrom.setSelectedItemByIndex(0)}}if(this.m_item.getYearTo()===-1){if(this.m_item.getGranularity().isHalfYear()){this.m_item.setHalfYearTo(2);this.m_halfYearTo.setSelectedItemByIndex(1)}else if(this.m_item.getGranularity().isQuarter()){this.m_item.setQuarterTo(4);this.m_quarterTo.setSelectedItemByIndex(3)}else if(this.m_item.getGranularity().isMonth()){this.m_item.setMonthTo(12);this.m_monthTo.setSelectedItemByIndex(11)}}};e.FdComponentEndlessPagingLayout=function(){};e.FdComponentEndlessPagingLayout.prototype=new e.FdComponentAbstractPagingLayout;e.FdComponentEndlessPagingLayout.prototype._ff_c="FdComponentEndlessPagingLayout";e.FdComponentEndlessPagingLayout.create=function(){return new e.FdComponentEndlessPagingLayout};e.FdComponentEndlessPagingLayout.prototype.m_pagingBtn1=null;e.FdComponentEndlessPagingLayout.prototype.m_pagingBtn2=null;e.FdComponentEndlessPagingLayout.prototype.m_pagingBtn3=null;e.FdComponentEndlessPagingLayout.prototype.m_pagingButtons=null;e.FdComponentEndlessPagingLayout.prototype.buildOlapDialogUi=function(t){this.m_pagingButtons=e.XList.create();let i=e.UiCssBoxEdges.create(e.FdComponentAbstractPagingLayout.MARGIN);this.addContainer(t);this.addPagingBtnPrev(t);this.m_pagingButtons.add(this.m_pagingBtnPrev);this.m_pagingBtn1=this.m_container.addNewItemOfType(e.UiType.BUTTON);this.m_pagingBtn1.setName("FilterDialogPagingBtn1");this.m_pagingBtn1.setMargin(i);this.m_pagingBtn1.setButtonType(e.UiButtonType.TRANSPARENT);this.m_container.addItem(e.FdLayoutUtils.createHiddenLabelFor(this.m_pagingBtn1,t,e.XLocalizationCenter.getCenter().getText(e.FilterDialogI18n.I18N_FD_PAGE)));this.m_pagingButtons.add(this.m_pagingBtn1);this.m_pagingBtn2=this.m_container.addNewItemOfType(e.UiType.BUTTON);this.m_pagingBtn2.setName("FilterDialogPagingBtn2");this.m_pagingBtn2.setMargin(i);this.m_pagingBtn2.setButtonType(e.UiButtonType.TRANSPARENT);this.m_container.addItem(e.FdLayoutUtils.createHiddenLabelFor(this.m_pagingBtn2,t,e.XLocalizationCenter.getCenter().getText(e.FilterDialogI18n.I18N_FD_PAGE)));this.m_pagingButtons.add(this.m_pagingBtn2);this.m_pagingBtn3=this.m_container.addNewItemOfType(e.UiType.BUTTON);this.m_pagingBtn3.setName("FilterDialogPagingBtn3");this.m_pagingBtn3.setMargin(i);this.m_pagingBtn3.setButtonType(e.UiButtonType.TRANSPARENT);this.m_container.addItem(e.FdLayoutUtils.createHiddenLabelFor(this.m_pagingBtn3,t,e.XLocalizationCenter.getCenter().getText(e.FilterDialogI18n.I18N_FD_PAGE)));this.m_pagingButtons.add(this.m_pagingBtn3);this.addPagingBtnNext(t);this.m_pagingButtons.add(this.m_pagingBtnNext)};e.FdComponentEndlessPagingLayout.prototype.disableAllPagingButtons=function(){e.XCollectionUtils.forEach(this.m_pagingButtons,e=>{e.setEnabled(false)})};e.FdComponentEndlessPagingLayout.prototype.getNextEnabledPagingButton=function(){return e.XStream.of(this.m_pagingButtons).filter(e=>e.isVisible()&&e.isEnabled()).findAny()};e.FdComponentEndlessPagingLayout.prototype.getPagingBtn1=function(){return this.m_pagingBtn1};e.FdComponentEndlessPagingLayout.prototype.getPagingBtn2=function(){return this.m_pagingBtn2};e.FdComponentEndlessPagingLayout.prototype.getPagingBtn3=function(){return this.m_pagingBtn3};e.FdComponentEndlessPagingLayout.prototype.registerOnPress=function(e){this.m_pagingBtnPrev.registerOnPress(e);this.m_pagingBtnNext.registerOnPress(e);this.m_pagingBtn1.registerOnPress(e);this.m_pagingBtn2.registerOnPress(e);this.m_pagingBtn3.registerOnPress(e)};e.FdComponentEndlessPagingLayout.prototype.releaseObject=function(){e.FdComponentAbstractPagingLayout.prototype.releaseObject.call(this);this.m_pagingButtons=e.XObjectExt.release(this.m_pagingButtons)};e.FdComponentEndlessPagingLayout.prototype.setPagingBtn1Visible=function(e,t){this.m_pagingBtn1.setVisible(e);this.m_pagingBtn1.setEnabled(t)};e.FdComponentEndlessPagingLayout.prototype.setPagingBtn2Visible=function(e,t){this.m_pagingBtn2.setVisible(e);this.m_pagingBtn2.setEnabled(t)};e.FdComponentEndlessPagingLayout.prototype.setPagingBtn3Visible=function(e,t){this.m_pagingBtn3.setVisible(e);this.m_pagingBtn3.setEnabled(t)};e.FdComponentNavigationContainer=function(){};e.FdComponentNavigationContainer.prototype=new e.FdComponentAbstractTable;e.FdComponentNavigationContainer.prototype._ff_c="FdComponentNavigationContainer";e.FdComponentNavigationContainer.NAV_CONTAINER_SEARCH_PAGE="SearchPage";e.FdComponentNavigationContainer.create=function(t,i){let o=new e.FdComponentNavigationContainer;o.setupTableComponent(i,e.FdComponentNavigationContainerLayout.create(),t);return o};e.FdComponentNavigationContainer.prototype.m_activePage=null;e.FdComponentNavigationContainer.prototype.addNavigationPage=function(e,t){let i=this.createTable(e);this.m_activePage=this.getNavContainer().pushNewPage();this.m_activePage.setTitle(this.getPageTitle(e));this.m_activePage.setShowHeader(t);this.m_activePage.setCustomObject(i);this.m_activePage.setContent(i.getTableControl());return this.m_activePage};e.FdComponentNavigationContainer.prototype.buildOlapDialogUi=function(e){this.m_layout.buildOlapDialogUi(e);this.getNavContainer().registerOnBack(this);this.addNavigationPage(null,false)};e.FdComponentNavigationContainer.prototype.clearPages=function(){let t=this.getNavContainer();let i=t.getPages();for(let t=0;t<i.size();t++){e.XObjectExt.release(i.get(t).getCustomObject())}t.clearPages()};e.FdComponentNavigationContainer.prototype.createTable=function(t){let i=this.m_layout.createNewResponsiveTable(this.m_model.supportsSelectAll());this.m_uiTable=e.FdUiTable.createResponsiveTable(i);this.m_uiTable.registerOnSelectionChange(this);this.m_uiTable.registerOnScrollLoad(this);this.m_uiTable.setBusy(true);this.m_uiTable.setCustomObject(t);let o=this.getNavContainer();if(o.hasPages()){this.setSelectionMode(this.getTableFromPage(o.getCurrentPage()).getTableSelectionMode())}return this.m_uiTable};e.FdComponentNavigationContainer.prototype.getLayout=function(){return this.m_layout};e.FdComponentNavigationContainer.prototype.getNavContainer=function(){return this.m_layout.getNavContainer()};e.FdComponentNavigationContainer.prototype.getPageTitle=function(t){if(e.isNull(t)){return null}return this.m_view.getMainPresentation().hasKeyPresentation()?t.getDisplayKey():t.getTextFormatted()};e.FdComponentNavigationContainer.prototype.getParentItem=function(e){return e.getCustomObject()};e.FdComponentNavigationContainer.prototype.getTableFromPage=function(e){return e.getCustomObject()};e.FdComponentNavigationContainer.prototype.isReloadRequired=function(){return this.m_model.isInitial()};e.FdComponentNavigationContainer.prototype.onBack=function(t){if(this.m_view.isSearchActive()){this.m_view.clearSearch()}if(this.isReloadRequired()){this.refreshContent(false);return}let i=this.getNavContainer();if(i.hasPages()){if(e.notNull(this.m_activePage)){e.XObjectExt.release(this.m_activePage.getCustomObject());this.m_activePage=e.XObjectExt.release(this.m_activePage)}this.m_activePage=i.getCurrentPage();this.m_uiTable=this.getTableFromPage(i.getCurrentPage());let t=this.m_model.getSelectedItems();e.XCollectionUtils.forEach(this.m_uiTable.getRows(),e=>{e.setSelected(t.contains(e.getCustomObject()))});if(this.isPresentationUpdateNeeded(this.m_view.getSelectedPresentations().getKeysAsReadOnlyList())){this.refreshContent(true)}}};e.FdComponentNavigationContainer.prototype.onPress=function(t){let i=t.getControl();let o=i.getCustomObject();if(o.hasChildren()&&!this.m_view.isSearchActive()){this.addNavigationPage(o,true);this.updateColumns(this.m_view.getSelectedPresentations().getKeysAsReadOnlyList());this.m_view.onFetchChildren(o,0,null,this.m_view,e.FdViewCustomIdentifier.creatForFetchChildrenByItem(o))}};e.FdComponentNavigationContainer.prototype.onProcessFinished=function(t,i,o){if(!this.m_view.isSearchActive()){let t=o;if(t.getParentItem()!==this.getParentItem(this.m_uiTable)){e.XObjectExt.release(t);return}}this.renderItems(t,this.m_view.getSelectedPresentations(),this.m_model.getSelectedItems());this.setBusy(false)};e.FdComponentNavigationContainer.prototype.onScrollLoad=function(t){if(this.m_uiTable.isBusy()||this.m_view.isSearchActive()){return}let i=this.getParentItem(this.m_uiTable);let o=e.notNull(i)?i.getChildren():this.m_model.getItems(0,0);let n=this.m_uiTable.getRows().size();if(o.size()>n){this.setBusy(true);this.m_view.onFetchChildren(i,n,null,this.m_view,e.FdViewCustomIdentifier.creatForFetchChildrenByItem(i))}};e.FdComponentNavigationContainer.prototype.onSearchChange=function(t,i){let o=this.getNavContainer().getCurrentPage();if(t){if(!e.XString.isEqual(o.getName(),e.FdComponentNavigationContainer.NAV_CONTAINER_SEARCH_PAGE)){o=this.addNavigationPage(null,true);o.setName(e.FdComponentNavigationContainer.NAV_CONTAINER_SEARCH_PAGE)}o.setTitle(e.XStringUtils.concatenate3("'",i,"'"));let n=this.getTableFromPage(o);n.clearRows();n.clearSelectedItems();this.updateColumns(this.m_view.getSelectedPresentations().getKeysAsReadOnlyList());e.FdComponentAbstractTable.prototype.onSearchChange.call(this,t,i)}else if(e.XString.isEqual(o.getName(),e.FdComponentNavigationContainer.NAV_CONTAINER_SEARCH_PAGE)){if(this.isReloadRequired()){this.refreshContent(false)}else{this.getNavContainer().popPage()}}};e.FdComponentNavigationContainer.prototype.onSelectionCleared=function(){let t=this.getNavContainer().getPages();for(let e=0;e<t.size();e++){this.getTableFromPage(t.get(e)).clearSelectedItems()}e.FdComponentAbstractTable.prototype.onSelectionCleared.call(this)};e.FdComponentNavigationContainer.prototype.parentNodesInSearchNeeded=function(){return false};e.FdComponentNavigationContainer.prototype.publishPresentations=function(){e.FdComponentAbstractTable.prototype.publishPresentations.call(this);let t=this.getNavContainer().getPages();for(let e=0;e<t.size();e++){let i=t.get(e);i.setTitle(this.getPageTitle(this.getParentItem(this.getTableFromPage(i))))}};e.FdComponentNavigationContainer.prototype.refreshContent=function(e){if(this.isReloadRequired()){let e=this.m_uiTable.getTableSelectionMode();this.clearPages();this.addNavigationPage(null,false);this.setSelectionMode(e)}this.m_view.onRefreshTree(e,this.getParentItem(this.m_uiTable))};e.FdComponentNavigationContainer.prototype.releaseObject=function(){this.clearPages();e.FdComponentAbstractTable.prototype.releaseObject.call(this)};e.FdComponentNavigationContainer.prototype.renderItems=function(t,i,o){this.updateColumns(i.getKeysAsReadOnlyList());if(e.notNull(t)){let n=this.m_view.isSearchActive()?t.size():e.XMath.min(t.size(),this.m_model.getChildNodesPageSize());for(let a=0;a<n;a++){let n=t.get(a);let r=this.m_uiTable.addNewRow();this.m_uiTable.addAllCells(r,this.createRowCells(r,n,i.getValuesAsReadOnlyList()));r.setCustomObject(n);r.setSelected(o.contains(n));r.setName(n.getName());if(n.hasChildren()&&!this.m_view.isSearchActive()){let t=r;t.registerOnPress(this);this.m_uiTable.setListItemType(t,e.UiListItemType.NAVIGATION)}}}};e.FdComponentNavigationContainerLayout=function(){};e.FdComponentNavigationContainerLayout.prototype=new e.XObject;e.FdComponentNavigationContainerLayout.prototype._ff_c="FdComponentNavigationContainerLayout";e.FdComponentNavigationContainerLayout.create=function(){return new e.FdComponentNavigationContainerLayout};e.FdComponentNavigationContainerLayout.prototype.m_genesis=null;e.FdComponentNavigationContainerLayout.prototype.m_labelledByControl=null;e.FdComponentNavigationContainerLayout.prototype.m_navContainer=null;e.FdComponentNavigationContainerLayout.prototype.addLabelledBy=function(t){this.m_labelledByControl=t;e.XCollectionUtils.forEach(this.m_navContainer.getPages(),e=>{e.getContent().addLabelledBy(t)})};e.FdComponentNavigationContainerLayout.prototype.buildOlapDialogUi=function(t){this.m_navContainer=t.newControl(e.UiType.NAVIGATION_CONTAINER);this.m_genesis=t};e.FdComponentNavigationContainerLayout.prototype.createNewResponsiveTable=function(t){let i=e.FdComponentResponsiveTableLayout.create(null);i.buildOlapDialogUi(this.m_genesis);i.addLabelledBy(this.m_labelledByControl);i.disableRowClickBehavior();i.setSupportsSelectAll(t);return i};e.FdComponentNavigationContainerLayout.prototype.getNavContainer=function(){return this.m_navContainer};e.FdComponentNavigationContainerLayout.prototype.getRoot=function(){return this.m_navContainer};e.FdComponentNavigationContainerLayout.prototype.getTable=function(){return this.m_navContainer.getCurrentPage().getContent()};e.FdComponentNavigationContainerLayout.prototype.releaseObject=function(){e.XObject.prototype.releaseObject.call(this);this.m_genesis=null;this.m_navContainer=e.XObjectExt.release(this.m_navContainer);this.m_labelledByControl=null};e.FdComponentNavigationContainerLayout.prototype.resizeComponent=function(e){};e.FdComponentPagingLayout=function(){};e.FdComponentPagingLayout.prototype=new e.FdComponentAbstractPagingLayout;e.FdComponentPagingLayout.prototype._ff_c="FdComponentPagingLayout";e.FdComponentPagingLayout.create=function(){return new e.FdComponentPagingLayout};e.FdComponentPagingLayout.prototype.m_label=null;e.FdComponentPagingLayout.prototype.buildOlapDialogUi=function(t){this.addContainer(t);this.addPagingBtnPrev(t);this.m_label=this.m_container.addNewItemOfType(e.UiType.LABEL);this.m_label.setName("FilterDialogPagingLabel");this.m_label.setMargin(e.UiCssBoxEdges.create(e.FdComponentAbstractPagingLayout.MARGIN));this.addPagingBtnNext(t)};e.FdComponentPagingLayout.prototype.registerOnPress=function(e){this.m_pagingBtnPrev.registerOnPress(e);this.m_pagingBtnNext.registerOnPress(e)};e.FdComponentPagingLayout.prototype.setPage=function(t,i){if(t>0&&i>1){this.m_label.setText(e.XLocalizationCenter.getCenter().getTextWithPlaceholder2(e.FilterDialogI18n.I18N_FD_CURRENTPAGE,e.XInteger.convertToString(t),e.XInteger.convertToString(i)));this.m_container.setVisible(true)}else{this.m_container.setVisible(false)}};e.FdComponentResponsiveTable=function(){};e.FdComponentResponsiveTable.prototype=new e.FdComponentAbstractTable;e.FdComponentResponsiveTable.prototype._ff_c="FdComponentResponsiveTable";e.FdComponentResponsiveTable.create=function(t,i,o){let n=new e.FdComponentResponsiveTable;n.setupResponsiveTableComponent(i,t,o);return n};e.FdComponentResponsiveTable.prototype.m_isLazyLoading=false;e.FdComponentResponsiveTable.prototype.m_paging=null;e.FdComponentResponsiveTable.prototype.buildOlapDialogUi=function(t){if(e.notNull(this.m_paging)){this.m_paging.buildOlapDialogUi(t)}this.m_layout.buildOlapDialogUi(t);let i=this.getTableLayout();i.setSupportsSelectAll(this.m_model.supportsSelectAll());this.m_uiTable=e.FdUiTable.createResponsiveTable(i);this.m_uiTable.registerOnSelectionChange(this);if(e.isNull(this.m_paging)){this.m_uiTable.registerOnScrollLoad(this)}this.m_uiTable.setBusy(true);this.m_model.registerOnPageChanged(()=>{this.setBusy(true);this.refreshContent(false)})};e.FdComponentResponsiveTable.prototype.createCell=function(t,i,o,n){if(n===0&&(i.getType()===e.FilterDialogValueType.USER||i.getType()===e.FilterDialogValueType.TEAM)){let n=this.m_uiTable.newCell(t,e.UiType.FLEX_LAYOUT);this.getTableLayout().addUserAvatar(n.getResponsiveTableCell(),i,i.getFormattedValueByPresentation(o),this.m_model.getPresentationsModel().getSelectedMainPresentation().getKeyPresentation()!==null);return n}let a=e.FdComponentAbstractTable.prototype.createCell.call(this,t,i,o,n);this.updateCellExcludeState(a.getResponsiveTableCell(),t,i);return a};e.FdComponentResponsiveTable.prototype.getTableLayout=function(){return this.m_layout};e.FdComponentResponsiveTable.prototype.onScrollLoad=function(e){if(!this.m_uiTable.isBusy()&&!this.m_view.isSearchActive()&&this.m_model.hasNextPage()){this.setBusy(true);this.m_isLazyLoading=true;this.m_model.setPage(this.m_model.getPage()+1)}};e.FdComponentResponsiveTable.prototype.onSelectionChange=function(t){let i=this.m_view.isSearchActive();if(!i&&t.getParameters().getBooleanByKeyExt(e.UiEventParams.PARAM_SELECT_ALL,false)){this.m_view.addAllMembersToSelection();return}else if(!i&&t.getParameters().getBooleanByKeyExt(e.UiEventParams.PARAM_DESELECT_ALL,false)){this.m_model.clearSelection();return}e.FdComponentAbstractTable.prototype.onSelectionChange.call(this,t);this.m_uiTable.registerOnSelectionChange(null);let o=this.m_model.getSelectedItems();e.XCollectionUtils.forEach(this.m_uiTable.getRows(),e=>{e.setSelected(o.contains(e.getCustomObject()))});this.m_uiTable.registerOnSelectionChange(this)};e.FdComponentResponsiveTable.prototype.refreshContent=function(t){this.m_view.onRefreshList(t,e.notNull(this.m_paging)||this.m_isLazyLoading)};e.FdComponentResponsiveTable.prototype.releaseObject=function(){this.m_model.registerOnPageChanged(null);this.m_paging=e.XObjectExt.release(this.m_paging);e.FdComponentAbstractTable.prototype.releaseObject.call(this)};e.FdComponentResponsiveTable.prototype.renderItems=function(t,i,o){if(!this.m_isLazyLoading){this.m_uiTable.clearRows();this.m_uiTable.clearSelectedItems();this.updateColumns(i.getKeysAsReadOnlyList());this.getTableLayout().scrollToTop()}this.m_isLazyLoading=false;let n=this.m_model.isFeatureEnabled(e.FdFeature.EXCLUDE_ADVANCED);let a=e.notNull(t)?t.size():0;for(let e=0;e<a;e++){let a=t.get(e);let r=this.m_uiTable.addNewRow();r.setCustomObject(a);r.setSelected(o.contains(a));r.setDraggable(n);this.m_uiTable.addAllCells(r,this.createRowCells(r,a,i.getValuesAsReadOnlyList()))}};e.FdComponentResponsiveTable.prototype.setBusy=function(t){e.FdComponentAbstractTable.prototype.setBusy.call(this,t);if(e.notNull(this.m_paging)){this.m_paging.setBusy(t)}};e.FdComponentResponsiveTable.prototype.setupResponsiveTableComponent=function(t,i,o){if(o===e.FdTableType.RESPONSIVE_TABLE_PAGING){this.m_paging=t.getTotalPageCount()<0?e.FdComponentEndlessPaging.create(t):e.FdComponentPaging.create(t)}e.FdComponentAbstractTable.prototype.setupTableComponent.call(this,t,e.FdComponentResponsiveTableLayout.create(e.notNull(this.m_paging)?this.m_paging.getLayout():null),i)};e.FdComponentResponsiveTable.prototype.updateCellExcludeState=function(t,i,o){let n=i.isSelected()&&this.m_model.isFeatureEnabled(e.FdFeature.EXCLUDE_ADVANCED)&&e.XCollectionUtils.contains(this.m_model.getSelectedItems(),e=>e.isExcluded()&&e.isEqualTo(o));t.setTextDecoration(n?e.UiCssTextDecoration.createByValues(e.UiTextDecorationLine.LINE_THROUGH,null,null):null)};e.FdComponentResponsiveTable.prototype.updatePaging=function(t){if(e.notNull(this.m_paging)){this.m_paging.updatePaging(t||this.m_view.isSearchActive())}};e.FdComponentResponsiveTable.prototype.updateSelectionState=function(t){e.XCollectionUtils.forEach(this.m_uiTable.getRows(),i=>{let o=i.getCustomObject();i.setSelected(t.contains(o));if(o.getType()!==e.FilterDialogValueType.USER&&o.getType()!==e.FilterDialogValueType.TEAM){e.XCollectionUtils.forEach(i.getResponsiveTableCells(),e=>{this.updateCellExcludeState(e,i,o)})}})};e.FdComponentResponsiveTableLayout=function(){};e.FdComponentResponsiveTableLayout.prototype=new e.XObject;e.FdComponentResponsiveTableLayout.prototype._ff_c="FdComponentResponsiveTableLayout";e.FdComponentResponsiveTableLayout.create=function(t){let i=new e.FdComponentResponsiveTableLayout;i.m_pagingLayout=t;return i};e.FdComponentResponsiveTableLayout.prototype.m_genesis=null;e.FdComponentResponsiveTableLayout.prototype.m_pagingLayout=null;e.FdComponentResponsiveTableLayout.prototype.m_responsiveTable=null;e.FdComponentResponsiveTableLayout.prototype.m_root=null;e.FdComponentResponsiveTableLayout.prototype.m_scrollContainer=null;e.FdComponentResponsiveTableLayout.prototype.addLabelledBy=function(e){this.m_responsiveTable.addLabelledBy(e)};e.FdComponentResponsiveTableLayout.prototype.addUserAvatar=function(t,i,o,n){t.setAlignItems(e.UiFlexAlignItems.CENTER);if(i.getType()===e.FilterDialogValueType.TEAM){let o=e.UtAvatarWidget.create(this.m_genesis,i.getIcon(),e.UiAvatarColor.ACCENT_6,e.UiAvatarSize.XS,()=>{let t=this.m_genesis.newControl(e.UiType.RESPONSIVE_TABLE);t.setName("FilterDialogUserPopoverTable");t.setWidth(e.UiCssLength.create("250px"));let o=t.addNewResponsiveTableColumn();let a=o.setNewHeader(e.UiType.LABEL);a.setText(n?i.getDisplayKey():i.getText());let r=t.addNewResponsiveTableRow();let l=r.addNewResponsiveTableCellOfType(e.UiType.FLEX_LAYOUT);l.setJustifyContent(e.UiFlexJustifyContent.CENTER);l.addNewItemOfType(e.UiType.ACTIVITY_INDICATOR);i.getUsers(this.m_genesis.getUiManager().getProcess()).onThen(i=>{l.clearItems();l.setJustifyContent(e.UiFlexJustifyContent.START);for(let o=0;o<i.size();o++){let a=i.get(o);let r=l;if(o>0){r=t.addNewResponsiveTableRow().addNewResponsiveTableCellOfType(e.UiType.FLEX_LAYOUT)}r.addItem(this.createAvatar(a.getIcon(),e.UiAvatarColor.ACCENT_7));let s=r.addNewItemOfType(e.UiType.LABEL);s.setText(n||e.XStringUtils.isNullOrEmpty(a.getText())?a.getDisplayKey():a.getText());s.setAlignSelf(e.UiFlexAlignSelf.CENTER);s.setMargin(e.UiCssBoxEdges.create("0 0 0 1rem"))}});return t});o.setName("FilterDialogTeamAvatar");this.setSizeOfAvatar(o.getView());o.setPopoverPlacement(e.UiPlacementType.BOTTOM);t.addItem(o.getView())}else{let o=this.createAvatar(i.getIcon(),e.UiAvatarColor.ACCENT_7);o.setName("FilterDialogUserAvatar");t.addItem(o)}let a=t.addNewItemOfType(e.UiType.LABEL);a.setText(o);a.setMargin(e.UiCssBoxEdges.create("0 0 0 1rem"))};e.FdComponentResponsiveTableLayout.prototype.buildOlapDialogUi=function(t){this.m_genesis=t;this.m_scrollContainer=t.newControl(e.UiType.SCROLL_CONTAINER);this.m_scrollContainer.setName("FilterDialogTableScrollContainer");this.m_root=this.m_scrollContainer;this.m_responsiveTable=this.m_scrollContainer.setNewContent(e.UiType.RESPONSIVE_TABLE);this.m_responsiveTable.setName("FilterDialogTable");this.m_responsiveTable.setFlex("auto");this.m_responsiveTable.setColumnResize(true);this.m_responsiveTable.addNewResponsiveTableColumn();this.m_responsiveTable.setIncludeItemInSelection(true);if(e.notNull(this.m_pagingLayout)){this.m_scrollContainer.useMaxHeight();let i=t.newControl(e.UiType.FLEX_LAYOUT);i.setName("FilterDialogTableContainer");i.setDirection(e.UiFlexDirection.COLUMN);i.useMaxWidth();i.setMinHeight(e.UiCssLength.create("200px"));i.setFlex("auto");this.m_root=i;i.addItem(this.m_scrollContainer);i.addItem(this.m_pagingLayout.getRoot())}};e.FdComponentResponsiveTableLayout.prototype.createAvatar=function(t,i){let o=this.m_genesis.newControl(e.UiType.AVATAR);o.setIcon(t);o.setAvatarColor(i);o.setAvatarSize(e.UiAvatarSize.XS);this.setSizeOfAvatar(o);return o};e.FdComponentResponsiveTableLayout.prototype.disableRowClickBehavior=function(){this.m_responsiveTable.setIncludeItemInSelection(false)};e.FdComponentResponsiveTableLayout.prototype.getRoot=function(){return this.m_root};e.FdComponentResponsiveTableLayout.prototype.getTable=function(){return this.m_responsiveTable};e.FdComponentResponsiveTableLayout.prototype.releaseObject=function(){e.XObject.prototype.releaseObject.call(this);this.m_genesis=null;this.m_root=e.XObjectExt.release(this.m_root);this.m_pagingLayout=null};e.FdComponentResponsiveTableLayout.prototype.resizeComponent=function(e){};e.FdComponentResponsiveTableLayout.prototype.scrollToTop=function(){this.m_scrollContainer.scrollTo(0,0,0)};e.FdComponentResponsiveTableLayout.prototype.setSizeOfAvatar=function(t){t.setSize(e.UiSize.createByCss("1.5rem","1.5rem"));t.setMinWidth(e.UiCssLength.create("1.5rem"))};e.FdComponentResponsiveTableLayout.prototype.setSupportsSelectAll=function(e){if(!e){this.m_responsiveTable.addCssClass("hideSelectAll")}};e.FdComponentTreeTable=function(){};e.FdComponentTreeTable.prototype=new e.FdComponentAbstractTable;e.FdComponentTreeTable.prototype._ff_c="FdComponentTreeTable";e.FdComponentTreeTable.PLACEHOLDER_NAME="TreeTablePlaceholderItem";e.FdComponentTreeTable.create=function(t,i){let o=new e.FdComponentTreeTable;o.setupTableComponent(i,e.FdComponentTreeTableLayout.create(),t);return o};e.FdComponentTreeTable.prototype.m_isLazyLoading=false;e.FdComponentTreeTable.prototype.addVisibleChildRowsToList=function(t,i,o,n){if(t.getUiType().isTypeOf(e.UiType.TREE_TABLE)||t.isExpanded()){let e=t.getTreeTableRows();for(let t=i;t<e.size();t++){let i=e.get(t);o.add(i);if(o.size()>=n){return}this.addVisibleChildRowsToList(i,0,o,n);if(o.size()>=n){return}}}};e.FdComponentTreeTable.prototype.buildOlapDialogUi=function(t){this.m_layout.buildOlapDialogUi(t);this.m_uiTable=e.FdUiTable.createTreeTable(this.m_layout);this.m_uiTable.registerOnSelectionChange(this);this.m_uiTable.registerOnExpand(this);this.m_uiTable.registerOnCollapse(this);this.m_uiTable.registerOnScroll(this)};e.FdComponentTreeTable.prototype.createChildRows=function(t,i,o,n){let a=e.XList.create();if(e.XCollectionUtils.hasElements(i)){let r=n?e.XMath.min(i.size(),this.m_model.getChildNodesPageSize()):i.size();for(let e=0;e<r;e++){a.add(this.createRow(t.newTreeTableRow(),i.get(e),o,n))}}return a};e.FdComponentTreeTable.prototype.createPlaceholderRow=function(){let t=this.m_uiTable.newRow();t.setName(e.FdComponentTreeTable.PLACEHOLDER_NAME);let i=t.newCell();i.setText(e.XLocalizationCenter.getCenter().getText(e.FilterDialogI18n.I18N_FD_LOADING));t.addCell(i);return t};e.FdComponentTreeTable.prototype.createRow=function(t,i,o,n){this.m_uiTable.addAllCells(t,this.createRowCells(t,i,o));t.setCustomObject(i);t.setName(i.getName());if(i.hasChildren()){let a=i.getChildren();let r=e.XCollectionUtils.hasElements(a);if(r){t.addAllTreeTableRows(this.createChildRows(t,t.getCustomObject().getChildren(),o,n))}if(!r||n&&a.size()>this.m_model.getChildNodesPageSize()){t.addTreeTableRow(this.createPlaceholderRow())}}return t};e.FdComponentTreeTable.prototype.fetchChildren=function(t,i){let o=this.m_model.getPresentationsModel().getAdditionalPresentationValues(false);this.m_view.onFetchChildren(t.getCustomObject(),i,o,this.m_view,e.FdViewCustomIdentifier.creatForFetchChildrenByRow(t))};e.FdComponentTreeTable.prototype.getVisibleRows=function(t){let i=e.XList.create();let o=this.m_uiTable.getFirstVisibleRow();if(e.isNull(o)){return i}i.add(o);let n=t.getIntegerByKey(e.UiEventParams.PARAM_CONFIGURED_ROW_COUNT);let a=0;let r=o;while(e.notNull(r)&&i.size()<n){this.addVisibleChildRowsToList(r,a,i,n);if(!r.getUiType().isTypeOf(e.UiType.TREE_TABLE_ROW)){break}let t=r.getParent();if(e.notNull(t)){a=t.getIndexOfTreeTableRow(r)+1}r=t}return i};e.FdComponentTreeTable.prototype.isPlaceholderRow=function(t){return e.XString.isEqual(t.getName(),e.FdComponentTreeTable.PLACEHOLDER_NAME)};e.FdComponentTreeTable.prototype.lazyLoadNodes=function(t){if(this.m_isLazyLoading||this.m_uiTable.isBusy()){return}let i=this.getVisibleRows(t);for(let t=0;t<i.size();t++){let o=i.get(t);if(this.isPlaceholderRow(o)){let t=o.getParent();if(e.notNull(t)&&t.getUiType().isTypeOf(e.UiType.TREE_TABLE_ROW)){this.setBusy(true);let e=t.getTreeTableRows().size()-1;this.fetchChildren(t,e);return}else if(!this.m_view.isSearchActive()&&this.m_model.hasNextPage()){this.setBusy(true);this.m_model.setPage(this.m_model.getPage()+1);this.m_isLazyLoading=true;this.m_uiTable.removeRow(o);this.renderItems(this.m_model.getItemsOnCurrentPage(),this.m_view.getSelectedPresentations(),this.m_model.getSelectedItems());this.setBusy(false);return}}}};e.FdComponentTreeTable.prototype.onCollapse=function(e){this.lazyLoadNodes(e.getParameters())};e.FdComponentTreeTable.prototype.onExpand=function(t){let i=t.getAffectedItem();let o=i.getTreeTableRows();if(e.XCollectionUtils.hasElements(o)){let e=o.size();if(e===1&&this.isPlaceholderRow(o.get(0))){this.setBusy(true);this.fetchChildren(i,0)}else{this.updateRowStates(o,0,true)}}};e.FdComponentTreeTable.prototype.onProcessFinished=function(t,i,o){let n=o;if(n.isFetchChildrenIdentifier()){let i=n.getParentRow();if(!e.XCollectionUtils.hasElements(t)){i.collapse()}else{let e=i.getTreeTableRows().size()-1;i.addAllTreeTableRows(this.createChildRows(i,t,this.m_view.getSelectedPresentations().getValuesAsReadOnlyList(),true));let o=i.getTreeTableRows();if(this.isPlaceholderRow(o.get(0))){i.removeTreeTableRow(o.get(0))}if(this.isPlaceholderRow(o.get(e))){i.removeTreeTableRow(o.get(e))}if(t.size()>this.m_model.getChildNodesPageSize()){i.addTreeTableRow(this.createPlaceholderRow())}this.updateRowStates(o,0,true)}this.setBusy(false);e.XObjectExt.release(o)}};e.FdComponentTreeTable.prototype.onScroll=function(e){this.lazyLoadNodes(e.getParameters())};e.FdComponentTreeTable.prototype.onSearchChange=function(t,i){if(!t){this.m_model.setPage(0)}e.FdComponentAbstractTable.prototype.onSearchChange.call(this,t,i)};e.FdComponentTreeTable.prototype.refreshContent=function(e){if(this.m_model.isInitial()||!e){this.m_view.onRefreshTree(e,null);return}this.publishPresentations()};e.FdComponentTreeTable.prototype.renderItems=function(t,i,o){if(!this.m_isLazyLoading){this.m_uiTable.clearRows();this.m_uiTable.clearSelectedItems();this.updateColumns(i.getKeysAsReadOnlyList())}let n=!this.m_view.isSearchActive();let a=e.XList.create();let r=e.notNull(t)?t.size():0;for(let e=0;e<r;e++){let o=t.get(e);if(o.isRootNode()){a.add(this.createRow(this.m_uiTable.newRow(),o,i.getValuesAsReadOnlyList(),n))}}if(n&&this.m_model.hasNextPage()){a.add(this.createPlaceholderRow())}this.m_uiTable.addAllRows(a);let l=this.m_view.isSearchActive()?-1:this.m_model.getDefaultExpandLevel();this.updateRowStates(e.XCollectionUtils.map(this.m_uiTable.getRows(),e=>e),l,false);if(a.hasElements()&&!this.m_isLazyLoading){this.m_uiTable.setFirstVisibleRow(a.get(0))}this.m_isLazyLoading=false};e.FdComponentTreeTable.prototype.updateRowStates=function(t,i,o){this.m_uiTable.registerOnSelectionChange(null);let n=this.m_model.getSelectedItems();let a=t.size();for(let r=0;r<a;r++){let a=t.get(r);if(!this.isPlaceholderRow(a)){let t=a.getCustomObject();if(o||n.contains(t)){a.setSelected(n.contains(t))}if((i===-1||t.getValueHelpNode().getAbsoluteLevel()<i)&&e.XCollectionUtils.hasElements(t.getChildren())){a.expand()}}}this.m_uiTable.registerOnSelectionChange(this)};e.FdComponentTreeTable.prototype.updateRows=function(t,i){this.updateTreeTableRows(e.XCollectionUtils.map(t,e=>e),i)};e.FdComponentTreeTable.prototype.updateTreeTableRows=function(t,i){if(e.XCollectionUtils.hasElements(t)){let e=t.size();for(let o=0;o<e;o++){let e=t.get(o);if(!this.isPlaceholderRow(e)){e.clearCells();this.m_uiTable.addAllCells(e,this.createRowCells(e,e.getCustomObject(),i));this.updateTreeTableRows(e.getTreeTableRows(),i)}}}};e.FdComponentTreeTableLayout=function(){};e.FdComponentTreeTableLayout.prototype=new e.XObject;e.FdComponentTreeTableLayout.prototype._ff_c="FdComponentTreeTableLayout";e.FdComponentTreeTableLayout.create=function(){return new e.FdComponentTreeTableLayout};e.FdComponentTreeTableLayout.prototype.m_treeTable=null;e.FdComponentTreeTableLayout.prototype.addLabelledBy=function(e){this.m_treeTable.addLabelledBy(e)};e.FdComponentTreeTableLayout.prototype.buildOlapDialogUi=function(t){let i=e.UiRowMode.createAuto();i.setMinRowCount(2);this.m_treeTable=t.newControl(e.UiType.TREE_TABLE);this.m_treeTable.setName("FilterDialogTree");this.m_treeTable.setRowMode(i);this.m_treeTable.setSelectionBehavior(e.UiSelectionBehavior.ROW);this.m_treeTable.setFlex("auto");this.m_treeTable.addNewColumn()};e.FdComponentTreeTableLayout.prototype.getRoot=function(){return this.m_treeTable};e.FdComponentTreeTableLayout.prototype.getTable=function(){return this.m_treeTable};e.FdComponentTreeTableLayout.prototype.releaseObject=function(){this.m_treeTable=e.XObjectExt.release(this.m_treeTable);e.XObject.prototype.releaseObject.call(this)};e.FdComponentTreeTableLayout.prototype.resizeComponent=function(e){};e.OuHierarchyDialogI18n=function(){};e.OuHierarchyDialogI18n.prototype=new e.DfXLocalizationProvider;e.OuHierarchyDialogI18n.prototype._ff_c="OuHierarchyDialogI18n";e.OuHierarchyDialogI18n.FLAT_REPRESENTATION_ITEM_LABEL="FF_SHIER_DIALOG_FLAT_REPRESENTATION_ITEM_LABEL";e.OuHierarchyDialogI18n.HIERARCHY_LABEL="FF_SHIER_DIALOG_HIERARCHY_LABEL";e.OuHierarchyDialogI18n.NO_DIMENSION_ERROR_LABEL="FF_SHIER_DIALOG_NO_DIMENSION_ERROR_LABEL";e.OuHierarchyDialogI18n.TITLE="FF_SHIER_DIALOG_TITLE";e.OuHierarchyDialogI18n.staticSetup=function(){let t=new e.OuHierarchyDialogI18n;t.setupProvider(e.OuSelectHierarchyDialog.DEFAULT_PROGRAM_NAME,true);t.addText(e.OuHierarchyDialogI18n.TITLE,"Select Hierarchy");t.addComment(e.OuHierarchyDialogI18n.TITLE,"#XTIT: Title of Select Hierarchy dialog");t.addText(e.OuHierarchyDialogI18n.HIERARCHY_LABEL,"Hierarchy");t.addComment(e.OuHierarchyDialogI18n.HIERARCHY_LABEL,"#XFLD: Label displayed beside drop down Hierarchy");t.addText(e.OuHierarchyDialogI18n.FLAT_REPRESENTATION_ITEM_LABEL,"Flat presentation");t.addComment(e.OuHierarchyDialogI18n.FLAT_REPRESENTATION_ITEM_LABEL,"#XMIT: String representing Flat presentation menu item");t.addText(e.OuHierarchyDialogI18n.NO_DIMENSION_ERROR_LABEL,"Dimension must be selected for hierarchy dialog to initialize.");t.addComment(e.OuHierarchyDialogI18n.NO_DIMENSION_ERROR_LABEL,"#XMSG: Message displayed as error toast when dimension is not initialized");return t};e.LayoutDialogI18n=function(){};e.LayoutDialogI18n.prototype=new e.DfXLocalizationProvider;e.LayoutDialogI18n.prototype._ff_c="LayoutDialogI18n";e.LayoutDialogI18n.I18N_LD_ABOVE="I18N_LD_ABOVE";e.LayoutDialogI18n.I18N_LD_ABOVE_AND_BELOW="I18N_LD_ABOVE_AND_BELOW";e.LayoutDialogI18n.I18N_LD_ABOVE_AND_BELOW_SHORT="I18N_LD_ABOVE_AND_BELOW_SHORT";e.LayoutDialogI18n.I18N_LD_ALLOW_INPUT="I18N_LD_ALLOW_INPUT";e.LayoutDialogI18n.I18N_LD_BELOW="I18N_LD_BELOW";e.LayoutDialogI18n.I18N_LD_COLUMNS="I18N_LD_COLUMNS";e.LayoutDialogI18n.I18N_LD_COLUMN_LIMIT="I18N_LD_COLUMN_LIMIT";e.LayoutDialogI18n.I18N_LD_DISPLAY_HIERARCHICALLY="I18N_LD_DISPLAY_HIERARCHICALLY";e.LayoutDialogI18n.I18N_LD_FREE_AXIS="I18N_LD_FREE_AXIS";e.LayoutDialogI18n.I18N_LD_GRID_CONFIG="I18N_LD_GRID_CONFIG";e.LayoutDialogI18n.I18N_LD_HIDE_FREE="I18N_LD_HIDE_FREE";e.LayoutDialogI18n.I18N_LD_MOVE_BOTTOM="I18N_LD_MOVE_BOTTOM";e.LayoutDialogI18n.I18N_LD_MOVE_DOWN="I18N_LD_MOVE_DOWN";e.LayoutDialogI18n.I18N_LD_MOVE_TOP="I18N_LD_MOVE_TOP";e.LayoutDialogI18n.I18N_LD_MOVE_TO_COLUMNS="I18N_LD_MOVE_TO_COLUMNS";e.LayoutDialogI18n.I18N_LD_MOVE_TO_ROWS="I18N_LD_MOVE_TO_ROWS";e.LayoutDialogI18n.I18N_LD_MOVE_UP="I18N_LD_MOVE_UP";e.LayoutDialogI18n.I18N_LD_POSITION_OF_TOTALS="I18N_LD_POSITION_OF_TOTALS";e.LayoutDialogI18n.I18N_LD_PROPERTIES="I18N_LD_PROPERTIES";e.LayoutDialogI18n.I18N_LD_REMOVE_FROM_LAYOUT="I18N_LD_REMOVE_FROM_LAYOUT";e.LayoutDialogI18n.I18N_LD_ROWS="I18N_LD_ROWS";e.LayoutDialogI18n.I18N_LD_ROW_LIMIT="I18N_LD_ROW_LIMIT";e.LayoutDialogI18n.I18N_LD_SELECT_FILTER="I18N_LD_SELECT_FILTER";e.LayoutDialogI18n.I18N_LD_SHOW_FREE="I18N_LD_SHOW_FREE";e.LayoutDialogI18n.I18N_LD_SUPPRESSION_ALL_NULL="I18N_LD_SUPPRESSION_ALL_NULL";e.LayoutDialogI18n.I18N_LD_SUPPRESSION_ALL_ZERO="I18N_LD_SUPPRESSION_ALL_ZERO";e.LayoutDialogI18n.I18N_LD_SUPPRESSION_NONE="I18N_LD_SUPPRESSION_NONE";e.LayoutDialogI18n.I18N_LD_SUPPRESSION_TOTALS_ZERO="I18N_LD_SUPPRESSION_TOTALS_ZERO";e.LayoutDialogI18n.I18N_LD_TECHNICAL="I18N_LD_TECHNICAL";e.LayoutDialogI18n.I18N_LD_USE_DEFAULT_SETTING="I18N_LD_USE_DEFAULT_SETTING";e.LayoutDialogI18n.I18N_LD_ZERO_SUPPRESSION="I18N_LD_ZERO_SUPPRESSION";e.LayoutDialogI18n.LOCA_NAME="LayoutDialogI18n";e.LayoutDialogI18n.getLocalization=function(){return e.XLocalizationCenter.getCenter().getLocalizationProviderByName(e.LayoutDialogI18n.LOCA_NAME)};e.LayoutDialogI18n.staticSetup=function(){let t=new e.LayoutDialogI18n;t.setupProvider(e.LayoutDialogI18n.LOCA_NAME,false);t.addText(e.LayoutDialogI18n.I18N_LD_COLUMNS,"Columns");t.addText(e.LayoutDialogI18n.I18N_LD_ROWS,"Rows");t.addText(e.LayoutDialogI18n.I18N_LD_FREE_AXIS,"Free Axis");t.addText(e.LayoutDialogI18n.I18N_LD_MOVE_TO_COLUMNS,"Move to Columns");t.addText(e.LayoutDialogI18n.I18N_LD_MOVE_TO_ROWS,"Move to Rows");t.addText(e.LayoutDialogI18n.I18N_LD_REMOVE_FROM_LAYOUT,"Remove From Layout");t.addText(e.LayoutDialogI18n.I18N_LD_GRID_CONFIG,"Grid");t.addText(e.LayoutDialogI18n.I18N_LD_COLUMN_LIMIT,"Column Limit");t.addText(e.LayoutDialogI18n.I18N_LD_ROW_LIMIT,"Row Limit");t.addText(e.LayoutDialogI18n.I18N_LD_ALLOW_INPUT,"Allow Input");t.addText(e.LayoutDialogI18n.I18N_LD_DISPLAY_HIERARCHICALLY,"Display Hierarchically");t.addText(e.LayoutDialogI18n.I18N_LD_PROPERTIES,"Properties");t.addText(e.LayoutDialogI18n.I18N_LD_SELECT_FILTER,"Select Filter");t.addText(e.LayoutDialogI18n.I18N_LD_SUPPRESSION_TOTALS_ZERO,"Suppress if totals are zero");t.addText(e.LayoutDialogI18n.I18N_LD_SUPPRESSION_ALL_ZERO,"Suppress if all values are zero");t.addText(e.LayoutDialogI18n.I18N_LD_SUPPRESSION_ALL_NULL,"Suppress if all values are null");t.addText(e.LayoutDialogI18n.I18N_LD_SUPPRESSION_NONE,"Don't suppress zeros");t.addText(e.LayoutDialogI18n.I18N_LD_MOVE_BOTTOM,"Move Item to Bottom");t.addText(e.LayoutDialogI18n.I18N_LD_MOVE_DOWN,"Move Down Item by 1");t.addText(e.LayoutDialogI18n.I18N_LD_MOVE_UP,"Move Up Item by 1");t.addText(e.LayoutDialogI18n.I18N_LD_MOVE_TOP,"Move Item to Top");t.addText(e.LayoutDialogI18n.I18N_LD_ZERO_SUPPRESSION,"Suppress Zeros/Nulls");t.addText(e.LayoutDialogI18n.I18N_LD_USE_DEFAULT_SETTING,"Use Default Setting");t.addText(e.LayoutDialogI18n.I18N_LD_POSITION_OF_TOTALS,"Position of Totals");t.addText(e.LayoutDialogI18n.I18N_LD_ABOVE,"Above");t.addText(e.LayoutDialogI18n.I18N_LD_ABOVE_AND_BELOW,"Above And Below");t.addText(e.LayoutDialogI18n.I18N_LD_ABOVE_AND_BELOW_SHORT,"A + B");t.addText(e.LayoutDialogI18n.I18N_LD_BELOW,"Below");t.addText(e.LayoutDialogI18n.I18N_LD_TECHNICAL,"Show Technical Names");t.addText(e.LayoutDialogI18n.I18N_LD_SHOW_FREE,"Show Dimensions on Free Axis");t.addText(e.LayoutDialogI18n.I18N_LD_HIDE_FREE,"Hide Dimensions on Free Axis");return t};e.OuMeasureDimensionConfigDialogI18n=function(){};e.OuMeasureDimensionConfigDialogI18n.prototype=new e.DfXLocalizationProvider;e.OuMeasureDimensionConfigDialogI18n.prototype._ff_c="OuMeasureDimensionConfigDialogI18n";e.OuMeasureDimensionConfigDialogI18n.I18N_PROGRAM_TITLE="FF_CONFIG_DIALOG_TITLE";e.OuMeasureDimensionConfigDialogI18n.staticSetup=function(){let t=new e.OuMeasureDimensionConfigDialogI18n;t.setupProvider(e.OuMeasureDimensionConfigDialog.DEFAULT_PROGRAM_NAME,false);t.addComment(e.OuMeasureDimensionConfigDialogI18n.I18N_PROGRAM_TITLE,"#XTIT: The title of the dialog.");t.addText(e.OuMeasureDimensionConfigDialogI18n.I18N_PROGRAM_TITLE,"Measure and Dimension Configuration");return t};e.OuQueryInformationDialogI18n=function(){};e.OuQueryInformationDialogI18n.prototype=new e.DfXLocalizationProvider;e.OuQueryInformationDialogI18n.prototype._ff_c="OuQueryInformationDialogI18n";e.OuQueryInformationDialogI18n.ANALYTIC_MODEL_SECTION_HEADER="FF_QUERY_INFO_DIALOG_ANALYTIC_MODEL_SECTION_HEADER";e.OuQueryInformationDialogI18n.BW_QUERY_SECTION_HEADER="FF_QUERY_INFO_DIALOG_BW_QUERY_SECTION_HEADER";e.OuQueryInformationDialogI18n.CALC_VIEW_SECTION_HEADER="FF_QUERY_INFO_DIALOG_CALC_VIEW_SECTION_HEADER";e.OuQueryInformationDialogI18n.DATASPHERE_SECTION_HEADER="FF_QUERY_INFO_DIALOG_DATASPHERE_SECTION_HEADER";e.OuQueryInformationDialogI18n.DIALOG_TITLE="FF_QUERY_INFO_DIALOG_TITLE";e.OuQueryInformationDialogI18n.FALLBACK_MODEL_SECTION_HEADER="FF_QUERY_INFO_DIALOG_FALLBACK_MODEL_SECTION_HEADER";e.OuQueryInformationDialogI18n.GENERAL_TAB_DESC_LABEL="FF_QUERY_INFO_DIALOG_GENERAL_TAB_DESC_LABEL";e.OuQueryInformationDialogI18n.GENERAL_TAB_HEADER="FF_QUERY_INFO_DIALOG_GENERAL_TAB_HEADER";e.OuQueryInformationDialogI18n.GENERAL_TAB_NAME_LABEL="FF_QUERY_INFO_DIALOG_GENERAL_TAB_NAME_LABEL";e.OuQueryInformationDialogI18n.IBP_SECTION_HEADER="FF_QUERY_INFO_DIALOG_IBP_SECTION_HEADER";e.OuQueryInformationDialogI18n.INFO_PROVIDER_SECTION_HEADER="FF_QUERY_INFO_DIALOG_INFO_PROVIDER_SECTION_HEADER";e.OuQueryInformationDialogI18n.LAST_UPDATED_SECTION_DATE_LABEL="FF_QUERY_INFO_DIALOG_LAST_UPDATED_SECTION_DATE_LABEL";e.OuQueryInformationDialogI18n.LAST_UPDATED_SECTION_HEADER="FF_QUERY_INFO_DIALOG_LAST_UPDATED_SECTION_HEADER";e.OuQueryInformationDialogI18n.PINNED_TO_STORY_LINK_HEADER="FF_QUERY_INFO_DIALOG_PINNED_TO_STORY_LINK_HEADER";e.OuQueryInformationDialogI18n.PLANNING_MODEL_SECTION_HEADER="FF_QUERY_INFO_DIALOG_PLANNING_MODEL_SECTION_HEADER";e.OuQueryInformationDialogI18n.VARIABLES_NODE_TEXT="FF_QUERY_INFO_DIALOG_VARIABLES_NODE_TEXT";e.OuQueryInformationDialogI18n.VARIABLES_TAB_HEADER="FF_QUERY_INFO_DIALOG_VARIABLES_TAB_HEADER";e.OuQueryInformationDialogI18n.VARIABLE_VALUE_GTE_TEMPLATE="FF_QUERY_INFO_DIALOG_VARIABLE_VALUE_GTE_TEMPLATE";e.OuQueryInformationDialogI18n.VARIABLE_VALUE_GT_TEMPLATE="FF_QUERY_INFO_DIALOG_VARIABLE_VALUE_GT_TEMPLATE";e.OuQueryInformationDialogI18n.VARIABLE_VALUE_LTE_TEMPLATE="FF_QUERY_INFO_DIALOG_VARIABLE_VALUE_LTE_TEMPLATE";e.OuQueryInformationDialogI18n.VARIABLE_VALUE_LT_TEMPLATE="FF_QUERY_INFO_DIALOG_VARIABLE_VALUE_LT_TEMPLATE";e.OuQueryInformationDialogI18n.VARIABLE_VALUE_NE_TEMPLATE="FF_QUERY_INFO_DIALOG_VARIABLE_VALUE_NE_TEMPLATE";e.OuQueryInformationDialogI18n.VARIABLE_VALUE_NOT_IN_RANGE_TEMPLATE="FF_QUERY_INFO_DIALOG_VARIABLE_VALUE_NOT_IN_RANGE_TEMPLATE";e.OuQueryInformationDialogI18n.VARIABLE_VALUE_RANGE_TEMPLATE="FF_QUERY_INFO_DIALOG_VARIABLE_VALUE_RANGE_TEMPLATE";e.OuQueryInformationDialogI18n.staticSetup=function(){let t=new e.OuQueryInformationDialogI18n;t.setupProvider(e.OuQueryInformationDialog.DEFAULT_PROGRAM_NAME,true);t.addText(e.OuQueryInformationDialogI18n.DIALOG_TITLE,"Information");t.addComment(e.OuQueryInformationDialogI18n.DIALOG_TITLE,"#XTIT: The title of the information dialog");t.addText(e.OuQueryInformationDialogI18n.GENERAL_TAB_HEADER,"General");t.addComment(e.OuQueryInformationDialogI18n.GENERAL_TAB_HEADER,"#XFLD: General tab header");t.addText(e.OuQueryInformationDialogI18n.GENERAL_TAB_NAME_LABEL,"Name:");t.addComment(e.OuQueryInformationDialogI18n.GENERAL_TAB_NAME_LABEL,"#XFLD: Datasource name label");t.addText(e.OuQueryInformationDialogI18n.GENERAL_TAB_DESC_LABEL,"Description:");t.addComment(e.OuQueryInformationDialogI18n.GENERAL_TAB_DESC_LABEL,"#XFLD: Datasource description label");t.addTextWithComment(e.OuQueryInformationDialogI18n.DATASPHERE_SECTION_HEADER,"Datasphere","#XTIT: Datasphere section header");t.addText(e.OuQueryInformationDialogI18n.BW_QUERY_SECTION_HEADER,"Query");t.addComment(e.OuQueryInformationDialogI18n.BW_QUERY_SECTION_HEADER,"#XTIT: Query section header");t.addText(e.OuQueryInformationDialogI18n.IBP_SECTION_HEADER,"IBP model");t.addComment(e.OuQueryInformationDialogI18n.IBP_SECTION_HEADER,"#XTIT: IBP view section header");t.addText(e.OuQueryInformationDialogI18n.CALC_VIEW_SECTION_HEADER,"HANA View");t.addComment(e.OuQueryInformationDialogI18n.CALC_VIEW_SECTION_HEADER,"#XTIT: HANA view section header");t.addText(e.OuQueryInformationDialogI18n.ANALYTIC_MODEL_SECTION_HEADER,"Model (Analytic)");t.addComment(e.OuQueryInformationDialogI18n.ANALYTIC_MODEL_SECTION_HEADER,"#XTIT: SAC Analytic model section header");t.addText(e.OuQueryInformationDialogI18n.PLANNING_MODEL_SECTION_HEADER,"Model (Planning)");t.addComment(e.OuQueryInformationDialogI18n.PLANNING_MODEL_SECTION_HEADER,"#XTIT: SAC Planning model section header");t.addText(e.OuQueryInformationDialogI18n.FALLBACK_MODEL_SECTION_HEADER,"Model");t.addComment(e.OuQueryInformationDialogI18n.FALLBACK_MODEL_SECTION_HEADER,"#XTIT: Fallback model section header");t.addText(e.OuQueryInformationDialogI18n.INFO_PROVIDER_SECTION_HEADER,"Information Provider");t.addComment(e.OuQueryInformationDialogI18n.INFO_PROVIDER_SECTION_HEADER,"#XTIT: Info provider section header");t.addText(e.OuQueryInformationDialogI18n.PINNED_TO_STORY_LINK_HEADER,"Pinned to Story");t.addComment(e.OuQueryInformationDialogI18n.PINNED_TO_STORY_LINK_HEADER,"#XTIT: Pinned to story section header");t.addText(e.OuQueryInformationDialogI18n.LAST_UPDATED_SECTION_HEADER,"Last Data Update (UTC)");t.addComment(e.OuQueryInformationDialogI18n.LAST_UPDATED_SECTION_HEADER,"#XTIT: Last data update section header. Note - important to show to customer that it's UTC (customer incident).");t.addText(e.OuQueryInformationDialogI18n.LAST_UPDATED_SECTION_DATE_LABEL,"Date:");t.addComment(e.OuQueryInformationDialogI18n.LAST_UPDATED_SECTION_DATE_LABEL,"#XFLD: Last updated label");t.addText(e.OuQueryInformationDialogI18n.VARIABLES_TAB_HEADER,"Variables ({0})");t.addComment(e.OuQueryInformationDialogI18n.VARIABLES_TAB_HEADER,"#XTIT: Variables tab header, {0} is number of variables");t.addText(e.OuQueryInformationDialogI18n.VARIABLES_NODE_TEXT,"{0} ({1})");t.addComment(e.OuQueryInformationDialogI18n.VARIABLES_NODE_TEXT,"#XTIT: Variable node title, {0} is variable name, {0} is number of variable values");t.addText(e.OuQueryInformationDialogI18n.VARIABLE_VALUE_RANGE_TEMPLATE,"[ ] {0} - {1}");t.addComment(e.OuQueryInformationDialogI18n.VARIABLE_VALUE_RANGE_TEMPLATE,"#XSEL: Range template, {0} is low, {1} is high");t.addText(e.OuQueryInformationDialogI18n.VARIABLE_VALUE_GT_TEMPLATE,"> {0}");t.addComment(e.OuQueryInformationDialogI18n.VARIABLE_VALUE_GT_TEMPLATE,"#XSEL: Greater than template, {0} is value");t.addText(e.OuQueryInformationDialogI18n.VARIABLE_VALUE_GTE_TEMPLATE,">= {0}");t.addComment(e.OuQueryInformationDialogI18n.VARIABLE_VALUE_GTE_TEMPLATE,"#XSEL: Greater than or equal to template, {0} is value");t.addText(e.OuQueryInformationDialogI18n.VARIABLE_VALUE_LT_TEMPLATE,"< {0}");t.addComment(e.OuQueryInformationDialogI18n.VARIABLE_VALUE_LT_TEMPLATE,"#XSEL: Less than template, {0} is value");t.addText(e.OuQueryInformationDialogI18n.VARIABLE_VALUE_LTE_TEMPLATE,"<= {0}");t.addComment(e.OuQueryInformationDialogI18n.VARIABLE_VALUE_LTE_TEMPLATE,"#XSEL: Less than or equal to template, {0} is value");t.addText(e.OuQueryInformationDialogI18n.VARIABLE_VALUE_NE_TEMPLATE,"≠ {0}");t.addComment(e.OuQueryInformationDialogI18n.VARIABLE_VALUE_NE_TEMPLATE,"#XSEL: Not equal to template, {0} is value");t.addText(e.OuQueryInformationDialogI18n.VARIABLE_VALUE_NOT_IN_RANGE_TEMPLATE,"![ ] {0} - {1}");t.addComment(e.OuQueryInformationDialogI18n.VARIABLE_VALUE_NOT_IN_RANGE_TEMPLATE,"#XSEL: Not in range template, {0} is low, {1} is high");return t};e.OuShareDialogI18n=function(){};e.OuShareDialogI18n.prototype=new e.DfXLocalizationProvider;e.OuShareDialogI18n.prototype._ff_c="OuShareDialogI18n";e.OuShareDialogI18n.ACCESS="FF_SHARE_DIALOG_ACCESS";e.OuShareDialogI18n.ACCESS_ERROR="FF_SHARE_DIALOG_ACCESS_ERROR";e.OuShareDialogI18n.ACCESS_TOOLTIP="FF_SHARE_DIALOG_ACCESS_TOOLTIP";e.OuShareDialogI18n.ADD_COMMENT="FF_SHARE_DIALOG_ADD_COMMENT";e.OuShareDialogI18n.ALL_USERS="FF_SHARE_DIALOG_ALL_USERS";e.OuShareDialogI18n.CLEAR_SELECTION_BUTTON="FF_SHARE_DIALOG_CLEAR_SELECTION";e.OuShareDialogI18n.COPY="FF_SHARE_DIALOG_COPY";e.OuShareDialogI18n.CUSTOM_ACCESS_TITLE="FF_SHARE_DIALOG_CUSTOM_ACCESS_TITLE";e.OuShareDialogI18n.CUSTOM_ACCESS_TYPE="FF_SHARE_DIALOG_CUSTOM_ACCESS";e.OuShareDialogI18n.DELETE="FF_SHARE_DIALOG_DELETE";e.OuShareDialogI18n.DELETE_COMMENT="FF_SHARE_DIALOG_DELETE_COMMENT";e.OuShareDialogI18n.DIALOG_TITLE="FF_SHARE_DIALOG_TITLE";e.OuShareDialogI18n.DISPLAY="FF_SHARE_DIALOG_SORT_DISPLAY";e.OuShareDialogI18n.DISPLAY_NAME="FF_SHARE_DIALOG_DISPLAY_NAME";e.OuShareDialogI18n.EDIT_ACCESS_TYPE="FF_SHARE_DIALOG_EDIT_ACCESS";e.OuShareDialogI18n.EMAIL_CHECKBOX_LABEL="FF_SHARE_DIALOG_EMAIL_CHECKBOX";e.OuShareDialogI18n.FETCH_MEMBER_ERROR="FF_SHARE_DIALOG_FETCH_MEMBER_ERROR";e.OuShareDialogI18n.FILE_ERROR="FF_SHARE_DIALOG_FILE_ERROR";e.OuShareDialogI18n.FULL_ACCESS_TYPE="FF_SHARE_DIALOG_FULL_ACCESS";e.OuShareDialogI18n.ID="FF_SHARE_DIALOG_ID";e.OuShareDialogI18n.ID_AND_NAME="FF_SHARE_DIALOG_ID_NAME";e.OuShareDialogI18n.LINK_ERROR="FF_SHARE_DIALOG_LINK_ERROR";e.OuShareDialogI18n.LINK_SECTION_HEADER="FF_SHARE_LINK_SECTION_HEADER";e.OuShareDialogI18n.MEMBER_SELECTOR_TITLE="FF_SHARE_DIALOG_MEMBER_SELECTOR_TITLE";e.OuShareDialogI18n.MULTI_INPUT_HEADER="FF_SHARE_DIALOG_MULTI_INPUT_HEADER";e.OuShareDialogI18n.MULTI_INPUT_TOOLTIP="FF_SHARE_DIALOG_MULTI_INPUT_TOOLTIP";e.OuShareDialogI18n.NAME="FF_SHARE_DIALOG_NAME";e.OuShareDialogI18n.NEXT_PAGE="FF_SHARE_DIALOG_NEXT_PAGE";e.OuShareDialogI18n.NO_USER_ENTERED_ERROR="FF_SHARE_DIALOG_NO_USER_ENTERED_ERROR";e.OuShareDialogI18n.OF="FF_SHARE_DIALOG_OF";e.OuShareDialogI18n.OWNER="FF_SHARE_DIALOG_OWNER";e.OuShareDialogI18n.OWNER_ERROR="FF_SHARE_DIALOG_OWNER_ERROR";e.OuShareDialogI18n.PREVIOUS_PAGE="FF_SHARE_DIALOG_PREVIOUS_PAGE";e.OuShareDialogI18n.READ="FF_SHARE_DIALOG_READ";e.OuShareDialogI18n.SEARCH="FF_SHARE_DIALOG_SEARCH";e.OuShareDialogI18n.SELECTED_USERS="FF_SHARE_DIALOG_SELECTED_USERS";e.OuShareDialogI18n.SETTINGS="FF_SHARE_DIALOG_SETTINGS";e.OuShareDialogI18n.SHARE="FF_SHARE_DIALOG_SHARE";e.OuShareDialogI18n.SHARED_WITH_ALL_USERS="FF_SHARE_DIALOG_SHARED_WITH_ALL_USERS";e.OuShareDialogI18n.SHARED_WITH_TEAM="FF_SHARE_DIALOG_SHARED_WITH_TEAM";e.OuShareDialogI18n.SHARED_WITH_TEAMS="FF_SHARE_DIALOG_SHARED_WITH_TEAMS";e.OuShareDialogI18n.SHARED_WITH_TEAMS_AND_ALL_USERS="FF_SHARE_DIALOG_SHARED_WITH_TEAMS_AND_ALL_USERS";e.OuShareDialogI18n.SHARED_WITH_TEAMS_AND_USER="FF_SHARE_DIALOG_SHARED_WITH_TEAMS_AND_USER";e.OuShareDialogI18n.SHARED_WITH_TEAMS_AND_USERS="FF_SHARE_DIALOG_SHARED_WITH_TEAMS_AND_USERS";e.OuShareDialogI18n.SHARED_WITH_TEAM_AND_ALL_USERS="FF_SHARE_DIALOG_SHARED_WITH_TEAM_AND_ALL_USERS";e.OuShareDialogI18n.SHARED_WITH_TEAM_AND_USER="FF_SHARE_DIALOG_SHARED_WITH_TEAM_AND_USER";e.OuShareDialogI18n.SHARED_WITH_TEAM_AND_USERS="FF_SHARE_DIALOG_SHARED_WITH_TEAM_AND_USERS";e.OuShareDialogI18n.SHARED_WITH_USER="FF_SHARE_DIALOG_SHARED_WITH_USER";e.OuShareDialogI18n.SHARED_WITH_USERS="FF_SHARE_DIALOG_SHARED_WITH_USERS";e.OuShareDialogI18n.SHARE_ERROR="FF_SHARE_DIALOG_SHARE_ERROR";e.OuShareDialogI18n.SHARE_SUCCESS="FF_SHARE_DIALOG_SHARE_SUCCESS";e.OuShareDialogI18n.SORT_ASCENDING="FF_SHARE_DIALOG_SORT_ASCENDING";e.OuShareDialogI18n.SORT_DEFAULT="FF_SHARE_DIALOG_SORT_DEFAULT";e.OuShareDialogI18n.SORT_DESCENDING="FF_SHARE_DIALOG_SORT_DESCENDING";e.OuShareDialogI18n.UPDATE="FF_SHARE_DIALOG_UPDATE";e.OuShareDialogI18n.USERS="FF_SHARE_DIALOG_USERS";e.OuShareDialogI18n.VIEW_ACCESS_TYPE="FF_SHARE_DIALOG_VIEW_ACCESS";e.OuShareDialogI18n.VIEW_COMMENT="FF_SHARE_DIALOG_VIEW_COMMENT";e.OuShareDialogI18n.getCommonProvider=function(){return e.XLocalizationCenter.getCenter().getLocalizationProviderByName("CommonProvider")};e.OuShareDialogI18n.getProvider=function(){return e.XLocalizationCenter.getCenter().getLocalizationProviderByName("ShareDialog")};e.OuShareDialogI18n.staticSetup=function(){let t=new e.OuShareDialogI18n;t.setupProvider(e.OuShareDialog.DEFAULT_PROGRAM_NAME,true);t.addText(e.OuShareDialogI18n.DIALOG_TITLE,"Share Insight");t.addComment(e.OuShareDialogI18n.DIALOG_TITLE,"#XHED: The title of the share dialog");t.addText(e.OuShareDialogI18n.LINK_SECTION_HEADER,"Link:");t.addComment(e.OuShareDialogI18n.LINK_SECTION_HEADER,"#XHED: Link");t.addText(e.OuShareDialogI18n.MULTI_INPUT_HEADER,"Add Users or Teams:");t.addComment(e.OuShareDialogI18n.MULTI_INPUT_HEADER,"#XFLD: The label of the multi input box");t.addText(e.OuShareDialogI18n.MULTI_INPUT_TOOLTIP,"Add Users or Teams");t.addComment(e.OuShareDialogI18n.MULTI_INPUT_TOOLTIP,"#XTOL: The tooltip of the multi input box");t.addText(e.OuShareDialogI18n.ACCESS,"Access:");t.addComment(e.OuShareDialogI18n.ACCESS,"#XFLD: the label for the access dropdown");t.addText(e.OuShareDialogI18n.ACCESS_TOOLTIP,"Access");t.addComment(e.OuShareDialogI18n.ACCESS_TOOLTIP,"#XTOL: the tooltip for the access dropdown button");t.addText(e.OuShareDialogI18n.VIEW_ACCESS_TYPE,"View");t.addComment(e.OuShareDialogI18n.VIEW_ACCESS_TYPE,"#XMIT: Access type for dropdown");t.addText(e.OuShareDialogI18n.EDIT_ACCESS_TYPE,"Edit");t.addComment(e.OuShareDialogI18n.EDIT_ACCESS_TYPE,"#XMIT: Access type for dropdown");t.addText(e.OuShareDialogI18n.FULL_ACCESS_TYPE,"Full Control");t.addComment(e.OuShareDialogI18n.FULL_ACCESS_TYPE,"#XMIT: Access type for dropdown");t.addText(e.OuShareDialogI18n.CUSTOM_ACCESS_TYPE,"Custom...");t.addComment(e.OuShareDialogI18n.CUSTOM_ACCESS_TYPE,"#XMIT: Access type for dropdown");t.addText(e.OuShareDialogI18n.EMAIL_CHECKBOX_LABEL,"Email new recipients");t.addComment(e.OuShareDialogI18n.EMAIL_CHECKBOX_LABEL,"#XFLD: text for email checkbox");t.addText(e.OuShareDialogI18n.SHARE,"Share");t.addComment(e.OuShareDialogI18n.SHARE,"#XBUT: share button");t.addText(e.OuShareDialogI18n.NO_USER_ENTERED_ERROR,"Please enter or select an existing user.");t.addComment(e.OuShareDialogI18n.NO_USER_ENTERED_ERROR,"#XTXT: error message when no user is entered");t.addText(e.OuShareDialogI18n.SEARCH,"Search");t.addComment(e.OuShareDialogI18n.SEARCH,"#XFLD: Search input field");t.addText(e.OuShareDialogI18n.NAME,"Name:");t.addComment(e.OuShareDialogI18n.NAME,"#XCOL: Header for table column");t.addText(e.OuShareDialogI18n.SHARED_WITH_TEAM,"Shared with 1 Team");t.addComment(e.OuShareDialogI18n.SHARED_WITH_TEAM,"#XFLD: Label for table of shared users/teams");t.addText(e.OuShareDialogI18n.SHARED_WITH_TEAMS,"Shared with {0} Teams");t.addComment(e.OuShareDialogI18n.SHARED_WITH_TEAMS,"#XFLD: Label for table of shared users/teams");t.addText(e.OuShareDialogI18n.SHARED_WITH_USER,"Shared with 1 User");t.addComment(e.OuShareDialogI18n.SHARED_WITH_USER,"#XFLD: Label for table of shared users/teams");t.addText(e.OuShareDialogI18n.SHARED_WITH_USERS,"Shared with {0} Users");t.addComment(e.OuShareDialogI18n.SHARED_WITH_USERS,"#XFLD: Label for table of shared users/teams");t.addText(e.OuShareDialogI18n.SHARED_WITH_ALL_USERS,"Shared with All Users");t.addComment(e.OuShareDialogI18n.SHARED_WITH_ALL_USERS,"#XFLD: Label for table of shared users/teams");t.addText(e.OuShareDialogI18n.SHARED_WITH_TEAM_AND_USER,"Shared with 1 Team and 1 User");t.addComment(e.OuShareDialogI18n.SHARED_WITH_TEAM_AND_USER,"#XFLD: Label for table of shared users/teams");t.addText(e.OuShareDialogI18n.SHARED_WITH_TEAMS_AND_USER,"Shared with {0} Teams and 1 User");t.addComment(e.OuShareDialogI18n.SHARED_WITH_TEAMS_AND_USER,"#XFLD: Label for table of shared users/teams");t.addText(e.OuShareDialogI18n.SHARED_WITH_TEAM_AND_USERS,"Shared with 1 Team and {0} Users");t.addComment(e.OuShareDialogI18n.SHARED_WITH_TEAM_AND_USERS,"#XFLD: Label for table of shared users/teams");t.addText(e.OuShareDialogI18n.SHARED_WITH_TEAM_AND_ALL_USERS,"Shared with 1 Team and All Users");t.addComment(e.OuShareDialogI18n.SHARED_WITH_TEAM_AND_ALL_USERS,"#XFLD: Label for table of shared users/teams");t.addText(e.OuShareDialogI18n.SHARED_WITH_TEAMS_AND_USERS,"Shared with {0} Teams and {1} Users");t.addComment(e.OuShareDialogI18n.SHARED_WITH_TEAMS_AND_USERS,"#XFLD: Label for table of shared users/teams");t.addText(e.OuShareDialogI18n.SHARED_WITH_TEAMS_AND_ALL_USERS,"Shared with {0} Teams and All Users");t.addComment(e.OuShareDialogI18n.SHARED_WITH_TEAMS_AND_ALL_USERS,"#XFLD: Label for table of shared users/teams");t.addText(e.OuShareDialogI18n.OWNER,"Owner");t.addComment(e.OuShareDialogI18n.OWNER,"#XTXT: Owner access field");t.addText(e.OuShareDialogI18n.SHARE_SUCCESS,"Sharing settings for the selected item(s) have been updated");t.addComment(e.OuShareDialogI18n.SHARE_SUCCESS,"#XTOL: share success text");t.addText(e.OuShareDialogI18n.SHARE_ERROR,"Cannot share the content. Please check that it exists and that you have permission to share it.");t.addComment(e.OuShareDialogI18n.SHARE_ERROR,"#XMSG: Message shown backend error occurs and we are unable to share");t.addText(e.OuShareDialogI18n.ACCESS_ERROR,"Can't fetch sharing information. Please try again....");t.addComment(e.OuShareDialogI18n.ACCESS_ERROR,"#XMSG: Message shown when failed to fetch sharing information when opening the sharing dialog");t.addText(e.OuShareDialogI18n.SETTINGS,"Settings");t.addComment(e.OuShareDialogI18n.SETTINGS,"#XHED: settings table title");t.addText(e.OuShareDialogI18n.SELECTED_USERS,"Selected Users");t.addComment(e.OuShareDialogI18n.SELECTED_USERS,"#XHED: selected user list title");t.addText(e.OuShareDialogI18n.MEMBER_SELECTOR_TITLE,"Select Users and Teams");t.addComment(e.OuShareDialogI18n.MEMBER_SELECTOR_TITLE,"#XHED: member selector popup title");t.addText(e.OuShareDialogI18n.DISPLAY,"Display:");t.addComment(e.OuShareDialogI18n.DISPLAY,"#XTXT: display type text");t.addText(e.OuShareDialogI18n.ID_AND_NAME,"ID and Name");t.addComment(e.OuShareDialogI18n.ID_AND_NAME,"#XMIT: user display type");t.addText(e.OuShareDialogI18n.ID,"ID");t.addComment(e.OuShareDialogI18n.ID,"#XMIT: user display type");t.addText(e.OuShareDialogI18n.DISPLAY_NAME,"Name");t.addComment(e.OuShareDialogI18n.DISPLAY_NAME,"#XMIT: user display type");t.addText(e.OuShareDialogI18n.ALL_USERS,"All Users");t.addComment(e.OuShareDialogI18n.ALL_USERS,"#XTXT: all users text");t.addText(e.OuShareDialogI18n.USERS,"Users");t.addComment(e.OuShareDialogI18n.USERS,"#XTXT: users checkbox text");t.addText(e.OuShareDialogI18n.CLEAR_SELECTION_BUTTON,"Clear selection");t.addComment(e.OuShareDialogI18n.CLEAR_SELECTION_BUTTON,"#XBUT: clear all selected users button");t.addText(e.OuShareDialogI18n.PREVIOUS_PAGE,"Previous Page");t.addComment(e.OuShareDialogI18n.PREVIOUS_PAGE,"#XBUT: Previous Page Button text");t.addText(e.OuShareDialogI18n.NEXT_PAGE,"Next Page");t.addComment(e.OuShareDialogI18n.NEXT_PAGE,"#XBUT: Next Page Button text");t.addText(e.OuShareDialogI18n.OF,"of");t.addComment(e.OuShareDialogI18n.OF,"#XTXT: of");t.addText(e.OuShareDialogI18n.FETCH_MEMBER_ERROR,"There are no results for the searched member in the description section. It might be a fallback. Please try to search with ID.");t.addComment(e.OuShareDialogI18n.FETCH_MEMBER_ERROR,"#XTOL: error fetching users message");t.addText(e.OuShareDialogI18n.CUSTOM_ACCESS_TITLE,"Set Custom Access");t.addComment(e.OuShareDialogI18n.CUSTOM_ACCESS_TITLE,"#XHED: Custom Access Popup Title");t.addText(e.OuShareDialogI18n.READ,"Read");t.addComment(e.OuShareDialogI18n.READ,"#XFLD: read access option");t.addText(e.OuShareDialogI18n.COPY,"Copy");t.addComment(e.OuShareDialogI18n.COPY,"#XFLD: copy access option");t.addText(e.OuShareDialogI18n.VIEW_COMMENT,"View Comment");t.addComment(e.OuShareDialogI18n.VIEW_COMMENT,"#XFLD: view comment access option");t.addText(e.OuShareDialogI18n.ADD_COMMENT,"Add Comment");t.addComment(e.OuShareDialogI18n.ADD_COMMENT,"#XFLD: add comment access option");t.addText(e.OuShareDialogI18n.UPDATE,"Update");t.addComment(e.OuShareDialogI18n.UPDATE,"#XFLD: update access option");t.addText(e.OuShareDialogI18n.DELETE,"Delete");t.addComment(e.OuShareDialogI18n.DELETE,"#XFLD: delete access option");t.addText(e.OuShareDialogI18n.DELETE_COMMENT,"Delete Comment");t.addComment(e.OuShareDialogI18n.DELETE_COMMENT,"#XFLD: delete comment access option");t.addText(e.OuShareDialogI18n.SORT_ASCENDING,"Sort Ascending");t.addComment(e.OuShareDialogI18n.SORT_ASCENDING,"#XFLD: sort ascending option");t.addText(e.OuShareDialogI18n.SORT_DESCENDING,"Sort Descending");t.addComment(e.OuShareDialogI18n.SORT_DESCENDING,"#XFLD: sort descending option");t.addText(e.OuShareDialogI18n.SORT_DEFAULT,"Default");t.addComment(e.OuShareDialogI18n.SORT_DEFAULT,"#XFLD: sort default option");t.addText(e.OuShareDialogI18n.LINK_ERROR,"An error occurred when fetching the resource link");t.addComment(e.OuShareDialogI18n.LINK_ERROR,"#XMSG: Message shown when failed to create link");t.addText(e.OuShareDialogI18n.FILE_ERROR,"An error occurred when fetching the file");t.addComment(e.OuShareDialogI18n.FILE_ERROR,"#XMSG: Message shown when failed to fetch file");t.addText(e.OuShareDialogI18n.OWNER_ERROR,"An error occurred when fetching the owner of the resource");t.addComment(e.OuShareDialogI18n.OWNER_ERROR,"#XMSG: Message shown when failed to fetch owner");return t};e.OuTopNDialogI18n=function(){};e.OuTopNDialogI18n.prototype=new e.DfXLocalizationProvider;e.OuTopNDialogI18n.prototype._ff_c="OuTopNDialogI18n";e.OuTopNDialogI18n.BASED_ON_SECTION_TITLE="FF_TOPN__BASED_ON_SECTION__TITLE";e.OuTopNDialogI18n.INFORMATON_MESSAGE="FF_TOPN__INFORMATION_MESSAGE";e.OuTopNDialogI18n.MEASURES_INPUTFIELD_TITLE="FF_TOPN__MEASURSES_INPUTFIELD__TITLE";e.OuTopNDialogI18n.MEASURE_VALUE_VALIDATION_MESSAGE="FF_TOPN__MEASURE_VALUE__VALIDATION_MESSAGE";e.OuTopNDialogI18n.MEMBER_SELECTOR_DIALOG_TITLE="FF_TOPN_MEMBER_SELECTOR_DIALOG_TITLE";e.OuTopNDialogI18n.N_VALUE_TITLE="FF_TOPN__N_VALUE__TITLE";e.OuTopNDialogI18n.N_VALUE_VALIDATION_MESSAGE="FF_TOPN__N_VALUE__VALIDATION_MESSAGE";e.OuTopNDialogI18n.SELECT_MEASURE_DIALOG_TITLE="FF_TOPN__SELECT_MEASURE_DIALOG__TITLE";e.OuTopNDialogI18n.SETTINGS_SECTION_TITLE="FF_TOPN__SETTINGS_SECTION__TITLE";e.OuTopNDialogI18n.TITLE="FF_TOPN__TITLE";e.OuTopNDialogI18n.TOPBOTTOM_DROPDOWN_BOTTOM_ELEMENT="FF_TOPN__TOPBOTTOM_DROPDOWN__BOTTOM_ELEMENT";e.OuTopNDialogI18n.TOPBOTTOM_DROPDOWN_TITLE="FF_TOPN__TOPBOTTOM_DROPDOWN__TITLE";e.OuTopNDialogI18n.TOPBOTTOM_DROPDOWN_TOP_ELEMENT="FF_TOPN__TOPBOTTOM_DROPDOWN__TOP_ELEMENT";e.OuTopNDialogI18n.staticSetup=function(){let t=new e.OuTopNDialogI18n;t.setupProvider(e.OuTopNDialog.DEFAULT_PROGRAM_NAME,true);t.addText(e.OuTopNDialogI18n.TITLE,"Top N");t.addComment(e.OuTopNDialogI18n.TITLE,"#XTIT: The title of the dialog");t.addText(e.OuTopNDialogI18n.INFORMATON_MESSAGE,"Creating a new Top N will overwrite the existing Top N");t.addComment(e.OuTopNDialogI18n.INFORMATON_MESSAGE,"#XMSG: Warning message to user, displayed when a Top N condition already exists");t.addText(e.OuTopNDialogI18n.SETTINGS_SECTION_TITLE,"Settings");t.addComment(e.OuTopNDialogI18n.SETTINGS_SECTION_TITLE,"#XTIT: Settings section title");t.addText(e.OuTopNDialogI18n.TOPBOTTOM_DROPDOWN_TOP_ELEMENT,"Top");t.addComment(e.OuTopNDialogI18n.TOPBOTTOM_DROPDOWN_TOP_ELEMENT,"#XLST: Drop down list item");t.addText(e.OuTopNDialogI18n.TOPBOTTOM_DROPDOWN_BOTTOM_ELEMENT,"Bottom");t.addComment(e.OuTopNDialogI18n.TOPBOTTOM_DROPDOWN_BOTTOM_ELEMENT,"#XLST: Drop down list item");t.addText(e.OuTopNDialogI18n.TOPBOTTOM_DROPDOWN_TITLE,"Type");t.addComment(e.OuTopNDialogI18n.TOPBOTTOM_DROPDOWN_TITLE,"#XFLD: For drop down list");t.addText(e.OuTopNDialogI18n.N_VALUE_TITLE,"Value");t.addComment(e.OuTopNDialogI18n.N_VALUE_TITLE,"#XFLD: For input field");t.addText(e.OuTopNDialogI18n.N_VALUE_VALIDATION_MESSAGE,"Should be an integer between 1 and 10000");t.addComment(e.OuTopNDialogI18n.N_VALUE_VALIDATION_MESSAGE,"#XMSG: Validation error message for input field");t.addText(e.OuTopNDialogI18n.BASED_ON_SECTION_TITLE,"Based on");t.addComment(e.OuTopNDialogI18n.BASED_ON_SECTION_TITLE,"#XTIT: section title");t.addText(e.OuTopNDialogI18n.SELECT_MEASURE_DIALOG_TITLE,"Select Measure");t.addComment(e.OuTopNDialogI18n.SELECT_MEASURE_DIALOG_TITLE,"#XTIT: Title of dialog to select measure");t.addText(e.OuTopNDialogI18n.MEASURES_INPUTFIELD_TITLE,"Select Measure");t.addComment(e.OuTopNDialogI18n.MEASURES_INPUTFIELD_TITLE,"#XFLD: Input field to select measure");t.addText(e.OuTopNDialogI18n.MEASURE_VALUE_VALIDATION_MESSAGE,"Select a measure to create a Top N.");t.addComment(e.OuTopNDialogI18n.MEASURE_VALUE_VALIDATION_MESSAGE,"#XMSG: Validation error message for measureInput");t.addText(e.OuTopNDialogI18n.MEMBER_SELECTOR_DIALOG_TITLE,"Select Measure");t.addComment(e.OuTopNDialogI18n.MEMBER_SELECTOR_DIALOG_TITLE,"#XTIT: Title for member selector dialog");return t};e.VdDateValueController=function(){};e.VdDateValueController.prototype=new e.VdAbstractValueController;e.VdDateValueController.prototype._ff_c="VdDateValueController";e.VdDateValueController.create=function(t,i,o,n,a){let r=new e.VdDateValueController;r.setupControllerExt(t,i,o,n,a);return r};e.VdDateValueController.prototype.addValueSpecificInvisibleTexts=function(){let t=this.m_parent.getView().getInvisibleVariableTitleText();let i=this.m_view.getDatePicker2()!==e.UiContextDummy.getSingleton();this.m_view.getDropdown().addLabelledBy(this.m_parent.getMaster().getView().getInvisibleDropdownText());this.m_view.getDatePicker1().addLabelledBy(t);if(i){this.m_view.getDatePicker2().addLabelledBy(t);this.m_view.getDatePicker1().addLabelledBy(this.m_parent.getMaster().getView().getInvisibleFromText());this.m_view.getDatePicker2().addLabelledBy(this.m_parent.getMaster().getView().getInvisibleToText())}};e.VdDateValueController.prototype.createView=function(t){let i=this.getVarType();let o=this.m_context.getUiManager();if(i.isTypeOf(e.VariableType.SIMPLE_TYPE_VARIABLE)){return e.VdDateSingleView.create(o)}if(i.isTypeOf(e.VariableType.DIMENSION_MEMBER_VARIABLE)){if(this.m_variableModel.isInterval()){return e.VdDateMultiView.create(o,t)}else{return e.VdDateSingleView.create(o)}}throw e.XException.createIllegalArgumentException("Unable to create view for variable type")};e.VdDateValueController.prototype.getControl1=function(){return this.m_control1};e.VdDateValueController.prototype.getControl2=function(){return this.m_control2};e.VdDateValueController.prototype.isTheOtherDateValid=function(t){let i=(t===this.getControl1()?this.getControl2():this.getControl1()).getValue();return!e.XStringUtils.isNullOrEmpty(i)&&e.XDate.createDateSafe(i)!==null};e.VdDateValueController.prototype.onChange=function(e){this.processVariable(e.getControl())};e.VdDateValueController.prototype.onInvalidValueState=function(){let t=this.m_control1.getValueState();let i=this.m_control2.getValueState();if(e.notNull(t)&&t.isEqualTo(e.UiValueState.ERROR)){this.m_control1.focus()}else if(e.notNull(i)&&i.isEqualTo(e.UiValueState.ERROR)){this.m_control2.focus()}};e.VdDateValueController.prototype.onLiveChange=function(t){let i=t.getControl();let o=i===this.m_control1?0:i===this.m_control2?1:-1;if(o>=0){this.m_value.resetValueState(o)}this.setState(t.getControl(),e.VdControllerState.DIRTY);if(this.m_config.isMultiInputComponentEnabled()&&this.m_parent.isEmbedded()&&this.m_variableModel.isMandatory()&&t.getParameters().getStringByKey(e.UiEventParams.PARAM_VALUE)===null){i.setValue("");this.processVariable(i);if(this.m_variableModel.getValues().isEmpty()||this.m_variableModel.getValues().size()===1&&!this.m_variableModel.getValues().get(0).isFilled()){this.m_variableModel.validateValues()}}};e.VdDateValueController.prototype.onValueStateChanged=function(){this.m_control1.setValueState(this.m_value.getFirstValueState());this.m_control1.setValueStateText(this.m_value.getFirstValueStateText());this.m_control2.setValueState(this.m_value.getSecondValueState());this.m_control2.setValueStateText(this.m_value.getSecondValueStateText())};e.VdDateValueController.prototype.processVariable=function(t){this.processVariableInternal(t);if(e.notNull(this.m_value)&&this.m_value.getOperator().getNumberOfParameters()>1){this.processVariableInternal(t===this.m_control1?this.m_control2:this.m_control1)}};e.VdDateValueController.prototype.processVariableInternal=function(t){let i=t===this.m_control1?0:t===this.m_control2?1:-1;if(i<0){return}let o=t.getValue();if(e.XStringUtils.isNullOrEmpty(o)){o=null}else if(e.XString.isEqual(o,e.VdConstants.BW_NULL_OPERATOR)){o=e.VdConstants.BW_NULL_DATE}let n=e.FilterDialogValueFactory.createValueWithType(o,null,null,e.XValueType.DATE);this.m_value.setOperand(i,n);if(!e.XStringUtils.isNullOrEmpty(o)&&e.XDate.createDateSafe(o)===null){if(this.m_config.isMultiInputComponentEnabled()&&this.m_parent.isEmbedded()&&this.m_variableModel.isMandatory()){this.m_value.setOperand(i,e.FilterDialogValueFactory.createValueWithType(null,null,null,e.XValueType.DATE))}this.m_value.setError(i,e.OuVariableDialogI18nLegacy.getProvider().getText(e.OuVariableDialogI18nLegacy.I18N_VD_ERROR_MSG_DATE_VALIDATION))}else if(this.isTheOtherDateValid(t)){this.validateRange(i)}this.setState(t,e.VdControllerState.PROCESSED)};e.VdDateValueController.prototype.releaseObject=function(){if(e.notNull(this.m_control1)){this.m_control1.registerOnChange(null);this.m_control1.registerOnLiveChange(null)}if(e.notNull(this.m_control2)){this.m_control2.registerOnChange(null);this.m_control2.registerOnLiveChange(null)}e.VdAbstractValueController.prototype.releaseObject.call(this)};e.VdDateValueController.prototype.setState=function(e,t){e.setCustomObject(t);this.notifyStateChange()};e.VdDateValueController.prototype.setupControllerExt=function(t,i,o,n,a){this.setupController(t,i,o,n,a);this.m_view.setDateValueFormat(e.VdConstants.DATE_VALUE_FORMAT);this.m_view.setDateDisplayFormat(i.getDateDisplayFormat());this.m_control1=this.m_view.getDatePicker1();this.m_control1.setCustomObject(e.VdControllerState.PRISTINE);this.m_control1.registerOnChange(this);this.m_control1.registerOnLiveChange(this);this.m_control2=this.m_view.getDatePicker2();this.m_control2.setCustomObject(e.VdControllerState.PRISTINE);this.m_control2.registerOnChange(this);this.m_control2.registerOnLiveChange(this)};e.VdDateValueController.prototype.validateRange=function(t){if(this.m_value.isOperandSwitchRequired()){this.m_value.setError(t,e.XLocalizationCenter.getCenter().getText(e.FilterDialogI18n.I18N_FD_DATE_RANGE_ERROR_MIN_GREATER_MAX))}else{this.m_value.resetValueState(t)}};e.VdInputValueController=function(){};e.VdInputValueController.prototype=new e.VdAbstractValueController;e.VdInputValueController.prototype._ff_c="VdInputValueController";e.VdInputValueController.create=function(t,i,o,n,a){let r=new e.VdInputValueController;r.setupControllerExt(t,i,o,n,a);return r};e.VdInputValueController.prototype.addValueSpecificInvisibleTexts=function(){let t=this.m_parent.getView().getInvisibleVariableTitleText();let i=this.m_view.getInput2()!==e.UiContextDummy.getSingleton();this.m_view.getDropdown().addLabelledBy(this.m_parent.getMaster().getView().getInvisibleDropdownText());this.m_view.getInput1().addLabelledBy(t);if(i){this.m_view.getInput2().addLabelledBy(t);this.m_view.getInput1().addLabelledBy(this.m_parent.getMaster().getView().getInvisibleFromText());this.m_view.getInput2().addLabelledBy(this.m_parent.getMaster().getView().getInvisibleToText())}};e.VdInputValueController.prototype.createView=function(t){let i=this.getVarType();let o=this.m_context.getUiManager();if(i.isTypeOf(e.VariableType.OPTION_LIST_VARIABLE)){return e.VdDropdownSingleView.create(o)}if(i.isTypeOf(e.VariableType.SIMPLE_TYPE_VARIABLE)){return e.VdInputSingleView.create(o)}if(i.isTypeOf(e.VariableType.DIMENSION_MEMBER_VARIABLE)){if(this.m_variableModel.isInterval()){return e.VdInputMultiView.create(o,t)}else{return e.VdInputSingleView.create(o)}}throw e.XException.createIllegalArgumentException("Unable to create view for variable type")};e.VdInputValueController.prototype.getInputField=function(e){if(e===0){return this.m_control1}return this.m_control2};e.VdInputValueController.prototype.onClearIconPress=function(t){let i=t===this.m_control1?0:t===this.m_control2?1:-1;if(i===0){if(this.m_variableModel.isInterval()){this.m_value.removeFirstOperand()}else{this.m_variableModel.removeValue(this.m_value)}}else if(i===1){this.m_value.removeSecondOperand();if(this.m_value.getFirstValueState()===e.UiValueState.ERROR&&e.XStringUtils.isNullOrEmpty(this.m_view.getInput1().getValue())){this.m_value.resetValueState(0)}}};e.VdInputValueController.prototype.onEditingBegin=function(t){this.m_focusedControl=t.getControl();if(this.m_config.isForceValueIdModification()){let i=this.getControlState(t.getControl())===e.VdControllerState.DIRTY;let o=this.m_value.getValueState(0)===e.UiValueState.ERROR;if(!i&&!o&&this.m_value.isOperandFilled(0)){let t=this.m_value.getFirstOperand().getDisplayKey();if(!e.XString.isEqual(this.m_focusedControl.getValue(),t)){this.m_value.setInfo(0,"Only ID can be modified while editing");this.m_focusedControl.setValue(t)}}}};e.VdInputValueController.prototype.onEditingEnd=function(t){let i=t.getControl();if(i.isEditable()&&this.getControlState(i)!==e.VdControllerState.PROCESSED){if(!this.m_config.isMultiInputComponentEnabled()||this.getControlState(i)===e.VdControllerState.DIRTY){this.processVariableInternal(i,false)}}else if(this.m_config.isForceValueIdModification()){let i=this.getControlState(t.getControl())===e.VdControllerState.PROCESSED;let o=this.m_value.getValueState(0)===e.UiValueState.ERROR;let n=this.getControlState(t.getControl())===e.VdControllerState.DIRTY;if(i&&!n&&!o&&this.m_value.isOperandFilled(0)){let t=this.m_value.getFirstOperand().getText();if(!e.XString.isEqual(this.m_focusedControl.getValue(),t)){this.m_focusedControl.setValue(t);this.m_value.resetValueState(0)}}}this.m_focusedControl=null};e.VdInputValueController.prototype.onEnter=function(t){this.processVariableInternal(t.getControl(),true);if(this.m_config.isForceValueIdModification()){let i=this.getControlState(t.getControl())===e.VdControllerState.DIRTY;let o=this.m_value.getValueState(0)===e.UiValueState.ERROR;if(!i&&!o&&this.m_value.isOperandFilled(0)){let t=this.m_value.getFirstOperand().getDisplayKey();if(!e.XString.isEqual(this.m_focusedControl.getValue(),t)){this.m_focusedControl.setValue(t)}}}};e.VdInputValueController.prototype.onInvalidValueState=function(){let t=this.m_control1.getValueState();let i=this.m_control2.getValueState();if(e.notNull(t)&&t.isEqualTo(e.UiValueState.ERROR)){this.m_control1.focus()}else if(e.notNull(i)&&i.isEqualTo(e.UiValueState.ERROR)){this.m_control2.focus()}};e.VdInputValueController.prototype.onLiveChange=function(t){let i=t.getControl();this.setState(i,e.VdControllerState.DIRTY);let o=i.getValue();let n=i===this.m_control1?0:i===this.m_control2?1:-1;if(n>=0){this.m_value.resetValueState(n);if(n===1&&this.m_value.getFirstValueState()===e.UiValueState.ERROR&&e.XStringUtils.isNullOrEmpty(this.m_view.getInput1().getValue())){this.m_value.resetValueState(0)}}if(this.getVarType().isTypeOf(e.VariableType.SIMPLE_TYPE_VARIABLE)){this.m_variableModel.validateSimpleTypeInput(this.m_value,o,n)}else if(this.m_config.isMultiInputComponentEnabled()&&this.m_parent.isEmbedded()&&this.m_variableModel.isMandatory()&&e.XStringUtils.isNullOrEmpty(i.getValue())){this.processVariable(i);if(this.m_variableModel.getValues().isEmpty()||this.m_variableModel.getValues().size()===1&&!this.m_variableModel.getValues().get(0).isFilled()){this.m_variableModel.validateValues()}}let a=t.getParameters().getStringByKey("value");if(e.XStringUtils.isNullOrEmpty(a)&&!i.isEditable()){this.onClearIconPress(i)}};e.VdInputValueController.prototype.onSearchDone=function(t){let i=this.getInputField(t);this.setState(i,e.VdControllerState.PROCESSED);if(!i.isReleased()){i.setBusy(false)}};e.VdInputValueController.prototype.onValueStateChanged=function(){this.m_control1.setValueState(this.m_value.getFirstValueState());this.m_control1.setValueStateText(this.m_value.getFirstValueStateText());this.m_control2.setValueState(this.m_value.getSecondValueState());this.m_control2.setValueStateText(this.m_value.getSecondValueStateText())};e.VdInputValueController.prototype.processVariable=function(e){this.processVariableInternal(e,false)};e.VdInputValueController.prototype.processVariableInternal=function(t,i){if(this.getControlState(t)===e.VdControllerState.PENDING||!t.isEditable()){return}let o=this.getControlState(t)===e.VdControllerState.DIRTY;this.setState(t,e.VdControllerState.PENDING);let n=t===this.m_control1?0:t===this.m_control2?1:-1;if(n>=0){let a=this.getVarType();if(a.isTypeOf(e.VariableType.SIMPLE_TYPE_VARIABLE)){this.setSimpleTypeOperand(n,t,i);this.setState(t,e.VdControllerState.PROCESSED)}else if(a.isTypeOf(e.VariableType.DIMENSION_MEMBER_VARIABLE)){let i=t.getValue();let a=this.m_value.getValueState(n)===e.UiValueState.ERROR;if(!o&&!a&&this.m_value.isOperandFilled(n)){let t=this.getDisplayValue(e.DialogLabelMode.KEY,this.m_value,n);if(!e.XStringUtils.isNullOrEmpty(t)){i=t}}if(e.XStringUtils.isNullOrEmpty(i)){this.m_value.removeOperand(n);this.setState(t,e.VdControllerState.PROCESSED)}else if(this.validationShouldBeSkipped()){this.m_parent.setEnableAutoFocus(true);this.m_value.setOperand(n,e.FilterDialogValueFactory.createValue(null,i,null));this.m_parent.setEnableAutoFocus(false);this.setState(t,e.VdControllerState.PROCESSED)}else{this.getInputField(n).setBusy(true);this.performValueSearch(n,i)}}}};e.VdInputValueController.prototype.setSimpleTypeOperand=function(t,i,o){if(o){this.m_parent.setEnableAutoFocus(true)}let n=e.XStringUtils.isNotNullAndNotEmpty(i.getValue())?i.getValue():null;if(e.notNull(n)&&this.m_variableModel.getVariable().getValueType().isTypeOf(e.XValueType.NUMBER)){let i=e.UiNumberFormatterCenter.getCenter();let o=i.parseFormattedNumber(n);let a=i.format(o);if(e.XStringUtils.isNotNullAndNotEmpty(a)){this.m_value.setOperand(t,e.FilterDialogValueFactory.createValue(o,a,null));this.m_variableModel.validateSimpleType(this.m_value,t)}else{this.m_variableModel.validateSimpleTypeInput(this.m_value,n,t)}}else{this.m_value.setOperand(t,e.FilterDialogValueFactory.createValue(n,null,null));this.m_variableModel.validateSimpleType(this.m_value,t)}this.m_parent.setEnableAutoFocus(false)};e.VdInputValueController.prototype.setupControllerExt=function(t,i,o,n,a){this.setupController(t,i,o,n,a);this.m_control1=this.m_view.getInput1();this.m_control1.setCustomObject(e.VdControllerState.PRISTINE);this.m_control1.registerOnEnter(this);this.m_control1.registerOnEditingBegin(this);this.m_control1.registerOnEditingEnd(this);this.m_control1.registerOnLiveChange(this);this.m_control2=this.m_view.getInput2();this.m_control2.setCustomObject(e.VdControllerState.PRISTINE);this.m_control2.registerOnEnter(this);this.m_control2.registerOnEditingBegin(this);this.m_control2.registerOnEditingEnd(this);this.m_control2.registerOnLiveChange(this)};e.VdInputValueController.prototype.validationShouldBeSkipped=function(){if(!this.m_variableModel.supportsValueHelp()){return true}if(!this.m_config.isLinkedVariable(this.m_variableModel.getName())&&!this.m_variableModel.hasCheckTable()){return true}return false};e.VdMultiInputValueController=function(){};e.VdMultiInputValueController.prototype=new e.VdAbstractValueController;e.VdMultiInputValueController.prototype._ff_c="VdMultiInputValueController";e.VdMultiInputValueController.create=function(t,i,o,n){let a=new e.VdMultiInputValueController;a.setupControllerExt(t,i,o,n);return a};e.VdMultiInputValueController.prototype.m_values=null;e.VdMultiInputValueController.prototype.addValue=function(e){let t=this.m_values.contains(e);if(e.isEmpty()){this.clearValues()}else if(!t){this.m_values.add(e)}else{this.updateChipText(e)}if(e.isEmpty()||!t){e.addValueStateListener(this)}this.m_value=e;this.m_renderer.setValue(e)};e.VdMultiInputValueController.prototype.addValueSpecificInvisibleTexts=function(){this.m_view.getDropdown().addLabelledBy(this.m_parent.getMaster().getView().getInvisibleDropdownText());this.m_view.getInput1().addLabelledBy(this.m_parent.getView().getInvisibleVariableTitleText())};e.VdMultiInputValueController.prototype.clearValues=function(){this.m_values=e.XList.create();let t=this.m_view.getInput1();t.setValue("");t.clearChips()};e.VdMultiInputValueController.prototype.createView=function(t){return e.VdMultiInputSingleView.create(this.m_context.getUiManager(),t)};e.VdMultiInputValueController.prototype.getValues=function(){return this.m_values};e.VdMultiInputValueController.prototype.isMultiInput=function(){return true};e.VdMultiInputValueController.prototype.isValueInList=function(t){let i=t.getKey();for(let t=0;t<this.m_values.size();t++){let o=this.m_values.get(t);let n=o.getFirstOperand().getKey();if(e.XString.isEqual(i,n)){return true}}return false};e.VdMultiInputValueController.prototype.onEditingBegin=function(e){this.m_focusedControl=e.getControl()};e.VdMultiInputValueController.prototype.onEditingEnd=function(t){let i=t.getControl();if(i.isEditable()&&this.getControlState(i)!==e.VdControllerState.PROCESSED){this.processVariableInternal(i)}this.m_focusedControl=null};e.VdMultiInputValueController.prototype.onEnter=function(e){this.processVariableInternal(e.getControl())};e.VdMultiInputValueController.prototype.onInvalidValueState=function(){let t=this.m_control1.getValueState();if(e.notNull(t)&&t.isEqualTo(e.UiValueState.ERROR)){this.m_control1.focus()}};e.VdMultiInputValueController.prototype.onLiveChange=function(t){let i=t.getControl();this.setState(i,e.VdControllerState.DIRTY);if(i===this.m_control1){this.m_value.resetValueState(0)}if(this.m_parent.isEmbedded()&&this.m_variableModel.isMandatory()&&this.m_values.isEmpty()&&e.XStringUtils.isNullOrEmpty(i.getValue())){this.m_variableModel.validateValues()}};e.VdMultiInputValueController.prototype.onSearchDone=function(t){let i=this.m_control1;this.setState(i,e.VdControllerState.PROCESSED);if(!i.isReleased()){i.setBusy(false)}};e.VdMultiInputValueController.prototype.onValueStateChanged=function(){this.m_control1.setValueState(this.m_value.getFirstValueState());this.m_control1.setValueStateText(this.m_value.getFirstValueStateText())};e.VdMultiInputValueController.prototype.onValuehelpExecuted=function(t,i,o){let n=o;let a=0;let r=n.getStringByKey(this.SEARCH_VALUE);let l=e.OuVariableDialogI18nLegacy.getProvider();if(t.hasErrors()){this.m_value.setError(a,l.getText(e.OuVariableDialogI18nLegacy.I18N_VD_ERR_VH_SERVER_ERROR))}else{let i=t.getData();if(e.XCollectionUtils.hasElements(i)){let t=this.getBestFittingValueHelpResult(i,r);if(!this.isValueInList(t)){let i=e.VdValue.createValue(this.m_value.getOperator(),t,null);if(this.shouldAddEmptyLine()){this.m_variableModel.setInputValue(null)}this.m_variableModel.addValue(i);this.m_parent.setEnableAutoFocus(false)}}else{this.m_value.setError(a,l.getText(e.OuVariableDialogI18nLegacy.I18N_VD_MEMBER_DOES_NOT_EXIST))}}this.onSearchDone(a)};e.VdMultiInputValueController.prototype.processVariable=function(e){this.processVariableInternal(e)};e.VdMultiInputValueController.prototype.processVariableInternal=function(t){if(this.getControlState(t)===e.VdControllerState.PENDING||!t.isEditable()){return}this.setState(t,e.VdControllerState.PENDING);let i=t.getValue();let o=t===this.m_control1?0:-1;if(o===0){if(e.XStringUtils.isNullOrEmpty(i)){this.setState(t,e.VdControllerState.PROCESSED)}else if(!this.m_variableModel.supportsValueHelp()||!this.m_config.isLinkedVariable(this.m_variableModel.getName())&&!this.m_variableModel.hasCheckTable()){this.m_parent.setEnableAutoFocus(true);let o=e.VdValue.createValue(this.m_value.getOperator(),e.FilterDialogValueFactory.createValue(null,i,null),null);if(this.m_variableModel.isNewValue(o)){if(this.shouldAddEmptyLine()){this.m_variableModel.setInputValue(null)}this.m_variableModel.addValue(o)}this.m_parent.setEnableAutoFocus(false);this.setState(t,e.VdControllerState.PROCESSED)}else{this.m_control1.setBusy(true);this.performValueSearch(o,i)}}};e.VdMultiInputValueController.prototype.releaseObject=function(){e.VdAbstractValueController.prototype.releaseObject.call(this);for(let e=0;e<this.m_values.size();e++){let t=this.m_values.get(e);t.removeValueStateListener(this)}this.m_values=null};e.VdMultiInputValueController.prototype.removeValue=function(t){if(e.isNull(t)){return}t.removeValueStateListener(this);this.m_values.removeElement(t);let i=this.m_view.getInput1();let o=this.m_renderer.generateChipName(t);let n=i.getChipByName(o);i.removeChip(n);if(this.m_values.isEmpty()){this.m_value=this.m_variableModel.createNewValue();if(this.m_variableModel.isInterval()){this.m_value.setOperator(t.getOperator())}this.m_renderer.setValue(this.m_value)}else{this.m_value=this.m_values.get(this.m_values.size()-1);this.m_renderer.setValue(this.m_value)}};e.VdMultiInputValueController.prototype.setupControllerExt=function(t,i,o,n){this.m_values=e.XList.create();this.setupController(t,i,o,n,null);this.m_control1=this.m_view.getInput1();this.m_control1.setCustomObject(e.VdControllerState.PRISTINE);this.m_control1.registerOnEnter(this);this.m_control1.registerOnEditingBegin(this);this.m_control1.registerOnEditingEnd(this);this.m_control1.registerOnLiveChange(this);this.m_control1.registerOnChipUpdate(e.UiLambdaChipUpdateListener.create(t=>{let i=t.getRemovedControls();e.XCollectionUtils.forEach(i,t=>{let i=t.getName();e.XStream.of(this.m_values).find(t=>e.XString.isEqual(i,this.m_renderer.generateChipName(t))).ifPresent(this.m_variableModel.removeValue.bind(this.m_variableModel))});if(this.m_parent.isEmbedded()&&this.m_variableModel.isMandatory()&&this.m_values.isEmpty()){this.m_variableModel.validateValues()}}));this.m_control2=e.UiContextDummy.getSingleton()};e.VdMultiInputValueController.prototype.shouldAddEmptyLine=function(){return this.m_values.isEmpty()&&this.m_variableModel.getInputValue()===this.m_value};e.VdMultiInputValueController.prototype.updateChipText=function(t){let i=this.m_view.getInput1();let o=this.m_renderer.getDisplayValue(this.m_config.getLabelMode(),t,e.VdValue.FIRST);let n=this.m_renderer.generateChipName(t);let a=i.getChipByName(n);a.setText(o);a.setTooltip(o)};e.VdOptionValueController=function(){};e.VdOptionValueController.prototype=new e.VdAbstractValueController;e.VdOptionValueController.prototype._ff_c="VdOptionValueController";e.VdOptionValueController.create=function(t,i,o,n,a){let r=new e.VdOptionValueController;r.setupControllerExt(t,i,o,n,a);return r};e.VdOptionValueController.prototype.addValueSpecificInvisibleTexts=function(){};e.VdOptionValueController.prototype.createView=function(t){return e.VdDropdownSingleView.create(this.m_context.getUiManager())};e.VdOptionValueController.prototype.onSelect=function(e){this.processVariableInternal()};e.VdOptionValueController.prototype.processVariable=function(e){this.processVariableInternal()};e.VdOptionValueController.prototype.processVariableInternal=function(){let t=this.m_control1.getSelectedItem();let i=t.getName();let o=this.m_variableModel.getValueType().isBoolean()?null:t.getText();let n=e.FilterDialogValueFactory.createValue(i,null,o);this.m_value.setOperand(e.VdValue.FIRST,n)};e.VdOptionValueController.prototype.setupControllerExt=function(t,i,o,n,a){this.setupController(t,i,o,n,a);this.m_control1=this.m_view.getDropdown();this.m_control1.registerOnSelect(this);this.m_control2=e.UiContextDummy.getSingleton()};e.OuVariableDialogI18nLegacy=function(){};e.OuVariableDialogI18nLegacy.prototype=new e.DfXLocalizationProvider;e.OuVariableDialogI18nLegacy.prototype._ff_c="OuVariableDialogI18nLegacy";e.OuVariableDialogI18nLegacy.I18N_CANCEL="BUTTON_CANCEL";e.OuVariableDialogI18nLegacy.I18N_OK="FIREFLY_DIALOGS_OK";e.OuVariableDialogI18nLegacy.I18N_VARIANT_CANNOT_CHANGE="FIREFLY_DIALOGS_VARIANT_CANNOT_CHANGE";e.OuVariableDialogI18nLegacy.I18N_VARIANT_CANNOT_DELETE="FIREFLY_DIALOGS_VARIANT_CANNOT_DELETE";e.OuVariableDialogI18nLegacy.I18N_VARIANT_CANNOT_SAVE="FIREFLY_DIALOGS_VARIANT_CANNOT_SAVE";e.OuVariableDialogI18nLegacy.I18N_VARIANT_DELETE="FF_VD_VARIANT_DELETE";e.OuVariableDialogI18nLegacy.I18N_VARIANT_DELETE_CONFIRMATION="FIREFLY_DIALOGS_VARIANT_DELETE_CONFIRMATION";e.OuVariableDialogI18nLegacy.I18N_VARIANT_EDIT="FF_VD_VARIANT_EDIT";e.OuVariableDialogI18nLegacy.I18N_VARIANT_EDIT_ACCEPT="FF_VD_VARIANT_EDIT_ACCEPT";e.OuVariableDialogI18nLegacy.I18N_VARIANT_EDIT_CANCEL="FF_VD_VARIANT_EDIT_CANCEL";e.OuVariableDialogI18nLegacy.I18N_VARIANT_EMPTY="FIREFLY_DIALOGS_VARIANT_EMPTY";e.OuVariableDialogI18nLegacy.I18N_VARIANT_GENERATED_ID="FIREFLY_DIALOGS_VARIANT_GENERATED_ID";e.OuVariableDialogI18nLegacy.I18N_VARIANT_GLOBAL="FIREFLY_DIALOGS_VARIANT_GLOBAL";e.OuVariableDialogI18nLegacy.I18N_VARIANT_MANAGE="FIREFLY_DIALOGS_VARIANT_MANAGE_TITLE";e.OuVariableDialogI18nLegacy.I18N_VARIANT_NAME="FIREFLY_DIALOGS_VARIANT_NAME";e.OuVariableDialogI18nLegacy.I18N_VARIANT_NAME_PLACEHOLDER="FIREFLY_DIALOGS_VARIANT_NAME_PLACEHOLDER";e.OuVariableDialogI18nLegacy.I18N_VARIANT_NAME_REQUIRED="FIREFLY_DIALOGS_VARIANT_NAME_REQUIRED";e.OuVariableDialogI18nLegacy.I18N_VARIANT_NAME_UNIQUE="FIREFLY_DIALOGS_VARIANT_NAME_UNIQUE";e.OuVariableDialogI18nLegacy.I18N_VARIANT_NONE="FIREFLY_DIALOGS_VARIANT_NONE";e.OuVariableDialogI18nLegacy.I18N_VARIANT_OVERWRITE="FIREFLY_DIALOGS_VARIANT_OVERWRITE_CURRENT";e.OuVariableDialogI18nLegacy.I18N_VARIANT_OVERWRITE_CONFIRMATION="FIREFLY_DIALOGS_VARIANT_OVERWRITE_CONFIRMATION";e.OuVariableDialogI18nLegacy.I18N_VARIANT_PERSONAL="FIREFLY_DIALOGS_VARIANT_PERSONAL";e.OuVariableDialogI18nLegacy.I18N_VARIANT_POPUP_CANCEL="FIREFLY_DIALOGS_VARIANT_POPUP_CANCEL";e.OuVariableDialogI18nLegacy.I18N_VARIANT_POPUP_CLOSE="FIREFLY_DIALOGS_VARIANT_POPUP_CLOSE";e.OuVariableDialogI18nLegacy.I18N_VARIANT_POPUP_DELETE="FIREFLY_DIALOGS_VARIANT_POPUP_DELETE";e.OuVariableDialogI18nLegacy.I18N_VARIANT_POPUP_SAVE="FIREFLY_DIALOGS_VARIANT_POPUP_SAVE";e.OuVariableDialogI18nLegacy.I18N_VARIANT_SAVE="FIREFLY_DIALOGS_VARIANT_SAVE_TITLE";e.OuVariableDialogI18nLegacy.I18N_VARIANT_SAVE_CURRENT="FIREFLY_DIALOGS_VARIANT_SAVE_CURRENT";e.OuVariableDialogI18nLegacy.I18N_VARIANT_SAVE_SUCCESS="FIREFLY_DIALOGS_VARIANT_SAVE_SUCCESS";e.OuVariableDialogI18nLegacy.I18N_VARIANT_TECHNICAL_NAME="FIREFLY_DIALOGS_VARIANT_TECHNICAL_NAME";e.OuVariableDialogI18nLegacy.I18N_VARIANT_TECHNICAL_NAME_PLACEHOLDER="FIREFLY_DIALOGS_VARIANT_TECHNICAL_NAME_PLACEHOLDER";e.OuVariableDialogI18nLegacy.I18N_VARIANT_TECHNICAL_NAME_REQUIRED="FIREFLY_DIALOGS_VARIANT_TECHNICAL_NAME_REQUIRED";e.OuVariableDialogI18nLegacy.I18N_VARIANT_TECHNICAL_NAME_UNIQUE="FIREFLY_DIALOGS_VARIANT_TECHNICAL_NAME_UNIQUE";e.OuVariableDialogI18nLegacy.I18N_VARIANT_TYPE="FIREFLY_DIALOGS_VARIANT_TYPE";e.OuVariableDialogI18nLegacy.I18N_VARIANT_WARNING="FIREFLY_DIALOGS_VARIANT_WARNING";e.OuVariableDialogI18nLegacy.I18N_VD_APPLY_VARIANT="BW_USE_VARIANT";e.OuVariableDialogI18nLegacy.I18N_VD_APP_LEVEL="REPORT_VARIABLES_OPTION_APPLICATION";e.OuVariableDialogI18nLegacy.I18N_VD_CHART_LEVEL="REPORT_VARIABLES_OPTION_CHART";e.OuVariableDialogI18nLegacy.I18N_VD_CHOOSE_VARIANT="BW_VARIANT_APPLY";e.OuVariableDialogI18nLegacy.I18N_VD_CLEAR="FF_VD_CLEAR";e.OuVariableDialogI18nLegacy.I18N_VD_CLIPBOARD_INFO="FIREFLY_DIALOGS_CLIPBOARD_INFO";e.OuVariableDialogI18nLegacy.I18N_VD_COLUMN_HEADER_MEMBERS_DESCRIPTION="FF_VD_COLUMN_HEADER_MEMBERS_DESCRIPTION";e.OuVariableDialogI18nLegacy.I18N_VD_COLUMN_HEADER_VARIABLES="FF_VD_COLUMN_HEADER_VARIABLES";e.OuVariableDialogI18nLegacy.I18N_VD_COMPARISON_OPERATOR_BETWEEN_TEXT="FIREFLY_DIALOGS_OPERATOR_BETWEEN_TEXT";e.OuVariableDialogI18nLegacy.I18N_VD_COMPARISON_OPERATOR_EQUAL_TEXT="FIREFLY_DIALOGS_OPERATOR_EQUAL_TEXT";e.OuVariableDialogI18nLegacy.I18N_VD_COMPARISON_OPERATOR_GREATER_EQUAL_TEXT="FIREFLY_DIALOGS_OPERATOR_GREATER_EQUAL_TEXT";e.OuVariableDialogI18nLegacy.I18N_VD_COMPARISON_OPERATOR_GREATER_TEXT="FIREFLY_DIALOGS_OPERATOR_GREATER_TEXT";e.OuVariableDialogI18nLegacy.I18N_VD_COMPARISON_OPERATOR_IS_NOT_NULL="REPORT_VARIABLES_OPERATOR_ISNOTNULL";e.OuVariableDialogI18nLegacy.I18N_VD_COMPARISON_OPERATOR_IS_NULL="REPORT_VARIABLES_OPERATOR_ISNULL";e.OuVariableDialogI18nLegacy.I18N_VD_COMPARISON_OPERATOR_LESS_EQUAL_TEXT="FIREFLY_DIALOGS_OPERATOR_LESS_EQUAL_TEXT";e.OuVariableDialogI18nLegacy.I18N_VD_COMPARISON_OPERATOR_LESS_TEXT="FIREFLY_DIALOGS_OPERATOR_LESS_TEXT";e.OuVariableDialogI18nLegacy.I18N_VD_COMPARISON_OPERATOR_MATCH_TEXT="FIREFLY_DIALOGS_OPERATOR_CONTAINS_TEXT";e.OuVariableDialogI18nLegacy.I18N_VD_COMPARISON_OPERATOR_NOT_BETWEEN_TEXT="FIREFLY_DIALOGS_OPERATOR_NOT_BETWEEN_TEXT";e.OuVariableDialogI18nLegacy.I18N_VD_COMPARISON_OPERATOR_NOT_EQUAL_TEXT="FIREFLY_DIALOGS_OPERATOR_NOT_EQUAL_TEXT";e.OuVariableDialogI18nLegacy.I18N_VD_DELETE="DELETE";e.OuVariableDialogI18nLegacy.I18N_VD_DISABLE_DYNAMIC="REPORT_VARIABLES_DIALOG_FORCE_DYNAMIC_PROMPT_SETTING";e.OuVariableDialogI18nLegacy.I18N_VD_DISABLE_DYNAMIC_DISABLED_LONG="FF_VD_DISABLE_DYNAMIC_DISABLED_LONG";e.OuVariableDialogI18nLegacy.I18N_VD_DISABLE_EXIT="REPORT_VARIABLES_DIALOG_DISABLE_EXIT_VARIABLE";e.OuVariableDialogI18nLegacy.I18N_VD_DYNAMIC_FILTER_INFO="REPORT_VARIABLES_DYNAMIC_FILTER_TIP_INFO_TEXT";e.OuVariableDialogI18nLegacy.I18N_VD_DYNAMIC_VARIABLE_INFO="REPORT_VARIABLES_DYNAMIC_VARIABLE_TIP_INFO_TEXT";e.OuVariableDialogI18nLegacy.I18N_VD_EMPTY_CURRENCY_OPTION_TEXT="FIREFLY_DIALOGS_EMPTY_CURRENCY_OPTION";e.OuVariableDialogI18nLegacy.I18N_VD_ENTER="FIREFLY_DIALOGS_ENTER";e.OuVariableDialogI18nLegacy.I18N_VD_ERROR_MSG_DATE_VALIDATION="REPORT_VARIABLES_DIALOG_VALIDATION_DATE";e.OuVariableDialogI18nLegacy.I18N_VD_ERROR_MSG_MANDATORY_VAR="REPORT_VARIABLES_DIALOG_VALIDATION_MANDATORY";e.OuVariableDialogI18nLegacy.I18N_VD_ERROR_MSG_NUMBER_VALIDATION="REPORT_VARIABLES_DIALOG_VALIDATION_LONG";e.OuVariableDialogI18nLegacy.I18N_VD_ERROR_MSG_VALUE_MISSING="FIREFLY_DIALOGS_ERROR_MSG_VALUE_MISSING";e.OuVariableDialogI18nLegacy.I18N_VD_ERR_QUERIES_IN_PROCESSING="REPORT_VARIABLES_DIALOG_CAN_NOT_OPEN_QUERIES_IN_PROCESSING";e.OuVariableDialogI18nLegacy.I18N_VD_ERR_UNKNOWN_ERROR="FIREFLY_DIALOGS_ERR_UNKNOWN_ERROR";e.OuVariableDialogI18nLegacy.I18N_VD_ERR_VAR_SUBMIT_IN_PROCESSING="REPORT_VARIABLES_DIALOG_CAN_NOT_SUBMIT_QUERIES_IN_PROCESSING";e.OuVariableDialogI18nLegacy.I18N_VD_ERR_VH_SERVER_ERROR="FIREFLY_DIALOGS_ERR_VH_SERVER_ERROR";e.OuVariableDialogI18nLegacy.I18N_VD_FALSE="FIREFLY_DIALOGS_FALSE";e.OuVariableDialogI18nLegacy.I18N_VD_FORCE_PROMPT_APP="REPORT_VARIABLES_DIALOG_FORCE_PROMPT_APPLICATION_SETTING";e.OuVariableDialogI18nLegacy.I18N_VD_FORCE_PROMPT_DISABLED_LONG="FF_VD_FORCE_PROMPT_DISABLED_LONG";e.OuVariableDialogI18nLegacy.I18N_VD_FORCE_PROMPT_PS="REPORT_VARIABLES_DIALOG_FORCE_PROMPT_PLSQ_SETTING";e.OuVariableDialogI18nLegacy.I18N_VD_FORCE_PROMPT_STORY="REPORT_VARIABLES_DIALOG_FORCE_PROMPT_SETTING";e.OuVariableDialogI18nLegacy.I18N_VD_FORCE_PROMPT_STORY_INFO="REPORT_VARIABLES_DIALOG_FORCE_PROMPT_WARNING";e.OuVariableDialogI18nLegacy.I18N_VD_HIERARCHY_NAME="FIREFLY_DIALOGS_HIERARCHY_NAME";e.OuVariableDialogI18nLegacy.I18N_VD_HIERARCHY_NODE="FIREFLY_DIALOGS_HIERARCHY_NODE";e.OuVariableDialogI18nLegacy.I18N_VD_ICON_INVISIBLE_TEXT="FF_VD_ICON_INVISIBLE_TEXT";e.OuVariableDialogI18nLegacy.I18N_VD_INFORMATION_ICON_TOOLTIP="FF_VD_INFORMATION_ICON_TOOLTIP";e.OuVariableDialogI18nLegacy.I18N_VD_INPUT_1_INVISIBLE_TEXT="FF_VD_INPUT_1_INVISIBLE_TEXT";e.OuVariableDialogI18nLegacy.I18N_VD_INPUT_2_INVISIBLE_TEXT="FF_VD_INPUT_2_INVISIBLE_TEXT";e.OuVariableDialogI18nLegacy.I18N_VD_LINKED_VARIABLE_NO_RESULTS="NO_DESCRIPTION_AVAILABLE_FOR_SEARCH";e.OuVariableDialogI18nLegacy.I18N_VD_LINK_INFO_MESSAGE="REPORT_VARIABLES_LINK_TIP_INFO_TEXT";e.OuVariableDialogI18nLegacy.I18N_VD_MEMBER_DOES_NOT_EXIST="REPORT_VARIABLES_NO_DIM_MEM";e.OuVariableDialogI18nLegacy.I18N_VD_MEMBER_ID="FIREFLY_DIALOGS_MEMBER_ID";e.OuVariableDialogI18nLegacy.I18N_VD_MISSING_LINK_WARNING="LINK_VARIABLE_LINKS_INVALID";e.OuVariableDialogI18nLegacy.I18N_VD_NEW_FORCE_PROMPT_PS="NEW_REPORT_VARIABLES_DIALOG_FORCE_PROMPT_PLSQ_SETTING";e.OuVariableDialogI18nLegacy.I18N_VD_NO_VALUE="DIMENSION_HEADER_LABEL_EMPTY_STRING";e.OuVariableDialogI18nLegacy.I18N_VD_NO_VARIABLES="REPORT_VARIABLES_INFO_NO_VARIABLES";e.OuVariableDialogI18nLegacy.I18N_VD_NULL="DIMENSION_HEADER_LABEL_NULL";e.OuVariableDialogI18nLegacy.I18N_VD_NUMBER="REPORT_VARIABLES_VALUETYPE_NUMBER";e.OuVariableDialogI18nLegacy.I18N_VD_OPERATOR_DROPDOWN_INVISIBLE_TEXT="FF_VD_OPERATOR_DROPDOWN_INVISIBLE_TEXT";e.OuVariableDialogI18nLegacy.I18N_VD_SAVED_PROMPTS_FOR_DYNAMIC_LONG="FIREFLY_DIALOGS_SAVED_PROMPTS_FOR_DYNAMIC_LONG";e.OuVariableDialogI18nLegacy.I18N_VD_SAVED_PROMPTS_FOR_DYNAMIC_SHORT="FIREFLY_DIALOGS_SAVED_PROMPTS_FOR_DYNAMIC_SHORT";e.OuVariableDialogI18nLegacy.I18N_VD_SELECT_MEMBER_FOR="REPORT_VARIABLES_DIM_MEM_SELECT_TITLE";e.OuVariableDialogI18nLegacy.I18N_VD_SET="REPORT_VARIABLES_DIALOG_OKBUTTON_TEXT";e.OuVariableDialogI18nLegacy.I18N_VD_SETTINGS_BTN="FF_VD_SETTINGS_BTN";e.OuVariableDialogI18nLegacy.I18N_VD_SETTINGS_POPOVER_CLOSE="FF_VD_SETTINGS_POPOVER_CLOSE";e.OuVariableDialogI18nLegacy.I18N_VD_SETTINGS_POPOVER_DEFAULT_VALUES_SECTION="FF_VD_SETTINGS_POPOVER_DEFAULT_VALUES_SECTION";e.OuVariableDialogI18nLegacy.I18N_VD_SETTINGS_POPOVER_DISPLAY_SECTION="FF_VD_SETTINGS_POPOVER_DISPLAY_SECTION";e.OuVariableDialogI18nLegacy.I18N_VD_SET_FOR_ALL_PAGES="REPORT_VARIABLES_OPTION_ALL_PAGES";e.OuVariableDialogI18nLegacy.I18N_VD_SET_FOR_CURRENT_PAGE="REPORT_VARIABLES_OPTION_CURRENT_PAGE";e.OuVariableDialogI18nLegacy.I18N_VD_SET_VARIABLES="REPORT_VARIABLES_DIALOG_TITLE_SIMPLE";e.OuVariableDialogI18nLegacy.I18N_VD_SET_VARIABLES_FOR="REPORT_VARIABLES_DIALOG_TITLE";e.OuVariableDialogI18nLegacy.I18N_VD_SET_VARIABLES_PS="REPORT_VARIABLES_DIALOG_TITLE_PLSQ";e.OuVariableDialogI18nLegacy.I18N_VD_SHOW_MANDATORY_VARS_ONLY="FIREFLY_DIALOGS_SHOW_MANDATORY_VARS_ONLY";e.OuVariableDialogI18nLegacy.I18N_VD_SHOW_VARIABLE_TECHNICAL_NAMES="FIREFLY_DIALOGS_SHOW_VARIABLE_TECHNICAL_NAMES";e.OuVariableDialogI18nLegacy.I18N_VD_STORY_LEVEL="REPORT_VARIABLES_OPTION_STORY";e.OuVariableDialogI18nLegacy.I18N_VD_STRING="FIREFLY_DIALOGS_VALUE_TYPE_STRING";e.OuVariableDialogI18nLegacy.I18N_VD_TABLE_LEVEL="REPORT_VARIABLES_OPTION_TABLE";e.OuVariableDialogI18nLegacy.I18N_VD_TEXT_VARIABLE_DISABLED="REPORT_VARIABLES_TEXT_VAR_DISABLED";e.OuVariableDialogI18nLegacy.I18N_VD_TRUE="FIREFLY_DIALOGS_TRUE";e.OuVariableDialogI18nLegacy.I18N_VD_V2_HIERARCHY_NAME="FIREFLY_DIALOGS_V2_HIERARCHY_NAME";e.OuVariableDialogI18nLegacy.I18N_VD_V2_HIERARCHY_NODE="FIREFLY_DIALOGS_V2_HIERARCHY_NODE";e.OuVariableDialogI18nLegacy.I18N_VD_V2_MEMBER_ID="FIREFLY_DIALOGS_V2_MEMBER_ID";e.OuVariableDialogI18nLegacy.I18N_VD_V2_STRING="FIREFLY_DIALOGS_V2_VALUE_TYPE_STRING";e.OuVariableDialogI18nLegacy.I18N_VD_VALUE="FIREFLY_DIALOGS_VALUE_TYPE_DEFAULT";e.OuVariableDialogI18nLegacy.I18N_VD_VALUES_DISPLAY_DD="FF_VD_VALUES_DISPLAY_DROPDOWN";e.OuVariableDialogI18nLegacy.I18N_VD_VALUES_DISPLAY_DD_DESC_ITEM="FF_VD_VALUES_DISPLAY_DROPDOWN_DESCRIPTION_ITEM";e.OuVariableDialogI18nLegacy.I18N_VD_VALUES_DISPLAY_DD_ID_DESC_ITEM="FF_VD_VALUES_DISPLAY_DROPDOWN_ID_DESCRIPTION_ITEM";e.OuVariableDialogI18nLegacy.I18N_VD_VALUES_DISPLAY_DD_ID_ITEM="FF_VD_VALUES_DISPLAY_DROPDOWN_ID_ITEM";e.OuVariableDialogI18nLegacy.I18N_VD_VALUE_HELP="FIREFLY_DIALOGS_VALUE_HELP";e.OuVariableDialogI18nLegacy.I18N_VD_VARIABLE_VALUES_SET_TO="FIREFLY_DIALOGS_VARIABLE_VALUES_SET_TO";e.OuVariableDialogI18nLegacy.I18N_VD_VH_MOBILE_DATE_VIEW_SELECT_DATE="FIREFLY_DIALOGS_VH_MOBILE_DATE_VIEW_SELECT_DATE";e.OuVariableDialogI18nLegacy.I18N_VD_VH_MOBILE_LIST_VIEW_SELECT="FIREFLY_DIALOGS_VH_MOBILE_LIST_VIEW_SELECT";e.OuVariableDialogI18nLegacy.I18N_VD_VH_MOBILE_OPERATOR_WORKFLOW_NEXT_PAGE_TOOLTIP="FIREFLY_DIALOGS_VH_MOBILE_OPERATOR_WORKFLOW_NEXT_PAGE_TOOLTIP";e.OuVariableDialogI18nLegacy.I18N_VD_VH_MOBILE_OPERATOR_WORKFLOW_PREVIOUS_SELECTION="FIREFLY_DIALOGS_VH_MOBILE_OPERATOR_WORKFLOW_PREVIOUS_SELECTION";e.OuVariableDialogI18nLegacy.I18N_VD_VH_MOBILE_OPERATOR_WORKFLOW_SELECT_MEMBER="FIREFLY_DIALOGS_VH_MOBILE_OPERATOR_WORKFLOW_SELECT_MEMBER";e.OuVariableDialogI18nLegacy.I18N_VD_VH_MOBILE_OPERATOR_WORKFLOW_SELECT_MEMBER1="FIREFLY_DIALOGS_VH_MOBILE_OPERATOR_WORKFLOW_SELECT_MEMBER1";e.OuVariableDialogI18nLegacy.I18N_VD_VH_MOBILE_OPERATOR_WORKFLOW_SELECT_MEMBER2="FIREFLY_DIALOGS_VH_MOBILE_OPERATOR_WORKFLOW_SELECT_MEMBER2";e.OuVariableDialogI18nLegacy.I18N_VD_VH_MOBILE_OPERATOR_WORKFLOW_SELECT_OPERATOR="FIREFLY_DIALOGS_VH_MOBILE_OPERATOR_WORKFLOW_SELECT_OPERATOR";e.OuVariableDialogI18nLegacy.I18N_VD_VH_MOBILE_RANGE_DATE_VIEW_SELECT_DATE_RANGE="FIREFLY_DIALOGS_VH_MOBILE_RANGE_DATE_VIEW_SELECT_DATE_RANGE";e.OuVariableDialogI18nLegacy.I18N_VD_WARNING_MSG_NUMBER_FORMAT="FIREFLY_DIALOGS_WARNING_NUMBER_FORMAT";e.OuVariableDialogI18nLegacy.I18N_VD_WARN_VH_VALUES_NOT_FOUND="FIREFLY_DIALOGS_WARN_VH_VALUES_NOT_FOUND";e.OuVariableDialogI18nLegacy.getProvider=function(){return e.XLocalizationCenter.getCenter().getLocalizationProviderByName(e.VdVariableForm.COMPONENT_NAME)};e.OuVariableDialogI18nLegacy.staticSetup=function(){let t=new e.OuVariableDialogI18nLegacy;t.setupProvider(e.VdVariableForm.COMPONENT_NAME,true);t.addComment(e.OuVariableDialogI18nLegacy.I18N_OK,"#XBUT: Member selector ok button text");t.addText(e.OuVariableDialogI18nLegacy.I18N_OK,"Ok");t.addComment(e.OuVariableDialogI18nLegacy.I18N_CANCEL,"#XBUT, 10: General text used in button to cancel from changes");t.addText(e.OuVariableDialogI18nLegacy.I18N_CANCEL,"Cancel");t.addComment(e.OuVariableDialogI18nLegacy.I18N_VD_CLEAR,"#XTOL: A button tooltip to clear all variable values.");t.addText(e.OuVariableDialogI18nLegacy.I18N_VD_CLEAR,"Clear");t.addComment(e.OuVariableDialogI18nLegacy.I18N_VD_SET_VARIABLES,"#XMSG, 100: General title of input variables dialog.");t.addText(e.OuVariableDialogI18nLegacy.I18N_VD_SET_VARIABLES,"Set Variables");t.addComment(e.OuVariableDialogI18nLegacy.I18N_VD_SET_VARIABLES_FOR,"#XMSG, 100: Title of input variables dialog followed by the name of the model.");t.addText(e.OuVariableDialogI18nLegacy.I18N_VD_SET_VARIABLES_FOR,"Set Variables for");t.addComment(e.OuVariableDialogI18nLegacy.I18N_VD_SET_VARIABLES_PS,"#XMSG, 100: Title of input variables dialog for Planning Sequence.");t.addText(e.OuVariableDialogI18nLegacy.I18N_VD_SET_VARIABLES_PS,"Set Variables for BPC Planning Sequence");t.addComment(e.OuVariableDialogI18nLegacy.I18N_VD_SET,"#XMSG, 100: Text of ok button in input variable dialog.");t.addText(e.OuVariableDialogI18nLegacy.I18N_VD_SET,"Set");t.addComment(e.OuVariableDialogI18nLegacy.I18N_VD_DELETE,"#XFLD, 20: Tooltip for a button to remove values");t.addText(e.OuVariableDialogI18nLegacy.I18N_VD_DELETE,"Delete");t.addComment(e.OuVariableDialogI18nLegacy.I18N_VD_ENTER,"#XMSG: Placeholder text which value type to enter into an input field, e.g. 'Enter String'");t.addText(e.OuVariableDialogI18nLegacy.I18N_VD_ENTER,"Enter {0}");t.addComment(e.OuVariableDialogI18nLegacy.I18N_VD_SELECT_MEMBER_FOR,"#XTIT, 40: Title of the select member dialog");t.addText(e.OuVariableDialogI18nLegacy.I18N_VD_SELECT_MEMBER_FOR,"Select Member for {0}");t.addComment(e.OuVariableDialogI18nLegacy.I18N_VD_MEMBER_ID,'#XMSG: Part of the placeholder text for an input that expects a dimension member id ("Please enter Member ID").');t.addText(e.OuVariableDialogI18nLegacy.I18N_VD_MEMBER_ID,"Member ID");t.addComment(e.OuVariableDialogI18nLegacy.I18N_VD_V2_MEMBER_ID,'#XMSG: Part of the placeholder text for an input that expects a dimension member id V2 ("Please enter the ID for a member").');t.addText(e.OuVariableDialogI18nLegacy.I18N_VD_V2_MEMBER_ID,"the ID for a member");t.addComment(e.OuVariableDialogI18nLegacy.I18N_VD_HIERARCHY_NAME,"#XMSG: Placeholder text to enter a hierarchy name into an input field");t.addText(e.OuVariableDialogI18nLegacy.I18N_VD_HIERARCHY_NAME,"Hierarchy Name");t.addComment(e.OuVariableDialogI18nLegacy.I18N_VD_V2_HIERARCHY_NAME,"#XMSG: Placeholder text to enter a hierarchy name into an input field V2");t.addText(e.OuVariableDialogI18nLegacy.I18N_VD_V2_HIERARCHY_NAME,"the ID for a hierarchy");t.addComment(e.OuVariableDialogI18nLegacy.I18N_VD_HIERARCHY_NODE,"#XMSG: Placeholder text to enter a hierarchy node into an input field");t.addText(e.OuVariableDialogI18nLegacy.I18N_VD_HIERARCHY_NODE,"Hierarchy Node");t.addComment(e.OuVariableDialogI18nLegacy.I18N_VD_V2_HIERARCHY_NODE,"#XMSG: Placeholder text to enter a hierarchy node into an input field V2");t.addText(e.OuVariableDialogI18nLegacy.I18N_VD_V2_HIERARCHY_NODE,"the ID for a hierarchy node");t.addComment(e.OuVariableDialogI18nLegacy.I18N_VD_STRING,"#XMSG: Value type of variable");t.addText(e.OuVariableDialogI18nLegacy.I18N_VD_STRING,"String");t.addComment(e.OuVariableDialogI18nLegacy.I18N_VD_V2_STRING,"#XMSG: Value type of variable V2");t.addText(e.OuVariableDialogI18nLegacy.I18N_VD_V2_STRING,"Text");t.addComment(e.OuVariableDialogI18nLegacy.I18N_VD_VALUE,"#XMSG: Default value type of variable");t.addText(e.OuVariableDialogI18nLegacy.I18N_VD_VALUE,"Value");t.addComment(e.OuVariableDialogI18nLegacy.I18N_VD_NUMBER,"#XMSG, 20: Value type of variable.");t.addText(e.OuVariableDialogI18nLegacy.I18N_VD_NUMBER,"Number");t.addComment(e.OuVariableDialogI18nLegacy.I18N_VD_STORY_LEVEL,"#XMSG, 40: Option for story variables");t.addText(e.OuVariableDialogI18nLegacy.I18N_VD_STORY_LEVEL,"Use Story Variables");t.addComment(e.OuVariableDialogI18nLegacy.I18N_VD_APP_LEVEL,"#XMSG, 75: Option for analytic application variables");t.addText(e.OuVariableDialogI18nLegacy.I18N_VD_APP_LEVEL,"Use Analytic Application Variables");t.addComment(e.OuVariableDialogI18nLegacy.I18N_VD_CHART_LEVEL,"#XMSG, 40: Option for chart variables");t.addText(e.OuVariableDialogI18nLegacy.I18N_VD_CHART_LEVEL,"Set Chart Variables");t.addComment(e.OuVariableDialogI18nLegacy.I18N_VD_TABLE_LEVEL,"#XMSG, 40: Option for table variables");t.addText(e.OuVariableDialogI18nLegacy.I18N_VD_TABLE_LEVEL,"Set Table Variables");t.addComment(e.OuVariableDialogI18nLegacy.I18N_VD_FORCE_PROMPT_STORY,"#XMSG: Label for the checkbox setting to show the variable dialog when viewers open the story.");t.addText(e.OuVariableDialogI18nLegacy.I18N_VD_FORCE_PROMPT_STORY,"Automatically open prompt when story opens");t.addComment(e.OuVariableDialogI18nLegacy.I18N_VD_FORCE_PROMPT_STORY_INFO,"#XMSG: Warning message for the Force Prompt setting");t.addText(e.OuVariableDialogI18nLegacy.I18N_VD_FORCE_PROMPT_STORY_INFO,"This prompt will not show if all variables have been set by linked variables in other prompts.");t.addComment(e.OuVariableDialogI18nLegacy.I18N_VD_FORCE_PROMPT_APP,"#XMSG, 120: Label for the checkbox setting to show the variable dialog when viewers open the analytic application.");t.addText(e.OuVariableDialogI18nLegacy.I18N_VD_FORCE_PROMPT_APP,"Automatically open prompt when analytic application opens");t.addComment(e.OuVariableDialogI18nLegacy.I18N_VD_DISABLE_EXIT,"#XMSG: Label for the checkbox setting to disable exit variables in the variable dialog.");t.addText(e.OuVariableDialogI18nLegacy.I18N_VD_DISABLE_EXIT,"Keep last saved values for dynamic variables");t.addComment(e.OuVariableDialogI18nLegacy.I18N_VD_DISABLE_DYNAMIC,"#XMSG: Label for the checkbox setting to update the variable values automatically when viewers open the story.");t.addText(e.OuVariableDialogI18nLegacy.I18N_VD_DISABLE_DYNAMIC,"Disable Dynamic Variables");t.addComment(e.OuVariableDialogI18nLegacy.I18N_VD_FORCE_PROMPT_PS,"#XMSG: Label for the checkbox setting to show the variable dialog when viewers trigger Planning Sequence.");t.addText(e.OuVariableDialogI18nLegacy.I18N_VD_FORCE_PROMPT_PS,"Automatically open prompt when planning sequence is triggered.");t.addComment(e.OuVariableDialogI18nLegacy.I18N_VD_NEW_FORCE_PROMPT_PS,"#XMSG: New label for the checkbox setting to show the variable dialog when viewers trigger Planning Sequence.");t.addText(e.OuVariableDialogI18nLegacy.I18N_VD_NEW_FORCE_PROMPT_PS,"Automatically open prompt when planning sequence is started.");t.addComment(e.OuVariableDialogI18nLegacy.I18N_VD_APPLY_VARIANT,"#XTIT, 25: Variables Dropdown title text for BW");t.addText(e.OuVariableDialogI18nLegacy.I18N_VD_APPLY_VARIANT,"Apply Variant");t.addComment(e.OuVariableDialogI18nLegacy.I18N_VD_CHOOSE_VARIANT,"#XTIT, 50: Variables Dropdown no selection");t.addText(e.OuVariableDialogI18nLegacy.I18N_VD_CHOOSE_VARIANT,"Choose variant to apply");t.addComment(e.OuVariableDialogI18nLegacy.I18N_VD_VALUE_HELP,"#XMSG: Tooltip in the variable dialog for buttons opening the member selector");t.addText(e.OuVariableDialogI18nLegacy.I18N_VD_VALUE_HELP,"Value Help");t.addComment(e.OuVariableDialogI18nLegacy.I18N_VD_DYNAMIC_FILTER_INFO,"#XMSG, 100: Message that shows up when he/she hovers on a variable to see if there is a connected link.");t.addText(e.OuVariableDialogI18nLegacy.I18N_VD_DYNAMIC_FILTER_INFO,"This variable is a BW dynamic filter.");t.addComment(e.OuVariableDialogI18nLegacy.I18N_VD_SET_FOR_ALL_PAGES,"#XMSG, 40: Option for setting variables for all pages");t.addText(e.OuVariableDialogI18nLegacy.I18N_VD_SET_FOR_ALL_PAGES,"Set for All Pages");t.addComment(e.OuVariableDialogI18nLegacy.I18N_VD_SET_FOR_CURRENT_PAGE,"#XMSG, 40: Option for setting variables for current page");t.addText(e.OuVariableDialogI18nLegacy.I18N_VD_SET_FOR_CURRENT_PAGE,"Set for Current Page");t.addComment(e.OuVariableDialogI18nLegacy.I18N_VD_CLIPBOARD_INFO,"#XMSG: Info text in the clipboard dialog describing the separation of interval values");t.addText(e.OuVariableDialogI18nLegacy.I18N_VD_CLIPBOARD_INFO,"Range values can be separated with comma or semicolon.");t.addComment(e.OuVariableDialogI18nLegacy.I18N_VD_NULL,"#XFLD, 30: represent null value as table row/column member");t.addText(e.OuVariableDialogI18nLegacy.I18N_VD_NULL,"(Null)");t.addComment(e.OuVariableDialogI18nLegacy.I18N_VD_NO_VALUE,"#XFLD, 30: represent empty string as table row/column member");t.addText(e.OuVariableDialogI18nLegacy.I18N_VD_NO_VALUE,"(No Value)");t.addComment(e.OuVariableDialogI18nLegacy.I18N_VD_LINK_INFO_MESSAGE,"#XMSG, 100: Message that shows up when he/she hovers on a variable to see if there is a connected link.");t.addText(e.OuVariableDialogI18nLegacy.I18N_VD_LINK_INFO_MESSAGE,"This variable is linked with the following variables:");t.addComment(e.OuVariableDialogI18nLegacy.I18N_VD_ERROR_MSG_MANDATORY_VAR,"#XMSG, 100: Error text of variable input value validation.");t.addText(e.OuVariableDialogI18nLegacy.I18N_VD_ERROR_MSG_MANDATORY_VAR,"Please enter at least one member for {0}.");t.addComment(e.OuVariableDialogI18nLegacy.I18N_VD_ERROR_MSG_VALUE_MISSING,"#XMSG: Error message indicating that a value is missing for a variable");t.addText(e.OuVariableDialogI18nLegacy.I18N_VD_ERROR_MSG_VALUE_MISSING,"Value is missing");t.addComment(e.OuVariableDialogI18nLegacy.I18N_VD_MEMBER_DOES_NOT_EXIST,"#XMSG, 40: Error message for dimension member does not exist");t.addText(e.OuVariableDialogI18nLegacy.I18N_VD_MEMBER_DOES_NOT_EXIST,"Member ID does not exist.");t.addComment(e.OuVariableDialogI18nLegacy.I18N_VD_TEXT_VARIABLE_DISABLED,"#XMSG, 100: Message shown next to text variables on widget level.");t.addText(e.OuVariableDialogI18nLegacy.I18N_VD_TEXT_VARIABLE_DISABLED,"Text variables can only be set on story level.");t.addComment(e.OuVariableDialogI18nLegacy.I18N_VD_ERROR_MSG_NUMBER_VALIDATION,"#XMSG, 100: Error text of variable input value validation.");t.addText(e.OuVariableDialogI18nLegacy.I18N_VD_ERROR_MSG_NUMBER_VALIDATION,"Please input a decimal value.");t.addComment(e.OuVariableDialogI18nLegacy.I18N_VD_WARNING_MSG_NUMBER_FORMAT,"#XMSG: Warning meesage which indicates that the numeric user input will be formatted to the sac specified number format");t.addText(e.OuVariableDialogI18nLegacy.I18N_VD_WARNING_MSG_NUMBER_FORMAT,"The numeric value will be formatted to: {0}");t.addComment(e.OuVariableDialogI18nLegacy.I18N_VD_COMPARISON_OPERATOR_IS_NULL,"#XMSG, 20: Operator display name");t.addText(e.OuVariableDialogI18nLegacy.I18N_VD_COMPARISON_OPERATOR_IS_NULL,"is null");t.addComment(e.OuVariableDialogI18nLegacy.I18N_VD_COMPARISON_OPERATOR_IS_NOT_NULL,"#XMSG, 20: Operator display name");t.addText(e.OuVariableDialogI18nLegacy.I18N_VD_COMPARISON_OPERATOR_IS_NOT_NULL,"is not null");t.addComment(e.OuVariableDialogI18nLegacy.I18N_VD_COMPARISON_OPERATOR_MATCH_TEXT,"#XMSG: comparison operator long text for contains pattern");t.addText(e.OuVariableDialogI18nLegacy.I18N_VD_COMPARISON_OPERATOR_MATCH_TEXT,"contains");t.addComment(e.OuVariableDialogI18nLegacy.I18N_VD_COMPARISON_OPERATOR_EQUAL_TEXT,"#XMSG: comparison operator long text for '='");t.addText(e.OuVariableDialogI18nLegacy.I18N_VD_COMPARISON_OPERATOR_EQUAL_TEXT,"equal");t.addComment(e.OuVariableDialogI18nLegacy.I18N_VD_COMPARISON_OPERATOR_NOT_EQUAL_TEXT,"#XMSG: comparison operator long text for '!='");t.addText(e.OuVariableDialogI18nLegacy.I18N_VD_COMPARISON_OPERATOR_NOT_EQUAL_TEXT,"not equal");t.addComment(e.OuVariableDialogI18nLegacy.I18N_VD_COMPARISON_OPERATOR_GREATER_TEXT,"#XMSG: comparison operator long text for '>'");t.addText(e.OuVariableDialogI18nLegacy.I18N_VD_COMPARISON_OPERATOR_GREATER_TEXT,"greater than");t.addComment(e.OuVariableDialogI18nLegacy.I18N_VD_COMPARISON_OPERATOR_GREATER_EQUAL_TEXT,"#XMSG: comparison operator long text for '>='");t.addText(e.OuVariableDialogI18nLegacy.I18N_VD_COMPARISON_OPERATOR_GREATER_EQUAL_TEXT,"greater than or equal");t.addComment(e.OuVariableDialogI18nLegacy.I18N_VD_COMPARISON_OPERATOR_LESS_TEXT,"#XMSG: comparison operator long text for '<'");t.addText(e.OuVariableDialogI18nLegacy.I18N_VD_COMPARISON_OPERATOR_LESS_TEXT,"less than");t.addComment(e.OuVariableDialogI18nLegacy.I18N_VD_COMPARISON_OPERATOR_LESS_EQUAL_TEXT,"#XMSG: comparison operator long text for '<='");t.addText(e.OuVariableDialogI18nLegacy.I18N_VD_COMPARISON_OPERATOR_LESS_EQUAL_TEXT,"less than or equal");t.addComment(e.OuVariableDialogI18nLegacy.I18N_VD_COMPARISON_OPERATOR_BETWEEN_TEXT,"#XMSG: comparison operator long text for '[]'");t.addText(e.OuVariableDialogI18nLegacy.I18N_VD_COMPARISON_OPERATOR_BETWEEN_TEXT,"between");t.addComment(e.OuVariableDialogI18nLegacy.I18N_VD_COMPARISON_OPERATOR_NOT_BETWEEN_TEXT,"#XMSG: comparison operator long text for '![]'");t.addText(e.OuVariableDialogI18nLegacy.I18N_VD_COMPARISON_OPERATOR_NOT_BETWEEN_TEXT,"not between");t.addComment(e.OuVariableDialogI18nLegacy.I18N_VD_ERROR_MSG_DATE_VALIDATION,"#XMSG, 100: Error text of variable input value validation.");t.addText(e.OuVariableDialogI18nLegacy.I18N_VD_ERROR_MSG_DATE_VALIDATION,"Please enter a valid date.");t.addComment(e.OuVariableDialogI18nLegacy.I18N_VD_DYNAMIC_VARIABLE_INFO,"#XMSG, 150: Message that shows up when he/she hovers on a variable to see if there is a connected link.");t.addText(e.OuVariableDialogI18nLegacy.I18N_VD_DYNAMIC_VARIABLE_INFO,"This Dynamic Variable will be updated automatically, unless dynamic variables are disabled");t.addComment(e.OuVariableDialogI18nLegacy.I18N_VD_NO_VARIABLES,"#XMSG, 100: Message show to user when there are variables.");t.addText(e.OuVariableDialogI18nLegacy.I18N_VD_NO_VARIABLES,"There are no variables for this object.");t.addComment(e.OuVariableDialogI18nLegacy.I18N_VD_ERR_UNKNOWN_ERROR,"#XMSG: Error message indicating that an unexpected error occured during processing of variables.");t.addText(e.OuVariableDialogI18nLegacy.I18N_VD_ERR_UNKNOWN_ERROR,"An unknown error has occurred.");t.addComment(e.OuVariableDialogI18nLegacy.I18N_VD_ERR_VH_SERVER_ERROR,"#XMSG: Error message indicating that the server responded with an error to a request with variable values.");t.addText(e.OuVariableDialogI18nLegacy.I18N_VD_ERR_VH_SERVER_ERROR,"A server error has occurred, and the values cannot be processed. Please try again later.");t.addComment(e.OuVariableDialogI18nLegacy.I18N_VD_WARN_VH_VALUES_NOT_FOUND,"#XMSG: Warning message indicating that a search for values was not complete.");t.addText(e.OuVariableDialogI18nLegacy.I18N_VD_WARN_VH_VALUES_NOT_FOUND,"Some values could not be found and were not applied to the variable.");t.addComment(e.OuVariableDialogI18nLegacy.I18N_VD_SAVED_PROMPTS_FOR_DYNAMIC_SHORT,"#XMSG: Label for the checkbox setting to disable exit variables in the variable dialog.");t.addText(e.OuVariableDialogI18nLegacy.I18N_VD_SAVED_PROMPTS_FOR_DYNAMIC_SHORT,"Keep last saved values for dynamic variables");t.addComment(e.OuVariableDialogI18nLegacy.I18N_VD_SAVED_PROMPTS_FOR_DYNAMIC_LONG,"#XMSG: Description in tooltip for the checkbox setting to disable exit variables in the variable dialog.");t.addText(e.OuVariableDialogI18nLegacy.I18N_VD_SAVED_PROMPTS_FOR_DYNAMIC_LONG,"This option lets you use saved variables instead of Customer Exit, SAP Exit, SAP HANA Exit, or Authorization variables.");t.addComment(e.OuVariableDialogI18nLegacy.I18N_VD_SHOW_MANDATORY_VARS_ONLY,"#XCKL: Label for the checkbox setting to show only mandatory variables in the dialog and hide the non-mandatory ones.");t.addText(e.OuVariableDialogI18nLegacy.I18N_VD_SHOW_MANDATORY_VARS_ONLY,"Show mandatory variables only");t.addComment(e.OuVariableDialogI18nLegacy.I18N_VD_SHOW_VARIABLE_TECHNICAL_NAMES,"#XCKL: Label for the checkbox setting to show variable technical names next to the variable titles.");t.addText(e.OuVariableDialogI18nLegacy.I18N_VD_SHOW_VARIABLE_TECHNICAL_NAMES,"Show variable technical names");t.addComment(e.OuVariableDialogI18nLegacy.I18N_VD_LINKED_VARIABLE_NO_RESULTS,"#XFLD, 255: Indication that there are no results to a user performed search");t.addText(e.OuVariableDialogI18nLegacy.I18N_VD_LINKED_VARIABLE_NO_RESULTS,"There are no results for the searched member in the description section. It might be a fallback. Please try to search with ID.");t.addComment(e.OuVariableDialogI18nLegacy.I18N_VD_ERR_QUERIES_IN_PROCESSING,"#XTOL, 255: Notification message of blocking the variable dialog if submits are not yet finished");t.addText(e.OuVariableDialogI18nLegacy.I18N_VD_ERR_QUERIES_IN_PROCESSING,"Variable Dialog can not be open until submit is done.");t.addComment(e.OuVariableDialogI18nLegacy.I18N_VD_ERR_VAR_SUBMIT_IN_PROCESSING,"#XTOL, 265: Notification message of blocking the variable dialog if submits are not yet finished");t.addText(e.OuVariableDialogI18nLegacy.I18N_VD_ERR_VAR_SUBMIT_IN_PROCESSING,"Please wait until the ongoing variable submit is done.");t.addComment(e.OuVariableDialogI18nLegacy.I18N_VD_VH_MOBILE_DATE_VIEW_SELECT_DATE,"#XMSG: Dialog title for the single date selection variable dialog mobile value help");t.addText(e.OuVariableDialogI18nLegacy.I18N_VD_VH_MOBILE_DATE_VIEW_SELECT_DATE,"Select a date");t.addComment(e.OuVariableDialogI18nLegacy.I18N_VD_VH_MOBILE_RANGE_DATE_VIEW_SELECT_DATE_RANGE,"#XMSG: Dialog title for the range date selection variable dialog mobile value help");t.addText(e.OuVariableDialogI18nLegacy.I18N_VD_VH_MOBILE_RANGE_DATE_VIEW_SELECT_DATE_RANGE,"Select a date range");t.addComment(e.OuVariableDialogI18nLegacy.I18N_VD_VH_MOBILE_LIST_VIEW_SELECT,"#XMSG: Dialog title for the list selection variable dialog mobile value help");t.addText(e.OuVariableDialogI18nLegacy.I18N_VD_VH_MOBILE_LIST_VIEW_SELECT,"Select for {0}");t.addComment(e.OuVariableDialogI18nLegacy.I18N_VD_VH_MOBILE_OPERATOR_WORKFLOW_SELECT_OPERATOR,"#XMSG: Workflow page title for the operator selection in the operator workflow variable dialog mobile value help");t.addText(e.OuVariableDialogI18nLegacy.I18N_VD_VH_MOBILE_OPERATOR_WORKFLOW_SELECT_OPERATOR,"Select Operator");t.addComment(e.OuVariableDialogI18nLegacy.I18N_VD_VH_MOBILE_OPERATOR_WORKFLOW_SELECT_MEMBER,"#XMSG: Workflow page title for the single member selection in the operator workflow variable dialog mobile value help");t.addText(e.OuVariableDialogI18nLegacy.I18N_VD_VH_MOBILE_OPERATOR_WORKFLOW_SELECT_MEMBER,"Select Member");t.addComment(e.OuVariableDialogI18nLegacy.I18N_VD_VH_MOBILE_OPERATOR_WORKFLOW_SELECT_MEMBER1,"#XMSG: Workflow page title for the first member selection in the operator workflow variable dialog mobile value help");t.addText(e.OuVariableDialogI18nLegacy.I18N_VD_VH_MOBILE_OPERATOR_WORKFLOW_SELECT_MEMBER1,"Select Member 1/2");t.addComment(e.OuVariableDialogI18nLegacy.I18N_VD_VH_MOBILE_OPERATOR_WORKFLOW_SELECT_MEMBER2,"#XMSG: Workflow page title for the second member selection in the operator workflow variable dialog mobile value help");t.addText(e.OuVariableDialogI18nLegacy.I18N_VD_VH_MOBILE_OPERATOR_WORKFLOW_SELECT_MEMBER2,"Select Member 2/2");t.addComment(e.OuVariableDialogI18nLegacy.I18N_VD_VH_MOBILE_OPERATOR_WORKFLOW_PREVIOUS_SELECTION,"#XMSG: Workflow page subtitle for the previous selected member display in the operator workflow variable dialog mobile value help");t.addText(e.OuVariableDialogI18nLegacy.I18N_VD_VH_MOBILE_OPERATOR_WORKFLOW_PREVIOUS_SELECTION,"Previous selection:");t.addComment(e.OuVariableDialogI18nLegacy.I18N_VD_VH_MOBILE_OPERATOR_WORKFLOW_NEXT_PAGE_TOOLTIP,"#XMSG: Next page button tooltip in the operator workflow variable dialog mobile value help");t.addText(e.OuVariableDialogI18nLegacy.I18N_VD_VH_MOBILE_OPERATOR_WORKFLOW_NEXT_PAGE_TOOLTIP,"Continue to next page");t.addComment(e.OuVariableDialogI18nLegacy.I18N_VD_MISSING_LINK_WARNING,"#XMSG: message shown as member selector info text when variable links are no longer valid due to backend change");t.addText(e.OuVariableDialogI18nLegacy.I18N_VD_MISSING_LINK_WARNING,"Variable links associated with the current variable are no longer valid. The selected value will not be set to other linked variables.");t.addComment(e.OuVariableDialogI18nLegacy.I18N_VD_VARIABLE_VALUES_SET_TO,"#XMSG: Warning shown in as a toast when variable values where changed by the backend.");t.addText(e.OuVariableDialogI18nLegacy.I18N_VD_VARIABLE_VALUES_SET_TO,"{0} values were changed by a server-side exit to:");t.addComment(e.OuVariableDialogI18nLegacy.I18N_VD_EMPTY_CURRENCY_OPTION_TEXT,"#XMSG: Option that the user can pick so that currencies are not converted to a different currency.");t.addText(e.OuVariableDialogI18nLegacy.I18N_VD_EMPTY_CURRENCY_OPTION_TEXT,"No Conversion");t.addComment(e.OuVariableDialogI18nLegacy.I18N_VD_TRUE,"#XFLD: An entry in a dropdown for variables values of type boolean");t.addText(e.OuVariableDialogI18nLegacy.I18N_VD_TRUE,"True");t.addComment(e.OuVariableDialogI18nLegacy.I18N_VD_FALSE,"#XFLD: An entry in a dropdown for variables values of type boolean");t.addText(e.OuVariableDialogI18nLegacy.I18N_VD_FALSE,"False");t.addComment(e.OuVariableDialogI18nLegacy.I18N_VARIANT_NAME,"#XFLD: The description of an input field where the user should enter the name of a variant.");t.addText(e.OuVariableDialogI18nLegacy.I18N_VARIANT_NAME,"Name");t.addComment(e.OuVariableDialogI18nLegacy.I18N_VARIANT_TECHNICAL_NAME,"#XFLD: The description of an input field where the user should enter the technical name of a variant.");t.addText(e.OuVariableDialogI18nLegacy.I18N_VARIANT_TECHNICAL_NAME,"Technical Name");t.addComment(e.OuVariableDialogI18nLegacy.I18N_VARIANT_TYPE,"#XFLD: The description of dropdown box where the user should pick the type of a variant.");t.addText(e.OuVariableDialogI18nLegacy.I18N_VARIANT_TYPE,"Type");t.addComment(e.OuVariableDialogI18nLegacy.I18N_VARIANT_PERSONAL,"#XFLD: One of the variant types the user can pick, indicating the variant is only visible to him.");t.addText(e.OuVariableDialogI18nLegacy.I18N_VARIANT_PERSONAL,"Personal");t.addComment(e.OuVariableDialogI18nLegacy.I18N_VARIANT_GLOBAL,"#XFLD: One of the variant types the user can pick, indicating the variant is visible for everybody.");t.addText(e.OuVariableDialogI18nLegacy.I18N_VARIANT_GLOBAL,"Global");t.addComment(e.OuVariableDialogI18nLegacy.I18N_VARIANT_GENERATED_ID,"#XFLD: Input field placeholder for the technical name, when it cannot be changed by the user.");t.addText(e.OuVariableDialogI18nLegacy.I18N_VARIANT_GENERATED_ID,"Auto Generated");t.addComment(e.OuVariableDialogI18nLegacy.I18N_VARIANT_MANAGE,"#XTIT: The title of the popup where the user can modify variants.");t.addText(e.OuVariableDialogI18nLegacy.I18N_VARIANT_MANAGE,"Manage Variants");t.addComment(e.OuVariableDialogI18nLegacy.I18N_VARIANT_SAVE,"#XTIT: The title of the popup where the user can save a new variant.");t.addText(e.OuVariableDialogI18nLegacy.I18N_VARIANT_SAVE,"Save As Variant");t.addComment(e.OuVariableDialogI18nLegacy.I18N_VARIANT_OVERWRITE,"#XBUT: A button with which the user can save the active variant and overwrite its values.");t.addText(e.OuVariableDialogI18nLegacy.I18N_VARIANT_OVERWRITE,"Overwrite Variant with Current Settings");t.addComment(e.OuVariableDialogI18nLegacy.I18N_VARIANT_SAVE_CURRENT,"#XBUT: A button with which the user can save the current values as a new variant.");t.addText(e.OuVariableDialogI18nLegacy.I18N_VARIANT_SAVE_CURRENT,"Save Current Settings as New Variant");t.addComment(e.OuVariableDialogI18nLegacy.I18N_VARIANT_NAME_PLACEHOLDER,"#XMSG: A placeholder text for the variant name input field");t.addText(e.OuVariableDialogI18nLegacy.I18N_VARIANT_NAME_PLACEHOLDER,"Enter name for variant");t.addComment(e.OuVariableDialogI18nLegacy.I18N_VARIANT_TECHNICAL_NAME_PLACEHOLDER,"#XMSG: A placeholder text for the variant technical name input field");t.addText(e.OuVariableDialogI18nLegacy.I18N_VARIANT_TECHNICAL_NAME_PLACEHOLDER,"Enter technical name for variant");t.addComment(e.OuVariableDialogI18nLegacy.I18N_VARIANT_NAME_REQUIRED,"#XMSG: An error showing up when the user didn't enter a name for the variant.");t.addText(e.OuVariableDialogI18nLegacy.I18N_VARIANT_NAME_REQUIRED,"Name is required");t.addComment(e.OuVariableDialogI18nLegacy.I18N_VARIANT_TECHNICAL_NAME_REQUIRED,"#XMSG: An error showing up when the user didn't enter a technical name for the variant.");t.addText(e.OuVariableDialogI18nLegacy.I18N_VARIANT_TECHNICAL_NAME_REQUIRED,"Technical Name is required");t.addComment(e.OuVariableDialogI18nLegacy.I18N_VARIANT_TECHNICAL_NAME_UNIQUE,"#XMSG: An error showing up when the user entered a technical name that is already in use.");t.addText(e.OuVariableDialogI18nLegacy.I18N_VARIANT_TECHNICAL_NAME_UNIQUE,"Technical Name needs to be unique");t.addComment(e.OuVariableDialogI18nLegacy.I18N_VARIANT_NAME_UNIQUE,"#XMSG: An error showing up when the user entered a display name that is already in use.");t.addText(e.OuVariableDialogI18nLegacy.I18N_VARIANT_NAME_UNIQUE,"Name needs to be unique");t.addComment(e.OuVariableDialogI18nLegacy.I18N_VARIANT_CANNOT_SAVE,"#XMSG: A generic error when the server rejected saving a variant but stated no detailed reason.");t.addText(e.OuVariableDialogI18nLegacy.I18N_VARIANT_CANNOT_SAVE,"Variant could not be saved to due a server error.");t.addComment(e.OuVariableDialogI18nLegacy.I18N_VARIANT_CANNOT_DELETE,"#XMSG: A generic error when the server rejected deleting a variant but stated no detailed reason.");t.addText(e.OuVariableDialogI18nLegacy.I18N_VARIANT_CANNOT_DELETE,"Variants could not be deleted to due a server error.");t.addComment(e.OuVariableDialogI18nLegacy.I18N_VARIANT_CANNOT_CHANGE,"#XMSG: A generic error when the server rejected modifying a variant but stated no detailed reason.");t.addText(e.OuVariableDialogI18nLegacy.I18N_VARIANT_CANNOT_CHANGE,"Variants could not be modified to due a server error.");t.addComment(e.OuVariableDialogI18nLegacy.I18N_VARIANT_POPUP_SAVE,"#XBUT: The button to submit the popup dialog.");t.addText(e.OuVariableDialogI18nLegacy.I18N_VARIANT_POPUP_SAVE,"Save");t.addComment(e.OuVariableDialogI18nLegacy.I18N_VARIANT_POPUP_CANCEL,"#XBUT: The button to abort the popup dialog.");t.addText(e.OuVariableDialogI18nLegacy.I18N_VARIANT_POPUP_CANCEL,"Cancel");t.addComment(e.OuVariableDialogI18nLegacy.I18N_VARIANT_POPUP_CLOSE,"#XBUT: The button to close the manage dialog.");t.addText(e.OuVariableDialogI18nLegacy.I18N_VARIANT_POPUP_CLOSE,"Done");t.addComment(e.OuVariableDialogI18nLegacy.I18N_VARIANT_NONE,"#XTIT: An empty option in the variant dropdown, indicating no variant is selected.");t.addText(e.OuVariableDialogI18nLegacy.I18N_VARIANT_NONE,"None");t.addComment(e.OuVariableDialogI18nLegacy.I18N_VARIANT_SAVE_SUCCESS,"#XMSG: A toast message shown when a variant is successfully saved.");t.addText(e.OuVariableDialogI18nLegacy.I18N_VARIANT_SAVE_SUCCESS,"Successfully saved variant.");t.addComment(e.OuVariableDialogI18nLegacy.I18N_VARIANT_WARNING,"#XTIT: The title of a dialog where the user is asked for confirmation.");t.addText(e.OuVariableDialogI18nLegacy.I18N_VARIANT_WARNING,"Warning");t.addComment(e.OuVariableDialogI18nLegacy.I18N_VARIANT_DELETE_CONFIRMATION,"#XMSG: The message of a dialog where the user is asked for deletion confirmation. Placeholder is the name of the variant.");t.addText(e.OuVariableDialogI18nLegacy.I18N_VARIANT_DELETE_CONFIRMATION,'Are you sure you want to delete "{0}"?');t.addComment(e.OuVariableDialogI18nLegacy.I18N_VARIANT_OVERWRITE_CONFIRMATION,"#XMSG: The message of a dialog where the user is asked for overwrite confirmation. First placeholder is the scope of the variant (Personal/Global), second is the name of the variant.");t.addText(e.OuVariableDialogI18nLegacy.I18N_VARIANT_OVERWRITE_CONFIRMATION,'Are you sure you want to overwrite {0} variant "{1}"?');t.addComment(e.OuVariableDialogI18nLegacy.I18N_VARIANT_POPUP_DELETE,"#XBUT: The button to confirm deleting a variant.");t.addText(e.OuVariableDialogI18nLegacy.I18N_VARIANT_POPUP_DELETE,"Delete");t.addComment(e.OuVariableDialogI18nLegacy.I18N_VARIANT_EMPTY,"#XMSG: Displayed when there are no variants to manage or all have been deleted.");t.addText(e.OuVariableDialogI18nLegacy.I18N_VARIANT_EMPTY,"No variants available");t.addComment(e.OuVariableDialogI18nLegacy.I18N_VARIANT_EDIT,"#XTOL: A button tooltip to start editing a variant");t.addText(e.OuVariableDialogI18nLegacy.I18N_VARIANT_EDIT,"Edit");t.addComment(e.OuVariableDialogI18nLegacy.I18N_VARIANT_EDIT_ACCEPT,"#XTOL: A button tooltip to finish editing a variant");t.addText(e.OuVariableDialogI18nLegacy.I18N_VARIANT_EDIT_ACCEPT,"Accept");t.addComment(e.OuVariableDialogI18nLegacy.I18N_VARIANT_EDIT_CANCEL,"#XTOL: A button tooltip to cancel editing a variant");t.addText(e.OuVariableDialogI18nLegacy.I18N_VARIANT_EDIT_CANCEL,"Cancel");t.addComment(e.OuVariableDialogI18nLegacy.I18N_VARIANT_DELETE,"#XTOL: A button tooltip to delete a variant");t.addText(e.OuVariableDialogI18nLegacy.I18N_VARIANT_DELETE,"Delete");t.addComment(e.OuVariableDialogI18nLegacy.I18N_VD_SETTINGS_POPOVER_DISPLAY_SECTION,"#XTIT: Title of the display section within the settings popover");t.addText(e.OuVariableDialogI18nLegacy.I18N_VD_SETTINGS_POPOVER_DISPLAY_SECTION,"Display");t.addComment(e.OuVariableDialogI18nLegacy.I18N_VD_SETTINGS_POPOVER_CLOSE,"#XBUT: Close button text within the settings popover");t.addText(e.OuVariableDialogI18nLegacy.I18N_VD_SETTINGS_POPOVER_CLOSE,"Close");t.addComment(e.OuVariableDialogI18nLegacy.I18N_VD_FORCE_PROMPT_DISABLED_LONG,"#XMSG: information message to explain that the force prompt checkbox is disabled by a story setting");t.addText(e.OuVariableDialogI18nLegacy.I18N_VD_FORCE_PROMPT_DISABLED_LONG,'The variable prompt automatically opens when the story uses the setting "Clear Variables and Use Server-Defined Values".');t.addComment(e.OuVariableDialogI18nLegacy.I18N_VD_DISABLE_DYNAMIC_DISABLED_LONG,"#XMSG: information message to explain that the disable dynamic variables checkbox is disabled by a story setting");t.addText(e.OuVariableDialogI18nLegacy.I18N_VD_DISABLE_DYNAMIC_DISABLED_LONG,'The dynamic variables can\'t be used when the story uses the setting "Clear Variables and Use Server-Defined Values".');t.addComment(e.OuVariableDialogI18nLegacy.I18N_VD_VALUES_DISPLAY_DD,"#XTIT: Title of the values display drop down.");t.addText(e.OuVariableDialogI18nLegacy.I18N_VD_VALUES_DISPLAY_DD,"Values Display");t.addComment(e.OuVariableDialogI18nLegacy.I18N_VD_SETTINGS_BTN,"XBUT: The settings popover button");t.addText(e.OuVariableDialogI18nLegacy.I18N_VD_SETTINGS_BTN,"Settings");t.addComment(e.OuVariableDialogI18nLegacy.I18N_VD_VALUES_DISPLAY_DD_DESC_ITEM,"#XSEL: Description item in values display drop down");t.addText(e.OuVariableDialogI18nLegacy.I18N_VD_VALUES_DISPLAY_DD_DESC_ITEM,"Description");t.addComment(e.OuVariableDialogI18nLegacy.I18N_VD_VALUES_DISPLAY_DD_ID_ITEM,"#XSEL: ID item in values display drop down");t.addText(e.OuVariableDialogI18nLegacy.I18N_VD_VALUES_DISPLAY_DD_ID_ITEM,"ID");t.addComment(e.OuVariableDialogI18nLegacy.I18N_VD_VALUES_DISPLAY_DD_ID_DESC_ITEM,"#XSEL: ID & Description item in values display drop down");t.addText(e.OuVariableDialogI18nLegacy.I18N_VD_VALUES_DISPLAY_DD_ID_DESC_ITEM,"ID and Description");t.addComment(e.OuVariableDialogI18nLegacy.I18N_VD_OPERATOR_DROPDOWN_INVISIBLE_TEXT,"#XACT: The invisible text for the operator's drop down");t.addText(e.OuVariableDialogI18nLegacy.I18N_VD_OPERATOR_DROPDOWN_INVISIBLE_TEXT,"Operator");t.addComment(e.OuVariableDialogI18nLegacy.I18N_VD_INPUT_1_INVISIBLE_TEXT,"#XACT: The invisible text for the first input field");t.addText(e.OuVariableDialogI18nLegacy.I18N_VD_INPUT_1_INVISIBLE_TEXT,"From");t.addComment(e.OuVariableDialogI18nLegacy.I18N_VD_INPUT_2_INVISIBLE_TEXT,"#XACT: The invisible text for the second input field");t.addText(e.OuVariableDialogI18nLegacy.I18N_VD_INPUT_2_INVISIBLE_TEXT,"To");t.addComment(e.OuVariableDialogI18nLegacy.I18N_VD_SETTINGS_POPOVER_DEFAULT_VALUES_SECTION,"#XTIT: Title of the default values section within the settings popover");t.addText(e.OuVariableDialogI18nLegacy.I18N_VD_SETTINGS_POPOVER_DEFAULT_VALUES_SECTION,"Default Values");t.addComment(e.OuVariableDialogI18nLegacy.I18N_VD_COLUMN_HEADER_VARIABLES,"#XCOL: Column header for the variables column");t.addText(e.OuVariableDialogI18nLegacy.I18N_VD_COLUMN_HEADER_VARIABLES,"Variables");t.addComment(e.OuVariableDialogI18nLegacy.I18N_VD_COLUMN_HEADER_MEMBERS_DESCRIPTION,"#XCOL: Column header for the members description column");t.addText(e.OuVariableDialogI18nLegacy.I18N_VD_COLUMN_HEADER_MEMBERS_DESCRIPTION,"Members Description");t.addComment(e.OuVariableDialogI18nLegacy.I18N_VD_INFORMATION_ICON_TOOLTIP,"#XTOL: An icon tooltip to show information");t.addText(e.OuVariableDialogI18nLegacy.I18N_VD_INFORMATION_ICON_TOOLTIP,"Information");t.addComment(e.OuVariableDialogI18nLegacy.I18N_VD_ICON_INVISIBLE_TEXT,"#XACT: The invisible text for an icon");t.addText(e.OuVariableDialogI18nLegacy.I18N_VD_ICON_INVISIBLE_TEXT,"Button");return t};e.VdOrcaEntryPoint=function(){};e.VdOrcaEntryPoint.prototype=new e.VdOrcaFacade;e.VdOrcaEntryPoint.prototype._ff_c="VdOrcaEntryPoint";e.VdOrcaEntryPoint.createEntryPointDisplay=function(t,i){let o=new e.VdOrcaEntryPoint;o.setupEntryPoint(t);o.setDisplay(e.VdVariableDialog.createAsDisplay(o.m_context,o.m_config,i));o.setupController();return o};e.VdOrcaEntryPoint.createEntryPointToken=function(t){let i=new e.VdOrcaEntryPoint;i.setupEntryPoint(t);i.setToken(e.VdVariableForm.createAsToken(i.m_context,i.m_config));i.setupController();return i};e.VdOrcaEntryPoint.variableIsUsedInDynamicFilter=function(t){if(!t.getVariableType().isTypeOf(e.VariableType.DIMENSION_MEMBER_VARIABLE)){return false}let i=t;return i.isUsedInDynamicFilter()&&i.getDimension().getAxisType()!==e.AxisType.REPOSITORY};e.VdOrcaEntryPoint.prototype.m_config=null;e.VdOrcaEntryPoint.prototype.m_context=null;e.VdOrcaEntryPoint.prototype.m_i18n=null;e.VdOrcaEntryPoint.prototype.m_level=null;e.VdOrcaEntryPoint.prototype.m_linkTooltips=null;e.VdOrcaEntryPoint.prototype.m_params=null;e.VdOrcaEntryPoint.prototype.m_readOnly=false;e.VdOrcaEntryPoint.prototype.m_scenario=null;e.VdOrcaEntryPoint.prototype.m_storyEditable=false;e.VdOrcaEntryPoint.prototype.m_storyValues=null;e.VdOrcaEntryPoint.prototype.m_title=null;e.VdOrcaEntryPoint.prototype.m_variablesToDisplay=null;e.VdOrcaEntryPoint.prototype.m_widgetValues=null;e.VdOrcaEntryPoint.prototype.addDimensionDisplayInfoToConfig=function(t,i){for(let o=0;o<i.size();o++){let n=i.get(o);if(n.getVariableType().isTypeOf(e.VariableType.DIMENSION_MEMBER_VARIABLE)){let i=n.getDimension().getName();let o=e.notNull(this.m_params.queryManager)&&this.m_params.queryManager.getSystemType().isTypeOf(e.SystemType.HANA);let a=o?e.FilterDisplayInfo.DESCRIPTION:e.FilterDisplayInfo.QUERY_DEFAULT;t.addDimensionDisplayInfo(i,e.VdOrcaValueParser.mapOrcaDisplayInfo(i,this.m_params.dimensionDisplayInfo,a))}}};e.VdOrcaEntryPoint.prototype.extractParams=function(t){this.m_title=this.m_params.title;this.m_storyEditable=!!this.m_params.storyEditable;this.m_readOnly=!!this.m_params.readOnly;this.m_linkTooltips=this.m_params.linkTooltips;this.m_linkedVariableNames=this.m_linkTooltips.getKeysAsReadOnlyList();this.m_scenario=this.getScenario();this.m_level=this.getLevel();this.mergeVariableValues(t);this.m_variablesToDisplay=e.XHashSetOfString.create();if(this.m_scenario===e.VdOrcaScenario.LINKED_VARIABLE&&e.XCollectionUtils.hasElements(this.m_params.linkedVariables)){let e=this.m_params.linkedVariables;for(let t=0;t<e.size();t++){let i=e.getStringAt(t);this.m_variablesToDisplay.add(i)}}if(e.XCollectionUtils.hasElements(this.m_params.variablesToDisplay)){this.m_variablesToDisplay.addAll(this.m_params.variablesToDisplay)}};e.VdOrcaEntryPoint.prototype.getAnalyticVariableProcessor=function(){if(e.notNull(this.m_params.analyticVarProcessor)){return this.m_params.analyticVarProcessor}return this.m_params.queryManager};e.VdOrcaEntryPoint.prototype.getItemWithSupplementsByKey=function(t,i){if(e.notNull(t)){for(let e=0;e<t.size();e++){let o=t.get(e);if(this.isOperandWithKeyAndSupplements(o.getFirstOperand(),i)){return o.getFirstOperand()}if(this.isOperandWithKeyAndSupplements(o.getSecondOperand(),i)){return o.getSecondOperand()}}}return null};e.VdOrcaEntryPoint.prototype.getLevel=function(){if(this.m_params.isPlanningSequence){return e.VdOrcaLevel.DEFAULT}if(e.XStringUtils.isNotNullAndNotEmpty(this.m_params.singleVariableKey)){return e.VdOrcaLevel.FILTER}if(!!this.m_params.showChartVariables||!!this.m_params.preSetVariablesEditable||this.m_scenario!==e.VdOrcaScenario.STORY&&!!this.m_params.isWidget){return!!this.m_params.useTableMessage?e.VdOrcaLevel.TABLE:e.VdOrcaLevel.CHART}if(!!this.m_params.isWidget){return e.VdOrcaLevel.EXPLORER}return e.VdOrcaLevel.DEFAULT};e.VdOrcaEntryPoint.prototype.getScenario=function(){if(this.m_params.isPlanningSequence){return e.VdOrcaScenario.PLANNING_SEQUENCE}if(!!this.m_params.analyticApp){return e.VdOrcaScenario.ANALYTIC_APP}if(this.m_params.isPublication){return e.VdOrcaScenario.SCHEDULING}if(e.notNull(this.m_params.linkedVariables)){return e.VdOrcaScenario.LINKED_VARIABLE}if(this.m_params.datasetVariablesEditable&&this.m_params.preSetVariablesEditable){return e.VdOrcaScenario.BOARD_ROOM}return e.VdOrcaScenario.STORY};e.VdOrcaEntryPoint.prototype.getStartValues=function(){if(this.getUseWidgetInitialValue()){return this.m_widgetValues}return this.m_storyValues};e.VdOrcaEntryPoint.prototype.getTitle=function(){if(this.m_scenario===e.VdOrcaScenario.PLANNING_SEQUENCE){return this.m_i18n.getText(e.OuVariableDialogI18nLegacy.I18N_VD_SET_VARIABLES_PS)}else if(e.XStringUtils.isNotNullAndNotEmpty(this.m_title)&&this.m_scenario!==e.VdOrcaScenario.LINKED_VARIABLE){return e.XStringUtils.concatenate3(this.m_i18n.getText(e.OuVariableDialogI18nLegacy.I18N_VD_SET_VARIABLES_FOR)," ",this.m_title)}return this.m_i18n.getText(e.OuVariableDialogI18nLegacy.I18N_VD_SET_VARIABLES)};e.VdOrcaEntryPoint.prototype.getUseWidgetInitialValue=function(){return this.m_level===e.VdOrcaLevel.EXPLORER||(!!this.m_params.isWidget||!!this.m_params.presetVariablesSelected)&&e.XCollectionUtils.hasElements(this.m_params.preSetVariables)};e.VdOrcaEntryPoint.prototype.getVariableProcessorInternal=function(){if(e.notNull(this.m_params.varProcessor)){return this.m_params.varProcessor}return this.getAnalyticVariableProcessor()};e.VdOrcaEntryPoint.prototype.hasDynamicVariables=function(){return this.m_vdController.hasDynamicVariables()};e.VdOrcaEntryPoint.prototype.isOperandWithKeyAndSupplements=function(t,i){return e.notNull(t)&&e.XString.isEqual(i,t.getKey())&&(t.getDisplayKey()!==null||t.getText()!==null)};e.VdOrcaEntryPoint.prototype.mergeVariableValues=function(t){let i=this.getVariableProcessorInternal();this.m_storyValues=e.VdOrcaValueParser.parseJsonToStartValues(this.m_params.datasetVariables,i,this.m_linkedVariableNames);this.m_widgetValues=e.VdOrcaValueParser.parseJsonToStartValues(this.m_params.preSetVariables,i,this.m_linkedVariableNames);let o=e.VdOrcaValueParser.parseJsonToStartValues(this.m_params.filterVariables,i,this.m_linkedVariableNames);let n=e.VdImportExport.getValuesFromProcessor(i);let a=e.VdImportExport.getDynamicFilterValuesFromProcessor(i);if(e.isNull(this.m_storyValues)){if(this.m_scenario===e.VdOrcaScenario.LINKED_VARIABLE&&e.notNull(this.m_widgetValues)){this.m_storyValues=this.m_widgetValues.createMapByStringCopy()}else{this.m_storyValues=n}}if(e.isNull(this.m_widgetValues)){this.m_widgetValues=e.XHashMapByString.create()}for(let i=0;i<t.size();i++){let r=t.get(i);let l=r.getName();let s=n.getByKey(l);if(e.notNull(o)&&o.getByKey(l)!==null&&(this.m_level===e.VdOrcaLevel.CHART||this.m_level===e.VdOrcaLevel.TABLE)&&e.VdOrcaEntryPoint.variableIsUsedInDynamicFilter(r)&&e.VdImportExport.useDynamicFilterForVariable(r)){this.m_widgetValues.put(l,o.getByKey(l))}else if(a.getByKey(l)!==null&&(this.m_level===e.VdOrcaLevel.CHART||this.m_level===e.VdOrcaLevel.TABLE)&&e.VdOrcaEntryPoint.variableIsUsedInDynamicFilter(r)){let e=a.getByKey(l);this.updateValuesSupplements(e,this.m_storyValues.getByKey(l),this.m_widgetValues.getByKey(l));this.m_widgetValues.put(l,e)}else{this.updateWidgetVariableValues(l,s)}}};e.VdOrcaEntryPoint.prototype.onBeforeSubmit=function(t,i){if(e.notNull(this.m_params.queryManager)){let t=this.m_params.queryManager.getSystemType().isTypeOf(e.SystemType.HANA);let i=this.m_params.queryManager.getDataSource();let o=t?this.m_uiHelper.isDisablingDynamicVariables():this.m_uiHelper.isDisablingExitVariables();e.XStream.of(this.getVariableProcessor().getOlapEnv().getAllAreaQueryManagerActive()).filter(t=>!t.getOlapComponentType().isEqualTo(e.OlapComponentType.BLENDABLE_QUERY_MANAGER)).filter(e=>e.getDataSource().isEqualTo(i)).forEach(e=>{e.setUseSavedPromptsForExitVariables(o)})}this.getSubmitListener().onBeforeSubmit(t,i)};e.VdOrcaEntryPoint.prototype.releaseObject=function(){this.m_params=null;this.m_scenario=null;this.m_level=null;this.m_context=e.XObjectExt.release(this.m_context);this.m_storyValues=e.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_storyValues);this.m_widgetValues=e.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_widgetValues);this.m_linkTooltips=e.XObjectExt.release(this.m_linkTooltips);this.m_variablesToDisplay=e.XObjectExt.release(this.m_variablesToDisplay);e.VdOrcaFacade.prototype.releaseObject.call(this)};e.VdOrcaEntryPoint.prototype.setupController=function(){let t=e.XList.create();if(this.m_params.linkTooltips.hasElements()){let i=e.OrcaLinkVarManager.createWithController(this.m_vdController);if(this.m_params.linkVarSubmitHandling===e.OrcaLinkVarSubmitHandling.SUBMIT_LINKED_DIRECT){i.activateSubmitLinked()}else if(this.m_params.linkVarSubmitHandling===e.OrcaLinkVarSubmitHandling.SUBMIT_LINKED_RECURSIVE){i.activateSubmitAll(this.m_params.linkVarHelper)}let o=this.m_params.linkTooltips.getKeysAsIterator();while(o.hasNext()){let t=o.next();let n=this.getVariableProcessorInternal().getVariable(t);let a=this.m_params.linkage.getByKey(t);if(e.isNull(a)||a.getSecondObject().size()!==this.m_params.linkTooltips.getByKey(t).size()){i.setHasMissingLink(n)}else{i.addLinks(n,a.getSecondObject(),a.getFirstObject())}}let n=this.m_params.linkSkipSubmit.getIterator();while(n.hasNext()){let t=n.next();let o=t.getQueryManager();if(e.notNull(o)){i.setSkipSubmitOfLinkedQm(o)}}this.m_vdController.setExternalStateHandler(i);this.m_vdController.setValueHelpProcessorProvider(i);t=i.getLinkedVariableNames()}if(this.m_params.isPlanningSequence){let t=this.getAnalyticVariableProcessor();let i=e.isNull(t)?e.XHashMapByString.create():e.VdOrcaValueParser.parseJsonToStartValues(this.m_params.datasetVariables,t,this.m_linkedVariableNames);let o=e.VdOrcaPlanningSequenceHandler.create(this.m_vdController.getStateHandler(),t,i);this.m_vdController.setExternalStateHandler(o)}let i=e.VdOrcaUiHelperConfig.createConfig(this.m_scenario,this.m_level);let o=this.getVariableProcessorInternal();i.setUseBottomLevelVariables(this.getUseWidgetInitialValue());i.setStoryEditable(this.m_storyEditable);i.setReadOnly(this.m_readOnly);i.setForcePrompt(this.m_scenario===e.VdOrcaScenario.PLANNING_SEQUENCE?!!this.m_params.forcePromptExec:!!this.m_params.forcePrompt);i.setShowVariantSection(!!this.m_params.showVariantSection);i.setTopLevelUsingDynamicVariables(this.m_params.isStoryUsingDynamicVariables);i.setBottomLevelUsingDynamicVariables(this.m_params.isWidgetUsingDynamicVariables);i.setDisableExit(!!this.m_params.disableExitVariables);i.setDisableVariablePersistenceOptions(this.m_params.disableVariablePersistenceOptions);i.setInfoText(this.m_params.infoText);i.setLinkedModelsText(this.m_params.linkedModelsText);i.setCustomStoryButtonText(this.m_params.customStoryButtonText);i.setBoardRoomParentLevelText(this.m_params.datasetVariablesButtonText);i.setBoardRoomChildLevelText(this.m_params.presetVariablesButtonText);i.setWidgetLevelWarnings(this.m_params.widgetLevelWarnings);i.setLinkTooltips(this.m_linkTooltips);i.setTopLevelValues(this.m_storyValues);i.setBottomLevelValues(this.m_widgetValues);let n=o.getSession().hasFeatureByName(e.OlapUiFeatureToggle.VD_ALIGN_BW_HANA_DYNAMIC_VARIABLES);let a=o.getSession().hasFeatureByName(e.OlapUiFeatureToggle.VD_REDESIGN_PHASE2);i.setAlignBwHanaDynamicVariables(a&&n);i.setShowExitVariableSection(this.m_scenario===e.VdOrcaScenario.SCHEDULING);i.setShowDynamicVariableSection(this.m_scenario===e.VdOrcaScenario.SCHEDULING);this.setupExt(e.VdOrcaUiHelper.createUiHelper(this.m_vdController,i),t)};e.VdOrcaEntryPoint.prototype.setupEntryPoint=function(t){this.m_params=t;let i=this.getVariableProcessorInternal();let o=i.getInputEnabledAndNonTechnicalVariables();this.extractParams(o);let n=i.getApplication().getUiManager();let a=e.notNull(t.displayFactory)?t.displayFactory:e.OlapUiDisplayFactory.createFactoryForDialog(n);this.m_context=e.OlapUiContext.createContext(n,a);this.m_i18n=e.OuVariableDialogI18nLegacy.getProvider();this.m_config=e.VdConfiguration.createConfig(this.getTitle(),i);this.m_config.setStartValues(this.getStartValues());this.m_config.setDateDisplayFormat(this.m_params.dateDisplayFormat);this.m_config.setVariablesToDisplay(this.m_variablesToDisplay);this.m_config.setTextVariablesEnabled(!this.m_level.isTypeOf(e.VdOrcaLevel.WIDGET));this.m_config.setAutoSubmitOnStartup(n.getSession().getEnvironment().getBooleanByKey(e.OrcaConstants.URL_PARAM_AUTO_SUBMIT));this.m_config.setLinkedVariableNames(this.m_linkedVariableNames);this.m_config.setImplicitSubmit(!this.m_params.isPublication);this.m_config.setStartValuesJson(e.VdValueFormat.SAC,null);this.m_config.setNewSettingsEnabled(this.m_level!==e.VdOrcaLevel.FILTER&&i.getSession().hasFeatureByName(e.OlapUiFeatureToggle.VD_REDESIGN_MORE_SETTINGS));let r=this.m_level===e.VdOrcaLevel.FILTER;let l=i.getSession().hasFeatureByName(e.OlapUiFeatureToggle.VD_REDESIGN_PHASE2);let s=i.getSession().hasFeatureByName(e.OlapUiFeatureToggle.VD_REDESIGN_PHASE2_EMBEDDED);this.m_config.setSettingsPopoverEnabled(!r&&(this.m_config.isSettingsPopoverEnabled()||l));if(r){this.m_config.setGridLayoutEnabled(s);this.m_config.setMultiInputComponentEnabled(s)}else{this.m_config.setGridLayoutEnabled(this.m_config.isGridLayoutEnabled()||l);this.m_config.setMultiInputComponentEnabled(this.m_config.isMultiInputComponentEnabled()||l)}this.addDimensionDisplayInfoToConfig(this.m_config,o);let u=e.isNull(this.m_params.queryManager)||this.m_params.queryManager.getSystemType().isTypeOf(e.SystemType.ABAP);this.m_config.setUseDatePicker(u);this.m_config.hideOperatorNotBetween(!u);e.VdOrcaFacade.configureVariantManagement(i,this.m_config)};e.VdOrcaEntryPoint.prototype.submit=function(){this.m_vdController.attemptSubmit()};e.VdOrcaEntryPoint.prototype.updateValueSupplements=function(t,i,o,n,a){let r=i.getKey();if(e.notNull(r)&&!i.hasDisplayKey()&&i.getText()===null){let i=this.getItemWithSupplementsByKey(a,r);if(e.isNull(i)){i=this.getItemWithSupplementsByKey(n,r)}if(e.notNull(i)){t.setOperand(o,i)}}};e.VdOrcaEntryPoint.prototype.updateValuesSupplements=function(t,i,o){for(let n=0;n<t.size();n++){let a=t.get(n);this.updateValueSupplements(a,a.getFirstOperand(),e.VdValue.FIRST,i,o);this.updateValueSupplements(a,a.getSecondOperand(),e.VdValue.SECOND,i,o)}};e.VdOrcaEntryPoint.prototype.updateWidgetVariableValues=function(t,i){if(this.m_widgetValues.getByKey(t)===null){let o=this.m_storyValues.getByKey(t);if(e.notNull(o)){this.m_widgetValues.put(t,o)}else if(e.notNull(i)){this.m_storyValues.put(t,i);this.m_widgetValues.put(t,i)}}};e.OrcaLinkVarValueHelpIntersect=function(){};e.OrcaLinkVarValueHelpIntersect.prototype=new e.OrcaLinkVarValueHelpAbstract;e.OrcaLinkVarValueHelpIntersect.prototype._ff_c="OrcaLinkVarValueHelpIntersect";e.OrcaLinkVarValueHelpIntersect.createLink=function(t,i){let o=new e.OrcaLinkVarValueHelpIntersect;o.setupLink(t,i);return o};e.OrcaLinkVarValueHelpIntersect.prototype.compare=function(e,t){return e.size()-t.size()};e.OrcaLinkVarValueHelpIntersect.prototype.createMap=function(t){let i=e.XHashMapByString.create();let o=t.size();for(let e=0;e<o;e++){let o=t.get(e);let n=this.getMergeKeyValue(o);i.put(n,o)}return i};e.OrcaLinkVarValueHelpIntersect.prototype.getRequestedFields=function(t){return e.XCollectionUtils.singletonList(t.getDisplayKeyField())};e.OrcaLinkVarValueHelpIntersect.prototype.joinNodes=function(t,i,o){let n=e.XCollectionUtils.createListCopy(t);i.sortByComparator(this);let a=e.XList.create();for(let r=t.size()-1;r>=0;r--){let l=t.get(r);let s=this.getMergeKeyValue(l);for(let t=0;t<i.size();t++){if(t>=a.size()){a.add(this.createMap(i.get(t)))}let u=a.get(t).getByKey(s);if(e.isNull(u)){n.removeAt(r);this.removeNodeFromTree(l);if(!o){this.m_nodeRepo.remove(s)}break}this.getRepoMapping(s).add(u)}}return n};e.OrcaLinkVarValueHelpIntersect.prototype.processFetchItems=function(t,i,o,n){e.OrcaLinkVarValueHelpAbstract.prototype.processFetchItems.call(this,t,i,o,n)};e.OrcaLinkVarValueHelpIntersect.prototype.removeNodeFromTree=function(t){if(t.hasChildren()){let e=t.getChildren();for(let t=0;t<e.size();t++){e.get(0).setParentNode(null)}}let i=t.getParentNode();if(e.notNull(i)){i.removeChildNode(t)}};e.OrcaLinkVarValueHelpIntersect.prototype.requestDefaultKeyAndTextFields=function(e){return e===this.m_valueRequestObject.getDimension()};e.OrcaLinkVarValueHelpUnion=function(){};e.OrcaLinkVarValueHelpUnion.prototype=new e.OrcaLinkVarValueHelpAbstract;e.OrcaLinkVarValueHelpUnion.prototype._ff_c="OrcaLinkVarValueHelpUnion";e.OrcaLinkVarValueHelpUnion.createLink=function(t,i){let o=new e.OrcaLinkVarValueHelpUnion;o.setupLink(t,i);return o};e.OrcaLinkVarValueHelpUnion.prototype.getRequestedFields=function(e){return null};e.OrcaLinkVarValueHelpUnion.prototype.joinNodes=function(e,t,i){if(i){return this.unionSearch(e,t)}return this.union(e,t)};e.OrcaLinkVarValueHelpUnion.prototype.union=function(t,i){let o=e.XLinkedHashMapByString.create();for(let e=0;e<t.size();e++){let i=t.get(e);o.put(this.getMergeKeyValue(i),i)}for(let e=0;e<i.size();e++){let t=i.get(e);let n=t.size();for(let e=0;e<n;e++){let i=t.get(e);let n=this.getMergeKeyValue(i);if(!o.containsKey(n)){o.put(n,i);this.getRepoMapping(n).add(i)}}}let n=o.getValuesAsReadOnlyList();n.sortByComparator(e.OlapUiValueHelpNodeComparator.create(this.isHierarchicalValueHelp()));return n};e.OrcaLinkVarValueHelpUnion.prototype.unionSearch=function(t,i){let o=e.XLinkedHashMapByString.create();let n=t.size();for(let e=0;e<i.size();e++){let e=i.size();if(e>n){n=e}}for(let e=0;e<n;e++){if(e<t.size()){let i=t.get(e);o.put(this.getMergeKeyValue(i),i);continue}for(let t=0;t<i.size();t++){let n=i.get(t);if(e<n.size()){let t=n.get(e);let i=this.getMergeKeyValue(t);o.put(i,t);this.getRepoMapping(i).add(t)}}}return o.getValuesAsReadOnlyList()};e.CtDialogI18n=function(){};e.CtDialogI18n.prototype=new e.DfXLocalizationProvider;e.CtDialogI18n.prototype._ff_c="CtDialogI18n";e.CtDialogI18n.I18N_QCT_CATEGORY="I18N_QCT_CATEGORY";e.CtDialogI18n.I18N_QCT_CCTF_QUERY_DEFINITION="I18N_QCT_CCTF_QUERY_DEFINITION";e.CtDialogI18n.I18N_QCT_CURRENCY_TRANSLATION_TYPE="I18N_QCT_CURRENCY_TRANSLATION_TYPE";e.CtDialogI18n.I18N_QCT_CUSTOM="I18N_QCT_CUSTOM";e.CtDialogI18n.I18N_QCT_DEFINE_CURRENCY_TRANSLATION="I18N_QCT_DEFINE_CURRENCY_TRANSLATION";e.CtDialogI18n.I18N_QCT_DYNAMIC="I18N_QCT_DYNAMIC";e.CtDialogI18n.I18N_QCT_PROPERTIES="I18N_QCT_PROPERTIES";e.CtDialogI18n.I18N_QCT_RATE_TYPE="I18N_QCT_RATE_TYPE";e.CtDialogI18n.I18N_QCT_RATE_VERSION="I18N_QCT_RATE_VERSION";e.CtDialogI18n.I18N_QCT_REFERENCE_DATE="I18N_QCT_REFERENCE_DATE";e.CtDialogI18n.I18N_QCT_REFERENCE_DATE_BOOKING="I18N_QCT_REFERENCE_DATE_BOOKING";e.CtDialogI18n.I18N_QCT_REFERENCE_DATE_DAY="I18N_QCT_REFERENCE_DATE_DAY";e.CtDialogI18n.I18N_QCT_REFERENCE_DATE_FIXED="I18N_QCT_REFERENCE_DATE_FIXED";e.CtDialogI18n.I18N_QCT_REFERENCE_DATE_MONTH="I18N_QCT_REFERENCE_DATE_MONTH";e.CtDialogI18n.I18N_QCT_REFERENCE_DATE_QUARTER="I18N_QCT_REFERENCE_DATE_QUARTER";e.CtDialogI18n.I18N_QCT_REFERENCE_DATE_WEEK="I18N_QCT_REFERENCE_DATE_WEEK";e.CtDialogI18n.I18N_QCT_REFERENCE_DATE_YEAR="I18N_QCT_REFERENCE_DATE_YEAR";e.CtDialogI18n.I18N_QCT_TARGET_CURRENCY="I18N_QCT_TARGET_CURRENCY";e.CtDialogI18n.I18N_QCT_TECHNICAL="I18N_QCT_TECHNICAL";e.CtDialogI18n.LOCA_NAME="CtDialogI18n";e.CtDialogI18n.getLocalization=function(){return e.XLocalizationCenter.getCenter().getLocalizationProviderByName(e.CtDialogI18n.LOCA_NAME)};e.CtDialogI18n.staticSetup=function(){let t=new e.CtDialogI18n;t.setupProvider(e.CtDialogI18n.LOCA_NAME,false);t.addText(e.CtDialogI18n.I18N_QCT_DEFINE_CURRENCY_TRANSLATION,"Define Currency Translation");t.addText(e.CtDialogI18n.I18N_QCT_CURRENCY_TRANSLATION_TYPE,"Currency Translation Type");t.addText(e.CtDialogI18n.I18N_QCT_TARGET_CURRENCY,"Target Currency");t.addText(e.CtDialogI18n.I18N_QCT_CCTF_QUERY_DEFINITION,"Consider Currency Translation from Query Definition");t.addText(e.CtDialogI18n.I18N_QCT_REFERENCE_DATE,"Reference Date");t.addText(e.CtDialogI18n.I18N_QCT_REFERENCE_DATE_BOOKING,"Booking Date");t.addText(e.CtDialogI18n.I18N_QCT_REFERENCE_DATE_FIXED,"Fixed Date");t.addText(e.CtDialogI18n.I18N_QCT_REFERENCE_DATE_DAY,"Day(s)");t.addText(e.CtDialogI18n.I18N_QCT_REFERENCE_DATE_WEEK,"Week(s)");t.addText(e.CtDialogI18n.I18N_QCT_REFERENCE_DATE_MONTH,"Month(s)");t.addText(e.CtDialogI18n.I18N_QCT_REFERENCE_DATE_QUARTER,"Quarter(s)");t.addText(e.CtDialogI18n.I18N_QCT_REFERENCE_DATE_YEAR,"Year(s)");t.addText(e.CtDialogI18n.I18N_QCT_RATE_TYPE,"Rate Type");t.addText(e.CtDialogI18n.I18N_QCT_RATE_VERSION,"Rate Version");t.addText(e.CtDialogI18n.I18N_QCT_CATEGORY,"Category");t.addText(e.CtDialogI18n.I18N_QCT_DYNAMIC,"Dynamic");t.addText(e.CtDialogI18n.I18N_QCT_CUSTOM,"Custom");t.addText(e.CtDialogI18n.I18N_QCT_PROPERTIES,"Properties");t.addText(e.CtDialogI18n.I18N_QCT_TECHNICAL,"Show Technical Names");return t};e.OuDataProviderCreatorI18n=function(){};e.OuDataProviderCreatorI18n.prototype=new e.DfXLocalizationProvider;e.OuDataProviderCreatorI18n.prototype._ff_c="OuDataProviderCreatorI18n";e.OuDataProviderCreatorI18n.ADDED_TO_DP_POOL_SUCCESS="FF_DATA_PROVIDER_DIALOG_ADDED_TO_DP_POOL_SUCCESS";e.OuDataProviderCreatorI18n.ADDED_TO_SHARED_SPACE_SUCCESS="FF_DATA_PROVIDER_DIALOG_ADDED_TO_SHARED_SPACE_SUCCESS";e.OuDataProviderCreatorI18n.ADD_TO_DP_POOL="FF_DATA_PROVIDER_DIALOG_ADD_TO_DP_POOL";e.OuDataProviderCreatorI18n.ADD_TO_SHARED_SPACE="FF_DATA_PROVIDER_DIALOG_ADD_TO_SHARED_SPACE";e.OuDataProviderCreatorI18n.DATA_SOURCE_LABEL="FF_DATA_PROVIDER_DIALOG_DATA_SOURCE";e.OuDataProviderCreatorI18n.DP_NAME="FF_DATA_PROVIDER_DIALOG_DP_NAME";e.OuDataProviderCreatorI18n.DP_NAME_ALREADY_EXISTS_IN_DP_POOL="FF_DATA_PROVIDER_DIALOG_DP_NAME_ALREADY_EXISTS_IN_DP_POOL";e.OuDataProviderCreatorI18n.DP_NAME_ALREADY_EXISTS_IN_SHARED_SPACE="FF_DATA_PROVIDER_DIALOG_DP_NAME_ALREADY_EXISTS_IN_SHARED_SPACE";e.OuDataProviderCreatorI18n.DP_POOL_NOT_FOUND="FF_DATA_PROVIDER_DIALOG_DP_POOL_NOT_FOUND";e.OuDataProviderCreatorI18n.MESSAGES="FF_DATA_PROVIDER_DIALOG_MESSAGES";e.OuDataProviderCreatorI18n.SELECT="FF_DATA_PROVIDER_DIALOG_SELECT";e.OuDataProviderCreatorI18n.SHARED_SPACE_NOT_FOUND="FF_DATA_PROVIDER_DIALOG_SHARED_SPACE_NOT_FOUND";e.OuDataProviderCreatorI18n.TITLE="FF_DATA_PROVIDER_DIALOG_TITLE";e.OuDataProviderCreatorI18n.staticSetup=function(){let t=new e.OuDataProviderCreatorI18n;t.setupProvider(e.OuDataProviderCreator.DEFAULT_PROGRAM_NAME,true);t.addText(e.OuDataProviderCreatorI18n.TITLE,"Create Data Provider");t.addComment(e.OuDataProviderCreatorI18n.TITLE,"#XTIT: Title of Data Provider creation program");t.addText(e.OuDataProviderCreatorI18n.DATA_SOURCE_LABEL,"Data Source: ");t.addComment(e.OuDataProviderCreatorI18n.DATA_SOURCE_LABEL,"#XFLD: Label displayed beside select data source button");t.addText(e.OuDataProviderCreatorI18n.SELECT,"Select");t.addComment(e.OuDataProviderCreatorI18n.SELECT,"#XBUT: Text displayed on Data source selection button");t.addText(e.OuDataProviderCreatorI18n.MESSAGES,"Messages");t.addComment(e.OuDataProviderCreatorI18n.MESSAGES,"#XTIT: Title for messages view");t.addText(e.OuDataProviderCreatorI18n.DP_NAME,"Data Provider name");t.addComment(e.OuDataProviderCreatorI18n.DP_NAME,"#XFLD: Label displayed beside data provider name input");t.addText(e.OuDataProviderCreatorI18n.ADD_TO_SHARED_SPACE,"Add to Shared Data Space");t.addComment(e.OuDataProviderCreatorI18n.ADD_TO_SHARED_SPACE,"#XCKL: Label for 'Add to shared Data Space' checkbox");t.addText(e.OuDataProviderCreatorI18n.ADD_TO_DP_POOL,"Add to Data Provider Pool");t.addComment(e.OuDataProviderCreatorI18n.ADD_TO_DP_POOL,"#XCKL: Label for 'Add to Data Provider Pool' checkbox");t.addText(e.OuDataProviderCreatorI18n.ADDED_TO_SHARED_SPACE_SUCCESS,"Data provider added to Shared Data Space.");t.addComment(e.OuDataProviderCreatorI18n.ADDED_TO_SHARED_SPACE_SUCCESS,"#XMSG: Success message shown when data provider is added to shared data space");t.addText(e.OuDataProviderCreatorI18n.DP_NAME_ALREADY_EXISTS_IN_SHARED_SPACE,"Data provider name already exists in Shared Data Space.");t.addComment(e.OuDataProviderCreatorI18n.DP_NAME_ALREADY_EXISTS_IN_SHARED_SPACE,"#XMSG: Error message shown when data provider name already exists");t.addText(e.OuDataProviderCreatorI18n.SHARED_SPACE_NOT_FOUND,"Shared Data Space not found. Failed to add Data provider.");t.addComment(e.OuDataProviderCreatorI18n.SHARED_SPACE_NOT_FOUND,"#XMSG: Error message shown when shared data space is not available");t.addText(e.OuDataProviderCreatorI18n.ADDED_TO_DP_POOL_SUCCESS,"Data provider added to Data Provider Pool.");t.addComment(e.OuDataProviderCreatorI18n.ADDED_TO_DP_POOL_SUCCESS,"#XMSG: Success message shown when data provider is added to data provider pool");t.addText(e.OuDataProviderCreatorI18n.DP_NAME_ALREADY_EXISTS_IN_DP_POOL,"Data provider name already exists in Data Provider Pool.");t.addComment(e.OuDataProviderCreatorI18n.DP_NAME_ALREADY_EXISTS_IN_DP_POOL,"#XMSG: Error message shown when data provider name already exists in pool");t.addText(e.OuDataProviderCreatorI18n.DP_POOL_NOT_FOUND,"Data Provider Pool not found. Failed to add Data provider.");t.addComment(e.OuDataProviderCreatorI18n.DP_POOL_NOT_FOUND,"#XMSG: Error message shown when data provider pool is not available");return t};e.OuQueryController=function(){};e.OuQueryController.prototype=new e.XObject;e.OuQueryController.prototype._ff_c="OuQueryController";e.OuQueryController.EXTERNAL_QM_IDENTIFIER="gdsQbExternalQm";e.OuQueryController.EXTERNAL_QM_IDENTIFIER_OBJ=null;e.OuQueryController.FIRST_QM_IDENTIFIER_OBJ=null;e.OuQueryController.FIRST_TRIGGER_IDENTIFIER="gdsQbFirstTrigger";e.OuQueryController.INTERNAL_QM_IDENTIFIER_OBJ=null;e.OuQueryController.INTERNAL_TRIGGER_IDENTIFIER="gdsQbInternalTrigger";e.OuQueryController.PAGING_ACTION_ID="pagingAction";e.OuQueryController.PAGING_ACTION_IDENTIFIER_OBJ=null;e.OuQueryController.UNDO_REDO_ACTION_ID="undoRedoActionTrigger";e.OuQueryController.UNDO_REDO_ACTION_IDENTIFIER_OBJ=null;e.OuQueryController.create=function(t){let i=new e.OuQueryController;i.setupQueryController(t);return i};e.OuQueryController.staticSetup=function(){e.OuQueryController.EXTERNAL_QM_IDENTIFIER_OBJ=e.XStringValue.create(e.OuQueryController.EXTERNAL_QM_IDENTIFIER);e.OuQueryController.FIRST_QM_IDENTIFIER_OBJ=e.XStringValue.create(e.OuQueryController.FIRST_TRIGGER_IDENTIFIER);e.OuQueryController.INTERNAL_QM_IDENTIFIER_OBJ=e.XStringValue.create(e.OuQueryController.INTERNAL_TRIGGER_IDENTIFIER);e.OuQueryController.UNDO_REDO_ACTION_IDENTIFIER_OBJ=e.XStringValue.create(e.OuQueryController.UNDO_REDO_ACTION_ID);e.OuQueryController.PAGING_ACTION_IDENTIFIER_OBJ=e.XStringValue.create(e.OuQueryController.PAGING_ACTION_ID)};e.OuQueryController.prototype.m_activeResultSetContainer=null;e.OuQueryController.prototype.m_application=null;e.OuQueryController.prototype.m_autoSubmit=false;e.OuQueryController.prototype.m_backendRequestFinishedProcedure=null;e.OuQueryController.prototype.m_backendRequestStartedProcedure=null;e.OuQueryController.prototype.m_busyStateChangedConsumer=null;e.OuQueryController.prototype.m_canceledUpdate=false;e.OuQueryController.prototype.m_clientInfo=null;e.OuQueryController.prototype.m_clientInfoEnabled=false;e.OuQueryController.prototype.m_columnsWindowFactor=0;e.OuQueryController.prototype.m_columnsWindowSize=0;e.OuQueryController.prototype.m_controllerResetProcedure=null;e.OuQueryController.prototype.m_criticalErrorConsumer=null;e.OuQueryController.prototype.m_dataProvider=null;e.OuQueryController.prototype.m_defaultQueryManagerSettings=null;e.OuQueryController.prototype.m_disableExitVariables=false;e.OuQueryController.prototype.m_enableResultSetCache=false;e.OuQueryController.prototype.m_forceInitialVariableDialog=false;e.OuQueryController.prototype.m_forceRepoFormat=false;e.OuQueryController.prototype.m_horizontalLazyLoad=false;e.OuQueryController.prototype.m_implicitVariableHandling=false;e.OuQueryController.prototype.m_inaRepoJson=null;e.OuQueryController.prototype.m_initialDataSourceText=null;e.OuQueryController.prototype.m_initialFilters=null;e.OuQueryController.prototype.m_initialVariableDialogWasOpened=false;e.OuQueryController.prototype.m_initialVariables=null;e.OuQueryController.prototype.m_isBusy=false;e.OuQueryController.prototype.m_isExternalDataProvider=false;e.OuQueryController.prototype.m_isExternalQueryManager=false;e.OuQueryController.prototype.m_isInitialVariableSubmitDone=false;e.OuQueryController.prototype.m_isQueryManagerSetupFinished=false;e.OuQueryController.prototype.m_isResetAction=false;e.OuQueryController.prototype.m_maxColumnsLoad=0;e.OuQueryController.prototype.m_maxColumnsWindowSize=0;e.OuQueryController.prototype.m_maxRowsLoad=0;e.OuQueryController.prototype.m_maxRowsWindowSize=0;e.OuQueryController.prototype.m_messageConsumer=null;e.OuQueryController.prototype.m_messageManager=null;e.OuQueryController.prototype.m_modelJson=null;e.OuQueryController.prototype.m_newDataProviderReadyConsumer=null;e.OuQueryController.prototype.m_oldDataProviderToRelease=null;e.OuQueryController.prototype.m_overrideAutoSubmitOnStartup=false;e.OuQueryController.prototype.m_pendingResultUpdates=null;e.OuQueryController.prototype.m_pendingUpdates=false;e.OuQueryController.prototype.m_queryManager=null;e.OuQueryController.prototype.m_queryModelDefaultTextsApplicator=null;e.OuQueryController.prototype.m_queryStateChanged=null;e.OuQueryController.prototype.m_renderingPauseEndListeners=null;e.OuQueryController.prototype.m_rescheduled=false;e.OuQueryController.prototype.m_responseOverrideTexts=null;e.OuQueryController.prototype.m_resultEmptyListeners=null;e.OuQueryController.prototype.m_resultReadyListeners=null;e.OuQueryController.prototype.m_rowsWindowFactor=0;e.OuQueryController.prototype.m_rowsWindowSize=0;e.OuQueryController.prototype.m_setupInterruptedConsumer=null;e.OuQueryController.prototype.m_setupStepChangedConsumer=null;e.OuQueryController.prototype.m_status=null;e.OuQueryController.prototype.m_statusChangedConsumer=null;e.OuQueryController.prototype.m_statusMessage=null;e.OuQueryController.prototype.m_timeoutReschedule=null;e.OuQueryController.prototype.m_timeoutResultSet=null;e.OuQueryController.prototype.m_undoRedoCorrelationId=null;e.OuQueryController.prototype.m_updatesPaused=false;e.OuQueryController.prototype.m_useDpAutoFetch=false;e.OuQueryController.prototype.m_variableDialog=null;e.OuQueryController.prototype.m_variableDialogConfigSupplier=null;e.OuQueryController.prototype._getDefaultQueryManagerSettings=function(){return this.m_defaultQueryManagerSettings};e.OuQueryController.prototype._hasBWResourceConstraintsError=function(){return e.XStream.of(this.m_messageManager.getMessages()).find(t=>t.getCode()===e.ErrorCodes.BW_RESOURCE_CONSTRAINTS).isPresent()};e.OuQueryController.prototype._hasInaRepoJson=function(){return e.notNull(this.m_inaRepoJson)};e.OuQueryController.prototype._hasModelJson=function(){return e.notNull(this.m_modelJson)};e.OuQueryController.prototype._hasPendingResultSetUpdates=function(){return e.notNull(this.m_pendingResultUpdates)};e.OuQueryController.prototype._isAutoSubmitEffective=function(){if(!this.m_autoSubmit||this.getQueryManager()===null){return false}return this.getQueryManager().getModelCapabilities().supportsAutoVariableSubmit()||this.m_queryManager.isDirectVariableTransferEnabled()};e.OuQueryController.prototype._isExternalQm=function(){return this.m_isExternalQueryManager||this.m_isExternalDataProvider};e.OuQueryController.prototype._isInitialTile=function(t){return e.isNull(t)||t.getColumnMin()===0&&t.getRowMin()===0};e.OuQueryController.prototype._isRriJumpTarget=function(){let t=false;if(e.XObjectExt.isValidObject(this.m_queryManager)){let i=this.m_queryManager.getDataSource();t=e.XStringUtils.isNotNullAndNotEmpty(i.getRriName())&&e.XStringUtils.isNotNullAndNotEmpty(i.getRriValue())}return t};e.OuQueryController.prototype._notifyBackendRequestFinished=function(){if(e.notNull(this.m_backendRequestFinishedProcedure)){this.m_backendRequestFinishedProcedure()}};e.OuQueryController.prototype._notifyBackendRequestStarted=function(){if(e.notNull(this.m_backendRequestStartedProcedure)){this.m_backendRequestStartedProcedure()}};e.OuQueryController.prototype._notifyBusyStateChanged=function(){if(e.notNull(this.m_busyStateChangedConsumer)){this.m_busyStateChangedConsumer(this)}};e.OuQueryController.prototype._notifyControllerReset=function(){if(e.notNull(this.m_controllerResetProcedure)){this.m_controllerResetProcedure()}};e.OuQueryController.prototype._notifyCriticalError=function(t){if(e.notNull(this.m_criticalErrorConsumer)){this.m_criticalErrorConsumer(t)}};e.OuQueryController.prototype._notifyMessage=function(t,i){if(e.notNull(this.m_messageConsumer)){this.m_messageConsumer(t,i)}};e.OuQueryController.prototype._notifyNewDataProviderReady=function(){if(e.notNull(this.m_newDataProviderReadyConsumer)){this.m_newDataProviderReadyConsumer(this.getDataProvider())}};e.OuQueryController.prototype._notifyQueryStateChanged=function(){if(e.notNull(this.m_queryStateChanged)){this.m_queryStateChanged(this.getQueryManager())}};e.OuQueryController.prototype._notifyRenderingPauseEnd=function(){e.XStream.of(this.m_renderingPauseEndListeners).forEach(e=>{e.onRenderingPauseEnd()})};e.OuQueryController.prototype._notifyResultEmpty=function(){e.XStream.of(this.m_resultEmptyListeners).forEach(e=>{e.onResultEmpty()})};e.OuQueryController.prototype._notifyResultReady=function(){e.XStream.of(this.m_resultReadyListeners).forEach(e=>{e.onResultReady()})};e.OuQueryController.prototype._notifySetupInterrupt=function(t){if(e.notNull(this.m_setupInterruptedConsumer)){this.m_setupInterruptedConsumer(t)}};e.OuQueryController.prototype._notifySetupStepChanged=function(t){if(e.notNull(this.m_setupStepChangedConsumer)){this.m_setupStepChangedConsumer(t)}};e.OuQueryController.prototype._notifyStatusChanged=function(t,i){if(e.notNull(this.m_statusChangedConsumer)){this.m_statusChangedConsumer(t,i)}};e.OuQueryController.prototype._processOnFirstQueryExecutedInternal=function(){if(this._isAutoSubmitEffective()&&!this.m_isInitialVariableSubmitDone){this.m_isInitialVariableSubmitDone=true;this._notifySetupStepChanged(e.OuQueryControllerSetupStep.INITIAL_VARIABLE_SUBMIT_DONE)}};e.OuQueryController.prototype._processOnGridCollectorFilledInternal=function(t,i,o){this._setBusyState(false);if(i!==e.OuQueryController.PAGING_ACTION_IDENTIFIER_OBJ&&this._isInitialTile(t.getData())){if(i!==e.OuQueryController.UNDO_REDO_ACTION_IDENTIFIER_OBJ){this.getApplication().getProcess().notifyInterruptStepEnd()}if(t.hasErrors()){if(!this.m_canceledUpdate&&!o){this.m_messageManager.addAllMessages(t);this._notifyResultEmpty();this._setStatus(e.OuQueryControllerStatus.SYNC_ERROR,null)}else{this._notifyResultReady()}if(this.getQueryManager().getConvenienceCommands().getOffsetRows()===0){this._notifyQueryStateChanged()}}else{this._notifyResultReady();if(this.getQueryManager().getConvenienceCommands().getOffsetRows()===0){this._notifyQueryStateChanged()}this._setStatus(e.OuQueryControllerStatus.IN_SYNC,null)}}else if(i!==e.OuQueryController.PAGING_ACTION_IDENTIFIER_OBJ&&!t.hasErrors()){this._setStatus(e.OuQueryControllerStatus.IN_SYNC,null)}if(!this.m_useDpAutoFetch){let i=this.m_dataProvider.getEventing().getEmitterForResultDataFetch().newTypedEvent();i.addMessages(t);i.setStep(e.OuDataProviderResultDataFetchStep.ALL_DONE);i.queue()}this.m_pendingUpdates=false;this.m_canceledUpdate=false};e.OuQueryController.prototype._processOnQueryExecutedInternal=function(t,i,o){this.setVariablesWinControl(false);this._notifyBackendRequestFinished();this.m_activeResultSetContainer=null;if(o===e.OuQueryController.EXTERNAL_QM_IDENTIFIER_OBJ){this.m_rescheduled=false;this.m_canceledUpdate=false;this.getQueryModel().getVisualizationManager().getGridCollector().processExecution(e.SyncType.NON_BLOCKING,this,this,this.getUniqueExecutionIdentifier())}if(!t.hasErrors()){if(i.getSyncState().isInSync()&&!i.hasErrors()){let t=i.getCursorResultSet();let o=t.getState();if(!o.hasData()){if(!this.m_canceledUpdate){this._notifyResultEmpty();if(o===e.ResultSetState.INVALID_VARIABLE_VALUES){this._notifyMessage(e.OuQueryControllerMessage.INVALID_VARIABLE_VALUES,null)}}}}}if(!this.m_useDpAutoFetch){let i=this.m_dataProvider.getEventing().getEmitterForResultDataFetch().newTypedEvent();i.addMessages(t);i.setStep(e.OuDataProviderResultDataFetchStep.QUERY_EXECUTED);i.queue()}};e.OuQueryController.prototype._setAutoUpdatesEnabledInternal=function(e){if(this.m_useDpAutoFetch){this.m_dataProvider.getResulting().setAutoFetchActive(e,null);return}this.m_updatesPaused=!e;if(!this.m_updatesPaused){if(this.m_pendingUpdates){this._setBusyState(true);this.refreshDataSource()}else{this._notifyQueryStateChanged();this._notifyRenderingPauseEnd()}this.m_pendingUpdates=false}else{this.cancelProcessing();this._notifyQueryStateChanged()}};e.OuQueryController.prototype._setBusyState=function(e){let t=this.m_isBusy!==e;this.m_isBusy=e;if(t){this._notifyBusyStateChanged()}};e.OuQueryController.prototype._setSetupFinished=function(){this._setStatus(e.OuQueryControllerStatus.NOT_IN_SYNC,null);this.m_isQueryManagerSetupFinished=true};e.OuQueryController.prototype._setSetupStarted=function(){this._setStatus(e.OuQueryControllerStatus.SETUP_IN_PROGRESS,null);this.m_isQueryManagerSetupFinished=false;this.m_isInitialVariableSubmitDone=false};e.OuQueryController.prototype._setStatus=function(e,t){let i=this.m_status!==e;this.m_status=e;this.m_statusMessage=t;if(i){this._notifyStatusChanged(e,t)}};e.OuQueryController.prototype._updateQueryResultSetExt=function(t){if(this.m_useDpAutoFetch){if(t){this.getDataProvider().getResulting().fetchNewResultSet(null)}return}if(this.getQueryManager()===null){this._setStatus(e.OuQueryControllerStatus.STATE_ERROR,null);this._notifyCriticalError(e.OuQueryControllerCriticalErrorType.MISSING_QUERY_MANAGER);return}e.XTimeout.clear(this.m_timeoutResultSet);this.m_timeoutResultSet=e.XTimeout.timeout(30,()=>{if(!this.m_updatesPaused||t){this._setStatus(e.OuQueryControllerStatus.SYNC_IN_PROGRESS,null);this.m_pendingUpdates=false;this._setBusyState(true);if((this.isSyncActionProcessing()||this._hasPendingResultSetUpdates())&&!this.m_rescheduled){this.rescheduleTableUpdate()}else{this.m_rescheduled=false;this.m_canceledUpdate=false;this.getQueryModel().getVisualizationManager().getSynchronizedGridCollector().processExecution(e.SyncType.NON_BLOCKING,this,this,this.getUniqueExecutionIdentifier())}}else{this._setStatus(e.OuQueryControllerStatus.NOT_IN_SYNC,null);this.m_pendingUpdates=true}})};e.OuQueryController.prototype.activateUdhKeyIfPossible=function(t){if(e.notNull(t)&&!t.isReleased()){t.setRequestUdhKey(true)}};e.OuQueryController.prototype.applyFilterFromVariables=function(t){let i=this.getQueryModel();let o=i.getFilter().getDynamicFilter();let n=t.getKeysAsIterator();while(n.hasNext()){let a=n.next();let r=t.getByKey(a);let l=i.getDimensionByName(a);let s=o.getCartesianListWithDefault(l);s.deserializeFromElementExt(e.QModelFormat.INA_REPOSITORY,r.serializeToElement(e.QModelFormat.INA_REPOSITORY))}};e.OuQueryController.prototype.applyGeneralSetting=function(t){this.applyUnitPositionSettings(t.getConvenienceCommands());this.setDefaultPagingValues();let i=t.getQueryModel().getVisualizationManager().getApplicationSettings();i.setUserProfile(this.getProcess().getUserProfile());i.setMaxRows(this.getMaxRowsLoad());i.setMaxColumns(this.getEffectiveMaxColumnsLoad());i.setMinRowsFetch(this.getDefaultRowsWindowSize());i.setMinColumnsFetch(this.getDefaultColumnsWindowSize());i.setSupportCommentDocuments(this._getDefaultQueryManagerSettings()!==null&&this._getDefaultQueryManagerSettings().isLoadCommentingDocuments());i.setDerivePercentageFromShift(this.getQueryManager().getSystemType().isTypeOf(e.SystemType.HANA));e.XCollectionUtils.forEach(this.m_responseOverrideTexts.getKeysAsReadOnlyList(),e=>{i.putOverwriteText(e,this.m_responseOverrideTexts.getByKey(e))})};e.OuQueryController.prototype.applyInitialDataSourceText=function(){if(e.notNull(this.m_initialDataSourceText)){this.setDataSourceText(this.m_initialDataSourceText);this.m_initialDataSourceText=null}};e.OuQueryController.prototype.applyInitialFilters=function(){if(e.notNull(this.m_initialFilters)&&!this.m_initialFilters.isEmpty()){this.setFilters(this.m_initialFilters);this.m_initialFilters=null}};e.OuQueryController.prototype.applyInitialPresentationAttributes=function(){let t=this.getQueryManager();if(e.notNull(t)){let i=t.getConvenienceCommands();let o=t.getSystemType().isTypeOf(e.SystemType.BW);if(o&&this._getDefaultQueryManagerSettings()!==null&&this._getDefaultQueryManagerSettings().isSetupBwDefaultKeyTypes()){let e=t.getDimensionAccessor().getDimensions();for(let t=0;t<e.size();t++){let o=e.get(t);i.refreshFieldContainerDisplayForDimension(o.getName(),null)}}}};e.OuQueryController.prototype.applyInitialVariables=function(){if(!this._isExternalQm()&&e.notNull(this.m_initialVariables)&&!this.m_initialVariables.isEmpty()){this.setVariables(this.m_initialVariables);this.m_initialVariables=null}};e.OuQueryController.prototype.applyUnitPositionSettings=function(t){if(t.getModelCapabilities().supportsUniqueAxisProperties()){let i=t.getQueryModel();let o=i.getReturnedUniqueAxisProperties();let n=i.isLeadingStructureAccount()?i.getAccountDimension():i.getMeasureDimension();if(e.notNull(o)&&!e.XCollectionUtils.hasElements(o.getRowProperties())&&!e.XCollectionUtils.hasElements(o.getColumnProperties())&&e.notNull(n)){t.toggleUniqueAxisProperties(null,e.UniqueAxisPropertyType.UNIT_INDEX,true);t.toggleUniqueAxisProperties(null,e.UniqueAxisPropertyType.NUMERIC_SHIFT,true);t.toggleUniqueAxisProperties(null,e.UniqueAxisPropertyType.CELL_VALUE_TYPES,true)}}};e.OuQueryController.prototype.cancelPendingUpdates=function(){if(e.notNull(this.m_pendingResultUpdates)){try{this.m_pendingResultUpdates.cancelSynchronization()}catch(t){e.XLogger.println(e.XException.getStackTrace(t,0))}this.m_pendingResultUpdates=null}};e.OuQueryController.prototype.cancelProcessing=function(){this.cancelPendingUpdates();this._setBusyState(false)};e.OuQueryController.prototype.checkConsistencyForNewQueryManager=function(t){if(e.notNull(t)&&t.getQueryModel()!==null&&t.getQueryModel().getMeasureDimension()===null){this._notifyMessage(e.OuQueryControllerMessage.QUERY_DOES_NOT_CONTAIN_MEASURES,null)}};e.OuQueryController.prototype.clearSuperfluousFilters=function(t){for(let i=t.size()-1;i>-1;i--){let o=t.getCartesianChild(i);let n=o.getDimension();let a=n.getVirtualRootNodeName();if(e.XCollectionUtils.size(o)===1&&e.XStringUtils.isNotNullAndNotEmpty(a)&&e.XString.isEqual(a,o.getCartesianElement(0).getLow().getString())){t.removeAt(i)}}};e.OuQueryController.prototype.continueQueryManagerFinalization=function(){if(!this._isExternalQm()){this.applyInitialPresentationAttributes();this.applyInitialFilters();this.applyInitialDataSourceText()}this.ensureReadOnly(this.getQueryManager());let t=this.getQueryManager().getQueryModel();t.getFilter().setConvertFiltersToFlatOnHierarchyChange(true);this._setSetupFinished();this.m_forceInitialVariableDialog=false;this._notifyNewDataProviderReady();this.m_dataProvider.getResulting().setAutoFetchActiveWithoutNewResult(this.m_useDpAutoFetch,null);if(e.notNull(this.m_oldDataProviderToRelease)&&!this.m_oldDataProviderToRelease.isReleased()){let e=this.m_dataProvider.getQueryManager()!==this.m_oldDataProviderToRelease.getQueryManager();this.m_oldDataProviderToRelease.getActions().getLifecycleActions().killDataProvider(e);this.m_oldDataProviderToRelease=null}};e.OuQueryController.prototype.createDataProviderForExistingQueryManager=function(t){let i=e.OuDataProviderConfiguration.createConfig(t.getApplication(),t.getDataSource());i.setDataProviderName(e.XStringUtils.concatenate2("DataAnalyzerProvider-",e.XGuid.getGuid()));i.setStartWithAutoFetch(false);return e.OuDataProviderFactory.createDataProviderFromQueryManager(t,i)};e.OuQueryController.prototype.deRegisterRenderingPauseEndListener=function(e){this.m_renderingPauseEndListeners.removeElement(e)};e.OuQueryController.prototype.deRegisterResultEmptyListener=function(e){this.m_resultEmptyListeners.removeElement(e)};e.OuQueryController.prototype.deRegisterResultReadyListener=function(e){this.m_resultReadyListeners.removeElement(e)};e.OuQueryController.prototype.enableClientInfo=function(){this.m_clientInfoEnabled=true};e.OuQueryController.prototype.ensureReadOnly=function(e){if(e.isDataEntryEnabled()){e.setDataEntryReadOnly(true)}};e.OuQueryController.prototype.executeRedo=function(){this._setBusyState(true);e.XTimeout.timeout(30,()=>{this._setStatus(e.OuQueryControllerStatus.SYNC_IN_PROGRESS,null);this._notifyBackendRequestStarted();this.m_activeResultSetContainer=this.getQueryManager().getActiveResultSetContainer();this.getApplication().getUndoManager().processRedo(e.SyncType.NON_BLOCKING,this,null)})};e.OuQueryController.prototype.executeUndo=function(){this._setBusyState(true);e.XTimeout.timeout(30,()=>{this._setStatus(e.OuQueryControllerStatus.SYNC_IN_PROGRESS,null);this._notifyBackendRequestStarted();this.m_activeResultSetContainer=this.getQueryManager().getActiveResultSetContainer();this.getApplication().getUndoManager().processUndo(e.SyncType.NON_BLOCKING,this,null)})};e.OuQueryController.prototype.finalizeQueryManagerSetup=function(){this.simplifyDynamicFilter();this.updateMeasureBasedFilters();let t=this.getQueryModel();let i=t.getConvenienceCommands();let o=t.getAccountDimension();if(e.notNull(o)){i.refreshFieldContainerDisplayForDimension(o.getName(),null)}let n=t.getVersionDimension();if(e.notNull(n)){i.refreshFieldContainerDisplayForDimension(n.getName(),null)}let a=this._getDefaultQueryManagerSettings();if(e.notNull(a)&&a.isSetSynchronizedAxisReadModes()){t.getRowsAxis().setReadModeAndSuppressionSynchronized(true);t.getColumnsAxis().setReadModeAndSuppressionSynchronized(true)}let r=this.getQueryModel().getDatasetEpmObject();let l=this.m_queryManager.getDataSource();if(!this._isExternalQm()&&l.getType()===e.MetaObjectType.PLANNING&&this.getQueryModel().getVersionDimension()!==null&&e.notNull(r)&&t.getPlanningMode()!==null&&t.getPlanningMode()!==e.PlanningMode.DISABLE_PLANNING){this.setupPlanning(l,r)}else{this.continueQueryManagerFinalization()}this.m_inaRepoJson=null};e.OuQueryController.prototype.getApplication=function(){return this.m_application};e.OuQueryController.prototype.getClientInfo=function(){return this.m_clientInfo};e.OuQueryController.prototype.getColumnsMaxLoad=function(){return this.m_maxColumnsLoad};e.OuQueryController.prototype.getColumnsWindowFactor=function(){return this.m_columnsWindowFactor};e.OuQueryController.prototype.getColumnsWindowSize=function(){return this.m_columnsWindowSize};e.OuQueryController.prototype.getDataProvider=function(){return this.m_dataProvider};e.OuQueryController.prototype.getDefaultColumnsWindowSize=function(){return e.XMath.min(this.m_maxColumnsWindowSize,this.m_columnsWindowSize*this.m_columnsWindowFactor)};e.OuQueryController.prototype.getDefaultRowsWindowSize=function(){return e.XMath.min(this.m_maxRowsWindowSize,this.m_rowsWindowSize*this.m_rowsWindowFactor)};e.OuQueryController.prototype.getDimensionMemberExitVariablesForFilters=function(){let t=this.getQueryManager();return e.XStream.of(t.getVariables()).filter(t=>{if(t.isTechnicalVariable()||!t.getVariableType().isTypeOf(e.VariableType.DIMENSION_MEMBER_VARIABLE)){return false}let i=t;return i.isEnforcedDynamicValue()&&i.isUsedInDynamicFilter()||!i.isInputEnabled()}).map(e=>e).collect(e.XStreamCollector.toList())};e.OuQueryController.prototype.getEffectiveMaxColumnsLoad=function(){return this.m_horizontalLazyLoad?this.getMaxColumnsLoad():this.getDefaultColumnsWindowSize()};e.OuQueryController.prototype.getExitAndDynamicVariableUpdatePromise=function(){return e.XPromise.create((t,i)=>{if(this.m_disableExitVariables){t(null);return}this.getQueryManager().resetExitOrUpdateDynamicVariable(e.SyncType.NON_BLOCKING,e.OuQueryExecutionListenerLambda.createSingleUse(e=>{t(null)}),null,true)})};e.OuQueryController.prototype.getInputEnabledVarsUsedInFilter=function(){let t=this.getQueryManager();return e.XStream.of(t.getInputEnabledAndNonTechnicalVariables()).filter(t=>{if(!t.getVariableType().isTypeOf(e.VariableType.DIMENSION_MEMBER_VARIABLE)){return false}let i=t;return i.isUsedInDynamicFilter()}).map(e=>e).collect(e.XStreamCollector.toList())};e.OuQueryController.prototype.getMaxColumnsLoad=function(){return this.m_maxColumnsLoad};e.OuQueryController.prototype.getMaxColumnsWindowSize=function(){return this.m_maxColumnsWindowSize};e.OuQueryController.prototype.getMaxRowsLoad=function(){return this.m_maxRowsLoad};e.OuQueryController.prototype.getMaxRowsWindowSize=function(){return this.m_maxRowsWindowSize};e.OuQueryController.prototype.getMessageManager=function(){return this.m_messageManager};e.OuQueryController.prototype.getProcess=function(){let t=this.getApplication();return e.isNull(t)?null:t.getProcess()};e.OuQueryController.prototype.getQueryManager=function(){return this.m_queryManager};e.OuQueryController.prototype.getQueryModel=function(){return this.m_queryManager.getQueryModel()};e.OuQueryController.prototype.getQueryName=function(){let t=null;if(this.getQueryManager()!==null){let i=this.getQueryManager().getQueryModel();if(e.notNull(i)){t=i.getText();if(e.XStringUtils.isNullOrEmpty(t)){t=i.getDataSource().getName();if(e.XStringUtils.isNullOrEmpty(t)){t=i.getName()}}}if(e.XStringUtils.isNullOrEmpty(t)){t=this.getQueryManager().getDataSource().getName()}}if(e.XStringUtils.isNullOrEmpty(t)){t="Unknown Query"}return t};e.OuQueryController.prototype.getRelevantFiltersFromVariables=function(){if(this.m_disableExitVariables&&!this.m_initialVariableDialogWasOpened){return e.XHashMapByString.create()}let t=e.XList.create();if(this.m_initialVariableDialogWasOpened){e.XCollectionUtils.addAllIfNotPresent(t,this.getInputEnabledVarsUsedInFilter())}if(!this.m_disableExitVariables){e.XCollectionUtils.addAllIfNotPresent(t,this.getDimensionMemberExitVariablesForFilters())}let i=e.XHashMapByString.create();let o=this.getQueryModel();let n=o.getFilter().getDynamicFilter();for(let a=0;a<t.size();a++){let r=t.get(a);let l=r.getDimension();let s=n.getCartesianList(l);if(e.notNull(s)){i.put(l.getName(),s.cloneOlapComponent(o,null))}}return i};e.OuQueryController.prototype.getRowsWindowFactor=function(){return this.m_rowsWindowFactor};e.OuQueryController.prototype.getRowsWindowSize=function(){return this.m_rowsWindowSize};e.OuQueryController.prototype.getSession=function(){return this.getProcess()};e.OuQueryController.prototype.getStatus=function(){return this.m_status};e.OuQueryController.prototype.getStatusMessage=function(){return this.m_statusMessage};e.OuQueryController.prototype.getUniqueExecutionIdentifier=function(){return this._isExternalQm()?e.OuQueryController.EXTERNAL_QM_IDENTIFIER_OBJ:e.OuQueryController.INTERNAL_QM_IDENTIFIER_OBJ};e.OuQueryController.prototype.getVisualizationDefinitionForId=function(t){if(this.getQueryManager()!==null){return this.getQueryManager().getQueryModel().getVisualizationManager().getOrCreateVisualisationDefinition(t,e.ProtocolBindingType.HIGH_CHART_PROTOCOL,e.SemanticBindingType.CHART)}return null};e.OuQueryController.prototype.handleVariableSubmitCallback=function(t){if(t.hasErrors()){this._notifySetupInterrupt(e.OuQueryControllerContants.VARIABLE_SUBMIT_FAILED);this._setStatus(e.OuQueryControllerStatus.SETUP_ERROR,null);return}this.loadSfx();this.loadRepoStateAfterClassicSubmit();this.finalizeQueryManagerSetup();this.m_isInitialVariableSubmitDone=true;this._notifySetupStepChanged(e.OuQueryControllerSetupStep.INITIAL_VARIABLE_SUBMIT_DONE)};e.OuQueryController.prototype.hasPendingUpdates=function(){return this.isSyncActionProcessing()||this.m_pendingUpdates};e.OuQueryController.prototype.initQueryManagerFromDataSource=function(t,i){this.m_messageManager=e.MessageManagerSimple.createMessageManager();if(e.isNull(i)){this._setStatus(e.OuQueryControllerStatus.INIT_ERROR,null);this._notifyCriticalError(e.OuQueryControllerCriticalErrorType.MISSING_DATA_SOURCE);return}this._setSetupStarted();this._notifyBackendRequestStarted();let o=e.QueryServiceConfig.createWithDataSource(t,i.getSystemName(),i);if(this.m_clientInfoEnabled){o.getClientInfo().copyFrom(this.getClientInfo(),null)}o.setIsExternalizedDynamicFilter(false);o.setIsExternalizedNonVariableFilter(false);o.processQueryManagerCreation(e.SyncType.NON_BLOCKING,this,null)};e.OuQueryController.prototype.initWithExistingDataProvider=function(t){this.m_messageManager=e.MessageManagerSimple.createMessageManager();this.m_modelJson=null;this.m_inaRepoJson=null;this.m_forceInitialVariableDialog=false;if(e.isNull(t)){this._setStatus(e.OuQueryControllerStatus.INIT_ERROR,null);this._notifyCriticalError(e.OuQueryControllerCriticalErrorType.MISSING_DATA_PROVIDER);return}if(t.isReleased()){this._setStatus(e.OuQueryControllerStatus.INIT_ERROR,null);this._notifyCriticalError(e.OuQueryControllerCriticalErrorType.DATA_PROVIDER_RELEASED);return}this._setSetupStarted();t.getOrCreateQueryManager().onThen(e=>{this.setupNewQueryManager(e,t,true)})};e.OuQueryController.prototype.isAutoUpdatesEnabled=function(){if(this.m_useDpAutoFetch){return e.notNull(this.m_dataProvider)&&this.m_dataProvider.getResulting().isAutoFetchActive()}return!this.m_updatesPaused};e.OuQueryController.prototype.isBusy=function(){return this.m_isBusy};e.OuQueryController.prototype.isEnabledResultSetCache=function(){return this.m_enableResultSetCache};e.OuQueryController.prototype.isHorizontalLazyLoad=function(){return this.m_horizontalLazyLoad};e.OuQueryController.prototype.isInitialVariableSubmitDone=function(){return this.m_isInitialVariableSubmitDone};e.OuQueryController.prototype.isOverrideAutoSubmitOnStartup=function(){return this.m_overrideAutoSubmitOnStartup};e.OuQueryController.prototype.isPauseUpdates=function(){return this.m_updatesPaused};e.OuQueryController.prototype.isQueryManagerSetupFinished=function(){return this.m_isQueryManagerSetupFinished};e.OuQueryController.prototype.isSyncActionProcessing=function(){let t=e.XOptional.getOptionalEnsureNotReleased(this.m_activeResultSetContainer);return t.isPresent()&&e.XConstantWithParent.isObjectTypeOf(t.get().getSyncState(),e.SyncState.PROCESSING)};e.OuQueryController.prototype.loadRepoStateAfterClassicSubmit=function(){if(e.isNull(this.m_inaRepoJson)){return}let t=this.getQueryModel();this._notifySetupStepChanged(e.OuQueryControllerSetupStep.BEFORE_QUERY_MODEL_DESERIALIZATION);let i=this.m_forceRepoFormat?e.QModelFormat.INA_REPOSITORY:e.QModelFormat.INA_REPOSITORY_DELTA;let o=t.getVariableContainer().serializeToElement(i);let n=this.getRelevantFiltersFromVariables();if(e.notNull(this.m_inaRepoJson)){t.deserializeFromElementExt(i,this.m_inaRepoJson)}if(e.notNull(o)){t.getVariableContainer().deserializeFromElementExt(i,o)}this.applyFilterFromVariables(n)};e.OuQueryController.prototype.loadRepoStateBeforeAutoSubmit=function(){if(e.isNull(this.m_inaRepoJson)){return}this._notifySetupStepChanged(e.OuQueryControllerSetupStep.BEFORE_QUERY_MODEL_DESERIALIZATION);let t=this.getQueryModel();let i=this.m_forceRepoFormat?e.QModelFormat.INA_REPOSITORY:e.QModelFormat.INA_REPOSITORY_DELTA;t.deserializeFromElementExt(i,this.m_inaRepoJson)};e.OuQueryController.prototype.loadSfx=function(){if(e.notNull(this.m_modelJson)){this.getQueryModel().stopEventing();this.getQueryModel().deserializeFromElementExt(e.QModelFormat.INA_REPOSITORY,this.m_modelJson);this.getQueryModel().resumeEventing()}};e.OuQueryController.prototype.onAfterSubmit=function(e,t,i,o){};e.OuQueryController.prototype.onBeforeQueryExecuted=function(t){this._setBusyState(true);this._setStatus(e.OuQueryControllerStatus.SYNC_IN_PROGRESS,null);this._notifyBackendRequestStarted();let i=this.getQueryModel();let o=e.isNull(i)?null:i.getVisualizationManager();let n=e.isNull(o)?null:o.getCurrentActiveVisualizationDefinition();if(e.notNull(o)&&!o.areAllVisualizationContainersInSync()&&e.notNull(n)&&!n.hasValidVisualizationContainer()){this.resetPaging()}this.m_activeResultSetContainer=this.getQueryManager().getActiveResultSetContainer()};e.OuQueryController.prototype.onBeforeSubmit=function(t,i){e.VdImportExport.setValuesToProcessor(this.m_queryManager,t);this.m_variableDialog.close();if(!this.m_isQueryManagerSetupFinished){this.finalizeQueryManagerSetup()}else{this.refreshDataSource()}};e.OuQueryController.prototype.onCancel=function(){if(!this.m_isQueryManagerSetupFinished){this._notifySetupInterrupt(e.OuQueryControllerContants.INITIAL_VARIABLES_NOT_SET);this._setStatus(e.OuQueryControllerStatus.SETUP_ERROR,null)}};e.OuQueryController.prototype.onCancelReinit=function(){this.m_variableDialog.close();this.onCancel()};e.OuQueryController.prototype.onGridCollectorFilled=function(e,t,i){this._processOnGridCollectorFilledInternal(e,i,e.isSyncCanceled())};e.OuQueryController.prototype.onOk=function(){this.loadSfx();if(!this.m_isQueryManagerSetupFinished){this.loadRepoStateAfterClassicSubmit();this.finalizeQueryManagerSetup();if(!this.m_isInitialVariableSubmitDone){this.m_isInitialVariableSubmitDone=true;this._notifySetupStepChanged(e.OuQueryControllerSetupStep.INITIAL_VARIABLE_SUBMIT_DONE)}}else{this.refreshDataSource()}};e.OuQueryController.prototype.onProviderFetch=function(e,t,i){this._notifyResultReady()};e.OuQueryController.prototype.onQueryExecuted=function(e,t,i){this._processOnQueryExecutedInternal(e,t,i)};e.OuQueryController.prototype.onQueryManagerCreated=function(t,i,o){if(t.hasErrors()){this.m_messageManager.addAllMessages(t);this._notifyCriticalError(e.OuQueryControllerCriticalErrorType.QUERY_MANAGER_CREATION_FAILED);this._setStatus(e.OuQueryControllerStatus.SETUP_ERROR,t.getSummary());if(e.UiCredentialsProviderHelper.hasAuthenticationFailed(this.m_messageManager.getMessages())){this._notifySetupInterrupt(e.OuQueryControllerContants.AUTHENTICATION_FAILED)}else if(this._hasBWResourceConstraintsError()){this._notifySetupInterrupt(e.OuQueryControllerContants.BW_RESOURCE_CONSTRAINTS)}else{this._notifySetupInterrupt(e.OuQueryControllerContants.COULD_NOT_OPEN_QUERY)}return}if(t.hasWarnings()){this.m_messageManager.addAllMessages(t);this._notifyMessage(e.OuQueryControllerMessage.WARNING,e.MessageUtil.getMessageStringFromList(this.getMessageManager(),"Query Opened with warnings:"))}let n=t.getData();this.checkConsistencyForNewQueryManager(n);this.createDataProviderForExistingQueryManager(n).onThen(e=>{this.setupNewQueryManager(n,e,false)})};e.OuQueryController.prototype.onReinit=function(e,t){};e.OuQueryController.prototype.onResultFetchEvent=function(t){if(t.getStep()===e.OuDataProviderResultDataFetchStep.FETCH_STARTED){this._setStatus(e.OuQueryControllerStatus.SYNC_IN_PROGRESS,null);this._setBusyState(true)}else if(t.getStep()===e.OuDataProviderResultDataFetchStep.QUERY_EXECUTED){let i=this.m_queryManager.getActiveResultSetContainer();let o=t.getMessages();let n=e.ExtResult.create(i,o);this._processOnQueryExecutedInternal(n,i,null)}else if(t.getStep()===e.OuDataProviderResultDataFetchStep.GRID_COLLECTED){let i=null;if(e.XString.isEqual(t.getCorrelationId(),this.m_undoRedoCorrelationId)){i=e.OuQueryController.UNDO_REDO_ACTION_IDENTIFIER_OBJ;this.m_undoRedoCorrelationId=null}let o=this.m_queryManager.getQueryModel().getVisualizationManager().getGridCollector().getRecentTileCarrier();let n=e.ExtResult.create(o,t.getMessages());this._processOnGridCollectorFilledInternal(n,i,false)}};e.OuQueryController.prototype.onServiceCreation=function(t,i,o){if(t.isValid()){this.getQueryModel().setPlanningMode(e.PlanningMode.FOR_PRIVATE_VERSIONS_ONLY)}this.continueQueryManagerFinalization()};e.OuQueryController.prototype.presentInitialVariablesDialogIfNecessary=function(){let t=this.getQueryManager().getInputEnabledAndNonTechnicalVariables();if(!e.XCollectionUtils.hasElements(t)){return false}let i=e.XCollectionUtils.contains(t,e=>e.isMandatory()&&e.isEmpty());if(this.m_forceInitialVariableDialog||i){this.presentVariableDialog();this._notifySetupStepChanged(e.OuQueryControllerSetupStep.INITIAL_VARIABLE_DIALOG_PRESENTED);this.m_isResetAction=false;this.m_initialVariableDialogWasOpened=true;return true}let o=this.m_variableDialogConfigSupplier();if(o.isAutoSubmitOnStartup()&&this.m_queryManager.isDirectVariableTransferEnabled()){return false}if(!this._hasInaRepoJson()&&!this._hasModelJson()&&!this.m_isResetAction&&!this._isRriJumpTarget()){this.presentVariableDialog();this.m_initialVariableDialogWasOpened=true;this._notifySetupStepChanged(e.OuQueryControllerSetupStep.INITIAL_VARIABLE_DIALOG_PRESENTED);return true}return false};e.OuQueryController.prototype.presentVariableDialog=function(){e.XObjectExt.release(this.m_variableDialog);this.setVariablesWinControl(true);let t;if(e.notNull(this.m_variableDialogConfigSupplier)){t=this.m_variableDialogConfigSupplier()}else{t=e.VdConfiguration.createConfig(this.getQueryName(),this.getQueryManager())}if(this._isAutoSubmitEffective()){t.setImplicitSubmit(false);this.m_variableDialog=e.VdEntryPoint.createEntryPointWithConfig(t,null);this.m_variableDialog.getController().registerReinitListener(this);this.m_variableDialog.getController().registerSubmitListener(this)}else{this.m_variableDialog=e.VdEntryPoint.createEntryPointWithConfig(t,this)}this.m_variableDialog.open()};e.OuQueryController.prototype.putOverwriteText=function(e,t){this.m_responseOverrideTexts.put(e,t)};e.OuQueryController.prototype.refreshDataSource=function(){this._updateQueryResultSetExt(true)};e.OuQueryController.prototype.refreshDataSourceIfNeeded=function(){this._updateQueryResultSetExt(false)};e.OuQueryController.prototype.registerRenderingPauseEndListener=function(e){this.m_renderingPauseEndListeners.add(e)};e.OuQueryController.prototype.registerResultEmptyListener=function(e){this.m_resultEmptyListeners.add(e)};e.OuQueryController.prototype.registerResultReadyListener=function(e){this.m_resultReadyListeners.add(e)};e.OuQueryController.prototype.releaseObject=function(){e.XTimeout.clear(this.m_timeoutResultSet);e.XTimeout.clear(this.m_timeoutReschedule);this.m_activeResultSetContainer=null;this.m_pendingResultUpdates=null;if(!this._isExternalQm()){this.m_queryManager=e.XObjectExt.release(this.m_queryManager)}if(!this.m_isExternalDataProvider&&e.notNull(this.m_dataProvider)){this.m_dataProvider.getActions().getLifecycleActions().killDataProvider(true);this.m_dataProvider=null}this.m_defaultQueryManagerSettings=null;this.m_resultEmptyListeners.clear();this.m_resultEmptyListeners=null;this.m_renderingPauseEndListeners.clear();this.m_renderingPauseEndListeners=null;this.m_newDataProviderReadyConsumer=null;this.m_controllerResetProcedure=null;this.m_queryStateChanged=null;this.m_busyStateChangedConsumer=null;this.m_messageConsumer=null;this.m_setupInterruptedConsumer=null;this.m_criticalErrorConsumer=null;this.m_backendRequestStartedProcedure=null;this.m_backendRequestFinishedProcedure=null;this.m_variableDialogConfigSupplier=null;this.m_queryModelDefaultTextsApplicator=null;this.m_variableDialog=e.XObjectExt.release(this.m_variableDialog);this.m_responseOverrideTexts=e.XObjectExt.release(this.m_responseOverrideTexts);this.m_application=null;this.m_clientInfo=e.XObjectExt.release(this.m_clientInfo);e.XObject.prototype.releaseObject.call(this)};e.OuQueryController.prototype.requestTableTileIfNeeded=function(t,i,o,n,a,r){let l=false;let s=e.isNull(t)?null:t.getActiveTableContainer();let u=this.getQueryManager().getActiveResultSetContainer();if(!this.m_pendingUpdates&&this.getStatus()!==e.OuQueryControllerStatus.NOT_IN_SYNC&&e.notNull(s)&&e.notNull(u)){l=s.processTileVisualization(e.SyncType.NON_BLOCKING,i,null,e.OuQueryExecutionListenerLambda.createSingleUse(t=>{this._processOnQueryExecutedInternal(t,t.getData(),e.OuQueryController.PAGING_ACTION_IDENTIFIER_OBJ)}),e.OuQueryController.PAGING_ACTION_IDENTIFIER_OBJ,o,n,a,r)}return l};e.OuQueryController.prototype.rescheduleTableUpdate=function(){this.cancelPendingUpdates();let t=null;this.m_pendingResultUpdates=e.OuLambdaSyncAction.create(this.getApplication().getSession(),t,()=>{this.m_canceledUpdate=true;this.m_rescheduled=true;this.refreshDataSource();this.m_rescheduled=false;return e.XBooleanValue.create(true)},1e3);this.m_pendingResultUpdates.attachListener(e.OuLambdaSyncListener.create((t,i)=>{if(!t.hasErrors()){this.m_pendingResultUpdates=null}return e.XBooleanValue.create(true)}),e.ListenerType.SYNC_LISTENER,null);e.XTimeout.clear(this.m_timeoutReschedule);this.m_timeoutReschedule=e.XTimeout.timeout(30,()=>{this.m_pendingResultUpdates.processSyncAction(e.SyncType.NON_BLOCKING,null,null)})};e.OuQueryController.prototype.reset=function(){if(!this._isExternalQm()){this.m_dataProvider=e.XObjectExt.release(this.m_dataProvider);this.m_queryManager=e.XObjectExt.release(this.m_queryManager)}else{this.m_dataProvider=null;this.m_queryManager=null}this.m_defaultQueryManagerSettings=null;this.m_isExternalQueryManager=false;this.m_isBusy=false;this._setStatus(e.OuQueryControllerStatus.INITIAL,"Controller reset");this._notifyControllerReset()};e.OuQueryController.prototype.resetPaging=function(){let e=this.getQueryManager().getConvenienceCommands();e.setOffsetRows(0);let t=this.getDefaultRowsWindowSize();let i=this.getDefaultColumnsWindowSize();if(t>0){e.setMaxRows(t)}e.setOffsetColumns(0);if(i>0){e.setMaxColumns(i)}};e.OuQueryController.prototype.resetToDataSource=function(e,t){this.m_isResetAction=true;this.setForceInitialVariableDialog(false);this.setInaRepoJson(t);this.initQueryManagerFromDataSource(this.m_queryManager.getApplication(),e)};e.OuQueryController.prototype.resumeSetup=function(){if(!this.isQueryManagerSetupFinished()){this.presentInitialVariablesDialogIfNecessary()}};e.OuQueryController.prototype.setAutoUpdatesEnabled=function(e){this._setAutoUpdatesEnabledInternal(e)};e.OuQueryController.prototype.setBackendRequestFinishedProcedure=function(e){this.m_backendRequestFinishedProcedure=e};e.OuQueryController.prototype.setBackendRequestStartedProcedure=function(e){this.m_backendRequestStartedProcedure=e};e.OuQueryController.prototype.setBusyStateChangeConsumer=function(e){this.m_busyStateChangedConsumer=e};e.OuQueryController.prototype.setColumnsWindowFactor=function(e){this.m_columnsWindowFactor=e};e.OuQueryController.prototype.setColumnsWindowSize=function(e){this.m_columnsWindowSize=e};e.OuQueryController.prototype.setControllerResetProcedure=function(e){this.m_controllerResetProcedure=e};e.OuQueryController.prototype.setCriticalErrorConsumer=function(e){this.m_criticalErrorConsumer=e};e.OuQueryController.prototype.setDataProviderAutoFetch=function(e){this.m_useDpAutoFetch=e};e.OuQueryController.prototype.setDataSourceText=function(t){if(e.isNull(t)){return}let i=this.getQueryManager();if(e.isNull(i)){this.m_initialDataSourceText=t}else{let e=this.getQueryManager().getQueryModel();e.setText(t)}};e.OuQueryController.prototype.setDefaultAccountHierarchy=function(t){if(e.isNull(t)){return}let i=t.getQueryModel().getAccountDimension();if(e.notNull(i)){let t=i.getDefaultHierarchyName();let o=i.getHierarchies();if(e.XStringUtils.isNullOrEmpty(t)&&e.notNull(o)&&e.XCollectionUtils.hasElements(o.getObjects())){t=o.getObjects().get(0).getHierarchyName()}i.setHierarchyName(t);i.setHierarchyActive(true)}};e.OuQueryController.prototype.setDefaultPagingValues=function(){this.m_rowsWindowSize=50;this.m_columnsWindowSize=20;this.m_maxRowsWindowSize=1e4;this.m_maxColumnsWindowSize=50;this.m_rowsWindowFactor=3;this.m_columnsWindowFactor=3;this.m_maxRowsLoad=-1;this.m_maxColumnsLoad=150};e.OuQueryController.prototype.setDefaultQmSettings=function(t){if(e.notNull(t)){let i=t.getConvenienceCommands();let o=this.getQueryModel().getVersionDimension();if(e.notNull(o)&&t.getSystemType().isTypeOf(e.SystemType.HANA)){i.moveDimensionToAxis(o.getName(),e.AxisType.COLUMNS);let t=o.getDefaultMemberValue();if(e.XStringUtils.isNotNullAndNotEmpty(t)){i.addSingleMemberFilterByDimension(o,t,e.ComparisonOperator.EQUAL)}if(e.isNull(this.m_inaRepoJson)){i.refreshFieldContainerDisplayForDimension(o.getName(),e.FieldContainerDisplay.TEXT)}}let n=this._getDefaultQueryManagerSettings();if(e.notNull(n)){let a=t.getQueryModel().getMeasureDimension();let r=t.getQueryModel().getAccountDimension();let l=t.getSystemType().isTypeOf(e.SystemType.HANA);let s=t.getSystemType().isTypeOf(e.SystemType.BW);if(l&&e.notNull(a)){let l=n.isCreateHanaDefaultMeasureFilter();let s=n.isSetupHanaDefaultMeasureAttributes();this.setupDefaultStructureSettingsForHana(i,a,l,s);if(e.notNull(r)){this.setDefaultAccountHierarchy(t);this.setupDefaultStructureSettingsForHana(i,r,l,s);i.refreshFieldContainerDisplayForDimension(r.getName(),null);i.moveDimensionToAxis(r.getName(),e.isNull(o)?e.AxisType.COLUMNS:e.AxisType.ROWS);let n=r.getDefaultMemberValue();if(e.XStringUtils.isNotNullAndNotEmpty(n)){i.addSingleMemberFilterByDimension(r,n,e.ComparisonOperator.EQUAL)}if(l&&!this.getQueryModel().hasUserDefinedMeasures()){i.moveDimensionToAxis(a.getName(),e.AxisType.FREE)}}}let u;let m;let p;if(l&&(n.isPreActivateHanaDefaultHierarchy()||n.isSetDefaultHanaTotalAlignmentTop())){u=t.getDimensionAccessor().getDimensions();if(n.isPreActivateHanaDefaultHierarchy()){for(m=0;m<u.size();m++){p=u.get(m);if(p.supportsHierarchy()&&e.XStringUtils.isNotNullAndNotEmpty(p.getDefaultHierarchyName())&&e.XStringUtils.isNullOrEmpty(p.getHierarchyName())){i.setDimensionHierarchy(p.getName(),p.getDefaultHierarchyName(),true,p.getInitialDrillLevel());i.refreshFieldContainerDisplayForDimension(p.getName(),e.FieldContainerDisplay.TEXT)}}}if(n.isSetDefaultHanaTotalAlignmentTop()){for(m=0;m<u.size();m++){p=u.get(m);if(p.supportsResultAlignment()){i.alignTotals(e.QModelLevel.DIMENSIONS,p.getName(),e.ResultAlignment.TOP)}}}}if(l&&n.isSetDefaultHanaTotalAlignmentTop()){i.alignTotalsWithPriority(e.QModelLevel.AXES,e.AxisType.ROWS.getName(),e.ResultAlignment.TOP,0);i.alignTotalsWithPriority(e.QModelLevel.AXES,e.AxisType.COLUMNS.getName(),e.ResultAlignment.TOP,0);i.alignTotals(e.QModelLevel.QUERY,null,e.ResultAlignment.TOP)}if(s&&n.isSetupBwDefaultKeyTypes()){u=t.getDimensionAccessor().getDimensions();for(m=0;m<u.size();m++){p=u.get(m);e.FieldContainerPresentationHelper.enforceKeyDisplayForDimension(p,e.FieldContainerKeyDisplay.EXTERNAL_KEY,true);e.FieldContainerPresentationHelper.applyDefaultClientTextFields(p)}}if(n.isSetAxisNodeAlignmentInherit()){t.getQueryModel().getRowsAxis().setLowerLevelNodeAlignment(e.Alignment.INHERIT_FROM_FIRST_DIMENSION_ON_AXIS);t.getQueryModel().getColumnsAxis().setLowerLevelNodeAlignment(e.Alignment.INHERIT_FROM_FIRST_DIMENSION_ON_AXIS)}}}};e.OuQueryController.prototype.setDefaultQueryManagerSettings=function(e){this.m_defaultQueryManagerSettings=e};e.OuQueryController.prototype.setEnabledResultSetCache=function(t){this.m_enableResultSetCache=t;let i=this.getQueryManager();if(e.notNull(i)){i.getQueryServiceConfig().enableResultSetCache(t)}};e.OuQueryController.prototype.setExitVariablesWinControl=function(t){let i=this.getQueryManager();i.stopEventing();let o=i.getVariables();e.XStream.of(o).filter(t=>t.getVariableType().isTypeOf(e.VariableType.DIMENSION_MEMBER_VARIABLE)).filter(e=>e.isDynamicOrExitVariable()).map(e=>e).forEach(e=>{e.setWinControlInAutoSubmit(t)});i.resumeEventing()};e.OuQueryController.prototype.setFilter=function(e,t,i){if(this.updateFilter(e,t,null,i)){this.refreshDataSourceIfNeeded()}};e.OuQueryController.prototype.setFilters=function(t){if(e.isNull(t)||t.isEmpty()){return}let i=this.getQueryManager();if(e.isNull(i)){this.m_initialFilters=t}else{let i=e.XCollectionUtils.filter(t,e=>this.updateFilter(e.getDimensionId(),e.getMemberIds(),e.getHierarchyName(),e.shouldUseExclude()));if(i.size()>0){this.refreshDataSourceIfNeeded()}}};e.OuQueryController.prototype.setForceDeserializeWithRepoFormat=function(e){this.m_forceRepoFormat=e};e.OuQueryController.prototype.setForceInitialVariableDialog=function(e){this.m_forceInitialVariableDialog=e};e.OuQueryController.prototype.setHorizontalLazyLoad=function(e){this.m_horizontalLazyLoad=e};e.OuQueryController.prototype.setImplicitVariableHandling=function(e){this.m_implicitVariableHandling=e};e.OuQueryController.prototype.setInaRepoJson=function(e){this.m_inaRepoJson=e};e.OuQueryController.prototype.setMaxColumnsLoad=function(e){this.m_maxColumnsLoad=e};e.OuQueryController.prototype.setMaxColumnsWindowSize=function(e){this.m_maxColumnsWindowSize=e};e.OuQueryController.prototype.setMaxRowsLoad=function(e){this.m_maxRowsLoad=e};e.OuQueryController.prototype.setMaxRowsWindowSize=function(e){this.m_maxRowsWindowSize=e};e.OuQueryController.prototype.setMessageConsumer=function(e){this.m_messageConsumer=e};e.OuQueryController.prototype.setModelJson=function(e){this.m_modelJson=e};e.OuQueryController.prototype.setNewDataProviderReadyConsumer=function(e){this.m_newDataProviderReadyConsumer=e};e.OuQueryController.prototype.setQueryModelDefaultTextsApplicator=function(e){this.m_queryModelDefaultTextsApplicator=e};e.OuQueryController.prototype.setQueryStateChangedConsumer=function(e){this.m_queryStateChanged=e};e.OuQueryController.prototype.setRowsWindowFactor=function(e){this.m_rowsWindowFactor=e};e.OuQueryController.prototype.setRowsWindowSize=function(e){this.m_rowsWindowSize=e};e.OuQueryController.prototype.setSetupInterruptedConsumer=function(e){this.m_setupInterruptedConsumer=e};e.OuQueryController.prototype.setSetupStepChangedConsumer=function(e){this.m_setupStepChangedConsumer=e};e.OuQueryController.prototype.setStatusChangedConsumer=function(e){this.m_statusChangedConsumer=e};e.OuQueryController.prototype.setSuppressExitVariables=function(e){this.m_disableExitVariables=e};e.OuQueryController.prototype.setUseAutoSubmit=function(e){this.m_autoSubmit=e};e.OuQueryController.prototype.setVariable=function(e,t){if(this.updateVariable(e,t)&&this.isQueryManagerSetupFinished()){this.submitManualVariables()}};e.OuQueryController.prototype.setVariableDialogConfigSupplier=function(e){this.m_variableDialogConfigSupplier=e};e.OuQueryController.prototype.setVariables=function(t){if(e.isNull(t)||t.isEmpty()){return}let i=this.getQueryManager();if(e.isNull(i)){this.m_initialVariables=t}else{let o=i.getVariableProcessorState();if(e.notNull(this.m_inaRepoJson)&&o===e.VariableProcessorState.CHANGEABLE_STARTUP&&!this.m_forceInitialVariableDialog){this.m_forceInitialVariableDialog=true;this.m_overrideAutoSubmitOnStartup=true}let n=e.XCollectionUtils.filter(t,e=>this.updateVariable(e.getId(),e.getValues()));if(n.size()>0&&this.isQueryManagerSetupFinished()){this.submitManualVariables()}}};e.OuQueryController.prototype.setVariablesWinControl=function(t){let i=this.getQueryManager();i.stopEventing();let o=i.getVariables();e.XStream.of(o).filter(t=>t.getVariableType().isTypeOf(e.VariableType.DIMENSION_MEMBER_VARIABLE)).filter(e=>!e.isHierarchyInfoVariableForExplicitlyInactivatedHierarchy()).map(e=>e).forEach(e=>{e.setWinControlInAutoSubmit(t)});i.resumeEventing()};e.OuQueryController.prototype.setupDefaultStructureSettingsForHana=function(t,i,o,n){if(e.XCollectionUtils.hasElements(i.getAllStructureMembers())&&o&&!e.XCollectionUtils.hasElements(i.getFilter())){let o=e.XStream.of(i.getAllStructureMembers()).filter(t=>t.getResultVisibility()===null||!t.getResultVisibility().isTypeOf(e.ResultVisibility.HIDDEN)).collect(e.XStreamCollector.toList());if(e.XCollectionUtils.hasElements(o)){t.addSingleMeasureFilter(o.get(0).getName())}}if(n){t.refreshFieldContainerDisplayForDimension(i.getName(),e.FieldContainerDisplay.TEXT)}};e.OuQueryController.prototype.setupNewQueryManager=function(t,i,o){if(e.notNull(t)){if(e.notNull(this.m_queryManager)&&!this.m_queryManager.isReleased()&&this._isExternalQm()){this.m_queryManager.detachBeforeQueryExecutionListener(this);this.m_queryManager.detachQueryExecutedListener(this)}if(e.notNull(this.m_dataProvider)&&!this.m_isExternalDataProvider){this.m_oldDataProviderToRelease=this.m_dataProvider}this.m_queryManager=t;this.m_dataProvider=i;this.m_isExternalQueryManager=o;this.m_isExternalDataProvider=o;if(this.m_useDpAutoFetch){this.m_dataProvider.getEventing().getListenerForResultDataFetch().addConsumer(this.onResultFetchEvent.bind(this))}if(this.supportsResultSetCache()){this.m_enableResultSetCache=true;this.m_queryManager.getQueryServiceConfig().enableResultSetCache(this.isEnabledResultSetCache())}if(this.m_queryManager.getModelCapabilities().supportsUdhKey()){let t=this.getQueryModel().getUniversalDisplayHierarchies();this.activateUdhKeyIfPossible(t.getByAxisType(e.AxisType.ROWS));this.activateUdhKeyIfPossible(t.getByAxisType(e.AxisType.COLUMNS))}if(o){t.attachQueryExecutedListener(e.OuQueryExecutionListenerLambda.createSingleUse(t=>{this._processOnQueryExecutedInternal(t,t.getData(),e.OuQueryController.EXTERNAL_QM_IDENTIFIER_OBJ)}),e.OuQueryController.EXTERNAL_QM_IDENTIFIER_OBJ);t.getQueryModel().getVisualizationManager().attachResultSetCollectorListener(this,e.OuQueryController.EXTERNAL_QM_IDENTIFIER_OBJ)}t.attachQueryExecutedListener(e.OuQueryExecutionListenerLambda.createSingleUse(e=>{this._processOnFirstQueryExecutedInternal()}),e.OuQueryController.FIRST_QM_IDENTIFIER_OBJ);t.attachBeforeQueryExecutionListener(this,null);if(t.getConvenienceCommands().isBw()){t.setDataRefreshEnabled(e.ActionChoice.ON);t.getInitSettings().setIsExternalizedDynamicFilter(false);t.getInitSettings().setIsExternalizedNonVariableFilter(false)}t.getTagging().put(e.QStateConstants.TAG_UNDO_INCLUDE,"true");t.getApplication().getUndoManager().reset();t.disableReturnedDataSelection(e.ReturnedDataSelection.CELL_EXPLAIN);t.setValidateLocalFormulaMembers(true);if(!this.m_disableExitVariables){this.setExitVariablesWinControl(true)}this.loadSfx();if(!this._isExternalQm()){this.setDefaultQmSettings(this.getQueryManager())}this.applyGeneralSetting(this.getQueryManager());if(e.notNull(this.m_queryModelDefaultTextsApplicator)){this.m_queryModelDefaultTextsApplicator(this.getQueryModel())}if(e.notNull(this.m_inaRepoJson)){let i=this.m_forceRepoFormat?e.QModelFormat.INA_REPOSITORY:e.QModelFormat.INA_REPOSITORY_DELTA;if(this._isAutoSubmitEffective()){this.loadRepoStateBeforeAutoSubmit()}else{t.getQueryModel().getVariableContainer().deserializeFromElementExt(i,this.m_inaRepoJson)}}this.ensureReadOnly(this.getQueryManager());if(!this.m_implicitVariableHandling){this.finalizeQueryManagerSetup();return}this.getExitAndDynamicVariableUpdatePromise().onFinally(()=>{this.applyInitialVariables();if(!this.presentInitialVariablesDialogIfNecessary()){if(this._isAutoSubmitEffective()){this.finalizeQueryManagerSetup()}else{t.submitVariables(e.SyncType.NON_BLOCKING,e.VariableProcessorCallbackLambda.createSingleUse(e=>{this.handleVariableSubmitCallback(e)}),null)}}})}};e.OuQueryController.prototype.setupPlanning=function(t,i){let o=e.OlapApiModule.SERVICE_TYPE_PLANNING.createServiceConfig(this.getApplication());o.setSystemName(t.getSystemName());let n=o.getProperties();n.put(e.PlanningConstants.PLANNING_SCHEMA,i.getSchemaName());n.put(e.PlanningConstants.PLANNING_MODEL,i.getEpmModelName());n.putString(e.PlanningConstants.PLANNING_MODEL_BEHAVIOUR,e.PlanningModelBehaviour.STANDARD.toString());n.putString(e.PlanningConstants.PERSISTENCE_TYPE,e.PlanningPersistenceType.AUTO.toString());n.putBoolean(e.PlanningConstants.WITH_SHARED_VERSIONS,true);let a=this.getApplication().getProcess().getUserProfile();let r=e.XStringUtils.concatenate3(a.getTenantId(),"_",a.getName());n.putString(e.PlanningConstants.BACKEND_USER_NAME,r);o.processServiceCreation(e.SyncType.NON_BLOCKING,this,null)};e.OuQueryController.prototype.setupQueryController=function(t){if(e.isNull(t)){throw e.XException.createRuntimeException("Application is required to create a new query controller instance!")}this.m_application=t;this.m_resultEmptyListeners=e.XList.create();this.m_resultReadyListeners=e.XList.create();this.m_renderingPauseEndListeners=e.XList.create();this.m_isExternalQueryManager=false;this.m_isBusy=false;this.m_status=e.OuQueryControllerStatus.INITIAL;this.m_defaultQueryManagerSettings=null;this.m_responseOverrideTexts=e.XHashMapByString.create();this.m_overrideAutoSubmitOnStartup=false;this.m_clientInfo=e.XClientInfo.createWithParent(t.getClientInfo())};e.OuQueryController.prototype.simplifyDynamicFilter=function(){let t=this.m_queryManager.getQueryModel();let i=t.getFilter().getDynamicFilter();if(i.isComplexFilter()){e.ComplexFilterSeparationUtil.isolateTupleFiltersIntoSeparateLayers(t);e.ComplexFilterSeparationUtil.isolateComplexFilters(t);e.ComplexFilterSeparationUtil.isolateCartesianFilterIntersectsIntoSeparateLayers(t,true);if(i.getComplexRoot()!==null){let t=e.QFilterUtil.convertComplexFilterToCartesian(i.getComplexRoot());if(e.isNull(t)){this._notifyMessage(e.OuQueryControllerMessage.FILTER_NOT_FULLY_SUPPORTED,null)}else{i.setCartesianProduct(t)}}}if(i.getCartesianProduct()!==null){this.clearSuperfluousFilters(i.getCartesianProduct())}};e.OuQueryController.prototype.submitManualVariables=function(){this._setBusyState(true);this.getQueryManager().submitVariables(this.getApplication().getDefaultSyncType(),e.VariableProcessorCallbackLambda.createSingleUse(e=>{this.refreshDataSource()}),null)};e.OuQueryController.prototype.supportsResultSetCache=function(){return e.notNull(this.m_queryManager)&&this.m_queryManager.getModelCapabilities().supportsResultSetCache()};e.OuQueryController.prototype.undoRedoActionFinished=function(t,i,o){if(this.m_useDpAutoFetch){this.m_undoRedoCorrelationId=e.XGuid.getGuid();let t=this.m_dataProvider.getEventing().getEmitterForModelChanges().newTypedEvent();t.setCorrelationId(this.m_undoRedoCorrelationId);t.queue()}else{this.getQueryModel().getVisualizationManager().getGridCollector().processExecution(e.SyncType.NON_BLOCKING,this,this,e.OuQueryController.UNDO_REDO_ACTION_IDENTIFIER_OBJ)}};e.OuQueryController.prototype.updateFilter=function(t,i,o,n){if(e.isNull(t)){return false}let a=this.getQueryManager().getQueryModel().getDimensionByName(t);let r=false;if(e.notNull(a)){this.getQueryManager().getConvenienceCommands().clearFiltersByDimension(a);if(e.notNull(i)&&i.size()>0){let l=this.getQueryManager().getQueryModel().getFilter().getDynamicFilter();e.XCollectionUtils.forEach(i,t=>{let i=l.addSingleMemberFilterByDimension(a,t,e.ComparisonOperator.EQUAL);i.setSetSign(n?e.SetSign.EXCLUDING:e.SetSign.INCLUDING);if(e.notNull(o)){i.setHierarchyName(o)}});if(e.notNull(o)&&l.getCartesianProduct()!==null&&l.getCartesianProduct().getCartesianListByDimensionName(t)!==null){let i=l.getCartesianProduct().getCartesianListByDimensionName(t);i.setHierarchyName(o);let n=a.getHierarchyKeyField().getMetadata();if(e.notNull(n)){i.setFieldMetadata(n)}}r=true}}return r};e.OuQueryController.prototype.updateMeasureBasedFilters=function(){let t=this.m_queryManager.getQueryModel();if(t.getModelCapabilities().supportsFilterMeasureBased()){e.XStream.of(t.getFilter().getLinkedFilters()).map(e=>e.getFilterRootElement()).filter(t=>e.notNull(t)&&t.getComponentType()===e.FilterComponentType.FILTER_MEASURE_BASED).forEach(e=>{e.setLinkQueryFilter(true)})}};e.OuQueryController.prototype.updateVariable=function(t,i){if(e.isNull(t)){return false}let o=false;let n=this.getQueryManager().getVariable(t);if(e.notNull(n)){n.clear();if(e.notNull(i)&&i.size()>0){let t=n.getVariableType();if(t.isTypeOf(e.VariableType.DIMENSION_MEMBER_VARIABLE)){let t=n;let a=t.getMemberFilter();e.XCollectionUtils.forEach(i,t=>{let i=a.addNewCartesianElement();i.setComparisonOperator(e.ComparisonOperator.EQUAL);i.setSetSign(e.SetSign.INCLUDING);i.getLow().setString(t)});o=true}else if(t.isTypeOf(e.VariableType.OPTION_LIST_VARIABLE)){let t=n;if(t.supportsMultipleValues()){e.XCollectionUtils.forEach(i,e=>{t.setOptionByName(e)})}else{t.addOptionByName(i.get(0))}o=true}else if(t.isTypeOf(e.VariableType.SIMPLE_TYPE_VARIABLE)){let t=n;if(t.supportsMultipleValues()){e.XCollectionUtils.forEach(i,e=>{t.addValueByString(e)})}else{t.setValueByString(i.get(0))}o=true}}}return o};e.DataExportHelperI18n=function(){};e.DataExportHelperI18n.prototype=new e.DfXLocalizationProvider;e.DataExportHelperI18n.prototype._ff_c="DataExportHelperI18n";e.DataExportHelperI18n.APPENDIX_CREATED_BY_TITLE="FF_DATA_EXPORT_APPENDIX_CREATED_BY_TITLE";e.DataExportHelperI18n.APPENDIX_CREATED_ON_TITLE="FF_DATA_EXPORT_APPENDIX_CREATED_ON_TITLE";e.DataExportHelperI18n.APPENDIX_FILTERS_TITLE="FF_DATA_EXPORT_APPENDIX_FILTERS_TITLE";e.DataExportHelperI18n.APPENDIX_FILTER_OPERATOR_TITLE="FF_DATA_EXPORT_APPENDIX_FILTER_OPERATOR_TITLE";e.DataExportHelperI18n.APPENDIX_FILTER_VALUE_TITLE="FF_DATA_EXPORT_APPENDIX_FILTER_VALUE_TITLE";e.DataExportHelperI18n.APPENDIX_INFO_PROVIDER_TITLE="FF_DATA_EXPORT_APPENDIX_INFO_PROVIDER_TITLE";e.DataExportHelperI18n.APPENDIX_MEASURE_FILTERS_TITLE="FF_DATA_EXPORT_APPENDIX_MEASURE_FILTERS_TITLE";e.DataExportHelperI18n.APPENDIX_MODEL_TITLE="FF_DATA_EXPORT_APPENDIX_MODEL_TITLE";e.DataExportHelperI18n.APPENDIX_QUERY_TITLE="FF_DATA_EXPORT_APPENDIX_QUERY_TITLE";e.DataExportHelperI18n.APPENDIX_TECHNICAL_TITLE="FF_DATA_EXPORT_APPENDIX_TECHNICAL_TITLE";e.DataExportHelperI18n.APPENDIX_TENANT_TITLE="FF_DATA_EXPORT_APPENDIX_TENANT_TITLE";e.DataExportHelperI18n.APPENDIX_TITLE="FF_DATA_EXPORT_APPENDIX_TITLE";e.DataExportHelperI18n.APPENDIX_VARIABLES_TITLE="FF_DATA_EXPORT_APPENDIX_VARIABLES_TITLE";e.DataExportHelperI18n.DEFAULT_EXPORT_FILE_NAME="FF_DATA_EXPORT_DEFAULT_FILE_NAME";e.DataExportHelperI18n.GENERIC_EXPORT_FAILURE="FF_DATA_EXPORT_GENERIC_FAILURE";e.DataExportHelperI18n.ID_PREFIX="FF_DATA_EXPORT_ID_PREFIX";e.DataExportHelperI18n.PROVIDER_NAME="DataExportHelper";e.DataExportHelperI18n.UKNOWN_EXPORT_CONFIG="FF_DATA_EXPORT_UKNOWN_EXPORT_CONFIG";e.DataExportHelperI18n.staticSetup=function(){let t=new e.DataExportHelperI18n;t.setupProvider(e.DataExportHelperI18n.PROVIDER_NAME,true);t.addText(e.DataExportHelperI18n.DEFAULT_EXPORT_FILE_NAME,"Untitled");t.addComment(e.DataExportHelperI18n.DEFAULT_EXPORT_FILE_NAME,"#XMSG: Untitled, The default file name of an export if the user has not specifed one.");t.addText(e.DataExportHelperI18n.ID_PREFIX,"DATA_EXPORT_TASK");t.addComment(e.DataExportHelperI18n.ID_PREFIX,"#XMSG: Name of the task for exporting data.");t.addText(e.DataExportHelperI18n.APPENDIX_TITLE,"Information On Query");t.addComment(e.DataExportHelperI18n.APPENDIX_TITLE,"#XTIT: Appendix title");t.addText(e.DataExportHelperI18n.APPENDIX_TECHNICAL_TITLE,"Technical Information");t.addComment(e.DataExportHelperI18n.APPENDIX_TECHNICAL_TITLE,"#XTIT: Technical Information title");t.addText(e.DataExportHelperI18n.APPENDIX_TENANT_TITLE,"Tenant");t.addComment(e.DataExportHelperI18n.APPENDIX_TENANT_TITLE,"#XTIT: Tenant url title");t.addText(e.DataExportHelperI18n.APPENDIX_QUERY_TITLE,"Query Name");t.addComment(e.DataExportHelperI18n.APPENDIX_QUERY_TITLE,"#XTIT: Query Name title");t.addText(e.DataExportHelperI18n.APPENDIX_INFO_PROVIDER_TITLE,"Information Provider");t.addComment(e.DataExportHelperI18n.APPENDIX_INFO_PROVIDER_TITLE,"#XTIT: Information Provider title");t.addText(e.DataExportHelperI18n.APPENDIX_MODEL_TITLE,"Model");t.addComment(e.DataExportHelperI18n.APPENDIX_MODEL_TITLE,"#XTIT: Model title");t.addText(e.DataExportHelperI18n.APPENDIX_CREATED_BY_TITLE,"Created By");t.addComment(e.DataExportHelperI18n.APPENDIX_CREATED_BY_TITLE,"#XTIT: Created by title");t.addText(e.DataExportHelperI18n.APPENDIX_CREATED_ON_TITLE,"Created On");t.addComment(e.DataExportHelperI18n.APPENDIX_CREATED_ON_TITLE,"#XTIT: Created on title");t.addText(e.DataExportHelperI18n.APPENDIX_VARIABLES_TITLE,"Variables");t.addComment(e.DataExportHelperI18n.APPENDIX_VARIABLES_TITLE,"#XTIT: Variables title");t.addText(e.DataExportHelperI18n.APPENDIX_FILTERS_TITLE,"Filters");t.addComment(e.DataExportHelperI18n.APPENDIX_FILTERS_TITLE,"#XTIT: Filters title");t.addText(e.DataExportHelperI18n.APPENDIX_MEASURE_FILTERS_TITLE,"Measure Filters");t.addComment(e.DataExportHelperI18n.APPENDIX_MEASURE_FILTERS_TITLE,"#XTIT: Measure filters title");t.addText(e.DataExportHelperI18n.APPENDIX_FILTER_OPERATOR_TITLE,"Operator");t.addComment(e.DataExportHelperI18n.APPENDIX_FILTER_OPERATOR_TITLE,"#XTIT: Filter operator title");t.addText(e.DataExportHelperI18n.APPENDIX_FILTER_VALUE_TITLE,"Value");t.addComment(e.DataExportHelperI18n.APPENDIX_FILTER_VALUE_TITLE,"#XTIT: Filter value title");t.addText(e.DataExportHelperI18n.GENERIC_EXPORT_FAILURE,"The export failed for an unknown reason. Please contact an administrator.");t.addComment(e.DataExportHelperI18n.GENERIC_EXPORT_FAILURE,"#XMSG: Message to handle empty failure reason from the export library.");t.addText(e.DataExportHelperI18n.UKNOWN_EXPORT_CONFIG,"The export configuration was incorrect, leading to an export error. Please contact an administrator.");t.addComment(e.DataExportHelperI18n.UKNOWN_EXPORT_CONFIG,"#XMSG: Message for a runtime error that corrupted the export configuration.");t.addText(e.ExportResult.FF_DATA_EXPORT_INSUFFICIENT_WIDTH_WARNING,"The exported content does not fit on the chosen page size and orientation. Please choose a wider page size.");t.addComment(e.ExportResult.FF_DATA_EXPORT_INSUFFICIENT_WIDTH_WARNING,"#XMSG: Warning for insufficient width of page during export.");t.addText(e.ExportResult.FF_DATA_EXPORT_INSUFFICIENT_HEIGHT_WARNING,"The exported content does not fit on the chosen page size and orientation. Please choose a longer page size.");t.addComment(e.ExportResult.FF_DATA_EXPORT_INSUFFICIENT_HEIGHT_WARNING,"#XMSG: Warning for insufficient height of page during export.");t.addText(e.ExportResult.FF_DATA_EXPORT_MAIN_TABLE_TEMPLATE,"Table export: {0}");t.addComment(e.ExportResult.FF_DATA_EXPORT_MAIN_TABLE_TEMPLATE,"#XMSG: Template string for warnings/errors generated from the main data table.");t.addText(e.ExportResult.FF_DATA_EXPORT_APPENDIX_TABLE_TEMPLATE,"Appendix export: {0}");t.addComment(e.ExportResult.FF_DATA_EXPORT_APPENDIX_TABLE_TEMPLATE,"#XMSG: Template string for warnings/errors generated from the appendix table.");return t};e.OuDataSourceListView=function(){};e.OuDataSourceListView.prototype=new e.DfUiView;e.OuDataSourceListView.prototype._ff_c="OuDataSourceListView";e.OuDataSourceListView.PAGE_SIZE=30;e.OuDataSourceListView.create=function(t,i){let o=new e.OuDataSourceListView;o.m_process=t;o.m_systemName=i;return o};e.OuDataSourceListView.prototype.m_currentCatalogManager=null;e.OuDataSourceListView.prototype.m_currentData=null;e.OuDataSourceListView.prototype.m_currentPage=0;e.OuDataSourceListView.prototype.m_dataSourceSelectedConsumer=null;e.OuDataSourceListView.prototype.m_left=null;e.OuDataSourceListView.prototype.m_liveDebounceListener=null;e.OuDataSourceListView.prototype.m_process=null;e.OuDataSourceListView.prototype.m_querySearch=null;e.OuDataSourceListView.prototype.m_queryTbl=null;e.OuDataSourceListView.prototype.m_right=null;e.OuDataSourceListView.prototype.m_systemName=null;e.OuDataSourceListView.prototype.m_systemNamesList=null;e.OuDataSourceListView.prototype.m_systemsDropdown=null;e.OuDataSourceListView.prototype._displayError=function(t){this.getView().clearItems();let i=this.getView().addNewItemOfType(e.UiType.ILLUSTRATED_MESSAGE);i.setIllustrationType(e.UiIllustratedMessageType.CONNECTION);i.setIllustrationSize(e.UiIllustratedMessageSize.AUTO);let o=this.getView().addNewItemOfType(e.UiType.MESSAGE_STRIP);o.setMessageType(e.UiMessageType.ERROR);o.setShowCloseButton(false);o.setShowIcon(true);o.setIcon("message-error");o.setText(e.XStringUtils.isNotNullAndNotEmpty(t)?t:"Error")};e.OuDataSourceListView.prototype._getDataSources=function(){let t=this.m_process.getSystemLandscape();let i=t.getSystemDescription(this.m_systemName);if(e.isNull(i)){this._displayError(e.XStringUtils.concatenate2("Could not find system; ",this.m_systemName));return}let o=this.m_process.getApplication();let n=e.OlapCatalogApiModule.SERVICE_TYPE_OLAP_CATALOG.createServiceConfig(o);n.setSystemName(this.m_systemName);this.getView().setBusy(true);n.processOlapCatalogManagerCreation(e.SyncType.NON_BLOCKING,e.OlapLambdaCatalogManagerCreatedListener.create((t,o)=>{this.getView().setBusy(false);if(t.hasErrors()){this._displayError(t.getSummary());return}this.m_currentCatalogManager=t.getData();this.m_currentCatalogManager.setResultMaxSize(e.OuDataSourceListView.PAGE_SIZE+1);if(i.getSystemType()===e.SystemType.HANA||i.getSystemType()===e.SystemType.DWC){this.m_currentCatalogManager.addSelectedType(e.MetaObjectType.DBVIEW);this.m_currentCatalogManager.addSelectedType(e.MetaObjectType.PLANNING);this.m_currentCatalogManager.addSelectedType(e.MetaObjectType.INA_MODEL)}this._processFetch();this.m_querySearch.setEnabled(true)}),null)};e.OuDataSourceListView.prototype._handleDataSourcePicked=function(t){if(e.notNull(this.m_dataSourceSelectedConsumer)&&e.notNull(t)){let i=e.QFactory.createDataSource();i.setSystemName(this.m_systemName);i.setType(t.getType());i.setEnvironmentName(t.getEnvironmentName());i.setSchemaName(t.getSchemaName());i.setPackageName(t.getPackageName());i.setObjectName(t.getObjectName());this.m_dataSourceSelectedConsumer(i)}};e.OuDataSourceListView.prototype._handleSearch=function(t){this.m_currentPage=0;this._processFetch();if(e.notNull(this.m_liveDebounceListener)){this.m_liveDebounceListener.cancel()}};e.OuDataSourceListView.prototype._handleSystemSelection=function(t){let i=t.getSelectedItem().getTag();if(e.XStringUtils.isNotNullAndNotEmpty(i)){this.m_systemName=i;this._getDataSources()}};e.OuDataSourceListView.prototype._processFetch=function(){this.getView().setBusy(true);this.m_currentCatalogManager.setSearchFilter(null);if(e.XStringUtils.isNotNullAndNotEmpty(this.m_querySearch.getValue())){let t=e.XStringUtils.concatenate3("*",this.m_querySearch.getValue(),"*");this.m_currentCatalogManager.setSearchFilter(t);this.m_currentCatalogManager.setSearchOnName(true)}this.m_currentCatalogManager.setResultOffset(this.m_currentPage*e.OuDataSourceListView.PAGE_SIZE);this.m_currentCatalogManager.processGetResult(e.SyncType.NON_BLOCKING,e.OlapLambdaCatalogResultListener.create((e,t)=>{this.getView().setBusy(false);if(e.hasErrors()){this._displayError(e.getSummary());return}this.m_currentData=e.getData().getObjectsList();this._updateTable()}),null)};e.OuDataSourceListView.prototype._updatePageButtons=function(){this.m_left.setEnabled(this.m_currentPage>0);this.m_right.setEnabled(this.m_currentData.size()>e.OuDataSourceListView.PAGE_SIZE)};e.OuDataSourceListView.prototype._updateTable=function(){this.m_queryTbl.clearResponsiveTableRows();for(let t=0;t<this.m_currentData.size();t++){if(t>=e.OuDataSourceListView.PAGE_SIZE){break}let i=this.m_currentData.get(t);let o=this.m_queryTbl.addNewResponsiveTableRow();o.addNewResponsiveTableCell().setText(i.getName());o.addNewResponsiveTableCell().setText(i.getText());o.setCustomObject(i)}this._updatePageButtons()};e.OuDataSourceListView.prototype.destroyView=function(){this.m_dataSourceSelectedConsumer=null;if(e.notNull(this.m_liveDebounceListener)){this.m_liveDebounceListener.cancel();this.m_liveDebounceListener=null}this.m_currentData=null;this.m_currentCatalogManager=e.XObjectExt.release(this.m_currentCatalogManager);this.m_left=e.XObjectExt.release(this.m_left);this.m_right=e.XObjectExt.release(this.m_right);this.m_queryTbl=e.XObjectExt.release(this.m_queryTbl);this.m_systemsDropdown=e.XObjectExt.release(this.m_systemsDropdown);this.m_querySearch=e.XObjectExt.release(this.m_querySearch);this.m_systemNamesList=null;this.m_process=null};e.OuDataSourceListView.prototype.getViewControl=function(t){return t.newControl(e.UiType.FLEX_LAYOUT)};e.OuDataSourceListView.prototype.layoutView=function(t){t.setDirection(e.UiFlexDirection.COLUMN);t.setJustifyContent(e.UiFlexJustifyContent.CENTER);t.setAlignItems(e.UiFlexAlignItems.CENTER);if(e.XStringUtils.isNullOrEmpty(this.m_systemName)){this._displayError("Missing system name! Please specify a system name.");return}let i=t.addNewItemOfType(e.UiType.SCROLL_CONTAINER);i.setFlex("auto");this.m_queryTbl=i.setNewContent(e.UiType.RESPONSIVE_TABLE);this.m_queryTbl.setSelectionMode(e.UiSelectionMode.SINGLE_SELECT_MASTER);this.m_queryTbl.addNewResponsiveTableColumn().setNewHeader(e.UiType.TITLE).setText("Name");this.m_queryTbl.addNewResponsiveTableColumn().setNewHeader(e.UiType.TITLE).setText("Description");this.m_queryTbl.registerOnSelect(e.UiLambdaSelectListener.create(e=>{let t=e.getSelectedItem().getCustomObject();this._handleDataSourcePicked(t)}));let o=this.m_queryTbl.setNewHeaderToolbar();o.useMaxWidth();this.m_querySearch=o.addNewItemOfType(e.UiType.SEARCH_FIELD);this.m_querySearch.registerOnSearch(e.UiLambdaSearchListener.create(this._handleSearch.bind(this)));this.m_liveDebounceListener=e.UiLambdaLiveChangeWithDebounceListener.create(this._handleSearch.bind(this),1e3);this.m_querySearch.registerOnLiveChange(this.m_liveDebounceListener);if(e.XCollectionUtils.hasElements(this.m_systemNamesList)&&this.m_systemNamesList.size()>1){o.addNewItemOfType(e.UiType.SPACER);this.m_systemsDropdown=o.addNewItemOfType(e.UiType.DROPDOWN);this.m_systemsDropdown.registerOnSelect(e.UiLambdaSelectListener.create(this._handleSystemSelection.bind(this)));e.XCollectionUtils.forEach(this.m_systemNamesList,e=>{let t=this.m_systemsDropdown.addNewItem();t.setText(e);t.setName(e);t.setTag(e)});this.m_systemsDropdown.setSelectedName(this.m_systemName)}let n=t.addNewItemOfType(e.UiType.FLEX_LAYOUT);n.setJustifyContent(e.UiFlexJustifyContent.CENTER);this.m_left=n.addNewItemOfType(e.UiType.BUTTON);this.m_left.setIcon("navigation-left-arrow");this.m_left.setPadding(e.UiCssBoxEdges.create("4px"));this.m_left.registerOnPress(e.UiLambdaPressListener.create(e=>{this.m_currentPage=this.m_currentPage-1;this._processFetch()}));this.m_right=n.addNewItemOfType(e.UiType.BUTTON);this.m_right.setIcon("navigation-right-arrow");this.m_right.setPadding(e.UiCssBoxEdges.create("4px"));this.m_right.registerOnPress(e.UiLambdaPressListener.create(e=>{this.m_currentPage=this.m_currentPage+1;this._processFetch()}));this._getDataSources()};e.OuDataSourceListView.prototype.setDataSourceSelectedConsumer=function(e){this.m_dataSourceSelectedConsumer=e};e.OuDataSourceListView.prototype.setSystemNames=function(e){this.m_systemNamesList=e};e.OuDataSourceListView.prototype.setupView=function(){if(e.isNull(this.m_process)){throw e.XException.createRuntimeException("Missing process! A process is required for the data source list view!")}};e.OuAxesViewI18n=function(){};e.OuAxesViewI18n.prototype=new e.DfXLocalizationProvider;e.OuAxesViewI18n.prototype._ff_c="OuAxesViewI18n";e.OuAxesViewI18n.BUILDER_ADD_ACCOUNT_INFO="FF_GDS_QB_BUILDER_ADD_ACCOUNT_INFO";e.OuAxesViewI18n.BUILDER_ADD_ACCOUNT_OPTIONAL="FF_GDS_QB_BUILDER_ADD_ACCOUNT_OPTIONAL";e.OuAxesViewI18n.BUILDER_ADD_DIMENSION_OPTIONAL="FF_GDS_QB_BUILDER_ADD_DIMENSION_OPTIONAL";e.OuAxesViewI18n.BUILDER_ADD_MEASURE_INFO="FF_GDS_QB_BUILDER_ADD_MEASURE_INFO";e.OuAxesViewI18n.BUILDER_ADD_MEASURE_OPTIONAL="FF_GDS_QB_BUILDER_ADD_MEASURE_OPTIONAL";e.OuAxesViewI18n.BUILDER_BARCOLUMN_OPTION="FF_GDS_QB_BUILDER_BARCOLUMN_OPTION";e.OuAxesViewI18n.BUILDER_BAR_OPTION="FF_GDS_QB_BUILDER_BAR_OPTION";e.OuAxesViewI18n.BUILDER_CHART_AXIS_X="FF_GDS_QB_BUILDER_CHART_AXIS_X";e.OuAxesViewI18n.BUILDER_CHART_AXIS_Y="FF_GDS_QB_BUILDER_CHART_AXIS_Y";e.OuAxesViewI18n.BUILDER_CHART_COLOR="FF_GDS_QB_BUILDER_CHART_COLOR";e.OuAxesViewI18n.BUILDER_CHART_COLUMN="FF_GDS_QB_BUILDER_CHART_COLUMN";e.OuAxesViewI18n.BUILDER_CHART_DIMENSIONS="FF_GDS_QB_BUILDER_CHART_DIMENSIONS";e.OuAxesViewI18n.BUILDER_CHART_LINE="FF_GDS_QB_BUILDER_CHART_LINE";e.OuAxesViewI18n.BUILDER_CHART_LINE_YLEFT="FF_GDS_QB_BUILDER_CHART_LINE_YLEFT";e.OuAxesViewI18n.BUILDER_CHART_LINE_YRIGHT="FF_GDS_QB_BUILDER_CHART_LINE_YRIGHT";e.OuAxesViewI18n.BUILDER_CHART_ORIENTATION="FF_GDS_QB_BUILDER_CHART_ORIENTATION";e.OuAxesViewI18n.BUILDER_CHART_ORIENTATION_HORIZONTAL="FF_GDS_QB_BUILDER_CHART_ORIENTATION_HORIZONTAL";e.OuAxesViewI18n.BUILDER_CHART_ORIENTATION_VERTICAL="FF_GDS_QB_BUILDER_CHART_ORIENTATION_VERTICAL";e.OuAxesViewI18n.BUILDER_CHART_VALUE_SELECTION="FF_GDS_QB_BUILDER_CHART_VALUE_SELECTION";e.OuAxesViewI18n.BUILDER_COLUMN_LINE_OPTION="FF_GDS_QB_BUILDER_COLUMN_LINE_OPTION";e.OuAxesViewI18n.BUILDER_COLUMN_OPTION="FF_GDS_QB_BUILDER_COLUMN_OPTION";e.OuAxesViewI18n.BUILDER_DISPLAY_TYPE="FF_GDS_QB_BUILDER_DISPLAY_TYPE";e.OuAxesViewI18n.BUILDER_DONUT_OPTION="FF_GDS_QB_BUILDER_DONUT_OPTION";e.OuAxesViewI18n.BUILDER_FILTER_DIALOG_TITLE="FF_GDS_QB_BUILDER_FILTER_DIALOG_TITLE";e.OuAxesViewI18n.BUILDER_GRID_OPTION="FF_GDS_QB_BUILDER_GRID_OPTION";e.OuAxesViewI18n.BUILDER_LINE_OPTION="FF_GDS_QB_BUILDER_LINE_OPTION";e.OuAxesViewI18n.BUILDER_OVERLAP_Y_AXIS="FF_GDS_QB_BUILDER_OVERLAP_Y_AXIS";e.OuAxesViewI18n.BUILDER_PIE_OPTION="FF_GDS_QB_BUILDER_PIE_OPTION";e.OuAxesViewI18n.BUILDER_REMOVE="FF_GDS_QB_BUILDER_REMOVE";e.OuAxesViewI18n.BUILDER_SHOW_AS_100_PERCENT="FF_GDS_QB_BUILDER_SHOW_AS_100_PERCENT";e.OuAxesViewI18n.BUILDER_STACKED_AREA_OPTION="FF_GDS_QB_BUILDER_STACKED_AREA_OPTION";e.OuAxesViewI18n.BUILDER_STACKED_BAR_OPTION="FF_GDS_QB_BUILDER_STACKED_BAR_OPTION";e.OuAxesViewI18n.BUILDER_STACKED_COLUMN_LINE_OPTION="FF_GDS_QB_BUILDER_STACKED_COLUMN_LINE_OPTION";e.OuAxesViewI18n.BUILDER_STACKED_COLUMN_OPTION="FF_GDS_QB_BUILDER_STACKED_COLUMN_OPTION";e.OuAxesViewI18n.BUILDER_TOAST_MEMBERS_REMOVED="FF_GDS_QB_BUILDER_TOAST_MEMBERS_REMOVED";e.OuAxesViewI18n.PROVIDER_NAME="AxesView";e.OuAxesViewI18n.staticSetup=function(){let t=new e.OuAxesViewI18n;t.setupProvider(e.OuAxesViewI18n.PROVIDER_NAME,true);t.addText(e.OuAxesViewI18n.BUILDER_REMOVE,"Remove");t.addComment(e.OuAxesViewI18n.BUILDER_REMOVE,"#XTOL: Tooltip on a button to remove an element from the list");t.addText(e.OuAxesViewI18n.BUILDER_ADD_MEASURE_INFO,"Add at least one measure.");t.addComment(e.OuAxesViewI18n.BUILDER_ADD_MEASURE_INFO,"#XFLD: Text on a placeholder list item when currently no measure is selected");t.addText(e.OuAxesViewI18n.BUILDER_ADD_ACCOUNT_INFO,"Add at least one account.");t.addComment(e.OuAxesViewI18n.BUILDER_ADD_ACCOUNT_INFO,"#XFLD: Text on a placeholder list item when currently no account is selected");t.addText(e.OuAxesViewI18n.BUILDER_FILTER_DIALOG_TITLE,"Set Filter for {0}");t.addComment(e.OuAxesViewI18n.BUILDER_FILTER_DIALOG_TITLE,"#XTIT: the title of a dialog to create a filter on a dimension (placeholder is the dimension name)");t.addText(e.OuAxesViewI18n.BUILDER_CHART_LINE_YLEFT,"Y-Axis Left");t.addComment(e.OuAxesViewI18n.BUILDER_CHART_LINE_YLEFT,"#XTIT: the title for the Line-Chart section where the measures on the Y-Left axis are shown.");t.addText(e.OuAxesViewI18n.BUILDER_CHART_LINE_YRIGHT,"Y-Axis Right");t.addComment(e.OuAxesViewI18n.BUILDER_CHART_LINE_YRIGHT,"#XTIT: the title for the Line-Chart section where the measures on the Y-Right axis are shown.");t.addText(e.OuAxesViewI18n.BUILDER_CHART_COLUMN,"Column Axis");t.addComment(e.OuAxesViewI18n.BUILDER_CHART_COLUMN,"#XTIT: the title for the columns and line chart section where the measures on the Column axis are shown.");t.addText(e.OuAxesViewI18n.BUILDER_CHART_LINE,"Line Axis");t.addComment(e.OuAxesViewI18n.BUILDER_CHART_LINE,"#XTIT: the title for the columns and line chart section where the measures on the Line axis are shown.");t.addText(e.OuAxesViewI18n.BUILDER_CHART_DIMENSIONS,"Dimensions");t.addComment(e.OuAxesViewI18n.BUILDER_CHART_DIMENSIONS,"#XTIT: the title for the Chart section where the Dimensions are shown.");t.addText(e.OuAxesViewI18n.BUILDER_CHART_COLOR,"Color");t.addComment(e.OuAxesViewI18n.BUILDER_CHART_COLOR,"#XTIT: the title for the Chart section where the Dimensions chosen for Color are shown.");t.addText(e.OuAxesViewI18n.BUILDER_CHART_ORIENTATION,"Chart Orientation");t.addComment(e.OuAxesViewI18n.BUILDER_CHART_ORIENTATION,"#XTIT: the title for the chart orientation.");t.addText(e.OuAxesViewI18n.BUILDER_CHART_ORIENTATION_HORIZONTAL,"Horizontal");t.addComment(e.OuAxesViewI18n.BUILDER_CHART_ORIENTATION_HORIZONTAL,"#XSEL: the chart orientation option Horizontal.");t.addText(e.OuAxesViewI18n.BUILDER_CHART_ORIENTATION_VERTICAL,"Vertical");t.addComment(e.OuAxesViewI18n.BUILDER_CHART_ORIENTATION_VERTICAL,"#XSEL: the chart orientation option Vertical.");t.addText(e.OuAxesViewI18n.BUILDER_CHART_AXIS_X,"X-Axis");t.addComment(e.OuAxesViewI18n.BUILDER_CHART_AXIS_X,"#XTIT: Axis indicator for X-axis.");t.addText(e.OuAxesViewI18n.BUILDER_CHART_AXIS_Y,"Y-Axis");t.addComment(e.OuAxesViewI18n.BUILDER_CHART_AXIS_Y,"#XTIT: Axis indicator for Y-axis.");t.addText(e.OuAxesViewI18n.BUILDER_GRID_OPTION,"Table");t.addComment(e.OuAxesViewI18n.BUILDER_GRID_OPTION,"#XSEL: a dropdown entry to switch to a table visualization");t.addText(e.OuAxesViewI18n.BUILDER_BARCOLUMN_OPTION,"Bar/Column");t.addComment(e.OuAxesViewI18n.BUILDER_BARCOLUMN_OPTION,"#XSEL: a dropdown entry to switch to a bar-column chart visualization");t.addText(e.OuAxesViewI18n.BUILDER_BAR_OPTION,"Bar");t.addComment(e.OuAxesViewI18n.BUILDER_BAR_OPTION,"#XSEL: a dropdown entry to switch to a bar chart visualization");t.addText(e.OuAxesViewI18n.BUILDER_COLUMN_OPTION,"Column");t.addComment(e.OuAxesViewI18n.BUILDER_COLUMN_OPTION,"#XSEL: a dropdown entry to switch to a column chart visualization");t.addText(e.OuAxesViewI18n.BUILDER_STACKED_BAR_OPTION,"Stacked Bar");t.addComment(e.OuAxesViewI18n.BUILDER_STACKED_BAR_OPTION,"#XSEL: a dropdown entry to switch to a stacked bar chart visualization");t.addText(e.OuAxesViewI18n.BUILDER_STACKED_COLUMN_OPTION,"Stacked Column");t.addComment(e.OuAxesViewI18n.BUILDER_STACKED_COLUMN_OPTION,"#XSEL: a dropdown entry to switch to a stacked column chart visualization");t.addText(e.OuAxesViewI18n.BUILDER_LINE_OPTION,"Line");t.addComment(e.OuAxesViewI18n.BUILDER_LINE_OPTION,"#XSEL: a dropdown entry to switch to a line chart visualization");t.addText(e.OuAxesViewI18n.BUILDER_PIE_OPTION,"Pie");t.addComment(e.OuAxesViewI18n.BUILDER_PIE_OPTION,"#XSEL: a dropdown entry to switch to a pie chart visualization");t.addText(e.OuAxesViewI18n.BUILDER_DONUT_OPTION,"Donut");t.addComment(e.OuAxesViewI18n.BUILDER_DONUT_OPTION,"#XSEL: a dropdown entry to switch to a donut chart visualization");t.addText(e.OuAxesViewI18n.BUILDER_STACKED_AREA_OPTION,"Stacked Area");t.addComment(e.OuAxesViewI18n.BUILDER_STACKED_AREA_OPTION,"#XSEL: a dropdown entry to switch to a stacked area chart visualization");t.addText(e.OuAxesViewI18n.BUILDER_COLUMN_LINE_OPTION,"Combination Column & Line");t.addComment(e.OuAxesViewI18n.BUILDER_COLUMN_LINE_OPTION,"#XSEL: a dropdown entry to switch to a combination columns and line chart visualization");t.addText(e.OuAxesViewI18n.BUILDER_STACKED_COLUMN_LINE_OPTION,"Combination Stacked Column & Line");t.addComment(e.OuAxesViewI18n.BUILDER_STACKED_COLUMN_LINE_OPTION,"#XSEL: a dropdown entry to switch to a stacked combination columns and line chart visualization");t.addText(e.OuAxesViewI18n.BUILDER_DISPLAY_TYPE,"Display Type:");t.addComment(e.OuAxesViewI18n.BUILDER_DISPLAY_TYPE,"#XTIT: a label for the Visualization switch dropdown in the Builder Panel.");t.addText(e.OuAxesViewI18n.BUILDER_SHOW_AS_100_PERCENT,"Show Chart as 100%");t.addComment(e.OuAxesViewI18n.BUILDER_SHOW_AS_100_PERCENT,"#XCKL: Checkbox label for Stacked ChartTypes to show values as Percentages.");t.addText(e.OuAxesViewI18n.BUILDER_OVERLAP_Y_AXIS,"Y-Axes Overlap");t.addComment(e.OuAxesViewI18n.BUILDER_OVERLAP_Y_AXIS,"#XCKL: Checkbox label for columns-line charts to overlap the Y-Axis.");t.addText(e.OuAxesViewI18n.BUILDER_TOAST_MEMBERS_REMOVED,"Too many selections for {0} chart: entities {1} were removed.");t.addComment(e.OuAxesViewI18n.BUILDER_TOAST_MEMBERS_REMOVED,"#XTIT: Message when a user has > 1 Measure selected and moves to Pie/Donut chart.");t.addTextWithComment(e.OuAxesViewI18n.BUILDER_CHART_VALUE_SELECTION,"Sector Size","#XTIT: Value Selection label for Pie/Donut chart.");t.addTextWithComment(e.OuAxesViewI18n.BUILDER_ADD_DIMENSION_OPTIONAL,"Add a Dimension.","#XFLD: Text on a placeholder list item when currently no dimension is selected");t.addTextWithComment(e.OuAxesViewI18n.BUILDER_ADD_MEASURE_OPTIONAL,"Add a Measure.","#XFLD: Text on a placeholder list item when currently no measure is selected. This is just an info message where a Measure is not mandatory.");t.addTextWithComment(e.OuAxesViewI18n.BUILDER_ADD_ACCOUNT_OPTIONAL,"Add an Account.","#XFLD: Text on a placeholder list item when currently no account is selected. This is just an info message where an Account is not mandatory.");return t};e.OuFormulaValidationI18n=function(){};e.OuFormulaValidationI18n.prototype=new e.DfXLocalizationProvider;e.OuFormulaValidationI18n.prototype._ff_c="OuFormulaValidationI18n";e.OuFormulaValidationI18n.NAV_CALCULATION_INVALID_DEPENDENCY_INFO="FF_GDS_QB_NAV_CALCULATION_INVALID_DEPENDENCY_INFO";e.OuFormulaValidationI18n.NAV_CALCULATION_INVALID_INFO="FF_GDS_QB_NAV_CALCULATION_INVALID_INFO";e.OuFormulaValidationI18n.NAV_CALCULATION_MISSING_DIMENSIONS_INFO="FF_GDS_QB_NAV_CALCULATION_MISSING_DIMENSIONS_INFO";e.OuFormulaValidationI18n.NAV_CALCULATION_PREFERRED_HIERARCHY_MISMATCH_ACCOUNT="FF_GDS_QB_NAV_CALCULATION_PREFERRED_HIERARCHY_MISMATCH_ACCOUNT";e.OuFormulaValidationI18n.NAV_CALCULATION_PREFERRED_HIERARCHY_MISMATCH_MEASURE="FF_GDS_QB_NAV_CALCULATION_PREFERRED_HIERARCHY_MISMATCH_MEASURE";e.OuFormulaValidationI18n.PROVIDER_NAME="FormulaValidation";e.OuFormulaValidationI18n.staticSetup=function(){let t=new e.OuFormulaValidationI18n;t.setupProvider(e.OuFormulaValidationI18n.PROVIDER_NAME,true);t.addTextWithComment(e.OuFormulaValidationI18n.NAV_CALCULATION_INVALID_INFO,'Calculation "{0}" is not valid.',"#XTOL: a tooltip indicating that the calculation has some problems");t.addTextWithComment(e.OuFormulaValidationI18n.NAV_CALCULATION_INVALID_DEPENDENCY_INFO,'Calculation "{0}" is not valid because it depends on missing calculations:',"#XTOL: a tooltip indicating that the calculation has problems because it depends on other calculations that were deleted, which names are listed after the colon");t.addTextWithComment(e.OuFormulaValidationI18n.NAV_CALCULATION_MISSING_DIMENSIONS_INFO,'Calculation "{0}" requires the following dimensions to be selected in the table:',"#XTOL: A tooltip indicating that the calculation {0} needs certain dimensions on rows or columns to work, which names are listed after the colon");t.addTextWithComment(e.OuFormulaValidationI18n.NAV_CALCULATION_PREFERRED_HIERARCHY_MISMATCH_ACCOUNT,"This calculation is invalid because the account that it depends on is not available in the selected account hierarchy.","#XTOL: A tooltip indicating that the calculation depends on an account from a different hierarchy than the active one");t.addTextWithComment(e.OuFormulaValidationI18n.NAV_CALCULATION_PREFERRED_HIERARCHY_MISMATCH_MEASURE,"This calculation is invalid because the measure that it depends on is not available in the selected measure hierarchy.","#XTOL: A tooltip indicating that the calculation depends on a measure from a different hierarchy than the active one");return t};e.OuInventoryViewI18n=function(){};e.OuInventoryViewI18n.prototype=new e.DfXLocalizationProvider;e.OuInventoryViewI18n.prototype._ff_c="OuInventoryViewI18n";e.OuInventoryViewI18n.NAV_CALCULATION_DELETED_FILTER_DELETED_ACCOUNT="FF_GDS_QB_NAV_CALCULATION_DELETED_FILTER_DELETED_ACCOUNT";e.OuInventoryViewI18n.NAV_CALCULATION_DELETED_FILTER_DELETED_MEASURE="FF_GDS_QB_NAV_CALCULATION_DELETED_FILTER_DELETED_MEASURE";e.OuInventoryViewI18n.NAV_CALCULATION_DELETION_INFO="FF_GDS_QB_NAV_CALCULATION_DELETION_INFO";e.OuInventoryViewI18n.NAV_CALCULATION_INVALID_ANNOUNCE_UPDATE="FF_GDS_QB_NAV_CALCULATION_INVALID_ANNOUNCE_UPDATE";e.OuInventoryViewI18n.NAV_CREATE_CALCULATION="FF_GDS_QB_NAV_CREATE_CALCULATION";e.OuInventoryViewI18n.NAV_DELETE_CALCULATION="FF_GDS_QB_NAV_DELETE_CALCULATION";e.OuInventoryViewI18n.NAV_DIMENSIONS="FF_GDS_QB_NAV_DIMENSIONS";e.OuInventoryViewI18n.NAV_DIM_MENU_GROUPS_COLLAPSED="FF_GDS_QB_NAV_DIM_MENU_GROUPS_COLLAPSED";e.OuInventoryViewI18n.NAV_DIM_MENU_GROUPS_EXPANDED="FF_GDS_QB_NAV_DIM_MENU_GROUPS_EXPANDED";e.OuInventoryViewI18n.NAV_DIM_MENU_GROUPS_FLAT="FF_GDS_QB_NAV_DIM_MENU_GROUPS_FLAT";e.OuInventoryViewI18n.NAV_EDIT_CALCULATION="FF_GDS_QB_NAV_EDIT_CALCULATION";e.OuInventoryViewI18n.NAV_FILTER_DIALOG_TITLE="FF_GDS_QB_NAV_FILTER_DIALOG_TITLE";e.OuInventoryViewI18n.NAV_HIDE_PANEL="FF_GDS_QB_NAV_HIDE_PANEL";e.OuInventoryViewI18n.NAV_MENU_SORT="FF_GDS_QB_NAV_MENU_SORT";e.OuInventoryViewI18n.NAV_MENU_SORT_ASCENDING="FF_GDS_QB_NAV_MENU_SORT_ASCENDING";e.OuInventoryViewI18n.NAV_MENU_SORT_DEFAULT="FF_GDS_QB_NAV_MENU_SORT_DEFAULT";e.OuInventoryViewI18n.NAV_MENU_SORT_DESCENDING="FF_GDS_QB_NAV_MENU_SORT_DESCENDING";e.OuInventoryViewI18n.NAV_SELECT_ALL="FF_GDS_QB_NAV_SELECT_ALL";e.OuInventoryViewI18n.NAV_THRESHOLD_INVALID_INFO_INVALID_CALC="FF_GDS_QB_NAV_THRESHOLD_INVALID_INFO_INVALID_CALC";e.OuInventoryViewI18n.NAV_THRESHOLD_INVALID_INFO_MISSING_CALC="FF_GDS_QB_NAV_THRESHOLD_INVALID_INFO_MISSING_CALC ";e.OuInventoryViewI18n.PROVIDER_NAME="InventoryView";e.OuInventoryViewI18n.staticSetup=function(){let t=new e.OuInventoryViewI18n;t.setupProvider(e.OuInventoryViewI18n.PROVIDER_NAME,true);t.addText(e.OuInventoryViewI18n.NAV_DIMENSIONS,"Dimensions");t.addComment(e.OuInventoryViewI18n.NAV_DIMENSIONS,"#XTIT: The section that contains generic (no special) dimensions");t.addText(e.OuInventoryViewI18n.NAV_SELECT_ALL,"Select All");t.addComment(e.OuInventoryViewI18n.NAV_SELECT_ALL,"#XCKL: A checkbox to select all other checkboxes underneath");t.addText(e.OuInventoryViewI18n.NAV_HIDE_PANEL,"Hide available objects");t.addComment(e.OuInventoryViewI18n.NAV_HIDE_PANEL,"#XMIT: Hide available objects");t.addText(e.OuInventoryViewI18n.NAV_FILTER_DIALOG_TITLE,"Set Filter for {0}");t.addComment(e.OuInventoryViewI18n.NAV_FILTER_DIALOG_TITLE,"#XTIT: the title of a dialog to create a filter on a dimension (placeholder is the dimension name)");t.addText(e.OuInventoryViewI18n.NAV_CREATE_CALCULATION,"Add Calculation");t.addComment(e.OuInventoryViewI18n.NAV_CREATE_CALCULATION,"#XLNK: a link that will open a formula dialog to let the user create a calculation");t.addTextWithComment(e.OuInventoryViewI18n.NAV_DIM_MENU_GROUPS_FLAT,"Show Groups","#XMIT: a menu item that makes dimension groups be shown");t.addTextWithComment(e.OuInventoryViewI18n.NAV_DIM_MENU_GROUPS_COLLAPSED,"Collapse All Groups","#XMIT: a menu item that collapses all dimension groups");t.addTextWithComment(e.OuInventoryViewI18n.NAV_DIM_MENU_GROUPS_EXPANDED,"Expand All Groups","#XMIT: a menu item that expands all dimension groups");t.addTextWithComment(e.OuInventoryViewI18n.NAV_EDIT_CALCULATION,"Edit Calculation","#XTOL: a tooltip of an edit button for calculations");t.addTextWithComment(e.OuInventoryViewI18n.NAV_DELETE_CALCULATION,"Delete Calculation","#XTOL: a tooltip of an delete button for calculations");t.addTextWithComment(e.OuInventoryViewI18n.NAV_CALCULATION_DELETION_INFO,'Calculated Measure "{0}" has been deleted.',"#XMSG: a toast message explaining that a calculation with the name {0} was deleted");t.addTextWithComment(e.OuInventoryViewI18n.NAV_CALCULATION_INVALID_ANNOUNCE_UPDATE,'Calculation "{0}" is not valid',"#XMSG: Hidden message for screen reader to announce the calculation became invalid.");t.addTextWithComment(e.OuInventoryViewI18n.NAV_THRESHOLD_INVALID_INFO_MISSING_CALC,'Threshold "{0}" is not valid because it depends on missing Calculation "{1}"',"#XMSG: a toast message explaining that the Threshold with the name {0} was using a now deleted Calculation with the name {1}");t.addTextWithComment(e.OuInventoryViewI18n.NAV_THRESHOLD_INVALID_INFO_INVALID_CALC,'Threshold "{0}" is not valid because it depends on invalid Calculation "{1}"',"#XMSG: a toast message explaining that the Threshold with the name {0} was using a now invalid Calculation with the name {1}");t.addTextWithComment(e.OuInventoryViewI18n.NAV_MENU_SORT,"Sort","#XMIT: a menu entry with different options to change the sort order of ui elements");t.addTextWithComment(e.OuInventoryViewI18n.NAV_MENU_SORT_ASCENDING,"Ascending","#XMIT: a menu item to sort ui elements in ascending order");t.addTextWithComment(e.OuInventoryViewI18n.NAV_MENU_SORT_DESCENDING,"Descending","#XMIT: a menu item to sort ui elements in descending order");t.addTextWithComment(e.OuInventoryViewI18n.NAV_MENU_SORT_DEFAULT,"Default Order","#XMIT: a menu item to sort ui elements in default order");t.addTextWithComment(e.OuInventoryViewI18n.NAV_CALCULATION_DELETED_FILTER_DELETED_MEASURE,'Filter on "{0}" has been deleted because the calculated measure "{1}" has been deleted.',"#XMSG: Filter deleted in response to a deleted calculated measure.");t.addTextWithComment(e.OuInventoryViewI18n.NAV_CALCULATION_DELETED_FILTER_DELETED_ACCOUNT,'Filter on "{0}" has been deleted because the calculated account "{1}" has been deleted.',"#XMSG: Filter deleted in response to a deleted calculated account.");return t};e.OuDisplayFormattingI18n=function(){};e.OuDisplayFormattingI18n.prototype=new e.DfXLocalizationProvider;e.OuDisplayFormattingI18n.prototype._ff_c="OuDisplayFormattingI18n";e.OuDisplayFormattingI18n.PROVIDER_NAME="DisplayFormatting";e.OuDisplayFormattingI18n.STYLE_ALIGNMENT="FF_GDS_ALIGNMENT";e.OuDisplayFormattingI18n.STYLE_ALIGNMENT_BOTTOM="FF_GDS_STYLE_ALIGNMENT_BOTTOM";e.OuDisplayFormattingI18n.STYLE_ALIGNMENT_CENTER="FF_GDS_STYLE_ALIGNMENT_CENTER";e.OuDisplayFormattingI18n.STYLE_ALIGNMENT_LEFT="FF_GDS_STYLE_ALIGNMENT_LEFT";e.OuDisplayFormattingI18n.STYLE_ALIGNMENT_MIDDLE="FF_GDS_STYLE_ALIGNMENT_MIDDLE";e.OuDisplayFormattingI18n.STYLE_ALIGNMENT_RIGHT="FF_GDS_STYLE_ALIGNMENT_RIGHT";e.OuDisplayFormattingI18n.STYLE_ALIGNMENT_TOP="FF_GDS_STYLE_ALIGNMENT_TOP";e.OuDisplayFormattingI18n.STYLE_AVOID_OVERLAP="FF_GDS_STYLE_AVOID_OVERLAP";e.OuDisplayFormattingI18n.STYLE_AXIS_LABEL="FF_GDS_STYLE_FORMAT_TEXT_X_AXIS_LABEL";e.OuDisplayFormattingI18n.STYLE_AXIS_TITLE="FF_GDS_STYLE_FORMAT_TEXT_X_AXIS_TITLE";e.OuDisplayFormattingI18n.STYLE_BOLD="FF_GDS_STYLE_FACE_BOLD";e.OuDisplayFormattingI18n.STYLE_BOLD_ITALIC="FF_GDS_STYLE_FACE_BOLD_ITALIC";e.OuDisplayFormattingI18n.STYLE_DATA_LABEL="FF_GDS_STYLE_FORMAT_TEXT_DATA_LABEL";e.OuDisplayFormattingI18n.STYLE_DEFAULT="FF_GDS_STYLE_DISPLAY_DEFAULT";e.OuDisplayFormattingI18n.STYLE_DETAILS="FF_GDS_STYLE_FORMAT_TEXT_DETAILS";e.OuDisplayFormattingI18n.STYLE_DIRECTION_HORIZONTAL="FF_GDS_STYLE_DIRECTION_HORIZONTAL";e.OuDisplayFormattingI18n.STYLE_DIRECTION_VERTICAL="FF_GDS_STYLE_DIRECTION_VERTICAL";e.OuDisplayFormattingI18n.STYLE_DISPLAY_FORMATTING_RESET="FF_GDS_STYLE_DISPLAY_FORMATTING_RESET";e.OuDisplayFormattingI18n.STYLE_DISPLAY_FORMATTING_TITLE="FF_GDS_STYLE_DISPLAY_FORMATTING_TITLE";e.OuDisplayFormattingI18n.STYLE_DS_TITLE="FF_GDS_STYLE_FORMAT_TEXT_DS_TITLE";e.OuDisplayFormattingI18n.STYLE_FORMATTING_COLOR="FF_GDS_STYLE_FORMATTING_COLOR";e.OuDisplayFormattingI18n.STYLE_FORMATTING_FONT="FF_GDS_STYLE_FORMATTING_FONT";e.OuDisplayFormattingI18n.STYLE_FORMATTING_SIZE="FF_GDS_STYLE_FORMATTING_SIZE";e.OuDisplayFormattingI18n.STYLE_FORMATTING_STYLE="FF_GDS_STYLE_FORMATTING_STYLE";e.OuDisplayFormattingI18n.STYLE_FORMATTING_TEXT_SELECTION="FF_GDS_STYLE_FORMATTING_TEXT_SELECTION";e.OuDisplayFormattingI18n.STYLE_ITALIC="FF_GDS_STYLE_FACE_ITALIC";e.OuDisplayFormattingI18n.STYLE_LEGEND="FF_GDS_STYLE_FORMAT_TEXT_LEGEND";e.OuDisplayFormattingI18n.STYLE_PLACEMENT="FF_GDS_STYLE_PLACEMENT";e.OuDisplayFormattingI18n.STYLE_PLACEMENT_ABOVE_CHART="FF_GDS_STYLE_PLACEMENT_ABOVE_CHART";e.OuDisplayFormattingI18n.STYLE_PLACEMENT_BELOW_CHART="FF_GDS_STYLE_PLACEMENT_BELOW_CHART";e.OuDisplayFormattingI18n.STYLE_PLACEMENT_BESIDE_CHART_RIGHT="FF_GDS_STYLE_PLACEMENT_BESIDE_CHART_RIGHT";e.OuDisplayFormattingI18n.STYLE_REGULAR="FF_GDS_STYLE_FACE_REGULAR";e.OuDisplayFormattingI18n.STYLE_SHOW_AXIS_TITLE="FF_GDS_STYLE_SHOW_AXIS_TITLE";e.OuDisplayFormattingI18n.STYLE_SHOW_DATA_LABEL="FF_GDS_STYLE_SHOW_DATA_LABEL";e.OuDisplayFormattingI18n.STYLE_SHOW_LEGEND="FF_GDS_STYLE_SHOW_LEGEND";e.OuDisplayFormattingI18n.getLocalization=function(){return e.XLocalizationCenter.getCenter().getLocalizationProviderByName(e.OuDisplayFormattingI18n.PROVIDER_NAME)};e.OuDisplayFormattingI18n.staticSetup=function(){let t=new e.OuDisplayFormattingI18n;t.setupProvider(e.OuDisplayFormattingI18n.PROVIDER_NAME,true);t.addText(e.OuDisplayFormattingI18n.STYLE_DISPLAY_FORMATTING_TITLE,"Display Properties");t.addComment(e.OuDisplayFormattingI18n.STYLE_DISPLAY_FORMATTING_TITLE,"#XTIT: The heading of the section for the display properties");t.addText(e.OuDisplayFormattingI18n.STYLE_DISPLAY_FORMATTING_RESET,"Reset all to default");t.addComment(e.OuDisplayFormattingI18n.STYLE_DISPLAY_FORMATTING_RESET,"#XBUT: A button to reset all settings to the default");t.addText(e.OuDisplayFormattingI18n.STYLE_FORMATTING_TEXT_SELECTION,"Text Selection");t.addComment(e.OuDisplayFormattingI18n.STYLE_FORMATTING_TEXT_SELECTION,"#XFLD: A dropdown to select what text type should be formatted");t.addText(e.OuDisplayFormattingI18n.STYLE_FORMATTING_FONT,"Font");t.addComment(e.OuDisplayFormattingI18n.STYLE_FORMATTING_FONT,"#XFLD: A dropdown to select the font family");t.addText(e.OuDisplayFormattingI18n.STYLE_FORMATTING_SIZE,"Size");t.addComment(e.OuDisplayFormattingI18n.STYLE_FORMATTING_SIZE,"#XFLD: A dropdown to select the font size");t.addText(e.OuDisplayFormattingI18n.STYLE_FORMATTING_COLOR,"Color");t.addComment(e.OuDisplayFormattingI18n.STYLE_FORMATTING_COLOR,"#XFLD: A dropdown to select the font color");t.addText(e.OuDisplayFormattingI18n.STYLE_FORMATTING_STYLE,"Style");t.addComment(e.OuDisplayFormattingI18n.STYLE_FORMATTING_STYLE,"#XFLD: A dropdown to select the font style");t.addText(e.OuDisplayFormattingI18n.STYLE_AVOID_OVERLAP,"Avoid Overlap");t.addComment(e.OuDisplayFormattingI18n.STYLE_AVOID_OVERLAP,"#XFLD: A switch to specify that the labels should not overlap");t.addText(e.OuDisplayFormattingI18n.STYLE_PLACEMENT,"Placement");t.addComment(e.OuDisplayFormattingI18n.STYLE_PLACEMENT,"#XFLD: A dropdown to specify legend placement");t.addText(e.OuDisplayFormattingI18n.STYLE_ALIGNMENT,"Alignment");t.addComment(e.OuDisplayFormattingI18n.STYLE_ALIGNMENT,"#XFLD: A split button to specify the text alignment");t.addText(e.OuDisplayFormattingI18n.STYLE_SHOW_LEGEND,"Show Legend");t.addComment(e.OuDisplayFormattingI18n.STYLE_SHOW_LEGEND,"#XFLD: A switch to specify whether the legend is supposed to be shown");t.addText(e.OuDisplayFormattingI18n.STYLE_SHOW_DATA_LABEL,"Show Data Label");t.addComment(e.OuDisplayFormattingI18n.STYLE_SHOW_DATA_LABEL,"#XFLD: A switch to specify whether the data label is supposed to be shown");t.addText(e.OuDisplayFormattingI18n.STYLE_SHOW_AXIS_TITLE,"Show Axis Title");t.addComment(e.OuDisplayFormattingI18n.STYLE_SHOW_AXIS_TITLE,"#XFLD: A switch to specify whether the axis title is supposed to be shown");t.addText(e.OuDisplayFormattingI18n.STYLE_DS_TITLE,"Title");t.addComment(e.OuDisplayFormattingI18n.STYLE_DS_TITLE,"#XSEL: A dropdown entry for selecting the 'title' to be formatted");t.addText(e.OuDisplayFormattingI18n.STYLE_DETAILS,"Details");t.addComment(e.OuDisplayFormattingI18n.STYLE_DETAILS,"#XSEL: A dropdown entry for selecting the 'details' to be formatted");t.addText(e.OuDisplayFormattingI18n.STYLE_AXIS_LABEL,"Axis Label");t.addComment(e.OuDisplayFormattingI18n.STYLE_AXIS_LABEL,"#XSEL: A dropdown entry for selecting the 'axis label' to be formatted");t.addText(e.OuDisplayFormattingI18n.STYLE_AXIS_TITLE,"Axis Title");t.addComment(e.OuDisplayFormattingI18n.STYLE_AXIS_TITLE,"#XSEL: A dropdown entry for selecting the 'axis title' to be formatted");t.addText(e.OuDisplayFormattingI18n.STYLE_DATA_LABEL,"Data Label");t.addComment(e.OuDisplayFormattingI18n.STYLE_DATA_LABEL,"#XSEL: A dropdown entry for selecting the 'data label' to be formatted");t.addText(e.OuDisplayFormattingI18n.STYLE_LEGEND,"Legend");t.addComment(e.OuDisplayFormattingI18n.STYLE_LEGEND,"#XSEL: A dropdown entry for selecting the 'legend' to be formatted");t.addText(e.OuDisplayFormattingI18n.STYLE_DEFAULT,"Default");t.addComment(e.OuDisplayFormattingI18n.STYLE_DEFAULT,"#XSEL: A dropdown entry to represent the default configuration");t.addText(e.OuDisplayFormattingI18n.STYLE_REGULAR,"Regular");t.addComment(e.OuDisplayFormattingI18n.STYLE_REGULAR,"#XSEL: A dropdown entry to represent the Regular Font Face");t.addText(e.OuDisplayFormattingI18n.STYLE_BOLD,"Bold");t.addComment(e.OuDisplayFormattingI18n.STYLE_BOLD,"#XSEL: A dropdown entry to represent the Bold Font Face");t.addText(e.OuDisplayFormattingI18n.STYLE_ITALIC,"Italic");t.addComment(e.OuDisplayFormattingI18n.STYLE_ITALIC,"#XSEL: A dropdown entry to represent the Italic Font Face");t.addText(e.OuDisplayFormattingI18n.STYLE_BOLD_ITALIC,"Bold Italic");t.addComment(e.OuDisplayFormattingI18n.STYLE_BOLD_ITALIC,"#XSEL: A dropdown entry to represent the Bold-Italic Font Face");t.addText(e.OuDisplayFormattingI18n.STYLE_PLACEMENT_BESIDE_CHART_RIGHT,"Beside Chart (Right)");t.addComment(e.OuDisplayFormattingI18n.STYLE_PLACEMENT_BESIDE_CHART_RIGHT,"#XSEL: A dropdown entry to specify that the legend should be displayed right to the chart");t.addText(e.OuDisplayFormattingI18n.STYLE_PLACEMENT_ABOVE_CHART,"Above Chart");t.addComment(e.OuDisplayFormattingI18n.STYLE_PLACEMENT_ABOVE_CHART,"#XSEL: A dropdown entry to specify that the legend should be displayed above the chart");t.addText(e.OuDisplayFormattingI18n.STYLE_PLACEMENT_BELOW_CHART,"Below Chart");t.addComment(e.OuDisplayFormattingI18n.STYLE_PLACEMENT_BELOW_CHART,"#XSEL: A dropdown entry to specify that the legend should be displayed below the chart");t.addText(e.OuDisplayFormattingI18n.STYLE_ALIGNMENT_LEFT,"Left");t.addComment(e.OuDisplayFormattingI18n.STYLE_ALIGNMENT_LEFT,"#XTOL: A tooltip for a split button to specify left text alignment");t.addText(e.OuDisplayFormattingI18n.STYLE_ALIGNMENT_CENTER,"Center");t.addComment(e.OuDisplayFormattingI18n.STYLE_ALIGNMENT_CENTER,"#XTOL: A tooltip for a split button to specify centered text alignment");t.addText(e.OuDisplayFormattingI18n.STYLE_ALIGNMENT_RIGHT,"Right");t.addComment(e.OuDisplayFormattingI18n.STYLE_ALIGNMENT_RIGHT,"#XTOL: A tooltip for a split button to specify right text alignment");t.addText(e.OuDisplayFormattingI18n.STYLE_ALIGNMENT_TOP,"Top");t.addComment(e.OuDisplayFormattingI18n.STYLE_ALIGNMENT_TOP,"#XTOL: A tooltip for a split button to specify top text alignment");t.addText(e.OuDisplayFormattingI18n.STYLE_ALIGNMENT_MIDDLE,"Middle");t.addComment(e.OuDisplayFormattingI18n.STYLE_ALIGNMENT_MIDDLE,"#XTOL: A tooltip for a split button to specify middle text alignment");t.addText(e.OuDisplayFormattingI18n.STYLE_ALIGNMENT_BOTTOM,"Bottom");t.addComment(e.OuDisplayFormattingI18n.STYLE_ALIGNMENT_BOTTOM,"#XTOL: A tooltip for a split button to specify bottom text alignment");t.addText(e.OuDisplayFormattingI18n.STYLE_DIRECTION_HORIZONTAL,"Horizontal");t.addComment(e.OuDisplayFormattingI18n.STYLE_DIRECTION_HORIZONTAL,"#XTOL: A tooltip for a split button to specify horizontal layout direction");t.addText(e.OuDisplayFormattingI18n.STYLE_DIRECTION_VERTICAL,"Vertical");t.addComment(e.OuDisplayFormattingI18n.STYLE_DIRECTION_VERTICAL,"#XTOL: A tooltip for a split button to specify vertical layout direction");return t};e.OuNumberFormattingI18n=function(){};e.OuNumberFormattingI18n.prototype=new e.DfXLocalizationProvider;e.OuNumberFormattingI18n.prototype._ff_c="OuNumberFormattingI18n";e.OuNumberFormattingI18n.PROVIDER_NAME="NumberFormatting";e.OuNumberFormattingI18n.STYLE_ACCOUNT_ALL="FF_GDS_STYLE_ACCOUNT_ALL";e.OuNumberFormattingI18n.STYLE_ACCOUNT_SELECTION="FF_GDS_STYLE_ACCOUNT_SELECTION";e.OuNumberFormattingI18n.STYLE_DECIMAL_PLACES="FF_GDS_STYLE_DECIMAL_PLACES";e.OuNumberFormattingI18n.STYLE_DEFAULT="FF_GDS_STYLE_DEFAULT";e.OuNumberFormattingI18n.STYLE_MEASURE_ALL="FF_GDS_STYLE_MEASURE_ALL";e.OuNumberFormattingI18n.STYLE_MEASURE_SELECTION="FF_GDS_STYLE_MEASURE_SELECTION";e.OuNumberFormattingI18n.STYLE_NUMBER_FORMAT_RESET="FF_GDS_STYLE_NUMBER_FORMAT_RESET";e.OuNumberFormattingI18n.STYLE_NUMBER_FORMAT_TITLE="FF_GDS_STYLE_NUMBER_FORMAT_TITLE";e.OuNumberFormattingI18n.STYLE_OTHER="FF_GDS_STYLE_OTHER";e.OuNumberFormattingI18n.STYLE_SCALE="FF_GDS_STYLE_SCALE";e.OuNumberFormattingI18n.STYLE_SCALE_FORMAT="FF_GDS_STYLE_SCALE_FORMAT";e.OuNumberFormattingI18n.STYLE_SCALE_FORMAT_LONG="FF_GDS_STYLE_FORMAT_LONG";e.OuNumberFormattingI18n.STYLE_SCALE_FORMAT_SHORT="FF_GDS_STYLE_FORMAT_SHORT";e.OuNumberFormattingI18n.STYLE_SCALE_LONG_BILLION="FF_GDS_STYLE_SCALE_LONG_BILLION";e.OuNumberFormattingI18n.STYLE_SCALE_LONG_MILLION="FF_GDS_STYLE_SCALE_LONG_MILLION";e.OuNumberFormattingI18n.STYLE_SCALE_LONG_THOUSAND="FF_GDS_STYLE_SCALE_LONG_THOUSAND";e.OuNumberFormattingI18n.STYLE_SCALE_SHORT_BILLION="FF_GDS_STYLE_SCALE_SHORT_BILLION";e.OuNumberFormattingI18n.STYLE_SCALE_SHORT_MILLION="FF_GDS_STYLE_SCALE_SHORT_MILLION";e.OuNumberFormattingI18n.STYLE_SCALE_SHORT_THOUSAND="FF_GDS_STYLE_SCALE_SHORT_THOUSAND";e.OuNumberFormattingI18n.STYLE_SCALE_UNFORMATTED="FF_GDS_STYLE_SCALE_UNFORMATTED";e.OuNumberFormattingI18n.STYLE_SIGN="FF_GDS_STYLE_SIGN";e.OuNumberFormattingI18n.getLocalization=function(){return e.XLocalizationCenter.getCenter().getLocalizationProviderByName(e.OuNumberFormattingI18n.PROVIDER_NAME)};e.OuNumberFormattingI18n.staticSetup=function(){let t=new e.OuNumberFormattingI18n;t.setupProvider(e.OuNumberFormattingI18n.PROVIDER_NAME,true);t.addText(e.OuNumberFormattingI18n.STYLE_NUMBER_FORMAT_TITLE,"Number Format");t.addComment(e.OuNumberFormattingI18n.STYLE_NUMBER_FORMAT_TITLE,"#XTIT: The heading of the section for number formatting");t.addText(e.OuNumberFormattingI18n.STYLE_NUMBER_FORMAT_RESET,"Reset all to default");t.addComment(e.OuNumberFormattingI18n.STYLE_NUMBER_FORMAT_RESET,"#XBUT: A button to reset all settings to the default");t.addText(e.OuNumberFormattingI18n.STYLE_MEASURE_SELECTION,"Measure Selection");t.addComment(e.OuNumberFormattingI18n.STYLE_MEASURE_SELECTION,"#XFLD: The description of a dropdown to select which measure to configure");t.addText(e.OuNumberFormattingI18n.STYLE_ACCOUNT_SELECTION,"Account Selection");t.addComment(e.OuNumberFormattingI18n.STYLE_ACCOUNT_SELECTION,"#XFLD: The description of a dropdown to select which account to configure");t.addText(e.OuNumberFormattingI18n.STYLE_MEASURE_ALL,"All Measures");t.addComment(e.OuNumberFormattingI18n.STYLE_MEASURE_ALL,"#XFLD: An entry in the list of measure to configure all measures at once");t.addText(e.OuNumberFormattingI18n.STYLE_ACCOUNT_ALL,"All Accounts");t.addComment(e.OuNumberFormattingI18n.STYLE_ACCOUNT_ALL,"#XFLD: An entry in the list of accounts to configure all accounts at once");t.addText(e.OuNumberFormattingI18n.STYLE_SCALE,"Scale");t.addComment(e.OuNumberFormattingI18n.STYLE_SCALE,"#XFLD: The description of a dropdown to set the scaling of numbers");t.addText(e.OuNumberFormattingI18n.STYLE_SCALE_UNFORMATTED,"Unformatted");t.addComment(e.OuNumberFormattingI18n.STYLE_SCALE_UNFORMATTED,"#XSEL: An entry in the list of scaling options to indicate that no format is being applied");t.addText(e.OuNumberFormattingI18n.STYLE_SCALE_SHORT_THOUSAND,"k");t.addComment(e.OuNumberFormattingI18n.STYLE_SCALE_SHORT_THOUSAND,"#XSEL: k (short form for thousand)");t.addText(e.OuNumberFormattingI18n.STYLE_SCALE_SHORT_MILLION,"m");t.addComment(e.OuNumberFormattingI18n.STYLE_SCALE_SHORT_MILLION,"#XSEL: m (short form for million)");t.addText(e.OuNumberFormattingI18n.STYLE_SCALE_SHORT_BILLION,"bn");t.addComment(e.OuNumberFormattingI18n.STYLE_SCALE_SHORT_BILLION,"#XSEL: bn (short form for billion)");t.addText(e.OuNumberFormattingI18n.STYLE_SCALE_LONG_THOUSAND,"Thousand");t.addComment(e.OuNumberFormattingI18n.STYLE_SCALE_LONG_THOUSAND,"#XSEL: Thousand");t.addText(e.OuNumberFormattingI18n.STYLE_SCALE_LONG_MILLION,"Million");t.addComment(e.OuNumberFormattingI18n.STYLE_SCALE_LONG_MILLION,"#XSEL: Million");t.addText(e.OuNumberFormattingI18n.STYLE_SCALE_LONG_BILLION,"Billion");t.addComment(e.OuNumberFormattingI18n.STYLE_SCALE_LONG_BILLION,"#XSEL: Billion");t.addText(e.OuNumberFormattingI18n.STYLE_SCALE_FORMAT,"Scale Format");t.addComment(e.OuNumberFormattingI18n.STYLE_SCALE_FORMAT,"#XFLD: The description of a dropdown to switch between short (k) and long (Thousand) scale representation");t.addText(e.OuNumberFormattingI18n.STYLE_SCALE_FORMAT_SHORT,"k, m, bn");t.addComment(e.OuNumberFormattingI18n.STYLE_SCALE_FORMAT_SHORT,"#XSEL: A dropdown entry to select short representation of scaling (e.g. k)");t.addText(e.OuNumberFormattingI18n.STYLE_SCALE_FORMAT_LONG,"Thousand, Million, Billion");t.addComment(e.OuNumberFormattingI18n.STYLE_SCALE_FORMAT_LONG,"#XSEL: A dropdown entry to select long representation of scaling (e.g. Thousand)");t.addText(e.OuNumberFormattingI18n.STYLE_DECIMAL_PLACES,"Decimal Places");t.addComment(e.OuNumberFormattingI18n.STYLE_DECIMAL_PLACES,"#XFLD: The description of a dropdown to set how many digits should be used for decimals");t.addText(e.OuNumberFormattingI18n.STYLE_SIGN,"Show Sign As");t.addComment(e.OuNumberFormattingI18n.STYLE_SIGN,"#XFLD: The description of a dropdown to configure how negative numbers should be represented");t.addText(e.OuNumberFormattingI18n.STYLE_DEFAULT,"Default");t.addComment(e.OuNumberFormattingI18n.STYLE_DEFAULT,"#XSEL: A dropdown entry to represent the default configuration");t.addText(e.OuNumberFormattingI18n.STYLE_OTHER,"Other");t.addComment(e.OuNumberFormattingI18n.STYLE_OTHER,"#XSEL: A fallback dropdown entry to represent an unknown setting");return t};e.OuCalcCommandPluginWithSharedSpace=function(){};e.OuCalcCommandPluginWithSharedSpace.prototype=new e.HuDfCommandPlugin;e.OuCalcCommandPluginWithSharedSpace.prototype._ff_c="OuCalcCommandPluginWithSharedSpace";e.OuCalcCommandPluginWithSharedSpace.prototype.getSharedDataSpace=function(){return e.OuCalcSharedDataSpaceManager.create(this.getController().getProcess()).get()};e.OuCalcDetailsAreaView=function(){};e.OuCalcDetailsAreaView.prototype=new e.DfUiContentView;e.OuCalcDetailsAreaView.prototype._ff_c="OuCalcDetailsAreaView";e.OuCalcDetailsAreaView.create=function(t,i,o,n){let a=new e.OuCalcDetailsAreaView;a.m_i18n=e.XLocalizationCenter.getCenter().getLocalizationProviderByName(e.OuCalcDetailsAreaViewI18n.PROVIDER_NAME);a.m_isEdit=n;a.m_validator=e.notNull(t)?t:e.FeCalculationValidator.createEmpty();a._setInitialData(i,o);a.m_onIdChangedConsumers=e.XConsumerCollection.create();a.m_onNameChangedConsumers=e.XConsumerCollection.create();return a};e.OuCalcDetailsAreaView.prototype.m_i18n=null;e.OuCalcDetailsAreaView.prototype.m_idInput=null;e.OuCalcDetailsAreaView.prototype.m_initDesc=null;e.OuCalcDetailsAreaView.prototype.m_initId=null;e.OuCalcDetailsAreaView.prototype.m_isEdit=false;e.OuCalcDetailsAreaView.prototype.m_nameInput=null;e.OuCalcDetailsAreaView.prototype.m_onIdChangedConsumers=null;e.OuCalcDetailsAreaView.prototype.m_onNameChangedConsumers=null;e.OuCalcDetailsAreaView.prototype.m_validator=null;e.OuCalcDetailsAreaView.prototype._setInitialData=function(t,i){e.XObjectExt.assertStringNotNullAndNotEmptyExt(t,"Initial id cannot be null");e.XObjectExt.assertStringNotNullAndNotEmptyExt(i,"Initial description cannot be null");this.m_initId=t;this.m_validator.setId(t);this.m_initDesc=i};e.OuCalcDetailsAreaView.prototype.addOnIdChangeConsumer=function(e){return this.m_onIdChangedConsumers.addConsumer(e)};e.OuCalcDetailsAreaView.prototype.addOnNameChangeConsumer=function(e){return this.m_onNameChangedConsumers.addConsumer(e)};e.OuCalcDetailsAreaView.prototype.buildViewUi=function(t){e.XObjectExt.assertNotNull(t);let i=t.newRoot(e.UiType.FLEX_LAYOUT);i.addCssClass("ffFormulaEditorDetailsAreaView");i.setDirection(e.UiFlexDirection.ROW);i.setAlignItems(e.UiFlexAlignItems.CENTER);i.setWrap(e.UiFlexWrap.NO_WRAP);this.createNameArea(i);this.createIDArea(i);this.validate();if(!this.m_isEdit){this.m_idInput.registerOnLiveChange(e.UiLambdaLiveChangeListener.create(e=>{this.m_nameInput.setPlaceholder(this.m_idInput.getValue());this.m_validator.setId(this.m_idInput.getValue());this.validate();this.m_onIdChangedConsumers.accept(this)}))}this.m_nameInput.registerOnLiveChange(e.UiLambdaLiveChangeListener.create(e=>{this.m_validator.setName(this.m_nameInput.getValue());this.validate();this.m_onNameChangedConsumers.accept(this)}))};e.OuCalcDetailsAreaView.prototype.clearErrors=function(){this.clearInlineError(this.m_idInput);this.clearInlineError(this.m_nameInput)};e.OuCalcDetailsAreaView.prototype.clearInlineError=function(t){t.setValueState(e.UiValueState.NONE)};e.OuCalcDetailsAreaView.prototype.createIDArea=function(t){e.XObjectExt.assertNotNull(t);let i=t.addNewItemOfType(e.UiType.FLEX_LAYOUT);i.setDirection(e.UiFlexDirection.COLUMN);i.addCssClass("ffFormulaEditor-DetailsAreaView-IDArea-Layout");let o=i.addNewItemOfType(e.UiType.LABEL);let n=this.m_i18n.getText(e.OuCalcDetailsAreaViewI18n.FE_ID_AREA_LABEL);o.setText(n);o.setShowColon(true);this.m_idInput=i.addNewItemOfType(e.UiType.INPUT);this.m_idInput.setValue(this.m_initId);this.m_idInput.addCssClass("ffFormulaEditor-DetailsAreaView-IDArea-Input");this.m_idInput.setRequired(true);this.m_idInput.setMaxLength(this.m_validator.getMaxLength());this.m_idInput.setEditable(!this.m_isEdit);o.setLabelFor(this.m_idInput)};e.OuCalcDetailsAreaView.prototype.createNameArea=function(t){e.XObjectExt.assertNotNull(t);let i=t.addNewItemOfType(e.UiType.FLEX_LAYOUT);i.setDirection(e.UiFlexDirection.COLUMN);i.addCssClass("ffFormulaEditor-DetailsAreaView-NameArea-Layout");let o=i.addNewItemOfType(e.UiType.LABEL);let n=this.m_i18n.getText(e.OuCalcDetailsAreaViewI18n.NAME_AREA_LABEL);o.setText(n);o.setShowColon(true);this.m_nameInput=i.addNewItemOfType(e.UiType.INPUT);this.m_nameInput.addCssClass("ffFormulaEditor-DetailsAreaView-NameArea-Input");this.m_nameInput.setPlaceholder(this.m_initId);this.m_nameInput.addLabelledBy(o);this.m_nameInput.setMaxLength(this.m_validator.getMaxLength());if(!e.XStringUtils.isNullOrEmpty(this.m_initDesc)){this.m_nameInput.setValue(this.m_initDesc)}};e.OuCalcDetailsAreaView.prototype.destroyView=function(){this.m_i18n=null;this.m_idInput=null;this.m_nameInput=null;this.m_initId=null;this.m_initDesc=null;this.m_onIdChangedConsumers.clear();this.m_onIdChangedConsumers=e.XObjectExt.release(this.m_onIdChangedConsumers);this.m_onNameChangedConsumers.clear();this.m_onNameChangedConsumers=e.XObjectExt.release(this.m_onNameChangedConsumers);this.m_validator=e.XObjectExt.release(this.m_validator)};e.OuCalcDetailsAreaView.prototype.displayInlineErrorMsg=function(t,i){t.setValueState(e.UiValueState.ERROR);t.setValueStateText(i)};e.OuCalcDetailsAreaView.prototype.focus=function(){this.m_nameInput.focus()};e.OuCalcDetailsAreaView.prototype.getErrors=function(){return this.m_validator.validate().getErrors()};e.OuCalcDetailsAreaView.prototype.getId=function(){return this.m_idInput.getValue()};e.OuCalcDetailsAreaView.prototype.getName=function(){return this.m_nameInput.getValue()};e.OuCalcDetailsAreaView.prototype.hasErrors=function(){return this.m_validator.validate().hasErrors()};e.OuCalcDetailsAreaView.prototype.setInitialData=function(e,t){this._setInitialData(e,t);this.m_idInput.setValue(e);this.m_nameInput.setValue(t)};e.OuCalcDetailsAreaView.prototype.setupView=function(){};e.OuCalcDetailsAreaView.prototype.validate=function(){let t=this.m_validator.validate();this.clearErrors();if(t.hasErrors()){e.XStream.of(t.getErrors()).forEach(t=>{let i=null;let o=null;if(t.getCode()===e.FeErrorCodes.CALCULATION_ID_MANDATORY){i=this.m_idInput;o=e.OuCalcDetailsAreaViewI18n.ID_ERROR_MANDATORY}else if(t.getCode()===e.FeErrorCodes.CALCULATION_ID_EXISTING){i=this.m_idInput;o=e.OuCalcDetailsAreaViewI18n.ID_ERROR_EXISTING}else if(t.getCode()===e.FeErrorCodes.CALCULATION_ID_MAX_LENGTH){i=this.m_idInput;o=e.OuCalcDetailsAreaViewI18n.ID_ERROR_MAX_LENGTH}else if(t.getCode()===e.FeErrorCodes.CALCULATION_ID_INVALID_CHARS){i=this.m_idInput;o=e.OuCalcDetailsAreaViewI18n.ID_ERROR_INVALID_CHARS}else if(t.getCode()===e.FeErrorCodes.CALCULATION_NAME_MAX_LENGTH){i=this.m_nameInput;o=e.OuCalcDetailsAreaViewI18n.NAME_ERROR_MAX_LENGTH}if(e.notNull(i)){this.displayInlineErrorMsg(i,this.m_i18n.getText(o))}})}};e.OuCalcAssistanceView=function(){};e.OuCalcAssistanceView.prototype=new e.DfUiContentView;e.OuCalcAssistanceView.prototype._ff_c="OuCalcAssistanceView";e.OuCalcAssistanceView.ERRORS_SELECTED_PANEL_INDEX=1;e.OuCalcAssistanceView.HELP_SELECTED_PANEL_INDEX=0;e.OuCalcAssistanceView.ICON_COLLAPSE_NAME="collapse-group";e.OuCalcAssistanceView.ICON_EXPAND_NAME="expand-group";e.OuCalcAssistanceView.create=function(t){let i=new e.OuCalcAssistanceView;i.m_documentationView=e.OuCalcDocumentationView.create(t);i.m_errorsView=e.OuCalcErrorsView.create();i.m_onCollapseConsumers=e.XConsumerCollection.create();return i};e.OuCalcAssistanceView.prototype.m_collapseIcon=null;e.OuCalcAssistanceView.prototype.m_contentVisible=false;e.OuCalcAssistanceView.prototype.m_documentationView=null;e.OuCalcAssistanceView.prototype.m_errorSectionBtn=null;e.OuCalcAssistanceView.prototype.m_errorsView=null;e.OuCalcAssistanceView.prototype.m_helpSectionBtn=null;e.OuCalcAssistanceView.prototype.m_mainLayout=null;e.OuCalcAssistanceView.prototype.m_onCollapseConsumers=null;e.OuCalcAssistanceView.prototype.m_sectionSwitcherSgmBtn=null;e.OuCalcAssistanceView.prototype.m_selectedTab=0;e.OuCalcAssistanceView.prototype.m_title=null;e.OuCalcAssistanceView.prototype.m_toolbar=null;e.OuCalcAssistanceView.prototype.addOnCollapseConsumer=function(e){return this.m_onCollapseConsumers.addConsumer(e)};e.OuCalcAssistanceView.prototype.buildContent=function(){this.m_documentationView.renderView(this.getGenesis());this.m_documentationView.getView().addCssClass("ffOuCalcAssistanceContentView");this.m_mainLayout.addItem(this.m_documentationView.getView());this.m_errorsView.renderView(this.getGenesis());this.m_errorsView.getView().addCssClass("ffOuCalcAssistanceContentView");this.m_mainLayout.addItem(this.m_errorsView.getView());this.m_documentationView.addChangeTitleConsumer(e=>{this.updateTitleUi()});this.m_errorsView.addChangeTitleConsumer(t=>{if(this.m_selectedTab===e.OuCalcAssistanceView.ERRORS_SELECTED_PANEL_INDEX){this.m_title.setText(t)}})};e.OuCalcAssistanceView.prototype.buildToolbar=function(){this.m_toolbar=this.m_mainLayout.addNewItemOfType(e.UiType.TOOLBAR);this.m_toolbar.addCssClass("ffOuCalcAssistanceToolbar");this.m_collapseIcon=this.m_toolbar.addNewItemOfType(e.UiType.BUTTON);this.m_collapseIcon.setButtonType(e.UiButtonType.TRANSPARENT);this.m_collapseIcon.addCssClass("ffOuCalcAssistanceCollapseIcon");this.updateCollapseIconUi();this.m_collapseIcon.registerOnPress(e.UiLambdaPressListener.create(e=>{this.toggleTabContentCollapsed()}));this.m_title=this.m_toolbar.addNewItemOfType(e.UiType.TITLE);this.m_title.setTitleLevel(e.UiTitleLevel.H_5);this.m_title.setTitleLevel(e.UiTitleLevel.H_5);this.m_toolbar.addNewItemOfType(e.UiType.SPACER);this.m_sectionSwitcherSgmBtn=this.m_toolbar.addNewItemOfType(e.UiType.SEGMENTED_BUTTON);this.m_helpSectionBtn=this.m_sectionSwitcherSgmBtn.addNewItem();this.m_helpSectionBtn.addCssClass("ffOuCalcAssistanceHelpBtn");this.m_helpSectionBtn.setText(this.getLocalization().getText(e.OuCalcFormulaEditorI18n.ASSISTANCE_HELP_BUTTON));this.m_errorSectionBtn=this.m_sectionSwitcherSgmBtn.addNewItem();this.m_errorSectionBtn.addCssClass("ffOuCalcAssistanceErrorsBtn");this.m_errorSectionBtn.setText(this.getLocalization().getText(e.OuCalcFormulaEditorI18n.ASSISTANCE_ERRORS_BUTTON));this.m_sectionSwitcherSgmBtn.registerOnSelectionChange(e.UiLambdaSelectionChangeListener.create(t=>{if(t.getSelectedItem()===this.m_helpSectionBtn){this.setActiveTab(e.OuCalcAssistanceView.HELP_SELECTED_PANEL_INDEX)}else if(t.getSelectedItem()===this.m_errorSectionBtn){this.setActiveTab(e.OuCalcAssistanceView.ERRORS_SELECTED_PANEL_INDEX)}}))};e.OuCalcAssistanceView.prototype.buildViewUi=function(t){this.m_mainLayout=t.newRoot(e.UiType.FLEX_LAYOUT);this.m_mainLayout.addCssClass("ffOuCalcAssistanceView");this.m_mainLayout.setDirection(e.UiFlexDirection.COLUMN);this.buildToolbar();this.buildContent();this.m_contentVisible=true;this.setHelpActiveTab()};e.OuCalcAssistanceView.prototype.callOnCollapseConsumers=function(t){if(t!==this.m_contentVisible){this.m_onCollapseConsumers.accept(e.XBooleanValue.create(!this.m_contentVisible))}};e.OuCalcAssistanceView.prototype.destroyView=function(){this.m_onCollapseConsumers.clear();this.m_onCollapseConsumers=e.XObjectExt.release(this.m_onCollapseConsumers);this.m_documentationView=e.XObjectExt.release(this.m_documentationView);this.m_errorsView=e.XObjectExt.release(this.m_errorsView);this.m_mainLayout=null;this.m_sectionSwitcherSgmBtn=null;this.m_helpSectionBtn=null;this.m_errorSectionBtn=null;this.m_title=null;this.m_collapseIcon=null;this.m_toolbar=null};e.OuCalcAssistanceView.prototype.generateDocumentation=function(e){this.m_documentationView.generateDocumentation(e)};e.OuCalcAssistanceView.prototype.getLocalization=function(){return e.XLocalizationCenter.getCenter()};e.OuCalcAssistanceView.prototype.getSelectedContent=function(){if(this.m_selectedTab===e.OuCalcAssistanceView.HELP_SELECTED_PANEL_INDEX){return this.m_documentationView}else if(this.m_selectedTab===e.OuCalcAssistanceView.ERRORS_SELECTED_PANEL_INDEX){return this.m_errorsView}return null};e.OuCalcAssistanceView.prototype.setActiveTab=function(e){if(e>2||e<0){return}let t=this.m_contentVisible;this.m_sectionSwitcherSgmBtn.setSelectedItemByIndex(e);this.m_contentVisible=true;this.m_selectedTab=e;this.updateTabContentVisibilityUi();this.updateCollapseIconUi();this.updateTitleUi();this.callOnCollapseConsumers(t)};e.OuCalcAssistanceView.prototype.setErrors=function(e){this.m_errorsView.setErrors(e)};e.OuCalcAssistanceView.prototype.setErrorsActiveTab=function(){this.setActiveTab(e.OuCalcAssistanceView.ERRORS_SELECTED_PANEL_INDEX)};e.OuCalcAssistanceView.prototype.setFormulaEmpty=function(e){this.m_errorsView.setFormulaEmpty(e)};e.OuCalcAssistanceView.prototype.setHelpActiveTab=function(){this.setActiveTab(e.OuCalcAssistanceView.HELP_SELECTED_PANEL_INDEX)};e.OuCalcAssistanceView.prototype.setupView=function(){};e.OuCalcAssistanceView.prototype.toggleTabContentCollapsed=function(){this.m_contentVisible=!this.m_contentVisible;this.updateTabContentVisibilityUi();this.updateCollapseIconUi();this.callOnCollapseConsumers(!this.m_contentVisible)};e.OuCalcAssistanceView.prototype.updateCollapseIconUi=function(){if(this.m_contentVisible){this.m_toolbar.removeCssClass("ffOuPanelCollapsed")}else{this.m_toolbar.addCssClass("ffOuPanelCollapsed")}this.m_collapseIcon.setIcon(this.m_contentVisible?e.OuCalcAssistanceView.ICON_EXPAND_NAME:e.OuCalcAssistanceView.ICON_COLLAPSE_NAME);this.m_collapseIcon.setTooltip(this.getLocalization().getText(this.m_contentVisible?e.OuCalcFormulaEditorI18n.FE_BTN_COLLAPSE:e.OuCalcFormulaEditorI18n.FE_BTN_EXPAND))};e.OuCalcAssistanceView.prototype.updateTabContentVisibilityUi=function(){this.m_documentationView.getView().setVisible(this.m_selectedTab===e.OuCalcAssistanceView.HELP_SELECTED_PANEL_INDEX&&this.m_contentVisible);this.m_errorsView.getView().setVisible(this.m_selectedTab===e.OuCalcAssistanceView.ERRORS_SELECTED_PANEL_INDEX&&this.m_contentVisible)};e.OuCalcAssistanceView.prototype.updateTitleUi=function(){this.m_title.setText(this.getSelectedContent().getTitle())};e.OuCalcAssistanceViewV2=function(){};e.OuCalcAssistanceViewV2.prototype=new e.DfUiContentView;e.OuCalcAssistanceViewV2.prototype._ff_c="OuCalcAssistanceViewV2";e.OuCalcAssistanceViewV2.AI_PANEL_INDEX=1;e.OuCalcAssistanceViewV2.FUNCTION_HELP_PANEL_INDEX=0;e.OuCalcAssistanceViewV2.create=function(t){let i=new e.OuCalcAssistanceViewV2;i.m_documentationView=e.OuCalcDocumentationView.create(t);i.m_onCollapseConsumers=e.XConsumerCollection.create();return i};e.OuCalcAssistanceViewV2.createWithAI=function(t,i,o){let n=new e.OuCalcAssistanceViewV2;n.m_documentationView=e.OuCalcDocumentationView.create(t);n.m_aiView=e.OuCalcAIView.create(i,o);n.m_onCollapseConsumers=e.XConsumerCollection.create();return n};e.OuCalcAssistanceViewV2.prototype.m_aiView=null;e.OuCalcAssistanceViewV2.prototype.m_documentationView=null;e.OuCalcAssistanceViewV2.prototype.m_onCollapseConsumers=null;e.OuCalcAssistanceViewV2.prototype.m_sidePanel=null;e.OuCalcAssistanceViewV2.prototype.m_sidePanelExpanded=false;e.OuCalcAssistanceViewV2.prototype.addAIPanelItem=function(){let t=this.m_sidePanel.addNewItem();let i=this.getLocalization().getText(e.OuCalcFormulaEditorI18n.ASSISTANCE_AI_PANEL_TITLE);t.setText(i);t.setIcon("ai");t.setTooltip(i);this.m_aiView.renderView(this.getGenesis());this.m_aiView.getView().addCssClass("ffOuCalcAssistanceContentView");t.setContent(this.m_aiView.getView());return t};e.OuCalcAssistanceViewV2.prototype.addDocumentationPanelItem=function(){let t=this.m_sidePanel.addNewItem();let i=this.getLocalization().getText(e.OuCalcFormulaEditorI18n.ASSISTANCE_FUNC_HELP_PANEL_TITLE);t.setText(i);if(this.isAIEnabled()){t.setIcon("sys-help")}t.setTooltip(i);this.m_documentationView.renderView(this.getGenesis());this.m_documentationView.getView().addCssClass("ffOuCalcAssistanceContentView");t.setContent(this.m_documentationView.getView());return t};e.OuCalcAssistanceViewV2.prototype.addOnAddFormulaConsumers=function(t){if(e.FeFeatureToggle.isActive(e.FeFeatureToggle.GEN_AI_PHASE1)){return this.m_aiView.addOnAddFormulaConsumers(t)}return null};e.OuCalcAssistanceViewV2.prototype.addOnCollapseConsumer=function(e){return this.m_onCollapseConsumers.addConsumer(e)};e.OuCalcAssistanceViewV2.prototype.buildViewUi=function(t){this.m_sidePanel=t.newRoot(e.UiType.SIDE_PANEL);this.m_sidePanel.addCssClass("ffOuCalcAssistancePanel");this.addDocumentationPanelItem();if(this.isAIEnabled()){this.addAIPanelItem();this.m_sidePanel.setSelectedItemByIndex(e.OuCalcAssistanceViewV2.FUNCTION_HELP_PANEL_INDEX)}else{this.m_sidePanel.registerOnToggle(e.UiLambdaToggleListener.create(t=>{let i=t.getAffectedItem();if(e.notNull(i)){this.m_onCollapseConsumers.accept(e.XBooleanValue.create(!t.getParameters().getBooleanByKey("expanded")))}}))}};e.OuCalcAssistanceViewV2.prototype.destroyView=function(){this.m_onCollapseConsumers.clear();this.m_onCollapseConsumers=e.XObjectExt.release(this.m_onCollapseConsumers);this.m_documentationView=e.XObjectExt.release(this.m_documentationView);this.m_sidePanel=e.XObjectExt.release(this.m_sidePanel);this.m_aiView=e.XObjectExt.release(this.m_aiView)};e.OuCalcAssistanceViewV2.prototype.generateDocumentation=function(t){if(e.XStringUtils.isNullOrEmpty(t)){this.m_documentationView.getView().addCssClass("ffOuCalcAssistanceContentViewEmpty")}else{this.m_documentationView.getView().removeCssClass("ffOuCalcAssistanceContentViewEmpty")}this.m_documentationView.generateDocumentation(t)};e.OuCalcAssistanceViewV2.prototype.getLocalization=function(){return e.XLocalizationCenter.getCenter()};e.OuCalcAssistanceViewV2.prototype.isAIEnabled=function(){return e.notNull(this.m_aiView)};e.OuCalcAssistanceViewV2.prototype.performExplain=function(t){if(this.isAIEnabled()){this.m_sidePanel.setSelectedItemByIndex(e.OuCalcAssistanceViewV2.AI_PANEL_INDEX);this.m_aiView.performExplain(t)}};e.OuCalcAssistanceViewV2.prototype.setCollapsed=function(e){this.m_sidePanelExpanded=!e;this.m_sidePanel.setExpanded(this.m_sidePanelExpanded)};e.OuCalcAssistanceViewV2.prototype.setCustomMode=function(t){if(e.notNull(this.m_aiView)){this.m_aiView.setCustomMode(t)}};e.OuCalcAssistanceViewV2.prototype.setupView=function(){};e.OuCalcDocumentationView=function(){};e.OuCalcDocumentationView.prototype=new e.DfUiContentView;e.OuCalcDocumentationView.prototype._ff_c="OuCalcDocumentationView";e.OuCalcDocumentationView.DOC_CSS_CLASS="ffFeDoc";e.OuCalcDocumentationView.DOC_SECTION_CONTENT_CSS_CLASS="ffFeSectionContent";e.OuCalcDocumentationView.DOC_SECTION_CSS_CLASS="ffFeDocSection";e.OuCalcDocumentationView.DOC_SECTION_FIRST_LINE_CSS_CLASS="ffFeSectionFirstLine";e.OuCalcDocumentationView.DOC_SECTION_LABEL_CSS_CLASS="ffFeSectionLabel";e.OuCalcDocumentationView.DOC_SECTION_LINE_CSS_CLASS="ffFeSectionLine";e.OuCalcDocumentationView.EMPTY_DOC_CSS_CLASS="ffOuCalcAssistanceContentEmpty";e.OuCalcDocumentationView.EMPTY_STRING="";e.OuCalcDocumentationView.create=function(t){let i=new e.OuCalcDocumentationView;i.m_changedConsumers=e.XConsumerCollection.create();i.m_translatedDocMap=e.XHashMapByString.create();i.m_translationParser=e.XObjectExt.assertNotNull(t);return i};e.OuCalcDocumentationView.prototype.m_changedConsumers=null;e.OuCalcDocumentationView.prototype.m_documentationLayout=null;e.OuCalcDocumentationView.prototype.m_noFuncSelectedIllustratedMsg=null;e.OuCalcDocumentationView.prototype.m_title=null;e.OuCalcDocumentationView.prototype.m_translatedDocMap=null;e.OuCalcDocumentationView.prototype.m_translationParser=null;e.OuCalcDocumentationView.prototype.addChangeTitleConsumer=function(e){return this.m_changedConsumers.addConsumer(e)};e.OuCalcDocumentationView.prototype.announceUpdate=function(){e.UiFramework.currentFramework().announce(this.getLocalization().getText(e.OuCalcFormulaEditorI18n.ASSISTANCE_HELP_ANNOUNCE_UPDATE),e.UiAriaLiveMode.ASSERTIVE)};e.OuCalcDocumentationView.prototype.buildFirstLineV1=function(t,i){let o=e.XStringBuffer.create();o.append('<div class="');o.append(e.OuCalcDocumentationView.DOC_SECTION_FIRST_LINE_CSS_CLASS);o.append('">');o.append('<span class="');o.append(e.OuCalcDocumentationView.DOC_SECTION_LABEL_CSS_CLASS);o.append('">');o.append(i);o.append(":");o.append("</span>");o.append(t);o.append("</div>");return o.toString()};e.OuCalcDocumentationView.prototype.buildFirstLineV2=function(t,i){let o=e.XStringBuffer.create();o.append('<div class="');o.append(e.OuCalcDocumentationView.DOC_SECTION_FIRST_LINE_CSS_CLASS);o.append('">');o.append('<div role="heading" aria-level="6" class=" ');o.append(e.OuCalcDocumentationView.DOC_SECTION_LABEL_CSS_CLASS);o.append('">');o.append(i);o.append("</div>");o.append('<p class="');o.append(e.OuCalcDocumentationView.DOC_SECTION_CONTENT_CSS_CLASS);o.append('">');o.append(t);o.append("</p>");o.append("</div>");return o.toString()};e.OuCalcDocumentationView.prototype.buildSection=function(t,i,o,n,a){e.XObjectExt.assertNotNull(t);e.XCollectionUtils.forEach(t,t=>{e.XStringUtils.assertNotNullOrEmpty(t)});let r=t.createListCopy();if(n){r.insert(0,"")}if(e.isNull(i)){throw e.XException.createIllegalArgumentException("Label value must not be null.")}let l=e.XStringBuffer.create();l.append('<section class="');l.append(e.OuCalcDocumentationView.DOC_SECTION_CSS_CLASS);l.append(" ");l.append(o);l.append('"');l.append(' aria-label="');l.append(i);l.append('"');l.append(">");let s=0;if(a){let t=r.get(s++);l.append(e.FeFeatureToggle.isActive(e.FeFeatureToggle.DIALOG_NEW_LAYOUT)?this.buildFirstLineV2(t,i):this.buildFirstLineV1(t,i))}for(let t=s;t<r.size();t++){l.append('<div class="');l.append(e.OuCalcDocumentationView.DOC_SECTION_LINE_CSS_CLASS);l.append('">');l.append(r.get(t));l.append("</div>")}l.append("</section>");return l.toString()};e.OuCalcDocumentationView.prototype.buildViewUi=function(t){let i=t.newRoot(e.UiType.FLEX_LAYOUT);i.addCssClass("ffOuCalcDocumentationView");i.setDirection(e.UiFlexDirection.COLUMN);this.m_title=i.addNewItemOfType(e.UiType.TITLE);this.m_title.setTitleLevel(e.UiTitleLevel.H_5);this.m_title.setTitleStyle(e.UiTitleLevel.H_5);this.m_title.addCssClass("ffOuCalcDocumentationTitle");this.m_title.setVisible(e.FeFeatureToggle.isActive(e.FeFeatureToggle.DIALOG_NEW_LAYOUT));this.m_documentationLayout=i.addNewItemOfType(e.UiType.FLEX_LAYOUT);this.m_documentationLayout.setDirection(e.UiFlexDirection.COLUMN);this.m_documentationLayout.addCssClass("ffOuCalcDocumentationContent");this.generateEmptyDocumentation()};e.OuCalcDocumentationView.prototype.destroyView=function(){this.m_documentationLayout=null;this.m_changedConsumers.clear();this.m_changedConsumers=e.XObjectExt.release(this.m_changedConsumers);this.m_translatedDocMap.clear();this.m_translatedDocMap=e.XObjectExt.release(this.m_translatedDocMap)};e.OuCalcDocumentationView.prototype.generateDocumentation=function(t){let i=e.XStringUtils.isNullOrEmpty(t);this.m_documentationLayout.clearItems();this.m_title.setVisible(e.FeFeatureToggle.isActive(e.FeFeatureToggle.DIALOG_NEW_LAYOUT)&&!i);if(i){this.showEmptyDocumentation();return}this.m_documentationLayout.removeCssClass(e.OuCalcDocumentationView.EMPTY_DOC_CSS_CLASS);let o=this.getDocumentation(t);let n=e.XStringBuffer.create();n.append('<section class="');n.append(e.OuCalcDocumentationView.DOC_CSS_CLASS);n.append('" ');n.append('aria-label="');n.append(this.getLocalization().getTextWithPlaceholder(e.OuCalcFormulaEditorI18n.FE_DOCUMENTATION,t));n.append('">');if(o.hasSyntax()){n.append(this.buildSection(o.getSyntax(),this.getLocalization().getText(e.OuCalcFormulaEditorI18n.FE_SYNTAX),"ffFeDocSyntax",false,true))}if(o.hasSummary()){n.append(this.buildSection(o.getSummary(),this.getLocalization().getText(e.OuCalcFormulaEditorI18n.FE_SUMMARY),"ffFeDocSummary",false,false))}if(o.hasExample()){n.append(this.buildSection(o.getExample(),this.getLocalization().getText(e.OuCalcFormulaEditorI18n.FE_EXAMPLE),"ffFeDocExample",false,true))}if(o.hasRemark()){n.append(this.buildSection(o.getRemark(),this.getLocalization().getText(e.OuCalcFormulaEditorI18n.FE_REMARK),"ffFeDocRemark",true,true))}n.append("</section>");this.m_documentationLayout.addNewItemOfType(e.UiType.HTML).setValue(n.toString());this.announceUpdate();this.setTitleAndNotify(t)};e.OuCalcDocumentationView.prototype.generateEmptyDocumentation=function(){this.m_noFuncSelectedIllustratedMsg=this.m_documentationLayout.newItemOfType(e.UiType.ILLUSTRATED_MESSAGE);this.m_noFuncSelectedIllustratedMsg.setEnableDefaultTitleAndDescription(false);if(e.FeFeatureToggle.isActive(e.FeFeatureToggle.DIALOG_NEW_LAYOUT)){this.m_noFuncSelectedIllustratedMsg.setIllustrationType(e.UiIllustratedMessageType.TENT);this.m_noFuncSelectedIllustratedMsg.setIllustrationSize(e.UiIllustratedMessageSize.AUTO);this.m_noFuncSelectedIllustratedMsg.setTitle(this.getLocalization().getText(e.OuCalcFormulaEditorI18n.ASSISTANCE_HELP_EMPTY_TITLE));this.m_noFuncSelectedIllustratedMsg.setDescription(this.getLocalization().getText(e.OuCalcFormulaEditorI18n.ASSISTANCE_HELP_EMPTY_DESCRIPTION))}else{this.m_noFuncSelectedIllustratedMsg.setIllustrationType(e.UiIllustratedMessageType.SIMPLE_EMPTY_DOC);this.m_noFuncSelectedIllustratedMsg.setIllustrationSize(e.UiIllustratedMessageSize.DOT);this.m_noFuncSelectedIllustratedMsg.setTitle(this.getLocalization().getText(e.OuCalcFormulaEditorI18n.ASSISTANCE_HELP_EMPTY))}};e.OuCalcDocumentationView.prototype.getDocumentation=function(t){let i=e.FeFormulaItemProvider.getInstance().getFormulaItem(t).get().getMetadata();let o=i.getDocumentation();let n=this.m_translatedDocMap.getByKey(t);if(e.isNull(n)){n=e.FeDoc.create(this.parseStringList(o.getSummary()),this.parseStringList(o.getSyntax()),this.parseStringList(o.getExample()),this.parseStringList(o.getRemark()));this.m_translatedDocMap.put(t,n)}return n};e.OuCalcDocumentationView.prototype.getLocalization=function(){return e.XLocalizationCenter.getCenter()};e.OuCalcDocumentationView.prototype.getTitle=function(){return this.m_title.getText()};e.OuCalcDocumentationView.prototype.notifyTitleChanged=function(){this.m_changedConsumers.accept(this.m_title.getText())};e.OuCalcDocumentationView.prototype.parseStringList=function(t){let i=e.XList.create();for(let e=0;e<t.size();e++){i.add(this.m_translationParser.parseText(t.get(e)))}return i};e.OuCalcDocumentationView.prototype.setTitleAndNotify=function(e){this.m_title.setText(e);this.notifyTitleChanged()};e.OuCalcDocumentationView.prototype.setupView=function(){};e.OuCalcDocumentationView.prototype.showEmptyDocumentation=function(){this.m_documentationLayout.addCssClass(e.OuCalcDocumentationView.EMPTY_DOC_CSS_CLASS);this.m_documentationLayout.addItem(this.m_noFuncSelectedIllustratedMsg);this.setTitleAndNotify(e.OuCalcDocumentationView.EMPTY_STRING)};e.OuCalcErrorsView=function(){};e.OuCalcErrorsView.prototype=new e.DfUiContentView;e.OuCalcErrorsView.prototype._ff_c="OuCalcErrorsView";e.OuCalcErrorsView.EMPTY_DOC_CSS_CLASS="ffOuCalcAssistanceContentEmpty";e.OuCalcErrorsView.EMPTY_STRING="";e.OuCalcErrorsView.create=function(){let t=new e.OuCalcErrorsView;t.m_changedConsumers=e.XConsumerCollection.create();t.m_isFormulaEmpty=true;return t};e.OuCalcErrorsView.prototype.m_changedConsumers=null;e.OuCalcErrorsView.prototype.m_errors=null;e.OuCalcErrorsView.prototype.m_isFormulaEmpty=false;e.OuCalcErrorsView.prototype.m_mainLayout=null;e.OuCalcErrorsView.prototype.m_messageView=null;e.OuCalcErrorsView.prototype.m_noErrorIllustratedMsg=null;e.OuCalcErrorsView.prototype.addChangeTitleConsumer=function(e){return this.m_changedConsumers.addConsumer(e)};e.OuCalcErrorsView.prototype.announceUpdate=function(){e.UiFramework.currentFramework().announce(this.getLocalization().getText(e.OuCalcFormulaEditorI18n.ASSISTANCE_ERRORS_ANNOUNCE_UPDATE),e.UiAriaLiveMode.ASSERTIVE)};e.OuCalcErrorsView.prototype.buildViewUi=function(t){this.m_mainLayout=t.newRoot(e.UiType.FLEX_LAYOUT);this.m_mainLayout.addCssClass("ffOuCalcErrorsView");this.m_mainLayout.setDirection(e.UiFlexDirection.COLUMN);this.m_messageView=this.m_mainLayout.addNewItemOfType(e.UiType.MESSAGE_VIEW);this.m_messageView.addCssClass("ffOuCalcAssistanceErrorList");this.m_noErrorIllustratedMsg=this.m_mainLayout.addNewItemOfType(e.UiType.ILLUSTRATED_MESSAGE);this.m_noErrorIllustratedMsg.setEnableDefaultTitleAndDescription(false);this.m_noErrorIllustratedMsg.addCssClass("ffOuCalcErrorEmptyMsg");this.m_noErrorIllustratedMsg.setIllustrationSize(e.UiIllustratedMessageSize.DOT);this.generateNoErrorsMessage()};e.OuCalcErrorsView.prototype.destroyView=function(){this.m_messageView=null;this.m_noErrorIllustratedMsg=null;this.m_changedConsumers.clear();this.m_changedConsumers=e.XObjectExt.release(this.m_changedConsumers)};e.OuCalcErrorsView.prototype.generateErrorList=function(t){this.m_mainLayout.removeCssClass(e.OuCalcErrorsView.EMPTY_DOC_CSS_CLASS);this.m_messageView.setVisible(true);this.m_noErrorIllustratedMsg.setVisible(false);for(let i=0;i<t.getErrors().size();i++){let o=t.getErrors().get(i).getText();let n=this.m_messageView.addNewItem();n.setTitle(o);n.setMessageType(e.UiMessageType.ERROR)}};e.OuCalcErrorsView.prototype.generateErrors=function(e){this.m_messageView.clearItems();this.m_messageView.back();if(!this.hasErrors()){this.generateNoErrorsMessage()}else{this.generateErrorList(this.m_errors)}if(e){this.announceUpdate();this.notifyTitleChanged()}};e.OuCalcErrorsView.prototype.generateNoErrorsMessage=function(){this.m_mainLayout.addCssClass(e.OuCalcErrorsView.EMPTY_DOC_CSS_CLASS);this.m_messageView.setVisible(false);this.m_noErrorIllustratedMsg.setVisible(true);let t=this.m_isFormulaEmpty?e.OuCalcFormulaEditorI18n.ASSISTANCE_ERRORS_EMPTY_FORMULA:e.OuCalcFormulaEditorI18n.ASSISTANCE_ERRORS_VALID_FORMULA;let i=this.m_isFormulaEmpty?e.UiIllustratedMessageType.SIMPLE_EMPTY_LIST:e.UiIllustratedMessageType.SUCCESS_SCREEN;this.m_noErrorIllustratedMsg.setIllustrationType(i);this.m_noErrorIllustratedMsg.setTitle(this.getLocalization().getText(t))};e.OuCalcErrorsView.prototype.getLocalization=function(){return e.XLocalizationCenter.getCenter()};e.OuCalcErrorsView.prototype.getTitle=function(){let t=this.m_messageView.getNumberOfItems();if(t===0){return e.OuCalcErrorsView.EMPTY_STRING}else if(t===1){return this.getLocalization().getText(e.OuCalcFormulaEditorI18n.ASSISTANCE_ERRORS_TITLE_SINGLE)}else{return this.getLocalization().getTextWithPlaceholder(e.OuCalcFormulaEditorI18n.ASSISTANCE_ERRORS_TITLE_MULTIPLE,e.XInteger.convertToString(t))}};e.OuCalcErrorsView.prototype.hasChanged=function(t){let i=e.isNull(this.m_errors)||!this.m_errors.hasErrors();let o=e.isNull(t)||!t.hasErrors();return i!==o};e.OuCalcErrorsView.prototype.hasErrors=function(){return e.notNull(this.m_errors)&&this.m_errors.hasErrors()};e.OuCalcErrorsView.prototype.notifyTitleChanged=function(){this.m_changedConsumers.accept(this.getTitle())};e.OuCalcErrorsView.prototype.setErrors=function(e){let t=this.hasChanged(e);this.m_errors=e;this.generateErrors(t)};e.OuCalcErrorsView.prototype.setFormulaEmpty=function(e){this.m_isFormulaEmpty=e;if(!this.hasErrors()){this.generateNoErrorsMessage()}};e.OuCalcErrorsView.prototype.setupView=function(){};e.OuCalcAIDisclaimerWidget=function(){};e.OuCalcAIDisclaimerWidget.prototype=new e.DfUiWidget;e.OuCalcAIDisclaimerWidget.prototype._ff_c="OuCalcAIDisclaimerWidget";e.OuCalcAIDisclaimerWidget.create=function(){return new e.OuCalcAIDisclaimerWidget};e.OuCalcAIDisclaimerWidget.prototype.destroyWidget=function(){};e.OuCalcAIDisclaimerWidget.prototype.getLocalization=function(){return e.XLocalizationCenter.getCenter()};e.OuCalcAIDisclaimerWidget.prototype.getWidgetControl=function(t){return t.newControl(e.UiType.FLEX_LAYOUT)};e.OuCalcAIDisclaimerWidget.prototype.layoutWidget=function(t){t.setDirection(e.UiFlexDirection.ROW);t.addCssClass("ffOuCalcAIDisclaimer");let i=t.addNewItemOfType(e.UiType.TEXT);i.addCssClass("ffOuCalcAIDisclaimerPart1");i.setText(this.getLocalization().getText(e.OuCalcFormulaEditorI18n.FORMULA_EXPLAIN_DISCLAIMER_PART1));let o=t.addNewItemOfType(e.UiType.TEXT);o.addCssClass("ffOuCalcAIDisclaimerPart2");o.setText(this.getLocalization().getText(e.OuCalcFormulaEditorI18n.FORMULA_EXPLAIN_DISCLAIMER_PART2))};e.OuCalcAIDisclaimerWidget.prototype.setupWidget=function(){};e.OuCalcCodeEditorView=function(){};e.OuCalcCodeEditorView.prototype=new e.DfUiContentView;e.OuCalcCodeEditorView.prototype._ff_c="OuCalcCodeEditorView";e.OuCalcCodeEditorView.EMPTY_STRING="";e.OuCalcCodeEditorView.create=function(t){let i=new e.OuCalcCodeEditorView;i.m_onMoreErrorPressConsumers=e.XConsumerCollection.create();i.m_onExplainPressConsumers=e.XConsumerCollection.create();i.m_codeEditorWidget=e.OuCalcCodeEditorWidget.create(t);i.m_lastErrorMsg=i.getLocalization().getText(e.OuCalcFormulaEditorI18n.EDITOR_NO_ERRORS_ANNOUNCE_UPDATE);i.m_naturalLanguageAreaView=e.OuCalcNaturalLanguageView.create();i.m_shouldFormatText=true;return i};e.OuCalcCodeEditorView.prototype.m_codeEditorWidget=null;e.OuCalcCodeEditorView.prototype.m_lastErrorMsg=null;e.OuCalcCodeEditorView.prototype.m_mainLayout=null;e.OuCalcCodeEditorView.prototype.m_naturalLanguageAreaView=null;e.OuCalcCodeEditorView.prototype.m_onExplainPressConsumers=null;e.OuCalcCodeEditorView.prototype.m_onMoreErrorPressConsumers=null;e.OuCalcCodeEditorView.prototype.m_shouldFormatText=false;e.OuCalcCodeEditorView.prototype.m_toolbar=null;e.OuCalcCodeEditorView.prototype.m_validationMsg=null;e.OuCalcCodeEditorView.prototype.addKeyboardHandlerToEditorFromModule=function(){this.m_codeEditorWidget.addKeyboardHandlerToEditorFromModule()};e.OuCalcCodeEditorView.prototype.addNewToolbarButton=function(t,i,o){let n=this.getLocalization().getText(t);let a=this.m_toolbar.addNewItemOfType(e.UiType.BUTTON);a.setButtonType(e.UiButtonType.TRANSPARENT);a.setText(n);a.addCssClass(i);a.registerOnPress(o);return a};e.OuCalcCodeEditorView.prototype.addOnExplainPressConsumers=function(e){return this.m_onExplainPressConsumers.addConsumer(e)};e.OuCalcCodeEditorView.prototype.addOnFunctionHelpPressConsumer=function(e){return null};e.OuCalcCodeEditorView.prototype.addOnGenerationPressConsumer=function(e){return this.m_naturalLanguageAreaView.addOnGenerationPressConsumer(e)};e.OuCalcCodeEditorView.prototype.addOnMoreErrorPressConsumer=function(e){return this.m_onMoreErrorPressConsumers.addConsumer(e)};e.OuCalcCodeEditorView.prototype.announceErrorUpdate=function(t){if(!e.XString.isEqual(t,this.m_lastErrorMsg)){this.m_lastErrorMsg=t;e.XTimeout.timeout(10,()=>{e.UiFramework.currentFramework().announce(this.getLocalization().getTextWithPlaceholder(e.OuCalcFormulaEditorI18n.EDITOR_ERRORS_ANNOUNCE_UPDATE,t),e.UiAriaLiveMode.ASSERTIVE)})}};e.OuCalcCodeEditorView.prototype.buildToolbar=function(t){this.m_toolbar=t.addNewItemOfType(e.UiType.TOOLBAR);this.m_toolbar.addCssClass("ffOuCCEditorToolbar");let i=this.m_toolbar.addNewItemOfType(e.UiType.LABEL);let o=this.getLocalization().getText(e.OuCalcFormulaEditorI18n.EDITOR_LABEL);i.addCssClass("ffOuCCEditorTitle");i.setText(o);i.setLabelFor(this.m_codeEditorWidget.getView());i.setShowColon(true);this.m_toolbar.addNewItemOfType(e.UiType.SPACER);if(e.FeFeatureToggle.isActive(e.FeFeatureToggle.GEN_AI)){this.addNewToolbarButton(e.OuCalcFormulaEditorI18n.FORMULA_EXPLAIN_BTN,"ffOuCCEditorExplainBtn",e.UiLambdaPressListener.create(e=>{this.m_onExplainPressConsumers.accept(null)}))}this.addNewToolbarButton(e.OuCalcFormulaEditorI18n.EDITOR_FORMAT_BTN,"ffOuCCEditorFormatBtn",e.UiLambdaPressListener.create(e=>{if(this.m_shouldFormatText){this.m_codeEditorWidget.formatEditorText()}}));this.addNewToolbarButton(e.OuCalcFormulaEditorI18n.EDITOR_CLEAR_BTN,"ffOuCCEditorClearBtn",e.UiLambdaPressListener.create(e=>{this.m_codeEditorWidget.clear()}))};e.OuCalcCodeEditorView.prototype.buildValidationMsg=function(t){this.m_validationMsg=t.addNewItemOfType(e.UiType.MESSAGE_STRIP);this.m_validationMsg.addCssClass("ffOuCalcValidationMsg");this.m_validationMsg.addCssClass("sapMValueStateMessage");this.m_validationMsg.addCssClass("sapMValueStateMessageError");this.m_validationMsg.setMessageType(e.UiMessageType.ERROR);let i=this.getGenesis().newControl(e.UiType.LINK);i.addCssClass("ffOuCalcValidationMoreErrorsLink");i.registerOnPress(e.UiLambdaPressListener.create(e=>{this.m_onMoreErrorPressConsumers.accept(null)}));this.m_validationMsg.setEndLink(i);this.m_validationMsg.setVisible(false)};e.OuCalcCodeEditorView.prototype.buildViewUi=function(t){this.m_mainLayout=t.newRoot(e.UiType.FLEX_LAYOUT);this.m_mainLayout.addCssClass("ffOuCalcCodeEditorView");this.m_mainLayout.setDirection(e.UiFlexDirection.COLUMN);if(e.FeFeatureToggle.isActive(e.FeFeatureToggle.GEN_AI)){this.m_naturalLanguageAreaView.renderView(t);this.m_mainLayout.addItem(this.m_naturalLanguageAreaView.getView())}this.buildToolbar(this.m_mainLayout);this.m_codeEditorWidget.renderView(t);this.m_mainLayout.addItem(this.m_codeEditorWidget.getView());this.buildValidationMsg(this.m_mainLayout)};e.OuCalcCodeEditorView.prototype.destroyView=function(){this.m_onMoreErrorPressConsumers.clear();this.m_onMoreErrorPressConsumers=e.XObjectExt.release(this.m_onMoreErrorPressConsumers);this.m_codeEditorWidget=e.XObjectExt.release(this.m_codeEditorWidget);this.m_toolbar=null};e.OuCalcCodeEditorView.prototype.focus=function(){this.m_codeEditorWidget.focus()};e.OuCalcCodeEditorView.prototype.getLocalization=function(){return e.OuCalcFormulaEditorI18n.getLocalization()};e.OuCalcCodeEditorView.prototype.insertText=function(t){if(e.notNull(this.m_codeEditorWidget)){this.m_codeEditorWidget.insertText(t)}};e.OuCalcCodeEditorView.prototype.setBusy=function(e){this.m_mainLayout.setBusy(e)};e.OuCalcCodeEditorView.prototype.setCtrlSpacePressedProcedure=function(e){this.m_codeEditorWidget.setCtrlSpacePressedProcedure(e)};e.OuCalcCodeEditorView.prototype.setCursorPosition=function(e){this.m_codeEditorWidget.setCursorPosition(e)};e.OuCalcCodeEditorView.prototype.setCustomCompleterJson=function(e){this.m_codeEditorWidget.setCustomCompleterJson(e)};e.OuCalcCodeEditorView.prototype.setCustomMode=function(e){this.m_codeEditorWidget.setCustomMode(e)};e.OuCalcCodeEditorView.prototype.setFormula=function(e){this.m_codeEditorWidget.setFormula(e)};e.OuCalcCodeEditorView.prototype.setFunctionHelpPressed=function(e){};e.OuCalcCodeEditorView.prototype.setNaturalLanguageDescription=function(e){this.m_naturalLanguageAreaView.setValue(e)};e.OuCalcCodeEditorView.prototype.setOnChange=function(e){this.m_codeEditorWidget.addOnChangeConsumer(e)};e.OuCalcCodeEditorView.prototype.setOnCursorChange=function(e){this.m_codeEditorWidget.addOnCursorChangeConsumer(e)};e.OuCalcCodeEditorView.prototype.setupView=function(){};e.OuCalcCodeEditorView.prototype.updateError=function(t){let i=t.hasErrors();this.m_shouldFormatText=!i;let o=t.getErrors().size()>1;let n=e.XInteger.convertToString(t.getErrors().size()-1);this.m_validationMsg.setVisible(i);let a=i?t.getErrors().get(0).getText():e.OuCalcCodeEditorView.EMPTY_STRING;let r=i?a:this.getLocalization().getText(e.OuCalcFormulaEditorI18n.EDITOR_NO_ERRORS_ANNOUNCE_UPDATE);this.m_validationMsg.setText(a);this.m_validationMsg.setTooltip(a);this.m_validationMsg.getEndLink().setText(o?this.getLocalization().getTextWithPlaceholder(e.OuCalcFormulaEditorI18n.EDITOR_ERROR_MESSAGE_MORE,n):"");this.announceErrorUpdate(r)};e.OuCalcCodeEditorViewV2=function(){};e.OuCalcCodeEditorViewV2.prototype=new e.DfUiContentView;e.OuCalcCodeEditorViewV2.prototype._ff_c="OuCalcCodeEditorViewV2";e.OuCalcCodeEditorViewV2.ERROR_STATE_CSS_CLASS="ffOuCalcCodeEditorViewErrorState";e.OuCalcCodeEditorViewV2.create=function(t){let i=new e.OuCalcCodeEditorViewV2;i.m_onFuncHelpPressConsumers=e.XConsumerCollection.create();i.m_onExplainPressConsumers=e.XConsumerCollection.create();i.m_codeEditorWidget=e.OuCalcCodeEditorWidget.create(t);i.m_errorsView=e.OuCalcErrorsViewV2.create();i.m_shouldFocus=false;i.m_shouldFormatText=true;return i};e.OuCalcCodeEditorViewV2.prototype.m_codeEditorWidget=null;e.OuCalcCodeEditorViewV2.prototype.m_errorLayout=null;e.OuCalcCodeEditorViewV2.prototype.m_errorsView=null;e.OuCalcCodeEditorViewV2.prototype.m_mainLayout=null;e.OuCalcCodeEditorViewV2.prototype.m_onExplainPressConsumers=null;e.OuCalcCodeEditorViewV2.prototype.m_onFuncHelpPressConsumers=null;e.OuCalcCodeEditorViewV2.prototype.m_shouldFocus=false;e.OuCalcCodeEditorViewV2.prototype.m_shouldFormatText=false;e.OuCalcCodeEditorViewV2.prototype.m_showErrorsTglBtn=null;e.OuCalcCodeEditorViewV2.prototype.m_showFuncHelpTglBtn=null;e.OuCalcCodeEditorViewV2.prototype.m_toolbar=null;e.OuCalcCodeEditorViewV2.prototype.addAIButtons=function(){this.addNewToolbarButton(e.OuCalcFormulaEditorI18n.FORMULA_EXPLAIN_BTN,"ffOuCCEditorExplainBtn",e.UiLambdaPressListener.create(e=>{this.m_onExplainPressConsumers.accept(null)}))};e.OuCalcCodeEditorViewV2.prototype.addKeyboardHandlerToEditorFromModule=function(){this.m_codeEditorWidget.addKeyboardHandlerToEditorFromModule()};e.OuCalcCodeEditorViewV2.prototype.addNewToolbarButton=function(t,i,o){let n=this.getLocalization().getText(t);let a=this.m_toolbar.addNewItemOfType(e.UiType.BUTTON);a.setButtonType(e.UiButtonType.TRANSPARENT);a.setText(n);a.addCssClass(i);a.registerOnPress(o);return a};e.OuCalcCodeEditorViewV2.prototype.addNewToolbarIconToggleButton=function(t,i,o,n,a){let r=this.getLocalization().getText(o);let l=this.m_toolbar.addNewItemOfType(e.UiType.TOGGLE_BUTTON);l.setIcon(i);l.setTooltip(r);l.addCssClass(n);l.setButtonType(e.isNull(t)?e.UiButtonType.TRANSPARENT:t);l.registerOnPress(a);return l};e.OuCalcCodeEditorViewV2.prototype.addOnExplainPressConsumers=function(e){return this.m_onExplainPressConsumers.addConsumer(e)};e.OuCalcCodeEditorViewV2.prototype.addOnFunctionHelpPressConsumer=function(e){return this.m_onFuncHelpPressConsumers.addConsumer(e)};e.OuCalcCodeEditorViewV2.prototype.addOnGenerationPressConsumer=function(e){return null};e.OuCalcCodeEditorViewV2.prototype.addOnMoreErrorPressConsumer=function(e){return null};e.OuCalcCodeEditorViewV2.prototype.buildToolbar=function(t){this.m_toolbar=t.addNewItemOfType(e.UiType.TOOLBAR);this.m_toolbar.addCssClass("ffOuCCEditorToolbar");let i=this.m_toolbar.addNewItemOfType(e.UiType.LABEL);let o=this.getLocalization().getText(e.OuCalcFormulaEditorI18n.EDITOR_LABEL);i.addCssClass("ffOuCCEditorTitle");i.addCssClass("ffOuCalcTitle");i.setText(o);i.setLabelFor(this.m_codeEditorWidget.getView());this.m_toolbar.addNewItemOfType(e.UiType.SPACER);this.m_showErrorsTglBtn=this.addNewToolbarIconToggleButton(e.UiButtonType.NEGATIVE,"error",e.OuCalcFormulaEditorI18n.EDITOR_SHOW_ERRORS_BTN,"ffOuCCEditorErrorMessagesBtn",e.UiLambdaPressListener.create(e=>{this.setErrorsViewVisible(this.m_showErrorsTglBtn.isPressed())}));this.m_showErrorsTglBtn.setVisible(false);if(e.FeFeatureToggle.isActive(e.FeFeatureToggle.GEN_AI)){this.addAIButtons();this.m_toolbar.addNewItemOfType(e.UiType.SEPARATOR)}this.addNewToolbarButton(e.OuCalcFormulaEditorI18n.EDITOR_FORMAT_BTN,"ffOuCCEditorFormatBtn",e.UiLambdaPressListener.create(e=>{if(this.m_shouldFormatText){this.m_codeEditorWidget.formatEditorText()}}));if(!e.FeFeatureToggle.isActive(e.FeFeatureToggle.GEN_AI)){this.m_toolbar.addNewItemOfType(e.UiType.SEPARATOR);this.m_showFuncHelpTglBtn=this.addNewToolbarIconToggleButton(e.UiButtonType.TRANSPARENT,"sys-help",e.OuCalcFormulaEditorI18n.EDITOR_SHOW_FUNC_HELP_BTN,"ffOuCCEditorFuncHelpToggleBtn",e.UiLambdaPressListener.create(t=>{this.m_onFuncHelpPressConsumers.accept(e.XBooleanValue.create(!this.m_showFuncHelpTglBtn.isPressed()))}))}};e.OuCalcCodeEditorViewV2.prototype.buildViewUi=function(t){this.m_mainLayout=t.newRoot(e.UiType.FLEX_LAYOUT);this.m_mainLayout.addCssClass("ffOuCalcCodeEditorView");this.m_mainLayout.setDirection(e.UiFlexDirection.COLUMN);let i=this.m_mainLayout.addNewItemOfType(e.UiType.FLEX_LAYOUT);i.addCssClass("ffOuCalcCodeEditorLayout");i.setDirection(e.UiFlexDirection.COLUMN);this.buildToolbar(i);this.m_codeEditorWidget.renderView(t);i.addItem(this.m_codeEditorWidget.getView());this.m_errorLayout=this.m_mainLayout.addNewItemOfType(e.UiType.FLEX_LAYOUT);this.m_errorLayout.addCssClass("ffOuCalcCodeErrorsLayout");this.m_errorLayout.setDirection(e.UiFlexDirection.COLUMN);this.m_errorsView.renderView(t);this.m_errorLayout.addItem(this.m_errorsView.getView());this.m_errorsView.addRegisterOnCloseConsumer(e=>{this.setErrorsViewVisible(false);this.m_codeEditorWidget.focus()});this.m_errorsView.getView().registerOnAfterRender(e.UiLambdaAfterRenderListener.create(e=>{if(this.m_shouldFocus){this.m_codeEditorWidget.focus()}this.m_shouldFocus=false}));this.setErrorsViewVisible(false)};e.OuCalcCodeEditorViewV2.prototype.destroyView=function(){this.m_onFuncHelpPressConsumers.clear();this.m_onFuncHelpPressConsumers=e.XObjectExt.release(this.m_onFuncHelpPressConsumers);this.m_codeEditorWidget=e.XObjectExt.release(this.m_codeEditorWidget);this.m_toolbar=null};e.OuCalcCodeEditorViewV2.prototype.focus=function(){this.m_codeEditorWidget.focus()};e.OuCalcCodeEditorViewV2.prototype.getLocalization=function(){return e.OuCalcFormulaEditorI18n.getLocalization()};e.OuCalcCodeEditorViewV2.prototype.insertText=function(t){if(e.notNull(this.m_codeEditorWidget)){this.m_codeEditorWidget.insertText(t)}};e.OuCalcCodeEditorViewV2.prototype.setBusy=function(e){this.m_mainLayout.setBusy(e)};e.OuCalcCodeEditorViewV2.prototype.setCtrlSpacePressedProcedure=function(e){this.m_codeEditorWidget.setCtrlSpacePressedProcedure(e)};e.OuCalcCodeEditorViewV2.prototype.setCursorPosition=function(e){this.m_codeEditorWidget.setCursorPosition(e)};e.OuCalcCodeEditorViewV2.prototype.setCustomCompleterJson=function(e){this.m_codeEditorWidget.setCustomCompleterJson(e)};e.OuCalcCodeEditorViewV2.prototype.setCustomMode=function(e){this.m_codeEditorWidget.setCustomMode(e)};e.OuCalcCodeEditorViewV2.prototype.setErrorState=function(t){if(t){this.getView().addCssClass(e.OuCalcCodeEditorViewV2.ERROR_STATE_CSS_CLASS)}else{this.getView().removeCssClass(e.OuCalcCodeEditorViewV2.ERROR_STATE_CSS_CLASS)}};e.OuCalcCodeEditorViewV2.prototype.setErrorsViewVisible=function(t){if(t){this.m_mainLayout.removeCssClass("ffOuCalcFullView")}else{this.m_mainLayout.addCssClass("ffOuCalcFullView")}this.m_showErrorsTglBtn.setPressed(t);this.m_showErrorsTglBtn.setTooltip(this.getLocalization().getText(t?e.OuCalcFormulaEditorI18n.EDITOR_HIDE_ERRORS_BTN:e.OuCalcFormulaEditorI18n.EDITOR_SHOW_ERRORS_BTN));this.m_errorLayout.setVisible(t)};e.OuCalcCodeEditorViewV2.prototype.setFormula=function(e){this.m_codeEditorWidget.setFormula(e)};e.OuCalcCodeEditorViewV2.prototype.setFunctionHelpPressed=function(t){if(e.isNull(this.m_showFuncHelpTglBtn)){return}this.m_showFuncHelpTglBtn.setTooltip(this.getLocalization().getText(t?e.OuCalcFormulaEditorI18n.EDITOR_HIDE_FUNC_HELP_BTN:e.OuCalcFormulaEditorI18n.EDITOR_SHOW_FUNC_HELP_BTN));this.m_showFuncHelpTglBtn.setPressed(t)};e.OuCalcCodeEditorViewV2.prototype.setNaturalLanguageDescription=function(e){};e.OuCalcCodeEditorViewV2.prototype.setOnChange=function(e){this.m_codeEditorWidget.addOnChangeConsumer(e)};e.OuCalcCodeEditorViewV2.prototype.setOnCursorChange=function(e){this.m_codeEditorWidget.addOnCursorChangeConsumer(e)};e.OuCalcCodeEditorViewV2.prototype.setupView=function(){};e.OuCalcCodeEditorViewV2.prototype.updateError=function(t){this.m_errorsView.setErrors(t);this.m_shouldFocus=true;this.m_shouldFormatText=!t.hasErrors();this.m_errorLayout.setVisible(false);this.setErrorsViewVisible(t.hasErrors());this.setErrorState(t.hasErrors());this.m_showErrorsTglBtn.setText(e.XInteger.convertToString(t.getErrors().size()));this.m_showErrorsTglBtn.setVisible(t.hasErrors())};e.OuCalcCodeEditorWidget=function(){};e.OuCalcCodeEditorWidget.prototype=new e.DfUiWidget;e.OuCalcCodeEditorWidget.prototype._ff_c="OuCalcCodeEditorWidget";e.OuCalcCodeEditorWidget.ARGUMENT_POSITION="$1";e.OuCalcCodeEditorWidget.CODE_TYPE="plain_text";e.OuCalcCodeEditorWidget.CTRL_KEY="ControlLeft";e.OuCalcCodeEditorWidget.EMPTY_STRING="";e.OuCalcCodeEditorWidget.FONT_FAMILY='"72Mono", "72Monofull", lucida console, monospace';e.OuCalcCodeEditorWidget.FONT_SIZE="14px";e.OuCalcCodeEditorWidget.HINT_PREFIX_IDENTIFIER_REGEX="[\\[]";e.OuCalcCodeEditorWidget.READONLY_CSS_NAME="ffOuCalcCodeEditorWidgetDisabled";e.OuCalcCodeEditorWidget.SPACE_KEY="Space";e.OuCalcCodeEditorWidget.START_AUTOCOMPLETE_COMMAND="startAutocomplete";e.OuCalcCodeEditorWidget.VALUE_OF_CODEEDITOR_KEY="value";e.OuCalcCodeEditorWidget.create=function(t){let i=new e.OuCalcCodeEditorWidget;i.m_formulaPresentation=t;i.m_ctrlKeyPressed=false;i.m_textChangeConsumers=e.XConsumerCollection.create();i.m_cursorChangeConsumers=e.XConsumerCollection.create();i.m_ctrlSpacePressedProcedures=e.XProcedureCollection.create();return i};e.OuCalcCodeEditorWidget.prototype.m_ctrlKeyPressed=false;e.OuCalcCodeEditorWidget.prototype.m_ctrlSpacePressedProcedures=null;e.OuCalcCodeEditorWidget.prototype.m_cursorChangeConsumers=null;e.OuCalcCodeEditorWidget.prototype.m_formulaPresentation=null;e.OuCalcCodeEditorWidget.prototype.m_textChangeConsumers=null;e.OuCalcCodeEditorWidget.prototype.addKeyboardHandlerToEditorFromModule=function(){this.getEditor().runModule(e.FeKeyboardHandler.getModuleName())};e.OuCalcCodeEditorWidget.prototype.addOnChangeConsumer=function(e){return this.m_textChangeConsumers.addConsumer(e)};e.OuCalcCodeEditorWidget.prototype.addOnCursorChangeConsumer=function(e){return this.m_cursorChangeConsumers.addConsumer(e)};e.OuCalcCodeEditorWidget.prototype.announceUpdate=function(){e.UiFramework.currentFramework().announce(this.getLocalization().getText(e.OuCalcFormulaEditorI18n.EDITOR_ANNOUNCE_UPDATE),e.UiAriaLiveMode.ASSERTIVE)};e.OuCalcCodeEditorWidget.prototype.clear=function(){this.setValue(null)};e.OuCalcCodeEditorWidget.prototype.destroyWidget=function(){this.m_cursorChangeConsumers.clear();this.m_cursorChangeConsumers=e.XObjectExt.release(this.m_cursorChangeConsumers);this.m_textChangeConsumers.clear();this.m_textChangeConsumers=e.XObjectExt.release(this.m_textChangeConsumers);this.m_ctrlSpacePressedProcedures.clear();this.m_ctrlSpacePressedProcedures=e.XObjectExt.release(this.m_ctrlSpacePressedProcedures);e.FeCustomAceOverrides.create().reset()};e.OuCalcCodeEditorWidget.prototype.focus=function(){this.getEditor().focus()};e.OuCalcCodeEditorWidget.prototype.formatEditorText=function(){let t=e.FeFormula.createWithDisplayFormula(this.getEditor().getValue(),this.m_formulaPresentation);let i=e.OuCalcFormulaFormatter.create().formatFormula(t.getText());this.setValue(i)};e.OuCalcCodeEditorWidget.prototype.getEditor=function(){return this.getView()};e.OuCalcCodeEditorWidget.prototype.getLocalization=function(){return e.OuCalcFormulaEditorI18n.getLocalization()};e.OuCalcCodeEditorWidget.prototype.getWidgetControl=function(t){let i=t.newControl(e.UiType.CODE_EDITOR);i.addCssClass("ffOuCalcCodeEditorWidget");i.setWidth(null);return i};e.OuCalcCodeEditorWidget.prototype.insertText=function(t){e.XObjectExt.assertStringNotNullAndNotEmpty(t);let i=this.m_formulaPresentation.getDisplayText(t);let o=this.getEditor().getCursorPosition();let n=e.XString.indexOf(i,e.OuCalcCodeEditorWidget.ARGUMENT_POSITION);if(n===-1){n=e.XString.size(i)}this.getEditor().insertText(e.XString.replace(i,e.OuCalcCodeEditorWidget.ARGUMENT_POSITION,e.OuCalcCodeEditorWidget.EMPTY_STRING)).setCursorPosition(e.UiCursorPosition.create(o.getRow(),o.getColumn()+n));this.focus();this.announceUpdate()};e.OuCalcCodeEditorWidget.prototype.layoutWidget=function(t){t.setCodeType(e.OuCalcCodeEditorWidget.CODE_TYPE);t.useMaxSpace();t.setFontSize(e.UiCssLength.create(e.OuCalcCodeEditorWidget.FONT_SIZE));t.setFontFamily(e.OuCalcCodeEditorWidget.FONT_FAMILY);t.registerOnLiveChange(e.UiLambdaLiveChangeListener.create(t=>{let i=t.getParameters().getStringByKeyExt(e.OuCalcCodeEditorWidget.VALUE_OF_CODEEDITOR_KEY,"");this.m_textChangeConsumers.accept(e.FeFormula.createWithDisplayFormula(i,this.m_formulaPresentation))}));t.registerOnCursorChange(e.UiLambdaCursorChangeListener.create(e=>{this.m_cursorChangeConsumers.accept(this.getEditor().getCursorPosition())}));if(e.FeFeatureToggle.isActive(e.FeFeatureToggle.DIMENSION_SUPPORT)){t.registerOnKeyDown(e.UiLambdaKeyDownListener.create(t=>{if(e.XString.isEqual(t.getCode(),e.OuCalcCodeEditorWidget.CTRL_KEY)&&!this.m_ctrlKeyPressed){this.m_ctrlKeyPressed=true}else{if(e.XString.isEqual(t.getCode(),e.OuCalcCodeEditorWidget.SPACE_KEY)){if(this.m_ctrlKeyPressed){this.m_ctrlKeyPressed=false;this.m_ctrlSpacePressedProcedures.execute()}}}}));t.registerOnKeyUp(e.UiLambdaKeyUpListener.create(t=>{if(e.XString.isEqual(t.getCode(),e.OuCalcCodeEditorWidget.CTRL_KEY)){this.m_ctrlKeyPressed=false}}));e.FeCustomAceOverrides.create().apply()}};e.OuCalcCodeEditorWidget.prototype.setBusy=function(e){this.getEditor().setBusy(e)};e.OuCalcCodeEditorWidget.prototype.setCtrlSpacePressedProcedure=function(e){this.m_ctrlSpacePressedProcedures.addProcedure(e)};e.OuCalcCodeEditorWidget.prototype.setCursorPosition=function(e){this.getEditor().setCursorPosition(e)};e.OuCalcCodeEditorWidget.prototype.setCustomCompleterJson=function(t){let i=e.PrList.create();i.add(e.PrString.createWithValue(e.OuCalcCodeEditorWidget.HINT_PREFIX_IDENTIFIER_REGEX));this.getEditor().setCustomCompleter(e.UiCustomCompleter.create(t,i));if(e.FeFeatureToggle.isActive(e.FeFeatureToggle.DIMENSION_SUPPORT)){if(t.isEmpty()){this.getEditor().removeCommand(e.OuCalcCodeEditorWidget.START_AUTOCOMPLETE_COMMAND,true)}else{this.getEditor().addCommand(e.OuCalcCodeEditorWidget.START_AUTOCOMPLETE_COMMAND)}}};e.OuCalcCodeEditorWidget.prototype.setCustomMode=function(e){this.getEditor().setCodeType(e)};e.OuCalcCodeEditorWidget.prototype.setEditable=function(t){this.getEditor().setEditable(t);if(t){this.getEditor().removeCssClass(e.OuCalcCodeEditorWidget.READONLY_CSS_NAME)}else{this.getEditor().addCssClass(e.OuCalcCodeEditorWidget.READONLY_CSS_NAME)}};e.OuCalcCodeEditorWidget.prototype.setEditorValue=function(e){this.getEditor().setValue(e)};e.OuCalcCodeEditorWidget.prototype.setFormula=function(e){this.setValue(e.getDisplayText())};e.OuCalcCodeEditorWidget.prototype.setValue=function(e){this.setEditorValue(e);this.focus();this.announceUpdate()};e.OuCalcCodeEditorWidget.prototype.setupWidget=function(){};e.OuCalcFormulaElementListContentView=function(){};e.OuCalcFormulaElementListContentView.prototype=new e.DfUiContentView;e.OuCalcFormulaElementListContentView.prototype._ff_c="OuCalcFormulaElementListContentView";e.OuCalcFormulaElementListContentView.prototype.m_debouncingSearchMs=0;e.OuCalcFormulaElementListContentView.prototype.m_enableSearch=false;e.OuCalcFormulaElementListContentView.prototype.m_header=null;e.OuCalcFormulaElementListContentView.prototype.m_mainLayout=null;e.OuCalcFormulaElementListContentView.prototype.m_noItemsIllustratedMsg=null;e.OuCalcFormulaElementListContentView.prototype.m_onSelectConsumers=null;e.OuCalcFormulaElementListContentView.prototype.m_panelWidgetList=null;e.OuCalcFormulaElementListContentView.prototype.m_panelsLayout=null;e.OuCalcFormulaElementListContentView.prototype.m_searchField=null;e.OuCalcFormulaElementListContentView.prototype.addOnSelectConsumer=function(e){return this.m_onSelectConsumers.addConsumer(e)};e.OuCalcFormulaElementListContentView.prototype.addPanel=function(e){this.m_panelWidgetList.add(e)};e.OuCalcFormulaElementListContentView.prototype.announceUpdate=function(){e.UiFramework.currentFramework().announce(this.getLocalization().getText(e.OuCalcFormulaEditorI18n.TAB_OBJECTS_ANNOUNCE_UPDATE),e.UiAriaLiveMode.ASSERTIVE)};e.OuCalcFormulaElementListContentView.prototype.buildViewUi=function(t){this.m_mainLayout=t.newRoot(e.UiType.FLEX_LAYOUT);this.m_mainLayout.setDirection(e.UiFlexDirection.COLUMN);this.m_mainLayout.addCssClass("ffFeElementListPanel");this.m_header=this.m_mainLayout.addNewItemOfType(e.UiType.FLEX_LAYOUT);this.m_header.setDirection(e.UiFlexDirection.ROW);this.m_header.addCssClass("ffFeElementListPanelHeader");if(this.m_enableSearch){this.m_searchField=this.m_header.addNewItemOfType(e.UiType.SEARCH_FIELD);if(this.m_debouncingSearchMs>0){this.m_searchField.registerOnLiveChange(e.UiLambdaLiveChangeWithDebounceListener.create(e=>{this.filterItems()},this.m_debouncingSearchMs))}else{this.m_searchField.registerOnLiveChange(e.UiLambdaLiveChangeListener.create(e=>{this.filterItems()}))}this.m_searchField.registerOnSearch(e.UiLambdaSearchListener.create(e=>{this.filterItems()}));this.m_searchField.addCssClass("ffFeElementListPanelSearch");this.m_noItemsIllustratedMsg=this.m_mainLayout.addNewItemOfType(e.UiType.ILLUSTRATED_MESSAGE);this.m_noItemsIllustratedMsg.addCssClass("ffFeElementListPanelNoItemsMsg");this.m_noItemsIllustratedMsg.setEnableDefaultTitleAndDescription(false);this.m_noItemsIllustratedMsg.setIllustrationType(e.UiIllustratedMessageType.NO_SEARCH_RESULTS);this.m_noItemsIllustratedMsg.setIllustrationSize(e.UiIllustratedMessageSize.AUTO);this.m_noItemsIllustratedMsg.setTitle(this.getLocalization().getText(e.OuCalcFormulaEditorI18n.LEFT_PANEL_NO_DATA_TITLE));this.m_noItemsIllustratedMsg.setDescription(this.getLocalization().getText(e.OuCalcFormulaEditorI18n.LEFT_PANEL_NO_DATA_DESCRIPTION));this.m_noItemsIllustratedMsg.setVisible(false)}this.m_panelsLayout=this.m_mainLayout.addNewItemOfType(e.UiType.FLEX_LAYOUT);this.m_panelsLayout.setDirection(e.UiFlexDirection.COLUMN);this.m_panelsLayout.addCssClass("ffFeElementListPanelContent");this.buildUI();if(!this.m_header.hasItems()){this.m_header.setVisible(false)}};e.OuCalcFormulaElementListContentView.prototype.destroyView=function(){this.m_searchField=null;this.m_noItemsIllustratedMsg=null;this.m_header=null;this.m_panelsLayout=null;this.m_mainLayout=null;this.m_onSelectConsumers.clear();this.m_onSelectConsumers=e.XObjectExt.release(this.m_onSelectConsumers);this.m_panelWidgetList.clear();this.m_panelWidgetList=e.XObjectExt.release(this.m_panelWidgetList)};e.OuCalcFormulaElementListContentView.prototype.filterItems=function(){e.XStream.of(this.m_panelWidgetList).forEach(e=>{e.filterItems(this.m_searchField.getValue())});this.updateNoItemsIllustratedMessageVisibility();this.announceUpdate()};e.OuCalcFormulaElementListContentView.prototype.getLocalization=function(){return e.XLocalizationCenter.getCenter()};e.OuCalcFormulaElementListContentView.prototype.onSelectConsumer=function(e){this.m_onSelectConsumers.accept(e)};e.OuCalcFormulaElementListContentView.prototype.setVisible=function(e){this.getView().setVisible(e)};e.OuCalcFormulaElementListContentView.prototype.setupInternal=function(t){this.m_enableSearch=t;this.m_debouncingSearchMs=0;this.m_onSelectConsumers=e.XConsumerCollection.create();this.m_panelWidgetList=e.XList.create()};e.OuCalcFormulaElementListContentView.prototype.setupView=function(){};e.OuCalcFormulaElementListContentView.prototype.updateNoItemsIllustratedMessageVisibility=function(){let t=!e.XStream.of(this.m_panelWidgetList).anyMatch(e=>e.hasVisibleItems());this.m_panelsLayout.setVisible(!t);this.m_noItemsIllustratedMsg.setVisible(t)};e.OuCalcFormulaElementListSidePanelView=function(){};e.OuCalcFormulaElementListSidePanelView.prototype=new e.DfUiContentView;e.OuCalcFormulaElementListSidePanelView.prototype._ff_c="OuCalcFormulaElementListSidePanelView";e.OuCalcFormulaElementListSidePanelView.create=function(){let t=new e.OuCalcFormulaElementListSidePanelView;t.m_onPressConsumers=e.XConsumerCollection.create();return t};e.OuCalcFormulaElementListSidePanelView.prototype.m_expandIcon=null;e.OuCalcFormulaElementListSidePanelView.prototype.m_onPressConsumers=null;e.OuCalcFormulaElementListSidePanelView.prototype.addOnPressConsumer=function(e){return this.m_onPressConsumers.addConsumer(e)};e.OuCalcFormulaElementListSidePanelView.prototype.buildViewUi=function(t){let i=t.newRoot(e.UiType.FLEX_LAYOUT);i.setDirection(e.UiFlexDirection.COLUMN);i.addCssClass("sapMIBar");i.addCssClass("ffOuCalcFormulaElementListSidePanel");this.m_expandIcon=this.newItem(e.OuCalcFormulaElementListConst.EXPAND_NAME,e.OuCalcFormulaElementListConst.EXPAND_ICON,this.getLocalization().getText(e.OuCalcFormulaEditorI18n.FE_BTN_EXPAND));let o=this.newItem(e.OuCalcFormulaElementListConst.FUNCTIONS_NAME,e.OuCalcFormulaElementListConst.FUNCTIONS_ICON,e.OuCalcFormulaElementListConst.getFunctionTooltip());let n=this.newItem(e.OuCalcFormulaElementListConst.OBJECTS_NAME,e.OuCalcFormulaElementListConst.OBJECTS_ICON,e.OuCalcFormulaElementListConst.getObjectsTooltip());let a=this.newItem(e.OuCalcFormulaElementListConst.OPERATORS_NAME,e.OuCalcFormulaElementListConst.OPERATIONS_ICON,e.OuCalcFormulaElementListConst.getOperatorsTooltip());i.addItem(this.m_expandIcon);i.addItem(n);i.addItem(o);i.addItem(a)};e.OuCalcFormulaElementListSidePanelView.prototype.destroyView=function(){this.m_onPressConsumers=e.XObjectExt.release(this.m_onPressConsumers)};e.OuCalcFormulaElementListSidePanelView.prototype.focus=function(){this.m_expandIcon.focus()};e.OuCalcFormulaElementListSidePanelView.prototype.getLocalization=function(){return e.OuCalcFormulaEditorI18n.getLocalization()};e.OuCalcFormulaElementListSidePanelView.prototype.newItem=function(t,i,o){let n=this.getGenesis().newControl(e.UiType.BUTTON);n.addAttribute(e.OuCalcFormulaElementListConst.ATTRIBUTE_NAME,t);n.setButtonType(e.UiButtonType.TRANSPARENT);n.addCssClass("ffFeSidePanelItem");n.setIcon(i);n.setTooltip(o);n.registerOnPress(e.UiLambdaPressListener.create(e=>{this.m_onPressConsumers.accept(t)}));return n};e.OuCalcFormulaElementListSidePanelView.prototype.setVisible=function(e){this.getView().setVisible(e)};e.OuCalcFormulaElementListSidePanelView.prototype.setupView=function(){};e.OuCalcFormulaElementListTabView=function(){};e.OuCalcFormulaElementListTabView.prototype=new e.DfUiContentView;e.OuCalcFormulaElementListTabView.prototype._ff_c="OuCalcFormulaElementListTabView";e.OuCalcFormulaElementListTabView.ICON_SELECTED="ffOuCalcFormulaElementListItemSelected";e.OuCalcFormulaElementListTabView.create=function(t,i,o,n){let a=new e.OuCalcFormulaElementListTabView;a.m_formulaItems=e.XObjectExt.assertNotNull(t);a.m_datasource=e.XObjectExt.assertNotNull(i);a.m_feConfiguration=e.XObjectExt.assertNotNull(o);a.m_onSelectConsumers=e.XConsumerCollection.create();a.m_onCollapseConsumers=e.XConsumerCollection.create();a.m_preferences=e.XObjectExt.assertNotNull(n);return a};e.OuCalcFormulaElementListTabView.prototype.m_calcOpView=null;e.OuCalcFormulaElementListTabView.prototype.m_calcOpViewItem=null;e.OuCalcFormulaElementListTabView.prototype.m_collapseItem=null;e.OuCalcFormulaElementListTabView.prototype.m_datasource=null;e.OuCalcFormulaElementListTabView.prototype.m_feConfiguration=null;e.OuCalcFormulaElementListTabView.prototype.m_formulaItems=null;e.OuCalcFormulaElementListTabView.prototype.m_funcView=null;e.OuCalcFormulaElementListTabView.prototype.m_funcViewItem=null;e.OuCalcFormulaElementListTabView.prototype.m_lastSelectedItem=null;e.OuCalcFormulaElementListTabView.prototype.m_objView=null;e.OuCalcFormulaElementListTabView.prototype.m_objViewItem=null;e.OuCalcFormulaElementListTabView.prototype.m_onCollapseConsumers=null;e.OuCalcFormulaElementListTabView.prototype.m_onSelectConsumers=null;e.OuCalcFormulaElementListTabView.prototype.m_preferences=null;e.OuCalcFormulaElementListTabView.prototype.m_tabBar=null;e.OuCalcFormulaElementListTabView.prototype.addCollapseButton=function(){this.m_collapseItem=this.m_tabBar.addNewItem();this.m_collapseItem.addAttribute(e.OuCalcFormulaElementListConst.ATTRIBUTE_NAME,e.OuCalcFormulaElementListConst.COLLAPSE_NAME);this.m_collapseItem.setIcon(e.OuCalcFormulaElementListConst.COLLAPSE_ICON);this.m_collapseItem.setTooltip(this.getLocalization().getText(e.OuCalcFormulaEditorI18n.FE_BTN_COLLAPSE));this.m_tabBar.registerOnSelect(e.UiLambdaSelectListener.create(t=>{if(t.getSelectedItem()===this.m_collapseItem){this.m_onCollapseConsumers.accept(e.XBooleanValue.create(true))}else{this.m_lastSelectedItem=t.getSelectedItem()}}))};e.OuCalcFormulaElementListTabView.prototype.addFunctionTab=function(){this.m_funcViewItem=this.m_tabBar.addNewItem();this.m_funcViewItem.addAttribute(e.OuCalcFormulaElementListConst.ATTRIBUTE_NAME,e.OuCalcFormulaElementListConst.FUNCTIONS_NAME);this.m_funcViewItem.setIcon(e.OuCalcFormulaElementListConst.FUNCTIONS_ICON);this.m_funcViewItem.setTooltip(e.OuCalcFormulaElementListConst.getFunctionTooltip());this.m_funcView=e.OuCalcFunctionsView.create(this.m_formulaItems);this.m_funcView.renderView(this.getGenesis());this.m_funcViewItem.setContent(this.m_funcView.getView())};e.OuCalcFormulaElementListTabView.prototype.addObjectsTab=function(){this.m_objViewItem=this.m_tabBar.addNewItem();this.m_objViewItem.addAttribute(e.OuCalcFormulaElementListConst.ATTRIBUTE_NAME,e.OuCalcFormulaElementListConst.OBJECTS_NAME);this.m_objViewItem.setIcon(e.OuCalcFormulaElementListConst.OBJECTS_ICON);this.m_objViewItem.setTooltip(e.OuCalcFormulaElementListConst.getObjectsTooltip());this.m_objView=e.OuCalcObjectsView.create(this.m_datasource,this.m_feConfiguration,this.m_preferences.isModelPrefixEnabled());this.m_objView.renderView(this.getGenesis());this.m_objViewItem.setContent(this.m_objView.getView())};e.OuCalcFormulaElementListTabView.prototype.addOnCollapseConsumer=function(e){return this.m_onCollapseConsumers.addConsumer(e)};e.OuCalcFormulaElementListTabView.prototype.addOnDisplayOptionPressedConsumer=function(e){return this.m_objView.addOnDisplayOptionPressedConsumer(e)};e.OuCalcFormulaElementListTabView.prototype.addOnSelectConsumer=function(e){return this.m_onSelectConsumers.addConsumer(e)};e.OuCalcFormulaElementListTabView.prototype.addOnSelectFormulaItemConsumer=function(e){return this.m_funcView.addOnSelectFormulaItemConsumer(e)};e.OuCalcFormulaElementListTabView.prototype.addOperatorsTab=function(){this.m_calcOpViewItem=this.m_tabBar.addNewItem();this.m_calcOpViewItem.addAttribute(e.OuCalcFormulaElementListConst.ATTRIBUTE_NAME,e.OuCalcFormulaElementListConst.OPERATORS_NAME);this.m_calcOpViewItem.setIcon(e.OuCalcFormulaElementListConst.OPERATIONS_ICON);this.m_calcOpViewItem.setTooltip(e.OuCalcFormulaElementListConst.getOperatorsTooltip());this.m_calcOpView=e.OuCalcOperatorsView.create(this.m_formulaItems);this.m_calcOpView.renderView(this.getGenesis());this.m_calcOpViewItem.setContent(this.m_calcOpView.getView())};e.OuCalcFormulaElementListTabView.prototype.buildViewUi=function(t){this.m_tabBar=t.newRoot(e.UiType.ICON_TAB_BAR);this.m_tabBar.addCssClass("ffOuCalcFormulaElementListTabBar");this.m_tabBar.setBorderStyle(e.UiBorderStyle.NONE);this.addObjectsTab();this.addFunctionTab();this.addOperatorsTab();this.addCollapseButton();this.m_objView.addOnSelectConsumer(e=>{this.m_onSelectConsumers.accept(e)});this.m_calcOpView.addOnSelectConsumer(e=>{this.m_onSelectConsumers.accept(e)});this.m_funcView.addOnSelectConsumer(e=>{this.m_onSelectConsumers.accept(e)});this.m_lastSelectedItem=this.m_objViewItem};e.OuCalcFormulaElementListTabView.prototype.destroyView=function(){this.m_formulaItems=null;this.m_datasource=null;this.m_onSelectConsumers.clear();this.m_onSelectConsumers=e.XObjectExt.release(this.m_onSelectConsumers);this.m_onCollapseConsumers.clear();this.m_onCollapseConsumers=e.XObjectExt.release(this.m_onCollapseConsumers);this.m_objView=e.XObjectExt.release(this.m_objView);this.m_funcView=e.XObjectExt.release(this.m_funcView);this.m_calcOpView=e.XObjectExt.release(this.m_calcOpView);this.m_preferences=null};e.OuCalcFormulaElementListTabView.prototype.focus=function(){this.m_collapseItem.focus()};e.OuCalcFormulaElementListTabView.prototype.getLocalization=function(){return e.XLocalizationCenter.getCenter()};e.OuCalcFormulaElementListTabView.prototype.openPanel=function(t){switch(t){case e.OuCalcFormulaElementListConst.OBJECTS_NAME:this.m_tabBar.setSelectedItem(this.m_objViewItem);break;case e.OuCalcFormulaElementListConst.FUNCTIONS_NAME:this.m_tabBar.setSelectedItem(this.m_funcViewItem);break;case e.OuCalcFormulaElementListConst.OPERATORS_NAME:this.m_tabBar.setSelectedItem(this.m_calcOpViewItem);break;default:this.m_tabBar.setSelectedItem(this.m_lastSelectedItem)}};e.OuCalcFormulaElementListTabView.prototype.setVisible=function(e){this.getView().setVisible(e)};e.OuCalcFormulaElementListTabView.prototype.setupView=function(){};e.OuCalcFormulaElementListView=function(){};e.OuCalcFormulaElementListView.prototype=new e.DfUiContentView;e.OuCalcFormulaElementListView.prototype._ff_c="OuCalcFormulaElementListView";e.OuCalcFormulaElementListView.create=function(t,i,o,n){let a=new e.OuCalcFormulaElementListView;e.XObjectExt.assertNotNullExt(t,"Formula Items Provider null!");e.XObjectExt.assertNotNullExt(i,"Datasource Provider null!");e.XObjectExt.assertNotNullExt(o,"Configuration null!");a.m_formulaItems=e.XObjectExt.assertNotNull(t);a.m_datasource=e.XObjectExt.assertNotNull(i);a.m_onCollapseConsumers=e.XConsumerCollection.create();a.m_feConfiguration=o;a.m_preferences=n;return a};e.OuCalcFormulaElementListView.prototype.m_datasource=null;e.OuCalcFormulaElementListView.prototype.m_feConfiguration=null;e.OuCalcFormulaElementListView.prototype.m_formulaItems=null;e.OuCalcFormulaElementListView.prototype.m_onCollapseConsumers=null;e.OuCalcFormulaElementListView.prototype.m_preferences=null;e.OuCalcFormulaElementListView.prototype.m_sidePanel=null;e.OuCalcFormulaElementListView.prototype.m_tabView=null;e.OuCalcFormulaElementListView.prototype._showSidePanel=function(t){this.m_sidePanel.setVisible(t);this.m_tabView.setVisible(!t);this.m_onCollapseConsumers.accept(e.XBooleanValue.create(t))};e.OuCalcFormulaElementListView.prototype.addOnCollapseConsumer=function(e){return this.m_onCollapseConsumers.addConsumer(e)};e.OuCalcFormulaElementListView.prototype.addOnDisplayOptionPressedConsumer=function(e){return this.m_tabView.addOnDisplayOptionPressedConsumer(e)};e.OuCalcFormulaElementListView.prototype.addOnSelectConsumer=function(e){return this.m_tabView.addOnSelectConsumer(e)};e.OuCalcFormulaElementListView.prototype.addOnSelectFormulaItemConsumer=function(e){return this.m_tabView.addOnSelectFormulaItemConsumer(e)};e.OuCalcFormulaElementListView.prototype.buildViewUi=function(t){let i=t.newRoot(e.UiType.FLEX_LAYOUT);i.setDirection(e.UiFlexDirection.ROW);i.addCssClass("ffOuCalcFormulaElementListView");this.m_sidePanel=e.OuCalcFormulaElementListSidePanelView.create();this.m_sidePanel.renderView(t);i.addItem(this.m_sidePanel.getView());this.m_tabView=e.OuCalcFormulaElementListTabView.create(this.m_formulaItems,this.m_datasource,this.m_feConfiguration,this.m_preferences);this.m_tabView.renderView(t);i.addItem(this.m_tabView.getView());this.initExpandCollapseLogic()};e.OuCalcFormulaElementListView.prototype.destroyView=function(){this.m_formulaItems=null;this.m_datasource=null;this.m_sidePanel=e.XObjectExt.release(this.m_sidePanel);this.m_tabView=e.XObjectExt.release(this.m_tabView);this.m_onCollapseConsumers.clear();this.m_onCollapseConsumers=e.XObjectExt.release(this.m_onCollapseConsumers);this.m_preferences=null};e.OuCalcFormulaElementListView.prototype.initExpandCollapseLogic=function(){this._showSidePanel(false);this.m_sidePanel.addOnPressConsumer(e=>{this.showSidePanel(false);this.m_tabView.openPanel(e)});this.m_tabView.addOnCollapseConsumer(e=>{this.showSidePanel(e.getBoolean())})};e.OuCalcFormulaElementListView.prototype.setCollapsed=function(e){this.showSidePanel(e)};e.OuCalcFormulaElementListView.prototype.setupView=function(){};e.OuCalcFormulaElementListView.prototype.showSidePanel=function(e){this._showSidePanel(e);if(e){this.m_sidePanel.focus()}else{this.m_tabView.focus()}};e.OuCalcFormulaElementListViewV2=function(){};e.OuCalcFormulaElementListViewV2.prototype=new e.DfUiContentView;e.OuCalcFormulaElementListViewV2.prototype._ff_c="OuCalcFormulaElementListViewV2";e.OuCalcFormulaElementListViewV2.create=function(t,i,o,n){let a=new e.OuCalcFormulaElementListViewV2;e.XObjectExt.assertNotNullExt(t,"Formula Items Provider null!");e.XObjectExt.assertNotNullExt(i,"Datasource Provider null!");e.XObjectExt.assertNotNullExt(o,"Configuration null!");a.m_formulaItems=e.XObjectExt.assertNotNull(t);a.m_datasource=e.XObjectExt.assertNotNull(i);a.m_feConfiguration=o;a.m_onSelectConsumers=e.XConsumerCollection.create();a.m_onCollapseConsumers=e.XConsumerCollection.create();a.m_preferences=e.XObjectExt.assertNotNull(n);return a};e.OuCalcFormulaElementListViewV2.prototype.m_calcOpView=null;e.OuCalcFormulaElementListViewV2.prototype.m_datasource=null;e.OuCalcFormulaElementListViewV2.prototype.m_feConfiguration=null;e.OuCalcFormulaElementListViewV2.prototype.m_formulaItems=null;e.OuCalcFormulaElementListViewV2.prototype.m_funcView=null;e.OuCalcFormulaElementListViewV2.prototype.m_objView=null;e.OuCalcFormulaElementListViewV2.prototype.m_onCollapseConsumers=null;e.OuCalcFormulaElementListViewV2.prototype.m_onSelectConsumers=null;e.OuCalcFormulaElementListViewV2.prototype.m_preferences=null;e.OuCalcFormulaElementListViewV2.prototype.m_sidePanel=null;e.OuCalcFormulaElementListViewV2.prototype.addFunctionPanelItem=function(){let t=this.m_sidePanel.addNewItem();t.setText(e.OuCalcFormulaElementListConst.getFunctionTooltip());t.addAttribute(e.OuCalcFormulaElementListConst.ATTRIBUTE_NAME,e.OuCalcFormulaElementListConst.FUNCTIONS_NAME);t.setIcon(e.OuCalcFormulaElementListConst.FUNCTIONS_ICON);t.setTooltip(e.OuCalcFormulaElementListConst.getFunctionTooltip());this.m_funcView=e.OuCalcFunctionsView.create(this.m_formulaItems);this.m_funcView.renderView(this.getGenesis());t.setContent(this.m_funcView.getView())};e.OuCalcFormulaElementListViewV2.prototype.addObjectsPanelItem=function(){let t=this.m_sidePanel.addNewItem();t.setText(e.OuCalcFormulaElementListConst.getObjectsTooltip());t.addAttribute(e.OuCalcFormulaElementListConst.ATTRIBUTE_NAME,e.OuCalcFormulaElementListConst.OBJECTS_NAME);t.setIcon(e.OuCalcFormulaElementListConst.OBJECTS_ICON);t.setTooltip(e.OuCalcFormulaElementListConst.getObjectsTooltip());this.m_objView=e.OuCalcObjectsView.create(this.m_datasource,this.m_feConfiguration,this.m_preferences.isModelPrefixEnabled());this.m_objView.renderView(this.getGenesis());t.setContent(this.m_objView.getView())};e.OuCalcFormulaElementListViewV2.prototype.addOnCollapseConsumer=function(e){return this.m_onCollapseConsumers.addConsumer(e)};e.OuCalcFormulaElementListViewV2.prototype.addOnDisplayOptionPressedConsumer=function(e){return this.m_objView.addOnDisplayOptionPressedConsumer(e)};e.OuCalcFormulaElementListViewV2.prototype.addOnSelectConsumer=function(e){return this.m_onSelectConsumers.addConsumer(e)};e.OuCalcFormulaElementListViewV2.prototype.addOnSelectFormulaItemConsumer=function(e){return this.m_funcView.addOnSelectFormulaItemConsumer(e)};e.OuCalcFormulaElementListViewV2.prototype.addOperatorsPanelItem=function(){let t=this.m_sidePanel.addNewItem();t.setText(e.OuCalcFormulaElementListConst.getOperatorsTooltip());t.addAttribute(e.OuCalcFormulaElementListConst.ATTRIBUTE_NAME,e.OuCalcFormulaElementListConst.OPERATORS_NAME);t.setIcon(e.OuCalcFormulaElementListConst.OPERATIONS_ICON);t.setTooltip(e.OuCalcFormulaElementListConst.getOperatorsTooltip());this.m_calcOpView=e.OuCalcOperatorsView.create(this.m_formulaItems);this.m_calcOpView.renderView(this.getGenesis());t.setContent(this.m_calcOpView.getView())};e.OuCalcFormulaElementListViewV2.prototype.buildViewUi=function(t){this.m_sidePanel=t.newRoot(e.UiType.SIDE_PANEL);this.m_sidePanel.addCssClass("ffOuCalcFormulaElementListView");this.m_sidePanel.setSidePanelPosition(e.UiSidePanelPosition.LEFT);this.m_sidePanel.registerOnToggle(e.UiLambdaToggleListener.create(t=>{let i=t.getAffectedItem();if(e.notNull(i)){this.m_onCollapseConsumers.accept(e.XBooleanValue.create(!t.getParameters().getBooleanByKey("expanded")))}}));this.addFunctionPanelItem();this.addObjectsPanelItem();this.addOperatorsPanelItem();this.m_objView.addOnSelectConsumer(e=>{this.m_onSelectConsumers.accept(e)});this.m_calcOpView.addOnSelectConsumer(e=>{this.m_onSelectConsumers.accept(e)});this.m_funcView.addOnSelectConsumer(e=>{this.m_onSelectConsumers.accept(e)})};e.OuCalcFormulaElementListViewV2.prototype.destroyView=function(){this.m_formulaItems=null;this.m_preferences=null;this.m_datasource=null;this.m_sidePanel=null;this.m_onSelectConsumers.clear();this.m_onSelectConsumers=e.XObjectExt.release(this.m_onSelectConsumers);this.m_onCollapseConsumers.clear();this.m_onCollapseConsumers=e.XObjectExt.release(this.m_onCollapseConsumers);this.m_objView=e.XObjectExt.release(this.m_objView);this.m_funcView=e.XObjectExt.release(this.m_funcView);this.m_calcOpView=e.XObjectExt.release(this.m_calcOpView)};e.OuCalcFormulaElementListViewV2.prototype.setCollapsed=function(e){if(!e){this.m_sidePanel.setSelectedItemByIndex(0)}else{this.m_sidePanel.setExpanded(false)}};e.OuCalcFormulaElementListViewV2.prototype.setupView=function(){};e.OuCalcCustomTreeWidget=function(){};e.OuCalcCustomTreeWidget.prototype=new e.DfUiWidget;e.OuCalcCustomTreeWidget.prototype._ff_c="OuCalcCustomTreeWidget";e.OuCalcCustomTreeWidget.INITIAL_PADDING_LEFT_REM=1;e.OuCalcCustomTreeWidget.PADDING_LEFT_REM=1;e.OuCalcCustomTreeWidget.ROOT_DUMMY_NAME_="_CSTM_TREE_ROOT__";e.OuCalcCustomTreeWidget.create=function(){let t=new e.OuCalcCustomTreeWidget;t.m_root=e.OuCalcCustomTreeWidgetItem.createEmpty(e.OuCalcCustomTreeWidget.ROOT_DUMMY_NAME_);t.m_onItemClickConsumers=e.XConsumerCollection.create();t.m_onItemDblClickConsumers=e.XConsumerCollection.create();return t};e.OuCalcCustomTreeWidget.prototype.m_onItemClickConsumers=null;e.OuCalcCustomTreeWidget.prototype.m_onItemDblClickConsumers=null;e.OuCalcCustomTreeWidget.prototype.m_root=null;e.OuCalcCustomTreeWidget.prototype._setChildrenVisibility=function(t,i){e.XStream.of(t.getChildren()).forEach(e=>{let t=e.getUiItem();let o=i(e);t.setVisible(o);if(e.isExpanded()){this._setChildrenVisibility(e,i)}})};e.OuCalcCustomTreeWidget.prototype.addItem=function(e){return this.m_root.addItem(e)};e.OuCalcCustomTreeWidget.prototype.addOnItemClick=function(e){return this.m_onItemClickConsumers.addConsumer(e)};e.OuCalcCustomTreeWidget.prototype.addOnItemDoubleClick=function(e){return this.m_onItemDblClickConsumers.addConsumer(e)};e.OuCalcCustomTreeWidget.prototype.applyToItems=function(e){this.m_root.applyToItems(e)};e.OuCalcCustomTreeWidget.prototype.createListItem=function(t,i,o){let n=this.getGenesis().newControl(e.UiType.CUSTOM_LIST_ITEM);n.setCustomObject(t.getCustomObject());n.addCssClass("ffOuCustomTreeItem");if(t.isEnabled()){n.setListItemType(e.UiListItemType.ACTIVE);n.registerOnPress(e.UiLambdaPressListener.create(e=>{this.m_onItemClickConsumers.accept(t)}));n.registerOnDoubleClick(e.UiLambdaDoubleClickListener.create(e=>{this.m_onItemDblClickConsumers.accept(t)}))}else{n.setListItemType(e.UiListItemType.INACTIVE);n.addCssClass("ffOuCustomTreeItemDisabled")}n.addAttribute("item-level",e.XInteger.convertToString(o));n.addAttribute("item-name",t.getName());n.setPadding(e.UiCssBoxEdges.create(this.generatePaddingByLevel(o)));if(t.isRoot()||e.notNull(i)&&i===this.m_root){n.addCssClass("ffOuCustomTreeItemRoot")}else if(e.notNull(i)){n.addAttribute("item-parent",i.getName())}else{n.addCssClass("ffOuCustomTreeItemOrphan")}n.addCssClass(t.isLeaf()?"ffOuCustomTreeItemLeaf":"ffOuCustomTreeItemNode");return n};e.OuCalcCustomTreeWidget.prototype.destroyWidget=function(){this.m_root=e.XObjectExt.release(this.m_root);this.m_onItemClickConsumers=e.XObjectExt.release(this.m_onItemClickConsumers);this.m_onItemDblClickConsumers=e.XObjectExt.release(this.m_onItemDblClickConsumers)};e.OuCalcCustomTreeWidget.prototype.filterItems=function(e){this.m_root.filterItems(e);this.updateChildrenVisibility(this.m_root)};e.OuCalcCustomTreeWidget.prototype.generatePaddingByLevel=function(t){let i=e.OuCalcCustomTreeWidget.PADDING_LEFT_REM*t+e.OuCalcCustomTreeWidget.INITIAL_PADDING_LEFT_REM;return e.XStringUtils.concatenate3("0rem 0rem 0rem ",e.XDouble.convertToString(i),"rem")};e.OuCalcCustomTreeWidget.prototype.getChildren=function(){return this.m_root.getChildren()};e.OuCalcCustomTreeWidget.prototype.getContent=function(){return this.m_root.getContent()};e.OuCalcCustomTreeWidget.prototype.getCustomObject=function(){return this.m_root.getCustomObject()};e.OuCalcCustomTreeWidget.prototype.getItemByName=function(e){return this.m_root.getItemByName(e)};e.OuCalcCustomTreeWidget.prototype.getName=function(){return this.m_root.getName()};e.OuCalcCustomTreeWidget.prototype.getParent=function(){return this.m_root.getParent()};e.OuCalcCustomTreeWidget.prototype.getUiItem=function(){return null};e.OuCalcCustomTreeWidget.prototype.getVisibleItems=function(){return this.m_root.getVisibleItems()};e.OuCalcCustomTreeWidget.prototype.getWidgetControl=function(t){let i=t.newControl(e.UiType.LIST);i.addCssClass("ffOuCustomTreeWidget");return i};e.OuCalcCustomTreeWidget.prototype.hasVisibleItems=function(){return e.XStream.of(this.getView().getItems()).anyMatch(e=>e.isVisible())};e.OuCalcCustomTreeWidget.prototype.isEnabled=function(){return true};e.OuCalcCustomTreeWidget.prototype.isExpanded=function(){return this.m_root.isExpanded()};e.OuCalcCustomTreeWidget.prototype.isFiltered=function(){return false};e.OuCalcCustomTreeWidget.prototype.isLeaf=function(){return this.m_root.isLeaf()};e.OuCalcCustomTreeWidget.prototype.isRoot=function(){return true};e.OuCalcCustomTreeWidget.prototype.layoutWidget=function(t){e.XStream.of(this.m_root.getChildren()).forEach(e=>{this.renderTreeItem(e,0)});this.setItemExpanded(this.m_root,true)};e.OuCalcCustomTreeWidget.prototype.renderTreeItem=function(t,i){let o=t.getParent().isPresent()?t.getParent().get():null;let n=this.createListItem(t,o,i);this.getView().addItem(n);let a=n.setNewContent(e.UiType.FLEX_LAYOUT);a.addCssClass("ffOuCustomTreeItemLayout");a.setDirection(e.UiFlexDirection.ROW);let r=a.addNewItemOfType(e.UiType.BUTTON);r.setButtonType(e.UiButtonType.TRANSPARENT);r.addCssClass("ffOuCustomTreeItemExpand");r.setVisible(!t.isLeaf());let l=t.getContent();l.addCssClass("ffOuCustomTreeItemContent");a.addItem(l);t.setUiItem(n);if(!t.isLeaf()){this.renderTreeItemChildren(t,n,i);r.registerOnPress(e.UiLambdaPressListener.create(e=>{this.toggleItemExpanded(t)}));this.setItemExpanded(t,false)}};e.OuCalcCustomTreeWidget.prototype.renderTreeItemChildren=function(t,i,o){let n=e.XBooleanValue.create(true);e.XStream.of(t.getChildren()).forEach(e=>{n.setBoolean(n.getBoolean()&&e.isLeaf());this.renderTreeItem(e,o+1)});if(n.getBoolean()){i.addCssClass("ffOuCustomTreeItemLastNode")}};e.OuCalcCustomTreeWidget.prototype.setChildrenVisibility=function(e,t){this._setChildrenVisibility(e,e=>t&&!e.isFiltered())};e.OuCalcCustomTreeWidget.prototype.setContent=function(e){this.m_root.setContent(e)};e.OuCalcCustomTreeWidget.prototype.setExpanded=function(e){this.m_root.setExpanded(e)};e.OuCalcCustomTreeWidget.prototype.setFiltered=function(e){this.m_root.setFiltered(e)};e.OuCalcCustomTreeWidget.prototype.setItemExpanded=function(e,t){e.setExpanded(t);this.setChildrenVisibility(e,t);return e.isExpanded()};e.OuCalcCustomTreeWidget.prototype.setParent=function(e){this.m_root.setParent(e)};e.OuCalcCustomTreeWidget.prototype.setUiItem=function(e){};e.OuCalcCustomTreeWidget.prototype.setupWidget=function(){};e.OuCalcCustomTreeWidget.prototype.toggleExpanded=function(){return this.m_root.toggleExpanded()};e.OuCalcCustomTreeWidget.prototype.toggleItemExpanded=function(e){return this.setItemExpanded(e,e.toggleExpanded())};e.OuCalcCustomTreeWidget.prototype.updateChildrenVisibility=function(e){this._setChildrenVisibility(e,e=>!e.isFiltered())};e.OuAbstractCalcPanelWidget=function(){};e.OuAbstractCalcPanelWidget.prototype=new e.DfUiWidget;e.OuAbstractCalcPanelWidget.prototype._ff_c="OuAbstractCalcPanelWidget";e.OuAbstractCalcPanelWidget.prototype.m_consumersHandler=null;e.OuAbstractCalcPanelWidget.prototype.m_displayOption=null;e.OuAbstractCalcPanelWidget.prototype.m_hideIfEmpty=false;e.OuAbstractCalcPanelWidget.prototype.m_lastTechnicalIdentifierSelected=null;e.OuAbstractCalcPanelWidget.prototype.m_panelItems=null;e.OuAbstractCalcPanelWidget.prototype.m_technicalIdentifierSelectedTimeoutId=null;e.OuAbstractCalcPanelWidget.prototype._fireOnChange=function(t){this.m_consumersHandler.fireEvent(e.UiEvent.ON_CHANGE.getName(),e.XStringValue.create(t))};e.OuAbstractCalcPanelWidget.prototype._fireOnSelect=function(t){this.m_consumersHandler.fireEvent(e.UiEvent.ON_SELECT.getName(),e.XStringValue.create(t))};e.OuAbstractCalcPanelWidget.prototype.attachOnChange=function(t){this.m_consumersHandler.attachEventConsumer(e.UiEvent.ON_CHANGE.getName(),t)};e.OuAbstractCalcPanelWidget.prototype.attachOnSelect=function(t){this.m_consumersHandler.attachEventConsumer(e.UiEvent.ON_SELECT.getName(),t)};e.OuAbstractCalcPanelWidget.prototype.createListItem=function(t){let i=this.getGenesis().newControl(e.UiType.CUSTOM_LIST_ITEM);i.setCustomObject(t);i.addCssClass("ffFeListItem");if(t.isEnabled()){i.setListItemType(e.UiListItemType.ACTIVE);i.registerOnPress(e.UiLambdaPressListener.create(e=>{this.fireOnChange(t)}));i.registerOnDoubleClick(e.UiLambdaDoubleClickListener.create(e=>{this.fireOnSelect(t)}))}else{i.setListItemType(e.UiListItemType.INACTIVE);i.addCssClass("ffFeListItemDisabled")}i.setContent(this.createListItemContent(t));return i};e.OuAbstractCalcPanelWidget.prototype.createListItemContent=function(t){let i=this.getGenesis().newControl(e.UiType.FLEX_LAYOUT);i.setDirection(e.UiFlexDirection.ROW);i.setJustifyContent(e.UiFlexJustifyContent.SPACE_BETWEEN);i.setAlignItems(e.UiFlexAlignItems.CENTER);i.addAttribute("item-id",t.getId());i.addAttribute("item-name",t.getDisplayName());i.setTooltip(this.getTooltip(t));i.addCssClass("ffFeListItemContent");let o=i.addNewItemOfType(e.UiType.LABEL);o.setText(this.getDisplayText(t));o.addCssClass("ffFeItemLabel");if(t.isEnabled()){let o=i.addNewItemOfType(e.UiType.BUTTON);o.setTooltip(e.XLocalizationCenter.getCenter().getText(e.XCommonI18n.ADD));o.setIcon("add");o.setButtonType(e.UiButtonType.TRANSPARENT);o.addCssClass("ffFeItemAdd");o.registerOnPress(e.UiLambdaPressListener.create(e=>{this.handleLastTechnicalIdentifierSelectedPress(t.getTechnicalIdentifier());this._fireOnSelect(t.getTechnicalIdentifier())}))}return i};e.OuAbstractCalcPanelWidget.prototype.destroyWidget=function(){this.m_panelItems=e.XObjectExt.release(this.m_panelItems);this.m_consumersHandler=e.XObjectExt.release(this.m_consumersHandler)};e.OuAbstractCalcPanelWidget.prototype.detachOnChange=function(t){this.m_consumersHandler.detachEventConsumer(e.UiEvent.ON_CHANGE.getName(),t)};e.OuAbstractCalcPanelWidget.prototype.detachOnSelect=function(t){this.m_consumersHandler.detachEventConsumer(e.UiEvent.ON_SELECT.getName(),t)};e.OuAbstractCalcPanelWidget.prototype.fireOnChange=function(e){this._fireOnChange(e.getDisplayName())};e.OuAbstractCalcPanelWidget.prototype.fireOnSelect=function(t){if(!e.XString.isEqual(t.getTechnicalIdentifier(),this.m_lastTechnicalIdentifierSelected)){this._fireOnSelect(t.getTechnicalIdentifier())}};e.OuAbstractCalcPanelWidget.prototype.getConsumersOnChange=function(){return this.m_consumersHandler.getEventConsumers(e.UiEvent.ON_CHANGE.getName())};e.OuAbstractCalcPanelWidget.prototype.getConsumersOnSelect=function(){return this.m_consumersHandler.getEventConsumers(e.UiEvent.ON_SELECT.getName())};e.OuAbstractCalcPanelWidget.prototype.getDisplayText=function(e){return e.getDisplayText(this.m_displayOption)};e.OuAbstractCalcPanelWidget.prototype.getListItemLabel=function(e){let t=e.getContent();return t.getItem(0)};e.OuAbstractCalcPanelWidget.prototype.getTooltip=function(t){let i=e.XStringBuffer.create();i.append(this.getDisplayText(t));if(t.getTooltip().isPresent()){i.append(" - ");i.append(t.getTooltip().get())}return i.toString()};e.OuAbstractCalcPanelWidget.prototype.handleLastTechnicalIdentifierSelectedPress=function(t){if(e.XTimeout.getTimeLeftUntilExecution(this.m_technicalIdentifierSelectedTimeoutId)>0){e.XTimeout.clear(this.m_technicalIdentifierSelectedTimeoutId)}this.m_lastTechnicalIdentifierSelected=t;this.m_technicalIdentifierSelectedTimeoutId=e.XTimeout.timeout(500,()=>{this.m_lastTechnicalIdentifierSelected=null})};e.OuAbstractCalcPanelWidget.prototype.isPanelItemVisible=function(t,i){return e.XStringUtils.isNullOrEmpty(i)||e.XString.containsString(e.XString.toUpperCase(t.getDisplayName()),e.XString.toUpperCase(i))||e.XString.containsString(e.XString.toUpperCase(t.getId()),e.XString.toUpperCase(i))};e.OuAbstractCalcPanelWidget.prototype.setDisplayOption=function(t){e.XObjectExt.assertNotNull(t);if(this.m_displayOption!==t){this.m_displayOption=t;this.updateListItemsText()}};e.OuAbstractCalcPanelWidget.prototype.setupInternalControl=function(t,i){e.XObjectExt.assertNotNull(t);e.XCollectionUtils.forEach(t,t=>{e.XObjectExt.assertNotNull(t)});this.m_consumersHandler=e.SuEventConsumerHandler.create();this.m_panelItems=t;this.m_displayOption=e.QueryPresentationUtils.DESCRIPTION;this.m_hideIfEmpty=i};e.OuAbstractCalcPanelWidget.prototype.setupWidget=function(){};e.OuAbstractCalcPanelWidget.prototype.updateItemLabel=function(e,t){let i=this.getListItemLabel(e);i.setText(this.getDisplayText(t))};e.DdDisplayAs=function(){};e.DdDisplayAs.prototype=new e.XConstant;e.DdDisplayAs.prototype._ff_c="DdDisplayAs";e.DdDisplayAs.DISPLAY=null;e.DdDisplayAs.KEY=null;e.DdDisplayAs.KEY_AND_TEXT=null;e.DdDisplayAs.NO_DISPLAY=null;e.DdDisplayAs.TEXT=null;e.DdDisplayAs.TEXT_AND_KEY=null;e.DdDisplayAs.create=function(t,i,o){let n=e.XConstant.setupName(new e.DdDisplayAs,t);n.m_key=i;n.m_text=o;return n};e.DdDisplayAs.staticSetup=function(){e.DdDisplayAs.NO_DISPLAY=e.DdDisplayAs.create("NoDisplay",false,false);e.DdDisplayAs.KEY_AND_TEXT=e.DdDisplayAs.create("KeyAndText",true,true);e.DdDisplayAs.TEXT=e.DdDisplayAs.create("Text",false,true);e.DdDisplayAs.KEY=e.DdDisplayAs.create("Key",true,false);e.DdDisplayAs.TEXT_AND_KEY=e.DdDisplayAs.create("Text and Key",true,true);e.DdDisplayAs.DISPLAY=e.DdDisplayAs.create("Display",false,false)};e.DdDisplayAs.prototype.m_key=false;e.DdDisplayAs.prototype.m_text=false;e.DdDisplayAs.prototype.isKey=function(){return this.m_key};e.DdDisplayAs.prototype.isText=function(){return this.m_text};e.FdController=function(){};e.FdController.prototype=new e.XObject;e.FdController.prototype._ff_c="FdController";e.FdController.IDENTIFIER_INITIAL_LOAD="IdentifierInitialLoad";e.FdController.IDENTIFIER_INITIAL_LOAD_RANGE="IdentifierInitialLoadRange";e.FdController.IDENTIFIER_INITIAL_SEARCH="IdentifierInitialSearch";e.FdController.IDENTIFIER_LOAD_ATTRIBUTES="IdentifierLoadAttributes";e.FdController.IDENTIFIER_LOAD_ATTRIBUTES_AND_REFRESH="IdentifierLoadAttributesAndRefresh";e.FdController.IDENTIFIER_PRELOAD="IdentifierPreload";e.FdController.IDENTIFIER_PRELOAD_SELECTION="IdentifierPreloadSelection";e.FdController.IDENTIFIER_REFRESH="IdentifierRefresh";e.FdController.IDENTIFIER_RELOAD="IdentifierReload";e.FdController.IDENTIFIER_SELECT_ALL="IdentifierSelectAll";e.FdController.create=function(t){let i=new e.FdController;i.setupController(t);return i};e.FdController.prototype.m_initialData=null;e.FdController.prototype.m_initialMessages=null;e.FdController.prototype.m_initialSetupRequirements=null;e.FdController.prototype.m_loadAllStartPage=0;e.FdController.prototype.m_messagePoster=null;e.FdController.prototype.m_model=null;e.FdController.prototype.m_preloadStartPage=0;e.FdController.prototype.m_program=null;e.FdController.prototype.m_view=null;e.FdController.prototype.addInitialMessages=function(t){if(e.notNull(t)&&e.XCollectionUtils.hasElements(t.getMessages())){if(e.isNull(this.m_initialMessages)){this.m_initialMessages=e.MessageManagerSimple.createMessageManager()}this.m_initialMessages.addAllMessages(t)}};e.FdController.prototype.cancelSelection=function(){this.closeDialog(true,null)};e.FdController.prototype.checkSelectionValid=function(t){let i=this.m_model.getConfig().isSelectionRequired();let o=this.m_view.validate(i);if(i&&!e.XCollectionUtils.hasElements(t)){this.postMessage(e.UiMessageType.ERROR,e.XLocalizationCenter.getCenter().getText(e.FilterDialogI18n.I18N_FD_SELECTION_REQUIRED));return false}return o};e.FdController.prototype.closeDialog=function(t,i){if(!this.isReleased()){if(!t&&!this.checkSelectionValid(i)){return false}let o=this.m_model.getConfig();if(t){if(o.getCloseListener()!==null){o.getCloseListener().onFilterDialogCancel()}}else{let t=e.FdSettings.create(this.m_model);if(o.getBeforeFilterChangeListener()!==null){o.getBeforeFilterChangeListener().onBeforeChange(t)}if(o.getCloseListener()!==null){o.getCloseListener().onFilterDialogOk(e.FdItemFactory.asFdValueList(i),t)}}this.releaseObject()}return true};e.FdController.prototype.confirmSelection=function(){let t=this.m_model.getSelectedItems();if(this.m_model.isFeatureEnabled(e.FdFeature.EXCLUDE_ADVANCED)){let i=e.XList.create();e.XCollectionUtils.addAll(i,e.XCollectionUtils.filter(t,e=>e.getFdComparisonOperator().isIncluding()));e.XCollectionUtils.addAll(i,e.XCollectionUtils.filter(t,e=>!e.getFdComparisonOperator().isIncluding()));t=i}return this.closeDialog(false,t)};e.FdController.prototype.fetchChildren=function(e,t,i,o,n,a){this.m_model.getHierarchyModel().fetchChildren(e,t,i,o,n,a)};e.FdController.prototype.getAdditionalPresentations=function(){let e=this.m_model.getHierarchyModel().isHierarchical();let t=e&&!this.m_program.getUiManager().getDeviceInfo().isMobile();return this.m_model.getPresentationsModel().getAdditionalPresentationValues(!t)};e.FdController.prototype.getMessagePoster=function(){if(e.isNull(this.m_messagePoster)){this.m_messagePoster=e.UiMessageCenter.createMessageCenter(this.m_program.getUiManager())}return this.m_messagePoster};e.FdController.prototype.getModel=function(){return this.m_model};e.FdController.prototype.getNextPageWithoutItemsLoaded=function(t){for(let i=1;i<=this.m_model.getConfig().getListPreloadPageCount();i++){if(!e.XCollectionUtils.hasElements(this.m_model.getItemsByPage(t+i))){return t+i}}return-1};e.FdController.prototype.getProgram=function(){return this.m_program};e.FdController.prototype.isReloadRequired=function(t,i){return e.isNull(t)||e.XCollectionUtils.hasElements(this.m_model.getMissingPresentations(e.XCollectionUtils.singletonList(t),i))};e.FdController.prototype.loadAndSelectAllMembers=function(t){if(this.m_model.supportsSelectAll()){let i=this.m_model.getPageCount();let o=this.m_model.getItemsByPage(i-1);if(e.notNull(o)&&o.size()>=this.m_model.getConfig().getListPageSize()&&this.m_loadAllStartPage===-1){this.m_loadAllStartPage=i;this.m_model.processData(i,-1,t,this,e.XStringValue.create(e.FdController.IDENTIFIER_SELECT_ALL))}else{this.onProcessFinished(e.XList.create(),null,e.XStringValue.create(e.FdController.IDENTIFIER_SELECT_ALL))}}};e.FdController.prototype.loadSuggestions=function(e,t){this.m_model.loadSuggestions(e,t)};e.FdController.prototype.onAfterOpen=function(t){this.setupInitialRequirements();if(this.m_initialSetupRequirements.contains(e.FdController.IDENTIFIER_INITIAL_LOAD)){this.requestData();if(this.isReleased()){return}this.m_model.getHierarchyModel().processHierarchies()}if(this.m_initialSetupRequirements.contains(e.FdController.IDENTIFIER_INITIAL_SEARCH)){let t=this.m_model.getConfig().isShowSimplifiedSearch()?null:this.m_model.getPresentationsModel().getDefaultSearchPresentation().getFilterableValues();this.search(this.m_model.getInitialSearchValue(),t,this.getAdditionalPresentations(),true,this,e.XStringValue.create(e.FdController.IDENTIFIER_INITIAL_SEARCH));this.m_model.getHierarchyModel().processHierarchies()}if(this.m_initialSetupRequirements.contains(e.FdController.IDENTIFIER_INITIAL_LOAD_RANGE)){this.m_model.processDataRange(this,e.XStringValue.create(e.FdController.IDENTIFIER_INITIAL_LOAD_RANGE))}this.onInitialLoadFinished(null,null)};e.FdController.prototype.onError=function(t,i){if(e.notNull(i)){if(e.XString.isEqual(i.toString(),e.FdController.IDENTIFIER_INITIAL_LOAD)&&this.m_model.getConfig().getContentType().isVariableValueHelp()&&this.m_model.isSystemTypeHana()&&this.m_model.getReadMode()===e.OlapUiReadMode.BOOKED){if(!this.m_model.supportsReadMode(e.OlapUiReadMode.MASTER)){let t=e.XList.create();t.add(e.OlapUiReadMode.BOOKED);t.add(e.OlapUiReadMode.MASTER);this.m_model.initReadMode(e.OlapUiReadMode.MASTER,e.OlapUiReadMode.MASTER,t)}else{this.m_model.setReadMode(e.OlapUiReadMode.MASTER)}this.requestData();return}else if(e.XString.isEqual(i.toString(),e.FdController.IDENTIFIER_PRELOAD)){this.m_preloadStartPage=-1}else if(e.XString.isEqual(i.toString(),e.FdController.IDENTIFIER_SELECT_ALL)){this.m_loadAllStartPage=-1}}if(e.isNull(this.m_view)){this.postMessages(t);this.m_program.terminate()}else{this.m_view.onError(t,i)}};e.FdController.prototype.onInitialLoadFinished=function(t,i){if(!this.isReleased()&&e.isNull(this.m_view)){this.addInitialMessages(i);this.m_initialSetupRequirements.removeElement(t);if(this.m_initialSetupRequirements.isEmpty()){this.m_view=e.FdView.createView(this,this.m_model,this.m_program.getGenesis(),()=>{this.onViewTypeChanged()});this.m_view.publishMembersList(e.notNull(this.m_initialData)?this.m_initialData:this.m_model.getItemsOnCurrentPage(),this.m_initialMessages);this.m_program.onViewCreated(this.m_view.getInitialFocusControl());this.m_program.onDialogStartupFinished()}}};e.FdController.prototype.onProcessFinished=function(t,i,o){let n=o.toString();if(!this.isReleased()&&e.notNull(t)){let o=this.m_model.getSelectedItems();switch(n){case e.FdController.IDENTIFIER_INITIAL_LOAD:this.m_model.addItems(t,0);if(e.XCollectionUtils.hasElements(o)){if(this.m_model.getViewTypes().contains(e.FilterDialogViewType.RANGE)){this.m_initialSetupRequirements.add(e.FdController.IDENTIFIER_PRELOAD_SELECTION)}this.m_model.syncSelectionListWithKnownItems(o,t,null,false,false,this,e.XStringValue.create(e.FdController.IDENTIFIER_PRELOAD_SELECTION))}this.m_initialData=this.m_model.getItemsOnCurrentPage();this.onInitialLoadFinished(e.FdController.IDENTIFIER_INITIAL_LOAD,i);break;case e.FdController.IDENTIFIER_INITIAL_SEARCH:if(e.XCollectionUtils.hasElements(o)){this.m_model.syncSelectionListWithKnownItems(o,t,null,false,false,this,e.XStringValue.create(e.FdController.IDENTIFIER_PRELOAD_SELECTION))}this.m_initialData=t;this.onInitialLoadFinished(e.FdController.IDENTIFIER_INITIAL_SEARCH,i);break;case e.FdController.IDENTIFIER_INITIAL_LOAD_RANGE:this.m_model.getRangeModel().setRange(t);if(e.XCollectionUtils.hasElements(o)&&!this.m_model.getRangeModel().isInputValueTypeNumeric()&&!this.m_model.getViewTypes().contains(e.FilterDialogViewType.LIST)){this.m_initialSetupRequirements.add(e.FdController.IDENTIFIER_PRELOAD_SELECTION);this.m_model.syncSelectionListWithKnownItems(o,this.m_model.getItems(0,-1),null,false,false,this,e.XStringValue.create(e.FdController.IDENTIFIER_PRELOAD_SELECTION))}this.onInitialLoadFinished(e.FdController.IDENTIFIER_INITIAL_LOAD_RANGE,i);break;case e.FdController.IDENTIFIER_REFRESH:this.m_view.publishMembersList(t,i);break;case e.FdController.IDENTIFIER_RELOAD:this.m_model.addItems(t,0);this.m_view.publishMembersList(this.m_model.getItemsOnCurrentPage(),i);break;case e.FdController.IDENTIFIER_LOAD_ATTRIBUTES:this.m_view.publishPresentations();break;case e.FdController.IDENTIFIER_LOAD_ATTRIBUTES_AND_REFRESH:this.m_view.publishMembersList(this.m_model.getItemsOnCurrentPage(),i);break;case e.FdController.IDENTIFIER_PRELOAD:this.m_model.addItems(t,this.m_preloadStartPage);this.m_preloadStartPage=-1;break;case e.FdController.IDENTIFIER_PRELOAD_SELECTION:if(e.notNull(this.m_view)){this.m_model.updateSelection()}else{this.onInitialLoadFinished(e.FdController.IDENTIFIER_PRELOAD_SELECTION,null)}break;case e.FdController.IDENTIFIER_SELECT_ALL:this.m_model.addItems(t,this.m_loadAllStartPage);this.m_loadAllStartPage=-1;this.m_model.selectAll();break;default:}}};e.FdController.prototype.onResize=function(t){if(e.notNull(this.m_view)){this.m_view.onResize(-1,t.getOffsetWidth())}};e.FdController.prototype.onViewTypeChanged=function(){if(!this.reloadDataRequired(this.m_model.getPresentationsModel().getAdditionalPresentationValues(true))){this.m_view.publishMembersList(this.m_model.getItemsOnCurrentPage(),null);this.m_program.onViewCreated(this.m_view.getInitialFocusControl())}};e.FdController.prototype.openValueHelp=function(e,t,i,o){this.m_model.openValueHelp(e,t,i,o)};e.FdController.prototype.postMessage=function(e,t){this.getMessagePoster().postMessage(e,t,this.m_program.getName())};e.FdController.prototype.postMessages=function(t){let i=e.XLocalizationCenter.getCenter();if(this.m_model.isSystemTypeHana()&&e.OlapUiMessageCenter.getInaErrorCode(t)===42522){let t=i.getText(e.FilterDialogI18n.I18N_FD_ERR_NO_VALUES_FOR_MANDATORY_VARIABLES);this.postMessage(e.UiMessageType.WARNING,t)}else{let o=e.OlapUiMessageCenter.getInaErrorMessage(t,i.getText(e.FilterDialogI18n.I18N_FD_ERR_VH_SERVER_ERROR));this.postMessage(e.UiMessageType.ERROR,o)}};e.FdController.prototype.refreshList=function(t,i,o){if(this.reloadDataRequired(t)){return}let n=o?this.m_model.getItemsOnCurrentPage():this.m_model.getItems(0,this.m_model.getPage());if(e.XCollectionUtils.hasElements(n)){let o=this.m_model.getMissingPresentations(n,t);if(e.XCollectionUtils.hasElements(o)){let t=e.XStringValue.create(i?e.FdController.IDENTIFIER_LOAD_ATTRIBUTES:e.FdController.IDENTIFIER_LOAD_ATTRIBUTES_AND_REFRESH);this.m_model.loadMissingPresentations(this.m_model.getItems(0,-1),o,this,t)}else{this.onProcessFinished(n,null,e.XStringValue.create(i?e.FdController.IDENTIFIER_LOAD_ATTRIBUTES:e.FdController.IDENTIFIER_REFRESH))}if(this.m_model.supportsPreloading()&&this.m_preloadStartPage===-1){this.m_preloadStartPage=this.getNextPageWithoutItemsLoaded(this.m_model.getPage());if(this.m_preloadStartPage>0){this.m_model.preloadNextPages(this.m_preloadStartPage,t,this,e.XStringValue.create(e.FdController.IDENTIFIER_PRELOAD))}}}else{this.onProcessFinished(e.XList.create(),null,e.XStringValue.create(e.FdController.IDENTIFIER_REFRESH))}};e.FdController.prototype.refreshTree=function(t,i,o){if(this.reloadDataRequired(t)){return}let n=e.XStringValue.create(i?e.FdController.IDENTIFIER_LOAD_ATTRIBUTES:e.FdController.IDENTIFIER_REFRESH);let a=e.notNull(o)?o.getChildren():this.m_model.getItemsOnCurrentPage();let r=this.m_model.getMissingPresentations(a,t);if(e.XCollectionUtils.hasElements(r)){this.m_model.loadMissingPresentations(a,r,this,n);return}this.onProcessFinished(e.notNull(a)?a:e.XList.create(),null,n)};e.FdController.prototype.releaseObject=function(){e.XObject.prototype.releaseObject.call(this);this.m_program=null;this.m_view=e.XObjectExt.release(this.m_view);this.m_model=e.XObjectExt.release(this.m_model);this.m_initialSetupRequirements=e.XObjectExt.release(this.m_initialSetupRequirements);this.m_initialMessages=e.XObjectExt.release(this.m_initialMessages);this.m_messagePoster=e.XObjectExt.release(this.m_messagePoster);this.m_initialData=e.XObjectExt.release(this.m_initialData)};e.FdController.prototype.reloadDataRequired=function(t){let i=false;if(this.m_model.isInitial()&&this.m_model.supportsValueHelp()){if(this.m_model.getViewTypes().contains(e.FilterDialogViewType.LIST)&&this.m_view.getCurrentViewType()===e.FilterDialogViewType.LIST){let o=this.m_model.getHierarchyModel().isHierarchical();let n=o?-1:this.m_model.getConfig().getListPreloadPageCount();let a=o&&!this.m_program.getUiManager().getDeviceInfo().isMobile();this.m_model.processData(0,n,a?this.m_model.getPresentationsModel().getAdditionalPresentationValues(false):t,this,e.XStringValue.create(e.FdController.IDENTIFIER_RELOAD));i=true}this.m_preloadStartPage=-1}return i};e.FdController.prototype.requestData=function(){let t=this.m_model.getHierarchyModel().isHierarchical();let i=t?-1:this.m_model.getConfig().getListPreloadPageCount();this.m_model.processData(0,i,this.getAdditionalPresentations(),this,e.XStringValue.create(e.FdController.IDENTIFIER_INITIAL_LOAD))};e.FdController.prototype.search=function(e,t,i,o,n,a){this.m_model.search(e,t,i,o,n,a)};e.FdController.prototype.setupController=function(t){this.m_program=t;this.m_preloadStartPage=-1;this.m_loadAllStartPage=-1;this.m_model=e.FdModel.createExt(t.getFdConfig(),t.getUiManager().getDeviceInfo().isMobile(),t.getProcess(),this);this.m_model.getPresentationsModel().registerOnPresentationsChange(()=>{this.m_view.publishAvailablePresentations()})};e.FdController.prototype.setupInitialRequirements=function(){this.m_initialSetupRequirements=e.XList.create();let t=this.m_model.getViewTypes();if(t.contains(e.FilterDialogViewType.LIST)){this.m_initialSetupRequirements.add(e.XStringUtils.isNullOrEmpty(this.m_model.getInitialSearchValue())?e.FdController.IDENTIFIER_INITIAL_LOAD:e.FdController.IDENTIFIER_INITIAL_SEARCH)}if(t.contains(e.FilterDialogViewType.RANGE)){this.m_initialSetupRequirements.add(e.FdController.IDENTIFIER_INITIAL_LOAD_RANGE)}};e.FdComparisonOperator=function(){};e.FdComparisonOperator.prototype=new e.XConstant;e.FdComparisonOperator.prototype._ff_c="FdComparisonOperator";e.FdComparisonOperator.BETWEEN=null;e.FdComparisonOperator.EQUAL=null;e.FdComparisonOperator.EXCLUDING_GREATER_EQUAL=null;e.FdComparisonOperator.EXCLUDING_GREATER_THAN=null;e.FdComparisonOperator.EXCLUDING_LESS_EQUAL=null;e.FdComparisonOperator.EXCLUDING_LESS_THAN=null;e.FdComparisonOperator.GREATER_EQUAL=null;e.FdComparisonOperator.GREATER_THAN=null;e.FdComparisonOperator.IS_NOT_NULL=null;e.FdComparisonOperator.IS_NULL=null;e.FdComparisonOperator.LESS_EQUAL=null;e.FdComparisonOperator.LESS_THAN=null;e.FdComparisonOperator.NOT_BETWEEN=null;e.FdComparisonOperator.NOT_EQUAL=null;e.FdComparisonOperator.s_allOperators=null;e.FdComparisonOperator.s_lookup=null;e.FdComparisonOperator.createComparisonOperator=function(t,i,o,n,a,r){let l=new e.FdComparisonOperator;l._setupInternal(i);l.m_originComparisonOperator=t;l.m_including=o;l.m_i18nKeyDescription=n;l.m_i18nKeyRangeDescription=a;l.m_sign=r;e.FdComparisonOperator.s_allOperators.add(l);e.FdComparisonOperator.s_lookup.put(i,l);return l};e.FdComparisonOperator.createUnsupportedExcludeComparisonOperator=function(t,i,o,n){let a=new e.FdComparisonOperator;a._setupInternal(e.XStringUtils.concatenate2("NOT_",t.getName()));a.m_originComparisonOperator=t;a.m_including=false;a.m_i18nKeyDescription=i;a.m_i18nKeyRangeDescription=o;a.m_sign=n;return a};e.FdComparisonOperator.getAllOperators=function(t,i,o,n){if(t&&i&&o&&n){return e.FdComparisonOperator.s_allOperators.createListCopy()}return e.XCollectionUtils.filter(e.FdComparisonOperator.s_allOperators,a=>(t||a.isIncluding())&&(!a.isEqualOperator()||i&&a===e.FdComparisonOperator.EQUAL||o&&a===e.FdComparisonOperator.NOT_EQUAL)&&(n||!a.isNullOperator()))};e.FdComparisonOperator.getByOriginalOperator=function(t){return e.XCollectionUtils.findFirst(e.FdComparisonOperator.s_allOperators,e=>e.getOriginOperator()===t)};e.FdComparisonOperator.lookup=function(t){return e.FdComparisonOperator.s_lookup.getByKey(t)};e.FdComparisonOperator.staticSetup=function(){e.FdComparisonOperator.s_allOperators=e.XList.create();e.FdComparisonOperator.s_lookup=e.XHashMapByString.create();e.FdComparisonOperator.EQUAL=e.FdComparisonOperator.createComparisonOperator(e.ComparisonOperator.EQUAL,e.ComparisonOperator.EQUAL.getName(),true,e.FilterDialogI18n.I18N_FD_COMPARISON_OPERATOR_EQUAL,e.FilterDialogI18n.I18N_FD_RANGES_HEADER_OPERATOR_EQUAL,"=");e.FdComparisonOperator.NOT_EQUAL=e.FdComparisonOperator.createComparisonOperator(e.ComparisonOperator.NOT_EQUAL,e.ComparisonOperator.NOT_EQUAL.getName(),false,e.FilterDialogI18n.I18N_FD_COMPARISON_OPERATOR_NOT_EQUAL,e.FilterDialogI18n.I18N_FD_RANGES_HEADER_OPERATOR_NOT_EQUAL,"≠");e.FdComparisonOperator.GREATER_THAN=e.FdComparisonOperator.createComparisonOperator(e.ComparisonOperator.GREATER_THAN,e.ComparisonOperator.GREATER_THAN.getName(),true,e.FilterDialogI18n.I18N_FD_COMPARISON_OPERATOR_GREATER,e.FilterDialogI18n.I18N_FD_RANGES_HEADER_OPERATOR_GREATER,">");e.FdComparisonOperator.GREATER_EQUAL=e.FdComparisonOperator.createComparisonOperator(e.ComparisonOperator.GREATER_EQUAL,e.ComparisonOperator.GREATER_EQUAL.getName(),true,e.FilterDialogI18n.I18N_FD_COMPARISON_OPERATOR_GREATER_EQUAL,e.FilterDialogI18n.I18N_FD_RANGES_HEADER_OPERATOR_GREATER_EQUAL,">=");e.FdComparisonOperator.LESS_THAN=e.FdComparisonOperator.createComparisonOperator(e.ComparisonOperator.LESS_THAN,e.ComparisonOperator.LESS_THAN.getName(),true,e.FilterDialogI18n.I18N_FD_COMPARISON_OPERATOR_LESS,e.FilterDialogI18n.I18N_FD_RANGES_HEADER_OPERATOR_LESS,"<");e.FdComparisonOperator.LESS_EQUAL=e.FdComparisonOperator.createComparisonOperator(e.ComparisonOperator.LESS_EQUAL,e.ComparisonOperator.LESS_EQUAL.getName(),true,e.FilterDialogI18n.I18N_FD_COMPARISON_OPERATOR_LESS_EQUAL,e.FilterDialogI18n.I18N_FD_RANGES_HEADER_OPERATOR_LESS_EQUAL,"<=");e.FdComparisonOperator.BETWEEN=e.FdComparisonOperator.createComparisonOperator(e.ComparisonOperator.BETWEEN,e.ComparisonOperator.BETWEEN.getName(),true,e.FilterDialogI18n.I18N_FD_COMPARISON_OPERATOR_BETWEEN,e.FilterDialogI18n.I18N_FD_RANGES_HEADER_OPERATOR_BETWEEN,"[ ]");e.FdComparisonOperator.NOT_BETWEEN=e.FdComparisonOperator.createComparisonOperator(e.ComparisonOperator.NOT_BETWEEN,e.ComparisonOperator.NOT_BETWEEN.getName(),false,e.FilterDialogI18n.I18N_FD_COMPARISON_OPERATOR_NOT_BETWEEN,e.FilterDialogI18n.I18N_FD_RANGES_HEADER_OPERATOR_NOT_BETWEEN,"![ ]");e.FdComparisonOperator.IS_NULL=e.FdComparisonOperator.createComparisonOperator(e.ComparisonOperator.IS_NULL,e.ComparisonOperator.IS_NULL.getName(),true,e.FilterDialogI18n.I18N_FD_COMPARISON_OPERATOR_IS_NULL,e.FilterDialogI18n.I18N_FD_COMPARISON_OPERATOR_IS_NULL,"");e.FdComparisonOperator.IS_NOT_NULL=e.FdComparisonOperator.createComparisonOperator(e.ComparisonOperator.IS_NULL,"IS_NOT_NULL",false,e.FilterDialogI18n.I18N_FD_COMPARISON_OPERATOR_IS_NOT_NULL,e.FilterDialogI18n.I18N_FD_COMPARISON_OPERATOR_IS_NOT_NULL,"");e.FdComparisonOperator.EXCLUDING_GREATER_THAN=e.FdComparisonOperator.createUnsupportedExcludeComparisonOperator(e.ComparisonOperator.GREATER_THAN,e.FilterDialogI18n.I18N_FD_COMPARISON_OPERATOR_NOT_GREATER,e.FilterDialogI18n.I18N_FD_RANGES_HEADER_OPERATOR_NOT_GREATER,">");e.FdComparisonOperator.EXCLUDING_GREATER_EQUAL=e.FdComparisonOperator.createUnsupportedExcludeComparisonOperator(e.ComparisonOperator.GREATER_EQUAL,e.FilterDialogI18n.I18N_FD_COMPARISON_OPERATOR_NOT_GREATER_EQUAL,e.FilterDialogI18n.I18N_FD_RANGES_HEADER_OPERATOR_NOT_GREATER_EQUAL,">=");e.FdComparisonOperator.EXCLUDING_LESS_THAN=e.FdComparisonOperator.createUnsupportedExcludeComparisonOperator(e.ComparisonOperator.LESS_THAN,e.FilterDialogI18n.I18N_FD_COMPARISON_OPERATOR_NOT_LESS,e.FilterDialogI18n.I18N_FD_RANGES_HEADER_OPERATOR_NOT_LESS,"<");e.FdComparisonOperator.EXCLUDING_LESS_EQUAL=e.FdComparisonOperator.createUnsupportedExcludeComparisonOperator(e.ComparisonOperator.LESS_EQUAL,e.FilterDialogI18n.I18N_FD_COMPARISON_OPERATOR_NOT_LESS_EQUAL,e.FilterDialogI18n.I18N_FD_RANGES_HEADER_OPERATOR_NOT_LESS_EQUAL,"<=")};e.FdComparisonOperator.prototype.m_i18nKeyDescription=null;e.FdComparisonOperator.prototype.m_i18nKeyRangeDescription=null;e.FdComparisonOperator.prototype.m_including=false;e.FdComparisonOperator.prototype.m_originComparisonOperator=null;e.FdComparisonOperator.prototype.m_sign=null;e.FdComparisonOperator.prototype.getLongText=function(){return e.XLocalizationCenter.getCenter().getText(this.m_i18nKeyDescription)};e.FdComparisonOperator.prototype.getOriginOperator=function(){return this.m_originComparisonOperator};e.FdComparisonOperator.prototype.getRangeText=function(t,i){if(this.getOriginOperator().getNumberOfParameters()<2){return e.XLocalizationCenter.getCenter().getTextWithPlaceholder(this.m_i18nKeyRangeDescription,e.notNull(t)?t:"")}return e.XLocalizationCenter.getCenter().getTextWithPlaceholder2(this.m_i18nKeyRangeDescription,e.notNull(t)?t:"",e.notNull(i)?i:"")};e.FdComparisonOperator.prototype.getSign=function(){return this.m_sign};e.FdComparisonOperator.prototype.getWithExcludedState=function(t){if(this.isEqualOperator()){return t?e.FdComparisonOperator.NOT_EQUAL:e.FdComparisonOperator.EQUAL}if(this===e.FdComparisonOperator.BETWEEN||this===e.FdComparisonOperator.NOT_BETWEEN){return t?e.FdComparisonOperator.NOT_BETWEEN:e.FdComparisonOperator.BETWEEN}if(this===e.FdComparisonOperator.LESS_THAN||this===e.FdComparisonOperator.EXCLUDING_LESS_THAN){return t?e.FdComparisonOperator.EXCLUDING_LESS_THAN:e.FdComparisonOperator.LESS_THAN}if(this===e.FdComparisonOperator.LESS_EQUAL||this===e.FdComparisonOperator.EXCLUDING_LESS_EQUAL){return t?e.FdComparisonOperator.EXCLUDING_LESS_EQUAL:e.FdComparisonOperator.LESS_EQUAL}if(this===e.FdComparisonOperator.GREATER_THAN||this===e.FdComparisonOperator.EXCLUDING_GREATER_THAN){return t?e.FdComparisonOperator.EXCLUDING_GREATER_THAN:e.FdComparisonOperator.GREATER_THAN}if(this===e.FdComparisonOperator.GREATER_EQUAL||this===e.FdComparisonOperator.EXCLUDING_GREATER_EQUAL){return t?e.FdComparisonOperator.EXCLUDING_GREATER_EQUAL:e.FdComparisonOperator.GREATER_EQUAL}if(this.isNullOperator()){return t?e.FdComparisonOperator.IS_NOT_NULL:e.FdComparisonOperator.IS_NULL}return this};e.FdComparisonOperator.prototype.isBetweenOperator=function(){return this===e.FdComparisonOperator.BETWEEN||this===e.FdComparisonOperator.NOT_BETWEEN};e.FdComparisonOperator.prototype.isEqualOperator=function(){return this===e.FdComparisonOperator.EQUAL||this===e.FdComparisonOperator.NOT_EQUAL};e.FdComparisonOperator.prototype.isIncluding=function(){return this.m_including};e.FdComparisonOperator.prototype.isNullOperator=function(){return this===e.FdComparisonOperator.IS_NULL||this===e.FdComparisonOperator.IS_NOT_NULL};e.FdDynamicDateRangeItem=function(){};e.FdDynamicDateRangeItem.prototype=new e.FdAbstractDateRangeItem;e.FdDynamicDateRangeItem.prototype._ff_c="FdDynamicDateRangeItem";e.FdDynamicDateRangeItem.create=function(t){let i=new e.FdDynamicDateRangeItem;i.setupDynamicDateRange(t);return i};e.FdDynamicDateRangeItem.prototype.m_lookAhead=0;e.FdDynamicDateRangeItem.prototype.m_lookBack=0;e.FdDynamicDateRangeItem.prototype.m_offset=0;e.FdDynamicDateRangeItem.prototype.m_offsetGranularity=null;e.FdDynamicDateRangeItem.prototype.m_upToCurrentPeriod=false;e.FdDynamicDateRangeItem.prototype.getDateRange=function(){if(e.isNull(this.m_granularity)){return null}return e.XDateRange.create(this.m_dateTimeProvider).withOffset(this.getOffsetGranularity(),this.getOffset()).withLookBack(this.m_granularity,this.getLookBack()).withLookAhead(this.m_granularity,this.getLookAhead()).withGranularity(this.m_granularity,this.isUpToCurrentPeriod())};e.FdDynamicDateRangeItem.prototype.getLookAhead=function(){return this.m_lookAhead};e.FdDynamicDateRangeItem.prototype.getLookBack=function(){return this.m_lookBack};e.FdDynamicDateRangeItem.prototype.getOffset=function(){return this.m_offset};e.FdDynamicDateRangeItem.prototype.getOffsetGranularity=function(){return this.m_offsetGranularity};e.FdDynamicDateRangeItem.prototype.getText=function(){return e.FilterDialogI18nUtils.getDateRangeText(this.getDateRange(),null)};e.FdDynamicDateRangeItem.prototype.getType=function(){return e.FilterDialogValueType.DATE_RANGE_DYNAMIC};e.FdDynamicDateRangeItem.prototype.isEqualTo=function(t){if(!e.FdAbstractDateRangeItem.prototype.isEqualTo.call(this,t)){return false}if(this===t){return true}let i=t;return this.m_lookBack===i.getLookBack()&&this.m_lookAhead===i.getLookAhead()&&this.m_upToCurrentPeriod===i.isUpToCurrentPeriod()&&this.m_offsetGranularity===i.getOffsetGranularity()&&(e.isNull(this.m_offsetGranularity)||this.m_offset===i.getOffset())};e.FdDynamicDateRangeItem.prototype.isUpToCurrentPeriod=function(){return this.m_upToCurrentPeriod};e.FdDynamicDateRangeItem.prototype.releaseObject=function(){e.FdAbstractDateRangeItem.prototype.releaseObject.call(this);this.m_offsetGranularity=null};e.FdDynamicDateRangeItem.prototype.setLookAhead=function(e){if(!this.m_upToCurrentPeriod&&e>=0){this.m_lookAhead=e}};e.FdDynamicDateRangeItem.prototype.setLookBack=function(e){if(e>=0){this.m_lookBack=e}};e.FdDynamicDateRangeItem.prototype.setOffset=function(e){this.m_offset=e};e.FdDynamicDateRangeItem.prototype.setOffsetGranularity=function(e){this.m_offsetGranularity=e};e.FdDynamicDateRangeItem.prototype.setUpToCurrentPeriod=function(e){this.m_upToCurrentPeriod=e;if(this.m_upToCurrentPeriod){this.m_lookAhead=0}};e.FdDynamicDateRangeItem.prototype.setupDynamicDateRange=function(t){if(e.notNull(t)){this.m_dateTimeProvider=t.getDateTimeProvider();this.setGranularity(t.getGranularity()!==null?t.getGranularity():e.DateRangeGranularity.YEAR);this.m_upToCurrentPeriod=t.isUpToCurrentPeriod();let i=t.getOffset();if(e.notNull(i)){this.m_offsetGranularity=i.getFirstObject();this.m_offset=i.getSecondObject().getInteger()}let o=t.getLookBack();if(e.notNull(o)&&o.getFirstObject()===this.getGranularity()){this.m_lookBack=o.getSecondObject().getInteger()}let n=t.getLookAhead();if(e.notNull(n)&&n.getFirstObject()===this.getGranularity()){this.m_lookAhead=n.getSecondObject().getInteger()}}};e.FdDynamicDateRangeItem.prototype.toString=function(){if(e.isNull(this.m_granularity)){return""}let t=e.XStringBuffer.create();t.appendObject(this.m_granularity);if(!this.m_granularity.isCurrentDateUnit()){t.append(" [").appendInt(this.m_lookBack).append("/").appendInt(this.m_lookAhead).append("]")}if(e.notNull(this.m_offsetGranularity)){t.append(" [Offset: ").appendObject(this.m_offsetGranularity).append("/").appendInt(this.m_offset).append("]")}if(this.m_upToCurrentPeriod){t.append(" [UpToCurrentPeriod]")}return t.toString()};e.FdFixedDateRangeItem=function(){};e.FdFixedDateRangeItem.prototype=new e.FdAbstractDateRangeItem;e.FdFixedDateRangeItem.prototype._ff_c="FdFixedDateRangeItem";e.FdFixedDateRangeItem.create=function(t,i,o,n){let a=new e.FdFixedDateRangeItem;a.setupFixedDateRangeItem(t,i,o,n);return a};e.FdFixedDateRangeItem.prototype.m_dateFrom=null;e.FdFixedDateRangeItem.prototype.m_dateTo=null;e.FdFixedDateRangeItem.prototype.m_halfYearFrom=0;e.FdFixedDateRangeItem.prototype.m_halfYearTo=0;e.FdFixedDateRangeItem.prototype.m_monthFrom=0;e.FdFixedDateRangeItem.prototype.m_monthTo=0;e.FdFixedDateRangeItem.prototype.m_quarterFrom=0;e.FdFixedDateRangeItem.prototype.m_quarterTo=0;e.FdFixedDateRangeItem.prototype.m_yearFrom=0;e.FdFixedDateRangeItem.prototype.m_yearTo=0;e.FdFixedDateRangeItem.prototype.getDateFrom=function(){return this.m_dateFrom};e.FdFixedDateRangeItem.prototype.getDateRange=function(){if(e.isNull(this.m_granularity)){return null}let t=null;let i=null;if(this.m_granularity.isYear()||this.m_granularity.isHalfYear()||this.m_granularity.isQuarter()||this.m_granularity.isMonth()){if(this.getYearFrom()!==-1){let i=1;if(this.m_granularity.isMonth()){i=this.getMonthFrom()}else if(this.m_granularity.isQuarter()){i=e.DateRangeGranularityMapper.convertQuarterToMonthLowerBound(this.getQuarterFrom())}else if(this.m_granularity.isHalfYear()){i=e.DateRangeGranularityMapper.convertHalfYearToMonthLowerBound(this.getHalfYearFrom())}t=e.XDate.createDateWithValues(this.getYearFrom(),i,1)}if(this.getYearTo()!==-1){let t=12;if(this.m_granularity.isMonth()){t=this.getMonthTo()}else if(this.m_granularity.isQuarter()){t=e.DateRangeGranularityMapper.convertQuarterToMonthUpperBound(this.getQuarterTo())}else if(this.m_granularity.isHalfYear()){t=e.DateRangeGranularityMapper.convertHalfYearToMonthUpperBound(this.getHalfYearTo())}i=e.XDate.createDateWithValues(this.m_yearTo,t,e.XGregorianCalendar.create().getDaysInMonth(this.m_yearTo,t))}}else if(this.m_granularity.isDay()){t=e.notNull(this.m_dateFrom)?e.XDate.createDateSafe(this.m_dateFrom):null;i=e.notNull(this.m_dateTo)?e.XDate.createDateSafe(this.m_dateTo):null}return e.XDateRange.create(this.m_dateTimeProvider).withFixDates(t,i).withGranularity(this.m_granularity,false)};e.FdFixedDateRangeItem.prototype.getDateTo=function(){return this.m_dateTo};e.FdFixedDateRangeItem.prototype.getHalfYearFrom=function(){return this.m_halfYearFrom};e.FdFixedDateRangeItem.prototype.getHalfYearTo=function(){return this.m_halfYearTo};e.FdFixedDateRangeItem.prototype.getMonthFrom=function(){return this.m_monthFrom};e.FdFixedDateRangeItem.prototype.getMonthTo=function(){return this.m_monthTo};e.FdFixedDateRangeItem.prototype.getQuarterFrom=function(){return this.m_quarterFrom};e.FdFixedDateRangeItem.prototype.getQuarterTo=function(){return this.m_quarterTo};e.FdFixedDateRangeItem.prototype.getText=function(){return e.FilterDialogI18nUtils.getDateRangeText(this.getDateRange(),null)};e.FdFixedDateRangeItem.prototype.getType=function(){return e.FilterDialogValueType.DATE_RANGE_FIXED};e.FdFixedDateRangeItem.prototype.getYearFrom=function(){return this.m_yearFrom};e.FdFixedDateRangeItem.prototype.getYearTo=function(){return this.m_yearTo};e.FdFixedDateRangeItem.prototype.isEqualTo=function(t){if(!e.FdAbstractDateRangeItem.prototype.isEqualTo.call(this,t)){return false}if(this===t){return true}let i=t;if(this.m_granularity===e.DateRangeGranularity.YEAR){return i.getYearFrom()===this.getYearFrom()&&i.getYearTo()===this.getYearTo()}if(this.m_granularity===e.DateRangeGranularity.HALF_YEAR){return i.getHalfYearFrom()===this.getHalfYearFrom()&&i.getHalfYearTo()===this.getHalfYearTo()}if(this.m_granularity===e.DateRangeGranularity.QUARTER){return i.getYearFrom()===this.getYearFrom()&&i.getYearTo()===this.getYearTo()&&i.getQuarterFrom()===this.getQuarterFrom()&&i.getQuarterTo()===this.getQuarterTo()}if(this.m_granularity===e.DateRangeGranularity.MONTH){return i.getYearFrom()===this.getYearFrom()&&i.getYearTo()===this.getYearTo()&&i.getMonthFrom()===this.getMonthFrom()&&i.getMonthTo()===this.getMonthTo()}if(this.m_granularity===e.DateRangeGranularity.DAY){return e.XString.isEqual(i.getDateFrom(),this.getDateFrom())&&e.XString.isEqual(i.getDateTo(),this.getDateTo())}return false};e.FdFixedDateRangeItem.prototype.releaseObject=function(){e.FdAbstractDateRangeItem.prototype.releaseObject.call(this);this.m_dateFrom=null;this.m_dateTo=null};e.FdFixedDateRangeItem.prototype.setDateFrom=function(e){this.m_dateFrom=e};e.FdFixedDateRangeItem.prototype.setDateTo=function(e){this.m_dateTo=e};e.FdFixedDateRangeItem.prototype.setHalfYearFrom=function(e){this.m_halfYearFrom=e};e.FdFixedDateRangeItem.prototype.setHalfYearTo=function(e){this.m_halfYearTo=e};e.FdFixedDateRangeItem.prototype.setMonthFrom=function(e){this.m_monthFrom=e};e.FdFixedDateRangeItem.prototype.setMonthTo=function(e){this.m_monthTo=e};e.FdFixedDateRangeItem.prototype.setQuarterFrom=function(e){this.m_quarterFrom=e};e.FdFixedDateRangeItem.prototype.setQuarterTo=function(e){this.m_quarterTo=e};e.FdFixedDateRangeItem.prototype.setYearFrom=function(e){this.m_yearFrom=e};e.FdFixedDateRangeItem.prototype.setYearTo=function(e){this.m_yearTo=e};e.FdFixedDateRangeItem.prototype.setupFixedDateRangeItem=function(t,i,o,n){this.m_dateTimeProvider=n;this.m_granularity=e.notNull(o)?o:e.DateRangeGranularity.YEAR;if(e.notNull(t)){this.m_yearFrom=t.getYear();this.m_halfYearFrom=e.DateRangeGranularityMapper.convertMonthToHalfYear(t.getMonthOfYear());this.m_quarterFrom=t.getQuarterOfYear();this.m_monthFrom=t.getMonthOfYear();this.m_dateFrom=t.toIsoFormat()}else{this.m_yearFrom=-1;this.m_halfYearFrom=1;this.m_quarterFrom=1;this.m_monthFrom=1}if(e.notNull(i)){this.m_yearTo=i.getYear();this.m_halfYearTo=e.DateRangeGranularityMapper.convertMonthToHalfYear(i.getMonthOfYear());this.m_quarterTo=i.getQuarterOfYear();this.m_monthTo=i.getMonthOfYear();this.m_dateTo=i.toIsoFormat()}else{this.m_yearTo=-1;this.m_halfYearTo=2;this.m_quarterTo=4;this.m_monthTo=12}};e.FdFixedDateRangeItem.prototype.toString=function(){if(e.isNull(this.m_granularity)){return""}let t=e.XStringBuffer.create();t.append("Granularity: ").appendObject(this.m_granularity);if(this.m_granularity.isYear()){t.append(" [").appendInt(this.m_yearFrom).append(" - ").appendInt(this.m_yearTo).append("]")}else if(this.m_granularity.isHalfYear()){t.append(" [").appendInt(this.m_halfYearFrom).append(" - ").appendInt(this.m_halfYearTo).append("]")}else if(this.m_granularity.isQuarter()){t.append(" [").appendInt(this.m_yearFrom).append("/").appendInt(this.m_quarterFrom).append(" - ").appendInt(this.m_yearTo).append("/").appendInt(this.m_quarterTo).append("]")}else if(this.m_granularity.isMonth()){t.append(" [").appendInt(this.m_yearFrom).append("/").appendInt(this.m_monthFrom).append(" - ").appendInt(this.m_yearTo).append("/").appendInt(this.m_monthTo).append("]")}else if(this.m_granularity.isDay()){t.append(" [").append(this.m_dateFrom).append(" - ").append(this.m_dateTo).append("]")}return t.toString()};e.FdTeamItem=function(){};e.FdTeamItem.prototype=new e.FdAbstractUserTeamItem;e.FdTeamItem.prototype._ff_c="FdTeamItem";e.FdTeamItem.create=function(t,i,o){let n=new e.FdTeamItem;n.setupUserTeamItem(t,i,o);return n};e.FdTeamItem.createWithAttributes=function(t){return e.FdTeamItem.create(t.getStringByKey(e.XFileAttribute.NAME),t.getStringByKey(e.XFileAttribute.DISPLAY_NAME),t.getStringByKey(e.XFileAttribute.ICON))};e.FdTeamItem.prototype.m_usersInTeam=null;e.FdTeamItem.prototype.getDisplayName=function(t){let i=e.XStringTokenizer.splitString(t,":");if(e.XCollectionUtils.size(i)>2){i.removeAt(1);return e.XCollectionUtils.join(i,": ")}return t};e.FdTeamItem.prototype.getType=function(){return e.FilterDialogValueType.TEAM};e.FdTeamItem.prototype.getUsers=function(t){if(e.notNull(this.m_usersInTeam)){return e.XPromise.resolve(this.m_usersInTeam)}return e.XPromise.create((i,o)=>{let n=e.OuFetchUsersTeams.create(e.XLocalizationCenter.getCenter());n.getUsersInTeam(this.getKey(),t).onThen(t=>{this.m_usersInTeam=e.XCollectionUtils.map(t.getData().getCachedChildFiles(),t=>e.FdUserItem.createWithAttributes(t.getAttributes()));i(this.m_usersInTeam);e.XObjectExt.release(n)})})};e.FdTeamItem.prototype.releaseObject=function(){e.FdAbstractUserTeamItem.prototype.releaseObject.call(this);this.m_usersInTeam=e.XObjectExt.release(this.m_usersInTeam)};e.FdUserItem=function(){};e.FdUserItem.prototype=new e.FdAbstractUserTeamItem;e.FdUserItem.prototype._ff_c="FdUserItem";e.FdUserItem.create=function(t,i,o){let n=new e.FdUserItem;n.setupUserTeamItem(t,i,o);return n};e.FdUserItem.createWithAttributes=function(t){return e.FdUserItem.create(t.getStringByKey(e.XFileAttribute.NAME),t.getStringByKey(e.XFileAttribute.DISPLAY_NAME),t.getStringByKey(e.XFileAttribute.ICON))};e.FdUserItem.prototype.getDisplayName=function(e){return e};e.FdUserItem.prototype.getType=function(){return e.FilterDialogValueType.USER};e.FdFeature=function(){};e.FdFeature.prototype=new e.XConstant;e.FdFeature.prototype._ff_c="FdFeature";e.FdFeature.CLIPBOARD=null;e.FdFeature.EQUAL_IN_RANGE_VIEW=null;e.FdFeature.EXCLUDE=null;e.FdFeature.EXCLUDE_ADVANCED=null;e.FdFeature.EXCLUDE_IN_RANGE_VIEW=null;e.FdFeature.EXTENDED_READMODE=null;e.FdFeature.HIERARCHY_CHANGE=null;e.FdFeature.NOT_EQUAL_IN_RANGE_VIEW=null;e.FdFeature.NULL_IN_RANGE_VIEW=null;e.FdFeature.RANGES_IN_HIERARCHY=null;e.FdFeature.staticSetup=function(){e.FdFeature.CLIPBOARD=e.XConstant.setupName(new e.FdFeature,"Clipboard");e.FdFeature.EXCLUDE=e.XConstant.setupName(new e.FdFeature,"Exclude");e.FdFeature.EXCLUDE_ADVANCED=e.XConstant.setupName(new e.FdFeature,"ExcludeAdvanced");e.FdFeature.EXCLUDE_IN_RANGE_VIEW=e.XConstant.setupName(new e.FdFeature,"ExcludeInRangeView");e.FdFeature.RANGES_IN_HIERARCHY=e.XConstant.setupName(new e.FdFeature,"RangesInHierarchy");e.FdFeature.EQUAL_IN_RANGE_VIEW=e.XConstant.setupName(new e.FdFeature,"EqualInRangeView");e.FdFeature.NOT_EQUAL_IN_RANGE_VIEW=e.XConstant.setupName(new e.FdFeature,"NotEqualInRangeView");e.FdFeature.NULL_IN_RANGE_VIEW=e.XConstant.setupName(new e.FdFeature,"NullInRangeView");e.FdFeature.HIERARCHY_CHANGE=e.XConstant.setupName(new e.FdFeature,"HierarchyChange");e.FdFeature.EXTENDED_READMODE=e.XConstant.setupName(new e.FdFeature,"ExtendedReadMode")};e.FdContentProviderValueHelpDimension=function(){};e.FdContentProviderValueHelpDimension.prototype=new e.FdContentProviderValueHelp;e.FdContentProviderValueHelpDimension.prototype._ff_c="FdContentProviderValueHelpDimension";e.FdContentProviderValueHelpDimension.create=function(t){let i=new e.FdContentProviderValueHelpDimension;i.setupContentProvider(t);return i};e.FdContentProviderValueHelpDimension.prototype.applyCustomMembers=function(t,i){let o=this.getDimension();if(o.getQueryModel()!==null&&o===o.getQueryModel().getAccountDimension()){let n=o.getCustomStructureMembers();let a=i.getProperties();let r=a.getStringByKey(e.FdContentProviderValueHelp.PARAM_VALUE_HELP_SEARCH_PATTERN);if(e.XStringUtils.isNotNullAndNotEmpty(r)){let t=a.getBooleanByKey(e.FdContentProviderValueHelp.PARAM_VALUE_HELP_SEARCH_ON_KEY);let i=a.getBooleanByKey(e.FdContentProviderValueHelp.PARAM_VALUE_HELP_SEARCH_ON_TEXT);n=e.XStream.of(n).filter(o=>t&&e.XString.containsString(o.getName(),r)||i&&e.XString.containsString(o.getText(),r)).collect(e.XStreamCollector.toListOfNameObject())}let l=e.XCollectionUtils.map(t,e=>e.getDimensionMember().getName());e.XStream.of(n).filter(t=>!l.contains(t.getName())&&t.getResultVisibility()!==e.ResultVisibility.HIDDEN).forEach(i=>{t.add(e.QFactory.createMeasureHelpNodeExt(i.getName(),i,e.DrillState.LEAF))})}return e.FdContentProviderValueHelp.prototype.applyCustomMembers.call(this,t,i)};e.FdContentProviderValueHelpDimension.prototype.createProgramRunner=function(){let t=this.getDimension();let i=t.getQueryManager();return e.FilterDialogProgramRunnerFactory.createForDimension(i.getProcess(),i,t.getName(),this.m_configuration.getTitle())};e.FdContentProviderValueHelpDimension.prototype.getDimension=function(){return this.m_configuration.getDimension()};e.FdContentProviderValueHelpDimension.prototype.getSupportedComparisonOperators=function(e){let t=this.getDimension();let i=e?t.getFlatKeyField():t.getSelectorKeyField();return this.getSupportedComparisonOperatorsByFilterCapability(t.getFilterCapabilities().getFilterCapabilitiesByField(i))};e.FdContentProviderValueHelpDimension.prototype.getSupportedViewTypes=function(){let t=this.getDimension();let i=e.XList.create();if(this.m_configuration.isOfferListView()&&e.FilterDialogViewType.LIST.isSupportedByDim(t)){i.add(e.FilterDialogViewType.LIST)}if(this.m_configuration.isOfferRangeView()&&e.FilterDialogViewType.RANGE.isSupportedByDim(t)){i.add(e.FilterDialogViewType.RANGE)}return e.XCollectionUtils.hasElements(i)?i:e.XCollectionUtils.singletonList(e.FilterDialogViewType.LIST)};e.FdContentProviderValueHelpDimension.prototype.processData=function(t,i,o,n,a){let r=this.getDimension();if(r.getQueryModel()!==null&&r===r.getQueryModel().getAccountDimension()){let t=e.FdValueHelpListenerProxy.create(n,a,e.FdContentProviderValueHelp.VALUE_HELP);this.m_valueHelpProcessor.processValueHelp(0,-1,-1,this.getFieldsFromPresentationValues(o),this.m_readMode,this,t);return}e.FdContentProviderValueHelp.prototype.processData.call(this,t,i,o,n,a)};e.FdContentProviderValueHelpDimension.prototype.processDataRange=function(t,i){let o=this.getDimension();let n=this.m_model.getRangeModel().getInputValueType();if(e.FilterDialogViewType.RANGE.isSupportedByDim(o)&&e.notNull(n)&&(n.isDateTime()||n.isNumber()&&o.getModelCapabilities().supportsResultSetInterval())){let o=e.FdValueHelpListenerProxy.create(t,i,e.FdContentProviderValueHelp.VALUE_HELP_RANGE);this.m_valueHelpProcessor.processDataRange(this,o);return}t.onProcessFinished(e.XList.create(),null,i)};e.FdContentProviderValueHelpDimension.prototype.processHierarchies=function(){let t=this.getDimension();if(this.m_model.getViewTypes().contains(e.FilterDialogViewType.LIST)&&this.m_configuration.isOfferHierarchyChange()&&t.supportsHierarchy()&&!t.isDisplayHierarchyFixInFilter()){e.FdContentProviderHierarchyCatalog.createWithoutModelReference(t).processFetchHierarchyNames(e=>{if(!this.isReleased()){this.m_model.getHierarchyModel().setHierarchies(e)}},this.m_model.getSessionData(),this.m_configuration.getContentType())}};e.FdContentProviderValueHelpDimension.prototype.setReadMode=function(t){if(this.m_readMode!==t&&e.notNull(t)){e.FdContentProviderValueHelp.prototype.setReadMode.call(this,t);this.m_valueHelpProcessor.setIgnoreQueryDynamicFilter(this.m_readMode!==e.OlapUiReadMode.QUERY_DEFAULT&&this.m_readMode!==e.OlapUiReadMode.BOOKED_CASCADING)}};e.FdContentProviderValueHelpDimension.prototype.setupModel=function(){e.FdContentProviderValueHelp.prototype.setupModel.call(this);let t=this.getDimension();if(this.m_model.getViewTypes().contains(e.FilterDialogViewType.RANGE)){let i=this.m_model.getRangeModel();let o=this.getDimension().getFlatKeyField();let n=e.QFilterUtil.supportsDateRangeFilter(o)?e.XValueType.DATE:o.getValueType();if(n===e.XValueType.DATE){let n;if(o.getValueType().isDateBased()){n=e.XList.create();n.add(e.DateRangeGranularity.YEAR);n.add(e.DateRangeGranularity.QUARTER);n.add(e.DateRangeGranularity.MONTH);n.add(e.DateRangeGranularity.DAY)}else{n=e.HierarchyLevelType.getAllDateRangeGranularities(t)}if(e.XCollectionUtils.hasElements(n)){i.setDateRangeGranularities(n);let o=t.getProcess().getDateTimeProvider();let a=n.get(n.size()-1);let r=this.m_model.getSelectedItems();for(let t=0;t<r.size();t++){this.m_model.setSelectedItemAt(t,e.FdItemFactory.convertRangeToDateRangeItem(r.get(t),a,o))}}}i.setDateTimeProvider(t.getQueryModel().getProcess().getDateTimeProvider());i.setInfoText(t.isCompound()?e.XLocalizationCenter.getCenter().getText(e.FilterDialogI18n.I18N_FD_RANGES_INFO_ON_COMPOUND_DIMENSION):null);i.setInputValueType(n);i.setSupportsFixedAndDynamicDateRange(true);this.updateSupportedComparisonOperators()}if(this.m_model.getViewTypes().contains(e.FilterDialogViewType.LIST)){if(this.m_configuration.isOfferHierarchyChange()&&t.supportsHierarchy()){this.m_model.setFeatureEnabled(e.FdFeature.HIERARCHY_CHANGE,true);let i=this.m_model.getHierarchyModel();let o=this.getHierarchyName();if(e.XStringUtils.isNotNullAndNotEmpty(o)){let n=t.getHierarchies();let a=e.notNull(n)?e.XCollectionUtils.findFirst(n.getObjects(),t=>e.XString.isEqual(t.getHierarchyName(),o)):null;let r=e.notNull(a)?e.FdContentProviderHierarchyCatalog.getHierarchyTextFromCatalogItem(a):null;if(e.XStringUtils.isNotNullAndNotEmpty(r)){let t=e.XHashMapByString.create();t.put(o,r);i.setHierarchies(t)}}}}};e.FdContentProviderValueHelpDimension.prototype.setupProcessor=function(t){this.m_valueHelpProcessor=e.notNull(t)?t:e.OlapUiValueHelpDimension.create(this.getDimension());if(!e.XString.isEqual(this.m_valueHelpProcessor.getHierarchyName(),this.m_configuration.getHierarchy())||e.XStringUtils.isNotNullAndNotEmpty(this.m_configuration.getHierarchy())&&!this.m_valueHelpProcessor.isHierarchicalValueHelp()){this.m_valueHelpProcessor.setHierarchyName(this.m_configuration.getHierarchy())}};e.FdContentProviderValueHelpDimension.prototype.setupReadMode=function(){e.FdContentProviderValueHelp.prototype.setupReadMode.call(this);this.m_valueHelpProcessor.setIgnoreQueryDynamicFilter(this.m_readMode!==e.OlapUiReadMode.QUERY_DEFAULT&&this.m_readMode!==e.OlapUiReadMode.BOOKED_CASCADING)};e.FdContentProviderValueHelpDimension.prototype.setupSessionBasedSettings=function(){let t=this.getDimension();this.m_model.setSessionData(e.FdSessionBasedSettings.createByQuery(t.getQueryManager(),this.m_configuration.getContentType(),t))};e.FdContentProviderValueHelpDimension.prototype.supportsQueryDefaultReadMode=function(t,i){return this.getDimension().getReadModeDefault(t)!==null&&i.isTypeOf(e.SystemType.ABAP)};e.FdContentProviderValueHelpDimension.prototype.supportsReadModeBookedCascading=function(t){return this.supportsReadMode(t,e.QMemberReadMode.BOOKED_AND_SPACE_AND_STATE)&&this.m_configuration.isOfferReadModeExtendedSettings()};e.FdContentProviderValueHelpVariable=function(){};e.FdContentProviderValueHelpVariable.prototype=new e.FdContentProviderValueHelp;e.FdContentProviderValueHelpVariable.prototype._ff_c="FdContentProviderValueHelpVariable";e.FdContentProviderValueHelpVariable.create=function(t){let i=new e.FdContentProviderValueHelpVariable;i.setupContentProvider(t);return i};e.FdContentProviderValueHelpVariable.prototype.createProgramRunner=function(){let t=this.getVariable();let i=t.getQueryManager();return e.FilterDialogProgramRunnerFactory.createForVariable(i.getProcess(),i,t,this.m_configuration.getTitle())};e.FdContentProviderValueHelpVariable.prototype.getContextType=function(t){return e.notNull(t)&&t.isTypeOf(e.SystemType.ABAP)?e.QContextType.VARIABLE:e.FdContentProviderValueHelp.prototype.getContextType.call(this,t)};e.FdContentProviderValueHelpVariable.prototype.getDimension=function(){return this.getVariable().getDimension()};e.FdContentProviderValueHelpVariable.prototype.getSupportedComparisonOperators=function(e){return this.getSupportedComparisonOperatorsByFilterCapability(this.getVariable().getFilterCapability())};e.FdContentProviderValueHelpVariable.prototype.getSupportedViewTypes=function(){let t=this.getVariable();let i=e.XList.create();if(this.m_configuration.isOfferListView()&&e.FilterDialogViewType.LIST.isSupportedByVar(t)){i.add(e.FilterDialogViewType.LIST)}if(this.m_configuration.isOfferRangeView()&&e.FilterDialogViewType.RANGE.isSupportedByVar(t)){i.add(e.FilterDialogViewType.RANGE)}return e.XCollectionUtils.hasElements(i)?i:e.XCollectionUtils.singletonList(e.FilterDialogViewType.LIST)};e.FdContentProviderValueHelpVariable.prototype.getVariable=function(){return this.m_configuration.getVariable()};e.FdContentProviderValueHelpVariable.prototype.isUseResultSetTextField=function(){return this.isSystemTypeBW()&&this.m_configuration.getTextUsageType()===e.FilterDialogTextUsageType.RESULTSET_TEXT};e.FdContentProviderValueHelpVariable.prototype.processDataRange=function(t,i){let o=this.getVariable();if(e.FilterDialogViewType.RANGE.isSupportedByVar(o)&&this.m_model.getRangeModel().isInputValueTypeNumeric()&&o.getDimension().getModelCapabilities().supportsResultSetInterval()){let o=e.FdValueHelpListenerProxy.create(t,i,e.FdContentProviderValueHelp.VALUE_HELP_RANGE);this.m_valueHelpProcessor.processDataRange(this,o);return}t.onProcessFinished(e.XList.create(),null,i)};e.FdContentProviderValueHelpVariable.prototype.processHierarchies=function(){};e.FdContentProviderValueHelpVariable.prototype.setupModel=function(){e.FdContentProviderValueHelp.prototype.setupModel.call(this);if(this.m_model.getViewTypes().contains(e.FilterDialogViewType.LIST)){let t=this.getSystemType(this.getDimension());if(e.notNull(t)&&t.isTypeOf(e.SystemType.ABAP)&&!this.m_model.isMobile()&&(e.UiConfigurationCenter.getCenter().isActive("SIMPLIFY_VARIABLE_CHANGE")||this.getDimension().getSession().hasFeatureByName(e.OlapUiFeatureToggle.MEMBERSELECTOR_STORY_FILTER_OPTIMIZATION_FOR_DESKTOP))){this.m_valueHelpProcessor.setDefaultDrillLevelEnabled(true);this.m_model.setDefaultExpandLevel(this.getDimension().getDefaultInitialDrillLevel())}}if(this.m_model.getViewTypes().contains(e.FilterDialogViewType.RANGE)){let e=this.m_model.getRangeModel();e.setInputValueType(this.getVariable().getValueType());e.setSupportsFixedAndDynamicDateRange(false);this.updateSupportedComparisonOperators()}};e.FdContentProviderValueHelpVariable.prototype.setupProcessor=function(t){this.m_valueHelpProcessor=e.notNull(t)?t:e.OlapUiValueHelpVariable.create(this.getVariable())};e.FdContentProviderValueHelpVariable.prototype.setupSessionBasedSettings=function(){this.m_model.setSessionData(e.FdSessionBasedSettings.createByQuery(this.getDimension().getQueryManager(),this.m_configuration.getContentType(),this.getVariable()))};e.FdContentProviderValueHelpVariable.prototype.supportsQueryDefaultReadMode=function(e,t){return false};e.FdContentProviderValueHelpVariable.prototype.supportsReadModeBookedCascading=function(e){return false};e.FdContentProviderValueHelpVariable.prototype.supportsReadModeSwitch=function(t){return e.FdContentProviderValueHelp.prototype.supportsReadModeSwitch.call(this,t)&&!this.getVariable().getVariableType().isTypeOf(e.VariableType.HIERARCHY_NAME_VARIABLE)};e.FdComponentDateRange=function(){};e.FdComponentDateRange.prototype=new e.FdComponentAbstractRange;e.FdComponentDateRange.prototype._ff_c="FdComponentDateRange";e.FdComponentDateRange.create=function(t,i){let o=new e.FdComponentDateRange;o.setupDateRange(t,i,false);return o};e.FdComponentDateRange.createEmpty=function(t){let i=new e.FdComponentDateRange;i.setupDateRange(t,null,true);return i};e.FdComponentDateRange.prototype.m_currentRangeDataComponent=null;e.FdComponentDateRange.prototype.m_dynamicRangeDataComponent=null;e.FdComponentDateRange.prototype.m_fixedRangeDataComponent=null;e.FdComponentDateRange.prototype.m_genesis=null;e.FdComponentDateRange.prototype.m_startWithEmptyRange=false;e.FdComponentDateRange.prototype.buildOlapDialogUi=function(t){e.FdComponentAbstractRange.prototype.buildOlapDialogUi.call(this,t);this.m_genesis=t;this.updateDataComponent()};e.FdComponentDateRange.prototype.createDateRangeItem=function(t){let i=this.m_model.getRangeModel();let o=i.getDateTimeProvider();let n;if(t===e.FilterDialogValueType.DATE_RANGE_FIXED){let t=this.m_model.getRangeModel().getMin();let o=this.m_model.getRangeModel().getMax();n=e.FdFixedDateRangeItem.create(t,o,null,i.getDateTimeProvider())}else{n=e.FdDynamicDateRangeItem.create(e.XDateRange.create(o))}if(this.m_startWithEmptyRange){n.setGranularity(null)}return n};e.FdComponentDateRange.prototype.getDateRangeLayout=function(){return this.m_layout};e.FdComponentDateRange.prototype.getFocusControl=function(){return this.m_currentRangeDataComponent.getFocusControl()};e.FdComponentDateRange.prototype.getItem=function(){return this.m_currentRangeDataComponent.getItem()};e.FdComponentDateRange.prototype.isEmpty=function(){return this.m_currentRangeDataComponent.isEmpty()};e.FdComponentDateRange.prototype.onDataChanged=function(t){e.FdComponentAbstractRange.prototype.onDataChanged.call(this,t);this.updateRangeText()};e.FdComponentDateRange.prototype.onSelectionChange=function(t){let i=t.getSelectedItem().getCustomObject();let o=null;if(i===e.FilterDialogValueType.DATE_RANGE_FIXED){o=e.notNull(this.m_fixedRangeDataComponent)?this.m_fixedRangeDataComponent.getItem():null}else if(i===e.FilterDialogValueType.DATE_RANGE_DYNAMIC){o=e.notNull(this.m_dynamicRangeDataComponent)?this.m_dynamicRangeDataComponent.getItem():null}this.replaceItem(e.notNull(o)?o:this.createDateRangeItem(i));this.updateDataComponent();this.onDataChanged(false)};e.FdComponentDateRange.prototype.releaseObject=function(){e.FdComponentAbstractRange.prototype.releaseObject.call(this);this.m_fixedRangeDataComponent=e.XObjectExt.release(this.m_fixedRangeDataComponent);this.m_dynamicRangeDataComponent=e.XObjectExt.release(this.m_dynamicRangeDataComponent);this.m_currentRangeDataComponent=null;this.m_genesis=null};e.FdComponentDateRange.prototype.setupDateRange=function(t,i,o){this.setupComponent(t,e.FdComponentDateRangeLayout.create(this));this.m_startWithEmptyRange=o;this.m_item=i;if(e.isNull(this.m_item)){this.m_item=this.createDateRangeItem(this.m_model.getRangeModel().getMin()!==null?e.FilterDialogValueType.DATE_RANGE_FIXED:e.FilterDialogValueType.DATE_RANGE_DYNAMIC)}};e.FdComponentDateRange.prototype.updateDataComponent=function(){if(this.m_item.getType()===e.FilterDialogValueType.DATE_RANGE_FIXED){if(e.isNull(this.m_fixedRangeDataComponent)){this.m_fixedRangeDataComponent=e.FdComponentDateRangeFixed.create(this.m_model,this.m_item,()=>{this.onDataChanged(false)});this.m_fixedRangeDataComponent.buildOlapDialogUi(this.m_genesis)}this.getDateRangeLayout().setTypeLayout(this.m_fixedRangeDataComponent.getLayout(),true);this.m_currentRangeDataComponent=this.m_fixedRangeDataComponent}else if(this.m_item.getType()===e.FilterDialogValueType.DATE_RANGE_DYNAMIC){if(e.isNull(this.m_dynamicRangeDataComponent)){this.m_dynamicRangeDataComponent=e.FdComponentDateRangeDynamic.create(this.m_model,this.m_item,()=>{this.onDataChanged(false)});this.m_dynamicRangeDataComponent.buildOlapDialogUi(this.m_genesis)}this.getDateRangeLayout().setTypeLayout(this.m_dynamicRangeDataComponent.getLayout(),false);this.m_currentRangeDataComponent=this.m_dynamicRangeDataComponent}};e.FdComponentDateRange.prototype.validate=function(e){return this.m_currentRangeDataComponent.validate(e)};e.FdComponentDateRangeLayout=function(){};e.FdComponentDateRangeLayout.prototype=new e.FdComponentAbstractRangeLayout;e.FdComponentDateRangeLayout.prototype._ff_c="FdComponentDateRangeLayout";e.FdComponentDateRangeLayout.create=function(t){let i=new e.FdComponentDateRangeLayout;i.m_typeChangeListener=t;return i};e.FdComponentDateRangeLayout.prototype.m_size=null;e.FdComponentDateRangeLayout.prototype.m_typeChangeListener=null;e.FdComponentDateRangeLayout.prototype.m_typeLayout=null;e.FdComponentDateRangeLayout.prototype.m_typeSB=null;e.FdComponentDateRangeLayout.prototype.addContent=function(t){let i=e.XLocalizationCenter.getCenter();t.setDirection(e.UiFlexDirection.COLUMN);t.setAlignItems(e.UiFlexAlignItems.START);this.m_typeSB=t.addNewItemOfType(e.UiType.SEGMENTED_BUTTON);this.m_typeSB.setName("FilterDialogDateRangeTypeButton");this.m_typeSB.setMargin(e.UiCssBoxEdges.create("0 0 1rem 0"));this.m_typeSB.registerOnSelectionChange(this.m_typeChangeListener);let o=this.m_typeSB.addNewItem();o.setName("FilterDialogDateRangeTypeButtonFixed");o.setText(i.getText(e.FilterDialogI18n.I18N_FD_DATE_RANGE_FIXED));o.setCustomObject(e.FilterDialogValueType.DATE_RANGE_FIXED);let n=this.m_typeSB.addNewItem();n.setName("FilterDialogDateRangeTypeButtonDynamic");n.setText(i.getText(e.FilterDialogI18n.I18N_FD_DATE_RANGE_DYNAMIC));n.setCustomObject(e.FilterDialogValueType.DATE_RANGE_DYNAMIC)};e.FdComponentDateRangeLayout.prototype.getDescriptionText=function(){return e.notNull(this.m_typeLayout)?this.m_typeLayout.getDescriptionText():""};e.FdComponentDateRangeLayout.prototype.hasUserInput=function(){return e.notNull(this.m_typeLayout)&&this.m_typeLayout.hasUserInput()};e.FdComponentDateRangeLayout.prototype.releaseObject=function(){e.FdComponentAbstractRangeLayout.prototype.releaseObject.call(this);this.m_typeChangeListener=null;this.m_typeLayout=null;this.m_size=null;this.m_typeSB=e.XObjectExt.release(this.m_typeSB)};e.FdComponentDateRangeLayout.prototype.resizeComponent=function(t){this.m_size=t;if(e.notNull(this.m_typeLayout)){this.m_typeLayout.resizeComponent(t)}};e.FdComponentDateRangeLayout.prototype.setTypeLayout=function(t,i){if(this.m_typeSB.getSelectedName()===null){this.m_typeSB.setSelectedName(i?"FilterDialogDateRangeTypeButtonFixed":"FilterDialogDateRangeTypeButtonDynamic")}if(e.notNull(this.m_typeLayout)){this.getContentContainer().removeItem(this.m_typeLayout.getRoot())}this.m_typeLayout=t;if(e.notNull(this.m_size)){this.m_typeLayout.resizeComponent(this.m_size)}this.getContentContainer().addItem(this.m_typeLayout.getRoot())};e.FdComponentRange=function(){};e.FdComponentRange.prototype=new e.FdComponentAbstractRange;e.FdComponentRange.prototype._ff_c="FdComponentRange";e.FdComponentRange.create=function(t,i){let o=new e.FdComponentRange;o.setupComponent(t,e.FdComponentRangeLayout.create());o.m_item=i;return o};e.FdComponentRange.prototype.buildOlapDialogUi=function(t){e.FdComponentAbstractRange.prototype.buildOlapDialogUi.call(this,t);let i=this.m_model.getRangeModel();let o=i.getSupportedComparisonOperators();let n=this.m_model.isFeatureEnabled(e.FdFeature.EXCLUDE_IN_RANGE_VIEW);let a=this.m_model.isFeatureEnabled(e.FdFeature.EQUAL_IN_RANGE_VIEW);let r=this.m_model.isFeatureEnabled(e.FdFeature.NOT_EQUAL_IN_RANGE_VIEW);let l=this.m_model.isFeatureEnabled(e.FdFeature.NULL_IN_RANGE_VIEW);let s=e.FdComparisonOperator.getAllOperators(n,a,r,l);let u=e.XCollectionUtils.filter(s,e=>o.contains(e));if(e.isNull(this.m_item)){if(u.contains(e.FdComparisonOperator.BETWEEN)||u.contains(e.FdComparisonOperator.NOT_BETWEEN)){this.m_item=e.FdRangeItem.create(e.FdSimpleItem.create(null,null,null),e.FdSimpleItem.create(null,null,null),!u.contains(e.FdComparisonOperator.BETWEEN))}else{this.m_item=e.FdSimpleItem.create(null,null,null);this.m_item.setFdComparisonOperator(u.hasElements()?u.get(0):e.FdComparisonOperator.EQUAL)}}let m=this.m_item.getFdComparisonOperator();if(this.m_item.isNull()){m=this.m_item.isExcluded()?e.FdComparisonOperator.IS_NOT_NULL:e.FdComparisonOperator.IS_NULL}if(!u.contains(m)){u.add(m)}let p=this.getRangeLayout();p.addOperators(u,m);p.getComparisonOperatorCombobox().registerOnSelectionChange(this);e.XObjectExt.release(u);p.getInput1().registerOnEditingEnd(this);p.getInput1().registerOnLiveChange(this);p.getInput2().registerOnEditingEnd(this);p.getInput2().registerOnLiveChange(this);this.updateFields();this.validate(true);p.setEnabled(m.isIncluding()||m===e.FdComparisonOperator.NOT_BETWEEN||m===e.FdComparisonOperator.NOT_EQUAL||m===e.FdComparisonOperator.IS_NOT_NULL)};e.FdComponentRange.prototype.formatValue=function(t){return this.isValueTypeNumeric()?e.UiNumberFormatterCenter.getCenter().format(t):t};e.FdComponentRange.prototype.getFocusControl=function(){if(e.notNull(this.m_layout)){let t=this.getRangeLayout();let i=t.getInput1();let o=t.getInput2();let n=i.isVisible()&&i.isEditable();let a=o.isVisible()&&o.isEditable();if(!n&&!a){return t.getComparisonOperatorCombobox()}if(a&&e.XStringUtils.isNotNullAndNotEmpty(i.getValue())&&e.XStringUtils.isNullOrEmpty(o.getValue())){return o}else if(i.isEditable()){return i}else if(a){return o}}return null};e.FdComponentRange.prototype.getItemText=function(t){if(!this.isValueTypeNumeric()){let i=t.getText();if(e.XStringUtils.isNotNullAndNotEmpty(i)){return this.formatValue(i)}}let i=t.getDisplayKey();if(e.XStringUtils.isNotNullAndNotEmpty(i)){return this.formatValue(i)}return this.formatValue(t.getKey())};e.FdComponentRange.prototype.getPlaceholderLow=function(){let t=this.m_item.getFdComparisonOperator();if(t===e.FdComparisonOperator.LESS_THAN||t===e.FdComparisonOperator.LESS_EQUAL){return e.XLocalizationCenter.getCenter().getText(e.FilterDialogI18n.I18N_FD_RANGES_PLACEHOLDER_MAX)}else if(t===e.FdComparisonOperator.EQUAL){return e.XLocalizationCenter.getCenter().getText(e.FilterDialogI18n.I18N_FD_RANGES_PLACEHOLDER_EQUAL)}else if(t===e.FdComparisonOperator.NOT_EQUAL){return e.XLocalizationCenter.getCenter().getText(e.FilterDialogI18n.I18N_FD_RANGES_PLACEHOLDER_NOT_EQUAL)}return e.XLocalizationCenter.getCenter().getText(e.FilterDialogI18n.I18N_FD_RANGES_PLACEHOLDER_MIN)};e.FdComponentRange.prototype.getRangeLayout=function(){return this.m_layout};e.FdComponentRange.prototype.getTooltipLow=function(){let t=this.m_item.getFdComparisonOperator();let i=e.XInteger.convertToString(this.getRangeNumber());if(t===e.FdComparisonOperator.LESS_THAN||t===e.FdComparisonOperator.LESS_EQUAL){return e.XLocalizationCenter.getCenter().getTextWithPlaceholder(e.FilterDialogI18n.I18N_FD_RANGES_TOOLTIP_MAX,i)}else if(t===e.FdComparisonOperator.EQUAL){return e.XLocalizationCenter.getCenter().getTextWithPlaceholder(e.FilterDialogI18n.I18N_FD_RANGES_TOOLTIP_EQUAL,i)}else if(t===e.FdComparisonOperator.NOT_EQUAL){return e.XLocalizationCenter.getCenter().getTextWithPlaceholder(e.FilterDialogI18n.I18N_FD_RANGES_TOOLTIP_NOT_EQUAL,i)}return e.XLocalizationCenter.getCenter().getTextWithPlaceholder(e.FilterDialogI18n.I18N_FD_RANGES_TOOLTIP_MIN,i)};e.FdComponentRange.prototype.isEmpty=function(){let t=this.getRangeLayout();return t.getInput1().isVisible()&&e.XStringUtils.isNullOrEmpty(t.getInput1().getValue())&&(!this.isRangeItem()||e.XStringUtils.isNullOrEmpty(t.getInput2().getValue()))};e.FdComponentRange.prototype.isRangeItem=function(){return this.m_item.getType()===e.FilterDialogValueType.RANGE};e.FdComponentRange.prototype.isValueTypeNumeric=function(){return this.m_model.getRangeModel().isInputValueTypeNumeric()};e.FdComponentRange.prototype.onEditingEnd=function(t){let i=this.getRangeLayout();i.clearMessage();let o=i.getInput1();let n=i.getInput2();let a=t.getControl();if(a===o){this.setInputTextToItem(o);o.setValue(this.getItemText(this.m_item.getLowItem()))}if(a===n){this.setInputTextToItem(n);n.setValue(this.getItemText(this.m_item.getHighItem()))}this.updateRangeText();this.onDataChanged(false);let r=false;if(e.XStringUtils.isNotNullAndNotEmpty(o.getValue())){r=this.validateInput(o,true)}if(this.isRangeItem()&&e.XStringUtils.isNotNullAndNotEmpty(n.getValue())&&this.validateInput(n,true)&&r){this.validateRange(true)}};e.FdComponentRange.prototype.onLiveChange=function(e){this.onDataChanged(true)};e.FdComponentRange.prototype.onSelectionChange=function(t){let i=this.getRangeLayout();let o=i.getComparisonOperatorCombobox();let n=o.getSelectedItem();o.setTooltip(n.getText());let a=n.getCustomObject();if(a.isNullOperator()){this.replaceItem(e.FdSimpleItem.createNull(a===e.FdComparisonOperator.IS_NOT_NULL))}else if(this.m_item.isNull()){this.replaceItem(e.FdSimpleItem.create(null,null,null))}let r=a===e.FdComparisonOperator.BETWEEN||a===e.FdComparisonOperator.NOT_BETWEEN;if(r&&!this.isRangeItem()){this.replaceItem(e.FdRangeItem.create(this.m_item,e.FdSimpleItem.create(null,null,null),a===e.FdComparisonOperator.NOT_BETWEEN))}else if(!r&&this.isRangeItem()){this.m_item.getLowItem().setFdComparisonOperator(a);this.replaceItem(this.m_item.getLowItem())}else if(!a.isNullOperator()){this.m_item.setFdComparisonOperator(a)}i.clearMessage();this.updateUI();this.focus()};e.FdComponentRange.prototype.parseFormattedValue=function(t,i){let o=this.m_model.getRangeModel();if(o.isInputValueTypeNumeric()){let n=e.UiNumberFormatterCenter.getCenter().parseFormattedNumber(t);let a=o.getInputValueType();if(e.XStringUtils.isNotNullAndNotEmpty(n)&&(a!==e.XValueType.INTEGER&&a!==e.XValueType.LONG&&a!==e.XValueType.NUMC||!e.XString.containsString(n,"."))){return n}return e.XStringUtils.isNotNullAndNotEmpty(t)?i:null}return e.XStringUtils.isNotNullAndNotEmpty(t)?t:null};e.FdComponentRange.prototype.setInputTextToItem=function(t){let i=this.getRangeLayout();if(t===i.getInput1()){let i=t.getValue();let o=this.parseFormattedValue(i,i);let n=e.FdSimpleItem.create(o,o,null);if(this.isRangeItem()){if(!this.m_item.getLowItem().isEqualTo(n)){this.m_item.setLow(n)}}else{n.setFdComparisonOperator(this.m_item.getFdComparisonOperator());if(!n.isEqualTo(this.m_item)){this.replaceItem(n)}}return n}if(t===i.getInput2()&&this.isRangeItem()){let i=t.getValue();let o=this.parseFormattedValue(i,i);let n=e.FdSimpleItem.create(o,o,null);if(!this.m_item.getHighItem().isEqualTo(n)){this.m_item.setHigh(n)}return n}return null};e.FdComponentRange.prototype.showMessage=function(t,i,o,n){if(n){this.getRangeLayout().showMessage(e.XLocalizationCenter.getCenter().getText(t),i,o)}return!o};e.FdComponentRange.prototype.updateFields=function(){let t=this.isRangeItem();let i=this.getRangeLayout();i.setInputVisibility(!this.m_item.isNull(),true,t,true);i.setInputText(this.getItemText(this.m_item.getLowItem()),this.getPlaceholderLow(),this.getTooltipLow(),t?this.getItemText(this.m_item.getHighItem()):null,e.XLocalizationCenter.getCenter().getText(e.FilterDialogI18n.I18N_FD_RANGES_PLACEHOLDER_MAX),e.XLocalizationCenter.getCenter().getTextWithPlaceholder(e.FilterDialogI18n.I18N_FD_RANGES_TOOLTIP_MAX,e.XInteger.convertToString(this.getRangeNumber())))};e.FdComponentRange.prototype.updateUI=function(){this.updateFields();this.updateRangeText();this.onDataChanged(false)};e.FdComponentRange.prototype.validate=function(e){let t=this.getRangeLayout();if(e){t.clearMessage()}if(e&&this.isEmpty()||this.m_item.isNull()){return true}let i=this.validateInput(t.getInput1(),e);let o=!this.isRangeItem()||this.validateInput(t.getInput2(),e)&&i&&this.validateRange(e);return i&&o};e.FdComponentRange.prototype.validateInput=function(t,i){if(e.XStringUtils.isNullOrEmpty(t.getValue())){return this.showMessage(this.isValueTypeNumeric()?e.FilterDialogI18n.I18N_FD_RANGES_ERROR_ENTER_NUMBER:e.FilterDialogI18n.I18N_FD_RANGES_ERROR_ENTER_VALUE,t,true,i)}if(this.isValueTypeNumeric()){let o=this.parseFormattedValue(t.getValue(),null);if(e.isNull(o)){return this.showMessage(e.FilterDialogI18n.I18N_FD_RANGES_ERROR_NOT_VALID,t,true,i)}let n=this.m_model.getRangeModel();let a=n.getMin();let r=n.getMax();if(e.notNull(a)&&e.notNull(r)&&i){let i=e.XDouble.convertFromString(o);let n=e.XDouble.convertFromString(a.getStringRepresentation());let l=e.XDouble.convertFromString(r.getStringRepresentation());if(i<n||i>l){return this.showMessage(e.FilterDialogI18n.I18N_FD_RANGES_WARN_VALUE_OUTSIDE_RANGE,t,false,true)}}}return true};e.FdComponentRange.prototype.validateRange=function(t){if(this.isValueTypeNumeric()){let i=this.getRangeLayout();let o=e.XDouble.convertFromString(this.parseFormattedValue(i.getInput1().getValue(),null));let n=e.XDouble.convertFromString(this.parseFormattedValue(i.getInput2().getValue(),null));if(o>n){return this.showMessage(e.FilterDialogI18n.I18N_FD_RANGES_ERROR_MIN_GREATER_MAX,null,true,t)}}return true};e.FdComponentRangeLayout=function(){};e.FdComponentRangeLayout.prototype=new e.FdComponentAbstractRangeLayout;e.FdComponentRangeLayout.prototype._ff_c="FdComponentRangeLayout";e.FdComponentRangeLayout.create=function(){return new e.FdComponentRangeLayout};e.FdComponentRangeLayout.prototype.m_betweenLabelContainer=null;e.FdComponentRangeLayout.prototype.m_comparisonOperatorCombobox=null;e.FdComponentRangeLayout.prototype.m_input1=null;e.FdComponentRangeLayout.prototype.m_input2=null;e.FdComponentRangeLayout.prototype.m_operatorContainer=null;e.FdComponentRangeLayout.prototype.m_rangeContentContainer=null;e.FdComponentRangeLayout.prototype.addContent=function(t){let i=e.UiCssLength.create("225px");let o=t.addNewItemOfType(e.UiType.FLEX_LAYOUT);o.setDirection(e.UiFlexDirection.COLUMN);o.useMaxWidth();this.m_rangeContentContainer=o.addNewItemOfType(e.UiType.FLEX_LAYOUT);this.m_rangeContentContainer.setDirection(e.UiFlexDirection.ROW);this.m_operatorContainer=this.m_rangeContentContainer.addNewItemOfType(e.UiType.FLEX_LAYOUT);this.m_operatorContainer.setDirection(e.UiFlexDirection.COLUMN);this.m_operatorContainer.setWrap(e.UiFlexWrap.NO_WRAP);this.m_operatorContainer.setName("FilterDialogRangeOperatorColumn");this.m_operatorContainer.setPadding(e.UiCssBoxEdges.create("0 1rem 0 0"));this.m_operatorContainer.setWidth(i);this.m_operatorContainer.setMinWidth(i);let n=this.m_operatorContainer.addNewItemOfType(e.UiType.LABEL);n.setName("FilterDialogRangeOperatorLabel");n.setText(e.XLocalizationCenter.getCenter().getText(e.FilterDialogI18n.I18N_FD_RANGES_SELECT_OPERATOR));this.m_comparisonOperatorCombobox=this.m_operatorContainer.addNewItemOfType(e.UiType.COMBO_BOX);this.m_comparisonOperatorCombobox.setName("FilterDialogRangeOperator");this.m_comparisonOperatorCombobox.useMaxWidth();n.setLabelFor(this.m_comparisonOperatorCombobox);let a=this.m_rangeContentContainer.addNewItemOfType(e.UiType.FLEX_LAYOUT);a.setDirection(e.UiFlexDirection.COLUMN);a.setWrap(e.UiFlexWrap.NO_WRAP);a.setName("FilterDialogRangeInputColumn");a.useMaxWidth();a.addNewItemOfType(e.UiType.LABEL).setText("");let r=a.addNewItemOfType(e.UiType.FLEX_LAYOUT);r.setDirection(e.UiFlexDirection.ROW);r.setWrap(e.UiFlexWrap.NO_WRAP);r.setName("FilterDialogRangeInputContainer");r.useMaxWidth();this.m_input1=r.addNewItemOfType(e.UiType.INPUT);this.m_input1.setName("FilterDialogRangeInput1");this.m_input1.setMinWidth(e.UiCssLength.create("100px"));this.m_input1.setMaxWidth(i);this.m_input1.setFlex("1");this.m_input1.setShowValueStateMessage(false);this.m_betweenLabelContainer=r.addNewItemOfType(e.UiType.FLEX_LAYOUT);this.m_betweenLabelContainer.setDirection(e.UiFlexDirection.ROW);this.m_betweenLabelContainer.setAlignItems(e.UiFlexAlignItems.CENTER);this.m_betweenLabelContainer.setWrap(e.UiFlexWrap.NO_WRAP);this.m_betweenLabelContainer.setName("FilterDialogRangeInputLabelContainer");this.m_betweenLabelContainer.setMinWidth(e.UiCssLength.create("25px"));this.m_betweenLabelContainer.setPadding(e.UiCssBoxEdges.create("0 0.5rem"));let l=this.m_betweenLabelContainer.addNewItemOfType(e.UiType.LABEL);l.setName("FilterDialogRangeInputLabel");l.setText(e.XLocalizationCenter.getCenter().getText(e.FilterDialogI18n.I18N_FD_RANGES_BETWEEN_LABEL));l.setMinWidth(e.UiCssLength.create("25px"));this.m_input2=r.addNewItemOfType(e.UiType.INPUT);this.m_input2.setName("FilterDialogRangeInput2");this.m_input2.setMinWidth(e.UiCssLength.create("100px"));this.m_input2.setMaxWidth(i);this.m_input2.setFlex("1");this.m_input2.setShowValueStateMessage(false);this.addErrorLabel(a)};e.FdComponentRangeLayout.prototype.addOperators=function(t,i){this.m_comparisonOperatorCombobox.clearItems();if(e.XCollectionUtils.contains(t,e=>e.isIncluding())&&e.XCollectionUtils.contains(t,e=>!e.isIncluding())){let i=this.m_comparisonOperatorCombobox.getUiManager().getGenesis();let o=e.XLocalizationCenter.getCenter();let n=i.newControl(e.UiType.DROPDOWN_GROUP_ITEM);n.setText(o.getText(e.FilterDialogI18n.I18N_FD_RANGES_OPERATOR_INCLUDING));this.m_comparisonOperatorCombobox.addItem(n);e.XStream.of(t).filter(e=>e.isIncluding()).forEach(t=>{e.FdLayoutUtils.addDropdownItem(this.m_comparisonOperatorCombobox,t.getName(),t.getLongText(),t)});let a=i.newControl(e.UiType.DROPDOWN_GROUP_ITEM);a.setText(o.getText(e.FilterDialogI18n.I18N_FD_RANGES_OPERATOR_EXCLUDING));this.m_comparisonOperatorCombobox.addItem(a);e.XStream.of(t).filter(e=>!e.isIncluding()).forEach(t=>{e.FdLayoutUtils.addDropdownItem(this.m_comparisonOperatorCombobox,t.getName(),t.getLongText(),t)})}else{e.XCollectionUtils.forEach(t,t=>{e.FdLayoutUtils.addDropdownItem(this.m_comparisonOperatorCombobox,t.getName(),t.getLongText(),t)})}this.m_comparisonOperatorCombobox.setSelectedName(i.getName());this.m_comparisonOperatorCombobox.setTooltip(this.m_comparisonOperatorCombobox.getSelectedItem().getText())};e.FdComponentRangeLayout.prototype.clearMessage=function(){e.FdComponentAbstractRangeLayout.prototype.clearMessage.call(this);this.m_input1.setValueState(null);this.m_input2.setValueState(null)};e.FdComponentRangeLayout.prototype.getComparisonOperatorCombobox=function(){return this.m_comparisonOperatorCombobox};e.FdComponentRangeLayout.prototype.getDescriptionText=function(){let t=this.m_comparisonOperatorCombobox.getSelectedItem().getCustomObject();let i=e.XStringUtils.isNotNullAndNotEmpty(this.m_input1.getValue())&&(t.getOriginOperator().getNumberOfParameters()<2||e.XStringUtils.isNotNullAndNotEmpty(this.m_input2.getValue()));return i?t.getRangeText(this.m_input1.getValue(),this.m_input2.getValue()):t.getLongText()};e.FdComponentRangeLayout.prototype.getInput1=function(){return this.m_input1};e.FdComponentRangeLayout.prototype.getInput2=function(){return this.m_input2};e.FdComponentRangeLayout.prototype.hasUserInput=function(){let t=this.m_input1.isVisible();let i=this.m_input2.isVisible();return t&&e.XStringUtils.isNotNullAndNotEmpty(this.m_input1.getValue())||i&&e.XStringUtils.isNotNullAndNotEmpty(this.m_input2.getValue())||!t&&!i};e.FdComponentRangeLayout.prototype.releaseObject=function(){e.FdComponentAbstractRangeLayout.prototype.releaseObject.call(this);this.m_rangeContentContainer=e.XObjectExt.release(this.m_rangeContentContainer);this.m_operatorContainer=e.XObjectExt.release(this.m_operatorContainer);this.m_comparisonOperatorCombobox=e.XObjectExt.release(this.m_comparisonOperatorCombobox);this.m_input1=e.XObjectExt.release(this.m_input1);this.m_input2=e.XObjectExt.release(this.m_input2);this.m_betweenLabelContainer=e.XObjectExt.release(this.m_betweenLabelContainer)};e.FdComponentRangeLayout.prototype.resizeComponent=function(t){e.FdComponentAbstractRangeLayout.prototype.resizeComponent.call(this,t);this.m_operatorContainer.setPadding(t.getContentSize().isLarge()?e.UiCssBoxEdges.create("0 1rem 0 0"):null);this.m_rangeContentContainer.setDirection(t.getContentSize().isLarge()?e.UiFlexDirection.ROW:e.UiFlexDirection.COLUMN)};e.FdComponentRangeLayout.prototype.setEnabled=function(e){this.m_comparisonOperatorCombobox.setEnabled(e);this.m_input1.setEnabled(e);this.m_input2.setEnabled(e)};e.FdComponentRangeLayout.prototype.setInputText=function(e,t,i,o,n,a){this.m_input1.setValue(e);this.m_input1.setPlaceholder(t);this.m_input1.setTooltip(i);this.m_input2.setValue(o);this.m_input2.setPlaceholder(n);this.m_input2.setTooltip(a)};e.FdComponentRangeLayout.prototype.setInputVisibility=function(e,t,i,o){this.m_input1.setVisible(e);this.m_input1.setEditable(t);this.m_betweenLabelContainer.setVisible(i);this.m_input2.setVisible(i);this.m_input2.setEditable(o)};e.FdComponentRangeLayout.prototype.showMessage=function(t,i,o){e.FdComponentAbstractRangeLayout.prototype.showMessage.call(this,t,i,o);let n=o?e.UiValueState.ERROR:e.UiValueState.WARNING;if(e.isNull(i)||i===this.m_input1){this.m_input1.setValueState(n)}if(e.isNull(i)||i===this.m_input2){this.m_input2.setValueState(n)}};e.FdLayoutSize=function(){};e.FdLayoutSize.prototype=new e.XConstant;e.FdLayoutSize.prototype._ff_c="FdLayoutSize";e.FdLayoutSize.DESKTOP_LARGE=null;e.FdLayoutSize.DESKTOP_MEDIUM=null;e.FdLayoutSize.DESKTOP_SMALL=null;e.FdLayoutSize.MOBILE_MEDIUM=null;e.FdLayoutSize.MOBILE_SMALL=null;e.FdLayoutSize.SELECTION_CONTAINER_ADJUSTMENT=250;e.FdLayoutSize.createLayoutSize=function(t,i){let o=e.XConstant.setupName(new e.FdLayoutSize,t);o.m_minWidth=i;return o};e.FdLayoutSize.get=function(t,i,o,n){let a=o>0?o:e.FdLayoutSize.DESKTOP_LARGE.m_minWidth;if(!n){a=a+e.FdLayoutSize.SELECTION_CONTAINER_ADJUSTMENT}let r=i>0&&i+e.FdLayoutSize.SELECTION_CONTAINER_ADJUSTMENT<=a?i+e.FdLayoutSize.SELECTION_CONTAINER_ADJUSTMENT:a;return e.FdSize.create(e.FdLayoutSize.getSize(t,r),e.FdLayoutSize.getSize(t,a))};e.FdLayoutSize.getSize=function(t,i){if(t.isMobile()){return i>=e.FdLayoutSize.MOBILE_MEDIUM.m_minWidth?e.FdLayoutSize.MOBILE_MEDIUM:e.FdLayoutSize.MOBILE_SMALL}return i>=e.FdLayoutSize.DESKTOP_LARGE.m_minWidth?e.FdLayoutSize.DESKTOP_LARGE:i>=e.FdLayoutSize.DESKTOP_MEDIUM.m_minWidth?e.FdLayoutSize.DESKTOP_MEDIUM:e.FdLayoutSize.DESKTOP_SMALL};e.FdLayoutSize.staticSetup=function(){e.FdLayoutSize.MOBILE_SMALL=e.FdLayoutSize.createLayoutSize("s",0);e.FdLayoutSize.MOBILE_MEDIUM=e.FdLayoutSize.createLayoutSize("m",700);e.FdLayoutSize.DESKTOP_SMALL=e.FdLayoutSize.createLayoutSize("s",0);e.FdLayoutSize.DESKTOP_MEDIUM=e.FdLayoutSize.createLayoutSize("m",710);e.FdLayoutSize.DESKTOP_LARGE=e.FdLayoutSize.createLayoutSize("l",860)};e.FdLayoutSize.prototype.m_minWidth=0;e.FdLayoutSize.prototype.isLarge=function(){return this===e.FdLayoutSize.DESKTOP_LARGE};e.FdLayoutSize.prototype.isMedium=function(){return this===e.FdLayoutSize.MOBILE_MEDIUM||this===e.FdLayoutSize.DESKTOP_MEDIUM};e.FdLayoutSize.prototype.isMobile=function(){return this===e.FdLayoutSize.MOBILE_SMALL||this===e.FdLayoutSize.MOBILE_MEDIUM};e.FdLayoutSize.prototype.isSmall=function(){return this===e.FdLayoutSize.MOBILE_SMALL||this===e.FdLayoutSize.DESKTOP_SMALL};e.FdTableType=function(){};e.FdTableType.prototype=new e.XConstant;e.FdTableType.prototype._ff_c="FdTableType";e.FdTableType.NAVIGATION_CONTAINER=null;e.FdTableType.RESPONSIVE_TABLE_LAZY_LOADING=null;e.FdTableType.RESPONSIVE_TABLE_PAGING=null;e.FdTableType.TREE_TABLE=null;e.FdTableType.getLayoutType=function(t,i){if(t){return i?e.FdTableType.NAVIGATION_CONTAINER:e.FdTableType.TREE_TABLE}return i?e.FdTableType.RESPONSIVE_TABLE_LAZY_LOADING:e.FdTableType.RESPONSIVE_TABLE_PAGING};e.FdTableType.staticSetup=function(){e.FdTableType.RESPONSIVE_TABLE_PAGING=e.XConstant.setupName(new e.FdTableType,"ResponsiveTablePaging");e.FdTableType.RESPONSIVE_TABLE_LAZY_LOADING=e.XConstant.setupName(new e.FdTableType,"ResponsiveTableLazyLoading");e.FdTableType.TREE_TABLE=e.XConstant.setupName(new e.FdTableType,"TreeTable");e.FdTableType.NAVIGATION_CONTAINER=e.XConstant.setupName(new e.FdTableType,"NavigationContainer")};e.FdTableType.prototype.isTreeLayout=function(){return this===e.FdTableType.TREE_TABLE||this===e.FdTableType.NAVIGATION_CONTAINER};e.OuCustomAccessPopup=function(){};e.OuCustomAccessPopup.prototype=new e.UtFormPopup;e.OuCustomAccessPopup.prototype._ff_c="OuCustomAccessPopup";e.OuCustomAccessPopup.createCustomAccessPopup=function(t,i,o){let n=new e.OuCustomAccessPopup;n.setupCustomAccessPopup(t,i,o);return n};e.OuCustomAccessPopup.prototype.m_commoni18n=null;e.OuCustomAccessPopup.prototype.m_customAccessJson=null;e.OuCustomAccessPopup.prototype.m_editTree=null;e.OuCustomAccessPopup.prototype.m_editTreeItem=null;e.OuCustomAccessPopup.prototype.m_fullTree=null;e.OuCustomAccessPopup.prototype.m_fullTreeItem=null;e.OuCustomAccessPopup.prototype.m_viewTree=null;e.OuCustomAccessPopup.prototype.m_viewTreeItem=null;e.OuCustomAccessPopup.prototype.addItemToTree=function(e,t,i){let o=i.addNewItem();o.setText(e);o.setName(t);return o};e.OuCustomAccessPopup.prototype.buildPopupContent=function(t){e.UtFormPopup.prototype.buildPopupContent.call(this,t);let i=t.newControl(e.UiType.VERTICAL_LAYOUT);this.m_viewTree=this.getGenesis().newControl(e.UiType.TREE);i.addItem(this.m_viewTree);this.m_viewTree.setSelectionMode(e.UiSelectionMode.MULTI_SELECT);this.m_viewTree.setExpanded(true);this.m_viewTree.setFlex("auto");this.m_viewTreeItem=this.addItemToTree(this.getLocalization().getText(e.OuShareDialogI18n.VIEW_ACCESS_TYPE),"view",this.m_viewTree);this.addItemToTree(this.getLocalization().getText(e.OuShareDialogI18n.READ),"read",this.m_viewTreeItem);this.addItemToTree(this.getLocalization().getText(e.OuShareDialogI18n.COPY),"copy",this.m_viewTreeItem);this.addItemToTree(this.getLocalization().getText(e.OuShareDialogI18n.VIEW_COMMENT),"commentView",this.m_viewTreeItem);this.addItemToTree(this.getLocalization().getText(e.OuShareDialogI18n.ADD_COMMENT),"commentAdd",this.m_viewTreeItem);this.m_editTree=this.getGenesis().newControl(e.UiType.TREE);i.addItem(this.m_editTree);this.m_editTree.setSelectionMode(e.UiSelectionMode.MULTI_SELECT);this.m_editTree.setExpanded(true);this.m_editTree.setFlex("auto");this.m_editTreeItem=this.addItemToTree(this.getLocalization().getText(e.OuShareDialogI18n.EDIT_ACCESS_TYPE),"edit",this.m_editTree);this.addItemToTree(this.getLocalization().getText(e.OuShareDialogI18n.UPDATE),"update",this.m_editTreeItem);this.m_fullTree=this.getGenesis().newControl(e.UiType.TREE);i.addItem(this.m_fullTree);this.m_fullTree.setSelectionMode(e.UiSelectionMode.MULTI_SELECT);this.m_fullTree.setExpanded(true);this.m_fullTree.setFlex("auto");this.m_fullTreeItem=this.addItemToTree(this.getLocalization().getText(e.OuShareDialogI18n.FULL_ACCESS_TYPE),"fullAccess",this.m_fullTree);this.addItemToTree(this.getLocalization().getText(e.OuShareDialogI18n.DELETE),"delete",this.m_fullTreeItem);this.addItemToTree(this.getLocalization().getText(e.OuShareDialogI18n.DELETE_COMMENT),"commentDelete",this.m_fullTreeItem);this.addItemToTree(this.getLocalization().getText(e.OuShareDialogI18n.SHARE),"share",this.m_fullTreeItem);if(e.notNull(this.m_customAccessJson)){this.setCurrentStateFromJson(this.m_customAccessJson)}this.m_viewTree.registerOnSelectionChange(this);this.m_editTree.registerOnSelectionChange(this);this.m_fullTree.registerOnSelectionChange(this);t.setRoot(i)};e.OuCustomAccessPopup.prototype.checkAllChildrenSelected=function(e){let t=e.getItem(0);let i=0;let o=t.getItems();for(let e=0;e<o.size();e++){let t=o.get(e);if(t.isSelected()){i++}}t.setSelected(i===o.size())};e.OuCustomAccessPopup.prototype.configurePopup=function(t){let i=this.addButton(e.UiButtonType.PRIMARY,this.m_commoni18n.getText(e.XCommonI18n.OK),"sys-enter-2",e=>{this.submit()});i.setIcon(null);i.setText(this.m_commoni18n.getText(e.XCommonI18n.OK));i.setMinWidth(e.UiCssLength.create("0"));let o=this.addButton(e.UiButtonType.DEFAULT,this.m_commoni18n.getText(e.XCommonI18n.CANCEL),"sys-cancel-2",e=>{this.setCustomAccessNull();this.close()});o.setIcon(null);o.setText(this.m_commoni18n.getText(e.XCommonI18n.CANCEL));t.setName("CustomAccessPopup");t.setTitle(this.getLocalization().getText(e.OuShareDialogI18n.CUSTOM_ACCESS_TITLE));t.setSize(e.UiSize.createByCss("28em","30.5em"));t.setResizable(false)};e.OuCustomAccessPopup.prototype.createselectedItemJson=function(){let t=e.PrFactory.createStructure();let i=this.m_viewTreeItem.getItems();let o=this.m_editTreeItem.getItems();let n=this.m_fullTreeItem.getItems();let a=this.getAccessValuesAsJson(i);a.putString("id",this.m_viewTreeItem.getName());a.putString("text",this.m_viewTreeItem.getText());a.putBoolean("selected",this.m_viewTreeItem.isSelected());a.putBoolean("visible",true);let r=this.getAccessValuesAsJson(o);r.putString("id",this.m_editTreeItem.getName());r.putString("text",this.m_editTreeItem.getText());r.putBoolean("selected",this.m_editTreeItem.isSelected());r.putBoolean("visible",true);let l=this.getAccessValuesAsJson(n);l.putString("id",this.m_fullTreeItem.getName());l.putString("text",this.m_fullTreeItem.getText());l.putBoolean("selected",this.m_fullTreeItem.isSelected());l.putBoolean("visible",true);t.put("0",a);t.put("1",r);t.put("2",l);return t};e.OuCustomAccessPopup.prototype.getAccessValuesAsJson=function(t){let i=e.PrFactory.createStructure();for(let o=0;o<t.size();o++){let n=e.PrFactory.createStructure();let a=t.get(o);n.putString("id",a.getName());n.putString("text",a.getText());n.putBoolean("selected",a.isSelected());n.putBoolean("visible",true);i.put(e.XInteger.convertToString(o),n)}return i};e.OuCustomAccessPopup.prototype.onSelectionChange=function(e){let t=e.getSelectedItem();let i=e.getSelectedItem().isSelected();let o=e.getSelectedItem().getName();switch(o){case"view":if(i){this.setAllTreeItems(this.m_viewTree,true)}else{this.setAllTreeItems(this.m_viewTree,false);this.setAllTreeItems(this.m_editTree,false);this.setAllTreeItems(this.m_fullTree,false)}break;case"edit":if(i){this.setAllTreeItems(this.m_viewTree,true);this.setAllTreeItems(this.m_editTree,true)}else{this.setAllTreeItems(this.m_editTree,false);this.setAllTreeItems(this.m_fullTree,false)}break;case"fullAccess":if(i){this.setAllTreeItems(this.m_viewTree,true);this.setAllTreeItems(this.m_editTree,true);this.setAllTreeItems(this.m_fullTree,true)}else{this.setAllTreeItems(this.m_fullTree,false)}break;case"read":if(i){t.setSelected(true)}else{this.setAllTreeItems(this.m_viewTree,false);this.setAllTreeItems(this.m_editTree,false);this.setAllTreeItems(this.m_fullTree,false)}break;case"copy":if(i){t.setSelected(true);let e=t.getParent().getItem(0);e.setSelected(true)}else{t.setSelected(false)}break;case"commentView":if(i){t.setSelected(true);let e=t.getParent().getItem(0);e.setSelected(true)}else{t.setSelected(false)}break;case"commentAdd":if(i){t.setSelected(true);let e=t.getParent().getItem(0);e.setSelected(true);let i=t.getParent().getItem(2);i.setSelected(true)}else{t.setSelected(false)}break;case"update":if(i){let e=this.m_viewTreeItem.getItemByName("read");e.setSelected(true)}this.setAllTreeItems(this.m_editTree,i);break;case"share":if(i){let e=this.m_viewTreeItem.getItemByName("read");e.setSelected(true)}t.setSelected(i);break;case"delete":if(i){let e=this.m_viewTreeItem.getItemByName("read");e.setSelected(true)}t.setSelected(i);break;case"commentDelete":if(i){let e=this.m_viewTreeItem.getItemByName("read");e.setSelected(true);let t=this.m_viewTreeItem.getItemByName("commentView");t.setSelected(true)}t.setSelected(i);break}this.checkAllChildrenSelected(this.m_viewTree);this.checkAllChildrenSelected(this.m_fullTree)};e.OuCustomAccessPopup.prototype.releaseObject=function(){this.m_customAccessJson=e.XObjectExt.release(this.m_customAccessJson);this.m_viewTree=e.XObjectExt.release(this.m_viewTree);this.m_editTree=e.XObjectExt.release(this.m_editTree);this.m_fullTree=e.XObjectExt.release(this.m_fullTree);this.m_viewTreeItem=e.XObjectExt.release(this.m_viewTreeItem);this.m_editTreeItem=e.XObjectExt.release(this.m_editTreeItem);this.m_fullTreeItem=e.XObjectExt.release(this.m_fullTreeItem);e.UtFormPopup.prototype.releaseObject.call(this)};e.OuCustomAccessPopup.prototype.setAllTreeItems=function(e,t){let i=e.getItem(0);i.setSelected(t);let o=i.getItems();for(let e=0;e<o.size();e++){let i=o.get(e);i.setSelected(t)}};e.OuCustomAccessPopup.prototype.setCurrentStateFromJson=function(t){for(let i=0;i<t.size();i++){let o=t.getStructureByKey(e.XInteger.convertToString(i));switch(i){case 0:this.m_viewTreeItem.setSelected(o.getBooleanByKey("selected"));let t=this.m_viewTreeItem.getItems();for(let i=0;i<t.size();i++){let n=o.getStructureByKey(e.XInteger.convertToString(i)).getBooleanByKey("selected");let a=t.get(i);a.setSelected(n)}break;case 1:this.m_editTreeItem.setSelected(o.getBooleanByKey("selected"));let i=this.m_editTreeItem.getItems();for(let t=0;t<i.size();t++){let n=o.getStructureByKey(e.XInteger.convertToString(t)).getBooleanByKey("selected");let a=i.get(t);a.setSelected(n)}break;case 2:this.m_fullTreeItem.setSelected(o.getBooleanByKey("selected"));let n=this.m_fullTreeItem.getItems();for(let t=0;t<n.size();t++){let i=o.getStructureByKey(e.XInteger.convertToString(t)).getBooleanByKey("selected");let a=n.get(t);a.setSelected(i)}break;default:break}}this.checkAllChildrenSelected(this.m_viewTree);this.checkAllChildrenSelected(this.m_editTree);this.checkAllChildrenSelected(this.m_fullTree)};e.OuCustomAccessPopup.prototype.setCustomAccessNull=function(){let t=this.getSubmitConsumer();if(e.notNull(t)){t(null)}};e.OuCustomAccessPopup.prototype.setupCustomAccessPopup=function(t,i,o){this.setSubmitConsumer(o);this.m_customAccessJson=i;this.m_commoni18n=e.OuShareDialogI18n.getCommonProvider();this.setupPopup(t)};e.OuCustomAccessPopup.prototype.submit=function(){let t=this.getSubmitConsumer();if(e.notNull(t)){this.m_customAccessJson=this.createselectedItemJson();t(this.m_customAccessJson)}this.close()};e.OuShareUserTeamSelectorPopup=function(){};e.OuShareUserTeamSelectorPopup.prototype=new e.UtFormPopup;e.OuShareUserTeamSelectorPopup.prototype._ff_c="OuShareUserTeamSelectorPopup";e.OuShareUserTeamSelectorPopup.createShareMemberSelectorPopup=function(t,i,o,n,a){let r=new e.OuShareUserTeamSelectorPopup;r.setupMemberSelectorPopup(t,i,o,n,a);return r};e.OuShareUserTeamSelectorPopup.prototype.m_commoni18n=null;e.OuShareUserTeamSelectorPopup.prototype.m_currentSelectedUsers=null;e.OuShareUserTeamSelectorPopup.prototype.m_mainContainer=null;e.OuShareUserTeamSelectorPopup.prototype.m_owner=null;e.OuShareUserTeamSelectorPopup.prototype.m_previousSearch=null;e.OuShareUserTeamSelectorPopup.prototype.m_searchPanel=null;e.OuShareUserTeamSelectorPopup.prototype.m_searchValue=null;e.OuShareUserTeamSelectorPopup.prototype.m_selectedUsers=null;e.OuShareUserTeamSelectorPopup.prototype.m_selectionList=null;e.OuShareUserTeamSelectorPopup.prototype.m_shareUserTeamSelectionList=null;e.OuShareUserTeamSelectorPopup.prototype.m_shareUserTeamTable=null;e.OuShareUserTeamSelectorPopup.prototype.m_table=null;e.OuShareUserTeamSelectorPopup.prototype.m_tableFooter=null;e.OuShareUserTeamSelectorPopup.prototype.m_totalMembers=0;e.OuShareUserTeamSelectorPopup.prototype.m_totalTeams=0;e.OuShareUserTeamSelectorPopup.prototype.m_workspace=null;e.OuShareUserTeamSelectorPopup.prototype.addItemToSplitter=function(e,t){let i=e.addNewItem();i.setContent(t);return i};e.OuShareUserTeamSelectorPopup.prototype.buildPopupContent=function(t){e.UtFormPopup.prototype.buildPopupContent.call(this,t);let i=t.newControl(e.UiType.FLEX_LAYOUT);i.setHeight(e.UiCssLength.create("100%"));i.setWidth(e.UiCssLength.create("100%"));this.m_mainContainer=i.addNewItemOfType(e.UiType.VERTICAL_LAYOUT);this.m_mainContainer.setWidth(e.UiCssLength.create("80%"));this.m_mainContainer.setMinWidth(e.UiCssLength.create("38%"));this.m_mainContainer.useMaxSpace();this.m_searchPanel=e.OuShareUserTeamSearchPanel.create(this,this.m_mainContainer);this.m_shareUserTeamSelectionList=e.OuShareUserTeamSelectionList.create(this);this.m_selectionList=this.m_shareUserTeamSelectionList.buildList(i);this.m_shareUserTeamTable=e.OuShareUserTeamTable.create(this,this.m_mainContainer,this.m_owner,this.m_workspace);this.m_table=this.m_shareUserTeamTable.buildTable();this.m_tableFooter=this.m_shareUserTeamTable.getTableFooter();let o=t.newControl(e.UiType.INTERACTIVE_SPLITTER);let n=this.m_shareUserTeamSelectionList.getSelectionContainer();o.setOrientation(e.UiOrientation.HORIZONTAL);o.addCssClass("ffCalculationsDialog-FormulaEditor-BottomLeftLayout");o.setEnableReordering(false);this.addItemToSplitter(o,this.m_mainContainer);let a=this.addItemToSplitter(o,n);a.setWidth(e.UiCssLength.create("35%"));a.setMinWidth(e.UiCssLength.create("25%"));i.addItem(o);t.setRoot(i)};e.OuShareUserTeamSelectorPopup.prototype.changeUserDisplayNameOrId=function(t,i){if(e.XString.isEqual(i,"IdAndDisplay")){if(this.m_table.getResponsiveTableColumns().size()===1){let e=this.m_table.addNewResponsiveTableColumn();e.addCssClass("ffShareDialogReTableLastColumn");this.m_table.getResponsiveTableColumn(0).removeCssClass("ffShareDialogReTableLastColumn")}}else{if(this.m_table.getResponsiveTableColumns().size()>1){let e=this.m_table.getResponsiveTableColumn(1);this.m_table.removeResponsiveTableColumn(e);this.m_table.getResponsiveTableColumn(0).addCssClass("ffShareDialogReTableLastColumn")}}for(let o=0;o<t.size();o++){let n=t.get(o);let a=n.getResponsiveTableCell(0);let r=a.getItems().get(1);let l=r.getTooltip();let s=e.XStringUtils.concatenate2(this.getLocalization().getText(e.OuShareDialogI18n.ID),": ");let u=e.XStringTokenizer.splitString(l,s).get(1);let m=e.XStringUtils.concatenate3(" ",this.getLocalization().getText(e.OuShareDialogI18n.DISPLAY_NAME),": ");let p=e.XStringTokenizer.splitString(u,m);let d=p.get(0);let c=p.get(1);if(e.XString.isEqual(i,"IdAndDisplay")){r.setText(d);let t=n.addNewResponsiveTableCellOfType(e.UiType.VERTICAL_LAYOUT);let i=this.getGenesis().newControl(e.UiType.LABEL).setText(c);t.addItem(i)}else if(e.XString.isEqual(i,"Id")){r.setText(d)}else{r.setText(c)}}for(let t=0;t<this.m_selectionList.getItems().size();t++){let o=this.m_selectionList.getItems().get(t);let n=o.getName();let a=e.XStringTokenizer.splitString(n,",");let r=a.get(0);if(e.XStringTokenizer.splitString(r,":").size()>2){let t=e.XStringTokenizer.splitString(r,":");r=e.XStringUtils.concatenate3(t.get(0),": ",t.get(2))}let l=a.get(1);let s=o.getContent().getItems().get(0);if(e.XString.isEqual(i,"IdAndDisplay")){s.setText(e.XStringUtils.concatenate4(r," (",l,")"))}else if(e.XString.isEqual(i,"Id")){s.setText(r)}else{s.setText(l)}}};e.OuShareUserTeamSelectorPopup.prototype.configurePopup=function(t){let i=this.addButton(e.UiButtonType.PRIMARY,this.m_commoni18n.getText(e.XCommonI18n.OK),"sys-enter-2",e=>{this.submit()});i.setIcon(null);i.setText(this.m_commoni18n.getText(e.XCommonI18n.OK));i.setMinWidth(e.UiCssLength.create("0"));let o=this.addButton(e.UiButtonType.DEFAULT,this.m_commoni18n.getText(e.XCommonI18n.CANCEL),"sys-cancel-2",e=>{this.close()});o.setIcon(null);o.setText(this.m_commoni18n.getText(e.XCommonI18n.CANCEL));t.setName("ShareMemberSelectorPopup");t.setTitle(this.getLocalization().getText(e.OuShareDialogI18n.MEMBER_SELECTOR_TITLE));t.setSize(e.UiSize.createByCss("64rem","28rem"));t.setResizable(true)};e.OuShareUserTeamSelectorPopup.prototype.createNewSelectionListItem=function(t,i,o,n,a){let r=a.newControl(e.UiType.FLEX_LAYOUT);let l=r.addNewItemOfType(e.UiType.LABEL);l.setText(t);l.addCssClass("sapMSLITitle");let s=a.newControl(e.UiType.CUSTOM_LIST_ITEM);s.setCustomObject(n);s.setName(o);s.setContent(r);s.setPadding(e.UiCssBoxEdges.create("0 5px"));s.setTooltip(i);return s};e.OuShareUserTeamSelectorPopup.prototype.getCurrentSelectedUsers=function(){return this.m_currentSelectedUsers};e.OuShareUserTeamSelectorPopup.prototype.getLocalizationProvider=function(){return this.getLocalization()};e.OuShareUserTeamSelectorPopup.prototype.getSearchPanel=function(){return this.m_searchPanel};e.OuShareUserTeamSelectorPopup.prototype.getSearchValue=function(){return this.m_searchValue};e.OuShareUserTeamSelectorPopup.prototype.getSelectedUsers=function(){return this.m_selectedUsers};e.OuShareUserTeamSelectorPopup.prototype.getSelectionList=function(){return this.m_selectionList};e.OuShareUserTeamSelectorPopup.prototype.getShareUserTeamSelectionList=function(){return this.m_shareUserTeamSelectionList};e.OuShareUserTeamSelectorPopup.prototype.getTable=function(){return this.m_table};e.OuShareUserTeamSelectorPopup.prototype.getTotalMembers=function(){return this.m_totalMembers};e.OuShareUserTeamSelectorPopup.prototype.getTotalTeams=function(){return this.m_totalTeams};e.OuShareUserTeamSelectorPopup.prototype.handleSearch=function(t){if(e.notNull(t)){let i=t.getParameters().getBooleanByKeyExt(e.UiEventParams.PARAM_CLEAR_BUTTON_PRESSED,false);let o=t.getParameters().getStringByKeyExt(e.UiEventParams.PARAM_SEARCH_TEXT,"");if(e.XString.isEqual(o,"")){o=t.getParameters().getStringByKeyExt("value","")}if(!e.XString.isEqual(this.m_previousSearch,o)){if(!i&&!e.XStringUtils.isNullOrEmpty(o)){this.m_selectedUsers=this.m_selectionList.getItems();this.m_table.clearResponsiveTableRows();this.m_mainContainer.removeItem(this.m_tableFooter);this.m_searchValue=o;this.m_shareUserTeamTable.addAllUsersToTable()}else{let t=this.m_table.getSelectedItems();let i=e.XList.create();let o=t.size();for(let n=0;n<o;n++){let o=t.get(n);let a=o.getResponsiveTableCell(0);let r=a.getItems().get(1);let l=e.XStringUtils.concatenate2(this.getLocalization().getText(e.OuShareDialogI18n.ID),": ");let s=e.XStringTokenizer.splitString(r.getTooltip(),l).get(1);let u=e.XStringUtils.concatenate3(" ",this.getLocalization().getText(e.OuShareDialogI18n.DISPLAY_NAME),": ");let m=e.XStringTokenizer.splitString(s,u);let p=m.get(0);let d=r.getName();let c=e.XList.create();c.add(p);c.add(d);i.add(c)}this.m_currentSelectedUsers=i;this.m_table.clearResponsiveTableRows();this.m_searchValue=null;this.m_mainContainer.removeItem(this.m_tableFooter);this.m_shareUserTeamTable.addAllUsersToTable()}this.m_previousSearch=o}}};e.OuShareUserTeamSelectorPopup.prototype.releaseObject=function(){this.m_commoni18n=e.XObjectExt.release(this.m_commoni18n);this.m_table=e.XObjectExt.release(this.m_table);this.m_tableFooter=e.XObjectExt.release(this.m_tableFooter);this.m_selectionList=e.XObjectExt.release(this.m_selectionList);this.m_mainContainer=e.XObjectExt.release(this.m_mainContainer);this.m_currentSelectedUsers=e.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_currentSelectedUsers);this.m_selectedUsers=e.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_selectedUsers);this.m_searchPanel=e.XObjectExt.release(this.m_searchPanel);this.m_shareUserTeamTable=e.XObjectExt.release(this.m_shareUserTeamTable);this.m_shareUserTeamSelectionList=e.XObjectExt.release(this.m_shareUserTeamSelectionList);e.UtFormPopup.prototype.releaseObject.call(this)};e.OuShareUserTeamSelectorPopup.prototype.setDialogBusy=function(e){this.setBusy(e)};e.OuShareUserTeamSelectorPopup.prototype.setSearchValue=function(e){this.m_searchValue=e};e.OuShareUserTeamSelectorPopup.prototype.setSelectedUsers=function(e){this.m_selectedUsers=e};e.OuShareUserTeamSelectorPopup.prototype.setSelectionList=function(e){this.m_selectionList=e};e.OuShareUserTeamSelectorPopup.prototype.setTotalMembers=function(e){this.m_totalMembers=e};e.OuShareUserTeamSelectorPopup.prototype.setTotalTeams=function(e){this.m_totalTeams=e};e.OuShareUserTeamSelectorPopup.prototype.setupMemberSelectorPopup=function(t,i,o,n,a){this.setSubmitConsumer(o);this.m_commoni18n=e.OuShareDialogI18n.getCommonProvider();this.m_currentSelectedUsers=i;this.m_owner=n;this.m_workspace=a;this.setupPopup(t)};e.OuShareUserTeamSelectorPopup.prototype.submit=function(){let t=this.getSubmitConsumer();if(e.notNull(t)){let i=this.m_selectionList.getItems();let o=e.PrFactory.createStructure();let n=e.XList.create();for(let t=0;t<i.size();t++){let o=i.get(t);let a=e.XList.create();a.add(o.getName());a.add(o.getTooltip());n.add(a)}o.put("selectedUsers",n);t(o)}this.close()};e.VdComparisonOperator=function(){};e.VdComparisonOperator.prototype=new e.XConstant;e.VdComparisonOperator.prototype._ff_c="VdComparisonOperator";e.VdComparisonOperator.BETWEEN=null;e.VdComparisonOperator.EQUAL=null;e.VdComparisonOperator.GREATER_EQUAL=null;e.VdComparisonOperator.GREATER_THAN=null;e.VdComparisonOperator.IS_NOT_NULL=null;e.VdComparisonOperator.IS_NULL=null;e.VdComparisonOperator.LESS_EQUAL=null;e.VdComparisonOperator.LESS_THAN=null;e.VdComparisonOperator.MATCH=null;e.VdComparisonOperator.NOT_BETWEEN=null;e.VdComparisonOperator.NOT_EQUAL=null;e.VdComparisonOperator.UNDEFINED=null;e.VdComparisonOperator.s_lookup=null;e.VdComparisonOperator.createComparisonOperator=function(t,i,o,n,a,r){let l=new e.VdComparisonOperator;l._setupInternal(i);l.m_originComparisonOperator=t;l.m_shortText=o;l.m_i18nShortText=n;l.m_i18nLongText=a;l.m_longTextSeparator=r;e.VdComparisonOperator.s_lookup.put(i,l);return l};e.VdComparisonOperator.lookup=function(t,i){let o=e.VdComparisonOperator.lookupExt(t,i);if(o===e.VdComparisonOperator.MATCH){return null}return o};e.VdComparisonOperator.lookupExt=function(t,i){if(i){if(e.XString.isEqual(t,e.ComparisonOperator.IS_NULL.getName())){return e.VdComparisonOperator.IS_NOT_NULL}if(e.XString.isEqual(t,e.ComparisonOperator.EQUAL.getName())){return e.VdComparisonOperator.NOT_EQUAL}if(e.XString.isEqual(t,e.ComparisonOperator.BETWEEN.getName())){return e.VdComparisonOperator.NOT_BETWEEN}return null}return e.VdComparisonOperator.s_lookup.getByKey(t)};e.VdComparisonOperator.staticSetup=function(){e.VdComparisonOperator.s_lookup=e.XHashMapByString.create();e.VdComparisonOperator.UNDEFINED=e.VdComparisonOperator.createComparisonOperator(e.ComparisonOperator.UNDEFINED,e.ComparisonOperator.UNDEFINED.getName(),null,null,null,null);e.VdComparisonOperator.IS_NULL=e.VdComparisonOperator.createComparisonOperator(e.ComparisonOperator.IS_NULL,e.ComparisonOperator.IS_NULL.getName(),null,e.OuVariableDialogI18nLegacy.I18N_VD_COMPARISON_OPERATOR_IS_NULL,null,null);e.VdComparisonOperator.IS_NOT_NULL=e.VdComparisonOperator.createComparisonOperator(e.ComparisonOperator.IS_NULL,"IS_NOT_NULL",null,e.OuVariableDialogI18nLegacy.I18N_VD_COMPARISON_OPERATOR_IS_NOT_NULL,null,null);e.VdComparisonOperator.EQUAL=e.VdComparisonOperator.createComparisonOperator(e.ComparisonOperator.EQUAL,e.ComparisonOperator.EQUAL.getName(),"=",null,e.OuVariableDialogI18nLegacy.I18N_VD_COMPARISON_OPERATOR_EQUAL_TEXT,"      ");e.VdComparisonOperator.NOT_EQUAL=e.VdComparisonOperator.createComparisonOperator(e.ComparisonOperator.NOT_EQUAL,e.ComparisonOperator.NOT_EQUAL.getName(),"≠",null,e.OuVariableDialogI18nLegacy.I18N_VD_COMPARISON_OPERATOR_NOT_EQUAL_TEXT,"      ");e.VdComparisonOperator.GREATER_THAN=e.VdComparisonOperator.createComparisonOperator(e.ComparisonOperator.GREATER_THAN,e.ComparisonOperator.GREATER_THAN.getName(),">",null,e.OuVariableDialogI18nLegacy.I18N_VD_COMPARISON_OPERATOR_GREATER_TEXT,"      ");e.VdComparisonOperator.GREATER_EQUAL=e.VdComparisonOperator.createComparisonOperator(e.ComparisonOperator.GREATER_EQUAL,e.ComparisonOperator.GREATER_EQUAL.getName(),">=",null,e.OuVariableDialogI18nLegacy.I18N_VD_COMPARISON_OPERATOR_GREATER_EQUAL_TEXT,"    ");e.VdComparisonOperator.LESS_THAN=e.VdComparisonOperator.createComparisonOperator(e.ComparisonOperator.LESS_THAN,e.ComparisonOperator.LESS_THAN.getName(),"<",null,e.OuVariableDialogI18nLegacy.I18N_VD_COMPARISON_OPERATOR_LESS_TEXT,"      ");e.VdComparisonOperator.LESS_EQUAL=e.VdComparisonOperator.createComparisonOperator(e.ComparisonOperator.LESS_EQUAL,e.ComparisonOperator.LESS_EQUAL.getName(),"<=",null,e.OuVariableDialogI18nLegacy.I18N_VD_COMPARISON_OPERATOR_LESS_EQUAL_TEXT,"    ");e.VdComparisonOperator.BETWEEN=e.VdComparisonOperator.createComparisonOperator(e.ComparisonOperator.BETWEEN,e.ComparisonOperator.BETWEEN.getName(),"[ ]",null,e.OuVariableDialogI18nLegacy.I18N_VD_COMPARISON_OPERATOR_BETWEEN_TEXT,"     ");e.VdComparisonOperator.NOT_BETWEEN=e.VdComparisonOperator.createComparisonOperator(e.ComparisonOperator.NOT_BETWEEN,e.ComparisonOperator.NOT_BETWEEN.getName(),"![ ]",null,e.OuVariableDialogI18nLegacy.I18N_VD_COMPARISON_OPERATOR_NOT_BETWEEN_TEXT,"    ");e.VdComparisonOperator.MATCH=e.VdComparisonOperator.createComparisonOperator(e.ComparisonOperator.MATCH,e.ComparisonOperator.MATCH.getName(),"*",null,e.OuVariableDialogI18nLegacy.I18N_VD_COMPARISON_OPERATOR_MATCH_TEXT,"      ")};e.VdComparisonOperator.prototype.m_i18nLongText=null;e.VdComparisonOperator.prototype.m_i18nShortText=null;e.VdComparisonOperator.prototype.m_longTextSeparator=null;e.VdComparisonOperator.prototype.m_originComparisonOperator=null;e.VdComparisonOperator.prototype.m_shortText=null;e.VdComparisonOperator.prototype.getLongText=function(){let t=e.OuVariableDialogI18nLegacy.getProvider();return e.notNull(this.m_i18nLongText)?e.XStringUtils.concatenate3(this.getShortText(),this.m_longTextSeparator,t.getText(this.m_i18nLongText)):this.getShortText()};e.VdComparisonOperator.prototype.getNumberOfParameters=function(){return this.m_originComparisonOperator.getNumberOfParameters()};e.VdComparisonOperator.prototype.getOriginOperator=function(){return this.m_originComparisonOperator};e.VdComparisonOperator.prototype.getShortText=function(){if(e.notNull(this.m_i18nShortText)){let t=e.OuVariableDialogI18nLegacy.getProvider();return t.getText(this.m_i18nShortText)}return this.m_shortText};e.VdComparisonOperator.prototype.isNullOperator=function(){return this===e.VdComparisonOperator.IS_NULL||this===e.VdComparisonOperator.IS_NOT_NULL};e.VdValueFormat=function(){};e.VdValueFormat.prototype=new e.XConstant;e.VdValueFormat.prototype._ff_c="VdValueFormat";e.VdValueFormat.DATA_QUERY_MODEL=null;e.VdValueFormat.SAC=null;e.VdValueFormat.s_lookup=null;e.VdValueFormat.create=function(t,i){let o=new e.VdValueFormat;o._setupInternal(t);o.m_parser=i;e.VdValueFormat.s_lookup.put(t,o);return o};e.VdValueFormat.lookup=function(t){return e.VdValueFormat.s_lookup.getByKey(t)};e.VdValueFormat.staticSetup=function(){e.VdValueFormat.s_lookup=e.XHashMapByString.create();e.VdValueFormat.SAC=e.VdValueFormat.create("sac",e.VdOrcaValueParser.createParser());e.VdValueFormat.DATA_QUERY_MODEL=e.VdValueFormat.create("dataQueryModel",e.VdUqmValueParser.createParser())};e.VdValueFormat.prototype.m_parser=null;e.VdValueFormat.prototype.getParser=function(){return this.m_parser};e.VdControllerState=function(){};e.VdControllerState.prototype=new e.XConstant;e.VdControllerState.prototype._ff_c="VdControllerState";e.VdControllerState.DIRTY=null;e.VdControllerState.PENDING=null;e.VdControllerState.PRISTINE=null;e.VdControllerState.PROCESSED=null;e.VdControllerState.create=function(t,i){let o=e.XConstant.setupName(new e.VdControllerState,t);o.m_priority=i;return o};e.VdControllerState.getHigherPriority=function(e,t){return e.getPriority()<=t.getPriority()?e:t};e.VdControllerState.isCompleted=function(t){return t===e.VdControllerState.PRISTINE||t===e.VdControllerState.PROCESSED};e.VdControllerState.staticSetup=function(){e.VdControllerState.PENDING=e.VdControllerState.create("pending",1);e.VdControllerState.DIRTY=e.VdControllerState.create("dirty",2);e.VdControllerState.PROCESSED=e.VdControllerState.create("processed",3);e.VdControllerState.PRISTINE=e.VdControllerState.create("pristine",4)};e.VdControllerState.prototype.m_priority=0;e.VdControllerState.prototype.getPriority=function(){return this.m_priority};e.VdVariantPopupBase=function(){};e.VdVariantPopupBase.prototype=new e.UtFormPopup;e.VdVariantPopupBase.prototype._ff_c="VdVariantPopupBase";e.VdVariantPopupBase.COMPONENT_NAME="VariantPopup";e.VdVariantPopupBase.INPUT_FLEX="2 0 200px";e.VdVariantPopupBase.PROPERY_NAME="variantName";e.VdVariantPopupBase.PROPERY_SCOPE="variantScope";e.VdVariantPopupBase.PROPERY_TEXT="variantText";e.VdVariantPopupBase.SCOPE_FLEX="1 0 120px";e.VdVariantPopupBase.TITLE_SECTION="titleSection";e.VdVariantPopupBase.prototype.m_i18n=null;e.VdVariantPopupBase.prototype.m_invisible_nameLabel=null;e.VdVariantPopupBase.prototype.m_invisible_scopeLabel=null;e.VdVariantPopupBase.prototype.m_invisible_textLabel=null;e.VdVariantPopupBase.prototype.m_manager=null;e.VdVariantPopupBase.prototype.m_processor=null;e.VdVariantPopupBase.prototype.s_sectionId=0;e.VdVariantPopupBase.prototype.addTitleSection=function(){if(this.getGenesis().getUiManager().getDeviceInfo().isSmartphone()){return null}let t=this.addFormSection(e.VdVariantPopupBase.TITLE_SECTION,null,true);if(this.getGenesis().getUiManager().getDeviceInfo().isTablet()){t.setFlex("0 0 auto")}let i=t.addFormLabel(null,this.m_i18n.getText(e.OuVariableDialogI18nLegacy.I18N_VARIANT_NAME),null);i.setRequired(true);i.setFlex(e.VdVariantPopupBase.INPUT_FLEX);let o=t.addFormLabel(null,this.m_i18n.getText(e.OuVariableDialogI18nLegacy.I18N_VARIANT_TYPE),null);o.setFlex(e.VdVariantPopupBase.SCOPE_FLEX);let n=t.addFormLabel(null,this.m_i18n.getText(e.OuVariableDialogI18nLegacy.I18N_VARIANT_TECHNICAL_NAME),null);n.setRequired(true);n.setFlex(e.VdVariantPopupBase.INPUT_FLEX);this.m_invisible_textLabel=this.getDialog().getContent().addNewItemOfType(e.UiType.INVISIBLE_TEXT);this.m_invisible_textLabel.setText(this.m_i18n.getText(e.OuVariableDialogI18nLegacy.I18N_VARIANT_NAME));this.m_invisible_scopeLabel=this.getDialog().getContent().addNewItemOfType(e.UiType.INVISIBLE_TEXT);this.m_invisible_scopeLabel.setText(this.m_i18n.getText(e.OuVariableDialogI18nLegacy.I18N_VARIANT_TYPE));this.m_invisible_nameLabel=this.getDialog().getContent().addNewItemOfType(e.UiType.INVISIBLE_TEXT);this.m_invisible_nameLabel.setText(this.m_i18n.getText(e.OuVariableDialogI18nLegacy.I18N_VARIANT_TECHNICAL_NAME));return t};e.VdVariantPopupBase.prototype.addVariantSectionBase=function(t,i,o){let n=e.XStringUtils.concatenate2("variantSection",e.XInteger.convertToString(this.s_sectionId));this.s_sectionId++;let a=this.addFormSection(n,null,true);a.addCssClass("ffVariantSection");a.showSectionMarkerDuringValidation(false);let r=this.getGenesis().getUiManager().getDeviceInfo();if(r.isTablet()||r.isSmartphone()){a.setFlex("0 0 auto")}let l=a.addInput(e.VdVariantPopupBase.PROPERY_TEXT,i,null);l.setPlaceholder(this.m_i18n.getText(e.OuVariableDialogI18nLegacy.I18N_VARIANT_NAME_PLACEHOLDER));l.setRequired(true);l.setFlex(e.VdVariantPopupBase.INPUT_FLEX);l.setCustomRequiredText(this.m_i18n.getText(e.OuVariableDialogI18nLegacy.I18N_VARIANT_NAME_REQUIRED));l.addLabelledBy(this.m_invisible_textLabel);let s=a.addDropdown(e.VdVariantPopupBase.PROPERY_SCOPE,o.getName(),null,this.getVariantScopes(),false);s.setFlex(e.VdVariantPopupBase.SCOPE_FLEX);s.setValueChangedConsumer((e,t)=>{this.onScopeChange(a,s)});s.addLabelledBy(this.m_invisible_scopeLabel);let u=a.addInput(e.VdVariantPopupBase.PROPERY_NAME,t,null);u.setPlaceholder(this.m_i18n.getText(e.OuVariableDialogI18nLegacy.I18N_VARIANT_TECHNICAL_NAME_PLACEHOLDER));u.setRequired(true);u.setFlex(e.VdVariantPopupBase.INPUT_FLEX);u.setCustomRequiredText(this.m_i18n.getText(e.OuVariableDialogI18nLegacy.I18N_VARIANT_TECHNICAL_NAME_REQUIRED));u.setEditable(false);u.addLabelledBy(this.m_invisible_nameLabel);this.updateNameItem(a,t,o);return a};e.VdVariantPopupBase.prototype.configurePopup=function(t){e.UtFormPopup.prototype.configurePopup.call(this,t);t.addCssClass("ffVariantPopup");t.setWidth(e.UiCssLength.create("720px"));this.setSubmitButtonIcon(null);this.setSubmitButtonText(this.m_i18n.getText(e.OuVariableDialogI18nLegacy.I18N_VARIANT_POPUP_SAVE));this.setCancelButtonIcon(null);this.setCancelButtonText(this.m_i18n.getText(e.OuVariableDialogI18nLegacy.I18N_VARIANT_POPUP_CANCEL))};e.VdVariantPopupBase.prototype.getVariantScopes=function(){let t=e.OuVariableDialogI18nLegacy.getProvider();let i=e.XHashMapByString.create();i.put(e.Scope.USER.getName(),t.getText(e.OuVariableDialogI18nLegacy.I18N_VARIANT_PERSONAL));i.put(e.Scope.GLOBAL.getName(),t.getText(e.OuVariableDialogI18nLegacy.I18N_VARIANT_GLOBAL));return i};e.VdVariantPopupBase.prototype.onScopeChange=function(t,i){let o=e.Scope.lookupByName(i.getValue().getStringRepresentation());let n=o===e.Scope.USER;this.updateNameItem(t,null,o);let a=t.getFormItemByKey(e.VdVariantPopupBase.PROPERY_NAME);a.setEditable(!n)};e.VdVariantPopupBase.prototype.releaseObject=function(){this.m_manager=null;this.m_processor=null;this.m_i18n=null;this.m_invisible_textLabel=null;this.m_invisible_scopeLabel=null;this.m_invisible_nameLabel=null;e.UtFormPopup.prototype.releaseObject.call(this)};e.VdVariantPopupBase.prototype.setupPopupBase=function(t,i){this.m_manager=t;this.m_processor=i;this.m_i18n=e.OuVariableDialogI18nLegacy.getProvider()};e.VdVariantPopupBase.prototype.showGeneralErrorMessage=function(t,i){let o=this.m_manager.getUiContext();let n=e.OlapUiMessageCenter.getInaErrorMessage(t,i);o.getMessageCenter().postMessage(e.UiMessageType.ERROR,n,e.VdVariantPopupBase.COMPONENT_NAME)};e.VdVariantPopupBase.prototype.updateNameItem=function(t,i,o){let n=o===e.Scope.USER;let a=n?this.m_i18n.getText(e.OuVariableDialogI18nLegacy.I18N_VARIANT_GENERATED_ID):i;let r=t.getFormItemByKey(e.VdVariantPopupBase.PROPERY_NAME);r.setValue(e.XStringValue.create(a));if(n){r.addCssClass("VdVariantNameInputAutoGenerated")}else{r.removeCssClass("VdVariantNameInputAutoGenerated")}r.setValid()};e.VdVariantPopupBase.prototype.updateSectionTexts=function(t,i,o,n){t.getFormItemByKey(e.VdVariantPopupBase.PROPERY_TEXT).setValue(e.XStringValue.create(o));t.getFormItemByKey(e.VdVariantPopupBase.PROPERY_SCOPE).setValue(e.XStringValue.create(n.getName()));this.updateNameItem(t,i,n)};e.VdVariantPopupBase.prototype.validateDisplayName=function(t,i){let o=this.m_processor.getVariableVariants();let n=t.getValue().getStringRepresentation();if(e.isNull(i)||!e.XString.isEqual(e.XString.toLowerCase(n),e.XString.toLowerCase(i.getText()))){let i=e.XStream.of(o).anyMatch(t=>e.XString.isEqual(e.XString.toLowerCase(t.getText()),e.XString.toLowerCase(n)));if(i){let i=e.OuVariableDialogI18nLegacy.getProvider();t.setInvalid(i.getText(e.OuVariableDialogI18nLegacy.I18N_VARIANT_NAME_UNIQUE));return false}}t.setValid();return true};e.VdVariantPopupBase.prototype.validateTechnicalName=function(t,i){let o=this.m_processor.getVariableVariants();let n=t.getValue().getStringRepresentation();if(e.isNull(i)||!e.XString.isEqual(e.XString.toLowerCase(n),e.XString.toLowerCase(i.getName()))){let i=e.XStream.of(o).anyMatch(t=>e.XString.isEqual(e.XString.toLowerCase(t.getName()),e.XString.toLowerCase(n)));if(i){let i=e.OuVariableDialogI18nLegacy.getProvider();t.setInvalid(i.getText(e.OuVariableDialogI18nLegacy.I18N_VARIANT_TECHNICAL_NAME_UNIQUE));return false}}t.setValid();return true};e.VdVhMobileListItem=function(){};e.VdVhMobileListItem.prototype=new e.DfNameTextObject;e.VdVhMobileListItem.prototype._ff_c="VdVhMobileListItem";e.VdVhMobileListItem.VIEW_NAME="vhMobileList";e.VdVhMobileListItem.create=function(t,i,o){if(e.XStringUtils.isNullOrEmpty(t)){throw e.XException.createRuntimeException("Name is required for a VdVhMobileListItem instance!")}let n=new e.VdVhMobileListItem;n.setupWithNameText(t,i);n.setupInternal(o);return n};e.VdVhMobileListItem.prototype.m_customObject=null;e.VdVhMobileListItem.prototype.getCustomObject=function(){return this.m_customObject};e.VdVhMobileListItem.prototype.releaseObject=function(){this.m_customObject=null;e.DfNameTextObject.prototype.releaseObject.call(this)};e.VdVhMobileListItem.prototype.setupInternal=function(e){this.m_customObject=e};e.OlapUiCommonI18n=function(){};e.OlapUiCommonI18n.prototype=new e.DfXLocalizationCommonsProvider;e.OlapUiCommonI18n.prototype._ff_c="OlapUiCommonI18n";e.OlapUiCommonI18n.AXIS_COLUMNS="FF_GDS_QB_AXIS_COLUMNS";e.OlapUiCommonI18n.AXIS_ROWS="FF_GDS_QB_AXIS_ROWS";e.OlapUiCommonI18n.COMMON_ACCOUNT="FF_GDS_QB_COMMON_ACCOUNT";e.OlapUiCommonI18n.COMMON_MEASURES="FF_GDS_QB_COMMON_MEASURES";e.OlapUiCommonI18n.COMMON_MEMBER_WITHOUT_ID_TITLE="FF_GDS_QB_MEMBER_WITHOUT_ID_TITLE";e.OlapUiCommonI18n.COMMON_MORE="FF_GDS_QB_COMMON_MORE";e.OlapUiCommonI18n.COMMON_STRUCTURE="FF_GDS_QB_COMMON_STRUCTURE";e.OlapUiCommonI18n.PROVIDER_NAME="OlapUiCommons";e.OlapUiCommonI18n.staticSetup=function(){let t=new e.OlapUiCommonI18n;t.setupProvider(e.OlapUiCommonI18n.PROVIDER_NAME,true);t.addText(e.OlapUiCommonI18n.AXIS_ROWS,"Rows");t.addComment(e.OlapUiCommonI18n.AXIS_ROWS,"#XTIT: The title of a section that contains all dimension of the row axis.");t.addText(e.OlapUiCommonI18n.AXIS_COLUMNS,"Columns");t.addComment(e.OlapUiCommonI18n.AXIS_COLUMNS,"#XTIT: The title of a section that contains all dimension of the column axis.");t.addText(e.OlapUiCommonI18n.COMMON_MEASURES,"Measures");t.addComment(e.OlapUiCommonI18n.COMMON_MEASURES,"#XTIT: The title of an element for the measure structure");t.addText(e.OlapUiCommonI18n.COMMON_STRUCTURE,"Structure");t.addComment(e.OlapUiCommonI18n.COMMON_STRUCTURE,"#XTIT: The title of an element for the second structure");t.addText(e.OlapUiCommonI18n.COMMON_ACCOUNT,"Accounts");t.addComment(e.OlapUiCommonI18n.COMMON_ACCOUNT,"#XTIT: The title of an element for the account dimension");t.addText(e.OlapUiCommonI18n.COMMON_MORE,"More");t.addComment(e.OlapUiCommonI18n.COMMON_MORE,"#XTOL: A tooltip of a button that offers additional options in the given context");t.addTextWithComment(e.OlapUiCommonI18n.COMMON_MEMBER_WITHOUT_ID_TITLE,"No Value","#XTIT: A title for structure members that don't have an ID");return t};e.VdOrcaScenario=function(){};e.VdOrcaScenario.prototype=new e.XConstant;e.VdOrcaScenario.prototype._ff_c="VdOrcaScenario";e.VdOrcaScenario.ANALYTIC_APP=null;e.VdOrcaScenario.BOARD_ROOM=null;e.VdOrcaScenario.LINKED_VARIABLE=null;e.VdOrcaScenario.PLANNING_SEQUENCE=null;e.VdOrcaScenario.SCHEDULING=null;e.VdOrcaScenario.STORY=null;e.VdOrcaScenario.s_lookup=null;e.VdOrcaScenario.create=function(t){let i=e.XConstant.setupName(new e.VdOrcaScenario,t);e.VdOrcaScenario.s_lookup.put(t,i);return i};e.VdOrcaScenario.lookup=function(t){return e.VdOrcaScenario.s_lookup.getByKey(t)};e.VdOrcaScenario.staticSetup=function(){e.VdOrcaScenario.s_lookup=e.XHashMapByString.create();e.VdOrcaScenario.STORY=e.VdOrcaScenario.create("story");e.VdOrcaScenario.ANALYTIC_APP=e.VdOrcaScenario.create("analytic_app");e.VdOrcaScenario.LINKED_VARIABLE=e.VdOrcaScenario.create("linked_variable");e.VdOrcaScenario.BOARD_ROOM=e.VdOrcaScenario.create("board_room");e.VdOrcaScenario.PLANNING_SEQUENCE=e.VdOrcaScenario.create("planning_sequence");e.VdOrcaScenario.SCHEDULING=e.VdOrcaScenario.create("scheduling")};e.OrcaLinkVarJoinMode=function(){};e.OrcaLinkVarJoinMode.prototype=new e.XConstant;e.OrcaLinkVarJoinMode.prototype._ff_c="OrcaLinkVarJoinMode";e.OrcaLinkVarJoinMode.INTERSECT=null;e.OrcaLinkVarJoinMode.UNION=null;e.OrcaLinkVarJoinMode.s_lookup=null;e.OrcaLinkVarJoinMode.create=function(t){let i=e.XConstant.setupName(new e.OrcaLinkVarJoinMode,t);e.OrcaLinkVarJoinMode.s_lookup.put(i.getName(),i);return i};e.OrcaLinkVarJoinMode.lookup=function(t){return e.OrcaLinkVarJoinMode.s_lookup.getByKey(t)};e.OrcaLinkVarJoinMode.staticSetup=function(){e.OrcaLinkVarJoinMode.s_lookup=e.XHashMapByString.create();e.OrcaLinkVarJoinMode.INTERSECT=e.OrcaLinkVarJoinMode.create("intersect");e.OrcaLinkVarJoinMode.UNION=e.OrcaLinkVarJoinMode.create("union")};e.OrcaLinkVarSubmitHandling=function(){};e.OrcaLinkVarSubmitHandling.prototype=new e.XConstant;e.OrcaLinkVarSubmitHandling.prototype._ff_c="OrcaLinkVarSubmitHandling";e.OrcaLinkVarSubmitHandling.NONE=null;e.OrcaLinkVarSubmitHandling.SUBMIT_LINKED_DIRECT=null;e.OrcaLinkVarSubmitHandling.SUBMIT_LINKED_RECURSIVE=null;e.OrcaLinkVarSubmitHandling.s_lookup=null;e.OrcaLinkVarSubmitHandling.create=function(t){let i=e.XConstant.setupName(new e.OrcaLinkVarSubmitHandling,t);e.OrcaLinkVarSubmitHandling.s_lookup.put(t,i);return i};e.OrcaLinkVarSubmitHandling.lookupWithDefault=function(t){let i=e.OrcaLinkVarSubmitHandling.s_lookup.getByKey(t);return e.notNull(i)?i:e.OrcaLinkVarSubmitHandling.NONE};e.OrcaLinkVarSubmitHandling.staticSetup=function(){e.OrcaLinkVarSubmitHandling.s_lookup=e.XHashMapByString.create();e.OrcaLinkVarSubmitHandling.NONE=e.OrcaLinkVarSubmitHandling.create("none");e.OrcaLinkVarSubmitHandling.SUBMIT_LINKED_DIRECT=e.OrcaLinkVarSubmitHandling.create("submitLinkedDirect");e.OrcaLinkVarSubmitHandling.SUBMIT_LINKED_RECURSIVE=e.OrcaLinkVarSubmitHandling.create("submitLinkedRecursive")};e.DfOuOlapView=function(){};e.DfOuOlapView.prototype=new e.DfUiContentView;e.DfOuOlapView.prototype._ff_c="DfOuOlapView";e.DfOuOlapView.prototype.m_queryManager=null;e.DfOuOlapView.prototype.destroyView=function(){};e.DfOuOlapView.prototype.getLocalization=function(){return e.XLocalizationCenter.getCenter()};e.DfOuOlapView.prototype.getQueryManager=function(){return this.m_queryManager};e.DfOuOlapView.prototype.initOlapView=function(t,i){if(e.isNull(i)){throw e.XException.createRuntimeException("Error while creating a olap ui view. Missing query manager!")}this.m_queryManager=i;e.DfUiContentView.prototype.initView.call(this,t)};e.DfOuOlapView.prototype.releaseObject=function(){this.m_queryManager=null;e.DfUiContentView.prototype.releaseObject.call(this)};e.DfOuOlapView.prototype.setQueryManager=function(e){this.m_queryManager=e};e.DfOuOlapView.prototype.setupView=function(){this.setupOlapView(this.m_queryManager)};e.OuDataSourceListPlugin=function(){};e.OuDataSourceListPlugin.prototype=new e.XObject;e.OuDataSourceListPlugin.prototype._ff_c="OuDataSourceListPlugin";e.OuDataSourceListPlugin.CONFIG_SYSTEM_NAME="systemName";e.OuDataSourceListPlugin.NOTIFY_DATA_SOURCE_SELECTED="com.sap.ff.DataSourceListPlugin.Notification.DataSourceSelected";e.OuDataSourceListPlugin.NOTIFY_DATA_SOURCE_SELECTED_DATA_SOURCE="com.sap.ff.DataSourceListPlugin.NotificationData.DataSource";e.OuDataSourceListPlugin.PLUGIN_NAME="DataSourceListPlugin";e.OuDataSourceListPlugin.prototype.m_controller=null;e.OuDataSourceListPlugin.prototype.m_dataSourceListView=null;e.OuDataSourceListPlugin.prototype.m_systemName=null;e.OuDataSourceListPlugin.prototype._getController=function(){return this.m_controller};e.OuDataSourceListPlugin.prototype.buildPluginUi=function(t){this.m_dataSourceListView=e.OuDataSourceListView.create(this._getController().getProcess(),this.m_systemName);this.m_dataSourceListView.setDataSourceSelectedConsumer(t=>{let i=e.XNotificationData.create();i.putXObject(e.OuDataSourceListPlugin.NOTIFY_DATA_SOURCE_SELECTED_DATA_SOURCE,t);this._getController().getLocalNotificationCenter().postNotificationWithName(e.OuDataSourceListPlugin.NOTIFY_DATA_SOURCE_SELECTED,i)});t.setRoot(this.m_dataSourceListView.renderView(t))};e.OuDataSourceListPlugin.prototype.destroyPlugin=function(){this.m_dataSourceListView=e.XObjectExt.release(this.m_dataSourceListView);this.m_controller=null};e.OuDataSourceListPlugin.prototype.didBecameHidden=function(){};e.OuDataSourceListPlugin.prototype.didBecameVisible=function(){};e.OuDataSourceListPlugin.prototype.getName=function(){return e.OuDataSourceListPlugin.PLUGIN_NAME};e.OuDataSourceListPlugin.prototype.getPluginCategory=function(){return e.HuPluginCategory.OLAP};e.OuDataSourceListPlugin.prototype.getPluginType=function(){return e.HuPluginType.COMPONENT};e.OuDataSourceListPlugin.prototype.onConfigurationChanged=function(e){};e.OuDataSourceListPlugin.prototype.onResize=function(e,t){};e.OuDataSourceListPlugin.prototype.processConfiguration=function(t){this.m_systemName=t.getStringByKey(e.OuDataSourceListPlugin.CONFIG_SYSTEM_NAME)};e.OuDataSourceListPlugin.prototype.setupPlugin=function(e){this.m_controller=e;return null};e.FirstAidShell=function(){};e.FirstAidShell.prototype=new e.DfProgram;e.FirstAidShell.prototype._ff_c="FirstAidShell";e.FirstAidShell.COMMAND_INVOKE="invoke";e.FirstAidShell.COMMAND_LIST="qms";e.FirstAidShell.DEFAULT_PROGRAM_NAME="aid";e.FirstAidShell.INVOKE_INDEX="i";e.FirstAidShell.INVOKE_METHOD="m";e.FirstAidShell.PARAM_COMMAND="command";e.FirstAidShell.prototype.getDefaultContainerType=function(){return e.ProgramContainerType.CONSOLE};e.FirstAidShell.prototype.getProgramName=function(){return e.FirstAidShell.DEFAULT_PROGRAM_NAME};e.FirstAidShell.prototype.getProgramType=function(){return e.ProgramType.SHELL};e.FirstAidShell.prototype.getQueryManagers=function(){let t;try{let i=this.getSession();let o=i.getParentProcess();t=o.getEntity(e.ProcessEntity.OLAP_ENVIRONMENT)}catch(t){this.println("No olap environment found");return e.XList.create()}if(e.isNull(t)){this.println("No olap environment found");return e.XList.create()}return t.getAllAreaQueryManager()};e.FirstAidShell.prototype.newProgram=function(){let t=new e.FirstAidShell;t.setup();return t};e.FirstAidShell.prototype.prepareProgramMetadata=function(t){t.addParameter(e.FirstAidShell.PARAM_COMMAND,"What command to run");t.addOption(e.FirstAidShell.INVOKE_INDEX,"QM index to invoke on",null,e.XValueType.INTEGER);t.addOption(e.FirstAidShell.INVOKE_METHOD,"QM method to invoke",null,e.XValueType.STRING)};e.FirstAidShell.prototype.printHelp=function(){this.println(e.XStringUtils.concatenate2(e.FirstAidShell.COMMAND_LIST," -> list all QueryManagers"));this.println(e.XStringUtils.concatenate2(e.FirstAidShell.COMMAND_INVOKE," -> invoke method on QueryManager - aid invoke -i <index> -m <name>"))};e.FirstAidShell.prototype.printInvoke=function(){let t=this.getQueryManagers();let i=this.getArguments().getIntegerByKeyExt(e.FirstAidShell.INVOKE_INDEX,-1);if(i<0){this.println("No valid index")}else if(i>=t.size()){this.println("Index out of bounds")}else{let o=this.getArguments().getStringByKey(e.FirstAidShell.INVOKE_METHOD);let n=e.FAReflectionEngine.createEngine(t.get(i));let a=n.invoke(o);if(a.hasErrors()){this.println(a.getSummary());return}this.println(a.getData().toString())}};e.FirstAidShell.prototype.printQmTable=function(){let t=this.getQueryManagers();for(let i=0;i<t.size();i++){let o=t.get(i);let n=e.XStringBuffer.create();n.appendInt(i).append(" ");n.append(o.getName()).append(" ");n.append(o.getDataSource().getFullQualifiedName()).append(" ");this.println(n.toString())}};e.FirstAidShell.prototype.processArguments=function(e){};e.FirstAidShell.prototype.processConfiguration=function(e){};e.FirstAidShell.prototype.runProcess=function(){let t=this.getArguments().getStringByKey(e.FirstAidShell.PARAM_COMMAND);if(e.XStringUtils.isNullOrEmpty(t)){this.printHelp()}else if(e.XString.isEqual(t,e.FirstAidShell.COMMAND_LIST)){this.printQmTable()}else if(e.XString.isEqual(t,e.FirstAidShell.COMMAND_INVOKE)){this.printInvoke()}return false};e.FirstAidShell.prototype.setup=function(){e.DfProgram.prototype.setup.call(this)};e.OuQueryControllerCriticalErrorType=function(){};e.OuQueryControllerCriticalErrorType.prototype=new e.XConstant;e.OuQueryControllerCriticalErrorType.prototype._ff_c="OuQueryControllerCriticalErrorType";e.OuQueryControllerCriticalErrorType.DATA_PROVIDER_RELEASED=null;e.OuQueryControllerCriticalErrorType.MISSING_DATA_PROVIDER=null;e.OuQueryControllerCriticalErrorType.MISSING_DATA_SOURCE=null;e.OuQueryControllerCriticalErrorType.MISSING_QUERY_MANAGER=null;e.OuQueryControllerCriticalErrorType.QUERY_MANAGER_CREATION_FAILED=null;e.OuQueryControllerCriticalErrorType.QUERY_MANAGER_RELEASED=null;e.OuQueryControllerCriticalErrorType.staticSetup=function(){e.OuQueryControllerCriticalErrorType.MISSING_DATA_SOURCE=e.XConstant.setupName(new e.OuQueryControllerCriticalErrorType,"MissingDataSource");e.OuQueryControllerCriticalErrorType.QUERY_MANAGER_CREATION_FAILED=e.XConstant.setupName(new e.OuQueryControllerCriticalErrorType,"QueryManagerCreationFailed");e.OuQueryControllerCriticalErrorType.MISSING_QUERY_MANAGER=e.XConstant.setupName(new e.OuQueryControllerCriticalErrorType,"MissingQueryManager");e.OuQueryControllerCriticalErrorType.QUERY_MANAGER_RELEASED=e.XConstant.setupName(new e.OuQueryControllerCriticalErrorType,"QueryManagerReleased");e.OuQueryControllerCriticalErrorType.MISSING_DATA_PROVIDER=e.XConstant.setupName(new e.OuQueryControllerCriticalErrorType,"MissingDataProvider");e.OuQueryControllerCriticalErrorType.DATA_PROVIDER_RELEASED=e.XConstant.setupName(new e.OuQueryControllerCriticalErrorType,"DataProviderReleased")};e.OuQueryControllerMessage=function(){};e.OuQueryControllerMessage.prototype=new e.XConstant;e.OuQueryControllerMessage.prototype._ff_c="OuQueryControllerMessage";e.OuQueryControllerMessage.ERROR=null;e.OuQueryControllerMessage.FILTER_NOT_FULLY_SUPPORTED=null;e.OuQueryControllerMessage.INVALID_VARIABLE_VALUES=null;e.OuQueryControllerMessage.QUERY_DOES_NOT_CONTAIN_MEASURES=null;e.OuQueryControllerMessage.WARNING=null;e.OuQueryControllerMessage.createWithNameAndType=function(t,i){let o=e.XConstant.setupName(new e.OuQueryControllerMessage,t);o._setMessageType(i);return o};e.OuQueryControllerMessage.staticSetup=function(){e.OuQueryControllerMessage.WARNING=e.OuQueryControllerMessage.createWithNameAndType("Warning",e.UiMessageType.WARNING);e.OuQueryControllerMessage.ERROR=e.OuQueryControllerMessage.createWithNameAndType("Error",e.UiMessageType.ERROR);e.OuQueryControllerMessage.QUERY_DOES_NOT_CONTAIN_MEASURES=e.OuQueryControllerMessage.createWithNameAndType("QueryDoesNotContainMeasures",e.UiMessageType.WARNING);e.OuQueryControllerMessage.FILTER_NOT_FULLY_SUPPORTED=e.OuQueryControllerMessage.createWithNameAndType("FilterNotFullySupported",e.UiMessageType.WARNING);e.OuQueryControllerMessage.INVALID_VARIABLE_VALUES=e.OuQueryControllerMessage.createWithNameAndType("InvalidVariableValues",e.UiMessageType.ERROR)};e.OuQueryControllerMessage.prototype.m_messageType=null;e.OuQueryControllerMessage.prototype._setMessageType=function(t){this.m_messageType=t;if(e.isNull(this.m_messageType)){this.m_messageType=e.UiMessageType.INFORMATION}};e.OuQueryControllerMessage.prototype.getMessageType=function(){return this.m_messageType};e.OuQueryControllerSetupStep=function(){};e.OuQueryControllerSetupStep.prototype=new e.XConstant;e.OuQueryControllerSetupStep.prototype._ff_c="OuQueryControllerSetupStep";e.OuQueryControllerSetupStep.BEFORE_QUERY_MODEL_DESERIALIZATION=null;e.OuQueryControllerSetupStep.INITIAL_VARIABLE_DIALOG_PRESENTED=null;e.OuQueryControllerSetupStep.INITIAL_VARIABLE_SUBMIT_DONE=null;e.OuQueryControllerSetupStep.staticSetup=function(){e.OuQueryControllerSetupStep.BEFORE_QUERY_MODEL_DESERIALIZATION=e.XConstant.setupName(new e.OuQueryControllerSetupStep,"BeforeQueryModelDeserialization");e.OuQueryControllerSetupStep.INITIAL_VARIABLE_DIALOG_PRESENTED=e.XConstant.setupName(new e.OuQueryControllerSetupStep,"InitialVariableDialogPresented");e.OuQueryControllerSetupStep.INITIAL_VARIABLE_SUBMIT_DONE=e.XConstant.setupName(new e.OuQueryControllerSetupStep,"VariablesSubmitted")};e.OuQueryControllerStatus=function(){};e.OuQueryControllerStatus.prototype=new e.XConstant;e.OuQueryControllerStatus.prototype._ff_c="OuQueryControllerStatus";e.OuQueryControllerStatus.INITIAL=null;e.OuQueryControllerStatus.INIT_ERROR=null;e.OuQueryControllerStatus.IN_SYNC=null;e.OuQueryControllerStatus.NOT_IN_SYNC=null;e.OuQueryControllerStatus.SETUP_ERROR=null;e.OuQueryControllerStatus.SETUP_IN_PROGRESS=null;e.OuQueryControllerStatus.STATE_ERROR=null;e.OuQueryControllerStatus.SYNC_ERROR=null;e.OuQueryControllerStatus.SYNC_IN_PROGRESS=null;e.OuQueryControllerStatus.staticSetup=function(){e.OuQueryControllerStatus.INITIAL=e.XConstant.setupName(new e.OuQueryControllerStatus,"Initial");e.OuQueryControllerStatus.INIT_ERROR=e.XConstant.setupName(new e.OuQueryControllerStatus,"InitError");e.OuQueryControllerStatus.SETUP_IN_PROGRESS=e.XConstant.setupName(new e.OuQueryControllerStatus,"SetupInProgress");e.OuQueryControllerStatus.SETUP_ERROR=e.XConstant.setupName(new e.OuQueryControllerStatus,"SetupError");e.OuQueryControllerStatus.SYNC_IN_PROGRESS=e.XConstant.setupName(new e.OuQueryControllerStatus,"SyncInProgress");e.OuQueryControllerStatus.NOT_IN_SYNC=e.XConstant.setupName(new e.OuQueryControllerStatus,"NotInSync");e.OuQueryControllerStatus.IN_SYNC=e.XConstant.setupName(new e.OuQueryControllerStatus,"InSync");e.OuQueryControllerStatus.SYNC_ERROR=e.XConstant.setupName(new e.OuQueryControllerStatus,"SyncError");e.OuQueryControllerStatus.STATE_ERROR=e.XConstant.setupName(new e.OuQueryControllerStatus,"StateError")};e.OuUiMeasureInput=function(){};e.OuUiMeasureInput.prototype=new e.DfUiWidget;e.OuUiMeasureInput.prototype._ff_c="OuUiMeasureInput";e.OuUiMeasureInput.create=function(t,i,o){let n=new e.OuUiMeasureInput;n.m_dataProvider=o;n.m_queryManager=i;n.m_parentProcess=t;n.m_hideCumulatedMeasures=false;n.m_isSuggestionSelected=false;return n};e.OuUiMeasureInput.prototype.m_consumersHandler=null;e.OuUiMeasureInput.prototype.m_dataProvider=null;e.OuUiMeasureInput.prototype.m_filter=null;e.OuUiMeasureInput.prototype.m_hideCumulatedMeasures=false;e.OuUiMeasureInput.prototype.m_isSuggestionSelected=false;e.OuUiMeasureInput.prototype.m_parentProcess=null;e.OuUiMeasureInput.prototype.m_queryManager=null;e.OuUiMeasureInput.prototype.attachOnChange=function(t){this.m_consumersHandler.attachEventConsumer(e.UiEvent.ON_CHANGE.getName(),t)};e.OuUiMeasureInput.prototype.destroyWidget=function(){e.DfUiWidget.prototype.destroyView.call(this);this.m_dataProvider=e.XObjectExt.release(this.m_dataProvider);this.m_consumersHandler=e.XObjectExt.release(this.m_consumersHandler);this.m_filter=null};e.OuUiMeasureInput.prototype.detachOnChange=function(t){this.m_consumersHandler.detachEventConsumer(e.UiEvent.ON_CHANGE.getName(),t)};e.OuUiMeasureInput.prototype.fireOnChange=function(){this.m_consumersHandler.fireEvent(e.UiEvent.ON_CHANGE.getName(),this)};e.OuUiMeasureInput.prototype.focus=function(){return this.getView().focus()};e.OuUiMeasureInput.prototype.getConsumersOnChange=function(){return this.m_consumersHandler.getEventConsumers(e.UiEvent.ON_CHANGE.getName())};e.OuUiMeasureInput.prototype.getDisplayValue=function(){if(this.getValue()!==null){return e.QueryPresentationUtils.DESCRIPTION.getDisplayValueByType(this.getValue())}return""};e.OuUiMeasureInput.prototype.getLocalization=function(){return e.XLocalizationCenter.getCenter()};e.OuUiMeasureInput.prototype.getMeasureFromSelection=function(e){let t=e.get(0);return this.m_dataProvider.findMeasureByName(t.getName())};e.OuUiMeasureInput.prototype.getMeasureList=function(){let t=this.m_dataProvider.getMeasures();return e.isNull(this.m_filter)?t:e.XStream.of(t).filter(e=>this.m_filter(e)).collect(e.XStreamCollector.toList())};e.OuUiMeasureInput.prototype.getNewMeasureSuggestionItem=function(t){let i=this.getGenesis().newControl(e.UiType.DROPDOWN_ITEM);let o=e.QueryPresentationUtils.DESCRIPTION.getDisplayValueByType(t);o=e.XString.replace(e.XString.replace(o,"\r",""),"\n","");i.setText(o);i.setCustomObject(t);return i};e.OuUiMeasureInput.prototype.getValue=function(){return this.getView().getCustomObject()};e.OuUiMeasureInput.prototype.getWidgetControl=function(t){let i=t.newControl(e.UiType.INPUT);i.addCssClass("ffAuGdsCFMeasureInput");return i};e.OuUiMeasureInput.prototype.isSuggestionSelected=function(){return this.m_isSuggestionSelected};e.OuUiMeasureInput.prototype.layoutWidget=function(t){this.setupValueHelperDialog();this.setupSuggestions();t.registerOnSuggestionSelect(this);t.registerOnEditingEnd(e.UiLambdaEditingEndListener.create(i=>{let o=t.getValue();let n=this.getValue();if(e.notNull(n)&&e.isNull(o)){o=n.getText()}let a=null;if(e.notNull(o)){let t=this.m_dataProvider.findMeasureByDisplayName(o);if(t.isPresent()){if(e.notNull(n)&&e.XString.isEqual(n.getText(),t.get().getText())){a=n}else{a=t.get()}}}if(a!==n||e.isNull(a)){t.setCustomObject(a);this.m_isSuggestionSelected=false;this.fireOnChange()}}))};e.OuUiMeasureInput.prototype.onSuggestionSelect=function(e){if(e.getControl()===this.getView()){this.getView().setCustomObject(e.getSelectedItem().getCustomObject());this.m_isSuggestionSelected=true;this.fireOnChange()}};e.OuUiMeasureInput.prototype.resetValueState=function(){this.getView().setValueState(e.UiValueState.NONE)};e.OuUiMeasureInput.prototype.setEditable=function(e){this.getView().setEditable(e)};e.OuUiMeasureInput.prototype.setFilter=function(e){this.m_filter=e};e.OuUiMeasureInput.prototype.setHideCumulatedMeasures=function(e){this.m_hideCumulatedMeasures=e};e.OuUiMeasureInput.prototype.setMeasureInput=function(e){this.setValue(e);this.fireOnChange()};e.OuUiMeasureInput.prototype.setPlaceholder=function(e){this.getView().setPlaceholder(e)};e.OuUiMeasureInput.prototype.setValue=function(t){let i=this.getView();i.setCustomObject(t);if(e.isNull(t)){i.setValue(null)}else{i.setValue(e.QueryPresentationUtils.DESCRIPTION.getDisplayValueByType(t))}};e.OuUiMeasureInput.prototype.setValueState=function(e){this.getView().setValueState(e)};e.OuUiMeasureInput.prototype.setValueStateText=function(e){this.getView().setValueStateText(e)};e.OuUiMeasureInput.prototype.setupSuggestions=function(){let t=this.getView();t.registerOnLiveChange(e.UiLambdaLiveChangeListener.create(i=>{t.clearSuggestions();if(e.XStringUtils.isNotNullAndNotEmpty(t.getValue())){let i=e.XList.create();let o=this.getMeasureList();e.XCollectionUtils.forEach(o,e=>{i.add(this.getNewMeasureSuggestionItem(e))});t.addAllSuggestions(i);t.showSuggestions()}}))};e.OuUiMeasureInput.prototype.setupValueHelperDialog=function(){let t=this.getView();t.setShowValueHelp(true);t.registerOnValueHelpRequest(e.UiLambdaValueHelpRequestListener.create(i=>{let o=this.m_dataProvider.getMemberDimension().getName();let n=e.FilterDialogProgramRunnerFactory.createForDimension(this.m_parentProcess,this.m_queryManager,o,t.getPlaceholder());let a=e.PrFactory.createStructure();a.putBoolean(e.FilterDialog.PARAM_SELECTION_REQUIRED,true);a.putBoolean(e.FilterDialog.PARAM_HIDE_CUMULATED_MEASURES,this.m_hideCumulatedMeasures);n.setConfigStructure(a);if(this.getValue()!==null){let t=e.XList.create();let i=e.FilterDialogValueFactory.createValue(this.getValue().getName(),null,null);let o=this.m_dataProvider.getMemberDimension().getDimension().getHierarchyName();if(e.XStringUtils.isNotNullAndNotEmpty(o)){i.setHierarchyName(o)}t.add(i);n.getProgramStartData().putXObject(e.FilterDialog.PRG_DATA_DEFAULT_SELECTION,t)}n.getProgramStartData().putXObject(e.FilterDialog.PRG_DATA_LISTENER_CLOSE,e.FilterDialogLambdaCloseListener.create(e=>{let t=this.getMeasureFromSelection(e);if(t.isPresent()){this.setMeasureInput(t.get())}},null));n.runProgram()}))};e.OuUiMeasureInput.prototype.setupWidget=function(){this.m_consumersHandler=e.SuEventConsumerHandler.create()};e.DialogDisplayMode=function(){};e.DialogDisplayMode.prototype=new e.XConstant;e.DialogDisplayMode.prototype._ff_c="DialogDisplayMode";e.DialogDisplayMode.DIALOG=null;e.DialogDisplayMode.NAVIGATION=null;e.DialogDisplayMode.PAGE=null;e.DialogDisplayMode.staticSetup=function(){e.DialogDisplayMode.DIALOG=e.XConstant.setupName(new e.DialogDisplayMode,"Dialog");e.DialogDisplayMode.NAVIGATION=e.XConstant.setupName(new e.DialogDisplayMode,"Navigation");e.DialogDisplayMode.PAGE=e.XConstant.setupName(new e.DialogDisplayMode,"Page")};e.DialogGridFormat=function(){};e.DialogGridFormat.prototype=new e.XConstant;e.DialogGridFormat.prototype._ff_c="DialogGridFormat";e.DialogGridFormat.COMMA=null;e.DialogGridFormat.EXCEL=null;e.DialogGridFormat.SEMICOLON=null;e.DialogGridFormat.create=function(t,i,o){let n=new e.DialogGridFormat;n._setupInternal(t);n.m_separatorSymbol=i;n.m_decoratorSymbol=o;return n};e.DialogGridFormat.staticSetup=function(){e.DialogGridFormat.SEMICOLON=e.DialogGridFormat.create("Semicolon",";"," ");e.DialogGridFormat.COMMA=e.DialogGridFormat.create("Comma",","," ");e.DialogGridFormat.EXCEL=e.DialogGridFormat.create("Excel","\t","")};e.DialogGridFormat.prototype.m_decoratorSymbol=null;e.DialogGridFormat.prototype.m_separatorSymbol=null;e.DialogGridFormat.prototype.getDecoratorSymbol=function(){return this.m_decoratorSymbol};e.DialogGridFormat.prototype.getSeparatorSymbol=function(){return this.m_separatorSymbol};e.DialogLabelMode=function(){};e.DialogLabelMode.prototype=new e.XConstant;e.DialogLabelMode.prototype._ff_c="DialogLabelMode";e.DialogLabelMode.KEY=null;e.DialogLabelMode.KEY_AND_TEXT=null;e.DialogLabelMode.TEXT=null;e.DialogLabelMode.staticSetup=function(){e.DialogLabelMode.KEY=e.XConstant.setupName(new e.DialogLabelMode,"Key");e.DialogLabelMode.TEXT=e.XConstant.setupName(new e.DialogLabelMode,"Text");e.DialogLabelMode.KEY_AND_TEXT=e.XConstant.setupName(new e.DialogLabelMode,"KeyAndText")};e.QueryPresentationUtils=function(){};e.QueryPresentationUtils.prototype=new e.XConstant;e.QueryPresentationUtils.prototype._ff_c="QueryPresentationUtils";e.QueryPresentationUtils.DESCRIPTION=null;e.QueryPresentationUtils.DESCRIPTION_AND_ID=null;e.QueryPresentationUtils.ID=null;e.QueryPresentationUtils.ID_AND_DESCRIPTION=null;e.QueryPresentationUtils.PREFIX=" (";e.QueryPresentationUtils.SUFFIX=")";e.QueryPresentationUtils.staticSetup=function(){e.QueryPresentationUtils.ID=e.XConstant.setupName(new e.QueryPresentationUtils,"id");e.QueryPresentationUtils.DESCRIPTION=e.XConstant.setupName(new e.QueryPresentationUtils,"description");e.QueryPresentationUtils.ID_AND_DESCRIPTION=e.XConstant.setupName(new e.QueryPresentationUtils,"idAndDescription");e.QueryPresentationUtils.DESCRIPTION_AND_ID=e.XConstant.setupName(new e.QueryPresentationUtils,"descriptionAndId")};e.QueryPresentationUtils.prototype.composeDisplayStrings=function(t,i){if(this===e.QueryPresentationUtils.ID){return t}else if(this===e.QueryPresentationUtils.DESCRIPTION){if(e.XStringUtils.isNullOrEmpty(i)){return t}return i}else if(this===e.QueryPresentationUtils.ID_AND_DESCRIPTION){return e.XStringUtils.concatenate4(t,e.QueryPresentationUtils.PREFIX,i,e.QueryPresentationUtils.SUFFIX)}else if(this===e.QueryPresentationUtils.DESCRIPTION_AND_ID){return e.XStringUtils.concatenate4(i,e.QueryPresentationUtils.PREFIX,t,e.QueryPresentationUtils.SUFFIX)}throw e.XException.createIllegalArgumentException("unknown presentation type")};e.QueryPresentationUtils.prototype.getDisplayValueByType=function(t){let i;if(e.OlapUiDimensionUtil.isMember(t)){let o=e.OlapUiDimensionUtil.getMember(t);i=o.getDimension();let n=null;let a=o.getDisplayDescription();let r=o.getFieldValue(i.getDisplayKeyField());if(e.notNull(r)){n=r.getValue().getStringRepresentation()}let l=o.getSession().hasFeature(e.FeatureToggleOlap.PREVENT_TECHNICAL_KEYS_IN_UI);if(l&&e.XStringUtils.isNullOrEmpty(n)&&o.getMemberType()!==e.MemberType.FORMULA){n=this.getLocalizationProvider().getText(e.OlapUiCommonI18n.COMMON_MEMBER_WITHOUT_ID_TITLE)}else if(e.XStringUtils.isNullOrEmpty(n)||o.isDisplayNameSet()){n=o.getDisplayName()}return this.composeDisplayStrings(n,a)}if(e.OlapUiDimensionUtil.isDimension(t)){i=t;return this.composeDisplayStrings(i.getDisplayName(),i.getDisplayDescription())}if(e.OlapUiDimensionUtil.isAttribute(t)){let e=t;return this.composeDisplayStrings(e.getDisplayName(),e.getDisplayDescription())}return this.composeDisplayStrings(t.getName(),null)};e.QueryPresentationUtils.prototype.getLocalizationProvider=function(){return e.XLocalizationCenter.getCenter().getLocalizationProviderByName(e.OlapUiCommonI18n.PROVIDER_NAME)};e.OuAxesView=function(){};e.OuAxesView.prototype=new e.DfUiContentView;e.OuAxesView.prototype._ff_c="OuAxesView";e.OuAxesView.UI_CONTEXT="Gds.Qb.Builder.ContextMenu";e.OuAxesView.createView=function(t,i,o){let n=new e.OuAxesView;n.m_process=t;n.m_config=o;n.m_presentation=o.getDefaultPresentation();n.initView(i);return n};e.OuAxesView.prototype.m_activeDisplayType=null;e.OuAxesView.prototype.m_activeView=null;e.OuAxesView.prototype.m_chartView=null;e.OuAxesView.prototype.m_config=null;e.OuAxesView.prototype.m_dataProvider=null;e.OuAxesView.prototype.m_dropdown=null;e.OuAxesView.prototype.m_dropdownWrapper=null;e.OuAxesView.prototype.m_gridView=null;e.OuAxesView.prototype.m_onChange=null;e.OuAxesView.prototype.m_presentation=null;e.OuAxesView.prototype.m_process=null;e.OuAxesView.prototype.m_root=null;e.OuAxesView.prototype.m_scrollContainer=null;e.OuAxesView.prototype.m_showDisplayType=false;e.OuAxesView.prototype._activateGridView=function(){let t=e.XCollectionUtils.findFirst(this.m_dropdown.getItems(),t=>t.getCustomObject()===e.OuAxesViewDisplayType.GRID);this._setActiveView(this.m_gridView);this.m_dropdown.setSelectedItem(t);this.m_activeDisplayType=e.OuAxesViewDisplayType.GRID;if(e.notNull(this.m_chartView)){this.m_chartView.removeAddedHeaderElements()}};e.OuAxesView.prototype._changeVizDisplayType=function(t,i){let o=this.getQueryManager().getQueryModel().getVisualizationManager();this.m_activeDisplayType=t.getCustomObject();let n=this.m_activeDisplayType.getVisualizationType();if(e.XStringUtils.isNullOrEmpty(i)){let t;let i;if(this.m_activeDisplayType===e.OuAxesViewDisplayType.GRID){let n=e.XCollectionUtils.findFirst(o.getVisualizationDefinitions(),t=>t.getProtocolBindingType()===e.ProtocolBindingType.SAC_TABLE_GRID);t=this.m_gridView;i=n}else{let e=this.m_activeDisplayType.getChartType();let o=this._getOrCreateChartDefinition(e);this.m_chartView.setChartDefinition(o);t=this.m_chartView;i=o}let a=this._setActiveVisualization(i,o);a.onThen(e=>{if(this.m_activeView!==t){this.m_activeView=t}this._notifyChangeListeners(n)}).onCatch(t=>{e.XLogger.printError(e.XStringUtils.concatenate2("Error changing display type : ",t.getText()));this._updateActiveView()})}else{this._switchToExistingVisualization(i)}};e.OuAxesView.prototype._getLocalizationProvider=function(){return e.XLocalizationCenter.getCenter().getLocalizationProviderByName(e.OuAxesViewI18n.PROVIDER_NAME)};e.OuAxesView.prototype._getOrCreateChartDefinition=function(t){let i=this.getQueryManager().getQueryModel().getVisualizationManager();let o=e.VisualizationType.CHART.getDefaultProtocolBindingType();let n=null;if(this.m_config.shouldUseExistingVisualizations()){n=e.XCollectionUtils.findFirst(i.getVisualizationDefinitions(),e=>e.getProtocolBindingType()===o)}if(e.isNull(n)){let a=e.XStringUtils.concatenate2("chart_setting_",t.getName());n=i.getOrCreateVisualisationDefinition(a,o,e.SemanticBindingType.CHART)}let a=n.getChartSetting();a.setChartType(t);if(a.getChartType().isSingleMeasureChartType()){let t=(t,i)=>{let o=a.getChartType().getName();let n=this._getLocalizationProvider().getTextWithPlaceholder2(e.OuAxesViewI18n.BUILDER_TOAST_MEMBERS_REMOVED,o,i);let r=this.m_config.getToastPresenter();if(e.notNull(r)){r.showWarningToast(n)}else{e.XLogger.println(n)}};a.setToastPresenter(t)}return n};e.OuAxesView.prototype._notifyChangeListeners=function(t){if(e.notNull(this.m_onChange)){this.m_onChange(t)}if(e.notNull(this.m_dataProvider)){this.m_dataProvider.getEventing().notifyExternalModelChange(null)}};e.OuAxesView.prototype._setActiveView=function(e){this.m_activeView=e;this.m_activeView.updateUi();this.m_activeView.setPresentation(this.m_presentation);this.m_scrollContainer.setContent(this.m_activeView.getView())};e.OuAxesView.prototype._setActiveVisualization=function(t,i){let o;if(e.notNull(this.m_dataProvider)&&this.m_config.shouldFireVisualizationChangedEvent()){o=this.m_dataProvider.getActions().getVisualizationActions().setActiveVisualizationDefinition(t.getName())}else{o=e.XPromise.create((o,n)=>{try{i.setCurrentActiveVisualizationDefinition(t);o(null)}catch(t){n(e.XError.createWithThrowable(t))}})}return o};e.OuAxesView.prototype._switchToExistingVisualization=function(t){let i=this.getQueryManager();if(e.notNull(i)){let o=i.getQueryModel().getVisualizationManager();let n=o.getVisualizationDefinitionByName(t);let a=this.m_activeDisplayType.getVisualizationType();if(a===e.VisualizationType.GRID){this._setActiveView(this.m_gridView)}else if(a===e.VisualizationType.CHART){this.m_chartView.setChartDefinition(n);this._setActiveView(this.m_chartView)}}else{e.XLogger.println(e.XStringUtils.concatenate2("Data Provider not initialized. Cannot switch to visualization : ",t))}};e.OuAxesView.prototype._updateActiveView=function(){if(this.getQueryManager()===null){this._activateGridView();return}let t=this.getQueryManager().getQueryModel().getVisualizationManager();let i=t.getCurrentActiveVisualizationDefinition();if(e.isNull(i)||i.getSemanticBindingType()===e.SemanticBindingType.TABLE){this._activateGridView()}else{let t=i;let o=t.getChartSetting().getChartType();let n=e.XCollectionUtils.findFirst(this.m_dropdown.getItems(),e=>e.getCustomObject().getChartType()===o);if(e.notNull(n)){this.m_dropdown.setSelectedItem(n);this.m_activeDisplayType=e.OuAxesViewDisplayType.lookup(o.getName())}this.m_chartView.setChartDefinition(t);this._setActiveView(this.m_chartView)}};e.OuAxesView.prototype._updateDisplayTypeVisibility=function(){let t=this.m_showDisplayType;let i=this.getQueryManager();if(t&&e.notNull(i)){if(i.getQueryModel().isUniversalAccountModel()){t=this.m_config.isChartingPhase2Enabled()}else if(i.getQueryModel().isAccountModel()){t=false}}this.m_dropdownWrapper.setVisible(t)};e.OuAxesView.prototype.buildViewUi=function(t){this.m_root=t.newRoot(e.UiType.FLEX_LAYOUT);this.m_root.addCssClass("ffAxesView");this.m_root.setDirection(e.UiFlexDirection.COLUMN);if(this.m_config.isChartingEnabled()){this.m_showDisplayType=true;let t=this._getLocalizationProvider();this.m_dropdownWrapper=this.m_root.addNewItemOfType(e.UiType.FLEX_LAYOUT);this.m_dropdownWrapper.addCssClass("ffAxesViewVisualizationDropdownContainer");this.m_dropdownWrapper.setPadding(e.UiCssBoxEdges.create("0.75rem 0.375rem"));this.m_dropdownWrapper.setFlex("0 0 auto");this.m_dropdownWrapper.setAlignItems(e.UiFlexAlignItems.CENTER);this.m_dropdownWrapper.setDirection(e.UiFlexDirection.COLUMN);this.m_dropdownWrapper.setHeight(e.UiCssLength.AUTO);let i=this.m_dropdownWrapper.addNewItemOfType(e.UiType.LABEL);i.setText(t.getText(e.OuAxesViewI18n.BUILDER_DISPLAY_TYPE));i.setTextAlign(e.UiTextAlign.LEFT);i.setAlignSelf(e.UiFlexAlignSelf.START);i.setFlex("0 0 auto");i.setPadding(e.UiCssBoxEdges.create("0 0 0.25rem 0"));this.m_dropdown=this.m_dropdownWrapper.addNewItemOfType(e.UiType.DROPDOWN);this.m_dropdown.addCssClass("ffAxesViewVisualizationDropdown");this.m_dropdown.useMaxWidth();this.m_dropdown.setFlex("0 0 auto");i.setLabelFor(this.m_dropdown);e.XCollectionUtils.forEach(this.m_config.getSupportedDisplayTypes(),e=>{let i=this.m_dropdown.addNewItem();i.setText(t.getText(e.getI18nKey()));i.setIcon(e.getIcon());i.setCustomObject(e)});this.m_dropdown.registerOnSelect(e.UiLambdaSelectListener.create(e=>{let t=e.getSelectedItem();this._changeVizDisplayType(t,null)}))}this.m_gridView=e.OuGridAxesView.createView(this.m_process,t,this.m_config);this.m_chartView=e.OuChartAxesView.createView(this.m_process,t,this.m_config);this.m_chartView.setHeaderLayout(this.m_dropdownWrapper);this.m_activeView=this.m_gridView;this.m_scrollContainer=this.m_root.addNewItemOfType(e.UiType.SCROLL_CONTAINER);this.m_scrollContainer.useMaxHeight();this.m_scrollContainer.addCssClass("ffAxesViewMainContainer")};e.OuAxesView.prototype.destroyView=function(){this.m_dropdown=e.XObjectExt.release(this.m_dropdown);this.m_dropdownWrapper=e.XObjectExt.release(this.m_dropdownWrapper);this.m_gridView=e.XObjectExt.release(this.m_gridView);this.m_chartView=e.XObjectExt.release(this.m_chartView);this.m_scrollContainer=e.XObjectExt.release(this.m_scrollContainer);this.m_root=e.XObjectExt.release(this.m_root);this.m_activeView=null;this.m_onChange=null;this.m_dataProvider=null;this.m_presentation=null;this.m_config=null;this.m_activeDisplayType=null};e.OuAxesView.prototype.dragEnd=function(){this.m_activeView.dragEnd()};e.OuAxesView.prototype.dragStartModelComponent=function(e){this.m_activeView.dragStartModelComponent(e)};e.OuAxesView.prototype.expandDimension=function(e){this.m_activeView.expandDimension(e)};e.OuAxesView.prototype.expandMember=function(e,t){this.m_activeView.expandMember(e,t)};e.OuAxesView.prototype.getDataProvider=function(){return this.m_dataProvider};e.OuAxesView.prototype.getProcess=function(){return this.m_config.getApplication().getProcess()};e.OuAxesView.prototype.getQueryManager=function(){return e.notNull(this.m_dataProvider)?this.m_dataProvider.getQueryManager():null};e.OuAxesView.prototype.getSession=function(){return this.m_config.getApplication().getProcess()};e.OuAxesView.prototype.setDataProvider=function(e){this.m_dataProvider=e;this._updateDisplayTypeVisibility();this.m_gridView.setDataProvider(this.m_dataProvider);this.m_chartView.setDataProvider(this.m_dataProvider);this._updateActiveView()};e.OuAxesView.prototype.setDisplayTypeForVisualization=function(t,i){let o=e.XCollectionUtils.findFirst(this.m_dropdown.getItems(),e=>e.getCustomObject()===t);if(e.notNull(o)){this.m_dropdown.setSelectedItem(o);this._changeVizDisplayType(o,i)}};e.OuAxesView.prototype.setDisplayTypeVisibility=function(e){this.m_showDisplayType=e;this._updateDisplayTypeVisibility()};e.OuAxesView.prototype.setOnChange=function(e){this.m_onChange=e;this.m_gridView.setOnChange(e);this.m_chartView.setOnChange(e)};e.OuAxesView.prototype.setPresentation=function(e){this.m_presentation=e;this.m_activeView.setPresentation(e)};e.OuAxesView.prototype.setQueryManager=e.noSupport;e.OuAxesView.prototype.setupView=function(){this.m_dropdownWrapper=e.UiContextDummy.getSingleton();this.m_dropdown=e.UiContextDummy.getSingleton()};e.OuAxesView.prototype.updateUi=function(){this._updateActiveView()};e.OuAxesViewDisplayType=function(){};e.OuAxesViewDisplayType.prototype=new e.XConstant;e.OuAxesViewDisplayType.prototype._ff_c="OuAxesViewDisplayType";e.OuAxesViewDisplayType.BAR=null;e.OuAxesViewDisplayType.COLUMN=null;e.OuAxesViewDisplayType.COLUMN_LINE=null;e.OuAxesViewDisplayType.DOUGHNUT=null;e.OuAxesViewDisplayType.GRID=null;e.OuAxesViewDisplayType.LINE=null;e.OuAxesViewDisplayType.PIE=null;e.OuAxesViewDisplayType.STACKED_AREA=null;e.OuAxesViewDisplayType.STACKED_BAR=null;e.OuAxesViewDisplayType.STACKED_COLUMN=null;e.OuAxesViewDisplayType.STACKED_COLUMN_LINE=null;e.OuAxesViewDisplayType.s_lookup=null;e.OuAxesViewDisplayType.create=function(t){return e.XConstant.setupName(new e.OuAxesViewDisplayType,t)};e.OuAxesViewDisplayType.createExt=function(t,i,o,n,a){let r=e.OuAxesViewDisplayType.create(t);r.m_i18nKey=i;r.m_icon=o;r.m_vizType=n;r.m_chartType=a;e.OuAxesViewDisplayType.s_lookup.put(t,r);return r};e.OuAxesViewDisplayType.getAllChartDisplayTypes=function(){return e.XCollectionUtils.filter(e.OuAxesViewDisplayType.s_lookup,e=>e.getChartType()!==null)};e.OuAxesViewDisplayType.lookup=function(t){return e.OuAxesViewDisplayType.s_lookup.getByKey(t)};e.OuAxesViewDisplayType.staticSetup=function(){if(e.isNull(e.OuAxesViewDisplayType.s_lookup)){e.OuAxesViewDisplayType.s_lookup=e.XHashMapByString.create();e.OuAxesViewDisplayType.GRID=e.OuAxesViewDisplayType.createExt(e.SemanticBindingType.GRID.getName(),e.OuAxesViewI18n.BUILDER_GRID_OPTION,"table-view",e.VisualizationType.GRID,null);e.OuAxesViewDisplayType.BAR=e.OuAxesViewDisplayType.createExt(e.ChartType.BAR.getName(),e.OuAxesViewI18n.BUILDER_BAR_OPTION,e.ChartType.BAR.getIcon(),e.VisualizationType.CHART,e.ChartType.BAR);e.OuAxesViewDisplayType.COLUMN=e.OuAxesViewDisplayType.createExt(e.ChartType.COLUMN.getName(),e.OuAxesViewI18n.BUILDER_COLUMN_OPTION,e.ChartType.COLUMN.getIcon(),e.VisualizationType.CHART,e.ChartType.COLUMN);e.OuAxesViewDisplayType.STACKED_BAR=e.OuAxesViewDisplayType.createExt(e.ChartType.STACKED_BAR.getName(),e.OuAxesViewI18n.BUILDER_STACKED_BAR_OPTION,e.ChartType.STACKED_BAR.getIcon(),e.VisualizationType.CHART,e.ChartType.STACKED_BAR);e.OuAxesViewDisplayType.STACKED_COLUMN=e.OuAxesViewDisplayType.createExt(e.ChartType.STACKED_COLUMN.getName(),e.OuAxesViewI18n.BUILDER_STACKED_COLUMN_OPTION,e.ChartType.STACKED_COLUMN.getIcon(),e.VisualizationType.CHART,e.ChartType.STACKED_COLUMN);e.OuAxesViewDisplayType.LINE=e.OuAxesViewDisplayType.createExt(e.ChartType.LINE.getName(),e.OuAxesViewI18n.BUILDER_LINE_OPTION,e.ChartType.LINE.getIcon(),e.VisualizationType.CHART,e.ChartType.LINE);e.OuAxesViewDisplayType.PIE=e.OuAxesViewDisplayType.createExt(e.ChartType.PIE.getName(),e.OuAxesViewI18n.BUILDER_PIE_OPTION,e.ChartType.PIE.getIcon(),e.VisualizationType.CHART,e.ChartType.PIE);e.OuAxesViewDisplayType.DOUGHNUT=e.OuAxesViewDisplayType.createExt(e.ChartType.DOUGHNUT.getName(),e.OuAxesViewI18n.BUILDER_DONUT_OPTION,e.ChartType.DOUGHNUT.getIcon(),e.VisualizationType.CHART,e.ChartType.DOUGHNUT);e.OuAxesViewDisplayType.STACKED_AREA=e.OuAxesViewDisplayType.createExt(e.ChartType.AREA.getName(),e.OuAxesViewI18n.BUILDER_STACKED_AREA_OPTION,e.ChartType.AREA.getIcon(),e.VisualizationType.CHART,e.ChartType.AREA);e.OuAxesViewDisplayType.COLUMN_LINE=e.OuAxesViewDisplayType.createExt(e.ChartType.COMB_COLUMN_LINE.getName(),e.OuAxesViewI18n.BUILDER_COLUMN_LINE_OPTION,e.ChartType.COMB_COLUMN_LINE.getIcon(),e.VisualizationType.CHART,e.ChartType.COMB_COLUMN_LINE);e.OuAxesViewDisplayType.STACKED_COLUMN_LINE=e.OuAxesViewDisplayType.createExt(e.ChartType.COMB_STACKED_COLUMN_LINE.getName(),e.OuAxesViewI18n.BUILDER_STACKED_COLUMN_LINE_OPTION,e.ChartType.COMB_STACKED_COLUMN_LINE.getIcon(),e.VisualizationType.CHART,e.ChartType.COMB_STACKED_COLUMN_LINE)}};e.OuAxesViewDisplayType.prototype.m_chartType=null;e.OuAxesViewDisplayType.prototype.m_i18nKey=null;e.OuAxesViewDisplayType.prototype.m_icon=null;e.OuAxesViewDisplayType.prototype.m_vizType=null;e.OuAxesViewDisplayType.prototype.getChartType=function(){return this.m_chartType};e.OuAxesViewDisplayType.prototype.getI18nKey=function(){return this.m_i18nKey};e.OuAxesViewDisplayType.prototype.getIcon=function(){return this.m_icon};e.OuAxesViewDisplayType.prototype.getVisualizationType=function(){return this.m_vizType};e.OuChartAxesView=function(){};e.OuChartAxesView.prototype=new e.DfUiContentView;e.OuChartAxesView.prototype._ff_c="OuChartAxesView";e.OuChartAxesView.createView=function(t,i,o){let n=new e.OuChartAxesView;n.m_process=t;n.m_config=o;n.initView(i);return n};e.OuChartAxesView.prototype.m_accountsPanel=null;e.OuChartAxesView.prototype.m_allEventId=null;e.OuChartAxesView.prototype.m_allPanels=null;e.OuChartAxesView.prototype.m_chartCommands=null;e.OuChartAxesView.prototype.m_chartDefinition=null;e.OuChartAxesView.prototype.m_chartOrientation=null;e.OuChartAxesView.prototype.m_colorPanel=null;e.OuChartAxesView.prototype.m_columnPanel=null;e.OuChartAxesView.prototype.m_config=null;e.OuChartAxesView.prototype.m_controller=null;e.OuChartAxesView.prototype.m_dataProvider=null;e.OuChartAxesView.prototype.m_defaultDropCondition=null;e.OuChartAxesView.prototype.m_defaultDropInfoHead=null;e.OuChartAxesView.prototype.m_defaultDropInfoListBetween=null;e.OuChartAxesView.prototype.m_dimensionsPanel=null;e.OuChartAxesView.prototype.m_dimensionsPanelLabel=null;e.OuChartAxesView.prototype.m_focusMoreButton=false;e.OuChartAxesView.prototype.m_focusedDim=null;e.OuChartAxesView.prototype.m_headerLayout=null;e.OuChartAxesView.prototype.m_kfsWillBeMeasures=false;e.OuChartAxesView.prototype.m_leftRightPanel=null;e.OuChartAxesView.prototype.m_linePanel=null;e.OuChartAxesView.prototype.m_measurePanel=null;e.OuChartAxesView.prototype.m_onChange=null;e.OuChartAxesView.prototype.m_orientationDropdown=null;e.OuChartAxesView.prototype.m_overlapYAxisCheckBox=null;e.OuChartAxesView.prototype.m_overlapYAxisLayout=null;e.OuChartAxesView.prototype.m_panelExpansion=null;e.OuChartAxesView.prototype.m_process=null;e.OuChartAxesView.prototype.m_root=null;e.OuChartAxesView.prototype.m_show100PCCheckBox=null;e.OuChartAxesView.prototype.m_show100PCCheckBoxLayout=null;e.OuChartAxesView.prototype.m_supportedVisualizations=null;e.OuChartAxesView.prototype.m_yLeftPanel=null;e.OuChartAxesView.prototype.m_yLeftyRightWrapperLabel=null;e.OuChartAxesView.prototype.m_yRightPanel=null;e.OuChartAxesView.prototype._observeDataProviderEvents=function(){if(e.notNull(this.m_dataProvider)){this.m_allEventId=this.m_dataProvider.getEventing().getListenerForAll().addConsumer(this.onAnyDataProviderEvent.bind(this))}};e.OuChartAxesView.prototype._unobserveDataProviderEvents=function(){if(e.notNull(this.m_dataProvider)){this.m_dataProvider.getEventing().getListenerForAll().removeConsumerByUuid(this.m_allEventId);this.m_allEventId=null}};e.OuChartAxesView.prototype.addChartOrientation=function(){if(!this.m_config.isChartingPhase2Enabled()){let t=this.getLocalizationProvider();this.m_chartOrientation=this.m_root.addNewItemOfType(e.UiType.FLEX_LAYOUT);this.m_chartOrientation.setDirection(e.UiFlexDirection.COLUMN);this.m_chartOrientation.addCssClass("ffAxesViewVisualizationDropdownContainer");this.m_chartOrientation.setPadding(e.UiCssBoxEdges.create("10 0.375rem"));this.m_chartOrientation.setAlignItems(e.UiFlexAlignItems.START);this.m_chartOrientation.setJustifyContent(e.UiFlexJustifyContent.SPACE_BETWEEN);let i=this.m_chartOrientation.addNewItemOfType(e.UiType.FLEX_LAYOUT);let o=i.addNewItemOfType(e.UiType.LABEL);o.setText(t.getText(e.OuAxesViewI18n.BUILDER_CHART_ORIENTATION));o.setFlex("1");let n=this.m_chartOrientation.addNewItemOfType(e.UiType.FLEX_LAYOUT);n.setDirection(e.UiFlexDirection.COLUMN);n.useMaxWidth();n.setFlex("2");this.m_orientationDropdown=n.addNewItemOfType(e.UiType.DROPDOWN);this.m_orientationDropdown.useMaxWidth();let a=this.m_orientationDropdown.addNewItem();a.setText(t.getText(e.OuAxesViewI18n.BUILDER_CHART_ORIENTATION_HORIZONTAL));a.setIcon("fpa/bar-rows");a.setName(e.ChartOrientation.HORIZONTAL.getName());a.setCustomObject(e.ChartOrientation.HORIZONTAL);let r=this.m_orientationDropdown.addNewItem();r.setText(t.getText(e.OuAxesViewI18n.BUILDER_CHART_ORIENTATION_VERTICAL));r.setIcon("fpa/bar-columns");r.setName(e.ChartOrientation.VERTICAL.getName());r.setCustomObject(e.ChartOrientation.VERTICAL);this.m_orientationDropdown.registerOnSelect(e.UiLambdaSelectListener.create(e=>{let t=e.getSelectedItem().getCustomObject();let i=this.m_chartCommands.getChartOrientation();if(t!==i){this.m_chartCommands.setChartOrientation(t);this.notifyChangeListeners()}}))}};e.OuChartAxesView.prototype.addDimensionPanel=function(t,i,o){let n=this.getDimensionPanelListConfig();let a=e.OuDimensionPanelList.createDimensionPanelList(this.m_process,this.getGenesis(),this,n);a.setDragStartModelComponent(this.dragStartModelComponent.bind(this));a.setDragEnd(this.dragEnd.bind(this));a.getMenuButton().setVisible(false);a.setCustomObject(o);this.configurePanel(t,a,i);return a};e.OuChartAxesView.prototype.addMeasurePanelForLineCharts=function(){this.m_leftRightPanel=this.m_root.addNewItemOfType(e.UiType.PANEL);this.m_leftRightPanel.removeAttribute(e.UtUi5AttributeConstants.FAST_NAV_GROUP);this.m_leftRightPanel.addCssClass("ffGdsQbFoldable");this.m_leftRightPanel.setExpandable(true);this.m_leftRightPanel.setExpanded(true);this.m_leftRightPanel.setBackgroundDesign(e.UiBackgroundDesign.TRANSPARENT);let t=this.m_leftRightPanel.setNewHeaderToolbar();t.removeAttribute(e.UtUi5AttributeConstants.FAST_NAV_GROUP);this.m_yLeftyRightWrapperLabel=t.addNewItemOfType(e.UiType.LABEL);this.m_yLeftyRightWrapperLabel.setFontSize(e.UiCssLength.create("1.125rem"));this.m_yLeftyRightWrapperLabel.setMargin(e.UiCssBoxEdges.create("0"));this.m_yLeftyRightWrapperLabel.setText(this.getLocalizationProvider().getText(e.OlapUiCommonI18n.COMMON_MEASURES))};e.OuChartAxesView.prototype.addOverlapYAxisCheckBox=function(){let t=this.m_dataProvider.getQueryManager().getQueryModel().getVisualizationManager().getCurrentActiveVisualizationDefinition();let i=t.getProtocolBindingType().isTypeOf(e.ProtocolBindingType.SAC_TABLE_GRID);if(e.notNull(this.m_headerLayout)&&e.isNull(this.m_overlapYAxisLayout)&&!i){this.m_overlapYAxisLayout=this.m_headerLayout.addNewItemOfType(e.UiType.FLEX_LAYOUT);this.m_overlapYAxisLayout.setPadding(e.UiCssBoxEdges.create("0 0 0.25rem 0"));this.m_overlapYAxisLayout.setDirection(e.UiFlexDirection.ROW);this.m_overlapYAxisLayout.useMaxWidth();this.m_overlapYAxisLayout.setAlignSelf(e.UiFlexAlignSelf.FLEX_START);this.m_overlapYAxisLayout.setAlignContent(e.UiFlexAlignContent.START);this.m_overlapYAxisLayout.setFlex("0 0 auto");this.m_overlapYAxisLayout.addCssClass("ffOverlapYAxisCheckBoxContainer");this.m_overlapYAxisCheckBox=this.m_overlapYAxisLayout.addNewItemOfType(e.UiType.CHECKBOX);this.m_overlapYAxisCheckBox.registerOnChange(e.UiLambdaChangeListener.create(e=>{let t=e.getControl();this.setOverlapYAxis(t.isChecked());this.notifyChangeListeners()}));let t=this.m_overlapYAxisLayout.addNewItemOfType(e.UiType.LABEL);t.setText(this.getLocalizationProvider().getText(e.OuAxesViewI18n.BUILDER_OVERLAP_Y_AXIS));t.setAlignSelf(e.UiFlexAlignSelf.CENTER);t.setFlex("0 0 auto")}};e.OuChartAxesView.prototype.addPanel=function(t,i){let o=this.getDimensionPanelListConfig();o.setOnMemberItemCreated(e=>{e.getRoot().addCssClass("ffChartAxesChildItem");e.getRemoveButton().addCssClass("ffChartAxesRemoveButton")});let n=e.OuDimensionPanelList.createDimensionPanelList(this.m_process,this.getGenesis(),this,o);n.setDragStartModelComponent(this.dragStartModelComponent.bind(this));n.setDragEnd(this.dragEnd.bind(this));n.getMenuButton().setVisible(false);this.configurePanel(t,n,i);return n};e.OuChartAxesView.prototype.addPlaceholderItem=function(t,i){t.setVisible(true);let o=this.getLocalizationProvider();let n=this.getGenesis().newControl(e.UiType.CUSTOM_LIST_ITEM);n.addCssClass("ffGdsQbBuilderPanelChildItem");n.addCssClass("ffGdsQbChartPanelEmptyPlaceholder");n.setDraggable(false);let a=n.setNewContent(e.UiType.FLEX_LAYOUT);a.useMaxWidth();a.setDirection(e.UiFlexDirection.ROW);a.setOverflow(e.UiOverflow.HIDDEN);a.setAlignItems(e.UiFlexAlignItems.CENTER);a.setMinHeight(e.UiCssLength.create("2rem"));let r=a.addNewItemOfType(e.UiType.LABEL);r.setText(o.getText(i));r.setFontStyle(e.UiFontStyle.ITALIC);t.addItem(n)};e.OuChartAxesView.prototype.addShow100PCCheckBox=function(){this.m_show100PCCheckBoxLayout=this.m_root.addNewItemOfType(e.UiType.FLEX_LAYOUT);this.m_show100PCCheckBoxLayout.setPadding(e.UiCssBoxEdges.create("5 0.375rem 3"));this.m_show100PCCheckBoxLayout.setDirection(e.UiFlexDirection.ROW);this.m_show100PCCheckBoxLayout.setFlex("0 0 auto");this.m_show100PCCheckBox=this.m_show100PCCheckBoxLayout.addNewItemOfType(e.UiType.CHECKBOX);this.m_show100PCCheckBox.registerOnChange(e.UiLambdaChangeListener.create(t=>{let i=t.getControl();let o=i.isChecked()?e.ChartStackingType.PERCENT:e.ChartStackingType.NORMAL;this.getChartDefinition().getChartSetting().setChartStackingType(o);this.notifyChangeListeners()}));let t=this.m_show100PCCheckBoxLayout.addNewItemOfType(e.UiType.LABEL);t.setText(this.getLocalizationProvider().getText(e.OuAxesViewI18n.BUILDER_SHOW_AS_100_PERCENT));t.setAlignSelf(e.UiFlexAlignSelf.CENTER);t.setFlex("0 0 auto")};e.OuChartAxesView.prototype.buildViewUi=function(t){this.m_root=t.newRoot(e.UiType.FLEX_LAYOUT);this.m_root.addCssClass("ffChartAxesView");this.m_root.setDirection(e.UiFlexDirection.COLUMN);this.m_root.setHeight(e.UiCssLength.AUTO);let i=this.getLocalizationProvider();this.addChartOrientation();this.addShow100PCCheckBox();let o=this.m_config.isChartingPhase_3Enabled();let n=o?i.getText(e.OuAxesViewI18n.BUILDER_CHART_AXIS_Y):i.getText(e.OlapUiCommonI18n.COMMON_ACCOUNT);this.m_accountsPanel=this.addPanel(this.m_root,n);if(!o){this.addMeasurePanelForLineCharts();let t=this.m_leftRightPanel.setNewContent(e.UiType.FLEX_LAYOUT);t.setDirection(e.UiFlexDirection.COLUMN);this.m_yLeftPanel=this.addPanel(t,i.getText(e.OuAxesViewI18n.BUILDER_CHART_LINE_YLEFT));this.m_yRightPanel=this.addPanel(t,i.getText(e.OuAxesViewI18n.BUILDER_CHART_LINE_YRIGHT))}else{this.m_leftRightPanel=e.UiContextDummy.getSingleton();this.m_yLeftyRightWrapperLabel=e.UiContextDummy.getSingleton();this.m_yLeftPanel=this.addPanel(this.m_root,i.getText(e.OuAxesViewI18n.BUILDER_CHART_LINE_YLEFT));this.m_yRightPanel=this.addPanel(this.m_root,i.getText(e.OuAxesViewI18n.BUILDER_CHART_LINE_YRIGHT))}this.m_columnPanel=this.addPanel(this.m_root,i.getText(e.OuAxesViewI18n.BUILDER_CHART_COLUMN));this.m_linePanel=this.addPanel(this.m_root,i.getText(e.OuAxesViewI18n.BUILDER_CHART_LINE));let a=o?i.getText(e.OuAxesViewI18n.BUILDER_CHART_AXIS_Y):i.getText(e.OlapUiCommonI18n.COMMON_MEASURES);this.m_measurePanel=this.addPanel(this.m_root,a);let r=o?i.getText(e.OuAxesViewI18n.BUILDER_CHART_AXIS_X):i.getText(e.OuAxesViewI18n.BUILDER_CHART_DIMENSIONS);this.m_dimensionsPanel=this.addDimensionPanel(this.m_root,r,e.VisualizationValueType.CATEGORY);this.m_colorPanel=this.addDimensionPanel(this.m_root,i.getText(e.OuAxesViewI18n.BUILDER_CHART_COLOR),e.VisualizationValueType.COLOR);this.m_dimensionsPanelLabel=this.m_dimensionsPanel.getPanelList().getPanelContent().insertNewItemOfType(e.UiType.LABEL,0);this.m_dimensionsPanelLabel.setFontSize(e.UiCssLength.create("1rem"));this.m_dimensionsPanelLabel.addCssClass("ffGdsQbNavigationPanelDimensionAttributesList");this.m_dimensionsPanelLabel.setVisible(false);this.m_dimensionsPanelLabel.setFontWeight(e.UiFontWeight.BOLD);this.m_dimensionsPanelLabel.setTextAlign(e.UiTextAlign.LEFT);this.m_dimensionsPanelLabel.setFlex("0 0 auto")};e.OuChartAxesView.prototype.configureDragDropDimension=function(t,i){let o=i.getPanelList();let n=o.getHeaderLayout();let a=o.getList();let r=o.getDropZone();let l=e.OlapUiDimensionUtil.getMemberNode(t);let s=this.getQueryManager().getQueryModel().isUniversalAccountModel();let u=e.notNull(l)&&(l.getDimension().getDimensionType()===e.DimensionType.SECONDARY_STRUCTURE||l.getDimension().getDimensionType()===e.DimensionType.MEASURE_STRUCTURE&&s);if(u){this.setDropInfo(n,a,r,e.UiLambdaDropListener.create(e=>{this.moveDimensionToFeed(l.getDimension(),i,e,true);this.dropMeasureToFeed(i,l,e);this.notifyChangeListeners()}))}else if(e.OlapUiDimensionUtil.isDimension(t)){this.setDropInfo(n,a,r,e.UiLambdaDropListener.create(e=>{let o=this.moveDimensionToFeed(t,i,e,false);if(o){this.notifyChangeListeners()}}))}};e.OuChartAxesView.prototype.configureDragDropMeasures=function(t,i){let o=e.OlapUiDimensionUtil.getMemberNode(t);if(e.isNull(o)){return}let n=i.getPanelList();let a=n.getHeaderLayout();let r=n.getList();let l=n.getDropZone();let s=o.getDimension();let u=s.getDimensionType()===e.DimensionType.MEASURE_STRUCTURE&&(this.m_kfsWillBeMeasures||i===this.m_measurePanel);let m=s.getDimensionType()===e.DimensionType.ACCOUNT&&!this.m_kfsWillBeMeasures&&i!==this.m_measurePanel;let p=u||m;if(p){this.setDropInfo(a,r,l,e.UiLambdaDropListener.create(e=>{this.dropMeasureToFeed(i,o,e);this.expandMemberNode(o);this.notifyChangeListeners()}))}};e.OuChartAxesView.prototype.configurePanel=function(t,i,o){let n=i.getPanelList();let a=n.getPanel();a.addAttribute(e.UtUi5AttributeConstants.FAST_NAV_GROUP,"true");a.addCssClass("ffChartAxesViewPanel");a.addCssClass("ffGdsQbBuilderPanelAxisPanel");a.addCssClass("ffGdsQbFoldableBorderContent");a.setHeight(e.UiCssLength.AUTO);a.registerOnCollapse(e.UiLambdaCollapseListener.create(e=>{this.m_panelExpansion.putBoolean(o,false)}));a.registerOnExpand(e.UiLambdaExpandListener.create(e=>{this.m_panelExpansion.putBoolean(o,true)}));n.getDropZone().setMinHeight(e.UiCssLength.create("2rem"));n.getHeaderLayout().addCssClass("ffChartAxesViewPanelHeaderToolbar");n.getTitle().setText(o);n.getList().setShowNoData(false);this.m_allPanels.add(i);t.addItem(i.getView())};e.OuChartAxesView.prototype.configurePanelVisibility=function(){if(!e.XObjectExt.isValidObject(this.getQueryManager())||!e.XObjectExt.isValidObject(this.getQueryManager().getQueryModel())||!e.XObjectExt.isValidObject(this.m_chartDefinition)){return}let t=this.getQueryManager().getQueryModel();this.m_accountsPanel.setVisible(t.isAccountModel());this.m_show100PCCheckBoxLayout.setVisible(false);let i=this.m_chartDefinition.getChartSetting().getChartType();if(i===e.ChartType.PIE||i===e.ChartType.DOUGHNUT){this.m_leftRightPanel.setVisible(false);this.m_yLeftPanel.setVisible(false);this.m_yRightPanel.setVisible(false);this.m_chartOrientation.setVisible(false);this.m_dimensionsPanel.setVisible(false);this.m_columnPanel.setVisible(false);this.m_linePanel.setVisible(false);this.m_measurePanel.setVisible(!t.isAccountModel());this.m_colorPanel.setVisible(true);this.removeAddedHeaderElements()}else if(i===e.ChartType.COMB_COLUMN_LINE||i===e.ChartType.COMB_STACKED_COLUMN_LINE){this.m_measurePanel.setVisible(false);this.m_accountsPanel.setVisible(false);this.m_leftRightPanel.setVisible(false);this.m_yLeftPanel.setVisible(false);this.m_yRightPanel.setVisible(false);this.m_columnPanel.setVisible(true);this.m_linePanel.setVisible(true);this.m_chartOrientation.setVisible(false);this.m_dimensionsPanel.setVisible(true);this.m_colorPanel.setVisible(true);this.addOverlapYAxisCheckBox()}else if(i.isTypeOf(e.ChartType.BAR_COLUMN)||i===e.ChartType.AREA){this.m_leftRightPanel.setVisible(false);this.m_yLeftPanel.setVisible(false);this.m_yRightPanel.setVisible(false);this.m_columnPanel.setVisible(false);this.m_linePanel.setVisible(false);this.m_measurePanel.setVisible(!t.isAccountModel());this.m_chartOrientation.setVisible(true);this.m_dimensionsPanel.setVisible(true);this.m_colorPanel.setVisible(true);if(i.isStackingChartType()){this.m_show100PCCheckBoxLayout.setVisible(true)}this.removeAddedHeaderElements()}else if(i===e.ChartType.LINE){this.m_measurePanel.setVisible(false);this.m_accountsPanel.setVisible(false);this.m_columnPanel.setVisible(false);this.m_linePanel.setVisible(false);this.m_leftRightPanel.setVisible(true);this.m_yLeftPanel.setVisible(true);this.m_yRightPanel.setVisible(true);this.m_chartOrientation.setVisible(false);this.m_dimensionsPanel.setVisible(true);this.m_colorPanel.setVisible(true);if(this.getQueryManager().getQueryModel().isUniversalAccountModel()){this.m_yLeftyRightWrapperLabel.setText(this.getLocalizationProvider().getText(e.OlapUiCommonI18n.COMMON_ACCOUNT))}this.removeAddedHeaderElements()}else{this.setStatusMessage("unsupported chart type")}};e.OuChartAxesView.prototype.destroyView=function(){this._unobserveDataProviderEvents();this.m_process=null;this.m_root=e.XObjectExt.release(this.m_root);this.m_panelExpansion=e.XObjectExt.release(this.m_panelExpansion);this.m_chartDefinition=null;this.m_chartCommands=e.XObjectExt.release(this.m_chartCommands);this.m_accountsPanel=e.XObjectExt.release(this.m_accountsPanel);this.m_measurePanel=e.XObjectExt.release(this.m_measurePanel);this.m_chartOrientation=null;this.m_orientationDropdown=null;this.m_dimensionsPanel=e.XObjectExt.release(this.m_dimensionsPanel);this.m_yLeftPanel=e.XObjectExt.release(this.m_yLeftPanel);this.m_yRightPanel=e.XObjectExt.release(this.m_yRightPanel);this.m_colorPanel=e.XObjectExt.release(this.m_colorPanel);this.m_config=null;this.m_yLeftyRightWrapperLabel=null;this.m_show100PCCheckBox=null};e.OuChartAxesView.prototype.determineIfKFsWillBeMeasures=function(){let t=this.getQueryManager().getQueryModel();let i=t.getAccountDimension();if(t.isUniversalAccountModel()){let t=i.getAxisType();if(t===e.AxisType.COLUMNS){this.m_kfsWillBeMeasures=false}}else if(t.isAccountModel()){this.m_kfsWillBeMeasures=false}};e.OuChartAxesView.prototype.dragEnd=function(){e.XCollectionUtils.forEach(this.m_allPanels,e=>{let t=e.getPanelList();t.getHeaderLayout().setDropInfo(null);t.getList().setDropInfo(null);t.getDropZone().setDropInfo(null)})};e.OuChartAxesView.prototype.dragStartModelComponent=function(e){this.configureDragDropMeasures(e,this.m_accountsPanel);this.configureDragDropMeasures(e,this.m_measurePanel);this.configureDragDropMeasures(e,this.m_yLeftPanel);this.configureDragDropMeasures(e,this.m_yRightPanel);this.configureDragDropMeasures(e,this.m_columnPanel);this.configureDragDropMeasures(e,this.m_linePanel);this.configureDragDropDimension(e,this.m_dimensionsPanel);this.configureDragDropDimension(e,this.m_colorPanel)};e.OuChartAxesView.prototype.dropMeasureToFeed=function(t,i,o){let n=e.OuDesignerDragDropUtilities.calcDropIndex(o);this.moveMemberToIndexInternal(t,i,n)};e.OuChartAxesView.prototype.expandDimension=function(e){this.m_colorPanel.expandDimension(e);this.m_dimensionsPanel.expandDimension(e)};e.OuChartAxesView.prototype.expandMember=function(e,t){if(this.getQueryManager()===null){return}let i=this.getQueryManager().getQueryModel().getDimensionByName(e);let o=this.m_controller.getMembersByDimension(i);let n=o.getByKey(t);this.expandMemberNode(n)};e.OuChartAxesView.prototype.expandMemberNode=function(e){this.m_accountsPanel.expandToMemberNode(e);this.m_measurePanel.expandToMemberNode(e);this.m_yLeftPanel.expandToMemberNode(e);this.m_yRightPanel.expandToMemberNode(e)};e.OuChartAxesView.prototype.getChartDefinition=function(){return this.m_chartDefinition};e.OuChartAxesView.prototype.getDataProvider=function(){return this.m_dataProvider};e.OuChartAxesView.prototype.getDefaultDropCondition=function(){if(e.isNull(this.m_defaultDropCondition)){this.m_defaultDropCondition=e.UiDropCondition.createSimple(null,this.getDragElementTag(),null)}return this.m_defaultDropCondition};e.OuChartAxesView.prototype.getDefaultDropInfoHead=function(){if(e.isNull(this.m_defaultDropInfoHead)){this.m_defaultDropInfoHead=e.UiDropInfo.create(e.UiDropPosition.ON,e.UiDropEffect.MOVE,e.UiDropLayout.DEFAULT,null)}return this.m_defaultDropInfoHead};e.OuChartAxesView.prototype.getDefaultDropInfoList=function(){if(e.isNull(this.m_defaultDropInfoListBetween)){this.m_defaultDropInfoListBetween=e.UiDropInfo.create(e.UiDropPosition.BETWEEN,e.UiDropEffect.MOVE,e.UiDropLayout.DEFAULT,e.UiAggregation.ITEMS)}return this.m_defaultDropInfoListBetween};e.OuChartAxesView.prototype.getDimensionMemberVisibility=function(e){return this.m_controller.getMemberVisibility(e)};e.OuChartAxesView.prototype.getDimensionMembers=function(e){return this.m_controller.getMembersInOrder(e)};e.OuChartAxesView.prototype.getDimensionPanelListConfig=function(){let t=e.OuDimensionPanelListConfig.createConfig(this.m_config.getApplication());t.setMenuProvider(this.m_config.getMenuProvider());t.setLocalizationProviderName(e.OuAxesViewI18n.PROVIDER_NAME);t.setDefaultPresentation(this.m_config.getDefaultPresentation());t.setCalculationsEnabled(this.m_config.isCalculationsEnabled());t.setRightClickContextMenuForDimensionEnabled(this.m_config.isRightClickContextMenuForDimensionEnabled());t.setRightClickContextMenuForAttributeEnabled(this.m_config.isRightClickContextMenuForAttributeEnabled());t.setRightClickContextMenuForMemberEnabled(this.m_config.isRightClickContextMenuForMemberEnabled());t.setDragElementTag(this.m_config.getDragElementTag());t.setShowMeasureMoreMenuButton(true);t.setFocusContext(this);return t};e.OuChartAxesView.prototype.getDragElementTag=function(){return this.m_config.getDragElementTag()};e.OuChartAxesView.prototype.getFocusedName=function(){return this.m_focusedDim};e.OuChartAxesView.prototype.getLocalizationProvider=function(){return e.XLocalizationCenter.getCenter().getLocalizationProviderByName(e.OuAxesViewI18n.PROVIDER_NAME)};e.OuChartAxesView.prototype.getQueryManager=function(){return e.notNull(this.m_dataProvider)?this.m_dataProvider.getQueryManager():null};e.OuChartAxesView.prototype.getVisualizationTypeOfMember=function(t){let i=this.m_chartDefinition.getChartSetting();let o=i.getVisualizationValueTypes();for(let n=0;n<o.size();n++){let a=o.get(n);let r=i.getTypedValueSelectionsForType(a);let l=e.XCollectionUtils.findFirst(r,i=>e.XString.isEqual(i.getDimensionMember().getName(),t.getName()));if(e.notNull(l)){return a}}return null};e.OuChartAxesView.prototype.getVisualizationValueTypeForPanel=function(t){let i=this.m_chartDefinition.getChartSetting().getChartType();if(t===this.m_accountsPanel){return i.getPrimaryValueFeed()}if(t===this.m_measurePanel){if(this.getQueryManager().getQueryModel().isAccountModel()){return i.getFeedForQueryModelAxis(e.AxisType.ROWS)}return i.getPrimaryValueFeed()}if(t===this.m_yLeftPanel){return i.getPrimaryValueFeed()}if(t===this.m_yRightPanel){return i.getSecondaryValueFeed()}if(t===this.m_columnPanel){return i.getPrimaryValueFeed()}if(t===this.m_linePanel){return i.getSecondaryValueFeed()}if(t===this.m_dimensionsPanel){return e.VisualizationValueType.CATEGORY}if(t===this.m_colorPanel){return e.VisualizationValueType.COLOR}throw e.XException.createIllegalArgumentException("no viz value type for panel list")};e.OuChartAxesView.prototype.handleAttributeRemovalFromList=function(e,t){};e.OuChartAxesView.prototype.handleDimensionRemovalFromList=function(e,t){let i=e.getCustomObject();this.m_controller.removeDimension(t,()=>{this.removeDimensionFromFeed(t,i);this.notifyChangeListeners()})};e.OuChartAxesView.prototype.handleMemberRemovalFromList=function(e,t){let i=e.getCustomObject();this.removeMeasureFromFeed(t,i)};e.OuChartAxesView.prototype.isFocusMoreButton=function(){return this.m_focusMoreButton};e.OuChartAxesView.prototype.moveChildrenIfAny=function(t,i,o){if(t.hasChildren()){let n=this.m_chartDefinition.getChartSetting();let a=t.getChildren();for(let t=0;t<a.size();t++){let r=a.get(t);let l=r.getDimensionMember();let s=e.QKeyFigureSelection.create(this.getQueryManager().getQueryModel(),l,this.m_chartDefinition,o);n.removeTypedValueSelectionForDimensionMember(l,i);if(e.notNull(s)){n.addTypedValueSelection(o,s)}this.moveChildrenIfAny(r,i,o)}}};e.OuChartAxesView.prototype.moveDimensionToFeed=function(t,i,o,n){let a=this.getVisualizationValueTypeForPanel(i);let r=e.OuDesignerDragDropUtilities.calcDropIndex(o);let l=this.m_chartCommands.getDimensionInFeed(a);if(!e.XCollectionUtils.hasElements(l)){r=0}if(l.contains(t)&&(n||r===l.getIndex(t))){return false}this.removeDimension(t);this.m_chartCommands.moveDimensionToFeedAtIndex(t,a,r);this.m_panelExpansion.putBoolean(i.getPanelList().getTitle().getText(),true);return true};e.OuChartAxesView.prototype.moveMemberToIndex=function(e,t,i){this.moveMemberToIndexInternal(e,t,i);this.notifyChangeListeners()};e.OuChartAxesView.prototype.moveMemberToIndexInternal=function(t,i,o){let n=this.getVisualizationValueTypeForPanel(t);let a=i.getDimensionMember();let r=this.m_chartDefinition.getChartSetting();let l=this.getVisualizationTypeOfMember(a);if(r.getChartType().isSingleMeasureChartType()&&n===e.VisualizationValueType.SIZE){r.clearTypedValueSelectionsForType(n);this.m_controller.removeAllMembers(a.getDimension())}this.m_controller.addMember(i);this.m_controller.moveMemberToIndex(i,o);let s=e.QKeyFigureSelection.create(this.getQueryManager().getQueryModel(),a,this.m_chartDefinition,n);r.removeTypedValueSelectionForDimensionMember(a,l);r.insertTypedValueSelection(n,o,s);this.moveChildrenIfAny(i,l,n);this.m_panelExpansion.putBoolean(t.getPanelList().getTitle().getText(),true)};e.OuChartAxesView.prototype.notifyChangeListeners=function(){if(e.notNull(this.m_onChange)){this.m_onChange(null)}if(e.notNull(this.m_dataProvider)){if(e.notNull(this.m_chartDefinition)){this.m_dataProvider.getEventing().notifyExternalVisualizationChange(this.m_chartDefinition.getName())}this.m_dataProvider.getEventing().notifyExternalModelChange(null)}};e.OuChartAxesView.prototype.onAnyDataProviderEvent=function(t){if(t.getModelChangeEvent()!==null||t.getVisualizationChangeEvent()!==null){this.updateUi();return}let i=t.getResultDataFetchEvent();if(e.notNull(this.m_chartDefinition)&&e.notNull(i)){if(i.getStep()===e.OuDataProviderResultDataFetchStep.VISUALIZATION_FILLED&&i.getFilledVisualizationNames().contains(this.m_chartDefinition.getName())){this.updateUi()}}let o=t.getLifecycleEvent();if(e.notNull(o)&&o.getNewState()===e.OuDataProviderLifecycle.RELEASED){this.setDataProvider(null)}};e.OuChartAxesView.prototype.placeholdersForMeasures=function(){let t=!(this.getQueryManager().getQueryModel().isUniversalAccountModel()||this.getQueryManager().getQueryModel().isAccountModel())?e.OuAxesViewI18n.BUILDER_ADD_MEASURE_INFO:e.OuAxesViewI18n.BUILDER_ADD_ACCOUNT_INFO;let i=!(this.getQueryManager().getQueryModel().isUniversalAccountModel()||this.getQueryManager().getQueryModel().isAccountModel())?e.OuAxesViewI18n.BUILDER_ADD_MEASURE_OPTIONAL:e.OuAxesViewI18n.BUILDER_ADD_ACCOUNT_OPTIONAL;if(this.m_measurePanel.isVisible()&&!this.m_measurePanel.getPanelList().getList().hasItems()){this.addPlaceholderItem(this.m_measurePanel.getPanelList().getList(),t)}else if(this.m_yRightPanel.isVisible()){let e=this.m_yLeftPanel.getPanelList().getList();let o=this.m_yRightPanel.getPanelList().getList();if(!e.hasItems()&&!o.hasItems()){this.addPlaceholderItem(e,t);this.addPlaceholderItem(o,t)}else if(!e.hasItems()){this.addPlaceholderItem(e,i)}else if(!o.hasItems()){this.addPlaceholderItem(o,i)}}else if(this.m_columnPanel.isVisible()){let e=this.m_columnPanel.getPanelList().getList();let o=this.m_linePanel.getPanelList().getList();if(!e.hasItems()&&!o.hasItems()){this.addPlaceholderItem(e,t);this.addPlaceholderItem(o,t)}else if(!e.hasItems()){this.addPlaceholderItem(e,i)}else if(!o.hasItems()){this.addPlaceholderItem(o,i)}}};e.OuChartAxesView.prototype.removeAddedHeaderElements=function(){if(e.notNull(this.m_overlapYAxisLayout)){this.m_headerLayout.removeItem(this.m_overlapYAxisLayout);this.m_overlapYAxisLayout=e.XObjectExt.release(this.m_overlapYAxisLayout);this.m_overlapYAxisCheckBox=e.XObjectExt.release(this.m_overlapYAxisCheckBox)}};e.OuChartAxesView.prototype.removeDimension=function(e){for(let t=0;t<this.m_supportedVisualizations.size();t++){let i=this.m_supportedVisualizations.get(t);let o=this.m_chartCommands.getDimensionInFeed(i);if(o.contains(e)){this.m_chartCommands.removeDimensionFromFeed(e,i)}}};e.OuChartAxesView.prototype.removeDimensionFromFeed=function(e,t){this.m_chartCommands.removeDimensionFromFeed(e,t)};e.OuChartAxesView.prototype.removeMeasureFromFeed=function(e,t){let i=e.getDimensionMember();this.m_chartCommands.removeValueMapping(t,i);this.m_controller.removeMember(e);this.moveChildrenIfAny(e,t,null);this.notifyChangeListeners()};e.OuChartAxesView.prototype.resetFocus=function(){this.m_focusedDim=null;this.m_focusMoreButton=false};e.OuChartAxesView.prototype.resetUi=function(){this.m_root.setBusy(false);this.getGenesis().setRoot(this.m_root)};e.OuChartAxesView.prototype.setChartDefinition=function(e){this.m_chartDefinition=e;if(this.getQueryManager()!==null){this.m_chartCommands=this.getQueryManager().getQueryModel().getChartCommands(this.m_chartDefinition.getName())}};e.OuChartAxesView.prototype.setDataProvider=function(e){this._unobserveDataProviderEvents();this.m_dataProvider=e;this._observeDataProviderEvents();this.m_controller.setQueryManager(this.getQueryManager());this.updateUi()};e.OuChartAxesView.prototype.setDropInfo=function(t,i,o,n){t.setDropInfo(this.getDefaultDropInfoHead());t.setDropCondition(this.getDefaultDropCondition());t.registerOnDrop(n);i.setDropInfo(this.getDefaultDropInfoList());i.setDropCondition(this.getDefaultDropCondition());i.registerOnDrop(n);if(e.notNull(o)){o.setDropInfo(this.getDefaultDropInfoHead());o.setDropCondition(this.getDefaultDropCondition());o.registerOnDrop(n)}};e.OuChartAxesView.prototype.setFocusMoreButton=function(e){this.m_focusMoreButton=e};e.OuChartAxesView.prototype.setFocusedName=function(e){this.m_focusedDim=e};e.OuChartAxesView.prototype.setHeaderLayout=function(e){this.m_headerLayout=e};e.OuChartAxesView.prototype.setOnChange=function(e){this.m_onChange=e};e.OuChartAxesView.prototype.setOverlapYAxis=function(e){this.getChartDefinition().getChartSetting().setAreYAxisOnSameSide(!e)};e.OuChartAxesView.prototype.setPresentation=function(e){this.m_dimensionsPanel.setPresentation(e);this.m_colorPanel.setPresentation(e)};e.OuChartAxesView.prototype.setQueryManager=e.noSupport;e.OuChartAxesView.prototype.setStatusMessage=function(t){let i=this.getGenesis().newRoot(e.UiType.FLEX_LAYOUT);i.useMaxSpace();i.setDirection(e.UiFlexDirection.COLUMN);i.setAlignItems(e.UiFlexAlignItems.CENTER);let o=i.addNewItemOfType(e.UiType.LABEL);o.setTextAlign(e.UiTextAlign.CENTER);o.setText(t)};e.OuChartAxesView.prototype.setupView=function(){this.m_controller=e.OuChartAxesController.createChartController();this.m_allPanels=e.XList.create();this.m_panelExpansion=e.XProperties.create();this.m_kfsWillBeMeasures=true;this.m_chartOrientation=e.UiContextDummy.getSingleton();this.m_orientationDropdown=e.UiContextDummy.getSingleton();this.m_show100PCCheckBox=e.UiContextDummy.getSingleton();this.m_supportedVisualizations=e.XListOfNameObject.create();this.m_supportedVisualizations.add(e.VisualizationValueType.COLOR);this.m_supportedVisualizations.add(e.VisualizationValueType.CATEGORY)};e.OuChartAxesView.prototype.updateDimensionFeed=function(t,i){if(!t.isVisible()){return}let o=this.m_chartCommands.getDimensionInFeed(i);t.updateViewWithDimensions(o);if(!t.getPanelList().getList().hasItems()){this.addPlaceholderItem(t.getPanelList().getList(),e.OuAxesViewI18n.BUILDER_ADD_DIMENSION_OPTIONAL)}if(t===this.m_dimensionsPanel){let i=this.m_config.isChartingPhase_3Enabled();if(i){let i=this.getLocalizationProvider();let o=this.getChartDefinition().getChartSetting().getChartType().isTypeOf(e.ChartType.BAR);let n=o?i.getText(e.OuAxesViewI18n.BUILDER_CHART_AXIS_Y):i.getText(e.OuAxesViewI18n.BUILDER_CHART_AXIS_X);t.getPanelList().getTitle().setText(n)}else{let t=this.getLocalizationProvider();let i=t.getText(e.OuAxesViewI18n.BUILDER_CHART_AXIS_X);let o=t.getText(e.OuAxesViewI18n.BUILDER_CHART_AXIS_Y);let n=this.m_chartDefinition.getChartSetting().getChartType();let a=n===e.ChartType.LINE?i:n.isTypeOf(e.ChartType.COLUMN)?i:o;this.m_dimensionsPanelLabel.setText(a);this.m_dimensionsPanelLabel.setVisible(true)}}};e.OuChartAxesView.prototype.updateMeasureFeed=function(t,i){let o=t.getPanelList();if(!o.isVisible()){return}let n=t===this.m_yLeftPanel||t===this.m_yRightPanel;let a=t===this.m_columnPanel||t===this.m_linePanel;let r=this.m_config.isChartingPhase_3Enabled();if(r&&!n&&!a){let t=this.getLocalizationProvider();let i=this.getChartDefinition().getChartSetting().getChartType().isTypeOf(e.ChartType.BAR);let n=this.getChartDefinition().getChartSetting().getChartType().isSingleMeasureChartType();let a=i?t.getText(e.OuAxesViewI18n.BUILDER_CHART_AXIS_X):n?t.getText(e.OuAxesViewI18n.BUILDER_CHART_VALUE_SELECTION):t.getText(e.OuAxesViewI18n.BUILDER_CHART_AXIS_Y);o.getTitle().setText(a)}let l=this.getQueryManager().getQueryModel();let s=l.isAccountModel();let u=t===this.m_accountsPanel||n||a;let m=s&&u?l.getAccountDimension():l.getMeasureDimension();let p=s&&m!==l.getAccountDimension();let d=p?null:i;let c=this.m_controller.getMembersInOrder(m);let _=this.m_chartCommands.getMeasuresForDimension(d,m);let g=e.XCollectionUtils.map(_,e=>e.getName());t.updateViewWithMembers(c,g);t.setCustomObject(d)};e.OuChartAxesView.prototype.updateUi=function(){this.m_root.setBusy(false);this.configurePanelVisibility();this.m_controller.updateMembers().onThen(t=>{if(t.getBoolean()){this.m_accountsPanel.markDirty();this.m_measurePanel.markDirty();this.m_yLeftPanel.markDirty();this.m_yRightPanel.markDirty();this.m_columnPanel.markDirty();this.m_linePanel.markDirty()}this.resetUi();if(!e.XObjectExt.isValidObject(this.getQueryManager())||!e.XObjectExt.isValidObject(this.getQueryManager().getQueryModel())||!e.XObjectExt.isValidObject(this.m_chartDefinition)){return}this.determineIfKFsWillBeMeasures();let i=this.m_chartDefinition.getChartSetting().getChartType();this.updateMeasureFeed(this.m_accountsPanel,i.getPrimaryValueFeed());this.updateMeasureFeed(this.m_measurePanel,i.getPrimaryValueFeed());this.updateMeasureFeed(this.m_yLeftPanel,i.getPrimaryValueFeed());this.updateMeasureFeed(this.m_yRightPanel,i.getSecondaryValueFeed());this.updateMeasureFeed(this.m_columnPanel,i.getPrimaryValueFeed());this.updateMeasureFeed(this.m_linePanel,i.getSecondaryValueFeed());this.placeholdersForMeasures();let o=this.m_chartCommands.getChartOrientation()!==null?this.m_chartCommands.getChartOrientation():e.ChartOrientation.HORIZONTAL;let n=this.m_orientationDropdown.getItemByName(o.getName());this.m_orientationDropdown.setSelectedItem(n);let a=e.notNull(this.m_chartDefinition)&&e.ChartStackingType.PERCENT.isEqualTo(this.m_chartDefinition.getChartSetting().getChartStackingType());this.m_show100PCCheckBox.setChecked(a);let r=e.notNull(this.m_chartDefinition)&&!this.m_chartDefinition.getChartSetting().areYAxisOnSameSide();if(e.notNull(this.m_overlapYAxisCheckBox)){this.m_overlapYAxisCheckBox.setChecked(r)}this.updateDimensionFeed(this.m_dimensionsPanel,e.VisualizationValueType.CATEGORY);this.updateDimensionFeed(this.m_colorPanel,e.VisualizationValueType.COLOR);e.XCollectionUtils.forEach(this.m_allPanels,e=>{let t=e.getPanelList();let i=t.getList().hasItems();let o=t.getPanel();o.setExpandable(i);o.setExpanded(this.m_panelExpansion.getBooleanByKeyExt(t.getTitle().getText(),true))})})};e.OuGridAxesView=function(){};e.OuGridAxesView.prototype=new e.DfUiContentView;e.OuGridAxesView.prototype._ff_c="OuGridAxesView";e.OuGridAxesView.createView=function(t,i,o){let n=new e.OuGridAxesView;n.m_process=t;n.m_config=o;n.initView(i);return n};e.OuGridAxesView.prototype.m_colSplitter=null;e.OuGridAxesView.prototype.m_cols=null;e.OuGridAxesView.prototype.m_config=null;e.OuGridAxesView.prototype.m_controller=null;e.OuGridAxesView.prototype.m_dataProvider=null;e.OuGridAxesView.prototype.m_defaultDropCondition=null;e.OuGridAxesView.prototype.m_defaultDropInfoHead=null;e.OuGridAxesView.prototype.m_defaultDropInfoListBetween=null;e.OuGridAxesView.prototype.m_defaultDropInfoListOn=null;e.OuGridAxesView.prototype.m_focusMoreButton=false;e.OuGridAxesView.prototype.m_focusedDimension=null;e.OuGridAxesView.prototype.m_lifecycleChangeId=null;e.OuGridAxesView.prototype.m_modelChangeId=null;e.OuGridAxesView.prototype.m_onChange=null;e.OuGridAxesView.prototype.m_process=null;e.OuGridAxesView.prototype.m_root=null;e.OuGridAxesView.prototype.m_rowSplitter=null;e.OuGridAxesView.prototype.m_rows=null;e.OuGridAxesView.prototype.m_splitter=null;e.OuGridAxesView.prototype.buildAxisView=function(t,i){let o=e.OuDimensionPanelListConfig.createConfig(this.m_config.getApplication());o.setMenuProvider(this.m_config.getMenuProvider());o.setLocalizationProviderName(e.OuAxesViewI18n.PROVIDER_NAME);o.setDefaultPresentation(this.m_config.getDefaultPresentation());o.setCalculationsEnabled(this.m_config.isCalculationsEnabled());o.setRightClickContextMenuForDimensionEnabled(this.m_config.isRightClickContextMenuForDimensionEnabled());o.setRightClickContextMenuForAttributeEnabled(this.m_config.isRightClickContextMenuForAttributeEnabled());o.setRightClickContextMenuForMemberEnabled(this.m_config.isRightClickContextMenuForMemberEnabled());o.setDragElementTag(this.m_config.getDragElementTag());o.setShowAttributes(true);o.setFocusContext(this);let n=e.OuDimensionPanelList.createDimensionPanelList(this.m_process,this.getGenesis(),this,o);n.setDragStartModelComponent(this.dragStartModelComponent.bind(this));n.setDragEnd(this.dragEnd.bind(this));n.getView().setExpandable(this.m_config.isUseRowsAndColumnsSplitterExpandable());n.getView().setAnimated(!this.m_config.isUseRowsAndColumnsSplitterExpandable());let a=n.getPanelList();let r=a.getPanel();r.addAttribute(e.UtUi5AttributeConstants.FAST_NAV_GROUP,"true");r.addCssClass(i===e.AxisType.ROWS?"ffGdsQbBuilderPanelAxisRow":"ffGdsQbBuilderPanelAxisColumn");let l=a.getTitle();l.setText(t);l.setTooltip(t);return n};e.OuGridAxesView.prototype.buildSplitterItems=function(t,i){let o=t.addNewItem();o.setContent(i);o.setMinHeight(e.UiCssLength.create("15%"));o.setHeight(e.UiCssLength.create("50%"));return o};e.OuGridAxesView.prototype.buildViewUi=function(t){this.m_root=t.newRoot(e.UiType.FLEX_LAYOUT);this.m_root.addCssClass("ffGridAxesView");this.m_root.setDirection(e.UiFlexDirection.COLUMN);this.m_root.useMaxSpace();let i=this.getLocalizationProvider();this.m_rows=this.buildAxisView(i.getText(e.OlapUiCommonI18n.AXIS_ROWS),e.AxisType.ROWS);this.m_cols=this.buildAxisView(i.getText(e.OlapUiCommonI18n.AXIS_COLUMNS),e.AxisType.COLUMNS);this.m_rows.getView().setFlex("0 0 auto");this.m_cols.getView().setFlex("0 0 auto");this.m_rows.getView().setExpanded(true);this.m_cols.getView().setExpanded(true);this.m_splitter=this.m_root.addNewItemOfType(e.UiType.INTERACTIVE_SPLITTER);this.m_splitter.setOrientation(e.UiOrientation.VERTICAL);this.m_splitter.setEnableReordering(false);this.m_rowSplitter=this.buildSplitterItems(this.m_splitter,this.m_rows.getView());this.m_colSplitter=this.buildSplitterItems(this.m_splitter,this.m_cols.getView());this.m_rows.setOnPanelCollapsed(()=>{this.m_rows.getView().setExpanded(false);this.updateSplitter()});this.m_cols.setOnPanelCollapsed(()=>{this.m_cols.getView().setExpanded(false);this.updateSplitter()});this.m_rows.setOnPanelExpanded(()=>{this.m_rows.getView().setExpanded(true);this.updateSplitter()});this.m_cols.setOnPanelExpanded(()=>{this.m_cols.getView().setExpanded(true);this.updateSplitter()})};e.OuGridAxesView.prototype.configureDragDropAxis=function(t,i,o){let n=o.getPanelList();let a=n.getHeaderLayout();let r=n.getList();let l=n.getDropZone();if(e.OlapUiDimensionUtil.isDimension(t)){let o=t;this.setDropInfo(a,r,l,true,e.UiLambdaDropListener.create(e=>{this.m_controller.handleDimDrop(e,o,i);this.expandDimension(o.getName());this.notifyChangeListeners()}))}else if(e.OlapUiDimensionUtil.isMemberNode(t)||e.OlapUiDimensionUtil.isAttribute(t)){this.setDropInfo(a,r,l,true,e.UiLambdaDropListener.create(o=>{if(e.OlapUiDimensionUtil.isMemberNode(t)){let n=e.OlapUiDimensionUtil.getMemberNode(t);this.m_controller.handleMemberDrop(o,n,i);this.expandDimension(n.getDimension().getName());this.expandMemberNode(n);this.notifyChangeListeners()}else if(e.OlapUiDimensionUtil.isAttribute(t)){let e=t;this.m_controller.handleAttributeDrop(o,e,i);this.expandDimension(e.getDimension().getName());this.notifyChangeListeners()}}))}};e.OuGridAxesView.prototype.configureDropForDimension=function(t,i){let o=i.getDimension();let n=i.getHeader();let a=i.getChildrenList();if(e.OlapUiDimensionUtil.isMemberNode(t)){let i=e.OlapUiDimensionUtil.getMemberNode(t);if(i.getDimension()===o){let t=this.m_controller.allowDropBetween(o);this.setDropInfo(n,a,null,t,e.UiLambdaDropListener.create(e=>{this.m_controller.handleMemberDrop(e,i,null);this.expandDimension(o.getName());this.expandMemberNode(i);this.notifyChangeListeners()}))}}else if(e.OlapUiDimensionUtil.isAttribute(t)){let i=t;if(i.getDimension()===o){this.setDropInfo(n,a,null,true,e.UiLambdaDropListener.create(e=>{this.m_controller.handleAttributeDrop(e,i,null);this.expandDimension(o.getName());this.notifyChangeListeners()}))}}};e.OuGridAxesView.prototype.destroyView=function(){this.m_process=null;this.m_onChange=null;this.m_config=null;this.m_controller=e.XObjectExt.release(this.m_controller);this.m_focusedDimension=null;this.m_root=e.XObjectExt.release(this.m_root);this.m_rows=e.XObjectExt.release(this.m_rows);this.m_cols=e.XObjectExt.release(this.m_cols)};e.OuGridAxesView.prototype.dragEnd=function(){this.m_rows.getPanelList().getHeaderLayout().setDropInfo(null);this.m_rows.getPanelList().getList().setDropInfo(null);this.m_cols.getPanelList().getHeaderLayout().setDropInfo(null);this.m_cols.getPanelList().getList().setDropInfo(null);e.XCollectionUtils.forEach(this.m_rows.getDimensionViews(),this.resetDropInfo.bind(this));e.XCollectionUtils.forEach(this.m_cols.getDimensionViews(),this.resetDropInfo.bind(this))};e.OuGridAxesView.prototype.dragStartModelComponent=function(t){this.configureDragDropAxis(t,e.AxisType.ROWS,this.m_rows);this.configureDragDropAxis(t,e.AxisType.COLUMNS,this.m_cols);e.XCollectionUtils.forEach(this.m_rows.getDimensionViews(),e=>{this.configureDropForDimension(t,e)});e.XCollectionUtils.forEach(this.m_cols.getDimensionViews(),e=>{this.configureDropForDimension(t,e)})};e.OuGridAxesView.prototype.expandDimension=function(e){this.m_rows.expandDimension(e);this.m_cols.expandDimension(e)};e.OuGridAxesView.prototype.expandMember=function(t,i){if(this.getQueryManager()===null){return}let o=this.getQueryManager().getQueryModel().getDimensionByName(t);if(e.isNull(o)){return}let n=this.m_controller.getMembersByDimension(o);if(e.isNull(n)){return}let a=n.getByKey(i);if(e.isNull(a)){return}this.expandMemberNode(a)};e.OuGridAxesView.prototype.expandMemberNode=function(e){this.m_rows.expandToMemberNode(e);this.m_cols.expandToMemberNode(e)};e.OuGridAxesView.prototype.getDataProvider=function(){return this.m_dataProvider};e.OuGridAxesView.prototype.getDefaultDropCondition=function(){if(e.isNull(this.m_defaultDropCondition)){this.m_defaultDropCondition=e.UiDropCondition.createSimple(null,this.getDragElementTag(),null)}return this.m_defaultDropCondition};e.OuGridAxesView.prototype.getDefaultDropInfoHead=function(){if(e.isNull(this.m_defaultDropInfoHead)){this.m_defaultDropInfoHead=e.UiDropInfo.create(e.UiDropPosition.ON,e.UiDropEffect.MOVE,e.UiDropLayout.DEFAULT,null)}return this.m_defaultDropInfoHead};e.OuGridAxesView.prototype.getDefaultDropInfoList=function(t){if(t){if(e.isNull(this.m_defaultDropInfoListBetween)){this.m_defaultDropInfoListBetween=e.UiDropInfo.create(e.UiDropPosition.BETWEEN,e.UiDropEffect.MOVE,e.UiDropLayout.DEFAULT,e.UiAggregation.ITEMS)}return this.m_defaultDropInfoListBetween}if(e.isNull(this.m_defaultDropInfoListOn)){this.m_defaultDropInfoListOn=e.UiDropInfo.create(e.UiDropPosition.ON,e.UiDropEffect.MOVE,e.UiDropLayout.DEFAULT,null)}return this.m_defaultDropInfoListOn};e.OuGridAxesView.prototype.getDimensionMemberVisibility=function(e){return this.m_controller.getMemberVisibility(e)};e.OuGridAxesView.prototype.getDimensionMembers=function(e){return this.m_controller.getMembersInOrder(e)};e.OuGridAxesView.prototype.getDragElementTag=function(){return this.m_config.getDragElementTag()};e.OuGridAxesView.prototype.getFocusedName=function(){return this.m_focusedDimension};e.OuGridAxesView.prototype.getLocalizationProvider=function(){return e.XLocalizationCenter.getCenter().getLocalizationProviderByName(e.OuAxesViewI18n.PROVIDER_NAME)};e.OuGridAxesView.prototype.getMenuProvider=function(){return this.m_config.getMenuProvider()};e.OuGridAxesView.prototype.getQueryManager=function(){return e.notNull(this.m_dataProvider)?this.m_dataProvider.getQueryManager():null};e.OuGridAxesView.prototype.handleAttributeRemovalFromList=function(e,t){this.m_controller.removeAttribute(t);this.notifyChangeListeners()};e.OuGridAxesView.prototype.handleDimensionRemovalFromList=function(e,t){this.m_controller.removeDimension(t,this.notifyChangeListeners.bind(this))};e.OuGridAxesView.prototype.handleMemberRemovalFromList=function(e,t){this.m_controller.removeMember(t);this.notifyChangeListeners()};e.OuGridAxesView.prototype.isFocusMoreButton=function(){return this.m_focusMoreButton};e.OuGridAxesView.prototype.moveMemberToIndex=function(e,t,i){this.m_controller.moveMemberToIndex(t,i);this.notifyChangeListeners()};e.OuGridAxesView.prototype.notifyChangeListeners=function(){if(e.notNull(this.m_onChange)){this.m_onChange(null)}if(e.notNull(this.m_dataProvider)){this.m_dataProvider.getEventing().notifyExternalModelChange(null)}};e.OuGridAxesView.prototype.observeDataProviderEvents=function(){if(e.notNull(this.m_dataProvider)){this.m_lifecycleChangeId=this.m_dataProvider.getEventing().getListenerForLifecycle().addConsumer(this.onLifecycleChangeEvt.bind(this));this.m_modelChangeId=this.m_dataProvider.getEventing().getListenerForModelChanges().addConsumer(this.onModelChangeEvt.bind(this))}};e.OuGridAxesView.prototype.onLifecycleChangeEvt=function(t){if(t.getNewState()===e.OuDataProviderLifecycle.RELEASED){this.setDataProvider(null)}};e.OuGridAxesView.prototype.onModelChangeEvt=function(e){this.updateUi()};e.OuGridAxesView.prototype.resetDropInfo=function(e){e.getHeader().setDropInfo(null);e.getChildrenList().setDropInfo(null)};e.OuGridAxesView.prototype.resetFocus=function(){this.m_focusedDimension=null;this.m_focusMoreButton=false};e.OuGridAxesView.prototype.setDataProvider=function(t){this.unobserveDataProviderEvents();this.m_dataProvider=t;this.observeDataProviderEvents();this.m_controller.setQueryManager(this.getQueryManager());this.m_cols.hardResetUi();this.m_rows.hardResetUi();this.updateUi();if(this.getQueryManager()!==null&&this.getMenuProvider()!==null){let t=this.getQueryManager().getQueryModel().getAxis(e.AxisType.ROWS);let i=this.m_rows.getMenuButton();i.registerOnPress(e.UiLambdaPressListener.create(i=>{this.getMenuProvider().showAxisMenu(e.OuAxesView.UI_CONTEXT,i,t)}));let o=this.getQueryManager().getQueryModel().getAxis(e.AxisType.COLUMNS);let n=this.m_cols.getMenuButton();n.registerOnPress(e.UiLambdaPressListener.create(t=>{this.getMenuProvider().showAxisMenu(e.OuAxesView.UI_CONTEXT,t,o)}))}};e.OuGridAxesView.prototype.setDropInfo=function(t,i,o,n,a){t.setDropInfo(this.getDefaultDropInfoHead());t.setDropCondition(this.getDefaultDropCondition());t.registerOnDrop(a);i.setDropInfo(this.getDefaultDropInfoList(n));i.setDropCondition(this.getDefaultDropCondition());i.registerOnDrop(a);if(e.notNull(o)){o.setDropInfo(this.getDefaultDropInfoHead());o.setDropCondition(this.getDefaultDropCondition());o.registerOnDrop(a)}};e.OuGridAxesView.prototype.setFocusMoreButton=function(e){this.m_focusMoreButton=e};e.OuGridAxesView.prototype.setFocusedName=function(e){this.m_focusedDimension=e};e.OuGridAxesView.prototype.setOnChange=function(e){this.m_onChange=e};e.OuGridAxesView.prototype.setPresentation=function(e){this.m_rows.setPresentation(e);this.m_cols.setPresentation(e)};e.OuGridAxesView.prototype.setQueryManager=e.noSupport;e.OuGridAxesView.prototype.setupView=function(){this.m_controller=e.OuGridAxesController.createController()};e.OuGridAxesView.prototype.unobserveDataProviderEvents=function(){if(e.notNull(this.m_dataProvider)){this.m_dataProvider.getEventing().getListenerForLifecycle().removeConsumerByUuid(this.m_lifecycleChangeId);this.m_dataProvider.getEventing().getListenerForModelChanges().removeConsumerByUuid(this.m_modelChangeId);this.m_lifecycleChangeId=null;this.m_modelChangeId=null}};e.OuGridAxesView.prototype.updateSplitter=function(){this.m_cols.getView().removeCssClass("ffGdsQbBuilderPanelAxisColumnSplitterBorderTop");this.m_cols.getView().removeCssClass("ffGdsQbBuilderPanelAxisColumnSplitterBorderBottom");if(this.m_rows.getView().isExpanded()&&this.m_cols.getView().isExpanded()){this.m_splitter.showResizerAtIndex(0);this.m_rowSplitter.setHeight(e.UiCssLength.create("50%"));this.m_colSplitter.setHeight(e.UiCssLength.create("50%"));this.m_rowSplitter.setMinHeight(e.UiCssLength.create("15%"));this.m_colSplitter.setMinHeight(e.UiCssLength.create("15%"))}else if(!this.m_rows.getView().isExpanded()&&!this.m_cols.getView().isExpanded()){this.m_splitter.hideResizerAtIndex(0);this.m_rowSplitter.setHeight(e.UiCssLength.create("2.8125rem"));this.m_colSplitter.setHeight(e.UiCssLength.create("2.8125rem"));this.m_rowSplitter.setMinHeight(null);this.m_colSplitter.setMinHeight(null);this.m_cols.getView().addCssClass("ffGdsQbBuilderPanelAxisColumnSplitterBorderBottom")}else{this.m_splitter.hideResizerAtIndex(0);if(!this.m_rows.getView().isExpanded()){this.m_rowSplitter.setHeight(e.UiCssLength.create("2.8125rem"));this.m_colSplitter.setHeight(null);this.m_rowSplitter.setMinHeight(null);this.m_colSplitter.setMinHeight(null)}if(!this.m_cols.getView().isExpanded()){this.m_cols.getView().addCssClass("ffGdsQbBuilderPanelAxisColumnSplitterBorderTop");this.m_rowSplitter.setHeight(null);this.m_colSplitter.setHeight(e.UiCssLength.create("2.8125rem"));this.m_rowSplitter.setMinHeight(null);this.m_colSplitter.setMinHeight(null)}}};e.OuGridAxesView.prototype.updateUi=function(){if(e.isNull(this.m_dataProvider)){return}this.m_root.setBusy(true);this.m_controller.updateMembers().onThen(e=>{if(e.getBoolean()){this.m_rows.markDirty();this.m_cols.markDirty()}this.m_root.setBusy(false);this.m_rows.updateViewWithDimensions(this.getQueryManager().getQueryModel().getRowsAxis());this.m_cols.updateViewWithDimensions(this.getQueryManager().getQueryModel().getColumnsAxis())}).onCatch(t=>{let i=this.getGenesis().newRoot(e.UiType.MESSAGE_STRIP);i.setMessageType(e.UiMessageType.ERROR);i.setText(t.getText())})};e.OuInventoryView=function(){};e.OuInventoryView.prototype=new e.DfUiContentView;e.OuInventoryView.prototype._ff_c="OuInventoryView";e.OuInventoryView.DEFAULT_LOCAL_STORAGE_PREFIX="OuInventoryView";e.OuInventoryView.LOCAL_STORAGE_DEFAULT_DIMENSION_GROUP_PRESENTATION="DimensionGroupPresentationDefault";e.OuInventoryView.LOCAL_STORAGE_DIMENSION_GROUP_PRESENTATION="DimensionGroupPresentation";e.OuInventoryView.UI_CONTEXT="Gds.Qb.Builder.ContextMenu";e.OuInventoryView.createView=function(t,i,o){let n=new e.OuInventoryView;n.m_process=t;n.m_config=o;n.initView(i);return n};e.OuInventoryView.prototype.m_config=null;e.OuInventoryView.prototype.m_dataProvider=null;e.OuInventoryView.prototype.m_dimViews=null;e.OuInventoryView.prototype.m_dimensionList=null;e.OuInventoryView.prototype.m_dimensionSortDirection=null;e.OuInventoryView.prototype.m_dropReceiver=null;e.OuInventoryView.prototype.m_expansionReceiver=null;e.OuInventoryView.prototype.m_groupPresentation=null;e.OuInventoryView.prototype.m_isQueryManagerSet=false;e.OuInventoryView.prototype.m_lifecycleConsumerId=null;e.OuInventoryView.prototype.m_main=null;e.OuInventoryView.prototype.m_memberMap=null;e.OuInventoryView.prototype.m_menuButton=null;e.OuInventoryView.prototype.m_modelChangeListenerId=null;e.OuInventoryView.prototype.m_onChange=null;e.OuInventoryView.prototype.m_panelExpansion=null;e.OuInventoryView.prototype.m_panelExpansionPreSearch=null;e.OuInventoryView.prototype.m_presentation=null;e.OuInventoryView.prototype.m_process=null;e.OuInventoryView.prototype.m_queryManager=null;e.OuInventoryView.prototype.m_renderedWithTable=false;e.OuInventoryView.prototype.m_root=null;e.OuInventoryView.prototype.m_searchField=null;e.OuInventoryView.prototype.m_searchInProgress=false;e.OuInventoryView.prototype.m_searchWrapper=null;e.OuInventoryView.prototype.m_structureSortDirections=null;e.OuInventoryView.prototype.m_structureViews=null;e.OuInventoryView.prototype.addAttributesToDimItem=function(t,i){let o=this.getGenesis().newControl(e.UiType.LIST);o.addCssClass("ffGdsQbNavigationPanelDimensionAttributesList");o.setShowNoData(false);o.addAllItems(e.XCollectionUtils.map(i,e=>e.getRoot()));t.setChildrenList(o);t.setChildrenViews(i);this.configureDimPanelForChildren(t)};e.OuInventoryView.prototype.addAxisButtons=function(t,i,o){if(!this.m_renderedWithTable){let t=e.UiContextDummy.getSingleton();o.setRowIcon(t);o.setColIcon(t)}else{let n=this.getLocalizationProvider();let a=t.addNewItemOfType(e.UiType.TOGGLE_BUTTON);a.addCssClass("ffGdsQbNavigationPanelRowButton");a.setIcon("table-row");a.setTooltip(n.getText(e.OlapUiCommonI18n.AXIS_ROWS));a.setButtonType(e.UiButtonType.TRANSPARENT);a.setEnabled(i.supportsAxis(e.AxisType.ROWS));o.setRowIcon(a);let r=t.addNewItemOfType(e.UiType.TOGGLE_BUTTON);r.addCssClass("ffGdsQbNavigationPanelColumnButton");r.setIcon("table-column");r.setTooltip(n.getText(e.OlapUiCommonI18n.AXIS_COLUMNS));r.setButtonType(e.UiButtonType.TRANSPARENT);r.setEnabled(i.supportsAxis(e.AxisType.COLUMNS));o.setColIcon(r);a.registerOnPress(e.UiLambdaPressListener.create(t=>{this.toggleDimensionAxis(i,e.AxisType.ROWS);a.setPressed(i.getAxisType()===e.AxisType.ROWS)}));r.registerOnPress(e.UiLambdaPressListener.create(t=>{this.toggleDimensionAxis(i,e.AxisType.COLUMNS);r.setPressed(i.getAxisType()===e.AxisType.COLUMNS)}))}};e.OuInventoryView.prototype.addChildrenToDimView=function(t){let i=t.getPanel();let o=t.getChildrenViews();let n=t.getDimensionViews();let a=t.getChildrenList();let r=t.getDimensionList();if(e.XCollectionUtils.hasElements(o)&&e.XCollectionUtils.hasElements(n)){let t=this.getGenesis().newControl(e.UiType.FLEX_LAYOUT);t.setDirection(e.UiFlexDirection.COLUMN);t.useMaxSpace();t.addItem(a);t.addItem(r);i.setPanelContent(t)}else if(e.XCollectionUtils.hasElements(o)){i.setPanelContent(a)}else{i.setPanelContent(r)}let l=o.size()+n.size();i.setContentHeightInRem(l*2)};e.OuInventoryView.prototype.addDimensionsToDimItem=function(t,i){let o=this.getGenesis().newControl(e.UiType.LIST);o.addCssClass("ffGdsQbNavigationPanelDimensionGroupList");o.setShowNoData(false);o.addAllItems(e.XCollectionUtils.map(i,e=>{let t=e.getListItemRoot();t.addCssClass("ffGdsQbNavigationPanelGroupedDimension");return t}));t.setDimensionList(o);t.setDimensionViews(i);this.configureDimPanelForChildren(t)};e.OuInventoryView.prototype.addPanel=function(t){if(e.notNull(t)){this.m_main.addItem(t)}};e.OuInventoryView.prototype.applyIfNotReleased=function(t,i,o){if(e.notNull(t)&&!t.isReleased()){o(t,i)}};e.OuInventoryView.prototype.buildAttributeView=function(t){let i=this.buildCheckboxItem("ffGdsQbNavigationPanelAttribute",true,e=>{this.handleAttributeChange(e,t)});i.setAttribute(t);let o=i.getRoot();o.setDraggable(true);o.setTag(this.m_config.getDragElementTag());o.setCustomObject(i);o.registerOnDragStart(e.UiLambdaDragStartListener.create(e=>{this.notifyDragStartModel(t)}));o.registerOnDragEnd(e.UiLambdaDragEndListener.create(e=>{this.notifyDragEnd()}));if(this.m_config.getMenuProvider()!==null&&this.m_config.isRightClickContextMenuForAttributeEnabled()){o.registerOnContextMenu(e.UiLambdaContextMenuListener.create(i=>{this.m_config.getMenuProvider().showAttributeMenu(e.OuInventoryView.UI_CONTEXT,i,t)}))}let n=i.getLabel();n.addCssClass("ffGdsQbNavigationPanelAttributeLabel");n.setFontStyle(e.UiFontStyle.ITALIC);return i};e.OuInventoryView.prototype.buildAttributeViews=function(t){let i=e.XList.create();if(!e.XCollectionUtils.hasElements(t)){return i}for(let e=0;e<t.size();e++){let o=t.get(e);let n=this.buildAttributeView(o);i.add(n)}return i};e.OuInventoryView.prototype.buildCalculationButton=function(t){if(this.isCalculationsEnabled(t)){let i=this.getGenesis().newControl(e.UiType.CUSTOM_LIST_ITEM);i.addCssClass("ffGdsQbNavigationPanelCalculationsSection");let o=i.setNewContent(e.UiType.FLEX_LAYOUT);o.setMinHeight(e.UiCssLength.create("2rem"));o.setDirection(e.UiFlexDirection.ROW);o.setAlignItems(e.UiFlexAlignItems.CENTER);let n=o.addNewItemOfType(e.UiType.ICON);n.addCssClass("ffGdsQbNavigationPanelCalculationsIcon");n.setPadding(e.UiCssBoxEdges.create("0.5rem"));n.setIcon("fpa/new-calculation");n.setColor(e.UiColor.create("#0070b1"));n.setEnabled(false);let a=this.getLocalizationProvider().getText(e.OuInventoryViewI18n.NAV_CREATE_CALCULATION);let r=o.addNewItemOfType(e.UiType.LINK);r.addCssClass("ffGdsQbNavigationPanelCalculationsLink");r.setText(a);r.setTooltip(a);r.registerOnPress(e.UiLambdaPressListener.create(i=>{this.openCalculationDialog(t,e.XOptional.empty(),r)}));let l=e.OuInventoryCalculationLink.create(i);let s=this.m_structureViews.getByKey(t.getName());s.getChildrenList().insertItem(i,0);s.setCalculationsLink(l)}};e.OuInventoryView.prototype.buildCalculationControls=function(t,i){if(!this.m_config.isCalculationsEnabled()||!this.isEditableFormula(i)){return}let o=i;let n=this.getLocalizationProvider();let a=t.getHeaderLayout();let r=this.getGenesis().newControl(e.UiType.FLEX_LAYOUT);r.setFlex("1 1 auto");r.setDirection(e.UiFlexDirection.ROW);r.setAlignItems(e.UiFlexAlignItems.CENTER);r.setJustifyContent(e.UiFlexJustifyContent.END);r.addNewItemOfType(e.UiType.SPACER);let l=r.addNewItemOfType(e.UiType.BUTTON);l.addCssClass("ffGdsQbNavigationPanelFormulaDeleteButton");l.setIcon("delete");l.setButtonType(e.UiButtonType.TRANSPARENT);l.setTooltip(n.getText(e.OuInventoryViewI18n.NAV_DELETE_CALCULATION));l.registerOnPress(e.UiLambdaPressListener.create(e=>{this.handleCalculationDeletion(o)}));let s=e.OuDesignerFormulaPopoverIcon.create(this.getGenesis(),o,e.MessageManagerSimple.createMessageManager());s.getView().setVisible(false);r.addItem(s.getView());t.setPopoverIcon(s);let u=r.addNewItemOfType(e.UiType.BUTTON);u.addCssClass("ffGdsQbNavigationPanelFormulaEditButton");u.setIcon("fpa/formula");u.setButtonType(e.UiButtonType.TRANSPARENT);u.setTooltip(n.getText(e.OuInventoryViewI18n.NAV_EDIT_CALCULATION));u.registerOnPress(e.UiLambdaPressListener.create(t=>{this.openCalculationDialog(o.getDimension(),e.XOptional.of(o.getName()),u)}));a.addItem(r);let m=i.getDimension().getName();this.m_structureViews.getByKey(m).addCalculation(t)};e.OuInventoryView.prototype.buildCheckboxItem=function(t,i,o){let n=this.getGenesis().newControl(e.UiType.CUSTOM_LIST_ITEM);n.setListItemType(e.UiListItemType.INACTIVE);n.addCssClass("ffGdsQbNavigationPanelCheckboxItem");n.addCssClass(t);let a=this.getGenesis().newControl(e.UiType.CHECKBOX);let r=this.getGenesis().newControl(e.UiType.LABEL);r.setMargin(e.UiCssBoxEdges.create("0"));r.setLabelFor(a);let l=e.OuDesignerListItem.createForNavPanel(n,r,a);a.registerOnChange(e.UiLambdaChangeListener.create(e=>{o(l)}));n.registerOnKeyDown(e.UiLambdaKeyDownListener.create(t=>{if(e.XString.isEqual(t.getParameters().getByKey(e.UiEventParams.PARAM_CODE),"Space")){a.setChecked(!a.isChecked());o(l)}}));if(i){let t=this.getGenesis().newControl(e.UiType.FLEX_LAYOUT);t.addCssClass("ffGdsQbNavigationPanelCheckboxItemHeader");t.setOverflow(e.UiOverflow.HIDDEN);t.setDirection(e.UiFlexDirection.ROW);t.setAlignItems(e.UiFlexAlignItems.CENTER);t.addItem(a);t.addItem(r);n.setContent(t);l.setHeaderLayout(t);l.setPanel(e.UiContextDummy.getSingleton());l.setChildrenList(e.UiContextDummy.getSingleton())}else{let t=n.setNewContent(e.UiType.PANEL);t.removeAttribute(e.UtUi5AttributeConstants.FAST_NAV_GROUP);t.addCssClass("ffGdsQbNavigationPanelMemberPanel");t.addCssClass("ffGdsQbFoldable");t.setMinHeight(e.UiCssLength.create("0"));t.setBackgroundDesign(e.UiBackgroundDesign.TRANSPARENT);t.setExpandable(true);let i=t.setNewHeaderToolbar();i.removeAttribute(e.UtUi5AttributeConstants.FAST_NAV_GROUP);i.addCssClass("ffGdsQbNavigationPanelCheckboxItemHeader");i.addItem(a);i.addItem(r);let o=t.setNewContent(e.UiType.LIST);o.removeAttribute(e.UtUi5AttributeConstants.FAST_NAV_GROUP);o.addCssClass("ffGdsQbNavigationPanelMemberChildrenList");o.setShowNoData(false);l.setHeaderLayout(i);l.setPanel(t);l.setChildrenList(o)}return l};e.OuInventoryView.prototype.buildDimItem=function(t){let i=this.buildDimItemBase();i.setDimension(t);i.setCheckbox(e.UiContextDummy.getSingleton());if(!this.m_renderedWithTable&&!this.isTableVisualizationActiveOnQueryManager()&&this.m_config.isChartingPhase2Enabled()){let o=this.getGenesis().newControl(e.UiType.CHECKBOX);i.getHeader().insertItem(o,0);i.setCheckbox(o);let n=this.getQueryManager().getQueryModel().getVisualizationManager().getCurrentActiveVisualizationDefinition();let a=n.getChartSetting().getChartType();let r=a.getFeedForQueryModelAxis(t.getAxisType());o.setChecked(e.notNull(r));o.registerOnChange(e.UiLambdaChangeListener.create(i=>{let o=i.getControl();let n=!o.isChecked()?t.getAxisType():e.AxisType.ROWS;this.toggleDimensionAxis(t,n)}))}let o=i.getListItemRoot();o.setDraggable(true);o.setTag(this.m_config.getDragElementTag());o.setCustomObject(i);o.registerOnDragStart(e.UiLambdaDragStartListener.create(e=>{this.notifyDragStartModel(t)}));o.registerOnDragEnd(e.UiLambdaDragEndListener.create(e=>{this.notifyDragEnd()}));if(this.m_config.getMenuProvider()!==null&&(this.m_config.isRightClickContextMenuForDimensionEnabled()||this.m_config.isShowDimensionMoreButton())){o.registerOnContextMenu(e.UiLambdaContextMenuListener.create(i=>{this.m_config.getMenuProvider().showDimMenu(e.OuInventoryView.UI_CONTEXT,i,t)}))}let n=i.getIconContainer().addNewItemOfType(e.UiType.FLEX_LAYOUT);n.addCssClass("ffGdsQbNavigationPanelDimensionButtons");n.setDirection(e.UiFlexDirection.ROW);n.setFlex("0 0 auto");n.setAlignItems(e.UiFlexAlignItems.CENTER);if(this.m_config.isShowDimensionMoreButton()&&this.m_config.getMenuProvider()!==null){let o=n.addNewItemOfType(e.UiType.BUTTON);o.addCssClass("ffGdsQbNavigationPanelDimensionMenuButton");o.setIcon("overflow");o.setButtonType(e.UiButtonType.TRANSPARENT);o.setTooltip(this.getLocalizationProvider().getText(e.OlapUiCommonI18n.COMMON_MORE));o.registerOnPress(e.UiLambdaPressListener.create(i=>{this.m_config.getMenuProvider().showDimMenuWithAction(e.OuInventoryView.UI_CONTEXT,i,t,()=>{this.applyIfNotReleased(o,"ffGdsQbNavigationPanelDimensionMenuButtonForceVisible",(e,t)=>{e.addCssClass(t)})},()=>{this.applyIfNotReleased(o,"ffGdsQbNavigationPanelDimensionMenuButtonForceVisible",(e,t)=>{e.removeCssClass(t)})})}));this.checkMoreButton(t,o);i.setMoreBtn(o)}this.addAxisButtons(n,t,i);let a=this.getFilteredAttributes(t);let r=this.buildAttributeViews(a);if(e.XCollectionUtils.hasElements(r)){this.addAttributesToDimItem(i,r)}return i};e.OuInventoryView.prototype.buildDimItemBase=function(){let t=e.OuDesignerDimension.createEmpty();let i=this.getGenesis().newControl(e.UiType.TOOLBAR);i.removeAttribute(e.UtUi5AttributeConstants.FAST_NAV_GROUP);i.addCssClass("ffGdsQbNavigationPanelDimensionHeader");i.setBorderWidth(e.UiCssBoxEdges.create("0"));i.setToolbarDesign(e.UiToolbarDesign.TRANSPARENT);t.setHeader(i);let o=i.addNewItemOfType(e.UiType.LABEL);o.setMargin(e.UiCssBoxEdges.create("0"));t.setLabel(o);i.addNewItemOfType(e.UiType.SPACER);let n=this.getGenesis().newControl(e.UiType.CUSTOM_LIST_ITEM);n.addCssClass("ffGdsQbNavigationPanelDimension");n.addCssClass("ffGdsQbNavigationPanelDimensionNoChildren");n.addCssClass("sapMTB-Transparent-CTX");n.setCustomObject(t);n.setContent(i);t.setListItemRoot(n);t.setChildrenList(e.UiContextDummy.getSingleton());t.setChildrenViews(e.XList.create());t.setDimensionList(e.UiContextDummy.getSingleton());t.setDimensionViews(e.XList.create());return t};e.OuInventoryView.prototype.buildDimensionsMenu=function(t){return e.UiLambdaPressListener.create(i=>{let o=this.getGenesis().newControl(e.UiType.MENU);let n=this.getLocalizationProvider();if(this.m_config.isShowGroupPresentationMenu()&&t){let t=o.addNewItem();t.addCssClass("ffGdsQbNavigationDimGroupPresentationFlat");t.setText(n.getText(e.OuInventoryViewI18n.NAV_DIM_MENU_GROUPS_FLAT));t.setIcon(this.m_groupPresentation!==e.OuInventoryViewGroupPresentation.FLAT?"accept":null);t.registerOnPress(e.UiLambdaPressListener.create(t=>{if(this.m_groupPresentation===e.OuInventoryViewGroupPresentation.FLAT){this.setGroupPresentation(e.OuInventoryViewGroupPresentation.ALL_COLLAPSED)}else{this.setGroupPresentation(e.OuInventoryViewGroupPresentation.FLAT)}this.m_menuButton.focus()}));if(this.m_config.isShowGroupExpandCollapseOptions()){let t=o.addNewItem();t.addCssClass("ffGdsQbNavigationDimGroupPresentationExpanded");t.setText(n.getText(e.OuInventoryViewI18n.NAV_DIM_MENU_GROUPS_EXPANDED));t.setIcon(this.m_groupPresentation===e.OuInventoryViewGroupPresentation.ALL_EXPANDED?"accept":null);t.setEnabled(this.m_groupPresentation!==e.OuInventoryViewGroupPresentation.FLAT);t.setSectionStart(true);t.registerOnPress(e.UiLambdaPressListener.create(t=>{this.setGroupPresentation(e.OuInventoryViewGroupPresentation.ALL_EXPANDED);this.m_menuButton.focus()}));let i=o.addNewItem();i.addCssClass("ffGdsQbNavigationDimGroupPresentationCollapsed");i.setText(n.getText(e.OuInventoryViewI18n.NAV_DIM_MENU_GROUPS_COLLAPSED));i.setIcon(this.m_groupPresentation===e.OuInventoryViewGroupPresentation.ALL_COLLAPSED?"accept":null);i.setEnabled(this.m_groupPresentation!==e.OuInventoryViewGroupPresentation.FLAT);i.registerOnPress(e.UiLambdaPressListener.create(t=>{this.setGroupPresentation(e.OuInventoryViewGroupPresentation.ALL_COLLAPSED);this.m_menuButton.focus()}))}}if(this.m_config.isSeparateSortMenus()){let t=e.OuInventoryViewSortMenu.create(o);t.addCssClass("ffGdsQbNavigationDimSort");t.setConsumer(this.setDimensionSorting.bind(this));t.update(this.m_dimensionSortDirection)}o.openAt(i.getControl())})};e.OuInventoryView.prototype.buildDimensionsPanel=function(){e.XCollectionUtils.releaseEntriesFromCollection(this.m_dimViews);this.m_dimViews.clear();let t=this.buildMainPanel(e.OuInventoryViewI18n.NAV_DIMENSIONS,this.getLocalizationProvider().getText(e.OuInventoryViewI18n.NAV_DIMENSIONS));t.addCssClass("ffGdsQbNavigationPanelDimensions");this.m_dimensionList=t.setNewContent(e.UiType.LIST);this.m_dimensionList.removeAttribute(e.UtUi5AttributeConstants.FAST_NAV_GROUP);this.m_dimensionList.addCssClass("ffGdsQbNavigationPanelDimensionsList");let i=e.QDimensionUtil.getDimensionGroupInfoFilteredWithoutStructures(this.m_queryManager);if(this.m_groupPresentation===e.OuInventoryViewGroupPresentation.FLAT){this.buildDimensionsPanelFlat()}else{let t=this.buildDimensionsPanelRecursive(i);this.m_dimensionList.addAllItems(e.XCollectionUtils.map(t,e=>e.getListItemRoot()))}if(this.m_dimViews.isEmpty()){this.m_dimensionList=e.UiContextDummy.getSingleton();return null}let o=e.XCollectionUtils.contains(i,e=>!e.getChildren().isEmpty());if(this.m_config.isShowGroupPresentationMenu()&&o||this.m_config.isSeparateSortMenus()){let i=t.getHeaderToolbar();i.addNewItemOfType(e.UiType.SPACER);this.m_menuButton=i.addNewItemOfType(e.UiType.BUTTON);this.m_menuButton.addCssClass("ffGdsQbNavigationPanelDimensionsMenuButton");this.m_menuButton.setIcon("overflow");this.m_menuButton.setButtonType(e.UiButtonType.TRANSPARENT);this.m_menuButton.setTooltip(this.getLocalizationProvider().getText(e.OlapUiCommonI18n.COMMON_MORE));this.m_menuButton.registerOnPress(this.buildDimensionsMenu(o))}return t};e.OuInventoryView.prototype.buildDimensionsPanelFlat=function(){let t=this.m_queryManager.getQueryModel().getDimensions();for(let i=0;i<t.size();i++){let o=t.get(i);if(!e.QDimensionUtil.isStructureLike(o)&&e.QDimensionUtil.shouldDimensionBeShownForRowsOrColumns(o,true)){let e=this.buildDimItem(o);this.m_dimensionList.addItem(e.getListItemRoot());this.m_dimViews.add(e)}}};e.OuInventoryView.prototype.buildDimensionsPanelRecursive=function(t){let i=e.XList.create();for(let o=0;o<t.size();o++){let n=t.get(o);let a;if(n.isDimension()){let e=this.m_queryManager.getQueryModel().getDimensionByName(n.getInternalName());a=this.buildDimItem(e)}else{a=this.buildDimItemBase();a.setName(e.XStringUtils.concatenate2("OuInventoryView.",n.getDisplayName()));a.setDisplayName(n.getDisplayName());a.setDisplayText(n.getDisplayText());a.getListItemRoot().addCssClass("ffGdsQbNavigationPanelGroup")}let r=n.getChildren();let l=this.buildDimensionsPanelRecursive(r);if(e.XCollectionUtils.hasElements(l)){this.addDimensionsToDimItem(a,l)}this.m_dimViews.add(a);i.add(a)}return i};e.OuInventoryView.prototype.buildMainPanel=function(t,i){let o=this.getGenesis().newControl(e.UiType.PANEL);o.addCssClass("ffGdsQbFoldable");o.addCssClass("ffGdsQbNavigationPanelMainPanel");o.setTag(t);o.setBackgroundDesign(e.UiBackgroundDesign.TRANSPARENT);o.registerOnCollapse(e.UiLambdaCollapseListener.create(e=>{this.m_panelExpansion.putBoolean(t,false)}));o.registerOnExpand(e.UiLambdaExpandListener.create(e=>{this.m_panelExpansion.putBoolean(t,true)}));o.setExpandable(true);o.setExpanded(this.m_panelExpansion.getBooleanByKeyExt(t,true));let n=o.setNewHeaderToolbar();n.removeAttribute(e.UtUi5AttributeConstants.FAST_NAV_GROUP);n.addCssClass("ffGdsQbNavigationPanelMainPanelHeaderToolbar");let a=n.addNewItemOfType(e.UiType.TITLE);a.setText(i);a.setTooltip(i);a.setTitleStyle(e.UiTitleLevel.H_5);a.setTitleLevel(e.UiTitleLevel.H_5);a.setMargin(e.UiCssBoxEdges.create("0"));n.addNewItemOfType(e.UiType.SPACER);return o};e.OuInventoryView.prototype.buildMemberView=function(t){let i=t.getDimensionMember();let o=this.buildCheckboxItem("ffGdsQbNavigationPanelMember",!t.hasChildren(),this.handleMemberToggle.bind(this));o.setNode(t);let n=o.getRoot();if(i.getMemberType().isTypeOf(e.MemberType.MEASURE)&&this.m_config.getMenuProvider()!==null&&this.m_config.isRightClickContextMenuForMemberEnabled()){n.registerOnContextMenu(e.UiLambdaContextMenuListener.create(o=>{this.m_config.getMenuProvider().showMemberMenu(e.OuInventoryView.UI_CONTEXT,o,i,t,null,null)}))}this.buildCalculationControls(o,i);n.setDraggable(true);n.setTag(this.m_config.getDragElementTag());n.setCustomObject(o);n.registerOnDragStart(e.UiLambdaDragStartListener.create(e=>{this.notifyDragStartModel(t)}));n.registerOnDragEnd(e.UiLambdaDragEndListener.create(e=>{this.notifyDragEnd()}));return o};e.OuInventoryView.prototype.buildMemberViewRecursive=function(t,i){let o=i.getDimensionMember();let n=this.buildMemberView(i);if(i.hasChildren()){t.setMemberHierarchy(true);let a=i.getChildren();for(let e=0;e<a.size();e++){let i=a.get(e);n.addChild(this.buildMemberViewRecursive(t,i))}let r=n.getPanel();let l=this.m_panelExpansion.getBooleanByKeyExt(o.getName(),false);r.setExpanded(l);r.registerOnExpand(e.UiLambdaExpandListener.create(e=>{this.m_panelExpansion.putBoolean(o.getName(),true)}));r.registerOnCollapse(e.UiLambdaCollapseListener.create(e=>{this.m_panelExpansion.putBoolean(o.getName(),false)}))}return n};e.OuInventoryView.prototype.buildPanelContent=function(){this.clearContent();this.m_renderedWithTable=this.isTableVisualizationActiveOnQueryManager();let t=this.m_queryManager.getQueryModel();this.addPanel(this.buildStructurePanel(t.getAccountDimension()));this.addPanel(this.buildStructurePanel(t.getMeasureDimension()));this.addPanel(this.buildStructurePanel(t.getDimensionByType(e.DimensionType.SECONDARY_STRUCTURE)));this.addPanel(this.buildDimensionsPanel());this.updateControls()};e.OuInventoryView.prototype.buildStructureMembers=function(t,i,o){let n=t.getDimension();let a=this.getLocalizationProvider();let r=i.setNewContent(e.UiType.LIST);r.addCssClass("ffGdsQbNavigationPanelStructureMemberList");r.removeAttribute(e.UtUi5AttributeConstants.FAST_NAV_GROUP);t.setChildrenList(r);if(o.size()>1){let i=this.buildCheckboxItem("ffGdsQbNavigationPanelSelectAll",true,e=>{this.handleSelectAll(e,n)});let o=i.getRoot();o.setTag(e.OuInventoryViewI18n.NAV_SELECT_ALL);let l=a.getText(e.OuInventoryViewI18n.NAV_SELECT_ALL);let s=i.getLabel();s.setText(l);s.setTooltip(l);s.setFontWeight(e.UiFontWeight.BOLD);r.addItem(o);i.getCheckbox().setEnabled(!this.isPieOrDonutActive(n));t.setSelectAll(i)}for(let e=0;e<o.size();e++){let i=o.get(e);if(i.getParentNode()===null){t.addChild(this.buildMemberViewRecursive(t,i))}}};e.OuInventoryView.prototype.buildStructureMenu=function(t,i){let o=t.getDimension();let n=i.addNewItemOfType(e.UiType.FLEX_LAYOUT);n.setDirection(e.UiFlexDirection.ROW);n.setFlex("0 0 auto");n.setAlignItems(e.UiFlexAlignItems.CENTER);if(this.m_config.isSeparateSortMenus()){let i=n.addNewItemOfType(e.UiType.BUTTON);i.addCssClass("ffGdsQbNavigationPanelStructureMenuButton");i.setIcon("overflow");i.setButtonType(e.UiButtonType.TRANSPARENT);i.registerOnPress(e.UiLambdaPressListener.create(i=>{let n=this.getGenesis().newControl(e.UiType.MENU);let a=e.OuInventoryViewSortMenu.create(n);a.addCssClass("ffGdsQbNavigationStructureSort");a.setConsumer(e=>{this.setStructureSorting(t,e)});a.update(this.m_structureSortDirections.getByKey(o.getName()));n.openAt(i.getControl())}))}this.addAxisButtons(n,o,t)};e.OuInventoryView.prototype.buildStructurePanel=function(t){if(e.isNull(t)){return null}let i=this.getMembersByDimension(t);if(!e.XCollectionUtils.hasElements(i)){return null}let o=e.OuInventoryStructure.createView(t);this.m_structureViews.add(o);let n=this.buildMainPanel(t.getName(),this.getStructureDisplayText(t));n.addCssClass("ffGdsQbNavigationPanelStructurePanel");this.setStructurePanelName(t,n);o.setPanel(n);let a=n.getHeaderToolbar();a.removeAttribute(e.UtUi5AttributeConstants.FAST_NAV_GROUP);a.addCssClass("ffGdsQbNavigationPanelDimensionHeader");a.addCssClass("ffGdsQbNavigationPanelStructurePanelHeader");a.setDraggable(true);a.setTag(this.m_config.getDragElementTag());a.setCustomObject(o);a.registerOnDragStart(e.UiLambdaDragStartListener.create(e=>{this.notifyDragStartModel(t)}));a.registerOnDragEnd(e.UiLambdaDragEndListener.create(e=>{this.notifyDragEnd()}));o.setHeader(a);this.buildStructureMenu(o,a);this.buildStructureMembers(o,n,i);this.buildCalculationButton(t);if(this.m_config.isSeparateSortMenus()&&!this.m_structureSortDirections.containsKey(t.getName())){let i=t.getDimensionType()===e.DimensionType.SECONDARY_STRUCTURE;let n=i||o.hasMemberHierarchy()?e.XSortDirection.NONE:e.XSortDirection.ASCENDING;this.m_structureSortDirections.put(t.getName(),n)}return n};e.OuInventoryView.prototype.buildViewUi=function(t){this.m_root=t.newRoot(e.UiType.FLEX_LAYOUT);this.m_root.setDirection(e.UiFlexDirection.COLUMN);this.m_root.useMaxSpace();this.m_root.addCssClass("ffGdsQbNavigationView");this.m_searchWrapper=this.m_root.addNewItemOfType(e.UiType.FLEX_LAYOUT);this.m_searchWrapper.addCssClass("ffGdsQbNavigationPanelSearchContainer");this.m_searchWrapper.setPadding(e.UiCssBoxEdges.create("0 0.375rem"));this.m_searchWrapper.setFlex("0 0 auto");this.m_searchWrapper.setAlignItems(e.UiFlexAlignItems.CENTER);this.m_searchField=this.m_searchWrapper.addNewItemOfType(e.UiType.SEARCH_FIELD);this.m_searchField.registerOnSearch(e.UiLambdaSearchListener.create(e=>{this.doSearch(this.m_searchField.getValue())}));this.m_searchField.registerOnLiveChange(e.UiLambdaLiveChangeWithDebounceListener.create(t=>{if(e.XString.size(this.m_searchField.getValue())!==1){this.doSearch(this.m_searchField.getValue())}},350));let i=this.m_root.addNewItemOfType(e.UiType.SCROLL_CONTAINER);i.useMaxHeight();this.m_main=i.setNewContent(e.UiType.FLEX_LAYOUT);this.m_main.setDirection(e.UiFlexDirection.COLUMN);this.m_main.setHeight(e.UiCssLength.AUTO);this.m_main.addCssClass("ffGdsQbNavigationViewMainContainer");this.setQueryManager(null)};e.OuInventoryView.prototype.checkMemberMapInSync=function(t){if(e.isNull(this.m_memberMap)||this.m_memberMap.size()!==t.size()){return false}if(this.m_renderedWithTable!==this.isTableVisualizationActiveOnQueryManager()){return false}let i=this.m_memberMap.getKeysAsReadOnlyList();for(let o=0;o<i.size();o++){let n=i.get(o);let a=this.m_memberMap.getByKey(n);let r=t.getByKey(n);if(e.isNull(r)||a.size()!==r.size()){return false}for(let t=0;t<a.size();t++){let i=a.get(t);let o=r.get(t);let n=this.m_presentation.getDisplayValueByType(i.getDimensionMember());let l=this.m_presentation.getDisplayValueByType(o.getDimensionMember());if(!e.XString.isEqual(n,l)){return false}if(i.getChildCount()!==o.getChildCount()){return false}}}return true};e.OuInventoryView.prototype.checkMoreButton=function(t,i){if(this.m_config.getMenuProvider()===null){i.setVisible(false);return}this.m_config.getMenuProvider().hasDimMenu(e.OuInventoryView.UI_CONTEXT,t,t=>{if(e.XObjectExt.isValidObject(i)){i.setVisible(t.getBoolean())}})};e.OuInventoryView.prototype.clearContent=function(){this.m_main.clearItems();e.XCollectionUtils.releaseEntriesFromCollection(this.m_dimViews);this.m_dimViews.clear();e.XCollectionUtils.releaseEntriesFromCollection(this.m_structureViews);this.m_structureViews.clear();this.m_panelExpansionPreSearch=null;this.m_searchInProgress=false;this.m_searchField.setValue(null)};e.OuInventoryView.prototype.clearUiState=function(){this.m_panelExpansion.clear();this.m_structureSortDirections.clear()};e.OuInventoryView.prototype.compareLabels=function(t,i,o){let n=t.getText();let a=i.getText();let r=o===e.XSortDirection.DESCENDING?-1:1;return e.XIntegerValue.create(e.XString.compare(n,a)*r)};e.OuInventoryView.prototype.configureDimPanelForChildren=function(t){let i=t.getPanel();if(e.isNull(i)){i=e.OuMagicPanel.create(this.getGenesis());let o=i.getView();o.removeAttribute(e.UtUi5AttributeConstants.FAST_NAV_GROUP);o.addCssClass("ffGdsQbNavigationPanelMemberPanel");o.setHeaderToolbar(t.getHeader());i.setExpandable(true);t.getListItemRoot().setContent(o);t.getListItemRoot().removeCssClass("ffGdsQbNavigationPanelDimensionNoChildren");t.getListItemRoot().addCssClass("ffGdsQbNavigationPanelDimensionWithChildren");t.setPanel(i);let n=t.isGroup();let a=this.m_panelExpansion.getBooleanByKeyExt(t.getName(),false);if(n&&this.m_groupPresentation===e.OuInventoryViewGroupPresentation.ALL_EXPANDED){a=true}if(a){this.addChildrenToDimView(t);i.setExpanded(a)}i.setOnCollapse(()=>{if(this.m_searchInProgress){return}this.m_panelExpansion.putBoolean(t.getName(),false);if(n&&this.m_groupPresentation!==e.OuInventoryViewGroupPresentation.MIXED){this.setGroupPresentation(e.OuInventoryViewGroupPresentation.MIXED)}});i.setOnExpand(()=>{if(this.m_searchInProgress){return}this.m_panelExpansion.putBoolean(t.getName(),true);if(n&&this.m_groupPresentation!==e.OuInventoryViewGroupPresentation.MIXED){this.setGroupPresentation(e.OuInventoryViewGroupPresentation.MIXED)}})}this.addChildrenToDimView(t)};e.OuInventoryView.prototype.destroyView=function(){this.m_main=e.XObjectExt.release(this.m_main);this.m_process=null;this.m_searchWrapper=null;this.m_searchField=null;this.m_menuButton=null;this.m_dimensionList=null;this.m_presentation=null;this.m_dimensionSortDirection=null;this.m_structureSortDirections=e.XObjectExt.release(this.m_structureSortDirections);this.m_groupPresentation=null;this.m_config=null;this.m_onChange=null;this.m_dimViews=e.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_dimViews);this.m_structureViews=e.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_structureViews);this.m_panelExpansion=e.XObjectExt.release(this.m_panelExpansion);this.m_queryManager=null;this.m_memberMap=e.XObjectExt.release(this.m_memberMap);this.m_root=e.XObjectExt.release(this.m_root)};e.OuInventoryView.prototype.doSearch=function(t){let i=e.XStringUtils.isNullOrEmpty(t);if(!i){this.m_searchInProgress=true;if(e.isNull(this.m_panelExpansionPreSearch)){this.m_panelExpansionPreSearch=this.m_panelExpansion.serialize()}this.forceMainPanelsExpansion();for(let i=0;i<this.m_dimViews.size();i++){let o=this.m_dimViews.get(i);let n=this.doSearchChildren(t,o.getChildrenViews());n=n||this.doSearchDimensions(t,o.getDimensionViews());if(o.getDimension()===null&&!n){o.getListItemRoot().setVisible(false)}else{let i=o.getLabel().getText();let a=e.XStringUtils.containsString(i,t,true);o.getListItemRoot().setVisible(a||n)}let a=o.getPanel();if(e.notNull(a)){let e=a.getView();e.setAnimated(false);a.setExpandable(n);a.setExpanded(n)}}for(let e=0;e<this.m_structureViews.size();e++){let i=this.m_structureViews.get(e);let o=this.doSearchChildren(t,i.getDirectChildren());if(i.getSelectAll()!==null){i.getSelectAll().getRoot().setVisible(o);if(o){this.updateMasterCheckbox(i)}}}}else if(this.m_searchInProgress){this.m_searchInProgress=false;this.m_panelExpansion.clear();this.m_panelExpansion.deserialize(this.m_panelExpansionPreSearch);this.m_panelExpansionPreSearch=null;this.buildPanelContent()}};e.OuInventoryView.prototype.doSearchChildren=function(t,i){if(!e.XCollectionUtils.hasElements(i)){return false}let o=false;for(let n=0;n<i.size();n++){let a=i.get(n);let r=a.getLabel().getText();let l=e.XStringUtils.containsString(r,t,true);let s=this.doSearchChildren(t,a.getDirectChildren());a.getRoot().setVisible(l||s);let u=a.getPanel();u.setAnimated(false);u.setExpandable(s);u.setExpanded(s);u.setAnimated(true);o=o||l||s}return o};e.OuInventoryView.prototype.doSearchDimensions=function(t,i){if(!e.XCollectionUtils.hasElements(i)){return false}let o=false;for(let n=0;n<i.size();n++){let a=i.get(n);let r=a.getLabel().getText();let l=e.XStringUtils.containsString(r,t,true);let s=this.doSearchChildren(t,a.getChildrenViews());s=s||this.doSearchDimensions(t,a.getDimensionViews());a.getListItemRoot().setVisible(l||s);let u=a.getPanel();if(e.notNull(u)){let e=u.getView();e.setAnimated(false);u.setExpandable(s);u.setExpanded(s);e.setAnimated(true)}o=o||l||s}return o};e.OuInventoryView.prototype.fetchMembersAndBuildUi=function(){this.m_root.setBusy(true);let t=this.m_queryManager.getQueryModel();let i=e.QueryDesignerUtils.getStructureDimensions(t);let o=e.QueryDesignerUtils.getMembersOfDimensions(i);o.onThen(e=>{let t=this.filterAllMembersForUi(e);if(!this.checkMemberMapInSync(t)){this.clearContent()}this.m_memberMap=t}).onCatch(t=>{this.m_memberMap=e.XHashMapByString.create()});o.onFinally(()=>{this.m_root.setBusy(false);this.m_isQueryManagerSet=true;try{if(!this.m_main.hasItems()){this.buildPanelContent()}else{this.updateControls()}}catch(t){let i=this.getGenesis().newRoot(e.UiType.MESSAGE_STRIP);i.setMessageType(e.UiMessageType.ERROR);i.setText(e.XException.getMessage(t));e.XLogger.printError(e.XException.getStackTrace(t,0))}})};e.OuInventoryView.prototype.filterAllMembersForUi=function(t){let i=e.XHashMapByString.create();e.XCollectionUtils.mapEntries(t,(e,t)=>{i.put(e,this.filterMembersForUi(t))});return i};e.OuInventoryView.prototype.filterMembersForUi=function(t){return e.XStream.of(t).filter(t=>{let i=t.getDimensionMember();if(i.getResultVisibility()===e.ResultVisibility.HIDDEN){return false}if(i.getDimension().isStructure()){let e=i;let t=e.getCellValueType()===null||!e.getCellValueType().isDateTime();return this.isTableVisualizationActiveOnQueryManager()||t}return true}).collect(e.XStreamCollector.toListOfNameObject())};e.OuInventoryView.prototype.forceMainPanelsExpansion=function(){let e=this.m_main.getItems();for(let t=0;t<e.size();t++){let i=e.get(t);i.setAnimated(false);i.setExpanded(true);i.setAnimated(true)}};e.OuInventoryView.prototype.getCurrentlyIncludedMembers=function(t){let i=this.getMembersByDimension(t);if(!e.XCollectionUtils.hasElements(i)){return e.XListOfNameObject.create()}let o=this.m_queryManager.getConvenienceCommands().getVisibleMembers(t,i);let n=e.XListOfNameObject.create();for(let t=0;t<o.size();t++){let a=i.getByKey(o.get(t));if(e.notNull(a)){n.add(a)}}return n};e.OuInventoryView.prototype.getDataProvider=function(){return this.m_dataProvider};e.OuInventoryView.prototype.getFilteredAttributes=function(t){if(!this.m_renderedWithTable){return e.XList.create()}if(t.getFieldLayoutType()===e.FieldLayoutType.FIELD_BASED){return e.XList.create()}return e.XCollectionUtils.filter(t.getAttributes(),e=>{let i=e.getKeyField()===t.getGeoShapeField();return e!==t.getMainAttribute()&&!i})};e.OuInventoryView.prototype.getLeadingStructure=function(){let e=this.m_queryManager.getQueryModel();if(e.isLeadingStructureAccount()){return e.getAccountDimension()}return e.getMeasureDimension()};e.OuInventoryView.prototype.getLocalStorageDefaultGroupPresentationKey=function(){return e.XStringUtils.concatenate3(e.OuInventoryView.DEFAULT_LOCAL_STORAGE_PREFIX,"_",e.OuInventoryView.LOCAL_STORAGE_DEFAULT_DIMENSION_GROUP_PRESENTATION)};e.OuInventoryView.prototype.getLocalStorageGroupPresentationKey=function(){return e.XStringUtils.concatenate3(e.OuInventoryView.DEFAULT_LOCAL_STORAGE_PREFIX,"_",e.OuInventoryView.LOCAL_STORAGE_DIMENSION_GROUP_PRESENTATION)};e.OuInventoryView.prototype.getLocalizationProvider=function(){return e.XLocalizationCenter.getCenter().getLocalizationProviderByName(e.OuInventoryViewI18n.PROVIDER_NAME)};e.OuInventoryView.prototype.getMembersByDimension=function(t){let i=this.m_memberMap.getByKey(t.getName());if(!e.XCollectionUtils.hasElements(i)){return e.XListOfNameObject.create()}return i};e.OuInventoryView.prototype.getQueryManager=function(){return this.m_queryManager};e.OuInventoryView.prototype.getStructureDisplayText=function(t){let i=this.getLocalizationProvider();let o=t.getDimensionType();if(o===e.DimensionType.ACCOUNT){return i.getText(e.OlapUiCommonI18n.COMMON_ACCOUNT)}if(o===e.DimensionType.MEASURE_STRUCTURE){return i.getText(e.OlapUiCommonI18n.COMMON_MEASURES)}if(o===e.DimensionType.SECONDARY_STRUCTURE){if(this.m_process.hasFeature(e.FeatureToggleOlap.USE_ORIGINAL_STRUCTURE_TEXT_IN_UI)&&e.XStringUtils.isNotNullAndNotEmpty(t.getOriginalText())){return t.getOriginalText()}return i.getText(e.OlapUiCommonI18n.COMMON_STRUCTURE)}return null};e.OuInventoryView.prototype.handleAttributeChange=function(t,i){let o=t.getCheckbox();if(e.isNull(o)){return}let n=i.getConvenienceCommands();let a=i.getDimension();if(o.isChecked()){this.implicitlyMoveDimensionIfNecessary(a);n.addAttributeToResultSet(a.getName(),i.getName())}else{n.removeAttributeFromResultSet(a.getName(),i.getName())}this.notifyDimExpansion(a.getName());this.notifyChangeListeners()};e.OuInventoryView.prototype.handleCalculationDeletion=function(t){let i=t.getDimension();i.queueEventing();let o=this.getCurrentlyIncludedMembers(i);if(o.containsKey(t.getName())){e.FeFormulaCustomMeasureUtil.deleteCustomMeasures(t.getName(),i);o.removeElement(o.getByKey(t.getName()));if(o.size()===0){this.implicitlyMoveDimensionIfNecessary(i)}}i.removeMeasure(t.getName());let n=this.getLocalizationProvider();let a=n.getTextWithPlaceholder(e.OuInventoryViewI18n.NAV_CALCULATION_DELETION_INFO,t.getText());this.m_config.getToastPresenter().showSuccessToast(a);this.validateFormulaExceptionsAfterCalculationDeletion(t);this.validateOtherFormulasAfterCalculationDeletion(t);this.validateFiltersAfterCalculationDeletion(t);i.resumeEventing();this.notifyChangeListeners()};e.OuInventoryView.prototype.handleMemberDeselect=function(t,i,o){let n=i.getDimension();let a=n.getConvenienceCommands();let r=n.getName();if(!e.QueryDesignerUtils.canBeRemoved(n)&&!a.isDimensionOnRowsOrColumns(r)){this.openFilterDialogAndNotifyAfter(n,()=>{t.getCheckbox().setChecked(true)})}else{o.removeElement(i);e.XCollectionUtils.forEach(t.getAllChildren(),e=>{o.removeElement(e.getNode())});let a=this.getMembersByDimension(n);e.QueryDesignerUtils.setFilterForDimension(n,a,o);this.notifyMemberExpansion(r,i.getDimensionMember().getName());this.notifyDimExpansion(r);this.notifyChangeListeners()}};e.OuInventoryView.prototype.handleMemberSelect=function(t,i,o){let n=i.getDimension();if(this.isPieOrDonutActive(n)){o.clear()}if(!o.containsKey(i.getName())){o.add(i)}e.XCollectionUtils.forEach(t.getAllChildren(),e=>{let t=e.getNode();if(!o.containsKey(t.getDimensionMember().getName())){o.add(t)}});if(o.size()>1){this.implicitlyMoveDimensionIfNecessary(n)}let a=this.getMembersByDimension(n);e.QueryDesignerUtils.setFilterForDimension(n,a,o);let r=n.getName();this.notifyMemberExpansion(r,i.getDimensionMember().getName());this.notifyDimExpansion(r);this.notifyChangeListeners()};e.OuInventoryView.prototype.handleMemberToggle=function(t){if(e.isNull(t)||t.getNode()===null||t.getNode().getDimensionMember()===null){return}let i=t.getNode();let o=i.getDimensionMember();let n=this.getCurrentlyIncludedMembers(o.getDimension());if(!n.containsKey(o.getName())){let o=e.UiPerformanceCenter.getCenter();o.startMeasure("[Dragonfly][Select Measure]");this.handleMemberSelect(t,i,n)}else{this.handleMemberDeselect(t,i,n)}};e.OuInventoryView.prototype.handleNewCalculation=function(t,i,o){if(e.notNull(i)){let n=i.getName();let a=i.getDimension();let r=e.QFactory.createMeasureHelpNode(n,i);if(!t.containsKey(n)&&!o){t.add(r)}if(t.size()>1){this.implicitlyMoveDimensionIfNecessary(a)}let l=this.m_memberMap.getByKey(a.getName());let s=e.XCollectionUtils.createListOfNameObjectCopy(l);if(l.containsKey(n)){s.removeElement(s.getByKey(n))}s.add(r);this.m_memberMap.put(a.getName(),s);e.QueryDesignerUtils.setFilterForDimension(a,s,t)}this.notifyChangeListeners()};e.OuInventoryView.prototype.handleSelectAll=function(t,i){let o=t.getCheckbox();if(e.isNull(o)){return}if(o.isChecked()){let t=e.UiPerformanceCenter.getCenter();t.startMeasure("[Dragonfly][Select All Measures]")}let n=o.isChecked();let a=i.getConvenienceCommands();if(!e.QueryDesignerUtils.canBeAggregated(i)&&!a.isDimensionOnRowsOrColumns(i.getName())){if(!n){this.openFilterDialogAndNotifyAfter(i,()=>{o.setChecked(true)});return}this.implicitlyMoveDimensionIfNecessary(i)}let r=this.m_structureViews.getByKey(i.getName()).getAllChildren();let l=this.getCurrentlyIncludedMembers(i);for(let e=0;e<r.size();e++){let t=r.get(e);if(!t.getRoot().isVisible()){continue}let i=t.getNode();if(n&&!l.containsKey(i.getDimensionMember().getName())){l.add(i)}else if(!n&&l.containsKey(i.getDimensionMember().getName())){l.removeElement(i)}}let s=this.getMembersByDimension(i);e.QueryDesignerUtils.setFilterForDimension(i,s,l);this.notifyChangeListeners()};e.OuInventoryView.prototype.implicitlyMoveDimensionIfNecessary=function(t){let i=t.getConvenienceCommands();if(!i.isDimensionOnRowsOrColumns(t.getName())){let i=t.getQueryModel().getMeasureDimension();if(e.notNull(i)&&i!==t){this.moveDimensionToAxis(t,e.QueryDesignerUtils.getOppositeAxis(i.getAxisType()))}else{let i=this.m_renderedWithTable?e.AxisType.COLUMNS:e.AxisType.ROWS;this.moveDimensionToAxis(t,i)}}};e.OuInventoryView.prototype.isCalculationsEnabled=function(t){if(!this.m_config.isCalculationsEnabled()){return false}if(!this.m_config.isCalculationsOnSecondaryStructEnabled()){if(t.getDimensionType()===e.DimensionType.SECONDARY_STRUCTURE){return false}else{return this.m_queryManager.getQueryModel().isUniversalAccountModel()||t===this.getLeadingStructure()}}else{return!(this.isLegacyAccountModel()&&t.isMeasureStructure())}};e.OuInventoryView.prototype.isEditableFormula=function(t){if(!t.getMemberType().isTypeOf(e.MemberType.FORMULA)){return false}let i=t.getDimensionMember();return i.isEditable()&&i.getFormulaText().isPresent()&&e.XStringUtils.isNotNullAndNotEmpty(i.getFormulaText().get())};e.OuInventoryView.prototype.isLegacyAccountModel=function(){return this.m_queryManager.getQueryModel().isAccountModel()&&!this.m_queryManager.getQueryModel().hasUserDefinedMeasures()};e.OuInventoryView.prototype.isPieOrDonutActive=function(t){let i=false;let o=t.getQueryModel();let n=o.getVisualizationManager().getCurrentActiveVisualizationDefinition();if(e.notNull(n)&&n.getProtocolBindingType()!==null&&n.getProtocolBindingType().isTypeOf(e.ProtocolBindingType.ABSTRACT_CHART_PROTOCOL)&&(!o.isUniversalAccountModel()||t.getDimensionType().isTypeOf(e.DimensionType.ACCOUNT))){i=n.isSingleMeasureChartType()&&(t.getDimensionType()===e.DimensionType.MEASURE_STRUCTURE||t.getDimensionType()===e.DimensionType.ACCOUNT)}return i};e.OuInventoryView.prototype.isTableVisualizationActiveOnQueryManager=function(){let t=this.getQueryManager().getQueryModel().getVisualizationManager().getCurrentActiveVisualizationDefinition();let i=e.isNull(t)||t.getProtocolBindingType()===e.ProtocolBindingType.SAC_TABLE_GRID;return i};e.OuInventoryView.prototype.moveDimensionToAxis=function(t,i){if(t.getAxisType()!==i){let o=e.UiPerformanceCenter.getCenter();o.startMeasure("[Dragonfly][Select Dimension]");let n=t.getConvenienceCommands();let a=t.getAxisType()!==i;n.moveDimensionToAxis(t.getName(),i);if(a){t.getConvenienceCommands().moveSortToPosition(e.SortType.ABSTRACT_DIMENSION_SORT,t.getName(),0)}}};e.OuInventoryView.prototype.notifyChangeListeners=function(){if(e.notNull(this.m_onChange)){this.m_onChange(null)}else if(e.notNull(this.m_dataProvider)){this.m_dataProvider.getEventing().notifyExternalModelChange(null)}};e.OuInventoryView.prototype.notifyDimExpansion=function(t){if(e.notNull(this.m_expansionReceiver)){this.m_expansionReceiver.expandDimension(t)}};e.OuInventoryView.prototype.notifyDragEnd=function(){if(e.notNull(this.m_dropReceiver)){this.m_dropReceiver.dragEnd()}};e.OuInventoryView.prototype.notifyDragStartModel=function(t){if(e.notNull(this.m_dropReceiver)){this.m_dropReceiver.dragStartModelComponent(t)}};e.OuInventoryView.prototype.notifyMemberExpansion=function(t,i){if(e.notNull(this.m_expansionReceiver)){this.m_expansionReceiver.expandMember(t,i)}};e.OuInventoryView.prototype.observeDataProviderEvents=function(){if(e.notNull(this.m_dataProvider)){this.m_lifecycleConsumerId=this.m_dataProvider.getEventing().getListenerForLifecycle().addConsumer(this.onLifecycleChangeEvent.bind(this));this.m_modelChangeListenerId=this.m_dataProvider.getEventing().getListenerForModelChanges().addConsumer(this.onModelChangeEvent.bind(this))}};e.OuInventoryView.prototype.onLifecycleChangeEvent=function(t){if(t.getNewState()===e.OuDataProviderLifecycle.RELEASED){this.setDataProvider(null)}else if(t.getNewState()===e.OuDataProviderLifecycle.DISCONNECTED){this.setQueryManager(null)}else if(t.getNewState()===e.OuDataProviderLifecycle.CONNECTED){this.setQueryManager(this.m_dataProvider.getQueryManager())}};e.OuInventoryView.prototype.onModelChangeEvent=function(e){this.updateUi()};e.OuInventoryView.prototype.openCalculationDialog=function(t,i,o){let n=this.getCurrentlyIncludedMembers(t);e.FormulaEditorNativeModule.getInstance();let a=e.ProgramStartData.create();a.putXObject(e.DfOuDialogProgram.PRG_DATA_QUERY_MANAGER,this.getQueryManager());a.putXObject(e.OuCalcCalculationsDialog.PRG_DATA_LISTENER_CLOSE,e.OuCalcCalculationsDialogLambdaCloseListener.create(e=>{o.focus();this.handleNewCalculation(n,e,i.isPresent())}));let r=e.ProgramRunner.createRunner(this.m_config.getApplication().getProcess(),e.OuCalcCalculationsDialog.DEFAULT_PROGRAM_NAME);r.setProgramStartData(a);r.setStringArgument(e.OuCalcCalculationsDialog.PARAM_DIMENSION_NAME,t.getName());if(i.isPresent()){r.setStringArgument(e.OuCalcCalculationsDialog.PARAM_CALCULATION_NAME,i.get())}r.setListArgument(e.OuCalcCalculationsDialog.PARAM_FORMULA_ITEMS,e.PrList.create().addAllStrings(e.OuDesignerViewConfiguration.getFormulaItems()));r.runProgram()};e.OuInventoryView.prototype.openFilterDialogAndNotifyAfter=function(e,t){this.openFilterDialogWithCallback(e,e=>{this.notifyChangeListeners()},t)};e.OuInventoryView.prototype.openFilterDialogWithCallback=function(t,i,o){let n=e.XLocalizationCenter.getCenter().getTextWithPlaceholder(e.OuInventoryViewI18n.NAV_FILTER_DIALOG_TITLE,t.getText());e.QueryDesignerUtils.openSingleMemberFilterDialog(t.getApplication(),n,t,e.FilterDialogLambdaCloseListener.create(i,o))};e.OuInventoryView.prototype.orderChildren=function(t){let i=t.getDimension();let o=this.m_structureSortDirections.getByKey(i.getName());if(o===e.XSortDirection.NONE){return}let n=e.XComparatorLambda.create((e,t)=>this.compareLabels(e.getLabel(),t.getLabel(),o));let a=t.getDirectChildren();if(e.XCollectionUtils.hasElements(a)){let i=e.XCollectionUtils.createListCopy(a);i.sortByComparator(n);let o=t.getChildrenList();o.clearItems();if(t.getCalculationsLink()!==null){o.addItem(t.getCalculationsLink().getRoot())}if(t.getSelectAll()!==null){o.addItem(t.getSelectAll().getRoot())}o.addAllItems(e.XCollectionUtils.map(i,e=>e.getRoot()))}};e.OuInventoryView.prototype.orderDimensions=function(){if(!e.XCollectionUtils.hasElements(this.m_dimViews)||this.m_dimensionSortDirection===e.XSortDirection.NONE){return}let t=e.XComparatorLambda.create((e,t)=>this.compareLabels(e.getLabel(),t.getLabel(),this.m_dimensionSortDirection));let i=e.XComparatorLambda.create((e,t)=>this.compareLabels(e.getLabel(),t.getLabel(),this.m_dimensionSortDirection));let o=e.XStream.of(this.m_dimensionList.getItems()).map(e=>e.getCustomObject()).collect(e.XStreamCollector.toList());o.sortByComparator(t);this.m_dimensionList.clearItems();this.m_dimensionList.addAllItems(e.XCollectionUtils.map(o,e=>e.getListItemRoot()));for(let o=0;o<this.m_dimViews.size();o++){let n=this.m_dimViews.get(o);let a=n.getChildrenViews();if(e.XCollectionUtils.hasElements(a)){let t=e.XCollectionUtils.createListCopy(a);t.sortByComparator(i);let o=n.getChildrenList();o.clearItems();o.addAllItems(e.XCollectionUtils.map(t,e=>e.getRoot()))}let r=n.getDimensionList();if(e.notNull(r)&&r.getNumberOfItems()>0){let i=n.getDimensionViews();let o=e.XCollectionUtils.createListCopy(i);o.sortByComparator(t);r.clearItems();r.addAllItems(e.XCollectionUtils.map(o,e=>e.getListItemRoot()))}}};e.OuInventoryView.prototype.setDataProvider=function(t){this.unobserveDataProviderEvents();this.m_dataProvider=t;this.observeDataProviderEvents();this.setQueryManager(e.notNull(this.m_dataProvider)?this.m_dataProvider.getQueryManager():null)};e.OuInventoryView.prototype.setDimensionSorting=function(t){this.m_dimensionSortDirection=t;if(t===e.XSortDirection.NONE){this.buildPanelContent();return}this.orderDimensions()};e.OuInventoryView.prototype.setDropReceiver=function(e){this.m_dropReceiver=e};e.OuInventoryView.prototype.setExpansionForGroups=function(e){for(let t=0;t<this.m_dimViews.size();t++){let i=this.m_dimViews.get(t);if(i.isGroup()){this.m_panelExpansion.putBoolean(i.getName(),e)}}};e.OuInventoryView.prototype.setExpansionReceiver=function(e){this.m_expansionReceiver=e};e.OuInventoryView.prototype.setGroupPresentation=function(t){let i=this.m_process.getLocalStorage();let o=this.getLocalStorageGroupPresentationKey();this.m_groupPresentation=t;if(this.m_groupPresentation===e.OuInventoryViewGroupPresentation.FLAT){i.putString(o,e.OuInventoryViewGroupPresentation.FLAT.getName());this.buildPanelContent()}else if(this.m_groupPresentation===e.OuInventoryViewGroupPresentation.ALL_EXPANDED){i.putString(o,e.OuInventoryViewGroupPresentation.ALL_EXPANDED.getName());this.setExpansionForGroups(true);this.buildPanelContent()}else if(this.m_groupPresentation===e.OuInventoryViewGroupPresentation.ALL_COLLAPSED){i.putString(o,e.OuInventoryViewGroupPresentation.ALL_COLLAPSED.getName());this.setExpansionForGroups(false);this.buildPanelContent()}else if(this.m_groupPresentation===e.OuInventoryViewGroupPresentation.MIXED){i.removeKey(o)}};e.OuInventoryView.prototype.setInvalidThreshold=function(t){this.m_config.getToastPresenter().showWarningToast(t);e.UiFramework.currentFramework().announce(t,e.UiAriaLiveMode.ASSERTIVE)};e.OuInventoryView.prototype.setOnChange=function(e){this.m_onChange=e};e.OuInventoryView.prototype.setPresentation=function(e){this.m_presentation=e;this.updateAllLabels();this.updateSorting()};e.OuInventoryView.prototype.setQueryManager=function(t){this.clearUiState();this.clearContent();this.m_queryManager=t;this.m_searchWrapper.setVisible(e.notNull(this.m_queryManager));if(e.isNull(this.m_queryManager)){this.m_main.addNewItemOfType(e.UiType.LIST);return}this.m_isQueryManagerSet=false;this.fetchMembersAndBuildUi()};e.OuInventoryView.prototype.setSorting=function(t){let i;if(t===e.XSortDirection.DISABLED){i=e.XSortDirection.NONE}else if(t===e.XSortDirection.DEFAULT_VALUE){i=e.XSortDirection.ASCENDING}else{i=t}this.m_dimensionSortDirection=i;e.XCollectionUtils.forEach(this.m_structureViews,e=>{this.m_structureSortDirections.put(e.getDimension().getName(),i)});if(i===e.XSortDirection.NONE){this.buildPanelContent();return}this.updateSorting()};e.OuInventoryView.prototype.setStructurePanelName=function(t,i){if(t.isMeasureStructure()){i.addCssClass("ffGdsQbNavigationPanelMeasure")}else if(t.isStructure()){i.addCssClass("ffGdsQbNavigationPanelSecondStructure")}else if(t.getDimensionType()===e.DimensionType.ACCOUNT){i.addCssClass("ffGdsQbNavigationPanelAccount")}};e.OuInventoryView.prototype.setStructureSorting=function(t,i){this.m_structureSortDirections.put(t.getDimension().getName(),i);if(i===e.XSortDirection.NONE){this.buildPanelContent();return}this.orderChildren(t)};e.OuInventoryView.prototype.setupView=function(){this.m_dimViews=e.XListOfNameObject.create();this.m_structureViews=e.XListOfNameObject.create();this.m_panelExpansion=e.XProperties.create();this.m_presentation=this.m_config.getDefaultPresentation();this.m_dimensionSortDirection=this.m_config.isSeparateSortMenus()?e.XSortDirection.ASCENDING:e.XSortDirection.NONE;this.m_structureSortDirections=e.XHashMapByString.create();let t;if(this.m_config.getDefaultGroupPresentation()!==null){t=this.m_config.getDefaultGroupPresentation()}else{t=e.OuInventoryViewGroupPresentation.ALL_COLLAPSED}this.m_groupPresentation=t;if(this.m_config.isShowGroupPresentationMenu()){let i=this.m_process.getLocalStorage();let o=this.getLocalStorageDefaultGroupPresentationKey();let n=i.getStringByKeyExt(o,e.OuInventoryViewGroupPresentation.ALL_COLLAPSED.getName());if(e.XString.isEqual(t.getName(),n)){let t=i.getStringByKey(this.getLocalStorageGroupPresentationKey());this.m_groupPresentation=e.OuInventoryViewGroupPresentation.lookup(t)}i.putString(o,t.getName())}};e.OuInventoryView.prototype.toggleDimensionAxis=function(t,i){if(t.getAxisType()!==i){this.moveDimensionToAxis(t,i);this.notifyChangeListeners();return}if(e.QueryDesignerUtils.canBeRemoved(t)){e.QueryDesignerUtils.removeDimension(t);this.notifyChangeListeners()}else{this.openFilterDialogWithCallback(t,i=>{e.QueryDesignerUtils.removeDimension(t);this.notifyChangeListeners()},null)}};e.OuInventoryView.prototype.unobserveDataProviderEvents=function(){if(e.notNull(this.m_dataProvider)){this.m_dataProvider.getEventing().getListenerForLifecycle().removeConsumerByUuid(this.m_lifecycleConsumerId);this.m_dataProvider.getEventing().getListenerForModelChanges().removeConsumerByUuid(this.m_modelChangeListenerId)}};e.OuInventoryView.prototype.updateAllCheckboxes=function(){for(let t=0;t<this.m_dimViews.size();t++){let i=this.m_dimViews.get(t);let o=i.getDimension();if(e.isNull(o)){continue}let n=o.getResultSetAttributes();let a=i.getChildrenViews();for(let e=0;e<a.size();e++){let t=a.get(e);let i=t.getAttribute();t.getCheckbox().setChecked(n.contains(i))}}for(let e=0;e<this.m_structureViews.size();e++){let t=this.m_structureViews.get(e);this.updateMasterCheckbox(t);let i=t.getDimension();let o=this.getQueryManager().getConvenienceCommands().getVisibleMembers(i,this.getMembersByDimension(i));this.updateMemberCheckbox(o,t.getDirectChildren(),null,false)}};e.OuInventoryView.prototype.updateAllIcons=function(){for(let t=0;t<this.m_dimViews.size();t++){let i=this.m_dimViews.get(t);let o=i.getDimension();if(e.notNull(o)){this.updateIcons(o,i);let t=e.AxisType.isAxisVisible(o.getAxisType());this.checkMoreButton(o,i.getMoreBtn());i.getCheckbox().setChecked(t);let n=i.getDimensionViews();if(!t&&e.XCollectionUtils.hasElements(n)){let t=e.XStream.of(n).find(t=>e.AxisType.isAxisVisible(t.getDimension().getAxisType())).isPresent();i.getCheckbox().setChecked(t);i.getCheckbox().setPartiallyChecked(t)}}}for(let e=0;e<this.m_structureViews.size();e++){let t=this.m_structureViews.get(e);let i=t.getDimension();this.updateIcons(i,t)}};e.OuInventoryView.prototype.updateAllLabels=function(){let t;for(let i=0;i<this.m_dimViews.size();i++){let o=this.m_dimViews.get(i);let n=o.getDimension();let a=o.getLabel();if(e.isNull(n)){let e=o.getDisplayName();let i=o.getDisplayText();t=this.m_presentation.composeDisplayStrings(e,i)}else{t=this.m_presentation.getDisplayValueByType(n)}if(e.notNull(a)){a.setText(t);a.setTooltip(t)}this.updateListItemLabels(o.getChildrenViews())}for(let e=0;e<this.m_structureViews.size();e++){let t=this.m_structureViews.get(e);this.updateListItemLabels(t.getAllChildren())}};e.OuInventoryView.prototype.updateCalculations=function(){for(let t=0;t<this.m_structureViews.size();t++){let i=this.m_structureViews.get(t);let o=i.getCalculations();for(let t=0;t<o.size();t++){let i=o.get(t);let n=i.getNode().getDimensionMember();let a=i.getPopoverIcon();let r=e.OuDesignerFormulaHelper.validateFormula(n);a.setMessageManager(r);a.getView().setVisible(r.hasErrors()||r.hasWarnings())}}};e.OuInventoryView.prototype.updateControls=function(){this.updateAllLabels();this.updateAllCheckboxes();this.updateAllIcons();this.updateCalculations();this.updateSorting();if(this.m_searchInProgress){this.doSearch(this.m_searchField.getValue())}};e.OuInventoryView.prototype.updateIcons=function(t,i){let o=i.getRowIcon();o.setPressed(t.getAxisType()===e.AxisType.ROWS);let n=i.getColumnIcon();n.setPressed(t.getAxisType()===e.AxisType.COLUMNS)};e.OuInventoryView.prototype.updateListItemLabels=function(e){for(let t=0;t<e.size();t++){let i=e.get(t);let o=i.getModelComponent();let n=this.m_presentation.getDisplayValueByType(o);i.getLabel().setText(n);i.getLabel().setTooltip(n)}};e.OuInventoryView.prototype.updateMasterCheckbox=function(e){let t=e.getDimension();if(e.getSelectAll()===null){return}let i=false;let o=true;let n=t.getConvenienceCommands();let a=n.getMemberVisibilityByFilter(t);let r=e.getAllChildren();for(let e=0;e<r.size();e++){let t=r.get(e);if(!t.getRoot().isVisible()){continue}let l=t.getNode().getDimensionMember();let s=n.isMemberVisibleByFilter(l,a.getFirstObject(),a.getSecondObject());i=i||s;o=o&&s}let l=e.getSelectAll().getCheckbox();l.setChecked(i);l.setPartiallyChecked(!o);l.setEnabled(!this.isPieOrDonutActive(t))};e.OuInventoryView.prototype.updateMemberCheckbox=function(t,i,o,n){let a=false;for(let r=0;r<i.size();r++){let l=i.get(r);let s=t.contains(l.getNode().getName());let u=n;if(e.notNull(o)){let e=t.contains(o.getNode().getName());u=u||e&&!s}let m=this.updateMemberCheckbox(t,l.getDirectChildren(),l,u);let p=l.getCheckbox();p.setChecked(s||m);p.setPartiallyChecked(!s&&m);p.setEnabled(!n);a=a||s||m}return a};e.OuInventoryView.prototype.updateSorting=function(){for(let e=0;e<this.m_structureViews.size();e++){this.orderChildren(this.m_structureViews.get(e))}this.orderDimensions()};e.OuInventoryView.prototype.updateUi=function(){if(!e.XObjectExt.isValidObject(this.m_queryManager)||!e.XObjectExt.isValidObject(this.m_queryManager.getQueryModel())||!this.m_isQueryManagerSet){return}this.fetchMembersAndBuildUi()};e.OuInventoryView.prototype.validateFiltersAfterCalculationDeletion=function(t){let i=this.getLocalizationProvider();let o=t.getDimension().getDimensionType().isTypeOf(e.DimensionType.ACCOUNT);let n=this.m_queryManager.getQueryModel().getFilter();let a=n.getLinkedFilters();e.XCollectionUtils.mapEntries(a,(a,r)=>{let l=r.getFilterRootElement();if(e.notNull(l)&&l.getOlapComponentType()===e.FilterComponentType.FILTER_MEASURE_BASED){let r=l;let s=e.FilterDialogMBFUtils.getMemberName(r);if(e.XString.isEqual(s,t.getName())){n.linkFilter(a,null);let r=t.getDisplayDescription();let l=i.getTextWithPlaceholder2(o?e.OuInventoryViewI18n.NAV_CALCULATION_DELETED_FILTER_DELETED_ACCOUNT:e.OuInventoryViewI18n.NAV_CALCULATION_DELETED_FILTER_DELETED_MEASURE,r,r);this.m_config.getToastPresenter().showWarningToast(l);e.UiFramework.currentFramework().announce(l,e.UiAriaLiveMode.ASSERTIVE)}}})};e.OuInventoryView.prototype.validateFormulaExceptionsAfterCalculationDeletion=function(t){let i=this.m_queryManager.getQueryModel().getFormulaExceptionManager();if(!e.XCollectionUtils.hasElements(i)){return}let o=this.getLocalizationProvider();for(let n=0;n<i.size();n++){let a=i.get(n);let r=a.getBaseMeasure();if(e.notNull(r)&&e.XString.isEqual(r.getName(),t.getName())){let i=o.getTextWithPlaceholder2(e.OuInventoryViewI18n.NAV_THRESHOLD_INVALID_INFO_MISSING_CALC,a.getText(),t.getName());this.setInvalidThreshold(i)}else if(e.notNull(r)&&r.getMemberType().isTypeOf(e.MemberType.FORMULA)){let t=e.OuDesignerFormulaHelper.validateFormula(r);if(t.hasErrors()||t.hasWarnings()){let t=o.getTextWithPlaceholder2(e.OuInventoryViewI18n.NAV_THRESHOLD_INVALID_INFO_INVALID_CALC,a.getText(),r.getName());this.setInvalidThreshold(t)}}}};e.OuInventoryView.prototype.validateOtherFormulasAfterCalculationDeletion=function(t){let i=this.getLocalizationProvider();let o=t.getDimension();let n=this.getMembersByDimension(o);for(let o=0;o<n.size();o++){let a=n.get(o).getDimensionMember();if(!a.getMemberType().isTypeOf(e.MemberType.FORMULA)||e.XString.isEqual(a.getName(),t.getName())){continue}let r=a;let l=e.OuDesignerFormulaHelper.validateFormulaAndExtractDisplayableText(r);if(e.XStringUtils.isNotNullAndNotEmpty(l)){this.m_config.getToastPresenter().showWarningToast(l);let t=i.getTextWithPlaceholder(e.OuInventoryViewI18n.NAV_CALCULATION_INVALID_ANNOUNCE_UPDATE,r.getText());e.UiFramework.currentFramework().announce(t,e.UiAriaLiveMode.ASSERTIVE)}}};e.OuInventoryViewGroupPresentation=function(){};e.OuInventoryViewGroupPresentation.prototype=new e.XConstant;e.OuInventoryViewGroupPresentation.prototype._ff_c="OuInventoryViewGroupPresentation";e.OuInventoryViewGroupPresentation.ALL_COLLAPSED=null;e.OuInventoryViewGroupPresentation.ALL_EXPANDED=null;e.OuInventoryViewGroupPresentation.FLAT=null;e.OuInventoryViewGroupPresentation.MIXED=null;e.OuInventoryViewGroupPresentation.s_lookup=null;e.OuInventoryViewGroupPresentation.create=function(t){let i=e.XConstant.setupName(new e.OuInventoryViewGroupPresentation,t);e.OuInventoryViewGroupPresentation.s_lookup.put(e.XString.toLowerCase(t),i);return i};e.OuInventoryViewGroupPresentation.lookup=function(t){return e.OuInventoryViewGroupPresentation.s_lookup.getByKey(e.XString.toLowerCase(t))};e.OuInventoryViewGroupPresentation.staticSetup=function(){e.OuInventoryViewGroupPresentation.s_lookup=e.XHashMapByString.create();e.OuInventoryViewGroupPresentation.MIXED=e.OuInventoryViewGroupPresentation.create("mixed");e.OuInventoryViewGroupPresentation.FLAT=e.OuInventoryViewGroupPresentation.create("flat");e.OuInventoryViewGroupPresentation.ALL_COLLAPSED=e.OuInventoryViewGroupPresentation.create("allCollapsed");e.OuInventoryViewGroupPresentation.ALL_EXPANDED=e.OuInventoryViewGroupPresentation.create("allExpanded")};e.OuDisplayFormattingView=function(){};e.OuDisplayFormattingView.prototype=new e.DfUiContentView;e.OuDisplayFormattingView.prototype._ff_c="OuDisplayFormattingView";e.OuDisplayFormattingView.ALIGNMENT_SECTION="AlignmentSection";e.OuDisplayFormattingView.AVOID_OVERLAP="AvoidOverlap";e.OuDisplayFormattingView.AXIS_LABEL_FORMATTING="AxisLabelFormatting";e.OuDisplayFormattingView.AXIS_TITLE_FORMATTING="AxisTitleFormatting";e.OuDisplayFormattingView.BLANK_STRING=" ";e.OuDisplayFormattingView.COLOR="Color";e.OuDisplayFormattingView.DATA_LABEL_FORMATTING="DataLabelFormatting";e.OuDisplayFormattingView.DEFAULT_KEY="DefaultKey";e.OuDisplayFormattingView.FONT="Font";e.OuDisplayFormattingView.FONT_72_WEB="72-Web";e.OuDisplayFormattingView.FONT_ARIAL="Arial";e.OuDisplayFormattingView.FONT_COURIER="Courier";e.OuDisplayFormattingView.FONT_GEORGIA="Georgia";e.OuDisplayFormattingView.FONT_LATO="Lato";e.OuDisplayFormattingView.FONT_OPTIONS="FontOptions";e.OuDisplayFormattingView.FONT_TIMES_NEW_ROMAN="Times New Roman";e.OuDisplayFormattingView.FONT_TREBUCHET_MS="Trebuchet MS";e.OuDisplayFormattingView.FONT_VERDANA="Verdana";e.OuDisplayFormattingView.HORIZONTAL_ALIGNMENT="HorizontalAlignment";e.OuDisplayFormattingView.ICON_DIRECTION_HORIZONTAL="fpa/grip-horizontal";e.OuDisplayFormattingView.ICON_DIRECTION_VERTICAL="fpa/grip-vertical";e.OuDisplayFormattingView.ICON_TEXT_ALIGN_BOTTOM="fpa/vertical-align-bottom";e.OuDisplayFormattingView.ICON_TEXT_ALIGN_CENTER="text-align-center";e.OuDisplayFormattingView.ICON_TEXT_ALIGN_LEFT="text-align-left";e.OuDisplayFormattingView.ICON_TEXT_ALIGN_MIDDLE="fpa/vertical-align-mittle";e.OuDisplayFormattingView.ICON_TEXT_ALIGN_RIGHT="text-align-right";e.OuDisplayFormattingView.ICON_TEXT_ALIGN_TOP="fpa/vertical-align-top";e.OuDisplayFormattingView.LAYOUT_DIRECTION="LayoutDirection";e.OuDisplayFormattingView.LEGEND_FORMATTING="LegendFormatting";e.OuDisplayFormattingView.PLACEMENT="Placement";e.OuDisplayFormattingView.SHOWN="Shown";e.OuDisplayFormattingView.SIZE="Size";e.OuDisplayFormattingView.SIZE_10="10";e.OuDisplayFormattingView.SIZE_12="12";e.OuDisplayFormattingView.SIZE_14="14";e.OuDisplayFormattingView.SIZE_16="16";e.OuDisplayFormattingView.SIZE_18="18";e.OuDisplayFormattingView.SIZE_20="20";e.OuDisplayFormattingView.SIZE_22="22";e.OuDisplayFormattingView.SIZE_24="24";e.OuDisplayFormattingView.SIZE_32="32";e.OuDisplayFormattingView.SIZE_48="48";e.OuDisplayFormattingView.STYLE="Style";e.OuDisplayFormattingView.STYLE_BOLD="Bold";e.OuDisplayFormattingView.STYLE_BOLD_ITALIC="BoldItalic";e.OuDisplayFormattingView.STYLE_ITALIC="Italic";e.OuDisplayFormattingView.STYLE_REGULAR="Regular";e.OuDisplayFormattingView.TEXT_SELECTION="TextSelection";e.OuDisplayFormattingView.VERTICAL_ALIGNMENT="VerticalAlignment";e.OuDisplayFormattingView.createView=function(t){let i=new e.OuDisplayFormattingView;i.initView(t);return i};e.OuDisplayFormattingView.prototype.m_alignmentSection=null;e.OuDisplayFormattingView.prototype.m_form=null;e.OuDisplayFormattingView.prototype.m_loadedAvoidOverlapValue=null;e.OuDisplayFormattingView.prototype.m_loadedColorValue=null;e.OuDisplayFormattingView.prototype.m_loadedFontValue=null;e.OuDisplayFormattingView.prototype.m_loadedHorizontalAlignmentValue=null;e.OuDisplayFormattingView.prototype.m_loadedLayoutDirectionValue=null;e.OuDisplayFormattingView.prototype.m_loadedPlacementValue=null;e.OuDisplayFormattingView.prototype.m_loadedShownValue=null;e.OuDisplayFormattingView.prototype.m_loadedSizeValue=null;e.OuDisplayFormattingView.prototype.m_loadedStyleValue=null;e.OuDisplayFormattingView.prototype.m_loadedVerticalAlignmentValue=null;e.OuDisplayFormattingView.prototype.m_onChange=null;e.OuDisplayFormattingView.prototype.m_queryManager=null;e.OuDisplayFormattingView.prototype.m_section=null;e.OuDisplayFormattingView.prototype.m_selectedText=null;e.OuDisplayFormattingView.prototype.m_sharedExecution=false;e.OuDisplayFormattingView.prototype.m_textFormattingVariableGroups=null;e.OuDisplayFormattingView.prototype.addDropdown=function(t,i){let o=this.getLocalizationProvider();let n=this.m_form.addDropdown(t,null,o.getText(i),null,false);n.setLabelFontWeight(e.UiFontWeight.NORMAL)};e.OuDisplayFormattingView.prototype.addDropdownToSection=function(t,i){let o=this.getLocalizationProvider();let n=this.m_section.addDropdown(t,null,o.getText(i),null,false);n.setLabelFontWeight(e.UiFontWeight.NORMAL)};e.OuDisplayFormattingView.prototype.addSegmentedButton=function(t,i,o){let n=this.getLocalizationProvider();let a=this.m_alignmentSection.addSegmentedButton(t,null,e.XStringUtils.isNullOrEmpty(i)?null:n.getText(i),o);a.setLabelFontWeight(e.UiFontWeight.NORMAL)};e.OuDisplayFormattingView.prototype.addSwitch=function(t,i){let o=this.getLocalizationProvider();let n=this.m_form.addSwitch(t,false,e.isNull(i)?e.OuDisplayFormattingView.DEFAULT_KEY:o.getText(i));n.setOffText(e.OuDisplayFormattingView.BLANK_STRING);n.setOnText(e.OuDisplayFormattingView.BLANK_STRING);n.setLabelFontWeight(e.UiFontWeight.NORMAL)};e.OuDisplayFormattingView.prototype.applyStateToUi=function(){this.setDropdownValue(e.OuDisplayFormattingView.TEXT_SELECTION,this.getTextSelections(),this.m_selectedText);this.setSectionDropdownValue(e.OuDisplayFormattingView.FONT,this.getFontOptions(),this.m_loadedFontValue);this.setSectionDropdownValue(e.OuDisplayFormattingView.SIZE,this.getSizeOptions(),this.m_loadedSizeValue);this.setDropdownValue(e.OuDisplayFormattingView.STYLE,this.getStyleOptions(),this.m_loadedStyleValue);this.setSectionColorValue(e.OuDisplayFormattingView.COLOR,this.m_loadedColorValue);this.setSwitchValue(e.OuDisplayFormattingView.SHOWN,this.m_loadedShownValue);this.setSwitchValue(e.OuDisplayFormattingView.AVOID_OVERLAP,this.m_loadedAvoidOverlapValue);this.setDropdownValue(e.OuDisplayFormattingView.PLACEMENT,this.getPlacementOptions(),this.m_loadedPlacementValue);this.setAlignmentValue(e.OuDisplayFormattingView.HORIZONTAL_ALIGNMENT,this.m_loadedHorizontalAlignmentValue);this.setAlignmentValue(e.OuDisplayFormattingView.VERTICAL_ALIGNMENT,this.m_loadedVerticalAlignmentValue);this.setAlignmentValue(e.OuDisplayFormattingView.LAYOUT_DIRECTION,this.m_loadedLayoutDirectionValue)};e.OuDisplayFormattingView.prototype.buildViewUi=function(t){this.m_form=e.UiForm.create(this.getGenesis());this.addDropdown(e.OuDisplayFormattingView.TEXT_SELECTION,e.OuDisplayFormattingI18n.STYLE_FORMATTING_TEXT_SELECTION);this.m_section=this.m_form.addFormSection(e.OuDisplayFormattingView.FONT_OPTIONS,"",true);this.addDropdownToSection(e.OuDisplayFormattingView.FONT,e.OuDisplayFormattingI18n.STYLE_FORMATTING_FONT);this.addDropdownToSection(e.OuDisplayFormattingView.SIZE,e.OuDisplayFormattingI18n.STYLE_FORMATTING_SIZE);this.m_section.addColorPicker(e.OuDisplayFormattingView.COLOR,"",this.getLocalizationProvider().getText(e.OuDisplayFormattingI18n.STYLE_FORMATTING_COLOR)).setColors(this.getDefaultColors());this.addDropdown(e.OuDisplayFormattingView.STYLE,e.OuDisplayFormattingI18n.STYLE_FORMATTING_STYLE);this.addSwitch(e.OuDisplayFormattingView.SHOWN,null);this.addSwitch(e.OuDisplayFormattingView.AVOID_OVERLAP,e.OuDisplayFormattingI18n.STYLE_AVOID_OVERLAP);this.addDropdown(e.OuDisplayFormattingView.PLACEMENT,e.OuDisplayFormattingI18n.STYLE_PLACEMENT);this.m_alignmentSection=this.m_form.addFormSection(e.OuDisplayFormattingView.ALIGNMENT_SECTION,this.getLocalizationProvider().getText(e.OuDisplayFormattingI18n.STYLE_ALIGNMENT),true);this.addSegmentedButton(e.OuDisplayFormattingView.HORIZONTAL_ALIGNMENT,"",this.getHorizontalAlignmentOptions());this.addSegmentedButton(e.OuDisplayFormattingView.VERTICAL_ALIGNMENT,"",this.getVerticalAlignmentOptions());this.addSegmentedButton(e.OuDisplayFormattingView.LAYOUT_DIRECTION,"",this.getLayoutDirectionOptions());t.setRoot(this.m_form.getView())};e.OuDisplayFormattingView.prototype.destroyView=function(){this.m_form=e.XObjectExt.release(this.m_form)};e.OuDisplayFormattingView.prototype.getActiveVisualizationDefinition=function(){let t=null;if(e.notNull(this.m_queryManager)){t=this.m_queryManager.getQueryModel().getVisualizationManager().getCurrentActiveVisualizationDefinition()}return t};e.OuDisplayFormattingView.prototype.getAlignmentButtonValue=function(t){let i=this.m_alignmentSection.getFormItemByKey(t);return e.isNull(i)||i.getValue()===null?null:i.getValue().getStringRepresentation()};e.OuDisplayFormattingView.prototype.getCurrentSelection=function(){let t=null;if(e.XCollectionUtils.hasElements(this.m_textFormattingVariableGroups)){t=this.m_textFormattingVariableGroups.getByKey(this.m_selectedText);if(e.isNull(t)){t=this.m_textFormattingVariableGroups.get(0)}}return t};e.OuDisplayFormattingView.prototype.getDefaultColors=function(){let t=e.XList.create();t.add("#427cac");t.add("#bb0000");t.add("#aaaa00");t.add("#e78c07");t.add("#2b7c2b");t.add("#5e696e");t.add("#678bc7");t.add("#147575");t.add("#d4f7db");t.add("#3f8600");t.add("#000000");t.add("#ffffff");t.add("#fafafa");t.add("#666666");t.add("#bfbfbf");return t};e.OuDisplayFormattingView.prototype.getDropdownValue=function(e){let t=this.m_form.getFormItemByKey(e);return this.getDropdownValueExt(t)};e.OuDisplayFormattingView.prototype.getDropdownValueExt=function(t){return e.isNull(t)||t.getValue()===null?null:t.getValue().getStringRepresentation()};e.OuDisplayFormattingView.prototype.getFontOptions=function(){let t=this.getLocalizationProvider();let i=e.XLinkedHashMapByString.create();i.put(e.OuDisplayFormattingView.DEFAULT_KEY,t.getText(e.OuDisplayFormattingI18n.STYLE_DEFAULT));i.put(e.OuDisplayFormattingView.FONT_72_WEB,e.OuDisplayFormattingView.FONT_72_WEB);i.put(e.OuDisplayFormattingView.FONT_ARIAL,e.OuDisplayFormattingView.FONT_ARIAL);i.put(e.OuDisplayFormattingView.FONT_COURIER,e.OuDisplayFormattingView.FONT_COURIER);i.put(e.OuDisplayFormattingView.FONT_GEORGIA,e.OuDisplayFormattingView.FONT_GEORGIA);i.put(e.OuDisplayFormattingView.FONT_LATO,e.OuDisplayFormattingView.FONT_LATO);i.put(e.OuDisplayFormattingView.FONT_TIMES_NEW_ROMAN,e.OuDisplayFormattingView.FONT_TIMES_NEW_ROMAN);i.put(e.OuDisplayFormattingView.FONT_TREBUCHET_MS,e.OuDisplayFormattingView.FONT_TREBUCHET_MS);i.put(e.OuDisplayFormattingView.FONT_VERDANA,e.OuDisplayFormattingView.FONT_VERDANA);return i};e.OuDisplayFormattingView.prototype.getHorizontalAlignmentOptions=function(){let t=this.getLocalizationProvider();let i=e.XList.create();i.add(e.UiFormItemOption.create(e.CellAlignmentHorizontal.LEFT.getName(),null,e.OuDisplayFormattingView.ICON_TEXT_ALIGN_LEFT,t.getText(e.OuDisplayFormattingI18n.STYLE_ALIGNMENT_LEFT)));i.add(e.UiFormItemOption.create(e.CellAlignmentHorizontal.CENTER.getName(),null,e.OuDisplayFormattingView.ICON_TEXT_ALIGN_CENTER,t.getText(e.OuDisplayFormattingI18n.STYLE_ALIGNMENT_CENTER)));i.add(e.UiFormItemOption.create(e.CellAlignmentHorizontal.RIGHT.getName(),null,e.OuDisplayFormattingView.ICON_TEXT_ALIGN_RIGHT,t.getText(e.OuDisplayFormattingI18n.STYLE_ALIGNMENT_RIGHT)));return i};e.OuDisplayFormattingView.prototype.getLayoutDirectionOptions=function(){let t=this.getLocalizationProvider();let i=e.XList.create();i.add(e.UiFormItemOption.create(e.LayoutDirection.HORIZONTAL.getName(),null,e.OuDisplayFormattingView.ICON_DIRECTION_HORIZONTAL,t.getText(e.OuDisplayFormattingI18n.STYLE_DIRECTION_HORIZONTAL)));i.add(e.UiFormItemOption.create(e.LayoutDirection.VERTICAL.getName(),null,e.OuDisplayFormattingView.ICON_DIRECTION_VERTICAL,t.getText(e.OuDisplayFormattingI18n.STYLE_DIRECTION_VERTICAL)));return i};e.OuDisplayFormattingView.prototype.getLocalizationProvider=function(){return e.OuDisplayFormattingI18n.getLocalization()};e.OuDisplayFormattingView.prototype.getPlacementOptions=function(){let t=this.getLocalizationProvider();let i=e.XLinkedHashMapByString.create();i.put(e.OuDisplayFormattingView.DEFAULT_KEY,t.getText(e.OuDisplayFormattingI18n.STYLE_DEFAULT));i.put(e.ChartLegendPosition.RIGHT.getName(),t.getText(e.OuDisplayFormattingI18n.STYLE_PLACEMENT_BESIDE_CHART_RIGHT));i.put(e.ChartLegendPosition.TOP.getName(),t.getText(e.OuDisplayFormattingI18n.STYLE_PLACEMENT_ABOVE_CHART));i.put(e.ChartLegendPosition.BOTTOM.getName(),t.getText(e.OuDisplayFormattingI18n.STYLE_PLACEMENT_BELOW_CHART));return i};e.OuDisplayFormattingView.prototype.getQueryManager=function(){return this.m_queryManager};e.OuDisplayFormattingView.prototype.getSectionColorValue=function(e){let t=this.m_section.getFormItemByKey(e);return t.getValue()===null?null:t.getValue().getStringRepresentation()};e.OuDisplayFormattingView.prototype.getSectionDropdownValue=function(e){let t=this.m_section.getFormItemByKey(e);return this.getDropdownValueExt(t)};e.OuDisplayFormattingView.prototype.getSizeOptions=function(){let t=this.getLocalizationProvider();let i=e.XLinkedHashMapByString.create();i.put(e.OuDisplayFormattingView.DEFAULT_KEY,t.getText(e.OuDisplayFormattingI18n.STYLE_DEFAULT));i.put(e.OuDisplayFormattingView.SIZE_10,e.OuDisplayFormattingView.SIZE_10);i.put(e.OuDisplayFormattingView.SIZE_12,e.OuDisplayFormattingView.SIZE_12);i.put(e.OuDisplayFormattingView.SIZE_14,e.OuDisplayFormattingView.SIZE_14);i.put(e.OuDisplayFormattingView.SIZE_16,e.OuDisplayFormattingView.SIZE_16);i.put(e.OuDisplayFormattingView.SIZE_18,e.OuDisplayFormattingView.SIZE_18);i.put(e.OuDisplayFormattingView.SIZE_20,e.OuDisplayFormattingView.SIZE_20);i.put(e.OuDisplayFormattingView.SIZE_22,e.OuDisplayFormattingView.SIZE_22);i.put(e.OuDisplayFormattingView.SIZE_24,e.OuDisplayFormattingView.SIZE_24);i.put(e.OuDisplayFormattingView.SIZE_32,e.OuDisplayFormattingView.SIZE_32);i.put(e.OuDisplayFormattingView.SIZE_48,e.OuDisplayFormattingView.SIZE_48);return i};e.OuDisplayFormattingView.prototype.getStyleOptions=function(){let t=this.getLocalizationProvider();let i=e.XLinkedHashMapByString.create();i.put(e.OuDisplayFormattingView.DEFAULT_KEY,t.getText(e.OuDisplayFormattingI18n.STYLE_DEFAULT));i.put(e.OuDisplayFormattingView.STYLE_REGULAR,t.getText(e.OuDisplayFormattingI18n.STYLE_REGULAR));i.put(e.OuDisplayFormattingView.STYLE_BOLD,t.getText(e.OuDisplayFormattingI18n.STYLE_BOLD));i.put(e.OuDisplayFormattingView.STYLE_ITALIC,t.getText(e.OuDisplayFormattingI18n.STYLE_ITALIC));i.put(e.OuDisplayFormattingView.STYLE_BOLD_ITALIC,t.getText(e.OuDisplayFormattingI18n.STYLE_BOLD_ITALIC));return i};e.OuDisplayFormattingView.prototype.getSwitchValue=function(t){let i=this.m_form.getFormItemByKey(t);let o=i.getValue();return e.TriStateBool.lookup(e.notNull(o)&&o.getBoolean())};e.OuDisplayFormattingView.prototype.getTextSelections=function(){let t=e.XLinkedHashMapByString.create();e.XCollectionUtils.forEach(this.m_textFormattingVariableGroups,e=>{t.put(e.getName(),e.getText())});return t};e.OuDisplayFormattingView.prototype.getVerticalAlignmentOptions=function(){let t=this.getLocalizationProvider();let i=e.XList.create();i.add(e.UiFormItemOption.create(e.CellAlignmentVertical.TOP.getName(),null,e.OuDisplayFormattingView.ICON_TEXT_ALIGN_TOP,t.getText(e.OuDisplayFormattingI18n.STYLE_ALIGNMENT_TOP)));i.add(e.UiFormItemOption.create(e.CellAlignmentVertical.MIDDLE.getName(),null,e.OuDisplayFormattingView.ICON_TEXT_ALIGN_MIDDLE,t.getText(e.OuDisplayFormattingI18n.STYLE_ALIGNMENT_MIDDLE)));i.add(e.UiFormItemOption.create(e.CellAlignmentVertical.BOTTOM.getName(),null,e.OuDisplayFormattingView.ICON_TEXT_ALIGN_BOTTOM,t.getText(e.OuDisplayFormattingI18n.STYLE_ALIGNMENT_BOTTOM)));return i};e.OuDisplayFormattingView.prototype.isActive=function(){return e.XCollectionUtils.hasElements(this.m_textFormattingVariableGroups)};e.OuDisplayFormattingView.prototype.isResettable=function(){let t=this.getCurrentSelection();return e.notNull(t)&&(!t.isFontFamilyDefault()||!t.isFontSizeDefault()||!t.isFontColorDefault()||!t.isFillColorDefault()||!t.isFontBoldDefault()||!t.isFontItalicDefault()||!t.isFontUnderlineDefault()||!t.isFontStrikeThroughDefault()||!t.isShownDefault()||!t.isLayoutDirectionDefault()||!t.isAvoidOverlapDefault()||!t.isPlacementDefault()||!t.isHorizontalAlignmentDefault()||!t.isVerticalAlignmentDefault())};e.OuDisplayFormattingView.prototype.isVisible=function(){return e.XCollectionUtils.hasElements(this.m_textFormattingVariableGroups)};e.OuDisplayFormattingView.prototype.loadState=function(){if(e.XCollectionUtils.hasElements(this.m_textFormattingVariableGroups)){if(!this.m_textFormattingVariableGroups.containsKey(this.m_selectedText)){this.m_selectedText=this.m_textFormattingVariableGroups.get(0).getName()}let t=this.m_textFormattingVariableGroups.getByKey(this.m_selectedText);if(t.isFontFamilyDefault()){this.m_loadedFontValue=e.OuDisplayFormattingView.DEFAULT_KEY}else{this.m_loadedFontValue=t.getFontFamily()}if(t.isFontSizeDefault()){this.m_loadedSizeValue=e.OuDisplayFormattingView.DEFAULT_KEY}else{this.m_loadedSizeValue=e.XInteger.convertToString(t.getFontSize())}if(t.isFontColorDefault()){this.m_loadedColorValue=null}else{this.m_loadedColorValue=t.getFontColor()}if(t.isFontBoldDefault()&&t.isFontItalicDefault()){this.m_loadedStyleValue=e.OuDisplayFormattingView.DEFAULT_KEY}else if(t.isFontBold().getBoolean()&&t.isFontItalic().getBoolean()){this.m_loadedStyleValue=e.OuDisplayFormattingView.STYLE_BOLD_ITALIC}else if(t.isFontBold().getBoolean()){this.m_loadedStyleValue=e.OuDisplayFormattingView.STYLE_BOLD}else if(t.isFontItalic().getBoolean()){this.m_loadedStyleValue=e.OuDisplayFormattingView.STYLE_ITALIC}else{this.m_loadedStyleValue=e.OuDisplayFormattingView.STYLE_REGULAR}this.m_loadedShownValue=t.isShow();this.m_loadedAvoidOverlapValue=t.isAvoidOverlap();if(t.isPlacementDefault()){this.m_loadedPlacementValue=e.OuDisplayFormattingView.DEFAULT_KEY}else{this.m_loadedPlacementValue=e.DfNameObject.getSafeName(t.getPlacement())}this.m_loadedHorizontalAlignmentValue=e.DfNameObject.getSafeName(t.getHorizontalAlignment());this.m_loadedVerticalAlignmentValue=e.DfNameObject.getSafeName(t.getVerticalAlignment());this.m_loadedLayoutDirectionValue=e.DfNameObject.getSafeName(t.getLayoutDirection())}};e.OuDisplayFormattingView.prototype.notifyChangeListeners=function(){if(e.notNull(this.m_onChange)){this.m_onChange()}};e.OuDisplayFormattingView.prototype.pullStateFromUi=function(){this.m_loadedFontValue=this.getSectionDropdownValue(e.OuDisplayFormattingView.FONT);this.m_loadedSizeValue=this.getSectionDropdownValue(e.OuDisplayFormattingView.SIZE);this.m_loadedStyleValue=this.getDropdownValue(e.OuDisplayFormattingView.STYLE);this.m_loadedColorValue=this.getSectionColorValue(e.OuDisplayFormattingView.COLOR);this.m_loadedPlacementValue=this.getDropdownValue(e.OuDisplayFormattingView.PLACEMENT);this.m_loadedHorizontalAlignmentValue=this.getAlignmentButtonValue(e.OuDisplayFormattingView.HORIZONTAL_ALIGNMENT);this.m_loadedVerticalAlignmentValue=this.getAlignmentButtonValue(e.OuDisplayFormattingView.VERTICAL_ALIGNMENT);this.m_loadedLayoutDirectionValue=this.getAlignmentButtonValue(e.OuDisplayFormattingView.LAYOUT_DIRECTION);this.m_loadedShownValue=this.getSwitchValue(e.OuDisplayFormattingView.SHOWN);this.m_loadedAvoidOverlapValue=this.getSwitchValue(e.OuDisplayFormattingView.AVOID_OVERLAP)};e.OuDisplayFormattingView.prototype.resetAvoidOverlap=function(){this.m_loadedAvoidOverlapValue=e.TriStateBool._DEFAULT};e.OuDisplayFormattingView.prototype.resetColor=function(){this.m_loadedColorValue=e.OuDisplayFormattingView.DEFAULT_KEY};e.OuDisplayFormattingView.prototype.resetFont=function(){this.m_loadedFontValue=e.OuDisplayFormattingView.DEFAULT_KEY};e.OuDisplayFormattingView.prototype.resetHorizontalAlignment=function(){this.m_loadedHorizontalAlignmentValue=e.OuDisplayFormattingView.DEFAULT_KEY};e.OuDisplayFormattingView.prototype.resetLayoutDirection=function(){this.m_loadedLayoutDirectionValue=e.OuDisplayFormattingView.DEFAULT_KEY};e.OuDisplayFormattingView.prototype.resetPlacement=function(){this.m_loadedPlacementValue=e.OuDisplayFormattingView.DEFAULT_KEY};e.OuDisplayFormattingView.prototype.resetShown=function(){this.m_loadedShownValue=e.TriStateBool._DEFAULT};e.OuDisplayFormattingView.prototype.resetSize=function(){this.m_loadedSizeValue=e.OuDisplayFormattingView.DEFAULT_KEY};e.OuDisplayFormattingView.prototype.resetStyle=function(){this.m_loadedStyleValue=e.OuDisplayFormattingView.DEFAULT_KEY};e.OuDisplayFormattingView.prototype.resetValues=function(){let t=this.getCurrentSelection();if(this.isResettable()){this.resetFont();this.resetSize();this.resetColor();this.resetStyle();this.resetShown();this.resetAvoidOverlap();this.resetPlacement();this.resetHorizontalAlignment();this.resetVerticalAlignment();this.resetLayoutDirection();this.saveState()}else if(e.notNull(t)){this.m_loadedShownValue=t.isShow();this.m_form.getFormItemByKey(e.OuDisplayFormattingView.SHOWN).setValue(e.XBooleanValue.create(e.TriStateBool.isExplicitBooleanValue(this.m_loadedShownValue)&&this.m_loadedShownValue.getBoolean()));this.m_loadedAvoidOverlapValue=t.isAvoidOverlap();this.m_form.getFormItemByKey(e.OuDisplayFormattingView.AVOID_OVERLAP).setValue(e.XBooleanValue.create(e.TriStateBool.isExplicitBooleanValue(this.m_loadedAvoidOverlapValue)&&this.m_loadedAvoidOverlapValue.getBoolean()));this.m_loadedHorizontalAlignmentValue=e.DfNameObject.getSafeName(t.getHorizontalAlignment());this.m_alignmentSection.getFormItemByKey(e.OuDisplayFormattingView.HORIZONTAL_ALIGNMENT).setValue(e.XStringValue.create(this.m_loadedHorizontalAlignmentValue));this.m_loadedVerticalAlignmentValue=e.DfNameObject.getSafeName(t.getVerticalAlignment());this.m_alignmentSection.getFormItemByKey(e.OuDisplayFormattingView.VERTICAL_ALIGNMENT).setValue(e.XStringValue.create(this.m_loadedVerticalAlignmentValue));this.m_loadedLayoutDirectionValue=e.DfNameObject.getSafeName(t.getLayoutDirection());this.m_alignmentSection.getFormItemByKey(e.OuDisplayFormattingView.LAYOUT_DIRECTION).setValue(e.XStringValue.create(this.m_loadedLayoutDirectionValue))}this.m_section.getFormItemByKey(e.OuDisplayFormattingView.FONT).setValue(e.XStringValue.create(e.OuDisplayFormattingView.DEFAULT_KEY));this.m_section.getFormItemByKey(e.OuDisplayFormattingView.SIZE).setValue(e.XStringValue.create(e.OuDisplayFormattingView.DEFAULT_KEY));this.m_section.getFormItemByKey(e.OuDisplayFormattingView.COLOR).setValue(e.XStringValue.create(e.OuDisplayFormattingView.DEFAULT_KEY));this.m_form.getFormItemByKey(e.OuDisplayFormattingView.STYLE).setValue(e.XStringValue.create(e.OuDisplayFormattingView.DEFAULT_KEY));this.m_form.getFormItemByKey(e.OuDisplayFormattingView.PLACEMENT).setValue(e.XStringValue.create(e.OuDisplayFormattingView.DEFAULT_KEY));this.notifyChangeListeners()};e.OuDisplayFormattingView.prototype.resetVerticalAlignment=function(){this.m_loadedVerticalAlignmentValue=e.OuDisplayFormattingView.DEFAULT_KEY};e.OuDisplayFormattingView.prototype.saveState=function(){let t=this.getCurrentSelection();if(e.notNull(t)){if(e.XString.isEqual(this.m_loadedColorValue,e.OuDisplayFormattingView.DEFAULT_KEY)){t.resetFontColor()}else{t.setFontColor(this.m_loadedColorValue)}if(e.XString.isEqual(this.m_loadedFontValue,e.OuDisplayFormattingView.DEFAULT_KEY)){t.resetFontFamily()}else{t.setFontFamily(this.m_loadedFontValue)}if(e.XString.isEqual(this.m_loadedSizeValue,e.OuDisplayFormattingView.DEFAULT_KEY)){t.resetFontSize()}else{t.setFontSize(e.XInteger.convertFromString(this.m_loadedSizeValue))}if(e.XString.isEqual(this.m_loadedStyleValue,e.OuDisplayFormattingView.DEFAULT_KEY)){t.resetFontItalic();t.resetFontBold()}else if(e.XString.isEqual(this.m_loadedStyleValue,e.OuDisplayFormattingView.STYLE_REGULAR)){t.setFontBold(e.TriStateBool._FALSE);t.setFontItalic(e.TriStateBool._FALSE)}else if(e.XString.isEqual(this.m_loadedStyleValue,e.OuDisplayFormattingView.STYLE_ITALIC)){t.setFontBold(e.TriStateBool._FALSE);t.setFontItalic(e.TriStateBool._TRUE)}else if(e.XString.isEqual(this.m_loadedStyleValue,e.OuDisplayFormattingView.STYLE_BOLD)){t.setFontBold(e.TriStateBool._TRUE);t.setFontItalic(e.TriStateBool._FALSE)}else if(e.XString.isEqual(this.m_loadedStyleValue,e.OuDisplayFormattingView.STYLE_BOLD_ITALIC)){t.setFontBold(e.TriStateBool._TRUE);t.setFontItalic(e.TriStateBool._TRUE)}if(!e.TriStateBool.isExplicitBooleanValue(this.m_loadedShownValue)){t.resetShown()}else{t.setShown(this.m_loadedShownValue)}if(!e.TriStateBool.isExplicitBooleanValue(this.m_loadedAvoidOverlapValue)){t.resetAvoidOverlap()}else{t.setAvoidOverlap(this.m_loadedAvoidOverlapValue)}if(e.XString.isEqual(this.m_loadedPlacementValue,e.OuDisplayFormattingView.DEFAULT_KEY)){t.resetPlacement()}else{t.setPlacement(e.ChartLegendPosition.lookup(this.m_loadedPlacementValue))}if(e.XString.isEqual(this.m_loadedHorizontalAlignmentValue,e.OuDisplayFormattingView.DEFAULT_KEY)){t.resetHorizontalAlignment()}else{t.setHorizontalAlignment(e.CellAlignmentHorizontal.lookup(this.m_loadedHorizontalAlignmentValue))}if(e.XString.isEqual(this.m_loadedVerticalAlignmentValue,e.OuDisplayFormattingView.DEFAULT_KEY)){t.resetVerticalAlignment()}else{t.setVerticalAlignment(e.CellAlignmentVertical.lookup(this.m_loadedVerticalAlignmentValue))}if(e.XString.isEqual(this.m_loadedLayoutDirectionValue,e.OuDisplayFormattingView.DEFAULT_KEY)){t.resetLayoutDirection()}else{t.setLayoutDirection(e.LayoutDirection.lookup(this.m_loadedLayoutDirectionValue))}}this.notifyChangeListeners()};e.OuDisplayFormattingView.prototype.setAlignmentValue=function(t,i){let o=this.m_alignmentSection.getFormItemByKey(t);o.setValue(e.XStringValue.create(i))};e.OuDisplayFormattingView.prototype.setDropdownValue=function(e,t,i){let o=this.m_form.getFormItemByKey(e);this.setDropdownValueExt(o,t,i)};e.OuDisplayFormattingView.prototype.setDropdownValueExt=function(t,i,o){if(!i.containsKey(o)){i.put(o,"-")}t.setDropdownItems(i);t.setValue(e.XStringValue.create(o))};e.OuDisplayFormattingView.prototype.setOnChange=function(e){this.m_onChange=e};e.OuDisplayFormattingView.prototype.setQueryManager=function(t){this.m_queryManager=t;if(e.notNull(this.m_queryManager)){this.updateVariableGroups()}};e.OuDisplayFormattingView.prototype.setSectionColorValue=function(t,i){let o=this.m_section.getFormItemByKey(t);if(e.XString.isEqual(i,e.OuDisplayFormattingView.DEFAULT_KEY)){o.setValue(e.XStringValue.create(""))}else{o.setValue(e.XStringValue.create(i))}};e.OuDisplayFormattingView.prototype.setSectionDropdownValue=function(e,t,i){let o=this.m_section.getFormItemByKey(e);this.setDropdownValueExt(o,t,i)};e.OuDisplayFormattingView.prototype.setSharedExecution=function(t){this.m_sharedExecution=t;if(e.notNull(this.m_queryManager)){this.updateVariableGroups()}};e.OuDisplayFormattingView.prototype.setSwitchValue=function(t,i){let o=this.m_form.getFormItemByKey(t);o.setValue(e.TriStateBool.isExplicitBooleanValue(i)?e.XBooleanValue.create(i.getBoolean()):e.XBooleanValue.create(false))};e.OuDisplayFormattingView.prototype.setupView=function(){};e.OuDisplayFormattingView.prototype.updateAlignmentButton=function(e,t){let i=this.m_alignmentSection.getFormItemByKey(e);i.setVisible(t);i.setValueChangedConsumer((e,t)=>{this.pullStateFromUi();this.saveState()})};e.OuDisplayFormattingView.prototype.updateColorPickerExt=function(t,i){t.setVisible(i);t.setValueChangedConsumer((t,i)=>{this.m_loadedColorValue=e.XValueUtil.getString(i);this.saveState()})};e.OuDisplayFormattingView.prototype.updateDropdown=function(e,t,i){let o=this.m_form.getFormItemByKey(e);this.updateDropdownExt(o,t,i)};e.OuDisplayFormattingView.prototype.updateDropdownExt=function(e,t,i){e.setVisible(i);e.setValueChangedConsumer((i,o)=>{this.pullStateFromUi();this.saveState();e.setDropdownItems(t)})};e.OuDisplayFormattingView.prototype.updateSectionColorPicker=function(e,t){let i=this.m_section.getFormItemByKey(e);this.updateColorPickerExt(i,t)};e.OuDisplayFormattingView.prototype.updateSectionDropdown=function(e,t,i){let o=this.m_section.getFormItemByKey(e);this.updateDropdownExt(o,t,i)};e.OuDisplayFormattingView.prototype.updateSelectionDropdown=function(){let t=this.m_form.getFormItemByKey(e.OuDisplayFormattingView.TEXT_SELECTION);t.setVisible(true);t.setValueChangedConsumer((i,o)=>{this.m_selectedText=this.getDropdownValue(e.OuDisplayFormattingView.TEXT_SELECTION);t.setDropdownItems(this.getTextSelections());this.updateUi()})};e.OuDisplayFormattingView.prototype.updateSwitch=function(t,i,o){let n=this.m_form.getFormItemByKey(t);n.setVisible(o);if(e.notNull(i)){n.setText(i)}n.setValueChangedConsumer((e,t)=>{this.pullStateFromUi();this.saveState()})};e.OuDisplayFormattingView.prototype.updateUi=function(){if(e.notNull(this.m_queryManager)){this.updateVariableGroups();let t=this.getCurrentSelection();if(e.notNull(t)){this.updateSelectionDropdown();this.updateSectionDropdown(e.OuDisplayFormattingView.FONT,this.getFontOptions(),true);this.updateSectionDropdown(e.OuDisplayFormattingView.SIZE,this.getSizeOptions(),true);this.updateDropdown(e.OuDisplayFormattingView.STYLE,this.getStyleOptions(),true);this.updateSectionColorPicker(e.OuDisplayFormattingView.COLOR,true);this.updateDropdown(e.OuDisplayFormattingView.PLACEMENT,this.getPlacementOptions(),t.supportsPlacement());this.updateSwitch(e.OuDisplayFormattingView.SHOWN,t.getShowLabel(),t.supportsShown());this.updateSwitch(e.OuDisplayFormattingView.AVOID_OVERLAP,null,t.supportsAvoidOverlap());this.m_alignmentSection.setVisible(t.supportsHorizontalAlignment()||t.supportsVerticalAlignment()||t.supportsLayoutDirection());this.updateAlignmentButton(e.OuDisplayFormattingView.HORIZONTAL_ALIGNMENT,t.supportsHorizontalAlignment());this.updateAlignmentButton(e.OuDisplayFormattingView.VERTICAL_ALIGNMENT,t.supportsVerticalAlignment());this.updateAlignmentButton(e.OuDisplayFormattingView.LAYOUT_DIRECTION,t.supportsLayoutDirection());this.loadState();this.applyStateToUi();let i=this.isActive();e.XCollectionUtils.forEach(this.m_form.getAllFormItems(),e=>{e.setEnabled(i)});e.XCollectionUtils.forEach(this.m_section.getAllFormItems(),e=>{e.setEnabled(i)})}this.getView().setVisible(this.isVisible())}};e.OuDisplayFormattingView.prototype.updateVariableGroups=function(){let t=e.XLocalizationCenter.getCenter();let i;let o=this.getActiveVisualizationDefinition();if(this.m_sharedExecution){i=this.m_queryManager.getQueryModel().getVisualizationManager()}else{i=o}this.m_textFormattingVariableGroups=e.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_textFormattingVariableGroups);this.m_textFormattingVariableGroups=e.XListOfNameObject.create();if(e.notNull(o)&&o.getOlapComponentType().isTypeOf(e.OlapComponentType.VISUALIZATION_CHART_DEFINITION)){let o=e.OuTextFormattingVariableGroup.create(e.OuDisplayFormattingView.AXIS_LABEL_FORMATTING,t.getText(e.OuDisplayFormattingI18n.STYLE_AXIS_LABEL),i,e.OlapVisualizationConstants.AXIS_LABEL_STYLE_VARIABLE_FONT_FAMILY,e.OlapVisualizationConstants.AXIS_LABEL_STYLE_VARIABLE_FONT_SIZE,e.OlapVisualizationConstants.AXIS_LABEL_STYLE_VARIABLE_FONT_COLOR,e.OlapVisualizationConstants.AXIS_LABEL_STYLE_VARIABLE_FONT_ITALIC,e.OlapVisualizationConstants.AXIS_LABEL_STYLE_VARIABLE_FONT_BOLD);this.m_textFormattingVariableGroups.add(o);o=e.OuTextFormattingVariableGroup.create(e.OuDisplayFormattingView.AXIS_TITLE_FORMATTING,t.getText(e.OuDisplayFormattingI18n.STYLE_AXIS_TITLE),i,e.OlapVisualizationConstants.AXIS_TITLE_STYLE_VARIABLE_FONT_FAMILY,e.OlapVisualizationConstants.AXIS_TITLE_STYLE_VARIABLE_FONT_SIZE,e.OlapVisualizationConstants.AXIS_TITLE_STYLE_VARIABLE_FONT_COLOR,e.OlapVisualizationConstants.AXIS_TITLE_STYLE_VARIABLE_FONT_ITALIC,e.OlapVisualizationConstants.AXIS_TITLE_STYLE_VARIABLE_FONT_BOLD);o.setShowVN(e.OlapVisualizationConstants.AXIS_TITLE_STYLE_VARIABLE_ENABLED);o.setShowLabel(t.getText(e.OuDisplayFormattingI18n.STYLE_SHOW_AXIS_TITLE));this.m_textFormattingVariableGroups.add(o);o=e.OuTextFormattingVariableGroup.create(e.OuDisplayFormattingView.DATA_LABEL_FORMATTING,t.getText(e.OuDisplayFormattingI18n.STYLE_DATA_LABEL),i,e.OlapVisualizationConstants.DATA_LABEL_STYLE_VARIABLE_FONT_FAMILY,e.OlapVisualizationConstants.DATA_LABEL_STYLE_VARIABLE_FONT_SIZE,e.OlapVisualizationConstants.DATA_LABEL_STYLE_VARIABLE_FONT_COLOR,e.OlapVisualizationConstants.DATA_LABEL_STYLE_VARIABLE_FONT_ITALIC,e.OlapVisualizationConstants.DATA_LABEL_STYLE_VARIABLE_FONT_BOLD);o.setShowVN(e.OlapVisualizationConstants.DATA_LABEL_STYLE_VARIABLE_ENABLED);o.setShowLabel(t.getText(e.OuDisplayFormattingI18n.STYLE_SHOW_DATA_LABEL));o.setAvoidOverlapVN(e.OlapVisualizationConstants.DATA_LABEL_STYLE_VARIABLE_AVOID_OVERLAP);this.m_textFormattingVariableGroups.add(o);o=e.OuTextFormattingVariableGroup.create(e.OuDisplayFormattingView.LEGEND_FORMATTING,t.getText(e.OuDisplayFormattingI18n.STYLE_LEGEND),i,e.OlapVisualizationConstants.LEGEND_STYLE_VARIABLE_FONT_FAMILY,e.OlapVisualizationConstants.LEGEND_STYLE_VARIABLE_FONT_SIZE,e.OlapVisualizationConstants.LEGEND_STYLE_VARIABLE_FONT_COLOR,e.OlapVisualizationConstants.LEGEND_STYLE_VARIABLE_FONT_ITALIC,e.OlapVisualizationConstants.LEGEND_STYLE_VARIABLE_FONT_BOLD);o.setShowVN(e.OlapVisualizationConstants.LEGEND_STYLE_VARIABLE_ENABLED);o.setShowLabel(t.getText(e.OuDisplayFormattingI18n.STYLE_SHOW_LEGEND));o.setPlacementVN(e.OlapVisualizationConstants.LEGEND_STYLE_VARIABLE_POSITION);o.setHorizontalAlignmentVN(e.OlapVisualizationConstants.LEGEND_STYLE_VARIABLE_HORIZONTAL_ALIGNMENT);o.setVerticalAlignmentVN(e.OlapVisualizationConstants.LEGEND_STYLE_VARIABLE_VERTICAL_ALIGNMENT);o.setLayoutDirectionVN(e.OlapVisualizationConstants.LEGEND_STYLE_VARIABLE_LAYOUT_DIRECTION);this.m_textFormattingVariableGroups.add(o)}};e.OuTableTextFormattingPropertiesGroup=function(){};e.OuTableTextFormattingPropertiesGroup.prototype=new e.DfNameTextObject;e.OuTableTextFormattingPropertiesGroup.prototype._ff_c="OuTableTextFormattingPropertiesGroup";e.OuTableTextFormattingPropertiesGroup.create=function(t,i,o){let n=new e.OuTableTextFormattingPropertiesGroup;n.setupWithNameText(t,i);n.m_tableStyle=o;return n};e.OuTableTextFormattingPropertiesGroup.prototype.m_showLabel=null;e.OuTableTextFormattingPropertiesGroup.prototype.m_tableStyle=null;e.OuTableTextFormattingPropertiesGroup.prototype.getFillColor=function(){return this.m_tableStyle.getFillColor()};e.OuTableTextFormattingPropertiesGroup.prototype.getFontColor=function(){return this.m_tableStyle.getFontColor()};e.OuTableTextFormattingPropertiesGroup.prototype.getFontFamily=function(){return this.m_tableStyle.getFontFamily()};e.OuTableTextFormattingPropertiesGroup.prototype.getFontSize=function(){return e.XDouble.convertToInt(this.m_tableStyle.getFontSize())};e.OuTableTextFormattingPropertiesGroup.prototype.getHorizontalAlignment=function(){return this.m_tableStyle.getHorizontalAlignment()};e.OuTableTextFormattingPropertiesGroup.prototype.getLayoutDirection=function(){return null};e.OuTableTextFormattingPropertiesGroup.prototype.getPlacement=function(){return null};e.OuTableTextFormattingPropertiesGroup.prototype.getShowLabel=function(){return this.m_showLabel};e.OuTableTextFormattingPropertiesGroup.prototype.getVerticalAlignment=function(){return this.m_tableStyle.getVerticalAlignment()};e.OuTableTextFormattingPropertiesGroup.prototype.isAvoidOverlap=function(){return null};e.OuTableTextFormattingPropertiesGroup.prototype.isAvoidOverlapDefault=function(){return true};e.OuTableTextFormattingPropertiesGroup.prototype.isFillColorDefault=function(){return e.XStringUtils.isNullOrEmpty(this.m_tableStyle.getFillColor())};e.OuTableTextFormattingPropertiesGroup.prototype.isFontBold=function(){return this.m_tableStyle.isFontBoldExt()};e.OuTableTextFormattingPropertiesGroup.prototype.isFontBoldDefault=function(){return!e.TriStateBool.isExplicitBooleanValue(this.m_tableStyle.isFontBoldExt())};e.OuTableTextFormattingPropertiesGroup.prototype.isFontColorDefault=function(){return e.XStringUtils.isNullOrEmpty(this.m_tableStyle.getFontColor())};e.OuTableTextFormattingPropertiesGroup.prototype.isFontFamilyDefault=function(){return e.XStringUtils.isNullOrEmpty(this.m_tableStyle.getFontFamily())};e.OuTableTextFormattingPropertiesGroup.prototype.isFontItalic=function(){return this.m_tableStyle.isFontItalicExt()};e.OuTableTextFormattingPropertiesGroup.prototype.isFontItalicDefault=function(){return!e.TriStateBool.isExplicitBooleanValue(this.m_tableStyle.isFontItalicExt())};e.OuTableTextFormattingPropertiesGroup.prototype.isFontSizeDefault=function(){return this.m_tableStyle.getFontSize()<=0};e.OuTableTextFormattingPropertiesGroup.prototype.isFontStrikeThrough=function(){return this.m_tableStyle.isFontStrikeThroughExt()};e.OuTableTextFormattingPropertiesGroup.prototype.isFontStrikeThroughDefault=function(){return!e.TriStateBool.isExplicitBooleanValue(this.m_tableStyle.isFontStrikeThroughExt())};e.OuTableTextFormattingPropertiesGroup.prototype.isFontUnderline=function(){return this.m_tableStyle.isFontUnderlineExt()};e.OuTableTextFormattingPropertiesGroup.prototype.isFontUnderlineDefault=function(){return!e.TriStateBool.isExplicitBooleanValue(this.m_tableStyle.isFontUnderlineExt())};e.OuTableTextFormattingPropertiesGroup.prototype.isHorizontalAlignmentDefault=function(){return this.m_tableStyle.getHorizontalAlignment()===null||this.m_tableStyle.getHorizontalAlignment()===e.CellAlignmentHorizontal.INHERIT};e.OuTableTextFormattingPropertiesGroup.prototype.isLayoutDirectionDefault=function(){return true};e.OuTableTextFormattingPropertiesGroup.prototype.isPlacementDefault=function(){return true};e.OuTableTextFormattingPropertiesGroup.prototype.isShow=function(){return this.m_tableStyle.isShowFormattedText()};e.OuTableTextFormattingPropertiesGroup.prototype.isShownDefault=function(){return!e.TriStateBool.isExplicitBooleanValue(this.m_tableStyle.isShowFormattedText())};e.OuTableTextFormattingPropertiesGroup.prototype.isVerticalAlignmentDefault=function(){return this.m_tableStyle.getVerticalAlignment()===null||this.m_tableStyle.getVerticalAlignment()===e.CellAlignmentVertical.INHERIT};e.OuTableTextFormattingPropertiesGroup.prototype.resetAvoidOverlap=function(){};e.OuTableTextFormattingPropertiesGroup.prototype.resetFillColor=function(){this.m_tableStyle.setFillColor(null)};e.OuTableTextFormattingPropertiesGroup.prototype.resetFontBold=function(){this.m_tableStyle.setFontBoldExt(e.TriStateBool._DEFAULT)};e.OuTableTextFormattingPropertiesGroup.prototype.resetFontColor=function(){this.m_tableStyle.setFontColor(null)};e.OuTableTextFormattingPropertiesGroup.prototype.resetFontFamily=function(){this.m_tableStyle.setFontFamily(null)};e.OuTableTextFormattingPropertiesGroup.prototype.resetFontItalic=function(){this.m_tableStyle.setFontItalicExt(e.TriStateBool._DEFAULT)};e.OuTableTextFormattingPropertiesGroup.prototype.resetFontSize=function(){this.m_tableStyle.setFontSize(-1)};e.OuTableTextFormattingPropertiesGroup.prototype.resetFontStrikeThrough=function(){this.m_tableStyle.setFontStrikeThroughExt(e.TriStateBool._DEFAULT)};e.OuTableTextFormattingPropertiesGroup.prototype.resetFontUnderline=function(){this.m_tableStyle.setFontUnderlineExt(e.TriStateBool._DEFAULT)};e.OuTableTextFormattingPropertiesGroup.prototype.resetHorizontalAlignment=function(){this.m_tableStyle.setHorizontalAlignment(null)};e.OuTableTextFormattingPropertiesGroup.prototype.resetLayoutDirection=function(){};e.OuTableTextFormattingPropertiesGroup.prototype.resetPlacement=function(){};e.OuTableTextFormattingPropertiesGroup.prototype.resetShown=function(){this.m_tableStyle.setShowFormattedText(e.TriStateBool._DEFAULT)};e.OuTableTextFormattingPropertiesGroup.prototype.resetVerticalAlignment=function(){this.m_tableStyle.setVerticalAlignment(null)};e.OuTableTextFormattingPropertiesGroup.prototype.setAvoidOverlap=function(e){};e.OuTableTextFormattingPropertiesGroup.prototype.setFillColor=function(e){this.m_tableStyle.setFillColor(e)};e.OuTableTextFormattingPropertiesGroup.prototype.setFontBold=function(e){this.m_tableStyle.setFontBoldExt(e)};e.OuTableTextFormattingPropertiesGroup.prototype.setFontColor=function(e){this.m_tableStyle.setFontColor(e)};e.OuTableTextFormattingPropertiesGroup.prototype.setFontFamily=function(e){this.m_tableStyle.setFontFamily(e)};e.OuTableTextFormattingPropertiesGroup.prototype.setFontItalic=function(e){this.m_tableStyle.setFontItalicExt(e)};e.OuTableTextFormattingPropertiesGroup.prototype.setFontSize=function(e){this.m_tableStyle.setFontSize(e)};e.OuTableTextFormattingPropertiesGroup.prototype.setFontStrikeThrough=function(e){this.m_tableStyle.setFontStrikeThroughExt(e)};e.OuTableTextFormattingPropertiesGroup.prototype.setFontUnderline=function(e){this.m_tableStyle.setFontUnderlineExt(e)};e.OuTableTextFormattingPropertiesGroup.prototype.setHorizontalAlignment=function(e){this.m_tableStyle.setHorizontalAlignment(e)};e.OuTableTextFormattingPropertiesGroup.prototype.setLayoutDirection=function(e){};e.OuTableTextFormattingPropertiesGroup.prototype.setPlacement=function(e){};e.OuTableTextFormattingPropertiesGroup.prototype.setShowLabel=function(e){this.m_showLabel=e};e.OuTableTextFormattingPropertiesGroup.prototype.setShown=function(e){this.m_tableStyle.setShowFormattedText(e)};e.OuTableTextFormattingPropertiesGroup.prototype.setVerticalAlignment=function(e){this.m_tableStyle.setVerticalAlignment(e)};e.OuTableTextFormattingPropertiesGroup.prototype.supportsAvoidOverlap=function(){return false};e.OuTableTextFormattingPropertiesGroup.prototype.supportsFillColor=function(){return true};e.OuTableTextFormattingPropertiesGroup.prototype.supportsFontStrikeThrough=function(){return true};e.OuTableTextFormattingPropertiesGroup.prototype.supportsFontUnderline=function(){return true};e.OuTableTextFormattingPropertiesGroup.prototype.supportsHorizontalAlignment=function(){return true};e.OuTableTextFormattingPropertiesGroup.prototype.supportsLayoutDirection=function(){return false};e.OuTableTextFormattingPropertiesGroup.prototype.supportsPlacement=function(){return false};e.OuTableTextFormattingPropertiesGroup.prototype.supportsShown=function(){return true};e.OuTableTextFormattingPropertiesGroup.prototype.supportsVerticalAlignment=function(){return true};e.OuTextFormattingVariableGroup=function(){};e.OuTextFormattingVariableGroup.prototype=new e.DfNameTextObject;e.OuTextFormattingVariableGroup.prototype._ff_c="OuTextFormattingVariableGroup";e.OuTextFormattingVariableGroup.create=function(t,i,o,n,a,r,l,s){let u=new e.OuTextFormattingVariableGroup;u.setupWithNameText(t,i);u.m_variableHolderContext=o;u.m_fontFamilyVN=n;u.m_fontSizeVN=a;u.m_fontColorVN=r;u.m_italicVN=l;u.m_boldVN=s;return u};e.OuTextFormattingVariableGroup.prototype.m_avoidOverlapVN=null;e.OuTextFormattingVariableGroup.prototype.m_boldVN=null;e.OuTextFormattingVariableGroup.prototype.m_fillColorVN=null;e.OuTextFormattingVariableGroup.prototype.m_fontColorVN=null;e.OuTextFormattingVariableGroup.prototype.m_fontFamilyVN=null;e.OuTextFormattingVariableGroup.prototype.m_fontSizeVN=null;e.OuTextFormattingVariableGroup.prototype.m_horizontalAlignmentVN=null;e.OuTextFormattingVariableGroup.prototype.m_italicVN=null;e.OuTextFormattingVariableGroup.prototype.m_layoutDirectionVN=null;e.OuTextFormattingVariableGroup.prototype.m_placementVN=null;e.OuTextFormattingVariableGroup.prototype.m_showLabel=null;e.OuTextFormattingVariableGroup.prototype.m_showVN=null;e.OuTextFormattingVariableGroup.prototype.m_strikeThroughVN=null;e.OuTextFormattingVariableGroup.prototype.m_underlineVN=null;e.OuTextFormattingVariableGroup.prototype.m_variableHolderContext=null;e.OuTextFormattingVariableGroup.prototype.m_verticalAlignmentVN=null;e.OuTextFormattingVariableGroup.prototype.clearVariable=function(e){this.m_variableHolderContext.getVisualizationVariableHolder().clearVariable(e)};e.OuTextFormattingVariableGroup.prototype.ensureVariable=function(t,i){return e.isNull(t)?null:this.getVariable(t).orElse(this.m_variableHolderContext.addNewSimpleTypeVariable(i,t,t,false))};e.OuTextFormattingVariableGroup.prototype.getFillColor=function(){let e=this.getVariable(this.m_fillColorVN);return e.isPresent()?e.get().getString():null};e.OuTextFormattingVariableGroup.prototype.getFontColor=function(){let e=this.getVariable(this.m_fontColorVN);return e.isPresent()?e.get().getString():null};e.OuTextFormattingVariableGroup.prototype.getFontFamily=function(){let e=this.getVariable(this.m_fontFamilyVN);return e.isPresent()?e.get().getString():null};e.OuTextFormattingVariableGroup.prototype.getFontSize=function(){let e=this.getVariable(this.m_fontSizeVN);return e.isPresent()?e.get().getInteger():0};e.OuTextFormattingVariableGroup.prototype.getHorizontalAlignment=function(){let t=this.getVariableOrFallback(this.m_horizontalAlignmentVN);return t.isPresent()?e.CellAlignmentHorizontal.lookup(t.get().getString()):null};e.OuTextFormattingVariableGroup.prototype.getLayoutDirection=function(){let t=this.getVariableOrFallback(this.m_layoutDirectionVN);return t.isPresent()?e.LayoutDirection.lookup(t.get().getString()):null};e.OuTextFormattingVariableGroup.prototype.getPlacement=function(){let t=this.getVariable(this.m_placementVN);return t.isPresent()?e.ChartLegendPosition.lookup(t.get().getString()):null};e.OuTextFormattingVariableGroup.prototype.getShowLabel=function(){return this.m_showLabel};e.OuTextFormattingVariableGroup.prototype.getVariable=function(t){return e.XOptional.ofNullable(e.isNull(t)?null:this.m_variableHolderContext.getVariable(t))};e.OuTextFormattingVariableGroup.prototype.getVariableOrFallback=function(t){return e.XOptional.ofNullable(e.isNull(t)?null:this.m_variableHolderContext.getVariableOrFallback(t))};e.OuTextFormattingVariableGroup.prototype.getVerticalAlignment=function(){let t=this.getVariableOrFallback(this.m_verticalAlignmentVN);return t.isPresent()?e.CellAlignmentVertical.lookup(t.get().getString()):null};e.OuTextFormattingVariableGroup.prototype.isAvoidOverlap=function(){let t=this.getVariableOrFallback(this.m_avoidOverlapVN);return t.isPresent()?e.TriStateBool.lookup(t.get().getBoolean()):e.TriStateBool._DEFAULT};e.OuTextFormattingVariableGroup.prototype.isAvoidOverlapDefault=function(){let e=this.getVariable(this.m_avoidOverlapVN);return!e.isPresent()||e.get().isEmpty()};e.OuTextFormattingVariableGroup.prototype.isFillColorDefault=function(){let t=this.getVariable(this.m_fillColorVN);return!t.isPresent()||t.get().isEmpty()||e.XStringUtils.isNullOrEmpty(t.get().getString())};e.OuTextFormattingVariableGroup.prototype.isFontBold=function(){let t=this.getVariable(this.m_boldVN);return t.isPresent()?e.TriStateBool.lookup(t.get().getBoolean()):e.TriStateBool._DEFAULT};e.OuTextFormattingVariableGroup.prototype.isFontBoldDefault=function(){let e=this.getVariable(this.m_boldVN);return!e.isPresent()||e.get().isEmpty()};e.OuTextFormattingVariableGroup.prototype.isFontColorDefault=function(){let t=this.getVariable(this.m_fontColorVN);return!t.isPresent()||t.get().isEmpty()||e.XStringUtils.isNullOrEmpty(t.get().getString())};e.OuTextFormattingVariableGroup.prototype.isFontFamilyDefault=function(){let t=this.getVariable(this.m_fontFamilyVN);return!t.isPresent()||t.get().isEmpty()||e.XStringUtils.isNullOrEmpty(t.get().getString())};e.OuTextFormattingVariableGroup.prototype.isFontItalic=function(){let t=this.getVariable(this.m_italicVN);return t.isPresent()?e.TriStateBool.lookup(t.get().getBoolean()):e.TriStateBool._DEFAULT};e.OuTextFormattingVariableGroup.prototype.isFontItalicDefault=function(){let e=this.getVariable(this.m_italicVN);return!e.isPresent()||e.get().isEmpty()};e.OuTextFormattingVariableGroup.prototype.isFontSizeDefault=function(){let e=this.getVariable(this.m_fontSizeVN);return!e.isPresent()||e.get().isEmpty()||e.get().getInteger()<=0};e.OuTextFormattingVariableGroup.prototype.isFontStrikeThrough=function(){let t=this.getVariable(this.m_strikeThroughVN);return t.isPresent()?e.TriStateBool.lookup(t.get().getBoolean()):e.TriStateBool._DEFAULT};e.OuTextFormattingVariableGroup.prototype.isFontStrikeThroughDefault=function(){let e=this.getVariable(this.m_strikeThroughVN);return!e.isPresent()||e.get().isEmpty()};e.OuTextFormattingVariableGroup.prototype.isFontUnderline=function(){let t=this.getVariable(this.m_underlineVN);return t.isPresent()?e.TriStateBool.lookup(t.get().getBoolean()):e.TriStateBool._DEFAULT};e.OuTextFormattingVariableGroup.prototype.isFontUnderlineDefault=function(){let e=this.getVariable(this.m_underlineVN);return!e.isPresent()||e.get().isEmpty()};e.OuTextFormattingVariableGroup.prototype.isHorizontalAlignmentDefault=function(){let e=this.getVariable(this.m_horizontalAlignmentVN);return!e.isPresent()||e.get().isEmpty()};e.OuTextFormattingVariableGroup.prototype.isLayoutDirectionDefault=function(){let e=this.getVariable(this.m_layoutDirectionVN);return!e.isPresent()||e.get().isEmpty()};e.OuTextFormattingVariableGroup.prototype.isPlacementDefault=function(){let e=this.getVariable(this.m_placementVN);return!e.isPresent()||e.get().isEmpty()};e.OuTextFormattingVariableGroup.prototype.isShow=function(){let t=this.getVariableOrFallback(this.m_showVN);return t.isPresent()?e.TriStateBool.lookup(t.get().getBoolean()):e.TriStateBool._DEFAULT};e.OuTextFormattingVariableGroup.prototype.isShownDefault=function(){let e=this.getVariable(this.m_showVN);return!e.isPresent()||e.get().isEmpty()};e.OuTextFormattingVariableGroup.prototype.isVerticalAlignmentDefault=function(){let e=this.getVariable(this.m_verticalAlignmentVN);return!e.isPresent()||e.get().isEmpty()};e.OuTextFormattingVariableGroup.prototype.resetAvoidOverlap=function(){this.getVariable(this.m_avoidOverlapVN).ifPresent(e=>{e.clear()})};e.OuTextFormattingVariableGroup.prototype.resetFillColor=function(){this.getVariable(this.m_fillColorVN).ifPresent(e=>{e.clear()})};e.OuTextFormattingVariableGroup.prototype.resetFontBold=function(){this.getVariable(this.m_boldVN).ifPresent(e=>{e.clear()})};e.OuTextFormattingVariableGroup.prototype.resetFontColor=function(){this.getVariable(this.m_fontColorVN).ifPresent(e=>{e.clear()})};e.OuTextFormattingVariableGroup.prototype.resetFontFamily=function(){this.getVariable(this.m_fontFamilyVN).ifPresent(e=>{e.clear()})};e.OuTextFormattingVariableGroup.prototype.resetFontItalic=function(){this.getVariable(this.m_italicVN).ifPresent(e=>{e.clear()})};e.OuTextFormattingVariableGroup.prototype.resetFontSize=function(){this.getVariable(this.m_fontSizeVN).ifPresent(e=>{e.clear()})};e.OuTextFormattingVariableGroup.prototype.resetFontStrikeThrough=function(){this.getVariable(this.m_strikeThroughVN).ifPresent(e=>{e.clear()})};e.OuTextFormattingVariableGroup.prototype.resetFontUnderline=function(){this.getVariable(this.m_underlineVN).ifPresent(e=>{e.clear()})};e.OuTextFormattingVariableGroup.prototype.resetHorizontalAlignment=function(){this.getVariable(this.m_horizontalAlignmentVN).ifPresent(e=>{e.clear()})};e.OuTextFormattingVariableGroup.prototype.resetLayoutDirection=function(){this.getVariable(this.m_layoutDirectionVN).ifPresent(e=>{e.clear()})};e.OuTextFormattingVariableGroup.prototype.resetPlacement=function(){this.getVariable(this.m_placementVN).ifPresent(e=>{e.clear()})};e.OuTextFormattingVariableGroup.prototype.resetShown=function(){this.getVariable(this.m_showVN).ifPresent(e=>{e.clear()})};e.OuTextFormattingVariableGroup.prototype.resetVerticalAlignment=function(){this.getVariable(this.m_verticalAlignmentVN).ifPresent(e=>{e.clear()})};e.OuTextFormattingVariableGroup.prototype.setAvoidOverlap=function(t){if(!e.TriStateBool.isExplicitBooleanValue(t)){this.clearVariable(this.m_avoidOverlapVN)}else{this.setBooleanVariable(this.m_avoidOverlapVN,t)}};e.OuTextFormattingVariableGroup.prototype.setAvoidOverlapVN=function(e){this.m_avoidOverlapVN=e};e.OuTextFormattingVariableGroup.prototype.setBooleanVariable=function(t,i){let o=this.ensureVariable(t,e.XValueType.BOOLEAN);if(e.notNull(o)){o.setBoolean(e.notNull(i)&&i.getBoolean())}};e.OuTextFormattingVariableGroup.prototype.setFillColor=function(t){if(e.XStringUtils.isNullOrEmpty(t)){this.clearVariable(this.m_fillColorVN)}else{this.setStringVariable(this.m_fillColorVN,t)}};e.OuTextFormattingVariableGroup.prototype.setFillColorVN=function(e){this.m_fillColorVN=e};e.OuTextFormattingVariableGroup.prototype.setFontBold=function(t){if(!e.TriStateBool.isExplicitBooleanValue(t)){this.clearVariable(this.m_boldVN)}else{this.setBooleanVariable(this.m_boldVN,t)}};e.OuTextFormattingVariableGroup.prototype.setFontColor=function(t){if(e.XStringUtils.isNullOrEmpty(t)){this.clearVariable(this.m_fontColorVN)}else{this.setStringVariable(this.m_fontColorVN,t)}};e.OuTextFormattingVariableGroup.prototype.setFontFamily=function(t){if(e.XStringUtils.isNullOrEmpty(t)){this.clearVariable(this.m_fontFamilyVN)}else{this.setStringVariable(this.m_fontFamilyVN,t)}};e.OuTextFormattingVariableGroup.prototype.setFontItalic=function(t){if(!e.TriStateBool.isExplicitBooleanValue(t)){this.clearVariable(this.m_italicVN)}else{this.setBooleanVariable(this.m_italicVN,t)}};e.OuTextFormattingVariableGroup.prototype.setFontSize=function(e){if(e<=0){this.clearVariable(this.m_fontSizeVN)}else{this.setIntegerVariable(this.m_fontSizeVN,e)}};e.OuTextFormattingVariableGroup.prototype.setFontStrikeThrough=function(t){if(!e.TriStateBool.isExplicitBooleanValue(t)){this.clearVariable(this.m_strikeThroughVN)}else{this.setBooleanVariable(this.m_strikeThroughVN,t)}};e.OuTextFormattingVariableGroup.prototype.setFontUnderline=function(t){if(!e.TriStateBool.isExplicitBooleanValue(t)){this.clearVariable(this.m_underlineVN)}else{this.setBooleanVariable(this.m_underlineVN,t)}};e.OuTextFormattingVariableGroup.prototype.setHorizontalAlignment=function(t){if(e.isNull(t)){this.clearVariable(this.m_horizontalAlignmentVN)}else{this.setStringVariable(this.m_horizontalAlignmentVN,t.getName())}};e.OuTextFormattingVariableGroup.prototype.setHorizontalAlignmentVN=function(e){this.m_horizontalAlignmentVN=e};e.OuTextFormattingVariableGroup.prototype.setIntegerVariable=function(t,i){let o=this.ensureVariable(t,e.XValueType.INTEGER);if(e.notNull(o)){o.setInteger(i)}};e.OuTextFormattingVariableGroup.prototype.setLayoutDirection=function(t){if(e.isNull(t)){this.clearVariable(this.m_layoutDirectionVN)}else{this.setStringVariable(this.m_layoutDirectionVN,t.getName())}};e.OuTextFormattingVariableGroup.prototype.setLayoutDirectionVN=function(e){this.m_layoutDirectionVN=e};e.OuTextFormattingVariableGroup.prototype.setPlacement=function(t){if(e.isNull(t)){this.clearVariable(this.m_placementVN)}else{this.setStringVariable(this.m_placementVN,t.getName())}};e.OuTextFormattingVariableGroup.prototype.setPlacementVN=function(e){this.m_placementVN=e};e.OuTextFormattingVariableGroup.prototype.setShowLabel=function(e){this.m_showLabel=e};e.OuTextFormattingVariableGroup.prototype.setShowVN=function(e){this.m_showVN=e};e.OuTextFormattingVariableGroup.prototype.setShown=function(t){if(!e.TriStateBool.isExplicitBooleanValue(t)){this.clearVariable(this.m_showVN)}else{this.setBooleanVariable(this.m_showVN,t)}};e.OuTextFormattingVariableGroup.prototype.setStrikeThroughVN=function(e){this.m_strikeThroughVN=e};e.OuTextFormattingVariableGroup.prototype.setStringVariable=function(t,i){let o=this.ensureVariable(t,e.XValueType.STRING);if(e.notNull(o)){o.setValueByString(i)}};e.OuTextFormattingVariableGroup.prototype.setUnderlineVN=function(e){this.m_underlineVN=e};e.OuTextFormattingVariableGroup.prototype.setVerticalAlignment=function(t){if(e.isNull(t)){this.clearVariable(this.m_verticalAlignmentVN)}else{this.setStringVariable(this.m_verticalAlignmentVN,t.getName())}};e.OuTextFormattingVariableGroup.prototype.setVerticalAlignmentVN=function(e){this.m_verticalAlignmentVN=e};e.OuTextFormattingVariableGroup.prototype.supportsAvoidOverlap=function(){return e.XStringUtils.isNotNullAndNotEmpty(this.m_avoidOverlapVN)};e.OuTextFormattingVariableGroup.prototype.supportsFillColor=function(){return e.XStringUtils.isNotNullAndNotEmpty(this.m_fillColorVN)};e.OuTextFormattingVariableGroup.prototype.supportsFontStrikeThrough=function(){return e.XStringUtils.isNotNullAndNotEmpty(this.m_strikeThroughVN)};e.OuTextFormattingVariableGroup.prototype.supportsFontUnderline=function(){return e.XStringUtils.isNotNullAndNotEmpty(this.m_underlineVN)};e.OuTextFormattingVariableGroup.prototype.supportsHorizontalAlignment=function(){return e.XStringUtils.isNotNullAndNotEmpty(this.m_horizontalAlignmentVN)};e.OuTextFormattingVariableGroup.prototype.supportsLayoutDirection=function(){return e.XStringUtils.isNotNullAndNotEmpty(this.m_layoutDirectionVN)};e.OuTextFormattingVariableGroup.prototype.supportsPlacement=function(){return e.XStringUtils.isNotNullAndNotEmpty(this.m_placementVN)};e.OuTextFormattingVariableGroup.prototype.supportsShown=function(){return e.XStringUtils.isNotNullAndNotEmpty(this.m_showVN)};e.OuTextFormattingVariableGroup.prototype.supportsVerticalAlignment=function(){return e.XStringUtils.isNotNullAndNotEmpty(this.m_verticalAlignmentVN)};e.OuNumberFormattingView=function(){};e.OuNumberFormattingView.prototype=new e.DfUiContentView;e.OuNumberFormattingView.prototype._ff_c="OuNumberFormattingView";e.OuNumberFormattingView.ALL_KEY="!all";e.OuNumberFormattingView.DEFAULT_KEY="!default";e.OuNumberFormattingView.EMPTY_KEY="!empty";e.OuNumberFormattingView.FORMAT="scaleFormat";e.OuNumberFormattingView.MEMBER="member";e.OuNumberFormattingView.MIXED_KEY="!mixed";e.OuNumberFormattingView.SCALE="scale";e.OuNumberFormattingView.SHIFT="shift";e.OuNumberFormattingView.SIGN="sign";e.OuNumberFormattingView.createView=function(t){let i=new e.OuNumberFormattingView;i.initView(t);return i};e.OuNumberFormattingView.prototype.m_form=null;e.OuNumberFormattingView.prototype.m_loadedValueFormat=null;e.OuNumberFormattingView.prototype.m_loadedValueMember=null;e.OuNumberFormattingView.prototype.m_loadedValueScale=null;e.OuNumberFormattingView.prototype.m_loadedValueShift=null;e.OuNumberFormattingView.prototype.m_loadedValueSign=null;e.OuNumberFormattingView.prototype.m_loadedValueType=null;e.OuNumberFormattingView.prototype.m_onChange=null;e.OuNumberFormattingView.prototype.m_queryManager=null;e.OuNumberFormattingView.prototype.addDropdown=function(t,i){let o=this.getLocalizationProvider();let n=this.m_form.addDropdown(t,null,o.getText(i),null,false);n.setLabelFontWeight(e.UiFontWeight.NORMAL)};e.OuNumberFormattingView.prototype.addMeasureDropdown=function(){let t=this.m_form.addDropdown(e.OuNumberFormattingView.MEMBER,this.m_loadedValueMember,e.OuNumberFormattingView.MEMBER,null,false);t.setLabelFontWeight(e.UiFontWeight.NORMAL)};e.OuNumberFormattingView.prototype.applyStateToUi=function(){this.setDropdownValue(e.OuNumberFormattingView.MEMBER,this.getMemberOptions(),this.m_loadedValueMember);this.setDropdownValue(e.OuNumberFormattingView.SHIFT,this.getShiftOptions(),this.m_loadedValueShift);this.setDropdownValue(e.OuNumberFormattingView.FORMAT,this.getFormatOptions(),this.m_loadedValueFormat);this.setDropdownValue(e.OuNumberFormattingView.SCALE,this.getScaleOptions(),this.m_loadedValueScale);this.setDropdownValue(e.OuNumberFormattingView.SIGN,this.getSignOptions(),this.m_loadedValueSign);this.m_form.getFormItemByKey(e.OuNumberFormattingView.SHIFT).setVisible(this.m_loadedValueType!==e.XValueType.PERCENT);this.m_form.getFormItemByKey(e.OuNumberFormattingView.FORMAT).setVisible(this.m_loadedValueType!==e.XValueType.PERCENT)};e.OuNumberFormattingView.prototype.buildViewUi=function(t){this.m_form=e.UiForm.create(this.getGenesis());this.addMeasureDropdown();this.addDropdown(e.OuNumberFormattingView.SHIFT,e.OuNumberFormattingI18n.STYLE_SCALE);this.addDropdown(e.OuNumberFormattingView.FORMAT,e.OuNumberFormattingI18n.STYLE_SCALE_FORMAT);this.addDropdown(e.OuNumberFormattingView.SCALE,e.OuNumberFormattingI18n.STYLE_DECIMAL_PLACES);this.addDropdown(e.OuNumberFormattingView.SIGN,e.OuNumberFormattingI18n.STYLE_SIGN);t.setRoot(this.m_form.getView())};e.OuNumberFormattingView.prototype.clearLoadedValues=function(){this.m_loadedValueMember=e.OuNumberFormattingView.EMPTY_KEY;this.m_loadedValueShift=e.OuNumberFormattingView.EMPTY_KEY;this.m_loadedValueScale=e.OuNumberFormattingView.EMPTY_KEY;this.m_loadedValueFormat=e.OuNumberFormattingView.EMPTY_KEY;this.m_loadedValueSign=e.OuNumberFormattingView.EMPTY_KEY};e.OuNumberFormattingView.prototype.destroyView=function(){this.m_loadedValueMember=null;this.m_loadedValueScale=null;this.m_loadedValueShift=null;this.m_loadedValueFormat=null;this.m_loadedValueSign=null;this.m_loadedValueType=null;this.m_form=e.XObjectExt.release(this.m_form);this.m_queryManager=null};e.OuNumberFormattingView.prototype.determineAllValue=function(t,i){if(e.isNull(t)){return i}if(!e.XString.isEqual(i,t)&&!e.XString.isEqual(i,e.OuNumberFormattingView.MIXED_KEY)){return e.OuNumberFormattingView.MIXED_KEY}return t};e.OuNumberFormattingView.prototype.getConstantValue=function(t,i){if(i){return e.OuNumberFormattingView.DEFAULT_KEY}if(e.isNull(t)){return e.OuNumberFormattingView.DEFAULT_KEY}return t.getName()};e.OuNumberFormattingView.prototype.getEffectiveCellValueTypeOfMember=function(t){return this.isPercentMember(t)?e.XValueType.PERCENT:t.getCellValueType()};e.OuNumberFormattingView.prototype.getFormatOptions=function(){let t=this.getLocalizationProvider();let i=e.XLinkedHashMapByString.create();i.put(e.OuNumberFormattingView.DEFAULT_KEY,t.getText(e.OuNumberFormattingI18n.STYLE_DEFAULT));i.put(e.ScaleFormat.SHORT.getName(),t.getText(e.OuNumberFormattingI18n.STYLE_SCALE_FORMAT_SHORT));i.put(e.ScaleFormat.LONG.getName(),t.getText(e.OuNumberFormattingI18n.STYLE_SCALE_FORMAT_LONG));return i};e.OuNumberFormattingView.prototype.getLeadingStructure=function(){let e=this.m_queryManager.getQueryModel();if(e.isLeadingStructureAccount()){return e.getAccountDimension()}return e.getMeasureDimension()};e.OuNumberFormattingView.prototype.getLocalizationProvider=function(){return e.OuNumberFormattingI18n.getLocalization()};e.OuNumberFormattingView.prototype.getMemberOptions=function(){let t=e.XHashMapByString.create();let i=this.getStructureMembers();if(i.size()>1){let i=this.getLocalizationProvider();if(this.m_queryManager.getQueryModel().isLeadingStructureAccount()){t.put(e.OuNumberFormattingView.ALL_KEY,i.getText(e.OuNumberFormattingI18n.STYLE_ACCOUNT_ALL))}else{t.put(e.OuNumberFormattingView.ALL_KEY,i.getText(e.OuNumberFormattingI18n.STYLE_MEASURE_ALL))}}for(let o=0;o<i.size();o++){let n=i.get(o);let a=e.QueryPresentationUtils.DESCRIPTION.getDisplayValueByType(n);t.put(n.getName(),a)}return t};e.OuNumberFormattingView.prototype.getQueryManager=function(){return this.m_queryManager};e.OuNumberFormattingView.prototype.getScaleOptions=function(){let t=this.getLocalizationProvider();let i=e.XLinkedHashMapByString.create();i.put(e.OuNumberFormattingView.DEFAULT_KEY,t.getText(e.OuNumberFormattingI18n.STYLE_DEFAULT));i.put("0","0");i.put("1","1");i.put("2","2");i.put("3","3");i.put("4","4");i.put("5","5");i.put("6","6");return i};e.OuNumberFormattingView.prototype.getShiftOptions=function(){let t=this.getLocalizationProvider();let i=e.XLinkedHashMapByString.create();i.put(e.OuNumberFormattingView.DEFAULT_KEY,t.getText(e.OuNumberFormattingI18n.STYLE_DEFAULT));i.put("0",t.getText(e.OuNumberFormattingI18n.STYLE_SCALE_UNFORMATTED));i.put("-3",t.getText(e.OuNumberFormattingI18n.STYLE_SCALE_LONG_THOUSAND));i.put("-6",t.getText(e.OuNumberFormattingI18n.STYLE_SCALE_LONG_MILLION));i.put("-9",t.getText(e.OuNumberFormattingI18n.STYLE_SCALE_LONG_BILLION));return i};e.OuNumberFormattingView.prototype.getSignOptions=function(){let t=this.getLocalizationProvider();let i=e.XLinkedHashMapByString.create();i.put(e.OuNumberFormattingView.DEFAULT_KEY,t.getText(e.OuNumberFormattingI18n.STYLE_DEFAULT));i.put(e.SignPresentation.BEFORE_NUMBER.getName(),"+ / -");i.put(e.SignPresentation.BRACKETS.getName(),"( )");return i};e.OuNumberFormattingView.prototype.getStringValue=function(t,i){if(i){return e.OuNumberFormattingView.DEFAULT_KEY}if(e.isNull(t)){return e.OuNumberFormattingView.DEFAULT_KEY}let o=t.getStringRepresentation();if(e.isNull(o)){return e.OuNumberFormattingView.DEFAULT_KEY}return o};e.OuNumberFormattingView.prototype.getStructureMembers=function(){let t=e.XListOfNameObject.create();let i=this.getLeadingStructure();if(e.isNull(i)){return t}let o=i.getAllStructureMembers();for(let i=0;i<o.size();i++){let n=o.get(i);if(n.getCellValueType()!==null&&n.getCellValueType().isDateTime()){continue}if(n.getResultVisibility()===e.ResultVisibility.HIDDEN){continue}t.add(n)}return t};e.OuNumberFormattingView.prototype.isPercentMember=function(t){return t.getCellValueType()===e.XValueType.PERCENT||t.getQueryManager().getSystemType().isTypeOf(e.SystemType.HANA)&&t.getNumericShiftExt(true)!==null&&t.getNumericShiftExt(true).getInteger()===2};e.OuNumberFormattingView.prototype.loadState=function(t){this.clearLoadedValues();if(this.getLeadingStructure()===null){return}this.m_loadedValueMember=t;if(e.XString.isEqual(this.m_loadedValueMember,e.OuNumberFormattingView.EMPTY_KEY)){return}if(e.XString.isEqual(this.m_loadedValueMember,e.OuNumberFormattingView.ALL_KEY)){this.loadStateOfAllMeasures()}else{let e=this.getLeadingStructure();let i=e.getStructureMember(t);this.loadStateOfMeasure(i)}};e.OuNumberFormattingView.prototype.loadStateOfAllMeasures=function(){let t=null;let i=null;let o=null;let n=null;let a=null;let r=null;let l=this.getStructureMembers();if(e.XCollectionUtils.hasElements(l)){r=this.getEffectiveCellValueTypeOfMember(l.get(0))}for(let s=0;s<l.size();s++){let u=l.get(s);let m=this.getEffectiveCellValueTypeOfMember(u);if(r!==m){r=null}if(m!==e.XValueType.PERCENT){let e=this.getStringValue(u.getNumericShiftExt(true),u.isNumericShiftDefaultExt(true));t=this.determineAllValue(t,e);let n=this.getStringValue(u.getNumericScale(),u.isNumericScaleDefault());i=this.determineAllValue(i,n);let a=this.getConstantValue(u.getScaleFormat(),u.isScaleFormatDefault());o=this.determineAllValue(o,a)}let p=this.getConstantValue(u.getSignPresentation(),u.isSignPresentationDefault());n=this.determineAllValue(n,p);let d=this.getConstantValue(u.getScaleAndUnitPlacement(),u.isScaleAndUnitPlacementDefault());a=this.determineAllValue(a,d)}this.m_loadedValueMember=e.OuNumberFormattingView.ALL_KEY;this.m_loadedValueShift=t;this.m_loadedValueScale=i;this.m_loadedValueFormat=o;this.m_loadedValueSign=n;this.m_loadedValueType=r};e.OuNumberFormattingView.prototype.loadStateOfMeasure=function(e){let t=this.getStringValue(e.getNumericShiftExt(true),e.isNumericShiftDefaultExt(true));let i=this.getStringValue(e.getNumericScale(),e.isNumericScaleDefault());let o=this.getConstantValue(e.getScaleFormat(),e.isScaleFormatDefault());let n=this.getConstantValue(e.getSignPresentation(),e.isSignPresentationDefault());this.m_loadedValueMember=e.getName();this.m_loadedValueShift=t;this.m_loadedValueScale=i;this.m_loadedValueFormat=o;this.m_loadedValueSign=n;this.m_loadedValueType=this.getEffectiveCellValueTypeOfMember(e)};e.OuNumberFormattingView.prototype.notifyChangeListeners=function(){if(e.notNull(this.m_onChange)){this.m_onChange()}};e.OuNumberFormattingView.prototype.resetFormatOptions=function(){this.m_form.getFormItemByKey(e.OuNumberFormattingView.FORMAT).setDropdownItems(this.getFormatOptions())};e.OuNumberFormattingView.prototype.resetScaleOptions=function(){this.m_form.getFormItemByKey(e.OuNumberFormattingView.SCALE).setDropdownItems(this.getScaleOptions())};e.OuNumberFormattingView.prototype.resetShiftOptions=function(){this.m_form.getFormItemByKey(e.OuNumberFormattingView.SHIFT).setDropdownItems(this.getShiftOptions())};e.OuNumberFormattingView.prototype.resetSignOptions=function(){this.m_form.getFormItemByKey(e.OuNumberFormattingView.SIGN).setDropdownItems(this.getSignOptions())};e.OuNumberFormattingView.prototype.resetValues=function(){this.m_form.getFormItemByKey(e.OuNumberFormattingView.SHIFT).setValue(e.XStringValue.create(e.OuNumberFormattingView.DEFAULT_KEY));this.m_form.getFormItemByKey(e.OuNumberFormattingView.SCALE).setValue(e.XStringValue.create(e.OuNumberFormattingView.DEFAULT_KEY));this.m_form.getFormItemByKey(e.OuNumberFormattingView.FORMAT).setValue(e.XStringValue.create(e.OuNumberFormattingView.DEFAULT_KEY));this.m_form.getFormItemByKey(e.OuNumberFormattingView.SIGN).setValue(e.XStringValue.create(e.OuNumberFormattingView.DEFAULT_KEY));this.saveState();this.resetShiftOptions();this.resetScaleOptions();this.resetFormatOptions();this.resetSignOptions()};e.OuNumberFormattingView.prototype.saveMemberState=function(t,i){let o=t.getStringByKey(e.OuNumberFormattingView.SHIFT);let n=t.getStringByKey(e.OuNumberFormattingView.SCALE);let a=t.getStringByKey(e.OuNumberFormattingView.FORMAT);let r=t.getStringByKey(e.OuNumberFormattingView.SIGN);if(!this.isPercentMember(i)){if(e.XString.isEqual(o,e.OuNumberFormattingView.DEFAULT_KEY)){i.resetToDefaultNumericShift()}else if(!e.XString.isEqual(o,e.OuNumberFormattingView.MIXED_KEY)){i.setNumericShiftExt(e.XInteger.convertFromString(o),true)}if(e.XString.isEqual(a,e.OuNumberFormattingView.DEFAULT_KEY)){i.resetToDefaultScaleFormat()}else if(!e.XString.isEqual(a,e.OuNumberFormattingView.MIXED_KEY)){i.setScaleFormat(e.ScaleFormat.lookup(a))}}if(e.XString.isEqual(n,e.OuNumberFormattingView.DEFAULT_KEY)){i.resetToDefaultNumericScale()}else if(!e.XString.isEqual(n,e.OuNumberFormattingView.MIXED_KEY)){i.setNumericScale(e.XInteger.convertFromString(n))}if(e.XString.isEqual(r,e.OuNumberFormattingView.DEFAULT_KEY)){i.resetToDefaultSignPresentation()}else if(!e.XString.isEqual(r,e.OuNumberFormattingView.MIXED_KEY)){i.setSignPresentation(e.SignPresentation.lookup(r))}};e.OuNumberFormattingView.prototype.saveState=function(){let t=this.m_form.getJsonModel();if(this.getLeadingStructure()===null){return}let i=this.getStructureMembers();let o=t.getStringByKey(e.OuNumberFormattingView.MEMBER);if(e.XString.isEqual(o,e.OuNumberFormattingView.EMPTY_KEY)){return}else if(e.XString.isEqual(o,e.OuNumberFormattingView.ALL_KEY)){for(let e=0;e<i.size();e++){this.saveMemberState(t,i.get(e))}}else{this.saveMemberState(t,i.getByKey(o))}this.notifyChangeListeners()};e.OuNumberFormattingView.prototype.setDropdownValue=function(t,i,o){let n=this.m_form.getFormItemByKey(t);if(!i.containsKey(o)){i.put(o,"-")}n.setDropdownItems(i);n.setValue(e.XStringValue.create(o))};e.OuNumberFormattingView.prototype.setOnChange=function(e){this.m_onChange=e};e.OuNumberFormattingView.prototype.setQueryManager=function(e){this.m_queryManager=e;this.clearLoadedValues()};e.OuNumberFormattingView.prototype.setupView=function(){this.clearLoadedValues()};e.OuNumberFormattingView.prototype.updateDropdown=function(e,t,i){let o=this.m_form.getFormItemByKey(e);o.setEnabled(this.getLeadingStructure()!==null);o.setVisible(i);o.setValueChangedConsumer((e,i)=>{this.saveState();o.setDropdownItems(t)})};e.OuNumberFormattingView.prototype.updateMeasureDropdown=function(){let t=this.getLocalizationProvider();let i=t.getText(e.OuNumberFormattingI18n.STYLE_MEASURE_SELECTION);if(this.getQueryManager().getQueryModel().isLeadingStructureAccount()){i=t.getText(e.OuNumberFormattingI18n.STYLE_ACCOUNT_SELECTION)}let o=this.m_form.getFormItemByKey(e.OuNumberFormattingView.MEMBER);o.setText(i);o.setEnabled(this.getLeadingStructure()!==null);o.setValueChangedConsumer((t,i)=>{let o=e.XValueUtil.getString(i);this.loadState(o);this.applyStateToUi()})};e.OuNumberFormattingView.prototype.updateUi=function(){this.updateMeasureDropdown();this.updateDropdown(e.OuNumberFormattingView.SHIFT,this.getShiftOptions(),true);this.updateDropdown(e.OuNumberFormattingView.FORMAT,this.getFormatOptions(),true);this.updateDropdown(e.OuNumberFormattingView.SCALE,this.getScaleOptions(),true);this.updateDropdown(e.OuNumberFormattingView.SIGN,this.getSignOptions(),true);let t=this.getStructureMembers();if(t.size()===1){this.loadState(t.get(0).getName())}else if(!e.XString.isEqual(this.m_loadedValueMember,e.OuNumberFormattingView.EMPTY_KEY)){this.loadState(this.m_loadedValueMember)}else{this.loadState(e.OuNumberFormattingView.ALL_KEY)}this.applyStateToUi()};e.OuCalcDetailsAreaValueRetreiver=function(){};e.OuCalcDetailsAreaValueRetreiver.prototype=new e.OuCalcCommandPluginWithSharedSpace;e.OuCalcDetailsAreaValueRetreiver.prototype._ff_c="OuCalcDetailsAreaValueRetreiver";e.OuCalcDetailsAreaValueRetreiver.GET_ID_ACTION="GetID";e.OuCalcDetailsAreaValueRetreiver.GET_NAME_ACTION="GetName";e.OuCalcDetailsAreaValueRetreiver.PLUGIN_NAME="CalculationsDetailsAreaRetriever";e.OuCalcDetailsAreaValueRetreiver.getCalculationIDCommand=function(){return e.XStringUtils.concatenate3(e.OuCalcDetailsAreaValueRetreiver.PLUGIN_NAME,".",e.OuCalcDetailsAreaValueRetreiver.GET_ID_ACTION)};e.OuCalcDetailsAreaValueRetreiver.getCalculationNameCommand=function(){return e.XStringUtils.concatenate3(e.OuCalcDetailsAreaValueRetreiver.PLUGIN_NAME,".",e.OuCalcDetailsAreaValueRetreiver.GET_NAME_ACTION)};e.OuCalcDetailsAreaValueRetreiver.prototype.getPluginCategory=function(){return e.HuPluginCategory.OTHER};e.OuCalcDetailsAreaValueRetreiver.prototype.getPluginName=function(){return e.OuCalcDetailsAreaValueRetreiver.PLUGIN_NAME};e.OuCalcDetailsAreaValueRetreiver.prototype.registerActions=function(t){t.registerAction(e.OuCalcDetailsAreaValueRetreiver.GET_NAME_ACTION,(t,i)=>{let o=this.getSharedDataSpace().getStringByKey(e.OuCalcDetailsAreaPlugin.CALCULATIONS_NAME);return e.XPromise.resolve(e.XStringValue.create(o))});t.registerAction(e.OuCalcDetailsAreaValueRetreiver.GET_ID_ACTION,(t,i)=>{let o=this.getSharedDataSpace().getStringByKey(e.OuCalcDetailsAreaPlugin.CALCULATIONS_ID);return e.XPromise.resolve(e.XStringValue.create(o))})};e.OuCalcUiComponent=function(){};e.OuCalcUiComponent.prototype=new e.XConstantWithParent;e.OuCalcUiComponent.prototype._ff_c="OuCalcUiComponent";e.OuCalcUiComponent.ASSISTANCE_PANEL=null;e.OuCalcUiComponent.CODE_EDITOR=null;e.OuCalcUiComponent.DETAILS_PANEL=null;e.OuCalcUiComponent.ERRORS_PANEL=null;e.OuCalcUiComponent.FORMULA_ELEMENTS_PANEL=null;e.OuCalcUiComponent.s_instances=null;e.OuCalcUiComponent.create=function(t,i){e.XStringUtils.assertNotNullOrEmpty(t);let o=new e.OuCalcUiComponent;o.setupExt(t,i);e.OuCalcUiComponent.s_instances.put(t,o);return o};e.OuCalcUiComponent.staticSetup=function(){e.OuCalcUiComponent.s_instances=e.XHashMapByString.create();e.OuCalcUiComponent.DETAILS_PANEL=e.OuCalcUiComponent.create("DETAILS_PANEL",null);e.OuCalcUiComponent.CODE_EDITOR=e.OuCalcUiComponent.create("CODE_EDITOR",null);e.OuCalcUiComponent.ASSISTANCE_PANEL=e.OuCalcUiComponent.create("ASSISTANCE_PANEL",null);e.OuCalcUiComponent.FORMULA_ELEMENTS_PANEL=e.OuCalcUiComponent.create("FORMULA_ELEMENTS_PANEL",null);e.OuCalcUiComponent.ERRORS_PANEL=e.OuCalcUiComponent.create("ERRORS_PANEL",null)};e.OuCalcCodeEditorValueRetriever=function(){};e.OuCalcCodeEditorValueRetriever.prototype=new e.OuCalcCommandPluginWithSharedSpace;e.OuCalcCodeEditorValueRetriever.prototype._ff_c="OuCalcCodeEditorValueRetriever";e.OuCalcCodeEditorValueRetriever.GET_CONTENTS="GetContents";e.OuCalcCodeEditorValueRetriever.PLUGIN_NAME="CodeEditorValueRetriever";e.OuCalcCodeEditorValueRetriever.getContentsCommand=function(){return e.XStringUtils.concatenate3(e.OuCalcCodeEditorValueRetriever.PLUGIN_NAME,".",e.OuCalcCodeEditorValueRetriever.GET_CONTENTS)};e.OuCalcCodeEditorValueRetriever.prototype.getPluginCategory=function(){return e.HuPluginCategory.OTHER};e.OuCalcCodeEditorValueRetriever.prototype.getPluginName=function(){return e.OuCalcCodeEditorValueRetriever.PLUGIN_NAME};e.OuCalcCodeEditorValueRetriever.prototype.registerActions=function(t){t.registerAction(e.OuCalcCodeEditorValueRetriever.GET_CONTENTS,(t,i)=>{let o=this.getSharedDataSpace().getXObjectByKey(e.OuCalcCodeEditorPlugin.FE_FORMULA);return e.XPromise.resolve(o)})};e.OuCalcComponentPluginWithSharedSpace=function(){};e.OuCalcComponentPluginWithSharedSpace.prototype=new e.HuDfComponentPlugin;e.OuCalcComponentPluginWithSharedSpace.prototype._ff_c="OuCalcComponentPluginWithSharedSpace";e.OuCalcComponentPluginWithSharedSpace.prototype.getNotificationCenter=function(){let t=this.getProcess().getSharedNotificationCenter();return e.notNull(t)?t:this.getController().getLocalNotificationCenter()};e.OuCalcComponentPluginWithSharedSpace.prototype.getSharedDataSpace=function(){return e.OuCalcSharedDataSpaceManager.create(this.getController().getProcess()).get()};e.OuCalcFunctionsView=function(){};e.OuCalcFunctionsView.prototype=new e.OuCalcFormulaElementListContentView;e.OuCalcFunctionsView.prototype._ff_c="OuCalcFunctionsView";e.OuCalcFunctionsView.create=function(t){let i=new e.OuCalcFunctionsView;i.setupInternal(e.FeFeatureToggle.isActive(e.FeFeatureToggle.LIST_ITEMS_SEARCH));i.m_formulaItems=e.XObjectExt.assertNotNull(t);i.m_onSelectFormulaItemConsumers=e.XConsumerCollection.create();return i};e.OuCalcFunctionsView.prototype.m_formulaItems=null;e.OuCalcFunctionsView.prototype.m_onSelectFormulaItemConsumers=null;e.OuCalcFunctionsView.prototype.addFunctionsPanel=function(e){e.renderView(this.getGenesis());e.attachOnChange(e=>{this.m_onSelectFormulaItemConsumers.accept(e.toString())});e.attachOnSelect(e=>{this.onSelectConsumer(e.toString())});this.addPanel(e);this.m_panelsLayout.addItem(e.getView())};e.OuCalcFunctionsView.prototype.addOnSelectFormulaItemConsumer=function(e){return this.m_onSelectFormulaItemConsumers.addConsumer(e)};e.OuCalcFunctionsView.prototype.buildCategoryListPanel=function(){let t=e.XStream.of(this.m_formulaItems.getFunctions()).map(t=>e.OuCalcPanelItem.createWithCategory(t.getSyntax(),t.getDisplayName(),this.getCategoryI18n(t.getCategory().getName()))).collect(e.XStreamCollector.toList());let i=e.OuCalcPanelCategorizedListWidget.createExt(t,e.FeFeatureToggle.isActive(e.FeFeatureToggle.LIST_ITEMS_SEARCH));this.addFunctionsPanel(i)};e.OuCalcFunctionsView.prototype.buildOneListPanel=function(){let t=e.XCollectionUtils.map(this.m_formulaItems.getFunctions(),t=>e.OuCalcPanelItem.create(t.getSyntax(),t.getDisplayName()));let i=e.OuCalcPanelCategorizedListWidget.createExt(t,e.FeFeatureToggle.isActive(e.FeFeatureToggle.LIST_ITEMS_SEARCH));this.addFunctionsPanel(i)};e.OuCalcFunctionsView.prototype.buildOnePanel=function(){let t=e.XCollectionUtils.map(this.m_formulaItems.getFunctions(),t=>e.OuCalcPanelItem.create(t.getSyntax(),t.getDisplayName()));let i=this.getLocalization().getText(e.OuCalcFormulaEditorI18n.FE_FUNCTIONS);this.createFunctionsPanel(i,t)};e.OuCalcFunctionsView.prototype.buildPanelsByCategory=function(){let t=e.XHashMapByString.create();e.XStream.of(this.m_formulaItems.getFunctions()).forEach(i=>{let o;let n=i.getCategory().getName();if(t.containsKey(n)){o=t.getByKey(n)}else{o=e.XList.create();t.put(n,o)}o.add(e.OuCalcPanelItem.create(i.getSyntax(),i.getDisplayName()))});let i=e.XList.create();i.addAll(t.getKeysAsReadOnlyList());i.sortByDirection(e.XSortDirection.ASCENDING);for(let o=0;o<i.size();o++){let n=i.get(o);let a=t.getByKey(n);let r=this.getCategoryI18n(n);a.sortByDirection(e.XSortDirection.ASCENDING);this.createFunctionsPanel(r,a)}};e.OuCalcFunctionsView.prototype.buildUI=function(){if(e.FeFeatureToggle.isActive(e.FeFeatureToggle.LIST_FUNCTIONS_BY_CATEGORY)){if(e.FeFeatureToggle.isActive(e.FeFeatureToggle.DIALOG_NEW_LAYOUT)){this.buildCategoryListPanel()}else{this.buildPanelsByCategory()}}else{if(e.FeFeatureToggle.isActive(e.FeFeatureToggle.DIALOG_NEW_LAYOUT)){this.buildOneListPanel()}else{this.buildOnePanel()}}};e.OuCalcFunctionsView.prototype.createFunctionsPanel=function(t,i){let o=e.OuCalcPanelListWidget.createExt(t,i,false,e.FeFeatureToggle.isActive(e.FeFeatureToggle.LIST_ITEMS_SEARCH));this.addFunctionsPanel(o)};e.OuCalcFunctionsView.prototype.destroyView=function(){this.m_formulaItems=null;this.m_onSelectFormulaItemConsumers.clear();this.m_onSelectFormulaItemConsumers=e.XObjectExt.release(this.m_onSelectFormulaItemConsumers);e.OuCalcFormulaElementListContentView.prototype.destroyView.call(this)};e.OuCalcFunctionsView.prototype.getCategoryI18n=function(t){return this.getLocalization().getText(e.XStringUtils.concatenate3(e.OuCalcFormulaEditorI18n.FE_FUNCTIONS,"_",t))};e.OuCalcObjectsView=function(){};e.OuCalcObjectsView.prototype=new e.OuCalcFormulaElementListContentView;e.OuCalcObjectsView.prototype._ff_c="OuCalcObjectsView";e.OuCalcObjectsView.DISPLAY_OPTION_MENU_BUTTON_ICON="overflow";e.OuCalcObjectsView.DISPLAY_OPTION_MENU_BUTTON_ICON_V2="display";e.OuCalcObjectsView.DISPLAY_OPTION_SELECTED_ICON="accept";e.OuCalcObjectsView.HIERARCHY_DEBOUNCE_SEARCH_MS=350;e.OuCalcObjectsView.create=function(t,i,o){let n=new e.OuCalcObjectsView;n.setupInternal(true);n.m_datasource=e.XObjectExt.assertNotNull(t);n.m_feConfiguration=e.XObjectExt.assertNotNull(i);n.m_onDisplayOptionPressed=e.XConsumerCollection.create();n.m_displayOption=e.QueryPresentationUtils.DESCRIPTION;n.m_enableModelPrefix=o;return n};e.OuCalcObjectsView.prototype.m_datasource=null;e.OuCalcObjectsView.prototype.m_dimensionsPanelItems=null;e.OuCalcObjectsView.prototype.m_displayOption=null;e.OuCalcObjectsView.prototype.m_displayOptionMenu=null;e.OuCalcObjectsView.prototype.m_enableModelPrefix=false;e.OuCalcObjectsView.prototype.m_feConfiguration=null;e.OuCalcObjectsView.prototype.m_measuresPanelItems=null;e.OuCalcObjectsView.prototype.m_onDisplayOptionPressed=null;e.OuCalcObjectsView.prototype._buildDisplayOptionButtonMenu=function(){let t=this.m_header.addNewItemOfType(e.UiType.BUTTON);t.setIcon(e.OuCalcObjectsView.DISPLAY_OPTION_MENU_BUTTON_ICON);this.buildDisplayOptionMenu();t.registerOnPress(e.UiLambdaPressListener.create(e=>{this.m_displayOptionMenu.openAt(t)}));return t};e.OuCalcObjectsView.prototype._buildDisplayOptionButtonMenuV2=function(){let t=this.m_header.addNewItemOfType(e.UiType.MENU_BUTTON);t.setIcon(e.OuCalcObjectsView.DISPLAY_OPTION_MENU_BUTTON_ICON_V2);this.buildDisplayOptionMenu();t.setMenu(this.m_displayOptionMenu);return t};e.OuCalcObjectsView.prototype.addDisplayOptionMenuItem=function(e,t){this.m_displayOptionMenu.addNewItem().setText(this.getLocalization().getText(e)).setCustomObject(t).registerOnPress(this.getDisplayOptionMenuItemPressListener())};e.OuCalcObjectsView.prototype.addOnDisplayOptionPressedConsumer=function(e){return this.m_onDisplayOptionPressed.addConsumer(e)};e.OuCalcObjectsView.prototype.areFlatPanels=function(t){return e.XStream.of(t).allMatch(e=>!e.getParentId().isPresent())};e.OuCalcObjectsView.prototype.buildDisplayOptionButtonMenu=function(){let t;if(e.FeFeatureToggle.isActive(e.FeFeatureToggle.DIALOG_NEW_LAYOUT)){t=this._buildDisplayOptionButtonMenuV2()}else{t=this._buildDisplayOptionButtonMenu()}t.addCssClass("ffFeDisplayOption");t.setTooltip(this.getLocalization().getText(e.OuCalcFormulaEditorI18n.DISPLAY_OPTIONS));t.setButtonType(e.UiButtonType.TRANSPARENT)};e.OuCalcObjectsView.prototype.buildDisplayOptionMenu=function(){this.m_displayOptionMenu=this.getGenesis().newControl(e.UiType.MENU);this.m_displayOptionMenu.addCssClass("ffFeDisplayOptionMenu");this.addDisplayOptionMenuItem(e.OuCalcFormulaEditorI18n.DISPLAY_OPTIONS_DESCRIPTION,e.QueryPresentationUtils.DESCRIPTION);this.addDisplayOptionMenuItem(e.OuCalcFormulaEditorI18n.DISPLAY_OPTIONS_ID,e.QueryPresentationUtils.ID);this.addDisplayOptionMenuItem(e.OuCalcFormulaEditorI18n.DISPLAY_OPTIONS_ID_AND_DESCRIPTION,e.QueryPresentationUtils.ID_AND_DESCRIPTION);this.addDisplayOptionMenuItem(e.OuCalcFormulaEditorI18n.DISPLAY_OPTIONS_DESCRIPTION_AND_ID,e.QueryPresentationUtils.DESCRIPTION_AND_ID);this.updatedSelectedMenuItem()};e.OuCalcObjectsView.prototype.buildUI=function(){this.buildDisplayOptionButtonMenu();let t=this.createPanel(this.m_feConfiguration.getStructureName(),this.m_measuresPanelItems,false,e.FeFeatureToggle.isActive(e.FeFeatureToggle.HIERARCHICAL_OBJECTS));this.m_panelsLayout.addItem(t);if(this.m_feConfiguration.dimensionsSupported()){let t=this.createPanel(this.getLocalization().getText(e.OuCalcFormulaEditorI18n.FE_DIMENSIONS),this.m_dimensionsPanelItems,false,e.FeFeatureToggle.isActive(e.FeFeatureToggle.HIERARCHICAL_DIMENSIONS));this.m_panelsLayout.addItem(t)}};e.OuCalcObjectsView.prototype.createPanel=function(t,i,o,n){e.XObjectExt.assertNotNull(i);e.XCollectionUtils.forEach(i,t=>{e.XObjectExt.assertNotNull(t)});if(e.XStringUtils.isNullOrEmpty(t)){throw e.XException.createIllegalStateException("Panel name must not be null or empty string")}let a=this.createPanelWidget(t,i,o,n);a.setDisplayOption(this.m_displayOption);a.renderView(this.getGenesis());a.attachOnSelect(e=>{this.onSelectConsumer(e.toString())});this.addPanel(a);return a.getView()};e.OuCalcObjectsView.prototype.createPanelWidget=function(t,i,o,n){let a=e.FeFeatureToggle.isActive(e.FeFeatureToggle.LIST_ITEMS_SEARCH);return n&&this.panelsHierarchicalStructure(i)?e.OuCalcPanelHierarchyWidget.createExt(t,i,o,a):e.OuCalcPanelListWidget.createExt(t,i,o,a)};e.OuCalcObjectsView.prototype.destroyView=function(){this.m_datasource=null;e.XCollectionUtils.releaseEntriesFromCollection(this.m_measuresPanelItems);this.m_measuresPanelItems.clear();this.m_measuresPanelItems=e.XObjectExt.release(this.m_measuresPanelItems);e.XCollectionUtils.releaseEntriesFromCollection(this.m_dimensionsPanelItems);this.m_dimensionsPanelItems.clear();this.m_dimensionsPanelItems=e.XObjectExt.release(this.m_dimensionsPanelItems);e.OuCalcFormulaElementListContentView.prototype.destroyView.call(this)};e.OuCalcObjectsView.prototype.getDimensionDisabledTooltip=function(t){if(t.isVirtual()){return e.XLocalizationCenter.getCenter().getText(e.OuCalcFormulaEditorI18n.FE_DIMENSION_VIRTUAL_DISABLE)}if(!e.FeFeatureToggle.isActive(e.FeFeatureToggle.DATE_DIMENSIONS)){let i=this.m_datasource.getParentDimension(t);if(t.getValueType().isDateLike()||i.isPresent()&&i.get().getValueType().isDateLike()){return e.XLocalizationCenter.getCenter().getText(e.OuCalcFormulaEditorI18n.FE_DIMENSION_DATE_DISABLE)}}return null};e.OuCalcObjectsView.prototype.getDisplayOptionMenuItemPressListener=function(){return e.UiLambdaPressListener.create(e=>{let t=e.getControl();this.m_displayOption=t.getCustomObject();this.m_onDisplayOptionPressed.accept(this.m_displayOption);this.updatedSelectedMenuItem();this.updateObjectsViews()})};e.OuCalcObjectsView.prototype.getMeasureId=function(t){if(this.m_feConfiguration.hideTechnicalKeys()&&!t.hasAlias()){return this.getLocalization().getText(e.OlapUiCommonI18n.COMMON_MEMBER_WITHOUT_ID_TITLE)}return t.getAlias()};e.OuCalcObjectsView.prototype.panelsHierarchicalStructure=function(t){return e.XStream.of(t).anyMatch(e=>e.isEnabled()&&e.getParentId().isPresent())};e.OuCalcObjectsView.prototype.setupView=function(){let t=e.XComparatorLambda.create((t,i)=>{let o=e.XString.toLowerCase(t.getDisplayText(this.m_displayOption));let n=e.XString.toLowerCase(i.getDisplayText(this.m_displayOption));return e.XIntegerValue.create(e.XString.compare(o,n))});let i=e.FeFeatureToggle.isActive(e.FeFeatureToggle.HIERARCHICAL_OBJECTS)?this.m_datasource.getAllVisibleMeasures():this.m_datasource.getAllUsableMeasures();let o=e.XLocalizationCenter.getCenter().getText(e.OuCalcFormulaEditorI18n.FE_MEASURE_DATE_DISABLE);this.m_measuresPanelItems=e.XStream.of(i).map(t=>{let i=!e.FeFeatureToggle.isActive(e.FeFeatureToggle.HIERARCHICAL_OBJECTS)||!t.getValueType().isDateLike();return e.OuCalcPanelItem.createExt(t.getAlias(),this.getMeasureId(t),t.getField(this.m_enableModelPrefix),t.getDescription(),i,this.m_feConfiguration.getStructureName(),i?null:o,t.getParentId().isPresent()?t.getParentId().get():null)}).collect(e.XStreamCollector.toList());if(this.areFlatPanels(this.m_measuresPanelItems)){this.m_measuresPanelItems.sortByComparator(t)}else{this.m_debouncingSearchMs=e.OuCalcObjectsView.HIERARCHY_DEBOUNCE_SEARCH_MS}if(this.m_feConfiguration.dimensionsSupported()){this.m_dimensionsPanelItems=e.XCollectionUtils.map(this.m_datasource.getAllDimensions(),t=>{let i=t.getAlias();let o=t.getDescription();if(t.getSelectedProperty().isPresent()){i=t.getSelectedProperty().get().getId();o=t.getSelectedProperty().get().getDescription()}let n=t.generateUniqueKey();let a=this.getDimensionDisabledTooltip(t);return e.OuCalcPanelItem.createExt(n,i,t.getField(this.m_enableModelPrefix),o,e.isNull(a),null,a,t.getParentId().orElse(null))});this.m_dimensionsPanelItems.sortByComparator(t);if(!this.areFlatPanels(this.m_dimensionsPanelItems)){this.m_debouncingSearchMs=e.OuCalcObjectsView.HIERARCHY_DEBOUNCE_SEARCH_MS}}};e.OuCalcObjectsView.prototype.updateObjectsViews=function(){e.XStream.of(this.m_panelWidgetList).forEach(e=>{e.setDisplayOption(this.m_displayOption)})};e.OuCalcObjectsView.prototype.updatedSelectedMenuItem=function(){e.XStream.of(this.m_displayOptionMenu.getItems()).forEach(t=>{let i=t;if(i.getCustomObject()===this.m_displayOption){i.setIcon(e.OuCalcObjectsView.DISPLAY_OPTION_SELECTED_ICON).setSelected(true)}else{i.setIcon(null).setSelected(false)}})};e.OuCalcOperatorsView=function(){};e.OuCalcOperatorsView.prototype=new e.OuCalcFormulaElementListContentView;e.OuCalcOperatorsView.prototype._ff_c="OuCalcOperatorsView";e.OuCalcOperatorsView.create=function(t){let i=new e.OuCalcOperatorsView;i.setupInternal(false);i.m_formulaItems=e.XObjectExt.assertNotNull(t);return i};e.OuCalcOperatorsView.prototype.m_formulaItems=null;e.OuCalcOperatorsView.prototype.addPanelToLayout=function(e){e.renderView(this.getGenesis());e.attachOnSelect(e=>{this.onSelectConsumer(e.toString())});this.m_panelsLayout.addItem(e.getView())};e.OuCalcOperatorsView.prototype.buildList=function(){let t=this.m_formulaItems.getOperators();let i=this.getLocalization().getText(e.OuCalcFormulaEditorI18n.FE_OPERATORS);let o=this.getLocalization().getText(e.OuCalcFormulaEditorI18n.FE_CONDITIONS);let n=e.XList.create();e.XStream.of(t).forEach(t=>{if(t.getCategory().isTypeOf(e.FeFormulaItemCategory.MATHEMATICAL)){n.add(e.OuCalcPanelItem.createWithCategory(t.getSyntax(),t.getDisplayName(),i))}else if(t.getCategory().isTypeOf(e.FeFormulaItemCategory.CONDITIONAL)){n.add(e.OuCalcPanelItem.createWithCategory(t.getSyntax(),t.getDisplayName(),o))}});let a=e.OuCalcPanelCategorizedListWidget.createExt(n,true);this.addPanelToLayout(a)};e.OuCalcOperatorsView.prototype.buildPanels=function(){let t=this.m_formulaItems.getOperators();let i=this.getLocalization().getText(e.OuCalcFormulaEditorI18n.FE_OPERATORS);let o=this.createPanel(i,this.mapToPanelItems(this.filterByCategory(t,e.FeFormulaItemCategory.MATHEMATICAL),i));this.addPanelToLayout(o);let n=this.getLocalization().getText(e.OuCalcFormulaEditorI18n.FE_CONDITIONS);let a=this.createPanel(n,this.mapToPanelItems(this.filterByCategory(t,e.FeFormulaItemCategory.CONDITIONAL),n));this.addPanelToLayout(a)};e.OuCalcOperatorsView.prototype.buildUI=function(){if(e.FeFeatureToggle.isActive(e.FeFeatureToggle.DIALOG_NEW_LAYOUT)){this.buildList()}else{this.buildPanels()}};e.OuCalcOperatorsView.prototype.createPanel=function(t,i){if(e.XStringUtils.isNullOrEmpty(t)){throw e.XException.createIllegalArgumentException("Panel name must not be null or empty string")}e.XObjectExt.assertNotNull(i);e.XCollectionUtils.forEach(i,t=>{e.XObjectExt.assertNotNull(t)});let o=e.OuCalcPanelListWidget.create(t,i,false);return o};e.OuCalcOperatorsView.prototype.destroyView=function(){this.m_formulaItems=null;e.OuCalcFormulaElementListContentView.prototype.destroyView.call(this)};e.OuCalcOperatorsView.prototype.filterByCategory=function(t,i){e.XObjectExt.assertNotNull(t);e.XObjectExt.assertNotNull(i);return e.XCollectionUtils.filter(t,e=>e.getCategory().isTypeOf(i))};e.OuCalcOperatorsView.prototype.mapToPanelItems=function(t,i){e.XObjectExt.assertNotNull(t);return e.XCollectionUtils.map(t,t=>e.OuCalcPanelItem.createWithCategory(t.getSyntax(),t.getDisplayName(),i))};e.OuAbstractCalcExpandablePanelWidget=function(){};e.OuAbstractCalcExpandablePanelWidget.prototype=new e.OuAbstractCalcPanelWidget;e.OuAbstractCalcExpandablePanelWidget.prototype._ff_c="OuAbstractCalcExpandablePanelWidget";e.OuAbstractCalcExpandablePanelWidget.prototype.m_isExpandable=false;e.OuAbstractCalcExpandablePanelWidget.prototype.m_name=null;e.OuAbstractCalcExpandablePanelWidget.prototype.m_panel=null;e.OuAbstractCalcExpandablePanelWidget.prototype.destroyWidget=function(){this.m_panel=null;e.OuAbstractCalcPanelWidget.prototype.destroyWidget.call(this)};e.OuAbstractCalcExpandablePanelWidget.prototype.getWidgetControl=function(t){this.m_panel=t.newControl(e.UiType.PANEL);return this.m_panel};e.OuAbstractCalcExpandablePanelWidget.prototype.layoutWidget=function(t){this.m_panel.setExpanded(true);this.m_panel.setExpandable(this.m_isExpandable);this.m_panel.setText(this.m_name);this.m_panel.setTooltip(this.m_name);this.m_panel.useMaxWidth();this.m_panel.removeAttribute(e.UtUi5AttributeConstants.FAST_NAV_GROUP);this.m_panel.addCssClass("ffFePanel");this.m_panel.addCssClass(e.XStringUtils.concatenate2("ffFePanel-",e.XString.replace(this.m_name," ","")))};e.OuAbstractCalcExpandablePanelWidget.prototype.setupInternal=function(t,i,o,n){this.setupInternalControl(i,n);if(e.XStringUtils.isNullOrEmpty(t)){throw e.XException.createIllegalArgumentException("Name must not be null or empty string!")}this.m_name=t;this.m_isExpandable=o};e.OuCalcPanelCategorizedListWidget=function(){};e.OuCalcPanelCategorizedListWidget.prototype=new e.OuAbstractCalcPanelWidget;e.OuCalcPanelCategorizedListWidget.prototype._ff_c="OuCalcPanelCategorizedListWidget";e.OuCalcPanelCategorizedListWidget.create=function(t){return e.OuCalcPanelCategorizedListWidget.createExt(t,false)};e.OuCalcPanelCategorizedListWidget.createExt=function(t,i){let o=new e.OuCalcPanelCategorizedListWidget;o.setupInternalControl(t,i);return o};e.OuCalcPanelCategorizedListWidget.prototype.m_groupHeaderListItemsByCategory=null;e.OuCalcPanelCategorizedListWidget.prototype.m_list=null;e.OuCalcPanelCategorizedListWidget.prototype.m_panelItemByCategory=null;e.OuCalcPanelCategorizedListWidget.prototype.m_panelItemsNoCategory=null;e.OuCalcPanelCategorizedListWidget.prototype.addPanelItems=function(t){e.XCollectionUtils.forEach(t,e=>{if(e.isEnabled()){this.m_list.addItem(this.createListItem(e))}})};e.OuCalcPanelCategorizedListWidget.prototype.destroyWidget=function(){this.m_panelItemByCategory.clear();this.m_panelItemByCategory=e.XObjectExt.release(this.m_panelItemByCategory);this.m_panelItemsNoCategory.clear();this.m_panelItemsNoCategory=e.XObjectExt.release(this.m_panelItemsNoCategory);this.m_groupHeaderListItemsByCategory.clear();this.m_groupHeaderListItemsByCategory=e.XObjectExt.release(this.m_groupHeaderListItemsByCategory);this.m_list=e.XObjectExt.release(this.m_list);e.OuAbstractCalcPanelWidget.prototype.destroyWidget.call(this)};e.OuCalcPanelCategorizedListWidget.prototype.filterItems=function(t){let i=e.XBooleanValue.create(false);let o=e.XHashSetOfString.create();e.XStream.of(this.getListItems()).forEach(e=>{let n=e.getCustomObject();let a=this.isPanelItemVisible(n,t);i.setBoolean(a||i.getBoolean());e.setVisible(a);if(a&&n.getCategory()!==null){o.add(n.getCategory())}});e.XStream.of(this.m_groupHeaderListItemsByCategory.getValuesAsReadOnlyList()).forEach(e=>{e.setVisible(o.contains(e.getText()))});if(this.m_hideIfEmpty){this.setVisible(i.getBoolean())}};e.OuCalcPanelCategorizedListWidget.prototype.getListItems=function(){return e.XStream.of(this.m_list.getItems()).filter(e=>this.isListItem(e)).collect(e.XStreamCollector.toList())};e.OuCalcPanelCategorizedListWidget.prototype.getWidgetControl=function(t){this.m_list=t.newControl(e.UiType.LIST);this.m_list.addCssClass("ffFePanel");return this.m_list};e.OuCalcPanelCategorizedListWidget.prototype.hasVisibleItems=function(){return e.XStream.of(this.getListItems()).anyMatch(e=>e.isVisible())};e.OuCalcPanelCategorizedListWidget.prototype.isListItem=function(t){return t.getUiType().isTypeOf(e.UiType.CUSTOM_LIST_ITEM)};e.OuCalcPanelCategorizedListWidget.prototype.layoutWidget=function(t){this.m_list.addCssClass("ffFeFlatListPanel");this.addPanelItems(this.m_panelItemsNoCategory);let i=e.XList.create();i.addAll(this.m_panelItemByCategory.getKeysAsReadOnlyList());i.sortByDirection(e.XSortDirection.ASCENDING);for(let t=0;t<i.size();t++){let o=this.getGenesis().newControl(e.UiType.GROUP_HEADER_LIST_ITEM);let n=i.get(t);o.setText(n);o.setTooltip(n);this.m_groupHeaderListItemsByCategory.put(n,o);this.m_list.addItem(o);let a=this.m_panelItemByCategory.getByKey(n);a.sortByComparator(e.XComparatorLambda.create((t,i)=>e.FeFunctionComparator.compareFunctionName(t.getDisplayName(),i.getDisplayName())));this.addPanelItems(a)}};e.OuCalcPanelCategorizedListWidget.prototype.setupWidget=function(){this.m_panelItemByCategory=e.XHashMapByString.create();this.m_panelItemsNoCategory=e.XList.create();this.m_groupHeaderListItemsByCategory=e.XHashMapByString.create();e.XStream.of(this.m_panelItems).forEach(t=>{if(t.getCategory()===null){this.m_panelItemsNoCategory.add(t)}else{let i=t.getCategory();let o;if(this.m_panelItemByCategory.containsKey(i)){o=this.m_panelItemByCategory.getByKey(i)}else{o=e.XList.create();this.m_panelItemByCategory.put(i,o)}o.add(t)}})};e.OuCalcPanelCategorizedListWidget.prototype.updateListItemsText=function(){for(let e=0;e<this.m_list.getNumberOfItems();e++){let t=this.m_list.getItem(e);this.updateItemLabel(t,t.getCustomObject())}};e.FdReadMode=function(){};e.FdReadMode.prototype=new e.OlapUiReadMode;e.FdReadMode.prototype._ff_c="FdReadMode";e.FdReadMode.DIMENSION_RELATIONSHIPS=null;e.FdReadMode.staticFdReadModeSetup=function(){e.FdReadMode.DIMENSION_RELATIONSHIPS=e.OlapUiReadMode.create("dimensionRelationships",e.QMemberReadMode.REL_MASTER)};e.FdComponentValueHelpRange=function(){};e.FdComponentValueHelpRange.prototype=new e.FdComponentRange;e.FdComponentValueHelpRange.prototype._ff_c="FdComponentValueHelpRange";e.FdComponentValueHelpRange.INVALID_ITEM_MARKER="invalidItem";e.FdComponentValueHelpRange.SUGGESTION_SELECT_EVENT_WAITING_TIME=100;e.FdComponentValueHelpRange.SUGGESTION_TIMEOUT_LONG=800;e.FdComponentValueHelpRange.SUGGESTION_TIMEOUT_SHORT=300;e.FdComponentValueHelpRange.createValueHelpRange=function(t,i,o,n){let a=new e.FdComponentValueHelpRange;a.setupComponent(t,e.FdComponentValueHelpRangeLayout.createValueHelpLayout());a.m_item=i;a.m_controller=o;a.m_loadSuggestions=n;return a};e.FdComponentValueHelpRange.prototype.m_controller=null;e.FdComponentValueHelpRange.prototype.m_loadSuggestions=null;e.FdComponentValueHelpRange.prototype.m_suggestionTimeoutId=null;e.FdComponentValueHelpRange.prototype.areSuggestionsValidForInput=function(t,i,o){if(!e.XCollectionUtils.hasElements(t)||i.isReleased()||this.isInputValid(i)){return false}return e.XString.isEqual(i.getValue(),o)};e.FdComponentValueHelpRange.prototype.buildOlapDialogUi=function(t){e.FdComponentRange.prototype.buildOlapDialogUi.call(this,t);let i=this.getValueHelpRangeLayout();let o=i.getInput1();let n=i.getInput2();let a=this.m_model.isFeatureEnabled(e.FdFeature.RANGES_IN_HIERARCHY);o.registerOnValueHelpRequest(e.UiLambdaValueHelpRequestListener.create(t=>{this.m_controller.openValueHelp(this.validateInput(i.getInput1(),false)?this.m_item.getLowItem():null,a,e.FdDataLoadedLambdaListener.create((e,i)=>{this.onValueHelpDialogClosed(e,t.getControl())},null),null)}));n.registerOnValueHelpRequest(e.UiLambdaValueHelpRequestListener.create(t=>{this.m_controller.openValueHelp(this.validateInput(i.getInput2(),false)?this.m_item.getHighItem():null,a,e.FdDataLoadedLambdaListener.create((e,i)=>{this.onValueHelpDialogClosed(e,t.getControl())},null),null)}));o.registerOnLiveChange(e.UiLambdaLiveChangeListener.create(e=>{this.onLiveChange(e)}));n.registerOnLiveChange(e.UiLambdaLiveChangeListener.create(e=>{this.onLiveChange(e)}));o.registerOnSuggestionSelect(e.UiLambdaSuggestionSelectListener.create(e=>{this.onItemSelected(e.getSelectedItem().getCustomObject(),e.getControl())}));n.registerOnSuggestionSelect(e.UiLambdaSuggestionSelectListener.create(e=>{this.onItemSelected(e.getSelectedItem().getCustomObject(),e.getControl())}))};e.FdComponentValueHelpRange.prototype.clearSuggestionTimeout=function(){e.XTimeout.clear(this.m_suggestionTimeoutId);this.m_suggestionTimeoutId=null};e.FdComponentValueHelpRange.prototype.getItemText=function(t){let i=this.m_model.getPresentationsModel().getSelectedMainPresentation();if(e.notNull(i)){let o=t.getFormattedValueByPresentation(i.getPrimaryValue());let n=i.getSecondaryValue();let a=e.notNull(n)?t.getFormattedValueByPresentation(n):null;return this.m_model.getConfig().getValueFormatter().format(o,a)}return e.FdComponentRange.prototype.getItemText.call(this,t)};e.FdComponentValueHelpRange.prototype.getValueHelpRangeLayout=function(){return this.getLayout()};e.FdComponentValueHelpRange.prototype.isInputValid=function(t){let i=t===this.getValueHelpRangeLayout().getInput1()?this.m_item.getLowItem():this.m_item.getHighItem();return e.notNull(i)&&!i.getProperties().containsKey(e.FdComponentValueHelpRange.INVALID_ITEM_MARKER)};e.FdComponentValueHelpRange.prototype.onEditingEnd=function(t){this.clearSuggestionTimeout();this.updateRangeText();this.onDataChanged(false);let i=t.getControl();let o=i.getValue();if(e.XStringUtils.isNotNullAndNotEmpty(o)&&!this.isInputValid(i)){i.setBusy(true);e.XTimeout.timeout(e.FdComponentValueHelpRange.SUGGESTION_SELECT_EVENT_WAITING_TIME,()=>{if(!i.isReleased()&&i.isBusy()){this.m_loadSuggestions(o,e.FdDataLoadedLambdaListener.create((n,a)=>{if(!i.isReleased()&&i.isBusy()){if(this.areSuggestionsValidForInput(n,i,o)){let t=this.m_model.getPresentationsModel().getSelectedMainPresentation().hasTextPresentation();e.XStream.of(n).find(i=>e.XString.isEqual(i.getDisplayKey(),o)||t&&e.XString.isEqual(i.getText(),o)).ifPresent(e=>{this.onItemSelected(e,i)})}if(i.isBusy()){this.validateOnEditingEnd(t.getControl())}}},null))}})}else{this.validateOnEditingEnd(t.getControl())}};e.FdComponentValueHelpRange.prototype.onItemSelected=function(e,t){let i=this.getValueHelpRangeLayout();if(t===i.getInput1()){if(this.isRangeItem()){this.m_item.setLow(e)}else{e.setFdComparisonOperator(this.m_item.getFdComparisonOperator());this.replaceItem(e)}}else if(t===i.getInput2()){this.m_item.setHigh(e)}this.updateUI();this.validateOnEditingEnd(t)};e.FdComponentValueHelpRange.prototype.onLiveChange=function(t){e.FdComponentRange.prototype.onLiveChange.call(this,t);let i=t.getControl();this.getValueHelpRangeLayout().clearSuggestions(i);let o=e.notNull(this.m_suggestionTimeoutId);this.clearSuggestionTimeout();let n=this.setInputTextToItem(i);n.getProperties().putBoolean(e.FdComponentValueHelpRange.INVALID_ITEM_MARKER,true);let a=i.getValue();if(e.XStringUtils.isNotNullAndNotEmpty(a)){let t=o?e.FdComponentValueHelpRange.SUGGESTION_TIMEOUT_LONG:e.FdComponentValueHelpRange.SUGGESTION_TIMEOUT_SHORT;this.m_suggestionTimeoutId=e.XTimeout.timeout(t,()=>{this.m_suggestionTimeoutId=null;this.m_loadSuggestions(a,e.FdDataLoadedLambdaListener.create((e,t)=>{if(!i.isBusy()&&this.areSuggestionsValidForInput(e,i,a)){this.getValueHelpRangeLayout().showSuggestions(i,e)}},null))})}};e.FdComponentValueHelpRange.prototype.onValueHelpDialogClosed=function(t,i){if(e.notNull(t)){if(t.hasElements()){this.onItemSelected(t.get(0),i)}else{this.onItemSelected(e.FdSimpleItem.create(null,null,null),i)}}};e.FdComponentValueHelpRange.prototype.releaseObject=function(){e.FdComponentRange.prototype.releaseObject.call(this);this.m_controller=null;this.m_loadSuggestions=null;this.clearSuggestionTimeout()};e.FdComponentValueHelpRange.prototype.validateInput=function(t,i){return e.FdComponentRange.prototype.validateInput.call(this,t,i)&&this.validateValueHelpItem(t,i)};e.FdComponentValueHelpRange.prototype.validateOnEditingEnd=function(t){let i=this.getValueHelpRangeLayout();let o=i.getInput1();let n=i.getInput2();let a=e.XStringUtils.isNullOrEmpty(o.getValue())||e.FdComponentRange.prototype.validateInput.call(this,o,true)&&this.validateValueHelpItem(o,true);let r=e.XStringUtils.isNullOrEmpty(n.getValue())||e.FdComponentRange.prototype.validateInput.call(this,n,true)&&this.validateValueHelpItem(n,true);if(a&&r){i.clearMessage()}else if(a){o.setValueState(null)}else if(r){n.setValueState(null)}t.setBusy(false)};e.FdComponentValueHelpRange.prototype.validateValueHelpItem=function(t,i){if(!this.isInputValid(t)){if(i){this.getValueHelpRangeLayout().showMessage(e.XLocalizationCenter.getCenter().getText(e.FilterDialogI18n.I18N_FD_RANGES_ERROR_NOT_VALID),t,true)}return false}return true};e.FdComponentValueHelpRangeLayout=function(){};e.FdComponentValueHelpRangeLayout.prototype=new e.FdComponentRangeLayout;e.FdComponentValueHelpRangeLayout.prototype._ff_c="FdComponentValueHelpRangeLayout";e.FdComponentValueHelpRangeLayout.createValueHelpLayout=function(){return new e.FdComponentValueHelpRangeLayout};e.FdComponentValueHelpRangeLayout.prototype.addContent=function(t){e.FdComponentRangeLayout.prototype.addContent.call(this,t);this.updateInputField(this.getInput1());this.updateInputField(this.getInput2())};e.FdComponentValueHelpRangeLayout.prototype.clearSuggestions=function(e){e.clearSuggestions();e.closeSuggestions()};e.FdComponentValueHelpRangeLayout.prototype.showSuggestions=function(t,i){this.clearSuggestions(t);if(e.XCollectionUtils.hasElements(i)){let o=e.XList.create();e.XCollectionUtils.forEach(i,t=>{let i=this.m_genesis.newControl(e.UiType.DROPDOWN_ITEM);let n=e.XStringUtils.nullToEmpty(t.getDisplayKey());if(t.hasText()){let o=t.getText();i.setText(e.XStringUtils.abbreviate(o,50));i.setAdditionalText(n);i.setTooltip(e.notNull(o)?e.XStringUtils.concatenate3(o," - ",n):n)}else{i.setText(n);i.setTooltip(n)}i.setName(n);i.setCustomObject(t);o.add(i)});t.addAllSuggestions(o);t.showSuggestions()}};e.FdComponentValueHelpRangeLayout.prototype.updateInputField=function(e){e.setMaxWidth(null);e.setShowValueHelp(true);e.setFilterSuggests(false)};e.VdVariantManagePopup=function(){};e.VdVariantManagePopup.prototype=new e.VdVariantPopupBase;e.VdVariantManagePopup.prototype._ff_c="VdVariantManagePopup";e.VdVariantManagePopup.ACCEPT="variantAccept";e.VdVariantManagePopup.BUTTON_FLEX="0 0 32px";e.VdVariantManagePopup.CANCEL="variantCancel";e.VdVariantManagePopup.DELETE="variantDelete";e.VdVariantManagePopup.EDIT="variantEdit";e.VdVariantManagePopup.createManagePopup=function(t,i,o,n){let a=new e.VdVariantManagePopup;a.setupManagePopup(t,i,o,n);return a};e.VdVariantManagePopup.prototype.m_currentModel=null;e.VdVariantManagePopup.prototype.m_onFinished=null;e.VdVariantManagePopup.prototype.addEmptySection=function(){let t=this.addFormSection(null,null,true);let i=t.addFormLabel(null,this.m_i18n.getText(e.OuVariableDialogI18nLegacy.I18N_VARIANT_EMPTY),null);i.setTextAlign(e.UiTextAlign.CENTER)};e.VdVariantManagePopup.prototype.addVariantSection=function(t){let i=t.getName();let o=t.getText();let n=t.getScope();let a=this.addVariantSectionBase(i,o,n);a.setCustomObject(t);let r=a.getFormItemByKey(e.VdVariantPopupBase.PROPERY_TEXT);r.setCustomValidator(e=>{this.validateDisplayName(e,t)});let l=a.getFormItemByKey(e.VdVariantPopupBase.PROPERY_NAME);l.setCustomValidator(e=>{this.validateTechnicalName(e,t)});a.addFormButton(e.VdVariantManagePopup.ACCEPT,null,this.m_i18n.getText(e.OuVariableDialogI18nLegacy.I18N_VARIANT_EDIT_ACCEPT),"accept",()=>{a.validate();if(a.isValid()){this.modifyVariant(a);a.focus()}else{this.shake()}}).setFlex(e.VdVariantManagePopup.BUTTON_FLEX);a.addFormButton(e.VdVariantManagePopup.CANCEL,null,this.m_i18n.getText(e.OuVariableDialogI18nLegacy.I18N_VARIANT_EDIT_CANCEL),"cancel",()=>{this.cancelEdit(a);this.setEditMode(a,false);a.focus()}).setFlex(e.VdVariantManagePopup.BUTTON_FLEX);a.addFormButton(e.VdVariantManagePopup.EDIT,null,this.m_i18n.getText(e.OuVariableDialogI18nLegacy.I18N_VARIANT_EDIT),"edit",()=>{this.setEditMode(a,true);a.focus()}).setFlex(e.VdVariantManagePopup.BUTTON_FLEX);a.addFormButton(e.VdVariantManagePopup.DELETE,null,this.m_i18n.getText(e.OuVariableDialogI18nLegacy.I18N_VARIANT_DELETE),"delete",()=>{this.openDeleteConfirmation(a)}).setFlex(e.VdVariantManagePopup.BUTTON_FLEX);a.addFormLabel(null,null,null).setFlex("0 0 0");this.setEditMode(a,false)};e.VdVariantManagePopup.prototype.buildPopupContent=function(t){e.VdVariantPopupBase.prototype.buildPopupContent.call(this,t);let i=t.getRoot();i.setMinHeight(e.UiCssLength.create("60px"));i.setBusy(true)};e.VdVariantManagePopup.prototype.cancelEdit=function(t){let i=this.m_currentModel.getStructureByKey(t.getName());let o=i.getStringByKey(e.VdVariantPopupBase.PROPERY_NAME);let n=i.getStringByKey(e.VdVariantPopupBase.PROPERY_TEXT);let a=i.getStringByKey(e.VdVariantPopupBase.PROPERY_SCOPE);t.getFormItemByKey(e.VdVariantPopupBase.PROPERY_TEXT).setValue(e.XStringValue.create(n));t.getFormItemByKey(e.VdVariantPopupBase.PROPERY_SCOPE).setValue(e.XStringValue.create(a));t.getFormItemByKey(e.VdVariantPopupBase.PROPERY_NAME).setValue(e.XStringValue.create(o));t.setValid()};e.VdVariantManagePopup.prototype.configurePopup=function(t){e.VdVariantPopupBase.prototype.configurePopup.call(this,t);t.setName("VdVariantManagePopup");t.setTitle(this.m_i18n.getText(e.OuVariableDialogI18nLegacy.I18N_VARIANT_MANAGE));this.setReadOnly();this.setCancelButtonIcon(null);this.setCancelButtonText(this.m_i18n.getText(e.OuVariableDialogI18nLegacy.I18N_VARIANT_POPUP_CLOSE))};e.VdVariantManagePopup.prototype.modifyVariant=function(t){let i=t.getCustomObject();let o=t.getFormItemByKey(e.VdVariantPopupBase.PROPERY_TEXT).getValue().getStringRepresentation();let n=t.getFormItemByKey(e.VdVariantPopupBase.PROPERY_NAME).getValue().getStringRepresentation();let a=e.Scope.lookupByName(t.getFormItemByKey(e.VdVariantPopupBase.PROPERY_SCOPE).getValue().getStringRepresentation());if(e.XString.isEqual(i.getText(),o)&&i.getScope()===a&&(e.XString.isEqual(i.getName(),n)||a===e.Scope.USER)){this.setEditMode(t,false);return}i.setText(o);i.setScope(a);i.setName(n);this.setBusy(true);this.m_processor.saveVariableVariant(i,e.OlapUiValueHelpAbstract.s_syncType,e.VariableProcessorCallbackLambda.createSingleUse(o=>{this.setBusy(false);if(o.hasErrors()){this.showGeneralErrorMessage(o,e.OuVariableDialogI18nLegacy.I18N_VARIANT_CANNOT_CHANGE);this.shake()}else{this.updateSectionTexts(t,i.getName(),i.getText(),i.getScope());this.m_currentModel.put(t.getName(),e.PrUtils.deepCopyElement(t.getValue()));this.setEditMode(t,false)}}),null)};e.VdVariantManagePopup.prototype.onPopupClosed=function(t){e.VdVariantPopupBase.prototype.onPopupClosed.call(this,t);if(e.notNull(this.m_onFinished)){this.m_onFinished()}e.XObjectExt.release(this)};e.VdVariantManagePopup.prototype.onPopupOpened=function(t){e.VdVariantPopupBase.prototype.onPopupOpened.call(this,t);this.m_processor.transferVariables(e.OlapUiValueHelpAbstract.s_syncType,e.VariableProcessorCallbackLambda.createSingleUse(t=>{this.getGenesis().getRoot().setBusy(false);this.updateVariantSections();this.m_currentModel=e.PrUtils.createDeepCopy(this.getJsonModel())}),null)};e.VdVariantManagePopup.prototype.openDeleteConfirmation=function(t){let i=t.getCustomObject().getText();let o=this.m_i18n.getText(e.OuVariableDialogI18nLegacy.I18N_VARIANT_WARNING);let n=this.m_i18n.getTextWithPlaceholder(e.OuVariableDialogI18nLegacy.I18N_VARIANT_DELETE_CONFIRMATION,i);let a=e.UtConfirmPopup.create(this.getGenesis(),o,n);a.setConfirmButtonIcon(null);a.setConfirmButtonText(this.m_i18n.getText(e.OuVariableDialogI18nLegacy.I18N_VARIANT_POPUP_DELETE));a.setCancelButtonIcon(null);a.setCancelButtonText(this.m_i18n.getText(e.OuVariableDialogI18nLegacy.I18N_VARIANT_POPUP_CANCEL));a.setConfirmProcedure(()=>{this.removeVariant(t)});a.open()};e.VdVariantManagePopup.prototype.releaseObject=function(){this.m_onFinished=null;e.VdVariantPopupBase.prototype.releaseObject.call(this)};e.VdVariantManagePopup.prototype.removeVariant=function(t){this.setBusy(true);let i=t.getCustomObject();this.m_processor.deleteVariableVariant(i,e.OlapUiValueHelpAbstract.s_syncType,e.VariableProcessorCallbackLambda.createSingleUse(i=>{this.setBusy(false);if(i.hasErrors()){this.showGeneralErrorMessage(i,e.OuVariableDialogI18nLegacy.I18N_VARIANT_CANNOT_DELETE);this.shake()}else{this.removeFormItemByKey(t.getName());let i=this.getAllFormItems();if(i.size()===1&&e.XString.isEqual(i.get(0).getName(),e.VdVariantPopupBase.TITLE_SECTION)){this.clearFormItems();this.addEmptySection()}}}),null)};e.VdVariantManagePopup.prototype.setEditMode=function(t,i){let o=t.getCustomObject();t.getFormItemByKey(e.VdVariantPopupBase.PROPERY_TEXT).setEditable(i);t.getFormItemByKey(e.VdVariantPopupBase.PROPERY_SCOPE).setEditable(i);t.getFormItemByKey(e.VdVariantPopupBase.PROPERY_NAME).setEditable(i&&o.getScope()!==e.Scope.USER);t.getFormControlByName(e.VdVariantManagePopup.ACCEPT).setVisible(i);t.getFormControlByName(e.VdVariantManagePopup.CANCEL).setVisible(i);t.getFormControlByName(e.VdVariantManagePopup.EDIT).setVisible(!i);t.getFormControlByName(e.VdVariantManagePopup.DELETE).setVisible(!i)};e.VdVariantManagePopup.prototype.setupManagePopup=function(e,t,i,o){this.setupPopupBase(e,i);this.m_onFinished=o;this.setupPopup(t)};e.VdVariantManagePopup.prototype.updateVariantSections=function(){this.clearFormItems();let t=this.m_processor.getVariableVariants();if(!e.XCollectionUtils.hasElements(t)){this.addEmptySection();return}let i=this.addTitleSection();if(e.notNull(i)){i.addFormLabel(null,null,null).setFlex(e.VdVariantManagePopup.BUTTON_FLEX);i.addFormLabel(null,null,null).setFlex(e.VdVariantManagePopup.BUTTON_FLEX)}e.XStream.of(t).filter(t=>t.getScope()===e.Scope.USER).sorted(e.VdVariantComparator.getInstance()).forEach(e=>{this.addVariantSection(e)});e.XStream.of(t).filter(t=>t.getScope()===e.Scope.GLOBAL).sorted(e.VdVariantComparator.getInstance()).forEach(e=>{this.addVariantSection(e)});e.XStream.of(this.getAllFormItems()).filter(t=>!e.XString.isEqual(t.getKey(),e.VdVariantPopupBase.TITLE_SECTION)).findAny().ifPresent(e=>{e.focus()})};e.VdVariantSavePopup=function(){};e.VdVariantSavePopup.prototype=new e.VdVariantPopupBase;e.VdVariantSavePopup.prototype._ff_c="VdVariantSavePopup";e.VdVariantSavePopup.createSavePopup=function(t,i,o,n){let a=new e.VdVariantSavePopup;a.setupSavePopup(t,i,o,n);return a};e.VdVariantSavePopup.prototype.m_done=false;e.VdVariantSavePopup.prototype.m_onFinished=null;e.VdVariantSavePopup.prototype.m_savedVariant=null;e.VdVariantSavePopup.prototype.m_section=null;e.VdVariantSavePopup.prototype.buildPopupContent=function(t){e.VdVariantPopupBase.prototype.buildPopupContent.call(this,t);this.addTitleSection();this.m_section=this.addVariantSectionBase(null,null,e.Scope.USER);let i=this.m_section.getFormItemByKey(e.VdVariantPopupBase.PROPERY_TEXT);i.setCustomValidator(e=>{if(!this.m_done){this.validateDisplayName(e,null)}});let o=this.m_section.getFormItemByKey(e.VdVariantPopupBase.PROPERY_NAME);o.setCustomValidator(e=>{if(!this.m_done){this.validateTechnicalName(e,null)}})};e.VdVariantSavePopup.prototype.configurePopup=function(t){e.VdVariantPopupBase.prototype.configurePopup.call(this,t);t.setName("VdVariantSavePopup");t.setTitle(this.m_i18n.getText(e.OuVariableDialogI18nLegacy.I18N_VARIANT_SAVE));this.setAfterOpenConsumer(t=>{this.m_section.getFormItemByKey(e.VdVariantPopupBase.PROPERY_TEXT).focus()});this.setBeforeSubmitPredicate(e=>this.saveNewVariant());this.setCloseProcedure(()=>{this.m_onFinished(null)})};e.VdVariantSavePopup.prototype.onPopupClosed=function(t){e.VdVariantPopupBase.prototype.onPopupClosed.call(this,t);if(e.notNull(this.m_onFinished)){this.m_onFinished(this.m_savedVariant)}e.XObjectExt.release(this)};e.VdVariantSavePopup.prototype.onPopupOpened=function(e){};e.VdVariantSavePopup.prototype.onVariableProcessorExecuted=function(t,i,o){this.setBusy(false);if(t.hasErrors()){this.showGeneralErrorMessage(t,this.m_i18n.getText(e.OuVariableDialogI18nLegacy.I18N_VARIANT_CANNOT_SAVE));this.shake()}else{this.m_done=true;this.m_savedVariant=o;this.showSuccessMessage();this.submit()}};e.VdVariantSavePopup.prototype.releaseObject=function(){this.m_onFinished=null;e.VdVariantPopupBase.prototype.releaseObject.call(this)};e.VdVariantSavePopup.prototype.saveNewVariant=function(){if(this.m_done){return true}this.validate();if(!this.isValid()){this.shake();return false}this.setBusy(true);let t=this.m_section.getValue();let i=t.getStringByKey(e.VdVariantPopupBase.PROPERY_NAME);let o=t.getStringByKey(e.VdVariantPopupBase.PROPERY_TEXT);let n=e.Scope.lookupByName(t.getStringByKey(e.VdVariantPopupBase.PROPERY_SCOPE));let a=this.m_processor.getDataSource();let r=e.QFactory.createVariableVariant(a,i,o,n);this.m_processor.saveVariableVariant(r,e.OlapUiValueHelpAbstract.s_syncType,this,r);return false};e.VdVariantSavePopup.prototype.setupSavePopup=function(e,t,i,o){this.setupPopupBase(e,i);this.m_onFinished=o;this.setupPopup(t)};e.VdVariantSavePopup.prototype.showSuccessMessage=function(){let t=this.m_manager.getUiContext();let i=this.m_i18n.getText(e.OuVariableDialogI18nLegacy.I18N_VARIANT_SAVE_SUCCESS);t.getMessageCenter().postMessage(e.UiMessageType.SUCCESS,i,e.VdVariantPopupBase.COMPONENT_NAME)};e.OuLambdaSyncAction=function(){};e.OuLambdaSyncAction.prototype=new e.SyncAction;e.OuLambdaSyncAction.prototype._ff_c="OuLambdaSyncAction";e.OuLambdaSyncAction.create=function(t,i,o,n){let a=new e.OuLambdaSyncAction;a.setupAction(e.SyncType.NON_BLOCKING,i,null,t);a.m_resultSupplier=o;a.m_delayInMillis=n;return a};e.OuLambdaSyncAction.prototype.m_delayInMillis=0;e.OuLambdaSyncAction.prototype.m_resultSupplier=null;e.OuLambdaSyncAction.prototype.m_timerId=null;e.OuLambdaSyncAction.prototype.cancelSynchronization=function(){if(e.XStringUtils.isNotNullAndNotEmpty(this.m_timerId)){e.XTimeout.clear(this.m_timerId);this.m_timerId=null;this.addError(0,"Canceled");e.SyncAction.prototype.cancelSynchronization.call(this)}};e.OuLambdaSyncAction.prototype.processSynchronization=function(t){this.m_timerId=e.XTimeout.timeout(this.m_delayInMillis,()=>{try{let e=this.m_resultSupplier();if(this.isSyncCanceled()){this.addError(2,"Action has been canceled")}else{this.setData(e)}this.m_timerId=null;this.endSync()}catch(t){this.addError(1,e.XException.getStackTrace(t,0))}});return t!==e.SyncType.BLOCKING};e.OuLambdaSyncAction.prototype.releaseObjectInternal=function(){this.m_resultSupplier=null;this.m_timerId=null};e.VdOrcaLevel=function(){};e.VdOrcaLevel.prototype=new e.XConstantWithParent;e.VdOrcaLevel.prototype._ff_c="VdOrcaLevel";e.VdOrcaLevel.CHART=null;e.VdOrcaLevel.DEFAULT=null;e.VdOrcaLevel.EXPLORER=null;e.VdOrcaLevel.FILTER=null;e.VdOrcaLevel.TABLE=null;e.VdOrcaLevel.WIDGET=null;e.VdOrcaLevel.s_lookup=null;e.VdOrcaLevel.create=function(t,i){let o=new e.VdOrcaLevel;o.setupExt(t,i);e.VdOrcaLevel.s_lookup.put(t,o);return o};e.VdOrcaLevel.lookup=function(t){return e.VdOrcaLevel.s_lookup.getByKey(t)};e.VdOrcaLevel.staticSetup=function(){e.VdOrcaLevel.s_lookup=e.XHashMapByString.create();e.VdOrcaLevel.DEFAULT=e.VdOrcaLevel.create("default",null);e.VdOrcaLevel.WIDGET=e.VdOrcaLevel.create("widget",null);e.VdOrcaLevel.CHART=e.VdOrcaLevel.create("chart",e.VdOrcaLevel.WIDGET);e.VdOrcaLevel.TABLE=e.VdOrcaLevel.create("table",e.VdOrcaLevel.WIDGET);e.VdOrcaLevel.EXPLORER=e.VdOrcaLevel.create("explorer",e.VdOrcaLevel.WIDGET);e.VdOrcaLevel.FILTER=e.VdOrcaLevel.create("filter",null)};e.OuDummyView=function(){};e.OuDummyView.prototype=new e.DfOuOlapView;e.OuDummyView.prototype._ff_c="OuDummyView";e.OuDummyView.create=function(t,i){let o=new e.OuDummyView;o.initOlapView(t,i);return o};e.OuDummyView.prototype.buildViewUi=function(t){let i=t.newControl(e.UiType.BUTTON);i.setText("Dummy button");t.setRoot(i)};e.OuDummyView.prototype.setupOlapView=function(e){};e.OuCalcDetailsAreaPlugin=function(){};e.OuCalcDetailsAreaPlugin.prototype=new e.OuCalcComponentPluginWithSharedSpace;e.OuCalcDetailsAreaPlugin.prototype._ff_c="OuCalcDetailsAreaPlugin";e.OuCalcDetailsAreaPlugin.CALCULATIONS_ID="calculations.id";e.OuCalcDetailsAreaPlugin.CALCULATIONS_NAME="calculations.name";e.OuCalcDetailsAreaPlugin.ID_VALID_REGEXP="^[a-zA-Z][a-zA-Z0-9_]*$";e.OuCalcDetailsAreaPlugin.PLUGIN_NAME="DetailsAreaPlugin";e.OuCalcDetailsAreaPlugin.VALIDATION_STATE="com.sap.ff.calculations.plugins.calculations.OuCalcDetailsAreaPlugin.ValidationState";e.OuCalcDetailsAreaPlugin.prototype.m_detailsAreaView=null;e.OuCalcDetailsAreaPlugin.prototype.m_eventListener=null;e.OuCalcDetailsAreaPlugin.prototype.m_genesis=null;e.OuCalcDetailsAreaPlugin.prototype.m_preferences=null;e.OuCalcDetailsAreaPlugin.prototype.buildPluginUi=function(t){this.m_genesis=e.XObjectExt.assertNotNull(t)};e.OuCalcDetailsAreaPlugin.prototype.destroyPlugin=function(){this.m_detailsAreaView=e.XObjectExt.release(this.m_detailsAreaView);this.m_eventListener=e.XObjectExt.release(this.m_eventListener);this.m_genesis=null;e.OuCalcComponentPluginWithSharedSpace.prototype.destroyPlugin.call(this)};e.OuCalcDetailsAreaPlugin.prototype.getAllMemberIds=function(t,i){if(!i.isEdit()){return t.getAllMemberIds()}let o=e.XList.create();o.addAll(t.getAllMemberIds());o.removeElement(i.getId());return o.getValuesAsReadOnlyList()};e.OuCalcDetailsAreaPlugin.prototype.getPluginCategory=function(){return e.HuPluginCategory.SYSTEM};e.OuCalcDetailsAreaPlugin.prototype.getPluginName=function(){return e.OuCalcDetailsAreaPlugin.PLUGIN_NAME};e.OuCalcDetailsAreaPlugin.prototype.notifyValidationState=function(t){if(this.m_preferences.isValidationEnabled()){this.getSharedDataSpace().putBoolean(e.OuCalcDetailsAreaPlugin.VALIDATION_STATE,t)}};e.OuCalcDetailsAreaPlugin.prototype.setupInterViewsCommunication=function(){this.m_eventListener=e.OuCalcEventListenerManager.create(this.getNotificationCenter());this.m_detailsAreaView.addOnIdChangeConsumer(t=>{this.getSharedDataSpace().putString(e.OuCalcDetailsAreaPlugin.CALCULATIONS_ID,t.getId());this.notifyValidationState(!t.hasErrors())});this.m_detailsAreaView.addOnNameChangeConsumer(t=>{this.getSharedDataSpace().putString(e.OuCalcDetailsAreaPlugin.CALCULATIONS_NAME,t.getName());this.notifyValidationState(!t.hasErrors())});this.m_eventListener.onControlFocused(t=>{if(t.isTypeOf(e.OuCalcUiComponent.DETAILS_PANEL)){this.m_detailsAreaView.focus()}});this.m_eventListener.onInitialDataSet(t=>{this.getSharedDataSpace().putString(e.OuCalcDetailsAreaPlugin.CALCULATIONS_ID,t.getId());this.getSharedDataSpace().putString(e.OuCalcDetailsAreaPlugin.CALCULATIONS_NAME,t.getDescription());this.m_detailsAreaView.setInitialData(t.getId(),t.getDescription())})};e.OuCalcDetailsAreaPlugin.prototype.setupPlugin=function(t){t.getLocalNotificationCenter().addObserverForName(e.OuCalcCalculations.CONFIGURATION_DATA_NOTIFICATION_NAME,t=>{let i=t.getXObjectByKey(e.OuCalcCalculations.FORMULA_INITIAL_DATA);let o=t.getXObjectByKey(e.OuCalcCalculations.DATASOURCE_PROVIDER_NOTIFICATION_KEY);this.m_preferences=t.getXObjectByKeyExt(e.OuCalcCalculations.FORMULA_PREFERENCES,e.FePreferences.createDefault());this.getSharedDataSpace().putString(e.OuCalcDetailsAreaPlugin.CALCULATIONS_ID,i.getId());this.getSharedDataSpace().putString(e.OuCalcDetailsAreaPlugin.CALCULATIONS_NAME,i.getDescription());let n=!this.m_preferences.isValidationEnabled()?e.FeCalculationValidator.createEmpty():e.FeCalculationValidator.create(256,e.OuCalcDetailsAreaPlugin.ID_VALID_REGEXP,this.getAllMemberIds(o,i));this.m_detailsAreaView=e.OuCalcDetailsAreaView.create(n,i.getId(),i.getDescription(),i.isEdit());this.m_detailsAreaView.renderView(this.m_genesis);this.notifyValidationState(!this.m_detailsAreaView.hasErrors());this.m_genesis.setRoot(this.m_detailsAreaView.getView());this.setupInterViewsCommunication()});return e.OuCalcComponentPluginWithSharedSpace.prototype.setupPlugin.call(this,t)};e.OuCalcAssistancePlugin=function(){};e.OuCalcAssistancePlugin.prototype=new e.OuCalcComponentPluginWithSharedSpace;e.OuCalcAssistancePlugin.prototype._ff_c="OuCalcAssistancePlugin";e.OuCalcAssistancePlugin.FE_NOTIFICATION_ASSISTANCE_PANEL_COLLAPSED="com.sap.ff.calculations.notification.assistance.panel.collapsed";e.OuCalcAssistancePlugin.FE_NOTIFICATION_ASSISTANCE_PANEL_COLLAPSED_DATA="collapsed";e.OuCalcAssistancePlugin.FE_NOTIFICATION_ASSISTANCE_PANEL_OPENED="fe.notification.assistance.panel.opened";e.OuCalcAssistancePlugin.FE_NOTIFICATION_ASSISTANCE_PANEL_OPENED_DATA="panel.name";e.OuCalcAssistancePlugin.FE_NOTIFICATION_EXPLAIN="com.sap.ff.calculations.notification.assistance.ai.explain";e.OuCalcAssistancePlugin.FE_SELECTED_FORMULA_ITEM="com.sap.ff.calculations.ds.selected.formula.item";e.OuCalcAssistancePlugin.FE_VALUE_NOTIFICATION_PANEL_DOCUMENTATION_NAME="doc";e.OuCalcAssistancePlugin.FE_VALUE_NOTIFICATION_PANEL_ERROR_NAME="error";e.OuCalcAssistancePlugin.PLUGIN_NAME="AssistancePlugin";e.OuCalcAssistancePlugin.prototype.m_assistanceView=null;e.OuCalcAssistancePlugin.prototype.m_eventManager=null;e.OuCalcAssistancePlugin.prototype.m_feConfiguration=null;e.OuCalcAssistancePlugin.prototype.m_genesis=null;e.OuCalcAssistancePlugin.prototype.m_preferences=null;e.OuCalcAssistancePlugin.prototype.buildPluginUi=function(t){this.m_genesis=e.XObjectExt.assertNotNull(t)};e.OuCalcAssistancePlugin.prototype.buildUi=function(){this.m_eventManager=e.OuCalcEventManager.create(this.getNotificationCenter());let t=e.OuCalcTranslationParser.create(this.m_preferences,this.m_feConfiguration.getStructureMemberName(),this.m_feConfiguration.stringsSupported());this.m_assistanceView=e.OuCalcAssistanceView.create(t);this.m_assistanceView.renderView(this.m_genesis);this.initFromDataSpace();this.registerOnDataSpaceUpdate();this.registerOnNotification();this.m_assistanceView.addOnCollapseConsumer(e=>{this.m_eventManager.getEmitter().fireAssistancePanelCollapsed(e.getBoolean())});this.m_genesis.setRoot(this.m_assistanceView.getView())};e.OuCalcAssistancePlugin.prototype.destroyPlugin=function(){this.m_assistanceView=e.XObjectExt.release(this.m_assistanceView);this.m_genesis=null;this.m_preferences=null;this.m_feConfiguration=null;this.m_eventManager=e.XObjectExt.release(this.m_eventManager);e.OuCalcComponentPluginWithSharedSpace.prototype.destroyPlugin.call(this)};e.OuCalcAssistancePlugin.prototype.getPluginCategory=function(){return e.HuPluginCategory.SYSTEM};e.OuCalcAssistancePlugin.prototype.getPluginName=function(){return e.OuCalcAssistancePlugin.PLUGIN_NAME};e.OuCalcAssistancePlugin.prototype.initFromDataSpace=function(){this.setDocumentationFromDataSpace();this.setErrorsFromDataSpace();this.setEditorFromDataSpace()};e.OuCalcAssistancePlugin.prototype.openAssistanceTab=function(t){switch(t){case e.OuCalcAssistancePlugin.FE_VALUE_NOTIFICATION_PANEL_DOCUMENTATION_NAME:this.m_assistanceView.setHelpActiveTab();break;case e.OuCalcAssistancePlugin.FE_VALUE_NOTIFICATION_PANEL_ERROR_NAME:this.m_assistanceView.setErrorsActiveTab();break;default:throw e.XException.createIllegalArgumentException("Panel name not valid")}};e.OuCalcAssistancePlugin.prototype.registerOnDataSpaceUpdate=function(){this.getSharedDataSpace().addChangeConsumer(t=>{switch(t){case e.OuCalcAssistancePlugin.FE_SELECTED_FORMULA_ITEM:this.setDocumentationFromDataSpace();break;case e.OuCalcAssistancePluginV2.FE_SELECTED_FORMULA_ITEM:this.setDocumentationFromDataSpace();break;case e.OuCalcCodeEditorPlugin.FE_FORMULA_ERRORS:this.setErrorsFromDataSpace();break;case e.OuCalcCodeEditorPlugin.FE_FORMULA:this.setEditorFromDataSpace();break}})};e.OuCalcAssistancePlugin.prototype.registerOnNotification=function(){this.m_eventManager.getListener().onAssistancePanelOpened(e=>{this.openAssistanceTab(e)})};e.OuCalcAssistancePlugin.prototype.setDocumentationFromDataSpace=function(){this.m_assistanceView.generateDocumentation(this.getSharedDataSpace().getStringByKey(e.OuCalcAssistancePlugin.FE_SELECTED_FORMULA_ITEM))};e.OuCalcAssistancePlugin.prototype.setEditorFromDataSpace=function(){let t=this.getSharedDataSpace().getXObjectByKey(e.OuCalcCodeEditorPlugin.FE_FORMULA);this.m_assistanceView.setFormulaEmpty(t.isEmpty())};e.OuCalcAssistancePlugin.prototype.setErrorsFromDataSpace=function(){let t=this.getSharedDataSpace().getXObjectByKey(e.OuCalcCodeEditorPlugin.FE_FORMULA_ERRORS);this.m_assistanceView.setErrors(t)};e.OuCalcAssistancePlugin.prototype.setupPlugin=function(t){t.getLocalNotificationCenter().addObserverForName(e.OuCalcCalculations.CONFIGURATION_DATA_NOTIFICATION_NAME,t=>{this.m_preferences=t.getXObjectByKeyExt(e.OuCalcCalculations.FORMULA_PREFERENCES,e.FePreferences.createDefault());this.m_feConfiguration=t.getXObjectByKey(e.OuCalcCalculations.FE_CONFIGURATION);this.buildUi()});return e.OuCalcComponentPluginWithSharedSpace.prototype.setupPlugin.call(this,t)};e.OuCalcAssistancePluginV2=function(){};e.OuCalcAssistancePluginV2.prototype=new e.OuCalcComponentPluginWithSharedSpace;e.OuCalcAssistancePluginV2.prototype._ff_c="OuCalcAssistancePluginV2";e.OuCalcAssistancePluginV2.FE_NOTIFICATION_ASSISTANCE_PANEL_COLLAPSED="com.sap.ff.notification.calculations.assistancePanelCollapsed.v2";e.OuCalcAssistancePluginV2.FE_NOTIFICATION_ASSISTANCE_PANEL_COLLAPSED_DATA="collapsed";e.OuCalcAssistancePluginV2.FE_SELECTED_FORMULA_ITEM="com.sap.ff.dataSpace.calculations.selectedFormulaItem.v2";e.OuCalcAssistancePluginV2.PANEL_INITIAL_STATE_COLLAPSED=false;e.OuCalcAssistancePluginV2.PLUGIN_NAME="AssistancePluginV2";e.OuCalcAssistancePluginV2.prototype.m_assistanceView=null;e.OuCalcAssistancePluginV2.prototype.m_datasource=null;e.OuCalcAssistancePluginV2.prototype.m_eventManager=null;e.OuCalcAssistancePluginV2.prototype.m_feConfiguration=null;e.OuCalcAssistancePluginV2.prototype.m_genesis=null;e.OuCalcAssistancePluginV2.prototype.m_preferences=null;e.OuCalcAssistancePluginV2.prototype.buildPluginUi=function(t){this.m_genesis=e.XObjectExt.assertNotNull(t)};e.OuCalcAssistancePluginV2.prototype.buildUi=function(){this.m_eventManager=e.OuCalcEventManager.create(this.getNotificationCenter());let t=e.OuCalcTranslationParser.create(this.m_preferences,this.m_feConfiguration.getStructureMemberName(),this.m_feConfiguration.stringsSupported());this.m_assistanceView=e.FeFeatureToggle.isActive(e.FeFeatureToggle.GEN_AI)?e.OuCalcAssistanceViewV2.createWithAI(t,e.FeFormulaPresentation.create(this.m_preferences.isCommaDecimalSeparator()),this.getGenAiService()):e.OuCalcAssistanceViewV2.create(t);this.m_assistanceView.renderView(this.m_genesis);if(!e.FeFeatureToggle.isActive(e.FeFeatureToggle.GEN_AI)){this.setCollapsed(e.OuCalcAssistancePluginV2.PANEL_INITIAL_STATE_COLLAPSED)}if(e.FeFeatureToggle.isActive(e.FeFeatureToggle.GEN_AI_PHASE1)){this.m_assistanceView.addOnAddFormulaConsumers(e=>{this.m_eventManager.getEmitter().fireSetFormula(e)})}this.initFromDataSpace();this.registerOnDataSpaceUpdate();this.setupNotificationsListener();this.m_assistanceView.addOnCollapseConsumer(e=>{this.fireCollapsed(e.getBoolean())});this.m_genesis.setRoot(this.m_assistanceView.getView())};e.OuCalcAssistancePluginV2.prototype.destroyPlugin=function(){this.m_assistanceView=e.XObjectExt.release(this.m_assistanceView);this.m_eventManager=e.XObjectExt.release(this.m_eventManager);this.m_genesis=null;this.m_preferences=null;this.m_feConfiguration=null;this.m_datasource=null;e.OuCalcComponentPluginWithSharedSpace.prototype.destroyPlugin.call(this)};e.OuCalcAssistancePluginV2.prototype.fireCollapsed=function(e){this.m_eventManager.getEmitter().fireAssistancePanelCollapsed(e)};e.OuCalcAssistancePluginV2.prototype.getGenAiService=function(){let t=this.getProcess().getEnvironment().getBooleanByKeyExt(e.XEnvironmentConstants.FIREFLY_FORMULA_EDITOR_ENHANCED_USE_MOCKED_SERVICE,false);return t?e.FeGenAiServiceMocked.create():e.FeGenAiServiceImpl.create(this.getProcess(),this.m_datasource)};e.OuCalcAssistancePluginV2.prototype.getPluginCategory=function(){return e.HuPluginCategory.SYSTEM};e.OuCalcAssistancePluginV2.prototype.getPluginName=function(){return e.OuCalcAssistancePluginV2.PLUGIN_NAME};e.OuCalcAssistancePluginV2.prototype.initFromDataSpace=function(){this.setDocumentationFromDataSpace()};e.OuCalcAssistancePluginV2.prototype.registerOnDataSpaceUpdate=function(){this.getSharedDataSpace().addChangeConsumer(t=>{switch(t){case e.OuCalcAssistancePluginV2.FE_SELECTED_FORMULA_ITEM:this.setDocumentationFromDataSpace();break}})};e.OuCalcAssistancePluginV2.prototype.setCollapsed=function(e){this.m_assistanceView.setCollapsed(e)};e.OuCalcAssistancePluginV2.prototype.setDocumentationFromDataSpace=function(){this.m_assistanceView.generateDocumentation(this.getSharedDataSpace().getStringByKey(e.OuCalcAssistancePluginV2.FE_SELECTED_FORMULA_ITEM))};e.OuCalcAssistancePluginV2.prototype.setupNotificationsListener=function(){this.m_eventManager.getListener().onAssistancePanelCollapsed(e=>{this.setCollapsed(e.getBoolean())});this.m_eventManager.getListener().onFormulaExplain(e=>{this.m_assistanceView.performExplain(e)})};e.OuCalcAssistancePluginV2.prototype.setupPlugin=function(t){t.getLocalNotificationCenter().addObserverForName(e.OuCalcCalculations.CONFIGURATION_DATA_NOTIFICATION_NAME,t=>{this.m_preferences=t.getXObjectByKeyExt(e.OuCalcCalculations.FORMULA_PREFERENCES,e.FePreferences.createDefault());this.m_feConfiguration=t.getXObjectByKey(e.OuCalcCalculations.FE_CONFIGURATION);this.m_datasource=t.getXObjectByKey(e.OuCalcCalculations.DATASOURCE_PROVIDER_NOTIFICATION_KEY);this.buildUi();this.m_assistanceView.setCustomMode(t.getStringByKey(e.OuCalcCalculations.FE_MODE_NAME))});return e.OuCalcComponentPluginWithSharedSpace.prototype.setupPlugin.call(this,t)};e.OuCalcCodeEditorPlugin=function(){};e.OuCalcCodeEditorPlugin.prototype=new e.OuCalcComponentPluginWithSharedSpace;e.OuCalcCodeEditorPlugin.prototype._ff_c="OuCalcCodeEditorPlugin";e.OuCalcCodeEditorPlugin.DEFAULT_FORMULA_INDEX=0;e.OuCalcCodeEditorPlugin.EMPTY_FORMULA="";e.OuCalcCodeEditorPlugin.FE_FORMULA="fe.formula";e.OuCalcCodeEditorPlugin.FE_FORMULA_ERRORS="fe.assistance.formula.errors";e.OuCalcCodeEditorPlugin.FE_NOTIFICATION_CODE_EDITOR_VALUE_SET="com.sap.ff.calculations.notification.codeeditor.value.set";e.OuCalcCodeEditorPlugin.PLUGIN_NAME="CodeEditorPlugin";e.OuCalcCodeEditorPlugin.prototype.m_codeEditorView=null;e.OuCalcCodeEditorPlugin.prototype.m_ctrlSpaceHandler=null;e.OuCalcCodeEditorPlugin.prototype.m_currentToken=null;e.OuCalcCodeEditorPlugin.prototype.m_datasource=null;e.OuCalcCodeEditorPlugin.prototype.m_eventManager=null;e.OuCalcCodeEditorPlugin.prototype.m_feConfiguration=null;e.OuCalcCodeEditorPlugin.prototype.m_formulaContext=null;e.OuCalcCodeEditorPlugin.prototype.m_formulaItems=null;e.OuCalcCodeEditorPlugin.prototype.m_formulaPresentation=null;e.OuCalcCodeEditorPlugin.prototype.m_genesis=null;e.OuCalcCodeEditorPlugin.prototype.m_hintGenerator=null;e.OuCalcCodeEditorPlugin.prototype.m_initialData=null;e.OuCalcCodeEditorPlugin.prototype.m_memberSelectorHandler=null;e.OuCalcCodeEditorPlugin.prototype.m_preferences=null;e.OuCalcCodeEditorPlugin.prototype.addGenAiListeners=function(){let t=this.getGenAiService();this.m_codeEditorView.addOnExplainPressConsumers(i=>{let o=this.getSharedDataSpace().getXObjectByKey(e.OuCalcCodeEditorPlugin.FE_FORMULA);if(e.FeFeatureToggle.isActive(e.FeFeatureToggle.DIALOG_NEW_LAYOUT)){this.m_eventManager.getEmitter().fireExplainFormula(o.getText())}else{this.m_codeEditorView.setBusy(true);t.explainFormula(o.getText()).onThen(e=>{this.m_codeEditorView.setNaturalLanguageDescription(e)}).onCatch(t=>{this.m_genesis.showErrorToast(e.XStringUtils.concatenate2("Error while generating description: ",t.getText()))}).onFinally(()=>{this.m_codeEditorView.setBusy(false)})}});this.m_codeEditorView.addOnGenerationPressConsumer(i=>{this.m_codeEditorView.setBusy(true);t.generateFormula(i).onThen(t=>{this.m_codeEditorView.setFormula(e.FeFormula.create(t,this.m_formulaPresentation))}).onCatch(t=>{this.m_genesis.showErrorToast(e.XStringUtils.concatenate2("Error while generating formula: ",t.getText()))}).onFinally(()=>{this.m_codeEditorView.setBusy(false)})})};e.OuCalcCodeEditorPlugin.prototype.areMessageCollectionEquals=function(t,i){if(e.isNull(t)&&e.isNull(i)){return true}if(e.isNull(t)||e.isNull(i)){return false}if(t.getMessages().size()!==i.getMessages().size()){return false}if(!e.XString.isEqual(t.getSummary(),i.getSummary())){return false}for(let o=0;o<t.getMessages().size();o++){let n=t.getMessages().get(o);let a=i.getMessages().get(o);if(!n.isEqualTo(a)){return false}if(!e.XString.isEqual(n.getText(),a.getText())){return false}}return true};e.OuCalcCodeEditorPlugin.prototype.buildPluginUi=function(t){this.m_genesis=e.XObjectExt.assertNotNull(t)};e.OuCalcCodeEditorPlugin.prototype.buildUi=function(){this.m_codeEditorView=e.FeFeatureToggle.isActive(e.FeFeatureToggle.DIALOG_NEW_LAYOUT)?e.OuCalcCodeEditorViewV2.create(this.m_formulaPresentation):e.OuCalcCodeEditorView.create(this.m_formulaPresentation);this.m_codeEditorView.setOnChange(t=>{this.getSharedDataSpace().putXObject(e.OuCalcCodeEditorPlugin.FE_FORMULA,t);this.runValidations(t,this.m_datasource);this.extractTokens(t)});this.m_codeEditorView.setOnCursorChange(t=>{let i=this.getSharedDataSpace().getXObjectByKey(e.OuCalcCodeEditorPlugin.FE_FORMULA);if(i.isEmpty()){this.setCustomCompletion(e.OuCalcCodeEditorPlugin.DEFAULT_FORMULA_INDEX)}else{let o=e.FeCursorHelper.getCursorIndex(i.getText(),t.getRow(),t.getColumn());this.setCurrentFunction(o);this.setCustomCompletion(o)}});this.m_codeEditorView.renderView(this.m_genesis);this.m_codeEditorView.setFormula(this.m_initialData.getFormula());this.m_codeEditorView.addOnMoreErrorPressConsumer(t=>{this.m_eventManager.getEmitter().fireAssistancePanelOpened(e.OuCalcAssistancePlugin.FE_VALUE_NOTIFICATION_PANEL_ERROR_NAME)});this.m_codeEditorView.addOnFunctionHelpPressConsumer(e=>{this.m_eventManager.getEmitter().fireAssistancePanelCollapsed(e.getBoolean())});this.m_codeEditorView.setCtrlSpacePressedProcedure(()=>{let t=this.getSharedDataSpace().getXObjectByKey(e.OuCalcCodeEditorPlugin.FE_FORMULA);this.m_ctrlSpaceHandler.handle(t,this.m_currentToken,e=>{this.m_codeEditorView.setFormula(e)},e=>{this.m_codeEditorView.setCursorPosition(e)})});if(e.FeFeatureToggle.isActive(e.FeFeatureToggle.DIALOG_NEW_LAYOUT)){this.m_codeEditorView.setFunctionHelpPressed(!e.OuCalcAssistancePluginV2.PANEL_INITIAL_STATE_COLLAPSED)}if(e.FeFeatureToggle.isActive(e.FeFeatureToggle.GEN_AI)){this.addGenAiListeners()}this.m_genesis.setRoot(this.m_codeEditorView.getView());this.setCustomCompletion(e.OuCalcCodeEditorPlugin.DEFAULT_FORMULA_INDEX);if(e.FeFeatureToggle.isActive(e.FeFeatureToggle.TOKENIZATION)){this.registerKeyboardHandlerModule();this.m_codeEditorView.addKeyboardHandlerToEditorFromModule()}};e.OuCalcCodeEditorPlugin.prototype.currentFormulaItemExists=function(t){let i=this.m_formulaItems.getFunctions().getIterator();while(i.hasNext()){let o=i.next();if(e.XString.isEqual(o.getDisplayName(),t.get().getMetadata().getName())){return true}}return false};e.OuCalcCodeEditorPlugin.prototype.destroyPlugin=function(){this.m_codeEditorView=e.XObjectExt.release(this.m_codeEditorView);this.m_ctrlSpaceHandler=e.XObjectExt.release(this.m_ctrlSpaceHandler);this.m_datasource=null;this.m_formulaItems=null;this.m_initialData=null;this.m_preferences=null;this.m_feConfiguration=null;this.m_formulaPresentation=null;this.m_memberSelectorHandler=null;this.m_formulaContext=e.XObjectExt.release(this.m_formulaContext);this.m_hintGenerator=e.XObjectExt.release(this.m_hintGenerator);this.m_genesis=null;this.m_currentToken=null;this.m_eventManager=e.XObjectExt.release(this.m_eventManager);e.OuCalcComponentPluginWithSharedSpace.prototype.destroyPlugin.call(this)};e.OuCalcCodeEditorPlugin.prototype.extractTokens=function(e){if(!e.isEmpty()){this.m_formulaContext.extractTokens(e)}else{this.m_formulaContext.resetTokens()}};e.OuCalcCodeEditorPlugin.prototype.getCurrentToken=function(t){let i=this.m_formulaContext.getTokenAtPosition(t);if(i.isPresent()){return i.get()}let o=this.getSharedDataSpace().getXObjectByKey(e.OuCalcCodeEditorPlugin.FE_FORMULA);let n=o.isEmpty()?e.OuCalcCodeEditorPlugin.EMPTY_FORMULA:o.getText();let a=e.XList.create();a.add(e.FeDataType.ANY);let r=0;let l=e.XString.size(n);return e.FeTokenBuilder.create().setTokenType(e.FeTokenType.GENERIC).setDataTypes(a).setText(n).setContextStart(r).setContextEnd(l).setStart(r).setEnd(l).build()};e.OuCalcCodeEditorPlugin.prototype.getGenAiService=function(){let t=this.getProcess().getEnvironment().getBooleanByKeyExt(e.XEnvironmentConstants.FIREFLY_FORMULA_EDITOR_ENHANCED_USE_MOCKED_SERVICE,false);return t?e.FeGenAiServiceMocked.create():e.FeGenAiServiceImpl.create(this.getProcess(),this.m_datasource)};e.OuCalcCodeEditorPlugin.prototype.getPluginCategory=function(){return e.HuPluginCategory.SYSTEM};e.OuCalcCodeEditorPlugin.prototype.getPluginName=function(){return e.OuCalcCodeEditorPlugin.PLUGIN_NAME};e.OuCalcCodeEditorPlugin.prototype.getUiFormulaItemsProvider=function(){return e.FeFormulaItemsProvider.createNonDeprecatedFormulaItemsProvider(this.m_formulaItems)};e.OuCalcCodeEditorPlugin.prototype.isDimensionToken=function(){return e.FeFeatureToggle.isActive(e.FeFeatureToggle.DIMENSION_SUPPORT)&&e.notNull(this.m_currentToken)&&this.m_currentToken.getTokenType().isEqualTo(e.FeTokenType.DIMENSION)&&this.m_currentToken.getDataTypes().contains(e.FeDataType.DIMENSION_MEMBER)};e.OuCalcCodeEditorPlugin.prototype.registerKeyboardHandlerModule=function(){e.FeKeyboardHandler.register();e.FeKeyboardHandler.getInstance().setContext(this.m_formulaContext)};e.OuCalcCodeEditorPlugin.prototype.runValidations=function(t,i){if(!this.m_preferences.isValidationEnabled()){return e.MessageManagerSimple.createMessageManager()}let o=this.getSharedDataSpace().getStringByKey(e.OuCalcDetailsAreaPlugin.CALCULATIONS_ID);let n=e.FeParser.create(i,o,this.m_formulaItems.getFunctions(),this.m_formulaItems.getOperators(),this.m_feConfiguration,this.m_preferences);let a=n.validate(t);this.updateFormulaErrors(a);return a};e.OuCalcCodeEditorPlugin.prototype.setCurrentFunction=function(t){let i=this.m_formulaContext.getFunctionItemAtPosition(t);if(i.isPresent()&&this.currentFormulaItemExists(i)){let t=e.FeFeatureToggle.isActive(e.FeFeatureToggle.DIALOG_NEW_LAYOUT)?e.OuCalcAssistancePluginV2.FE_SELECTED_FORMULA_ITEM:e.OuCalcAssistancePlugin.FE_SELECTED_FORMULA_ITEM;this.getSharedDataSpace().putString(t,i.get().getMetadata().getName())}};e.OuCalcCodeEditorPlugin.prototype.setCustomCompletion=function(t){this.m_currentToken=this.getCurrentToken(t);if(this.isDimensionToken()){this.m_codeEditorView.setCustomCompleterJson(e.PrFactory.createList())}else{let t=this.m_hintGenerator.generate(this.m_currentToken);let i=e.PrList.create();for(let e=0;e<t.size();e++){i.add(t.get(e).getJson())}this.m_codeEditorView.setCustomCompleterJson(i)}};e.OuCalcCodeEditorPlugin.prototype.setCustomMode=function(e){this.m_codeEditorView.setCustomMode(e)};e.OuCalcCodeEditorPlugin.prototype.setupHintGenerator=function(){let t=e.XList.create();t.add(e.OuCalcFunctionHintProvider.create(this.getUiFormulaItemsProvider().getFunctions(),this.m_formulaPresentation));t.add(e.OuCalcOperatorHintProvider.create(this.getUiFormulaItemsProvider().getOperators()));let i=e.XStream.of(this.m_datasource.getAllUsableMeasures()).sorted(e.XComparatorLambda.create((t,i)=>{let o=e.XString.toLowerCase(e.XStringUtils.concatenate2(t.getDescription(),t.getAlias()));let n=e.XString.toLowerCase(e.XStringUtils.concatenate2(i.getDescription(),i.getAlias()));return e.XIntegerValue.create(e.XString.compare(o,n))})).collect(e.XStreamCollector.toList());t.add(e.OuCalcMeasureHintProvider.create(i,this.m_preferences.isModelPrefixEnabled()));if(this.m_feConfiguration.dimensionsSupported()){let i=e.XStream.of(this.m_datasource.getAllUsableDimensions()).sorted(e.XComparatorLambda.create((t,i)=>{let o=e.XString.toLowerCase(e.XStringUtils.concatenate2(t.getDescription(),t.getId()));let n=e.XString.toLowerCase(e.XStringUtils.concatenate2(i.getDescription(),i.getId()));return e.XIntegerValue.create(e.XString.compare(o,n))})).collect(e.XStreamCollector.toList());t.add(e.OuCalcDimensionHintProvider.create(i,this.m_feConfiguration,this.m_preferences.isModelPrefixEnabled()));t.add(e.OuCalcHierarchyHintProvider.create(i,this.m_feConfiguration,this.m_preferences.isModelPrefixEnabled()));t.add(e.OuCalcPropertyHintProvider.create(i,this.m_feConfiguration,this.m_preferences.isModelPrefixEnabled()));if(e.FeFeatureToggle.isActive(e.FeFeatureToggle.DATEDIFF)){t.add(e.OuCalcDateGranularityHintProvider.create())}}this.m_hintGenerator=e.OuCalcHintGenerator.create(t)};e.OuCalcCodeEditorPlugin.prototype.setupInterViewsCommunication=function(){this.m_eventManager=e.OuCalcEventManager.create(this.getNotificationCenter());this.getSharedDataSpace().addChangeConsumer(t=>{switch(t){case e.OuCalcCodeEditorPlugin.FE_FORMULA_ERRORS:this.m_codeEditorView.updateError(this.getSharedDataSpace().getXObjectByKey(t));break;case e.OuCalcDetailsAreaPlugin.CALCULATIONS_ID:let i=this.getSharedDataSpace().getXObjectByKey(e.OuCalcCodeEditorPlugin.FE_FORMULA);this.runValidations(i,this.m_datasource);break}});this.m_eventManager.getListener().onFormulaItemChosen(e=>{this.m_codeEditorView.insertText(e)});this.m_eventManager.getListener().onInitialDataSet(e=>{this.m_codeEditorView.setFormula(e.getFormula())});this.m_eventManager.getListener().onValidationMessageSet(e=>{this.updateFormulaErrors(e)});this.m_eventManager.getListener().onAssistancePanelCollapsed(e=>{this.m_codeEditorView.setFunctionHelpPressed(!e.getBoolean())});this.m_eventManager.getListener().onFormulaSet(t=>{this.m_codeEditorView.setFormula(e.FeFormula.create(t,this.m_formulaPresentation))})};e.OuCalcCodeEditorPlugin.prototype.setupPlugin=function(t){t.getLocalNotificationCenter().addObserverForName(e.OuCalcCalculations.CONFIGURATION_DATA_NOTIFICATION_NAME,t=>{this.m_datasource=t.getXObjectByKey(e.OuCalcCalculations.DATASOURCE_PROVIDER_NOTIFICATION_KEY);this.m_formulaItems=t.getXObjectByKey(e.OuCalcCalculations.FORMULA_ITEMS_PROVIDER_NOTIFICATION_KEY);this.m_initialData=t.getXObjectByKey(e.OuCalcCalculations.FORMULA_INITIAL_DATA);this.m_preferences=t.getXObjectByKeyExt(e.OuCalcCalculations.FORMULA_PREFERENCES,e.FePreferences.createDefault());this.m_feConfiguration=t.getXObjectByKey(e.OuCalcCalculations.FE_CONFIGURATION);this.m_formulaPresentation=e.FeFormulaPresentation.create(this.m_preferences.isCommaDecimalSeparator());this.m_memberSelectorHandler=t.getXObjectByKey(e.OuCalcCalculations.MEMBER_SELECTOR_HANDLER_KEY);this.m_ctrlSpaceHandler=e.OuCalcCtrlSpaceHandler.create(this.m_datasource,this.m_memberSelectorHandler,this.m_preferences,this.m_formulaPresentation);this.getSharedDataSpace().putXObject(e.OuCalcCodeEditorPlugin.FE_FORMULA,this.m_initialData.getFormula());this.setupHintGenerator();this.setupInterViewsCommunication();this.buildUi();this.setCustomMode(t.getStringByKey(e.OuCalcCalculations.FE_MODE_NAME));this.runValidations(this.m_initialData.getFormula(),this.m_datasource)});this.m_formulaContext=e.FeContext.create();return e.OuCalcComponentPluginWithSharedSpace.prototype.setupPlugin.call(this,t)};e.OuCalcCodeEditorPlugin.prototype.updateFormulaErrors=function(t){let i=this.getSharedDataSpace().getXObjectByKey(e.OuCalcCodeEditorPlugin.FE_FORMULA_ERRORS);if(!this.areMessageCollectionEquals(i,t)){this.getSharedDataSpace().putXObject(e.OuCalcCodeEditorPlugin.FE_FORMULA_ERRORS,t)}};e.OuCalcFormulaElementListPlugin=function(){};e.OuCalcFormulaElementListPlugin.prototype=new e.OuCalcComponentPluginWithSharedSpace;e.OuCalcFormulaElementListPlugin.prototype._ff_c="OuCalcFormulaElementListPlugin";e.OuCalcFormulaElementListPlugin.FE_CHOSEN_DISPLAY_OPTION="fe.chosen.display.option";e.OuCalcFormulaElementListPlugin.FE_NOTIFICATION_CHOSEN_FORMULA_ITEM="fe.notification.chosen.formula.item";e.OuCalcFormulaElementListPlugin.FE_NOTIFICATION_CHOSEN_FORMULA_ITEM_DATA="formula.item";e.OuCalcFormulaElementListPlugin.FE_NOTIFICATION_ITEM_LIST_PANEL_COLLAPSED="com.sap.ff.notification.calculations.itemListPanelCollapsed";e.OuCalcFormulaElementListPlugin.FE_NOTIFICATION_ITEM_LIST_PANEL_COLLAPSED_DATA="collapsed";e.OuCalcFormulaElementListPlugin.PANEL_INITIAL_STATE_COLLAPSED=false;e.OuCalcFormulaElementListPlugin.PLUGIN_NAME="FormulaElementListPlugin";e.OuCalcFormulaElementListPlugin.prototype.m_datasource=null;e.OuCalcFormulaElementListPlugin.prototype.m_eventEmitter=null;e.OuCalcFormulaElementListPlugin.prototype.m_feConfiguration=null;e.OuCalcFormulaElementListPlugin.prototype.m_formulaElementListView=null;e.OuCalcFormulaElementListPlugin.prototype.m_formulaItems=null;e.OuCalcFormulaElementListPlugin.prototype.m_genesis=null;e.OuCalcFormulaElementListPlugin.prototype.m_preferences=null;e.OuCalcFormulaElementListPlugin.prototype.buildPluginUi=function(t){this.m_genesis=e.XObjectExt.assertNotNull(t)};e.OuCalcFormulaElementListPlugin.prototype.buildUi=function(){this.m_formulaElementListView=e.FeFeatureToggle.isActive(e.FeFeatureToggle.DIALOG_NEW_LAYOUT)?e.OuCalcFormulaElementListViewV2.create(this.m_formulaItems,this.m_datasource,this.m_feConfiguration,this.m_preferences):e.OuCalcFormulaElementListView.create(this.m_formulaItems,this.m_datasource,this.m_feConfiguration,this.m_preferences);this.m_formulaElementListView.renderView(this.m_genesis);this.m_genesis.setRoot(this.m_formulaElementListView.getView());this.setCollapsed(e.OuCalcFormulaElementListPlugin.PANEL_INITIAL_STATE_COLLAPSED)};e.OuCalcFormulaElementListPlugin.prototype.destroyPlugin=function(){this.m_eventEmitter=e.XObjectExt.release(this.m_eventEmitter);this.m_formulaElementListView=e.XObjectExt.release(this.m_formulaElementListView);this.m_datasource=null;this.m_formulaItems=null;this.m_genesis=null;this.m_feConfiguration=null;this.m_preferences=null;e.OuCalcComponentPluginWithSharedSpace.prototype.destroyPlugin.call(this)};e.OuCalcFormulaElementListPlugin.prototype.getPluginCategory=function(){return e.HuPluginCategory.SYSTEM};e.OuCalcFormulaElementListPlugin.prototype.getPluginName=function(){return e.OuCalcFormulaElementListPlugin.PLUGIN_NAME};e.OuCalcFormulaElementListPlugin.prototype.setCollapsed=function(e){this.m_formulaElementListView.setCollapsed(e)};e.OuCalcFormulaElementListPlugin.prototype.setupInterViewsCommunication=function(){this.m_eventEmitter=e.OuCalcEventEmitterManager.create(this.getNotificationCenter());this.m_formulaElementListView.addOnDisplayOptionPressedConsumer(t=>{this.getSharedDataSpace().putXObject(e.OuCalcFormulaElementListPlugin.FE_CHOSEN_DISPLAY_OPTION,t)});this.m_formulaElementListView.addOnSelectFormulaItemConsumer(t=>{let i=e.FeFeatureToggle.isActive(e.FeFeatureToggle.DIALOG_NEW_LAYOUT)?e.OuCalcAssistancePluginV2.FE_SELECTED_FORMULA_ITEM:e.OuCalcAssistancePlugin.FE_SELECTED_FORMULA_ITEM;this.getSharedDataSpace().putString(i,t)});this.m_formulaElementListView.addOnSelectConsumer(e=>{this.m_eventEmitter.fireFormulaItemChosen(e)});this.m_formulaElementListView.addOnCollapseConsumer(e=>{this.m_eventEmitter.fireListItemPanelCollapsed(e.getBoolean())})};e.OuCalcFormulaElementListPlugin.prototype.setupPlugin=function(t){t.getLocalNotificationCenter().addObserverForName(e.OuCalcCalculations.CONFIGURATION_DATA_NOTIFICATION_NAME,t=>{let i=t.getXObjectByKey(e.OuCalcCalculations.FORMULA_ITEMS_PROVIDER_NOTIFICATION_KEY);this.m_datasource=t.getXObjectByKey(e.OuCalcCalculations.DATASOURCE_PROVIDER_NOTIFICATION_KEY);this.m_formulaItems=e.FeFormulaItemsProvider.createNonDeprecatedFormulaItemsProvider(i);this.m_feConfiguration=t.getXObjectByKey(e.OuCalcCalculations.FE_CONFIGURATION);this.m_preferences=t.getXObjectByKeyExt(e.OuCalcCalculations.FORMULA_PREFERENCES,e.FePreferences.createDefault());this.buildUi();this.setupInterViewsCommunication()});return e.OuCalcComponentPluginWithSharedSpace.prototype.setupPlugin.call(this,t)};e.OuCalcPanelHierarchyWidget=function(){};e.OuCalcPanelHierarchyWidget.prototype=new e.OuAbstractCalcExpandablePanelWidget;e.OuCalcPanelHierarchyWidget.prototype._ff_c="OuCalcPanelHierarchyWidget";e.OuCalcPanelHierarchyWidget.create=function(t,i,o){return e.OuCalcPanelHierarchyWidget.createExt(t,i,o,false)};e.OuCalcPanelHierarchyWidget.createExt=function(t,i,o,n){let a=new e.OuCalcPanelHierarchyWidget;a.setupInternal(t,i,o,n);return a};e.OuCalcPanelHierarchyWidget.prototype.m_treeWidget=null;e.OuCalcPanelHierarchyWidget.prototype.addChildToCustomTree=function(t,i){let o=e.OuCalcCustomTreeWidgetItem.create(t.getUniqueKey(),this.createListItemContent(t),t.isEnabled(),t);i.addItem(o);e.XStream.of(t.getChildren()).forEach(e=>{this.addChildToCustomTree(e,o)})};e.OuCalcPanelHierarchyWidget.prototype.createHierarchyPanelItem=function(){let t=e.OuCalcTreePanelItem.createRoot();let i=e.XHashMapByString.create();e.XCollectionUtils.forEach(this.m_panelItems,t=>{i.put(t.getUniqueKey(),e.OuCalcTreePanelItem.createWithItem(t))});e.XCollectionUtils.forEach(this.m_panelItems,e=>{let o=i.getByKey(e.getUniqueKey());if(o.getParentId().isPresent()){if(i.containsKey(o.getParentId().get())){i.getByKey(o.getParentId().get()).addChild(o)}}else{t.addChild(o)}});while(true){let o=e.XStream.of(i.getValuesAsReadOnlyList()).filter(e=>e.isLeaf()&&!e.isEnabled()).collect(e.XStreamCollector.toList());if(o.size()===0){break}e.XStream.of(o).forEach(e=>{if(e.getParent().isPresent()){e.getParent().get().removeChild(e)}else{t.removeChild(e)}i.remove(e.getUniqueKey())})}return t};e.OuCalcPanelHierarchyWidget.prototype.destroyWidget=function(){if(e.notNull(this.m_treeWidget)){this.m_treeWidget=e.XObjectExt.release(this.m_treeWidget)}e.OuAbstractCalcExpandablePanelWidget.prototype.destroyWidget.call(this)};e.OuCalcPanelHierarchyWidget.prototype.filterItems=function(e){this.m_treeWidget.filterItems(t=>{let i=t.getCustomObject();let o=this.isPanelItemVisible(i,e);if(o){t.getParent().ifPresent(e=>{e.setExpanded(true)})}return o});if(this.m_hideIfEmpty){this.setVisible(this.hasVisibleItems())}};e.OuCalcPanelHierarchyWidget.prototype.getListItemLabel=function(e){return e.getItem(0)};e.OuCalcPanelHierarchyWidget.prototype.hasVisibleItems=function(){return this.m_treeWidget.hasVisibleItems()};e.OuCalcPanelHierarchyWidget.prototype.layoutWidget=function(t){e.OuAbstractCalcExpandablePanelWidget.prototype.layoutWidget.call(this,t);this.m_panel.addCssClass("ffFeHierarchyPanel");this.m_treeWidget.renderView(this.getGenesis());this.m_panel.setContent(this.m_treeWidget.getView());this.m_treeWidget.addOnItemClick(e=>{this.fireOnChange(e.getCustomObject())});this.m_treeWidget.addOnItemDoubleClick(e=>{this.fireOnSelect(e.getCustomObject())})};e.OuCalcPanelHierarchyWidget.prototype.setupWidget=function(){e.OuAbstractCalcExpandablePanelWidget.prototype.setupWidget.call(this);this.m_treeWidget=e.OuCalcCustomTreeWidget.create();let t=this.createHierarchyPanelItem();e.XStream.of(t.getChildren()).forEach(e=>{this.addChildToCustomTree(e,this.m_treeWidget)});t.releaseObject()};e.OuCalcPanelHierarchyWidget.prototype.updateListItemsText=function(){this.m_treeWidget.applyToItems(e=>{this.updateItemLabel(e.getContent(),e.getCustomObject())})};e.OuCalcPanelListWidget=function(){};e.OuCalcPanelListWidget.prototype=new e.OuAbstractCalcExpandablePanelWidget;e.OuCalcPanelListWidget.prototype._ff_c="OuCalcPanelListWidget";e.OuCalcPanelListWidget.create=function(t,i,o){return e.OuCalcPanelListWidget.createExt(t,i,o,false)};e.OuCalcPanelListWidget.createExt=function(t,i,o,n){let a=new e.OuCalcPanelListWidget;a.setupInternal(t,i,o,n);return a};e.OuCalcPanelListWidget.prototype.m_list=null;e.OuCalcPanelListWidget.prototype.destroyWidget=function(){this.m_list=e.XObjectExt.release(this.m_list);e.OuAbstractCalcExpandablePanelWidget.prototype.destroyWidget.call(this)};e.OuCalcPanelListWidget.prototype.filterItems=function(e){for(let t=0;t<this.m_list.getNumberOfItems();t++){let i=this.m_list.getItem(t).getCustomObject();let o=this.isPanelItemVisible(i,e);this.m_list.getItem(t).setVisible(o)}if(this.m_hideIfEmpty){this.setVisible(this.hasVisibleItems())}};e.OuCalcPanelListWidget.prototype.hasVisibleItems=function(){return e.XStream.of(this.m_list.getItems()).anyMatch(e=>e.isVisible())};e.OuCalcPanelListWidget.prototype.layoutWidget=function(t){e.OuAbstractCalcExpandablePanelWidget.prototype.layoutWidget.call(this,t);this.m_panel.addCssClass("ffFeFlatListPanel");this.m_list=this.m_panel.setNewContent(e.UiType.LIST);e.XCollectionUtils.forEach(this.m_panelItems,e=>{if(e.isEnabled()){this.m_list.addItem(this.createListItem(e))}})};e.OuCalcPanelListWidget.prototype.updateListItemsText=function(){for(let e=0;e<this.m_list.getNumberOfItems();e++){let t=this.m_list.getItem(e);this.updateItemLabel(t,t.getCustomObject())}};e.OuDataProviderActionListPlugin=function(){};e.OuDataProviderActionListPlugin.prototype=new e.DfOuDataProviderComponentPlugin;e.OuDataProviderActionListPlugin.prototype._ff_c="OuDataProviderActionListPlugin";e.OuDataProviderActionListPlugin.PLUGIN_NAME="DataProviderActionList";e.OuDataProviderActionListPlugin.prototype.m_actionList=null;e.OuDataProviderActionListPlugin.prototype.m_console=null;e.OuDataProviderActionListPlugin.prototype.m_currentDataProvider=null;e.OuDataProviderActionListPlugin.prototype.m_executeButton=null;e.OuDataProviderActionListPlugin.prototype.m_parameterForm=null;e.OuDataProviderActionListPlugin.prototype._buildParameterSection=function(t){this.m_parameterForm.clearFormItems();if(e.XStringUtils.isNullOrEmpty(t)){return}let i=this.m_currentDataProvider.getActions().getActionManifest(t);let o=i.getParameterList();for(let t=0;t<o.size();t++){let i=o.get(t);let n=i.getDisplayName();if(e.XStringUtils.isNullOrEmpty(n)){n=i.getName()}this.m_parameterForm.addInput(i.getName(),null,n)}};e.OuDataProviderActionListPlugin.prototype._executeDpAction=function(t){let i=e.XList.create();let o=this.m_parameterForm.getJsonModel();let n=o.getKeysAsIterator();while(n.hasNext()){let e=n.next();let t=o.getStringByKey(e);i.add(t)}let a=this.m_currentDataProvider.getStringActions();let r=a.executeActionByName(t,i).onThen(i=>{this.setToConsole(e.XStringUtils.concatenate2(t," success"));if(e.notNull(i)){this.appendToConsole(i.toString())}});r.onCatch(t=>{this.setToConsole(e.notNull(t)?t.getText():null)})};e.OuDataProviderActionListPlugin.prototype._updateDataProvider=function(e){this.m_currentDataProvider=e;this._updateUi()};e.OuDataProviderActionListPlugin.prototype._updateUi=function(){this.m_actionList.clearItems();this.m_parameterForm.clearFormItems();this.m_executeButton.setEnabled(false);if(e.isNull(this.m_currentDataProvider)){return}let t=e.XComparatorLambda.create((t,i)=>e.XIntegerValue.create(e.XString.compare(t.getDisplayName(),i.getDisplayName())));let i=this.m_currentDataProvider.getActions().getActionManifests().createListCopy();i.sortByComparator(t);for(let e=0;e<i.size();e++){let t=i.get(e);let o=this.m_actionList.addNewItem();o.setName(t.getName());o.setText(t.getDisplayName())}};e.OuDataProviderActionListPlugin.prototype.appendToConsole=function(t){let i=e.XStringBuffer.create();i.append(this.m_console.getText());i.appendLine(t);this.m_console.setText(i.toString())};e.OuDataProviderActionListPlugin.prototype.buildDataProviderPluginUi=function(t){let i=t.newRoot(e.UiType.FLEX_LAYOUT);i.setDirection(e.UiFlexDirection.COLUMN);let o=i.addNewItemOfType(e.UiType.FLEX_LAYOUT);o.setDirection(e.UiFlexDirection.ROW);o.setJustifyContent(e.UiFlexJustifyContent.END);let n=i.addNewItemOfType(e.UiType.INTERACTIVE_SPLITTER);n.setOrientation(e.UiOrientation.VERTICAL);n.setEnableReordering(false);n.setFlex("auto");let a=n.addNewItem();let r=a.setNewContent(e.UiType.INTERACTIVE_SPLITTER);r.setOrientation(e.UiOrientation.HORIZONTAL);r.setEnableReordering(false);r.setFlex("auto");let l=r.addNewItem();l.setDraggable(false);this.m_actionList=l.setNewContent(e.UiType.LIST);this.m_actionList.useMaxSpace();this.m_actionList.setSelectionMode(e.UiSelectionMode.SINGLE_SELECT_MASTER);this.m_actionList.registerOnSelectionChange(e.UiLambdaSelectionChangeListener.create(t=>{let i=t.getSelectedName();this.m_executeButton.setEnabled(e.XStringUtils.isNotNullAndNotEmpty(i));this._buildParameterSection(i)}));let s=r.addNewItem();let u=s.setNewContent(e.UiType.FLEX_LAYOUT);u.setDirection(e.UiFlexDirection.COLUMN);this.m_parameterForm=e.UiForm.create(t);this.m_parameterForm.getView().useMaxSpace();u.addItem(this.m_parameterForm.getView());let m=u.addNewItemOfType(e.UiType.FLEX_LAYOUT);m.setDirection(e.UiFlexDirection.ROW);m.useMaxWidth();m.setJustifyContent(e.UiFlexJustifyContent.END);this.m_executeButton=m.addNewItemOfType(e.UiType.BUTTON);this.m_executeButton.setText("Run");this.m_executeButton.setButtonType(e.UiButtonType.PRIMARY);this.m_executeButton.setEnabled(false);this.m_executeButton.registerOnPress(e.UiLambdaPressListener.create(e=>{this._executeDpAction(this.m_actionList.getSelectedName())}));let p=n.addNewItem();let d=p.setNewContent(e.UiType.SCROLL_CONTAINER);d.setHorizontalScrolling(true);d.setVerticalScrolling(true);d.useMaxSpace();this.m_console=d.setNewContent(e.UiType.TEXT);this.m_console.addCssClass("dpActionListConsole")};e.OuDataProviderActionListPlugin.prototype.getPluginCategory=function(){return e.HuPluginCategory.OLAP};e.OuDataProviderActionListPlugin.prototype.getPluginName=function(){return e.OuDataProviderActionListPlugin.PLUGIN_NAME};e.OuDataProviderActionListPlugin.prototype.onDataProviderModelChange=function(e,t){this._updateDataProvider(e)};e.OuDataProviderActionListPlugin.prototype.onDataProviderReady=function(e){this.m_console.setText("");this._updateDataProvider(e)};e.OuDataProviderActionListPlugin.prototype.onDataProviderReleased=function(e){this.m_console.setText("");this._updateDataProvider(null)};e.OuDataProviderActionListPlugin.prototype.onDataProviderResultDataFetch=function(e,t){};e.OuDataProviderActionListPlugin.prototype.onDataProviderVizChange=function(e,t){};e.OuDataProviderActionListPlugin.prototype.setToConsole=function(e){this.m_console.setText(e)};e.OuDataProviderCreator=function(){};e.OuDataProviderCreator.prototype=new e.DfUiProgram;e.OuDataProviderCreator.prototype._ff_c="OuDataProviderCreator";e.OuDataProviderCreator.BUTTON_CREATE="DataProviderCreator_CreateBtn";e.OuDataProviderCreator.BUTTON_DATA_SOURCE="DataProviderCreator_SelectDataSourceBtn";e.OuDataProviderCreator.CHECKBOX_ADD_TO_DP_POOL="DataProviderCreator_AddToDPPoolChkBox";e.OuDataProviderCreator.CHECKBOX_ADD_TO_SHARED_SPACE="DataProviderCreator_AddToSharedSpaceChkBox";e.OuDataProviderCreator.DEFAULT_PROGRAM_NAME="DataProviderCreator";e.OuDataProviderCreator.INPUT_DP_NAME="DataProviderCreator_DPNameInput";e.OuDataProviderCreator.LABEL_DATA_SOURCE="DataProviderCreator_DataSourceLbl";e.OuDataProviderCreator.PRG_DATA_APPLICATION="application";e.OuDataProviderCreator.PRG_DATA_CREATED_DATA_PROVIDERS="createdDataProviders";e.OuDataProviderCreator.createRunnerForContainerType=function(t,i){let o=e.ProgramRunner.createRunner(t,e.OuDataProviderCreator.DEFAULT_PROGRAM_NAME);o.setContainerType(i);return o};e.OuDataProviderCreator.prototype.m_addToDPPoolChkBox=null;e.OuDataProviderCreator.prototype.m_addToSharedSpaceChkBox=null;e.OuDataProviderCreator.prototype.m_app=null;e.OuDataProviderCreator.prototype.m_createBtn=null;e.OuDataProviderCreator.prototype.m_createdDataProviders=null;e.OuDataProviderCreator.prototype.m_dataProvider=null;e.OuDataProviderCreator.prototype.m_dataSourceLabel=null;e.OuDataProviderCreator.prototype.m_dpNameInput=null;e.OuDataProviderCreator.prototype.m_form=null;e.OuDataProviderCreator.prototype.m_mainLayout=null;e.OuDataProviderCreator.prototype.m_messagesLayout=null;e.OuDataProviderCreator.prototype.m_selectDataSourceBtn=null;e.OuDataProviderCreator.prototype.m_selectedDataSource=null;e.OuDataProviderCreator.prototype._addToSharedSpace=function(t,i){let o=this.m_form.getJsonModel().getBooleanByKey(e.OuDataProviderCreator.CHECKBOX_ADD_TO_SHARED_SPACE);if(o){let o=this.getProcessSharedDataSpace(e.OuDataProviderCommandPlugin.DEFAULT_SHARED_SPACE_NAME);if(e.notNull(o)){let n=o.getXObjectByKey(e.OuDataProviderCommandPlugin.SPACE_STORAGE);if(e.notNull(n)){if(n.getActiveDataProviders().containsKey(t)){i.put(this.getLocalization().getText(e.OuDataProviderCreatorI18n.DP_NAME_ALREADY_EXISTS_IN_SHARED_SPACE),e.UiMessageType.ERROR)}else{n.putActiveDataProvider(t,this.m_dataProvider);i.put(this.getLocalization().getText(e.OuDataProviderCreatorI18n.ADDED_TO_SHARED_SPACE_SUCCESS),e.UiMessageType.SUCCESS)}}}else{i.put(this.getLocalization().getText(e.OuDataProviderCreatorI18n.SHARED_SPACE_NOT_FOUND),e.UiMessageType.ERROR)}}};e.OuDataProviderCreator.prototype._buildLayoutUi=function(){this.m_form=e.UiForm.create(this.getGenesis());let t=this.getLocalization().getText(e.OuDataProviderCreatorI18n.DATA_SOURCE_LABEL);this.m_dataSourceLabel=this.m_form.addFormLabel(e.OuDataProviderCreator.LABEL_DATA_SOURCE,t,t);let i=this.getLocalization().getText(e.OuDataProviderCreatorI18n.SELECT);this.m_selectDataSourceBtn=this.m_form.addFormButton(e.OuDataProviderCreator.BUTTON_DATA_SOURCE,i,i,null,this._chooseDataSource.bind(this));this.m_selectDataSourceBtn.setButtonType(e.UiButtonType.ATTENTION);let o=this.getLocalization().getText(e.OuDataProviderCreatorI18n.DP_NAME);this.m_dpNameInput=this.m_form.addInput(e.OuDataProviderCreator.INPUT_DP_NAME,null,o);this.m_dpNameInput.setRequired(true);this.m_dpNameInput.setLabelFontWeight(e.UiFontWeight.BOLD);let n=(e,t)=>{this._updateUiState()};this.m_dpNameInput.setValueChangedConsumer(n);let a=this.getLocalization().getText(e.OuDataProviderCreatorI18n.ADD_TO_SHARED_SPACE);this.m_addToSharedSpaceChkBox=this.m_form.addCheckbox(e.OuDataProviderCreator.CHECKBOX_ADD_TO_SHARED_SPACE,false,a);this.m_addToSharedSpaceChkBox.setEnabled(false);this.m_addToSharedSpaceChkBox.setValueChangedConsumer(n);let r=this.getLocalization().getText(e.OuDataProviderCreatorI18n.ADD_TO_DP_POOL);this.m_addToDPPoolChkBox=this.m_form.addCheckbox(e.OuDataProviderCreator.CHECKBOX_ADD_TO_DP_POOL,true,r);this.m_addToDPPoolChkBox.setEnabled(false);this.m_addToDPPoolChkBox.setValue(e.XBooleanValue.create(true));this.m_addToDPPoolChkBox.setValueChangedConsumer(n);let l=this.getLocalization().getText(e.XCommonI18n.CREATE);this.m_createBtn=this.m_form.addFormButton(e.OuDataProviderCreator.BUTTON_CREATE,l,l,null,this._onCreatePressed.bind(this));this.m_createBtn.setEnabled(false);let s=this.m_form.getView();s.setPadding(e.UiCssBoxEdges.create("1rem"));this.m_mainLayout.addItem(s);let u=this.m_mainLayout.addNewItemOfType(e.UiType.TITLE);u.setText(this.getLocalization().getText(e.OuDataProviderCreatorI18n.MESSAGES)).setPadding(e.UiCssBoxEdges.create("0.25rem 1rem"));this.m_messagesLayout=this.m_mainLayout.addNewItemOfType(e.UiType.FLEX_LAYOUT);this.m_messagesLayout.setDirection(e.UiFlexDirection.COLUMN).setPadding(e.UiCssBoxEdges.create("0.125rem 1rem")).setHeight(e.UiCssLength.create("5.5rem")).setOverflow(e.UiOverflow.AUTO)};e.OuDataProviderCreator.prototype._chooseDataSource=function(){this.m_selectedDataSource=null;this.m_dataSourceLabel.setText(this.getLocalization().getText(e.OuDataProviderCreatorI18n.DATA_SOURCE_LABEL));this.m_selectDataSourceBtn.setButtonType(e.UiButtonType.ATTENTION);this.m_dpNameInput.setValue(null);this.m_createBtn.setEnabled(false);this.m_messagesLayout.clearItems();let t=e.ProgramStartData.create();t.putXObject(e.AuDatasourcePicker.PRG_DATA_LISTENER,this);t.putXObject(e.AuDatasourcePicker.PRG_DATA_APPLICATION,this.getApplication());let i=e.ProgramRunner.createRunner(this.getProcess(),e.AuDatasourcePicker.DEFAULT_PROGRAM_NAME);i.setStringArgument(e.AuDatasourcePicker.PARAM_SYSTEM,null);i.setProgramStartData(t);i.runProgram()};e.OuDataProviderCreator.prototype._getDataProviderName=function(){return this.m_form.getJsonModel().getStringByKey(e.OuDataProviderCreator.INPUT_DP_NAME)};e.OuDataProviderCreator.prototype._onCreatePressed=function(){this.m_messagesLayout.clearItems();let t=this.m_messagesLayout.addNewItemOfType(e.UiType.MESSAGE_STRIP);t.setText("Processing").setMessageType(e.UiMessageType.INFORMATION).setShowIcon(true).setShowCloseButton(false).setMargin(e.UiCssBoxEdges.create("0.25rem 0rem"));let i=e.XHashMapByString.create();let o=this._getDataProviderName();if(e.notNull(this.m_selectedDataSource)&&e.XStringUtils.isNotNullAndNotEmpty(o)){if(e.isNull(this.m_app)){this.m_app=e.ApplicationFactory.createApplication(this.getProcess().getKernel().getProcess())}let n=e.OuDataProviderConfiguration.createConfig(this.m_app,this.m_selectedDataSource);n.setDataProviderName(o);n.setShouldAddToDataProviderPool(this.m_form.getJsonModel().getBooleanByKey(e.OuDataProviderCreator.CHECKBOX_ADD_TO_DP_POOL));e.OuDataProviderFactory.createDataProviderFromSource(n).onThen(t=>{this.m_dataProvider=t;this._addToSharedSpace(o,i);this.m_createdDataProviders.add(t);let n=i.getKeysAsReadOnlyList();this.m_messagesLayout.clearItems();e.XCollectionUtils.forEach(n,t=>{let o=this.m_messagesLayout.addNewItemOfType(e.UiType.MESSAGE_STRIP);o.setText(t).setMessageType(i.getByKey(t)).setShowIcon(true).setShowCloseButton(false).setMargin(e.UiCssBoxEdges.create("0.25rem 0rem"))})}).onCatch(i=>{t.setText("Processing").setMessageType(e.UiMessageType.INFORMATION)})}};e.OuDataProviderCreator.prototype._updateUiState=function(){let t=this._getDataProviderName()!==null;this.m_addToSharedSpaceChkBox.setEnabled(t);this.m_addToDPPoolChkBox.setEnabled(t);let i=this.m_form.getJsonModel().getBooleanByKey(e.OuDataProviderCreator.CHECKBOX_ADD_TO_SHARED_SPACE);let o=this.m_form.getJsonModel().getBooleanByKey(e.OuDataProviderCreator.CHECKBOX_ADD_TO_DP_POOL);this.m_createBtn.setEnabled(t&&e.notNull(this.m_selectedDataSource)&&(i||o))};e.OuDataProviderCreator.prototype.buildUi=function(t){this.setTitle(this.getLocalization().getText(e.OuDataProviderCreatorI18n.TITLE));this.m_mainLayout=t.newControl(e.UiType.FLEX_LAYOUT).setDirection(e.UiFlexDirection.COLUMN).setPadding(e.UiCssBoxEdges.create("0.5rem 1rem"));this._buildLayoutUi();t.setRoot(this.m_mainLayout)};e.OuDataProviderCreator.prototype.getDialogButtons=function(t){let i=t.newControl(e.UiType.DIALOG_BUTTON);i.setText("Close");i.setButtonType(e.UiButtonType.PRIMARY);i.registerOnPress(e.UiLambdaPressListener.create(t=>{let i=e.ProgramExitData.create();if(e.notNull(this.m_dataProvider)){i.putXObject(e.OuDataProviderCreator.PRG_DATA_CREATED_DATA_PROVIDERS,this.m_createdDataProviders)}this.terminateWithExitData(i)}));let o=e.XList.create();o.add(i);return o};e.OuDataProviderCreator.prototype.getProgramName=function(){return e.OuDataProviderCreator.DEFAULT_PROGRAM_NAME};e.OuDataProviderCreator.prototype.newProgram=function(){let t=new e.OuDataProviderCreator;t.setup();return t};e.OuDataProviderCreator.prototype.onContainerAfterOpen=function(){if(e.notNull(this.m_selectDataSourceBtn)){this.m_selectDataSourceBtn.focus()}};e.OuDataProviderCreator.prototype.onDatasourceSelected=function(t){this.m_selectedDataSource=t;this.m_dataSourceLabel.setText(e.XStringUtils.concatenate3(this.getLocalization().getText(e.OuDataProviderCreatorI18n.DATA_SOURCE_LABEL)," ",t.getName()));this.m_selectDataSourceBtn.setButtonType(e.UiButtonType.SUCCESS)};e.OuDataProviderCreator.prototype.prepareProgramMetadata=function(e){};e.OuDataProviderCreator.prototype.processArguments=function(e){};e.OuDataProviderCreator.prototype.processConfiguration=function(e){};e.OuDataProviderCreator.prototype.releaseObject=function(){this.m_app=null;this.m_selectedDataSource=null;this.m_dataProvider=null;this.m_createdDataProviders.clear();this.m_createdDataProviders=e.XObjectExt.release(this.m_createdDataProviders);this.m_dataSourceLabel=e.XObjectExt.release(this.m_dataSourceLabel);this.m_selectDataSourceBtn=e.XObjectExt.release(this.m_selectDataSourceBtn);this.m_dpNameInput=e.XObjectExt.release(this.m_dpNameInput);this.m_addToSharedSpaceChkBox=e.XObjectExt.release(this.m_addToSharedSpaceChkBox);this.m_addToDPPoolChkBox=e.XObjectExt.release(this.m_addToDPPoolChkBox);this.m_createBtn=e.XObjectExt.release(this.m_createBtn);this.m_form=e.XObjectExt.release(this.m_form);this.m_messagesLayout=e.XObjectExt.release(this.m_messagesLayout);this.m_mainLayout=e.XObjectExt.release(this.m_mainLayout);e.DfUiProgram.prototype.releaseObject.call(this)};e.OuDataProviderCreator.prototype.setupProgram=function(){if(this.getStartData()!==null){this.m_app=this.getStartData().getXObjectByKey(e.OuDataProviderCreator.PRG_DATA_APPLICATION)}this.m_createdDataProviders=e.XList.create();return null};e.OuInventoryProgram=function(){};e.OuInventoryProgram.prototype=new e.DfUiProgram;e.OuInventoryProgram.prototype._ff_c="OuInventoryProgram";e.OuInventoryProgram.PARAM_DATA_PROVIDER_NAME="dataProviderName";e.OuInventoryProgram.PROGRAM_NAME="Inventory";e.OuInventoryProgram.prototype.m_dataProviderName=null;e.OuInventoryProgram.prototype.m_view=null;e.OuInventoryProgram.prototype.buildUi=function(t){let i=e.OuInventoryViewConfiguration.createInventoryViewConfig(this.getApplication());this.m_view=e.OuInventoryView.createView(this.getProcess(),t,i);if(e.notNull(this.m_dataProviderName)){let e=this.setDataProviderFromPool();e.addChangeConsumer(this.onDataProviderPoolChange.bind(this))}t.setRoot(this.m_view.getView())};e.OuInventoryProgram.prototype.getProgramName=function(){return e.OuInventoryProgram.PROGRAM_NAME};e.OuInventoryProgram.prototype.newProgram=function(){let t=new e.OuInventoryProgram;t.setup();return t};e.OuInventoryProgram.prototype.onDataProviderPoolChange=function(t){if(e.XString.isEqual(this.m_dataProviderName,t)){this.setDataProviderFromPool()}};e.OuInventoryProgram.prototype.prepareProgramMetadata=function(t){t.addParameter(e.OuInventoryProgram.PARAM_DATA_PROVIDER_NAME,"The name of the data provider to use.")};e.OuInventoryProgram.prototype.processArguments=function(t){this.m_dataProviderName=this.getArgumentStructure().getStringByKey(e.OuInventoryProgram.PARAM_DATA_PROVIDER_NAME)};e.OuInventoryProgram.prototype.processConfiguration=function(e){};e.OuInventoryProgram.prototype.setDataProviderFromPool=function(){let t=this.getProcess().getSubSystem(e.SubSystemType.DATA_PROVIDER_POOL);let i=t.getDataProviderByName(this.m_dataProviderName);this.m_view.setDataProvider(e.OuDataProviderOlapAccess.getOlapInterface(i));this.m_view.updateUi();return t};e.OuInventoryProgram.prototype.setupProgram=function(){return null};e.OuVisualizationCreator=function(){};e.OuVisualizationCreator.prototype=new e.DfUiProgram;e.OuVisualizationCreator.prototype._ff_c="OuVisualizationCreator";e.OuVisualizationCreator.BUTTON_CREATE="VisualizationCreator_CreateButton";e.OuVisualizationCreator.DEFAULT_PROGRAM_NAME="VisualizationCreator";e.OuVisualizationCreator.DROPDOWN_DATA_PROVIDER="VisualizationCreator_DPDropdown";e.OuVisualizationCreator.DROPDOWN_VIZ_TYPE="VisualizationCreator_VizTypeDropdown";e.OuVisualizationCreator.INPUT_VIZ_NAME="VisualizationCreator_VizNameInput";e.OuVisualizationCreator.PARAM_DATA_PROVIDER_NAME="dataProviderName";e.OuVisualizationCreator.PARAM_HIDE_DP="hideDataProvider";e.OuVisualizationCreator.createRunnerForContainerType=function(t,i){let o=e.ProgramRunner.createRunner(t,e.OuVisualizationCreator.DEFAULT_PROGRAM_NAME);o.setContainerType(i);return o};e.OuVisualizationCreator.prototype.m_addDPSharedStorageListenerId=null;e.OuVisualizationCreator.prototype.m_changeDPPoolListenerId=null;e.OuVisualizationCreator.prototype.m_createButton=null;e.OuVisualizationCreator.prototype.m_dataProviderName=null;e.OuVisualizationCreator.prototype.m_dpNameDropdown=null;e.OuVisualizationCreator.prototype.m_form=null;e.OuVisualizationCreator.prototype.m_hideDpDropdown=false;e.OuVisualizationCreator.prototype.m_mainLayout=null;e.OuVisualizationCreator.prototype.m_messagesLayout=null;e.OuVisualizationCreator.prototype.m_removeDPSharedStorageListenerId=null;e.OuVisualizationCreator.prototype.m_visualizationNameInput=null;e.OuVisualizationCreator.prototype.m_visualizationTypeDropdown=null;e.OuVisualizationCreator.prototype._buildLayoutUi=function(){this.m_form=e.UiForm.create(this.getGenesis());let t=(e,t)=>{this.m_createButton.setEnabled(this._isCreateAllowed())};this.m_dpNameDropdown=this.m_form.addDropdown(e.OuVisualizationCreator.DROPDOWN_DATA_PROVIDER,this.m_dataProviderName,"Choose Data Provider",null,true);this.m_dpNameDropdown.setRequired(true);if(this.m_hideDpDropdown){this.m_dpNameDropdown.setVisible(false)}this.m_dpNameDropdown.setValueChangedConsumer(t);this._updateDataProviderMap();this._subscribeToDataProviderChanges();this.m_visualizationNameInput=this.m_form.addInput(e.OuVisualizationCreator.INPUT_VIZ_NAME,null,"Visualization Name");this.m_visualizationNameInput.setRequired(true);this.m_visualizationNameInput.setValueChangedConsumer(t);this.m_visualizationTypeDropdown=this.m_form.addDropdown(e.OuVisualizationCreator.DROPDOWN_VIZ_TYPE,null,"Visualization Type",null,true);this.m_visualizationTypeDropdown.setRequired(true);this.m_visualizationTypeDropdown.setValueChangedConsumer(t);this._populateVisualizationTypes();this.m_createButton=this.m_form.addFormButton(e.OuVisualizationCreator.BUTTON_CREATE,"Create Visualization","Create",null,this._createVisualization.bind(this));this.m_createButton.setEnabled(this._isCreateAllowed());let i=this.m_form.getView();i.setPadding(e.UiCssBoxEdges.create("0.5rem"));this.m_mainLayout.addItem(i);this.m_messagesLayout=this.m_mainLayout.addNewItemOfType(e.UiType.FLEX_LAYOUT);this.m_messagesLayout.setDirection(e.UiFlexDirection.COLUMN).setPadding(e.UiCssBoxEdges.create("0.125rem 1rem")).setHeight(e.UiCssLength.create("5.5rem")).setOverflow(e.UiOverflow.AUTO)};e.OuVisualizationCreator.prototype._createVisualization=function(){this.m_messagesLayout.clearItems();let t=this.m_messagesLayout.addNewItemOfType(e.UiType.MESSAGE_STRIP);t.setText("Processing").setMessageType(e.UiMessageType.INFORMATION).setShowIcon(true).setShowCloseButton(false).setMargin(e.UiCssBoxEdges.create("0.25rem 0rem"));let i=this.m_form.getJsonModel().getStringByKey(e.OuVisualizationCreator.DROPDOWN_DATA_PROVIDER);let o=this.m_form.getJsonModel().getStringByKey(e.OuVisualizationCreator.INPUT_VIZ_NAME);let n=this.m_form.getJsonModel().getStringByKey(e.OuVisualizationCreator.DROPDOWN_VIZ_TYPE);if(this._isCreateAllowed()){let a=this._getDataProvider(i);if(e.notNull(a)){let i=e.VisualizationType.lookup(n);let r=i===e.VisualizationType.CHART?e.ChartType.BAR:null;let l=i.getDefaultProtocolBindingType();a.getActions().getVisualizationActions().getOrCreateVisualizationDefinition(o,i,l,r).onThen(i=>{t.setText("Visualization definition created successfully.").setMessageType(e.UiMessageType.SUCCESS)}).onCatch(i=>{t.setText(i.getText()).setMessageType(e.UiMessageType.ERROR)})}else{t.setText("Data provider not found.").setMessageType(e.UiMessageType.ERROR)}}};e.OuVisualizationCreator.prototype._getDataProvider=function(t){let i=null;let o=this.getProcess().getDataProviderPool();if(e.notNull(o)){i=o.getDataProviderByName(t)}if(e.isNull(i)){let o=this.getProcessSharedDataSpace(e.OuDataProviderCommandPlugin.DEFAULT_SHARED_SPACE_NAME).getXObjectByKey(e.OuDataProviderCommandPlugin.SPACE_STORAGE);if(e.notNull(o)){i=o.getActiveDataProviders().getByKey(t)}}return i};e.OuVisualizationCreator.prototype._isCreateAllowed=function(){let t=this.m_form.getJsonModel().getStringByKey(e.OuVisualizationCreator.DROPDOWN_DATA_PROVIDER);let i=this.m_form.getJsonModel().getStringByKey(e.OuVisualizationCreator.INPUT_VIZ_NAME);let o=this.m_form.getJsonModel().getStringByKey(e.OuVisualizationCreator.DROPDOWN_VIZ_TYPE);return e.XStringUtils.isNotNullAndNotEmpty(t)&&e.XStringUtils.isNotNullAndNotEmpty(i)&&e.XStringUtils.isNotNullAndNotEmpty(o)};e.OuVisualizationCreator.prototype._populateVisualizationTypes=function(){let t=e.XHashMapByString.create();t.put(e.VisualizationType.GRID.getName(),e.VisualizationType.GRID.getName());t.put(e.VisualizationType.CHART.getName(),e.VisualizationType.CHART.getName());this.m_visualizationTypeDropdown.setDropdownItems(t)};e.OuVisualizationCreator.prototype._setupSharedDataSpace=function(){let t=this.getProcess();let i=t.getSharedDataSpace(e.OuDataProviderCommandPlugin.DEFAULT_SHARED_SPACE_NAME);if(e.isNull(i)){i=t.createSharedDataSpace(e.OuDataProviderCommandPlugin.DEFAULT_SHARED_SPACE_NAME)}if(!i.containsKey(e.OuDataProviderCommandPlugin.SPACE_STORAGE)){let t=e.OuDataProviderCPStorage.createDpStorage();i.putXObject(e.OuDataProviderCommandPlugin.SPACE_STORAGE,t)}};e.OuVisualizationCreator.prototype._subscribeToDataProviderChanges=function(){let t=this.getProcessSharedDataSpace(e.OuDataProviderCommandPlugin.DEFAULT_SHARED_SPACE_NAME).getXObjectByKey(e.OuDataProviderCommandPlugin.SPACE_STORAGE);let i=e=>{this._updateDataProviderMap()};this.m_addDPSharedStorageListenerId=t.getDataProviderAddListeners().addConsumer(i);this.m_removeDPSharedStorageListenerId=t.getDataProviderRemoveListeners().addConsumer(i);let o=this.getProcess().getDataProviderPool();if(e.notNull(o)){this.m_changeDPPoolListenerId=o.addChangeConsumer(e=>{this._updateDataProviderMap()})}};e.OuVisualizationCreator.prototype._unsubscribeFromDataProviderChanges=function(){let t=this.getProcessSharedDataSpace(e.OuDataProviderCommandPlugin.DEFAULT_SHARED_SPACE_NAME).getXObjectByKey(e.OuDataProviderCommandPlugin.SPACE_STORAGE);if(e.notNull(this.m_addDPSharedStorageListenerId)){t.getDataProviderAddListeners().removeConsumerByUuid(this.m_addDPSharedStorageListenerId)}if(e.notNull(this.m_removeDPSharedStorageListenerId)){t.getDataProviderRemoveListeners().removeConsumerByUuid(this.m_removeDPSharedStorageListenerId)}let i=this.getProcess().getDataProviderPool();if(e.notNull(i)&&e.notNull(this.m_changeDPPoolListenerId)){i.removeChangeConsumerByUuid(this.m_changeDPPoolListenerId)}};e.OuVisualizationCreator.prototype._updateDataProviderMap=function(){let t=e.XList.create();let i=this.getProcess().getDataProviderPool();if(e.notNull(i)){t.addAll(i.getAllDataProviderNames())}let o=this.getProcessSharedDataSpace(e.OuDataProviderCommandPlugin.DEFAULT_SHARED_SPACE_NAME).getXObjectByKey(e.OuDataProviderCommandPlugin.SPACE_STORAGE);if(e.notNull(o)){e.XCollectionUtils.forEach(o.getActiveDataProviders().getKeysAsReadOnlyList(),e=>{if(!t.contains(e)){t.add(e)}})}let n=e.XHashMapByString.create();e.XCollectionUtils.forEach(t,e=>{n.put(e,e)});this.m_dpNameDropdown.setDropdownItems(n);this.m_dpNameDropdown.setEmptyItemText("")};e.OuVisualizationCreator.prototype.buildUi=function(t){this.setTitle("Create visualization");this.m_mainLayout=t.newControl(e.UiType.FLEX_LAYOUT).setDirection(e.UiFlexDirection.COLUMN).setPadding(e.UiCssBoxEdges.create("0.5rem 1rem"));this._buildLayoutUi();t.setRoot(this.m_mainLayout)};e.OuVisualizationCreator.prototype.getDefaultContainerSize=function(){if(this.m_hideDpDropdown){return e.UiSize.createByCss("30rem","15rem")}else{return e.UiSize.createByCss("30rem","21rem")}};e.OuVisualizationCreator.prototype.getProgramName=function(){return e.OuVisualizationCreator.DEFAULT_PROGRAM_NAME};e.OuVisualizationCreator.prototype.newProgram=function(){let t=new e.OuVisualizationCreator;t.setup();return t};e.OuVisualizationCreator.prototype.prepareProgramMetadata=function(e){};e.OuVisualizationCreator.prototype.processArguments=function(t){this.m_dataProviderName=t.getStringByKey(e.OuVisualizationCreator.PARAM_DATA_PROVIDER_NAME);this.m_hideDpDropdown=t.getBooleanByKey(e.OuVisualizationCreator.PARAM_HIDE_DP)};e.OuVisualizationCreator.prototype.processConfiguration=function(e){};e.OuVisualizationCreator.prototype.releaseObject=function(){this._unsubscribeFromDataProviderChanges();this.m_dataProviderName=null;this.m_dpNameDropdown=e.XObjectExt.release(this.m_dpNameDropdown);this.m_visualizationNameInput=e.XObjectExt.release(this.m_visualizationNameInput);this.m_visualizationTypeDropdown=e.XObjectExt.release(this.m_visualizationTypeDropdown);this.m_createButton=e.XObjectExt.release(this.m_createButton);this.m_form=e.XObjectExt.release(this.m_form);this.m_mainLayout=e.XObjectExt.release(this.m_mainLayout);this.m_messagesLayout=e.XObjectExt.release(this.m_messagesLayout);e.DfUiProgram.prototype.releaseObject.call(this)};e.OuVisualizationCreator.prototype.setupProgram=function(){this._setupSharedDataSpace();return null};e.AuDatasourcePicker=function(){};e.AuDatasourcePicker.prototype=new e.DfUiDialogProgram;e.AuDatasourcePicker.prototype._ff_c="AuDatasourcePicker";e.AuDatasourcePicker.DEFAULT_PROGRAM_NAME="DatasourcePicker";e.AuDatasourcePicker.DS_PICKER_RECENT_KEY="dspRecent";e.AuDatasourcePicker.DS_PICKER_RECENT_KEY_2="dspRecent2";e.AuDatasourcePicker.MAX_RECENT_RECORDS=15;e.AuDatasourcePicker.PAGE_SIZE=25;e.AuDatasourcePicker.PARAM_SYSTEM="system";e.AuDatasourcePicker.PRG_DATA_APPLICATION="application";e.AuDatasourcePicker.PRG_DATA_LISTENER="listener";e.AuDatasourcePicker.prototype.m_app=null;e.AuDatasourcePicker.prototype.m_cancelBtn=null;e.AuDatasourcePicker.prototype.m_currentCatalogManager=null;e.AuDatasourcePicker.prototype.m_currentData=null;e.AuDatasourcePicker.prototype.m_currentPage=0;e.AuDatasourcePicker.prototype.m_left=null;e.AuDatasourcePicker.prototype.m_listener=null;e.AuDatasourcePicker.prototype.m_objectTypeDd=null;e.AuDatasourcePicker.prototype.m_querySearch=null;e.AuDatasourcePicker.prototype.m_queryTbl=null;e.AuDatasourcePicker.prototype.m_recentTbl=null;e.AuDatasourcePicker.prototype.m_right=null;e.AuDatasourcePicker.prototype.m_root=null;e.AuDatasourcePicker.prototype.m_startSystemName=null;e.AuDatasourcePicker.prototype.m_systemDd=null;e.AuDatasourcePicker.prototype.m_systemTypeDd=null;e.AuDatasourcePicker.prototype.m_systemsByType=null;e.AuDatasourcePicker.prototype.buildCatalogHeader=function(t){let i=t.addNewItemOfType(e.UiType.FLEX_LAYOUT);i.setJustifyContent(e.UiFlexJustifyContent.START);i.setAlignContent(e.UiFlexAlignContent.CENTER);let o=i.addNewItemOfType(e.UiType.FLEX_LAYOUT);o.setDirection(e.UiFlexDirection.COLUMN);o.setMargin(e.UiCssBoxEdges.create("5px"));o.setFlex("1 0 auto");let n=o.addNewItemOfType(e.UiType.LABEL);n.setText("System Type:");this.m_systemTypeDd=o.addNewItemOfType(e.UiType.COMBO_BOX);this.m_systemTypeDd.registerOnSelectionChange(this);let a=i.addNewItemOfType(e.UiType.FLEX_LAYOUT);a.setDirection(e.UiFlexDirection.COLUMN);a.setMargin(e.UiCssBoxEdges.create("5px"));a.setFlex("1 0 auto");let r=a.addNewItemOfType(e.UiType.LABEL);r.setText("System:");this.m_systemDd=a.addNewItemOfType(e.UiType.COMBO_BOX);this.m_systemDd.registerOnSelectionChange(this);let l=i.addNewItemOfType(e.UiType.FLEX_LAYOUT);l.setDirection(e.UiFlexDirection.COLUMN);l.setMargin(e.UiCssBoxEdges.create("5px"));l.setFlex("1 0 auto");let s=l.addNewItemOfType(e.UiType.LABEL);s.setText("Object Type:");this.m_objectTypeDd=l.addNewItemOfType(e.UiType.COMBO_BOX);this.m_objectTypeDd.registerOnSelectionChange(this);let u=e.MetaObjectType.getAll();while(u.hasNext()){let e=u.next();let t=this.m_objectTypeDd.addNewItem();t.setName(e.getName());t.setText(e.getCamelCaseName());t.setCustomObject(e)}let m=i.addNewItemOfType(e.UiType.FLEX_LAYOUT);m.setDirection(e.UiFlexDirection.COLUMN);m.setMargin(e.UiCssBoxEdges.create("5px"));m.setFlex("1 0 auto");let p=m.addNewItemOfType(e.UiType.LABEL);p.setText("Search:");this.m_querySearch=m.addNewItemOfType(e.UiType.SEARCH_FIELD);this.m_querySearch.registerOnSearch(this);this.m_querySearch.setName("DataSourcePickerSearch")};e.AuDatasourcePicker.prototype.buildCatalogUi=function(t){t.setText(this.getLocalization().getText(e.AuDatasourcePickerI18n.CATALOG));let i=t.setNewContent(e.UiType.FLEX_LAYOUT);i.setDirection(e.UiFlexDirection.COLUMN);this.buildCatalogHeader(i);let o=e.UiRowMode.createAuto();o.setMinRowCount(2);this.m_queryTbl=i.addNewItemOfType(e.UiType.TABLE);this.m_queryTbl.setName("DataSourcePickerTable");this.m_queryTbl.setFlex("auto");this.m_queryTbl.setTableSelectionMode(e.UiTableSelectionMode.SINGLE);this.m_queryTbl.setSelectionBehavior(e.UiSelectionBehavior.ROW);this.m_queryTbl.setRowMode(o);this.m_queryTbl.addNewColumn().setTitle("Name");this.m_queryTbl.addNewColumn().setTitle("Description");this.m_queryTbl.registerOnSelectionChange(this);let n=i.addNewItemOfType(e.UiType.FLEX_LAYOUT);n.setJustifyContent(e.UiFlexJustifyContent.CENTER);this.m_left=n.addNewItemOfType(e.UiType.BUTTON);this.m_left.setIcon("navigation-left-arrow");this.m_left.setPadding(e.UiCssBoxEdges.create("4px"));this.m_left.registerOnPress(this);this.m_right=n.addNewItemOfType(e.UiType.BUTTON);this.m_right.setIcon("navigation-right-arrow");this.m_right.setPadding(e.UiCssBoxEdges.create("4px"));this.m_right.registerOnPress(this)};e.AuDatasourcePicker.prototype.buildRecentUi=function(t){t.setText(this.getLocalization().getText(e.AuDatasourcePickerI18n.RECENT));let i=t.setNewContent(e.UiType.FLEX_LAYOUT);i.setDirection(e.UiFlexDirection.COLUMN);let o=e.UiRowMode.createAuto();o.setMinRowCount(2);this.m_recentTbl=i.addNewItemOfType(e.UiType.TABLE);this.m_recentTbl.setFlex("auto");this.m_recentTbl.setTableSelectionMode(e.UiTableSelectionMode.SINGLE);this.m_recentTbl.setSelectionBehavior(e.UiSelectionBehavior.ROW);this.m_recentTbl.setRowMode(o);this.m_recentTbl.addNewColumn().setTitle("Name");this.m_recentTbl.addNewColumn().setTitle("Description");this.m_recentTbl.addNewColumn().setTitle("Type");this.m_recentTbl.registerOnSelectionChange(this);this.m_recentTbl.setName("DataSourcePickerTable");let n=i.addNewItemOfType(e.UiType.FLEX_LAYOUT);n.setDirection(e.UiFlexDirection.ROW);let a=n.addNewItemOfType(e.UiType.BUTTON);a.setIcon("delete");let r=n.addNewItemOfType(e.UiType.BUTTON);r.setIcon("accept");r.setVisible(false);r.setMargin(e.UiCssBoxEdges.create("0 5px 0 0"));let l=n.addNewItemOfType(e.UiType.BUTTON);l.setIcon("cancel");l.setVisible(false);a.registerOnPress(e.UiLambdaPressListener.create(t=>{a.setVisible(false);r.setVisible(true);l.setVisible(true);this.m_recentTbl.setTableSelectionMode(e.UiTableSelectionMode.MULTI_TOGGLE);this.m_recentTbl.registerOnSelectionChange(null)}));let s=e.UiLambdaPressListener.create(t=>{a.setVisible(true);r.setVisible(false);l.setVisible(false);if(t.getControl()===r){let e=this.m_recentTbl.getSelectedItems();for(let t=0;t<e.size();t++){this.m_recentTbl.removeRow(e.get(t))}}this.m_recentTbl.setTableSelectionMode(e.UiTableSelectionMode.SINGLE);this.m_recentTbl.registerOnSelectionChange(this)});r.registerOnPress(s);l.registerOnPress(s);this.loadRecent()};e.AuDatasourcePicker.prototype.buildUi=function(t){this.m_root=t.newRoot(e.UiType.FLEX_LAYOUT);this.m_root.setDirection(e.UiFlexDirection.COLUMN);this.m_root.useMaxSpace();this.m_root.setPadding(e.UiCssBoxEdges.create("10px"));let i=this.m_root.addNewItemOfType(e.UiType.ICON_TAB_BAR);this.buildCatalogUi(i.addNewItem());this.buildRecentUi(i.addNewItem());let o=this.m_app.getSystemLandscape().getSystemDescription(this.m_startSystemName);this.fillSystemTypes();if(e.notNull(o)){this.m_systemTypeDd.setSelectedName(o.getSystemType().getName())}this.fillSystems();if(e.notNull(o)){this.m_systemDd.setSelectedName(o.getSystemName())}this.fillQueries()};e.AuDatasourcePicker.prototype.createCatalogManager=function(){let t=this.m_systemTypeDd.getSelectedName();let i=this.m_systemsByType.getByKey(t);if(e.isNull(i)){return}let o=this.m_systemDd.getSelectedName();let n=this.findSystem(i,o);if(e.isNull(n)){return}let a=e.OlapCatalogApiModule.SERVICE_TYPE_OLAP_CATALOG.createServiceConfig(this.m_app);a.setSystemName(o);this.m_queryTbl.setBusy(true);a.processOlapCatalogManagerCreation(e.SyncType.NON_BLOCKING,this,null)};e.AuDatasourcePicker.prototype.fillQueries=function(){this.m_querySearch.setEnabled(false);this.m_left.setEnabled(false);this.m_right.setEnabled(false);this.m_currentPage=0;this.m_queryTbl.clearRows();e.XObjectExt.release(this.m_currentCatalogManager);let t=this.m_systemDd.getSelectedName();if(e.XStringUtils.isNullOrEmpty(t)){return}this.createCatalogManager()};e.AuDatasourcePicker.prototype.fillSystemTypes=function(){this.m_systemTypeDd.clearItems();this.m_systemTypeDd.addNewItem();let e=this.m_systemsByType.getKeysAsReadOnlyList();for(let t=0;t<e.size();t++){let i=e.get(t);let o=this.m_systemTypeDd.addNewItem();o.setName(i).setText(i)}};e.AuDatasourcePicker.prototype.fillSystems=function(){this.m_systemDd.setEnabled(false);this.m_systemDd.clearItems();this.m_objectTypeDd.setEnabled(false);this.m_objectTypeDd.clearItems();this.m_systemDd.setSelectedItem(this.m_systemDd.addNewItem());let t=this.m_systemTypeDd.getSelectedName();if(e.XStringUtils.isNullOrEmpty(t)){return}let i=this.m_systemsByType.getByKey(t);for(let e=0;e<i.size();e++){let t=i.get(e);let o=this.m_systemDd.addNewItem();o.setName(t.getName()).setText(t.getName())}let o=e.SystemType.lookup(t);let n=this.getPossibleObjectType(o);for(let e=0;e<n.size();e++){let t=n.get(e);let i=this.m_objectTypeDd.addNewItem();i.setName(t.getName()).setText(t.getCamelCaseName());i.setCustomObject(t)}this.m_objectTypeDd.setSelectedName(n.get(0).getName());this.m_systemDd.setEnabled(true);this.m_objectTypeDd.setEnabled(true)};e.AuDatasourcePicker.prototype.findSystem=function(t,i){for(let o=0;o<t.size();o++){let n=t.get(o);if(e.XString.isEqual(i,n.getName())){return n}}return null};e.AuDatasourcePicker.prototype.getDialogButtons=function(t){this.m_cancelBtn=t.newControl(e.UiType.DIALOG_BUTTON);this.m_cancelBtn.setName("DataSourcePickerCancel");this.m_cancelBtn.setText("Cancel");this.m_cancelBtn.registerOnPress(this);let i=e.XList.create();i.add(this.m_cancelBtn);return i};e.AuDatasourcePicker.prototype.getPossibleObjectType=function(t){let i=e.XList.create();if(t.isTypeOf(e.SystemType.ABAP)){i.add(e.MetaObjectType.QUERY);i.add(e.MetaObjectType.CDS_PROJECTION_VIEW);i.add(e.MetaObjectType.DEFAULT_REPORT_QUERY);i.add(e.MetaObjectType.DEFAULT_PLAN_QUERY);i.add(e.MetaObjectType.FILTER);if(t===e.SystemType.BPCE||t===e.SystemType.BPCS){i.add(e.MetaObjectType.PLANNING_FUNCTION);i.add(e.MetaObjectType.PLANNING_SEQUENCE)}}else if(t.isTypeOf(e.SystemType.HANA)){if(t.isTypeOf(e.SystemType.ABAP_MDS)){i.add(e.MetaObjectType.QUERY)}else{i.add(e.MetaObjectType.DBVIEW);i.add(e.MetaObjectType.PLANNING);i.add(e.MetaObjectType.INA_MODEL)}}else if(t.isTypeOf(e.SystemType.VIRTUAL_INA)){i.add(e.MetaObjectType.DBVIEW)}else if(t.isTypeOf(e.SystemType.UNV)||t.isTypeOf(e.SystemType.UQAS)){i.add(e.MetaObjectType.UNX)}else{let t=e.MetaObjectType.getAll();while(t.hasNext()){i.add(t.next())}}return i};e.AuDatasourcePicker.prototype.getProgramName=function(){return e.AuDatasourcePicker.DEFAULT_PROGRAM_NAME};e.AuDatasourcePicker.prototype.isSACInternalSystem=function(t){let i=t.getProperties();if(e.isNull(i)){return false}if(!i.isValueDefined(e.ConnectionParameters.FPA_IS_CONNECTED)){return false}let o=i.getBooleanByKey(e.ConnectionParameters.FPA_IS_CONNECTED);let n=i.isValueDefined(e.ConnectionParameters.FPA_CONNECTION_TYPE);return o&&!n};e.AuDatasourcePicker.prototype.loadRecent=function(){this.m_recentTbl.clearRows();let t=this.getProcess().getLocalStorage().getStringByKey(e.AuDatasourcePicker.DS_PICKER_RECENT_KEY);if(e.XStringUtils.isNotNullAndNotEmpty(t)){this.loadRecentOld(t);return}t=this.getProcess().getLocalStorage().getStringByKey(e.AuDatasourcePicker.DS_PICKER_RECENT_KEY_2);if(e.XStringUtils.isNotNullAndNotEmpty(t)){let i=e.QInAImportFactory.createForRepository(this.getApplication(),null);let o=e.JsonParserFactory.createFromSafeString(t).asList();for(let t=0;t<o.size();t++){let n=o.get(t).asStructure();let a=i.importDataSource(n);if(e.isNull(a)){continue}let r=this.m_recentTbl.addNewRow();r.addNewCell().setText(a.getSystemName());r.addNewCell().setText(a.getName());r.addNewCell().setText(a.getType().getCamelCaseName());r.setCustomObject(a)}}};e.AuDatasourcePicker.prototype.loadRecentOld=function(t){let i=e.XStringTokenizer.splitString(t,";");for(let t=0;t<i.size();t++){let o=e.XStringTokenizer.splitString(i.get(t),",");if(e.isNull(o)||o.size()<2){continue}let n=o.get(0);let a=o.get(1);if(e.XStringUtils.isNullOrEmpty(n)||e.XStringUtils.isNullOrEmpty(a)){continue}let r=e.QFactory.createDataSourceWithFqn(a);r.setSystemName(n);if(r.getType()===null){continue}let l=this.m_recentTbl.addNewRow();l.addNewCell().setText(n);l.addNewCell().setText(r.getName());l.addNewCell().setText(r.getType().getCamelCaseName());l.setCustomObject(r)}this.getProcess().getLocalStorage().removeKey(e.AuDatasourcePicker.DS_PICKER_RECENT_KEY)};e.AuDatasourcePicker.prototype.newProgram=function(){let t=new e.AuDatasourcePicker;t.setup();return t};e.AuDatasourcePicker.prototype.onOlapCatalogManagerCreated=function(t,i,o){this.m_queryTbl.setBusy(false);if(t.hasErrors()){this.showError(t.getSummary());return}this.m_currentCatalogManager=t.getData();this.m_currentCatalogManager.setResultMaxSize(e.AuDatasourcePicker.PAGE_SIZE+1);let n=this.m_objectTypeDd.getSelectedItem();if(e.notNull(n)){this.m_currentCatalogManager.setSelectedType(n.getCustomObject())}this.processFetch();this.m_querySearch.setEnabled(true)};e.AuDatasourcePicker.prototype.onOlapCatalogResult=function(e,t,i){this.m_queryTbl.setBusy(false);if(e.hasErrors()){this.showError(e.getSummary());return}this.m_currentData=e.getData().getObjectsList();this.updateTable()};e.AuDatasourcePicker.prototype.onPress=function(e){let t=e.getControl();if(t===this.m_left){this.m_currentPage=this.m_currentPage-1;this.processFetch()}else if(t===this.m_right){this.m_currentPage=this.m_currentPage+1;this.processFetch()}else if(t===this.m_cancelBtn){this.saveRecent(null);this.exitNow(0)}};e.AuDatasourcePicker.prototype.onSearch=function(e){let t=e.getControl();if(t===this.m_querySearch){this.m_currentPage=0;this.processFetch()}};e.AuDatasourcePicker.prototype.onSelectionChange=function(t){let i=t.getControl();let o=i.getSelectedItem();if(i===this.m_queryTbl){let t=o.getCustomObject();let i=e.QFactory.createDataSource();i.setSystemName(this.m_systemDd.getSelectedName());i.setType(t.getType());i.setEnvironmentName(t.getEnvironmentName());i.setSchemaName(t.getSchemaName());i.setPackageName(t.getPackageName());i.setObjectName(t.getObjectName());this.saveRecent(i);if(e.notNull(this.m_listener)){this.m_listener.onDatasourceSelected(i)}this.exitNow(0)}else if(i===this.m_recentTbl){let t=o.getCustomObject();this.saveRecent(t);if(e.notNull(this.m_listener)){this.m_listener.onDatasourceSelected(t)}this.exitNow(0)}else if(i===this.m_systemTypeDd){this.fillSystems();this.fillQueries()}else if(i===this.m_systemDd){this.fillQueries()}else if(i===this.m_objectTypeDd&&e.notNull(this.m_currentCatalogManager)){let e=o.getCustomObject();this.m_currentCatalogManager.setSelectedType(e);this.processFetch()}};e.AuDatasourcePicker.prototype.prepareProgramMetadata=function(t){t.addParameter(e.AuDatasourcePicker.PARAM_SYSTEM,"The system that was picked earlier.")};e.AuDatasourcePicker.prototype.processArguments=function(t){let i=this.getArguments();this.m_startSystemName=i.getStringByKeyExt(e.AuDatasourcePicker.PARAM_SYSTEM,null);if(this.getStartData()!==null){this.m_app=this.getStartData().getXObjectByKey(e.AuDatasourcePicker.PRG_DATA_APPLICATION);this.m_listener=this.getStartData().getXObjectByKey(e.AuDatasourcePicker.PRG_DATA_LISTENER)}};e.AuDatasourcePicker.prototype.processConfiguration=function(e){};e.AuDatasourcePicker.prototype.processFetch=function(){this.m_currentCatalogManager.setSearchFilter(null);if(e.XStringUtils.isNotNullAndNotEmpty(this.m_querySearch.getValue())){let t=e.XStringUtils.concatenate3("*",this.m_querySearch.getValue(),"*");this.m_currentCatalogManager.setSearchFilter(t);this.m_currentCatalogManager.setSearchOnName(true)}this.m_currentCatalogManager.setResultOffset(this.m_currentPage*e.AuDatasourcePicker.PAGE_SIZE);this.m_queryTbl.setBusy(true);this.m_currentCatalogManager.processGetResult(e.SyncType.NON_BLOCKING,this,null)};e.AuDatasourcePicker.prototype.releaseObject=function(){this.m_systemsByType=e.XObjectExt.release(this.m_systemsByType);this.m_currentCatalogManager=e.XObjectExt.release(this.m_currentCatalogManager);this.m_currentData=e.XObjectExt.release(this.m_currentData);this.m_startSystemName=null;this.m_root=e.XObjectExt.release(this.m_root);this.m_systemTypeDd=null;this.m_systemDd=null;this.m_querySearch=null;this.m_queryTbl=null;this.m_left=null;this.m_right=null;this.m_recentTbl=null;this.m_cancelBtn=null;this.m_listener=null;e.DfUiDialogProgram.prototype.releaseObject.call(this)};e.AuDatasourcePicker.prototype.saveRecent=function(t){let i=e.QInAExportFactory.createForRepository(this.getApplication(),null);let o=e.PrList.create();let n=e.XList.create();if(e.notNull(t)){o.add(i.exportDataSource(t,false));n.add(t)}let a=this.m_recentTbl.getRows();for(let t=0;t<a.size()&&t<e.AuDatasourcePicker.MAX_RECENT_RECORDS-1;t++){let e=a.get(t);let r=e.getCustomObject();if(n.contains(r)){continue}o.add(i.exportDataSource(r,false));n.add(r)}let r=e.PrUtils.serialize(o,false,false,0);this.getProcess().getLocalStorage().putString(e.AuDatasourcePicker.DS_PICKER_RECENT_KEY_2,r)};e.AuDatasourcePicker.prototype.setupProgram=function(){if(e.isNull(this.m_app)){this.m_app=this.getApplication()}this.m_systemsByType=e.XHashMapByString.create();let t=this.getProcess().getSystemLandscape();let i=t.getSystemNames().getIterator();while(i.hasNext()){let o=i.next();let n=t.getSystemDescription(o);let a=n.getSystemType().getName();let r=this.m_systemsByType.getByKey(a);if(!this.isSACInternalSystem(n)){if(e.isNull(r)){r=e.XList.create();this.m_systemsByType.put(a,r)}r.add(n)}}e.XObjectExt.release(i);return null};e.AuDatasourcePicker.prototype.showError=function(e){this.getGenesis().showErrorToast(e)};e.AuDatasourcePicker.prototype.updatePageButtons=function(){this.m_left.setEnabled(this.m_currentPage>0);this.m_right.setEnabled(this.m_currentData.size()>e.AuDatasourcePicker.PAGE_SIZE)};e.AuDatasourcePicker.prototype.updateTable=function(){this.m_queryTbl.clearRows();for(let t=0;t<this.m_currentData.size();t++){if(t>=e.AuDatasourcePicker.PAGE_SIZE){break}let i=this.m_currentData.get(t);let o=this.m_queryTbl.addNewRow();o.addNewCell().setText(i.getName());o.addNewCell().setText(i.getText());o.setCustomObject(i)}this.updatePageButtons()};e.OuDimensionDialog=function(){};e.OuDimensionDialog.prototype=new e.DfUiDialogProgram;e.OuDimensionDialog.prototype._ff_c="OuDimensionDialog";e.OuDimensionDialog.ACTIVATE_SELECTION_BUTTON="activateSelectionButton";e.OuDimensionDialog.ACTIVE_ATTRIBUTE_LIST="attributeActiveList";e.OuDimensionDialog.ATTRIBUTE_INVENTORY_LIST="attributeInventoryList";e.OuDimensionDialog.DEACTIVATE_SELECTION_BUTTON="deactivateSelectionButton";e.OuDimensionDialog.DEFAULT_PROGRAM_NAME="DimensionDialog";e.OuDimensionDialog.FIELD_LAYOUT_DROPDOWN="fieldLayoutDropdown";e.OuDimensionDialog.READ_MODE_DROPDOWN="readModeDropdown";e.OuDimensionDialog.TECHNICAL_BUTTON="technicalButton";e.OuDimensionDialog.createRunner=function(){let t=e.KernelBoot.createByName(e.OuDimensionDialog.DEFAULT_PROGRAM_NAME);return t};e.OuDimensionDialog.getDdLocalization=function(){return e.XLocalizationCenter.getCenter().getLocalizationProviderByName(e.OuDimensionDialog.DEFAULT_PROGRAM_NAME)};e.OuDimensionDialog.prototype.m_activeAttributeList=null;e.OuDimensionDialog.prototype.m_attributeInventoryList=null;e.OuDimensionDialog.prototype.m_buttonActivateSelection=null;e.OuDimensionDialog.prototype.m_buttonDeactivateSelection=null;e.OuDimensionDialog.prototype.m_buttonMoveDown=null;e.OuDimensionDialog.prototype.m_buttonMoveUp=null;e.OuDimensionDialog.prototype.m_cancelBtn=null;e.OuDimensionDialog.prototype.m_cancelButton=null;e.OuDimensionDialog.prototype.m_ddLayout=null;e.OuDimensionDialog.prototype.m_detailFieldContainerLayout=null;e.OuDimensionDialog.prototype.m_dimension=null;e.OuDimensionDialog.prototype.m_dimensionModel=null;e.OuDimensionDialog.prototype.m_hierarchyContainer=null;e.OuDimensionDialog.prototype.m_listener=null;e.OuDimensionDialog.prototype.m_mainAttributeContainer=null;e.OuDimensionDialog.prototype.m_okBtn=null;e.OuDimensionDialog.prototype.m_okButton=null;e.OuDimensionDialog.prototype.m_sortContainer=null;e.OuDimensionDialog.prototype.m_totalsContainer=null;e.OuDimensionDialog.prototype.m_totalsIncludedContainer=null;e.OuDimensionDialog.prototype.m_totalsRemainingContainer=null;e.OuDimensionDialog.prototype.m_uiContext=null;e.OuDimensionDialog.prototype.buildUi=function(t){let i=t.newRoot(e.UiType.LABEL);i.setText("Unknown error occurred!");i.setWidth(e.UiCssLength.create("100%"));i.setHeight(e.UiCssLength.create("40em"));i.setPadding(e.UiCssBoxEdges.create("10px"));i.setBackgroundColor(e.UiColor.LAVENDER.newColorWithAlpha(.3));i.setTextAlign(e.UiTextAlign.CENTER);let o=this.getApplication().getUiManager();let n=e.OlapUiDisplayFactory.createFactoryForDialog(o);this.m_uiContext=e.OlapUiContext.createContext(o,n);if(e.notNull(this.m_dimensionModel)){this.m_dimensionModel.addListener(this);let i=e.OuDimensionDialog.getDdLocalization();if(this.m_dimensionModel.getMainAttribute()!==null){this.m_mainAttributeContainer=e.DdControllerFieldContainerCompact.createWithModelAndGenesis(this.getApplication(),this.m_uiContext,this.m_dimensionModel.getMainAttribute(),t)}this.m_ddLayout=e.DdDimensionDisplayLayoutCompact.createWithGenesis(t);let o=this.m_ddLayout.getDetailsTable();let n=o.addNewItemOfType(e.UiType.FLEX_LAYOUT);this.m_attributeInventoryList=n.addNewItemOfType(e.UiType.LIST).setName(e.OuDimensionDialog.ATTRIBUTE_INVENTORY_LIST);this.m_attributeInventoryList.setSelectionMode(e.UiSelectionMode.MULTI_SELECT);this.m_attributeInventoryList.registerOnSelectionChange(this).setHeight(e.UiCssLength.create("100%")).setWidth(e.UiCssLength.create("30%"));n.addNewItemOfType(e.UiType.SPACER).setHeight(e.UiCssLength.create("1em")).setWidth(e.UiCssLength.create("1em"));let a=n.addNewItemOfType(e.UiType.FLEX_LAYOUT).setDirection(e.UiFlexDirection.COLUMN).setWidth(e.UiCssLength.create("5%")).setHeight(e.UiCssLength.create("100%"));n.addNewItemOfType(e.UiType.SPACER).setHeight(e.UiCssLength.create("1em")).setWidth(e.UiCssLength.create("1em"));if(e.isNull(this.m_buttonDeactivateSelection)){this.m_buttonDeactivateSelection=a.addNewItemOfType(e.UiType.BUTTON);this.m_buttonDeactivateSelection.setTooltip(i.getText(e.DimensionDialogI18n.I18N_DD_DEACTIVATE_SELECTION));this.m_buttonDeactivateSelection.setIcon("slim-arrow-left");this.m_buttonDeactivateSelection.setName(e.OuDimensionDialog.DEACTIVATE_SELECTION_BUTTON);this.m_buttonDeactivateSelection.registerOnPress(this)}else{a.addItem(this.m_buttonDeactivateSelection)}if(e.isNull(this.m_buttonActivateSelection)){this.m_buttonActivateSelection=a.addNewItemOfType(e.UiType.BUTTON);this.m_buttonActivateSelection.setTooltip(i.getText(e.DimensionDialogI18n.I18N_DD_ACTIVATE_SELECTION));this.m_buttonActivateSelection.setIcon("slim-arrow-right");this.m_buttonActivateSelection.setName(e.OuDimensionDialog.ACTIVATE_SELECTION_BUTTON);this.m_buttonActivateSelection.registerOnPress(this)}else{a.addItem(this.m_buttonActivateSelection)}this.m_activeAttributeList=n.addNewItemOfType(e.UiType.LIST).setName(e.OuDimensionDialog.ACTIVE_ATTRIBUTE_LIST);this.m_activeAttributeList.registerOnSelectionChange(this).setHeight(e.UiCssLength.create("100%")).setWidth(e.UiCssLength.create("30%"));n.addNewItemOfType(e.UiType.SPACER).setHeight(e.UiCssLength.create("1em")).setWidth(e.UiCssLength.create("1em"));a=n.addNewItemOfType(e.UiType.FLEX_LAYOUT).setDirection(e.UiFlexDirection.COLUMN).setWidth(e.UiCssLength.create("5%")).setHeight(e.UiCssLength.create("100%"));n.addNewItemOfType(e.UiType.SPACER).setHeight(e.UiCssLength.create("1em")).setWidth(e.UiCssLength.create("1em"));if(e.isNull(this.m_buttonMoveUp)){this.m_buttonMoveUp=a.addNewItemOfType(e.UiType.BUTTON);this.m_buttonMoveUp.setTooltip(i.getText(e.DimensionDialogI18n.I18N_DD_MOVE_UP));this.m_buttonMoveUp.setIcon("slim-arrow-up");this.m_buttonMoveUp.setName(e.DdControllerAbstract.UP_BUTTON);this.m_buttonMoveUp.registerOnPress(this)}else{a.addItem(this.m_buttonMoveUp)}if(e.isNull(this.m_buttonMoveDown)){this.m_buttonMoveDown=a.addNewItemOfType(e.UiType.BUTTON);this.m_buttonMoveDown.setTooltip(i.getText(e.DimensionDialogI18n.I18N_DD_MOVE_DOWN));this.m_buttonMoveDown.setIcon("slim-arrow-down");this.m_buttonMoveDown.setName(e.DdControllerAbstract.DOWN_BUTTON);this.m_buttonMoveDown.registerOnPress(this)}else{a.addItem(this.m_buttonMoveDown)}this.m_detailFieldContainerLayout=n.addNewItemOfType(e.UiType.FLEX_LAYOUT).setDirection(e.UiFlexDirection.COLUMN).setHeight(e.UiCssLength.create("100%")).setWidth(e.UiCssLength.create("30%"));let r=e.XList.create();if(e.notNull(this.m_mainAttributeContainer)&&this.m_dimensionModel.getAvailableFieldLayoutTypes().contains(e.FieldLayoutType.ATTRIBUTE_BASED)||this.m_dimensionModel.getAvailableFieldLayoutTypes().contains(e.FieldLayoutType.ATTRIBUTES_AND_PRESENTATIONS)){r=this.m_mainAttributeContainer.getLayoutedControls()}r.add(t.newControl(e.UiType.SPACER).setHeight(e.UiCssLength.create("1em")));let l=t.newControl(e.UiType.FLEX_LAYOUT);l.setWidth(e.UiCssLength.create("100%"));r.add(l);l.addNewItemOfType(e.UiType.LABEL).setText(i.getText(e.DimensionDialogI18n.I18N_DD_ONLY_POSTED_VALUES)).setAlignSelf(e.UiFlexAlignSelf.CENTER).setWidth(e.UiCssLength.create("auto"));l.addNewItemOfType(e.UiType.SPACER).setHeight(e.UiCssLength.create("1em")).setWidth(e.UiCssLength.create("1em"));let s=l.addNewItemOfType(e.UiType.SWITCH).setOnText(" ").setOffText(" ").setName(e.OuDimensionDialog.READ_MODE_DROPDOWN).setAlignSelf(e.UiFlexAlignSelf.CENTER);let u=this.m_dimensionModel.getDdModelReadMode().getReadMode();if(e.notNull(u)){s.setOn(u.isTypeOf(e.QMemberReadMode.BOOKED))}s.registerOnChange(this);let m;for(m=0;m<r.size();m++){this.m_ddLayout.getValueDisplayContent().addItem(r.get(m))}this.m_dimensionModel.getDdModelSorting().addListener(this);this.m_dimensionModel.getDdModelHierarchy().addListener(this);this.m_sortContainer=e.DdControllerSortCompact.createWithModelAndGenesis(this.getApplication(),this.m_uiContext,this.m_dimensionModel.getDdModelSorting(),t);this.m_ddLayout.getSortDisplayContent().addAllItems(this.m_sortContainer.getVertialControls());this.m_hierarchyContainer=e.DdControllerHierarchy.createWithModelAndGenesis(this.getApplication(),this.m_uiContext,this.m_dimensionModel,this.m_dimension,t);this.m_ddLayout.getHierarchyDisplayContent().addAllItems(this.m_hierarchyContainer.getVerticalControls());if(this.m_dimension.supportsTotals()){this.m_totalsContainer=e.DdControllerTotalsCompact.createWithModelAndGenesis(this.getApplication(),this.m_uiContext,this.m_dimensionModel.getDdModelTotals(),t);this.m_ddLayout.getTotalsDisplayContent().addAllItems(this.m_totalsContainer.getVerticalControls())}if(this.m_dimensionModel.getDdModelTotalsIncluded()!==null){this.m_totalsIncludedContainer=e.DdControllerTotalsCompact.createWithModelAndGenesis(this.getApplication(),this.m_uiContext,this.m_dimensionModel.getDdModelTotalsIncluded(),t);this.m_ddLayout.getTotalsDisplayContent().addAllItems(this.m_totalsIncludedContainer.getVerticalControls())}if(this.m_dimensionModel.getDdModelTotalsRemaining()!==null){this.m_totalsRemainingContainer=e.DdControllerTotalsCompact.createWithModelAndGenesis(this.getApplication(),this.m_uiContext,this.m_dimensionModel.getDdModelTotalsRemaining(),t);this.m_ddLayout.getTotalsDisplayContent().addAllItems(this.m_totalsRemainingContainer.getVerticalControls())}this.reinitializeChildControllers();this.m_ddLayout.buildOlapDialogUi(t)}else{i.setText("Missing parameter [dimension]!")}};e.OuDimensionDialog.prototype.getDefaultContainerSize=function(){return e.UiSize.createByCss("60em","40em")};e.OuDimensionDialog.prototype.getDialogButtons=function(t){this.m_okBtn=t.newControl(e.UiType.DIALOG_BUTTON);this.m_okBtn.setText("Ok");this.m_okBtn.setButtonType(e.UiButtonType.PRIMARY);this.m_okBtn.registerOnPress(this);this.m_cancelBtn=t.newControl(e.UiType.DIALOG_BUTTON);this.m_cancelBtn.setText("Cancel");this.m_cancelBtn.registerOnPress(this);let i=e.XList.create();i.add(this.m_okBtn);i.add(this.m_cancelBtn);return i};e.OuDimensionDialog.prototype.getListOfSelectedCustomObjects=function(t){let i=e.XList.create();let o=t.getSelectedItems();let n=o.size();for(let e=0;e<n;e++){i.add(o.get(e).getCustomObject())}return i};e.OuDimensionDialog.prototype.getLogSeverity=function(){return e.DfUiDialogProgram.prototype.getLogSeverity.call(this)};e.OuDimensionDialog.prototype.getMenuBarDisplayName=function(){return e.OuDimensionDialog.DEFAULT_PROGRAM_NAME};e.OuDimensionDialog.prototype.getProgramName=function(){return e.OuDimensionDialog.DEFAULT_PROGRAM_NAME};e.OuDimensionDialog.prototype.newProgram=function(){let t=new e.OuDimensionDialog;t.setup();return t};e.OuDimensionDialog.prototype.onChange=function(t){let i=t.getControl();let o=t.getControl().getName();switch(o){case e.OuDimensionDialog.FIELD_LAYOUT_DROPDOWN:this.m_dimensionModel.setFieldLayoutType(i.isOn()?e.FieldLayoutType.FIELD_BASED:e.FieldLayoutType.ATTRIBUTE_BASED);break;case e.OuDimensionDialog.READ_MODE_DROPDOWN:this.m_dimensionModel.getDdModelReadMode().setReadMode(i.isOn()?e.QMemberReadMode.BOOKED:e.QMemberReadMode.MASTER);break}};e.OuDimensionDialog.prototype.onObservableModelChange=function(e){this.reinitializeChildControllers()};e.OuDimensionDialog.prototype.onPress=function(t){let i=t.getControl();if(i===this.m_okBtn){if(e.notNull(this.m_dimensionModel)){this.m_dimensionModel.applyToQueryModel(this.m_dimension.getQueryModel())}if(e.notNull(this.m_listener)){this.m_listener.onSubmit();this.m_listener.onClose()}this.exitNow(0)}else if(i===this.m_cancelBtn){if(e.notNull(this.m_listener)){this.m_listener.onClose()}this.exitNow(0)}else{let i=t.getControl().getName();switch(i){case e.OuDimensionDialog.TECHNICAL_BUTTON:this.m_dimensionModel.setShowTechnical(t.getControl().isPressed());return;case e.OuDimensionDialog.ACTIVATE_SELECTION_BUTTON:this.m_dimensionModel.activateSelection();return;case e.OuDimensionDialog.DEACTIVATE_SELECTION_BUTTON:this.m_dimensionModel.deActivateSelection();return;case e.DdControllerAbstract.BOTTOM_BUTTON:this.m_dimensionModel.moveBottomActiveAttribute();return;case e.DdControllerAbstract.DOWN_BUTTON:this.m_dimensionModel.moveDownActiveAttribute();return;case e.DdControllerAbstract.UP_BUTTON:this.m_dimensionModel.moveUpActiveAttribute();return;case e.DdControllerAbstract.TOP_BUTTON:this.m_dimensionModel.moveTopActiveAttribute();return}}};e.OuDimensionDialog.prototype.onSelect=function(t){let i=t.getControl().getName();let o=t.getControl();switch(i){case e.OuDimensionDialog.FIELD_LAYOUT_DROPDOWN:this.m_dimensionModel.setFieldLayoutType(o.getSelectedItem().getCustomObject());break;case e.OuDimensionDialog.READ_MODE_DROPDOWN:this.m_dimensionModel.getDdModelReadMode().setReadMode(o.getSelectedItem().getCustomObject());break}};e.OuDimensionDialog.prototype.onSelectionChange=function(t){let i=t.getControl().getName();switch(i){case e.OuDimensionDialog.ATTRIBUTE_INVENTORY_LIST:let i=t.getControl();this.m_dimensionModel.setAttributesOrderInactiveSelected(this.getListOfSelectedCustomObjects(i));break;case e.OuDimensionDialog.ACTIVE_ATTRIBUTE_LIST:let o=t.getControl();this.m_dimensionModel.setAttributesOrderActiveSelected(this.getListOfSelectedCustomObjects(o));break;case e.OuDimensionDialog.FIELD_LAYOUT_DROPDOWN:let n=t.getControl();this.m_dimensionModel.setFieldLayoutType(n.getSelectedItem().getCustomObject());break;case e.OuDimensionDialog.READ_MODE_DROPDOWN:let a=t.getControl();this.m_dimensionModel.getDdModelReadMode().setReadMode(a.getSelectedItem().getCustomObject());break}};e.OuDimensionDialog.prototype.prepareProgramMetadata=function(e){};e.OuDimensionDialog.prototype.processArguments=function(e){};e.OuDimensionDialog.prototype.processConfiguration=function(e){};e.OuDimensionDialog.prototype.reinitializeChildControllers=function(){if(!this.m_dimensionModel.getDdModelHierarchy().isActive()){if(this.m_dimensionModel.getDdModelSorting().tryResetHierarchicalSort()){this.m_sortContainer.getVertialControls()}}else{if(this.m_dimensionModel.getDdModelSorting().tryApplyHierarchicalSort()){this.m_sortContainer.getVertialControls()}}this.m_detailFieldContainerLayout.clearItems();let t;let i;let o;let n;let a;let r;t=this.m_dimensionModel.getAttributesOrderInactive();i=this.m_dimensionModel.getAttributesOrderInactiveSelected();o=t.size();this.m_attributeInventoryList.clearItems();for(n=0;n<o;n++){r=t.get(n);a=this.m_attributeInventoryList.addNewItem().setName(r.getComponentName()).setText(this.m_dimensionModel.isShowTechnical()?r.getComponentName():r.getComponentText());a.setSelected(i.contains(r)).setCustomObject(r)}this.m_buttonActivateSelection.setEnabled(e.XCollectionUtils.hasElements(i));t=this.m_dimensionModel.getAttributesOrderActive();i=this.m_dimensionModel.getAttributesOrderActiveSelected();o=t.size();this.m_activeAttributeList.clearItems();for(n=0;n<o;n++){r=t.get(n);a=this.m_activeAttributeList.addNewItem().setName(r.getComponentName()).setText(this.m_dimensionModel.isShowTechnical()?r.getComponentName():r.getComponentText());a.setSelected(i.contains(r)).setCustomObject(r)}this.m_buttonDeactivateSelection.setEnabled(e.XCollectionUtils.hasElements(i));this.m_detailFieldContainerLayout.clearItems();let l=this.m_dimensionModel.getDetailAttribute();if(e.notNull(l)){this.m_detailFieldContainerLayout.addNewItemOfType(e.UiType.LABEL).setFontSize(e.UiCssLength.create("125%")).setText(this.m_dimensionModel.isShowTechnical()?l.getComponentName():l.getComponentText()).setHeight(e.UiCssLength.create("2em"));let t=e.DdControllerFieldContainerCompact.createWithModelAndGenesis(this.getApplication(),this.m_uiContext,l,this.getGenesis());this.m_detailFieldContainerLayout.addAllItems(t.getLayoutedControls())}e.DdModelOrderable.adoptList(this.m_dimensionModel.getAttributesOrderActive());let s=i.size()===1?i.get(0):null;this.m_buttonMoveDown.setEnabled(e.notNull(s)&&s.isPossibleMoveDown());this.m_buttonMoveUp.setEnabled(e.notNull(s)&&s.isPossibleMoveUp())};e.OuDimensionDialog.prototype.releaseObject=function(){e.DfUiDialogProgram.prototype.releaseObject.call(this);this.m_dimensionModel=e.XObjectExt.release(this.m_dimensionModel);this.m_dimension=null;this.m_okButton=e.XObjectExt.release(this.m_okButton);this.m_cancelButton=e.XObjectExt.release(this.m_cancelButton);this.m_ddLayout=e.XObjectExt.release(this.m_ddLayout)};e.OuDimensionDialog.prototype.setupProgram=function(){let t=this.getArguments();let i=t.getStringByKey("dimensionName");let o=null;if(this.getStartData()!==null){this.m_dimension=this.getStartData().getXObjectByKey("dimension");this.m_listener=this.getStartData().getXObjectByKey("listener");o=this.getStartData().getXObjectByKey("queryManager")}if(e.isNull(this.m_dimension)&&e.XStringUtils.isNotNullAndNotEmpty(i)&&e.notNull(o)){this.m_dimension=o.getQueryModel().getDimensionByName(i)}if(e.notNull(this.m_dimension)){this.m_dimensionModel=e.DdModelDimension.createFrom(this.m_dimension,true,null,null)}return null};e.OuDimensionDialogExt=function(){};e.OuDimensionDialogExt.prototype=new e.DfUiDialogProgram;e.OuDimensionDialogExt.prototype._ff_c="OuDimensionDialogExt";e.OuDimensionDialogExt.ACTIVATE_SELECTION_BUTTON="activateSelectionButton";e.OuDimensionDialogExt.ACTIVE_ATTRIBUTE_LIST="attributeActiveList";e.OuDimensionDialogExt.ATTRIBUTE_INVENTORY_LIST="attributeInventoryList";e.OuDimensionDialogExt.DEACTIVATE_SELECTION_BUTTON="deactivateSelectionButton";e.OuDimensionDialogExt.DEFAULT_PROGRAM_NAME="DimensionDialogExt";e.OuDimensionDialogExt.FIELD_LAYOUT_DROPDOWN="fieldLayoutDropdown";e.OuDimensionDialogExt.READ_MODE_DROPDOWN="readModeDropdown";e.OuDimensionDialogExt.TECHNICAL_BUTTON="technicalButton";e.OuDimensionDialogExt.createRunner=function(){let t=e.KernelBoot.createByName(e.OuDimensionDialogExt.DEFAULT_PROGRAM_NAME);return t};e.OuDimensionDialogExt.prototype.m_activeAttributeList=null;e.OuDimensionDialogExt.prototype.m_attributeInventoryList=null;e.OuDimensionDialogExt.prototype.m_buttonActivateSelection=null;e.OuDimensionDialogExt.prototype.m_buttonDeactivateSelection=null;e.OuDimensionDialogExt.prototype.m_buttonMoveDown=null;e.OuDimensionDialogExt.prototype.m_buttonMoveUp=null;e.OuDimensionDialogExt.prototype.m_cancelBtn=null;e.OuDimensionDialogExt.prototype.m_cancelButton=null;e.OuDimensionDialogExt.prototype.m_ddLayout=null;e.OuDimensionDialogExt.prototype.m_detailFieldContainerLayout=null;e.OuDimensionDialogExt.prototype.m_dimension=null;e.OuDimensionDialogExt.prototype.m_dimensionModel=null;e.OuDimensionDialogExt.prototype.m_hierarchyContainer=null;e.OuDimensionDialogExt.prototype.m_listener=null;e.OuDimensionDialogExt.prototype.m_mainAttributeContainer=null;e.OuDimensionDialogExt.prototype.m_okBtn=null;e.OuDimensionDialogExt.prototype.m_okButton=null;e.OuDimensionDialogExt.prototype.m_sortContainer=null;e.OuDimensionDialogExt.prototype.m_totalsContainer=null;e.OuDimensionDialogExt.prototype.m_totalsIncludedContainer=null;e.OuDimensionDialogExt.prototype.m_totalsRemainingContainer=null;e.OuDimensionDialogExt.prototype.m_uiContext=null;e.OuDimensionDialogExt.prototype.buildUi=function(t){let i=t.newRoot(e.UiType.LABEL);i.setText("Unknown error occurred!");i.setWidth(e.UiCssLength.create("100%"));i.setHeight(e.UiCssLength.create("40em"));i.setPadding(e.UiCssBoxEdges.create("10px"));i.setBackgroundColor(e.UiColor.LAVENDER.newColorWithAlpha(.3));i.setTextAlign(e.UiTextAlign.CENTER);let o=this.getApplication().getUiManager();let n=e.OlapUiDisplayFactory.createFactoryForDialog(o);this.m_uiContext=e.OlapUiContext.createContext(o,n);if(e.notNull(this.m_dimensionModel)){this.m_dimensionModel.addListener(this);let i=e.OuDimensionDialog.getDdLocalization();if(this.m_dimensionModel.getMainAttribute()!==null){this.m_mainAttributeContainer=e.DdControllerFieldContainerExhaustive.createWithModelAndGenesis(this.getApplication(),this.m_uiContext,this.m_dimensionModel.getMainAttribute(),t)}this.m_ddLayout=e.DdDimensionDisplayLayoutExhaustive.createWithGenesis(t);let o=e.XList.create();if(e.notNull(this.m_mainAttributeContainer)&&this.m_dimensionModel.getAvailableFieldLayoutTypes().contains(e.FieldLayoutType.ATTRIBUTE_BASED)||this.m_dimensionModel.getAvailableFieldLayoutTypes().contains(e.FieldLayoutType.ATTRIBUTES_AND_PRESENTATIONS)){o=this.m_mainAttributeContainer.getLayoutedControls()}let n;let a=this.m_dimensionModel.getAvailableFieldLayoutTypes();let r=this.m_dimensionModel.getFieldLayoutType();if(e.XCollectionUtils.hasElements(a)){let l=t.newControl(e.UiType.SEGMENTED_BUTTON);for(n=0;n<a.size();n++){let e=a.get(n);l.addNewItem().setName(e.getName()).setText(e.getName()).setCustomObject(e)}l.setName(e.OuDimensionDialogExt.FIELD_LAYOUT_DROPDOWN);l.setSelectedName(r.getName());l.registerOnSelectionChange(this);let s=this.getGenesis().newControl(e.UiType.FLEX_LAYOUT);o.add(s);s.addNewItemOfType(e.UiType.LABEL).setText(i.getText(e.DimensionDialogI18n.I18N_DD_FIELD_LAYOUT)).setName(e.DimensionDialogI18n.I18N_DD_FIELD_LAYOUT).setAlignSelf(e.UiFlexAlignSelf.END).setWidth(e.UiCssLength.create("50%"));s.addNewItemOfType(e.UiType.SPACER).setWidth(e.UiCssLength.create("1em"));s.addItem(l.setAlignSelf(e.UiFlexAlignSelf.CENTER).setWidth(e.UiCssLength.create("50%")));o.add(t.newControl(e.UiType.SPACER).setHeight(e.UiCssLength.create("1em")).setWidth(e.UiCssLength.create("1em")))}let l=this.getGenesis().newControl(e.UiType.FLEX_LAYOUT).setWidth(e.UiCssLength.create("100%"));o.add(l);this.m_attributeInventoryList=l.addNewItemOfType(e.UiType.LIST).setName(e.OuDimensionDialogExt.ATTRIBUTE_INVENTORY_LIST);this.m_attributeInventoryList.setSelectionMode(e.UiSelectionMode.MULTI_SELECT);this.m_attributeInventoryList.registerOnSelectionChange(this).setHeight(e.UiCssLength.create("100%")).setWidth(e.UiCssLength.create("45%"));l.addNewItemOfType(e.UiType.SPACER).setHeight(e.UiCssLength.create("1em")).setWidth(e.UiCssLength.create("1em"));let s=l.addNewItemOfType(e.UiType.FLEX_LAYOUT).setDirection(e.UiFlexDirection.COLUMN).setWidth(e.UiCssLength.create("5%")).setHeight(e.UiCssLength.create("100%"));l.addNewItemOfType(e.UiType.SPACER).setHeight(e.UiCssLength.create("1em")).setWidth(e.UiCssLength.create("1em"));if(e.isNull(this.m_buttonDeactivateSelection)){this.m_buttonDeactivateSelection=s.addNewItemOfType(e.UiType.BUTTON);this.m_buttonDeactivateSelection.setTooltip(i.getText(e.DimensionDialogI18n.I18N_DD_DEACTIVATE_SELECTION));this.m_buttonDeactivateSelection.setIcon("slim-arrow-left");this.m_buttonDeactivateSelection.setName(e.OuDimensionDialogExt.DEACTIVATE_SELECTION_BUTTON);this.m_buttonDeactivateSelection.registerOnPress(this)}else{s.addItem(this.m_buttonDeactivateSelection)}if(e.isNull(this.m_buttonActivateSelection)){this.m_buttonActivateSelection=s.addNewItemOfType(e.UiType.BUTTON);this.m_buttonActivateSelection.setTooltip(i.getText(e.DimensionDialogI18n.I18N_DD_ACTIVATE_SELECTION));this.m_buttonActivateSelection.setIcon("slim-arrow-right");this.m_buttonActivateSelection.setName(e.OuDimensionDialogExt.ACTIVATE_SELECTION_BUTTON);this.m_buttonActivateSelection.registerOnPress(this)}else{s.addItem(this.m_buttonActivateSelection)}this.m_activeAttributeList=l.addNewItemOfType(e.UiType.LIST).setName(e.OuDimensionDialogExt.ACTIVE_ATTRIBUTE_LIST);this.m_activeAttributeList.registerOnSelectionChange(this).setHeight(e.UiCssLength.create("100%")).setWidth(e.UiCssLength.create("45%"));l.addNewItemOfType(e.UiType.SPACER).setHeight(e.UiCssLength.create("1em")).setWidth(e.UiCssLength.create("1em"));s=l.addNewItemOfType(e.UiType.FLEX_LAYOUT).setDirection(e.UiFlexDirection.COLUMN).setWidth(e.UiCssLength.create("5%")).setHeight(e.UiCssLength.create("100%"));if(e.isNull(this.m_buttonMoveUp)){this.m_buttonMoveUp=s.addNewItemOfType(e.UiType.BUTTON);this.m_buttonMoveUp.setTooltip(i.getText(e.DimensionDialogI18n.I18N_DD_MOVE_UP));this.m_buttonMoveUp.setIcon("slim-arrow-up");this.m_buttonMoveUp.setName(e.DdControllerAbstract.UP_BUTTON);this.m_buttonMoveUp.registerOnPress(this)}else{s.addItem(this.m_buttonMoveUp)}if(e.isNull(this.m_buttonMoveDown)){this.m_buttonMoveDown=s.addNewItemOfType(e.UiType.BUTTON);this.m_buttonMoveDown.setTooltip(i.getText(e.DimensionDialogI18n.I18N_DD_MOVE_DOWN));this.m_buttonMoveDown.setIcon("slim-arrow-down");this.m_buttonMoveDown.setName(e.DdControllerAbstract.DOWN_BUTTON);this.m_buttonMoveDown.registerOnPress(this)}else{s.addItem(this.m_buttonMoveDown)}o.add(t.newControl(e.UiType.SPACER).setHeight(e.UiCssLength.create("1em")).setWidth(e.UiCssLength.create("1em")));this.m_detailFieldContainerLayout=t.newControl(e.UiType.FLEX_LAYOUT).setDirection(e.UiFlexDirection.COLUMN).setWidth(e.UiCssLength.create("100%"));o.add(this.m_detailFieldContainerLayout);o.add(t.newControl(e.UiType.SPACER).setHeight(e.UiCssLength.create("1em")));let u=t.newControl(e.UiType.FLEX_LAYOUT);u.setWidth(e.UiCssLength.create("100%"));o.add(u);if(e.XCollectionUtils.hasElements(this.m_dimensionModel.getDdModelReadMode().getAvailableReadModes())){u.addNewItemOfType(e.UiType.LABEL).setText(i.getText(e.DimensionDialogI18n.I18N_DD_READMODE)).setAlignSelf(e.UiFlexAlignSelf.CENTER).setWidth(e.UiCssLength.create("50%"));u.addNewItemOfType(e.UiType.SPACER).setHeight(e.UiCssLength.create("1em")).setWidth(e.UiCssLength.create("1em"));let t=this.m_dimensionModel.getDdModelReadMode().getReadMode();let o=this.m_dimensionModel.getDdModelReadMode().getAvailableReadModes().getIterator();let n=u.addNewItemOfType(e.UiType.DROPDOWN).setWidth(e.UiCssLength.create("50%"));while(o.hasNext()){let e=o.next();n.addNewItem().setName(e.getName()).setText(e.getName()).setCustomObject(e)}n.setName(e.OuDimensionDialogExt.READ_MODE_DROPDOWN);if(e.notNull(t)){n.setSelectedName(t.getName())}n.registerOnSelect(this)}if(this.m_dimension.supportsTotals()){this.m_totalsContainer=e.DdControllerTotalsExhaustive.createWithModelAndGenesis(this.getApplication(),this.m_uiContext,this.m_dimensionModel.getDdModelTotals(),t);o.addAll(this.m_totalsContainer.getVerticalControls())}if(this.m_dimensionModel.getDdModelTotalsIncluded()!==null){this.m_totalsIncludedContainer=e.DdControllerTotalsExhaustive.createWithModelAndGenesis(this.getApplication(),this.m_uiContext,this.m_dimensionModel.getDdModelTotalsIncluded(),t);o.addAll(this.m_totalsIncludedContainer.getVerticalControls())}if(this.m_dimensionModel.getDdModelTotalsRemaining()!==null){this.m_totalsRemainingContainer=e.DdControllerTotalsExhaustive.createWithModelAndGenesis(this.getApplication(),this.m_uiContext,this.m_dimensionModel.getDdModelTotalsRemaining(),t);o.addAll(this.m_totalsRemainingContainer.getVerticalControls())}for(n=0;n<o.size();n++){this.m_ddLayout.getValueDisplayContent().addItem(o.get(n))}this.m_dimensionModel.getDdModelSorting().addListener(this);this.m_dimensionModel.getDdModelHierarchy().addListener(this);this.m_sortContainer=e.DdControllerSortExhaustive.createWithModelAndGenesis(this.getApplication(),this.m_uiContext,this.m_dimensionModel.getDdModelSorting(),t);this.m_ddLayout.getSortDisplayContent().addAllItems(this.m_sortContainer.getVertialControls());this.m_hierarchyContainer=e.DdControllerHierarchy.createWithModelAndGenesis(this.getApplication(),this.m_uiContext,this.m_dimensionModel,this.m_dimension,t);this.m_ddLayout.getHierarchyDisplayContent().addAllItems(this.m_hierarchyContainer.getVerticalControls());this.reinitializeChildControllers();this.m_ddLayout.buildOlapDialogUi(t)}else{i.setText("Missing parameter [dimension]!")}};e.OuDimensionDialogExt.prototype.getDefaultContainerSize=function(){return e.UiSize.createByCss("60em","40em")};e.OuDimensionDialogExt.prototype.getDialogButtons=function(t){this.m_okBtn=t.newControl(e.UiType.DIALOG_BUTTON);this.m_okBtn.setText("Ok");this.m_okBtn.setButtonType(e.UiButtonType.PRIMARY);this.m_okBtn.registerOnPress(this);this.m_cancelBtn=t.newControl(e.UiType.DIALOG_BUTTON);this.m_cancelBtn.setText("Cancel");this.m_cancelBtn.registerOnPress(this);let i=e.XList.create();i.add(this.m_okBtn);i.add(this.m_cancelBtn);return i};e.OuDimensionDialogExt.prototype.getListOfSelectedCustomObjects=function(t){let i=e.XList.create();let o=t.getSelectedItems();let n=o.size();for(let e=0;e<n;e++){i.add(o.get(e).getCustomObject())}return i};e.OuDimensionDialogExt.prototype.getLogSeverity=function(){return e.DfUiDialogProgram.prototype.getLogSeverity.call(this)};e.OuDimensionDialogExt.prototype.getMenuBarDisplayName=function(){return e.OuDimensionDialogExt.DEFAULT_PROGRAM_NAME};e.OuDimensionDialogExt.prototype.getProgramName=function(){return e.OuDimensionDialogExt.DEFAULT_PROGRAM_NAME};e.OuDimensionDialogExt.prototype.newProgram=function(){let t=new e.OuDimensionDialogExt;t.setup();return t};e.OuDimensionDialogExt.prototype.onChange=function(t){let i=t.getControl();let o=t.getControl().getName();switch(o){case e.OuDimensionDialogExt.FIELD_LAYOUT_DROPDOWN:this.m_dimensionModel.setFieldLayoutType(i.isOn()?e.FieldLayoutType.FIELD_BASED:e.FieldLayoutType.ATTRIBUTE_BASED);break;case e.OuDimensionDialogExt.READ_MODE_DROPDOWN:this.m_dimensionModel.getDdModelReadMode().setReadMode(i.isOn()?e.QMemberReadMode.BOOKED:e.QMemberReadMode.MASTER);break}};e.OuDimensionDialogExt.prototype.onObservableModelChange=function(e){this.reinitializeChildControllers()};e.OuDimensionDialogExt.prototype.onPress=function(t){let i=t.getControl();if(i===this.m_okBtn){if(e.notNull(this.m_dimensionModel)){this.m_dimensionModel.applyToQueryModel(this.m_dimension.getQueryModel())}if(e.notNull(this.m_listener)){this.m_listener.onSubmit();this.m_listener.onClose()}this.exitNow(0)}else if(i===this.m_cancelBtn){if(e.notNull(this.m_listener)){this.m_listener.onClose()}this.exitNow(0)}else{let i=t.getControl().getName();switch(i){case e.OuDimensionDialogExt.TECHNICAL_BUTTON:this.m_dimensionModel.setShowTechnical(t.getControl().isPressed());return;case e.OuDimensionDialogExt.ACTIVATE_SELECTION_BUTTON:this.m_dimensionModel.activateSelection();return;case e.OuDimensionDialogExt.DEACTIVATE_SELECTION_BUTTON:this.m_dimensionModel.deActivateSelection();return;case e.DdControllerAbstract.BOTTOM_BUTTON:this.m_dimensionModel.moveBottomActiveAttribute();return;case e.DdControllerAbstract.DOWN_BUTTON:this.m_dimensionModel.moveDownActiveAttribute();return;case e.DdControllerAbstract.UP_BUTTON:this.m_dimensionModel.moveUpActiveAttribute();return;case e.DdControllerAbstract.TOP_BUTTON:this.m_dimensionModel.moveTopActiveAttribute();return}}};e.OuDimensionDialogExt.prototype.onSelect=function(t){let i=t.getControl().getName();let o=t.getControl();switch(i){case e.OuDimensionDialogExt.FIELD_LAYOUT_DROPDOWN:this.m_dimensionModel.setFieldLayoutType(o.getSelectedItem().getCustomObject());break;case e.OuDimensionDialogExt.READ_MODE_DROPDOWN:this.m_dimensionModel.getDdModelReadMode().setReadMode(o.getSelectedItem().getCustomObject());break}};e.OuDimensionDialogExt.prototype.onSelectionChange=function(t){let i=t.getControl().getName();switch(i){case e.OuDimensionDialogExt.ATTRIBUTE_INVENTORY_LIST:let i=t.getControl();this.m_dimensionModel.setAttributesOrderInactiveSelected(this.getListOfSelectedCustomObjects(i));break;case e.OuDimensionDialogExt.ACTIVE_ATTRIBUTE_LIST:let o=t.getControl();this.m_dimensionModel.setAttributesOrderActiveSelected(this.getListOfSelectedCustomObjects(o));break;case e.OuDimensionDialogExt.FIELD_LAYOUT_DROPDOWN:let n=t.getControl();this.m_dimensionModel.setFieldLayoutType(n.getSelectedItem().getCustomObject());break;case e.OuDimensionDialogExt.READ_MODE_DROPDOWN:let a=t.getControl();this.m_dimensionModel.getDdModelReadMode().setReadMode(a.getSelectedItem().getCustomObject());break}};e.OuDimensionDialogExt.prototype.prepareProgramMetadata=function(e){};e.OuDimensionDialogExt.prototype.processArguments=function(e){};e.OuDimensionDialogExt.prototype.processConfiguration=function(e){};e.OuDimensionDialogExt.prototype.reinitializeChildControllers=function(){if(!this.m_dimensionModel.getDdModelHierarchy().isActive()){if(this.m_dimensionModel.getDdModelSorting().tryResetHierarchicalSort()){this.m_sortContainer.getVertialControls()}}else{if(this.m_dimensionModel.getDdModelSorting().tryApplyHierarchicalSort()){this.m_sortContainer.getVertialControls()}}this.m_detailFieldContainerLayout.clearItems();let t;let i;let o;let n;let a;let r;t=this.m_dimensionModel.getAttributesOrderInactive();i=this.m_dimensionModel.getAttributesOrderInactiveSelected();o=t.size();this.m_attributeInventoryList.clearItems();for(n=0;n<o;n++){r=t.get(n);a=this.m_attributeInventoryList.addNewItem().setName(r.getComponentName()).setText(this.m_dimensionModel.isShowTechnical()?r.getComponentName():r.getComponentText());a.setSelected(i.contains(r)).setCustomObject(r)}this.m_buttonActivateSelection.setEnabled(e.XCollectionUtils.hasElements(i));t=this.m_dimensionModel.getAttributesOrderActive();i=this.m_dimensionModel.getAttributesOrderActiveSelected();o=t.size();this.m_activeAttributeList.clearItems();for(n=0;n<o;n++){r=t.get(n);a=this.m_activeAttributeList.addNewItem().setName(r.getComponentName()).setText(this.m_dimensionModel.isShowTechnical()?r.getComponentName():r.getComponentText());a.setSelected(i.contains(r)).setCustomObject(r)}this.m_buttonDeactivateSelection.setEnabled(e.XCollectionUtils.hasElements(i));this.m_detailFieldContainerLayout.clearItems();let l=this.m_dimensionModel.getDetailAttribute();if(e.notNull(l)){let t=e.DdControllerFieldContainerExhaustive.createWithModelAndGenesis(this.getApplication(),this.m_uiContext,l,this.getGenesis());this.m_detailFieldContainerLayout.addAllItems(t.getLayoutedControls())}e.DdModelOrderable.adoptList(this.m_dimensionModel.getAttributesOrderActive());let s=i.size()===1?i.get(0):null;this.m_buttonMoveDown.setEnabled(e.notNull(s)&&s.isPossibleMoveDown());this.m_buttonMoveUp.setEnabled(e.notNull(s)&&s.isPossibleMoveUp())};e.OuDimensionDialogExt.prototype.releaseObject=function(){e.DfUiDialogProgram.prototype.releaseObject.call(this);this.m_dimensionModel=e.XObjectExt.release(this.m_dimensionModel);this.m_dimension=null;this.m_okButton=e.XObjectExt.release(this.m_okButton);this.m_cancelButton=e.XObjectExt.release(this.m_cancelButton);this.m_ddLayout=e.XObjectExt.release(this.m_ddLayout)};e.OuDimensionDialogExt.prototype.setupProgram=function(){if(this.getStartData()!==null){this.m_dimension=this.getStartData().getXObjectByKey("dimension");this.m_listener=this.getStartData().getXObjectByKey("listener")}if(e.notNull(this.m_dimension)){this.m_dimensionModel=e.DdModelDimension.createFrom(this.m_dimension,true,null,null)}return null};e.OuShareDialog=function(){};e.OuShareDialog.prototype=new e.DfUiDialogProgram;e.OuShareDialog.prototype._ff_c="OuShareDialog";e.OuShareDialog.DEFAULT_PROGRAM_NAME="ShareDialog";e.OuShareDialog.prototype.m_access=null;e.OuShareDialog.prototype.m_accessButton=null;e.OuShareDialog.prototype.m_accessPanel=null;e.OuShareDialog.prototype.m_accessType=null;e.OuShareDialog.prototype.m_customAccess=null;e.OuShareDialog.prototype.m_fetchUsersTeams=null;e.OuShareDialog.prototype.m_file=null;e.OuShareDialog.prototype.m_generalLayout=null;e.OuShareDialog.prototype.m_isSearch=false;e.OuShareDialog.prototype.m_isSelectAll=false;e.OuShareDialog.prototype.m_link=null;e.OuShareDialog.prototype.m_mainCustomAccess=null;e.OuShareDialog.prototype.m_owner=null;e.OuShareDialog.prototype.m_panelAccessMenuButton=null;e.OuShareDialog.prototype.m_panelLayout=null;e.OuShareDialog.prototype.m_selectedUsers=null;e.OuShareDialog.prototype.m_table=null;e.OuShareDialog.prototype.m_tableAccessMenuButton=null;e.OuShareDialog.prototype.m_userTeamsMultiInput=null;e.OuShareDialog.prototype.m_workspace=null;e.OuShareDialog.prototype.buildGeneralLayout=function(t){this.m_generalLayout=t.newControl(e.UiType.VERTICAL_LAYOUT);this.m_generalLayout.setHeight(e.UiCssLength.create("60%"));this.buildLinkSection();this.m_generalLayout.setFlex("1 0 auto");let i=this.m_generalLayout.addNewItemOfType(e.UiType.FLEX_LAYOUT);i.setMargin(e.UiCssBoxEdges.create("0 1rem"));i.setJustifyContent(e.UiFlexJustifyContent.START);i.setAlignContent(e.UiFlexAlignContent.CENTER);let o=i.addNewItemOfType(e.UiType.FLEX_LAYOUT);o.setDirection(e.UiFlexDirection.COLUMN);o.setFlex("1 0 78%");let n=o.addNewItemOfType(e.UiType.LABEL);n.setText(this.getLocalization().getText(e.OuShareDialogI18n.MULTI_INPUT_HEADER));this.m_userTeamsMultiInput=o.addNewItemOfType(e.UiType.MULTI_INPUT);n.setLabelFor(this.m_userTeamsMultiInput);this.m_userTeamsMultiInput.setValueHelpIcon("fpa/person");this.m_userTeamsMultiInput.setTooltip(this.getLocalization().getText(e.OuShareDialogI18n.MULTI_INPUT_TOOLTIP));this.m_userTeamsMultiInput.setValueStateText(this.getLocalization().getText(e.OuShareDialogI18n.NO_USER_ENTERED_ERROR));this.m_userTeamsMultiInput.setShowSuggestion(true);this.m_userTeamsMultiInput.registerOnLiveChange(e.UiLambdaLiveChangeWithDebounceListener.create(t=>{if(e.notNull(t)){let i=t.getParameters().getStringByKey("value");this.m_userTeamsMultiInput.clearSuggestions();if(!e.XStringUtils.isNullOrEmpty(i)){this.searchAllUsers(0,1e3,i,this.m_workspace).onThen(t=>{let i=t.getChildFiles();if(!i.isEmpty()){e.XCollectionUtils.forEach(i,t=>{if(!e.XString.isEqual(t.getAttributes().getStringByKey(e.XFileAttribute.NAME),this.m_owner)){let i=e.FilterDialogValueFactory.createUserValueByFile(t);if(!e.XCollectionUtils.contains(this.m_userTeamsMultiInput.getChips(),e=>i.isEqualTo(e.getCustomObject()))){this.m_userTeamsMultiInput.addNewSuggestion().setText(i.getText()).setName(i.getDisplayKey()).setCustomObject(i)}}})}}).onFinally(()=>{this.searchAllTeams(0,1e3,i,this.m_workspace).onThen(t=>{let i=t.getChildFiles();if(!i.isEmpty()){e.XCollectionUtils.forEach(i,t=>{let i=e.FilterDialogValueFactory.createTeamValueByFile(t);if(!e.XCollectionUtils.contains(this.m_userTeamsMultiInput.getChips(),e=>i.isEqualTo(e.getCustomObject()))){this.m_userTeamsMultiInput.addNewSuggestion().setText(i.getText()).setName(i.getDisplayKey()).setCustomObject(i)}})}}).onFinally(()=>{if(!this.m_userTeamsMultiInput.getSuggestions().isEmpty()){this.m_userTeamsMultiInput.setValueState(e.UiValueState.NONE);this.m_userTeamsMultiInput.showSuggestions()}else{this.m_userTeamsMultiInput.setValueState(e.UiValueState.ERROR)}})})}}},500));this.m_userTeamsMultiInput.registerOnSuggestionSelect(e.UiLambdaSuggestionSelectListener.create(t=>{let i=t.getSelectedItem().getText();let o=t.getSelectedItem().getCustomObject();e.XStream.of(this.m_userTeamsMultiInput.getChips()).filter(t=>e.XString.isEqual(t.getText(),i)).forEach(e=>{this.updateChip(e,o)})}));this.m_userTeamsMultiInput.registerOnValueHelpRequest(e.UiLambdaValueHelpRequestListener.create(t=>{let i=e.FilterDialogProgramRunnerFactory.createForUserAndTeam(this.getProcess(),this.getLocalization().getText(e.OuShareDialogI18n.MEMBER_SELECTOR_TITLE),this.m_workspace,this.m_owner);let o=e.PrFactory.createStructure();o.putString(e.FilterDialog.PARAM_SELECTION_MODE,e.UiSelectionMode.MULTI_SELECT.getName());i.setConfigStructure(o);i.getProgramStartData().putXObject(e.FilterDialog.PRG_DATA_DEFAULT_SELECTION,e.XCollectionUtils.map(this.m_userTeamsMultiInput.getChips(),e=>e.getCustomObject()));i.getProgramStartData().putXObject(e.FilterDialog.PRG_DATA_LISTENER_CLOSE,e.FilterDialogLambdaCloseListener.create(t=>{this.m_userTeamsMultiInput.clearChips();e.XCollectionUtils.forEach(t,e=>{this.updateChip(this.m_userTeamsMultiInput.addNewChip(),e)});if(this.m_userTeamsMultiInput.getChips().hasElements()){this.m_userTeamsMultiInput.setBorderColor(e.UiColor.GREY)}},null));i.runProgram()}));let a=i.addNewItemOfType(e.UiType.FLEX_LAYOUT);a.setDirection(e.UiFlexDirection.COLUMN);a.setMargin(e.UiCssBoxEdges.create("0 0 0 1rem"));a.setFlex("1 0 15%");let r=a.addNewItemOfType(e.UiType.LABEL);r.setText(this.getLocalization().getText(e.OuShareDialogI18n.ACCESS));this.m_accessButton=t.newControl(e.UiType.MENU_BUTTON);this.m_accessButton.setButtonType(e.UiButtonType.TRANSPARENT);r.setLabelFor(this.m_accessButton);a.addItem(this.m_accessButton);this.m_accessType=t.newControl(e.UiType.MENU);this.m_accessButton.setMenu(this.m_accessType);this.m_accessButton.setText(this.getLocalization().getText(e.OuShareDialogI18n.VIEW_ACCESS_TYPE));this.m_accessButton.setName("view");this.m_accessButton.addCssClass("ffShareDialogAccessMenu");let l=this.m_generalLayout.addNewItemOfType(e.UiType.VERTICAL_LAYOUT);l.setMargin(e.UiCssBoxEdges.create("0.2rem 0.5rem"));let s=l.addNewItemOfType(e.UiType.CHECKBOX);s.setText(this.getLocalization().getText(e.OuShareDialogI18n.EMAIL_CHECKBOX_LABEL));let u=this.m_generalLayout.addNewItemOfType(e.UiType.FLEX_LAYOUT);i.setJustifyContent(e.UiFlexJustifyContent.START);u.setMargin(e.UiCssBoxEdges.create("0 1rem 1rem 1rem"));let m=u.addNewItemOfType(e.UiType.FLEX_LAYOUT);m.setDirection(e.UiFlexDirection.COLUMN);let p=m.addNewItemOfType(e.UiType.DIALOG_BUTTON);p.setVisible(true);p.setButtonType(e.UiButtonType.PRIMARY);p.setText(this.getLocalization().getText(e.OuShareDialogI18n.SHARE));p.registerOnPress(e.UiLambdaPressListener.create(t=>{let i=this.m_userTeamsMultiInput.getChips();if(i.isEmpty()){this.m_userTeamsMultiInput.setBorderColor(e.UiColor.RED)}else{let t=e.XFileAccessState.create();let o=this.m_access.getXFileAccess(this.m_accessButton.getName(),this.m_customAccess);for(let e=0;e<i.size();e++){for(let n=0;n<o.size();n++){t.setUserAccess(i.get(e).getCustomObject().getKey(),o.get(n),true)}}this.setBusy(true);this.shareFile(t,s.isChecked(),false)}}));let d=u.addNewItemOfType(e.UiType.FLEX_LAYOUT);d.setDirection(e.UiFlexDirection.COLUMN);let c=d.addNewItemOfType(e.UiType.DIALOG_BUTTON);c.setText(this.getLocalization().getText(e.XCommonI18n.CANCEL));c.setVisible(true);c.registerOnPress(e.UiLambdaPressListener.create(e=>{this.terminate()}));c.setButtonType(e.UiButtonType.TRANSPARENT);c.setPadding(e.UiCssBoxEdges.create("0 0 0 0.5rem"));this.m_accessPanel=e.OuShareDialogAccessPanel.create(this,true);return this.m_generalLayout};e.OuShareDialog.prototype.buildLinkSection=function(){let t=this.m_generalLayout.addNewItemOfType(e.UiType.VERTICAL_LAYOUT);t.setMargin(e.UiCssBoxEdges.create("1rem"));let i=t.addNewItemOfType(e.UiType.LABEL);i.setName("linkHeader");i.setText(this.getLocalization().getText(e.OuShareDialogI18n.LINK_SECTION_HEADER));let o=t.addNewItemOfType(e.UiType.LABEL);i.setLabelFor(o);o.setName("shareURL");o.setWrapping(true);o.setText(this.m_link);this.setContainerSize(e.UiSize.createByCss("43rem","auto"))};e.OuShareDialog.prototype.buildUi=function(t){let i=t.newControl(e.UiType.FLEX_LAYOUT);this.setTitle(this.getLocalization().getText(e.OuShareDialogI18n.DIALOG_TITLE));i.setDirection(e.UiFlexDirection.COLUMN);i.setJustifyContent(e.UiFlexJustifyContent.SPACE_AROUND);i.addItem(this.buildGeneralLayout(t));this.m_accessType.setName("MainAccess");this.fillAccessTypes(this.m_accessType);t.setRoot(i)};e.OuShareDialog.prototype.createMenuItem=function(t,i){let o=i.getStringByKey("text");let n=i.getStringByKey("name");let a=this.getGenesis().newControl(e.UiType.MENU_ITEM);t.addItem(a);a.setName(n).setText(o);if(e.XString.isEqual(n,"view")&&e.XString.isEqual(t.getName(),"MainAccess")){a.setIcon("fpa/completed")}return a};e.OuShareDialog.prototype.fillAccessTypes=function(t){t.clearItems();let i=e.XList.create();let o=e.PrFactory.createStructure();o.putString("text",this.getLocalization().getText(e.OuShareDialogI18n.VIEW_ACCESS_TYPE));o.putString("name","view");i.add(o);let n=e.PrFactory.createStructure();n.putString("text",this.getLocalization().getText(e.OuShareDialogI18n.EDIT_ACCESS_TYPE));n.putString("name","edit");i.add(n);let a=e.PrFactory.createStructure();a.putString("text",this.getLocalization().getText(e.OuShareDialogI18n.FULL_ACCESS_TYPE));a.putString("name","full");i.add(a);let r=e.PrFactory.createStructure();r.putString("text",this.getLocalization().getText(e.OuShareDialogI18n.CUSTOM_ACCESS_TYPE));r.putString("name","custom");i.add(r);if(e.XString.isEqual(t.getName(),"MainAccess")){for(let o=0;o<i.size();o++){let n=this.createMenuItem(t,i.get(o));n.registerOnPress(e.UiLambdaPressListener.create(i=>{for(let e=0;e<t.getItems().size();e++){let i=t.getItems().get(e);i.setIcon("")}n.setIcon("fpa/completed");this.m_accessButton.setText(n.getText());this.m_accessButton.setName(n.getName());if(e.XString.isEqual(n.getName(),"custom")){this.openCustomAccessDialog(this.m_mainCustomAccess,i=>{if(e.notNull(i)){this.m_customAccess=i;this.m_mainCustomAccess=i}else{n.setIcon("");let i=t.getItems().get(0);i.setIcon("fpa/completed");this.m_accessButton.setText(this.getLocalization().getText(e.OuShareDialogI18n.VIEW_ACCESS_TYPE));this.m_accessButton.setName("view")}})}}))}}else if(e.XString.isEqual(t.getName(),"selectedUsersTable")){for(let o=0;o<i.size();o++){let n=this.createMenuItem(t,i.get(o));n.registerOnPress(e.UiLambdaPressListener.create(t=>{this.m_panelAccessMenuButton.setVisible(false);let i=n.getName();let o=this.m_table.getSelectedItems();if(e.XString.isEqual(i,"custom")){this.openCustomAccessDialog(null,t=>{if(e.notNull(t)){let n=e.XList.create();for(let e=0;e<o.size();e++){n.add(o.get(e).getResponsiveTableCell(0).getName())}let a=e.XFileAccessState.create();let r=this.m_access.getXFileAccess(i,t);for(let e=0;e<n.size();e++){for(let t=0;t<r.size();t++){a.setUserAccess(n.get(e),r.get(t),true)}}this.m_isSearch=false;this.setBusy(true);this.shareFile(a,false,this.m_isSelectAll)}})}else{let t=e.XList.create();for(let e=0;e<o.size();e++){t.add(o.get(e).getResponsiveTableCell(0).getName())}let n=e.XFileAccessState.create();let a=this.m_access.getXFileAccess(i,this.m_customAccess);for(let e=0;e<t.size();e++){for(let i=0;i<a.size();i++){n.setUserAccess(t.get(e),a.get(i),true)}}this.m_isSearch=false;this.setBusy(true);this.shareFile(n,false,this.m_isSelectAll)}}))}}else{for(let o=0;o<i.size();o++){let n=this.createMenuItem(t,i.get(o));n.registerOnPress(e.UiLambdaPressListener.create(t=>{let i=n.getName();if(e.XString.isEqual(i,"custom")){let t=this.m_accessPanel.getUserAccessList();let o=n.getKey();let a=0;for(let i=0;i<t.size()-1;i++){let n=t.getStructureAt(i).getStringByKey("id");if(e.XString.isEqual(o,n)){a=t.getStructureAt(i).getIntegerByKey("access")}}let r=this.m_access.createJsonFromAccessNum(a);this.openCustomAccessDialog(r,t=>{if(e.notNull(t)){this.m_customAccess=t;let a=e.XFileAccessState.create();let r=this.m_access.getXFileAccess(i,this.m_customAccess);for(let e=0;e<r.size();e++){a.setUserAccess(o,r.get(e),true)}this.setBusy(true);this.shareFile(a,false,false);this.m_tableAccessMenuButton.setText(n.getText());this.m_tableAccessMenuButton.setName(n.getName())}})}else{let t=n.getKey();let o=e.XFileAccessState.create();let a=this.m_access.getXFileAccess(i,this.m_customAccess);for(let e=0;e<a.size();e++){o.setUserAccess(t,a.get(e),true)}this.setBusy(true);this.shareFile(o,false,false);this.m_tableAccessMenuButton.setText(n.getText());this.m_tableAccessMenuButton.setName(n.getName())}let o=this.m_tableAccessMenuButton.getMenu().getItems();for(let t=0;t<o.size();t++){let i=o.get(t);if(e.XString.isEqual(i.getText(),this.m_tableAccessMenuButton.getText())){i.setIcon("fpa/completed")}else{i.setIcon("")}}}))}let o=t.getItems();for(let t=0;t<o.size();t++){let i=o.get(t);if(e.XString.isEqual(i.getText(),this.m_tableAccessMenuButton.getText())){i.setIcon("fpa/completed")}else{i.setIcon("")}}}};e.OuShareDialog.prototype.getAccessRights=function(t,i,o,n){let a=this.m_file.newFileQuery();a.setSearchValue(o);a.setOffset(t);a.setMaxItems(i);return e.XPromise.create((t,i)=>{this.m_file.processFetchAccessRights(e.SyncType.NON_BLOCKING,e.XLambdaFileFetchAccessRightsListener.create((i,o)=>{if(e.notNull(i)&&!i.hasErrors()){t(i.getData().getAttributes())}else{if(n){this.getGenesis().showErrorToast(this.getLocalization().getText(e.OuShareDialogI18n.ACCESS_ERROR));this.terminate()}}}),null,a)})};e.OuShareDialog.prototype.getContainerName=function(){return e.OuShareDialog.DEFAULT_PROGRAM_NAME};e.OuShareDialog.prototype.getDefaultContainerSize=function(){return e.UiSize.createByCss("43rem","auto")};e.OuShareDialog.prototype.getDialogButtons=function(t){let i=e.XList.create();let o=t.newControl(e.UiType.DIALOG_BUTTON);o.setText(this.getLocalization().getText(e.XCommonI18n.CLOSE));o.registerOnPress(e.UiLambdaPressListener.create(e=>{this.terminate()}));i.add(o);return i};e.OuShareDialog.prototype.getFile=function(){return this.m_file};e.OuShareDialog.prototype.getGeneralLayout=function(){return this.m_generalLayout};e.OuShareDialog.prototype.getIsSearch=function(){return this.m_isSearch};e.OuShareDialog.prototype.getIsSelectAll=function(){return this.m_isSelectAll};e.OuShareDialog.prototype.getOwner=function(){return this.m_owner};e.OuShareDialog.prototype.getPanelLayout=function(){return this.m_panelLayout};e.OuShareDialog.prototype.getProgramName=function(){return e.OuShareDialog.DEFAULT_PROGRAM_NAME};e.OuShareDialog.prototype.getProgramStartData=function(){return this.getStartData()};e.OuShareDialog.prototype.getShareDialogLocalization=function(){return this.getLocalization()};e.OuShareDialog.prototype.getTable=function(){return this.m_table};e.OuShareDialog.prototype.getTableAccessMenuButton=function(){return this.m_tableAccessMenuButton};e.OuShareDialog.prototype.isResizeAllowed=function(){return true};e.OuShareDialog.prototype.newProgram=function(){let t=new e.OuShareDialog;t.setup();return t};e.OuShareDialog.prototype.openCustomAccessDialog=function(t,i){let o=this.getGenesis();e.OuCustomAccessPopup.createCustomAccessPopup(o,t,i).open()};e.OuShareDialog.prototype.prepareProgramMetadata=function(e){};e.OuShareDialog.prototype.processArguments=function(t){if(t.containsKey(e.OuShareDialogConstants.ARG_LINK)){this.m_link=t.getStringByKey(e.OuShareDialogConstants.ARG_LINK)}else{this.m_link=null}if(t.containsKey(e.OuShareDialogConstants.ARG_FILE)){let i=t.getStringByKey(e.OuShareDialogConstants.ARG_FILE);this.m_file=e.XFile.createWithVars(this.getProcess(),i)}else{this.m_file=null}if(t.containsKey(e.OuShareDialogConstants.ARG_WORKSPACE)){this.m_workspace=t.getStringByKey(e.OuShareDialogConstants.ARG_WORKSPACE)}if(t.containsKey(e.OuShareDialogConstants.ARG_OWNER)){this.m_owner=t.getStringByKey(e.OuShareDialogConstants.ARG_OWNER)}else{this.m_owner=null}};e.OuShareDialog.prototype.processConfiguration=function(e){};e.OuShareDialog.prototype.releaseObject=function(){this.m_panelLayout=e.XObjectExt.release(this.m_panelLayout);this.m_userTeamsMultiInput=e.XObjectExt.release(this.m_userTeamsMultiInput);this.m_accessType=e.XObjectExt.release(this.m_accessType);this.m_panelAccessMenuButton=e.XObjectExt.release(this.m_panelAccessMenuButton);this.m_selectedUsers=e.XObjectExt.release(this.m_selectedUsers);this.m_table=e.XObjectExt.release(this.m_table);this.m_generalLayout=e.XObjectExt.release(this.m_generalLayout);this.m_tableAccessMenuButton=e.XObjectExt.release(this.m_tableAccessMenuButton);this.m_accessButton=e.XObjectExt.release(this.m_accessButton);this.m_customAccess=e.XObjectExt.release(this.m_customAccess);this.m_mainCustomAccess=e.XObjectExt.release(this.m_mainCustomAccess);this.m_access=e.XObjectExt.release(this.m_access);this.m_fetchUsersTeams=e.XObjectExt.release(this.m_fetchUsersTeams);this.m_accessPanel=e.XObjectExt.release(this.m_accessPanel);e.DfUiDialogProgram.prototype.releaseObject.call(this)};e.OuShareDialog.prototype.resizeDialog=function(t,i){this.setContainerSize(e.UiSize.createByCss(t,i))};e.OuShareDialog.prototype.searchAllTeams=function(t,i,o,n){return e.XPromise.create((a,r)=>{let l=this.getGenesis().getUiManager().getProcess();this.m_fetchUsersTeams.getTeams(l,t,i,o,e.XSortDirection.NONE,n).onThen(e=>{let t=e.getData().getCachedChildrenResultset();a(t)}).onCatch(e=>{this.getGenesis().showErrorToast(e.getText())})})};e.OuShareDialog.prototype.searchAllUsers=function(t,i,o,n){return e.XPromise.create((a,r)=>{let l=this.getGenesis().getUiManager().getProcess();this.m_fetchUsersTeams.getUsers(l,t,i,o,e.XSortDirection.NONE,n).onThen(e=>{let t=e.getData().getCachedChildrenResultset();a(t)}).onCatch(e=>{this.getGenesis().showErrorToast(e.getText())})})};e.OuShareDialog.prototype.setDialogBusy=function(e){this.setBusy(e)};e.OuShareDialog.prototype.setFile=function(e){this.m_file=e};e.OuShareDialog.prototype.setIsSearch=function(e){this.m_isSearch=e};e.OuShareDialog.prototype.setIsSelectAll=function(e){this.m_isSelectAll=e};e.OuShareDialog.prototype.setOwner=function(e){this.m_owner=e};e.OuShareDialog.prototype.setPanelAccessMenuButton=function(e){this.m_panelAccessMenuButton=e};e.OuShareDialog.prototype.setPanelLayout=function(e){this.m_panelLayout=e};e.OuShareDialog.prototype.setTable=function(e){this.m_table=e};e.OuShareDialog.prototype.setTableAccessMenuButton=function(e){this.m_tableAccessMenuButton=e};e.OuShareDialog.prototype.setupProgram=function(){if(e.isNull(this.m_file)){return e.XPromise.reject(e.XError.create(this.getLocalization().getText(e.OuShareDialogI18n.FILE_ERROR)))}else if(e.isNull(this.m_link)){return e.XPromise.reject(e.XError.create(this.getLocalization().getText(e.OuShareDialogI18n.LINK_ERROR)))}else if(e.isNull(this.m_owner)){return e.XPromise.reject(e.XError.create(this.getLocalization().getText(e.OuShareDialogI18n.OWNER_ERROR)))}let t=e.XStringTokenizer.splitString(this.m_link,"=");let i=t.get(t.size()-1);this.m_file.getAttributesForChanges().putString(e.XFileAttribute.UNIQUE_ID,i);this.m_access=e.OuShareDialogAccess.create();this.m_fetchUsersTeams=e.OuFetchUsersTeams.create(this.getLocalization());return null};e.OuShareDialog.prototype.shareFile=function(t,i,o){return e.XPromise.create((n,a)=>{this.m_file.processShare(e.SyncType.NON_BLOCKING,e.XLambdaFileShareListener.create(t=>{if(e.notNull(t)&&!t.hasErrors()){n(t.getData().getAttributes());let i=this.getGenesis().newControl(e.UiType.TOAST);i.setMessageType(e.UiMessageType.NONE);i.setText(this.getLocalization().getText(e.OuShareDialogI18n.SHARE_SUCCESS));i.setBackgroundColor(e.UiColor.createByRgba(47,60,72,1));i.setFontColor(e.UiColor.WHITE);i.open();this.m_accessPanel=e.OuShareDialogAccessPanel.create(this,false);this.m_userTeamsMultiInput.clearChips();this.setBusy(false)}else{this.setBusy(false);this.getGenesis().showErrorToast(this.getLocalization().getText(e.OuShareDialogI18n.SHARE_ERROR))}}),null,t,i,o)})};e.OuShareDialog.prototype.updateChip=function(t,i){t.setName(i.getDisplayKey());t.setText(e.XStringUtils.concatenate4(i.getText()," (",i.getDisplayKey(),")"));t.setCustomObject(i)};e.OuCalcCalculationsDialog=function(){};e.OuCalcCalculationsDialog.prototype=new e.DfOuDialogProgram;e.OuCalcCalculationsDialog.prototype._ff_c="OuCalcCalculationsDialog";e.OuCalcCalculationsDialog.DEFAULT_PROGRAM_NAME="CalculationsDialog";e.OuCalcCalculationsDialog.DIALOG_CONTENT_HEIGHT="100%";e.OuCalcCalculationsDialog.DIALOG_HEIGHT_DEFAULT="60vh";e.OuCalcCalculationsDialog.DIALOG_HEIGHT_VIEWPORT_BIG="58rem";e.OuCalcCalculationsDialog.DIALOG_HEIGHT_VIEWPORT_BIG_NEW="62rem";e.OuCalcCalculationsDialog.DIALOG_HEIGHT_VIEWPORT_SMALL="80%";e.OuCalcCalculationsDialog.DIALOG_HEIGHT_VIEWPORT_SMALL_NEW="90%";e.OuCalcCalculationsDialog.DIALOG_WIDTH_DEFAULT="66vw";e.OuCalcCalculationsDialog.DIALOG_WIDTH_VIEWPORT_BIG="84rem";e.OuCalcCalculationsDialog.DIALOG_WIDTH_VIEWPORT_BIG_NEW="96rem";e.OuCalcCalculationsDialog.DIALOG_WIDTH_VIEWPORT_SMALL="80%";e.OuCalcCalculationsDialog.DIALOG_WIDTH_VIEWPORT_SMALL_NEW="90%";e.OuCalcCalculationsDialog.PARAM_CALCULATION_NAME="calculationName";e.OuCalcCalculationsDialog.PARAM_DETAILS_ENABLED="detailsEnabled";e.OuCalcCalculationsDialog.PARAM_DIMENSION_NAME="dimensionName";e.OuCalcCalculationsDialog.PARAM_FORMULA_ITEMS="formulaItems";e.OuCalcCalculationsDialog.PARAM_MODEL_PREFIX_ENABLED="modelPrefixEnabled";e.OuCalcCalculationsDialog.PARAM_VALIDATION_ENABLED="validationEnabled";e.OuCalcCalculationsDialog.PRG_DATA_DATA_PROVIDER="dataProvider";e.OuCalcCalculationsDialog.PRG_DATA_LISTENER_CLOSE="closeListener";e.OuCalcCalculationsDialog.PRG_DATA_LISTENER_CLOSE_TEXT="closeListenerText";e.OuCalcCalculationsDialog.VIEWPORT_SMALL_HEIGHT=1050;e.OuCalcCalculationsDialog.VIEWPORT_SMALL_WIDTH=1680;e.OuCalcCalculationsDialog.prototype.m_calculationName=null;e.OuCalcCalculationsDialog.prototype.m_calculations=null;e.OuCalcCalculationsDialog.prototype.m_calculationsPromise=null;e.OuCalcCalculationsDialog.prototype.m_datasource=null;e.OuCalcCalculationsDialog.prototype.m_datasourceHandler=null;e.OuCalcCalculationsDialog.prototype.m_dimensionName=null;e.OuCalcCalculationsDialog.prototype.m_formulaItemNames=null;e.OuCalcCalculationsDialog.prototype.m_okButton=null;e.OuCalcCalculationsDialog.prototype.m_okButtonListener=null;e.OuCalcCalculationsDialog.prototype.m_okButtonListenerText=null;e.OuCalcCalculationsDialog.prototype.m_preferences=null;e.OuCalcCalculationsDialog.prototype.m_view=null;e.OuCalcCalculationsDialog.prototype.m_viewportWidth=0;e.OuCalcCalculationsDialog.prototype.buildUi=function(t){this.setInitialControlToFocus(null);this.setTitle(this.generateTitle());this.m_view=this.createView();this.m_view.renderView(t);let i=t.newRoot(e.UiType.CONTENT_WRAPPER);i.setHeight(e.UiCssLength.create(e.OuCalcCalculationsDialog.DIALOG_CONTENT_HEIGHT));i.useMaxWidth();i.useMaxSpace();i.setContent(this.m_view.getView());this.m_calculationsPromise=this.createCalculationsApplication(this.m_view.getContentWrapperMap()).onThen(e=>{this.m_calculations=e;this.registerOnCalculationUiEvents();this.m_calculations.startup().onThen(e=>{this.linkButtonToValidationState()})})};e.OuCalcCalculationsDialog.prototype.createCalculationsApplication=function(t){let i=e.OuCalcFormulaItemsProviderBuilder.create();if(this.getStartData()===null){throw e.XException.createRuntimeException("No start data found")}let o=e.XList.create();if(e.FeFeatureToggle.isActive(e.FeFeatureToggle.FORMULA_CONFIG)&&!this.getProcess().getEnvironment().getBooleanByKeyExt(e.XEnvironmentConstants.FIREFLY_FORMULA_EDITOR_SHOW_ALL_FORMULA_ITEMS,false)){if(this.m_formulaItemNames.isEmpty()){this.logWarning("No formula items given to show. Please provide a list of String literals in parameter 'formulaItems' to continue.")}o=e.FeFormulaItemsFactory.create(this.m_datasource.getDatasourceType()).getRequestedSupportedFormulaItems(this.m_formulaItemNames);if(o.isEmpty()){this.logWarning3("No supported formula items match the given formula names in parameter 'formulaItems'.",e.XStringUtils.concatenate2("Datasource: ",this.m_datasource.getDatasourceType().getName()),e.XStringUtils.concatenate2("Given 'formulaItems': ",this.m_formulaItemNames.toString()))}}else{o=e.FeFormulaItemsFactory.create(this.m_datasource.getDatasourceType()).getAllSupportedFormulaItems()}i.addAll(o);let n=this.createUIConfigurationBuilder(t);let a=this.getQueryManager()===null?e.OuCalcMemberSelectorHandler.createNull():e.OuCalcMemberSelectorHandler.create(this.getProcess(),this.getQueryManager().getQueryModel(),this.m_datasource,this.m_preferences);let r=e.OuCalcInitialDataBuilder.create(this.m_datasource,e.FeFormulaPresentation.create(this.m_preferences.isCommaDecimalSeparator()));if(e.notNull(this.m_calculationName)){r.setCalculationName(this.m_calculationName)}return e.OuCalcCalculations.createExt(this.m_datasource,i.build(),n.build(),r.build(),this.m_preferences,a,this.getProcess())};e.OuCalcCalculationsDialog.prototype.createUIConfigurationBuilder=function(t){let i=e.OuCalcUIConfigurationBuilder.create();let o=e.OuCalcDetailsPanelConfigBuilder.create();o.setAnchorTag(t.getByKey(e.OuCalcUiComponent.DETAILS_PANEL));let n=e.OuCalcCodeEditorPanelConfigBuilder.create();n.setAnchorTag(t.getByKey(e.OuCalcUiComponent.CODE_EDITOR));let a=e.OuCalcFormulaItemListPanelConfigBuilder.create();a.setAnchorTag(t.getByKey(e.OuCalcUiComponent.FORMULA_ELEMENTS_PANEL));let r=e.OuCalcAssistancePanelConfigBuilder.create();r.setAnchorTag(t.getByKey(e.OuCalcUiComponent.ASSISTANCE_PANEL));i.addDetailsPanelConfig(o.build());i.addCodeEditorPanelConfig(n.build());i.addFormulaElementListPanelConfig(a.build());i.addAssistancePanelConfig(r.build());return i};e.OuCalcCalculationsDialog.prototype.createView=function(){if(!e.FeFeatureToggle.isActive(e.FeFeatureToggle.DIALOG_NEW_LAYOUT)){return e.OuCalcCalculationsDialogViewOld.create()}let t=this.m_viewportWidth>e.OuCalcCalculationsDialog.VIEWPORT_SMALL_WIDTH;let i=t?e.OuCalcCalculationsDialogViewConstants.V2_PANEL_ITEM_LEFT_WIDTH_BIG_VIEWPORT:e.OuCalcCalculationsDialogViewConstants.V2_PANEL_ITEM_LEFT_WIDTH_SMALL_VIEWPORT;let o=t?e.OuCalcCalculationsDialogViewConstants.V2_PANEL_ITEM_RIGHT_WIDTH_BIG_VIEWPORT:e.OuCalcCalculationsDialogViewConstants.V2_PANEL_ITEM_RIGHT_WIDTH_SMALL_VIEWPORT;let n=e.OuCalcAssistancePluginV2.PANEL_INITIAL_STATE_COLLAPSED;return e.OuCalcCalculationsDialogView.create(i,o,n,this.m_preferences)};e.OuCalcCalculationsDialog.prototype.enableFeFeatureToggles=function(){if(this.getProcess().getEnvironment().getBooleanByKeyExt(e.XEnvironmentConstants.FIREFLY_FORMULA_EDITOR_ENABLE_ALL_FEATURE_TOGGLES,false)){e.FeFeatureToggle.enableAll()}let t=this.getProcess().getEnvironment().getStringByKeyExt(e.XEnvironmentConstants.FIREFLY_FORMULA_EDITOR_FEATURE_TOGGLES,"");if(e.XStringUtils.isNotNullAndNotEmpty(t)){let i=e.XStringTokenizer.splitString(t,",");for(let t=0;t<i.size();t++){let o=e.FeFeatureToggle.lookup(e.XString.trim(i.get(t)));if(e.notNull(o)){e.FeFeatureToggle.enable(o)}}}};e.OuCalcCalculationsDialog.prototype.generateButtonText=function(){let t=e.XCommonI18n.CREATE;if(e.notNull(this.m_calculationName)){t=e.XCommonI18n.OK}return this.getLocalization().getText(t)};e.OuCalcCalculationsDialog.prototype.generateTitle=function(){let t=e.OuCalcCalculationsDialogI18n.DIALOG_TITLE_CREATE;if(e.notNull(this.m_calculationName)){t=e.OuCalcCalculationsDialogI18n.DIALOG_TITLE_EDIT}return this.getLocalization().getText(t)};e.OuCalcCalculationsDialog.prototype.getContainerCssClass=function(){return"ffOuCalcCalculationsDialog"};e.OuCalcCalculationsDialog.prototype.getDefaultContainerSize=function(){return e.UiSize.createByCss(e.OuCalcCalculationsDialog.DIALOG_WIDTH_DEFAULT,e.OuCalcCalculationsDialog.DIALOG_HEIGHT_DEFAULT)};e.OuCalcCalculationsDialog.prototype.getDialogButtons=function(t){let i=e.XList.create();this.m_okButton=t.newControl(e.UiType.DIALOG_BUTTON);this.m_okButton.setText(this.generateButtonText());this.m_okButton.setButtonType(e.UiButtonType.PRIMARY);this.m_okButton.registerOnPress(e.UiLambdaPressListener.create(e=>{this.onOkPressed()}));this.m_okButton.setName("CalculationsDialog-OkButton");this.m_okButton.setEnabled(false);i.add(this.m_okButton);let o=t.newControl(e.UiType.DIALOG_BUTTON);o.setText(this.getLocalization().getText(e.XCommonI18n.CANCEL));o.registerOnPress(e.UiLambdaPressListener.create(e=>{this.notifyCancelPressed();this.terminate()}));o.setName("CalculationsDialog-CancelButton");i.add(o);return i};e.OuCalcCalculationsDialog.prototype.getProgramName=function(){return e.OuCalcCalculationsDialog.DEFAULT_PROGRAM_NAME};e.OuCalcCalculationsDialog.prototype.initDatasourceHandler=function(){if(e.notNull(this.m_datasource)){return e.XPromise.resolve(e.XBooleanValue.create(true))}return e.XPromise.create((t,i)=>{let o=e.notNull(this.m_dimensionName)?this.getQueryManager().getQueryModel().getDimensionByName(this.m_dimensionName):this.getQueryManager().getQueryModel().getMeasureDimension();e.XObjectExt.assertNotNullExt(o,e.XStringUtils.concatenate3("dimension name '",this.m_dimensionName,"' not found!"));e.OuCalcDatasourceHandlerFactory.createPromise(this.getQueryManager().getQueryModel(),o).onThen(e=>{this.m_datasourceHandler=e;this.m_datasourceHandler.getDatasourcePromise().onThen(t=>{this.m_datasource=e.getDatasource()})}).onFinally(()=>{t(e.XBooleanValue.create(true))})})};e.OuCalcCalculationsDialog.prototype.isResizeAllowed=function(){return true};e.OuCalcCalculationsDialog.prototype.linkButtonToValidationState=function(){this.m_calculations.registerOnValidationStateChange(e=>{this.m_okButton.setEnabled(e.getBoolean())})};e.OuCalcCalculationsDialog.prototype.logEventForUsageTracking=function(t,i,o){let n=e.notNull(o)?i.getFunctionNamesUsedInDependentCalculations(o):null;e.CalculationDialogUsageTracking.recordCalculationDialogEvent(this.getProcess(),t,i.getDatasourceType().getName(),i.getStructureType(),n)};e.OuCalcCalculationsDialog.prototype.logExt=function(t,i,o,n){e.DfOuDialogProgram.prototype.logExt.call(this,t,i,o,e.XStringUtils.concatenate3(e.OuCalcCalculationsDialog.DEFAULT_PROGRAM_NAME,": ",e.notNull(n)?n:"No error given"))};e.OuCalcCalculationsDialog.prototype.newProgram=function(){let t=new e.OuCalcCalculationsDialog;t.setup();return t};e.OuCalcCalculationsDialog.prototype.onContainerAfterOpen=function(){this.m_calculationsPromise.onThen(t=>{this.m_calculations.focusComponent(e.OuCalcUiComponent.DETAILS_PANEL)})};e.OuCalcCalculationsDialog.prototype.onOkPressed=function(){if(this.m_calculations.calculationIsValid().getBoolean()){this.m_calculations.retrieveFormulaString().onThen(t=>{if(!t.isPresent()){throw e.XException.createRuntimeException("Missing formula text")}this.m_calculations.createCalculation().onThen(i=>{this.m_calculations.getId().onThen(o=>{this.m_calculations.getName().onThen(n=>{if(!o.isPresent()){throw e.XException.createRuntimeException("Missing ID for calculation")}let a=o.get().getString();let r=n.isPresent()?n.get().getString():a;if(e.notNull(this.m_okButtonListenerText)){this.m_okButtonListenerText.accept(this.m_preferences.isDetailsEnabled()?a:null,this.m_preferences.isDetailsEnabled()?r:null,t.get().getString())}if(e.notNull(this.m_okButtonListener)&&e.notNull(this.m_datasourceHandler)){let e=this.m_datasourceHandler.createCalculation(a,r,this.m_calculationName,i,t.get().getString());this.notifyOkPressed();this.m_okButtonListener.onOkButton(e)}let l=e.notNull(this.m_calculationName)?e.CalculationDialogUsageTracking.UPDATE_EVENT:e.CalculationDialogUsageTracking.CREATE_EVENT;this.logEventForUsageTracking(l,this.m_datasource,a);this.terminate()}).onCatch(e=>{this.logError(e.getText());this.getGenesis().showErrorToast(e.getText())})}).onCatch(e=>{this.logError(e.getText());this.getGenesis().showErrorToast(e.getText())})}).onCatch(e=>{this.logError(e.getText());this.getGenesis().showErrorToast(e.getText())})})}};e.OuCalcCalculationsDialog.prototype.prepareProgramMetadata=function(t){t.addParameter(e.OuCalcCalculationsDialog.PARAM_DIMENSION_NAME,"The dimension name");t.addParameter(e.OuCalcCalculationsDialog.PARAM_CALCULATION_NAME,"The calculation name");t.addParameterList(e.OuCalcCalculationsDialog.PARAM_FORMULA_ITEMS,"The formula items")};e.OuCalcCalculationsDialog.prototype.processArguments=function(t){this.m_dimensionName=t.getStringByKeyExt(e.OuCalcCalculationsDialog.PARAM_DIMENSION_NAME,null);let i=t.getBooleanByKeyExt(e.OuCalcCalculationsDialog.PARAM_VALIDATION_ENABLED,true);let o=this.getProcess().getEnvironment().getBooleanByKeyExt(e.XEnvironmentConstants.FIREFLY_FORMULA_EDITOR_MODEL_PREFIX_ENABLED_DEFAULT,false);let n=t.getBooleanByKeyExt(e.OuCalcCalculationsDialog.PARAM_MODEL_PREFIX_ENABLED,o);let a=t.getBooleanByKeyExt(e.OuCalcCalculationsDialog.PARAM_DETAILS_ENABLED,true);this.m_preferences=e.FePreferences.create(this.getProcess().getUserProfile(),i,n,a);this.m_calculationName=t.getStringByKeyExt(e.OuCalcCalculationsDialog.PARAM_CALCULATION_NAME,null);this.m_datasource=this.getStartData().getXObjectByKey(e.OuCalcCalculationsDialog.PRG_DATA_DATA_PROVIDER);let r=t.getListByKey(e.OuCalcCalculationsDialog.PARAM_FORMULA_ITEMS);this.m_formulaItemNames=e.XStream.of(r).filter(e=>e.isString()).collect(e.XStreamCollector.toListOfString(e=>e.asString().getString()))};e.OuCalcCalculationsDialog.prototype.processConfiguration=function(e){};e.OuCalcCalculationsDialog.prototype.registerOnCalculationUiEvents=function(){this.m_calculations.registerOnUiEvent(e=>{this.m_view.onCalculationUiEvents(e.getName(),e.getObject())})};e.OuCalcCalculationsDialog.prototype.releaseObject=function(){this.m_okButtonListener=null;this.m_okButtonListenerText=null;this.m_calculations.shutdown();this.m_calculations=null;this.m_okButton=null;this.m_datasourceHandler=e.XObjectExt.release(this.m_datasourceHandler);this.m_datasource=e.XObjectExt.release(this.m_datasource);this.m_calculationName=null;this.m_formulaItemNames=e.XObjectExt.release(this.m_formulaItemNames);this.m_view=e.XObjectExt.release(this.m_view);e.DfOuDialogProgram.prototype.releaseObject.call(this)};e.OuCalcCalculationsDialog.prototype.setContainerSizeByViewport=function(){return e.UiFramework.currentFramework().getViewportSize().onThenExt(t=>{if(e.notNull(t)){let i=t.getWidth();let o=t.getHeight();this.m_viewportWidth=i.getValue();let n=e.FeFeatureToggle.isActive(e.FeFeatureToggle.DIALOG_NEW_LAYOUT)?e.OuCalcCalculationsDialog.DIALOG_WIDTH_VIEWPORT_BIG_NEW:e.OuCalcCalculationsDialog.DIALOG_WIDTH_VIEWPORT_BIG;let a=e.FeFeatureToggle.isActive(e.FeFeatureToggle.DIALOG_NEW_LAYOUT)?e.OuCalcCalculationsDialog.DIALOG_HEIGHT_VIEWPORT_BIG_NEW:e.OuCalcCalculationsDialog.DIALOG_HEIGHT_VIEWPORT_BIG;let r=e.FeFeatureToggle.isActive(e.FeFeatureToggle.DIALOG_NEW_LAYOUT)?e.OuCalcCalculationsDialog.DIALOG_WIDTH_VIEWPORT_SMALL_NEW:e.OuCalcCalculationsDialog.DIALOG_WIDTH_VIEWPORT_SMALL;let l=e.FeFeatureToggle.isActive(e.FeFeatureToggle.DIALOG_NEW_LAYOUT)?e.OuCalcCalculationsDialog.DIALOG_HEIGHT_VIEWPORT_SMALL_NEW:e.OuCalcCalculationsDialog.DIALOG_HEIGHT_VIEWPORT_SMALL;let s=e.UiCssLength.create(i.getValue()<=e.OuCalcCalculationsDialog.VIEWPORT_SMALL_WIDTH?r:n);let u=e.UiCssLength.create(o.getValue()<=e.OuCalcCalculationsDialog.VIEWPORT_SMALL_HEIGHT?l:a);this.setContainerSize(e.UiSize.createExt(s,u))}return e.XBooleanValue.create(true)}).onCatch(e=>{this.logError(e.getText())})};e.OuCalcCalculationsDialog.prototype.setupProgram=function(){if(this.getStartData()!==null){this.m_okButtonListenerText=this.getStartData().getXObjectByKey(e.OuCalcCalculationsDialog.PRG_DATA_LISTENER_CLOSE_TEXT);this.m_okButtonListener=this.getStartData().getXObjectByKey(e.OuCalcCalculationsDialog.PRG_DATA_LISTENER_CLOSE)}this.enableFeFeatureToggles();if(this.getProcess().getEnvironment().getBooleanByKeyExt(e.XEnvironmentConstants.FIREFLY_RESOURCE_EXPLORER_DATASPHERE_ENABLE_ALL_FEATURE_TOGGLES,false)){e.DatasphereFeatureToggle.enableAll()}return e.FeFeatureToggle.load(this.getProcess()).onThenPromise(t=>{let i=e.XPromiseList.create();i.add(this.initDatasourceHandler());i.add(this.setContainerSizeByViewport());let o=e.XPromise.all(i);return o.onThenExt(t=>{if(e.isNull(this.m_datasourceHandler)&&e.isNull(this.m_datasource)){throw e.XException.createRuntimeException(e.XStringUtils.concatenate5("No data source initialized! Please specify one of '",e.DfOuDialogProgram.PRG_DATA_QUERY_MANAGER,"' or '",e.OuCalcCalculationsDialog.PRG_DATA_DATA_PROVIDER,"' in the program data"))}if(e.isNull(this.m_datasourceHandler)&&e.notNull(this.m_okButtonListener)){this.logWarning(e.XStringUtils.concatenate3("No query manager specified! The '",e.OuCalcCalculationsDialog.PRG_DATA_LISTENER_CLOSE,"' is ignored!"))}return e.XBooleanValue.create(true)})})};e.OuCurrencyConversionDialog=function(){};e.OuCurrencyConversionDialog.prototype=new e.DfOuDialogProgram;e.OuCurrencyConversionDialog.prototype._ff_c="OuCurrencyConversionDialog";e.OuCurrencyConversionDialog.CANCEL_BUTTON="CurrencyConversionDialog_cancelButton";e.OuCurrencyConversionDialog.DEFAULT_PROGRAM_NAME="CurrencyConversionDialog";e.OuCurrencyConversionDialog.DROPDOWN_CURRENCY="CurrencyConversionDialog_currencyDropdown";e.OuCurrencyConversionDialog.DROPDOWN_TRANSLATION="CurrencyConversionDialog_translationDropdown";e.OuCurrencyConversionDialog.EXCEPTION_BW_CC_NOT_ENABLED="The client cannot apply a currency translation on this query.";e.OuCurrencyConversionDialog.EXCEPTION_BW_CC_NOT_SUPPORTED="Query Model does not support BW Currency Translation.";e.OuCurrencyConversionDialog.EXCEPTION_INVALID_DROPDOWN_VALUE="A reserved dropdown key is contained in the dataset, corresponding to the empty item.";e.OuCurrencyConversionDialog.EXCEPTION_INVALID_STATE_FOR_QM_UPDATE="Cannot apply currency translation with only one instead of two of the following: a fixed target currency; a translation type.";e.OuCurrencyConversionDialog.OK_BUTTON="CurrencyConversionDialog_okButton";e.OuCurrencyConversionDialog.prototype.m_cancelButton=null;e.OuCurrencyConversionDialog.prototype.m_currencyConversionDialogHelper=null;e.OuCurrencyConversionDialog.prototype.m_currencyTranslationManager=null;e.OuCurrencyConversionDialog.prototype.m_currencyTranslationTypeDropdown=null;e.OuCurrencyConversionDialog.prototype.m_okButton=null;e.OuCurrencyConversionDialog.prototype.m_targetCurrencyDropdown=null;e.OuCurrencyConversionDialog.prototype.addItemsToConversionDropdown=function(t){let i=e.XLinkedHashMapByString.create();let o=this.getLocalization().getText(e.OuCurrencyConversionDialogI18n.TYPE_DROPDOWN_DEFAULT_VALUE);i.put(e.OuCurrencyConversionDialogHelper.EMPTY_ITEM_NAME,o);let n=t.size();for(let o=0;o<n;o++){let n=t.get(o);if(this.m_currencyConversionDialogHelper.isEmptyItemValue(n.getName())){throw e.XException.createRuntimeException(e.OuCurrencyConversionDialog.EXCEPTION_INVALID_DROPDOWN_VALUE)}i.put(n.getName(),n.getText())}this.m_currencyTranslationTypeDropdown.setComboBoxItems(i)};e.OuCurrencyConversionDialog.prototype.addItemsToCurrencyDropdown=function(t){let i=e.XLinkedHashMapByString.create();let o=this.getLocalization().getText(e.OuCurrencyConversionDialogI18n.TARGET_DROPDOWN_DEFAULT_VALUE);i.put(e.OuCurrencyConversionDialogHelper.EMPTY_ITEM_NAME,o);let n=t.size();for(let o=0;o<n;o++){let n=t.get(o);let a=n.getName();if(this.m_currencyConversionDialogHelper.isEmptyItemValue(a)){throw e.XException.createRuntimeException(e.OuCurrencyConversionDialog.EXCEPTION_INVALID_DROPDOWN_VALUE)}let r=this.getLocalization().getTextWithPlaceholder2(e.OuCurrencyConversionDialogI18n.TARGET_DROPDOWN_VALUE,a,n.getText());i.put(a,r)}this.m_targetCurrencyDropdown.setComboBoxItems(i)};e.OuCurrencyConversionDialog.prototype.buildUi=function(t){this.checkTranslationManagerIsValid();this.setTitle(this.getLocalization().getText(e.OuCurrencyConversionDialogI18n.TITLE));let i=t.newControl(e.UiType.FLEX_LAYOUT);i.setDirection(e.UiFlexDirection.COLUMN);i.setPadding(e.UtStyles.DIALOG_PADDING);i.addItem(this.setupForm(t).getView());t.setRoot(i);this.disableDropdowns();this.m_currencyTranslationManager.setupBwCatalogs(e.SyncType.NON_BLOCKING,this)};e.OuCurrencyConversionDialog.prototype.checkTranslationManagerIsValid=function(){if(!this.m_currencyTranslationManager.getModelCapabilities().supportsQueryCurrencyTranslation()||this.m_currencyTranslationManager.getQueryCurrencyTranslation()===null){this.getGenesis().showErrorToast(this.getLocalization().getText(e.OuCurrencyConversionDialogI18n.TOAST_ERROR_TRANSLATION_NOT_SUPPORTED));this.terminate();throw e.XException.createRuntimeException(e.OuCurrencyConversionDialog.EXCEPTION_BW_CC_NOT_SUPPORTED)}if(this.m_currencyTranslationManager.getQueryCurrencyTranslation()===null){this.getGenesis().showErrorToast(this.getLocalization().getText(e.OuCurrencyConversionDialogI18n.TOAST_ERROR_TRANSLATION_NOT_ENABLED));this.terminate();throw e.XException.createRuntimeException(e.OuCurrencyConversionDialog.EXCEPTION_BW_CC_NOT_ENABLED)}};e.OuCurrencyConversionDialog.prototype.disableDropdowns=function(){this.setDropdownsEnabled(false)};e.OuCurrencyConversionDialog.prototype.enableDropdowns=function(){this.setDropdownsEnabled(true)};e.OuCurrencyConversionDialog.prototype.getContainerName=function(){return this.getProgramName()};e.OuCurrencyConversionDialog.prototype.getDefaultContainerSize=function(){return e.UiSize.createExt(e.UiCssLength.create("450px"),e.UiCssLength.create("170px"))};e.OuCurrencyConversionDialog.prototype.getDialogButtons=function(t){let i=e.XList.create();this.m_okButton=t.newControl(e.UiType.DIALOG_BUTTON);this.m_okButton.setName(e.OuCurrencyConversionDialog.OK_BUTTON);this.m_okButton.setText(this.getLocalization().getText(e.XCommonI18n.OK));this.m_okButton.setButtonType(e.UiButtonType.PRIMARY);this.m_okButton.registerOnPress(e.UiLambdaPressListener.create(e=>{this.onOkPressed()}));this.m_okButton.setEnabled(false);i.add(this.m_okButton);this.m_cancelButton=t.newControl(e.UiType.DIALOG_BUTTON);this.m_cancelButton.setName(e.OuCurrencyConversionDialog.CANCEL_BUTTON);this.m_cancelButton.setText(this.getLocalization().getText(e.XCommonI18n.CANCEL));this.m_cancelButton.registerOnPress(e.UiLambdaPressListener.create(e=>{this.onCancelPressed()}));i.add(this.m_cancelButton);return i};e.OuCurrencyConversionDialog.prototype.getProgramName=function(){return e.OuCurrencyConversionDialog.DEFAULT_PROGRAM_NAME};e.OuCurrencyConversionDialog.prototype.handleFormItemEnterPressed=function(){if(this.m_okButton.isEnabled()){this.onOkPressed()}};e.OuCurrencyConversionDialog.prototype.handleFormItemValueChanged=function(t,i){if(e.notNull(i)){this.rerenderUi(e.XString.isEqual(i.getStringRepresentation(),e.OuCurrencyConversionDialogHelper.EMPTY_ITEM_NAME))}else{this.m_okButton.setEnabled(false)}};e.OuCurrencyConversionDialog.prototype.newProgram=function(){let t=new e.OuCurrencyConversionDialog;t.setup();return t};e.OuCurrencyConversionDialog.prototype.onCancelPressed=function(){this.notifyCancelPressed();this.terminate()};e.OuCurrencyConversionDialog.prototype.onCatalogsLoaded=function(){this.m_currencyConversionDialogHelper=e.OuCurrencyConversionDialogHelper.create(this.m_currencyTranslationManager);this.rerenderUi(true);this.setDropdownSelectionsFromQuery();this.enableDropdowns()};e.OuCurrencyConversionDialog.prototype.onContainerAfterOpen=function(){if(e.notNull(this.m_targetCurrencyDropdown)){this.m_targetCurrencyDropdown.focus()}};e.OuCurrencyConversionDialog.prototype.onOkPressed=function(){this.updateQueryModel();this.notifyOkPressed();this.terminate()};e.OuCurrencyConversionDialog.prototype.prepareProgramMetadata=function(e){};e.OuCurrencyConversionDialog.prototype.processArguments=function(e){this.assertQueryManagerSet()};e.OuCurrencyConversionDialog.prototype.processConfiguration=function(e){};e.OuCurrencyConversionDialog.prototype.releaseObject=function(){this.m_okButton=e.XObjectExt.release(this.m_okButton);this.m_cancelButton=e.XObjectExt.release(this.m_cancelButton);this.m_targetCurrencyDropdown=e.XObjectExt.release(this.m_targetCurrencyDropdown);this.m_currencyTranslationTypeDropdown=e.XObjectExt.release(this.m_currencyTranslationTypeDropdown);this.m_currencyConversionDialogHelper=e.XObjectExt.release(this.m_currencyConversionDialogHelper);this.m_currencyTranslationManager=null;e.DfOuDialogProgram.prototype.releaseObject.call(this)};e.OuCurrencyConversionDialog.prototype.rerenderUi=function(t){let i=this.m_targetCurrencyDropdown.getValue();let o=this.m_currencyTranslationTypeDropdown.getValue();if(e.isNull(i)||e.isNull(o)){this.m_okButton.setEnabled(false)}else{let n=i.getStringRepresentation();let a=o.getStringRepresentation();if(t){n=e.OuCurrencyConversionDialogHelper.EMPTY_ITEM_NAME;a=e.OuCurrencyConversionDialogHelper.EMPTY_ITEM_NAME}this.addItemsToCurrencyDropdown(this.m_currencyConversionDialogHelper.getCurrenciesOfTranslation(a));this.addItemsToConversionDropdown(this.m_currencyConversionDialogHelper.getTranslationsOfCurrency(n));let r=!this.m_currencyConversionDialogHelper.isEmptyItemValue(n);let l=!this.m_currencyConversionDialogHelper.isEmptyItemValue(a);let s=r&&l;let u=!r&&!l;this.m_targetCurrencyDropdown.setValue(e.XStringValue.create(n));this.m_currencyTranslationTypeDropdown.setValue(e.XStringValue.create(a));this.m_okButton.setEnabled(s||u)}};e.OuCurrencyConversionDialog.prototype.setDropdownSelectionsFromQuery=function(){let t=this.m_currencyTranslationManager.getQueryCurrencyTranslation();let i=t.getFixedTargetCurrency();let o=t.getCurrencyTranslationName();if(t.isApplyDefinedCurrencyTranslation()&&e.XStringUtils.isNotNullAndNotEmpty(i)&&e.XStringUtils.isNotNullAndNotEmpty(o)){this.m_targetCurrencyDropdown.setValue(e.XStringValue.create(i));this.m_currencyTranslationTypeDropdown.setValue(e.XStringValue.create(o));this.rerenderUi(false)}};e.OuCurrencyConversionDialog.prototype.setDropdownsEnabled=function(e){this.m_targetCurrencyDropdown.setEnabled(e);this.m_currencyTranslationTypeDropdown.setEnabled(e)};e.OuCurrencyConversionDialog.prototype.setupForm=function(t){let i=e.UiForm.create(t);let o=this.getLocalization().getText(e.OuCurrencyConversionDialogI18n.TARGET_CURRENCY_LABEL);this.m_targetCurrencyDropdown=i.addComboBox(e.OuCurrencyConversionDialog.DROPDOWN_CURRENCY,"",o,null,false);this.m_targetCurrencyDropdown.setValueChangedConsumer((e,t)=>{this.handleFormItemValueChanged(e,t)});this.m_targetCurrencyDropdown.setEnterPressedProcedure(()=>{this.handleFormItemEnterPressed()});let n=this.getLocalization().getText(e.OuCurrencyConversionDialogI18n.TRANSLATION_TYPE_LABEL);this.m_currencyTranslationTypeDropdown=i.addComboBox(e.OuCurrencyConversionDialog.DROPDOWN_TRANSLATION,"",n,null,false);this.m_currencyTranslationTypeDropdown.setValueChangedConsumer((e,t)=>{this.handleFormItemValueChanged(e,t)});this.m_currencyTranslationTypeDropdown.setEnterPressedProcedure(()=>{this.handleFormItemEnterPressed()});return i};e.OuCurrencyConversionDialog.prototype.setupProgram=function(){this.m_currencyTranslationManager=this.getQueryManager().getQueryModel().getCurrencyTranslationManager();return null};e.OuCurrencyConversionDialog.prototype.updateQueryModel=function(){let t=this.m_targetCurrencyDropdown.getValue().getStringRepresentation();let i=this.m_currencyTranslationTypeDropdown.getValue().getStringRepresentation();let o=this.m_currencyConversionDialogHelper.isEmptyItemValue(t)&&!this.m_currencyConversionDialogHelper.isEmptyItemValue(i);let n=this.m_currencyConversionDialogHelper.isEmptyItemValue(i)&&!this.m_currencyConversionDialogHelper.isEmptyItemValue(t);if(o||n){throw e.XException.createRuntimeException(e.OuCurrencyConversionDialog.EXCEPTION_INVALID_STATE_FOR_QM_UPDATE)}let a=this.m_currencyTranslationManager.getQueryModel();a.queueEventing();let r=this.m_currencyTranslationManager.getQueryCurrencyTranslation();let l=!this.m_currencyConversionDialogHelper.isEmptyItemValue(i);if(l){r.setFixedTargetCurrencyByString(t);r.setCurrencyTranslationName(i)}r.setApplyDefinedCurrencyTranslation(l);a.resumeEventing()};e.OuDimensionDialog2=function(){};e.OuDimensionDialog2.prototype=new e.DfOuDialogProgram;e.OuDimensionDialog2.prototype._ff_c="OuDimensionDialog2";e.OuDimensionDialog2.DEFAULT_PROGRAM_NAME="DimensionDialog2";e.OuDimensionDialog2.PARAM_DIMENSION_NAME="dimensionName";e.OuDimensionDialog2.PARAM_INITIAL_TAB="initialTab";e.OuDimensionDialog2.PARAM_INITIAL_TAB_DISPLAY="display";e.OuDimensionDialog2.PARAM_INITIAL_TAB_HIERARCHY="hierarchy";e.OuDimensionDialog2.PARAM_INITIAL_TAB_SORT="sort";e.OuDimensionDialog2.prototype.m_dimension=null;e.OuDimensionDialog2.prototype.m_displayTab=null;e.OuDimensionDialog2.prototype.m_hierarchyTab=null;e.OuDimensionDialog2.prototype.m_initialTab=null;e.OuDimensionDialog2.prototype.m_root=null;e.OuDimensionDialog2.prototype.m_sortTab=null;e.OuDimensionDialog2.prototype.buildUi=function(t){let i=this.getDimensionDisplayName();this.setTitle(this.getLocalization().getTextWithPlaceholder(e.OuDimensionDialog2I18n.TITLE,i));this.m_root=t.newRoot(e.UiType.ICON_TAB_BAR);this.m_root.setApplyContentPadding(false);let o=this.getLocalization();this.m_displayTab=e.OuDd2DisplayTab.createTab(this.m_dimension,o);this.m_sortTab=e.OuDd2SortingTab.createTab(this.m_dimension,o);this.m_hierarchyTab=e.OuDd2HierarchyTab.createTab(this.m_dimension,o);this.m_displayTab.buildUi(t,this.m_root);this.m_sortTab.buildUi(t,this.m_root);this.m_hierarchyTab.buildUi(t,this.m_root);this.loadState();if(e.notNull(this.m_initialTab)){switch(this.m_initialTab){case e.OuDimensionDialog2.PARAM_INITIAL_TAB_SORT:if(e.notNull(this.m_sortTab)){this.m_sortTab.selectItem()}break;case e.OuDimensionDialog2.PARAM_INITIAL_TAB_HIERARCHY:if(e.notNull(this.m_hierarchyTab)){this.m_hierarchyTab.selectItem()}break}}};e.OuDimensionDialog2.prototype.getDefaultContainerSize=function(){return e.UiSize.createByCss("400px","460px")};e.OuDimensionDialog2.prototype.getDialogButtons=function(t){let i=this.getLocalization();let o=t.newControl(e.UiType.DIALOG_BUTTON);o.setText(i.getText(e.XCommonI18n.OK));o.setButtonType(e.UiButtonType.PRIMARY);o.registerOnPress(e.UiLambdaPressListener.create(e=>{this.saveState();this.notifyOkPressed();this.terminate()}));let n=t.newControl(e.UiType.DIALOG_BUTTON);n.setText(i.getText(e.XCommonI18n.CANCEL));n.registerOnPress(e.UiLambdaPressListener.create(e=>{this.notifyCancelPressed();this.terminate()}));let a=e.XList.create();a.add(o);a.add(n);return a};e.OuDimensionDialog2.prototype.getDimensionDisplayName=function(){if(this.m_dimension.getProcess().hasFeature(e.FeatureToggleOlap.USE_ORIGINAL_STRUCTURE_TEXT_IN_UI)&&this.m_dimension.getDimensionType()===e.DimensionType.SECONDARY_STRUCTURE&&e.XStringUtils.isNotNullAndNotEmpty(this.m_dimension.getOriginalText())){return this.m_dimension.getOriginalText()}let t=this.m_dimension.getText();if(e.XStringUtils.isNotNullAndNotEmpty(t)){return t}let i=this.m_dimension.getName();if(e.XStringUtils.isNotNullAndNotEmpty(i)){return i}return this.getLocalization().getText(e.OuDimensionDialog2I18n.DIMENSION)};e.OuDimensionDialog2.prototype.getProgramName=function(){return e.OuDimensionDialog2.DEFAULT_PROGRAM_NAME};e.OuDimensionDialog2.prototype.loadState=function(){this.m_displayTab.loadState();this.m_sortTab.loadState();this.m_hierarchyTab.loadState()};e.OuDimensionDialog2.prototype.newProgram=function(){let t=new e.OuDimensionDialog2;t.setup();return t};e.OuDimensionDialog2.prototype.onContainerAfterOpen=function(){if(this.m_root.getSelectedItem()!==null){this.m_root.getSelectedItem().focus()}};e.OuDimensionDialog2.prototype.prepareProgramMetadata=function(t){t.addParameter(e.OuDimensionDialog2.PARAM_DIMENSION_NAME,"The dimension to show properties for.");t.addParameter(e.OuDimensionDialog2.PARAM_INITIAL_TAB,"The initial tab to be pre-selected.")};e.OuDimensionDialog2.prototype.processArguments=function(t){this.assertQueryManagerSet();let i=t.getStringByKey(e.OuDimensionDialog2.PARAM_DIMENSION_NAME);this.m_dimension=this.getQueryManager().getQueryModel().getDimensionByName(i);this.m_initialTab=t.getStringByKey(e.OuDimensionDialog2.PARAM_INITIAL_TAB)};e.OuDimensionDialog2.prototype.processConfiguration=function(e){};e.OuDimensionDialog2.prototype.releaseObject=function(){this.m_displayTab=null;this.m_sortTab=null;this.m_hierarchyTab=null;this.m_dimension=null;this.m_initialTab=null;this.m_root=e.XObjectExt.release(this.m_root);e.DfOuDialogProgram.prototype.releaseObject.call(this)};e.OuDimensionDialog2.prototype.saveState=function(){this.m_sortTab.saveState();this.m_hierarchyTab.saveState();this.m_displayTab.saveState()};e.OuDimensionDialog2.prototype.setupProgram=function(){return null};e.OuSelectHierarchyDialog=function(){};e.OuSelectHierarchyDialog.prototype=new e.DfOuDialogProgram;e.OuSelectHierarchyDialog.prototype._ff_c="OuSelectHierarchyDialog";e.OuSelectHierarchyDialog.DEFAULT_PROGRAM_NAME="SelectHierarchyDialog";e.OuSelectHierarchyDialog.DROPDOWN_HIERARCHY="SelectHierarchyDialog_hierarchyDropdown";e.OuSelectHierarchyDialog.FLAT_PRESENTATION_ITEM="SelectHierarchyDialog_FlatPresentationMenu";e.OuSelectHierarchyDialog.PRG_DATA_DIMENSION="dimension";e.OuSelectHierarchyDialog.prototype.m_cancelButton=null;e.OuSelectHierarchyDialog.prototype.m_dimension=null;e.OuSelectHierarchyDialog.prototype.m_hierarchyDropdown=null;e.OuSelectHierarchyDialog.prototype.m_okButton=null;e.OuSelectHierarchyDialog.prototype.m_selectedHierarchyName=null;e.OuSelectHierarchyDialog.prototype.m_selectedItem=null;e.OuSelectHierarchyDialog.prototype.addItemsToHierarchyDropdown=function(t){let i=e.XLinkedHashMapByString.create();if(this.m_dimension.getDimensionType()!==e.DimensionType.ACCOUNT){i.put(e.OuSelectHierarchyDialog.FLAT_PRESENTATION_ITEM,this.getLocalization().getText(e.OuHierarchyDialogI18n.FLAT_REPRESENTATION_ITEM_LABEL))}let o;let n=e.XCollectionUtils.createListCopy(t);n.sortByComparator(e.XComparatorLambda.create((t,i)=>e.XIntegerValue.create(e.XString.compare(t.getHierarchyDescription(),i.getHierarchyDescription()))));for(o=0;o<n.size();o++){let t=n.get(o);let a=this.getHierarchyDescription(t);let r=e.QueryPresentationUtils.DESCRIPTION_AND_ID.composeDisplayStrings(t.getHierarchyName(),a);i.put(t.getHierarchyName(),r)}this.m_hierarchyDropdown.setComboBoxItems(i);if(this.m_dimension.isHierarchyActive()){this.m_hierarchyDropdown.setValue(e.XStringValue.create(this.m_dimension.getHierarchyName()))}else{this.m_hierarchyDropdown.setValue(e.XStringValue.create(e.OuSelectHierarchyDialog.FLAT_PRESENTATION_ITEM))}};e.OuSelectHierarchyDialog.prototype.buildUi=function(t){this.setTitle(this.getLocalization().getText(e.OuHierarchyDialogI18n.TITLE));if(this.getStartData()!==null){this.m_dimension=this.getStartData().getXObjectByKey(e.OuSelectHierarchyDialog.PRG_DATA_DIMENSION)}let i=t.newControl(e.UiType.FLEX_LAYOUT);i.setDirection(e.UiFlexDirection.COLUMN);i.setPadding(e.UtStyles.DIALOG_PADDING);if(e.isNull(this.m_dimension)){let t=this.getLocalization().getText(e.OuHierarchyDialogI18n.NO_DIMENSION_ERROR_LABEL);let o=i.addNewItemOfType(e.UiType.LABEL);o.setText(t)}else{i.addItem(this.setupForm(t).getView());this.m_dimension.getHierarchyManager().fetchHierarchyCatalog(e.SyncType.BLOCKING,this,null)}t.setRoot(i)};e.OuSelectHierarchyDialog.prototype.getDefaultContainerSize=function(){return e.UiSize.createByCss("25%","10%")};e.OuSelectHierarchyDialog.prototype.getDialogButtons=function(t){let i=e.XList.create();this.m_okButton=t.newControl(e.UiType.DIALOG_BUTTON);this.m_okButton.setText(this.getLocalization().getText(e.XCommonI18n.OK));this.m_okButton.setButtonType(e.UiButtonType.PRIMARY);this.m_okButton.registerOnPress(e.UiLambdaPressListener.create(e=>{this.onOkPressed()}));this.m_okButton.focus();i.add(this.m_okButton);this.m_cancelButton=t.newControl(e.UiType.DIALOG_BUTTON);this.m_cancelButton.setText(this.getLocalization().getText(e.XCommonI18n.CANCEL));this.m_cancelButton.registerOnPress(e.UiLambdaPressListener.create(e=>{this.onCancelPressed()}));i.add(this.m_cancelButton);return i};e.OuSelectHierarchyDialog.prototype.getHierarchyDescription=function(t){let i;if(e.XStringUtils.isNotNullAndNotEmpty(t.getHierarchyMediumText())){i=t.getHierarchyMediumText()}else if(e.XStringUtils.isNotNullAndNotEmpty(t.getHierarchyShortText())){i=t.getHierarchyShortText()}else if(e.XStringUtils.isNotNullAndNotEmpty(t.getHierarchyLongText())){i=t.getHierarchyLongText()}else{if(this.m_dimension.isStructure()){i=this.getLocalization().getText(e.OuHierarchyDialogI18n.HIERARCHY_LABEL)}else{i=t.getHierarchyName()}}return i};e.OuSelectHierarchyDialog.prototype.getProgramName=function(){return e.OuSelectHierarchyDialog.DEFAULT_PROGRAM_NAME};e.OuSelectHierarchyDialog.prototype.newProgram=function(){let t=new e.OuSelectHierarchyDialog;t.setup();return t};e.OuSelectHierarchyDialog.prototype.onCancelPressed=function(){this.terminate()};e.OuSelectHierarchyDialog.prototype.onContainerAfterOpen=function(){if(e.notNull(this.m_hierarchyDropdown)){this.m_hierarchyDropdown.focus()}};e.OuSelectHierarchyDialog.prototype.onHierarchyCatalogResult=function(t,i,o){if(!t.hasErrors()&&e.notNull(i)){this.addItemsToHierarchyDropdown(i.getObjects())}};e.OuSelectHierarchyDialog.prototype.onOkPressed=function(){if(e.notNull(this.m_selectedHierarchyName)){if(e.XString.isEqual(this.m_selectedHierarchyName,e.OuSelectHierarchyDialog.FLAT_PRESENTATION_ITEM)){this.m_dimension.setHierarchyActive(!this.m_dimension.isHierarchyActive())}else{this.m_dimension.setHierarchyName(this.m_selectedHierarchyName);this.m_dimension.setHierarchyActive(true)}this.notifyOkPressed()}this.terminate()};e.OuSelectHierarchyDialog.prototype.prepareProgramMetadata=function(e){};e.OuSelectHierarchyDialog.prototype.processArguments=function(e){};e.OuSelectHierarchyDialog.prototype.processConfiguration=function(e){};e.OuSelectHierarchyDialog.prototype.releaseObject=function(){this.m_hierarchyDropdown=e.XObjectExt.release(this.m_hierarchyDropdown);this.m_okButton=e.XObjectExt.release(this.m_okButton);this.m_cancelButton=e.XObjectExt.release(this.m_cancelButton);this.m_selectedItem=e.XObjectExt.release(this.m_selectedItem);e.DfOuDialogProgram.prototype.releaseObject.call(this)};e.OuSelectHierarchyDialog.prototype.setupForm=function(t){let i=e.UiForm.create(t);let o=this.getLocalization().getText(e.OuHierarchyDialogI18n.HIERARCHY_LABEL);this.m_hierarchyDropdown=i.addComboBox(e.OuSelectHierarchyDialog.DROPDOWN_HIERARCHY,"",o,null,false);this.m_hierarchyDropdown.setValueChangedConsumer((t,i)=>{this.m_selectedHierarchyName=e.XValueUtil.getString(i)});this.m_hierarchyDropdown.setEnterPressedProcedure(()=>{this.m_selectedHierarchyName=e.XValueUtil.getString(this.m_hierarchyDropdown.getValue())});return i};e.OuSelectHierarchyDialog.prototype.setupProgram=function(){return null};e.OuMeasureDimensionConfigDialog=function(){};e.OuMeasureDimensionConfigDialog.prototype=new e.DfOuDialogProgram;e.OuMeasureDimensionConfigDialog.prototype._ff_c="OuMeasureDimensionConfigDialog";e.OuMeasureDimensionConfigDialog.DEFAULT_PROGRAM_NAME="MeasureDimensionConfigDialog";e.OuMeasureDimensionConfigDialog.prototype.m_root=null;e.OuMeasureDimensionConfigDialog.prototype.buildUi=function(t){this.setTitle(this.getLocalization().getText(e.OuMeasureDimensionConfigDialogI18n.I18N_PROGRAM_TITLE));this.m_root=t.newRoot(e.UiType.FLEX_LAYOUT);this.m_root.setDirection(e.UiFlexDirection.COLUMN)};e.OuMeasureDimensionConfigDialog.prototype.getProgramName=function(){return e.OuMeasureDimensionConfigDialog.DEFAULT_PROGRAM_NAME};e.OuMeasureDimensionConfigDialog.prototype.newProgram=function(){let t=new e.OuMeasureDimensionConfigDialog;t.setup();return t};e.OuMeasureDimensionConfigDialog.prototype.prepareProgramMetadata=function(e){};e.OuMeasureDimensionConfigDialog.prototype.processArguments=function(e){};e.OuMeasureDimensionConfigDialog.prototype.processConfiguration=function(e){};e.OuMeasureDimensionConfigDialog.prototype.releaseObject=function(){this.m_root=e.XObjectExt.release(this.m_root);e.DfOuDialogProgram.prototype.releaseObject.call(this)};e.OuMeasureDimensionConfigDialog.prototype.setupProgram=function(){return null};e.OuQueryInformationDialog=function(){};e.OuQueryInformationDialog.prototype=new e.DfOuDialogProgram;e.OuQueryInformationDialog.prototype._ff_c="OuQueryInformationDialog";e.OuQueryInformationDialog.DEFAULT_PROGRAM_NAME="QueryInformationDialog";e.OuQueryInformationDialog.MODEL_INFO_KEY="modelInfo";e.OuQueryInformationDialog.MODEL_LINK_ICON="icon";e.OuQueryInformationDialog.MODEL_LINK_NAME="name";e.OuQueryInformationDialog.MODEL_LINK_SRC="src";e.OuQueryInformationDialog.PRG_DATA_INFO_DIALOG_CONFIG="infoDialogConfig";e.OuQueryInformationDialog.PRG_DATA_INTEROP_STORY_LINK="interopStoryLink";e.OuQueryInformationDialog.prototype.m_dialogConfig=null;e.OuQueryInformationDialog.prototype.m_generalTab=null;e.OuQueryInformationDialog.prototype.m_storyLinkData=null;e.OuQueryInformationDialog.prototype.buildGeneralLayout=function(t){let i=this.getQueryManager().getQueryModel();let o=i.getSystemType();let n=t.newControl(e.UiType.VERTICAL_LAYOUT);n.setPadding(e.UiCssBoxEdges.create("1em"));let a=e.XHashMapByString.create();a.put(e.OuQueryInformationDialogConstants.LABEL,this.getLocalization().getText(e.OuQueryInformationDialogI18n.GENERAL_TAB_NAME_LABEL));a.put(e.OuQueryInformationDialogConstants.VALUE,this.getDatasourceName());let r=e.XHashMapByString.create();r.put(e.OuQueryInformationDialogConstants.LABEL,this.getLocalization().getText(e.OuQueryInformationDialogI18n.GENERAL_TAB_DESC_LABEL));r.put(e.OuQueryInformationDialogConstants.VALUE,i.getText());let l=e.XLinkedHashMapByString.create();l.put(e.OuQueryInformationDialogConstants.TECH_ID,a);l.put(e.OuQueryInformationDialogConstants.DESCRIPTION,r);let s=e.XLinkedHashMapByString.create();s.put("datasourceSection",l);this.buildSection(n,"datasource",this.getDatasourceSectionHeader(o),s);if(i.getSystemType().isTypeOf(e.SystemType.BW)){this.buildInfoProviderSection(i,n)}if(e.notNull(this.m_storyLinkData)){this.buildInteropStoryLink(n)}return n};e.OuQueryInformationDialog.prototype.buildGeneralTab=function(t){let i=t.newControl(e.UiType.ICON_TAB_BAR_ITEM);i.setName("generalTab");i.setText(this.getLocalization().getText(e.OuQueryInformationDialogI18n.GENERAL_TAB_HEADER));let o=this.buildGeneralLayout(t);o.setMargin(e.UiCssBoxEdges.create("0 1em 0 1em"));i.setContent(o);return i};e.OuQueryInformationDialog.prototype.buildInfoProviderSection=function(t,i){let o=t.getInfoProvider();let n=e.isNull(o)?"":o.getText();let a=e.isNull(o)?"":o.getName();if(e.XStringUtils.isNullOrEmpty(n)){n=a}let r=e.XHashMapByString.create();r.put(e.OuQueryInformationDialogConstants.LABEL,this.getLocalization().getText(e.OuQueryInformationDialogI18n.GENERAL_TAB_NAME_LABEL));r.put(e.OuQueryInformationDialogConstants.VALUE,n);let l=e.XHashMapByString.create();l.put(e.OuQueryInformationDialogConstants.LABEL,this.getLocalization().getText(e.OuQueryInformationDialogI18n.GENERAL_TAB_DESC_LABEL));l.put(e.OuQueryInformationDialogConstants.VALUE,a);let s=this.getLocalization().getText(e.OuQueryInformationDialogI18n.INFO_PROVIDER_SECTION_HEADER);let u=e.XLinkedHashMapByString.create();u.put(e.OuQueryInformationDialogConstants.TECH_ID,r);u.put(e.OuQueryInformationDialogConstants.DESCRIPTION,l);let m=e.XLinkedHashMapByString.create();m.put("infoProviderSection",u);this.buildSection(i,"infoProvider",s,m);let p=t.getCubeInfo();let d=p.getDataRollUpMin();if(e.isNull(d)){d=p.getUpdatedOn()}if(e.notNull(d)){this.buildLastUpdatedSection(i,d)}};e.OuQueryInformationDialog.prototype.buildInteropStoryLink=function(t){let i=this.m_storyLinkData.getStringByKey(e.OuQueryInformationDialog.MODEL_LINK_NAME);let o=this.m_storyLinkData.getStringByKey(e.OuQueryInformationDialog.MODEL_LINK_SRC);if(e.notNull(i)&&e.notNull(o)){let n=t.addNewItemOfType(e.UiType.LABEL);n.setText(this.getLocalization().getText(e.OuQueryInformationDialogI18n.PINNED_TO_STORY_LINK_HEADER));n.setFontSize(e.UiCssLength.create("1em"));n.setFontWeight(e.UiFontWeight.BOLD);let a=t.addNewItemOfType(e.UiType.HORIZONTAL_LAYOUT);let r=this.m_storyLinkData.getStringByKey(e.OuQueryInformationDialog.MODEL_LINK_ICON);if(e.notNull(r)){let t=a.addNewItemOfType(e.UiType.ICON);t.setIcon(r);t.setPadding(e.UiCssBoxEdges.create("0em 0.5em 0em 0em"))}let l=a.addNewItemOfType(e.UiType.LINK);l.setText(i);l.setSrc(o);l.setTarget("_blank")}};e.OuQueryInformationDialog.prototype.buildLastUpdatedSection=function(t,i){let o;let n;let a;let r=this.getProcess().getUserProfile();let l=r.getDateFormatting();let s=r.getTimeFormatting();try{o=e.XDateTimeFormatter.create(e.XStringUtils.concatenate3(l," ",s));n=o.formatDateTime(i)}catch(t){e.XLogger.println("invalid date/time format in user profile");return}a=e.XHashMapByString.create();a.put(e.OuQueryInformationDialogConstants.LABEL,this.getLocalization().getText(e.OuQueryInformationDialogI18n.LAST_UPDATED_SECTION_DATE_LABEL));a.put(e.OuQueryInformationDialogConstants.VALUE,n);let u=this.getLocalization().getText(e.OuQueryInformationDialogI18n.LAST_UPDATED_SECTION_HEADER);let m=e.XList.create();m.add(a);let p=e.XLinkedHashMapByString.create();p.put("DateInfo",a);let d=e.XLinkedHashMapByString.create();d.put("lastUpdatedSection",p);this.buildSection(t,"lastUpdated",u,d)};e.OuQueryInformationDialog.prototype.buildNode=function(t,i,o){let n;let a;let r="";let l=t.newControl(e.UiType.TREE_ITEM);let s=o.get(i);n=this.getVariableOperandText(s.getFirstOperand());a=this.getVariableOperandText(s.getSecondOperand());let u=this.getNodeTemplateKey(s.getOperator());if(e.XStringUtils.isNotNullAndNotEmpty(a)){r=this.getLocalization().getTextWithPlaceholder2(u,n,a)}else if(e.XStringUtils.isNotNullAndNotEmpty(n)){if(e.XStringUtils.isNullOrEmpty(u)){r=n}else{r=this.getLocalization().getTextWithPlaceholder(u,n)}}if(e.XStringUtils.isNotNullAndNotEmpty(r)){l.setText(r)}return l};e.OuQueryInformationDialog.prototype.buildSection=function(t,i,o,n){let a=t.addNewItemOfType(e.UiType.VERTICAL_LAYOUT);a.setMargin(e.UiCssBoxEdges.create("1em 0 0 0"));let r=a.addNewItemOfType(e.UiType.LABEL);r.setName(this.buildSectionElementName(i,"Header"));r.setText(o);r.setFontSize(e.UiCssLength.create("1em"));r.setFontWeight(e.UiFontWeight.BOLD);let l=n.getKeysAsReadOnlyList().get(0);let s=n.getByKey(l);let u=s.getKeysAsReadOnlyList();for(let t=0;t<u.size();t++){let o=u.get(t);let n=s.getByKey(o);let r=n.getByKey(e.OuQueryInformationDialogConstants.LABEL);let l=a.addNewItemOfType(e.UiType.LABEL);let m=this.buildSectionElementName(i,this.buildSectionElementName(o,"Label"));l.setName(m);l.setText(r);r=n.getByKey(e.OuQueryInformationDialogConstants.VALUE);let p=a.addNewItemOfType(e.UiType.LABEL);m=this.buildSectionElementName(i,this.buildSectionElementName(o,"Text"));p.setName(m);p.setWrapping(true);p.setMargin(e.UiCssBoxEdges.create("0 0 1em 0"));p.setText(r)}};e.OuQueryInformationDialog.prototype.buildSectionElementName=function(t,i){let o=e.XStringBuffer.create().append(t).append(i);return o.toString()};e.OuQueryInformationDialog.prototype.buildUi=function(t){this.setTitle(this.getLocalization().getText(e.OuQueryInformationDialogI18n.DIALOG_TITLE));let i=t.newControl(e.UiType.FLEX_LAYOUT);i.setName("OuQueryInformationDialog");let o=this.getQueryManager().getInputEnabledAndNonTechnicalVariables();let n=this.processVariables(o);if(n.isEmpty()){let e=this.buildGeneralLayout(t);i.addItem(e)}else{let o=i.addNewItemOfType(e.UiType.ICON_TAB_BAR);o.setApplyContentPadding(false);this.m_generalTab=this.buildGeneralTab(t);o.addItem(this.m_generalTab);o.addItem(this.buildVariablesTab(t,n))}t.setRoot(i)};e.OuQueryInformationDialog.prototype.buildVariableNodes=function(t,i,o,n){if(o.size()>0){let a=t.newControl(e.UiType.TREE_ITEM);let r=this.getLocalization().getTextWithPlaceholder2(e.OuQueryInformationDialogI18n.VARIABLES_NODE_TEXT,i,e.XInteger.convertToString(o.size()));a.setText(r);for(let e=0;e<o.size();e++){let i=this.buildNode(t,e,o);a.addItem(i);n.addItem(a)}}};e.OuQueryInformationDialog.prototype.buildVariablesTab=function(t,i){let o=t.newControl(e.UiType.ICON_TAB_BAR_ITEM);o.setName("variablesTab");o.setText(this.getLocalization().getTextWithPlaceholder(e.OuQueryInformationDialogI18n.VARIABLES_TAB_HEADER,e.XInteger.convertToString(i.size())));let n=t.newControl(e.UiType.VERTICAL_LAYOUT);let a=i.getKeysAsReadOnlyList();let r=n.addNewItemOfType(e.UiType.TREE);r.setName("variableTree");for(let e=0;e<a.size();e++){let o=a.get(e);let n=i.getByKey(o);this.buildVariableNodes(t,o,n,r)}o.setContent(n);return o};e.OuQueryInformationDialog.prototype.getDatasourceName=function(){let t=this.getQueryManager().getDataSource().getName();if(e.isNull(this.m_dialogConfig)){return t}let i=this.m_dialogConfig.getByKey(e.OuQueryInformationDialog.MODEL_INFO_KEY);if(e.isNull(i)){return t}let o=i.getStringByKey(e.OuQueryInformationDialogConstants.MODEL_DISPLAY_NAME_KEY);if(e.isNull(o)){return t}return o};e.OuQueryInformationDialog.prototype.getDatasourceSectionHeader=function(t){let i="";if(this.isDWC()){i=this.getLocalization().getText(e.OuQueryInformationDialogI18n.DATASPHERE_SECTION_HEADER)}else if(t.isTypeOf(e.SystemType.BW)){i=this.getLocalization().getText(e.OuQueryInformationDialogI18n.BW_QUERY_SECTION_HEADER)}else if(t.isTypeOf(e.SystemType.ORCA)){let t=this.m_dialogConfig.getByKey(e.OuQueryInformationDialog.MODEL_INFO_KEY);if(e.notNull(t)){let o=t.getStringByKey(e.OuQueryInformationDialogConstants.MODEL_SUBTYPE_KEY);if(e.XString.isEqual(o,e.OuQueryInformationDialogConstants.MODEL_SUBTYPE_PLANNING)){i=this.getLocalization().getText(e.OuQueryInformationDialogI18n.PLANNING_MODEL_SECTION_HEADER)}else{i=this.getLocalization().getText(e.OuQueryInformationDialogI18n.ANALYTIC_MODEL_SECTION_HEADER)}}else{i=this.getLocalization().getText(e.OuQueryInformationDialogI18n.FALLBACK_MODEL_SECTION_HEADER)}}else if(t.isTypeOf(e.SystemType.ABAP_MDS)){i=this.getLocalization().getText(e.OuQueryInformationDialogI18n.IBP_SECTION_HEADER)}else if(t.isTypeOf(e.SystemType.HANA)){i=this.getLocalization().getText(e.OuQueryInformationDialogI18n.CALC_VIEW_SECTION_HEADER)}return i};e.OuQueryInformationDialog.prototype.getDefaultContainerSize=function(){return e.UiSize.createByCss("25em","30em")};e.OuQueryInformationDialog.prototype.getDialogButtons=function(t){let i=e.XList.create();let o=t.newControl(e.UiType.DIALOG_BUTTON);o.setText(this.getLocalization().getText(e.XCommonI18n.CLOSE));o.registerOnPress(e.UiLambdaPressListener.create(e=>{this.terminate()}));i.add(o);return i};e.OuQueryInformationDialog.prototype.getNodeTemplateKey=function(t){let i="";if(t===e.VdComparisonOperator.EQUAL){return i}else if(t===e.VdComparisonOperator.BETWEEN){i=e.OuQueryInformationDialogI18n.VARIABLE_VALUE_RANGE_TEMPLATE}else if(t===e.VdComparisonOperator.GREATER_THAN){i=e.OuQueryInformationDialogI18n.VARIABLE_VALUE_GT_TEMPLATE}else if(t===e.VdComparisonOperator.GREATER_EQUAL){i=e.OuQueryInformationDialogI18n.VARIABLE_VALUE_GTE_TEMPLATE}else if(t===e.VdComparisonOperator.LESS_THAN){i=e.OuQueryInformationDialogI18n.VARIABLE_VALUE_LT_TEMPLATE}else if(t===e.VdComparisonOperator.LESS_EQUAL){i=e.OuQueryInformationDialogI18n.VARIABLE_VALUE_LTE_TEMPLATE}else if(t===e.VdComparisonOperator.NOT_EQUAL){i=e.OuQueryInformationDialogI18n.VARIABLE_VALUE_NE_TEMPLATE}else if(t===e.VdComparisonOperator.NOT_BETWEEN){i=e.OuQueryInformationDialogI18n.VARIABLE_VALUE_NOT_IN_RANGE_TEMPLATE}return i};e.OuQueryInformationDialog.prototype.getProgramName=function(){return e.OuQueryInformationDialog.DEFAULT_PROGRAM_NAME};e.OuQueryInformationDialog.prototype.getVariableOperandText=function(t){let i=t.getText();if(e.XStringUtils.isNullOrEmpty(i)){i=t.getDisplayKey()}if(e.XStringUtils.isNullOrEmpty(i)){i=t.getKey()}return i};e.OuQueryInformationDialog.prototype.isDWC=function(){try{let t=this.getQueryManager().getSystemDescription().getProperties().getByKey("CONTEXT_PATH");return e.XString.isEqual(t,"/dwaas-core")}catch(e){return false}};e.OuQueryInformationDialog.prototype.newProgram=function(){let t=new e.OuQueryInformationDialog;t.setup();return t};e.OuQueryInformationDialog.prototype.onContainerAfterOpen=function(){e.DfOuDialogProgram.prototype.onContainerAfterOpen.call(this);if(e.notNull(this.m_generalTab)){this.m_generalTab.focus()}};e.OuQueryInformationDialog.prototype.prepareProgramMetadata=function(e){};e.OuQueryInformationDialog.prototype.processArguments=function(e){this.assertQueryManagerSet()};e.OuQueryInformationDialog.prototype.processConfiguration=function(e){};e.OuQueryInformationDialog.prototype.processVariables=function(t){let i=e.XHashMapByString.create();for(let o=0;o<t.size();o++){let n=t.get(o);let a=e.VdImportExport.getValuesFromVariable(n);if(a.isEmpty()){continue}let r=n.getText();if(e.XStringUtils.isNullOrEmpty(r)){r=n.getName()}i.put(r,a)}return i};e.OuQueryInformationDialog.prototype.setupProgram=function(){if(this.getStartData()!==null){this.m_dialogConfig=this.getStartData().getXObjectByKey(e.OuQueryInformationDialog.PRG_DATA_INFO_DIALOG_CONFIG);this.m_storyLinkData=this.getStartData().getXObjectByKey(e.OuQueryInformationDialog.PRG_DATA_INTEROP_STORY_LINK)}return null};e.OuTopNDialog=function(){};e.OuTopNDialog.prototype=new e.DfOuDialogProgram;e.OuTopNDialog.prototype._ff_c="OuTopNDialog";e.OuTopNDialog.BOTTOM="bottom";e.OuTopNDialog.DEFAULT_PROGRAM_NAME="TopNDialog";e.OuTopNDialog.DIALOG_HEIGHT="auto";e.OuTopNDialog.DIALOG_WIDTH="26rem";e.OuTopNDialog.N_VALUE_INITIAL="1";e.OuTopNDialog.N_VALUE_MAX_LENGTH=4;e.OuTopNDialog.PRG_DATA_MEASURE="measure";e.OuTopNDialog.PRG_DATA_N_VALUE="nvalue";e.OuTopNDialog.PRG_DATA_SECONDARY_MEASURE="secondarymeasure";e.OuTopNDialog.PRG_DATA_TOP_OR_BOTTOM_VALUE="topOrBottom";e.OuTopNDialog.PRG_DATA_VERSION="version";e.OuTopNDialog.TOP="top";e.OuTopNDialog.TOPBOTTOM_DROPDOWN_BOTTOM_VALUE="1_BOTTOM";e.OuTopNDialog.TOPBOTTOM_DROPDOWN_TOP_VALUE="0_TOP";e.OuTopNDialog.isIntegerWithoutSign=function(t){return e.XString.match(t,"^\\d+$")};e.OuTopNDialog.isZero=function(t){return e.XString.isEqual(t,"0")};e.OuTopNDialog.topNConditionExists=function(t){return e.notNull(t)&&t.getConvenienceCommands().getRank(null)!==null};e.OuTopNDialog.prototype.m_form=null;e.OuTopNDialog.prototype.m_initialNValue=null;e.OuTopNDialog.prototype.m_initialValueForDropDown=null;e.OuTopNDialog.prototype.m_measure=null;e.OuTopNDialog.prototype.m_measureName=null;e.OuTopNDialog.prototype.m_nValueInputField=null;e.OuTopNDialog.prototype.m_secondaryMeasure=null;e.OuTopNDialog.prototype.m_selectedMeasure=null;e.OuTopNDialog.prototype.m_settingsSection=null;e.OuTopNDialog.prototype.m_topOrBottomDropDown=null;e.OuTopNDialog.prototype.m_version=null;e.OuTopNDialog.prototype.buildUi=function(t){this.setTitle(this.getLocalization().getText(e.OuTopNDialogI18n.TITLE));let i=t.newControl(e.UiType.FLEX_LAYOUT);i.setDirection(e.UiFlexDirection.COLUMN);i.setPadding(e.UtStyles.DIALOG_PADDING);if(e.OuTopNDialog.topNConditionExists(this.getQueryManager())){i.addItem(this.createInfoSection(t))}i.addItem(this.setupForm(t).getView());t.setRoot(i)};e.OuTopNDialog.prototype.createInfoSection=function(t){let i=t.newControl(e.UiType.FLEX_LAYOUT);i.setDirection(e.UiFlexDirection.ROW);let o=t.newControl(e.UiType.ICON);o.setIcon("message-information");o.setEnabled(false);o.setPadding(e.UiCssBoxEdges.create("0px 5px 0px 0px"));i.addItem(o);let n=t.newControl(e.UiType.LABEL);n.setName("overwriteInformationalLabel");n.setText(this.getLocalization().getText(e.OuTopNDialogI18n.INFORMATON_MESSAGE));n.setTooltip(this.getLocalization().getText(e.OuTopNDialogI18n.INFORMATON_MESSAGE));n.setFontStyle(e.UiFontStyle.ITALIC);n.setWrapping(true);n.setPadding(e.UiCssBoxEdges.create("0px 1px 0px 0px"));i.addItem(n);i.setPadding(e.UiCssBoxEdges.create("0px 0px 10px 0px"));return i};e.OuTopNDialog.prototype.createMeasureSelectionSection=function(){let t=this.getLocalization().getText(e.OuTopNDialogI18n.BASED_ON_SECTION_TITLE);let i=this.m_form.addFormSection("BasedOn",t,false);i.setLabelFontWeight(e.UiFontWeight.BOLD);let o=this.getGenesis().newControl(e.UiType.FLEX_LAYOUT);o.setDirection(e.UiFlexDirection.COLUMN);let n=o.addNewItemOfType(e.UiType.LABEL);n.setText(this.getLocalization().getText(e.OuTopNDialogI18n.MEASURES_INPUTFIELD_TITLE));n.setShowColon(true);n.setRequired(true);let a=e.OuMeasureInputDataProviderFactory.create(this.getQueryManager().getQueryModel());this.m_selectedMeasure=e.OuUiMeasureInput.create(this.getProcess(),this.getQueryManager(),a);this.m_selectedMeasure.renderView(this.getGenesis());this.m_selectedMeasure.setValue(this.getQueryManager().getQueryModel().getStructureByName(this.m_measureName));this.m_selectedMeasure.setPlaceholder(this.getLocalization().getText(e.OuTopNDialogI18n.MEMBER_SELECTOR_DIALOG_TITLE));this.m_selectedMeasure.setName("MeasuresInputField");this.m_selectedMeasure.attachOnChange(e=>{this.validateSelectedMeasure(this.m_selectedMeasure)});o.addItem(this.m_selectedMeasure.getView());i.addFormCustomControl("flexlayout containing label and widget",o)};e.OuTopNDialog.prototype.createSettingsSection=function(){this.m_settingsSection=this.m_form.addFormSection("settingsSection",this.getLocalization().getText(e.OuTopNDialogI18n.SETTINGS_SECTION_TITLE),true);this.m_settingsSection.showSectionMarkerDuringValidation(false);this.m_settingsSection.setLabelFontWeight(e.UiFontWeight.BOLD);let t=e.XHashMapByString.create();t.put(e.OuTopNDialog.TOPBOTTOM_DROPDOWN_TOP_VALUE,this.getLocalization().getText(e.OuTopNDialogI18n.TOPBOTTOM_DROPDOWN_TOP_ELEMENT));t.put(e.OuTopNDialog.TOPBOTTOM_DROPDOWN_BOTTOM_VALUE,this.getLocalization().getText(e.OuTopNDialogI18n.TOPBOTTOM_DROPDOWN_BOTTOM_ELEMENT));this.m_topOrBottomDropDown=this.m_settingsSection.addDropdown("topOrBottom",this.m_initialValueForDropDown,this.getLocalization().getText(e.OuTopNDialogI18n.TOPBOTTOM_DROPDOWN_TITLE),t,false);this.m_topOrBottomDropDown.setLabelFontWeight(e.UiFontWeight.NORMAL);this.m_topOrBottomDropDown.setFlex("0 0 30%");this.m_nValueInputField=this.m_settingsSection.addInput("nValue",this.m_initialNValue,this.getLocalization().getText(e.OuTopNDialogI18n.N_VALUE_TITLE));this.m_nValueInputField.setInputType(e.UiInputType.NUMBER);this.m_nValueInputField.setRequired(true);this.m_nValueInputField.setLabelFontWeight(e.UiFontWeight.NORMAL);this.m_nValueInputField.setFlex("0 0 30%");this.m_nValueInputField.setCustomValidator(t=>{let i=this.m_nValueInputField.getValue().getStringRepresentation();if(e.notNull(i)&&e.XString.size(i)<=e.OuTopNDialog.N_VALUE_MAX_LENGTH&&e.OuTopNDialog.isIntegerWithoutSign(i)&&!e.OuTopNDialog.isZero(i)){this.m_nValueInputField.setValid()}else{this.m_nValueInputField.setInvalid(this.getLocalization().getText(e.OuTopNDialogI18n.N_VALUE_VALIDATION_MESSAGE))}})};e.OuTopNDialog.prototype.determineInitialNValue=function(){let t;let i=null;if(this.getStartData()!==null){i=this.getStartData().getXObjectByKey(e.OuTopNDialog.PRG_DATA_N_VALUE)}if(e.notNull(i)){t=i.getStringRepresentation()}else{t=e.OuTopNDialog.N_VALUE_INITIAL}return t};e.OuTopNDialog.prototype.determineInitialValueForDropDown=function(){let t=e.OuTopNDialog.TOPBOTTOM_DROPDOWN_TOP_VALUE;let i=null;if(this.getStartData()!==null){i=this.getStartData().getXObjectByKey(e.OuTopNDialog.PRG_DATA_TOP_OR_BOTTOM_VALUE)}if(e.notNull(i)){let o=i.getString();if(e.XString.isEqual(o,e.OuTopNDialog.TOP)){t=e.OuTopNDialog.TOPBOTTOM_DROPDOWN_TOP_VALUE}else if(e.XString.isEqual(o,e.OuTopNDialog.BOTTOM)){t=e.OuTopNDialog.TOPBOTTOM_DROPDOWN_BOTTOM_VALUE}else{throw e.XException.createIllegalArgumentException(e.XStringUtils.concatenate3("The parameter for PARAM_TOP_OR_BOTTOM_VALUE is invalid. Value supplied is '",o,"'"))}}return t};e.OuTopNDialog.prototype.getDefaultContainerSize=function(){return e.UiSize.createByCss(e.OuTopNDialog.DIALOG_WIDTH,e.OuTopNDialog.DIALOG_HEIGHT)};e.OuTopNDialog.prototype.getDialogButtons=function(t){let i=e.XList.create();let o=t.newControl(e.UiType.DIALOG_BUTTON);o.setText(this.getLocalization().getText(e.XCommonI18n.OK));o.setButtonType(e.UiButtonType.PRIMARY);o.registerOnPress(e.UiLambdaPressListener.create(e=>{this.onOkPressed()}));o.setName("TopN-OkButton");i.add(o);let n=t.newControl(e.UiType.DIALOG_BUTTON);n.setText(this.getLocalization().getText(e.XCommonI18n.CANCEL));n.registerOnPress(e.UiLambdaPressListener.create(e=>{this.terminate()}));n.setName("TopN-CancelButton");i.add(n);return i};e.OuTopNDialog.prototype.getProgramName=function(){return e.OuTopNDialog.DEFAULT_PROGRAM_NAME};e.OuTopNDialog.prototype.newProgram=function(){let t=new e.OuTopNDialog;t.setup();return t};e.OuTopNDialog.prototype.onContainerAfterOpen=function(){e.DfOuDialogProgram.prototype.onContainerAfterOpen.call(this);this.m_settingsSection.focus()};e.OuTopNDialog.prototype.onOkPressed=function(){let t=this.m_selectedMeasure.getValue();if(!this.m_form.submit()||e.isNull(t)){this.shake();return}let i=this.getQueryManager().getQueryModel();i.getConvenienceCommands().clearRank(null);let o=e.ConditionComparisonOperator.TOP_N;if(e.XString.isEqual(e.XValueUtil.getString(this.m_topOrBottomDropDown.getValue()),e.OuTopNDialog.TOPBOTTOM_DROPDOWN_BOTTOM_VALUE)){o=e.ConditionComparisonOperator.BOTTOM_N}if(e.XString.isEqual(e.XValueUtil.getString(this.m_topOrBottomDropDown.getValue()),e.OuTopNDialog.TOPBOTTOM_DROPDOWN_BOTTOM_VALUE)){o=e.ConditionComparisonOperator.BOTTOM_N}let n=e.XInteger.convertFromString(this.m_nValueInputField.getValue().getStringRepresentation());let a=e.notNull(this.m_secondaryMeasure)?this.m_secondaryMeasure.getName():null;let r=e.isNull(this.m_version)?null:this.m_version.getName();let l=e.isNull(this.m_version)?null:this.m_version.getDimension();let s=e.ConditionDimensionEvaluationType.ALL_IN_DRILL_DOWN;i.getConvenienceCommands().buildRankExt(n,t.getName(),a,null,o,r,l,false,s);this.notifyOkPressed();this.terminate()};e.OuTopNDialog.prototype.prepareProgramMetadata=function(e){};e.OuTopNDialog.prototype.processArguments=function(t){this.assertQueryManagerSet();if(this.getStartData()!==null){this.m_measure=this.getStartData().getXObjectByKey(e.OuTopNDialog.PRG_DATA_MEASURE);this.m_secondaryMeasure=this.getStartData().getXObjectByKey(e.OuTopNDialog.PRG_DATA_SECONDARY_MEASURE);this.m_version=this.getStartData().getXObjectByKey(e.OuTopNDialog.PRG_DATA_VERSION)}if(e.isNull(this.m_measure)){throw e.XException.createIllegalArgumentException("The parameter with the measure must not be null")}this.m_measureName=this.m_measure.getName();this.m_initialValueForDropDown=this.determineInitialValueForDropDown();this.m_initialNValue=this.determineInitialNValue()};e.OuTopNDialog.prototype.processConfiguration=function(e){};e.OuTopNDialog.prototype.releaseObject=function(){this.m_secondaryMeasure=null;this.m_measure=null;this.m_topOrBottomDropDown=e.XObjectExt.release(this.m_topOrBottomDropDown);this.m_selectedMeasure=e.XObjectExt.release(this.m_selectedMeasure);this.m_form=e.XObjectExt.release(this.m_form);this.m_nValueInputField=e.XObjectExt.release(this.m_nValueInputField);e.DfOuDialogProgram.prototype.releaseObject.call(this)};e.OuTopNDialog.prototype.setupForm=function(t){this.m_form=e.UiForm.create(t);this.createSettingsSection();this.createMeasureSelectionSection();this.m_form.submit();return this.m_form};e.OuTopNDialog.prototype.setupProgram=function(){return null};e.OuTopNDialog.prototype.validateSelectedMeasure=function(t){if(this.m_selectedMeasure.getValue()===null&&!this.m_selectedMeasure.isSuggestionSelected()){t.setValueState(e.UiValueState.ERROR);t.setValueStateText(this.getLocalization().getText(e.OuTopNDialogI18n.MEASURE_VALUE_VALIDATION_MESSAGE))}else{t.resetValueState()}};e.VdProgram=function(){};e.VdProgram.prototype=new e.DfOuDialogProgram;e.VdProgram.prototype._ff_c="VdProgram";e.VdProgram.ARG_DATA_PROVIDER_NAME="dataProviderName";e.VdProgram.ARG_IMPLICIT_SUBMIT="implicitSubmit";e.VdProgram.ARG_TITLE="title";e.VdProgram.EXIT_DATA_WORKFLOW_CANCEL="workflowCancel";e.VdProgram.EXIT_DATA_WORKFLOW_DONE="workflowDone";e.VdProgram.PARAM_GRID_LAYOUT_ENABLED="gridLayout";e.VdProgram.PARAM_MULTI_INPUT_COMPONENT_ENABLED="multiInputComponent";e.VdProgram.PARAM_SETTINGS_POPOVER_ENABLED="settingsPopover";e.VdProgram.PRG_DATA_VARIABLE_PROCESSOR="variableProcessor";e.VdProgram.PROGRAM_NAME="VariableDialog";e.VdProgram.getArgs=function(t,i){let o;if(e.notNull(t)){o=t}else{o=e.ProgramArgs.create()}if(e.notNull(i)){let t=e.XCollectionUtils.filter(i.getKeysAsReadOnlyList(),e=>!o.containsKey(e));e.XCollectionUtils.forEach(t,e=>{o.put(e,i.getByKey(e))})}return o};e.VdProgram.prototype.m_cancelBtn=null;e.VdProgram.prototype.m_implicitSubmit=false;e.VdProgram.prototype.m_okButton=null;e.VdProgram.prototype.m_vdConfig=null;e.VdProgram.prototype.m_vdToken=null;e.VdProgram.prototype.buildUi=function(t){t.newRoot(e.UiType.ACTIVITY_INDICATOR).useMaxSpace();let i=this.getUiContext();this.m_vdToken=e.VdVariableForm._createForDialog(i,this.m_vdConfig);this.m_vdToken.registerRenderListener(this);this.m_vdToken.registerReinitListener(this);this.m_vdToken.registerSubmitListener(this);this.m_vdToken.buildOlapDialogUi(t)};e.VdProgram.prototype.getContainerCssClass=function(){return e.XStringUtils.concatenate3(e.VdVariableDialog.CSS_DIALOG," ",e.VdVariableDialog.CSS_DIALOG_WITH_GRID)};e.VdProgram.prototype.getDefaultContainerSize=function(){return e.UiSize.createByCss(null,null)};e.VdProgram.prototype.getDialogButtons=function(t){this.m_okButton=t.newControl(e.UiType.DIALOG_BUTTON);this.m_okButton.setName(e.VdVariableDialog.CSS_DIALOG_SUBMIT_BTN);this.m_okButton.setText(e.XLocalizationCenter.getCenter().getText(e.OuVariableDialogI18nLegacy.I18N_VD_SET));this.m_okButton.setButtonType(e.UiButtonType.PRIMARY);this.m_okButton.setVisible(false);this.m_okButton.registerOnPress(e.UiLambdaPressListener.create(this.onOkButtonPress.bind(this)));this.m_cancelBtn=t.newControl(e.UiType.DIALOG_BUTTON);this.m_cancelBtn.setName(e.VdVariableDialog.CSS_DIALOG_CANCEL_BTN);this.m_cancelBtn.setText(e.XLocalizationCenter.getCenter().getText(e.OuVariableDialogI18nLegacy.I18N_CANCEL));this.m_cancelBtn.registerOnPress(e.UiLambdaPressListener.create(this.onCancelButtonPress.bind(this)));let i=e.XList.create();i.add(this.m_okButton);i.add(this.m_cancelBtn);return i};e.VdProgram.prototype.getProgramName=function(){return e.VdProgram.PROGRAM_NAME};e.VdProgram.prototype.getUiContext=function(){let t=this.getProcess().getSubSystem(e.SubSystemType.GUI);if(e.isNull(t)){t=this.getApplication().getUiManager()}let i=e.OlapUiDisplayFactory.createFactoryForDialog(t);return e.OlapUiContext.createContext(t,i)};e.VdProgram.prototype.isResizeAllowed=function(){return true};e.VdProgram.prototype.newProgram=function(){let t=new e.VdProgram;t.setup();return t};e.VdProgram.prototype.onAfterSubmit=function(e,t,i,o){this.setProgramExitDataDone();this.exitNow(0)};e.VdProgram.prototype.onBeforeSubmit=function(e,t){if(!this.m_implicitSubmit){this.setProgramExitDataDone();this.exitNow(0)}};e.VdProgram.prototype.onCancelButtonPress=function(e){this.m_vdToken.cancelReinit()};e.VdProgram.prototype.onCancelReinit=function(){this.setProgramExitDataCancel();this.exitNow(0)};e.VdProgram.prototype.onOkButtonPress=function(e){this.m_vdToken.attemptSubmit()};e.VdProgram.prototype.onReinit=function(e,t){};e.VdProgram.prototype.onRenderDone=function(e){this.m_okButton.setVisible(true)};e.VdProgram.prototype.prepareProgramMetadata=function(t){t.addParameter(e.VdProgram.ARG_TITLE,"The title shown in the dialog header (String)");t.addParameter(e.VdProgram.ARG_DATA_PROVIDER_NAME,"The name of the data provider to be used (String)");t.addOption(e.VdProgram.ARG_IMPLICIT_SUBMIT,"Should the dialog do the submit itself (Boolean)",null,e.XValueType.BOOLEAN)};e.VdProgram.prototype.processArguments=function(e){};e.VdProgram.prototype.processConfiguration=function(t){this.m_vdConfig=e.VdConfiguration.createConfig(null,null);this.m_vdConfig.setDateDisplayFormat(e.UiNumberFormatterCenter.getCenter().getDateDisplayFormat());let i=e.VdProgram.getArgs(this.getArguments(),t);let o=i.getStringByKey(e.VdProgram.ARG_TITLE);this.m_vdConfig.setTitle(o);this.setTitle(o);this.m_implicitSubmit=i.getBooleanByKey(e.VdProgram.ARG_IMPLICIT_SUBMIT);this.m_vdConfig.setImplicitSubmit(this.m_implicitSubmit);this.m_vdConfig.setSettingsPopoverEnabled(i.getBooleanByKey(e.VdProgram.PARAM_SETTINGS_POPOVER_ENABLED));this.m_vdConfig.setGridLayoutEnabled(i.getBooleanByKey(e.VdProgram.PARAM_GRID_LAYOUT_ENABLED));this.m_vdConfig.setMultiInputComponentEnabled(i.getBooleanByKey(e.VdProgram.PARAM_MULTI_INPUT_COMPONENT_ENABLED));let n=this.getStartData();if(e.notNull(n)){let t=n.getXObjectByKey(e.VdProgram.PRG_DATA_VARIABLE_PROCESSOR);this.m_vdConfig.setVarProcessor(t);this.m_vdConfig.setUseDatePicker(t.getDataSource().getModelCapabilities().supportsSapDate())}let a=i.getStringByKey(e.VdProgram.ARG_DATA_PROVIDER_NAME);if(this.m_vdConfig.getVarProcessor()===null&&e.XStringUtils.isNotNullAndNotEmpty(a)){let t=this.getProcess().getDataProviderPool();let i=e.OlapDataProviderUtil.getOlapDataProvider(t.getDataProviderByName(a));if(e.notNull(i)){this.m_vdConfig.setVarProcessor(i.getQueryManager())}}};e.VdProgram.prototype.setProgramExitDataCancel=function(){let t=e.ProgramExitData.create();t.setExitCode(0);t.putBoolean(e.VdProgram.EXIT_DATA_WORKFLOW_DONE,false);t.putBoolean(e.VdProgram.EXIT_DATA_WORKFLOW_CANCEL,true);this.setExitData(t)};e.VdProgram.prototype.setProgramExitDataDone=function(){let t=e.ProgramExitData.create();t.setExitCode(0);t.putBoolean(e.VdProgram.EXIT_DATA_WORKFLOW_DONE,true);t.putBoolean(e.VdProgram.EXIT_DATA_WORKFLOW_CANCEL,false);this.setExitData(t)};e.VdProgram.prototype.setupProgram=function(){return null};e.FilterDialogReferenceImpl=function(){};e.FilterDialogReferenceImpl.prototype=new e.FilterDialog;e.FilterDialogReferenceImpl.prototype._ff_c="FilterDialogReferenceImpl";e.FilterDialogReferenceImpl.CANCEL_BUTTON="cancelButton";e.FilterDialogReferenceImpl.OK_BUTTON="okButton";e.FilterDialogReferenceImpl.prototype.m_cancelBtn=null;e.FilterDialogReferenceImpl.prototype.m_fdController=null;e.FilterDialogReferenceImpl.prototype.m_okButton=null;e.FilterDialogReferenceImpl.prototype.buildUi=function(t){t.newRoot(e.UiType.ACTIVITY_INDICATOR).useMaxSpace();this.m_fdController.onAfterOpen(null)};e.FilterDialogReferenceImpl.prototype.confirmDialog=function(){if(e.notNull(this.m_fdController)){this.m_fdController.confirmSelection()}};e.FilterDialogReferenceImpl.prototype.getContainerCssClass=function(){return"ffFilterDialog"};e.FilterDialogReferenceImpl.prototype.getContainerName=function(){return"FilterDialog"};e.FilterDialogReferenceImpl.prototype.getDialogButtons=function(t){this.m_okButton=t.newControl(e.UiType.DIALOG_BUTTON);this.m_okButton.setName(e.FilterDialogReferenceImpl.OK_BUTTON);this.m_okButton.setText(e.XLocalizationCenter.getCenter().getText(e.FilterDialogI18n.I18N_FD_OK));this.m_okButton.setButtonType(e.UiButtonType.PRIMARY);this.m_okButton.setVisible(false);this.m_okButton.registerOnPress(this);this.m_cancelBtn=t.newControl(e.UiType.DIALOG_BUTTON);this.m_cancelBtn.setName(e.FilterDialogReferenceImpl.CANCEL_BUTTON);this.m_cancelBtn.setText(e.XLocalizationCenter.getCenter().getText(e.FilterDialogI18n.I18N_FD_CANCEL));this.m_cancelBtn.registerOnPress(this);let i=e.XList.create();i.add(this.m_okButton);i.add(this.m_cancelBtn);return i};e.FilterDialogReferenceImpl.prototype.getFdConfig=function(){return this.getConfig()};e.FilterDialogReferenceImpl.prototype.getModel=function(){return e.notNull(this.m_fdController)?this.m_fdController.getModel():null};e.FilterDialogReferenceImpl.prototype.getWidth=function(){return this.getOffsetWidth()};e.FilterDialogReferenceImpl.prototype.isResizeAllowed=function(){return e.FilterDialog.prototype.isResizeAllowed.call(this)&&!this.getUiManager().getDeviceInfo().isMobile()};e.FilterDialogReferenceImpl.prototype.onContainerResize=function(t,i){e.FilterDialog.prototype.onContainerResize.call(this,t,i);if(e.notNull(this.m_fdController)){let o=e.UiResizeEvent.create(this.getGenesis().getRoot());o.setResizeData(t,i);this.m_fdController.onResize(o)}};e.FilterDialogReferenceImpl.prototype.onDialogStartupFinished=function(){if(e.notNull(this.m_okButton)){this.m_okButton.setVisible(true)}e.OuFilterDialogPerformance.mark(e.OuFilterDialogPerformance.MARK_DIALOG_STARTUP_END,"End of the dialog startup");e.OuFilterDialogPerformance.measure(e.OuFilterDialogPerformance.MEASURE_DIALOG_STARTUP,e.OuFilterDialogPerformance.MARK_DIALOG_STARTUP_START,e.OuFilterDialogPerformance.MARK_DIALOG_STARTUP_END,"Total dialog startup time")};e.FilterDialogReferenceImpl.prototype.onPress=function(t){let i=t.getControl().getName();switch(i){case e.FilterDialogReferenceImpl.OK_BUTTON:if(e.isNull(this.m_fdController)||this.m_fdController.confirmSelection()){this.exitNow(0)}else{this.shake()}break;case e.FilterDialogReferenceImpl.CANCEL_BUTTON:if(e.notNull(this.m_fdController)){this.m_fdController.cancelSelection()}this.exitNow(0);break;default:}};e.FilterDialogReferenceImpl.prototype.onViewCreated=function(t){if(e.notNull(t)){this.setInitialControlToFocus(t);t.focus()}};e.FilterDialogReferenceImpl.prototype.releaseObject=function(){e.FilterDialog.prototype.releaseObject.call(this);this.m_fdController=e.XObjectExt.release(this.m_fdController);this.m_okButton=e.XObjectExt.release(this.m_okButton);this.m_cancelBtn=e.XObjectExt.release(this.m_cancelBtn)};e.FilterDialogReferenceImpl.prototype.setupProgram=function(){e.OuFilterDialogPerformance.mark(e.OuFilterDialogPerformance.MARK_DIALOG_STARTUP_START,"Start of the dialog startup");this.setTitle(this.getConfig().getTitle());this.m_fdController=e.FdController.create(this);return e.FilterDialog.prototype.setupProgram.call(this)};e.FilterDialogReferenceImpl.prototype.terminate=function(){if(e.notNull(this.m_fdController)){this.m_fdController.cancelSelection()}e.FilterDialog.prototype.terminate.call(this)};e.FilterDialogDimensionReferenceImpl=function(){};e.FilterDialogDimensionReferenceImpl.prototype=new e.FilterDialogReferenceImpl;e.FilterDialogDimensionReferenceImpl.prototype._ff_c="FilterDialogDimensionReferenceImpl";e.FilterDialogDimensionReferenceImpl.prototype.m_originCloseListener=null;e.FilterDialogDimensionReferenceImpl.prototype.m_unsupportedFilterDeleted=false;e.FilterDialogDimensionReferenceImpl.prototype.getContentType=function(){return e.FilterDialogContentType.DIMENSION};e.FilterDialogDimensionReferenceImpl.prototype.getDimensionFilter=function(){let t=this.getDimensionConfig();let i=t.getDimension();if(t.isOpenWithDynamicFilter()){return i.getFilter()}if(t.isOpenWithLayeredFilter()&&e.XStringUtils.isNotNullAndNotEmpty(t.getLayeredFilterName())){let o=i.getQueryModel().getFilter().getLinkedFilter(t.getLayeredFilterName());return e.notNull(o)?o.getCartesianList(i):null}return null};e.FilterDialogDimensionReferenceImpl.prototype.getProgramName=function(){return e.FilterDialog.DEFAULT_PROGRAM_NAME_DIMENSION};e.FilterDialogDimensionReferenceImpl.prototype.getUnsupportedFilterPopup=function(){let t=this.getDimensionFilter();if(e.notNull(t)&&e.XCollectionUtils.hasElements(this.getDimensionConfig().getDefaultSelection())){let i=this.getDimensionConfig().getDimension();let o=t.getField();if(i.isCompound()&&e.notNull(o)&&(o===i.getFieldByPresentationType(e.PresentationType.KEY_NOT_COMPOUND)||o===i.getFieldByPresentationType(e.PresentationType.DISPLAY_KEY_NOT_COMPOUND))){return e.FdUnsupportedFilterPopup.createNonCompoundPopup(this.getGenesis())}if((e.notNull(o)&&o.getValueType().isDateBased()||e.HierarchyLevelType.getHighestDateRangeGranularity(i)!==null)&&(i.getFiscalEnabled()||i.isUserManaged()||i.isTimeConfigEnablePattern())&&e.XCollectionUtils.contains(this.getDimensionConfig().getDefaultSelection(),t=>t.getType()===e.FilterDialogValueType.RANGE||t.getType()===e.FilterDialogValueType.DATE_RANGE_FIXED||t.getType()===e.FilterDialogValueType.DATE_RANGE_DYNAMIC)){return e.FdUnsupportedFilterPopup.createFiscalDateRangePopup(this.getGenesis())}}return null};e.FilterDialogDimensionReferenceImpl.prototype.newProgram=function(){let t=new e.FilterDialogDimensionReferenceImpl;t.setup();return t};e.FilterDialogDimensionReferenceImpl.prototype.onFilterDialogCancel=function(){if(e.notNull(this.m_originCloseListener)){if(this.m_unsupportedFilterDeleted){this.m_originCloseListener.onFilterDialogOk(e.XList.create(),null)}else{this.m_originCloseListener.onFilterDialogCancel()}}};e.FilterDialogDimensionReferenceImpl.prototype.onFilterDialogOk=function(t,i){this.updateFilter(t);if(e.notNull(this.m_originCloseListener)){this.m_originCloseListener.onFilterDialogOk(t,i)}};e.FilterDialogDimensionReferenceImpl.prototype.releaseObject=function(){e.FilterDialogReferenceImpl.prototype.releaseObject.call(this);this.m_originCloseListener=null};e.FilterDialogDimensionReferenceImpl.prototype.setupProgram=function(){let t=this.getDimensionConfig();if(t.isOpenWithDynamicFilter()||e.XStringUtils.isNotNullAndNotEmpty(t.getLayeredFilterName())){this.m_originCloseListener=t.getCloseListener();t.registerOnClose(this)}let i=this.getUnsupportedFilterPopup();if(e.notNull(i)){t.getDefaultSelection().clear();e.FilterDialogReferenceImpl.prototype.setupProgram.call(this);let o=e.XPromise.create((o,n)=>{i.setConfirmProcedure(()=>{this.updateFilter(null);this.m_unsupportedFilterDeleted=true;o(e.XBooleanValue.create(true))});i.setCancelProcedure(()=>{if(t.getCloseListener()!==null){t.getCloseListener().onFilterDialogCancel()}n(e.XError.create("Unsupported Filter"))});i.open()});o=o.onCatch(e=>{this.exitNow(0)});return o}return e.FilterDialogReferenceImpl.prototype.setupProgram.call(this)};e.FilterDialogDimensionReferenceImpl.prototype.updateFilter=function(t){let i=this.getDimensionConfig();if(i.isOpenWithDynamicFilter()){e.FilterDialogValueUtils.updateDynamicFilter(i.getDimension(),t)}else if(e.XStringUtils.isNotNullAndNotEmpty(i.getLayeredFilterName())){e.FilterDialogValueUtils.updateLayeredFilter(i.getDimension(),i.getLayeredFilterName(),t)}};e.FilterDialogHierarchyCatalogReferenceImpl=function(){};e.FilterDialogHierarchyCatalogReferenceImpl.prototype=new e.FilterDialogReferenceImpl;e.FilterDialogHierarchyCatalogReferenceImpl.prototype._ff_c="FilterDialogHierarchyCatalogReferenceImpl";e.FilterDialogHierarchyCatalogReferenceImpl.prototype.getContentType=function(){return e.FilterDialogContentType.HIERARCHY_CATALOG};e.FilterDialogHierarchyCatalogReferenceImpl.prototype.getProgramName=function(){return e.FilterDialog.DEFAULT_PROGRAM_NAME_HIERARCHY_CATALOG};e.FilterDialogHierarchyCatalogReferenceImpl.prototype.newProgram=function(){let t=new e.FilterDialogHierarchyCatalogReferenceImpl;t.setup();return t};e.FilterDialogMeasureBasedFilterReferenceImpl=function(){};e.FilterDialogMeasureBasedFilterReferenceImpl.prototype=new e.FilterDialogReferenceImpl;e.FilterDialogMeasureBasedFilterReferenceImpl.prototype._ff_c="FilterDialogMeasureBasedFilterReferenceImpl";e.FilterDialogMeasureBasedFilterReferenceImpl.prototype.m_originCloseListener=null;e.FilterDialogMeasureBasedFilterReferenceImpl.prototype.getContentType=function(){return e.FilterDialogContentType.MEASURE_BASED_FILTER};e.FilterDialogMeasureBasedFilterReferenceImpl.prototype.getProgramName=function(){return e.FilterDialog.DEFAULT_PROGRAM_NAME_MEASURE_BASED_FILTER};e.FilterDialogMeasureBasedFilterReferenceImpl.prototype.newProgram=function(){let t=new e.FilterDialogMeasureBasedFilterReferenceImpl;t.setup();return t};e.FilterDialogMeasureBasedFilterReferenceImpl.prototype.onFilterDialogCancel=function(){if(e.notNull(this.m_originCloseListener)){this.m_originCloseListener.onFilterDialogCancel()}};e.FilterDialogMeasureBasedFilterReferenceImpl.prototype.onFilterDialogOk=function(t,i){let o=this.getModel();if(e.notNull(o)){let i=o.getRangeModel();let n=i.getRequiredDimContextNames().createListCopy();n.addAll(i.getDimContext());let a=this.getMeasureBasedFilterConfig();e.FilterDialogValueUtils.updateMeasureBasedFilter(a.getMeasureBasedFilter(),a.getLayeredFilterName(),a.getMeasureBasedFilterMember(),n,i.getMeasureContext(),t)}if(e.notNull(this.m_originCloseListener)){this.m_originCloseListener.onFilterDialogOk(t,i)}};e.FilterDialogMeasureBasedFilterReferenceImpl.prototype.releaseObject=function(){e.FilterDialogReferenceImpl.prototype.releaseObject.call(this);this.m_originCloseListener=null};e.FilterDialogMeasureBasedFilterReferenceImpl.prototype.setupProgram=function(){let t=this.getMeasureBasedFilterConfig();let i=t.getMeasureBasedFilter();let o=i.getQueryModel();if(i.getFormula()===null&&e.notNull(o)){let i=t.getMeasureBasedFilterMember();let n=o.getMeasureDimension().getDimensionMember(i);if(e.isNull(n)&&o.getAccountDimension()!==null&&o.getAccountDimension().containsStructureMember(i)){n=o.getAccountDimension().getDimensionMember(i)}if(e.notNull(n)&&!e.FilterDialogViewType.MEASURE_BASED_FILTER.isSupportedByMember(n)){return e.XPromise.reject(e.XError.create("Unsupported member"))}}this.m_originCloseListener=t.getCloseListener();t.registerOnClose(this);return e.FilterDialogReferenceImpl.prototype.setupProgram.call(this)};e.FilterDialogUserTeamReferenceImpl=function(){};e.FilterDialogUserTeamReferenceImpl.prototype=new e.FilterDialogReferenceImpl;e.FilterDialogUserTeamReferenceImpl.prototype._ff_c="FilterDialogUserTeamReferenceImpl";e.FilterDialogUserTeamReferenceImpl.prototype.getContentType=function(){return e.FilterDialogContentType.USER_TEAM};e.FilterDialogUserTeamReferenceImpl.prototype.getProgramName=function(){return e.FilterDialog.DEFAULT_PROGRAM_NAME_USER_TEAM};e.FilterDialogUserTeamReferenceImpl.prototype.newProgram=function(){let t=new e.FilterDialogUserTeamReferenceImpl;t.setup();return t};e.FilterDialogVariableReferenceImpl=function(){};e.FilterDialogVariableReferenceImpl.prototype=new e.FilterDialogReferenceImpl;e.FilterDialogVariableReferenceImpl.prototype._ff_c="FilterDialogVariableReferenceImpl";e.FilterDialogVariableReferenceImpl.prototype.m_originCloseListener=null;e.FilterDialogVariableReferenceImpl.prototype.getContentType=function(){return e.FilterDialogContentType.VARIABLE};e.FilterDialogVariableReferenceImpl.prototype.getProgramName=function(){return e.FilterDialog.DEFAULT_PROGRAM_NAME_VARIABLE};e.FilterDialogVariableReferenceImpl.prototype.newProgram=function(){let t=new e.FilterDialogVariableReferenceImpl;t.setup();return t};e.FilterDialogVariableReferenceImpl.prototype.onFilterDialogCancel=function(){if(e.notNull(this.m_originCloseListener)){this.m_originCloseListener.onFilterDialogCancel()}};e.FilterDialogVariableReferenceImpl.prototype.onFilterDialogOk=function(t,i){let o=this.getVariableConfig();if(o.isOpenWithVariableFilter()){e.FilterDialogValueUtils.updateVariableFilter(o.getVariable(),t)}if(e.notNull(this.m_originCloseListener)){this.m_originCloseListener.onFilterDialogOk(t,i)}};e.FilterDialogVariableReferenceImpl.prototype.releaseObject=function(){e.FilterDialogReferenceImpl.prototype.releaseObject.call(this);this.m_originCloseListener=null};e.FilterDialogVariableReferenceImpl.prototype.setupProgram=function(){let t=this.getVariableConfig();if(t.isOpenWithVariableFilter()){this.m_originCloseListener=t.getCloseListener();t.registerOnClose(this)}return e.FilterDialogReferenceImpl.prototype.setupProgram.call(this)};e.UiConvenienceCmdsMenu=function(){};e.UiConvenienceCmdsMenu.prototype=new e.UiComposite;e.UiConvenienceCmdsMenu.prototype._ff_c="UiConvenienceCmdsMenu";e.UiConvenienceCmdsMenu.create=function(){let t=new e.UiConvenienceCmdsMenu;t.setup();return t};e.UiConvenienceCmdsMenu.prototype.m_convenienceCommands=null;e.UiConvenienceCmdsMenu.prototype.m_mainMenu=null;e.UiConvenienceCmdsMenu.prototype.m_queryManager=null;e.UiConvenienceCmdsMenu.prototype.addAxesClearAxesMenu=function(e){let t=e.addNewItem().setName("clearAxisMenu").setText("Clear axis");t.addNewItem().setName("clearRowAxis").setText("Row").registerOnPress(this);t.addNewItem().setName("clearColumnAxis").setText("Column").registerOnPress(this);t.addNewItem().setName("clearFreeAxis").setText("Free").registerOnPress(this);t.addNewItem().setName("clearDynamicAxis").setText("Dynamic").registerOnPress(this);t.addNewItem().setName("clearFilterAxis").setText("Filter").registerOnPress(this);t.addNewItem().setName("clearRepositoryAxis").setText("Respository").registerOnPress(this);t.addNewItem().setName("clearVirtualAxis").setText("Virtual").registerOnPress(this)};e.UiConvenienceCmdsMenu.prototype.addAxesColumnsMenu=function(t,i){let o=t.getAxesManager().getColumnsAxis();if(e.notNull(o)){let e=i.addNewItem().setName("columnsMenuItem").setText("Columns").setCustomObject(o);if(o.supportsTotals()){let t=e.addNewItem().setTag("axesTotalsMenu").setText("Totals").setCustomObject(o);t.addNewItem().setTag("axesTotalsShow").setText("show").registerOnPress(this);t.addNewItem().setTag("axesTotalsHide").setText("hide").registerOnPress(this)}else{e.setEnabled(false)}}};e.UiConvenienceCmdsMenu.prototype.addAxesRowsMenu=function(t,i){let o=t.getAxesManager().getRowsAxis();if(e.notNull(o)){let e=i.addNewItem().setName("rowsMenuItem").setText("Rows").setCustomObject(o);if(o.supportsTotals()){let t=e.addNewItem().setTag("axesTotalsMenu").setText("Totals").setCustomObject(o);t.addNewItem().setTag("axesTotalsShow").setText("show").registerOnPress(this);t.addNewItem().setTag("axesTotalsHide").setText("hide").registerOnPress(this)}else{e.setEnabled(false)}}};e.UiConvenienceCmdsMenu.prototype.addDimAttributesMenu=function(t,i){let o=i.addNewItem().setName("attrMenu").setText("Attributes");let n=t.getAttributes();if(n.hasElements()){let t=n.getIterator();while(t.hasNext()){let i=t.next();let n=i.getText();let a=i.getName();if(e.XStringUtils.isNullOrEmpty(n)){n=a}let r=o.addNewItem().setName(a).setTag("attributeItem").setText(n).setCustomObject(i);r.addNewItem().setTag("attrShow").setText("show").setCustomObject(i).registerOnPress(this);r.addNewItem().setTag("attrHide").setText("hide").setCustomObject(i).registerOnPress(this)}}o.setEnabled(o.hasItems()?true:false)};e.UiConvenienceCmdsMenu.prototype.addDimHierarchyMenu=function(t,i){let o=i.addNewItem().setName("hierarchyMenu").setText("Hierarchy").setCustomObject(t);let n=t.getHierarchies();if(t.supportsHierarchy()&&e.notNull(n)){let e=n.getObjects().getIterator();while(e.hasNext()){let t=e.next();let i=o.addNewItem().setTag("hierarchyItem").setText(t.getHierarchyName()).setCustomObject(t);i.addNewItem().setTag("activateHierarchy").setText("activate").registerOnPress(this);i.addNewItem().setTag("deactivateHierarchy").setText("deactivate").registerOnPress(this)}}o.setEnabled(o.hasItems()?true:false)};e.UiConvenienceCmdsMenu.prototype.addDimSortingMenu=function(t,i){let o=i.addNewItem().setName("sortMenu").setText("Sort").setCustomObject(t);this.addSortSubmenuWithSortType(t,o,e.SortType.MEMBER_TEXT,"By text");this.addSortSubmenuWithSortType(t,o,e.SortType.MEMBER_KEY,"By key");this.addSortSubmenuWithSortType(t,o,e.SortType.HIERARCHY,"By hierarchy")};e.UiConvenienceCmdsMenu.prototype.addDimTotalsMenu=function(e,t){let i=t.addNewItem().setName("dimTotalsMenu").setText("Totals").setCustomObject(e);if(e.supportsTotals()){i.addNewItem().setTag("dimTotalsShow").setText("show").registerOnPress(this);i.addNewItem().setTag("dimTotalsHide").setText("hide").registerOnPress(this)}else{i.setEnabled(false)}};e.UiConvenienceCmdsMenu.prototype.addMoveDimensionToAxisMenu=function(t,i){let o=i.addNewItem().setName("dimMoveToAxisMenu").setText("Move to axis").setCustomObject(t);if(t.supportsAxis(e.AxisType.ROWS)){o.addNewItem().setTag("moveToAxisRows").setText("Rows").registerOnPress(this)}if(t.supportsAxis(e.AxisType.COLUMNS)){o.addNewItem().setTag("moveToAxisColumns").setText("Columns").registerOnPress(this)}if(t.supportsAxis(e.AxisType.FREE)){o.addNewItem().setTag("moveToAxisFree").setText("Free").registerOnPress(this)}if(t.supportsAxis(e.AxisType.DYNAMIC)){o.addNewItem().setTag("moveToAxisDynamic").setText("Dynamic").registerOnPress(this)}if(t.supportsAxis(e.AxisType.FILTER)){o.addNewItem().setTag("moveToAxisFilter").setText("Filter").registerOnPress(this)}if(t.supportsAxis(e.AxisType.REPOSITORY)){o.addNewItem().setTag("moveToAxisRepository").setText("Repository").registerOnPress(this)}if(t.supportsAxis(e.AxisType.VIRTUAL)){o.addNewItem().setTag("moveToAxisVirtual").setText("Virtual").registerOnPress(this)}o.setEnabled(o.hasItems()?true:false)};e.UiConvenienceCmdsMenu.prototype.addSortSubmenuWithSortType=function(e,t,i,o){let n=t.addNewItem().setTag("sortBySubMenu").setText(o).setCustomObject(e);if(e.supportsSorting(i)){n.addNewItem().setTag("sortAsc").setText("Ascending").registerOnPress(this).setCustomObject(i);n.addNewItem().setTag("sortDesc").setText("Descending").registerOnPress(this).setCustomObject(i)}else{n.setEnabled(false)}};e.UiConvenienceCmdsMenu.prototype.initializeComposite=function(){this.m_mainMenu=this.newControl(e.UiType.MENU);this.setBaseControl(this.m_mainMenu)};e.UiConvenienceCmdsMenu.prototype.onPress=function(t){let i=t.getControl().getParent();if(e.notNull(i)&&(i.getUiType()===e.UiType.MENU||i.getUiType()===e.UiType.MENU_ITEM)&&e.notNull(this.m_convenienceCommands)){this.getUiManager().getSession().notifyInterruptStepStart();let o;let n;if(e.XString.isEqual(i.getTag(),"attributeItem")){let e=i.getCustomObject();let o=e.getName();n=e.getDimension().getName();switch(t.getControl().getTag()){case"attrShow":this.m_convenienceCommands.addAttributeToResultSet(n,o);break;case"attrHide":this.m_convenienceCommands.removeAttributeFromResultSet(n,o);break;default:}}else if(e.XString.isEqual(i.getTag(),"hierarchyItem")){o=i.getParent().getCustomObject();let e=i.getCustomObject();n=o.getName();let a=e.getHierarchyName();switch(t.getControl().getTag()){case"activateHierarchy":this.m_convenienceCommands.setDimensionHierarchy(n,a,true,0);break;case"deactivateHierarchy":this.m_convenienceCommands.setDimensionHierarchy(n,a,false,0);break;default:}}else if(e.XString.isEqual(i.getName(),"dimTotalsMenu")){o=i.getCustomObject();n=o.getName();switch(t.getControl().getTag()){case"dimTotalsShow":this.m_convenienceCommands.setTotalsVisibleOnDimension(n,e.ResultVisibility.ALWAYS);break;case"dimTotalsHide":this.m_convenienceCommands.setTotalsVisibleOnDimension(n,e.ResultVisibility.HIDDEN);break;default:}}else if(e.XString.isEqual(i.getTag(),"sortBySubMenu")){o=i.getCustomObject();let a=t.getControl().getCustomObject();n=o.getName();switch(t.getControl().getTag()){case"sortAsc":this.m_convenienceCommands.sort(a,null,n,null,null,null,e.XSortDirection.ASCENDING);break;case"sortDesc":this.m_convenienceCommands.sort(a,null,n,null,null,null,e.XSortDirection.DESCENDING);break;default:}}else if(e.XString.isEqual(i.getName(),"dimMoveToAxisMenu")){o=i.getCustomObject();n=o.getName();switch(t.getControl().getTag()){case"moveToAxisRows":this.m_convenienceCommands.moveDimensionToAxis(n,e.AxisType.ROWS);break;case"moveToAxisColumns":this.m_convenienceCommands.moveDimensionToAxis(n,e.AxisType.COLUMNS);break;case"moveToAxisFree":this.m_convenienceCommands.moveDimensionToAxis(n,e.AxisType.FREE);break;case"moveToAxisDynamic":this.m_convenienceCommands.moveDimensionToAxis(n,e.AxisType.DYNAMIC);break;case"moveToAxisFilter":this.m_convenienceCommands.moveDimensionToAxis(n,e.AxisType.FILTER);break;case"moveToAxisRepository":this.m_convenienceCommands.moveDimensionToAxis(n,e.AxisType.REPOSITORY);break;case"moveToAxisVirtual":this.m_convenienceCommands.moveDimensionToAxis(n,e.AxisType.VIRTUAL);break;default:}}else if(e.XString.isEqual(i.getTag(),"axesTotalsMenu")){let o=i.getCustomObject();switch(t.getControl().getTag()){case"axesTotalsShow":this.m_convenienceCommands.setTotalsVisibleOnAxis(o.getType(),e.ResultVisibility.ALWAYS);break;case"axesTotalsHide":this.m_convenienceCommands.setTotalsVisibleOnAxis(o.getType(),e.ResultVisibility.HIDDEN);break;default:}}else if(e.XString.isEqual(i.getName(),"clearAxisMenu")){switch(t.getControl().getName()){case"clearRowAxis":this.m_convenienceCommands.clearAxis(e.AxisType.ROWS);break;case"clearColumnAxis":this.m_convenienceCommands.clearAxis(e.AxisType.COLUMNS);break;case"clearFreeAxis":this.m_convenienceCommands.clearAxis(e.AxisType.FREE);break;case"clearDynamicAxis":this.m_convenienceCommands.clearAxis(e.AxisType.DYNAMIC);break;case"clearFilterAxis":this.m_convenienceCommands.clearAxis(e.AxisType.FILTER);break;case"clearRepositoryAxis":this.m_convenienceCommands.clearAxis(e.AxisType.REPOSITORY);break;case"clearVirtualAxis":this.m_convenienceCommands.clearAxis(e.AxisType.VIRTUAL);break;default:}}else if(e.XString.isEqual(i.getName(),"axesMenu")){switch(t.getControl().getName()){case"switchAxesMenuItem":this.m_convenienceCommands.switchAxes();break;default:}}else if(e.XString.isEqual(t.getControl().getName(),"reset")){this.m_convenienceCommands.reset()}else if(e.XString.isEqual(t.getControl().getName(),"resetToDefault")){this.m_convenienceCommands.resetToDefault()}this.getUiManager().getSession().notifyInterruptStepEnd()}};e.UiConvenienceCmdsMenu.prototype.openAt=function(t){e.UiComposite.prototype.openAt.call(this,t);this.prepareMenu();if(this.m_mainMenu.hasItems()){this.m_mainMenu.openAt(t)}return this};e.UiConvenienceCmdsMenu.prototype.prepareMenu=function(){if(this.m_mainMenu.hasItems()){return}if(e.isNull(this.m_queryManager)){this.retrieveQueryManager()}if(e.notNull(this.m_queryManager)){let t=this.m_queryManager.getDimensionAccessor().getDimensions();let i=t.getIterator();let o=this.m_mainMenu.addNewItem().setName("dimMenu").setText("Dimensions");while(i.hasNext()){let t=i.next();if(t.isUniversalDisplayHierarchyDimension()){continue}let n=t.getText();let a=t.getName();if(e.XStringUtils.isNullOrEmpty(n)){n=a}let r=o.addNewItem().setName(a).setText(n).setCustomObject(t);this.addDimHierarchyMenu(t,r);this.addDimAttributesMenu(t,r);this.addDimTotalsMenu(t,r);this.addDimSortingMenu(t,r);this.addMoveDimensionToAxisMenu(t,r)}let n=this.m_queryManager.getQueryModel();if(e.notNull(n)){let e=this.m_mainMenu.addNewItem().setName("axesMenu").setText("Axes");this.addAxesRowsMenu(n,e);this.addAxesColumnsMenu(n,e);e.addNewItem().setName("switchAxesMenuItem").setText("Switch axes").registerOnPress(this);this.addAxesClearAxesMenu(e)}this.m_mainMenu.addNewItem().setName("reset").setText("Reset").registerOnPress(this);this.m_mainMenu.addNewItem().setName("resetToDefault").setText("Reset to default").registerOnPress(this)}else{let t=this.newControl(e.UiType.TOAST);t.setText("No data provider specified!");t.setMessageType(e.UiMessageType.ERROR);t.open()}};e.UiConvenienceCmdsMenu.prototype.releaseObject=function(){this.m_mainMenu=e.XObjectExt.release(this.m_mainMenu);this.m_convenienceCommands=null;this.m_queryManager=null;e.UiComposite.prototype.releaseObject.call(this)};e.UiConvenienceCmdsMenu.prototype.retrieveQueryManager=function(){let t=this.getCustomParameters().asStructure().getStringByKeyExt("dp","");if(e.XStringUtils.isNotNullAndNotEmpty(t)){let i=e.XStringUtils.concatenate2("dp:",t);let o=this.getUiManager().getSession();let n=o.getSelector().selectComponentByExpr(i,e.SigSelDomain.DATA,this,1,false);if(e.notNull(n)){this.m_queryManager=n.getQueryManager();this.m_convenienceCommands=this.m_queryManager.getConvenienceCommands()}}};e.UiConvenienceCmdsMenu.prototype.setCustomParameters=function(t){e.UiComposite.prototype.setCustomParameters.call(this,t);this.retrieveQueryManager();return this};e.UiConvenienceCmdsMenu.prototype.setup=function(){e.UiComposite.prototype.setup.call(this)};e.UiRedoButton=function(){};e.UiRedoButton.prototype=new e.UiComposite;e.UiRedoButton.prototype._ff_c="UiRedoButton";e.UiRedoButton.create=function(){let t=new e.UiRedoButton;t.setup();return t};e.UiRedoButton.prototype.m_application=null;e.UiRedoButton.prototype.m_redoButton=null;e.UiRedoButton.prototype.getButtonText=function(){if(e.notNull(this.m_application)){let t=this.m_application.getUndoManager().getAvailableRedoStepCount();if(t>0){let i=e.XInteger.convertToString(t);return e.XStringUtils.concatenate3("Redo (",i,")")}}return"Redo"};e.UiRedoButton.prototype.initializeComposite=function(){this.m_application=this.getUiManager().getProcess().getApplication();if(e.notNull(this.m_application)){this.m_application.getUndoManager().registerUndoManagerListener(this)}this.m_redoButton=this.newControl(e.UiType.BUTTON);this.m_redoButton.setText("Redo");this.m_redoButton.registerOnPress(this);this.m_redoButton.setEnabled(false);this.setBaseControl(this.m_redoButton)};e.UiRedoButton.prototype.onPress=function(t){let i=this.newControl(e.UiType.TOAST);if(e.notNull(this.m_application)){this.m_application.getUndoManager().processRedo(null,null,null);i.setText("Redo!")}else{i.setText("Application not found! Redo not possible!");i.setMessageType(e.UiMessageType.ERROR)}i.open()};e.UiRedoButton.prototype.releaseObject=function(){this.m_redoButton=e.XObjectExt.release(this.m_redoButton);this.m_application=null;e.UiComposite.prototype.releaseObject.call(this)};e.UiRedoButton.prototype.setMargin=function(t){e.UiComposite.prototype.setMargin.call(this,t);this.m_redoButton.setMargin(t);return this};e.UiRedoButton.prototype.setup=function(){e.UiComposite.prototype.setup.call(this)};e.UiRedoButton.prototype.undoManagerStateChanged=function(){if(e.notNull(this.m_application)&&e.notNull(this.m_redoButton)){this.m_redoButton.setEnabled(this.m_application.getUndoManager().getAvailableRedoStepCount()>0);this.m_redoButton.setText(this.getButtonText())}};e.UiUndoButton=function(){};e.UiUndoButton.prototype=new e.UiComposite;e.UiUndoButton.prototype._ff_c="UiUndoButton";e.UiUndoButton.create=function(){let t=new e.UiUndoButton;t.setup();return t};e.UiUndoButton.prototype.m_application=null;e.UiUndoButton.prototype.m_undoButton=null;e.UiUndoButton.prototype.getButtonText=function(){if(e.notNull(this.m_application)){let t=this.m_application.getUndoManager().getAvailableUndoStepCount();if(t>0){let i=e.XInteger.convertToString(t);return e.XStringUtils.concatenate3("Undo (",i,")")}}return"Undo"};e.UiUndoButton.prototype.initializeComposite=function(){this.m_application=this.getUiManager().getProcess().getApplication();if(e.notNull(this.m_application)){this.m_application.getUndoManager().registerUndoManagerListener(this)}this.m_undoButton=this.newControl(e.UiType.BUTTON);this.m_undoButton.setText(this.getButtonText());this.m_undoButton.registerOnPress(this);this.m_undoButton.setEnabled(false);this.setBaseControl(this.m_undoButton)};e.UiUndoButton.prototype.onPress=function(t){let i=this.newControl(e.UiType.TOAST);if(e.notNull(this.m_application)){this.m_application.getUndoManager().processUndo(null,null,null);i.setText("Undo!")}else{i.setText("Application not found! Undo not possible!");i.setMessageType(e.UiMessageType.ERROR)}i.open()};e.UiUndoButton.prototype.releaseObject=function(){this.m_undoButton=e.XObjectExt.release(this.m_undoButton);this.m_application=null;e.UiComposite.prototype.releaseObject.call(this)};e.UiUndoButton.prototype.setMargin=function(t){e.UiComposite.prototype.setMargin.call(this,t);this.m_undoButton.setMargin(t);return this};e.UiUndoButton.prototype.setup=function(){e.UiComposite.prototype.setup.call(this)};e.UiUndoButton.prototype.undoManagerStateChanged=function(){if(e.notNull(this.m_application)&&e.notNull(this.m_undoButton)){this.m_undoButton.setEnabled(this.m_application.getUndoManager().getAvailableUndoStepCount()>0);this.m_undoButton.setText(this.getButtonText())}};e.OlapUiModule=function(){};e.OlapUiModule.prototype=new e.DfModule;e.OlapUiModule.prototype._ff_c="OlapUiModule";e.OlapUiModule.s_module=null;e.OlapUiModule.getInstance=function(){if(e.isNull(e.OlapUiModule.s_module)){e.DfModule.checkInitialized(e.OlapUiApiModule.getInstance());e.OlapUiModule.s_module=e.DfModule.startExt(new e.OlapUiModule);e.VdComparisonOperator.staticSetup();e.DialogDisplayMode.staticSetup();e.DialogLabelMode.staticSetup();e.DialogGridFormat.staticSetup();e.DialogGridParser.staticSetup();e.OlapUiReadMode.staticSetup();e.FdReadMode.staticFdReadModeSetup();e.FdLayoutSize.staticSetup();e.FdTableType.staticSetup();e.FdFeature.staticSetup();e.FilterDialogViewType.staticSetup();e.FilterDialogTextUsageType.staticSetup();e.FilterDialogValueFactory.setInstance(e.FdItemFactory.create());e.FilterDialogUsageTrackingConsumer.staticSetup();e.FdComparisonOperator.staticSetup();e.VdOrcaScenario.staticSetup();e.VdOrcaLevel.staticSetup();e.OrcaLinkVarJoinMode.staticSetup();e.OrcaLinkVarSubmitHandling.staticSetup();e.DdDisplayAs.staticSetup();e.VdValueFormat.staticSetup();e.VdControllerState.staticSetup();e.QueryPresentationUtils.staticSetup();e.OuInventoryViewGroupPresentation.staticSetup();e.OuCalcUiComponent.staticSetup();e.OuAxesViewDisplayType.staticSetup();e.OuQueryController.staticSetup();e.OuQueryControllerStatus.staticSetup();e.OuQueryControllerSetupStep.staticSetup();e.OuQueryControllerCriticalErrorType.staticSetup();e.UiType.UNDO_BUTTON.setFactory(new e.UiUndoButtonFactory);e.UiType.REDO_BUTTON.setFactory(new e.UiRedoButtonFactory);e.UiType.CONVENIENCE_CMDS_MENU.setFactory(new e.UiConvenienceCmdsMenuFactory);e.ProgramRegistry.setProgramFactory(new e.FirstAidShell);e.ProgramRegistry.setProgramFactory(new e.OuDimensionDialog);e.ProgramRegistry.setProgramFactory(new e.OuDimensionDialogExt);e.ProgramRegistry.setProgramFactory(new e.OuDimensionDialog2);e.ProgramRegistry.setProgramFactory(new e.OuCurrencyConversionDialog);e.ProgramRegistry.setProgramFactory(new e.OuQueryInformationDialog);e.ProgramRegistry.setProgramFactory(new e.OuSelectHierarchyDialog);e.ProgramRegistry.setProgramFactory(new e.OuTopNDialog);e.ProgramRegistry.setProgramFactory(new e.FilterDialogDimensionReferenceImpl);e.ProgramRegistry.setProgramFactory(new e.FilterDialogVariableReferenceImpl);e.ProgramRegistry.setProgramFactory(new e.FilterDialogHierarchyCatalogReferenceImpl);e.ProgramRegistry.setProgramFactory(new e.FilterDialogMeasureBasedFilterReferenceImpl);e.ProgramRegistry.setProgramFactory(new e.FilterDialogUserTeamReferenceImpl);e.ProgramRegistry.setProgramFactory(new e.OuCalcCalculationsDialog);e.ProgramRegistry.setProgramFactory(new e.OuDataProviderCreator);e.ProgramRegistry.setProgramFactory(new e.OuVisualizationCreator);e.ProgramRegistry.setProgramFactory(new e.AuDatasourcePicker);e.ProgramRegistry.setProgramFactory(new e.OuMeasureDimensionConfigDialog);e.ProgramRegistry.setProgramFactory(new e.OuShareDialog);e.ProgramRegistry.setProgramFactory(new e.VdProgram);e.ProgramRegistry.setProgramFactory(new e.OuInventoryProgram);e.HuPluginRegistry.registerPluginByClass(e.XClass.create(e.OuDataProviderActionListPlugin));e.HuPluginRegistry.registerPluginByClass(e.XClass.create(e.OuDataSourceListPlugin));e.OlapUiCommonI18n.staticSetup();e.OuVariableDialogI18nLegacy.staticSetup();e.OuCurrencyConversionDialogI18n.staticSetup();e.OuQueryInformationDialogI18n.staticSetup();e.DimensionDialogI18n.staticSetup();e.OuDimensionDialog2I18n.staticSetup();e.OuHierarchyDialogI18n.staticSetup();e.OuTopNDialogI18n.staticSetup();e.FilterDialogI18n.staticSetup();e.ClipboardDialogI18n.staticSetup();e.DataExportHelperI18n.staticSetup();e.LayoutDialogI18n.staticSetup();e.CatalogDialogI18n.staticSetup();e.CtDialogI18n.staticSetup();e.DataCellDialogI18n.staticSetupDcd();e.OuAxesViewI18n.staticSetup();e.OuInventoryViewI18n.staticSetup();e.OuCalcCalculationsDialogI18n.staticSetup();e.OuCalcDetailsAreaViewI18n.staticSetup();e.OuCalcFormulaEditorI18n.staticSetup();e.OuDataProviderCreatorI18n.staticSetup();e.AuDatasourcePickerI18n.staticSetup();e.OuNumberFormattingI18n.staticSetup();e.OuDisplayFormattingI18n.staticSetup();e.OuMeasureDimensionConfigDialogI18n.staticSetup();e.OuShareDialogI18n.staticSetup();e.OuFormulaValidationI18n.staticSetup();e.HuPluginRegistry.registerPluginByClass(e.XClass.create(e.OuCalcCodeEditorPlugin));e.HuPluginRegistry.registerPluginByClass(e.XClass.create(e.OuCalcAssistancePlugin));e.HuPluginRegistry.registerPluginByClass(e.XClass.create(e.OuCalcAssistancePluginV2));e.HuPluginRegistry.registerPluginByClass(e.XClass.create(e.OuCalcFormulaElementListPlugin));e.HuPluginRegistry.registerPluginByClass(e.XClass.create(e.OuCalcDetailsAreaPlugin));e.HuPluginRegistry.registerPluginByClass(e.XClass.create(e.OuCalcCodeEditorValueRetriever));e.HuPluginRegistry.registerPluginByClass(e.XClass.create(e.OuCalcDetailsAreaValueRetreiver));e.OuDataProviderActionCollectionRegistry.registerCollectionByClass(e.XClass.create(e.OuDataProviderOlapUiActionsCollection));e.DfModule.stopExt(e.OlapUiModule.s_module)}return e.OlapUiModule.s_module};e.OlapUiModule.prototype.getName=function(){return"ff8010.olap.ui"};e.OlapUiModule.getInstance();return e});
//# sourceMappingURL=ff8010.olap.ui.js.map