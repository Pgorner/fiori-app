/*!
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.define(["sap/sac/df/firefly/ff3600.horizon.ui.api","sap/sac/df/firefly/ff5000.olap.dataprovider"],function(e){"use strict";e.FF8005_OLAP_UI_API_RESOURCES=function(){};e.FF8005_OLAP_UI_API_RESOURCES.prototype={};e.FF8005_OLAP_UI_API_RESOURCES.prototype._ff_c="FF8005_OLAP_UI_API_RESOURCES";e.FF8005_OLAP_UI_API_RESOURCES.PATH_analyticalwidget_codeSnippetTemplate_txt="analyticalwidget/codeSnippetTemplate.txt";e.FF8005_OLAP_UI_API_RESOURCES.analyticalwidget_codeSnippetTemplate_txt="PHA+PGNvZGU+PGhlYWQ+PC9jb2RlPjwvcD4KPHA+PGNvZGU+PCEtLSBMb2FkIHRoZSBjb21wb3NhYmxlIHdlYiBjb21wb25lbnRzIGxpYnJhcnkgLS0+PC9jb2RlPjwvcD4KPHA+PGNvZGU+PHNjcmlwdCBzcmM9IltbTElCX1VSTF1dcGxhaW4vZmY5MDAwLnBsYWluLmJ1bmRsZS5wcm9kLmpzIj48L3NjcmlwdD48L2NvZGU+PC9wPgo8cD48Y29kZT48c2NyaXB0IHNyYz0iW1tMSUJfVVJMXV1mZi53ZWIuY29tcG9uZW50cy5idW5kbGUucHJvZC5qcyI+PC9zY3JpcHQ+PC9jb2RlPjwvcD4KPHA+PC9wPgo8cD48Y29kZT48ZmYtY29tcG9zYWJsZS1hcHBbW0JPT1RTVFJBUF9DT05GSUdfVEVNUExBVEVdXT48L2NvZGU+PC9wPgo8cD48Y29kZT48L2ZmLWNvbXBvc2FibGUtYXBwPjwvY29kZT48L3A+CjxwPjxjb2RlPjwvaGVhZD48L2NvZGU+PC9wPgo8cD48Y29kZT48Ym9keT48L2NvZGU+PC9wPgo8cD48Y29kZT48IS0tIEVtYmVkIHRoZSB3aWRnZXQgLS0+PC9jb2RlPjwvcD4KPHA+PGNvZGU+PGZmLWFuYWx5dGljYWwtd2lkZ2V0IHdpZGdldGlkPSJbW1dJREdFVF9JRF1dIj48L2NvZGU+PC9wPgo8cD48Y29kZT5Mb2FkaW5nIHdpZGdldC4uLjwvY29kZT48L3A+CjxwPjxjb2RlPjwvZmYtYW5hbHl0aWNhbC13aWRnZXQ+PC9jb2RlPjwvcD4KPHA+PGNvZGU+PC9ib2R5PjwvY29kZT48L3A+Cg==";e.XResources.registerResourceClass("ff8005.olap.ui.api",e.FF8005_OLAP_UI_API_RESOURCES);e.OuAnalyticalWidgetExportUtils={BOOTSTRAP_CONFIG_TEMPLATE_PLACEHOLDER:"[[BOOTSTRAP_CONFIG_TEMPLATE]]",CODE_SNIPPET_TEMPLATE_RESOURCE:"/analyticalwidget/codeSnippetTemplate.txt",LIB_URL_PLACEHOLDER:"[[LIB_URL]]",METADATA_FORM_DESCRIPTION_KEY:"description",METADATA_FORM_DISPLAY_NAME_KEY:"displayName",METADATA_FORM_TARGET_URL_KEY:"targetUrl",WIDGET_ID_PLACEHOLDER:"[[WIDGET_ID]]",enrichWidgetMetadataFromMetadataFormJson:function(t,i){if(e.notNull(t)&&e.notNull(i)){t.setDisplayName(i.getStringByKey(e.OuAnalyticalWidgetExportUtils.METADATA_FORM_DISPLAY_NAME_KEY));t.setDescription(i.getStringByKey(e.OuAnalyticalWidgetExportUtils.METADATA_FORM_DESCRIPTION_KEY));t.setTargetUrl(i.getStringByKey(e.OuAnalyticalWidgetExportUtils.METADATA_FORM_TARGET_URL_KEY))}},presentCodeSnippetDialog:function(t,i,r,a,o,l,n){let s=t.newControl(e.UiType.DIALOG);s.setState(r);s.setTitle(i);let u=s.addNewDialogButton();u.setText("Close");u.setButtonType(e.UiButtonType.PRIMARY);u.registerOnPress(e.UiLambdaPressListener.create(e=>{s.close()}));let g=s.setNewContent(e.UiType.FLEX_LAYOUT);g.setDirection(e.UiFlexDirection.COLUMN);g.setJustifyContent(e.UiFlexJustifyContent.CENTER);g.setAlignItems(e.UiFlexAlignItems.CENTER);g.setPadding(e.UiCssBoxEdges.create("1rem"));g.useMaxSpace();let d=g.addNewItemOfType(e.UiType.TITLE);d.setText(e.XStringUtils.concatenate2("Widget id: ",a));d.setTitleLevel(e.UiTitleLevel.H_5);d.setTitleStyle(e.UiTitleLevel.H_5);if(e.XStringUtils.isNotNullAndNotEmpty(o)){let t=e.XStringUtils.concatenate2(o,a);let i=g.addNewItemOfType(e.UiType.LINK);i.setText("Preview");i.setEmphasized(true);i.setSrc(t);i.setTarget("_blank");i.setMargin(e.UiCssBoxEdges.create("1rem 0 0 0"))}let p=l;if(e.XStringUtils.isNotNullAndNotEmpty(p)){if(!e.XString.endsWith(p,"/")){p=e.XStringUtils.concatenate2(p,"/")}}else{p="./lib/"}let m=g.addNewItemOfType(e.UiType.LABEL);m.setText("Code snippet:");m.setMargin(e.UiCssBoxEdges.create("1rem 0 0 0"));let D=e.XResources.loadString(e.OuAnalyticalWidgetExportUtils.CODE_SNIPPET_TEMPLATE_RESOURCE);D=e.XString.replace(D,"<p>","pppp");D=e.XString.replace(D,"</p>","oooo");D=e.XString.replace(D,"<code>","cccc");D=e.XString.replace(D,"</code>","vvvv");D=e.XStringUtils.escapeHtml(D);D=e.XString.replace(D,"pppp","<p>");D=e.XString.replace(D,"oooo","</p>");D=e.XString.replace(D,"cccc","<code>");D=e.XString.replace(D,"vvvv","</code>");D=e.XString.replace(D,e.OuAnalyticalWidgetExportUtils.WIDGET_ID_PLACEHOLDER,a);D=e.XString.replace(D,e.OuAnalyticalWidgetExportUtils.LIB_URL_PLACEHOLDER,p);let c=n;if(e.XStringUtils.isNotNullAndNotEmpty(c)){c=e.XStringUtils.concatenate3(' config="',c,'"')}else{c=""}D=e.XString.replace(D,e.OuAnalyticalWidgetExportUtils.BOOTSTRAP_CONFIG_TEMPLATE_PLACEHOLDER,c);let _=g.addNewItemOfType(e.UiType.FORMATTED_TEXT);_.setText(D);_.setBackgroundColor(e.UiColor.create("#80808033"));_.setPadding(e.UiCssBoxEdges.create("1rem"));s.open()},presentWidgetExportFormPopup:function(t,i){let r=e.XPromise.create((r,a)=>{let o=e.notNull(i)?"Save widget":"Create new widget";let l=e.notNull(i)?"Save":"Create";let n=e.notNull(i)?"save":"outbox";let s=e.UtFormPopup.create(t,o,null);s.setSubmitButtonText(l);s.setSubmitButtonIcon(n);s.addInput(e.OuAnalyticalWidgetExportUtils.METADATA_FORM_DISPLAY_NAME_KEY,e.notNull(i)?i.getDisplayName():null,"Display Name");s.addInput(e.OuAnalyticalWidgetExportUtils.METADATA_FORM_DESCRIPTION_KEY,e.notNull(i)?i.getDescription():null,"Description");s.addInput(e.OuAnalyticalWidgetExportUtils.METADATA_FORM_TARGET_URL_KEY,e.notNull(i)?i.getTargetUrl():null,"Target Url");s.setSubmitConsumer(t=>{if(e.notNull(i)){e.OuAnalyticalWidgetExportUtils.enrichWidgetMetadataFromMetadataFormJson(i,t)}r(t)});s.setCancelProcedure(()=>{a(e.XError.create("Widget Metadata Dialog canceled"))});s.open()});return r},saveAsNewAnalyticalWidget:function(t,i,r,a){return e.OuAnalyticalWidgetUtils.createAnalyticalWidgetFromDataProvider(t,i).onThenPromise(i=>{e.OuAnalyticalWidgetExportUtils.enrichWidgetMetadataFromMetadataFormJson(i,r);return e.OuAnalyticalWidgetUtils.saveWidgetAsJsonFile(t,i,a)})}};e.OuAnalyticalWidgetUtils={DEFAULT_CHART_TYPE_NAME:"Pie",DEFAULT_CHART_VIZ_NAME:"chartViz",_adjustWidgetCatalogPathIfNeeded:function(t){if(e.isNull(t)){return t}if(e.XString.endsWith(t,"/")){return t}return e.XStringUtils.concatenate2(t,"/")},_applyDefaultChartVizSettings:function(t,i){if(e.XCollectionUtils.hasElements(i)){let t=i.get(0);if(t.getSemanticBindingType()===e.SemanticBindingType.CHART){let i=t;let r=i.addNewSimpleTypeVariable(e.XValueType.STRING,e.OlapVisualizationConstants.LEGEND_STYLE_VARIABLE_HORIZONTAL_ALIGNMENT,e.OlapVisualizationConstants.LEGEND_STYLE_VARIABLE_HORIZONTAL_ALIGNMENT,false);r.setString(e.CellAlignmentHorizontal.CENTER.getName());let a=i.addNewSimpleTypeVariable(e.XValueType.STRING,e.OlapVisualizationConstants.LEGEND_STYLE_VARIABLE_LAYOUT_DIRECTION,e.OlapVisualizationConstants.LEGEND_STYLE_VARIABLE_LAYOUT_DIRECTION,false);a.setString(e.LayoutDirection.HORIZONTAL.getName())}}return e.XPromise.resolve(null)},_applyDefaultQuerySettings:function(t){let i=t.getQueryManager();if(e.isNull(i)){return e.XPromise.resolve(null)}e.XCollectionUtils.forEach(i.getQueryModel().getDimensions(),t=>{if(i.getConvenienceCommands().isFieldContainerTextViewSupported(t.getName(),null)){i.getConvenienceCommands().setFieldContainerDisplay(t.getName(),null,e.FieldContainerDisplay.TEXT)}});return e.XPromise.resolve(null)},applyDataProviderStateToAnalyticalWidget:function(t,i){if(e.isNull(t)){return e.XPromise.reject(e.XError.create("Missing data provider! Cannot apply state!"))}if(e.isNull(i)){return e.XPromise.reject(e.XError.create("Missing analytical widget! Cannot apply state!"))}return t.getActions().getSerializationActions().exportRepository(true).onThenExt(r=>{i.setInaRepoStructure(r);i.setModelFormat(e.QModelFormat.INA_REPOSITORY_DELTA);i.setSystemName(t.getSystemName());i.setDataSourceFQN(t.getDataSourceName());return i}).onThenPromise(r=>t.getActions().getVisualizationActions().getActiveVisualizationDefinition().onThenExt(t=>{i.setWidgetType(e.OuAnalyticalWidgetType.lookupBySemanticBindingType(t.getSemanticBindingType()));if(t.getSemanticBindingType()===e.SemanticBindingType.CHART){let e=t;let r=e.getChartSetting().getChartType();i.setChartType(r)}return i}))},createAnalyticalWidgetFromDataProvider:function(t,i){if(e.isNull(t)){return e.XPromise.reject(e.XError.create("Missing process! Cannot create analytical widget file!"))}if(e.isNull(i)){return e.XPromise.reject(e.XError.create("Missing data provider! Cannot create analytical widget file!"))}let r=e.OuAnalyticalWidget.create();return e.OuAnalyticalWidgetUtils.applyDataProviderStateToAnalyticalWidget(i,r)},createDataProviderFromWidget:function(t,i){let r=t.getApplication();let a=e.QFactory.createDataSource();a.setSystemName(i.getSystemName());a.setFullQualifiedName(i.getDataSourceFQN());let o=e.OuDataProviderConfiguration.createConfig(r,a);o.setDataProviderName(i.getId());o.setLoadingActionManifests(false);o.setStartAsConnected(true);o.setRepoDeltaEnabled(i.getModelFormat()===e.QModelFormat.INA_REPOSITORY_DELTA);o.getStartConnection().setRepoJson(i.getInaRepoStructure());o.getStartConnection().setStartWithAutoFetch(true);return e.OuDataProviderFactory.createDataProviderFromSource(o)},createDataProviderFromWidgetId:function(t,i,r){return e.OuAnalyticalWidgetUtils.getWidgeById(t,i,r).onThenPromise(i=>e.OuAnalyticalWidgetUtils.createDataProviderFromWidget(t,i))},createPristineDataProviderFromDataSource:function(t,i){if(e.isNull(t)){return e.XPromise.reject(e.XError.create("Missing data source! Cannot create a data provider!"))}if(e.isNull(i)){return e.XPromise.reject(e.XError.create("Missing application! Cannot create a data provider!"))}let r=e.PrFactory.createList();let a=r.addNewStructure();a.putString(e.OuDataProviderConfiguration.VIZ_NAME,e.OuAnalyticalWidgetUtils.DEFAULT_CHART_VIZ_NAME);a.putString(e.OuDataProviderConfiguration.VIZ_TYPE,e.VisualizationType.CHART.getName());a.putString(e.OuDataProviderConfiguration.VIZ_PROTOCOL,e.ProtocolBindingType.HIGH_CHART_PROTOCOL.getName());a.putString(e.OuDataProviderConfiguration.VIZ_CHART_TYPE,e.ChartType.PIE.getName());let o=e.OuDataProviderConnection.createConnection(i);o.setDataSource(t);o.setStartWithAutoFetch(true);o.setVisualizations(r);let l=e.OuDataProviderConfiguration.createConfigForEmptyDataProvider(i);l.setDataProviderName("analyticalWidgetDesignerDp");l.setLoadingActionManifests(false);l.setStartAsConnected(true);l.setStartConnection(o);l.getHooks().getFinalizeQueryManagerRegister().addFunction(e.OuAnalyticalWidgetUtils._applyDefaultQuerySettings);l.getHooks().getAfterVisualizationLoadRegister().addBiFunction((t,i)=>e.OuAnalyticalWidgetUtils._applyDefaultChartVizSettings(t,i));return e.OuDataProviderFactory.createDataProviderFromSource(l)},createWidgetFile:function(t,i,r){if(e.isNull(t)){return e.XPromise.reject(e.XError.create("Missing process! Cannot create analytical widget file!"))}if(e.isNull(i)){return e.XPromise.reject(e.XError.create("Missing data provider! Cannot create analytical widget file!"))}if(e.XStringUtils.isNullOrEmpty(r)){return e.XPromise.reject(e.XError.create("No analytical widget catalog specified! Cannot create analytical widget file!"))}let a=e.OuAnalyticalWidget.create();return e.OuAnalyticalWidgetUtils.applyDataProviderStateToAnalyticalWidget(i,a).onThenPromise(i=>{let o=e.XFile.create(t,e.XStringUtils.concatenate2(e.OuAnalyticalWidgetUtils._adjustWidgetCatalogPathIfNeeded(r),a.getId()));a.updateModifiedTimestamp();return e.XFilePromise.saveJson(o,a.getWidgetStructure()).onThenExt(e=>a.getId())})},getWidgeById:function(t,i,r){if(e.isNull(t)){return e.XPromise.reject(e.XError.create("Missing process! Cannot load analytical widget!"))}if(e.XStringUtils.isNullOrEmpty(i)){return e.XPromise.reject(e.XError.create("Missing data provider! Cannot load analytical widget!"))}if(e.XStringUtils.isNullOrEmpty(r)){return e.XPromise.reject(e.XError.create("No analytical widget catalog specified! Cannot load analytical widget!"))}let a=e.XFile.create(t,e.XStringUtils.concatenate2(r,i));return e.XFilePromise.loadJsonStructure(a).onThenExt(t=>{let i=e.OuAnalyticalWidget.createByStructure(t);if(e.isNull(i)||!i.isValid()){throw e.XException.createException("Analytical widget data seems to be corrupted!")}return i})},getWidgetIdListFromWidgetCatalog:function(t,i){let r=e.XFile.create(t,i);return e.XFilePromise.fetchChildren(r).onThenExt(t=>{let i=e.XList.create();e.XCollectionUtils.forEach(t,e=>{i.add(e.getName())});return i})},getWidgetListFromWidgetCatalog:function(t,i){let r=e.XFile.create(t,i);return e.XFilePromise.fetchChildren(r).onThenPromise(t=>{let i=e.XList.create();let r=e.XPromiseList.create();e.XCollectionUtils.forEach(t,t=>{r.add(e.XFilePromise.loadJsonStructure(t).onThenExt(t=>{let r=e.OuAnalyticalWidget.createByStructure(t);if(e.notNull(r)&&r.isValid()){i.add(r)}return r}))});let a=e.XPromise.allSettled(r);return a.onThenExt(t=>{e.XCollectionUtils.sortByComparator(i,(t,i)=>e.XIntegerValue.create(e.XString.compare(t.getId(),i.getId())));return i})})},saveExistingWidgetFile:function(t,i,r,a){if(e.isNull(i)){return e.XPromise.reject(e.XError.create("Missing data provider! Cannot save analytical widget file!"))}let o=e.XFile.create(t,e.XStringUtils.concatenate2(e.OuAnalyticalWidgetUtils._adjustWidgetCatalogPathIfNeeded(a),r));return e.OuAnalyticalWidgetUtils.getWidgeById(t,r,a).onThenPromise(t=>e.OuAnalyticalWidgetUtils.applyDataProviderStateToAnalyticalWidget(i,t).onThenPromise(i=>{t.updateModifiedTimestamp();return e.XFilePromise.saveJson(o,t.getWidgetStructure()).onThenExt(e=>r)}))},saveWidgetAsJsonFile:function(t,i,r){if(e.isNull(t)){return e.XPromise.reject(e.XError.create("Missing process! Cannot create analytical widget file!"))}if(e.isNull(i)||!i.isValid()){return e.XPromise.reject(e.XError.create("Missing or invalid analytical widget! Cannot save!"))}if(e.XStringUtils.isNullOrEmpty(r)){return e.XPromise.reject(e.XError.create("No analytical widget catalog specified! Cannot create analytical widget file!"))}let a=e.XFile.create(t,e.XStringUtils.concatenate2(e.OuAnalyticalWidgetUtils._adjustWidgetCatalogPathIfNeeded(r),i.getId()));i.updateModifiedTimestamp();return e.XFilePromise.saveJson(a,i.getWidgetStructure()).onThenExt(e=>i)}};e.OuDataProviderFilterDialogActionResult=function(){};e.OuDataProviderFilterDialogActionResult.prototype=new e.XObject;e.OuDataProviderFilterDialogActionResult.prototype._ff_c="OuDataProviderFilterDialogActionResult";e.OuDataProviderFilterDialogActionResult.create=function(){return new e.OuDataProviderFilterDialogActionResult};e.OuDataProviderFilterDialogActionResult.prototype.m_isSubmitted=false;e.OuDataProviderFilterDialogActionResult.prototype.isDialogCancelled=function(){return!this.m_isSubmitted};e.OuDataProviderFilterDialogActionResult.prototype.isDialogSubmitted=function(){return this.m_isSubmitted};e.OuDataProviderFilterDialogActionResult.prototype.setDialogSubmitted=function(e){this.m_isSubmitted=e};e.FilterDialogProgramRunnerFactory={createForDimension:function(t,i,r,a){let o=e.ProgramRunner.createRunner(t,e.FilterDialog.DEFAULT_PROGRAM_NAME_DIMENSION);let l=e.ProgramStartData.create();l.putXObject(e.DfOuDialogProgram.PRG_DATA_QUERY_MANAGER,i);o.setProgramStartData(l);o.setStringArgument(e.FilterDialog.ARG_DIMENSION_NAME,r);o.setStringArgument(e.FilterDialog.ARG_TITLE,a);return o},createForDimensionFilter:function(t,i,r,a){let o=e.FilterDialogProgramRunnerFactory.createForDimension(t,i,r,a);o.setBooleanArgument(e.FilterDialog.ARG_OPEN_WITH_DYNAMIC_FILTER,true);return o},createForHierarchyCatalog:function(t,i,r,a){let o=e.ProgramRunner.createRunner(t,e.FilterDialog.DEFAULT_PROGRAM_NAME_HIERARCHY_CATALOG);let l=e.ProgramStartData.create();l.putXObject(e.DfOuDialogProgram.PRG_DATA_QUERY_MANAGER,i);o.setProgramStartData(l);o.setStringArgument(e.FilterDialog.ARG_DIMENSION_NAME,r);o.setStringArgument(e.FilterDialog.ARG_TITLE,a);return o},createForLinkedMeasureBasedFilter:function(t,i,r,a,o){let l=e.ProgramRunner.createRunner(t,e.FilterDialog.DEFAULT_PROGRAM_NAME_MEASURE_BASED_FILTER);let n=e.ProgramStartData.create();n.putXObject(e.DfOuDialogProgram.PRG_DATA_QUERY_MANAGER,i);l.setProgramStartData(n);l.setStringArgument(e.FilterDialog.ARG_MBF_MEMBER_NAME,r);l.setStringArgument(e.FilterDialog.ARG_LAYERED_FILTER_NAME,a);l.setStringArgument(e.FilterDialog.ARG_TITLE,o);return l},createForMeasureBasedFilter:function(t,i,r,a,o){let l=e.ProgramRunner.createRunner(t,e.FilterDialog.DEFAULT_PROGRAM_NAME_MEASURE_BASED_FILTER);let n=e.ProgramStartData.create();n.putXObject(e.DfOuDialogProgram.PRG_DATA_QUERY_MANAGER,i);n.putXObject(e.FilterDialog.PRG_DATA_MBF,a);l.setProgramStartData(n);l.setStringArgument(e.FilterDialog.ARG_MBF_MEMBER_NAME,r);l.setStringArgument(e.FilterDialog.ARG_TITLE,o);return l},createForUserAndTeam:function(t,i,r,a){let o=e.ProgramRunner.createRunner(t,e.FilterDialog.DEFAULT_PROGRAM_NAME_USER_TEAM);o.setStringArgument(e.FilterDialog.ARG_TITLE,i);o.setStringArgument(e.FilterDialog.ARG_WORKSPACE,r);o.setStringArgument(e.FilterDialog.ARG_HIDDEN_VALUES,a);return o},createForVariable:function(t,i,r,a){let o=e.ProgramRunner.createRunner(t,e.FilterDialog.DEFAULT_PROGRAM_NAME_VARIABLE);if(e.notNull(i)){let t=e.ProgramStartData.create();t.putXObject(e.DfOuDialogProgram.PRG_DATA_QUERY_MANAGER,i);o.setProgramStartData(t);o.setStringArgument(e.FilterDialog.ARG_VARIABLE_NAME,r.getName())}else{let t=e.ProgramStartData.create();t.putXObject(e.FilterDialog.PRG_DATA_VARIABLE,r);o.setProgramStartData(t)}o.setStringArgument(e.FilterDialog.ARG_TITLE,a);return o},createForVariableFilter:function(t,i,r,a){let o=e.FilterDialogProgramRunnerFactory.createForVariable(t,i,r,a);o.setBooleanArgument(e.FilterDialog.ARG_OPEN_WITH_VARIABLE_FILTER,true);return o}};e.FilterDialogValueFormatter=function(){};e.FilterDialogValueFormatter.prototype=new e.XObject;e.FilterDialogValueFormatter.prototype._ff_c="FilterDialogValueFormatter";e.FilterDialogValueFormatter.DEFAULT_RANGE_DISPLAY_PATTERN="[ ] $1 - $2";e.FilterDialogValueFormatter.DEFAULT_RANGE_EXCLUDED_DISPLAY_PATTERN="![ ] $1 - $2";e.FilterDialogValueFormatter.DEFAULT_RANGE_SIMPLIFIED_PATTERN="$1 - $2";e.FilterDialogValueFormatter.DEFAULT_VALUE_DISPLAY_PATTERN="$1 ($2)";e.FilterDialogValueFormatter.create=function(t,i,r){let a=new e.FilterDialogValueFormatter;a.setupComponent(t,i,r);return a};e.FilterDialogValueFormatter.formatDateRangeSimplified=function(t,i){return e.FilterDialogValueFormatter.replace(e.FilterDialogValueFormatter.DEFAULT_RANGE_SIMPLIFIED_PATTERN,t,i)};e.FilterDialogValueFormatter.replace=function(t,i,r){if(e.XStringUtils.isNullOrEmpty(r)){return i}if(e.XStringUtils.isNullOrEmpty(i)){return r}return e.XString.replace(e.XString.replace(t,"$1",i),"$2",r)};e.FilterDialogValueFormatter.prototype.m_rangeExcludedPattern=null;e.FilterDialogValueFormatter.prototype.m_rangePattern=null;e.FilterDialogValueFormatter.prototype.m_rangeSimplifiedPattern=null;e.FilterDialogValueFormatter.prototype.m_valuePattern=null;e.FilterDialogValueFormatter.prototype.format=function(t,i){return e.FilterDialogValueFormatter.replace(this.m_valuePattern,t,i)};e.FilterDialogValueFormatter.prototype.formatRange=function(e,t,i,r,a){let o=a?this.m_rangeExcludedPattern:this.m_rangePattern;return this.formatRangeWithPattern(o,e,t,i,r)};e.FilterDialogValueFormatter.prototype.formatRangeSimplified=function(e,t,i,r){return this.formatRangeWithPattern(this.m_rangeSimplifiedPattern,e,t,i,r)};e.FilterDialogValueFormatter.prototype.formatRangeWithPattern=function(t,i,r,a,o){let l=e.FilterDialogValueFormatter.replace(this.m_valuePattern,i,r);let n=e.FilterDialogValueFormatter.replace(this.m_valuePattern,a,o);return e.FilterDialogValueFormatter.replace(t,l,n)};e.FilterDialogValueFormatter.prototype.releaseObject=function(){e.XObject.prototype.releaseObject.call(this);this.m_valuePattern=null;this.m_rangePattern=null;this.m_rangeExcludedPattern=null;this.m_rangeSimplifiedPattern=null};e.FilterDialogValueFormatter.prototype.setupComponent=function(t,i,r){this.m_valuePattern=t;if(e.isNull(this.m_valuePattern)||!e.XString.containsString(this.m_valuePattern,"$1")||!e.XString.containsString(this.m_valuePattern,"$2")){this.m_valuePattern=e.FilterDialogValueFormatter.DEFAULT_VALUE_DISPLAY_PATTERN}this.m_rangePattern=i;if(e.isNull(this.m_rangePattern)||!e.XString.containsString(this.m_rangePattern,"$1")||!e.XString.containsString(this.m_rangePattern,"$2")){this.m_rangePattern=e.FilterDialogValueFormatter.DEFAULT_RANGE_DISPLAY_PATTERN;this.m_rangeSimplifiedPattern=e.FilterDialogValueFormatter.DEFAULT_RANGE_SIMPLIFIED_PATTERN}else{this.m_rangeSimplifiedPattern=e.XString.substring(this.m_rangePattern,e.XString.indexOf(this.m_rangePattern,"$1"),e.XString.indexOf(this.m_rangePattern,"$2")+2)}this.m_rangeExcludedPattern=r;if(e.isNull(this.m_rangeExcludedPattern)||!e.XString.containsString(this.m_rangeExcludedPattern,"$1")||!e.XString.containsString(this.m_rangeExcludedPattern,"$2")){this.m_rangeExcludedPattern=e.FilterDialogValueFormatter.DEFAULT_RANGE_EXCLUDED_DISPLAY_PATTERN}};e.FilterDialogValueFactory={s_factory:null,createDateRangeDynamic:function(t){return e.FilterDialogValueFactory.s_factory.newDateRangeDynamic(t)},createDateRangeFixed:function(t,i,r,a){return e.FilterDialogValueFactory.s_factory.newDateRangeFixed(t,i,r,a)},createEmptyValue:function(){return e.FilterDialogValueFactory.s_factory.newEmptyValue()},createNullValue:function(){return e.FilterDialogValueFactory.s_factory.newNullValue()},createRangeValue:function(t,i,r){return e.FilterDialogValueFactory.s_factory.newRangeValue(t,i,r)},createSelectionFromFilter:function(t,i){return e.FilterDialogValueFactory.s_factory.newSelectionFromFilter(t,i)},createSelectionFromVariable:function(t){return e.FilterDialogValueFactory.s_factory.newSelectionFromVariable(t)},createTeamValue:function(t,i,r){return e.FilterDialogValueFactory.s_factory.newTeamValue(t,i,r)},createTeamValueByFile:function(t){return e.FilterDialogValueFactory.s_factory.newTeamValueByFile(t)},createUserValue:function(t,i,r){return e.FilterDialogValueFactory.s_factory.newUserValue(t,i,r)},createUserValueByFile:function(t){return e.FilterDialogValueFactory.s_factory.newUserValueByFile(t)},createValue:function(t,i,r){return e.FilterDialogValueFactory.s_factory.newValue(t,i,r)},createValueExt:function(t,i,r,a,o){return e.FilterDialogValueFactory.s_factory.newValueExt(t,i,r,a,o)},createValueHelpValue:function(t){return e.FilterDialogValueFactory.s_factory.newValueHelpValue(t)},createValueHelpValueExt:function(t,i,r){return e.FilterDialogValueFactory.s_factory.newValueHelpValueExt(t,i,r)},createValueWithType:function(t,i,r,a){return e.FilterDialogValueFactory.s_factory.newValueWithType(t,i,r,a)},newDateRangeItemFromCartesianElement:function(t,i,r){return e.FilterDialogValueFactory.s_factory.newDateRangeItemFromCartesianElement(t,i,r)},setInstance:function(t){e.FilterDialogValueFactory.s_factory=t}};e.FilterDialogLambdaBeforeFilterChangeListener=function(){};e.FilterDialogLambdaBeforeFilterChangeListener.prototype=new e.XObject;e.FilterDialogLambdaBeforeFilterChangeListener.prototype._ff_c="FilterDialogLambdaBeforeFilterChangeListener";e.FilterDialogLambdaBeforeFilterChangeListener.create=function(t){let i=new e.FilterDialogLambdaBeforeFilterChangeListener;i.m_procedure=t;return i};e.FilterDialogLambdaBeforeFilterChangeListener.prototype.m_procedure=null;e.FilterDialogLambdaBeforeFilterChangeListener.prototype.onBeforeChange=function(t){if(e.notNull(this.m_procedure)){this.m_procedure(t)}};e.FilterDialogLambdaBeforeFilterChangeListener.prototype.releaseObject=function(){this.m_procedure=null;e.XObject.prototype.releaseObject.call(this)};e.FilterDialogMBFUtils={addFormulaFunctionToSelection:function(t,i,r){if(e.notNull(t)&&e.XString.isEqual(t.getFunctionName(),e.FormulaOperator.IF.getName())&&t.size()===3){let a=e.FilterDialogMBFUtils.asFormulaFunction(t.get(0));if(e.notNull(a)){let t=e.FilterDialogMBFUtils.getByFormulaOperator(a.getFunctionName());if(t===e.ComparisonOperator.BETWEEN||t===e.ComparisonOperator.NOT_BETWEEN){if(a.size()===2){let o=e.FilterDialogMBFUtils.createItemFromFormulaFunction(e.FilterDialogMBFUtils.asFormulaFunction(a.get(0)),i,e.ComparisonOperator.EQUAL);let l=e.FilterDialogMBFUtils.createItemFromFormulaFunction(e.FilterDialogMBFUtils.asFormulaFunction(a.get(1)),i,e.ComparisonOperator.EQUAL);if(e.notNull(o)&&e.notNull(l)){r.add(e.FilterDialogValueFactory.createRangeValue(o,l,t===e.ComparisonOperator.NOT_BETWEEN))}}}else if(e.notNull(t)){e.XCollectionUtils.addIfNotNull(r,e.FilterDialogMBFUtils.createItemFromFormulaFunction(a,i,t))}}let o=e.FilterDialogMBFUtils.asFormulaFunction(t.get(2));e.FilterDialogMBFUtils.addFormulaFunctionToSelection(o,i,r)}},asFormulaFunction:function(t){return e.notNull(t)&&t.getOlapComponentType()===e.OlapComponentType.FORMULA_FUNCTION?t:null},createFormula:function(t,i,r){if(!e.XCollectionUtils.hasElements(r)){return null}let a=e.QFactory.createFormulaFunctionWithName(t,e.FormulaOperator.IF.getName());let o=null;let l=a;for(let l=0;l<r.size();l++){let n=r.get(l);if(!e.FilterDialogMBFUtils.isValidValue(n)){continue}let s=n.getComparisonOperator();let u=e.FilterDialogMBFUtils.getFormulaOperator(s);let g=s===e.ComparisonOperator.BETWEEN;let d;if((g||s===e.ComparisonOperator.NOT_BETWEEN)&&n.getType()===e.FilterDialogValueType.RANGE){let r=n;d=e.QFactory.createFormulaFunctionWithName(t,u.getName());d.add(e.FilterDialogMBFUtils.createFormulaItemFunction(t,i,g?e.FormulaOperator.GE:e.FormulaOperator.LT,r.getLow().getKey()));d.add(e.FilterDialogMBFUtils.createFormulaItemFunction(t,i,g?e.FormulaOperator.LE:e.FormulaOperator.GT,r.getHigh().getKey()))}else{d=e.FilterDialogMBFUtils.createFormulaItemFunction(t,i,u,n.getKey())}a.add(d);a.add(e.QFactory.createFormulaConstantWithStringValue(t,"1"));if(l===r.size()-1){a.add(e.QFactory.createFormulaConstantWithStringValue(t,"0"))}else{o=a;a=e.QFactory.createFormulaFunctionWithName(t,e.FormulaOperator.IF.getName());o.add(a)}}if(a.isEmpty()){if(a===l){return null}o.removeAt(2);o.add(e.QFactory.createFormulaConstantWithStringValue(t,"0"))}return l},createFormulaItemFunction:function(t,i,r,a){let o=e.QFactory.createFormulaFunctionWithName(t,r.getName());o.add(e.QFactory.createFormulaMemberWithName(t,i));let l=e.QFactory.createFormulaFunctionWithName(t,e.FormulaOperator.DECFLOAT.getName());l.add(e.QFactory.createFormulaConstantWithStringValue(t,a));o.add(l);return o},createItemFromFormulaFunction:function(t,i,r){if(e.notNull(t)&&t.size()===2){let a=t.get(0).getOlapComponentType()===e.OlapComponentType.FORMULA_ITEM_MEMBER?t.get(0):null;let o=e.FilterDialogMBFUtils.asFormulaFunction(t.get(1));if(e.notNull(a)&&e.XString.isEqual(a.getMemberName(),i)&&e.notNull(o)&&o.hasElements()){let t=o.get(0);if(t.getOlapComponentType()===e.OlapComponentType.FORMULA_CONSTANT){return e.FilterDialogValueFactory.createValueExt(t.getString(),null,null,null,r)}}}return null},getByFormulaOperator:function(t){if(e.XString.isEqual(t,e.FormulaOperator.AND.getName())){return e.ComparisonOperator.BETWEEN}if(e.XString.isEqual(t,e.FormulaOperator.OR.getName())){return e.ComparisonOperator.NOT_BETWEEN}if(e.XString.isEqual(t,e.FormulaOperator.GT.getName())){return e.ComparisonOperator.GREATER_THAN}if(e.XString.isEqual(t,e.FormulaOperator.GE.getName())){return e.ComparisonOperator.GREATER_EQUAL}if(e.XString.isEqual(t,e.FormulaOperator.LT.getName())){return e.ComparisonOperator.LESS_THAN}if(e.XString.isEqual(t,e.FormulaOperator.LE.getName())){return e.ComparisonOperator.LESS_EQUAL}if(e.XString.isEqual(t,e.FormulaOperator.EQ.getName())){return e.ComparisonOperator.EQUAL}if(e.XString.isEqual(t,e.FormulaOperator.NE.getName())){return e.ComparisonOperator.NOT_EQUAL}return null},getFilterRanges:function(t){let i=e.XList.create();let r=e.FilterDialogMBFUtils.getMemberName(t);if(e.notNull(r)){e.FilterDialogMBFUtils.addFormulaFunctionToSelection(e.FilterDialogMBFUtils.asFormulaFunction(t.getFormula()),r,i)}return i},getFilterRangesByMemberName:function(t,i){let r=e.XList.create();e.FilterDialogMBFUtils.addFormulaFunctionToSelection(e.FilterDialogMBFUtils.asFormulaFunction(t.getFormula()),i,r);return r},getFormulaOperator:function(t){if(t===e.ComparisonOperator.BETWEEN){return e.FormulaOperator.AND}if(t===e.ComparisonOperator.NOT_BETWEEN){return e.FormulaOperator.OR}if(t===e.ComparisonOperator.GREATER_THAN){return e.FormulaOperator.GT}if(t===e.ComparisonOperator.GREATER_EQUAL){return e.FormulaOperator.GE}if(t===e.ComparisonOperator.LESS_THAN){return e.FormulaOperator.LT}if(t===e.ComparisonOperator.LESS_EQUAL){return e.FormulaOperator.LE}if(t===e.ComparisonOperator.NOT_EQUAL){return e.FormulaOperator.NE}return e.FormulaOperator.EQ},getMemberName:function(t){return e.FilterDialogMBFUtils.getMemberNameFromFormula(e.FilterDialogMBFUtils.asFormulaFunction(t.getFormula()))},getMemberNameFromFormula:function(t){if(e.notNull(t)&&e.XString.isEqual(t.getFunctionName(),e.FormulaOperator.IF.getName())&&t.hasElements()){let i=e.FilterDialogMBFUtils.asFormulaFunction(t.get(0));let r=e.notNull(i)?e.FilterDialogMBFUtils.getByFormulaOperator(i.getFunctionName()):null;if(r===e.ComparisonOperator.BETWEEN||r===e.ComparisonOperator.NOT_BETWEEN){i=e.FilterDialogMBFUtils.asFormulaFunction(i.get(0))}if(e.notNull(i)&&i.hasElements()){let t=i.get(0).getOlapComponentType()===e.OlapComponentType.FORMULA_ITEM_MEMBER?i.get(0):null;if(e.notNull(t)&&e.XStringUtils.isNotNullAndNotEmpty(t.getMemberName())){return t.getMemberName()}}return e.FilterDialogMBFUtils.getMemberNameFromFormula(e.FilterDialogMBFUtils.asFormulaFunction(t.get(2)))}return null},isValidValue:function(t){if(e.isNull(t)||t.isNull()){return false}if(t.getType()===e.FilterDialogValueType.RANGE){let e=t;return!e.getLow().isNull()&&e.getLow().getKey()!==null&&!e.getHigh().isNull()&&e.getHigh().getKey()!==null}return t.getKey()!==null}};e.FilterDialogValueStatement=function(){};e.FilterDialogValueStatement.prototype=new e.XObject;e.FilterDialogValueStatement.prototype._ff_c="FilterDialogValueStatement";e.FilterDialogValueStatement.create=function(t,i,r,a,o){let l=new e.FilterDialogValueStatement;l.setupValueStatement(t,i,r.getDimension().getFilterCapabilities().getFilterCapabilitiesByField(r),r,a,o,false);return l};e.FilterDialogValueStatement.createForVariableValue=function(t,i,r,a){let o=new e.FilterDialogValueStatement;let l=i.getMemberFilter();o.setupValueStatement(t,l.getFilterExpression(),i.getFilterCapability(),l.getField(),r,a,true);return o};e.FilterDialogValueStatement.prototype.m_filterCapability=null;e.FilterDialogValueStatement.prototype.m_filterContext=null;e.FilterDialogValueStatement.prototype.m_isVariableFilter=false;e.FilterDialogValueStatement.prototype.m_keyField=null;e.FilterDialogValueStatement.prototype.m_supplementDisplayKeyField=null;e.FilterDialogValueStatement.prototype.m_supplementTextField=null;e.FilterDialogValueStatement.prototype.m_value=null;e.FilterDialogValueStatement.prototype._setComparisonOperator=function(t){let i=this.m_value.getComparisonOperator();t.setComparisonOperator(this.m_value.isNull()?e.ComparisonOperator.IS_NULL:i);t.setSetSign(e.SetSign.INCLUDING);let r=e.notNull(this.m_filterCapability)?this.m_filterCapability.getSupportedComparisonOperators(e.SetSign.EXCLUDING):null;if(e.notNull(r)){if(this.m_value.isNull()){if(i===e.ComparisonOperator.NOT_EQUAL&&r.contains(e.ComparisonOperator.IS_NULL)){t.setSetSign(e.SetSign.EXCLUDING)}}else if(i===e.ComparisonOperator.NOT_EQUAL){if(r.contains(e.ComparisonOperator.EQUAL)){t.setComparisonOperator(e.ComparisonOperator.EQUAL);t.setSetSign(e.SetSign.EXCLUDING)}}else if(i===e.ComparisonOperator.NOT_BETWEEN){if(r.contains(e.ComparisonOperator.BETWEEN)){t.setComparisonOperator(e.ComparisonOperator.BETWEEN);t.setSetSign(e.SetSign.EXCLUDING)}}else if(i===e.ComparisonOperator.NOT_MATCH){if(r.contains(e.ComparisonOperator.MATCH)){t.setComparisonOperator(e.ComparisonOperator.MATCH);t.setSetSign(e.SetSign.EXCLUDING)}}else if(this.m_value.isExcluded()&&r.contains(i)){t.setSetSign(e.SetSign.EXCLUDING)}}};e.FilterDialogValueStatement.prototype._setFilterValue=function(t,i,r){if(i.getType()===e.FilterDialogValueType.VALUEHELP){t.setDimensionMember(i.getValueHelpNode().getDimensionMember())}else{let r=i.getKey();t.setValue(e.XValueUtil.getValueFromString(e.notNull(r)?r:"",this.m_keyField.getValueType()))}r.setField(this.m_keyField);if(e.FilterDialogValueUtils.supportsDisplayKeySupplement(this.m_keyField,this.m_supplementDisplayKeyField)&&(this.m_keyField!==this.m_supplementDisplayKeyField||!e.XString.isEqual(i.getDisplayKey(),i.getDisplayKeyFormatted()))){t.addSupplementValue(this.m_supplementDisplayKeyField.getName(),this.m_supplementDisplayKeyField.getValueType().isDateTime()?i.getDisplayKeyFormatted():i.getDisplayKey())}if(e.notNull(this.m_supplementTextField)){t.addSupplementValue(this.m_supplementTextField.getName(),i.getText())}};e.FilterDialogValueStatement.prototype.getFilterCapability=function(){return this.m_filterCapability};e.FilterDialogValueStatement.prototype.getFilterContext=function(){return this.m_filterContext};e.FilterDialogValueStatement.prototype.getKeyField=function(){return this.m_keyField};e.FilterDialogValueStatement.prototype.getSupplementDisplayKeyField=function(){return this.m_supplementDisplayKeyField};e.FilterDialogValueStatement.prototype.getSupplementTextField=function(){return this.m_supplementTextField};e.FilterDialogValueStatement.prototype.getValue=function(){return this.m_value};e.FilterDialogValueStatement.prototype.mapToFilterOperation=function(){let t=this.m_value.getType();let i;if(!this.m_isVariableFilter&&(t===e.FilterDialogValueType.DATE_RANGE_FIXED||t===e.FilterDialogValueType.DATE_RANGE_DYNAMIC)){i=e.QFactory.createFilterOperationDateRange(this.m_filterContext,this.m_keyField)}else{i=e.QFactory.createFilterOperation(this.m_filterContext,this.m_keyField)}if(!this.m_isVariableFilter){i.setHierarchyName(this.m_value.getHierarchyName())}this._setComparisonOperator(i);if(t===e.FilterDialogValueType.RANGE){this._setFilterValue(i.getLow(),this.m_value.getLow(),i);this._setFilterValue(i.getHigh(),this.m_value.getHigh(),i)}else if(!this.m_isVariableFilter&&(t===e.FilterDialogValueType.DATE_RANGE_FIXED||t===e.FilterDialogValueType.DATE_RANGE_DYNAMIC)){i.setDateRange(this.m_value.getDateRange(),this.m_keyField)}else if(!this.m_value.isNull()){this._setFilterValue(i.getLow(),this.m_value,i)}return i};e.FilterDialogValueStatement.prototype.releaseObject=function(){e.XObject.prototype.releaseObject.call(this);this.m_filterContext=null;this.m_filterCapability=null;this.m_keyField=null;this.m_supplementDisplayKeyField=null;this.m_supplementTextField=null};e.FilterDialogValueStatement.prototype.setupValueStatement=function(e,t,i,r,a,o,l){this.m_value=e;this.m_filterContext=t;this.m_filterCapability=i;this.m_isVariableFilter=l;this.m_keyField=r;this.m_supplementDisplayKeyField=a;this.m_supplementTextField=o};e.FilterDialogValueUtils={_updateFilterWithSelection:function(t,i,r,a,o){e.XObjectExt.assertNotNullExt(t,"Dimension must not be null");e.XObjectExt.assertNotNullExt(r,"Filter must not be null");e.XObjectExt.assertNotNullExt(a,"Selection must not be null");r.clear();let l=a.get(0).getHierarchyName();let n=e.notNull(i);let s=e.XStringUtils.isNotNullAndNotEmpty(l);let u=s&&!n&&(!t.isHierarchyActive()||!e.XString.isEqual(l,t.getHierarchyName()));let g=e.FilterDialogValueUtils.getKeyField(t,i,s);let d=s?t.getHierarchyDisplayKeyField():t.getFlatDisplayKeyField();let p=e.FilterDialogValueUtils.supportsDisplayKeySupplement(g,d)?d:null;let m=e.XStream.of(a).map(t=>e.FilterDialogValueUtils.mapToValueHelpValue(t)).filterNullValues().map(e=>e.getTextField()).findAny().orElseGet(()=>s?t.getHierarchyTextField():t.getFlatTextField());if(!n){r.setHierarchyName(l);r.setConvertToFlatFilter(u)}r.setField(g);r.addSupplementField(p);r.addSupplementField(m);e.XCollectionUtils.forEach(a,t=>{let a=null;let l;if(n){l=e.FilterDialogValueStatement.createForVariableValue(t,i,p,m)}else{l=e.FilterDialogValueStatement.create(t,r.getFilterExpression(),g,p,m)}if(e.notNull(o)){a=o(l)}if(e.isNull(a)){a=l.mapToFilterOperation()}l.releaseObject();e.XCollectionUtils.addIfNotPresent(r,a)})},_updateMBF:function(t,i,r,a,o){t.clearDimensionContext();e.XCollectionUtils.forEach(r,e=>{t.addDimensionContext(e)});t.setCrossCalculationMeasure(a);t.setFormula(e.FilterDialogMBFUtils.createFormula(t,i,o));t.setLinkQueryFilter(true)},getKeyField:function(t,i,r){if(e.QVariableUtils.useKeyNotCompoundForVariableFilter(i)){let i=t.getFirstFieldByType(e.PresentationType.KEY_NOT_COMPOUND);if(e.notNull(i)){return i}}return r?t.getHierarchyKeyField():t.getFlatKeyField()},mapToValueHelpValue:function(t){if(e.notNull(t)&&t.getType()===e.FilterDialogValueType.VALUEHELP){return t}if(e.notNull(t)&&t.getType()===e.FilterDialogValueType.RANGE){let i=t.getLow();if(e.notNull(i)&&i.getType()===e.FilterDialogValueType.VALUEHELP){return i}let r=t.getLow();if(e.notNull(r)&&r.getType()===e.FilterDialogValueType.VALUEHELP){return r}}return null},newSelectionFromFilter:function(t,i){return e.FilterDialogValueFactory.createSelectionFromFilter(t,i)},newSelectionFromMeasureBasedFilter:function(t){return e.FilterDialogMBFUtils.getFilterRanges(t)},newSelectionFromVariable:function(t){return e.FilterDialogValueFactory.createSelectionFromVariable(t)},supportsDisplayKeySupplement:function(t,i){return e.notNull(t)&&e.notNull(i)&&(t!==i||t.getValueType().isDateTime())},supportsFilterOnDimension:function(t){return e.notNull(t)&&t.getKeyField()!==null&&t.getKeyField().isFilterable()},updateDynamicFilter:function(t,i){e.FilterDialogValueUtils.updateDynamicFilterExt(t,i,null)},updateDynamicFilterExt:function(t,i,r){if(e.isNull(t)){return}let a=e.XCollectionUtils.hasElements(i);let o=t.getFilter();if(a||e.notNull(o)){let l=t.getQueryModel().getFilter();l.queueEventing();let n=l.getDynamicFilter();if(a){e.FilterDialogValueUtils._updateFilterWithSelection(t,null,e.notNull(o)?o:n.getCartesianProductWithDefault().getCartesianListWithDefault(t),i,r)}else{n.removeFilterById(o.getUniqueId())}l.resumeEventing()}},updateLayeredFilter:function(t,i,r){e.FilterDialogValueUtils.updateLayeredFilterExt(t,i,r,null)},updateLayeredFilterExt:function(t,i,r,a){if(e.isNull(t)||e.XStringUtils.isNullOrEmpty(i)){return}let o=e.XCollectionUtils.hasElements(r);let l=t.getQueryModel().getFilter();let n=l.getLinkedFilter(i);let s=e.notNull(n)?n.getCartesianList(t):null;if(o||e.notNull(s)){l.queueEventing();if(e.isNull(n)){n=e.QFactory.createFilterExpression(l,l);l.linkFilter(i,n)}n.setPreserveOnRepoSerialization(true);if(o){e.FilterDialogValueUtils._updateFilterWithSelection(t,null,e.notNull(s)?s:n.getCartesianProductWithDefault().getCartesianListWithDefault(t),r,a)}else{n.removeFilterById(s.getUniqueId());if(!n.getFilterRootElement().getChildren().hasNext()){l.linkFilter(i,null)}}l.resumeEventing()}},updateMeasureBasedFilter:function(t,i,r,a,o,l){if(e.isNull(t)||e.XStringUtils.isNullOrEmpty(r)||!e.XCollectionUtils.hasElements(a)){return}if(e.XStringUtils.isNotNullAndNotEmpty(i)){let n=t.getQueryModel().getFilter();n.queueEventing();e.FilterDialogValueUtils._updateMBF(t,r,a,o,l);if(t.getFormula()===null){n.linkFilter(i,null)}else{let r=n.getLinkedFilter(i);if(e.isNull(r)){r=e.QFactory.createFilterExpression(n,n);n.linkFilter(i,r)}r.setPreserveOnRepoSerialization(true);if(r.getFilterRootElement()!==t){r.setComplexRoot(t)}}n.resumeEventing()}else{t.queueEventing();e.FilterDialogValueUtils._updateMBF(t,r,a,o,l);t.resumeEventing()}},updateVariableFilter:function(t,i){e.FilterDialogValueUtils.updateVariableFilterExt(t,i,null)},updateVariableFilterExt:function(t,i,r){if(e.notNull(t)){if(e.XCollectionUtils.hasElements(i)){let a=t.getMemberFilter();a.queueEventing();e.FilterDialogValueUtils._updateFilterWithSelection(t.getDimension(),t,a,i,r);a.resumeEventing()}else if(t.hasMemberFilter()){t.getMemberFilter().clear()}}}};e.OuDataProviderCPConstants={CMD_CREATE_DATA_PROVIDER_WITH_CONFIG:"createDataProviderWithConfig",CMD_GET_ACTIVE_DATA_PROVIDER:"getActiveDataProvider",CMD_GET_ALL_DATA_PROVIDER_NAMES:"getAllDataProviderNames",CMD_GET_DATA_PROVIDER_BY_NAME:"getDataProviderByName",CMD_REGISTER_DATA_PROVIDER_CONFIG:"registerDataProviderConfig",CMD_REGISTER_EXISTING_DATA_PROVIDER:"registerExistingDataProvider",CMD_REGISTER_EXISTING_QUERY_MANAGER:"registerExistingQueryManager",CMD_RELEASE_DATA_PROVIDER:"releaseDataProvider",CMD_SET_ACTIVE_DATA_PROVIDER:"setActiveDataProvider",CMD_SET_ACTIVE_VIZ_NAME:"setActiveVizName",CONFIG_DATA_PROVIDER_CONFIG:"config",CONFIG_DATA_PROVIDER_LIST:"dataProviders",CONFIG_DATA_PROVIDER_NAME:"dataProviderName",CONFIG_SHARED_DATA_SPACE_NAME:"sharedDataSpaceName",NOTIFICATION_ACTIVE_DATA_PROVIDER_CHANGED:"com.sap.ff.DataProviderCommand.Notification.ActiveProviderChanged",NOTIFICATION_DATA_PROVIDER_ADDED:"com.sap.ff.DataProviderCommand.Notification.Added",NOTIFICATION_DATA_PROVIDER_REMOVED:"com.sap.ff.DataProviderCommand.Notification.Removed",NOTIFICATION_PARAM_DATA_PROVIDER_NAME:"com.sap.ff.DataProviderCommand.NotificationData.DataProviderName"};e.OuDataProviderCPParam=function(){};e.OuDataProviderCPParam.prototype=new e.XObject;e.OuDataProviderCPParam.prototype._ff_c="OuDataProviderCPParam";e.OuDataProviderCPParam.createForCreateDataProviderWithConfig=function(t){let i=new e.OuDataProviderCPParam;i.setupParameter(null,t,null,null);return i};e.OuDataProviderCPParam.createForGetDataProvider=function(t){let i=new e.OuDataProviderCPParam;i.setupParameter(t,null,null,null);return i};e.OuDataProviderCPParam.createForRegisterDataSource=function(t,i){let r=new e.OuDataProviderCPParam;r.setupParameter(t,i,null,null);return r};e.OuDataProviderCPParam.createForRegisterExistingDataProvider=function(t,i){let r=new e.OuDataProviderCPParam;r.setupParameter(t,null,null,i);return r};e.OuDataProviderCPParam.createForRegisterExistingQueryManager=function(t,i){let r=new e.OuDataProviderCPParam;r.setupParameter(t,null,i,null);return r};e.OuDataProviderCPParam.prototype.m_dataProvider=null;e.OuDataProviderCPParam.prototype.m_dataProviderConfig=null;e.OuDataProviderCPParam.prototype.m_dataProviderName=null;e.OuDataProviderCPParam.prototype.m_queryManager=null;e.OuDataProviderCPParam.prototype.getDataProvider=function(){return this.m_dataProvider};e.OuDataProviderCPParam.prototype.getDataProviderConfig=function(){return this.m_dataProviderConfig};e.OuDataProviderCPParam.prototype.getDataProviderName=function(){return this.m_dataProviderName};e.OuDataProviderCPParam.prototype.getQueryManager=function(){return this.m_queryManager};e.OuDataProviderCPParam.prototype.setupParameter=function(e,t,i,r){this.m_dataProviderName=e;this.m_dataProviderConfig=t;this.m_queryManager=i;this.m_dataProvider=r};e.OuDataProviderCPStorage=function(){};e.OuDataProviderCPStorage.prototype=new e.XObject;e.OuDataProviderCPStorage.prototype._ff_c="OuDataProviderCPStorage";e.OuDataProviderCPStorage.createDpStorage=function(){let t=new e.OuDataProviderCPStorage;t.setup();return t};e.OuDataProviderCPStorage.prototype.m_activeDataProviders=null;e.OuDataProviderCPStorage.prototype.m_addListeners=null;e.OuDataProviderCPStorage.prototype.m_dataProviderConfigs=null;e.OuDataProviderCPStorage.prototype.m_dataProviderPromises=null;e.OuDataProviderCPStorage.prototype.m_removeListeners=null;e.OuDataProviderCPStorage.prototype.getActiveDataProviders=function(){return this.m_activeDataProviders};e.OuDataProviderCPStorage.prototype.getAllAvailableDataProviderNames=function(){let t=e.XHashSetOfString.create();t.addAll(this.m_dataProviderConfigs.getKeysAsReadOnlyList());t.addAll(this.m_dataProviderPromises.getKeysAsReadOnlyList());t.addAll(this.m_activeDataProviders.getKeysAsReadOnlyList());return t};e.OuDataProviderCPStorage.prototype.getDataProviderAddListeners=function(){return this.m_addListeners};e.OuDataProviderCPStorage.prototype.getDataProviderConfigs=function(){return this.m_dataProviderConfigs};e.OuDataProviderCPStorage.prototype.getDataProviderPromises=function(){return this.m_dataProviderPromises};e.OuDataProviderCPStorage.prototype.getDataProviderRemoveListeners=function(){return this.m_removeListeners};e.OuDataProviderCPStorage.prototype.notifyAddListeners=function(t){this.m_addListeners.accept(e.XStringValue.create(t))};e.OuDataProviderCPStorage.prototype.notifyRemoveListeners=function(t){this.m_removeListeners.accept(e.XStringValue.create(t))};e.OuDataProviderCPStorage.prototype.putActiveDataProvider=function(e,t){this.m_activeDataProviders.put(e,t);this.m_dataProviderConfigs.put(e,t.getConfig());this.notifyAddListeners(e)};e.OuDataProviderCPStorage.prototype.putDataProviderConfig=function(e,t){this.m_dataProviderConfigs.put(e,t);this.notifyAddListeners(e)};e.OuDataProviderCPStorage.prototype.putDataProviderPromise=function(e,t){this.m_dataProviderPromises.put(e,t);t.then(t=>{this.m_activeDataProviders.put(e,t);this.m_dataProviderPromises.remove(e);return t},null);this.notifyAddListeners(e)};e.OuDataProviderCPStorage.prototype.releaseObject=function(){this.m_activeDataProviders=e.XObjectExt.release(this.m_activeDataProviders);this.m_dataProviderPromises=e.XObjectExt.release(this.m_dataProviderPromises);this.m_dataProviderConfigs=e.XObjectExt.release(this.m_dataProviderConfigs);this.m_addListeners=e.XObjectExt.release(this.m_addListeners);this.m_removeListeners=e.XObjectExt.release(this.m_removeListeners);e.XObject.prototype.releaseObject.call(this)};e.OuDataProviderCPStorage.prototype.removeActiveDataProvider=function(e){this.m_activeDataProviders.remove(e);this.m_dataProviderPromises.remove(e);this.notifyRemoveListeners(e)};e.OuDataProviderCPStorage.prototype.setup=function(){e.XObject.prototype.setup.call(this);this.m_activeDataProviders=e.XHashMapByString.create();this.m_dataProviderPromises=e.XHashMapByString.create();this.m_dataProviderConfigs=e.XHashMapByString.create();this.m_addListeners=e.XConsumerCollection.create();this.m_removeListeners=e.XConsumerCollection.create()};e.OuDataProviderPluginEventManager=function(){};e.OuDataProviderPluginEventManager.prototype=new e.XObject;e.OuDataProviderPluginEventManager.prototype._ff_c="OuDataProviderPluginEventManager";e.OuDataProviderPluginEventManager.create=function(t,i){let r=new e.OuDataProviderPluginEventManager;r._setupExt(t,i);return r};e.OuDataProviderPluginEventManager.prototype.m_controller=null;e.OuDataProviderPluginEventManager.prototype.m_dataProvider=null;e.OuDataProviderPluginEventManager.prototype.m_dataProviderName=null;e.OuDataProviderPluginEventManager.prototype.m_dpAddedObserverId=null;e.OuDataProviderPluginEventManager.prototype.m_dpLifecycleObserverId=null;e.OuDataProviderPluginEventManager.prototype.m_dpModelChangeListener=null;e.OuDataProviderPluginEventManager.prototype.m_dpModelChangeObserverId=null;e.OuDataProviderPluginEventManager.prototype.m_dpReadyListener=null;e.OuDataProviderPluginEventManager.prototype.m_dpReleasedListener=null;e.OuDataProviderPluginEventManager.prototype.m_dpRemovedObserverId=null;e.OuDataProviderPluginEventManager.prototype.m_dpResultDataFetchListener=null;e.OuDataProviderPluginEventManager.prototype.m_dpResultDataFetchObserverId=null;e.OuDataProviderPluginEventManager.prototype.m_dpVizChangeListener=null;e.OuDataProviderPluginEventManager.prototype.m_dpVizChangeObserverId=null;e.OuDataProviderPluginEventManager.prototype._observeDataProviderChanges=function(){if(e.notNull(this.m_dataProvider)){let e=this.m_dataProvider.getEventing();this.m_dpModelChangeObserverId=e.getListenerForModelChanges().addConsumer(this._onDataProviderModelChange.bind(this));this.m_dpVizChangeObserverId=e.getListenerForVisualizationChanges().addConsumer(this._onDataProviderVizChange.bind(this));this.m_dpResultDataFetchObserverId=e.getListenerForResultDataFetch().addConsumer(this._onDataProviderResultDataFetch.bind(this));this.m_dpLifecycleObserverId=e.getListenerForLifecycle().addConsumer(this._onDataProviderLifecycleChange.bind(this))}};e.OuDataProviderPluginEventManager.prototype._observeDataProviderEvents=function(){let t=this.m_controller.getLocalNotificationCenter();let i;if(e.XStringUtils.isNotNullAndNotEmpty(this.m_dataProviderName)){i=e.XProcedureHolder.create(()=>{let t=e.OuDataProviderCommandPlugin.runGetDataProviderByName(this.m_controller,this.m_dataProviderName);this._setDataProviderFromPromise(t)});i.execute();this.m_dpAddedObserverId=t.addObserverForName(e.OuDataProviderCPConstants.NOTIFICATION_DATA_PROVIDER_ADDED,t=>{let r=t.getStringByKey(e.OuDataProviderCPConstants.NOTIFICATION_PARAM_DATA_PROVIDER_NAME);if(e.XString.isEqual(r,this.m_dataProviderName)){i.execute()}})}else{i=e.XProcedureHolder.create(()=>{let t=e.OuDataProviderCommandPlugin.runGetActiveDataProvider(this.m_controller);this._setDataProviderFromPromise(t)});i.execute();this.m_dpAddedObserverId=t.addObserverForName(e.OuDataProviderCPConstants.NOTIFICATION_ACTIVE_DATA_PROVIDER_CHANGED,e=>{i.execute()})}this.m_dpRemovedObserverId=t.addObserverForName(e.OuDataProviderCPConstants.NOTIFICATION_DATA_PROVIDER_REMOVED,t=>{let i=t.getStringByKey(e.OuDataProviderCPConstants.NOTIFICATION_PARAM_DATA_PROVIDER_NAME);if(e.notNull(this.m_dataProvider)){let t=this.m_dataProvider.getName();if(e.XString.isEqual(i,t)){this._resetDataProvider()}}})};e.OuDataProviderPluginEventManager.prototype._onDataProviderLifecycleChange=function(t){if(t.isNewlyConnected()){this._onDataProviderReady()}else if(t.getNewState()===e.OuDataProviderLifecycle.RELEASED){this._resetDataProvider()}};e.OuDataProviderPluginEventManager.prototype._onDataProviderModelChange=function(t){if(e.notNull(this.m_dpModelChangeListener)){this.m_dpModelChangeListener(this.m_dataProvider,t)}};e.OuDataProviderPluginEventManager.prototype._onDataProviderReady=function(){if(e.notNull(this.m_dpReadyListener)){this.m_dpReadyListener(this.m_dataProvider)}};e.OuDataProviderPluginEventManager.prototype._onDataProviderResultDataFetch=function(t){if(e.notNull(this.m_dpResultDataFetchListener)){this.m_dpResultDataFetchListener(this.m_dataProvider,t)}};e.OuDataProviderPluginEventManager.prototype._onDataProviderVizChange=function(t){if(e.notNull(this.m_dpVizChangeListener)&&e.notNull(this.m_dataProvider)){this.m_dataProvider.getActions().getVisualizationActions().getActiveVisualizationDefinition().onThen(e=>{this.m_dpVizChangeListener(e.getName(),t)}).onCatch(e=>{this.m_dpVizChangeListener(null,t)})}};e.OuDataProviderPluginEventManager.prototype._resetDataProvider=function(){this._setDataProvider(null);if(e.notNull(this.m_dpReleasedListener)){this.m_dpReleasedListener(this.m_dataProviderName)}};e.OuDataProviderPluginEventManager.prototype._setDataProvider=function(e){let t=this.m_dataProvider!==e;if(t){this._unobserveDataProviderChanges();this.m_dataProvider=e;this._observeDataProviderChanges()}return t};e.OuDataProviderPluginEventManager.prototype._setDataProviderFromPromise=function(e){e.onThen(this._updateDpAndNotify.bind(this)).onCatch(e=>{this._updateDpAndNotify(null)})};e.OuDataProviderPluginEventManager.prototype._setupExt=function(t,i){this.setup();if(e.isNull(t)){throw e.XException.createIllegalArgumentException("Controller cannot be null!")}this.m_controller=t;this.m_dataProviderName=i;this._observeDataProviderEvents()};e.OuDataProviderPluginEventManager.prototype._unobserveDataProviderChanges=function(){if(e.notNull(this.m_dataProvider)){let t=this.m_dataProvider.getEventing();if(e.XStringUtils.isNotNullAndNotEmpty(this.m_dpModelChangeObserverId)){t.getListenerForModelChanges().removeConsumerByUuid(this.m_dpModelChangeObserverId);this.m_dpModelChangeObserverId=null}if(e.XStringUtils.isNotNullAndNotEmpty(this.m_dpVizChangeObserverId)){t.getListenerForVisualizationChanges().removeConsumerByUuid(this.m_dpVizChangeObserverId);this.m_dpVizChangeObserverId=null}if(e.XStringUtils.isNotNullAndNotEmpty(this.m_dpResultDataFetchObserverId)){t.getListenerForResultDataFetch().removeConsumerByUuid(this.m_dpResultDataFetchObserverId);this.m_dpResultDataFetchObserverId=null}if(e.XStringUtils.isNotNullAndNotEmpty(this.m_dpLifecycleObserverId)){t.getListenerForLifecycle().removeConsumerByUuid(this.m_dpLifecycleObserverId);this.m_dpLifecycleObserverId=null}}};e.OuDataProviderPluginEventManager.prototype._unobserveDataProviderEvents=function(){let t=this.m_controller.getLocalNotificationCenter();if(e.XStringUtils.isNotNullAndNotEmpty(this.m_dpAddedObserverId)){t.removeObserverByUuid(this.m_dpAddedObserverId);this.m_dpAddedObserverId=null}if(e.XStringUtils.isNotNullAndNotEmpty(this.m_dpRemovedObserverId)){t.removeObserverByUuid(this.m_dpRemovedObserverId);this.m_dpRemovedObserverId=null}this._unobserveDataProviderChanges()};e.OuDataProviderPluginEventManager.prototype._updateDpAndNotify=function(e){if(this._setDataProvider(e)){this._onDataProviderReady()}};e.OuDataProviderPluginEventManager.prototype.getDataProvider=function(){return this.m_dataProvider};e.OuDataProviderPluginEventManager.prototype.notifyDataProviderUpdateListeners=function(){if(e.notNull(this.m_dataProvider)){this.m_dataProvider.getEventing().notifyExternalModelChange(null)}};e.OuDataProviderPluginEventManager.prototype.releaseObject=function(){this._unobserveDataProviderEvents();this.m_dpReadyListener=null;this.m_dpModelChangeListener=null;this.m_dpVizChangeListener=null;this.m_dpReleasedListener=null;this.m_dataProviderName=null;this.m_controller=null;e.XObject.prototype.releaseObject.call(this)};e.OuDataProviderPluginEventManager.prototype.setDataProviderModelChangeListener=function(e){this.m_dpModelChangeListener=e};e.OuDataProviderPluginEventManager.prototype.setDataProviderReadyListener=function(e){this.m_dpReadyListener=e};e.OuDataProviderPluginEventManager.prototype.setDataProviderReleasedListener=function(e){this.m_dpReleasedListener=e};e.OuDataProviderPluginEventManager.prototype.setDataProviderResultDataFetchListener=function(e){this.m_dpResultDataFetchListener=e};e.OuDataProviderPluginEventManager.prototype.setDataProviderVizChangeListener=function(e){this.m_dpVizChangeListener=e};e.OuDragDropHelper=function(){};e.OuDragDropHelper.prototype=new e.XObject;e.OuDragDropHelper.prototype._ff_c="OuDragDropHelper";e.OuDragDropHelper.NOTIFICATION_DATA_DRAG_MODELS="com.sap.ff.DragDropHelper.NotificationData.dragModels";e.OuDragDropHelper.NOTIFICATION_DRAG_END="com.sap.ff.DragDropHelper.Notification.dragEnd";e.OuDragDropHelper.NOTIFICATION_DRAG_START="com.sap.ff.DragDropHelper.Notification.dragStart";e.OuDragDropHelper.createHelper=function(t){let i=new e.OuDragDropHelper;i.setupExt(t);return i};e.OuDragDropHelper.prototype.m_dragEndListenerIds=null;e.OuDragDropHelper.prototype.m_dragStartListenerIds=null;e.OuDragDropHelper.prototype.m_process=null;e.OuDragDropHelper.prototype.addDragEndListener=function(t){let i=this.m_process.getNotificationCenter().addObserverForName(e.OuDragDropHelper.NOTIFICATION_DRAG_END,e=>{t()});this.m_dragEndListenerIds.add(i);return i};e.OuDragDropHelper.prototype.addDragStartListener=function(t){let i=this.m_process.getNotificationCenter().addObserverForName(e.OuDragDropHelper.NOTIFICATION_DRAG_START,i=>{let r=i.getXObjectByKeyExt(e.OuDragDropHelper.NOTIFICATION_DATA_DRAG_MODELS,e.XList.create());t(r)});this.m_dragStartListenerIds.add(i);return i};e.OuDragDropHelper.prototype.postDragEnd=function(){this.m_process.getNotificationCenter().postNotificationWithName(e.OuDragDropHelper.NOTIFICATION_DRAG_END,null)};e.OuDragDropHelper.prototype.postDragStart=function(t){let i=e.XNotificationData.create();i.putXObject(e.OuDragDropHelper.NOTIFICATION_DATA_DRAG_MODELS,t);this.m_process.getNotificationCenter().postNotificationWithName(e.OuDragDropHelper.NOTIFICATION_DRAG_START,i)};e.OuDragDropHelper.prototype.releaseObject=function(){e.XCollectionUtils.forEach(this.m_dragStartListenerIds,e=>{this.m_process.getNotificationCenter().removeObserverByUuid(e)});e.XCollectionUtils.forEach(this.m_dragEndListenerIds,e=>{this.m_process.getNotificationCenter().removeObserverByUuid(e)});this.m_dragStartListenerIds=e.XObjectExt.release(this.m_dragStartListenerIds);this.m_dragEndListenerIds=e.XObjectExt.release(this.m_dragEndListenerIds);this.m_process=null;e.XObject.prototype.releaseObject.call(this)};e.OuDragDropHelper.prototype.removeDragEndListener=function(e){this.m_dragEndListenerIds.removeElement(e);this.m_process.getNotificationCenter().removeObserverByUuid(e)};e.OuDragDropHelper.prototype.removeDragStartListener=function(e){this.m_dragStartListenerIds.removeElement(e);this.m_process.getNotificationCenter().removeObserverByUuid(e)};e.OuDragDropHelper.prototype.setupExt=function(t){this.m_process=t;this.m_dragStartListenerIds=e.XList.create();this.m_dragEndListenerIds=e.XList.create()};e.FilterDialogLambdaCloseListener=function(){};e.FilterDialogLambdaCloseListener.prototype=new e.XObject;e.FilterDialogLambdaCloseListener.prototype._ff_c="FilterDialogLambdaCloseListener";e.FilterDialogLambdaCloseListener.create=function(t,i){let r=new e.FilterDialogLambdaCloseListener;r.m_submitConsumer=t;r.m_cancelProcedure=i;return r};e.FilterDialogLambdaCloseListener.createExt=function(t,i){let r=new e.FilterDialogLambdaCloseListener;r.m_extSubmitConsumer=t;r.m_cancelProcedure=i;return r};e.FilterDialogLambdaCloseListener.prototype.m_cancelProcedure=null;e.FilterDialogLambdaCloseListener.prototype.m_extSubmitConsumer=null;e.FilterDialogLambdaCloseListener.prototype.m_submitConsumer=null;e.FilterDialogLambdaCloseListener.prototype.onFilterDialogCancel=function(){if(e.notNull(this.m_cancelProcedure)){this.m_cancelProcedure()}};e.FilterDialogLambdaCloseListener.prototype.onFilterDialogOk=function(t,i){if(e.notNull(this.m_submitConsumer)){this.m_submitConsumer(t)}else if(e.notNull(this.m_extSubmitConsumer)){this.m_extSubmitConsumer(t,i)}};e.FilterDialogLambdaCloseListener.prototype.releaseObject=function(){e.XObject.prototype.releaseObject.call(this);this.m_submitConsumer=null;this.m_extSubmitConsumer=null;this.m_cancelProcedure=null};e.OuAnalyticalWidget=function(){};e.OuAnalyticalWidget.prototype=new e.XObject;e.OuAnalyticalWidget.prototype._ff_c="OuAnalyticalWidget";e.OuAnalyticalWidget.CHART_TYPE_KEY="chartType";e.OuAnalyticalWidget.CREATE_TIMESTAMP_KEY="createTimestamp";e.OuAnalyticalWidget.CURRENT_VERSION="0.4.0";e.OuAnalyticalWidget.DATA_SOURCE_KEY="dataSource";e.OuAnalyticalWidget.DESCRIPTION_KEY="description";e.OuAnalyticalWidget.DISPLAY_NAME_KEY="displayName";e.OuAnalyticalWidget.INA_REPO_KEY="inaRepo";e.OuAnalyticalWidget.MODEL_FORMAT_KEY="modelFormat";e.OuAnalyticalWidget.MODIFIED_TIMESTAMP_KEY="modifiedTimestamp";e.OuAnalyticalWidget.SYSTEM_NAME_KEY="systemName";e.OuAnalyticalWidget.TARGET_URL_KEY="targetUrl";e.OuAnalyticalWidget.VERSION_KEY="version";e.OuAnalyticalWidget.WIDGET_ID_KEY="widgetId";e.OuAnalyticalWidget.WIDGET_TYPE_KEY="widgetType";e.OuAnalyticalWidget.create=function(){let t=new e.OuAnalyticalWidget;t._setupInternal();return t};e.OuAnalyticalWidget.createByStructure=function(t){let i=new e.OuAnalyticalWidget;i._setupByStructure(t);return i};e.OuAnalyticalWidget.prototype.m_chartType=null;e.OuAnalyticalWidget.prototype.m_createTimestamp=0;e.OuAnalyticalWidget.prototype.m_dataSourceFQN=null;e.OuAnalyticalWidget.prototype.m_description=null;e.OuAnalyticalWidget.prototype.m_displayName=null;e.OuAnalyticalWidget.prototype.m_inaRepoStruct=null;e.OuAnalyticalWidget.prototype.m_modelFormat=null;e.OuAnalyticalWidget.prototype.m_modifiedTimestamp=0;e.OuAnalyticalWidget.prototype.m_systemName=null;e.OuAnalyticalWidget.prototype.m_targetUrl=null;e.OuAnalyticalWidget.prototype.m_version=null;e.OuAnalyticalWidget.prototype.m_widgetId=null;e.OuAnalyticalWidget.prototype.m_widgetType=null;e.OuAnalyticalWidget.prototype._generateWidgetStructure=function(){let t=e.PrFactory.createStructure();t.putString(e.OuAnalyticalWidget.WIDGET_ID_KEY,this.m_widgetId);t.putString(e.OuAnalyticalWidget.DISPLAY_NAME_KEY,this.m_displayName);t.putString(e.OuAnalyticalWidget.DESCRIPTION_KEY,this.m_description);t.putString(e.OuAnalyticalWidget.WIDGET_TYPE_KEY,e.notNull(this.m_widgetType)?this.m_widgetType.getName():null);t.putString(e.OuAnalyticalWidget.CHART_TYPE_KEY,e.notNull(this.m_chartType)?this.m_chartType.getName():null);t.putString(e.OuAnalyticalWidget.TARGET_URL_KEY,this.m_targetUrl);t.putString(e.OuAnalyticalWidget.VERSION_KEY,this.m_version);t.put(e.OuAnalyticalWidget.INA_REPO_KEY,this.m_inaRepoStruct);t.putString(e.OuAnalyticalWidget.MODEL_FORMAT_KEY,e.notNull(this.m_modelFormat)?this.m_modelFormat.getName():null);t.putString(e.OuAnalyticalWidget.SYSTEM_NAME_KEY,this.m_systemName);t.putString(e.OuAnalyticalWidget.DATA_SOURCE_KEY,this.m_dataSourceFQN);t.putLong(e.OuAnalyticalWidget.CREATE_TIMESTAMP_KEY,this.m_createTimestamp);t.putLong(e.OuAnalyticalWidget.MODIFIED_TIMESTAMP_KEY,this.m_modifiedTimestamp);return t};e.OuAnalyticalWidget.prototype._parseStructure=function(t){if(e.notNull(t)&&t.isStructure()){this.m_widgetId=t.getStringByKey(e.OuAnalyticalWidget.WIDGET_ID_KEY);this.m_displayName=t.getStringByKey(e.OuAnalyticalWidget.DISPLAY_NAME_KEY);this.m_description=t.getStringByKey(e.OuAnalyticalWidget.DESCRIPTION_KEY);this.m_widgetType=e.OuAnalyticalWidgetType.lookup(t.getStringByKey(e.OuAnalyticalWidget.WIDGET_TYPE_KEY));this.m_chartType=e.ChartType.lookup(t.getStringByKey(e.OuAnalyticalWidget.CHART_TYPE_KEY));this.m_targetUrl=t.getStringByKey(e.OuAnalyticalWidget.TARGET_URL_KEY);this.m_version=t.getStringByKey(e.OuAnalyticalWidget.VERSION_KEY);this.m_inaRepoStruct=t.getStructureByKey(e.OuAnalyticalWidget.INA_REPO_KEY);this.m_modelFormat=e.ContentType.lookup(t.getStringByKey(e.OuAnalyticalWidget.MODEL_FORMAT_KEY));this.m_systemName=t.getStringByKey(e.OuAnalyticalWidget.SYSTEM_NAME_KEY);this.m_dataSourceFQN=t.getStringByKey(e.OuAnalyticalWidget.DATA_SOURCE_KEY);this.m_createTimestamp=t.getLongByKey(e.OuAnalyticalWidget.CREATE_TIMESTAMP_KEY);this.m_modifiedTimestamp=t.getLongByKey(e.OuAnalyticalWidget.MODIFIED_TIMESTAMP_KEY)}else{throw e.XException.createRuntimeException("Missing or invalid widget json!")}};e.OuAnalyticalWidget.prototype._setupByStructure=function(e){this._parseStructure(e)};e.OuAnalyticalWidget.prototype._setupInternal=function(){this.m_widgetId=e.XGuid.getGuid();this.m_version=e.OuAnalyticalWidget.CURRENT_VERSION;this.m_createTimestamp=e.XSystemUtils.getCurrentTimeInMilliseconds();this.m_createTimestamp=e.XSystemUtils.getCurrentTimeInMilliseconds()};e.OuAnalyticalWidget.prototype.getChartType=function(){return this.m_chartType};e.OuAnalyticalWidget.prototype.getCreateTimestamp=function(){return this.m_createTimestamp};e.OuAnalyticalWidget.prototype.getDataSourceFQN=function(){return this.m_dataSourceFQN};e.OuAnalyticalWidget.prototype.getDataSourceName=function(){if(e.XStringUtils.isNotNullAndNotEmpty(this.m_dataSourceFQN)){let t=e.XString.lastIndexOf(this.m_dataSourceFQN,"[");let i=e.XString.lastIndexOf(this.m_dataSourceFQN,"]");if(t!==-1&&i!==-1&&t<i){return e.XString.substring(this.m_dataSourceFQN,t+1,i)}}return this.m_dataSourceFQN};e.OuAnalyticalWidget.prototype.getDescription=function(){return this.m_description};e.OuAnalyticalWidget.prototype.getDisplayName=function(){return this.m_displayName};e.OuAnalyticalWidget.prototype.getId=function(){return this.m_widgetId};e.OuAnalyticalWidget.prototype.getInaRepoStructure=function(){return this.m_inaRepoStruct};e.OuAnalyticalWidget.prototype.getModelFormat=function(){return this.m_modelFormat};e.OuAnalyticalWidget.prototype.getModifiedTimestamp=function(){return this.m_modifiedTimestamp};e.OuAnalyticalWidget.prototype.getSystemName=function(){return this.m_systemName};e.OuAnalyticalWidget.prototype.getTargetUrl=function(){return this.m_targetUrl};e.OuAnalyticalWidget.prototype.getVersion=function(){return this.m_version};e.OuAnalyticalWidget.prototype.getWidgetStructure=function(){return this._generateWidgetStructure()};e.OuAnalyticalWidget.prototype.getWidgetType=function(){return this.m_widgetType};e.OuAnalyticalWidget.prototype.getWidgetTypeString=function(){let t=this.getWidgetType()!==null?this.getWidgetType().getName():null;if(this.getWidgetType()===e.OuAnalyticalWidgetType.CHART){t=this.getChartType()!==null?this.getChartType().getName():null}return t};e.OuAnalyticalWidget.prototype.isValid=function(){if(e.isNull(this.m_modelFormat)||e.isNull(this.m_inaRepoStruct)||this.m_inaRepoStruct.isEmpty()||e.XStringUtils.isNullOrEmpty(this.m_systemName)||e.XStringUtils.isNullOrEmpty(this.m_dataSourceFQN)){return false}return true};e.OuAnalyticalWidget.prototype.releaseObject=function(){this.m_widgetType=null;this.m_chartType=null;this.m_inaRepoStruct=e.XObjectExt.release(this.m_inaRepoStruct);this.m_modelFormat=null;e.XObject.prototype.releaseObject.call(this)};e.OuAnalyticalWidget.prototype.setChartType=function(e){this.m_chartType=e};e.OuAnalyticalWidget.prototype.setDataSourceFQN=function(e){this.m_dataSourceFQN=e};e.OuAnalyticalWidget.prototype.setDescription=function(e){this.m_description=e};e.OuAnalyticalWidget.prototype.setDisplayName=function(e){this.m_displayName=e};e.OuAnalyticalWidget.prototype.setInaRepoStructure=function(t){this.m_inaRepoStruct=e.PrStructure.createDeepCopy(t)};e.OuAnalyticalWidget.prototype.setModelFormat=function(e){this.m_modelFormat=e};e.OuAnalyticalWidget.prototype.setSystemName=function(e){this.m_systemName=e};e.OuAnalyticalWidget.prototype.setTargetUrl=function(e){this.m_targetUrl=e};e.OuAnalyticalWidget.prototype.setWidgetType=function(e){this.m_widgetType=e};e.OuAnalyticalWidget.prototype.updateModifiedTimestamp=function(){this.m_modifiedTimestamp=e.XSystemUtils.getCurrentTimeInMilliseconds()};e.OuDataProviderDimensionFilterDialogAction=function(){};e.OuDataProviderDimensionFilterDialogAction.prototype=new e.DfOuDataProviderAction;e.OuDataProviderDimensionFilterDialogAction.prototype._ff_c="OuDataProviderDimensionFilterDialogAction";e.OuDataProviderDimensionFilterDialogAction.ACTION_NAME="DefaultDimensionFilterDialogAction";e.OuDataProviderDimensionFilterDialogAction.create=function(t){let i=new e.OuDataProviderDimensionFilterDialogAction;i.setupAction(t);return i};e.OuDataProviderDimensionFilterDialogAction.prototype.createActionResult=function(t,i){let r=e.OuDataProviderFilterDialogActionResult.create();r.setDialogSubmitted(i);let a=this.newActionResult(t);a.setReturnValue(r);if(i){a.getChangesBase().addChangedEventType(e.OuDataProviderEventType.MODEL_CHANGE)}return a};e.OuDataProviderDimensionFilterDialogAction.prototype.doAction=function(t){let i=this.getDataProvider().getApplication().getProcess();let r=this.getDataProvider().getQueryManager();return e.XPromise.create((a,o)=>{let l=t.get(0);let n=t.get(1);let s=t.size()>=3?e.PrUtils.deserialize(t.get(2)):null;let u=e.FilterDialogProgramRunnerFactory.createForDimensionFilter(i,r,l,n);u.setAllArguments(s);u.getProgramStartData().putXObject(e.FilterDialog.PRG_DATA_LISTENER_CLOSE,e.FilterDialogLambdaCloseListener.create(e=>{a(this.createActionResult(t,true))},()=>{a(this.createActionResult(t,false))}));u.runProgram()})};e.OuDataProviderDimensionFilterDialogAction.prototype.executeTyped=function(t,i,r){let a=e.XList.create();a.add(t.getName());a.add(i);a.add(e.notNull(r)?e.PrUtils.serialize(r,false,false,-1):null);return this.getActionsBase().performAction(this,a)};e.OuDataProviderDimensionFilterDialogAction.prototype.getName=function(){return e.OuDataProviderDimensionFilterDialogAction.ACTION_NAME};e.OuDataProviderDimensionFilterDialogAction.prototype.releaseObject=function(){e.DfOuDataProviderAction.prototype.releaseObject.call(this)};e.OuDataProviderDimensionFilterDialogAction.prototype.setupAction=function(t){e.DfOuDataProviderAction.prototype.setupAction.call(this,t)};e.OuDataProviderOlapUiApiActionsCollection=function(){};e.OuDataProviderOlapUiApiActionsCollection.prototype=new e.DfOuDataProviderActionsCollection;e.OuDataProviderOlapUiApiActionsCollection.prototype._ff_c="OuDataProviderOlapUiApiActionsCollection";e.OuDataProviderOlapUiApiActionsCollection.NAME="OlapUiApiActions";e.OuDataProviderOlapUiApiActionsCollection.getOlapUiApiActions=function(t){return t.getActions().getActionCollectionByName(e.OuDataProviderOlapUiApiActionsCollection.NAME)};e.OuDataProviderOlapUiApiActionsCollection.prototype.m_dimensionFilterDialogAction=null;e.OuDataProviderOlapUiApiActionsCollection.prototype.getName=function(){return e.OuDataProviderOlapUiApiActionsCollection.NAME};e.OuDataProviderOlapUiApiActionsCollection.prototype.openDimensionFilterDialog=function(e,t,i){return this.m_dimensionFilterDialogAction.executeTyped(e,t,i)};e.OuDataProviderOlapUiApiActionsCollection.prototype.releaseObject=function(){this.m_dimensionFilterDialogAction=e.XObjectExt.release(this.m_dimensionFilterDialogAction);e.DfOuDataProviderActionsCollection.prototype.releaseObject.call(this)};e.OuDataProviderOlapUiApiActionsCollection.prototype.setupCollection=function(t){e.DfOuDataProviderActionsCollection.prototype.setupCollection.call(this,t);this.m_dimensionFilterDialogAction=this.addAction(e.OuDataProviderDimensionFilterDialogAction.create(this.getActions()))};e.FilterDialogConfig=function(){};e.FilterDialogConfig.prototype=new e.XObject;e.FilterDialogConfig.prototype._ff_c="FilterDialogConfig";e.FilterDialogConfig.DEFAULT_PAGE_SIZE=20;e.FilterDialogConfig.DEFAULT_PRELOAD_PAGE_COUNT=8;e.FilterDialogConfig.DEFAULT_PRELOAD_PAGE_COUNT_SMALL=4;e.FilterDialogConfig.DEFAULT_SEARCH_SIZE=100;e.FilterDialogConfig.PAGE_SIZE_COLLAPSED_HEADER_NO_SCROLLBAR=14;e.FilterDialogConfig.create=function(t,i,r,a){let o=new e.FilterDialogConfig;o.setupConfig(t,i,r,a);return o};e.FilterDialogConfig.getArgs=function(t,i){let r;if(e.notNull(t)){r=t}else{r=e.ProgramArgs.create()}if(e.notNull(i)){let t=e.XCollectionUtils.filter(i.getKeysAsReadOnlyList(),e=>!r.containsKey(e));e.XCollectionUtils.forEach(t,e=>{r.put(e,i.getByKey(e))})}return r};e.FilterDialogConfig.prototype.m_alwaysShowSelectionContainer=false;e.FilterDialogConfig.prototype.m_beforeFilterChangeListener=null;e.FilterDialogConfig.prototype.m_closeListener=null;e.FilterDialogConfig.prototype.m_contentType=null;e.FilterDialogConfig.prototype.m_defaultAttributeSelection=null;e.FilterDialogConfig.prototype.m_defaultSelection=null;e.FilterDialogConfig.prototype.m_defaultViewType=null;e.FilterDialogConfig.prototype.m_dimension=null;e.FilterDialogConfig.prototype.m_displayInfo=null;e.FilterDialogConfig.prototype.m_displayInfoExtendedSettings=false;e.FilterDialogConfig.prototype.m_dynamicDateRangeMaxYears=0;e.FilterDialogConfig.prototype.m_excludeByDefault=false;e.FilterDialogConfig.prototype.m_externalValueHelpProcess=null;e.FilterDialogConfig.prototype.m_filterMeasureBased=null;e.FilterDialogConfig.prototype.m_hiddenValues=null;e.FilterDialogConfig.prototype.m_hideCumulatedMeasures=false;e.FilterDialogConfig.prototype.m_hierarchy=null;e.FilterDialogConfig.prototype.m_isOpenWithDynamicFilter=false;e.FilterDialogConfig.prototype.m_isOpenWithVariableFilter=false;e.FilterDialogConfig.prototype.m_layeredFilterName=null;e.FilterDialogConfig.prototype.m_listChildNodePageSize=0;e.FilterDialogConfig.prototype.m_listPageSize=0;e.FilterDialogConfig.prototype.m_listPreloadPageCount=0;e.FilterDialogConfig.prototype.m_listenerSelectionChange=null;e.FilterDialogConfig.prototype.m_mbfMemberName=null;e.FilterDialogConfig.prototype.m_offerClipboard=false;e.FilterDialogConfig.prototype.m_offerEqualInRangeFilter=false;e.FilterDialogConfig.prototype.m_offerExclude=false;e.FilterDialogConfig.prototype.m_offerExcludeAdvanced=false;e.FilterDialogConfig.prototype.m_offerFunctionalValuesView=false;e.FilterDialogConfig.prototype.m_offerHierarchyChange=false;e.FilterDialogConfig.prototype.m_offerListView=false;e.FilterDialogConfig.prototype.m_offerNullInRangeFilter=false;e.FilterDialogConfig.prototype.m_offerRangeView=false;e.FilterDialogConfig.prototype.m_offerReadModeChange=false;e.FilterDialogConfig.prototype.m_offerReadModeExtendedSettings=false;e.FilterDialogConfig.prototype.m_readMode=null;e.FilterDialogConfig.prototype.m_resizeable=false;e.FilterDialogConfig.prototype.m_searchSize=0;e.FilterDialogConfig.prototype.m_searchValue=null;e.FilterDialogConfig.prototype.m_selectionMode=null;e.FilterDialogConfig.prototype.m_selectionRequired=false;e.FilterDialogConfig.prototype.m_simplifiedSearch=false;e.FilterDialogConfig.prototype.m_textUsageType=null;e.FilterDialogConfig.prototype.m_title=null;e.FilterDialogConfig.prototype.m_usageTrackingConsumer=null;e.FilterDialogConfig.prototype.m_valueFormatter=null;e.FilterDialogConfig.prototype.m_variable=null;e.FilterDialogConfig.prototype.m_workspace=null;e.FilterDialogConfig.prototype.evalContentObject=function(t,i,r,a){this.m_contentType=a;if(this.m_contentType===e.FilterDialogContentType.VARIABLE){this.m_variable=this.getObjectFromPrgStartData(i,e.FilterDialog.PRG_DATA_VARIABLE);if(e.isNull(this.m_variable)&&e.notNull(r)&&t.containsKey(e.FilterDialog.ARG_VARIABLE_NAME)){this.m_variable=r.getVariable(t.getStringByKey(e.FilterDialog.ARG_VARIABLE_NAME))}this.m_dimension=e.notNull(this.m_variable)?this.m_variable.getDimension():null}else if((this.m_contentType===e.FilterDialogContentType.DIMENSION||this.m_contentType===e.FilterDialogContentType.HIERARCHY_CATALOG)&&e.notNull(r)){this.m_dimension=r.getDimensionAccessor().getDimensionByName(t.getStringByKey(e.FilterDialog.ARG_DIMENSION_NAME))}else if(this.m_contentType===e.FilterDialogContentType.MEASURE_BASED_FILTER){this.m_mbfMemberName=t.getStringByKey(e.FilterDialog.ARG_MBF_MEMBER_NAME);this.m_filterMeasureBased=this.getObjectFromPrgStartData(i,e.FilterDialog.PRG_DATA_MBF);if(e.XStringUtils.isNullOrEmpty(this.m_mbfMemberName)&&e.notNull(this.m_filterMeasureBased)){this.m_mbfMemberName=e.FilterDialogMBFUtils.getMemberName(this.m_filterMeasureBased)}}};e.FilterDialogConfig.prototype.getBeforeFilterChangeListener=function(){return this.m_beforeFilterChangeListener};e.FilterDialogConfig.prototype.getCloseListener=function(){return this.m_closeListener};e.FilterDialogConfig.prototype.getContentType=function(){return this.m_contentType};e.FilterDialogConfig.prototype.getDefaultAttributeSelection=function(){return this.m_defaultAttributeSelection};e.FilterDialogConfig.prototype.getDefaultSelection=function(){return this.m_defaultSelection};e.FilterDialogConfig.prototype.getDefaultViewType=function(){return this.m_defaultViewType};e.FilterDialogConfig.prototype.getDimension=function(){return this.m_dimension};e.FilterDialogConfig.prototype.getDisplayInfo=function(){return this.m_displayInfo};e.FilterDialogConfig.prototype.getDisplayInfoFromFilter=function(t){if(e.notNull(t)&&t.hasUiSettings(e.QContextType.SELECTOR)){return t.getUiSettings(e.QContextType.SELECTOR).getDisplayInfo()}if(e.notNull(t)&&t.hasUiSettings(e.QContextType.RESULT_SET)){return t.getUiSettings(e.QContextType.RESULT_SET).getDisplayInfo()}return null};e.FilterDialogConfig.prototype.getDynamicDateRangeMaxYears=function(){return this.m_dynamicDateRangeMaxYears};e.FilterDialogConfig.prototype.getExternalValueHelpProcess=function(){return this.m_externalValueHelpProcess};e.FilterDialogConfig.prototype.getHiddenValues=function(){return this.m_hiddenValues};e.FilterDialogConfig.prototype.getHierarchy=function(){return this.m_hierarchy};e.FilterDialogConfig.prototype.getLayeredFilterName=function(){return this.m_layeredFilterName};e.FilterDialogConfig.prototype.getList=function(t){return e.XStream.ofString(e.XStringTokenizer.splitString(t,",")).map(t=>e.XStringValue.create(e.XString.trim(t.getString()))).filter(t=>e.XStringUtils.isNotNullAndNotEmpty(t.getString())).collect(e.XStreamCollector.toListOfString(e=>e.getString()))};e.FilterDialogConfig.prototype.getListChildNodePageSize=function(){return this.m_listChildNodePageSize};e.FilterDialogConfig.prototype.getListPageSize=function(){return this.m_listPageSize};e.FilterDialogConfig.prototype.getListPreloadPageCount=function(){return this.m_listPreloadPageCount};e.FilterDialogConfig.prototype.getListenerSelectionChange=function(){return this.m_listenerSelectionChange};e.FilterDialogConfig.prototype.getMeasureBasedFilter=function(){return this.m_filterMeasureBased};e.FilterDialogConfig.prototype.getMeasureBasedFilterMember=function(){return this.m_mbfMemberName};e.FilterDialogConfig.prototype.getObjectFromPrgStartData=function(t,i){return e.notNull(t)?t.getXObjectByKey(i):null};e.FilterDialogConfig.prototype.getReadMode=function(){return this.m_readMode};e.FilterDialogConfig.prototype.getSearchSize=function(){return this.m_searchSize};e.FilterDialogConfig.prototype.getSearchValue=function(){return this.m_searchValue};e.FilterDialogConfig.prototype.getSelectionMode=function(){return this.m_selectionMode};e.FilterDialogConfig.prototype.getTextUsageType=function(){return this.m_textUsageType};e.FilterDialogConfig.prototype.getTitle=function(){return this.m_title};e.FilterDialogConfig.prototype.getUsageTrackingConsumer=function(){return this.m_usageTrackingConsumer};e.FilterDialogConfig.prototype.getValueFormatter=function(){return this.m_valueFormatter};e.FilterDialogConfig.prototype.getVariable=function(){return this.m_variable};e.FilterDialogConfig.prototype.getWorkspace=function(){return this.m_workspace};e.FilterDialogConfig.prototype.isAlwaysShowSelectionContainer=function(){return this.m_alwaysShowSelectionContainer};e.FilterDialogConfig.prototype.isExcludeByDefault=function(){return this.m_excludeByDefault};e.FilterDialogConfig.prototype.isHideCumulatedMeasures=function(){return this.m_hideCumulatedMeasures};e.FilterDialogConfig.prototype.isOfferClipboard=function(){return this.m_offerClipboard};e.FilterDialogConfig.prototype.isOfferDisplayInfoExtendedSettings=function(){return this.m_displayInfoExtendedSettings};e.FilterDialogConfig.prototype.isOfferEqualInRangeFilter=function(){return this.m_offerEqualInRangeFilter};e.FilterDialogConfig.prototype.isOfferExclude=function(){return this.m_offerExclude};e.FilterDialogConfig.prototype.isOfferExcludeAdvanced=function(){return this.m_offerExcludeAdvanced};e.FilterDialogConfig.prototype.isOfferFunctionalValuesView=function(){return this.m_offerFunctionalValuesView};e.FilterDialogConfig.prototype.isOfferHierarchyChange=function(){return this.m_offerHierarchyChange};e.FilterDialogConfig.prototype.isOfferListView=function(){return this.m_offerListView};e.FilterDialogConfig.prototype.isOfferNullInRangeFilter=function(){return this.m_offerNullInRangeFilter};e.FilterDialogConfig.prototype.isOfferRangeView=function(){return this.m_offerRangeView};e.FilterDialogConfig.prototype.isOfferReadModeChange=function(){return this.m_offerReadModeChange};e.FilterDialogConfig.prototype.isOfferReadModeExtendedSettings=function(){return this.m_offerReadModeExtendedSettings};e.FilterDialogConfig.prototype.isOpenWithDynamicFilter=function(){return this.m_isOpenWithDynamicFilter};e.FilterDialogConfig.prototype.isOpenWithLayeredFilter=function(){return!this.m_isOpenWithDynamicFilter&&e.XStringUtils.isNotNullAndNotEmpty(this.m_layeredFilterName)};e.FilterDialogConfig.prototype.isOpenWithVariableFilter=function(){return this.m_isOpenWithVariableFilter};e.FilterDialogConfig.prototype.isResizeable=function(){return this.m_resizeable};e.FilterDialogConfig.prototype.isSelectionRequired=function(){return this.m_selectionRequired};e.FilterDialogConfig.prototype.isShowSimplifiedSearch=function(){return this.m_simplifiedSearch};e.FilterDialogConfig.prototype.isValid=function(){if(this.m_contentType===e.FilterDialogContentType.VARIABLE){return e.notNull(this.m_variable)&&e.notNull(this.m_dimension)}if(this.m_contentType===e.FilterDialogContentType.DIMENSION){let t=this.m_isOpenWithDynamicFilter||e.XStringUtils.isNotNullAndNotEmpty(this.m_layeredFilterName);return e.notNull(this.m_dimension)&&(!t||e.XCollectionUtils.hasElements(this.m_defaultSelection)||e.FilterDialogValueUtils.supportsFilterOnDimension(this.m_dimension))}if(this.m_contentType===e.FilterDialogContentType.HIERARCHY_CATALOG){return e.notNull(this.m_dimension)}if(this.m_contentType===e.FilterDialogContentType.MEASURE_BASED_FILTER){return e.XStringUtils.isNotNullAndNotEmpty(this.m_mbfMemberName)&&e.notNull(this.m_filterMeasureBased)}return this.m_contentType===e.FilterDialogContentType.USER_TEAM};e.FilterDialogConfig.prototype.registerOnClose=function(e){this.m_closeListener=e};e.FilterDialogConfig.prototype.releaseObject=function(){e.XObject.prototype.releaseObject.call(this);this.m_contentType=null;this.m_variable=null;this.m_dimension=null;this.m_mbfMemberName=null;this.m_filterMeasureBased=null;this.m_layeredFilterName=null;this.m_closeListener=null;this.m_beforeFilterChangeListener=null;this.m_listenerSelectionChange=null;this.m_title=null;this.m_selectionMode=null;this.m_defaultSelection=null;this.m_externalValueHelpProcess=null;this.m_displayInfo=null;this.m_textUsageType=null;this.m_readMode=null;this.m_hierarchy=null;this.m_defaultViewType=null;this.m_usageTrackingConsumer=null;this.m_defaultAttributeSelection=e.XObjectExt.release(this.m_defaultAttributeSelection);this.m_valueFormatter=e.XObjectExt.release(this.m_valueFormatter)};e.FilterDialogConfig.prototype.setReadMode=function(e){this.m_readMode=e};e.FilterDialogConfig.prototype.setupConfig=function(t,i,r,a){this.evalContentObject(t,i,r,a);this.m_usageTrackingConsumer=e.FilterDialogUsageTrackingConsumer.lookup(t.getStringByKey(e.FilterDialog.ARG_USAGE_TRACKING_CONSUMER));this.m_isOpenWithDynamicFilter=t.getBooleanByKey(e.FilterDialog.ARG_OPEN_WITH_DYNAMIC_FILTER);this.m_isOpenWithVariableFilter=t.getBooleanByKey(e.FilterDialog.ARG_OPEN_WITH_VARIABLE_FILTER);this.m_layeredFilterName=t.getStringByKey(e.FilterDialog.ARG_LAYERED_FILTER_NAME);this.m_closeListener=this.getObjectFromPrgStartData(i,e.FilterDialog.PRG_DATA_LISTENER_CLOSE);this.m_beforeFilterChangeListener=this.getObjectFromPrgStartData(i,e.FilterDialog.PRG_DATA_LISTENER_BEFORE_FILTER_CHANGE);this.m_listenerSelectionChange=this.getObjectFromPrgStartData(i,e.FilterDialog.PRG_DATA_LISTENER_SELECTION_CHANGE);this.m_title=t.getStringByKey(e.FilterDialog.ARG_TITLE);this.m_selectionMode=e.UiTableSelectionMode.lookup(t.getStringByKey(e.FilterDialog.PARAM_SELECTION_MODE));if(e.isNull(this.m_selectionMode)||this.m_selectionMode===e.UiTableSelectionMode.NONE){let i=e.UiSelectionMode.lookup(t.getStringByKey(e.FilterDialog.PARAM_SELECTION_MODE));this.m_selectionMode=e.notNull(i)&&i===e.UiSelectionMode.MULTI_SELECT?e.UiTableSelectionMode.MULTI_TOGGLE:e.UiTableSelectionMode.SINGLE}this.m_selectionRequired=t.getBooleanByKey(e.FilterDialog.PARAM_SELECTION_REQUIRED);this.m_resizeable=t.getBooleanByKeyExt(e.FilterDialog.PARAM_RESIZABLE,true);this.m_defaultSelection=this.getObjectFromPrgStartData(i,e.FilterDialog.PRG_DATA_DEFAULT_SELECTION);this.m_alwaysShowSelectionContainer=t.getBooleanByKey(e.FilterDialog.PARAM_ALWAYS_SHOW_SELECTION_CONTAINER);this.m_valueFormatter=e.FilterDialogValueFormatter.create(t.getStringByKey(e.FilterDialog.PARAM_DISPLAY_PATTERN_VALUE),t.getStringByKey(e.FilterDialog.PARAM_DISPLAY_PATTERN_RANGE),null);this.m_externalValueHelpProcess=this.getObjectFromPrgStartData(i,e.FilterDialog.PRG_DATA_EXTERNAL_VALUEHELP_PROCESS);this.m_displayInfo=e.FilterDisplayInfo.lookup(t.getStringByKey(e.FilterDialog.PARAM_DISPLAY_INFO));this.m_displayInfoExtendedSettings=t.getBooleanByKey(e.FilterDialog.PARAM_OFFER_DISPLAY_INFO_EXTENDED_SETTINGS);this.m_textUsageType=e.FilterDialogTextUsageType.lookup(t.getStringByKey(e.FilterDialog.PARAM_DIMENSION_TEXT_USAGE_TYPE));if(e.isNull(this.m_textUsageType)){this.m_textUsageType=e.FilterDialogTextUsageType.AUTO}if(t.containsKey(e.FilterDialog.PARAM_DIMENSION_DEFAULT_ATTRIBUTE_SELECTION)){this.m_defaultAttributeSelection=this.getList(t.getStringByKey(e.FilterDialog.PARAM_DIMENSION_DEFAULT_ATTRIBUTE_SELECTION))}this.m_simplifiedSearch=t.getBooleanByKey(e.FilterDialog.PARAM_SIMPLIFIED_SEARCH);this.m_searchSize=e.XMath.max(t.getIntegerByKeyExt(e.FilterDialog.PARAM_SEARCH_SIZE,e.FilterDialogConfig.DEFAULT_SEARCH_SIZE),1);this.m_searchValue=t.getStringByKey(e.FilterDialog.ARG_SEARCH_VALUE);let o=e.FilterDialogConfig.DEFAULT_PAGE_SIZE;let l=e.FilterDialogConfig.DEFAULT_PRELOAD_PAGE_COUNT;if(this.m_contentType===e.FilterDialogContentType.DIMENSION){this.m_offerRangeView=t.getBooleanByKey(e.FilterDialog.PARAM_OFFER_RANGE_VIEW);this.m_offerFunctionalValuesView=t.getBooleanByKey(e.FilterDialog.PARAM_OFFER_FUNCTIONAL_VALUES_VIEW)&&e.FilterDialogViewType.FUNCTIONAL_VALUES.isSupportedByDim(this.m_dimension);this.m_offerListView=t.getBooleanByKey(e.FilterDialog.PARAM_OFFER_LIST_VIEW)||!this.m_offerRangeView&&!this.m_offerFunctionalValuesView;this.setupDefaultViewType(t);if(this.m_isOpenWithDynamicFilter&&e.notNull(this.m_dimension)){let t=this.m_dimension.getFilter();this.m_defaultSelection=e.FilterDialogValueFactory.createSelectionFromFilter(this.m_dimension,t);if(e.isNull(this.m_displayInfo)){this.m_displayInfo=this.getDisplayInfoFromFilter(t)}}else if(e.XStringUtils.isNotNullAndNotEmpty(this.m_layeredFilterName)&&e.notNull(this.m_dimension)){let t=this.m_dimension.getQueryModel().getFilter().getLinkedFilter(this.m_layeredFilterName);let i=e.notNull(t)?t.getCartesianList(this.m_dimension):null;this.m_defaultSelection=e.FilterDialogValueFactory.createSelectionFromFilter(this.m_dimension,i);if(e.isNull(this.m_displayInfo)){this.m_displayInfo=this.getDisplayInfoFromFilter(i)}}if(e.notNull(this.m_defaultSelection)&&this.m_defaultSelection.size()>1&&this.m_selectionMode===e.UiTableSelectionMode.SINGLE){this.m_defaultSelection.clear()}if(e.XCollectionUtils.hasElements(this.m_defaultSelection)){this.m_hierarchy=this.m_defaultSelection.get(0).getHierarchyName()}else if(t.containsKey(e.FilterDialog.PARAM_HIERARCHY)){let i=t.getStringByKey(e.FilterDialog.PARAM_HIERARCHY);this.m_hierarchy=e.XStringUtils.isNullOrEmpty(i)?null:i}else if(e.notNull(this.m_dimension)&&this.m_dimension.isHierarchyActive()){this.m_hierarchy=this.m_dimension.getHierarchyName()}}else if(this.m_contentType===e.FilterDialogContentType.VARIABLE){this.m_offerRangeView=t.getBooleanByKey(e.FilterDialog.PARAM_OFFER_RANGE_VIEW);this.m_offerListView=t.getBooleanByKey(e.FilterDialog.PARAM_OFFER_LIST_VIEW)||!this.m_offerRangeView;this.setupDefaultViewType(t);if(this.m_isOpenWithVariableFilter&&e.notNull(this.m_variable)){this.m_defaultSelection=e.FilterDialogValueFactory.createSelectionFromVariable(this.m_variable);this.m_selectionMode=this.m_variable.supportsMultipleValues()?e.UiTableSelectionMode.MULTI_TOGGLE:e.UiTableSelectionMode.SINGLE;if(e.isNull(this.m_displayInfo)){this.m_displayInfo=this.getDisplayInfoFromFilter(this.m_variable.hasMemberFilter()?this.m_variable.getMemberFilter():null)}}}else if(this.m_contentType===e.FilterDialogContentType.HIERARCHY_CATALOG){this.m_offerListView=true}else if(this.m_contentType===e.FilterDialogContentType.MEASURE_BASED_FILTER){this.m_offerRangeView=true;if(e.XStringUtils.isNotNullAndNotEmpty(this.m_layeredFilterName)&&e.notNull(r)&&r.getModelCapabilities().supportsFilterMeasureBased()){let t=r.getQueryModel().getFilter().getLinkedFilter(this.m_layeredFilterName);if(e.notNull(t)){let i=t.getFilterRootElement();if(e.notNull(i)&&i.getOlapComponentType()===e.FilterComponentType.FILTER_MEASURE_BASED){this.m_filterMeasureBased=i}}if(e.isNull(this.m_filterMeasureBased)){this.m_filterMeasureBased=e.QFactory.createFilterMeasureBased(r.getQueryModel(),this.m_layeredFilterName)}}}else if(this.m_contentType===e.FilterDialogContentType.USER_TEAM){this.m_offerListView=true;this.m_simplifiedSearch=true;o=e.FilterDialogConfig.PAGE_SIZE_COLLAPSED_HEADER_NO_SCROLLBAR;l=e.FilterDialogConfig.DEFAULT_PRELOAD_PAGE_COUNT_SMALL}this.m_listPageSize=e.XMath.max(t.getIntegerByKeyExt(e.FilterDialog.PARAM_LIST_PAGE_SIZE,o),1);this.m_listPreloadPageCount=e.XMath.max(t.getIntegerByKeyExt(e.FilterDialog.PARAM_LIST_PRELOAD_PAGE_COUNT,l),1);this.m_listChildNodePageSize=e.XMath.max(t.getIntegerByKeyExt(e.FilterDialog.PARAM_LIST_CHILD_NODES_PAGE_SIZE,50),1);this.m_offerClipboard=t.getBooleanByKey(e.FilterDialog.PARAM_OFFER_CLIPBOARD);this.m_offerHierarchyChange=t.getBooleanByKey(e.FilterDialog.PARAM_OFFER_HIERARCHY_CHANGE);this.m_readMode=e.OlapUiReadMode.lookup(t.getStringByKey(e.FilterDialog.PARAM_READMODE));this.m_offerReadModeExtendedSettings=t.getBooleanByKey(e.FilterDialog.PARAM_OFFER_READMODE_EXTENDED_SETTINGS);this.m_offerReadModeChange=this.m_offerReadModeExtendedSettings||e.isNull(this.m_readMode)||t.getBooleanByKey(e.FilterDialog.PARAM_OFFER_READMODE_CHANGE);this.m_hideCumulatedMeasures=t.getBooleanByKey(e.FilterDialog.PARAM_HIDE_CUMULATED_MEASURES);this.m_offerEqualInRangeFilter=t.getBooleanByKey(e.FilterDialog.PARAM_OFFER_EQUAL_IN_RANGE_FILTER);this.m_offerNullInRangeFilter=t.getBooleanByKey(e.FilterDialog.PARAM_OFFER_NULL_IN_RANGE_FILTER);this.m_dynamicDateRangeMaxYears=e.XMath.max(t.getIntegerByKeyExt(e.FilterDialog.PARAM_DYNAMIC_DATE_RANGE_MAX_YEARS,100),0);this.m_offerExcludeAdvanced=t.getBooleanByKey(e.FilterDialog.PARAM_OFFER_EXCLUDE_ADVANCED);this.m_offerExclude=!this.m_offerExcludeAdvanced&&t.getBooleanByKey(e.FilterDialog.PARAM_OFFER_EXCLUDE);if(this.m_offerExclude){this.m_excludeByDefault=t.getBooleanByKey(e.FilterDialog.PARAM_EXCLUDE_BY_DEFAULT);let i=e.XCollectionUtils.filter(this.m_defaultSelection,t=>t.getComparisonOperator()===e.ComparisonOperator.EQUAL||t.getComparisonOperator()===e.ComparisonOperator.NOT_EQUAL);if(e.XCollectionUtils.hasElements(i)){this.m_excludeByDefault=e.XStream.of(i).allMatch(e=>e.isExcluded())}}this.m_workspace=t.getStringByKey(e.FilterDialog.ARG_WORKSPACE);if(t.containsKey(e.FilterDialog.ARG_HIDDEN_VALUES)){this.m_hiddenValues=this.getList(t.getStringByKey(e.FilterDialog.ARG_HIDDEN_VALUES))}};e.FilterDialogConfig.prototype.setupDefaultViewType=function(t){this.m_defaultViewType=e.FilterDialogViewType.getByName(t.getStringByKey(e.FilterDialog.PARAM_DEFAULT_VIEW_TYPE));if(this.m_defaultViewType===e.FilterDialogViewType.MEASURE_BASED_FILTER||this.m_defaultViewType===e.FilterDialogViewType.LIST&&!this.m_offerListView||this.m_defaultViewType===e.FilterDialogViewType.RANGE&&!this.m_offerRangeView||this.m_defaultViewType===e.FilterDialogViewType.FUNCTIONAL_VALUES&&!this.m_offerFunctionalValuesView){this.m_defaultViewType=null}};e.OuAnalyticalWidgetType=function(){};e.OuAnalyticalWidgetType.prototype=new e.XConstant;e.OuAnalyticalWidgetType.prototype._ff_c="OuAnalyticalWidgetType";e.OuAnalyticalWidgetType.CHART=null;e.OuAnalyticalWidgetType.KPI=null;e.OuAnalyticalWidgetType.TABLE=null;e.OuAnalyticalWidgetType.s_lookup=null;e.OuAnalyticalWidgetType._createWithName=function(t){let i=e.XConstant.setupName(new e.OuAnalyticalWidgetType,t);e.OuAnalyticalWidgetType.s_lookup.put(t,i);return i};e.OuAnalyticalWidgetType.getAllTypeNames=function(){return e.OuAnalyticalWidgetType.s_lookup.getKeysAsReadOnlyList()};e.OuAnalyticalWidgetType.lookup=function(t){return e.OuAnalyticalWidgetType.s_lookup.getByKey(t)};e.OuAnalyticalWidgetType.lookupBySemanticBindingType=function(t){if(t===e.SemanticBindingType.TABLE||t===e.SemanticBindingType.GRID){return e.OuAnalyticalWidgetType.TABLE}if(t===e.SemanticBindingType.KPI){return e.OuAnalyticalWidgetType.KPI}if(t===e.SemanticBindingType.CHART){return e.OuAnalyticalWidgetType.CHART}return null};e.OuAnalyticalWidgetType.staticSetup=function(){e.OuAnalyticalWidgetType.s_lookup=e.XHashMapByString.create();e.OuAnalyticalWidgetType.CHART=e.OuAnalyticalWidgetType._createWithName("Chart");e.OuAnalyticalWidgetType.TABLE=e.OuAnalyticalWidgetType._createWithName("Table");e.OuAnalyticalWidgetType.KPI=e.OuAnalyticalWidgetType._createWithName("Kpi")};e.FilterDialogContentType=function(){};e.FilterDialogContentType.prototype=new e.XConstant;e.FilterDialogContentType.prototype._ff_c="FilterDialogContentType";e.FilterDialogContentType.DIMENSION=null;e.FilterDialogContentType.HIERARCHY_CATALOG=null;e.FilterDialogContentType.MEASURE_BASED_FILTER=null;e.FilterDialogContentType.USER_TEAM=null;e.FilterDialogContentType.VARIABLE=null;e.FilterDialogContentType.staticSetup=function(){e.FilterDialogContentType.VARIABLE=e.XConstant.setupName(new e.FilterDialogContentType,"Variable");e.FilterDialogContentType.DIMENSION=e.XConstant.setupName(new e.FilterDialogContentType,"Dimension");e.FilterDialogContentType.HIERARCHY_CATALOG=e.XConstant.setupName(new e.FilterDialogContentType,"HierarchyCatalog");e.FilterDialogContentType.MEASURE_BASED_FILTER=e.XConstant.setupName(new e.FilterDialogContentType,"MeasureBasedFilter");e.FilterDialogContentType.USER_TEAM=e.XConstant.setupName(new e.FilterDialogContentType,"UserTeam")};e.FilterDialogContentType.prototype.isBackendDriven=function(){return this.isValueHelp()||this.isHierarchyCatalog()};e.FilterDialogContentType.prototype.isDimensionMemberValueHelp=function(){return this.isEqualTo(e.FilterDialogContentType.DIMENSION)};e.FilterDialogContentType.prototype.isHierarchyCatalog=function(){return this.isEqualTo(e.FilterDialogContentType.HIERARCHY_CATALOG)};e.FilterDialogContentType.prototype.isMeasureBasedFilter=function(){return this.isEqualTo(e.FilterDialogContentType.MEASURE_BASED_FILTER)};e.FilterDialogContentType.prototype.isValueHelp=function(){return this.isVariableValueHelp()||this.isDimensionMemberValueHelp()};e.FilterDialogContentType.prototype.isVariableValueHelp=function(){return this.isEqualTo(e.FilterDialogContentType.VARIABLE)};e.FilterDialogTextUsageType=function(){};e.FilterDialogTextUsageType.prototype=new e.XConstant;e.FilterDialogTextUsageType.prototype._ff_c="FilterDialogTextUsageType";e.FilterDialogTextUsageType.AUTO=null;e.FilterDialogTextUsageType.DIMENSION_DEFAULT=null;e.FilterDialogTextUsageType.RESULTSET_TEXT=null;e.FilterDialogTextUsageType.s_allTypes=null;e.FilterDialogTextUsageType.lookup=function(t){return e.FilterDialogTextUsageType.s_allTypes.getByKey(t)};e.FilterDialogTextUsageType.setupTextUsageType=function(t){let i=e.XConstant.setupName(new e.FilterDialogTextUsageType,t);e.FilterDialogTextUsageType.s_allTypes.put(t,i);return i};e.FilterDialogTextUsageType.staticSetup=function(){e.FilterDialogTextUsageType.s_allTypes=e.XHashMapByString.create();e.FilterDialogTextUsageType.RESULTSET_TEXT=e.FilterDialogTextUsageType.setupTextUsageType("resultset");e.FilterDialogTextUsageType.DIMENSION_DEFAULT=e.FilterDialogTextUsageType.setupTextUsageType("dimension");e.FilterDialogTextUsageType.AUTO=e.FilterDialogTextUsageType.setupTextUsageType("auto")};e.FilterDialogUsageTrackingConsumer=function(){};e.FilterDialogUsageTrackingConsumer.prototype=new e.XConstant;e.FilterDialogUsageTrackingConsumer.prototype._ff_c="FilterDialogUsageTrackingConsumer";e.FilterDialogUsageTrackingConsumer.CONTEXT_MENU_BUILDER=null;e.FilterDialogUsageTrackingConsumer.CONTEXT_MENU_CHART=null;e.FilterDialogUsageTrackingConsumer.CONTEXT_MENU_TABLE=null;e.FilterDialogUsageTrackingConsumer.FILTER_LINE=null;e.FilterDialogUsageTrackingConsumer.FILTER_LINE_TOKEN=null;e.FilterDialogUsageTrackingConsumer.s_allConsumers=null;e.FilterDialogUsageTrackingConsumer.lookup=function(t){return e.FilterDialogUsageTrackingConsumer.s_allConsumers.getByKey(t)};e.FilterDialogUsageTrackingConsumer.setupTextUsageType=function(t){let i=e.XConstant.setupName(new e.FilterDialogUsageTrackingConsumer,t);e.FilterDialogUsageTrackingConsumer.s_allConsumers.put(t,i);return i};e.FilterDialogUsageTrackingConsumer.staticSetup=function(){e.FilterDialogUsageTrackingConsumer.s_allConsumers=e.XHashMapByString.create();e.FilterDialogUsageTrackingConsumer.FILTER_LINE=e.FilterDialogUsageTrackingConsumer.setupTextUsageType("FilterLine");e.FilterDialogUsageTrackingConsumer.FILTER_LINE_TOKEN=e.FilterDialogUsageTrackingConsumer.setupTextUsageType("FilterLineToken");e.FilterDialogUsageTrackingConsumer.CONTEXT_MENU_TABLE=e.FilterDialogUsageTrackingConsumer.setupTextUsageType("ContextMenuTable");e.FilterDialogUsageTrackingConsumer.CONTEXT_MENU_CHART=e.FilterDialogUsageTrackingConsumer.setupTextUsageType("ContextMenuChart");e.FilterDialogUsageTrackingConsumer.CONTEXT_MENU_BUILDER=e.FilterDialogUsageTrackingConsumer.setupTextUsageType("ContextMenuBuilder")};e.FilterDialogViewType=function(){};e.FilterDialogViewType.prototype=new e.XConstant;e.FilterDialogViewType.prototype._ff_c="FilterDialogViewType";e.FilterDialogViewType.FUNCTIONAL_VALUES=null;e.FilterDialogViewType.LIST=null;e.FilterDialogViewType.MEASURE_BASED_FILTER=null;e.FilterDialogViewType.RANGE=null;e.FilterDialogViewType.s_allTypes=null;e.FilterDialogViewType.getAllFilterTypes=function(){return e.FilterDialogViewType.s_allTypes.getValuesAsReadOnlyList()};e.FilterDialogViewType.getByName=function(t){return e.FilterDialogViewType.s_allTypes.getByKey(t)};e.FilterDialogViewType.setupFilterType=function(t){let i=e.XConstant.setupName(new e.FilterDialogViewType,t);e.FilterDialogViewType.s_allTypes.put(t,i);return i};e.FilterDialogViewType.staticSetup=function(){e.FilterDialogViewType.s_allTypes=e.XHashMapByString.create();e.FilterDialogViewType.LIST=e.FilterDialogViewType.setupFilterType("List");e.FilterDialogViewType.RANGE=e.FilterDialogViewType.setupFilterType("Range");e.FilterDialogViewType.MEASURE_BASED_FILTER=e.FilterDialogViewType.setupFilterType("MeasureBasedFilter");e.FilterDialogViewType.FUNCTIONAL_VALUES=e.FilterDialogViewType.setupFilterType("FunctionalValues")};e.FilterDialogViewType.prototype.isSupportedByDim=function(t){if(e.notNull(t)){if(this===e.FilterDialogViewType.LIST){return true}if(this===e.FilterDialogViewType.RANGE){let i=t.getFlatKeyField();let r=i.getValueType();if(r.isNumber()){return true}let a=e.QFilterUtil.supportsDateRangeFilter(i);if(a||r.isDateBased()||t.getDimensionType()===e.DimensionType.TIME||t.getDimensionType()===e.DimensionType.DATE){return a}let o=t.getFilterCapabilities().getFilterCapabilitiesByField(i);return e.notNull(o)&&e.XCollectionUtils.contains(o.getSupportedComparisonOperators(e.SetSign.INCLUDING),e=>e.isRange())&&!t.getDimensionType().isTypeOf(e.DimensionType.GENERAL_VERSION)}if(this===e.FilterDialogViewType.MEASURE_BASED_FILTER){return(t.isStructure()||t.getDimensionType()===e.DimensionType.ACCOUNT)&&t.getQueryModel().getModelCapabilities().supportsFilterMeasureBased()}if(this===e.FilterDialogViewType.FUNCTIONAL_VALUES){return false}}return false};e.FilterDialogViewType.prototype.isSupportedByMember=function(t){if(e.isNull(t)||!this.isSupportedByDim(t.getDimension())){return false}if(this===e.FilterDialogViewType.MEASURE_BASED_FILTER){if(t.getMemberType().isTypeOf(e.MemberType.MEASURE)){let i=t.isNumericShiftPercent();let r=t.getDimension().getQueryManager().getSystemType().isTypeOf(e.SystemType.HANA)&&t.getNumericShift()!==null&&t.getNumericShift().getInteger()===2;return!(i||r)}return false}return true};e.FilterDialogViewType.prototype.isSupportedByVar=function(t){if(e.notNull(t)&&t.getVariableType().isTypeOf(e.VariableType.DIMENSION_MEMBER_VARIABLE)){if(this===e.FilterDialogViewType.LIST){return true}if(this===e.FilterDialogViewType.RANGE){let i=t;if(t.getVariableType().isTypeOf(e.VariableType.HIERARCHY_NODE_VARIABLE)&&e.XStringUtils.isNotNullAndNotEmpty(i.getHierarchyName())){return false}let r=i.getFilterCapability();return e.notNull(r)&&e.XCollectionUtils.contains(r.getSupportedComparisonOperators(e.SetSign.INCLUDING),e=>e.isRange())}}return false};e.FilterDialogValueType=function(){};e.FilterDialogValueType.prototype=new e.XConstant;e.FilterDialogValueType.prototype._ff_c="FilterDialogValueType";e.FilterDialogValueType.BASIC=null;e.FilterDialogValueType.DATE_RANGE_DYNAMIC=null;e.FilterDialogValueType.DATE_RANGE_FIXED=null;e.FilterDialogValueType.HIERARCHY_CATALOG=null;e.FilterDialogValueType.RANGE=null;e.FilterDialogValueType.TEAM=null;e.FilterDialogValueType.USER=null;e.FilterDialogValueType.VALUEHELP=null;e.FilterDialogValueType.staticSetup=function(){e.FilterDialogValueType.BASIC=e.XConstant.setupName(new e.FilterDialogValueType,"basic");e.FilterDialogValueType.VALUEHELP=e.XConstant.setupName(new e.FilterDialogValueType,"valueHelp");e.FilterDialogValueType.RANGE=e.XConstant.setupName(new e.FilterDialogValueType,"range");e.FilterDialogValueType.DATE_RANGE_DYNAMIC=e.XConstant.setupName(new e.FilterDialogValueType,"dateRangeDynamic");e.FilterDialogValueType.DATE_RANGE_FIXED=e.XConstant.setupName(new e.FilterDialogValueType,"dateRangeFixed");e.FilterDialogValueType.HIERARCHY_CATALOG=e.XConstant.setupName(new e.FilterDialogValueType,"hierarchyCatalog");e.FilterDialogValueType.USER=e.XConstant.setupName(new e.FilterDialogValueType,"user");e.FilterDialogValueType.TEAM=e.XConstant.setupName(new e.FilterDialogValueType,"team")};e.OuDataProviderCommandPlugin=function(){};e.OuDataProviderCommandPlugin.prototype=new e.HuDfCommandPlugin;e.OuDataProviderCommandPlugin.prototype._ff_c="OuDataProviderCommandPlugin";e.OuDataProviderCommandPlugin.DEFAULT_SHARED_SPACE_NAME="DataProviderCommand.SharedSpace";e.OuDataProviderCommandPlugin.PLUGIN_NAME="DataProviderCommand";e.OuDataProviderCommandPlugin.SPACE_STORAGE="DataProviderCommand.Storage";e.OuDataProviderCommandPlugin.runAllDataProviderNames=function(t){let i=e.XStringUtils.concatenate3(e.OuDataProviderCommandPlugin.PLUGIN_NAME,".",e.OuDataProviderCPConstants.CMD_GET_ALL_DATA_PROVIDER_NAMES);return t.executeActionById(i,null).then(e=>e,null)};e.OuDataProviderCommandPlugin.runGetActiveDataProvider=function(t){let i=e.XStringUtils.concatenate3(e.OuDataProviderCommandPlugin.PLUGIN_NAME,".",e.OuDataProviderCPConstants.CMD_GET_ACTIVE_DATA_PROVIDER);return t.executeActionById(i,null).then(e=>e,null)};e.OuDataProviderCommandPlugin.runGetDataProviderByName=function(t,i){let r=e.XStringUtils.concatenate3(e.OuDataProviderCommandPlugin.PLUGIN_NAME,".",e.OuDataProviderCPConstants.CMD_GET_DATA_PROVIDER_BY_NAME);let a=e.OuDataProviderCPParam.createForGetDataProvider(i);return t.executeActionById(r,a).then(e=>e,null)};e.OuDataProviderCommandPlugin.runRegisterDataProviderConfigAction=function(t,i,r){let a=e.XStringUtils.concatenate3(e.OuDataProviderCommandPlugin.PLUGIN_NAME,".",e.OuDataProviderCPConstants.CMD_REGISTER_DATA_PROVIDER_CONFIG);let o=e.OuDataProviderCPParam.createForRegisterDataSource(i,r);return t.executeActionById(a,o)};e.OuDataProviderCommandPlugin.runRegisterExistingDataProviderAction=function(t,i,r){let a=e.XStringUtils.concatenate3(e.OuDataProviderCommandPlugin.PLUGIN_NAME,".",e.OuDataProviderCPConstants.CMD_REGISTER_EXISTING_DATA_PROVIDER);let o=e.OuDataProviderCPParam.createForRegisterExistingDataProvider(i,r);return t.executeActionById(a,o)};e.OuDataProviderCommandPlugin.runRegisterExistingQueryManagerAction=function(t,i,r){let a=e.XStringUtils.concatenate3(e.OuDataProviderCommandPlugin.PLUGIN_NAME,".",e.OuDataProviderCPConstants.CMD_REGISTER_EXISTING_QUERY_MANAGER);let o=e.OuDataProviderCPParam.createForRegisterExistingQueryManager(i,r);return t.executeActionById(a,o).then(e=>e,null)};e.OuDataProviderCommandPlugin.runReleaseDataProvider=function(t,i){let r=e.XStringUtils.concatenate3(e.OuDataProviderCommandPlugin.PLUGIN_NAME,".",e.OuDataProviderCPConstants.CMD_RELEASE_DATA_PROVIDER);let a=e.OuDataProviderCPParam.createForGetDataProvider(i);return t.executeActionById(r,a).then(e=>e,null)};e.OuDataProviderCommandPlugin.runSetActiveDataProvider=function(t,i){let r=e.XStringUtils.concatenate3(e.OuDataProviderCommandPlugin.PLUGIN_NAME,".",e.OuDataProviderCPConstants.CMD_SET_ACTIVE_DATA_PROVIDER);let a=e.OuDataProviderCPParam.createForGetDataProvider(i);return t.executeActionById(r,a)};e.OuDataProviderCommandPlugin.prototype.m_activeDataProviderName=null;e.OuDataProviderCommandPlugin.prototype.m_dataProviderAddedConsumerId=null;e.OuDataProviderCommandPlugin.prototype.m_dataProviderRemovedConsumerId=null;e.OuDataProviderCommandPlugin.prototype.m_dpPoolChangeListenerId=null;e.OuDataProviderCommandPlugin.prototype.m_onDataProviderAddedConsumer=null;e.OuDataProviderCommandPlugin.prototype.m_onDataProviderRemovedConsumer=null;e.OuDataProviderCommandPlugin.prototype.m_sharedDataSpaceName=null;e.OuDataProviderCommandPlugin.prototype._getDPPool=function(){return this.getProcess().getDataProviderPool()};e.OuDataProviderCommandPlugin.prototype._setupSharedStorage=function(){let t=this.getController().getProcess().getSharedDataSpace(this.m_sharedDataSpaceName);if(e.isNull(t)){t=this.getController().getProcess().createSharedDataSpace(this.m_sharedDataSpaceName)}if(!t.containsKey(e.OuDataProviderCommandPlugin.SPACE_STORAGE)){let i=e.OuDataProviderCPStorage.createDpStorage();t.putXObject(e.OuDataProviderCommandPlugin.SPACE_STORAGE,i)}};e.OuDataProviderCommandPlugin.prototype._subscribeToDPPoolChanges=function(){let t=this._getDPPool();if(e.notNull(t)){this.m_dpPoolChangeListenerId=t.addChangeConsumer(i=>{let r=t.hasDataProviderByName(i);let a=e.XStringValue.create(i);if(r&&e.notNull(this.m_onDataProviderAddedConsumer)){this.m_onDataProviderAddedConsumer(a)}else if(!r&&e.notNull(this.m_onDataProviderRemovedConsumer)){this.m_onDataProviderRemovedConsumer(a)}})}};e.OuDataProviderCommandPlugin.prototype._unsubscribeFromDPPoolChanges=function(){let t=this._getDPPool();if(e.notNull(t)&&e.XStringUtils.isNotNullAndNotEmpty(this.m_dpPoolChangeListenerId)){t.removeChangeConsumerByUuid(this.m_dpPoolChangeListenerId);this.m_dpPoolChangeListenerId=null}};e.OuDataProviderCommandPlugin.prototype.createDataProvider=function(t){let i=t.getDataProviderName();if(e.XStringUtils.isNullOrEmpty(i)){return e.XPromise.reject(e.XError.create("dataprovider name cannot be empty"))}t.getHooks().getFinalizeQueryManagerRegister().addFunction(t=>{let i=t.getQueryManager();let r=i.getQueryModel().getVisualizationManager().getApplicationSettings();r.setMaxRows(e.XMath.max(-1,r.getMaxRows()));r.setMaxColumns(e.XMath.max(50,r.getMaxColumns()));r.setMinRowsFetch(e.XMath.max(150,r.getMinRowsFetch()));r.setMinColumnsFetch(e.XMath.max(50,r.getMinColumnsFetch()));return null});let r=e.OuDataProviderFactory.createDataProviderFromSource(t);this.getSharedStorage().putDataProviderPromise(i,r);return r};e.OuDataProviderCommandPlugin.prototype.createDataProviderAction=function(e){return this.createDataProvider(e.getDataProviderConfig())};e.OuDataProviderCommandPlugin.prototype.destroyPlugin=function(){let t=this.getSharedStorage();e.XCollectionUtils.forEach(t.getAllAvailableDataProviderNames(),t=>{let i=e.OuDataProviderCPParam.createForGetDataProvider(t);this.releaseDataProviderAction(i)});t.getDataProviderAddListeners().removeConsumerByUuid(this.m_dataProviderAddedConsumerId);t.getDataProviderRemoveListeners().removeConsumerByUuid(this.m_dataProviderRemovedConsumerId);this._unsubscribeFromDPPoolChanges();this.m_dataProviderAddedConsumerId=null;this.m_dataProviderRemovedConsumerId=null;this.m_onDataProviderAddedConsumer=null;this.m_onDataProviderRemovedConsumer=null;this.m_sharedDataSpaceName=null;e.HuDfCommandPlugin.prototype.destroyPlugin.call(this)};e.OuDataProviderCommandPlugin.prototype.getActiveDataProviderAction=function(){return this.getDataProviderByNameAction(this.m_activeDataProviderName)};e.OuDataProviderCommandPlugin.prototype.getDataProviderAction=function(e){let t=e.getDataProviderName();return this.getDataProviderByNameAction(t)};e.OuDataProviderCommandPlugin.prototype.getDataProviderByNameAction=function(t){let i=this.getProcess().getDataProviderPool();if(e.notNull(i)){let r=i.getDataProviderByName(t);if(e.notNull(r)){return e.XPromise.resolve(r)}}let r=this.getSharedStorage();let a=r.getActiveDataProviders().getByKey(t);if(e.notNull(a)&&!a.isReleased()){return e.XPromise.resolve(a)}let o=r.getDataProviderPromises().getByKey(t);if(e.notNull(o)&&o.getState()!==e.XPromiseState.REJECTED){return o}let l=r.getDataProviderConfigs().getByKey(t);if(e.isNull(l)){return e.XPromise.reject(this.getNotFoundError(t))}return this.createDataProvider(l)};e.OuDataProviderCommandPlugin.prototype.getNotFoundError=function(t){let i=e.XStringUtils.concatenate2("No DataProvider or DataProviderConfig found for name ",t);return e.XError.create(i)};e.OuDataProviderCommandPlugin.prototype.getNotificationDataWithDpName=function(t){let i=e.XNotificationData.create();i.putString(e.OuDataProviderCPConstants.NOTIFICATION_PARAM_DATA_PROVIDER_NAME,t);return i};e.OuDataProviderCommandPlugin.prototype.getPluginCategory=function(){return e.HuPluginCategory.OLAP};e.OuDataProviderCommandPlugin.prototype.getPluginName=function(){return e.OuDataProviderCommandPlugin.PLUGIN_NAME};e.OuDataProviderCommandPlugin.prototype.getSharedStorage=function(){let t=this.getController().getProcess().getSharedDataSpace(this.m_sharedDataSpaceName);return t.getXObjectByKey(e.OuDataProviderCommandPlugin.SPACE_STORAGE)};e.OuDataProviderCommandPlugin.prototype.onStorageAdded=function(t){let i=this.getNotificationDataWithDpName(t.getString());this.getController().getLocalNotificationCenter().postNotificationWithName(e.OuDataProviderCPConstants.NOTIFICATION_DATA_PROVIDER_ADDED,i)};e.OuDataProviderCommandPlugin.prototype.onStorageRemoved=function(t){let i=this.getNotificationDataWithDpName(t.getString());this.getController().getLocalNotificationCenter().postNotificationWithName(e.OuDataProviderCPConstants.NOTIFICATION_DATA_PROVIDER_REMOVED,i)};e.OuDataProviderCommandPlugin.prototype.readDataSourcesFromConfig=function(){let t=this.getConfiguration();let i=t.getListByKey(e.OuDataProviderCPConstants.CONFIG_DATA_PROVIDER_LIST);if(!e.XCollectionUtils.hasElements(i)){return}for(let t=0;t<i.size();t++){let r=i.get(t).asStructure();let a=r.getStringByKey(e.OuDataProviderCPConstants.CONFIG_DATA_PROVIDER_NAME);let o=r.getStructureByKey(e.OuDataProviderCPConstants.CONFIG_DATA_PROVIDER_CONFIG);if(e.isNull(o)){continue}let l=e.OuDataProviderConfiguration.createConfigFromJson(this.getController().getApplication(),o);l.setDataProviderName(a);this.getSharedStorage().putDataProviderConfig(a,l)}};e.OuDataProviderCommandPlugin.prototype.registerActions=function(t){t.registerAction(e.OuDataProviderCPConstants.CMD_REGISTER_DATA_PROVIDER_CONFIG,(e,t)=>this.registerDataProviderConfigAction(t).onThenExt(e=>e));t.registerAction(e.OuDataProviderCPConstants.CMD_REGISTER_EXISTING_QUERY_MANAGER,(e,t)=>this.registerExistingQueryManagerAction(t).onThenExt(e=>e));t.registerAction(e.OuDataProviderCPConstants.CMD_REGISTER_EXISTING_DATA_PROVIDER,(e,t)=>this.registerExistingDataProviderAction(t).onThenExt(e=>e));t.registerAction(e.OuDataProviderCPConstants.CMD_CREATE_DATA_PROVIDER_WITH_CONFIG,(e,t)=>this.createDataProviderAction(t).onThenExt(e=>e));t.registerAction(e.OuDataProviderCPConstants.CMD_GET_DATA_PROVIDER_BY_NAME,(e,t)=>this.getDataProviderAction(t).onThenExt(e=>e));t.registerAction(e.OuDataProviderCPConstants.CMD_GET_ALL_DATA_PROVIDER_NAMES,(t,i)=>e.XPromise.resolve(this.getSharedStorage().getAllAvailableDataProviderNames()));t.registerAction(e.OuDataProviderCPConstants.CMD_RELEASE_DATA_PROVIDER,(e,t)=>this.releaseDataProviderAction(t).onThenExt(e=>e));t.registerAction(e.OuDataProviderCPConstants.CMD_SET_ACTIVE_DATA_PROVIDER,(e,t)=>this.setActiveDataProviderAction(t).onThenExt(e=>e));t.registerAction(e.OuDataProviderCPConstants.CMD_GET_ACTIVE_DATA_PROVIDER,(e,t)=>this.getActiveDataProviderAction().onThenExt(e=>e))};e.OuDataProviderCommandPlugin.prototype.registerDataProviderConfigAction=function(t){let i=t.getDataProviderName();let r=t.getDataProviderConfig();if(e.XStringUtils.isNullOrEmpty(i)||e.isNull(r)){return e.XPromise.reject(e.XError.create("Please provide a valid parameter."))}this.getSharedStorage().putDataProviderConfig(i,r);return e.XPromise.resolve(e.XBooleanValue.create(true))};e.OuDataProviderCommandPlugin.prototype.registerExistingDataProviderAction=function(t){let i=t.getDataProviderName();let r=t.getDataProvider();this.getSharedStorage().putActiveDataProvider(i,r);return e.XPromise.resolve(e.XBooleanValue.create(true))};e.OuDataProviderCommandPlugin.prototype.registerExistingQueryManagerAction=function(t){let i=t.getDataProviderName();let r=t.getQueryManager();let a=e.OuDataProviderConfiguration.createConfig(this.getController().getApplication(),r.getDataSource());return e.OuDataProviderFactory.createDataProviderFromQueryManager(r,a).onThen(e=>{this.getSharedStorage().putActiveDataProvider(i,e)})};e.OuDataProviderCommandPlugin.prototype.releaseDataProviderAction=function(t){let i=t.getDataProviderName();let r;let a=this.getProcess().getDataProviderPool();if(e.notNull(a)){r=a.getDataProviderByName(i);if(e.notNull(r)){a.removeDataProviderByName(i);return this.shutdownDataProviderAction(i,r)}}let o=this.getSharedStorage();r=o.getActiveDataProviders().getByKey(i);if(e.notNull(r)){return this.shutdownDataProviderAction(i,r)}let l=o.getDataProviderPromises().getByKey(i);if(e.notNull(l)&&l.getState()!==e.XPromiseState.REJECTED){return e.XPromise.create((e,t)=>{l.onThen(e=>{this.shutdownDataProviderAction(i,e)}).onCatch(t)})}return e.XPromise.reject(this.getNotFoundError(i))};e.OuDataProviderCommandPlugin.prototype.setActiveDataProviderAction=function(t){let i=t.getDataProviderName();let r=this.getProcess().getDataProviderPool();if(e.XStringUtils.isNotNullAndNotEmpty(i)&&!this.getSharedStorage().getAllAvailableDataProviderNames().contains(i)&&(e.isNull(r)||!r.hasDataProviderByName(i))){return e.XPromise.reject(this.getNotFoundError(i))}this.m_activeDataProviderName=i;let a=this.getNotificationDataWithDpName(this.m_activeDataProviderName);this.getController().getLocalNotificationCenter().postNotificationWithName(e.OuDataProviderCPConstants.NOTIFICATION_ACTIVE_DATA_PROVIDER_CHANGED,a);return e.XPromise.resolve(e.XBooleanValue.create(true))};e.OuDataProviderCommandPlugin.prototype.setupPlugin=function(t){e.HuDfCommandPlugin.prototype.setupPlugin.call(this,t);this.m_sharedDataSpaceName=this.getConfiguration().getStringByKey(e.OuDataProviderCPConstants.CONFIG_SHARED_DATA_SPACE_NAME);if(e.XStringUtils.isNullOrEmpty(this.m_sharedDataSpaceName)){this.m_sharedDataSpaceName=e.OuDataProviderCommandPlugin.DEFAULT_SHARED_SPACE_NAME}this.m_onDataProviderAddedConsumer=this.onStorageAdded.bind(this);this.m_onDataProviderRemovedConsumer=this.onStorageRemoved.bind(this);this._setupSharedStorage();this.m_dataProviderAddedConsumerId=this.getSharedStorage().getDataProviderAddListeners().addConsumer(this.m_onDataProviderAddedConsumer);this.m_dataProviderRemovedConsumerId=this.getSharedStorage().getDataProviderRemoveListeners().addConsumer(this.m_onDataProviderRemovedConsumer);this._subscribeToDPPoolChanges();this.readDataSourcesFromConfig();return null};e.OuDataProviderCommandPlugin.prototype.shutdownDataProviderAction=function(e,t){let i=t.getActions().getLifecycleActions().disconnectDataProvider();this.getSharedStorage().removeActiveDataProvider(e);return i};e.OlapUiReadMode=function(){};e.OlapUiReadMode.prototype=new e.XConstant;e.OlapUiReadMode.prototype._ff_c="OlapUiReadMode";e.OlapUiReadMode.BOOKED=null;e.OlapUiReadMode.BOOKED_CASCADING=null;e.OlapUiReadMode.MASTER=null;e.OlapUiReadMode.QUERY_DEFAULT=null;e.OlapUiReadMode.s_lookup=null;e.OlapUiReadMode.create=function(t,i){let r=e.XConstant.setupName(new e.OlapUiReadMode,t);r.m_ffReadMode=i;e.OlapUiReadMode.s_lookup.put(e.XString.toLowerCase(t),r);return r};e.OlapUiReadMode.lookup=function(t){return e.OlapUiReadMode.s_lookup.getByKey(e.XString.toLowerCase(t))};e.OlapUiReadMode.lookupByFFReadMode=function(t){return e.XCollectionUtils.findFirst(e.OlapUiReadMode.s_lookup.getValuesAsReadOnlyList(),e=>e.getFFReadMode()===t)};e.OlapUiReadMode.staticSetup=function(){e.OlapUiReadMode.s_lookup=e.XHashMapByString.create();e.OlapUiReadMode.BOOKED=e.OlapUiReadMode.create("booked",e.QMemberReadMode.BOOKED);e.OlapUiReadMode.BOOKED_CASCADING=e.OlapUiReadMode.create("bookedCascading",e.QMemberReadMode.BOOKED_AND_SPACE_AND_STATE);e.OlapUiReadMode.MASTER=e.OlapUiReadMode.create("master",e.QMemberReadMode.MASTER);e.OlapUiReadMode.QUERY_DEFAULT=e.OlapUiReadMode.create("default",e.QMemberReadMode.DEFAULT_VALUE)};e.OlapUiReadMode.prototype.m_ffReadMode=null;e.OlapUiReadMode.prototype.getFFReadMode=function(){return this.m_ffReadMode};e.DfOuDataProviderComponentPlugin=function(){};e.DfOuDataProviderComponentPlugin.prototype=new e.HuDfComponentPlugin;e.DfOuDataProviderComponentPlugin.prototype._ff_c="DfOuDataProviderComponentPlugin";e.DfOuDataProviderComponentPlugin.NOTIFICATION_COMPONENT_PLUGIN_REFRESH="com.sap.ff.DataProviderComponentPlugin.Notification.Refresh";e.DfOuDataProviderComponentPlugin.prototype.m_dpEventManager=null;e.DfOuDataProviderComponentPlugin.prototype.m_isUiReady=false;e.DfOuDataProviderComponentPlugin.prototype.m_pluginRefreshObserverId=null;e.DfOuDataProviderComponentPlugin.prototype._fireOnDataProviderReady=function(t){if(this.m_isUiReady){let i=this.getController();i.setBusy(true);let r=e.notNull(t)?t.getOrCreateQueryManager():e.XPromise.resolve(null);r.onThen(e=>{this.onDataProviderReady(t)}).onCatch(t=>{e.XLogger.printError(t.getText())}).onFinally(()=>{i.setBusy(false)})}};e.DfOuDataProviderComponentPlugin.prototype._observePluginNotifications=function(){let t=this.getController().getLocalNotificationCenter();this.m_pluginRefreshObserverId=t.addObserverForName(e.DfOuDataProviderComponentPlugin.NOTIFICATION_COMPONENT_PLUGIN_REFRESH,e=>{this._fireOnDataProviderReady(this.getDataProvider())})};e.DfOuDataProviderComponentPlugin.prototype._setupEventManager=function(t,i){this.m_dpEventManager=e.OuDataProviderPluginEventManager.create(t,i);this.m_dpEventManager.setDataProviderReadyListener(this._fireOnDataProviderReady.bind(this));this.m_dpEventManager.setDataProviderReleasedListener(this.onDataProviderReleased.bind(this));this.m_dpEventManager.setDataProviderModelChangeListener((e,t)=>{this.onDataProviderModelChange(e,t)});this.m_dpEventManager.setDataProviderVizChangeListener((e,t)=>{this.onDataProviderVizChange(e,t)});this.m_dpEventManager.setDataProviderResultDataFetchListener((e,t)=>{this.onDataProviderResultDataFetch(e,t)})};e.DfOuDataProviderComponentPlugin.prototype._unobservePluginNotifications=function(){let t=this.getController().getLocalNotificationCenter();if(e.XStringUtils.isNotNullAndNotEmpty(this.m_pluginRefreshObserverId)){t.removeObserverByUuid(this.m_pluginRefreshObserverId);this.m_pluginRefreshObserverId=null}};e.DfOuDataProviderComponentPlugin.prototype.buildPluginUi=function(t){this.buildDataProviderPluginUi(t);this.m_isUiReady=true;let i=this.getDataProvider();if(e.notNull(i)){this._fireOnDataProviderReady(i)}};e.DfOuDataProviderComponentPlugin.prototype.destroyPlugin=function(){this._unobservePluginNotifications();this.m_dpEventManager=e.XObjectExt.release(this.m_dpEventManager);e.HuDfComponentPlugin.prototype.destroyPlugin.call(this)};e.DfOuDataProviderComponentPlugin.prototype.getDataProvider=function(){return this.m_dpEventManager.getDataProvider()};e.DfOuDataProviderComponentPlugin.prototype.getMenuCommandConsumer=function(){return e.XBiConsumerHolder.create((t,i)=>{let r=this.getDataProvider();if(e.notNull(r)){r.getActions().executeActionByName(t,i)}})};e.DfOuDataProviderComponentPlugin.prototype.notifyDataProviderUpdateListeners=function(){this.m_dpEventManager.notifyDataProviderUpdateListeners()};e.DfOuDataProviderComponentPlugin.prototype.setupPlugin=function(t){e.HuDfComponentPlugin.prototype.setupPlugin.call(this,t);this._setupEventManager(t,this.getConfiguration().getStringByKey(e.OuDataProviderConfiguration.CONFIG_DATA_PROVIDER_NAME));this._observePluginNotifications();return null};e.DfOuDataProviderDocumentPlugin=function(){};e.DfOuDataProviderDocumentPlugin.prototype=new e.HuDfDocumentPlugin;e.DfOuDataProviderDocumentPlugin.prototype._ff_c="DfOuDataProviderDocumentPlugin";e.DfOuDataProviderDocumentPlugin.prototype.m_dpEventManager=null;e.DfOuDataProviderDocumentPlugin.prototype.m_isUiReady=false;e.DfOuDataProviderDocumentPlugin.prototype._fireOnDataProviderReady=function(e){if(this.m_isUiReady){this.onDataProviderReady(e)}};e.DfOuDataProviderDocumentPlugin.prototype._setupEventManager=function(t,i){this.m_dpEventManager=e.OuDataProviderPluginEventManager.create(t,i);this.m_dpEventManager.setDataProviderReadyListener(this._fireOnDataProviderReady.bind(this));this.m_dpEventManager.setDataProviderReleasedListener(this.onDataProviderReleased.bind(this));this.m_dpEventManager.setDataProviderModelChangeListener((e,t)=>{this.onDataProviderModelChange(e,t)});this.m_dpEventManager.setDataProviderVizChangeListener((e,t)=>{this.onDataProviderVizChange(e,t)});this.m_dpEventManager.setDataProviderResultDataFetchListener((e,t)=>{this.onDataProviderResultDataFetch(e,t)})};e.DfOuDataProviderDocumentPlugin.prototype.destroyPlugin=function(){this.m_dpEventManager=e.XObjectExt.release(this.m_dpEventManager);e.HuDfDocumentPlugin.prototype.destroyPlugin.call(this)};e.DfOuDataProviderDocumentPlugin.prototype.getDataProvider=function(){return this.m_dpEventManager.getDataProvider()};e.DfOuDataProviderDocumentPlugin.prototype.layoutDocument=function(t){this.layoutDataProviderBasedDocument(t);this.m_isUiReady=true;let i=this.getDataProvider();if(e.notNull(i)){this._fireOnDataProviderReady(i)}};e.DfOuDataProviderDocumentPlugin.prototype.setupPlugin=function(t){e.HuDfDocumentPlugin.prototype.setupPlugin.call(this,t);this._setupEventManager(t,this.getConfiguration().getStringByKey(e.OuDataProviderConfiguration.CONFIG_DATA_PROVIDER_NAME));return null};e.DfOuDialogProgram=function(){};e.DfOuDialogProgram.prototype=new e.DfUiDialogProgram;e.DfOuDialogProgram.prototype._ff_c="DfOuDialogProgram";e.DfOuDialogProgram.PARAM_QUERY_MANAGER_NAME="queryManagerName";e.DfOuDialogProgram.PRG_DATA_CANCEL_PROCEDURE="cancelProcedure";e.DfOuDialogProgram.PRG_DATA_OK_PROCEDURE="okProcedure";e.DfOuDialogProgram.PRG_DATA_QUERY_MANAGER="queryManager";e.DfOuDialogProgram.prototype.m_cancelProcedure=null;e.DfOuDialogProgram.prototype.m_okProcedure=null;e.DfOuDialogProgram.prototype.m_queryManager=null;e.DfOuDialogProgram.prototype._doSetupDefaultProgramArguments=function(t){e.DfUiDialogProgram.prototype._doSetupDefaultProgramArguments.call(this,t);t.addParameter(e.DfOuDialogProgram.PARAM_QUERY_MANAGER_NAME,"The name of the query manager (String)")};e.DfOuDialogProgram.prototype._prepareDefaultArguments=function(){e.DfUiDialogProgram.prototype._prepareDefaultArguments.call(this);let t=this.getArguments();if(this.getStartData()!==null){this.m_queryManager=this.getStartData().getXObjectByKey(e.DfOuDialogProgram.PRG_DATA_QUERY_MANAGER);this.m_okProcedure=this.getStartData().getXObjectByKey(e.DfOuDialogProgram.PRG_DATA_OK_PROCEDURE);this.m_cancelProcedure=this.getStartData().getXObjectByKey(e.DfOuDialogProgram.PRG_DATA_CANCEL_PROCEDURE)}if(e.isNull(this.m_queryManager)&&t.containsKey(e.DfOuDialogProgram.PARAM_QUERY_MANAGER_NAME)){let i=this.getProcess().getParentProcess();if(e.notNull(i)){let r=i.getApplication();if(e.notNull(r)){let i=r.getOlapEnvironment();if(e.notNull(i)){this.m_queryManager=i.getQueryManagerByName(t.getStringByKey(e.DfOuDialogProgram.PARAM_QUERY_MANAGER_NAME))}}}}};e.DfOuDialogProgram.prototype.assertQueryManagerSet=function(){if(e.isNull(this.m_queryManager)){throw e.XException.createRuntimeException("Missing query manager!")}};e.DfOuDialogProgram.prototype.getQueryManager=function(){return this.m_queryManager};e.DfOuDialogProgram.prototype.notifyCancelPressed=function(){if(e.notNull(this.m_cancelProcedure)){this.m_cancelProcedure.execute()}};e.DfOuDialogProgram.prototype.notifyOkPressed=function(){if(e.notNull(this.m_okProcedure)){this.m_okProcedure.execute()}};e.DfOuDialogProgram.prototype.releaseObject=function(){this.m_queryManager=null;this.m_okProcedure=null;this.m_cancelProcedure=null;e.DfUiDialogProgram.prototype.releaseObject.call(this)};e.DfOuDialogProgram.prototype.setQueryManager=function(e){this.m_queryManager=e};e.FilterDialog=function(){};e.FilterDialog.prototype=new e.DfOuDialogProgram;e.FilterDialog.prototype._ff_c="FilterDialog";e.FilterDialog.ARG_DIMENSION_NAME="dimensionName";e.FilterDialog.ARG_HIDDEN_VALUES="hiddenValues";e.FilterDialog.ARG_LAYERED_FILTER_NAME="layeredFilterName";e.FilterDialog.ARG_MBF_MEMBER_NAME="measureBasedFilterMemberName";e.FilterDialog.ARG_OPEN_WITH_DYNAMIC_FILTER="openWithDynamicFilter";e.FilterDialog.ARG_OPEN_WITH_VARIABLE_FILTER="openWithVariableFilter";e.FilterDialog.ARG_SEARCH_VALUE="searchValue";e.FilterDialog.ARG_TITLE="title";e.FilterDialog.ARG_USAGE_TRACKING_CONSUMER="usageTrackingConsumer";e.FilterDialog.ARG_VARIABLE_NAME="variableName";e.FilterDialog.ARG_WORKSPACE="workspace";e.FilterDialog.DEFAULT_PROGRAM_NAME_DIMENSION="FilterDialogDimension";e.FilterDialog.DEFAULT_PROGRAM_NAME_HIERARCHY_CATALOG="FilterDialogHierarchyCatalog";e.FilterDialog.DEFAULT_PROGRAM_NAME_MEASURE_BASED_FILTER="FilterDialogMeasureBasedFilter";e.FilterDialog.DEFAULT_PROGRAM_NAME_USER_TEAM="FilterDialogUserTeam";e.FilterDialog.DEFAULT_PROGRAM_NAME_VARIABLE="FilterDialogVariable";e.FilterDialog.PARAM_ALWAYS_SHOW_SELECTION_CONTAINER="alwaysShowSelectionContainer";e.FilterDialog.PARAM_DEFAULT_VIEW_TYPE="defaultViewType";e.FilterDialog.PARAM_DIMENSION_DEFAULT_ATTRIBUTE_SELECTION="dimensionDefaultAttributeSelection";e.FilterDialog.PARAM_DIMENSION_TEXT_USAGE_TYPE="dimensionTextUsageType";e.FilterDialog.PARAM_DISPLAY_INFO="displayInfo";e.FilterDialog.PARAM_DISPLAY_PATTERN_RANGE="displayPatternRange";e.FilterDialog.PARAM_DISPLAY_PATTERN_VALUE="displayPatternValue";e.FilterDialog.PARAM_DYNAMIC_DATE_RANGE_MAX_YEARS="dynamicDateRangeMaxYears";e.FilterDialog.PARAM_EXCLUDE_BY_DEFAULT="excludeByDefault";e.FilterDialog.PARAM_HIDE_CUMULATED_MEASURES="hideCumulatedMeasures";e.FilterDialog.PARAM_HIERARCHY="hierarchy";e.FilterDialog.PARAM_LIST_CHILD_NODES_PAGE_SIZE="childNodesPageSize";e.FilterDialog.PARAM_LIST_PAGE_SIZE="lisPageSize";e.FilterDialog.PARAM_LIST_PRELOAD_PAGE_COUNT="listPreloadPageCount";e.FilterDialog.PARAM_OFFER_CLIPBOARD="offerClipboard";e.FilterDialog.PARAM_OFFER_DISPLAY_INFO_EXTENDED_SETTINGS="offerDisplayInfoExtendedSettings";e.FilterDialog.PARAM_OFFER_EQUAL_IN_RANGE_FILTER="offerEqualInRangeFilter";e.FilterDialog.PARAM_OFFER_EXCLUDE="offerExclude";e.FilterDialog.PARAM_OFFER_EXCLUDE_ADVANCED="offerExcludeAdvanced";e.FilterDialog.PARAM_OFFER_FUNCTIONAL_VALUES_VIEW="offerFunctionalValuesView";e.FilterDialog.PARAM_OFFER_HIERARCHY_CHANGE="offerHierarchyChange";e.FilterDialog.PARAM_OFFER_LIST_VIEW="offerListView";e.FilterDialog.PARAM_OFFER_NULL_IN_RANGE_FILTER="offerNullInRangeFilter";e.FilterDialog.PARAM_OFFER_RANGE_VIEW="offerRangeView";e.FilterDialog.PARAM_OFFER_READMODE_CHANGE="offerReadModeChange";e.FilterDialog.PARAM_OFFER_READMODE_EXTENDED_SETTINGS="offerReadModeExtendedSettings";e.FilterDialog.PARAM_READMODE="readMode";e.FilterDialog.PARAM_RESIZABLE="resizeable";e.FilterDialog.PARAM_SEARCH_SIZE="searchSize";e.FilterDialog.PARAM_SELECTION_MODE="selectionMode";e.FilterDialog.PARAM_SELECTION_REQUIRED="selectionRequired";e.FilterDialog.PARAM_SIMPLIFIED_SEARCH="simplifiedSearch";e.FilterDialog.PRG_DATA_DEFAULT_SELECTION="defaultSelection";e.FilterDialog.PRG_DATA_EXTERNAL_VALUEHELP_PROCESS="externalValueHelpProcess";e.FilterDialog.PRG_DATA_LISTENER_BEFORE_FILTER_CHANGE="beforeFilterChangeListener";e.FilterDialog.PRG_DATA_LISTENER_CLOSE="closeListener";e.FilterDialog.PRG_DATA_LISTENER_SELECTION_CHANGE="listenerSelectionChange";e.FilterDialog.PRG_DATA_MBF="measureBasedFilter";e.FilterDialog.PRG_DATA_VARIABLE="variable";e.FilterDialog.prototype.m_config=null;e.FilterDialog.prototype.getConfig=function(){return this.m_config};e.FilterDialog.prototype.getDefaultContainerSize=function(){if(this.getUiManager().getDeviceInfo().isMobile()){return e.UiSize.createMax()}return e.UiSize.createExt(e.UiCssLength.createExt(974,e.UiCssSizeUnit.PIXEL),e.UiCssLength.createExt(640,e.UiCssSizeUnit.PIXEL))};e.FilterDialog.prototype.getDimensionConfig=function(){return this.getContentType()===e.FilterDialogContentType.DIMENSION?this.m_config:null};e.FilterDialog.prototype.getHierarchyCatalogConfig=function(){return this.getContentType()===e.FilterDialogContentType.HIERARCHY_CATALOG?this.m_config:null};e.FilterDialog.prototype.getMeasureBasedFilterConfig=function(){return this.getContentType()===e.FilterDialogContentType.MEASURE_BASED_FILTER?this.m_config:null};e.FilterDialog.prototype.getUserTeamFilterConfig=function(){return this.getContentType()===e.FilterDialogContentType.USER_TEAM?this.m_config:null};e.FilterDialog.prototype.getVariableConfig=function(){return this.getContentType()===e.FilterDialogContentType.VARIABLE?this.m_config:null};e.FilterDialog.prototype.isResizeAllowed=function(){return e.notNull(this.m_config)&&this.m_config.isResizeable()};e.FilterDialog.prototype.prepareProgramMetadata=function(t){t.addParameter(e.FilterDialog.ARG_VARIABLE_NAME,"The name of the variable to open the dialog for (String)");t.addParameter(e.FilterDialog.ARG_DIMENSION_NAME,"The name of the dimension to open the dialog for (String)");t.addParameter(e.FilterDialog.ARG_MBF_MEMBER_NAME,"The name of the structure/dimension member to open the measure based filter dialog for (String)");t.addParameter(e.FilterDialog.ARG_USAGE_TRACKING_CONSUMER,"The consumer of the filter dialog, used for usage tracking (String)");t.addParameter(e.FilterDialog.ARG_OPEN_WITH_DYNAMIC_FILTER,"Whether the dialog should parse and update the dynamic filter (Boolean)");t.addParameter(e.FilterDialog.ARG_OPEN_WITH_VARIABLE_FILTER,"Whether the dialog should parse and update the variable filter (Boolean)");t.addParameter(e.FilterDialog.ARG_LAYERED_FILTER_NAME,"The name of a specific layered filter which should be parsed and updated by the dialog (String)");t.addParameter(e.FilterDialog.ARG_TITLE,"The title shown in the dialog header (String)");t.addParameter(e.FilterDialog.PARAM_SELECTION_MODE,"The name of the dialog UI table selection mode (String)");t.addParameter(e.FilterDialog.PARAM_SELECTION_REQUIRED,"Whether a selection is required (Boolean)");t.addParameter(e.FilterDialog.PARAM_RESIZABLE,"Whether the dialog should be resizeable (Boolean)");t.addParameter(e.FilterDialog.PARAM_ALWAYS_SHOW_SELECTION_CONTAINER,"Whether the selection list should always be visible in the dialog (Boolean)");t.addParameter(e.FilterDialog.PARAM_DISPLAY_PATTERN_VALUE,"A pattern for showing ID and Description of a value (String)");t.addParameter(e.FilterDialog.PARAM_DISPLAY_PATTERN_RANGE,"A pattern for showing a range with 2 values (String)");t.addParameter(e.FilterDialog.PARAM_OFFER_EXCLUDE,"Whether an exclude toggle should be available (Boolean)");t.addParameter(e.FilterDialog.PARAM_OFFER_EXCLUDE_ADVANCED,"Whether the possibility of adding included and excluded values to the selection should be available (Boolean)");t.addParameter(e.FilterDialog.PARAM_EXCLUDE_BY_DEFAULT,"Whether the exclude toggle should be activated by default. Only if offerExclude is on and no default selection is given. (Boolean)");t.addParameter(e.FilterDialog.PARAM_OFFER_LIST_VIEW,"Whether a list of members should be available for selection (Boolean)");t.addParameter(e.FilterDialog.PARAM_OFFER_RANGE_VIEW,"Whether it should be possible to view and define range values (Boolean)");t.addParameter(e.FilterDialog.PARAM_OFFER_FUNCTIONAL_VALUES_VIEW,"Whether functional values should be available for selection (Boolean)");t.addParameter(e.FilterDialog.PARAM_DEFAULT_VIEW_TYPE,"The default view to be shown if several views are offered (String)");t.addParameter(e.FilterDialog.PARAM_LIST_PAGE_SIZE,"The page size in a list view (Integer)");t.addParameter(e.FilterDialog.PARAM_LIST_PRELOAD_PAGE_COUNT,"The pages preloaded in a list view (Integer)");t.addParameter(e.FilterDialog.PARAM_LIST_CHILD_NODES_PAGE_SIZE,"The page size of children in a tree (Integer)");t.addParameter(e.FilterDialog.PARAM_DISPLAY_INFO,"The display info in a list, e.g. id or description (String)");t.addParameter(e.FilterDialog.PARAM_OFFER_DISPLAY_INFO_EXTENDED_SETTINGS,"Whether all available display info possibilities should be shown, e.g. 'Decription and ID' (Boolean)");t.addParameter(e.FilterDialog.PARAM_DIMENSION_TEXT_USAGE_TYPE,"The dimension text usage type to switch between resultset and dimension default text field (String)");t.addParameter(e.FilterDialog.PARAM_DIMENSION_DEFAULT_ATTRIBUTE_SELECTION,"The names of the dimension attributes selected by default as comma separated list (String)");t.addParameter(e.FilterDialog.PARAM_OFFER_CLIPBOARD,"Whether a clipboard for copy paste functionality should be available (Boolean)");t.addParameter(e.FilterDialog.PARAM_OFFER_HIERARCHY_CHANGE,"Whether changing the hierarchy should be available (Boolean)");t.addParameter(e.FilterDialog.PARAM_OFFER_READMODE_CHANGE,"Whether changing the readmode should be possible. Will automatically be possible if no readMode parameter is provided (Boolean)");t.addParameter(e.FilterDialog.PARAM_OFFER_READMODE_EXTENDED_SETTINGS,"Whether additional readmodes like BOOKED_AND_SPACE_AND_STATE should be available for selection (Boolean)");t.addParameter(e.FilterDialog.PARAM_READMODE,"The name of the initial used readmode of type OlapUiReadMode (String)");t.addParameter(e.FilterDialog.PARAM_HIERARCHY,"The name of the hierarchy used by default or empty string if flat presentation should be used (String)");t.addParameter(e.FilterDialog.PARAM_HIDE_CUMULATED_MEASURES,"Whether cumulated and calculation measures should be hidden (Boolean)");t.addParameter(e.FilterDialog.PARAM_SIMPLIFIED_SEARCH,"Whether the search should not offer any attributes but always just search on key and text (Boolean)");t.addParameter(e.FilterDialog.PARAM_SEARCH_SIZE,"The amount of values searched in a list view (Integer)");t.addParameter(e.FilterDialog.ARG_SEARCH_VALUE,"The default value for a search, executed at dialog startup (String)");t.addParameter(e.FilterDialog.PARAM_OFFER_EQUAL_IN_RANGE_FILTER,"Whether comparison operator EQUAL should be available in range view (Boolean)");t.addParameter(e.FilterDialog.PARAM_OFFER_NULL_IN_RANGE_FILTER,"Whether comparison operator IS_NULL should be available in range view (Boolean)");t.addParameter(e.FilterDialog.PARAM_DYNAMIC_DATE_RANGE_MAX_YEARS,"The max amount of years for look back and ahead in dynamic date ranges (Integer)");t.addParameter(e.FilterDialog.ARG_WORKSPACE,"The workspace Id (String)");t.addParameter(e.FilterDialog.ARG_HIDDEN_VALUES,"A comma separated list of values being hidden in the filter dialog (String)")};e.FilterDialog.prototype.processArguments=function(e){};e.FilterDialog.prototype.processConfiguration=function(t){let i=e.FilterDialogConfig.getArgs(this.getArguments(),t);this.m_config=e.FilterDialogConfig.create(i,this.getStartData(),this.getQueryManager(),this.getContentType());if(!this.m_config.isValid()){this.kill();throw e.XException.createIllegalArgumentException("Invalid filter dialog configuration!")}};e.FilterDialog.prototype.releaseObject=function(){e.DfOuDialogProgram.prototype.releaseObject.call(this);this.m_config=e.XObjectExt.release(this.m_config)};e.FilterDialog.prototype.setupProgram=function(){return null};e.OlapUiApiModule=function(){};e.OlapUiApiModule.prototype=new e.DfModule;e.OlapUiApiModule.prototype._ff_c="OlapUiApiModule";e.OlapUiApiModule.s_module=null;e.OlapUiApiModule.getInstance=function(){if(e.isNull(e.OlapUiApiModule.s_module)){e.DfModule.checkInitialized(e.UiModule.getInstance());e.DfModule.checkInitialized(e.UiProgramModule.getInstance());e.DfModule.checkInitialized(e.HorizonUiApiModule.getInstance());e.DfModule.checkInitialized(e.OlapDataProviderModule.getInstance());e.OlapUiApiModule.s_module=e.DfModule.startExt(new e.OlapUiApiModule);e.FilterDialogValueType.staticSetup();e.FilterDialogContentType.staticSetup();e.OuAnalyticalWidgetType.staticSetup();e.HuPluginRegistry.registerPluginByClass(e.XClass.create(e.OuDataProviderCommandPlugin));e.OuDataProviderActionCollectionRegistry.registerCollectionByClass(e.XClass.create(e.OuDataProviderOlapUiApiActionsCollection));e.DfModule.stopExt(e.OlapUiApiModule.s_module)}return e.OlapUiApiModule.s_module};e.OlapUiApiModule.prototype.getName=function(){return"ff8005.olap.ui.api"};e.OlapUiApiModule.getInstance();return e});
//# sourceMappingURL=ff8005.olap.ui.api.js.map