/*!
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.define(["sap/sac/df/firefly/ff3610.horizon.ui","sap/sac/df/firefly/ff3350.cell.engine.ui","sap/sac/df/firefly/ff3450.contextmenu.engine.ui"],function(e){"use strict";e.MenuEnginePluginDebugExampleActionRegistrationHelper=function(){};e.MenuEnginePluginDebugExampleActionRegistrationHelper.prototype=new e.XObject;e.MenuEnginePluginDebugExampleActionRegistrationHelper.prototype._ff_c="MenuEnginePluginDebugExampleActionRegistrationHelper";e.MenuEnginePluginDebugExampleActionRegistrationHelper.PANEL_PRESENTATION="Panel.Presentation";e.MenuEnginePluginDebugExampleActionRegistrationHelper.PANEL_PRESENTATION_DESCRIPTION="Panel.Presentation.Description";e.MenuEnginePluginDebugExampleActionRegistrationHelper.PANEL_PRESENTATION_DESCRIPTION_AND_ID="Panel.Presentation.DescriptionAndId";e.MenuEnginePluginDebugExampleActionRegistrationHelper.PANEL_PRESENTATION_ID="Panel.Presentation.Id";e.MenuEnginePluginDebugExampleActionRegistrationHelper.PANEL_PRESENTATION_ID_AND_DESCRIPTION="Panel.Presentation.IdAndDescription";e.MenuEnginePluginDebugExampleActionRegistrationHelper.PANEL_PRESENTATION_TOGGLE_DESCRIPTION="Panel.Presentation.Toggle.Description";e.MenuEnginePluginDebugExampleActionRegistrationHelper.PANEL_PRESENTATION_TOGGLE_ID="Panel.Presentation.Toggle.Id";e.MenuEnginePluginDebugExampleActionRegistrationHelper.PANEL_SELECTION="Panel.Selection";e.MenuEnginePluginDebugExampleActionRegistrationHelper.PANEL_SELECTION_A="Panel.Selection.A";e.MenuEnginePluginDebugExampleActionRegistrationHelper.PANEL_SELECTION_B="Panel.Selection.B";e.MenuEnginePluginDebugExampleActionRegistrationHelper.PANEL_SELECTION_C="Panel.Selection.C";e.MenuEnginePluginDebugExampleActionRegistrationHelper.PANEL_VISIBILITY_TOGGLE="Panel.Visibility.Toggle";e.MenuEnginePluginDebugExampleActionRegistrationHelper.create=function(){let t=new e.MenuEnginePluginDebugExampleActionRegistrationHelper;t.m_multiActionWrapper=e.CMEMultiActionWrapper.create();return t};e.MenuEnginePluginDebugExampleActionRegistrationHelper.prototype.m_multiActionWrapper=null;e.MenuEnginePluginDebugExampleActionRegistrationHelper.prototype.m_selectedOption=null;e.MenuEnginePluginDebugExampleActionRegistrationHelper.prototype.getWrapper=function(){return this.m_multiActionWrapper};e.MenuEnginePluginDebugExampleActionRegistrationHelper.prototype.releaseObject=function(){this.m_multiActionWrapper=e.XObjectExt.release(this.m_multiActionWrapper);e.XObject.prototype.releaseObject.call(this)};e.MenuEnginePluginDebugExampleActionRegistrationHelper.prototype.resolveMyCustomCarrierObject=function(t){let n=t.getSingleSubContext("MenuEngineDebug.Example.*");return e.isNull(n)?null:n.getCustomObject()};e.MenuEnginePluginDebugExampleActionRegistrationHelper.prototype.setupActions=function(t){let n=e.CMEFactory.createSelectionOption();n.setNameProvider(t=>e.MenuEnginePluginDebugExampleActionRegistrationHelper.PANEL_PRESENTATION_DESCRIPTION);n.setTextProvider(e=>"Description");this.m_multiActionWrapper.registerAction(e.MenuEnginePluginDebugExampleActionRegistrationHelper.PANEL_PRESENTATION_DESCRIPTION,n);let i=e.CMEFactory.createSelectionOption();i.setNameProvider(t=>e.MenuEnginePluginDebugExampleActionRegistrationHelper.PANEL_PRESENTATION_ID);i.setTextProvider(e=>"Id");this.m_multiActionWrapper.registerAction(e.MenuEnginePluginDebugExampleActionRegistrationHelper.PANEL_PRESENTATION_ID,i);let o=e.CMEFactory.createSelectionOption();o.setNameProvider(t=>e.MenuEnginePluginDebugExampleActionRegistrationHelper.PANEL_PRESENTATION_ID_AND_DESCRIPTION);o.setTextProvider(e=>"Id and Description");this.m_multiActionWrapper.registerAction(e.MenuEnginePluginDebugExampleActionRegistrationHelper.PANEL_PRESENTATION_ID_AND_DESCRIPTION,o);let l=e.CMEFactory.createSelectionOption();l.setNameProvider(t=>e.MenuEnginePluginDebugExampleActionRegistrationHelper.PANEL_PRESENTATION_DESCRIPTION_AND_ID);l.setTextProvider(e=>"Description and Id");this.m_multiActionWrapper.registerAction(e.MenuEnginePluginDebugExampleActionRegistrationHelper.PANEL_PRESENTATION_DESCRIPTION_AND_ID,l);let a=e.CMEFactory.createSingleSelectAction();a.setNameProvider(t=>e.MenuEnginePluginDebugExampleActionRegistrationHelper.PANEL_PRESENTATION);a.setTextProvider(e=>"Presentation Options");a.setEnabledProvider(e=>true);a.setOptionsRetriever(t=>{let a=e.XList.create();a.add(n);a.add(i);a.add(o);a.add(l);return a});a.setSelectionRetriever(e=>this.m_selectedOption);a.setSelectionConsumer((e,n)=>{this.m_selectedOption=n;t()});this.m_multiActionWrapper.registerAction(e.MenuEnginePluginDebugExampleActionRegistrationHelper.PANEL_PRESENTATION,a);let u=e.CMEFactory.createToggleAction();u.setNameProvider(t=>e.MenuEnginePluginDebugExampleActionRegistrationHelper.PANEL_PRESENTATION_TOGGLE_ID);u.setTextProvider(e=>"Id");u.setProvider(e=>this.m_selectedOption===i||this.m_selectedOption===o||this.m_selectedOption===l);u.setConsumer((l,a)=>{if(a.getBoolean()){if(e.isNull(this.m_selectedOption)||this.m_selectedOption===i){this.m_selectedOption=i}else{this.m_selectedOption=o}}else if(this.m_selectedOption===i||e.isNull(this.m_selectedOption)){this.m_selectedOption=null}else{this.m_selectedOption=n}t()});this.m_multiActionWrapper.registerAction(e.MenuEnginePluginDebugExampleActionRegistrationHelper.PANEL_PRESENTATION_TOGGLE_ID,u);u=e.CMEFactory.createToggleAction();u.setNameProvider(t=>e.MenuEnginePluginDebugExampleActionRegistrationHelper.PANEL_PRESENTATION_TOGGLE_DESCRIPTION);u.setTextProvider(e=>"Description");u.setProvider(e=>this.m_selectedOption===n||this.m_selectedOption===o||this.m_selectedOption===l);u.setConsumer((l,a)=>{if(a.getBoolean()){if(e.isNull(this.m_selectedOption)||this.m_selectedOption===n){this.m_selectedOption=n}else{this.m_selectedOption=o}}else if(this.m_selectedOption===n||e.isNull(this.m_selectedOption)){this.m_selectedOption=null}else{this.m_selectedOption=i}t()});this.m_multiActionWrapper.registerAction(e.MenuEnginePluginDebugExampleActionRegistrationHelper.PANEL_PRESENTATION_TOGGLE_DESCRIPTION,u);u=e.CMEFactory.createToggleAction();u.setNameProvider(t=>e.MenuEnginePluginDebugExampleActionRegistrationHelper.PANEL_VISIBILITY_TOGGLE);u.setTextProvider(e=>"Visible");u.setAvailableProvider(t=>{let n=this.resolveMyCustomCarrierObject(t);return e.notNull(n)});u.setProvider(t=>{let n=this.resolveMyCustomCarrierObject(t);return e.notNull(n)&&n.isVisible()});u.setConsumer((n,i)=>{let o=this.resolveMyCustomCarrierObject(n);if(e.notNull(o)){o.setVisible(i.getBoolean())}t()});this.m_multiActionWrapper.registerAction(e.MenuEnginePluginDebugExampleActionRegistrationHelper.PANEL_VISIBILITY_TOGGLE,u);let r=e.CMEFactory.createSelectionOption();r.setNameProvider(t=>e.MenuEnginePluginDebugExampleActionRegistrationHelper.PANEL_SELECTION_A);r.setTextProvider(e=>"A");r.setCustomObject(e.XStringValue.create("A"));this.m_multiActionWrapper.registerAction(e.MenuEnginePluginDebugExampleActionRegistrationHelper.PANEL_SELECTION_A,r);let g=e.CMEFactory.createSelectionOption();g.setNameProvider(t=>e.MenuEnginePluginDebugExampleActionRegistrationHelper.PANEL_SELECTION_B);g.setTextProvider(e=>"B");g.setCustomObject(e.XStringValue.create("B"));this.m_multiActionWrapper.registerAction(e.MenuEnginePluginDebugExampleActionRegistrationHelper.PANEL_SELECTION_B,g);let s=e.CMEFactory.createSelectionOption();s.setNameProvider(t=>e.MenuEnginePluginDebugExampleActionRegistrationHelper.PANEL_SELECTION_C);s.setTextProvider(e=>"C");s.setCustomObject(e.XStringValue.create("C"));this.m_multiActionWrapper.registerAction(e.MenuEnginePluginDebugExampleActionRegistrationHelper.PANEL_SELECTION_C,s);let p=e.XList.create();p.add(r);p.add(g);p.add(s);a=e.CMEFactory.createSingleSelectAction();a.setNameProvider(t=>e.MenuEnginePluginDebugExampleActionRegistrationHelper.PANEL_SELECTION);a.setTextProvider(e=>"Select Options");a.setAvailableProvider(t=>{let n=this.resolveMyCustomCarrierObject(t);return e.notNull(n)});a.setOptionsRetriever(e=>p);let m=t=>e.XStream.of(p).find(n=>e.XString.isEqual(t,n.getCustomObject().toString())).orElse(null);a.setSelectionRetriever(e=>{let t=this.resolveMyCustomCarrierObject(e);return m(t.getSelection())});a.setSelectionConsumer((n,i)=>{let o=this.resolveMyCustomCarrierObject(n);if(e.notNull(o)){o.setSelection(i.getCustomObject().toString())}t()});this.m_multiActionWrapper.registerAction(e.MenuEnginePluginDebugExampleActionRegistrationHelper.PANEL_SELECTION,a)};e.MenuEnginePluginDebugExampleObject=function(){};e.MenuEnginePluginDebugExampleObject.prototype=new e.XObject;e.MenuEnginePluginDebugExampleObject.prototype._ff_c="MenuEnginePluginDebugExampleObject";e.MenuEnginePluginDebugExampleObject.create=function(t,n){let i=new e.MenuEnginePluginDebugExampleObject;i.m_name=t;i.m_text=n;return i};e.MenuEnginePluginDebugExampleObject.prototype.m_name=null;e.MenuEnginePluginDebugExampleObject.prototype.m_selection=null;e.MenuEnginePluginDebugExampleObject.prototype.m_text=null;e.MenuEnginePluginDebugExampleObject.prototype.m_visible=false;e.MenuEnginePluginDebugExampleObject.prototype.getName=function(){return this.m_name};e.MenuEnginePluginDebugExampleObject.prototype.getSelection=function(){return this.m_selection};e.MenuEnginePluginDebugExampleObject.prototype.getText=function(){return this.m_text};e.MenuEnginePluginDebugExampleObject.prototype.isVisible=function(){return this.m_visible};e.MenuEnginePluginDebugExampleObject.prototype.setSelection=function(e){this.m_selection=e};e.MenuEnginePluginDebugExampleObject.prototype.setVisible=function(e){this.m_visible=e};e.HpLocalizationResolver=function(){};e.HpLocalizationResolver.prototype=new e.XObject;e.HpLocalizationResolver.prototype._ff_c="HpLocalizationResolver";e.HpLocalizationResolver.KEY_PREFIX="i18n[";e.HpLocalizationResolver.KEY_SUFFIX="]";e.HpLocalizationResolver.s_singletonInstance=null;e.HpLocalizationResolver.getInstance=function(){if(e.isNull(e.HpLocalizationResolver.s_singletonInstance)){let t=new e.HpLocalizationResolver;t.setup();e.HpLocalizationResolver.s_singletonInstance=t}return e.HpLocalizationResolver.s_singletonInstance};e.HpLocalizationResolver.prototype.resolve=function(t){if(e.XString.startsWith(t,e.HpLocalizationResolver.KEY_PREFIX)&&e.XString.endsWith(t,e.HpLocalizationResolver.KEY_SUFFIX)){let n=e.XString.size(e.HpLocalizationResolver.KEY_PREFIX);let i=e.XString.size(t)-e.XString.size(e.HpLocalizationResolver.KEY_SUFFIX);let o=e.XString.substring(t,n,i);return e.XLocalizationCenter.getCenter().getText(o)}return t};e.HpMenuEngineCommandPlugin=function(){};e.HpMenuEngineCommandPlugin.prototype=new e.XObject;e.HpMenuEngineCommandPlugin.prototype._ff_c="HpMenuEngineCommandPlugin";e.HpMenuEngineCommandPlugin.ACTION="Action";e.HpMenuEngineCommandPlugin.ADD_DATAPROVIDER_MENU_ACTION="AddDataproviderMenuAction";e.HpMenuEngineCommandPlugin.ADD_GLOBAL_MENU_ITEM_BY_ACTION_NAME="AddGlobalMenuItemByActionName";e.HpMenuEngineCommandPlugin.ADD_GLOBAL_MENU_ITEM_BY_STRUCTURE="AddGlobalMenuItemByStructure";e.HpMenuEngineCommandPlugin.ADD_MENU_ACTION="AddMenuAction";e.HpMenuEngineCommandPlugin.ATTACH_KEYBOARD_SHORTCUT_EVENTS="AttachKeyboardShortcutEvents";e.HpMenuEngineCommandPlugin.CHECK_HAS_MENU="CheckHasMenu";e.HpMenuEngineCommandPlugin.CLEAR_DYNAMIC_MENU_ACTIONS_PROVIDERS="ClearDynamicMenuActionsProviders";e.HpMenuEngineCommandPlugin.CLEAR_WIDGET_FROM_CACHE="ClearWidgetFromCache";e.HpMenuEngineCommandPlugin.CONFIG="Config";e.HpMenuEngineCommandPlugin.ENABLED="Enabled";e.HpMenuEngineCommandPlugin.EXTENSION="Extension";e.HpMenuEngineCommandPlugin.GET_BASE_CONFIGURATION="GetBaseConfiguration";e.HpMenuEngineCommandPlugin.ICON="Icon";e.HpMenuEngineCommandPlugin.ITEMS="Items";e.HpMenuEngineCommandPlugin.LOAD_BASE_CONFIGURATION="LoadBaseConfiguration";e.HpMenuEngineCommandPlugin.LOAD_PLUGIN_CONFIGURATION="LoadPluginConfiguration";e.HpMenuEngineCommandPlugin.MENU_ACTIONS="MenuActions";e.HpMenuEngineCommandPlugin.MENU_EXTENSIONS="MenuExtensions";e.HpMenuEngineCommandPlugin.NAME="Name";e.HpMenuEngineCommandPlugin.OPERATION="Operation";e.HpMenuEngineCommandPlugin.OPERATION_APPEND_INTO="AppendInto";e.HpMenuEngineCommandPlugin.PLUGIN_NAME="MenuEngineCommand";e.HpMenuEngineCommandPlugin.REFERENCE="Reference";e.HpMenuEngineCommandPlugin.REFERENCE_ROOT="$Root";e.HpMenuEngineCommandPlugin.REGISTER_DYNAMIC_MENU_ACTIONS_PROVIDER="RegisterDynamicMenuActionsProvider";e.HpMenuEngineCommandPlugin.REGISTER_MENU_ACTIONS="RegisterMenuActions";e.HpMenuEngineCommandPlugin.RETRIEVE_AVAILABLE_ACTIONS="RetrieveAvailableActions";e.HpMenuEngineCommandPlugin.TEXT="Text";e.HpMenuEngineCommandPlugin.TRIGGER="Trigger";e.HpMenuEngineCommandPlugin.UNREGISTER_DYNAMIC_MENU_ACTIONS_PROVIDER="UnregisterDynamicMenuActionsProvider";e.HpMenuEngineCommandPlugin.UPDATE_MENU="UpdateMenu";e.HpMenuEngineCommandPlugin.UPDATE_TOOLBAR="UpdateToolbar";e.HpMenuEngineCommandPlugin.VISIBLE="Visible";e.HpMenuEngineCommandPlugin.prototype.m_menuMapper=null;e.HpMenuEngineCommandPlugin.prototype.m_menuTreeGenerator=null;e.HpMenuEngineCommandPlugin.prototype.checkHasMenu=function(t){let n=(e,n)=>{this.checkMenuInternal(t,e,n)};return e.XPromise.create(n)};e.HpMenuEngineCommandPlugin.prototype.checkMenuInternal=function(t,n,i){let o=t;this.m_menuMapper.checkMenu(o.getLocalContext(),o.getUiContext(),t=>{n(e.XBooleanValue.create(e.notNull(t)&&t.hasEffectiveSubItems()))})};e.HpMenuEngineCommandPlugin.prototype.clearWidgetFromCache=function(e){this.m_menuMapper.getUiCache().releaseUiItem(e);return null};e.HpMenuEngineCommandPlugin.prototype.destroyPlugin=function(){this.m_menuMapper=e.XObjectExt.release(this.m_menuMapper);this.m_menuTreeGenerator=e.XObjectExt.release(this.m_menuTreeGenerator)};e.HpMenuEngineCommandPlugin.prototype.getName=function(){return e.HpMenuEngineCommandPlugin.PLUGIN_NAME};e.HpMenuEngineCommandPlugin.prototype.getOrCreateMenuMapper=function(){if(e.isNull(this.m_menuTreeGenerator)){this.m_menuTreeGenerator=e.CMEFactory.createMenuTreeGenerator()}if(e.isNull(this.m_menuMapper)){this.m_menuMapper=e.CmeUiGenericMenuMapper.create(this.m_menuTreeGenerator)}return this.m_menuMapper};e.HpMenuEngineCommandPlugin.prototype.getPluginCategory=function(){return e.HuPluginCategory.OTHER};e.HpMenuEngineCommandPlugin.prototype.getPluginType=function(){return e.HuPluginType.COMMAND};e.HpMenuEngineCommandPlugin.prototype.onConfigurationChanged=function(e){};e.HpMenuEngineCommandPlugin.prototype.processConfiguration=function(t){if(e.notNull(t)){this.getOrCreateMenuMapper().setConfiguration(t.getConfigurationStructure())}};e.HpMenuEngineCommandPlugin.prototype.registerActions=function(t){t.registerAction(e.HpMenuEngineCommandPlugin.GET_BASE_CONFIGURATION,(t,n)=>e.XPromise.resolve(this.getOrCreateMenuMapper().getConfiguration()));t.registerAction(e.HpMenuEngineCommandPlugin.LOAD_BASE_CONFIGURATION,(e,t)=>{this.getOrCreateMenuMapper().setConfiguration(t);return null});t.registerAction(e.HpMenuEngineCommandPlugin.LOAD_PLUGIN_CONFIGURATION,(t,n)=>{let i=n;this.m_menuMapper.loadPluginMenuConfiguration(i.getStringByKey(e.HpMenuEngineCommandPlugin.NAME),i.getStructureByKey(e.HpMenuEngineCommandPlugin.CONFIG));return null});t.registerAction(e.HpMenuEngineCommandPlugin.REGISTER_MENU_ACTIONS,(e,t)=>{this.m_menuTreeGenerator.registerActions(t);return null});t.registerAction(e.HpMenuEngineCommandPlugin.REGISTER_DYNAMIC_MENU_ACTIONS_PROVIDER,(e,t)=>{let n=t;this.m_menuTreeGenerator.registerDynamicActionsProvider(n.getFirstObject().getString(),n.getSecondObject());return null});t.registerAction(e.HpMenuEngineCommandPlugin.UNREGISTER_DYNAMIC_MENU_ACTIONS_PROVIDER,(e,t)=>{this.m_menuTreeGenerator.unRegisterDynamicActionsProvider(t.getString());return null});t.registerAction(e.HpMenuEngineCommandPlugin.CLEAR_DYNAMIC_MENU_ACTIONS_PROVIDERS,(e,t)=>{this.m_menuTreeGenerator.clearDynamicActionsProviders();return null});t.registerAction(e.HpMenuEngineCommandPlugin.CHECK_HAS_MENU,(e,t)=>this.checkHasMenu(t));t.registerAction(e.HpMenuEngineCommandPlugin.UPDATE_MENU,(e,t)=>this.updateMenu(t));t.registerAction(e.HpMenuEngineCommandPlugin.UPDATE_TOOLBAR,(e,t)=>this.updateToolbar(t));t.registerAction(e.HpMenuEngineCommandPlugin.ATTACH_KEYBOARD_SHORTCUT_EVENTS,(e,t)=>{let n=t;this.m_menuMapper.registerShortcuts(n.getFirstObject(),n.getSecondObject());return null});t.registerAction(e.HpMenuEngineCommandPlugin.RETRIEVE_AVAILABLE_ACTIONS,(t,n)=>e.XPromise.create((e,t)=>{e(this.m_menuTreeGenerator.getRegisteredActions())}));t.registerAction(e.HpMenuEngineCommandPlugin.ADD_GLOBAL_MENU_ITEM_BY_ACTION_NAME,(t,n)=>{let i=n;let o=e.PrFactory.createStructure();let l=o.putNewList(e.HpMenuEngineCommandPlugin.MENU_EXTENSIONS).addNewStructure().putNewList(e.HpMenuEngineCommandPlugin.EXTENSION).addNewStructure();l.putString(e.HpMenuEngineCommandPlugin.OPERATION,e.HpMenuEngineCommandPlugin.OPERATION_APPEND_INTO);l.putString(e.HpMenuEngineCommandPlugin.REFERENCE,e.HpMenuEngineCommandPlugin.REFERENCE_ROOT);l.putNewList(e.HpMenuEngineCommandPlugin.ITEMS).addNewStructure().putString(e.HpMenuEngineCommandPlugin.ACTION,i.getString());this.m_menuMapper.loadPluginMenuConfiguration(i.getString(),o);return null});t.registerAction(e.HpMenuEngineCommandPlugin.ADD_GLOBAL_MENU_ITEM_BY_STRUCTURE,(t,n)=>{let i=n;let o=e.PrFactory.createStructure();let l=o.putNewList(e.HpMenuEngineCommandPlugin.MENU_EXTENSIONS).addNewStructure().putNewList(e.HpMenuEngineCommandPlugin.EXTENSION).addNewStructure();l.putString(e.HpMenuEngineCommandPlugin.OPERATION,e.HpMenuEngineCommandPlugin.OPERATION_APPEND_INTO);l.putString(e.HpMenuEngineCommandPlugin.REFERENCE,e.HpMenuEngineCommandPlugin.REFERENCE_ROOT);l.putNewList(e.HpMenuEngineCommandPlugin.ITEMS).add(i);let a=i.getStringByKeyExt(e.HpMenuEngineCommandPlugin.NAME,i.getStringByKey(e.HpMenuEngineCommandPlugin.ACTION));this.m_menuMapper.loadPluginMenuConfiguration(a,o);return null});t.registerAction(e.HpMenuEngineCommandPlugin.ADD_DATAPROVIDER_MENU_ACTION,(t,n)=>{let i=n;let o=e.PrFactory.createStructure();o.putNewList(e.HpMenuEngineCommandPlugin.MENU_ACTIONS).add(i);this.m_menuMapper.loadPluginMenuConfiguration(i.getStringByKey(e.HpMenuEngineCommandPlugin.NAME),o);return null});t.registerAction(e.HpMenuEngineCommandPlugin.ADD_MENU_ACTION,(t,n)=>{if(e.notNull(n)){let e=n;this.registerMenuAction(e);return null}return e.XPromise.reject(e.XError.create("Missing or invalid paramater"))});t.registerAction(e.HpMenuEngineCommandPlugin.CLEAR_WIDGET_FROM_CACHE,(e,t)=>this.clearWidgetFromCache(t))};e.HpMenuEngineCommandPlugin.prototype.registerMenuAction=function(e){let t=e.getFirstObject();let n=e.getSecondObject();this.m_menuTreeGenerator.registerAction(t.getString(),n)};e.HpMenuEngineCommandPlugin.prototype.setupPlugin=function(e){this.getOrCreateMenuMapper();return null};e.HpMenuEngineCommandPlugin.prototype.updateMenu=function(t){let n=(e,n)=>{this.updateMenuInternal(t,e,n)};return e.XPromise.create(n)};e.HpMenuEngineCommandPlugin.prototype.updateMenuInternal=function(t,n,i){let o=t.getReferenceControl();let l=(i,l)=>{let a=e.notNull(i)&&e.notNull(l);if(a){if(t.getActionBeforeOpen()!==null){t.getActionBeforeOpen()()}if(t.getActionAfterClose()!==null){l.registerOnClose(e.UiLambdaCloseListener.create(n=>{let i=t.getActionAfterClose();if(e.notNull(i)){i()}}))}if(e.notNull(o)){l.openAt(o)}else{l.openAtPosition(t.getXCoordinate(),t.getYCoordinate())}}n(e.XBooleanValue.create(a))};let a=t.getContextAccess();this.m_menuMapper.createContextMenu(t.getGenesis(),a.getLocalContext(),a.getUiContext(),l)};e.HpMenuEngineCommandPlugin.prototype.updateToolbar=function(e){let t=e.getContextAccess();this.m_menuMapper.populateToolbar(e.getToolbarWidget(),t.getLocalContext(),t.getUiContext());return null};e.HpSideNavigationI18n=function(){};e.HpSideNavigationI18n.prototype=new e.DfXLocalizationProvider;e.HpSideNavigationI18n.prototype._ff_c="HpSideNavigationI18n";e.HpSideNavigationI18n.I18N_SN_COLLAPSE="I18N_SN_COLLAPSE";e.HpSideNavigationI18n.I18N_SN_EXPAND="I18N_SN_EXPAND";e.HpSideNavigationI18n.LOCAL_NAME="SideNavigationI18n";e.HpSideNavigationI18n.getLocalization=function(){return e.XLocalizationCenter.getCenter().getLocalizationProviderByName(e.HpSideNavigationI18n.LOCAL_NAME)};e.HpSideNavigationI18n.staticSetup=function(){let t=new e.HpSideNavigationI18n;t.setupProvider(e.HpSideNavigationI18n.LOCAL_NAME,true);t.addText(e.HpSideNavigationI18n.I18N_SN_EXPAND,"Expand");t.addComment(e.HpSideNavigationI18n.I18N_SN_EXPAND,"#XTOL: Expands the side navigation");t.addText(e.HpSideNavigationI18n.I18N_SN_COLLAPSE,"Collapse");t.addComment(e.HpSideNavigationI18n.I18N_SN_COLLAPSE,"#XTOL: Collapses the side navigation");return t};e.HpTextEditorPlugin=function(){};e.HpTextEditorPlugin.prototype=new e.XObject;e.HpTextEditorPlugin.prototype._ff_c="HpTextEditorPlugin";e.HpTextEditorPlugin.DATA_STORAGE_VALUE_KEY="codeEditorValue";e.HpTextEditorPlugin.PLUGIN_NAME="HorizonTextEditor";e.HpTextEditorPlugin.prototype.m_codeEditor=null;e.HpTextEditorPlugin.prototype.m_codeType=null;e.HpTextEditorPlugin.prototype.m_colorTheme=null;e.HpTextEditorPlugin.prototype.m_controller=null;e.HpTextEditorPlugin.prototype.m_initialText=null;e.HpTextEditorPlugin.prototype.m_persistEditorContent=false;e.HpTextEditorPlugin.prototype._getController=function(){return this.m_controller};e.HpTextEditorPlugin.prototype._handleLiveChange=function(t){if(this.m_persistEditorContent){let n=t.getParameters().getStringByKeyExt(e.UiEventParams.PARAM_VALUE,this.m_codeEditor.getValue());if(!e.XString.isEqual(this.m_initialText,n)){this._getController().getDataStorage().putString(e.HpTextEditorPlugin.DATA_STORAGE_VALUE_KEY,n)}}};e.HpTextEditorPlugin.prototype.buildPluginUi=function(t){this.m_codeEditor=t.newRoot(e.UiType.CODE_EDITOR);this.m_codeEditor.useMaxSpace();this.m_codeEditor.setValue(this.m_initialText);this.m_codeEditor.setCodeType(this.m_codeType);this.m_codeEditor.setColorTheme(this.m_colorTheme);this.m_codeEditor.registerOnFileDrop(e.UiLambdaFileDropListener.create(t=>{let n=t.getFileContentString();if(e.XStringUtils.isNotNullAndNotEmpty(n)){this.m_codeEditor.setValue(n)}}));this.m_codeEditor.registerOnLiveChange(e.UiLambdaLiveChangeListener.create(this._handleLiveChange.bind(this)));this.m_codeEditor.focus()};e.HpTextEditorPlugin.prototype.destroyPlugin=function(){this.m_codeEditor=e.XObjectExt.release(this.m_codeEditor);this.m_controller=null};e.HpTextEditorPlugin.prototype.didBecameHidden=function(){};e.HpTextEditorPlugin.prototype.didBecameVisible=function(){};e.HpTextEditorPlugin.prototype.getName=function(){return e.HpTextEditorPlugin.PLUGIN_NAME};e.HpTextEditorPlugin.prototype.getPluginCategory=function(){return e.HuPluginCategory.SYSTEM};e.HpTextEditorPlugin.prototype.getPluginType=function(){return e.HuPluginType.COMPONENT};e.HpTextEditorPlugin.prototype.onConfigurationChanged=function(e){};e.HpTextEditorPlugin.prototype.onResize=function(e,t){};e.HpTextEditorPlugin.prototype.processConfiguration=function(e){this.m_initialText=e.getStringByKey("text");this.m_codeType=e.getStringByKeyExt("codeType","text");this.m_colorTheme=e.getStringByKey("colorTheme");this.m_persistEditorContent=e.getBooleanByKeyExt("persistEditorContent",false)};e.HpTextEditorPlugin.prototype.setupPlugin=function(t){this.m_controller=t;if(this.m_persistEditorContent){this.m_initialText=t.getDataStorage().getStringByKeyExt(e.HpTextEditorPlugin.DATA_STORAGE_VALUE_KEY,this.m_initialText)}return null};e.HpExpandableListDocumentPlugin=function(){};e.HpExpandableListDocumentPlugin.prototype=new e.HuDfDocumentPlugin;e.HpExpandableListDocumentPlugin.prototype._ff_c="HpExpandableListDocumentPlugin";e.HpExpandableListDocumentPlugin.CONFIG="config";e.HpExpandableListDocumentPlugin.ENABLED="enabled";e.HpExpandableListDocumentPlugin.ICON="icon";e.HpExpandableListDocumentPlugin.ITEMS_AGGREGATION="items";e.HpExpandableListDocumentPlugin.ON_PRESS_NOTIFICATION_NAME="pressNotificationName";e.HpExpandableListDocumentPlugin.PLUGIN_NAME="ExpandableListDocument";e.HpExpandableListDocumentPlugin.POPOVER_TEXT="popoverText";e.HpExpandableListDocumentPlugin.PROP_CSS_CLASS="cssClass";e.HpExpandableListDocumentPlugin.PROP_DESCRIPTION="description";e.HpExpandableListDocumentPlugin.PROP_EXPANDED="expanded";e.HpExpandableListDocumentPlugin.PROP_PLUGIN="plugin";e.HpExpandableListDocumentPlugin.SET_ENABLED_NOTIFICATION_NAME="enabledNotificationName";e.HpExpandableListDocumentPlugin.SET_PANEL_VISIBILITY_NOTIFICATION_NAME="com.sap.ff.ExpandableListDocument.Notification.setPanelVisibility";e.HpExpandableListDocumentPlugin.SET_POPOVER_TEXT_NOTIFICATION_NAME="setPopoverTextNotificationName";e.HpExpandableListDocumentPlugin.SET_VISIBILITY_NOTIFICATION_NAME="visibilityNotificationName";e.HpExpandableListDocumentPlugin.TOOLBAR_BUTTONS="toolbarButtons";e.HpExpandableListDocumentPlugin.TOOLTIP="tooltip";e.HpExpandableListDocumentPlugin.VISIBILITY_NOTIFICATION_DATA_PLUGIN_NAME="com.sap.ff.ExpandableListDocument.NotificationData.pluginName";e.HpExpandableListDocumentPlugin.VISIBILITY_NOTIFICATION_DATA_VISIBLE="com.sap.ff.ExpandableListDocument.NotificationData.visible";e.HpExpandableListDocumentPlugin.VISIBLE="visible";e.HpExpandableListDocumentPlugin.prototype.m_layout=null;e.HpExpandableListDocumentPlugin.prototype.m_observerIds=null;e.HpExpandableListDocumentPlugin.prototype.m_pluginPanels=null;e.HpExpandableListDocumentPlugin.prototype.m_scroll=null;e.HpExpandableListDocumentPlugin.prototype._addToolbarButton=function(t,n){let i=n.asStructure();if(e.notNull(i)){let n=i.getStringByKey(e.HpExpandableListDocumentPlugin.ICON);let o=i.getStringByKey(e.HpExpandableListDocumentPlugin.TOOLTIP);let l=i.getStringByKey(e.HpExpandableListDocumentPlugin.SET_VISIBILITY_NOTIFICATION_NAME);let a=i.getStringByKey(e.HpExpandableListDocumentPlugin.SET_ENABLED_NOTIFICATION_NAME);let u=i.getStringByKey(e.HpExpandableListDocumentPlugin.ON_PRESS_NOTIFICATION_NAME);let r=i.getStringByKey(e.HpExpandableListDocumentPlugin.SET_POPOVER_TEXT_NOTIFICATION_NAME);let g=e.UtInfoButtonWidget.create(this.getController().getGenesis(),n,o);t.addItem(g.getView());let s=this.getController().getLocalNotificationCenter();if(e.XStringUtils.isNotNullAndNotEmpty(u)){g.registerOnPress(e.UiLambdaPressListener.create(e=>{s.postNotificationWithName(u,null)}))}if(e.XStringUtils.isNotNullAndNotEmpty(l)){let t=s.addObserverForName(l,t=>{g.setVisible(t.getBooleanByKey(e.HpExpandableListDocumentPlugin.VISIBLE))});this.m_observerIds.add(t)}if(e.XStringUtils.isNotNullAndNotEmpty(a)){let t=s.addObserverForName(a,t=>{g.setEnabled(t.getBooleanByKey(e.HpExpandableListDocumentPlugin.ENABLED))});this.m_observerIds.add(t)}if(e.XStringUtils.isNotNullAndNotEmpty(r)){let t=s.addObserverForName(r,t=>{let n=t.getStringByKey(e.HpExpandableListDocumentPlugin.POPOVER_TEXT);g.setPopoverText(n);g.setEnabled(e.XStringUtils.isNullOrEmpty(n))});this.m_observerIds.add(t)}}};e.HpExpandableListDocumentPlugin.prototype._createPluginPanel=function(t,n,i,o,l){let a=this.m_layout.addNewItemOfType(e.UiType.PANEL);a.addCssClass("ffExpandableListPanel");a.addCssClass(e.XStringUtils.concatenate3("ffExpandableListPanel","-",t));a.addCssClass(l);a.setExpandable(true);a.setExpanded(o);let u=a.setNewHeaderToolbar();u.removeAttribute(e.UtUi5AttributeConstants.FAST_NAV_GROUP);u.setMinHeight(e.UiCssLength.create("2.5rem"));let r=u.addNewItemOfType(e.UiType.TITLE);r.setTitleStyle(e.UiTitleLevel.H_6);r.setTitleLevel(e.UiTitleLevel.H_6);r.setText(n);u.addNewItemOfType(e.UiType.SPACER);e.XCollectionUtils.forEach(i,e=>{this._addToolbarButton(u,e)});return a};e.HpExpandableListDocumentPlugin.prototype.addPanelPlugins=function(){let t=this.getConfiguration();let n=t.getListByKey(e.HpExpandableListDocumentPlugin.ITEMS_AGGREGATION);for(let t=0;t<n.size();t++){let i=n.getStructureAt(t);let o=i.getStringByKey(e.HpExpandableListDocumentPlugin.PROP_PLUGIN);let l=i.getStringByKey(e.HpExpandableListDocumentPlugin.PROP_DESCRIPTION);let a=i.getListByKey(e.HpExpandableListDocumentPlugin.TOOLBAR_BUTTONS);let u=i.getBooleanByKey(e.HpExpandableListDocumentPlugin.PROP_EXPANDED);let r=i.getStructureByKey(e.HpExpandableListDocumentPlugin.CONFIG);let g=i.getStringByKey(e.HpExpandableListDocumentPlugin.PROP_CSS_CLASS);let s=this._createPluginPanel(o,l,a,u,g);this.m_pluginPanels.put(o,s);this.getController().addNewComponentPlugin(o,r,null).onThen(e=>{let t=this.getController().getPluginView(e);s.setContent(t)})}let i=this.getController().getLocalNotificationCenter().addObserverForName(e.HpExpandableListDocumentPlugin.SET_PANEL_VISIBILITY_NOTIFICATION_NAME,t=>{let n=t.getStringByKey(e.HpExpandableListDocumentPlugin.VISIBILITY_NOTIFICATION_DATA_PLUGIN_NAME);let i=this.m_pluginPanels.getByKey(n);if(e.notNull(i)){let n=t.getBooleanByKeyExt(e.HpExpandableListDocumentPlugin.VISIBILITY_NOTIFICATION_DATA_VISIBLE,true);i.setVisible(n)}});this.m_observerIds.add(i)};e.HpExpandableListDocumentPlugin.prototype.destroyPlugin=function(){let t=this.getController().getLocalNotificationCenter();e.XCollectionUtils.forEach(this.m_observerIds,t.removeObserverByUuid.bind(t));this.m_observerIds=e.XObjectExt.release(this.m_observerIds);this.m_layout=e.XObjectExt.release(this.m_layout);this.m_scroll=e.XObjectExt.release(this.m_scroll);e.XCollectionUtils.releaseEntriesFromCollection(this.m_pluginPanels);this.m_pluginPanels=e.XObjectExt.release(this.m_pluginPanels);e.HuDfDocumentPlugin.prototype.destroyPlugin.call(this)};e.HpExpandableListDocumentPlugin.prototype.getAutoLayoutConfiguration=function(){let t=e.PrFactory.createStructure();t.putString("type",e.HuLayoutType.SINGLE_PLUGIN.getName());return t};e.HpExpandableListDocumentPlugin.prototype.getPluginCategory=function(){return e.HuPluginCategory.SYSTEM};e.HpExpandableListDocumentPlugin.prototype.getPluginName=function(){return e.HpExpandableListDocumentPlugin.PLUGIN_NAME};e.HpExpandableListDocumentPlugin.prototype.layoutDocument=function(t){let n=t.getGenesis();this.m_scroll=n.newControl(e.UiType.SCROLL_CONTAINER);this.m_scroll.useMaxSpace();this.m_layout=this.m_scroll.setNewContent(e.UiType.FLEX_LAYOUT);this.m_layout.setDirection(e.UiFlexDirection.COLUMN);this.getController().setRoot(this.m_scroll);this.addPanelPlugins()};e.HpExpandableListDocumentPlugin.prototype.setupPlugin=function(t){e.HuDfDocumentPlugin.prototype.setupPlugin.call(this,t);this.m_observerIds=e.XList.create();this.m_pluginPanels=e.XHashMapByString.create();return null};e.HpSideNavigationDocumentPlugin=function(){};e.HpSideNavigationDocumentPlugin.prototype=new e.HuDfDocumentPlugin;e.HpSideNavigationDocumentPlugin.prototype._ff_c="HpSideNavigationDocumentPlugin";e.HpSideNavigationDocumentPlugin.ADD_HEADER="addHeader";e.HpSideNavigationDocumentPlugin.CLOSE_CMD_FIELD="close-command-field";e.HpSideNavigationDocumentPlugin.CONFIG="config";e.HpSideNavigationDocumentPlugin.CONFIG_POSITION="position";e.HpSideNavigationDocumentPlugin.CONFIG_POSITION_LEFT="left";e.HpSideNavigationDocumentPlugin.CONFIG_POSITION_RIGHT="right";e.HpSideNavigationDocumentPlugin.DEFAULT_ICON="hello-world";e.HpSideNavigationDocumentPlugin.DESCRIPTION="description";e.HpSideNavigationDocumentPlugin.ICON="icon";e.HpSideNavigationDocumentPlugin.ITEMS_AGGREGATION="items";e.HpSideNavigationDocumentPlugin.NOTIFICATION_CHANGE_PANEL_VISIBILITY="com.sap.ff.SideNavigationDocument.Notification.changePanelVisibility";e.HpSideNavigationDocumentPlugin.NOTIFICATION_DATA_CONSUMER="com.sap.ff.SideNavigationDocument.NotificationData.consumer";e.HpSideNavigationDocumentPlugin.NOTIFICATION_DATA_PANEL_KEY="com.sap.ff.SideNavigationDocument.NotificationData.panelKey";e.HpSideNavigationDocumentPlugin.NOTIFICATION_DATA_PANEL_VISIBILITY="com.sap.ff.SideNavigationDocument.NotificationData.panelVisibility";e.HpSideNavigationDocumentPlugin.NOTIFICATION_SET_PANEL_STATE_CHANGE_CONSUMER="com.sap.ff.SideNavigationDocument.Notification.setPanelStateChangeConsumer";e.HpSideNavigationDocumentPlugin.OPEN_CMD_FIELD="open-command-field";e.HpSideNavigationDocumentPlugin.PANEL_STATE_OPEN_PANELS_KEY="OpenPanels";e.HpSideNavigationDocumentPlugin.PLUGIN="plugin";e.HpSideNavigationDocumentPlugin.PLUGIN_NAME="SideNavigationDocument";e.HpSideNavigationDocumentPlugin.SIDE_NAV_DEFAULT_WIDTH="58px";e.HpSideNavigationDocumentPlugin.SIDE_NAV_WIDTH_IN_PX=58;e.HpSideNavigationDocumentPlugin.prototype.m_changePanelVisibilityObserverId=null;e.HpSideNavigationDocumentPlugin.prototype.m_genesis=null;e.HpSideNavigationDocumentPlugin.prototype.m_lastOpenedPanelKey=null;e.HpSideNavigationDocumentPlugin.prototype.m_layout=null;e.HpSideNavigationDocumentPlugin.prototype.m_navList=null;e.HpSideNavigationDocumentPlugin.prototype.m_navListItemsMap=null;e.HpSideNavigationDocumentPlugin.prototype.m_panelContainer=null;e.HpSideNavigationDocumentPlugin.prototype.m_panelStateChangeConsumer=null;e.HpSideNavigationDocumentPlugin.prototype.m_panelStateChangeObserverId=null;e.HpSideNavigationDocumentPlugin.prototype.m_panels=null;e.HpSideNavigationDocumentPlugin.prototype.m_sideNavigation=null;e.HpSideNavigationDocumentPlugin.prototype._addPanelPlugins=function(){let t=this.getConfiguration();let n=t.getListByKey(e.HpSideNavigationDocumentPlugin.ITEMS_AGGREGATION);let i=e.XPromiseList.create();for(let t=0;t<n.size();t++){let o=t;let l=n.getStructureAt(t);let a=l.getStringByKey(e.HpSideNavigationDocumentPlugin.ICON);let u=e.XStringUtils.isNotNullAndNotEmpty(a)?a:e.HpSideNavigationDocumentPlugin.DEFAULT_ICON;let r=l.getStringByKey(e.HpSideNavigationDocumentPlugin.DESCRIPTION);let g=e.HpLocalizationResolver.getInstance().resolve(r);let s=l.getStringByKey(e.HpSideNavigationDocumentPlugin.PLUGIN);let p=l.getBooleanByKey(e.HpSideNavigationDocumentPlugin.ADD_HEADER);let m=l.getStructureByKey(e.HpSideNavigationDocumentPlugin.CONFIG);let E=this.getController().addNewComponentPlugin(s,m,null);let c=E.onThenPromise(e=>{let t=this.getController().getPluginView(e);return this._createNavListItem(t,s,p,u,g,o)}).onCatchExt(e=>{this.getController().addErrorMessage("Error","Side navigation error",e.getText());return null});i.add(c)}let o=e.XPromise.allSettled(i);o.onThen(t=>{for(let t=0;t<this.m_navListItemsMap.size();t++){let n=this.m_navListItemsMap.getByKey(e.XInteger.convertToString(t));if(e.notNull(n)){this.m_navList.addItem(n)}}})};e.HpSideNavigationDocumentPlugin.prototype._buildNavigationList=function(){this.m_navList=this.m_sideNavigation.setNewNavList();this.m_navList.addCssClass("ffGdsPanelSideNavigation");let t=this.m_navList.addNewItem();this._updateOverviewIcon();t.setTarget(null);t.setKey("OverviewPanel");t.registerOnSelect(e.UiLambdaSelectListener.create(e=>{let t=this._getLastOpenedPanel();this._togglePanel(t)}))};e.HpSideNavigationDocumentPlugin.prototype._buildPanelContainer=function(){this.m_panelContainer=this.m_layout.addNewItemOfType(e.UiType.FLEX_LAYOUT);this.m_panelContainer.setDirection(e.UiFlexDirection.ROW);this.m_panelContainer.useMaxHeight();this.m_panelContainer.setFlex("auto");this.m_panelContainer.setOverflow(e.UiOverflow.HIDDEN);this.m_panelContainer.setBorderStyle(e.UiBorderStyle.SOLID);if(this.m_layout.getDirection()===e.UiFlexDirection.ROW_REVERSE){this.m_panelContainer.setBorderWidth(e.UiCssBoxEdges.create("0px 1px 0px 0px"))}else{this.m_panelContainer.setBorderWidth(e.UiCssBoxEdges.create("0px 0px 0px 1px"))}this.m_panelContainer.setBorderColor(e.UtStyles.LIGHT_GRAY_COLOR)};e.HpSideNavigationDocumentPlugin.prototype._buildSideNavigation=function(){this.m_sideNavigation=this.m_layout.addNewItemOfType(e.UiType.SIDE_NAVIGATION);this.m_sideNavigation.useMaxHeight();this.m_sideNavigation.addCssClass("ffGdsPanelSideNavigationRoot");this.m_sideNavigation.setFlex("0 0 auto");this.m_sideNavigation.setExpanded(false);this.m_sideNavigation.registerOnItemSelect(e.UiLambdaItemSelectListener.create(t=>{let n=t.getAffectedItem();let i=n.getTag();if(e.XStringUtils.isNotNullAndNotEmpty(i)){this._togglePanel(i)}}));this._buildNavigationList()};e.HpSideNavigationDocumentPlugin.prototype._createNavListItem=function(t,n,i,o,l,a){if(e.XStringUtils.isNotNullAndNotEmpty(n)){let u=this.m_navList.newItem();u.setTag(n);u.setTarget(null);u.setKey(n);if(i){let i=e.UtPanelWidget.create(this.m_genesis,o,l,null);let a=i.getView();a.setContent(t);this.m_panels.put(n,a)}else{let i=this.m_genesis.newControl(e.UiType.SCROLL_CONTAINER).setContent(t).useMaxSpace();this.m_panels.put(n,i)}if(e.XStringUtils.isNotNullAndNotEmpty(o)){u.setIcon(o)}if(e.XStringUtils.isNotNullAndNotEmpty(l)){u.setTooltip(l)}this.m_navListItemsMap.put(e.XInteger.convertToString(a),u);return e.XPromise.resolve(u)}else{return e.XPromise.reject(e.XError.create("Side navigation item cannot be created without a key."))}};e.HpSideNavigationDocumentPlugin.prototype._getLastOpenedPanel=function(){let t=this.m_navList.getItems();let n=null;if(e.XStringUtils.isNotNullAndNotEmpty(this.m_lastOpenedPanelKey)){n=this.m_lastOpenedPanelKey}else if(t.size()>1){n=t.get(1).getTag()}return n};e.HpSideNavigationDocumentPlugin.prototype._getParentSplitterItem=function(){let t=this.m_layout.getParent();while(e.notNull(t)&&t.getUiType()!==e.UiType.INTERACTIVE_SPLITTER_ITEM){t=t.getParent()}return t};e.HpSideNavigationDocumentPlugin.prototype._hidePanel=function(t){let n=this.m_panels.getByKey(t);if(e.notNull(n)){if(n.getParent()===this.m_panelContainer){this.m_panelContainer.removeItem(n);let e=this._getParentSplitterItem();this._resetParentContainerWidths(e);this._updateOverviewIcon();this.notifyPanelStateChange(t,false)}}else{e.XLogger.println(e.XStringUtils.concatenate2("Cannot determine panel with key : ",t))}};e.HpSideNavigationDocumentPlugin.prototype._observeNotifications=function(){let t=this.getController().getLocalNotificationCenter();this.m_panelStateChangeObserverId=t.addObserverForName(e.HpSideNavigationDocumentPlugin.NOTIFICATION_SET_PANEL_STATE_CHANGE_CONSUMER,t=>{let n=t.getXObjectByKey(e.HpSideNavigationDocumentPlugin.NOTIFICATION_DATA_CONSUMER);if(e.XObject.isOfClass(n,e.XClass.create(e.XConsumerHolder))){this.m_panelStateChangeConsumer=n.getConsumer()}});this.m_changePanelVisibilityObserverId=t.addObserverForName(e.HpSideNavigationDocumentPlugin.NOTIFICATION_CHANGE_PANEL_VISIBILITY,t=>{let n=t.getStringByKey(e.HpSideNavigationDocumentPlugin.NOTIFICATION_DATA_PANEL_KEY);let i=t.getBooleanByKey(e.HpSideNavigationDocumentPlugin.NOTIFICATION_DATA_PANEL_VISIBILITY);if(e.XStringUtils.isNullOrEmpty(n)){n=this._getLastOpenedPanel()}if(i){this._showPanel(n)}else{this._hidePanel(n)}})};e.HpSideNavigationDocumentPlugin.prototype._resetParentContainerWidths=function(t){if(e.notNull(t)){this._setParentContainerWidth(t,e.HpSideNavigationDocumentPlugin.SIDE_NAV_DEFAULT_WIDTH);let n=t.getParent();if(e.notNull(n)){let e=n.getIndexOfItem(t);let i=n.getItems().size();let o=i===e+1?e-1:e+1;if(o>=0&&o<i){let e=n.getItem(o);e.setWidth(null)}}}};e.HpSideNavigationDocumentPlugin.prototype._setLayoutDirection=function(){let t=this.getConfiguration();let n=t.getStringByKeyExt(e.HpSideNavigationDocumentPlugin.CONFIG_POSITION,e.HpSideNavigationDocumentPlugin.CONFIG_POSITION_RIGHT);let i=e.XString.isEqual(n,e.HpSideNavigationDocumentPlugin.CONFIG_POSITION_LEFT)?e.UiFlexDirection.ROW:e.UiFlexDirection.ROW_REVERSE;this.m_layout.setDirection(i)};e.HpSideNavigationDocumentPlugin.prototype._setParentContainerWidth=function(t,n){if(e.notNull(t)){t.setWidth(e.UiCssLength.create(n));t.setMinWidth(e.UiCssLength.create(e.HpSideNavigationDocumentPlugin.SIDE_NAV_DEFAULT_WIDTH))}};e.HpSideNavigationDocumentPlugin.prototype._showPanel=function(t){let n=this.m_panels.getByKey(t);if(e.notNull(n)){if(n.getParent()!==this.m_panelContainer){let i=!this.m_panelContainer.hasItems();this.m_panelContainer.clearItems();this.m_panelContainer.addItem(n);this.m_lastOpenedPanelKey=t;if(i){let e=this._getParentSplitterItem();this._setParentContainerWidth(e,null)}let o=e.XCollectionUtils.findFirst(this.m_navList.getItems(),n=>e.XString.isEqual(n.getTag(),t));e.XTimeout.timeout(0,()=>{this.m_navList.setSelectedItem(o)});this._updateOverviewIcon();this.notifyPanelStateChange(t,true)}}else{e.XLogger.println(e.XStringUtils.concatenate2("Cannot determine panel with key : ",t))}};e.HpSideNavigationDocumentPlugin.prototype._togglePanel=function(t){let n=this.m_panels.getByKey(t);if(e.notNull(n)){let e=n.getParent()===this.m_panelContainer;if(e){this._hidePanel(t)}else{this._showPanel(t)}}else{e.XLogger.println(e.XStringUtils.concatenate2("Cannot determine panel with key : ",t))}};e.HpSideNavigationDocumentPlugin.prototype._unobserveNotifications=function(){let e=this.getController().getLocalNotificationCenter();e.removeObserverByUuid(this.m_panelStateChangeObserverId);this.m_panelStateChangeObserverId=null;e.removeObserverByUuid(this.m_changePanelVisibilityObserverId);this.m_changePanelVisibilityObserverId=null};e.HpSideNavigationDocumentPlugin.prototype._updateOverviewIcon=function(){let t=e.HpSideNavigationI18n.getLocalization();let n=this.m_navList.getItem(0);let i;let o;if(e.isNull(this.m_panelContainer)||!this.m_panelContainer.hasItems()){i=this.m_layout.getDirection()===e.UiFlexDirection.ROW_REVERSE?e.HpSideNavigationDocumentPlugin.CLOSE_CMD_FIELD:e.HpSideNavigationDocumentPlugin.OPEN_CMD_FIELD;o=e.HpSideNavigationI18n.I18N_SN_EXPAND}else{i=this.m_layout.getDirection()===e.UiFlexDirection.ROW_REVERSE?e.HpSideNavigationDocumentPlugin.OPEN_CMD_FIELD:e.HpSideNavigationDocumentPlugin.CLOSE_CMD_FIELD;o=e.HpSideNavigationI18n.I18N_SN_COLLAPSE}n.setIcon(i);n.setTooltip(t.getText(o))};e.HpSideNavigationDocumentPlugin.prototype.destroyPlugin=function(){this._unobserveNotifications();this.m_panelStateChangeConsumer=null;this.m_layout=e.XObjectExt.release(this.m_layout);this.m_panelContainer=e.XObjectExt.release(this.m_panelContainer);this.m_sideNavigation=e.XObjectExt.release(this.m_sideNavigation);this.m_navList=e.XObjectExt.release(this.m_navList);e.XCollectionUtils.releaseEntriesFromCollection(this.m_panels);this.m_navListItemsMap=e.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_navListItemsMap);this.m_genesis=null;e.HuDfDocumentPlugin.prototype.destroyPlugin.call(this)};e.HpSideNavigationDocumentPlugin.prototype.getAutoLayoutConfiguration=function(){let t=e.PrFactory.createStructure();t.putString("type",e.HuLayoutType.SINGLE_PLUGIN.getName());return t};e.HpSideNavigationDocumentPlugin.prototype.getPluginCategory=function(){return e.HuPluginCategory.SYSTEM};e.HpSideNavigationDocumentPlugin.prototype.getPluginName=function(){return e.HpSideNavigationDocumentPlugin.PLUGIN_NAME};e.HpSideNavigationDocumentPlugin.prototype.layoutDocument=function(t){this.m_panels=e.XHashMapByString.create();this.m_genesis=t.getGenesis();this.m_layout=this.m_genesis.newControl(e.UiType.FLEX_LAYOUT);this.m_layout.useMaxSpace();this.getController().setRoot(this.m_layout);let n=this._getParentSplitterItem();this._setParentContainerWidth(n,e.HpSideNavigationDocumentPlugin.SIDE_NAV_DEFAULT_WIDTH);this._setLayoutDirection();this._buildSideNavigation();this._buildPanelContainer();this._addPanelPlugins()};e.HpSideNavigationDocumentPlugin.prototype.notifyPanelStateChange=function(t,n){if(e.notNull(this.m_panelStateChangeConsumer)){let i=e.PrStructure.create();let o=i.putNewStructure(e.HpSideNavigationDocumentPlugin.PANEL_STATE_OPEN_PANELS_KEY);o.putBoolean(t,n);this.m_panelStateChangeConsumer(i)}};e.HpSideNavigationDocumentPlugin.prototype.setupPlugin=function(t){e.HuDfDocumentPlugin.prototype.setupPlugin.call(this,t);this.m_navListItemsMap=e.XHashMapByString.create();this._observeNotifications();return null};e.HorizonUiPluginsModule=function(){};e.HorizonUiPluginsModule.prototype=new e.DfModule;e.HorizonUiPluginsModule.prototype._ff_c="HorizonUiPluginsModule";e.HorizonUiPluginsModule.s_module=null;e.HorizonUiPluginsModule.getInstance=function(){if(e.isNull(e.HorizonUiPluginsModule.s_module)){e.DfModule.checkInitialized(e.CellEngineModule.getInstance());e.DfModule.checkInitialized(e.ContextMenuEngineModule.getInstance());e.DfModule.checkInitialized(e.HorizonUiModule.getInstance());e.HorizonUiPluginsModule.s_module=e.DfModule.startExt(new e.HorizonUiPluginsModule);e.HuPluginRegistry.registerPluginByClass(e.XClass.create(e.HpTextEditorPlugin));e.HuPluginRegistry.registerPluginByClass(e.XClass.create(e.HpMenuEngineCommandPlugin));e.HuPluginRegistry.registerPluginByClass(e.XClass.create(e.HpSideNavigationDocumentPlugin));e.HuPluginRegistry.registerPluginByClass(e.XClass.create(e.HpExpandableListDocumentPlugin));e.HpSideNavigationI18n.staticSetup();e.DfModule.stopExt(e.HorizonUiPluginsModule.s_module)}return e.HorizonUiPluginsModule.s_module};e.HorizonUiPluginsModule.prototype.getName=function(){return"ff3620.horizon.ui.plugins"};e.HorizonUiPluginsModule.getInstance();return e});
//# sourceMappingURL=ff3620.horizon.ui.plugins.js.map