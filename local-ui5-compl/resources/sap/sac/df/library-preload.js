//@ui5-bundle sap/sac/df/library-preload.js
/*
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/DataAnalyzer",["sap/sac/df/controls/MultiDimControlBase","sap/sac/df/types/DataAnalyzerPanelName","sap/sac/df/utils/ListHelper","sap/sac/df/firefly/library"],function(e,t,i,n){var a=e.extend("sap.sac.df.DataAnalyzer",{metadata:{library:"sap.sac.df",properties:{metaPath:{type:"string"},selectedPanel:{type:"sap.sac.df.types.DataAnalyzerPanelName"},showVisualizationType:{type:"boolean",default:false}}},init:function(){if(e.prototype.init){e.prototype.init.apply(this,arguments)}},renderer:e.getMetadata().getRenderer().render,getPluginConfigName:function(){return"DataAnalyzer"},_runProgram:function(){let t=e.prototype._runProgram.apply(this);return t.then(()=>{let e=new n.XPair;e.setFirstObject(n.PrString.createWithValue("UI5ContextMenuProvider"));e.setSecondObject(this._getDefaultContextMenuProvider());this.oHorizonProgram.executeAction(n.HpMenuEngineCommandPlugin.PLUGIN_NAME,n.HpMenuEngineCommandPlugin.REGISTER_DYNAMIC_MENU_ACTIONS_PROVIDER,e)})},_getDefaultContextMenuProvider:function(){return this._getMultiDimModel().getContextMenuProviderRegistry().getDefaultProvider()},_applyPropertiesToPlugin:function(){e.prototype._applyPropertiesToPlugin.apply(this);if(this.oHorizonProgram){const e=n.XNotificationData.create();e.putBoolean(n.AuOlapAxesBuilderViewPlugin.CONFIG_SHOW_DISPLAY_TYPE,this.getShowVisualizationType());this.oHorizonProgram.postLocalNotification(n.AuOlapAxesBuilderViewPlugin.NOTIFICATION_DISPLAY_TYPE_VISIBILITY_CHANGE,e);if(this.getSelectedPanel()){const e=n.XNotificationData.create();e.putString(n.HpSideNavigationDocumentPlugin.NOTIFICATION_DATA_PANEL_KEY,t[this.getSelectedPanel()]);e.putBoolean(n.HpSideNavigationDocumentPlugin.NOTIFICATION_DATA_PANEL_VISIBILITY,true);this.oHorizonProgram.postLocalNotification(n.HpSideNavigationDocumentPlugin.NOTIFICATION_CHANGE_PANEL_VISIBILITY,e)}const i=n.XNotificationData.create();i.putXObject(n.HpSideNavigationDocumentPlugin.NOTIFICATION_DATA_CONSUMER,n.XConsumerHolder.create(this._onPanelChange.bind(this)));this.oHorizonProgram.postLocalNotification(n.HpSideNavigationDocumentPlugin.NOTIFICATION_SET_PANEL_STATE_CHANGE_CONSUMER,i)}},_onPanelChange:function(e){const a=i.arrayFromList(e.getByKey(n.HpSideNavigationDocumentPlugin.PANEL_STATE_OPEN_PANELS_KEY).getKeysAsReadOnlyList());if(a&&a.length>0){const i=a[0];const o=e.getByKey(n.HpSideNavigationDocumentPlugin.PANEL_STATE_OPEN_PANELS_KEY).getBooleanByKey(i);if(o){this.setProperty("selectedPanel",Object.keys(t).find(e=>t[e]===i))}else{this.setProperty("selectedPanel",null)}}}});return a});
/*
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/DesignerPanel",["sap/sac/df/controls/MultiDimControlBase","sap/sac/df/firefly/library"],function(i,e){var t=i.extend("sap.sac.df.DesignerPanel",{metadata:{library:"sap.sac.df",properties:{metaPath:{type:"string"},showVisualizationType:{type:"boolean",defaultValue:false},showAvailableObjects:{type:"boolean",defaultValue:true}}},init:function(){if(i.prototype.init){i.prototype.init.apply(this,arguments)}},renderer:i.getMetadata().getRenderer().render,getPluginConfigName:function(){return"DesignerPanel"},_applyPropertiesToPlugin:function(){i.prototype._applyPropertiesToPlugin.apply(this);if(this.oHorizonProgram){let i=this._getVisualizationName();if(i){const t=e.XNotificationData.create();t.putString(e.AuOlapAxesBuilderViewPlugin.CONFIG_VISUALIZATION_NAME,i);this.oHorizonProgram.postLocalNotification(e.AuOlapAxesBuilderViewPlugin.NOTIFICATION_VISUALIZATION_NAME_SET,t)}const t=e.XNotificationData.create();t.putBoolean(e.AuOlapAxesBuilderViewPlugin.CONFIG_SHOW_DISPLAY_TYPE,this.getShowVisualizationType());this.oHorizonProgram.postLocalNotification(e.AuOlapAxesBuilderViewPlugin.NOTIFICATION_DISPLAY_TYPE_VISIBILITY_CHANGE,t);const a=e.XNotificationData.create();a.putBoolean(e.AuOlapDesignerDocumentPlugin.NOTIFICATION_DATA_VISIBLE,this.getShowAvailableObjects());this.oHorizonProgram.postLocalNotification(e.AuOlapDesignerDocumentPlugin.NOTIFICATION_TOGGLE_INVENTORY_VISIBILITY,a)}}});return t});
/* SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
   */
sap.ui.predefine("sap/sac/df/FilterBar",["sap/ui/mdc/FilterBar","sap/sac/df/FilterField","sap/ui/mdc/enums/FieldDisplay","sap/ui/base/ManagedObjectObserver","sap/ui/mdc/enums/FilterBarValidationStatus","sap/ui/mdc/util/FilterUtil","sap/ui/core/library","sap/sac/df/thirdparty/lodash","sap/ui/fl/apply/_internal/flexObjects/States"],function(e,t,i,a,r,s,n,l,o){const{ValueState:d}=n;const h=e.extend("sap.sac.df.FilterBar",{metadata:{library:"sap.sac.df",properties:{metaPath:{type:"string"}}},renderer:"sap.ui.mdc.FilterBarRenderer",init:function(){if(e.prototype.init){e.prototype.init.apply(this,arguments)}this._getObserver().observe(this,{aggregations:["dependents"]});this.setP13nMode(["Item","Value"]);this.setDelegate({name:"sap/sac/df/filter/delegate/FilterBarDelegate"});this._aChangedVariables=[]},_applyFailedChanges:function(){let e=this._getView().getController().getOwnerComponent();const t=this.getId().split(this._getView().getController().getOwnerComponent().getId()+"---").pop();this._loadFlex().then(i=>{if(i){i.getVariantModel(e).then(e=>{if(e.getVariantManagementReference().variantManagementReference!==""){let i=e.getVariant(e.getCurrentControlVariantIds()[0]).controlChanges;let a=i.filter(e=>e.getApplyState()===o.ApplyState.APPLY_FAILED&&e.getProperty("selector").id===t);e.getVariant(e.getCurrentControlVariantIds()[0]).controlChanges=i.filter(e=>e.getApplyState()!==o.ApplyState.APPLY_FAILED&&e.getProperty("selector").id===t);l.forEach(a,e=>{e.setApplyState(o.ApplyState.INITIAL);e.setState(o.LifecycleState.DIRTY)});if(a){return e.addAndApplyChangesOnVariant(a)}}})}})},onAfterRendering:function(){if(this.getFilterItems().length===0){this._setPaths();if(!l.isEmpty(this._getMetaObject())){return this._setupFilterBar()}else{if(this._isVariableGroup()){this._getMultiDimModel().attachEventOnce("variableGroupsAdded",null,this._setupFilterBar.bind(this))}else{this._getMultiDimModel().attachEventOnce("dataProviderAdded",null,this._setupFilterBar.bind(this))}}}},getFilterConditions:function(){return this._getConditionModel().getData().conditions},_setPaths:function(){this._metaObjectPath=this.getMetaPath().split(">")[1]},_getMetaObjectType:function(){if(this.getMetaPath().includes("/VariableGroups")){return"sap.sac.df.model.VariableGroup"}else if(this.getMetaPath().includes("/Variables")){return"sap.sac.df.model.Variable"}else if(this.getMetaPath().includes("/Dimensions")){return"sap.sac.df.model.Dimension"}},_isVariableGroup:function(){return this._getMetaObjectType()==="sap.sac.df.model.VariableGroup"},_getMetaObjectPath:function(){return this._metaObjectPath},_getMultiDimModel:function(){return this.getModel(this._getMultiDimModelName())},_getMultiDimModelName:function(){return this.getMetaPath().split(">")[0]},_getMetaObject:function(){return this._getMultiDimModel().getProperty(this._metaObjectPath)},_setupFilterBar:function(){if(this.getFilterItems().length===0){l.forEach(this._getMetaObject(),e=>{if(!this._isVariableGroup()||l.isUndefined(e.VisibleInFilterBar)||!l.isUndefined(e.VisibleInFilterBar)&&e.VisibleInFilterBar){const t=this.createFilterField(e.Name);this.addFilterItem(t);t.setModel(this._getMultiDimModel(),this._getMultiDimModelName());t._setupFilterFieldFromMetaPath()}else{this._setConditions(e.getMemberFilter(),e,this)}return this.finalizePropertyHelper()});return this._applyFailedChanges()}},_setConditions:function(e,t){var i=[];if(e&&e.length>0){l.forEach(e,function(e){return i.push({operator:e.Operator,validated:"Validated",values:e.InternalKey})});this._getConditionModel().setProperty("/conditions/"+t.Name,i)}return i},createFilterField:function(e){return new t(this.getFilterFieldId(e),{metaPath:this.getMetaPath()+"/"+e,propertyKey:e,delegate:{name:"sap/sac/df/filter/delegate/FieldBaseDelegate"}})},getFilterFieldId:function(e){return this.getId()+"::FilterField::"+e.replace(/[^0-9A-Z_.:-]/gi,"")},_getObserver:function(){if(!this._oObserver){this._oObserver=new a(this._observeChanges.bind(this))}return this._oObserver},_observeChanges:function(t){e.prototype._observeChanges.apply(this,arguments);if(t.name==="dependents"&&t.mutation==="insert"&&t.child&&t.child.isA("sap.m.p13n.Popup")){this._onOpenAdaptFilterDialog(t.child)}},_onOpenAdaptFilterDialog:function(e){const t=this;this._adaptFiltersDialogIsOpen=true;this._oVariablesBeforeOpeningAdaptFilters={};l.forEach(this._getMetaObject(),function(e){const i=t._isVariableGroup()?[].concat(e.MergedVariable.MemberFilter):[].concat(e.MemberFilter);this._oVariablesBeforeOpeningAdaptFilters[e.Name]={Name:e.Name,MemberFilter:i}}.bind(this));this.retrieveInbuiltFilter().then(function(e){t._adaptFilters=e});const i=function(e){if(e.getParameters().reason==="Cancel"){l.forEach(l.uniq(this._aChangedVariables),e=>{const t=this._oVariablesBeforeOpeningAdaptFilters[e];const i=t.MemberFilter?t.MemberFilter:[];l.forEach(i,e=>{e.UniqueID=null});const a=l.find(this._getMetaObject(),function(t){return t.Name===e});a&&a.setMemberFilter(i)});t._adaptFiltersDialogIsOpen=false}this._aChangedVariables=[];this._oVariablesBeforeOpeningAdaptFilters=undefined};e.attachClose(null,i,this)},_filterChanged:function(e){this._aChangedVariables.push(e.getPropertyKey());this.fireFiltersChanged({conditionsBased:true,filtersTextExpanded:this._getAssignedFiltersExpandedText(),filtersText:this._getAssignedFiltersCollapsedText()})},_checkRequiredFields:function(){let e=r.NoError;const t=this._getRequiredFieldNamesWithoutValues();t.forEach(t=>{const i=this._getFilterField(t);if(i){if(i.getValueState()===d.None){i.setValueState(d.Error);i.setValueStateText(this._getRequiredFilterFieldValueText(i))}}e=r.RequiredHasNoValue});return e},_getRequiredFieldNamesWithoutValues:function(){const e=[];if(this._getRequiredPropertyNames){this._getRequiredPropertyNames().forEach(t=>{let i=this._getFilterField(t);let a=i&&i._getMetaObject&&i._getMetaObject();if(a){var r=a.MergedVariable?a.MergedVariable:a;const i=r&&r.MemberFilter;if(!i||i.length===0){e.push(t)}}})}return e}});return h});
/*!
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/FilterField",["sap/ui/mdc/FilterField","sap/ui/core/Element","sap/ui/mdc/field/FieldBase","sap/ui/mdc/field/FieldBaseRenderer","sap/ui/mdc/enums/FieldDisplay","sap/base/util/merge","sap/base/util/deepEqual","sap/sac/df/model/MemberFilter","sap/sac/df/utils/ResourceBundle","sap/sac/df/filter/TypeMap","sap/ui/mdc/condition/Condition","sap/ui/base/ManagedObjectObserver","sap/ui/mdc/enums/ConditionValidated","sap/ui/mdc/ValueHelp","sap/sac/df/filter/ValueHelp","sap/ui/mdc/valuehelp/content/FixedListItem","sap/ui/mdc/valuehelp/Popover","sap/ui/core/date/UI5Date","sap/ui/core/library","sap/sac/df/firefly/library","sap/sac/df/thirdparty/lodash","sap/sac/df/types/DisplayType","sap/ui/mdc/field/ConditionType","sap/ui/model/FilterOperator","sap/ui/mdc/condition/FilterOperatorUtil"],function(e,t,i,s,a,n,r,o,l,u,h,c,p,d,g,f,_,m,b,F,M,y,V,O,C){"use strict";const P=b.ValueState;const T=b.format.DateFormat;const v=e.extend("sap.sac.df.FilterField",{metadata:{library:"sap.sac.df",designtime:"sap/ui/mdc/designtime/field/FilterField.designtime",properties:{metaPath:{type:"string"}}},renderer:s,init:function(){i.prototype.init.apply(this,arguments);this._oObserver.observe(this,{properties:["operators","propertyKey","additionalDataType"],aggregations:["_content","filterItems","dependents"]});this.attachEvent("_onValueHelpRequest",null,this._onValueHelpRequest.bind(this));this.attachEvent("press",null,this._onValueHelpRequest.bind(this));this.setDelegate({name:"sap/sac/df/filter/delegate/FieldBaseDelegate"})},setMetaPath:function(e){e=e.replace("&gt;",">");this.setProperty("metaPath",e);i.prototype.setProperty.call(this,"metaPath",e);this._initialise()},_initialise:function(){if(!this._initialized){if(this._getMetaObject()){this._setupFilterFieldFromMetaPath()}else{if(this._isVariableGroup()){this._getMultiDimModel()&&this._getMultiDimModel().attachEventOnce("variableGroupsAdded",null,this._setupFilterFieldFromMetaPath.bind(this))}else{this._getMultiDimModel()&&this._getMultiDimModel().attachEventOnce("dataProviderAdded",null,this._setupFilterFieldFromMetaPath.bind(this))}}}},onAfterRendering:function(){this._initialise()},_setupFilterFieldFromMetaPath:function(){this._setMetaObjectPath(this.getMetaPath().split(">")[1]);this._setupFilterField()},_getMultiDimModel:function(){return this.getMetaPath()&&this.getMetaPath().split(">")&&this.getModel(this.getMetaPath().split(">")[0])},_getMetaObjectType:function(){return this._getMetaObject()&&this._getMetaObject().getMetadata().getName()},_isVariableGroup:function(){return this._getMetaObjectType()==="sap.sac.df.model.VariableGroup"},_isDate:function(){const e=this._getValueType();return e.includes("Date")||e.includes("Time")},_getValueType:function(){let e=this._getMetaObject();if(this._isVariableGroup()){e=this._getMetaObject().MergedVariable}return e&&e.ValueType?e.ValueType:"String"},_isVariable:function(){return this._getMetaObjectType()==="sap.sac.df.model.Variable"},_isDimension:function(){return this._getMetaObjectType()==="sap.sac.df.model.Dimension"},_setMetaObjectPath:function(e){return this._metaObjectPath=e},_getMetaObjectPath:function(){return this._metaObjectPath},_getMetaObject:function(){return this.getMetaPath()&&this.getMetaPath().split(">")&&this._getMultiDimModel()&&this._getMultiDimModel().getProperty(this.getMetaPath().split(">")[1])},_setupFilterField:function(){this.setBlocked(true);let e=this._getMetaObject();if(!e||this._initialized){return}this._initialized=true;let t=this.getMetaPath();if(this._isVariableGroup()){e=this._getMetaObject().MergedVariable;t=t+"/MergedVariable"}const i=this._isDate();const s=i&&e.SupportsMultipleValues?"String":this._getValueType();const a=this._getMetaObjectType()==="Dimension"||e.SupportsMultipleValues;const n=this._getMetaObjectType()==="Dimension"||e.Mandatory;const r=u.getFormatOptions(s);this.setProperty("dataType",u.getDataTypeClassName(s));this.setProperty("dataTypeFormatOptions",r?r:null);if(!this._isDimension()){this.setAssociation("valueHelp",this._supportsValueHelp()?null:"DEFAULT")}this.setProperty("label",e.Description);this.setProperty("required",!!n);this.bindProperty("valueState",{parts:[{path:t+"/Mandatory"},{path:t+"/MemberFilter"}],formatter:this._getValueState.bind(this)});this.setProperty("maxConditions",this._isDimension()||a?-1:1);this.setProperty("operators",i&&!a?["EQ"]:[]);this.setProperty("defaultOperator","EQ");this.awaitControlDelegate().then(()=>{this.bindProperty("display",{path:t+"/FilterDisplayType",formatter:this._getDisplay.bind(this)});this.bindProperty("conditions",{path:t+"/MemberFilter",formatter:this._setConditions.bind(this)})});this._observeContent();this.setBlocked(false)},_observeContent:function(){this._getObserver().observe(this,{aggregations:["_content"]})},_addValueHelpAssociation:function(){if(!this.getAssociation("valueHelp")){this.setAssociation("valueHelp",new g(this.getId()+"--ValueHelp"))}},_getValueState:function(e,t){return this._getLiveMode()&&e&&t&&t.length===0?P.Error:P.None},_supportsValueHelp:function(){let e=this._getMetaObject();if(this._isVariableGroup()){e=this._getMetaObject().MergedVariable}return this._getMetaObjectType()==="Dimension"?true:e.SupportsValueHelp},_getConditionForMemberFilter:function(e){const t=this._isDate()?e.InternalKey:e.Key;let i=new V(this.getFormatOptions());let s="";let a="";const n=this._getMDCFilterOperatorFromModelOperator(e.Operator);switch(e.Operator){case O.EQ:return h.createItemCondition(t[0],e.Text[0],null,null,e);case O.BT:case O.NB:s=i.formatValue(h.createItemCondition(t[0],e.Text[0]),"string");a=i.formatValue(h.createItemCondition(t[1],e.Text[1]),"string");return h.createCondition(n,[s,a],null,null,p.Validated,e);default:s=i.formatValue(h.createItemCondition(t[0],e.Text[0]),"string");return h.createCondition(n,[s],null,null,p.Validated,e)}},_getMDCFilterOperatorFromModelOperator:function(e){const t=M.find(C._mOperators,t=>t.filterOperator===e);return t&&t.name},_getDisplay:function(e){let t=this.getDisplay();let i=this._getMetaObject();if(this._isVariableGroup()){i=this._getMetaObject().MergedVariable}if(!this._isDimension()&&!this._supportsValueHelp()||this._isDate()){t=a.Value}else{if(e){switch(i.FilterDisplayType){case y.Text:t=a.Description;break;case y.Key:t=a.Value;break;case y.KeyText:t=a.ValueDescription;break;case y.TextKey:t=a.DescriptionValue;break}}}this._observeContent();return t},_setConditionsForFilterField:function(e){const t=[];e.forEach(function(e){t.push(this._getConditionForMemberFilter(e))}.bind(this));this.setConditions(t);return t},_setConditionsForFilterBar:function(e){const t=[];e.forEach(function(e){t.push(this._getConditionForMemberFilter(e))}.bind(this));this._getFilterBar()._getConditionModel().setProperty("/conditions/"+this.getPropertyKey(),t);return t},_setConditions:function(e){if(e&&e.length>0){const t=this._getFilterBar();if(t){return t._adaptFiltersDialogIsOpen?this._setConditionsForFilterField(e):this._setConditionsForFilterBar(e)}else{return this._setConditionsForFilterField(e)}}},getFilterFieldId:function(e){return this.getId()+"::FilterField::"+e.replace(/[^0-9A-Z_.:-]/gi,"")},observeChanges:function(t){e.prototype.observeChanges.apply(this,arguments);if(t.name==="_content"){this._onFieldChange(t.object,true)}if(t.name==="filterItems"){this._onFieldChange(t.child,false)}},_onFieldChange:function(e,t){const i=e.getAggregation("_content")&&e.getAggregation("_content")[0];if(i){const s=i.mEventRegistry;let a;while(s.change&&s.change.length){a=s.change[0];i.detachChange(a.fFunction,a.oListener)}while(s.tokenUpdate&&s.tokenUpdate.length){a=s.tokenUpdate[0];i.detachTokenUpdate(a.fFunction,a.oListener)}while(s.valueHelpRequest&&s.valueHelpRequest.length){a=s.valueHelpRequest[0];i.detachValueHelpRequest(a.fFunction,a.oListener)}if(i.attachValueHelpRequest){i.attachValueHelpRequest(null,this._onValueHelpRequest,this)}if(i.attachChange){i.attachChange(null,this._onChange,this)}if(i.attachTokenUpdate){i.attachTokenUpdate(null,this._onTokenUpdate,this)}if(t){this._getObserver().unobserve(e,{aggregations:["_content"]})}}},_getObserver:function(){if(!this._oObserver){this._oObserver=new c(this.observeChanges.bind(this))}return this._oObserver},_onTokenUpdate:function(e){const t=this;const i=this._getMetaObject();if(e.getParameter("type")==="removed"){const s=e.getParameter("removedTokens")[0];const a=this.getConditions()[e.getSource().indexOfToken(s)];const n=a.payload;if(n&&n.InternalKey.length>0){this._setBusy(true);return Promise.resolve(i.removeMemberFilter(n)).then(function(){e.getSource().setValue(null);t._setBusy(false);t._filterChanged()}).catch(function(){t._setBusy(false)})}}},_onChange:function(e){const t=this;let i=e.getParameter("newValue");let s=null;let a=[];const n=this._getMetaObject();let r=this._getMetaObject();if(this._isVariableGroup()){r=this._getMetaObject().MergedVariable}this._setBusy(true);this.setValueState(P.None);if(!i){a=this.getConditions().filter(e=>e.validated==="NotValidated");if(a.length>0){i=a[0].values[0];s=a[0].operator}}if(i){return Promise.resolve(t._isSearchSupported()?t._validateValue(r,i):[new o([i])]).then(function(e){if(e){if(e.length>1){return t._openTypeAheadPopover(e)}if(s){e[0].Operator=s}return t.getMaxConditions()===1?n.setMemberFilter(e):n.addMemberFilter(e[0])}else{t.setValueState(P.Error);t.setValueStateText(l.getText("FILTERBAR_VALUEHELP_VALUE_NOT_EXIST",[i]))}}).then(function(){t._setBusy(false);t.setValueStateText();t._filterChanged()}).catch(function(){t._setBusy(false)})}else{if(r.MemberFilter.length>0){return Promise.resolve(n.setMemberFilter(null)).then(function(){t._setBusy(false);t._filterChanged()}).catch(function(){t._setBusy(false)})}else{t.setConditions([]);t._setBusy(false)}}},_onValueHelpRequest:function(){const e=this;const t=this._getMetaObject();return t.openValueHelpDialog().then(function(t){if(t){e._filterChanged()}})},_setBusy:function(e){if(this.getParent().isA("sap.ui.mdc.FilterBar")){this.getParent().setBusy(e)}else{this.setBusy(e)}},_isSearchSupported:function(){let e=this._getMetaObject();if(this._isVariableGroup()){e=this._getMetaObject().MergedVariable}return this._isDimension()||!this._isDate()&&e.SupportsValueHelp&&e.IsFilterable},_getLiveMode:function(){return this._getFilterBar()?this._getFilterBar().getLiveMode():true},_getFilterBar:function(){const e=this.getParent();let i;if(e){if(e.isA("sap.ui.mdc.FilterBar")){i=e}else if(e.isA("sap.ui.mdc.filterbar.p13n.AdaptationFilterBar")){i=t.getElementById(e.getAssociation("adaptationControl"))}}return i},_filterChanged:function(){if(this._getFilterBar()){this._getFilterBar()._filterChanged(this)}},_openTypeAheadPopover:function(e){const i=this;let s=t.getElementById(i.getId()+"--ValueHelp");return Promise.resolve(i._addValueHelpAssociation()).then(function(){s=t.getElementById(i.getId()+"--ValueHelp");s.connect(i);return s.initControlDelegate()}).then(function(){const t=s.getTypeahead();const a=t.getContent()[0];M.forEach(e,function(e){a.insertItem(new f({key:e.InternalKey[0],text:e.Text[0]}))});i._setBusy(false);return t.open(null,true)})},_formatDate:function(e){return T.getDateTimeWithTimezoneInstance({showTimezone:false,showTime:false}).format(m.getInstance(e))},_validateValue:function(e,t){return e.searchMember(t,false,true,true,10).then(function(e){if(!e||e.length===0){return Promise.resolve()}return e})}});return v});
/* SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
   */
sap.ui.predefine("sap/sac/df/FilterPanel",["sap/ui/mdc/p13n/panels/FilterPanel","sap/ui/core/Lib","sap/ui/core/Element","sap/sac/df/FilterField","sap/sac/df/thirdparty/lodash"],function(e,t,i,a,n){const r=e.extend("sap.sac.df.FilterPanel",{metadata:{library:"sap.sac.df",properties:{metaPath:{type:"string"},enableReorder:{type:"boolean",defaultValue:false}}},renderer:{apiVersion:2,render:function(e,t){e.openStart("div",t);e.style("height","100%");e.style("width","100%");e.openEnd();e.renderControl(t.getAggregation("_content"));e.close("div")}},init:function(){if(e.prototype.init){e.prototype.init.apply(this,arguments)}this.setEnableReorder(false);this.attachChange(null,this.onChange,this)},onAfterRendering:function(){if(this.getP13nData().length===0){this._setPaths();if(!n.isEmpty(this._getMetaObject())){this._setupFilterPanel()}else{this._getMultiDimModel().attachEventOnce("dataProviderAdded",null,this._setupFilterPanel.bind(this))}}},_updateP13nData:function(e){const t=e.getParameter("dataProviderName");const i=this._getDataProvider();if(t===i.Name){let e=n.clone(this.getP13nData());n.map(e,e=>{const t=this._getMetaObject()[e.name];if(e.active!==Boolean(t.MemberFilter&&t.MemberFilter.length>0)){e.active=Boolean(t.MemberFilter&&t.MemberFilter.length>0)}});this._setP13nData(e)}},_setupFilterPanel:function(){this.setItemFactory(function(e){return this.createFilterField(e.name)});this._getMultiDimModel().attachEvent("dataLoaded",null,this._updateP13nData.bind(this));this._setP13nData()},_setP13nData:function(){const e=[];n.map(this._getMetaObject(),function(t){e.push({active:Boolean(t.MemberFilter&&t.MemberFilter.length>0),label:t.Description,name:t.Name})}.bind(this));this.setP13nData(e)},_setPaths:function(){this._metaObjectPath=this.getMetaPath().split(">")[1]},_getMetaObjectType:function(){if(this.getMetaPath().includes("/VariableGroups")){return"sap.sac.df.model.VariableGroup"}else if(this.getMetaPath().includes("/Variables")){return"sap.sac.df.model.Variable"}else if(this.getMetaPath().includes("/Dimensions")){return"sap.sac.df.model.Dimension"}},_isVariableGroup:function(){return this._getMetaObjectType()==="sap.sac.df.model.VariableGroup"},_getMetaObjectPath:function(){return this._metaObjectPath},_getMultiDimModel:function(){return this.getModel(this._getMultiDimModelName())},_getDataProvider:function(){if(this.getMetaPath().includes("/DataProviders")){const e=this.getMetaPath().split(">")[1].split("/DataProviders/")[1].split("/")[0];return this._getMultiDimModel().getDataProvider(e)}},_getMultiDimModelName:function(){return this.getMetaPath().split(">")[0]},_getMetaObject:function(){return this._getMultiDimModel().getProperty(this._metaObjectPath)},createFilterField:function(e){let t=i.getElementById(this.getFilterFieldId(e));if(!t){t=new a(this.getFilterFieldId(e),{width:"100%",metaPath:this.getMetaPath()+"/"+e,propertyKey:e,delegate:{name:"sap/sac/df/filter/delegate/FieldBaseDelegate"}})}return t},getFilterFieldId:function(e){return this.getId()+"::FilterField::"+e.replace(/[^0-9A-Z_.:-]/gi,"")},onChange:function(e){if(e.getParameter("reason")==="Remove"){let t=i.getElementById(this.getFilterFieldId(e.getParameter("item").name));if(t&&t._getMetaObject().getMemberFilter().length>0){t._getMetaObject().clearMemberFilter()}return t.destroy()}}});return r});
/*
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/FlexAnalysis",["sap/sac/df/types/SystemType","sap/ui/core/Control","sap/base/Log","sap/ui/model/json/JSONModel","sap/ui/thirdparty/jquery","sap/sac/df/model/MultiDimModel","sap/sac/df/firefly/library"],function(t,e,i,r,jQuery,a,n){"use strict";var o="GalaxyDataStudio";var s="empty";var l=e.extend("sap.sac.df.FlexAnalysis",{metadata:{properties:{title:{type:"string"},showTitle:{type:"boolean",defaultValue:false},autoUpdate:{type:"boolean",defaultValue:true},configurationURI:{type:"string"},configObject:{type:"object"},configId:{type:"string"},width:{type:"sap.ui.core.CSSSize",defaultValue:"100%"},height:{type:"sap.ui.core.CSSSize",defaultValue:"100%"},hideDesignPanel:{type:"boolean",defaultValue:true},hideStylePanel:{type:"boolean",defaultValue:true},hideMenuBar:{type:"boolean",defaultValue:true},hideStatusBar:{type:"boolean",defaultValue:true},hideToolBar:{type:"boolean",defaultValue:true},hideFilterLine:{type:"boolean",defaultValue:false},hideSideNavigation:{type:"boolean",defaultValue:false},hideLandingPage:{type:"boolean",defaultValue:true},systemName:{type:"string"},dataSource:{type:"string",defaultValue:"$datasource"},systemType:{type:"sap.sac.df.types.SystemType",defaultValue:t.BW},keepAliveInterval:{type:"int",defaultValue:0},clientIdentifier:{type:"string"},dataProvider:{type:"any",bindable:true},multiDimModelId:{type:"string",defaultValue:"om"},metaPath:{type:"string"},implicitVariableHandling:{type:"boolean",defaultValue:true,bindable:false},styleTemplateName:{type:"string"}},events:{onCellClick:{parameters:{cellContext:{type:"object"}}}},aggregations:{customPanels:{type:"sap.ui.core.Control",multiple:true}},defaultAggregation:"customPanels"},logActive:false,init:function(){this.programContainerID=this.getId()+"--program";this.programContainer=jQuery('<div id="'+this.programContainerID+'"/>');this.log("Created")},renderer:{apiVersion:2,render:function(t,e){if(e._error){t.openStart("span",e.getId()+"-error");t.openEnd();t.text(e._error.toString());t.close("span")}else{t.openStart("div",e);t.style("flex","auto");t.style("width",e.getWidth());t.style("height",e.getHeight());t.attr("data-sap-ui-preserve",e.getId());t.openEnd();t.close("div")}}},onAfterRendering:function(){if(e.prototype.onAfterRendering){e.prototype.onAfterRendering.apply(this,arguments)}var t=this.$();this.programContainer.appendTo(t);if(this.closed){t.css("visibility","hidden")}this.log("On after rendering");if(!this.isProgramRunning){this.runProgram()}t.css("position","relative")},_getDataProvider:function(){return this.getMetaPath()&&this.getMetaPath().split(">")&&this._getMultiDimModel()&&this._getMultiDimModel().getProperty(this.getMetaPath().split(">")[1])},_getDataProviderName:function(){return this._getDataProvider()&&this._getDataProvider().Name},_getMultiDimModel:function(){return this.getMetaPath()&&this.getMetaPath().split(">")&&this.getModel(this.getMetaPath().split(">")[0])},_getMultiDimModelId:function(){return this.getMetaPath()&&this.getMetaPath().split(">")[0]},_getDefaultContextMenuProvider:function(){return this._getMultiDimModel().getContextMenuProviderRegistry().getDefaultProvider()},setMetaPath:function(t){this.closed=false;return this.setProperty("metaPath",t)},updateProgramSettings:function(){this.log("Update program settings");var t=this.program.getProcess().getApplication();t.setClientInfo(null,this.getClientIdentifier(),null);this.program.setShowToolbar(!this.getHideToolBar());var e=this.program.getActiveDocument();e.setFilterLineVisible(!this.getHideFilterLine());e.setDesignerPanelVisible(!this.getHideDesignPanel());e.setStylePanelVisible(!this.getHideStylePanel());e.setSideNavigationVisible(!this.getHideSideNavigation());this._setDocumentAutoUpdatesEnabled();this.updateStyleTemplate();this.updateTitle()},registerCustomPanels:function(){var t=this.getCustomPanels();t.forEach(function(t){this.program.registerCustomPanel(t)}.bind(this))},onUiStateChange:function(t){this.log("UI state changed");var e=t.convertToNative();if(e){var i=e[n.AuGdsQbConstants.QD_UI_STATE_OPEN_PANELS];if(i){var r=n.AuGdsPanelType.DESIGNER.getName();var a=Object.prototype.hasOwnProperty.call(i,r)?i[r]:false;this.setProperty("hideDesignPanel",!a,true);var o=n.AuGdsPanelType.STYLE.getName();var s=Object.prototype.hasOwnProperty.call(i,o)?i[o]:false;this.setProperty("hideStylePanel",!s,true)}if(Object.prototype.hasOwnProperty.call(e,n.AuGdsQbConstants.QD_UI_STATE_AUTO_UPDATE)){if(this._getDataProvider()&&this.program.getActiveDocument().isAutoUpdatesEnabled()!==this._getDataProvider().getAutoFetchEnabled()){this._getDataProvider().setProperty("/AutoFetchEnabled",this.program.getActiveDocument().isAutoUpdatesEnabled())}}}},registerUiStateChange:function(){var t=this.program.getActiveDocument();if(t&&t.addUiStateChangeCallback){t.addUiStateChangeCallback(this.onUiStateChange.bind(this))}},updateTitle:function(){if(this.program){var t=this.program.getActiveDocument();if(typeof this.getTitle()=="string"){t.setDocumentTitle(this.getTitle())}t.createQueryDetailsIfNeeded();t.setTableTitleVisible(this.getShowTitle())}},runProgram:async function(){this.log("Run UI5 program");this.isProgramRunning=true;this._error=undefined;try{await this._initModel();const t=this._getMultiDimModel();this.oProgramRunner=n.ProgramRunner.createRunner(t.getSession(),o);await this._processConfigURI();this._setClientArgs();this.oProgramRunner.setNativeAnchorId(this.programContainerID);this.oProgramRunner.runProgram().onThen(t=>{this.log("GDS created");this.program=t;if(this._getDataProvider()?._FFDataProvider){this._setDataProvider()}this.registerCustomPanels();this.registerUiStateChange();this.program.registerDynamicMenuActionsProvider("UI5ContextMenuProvider",this._getDefaultContextMenuProvider());if(this.program.getActiveDocument().getTableView()&&!this.program.getActiveDocument().getTableView().m_onclickConsumer){this.program.getActiveDocument().getTableView().setOnclickConsumer(this._fireOnCellClick.bind(this))}this.updateTitle();this.updateProgramSettings()}).onCatch(t=>{throw new Error(t)})}catch{this._handleInitalisationErrors()}},_fireOnCellClick:function(t){this.fireOnCellClick({cellContext:this._getDefaultContextMenuProvider().convertCellClickContext(t)})},_setDataProvider:function(){if(this._getDataProvider()&&this.program&&this.program.getActiveDocument()){this._setDocumentAutoUpdatesEnabled();this.program.getActiveDocument().setExternalDataProvider(this._getDataProvider()._FFDataProvider)}},exit:function(){if(this.oProgramRunner){this._cleanUpProgram()}},getProgram:function(){return this.program},setPanelVisible:function(t,e){if(this.program){var i=this.program.getActiveDocument();if(i&&i.setPanelVisible){var r=n.AuGdsPanelType.lookup(t);if(r){i.setPanelVisible(r,e)}else{throw new Error("Cannot resolve panel type to adjust visibility!")}}}},setDataProvider:function(t){this.setMetaPath(this.getMultiDimModelId()+">/DataProviders/"+t)},addContextMenuAction:function(t,e){this._getDefaultContextMenuProvider().registerAction(t,e)},setSelectedDataCell:function(t,e){const i=this.program.getActiveDocument().getTableView().getActiveTableContainer();try{const r=i.getRowIndexForTupleIndex(t);const a=i.getColumnIndexForTupleIndex(e);if(r>=0&&a>=0){this.program.getActiveDocument().setSelectedCell(r,a)}}catch(t){console.log(t.message)}},clearCellSelection:function(){this.program.getActiveDocument().clearSelection()},setHideFilterLine:function(t){this.setProperty("hideFilterLine",t,true);if(this.program){this.program.getActiveDocument().setFilterLineVisible(!t)}return this},setStyleTemplateName:function(t){this.setProperty("styleTemplateName",t,true);this.updateStyleTemplate();return this},setAutoUpdate:function(t){if(this._getDataProvider()){this._getDataProvider().setAutoFetchEnabled(t)}return this},setHideToolBar:function(t){this.setProperty("hideToolBar",t,true);if(this.program){this.program.setShowToolbar(!t)}return this},setTitle:function(t){this.setProperty("title",t,true);this.updateTitle();return this},setShowTitle:function(t){this.setProperty("showTitle",t,true);this.updateTitle();return this},setHideSideNavigation:function(t){this.setProperty("hideSideNavigation",t,true);if(this.program){this.program.getActiveDocument().setSideNavigationVisible(!t)}return this},setHideDesignPanel:function(t){this.setProperty("hideDesignPanel",t,true);if(this.program){this.program.getActiveDocument().setDesignerPanelVisible(!t)}return this},setHideStylePanel:function(t){this.setProperty("hideStylePanel",t,true);if(this.program){this.program.getActiveDocument().setStylePanelVisible(!t)}return this},_cleanUpProgram:function(){n.XObjectExt.release(this.oProgramRunner);n.XObjectExt.release(this.program);this.oProgramRunner=null;this.program=null;this.isProgramRunning=false},_initModel:function(){const t=this;t.log("Start init model");let e;const i=t._getMultiDimModel();if(i){i.attachEvent("dataProviderAdded",null,function(t){const e=t.getParameter("dataProviderName");this.log("DP added '"+e+"'");if(e===this._getDataProviderName()){this._setDataProvider()}},t);i.attachEvent("dataProviderRemoved",null,function(e){const i=e.getParameter("dataProviderName");t.log("DP removed '"+i+"'");if(this.program&&this.program.getActiveDocument()){this.program.getActiveDocument().getQueryController().reset()}},t);i.attachEvent("dataProviderUpdated",null,e=>{const i=e.getParameter("dataProviderName");if(i===t._getDataProviderName()){t._setDocumentAutoUpdatesEnabled()}},t);i.attachEvent("requestFailed",null,e=>{const i=e.getParameter("infoObject");if(i===t._getDataProviderName()){t._requestInError=true}},t);i.attachEvent("requestCompleted",null,e=>{const i=e.getParameter("infoObject");if(i===t._getDataProviderName()){if(t._requestInError){t._requestInError=false;t.updateStyleTemplate()}}},t);e=i.loaded()}else{t._requestInError=true;e=Promise.reject(`Multidimensional Model <${t._getMultiDimModelId()}> is unknown!`)}return e},_setDocumentAutoUpdatesEnabled:function(){if(this._getDataProvider()&&this.program&&this.program.getActiveDocument()){if(this.program.getActiveDocument().isAutoUpdatesEnabled()!==this._getDataProvider().getAutoFetchEnabled()){this.program.getActiveDocument().setAutoUpdatesEnabled(!!this._getDataProvider().getAutoFetchEnabled())}}},_setClientArgs:function(){this.log("setClientArgs");this.oProgramRunner.setStringArgument(n.AuGdsConstants.GDF_FILE_DOC_TYPE,this.getDocType());this.oProgramRunner.setStringArgument(n.AuGdsConstants.PARAM_SYSTEM,this._getSystemName());this.oProgramRunner.setBooleanArgument(n.AuGdsConstants.PARAM_MULTI_DOCUMENTS,false);this.oProgramRunner.setBooleanArgument(n.AuGdsConstants.PARAM_HIDE_STATUS_BAR,this.getHideStatusBar());this.oProgramRunner.setBooleanArgument(n.AuGdsConstants.PARAM_HIDE_MENU_BAR,this.getHideMenuBar());this.oProgramRunner.setBooleanArgument(n.AuGdsConstants.PARAM_HIDE_TOOLBAR,this.getHideToolBar());this.oProgramRunner.setBooleanArgument(n.AuGdsConstants.PARAM_QUERY_BUILDER_MULTI_VIEWS,false);this.oProgramRunner.setBooleanArgument(n.AuGdsConstants.PARAM_QUERY_BUILDER_AUTO_OPEN_DATA_SOURCE_PICKER,false);this.oProgramRunner.setBooleanArgument(n.AuGdsConstants.PARAM_IMPLICIT_VARIABLE_HANDLING,this.getImplicitVariableHandling());this.oProgramRunner.setBooleanArgument(n.AuGdsConstants.PARAM_SUPPRESS_LANDING_PAGE,this.getHideLandingPage());this.oProgramRunner.setStringArgument(n.AuGdsConstants.PARAM_INTEGRATION,"ui5");this.oProgramRunner.setStringArgument(n.AuGdsConstants.PARAM_MODE,n.AuGdsConstants.VALUE_MODE_SAP_UI5_GA)},_handleInitalisationErrors:function(t){this._error=t;this.invalidate()},getDocType:function(){return"QueryBuilder"},_getSystemName:function(){var t=this.getSystemName();if(t&&t.startsWith("$")){t=this.getUrlParams("system")}return t?t:"local"+this.getSystemType()},_updateSupportedPanelsConfiguration:function(t,e){var i=this.getCustomPanels();if(i.length){var r=i.map(function(t){return t.getPanelId()}),a="/QueryBuilder/SideNavigation/SupportedPanels",n=t.getProperty(a);if(n){n=n.concat(r)}else{n=r}t.setProperty(a,n);if(e){t.setProperty("/QueryBuilder/PanelSettings/StylePanel/ConditionalFormatting",false)}}},_processConfigURI:function(){const t=this.oProgramRunner;return new Promise(t=>{const e=this.getConfigObject();if(e){t(JSON.stringify(e))}else{let e=this.getConfigurationURI();let i=this.getConfigId();let a=false;if(i){if(i==="reviewbooklet-op"){a=true;i="reviewbooklet"}e=sap.ui.require.toUrl("sap/sac/df/fa/configs/"+i+"-config.json")}if(!e){e=sap.ui.require.toUrl("sap/sac/df/fa/configs/sap-ui5-config.json")}const n=new r(e);n.attachRequestCompleted(e=>{const i=e.getSource();this._updateSupportedPanelsConfiguration(i,a);t(JSON.stringify(i.getData()))})}}).then(e=>{if(e){t.setStringArgument(n.AuGdsConstants.PARAM_GDS_CONFIGURATION,e)}})},getUrlParams:function(t){return(window.location.href.split(t+"=")[1]||"").split("&")[0]},log:function(t){if(this.logActive){console.log(this.getId()+": "+t)}},updateStyleTemplate:function(){if(this.program){var t=this.program.getActiveDocument();if(t.getTableView()&&t.getTableView().getTableDefinition()){var e=this.getStyleTemplateName();if(!e){return}var i=t.getTableView().getTableDefinition();if(e===s){if(i.getLinkedDefinition("FA")){i.unlinkDefinition("FA")}}else{var r=this._getMultiDimModel().getStylingProvider().getTemplate(e);if(r.getStyleForDataProvider&&this._getDataProvider()){r=r.getStyleForDataProvider(this._getDataProvider())}var a=n.QFactory.createTableDefinition();a.deserializeFromElementExt(n.QModelFormat.INA_REPOSITORY,new n.NativeJsonProxyElement(r));i.putLinkedDefinition("FA",a)}t.getTableView().reRenderTableStyling()}}}});return l});
/*
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/Grid",["sap/sac/df/controls/MultiDimControlBase","sap/sac/df/firefly/library"],function(t,e){var i=t.extend("sap.sac.df.Grid",{metadata:{library:"sap.sac.df",properties:{metaPath:{type:"string"},showStatusBar:{type:"boolean",defaultValue:false},showTitle:{type:"boolean",defaultValue:false},title:{type:"string"}},events:{onCellClick:{parameters:{cellContext:{type:"object"}}}}},init:function(){if(t.prototype.init){t.prototype.init.apply(this,arguments)}},renderer:t.getMetadata().getRenderer().render,setSelectedDataCell:function(t,i){const o=this._getDataProvider().getGridVisualization()._getFFVisualization()?.getActiveTableContainer();if(o){try{const a=o.getRowIndexForTupleIndex(t);const n=o.getColumnIndexForTupleIndex(i);if(a>=0&&n>=0){const t=e.XNotificationData.create();t.putInteger(e.AuAnalyticalTableViewPlugin.NOTIFICATION_DATA_SET_SELECTED_CELL_ROW_INDEX,a);t.putInteger(e.AuAnalyticalTableViewPlugin.NOTIFICATION_DATA_SET_SELECTED_CELL_COLUMN_INDEX,n);this.oHorizonProgram.postLocalNotification(e.AuAnalyticalTableViewPlugin.NOTIFICATION_SET_SELECTED_CELL,t)}}catch(t){console.log(t.message)}}},clearCellSelection:function(){this.oHorizonProgram.postLocalNotification(e.AuAnalyticalTableViewPlugin.NOTIFICATION_CLEAR_SELECTION,null)},getPluginConfigName:function(){return"Grid"},_runProgram:function(){let i=t.prototype._runProgram.apply(this);return i.then(()=>{let t=new e.XPair;t.setFirstObject(e.PrString.createWithValue("UI5ContextMenuProvider"));t.setSecondObject(this._getDefaultContextMenuProvider());this.oHorizonProgram.executeAction(e.HpMenuEngineCommandPlugin.PLUGIN_NAME,e.HpMenuEngineCommandPlugin.REGISTER_DYNAMIC_MENU_ACTIONS_PROVIDER,t)})},_getDefaultContextMenuProvider:function(){return this._getMultiDimModel().getContextMenuProviderRegistry().getDefaultProvider()},_onCellClick:function(t){this.fireOnCellClick({cellContext:this._getDefaultContextMenuProvider().convertCellClickContext(t,this._getDataProvider().Name)})},_applyPropertiesToPlugin:function(){t.prototype._applyPropertiesToPlugin.apply(this);if(this.oHorizonProgram){this.oHorizonProgram.setStatusBarVisible(this.getShowStatusBar());const t=e.XNotificationData.create();t.putBoolean(e.AuAnalyticalTableViewPlugin.NOTIFICATION_DATA_KEY_SHOW_QUERY_DETAILS,this.getShowTitle());this.oHorizonProgram.postLocalNotification(e.AuAnalyticalTableViewPlugin.NOTIFICATION_SHOW_QUERY_DETAILS,t);const i=e.XNotificationData.create();i.putString(e.AuAnalyticalTableViewPlugin.NOTIFICATION_DATA_KEY_TITLE,this.getTitle());this.oHorizonProgram.postLocalNotification(e.AuAnalyticalTableViewPlugin.NOTIFICATION_SET_TITLE,i);const o=e.XNotificationData.create();o.putXObject(e.AuAnalyticalTableViewPlugin.NOTIFICATION_DATA_ON_CELL_CLICK_CONSUMER,e.XConsumerHolder.create(this._onCellClick.bind(this)));this.oHorizonProgram.postLocalNotification(e.AuAnalyticalTableViewPlugin.NOTIFICATION_SET_ON_CELL_CLICK_CONSUMER,o)}}});return i});
/*
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/StylingPanel",["sap/sac/df/controls/MultiDimControlBase"],function(t){var e=t.extend("sap.sac.df.StylingPanel",{metadata:{library:"sap.sac.df",properties:{metaPath:{type:"string"}}},init:function(){if(t.prototype.init){t.prototype.init.apply(this,arguments)}},renderer:t.getMetadata().getRenderer().render,getPluginConfigName:function(){return"StylingPanel"},_applyPropertiesToPlugin:function(){t.prototype._applyPropertiesToPlugin.apply(this)}});return e});
/*
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/_internal/controls/MultiDimChat",["sap/sac/df/controls/MultiDimControlBase","sap/sac/df/firefly/library","sap/sac/df/firefly/ff8020.olap.ui.plugins"],function(i,n){var e=i.extend("sap.sac.df._internal.controls.MultiDimChat",{metadata:{library:"sap.sac.df",properties:{serviceEndpoint:{type:"string"}}},init:function(){if(i.prototype.init){i.prototype.init.apply(this,arguments)}},renderer:i.getMetadata().getRenderer().render,getPluginConfigName:function(){return"InsightVisionAi"},_getPluginConfig:function(){if(!this._oPluginConfig){this._oPluginConfig={configuration:{toolbarVisible:false,menuVisible:false,statusBarVisible:false},layout:{type:"SinglePlugin"},plugins:[{plugin:"InsightVisionAi",config:{serviceEndpoint:this.getServiceEndpoint()||"https://firefly.wdf.sap."+"corp/openai",useServiceEndpoint:true}}],commands:[{plugin:"DataProviderCommand"},{plugin:"MenuActionsProviderPlugin"},{plugin:"MenuEngine"}]}}return this._oPluginConfig},addSystemMessage:function(i){this.oHorizonProgram.executeActionById(n.OpInsightVisionAiPlugin.PLUGIN_NAME+"."+n.HpAzureOpenAiCommandPlugin.SET_SYSTEM_MESSAGE,i)},addFunction:function(i,e,t){let o=n.UtAzureOpenAiConnectorFunction.create(i,e);o.setFunction(()=>{t()});o.setFunction(()=>n.XPromise.resolve(t()));this.oHorizonProgram.executeActionById(n.HpAzureOpenAiCommandPlugin.PLUGIN_NAME+"."+n.HpAzureOpenAiCommandPlugin.ADD_FUNCTION,o)}});return e});
/*
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/changeHandler/MultiDimModelChangeHandler",["sap/ui/mdc/Control","sap/ui/fl/write/api/ControlPersonalizationWriteAPI","sap/ui/core/CustomData","sap/ui/core/Component"],function(e,t,i,n){"use strict";var o=e.extend("sap.sac.df.changeHandler.MultiDimModelChangeHandler",{metadata:{publicMethods:["registerMultiDimModel"]},renderer:"sap.ui.core.Renderer",init:function(){e.prototype.init.apply(this,arguments);this.skipApplyModelChange=false;var t=new i({key:"sap-ui-custom-settings",value:{"sap.ui.fl":{flexibility:"sap/sac/df/changeHandler/flexibility/MultiDimModelChangeHandler.flexibility"}}});this.addCustomData(t)},_getMultiDimModel:function(){if(this._MultiDimModel){var e=this._MultiDimModel}else{e=n.getOwnerComponentFor(this)&&n.getOwnerComponentFor(this).getModel("om")}if(!e){throw new Error("No MultiDimModel found.")}return e},_initialise:function(){this._createModelChangeInProcess=false;this._getMultiDimModel().attachEvent("dataProviderUpdated",null,this._createModelChange.bind(this))},_createModelChange:function(){var e=this;var i={selectorElement:this,changeSpecificData:{changeType:"MultiDimModelChange",content:this._getMultiDimModel().serialize("INA_REPOSITORY_DELTA"),transient:false}};this._createModelChangeInProcess=true;return Promise.resolve(t.add({selector:e,changes:[i]})).then(function(){e._createModelChangeInProcess=false})}});o.prototype.registerMultiDimModel=function(e){this._MultiDimModel=e;this._initialise()};o.prototype.applyModelChange=function(e){if(!this.skipApplyModelChange&&!this._createModelChangeInProcess){return Promise.resolve(this._getMultiDimModel().deserialize(e.getContent(),"INA_REPOSITORY_DELTA"))}this.skipApplyModelChange=false;return Promise.resolve()};o.prototype.revertModelChange=function(){if(!this.skipApplyModelChange&&!this._createModelChangeInProcess){return Promise.resolve(this._getMultiDimModel().resetModel())}return Promise.resolve()};o.prototype.skipApplyModelChangeOnce=function(){this.skipApplyModelChange=true};return o});
/*
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/changeHandler/_ModelChangeHandler",["sap/ui/mdc/Control","sap/ui/fl/write/api/ControlPersonalizationWriteAPI","sap/ui/core/CustomData"],function(e,a,n){"use strict";var t=e.extend("sap.sac.df.changeHandler._ModelChangeHandler",{renderer:"sap.ui.core.Renderer",metadata:{events:{applyModelChange:{parameters:{oChange:{type:"sap.ui.fl.write.api.ControlPersonalizationWriteAPI.PersonalizationChange"}}},revertModelChange:{parameters:{oChange:{type:"sap.ui.fl.write.api.ControlPersonalizationWriteAPI.PersonalizationChange"}}}},publicMethods:["createModelChange"]},init:function(){e.prototype.init.apply(this,arguments);this.skipApplyModelChange=false;var a=new n({key:"sap-ui-custom-settings",value:{"sap.ui.fl":{flexibility:"sap/sac/df/changeHandler/flexibility/_ModelChangeHandler.flexibility"}}});this.addCustomData(a)},skipApplyModelChangeOnce:function(){this.skipApplyModelChange=true},applyModelChange:function(e){if(!this.skipApplyModelChange){return this.fireApplyModelChange({change:e})}this.skipApplyModelChange=false},revertModelChange:function(e){return this.fireRevertModelChange({change:e})},createModelChange:function(e){return this._createModelChange(e)},_createModelChange:function(e){var n=this;this.skipApplyModelChange=true;var t={selectorElement:this,changeSpecificData:{changeType:"ModelChange",content:e,transient:false}};return Promise.resolve(a.add({selector:this,changes:[t]})).then(function(){n.skipApplyModelChange=false})}});return t});
/*
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/changeHandler/flexibility/MultiDimModelChangeHandler.flexibility", ["sap/ui/fl/changeHandler/Base","sap/ui/fl/changeHandler/condenser/Classification"],function(e,n){"use strict";return{MultiDimModelChange:{applyChange:function(e,n){return n.applyModelChange(e)},revertChange:function(e,n){return n.revertModelChange(e)},completeChangeContent:function(){},getCondenserInfo:function(e){return{affectedControl:e.getSelector(),classification:n.Update,uniqueKey:"MultiDimModelChange",updateContent:e.getContent()}}}}});
/*
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/changeHandler/flexibility/_ModelChangeHandler.flexibility", ["sap/ui/fl/changeHandler/Base","sap/ui/fl/changeHandler/condenser/Classification"],function(e,n){"use strict";return{ModelChange:{applyChange:function(e,n){return n.applyModelChange(e)},revertChange:function(e,n){return n.revertModelChange(e)},completeChangeContent:function(){},getCondenserInfo:function(e){return{affectedControl:e.getSelector(),classification:n.Update,uniqueKey:"ModelChange",updateContent:e.getContent()}}}}});
/*
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/controls/MultiDimAnalysis",["sap/ui/core/Control","sap/ui/thirdparty/jquery","sap/m/FlexItemData","sap/m/HBox","sap/m/VBox","sap/m/OverflowToolbar","sap/m/OverflowToolbarButton","sap/m/OverflowToolbarToggleButton","sap/ui/model/json/JSONModel","sap/base/Log","sap/sac/df/DesignerPanel","sap/sac/df/controls/MultiDimVizRenderer","sap/sac/df/controls/MultiDimVizSettingsPanel","sap/sac/df/model/MultiDimModel","sap/sac/df/utils/MetaPathHelper","sap/f/SidePanel","sap/f/SidePanelItem"],function(e,jQuery,t,i,s,n,o,a,r,d,l,h,u,g,_,P,f){const p=e.extend("sap.sac.df.controls.MultiDimAnalysis",{metadata:{library:"sap.sac.df",properties:{metaPath:{type:"string"},height:{type:"sap.ui.core.CSSSize",defaultValue:"100%"},width:{type:"sap.ui.core.CSSSize",defaultValue:"100%"}}},init:function(){this._oMainLayout=new s(this.getId()+"--MainLayout",{height:"100%"});this._initHeaderToolbar();this._initSidePanel()},renderer:{apiVersion:2,render:function e(t,i){d.info("DF: Start - MultiDimAnalysis - render");t.openStart("div",i).class("sapUiZenMultiDimAnalysis").style("height",i.getHeight()).style("width",i.getWidth()).style("position","relative").openEnd();t.renderControl(i._oMainLayout);t.close("div");d.info("DF: End - MultiDimAnalysis - render")}},onAfterRendering:function(){d.info("DF: Start - MultiDimAnalysis - onAfterRendering");const t=[this._oDesignerPanel.getId(),this._oVizSettingsPanel.getId()];t.forEach(function(e){let t=jQuery("#"+e).parent()[0];if(t){t.style.height="100%"}});if(e.prototype.onAfterRendering){e.prototype.onAfterRendering.apply(this,arguments)}d.info("DF: End - MultiDimAnalysis - onAfterRendering")},exit:function(){this._oAutoRefreshButton.destroy(true);this._oRefreshButton.destroy(true);this._oHeaderToolbar.destroy(true);this._oVizRenderer.destroy(true);this._oDesignerPanel.destroy(true);this._oBuilderSidePanelItem.destroy(true);this._oVizSettingsPanel.destroy(true);this._oVizSettingsPanelItem.destroy(true);this._oStyleSidePanelItem.destroy(true);this._oSidePanel.destroy(true);this._oMainLayout.destroy(true);e.prototype.exit.apply(this,arguments)},setMetaPath:function(e){this.setProperty("metaPath",e);let t=_.getMultiDimModelName(e);if(t){this._oSidePanel.setModel(this.getModel(t),t)}this._oVizRenderer.setMetaPath(e);this._oDesignerPanel.setMetaPath(e);this._oVizSettingsPanel.setMetaPath(e);this._oAutoRefreshButton.setEnabled(!!this._getDataProviderName()).setPressed(true);this._oRefreshButton.setEnabled(false)},_initHeaderToolbar:function(){this._oHeaderToolbar=new n(this.getId()+"--OverflowToolbar");this._oAutoRefreshButton=new a(this.getId()+"--AutoRefreshBtn",{icon:"sap-icon://synchronize",tooltip:"Auto Refresh",pressed:true,enabled:!!this._getDataProvider()});this._oAutoRefreshButton.attachPress(this._onAutoRefreshToggle.bind(this));this._oHeaderToolbar.addContent(this._oAutoRefreshButton);this._oRefreshButton=new o(this.getId()+"--RefreshBtn",{icon:"sap-icon://refresh",tooltip:"Refresh Data from Back-end",enabled:!!this._getDataProvider()&&!this._oAutoRefreshButton.getPressed()});this._oRefreshButton.attachPress(this._onRefreshPress.bind(this));this._oHeaderToolbar.addContent(this._oRefreshButton);this._oMainLayout.addItem(this._oHeaderToolbar)},_initSidePanel:function(){const e={growFactor:1};this._oSidePanel=new P(this.getId()+"--SidePanel",{sidePanelResizable:true,sidePanelMinWidth:"25rem",sidePanelWidth:"35rem",sidePanelMaxWidth:"60%",layoutData:new t(e)});this._oSidePanel.attachToggle(function(){this.invalidate()}.bind(this));this._oVizRenderer=new h(this.getId()+"--VizRenderer");this._oSidePanel.addMainContent(this._oVizRenderer);this._initInnerPanels();this._oMainLayout.addItem(this._oSidePanel)},_initInnerPanels:function(){const e={growFactor:1};this._oDesignerPanel=new l(this.getId()+"--DesignerPanel");this._oDesignerPanel.setLayoutData(new t(e));this._oBuilderSidePanelItem=new f(this.getId()+"--BuilderSidePanelItem",{icon:"sap-icon://fpa/customise",text:"Builder"});this._oBuilderSidePanelItem.addContent(this._oDesignerPanel);this._oSidePanel.addItem(this._oBuilderSidePanelItem);this._oVizSettingsPanel=new u(this.getId()+"--VizSettingsPanel");this._oVizSettingsPanel.setLayoutData(new t(e));this._oVizSettingsPanelItem=new f(this.getId()+"--VizSettingsSidePanelItem",{icon:"sap-icon://provision",text:"Manage visualizations"});this._oVizSettingsPanelItem.addContent(this._oVizSettingsPanel);this._oSidePanel.addItem(this._oVizSettingsPanelItem);this._oStyleSidePanelItem=new f(this.getId()+"--FormattingSidePanelItem",{icon:"sap-icon://fpa/designer",text:"Formatting (WIP)"});this._oSidePanel.addItem(this._oStyleSidePanelItem)},_getMultiDimModel:function(){var e=_.getMultiDimModelName(this.getMetaPath());return e?this.getModel(e):null},_getDataProvider:function(){const e=this._getDataProviderName();return e&&this._getMultiDimModel()?.getDataProvider(e)},_getDataProviderName:function(){return _.getDataProviderName(this.getMetaPath())},_onAutoRefreshToggle:function(e){const t=this._getDataProvider();if(t){const t=e.getParameter("pressed");this._oRefreshButton.setEnabled(!t);this.invalidate()}else{e.preventDefault()}},_onRefreshPress:function(){this._oVizRenderer.refresh();this._oDesignerPanel.refresh();this._oVizSettingsPanel.refresh()}});return p});
/*
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/controls/MultiDimChart",["sap/sac/df/controls/MultiDimControlBase","sap/sac/df/firefly/library"],function(t,i){var a=t.extend("sap.sac.df.controls.MultiDimChart",{metadata:{library:"sap.sac.df",properties:{metaPath:{type:"string"}}},init:function(){if(t.prototype.init){t.prototype.init.apply(this,arguments)}},renderer:t.getMetadata().getRenderer().render,getPluginConfigName:function(){return"MultiDimChart"},_applyPropertiesToPlugin:function(){t.prototype._applyPropertiesToPlugin.apply(this);const a=this._getVisualizationName();if(this.oHorizonProgram&&a){const t=i.XNotificationData.create();t.putString(i.AuAnalyticalChartViewPlugin.NOTIFY_DATA_VISUALIZATION_NAME,a);this.oHorizonProgram.postLocalNotification(i.AuAnalyticalChartViewPlugin.NOTIFICATION_VISUALIZATION_NAME_SET,t)}}});return a});
/*
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/controls/MultiDimControlBase",["sap/ui/core/Control","sap/ui/thirdparty/jquery","sap/ui/model/json/JSONModel","sap/base/Log","sap/sac/df/model/MultiDimModel","sap/ui/core/UIArea","sap/sac/df/firefly/library","sap/sac/df/utils/MetaPathHelper"],function(t,jQuery,e,i,o,n,r,a){const s=t.extend("sap.sac.df.controls.MultiDimControlBase",{metadata:{library:"sap.sac.df",abstract:true,properties:{metaPath:{type:"string"},height:{type:"sap.ui.core.CSSSize",defaultValue:"100%"},width:{type:"sap.ui.core.CSSSize",defaultValue:"100%"}},aggregations:{layoutData:{type:"sap.ui.core.LayoutData",multiple:false}}},init:function(){this._bRunProgramInProgress=false;this._oPluginContainer=jQuery(`<div id="${this._getPluginContainerId()}"/>`)},renderer:{apiVersion:2,render:function t(e,o){i.info("DF: Start - MultiDimControlBase - render");e.openStart("div",o).class("sapUiZenMultiDimControlBase").style("height",o.getHeight()).style("width",o.getWidth()).style("border","0.03125rem solid var(--sapIllus_Layering1, #a9b4be)").style("box-sizing","border-box").style("position","relative").openEnd();if(!o._getPluginConfig()){e.openStart("div",o).openEnd().text(" No plugin configuration found ").close("div")}e.close("div");i.info("DF: End - MultiDimControlBase - render")}},onAfterRendering:async function(){i.info("DF: Start - MultiDimControlBase - onAfterRendering");if(t.prototype.onAfterRendering){t.prototype.onAfterRendering.apply(this,arguments)}const e=this.$();this._oPluginContainer.appendTo(e);if(this._getPluginConfig()&&!this._bRunProgramInProgress){if(!this.oHorizonProgram){this._bRunProgramInProgress=true;this.setBusy(true);try{await this._runProgram()}catch(t){i.error("DF: MultiDimControlBase - "+t.message)}finally{this._bRunProgramInProgress=false;this.setBusy(false)}}else{this.refresh()}}i.info("DF: End - MultiDimControlBase - onAfterRendering")},exit:function(){if(this.oHorizonProgram){this.oHorizonProgram.terminate();delete this.oHorizonProgram}if(this.oHorizonRunner){this.oHorizonRunner.releaseObject();delete this.oHorizonRunner}this._unregisterOnDataProviderChange();this.oDataProvider=null;delete this._oPluginContainer;delete this._oPluginConfig;t.prototype.exit.apply(this,arguments)},refresh:function(){if(this.oHorizonProgram){const t=this._getDataProvider();if(t){this.oHorizonProgram.postLocalNotification(r.DfOuDataProviderComponentPlugin.NOTIFICATION_COMPONENT_PLUGIN_REFRESH,t._FFDataProvider)}this._applyPropertiesToPlugin()}},_getMultiDimModelName:function(){return a.getMultiDimModelName(this.getMetaPath())},_getMultiDimModel:function(){return this._getMultiDimModelName()&&this.getModel(this._getMultiDimModelName())||this.getModel("om")},_getDataProviderName:function(){return a.getDataProviderName(this.getMetaPath())},_getDataProvider:function(){return this._getMultiDimModel()&&this._getDataProviderName()&&this._getMultiDimModel().getDataProvider(this._getDataProviderName())},_getVisualizationName:function(){return a.getVisualizationName(this.getMetaPath())},_getVisualization:function(){return this._getVisualizationName()&&this._getDataProvider().getVisualization(this._getVisualizationName())},setMetaPath:function(t){t=t&&t.replace("&gt;",">");this.setProperty("metaPath",t);if(t){if(this._getDataProvider()){this._updateDataProviderInstance(this._getDataProviderName())}else{this.setBusy(true);this._updateDataProviderInstance(null);return Promise.resolve(this._setupModel()).then(()=>{this.setBusy(false)})}}else{this._updateDataProviderInstance(null)}},_updatePluginConfig:function(t,e,o){if(t){const n=this._getPluginConfig();const a=n.getListByKey("plugins");if(a?.size()===1){const i=a.getElementAt(0);const n=i.getObjectByKeyExt(r.HuHorizonConstants.PARAM_CONFIG,{});n[t]=e;i.put(r.HuHorizonConstants.PARAM_CONFIG,n);if(!o){this._reloadPlugin()}}else{i.info("DF: MultiDimControlBase - Cannot update plugin config.")}}},_getPluginConfig:function(){if(!this._oPluginConfig){const t=this.getPluginConfigName();const e=t==="AnalyticalWidget"||t==="AnalyticalWidgetDesignerDocument"?JSON.stringify(this._config):r.HorizonPluginConfigProvider.getInstance().getConfig(t);this._oPluginConfig=r.PrUtils.deserialize(e)}return this._oPluginConfig},_reloadPlugin:function(){if(this.oHorizonProgram){this.oHorizonProgram._getController().addStatusChangedListener(t=>{if(t===r.HuMainControllerStatus.READY){this._applyPropertiesToPlugin();this._setActiveDataProviderToPlugin(this._getDataProviderName())}});this.oHorizonProgram.reloadWithConfiguration(this._getPluginConfig())}},_getPluginContainerId:function(){return this.getId()+"--pluginContainer"},_setupModel:async function(){if(this.getMetaPath()||(this.getPluginConfigName()==="AnalyticalWidgetDesignerDocument"||this.getPluginConfigName()==="AnalyticalWidget"&&this.getWidgetId())){await this._initModel();const t=this._getMultiDimModel();return t&&t.getSession()}},_initModel:function(){const t=this._getMultiDimModel();if(t){const e=t=>{const e=t.getParameter("dataProviderName");i.info(`DF: MultiDimControlBase - DataProvider changed '${e}'`);if(e===this._getDataProviderName()){this._updateDataProviderInstance(e)}};t.attachEvent("dataProviderAdded",null,e,this);t.attachEvent("dataProviderUpdated",null,e,this);t.attachEvent("dataProviderRemoved",null,e,this);return t.loaded()}},_updateDataProviderInstance:function(t){if(this.oHorizonProgram){if(t){const e=this._getMultiDimModel();if(e){const i=e.getDataProvider(t);const o=i?._FFDataProvider;if(o!=null&&o!==this.oDataProvider){const e=r.OuDataProviderCPParam.createForGetDataProvider(t);this.oHorizonProgram.executeActionById(`${r.OuDataProviderCommandPlugin.PLUGIN_NAME}.${r.OuDataProviderCPConstants.CMD_GET_DATA_PROVIDER_BY_NAME}`,e).onThen(e=>{if(e){this._setActiveDataProvider(t,e)}}).onCatch(()=>{const e=r.OuDataProviderCPParam.createForRegisterExistingDataProvider(t,o);this.oHorizonProgram.executeActionById(`${r.OuDataProviderCommandPlugin.PLUGIN_NAME}.${r.OuDataProviderCPConstants.CMD_REGISTER_EXISTING_DATA_PROVIDER}`,e).onThen(()=>{this._setActiveDataProvider(t,o)})})}}}else{this._setActiveDataProvider(t,null)}}},_setActiveDataProvider:function(t,e){if(e!==this.oDataProvider){this._setActiveDataProviderToPlugin(t).onThen(function(){this._unregisterOnDataProviderChange();this.oDataProvider=e;const t=this._getMultiDimModel().getApplication().getProcess().getDataProviderPool();t&&t.addDataProvider(e);this._registerOnDataProviderChange()}.bind(this))}},_setActiveDataProviderToPlugin:function(t){const e=r.OuDataProviderCPParam.createForGetDataProvider(t);return this.oHorizonProgram.executeActionById(`${r.OuDataProviderCommandPlugin.PLUGIN_NAME}.${r.OuDataProviderCPConstants.CMD_SET_ACTIVE_DATA_PROVIDER}`,e)},_registerOnDataProviderChange:function(){if(this.oDataProvider){this._sUpdateListenerId=this.oDataProvider.getEventing().getEmitterForModelChanges().getListener().addConsumer(function(t){if(t.hasAnyComponentChanged()){this._getMultiDimModel().checkUpdate()}}.bind(this))}},_unregisterOnDataProviderChange:function(){if(this.oDataProvider&&this._sUpdateListenerId){this.oDataProvider.getEventing().getEmitterForModelChanges().getListener().removeConsumerByUuid(this._sUpdateListenerId);this._sUpdateListenerId=null}},_runProgram:async function(){const t=await this._setupModel();return new Promise((e,o)=>{if(!t){o(new Error("Parent process not found"))}else{this.oHorizonRunner=r.ProgramRunner.createRunner(t,"Horizon");this.oHorizonRunner.setNativeAnchorId(this._getPluginContainerId());this.oHorizonRunner.setConfigStructure(this._getPluginConfig());return this.oHorizonRunner.runProgram().onThen(t=>{this.oHorizonProgram=t;this._applyPropertiesToPlugin();i.info("DF: MultiDimControlBase - Horizon program started");this._updateDataProviderInstance(this._getDataProviderName());this._applyContextMenuConfiguration();this._bRunProgramInProgress=false;e()}).onCatch(t=>{o(new Error("Horizon program failed to start: "+t))})}})},_applyContextMenuConfiguration:function(){if(this._getMultiDimModel()?.Configuration&&this._getMultiDimModel()?.Configuration?.getContextMenuConfiguration()){const t=r.PrUtils.deserialize(this._getMultiDimModel()?.Configuration?.getContextMenuConfiguration());this.oHorizonProgram.executeActionById(`${r.HpMenuEngineCommandPlugin.PLUGIN_NAME}.${r.HpMenuEngineCommandPlugin.LOAD_BASE_CONFIGURATION}`,t)}},_applyPropertiesToPlugin:function(){}});return s});
/*
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/controls/MultiDimFilterLine",["sap/sac/df/controls/MultiDimControlBase"],function(t){var e=t.extend("sap.sac.df.controls.MultiDimFilterLine",{metadata:{library:"sap.sac.df"},init:function(){if(t.prototype.init){t.prototype.init.apply(this,arguments);this.setHeight("3rem")}},renderer:t.getMetadata().getRenderer().render,getPluginConfigName:function(){return"MultiDimFilterLine"}});return e});
/*
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/controls/MultiDimVizRenderer",["sap/sac/df/controls/MultiDimControlBase"],function(e){var t=e.extend("sap.sac.df.controls.MultiDimVizRenderer",{metadata:{library:"sap.sac.df",properties:{metaPath:{type:"string"}}},init:function(){if(e.prototype.init){e.prototype.init.apply(this,arguments)}},renderer:e.getMetadata().getRenderer().render,getPluginConfigName:function(){return"MultiDimVizRenderer"},_applyPropertiesToPlugin:function(){e.prototype._applyPropertiesToPlugin.apply(this)}});return t});
/*
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/controls/MultiDimVizSettingsPanel",["sap/sac/df/controls/MultiDimControlBase"],function(t){var e=t.extend("sap.sac.df.controls.MultiDimVizSettingsPanel",{metadata:{library:"sap.sac.df",properties:{metaPath:{type:"string"}}},init:function(){if(t.prototype.init){t.prototype.init.apply(this,arguments)}},renderer:t.getMetadata().getRenderer().render,getPluginConfigName:function(){return"MultiDimVizSettingsPanel"},_applyPropertiesToPlugin:function(){t.prototype._applyPropertiesToPlugin.apply(this)}});return e});
/*
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/controls/MultiDimWidget",["sap/sac/df/controls/MultiDimControlBase"],function(t){var i=t.extend("sap.sac.df.controls.MultiDimWidget",{metadata:{library:"sap.sac.df",properties:{metaPath:{type:"string"},widgetId:{type:"string"}}},init:function(){if(t.prototype.init){t.prototype.init.apply(this,arguments)}this._config={configuration:{},layout:{type:"SinglePlugin"},plugins:[{plugin:"AnalyticalWidget",config:{widgetCatalog:"/analyticalwidgets/",widgetId:null}}],commands:[],toolbar:[]}},onBeforeRendering:function(){this._config.plugins[0].config.widgetId=this.getWidgetId()},setWidgetId:function(t){if(this.getWidgetId()){this.setProperty("widgetId",t);if(this.oHorizonProgram){this.oHorizonProgram.terminate();delete this.oHorizonProgram}if(this.oHorizonRunner){this.oHorizonRunner.releaseObject();delete this.oHorizonRunner}this._unregisterOnDataProviderChange();this.oDataProvider=null;delete this._oPluginContainer;delete this._oPluginConfig;this.init();return this.onBeforeRendering()}else{this.setProperty("widgetId",t)}},renderer:t.getMetadata().getRenderer().render,getPluginConfigName:function(){return"AnalyticalWidget"},_applyPropertiesToPlugin:function(){t.prototype._applyPropertiesToPlugin.apply(this)}});return i});
/*
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/controls/MultiDimWidgetDesigner",["sap/sac/df/controls/MultiDimControlBase"],function(t){var i=t.extend("sap.sac.df.controls.MultiDimWidgetDesigner",{metadata:{library:"sap.sac.df",properties:{metaPath:{type:"string"},widgetId:{type:"string"}}},init:function(){if(t.prototype.init){t.prototype.init.apply(this,arguments)}this._config={configuration:{},layout:{type:"SinglePlugin"},plugins:[{plugin:"AnalyticalWidgetDesignerDocument",config:{systemName:null,widgetCatalog:"/analyticalwidgets/",widgetId:null,previewUrl:null,sdkUrl:null,bootstrapConfigUrl:null}}],commands:[{plugin:"DataProviderCommand",config:{}}],toolbar:[]}},onBeforeRendering:function(){this._config.plugins[0].config.widgetId=this.getWidgetId();if(this._getMultiDimModel()?._SystemSettings?.masterSystem){this._config.plugins[0].config.systemName=this._getMultiDimModel()?._SystemSettings?.masterSystem}},renderer:t.getMetadata().getRenderer().render,getPluginConfigName:function(){return"AnalyticalWidgetDesignerDocument"},_applyPropertiesToPlugin:function(){t.prototype._applyPropertiesToPlugin.apply(this)}});return i});
/*
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/fa/FinStyle",["sap/sac/df/types/DimensionType","sap/sac/df/firefly/library"],function(e,t){var a={TableDefinition:{CType:"VisualizationTableDefinition",ScopedStyle:[{Name:"middle-alignment",Text:"middle-alignment",ColumnsScope:{CType:"VisualizationCellReferenceScope",MatchDataSectionFull:true},Style:"middle-alignment"},{Name:"Actual",Text:"Actual",ColumnsScope:{CType:"VisualizationCellReferenceScope",ReferencePaths:[]},Style:"ActualStyle"},{Name:"Previous",Text:"Previous",ColumnsScope:{CType:"VisualizationCellReferenceScope",ReferencePaths:[]},Style:"PreviousStyle"},{Name:"Budget",Text:"Budget",ColumnsScope:{CType:"VisualizationCellReferenceScope",ReferencePaths:[]},Style:"BudgetStyle"},{Name:"Forecast",Text:"Forecast",ColumnsScope:{CType:"VisualizationCellReferenceScope",ReferencePaths:[]},Style:"ForecastStyle"},{Name:"PercentageVariance",Text:"PercentageVariance",ColumnsScope:{CType:"VisualizationCellReferenceScope",ReferencePaths:[]},Style:"PercentageVarianceStyle"},{Name:"AbsoluteVariance",Text:"AbsoluteVariance",ColumnsScope:{CType:"VisualizationCellReferenceScope",ReferencePaths:[]},Style:"AbsoluteVarianceStyle"},{Name:"bold",RowsScope:{CType:"VisualizationCellReferenceScope",ReferencePaths:[{ReferencePathElements:[{AxisLevel:0,Leaves:false}]}]},Style:"bold",Text:"bold"},{Name:"leaves",RowsScope:{CType:"VisualizationCellReferenceScope",ReferencePaths:[{ReferencePathElements:[{AxisLevel:0,Leaves:true}]}]},Style:"leaves",Text:"leaves"},{Name:"hl0_td",RowsScope:{CType:"VisualizationCellReferenceScope",MatchModulo:-1,MatchOrdinal:-1,ReferencePaths:[{ReferencePathElements:[{AxisLevel:0,HierarchyLevel:0,IncludeHeaderBand:false,HierarchyLevelExact:true,Leaves:false,Expanded:true,LowerLevelNodeAlignment:"Below"}]}]},Style:"hl0_td",Text:"hl0_td"},{Name:"hl1_td",RowsScope:{CType:"VisualizationCellReferenceScope",MatchModulo:-1,MatchOrdinal:-1,ReferencePaths:[{ReferencePathElements:[{AxisLevel:0,HierarchyLevel:1,IncludeHeaderBand:false,HierarchyLevelExact:true,Leaves:false,Expanded:true,LowerLevelNodeAlignment:"Below"}]}]},Style:"hl1_td",Text:"hl1_td"},{Name:"hl2_td",RowsScope:{CType:"VisualizationCellReferenceScope",MatchModulo:-1,MatchOrdinal:-1,ReferencePaths:[{ReferencePathElements:[{AxisLevel:0,HierarchyLevel:2,HierarchyLevelExact:true,IncludeHeaderBand:false,Leaves:false,Expanded:true,LowerLevelNodeAlignment:"Below"}]}]},Style:"hl2_td",Text:"hl2_td"},{Name:"hl0_bu",RowsScope:{CType:"VisualizationCellReferenceScope",MatchModulo:-1,MatchOrdinal:0,ReferencePaths:[{ReferencePathElements:[{AxisLevel:0,HierarchyLevel:0,IncludeHeaderBand:false,HierarchyLevelExact:true,Leaves:false,Expanded:true,LowerLevelNodeAlignment:"Above"}]}]},Style:"hl0_bu",Text:"hl0_bu"},{Name:"hl1_bu",RowsScope:{CType:"VisualizationCellReferenceScope",MatchModulo:-1,MatchOrdinal:0,ReferencePaths:[{ReferencePathElements:[{AxisLevel:0,HierarchyLevel:1,IncludeHeaderBand:false,HierarchyLevelExact:true,Leaves:false,Expanded:true,LowerLevelNodeAlignment:"Above"}]}]},Style:"hl1_bu",Text:"hl1_bu"},{Name:"hl2_bu",RowsScope:{CType:"VisualizationCellReferenceScope",MatchModulo:-1,MatchOrdinal:0,ReferencePaths:[{ReferencePathElements:[{AxisLevel:0,HierarchyLevel:2,HierarchyLevelExact:true,IncludeHeaderBand:false,Leaves:false,Expanded:true,LowerLevelNodeAlignment:"Above"}]}]},Style:"hl2_bu",Text:"hl2_bu"}],Styles:[{VerticalAlignment:"Middle",Name:"middle-alignment",Priority:0,Text:"middle-alignment"},{FontBold:true,Name:"bold",Priority:0,Text:"bold"},{FontBold:false,Name:"leaves",BottomLine:{LineColor:"sapUiWhite",LineStyle:"Solid",LineWidth:1},Priority:0,Text:"leaves"},{BottomLine:{LineColor:"sapUiBrand",LineStyle:"Solid",LineWidth:2},Name:"hl0_td",Priority:0,Text:"hl0_td"},{BottomLine:{LineColor:"sapUiBlackBorder",LineStyle:"Solid",LineWidth:2},Name:"hl1_td",Priority:0,Text:"hl1_td"},{BottomLine:{LineColor:"sapUiBlackBorder",LineStyle:"Solid",LineWidth:1},Name:"hl2_td",Priority:0,Text:"hl2_td"},{BottomLine:{LineColor:"sapUiBrand",LineStyle:"Solid",LineWidth:2},Name:"hl0_bu",Priority:0,Text:"hl0_bu"},{BottomLine:{LineColor:"sapUiBlackBorder",LineStyle:"Solid",LineWidth:2},Name:"hl1_bu",Priority:0,Text:"hl1_bu"},{BottomLine:{LineColor:"sapUiBlackBorder",LineStyle:"Solid",LineWidth:1},Name:"hl2_bu",Priority:0,Text:"hl2_bu"},{BottomLine:{PatternType:"Solid",PatternColor:"sapUiBlackBorder",PatternWidth:4,PatternBorderColor:"sapUiBlackBorder"},Name:"ActualStyle",Text:"ActualStyle",Priority:0},{BottomLine:{PatternType:"Solid",PatternColor:"sapUiContentUnratedColor",PatternWidth:4,PatternBorderColor:"sapUiContentUnratedColor"},Name:"PreviousStyle",Text:"PreviousStyle",Priority:0},{BottomLine:{PatternType:"Nofill",PatternColor:"sapUiBlackBorder",PatternWidth:4,PatternBorderColor:"sapUiBlackBorder"},Name:"BudgetStyle",Text:"BudgetStyle",Priority:0},{BottomLine:{PatternType:"Hatching1",PatternColor:"sapUiContentImagePlaceholderBackground",LineWidth:1,PatternWidth:4,PatternBorderColor:"sapUiContentImagePlaceholderBackground"},Name:"ForecastStyle",Text:"ForecastStyle",Priority:0},{BottomLine:{PatternType:"Nofill",PatternColor:"sapUiBrand",PatternWidth:4,PatternBorderColor:"sapUiBrand"},Name:"AbsoluteVarianceStyle",Text:"AbsoluteVarianceStyle",Priority:0},{BottomLine:{PatternType:"Hatching1",PatternColor:"sapUiBrand",PatternWidth:4,PatternBorderColor:"sapUiBrand"},Name:"PercentageVarianceStyle",Text:"PercentageVarianceStyle",Priority:0}],TableHeaderCompactionType:"PreferablyColumn",TableMarkup:[{ColumnsScope:{CType:"VisualizationCellReferenceScope",MatchDataSectionEnd:false,MatchDataSectionFull:true,MatchDataSectionStart:false,MatchHeaderSectionEnd:false,MatchHeaderSectionFull:true,MatchHeaderSectionStart:false,MatchModulo:0,MatchOrdinal:0},Name:"tm",Priority:0,ScopedStyle:["hl0_td","hl1_td","hl2_td","hl0_bu","hl1_bu","hl2_bu","leaves","bold"],Text:"tm",Width:0},{RowsScope:{CType:"VisualizationCellReferenceScope",MatchHeaderSectionEnd:true},HeightAddition:3,Name:"semantic",Priority:0,ScopedStyle:["middle-alignment","Actual","Previous","Budget","Forecast","AbsoluteVariance","PercentageVariance"],Text:"semantic",Width:0}],TableMemberHeaderHandling:"FirstMember"},Name:"FIN",Text:"S4-Fin Style"};function l(l){this.memberMapping=l;this.ACTUAL="Actual";this.BUDGET="Budget";this.VARIANCE="Variance";this.getStyleForDataProvider=function(l){var r=JSON.parse(JSON.stringify(a));if(!this.memberMapping){return r}var i=function(a){if(this.memberMapping[a]){var i=Object.keys(this.memberMapping[a]);for(var n=0;n<i.length;n++){var o=i[n];var c=l.Dimensions[a].Members.find(function(e){return e.Name===o});if(c){var s=this.memberMapping[a][o];for(var d=0;d<s.length;d++){var h=r.TableDefinition.ScopedStyle.find(function(e){return e.Name===s[d]});if(h){var u=a===e.MeasureStructure?t.DimensionType.MEASURE_STRUCTURE.getName():t.DimensionType.SECONDARY_STRUCTURE.getName();var m;if(h.ColumnsScope.ReferencePaths.length===1&&h.ColumnsScope.ReferencePaths[0].DimensionType===u){m=h.ColumnsScope.ReferencePaths[0]}else if(h.ColumnsScope.ReferencePaths.length===2&&h.ColumnsScope.ReferencePaths[0].DimensionType===u){m=h.ColumnsScope.ReferencePaths[1]}else{m={ReferencePathElements:[{DimensionType:u,MemberNames:[]}]};h.ColumnsScope.ReferencePaths.push(m)}m.ReferencePathElements[0].MemberNames.push(c.Key)}}}}}}.bind(this);i(e.MeasureStructure);i(e.StructureDimension);return r}}return l});
/*
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/filter/TypeMap", ["sap/ui/mdc/DefaultTypeMap"],function(e){"use strict";var t=Object.assign({},e);t.import(e);t.setAlias("Double","sap.ui.model.type.Float");t.freeze();var s={Date:{source:{format:"yyyy-MM-dd",pattern:"yyyy-MM-dd"}},Time:{source:{format:"HH:mm:ss",pattern:"HH:mm:ss"}},DateTime:{source:{format:"yyyy-MM-ddTHH:mm:ss",pattern:"yyyy-MM-ddTHH:mm:ss"}}};t.getFormatOptions=function(e){return s[e]};return t});
/*!
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/filter/ValueHelp", ["sap/ui/mdc/ValueHelp","sap/ui/mdc/valuehelp/content/FixedList","sap/ui/mdc/valuehelp/content/FixedListItem","sap/ui/mdc/valuehelp/Popover","sap/sac/df/model/MemberFilter","sap/ui/core/library"],(e,t,s,a,n,i)=>{"use strict";const l=i.ValueState;const o=e.extend("sap.sac.df.filter.ValueHelp",{metadata:{library:"sap.sac.df"},init:function(){e.prototype.init.apply(this,arguments);this.setDelegate({name:"sap/sac/df/filter/delegate/ValueHelpDelegate",payload:{isDefaultHelp:true}});this.setTypeahead(new a(this.getId()+"--TypeAheadPopover",{content:[new t(this.getId()+"--FixedList",{filterList:false,useFirstMatch:false})]}));this.attachSelect(null,this._onSelectSuggestedItem.bind(this))},_onSelectSuggestedItem:function(e){const t=this;const s=e.getParameter("conditions");if(s.length===1){const a=s[0].values[0];const i=s[0].values[1];const o=this.getControl();const c=o._getMetaObject();o.setValueState(l.None);o.setValueStateText();const u=new n([a],[a],[i]);return Promise.resolve().then(function(){o.getMaxConditions()===1?c.setMemberFilter(u,!o._getLiveMode()):c.addMemberFilter(u,!o._getLiveMode());e.getSource().setFilterValue(null);const s=t.getTypeahead();s.close();const a=s.getContent()[0];a.destroyItems();o.destroyAggregation("valueHelp")}).catch(function(){t.getControl()._setBusy(false)})}},getIcon:function(){return"sap-icon://value-help"}});return o});
/*
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/filter/delegate/FieldBaseDelegate",["sap/ui/core/Element","sap/ui/mdc/field/FieldBaseDelegate","sap/sac/df/filter/TypeMap"],function(e,t,a){"use strict";const n=Object.assign({},t);n.apiVersion=2;n.getDescription=function(e,t,a,n,i,r,l,s,u,o){const c=u;return c&&c.Text[0]!==c.InternalKey[0]?c.Text[0]:""};n.getItemForValue=function(e,t,a){if(!a.value){return Promise.resolve()}const n={key:a.value};let i=e._getMetaObject();if(i.isA("sap.sac.df.model.VariableGroup")){i=i.MergedVariable}if(i&&i.MemberFilter&&a.value){const t=i.MemberFilter.find(function(t){return e._isDate()?a.value===t.InternalKey[0]:a.value===t.InternalKey[0]});if(t){n.description=t&&t.Text[0]?t.Text[0]:a.value}}return Promise.resolve(n)};n.isInvalidInputAllowed=function(){return false};n.isInputValidationEnabled=function(e){return e._supportsValueHelp()&&e._getValueType()==="String"};n.getDataTypeClass=function(e,t){return a.getDataTypeClassName(t)};n.getTypeMap=function(){return a};return n});
/*
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/filter/delegate/FilterBarDelegate",["sap/ui/core/Element","sap/ui/mdc/FilterBarDelegate","sap/sac/df/filter/TypeMap","sap/ui/model/Filter","sap/sac/df/model/MemberFilter","sap/sac/df/thirdparty/lodash"],function(e,t,a,r,l,i){"use strict";var p=Object.assign({},t);p.apiVersion=2;p.fetchProperties=function(e){return Promise.resolve().then(()=>{var t=[];i.forEach(e._getMetaObject(),function(r){var l=r.MergedVariable?r.MergedVariable:r;const i=e._getFilterField(l.Name);let s=a.getFormatOptions(l.ValueType);let u="String";let n=l.ValueType.includes("Date");let o=l.SupportsValueHelp;if(i){n=i&&i._isDate();u=n&&l.SupportsMultipleValues?"String":i&&i._getValueType();o=i._supportsValueHelp()}var d={name:l.Name,key:l.Name,label:l.Description,propertyKey:l.Name,typeConfig:p.getTypeMap().getTypeConfig(u,s?s:null,null),dataType:p.getTypeMap().getDataTypeClassName(u),maxConditions:o?-1:1,group:r.Group?r.Group:"_basicSearch",groupLabel:e.getModel("i18n").getResourceBundle().getText(r.Group?r.Group:""),required:l.Mandatory,hasValueHelp:o,caseSensitive:false};t.push(d)});return t})};p.addItem=function(t,a){return Promise.resolve().then(function(){var r=e.getElementById(t.getFilterFieldId(a));if(!r){r=t.createFilterField(a);r.setParent(t);r.setModel(t._getMultiDimModel(),t._getMultiDimModelName());r._setupFilterFieldFromMetaPath()}return r})};p.getTypeMap=function(){return a};return p});
/*!
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/filter/delegate/ValueHelpDelegate", ["sap/ui/mdc/ValueHelpDelegate"],function(e){"use strict";const t=Object.assign({},e);t.retrieveContent=function(e,t,n){return Promise.resolve()};t._searchValue=function(e,t){return e.searchMember(t,true,true,true,10).then(function(e){if(!e.length){return Promise.resolve()}return e})};t.isSearchSupported=function(e,t,n){return true};t.showTypeahead=function(e,t){if(!t||t.isA("sap.ui.mdc.valuehelp.base.FilterableListContent")&&!t.getFilterValue()){return false}else if(t.isA("sap.ui.mdc.valuehelp.base.ListContent")){const e=t.getListBinding();const n=e&&e.getAllCurrentContexts().length;return n>0}return true};t.getFirstMatch=function(e,t,n){return t.getRelevantContexts(n)[0]};return t});
/*!
* SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
*/
sap.ui.predefine("sap/sac/df/model/AxesLayout",["sap/ui/base/Object","sap/sac/df/firefly/library","sap/sac/df/thirdparty/lodash"],function(e,t,i){"use strict";const s=e.extend("sap.sac.df.model.AxesLayout",{constructor:function(e){Object.assign(this,Object.getPrototypeOf(this));this._DataProvider=e;this.Columns=i.map(i.sortBy(i.filter(this._getDimensions(),{Axis:t.AxisType.COLUMNS.getName()}),"Position"),function(e){return e.Name});this.Rows=i.map(i.sortBy(i.filter(this._getDimensions(),{Axis:t.AxisType.ROWS.getName()}),"Position"),function(e){return e.Name})},_getDimensions:function(){return this._DataProvider.Dimensions}});s.prototype.setAxesLayout=function(e,s){var o=this;o._DataProvider._getQueryManager().stopEventing();i.forEach(i.map(o._getDimensions(),"Name"),function(e){o._DataProvider._getQueryModel().getAxis(t.AxisType.FREE).add(o._DataProvider._getQueryModel().getDimensionByName(o._DataProvider.getDimension(e).TechName))});i.forEach(e,function(e){o._DataProvider.getDimension(e).toRows()});i.forEach(s,function(e){o._DataProvider.getDimension(e).toColumns()});o._DataProvider._getQueryManager().resumeEventing();this._DataProvider._executeModelOperation();return o};return s});
/*
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/model/Configuration",["sap/ui/base/Object","sap/sac/df/model/internal/ConfigurationMapping","sap/sac/df/utils/ConfigLoader","sap/sac/df/firefly/library","sap/sac/df/utils/MetaPathHelper","sap/sac/df/types/configuration/ContextMenuVariant","sap/sac/df/types/configuration/DimensionGrouping","sap/sac/df/types/configuration/StylingPanelItem","sap/sac/df/thirdparty/lodash"],function(t,e,i,o,n,r,a,l,u){"use strict";const g={Calculations:true,ContextMenuVariant:r.sapui5,Commenting:false,StylingPanelItems:[l.TableProperties,l.NumberFormatting]};const s=t.extend("sap.sac.df.model.Configuration",{metadata:{properties:{Calculations:{type:"boolean",defaultValue:true},Commenting:{type:"boolean",defaultValue:false},ContextMenuVariant:{type:"sap.sac.df.types.configuration.ContextMenuVariant",defaultValue:r.sapui5},StylingPanelItems:{type:"sap.sac.df.types.configuration.StylingPanelItem[]",defaultValue:[l.TableProperties,l.NumberFormatting]}}},constructor:function(t,e,i){Object.assign(this,Object.getPrototypeOf(this));this._Model=t;this._Configuration=e;this._ConfigurationURI=i},_loadConfiguration:function(t){if(t){return i.loadConfigFromFile(t).then(t=>t?.FeatureConfiguration)}else{return Promise.resolve()}},applyConfiguration:function(){const t=this._Model.getSession();const e=t.getKernel()?.getConfigurationManager();this.ConsolidatedConfig=o.PrFactory.createStructure();return Promise.resolve(this._applySAPUI5Configuration()).then(()=>this._applyProvidedConfiguration()).then(()=>{e.writePlatformConfiguration(this.ConsolidatedConfig)})},_applyProvidedConfiguration:function(){return Promise.resolve(this._Configuration?this._Configuration:this._loadConfiguration(this._ConfigurationURI)).then(t=>this._applyFeatureConfiguration(t)).then(()=>this._applyContextMenuConfiguration())},_applySAPUI5Configuration:function(){return Promise.resolve(this._applyTechnicalSAPUI5Configuration()).then(()=>this._applyFeatureConfiguration(g)).then(()=>this._applyContextMenuConfiguration())},_applyTechnicalSAPUI5Configuration:function(){if(this._Configuration?.FilterDialogVariant==="Fiori"){return this._setFioriFilterDialogConfig()}else{return this._setSAPUI5FilterDialogConfig()}},_setSAPUI5FilterDialogConfig:function(){const t=this._getOrCreateProgramConfig(o.FilterDialog.DEFAULT_PROGRAM_NAME_DIMENSION);t.putString(o.FilterDialog.PARAM_SELECTION_MODE,o.UiSelectionMode.MULTI_SELECT.getName());t.putString(o.FilterDialog.PARAM_DIMENSION_TEXT_USAGE_TYPE,o.FilterDialogTextUsageType.RESULTSET_TEXT);t.putBoolean(o.FilterDialog.PARAM_OFFER_READMODE_CHANGE,true);t.putBoolean(o.FilterDialog.PARAM_OFFER_HIERARCHY_CHANGE,true);t.putBoolean(o.FilterDialog.PARAM_OFFER_READMODE_EXTENDED_SETTINGS,true);const e=this._getOrCreateProgramConfig(o.FilterDialog.DEFAULT_PROGRAM_NAME_VARIABLE);e.putString(o.FilterDialog.PARAM_DIMENSION_TEXT_USAGE_TYPE,o.FilterDialogTextUsageType.RESULTSET_TEXT);e.putBoolean(o.FilterDialog.PARAM_ALWAYS_SHOW_SELECTION_CONTAINER,true)},_setFioriFilterDialogConfig:function(){const t=this._getOrCreateProgramConfig(o.FilterDialog.DEFAULT_PROGRAM_NAME_DIMENSION);t.putString(o.FilterDialog.PARAM_SELECTION_MODE,o.UiSelectionMode.MULTI_SELECT.getName());t.putString(o.FilterDialog.PARAM_DIMENSION_TEXT_USAGE_TYPE,o.FilterDialogTextUsageType.RESULTSET_TEXT);t.putBoolean(o.FilterDialog.PARAM_OFFER_READMODE_CHANGE,true);t.putBoolean(o.FilterDialog.PARAM_OFFER_READMODE_EXTENDED_SETTINGS,true);t.putBoolean(o.FilterDialog.PARAM_OFFER_LIST_VIEW,true);t.putBoolean(o.FilterDialog.PARAM_OFFER_RANGE_VIEW,true);t.putBoolean(o.FilterDialog.PARAM_SIMPLIFIED_SEARCH,true);t.putBoolean(o.FilterDialog.PARAM_OFFER_EXCLUDE_ADVANCED,true);t.putBoolean(o.FilterDialog.PARAM_OFFER_HIERARCHY_CHANGE,true);t.putBoolean(o.FilterDialog.PARAM_OFFER_DISPLAY_INFO_EXTENDED_SETTINGS,true);t.putString(o.FilterDialog.PARAM_DISPLAY_PATTERN_RANGE,"$1...$2");const e=this._getOrCreateProgramConfig(o.FilterDialog.DEFAULT_PROGRAM_NAME_VARIABLE);e.putString(o.FilterDialog.PARAM_DIMENSION_TEXT_USAGE_TYPE,o.FilterDialogTextUsageType.RESULTSET_TEXT);e.putBoolean(o.FilterDialog.PARAM_ALWAYS_SHOW_SELECTION_CONTAINER,true);e.putBoolean(o.FilterDialog.PARAM_OFFER_LIST_VIEW,true);e.putBoolean(o.FilterDialog.PARAM_OFFER_RANGE_VIEW,true);e.putBoolean(o.FilterDialog.PARAM_SIMPLIFIED_SEARCH,true);e.putBoolean(o.FilterDialog.PARAM_OFFER_EXCLUDE_ADVANCED,true);e.putBoolean(o.FilterDialog.PARAM_OFFER_DISPLAY_INFO_EXTENDED_SETTINGS,true);e.putString(o.FilterDialog.PARAM_DISPLAY_PATTERN_RANGE,"$1...$2")},_applyFeatureConfiguration:function(t){if(t){u.map(t,(t,e)=>{if(e!=="ContextMenuVariant"){this._setConfigurationProperty(e,t);this.setProperty(e,t)}})}},_getOrCreateProgramConfig:function(t){let e=this.ConsolidatedConfig.getStructureByKey(t);if(!e){e=this.ConsolidatedConfig.putNewStructure(t)}return e},_applyContextMenuConfiguration:function(){let t=this._Configuration?.ContextMenuVariant||"sap-ui5";if(t){this.setProperty("ContextMenuVariant",t);const e=t?"sap/sac/df/fa/configs/"+t+"-config.json":"sap/sac/df/fa/configs/sap-ui5-config.json";return i.loadConfigFromFile(e).then(t=>{this._ContextMenuConfiguration=JSON.stringify(t?.QueryBuilder?.MenuSettings)})}},getContextMenuConfiguration:function(){return this._ContextMenuConfiguration},_setConfigurationProperty:function(t,i){if(!Object.hasOwn(e,t)){return}const n=e[t];const r=Array.isArray(n.Program)?u.map(n.Program,t=>this._getOrCreateProgramConfig(t)):[this._getOrCreateProgramConfig(n.Program)];switch(n.Type){case o.PrElementType.BOOLEAN:r.forEach(t=>{t.putBoolean(n.FFName,i)});break;case o.PrElementType.STRING:r.forEach(t=>{t.putString(n.FFName,i)});break;case o.PrElementType.LIST:r.forEach(t=>{let e=t.putNewList(n.FFName);i.forEach(t=>{e.addString(t)})});break}}});s.prototype.setProperty=function(t,e){return this._Model.setProperty(n.PathTo.Configuration+"/"+t,e)};s.prototype.getProperty=function(t){return this._Model.getProperty(n.PathTo.Configuration+"/"+t)};return s});
/*!
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/model/DataProvider",["sap/ui/base/Object","sap/base/Log","sap/ui/model/Model","sap/ui/model/json/JSONModel","sap/ui/core/format/DateFormat","sap/sac/df/types/Axis","sap/sac/df/types/DimensionType","sap/sac/df/types/DisplayType","sap/sac/df/types/ComparisonOperator","sap/sac/df/utils/SyncActionHelper","sap/sac/df/utils/ListHelper","sap/sac/df/utils/ResourceBundle","sap/sac/df/thirdparty/lodash","sap/sac/df/firefly/library","sap/sac/df/model/internal/Capability","sap/sac/df/model/Dimension","sap/sac/df/model/Variable","sap/sac/df/model/Measure","sap/sac/df/model/AxesLayout","sap/sac/df/model/DataSourceInfo","sap/sac/df/model/Visualization","sap/sac/df/types/VisualizationType","sap/sac/df/utils/MetaPathHelper"],function(e,t,r,a,i,n,o,s,u,l,g,c,d,f,_,m,p,y,h,E,v,M,S){"use strict";const T="gds_table_view";let D=a.extend("sap.sac.df.model.DataProvider",{constructor:function(e,t){Object.assign(this,Object.getPrototypeOf(this));r.call(this);var a=this;a._Model=e;a.Name=t;a.Messages=[];a.Variables={};a.Dimensions={};a.Visualizations={};a._VariableDisplayType={};a._metadataCacheEnabled=e._metadataCacheEnabled;this._getModel=function(){return a._Model};this._getQueryManager=function(){return this._FFDataProvider.m_queryManager};this._getQueryModel=function(){return this._getQueryManager().getQueryModel()};this._addMessagesToModel=function(e){if(e&&e.getMessages&&e.getMessages()&&e.getMessages().length){this._Model._addMessages(i(e))}};function i(e){const t=Array.isArray(e.getMessages())?e.getMessages():g.arrayFromList(e.getMessages());return t.map(function(e){var t=e.getSeverity().getName();if(t==="Info"){t="Information"}return{Text:e.getText(),Severity:t,Code:e.getCode(),MessageClass:e.getMessageClass(),LongTextUri:e.getMessageClass()?["/sap/opu/odata/iwbep/message_text;o=LOCAL/T100_longtexts(MSGID='",encodeURIComponent(e.getMessageClass()),"',MSGNO='",encodeURIComponent(e.getCode()),",',MESSAGE_V1='',MESSAGE_V2='',MESSAGE_V3='',MESSAGE_V4='')/$value"].join(""):null}})}a._callUpdateDimensionData=function(){_()};a.resetToMetaData=function(){var e=this;return Promise.resolve().then(function(){e.variableChanged=true;e._executeModelOperation(function(){e._getQueryModel().queueEventing();e._getQueryManager().getConvenienceCommands().resetToDefaultState(true);e._getQueryModel().resumeEventing()},true)})};a.invalidateMetaData=function(){const e=a._getQueryManager().getDataSource().getCacheKeyName2();a._getQueryManager().getOlapSystemContainer().getCubeContainer(e).releaseAllQueryMetadata()};a.logFF=function(){return new Promise(function(e){a._getQueryManager().processShutdown(f.SyncType.NON_BLOCKING,{onQueryManagerRelease:function(t,r){f.XObjectExt.release(r);e()}})})};a._invalidateState=function(){a._Model.setMessages([]);a._getQueryManager().invalidateState();a._getQueryManager().getResultsetContainer(true)};a._triggerDataProviderPropertyUpdate=function(e){if(!e){a._invalidateState();a._FFDataProvider.getEventing().notifyExternalModelChange(null)}};a.isValid=function(){var e=a._getQueryManager().getResultSetSyncState();return e!==f.SyncState.OUT_OF_SYNC&&e!==f.SyncState.IN_SYNC_WITH_ERROR};function n(){s();u();_();a._getQueryModel().stopEventing();o();D();N();F();a._getQueryModel().resumeEventing()}function o(){g.arrayFromList(a._getQueryModel().getVisualizationManager().getVisualizationDefinitions()).filter(function(e){const t=M.Grid;const r=new v(a,e.getName(),t);a.setProperty(S.PathTo.Visualizations+"/"+e.getName(),r)})}function s(){a.DataSourceInfo=new E(a)}function u(){var e=g.arrayFromList(a._getQueryModel().getVariables()).filter(function(e){return e.isInputEnabled()});a.Variables=d.reduce(e,function(e,t){var r=new p(a,t);if(r.Name){e[r.Name]=r}return e},{})}function _(){a._getQueryModel().stopEventing();a.Dimensions=d.reduce(g.arrayFromList(a._getQueryModel().getDimensions()),function(e,t){var r=new m(a,t);if(r.Name){e[r.Name]=r}return e},{});a.AxesLayout=new h(a);a._getQueryModel().resumeEventing()}function D(){var e=a.getMeasureStructureDimension();var t=e&&e.Members||[];a.Measures=d.reduce(t,function(t,r){t[r.Name]=new y(a,r,e._FFDimension.getAllStructureMembers().getByKey(r.Key));return t},{})}function N(){var e=a._getQueryModel();a.Conditions=d.map(e.getConditionManager()?g.arrayFromList(e.getConditionManager()):[],function(e){return{Name:e.getName(),Description:e.getText(),StatusText:c.getText(e.isActive()?"ACTIVE":"INACTIVE"),active:e.isActive()}})}function F(){var e=a._getQueryModel();a.Exceptions=d.map(e.getExceptionManager()?g.arrayFromList(e.getExceptionManager()):[],function(e){return{Name:e.getName(),Description:e.getText(),StatusText:c.getText(e.isActive()?"ACTIVE":"INACTIVE"),active:e.isActive()}})}a._reinitIfNeededPromise=function(){const e=this;if(e._reinitPromise){return e._reinitPromise}e._reinitPromise=e._getQueryManager().isReinitNeeded()?new Promise(function(t,r){e._getQueryManager().reInitVariablesAfterSubmit(f.SyncType.NON_BLOCKING,{onVariableProcessorExecuted:e=>e.hasErrors()?r(l.reject(e.getErrors())):t()})}):Promise.resolve();return e._reinitPromise.then(function(){e._reinitPromise=null})};a._executeModelOperation=function(e,t){if(e){e()}a._triggerDataProviderPropertyUpdate();if(t){n()}else{_()}};a._transferVariablesIfNeededPromise=function(){const e=this;if(this.variableChanged){return new Promise(function(t,r){e._getQueryManager().transferVariables(f.SyncType.NON_BLOCKING,{onVariableProcessorExecuted:function(e){if(e.hasErrors()){r(l.reject(e.getErrors()))}else t()}})})}};this._createFFDataProviderFromWidget=function(e){return Promise.resolve(f.OuDataProviderFactory.createDataProviderFromFile(a._Model.getApplication().getProcess(),t,"/analyticalwidgets/"+e,null)).then(e=>{a._FFDataProvider=e;a.addVisualization(T,M.Grid);a._registerEventHandlers()}).then(()=>{a._getQueryManager().attachBeforeQueryExecutionListener({onBeforeQueryExecuted:function(){a._Model.propagateVariableGroupValues(a.Name);if(a.variableChanged&&a._getQueryManager().getModelCapabilities().supportsAutoVariableSubmit()){a._getQueryManager().setVariableProcessorState(f.VariableProcessorState.PROCESSING_AUTO_SUBMIT);a.variableChanged=false}},isEqualTo:f.XObject.prototype.isEqualTo});a._getQueryManager().attachQueryExecutedListener({onQueryExecuted:function(e){a._getQueryManager().stopEventing();f.XCollectionUtils.forEach(a._getQueryManager().getDimensionMemberVariables(),function(e){if(e.isInputEnabled()){e.setWinControlInAutoSubmit(true)}}.bind(this));a._getQueryManager().resumeEventing();a._addMessagesToModel(e);if(e.hasErrors()){a._Model.checkUpdate();a._Model.fireRequestFailed({infoObject:a.Name})}else{n()}},isEqualTo:function(e){return this===e}},"UI5GridViz")}).then(()=>{n()}).then(()=>a).catch(e=>{throw new Error(e)})};this._createFFDataProvider=function(e,t,r,i,o){const s=e.match(/^.*:\[.*\]\[.*\]\[.*\]/)?e:[o||"query",":","[",i?i:"","]","[",i||r?r:"","]","[",e,"]"].join("");const u=f.QFactory.createDataSourceWithFqn(s);u.setSystemName(t||a._Model.getApplication().getSystemLandscape().getMasterSystemName());const l=f.OuDataProviderConfiguration.createConfig(a._Model.getApplication(),u);l.setMetadataCacheEnabled(a._metadataCacheEnabled);l.setDataProviderName(this.Name);l.getHooks().getBeforeRepoLoadRegister().addBiFunction((e,t)=>this._addOverrideTextsToConfig(e,t));this._addGridVisualization(l);l.getStartConnection().setStartWithAutoFetch(false);return Promise.resolve(f.OuDataProviderFactory.createDataProviderFromSource(l)).then(e=>{a._FFDataProvider=e;a.setProperty(S.PathTo.Visualizations+"/"+T,new v(a,T,M.Grid));a._registerEventHandlers()}).then(()=>{a._getQueryManager().attachBeforeQueryExecutionListener({onBeforeQueryExecuted:function(){a._Model.propagateVariableGroupValues(a.Name);if(a.variableChanged&&a._getQueryManager().getModelCapabilities().supportsAutoVariableSubmit()){a._getQueryManager().setVariableProcessorState(f.VariableProcessorState.PROCESSING_AUTO_SUBMIT);a.variableChanged=false}},isEqualTo:f.XObject.prototype.isEqualTo});a._getQueryManager().attachQueryExecutedListener({onQueryExecuted:function(e){a._getQueryManager().stopEventing();f.XCollectionUtils.forEach(a._getQueryManager().getDimensionMemberVariables(),function(e){if(e.isInputEnabled()){e.setWinControlInAutoSubmit(true)}}.bind(this));a._getQueryManager().resumeEventing();a._addMessagesToModel(e);if(e.hasErrors()){a._Model.checkUpdate();a._Model.fireRequestFailed({infoObject:a.Name})}else{n()}},isEqualTo:function(e){return this===e}},"UI5GridViz")}).then(()=>{n()}).then(()=>a).catch(e=>{throw new Error(e)})};this._addOverrideTextsToConfig=function(e){let t=e.getQueryManager();if(f.notNull(t)){let e=f.XLocalizationCenter.getCenter();let r=t.getQueryModel().getVisualizationManager().getApplicationSettings();r.putOverwriteText(f.SacTableConstants.S_MEASURE_DIMENSION_OVERWRITE_TEXT,e.getText(f.OlapUiCommonI18n.COMMON_MEASURES));r.putOverwriteText(f.SacTableConstants.S_TOTAL_MEMBER_OVERWRITE_TEXT,e.getText(f.AuGdsQueryBuilderI18n.TOTALS));r.putOverwriteText(f.SacTableConstants.S_TOTAL_INCLUDING_MEMBER_OVERWRITE_TEXT,e.getText(f.AuGdsQueryBuilderI18n.TOTALS_INCLUDING));r.putOverwriteText(f.SacTableConstants.S_TOTAL_REMAINING_MEMBER_OVERWRITE_TEXT,e.getText(f.AuGdsQueryBuilderI18n.TOTALS_REMAINING));r.putOverwriteText(f.SacTableConstants.S_VALUE_EXCEPTION_NULL,e.getText(f.AuGdsQueryBuilderI18n.VALUE_EXCEPTION_NULL));r.putOverwriteText(f.SacTableConstants.S_VALUE_EXCEPTION_UNDEFINED,e.getText(f.AuGdsQueryBuilderI18n.VALUE_EXCEPTION_UNDEFINED));r.putOverwriteText(f.SacTableConstants.S_VALUE_EXCEPTION_ERROR,e.getText(f.AuGdsQueryBuilderI18n.VALUE_EXCEPTION_ERROR));r.putOverwriteText(f.SacTableConstants.S_VALUE_EXCEPTION_OTHER,e.getText(f.AuGdsQueryBuilderI18n.VALUE_EXCEPTION_OTHER));r.putOverwriteText(f.SacTableConstants.S_VALUE_EXCEPTION_NO_VALUE,e.getText(f.AuGdsQueryBuilderI18n.VALUE_EXCEPTION_NO_VALUE));r.putOverwriteText(f.SacTableConstants.S_SCALE_SHORT_THOUSAND,e.getText(f.OuNumberFormattingI18n.STYLE_SCALE_SHORT_THOUSAND));r.putOverwriteText(f.SacTableConstants.S_SCALE_SHORT_MILLION,e.getText(f.OuNumberFormattingI18n.STYLE_SCALE_SHORT_MILLION));r.putOverwriteText(f.SacTableConstants.S_SCALE_SHORT_BILLION,e.getText(f.OuNumberFormattingI18n.STYLE_SCALE_SHORT_BILLION));r.putOverwriteText(f.SacTableConstants.S_SCALE_LONG_THOUSAND,e.getText(f.OuNumberFormattingI18n.STYLE_SCALE_LONG_THOUSAND));r.putOverwriteText(f.SacTableConstants.S_SCALE_LONG_MILLION,e.getText(f.OuNumberFormattingI18n.STYLE_SCALE_LONG_MILLION));r.putOverwriteText(f.SacTableConstants.S_SCALE_LONG_BILLION,e.getText(f.OuNumberFormattingI18n.STYLE_SCALE_LONG_BILLION));let a=t.getQueryModel().getDimensionByType(f.DimensionType.SECONDARY_STRUCTURE);if(f.notNull(a)){if(!t.getProcess().hasFeature(f.FeatureToggleOlap.USE_ORIGINAL_STRUCTURE_TEXT_IN_UI)||f.XStringUtils.isNullOrEmpty(a.getOriginalText())){r.putOverwriteText(f.SacTableConstants.S_STRUCTURE_DIMENSION_OVERWRITE_TEXT,e.getText(f.OlapUiCommonI18n.COMMON_STRUCTURE))}}}return null};this._addGridVisualization=function(e){let t=f.PrFactory.createList();let r=t.addNewStructure();r.putString(f.OuDataProviderConfiguration.VIZ_NAME,T);r.putString(f.OuDataProviderConfiguration.VIZ_TYPE,f.VisualizationType.GRID.getName());r.putString(f.OuDataProviderConfiguration.VIZ_PROTOCOL,f.ProtocolBindingType.SAC_TABLE_GRID.getName());r.putBoolean(f.OuDataProviderConfiguration.VIZ_ACTIVE,false);return e.getStartConnection().setVisualizations(t)};this._registerEventHandlers=function(){if(f.notNull(this._FFDataProvider)){this._FFDataProvider.getEventing().getListenerForModelChanges().addConsumer(()=>this._onDataProviderDataProviderModelChange(this._FFDataProvider));this._FFDataProvider.getEventing().getListenerForResultDataFetch().addConsumer(e=>{this._onDataFetch(e)})}};this._onDataProviderDataProviderModelChange=function(){this._invalidateState();this._Model.fireDataProviderUpdated({dataProviderName:this.Name})};this._onDataFetch=function(e){if(e.getStep()===f.OuDataProviderResultDataFetchStep.QUERY_EXECUTED){this._onResultSetChange()}};this._onResultSetChange=function(){this._callUpdateDimensionData();this._Model.checkUpdate();this._Model.fireRequestCompleted({infoObject:this.Name})}}});D.prototype.addVisualization=function(e,t){let r=this;return Promise.resolve(r.removeVisualization(e)).then(function(){const a=new v(r,e,t);r.setProperty(S.PathTo.Visualizations+"/"+e,a);return a._createFFVisualization()}).then(function(){r.fireVisualizationAdded({visualizationName:e});r._Model.fireDataProviderUpdated({dataProviderName:r.Name});return r.getVisualization(e)}).catch(function(e){r._addMessagesToModel();return Promise.reject(e)})};D.prototype.removeVisualization=function(e){let t=this;if(this.getVisualization(e)){return Promise.resolve(t.getVisualization(e)._removeFFVisualization()).then(function(){t.setProperty(S.PathTo.Visualizations+"/"+e,null);t.fireDataProviderRemoved({visualizationName:e})}).catch(function(e){t._addMessagesToModel();return Promise.reject(e)})}};D.prototype.getVisualizations=function(){return this.getProperty(S.PathTo.Visualizations)};D.prototype.getVisualization=function(e){return this.getProperty(S.PathTo.Visualizations+"/"+e)};D.prototype.getGridVisualization=function(){return this.getProperty(S.PathTo.Visualizations+"/"+T)};D.prototype.supportsCapability=function(e){if(e===_.SupportsDocuments){var t=this._getQueryModel().getDocumentsInfo();return!!t&&t.getSupportsDocuments()!==f.DocumentsSupportType.NONE}throw new Error("Unhandled capability : "+e)};D.prototype.setProperty=function(e,t){return this._Model.setProperty(S.PathTo.DataProviders+"/"+this.Name+e,t)};D.prototype.getProperty=function(e){return this._Model.getProperty(S.PathTo.DataProviders+"/"+this.Name+e)};D.prototype.setAutoFetchEnabled=function(e){this._FFDataProvider?.getResulting().setAutoFetchActive(e);if(this.getAutoFetchEnabled()!==e){this.setProperty("/AutoFetchEnabled",e);this._Model.fireEvent("dataProviderUpdated",{dataProviderName:this.Name})}};D.prototype.getAutoFetchEnabled=function(){return this.getProperty("/AutoFetchEnabled")};D.prototype.deserialize=function(e,t,r){var a=this;this._getQueryModel().stopEventing();return Promise.resolve().then(function(){a.variableChanged=true;a._executeModelOperation(function(){a._getQueryModel().deserializeExt(t,e)},r||true)}).then(()=>{a._getQueryModel().resumeEventing()})};D.prototype.serialize=function(e){return this._getQueryModel().serializeToContentExt(e,null).getString()};D.prototype.getScalingFactor=function(e,t){var r=this.getMeasureStructureDimension();if(!r){throw new Error("No measure Structure")}var a=t?this.getStructureDimension():null;var i=g.arrayFromList(r._FFDimension.getAllStructureMembers());var n=r._FFDimension.getDisplayKeyField();var o=function(){var t=d.find(i,function(t){var r=t.getFieldValue(n);var a=r?r.getString():t.getName();return a===e});if(!t){throw new Error("Member "+e+" not found in structure: "+r.Name)}return t}();if(!a){return r.getScalingFactor(e)}else{var s=g.arrayFromList(a._FFDimension.getAllStructureMembers());var u=a._FFDimension.getDisplayKeyField();var l=function(){var r=d.find(s,function(e){var r=e.getFieldValue(u);var a=r?r.getString():e.getName();return a===t});if(!r){throw new Error("Member "+e+" not found in structure: "+a.Name)}return r}();var c=g.arrayFromIter(this._getQueryModel().getQueryDataCells().getIterator());var f=d.find(c,function(e){return e.hasMemberReference(o)&&e.hasMemberReference(l)});if(!f){throw new Error("Invalid Query Cell")}return f.getScalingFactor()}};D.prototype.setScalingFactor=function(e,t,r){var a=this;this._executeModelOperation(function(){var i=a.getMeasureStructureDimension();if(!i){throw new Error("No measure Structure")}var n=r?a.getStructureDimension():null;var o=g.arrayFromList(i._FFDimension.getAllStructureMembers());var s=i._FFDimension.getDisplayKeyField();var u=function(){var e=d.find(o,function(e){var r=e.getFieldValue(s);var a=r?r.getString():e.getName();return a===t});if(!e){throw new Error("Member "+t+" not found in structure: "+i.Name)}return e}();if(!n){i.setScalingFactor(t,e);return a}else{var l=g.arrayFromList(n._FFDimension.getAllStructureMembers());s=n._FFDimension.getDisplayKeyField();var c=function(){var e=d.find(l,function(e){var t=e.getFieldValue(s);var a=t?t.getString():e.getName();return a===r});if(!e){throw new Error("Member "+r+" not found in structure: "+n.Name)}return e}();var f=g.arrayFromIter(a._getQueryModel().getQueryDataCells().getIterator());f=d.filter(f,function(e){return e.hasMemberReference(u)&&e.hasMemberReference(c)});if(!f||f.length<1){throw new Error("Invalid Query Cell")}return d.forEach(f,function(t){t.setScalingFactor(e)})}})};D.prototype.setDecimalPlaces=function(e,t,r){var a=this;this._executeModelOperation(function(){var i=a.getMeasureStructureDimension();if(!i){throw new Error("No measure Structure")}var n=r?a.getStructureDimension():null;var o=g.arrayFromList(i._FFDimension.getAllStructureMembers());var s=i._FFDimension.getDisplayKeyField();var u=function(){var e=d.find(o,function(e){var r=e.getFieldValue(s);var a=r?r.getString():e.getName();return a===t});if(!e){throw new Error("Member "+t+" not found in structure: "+i.Name)}return e}();if(!n){i.setDecimalPlaces(t,e);return a}else{var l=g.arrayFromList(n._FFDimension.getAllStructureMembers());s=n._FFDimension.getDisplayKeyField();var c=function(){var e=d.find(l,function(e){var t=e.getFieldValue(s);var a=t?t.getString():e.getName();return a===r});if(!e){throw new Error("Member "+r+" not found in structure: "+n.Name)}return e}();var f=g.arrayFromIter(a._getQueryModel().getQueryDataCells().getIterator());f=d.filter(f,function(e){return e.hasMemberReference(u)&&e.hasMemberReference(c)});if(!f||f.length<1){throw new Error("Invalid Query Cell")}return d.forEach(f,function(t){t.setDecimalPlaces(e)})}})};D.prototype.getDecimalPlaces=function(e,t){var r=this.getMeasureStructureDimension();if(!r){throw new Error("No measure Structure")}var a=t?this.getStructureDimension():null;var i=g.arrayFromList(r._FFDimension.getAllStructureMembers());var n=r._FFDimension.getDisplayKeyField();var o=function(){var t=d.find(i,function(t){var r=t.getFieldValue(n);var a=r?r.getString():t.getName();return a===e});if(!t){throw new Error("Member "+e+" not found in structure: "+r.Name)}return t}();if(!a){return r.getDecimalPlaces(e)}else{var s=g.arrayFromList(a._FFDimension.getAllStructureMembers());var u=a._FFDimension.getDisplayKeyField();var l=function(){var e=d.find(s,function(e){var r=e.getFieldValue(u);var a=r?r.getString():e.getName();return a===t});if(!e){throw new Error("Member "+t+" not found in oMmeasureStructure: "+a.Name)}return e}();var c=g.arrayFromIter(this._getQueryModel().getQueryDataCells().getIterator());var f=d.find(c,function(e){return e.hasMemberReference(o)&&e.hasMemberReference(l)});if(!f){throw new Error("Invalid Query Cell")}return f.getDecimalPlaces()}};D.prototype.exportData=function(e){var t=this;return new Promise(function(r,a){var i=this.getVisualization(T)._getFFVisualization();e.addOverwriteTextsToQm(t._getQueryModel().getVisualizationManager().getApplicationSettings());var n=f.DataExportHelper.create(t._getQueryManager(),i,a,r);if(e.getDisplayDialog()){n.showExportDialog(e.getType(),e.getFileName(),r)}else{var o=e.getFireflyConfig();n.exportData(o)}}.bind(this))};D.prototype.getVariable=function(e){return this.getProperty(S.PathTo.Variables+"/"+e)};D.prototype.getVariables=function(){return this.getProperty(S.PathTo.Variables)};D.prototype.getDimension=function(e){return this.getProperty(S.PathTo.Dimensions+"/"+e)};D.prototype.getDimensions=function(){return this.getProperty(S.PathTo.Dimensions)};D.prototype.getMeasure=function(e){return this.getProperty(S.PathTo.Measures+"/"+e)};D.prototype.getMeasures=function(){return this.getProperty(S.PathTo.Measures)};D.prototype.getAxesLayout=function(){return this.getProperty(S.PathTo.AxesLayout)};D.prototype.getDataSourceInfo=function(){return this.getProperty(S.PathTo.DataSourceInfo)};D.M_EVENTS={dataUpdated:"dataUpdated",visualizationAdded:"visualizationAdded",visualizationRemoved:"visualizationRemoved"};D.prototype.fireDataUpdated=function(e){this.fireEvent("dataUpdated",e);this._Model.fireEvent("dataLoaded",{dataProviderName:this.Name})};D.prototype.fireVisualizationAdded=function(e){this.fireEvent("visualizationAdded",e)};D.prototype.fireVisualizationRemoved=function(e){this.fireEvent("visualizationRemoved",e)};D.M_PROPERTIES={Dimensions:"Dimensions",Variables:"Variables",Measures:"Measures",Visualizations:"Visualizations",AxesLayout:"AxesLayout",DataSourceInfo:"DataSourceInfo",AutoFetchEnabled:"AutoFetchEnabled"};D.prototype.getMeasureStructureDimension=function(){return this.getDimension(o.MeasureStructure)};D.prototype.getStructureDimension=function(){return this.getDimension(o.StructureDimension)};return D});
/*!
* SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
*/
sap.ui.predefine("sap/sac/df/model/DataSourceInfo",["sap/ui/base/Object","sap/sac/df/thirdparty/lodash","sap/sac/df/firefly/library","sap/sac/df/utils/SyncActionHelper","sap/ui/core/format/DateFormat"],function(e,t,a,r,i){"use strict";var s=e.extend("sap.sac.df.model.DataSourceInfo",{constructor:function(e){Object.assign(this,Object.getPrototypeOf(this));var t=this;this._DataProvider=e;this.QueryTitle=this._DataProvider._getQueryModel().getText()||this._DataProvider._getQueryModel().getDataSource().getName();this.QueryName=this._DataProvider._getQueryModel().getDataSource().getName();this.QueryType=this._DataProvider._getQueryModel().getDataSource().getType().getName();this.SystemName=this._DataProvider._getQueryManager().getSystemDescription().getName();if(this._DataProvider._getQueryModel().getCubeInfo()){this.CreatedBy=this._DataProvider._getQueryModel().getCubeInfo().getCreatedBy();this.CreatedOn=function(){var e=t._DataProvider._getQueryModel().getCubeInfo().getCreatedOn();return e?new Date([e.getYear(),e.getMonthOfYear(),e.getDayOfMonth()].join("-")):new Date}();this.CreatedOnText=this.QueryDueDateText=i.getDateInstance({style:"medium"}).format(this.CreatedOn);this.QueryDueDate=function(){var e=t._DataProvider._getQueryModel().getCubeInfo().getDueDate();return e?new Date([e.getYear(),e.getMonthOfYear(),e.getDayOfMonth()].join("-")):new Date}();this.QueryDueDateText=i.getDateInstance({style:"medium"}).format(this.QueryDueDate);if(this._DataProvider._getQueryModel().getResultAlignment()){this.ResultAlignmentRows=this._DataProvider._getQueryModel().getResultAlignment().getName();this.ResultAlignmentColumns=this._DataProvider._getQueryModel().getResultAlignment().getName()}this.LastUpdated=function(){var e=t._DataProvider._getQueryModel().getCubeInfo().getUpdatedOn();return e?new Date([e.getYear(),e.getMonthOfYear(),e.getDayOfMonth()].join("-")):new Date}();this.LastUpdatedBy=this._DataProvider._getQueryModel().getCubeInfo().getUpdatedBy();this.LastUpdatedText=i.getDateInstance({style:"medium"}).format(this.LastUpdated)}}});return s});
/*!
* SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
*/
sap.ui.predefine("sap/sac/df/model/Dimension",["sap/ui/base/Object","sap/sac/df/model/MemberFilter","sap/sac/df/thirdparty/lodash","sap/sac/df/firefly/library","sap/sac/df/utils/ResourceBundle","sap/sac/df/utils/ListHelper","sap/sac/df/types/DisplayType","sap/sac/df/utils/SyncActionHelper","sap/sac/df/types/DimensionType"],function(e,t,i,r,n,s,a,o,l){"use strict";var m=e.extend("sap.sac.df.model.Dimension",{constructor:function(e,n){Object.assign(this,Object.getPrototypeOf(this));var o=this;this._DataProvider=e;this._FFDimension=n;var m=this._FFDimension.getAxisType();if(m!==r.AxisType.COLUMNS&&m!==r.AxisType.ROWS&&m!==r.AxisType.FREE){return null}var u=this._FFDimension.getAxis();var F=this._FFDimension.isMeasureStructure();var c=this._FFDimension.isStructure();if(!this._FFDimension.getExternalName()||this._FFDimension.getExternalName().trim()===""){this._FFDimension.getExternalName=this._FFDimension.getName}this._createMemberFilter=function(){this.MemberFilter=[];if(this._FFDimension.isStructure()||this._FFDimension.isMeasureStructure()){this.MemberFilter=this._createMemberFilterForStructures()}else{this.MemberFilter=i.map(this._FFDimension.getFilter()&&s.arrayFromList(this._FFDimension.getFilter()),e=>t._createFromFFFilter(e,this._FFDimension.getFilter()))}};this._getDisplayType=function(e){switch(e){case r.FilterDisplayInfo.ID:return a.Key;case r.FilterDisplayInfo.DESCRIPTION:return a.Text;case r.FilterDisplayInfo.ID_AND_DESCRIPTION:return a.KeyText;case r.FilterDisplayInfo.DESCRIPTION_AND_ID:return a.TextKey}};this._createMemberFilterForStructures=function(){var e=this._FFDimension.getFilter()&&s.arrayFromList(this._FFDimension.getFilter());if(e){return i.map(e,e=>{const r=i.find(o.getStructureMembers(),t=>t.Key===e.getLow().getString());const n=e.getSetSign().getName?e.getSetSign().getName():e.getSetSign();const s=e.getComparisonOperator().getName();const a=t.getUI5OperatorFromFFOperator({Sign:n,Operator:s});return this._createMemberFilterFromStructureMember(r,a)})}};this._createMemberFilterFromStructureMember=function(e,i){return new t([e.Key],[e.Name],[e.Description],i)};if(F){h(this);this.Members=p(this._FFDimension)}else if(c&&!F){y(this);this.Members=p(this._FFDimension)}var g=!!this._FFDimension.getFilter();Object.assign(this,{Name:this._FFDimension.getExternalName(),TechName:this._FFDimension.getName(),Description:this._FFDimension.getText(),Axis:u.getName(),Type:this._FFDimension.getDimensionType().getName(),HierarchyActive:this._FFDimension.isHierarchyActive(),HasFilter:g,SortDirection:d(this._FFDimension),Position:u.getDimensionIndex(this._FFDimension.getName()),LastPosition:u.getDimensionCount()-1,IsStructure:this._FFDimension.isStructure(),IsMeasureStructure:this._FFDimension.isMeasureStructure(),ValueType:f(this._FFDimension),DisplayType:r.FilterDisplayInfo.getDimensionDisplayInfo(this._FFDimension),FilterDisplayType:null,SemanticObject:this._FFDimension.getSemanticObject(),MemberFilter:[],SupportedOperators:D(o._FFDimension).filter(Boolean)});o._createMemberFilter();if(this._FFDimension.getFilter()&&this.FilterDisplayType!==this._FFDimension.getFilter().getUiSettings(r.QContextType.SELECTOR).getDisplayInfo()){this.FilterDisplayType=this._getDisplayType(this._FFDimension.getFilter().getUiSettings(r.QContextType.SELECTOR).getDisplayInfo())}else{this.FilterDisplayType=this._getDisplayType(this.DisplayType)}function D(e){if(e&&e.getFilterCapabilities()){let n=e.getFlatKeyField();if(!!n&&e.getFilterCapabilities().getFilterCapabilitiesByField(n)){const a=s.arrayFromList(e.getFilterCapabilities().getFilterCapabilitiesByField(n).getSupportedComparisonOperators(r.SetSign.INCLUDING));if(a){return i.map(a,function(e){if(e&&e.getName()){return t.getUI5OperatorFromFFOperator({Sign:"INCLUDING",Operator:e.getName()})}})}}}return["EQ"]}function p(e){var t=e.getDisplayKeyField();return i.map(s.arrayFromList(e.getAllStructureMembers()),function(i){return _(i,e,t)})}function h(e){e._FFDimension.getExternalName=i.constant(l.MeasureStructure);e.addMemberFilterByKey=function(e){var i=this.getStructureMember(e);if(i){var r=new t([i.Key],[i.Name],[i.Description]);return new Promise(e=>{this.addMemberFilter(r);e()})}};e.removeMemberFilterByKey=function(e){var i=this.getStructureMember(e);if(i){var r=new t([i.Key],[i.Name],[i.Description]);return new Promise(e=>{this.removeMemberFilter(r);e()})}};e.setMemberFilterByKey=function(e){var i=this.getStructureMember(e);if(r){var r=new t([i.Key],[i.Name],[i.Description]);var n=[r];return new Promise(e=>{this.setMemberFilter(n);e()})}};e.getStructureMembers=function(){return e.Members};e.getStructureMember=function(t){return i.find(e.getStructureMembers(),function(e){return e&&e.Name===t})};e.setScalingFactor=function(t,i){return e._DataProvider.getMeasure(t).setScalingFactor(i)};e.getScalingFactor=function(t){return e._DataProvider.getMeasure(t).getScalingFactor()};e.setDecimalPlaces=function(t,i){return e._DataProvider.getMeasure(t).setDecimalPlaces(i)};e.getDecimalPlaces=function(t){return e._DataProvider.getMeasure(t).getDecimalPlaces()}}function y(e){e._FFDimension.getExternalName=i.constant(l.StructureDimension);e.addMemberFilterByKey=function(e){var i=this.getStructureMember(e);if(r){var r=new t([i.Key],[i.Name],[i.Description]);return new Promise(e=>{this.addMemberFilter(r);e()})}};e.removeMemberFilterByKey=function(e){var i=this.getStructureMember(e);if(r){var r=new t([i.Key],[i.Name],[i.Description]);return new Promise(e=>{this.removeMemberFilter(r);e()})}};e.setMemberFilterByKey=function(e){var i=this.getStructureMember(e);if(i){var r=new t([i.Key],[i.Name],[i.Description]);var n=[r];return new Promise(e=>{this.setMemberFilter(n);e()})}};e.getStructureMembers=function(){return e.Members};e.getStructureMember=function(t){return i.find(e.getStructureMembers(),function(e){return e.Name===t})};e.setScalingFactor=function(){};e.getScalingFactor=function(){};e.setDecimalPlaces=function(){};e.getDecimalPlaces=function(){}}function _(e,t,i){return{Key:e.getFieldValue(t.getKeyField()).getValue().getString(),Name:e.getFieldValue(t.getDisplayKeyField())?e.getFieldValue(i).getValue().getString():e.getName(),TechName:e.getName(),Description:e.getText(),SemanticObject:e.getSemanticObject()}}function d(e){var t=o._DataProvider._getQueryModel().getSortingManager();if(t.supportsDimensionSorting(e,null)&&e.hasSorting()){return e.getResultSetSorting().getDirection().getName()}else{return null}}function f(e){var t=r.XValueType.STRING;var i=e.getFlatKeyField();if(i&&(i.getValueType().isNumber()||r.QFilterUtil.supportsDateRangeFilter(i))){t=i.getValueType()}return t.getName()}}});m.prototype.searchMember=function(e,i,n,s,a,o){const l=this;if(n===undefined){n=true}if(s===undefined){s=true}if(a===undefined){o=false;a=1}const m=this._FFDimension;const u=r.XList.create();const F=r.XList.create();const c=m.getDimension();const g=c.getTextField();if(g){F.add(g);if(n){u.add(g)}}if(c.getDisplayKeyField()&&s){u.add(c.getDisplayKeyField())}return r.QFactory.createDimensionValueHelpWizard(m).withReadMode(r.QMemberReadMode.BOOKED).withPaging(0,a).withMainKeyAndTextFields().searchPromise(e,s,n,o,i).then(function(r){const n=m.getHierarchyName();return t.createFromFFValueHelpNode(r,n,!i?e:null)}).onCatch(function(e){l._DataProvider.addMessages(e)})};m.prototype.toRows=function(){this._DataProvider._executeModelOperation(()=>{this._DataProvider._FFDataProvider.getActions().getAxisActions().moveDimensionToAxis(this.TechName,r.AxisType.ROWS)});return this};m.prototype.toColumns=function(){this._DataProvider._executeModelOperation(()=>{this._DataProvider._FFDataProvider.getActions().getAxisActions().moveDimensionToAxis(this.TechName,r.AxisType.COLUMNS)});return this};m.prototype.moveUp=function(){this._DataProvider._executeModelOperation(()=>{var e=this._FFDimension.getAxis();var t=e.getDimensionIndex(this._FFDimension.getName())-1;e.insert(t,this._FFDimension)});return this};m.prototype.moveDown=function(){this._DataProvider._executeModelOperation(()=>{var e=this._FFDimension.getAxis();var t=e.getDimensionIndex(this._FFDimension.getName())+1;e.insert(t,this._FFDimension)});return this};m.prototype.getMemberFilter=function(){return this.MemberFilter};m.prototype._applyMemberFilter=function(e){const n=t._condenseDimensionMemberFilter(e,i.clone(this._FFDimension.getFilter()),this._FFDimension);this._DataProvider._getQueryModel().queueEventing();r.QFilterUtil.clearSelectionsInContainerByDimension(this.TechName,this._DataProvider._getQueryModel().getFilter().getDynamicFilter());r.FilterDialogValueUtils.updateDynamicFilter(this._FFDimension,n);this._DataProvider._getQueryModel().resumeEventing();this._createMemberFilter();this._DataProvider._triggerDataProviderPropertyUpdate()};m.prototype.setMemberFilter=function(e){return this._applyMemberFilter(e)};m.prototype.removeMemberFilter=function(e){var t=i.filter(i.clone(this.getMemberFilter()),function(t){return!i.isEqual(e.InternalKey,t.InternalKey)});if(t.length>0){return new Promise(e=>{this._applyMemberFilter(t);e()})}else{return new Promise(e=>{this.clearMemberFilter();e()})}};m.prototype.clearMemberFilter=function(){return new Promise(e=>{this._applyMemberFilter([]);e()})};m.prototype.addMemberFilterByKey=function(e){var i=new t([e]);return new Promise(e=>{this.addMemberFilter(i);e()})};m.prototype.setMemberFilterByKey=function(e){var i=[new t([e])];return new Promise(e=>{this.setMemberFilter(i);e()})};m.prototype.removeMemberFilterByKey=function(e){return new Promise(i=>{this.removeMemberFilter(new t([e]));i()})};m.prototype.addMemberFilter=function(e){let t=i.clone(this.getMemberFilter())||[];t.push(e);return new Promise(e=>{this.setMemberFilter(t);e()})};m.prototype.sort=function(e,t,n){this._DataProvider._executeModelOperation(()=>{var s=this._DataProvider._getQueryModel().getDimensionByName(this.TechName);if(this.IsStructure){var a=this._DataProvider._getQueryManager().getConvenienceCommands();a.clearSort(null,null);a.sortByMeasure(i.find(this.Members,e=>e.Name===n).TechName,r.XSortDirection[e])}else{s.getResultSetSorting().setDirection(r.XSortDirection[e]);if(t){s.getResultSetSorting().setSortType(r.SortType[t])}}});return this};m.prototype.removeDrilldown=function(){this._DataProvider._executeModelOperation(()=>{this._DataProvider._getQueryModel().getAxis(r.AxisType.FREE).add(this._FFDimension)});return this};m.prototype.setDisplayHierarchy=function(e,t,i){this._DataProvider._executeModelOperation(()=>{if(t){this._FFDimension.setHierarchyName(t);if(i){this._FFDimension.setHierarchyVersion(i)}}this._FFDimension.setHierarchyActive(e)});return this};m.prototype.readHierarchy=function(e){var t=this;var s=this._DataProvider._getQueryManager().getValueHelpProvider();var a=this._FFDimension.getInitialDrillLevel();this._FFDimension.setSelectorInitialDrillLevel(e);var l=new Promise((e,i)=>{s.processValueHelp(t._FFDimension,r.SyncType.NON_BLOCKING,{onValuehelpExecuted:function(t){return t.hasErrors()?i(o.reject(t.getErrors())):e(t.getData())}},null,null)});return l.then(e=>{function r(e){if(!e){return{}}var t=e.getChildren();return{Name:e.getName(),Text:e.getDimensionMember().getText()||e.getDimensionMember(e.getDimension().getHierarchyDisplayKeyField()).getValue().getString(),hierNodes:t?i.map(t.getListFromImplementation(),r):null}}t._FFDimension.setSelectorInitialDrillLevel(a);var s=i.filter(e.getListFromImplementation(),e=>!e.getParentNode());return s.length===1?r(s[0]):{Name:"$Root",Text:n.getText("ARTIFICIAL_ROOT"),hierNodes:i.map(s,r)}})};m.setDimensionDisplay=function(e){this._DataProvider._executeModelOperation(()=>{var t=this._FFDimension.getDisplayKeyField()||this._FFDimension.getKeyField();var r=this._FFDimension.getTextField();var n=this._FFDimension.getResultSetFields();var o=i.filter(s.arrayFromList(n).map(e=>e),e=>e!==this._FFDimension.getKeyField()&&e!==this._FFDimension.getTextField()&&e!==this._FFDimension.getDisplayKeyField());n.clear();switch(e){case a.Key:n.add(t);break;case a.Text:n.add(r);break;case a.KeyText:n.add(t);n.add(r);break;case a.TextKey:n.add(r);n.add(t);break}i.forEach(o,e=>{n.add(e)})});return this};m.prototype.openPropertyDialog=function(){var e=this;return new Promise(function(t){var i=r.ProgramRunner.createRunner(e._DataProvider._Model.getApplication().getProcess(),r.OuDimensionDialog2.DEFAULT_PROGRAM_NAME);i.setStringArgument(r.OuDimensionDialog2.PARAM_DIMENSION_NAME,e.TechName);var n=r.ProgramStartData.create();n.putXObject(r.DfOuDialogProgram.PRG_DATA_QUERY_MANAGER,e._DataProvider._getQueryManager());n.putXObject(r.DfOuDialogProgram.PRG_DATA_OK_PROCEDURE,{execute:function(){t(true)}});n.putXObject(r.DfOuDialogProgram.PRG_DATA_CANCEL_PROCEDURE,{execute:function(){t(false)}});i.setProgramStartData(n);return i.runProgram()}).then(function(t){if(t){e._DataProvider._executeModelOperation()}})};m.prototype.openValueHelpDialog=function(){let e=this;let t;if(!this._DataProvider._getQueryModel().getFilter().getDynamicFilter().isCartesianProduct()){throw new Error("Filter to complex")}return Promise.resolve().then(()=>new Promise(e=>{const i=r.FilterDialogProgramRunnerFactory.createForDimensionFilter(this._DataProvider._Model.getApplication().getProcess(),this._DataProvider._getQueryManager(),this._FFDimension.getName(),n.getText("SELECTOR",[this.Description]));i.getProgramStartData().putXObject(r.FilterDialog.PRG_DATA_DEFAULT_SELECTION,r.FilterDialogValueFactory.createSelectionFromFilter(this._FFDimension,this._FFDimension.getFilter()));i.getProgramStartData().putXObject(r.FilterDialog.PRG_DATA_LISTENER_CLOSE,{onFilterDialogOk:function(t){e(t)},onFilterDialogCancel:function(){e(null)}});i.getProgramStartData().putXObject(r.FilterDialog.PRG_DATA_LISTENER_BEFORE_FILTER_CHANGE,{onBeforeChange:function(e){t=e.getDisplayInfo()}});i.runProgram()})).then(i=>{let n=e._FFDimension.getFilter();if(t){this.FilterDisplayType=this._getDisplayType(t);if(n){n.getUiSettings(r.QContextType.SELECTOR).setDisplayInfo(t)}}if(i){this._createMemberFilter();this._DataProvider._triggerDataProviderPropertyUpdate()}return!!i})};return m});
/*! SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
   */
sap.ui.predefine("sap/sac/df/model/Measure",["sap/ui/base/Object"],function(e){"use strict";var t=e.extend("sap.sac.df.model.Measure",{constructor:function(e,t,r){Object.assign(this,Object.getPrototypeOf(this));this._DataProvider=e;this._FFMeasure=r;Object.assign(this,t)}});t.prototype.getDecimalPlaces=function(){return this._FFMeasure.getNumericScale()&&this._FFMeasure.getNumericScale().getInteger()};t.prototype.setDecimalPlaces=function(e){var t=this;this._DataProvider._executeModelOperation(function(){return t._FFMeasure.setNumericScale(e)})};t.prototype.getScalingFactor=function(){return this._FFMeasure.getNumericShift()?-1*this._FFMeasure.getNumericShift().getInteger():0};t.prototype.setScalingFactor=function(e){var t=this;this._DataProvider._executeModelOperation(function(){return t._FFMeasure.setNumericShift(-1*e)})};return t});
/*!
* SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
*/
sap.ui.predefine("sap/sac/df/model/MemberFilter",["sap/ui/base/Object","sap/sac/df/firefly/library","sap/sac/df/types/MemberFilterOperator","sap/ui/model/Filter","sap/ui/model/FilterOperator","sap/sac/df/utils/ListHelper","sap/sac/df/thirdparty/lodash"],function(e,t,r,n,i,a,o){"use strict";function l(e,t,r){const n=e.getDimensionMember();const i=new s([n.getFieldValue(e.getDimension().getKeyField()).getString()],[t?n.getFieldValue(e.getDimension().getHierarchyDisplayKeyField()).getString():n.getFieldValue(e.getDimension().getDisplayKeyField()).getString()],[n.getText()]);if(t){const n=e.getChildren();if(n&&n.hasElements()){const e=a.arrayFromList(n).map(function(e){return this.transformValueHelpNode(e,t,r)}).filter(function(e){return e!==null});if(e.length!==0){i.Children=e}}}if(r&&!i.Children){if(!i.Key.includes(r)&&!i.Text.includes(r)){return null}}return i}var s=e.extend("sap.sac.df.model.MemberFilter",{constructor:function(e,t,r,n,a){Object.assign(this,Object.getPrototypeOf(this));return{InternalKey:e&&e,Key:t&&t,Text:r&&r,Operator:n?n:i.EQ,Hierarchy:a}}});s._createFFMemberFilter=function(e){const r=t.FilterDialogValueFactory.createValueExt(e.InternalKey&&e.InternalKey[0]?e.InternalKey[0]:null,e.Key&&e.Key[0]?e.Key[0]:null,e.Text&&e.Text[0]?e.Text[0]:null,e.Hierarchy?e.Hierarchy.name:null,this.getFFOperatorFromUI5Operator(e.Operator));if(e.Operator===i.BT||e.Operator===i.NB){const n=t.FilterDialogValueFactory.createValueExt(e.InternalKey&&e.InternalKey[1]?e.InternalKey[1]:null,e.Key&&e.Key[1]?e.Key[1]:null,e.Text&&e.Text[1]?e.Text[1]:null,e.Hierarchy?e.Hierarchy.name:null,this.getFFOperatorFromUI5Operator(e.Operator));return t.FilterDialogValueFactory.createRangeValue(r,n,e.Operator===i.NB)}return r};s.transformFromFilterToMemberFilter=function(e){return new s([e.getValue1(),e.getValue2()],[e.getValue1(),e.getValue2()],[],e.getOperator())};s.transformFromMemberFilterToFilter=function(e,t){return new n(t,e.Operator,e.Key[0],e.Key[1])};s._createFromFFFilter=function(e,t){const r=e.getDimension();const n=function(e,t){if(r.isMeasureStructure()){return}let n;if(e&&r&&r.getTextField()){n=e.getFlatOrHierarchicalTextSupplement(t)}if(!n){n=e.getString()}return n};const i=function(t,r){const n=e.getDimension();if(n.isMeasureStructure()){return}let i;if(t&&n){i=t.getFlatOrHierarchicalDisplayKeySupplement(r);if(!i){i=t.getString()}}return i};const a=r.getHierarchy();let o={};if(a&&a.getName()){o={name:a.getName(),version:e.getHierarchyVersion(),dueDate:e.getHierarchyDueDate(),levelOffset:e.getLevelOffset(),depth:e.getDepth()}}const l={Sign:e.getSetSign().getName?e.getSetSign().getName():e.getSetSign(),Operator:e.getComparisonOperator().getName()};let u=[e.getLow().getString()];let g=[i(e.getLow(),t)];let c=[n(e.getLow(),t)];if(e.getHigh()&&e.getHigh().getString()){u.push(e.getHigh().getString());g.push(i(e.getHigh(),t));c.push(n(e.getHigh(),t))}const p=new s(u,g,c,this.getUI5OperatorFromFFOperator(l),o);p.UniqueID=e.getUniqueId();return p};s.createFromFFMemberFilter=function(e){const t=[];o.forEach(e,e=>{const r=new s([e.Low,e.High].filter(Boolean),[e.Low,e.High].filter(Boolean),[e.Text].filter(Boolean),this.getUI5OperatorFromFFOperator({Sign:e.IsExcluding?"EXCLUDING":"INCLUDING",Operator:e.ComparisonOperator}),e.Hierarchy);const n=[e.LowExternal,e.HighExternal].filter(Boolean);if(n.length>0){r.KeyComponents=[];o.forEach(n,e=>{const t=[];r.KeyComponents.push(t);o.forEach(e,function(e){const r={};t.push(r);r.Dimension=e.Dimension;r.Member=e.Member})})}t.push(r)});return t};s.createFromFFValueHelpNode=function(e,t,r){const n=e.getIterator();const i=[];while(n.hasNext()){const e=n.next();if(t||e.getDisplayLevel()===0){const n=l(e,t,r);if(n){i.push(n)}}}return i};s._condenseDimensionMemberFilter=function(e,r,n){var i=t.XList.create();if(e&&e.length>0){const l=[];const s=[];o.forEach(e,e=>{e.UniqueID?l.push(e.UniqueID):s.push(e)});if(r&&a.arrayFromList(r).length>0){if(l.length>0){o.forEach(a.arrayFromList(r),e=>{if(!l.includes(e.m_uniqueId)){r.removeElement(e)}});if(a.arrayFromList(r).length>0){i=t.FilterDialogValueUtils.newSelectionFromFilter(n,r)}}}o.forEach(s,e=>{i.add(this._createFFMemberFilter(e))})}return i};s.getFFOperatorFromUI5Operator=function(e){return t.ComparisonOperator[r[e][0].Operator]};s.getUI5OperatorFromFFOperator=function(e){return o.findKey(r,t=>{if(t){return t.find(t=>t.Operator===e.Operator&&t.Sign===e.Sign)}})};return s});
/*
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/model/MultiDimModel",["sap/base/i18n/Formatting","sap/base/i18n/Localization","sap/ui/model/Model","sap/ui/model/json/JSONModel","sap/base/Log","sap/sac/df/utils/SyncActionHelper","sap/sac/df/utils/ListHelper","sap/sac/df/model/internal/_DFKernel","sap/sac/df/model/internal/SystemLandscape","sap/sac/df/model/DataProvider","sap/sac/df/model/VariableGroup","sap/sac/df/model/Configuration","sap/sac/df/utils/ResourceBundle","sap/ui/core/Configuration","sap/ui/model/BindingMode","sap/sac/df/utils/MetaPathHelper","sap/sac/df/types/VisualizationType","sap/sac/df/model/extensions/contextMenu/ContextMenuProviderRegistry","sap/sac/df/model/extensions/styling/GridStylingTemplateRegistry","sap/sac/df/thirdparty/lodash","sap/sac/df/firefly/library"],function(e,t,r,a,i,o,s,n,d,u,l,p,g,c,P,h,f,m,v,y,D){"use strict";var S=a.extend("sap.sac.df.model.MultiDimModel",{constructor:function(e){Object.assign(this,Object.getPrototypeOf(this));r.call(this);var t=this;this.VariableGroupMapping={};this._metadataCacheEnabled=e&&e.metadataCacheEnabled||false;e.widgetCatalogPath=e.widgetCatalogPath||"vfs/analyticalwidgets/";this._SystemSettings={systemLandscape:e&&e.systemLandscape||d,systemType:e&&e.systemType||"BW",masterSystem:e&&e.masterSystem||"local"+(e&&e.systemType||"BW"),clientIdentifier:e&&e.clientIdentifier,keepAliveInterval:e&&e.keepAliveInterval,widgetCatalogPath:e.widgetCatalogPath};this.initCompletedPromise=this._getUserProfile().then(e=>n.init({systemSettings:this._SystemSettings,userProfile:e})).then(function(e){t.kernelProgram=e;t._setupSharedDataSpace();D.XLocalizationCenter.setExternalAdapter(g);D.XLocalizationCenter.getCenter().setProductive(true)}).then(function(){t._StylingProviderRegistry={Grid:new v(t)};t._ContextMenuProviderRegistry=new m(t);t.setData({DataProviders:{},VariableGroups:{},Messages:[],Configuration:{}});t.checkUpdate()});t._openSettingDialog=function(){let e=D.SuSettingsDialog.createRunnerForConfigurationType(this.getApplication().getProcess(),D.CoConfigurationType.OTHER);e.setBooleanArgument(D.SuSettingsDialog.PARAM_USER_MODE,true);e.setStringArgument(D.SuSettingsDialog.PARAM_CONFIGURATION_NAMES,"ValueHelpDialogConfiguration");e.runProgram()};t._setupSharedDataSpace=function(){var e=this.getSession();var t=e.getSharedDataSpace(D.OuDataProviderCommandPlugin.DEFAULT_SHARED_SPACE_NAME);if(!t){e.createSharedDataSpace(D.OuDataProviderCommandPlugin.DEFAULT_SHARED_SPACE_NAME)}};t._addMessages=function(e){this.setMessages(y.map(y.groupBy(y.concat(this.getMessages(),e),"Text"),e=>e[0]));return this.checkUpdate()};var a=this.initCompletedPromise.then(()=>{this.Configuration=new p(this,e.Configuration,e.ConfigurationURI);return this.Configuration.applyConfiguration()}).then(()=>{const t=e&&e.Widgets||[];var r=[];y.forEach(t,(e,t)=>{var a=this.addDataProviderFromWidget(t,e.WidgetId);r.push(a)});return Promise.all(r)}).then(()=>{var r=[];const a=e&&e.DataProviders||[];y.forEach(a,(e,a)=>{var i=this.addDataProvider(a,e.dataSourceName,e.systemName,e.packageName,e.schemaName,e.dataSourceType,e.startWithAutoFetch);y.forEach(e.Visualizations,(e,t)=>{i.then(a=>{r.push(a.addVisualization(t,f[e.type]))})});r.push(e.synchronize?i.then(()=>t.getDataProvider(a).synchronize()):i)});return Promise.all(r).then(()=>t).catch(function(e){t._addMessages(e.getMessages?e.getMessages():[]);return Promise.reject(e)})});t.metadataLoaded=()=>a;t.loaded=t.metadataLoaded;t.annotationsLoaded=t.metadataLoaded;t.attachMetadataFailed=y.constant(null);t.fireMetadataFailed=y.constant(null);t.dataLoaded=y.constant(null);t.attachPropertyChange(function(e){if(e.getParameter("path").includes("/AutoFetchEnabled")){t.getDataProvider(e.getParameter("path").split(h.PathTo.DataProviders+"/")[1].split("/AutoFetchEnabled")[0]).setAutoFetchEnabled(e.getParameter("value"))}})},_getUserProfile:function(){const r=new a({defaults:{dateFormat:"MM/DD/YYYY",groupingSeparator:".",decimalSeparator:",",timeFormat:"24hrs"},header:{language:"EN"}});r.setProperty("/header/language",t.getLanguage());const i=e.getCustomLocaleData();if(i&&i["dateFormats-medium"]){r.setProperty("/defaults/dateFormat",i["dateFormats-medium"])}const o=e.getNumberSymbol("decimal");if(o){r.setProperty("/defaults/decimalSeparator",o)}const s=e.getNumberSymbol("group");if(s){r.setProperty("/defaults/groupingSeparator",s)}if(o&&s){r.setProperty("/defaults/groupingSeparator",s)}let n;const d=sap.ui.require("sap/ushell/Container");if(d&&d.getServiceAsync){n=d.getServiceAsync("UserInfo")}else{n=Promise.resolve(null)}return n.then(e=>{if(e){r.setProperty("/username",e.getId());r.setProperty("/header/mail",e.getEmail());r.setProperty("/header/firstName",e.getFirstName());r.setProperty("/header/lastName",e.getLastName());r.setProperty("/header/fullName",e.getFullName())}return JSON.stringify(r.getData())})},getSession:function(){if(!this.kernelProgram){i.error("Kernel not initialized");return null}return this.kernelProgram.getSession()},getApplication:function(){if(!this.kernelProgram){i.error("Kernel not initialized");return null}return this.kernelProgram.getApplication()},getStylingProvider:function(){return this._StylingProvider},_updateVariableGroups:function(e){y.forEach(this.getVariableGroups(),function(t){t.updateVariableGroup(e)})}});S.prototype.fireDataProviderUpdated=function(e){this.fireEvent("dataProviderUpdated",e);return S};S.prototype.addDataProviderFromWidget=function(e,t){var r=this;return r.initCompletedPromise.then(r.removeDataProvider(e)).then(function(){const a=new u(r,e);r.setProperty(h.PathTo.DataProviders+"/"+e,a);return a._createFFDataProviderFromWidget(t)}).then(function(t){r.fireDataProviderAdded({dataProviderName:e});return t}).then(function(e){return e}).catch(function(e){r._addMessages(e.getMessages?e.getMessages():[]);return Promise.reject(e)})};S.prototype.addDataProvider=function(e,t,r,a,i,o,s){var n=this;let d=y.isUndefined(s)?true:s;return n.initCompletedPromise.then(n.removeDataProvider(e)).then(function(){const s=new u(n,e);n.setProperty(h.PathTo.DataProviders+"/"+e,s);return s._createFFDataProvider(t,r,a,i,o)}).then(function(t){t._FFDataProvider?.getResulting().setAutoFetchActive(d);n.setProperty(h.PathTo.DataProviders+"/"+e+"/AutoFetchEnabled",d);n._updateVariableGroups(true);n.fireDataProviderAdded({dataProviderName:e});return t}).then(function(e){return e}).catch(function(e){n._addMessages(e.getMessages?e.getMessages():[]);return Promise.reject(e)})};S.prototype.fireDataProviderAdded=function(e){this.fireEvent("dataProviderAdded",e);return S};S.prototype.fireDataProviderRemoved=function(e){this.fireEvent("dataProviderRemoved",e);return S};S.prototype.fireVariableGroupsAdded=function(e){this.fireEvent("variableGroupsAdded",e);return S};S.prototype.fireStylingTemplateActivated=function(e){this.fireEvent("stylingTemplateActivated",e);return S};S.prototype.getDataProvider=function(e){return this.getProperty(h.PathTo.DataProviders+"/"+e)};S.prototype.getDataProviders=function(){return this.getProperty(h.PathTo.DataProviders)};S.prototype.removeDataProvider=function(e){var t=this;var r=this.getDataProvider(e);this.setProperty(h.PathTo.DataProviders+"/"+e,null);if(r){return r.logoff&&r.logoff().then(function(){t._updateVariableGroups();t.fireDataProviderRemoved({dataProviderName:e})}).catch(function(e){return Promise.resolve(e)})}else{return Promise.resolve()}};S.prototype.getVariableGroups=function(){return this.getProperty(h.PathTo.VariableGroups)};S.prototype.getVariableGroup=function(e){return this.getProperty(h.PathTo.VariableGroups+"/"+e)};S.prototype.createVariableGroup=function(e,t,r){return new l(this,e,t,r)};S.prototype.setVariableGroups=function(e){y.forEach(e,e=>{this.setProperty(h.PathTo.VariableGroups+"/"+e.Name,e)});this.fireVariableGroupsAdded();return Promise.resolve(e)};S.prototype.propagateVariableGroupValues=function(e){var t=this;var r=[];var a=this.getDataProvider(e);const i=this.getVariableGroups();const o=i.length>0&&i[0].MergedVariable.DataProviderName;if(o!==e){y.forEach(i,function(r){var i=t.VariableGroupMapping[r.Name];y.forEach(i,function(t){if(t.DataProviderName===e){a.getVariable(t.Name)._transferMemberFilterFromAnotherVariable(r.MergedVariable)}})});this.checkUpdate()}return Promise.all(r)};S.prototype.setMessages=function(e){return this.setProperty(h.PathTo.Messages,e)};S.prototype.getMessages=function(){return this.getProperty(h.PathTo.Messages)};S.prototype.getConfiguration=function(){return this.getProperty(h.PathTo.Configuration)};S.prototype.logoff=function(){return Promise.all(y.invokeMap(this.getDataProvider(),"logoff"))};S.prototype.resetModel=function(){if(!this.bSkipDeserialization){var e=this;var t=[];y.forEach(this.getDataProviders(),function(e){t.push(e.resetToMetaData())});return Promise.all(t).then(function(){e._updateVariableGroups()})}};S.prototype.serialize=function(e){var t=e==="INA_REPOSITORY_DELTA"?D.QModelFormat.INA_REPOSITORY_DELTA:D.QModelFormat.INA_REPOSITORY;return{AssignedFilters:this.getProperty("/AssignedFilters"),DataProviders:y.reduce(this.getDataProviders(),function(e,r){e[r.Name]=r.serialize(t);return e},{})}};S.prototype.deserialize=function(e,t){if(!this.bSkipDeserialization){var r=this;var a=this.getDataProviders();var i=t==="INA_REPOSITORY_DELTA"?D.QModelFormat.INA_REPOSITORY_DELTA:D.QModelFormat.INA_REPOSITORY;this.setProperty(h.PathTo.DataProviders,a||{});return this.initCompletedPromise.then(function(){var t=[];r.setProperty("/AssignedFilters",e.AssignedFilters);y.forEach(e.DataProviders,function(o,s){let n=a[s];if(n&&n._FFDataProvider){t.push(n.deserialize(o,i))}else{r.attachEvent("dataProviderAdded",null,function(t){const a=e.DataProviders[t.getParameter("dataProviderName")];if(a){return Promise.resolve(r.getDataProvider(t.getParameter("dataProviderName")).deserialize(a,i))}})}});return Promise.all(t)}).then(function(){r._updateVariableGroups();return r.checkUpdate()})}};S.prototype.skipDeserialization=function(e){this.bSkipDeserialization=e};S.prototype.getGridStylingTemplateRegistry=function(){return this._StylingProviderRegistry.Grid};S.prototype.getContextMenuProviderRegistry=function(){return this._ContextMenuProviderRegistry};S.M_EVENTS={variableGroupsAdded:"variableGroupsAdded",dataProviderAdded:"dataProviderAdded",dataProviderUpdated:"dataProviderUpdated",dataProviderRemoved:"dataProviderRemoved",loaded:"loaded",dataLoaded:"dataLoaded",stylingTemplateActivated:"stylingTemplateActivated"};S.M_PROPERTIES={DataProviders:"DataProviders",VariableGroups:"VariableGroups",Messages:"Messages"};return S});
/*!
* SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
*/
sap.ui.predefine("sap/sac/df/model/Variable",["sap/ui/base/Object","sap/sac/df/model/MemberFilter","sap/sac/df/thirdparty/lodash","sap/sac/df/firefly/library","sap/sac/df/utils/SyncActionHelper","sap/sac/df/utils/ListHelper","sap/m/MessageBox","sap/sac/df/utils/ResourceBundle","sap/ui/model/FilterOperator","sap/sac/df/types/DisplayType"],function(e,t,i,r,a,l,s,n,o,F){"use strict";const p=e.extend("sap.sac.df.model.Variable",{constructor:function(e,a){Object.assign(this,Object.getPrototypeOf(this));const s=this;this._DataProvider=e;this._FFVariable=a;this._createMemberFilter=function(){this.MemberFilter=[];this.MemberFilter=this._FFVariable.getMemberFilter?u(this._FFVariable.getMemberFilter()):g(this._FFVariable)};this._createFilterDisplayType=function(){if(this._DataProvider._VariableDisplayType&&this._DataProvider._VariableDisplayType[this.Name]){this.FilterDisplayType=this._DataProvider._VariableDisplayType[this.Name]}else{this.FilterDisplayType=this._getDisplayType(this.DisplayType)}};this._getSupportedOperators=function(){if(this._FFVariable&&this._FFVariable.getDimension&&this._FFVariable.getDimension()){const e=this._FFVariable.getFilterCapability();if(e){const a=l.arrayFromList(e.getSupportedComparisonOperators(r.SetSign.INCLUDING));if(a){return i.map(a,function(e){if(e&&e.getName()){return t.getUI5OperatorFromFFOperator({Sign:"INCLUDING",Operator:e.getName()})}})}}}return["EQ"]};this._getDisplayType=function(e){switch(e){case r.FilterDisplayInfo.ID:return F.Key;case r.FilterDisplayInfo.DESCRIPTION:return F.Text;case r.FilterDisplayInfo.ID_AND_DESCRIPTION:return F.KeyText;case r.FilterDisplayInfo.DESCRIPTION_AND_ID:return F.TextKey}};this._createFFSelection=function(e){let r=i.clone(this._FFVariable.getMemberFilter());if(!this.SupportsMultipleValues){r=null}return t._condenseDimensionMemberFilter(e,r,this._FFVariable.getDimension())};Object.assign(this,{Name:this._FFVariable.getNameExternal()||this._FFVariable.getName(),Dimension:this._FFVariable.getDimension&&this._FFVariable.getDimension()&&(this._FFVariable.getDimension().getExternalName()||this._FFVariable.getDimension().getName()),ValueType:this._FFVariable.getValueType().getName(),VariableType:this._FFVariable.getVariableType().getName(),Description:this._FFVariable.getText(),Mandatory:this._FFVariable.isMandatory(),SupportsMultipleValues:this._FFVariable.supportsMultipleValues(),TechName:this._FFVariable.getName(),InputEnabled:this._FFVariable.isInputEnabled(),IsFilterable:this._FFVariable.getDimension&&this._FFVariable.getDimension()&&this._FFVariable.getDimension().getKeyField().isFilterable(),Position:this._FFVariable.getVariableOrder(),SupportsValueHelp:this._FFVariable.supportsValueHelp&&this._FFVariable.supportsValueHelp(),DataProviderName:this._DataProvider.Name,DisplayType:this._FFVariable.getDimension&&this._FFVariable.getDimension()&&r.FilterDisplayInfo.getDimensionDisplayInfo(this._FFVariable.getDimension()),FilterDisplayType:null,MemberFilter:[],SupportedOperators:s._getSupportedOperators().filter(Boolean)});s._createMemberFilter();s._createFilterDisplayType()}});function u(e){return i.map(l.arrayFromList(e),i=>t._createFromFFFilter(i,e))}function g(e){const i=e.getValueByString();if(!e.getValue()||!i){return[]}return[new t([i],[i],[i])]}p.prototype._transferMemberFilterFromAnotherVariable=function(e){const t=this._FFVariable;if(!h(t,e._FFVariable)){this._DataProvider._getQueryModel().stopEventing();t.getVariableType().isTypeOf(r.VariableType.DIMENSION_MEMBER_VARIABLE)?t.setMemberFilter(i.clone(e._FFVariable.getMemberFilter())):t.setValueByStringExt(i.clone(e.getValueByString()),true);this._DataProvider._getQueryModel().resumeEventing();this._createMemberFilter();this._DataProvider.variableChanged=true;this._DataProvider._triggerDataProviderPropertyUpdate(true)}};function h(e,t){if(e.getVariableType().isTypeOf(r.VariableType.DIMENSION_MEMBER_VARIABLE)){return e.getMemberFilter().serializeToString(r.QModelFormat.INA_REPOSITORY)==t.getMemberFilter().serializeToString(r.QModelFormat.INA_REPOSITORY)}else return e.getValueByString()==t.getValueByString()}p.prototype._applyMemberFilter=function(e){if(!this._FFVariable&&!this._FFVariable.isInputEnabled()){throw new Error("Variable is not input enabled")}this._DataProvider._getQueryModel().queueEventing();return this._DataProvider._reinitIfNeededPromise().then(()=>{this._FFVariable.getVariableType().isTypeOf(r.VariableType.DIMENSION_MEMBER_VARIABLE)?r.FilterDialogValueUtils.updateVariableFilter(this._FFVariable,this._createFFSelection(e)):i.forEach(e,e=>{this._FFVariable.setValueByStringExt(e.InternalKey[0],true)})}).then(()=>{this._DataProvider._getQueryModel().resumeEventing();this._createMemberFilter();this._DataProvider.variableChanged=true;this._DataProvider._triggerDataProviderPropertyUpdate()})};p.prototype.transformValueHelpNode=function(e,i,r){const a=e.getDimensionMember();const s=new t([i?a.getFieldValue(e.getDimension().getHierarchyDisplayKeyField()).getString():a.getFieldValue(e.getDimension().getDisplayKeyField()).getString()],[a.getFieldValue(e.getDimension().getKeyField()).getString()],[a.getText()]);if(i){const t=e.getChildren();if(t&&t.hasElements()){const e=l.arrayFromList(t).map(e=>this.transformValueHelpNode(e,i,r)).filter(e=>e!==null);if(e.length!==0){s.Children=e}}}if(r&&!s.Children){if(!s.Key.includes(r)&&!s.Text.includes(r)){return null}}return s};p.prototype.searchMember=function(e,i,a,l,s,n){if(a===undefined){a=true}if(l===undefined){l=true}if(s===undefined){n=false;s=1}const o=this._FFVariable;if(!o){return Promise.reject(new Error("Variable "+this.Name+" is not known"))}const F=r.XList.create();const p=r.XList.create();const u=o.getDimension();const g=u.getTextField();if(g){p.add(g);if(a){F.add(g)}}if(u.getDisplayKeyField()&&l){F.add(u.getDisplayKeyField())}return this._DataProvider._reinitIfNeededPromise().then(()=>r.QFactory.createVariableValueHelpWizard(o).withReadMode(r.QMemberReadMode.BOOKED).withPaging(0,s).withMainKeyAndTextFields().searchPromise(e,l,a,n,i).then(a=>{const l=o.getVariableType();const s=l!=null&&l.isTypeOf(r.VariableType.HIERARCHY_NODE_VARIABLE)?o.getHierarchyName():null;this._createMemberFilter();return t.createFromFFValueHelpNode(a,s,!i?e:null)}).onCatch(e=>{this._DataProvider._addMessagesToModel(e)}))};p.prototype.getMemberFilter=function(){return this.MemberFilter};p.prototype.setMemberFilter=function(e){return this._applyMemberFilter(e)};p.prototype.addMemberFilterByKey=function(e){return this.addMemberFilter(new t([e]))};p.prototype.setMemberFilterByKey=function(e){return this.setMemberFilter([new t([e])])};p.prototype.removeMemberFilterByKey=function(e){let t=i.filter(i.clone(this.getMemberFilter()),t=>t.InternalKey.includes(e));t=t&&t[0];return this.removeMemberFilter(t)};p.prototype.addMemberFilter=function(e){let t=i.clone(this.getMemberFilter())||[];t.push(e);return this.setMemberFilter(t)};p.prototype.removeMemberFilter=function(e){const t=i.filter(i.clone(this.getMemberFilter()),t=>e.UniqueID!==t.UniqueID);return this._applyMemberFilter(t)};p.prototype.clearMemberFilter=function(){return this._applyMemberFilter([])};p.prototype.openValueHelpDialog=function(){let e;if(!this.SupportsValueHelp){throw new Error("No Value help for variable "+this.Name)}this._DataProvider._getQueryModel().queueEventing();return this._DataProvider._reinitIfNeededPromise().then(()=>this._DataProvider._transferVariablesIfNeededPromise()).then(()=>new Promise(t=>{const i=r.FilterDialogProgramRunnerFactory.createForVariableFilter(this._DataProvider._Model.getApplication().getProcess(),this._DataProvider._getQueryManager(),this._FFVariable,n.getText("SELECTOR",[this.Description]));i.getProgramStartData().putXObject(r.FilterDialog.PRG_DATA_DEFAULT_SELECTION,r.FilterDialogValueFactory.createSelectionFromVariable(this._FFVariable));i.getProgramStartData().putXObject(r.FilterDialog.PRG_DATA_LISTENER_CLOSE,{onFilterDialogOk:function(e){t(e)},onFilterDialogCancel:function(){t(null)}});i.getProgramStartData().putXObject(r.FilterDialog.PRG_DATA_LISTENER_BEFORE_FILTER_CHANGE,{onBeforeChange:function(t){e=t.getDisplayInfo()}});i.runProgram()})).then(t=>{this._DataProvider._getQueryModel().resumeEventing();let i=this._FFVariable.getMemberFilter();if(e){this.FilterDisplayType=this._getDisplayType(e);this._DataProvider._VariableDisplayType[this.Name]=this.FilterDisplayType;if(i){i.getUiSettings(r.QContextType.SELECTOR).setDisplayInfo(e)}}if(t){this._createMemberFilter();this._DataProvider.variableChanged=true;this._DataProvider._triggerDataProviderPropertyUpdate()}return!!t})};return p});
/*!
* SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
*/
sap.ui.predefine("sap/sac/df/model/VariableGroup",["sap/ui/base/Object","sap/sac/df/model/DataProvider","sap/sac/df/model/MemberFilter","sap/sac/df/thirdparty/lodash"],function(e,r,a,t){"use strict";const i=e.extend("sap.sac.df.model.VariableGroup",{constructor:function(e,r,a,t){Object.assign(this,Object.getPrototypeOf(this));Object.assign(this,{Name:r,Rule:a,MergedVariable:null},t);this._Model=e;this._getVariableGroupMapping=()=>this._Model.VariableGroupMapping;this.updateVariableGroup()},updateVariableGroup:function(){var e=this;e._getVariableGroupMapping()[this.Name]=[];t.forEach(e._Model.getDataProviders(),r=>{e.updateVariablesForDataProvider(r)})},updateVariablesForDataProvider:function(e){if(e){t.forEach(e.getVariables(),r=>{this._updateVariableInGroup(this,r,e.Name)});e.variableChanged=true;e._triggerDataProviderPropertyUpdate();this.MergedVariable._createFilterDisplayType();this.MergedVariable._createMemberFilter();e.attachEventOnce("dataUpdated",null,()=>{this.MergedVariable._createMemberFilter()});e.attachEventOnce("dataProviderUpdated",null,()=>{this.MergedVariable._createMemberFilter()})}},_updateVariableInGroup:function(e,r,a){if(e.Rule(r,a)){if(e.MergedVariable&&e.MergedVariable.DataProviderName!==a){if(e.MergedVariable.VariableType!==r.VariableType){throw new Error("Could not add variable '"+r.Name+"' for DataProvider='"+a+"'."+" The type="+r.VariableType+" doesn't match type="+e.MergedVariable.VariableType+" of previously added variables ")}}else{e.MergedVariable=r}this._getVariableGroupMapping()[e.Name].push(r)}}});i.prototype.setMemberFilter=function(e){return this.MergedVariable.setMemberFilter(e).then(()=>{this.updateVariableGroup()})};i.prototype.searchMember=function(e,r,a,t,i,l){return this.MergedVariable.searchMember(e,r,a,t,i,l)};i.prototype.addMemberFilterByKey=function(e){return this.MergedVariable.addMemberFilterByKey(e).then(()=>{this.updateVariableGroup()})};i.prototype.setMemberFilterByKey=function(e){return this.MergedVariable.setMemberFilterByKey(e).then(()=>{this.updateVariableGroup()})};i.prototype.removeMemberFilterByKey=function(e){return this.MergedVariable.removeMemberFilterByKey(e).then(()=>{this.updateVariableGroup()})};i.prototype.addMemberFilter=function(e){return this.MergedVariable.addMemberFilter(e).then(()=>{this.updateVariableGroup()})};i.prototype.removeMemberFilter=function(e){return this.MergedVariable.removeMemberFilter(e).then(()=>{this.updateVariableGroup()})};i.prototype.clearMemberFilter=function(){return this.MergedVariable.clearMemberFilter().then(()=>{this.updateVariableGroup()})};i.prototype.getMemberFilter=function(){return this.MergedVariable.getMemberFilter()};i.prototype.openValueHelpDialog=function(){this.updateVariablesForDataProvider(this.MergedVariable._DataProvider,true);return this.MergedVariable.openValueHelpDialog().then(e=>{if(e){this.updateVariableGroup()}return!!e})};i.M_PROPERTIES={Name:"Name",MergedVariable:"MergedVariable"};return i});
/*! SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
   */
sap.ui.predefine("sap/sac/df/model/Visualization",["sap/ui/base/Object","sap/sac/df/model/visualization/Grid","sap/sac/df/types/VisualizationType","sap/sac/df/firefly/library"],function(i,t,e,a){"use strict";let s=i.extend("sap.sac.df.model.Visualization",{constructor:function(i,s,n){Object.assign(this,Object.getPrototypeOf(this));this._DataProvider=i;Object.assign(this,{Name:s,Type:n});switch(n){case e.Grid:Object.assign(this,new t(this));break}this._DataProvider._FFDataProvider.getEventing().getListenerForResultDataFetch().addConsumer(i=>{if(i.getStep()===a.OuDataProviderResultDataFetchStep.VISUALIZATION_FILLED&&i.getFilledVisualizationNames().includes(this.Name)){return this._onVisualizationFilled()}});this._DataProvider._Model.attachEvent("stylingTemplateActivated",null,i=>Promise.resolve(this.activateStylingTemplate&&this.activateStylingTemplate(i.getParameter("stylingTemplateName"))));this._getVisualizationManager=function(){return this._DataProvider._getQueryModel().getVisualizationManager()};this._createFFVisualization=function(){return this._DataProvider._FFDataProvider.getActions().getVisualizationActions().getOrCreateVisualizationDefinition(this.Name,this.Type.VisualizationType,this.Type.ProtocolBindingType,this.Type.ChartType)};this._getFFVisualization=function(){return this._getVisualizationManager().getVisualizationDefinitionByName(this.Name)};this._removeFFVisualization=function(){return this._getVisualizationManager().removeVisualizationDefinitionByName(this.Name)}}});return s});
/*
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/model/extensions/contextMenu/ContextMenuProvider",["sap/ui/base/Object","sap/base/Log","sap/sac/df/firefly/library","sap/sac/df/utils/ListHelper"],function(e,t,n,i){"use strict";const o="Gds.Qb.Table.ContextMenu";const r=e.extend("sap.sac.df.model.extensions.contextMenu.ContextMenuProvider",{actionExecution:{},constructor:function(e){this._Model=e;this.actions={}},isActionVisible:function(e,t){return true},isActionEnabled:function(e,t){return true},onActionTriggered:function(e,t){const n=this.actions[e]||r.actionExecution[e];if(n&&(!n.builtin||n.Type==="Submenu")){n.triggerAction(e,this.convertContextMenuContext(t))}},fireOnClickEvent:function(){},provideMenuConfig:function(e,i,s){r.actionExecution={};const c=n.PrFactory.createStructure();const u=[];if(Object.keys(this.actions).length>0&&e.getUiContext()===o){const t=c.putNewList("MenuExtensions");const n=this.convertContextMenuContext(e);const i=t.addNewStructure();i.putNewList("UiContext").addString(o);const s=i.putNewList("Extension");Object.keys(this.actions).forEach(e=>{const t=this.actions[e];const i=s.addNewStructure();const o=i.putNewList("Items");const c=o.addNewStructure();function a(e,i){return t.isActionVisible(e,n).then(e=>{i.putBoolean("Visible",e)})}function l(e,i){return t.isActionEnabled(e,n).then(e=>{i.putBoolean("Enabled",e)})}function d(e,o,s){return t.getActionDescription(e,n).then(n=>{if(n.InsertAfter){if(s){return Promise.reject(`Action ${e} is nested. InsertAfter is not allowed `)}i.putString("Operation","InsertAfter");i.putString("Reference",n.InsertAfter)}else if(n.InsertBefore){if(s){return Promise.reject(`Action ${e} is nested. InsertBefore is not allowed `)}i.putString("Operation","InsertBefore");i.putString("Reference",n.InsertBefore)}else if(!s){i.putString("Operation","AppendInto");i.putString("Reference","$Root")}if(!n.builtin){o.putString("Text",n.Text);if(n.Icon){o.putString("Icon",n.Icon)}}if(n.Type==="Submenu"){o.putString("Type","Submenu");if(n.OverflowIfMoreThanNItems){o.putString("OverflowIfMoreThanNItems",n.OverflowIfMoreThanNItems)}const e=n.NestedActions;const t=o.putNewList("Items");const i=[];e.forEach(e=>{const n=t.addNewStructure();i.push(d(e,n,true));i.push(l(e,n));i.push(a(e,n))});return i}else{o.putString("Action",e);r.actionExecution[e]=t}})}if(t.getActionDescription){u.push(d(e,c,false))}else{c.putString("Action",e);i.putString("Operation","AppendInto");i.putString("Reference","$Root")}if(!t.builtin){u.push(l(e,c));u.push(a(e,c))}})}Promise.all(u).then(function(){if(t.isLoggable()){t.debug(n.PrUtils.serialize(c))}i.onDynamicMenuConfigProvided(e,"flexAnalysisProvider",c,s)}).catch(o=>{t.error("Failed to provide custom context menu",o,"ContextMenuProvider");i.onDynamicMenuConfigProvided(e,"flexAnalysisProvider",n.PrFactory.createStructure(),s)})},registerAction:function(e,t){this.actions[e]=t},unregisterAction:function(e){delete this.actions[e]},isReleaseLocked:function(){return true},convertCellClickContext:function(e,t){const n={DataProvider:t,Grid:{SelectedCells:[],SelectedDataCells:[]}};const i=parseInt(e.getParameters().getByKey("column"));const o=parseInt(e.getParameters().getByKey("row"));if(i>=0&&o>=0){n.Grid.SelectedCells.push({rowIndex:o,columnIndex:i});this._setSelectedDataCells(n,o,i)}return n},convertContextMenuContext:function(e){var t=this;const n={DataProvider:this._getDataProvider(e).Name,Grid:{SelectedCells:[],SelectedDataCells:[]}};let o=i.arrayFromList(i.arrayFromList(e.getSubContexts("Selected.Cells"))[0].getSubContexts());o.forEach(function(e){const i=e.getCustomObject().getFirstObject().getInteger();const o=e.getCustomObject().getSecondObject().getInteger();if(i>=0&&o>=0){n.Grid.SelectedCells.push({rowIndex:o,columnIndex:i});t._setSelectedDataCells(n,o,i)}});return n},_setSelectedDataCells:function(e,t,n){if(n&&t){const i=this._Model.getDataProvider(e.DataProvider);const o=i.getGridVisualization()._getFFVisualization().getActiveTableContainer();const r=o.getColumnTupleIndex(n);const s=o.getRowTupleIndex(t);const c=o.getDocumentId(n,t);if(r>=0&&s>=0){e.Grid.SelectedDataCells.push({rowIndex:s,columnIndex:r,documentId:c})}}},_getDataProvider:function(e){let t=e.getSingleSubContext("Olap.DataProvider")?.getCustomObject();if(!t){t=e.getSingleSubContext("Document.QueryBuilder").getCustomObject().getDataProvider()}return t&&this._Model.getDataProvider(t.getName())}});return r});
/*
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/model/extensions/contextMenu/ContextMenuProviderRegistry",["sap/ui/base/Object","sap/sac/df/model/extensions/contextMenu/ContextMenuProvider"],function(e,t){"use strict";var n=e.extend("sap.sac.df.model.extensions.contextMenu.ContextMenuProviderRegistry",{constructor:function(e){this._Model=e;this._ContextMenuProviderRegistry={default:new t(e)}}});n.prototype.getDefaultProvider=function(){return this._ContextMenuProviderRegistry.default};n.prototype.addProvider=function(e,t){return this._ContextMenuProviderRegistry[e]=t};n.prototype.getProvider=function(e){return this._ContextMenuProviderRegistry[e]};return n});
/*
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/model/extensions/styling/FinStyle",["sap/sac/df/types/DimensionType","sap/sac/df/firefly/library"],function(e,t){var a={TableDefinition:{CType:"VisualizationTableDefinition",ScopedStyle:[{Name:"middle-alignment",Text:"middle-alignment",ColumnsScope:{CType:"VisualizationCellReferenceScope",MatchDataSectionFull:true},Style:"middle-alignment"},{Name:"Actual",Text:"Actual",ColumnsScope:{CType:"VisualizationCellReferenceScope",ReferencePaths:[]},Style:"ActualStyle"},{Name:"Previous",Text:"Previous",ColumnsScope:{CType:"VisualizationCellReferenceScope",ReferencePaths:[]},Style:"PreviousStyle"},{Name:"Budget",Text:"Budget",ColumnsScope:{CType:"VisualizationCellReferenceScope",ReferencePaths:[]},Style:"BudgetStyle"},{Name:"Forecast",Text:"Forecast",ColumnsScope:{CType:"VisualizationCellReferenceScope",ReferencePaths:[]},Style:"ForecastStyle"},{Name:"PercentageVariance",Text:"PercentageVariance",ColumnsScope:{CType:"VisualizationCellReferenceScope",ReferencePaths:[]},Style:"PercentageVarianceStyle"},{Name:"AbsoluteVariance",Text:"AbsoluteVariance",ColumnsScope:{CType:"VisualizationCellReferenceScope",ReferencePaths:[]},Style:"AbsoluteVarianceStyle"},{Name:"bold",RowsScope:{CType:"VisualizationCellReferenceScope",ReferencePaths:[{ReferencePathElements:[{AxisLevel:0,Leaves:false}]}]},Style:"bold",Text:"bold"},{Name:"leaves",RowsScope:{CType:"VisualizationCellReferenceScope",ReferencePaths:[{ReferencePathElements:[{AxisLevel:0,Leaves:true}]}]},Style:"leaves",Text:"leaves"},{Name:"hl0_td",RowsScope:{CType:"VisualizationCellReferenceScope",MatchModulo:-1,MatchOrdinal:-1,ReferencePaths:[{ReferencePathElements:[{AxisLevel:0,HierarchyLevel:0,IncludeHeaderBand:false,HierarchyLevelExact:true,Leaves:false,Expanded:true,LowerLevelNodeAlignment:"Below"}]}]},Style:"hl0_td",Text:"hl0_td"},{Name:"hl1_td",RowsScope:{CType:"VisualizationCellReferenceScope",MatchModulo:-1,MatchOrdinal:-1,ReferencePaths:[{ReferencePathElements:[{AxisLevel:0,HierarchyLevel:1,IncludeHeaderBand:false,HierarchyLevelExact:true,Leaves:false,Expanded:true,LowerLevelNodeAlignment:"Below"}]}]},Style:"hl1_td",Text:"hl1_td"},{Name:"hl2_td",RowsScope:{CType:"VisualizationCellReferenceScope",MatchModulo:-1,MatchOrdinal:-1,ReferencePaths:[{ReferencePathElements:[{AxisLevel:0,HierarchyLevel:2,HierarchyLevelExact:true,IncludeHeaderBand:false,Leaves:false,Expanded:true,LowerLevelNodeAlignment:"Below"}]}]},Style:"hl2_td",Text:"hl2_td"},{Name:"hl0_bu",RowsScope:{CType:"VisualizationCellReferenceScope",MatchModulo:-1,MatchOrdinal:0,ReferencePaths:[{ReferencePathElements:[{AxisLevel:0,HierarchyLevel:0,IncludeHeaderBand:false,HierarchyLevelExact:true,Leaves:false,Expanded:true,LowerLevelNodeAlignment:"Above"}]}]},Style:"hl0_bu",Text:"hl0_bu"},{Name:"hl1_bu",RowsScope:{CType:"VisualizationCellReferenceScope",MatchModulo:-1,MatchOrdinal:0,ReferencePaths:[{ReferencePathElements:[{AxisLevel:0,HierarchyLevel:1,IncludeHeaderBand:false,HierarchyLevelExact:true,Leaves:false,Expanded:true,LowerLevelNodeAlignment:"Above"}]}]},Style:"hl1_bu",Text:"hl1_bu"},{Name:"hl2_bu",RowsScope:{CType:"VisualizationCellReferenceScope",MatchModulo:-1,MatchOrdinal:0,ReferencePaths:[{ReferencePathElements:[{AxisLevel:0,HierarchyLevel:2,HierarchyLevelExact:true,IncludeHeaderBand:false,Leaves:false,Expanded:true,LowerLevelNodeAlignment:"Above"}]}]},Style:"hl2_bu",Text:"hl2_bu"}],Styles:[{VerticalAlignment:"Middle",Name:"middle-alignment",Priority:0,Text:"middle-alignment"},{FontBold:true,Name:"bold",Priority:0,Text:"bold"},{FontBold:false,Name:"leaves",BottomLine:{LineColor:"sapUiWhite",LineStyle:"Solid",LineWidth:1},Priority:0,Text:"leaves"},{BottomLine:{LineColor:"sapUiBrand",LineStyle:"Solid",LineWidth:2},Name:"hl0_td",Priority:0,Text:"hl0_td"},{BottomLine:{LineColor:"sapUiBlackBorder",LineStyle:"Solid",LineWidth:2},Name:"hl1_td",Priority:0,Text:"hl1_td"},{BottomLine:{LineColor:"sapUiBlackBorder",LineStyle:"Solid",LineWidth:1},Name:"hl2_td",Priority:0,Text:"hl2_td"},{BottomLine:{LineColor:"sapUiBrand",LineStyle:"Solid",LineWidth:2},Name:"hl0_bu",Priority:0,Text:"hl0_bu"},{BottomLine:{LineColor:"sapUiBlackBorder",LineStyle:"Solid",LineWidth:2},Name:"hl1_bu",Priority:0,Text:"hl1_bu"},{BottomLine:{LineColor:"sapUiBlackBorder",LineStyle:"Solid",LineWidth:1},Name:"hl2_bu",Priority:0,Text:"hl2_bu"},{BottomLine:{PatternType:"Solid",PatternColor:"sapUiBlackBorder",PatternWidth:4,PatternBorderColor:"sapUiBlackBorder"},Name:"ActualStyle",Text:"ActualStyle",Priority:0},{BottomLine:{PatternType:"Solid",PatternColor:"sapUiContentUnratedColor",PatternWidth:4,PatternBorderColor:"sapUiContentUnratedColor"},Name:"PreviousStyle",Text:"PreviousStyle",Priority:0},{BottomLine:{PatternType:"Nofill",PatternColor:"sapUiBlackBorder",PatternWidth:4,PatternBorderColor:"sapUiBlackBorder"},Name:"BudgetStyle",Text:"BudgetStyle",Priority:0},{BottomLine:{PatternType:"Hatching1",PatternColor:"sapUiContentImagePlaceholderBackground",LineWidth:1,PatternWidth:4,PatternBorderColor:"sapUiContentImagePlaceholderBackground"},Name:"ForecastStyle",Text:"ForecastStyle",Priority:0},{BottomLine:{PatternType:"Nofill",PatternColor:"sapUiBrand",PatternWidth:4,PatternBorderColor:"sapUiBrand"},Name:"AbsoluteVarianceStyle",Text:"AbsoluteVarianceStyle",Priority:0},{BottomLine:{PatternType:"Hatching1",PatternColor:"sapUiBrand",PatternWidth:4,PatternBorderColor:"sapUiBrand"},Name:"PercentageVarianceStyle",Text:"PercentageVarianceStyle",Priority:0}],TableHeaderCompactionType:"PreferablyColumn",TableMarkup:[{ColumnsScope:{CType:"VisualizationCellReferenceScope",MatchDataSectionEnd:false,MatchDataSectionFull:true,MatchDataSectionStart:false,MatchHeaderSectionEnd:false,MatchHeaderSectionFull:true,MatchHeaderSectionStart:false,MatchModulo:0,MatchOrdinal:0},Name:"tm",Priority:0,ScopedStyle:["hl0_td","hl1_td","hl2_td","hl0_bu","hl1_bu","hl2_bu","leaves","bold"],Text:"tm",Width:0},{RowsScope:{CType:"VisualizationCellReferenceScope",MatchHeaderSectionEnd:true},HeightAddition:3,Name:"semantic",Priority:0,ScopedStyle:["middle-alignment","Actual","Previous","Budget","Forecast","AbsoluteVariance","PercentageVariance"],Text:"semantic",Width:0}],TableMemberHeaderHandling:"FirstMember"},Name:"FIN",Text:"S4-Fin Style"};function l(l){this.memberMapping=l;this.ACTUAL="Actual";this.BUDGET="Budget";this.VARIANCE="Variance";this.getStyleForDataProvider=function(l){var i=JSON.parse(JSON.stringify(a));if(!this.memberMapping){return i}var n=function(a){if(this.memberMapping[a]){var n=Object.keys(this.memberMapping[a]);for(var r=0;r<n.length;r++){var o=n[r];var c=l.Dimensions[a].Members.find(function(e){return e.Name===o});if(c){var s=this.memberMapping[a][o];for(var d=0;d<s.length;d++){var h=i.TableDefinition.ScopedStyle.find(function(e){return e.Name===s[d]});if(h){var u=a===e.MeasureStructure?t.DimensionType.MEASURE_STRUCTURE.getName():t.DimensionType.SECONDARY_STRUCTURE.getName();var m;if(h.ColumnsScope.ReferencePaths.length===1&&h.ColumnsScope.ReferencePaths[0].DimensionType===u){m=h.ColumnsScope.ReferencePaths[0]}else if(h.ColumnsScope.ReferencePaths.length===2&&h.ColumnsScope.ReferencePaths[0].DimensionType===u){m=h.ColumnsScope.ReferencePaths[1]}else{m={ReferencePathElements:[{DimensionType:u,MemberNames:[]}]};h.ColumnsScope.ReferencePaths.push(m)}m.ReferencePathElements[0].MemberNames.push(c.Key)}}}}}}.bind(this);n(e.MeasureStructure);n(e.StructureDimension);return i}}l.prototype.setSemanticStylingMapping=function(e){this.memberMapping=e};return l});
/*
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/model/extensions/styling/GridStylingTemplateRegistry",["sap/ui/base/Object","sap/sac/df/model/extensions/styling/FinStyle","sap/sac/df/firefly/library"],function(e,t,a){"use strict";var i={TableDefinition:{CType:"VisualizationTableDefinition",ScopedStyle:[],ShowFormulas:false,ShowFreezeLines:true,ShowGrid:false,ShowReferences:false,ShowSubtitle:false,ShowTableDetails:false,ShowTableTitle:false,StripeDataColumns:false,StripeDataRows:false,Styles:[],TableHeaderCompactionType:"PreferablyColumn",TableMarkup:[]}};var l=e.extend("sap.sac.df.model.extensions.styling.GridStylingTemplateRegistry",{constructor:function(e){this._Model=e;this._StylingTemplateRegistry={};this._getVisualizationTemplateManager=function(){return this._Model.kernelProgram.getApplication().getOlapEnvironment().getVisualizationTemplateManager()};this._getTableTemplateList=function(){return this._getVisualizationTemplateManager().getOrCreateTableTemplateList(a.OlapVisualizationConstants.TABLE_TEMPLATE_LINK)}}});l.prototype.addTemplate=function(e,t){if(!this.getTemplate(e)){this._StylingTemplateRegistry[e]=t}const i=this._getVisualizationTemplateManager().getOrCreateTableTemplateList(a.OlapVisualizationConstants.TABLE_TEMPLATE_LINK);i.addNewTemplate(e,e);return t};l.prototype.activateTemplate=function(e){const t=this.getTemplate(e);if(t){return this._Model.fireStylingTemplateActivated({stylingTemplateName:e})}return false};l.prototype.getTemplate=function(e){if(e==="fin"&&!this._StylingTemplateRegistry[e]){this._StylingTemplateRegistry[e]=new t;this._getTableTemplateList().addNewTemplate(e,e)}return this._StylingTemplateRegistry[e]};l.prototype.setSemanticStyles=function(e){return this.getTemplate("fin").setSemanticStylingMapping(e)};return l});
/*!
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/model/internal/Capability",["sap/sac/df/firefly/library"],function(i){"use strict";return{SupportsDocuments:i.InACapabilities.V274_CELL_DOCUMENT_ID}});
/*!
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/model/internal/ConfigurationMapping",["sap/sac/df/firefly/library"],function(e){var a={GroupDimensions:{Name:"GroupDimensions",FFName:e.CoGlobalConfigurationUtils.GROUP_DIMENSIONS,Type:e.PrElementType.BOOLEAN,FFDefaultValue:false,Program:e.CoGlobalConfigurationUtils.CONFIGURATION_NAME},Calculations:{Name:"Calculations",FFName:e.CoGlobalConfigurationUtils.CALCULATIONS,Type:e.PrElementType.BOOLEAN,FFDefaultValue:false,Program:e.CoGlobalConfigurationUtils.CONFIGURATION_NAME},Commenting:{Name:"Commenting",FFName:e.AuAnalyticalTableViewPlugin.CONFIG_TABLE_RENDER_SHOW_COMMENT_ICONS,Type:e.PrElementType.BOOLEAN,FFDefaultValue:false,Program:e.AuAnalyticalTableViewPlugin.PLUGIN_NAME},StylingPanelItems:{Name:"StylingPanelItems",FFName:e.AuStylingPanelDocumentPlugin.CONFIG_STYLING_ITEMS,Type:e.PrElementType.LIST,FFDefaultValue:["TablePropertiesViewPlugin","NumberFormattingViewPlugin"],Program:e.AuStylingPanelDocumentPlugin.PLUGIN_NAME}};return a});
/*
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/model/internal/SystemLandscape",[],function(){return{Systems:[{systemName:"localBW",systemType:"BW",protocol:window.location.protocol==="http:"?"HTTP":"HTTPS",port:window.location.port,host:window.location.hostname,authentication:"NONE"},{systemName:"localHANA",systemType:"HANA",protocol:window.location.protocol==="http:"?"HTTP":"HTTPS",host:window.location.hostname,port:window.location.port,authentication:"NONE"},{systemName:"localDWC",systemType:"DWC",protocol:window.location.protocol==="http:"?"HTTP":"HTTPS",host:window.location.hostname,port:window.location.port,path:"lcs/dwc",authentication:"NONE"}]}});
/*
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/model/internal/_DFKernel",["sap/ui/base/Object","sap/base/Log","sap/sac/df/firefly/library"],function(e,t,s){"use strict";s.XLocalStorage.setInstance(null);const a=e.extend("sap.sac.df.model._DFKernel",{});a._enableToggles=function(e){const t=e.getKernelProcess().getSession();t.deactivateFeatureToggle(s.FeatureToggleOlap.FUSION_SERVICE);s.XStream.of(s.FeatureToggle.getAllFeatureToggles()).forEach(function(e){const a=e.getXVersion();if(a>s.FeatureToggleOlap.FUSION_SERVICE.getXVersion()&&a<=s.XVersion.MAX){t.activateFeatureToggle(e)}});t.activateFeatureToggle(s.FeatureToggleOlap.METADATA_CACHING);t.deactivateFeatureToggle(s.FeatureToggleOlap.MEMBER_VALUE_EXCEPTIONS);s.FeFeatureToggle.enable(s.FeFeatureToggle.SIMPLIFY);s.FeFeatureToggle.enable(s.FeFeatureToggle.SYNTAX_HIGHLIGHTING);s.FeFeatureToggle.enable(s.FeFeatureToggle.NEW_FUNCTIONS_PHASE1);s.FeFeatureToggle.enable(s.FeFeatureToggle.NEW_FUNCTIONS_PHASE2);s.FeFeatureToggle.enable(s.FeFeatureToggle.LIST_ITEMS_SEARCH);s.FeFeatureToggle.enable(s.FeFeatureToggle.LIST_FUNCTIONS_BY_CATEGORY);s.FeFeatureToggle.enable(s.FeFeatureToggle.TOKENIZATION);s.FeFeatureToggle.enable(s.FeFeatureToggle.HIERARCHICAL_OBJECTS);s.FeFeatureToggle.enable(s.FeFeatureToggle.DIALOG_NEW_LAYOUT);s.FeFeatureToggle.enable(s.FeFeatureToggle.MIN);s.FeFeatureToggle.enable(s.FeFeatureToggle.MAX);s.FeFeatureToggle.enable(s.FeFeatureToggle.DIMENSION_SUPPORT);s.FeFeatureToggle.enable(s.FeFeatureToggle.HIERARCHICAL_DIMENSIONS)};a._setEnvironment=function(e){this.initProgram.setEnvironmentVariable(s.XEnvironmentConstants.FIREFLY_LOG_SEVERITY,"Print");if(e.systemLandscape){if(e.systemLandscape.URI){let t=e.systemLandscape.URI;if(!t.startsWith("http")){t=window.location.protocol+"//";t+=window.location.hostname;t+=window.location.port?":"+window.location.port:"";t+=e.systemLandscape.URI}this.initProgram.setEnvironmentVariable("ff_system_landscape_uri",t)}else if(e.systemLandscape.Systems){this.aSystemLandscapes=[];const t=Object.keys(e.systemLandscape.Systems);t.forEach(function(t){const s=e.systemLandscape.Systems[t];this.aSystemLandscapes.push(s)}.bind(this))}}else if(e.systemType){this.masterSystemName=e.masterSystem||"local"+e.systemType;const t={systemName:this.masterSystemName,systemType:e.systemType,protocol:window.location.protocol==="http:"?"HTTP":"HTTPS",host:window.location.hostname,port:window.location.port,authentication:"NONE"};if(t.systemType=="DWC"){t.path="/lcs/dwc"}this.aSystemLandscapes=[t]}else{throw new Error("System Configuration is invalid")}this.masterSystemName=this.masterSystemName||e.masterSystem;if(!this.masterSystemName){throw new Error("System Configuration is invalid")}};a.init=function(e){const t=this;if(!t.initPromise){t.initPromise=s.ui.FFUi5Preloader.load().then(()=>new Promise(a=>{if(!t.kernelProgram){s.XLogger.getInstance().setLogFilterLevel(s.Severity.PRINT);t.initProgram=s.KernelBoot.createByName("DragonflyAppProgram");if(!s.XVersion.V186_DISP_HIERARCHY_FIX_IN_FILTER){throw new Error("XVersion V186_DISP_HIERARCHY_FIX_IN_FILTER is undefined.")}t.initProgram.setXVersion(s.XVersion.V186_DISP_HIERARCHY_FIX_IN_FILTER);t.initProgram.addProgramStartedListener(function(n,r){if(!t.kernelProgram){t.kernelProgram=r;if(t.aSystemLandscapes){t.addSystemLandscapes(e.systemSettings.keepAliveInterval)}t.kernelProgram.getProcess().getApplication().setClientInfo(null,e.systemSettings.clientIdentifier,null);t.kernelProgram.getSession().deactivateFeatureToggle(s.FeatureToggleOlap.FUSION_SERVICE);a(t.kernelProgram)}});t.initProgram.setEnvironmentVariable(s.XEnvironmentConstants.FIREFLY_USER_PROFILE_SERIALIZED,e.userProfile);t.initProgram.setEnvironmentVariable("ff_mount_30","/analyticalwidgets:${ff_network_root_dir}"+e.systemSettings.widgetCatalogPath);t._setEnvironment(e.systemSettings);t.initProgram.setKernelReadyConsumer(t._enableToggles);t.initProgram.runFull()}else{a(t.kernelProgram)}}))}return t.initPromise};a.getSession=function(){if(!this.kernelProgram){t.error("Kernel not initialized");return null}return this.kernelProgram.getSession()},a.getApplication=function(){if(!this.kernelProgram){t.error("Kernel not initialized");return null}return this.kernelProgram.getApplication()},a.addSystemLandscapes=function(e){const t=this.kernelProgram.getProcess().getKernel().getSubSystemContainer(s.SubSystemType.SYSTEM_LANDSCAPE);const a=t.getMainApi();const n=this.kernelProgram.getApplication();n.setSystemLandscape(a);this.aSystemLandscapes.forEach(function(t){const r=a.createSystem();r.setName(t.systemName);r.setTimeout(1e4);r.setAuthenticationType(s.AuthenticationType[t.authentication||"NONE"]);const o=s.SystemType[t.systemType];r.setSystemType(o);r.setProtocolType(s.ProtocolType[t.protocol]);r.setHost(t.host);r.setPort(t.port);r.setPath(t.path);if(t.language){r.setLanguage(t.language)}a.setSystemByDescription(r);if(o.isTypeOf(s.SystemType.BW)){r.setSessionCarrierType(s.SessionCarrierType.SAP_CONTEXT_ID_HEADER);n.getConnectionPool().setMaximumSharedConnections(t.systemName,10)}const i=t.keepAliveIntervalSec|e|0;r.setKeepAliveDelayMs(i*1e3);r.setKeepAliveIntervalMs(i*1e3)});a.setMasterSystemName(this.masterSystemName)};return a});
/*!
* SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
*/
sap.ui.predefine("sap/sac/df/model/visualization/Documents",["sap/ui/base/Object","sap/sac/df/firefly/library","sap/sac/df/utils/ResourceBundle","sap/sac/df/utils/ListHelper","sap/sac/df/utils/SyncActionHelper","sap/sac/df/types/DocumentsSupportType"],function(e,t,r,o,n,s){"use strict";var i=e.extend("sap.sac.df.model.visualization.Documents",{constructor:function(e){Object.assign(this,Object.getPrototypeOf(this));this._DataProvider=e;this.ActiveDocumentsDirectory=this._getDocumentsInfo().getActiveDocumentsDirectory();this.DocumentsSupportType=this.getDocumentsSupportType();this.IsBasedOnCDSView=this._getDocumentsInfo().isBasedOnCDSView();this._extractProperties=e=>{if(e){var t=e.getContent();let o=e.getProperties();var r=e.getTimeStamp();return{version:e.getVersion(),owner:e.getOwner(),timestamp:r?r.toString():null,content:t?t.getStringContentExt():null,properties:o&&o.convertToNative()}}return null};this._updateDocument=(e,r,o)=>{if(!e){throw new Error("Cannot update document without document ID")}var s=this._getDocumentsInfo();if(s&&this.supportsWrite()){var i=s.getOrCreateDocumentsStoreService(false);if(o){i.addToPutListWithProperties(e,t.XContent.createStringContent(t.ContentType.TEXT_PLAIN,r),t.PrUtils.deserialize(JSON.stringify(o)))}else{i.addToPutList(e,t.XContent.createStringContent(t.ContentType.TEXT_PLAIN,r))}return n.syncActionToPromise(i.performRequests,i,[null,null]).then(()=>{var t=i.getContentForFile(e);return Promise.resolve(t?t.getStringContentExt()===r:t===r)}).catch(e=>{this._DataProvider._Model._addMessages(e.getMessages?e.getMessages():[]);return Promise.reject(e)})}else{throw new Error("No 'ReadWrite' document support. Unable to update document.")}};this._retrieveDocuments=(e,t)=>{if(!e||e.length===0){throw new Error("Cannot retrieve document without document ID")}var r=this._getDocumentsInfo();if(r){var o=r.getSupportsDocuments();if(o&&o.getName()!=="None"){var s=r.getOrCreateDocumentsStoreService(!t);e.forEach(e=>{s.addToFetchList(e)});return n.syncActionToPromise(s.performRequests,s,[null,null]).then(()=>{var r=[];e.forEach(e=>{var o=[];var n=!t?s.getDocumentVersionsForFile(e):s.getDocumentVersionForFileAndVersion(e,t);if(n){n.forEach(e=>{var t=this._extractProperties(e);if(t){o.push(t)}})}r.push({documentId:e,versions:o})});return Promise.resolve(e.length===1?r[0]:r)}).catch(e=>{this._DataProvider._Model._addMessages(e.getMessages?e.getMessages():[]);return Promise.reject(e)})}else{throw new Error("No document support. Unable to retrieve document.")}}}}});i.prototype._executeDocumentIDAction=function(e,r,o){const s=this._DataProvider;var i=s._getQueryManager().getResultsetContainer().getDocumentIdManager();var u=t.RsCellIndexInfo.create();u.initialize(e,r);return n.syncActionToPromise(i[o],i,u).then(e=>{s._FFDataProvider.getEventing().notifyExternalVisualizationChange(null);s._addMessagesToModel(e);return e}).catch(e=>{s._Model._addMessages(e.getMessages?e.getMessages():[]);return Promise.reject(e)})};i.prototype.createDocumentId=function(e,t){return this._executeDocumentIDAction(e,t,"createCellDocumentId").then(e=>e.getData().getCellDocumentId())};i.prototype._getDocumentsInfo=function(){return this._DataProvider._getQueryManager().getQueryModel().getDocumentsInfo()};i.prototype.getDocumentId=function(e,t){return this._executeDocumentIDAction(e,t,"getCellDocumentId").then(e=>e.getData().getCellDocumentId())};i.prototype.deleteDocumentId=function(e,t){return this._executeDocumentIDAction(e,t,"deleteCellDocumentId").then(e=>e.getData().isCellDocumentIdDeleted())};i.prototype.createDocument=function(e,t,r){if(!e){throw new Error("Cannot create document without document ID")}try{return this._updateDocument(e,t,r)}catch(e){return Promise.reject(e)}};i.prototype.createAndRetrieveDocument=function(e,r,o){return new Promise((s,i)=>{if(!e){i("Cannot create document without document ID");return}try{const u=this._getDocumentsInfo();if(u&&this.supportsWrite()){const c=u.getOrCreateDocumentsStoreService(true);if(o){c.addToPutListWithProperties(e,t.XContent.createStringContent(t.ContentType.TEXT_PLAIN,r),t.PrUtils.deserialize(JSON.stringify(o)))}else{c.addToPutList(e,t.XContent.createStringContent(t.ContentType.TEXT_PLAIN,r))}c.addToFetchList(e);n.syncActionToPromise(c.performRequests,c,[null,null]).then(()=>{const t=c.getContentForFile(e);if(t?t.getStringContentExt()===r:t===r){const t=[];const r=c.getDocumentVersionsForFile(e);if(r){r.forEach(e=>{const r=this._extractProperties(e);if(r){t.push(r)}})}s({documentId:e,versions:t})}else{i("Failed to create document with specified content.")}}).catch(e=>{this._DataProvider._Model._addMessages(e.getMessages?e.getMessages():[]);i(e)})}else{i("No 'ReadWrite' document support. Unable to create document.")}}catch(e){i(e)}})};i.prototype.retrieveDocument=function(e,t){return this._retrieveDocuments([e],t)};i.prototype.retrieveMultipleDocuments=function(e){return this._retrieveDocuments(e)};i.prototype.deleteDocument=function(e){if(!e){throw new Error("Cannot delete document without document ID")}var t=this._getDocumentsInfo();if(t&&this.supportsDelete()){var r=t.getOrCreateDocumentsStoreService(false);r.addToDeleteList(e);return n.syncActionToPromise(r.performRequests,r,[null,null]).then(()=>{r.evictAllDocuments();return Promise.resolve(true)}).catch(e=>{this._DataProvider._Model._addMessages(e.getMessages?e.getMessages():[]);return Promise.reject(e)})}else{throw new Error("No 'ReadWrite' document support. Unable to delete document.")}};i.prototype.getDocumentsSupportType=function(){var e=this._DataProvider._getQueryModel().getModelCapabilities().supportsCellDocumentId();if(e){var r=this._getDocumentsInfo().getSupportsDocuments();if(r){switch(r){case t.DocumentsSupportType.READ_WRITE:return s.ReadWrite;case t.DocumentsSupportType.READ_CREATE_CHANGE:return s.ReadCreateChange;case t.DocumentsSupportType.READ:return s.Read;case t.DocumentsSupportType.NONE:return s.None}}}return s.None};i.prototype.supportsRead=function(){return this.getDocumentsSupportType()===s.ReadWrite||this.getDocumentsSupportType()===s.ReadCreateChange||this.getDocumentsSupportType()===s.Read};i.prototype.supportsWrite=function(){return this.getDocumentsSupportType()===s.ReadWrite||this.getDocumentsSupportType()===s.ReadCreateChange};i.prototype.supportsDelete=function(){return this.getDocumentsSupportType()===s.ReadWrite};return i});
/*! SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
   */
sap.ui.predefine("sap/sac/df/model/visualization/Grid",["sap/ui/base/Object","sap/sac/df/thirdparty/lodash","sap/sac/df/firefly/library","sap/sac/df/utils/SyncActionHelper","sap/sac/df/model/MemberFilter","sap/sac/df/types/Axis","sap/sac/df/model/visualization/Documents"],function(e,t,i,a,r,o,s){"use strict";var n=e.extend("sap.sac.df.model.visualization.Grid",{constructor:function(e){Object.assign(this,Object.getPrototypeOf(this));this._Visualization=e;this._DataProvider=e._DataProvider;this.Documents=new s(this._DataProvider);Object.assign(this);this._onVisualizationFilled=function(){return Promise.resolve(this._Visualization._getFFVisualization()).then(e=>{let t=e.getActiveTableContainer();if(i.notNull(t)){if(t.getData()&&t.getData().isValid()){let e=t.getVisualizationData();if(e){try{this.Cells=i.PivotTableExport.create(e,t)._export().convertToNative();this._DataProvider._Model.checkUpdate();this._DataProvider.fireDataUpdated()}catch(e){}}}else{this._DataProvider._addMessagesToModel(t.getData());this._DataProvider._Model.checkUpdate();this._DataProvider._Model.fireRequestFailed({infoObject:this._DataProvider.Name})}}})}}});n.prototype.getVisualizationData=function(){let e=this._Visualization._getFFVisualization().getActiveTableContainer();if(i.notNull(e)){if(e.getData()&&e.getData().isValid()){let t=e.getVisualizationData();if(t){try{return i.PivotTableExport.create(t,e)._export().convertToNative()}catch(e){}}}else{return e.getData()}}};n.prototype.getCellContext=function(e,o){var s=this;var n=i.PivotTableCellContextProvider.create(s._DataProvider._getQueryManager());var l=i.RsCellIndexInfo.create();l.initialize(e,o);return a.syncActionToPromise(n.getCellContext,n,l).then(function(e){var i=e?e.convertToNative():null;t.forEach(i,function(e){e.Filter=r.createFromFFMemberFilter(e.Filter)});return Promise.resolve(i)}).catch(function(e){s._DataProvider._addMessagesToModel(e.getMessages?e:[]);return Promise.reject(e)})};n.prototype.getRRITargets=function(e,a){var r=this._DataProvider._getQueryManager().getRriTargetManager();if(!r){return Promise.resolve([])}r.setResultSetContext(e,a);var o,s;function n(e,t){o=e;s=t}r.processRriTargetResolution(i.SyncType.NON_BLOCKING,{onRriTargetResolution:function(e){if(e.hasErrors()){s(e.getMessages())}else{let i;const a=sap.ui.require("sap/ushell/Container");if(a&&a.getServiceAsync){i=a.getServiceAsync("URLParsing").then(e=>e.isIntentUrl)}else{i=Promise.resolve(t.constant(false))}i.then(i=>{o(t.filter(e.getData().getListFromImplementation().map(function(e){return e.getParameters().getMapFromImplementation()}),function(e){return i(e.URL)||!!e.URL.match(/#/)}).map(function(e){e.URL=e.URL.split("#")[1];return e}))}).catch(s)}}});return new Promise(n)};n.prototype.activateStylingTemplate=function(e){return Promise.resolve(this._Visualization._getFFVisualization()).then(t=>{if(e){var a=this._DataProvider._Model.getGridStylingTemplateRegistry().getTemplate(e);if(a.getStyleForDataProvider&&this._DataProvider){a=a.getStyleForDataProvider(this._DataProvider)}const o=t.getQueryManager().getOlapEnv().getVisualizationTemplateManager();const s=o.getOrCreateTableTemplateList(i.OlapVisualizationConstants.TABLE_TEMPLATE_LINK);var r=s.getByKey(e);r.deserializeFromElementExt(i.QModelFormat.INA_REPOSITORY,new i.NativeJsonProxyElement(a));s.setActiveTemplate(r);t.getTemplateLinker().putLinkedDefinition(i.OlapVisualizationConstants.TABLE_TEMPLATE_LINK,r)}})};n.prototype.setAxesLayout=function(e){this._DataProvider._getQueryManager().stopEventing();t.forEach(t.map(this._DataProvider.Dimensions,"Name"),e=>{this._DataProvider._getQueryModel().getAxis(i.AxisType.FREE).add(this._DataProvider._getQueryModel().getDimensionByName(this._DataProvider.getDimension(e).TechName))});t.forEach(e[o.Rows],e=>{this._DataProvider.getDimension(e).toRows()});t.forEach(e[o.Columns],e=>{this._DataProvider.getDimension(e).toColumns()});this._DataProvider._getQueryManager().resumeEventing();this._DataProvider._executeModelOperation();return this};n.prototype.getAxesLayout=function(){return{Columns:t.map(t.sortBy(t.filter(this._DataProvider.Dimensions,{Axis:i.AxisType.COLUMNS.getName()}),"Position"),e=>e.Name),Rows:t.map(t.sortBy(t.filter(this._DataProvider.Dimensions,{Axis:i.AxisType.ROWS.getName()}),"Position"),e=>e.Name)}};n.M_PROPERTIES={Documents:"Documents"};return n});
/*!
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/types/Axis",[],function(){var s={Rows:"Rows",Columns:"Columns",Free:"Free"};return s});
/*!
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/types/CellValueType",[],function(){"use strict";var e={Data:"Data",Key:"MemberKey",Text:"MemberText"};return e});
/*!
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/types/ComparisonOperator",[],function(){var E={AGGREGATED:"AGGREGATED",ALL:"ALL",BETWEEN:"BETWEEN",BETWEEN_EXCLUDING:"BETWEEN_EXCLUDING",EQUAL:"EQUAL",FUZZY:"FUZZY",GREATER_EQUAL:"GREATER_EQUAL",GREATER_THAN:"GREATER_THAN",IN:"IN",IS_NULL:"IS_NULL",LESS_EQUAL:"LESS_EQUAL",LESS_THAN:"LESS_THAN",LIKE:"LIKE",MATCH:"MATCH","NON-AGGREGATED":"NON-AGGREGATED",NOT_BETWEEN:"NOT_BETWEEN",NOT_BETWEEN_EXCLUDING:"NOT_BETWEEN_EXCLUDING",NOT_EQUAL:"NOT_EQUAL",NOT_MATCH:"NOT_MATCH",SEARCH:"SEARCH",undefined:"UNDEFINED"};return E});
/*!
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/types/DataAnalyzerPanelName",[],function(){var e={Designer:"OlapDesignerDocument",Styling:"StylingPanelDocument"};return e},true);
/*!
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/types/DataSourceType",[],function(){var e={Query:"Query",View:"View",InAModel:"InAModel",Cube:"Cube",CDSProjectionView:"CDSProjectionView"};return e});
/*!
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/types/DimensionType",[],function(){var e={AbstractStructure:"AbstractStructure",AccountDimension:"AccountDimension",AttributeDimension:"AttributeDimension",CalculatedDimension:"CalculatedDimension",ContainerDimension:"ContainerDimension",CurrencyDimension:"CurrencyDimension",DateDimension:"DateDimension",Dimension:"Dimension",DimensionIncomplete:"DimensionIncomplete",FamCalculatedDimension:"FamCalculatedDimension",FormulaCalculatedDimension:"FormulaCalculatedDimension",GisDimension:"GisDimension",HierarchyNameDimension:"HierarchyNameDimension",HierarchyVersionDimension:"HierarchyVersionDimension",MbfCalculatedDimension:"MbfCalculatedDimension",MeasureStructure:"MeasureStructure",StructureDimension:"NonMeasureStructure",PresentationDimension:"PresentationDimension",SearchDimension:"SearchDimension",SearchResultDimension:"SearchResultDimension",SecondaryStructure:"SecondaryStructure",SuggestAttributeDimension:"SuggestAttributeDimension",SuggestScopeDimension:"SuggestScopeDimension",SuggestTermDimension:"SuggestTermDimension",TimeDimension:"TimeDimension",UnitDimension:"UnitDimension",VersionDimension:"VersionDimension"};return e});
/*!
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/types/DisplayType",[],function(){var e={Key:"Key",Text:"Text",KeyText:"KeyText",TextKey:"TextKey",None:"None"};return e});
/*!
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/types/DocumentsSupportType",[],function(){var e={None:"NONE",Read:"READ",ReadWrite:"READ_WRITE",ReadCreateChange:"READ_CREATE_CHANGE"};return e});
/*!
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/types/MemberFilterOperator",["sap/sac/df/types/ComparisonOperator"],function(r){"use strict";var E={EQ:[{Operator:r.EQUAL,Sign:"INCLUDING"},{Operator:r.NOT_EQUAL,Sign:"EXCLUDING"}],NE:[{Operator:r.NOT_EQUAL,Sign:"INCLUDING"},{Operator:r.EQUAL,Sign:"EXCLUDING"}],LT:[{Operator:r.LESS_THAN,Sign:"INCLUDING"},{Operator:r.GREATER_THAN,Sign:"EXCLUDING"}],LE:[{Operator:r.LESS_EQUAL,Sign:"INCLUDING"},{Operator:r.GREATER_EQUAL,Sign:"EXCLUDING"}],GT:[{Operator:r.GREATER_THAN,Sign:"INCLUDING"},{Operator:r.LESS_THAN,Sign:"EXCLUDING"}],GE:[{Operator:r.GREATER_EQUAL,Sign:"INCLUDING"},{Operator:r.LESS_EQUAL,Sign:"EXCLUDING"}],BT:[{Operator:r.BETWEEN,Sign:"INCLUDING"},{Operator:r.NOT_BETWEEN,Sign:"EXCLUDING"}],NB:[{Operator:r.NOT_BETWEEN,Sign:"INCLUDING"},{Operator:r.BETWEEN,Sign:"EXCLUDING"}],Contains:[{Operator:r.LIKE,Sign:"INCLUDING"}],NotContains:[{Operator:r.LIKE,Sign:"EXCLUDING"}],StartsWith:[{Operator:r.LIKE,Sign:"INCLUDING"}],NotStartsWith:[{Operator:r.LIKE,Sign:"EXCLUDING"}],EndsWith:[{Operator:r.LIKE,Sign:"INCLUDING"}],NotEndsWith:[{Operator:r.LIKE,Sign:"EXCLUDING"}]};return E});
/*!
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/types/MemberType",[],function(){var e={AbstractMember:"AbstractMember",BasicMeasure:"BasicMeasure",ConditionOthersResult:"ConditionOthersResult",ConditionResult:"ConditionResult",CurrencyMeasure:"CurrencyMeasure",DrillPathElement:"DrillPathElement",ExceptionAggregation:"ExceptionAggregation",FieldValue:"FieldValue",FormulaMember:"FormulaMember",HierarchyNode:"HierarchyNode",LiteralMember:"LiteralMember",Measure:"Measure",Member:"Member",MembersExit:"MembersExit",RestrictedMeasure:"RestrictedMeasure",ResultMember:"ResultMember",SelectValue:"SelectValue",ServerBasedFormula:"ServerBasedFormula",SingleMemberExit:"SingleMemberExit",TupleElement:"TupleElement",TupleElementAsMember:"TupleElementAsMember",TupleElementAsNode:"TupleElementAsNode",ValueHelpElement:"ValueHelpElement",ValueHelpLeaf:"ValueHelpLeaf",ValueHelpNode:"ValueHelpNode",ValueHelpRootNode:"ValueHelpRootNode",ValueHelpSplitterNode:"ValueHelpSplitterNode",ValueHelpWindowSplitterNode:"ValueHelpWindowSplitterNode",Variance:"Variance"};return e});
/*!
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/types/ProtocolType",[],function(){var T={HTTP:"HTTP",HTTPS:"HTTPS",WASABI:"WASABI"};return T});
/*!
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/types/SemanticRole",[],function(){var e={Actual:"Actual",Previous:"Previous",Budget:"Budget",Forecast:"Forecast"};return e});
/*!
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/types/SortDirection",[],function(){var n={Ascending:"ASCENDING",Descending:"DESCENDING",None:"NONE"};return n});
/*!
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/types/SortType",[],function(){var e={Filter:"FILTER",MemberKey:"MEMBER_KEY",MemberText:"MEMBER_TEXT",unset:"unset"};return e});
/*!
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/types/SystemType",[],function(){var A={BW:"BW",ABAP_MDS:"ABAP_MDS",DWC:"DWC",HANA:"HANA"};return A});
/*!
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/types/ValueType",[],function(){var e={Amount:"Amount",Array:"Array",Boolean:"Boolean",ByteArray:"ByteArray",CalendarDate:"CalendarDate",CalendarDay:"CalendarDay",Char:"Char",Cuky:"Cuky",CurrentMember:"CurrentMember",Date:"Date",DateTime:"DateTime",DecimalFloat:"DecimalFloat",DimensionMember:"DimensionMember",Double:"Double",EnumConstant:"EnumConstant",Integer:"Integer",KeyValue:"KeyValue",Language:"Language",LineString:"LineString",List:"List",Long:"Long",LowerCaseString:"LowerCaseString",MultiLineString:"MultiLineString",MultiPoint:"MultiPoint",MultiPolygon:"MultiPolygon",Number:"Number",Numc:"Numc",Object:"Object",OptionList:"OptionList",OptionValue:"OptionValue",Percent:"Percent",Point:"Point",Polygon:"Polygon",Price:"Price",Properties:"Properties",Quantity:"Quantity",String:"String",Structure:"Structure",StructureList:"StructureList",Time:"Time",TimeSpan:"TimeSpan",UiColor:"UiColor",UiConstant:"UiConstant",UiControl:"UiControl",UiPosition:"UiPosition",UiSize:"UiSize",UiUnitValue:"UiUnitValue",Unit:"Unit",Unsupported:"Unsupported",UpperCaseString:"UpperCaseString",Uri:"Uri",Variable:"Variable"};return e});
/*!
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/types/VisualizationType",["sap/sac/df/firefly/library"],function(i){"use strict";var a={Grid:{Name:"Grid",VisualizationType:i.VisualizationType.GRID,ProtocolBindingType:i.ProtocolBindingType.SAC_TABLE_GRID,ChartType:i.ChartType.GRID},Bar:{Name:"Bar",VisualizationType:i.VisualizationType.CHART,ProtocolBindingType:i.ProtocolBindingType.VIZ_FRAME_PROTOCOL,ChartType:i.ChartType.BAR},HighChartBar:{Name:"HighChartBar",VisualizationType:i.VisualizationType.CHART,ProtocolBindingType:i.ProtocolBindingType.HIGH_CHART_PROTOCOL,ChartType:i.ChartType.BAR},HighChartLine:{Name:"HighChartLine",VisualizationType:i.VisualizationType.CHART,ProtocolBindingType:i.ProtocolBindingType.HIGH_CHART_PROTOCOL,ChartType:i.ChartType.LINE},HighChartColumn:{Name:"HighChartColumn",VisualizationType:i.VisualizationType.CHART,ProtocolBindingType:i.ProtocolBindingType.HIGH_CHART_PROTOCOL,ChartType:i.ChartType.COLUMN}};return a});
/*!
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/types/configuration/ContextMenuVariant",[],function(){var e={sapui5:"sap-ui5",mda:"mda",reviewbooklet:"reviewbooklet"};return e});
/*!
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/types/configuration/DimensionGrouping",[],function(){var a={Flat:"flat",Collapsed:"allCollapsed",Expanded:"allCollapsed"};return a});
/*!
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/types/configuration/StylingPanelItem",[],function(){var t={TableProperties:"TableProperties",NumberFormatting:"NumberFormatting",ConditionalFormatting:"ConditionalFormatting"};return t});
/*
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/types/export/CSVConfig",["sap/ui/base/ManagedObject","sap/sac/df/firefly/library"],function(e,t){"use strict";return e.extend("sap.sac.df.types.export.CSVConfig",{metadata:{properties:{delimiter:{type:"string",defaultValue:","}}},getFireflyConfig:function(e){var r=t.CsvConfig.createDefault(t.PrFactory.createStructure(),e);r.setDelimiter(this.getDelimiter());return r}})});
/*
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/types/export/DataExportConfig",["sap/ui/base/ManagedObject","sap/sac/df/firefly/library","sap/sac/df/types/export/OverwriteTexts","sap/sac/df/types/export/XLSConfig","sap/sac/df/types/export/CSVConfig","sap/sac/df/types/export/PDFConfig"],function(e,t,i,s,a,r){"use strict";return e.extend("sap.sac.df.types.export.DataExportConfig",{metadata:{properties:{type:{type:"string",defaultValue:"XLSX"},fileName:{type:"string",defaultValue:"Untitled"},expandHierarchy:{type:"boolean",defaultValue:false},enablePdfAppendix:{type:"boolean",defaultValue:false},displayDialog:{type:"boolean",defaultValue:false},overwriteTexts:{type:"object",defaultValue:{}},XLS:{type:"sap.sac.df.types.export.XLSConfig"},CSV:{type:"sap.sac.df.types.export.CSVConfig"},PDF:{type:"sap.sac.df.types.export.PDFConfig"}}},init:function(){this.setXLS(new s);this.setCSV(new a);this.setPDF(new r);this.setOverwriteTexts(i.getDefault())},putOverwriteText:function(e,t){this.getOverwriteTexts().put(e,t)},addOverwriteTextsToQm:function(e){var t=this.getOverwriteTexts().getKeysAsIterator();while(t.hasNext()){var i=t.next();if(!e.getOverwriteTexts().containsKey(i)){e.putOverwriteText(i,this.getOverwriteTexts().getByKey(i))}}},getFireflyConfig:function(){var e=null;var i=this.getType();if(i===t.BaseExportConfig.XLSX_EXPORT){e=this.getXLS().getFireflyConfig(this.getFileName())}else if(i===t.BaseExportConfig.CSV_EXPORT){e=this.getCSV().getFireflyConfig(this.getFileName())}else if(i===t.BaseExportConfig.PDF_EXPORT){e=this.getPDF().getFireflyConfig(this.getFileName())}if(e){e.setExpandHierarchy(this.getExpandHierarchy());e.setEnablePdfAppendix(this.getEnablePdfAppendix())}return e}})});
/*!
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/types/export/OverwriteTexts",["sap/sac/df/firefly/library","sap/sac/df/utils/ResourceBundle"],function(E,_){"use strict";var O={MEASURE_DIMENSION:E.OlapUiCommonI18n.COMMON_MEASURES,STRUCTURE_DIMENSION:E.OlapUiCommonI18n.COMMON_STRUCTURE,EXCEPTION_ERROR:E.AuGdsQueryBuilderI18n.VALUE_EXCEPTION_ERROR,EXCEPTION_NO_VALUE:E.AuGdsQueryBuilderI18n.VALUE_EXCEPTION_NO_VALUE,EXCEPTION_NULL:E.AuGdsQueryBuilderI18n.VALUE_EXCEPTION_NULL,EXCEPTION_OTHER:E.AuGdsQueryBuilderI18n.VALUE_EXCEPTION_OTHER,EXCEPTION_UNDEFINED:E.AuGdsQueryBuilderI18n.VALUE_EXCEPTION_UNDEFINED,SCALE_LONG_BILLION:E.OuNumberFormattingI18n.STYLE_SCALE_LONG_BILLION,SCALE_LONG_MILLION:E.OuNumberFormattingI18n.STYLE_SCALE_LONG_MILLION,SCALE_LONG_THOUSAND:E.OuNumberFormattingI18n.STYLE_SCALE_LONG_THOUSAND,SCALE_SHORT_BILLION:E.OuNumberFormattingI18n.STYLE_SCALE_SHORT_BILLION,SCALE_SHORT_MILLION:E.OuNumberFormattingI18n.STYLE_SCALE_SHORT_MILLION,SCALE_SHORT_THOUSAND:E.OuNumberFormattingI18n.STYLE_SCALE_SHORT_THOUSAND,TOTAL_INCLUDING_MEMBER:E.AuGdsQueryBuilderI18n.TOTALS_INCLUDING,TOTAL_MEMBER:E.AuGdsQueryBuilderI18n.TOTALS,TOTAL_REMAINING_MEMBER:E.AuGdsQueryBuilderI18n.TOTALS_REMAINING,OVERWRITE_APPENDIX_CREATED_BY:E.DataExportHelper.OVERWRITE_APPENDIX_CREATED_BY,OVERWRITE_APPENDIX_CREATED_ON_TIMESTAMP:E.DataExportHelper.OVERWRITE_APPENDIX_CREATED_ON_TIMESTAMP,getDefault:function(){var O=E.XHashMapByString.create();var I=Object.keys(this);var N=this;I.forEach(function(E){if(typeof N[E]!=="function"){var I=_.getText(N[E],undefined,true);if(I){O.put(N[E],I)}}});return O}};return O});
/*
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/types/export/PDFConfig",["sap/ui/base/ManagedObject","sap/sac/df/firefly/library"],function(e,t){"use strict";return e.extend("sap.sac.df.types.export.PDFConfig",{metadata:{properties:{pageSize:{type:"string",defaultValue:"a4"},fontSize:{type:"number",defaultValue:6},orientation:{type:"string",defaultValue:"landscape"},builtInFont:{type:"string",defaultValue:"Helvetica"},autoSize:{type:"boolean",defaultValue:true},freezeRows:{type:"number"},numberLocation:{type:"string"},enablePdfAppendix:{type:"boolean",defaultValue:false}}},getFireflyConfig:function(e){var i=t.PdfConfig.createDefault(t.PrFactory.createStructure(),e);i.setPageSize(this.getPageSize());i.setFontSize(this.getFontSize());i.setOrientation(this.getOrientation());i.setBuiltInFont(this.getBuiltInFont());i.setAutoSize(this.getAutoSize());i.setFreezeRows(this.getFreezeRows());i.setNumberLocation(this.getNumberLocation());i.setEnablePdfAppendix(this.getEnablePdfAppendix());return i},PAGE_SIZE_LEGAL:t.PdfConfig.PAGE_SIZE_LEGAL,PAGE_SIZE_LETTER:t.PdfConfig.PAGE_SIZE_LETTER,PAGE_SIZE_A5:t.PdfConfig.PAGE_SIZE_A5,PAGE_SIZE_A4:t.PdfConfig.PAGE_SIZE_A4,PAGE_SIZE_A3:t.PdfConfig.PAGE_SIZE_A3,PAGE_SIZE_A2:t.PdfConfig.PAGE_SIZE_A2,PDF_ORIENT_LANDSCAPE:t.PdfConfig.PDF_ORIENT_LANDSCAPE,PDF_ORIENT_PORTRAIT:t.PdfConfig.PDF_ORIENT_PORTRAIT,PAGE_NUMBER_LOC_FOOTER:t.PdfConfig.PAGE_NUMBER_LOC_FOOTER,PAGE_NUMBER_LOC_HEADER:t.PdfConfig.PAGE_NUMBER_LOC_HEADER,PAGE_NUMBER_LOC_NONE:t.PdfConfig.PAGE_NUMBER_LOC_NONE})});
/*
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/types/export/XLSConfig",["sap/ui/base/ManagedObject","sap/sac/df/firefly/library"],function(e,t){"use strict";return e.extend("sap.sac.df.types.export.XLSConfig",{metadata:{properties:{autoFilterActive:{type:"boolean",defaultValue:true}}},getFireflyConfig:function(e){var a=t.XlsConfig.createDefault(t.PrFactory.createStructure(),e);a.setAutoFilterActive(this.getAutoFilterActive());return a}})});
/*
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/utils/ApplicationHelper",["sap/base/Log","sap/sac/df/thirdparty/lodash","sap/sac/df/firefly/library"],function(e,t,s){"use strict";e.info("ApplicationHelper loaded");function i(){function e(e,t,i,a){var n=e.createSystem();n.setName(a.systemName);n.setTimeout(1e4);n.setAuthenticationType(s.AuthenticationType[a.authentication||"NONE"]);var o=s.SystemType[a.systemType];n.setSystemType(o);n.setProtocolType(s.ProtocolType[a.protocol]);n.setHost(a.host);n.setPort(a.port);if(i>0){n.setKeepAliveIntervalMs(i*1e3);n.setKeepAliveDelayMs(i*2*1e3)}e.setSystemByDescription(n);if(o===s.SystemType.BW){n.setSessionCarrierType(s.SessionCarrierType.SAP_CONTEXT_ID_HEADER);t.getConnectionPool().setMaximumSharedConnections(a.systemName,10)}}this.createApplication=function(i,a,n){var o=new Promise(function(e,t){s.ApplicationFactory.createApplicationForDragonfly(function(s){if(s.hasErrors()){t(s.getErrors())}else{e(s.getData())}})});return o.then(function(o){var r=o.getProcess().getKernel().getSubSystemContainer(s.SubSystemType.SYSTEM_LANDSCAPE);var p=r.getMainApi();o.setSystemLandscape(p);t.forEach(i,e.bind(null,p,o,n));p.setMasterSystemName(a);return o})}}return new i});
/*
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/utils/ConfigLoader",["sap/ui/model/json/JSONModel"],function(e){"use strict";function t(){this.loadConfigFromFile=function(t){return new Promise(n=>{let o=sap.ui.require.toUrl(t);const i=new e(o);i.attachRequestCompleted(e=>{n(e.getSource().getData())})})}}return new t});
/*
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/utils/FpaIcons",["sap/ui/core/IconPool"],function(a){a.addIcon("menu","fpa","fpa-icons","e600",true);a.addIcon("menu-options","fpa","fpa-icons","e601",true);a.addIcon("notifications","fpa","fpa-icons","e602",true);a.addIcon("settings","fpa","fpa-icons","e603",true);a.addIcon("preferences","fpa","fpa-icons","e604",true);a.addIcon("preferences-options","fpa","fpa-icons","e605",true);a.addIcon("reload","fpa","fpa-icons","e606",true);a.addIcon("search","fpa","fpa-icons","e607",true);a.addIcon("fullscreen","fpa","fpa-icons","e608",true);a.addIcon("new","fpa","fpa-icons","e609",true);a.addIcon("new-options","fpa","fpa-icons","e60a",true);a.addIcon("delete","fpa","fpa-icons","e60b",true);a.addIcon("delete-options","fpa","fpa-icons","e60c",true);a.addIcon("copy","fpa","fpa-icons","e60d",true);a.addIcon("copy-options","fpa","fpa-icons","e60e",true);a.addIcon("edit","fpa","fpa-icons","e60f",true);a.addIcon("folder","fpa","fpa-icons","e610",true);a.addIcon("print","fpa","fpa-icons","e611",true);a.addIcon("save","fpa","fpa-icons","e612",true);a.addIcon("save-options","fpa","fpa-icons","e613",true);a.addIcon("completed","fpa","fpa-icons","e614",true);a.addIcon("cancel","fpa","fpa-icons","e615",true);a.addIcon("undo","fpa","fpa-icons","e616",true);a.addIcon("redo","fpa","fpa-icons","e617",true);a.addIcon("import","fpa","fpa-icons","e618",true);a.addIcon("export","fpa","fpa-icons","e619",true);a.addIcon("calendar","fpa","fpa-icons","e61a",true);a.addIcon("pin","fpa","fpa-icons","e61b",true);a.addIcon("pin-options","fpa","fpa-icons","e61c",true);a.addIcon("attachment","fpa","fpa-icons","e61d",true);a.addIcon("attachment-options","fpa","fpa-icons","e61e",true);a.addIcon("share","fpa","fpa-icons","e61f",true);a.addIcon("publish","fpa","fpa-icons","e620",true);a.addIcon("security","fpa","fpa-icons","e621",true);a.addIcon("public","fpa","fpa-icons","e622",true);a.addIcon("photo","fpa","fpa-icons","e623",true);a.addIcon("up","fpa","fpa-icons","e624",true);a.addIcon("down","fpa","fpa-icons","e625",true);a.addIcon("previous","fpa","fpa-icons","e626",true);a.addIcon("next","fpa","fpa-icons","e627",true);a.addIcon("ascending","fpa","fpa-icons","e628",true);a.addIcon("descending","fpa","fpa-icons","e629",true);a.addIcon("truncation","fpa","fpa-icons","e62a",true);a.addIcon("truncation-options","fpa","fpa-icons","e62b",true);a.addIcon("star-filled","fpa","fpa-icons","e62c",true);a.addIcon("upload","fpa","fpa-icons","e62d",true);a.addIcon("download","fpa","fpa-icons","e62e",true);a.addIcon("grip-vertical","fpa","fpa-icons","e62f",true);a.addIcon("grip-horizontal","fpa","fpa-icons","e630",true);a.addIcon("designer","fpa","fpa-icons","e631",true);a.addIcon("properties","fpa","fpa-icons","e632",true);a.addIcon("preview","fpa","fpa-icons","e633",true);a.addIcon("details","fpa","fpa-icons","e634",true);a.addIcon("charts","fpa","fpa-icons","e635",true);a.addIcon("bookmarks","fpa","fpa-icons","e6d2",true);a.addIcon("success","fpa","fpa-icons","e636",true);a.addIcon("warning","fpa","fpa-icons","e637",true);a.addIcon("alert","fpa","fpa-icons","e638",true);a.addIcon("info","fpa","fpa-icons","e639",true);a.addIcon("help","fpa","fpa-icons","e63a",true);a.addIcon("smart-help","fpa","fpa-icons","e63b",true);a.addIcon("home","fpa","fpa-icons","e63c",true);a.addIcon("dashboards","fpa","fpa-icons","e63d",true);a.addIcon("models","fpa","fpa-icons","e63e",true);a.addIcon("perspectives","fpa","fpa-icons","e63f",true);a.addIcon("reports","fpa","fpa-icons","e640",true);a.addIcon("filter","fpa","fpa-icons","e641",true);a.addIcon("tag","fpa","fpa-icons","e642",true);a.addIcon("kpi","fpa","fpa-icons","e643",true);a.addIcon("style","fpa","fpa-icons","e644",true);a.addIcon("contextual-chart","fpa","fpa-icons","e645",true);a.addIcon("columns","fpa","fpa-icons","e646",true);a.addIcon("zoom-out","fpa","fpa-icons","e647",true);a.addIcon("versions","fpa","fpa-icons","e648",true);a.addIcon("versions-options","fpa","fpa-icons","e649",true);a.addIcon("merge-cells","fpa","fpa-icons","e64a",true);a.addIcon("unmerge-cells","fpa","fpa-icons","e64b",true);a.addIcon("show-hide-grid-dimension","fpa","fpa-icons","e64c",true);a.addIcon("bold","fpa","fpa-icons","e64d",true);a.addIcon("underline","fpa","fpa-icons","e64e",true);a.addIcon("strike","fpa","fpa-icons","e64f",true);a.addIcon("italic","fpa","fpa-icons","e650",true);a.addIcon("left-aligned","fpa","fpa-icons","e651",true);a.addIcon("centered","fpa","fpa-icons","e652",true);a.addIcon("right-aligned","fpa","fpa-icons","e653",true);a.addIcon("no-border","fpa","fpa-icons","e654",true);a.addIcon("left-border","fpa","fpa-icons","e655",true);a.addIcon("top-border","fpa","fpa-icons","e656",true);a.addIcon("right-border","fpa","fpa-icons","e657",true);a.addIcon("bottom-border","fpa","fpa-icons","e658",true);a.addIcon("outside-border","fpa","fpa-icons","e659",true);a.addIcon("all-borders","fpa","fpa-icons","e65a",true);a.addIcon("area","fpa","fpa-icons","e65b",true);a.addIcon("sankey","fpa","fpa-icons","e7fd",true);a.addIcon("font-color","fpa","fpa-icons","e65c",true);a.addIcon("fill-background-color","fpa","fpa-icons","e65d",true);a.addIcon("color","fpa","fpa-icons","e65e",true);a.addIcon("expand-all","fpa","fpa-icons","e65f",true);a.addIcon("collaps-all","fpa","fpa-icons","e660",true);a.addIcon("select-all-cells","fpa","fpa-icons","e661",true);a.addIcon("line","fpa","fpa-icons","e662",true);a.addIcon("bar-rows","fpa","fpa-icons","e663",true);a.addIcon("bar-columns","fpa","fpa-icons","e664",true);a.addIcon("stacked-bar-rows","fpa","fpa-icons","e665",true);a.addIcon("stacked-bar-columns","fpa","fpa-icons","e666",true);a.addIcon("map","fpa","fpa-icons","e667",true);a.addIcon("gauge-bar","fpa","fpa-icons","e668",true);a.addIcon("gauge-circle","fpa","fpa-icons","e669",true);a.addIcon("box-plot","fpa","fpa-icons","e66a",true);a.addIcon("auto-sync","fpa","fpa-icons","e66b",true);a.addIcon("files","fpa","fpa-icons","e66c",true);a.addIcon("cards","fpa","fpa-icons","e732",true);a.addIcon("deployment","fpa","fpa-icons","e66d",true);a.addIcon("conversations","fpa","fpa-icons","e66e",true);a.addIcon("comment","fpa","fpa-icons","e66f",true);a.addIcon("new-calculation","fpa","fpa-icons","e670",true);a.addIcon("send","fpa","fpa-icons","e671",true);a.addIcon("link","fpa","fpa-icons","e672",true);a.addIcon("unlink","fpa","fpa-icons","e673",true);a.addIcon("events","fpa","fpa-icons","e674",true);a.addIcon("task","fpa","fpa-icons","e675",true);a.addIcon("pending","fpa","fpa-icons","e676",true);a.addIcon("accept","fpa","fpa-icons","e677",true);a.addIcon("review","fpa","fpa-icons","e678",true);a.addIcon("approval","fpa","fpa-icons","e679",true);a.addIcon("reject","fpa","fpa-icons","e67a",true);a.addIcon("reminder","fpa","fpa-icons","e67b",true);a.addIcon("users","fpa","fpa-icons","e67c",true);a.addIcon("person","fpa","fpa-icons","e67d",true);a.addIcon("roles","fpa","fpa-icons","e67e",true);a.addIcon("request","fpa","fpa-icons","e67f",true);a.addIcon("history","fpa","fpa-icons","e680",true);a.addIcon("template","fpa","fpa-icons","e681",true);a.addIcon("options","fpa","fpa-icons","e682",true);a.addIcon("messages","fpa","fpa-icons","e683",true);a.addIcon("power","fpa","fpa-icons","e684",true);a.addIcon("activities","fpa","fpa-icons","e685",true);a.addIcon("geo","fpa","fpa-icons","e686",true);a.addIcon("summary","fpa","fpa-icons","e687",true);a.addIcon("variance","fpa","fpa-icons","e688",true);a.addIcon("variance-line","fpa","fpa-icons","e689",true);a.addIcon("data","fpa","fpa-icons","e68a",true);a.addIcon("scatter-plot","fpa","fpa-icons","e68b",true);a.addIcon("font-color-white","fpa","fpa-icons","e68c",true);a.addIcon("fill-background-color-white","fpa","fpa-icons","e68d",true);a.addIcon("text","fpa","fpa-icons","e68e",true);a.addIcon("profile","fpa","fpa-icons","e68f",true);a.addIcon("color-picker","fpa","fpa-icons","e690",true);a.addIcon("timeline","fpa","fpa-icons","e691",true);a.addIcon("import-options","fpa","fpa-icons","e692",true);a.addIcon("export-options","fpa","fpa-icons","e693",true);a.addIcon("color-white","fpa","fpa-icons","e694",true);a.addIcon("date","fpa","fpa-icons","e695",true);a.addIcon("currencies","fpa","fpa-icons","e696",true);a.addIcon("hierarchy","fpa","fpa-icons","e697",true);a.addIcon("number","fpa","fpa-icons","e698",true);a.addIcon("formula","fpa","fpa-icons","e699",true);a.addIcon("models-imported","fpa","fpa-icons","e69a",true);a.addIcon("shape","fpa","fpa-icons","e69b",true);a.addIcon("justified-aligned","fpa","fpa-icons","e69c",true);a.addIcon("vertical-align-top","fpa","fpa-icons","e69d",true);a.addIcon("vertical-align-mittle","fpa","fpa-icons","e69e",true);a.addIcon("vertical-align-bottom","fpa","fpa-icons","e69f",true);a.addIcon("list-bulleted","fpa","fpa-icons","e6a0",true);a.addIcon("list-numbered","fpa","fpa-icons","e6a1",true);a.addIcon("cell-reference","fpa","fpa-icons","e6a2",true);a.addIcon("waterfall-rows","fpa","fpa-icons","e6a3",true);a.addIcon("driver-tree","fpa","fpa-icons","e6a4",true);a.addIcon("fit-to-workspace","fpa","fpa-icons","e6a5",true);a.addIcon("trend","fpa","fpa-icons","e6a6",true);a.addIcon("normalscreen","fpa","fpa-icons","e6a7",true);a.addIcon("beginning","fpa","fpa-icons","e6a8",true);a.addIcon("end","fpa","fpa-icons","e6a9",true);a.addIcon("donut","fpa","fpa-icons","e6aa",true);a.addIcon("combined_column_line","fpa","fpa-icons","e6ab",true);a.addIcon("drill","fpa","fpa-icons","e6ac",true);a.addIcon("heat_map","fpa","fpa-icons","e6ad",true);a.addIcon("pie","fpa","fpa-icons","e6ae",true);a.addIcon("table","fpa","fpa-icons","e6af",true);a.addIcon("edit-options","fpa","fpa-icons","e6b0",true);a.addIcon("password","fpa","fpa-icons","e6b1",true);a.addIcon("stories","fpa","fpa-icons","e6b2",true);a.addIcon("allocation","fpa","fpa-icons","e6b3",true);a.addIcon("bring_to_front","fpa","fpa-icons","e6b4",true);a.addIcon("bring_forward","fpa","fpa-icons","e6b5",true);a.addIcon("bring_to_back","fpa","fpa-icons","e6b6",true);a.addIcon("bring_backward","fpa","fpa-icons","e6b7",true);a.addIcon("left-aligned-object","fpa","fpa-icons","e6b8",true);a.addIcon("vertically-aligned-object","fpa","fpa-icons","e6b9",true);a.addIcon("right-aligned-object","fpa","fpa-icons","e6ba",true);a.addIcon("top-aligned-object","fpa","fpa-icons","e6bb",true);a.addIcon("horizontally-aligned-object","fpa","fpa-icons","e6bc",true);a.addIcon("bottom-aligned-object","fpa","fpa-icons","e6bd",true);a.addIcon("fill_color","fpa","fpa-icons","e6be",true);a.addIcon("bridge","fpa","fpa-icons","e6bf",true);a.addIcon("expand_size","fpa","fpa-icons","e6c0",true);a.addIcon("all-primary-data","fpa","fpa-icons","e6c1",true);a.addIcon("sorted-options","fpa","fpa-icons","e6c2",true);a.addIcon("like","fpa","fpa-icons","e6c3",true);a.addIcon("like-filled","fpa","fpa-icons","e6c4",true);a.addIcon("rank","fpa","fpa-icons","e6c5",true);a.addIcon("showhide","fpa","fpa-icons","e678",true);a.addIcon("drill_up","fpa","fpa-icons","e6c6",true);a.addIcon("drill_down","fpa","fpa-icons","e6c7",true);a.addIcon("filter-options","fpa","fpa-icons","e6c8",true);a.addIcon("value-help","fpa","fpa-icons","e6c9",true);a.addIcon("ltnt-account","fpa","fpa-icons","e6e7",true);a.addIcon("connections","fpa","fpa-icons","e6ca",true);a.addIcon("reuse","fpa","fpa-icons","e6cb",true);a.addIcon("allocation-options","fpa","fpa-icons","e6cc",true);a.addIcon("data-changes","fpa","fpa-icons","e6cd",true);a.addIcon("input-form","fpa","fpa-icons","e6ce",true);a.addIcon("input-form-options","fpa","fpa-icons","e6cf",true);a.addIcon("archive","fpa","fpa-icons","e6d0",true);a.addIcon("line-double-axis","fpa","fpa-icons","e6d1",true);a.addIcon("bookmark","fpa","fpa-icons","e6d2",true);a.addIcon("color-picker-options","fpa","fpa-icons","e6d3",true);a.addIcon("variable","fpa","fpa-icons","e6d4",true);a.addIcon("variable-options","fpa","fpa-icons","e6d5",true);a.addIcon("network","fpa","fpa-icons","e6d6",true);a.addIcon("dimension-link","fpa","fpa-icons","e6d7",true);a.addIcon("feature","fpa","fpa-icons","e6d8",true);a.addIcon("marker","fpa","fpa-icons","e6d9",true);a.addIcon("circle","fpa","fpa-icons","e6da",true);a.addIcon("square","fpa","fpa-icons","e6db",true);a.addIcon("layers","fpa","fpa-icons","e6dc",true);a.addIcon("polygon-tool","fpa","fpa-icons","e6dd",true);a.addIcon("show","fpa","fpa-icons","e6de",true);a.addIcon("hide","fpa","fpa-icons","e6df",true);a.addIcon("server","fpa","fpa-icons","e6e0",true);a.addIcon("drill_leaves","fpa","fpa-icons","e6e1",true);a.addIcon("minus","fpa","fpa-icons","e6e2",true);a.addIcon("launch","fpa","fpa-icons","e6e3",true);a.addIcon("base_map","fpa","fpa-icons","e6e4",true);a.addIcon("organization","fpa","fpa-icons","e6e5",true);a.addIcon("generic","fpa","fpa-icons","e6e6",true);a.addIcon("cost_pool","fpa","fpa-icons","e6e7",true);a.addIcon("account","fpa","fpa-icons","e6e8",true);a.addIcon("time","fpa","fpa-icons","e6e9",true);a.addIcon("value-driver-tree","fpa","fpa-icons","e6ea",true);a.addIcon("split-view","fpa","fpa-icons","e6eb",true);a.addIcon("single-view","fpa","fpa-icons","e6ec",true);a.addIcon("hierarchy_deselected","fpa","fpa-icons","e6ed",true);a.addIcon("location-pin","fpa","fpa-icons","e6ee",true);a.addIcon("banknote","fpa","fpa-icons","e6ef",true);a.addIcon("eraser","fpa","fpa-icons","e6f0",true);a.addIcon("cross_table","fpa","fpa-icons","e6f1",true);a.addIcon("ibcs_table","fpa","fpa-icons","e6f2",true);a.addIcon("explore_view","fpa","fpa-icons","e6f3",true);a.addIcon("icicle","fpa","fpa-icons","e6f4",true);a.addIcon("monitor","fpa","fpa-icons","e6f5",true);a.addIcon("flip","fpa","fpa-icons","e6f6",true);a.addIcon("located","fpa","fpa-icons","e6f7",true);a.addIcon("cloud","fpa","fpa-icons","e6f8",true);a.addIcon("tree-map","fpa","fpa-icons","e6f9",true);a.addIcon("marimekko","fpa","fpa-icons","e6fa",true);a.addIcon("bubble","fpa","fpa-icons","e6fb",true);a.addIcon("radar","fpa","fpa-icons","e6fc",true);a.addIcon("combined_bar_line","fpa","fpa-icons","e6fd",true);a.addIcon("measure","fpa","fpa-icons","e6fe",true);a.addIcon("star","fpa","fpa-icons","e6ff",true);a.addIcon("file","fpa","fpa-icons","e700",true);a.addIcon("code","fpa","fpa-icons","e701",true);a.addIcon("light-bulb","fpa","fpa-icons","e702",true);a.addIcon("heat_map_geo","fpa","fpa-icons","e703",true);a.addIcon("boardroom","fpa","fpa-icons","e704",true);a.addIcon("agenda","fpa","fpa-icons","e705",true);a.addIcon("add_row_column","fpa","fpa-icons","e706",true);a.addIcon("remove_row_column","fpa","fpa-icons","e707",true);a.addIcon("merge","fpa","fpa-icons","e708",true);a.addIcon("reference-line","fpa","fpa-icons","e709",true);a.addIcon("play","fpa","fpa-icons","e70a",true);a.addIcon("explore","fpa","fpa-icons","e70b",true);a.addIcon("color-transparent","fpa","fpa-icons","e70c",true);a.addIcon("scatter-bubble","fpa","fpa-icons","e70d",true);a.addIcon("font","fpa","fpa-icons","e70e",true);a.addIcon("extract","fpa","fpa-icons","e70f",true);a.addIcon("bar-width","fpa","fpa-icons","e710",true);a.addIcon("broken-scale","fpa","fpa-icons","e711",true);a.addIcon("vector","fpa","fpa-icons","e712",true);a.addIcon("zoom-in","fpa","fpa-icons","e713",true);a.addIcon("all-secondary-data","fpa","fpa-icons","e714",true);a.addIcon("all-data","fpa","fpa-icons","e715",true);a.addIcon("intersecting-data","fpa","fpa-icons","e716",true);a.addIcon("input-control","fpa","fpa-icons","e717",true);a.addIcon("move-control-to-bar","fpa","fpa-icons","e718",true);a.addIcon("time-series","fpa","fpa-icons","e719",true);a.addIcon("lock-cell","fpa","fpa-icons","e71a",true);a.addIcon("clear-filter","fpa","fpa-icons","e71b",true);a.addIcon("new-filter","fpa","fpa-icons","e71c",true);a.addIcon("step","fpa","fpa-icons","e71d",true);a.addIcon("spread","fpa","fpa-icons","e71e",true);a.addIcon("distribute","fpa","fpa-icons","e71f",true);a.addIcon("break-axis","fpa","fpa-icons","e720",true);a.addIcon("group","fpa","fpa-icons","e721",true);a.addIcon("calculate","fpa","fpa-icons","e722",true);a.addIcon("growth-rate","fpa","fpa-icons","e723",true);a.addIcon("customise","fpa","fpa-icons","e724",true);a.addIcon("union","fpa","fpa-icons","e725",true);a.addIcon("flip-vertically","fpa","fpa-icons","e726",true);a.addIcon("ungroup","fpa","fpa-icons","e727",true);a.addIcon("transform","fpa","fpa-icons","e728",true);a.addIcon("cut","fpa","fpa-icons","e729",true);a.addIcon("fill-up","fpa","fpa-icons","e72a",true);a.addIcon("convert","fpa","fpa-icons","e72b",true);a.addIcon("replace","fpa","fpa-icons","e72c",true);a.addIcon("move","fpa","fpa-icons","e72d",true);a.addIcon("external-logic","fpa","fpa-icons","e72e",true);a.addIcon("online-meeting","fpa","fpa-icons","e72f",true);a.addIcon("phone","fpa","fpa-icons","e730",true);a.addIcon("hand","fpa","fpa-icons","e731",true);a.addIcon("tiles","fpa","fpa-icons","e732",true);a.addIcon("list","fpa","fpa-icons","e733",true);a.addIcon("item-arrangement","fpa","fpa-icons","e734",true);a.addIcon("outline-fill","fpa","fpa-icons","e735",true);a.addIcon("outline","fpa","fpa-icons","e736",true);a.addIcon("slash","fpa","fpa-icons","e737",true);a.addIcon("cell-height","fpa","fpa-icons","e738",true);a.addIcon("cell-width","fpa","fpa-icons","e739",true);a.addIcon("rotate-right-90","fpa","fpa-icons","e73a",true);a.addIcon("rotate-left-90","fpa","fpa-icons","e73b",true);a.addIcon("rotate-180","fpa","fpa-icons","e73c",true);a.addIcon("scale","fpa","fpa-icons","e73d",true);a.addIcon("inside-borders","fpa","fpa-icons","e73e",true);a.addIcon("inside-horizontal-border","fpa","fpa-icons","e73f",true);a.addIcon("inside-vertical-border","fpa","fpa-icons","e740",true);a.addIcon("diagonal-down-border","fpa","fpa-icons","e741",true);a.addIcon("diagonal-up-border","fpa","fpa-icons","e742",true);a.addIcon("sort","fpa","fpa-icons","e743",true);a.addIcon("sort-ascending","fpa","fpa-icons","e744",true);a.addIcon("sort-descending","fpa","fpa-icons","e745",true);a.addIcon("route","fpa","fpa-icons","e746",true);a.addIcon("open-new-window","fpa","fpa-icons","e747",true);a.addIcon("exclude","fpa","fpa-icons","e748",true);a.addIcon("edit-axis","fpa","fpa-icons","e749",true);a.addIcon("discover","fpa","fpa-icons","e74a",true);a.addIcon("fireworks","fpa","fpa-icons","e74b",true);a.addIcon("outlier","fpa","fpa-icons","e74c",true);a.addIcon("paste","fpa","fpa-icons","e74d",true);a.addIcon("dynamic-token","fpa","fpa-icons","e74e",true);a.addIcon("root-folder","fpa","fpa-icons","e74f",true);a.addIcon("bars-overlapping-1","fpa","fpa-icons","e750",true);a.addIcon("bars-overlapping-2","fpa","fpa-icons","e751",true);a.addIcon("bar-with-pointer","fpa","fpa-icons","e752",true);a.addIcon("bars-side-by-side","fpa","fpa-icons","e753",true);a.addIcon("process","fpa","fpa-icons","e754",true);a.addIcon("simulate","fpa","fpa-icons","e755",true);a.addIcon("annotation","fpa","fpa-icons","e756",true);a.addIcon("error-bar","fpa","fpa-icons","e757",true);a.addIcon("portrait-format","fpa","fpa-icons","e758",true);a.addIcon("landscape-format","fpa","fpa-icons","e759",true);a.addIcon("arrow-down","fpa","fpa-icons","e75a",true);a.addIcon("turtle","fpa","fpa-icons","e75b",true);a.addIcon("connection","fpa","fpa-icons","e75c",true);a.addIcon("tooltip","fpa","fpa-icons","e75d",true);a.addIcon("cluster","fpa","fpa-icons","e75e",true);a.addIcon("new-comment","fpa","fpa-icons","e75f",true);a.addIcon("delta-previous-year","fpa","fpa-icons","e760",true);a.addIcon("delta-first-year","fpa","fpa-icons","e761",true);a.addIcon("rows","fpa","fpa-icons","e762",true);a.addIcon("SQL","fpa","fpa-icons","e763",true);a.addIcon("r-language","fpa","fpa-icons","e764",true);a.addIcon("new-member","fpa","fpa-icons","e765",true);a.addIcon("member-order","fpa","fpa-icons","e766",true);a.addIcon("microphone","fpa","fpa-icons","e767",true);a.addIcon("edge","fpa","fpa-icons","e768",true);a.addIcon("percentage","fpa","fpa-icons","e769",true);a.addIcon("omega","fpa","fpa-icons","e76a",true);a.addIcon("support","fpa","fpa-icons","e76b",true);a.addIcon("mobile","fpa","fpa-icons","e76c",true);a.addIcon("devices","fpa","fpa-icons","e76d",true);a.addIcon("open","fpa","fpa-icons","e76e",true);a.addIcon("multi_selection","fpa","fpa-icons","e76f",true);a.addIcon("transfer_briefcase","fpa","fpa-icons","e770",true);a.addIcon("terminal","fpa","fpa-icons","e771",true);a.addIcon("layout","fpa","fpa-icons","e772",true);a.addIcon("device-orientation","fpa","fpa-icons","e773",true);a.addIcon("exception-data","fpa","fpa-icons","e774",true);a.addIcon("function","fpa","fpa-icons","e775",true);a.addIcon("analytic-hub","fpa","fpa-icons","e776",true);a.addIcon("book","fpa","fpa-icons","e777",true);a.addIcon("box-no-border","fpa","fpa-icons","e778",true);a.addIcon("box-left-border","fpa","fpa-icons","e779",true);a.addIcon("box-top-border","fpa","fpa-icons","e77a",true);a.addIcon("box-right-border","fpa","fpa-icons","e77b",true);a.addIcon("box-bottom-border","fpa","fpa-icons","e77c",true);a.addIcon("box-top-bottom-border","fpa","fpa-icons","e77d",true);a.addIcon("box-left-right-border","fpa","fpa-icons","e77e",true);a.addIcon("box-outside-border","fpa","fpa-icons","e77f",true);a.addIcon("leave","fpa","fpa-icons","e780",true);a.addIcon("top-and-bottom-border","fpa","fpa-icons","e781",true);a.addIcon("twitter","fpa","fpa-icons","e782",true);a.addIcon("feed","fpa","fpa-icons","e783",true);a.addIcon("store","fpa","fpa-icons","e784",true);a.addIcon("library","fpa","fpa-icons","e785",true);a.addIcon("books","fpa","fpa-icons","e786",true);a.addIcon("threshold-good","fpa","fpa-icons","e787",true);a.addIcon("threshold-warning","fpa","fpa-icons","e788",true);a.addIcon("threshold-alert","fpa","fpa-icons","e789",true);a.addIcon("text-abc","fpa","fpa-icons","e78a",true);a.addIcon("numbers-123","fpa","fpa-icons","e78b",true);a.addIcon("assign","fpa","fpa-icons","e78c",true);a.addIcon("time-calculation","fpa","fpa-icons","e78d",true);a.addIcon("edit-calculation","fpa","fpa-icons","e78e",true);a.addIcon("same_elements","fpa","fpa-icons","e78f",true);a.addIcon("different_elements","fpa","fpa-icons","e790",true);a.addIcon("conditional_formatting","fpa","fpa-icons","e791",true);a.addIcon("center","fpa","fpa-icons","e792",true);a.addIcon("no-edit","fpa","fpa-icons","e793",true);a.addIcon("lightning","fpa","fpa-icons","e794",true);a.addIcon("sum","fpa","fpa-icons","e795",true);a.addIcon("variance-bar","fpa","fpa-icons","e796",true);a.addIcon("percentage-pin","fpa","fpa-icons","e797",true);a.addIcon("alias","fpa","fpa-icons","e798",true);a.addIcon("new-table","fpa","fpa-icons","e799",true);a.addIcon("static-filter","fpa","fpa-icons","e79a",true);a.addIcon("temporary-filter","fpa","fpa-icons","e79b",true);a.addIcon("text-wrap","fpa","fpa-icons","e79c",true);a.addIcon("linked-model","fpa","fpa-icons","e79d",true);a.addIcon("linked-variable","fpa","fpa-icons","e79e",true);a.addIcon("dynamic-variable","fpa","fpa-icons","e66b",true);a.addIcon("histogram","fpa","fpa-icons","e79f",true);a.addIcon("binoculars","fpa","fpa-icons","e7a0",true);a.addIcon("new-model","fpa","fpa-icons","e7a1",true);a.addIcon("working-model","fpa","fpa-icons","e7a2",true);a.addIcon("data-set","fpa","fpa-icons","e7a3",true);a.addIcon("wrangling","fpa","fpa-icons","e7a4",true);a.addIcon("edit-wrangling","fpa","fpa-icons","e7a5",true);a.addIcon("edit-table","fpa","fpa-icons","e7a6",true);a.addIcon("mapping","fpa","fpa-icons","e7a7",true);a.addIcon("edit-mapping","fpa","fpa-icons","e7a8",true);a.addIcon("hierarchy-parent","fpa","fpa-icons","e7a9",true);a.addIcon("hierarchy-child","fpa","fpa-icons","e7aa",true);a.addIcon("hierarchy-grand-child","fpa","fpa-icons","e7ab",true);a.addIcon("slim-arrow-down","fpa","fpa-icons","e7ac",true);a.addIcon("slim-arrow-up","fpa","fpa-icons","e7ad",true);a.addIcon("slim-arrow-left","fpa","fpa-icons","e7ae",true);a.addIcon("slim-arrow-right","fpa","fpa-icons","e7af",true);a.addIcon("exit-save","fpa","fpa-icons","e7b0",true);a.addIcon("planning-sequence","fpa","fpa-icons","e7b1",true);a.addIcon("lock-drill","fpa","fpa-icons","e7b2",true);a.addIcon("screenshot","fpa","fpa-icons","e7b3",true);a.addIcon("resize-corner","fpa","fpa-icons","e7b4",true);a.addIcon("add-difference-marker","fpa","fpa-icons","e7b5",true);a.addIcon("dimension-member","fpa","fpa-icons","e7b6",true);a.addIcon("dimension-filter","fpa","fpa-icons","e7b7",true);a.addIcon("dimension-swap","fpa","fpa-icons","e7b8",true);a.addIcon("measure-filter","fpa","fpa-icons","e7b9",true);a.addIcon("measure-swap","fpa","fpa-icons","e7ba",true);a.addIcon("calculation-swap","fpa","fpa-icons","e7bb",true);a.addIcon("advanced-filter","fpa","fpa-icons","e7bc",true);a.addIcon("inspection","fpa","fpa-icons","e7bd",true);a.addIcon("new-note","fpa","fpa-icons","e7be",true);a.addIcon("tree","fpa","fpa-icons","e7bf",true);a.addIcon("clustering","fpa","fpa-icons","e7c0",true);a.addIcon("regression","fpa","fpa-icons","e7c1",true);a.addIcon("multi_selection_2","fpa","fpa-icons","e7c2",true);a.addIcon("play-process","fpa","fpa-icons","e7c3",true);a.addIcon("stop-process","fpa","fpa-icons","e7c4",true);a.addIcon("editor-comment","fpa","fpa-icons","e7c5",true);a.addIcon("radiobutton","fpa","fpa-icons","e7c6",true);a.addIcon("checkbox","fpa","fpa-icons","e7c7",true);a.addIcon("button","fpa","fpa-icons","e7c8",true);a.addIcon("dialog","fpa","fpa-icons","e7c9",true);a.addIcon("app-outline","fpa","fpa-icons","e7ca",true);a.addIcon("dropdown","fpa","fpa-icons","e7cb",true);a.addIcon("global-variables","fpa","fpa-icons","e7cc",true);a.addIcon("data-save","fpa","fpa-icons","e7cd",true);a.addIcon("max-screen","fpa","fpa-icons","e7ce",true);a.addIcon("small","fpa","fpa-icons","e7cf",true);a.addIcon("medium","fpa","fpa-icons","e7d0",true);a.addIcon("large","fpa","fpa-icons","e7d1",true);a.addIcon("duster-topics","fpa","fpa-icons","e7d2",true);a.addIcon("notes","fpa","fpa-icons","e7d3",true);a.addIcon("calendar-today","fpa","fpa-icons","e7d4",true);a.addIcon("layout-sorting","fpa","fpa-icons","e7d5",true);a.addIcon("full-name","fpa","fpa-icons","e7d6",true);a.addIcon("busy-indicator","fpa","fpa-icons","e7d7",true);a.addIcon("reject-assignee","fpa","fpa-icons","e7d8",true);a.addIcon("assignees-done","fpa","fpa-icons","e7d9",true);a.addIcon("event-process","fpa","fpa-icons","e7da",true);a.addIcon("new-member-edit","fpa","fpa-icons","e7db",true);a.addIcon("edit-member","fpa","fpa-icons","e7dc",true);a.addIcon("copy-data","fpa","fpa-icons","e7dd",true);a.addIcon("no-assignee","fpa","fpa-icons","e7de",true);a.addIcon("tri-state","fpa","fpa-icons","e7df",true);a.addIcon("distribute-spacing-vertically","fpa","fpa-icons","e7e0",true);a.addIcon("distribute-spacing-horizontally","fpa","fpa-icons","e7e1",true);a.addIcon("unique","fpa","fpa-icons","e7e2",true);a.addIcon("close-up","fpa","fpa-icons","e7e3",true);a.addIcon("number-decimals","fpa","fpa-icons","e7e4",true);a.addIcon("boolean","fpa","fpa-icons","e7e5",true);a.addIcon("translation","fpa","fpa-icons","e7e6",true);a.addIcon("dislike","fpa","fpa-icons","e7e7",true);a.addIcon("roambi","fpa","fpa-icons","e7e8",true);a.addIcon("sample-content","fpa","fpa-icons","e7e9",true);a.addIcon("business-content","fpa","fpa-icons","e7ea",true);a.addIcon("third-party-content","fpa","fpa-icons","e7eb",true);a.addIcon("team-folder","fpa","fpa-icons","e7ec",true);a.addIcon("auto-load-filter","fpa","fpa-icons","e7ed",true);a.addIcon("live-model","fpa","fpa-icons","e7ee",true);a.addIcon("comment-indicator","fpa","fpa-icons","e7ef",true);a.addIcon("comment-indicator-filled","fpa","fpa-icons","e7f0",true);a.addIcon("draft","fpa","fpa-icons","e7f1",true);a.addIcon("list-numbered-RTL","fpa","fpa-icons","e7f2",true);a.addIcon("multi_selection-RTL","fpa","fpa-icons","e7f3",true);a.addIcon("copy-data-2","fpa","fpa-icons","e7f4",true);a.addIcon("list-hierarchy","fpa","fpa-icons","e7f5",true);a.addIcon("folder-function","fpa","fpa-icons","e7f6",true);a.addIcon("canvas","fpa","fpa-icons","e7f7",true);a.addIcon("partially-completed","fpa","fpa-icons","e7f8",true);a.addIcon("stop-watch","fpa","fpa-icons","e7f9",true);a.addIcon("date-time","fpa","fpa-icons","e7fa",true);a.addIcon("apply-down","fpa","fpa-icons","e7fb",true);a.addIcon("unpivot-transformation","fpa","fpa-icons","e7fc",true);a.addIcon("sankey-chart","fpa","fpa-icons","e7fd",true);a.addIcon("performance","fpa","fpa-icons","e7fe",true);a.addIcon("google-sheets","fpa","fpa-icons","e7ff",true);a.addIcon("bpc-planning-sequence","fpa","fpa-icons","e800",true);a.addIcon("ruum","fpa","fpa-icons","e801",true);a.addIcon("range-slider","fpa","fpa-icons","e802",true);a.addIcon("slider","fpa","fpa-icons","e803",true);a.addIcon("backspace","fpa","fpa-icons","e804",true);a.addIcon("time-entry-request","fpa","fpa-icons","e805",true);a.addIcon("tab-container","fpa","fpa-icons","e807",true);a.addIcon("panel-container","fpa","fpa-icons","e808",true);a.addIcon("open-connectors","fpa","fpa-icons","e809",true);a.addIcon("moon","fpa","fpa-icons","e810",true);a.addIcon("snowflake","fpa","fpa-icons","e811",true);a.addIcon("live-table","fpa","fpa-icons","e812",true);a.addIcon("relationship-diagram","fpa","fpa-icons","e813",true);a.addIcon("fire","fpa","fpa-icons","e814",true);a.addIcon("table-view","fpa","fpa-icons","e815",true);a.addIcon("primary-key","fpa","fpa-icons","e816",true);a.addIcon("upload-to-cloud","fpa","fpa-icons","e817",true);a.addIcon("data-warehouse","fpa","fpa-icons","e818",true);a.addIcon("data-space-management","fpa","fpa-icons","e819",true);a.addIcon("table-builder","fpa","fpa-icons","e81a",true);a.addIcon("fact-view","fpa","fpa-icons","e81b",true);a.addIcon("new-view","fpa","fpa-icons","e81c",true);a.addIcon("live-data-set","fpa","fpa-icons","e81d",true);a.addIcon("temperature-cold","fpa","fpa-icons","e81e",true);a.addIcon("temperature-hot","fpa","fpa-icons","e81f",true);a.addIcon("feedback","fpa","fpa-icons","e820",true);a.addIcon("lock-archive","fpa","fpa-icons","e821",true);a.addIcon("carousel","fpa","fpa-icons","e822",true);a.addIcon("tracking","fpa","fpa-icons","e823",true);a.addIcon("toggle-switch","fpa","fpa-icons","e824",true);a.addIcon("responsive-panel","fpa","fpa-icons","e825",true);a.addIcon("move-top","fpa","fpa-icons","e826",true);a.addIcon("move-bottom","fpa","fpa-icons","e827",true);a.addIcon("association","fpa","fpa-icons","e828",true);a.addIcon("authorization-scenario","fpa","fpa-icons","e829",true);a.addIcon("consumption-model","fpa","fpa-icons","e82a",true);a.addIcon("fact-model","fpa","fpa-icons","e82b",true);a.addIcon("keyboard","fpa","fpa-icons","e82c",true);a.addIcon("data-flow","fpa","fpa-icons","e82d",true);a.addIcon("watchlist-add","fpa","fpa-icons","e82e",true);a.addIcon("watchlist","fpa","fpa-icons","e82f",true);a.addIcon("chart-table","fpa","fpa-icons","e830",true);a.addIcon("explore-table","fpa","fpa-icons","e831",true);a.addIcon("business-card","fpa","fpa-icons","e832",true);a.addIcon("permission","fpa","fpa-icons","e833",true);a.addIcon("diamond","fpa","fpa-icons","e834",true);a.addIcon("bullet-chart","fpa","fpa-icons","e835",true);a.addIcon("folder-search","fpa","fpa-icons","e836",true);a.addIcon("catalog","fpa","fpa-icons","e837",true);a.addIcon("retail-store-manager","fpa","fpa-icons","e838",true);a.addIcon("retail-store-share","fpa","fpa-icons","e839",true);a.addIcon("linked-analysis-tree","fpa","fpa-icons","e83a",true);a.addIcon("employee-rejections","fpa","fpa-icons","e83b",true);a.addIcon("employee-approvals","fpa","fpa-icons","e83c",true);a.addIcon("color-fill-square","fpa","fpa-icons","e83d",true);a.addIcon("color-white-square","fpa","fpa-icons","e83e",true);a.addIcon("object-mapper","fpa","fpa-icons","e83f",true);a.addIcon("replication-flow","fpa","fpa-icons","e840",true);a.addIcon("css-editor","fpa","fpa-icons","e841",true);a.addIcon("formula-measure","fpa","fpa-icons","e842",true);a.addIcon("formula-dimension","fpa","fpa-icons","e843",true);a.addIcon("formula-account","fpa","fpa-icons","e844",true);a.addIcon("fill-background-color-white-square","fpa","fpa-icons","e845",true);a.addIcon("fill-background-color-square","fpa","fpa-icons","e846",true);a.addIcon("numeric-ghoststate","fpa","fpa-icons","e847",true);a.addIcon("intelligent-lookup","fpa","fpa-icons","e848",true);a.addIcon("requirement-diagram","fpa","fpa-icons","e849",true);a.addIcon("boolean-circles","fpa","fpa-icons","e84a",true);a.addIcon("uuid","fpa","fpa-icons","e84b",true);a.addIcon("binary","fpa","fpa-icons","e84c",true);a.addIcon("person-key","fpa","fpa-icons","e84d",true);a.addIcon("business-entity","fpa","fpa-icons","e84e",true)});
/*
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/utils/ListHelper",[],function(){"use strict";function t(t){var r=[];while(t.hasNext()){r.push(t.next())}return r}function r(){this.arrayFromIter=t;this.arrayFromList=function(r){return t(r.getIterator())}}return new r});
/*
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/utils/MetaPathHelper",[],function(){"use strict";function i(){this.getMultiDimModelName=function(i){return i&&i.split(">")[0]};this.getDataProviderName=function(i){const t=i&&i.split(this.getMultiDimModelName(i)+">"+this.PathTo.DataProviders+"/")[1];return t?.includes("/")?t.split("/")[0]:t};this.getVisualizationName=function(i){return i&&i.split(this.getMultiDimModelName(i)+">"+this.PathTo.DataProviders+"/"+this.getDataProviderName(i)+this.PathTo.Visualizations+"/")[1]};this.PathTo={DataProviders:"/DataProviders",VariableGroups:"/VariableGroups",Messages:"/Messages",Visualizations:"/Visualizations",Variables:"/Variables",AxesLayout:"/AxesLayout",DataSourceInfo:"/DataSourceInfo",Grid:"/Grid",Dimensions:"/Dimensions",Measures:"/Measures",MemberFilter:"/MemberFilter",Configuration:"/Configuration"}}return new i});
/*!
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/utils/ResourceBundle",["sap/sac/df/utils/ResourceModel"],function(e){"use strict";const t=e.getResourceBundle();t.getTextWithPlaceholder=(e,s)=>t.getText(e,[s]);t.getTextWithPlaceholder2=(e,s,l)=>t.getText(e,[s,l]);t.getTextWithPlaceholders=(e,s)=>{const l=[];if(s!=null){for(let e=0;e<s.size();e++){l.push(s.get(e))}}return t.getText(e,l)};return t});
/*!
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/utils/ResourceModel",["sap/ui/model/resource/ResourceModel","sap/base/i18n/ResourceBundle","sap/base/util/UriParameters"],function(e,a,i){"use strict";var s=i.fromQuery(window.location.search).get("dft_local");var n=s?"sap/sac/df/i18n/firefly/localization":"sap/sac/df/i18n/localization";var o={bundleName:n};if(s){o.enhanceWith=[a.create({bundleName:"sap/sac/df/i18n/localization"})]}return new e(o)});
/*
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/utils/SyncActionHelper",["sap/base/Log","sap/sac/df/utils/ListHelper","sap/sac/df/thirdparty/lodash","sap/sac/df/firefly/library"],function(e,t,s,n){e.info("Load SyncAction Helper");function a(){const e=this;function a(e){const n=new Error(e.getSummary());n.getMessages=s.constant(t.arrayFromList(e.getMessages()).map(function(e){let t=e.getSeverity().getName();if(t==="Info"){t="Information"}return{Text:e.getText(),Severity:t,Code:e.getCode(),MessageClass:e.getMessageClass(),LongTextUri:e.getMessageClass()?["/sap/opu/odata/iwbep/message_text;message=LOCAL/T100_longtexts(MSGID='",encodeURIComponent(e.getMessageClass()),"',MSGNO='",encodeURIComponent(e.getCode()),"',MESSAGE_V1='',MESSAGE_V2='',MESSAGE_V3='',MESSAGE_V4='')/$value"].join(""):null}}));return n}e.reject=a;e.syncActionToPromise=function(e,t,o){let r,i;function c(e,t){r=e;i=t}function g(e){if(e.hasErrors()){i(a(e))}else{r(e.getData())}}const l=new Promise(c);e.apply(t,s.concat([n.SyncType.NON_BLOCKING,g],o));return l}}return new a});
sap.ui.require.preload({
	"sap/sac/df/library.js":function(){
/*!
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.loader.config({shim:{"sap/sac/df/thirdparty/sac.internal.grid.prod.2.24.0-f9585dd81ddf2dd4978f59850f7ddd20bebac8f5":{amd:true,exports:"sapSacGrid"},"sap/sac/df/thirdparty/interact":{amd:true,exports:"interact"},"sap/sac/df/thirdparty/antlr3-all-min":{amd:true,exports:"org"}}});sap.ui.define(["sap/sac/df/types/SystemType","sap/sac/df/thirdparty/sac.internal.grid.prod.2.24.0-f9585dd81ddf2dd4978f59850f7ddd20bebac8f5","sap/ui/core/Lib","sap/ui/dom/includeStylesheet","sap/sac/df/thirdparty/interact","sap/ui/core/library","sap/ui/layout/library","sap/ui/layout/cssgrid/GridBasicLayout","sap/ui/table/library","sap/f/library","sap/m/library","sap/sac/df/utils/FpaIcons","sap/sac/df/thirdparty/antlr3-all-min"],function(a,s,e,i){var r=e.init({name:"sap.sac.df",dependencies:["sap.ui.core","sap.ui.layout","sap.ui.table","sap.m","sap.ui.mdc","sap.ui.fl","sap.tnt"],types:["sap.sac.df.types.SystemType"],interfaces:[],controls:["sap.sac.df.FlexAnalysis","sap.sac.df.Grid","sap.sac.df.DesignerPanel","sap.sac.df.FilterBar","sap.sac.df.FilterPanel"],elements:["sap.sac.df.FlexAnalysisPanel"],version:"1.132.0",extensions:{flChangeHandlers:{"sap.sac.df.FilterBar":"sap/ui/mdc/flexibility/FilterBar","sap.sac.df.changeHandler.MultiDimModelChangeHandler":"sap/sac/df/changeHandler/flexibility/MultiDimModelChangeHandler","sap.sac.df.changeHandler._ModelChangeHandler":"sap/sac/df/changeHandler/flexibility/_ModelChangeHandler"}}});i(sap.ui.require.toUrl("sap/sac/df/firefly/css/firefly.styles.css"));i(sap.ui.require.toUrl("sap/sac/df/firefly/css/firefly.styles.sapui5.css"));r.types={};r.types.SystemType=a;window.sactable=s;return r});
},
	"sap/sac/df/manifest.json":'{"_version":"1.21.0","sap.app":{"id":"sap.sac.df","type":"library","embeds":[],"applicationVersion":{"version":"1.132.0"},"title":"Dragonfly library for visualizing the analytical multidimensional data","description":"Dragonfly library for visualizing the analytical multidimensional data","ach":"LOD-ANA-FLY-DF","resources":"resources.json","offline":true,"openSourceComponents":[{"name":"lodash","packagedWithMySelf":true,"version":"4.17.21"},{"name":"interactjs","packagedWithMySelf":true,"version":"1.10.11"},{"name":"React","packagedWithMySelf":true,"version":"v16.13.1"},{"name":"ReactDom","packagedWithMySelf":true,"version":"v16.13.1"},{"name":"antlr3","packagedWithMySelf":true,"version":"3.3"}]},"sap.ui":{"technology":"UI5","supportedThemes":["base","sap_belize","sap_belize_base","sap_belize_hcb","sap_belize_hcw","sap_belize_plus","sap_bluecrystal","sap_bluecrystal_base","sap_fiori_3","sap_fiori_3_dark","sap_fiori_3_hcb","sap_fiori_3_hcw","sap_hcb","sap_horizon","sap_horizon_dark","sap_horizon_hcb","sap_horizon_hcw"]},"sap.ui5":{"dependencies":{"minUI5Version":"1.132","libs":{"sap.ui.core":{"minVersion":"1.132.1"},"sap.ui.layout":{"minVersion":"1.132.1"},"sap.ui.table":{"minVersion":"1.132.1"},"sap.f":{"minVersion":"1.132.1"},"sap.m":{"minVersion":"1.132.1"},"sap.ui.mdc":{"minVersion":"1.132.1"},"sap.ui.fl":{"minVersion":"1.132.1"},"sap.tnt":{"minVersion":"1.132.1"}}},"library":{"i18n":false,"content":{"controls":["sap.sac.df.FlexAnalysis","sap.sac.df.Grid","sap.sac.df.DesignerPanel","sap.sac.df.FilterBar","sap.sac.df.FilterPanel"],"elements":["sap.sac.df.FlexAnalysisPanel"],"types":["sap.sac.df.types.SystemType"],"interfaces":[]}}}}'
});
//# sourceMappingURL=library-preload.js.map
