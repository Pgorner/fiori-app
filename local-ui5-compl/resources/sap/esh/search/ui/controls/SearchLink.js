/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){sap.ui.define(["sap/esh/search/ui/SearchHelper","sap/ui/core/Icon","sap/m/Link","../sinaNexTS/sina/NavigationTarget","../uiConstants"],function(t,e,i,n,r){"use strict";const s=n["NavigationTarget"];const a=r["initialValueUnicode"];const g=i.extend("sap.esh.search.ui.controls.SearchLink",{renderer:{apiVersion:2,render:(t,e)=>{t.openStart("span",e.getId());t.class("sapUshellSearchLink");if(!e.getWrapping()){t.class("sapUshellSearchLink-nowrap")}const i=e.getTooltip_AsString();if(i){t.attr("title",i)}t.openEnd();const n=e.getAggregation("icon");if(n){t.renderControl(n)}t.renderControl(e.getAggregation("_link"));t.close("span")}},metadata:{properties:{href:{type:"sap.ui.core.URI",defaultValue:""},enabled:{type:"boolean",defaultValue:true},target:{type:"string",defaultValue:"_self"},text:{type:"string",defaultValue:""},wrapping:{type:"boolean",defaultValue:false},navigationTarget:{type:"object",group:"Data"}},aggregations:{_link:{type:"sap.m.Link",multiple:false},icon:{type:"sap.ui.core.Icon",multiple:false}}},constructor:function t(e,n){i.prototype.constructor.call(this,e,n);this._pressHandlerAttached=false},init:function t(){this.setAggregation("_link",new i(this.getId()+"-Link",{text:this.getProperty("text"),href:this.getProperty("href"),target:this.getProperty("target"),wrapping:this.getProperty("wrapping"),enabled:this.getProperty("enabled")}).addStyleClass("sapUshellSearchLinkLink"))},pressHandlerSearchLink:function t(e){const i=this.getNavigationTarget();if(i.targetUrl){i.performNavigation({trackingOnly:true,event:e})}else{e.preventDefault();i.performNavigation({event:e})}},setNavigationTarget:function t(i){this.setProperty("navigationTarget",i);const n=this.getAggregation("_link").getText();if((typeof i?.targetUrl!=="string"||i?.targetUrl?.length===0)&&typeof i?.targetFunction!=="function"||!(typeof n==="string"&&n!==a)){this.setProperty("enabled",false);this.getAggregation("_link").setProperty("enabled",false)}else{this.setProperty("enabled",true);this.getAggregation("_link").setProperty("enabled",true)}const r=i?.targetUrl;if(typeof r==="string"&&r?.length>0){this.setProperty("href",r);this.getAggregation("_link").setProperty("href",r)}else{this.setProperty("href","");this.getAggregation("_link").setProperty("href","")}const s=i?.target;if(typeof s==="string"&&s?.length>0){this.setProperty("target",s);this.getAggregation("_link").setProperty("target",s)}else{this.setProperty("target","_self");this.getAggregation("_link").setProperty("target","_self")}const g=i?.icon;if(!(this.getAggregation("icon")instanceof e)&&typeof g==="string"&&g?.length>0){this.setIcon(new e(`${this.getId()}--Icon`,{src:g}))}const o=i?.tooltip;if(!this.getTooltip()&&typeof o==="string"&&o?.length>0){this.setTooltip(o)}return this},setHref:function t(e){this.setProperty("href",e);this.getAggregation("_link").setProperty("href",e);return this},setTooltip:function t(e){this.getAggregation("_link").setTooltip(e);return this},setWrapping:function t(e){this.setProperty("wrapping",e);this.getAggregation("_link").setProperty("wrapping",e);return this},setText:function t(e){this.setProperty("text",e);this.getAggregation("_link").setProperty("text",e);const i=this.getNavigationTarget();if(!(i instanceof s)){return this}if((typeof i?.targetUrl!=="string"||i?.targetUrl?.length===0)&&typeof i?.targetFunction!=="function"||!(typeof e==="string"&&e!==a)){this.setProperty("enabled",false);this.getAggregation("_link").setProperty("enabled",false)}return this},getNavigationTarget:function t(){return this.getProperty("navigationTarget")},setEnabled:function t(e){if(e===true){const t=this.getNavigationTarget();const e=this.getAggregation("_link").getText();if(t instanceof s&&(typeof t.targetUrl!=="string"||t.targetUrl?.length===0)&&typeof t.targetFunction!=="function"||!(typeof e==="string"&&e!==a)){this.setProperty("enabled",false);this.getAggregation("_link").setProperty("enabled",false);return this}}this.setProperty("enabled",e);this.getAggregation("_link").setProperty("enabled",e);return this},setIcon:function t(i){if(i instanceof e){i.addStyleClass("sapUshellSearchLinkIcon");this.setAggregation("icon",i)}return this},onAfterRendering:function e(n){i.prototype.onAfterRendering.call(this,n);if(this.isDestroyed()){return}if(!this._pressHandlerAttached){this.attachPress(this.pressHandlerSearchLink,this);this.getAggregation("_link").attachPress(this.pressHandlerSearchLink,this);this._pressHandlerAttached=true}const r=this.getAggregation("icon")?.getDomRef();const s=this.getAggregation("_link")?.getDomRef();if(r){s.insertBefore(r,s.firstChild)}t.boldTagUnescaper(s)},_handlePress:function t(e){if(e.target.localName==="b"){const t=this.getDomRef()?this.getDomRef():e.target.parentElement;e.target=t}i.prototype["_handlePress"].apply(this,arguments)},addAriaDescribedBy:function t(e){this.getAggregation("_link").addAriaDescribedBy(e);return this},addStyleClass:function t(e){this.getAggregation("_link").addStyleClass(e);return this},onsapenter:function t(e){this._handlePress(e)},onclick:function t(e){this._handlePress(e)}});return g})})();
//# sourceMappingURL=SearchLink.js.map