{"version":3,"file":"FacetParser.js","names":["sap","ui","define","____sina_SearchQuery","typeConverter","____sina_LogicalOperator","____sina_ComparisonOperator","____sina_ChartQuery","____core_Log","____core_errors","___HierarchyParser","SearchQuery","LogicalOperator","ComparisonOperator","ChartQuery","Log","FacetsParseError","HierarchyParser","FacetParser","log","provider","sina","constructor","this","parse","query","data","hierarchyParser","value","Promise","resolve","error","warn","message","facets","i","length","facetData","resultSet","filter","dataSource","getAllDataSource","parseDataSourceFacet","e1","type","DataSourceType","Category","Dimensions","PropertyType","attributeMetadata","parseFacetAttribute","isHierarchy","parseHierarchyFacet","parseChartFacet","itemsInString","Items","Array","isArray","JSON","stringify","push","all","dataSourceQuery","createDataSourceQuery","clone","nlq","items","cell","getDataSource","scope","createDataSource","id","ValueLow","label","Description","_createDataSourceResultSetItem","dimensionValueFormatted","labelPlural","measureValue","_Count","measureValueFormatted","toString","_createDataSourceResultSet","title","_setResultSet","createAttributeFilterCondition","attributeId","metadata","Object","prototype","hasOwnProperty","call","finalCondition","createComplexCondition","attributeLabel","valueLabel","formatFacetValue","operator","And","conditions","lowBoundCondition","upperBoundCondition","From","createSimpleCondition","attribute","Le","odata2Sina","To","Ge","convertValueToString","textElementValue","startsWith","initialValue","dimension","PropertyName","getAttributeMetadata","chartQuery","setDataSource","setRootCondition","rootCondition","createChartQuery","iconPropertyName","usage","AdvancedSearch","iconUrlAttributeName","isIconContained","findIndex","item","icon","_createChartResultSetItem","filterCondition","_createChartResultSet","__exports","__esModule"],"sources":["FacetParser-dbg.js"],"mappings":"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","ignoreList":[]}