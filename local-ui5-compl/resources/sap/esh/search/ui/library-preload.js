//@ui5-bundle sap/esh/search/ui/library-preload.js
sap.ui.require.preload({
	"sap/esh/search/ui/BreadcrumbsFormatter.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){sap.ui.define(["./sinaNexTS/sina/HierarchyDisplayType"],function(e){"use strict";const t=e["HierarchyDisplayType"];class r{model;constructor(e){this.model=e}formatNodePaths(e){if(e){const t=this._selectNodePath(e);if(t){return t.path}}return[]}formatHierarchyAttribute(e){if(e){const t=this._selectNodePath(e);if(t){return t.name}}return""}_selectNodePath(e){const r=e.hierarchyNodePaths;if(r&&Array.isArray(r)&&r.length>0){for(let a=0;a<r.length;a++){const i=r[a];const s=i.name;if(i&&Array.isArray(i.path)&&s){const r=e.query.getDataSource()?.attributesMetadata?.find(e=>e.id===s);if(r&&r.isHierarchy===true&&(r.hierarchyDisplayType===t.HierarchyResultView||r.hierarchyDisplayType===t.StaticHierarchyFacet)){return i}}}}return null}}var a={__esModule:true};a.Formatter=r;return a})})();
},
	"sap/esh/search/ui/BusyIndicator.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){sap.ui.define([],function(){"use strict";class s{show(){}hide(){}setBusy(){}}class e{model;constructor(s){this.model=s;this.model.setProperty("/isBusy",false)}show(){this.model.setProperty("/isBusy",true)}hide(){this.model.setProperty("/isBusy",false)}setBusy(s){if(s){this.show()}else{this.hide()}}}var t={__esModule:true};t.DummyBusyIndicator=s;t.BusyIndicator=e;return t})})();
},
	"sap/esh/search/ui/Facet.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){sap.ui.define([],function(){"use strict";class t{title;facetType;dimension;dataType;matchingStrategy;items;items4pie;totalCount;visible;position;constructor(t){this.title=t.title;this.facetType=t.facetType;this.dimension=t.dimension;this.dataType=t.dataType;this.matchingStrategy=t.matchingStrategy;this.items=t.items||[];this.totalCount=t.totalCount;this.visible=t.visible||true}hasFilterCondition(t){for(let i=0,e=this.items.length;i<e;i++){const e=this.items[i].filterCondition;if(e.equals&&e.equals(t)){return true}}return false}hasFilterConditions(){for(let t=0,i=this.items.length;t<i;t++){if(this.items[t].filterCondition){return true}}return false}removeItem(t){for(let i=0,e=this.items.length;i<e;i++){const e=this.items[i].filterCondition;if(e.equals&&t.filterCondition&&e.equals(t.filterCondition)){return this.items.splice(i,1)}}}}return t})})();
},
	"sap/esh/search/ui/FacetItem.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){sap.ui.define([],function(){"use strict";class e{selected;level;filterCondition;value;label;facetTitle;facetAttribute;valueLabel;advanced;listed;icon;visible;constructor(e){const t=e||{};this.selected=t.selected||false;this.level=t.level||0;this.filterCondition=t.filterCondition;this.value=t.value||"";this.label=typeof t.label==="undefined"?"":t.label+"";this.facetTitle=t.facetTitle||"";this.facetAttribute=t.facetAttribute||"";this.valueLabel=this.value;this.advanced=t.advanced||false;this.listed=t.listed||false;this.icon=t.icon;this.visible=t.visible||true}equals(e){return this.facetTitle===e.facetTitle&&this.label===e.label&&this.value===e.value&&this.filterCondition.equals(e.filterCondition)}clone(){const t=new e;t.facetTitle=this.facetTitle;t.selected=this.selected;t.label=this.label;t.icon=this.icon;t.level=this.level;t.value=this.value;t.valueLabel=this.valueLabel;t.filterCondition=this.filterCondition.clone();return t}}return e})})();
},
	"sap/esh/search/ui/FolderModeUtils.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){sap.ui.define([],function(){"use strict";class e{model;constructor(e){this.model=e}calculate(e,t,l){if(!this.model.config.folderMode||!this.model.config.autoAdjustResultViewTypeInFolderMode){return t}let o;if(l.isFolderMode()){o="searchResultTable"}else{o="searchResultList"}if(e.indexOf(o)<0){return t}return o}}var t={__esModule:true};t.FolderModeResultViewTypeCalculator=e;return t})})();
},
	"sap/esh/search/ui/HashChangeHandler.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){sap.ui.define(["./eventlogging/UserEvents","./SearchModel"],function(e,i){"use strict";function t(e){return e&&e.__esModule&&typeof e.default!=="undefined"?e.default:e}const s=e["UserEventType"];const n=t(i);const r={handle:async function(e){this.sourceUrlArray=[];if(e.oldShellHash!==null){this.sourceUrlArray.push(e.oldShellHash)}if(e.oldAppSpecificRoute!==null){if(e.oldAppSpecificRoute.substring(0,2)==="&/"){this.sourceUrlArray.push(e.oldAppSpecificRoute.substring(2))}else{this.sourceUrlArray.push(e.oldAppSpecificRoute)}}this._createSearchModel().then(function(){const i={type:s.HASH_CHANGE,sourceUrlArray:this.sourceUrlArray,targetUrl:"#"+e.newShellHash,systemAndClient:this._getSID()};if(i.targetUrl.indexOf("=")!==-1){this.searchModel.sinaNext.logUserEvent(i)}}.bind(this))},_createSearchModel:async function(){if(this.initializedPromise){return this.initializedPromise}this.searchModel=n.getModelSingleton({},"flp");this.initializedPromise=this.searchModel.initBusinessObjSearch();return this.initializedPromise},_getSID:function(){const e={systemId:"",client:""};const i=window.location.href;const t=i.indexOf("sap-system=sid(");if(t!==-1){const s=i.substring(t).indexOf(")");if(s!==-1){const n=i.substring(t+15,t+s);if(n.split(".").length===2){e.systemId=n.split(".")[0];e.client=n.split(".")[1]}}}return e}};return r})})();
},
	"sap/esh/search/ui/PublicSearchModel.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){sap.ui.define(["sap/ui/model/json/JSONModel","./sinaNexTS/sina/cloneUtil"],function(e,t){"use strict";const s=t["clonePublic"];const l=e.extend("sap.esh.search.ui.PublicSearchModel",{constructor:function t(s){e.prototype.constructor.call(this);this.modelName=s.modelName;this.internalSearchModel=s.internalSearchModel},setPropertyFromInternalModel:function e(t,l,r,o,a){let c;let n=l;if(o){n=`${o.getPath()}/${l}`}if(n==="/results"){const e=e=>{if(e["type"]==="appcontainer"){return e.tiles}else{return e.sinaItem}};let l;try{l={items:r.map((l,r)=>{const o=s(e(l));const a={data:o,selected:l.selected,setSelected:e=>{t.setProperty(`/results/${r}/selected`,e)},selectionEnabled:l.selectionEnabled,setSelectionEnabled:e=>{t.setProperty(`/results/${r}/selectionEnabled`,e)},customItemStyleClass:l.customItemStyleClass,setCustomItemStyleClass:e=>{t.setProperty(`/results/${r}/customItemStyleClass`,e)}};return a})}}catch(e){throw new Error("Public Model could not be updated. Error: "+e+")")}c=l}if(!c){c=r}this.setPropertyInternal(n,c,undefined,a)},setPropertyInternal:function t(s,l,r,o){let a=s;let c;if(r){a=`${r.getPath()}/${s}`}const n=this.isPublicProperty(a);if(n.length>0){if(typeof n[0]?.targetPath!=="undefined"){if(typeof n[0]?.targetPath==="function"){c=e.prototype.setProperty.call(this,n[0]?.targetPath(a),l,undefined,o)}else{c=e.prototype.setProperty.call(this,n[0]?.targetPath,l,r,o)}}else{c=e.prototype.setProperty.call(this,s,l,r,o)}if(a.startsWith("/results/")&&a.endsWith("/selected")){this.internalSearchModel.updateMultiSelectionSelected()}}else{}return c},setProperty:function t(s,l,r,o){let a=s;if(r){a=`${r.getPath()}/${s}`}if(a.startsWith("/results/items/")&&a.endsWith("/selected")){const t=e.prototype.setProperty.call(this,s,l,r,o);const c=`/results/${a.replace("/results/items/","").replace("/selected","")}/selected`;const n=this.internalSearchModel.setPropertyInternal(c,l,undefined,o,false);this.internalSearchModel.updateMultiSelectionSelected();return t&&n}else if(a.startsWith("/results/items/")&&a.endsWith("/selectionEnabled")){const t=e.prototype.setProperty.call(this,s,l,r,o);const c=`/results/${a.replace("/results/items/","").replace("/selectionEnabled","")}/selectionEnabled`;const n=this.internalSearchModel.setPropertyInternal(c,l,undefined,o,false);return t&&n}else if(a.startsWith("/results/items/")&&a.endsWith("/customItemStyleClass")){const t=e.prototype.setProperty.call(this,s,l,r,o);const c=`/results/${a.replace("/results/items/","").replace("/customItemStyleClass","")}/customItemStyleClass`;const n=this.internalSearchModel.setPropertyInternal(c,l,undefined,o,false);return t&&n}else{throw new Error(`The public search model '${this.modelName}' is read-only but for properties "/results/items/<idx>/selected", "/results/items/<idx>/selectionEnabled" and "/results/items/<idx>/customItemStyleClass". You are changing property '${a}'.`)}},isPublicProperty:function e(t){const s=l.publicSearchModelPropertyPath.filter(e=>{if(e.sourcePath instanceof RegExp){return t.match(e.sourcePath)}else{return e.sourcePath===t}});return s}});l.defaultModelName="publicSearchModel";l.publicSearchModelPropertyPath=[{sourcePath:"/results"},{sourcePath:/^\/results\/.*\/selected$/,targetPath:e=>e.replace("/results/","/results/items/")},{sourcePath:/^\/tableRows\/.*\/selected$/,targetPath:e=>e.replace("/tableRows/","/results/items/")},{sourcePath:/^\/results\/.*\/selectionEnabled$/,targetPath:e=>e.replace("/results/","/results/items/")},{sourcePath:/^\/tableRows\/.*\/selectionEnabled$/,targetPath:e=>e.replace("/tableRows/","/results/items/")},{sourcePath:/^\/results\/.*\/customItemStyleClass$/,targetPath:e=>e.replace("/results/","/results/items/")},{sourcePath:/^\/tableRows\/.*\/customItemStyleClass$/,targetPath:e=>e.replace("/tableRows/","/results/items/")},{sourcePath:"/count"},{sourcePath:"/singleSelectionSelected"},{sourcePath:"/multiSelectionSelected"},{sourcePath:"/multiSelectionObjects"}];return l})})();
},
	"sap/esh/search/ui/RecentlyUsedStorage.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){sap.ui.define(["sap/base/Log","./suggestions/SuggestionType","./personalization/PersonalizationKeys"],function(e,t,i){"use strict";const a=t["Type"];const r=t["SuggestionType"];const s=t["RecentEntriesPosition"];const o=i["PersonalizationKeys"];var n=function(e){e[e["V2"]=2]="V2";return e}(n||{});const g=["uiSuggestionType","label","label1","label2","imageUrl","imageIsCircular","imageExists"];const l=["uiSuggestionType","label","icon","filterIcon"];const c=["uiSuggestionType","label","url","icon","searchTerm"];class h{personalizationStorage;_oLogger;maxItems;key=(()=>o.recentSearches)();searchModel;constructor(t){this.personalizationStorage=t.personalizationStorage;this._oLogger=e.getLogger("sap.esh.search.ui.RecentlyUsedStorage");this.maxItems=t.maxItems||10;this.searchModel=t.searchModel}async deleteAllItems(){this.personalizationStorage.deleteItem(this.key);return this.personalizationStorage.save()}getSerializedItemsInternal(){const e=this.personalizationStorage.getItem(this.key)??[];return e.filter(e=>e.version>=n.V2)}getItems(){const e=this.searchModel?.query?.filter;return this.getSerializedItemsInternal().map(e=>this.deSerialize(e)).filter(t=>{if(t.uiSuggestionType===a.Search&&t.filter.equals(e)){return false}return true})}copyProperties(e,t,i){for(const a of i){e[a]=t[a]}}deSerialize(e){const t={label:""};let i;switch(e.uiSuggestionType){case r.Object:this.copyProperties(t,e,g);t.titleNavigation=this.searchModel.sinaNext.parseNavigationTargetFromJson(e.titleNavigation);t.dataSource=this.searchModel.sinaNext.getDataSource(e.dataSource);break;case r.Search:this.copyProperties(t,e,l);i=this.deSerializeSearchNavigationTarget(e.titleNavigation);t.titleNavigation=i.navigationTarget;t.filter=i.filter;break;case r.Transaction:this.copyProperties(t,e,c);break}t.position=s;t.isRecentEntry=true;return t}serialize(e){const t={key:""};switch(e.uiSuggestionType){case r.Object:this.copyProperties(t,e,g);t.titleNavigation=e.titleNavigation.toJson();t.dataSource=e.dataSource.id;t.key=e.uiSuggestionType+"/"+e.label1+"/"+e.label2;break;case r.Search:this.copyProperties(t,e,l);t.titleNavigation=this.serializeSearchNavigationTarget(e.titleNavigation);t.key=e.uiSuggestionType+"/"+e.label;break;case r.Transaction:this.copyProperties(t,e,c);t.key=e.uiSuggestionType+"/"+e.label;break}t.version=n.V2;return t}serializeSearchNavigationTarget(e){const t=this.searchModel.parseSearchNavigationTarget(e);return this.searchModel.createSearchNavigationTarget(Object.assign(t,{updateUrl:true})).toJson()}deSerializeSearchNavigationTarget(e){const t=this.searchModel.sinaNext.parseNavigationTargetFromJson(e);const i=this.searchModel.parseSearchNavigationTarget(t);return{filter:i.filter,navigationTarget:this.searchModel.createSearchNavigationTarget(i)}}addItem(e){if(!this.personalizationStorage.isStorageOfPersonalDataAllowed())return;const t=this.serialize(e);const i=this.getSerializedItemsInternal();i.some((e,i,a)=>{if(e.key===t.key){this._oLogger.debug("Removing already existing item "+t.key+" at pos "+i);a.splice(i,1);return true}});if(i.length>=this.maxItems){const e=i.pop();this._oLogger.debug("Removing oldest item "+e.key)}this._oLogger.debug("Adding item "+t.key);i.unshift(t);this.personalizationStorage.setItem(this.key,i)}}return h})})();
},
	"sap/esh/search/ui/ResultSetApi.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){sap.ui.define([],function(){"use strict";var e=function(e){e["Double"]="Double";e["Integer"]="Integer";e["String"]="String";e["ImageUrl"]="ImageUrl";e["ImageBlob"]="ImageBlob";e["Timestamp"]="Timestamp";return e}(e||{});var t={__esModule:true};t.AttributeType=e;return t})})();
},
	"sap/esh/search/ui/SearchCompositeControl.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){sap.ui.define(["./error/ErrorHandler","./i18n","sap/ui/model/resource/ResourceModel","./controls/searchfieldgroup/SearchFieldGroup","sap/esh/search/ui/SearchModel","sap/esh/search/ui/controls/SearchLayoutResponsive","./controls/resultview/SearchResultContainer","./controls/resultview/SearchCountBreadcrumbs","sap/esh/search/ui/controls/SearchFilterBar","sap/esh/search/ui/SearchHelper","sap/ui/core/Control","sap/ui/core/IconPool","sap/ui/layout/VerticalLayout","sap/ui/model/BindingMode","sap/m/Button","sap/m/library","sap/m/Bar","sap/m/OverflowToolbarLayoutData","sap/m/OverflowToolbar","sap/m/ViewSettingsItem","sap/m/MessagePopover","sap/m/MessageItem","sap/m/VBox","./error/errors","sap/base/Log","sap/m/IllustratedMessage","sap/m/IllustratedMessageType","sap/m/IllustratedMessageSize","sap/esh/search/ui/error/errors","sap/ui/core/ResizeHandler","./controls/OpenShowMoreDialog","./UIEvents","./SearchCompositeControlDragDropConfig","sap/base/assert","./controls/facets/SearchFacetList","sap/ui/core/Element","./compositecontrol/ToolbarAssembler","./compositecontrol/ResultViewsAssembler","./controls/SearchSelectionBar","./controls/resultview/SearchResultPanel"],function(e,t,r,s,o,n,i,a,l,c,u,h,d,p,f,g,S,y,m,C,b,M,I,T,w,D,R,B,V,F,E,v,P,x,A,L,N,H,U,_){"use strict";function G(e){return e&&e.__esModule&&typeof e.default!=="undefined"?e.default:e}const O=G(e);const z=G(t);const W=G(s);const $=G(i);const j=G(a);const k=g["ButtonType"];const Q=g["ToolbarDesign"];const q=g["PlacementType"];const J=g["OverflowToolbarPriority"];const K=g["FlexJustifyContent"];const X=T["ProgramError"];const Y=E["openShowMoreDialog"];const Z=G(v);const ee=g["BarDesign"];const te=G(P);const re=G(A);const se=G(N);const oe=G(H);const ne=G(U);const ie=G(_);const ae=d.extend("sap.esh.search.ui.SearchCompositeControl",{renderer:{apiVersion:2},metadata:{library:"sap.esh.search.ui",dnd:{draggable:true,droppable:false},properties:{cssClass:{type:"string"},searchTerm:{type:"string",group:"Misc",defaultValue:""},searchOnStart:{type:"boolean",group:"Behavior",defaultValue:true},filterRootCondition:{type:"object",group:"Misc"},sinaConfiguration:{type:"object",group:"Misc"},dataSource:{type:"string",group:"Misc"},exclusiveDataSource:{type:"string",group:"Misc"},resultViewTypes:{type:"string[]",group:"Misc",defaultValue:["searchResultList","searchResultTable"]},resultViewType:{type:"string",group:"Misc",defaultValue:"searchResultList"},resultViewSettings:{settings:{resultViewTypes:"string[]",resultViewType:"string"},group:"Misc",defaultValue:{resultViewTypes:["searchResultList","searchResultTable"],resultViewType:"searchResultList"}},tabStripsFormatter:{type:"function",group:"Misc"},folderMode:{type:"boolean",group:"Misc",defaultValue:false},folderModeForInitialSearch:{type:"boolean",group:"Misc",defaultValue:false},autoAdjustResultViewTypeInFolderMode:{type:"boolean",group:"Misc",defaultValue:false},enableQueryLanguage:{type:"boolean",group:"Misc",defaultValue:false},applicationComponent:{type:"string",group:"Misc",defaultValue:"HAN-AS-INA-UI"},facetPanelResizable:{type:"boolean",group:"Misc",defaultValue:true},facetPanelWidthInPercent:{type:"float",group:"Misc",defaultValue:25},getCustomNoResultScreen:{type:"function",group:"Misc"},getSearchInputPlaceholderLabel:{type:"function",group:"Misc"},overwriteBrowserTitle:{type:"boolean",group:"Misc"},defaultDataSource:{type:"string",group:"Misc"},optimizeForValueHelp:{type:"boolean",group:"Misc"},filterDataSources:{type:"function",group:"Misc"},facetVisibility:{type:"boolean",group:"Misc",defaultValue:false},boSuggestions:{type:"boolean",group:"Misc",defaultValue:false},displayFacetPanelInCaseOfNoResults:{type:"boolean",group:"Misc",defaultValue:false},updateUrl:{type:"boolean",group:"Misc",defaultValue:true},renderSearchUrl:{type:"function",group:"Misc"},isSearchUrl:{type:"function",group:"Misc"},parseSearchUrlParameters:{type:"function",group:"Misc"},quickSelectDataSources:{type:"object",group:"Misc"},selectionChange:{type:"function",group:"Misc"},initAsync:{type:"function",group:"Misc"},enableMultiSelectionResultItems:{type:"boolean",group:"Misc",defaultValue:false},pageSize:{type:"int",group:"Misc",defaultValue:10},formatFilterBarText:{type:"function",group:"Misc"},isFilterBarVisible:{type:"function",group:"Misc"},eventConsumers:{singularName:"eventConsumer",multiple:true,group:"Misc"},searchTermLengthLimit:{type:"int",group:"Misc",defaultValue:1e3},limitAjaxRequests:{type:"boolean",group:"Misc",defaultValue:true}},aggregations:{content:{singularName:"content",multiple:true}},events:{searchStarted:{},searchFinished:{},selectionChanged:{},resultViewTypeChanged:{}}},constructor:function e(t,s){const n=O.getInstance({label:t});let i;let a=false;try{const e=ae.unifyInputParameters(t,s);t=e.sId;s=e.settings;x(s?.applicationComponent!==undefined&&s?.applicationComponent!=="",`Provide property 'applicationComponent' (example: "LOD-ANA-LS").\nRelevant for SAP partners and SAP, the "Application Component" you expect customers to create incidents.`);x(s.exclusiveDataSource===undefined||s.exclusiveDataSource===""||s.dataSource===undefined&&s.defaultDataSource===undefined,`Property 'exclusiveDataSource' is provided ('${s.exclusiveDataSource}').\nDo NOT fill properties 'dataSource' and 'defaultDataSource'.`);i=s["model"]||s["searchModel"];if(!i){i=new o({configuration:s})}else{i.config.id=t}n.setSearchModel(i);const l=ae.getUI5ControlSettings(i.config);d.prototype.constructor.call(this,t,l);this.errorHandler=n;this._oLogger=w.getLogger("sap.esh.search.ui.SearchCompositeControl");this.addStyleClass("sapUshellSearchInputHelpPage");this.addStyleClass("sapElisaSearchCompositeControl");if(i.config.optimizeForValueHelp){this.addStyleClass("sapUshellSearchInputHelpPageValueHelp")}this.setModelInternal(i);this.setModelInternal(i.publicSearchModel,i.publicSearchModel.modelName);this.setModelInternal(new r({bundle:z}),"i18n");const u=this;this.oFocusHandler=new c.SearchFocusHandler(u);i.focusHandler=this.oFocusHandler;this.toolbarAssembler=new se(u);this.resultViewsAssembler=new oe(u);i.config.performanceLogger.enterMethod({name:"createContent"},{isSearch:true});a=true;this.createContent();i.config.performanceLogger.leaveMethod({name:"createContent"});a=false;this.oSearchCompositeControlDragDropConfig=new te({eshComp:this});F.register(this,()=>{this._resizeHandler()});this.attachEvent("searchStarted",function(){this.closePopovers()});this.initSearch()}catch(e){n.onError(e);throw e}finally{if(a){i.config.performanceLogger.leaveMethod({name:"createContent"});a=false}}},getModel:function e(t){const r=(new Error).stack;if(t!==undefined||r.includes("._setModelInternal")||r.includes("setModelInternal")||r.includes("onAllSearchFinished")||r.includes(".updateBindingContext")||r.includes(".updatePropertyValue")||r.includes("addContent")){}else{x(false,`The main model of this control is private.\nTo access the public search model, call function 'getPublicSearchModel' or bind to it (model name 'publicSearchModel').\nThe main model of this control is private and cannot be accessed (for internal use, see function 'getSearchModelInternal').`)}return this.getModelInternal(t)},setModel:function e(t,r){const s=this.getModelInternal();if(!r){x(false,`Main model cannot be set (for internal use, see function 'setModelInternal').`);return this}else if(r===s?.publicSearchModel?.modelName){x(false,`Model cannot be set, name '${s?.publicSearchModel?.modelName}' is reserved for public search model (for internal use, see function 'setModelInternal').`);return this}else{return d.prototype.setModel.call(this,t,r)}},setModelInternal:function e(t,r){return d.prototype.setModel.call(this,t,r)},initSearch:function e(){const t=this.getModelInternal();t.config.performanceLogger.enterMethod({name:"init search"},{isSearch:true});t.searchUrlParser.parse().then(()=>{t.initAsync().then(()=>{if(this.getProperty("searchOnStart")&&!t.config.isUshell){this.search()}if(t){t.config.performanceLogger.leaveMethod({name:"init search"})}})})},exit:function e(){this.closePopovers();if(this.oFilterBar){this.oFilterBar.destroy()}if(this.noResultScreen){this.noResultScreen.destroy()}if(this.noResultScreenFolder){this.noResultScreenFolder.destroy()}this.searchResultTable?.tablePersonalizer?.destroyControllerAndDialog();if(this["oFacetDialog"]){this["oFacetDialog"].destroy();this["oFacetDialog"]=null}const t=this.getModelInternal();t.unsubscribe(Z.ESHSearchStarted,this.onAllSearchStarted,this);t.unsubscribe(Z.ESHSearchFinished,this.onAllSearchFinished,this);t.unsubscribe(Z.ESHSelectionChanged,this.onSelectionChanged,this)},createContent:function e(){const t=this.getModelInternal();if(!t.config.isUshell){this.oSearchFieldGroup=new W(this.getId()+"-searchInputHelpPageSearchFieldGroup");if(t.config.exclusiveDataSource){this.oSearchFieldGroup.setSelectActive(false)}this.oSearchFieldGroup.setCancelButtonActive(false);this.oSearchFieldGroup.addStyleClass("sapUshellSearchInputHelpPageSearchFieldGroup");this.oSearchFieldGroup.input.setShowValueHelp(false);t.setProperty("/inputHelp",this.oSearchFieldGroup.input);if(t.config.optimizeForValueHelp){this.oSearchFieldGroup.setActionsMenuButtonActive(true);this.oSearchFieldGroup.setSelectQsDsActive(true);this.oSearchFieldGroup.addStyleClass("sapUiTinyMarginBegin");this.oSearchFieldGroup.addStyleClass("sapUiTinyMarginEnd")}}if(t?.subscribe){if(!this.subscribeDone_SearchStarted){t.subscribe(Z.ESHSearchStarted,this.onAllSearchStarted,this);this.subscribeDone_SearchStarted=true}if(!this.subscribeDone_SearchFinished){t.subscribe(Z.ESHSearchFinished,this.onAllSearchFinished,this);this.subscribeDone_SearchFinished=true}if(!this.subscribeDone_SelectionChanged){t.subscribe(Z.ESHSelectionChanged,this.onSelectionChanged,this);this.subscribeDone_SelectionChanged=true}if(!this.subscribeDone_ResultViewTypeChanged){t.subscribe(Z.ESHResultViewTypeChanged,this.onResultViewTypeChanged,this);this.subscribeDone_SelectionChanged=true}}if(this.oSearchFieldGroup){if(t){t.subscribe(Z.ESHSearchFinished,()=>{this.oSearchFieldGroup.input.setValue(t.getSearchBoxTerm())},this)}}this.oFilterButton=this.toolbarAssembler.assembleFilterButton();this.oDataSourceTabBar=this.toolbarAssembler.assembleDataSourceTabBar();const r=[this.oFilterButton,this.oDataSourceTabBar];const s=this.toolbarAssembler.assembleGenericButtonsToolbar();this.oGenericItemsToolbar=s.toolbar;this.oSearchBar=new m(this.getId()+"-searchBar",{width:"100%",visible:{parts:[{path:"/count"}],formatter:e=>e!==0||t?.config?.showSearchBarForNoResults},content:r.concat(this.oGenericItemsToolbar),design:Q.Transparent});this.oSearchBar.addStyleClass("sapUshellSearchBar");if(s.hasCustomButtons){this.oDataSourceTabBar.addStyleClass("sapUshellSearchBarHasCustomButtons")}else{this.oDataSourceTabBar.removeStyleClass("sapUshellSearchBarHasCustomButtons")}if(t.config.optimizeForValueHelp){this.oSearchBar.addStyleClass("sapUshellSearchBarValueHelp")}this.oFilterBar=new l(this.getId()+"-searchFilterBar");this.createSearchPage(this.getId())},onAfterRendering:function e(){const t=this?.getModelInternal();if(t?.subscribe){if(!this.subscribeDone_SearchStarted){t.subscribe(Z.ESHSearchStarted,this.onAllSearchStarted,this);this.subscribeDone_SearchStarted=true}if(!this.subscribeDone_SearchFinished){t.subscribe(Z.ESHSearchFinished,this.onAllSearchFinished,this);this.subscribeDone_SearchFinished=true}if(!this.subscribeDone_SelectionChanged){t.subscribe(Z.ESHSelectionChanged,this.onSelectionChanged,this);this.subscribeDone_SelectionChanged=true}if(!this.subscribeDone_ResultViewTypeChanged){t.subscribe(Z.ESHResultViewTypeChanged,this.onResultViewTypeChanged,this);this.subscribeDone_ResultViewTypeChanged=true}}},isShowMoreFooterVisible:function e(){const t=this.getModelInternal();return t.getProperty("/boCount")>t.getProperty("/boResults").length},assignDragDropConfig:function e(){this.oSearchCompositeControlDragDropConfig.assignDragDropConfig()},addDragDropConfig:function e(t){return this.oSearchCompositeControlDragDropConfig.addDragDropConfig(t)},insertDragDropConfig:function e(t,r){return this.oSearchCompositeControlDragDropConfig.insertDragDropConfig(t,r)},indexOfDragDropConfig:function e(t){return this.oSearchCompositeControlDragDropConfig.indexOfDragDropConfig(t)},getDragDropConfig:function e(){return this.oSearchCompositeControlDragDropConfig.getDragDropConfig()},removeDragDropConfig:function e(t){return this.oSearchCompositeControlDragDropConfig.removeDragDropConfig(t)},removeAllDragDropConfig:function e(){return this.oSearchCompositeControlDragDropConfig.removeAllDragDropConfig()},destroyDragDropConfig:function e(){return this.oSearchCompositeControlDragDropConfig.destroyDragDropConfig()},onAllSearchStarted:function e(){this.fireEvent("searchStarted")},onAllSearchFinished:function e(){const t=this.getModelInternal();this.assignDragDropConfig();this.chooseNoResultScreen();this.oFocusHandler.setFocus();if(t.config.isUshell){const e=L.getElementById("viewPortContainer");if(e?.switchState){e.switchState("Center")}}this.fireEvent("searchFinished");setTimeout(()=>{this.adjustSearchbarCustomGenericButtonWidth()},0)},onSelectionChanged:function e(){const t=this.getModelInternal();this.fireEvent("selectionChanged");if(typeof t.config.selectionChange==="function"){t.config.selectionChange(t)}},onResultViewTypeChanged:function e(){this.fireEvent("resultViewTypeChanged")},createSearchPage:function e(t){const r=this.getModelInternal();this.oFilterBar.bindProperty("visible",{parts:[{path:"/count"},{path:"/facetVisibility"},{path:"/uiFilter/rootCondition"}],formatter:(e,t,s)=>{let o=false;if(!t&&s&&s.hasFilters()){o=true}if(s&&r.filterWithoutFilterByConditions()){o=false}if(s&&typeof r.config.hasSpaceFiltersOnly==="function"){if(r.config.hasSpaceFiltersOnly(s)===true){o=false}}if(s&&typeof r.config.isFilterBarVisible==="function"){try{if(!r.config.isFilterBarVisible(s)){o=false}}catch(e){const t=new V.ConfigurationExitError("isFilterBarVisible",r.config.applicationComponent,e);this.errorHandler.onError(t)}}return o}});this.oFooter=this.createFooter(this.getId());if(this.oFooter){this.oFooter.bindProperty("visible",{parts:[{path:"/errors/length"}],formatter:e=>{const t=e>0?true:false;return t}})}this.searchContainer=this.createSearchContainer(t);let s=[];if(this.oSearchFieldGroup){s.push(this.oSearchFieldGroup)}s=s.concat([this.oSearchBar,this.oFilterBar,this.searchContainer,this.oFooter]);for(const e of s){this.addContent(e)}this.setWidth("100%")},createNoResultScreen:function e(t,r){const s=[];const o=B.Auto;let n;let i;let a;if(r==="folder"){n={parts:[{path:"/queryFilter/searchTerm"}],formatter:e=>z.getText("no_results_info_1_folderEmpty",[e])};i=z.getText("no_results_info_2_folderEmpty");a=R.EmptyList}else{n={parts:[{path:"/queryFilter/searchTerm"}],formatter:e=>z.getText("no_results_info_1",[e])};i=z.getText("no_results_info_2");a=R.NoSearchResults}const l={title:n,description:i,illustrationSize:o,illustrationType:a,additionalContent:s};let c;if(r==="folder"){c=`${t}-searchContainerResultsView-noResultFolderScreen`}else{c=`${t}-searchContainerResultsView-noResultScreen`}const u=new D(`${c}-searchContainerResultsView-noResultScreen-illustratedMessage`,l).addStyleClass("sapElisaNoResultScreen");u.addStyleClass("sapUiMediumMarginTop");const h=new I(`${c}-searchContainerResultsView-noResultScreen`,{items:u,width:"100%",justifyContent:K.Center,visible:{parts:[{path:"/count"},{path:"/isBusy"},{path:"/firstSearchWasExecuted"}],formatter:function(e,t,r){return e===0&&!t&&r}}});if(r==="folder"){this.noResultScreenFolder=h}else{this.noResultScreen=h}return h},createSearchContainer:function e(t){const r=this.getModelInternal();this.countBreadcrumbsHiddenElement=this.resultViewsAssembler.assembleCountBreadcrumbsHiddenElement();this.centerArea=this.resultViewsAssembler.assembleCenterArea(t);this.centerArea.push(this.createNoResultScreen(t,"default"));this.oSearchCountBreadcrumbs=new j(this.getId()+"-SearchCountBreadcrumbs").addStyleClass("sapElisaSearchContextBarContent");this.oContextBar=new S(this.getId()+"-searchContextBar",{contentLeft:this.oSearchCountBreadcrumbs,design:{parts:[{path:"/isFolderMode"}],formatter:e=>{if(r.config.folderMode===true&&e===true){this.oContextBar.addStyleClass("sapElisaSearchContextBarFolderMode")}else{this.oContextBar.removeStyleClass("sapElisaSearchContextBarFolderMode")}return ee.Auto}}}).addStyleClass("sapElisaSearchContextBar");this.oSearchSelectionBar=new ne(this.getId()+"-searchSelectionBar");this.oContextBarContainer=new d("",{content:[this.oSearchSelectionBar,this.oContextBar]});this.oContextBarContainer.addStyleClass("sapElisaSearchContextBarContainer");this.oContextBarContainer.addStyleClass("sapUiNoMarginBegin");this.oContextBarContainer.addStyleClass("sapUiNoMarginEnd");this.oSearchResultContainer=new $(`${t}-searchContainerResultsView`);this.centerArea.forEach(e=>{this.oSearchResultContainer.addContent(e)});this.oSearchResultPanel=new ie(`${t}-searchResultPanel`,{fixContent:[this.oContextBarContainer],flexContent:this.oSearchResultContainer});const s={resultPanelContent:this.oSearchResultPanel,searchIsBusy:{path:"/isBusy"},busyDelay:{path:"/busyDelay"},facetPanelResizable:r.config.facetPanelResizable,facetPanelWidthInPercent:r.config.facetPanelWidthInPercent,facetPanelContent:new re(`${this.getId()}-SearchFacetList`),showFacets:{parts:[{path:"/count"},{path:"/facetVisibility"},{path:"/uiFilter/rootCondition"},{path:"/isBusy"},{path:"/config"}],formatter:(e,t,r,s,o)=>{let n=true;if(!t){n=false}const i=r&&r.conditions&&r.conditions.length>0;if(e===0&&!o.displayFacetPanelInCaseOfNoResults&&!i&&!s){n=false}return n}}};const o=new n(`${this.getId()}-searchLayout`,s).addStyleClass("sapUshellSearchLayout");return o},isSearchFieldGroupLocatedInsideSearchComposite:function e(t){if(typeof t==="undefined"||t===null){return false}else if(t.classList){if(t.classList.contains("sapUshellSearchInputHelpPage")){return true}else if(typeof t.parentNode!=="undefined"){return this.isSearchFieldGroupLocatedInsideSearchComposite(t.parentNode)}else{console.error("function: isSearchFieldGroupLocatedInsideSearchComposite: Element has no property 'parentNode' but has property 'classlist'");return false}}else if(t.nodeType===Node.DOCUMENT_NODE){return false}else{console.error("function: isSearchFieldGroupLocatedInsideSearchComposite: Element has no property 'classlist'");return false}},adjustSearchbarCustomGenericButtonWidth:function e(){if(this.getDomRef()===null){return}if(this.oFilterButton.getVisible()&&this.oFilterButton.getDomRef()===null){return}const t=window.document.getElementById(this.getDomRef().id).getBoundingClientRect();const r=this.oFilterButton.getVisible()?window.document.getElementById(this.oFilterButton.getDomRef().id).getBoundingClientRect().width:0;let s=0;if(this.oDataSourceTabBar.getVisible()){const e=this.oDataSourceTabBar.getItems().reduce((e,t)=>e+t["getText"]().length,0);if(e<20){this.oDataSourceTabBar.addStyleClass("searchDataSourceTabStripBarTinyItemsTextLength");this.oDataSourceTabBar.removeStyleClass("searchDataSourceTabStripBarMediumItemsTextLength")}else if(e<45){this.oDataSourceTabBar.addStyleClass("searchDataSourceTabStripBarMediumItemsTextLength");this.oDataSourceTabBar.removeStyleClass("searchDataSourceTabStripBarTinyItemsTextLength")}else{this.oDataSourceTabBar.removeStyleClass("searchDataSourceTabStripBarTinyItemsTextLength");this.oDataSourceTabBar.removeStyleClass("searchDataSourceTabStripBarMediumItemsTextLength")}const t=this.oDataSourceTabBar.getDomRef();if(t?.id){s=window.document.getElementById(t.id).getBoundingClientRect().width}else{}}const o=t.width-r-s;const n=this.convertPixelToRem(o);if(s===0){if(n<30){this.oGenericItemsToolbar.setWidth(`${n-1.1}rem`)}else{this.oGenericItemsToolbar.setWidth(`${n-3}rem`)}}else{this.oGenericItemsToolbar.setWidth(`${n-2.75}rem`)}},_resizeHandler:function e(){setTimeout(()=>this.adjustSearchbarCustomGenericButtonWidth(),0)},convertPixelToRem:function e(t){return t/parseFloat(getComputedStyle(document.documentElement).fontSize)},createFooter:function e(t){const r=this.getModelInternal();this.oErrorPopover=new b(t+"-"+le+++"-"+"-searchMessagePopover",{placement:q.Top});this.oErrorPopover.setModel(r);r.setProperty("/messagePopoverControlId",this.oErrorPopover.getId());this.oErrorPopover.bindAggregation("items",{path:"/errors",factory:()=>{const e=new M("",{type:"{type}",title:"{title}",description:"{description}"});return e}});const s=new f(this.getId()+"-searchErrorButton",{icon:h.getIconURI("alert"),text:{parts:[{path:"/errors/length"}],formatter:function(e){return e}},visible:{parts:[{path:"/errors/length"}],formatter:e=>e>0,mode:p.OneWay},type:k.Emphasized,tooltip:z.getText("errorBtn"),press:()=>{if(this.oErrorPopover.isOpen()){this.oErrorPopover.close()}else{this.oErrorPopover.setVisible(true);this.oErrorPopover.openBy(s)}}});s.addStyleClass("sapUiSmallMarginBegin");s["addDelegate"]({onAfterRendering:()=>{const e=this.getModelInternal();if(!e.getProperty("/isErrorPopovered")){s.firePress();e.setProperty("/isErrorPopovered",true)}}});s.setLayoutData(new y("",{priority:J.NeverOverflow}));const o=new m(this.getId()+"-searchFooter",{content:[s]});o.addStyleClass("sapUiTinyMarginTop");return o},chooseNoResultScreen:function e(){const t=this.getModelInternal();let r;if(typeof t?.config?.getCustomNoResultScreen==="function"){try{const e=t.config.getCustomNoResultScreen(t.getDataSource(),t);if(e&&e.isDestroyed()){const e=new V.ConfigurationExitError("getCustomNoResultScreen",t.config.applicationComponent,new Error(`The 'no results screen' instance provided by exit 'getCustomNoResultScreen' is already destroyed.\nWe have switched to standard 'no results screen'.\nFor stability reasons, we are destroying old instances with each roundtrip unless custom 'no results screen' instance stays the same.\nThis is needed to keep a cleaned-up dom with no ghost instances (i.e. still described to events).`));this.errorHandler.onError(e);r=this.oSearchResultContainer.getNoResultScreen()}const s=this.oSearchResultContainer.getNoResultScreen();if(s!==this.noResultScreenFolder&&s!==this.noResultScreen&&s!==e){if(s instanceof u){s.destroy()}}r=e}catch(e){const s=new V.ConfigurationExitError("getCustomNoResultScreen",t.config.applicationComponent,e);this.errorHandler.onError(s);r=this.oSearchResultContainer.getNoResultScreen()}}if(!r){if(t.getProperty("/isFolderMode")){if(!this.noResultScreenFolder){this.noResultScreenFolder=this.createNoResultScreen(this.getId(),"folder")}r=this.noResultScreenFolder}else{r=this.noResultScreen}}this.oSearchResultContainer.setNoResultScreen(r)},openSortDialog:function e(){this.sortDialog.unbindAggregation("sortItems",false);this.sortDialog.bindAggregation("sortItems",{path:"/sortableAttributes",factory:()=>new C("",{key:{path:"key"},text:{path:"name"},selected:{path:"selected"}})});this.sortDialog.open()},openShowMoreDialog:function e(t){Y({searchModel:this.getModelInternal(),dimension:t,selectedTabBarIndex:0,tabBarItems:undefined,sourceControl:this})},parseURL:function e(){this.getModelInternal().parseURL();return this},getPublicSearchModel:function e(){return this.getModelInternal("publicSearchModel")},getModelInternal:function e(t){return d.prototype.getModel.call(this,t)},getSearchResultSet:function e(){let t;const r=this.getModelInternal();if(typeof r["resultSet"]==="undefined"||r["resultSet"]===null){t={items:[]}}else{t=this.getModelInternal("publicSearchModel").getProperty("/results")}return t},getResultViewTypes:function e(){const t=this.getModelInternal();return t?.getResultViewTypes()},setResultViewTypes:function e(t){const r=this.getModelInternal();if(typeof t==="undefined"){throw Error("Search Result View Type Error In SearchCompositeControl:\n\n"+"The function parameter 'resultViewTypes' is mandatory.\n"+'Valid example: setResultViewTypes(["searchResultList"])')}else if(typeof r==="undefined"||typeof r.config==="undefined"){return this}this.setResultViewSettings({resultViewTypes:t,resultViewType:r.getResultViewType()});return this},getResultViewType:function e(){const t=this.getModelInternal();return t?.getResultViewType()},setResultViewType:function e(t){const r=this.getModelInternal();if(typeof t==="undefined"){throw Error("Search Result View Type Error In SearchCompositeControl:\n\n"+"The function parameter 'resultlViewType' is mandatory.\n"+'Valid example: setResultViewType("searchResultList")')}else if(typeof r==="undefined"||typeof r.config==="undefined"){return this}this.setResultViewSettings({resultViewTypes:r.getResultViewTypes(),resultViewType:t});return this},getResultViewSettings:function e(){const t=this.getModelInternal();if(t){return{resultViewTypes:t.getResultViewTypes(),resultViewType:t.getResultViewType()}}},setResultViewSettings:function e(t){const r=this.getModelInternal();if(typeof t==="undefined"){throw Error("Search Result View Type Error In SearchCompositeControl:\n\n"+"The function parameter 'resultlViewSettings' is mandatory.\n"+'Valid example: setResultViewSettings({resultViewTypes: ["searchResultList", "searchResultTable"], resultViewType: "searchResultList"})')}else if(typeof r==="undefined"||typeof r.config==="undefined"){return this}if(typeof t.resultViewTypes==="undefined"||typeof t.resultViewType==="undefined"){throw Error("Search Result View Type Error In SearchCompositeControl:\n\n"+"One of properties of function parameter is undefined.\n"+'Valid example: setResultViewSettings({resultViewTypes: ["searchResultList", "searchResultTable"], resultViewType: "searchResultList"})')}r.calculateResultViewSwitchVisibility({resultViewTypes:t.resultViewTypes,resultViewType:t.resultViewType});this.showMoreFooter.setVisible(this.isShowMoreFooterVisible());r.enableOrDisableMultiSelection();this.search();return this},getControllerName:function e(){return"sap.esh.search.ui.container.Search"},getCssClass:function e(){return this._cssClass},setCssClass:function e(t){if(t&&!this.hasStyleClass(t)){this._cssClass=t;this.addStyleClass(t)}return this},getDataSource:function e(){if(typeof this.getModelInternal()!=="undefined"){const e=this.getModelInternal();const t=e.getDataSource();return t.id}},setDataSource:function e(t,r,s){if(typeof this.getModelInternal()!=="undefined"){const e=this.getModelInternal();e.setDataSourceById(t,r,s)}return this},resetDataSource:async function e(t=true){if(typeof this.getModelInternal()!=="undefined"){const e=this.getModelInternal();return e.resetDataSource(t)}return this},search:async function e(t=false,r=true){const s=this.getModelInternal();if(t){s.invalidateQuery()}if(r){return s.fireSearchQuery()}},resetSearch:async function e(){const t=this.getModelInternal();t.resetQuery();this.retriggerSearch()},retriggerSearch:async function e(){this.search(true,true)},invalidateSearchResultCache:async function e(){this.search(true,false)},getSearchTerm:function e(){if(typeof this.getModelInternal()!=="undefined"){const e=this.getModelInternal();return e.getSearchBoxTerm()}return ae.getMetadata().getPropertyDefaults()["searchTerm"]},setSearchTerm:function e(t,r){if(typeof this.getModelInternal()!=="undefined"){const e=this.getModelInternal();e.setSearchBoxTerm(t,r)}return this},getConfig:function e(){if(this.getModelInternal()){const e=this.getModelInternal();return e.config}return},getFilter:function e(){if(this.getModelInternal()){const e=this.getModelInternal();return e.getProperty("/uiFilter")}return},getFilterRootCondition:function e(){if(this.getModelInternal()){const e=this.getModelInternal();return e.getFilterRootCondition()}return ae.getMetadata().getPropertyDefaults()["filterRootCondition"]},updateStaticHierarchyFacet:async function e(){const t=this.getModelInternal();const r=this.getDataSource();const s=t.sinaNext.getDataSource(r).getStaticHierarchyAttributeMetadata().id;if(s){const e=t.getProperty("/facets").filter(e=>e.attributeId===s);if(e.length>0){await(e[0]?.updateTree())}}},setFilterRootCondition:function e(t,r){if(this.getModelInternal()){const e=this.getModelInternal();e.setFilterRootCondition(t,r)}return this},renderSearchUrlFromParameters:function e(t,r,s){const o=this.getModelInternal();if(!o){throw new X(null,"cannot construct URL because model is undefined")}return o.createSearchNavigationTarget({top:t,filter:r,encodeFilter:s,updateUrl:true}).targetUrl},createSearchNavigationTarget:function e(t,r){const s=this.getModelInternal();return s.createSearchNavigationTarget(t,r)},createStaticHierarchySearchNavigationTarget:function e(t,r,s,o){const n=this.getModelInternal();return n.sinaNext.createStaticHierarchySearchNavigationTarget(t,r,s,o)},addEventConsumer:function e(t){const r=this.getModelInternal();r?.eventLogger?.addConsumer(t)},getEventConsumers:function e(){const t=this.getModelInternal();return t?.eventLogger?.consumers},setEventConsumers:function e(t){const r=this.getModelInternal();r?.eventLogger?.setConsumers(t);return this},closePopovers:function e(){let t=document.getElementsByClassName("sapUshellSearchFacetDialog")[0];if(t){const e=L.getElementById(t.id);const r=e?.getButtons();for(const e of r){if(e?.getType()===k.Default){e.firePress();break}}}t=document.getElementsByClassName("sapUshellSearchResultSortDialog")[0];if(t){const e=L.getElementById(t.id);const r=e?.getButtons();for(const e of r){if(e?.getId()?.endsWith("cancelbutton")){e.firePress();break}}}t=document.getElementsByClassName("sapUshellSearchResultTablePersonalizationDialog")[0]||document.getElementsByClassName("sapMP13nPopup")[0];if(t){const e=L.getElementById(t.id);const r=e?.getButtons();for(const e of r){if(e?.getId()?.endsWith("cancelBtn")){e.firePress();break}}}t=document.getElementsByClassName("sapUshellSearchResultExportDialog")[0];if(t){const e=L.getElementById(t.id);e?.close()}t=document.getElementsByClassName("sapUshellSearchResultShareActionSheet")[0];if(t){const e=L.getElementById(t.id);e?.close()}},getInitializationStatus:function e(){return this.getModelInternal().getInitializationStatus()}});ae.eshCompCounter=0;ae.getUI5ControlSettings=function e(t){const r={};const s=ae.getMetadata().getProperties();for(const e in s){if(typeof t[e]==="undefined"){continue}r[e]=t[e]}const o=ae.getMetadata().getEvents();for(const e in o){if(typeof t[e]==="undefined"){continue}r[e]=t[e]}return r};ae.unifyInputParameters=function e(t,r){if(typeof t!=="string"&&t!==undefined&&r===undefined){r=t;t=r&&r.id}else if(typeof r==="undefined"){r={}}if(typeof t==="string"&&t.length>0){r.id=t}if(!t||t.length===0){t="eshComp"+"GenId_"+ae.eshCompCounter++;r.id=t}if(typeof t==="string"&&t.length>0&&typeof r.id!=="undefined"){if(t!==r.id){throw new Error("Constructor of component 'sap.esh.search.ui.SearchCompositeControl' has failed\n\n"+"sId and mSettings.id are not the same. It is sufficient to set either 'id' (sId) or 'settings.id' (mSettings.id).")}}return{sId:t,settings:r}};let le=1;return ae})})();
},
	"sap/esh/search/ui/SearchCompositeControlDragDropConfig.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){sap.ui.define([],function(){"use strict";class e{eshComp;dragDropConfig;constructor(e){this.eshComp=e.eshComp}assignDragDropConfig(){let e=this.getDragDropConfig();if(e.length===0){e=this.dragDropConfig||[]}if(e.length>0){let s;switch(this.eshComp.getResultViewType()){case"appSearchResult":break;case"searchResultList":if(this.eshComp.searchResultList){s=this.eshComp.searchResultList}break;case"searchResultTable":if(this.eshComp.searchResultTable){s=this.eshComp.searchResultTable}break;case"searchResultGrid":if(this.eshComp.searchResultGrid){s=this.eshComp.searchResultGrid}break}if(s){for(const r of e){s.addDragDropConfig(r)}}}}addDragDropConfig(e){switch(this.eshComp.getResultViewType()){case"appSearchResult":break;case"searchResultList":if(this.eshComp.searchResultList){this.eshComp.searchResultList.addDragDropConfig(e);this.dragDropConfig=this.getDragDropConfig();return this.eshComp.searchResultList}break;case"searchResultTable":if(this.eshComp.searchResultTable){this.eshComp.searchResultTable.addDragDropConfig(e);this.dragDropConfig=this.getDragDropConfig();return this.eshComp.searchResultTable}break;case"searchResultGrid":if(this.eshComp.searchResultGrid){this.eshComp.searchResultGrid.addDragDropConfig(e);this.dragDropConfig=this.getDragDropConfig();return this.eshComp.searchResultGrid}break;case"":this.dragDropConfig=[e]}return this}insertDragDropConfig(e,s){switch(this.eshComp.getResultViewType()){case"appSearchResult":break;case"searchResultList":if(this.eshComp.searchResultList){this.eshComp.searchResultList.insertDragDropConfig(e,s);this.dragDropConfig=this.getDragDropConfig();return this.eshComp.searchResultList}break;case"searchResultTable":if(this.eshComp.searchResultTable){this.eshComp.searchResultTable.insertDragDropConfig(e,s);this.dragDropConfig=this.getDragDropConfig();return this.eshComp.searchResultTable}break;case"searchResultGrid":if(this.eshComp.searchResultGrid){this.eshComp.searchResultGrid.insertDragDropConfig(e,s);this.dragDropConfig=this.getDragDropConfig();return this.eshComp.searchResultGrid}break;case"":setTimeout(()=>this.insertDragDropConfig(e,s),500)}return this}indexOfDragDropConfig(e){if(this.eshComp.searchResultList?.getDragDropConfig()&&this.eshComp.searchResultList?.getDragDropConfig().length>0){return this.eshComp.searchResultList.indexOfDragDropConfig(e)}else if(this.eshComp.searchResultTable?.getDragDropConfig()&&this.eshComp.searchResultTable?.getDragDropConfig().length>0){return this.eshComp.searchResultTable.indexOfDragDropConfig(e)}else if(this.eshComp.searchResultGrid?.getDragDropConfig()&&this.eshComp.searchResultGrid?.getDragDropConfig().length>0){return this.eshComp.searchResultGrid.indexOfDragDropConfig(e)}else{return-1}}getDragDropConfig(){if(this.eshComp.searchResultList?.getDragDropConfig()&&this.eshComp.searchResultList?.getDragDropConfig().length>0){return this.eshComp.searchResultList.getDragDropConfig()}else if(this.eshComp.searchResultTable?.getDragDropConfig()&&this.eshComp.searchResultTable?.getDragDropConfig().length>0){return this.eshComp.searchResultTable.getDragDropConfig()}else if(this.eshComp.searchResultGrid?.getDragDropConfig()&&this.eshComp.searchResultGrid?.getDragDropConfig().length>0){return this.eshComp.searchResultGrid.getDragDropConfig()}else{return[]}}removeDragDropConfig(e){let s=null;if(this.eshComp.searchResultList?.getDragDropConfig()&&this.eshComp.searchResultList?.getDragDropConfig().length>0){s=this.eshComp.searchResultList.removeDragDropConfig(e);this.dragDropConfig=this.getDragDropConfig()}else if(this.eshComp.searchResultTable?.getDragDropConfig()&&this.eshComp.searchResultTable?.getDragDropConfig().length>0){s=this.eshComp.searchResultTable.removeDragDropConfig(e);this.dragDropConfig=this.getDragDropConfig()}else if(this.eshComp.searchResultGrid?.getDragDropConfig()&&this.eshComp.searchResultGrid?.getDragDropConfig().length>0){s=this.eshComp.searchResultGrid.removeDragDropConfig(e);this.dragDropConfig=this.getDragDropConfig()}else{}return s}removeAllDragDropConfig(){let e=[];if(this.eshComp.searchResultList?.getDragDropConfig()&&this.eshComp.searchResultList?.getDragDropConfig().length>0){e=this.eshComp.searchResultList.removeAllDragDropConfig();this.dragDropConfig=this.getDragDropConfig()}else if(this.eshComp.searchResultTable?.getDragDropConfig()&&this.eshComp.searchResultTable?.getDragDropConfig().length>0){e=this.eshComp.searchResultTable.removeAllDragDropConfig();this.dragDropConfig=this.getDragDropConfig()}else if(this.eshComp.searchResultGrid?.getDragDropConfig()&&this.eshComp.searchResultGrid?.getDragDropConfig().length>0){e=this.eshComp.searchResultGrid.removeAllDragDropConfig();this.dragDropConfig=this.getDragDropConfig()}else{}return e}destroyDragDropConfig(){let e=this.eshComp;if(this.eshComp.searchResultList?.getDragDropConfig()&&this.eshComp.searchResultList?.getDragDropConfig().length>0){e=this.eshComp.searchResultList.destroyDragDropConfig()}else if(this.eshComp.searchResultTable?.getDragDropConfig()&&this.eshComp.searchResultTable?.getDragDropConfig().length>0){e=this.eshComp.searchResultTable.destroyDragDropConfig()}else if(this.eshComp.searchResultGrid?.getDragDropConfig()&&this.eshComp.searchResultGrid?.getDragDropConfig().length>0){e=this.eshComp.searchResultGrid.destroyDragDropConfig()}else{}this.dragDropConfig=[];return e}}return e})})();
},
	"sap/esh/search/ui/SearchConfiguration.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){sap.ui.define(["./controls/resultview/SearchResultListSelectionHandler","./controls/resultview/SearchResultListItemNote","./SearchConfigurationSettings","sap/base/Log","sap/base/assert"],function(e,t,o,s,r){"use strict";function a(e){return e&&e.__esModule&&typeof e.default!=="undefined"?e.default:e}const i=a(e);const n=a(t);const u=a(o);const c=o["defaultSearchConfigurationSettings"];const l=o["deprecatedParameters"];class d extends u{log=(()=>s.getLogger("sap.esh.search.ui.SearchConfiguration"))();dataSourceConfigurations;dataSourceConfigurations_Regexes=[];defaultDataSourceConfig=(()=>({searchResultListItem:undefined,searchResultListItemControl:undefined,searchResultListItemContent:undefined,searchResultListItemContentControl:undefined,searchResultListSelectionHandler:i["getMetadata"]().getName(),searchResultListSelectionHandlerControl:i}))();documentDataSourceConfiguration;_dataSourceLoadingProms;_loadCustomModulesProm;constructor(e){super();jQuery.extend(this,e);if(this.isUshell){this.aiNlq=true;this.readUshellConfiguration();this.readOutdatedUshellConfiguration()}this.updateConfigFromUrlParameters();this.initDataSourceConfig();this.setModulePaths();this.checkForDeprecatedParameters()}checkForDeprecatedParameters(){for(const e in l){if(e in this){if(typeof this[e]==="function"&&this[e].length===0){continue}let t=`You are using a deprecated configuration property for SearchCompositeControl which will be removed in a future release: '${e}'.`;if(l[e].replacedBy in this){this[l[e].replacedBy]=this[e];t+=`\nPlease use '${l[e].replacedBy}' instead.`}if(l[e].replacementInfo){t+=`\n${l[e].replacementInfo}`}r(false,t)}}}setModulePaths(){if(!this.modulePaths){return}for(let e=0;e<this.modulePaths.length;++e){const t=this.modulePaths[e];const o=t.urlPrefix.replace("${host}",window.location.protocol+"//"+window.location.host);jQuery.sap.registerModulePath(t.moduleName,o)}}readUshellConfiguration(){try{const e=window["sap-ushell-config"].renderers.fiori2.componentData.config.esearch;jQuery.extend(true,this,e)}catch(e){this.log.debug("Could not read ushell configuration",e)}}readOutdatedUshellConfiguration(){try{const e=window["sap-ushell-config"].renderers.fiori2.componentData.config;if(typeof e.searchBusinessObjects!=="undefined"){if(e.searchBusinessObjects==="hidden"||e.searchBusinessObjects===false){this.searchBusinessObjects=false}else{this.searchBusinessObjects=true}}}catch(e){this.log.debug("Could not read ushell configuration",e)}}initDataSourceConfig(){this.dataSourceConfigurations={};this.dataSourceConfigurations_Regexes=[];if(this.dataSources){for(let e=0;e<this.dataSources.length;e++){const t=this.dataSources[e];if(t.id){this.dataSourceConfigurations[t.id]=t}else if(t.regex){const e=t.regexFlags||undefined;const o=new RegExp(t.regex,e);if(o){t.regexObject=o;this.dataSourceConfigurations_Regexes.push(t)}}else{const e="Following datasource configuration does neither include a valid id nor a regular expression, therefore it is ignored:\n"+JSON.stringify(t);this.log.warning(e)}}}this.dataSources=undefined;this.documentDataSourceConfiguration={searchResultListItem:"sap.esh.search.ui.controls.SearchResultListItemDocument"};const e=this.dataSourceConfigurations.noteprocessorurl||{};this.dataSourceConfigurations.noteprocessorurl=e;this.dataSourceConfigurations.noteprocessorurl.searchResultListItemControl=this.dataSourceConfigurations.noteprocessorurl.searchResultListItemControl||new n;this.dataSourceConfigurations.noteprocessorurl.searchResultListSelectionHandler=this.dataSourceConfigurations.noteprocessorurl.searchResultListSelectionHandler||"sap.esh.search.ui.controls.resultview.SearchResultListSelectionHandlerNote"}getParameterType(e){if(e in l){if(l[e]){e=l[e].replacedBy}else{return"string"}}if(!c.hasOwnProperty(e)){return""}return typeof c[e]}parseBoolean(e){if(e.toLowerCase()==="true"){return true}return false}parseEsDevConfig(e){const t=JSON.parse(e);jQuery.extend(this,t)}updateConfigFromUrlParameters(){const e=this.parseUrlParameters();for(const t in e){const o=e[t];const s=this.getParameterType(t);if(t.startsWith("sina")){continue}if(t==="demoMode"){this.searchBusinessObjects=true;continue}if(t==="resultViewTypes"){let e=o.split(",");e=e.filter(e=>e.length>0);this.resultViewTypes=e;continue}if(t==="esDevConfig"){this.parseEsDevConfig(o);continue}switch(s){case"string":this[t]=o;break;case"number":this[t]=parseInt(o);break;case"boolean":this[t]=this.parseBoolean(o);break;default:}}}parseUrlParameters(){if(!URLSearchParams){return{}}const e=new URLSearchParams(window.location.search);return Object.fromEntries(e.entries())}loadCustomModulesAsync(){if(this._loadCustomModulesProm){return this._loadCustomModulesProm}let e;const t=[];for(const o in this.dataSourceConfigurations){e=this.loadCustomModulesForDataSourceIdAsync(o);t.push(e)}this._loadCustomModulesProm=Promise.all(t);return this._loadCustomModulesProm}async loadCustomModulesForDataSourcesAsync(e,t){const o=[];for(let s=0;s<e.length;s++){const r=Array.isArray(t)&&t.length>s&&t[s]||{};const a=this.loadCustomModulesForDataSourceAsync(e[s],r);o.push(a)}return Promise.all(o)}loadCustomModulesForDataSourceAsync(e,t={}){t=t||{};return this.loadCustomModulesForDataSourceIdAsync(e.id,t)}loadCustomModulesForDataSourceIdAsync(e,t){if(!e){return Promise.resolve()}this._dataSourceLoadingProms=this._dataSourceLoadingProms||{};let o=this._dataSourceLoadingProms[e];if(!o){const s=[{moduleAttrName:"searchResultListItem",controlAttrName:"searchResultListItemControl"},{moduleAttrName:"searchResultListItemContent",controlAttrName:"searchResultListItemContentControl"},{moduleAttrName:"searchResultListSelectionHandler",controlAttrName:"searchResultListSelectionHandlerControl"}];const r=this._prepareDataSourceConfigurationForDataSource(e,t);let a;const i=[];for(let t=0;t<s.length;t++){a=this._doLoadCustomModulesAsync(e,r,s[t].moduleAttrName,s[t].controlAttrName);i.push(a)}o=Promise.all(i);o._resolvedOrFailed=false;o.then(function(){o._resolvedOrFailed=true});this._dataSourceLoadingProms[e]=o}return o}_doLoadCustomModulesAsync(e,t,o,s,r,a){const i=this;return new Promise(function(n){if(t[o]&&(!t[s]||t[s]==i.defaultDataSourceConfig[s])){try{sap.ui.require([t[o].replace(/[.]/g,"/")],function(e){t[s]=e;n()})}catch(u){let c="Could not load custom module '"+t[o]+"' for data source with id '"+e+"'. ";c+="Falling back to default data source configuration.";i.log.warning(c,u);t[o]=r||i.defaultDataSourceConfig[o];t[s]=a||i.defaultDataSourceConfig[s];n()}}else{if(!t[s]){t[o]=r||i.defaultDataSourceConfig[o];t[s]=a||i.defaultDataSourceConfig[s]}n()}})}getDataSourceConfig(e){if(this._dataSourceLoadingProms&&this._dataSourceLoadingProms[e.id]&&!this._dataSourceLoadingProms[e.id]._resolvedOrFailed){return this.defaultDataSourceConfig}let t=this.dataSourceConfigurations[e.id];if(!t){t=this.defaultDataSourceConfig;this.dataSourceConfigurations[e.id]=t}return t}_prepareDataSourceConfigurationForDataSource(e,t){let o={};if(this.dataSourceConfigurations[e]){o=this.dataSourceConfigurations[e]}else{for(let t=0;t<this.dataSourceConfigurations_Regexes.length;t++){if(this.dataSourceConfigurations_Regexes[t].regexObject.test(e)){o=this.dataSourceConfigurations_Regexes[t];break}}}if(t&&t.isDocumentConnector){if(!o.searchResultListItem){o.searchResultListItem=this.documentDataSourceConfiguration.searchResultListItem}else{const t="Will attempt to load '"+o.searchResultListItem+"' instead of '"+this.documentDataSourceConfiguration.searchResultListItem+"' for data source '"+e+"'";this.log.warning(t)}}this.dataSourceConfigurations[e]=o;return o}}return d})})();
},
	"sap/esh/search/ui/SearchConfigurationSettings.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){sap.ui.define(["./performancelogging/PerformanceLogger"],function(e){"use strict";function a(e){return e&&e.__esModule&&typeof e.default!=="undefined"?e.default:e}const t=a(e);class r{id="";applicationComponent="";facetPanelResizable=true;facetPanelWidthInPercent=25;getCustomNoResultScreen=function(){return null};getSearchInputPlaceholderLabel=null;searchOnStart=true;searchTerm;filterRootCondition=null;exclusiveDataSource="";dataSource="";dataSources=[];personalizationStorage="auto";optimizeForValueHelp=false;overwriteBrowserTitle=true;defaultDataSource="";defaultSearchScopeApps=false;searchScopeWithoutAll=false;resultViewTypes=["searchResultList","searchResultTable"];fallbackResultViewType;titleColumnName="";titleColumnWidth="";extendTableColumn=null;customGridView=null;getCustomToolbar=()=>[];beforeNavigation=()=>{};filterDataSources=function(e){return e};facetVisibility=false;boSuggestions=false;folderMode=false;folderModeForInitialSearch=false;autoAdjustResultViewTypeInFolderMode=false;displayFacetPanelInCaseOfNoResults=false;sinaConfiguration=null;enableQueryLanguage=false;tabStripsFormatter=e=>e;updateUrl=true;renderSearchUrl=function(e){return"#Action-search&/top="+e.top+(e.orderby?"&orderBy="+e.orderby:"")+(e.sortorder?"&sortOrder="+e.sortorder:"")+"&filter="+e.filter};isSearchUrl=function(e){return e.indexOf("#Action-search")===0};parseSearchUrlParameters=e=>e;quickSelectDataSources=[];initAsync=()=>Promise.resolve();enableMultiSelectionResultItems=false;pageSize=10;formatFilterBarText;isFilterBarVisible;eventConsumers=[];searchTermLengthLimit=1e3;limitAjaxRequests=true;onErrorHandler=null;performanceLogger=(()=>new t)();userDefinedDatasourcesMulti=true;searchFieldCheckInterval=100;searchInAreaOverwriteMode=false;resetQuickSelectDataSourceAll=null;searchBusinessObjects=true;suggestionKeyboardRelaxationTime=400;suggestionStartingCharacters=3;modulePaths=(()=>undefined)();isUshell=false;aiNlq=false;aiSuggestions=false;aiSuggestionsHeaderHelpLink;bResetSearchTermOnQuickSelectDataSourceItemPress=false;setSearchInLabelIconBindings=null;getSearchInFacetListMode=null;setQuickSelectDataSourceAllAppearsNotSelected=null;bPlaceHolderFixedValue=false;metaDataJsonType=false;bRecentSearches=false;showSearchBarForNoResults=true;FF_sortOrderInUrl=true;FF_staticHierarchyFacets=true;FF_dynamicHierarchyFacets=true;FF_hierarchyBreadcrumbs=false;FF_dynamicHierarchyFacetsInShowMore=true;FF_resizeResultTableColumns=false;enableSearchSelectionBarStartingWith=1;searchInAttibuteFacetPostion={};cleanUpSpaceFilters=null;checkAndSetSpaceIcon=null;getFirstSpaceCondition=null;getSpaceFacetId=(()=>undefined)();dimensionNameSpace_Description="";hasSpaceFiltersOnly=(()=>undefined)();showSpaceFacetInShowMoreDialog=(()=>undefined)();openSpaceShowMoreDialog=(()=>undefined)();getPlaceholderLabelForDatasourceAll=null;selectionChange=function(){}}const l=["FF_hierarchyBreadcrumbs","folderMode","folderModeForInitialSearch","enableQueryLanguage","updateUrl","pageSize","searchInAreaOverwriteMode","limitAjaxRequests"];const n={searchBarDoNotHideForNoResults:{replacedBy:"showSearchBarForNoResults"},browserTitleOverwritten:{replacedBy:"overwriteBrowserTitle"},combinedResultviewToolbar:{},layoutUseResponsiveSplitter:{replacedBy:"facetPanelResizable",replacementInfo:"Default value is 'true', set to 'false' to make splitterbar non-resizable. You can use 'facetPanelWidthInPercent' in addition (default value: 25)."},searchFilterBarShowWithFacets:{},bNoAppSearch:{},selectionChange:{replacementInfo:"Subscribe to event 'selectionChanged' of SearchCompositeControl"},nlq:{replacedBy:"aiNlq"}};const s=new r;r.sinaParameters=l;r.deprecatedParameters=n;r.defaultSearchConfigurationSettings=s;return r})})();
},
	"sap/esh/search/ui/SearchConfigurationTypes.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){})();
},
	"sap/esh/search/ui/SearchFacetDialogHelper.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){sap.ui.define(["./i18n","sap/ui/model/Sorter","sap/ui/core/format/NumberFormat","sap/ui/core/message/MessageType","./hierarchydynamic/SearchHierarchyDynamicFacet","./SearchFacetDialogHelperDynamicHierarchy","./sinaNexTS/sina/SimpleCondition","sap/ui/core/format/DateFormat","./controls/facets/FacetTypeUI"],function(t,e,n,o,a,i,r,s,g){"use strict";function l(t){return t&&t.__esModule&&typeof t.default!=="undefined"?t.default:t}const c=l(t);const C=l(a);const d=i["updateDetailPageforDynamicHierarchy"];const T=r["SimpleCondition"];const O=g["FacetTypeUI"];class u{static searchAdvancedCondition;static dialog;static POS_FACET_LIST;static POS_TOOLBAR_SEARCHFIELD;static POS_TOOLBAR_TOGGLEBUTTON;static POS_SETTING_CONTAINER;static POS_ATTRIBUTE_LIST_CONTAINER;static POS_ICONTABBAR;static POS_TABBAR_LIST;static POS_TABBAR_CONDITION;static POS_SORTING_SELECT;static POS_SHOWONTOP_CHECKBOX;static POS_ADVANCED_CHECKBOX;static POS_ADVANCED_INPUT_LAYOUT;static POS_ADVANCED_BUTTON;static bResetFilterIsActive;static oFloatNumberFormat;static oIntegernumberFormat;static oNumberFormat;static oDateFormatOptions;static oTimestampFormatOptions;static oDateFormat;static oTimestampFormat;static oDateTimeFormat;static injectSearchAdvancedCondition(t){u.searchAdvancedCondition=t}constructor(){throw new Error("Cannot instantiate static class 'SearchFacetDialogHelper'")}static init(t){u.POS_FACET_LIST=0;u.POS_TOOLBAR_SEARCHFIELD=0;u.POS_TOOLBAR_TOGGLEBUTTON=1;u.POS_SETTING_CONTAINER=0;u.POS_ATTRIBUTE_LIST_CONTAINER=1;u.POS_ICONTABBAR=0;u.POS_TABBAR_LIST=0;u.POS_TABBAR_CONDITION=1;u.POS_SORTING_SELECT=0;u.POS_SHOWONTOP_CHECKBOX=1;u.POS_ADVANCED_CHECKBOX=0;u.POS_ADVANCED_INPUT_LAYOUT=1;u.POS_ADVANCED_BUTTON=2;u.bResetFilterIsActive=false;const e={decimals:2};u.oFloatNumberFormat=n.getFloatInstance(e);u.oIntegernumberFormat=n.getIntegerInstance();u.oDateFormatOptions={pattern:"yyyy/MM/dd",UTC:false};u.oTimestampFormatOptions={pattern:"yyyy-MM-dd HH:mm:ss.SSSSSSS",UTC:true};u.oDateFormat=s.getDateTimeInstance(u.oDateFormatOptions);u.oTimestampFormat=s.getDateTimeInstance(u.oTimestampFormatOptions);u.dialog=t}static getFacetList(){const t=u.dialog.oSplitContainer.getMasterPages()[0];return t.getContent()[u.POS_FACET_LIST]}static updateDetailPage(t,e,n){const o=u.dialog.getModel();const a=u.dialog.getModel("searchModel");const i=t.getBindingContext().sPath;const r=o.getProperty(i);const s=o.getAttributeDataType(r);const g=u.getFacetList().indexOfAggregation("items",t);const l=u.dialog.oSplitContainer.getDetailPages()[g];const c=l.getBindingContext().getObject();if(c.facetType===O.Hierarchy){const t=c;d(o,t,o.aFilters);u.dialog.oSplitContainer.toDetail(l.getId(),"show",null,null);return}let C,T,A,S;if(s==="string"||s==="text"){C=l.getContent()[u.POS_ICONTABBAR].getAggregation("items")[u.POS_TABBAR_LIST].getContent()[0].getContent()[u.POS_ATTRIBUTE_LIST_CONTAINER];T=l.getContent()[u.POS_ICONTABBAR].getAggregation("items")[u.POS_TABBAR_LIST].getContent()[0].getContent()[u.POS_ATTRIBUTE_LIST_CONTAINER].getContent()[0];A=l.getContent()[u.POS_ICONTABBAR].getAggregation("items")[u.POS_TABBAR_CONDITION].getContent()[0];S=l.getContent()[u.POS_ICONTABBAR].getAggregation("items")[u.POS_TABBAR_LIST].getContent()[0].getContent()[u.POS_SETTING_CONTAINER]}else{C=l.getContent()[u.POS_ATTRIBUTE_LIST_CONTAINER];T=l.getContent()[u.POS_ATTRIBUTE_LIST_CONTAINER].getContent()[0];A=l.getContent()[u.POS_ATTRIBUTE_LIST_CONTAINER];S=l.getContent()[u.POS_SETTING_CONTAINER]}const _=l.getId();u.dialog.oSplitContainer.toDetail(_,"show",null,null);u.dialog.resetIcons(o,i,u.dialog);C.setBusy(true);const m={sAttribute:r.dimension,sBindingPath:i,sAttributeLimit:1e3,bInitialFilters:n};if(s==="number"){m.sAttributeLimit=20}if(!o.chartQuery){o.chartQuery=o.sinaNext.createChartQuery({filter:o.getProperty("/uiFilter").clone(),dimension:r.dimension,top:1e3})}u.applyChartQueryFilter(g);if(e){const t=o.sinaNext.createSimpleCondition({attribute:r.dimension,operator:o.sinaNext.ComparisonOperator.Bw,value:e});if(!u.bResetFilterIsActive){o.chartQuery.filter.autoInsertCondition(t)}}else{if(e===undefined&&(s==="string"||s==="text")){l.getContent()[u.POS_ICONTABBAR].getAggregation("items")[u.POS_TABBAR_LIST].getContent()[0].getSubHeader().getContent()[u.POS_TOOLBAR_SEARCHFIELD].setValue("")}}o.chartQuery.filter.searchTerm=a.getSearchBoxTerm();o.facetDialogSingleCall(m).then(()=>{const t=o.getProperty(l.getBindingContext().getPath()).items;if(A.data("initial")){u.initiateAdvancedConditions(A,t,A.data("dataType"))}const e=S.getItems()[u.POS_SHOWONTOP_CHECKBOX];if(T.getSelectedContexts().length>0){e.setEnabled(true)}u.updateDetailPageListItemsSelected(T,A);u.dialog.updateDetailPageCharts(t)})}static applyChartQueryFilter(t){const e=u.dialog.getModel();e.resetChartQueryFilterConditions();const n=u.dialog.oSplitContainer.getDetailPages();for(let o=0;o<n.length;o++){const a=n[o];if(o===t||a.getContent().length===0){continue}const i=a.getBindingContext().getObject();if(i instanceof C){this.applyDynamicHierarchyChartQueryFilter(i,e);continue}let r;if(!a.getContent()[u.POS_ATTRIBUTE_LIST_CONTAINER]){r=a.getContent()[u.POS_ICONTABBAR].getAggregation("items")[u.POS_TABBAR_LIST].getContent()[0].getContent()[u.POS_ATTRIBUTE_LIST_CONTAINER].getContent()[0]}else{r=a.getContent()[u.POS_ATTRIBUTE_LIST_CONTAINER].getContent()[0]}for(let t=0;t<r.getItems().length;t++){const n=r.getItems()[t];const o=n.getBindingContext().getObject();const a=o.filterCondition;if(a.attribute||a.conditions){if(n.getSelected()&&!u.bResetFilterIsActive){e.chartQuery.filter.autoInsertCondition(a)}}}u.applyAdvancedCondition(a,u.getFacetList().getItems()[o].getBindingContext().getObject(),u.dialog.getModel())}}static applyDynamicHierarchyChartQueryFilter(t,e){for(const n of e.aFilters){const o=n;const a=o.filterCondition;if(a instanceof T&&a.attribute===t.attributeId){e.chartQuery.filter.autoInsertCondition(a.clone())}}}static resetChartQueryFilters(){const t=u.dialog.getModel();t.resetChartQueryFilterConditions();const e=u.dialog.oSplitContainer.getDetailPages();for(let t=0;t<e.length;t++){if(e[t].getContent().length===0){continue}const n=e[t].getBindingContext().getObject();if(n instanceof C){continue}let o;if(!e[t].getContent()[u.POS_ATTRIBUTE_LIST_CONTAINER]){o=e[t].getContent()[u.POS_ICONTABBAR].getAggregation("items")[u.POS_TABBAR_LIST].getContent()[0].getContent()[u.POS_ATTRIBUTE_LIST_CONTAINER].getContent()[0]}else{o=e[t].getContent()[u.POS_ATTRIBUTE_LIST_CONTAINER].getContent()[0]}for(let t=0;t<o.getItems().length;t++){const e=o.getItems()[t];const n=e.getBindingContext().getObject();const a=n.filterCondition;if(a.attribute||a.conditions){if(e.getSelected()){e.setSelected(false)}}}}}static applyAdvancedCondition(t,e,n){const a=u.dialog.getModel();let i,r,s,g,l,C,d,T;if(t.getContent()[u.POS_ATTRIBUTE_LIST_CONTAINER]){const O=t.getContent()[u.POS_ATTRIBUTE_LIST_CONTAINER];i=O.data("dataType");r=O.getContent();switch(i){case"timestamp":case"date":u.oDateTimeFormat=i==="timestamp"?u.oTimestampFormat:u.oDateFormat;for(s=1;s<r.length;s++){g=r[s];l=g.getContent()[u.POS_ADVANCED_CHECKBOX];const t=g.getContent()[u.POS_ADVANCED_INPUT_LAYOUT];if(l.getSelected()&&t.getDateValue()&&t.getSecondDateValue()){const o=new Date(t.getSecondDateValue().getFullYear(),t.getSecondDateValue().getMonth(),t.getSecondDateValue().getDate(),23,59,59);const r=u.oDateTimeFormat.format(t.getDateValue());const s=u.oDateTimeFormat.format(o);C=a.sinaNext.createSimpleCondition({attribute:e.dimension,attributeLabel:e.title,operator:a.sinaNext.ComparisonOperator.Ge,value:i==="timestamp"?t.getDateValue():r,valueLabel:r});d=a.sinaNext.createSimpleCondition({attribute:e.dimension,attributeLabel:e.title,operator:a.sinaNext.ComparisonOperator.Le,value:i==="timestamp"?o:s,valueLabel:s});T=a.sinaNext.createComplexCondition({valueLabel:t.getValue(),operator:a.sinaNext.LogicalOperator.And,conditions:[C,d],userDefined:true});if(!u.bResetFilterIsActive){n.addFilterCondition(T,false)}}}break;case"integer":case"number":u.oNumberFormat=i==="integer"?u.oIntegernumberFormat:u.oFloatNumberFormat;for(s=1;s<r.length;s++){g=r[s];l=g.getContent()[u.POS_ADVANCED_CHECKBOX];const t=g.getContent()[u.POS_ADVANCED_INPUT_LAYOUT].getContent()[0];const i=g.getContent()[u.POS_ADVANCED_INPUT_LAYOUT].getContent()[2];const O=g.getContent()[u.POS_ADVANCED_INPUT_LAYOUT].getContent()[1];const A=u.oNumberFormat.parse(t.getValue());const S=u.oNumberFormat.parse(i.getValue());if(l.getSelected()){if(!isNaN(A)&&!isNaN(S)&&S>=A){C=a.sinaNext.createSimpleCondition({attribute:e.dimension,attributeLabel:e.title,operator:a.sinaNext.ComparisonOperator.Ge,value:A,valueLabel:u.oNumberFormat.format(A),userDefined:true});d=a.sinaNext.createSimpleCondition({attribute:e.dimension,attributeLabel:e.title,operator:a.sinaNext.ComparisonOperator.Le,value:S,valueLabel:u.oNumberFormat.format(S),userDefined:true});T=a.sinaNext.createComplexCondition({valueLabel:u.oNumberFormat.format(A)+O.getText()+u.oNumberFormat.format(S),operator:a.sinaNext.LogicalOperator.And,conditions:[C,d],userDefined:true});if(!u.bResetFilterIsActive){n.addFilterCondition(T,false)}}else{const t=u.dialog.getModel("searchModel");const e={type:o.Error,title:c.getText("filterInputErrorTitle"),description:c.getText("filterInputError")};t.pushUIMessage(e);u.dialog.bConditionValidateError=true}}}break;default:break}}else{const o=t.getContent()[u.POS_ICONTABBAR].getItems()[u.POS_TABBAR_CONDITION].getContent()[0];i=o.data("dataType");r=o.getContent();let l,c,C,d,T;switch(i){case"string":for(s=0;s<r.length-1;s++){g=r[s];l=g.getContent()[u.POS_ADVANCED_INPUT_LAYOUT].getContent()[0];c=g.getContent()[u.POS_ADVANCED_INPUT_LAYOUT].getContent()[1];C=c.getValue();switch(l.getSelectedKey()){case"eq":T=a.sinaNext.ComparisonOperator.Eq;break;case"ew":T=a.sinaNext.ComparisonOperator.Ew;break;case"bw":T=a.sinaNext.ComparisonOperator.Bw;break;case"co":T=a.sinaNext.ComparisonOperator.Co;break;default:T=a.sinaNext.ComparisonOperator.Eq;break}if(c.getValue()){d=a.sinaNext.createSimpleCondition({attribute:e.dimension,attributeLabel:e.title,operator:T,value:C,valueLabel:C,userDefined:true});if(!u.bResetFilterIsActive){n.addFilterCondition(d,false)}}}break;case"text":for(s=0;s<r.length-1;s++){g=r[s];l=g.getContent()[u.POS_ADVANCED_INPUT_LAYOUT].getContent()[0];c=g.getContent()[u.POS_ADVANCED_INPUT_LAYOUT].getContent()[1];C=c.getValue();switch(l.getSelectedKey()){case"co":T=a.sinaNext.ComparisonOperator.Co;break;default:T=a.sinaNext.ComparisonOperator.Eq}if(c.getValue()){d=a.sinaNext.createSimpleCondition({attribute:e.dimension,attributeLabel:e.title,operator:T,value:C,valueLabel:C,userDefined:true});if(!u.bResetFilterIsActive){n.addFilterCondition(d,false)}}}break;default:break}}}static initiateAdvancedConditions(t,e,n){let o,a,i,r,s;const g=u.dialog.getModel();for(let l=e.length;l>0;l--){const c=e[l-1];if(c.advanced){o=t.getContent();if(n==="string"||n==="text"){a=o[o.length-2]}else{a=o[o.length-1]}i=a.getContent()[u.POS_ADVANCED_CHECKBOX];i.setSelected(true);r=a.getContent()[u.POS_ADVANCED_INPUT_LAYOUT];switch(n){case"integer":case"number":{const t=r.getContent()[0];const e=r.getContent()[2];if(c.filterCondition.conditions){for(let n=0;n<c.filterCondition.conditions.length;n++){const o=c.filterCondition.conditions[n];if(o.operator==="Ge"){t.setValue(o.valueLabel||u.oNumberFormat.format(o.value))}if(o.operator==="Le"){e.setValue(o.valueLabel||u.oNumberFormat.format(o.value))}}}break}case"string":s=c.filterCondition.operator;if(s==="Co"){r.getContent()[0].setSelectedKey("co")}else if(s==="Ew"){r.getContent()[0].setSelectedKey("ew")}else if(s==="Bw"){r.getContent()[0].setSelectedKey("bw")}r.getContent()[1].setValue(c.filterCondition.valueLabel);break;case"text":s=c.filterCondition.operator;if(s==="Co"){r.getContent()[0].setSelectedKey("co")}r.getContent()[1].setValue(c.filterCondition.valueLabel);break;default:r.setValue(c.label);break}u.insertNewAdvancedCondition(a,n);g.changeFilterAdvaced(c,true)}}t.data("initial",false)}static updateDetailPageListItemsSelected(t,e){const n=e.data("dataType");u.sortingAttributeList(t.getParent().getParent());t.getParent().setBusy(false);if(n==="date"||n==="timestamp"||n==="number"||n==="integer"){t.focus()}}static removeAdvancedCondition(t,e,n){const o=t.getContent();let a,i,r;if(n==="string"||n==="text"){for(let t=0;t<o.length-1;t++){a=o[t];i=a.getContent()[u.POS_ADVANCED_INPUT_LAYOUT].getContent()[1];if(i.getProperty("value")){const n=i.getValue();const o=e.getBindingContext().getObject();if(n===o.filterCondition.value){r=t;break}}}}t.removeContent(r)}static sortingAttributeList(t){const n=t.getContent()[u.POS_SETTING_CONTAINER];const o=n.getItems()[u.POS_SORTING_SELECT].getItems()[0];const a=n.getItems()[u.POS_SHOWONTOP_CHECKBOX];const i=t.getContent()[u.POS_ATTRIBUTE_LIST_CONTAINER].getContent()[0];const r=i.data("dataType");const s=i.getBinding("items");const g=[];if(a.getSelected()){g.push(new e("selected",true,false))}switch(o.getSelectedKey()){case"sortName":g.push(new e("label",false,false));break;case"sortCount":g.push(new e("value",true,false));if(r==="string"||r==="text"){g.push(new e("label",false,false))}break;default:break}s.sort(g)}static insertNewAdvancedCondition(t,e){const n=t.getParent();const o=new u.searchAdvancedCondition("",{type:e});if(e==="string"||e==="text"){const t=n.getContent().length-1;n.insertContent(o,t)}else{const e=n.indexOfContent(t);if(e===n.getContent().length-1){n.addContent(o)}}}static deleteAdvancedCondition(t){const e=t.getParent();const n=t.getParent().getParent().getParent().getParent().getParent();e.removeContent(t);u.updateCountInfo(n)}static updateCountInfo(t){const e=u.getFacetList();let n=e.getSelectedItem();if(!n){n=e.getItems()[0]}const o=n.getBindingContext().getModel();const a=n.getBindingContext().getPath();const i=o.getProperty(a).dimension;const r=o.aFilters;let s=0;for(const t of r){if(!t.advanced&&t.facetAttribute===i){s++}}let g;const l=o.getAttributeDataType(o.getProperty(a));if(l==="string"||l==="text"){g=t.getContent()[u.POS_ICONTABBAR].getItems()[u.POS_TABBAR_CONDITION].getContent()[0]}else{g=t.getContent()[u.POS_ATTRIBUTE_LIST_CONTAINER]}const c=g.getContent();let C=0;for(const t of c){if(typeof t.getContent==="function"){const e=t.getContent()[0];if(e.getSelected()){C++}}}const d=o.getProperty(a).facetType;if(d===O.Attribute){const t=s+C;o.setProperty(a+"/count",t);u.dialog.resetEnabledForFilterResetButton()}}}return u})})();
},
	"sap/esh/search/ui/SearchFacetDialogHelperCharts.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){sap.ui.define(["./i18n","./controls/facets/types/tabbarfacet/SearchFacetPieChart","sap/base/Log","sap/suite/ui/microchart/ComparisonMicroChart","sap/m/IconTabFilter","sap/m/Button","sap/ui/model/Filter","sap/ui/model/FilterOperator","sap/ui/core/ResizeHandler","sap/suite/ui/microchart/ComparisonMicroChartData","sap/m/ActionSheet","sap/m/library","sap/ui/core/Element"],function(t,e,a,s,r,n,i,o,c,l,h,p,d){"use strict";function g(t){return t&&t.__esModule&&typeof t.default!=="undefined"?t.default:t}const u=g(t);const f=g(e);const m=p["ValueColor"];const y=p["PlacementType"];class C{static dialog;constructor(t){C.dialog=t}static getBarChartPlaceholder(){const t={height:"90%",width:"100%",colorPalette:"",tooltip:""};const e=new s(t);e.addStyleClass("largeChart1barchart");const a=new i({path:"value",operator:o.GT,value1:0});const r={path:"items",factory:()=>{const t=new l({title:{path:"label"},value:{path:"value"},color:{path:"selected",formatter:t=>{let e=m.Good;if(!t){e=m.Neutral}return e}},tooltip:{parts:[{path:"label"},{path:"value"}],formatter:(t,e)=>t+": "+e},displayValue:{path:"valueLabel"},press:t=>{this.dialog.onDetailPageSelectionChangeCharts(t)}});return t},filters:[a]};e.bindAggregation("data",r);e.setBusyIndicatorDelay(0);return e}testWhetherPieWedgeOrLabelIsDummy(t){let e=false;try{const a=JSON.stringify(t.getParameters().data[0].data).split('"')[3];const s=a.match(/\d+/g)[0];const r=a.match(/\d+/g)[1];if(a===u.getText("facetPieChartOverflowText2",[s,r])){e=true}else if(a===u.getText("facetPieChartOverflowText2",[r,s])){e=true}}catch(t){a.debug(t)}return e}static getPieChartPlaceholder(){const t={oSearchFacetDialog:this.dialog};const e=new f("",t);e.addStyleClass("largeChart2piechart");c.register(e,function(t){let e=0;let a=0;if(t.target.firstChild){e=parseInt(window.getComputedStyle(t.target.firstChild,null).getPropertyValue("transform-origin").split(" ")[0],10);a=t.size.width/2-e;t.target.firstChild.style.marginLeft=a+"px"}});return e}static setDummyTabBarItems(t,...e){const a=[new r({text:u.getText("facetList"),icon:"sap-icon://list",key:"list"+e[0]}),new r({text:u.getText("facetBarChart"),icon:"sap-icon://horizontal-bar-chart",key:"barChart"+e[0]}),new r({text:u.getText("facetPieChart"),icon:"sap-icon://pie-chart",key:"pieChart"+e[0]})];t.setProperty("tabBarItems",a);t.chartOnDisplayIndex=0}static getDropDownButton(t){const e=[];let s;const r=t.getProperty("tabBarItems");const i=new n({icon:r[t.chartOnDisplayIndex].getIcon()});for(let a=0;a<r.length;a++){s=new n({text:r[a].getText(),icon:r[a].getIcon(),press:e=>{let a;const s=e.getSource().sId;a=document.getElementById(s).dataset.facetViewIndex;a=parseInt(a,10);t.chartOnDisplayIndex=a;if(t.chartOnDisplayIndex===0){$(".sapUshellSearchFacetDialogSettingsContainer").css("display","block")}else{$(".sapUshellSearchFacetDialogSettingsContainer").css("display","none")}t.chartOnDisplayIndexByFilterArray[t.facetOnDisplayIndex]=a;const n=r[t.chartOnDisplayIndex].getIcon();i.setIcon(n);const o=r[t.chartOnDisplayIndex].getText();const c=u.getText("displayAs",[o]);i.setTooltip(c);const l=$(".sapUshellSearchFacetDialogFacetList")[0];if(l){const t=d.getElementById(l.id);if(!t.getSelectedItem()){t.setSelectedItem(t.getItems()[0])}t.fireSelectionChange({listItem:t.getSelectedItem()})}t.controlChartVisibility(t,a)}});s.data("facet-view-index",""+a,true);e.push(s)}const o=new h({showCancelButton:true,buttons:e,placement:y.Bottom,cancelButtonPress:function(){a.info("sap.m.ActionSheet: cancelButton is pressed")}});i.addStyleClass("sapUshellSearchFacetDialogTabBarButton");const c=r[t.chartOnDisplayIndex].getText();const l=u.getText("displayAs",[c]);i.setTooltip(l);i.attachPress(function(){o.openBy(this)});return i}static getListContainersForDetailPage(){let t,e,a;const s=[];let r=0;let n=440;const i=$(".searchFacetLargeChartContainer");for(let t=0;t<i.length;t++){if(i[t].clientHeight>0){n=i[t].offsetParent.offsetParent.offsetParent.clientHeight;r=t;break}}const o=$(".searchFacetLargeChartContainer")[r];if(o){const r=d.getElementById(o.id);const i=$(".sapUshellSearchFacetDialogSubheaderToolbar .sapMSF");const c=$(".sapUshellSearchFacetDialogSortButton");const l=o.firstChild["children"];for(let s=0;s<l.length;s++){if(l[s].className){if(l[s].className.match(/sapMList/)){t=l[s]}else if(l[s].className.match(/barchart/)){e=l[s]}else if(l[s].className.match(/piechart/)){a=l[s]}}}s.push(o);s.push(r);s.push(n);s.push(t);s.push(e);s.push(a);s.push(c);s.push(i)}return s}}return C})})();
},
	"sap/esh/search/ui/SearchFacetDialogHelperDynamicHierarchy.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){sap.ui.define(["./FacetItem"],function(e){"use strict";function t(e){return e&&e.__esModule&&typeof e.default!=="undefined"?e.default:e}const i=t(e);async function a(e,t,i){function a(t,i,a){const n=t.getData().facet;const o=r(n,a);if(i){e.addFilter(o)}else{e.removeFilter(o)}}const n=t.sina.createFilter({dataSource:e.getDataSource()});const o=e.getNonFilterByFilterConditions();if(o.length>0){for(const e of o){n.autoInsertCondition(e)}}for(const e of i){n.autoInsertCondition(e.filterCondition)}t.setFilter(n);t.setHandleSetFilter(a);await t.treeNodeFactory.updateRecursively();t.updateNodesFromHierarchyNodePaths(e.getProperty("/hierarchyNodePaths"));t.mixinFilterNodes();t.treeNodeFactory.updateUI()}function r(e,t){return new i({selected:false,level:0,filterCondition:t,value:t.value,valueLabel:t.valueLabel,label:e.title,facetTitle:e.title,facetAttribute:e.attributeId,advanced:true,listed:true,icon:null,visible:true})}var n={__esModule:true};n.updateDetailPageforDynamicHierarchy=a;n.createFilterFacetItemForDynamicHierarchy=r;return n})})();
},
	"sap/esh/search/ui/SearchFacetDialogHelper_SearchAdvancedCondition_ModuleLoader.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){sap.ui.define(["sap/esh/search/ui/SearchFacetDialogHelper","sap/esh/search/ui/controls/SearchAdvancedCondition"],function(e,c){"use strict";class a{constructor(){e.injectSearchAdvancedCondition(c);c.injectSearchFacetDialogHelper(e)}}return a})})();
},
	"sap/esh/search/ui/SearchFacetDialogModel.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){sap.ui.define(["./i18n","sap/m/MessageBox","./SearchModel","sap/ui/core/library","./hierarchydynamic/SearchHierarchyDynamicFacet","./SearchFacetDialogHelperDynamicHierarchy"],function(t,e,i,r,s,a){"use strict";function n(t){return t&&t.__esModule&&typeof t.default!=="undefined"?t.default:t}const o=n(t);const l=n(i);const c=r["TextDirection"];const h=n(s);const u=a["createFilterFacetItemForDynamicHierarchy"];class d extends l{aFilters;chartQuery;searchModel;constructor(t){super({searchModel:t.searchModel,configuration:t.searchModel.config});this.searchModel=t.searchModel;this.aFilters=[]}prepareFacetList(){const t=this.getDataSource();this.setProperty("/facetDialog",this.oFacetFormatter.getDialogFacetsFromMetaData(t,this));this.initialFillFiltersForDynamicHierarchyFacets()}initialFillFiltersForDynamicHierarchyFacets(){const t=this.getProperty("/uiFilter");const e=this.getProperty("/facetDialog");for(const i of e){if(!(i instanceof h)){continue}const e=t.rootCondition.getAttributeConditions(i.attributeId);for(const t of e){const e=t;const r=u(i,e);this.aFilters.push(r)}}}facetDialogSingleCall(t){this.chartQuery.dimension=t.sAttribute;this.chartQuery.top=t.sAttributeLimit;this.chartQuery.setNlq(this.searchModel.isNlqActive());return this.chartQuery.getResultSetAsync().then(e=>{let i;if(t.bInitialFilters){i=this.oFacetFormatter.getDialogFacetsFromChartQuery(e,this,this.chartQuery.dimension)}else{i=this.oFacetFormatter.getDialogFacetsFromChartQuery(e,this,this.chartQuery.dimension,this.aFilters)}const r=jQuery.extend(true,{},i);i.items4pie=r.items;let s=0,a=0,n=0,l=0;for(let t=0;t<i.items4pie.length;t++){if(t<9){i.items4pie[t]["pieReady"]=true;if(parseInt(i.items4pie[t].value)>0){s+=parseInt(i.items4pie[t].value)}}else{i.items4pie[t]["pieReady"]=false;if(parseInt(i.items4pie[t].value)>0){a+=parseInt(i.items4pie[t].value)}}}n=a*100/(s+a);n=Math.ceil(n);l=s/9;l=Math.floor(l);if(n>0){const t=i.items4pie[0].clone();t.value=l.toString();t.label=o.getText("facetPieChartOverflowText2",[n.toString(),"9"]);t["pieReady"]=true;t.valueLabel=""+l;t["isPieChartDummy"]=true;i.items4pie.push(t)}for(let t=0;t<i.items4pie.length;t++){i.items4pie[t]["percentageMissingInBigPie"]=n}this.setProperty(t.sBindingPath+"/items4pie",i.items4pie);this.setProperty(t.sBindingPath+"/items",i.items)},t=>{const i=o.getText("searchError");const r=t.message;e.error(r,{title:i,actions:e.Action.OK,onClose:null,styleClass:"",initialFocus:null,textDirection:c.Inherit})})}resetChartQueryFilterConditions(){if(this.chartQuery){this.chartQuery.resetConditions()}const t=this.getNonFilterByFilterConditions();if(t.length>0){for(const e of t){this.chartQuery.autoInsertCondition(e)}}}hasFilterCondition(t){for(let e=0;e<this.aFilters.length;e++){if(this.aFilters[e].filterCondition.equals&&this.aFilters[e].filterCondition.equals(t)){return true}}return false}hasFilter(t){const e=t.filterCondition;return this.hasFilterCondition(e)}addFilter(t){if(!this.hasFilter(t)){this.aFilters.push(t)}}removeFilter(t){const e=t.filterCondition;for(let t=0;t<this.aFilters.length;t++){if(this.aFilters[t].filterCondition.equals&&this.aFilters[t].filterCondition.equals(e)){this.aFilters.splice(t,1);return}}}changeFilterAdvaced(t,e){const i=t.filterCondition;for(let t=0;t<this.aFilters.length;t++){if(this.aFilters[t].filterCondition.equals&&this.aFilters[t].filterCondition.equals(i)){this.aFilters[t].advanced=e;return}}}addFilterCondition(t){this.chartQuery.filter.autoInsertCondition(t)}getAttributeDataType(t){switch(t.dataType){case"Integer":return"integer";case"Double":return"number";case"Timestamp":return"timestamp";case"Date":return"date";case"String":if(t.matchingStrategy===this.sinaNext.MatchingStrategy.Text){return"text"}return"string";default:return"string"}}destroy(){super.destroy();this.oFacetFormatter.destroy()}}return d})})();
},
	"sap/esh/search/ui/SearchFacetsFormatter.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){sap.ui.define(["./error/ErrorHandler","./hierarchydynamic/SearchHierarchyDynamicFacetsFormatter","./hierarchystatic/SearchHierarchyStaticFacetsFormatter","./Facet","./FacetItem","./sinaNexTS/sina/ComparisonOperator","./controls/facets/FacetTypeUI"],function(e,t,a,r,i,o,c){"use strict";function n(e){return e&&e.__esModule&&typeof e.default!=="undefined"?e.default:e}const s=n(e);const u=n(t);const l=n(a);const d=n(r);const h=n(i);const f=o["ComparisonOperator"];const S=c["FacetTypeUI"];class p{searchFacetDialogModel;errorHandler;hierarchyDynamicFacetsFormatter;hierarchyStaticFacetsFormatter;treeQuickSelectDataSourceFacet;constructor(e){this.searchFacetDialogModel=e;this.errorHandler=s.getInstance();this.hierarchyDynamicFacetsFormatter=new u(e);this.hierarchyStaticFacetsFormatter=new l(e)}_getAncestorDataSources(e){const t=[];const a=e.dataSourceTree.findNode(e.getProperty("/uiFilter/dataSource"));if(a){const e=a.getAncestors().reverse();for(let a=0;a<e.length;a++){const r=e[a].dataSource;const i=new h({label:r.labelPlural,icon:r.icon||"sap-icon://none",filterCondition:r,level:0,value:e[a].count?e[a].count.toString():""});t.push(i)}}return t}_getSiblingDataSources(e,t){const a=[];const r=e.getProperty("/uiFilter/dataSource");const i=e.dataSourceTree.findNode(r);let o;if(i.parent&&!i.unsureWhetherNodeisBelowRoot){o=i.parent.getChildren()}else{o=[]}if(o.length===0){o.push(i)}for(let i=0,c=o.length;i<c;i++){const c=o[i].dataSource;const n=new h({label:c.labelPlural,icon:c.icon||"sap-icon://none",value:o[i].count,filterCondition:c,selected:r===c,level:t});a.push(n);if(n.selected){a.push(...this._getChildrenDataSources(e,t+1))}}return a}_getChildrenDataSources(e,t){const a=[];const r=e.getProperty("/uiFilter/dataSource");const i=e.dataSourceTree.findNode(r).getChildren();for(let e=0,r=i.length;e<r;e++){const r=i[e].dataSource;const o=new h({label:r.labelPlural,icon:r.icon||"sap-icon://none",value:i[e].count?i[e].count.toString():"",filterCondition:r,selected:false,level:t});a.push(o)}return a}getDataSourceFacetFromTree(e){const t=new d({facetType:S.DataSource,title:"Search In"});const a=e.getProperty("/uiFilter/dataSource");const r=this._getAncestorDataSources(e);t.items.push(...r);const i=this._getSiblingDataSources(e,e.allDataSource===a?0:1);t.items.push(...i);return t}_createFacetItemsFromConditionGroup(e,t){const a=[];for(let r=0;r<t.conditions.length;r++){const i=t.conditions[r];for(let t=0;t<i.conditions.length;t++){const r=i.conditions[t];let o;if(r.type===this.searchFacetDialogModel.sinaNext.ConditionType.Simple){o=r.attribute;if(e.getAttributeMetadata(o).isHierarchy){continue}a.push(new h({facetAttribute:o,label:this._formatLabel(r.valueLabel,r.operator),filterCondition:r,selected:true}))}else{o=r.conditions[0].attribute;if(e.getAttributeMetadata(o).isHierarchy){continue}a.push(new h({facetAttribute:o,label:r.valueLabel,filterCondition:r,selected:true}))}}}return a}_formatLabel(e,t){let a;switch(t){case f.Bw:a=e+"*";break;case f.Ew:a="*"+e;break;case f.Co:a="*"+e+"*";break;default:a=e;break}return a}getAttributeFacetsFromPerspective(e,t){const a=t.getDataSource();if(a.type===t.sinaNext.DataSourceType.Category){return Promise.resolve([])}const r=e.facets.filter(function(e){return e&&e.type&&e.type===t.sinaNext.FacetType.Chart});const i=[];const o={};for(const a of r){const r=new d({title:a.title,facetType:S.Attribute,dimension:a.query.dimension,totalCount:e.totalCount});if(a.items.length===0){continue}for(let e=0;e<a.items.length;e++){const i=a.items[e];let o="";if(typeof t.config.checkAndSetSpaceIcon==="function"){o=t.config.checkAndSetSpaceIcon(i.icon,a.query.dimension)}else{o=i.icon}const c=new h({facetAttribute:a.query.dimension,label:this._formatLabel(i.dimensionValueFormatted,i.filterCondition.operator),value:i.measureValue,filterCondition:i.filterCondition,icon:o});c.facetTitle=a.title;c["serverSideItem"]=true;r.items.push(c)}o[a.query.dimension]=r;i.push(r)}this.addDataTypeToClientSideFacets(i,t);const c={};const n=this._createFacetItemsFromConditionGroup(a,t.getProperty("/uiFilter/rootCondition"));for(let e=0,t=n.length;e<t;e++){const t=n[e];const a=o[t.facetAttribute];if(a){const e=i.indexOf(a);if(e>0){i.splice(e,1);i.splice(0,0,a)}for(let e=0,r=a.items.length;e<r;e++){const r=a.items[e];if(t.filterCondition.equals(r.filterCondition)){r.selected=true}}}c[t.facetAttribute]=a}return Promise.resolve(i)}addDataTypeToClientSideFacets(e,t){const a=t.getDataSource();for(let t=0;t<e.length;t++){const r=e[t];try{const e=a.getAttributeMetadata(r.dimension);r.dataType=e.type}catch(e){this.errorHandler.onError(e)}}}addQuickSelectDataSourceFacet(e,t){if(e.config.quickSelectDataSources.length===0){return}const a=e.config.quickSelectDataSources[0];let r;if(a.type==="quickSelectDataSourceTreeNode"){r=this.createTreeQuickSelectDataSourceFacet(e)}else{r=this.createListQuickSelectDataSourceFacet(e)}t.push(r)}createListQuickSelectDataSourceFacet(e){return{facetType:S.QuickSelectDataSource,items:e.config.quickSelectDataSources.map(e=>({type:"quickSelectDataSourceListItem",dataSource:e}))}}createTreeQuickSelectDataSourceFacet(e){if(!this.treeQuickSelectDataSourceFacet){this.treeQuickSelectDataSourceFacet={facetType:S.QuickSelectDataSource,items:[{type:"quickSelectDataSourceTreeNode",children:e.config.quickSelectDataSources.map(e=>this.createTreeNodeQuickSelectDataSource(e))}]}}const t=this.treeQuickSelectDataSourceFacet.items[0];this.expandPathToSelectedDataSource(e,t);return this.treeQuickSelectDataSourceFacet}expandPathToSelectedDataSource(e,t){function a(e,t){const a=[];function r(e,i){e=e.slice();e.push(i);if(i.getDataSource&&i.getDataSource()===t){a.push(e);return}if(!i.children){return}for(const t of i.children){r(e,t)}}r([],e);return a}const r=a(t,e.getDataSource());for(const e of r){for(let t=0;t<e.length-1;++t){const a=e[t];a.expanded=true}}}createTreeNodeQuickSelectDataSource(e){let t=[];if(e.children){t=e.children.map(e=>this.createTreeNodeQuickSelectDataSource(e))}return{expanded:false,type:"quickSelectDataSourceTreeNode",label:e.dataSource.labelPlural,icon:e.dataSource.icon,getDataSource:()=>e.dataSource,dataSourceId:e.dataSource.id,children:t,toggleExpand:function(){this.expanded=!this.expanded}}}async getFacets(e,t,a){const r=[];r.push(this.getDataSourceFacetFromTree(a));this.addQuickSelectDataSourceFacet(a,r);if(e===a.appDataSource||e.type===a.sinaNext.DataSourceType.Category){this.sortFacets(r,a);this.setFacetIndex(r);return r}if(!t){this.sortFacets(r,a);this.setFacetIndex(r);return r}const i=await this.hierarchyDynamicFacetsFormatter.getFacets(t,a);r.push(...i);const o=await this.hierarchyStaticFacetsFormatter.getFacets(t);r.push(...o);const c=await this.getAttributeFacetsFromPerspective(t,a);r.push(...c);this.sortFacets(r,a);this.setFacetIndex(r);return r}setFacetIndex(e){for(let t=0;t<e.length;++t){const a=e[t];if(a.setFacetIndex){a.setFacetIndex(t)}else{a.facetIndex=t}}}sortFacets(e,t){const a={[S.DataSource]:-2e3,[S.QuickSelectDataSource]:-1e3,[S.HierarchyStatic]:100,[S.Hierarchy]:1e3,[S.Attribute]:1e3};for(let r=0;r<e.length;++r){const i=e[r];i.position=r;i.position+=a[i.facetType];if(t.config.searchInAttibuteFacetPostion&&typeof t.config.searchInAttibuteFacetPostion[i.dimension]!=="undefined"){i.position=t.config.searchInAttibuteFacetPostion[i.dimension];continue}if(i.facetType===S.Attribute||i.facetType===S.Hierarchy){if(t.getFilterRootCondition().containsAttribute(i.dimension)){i.position-=500}}}e.sort((e,t)=>e.position-t.position)}getDialogFacetsFromMetaData(e,t){const a=[];const r=this.getAttributeDialogFacetsFromMetaData(e,t);a.push(...r);const i=this.hierarchyDynamicFacetsFormatter.getFacetsFromMetadata(e,t);a.push(...i);a.sort(function(e,t){return e.title.localeCompare(t.title)});this.setFacetIndex(a);return a}getAttributeDialogFacetsFromMetaData(e,t){const a=jQuery.map(e.attributeMetadataMap,function(e){return e});const r=[];for(const e of a){if((e.usage.Facet||e.usage.AdvancedSearch)&&e.isHierarchy!==true){const a=new d({title:e.label,facetType:S.Attribute,dimension:e.id,dataType:e.type,matchingStrategy:e.matchingStrategy});if(t.config.showSpaceFacetInShowMoreDialog){if(t.config.showSpaceFacetInShowMoreDialog(e.id)===false){a.visible=false}}const i=this._createFacetItemsFromConditionGroup(t.getDataSource(),t.getProperty("/uiFilter/rootCondition"));let o=0;for(let e=0,t=i.length;e<t;e++){const t=i[e];t.visible=a.visible;if(t.facetAttribute===a.dimension){o++;a.items.splice(0,0,t)}}a["count"]=o;r.push(a)}}return r}getDialogFacetsFromChartQuery(e,t,a,r){const i=new d({dimension:a});if(e){for(let t=0;t<e.items.length;t++){const a=e.items[t];const r=new h({value:a.measureValue,filterCondition:a.filterCondition,label:a.dimensionValueFormatted,facetAttribute:e.query.dimension});i.items.push(r)}let a;if(r){a=r}else{a=this._createFacetItemsFromConditionGroup(t.getDataSource(),t.getProperty("/uiFilter/rootCondition"))}for(let e=0,t=a.length;e<t;e++){const t=a[e];if(t.facetAttribute===i.dimension){let e=false;for(let a=0,r=i.items.length;a<r;a++){const r=i.items[a];if(t.filterCondition.equals(r.filterCondition)){r.selected=true;e=true}}if(!e){i.items.splice(i.items.length,0,t);if(t.filterCondition.userDefined){t.advanced=true}else{t.listed=true;t.value="";t.valueLabel=""}}else{t.listed=true}}}}return i}hasDialogFacetsFromMetaData(e){const t=e.getDataSource();const a=jQuery.map(t.attributeMetadataMap,e=>e);let r=false;for(const e of a){if(e.usage){if(e.usage.Facet||e.usage.AdvancedSearch){r=true;break}}}return r}handleDataSourceChanged(){this.hierarchyDynamicFacetsFormatter.handleDataSourceChanged();this.hierarchyStaticFacetsFormatter.handleDataSourceChanged()}destroy(){this.hierarchyDynamicFacetsFormatter.destroy();this.hierarchyDynamicFacetsFormatter=null;this.hierarchyStaticFacetsFormatter.destroy();this.hierarchyStaticFacetsFormatter=null}}return p})})();
},
	"sap/esh/search/ui/SearchFieldStateManager.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){sap.ui.define(["./SearchShellHelperHorizonTheme","sap/ui/core/Element"],function(e,t){"use strict";function s(e){return e&&e.__esModule&&typeof e.default!=="undefined"?e.default:e}const i=s(e);class a{isSearchInputFocused;isNoResultsScreen;isSearchFieldExpandedByDefault;constructor(e){this.isSearchInputFocused=e.isSearchInputFocused;this.isNoResultsScreen=e.isNoResultsScreen;this.isSearchFieldExpandedByDefault=e.isSearchFieldExpandedByDefault}equals(e){return this.isSearchInputFocused===e.isSearchInputFocused&&this.isNoResultsScreen===e.isNoResultsScreen&&this.isSearchFieldExpandedByDefault===e.isSearchFieldExpandedByDefault}toString(){return`focused:${this.isSearchInputFocused} no-results:${this.isNoResultsScreen} shall-be-expanded:${this.isSearchFieldExpandedByDefault}`}}class h{shellHeader;cancelButton;searchInput;model;isNoResultsScreen;focusInputFieldTimeout;state;checkState;checkMode;constructor(e){this.shellHeader=e.shellHeader;this.cancelButton=e.cancelButton;this.searchInput=e.searchInput;this.model=e.model;this.isNoResultsScreen=e.isNoResultsScreen;const t=this?.model?.config?.searchFieldCheckInterval??100;if(t>0){setInterval(this.checkStateChange.bind(this),t)}}checkStateChange(){const e=this.getState();if(!this.checkMode){if(!this.state||!e.equals(this.state)){this.checkMode=true;this.checkState=e}}else{if(e.equals(this.checkState)){this.handleStateChanged(e)}this.checkMode=false}}getState(){return new a({isNoResultsScreen:this.isNoResultsScreen(),isSearchInputFocused:this.isSearchInputFocused(),isSearchFieldExpandedByDefault:i.isSearchFieldExpandedByDefault()})}isOverlayShown(){return!!document.querySelector(".sapUshellShellShowSearchOverlay")}isSearchInputFocused(){if(!this.searchInput||!this.searchInput.getDomRef()){return false}return this.searchInput.getDomRef().contains(document.activeElement)}handleStateChanged(e){const t=this.state;this.state=e;if(this.model){this.model.calculateSearchButtonStatus()}const s=e.isSearchInputFocused&&!e.isNoResultsScreen;switch(this.shellHeader.getSearchState()){case"EXP":if(!e.isSearchFieldExpandedByDefault&&t&&t.isSearchFieldExpandedByDefault&&this.searchInput.getValue()===""){this.collapseSearch();return}if(s&&!this.isOverlayShown()){this.shellHeader.setSearchState("EXP_S",35,false);this.shellHeader.setSearchState("EXP",35,true)}if(!s&&this.isOverlayShown){this.shellHeader.setSearchState("EXP_S",35,false);this.shellHeader.setSearchState("EXP",35,false)}break;case"COL":if(e.isSearchFieldExpandedByDefault){this.expandSearch()}break}}getShellSearchButton(){return t.getElementById("sf")}expandSearch(e){const t=this.getShellSearchButton();if(!t){return}this.shellHeader.setSearchState("EXP",35,false);this.cancelButton.setVisible(true);t.setVisible(false);if(e){this.focusInputField({selectContent:false})}}collapseSearch(e){const s=this.getShellSearchButton();if(!s){return}this.model.abortSuggestions();this.shellHeader.setSearchState("COL",35,false);this.cancelButton.setVisible(false);s.setVisible(true);if(e){window.setTimeout(()=>{t.getElementById("sf").focus()},1e3)}}focusInputField(e={}){if(this.focusInputFieldTimeout){window.clearTimeout(this.focusInputFieldTimeout);this.focusInputFieldTimeout=null}const t=s=>{if(!this.searchInput){return}this.focusInputFieldTimeout=null;const i=this.searchInput.getDomRef();if(i&&jQuery(i).is(":visible")){if(this.searchInput.getEnabled()){this.searchInput.focus();if(e.selectContent){this.searchInput.selectText(0,9999)}return}}if(s>0){this.focusInputFieldTimeout=window.setTimeout(()=>{if(!this.model.getProperty("/initializingObjSearch")){s--}t(s)},100)}};t(10)}}return h})})();
},
	"sap/esh/search/ui/SearchHelper.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){sap.ui.define(["sap/m/MessageBox","sap/ui/core/format/FileSizeFormat","sap/ui/core/format/NumberFormat","./i18n","./UIUtil","sap/ui/core/Locale","sap/base/i18n/Localization","sap/ui/core/EventBus","sap/ui/core/Element","./SearchUtil"],function(d,u,e,t,f,c,s,n,o,i){"use strict";function r(d){return d&&d.__esModule&&typeof d.default!=="undefined"?d.default:d}const a=r(t);const l=f["registerHandler"];const h=i["SAP_ELISA_CLASSNAME_FORWARD_ELLIPSIS"];class g{onlyAsteriskRegExp=(()=>new RegExp("^[\\s*]*$"))();alphaNumeric="[a-zA-Z0-9]";nonAlphaNumeric="[^a-zA-Z0-9]";PL="(?:[\0-@[-`{-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------]|\ud800[\udc0c\udc27\udc3b\udc3e\udc4e\udc4f\udc5e-\udc7f\udcfb-\ude7f\ude9d-\ude9f\uded1-\udeff\udf20-\udf2f\udf41\udf4a-\udf4f\udf76-\udf7f\udf9e\udf9f\udfc4-\udfc7\udfd0-\udfff]|\ud801[\udc9e-\udcaf\udcd4-\udcd7\udcfc-\udcff\udd28-\udd2f\udd64-\uddff\udf37-\udf3f\udf56-\udf5f\udf68-\udfff]|\ud802[\udc06\udc07\udc09\udc36\udc39-\udc3b\udc3d\udc3e\udc56-\udc5f\udc77-\udc7f\udc9f-\udcdf\udcf3\udcf6-\udcff\udd16-\udd1f\udd3a-\udd7f\uddb8-\uddbd\uddc0-\uddff\ude01-\ude0f\ude14\ude18\ude34-\ude5f\ude7d-\ude7f\ude9d-\udebf\udec8\udee5-\udeff\udf36-\udf3f\udf56-\udf5f\udf73-\udf7f\udf92-\udfff]|\ud803[\udc49-\udc7f\udcb3-\udcbf\udcf3-\udfff]|\ud804[\udc00-\udc02\udc38-\udc82\udcb0-\udccf\udce9-\udd02\udd27-\udd4f\udd73-\udd75\udd77-\udd82\uddb3-\uddc0\uddc5-\uddd9\udddb\udddd-\uddff\ude12\ude2c-\ude7f\ude87\ude89\ude8e\ude9e\udea9-\udeaf\udedf-\udf04\udf0d\udf0e\udf11\udf12\udf29\udf31\udf34\udf3a-\udf3c\udf3e-\udf4f\udf51-\udf5c\udf62-\udfff]|\ud805[\udc35-\udc46\udc4b-\udc7f\udcb0-\udcc3\udcc6\udcc8-\udd7f\uddaf-\uddd7\udddc-\uddff\ude30-\ude43\ude45-\ude7f\udeab-\udeff\udf1a-\udfff]|\ud806[\udc00-\udc9f\udce0-\udcfe\udd00-\udebf\udef9-\udfff]|\ud807[\udc09\udc2f-\udc3f\udc41-\udc71\udc90-\udfff]|\ud808[\udf9a-\udfff]|\ud809[\udc00-\udc7f\udd44-\udfff]|[\ud80a\ud80b\ud80e-\ud810\ud812-\ud819\ud823-\ud82b\ud82d\ud82e\ud830-\ud834\ud836-\ud839\ud83c-\ud83f\ud874-\ud87d\ud87f-\udbff][\udc00-\udfff]|\ud80d[\udc2f-\udfff]|\ud811[\ude47-\udfff]|\ud81a[\ude39-\ude3f\ude5f-\udecf\udeee-\udeff\udf30-\udf3f\udf44-\udf62\udf78-\udf7c\udf90-\udfff]|\ud81b[\udc00-\udeff\udf45-\udf4f\udf51-\udf92\udfa0-\udfdf\udfe1-\udfff]|\ud821[\udfed-\udfff]|\ud822[\udef3-\udfff]|\ud82c[\udc02-\udfff]|\ud82f[\udc6b-\udc6f\udc7d-\udc7f\udc89-\udc8f\udc9a-\udfff]|\ud835[\udc55\udc9d\udca0\udca1\udca3\udca4\udca7\udca8\udcad\udcba\udcbc\udcc4\udd06\udd0b\udd0c\udd15\udd1d\udd3a\udd3f\udd45\udd47-\udd49\udd51\udea6\udea7\udec1\udedb\udefb\udf15\udf35\udf4f\udf6f\udf89\udfa9\udfc3\udfcc-\udfff]|\ud83a[\udcc5-\udcff\udd44-\udfff]|\ud83b[\udc00-\uddff\ude04\ude20\ude23\ude25\ude26\ude28\ude33\ude38\ude3a\ude3c-\ude41\ude43-\ude46\ude48\ude4a\ude4c\ude50\ude53\ude55\ude56\ude58\ude5a\ude5c\ude5e\ude60\ude63\ude65\ude66\ude6b\ude73\ude78\ude7d\ude7f\ude8a\ude9c-\udea0\udea4\udeaa\udebc-\udfff]|\ud869[\uded7-\udeff]|\ud86d[\udf35-\udf3f]|\ud86e[\udc1e\udc1f]|\ud873[\udea2-\udfff]|\ud87e[\ude1e-\udfff]|[\ud800-\udbff](?![\udc00-\udfff])|(?:[^\ud800-\udbff]|^)[\udc00-\udfff])";nonepL="(?:[^A-Za-z-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------]|\ud800[\udc00-\udc0b\udc0d-\udc26\udc28-\udc3a\udc3c\udc3d\udc3f-\udc4d\udc50-\udc5d\udc80-\udcfa\ude80-\ude9c\udea0-\uded0\udf00-\udf1f\udf30-\udf40\udf42-\udf49\udf50-\udf75\udf80-\udf9d\udfa0-\udfc3\udfc8-\udfcf]|\ud801[\udc00-\udc9d\udcb0-\udcd3\udcd8-\udcfb\udd00-\udd27\udd30-\udd63\ude00-\udf36\udf40-\udf55\udf60-\udf67]|\ud802[\udc00-\udc05\udc08\udc0a-\udc35\udc37\udc38\udc3c\udc3f-\udc55\udc60-\udc76\udc80-\udc9e\udce0-\udcf2\udcf4\udcf5\udd00-\udd15\udd20-\udd39\udd80-\uddb7\uddbe\uddbf\ude00\ude10-\ude13\ude15-\ude17\ude19-\ude33\ude60-\ude7c\ude80-\ude9c\udec0-\udec7\udec9-\udee4\udf00-\udf35\udf40-\udf55\udf60-\udf72\udf80-\udf91]|\ud803[\udc00-\udc48\udc80-\udcb2\udcc0-\udcf2]|\ud804[\udc03-\udc37\udc83-\udcaf\udcd0-\udce8\udd03-\udd26\udd50-\udd72\udd76\udd83-\uddb2\uddc1-\uddc4\uddda\udddc\ude00-\ude11\ude13-\ude2b\ude80-\ude86\ude88\ude8a-\ude8d\ude8f-\ude9d\ude9f-\udea8\udeb0-\udede\udf05-\udf0c\udf0f\udf10\udf13-\udf28\udf2a-\udf30\udf32\udf33\udf35-\udf39\udf3d\udf50\udf5d-\udf61]|\ud805[\udc00-\udc34\udc47-\udc4a\udc80-\udcaf\udcc4\udcc5\udcc7\udd80-\uddae\uddd8-\udddb\ude00-\ude2f\ude44\ude80-\udeaa\udf00-\udf19]|\ud806[\udca0-\udcdf\udcff\udec0-\udef8]|\ud807[\udc00-\udc08\udc0a-\udc2e\udc40\udc72-\udc8f]|\ud808[\udc00-\udf99]|\ud809[\udc80-\udd43]|[\ud80c\ud81c-\ud820\ud840-\ud868\ud86a-\ud86c\ud86f-\ud872][\udc00-\udfff]|\ud80d[\udc00-\udc2e]|\ud811[\udc00-\ude46]|\ud81a[\udc00-\ude38\ude40-\ude5e\uded0-\udeed\udf00-\udf2f\udf40-\udf43\udf63-\udf77\udf7d-\udf8f]|\ud81b[\udf00-\udf44\udf50\udf93-\udf9f\udfe0]|\ud821[\udc00-\udfec]|\ud822[\udc00-\udef2]|\ud82c[\udc00\udc01]|\ud82f[\udc00-\udc6a\udc70-\udc7c\udc80-\udc88\udc90-\udc99]|\ud835[\udc00-\udc54\udc56-\udc9c\udc9e\udc9f\udca2\udca5\udca6\udca9-\udcac\udcae-\udcb9\udcbb\udcbd-\udcc3\udcc5-\udd05\udd07-\udd0a\udd0d-\udd14\udd16-\udd1c\udd1e-\udd39\udd3b-\udd3e\udd40-\udd44\udd46\udd4a-\udd50\udd52-\udea5\udea8-\udec0\udec2-\udeda\udedc-\udefa\udefc-\udf14\udf16-\udf34\udf36-\udf4e\udf50-\udf6e\udf70-\udf88\udf8a-\udfa8\udfaa-\udfc2\udfc4-\udfcb]|\ud83a[\udc00-\udcc4\udd00-\udd43]|\ud83b[\ude00-\ude03\ude05-\ude1f\ude21\ude22\ude24\ude27\ude29-\ude32\ude34-\ude37\ude39\ude3b\ude42\ude47\ude49\ude4b\ude4d-\ude4f\ude51\ude52\ude54\ude57\ude59\ude5b\ude5d\ude5f\ude61\ude62\ude64\ude67-\ude6a\ude6c-\ude72\ude74-\ude77\ude79-\ude7c\ude7e\ude80-\ude89\ude8b-\ude9b\udea1-\udea3\udea5-\udea9\udeab-\udebb]|\ud869[\udc00-\uded6\udf00-\udfff]|\ud86d[\udc00-\udf34\udf40-\udfff]|\ud86e[\udc00-\udc1d\udc20-\udfff]|\ud873[\udc00-\udea1]|\ud87e[\udc00-\ude1d])";pL="(?:[A-Za-z-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------]|\ud800[\udc00-\udc0b\udc0d-\udc26\udc28-\udc3a\udc3c\udc3d\udc3f-\udc4d\udc50-\udc5d\udc80-\udcfa\ude80-\ude9c\udea0-\uded0\udf00-\udf1f\udf30-\udf40\udf42-\udf49\udf50-\udf75\udf80-\udf9d\udfa0-\udfc3\udfc8-\udfcf]|\ud801[\udc00-\udc9d\udcb0-\udcd3\udcd8-\udcfb\udd00-\udd27\udd30-\udd63\ude00-\udf36\udf40-\udf55\udf60-\udf67]|\ud802[\udc00-\udc05\udc08\udc0a-\udc35\udc37\udc38\udc3c\udc3f-\udc55\udc60-\udc76\udc80-\udc9e\udce0-\udcf2\udcf4\udcf5\udd00-\udd15\udd20-\udd39\udd80-\uddb7\uddbe\uddbf\ude00\ude10-\ude13\ude15-\ude17\ude19-\ude33\ude60-\ude7c\ude80-\ude9c\udec0-\udec7\udec9-\udee4\udf00-\udf35\udf40-\udf55\udf60-\udf72\udf80-\udf91]|\ud803[\udc00-\udc48\udc80-\udcb2\udcc0-\udcf2]|\ud804[\udc03-\udc37\udc83-\udcaf\udcd0-\udce8\udd03-\udd26\udd50-\udd72\udd76\udd83-\uddb2\uddc1-\uddc4\uddda\udddc\ude00-\ude11\ude13-\ude2b\ude80-\ude86\ude88\ude8a-\ude8d\ude8f-\ude9d\ude9f-\udea8\udeb0-\udede\udf05-\udf0c\udf0f\udf10\udf13-\udf28\udf2a-\udf30\udf32\udf33\udf35-\udf39\udf3d\udf50\udf5d-\udf61]|\ud805[\udc00-\udc34\udc47-\udc4a\udc80-\udcaf\udcc4\udcc5\udcc7\udd80-\uddae\uddd8-\udddb\ude00-\ude2f\ude44\ude80-\udeaa\udf00-\udf19]|\ud806[\udca0-\udcdf\udcff\udec0-\udef8]|\ud807[\udc00-\udc08\udc0a-\udc2e\udc40\udc72-\udc8f]|\ud808[\udc00-\udf99]|\ud809[\udc80-\udd43]|[\ud80c\ud81c-\ud820\ud840-\ud868\ud86a-\ud86c\ud86f-\ud872][\udc00-\udfff]|\ud80d[\udc00-\udc2e]|\ud811[\udc00-\ude46]|\ud81a[\udc00-\ude38\ude40-\ude5e\uded0-\udeed\udf00-\udf2f\udf40-\udf43\udf63-\udf77\udf7d-\udf8f]|\ud81b[\udf00-\udf44\udf50\udf93-\udf9f\udfe0]|\ud821[\udc00-\udfec]|\ud822[\udc00-\udef2]|\ud82c[\udc00\udc01]|\ud82f[\udc00-\udc6a\udc70-\udc7c\udc80-\udc88\udc90-\udc99]|\ud835[\udc00-\udc54\udc56-\udc9c\udc9e\udc9f\udca2\udca5\udca6\udca9-\udcac\udcae-\udcb9\udcbb\udcbd-\udcc3\udcc5-\udd05\udd07-\udd0a\udd0d-\udd14\udd16-\udd1c\udd1e-\udd39\udd3b-\udd3e\udd40-\udd44\udd46\udd4a-\udd50\udd52-\udea5\udea8-\udec0\udec2-\udeda\udedc-\udefa\udefc-\udf14\udf16-\udf34\udf36-\udf4e\udf50-\udf6e\udf70-\udf88\udf8a-\udfa8\udfaa-\udfc2\udfc4-\udfcb]|\ud83a[\udc00-\udcc4\udd00-\udd43]|\ud83b[\ude00-\ude03\ude05-\ude1f\ude21\ude22\ude24\ude27\ude29-\ude32\ude34-\ude37\ude39\ude3b\ude42\ude47\ude49\ude4b\ude4d-\ude4f\ude51\ude52\ude54\ude57\ude59\ude5b\ude5d\ude5f\ude61\ude62\ude64\ude67-\ude6a\ude6c-\ude72\ude74-\ude77\ude79-\ude7c\ude7e\ude80-\ude89\ude8b-\ude9b\udea1-\udea3\udea5-\udea9\udeab-\udebb]|\ud869[\udc00-\uded6\udf00-\udfff]|\ud86d[\udc00-\udf34\udf40-\udfff]|\ud86e[\udc00-\udc1d\udc20-\udfff]|\ud873[\udc00-\udea1]|\ud87e[\udc00-\ude1d])";onlyAsterisk;aSearchTerms;bDisjunctionType;globalBold;bold;highlightStyle;constructor(d,u,e,t){d=d||"*";if(this.onlyAsteriskRegExp.test(d)){this.onlyAsterisk=true}d=d.replace(/([.^=!:${}()|\+\-\[\]\/\\])/g,"\\$1");this.aSearchTerms=this.tokenizeSearchTerms(d);for(let d=0;d<this.aSearchTerms.length;++d){let u=this.aSearchTerms[d];u=u.replace(/\?/g,".");u=u.replace(/\*/g,".*?");const t=u.match(/[\u3400-\u9faf]/)!==null;if(t||e){u=new RegExp(u,"gi")}else{if(u.substr(-3)===".*?"){u=u.substr(0,u.length-3)+this.pL+"*"}u=new RegExp("("+this.nonepL+"|^|\\s)("+u+")()","gi")}this.aSearchTerms[d]=u}this.highlightStyle=u;if(!t){t="and"}this.bDisjunctionType=t}test(d){const u={bMatch:false,sHighlightedText:""};if(!d){return u}this.initializeBoldArray(d);this.globalBold=false;let e;let t;for(let f=0;f<this.aSearchTerms.length;++f){e=this.aSearchTerms[f];let c=-1;let s=false;while((t=e.exec(d))!==null){s=true;if(e.lastIndex===c){break}c=e.lastIndex;const u=this.calStartIndex(d,t.index);if(u<0){continue}c=this.calLastIndex(d,u,e.lastIndex);this.markBoldArray(u,c)}switch(this.bDisjunctionType){case"or":if(s){u.bMatch=true}break;case"and":default:if(!s){return u}break}}u.bMatch=true;if(this.onlyAsterisk){u.sHighlightedText=d}else{u.sHighlightedText=this.render(d)}return u}calStartIndex(d,u){d=d.substring(u);const e=new RegExp(this.pL);const t=e.exec(d);if(!t){return u}return t.index+u}calLastIndex(d,u,e){d=d.substring(e,e);const t=new RegExp(this.nonepL);const f=t.exec(d);if(!f){return e}return e-1}tokenizeSearchTerms(d){const u=d.split(" ");const e=[];$.each(u,(d,u)=>{u=$.trim(u);if(u.length>0&&u!==".*"){e.push(u)}});return e}initializeBoldArray(d){this.bold=new Array(d.length);for(let d=0;d<this.bold.length;++d){this.bold[d]=false}}markBoldArray(d,u){for(let e=d;e<u;e++){this.bold[e]=true;this.globalBold=true}}render(d){if(!this.globalBold){return d}let u=false;const e=[];let t=0;let f;for(f=0;f<d.length;++f){if(!u&&this.bold[f]||u&&!this.bold[f]){e.push(d.substring(t,f));if(u){e.push("</b>")}else{if(this.highlightStyle){e.push('<b class="'+this.highlightStyle+'">')}else{e.push("<b>")}}u=!u;t=f}}e.push(d.substring(t,f));if(u){e.push("</b>")}return e.join("")}}function b(d,u){let e=null;const t=function(...t){const f=this;if(e){window.clearTimeout(e)}e=window.setTimeout(function(){e=null;d.apply(f,t)},u)};t.abort=function(){if(e){window.clearTimeout(e)}};return t}function p(d,u){let e=0;const t=(...u)=>{const t=++e;const f=new Promise((f,c)=>{d.apply(this,u).then(d=>{if(t!==e){return}f(d)}).catch(d=>{if(t!==e){return}c(d)})});return f};t.abort=()=>{++e};if(u){y.registerDecorator(u,t)}return t}function m(d){const u=y.getDecorators(d);for(const d of u){d.abort()}}const y={decoratorMap:{},registerDecorator:function(d,u){let e=this.decoratorMap[d];if(!e){e=[];this.decoratorMap[d]=e}e.push(u)},getDecorators:function(d){let u=this.decoratorMap[d];if(!u){u=[]}return u}};function S(d){if(!d){return}let u;if(typeof d["getItems"]==="function"){u=d["getItems"]()}else if(typeof d["getContent"]==="function"){u=d["getContent"]()}if(u){for(let d=0;d<u.length;d++){const e=u[d];let t;if(e.getBindingContext()){t=e.getBindingContext().getObject()}else if(e.getBindingContext("publicSearchModel")){t=e.getBindingContext("publicSearchModel").getObject()}if(t?.customItemStyleClass){e.addStyleClass(t.customItemStyleClass)}else{}}}}function x(d,u){if(!d){return}let e=d.innerHTML;e=w(e,u);if(d.innerHTML!==e){d.innerHTML=e}}function w(d,u){let e="";let t="";if(u){e='&lt;b class="'+u+'"&gt;';t='<b class="'+u+'">'}else{e="&lt;b&gt;";t="<b>"}const f="&lt;/b&gt;";const c="</b>";while(d.indexOf(e)+d.indexOf(f)>=-1){d=d.replace(e,t);d=d.replace(f,c)}while(d.indexOf("&lt;i&gt;")+d.indexOf("&lt;/i&gt;")>=-1){d=d.replace("&lt;i&gt;","<i>");d=d.replace("&lt;/i&gt;","</i>")}while(d.indexOf("&lt;span&gt;")+d.indexOf("&lt;/span&gt;")>=-1){d=d.replace("&lt;span&gt;","<span>");d=d.replace("&lt;/span&gt;","</span>")}return d}function R(d){const u=$(d);const e=u.text().replace(/<b>/gi,"").replace(/<\/b>/gi,"");if(e.indexOf("<")===-1){u.html(u.text())}}function C(){return window.location.href.substring(window.location.href.indexOf("#"))||"#"}function I(){const d=M(C());return d}function M(d){const u={};const e=[{name:"filter",pos:-1,value:""},{name:"top",pos:-1,value:""},{name:"datasource",pos:-1,value:""},{name:"searchterm",pos:-1,value:""},{name:"orderby",pos:-1,value:""},{name:"sortorder",pos:-1,value:""}];for(let u=0;u<e.length;u++){e[u].pos=d.toLowerCase().indexOf(e[u].name+"=")}e.sort(function(d,u){return d.pos-u.pos});for(let t=0;t<e.length;t++){if(e[t].pos!==-1){if(e[t+1]&&e[t+1].pos!==-1){e[t].value=d.substring(e[t].pos,e[t+1].pos)}else{e[t].value=d.substring(e[t].pos)}e[t].value=e[t].value.substring(e[t].name.length+1);if(e[t].value.charAt(e[t].value.length-1)==="&"){e[t].value=e[t].value.substring(0,e[t].value.length-1)}e[t].value=window.decodeURIComponent(e[t].value);u[e[t].name]=e[t].value}}return u}function T(){if(C().substr(1,13)==="Action-search"){return true}return false}const A={hash:null,setHash:function(d){if(window.decodeURIComponent(C())!==window.decodeURIComponent(d)){try{window.location.hash=d}catch(d){this.showUrlUpdateError(d)}}this.hash=d},init:function(){this.hash=C()},reset:function(){this.hash=null},hasChanged:function(){if(window.decodeURIComponent(this.hash)!==window.decodeURIComponent(C())){return true}return false},showUrlUpdateError:function(){if(this.urlError){return}this.urlError=true;const u=a.getText("searchUrlErrorMessage");d.warning(u,{title:a.getText("searchUrlErrorTitle")})}};const L={};function v(d,u,e,t){if(L[d]){L[d].unsubscribe()}const f=function(){e.apply(t);n.getInstance().unsubscribe(u,f,t)};n.getInstance().subscribe(u,f,t);L[d]={unsubscribe:function(){n.getInstance().unsubscribe(u,f,t)}}}function D(d){if(d&&d.nodeType){if(jQuery(d).is(":visible")){return true}}if(d&&d.getMetadata()&&d.getMetadata().getName()){if(d.getDomRef&&d.getDomRef()){return true}}return false}class U{oSearchComposite;oModel;focusSetter;constructor(d){this.oSearchComposite=d}get2BeFocusedControlDomRef(){if(!this.oModel){this.oModel=this.oSearchComposite.getModelInternal()}let d=0;let u=null;let e=null;let t=false;let f=false;let c=false;if(this.oModel.getDataSource()!==this.oModel.appDataSource){if(this.oModel.getProperty("/boCount")>0&&this.oModel.getProperty("/appCount")>0){d=this.oModel.getProperty("/focusIndex");d=d>0?d+1:d;u=this.oSearchComposite.searchResultList.getItems()[d];if(u&&u.getDomRef){e=u.getDomRef()}}else if(this.oModel.getProperty("/boCount")>0&&this.oModel.getProperty("/appCount")===0){d=this.oModel.getProperty("/focusIndex");t=this.oModel.getResultViewType()==="searchResultList";f=this.oModel.getResultViewType()==="searchResultTable";c=this.oModel.getResultViewType()==="searchResultGrid";if(t){u=this.oSearchComposite["searchResultList"].getItems()[d]}else if(f){u=this.oSearchComposite["searchResultTable"].getItems()[d]}else if(c){if(this.oSearchComposite.searchResultGrid.getAggregation("items")){u=this.oSearchComposite.searchResultGrid.getAggregation("items")[d]}else if(this.oSearchComposite.searchResultGrid["getContent"]&&this.oSearchComposite.searchResultGrid["getContent"]()){u=this.oSearchComposite.searchResultGrid["getContent"]()[d]}}if(u&&u.getDomRef){e=u.getDomRef()}}else if(this.oModel.getProperty("/boCount")===0&&this.oModel.getProperty("/appCount")>0){u=this.oSearchComposite["searchResultList"].getItems()[0];if(D(u)){e=E($(u.getDomRef()))}}}else{const u=this.oSearchComposite["appSearchResult"].getContent()[0];if(u.getDomRef()===null){return null}d=this.oModel.getProperty("/focusIndex");u["_oItemNavigation"].setFocusedIndex(d);e=u.getDomRef()}return e}setFocus(){const d=this;let u=20;const e=function(){d.focusSetter=null;let t=d.get2BeFocusedControlDomRef();if(u===20){t=null}if(!t||jQuery(".sapUshellSearchTileContainerDirty").length>0||jQuery(".sapMBusyDialog").length>0){if(--u){d.focusSetter=setTimeout(e,100)}return}t.focus();if(d.oModel.getProperty("/focusIndex")===0){const d=o.getElementById(t.getAttribute("id"));if(d&&d.getAggregation("content")&&d.getAggregation("content")[0]){const u=d.getAggregation("content")[0];if(u.showDetails){u.showDetails()}}}};if(this.focusSetter){clearTimeout(this.focusSetter);this.focusSetter=null}e()}}function E(d){return jQuery(d).find("[tabindex], button")[0]}let P;let B;const O=new c(s.getLanguageTag().toString());function k(d){if(!P){P=e.getIntegerInstance({style:"short",precision:3,groupingEnabled:true},O)}if(!B){B=e.getIntegerInstance({style:"standard",precision:3,groupingEnabled:true},O)}if(Math.abs(d)>=99950){return P.format(d)}return B.format(d)}let F;function j(d){if(!F){F=u.getInstance({binaryFilesize:true},O)}return F.format(d)}function H(d){const u=$(d);l("tooltip-mouseenter",u.find(".sapUshellSearchResultListItem-MightOverflow"),"mouseenter",function(){const d=$(this);const e=h;const t=d.text();const f=d.attr("title");let c;const s=d.attr("data-tooltippedby");const n=o(this,"sapUshellSearchLinkLink","sapMLnkText");function o(d,u,e){if(d.classList.contains(u)){return d.querySelector(`.${e}`)||d}return d}if(s){const d=u.find("#"+s);c=d.text()}if(!d.attr("title")&&(n.offsetWidth<n.scrollWidth||n.offsetHeight<n.scrollHeight||this.classList.contains(e)&&this.dataset.originalcontent)||c&&t!==c){if(!c){if(this.classList.contains(e)&&this.dataset.originalcontent){c=this.dataset.originalcontent}else{c=d.text()}}d.attr("title",c)}else if(f===d.text()){d.removeAttr("title")}});l("tooltip-mouseout",u.find(".sapUshellSearchResultListItem-MightOverflow"),"mouseout",function(){const d=$(this);let e;const t=d.attr("data-tooltippedby");if(t){const d=u.find("#"+t);e=d.text()}if(!e){e=d.text()}const f=d.attr("title");if(f===e){d.removeAttr("title")}})}function z(d){if(d.finally){const u=jQuery.Deferred();d.then(function(){u.resolve.apply(u,arguments)},function(){u.reject.apply(u,arguments)});return u}else{return d}}function _(d){if(d.always){return new Promise(function(u,e){d.then(u,e)})}else{return d}}function Q(d){return new Promise(function(u){sap.ui.require(d,function(...d){u(Array.from(d))})})}function G(d,u){if(!Array.isArray(d)||d.length===0){return false}if(!Array.isArray(u)||u.length===0){return false}let e=true;for(let t=0;t<d.length;t++){if(!u.includes(d[t])){e=false;break}}return e}var N={__esModule:true};N.Tester=g;N.delayedExecution=b;N.refuseOutdatedRequests=p;N.abortRequests=m;N.resultItemCustomStyleClassSetter=S;N.boldTagUnescaper=x;N.boldTagUnescaperForStrings=w;N.boldTagUnescaperByText=R;N.getHashFromUrl=C;N.getUrlParameters=I;N.parseUrlParameters=M;N.isSearchAppActive=T;N.hasher=A;N.subscribeOnlyOnce=v;N.SearchFocusHandler=U;N.getFocusableTileDomRef=E;N.formatInteger=k;N.formatFileSize=j;N.attachEventHandlersForTooltip=H;N.convertPromiseTojQueryDeferred=z;N.convertJQueryDeferredToPromise=_;N.requireUI5Modules=Q;N.isSubsetOf=G;return N})})();
},
	"sap/esh/search/ui/SearchHelperSequentializeDecorator.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){sap.ui.define([],function(){"use strict";function t(t){let n;return function(...e){if(!n){n=t.apply(this,e)}else{n=n.then(()=>t.apply(this,e),()=>t.apply(this,e))}const i=n;i.finally(()=>{if(i===n){n=null}}).catch(()=>{});return n}}var n={__esModule:true};n.sequentializedExecution=t;return n})})();
},
	"sap/esh/search/ui/SearchModel.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){sap.ui.define(["./i18n","sap/base/Log","./error/ErrorHandler","sap/esh/search/ui/SearchHelper","sap/ui/model/json/JSONModel","sap/esh/search/ui/SearchResultFormatter","sap/esh/search/ui/SearchTabStripsFormatter","sap/esh/search/ui/SearchResultTableFormatter","sap/esh/search/ui/SearchFacetsFormatter","sap/esh/search/ui/BreadcrumbsFormatter","sap/esh/search/ui/suggestions/SuggestionHandler","sap/esh/search/ui/SearchConfiguration","sap/esh/search/ui/personalization/PersonalizationStorage","sap/esh/search/ui/personalization/keyValueStoreFactory","sap/esh/search/ui/eventlogging/EventLogger","sap/esh/search/ui/SearchUrlParser","sap/esh/search/ui/cFLPUtil","sap/esh/search/ui/usercategories/UserCategoryManager","sap/esh/search/ui/error/errors","sap/esh/search/ui/RecentlyUsedStorage","./eventlogging/UserEvents","./sinaNexTS/sina/SinaConfiguration","./sinaNexTS/sina/sinaFactory","./sinaNexTS/core/Log","./SearchResultItemMemory","./FolderModeUtils","sap/ui/core/message/MessageType","./sinaNexTS/sina/HierarchyDisplayType","./UIEvents","./SearchShellHelperHorizonTheme","./SearchConfigurationSettings","sap/base/util/merge","sap/base/assert","sap/ui/Device","sap/ui/core/EventBus","./BusyIndicator","./sinaNexTS/sina/Filter","./SinaConfigurator","./UrlUtils","./suggestions/SearchSuggestionFactory","./PublicSearchModel","./personalization/PersonalizationKeys"],function(e,t,r,s,i,o,a,n,l,h,c,u,f,p,g,y,d,S,b,P,m,C,T,F,w,R,D,v,A,E,M,I,x,B,V,O,N,_,L,H,U,q){"use strict";function z(e){return e&&e.__esModule&&typeof e.default!=="undefined"?e.default:e}const j=z(e);const Q=z(r);const k=a["Formatter"];const W=b["UrlParseError"];const G=m["UserEventType"];const K=C["AvailableProviders"];const J=F["Severity"];const Y=z(w);const X=R["FolderModeResultViewTypeCalculator"];const Z=v["HierarchyDisplayType"];const ee=z(A);const te=z(E);const re=M["sinaParameters"];const se=O["BusyIndicator"];const ie=N["Filter"];const oe=_["SinaConfigurator"];const ae=L["renderUrlFromParameters"];const ne=H["createSearchSuggestionForCurrentSearch"];const le=z(U);const he=q["PersonalizationKeys"];const ce=i.extend("sap.esh.search.ui.SearchModel",{constructor:function e(r){i.prototype.constructor.call(this,[]);this.searchTermHandlers=[];this.logger=t.getLogger("sap.esh.search.ui.SearchModel");i.prototype.setProperty.call(this,"/errors",[]);this.errorHandler=Q.getInstance();this.errorHandler.setSearchModel(this);const o=r||{};this.config=new u(o?.configuration);this.errorHandler.setExternalOnErrorHandler(this.config.onErrorHandler);this.publicSearchModel=new le({modelName:le.defaultModelName,internalSearchModel:this});this.searchResultSetItemMemory=new Y;this.setSizeLimit(1e3);this._suggestionHandler=new c({model:this});this.folderModeResultViewTypeCalculator=new X(this);this._performanceLoggerSearchMethods=[];this._searchApplicationsRefuseOutdatedReq=s.refuseOutdatedRequests(this.searchApplications.bind(this),"search");this.pageSize=this.config.pageSize||10;this.appTopDefault=20;this.boTopDefault=this.pageSize;this.filterChanged=false;this.busyIndicator=new se(this);this.setProperty("/isQueryInvalidated",true);this.setProperty("/busyDelay",0);this.setProperty("/sortableAttributes",[]);this.setProperty("/results",[]);this.setProperty("/appResults",[]);this.setProperty("/boResults",[]);this.resetTableData();this.setProperty("/breadcrumbsHierarchyNodePaths",[]);this.setProperty("/breadcrumbsHierarchyAttribute","");this.setProperty("/hierarchyNodePaths",[]);this.setProperty("/isFolderMode",false);this.setProperty("/origBoResults",[]);this.setProperty("/count",0);this.setProperty("/countText","");this.setProperty("/boCount",0);this.setProperty("/appCount",0);this.setProperty("/facets",[]);this.setProperty("/dataSources",[this.allDataSource,this.appDataSource]);this.setProperty("/appSearchDataSource",null);this.setProperty("/currentPersoServiceProvider",null);this.setProperty("/businessObjSearchEnabled",true);this.setProperty("/initializingObjSearch",false);this.setProperty("/suggestions",[]);this.setProperty("/resultViewTypes",[]);this.setProperty("/resultViewType","");this.setProperty("/resultViewSwitchVisibility",false);this.setProperty("/documentTitle","Search");this.setProperty("/top",this.boTopDefault);this.setProperty("/orderBy",{});this.setProperty("/facetVisibility",false);this.setProperty("/focusIndex",0);this.setProperty("/isErrorPopovered",false);this.setProperty("/nlqExplanation",{});this.setProperty("/nlqResult",{success:false,filterDescription:""});this.setProperty("/firstSearchWasExecuted",false);this.setProperty("/multiSelectionAvailable",false);this.setProperty("/multiSelectionEnabled",false);this.setProperty("/multiSelection/actions",[]);this.setProperty("/multiSelectionSelected",false);this.setProperty("/multiSelectionObjects",[]);this.setProperty("/singleSelectionSelected",false);this.setProperty("/inputHelpSelectedItems",null);this.setProperty("/inputHelp",null);this.setProperty("/config",this.config);this.setProperty("/searchInLabel","");this.setProperty("/searchInIcon","sap-icon://none");this.setProperty("/searchButtonStatus","Search");this.setProperty("/isNlqActive",false);this._subscribers=[];this.searchUrlParser=new y({model:this});this._userCategoryManagerPromise=null;this._tempDataSources=[];this.tableFormatter=undefined;if(o?.searchModel?.initAsyncPromise){this.initAsyncPromise=o.searchModel.initAsyncPromise;this.oFacetFormatter=new l(this)}this.initializationStatus=this.initAsync();this.initAsyncPromise=this.initializationStatus.catch(()=>{})},getInitializationStatus:async function e(){try{await this.initializationStatus;return{success:true}}catch(e){return{success:false,error:e}}},initAsync:async function e(){if(this.initAsyncPromise){return this.initAsyncPromise}this.setProperty("/initializingObjSearch",true);this.busyIndicator.setBusy(true);const t={label:j.getText("genericLoading"),labelPlural:j.getText("genericLoading"),enabled:false,id:"$$Loading$$"};this.setProperty("/dataSource",t);this.setProperty("/dataSources",[t]);try{const e=await p.create(this.config.personalizationStorage,this.config.isUshell,this.config.id);this.setPersonalizationStorageInstance(new f(e,this));if(this.config.bRecentSearches){this.recentlyUsedStorage=new P({personalizationStorage:this._personalizationStorage,searchModel:this})}this.initFacetVisibility();this.sinaNext=await this.createSina();this.sinaNext.createSearchNavigationTarget=this.createSearchNavigationTarget.bind(this);this.createAllAndAppDataSource();this.calculateIsNlqActive();if(this.isMyFavoritesAvailable()){this.userCategoryManager=await S.create({sina:this.sinaNext,personalizationStorage:this._personalizationStorage})}const t={sinaNext:this.sinaNext,searchModel:this,eventConsumers:this.config.eventConsumers};this.eventLogger=new g(t);await this.eventLogger.initAsync();const r={type:G.SESSION_START};this.eventLogger.logEvent(r);this.setProperty("/defaultDataSource",this.calculateDefaultDataSource());if(this.sinaNext.provider.id==="dummy"){this.setProperty("/defaultDataSource",this.appDataSource);this.setProperty("/businessObjSearchEnabled",false);this.config.searchBusinessObjects=false;this.setFacetVisibility(false,false)}if(this.sinaNext.provider.id==="inav2"&&this.config.isUshell){sap.ui.require(["sap/ushell/System"],e=>{sap.ushell["Container"].addRemoteSystem(new e({alias:"ENTERPRISE_SEARCH",platform:"abap",baseUrl:"/ENTERPRISE_SEARCH"}))})}this.setProperty("/uiFilter",this.sinaNext.createFilter());this.loadDataSources();this.resetDataSource(false);this.resetAllFilterConditions(false);this.query=this.sinaNext.createSearchQuery({limitAjaxRequests:this.config.limitAjaxRequests});this.query.setMultiSelectFacets(true);this.oFacetFormatter=new l(this);this._tabStripFormatter=new k(this.allDataSource,this);this._breadcrumbsFormatter=new h.Formatter(this);this.dataSourceTree=this._tabStripFormatter.tree;this.setSearchBoxTerm(this.config.searchTerm,false);if(this.config.exclusiveDataSource){this.setDataSourceById(this.config.exclusiveDataSource,false,false)}else if(this.config.dataSource){this.setDataSourceById(this.config.dataSource,false,false)}if(this.config.filterRootCondition){this.setFilterRootCondition(this.config.filterRootCondition)}this.setProperty("/initializingObjSearch",false);this.busyIndicator.setBusy(false);try{await this.config.initAsync(this)}catch(e){this.errorHandler.onError(e)}if(window.sap?.ushell?.Container){this.uShellVisualizationInstantiationService=await window.sap.ushell.Container.getServiceAsync("VisualizationInstantiation")}}catch(e){this.errorHandler.onError(e);return Promise.reject(e)}finally{this.busyIndicator.setBusy(false)}return Promise.resolve()},createSina:async function e(){if(!this.config.searchBusinessObjects){return T.createAsync("dummy")}let t=[];if(window.location.href.indexOf("demo/FioriLaunchpad.")!==-1){t=[K.SAMPLE]}else{t=[K.ABAP_ODATA,K.INAV2,K.DUMMY]}t=await d.readCFlpConfiguration(t);if(this.config.sinaConfiguration){t=[this.config.sinaConfiguration]}const r=new oe(this);t=r.configure(t);const s=await T.createByTrialAsync(t);if(s.hasErrors()){s.getErrors().forEach(e=>this.errorHandler.onError(e))}return s},mixinSearchConfigurationIntoSinaConfiguration:function e(t){const r=[];for(let e=0;e<t.length;++e){let s=t[e];if(typeof s==="string"){s={provider:s,url:""}}this.configureSinaCommonParameters(s);this.configureSinaLogging(s);r.push(s)}return r},configureSinaCommonParameters:function e(t){for(const e of re){if(!t[e]){t[e]=this.config[e]}}},configureSinaLogging:function e(r){const s=t.getLogger("sap.esh.search.ui.sina");r.logTarget={debug:s.debug,info:s.info,warn:s.warning,error:s.error};let i=J.ERROR;switch(s.getLevel()){case t.Level.ALL:case t.Level.TRACE:case t.Level.DEBUG:i=J.DEBUG;break;case t.Level.INFO:i=J.INFO;break;case t.Level.WARNING:i=J.WARN;break}r.logLevel=i},initBusinessObjSearch:async function e(){return this.initAsync()},calculateDefaultDataSource:function e(){let t=this.allDataSource;if(this.config.defaultSearchScopeApps){t=this.appDataSource}if(this.config.defaultDataSource){t=this.sinaNext.getDataSource(this.config.defaultDataSource)}if(this.config.exclusiveDataSource){t=this.sinaNext.getDataSource(this.config.exclusiveDataSource)}if(this.userCategoryManager&&this.userCategoryManager.isFavActive()){t=this.userCategoryManager.getCategory("MyFavorites")}return t},initFacetVisibility:function e(){if(this.config.optimizeForValueHelp){this.setFacetVisibility(false,false);return}let t=this.config.facetVisibility;try{t=this._personalizationStorage.getItem(he.searchFacetPanelButtonState)??this.config.facetVisibility}catch(e){this.logger.warning("Error reading facet visibility from personalization storage",e)}this.setFacetVisibility(t,false)},isBusinessObjSearchConfigured:function e(){try{const e=window["sap-ushell-config"].renderers.fiori2.componentData.config;return e.searchBusinessObjects!=="hidden"}catch(e){this.logger.debug("Error reading searchBusinessObjects from ushell config",e);return true}},isBusinessObjSearchEnabled:function e(){return this.getProperty("/businessObjSearchEnabled")},setProperty:function e(t,r,s,i){return this.setPropertyInternal(t,r,s,i,true)},setPropertyInternal:function e(t,r,s,o,a=true){try{if(t==="/resultViewType"){if(this.getProperty("/resultViewType")!==""&&r!==""&&this.getProperty("/resultViewType")!==r){this.notifySubscribers(ee.ESHResultViewTypeChanged);V.getInstance().publish(ee.ESHResultViewTypeChanged)}}let e=i.prototype.setProperty.call(this,t,r,s,o);switch(t){case"/boResults":case"/appResults":this.calculateResultList();break;case"/appCount":case"/boCount":e=this.setProperty("/count",this.getProperty("/appCount")+this.getProperty("/boCount"));break;case"/count":e=this.setProperty("/countText",this._calculateCountText());break;case"expanded":if(s&&s.getPath().startsWith("/results/")){const e=s.getObject();if(e.key&&typeof r==="boolean"){const t=e;this.searchResultSetItemMemory.setExpanded(t.key,r)}}break}if(a){this.publicSearchModel.setPropertyFromInternalModel(this,t,r,s,o)}return e}catch(e){this.errorHandler.onError(e)}},_calculateCountText:function e(){const t=this.getProperty("/count");if(typeof t!=="number"){return""}const r=s.formatInteger(t);if(this.getProperty("/searchInLabel")){return(this.getProperty("/searchInLabel")||j.getText("results"))+" ("+r+")"}const i=j.getText("results")+" ("+r+")";return i},getSearchCompositeControlInstanceByChildControl:function e(t){if(typeof t?.hasStyleClass==="function"&&t.hasStyleClass("sapUshellSearchInputHelpPage")){return t}else if(typeof t?.getParent==="function"){return this.getSearchCompositeControlInstanceByChildControl(t.getParent())}return undefined},getPersonalizationStorageInstance:function e(){return this._personalizationStorage},setPersonalizationStorageInstance:function e(t){this._personalizationStorage=t},getSearchBoxTerm:function e(){return this.getProperty("/uiFilter/searchTerm")||""},setSearchBoxTerm:function e(t,r){t=t||"";const s=t.replace(/^\s+/,"");this.setProperty("/uiFilter/searchTerm",s);this.calculateSearchButtonStatus();if(r||typeof r==="undefined"){this.fireSearchQuery()}},getLastSearchTerm:function e(){return this.query.getSearchTerm()},setFacetVisibility:function e(t,r){if(B.system.phone){t=false}this.setProperty("/facetVisibility",t);try{this._personalizationStorage.setItem(he.searchFacetPanelButtonState,t)}catch(e){this.logger.warning("Error writing facet visibility to personalization storage",e)}if(r||typeof r==="undefined"){this.fireSearchQuery({preserveFormerResults:true})}},getFacetVisibility:function e(){return this.getProperty("/facetVisibility")},getTop:function e(){return this.getProperty("/top")},setTop:function e(t,r){if(t<0){this.resetTop();this.errorHandler.onError(new Error(`Could not set 'top' with value '${t}'.\nWe will use default value '${this.getProperty("/top")}' instead.`))}else{this.setProperty("/top",t)}if(r||typeof r==="undefined"){this.fireSearchQuery({preserveFormerResults:true})}},resetTop:function e(){this.setProperty("/focusIndex",0);if(this.isAppCategory()||this.isUserCategory()&&this.userCategoryManager&&this.userCategoryManager.getCategory("MyFavorites").subDataSources.length===0){this.setTop(this.appTopDefault,false)}else{this.setTop(this.boTopDefault,false)}},getOrderBy:function e(){return this.getProperty("/orderBy")},setOrderBy:function e(t,r){this.setProperty("/orderBy",t);this.updateSortableAttributesSelection(t.orderBy);if(r||typeof r==="undefined"){this.fireSearchQuery({preserveFormerResults:true})}},resetOrderBy:function e(t){this.setProperty("/orderBy",{});this.updateSortableAttributesSelection();if(t||typeof t==="undefined"){this.fireSearchQuery({preserveFormerResults:true})}},updateSortableAttributesSelection:function e(t){const r=this.getProperty("/sortableAttributes");if(r.length===0){return}for(let e=0;e<r.length;e++){r[e].selected=false}const s=t===undefined?"DEFAULT_SORT_ATTRIBUTE":t;for(let e=0;e<r.length;e++){if(r[e].attributeId===s){r[e].selected=true}}this.setProperty("/sortableAttributes",r)},isEqualOrderBy:function e(t,r){if(!t.orderBy){return r.length===0}if(r.length!==1){return false}const s=r[0];if(s.id!==t.orderBy){return false}if(t.sortOrder==="ASC"){return s.order===this.sinaNext.SortOrder.Ascending}return s.order===this.sinaNext.SortOrder.Descending},isMyFavoritesAvailable:function e(){let t=false;if(this.sinaNext.provider.id==="abap_odata"){t=true}if(this.sinaNext.provider.id==="multi"&&this.config.userDefinedDatasourcesMulti){t=true}return t},calculateIsNlqActive:function e(){const t=!this.config.isUshell||this.getPersonalizationStorageInstance().getItem(he.nlqActive);const r=this.config.aiNlq&&this.sinaNext.capabilities.nlq&&t;this.setProperty("/isNlqActive",r)},isNlqActive:function e(){return this.getProperty("/isNlqActive")},getDocumentTitle:function e(){const t=this.getSearchBoxTerm();const r=this.getDataSource().labelPlural||this.getDataSource().label;let s;if(this.getDataSource()===this.allDataSource){s=j.getText("searchTileTitleProposalAll",[t])}else{s=j.getText("searchTileTitleProposal",[t,r])}return s},resetQuery:function e(){if(this.getProperty("/initializingObjSearch")){return}s.hasher.reset();this.resetTop();this.setSearchBoxTerm("",false);this.resetDataSource(false);this.resetAllFilterConditions(false);this.query.resetConditions();this.query.setSearchTerm("random-jgfhfdskjghrtekjhg");this.setProperty("/facets",[]);this.setProperty("/results",[]);this.setProperty("/appResults",[]);this.setProperty("/boResults",[]);this.setProperty("/breadcrumbsHierarchyNodePaths",[]);this.setProperty("/breadcrumbsHierarchyAttribute","");this.setProperty("/hierarchyNodePaths",[]);this.setProperty("/isFolderMode",false);this.setProperty("/origBoResults",[]);this.setProperty("/count",0);this.setProperty("/boCount",0);this.setProperty("/appCount",0);this.setProperty("/nlqResult",{success:false,filterDescription:""})},resetSearchResultItemMemory:function e(){this.searchResultSetItemMemory.reset()},createAllAndAppDataSource:function e(){this.allDataSource=this.sinaNext.getAllDataSource();this.allDataSource.label=j.getText("label_all");this.allDataSource.labelPlural=j.getText("label_all");this.appDataSource=this.sinaNext._createDataSource({id:"$$APPS$$",label:j.getText("label_apps"),labelPlural:j.getText("label_apps"),type:this.sinaNext.DataSourceType.Category});this.setProperty("/appSearchDataSource",this.appDataSource)},getUserCategoryManager:async function e(){if(this._userCategoryManagerPromise){return this._userCategoryManagerPromise}this._userCategoryManagerPromise=this.initAsync().then(()=>this.userCategoryManager);return this._userCategoryManagerPromise},loadDataSources:function e(){let t=this.sinaNext.getBusinessObjectDataSources();t=t.slice();let r=[];t.forEach(function(e){if(!e.usage.appSearch){r.push(e)}});if(this.userCategoryManager&&this.userCategoryManager.isFavActive()){r.splice(0,0,this.userCategoryManager.getCategory("MyFavorites"));this.favDataSource=this.userCategoryManager.getCategory("MyFavorites")}if(this.config.isUshell){r.splice(0,0,this.appDataSource)}if(!this.config.searchScopeWithoutAll){r.splice(0,0,this.allDataSource)}else{if(!this.config.defaultDataSource&&(!this.userCategoryManager||this.userCategoryManager&&!this.userCategoryManager.isFavActive())){this.setProperty("/defaultDataSource",r[0])}}try{r=this.config.filterDataSources(r)}catch(e){this.errorHandler.onError(e)}this.setProperty("/dataSources",r);this.setProperty("/searchTermPlaceholder",this.calculatePlaceholder())},resetDataSource:function e(t){this.setDataSource(this.getDefaultDataSource(),t)},isAllCategory:function e(){const t=this.getProperty("/uiFilter/dataSource");return t===this.allDataSource},isOtherCategory:function e(){const t=this.getProperty("/uiFilter/dataSource");return(t.type===this.sinaNext.DataSourceType.Category||t.type===this.sinaNext.DataSourceType.UserCategory)&&!this.isAllCategory()},isAppCategory:function e(){const t=this.getProperty("/uiFilter/dataSource");return t===this.appDataSource},isUserCategory:function e(){const t=this.getProperty("/uiFilter/dataSource");return t.type===this.sinaNext.DataSourceType.UserCategory},isBusinessObject:function e(){return this.getProperty("/uiFilter/dataSource").type===this.sinaNext.DataSourceType.BusinessObject},isUserCategoryAppSearchOnlyWithoutBOs:function e(){return this.isUserCategory()&&this.userCategoryManager&&this.userCategoryManager.getCategory("MyFavorites").subDataSources.length===0},getDataSource:function e(){return this.getProperty("/uiFilter/dataSource")},getDefaultDataSource:function e(){return this.getProperty("/defaultDataSource")},setDataSourceById:function e(t,r,s){const i=this.sinaNext.getDataSource(t);if(i&&i.id&&i.id===t){this.setDataSource(i,r,s);return}throw new Error(`Could not set data source with id ${t} because it was not in the list of loaded data sources.`)},setDataSource:function e(t,r,s){if(this.getDataSource()!==t){const e={type:G.DATASOURCE_CHANGE,dataSourceKey:t.id};this.eventLogger.logEvent(e)}this.updateDataSourceList(t);this.getProperty("/uiFilter").setDataSource(t);if(s||s===undefined){this.resetTop()}this.setProperty("/searchTermPlaceholder",this.calculatePlaceholder());this.calculateSearchButtonStatus();if(r||r===undefined){this.fireSearchQuery()}},notifyFilterChanged:function e(){jQuery.each(this["aBindings"],(e,t)=>{if(t.sPath==="/uiFilter/rootCondition"){t.checkUpdate(true)}})},getFilterRootCondition:function e(){let t;if(this.getProperty("/uiFilter")){t=this.getProperty("/uiFilter").rootCondition}return t},setFilterRootCondition:function e(t,r){if(t.type!=="Complex"){throw new Error("filter root condition must be of type ComplexCondition")}for(let e=0;e<t.conditions.length;e++){const r=t.conditions[e];if(r.type!=="Complex"){throw new Error("filters of root condition must be of type ComplexCondition")}for(let e=0;e<r.conditions.length;e++){const t=r.conditions[e];if(t.type!=="Simple"){throw new Error("filters of the lowest level must be of type SimpleCondition")}}}this.getProperty("/uiFilter").setRootCondition(t);if(r||typeof r==="undefined"){this.fireSearchQuery({preserveFormerResults:false})}this.notifyFilterChanged()},addFilterCondition:function e(t,r){try{const e=this.getProperty("/uiFilter");if(typeof this.config.cleanUpSpaceFilters==="function"){this.config.cleanUpSpaceFilters(this,t)}if(t.attribute||t.conditions){e.autoInsertCondition(t)}else{this.setDataSource(t,false)}if(r||typeof r==="undefined"){this.fireSearchQuery({preserveFormerResults:false})}this.notifyFilterChanged()}catch(e){this.errorHandler.onError(e)}},removeFilterCondition:function e(t,r){if(t.attribute||t.conditions){this.getProperty("/uiFilter").autoRemoveCondition(t)}else{this.setDataSource(t,false)}if(r||typeof r==="undefined"){this.fireSearchQuery({preserveFormerResults:true})}this.notifyFilterChanged()},resetAllFilterConditions:function e(t){this.getProperty("/uiFilter").resetConditions();if(t||typeof t==="undefined"){this.fireSearchQuery()}this.notifyFilterChanged()},resetFilterByFilterConditions:function e(t){const r=this.getNonFilterByFilterConditions();const s=[];const i=this.config.searchInAttibuteFacetPostion;if(i){for(const e in i){const t=this.getProperty("/uiFilter").rootCondition.getAttributeConditions(e);for(let e=0;e<t.length;e++){s.push(t[e])}}}this.getProperty("/uiFilter").resetConditions();if(r.length>0){for(const e of r){this.getProperty("/uiFilter").autoInsertCondition(e)}}if(s.length>0){for(let e=0;e<s.length;e++){const t=s[e];this.getProperty("/uiFilter").autoInsertCondition(t)}}if(t||typeof t==="undefined"){this.fireSearchQuery()}this.notifyFilterChanged()},setFilter:function e(t){this.setDataSource(t.dataSource,false);this.setSearchBoxTerm(t.searchTerm,false);const r=this.getProperty("/uiFilter");r.setRootCondition(t.rootCondition);this.fireSearchQuery()},filterWithoutFilterByConditions:function e(){const t=this.getNonFilterByFilterConditions();return t.length>0&&t.length===this.getProperty("/uiFilter").rootCondition.conditions.length},getNonFilterByFilterConditions:function e(){const t=[];for(const e of this.getProperty("/uiFilter").rootCondition.getAttributes()){const r=this.getProperty("/uiFilter").dataSource.attributeMetadataMap[e];if(r&&r.isHierarchy===true&&r.hierarchyDisplayType===Z.StaticHierarchyFacet){for(const r of this.getProperty("/uiFilter").rootCondition.getAttributeConditions(e)){t.push(r)}}}return t},doSuggestion:function e(){this._suggestionHandler.doSuggestion(this.getProperty("/uiFilter").clone())},abortSuggestions:function e(){this._suggestionHandler.abortSuggestions()},fireSearchQuery:async function e(t,r){try{await this.initAsync()}catch(e){return Promise.reject(e)}return this.doFireSearchQuery(t,r)},_firePerspectiveQuery:async function e(t,r){x(false,`Do not call '_firePerspectiveQuery' of internal search model.\nInstead use function 'search' of SearchCompositeControl:\n`);return this.fireSearchQuery(t,r)},doFireSearchQuery:function e(t,r){let s,i;if(jQuery.isPlainObject(t)){s=t.deserialization;i=t.preserveFormerResults}else{s=t||undefined;i=r||undefined}const o=this.getProperty("/uiFilter");if(o===undefined){return}if(o.equals(this.query.filter)&&this.getTop()===this.query.top&&this.isEqualOrderBy(this.getOrderBy(),this.query.sortOrder)&&this.getCalculateFacetsFlag()===this.query.calculateFacets&&!this.getProperty("/isQueryInvalidated")){return Promise.resolve()}this.query.setNlq(this.isNlqActive());if(!s&&(this.query.filter.dataSource&&o.dataSource!==this.query.filter.dataSource||this.query.filter.searchTerm&&o.searchTerm!==this.query.filter.searchTerm)){this.resetOrderBy(false)}if(this.query.filter.dataSource&&o.dataSource!==this.query.filter.dataSource){this.oFacetFormatter.handleDataSourceChanged()}if(!s&&!i){if(!o.equals(this.query.filter)){this.resetTop()}}if(o.searchTerm!==this.query.filter.searchTerm||!o.rootCondition.equals(this.query.filter.rootCondition)){this._tabStripFormatter.invalidate(this.getDataSource())}if(this.getProperty("/isQueryInvalidated")===true){this.query.resetResultSet();this.setProperty("/isQueryInvalidated",false)}this.query.setFilter(this.getProperty("/uiFilter").clone());this.query.setTop(this.getTop());this.query.setSortOrder(this.assembleSortOrder());this.query.setCalculateFacets(this.getCalculateFacetsFlag());this.setProperty("/queryFilter",this.query.filter);this.notifySubscribers(ee.ESHSearchStarted);V.getInstance().publish(ee.ESHSearchStarted);if(s||!this.config.isUshell){this.setProperty("/busyDelay",0)}else{this.setProperty("/busyDelay",600)}this.busyIndicator.setBusy(true);this.abortSuggestions();this.updateSearchURLSilently(s);if(!s){this.resetSearchResultItemMemory()}const a={type:G.SEARCH_REQUEST,searchTerm:this.getProperty("/uiFilter/searchTerm"),dataSourceKey:this.getProperty("/uiFilter/dataSource").id};this.eventLogger.logEvent(a);this.logSearchRequestAdvanced();const n=`Search for '${this.getSearchBoxTerm()}' (logId:${this.config.performanceLogger.getUniqueId()})`;this._performanceLoggerSearchMethods.push(n);this.config.performanceLogger.enterMethod({name:n},{isSearch:true,comments:`Top: ${this.getTop()}, searchbox term: ${this.getSearchBoxTerm()}`});return Promise.all([this.normalSearch(i),this.appSearch()]).then(()=>{this.calculateResultViewSwitchVisibility();this.setProperty("/tabStrips",this._tabStripFormatter.format(this.getDataSource(),this.resultSet,this));this.setProperty("/breadcrumbsHierarchyNodePaths",this._breadcrumbsFormatter.formatNodePaths(this.resultSet));this.setProperty("/breadcrumbsHierarchyAttribute",this._breadcrumbsFormatter.formatHierarchyAttribute(this.resultSet));this.setProperty("/hierarchyNodePaths",this.resultSet?.hierarchyNodePaths);this.setProperty("/isFolderMode",this.getProperty("/uiFilter").isFolderMode());if(this.config.bRecentSearches&&this.recentlyUsedStorage){const e=ne(this);if(e){this.recentlyUsedStorage.addItem(e)}}return this.oFacetFormatter.getFacets(this.getDataSource(),this.resultSet,this).catch(e=>{for(const e of this._performanceLoggerSearchMethods){this.config.performanceLogger.leaveMethod({name:e})}this._performanceLoggerSearchMethods=[];return this.errorHandler.onErrorDeferred(e)}).then(e=>{if(e?.length>0){e[0].change=Date.now();this.setProperty("/facets",e);e.forEach(e=>e.handleModelUpdate&&e.handleModelUpdate())}})}).catch(e=>{for(const e of this._performanceLoggerSearchMethods){this.config.performanceLogger.leaveMethod({name:e})}this._performanceLoggerSearchMethods=[];return this.errorHandler.onErrorDeferred(e)}).finally(()=>{try{if(this.config&&this.config.overwriteBrowserTitle===true){document.title=this.getDocumentTitle()}for(const e of this._performanceLoggerSearchMethods){this.config.performanceLogger.leaveMethod({name:e})}this._performanceLoggerSearchMethods=[];this.notifySubscribers(ee.ESHSearchFinished);V.getInstance().publish(ee.ESHSearchFinished);this.busyIndicator.setBusy(false);this.setProperty("/firstSearchWasExecuted",true);this.notifyFilterChanged();this.updateMultiSelectionSelected()}catch(e){this.errorHandler.onError(e)}this.ensureOneTimeDisplayForErrorMessages()})},ensureOneTimeDisplayForErrorMessages:function e(){const t=this.getProperty("/errors");for(let e=0;e<t.length;++e){const r=t[e];if(r.shownToUser){t.splice(e,1);e--;continue}r.shownToUser=true}this.setProperty("/errors",t)},assembleSortOrder:function e(){const t=this.getOrderBy();if(!t.orderBy){return[]}let r=this.sinaNext.SortOrder.Ascending;if(t.sortOrder==="DESC"){r=this.sinaNext.SortOrder.Descending}return[{id:t.orderBy,order:r}]},getCalculateFacetsFlag:function e(){if(this.getDataSource().type===this.sinaNext.DataSourceType.Category||this.getFacetVisibility()){return true}return false},appSearch:function e(){if(!this.config.isUshell){return Promise.resolve(true)}this.setProperty("/appResults",[]);this.setProperty("/appCount",0);if(this.isBusinessObject()||this.isOtherCategory()&&!this.isAppCategory()&&!this.isUserCategory()||this.isUserCategory()&&this.userCategoryManager&&!this.userCategoryManager.getCategory("MyFavorites").includeApps){return Promise.resolve(true)}const t=this.query.filter.dataSource===this.allDataSource?this.appTopDefault:this.query.top;return this._searchApplicationsRefuseOutdatedReq(this.query.filter.searchTerm,t,0).then(e=>{this.setProperty("/appCount",e.totalResults);this.setProperty("/appResults",e.getElements())},e=>this.errorHandler.onErrorDeferred(e))},searchApplications:function e(t,r,s){if(this.config.isUshell){return window.sap.ushell.Container.getServiceAsync("Search").then(e=>e.queryApplications({searchTerm:t,top:r,skip:s}))}else{return Promise.resolve({totalResults:0,searchTerm:t,getElements:()=>[]})}},normalSearch:async function e(t){if(!t){this.resetAndDisableMultiSelection()}if(!this.isBusinessObjSearchEnabled()||this.isAppCategory()||this.isUserCategory()&&this.userCategoryManager&&this.userCategoryManager.getCategory("MyFavorites").subDataSources.length===0){this.setProperty("/boResults",[]);this.setProperty("/breadcrumbsHierarchyNodePaths",[]);this.setProperty("/breadcrumbsHierarchyAttribute","");this.setProperty("/hierarchyNodePaths",[]);this.setProperty("/isFolderMode",false);this.setProperty("/origBoResults",[]);this.setProperty("/boCount",0);this.setProperty("/nlqExplanation",{});this.setProperty("/nlqResult",{success:false,filterDescription:""});this.resultSet=null;return}this.setDataSource(this.getDataSource(),false,false);this.query.setCalculateFacets(this.getCalculateFacetsFlag());try{const e=await this.query.getResultSetAsync();if(e.hasErrors()){e.getErrors().forEach(t=>{this.errorHandler.onError(t,{showMinorErrorsAsWarnings:e?.items?.length>0})})}this.dataSourceOfPreviousSearch=this?.resultSet?.query?.filter?.dataSource;this.resultSet=e;this.setProperty("/nlqResult",e.nlqResult);await this._afterSearchPrepareResultList(e)}catch(e){this.dataSourceOfPreviousSearch=this?.resultSet?.query?.filter?.dataSource;this.setProperty("/nlqResult",{success:false,filterDescription:""});this.errorHandler.onError(e)}},_afterSearchPrepareResultList:function e(t){this.setProperty("/boResults",[]);this.setProperty("/breadcrumbsHierarchyNodePaths",[]);this.setProperty("/breadcrumbsHierarchyAttribute","");this.setProperty("/hierarchyNodePaths",[]);this.setProperty("/isFolderMode",false);this.setProperty("/origBoResults",t.items);this.setProperty("/boCount",0);const r=new o(this);const s=r.format(t,this.query.filter.searchTerm);this.setProperty("/sortableAttributes",r.formatSortAttributes());this.setTableData(s);this.restoreResultSetItemExpansion(s);let i;const a=[];const n=[];for(let e=0;e<s.length;e++){i=s[e];a.push(i.dataSource);n.push({isDocumentConnector:i.isDocumentConnector})}const l=this.config.loadCustomModulesForDataSourcesAsync(a,n);const h=Promise.all([Promise.resolve(t),l]).then(e=>{const t=e[0];if(this.config&&typeof this.config.setSearchInLabelIconBindings==="function"){try{this.config.setSearchInLabelIconBindings(this,t.facets)}catch(e){const t=new b.ConfigurationExitError("setSearchInLabelIconBindings",this.config.applicationComponent,e);throw t}}this.setProperty("/boCount",t.totalCount);this.setProperty("/boResults",s);this.enableOrDisableMultiSelection();return Promise.resolve()});return h},restoreResultSetItemExpansion:function e(t){for(const e of t){const t=this.searchResultSetItemMemory.getExpanded(e.key);if(typeof t!=="undefined"){e.expanded=t}}},resetAndDisableMultiSelection:function e(){this.setProperty("/multiSelectionAvailable",false);this.setProperty("/multiSelectionEnabled",false);this.setProperty("/multiSelectionSelected",false);this.setProperty("/singleSelectionSelected",false)},enableOrDisableMultiSelection:function e(){if(this.config.enableMultiSelectionResultItems){this.setProperty("/multiSelectionAvailable",true);this.setProperty("/multiSelectionEnabled",true);return}const t=this.getDataSource();const r=this.config.getDataSourceConfig(t);const s=new r.searchResultListSelectionHandlerControl;if(s){this.setProperty("/multiSelectionAvailable",s.isMultiSelectionAvailable())}else{this.setProperty("/multiSelectionAvailable",false)}},updateMultiSelectionSelected:function e(){let t;if(this.getResultViewType()==="searchResultTable"){t=this.getProperty("/tableRows")}else{t=this.getProperty("/results")}let r=0;const s=[];for(let e=0;e<t.length;e++){if(t[e].selected){r++;s.push(t[e])}}if(r>0){this.setProperty("/multiSelectionSelected",true);this.setProperty("/multiSelectionObjects",s)}else{this.setProperty("/multiSelectionSelected",false);this.setProperty("/multiSelectionObjects",[])}if(r===1){this.setProperty("/singleSelectionSelected",true)}else{this.setProperty("/singleSelectionSelected",false)}this.notifySubscribers(ee.ESHSelectionChanged);V.getInstance().publish(ee.ESHSelectionChanged,this)},calculatePlaceholder:function e(){let t=this.getDataSource().labelPlural;if(this.isAllCategory()||this.config?.bPlaceHolderFixedValue===true){return j.getText("search")}else if(typeof this.config?.getSearchInputPlaceholderLabel==="function"){try{t=this.config?.getSearchInputPlaceholderLabel(this.getProperty("/uiFilter"))}catch(e){const t=new b.ConfigurationExitError("getSearchInputPlaceholderLabel",this.config.applicationComponent,e);this.errorHandler.onError(t)}}if(typeof t==="undefined"||t===null||t===""){t=this.getDataSource().labelPlural}return j.getText("searchInPlaceholder",[t])},updateDataSourceList:function e(t){const r=this.getProperty("/dataSources");this.removeTempDataSources();if(r.indexOf(t)>=0){return}r.unshift(t);this._tempDataSources.push(t);this.setProperty("/dataSources",r)},removeTempDataSources:function e(){const t=this.getProperty("/dataSources");this._tempDataSources.forEach((e,r,s)=>{const i=t.indexOf(e);if(i<0){const e=new Error("could not find temp DataSource in DataSources");throw new b.ProgramError(e)}t.splice(i,1);s.splice(r,1)})},invalidateQuery:function e(){s.hasher.reset();this.setProperty("/isQueryInvalidated",true)},logSearchRequestAdvanced:function e(){if(this.getSearchBoxTerm()){const e={type:G.SEARCH_WITH_SEARCHTERM,searchTerm:this.getSearchBoxTerm()};this.eventLogger.logEvent(e)}if(this.getFilterRootCondition().conditions?.length>0){const e={type:G.SEARCH_WITH_FILTERS};this.eventLogger.logEvent(e);if(this.getSearchBoxTerm()){const e={type:G.SEARCH_WITH_SEARCHTERM_FILTERS,searchTerm:this.getSearchBoxTerm()};this.eventLogger.logEvent(e)}}else{if(!this.getSearchBoxTerm()){const e={type:G.SEARCH_WITHOUT_SEARCHTERM_FILTERS};this.eventLogger.logEvent(e)}}},autoStartApp:function e(){const t=this.getProperty("/uiFilter/searchTerm");if(this.getProperty("/appCount")===1&&this.getProperty("/count")===1){const e=this.getProperty("/appResults");if(e&&e.length>0&&e[0]&&e[0].url&&t&&e[0].tooltip&&t.toLowerCase().trim()===e[0].tooltip.toLowerCase().trim()){if(e[0].url[0]==="#"){window.location.href=e[0].url}else{window.open(e[0].url,"_blank","noopener,noreferrer")}return}}},isHomogenousResult:function e(){if(this.isAllCategory()){return false}if(this.isOtherCategory()){return false}if(this.isAppCategory()){return false}return true},getResultViewTypes:function e(){return this.getProperty("/resultViewTypes")},setResultViewTypes:function e(t){this.setProperty("/resultViewTypes",t)},getResultViewType:function e(){return this.getProperty("/resultViewType")},setResultViewType:function e(t){this.setProperty("/resultViewType",t);if(this.isAppCategory()){return}else if(this.isAllCategory()||this.isOtherCategory()){try{this._personalizationStorage.setItem(he.resultViewTypeForAllAndCategorySearch,t)}catch(e){this.logger.warning("Could not store resultViewTypeForAllAndCategorySearch in personalization storage",e)}}else{try{this._personalizationStorage.setItem(he.resultViewTypeForBusinessObjectSearch,t)}catch(e){this.logger.warning("Could not store resultViewTypeForBusinessObjectSearch in personalization storage",e)}}},calculateResultViewSwitchVisibility:function e(t){this.validateResultViewSettings(t);if(t!==undefined){this.setResultViewTypes(t.resultViewTypes);this.setResultViewType(t.resultViewType);this.setProperty("/resultViewSwitchVisibility",t.resultViewTypes.length>1);return}let r;let s;if(this.isAppCategory()||this.isUserCategory()&&this.userCategoryManager&&this.userCategoryManager.getCategory("MyFavorites").subDataSources.length===0){r=["appSearchResult"];s="appSearchResult";this.setResultViewTypes(r);this.setResultViewType(s);this.setProperty("/resultViewSwitchVisibility",r.length>1);return}if(this.isAllCategory()||this.isOtherCategory()){if(this.config.isUshell){r=["searchResultList"];s="searchResultList"}else{r=["searchResultList","searchResultGrid"];try{s=this._personalizationStorage.getItem(he.resultViewTypeForAllAndCategorySearch)}catch(e){this.logger.warning("Could not read resultViewTypeForAllAndCategorySearch from personalization storage",e)}if(s===undefined||s===null||s.length===0||!r.includes(s)){s="searchResultList"}}this.setResultViewTypes(r);this.setResultViewType(s);this.setProperty("/resultViewSwitchVisibility",r.length>1);return}r=this.config.resultViewTypes;try{if(this._personalizationStorage instanceof f)s=this._personalizationStorage.getItem(he.resultViewTypeForBusinessObjectSearch)}catch(e){this.logger.warning("Could not read resultViewTypeForBusinessObjectSearch from personalization storage",e)}if(s===undefined||s===null||s.length===0||!r.includes(s)){s=this.config.fallbackResultViewType}s=this.folderModeResultViewTypeCalculator.calculate(r,s,this.getProperty("/uiFilter"));this.setResultViewTypes(r);this.setResultViewType(s);this.setProperty("/resultViewSwitchVisibility",r.length>1)},validateResultViewSettings:function e(t){let r;let i;let o;let a;let n;let l;if(typeof t==="undefined"){r=true}else{r=false}if(r){i=["searchResultList","searchResultTable","searchResultGrid"];o=this.config.resultViewTypes;a=this.config.fallbackResultViewType;n="\nERROR: Search Result View Settings of SearchConfiguration:\n\n";l=". \n Please check the validation and compatibility of resultViewTypes of SearchConfiguration!"}else{if(this.isAppCategory()){i=["appSearchResult"]}else if(this.isAllCategory()||this.isOtherCategory()){i=["searchResultList","searchResultGrid"]}else{i=["searchResultList","searchResultTable","searchResultGrid"]}o=t.resultViewTypes;a=t.resultViewType;n="\nERROR: Search Result View Settings of SearchCompositeControl\n\n";l=". \n Please check the validation and compatibility of resultViewTypes and resultViewType of SearchCompositeControl!"+"\n When adding a new resultViewType and making it active at the same time, make use of function 'setResultViewSettings' to apply both changes together."}if(!Array.isArray(o)||o.length===0){throw Error(n+"resultViewTypes should be non-empty array"+l)}let h=o;h=h.filter((e,t)=>h.indexOf(e)===t);if(h.length!==o.length){throw Error(n+"resultViewTypes ("+o.toString()+") should not have duplicated value"+l)}if(!s.isSubsetOf(o,i)){throw Error(n+"resultViewTypes ("+o.toString()+") contains invalid value. Possible values are ("+i.toString()+")"+l)}if(typeof a==="undefined"&&r){a=o[0];this.config.fallbackResultViewType=o[0]}if(typeof a!=="string"){throw Error(n+"resultViewType should be of string"+l)}if(!o.includes(a)){throw Error(n+"resultViewTypes ("+o.toString()+") doesn't contain resultViewType ("+a+")"+l)}},calculateSearchButtonStatus:function e(){if(!this.config.isUshell){this.setProperty("/searchButtonStatus","Search");return}if(this.getDataSource()===this.getProperty("/defaultDataSource")&&this.getSearchBoxTerm().length===0){if(te.isSearchFieldExpandedByDefault()){this.setProperty("/searchButtonStatus","Focus")}else{this.setProperty("/searchButtonStatus","Close")}}else{this.setProperty("/searchButtonStatus","Search")}},calculateResultList:function e(){let t=[];const r=this.getProperty("/boResults");if(r&&r.length){t.push(...r)}const s=this.getProperty("/appResults");if(s&&s.length>0){const e={type:"appcontainer",tiles:s};if(t.length>0){if(t.length>3){t.splice(3,0,e)}else{t.push(e)}}else{t=[e]}}this.setProperty("/results",t)},pushUIMessage:function e(t){t.title=t.title==="[object Object]"?j.getText("searchError"):t.title;t.type=t.type!==undefined?t.type:D.Error;const r=this.getProperty("/errors");r.push(t);const s=this.removeAdjacentDuplicateMessages(r);this.setProperty("/errors",s)},removeAdjacentDuplicateMessages:function e(t){const r=[];let s;for(const e of t){if(typeof s==="undefined"){r.push(e)}else if(s.title!==e.title||s.description!==e.description||s.type!==e.type||s.shownToUser!==e.shownToUser){r.push(e)}s=e}return r},updateSearchURLSilently:function e(t){if(t){s.hasher.init()}else{if(this.config.updateUrl){const e=this.createSearchNavigationTargetCurrentState().targetUrl;s.hasher.setHash(e)}}},parseURL:function e(){this.searchUrlParser.parse()},subscribe:function e(t,r,s){this._subscribers.push({eventId:t||"",callback:r,listener:s||this});this.assertInternalEvents(t)},unsubscribe:function e(t,r,s){t=t||"";s=s||this;for(let e=0;e<this._subscribers.length;e++){const i=this._subscribers[e];if(i.eventId===t&&i.callback===r&&i.listener===s){this._subscribers.splice(e,1)}}this.assertInternalEvents(t)},assertInternalEvents:function e(t){const r=(new Error).stack;if(r.includes("sap/esh/search/ui/SearchCompositeControl")||r.includes("sap/esh/search/ui/library-preload")||r.includes("sap/esh/search/ui/SearchShellHelper")){}else{x(false,`Subscription to internal events ('${t}') of search library is only allowed for internal components.\nSubscribe to events of SearchCompositeControl:\n  - "searchStarted"        : Triggered when a search is started and the UI is waiting for results\n  - "searchFinished"       : Triggered as soon as the results are in and the UI finished its updates\n  - "selectionChanged"     : Triggered after selection changed (checkboxes of result items) \n  - "resultViewTypeChanged": Triggered after result view type got changed (list, table or grid)`)}},notifySubscribers:function e(t){for(const e of this._subscribers){if(e.eventId===t){e.callback.apply(e.listener,[t])}}},createSearchNavigationTarget:function e(t,r){let s;if(t instanceof ie){s={filter:t,label:r}}else{s=t}s.updateUrl=s.updateUrl??this.config.updateUrl;s.top=s.top??this.config.pageSize??10;s.label=s.label??"Search";s.encodeFilter=s.encodeFilter??true;if(s.updateUrl){const e=ae(this,s.top,s.filter,s.encodeFilter,s.orderBy);return this.sinaNext.createNavigationTarget({targetUrl:e,text:s.label,target:"_self"})}else{return this.sinaNext.createNavigationTarget({targetFunction:()=>{this.setTop(s.top,false);if(s.orderBy){this.setOrderBy(s.orderBy,false)}this.setFilter(s.filter)},targetFunctionCustomData:{top:s.top,filter:s.filter,orderBy:s.orderBy},text:s.label})}},createSearchNavigationTargetCurrentState:function e(t){return this.createSearchNavigationTarget({top:this.getTop(),filter:this.getProperty("/uiFilter"),encodeFilter:true,orderBy:this.getOrderBy(),updateUrl:t?.updateUrl})},parseSearchNavigationTarget:function e(t){const r={filter:null};if(t.targetFunctionCustomData){return t.targetFunctionCustomData}let i=s.parseUrlParameters(t.targetUrl);if($.isEmptyObject(i)){return undefined}try{i=this.config.parseSearchUrlParameters(i)}catch(e){this.errorHandler.onError(e)}if(i.top){r.top=parseInt(i.top,10)}if(i.orderby&&i.sortorder){r.orderBy={orderBy:i.orderby,sortOrder:i.sortorder}}if(i.filter){try{const e=JSON.parse(i.filter);r.filter=this.sinaNext.parseFilterFromJson(e)}catch(e){throw new W(e)}}return r},getTableColumns:function e(t){if(!t){return I([],this.getProperty("/tableColumns"))}else{return this.fetchTableColumns()}},fetchTableColumns:function e(){try{if(this.getProperty("/tableDataSource").length>0){const e=he.searchResultTableState+this.getProperty("/tableDataSource");const t=this.getPersonalizationStorageInstance()?.getItem(e);if(this.isTablePersoStateValid(t)){return I([],t.aColumns)}return undefined}}catch(e){this.logger.warning("Could not fetch table columns from personalization storage",e);return undefined}},isTablePersoStateValid:function e(t){if(!t||t._persoSchemaVersion!=="p13n"||!Array.isArray(t.aColumns)){return false}for(const e of t.aColumns){if(e.p13NColumnName===undefined){return false}}return true},setTableColumns:function e(t,r){this.setProperty("/tableColumns",t);if(r){this.saveTableColumns(t)}},saveTableColumns:function e(t){try{if(this.getProperty("/tableDataSource").length>0){const e=he.searchResultTableState+this.getProperty("/tableDataSource");this.getPersonalizationStorageInstance().setItem(e,{aColumns:t,_persoSchemaVersion:"p13n"})}}catch(e){this.logger.warning("Could not save table columns to personalization storage",e)}},getTableInitialColumns:function e(){if(!this.tableFormatter){this.tableFormatter=new n(this)}const t=this.getTableColumns(false);if(t?.length>0){return this.tableFormatter.formatInitialColumns(t)}else{return[]}},setTableData:function e(t){try{if(this.isHomogenousResult()){if(!this.tableFormatter){this.tableFormatter=new n(this)}if(t.length>0){this.setProperty("/tableDataSource",this.getDataSource().id);this.setTableColumns(this.tableFormatter.formatColumns(t),true);const e=this.tableFormatter.formatRows(t,this.getTableColumns(false));for(let r=0;r<e.length;r++){t[r].cells=e[r].cells}this.setProperty("/tableRows",t)}else{this.resetTableData()}}else{this.resetTableData()}}catch(e){this.logger.warning("Could not set table data",e);this.resetTableData()}},resetTableData:function e(){this.setProperty("/tableDataSource",undefined);this.setProperty("/tableColumns",[]);this.setProperty("/tableRows",[])}});ce._searchModels={};ce.getModelSingleton=function e(t,r){const s=r||"default";if(!ce._searchModels[s]){t.isUshell=s==="flp"?true:false;ce._searchModels[s]=new ce({configuration:t})}return ce._searchModels[s]};return ce})})();
},
	"sap/esh/search/ui/SearchModelTypes.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){sap.ui.define([],function(){"use strict";var t=function(t){t["footer"]="footer";t["appcontainer"]="appcontainer";t["resultListItem"]="resultListItem";return t}(t||{});var e={__esModule:true};e.ListItemType=t;return e})})();
},
	"sap/esh/search/ui/SearchResultBaseFormatter.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){sap.ui.define(["./error/ErrorHandler","./i18n"],function(e,t){"use strict";function r(e){return e&&e.__esModule&&typeof e.default!=="undefined"?e.default:e}const n=r(e);const a=r(t);class o{model;errorHandler;constructor(e){this.model=e;this.errorHandler=n.getInstance()}formatSortAttributes(){const e=[];const t=this.model.sinaNext;const r=this.model.getDataSource();const n=t.dataSourceMap[r.id].attributesMetadata;if(!Array.isArray(n)||n.length===0){return[]}for(let t=0;t<n.length;t++){const r=n[t];if(r.isSortable){e.push({name:r.label,key:"searchSortAttributeKey"+t,attributeId:r.id})}}const o=(e,t)=>{if(e.name<t.name){return-1}if(e.name>t.name){return 1}return 0};e.sort(o);e.unshift({name:a.getText("defaultRank"),key:"searchSortAttributeKeyDefault",attributeId:"DEFAULT_SORT_ATTRIBUTE"});let s=this.model.getOrderBy().orderBy;if(typeof s==="undefined"){s="DEFAULT_SORT_ATTRIBUTE"}for(let t=0;t<e.length;t++){if(e[t].attributeId===s){e[t].selected=true}else{e[t].selected=false}}return e}}return o})})();
},
	"sap/esh/search/ui/SearchResultFormatter.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){sap.ui.define(["./SearchResultBaseFormatter","./sinaNexTS/sina/SearchResultSetItemAttribute","./sinaNexTS/sina/NavigationTarget"],function(t,e,a){"use strict";function i(t){return t&&t.__esModule&&typeof t.default!=="undefined"?t.default:t}const l=i(t);const r=e["SearchResultSetItemAttribute"];const s=a["NavigationTarget"];class o extends l{constructor(t){super(t);this.model=t}format(t,e,a){a=a||{};a.suppressHighlightedValues=a.suppressHighlightedValues||false;const i=t.sina;const l={};const s=[];const o=t.items;for(let e=0;e<o.length;e++){const n=o[e];const u={};const f=[];for(let t=0;t<n.detailAttributes.length;t++){const e=n.detailAttributes[t];let l="";let s="";let o=undefined;if(e instanceof r){l=e.value;s=e.metadata.format;o=e.defaultNavigationTarget}switch(e.metadata.type){case i.AttributeType.ImageBlob:if(l&&l.trim().length>0){l="data:;base64,"+l}break;case i.AttributeType.ImageUrl:u.imageUrl=l;u.imageFormat=s?s.toLowerCase():undefined;if(o){u.imageNavigation=o}break;case i.AttributeType.GeoJson:u.geoJson={value:l,label:e.label};break;case i.AttributeType.Group:{const t=this._formatAttributeGroup(e,a);f.push(t);break}case i.AttributeType.Double:case i.AttributeType.Integer:case i.AttributeType.String:case i.AttributeType.Date:case i.AttributeType.Time:case i.AttributeType.Timestamp:{const t=this._formatSingleAttribute(e,a);f.push(t);break}}}u.key=n.key;u.keystatus=n.keystatus;u.dataSource=n.dataSource;u.dataSourceName=n.dataSource.label;u.attributesMap=n.attributesMap;u.sinaItem=n;const d=n.hierarchyNodePaths;if(Array.isArray(d)===true&&d.length>0){u.hierarchyNodePath=d[0]}if(n.titleAttributes){let t,e,l;const r=[];let s=false;for(let o=0;o<n.titleAttributes.length;o++){t=n.titleAttributes[o];if(t.metadata.type===i.AttributeType.Group){e=this._formatAttributeGroup(t,a);s=s||e.whyfound}else if(t.metadata.type===i.AttributeType.ImageUrl){e=this._formatSingleAttribute(t,a);u.titleIconUrl=t.value;e.value="";s=s||false}else{e=this._formatSingleAttribute(t,a);s=s||e.whyfound}if(t.infoIconUrl){u.titleInfoIconUrl=t.infoIconUrl;e.value="";s=s||false}l=e.value;r.push(l)}u.title=r.join(" ");u.isTitleHighlighted=s}else{u.title=a.suppressHighlightedValues?n.title:n.titleHighlighted;u.isTitleHighlighted=a.suppressHighlightedValues?false:true}if(n.titleDescriptionAttributes&&n.titleDescriptionAttributes.length>0){let t,e,l;const r=[];const s=[];let o=false;for(let u=0;u<n.titleDescriptionAttributes.length;u++){t=n.titleDescriptionAttributes[u];if(t.metadata.type===i.AttributeType.Group){e=this._formatAttributeGroup(t,a);o=o||e.whyfound}else{e=this._formatSingleAttribute(t,a);o=o||e.whyfound}l=e.value;r.push(l);s.push(e.name)}u.titleDescription=r.join(" ");u.titleDescriptionLabel=s.join(" ");u.isTitleDescriptionHighlighted=o}u.itemattributes=f;if(n.defaultNavigationTarget){u.titleNavigation=n.defaultNavigationTarget;if(!u.title||u.title.length===0){u.title=n.defaultNavigationTarget.text}}if(n.navigationTargets&&n.navigationTargets.length>0){u.navigationObjects=[];for(let t=0;t<n.navigationTargets.length;t++){const e=n.navigationTargets[t];u.navigationObjects.push(e)}}const c=l[n.dataSource.id]||{};l[n.dataSource.id]=c;u.layoutCache=c;u.customItemStyleClass="";u.selected=false;u.selectionEnabled=true;u.expanded=false;const g={};this._formatResultForDocuments(n,g);this._formatResultForNotes(n,g);u.additionalParameters=g;u.positionInList=e;u.resultSetId=t.id;s.push(u)}return s}_formatAttributeGroup(t,e){if(t.attributes.length===2&&typeof t.attributes[1].attribute.value==="string"&&t.attributes[1].attribute.value.startsWith("sap-icon://")){const a=this._formatSingleAttribute(t.attributes[0].attribute,e);a.iconUrl=t.attributes[1].attribute.value;a.key=t.id;a.sinaAttribute=t;a.isTitle=false;a.isSortable=t.metadata.isSortable;a.displayOrder=t.metadata.usage.Detail&&t.metadata.usage.Detail.displayOrder;return a}const a={};const i={};a.name=t.label;let l=false;let r=false;const o=t.metadata._private;let n,u;for(let a=0;a<t.attributes.length;a++){const s=t.attributes[a];const f=s.attribute;const d=s.metadata.nameInGroup;let c;if(f.metadata.type===f.sina.AttributeType.Group){c=this._formatAttributeGroup(f,e)}else{c=this._formatSingleAttribute(f,e)}if(o){if(o.parentAttribute===f.metadata){n=c}else if(o.childAttribute===f.metadata){u=c}}if(c.value){i[d]=c;l=l||c.whyfound;r=r||c.longtext!==undefined}}a.value="";a.valueRaw=undefined;a.valueWithoutWhyfound="";a.whyfound=false;if(Object.keys(i).length>0){let e=true;if(o&&n&&u&&(o.isUnitOfMeasure||o.isCurrency||o.isDescription)){let i=n.value;let l=u.value;if(typeof i==="string"&&i.trim().length<1){i=undefined}if(typeof l==="string"&&l.trim().length<1){l=undefined}if(!(i&&l)){if(o.isUnitOfMeasure||o.isCurrency){if(i&&!l){a.value=n.value;a.valueRaw=n.valueRaw;a.valueWithoutWhyfound=n.valueWithoutWhyfound;e=false}}else if(o.isDescription){const r=o.textArrangement;const s=t.sina;if(r===s.AttributeGroupTextArrangement.TextFirst){if(!i&&l){a.value=u.value;a.valueRaw=u.valueRaw;a.valueWithoutWhyfound=u.valueWithoutWhyfound;e=false}}else if(r===s.AttributeGroupTextArrangement.TextLast){if(i&&!l){a.value=n.value;a.valueRaw=n.valueRaw;a.valueWithoutWhyfound=n.valueWithoutWhyfound;e=false}}else if(r===s.AttributeGroupTextArrangement.TextOnly){if(!l){e=false}}}}}if(e){a.value=this._formatBasedOnGroupTemplate(t.template,i,"value");a.valueRaw=this._formatBasedOnGroupTemplate(t.template,i,"valueRaw");a.valueWithoutWhyfound=this._formatBasedOnGroupTemplate(t.template,i,"valueWithoutWhyfound")}a.whyfound=l}a.key=t.id;a.sinaAttribute=t;a.isTitle=false;a.isSortable=t.metadata.isSortable;a.displayOrder=t.metadata.usage.Detail&&t.metadata.usage.Detail.displayOrder;if(r){a.longtext=a.value}if(!(a.defaultNavigationTarget instanceof s)){if(n?.defaultNavigationTarget instanceof s){a.defaultNavigationTarget=n.defaultNavigationTarget}else if(u?.defaultNavigationTarget instanceof s){a.defaultNavigationTarget=u.defaultNavigationTarget}}if(n?.tooltip){a.tooltip=n.tooltip}else if(u?.tooltip){a.tooltip=u.tooltip}if(!a.iconUrl){if(n?.iconUrl){a.iconUrl=n.iconUrl}else if(u?.iconUrl){a.iconUrl=u.iconUrl}}return a}_formatSingleAttribute(t,e){const a={};const i=t.sina;a.name=t.label;a.valueRaw=t.value;a.value=e.suppressHighlightedValues?t.valueFormatted:t.valueHighlighted;a.valueWithoutWhyfound=t.valueFormatted;a.key=t.id;a.sinaAttribute=t;a.isTitle=false;a.isSortable=t.metadata.isSortable;a.displayOrder=t.metadata.usage.Detail&&t.metadata.usage.Detail.displayOrder;a.whyfound=t.isHighlighted;if(t.defaultNavigationTarget instanceof s){a.defaultNavigationTarget=t.defaultNavigationTarget}if(typeof t.tooltip==="string"&&t.tooltip.length>0){a.tooltip=t.tooltip}if(typeof t.iconUrl==="string"&&t.iconUrl.length>0&&t.iconUrl.startsWith("sap-icon://")){a.iconUrl=t.iconUrl}if(t.metadata.format&&(t.metadata.format===i.AttributeFormatType.MultilineText||t.metadata.format===i.AttributeFormatType.LongText)){a.longtext=t.valueHighlighted}return a}_formatBasedOnGroupTemplate(t,e,a){if(!(t&&e&&a)){return""}const i=/{\w+}/gi;let l="";let r=0;let s;while((s=i.exec(t))!==null){l+=t.substring(r,s.index);const o=s[0].slice(1,-1);l+=e[o]&&e[o][a]||"";r=i.lastIndex}l+=t.substring(r);return l}_formatResultForDocuments(t,e){let a="";e.isDocumentConnector=false;let i;for(let l=0;l<t.detailAttributes.length;l++){i=t.detailAttributes[l];if(i.metadata.id==="FILE_PROPERTY"){e.isDocumentConnector=true}if(i.metadata.isKey===true){if(a.length>0){a+=";"}a=a+i.metadata.id+"="+i.value}}if(e.isDocumentConnector===true){const l=";o=sid("+t.dataSource.system+"."+t.dataSource.client+")";const r=t.dataSource.id;e.imageUrl="/sap/opu/odata/SAP/ESH_SEARCH_SRV"+l+"/FileLoaderFiles(ConnectorId='"+r+"',FileType='ThumbNail',SelectionParameters='"+a+"')/$value";e.titleUrl="/sap/opu/odata/SAP/ESH_SEARCH_SRV"+l+"/FileLoaderFiles(ConnectorId='"+r+"',FileType='BinaryContent',SelectionParameters='"+a+"')/$value";const s="/sap/opu/odata/SAP/ESH_SEARCH_SRV"+l+"/FileLoaderFiles(ConnectorId='"+r+"',FileType='SUVFile',SelectionParameters='"+a+"')/$value";e.suvlink="/sap/bc/ui5_ui5/ui2/ushell/resources/sap/fileviewer/viewer/web/viewer.html?file="+encodeURIComponent(s);if(!t.navigationObjects){t.navigationObjects=[]}const o={text:"Show Document",targetUrl:e.suvlink,target:"_blank"};const n=this.model.sinaNext.createNavigationTarget(o);t.navigationObjects.push(n);for(let a=0;a<t.detailAttributes.length;a++){i=t.detailAttributes[a];if(i.id==="PHIO_ID_THUMBNAIL"&&i.value){e.containsThumbnail=true}if(i.id==="PHIO_ID_SUV"&&i.value){e.containsSuvFile=true}}}}_formatResultForNotes(t,e){}}return o})})();
},
	"sap/esh/search/ui/SearchResultItemMemory.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){sap.ui.define([],function(){"use strict";class e{items={};reset(){this.items={}}getItem(e){let t=this.items[e];if(!t){t={};this.items[e]=t}return t}setExpanded(e,t){const s=this.getItem(e);s.expanded=t}getExpanded(e){return this.getItem(e).expanded}}return e})})();
},
	"sap/esh/search/ui/SearchResultTableColumnType.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){sap.ui.define([],function(){"use strict";var T=function(T){T["TITLE"]="TITLE";T["TITLE_DESCRIPTION"]="TITLE_DESCRIPTION";T["DETAIL"]="DETAIL";T["RELATED_APPS"]="RELATED_APPS";T["EXTEND"]="EXTEND";return T}(T||{});var E={__esModule:true};E.TableColumnType=T;return E})})();
},
	"sap/esh/search/ui/SearchResultTableFormatter.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){sap.ui.define(["./i18n","./SearchResultBaseFormatter","./SearchResultTableColumnType","./uiConstants","sap/base/util/merge","sap/esh/search/ui/controls/SearchLayoutResponsive","sap/base/Log"],function(e,t,i,n,l,a,o){"use strict";function s(e){return e&&e.__esModule&&typeof e.default!=="undefined"?e.default:e}const u=s(e);const r=s(t);const m=i["TableColumnType"];const d=n["initialValueUnicode"];class f extends r{defaultColumnWidth;logger=(()=>o.getLogger("sap.esh.search.ui.SearchResultTableFormatter"))();constructor(e){super(e);this.model=e;this.defaultColumnWidth="100%"}formatColumns(e){if(e?.length===0){return[]}const t=this.preformatColumns(e);const i=this.model.getTableColumns(true);if(Array.isArray(i)===false||i.length===0){return this.formatInitialColumns(t)}return this.unifyColumns(t,i)}preformatColumns(e){let t;const i=[];const n=new Set;const l=this?.model?.config;for(const l of e||[]){for(const e of l?.itemattributes||[]){const l=e?.key;if(!n.has(l)&&(this.isSingleAttributeInDetail(l)||this.isGroupAttributeInDetail(l))){n.add(l);t={p13NColumnName:this.createP13NColumnName(l),attributeId:l,name:e.name,type:m.DETAIL,visible:true};i.push(t)}}}for(const n of e||[]){if(n.navigationObjects!==undefined&&n.navigationObjects.length>0){t={p13NColumnName:this.createP13NColumnName(m.RELATED_APPS),name:u.getText("intents"),type:m.RELATED_APPS,visible:true};i.push(t);break}}if(l?.extendTableColumn?.column){t={p13NColumnName:this.createP13NColumnName(m.EXTEND),attributeId:l.extendTableColumn.column?.attributeId||"",name:l.extendTableColumn.column?.name||"",type:m.EXTEND,visible:true};i.push(t)}if(e[0].titleDescription!==undefined){t={p13NColumnName:this.createP13NColumnName(m.TITLE_DESCRIPTION),name:e[0].titleDescriptionLabel+" ("+u.getText("titleDescription")+")",type:m.TITLE_DESCRIPTION,visible:true};i.unshift(t)}if(e[0].title!==undefined){if(typeof l?.titleColumnName==="string"&&l?.titleColumnName.length>0){t={p13NColumnName:this.createP13NColumnName(m.TITLE),name:u.hasText(l?.titleColumnName)?u.getText(l?.titleColumnName):l?.titleColumnName,type:m.TITLE,visible:true}}else{t={p13NColumnName:this.createP13NColumnName(m.TITLE),name:this.model.getDataSource().label,type:m.TITLE,visible:true}}i.unshift(t)}i.forEach(function(e,t){e.index=t});return i}formatInitialColumns(e){const t=l([],e);const i=[];t.sort((e,t)=>{if(e.index<t.index){return-1}else if(e.index>t.index){return 1}else{return 0}});for(const e of t){const t=this.createColumnOfAdaptiveVisibleAndWidth(e,false,undefined);i.push(t)}if(this.model?.config?.extendTableColumn?.column){for(const e of i){e.visible=e.index<7||e.type===m.EXTEND}}else{for(const e of i){e.visible=e.index<6}}return i}unifyColumns(e,t){const i=l([],e);const n=new Map(i.map(e=>[e.p13NColumnName,e]));const a=l([],t);const o=new Map(a.map(e=>[e.p13NColumnName,e]));const s=[];for(const e of t){const t=n.get(e.p13NColumnName);if(t){s.push(this.createColumnOfAdaptiveVisibleAndWidth(t,e.visible,e.width))}}if(s.length===e.length){return s}for(const t of e){const e=o.get(t.p13NColumnName);if(!e){s.push(this.createColumnOfAdaptiveVisibleAndWidth(t,true,undefined))}}return s}createColumnOfAdaptiveVisibleAndWidth(e,t,i){const n=e;const l=this.getConfigWidth(e);n.visible=t||false;if(this.model?.config?.FF_resizeResultTableColumns===true){n.width=i||l||this.defaultColumnWidth}else{if(l===undefined){delete n.width}else{n.width=l}}return n}formatRows(e,t){if(e?.length===0){return[]}if(t?.length===0){return[]}const i=[];for(let n=0;n<e.length;n++){i[n]={cells:[]};const l=e[n].itemattributes;for(let e=0;e<t.length;e++){if(t[e].type!==m.DETAIL){continue}const a=t[e].attributeId;const o=this.getAttribute(l,a);if(o!==undefined){if(o.iconUrl&&o.defaultNavigationTarget){i[n].cells.push({p13NColumnName:this.createP13NColumnName(a),attributeId:a,value:this.formatCellText(o.value,d),isHighlighted:o.whyfound||false,tooltip:this.formatCellText(o.tooltip,""),icon:o.iconUrl,defaultNavigationTarget:o.defaultNavigationTarget,type:m.DETAIL})}else if(o.iconUrl){i[n].cells.push({p13NColumnName:this.createP13NColumnName(a),attributeId:a,value:this.formatCellText(o.value,d),isHighlighted:o.whyfound||false,icon:o.iconUrl,type:m.DETAIL})}else if(o.defaultNavigationTarget){i[n].cells.push({p13NColumnName:this.createP13NColumnName(a),attributeId:a,value:this.formatCellText(o.value,d),isHighlighted:o.whyfound||false,tooltip:this.formatCellText(o.tooltip,""),defaultNavigationTarget:o.defaultNavigationTarget,type:m.DETAIL})}else{i[n].cells.push({p13NColumnName:this.createP13NColumnName(a),attributeId:a,value:this.formatCellText(o.value,d),isHighlighted:o.whyfound||false,type:m.DETAIL})}}else{i[n].cells.push({p13NColumnName:this.createP13NColumnName(a),attributeId:a,value:this.formatCellText("",d),isHighlighted:false,type:m.DETAIL})}}if(e[n].navigationObjects!==undefined&&e[n].navigationObjects.length>0){i[n].cells.push({p13NColumnName:this.createP13NColumnName(m.RELATED_APPS),value:u.getText("intents"),isHighlighted:false,navigationObjects:e[n].navigationObjects||[],type:m.RELATED_APPS})}if(this.model?.config?.extendTableColumn&&typeof this.model?.config?.extendTableColumn["assembleCell"]==="function"){const t={id:e[n].attributesMap["id"]||e[n].attributesMap["ID"],favorites_user_id:e[n].attributesMap["favorites_user_id"]||e[n].attributesMap["FAVORITES_USER_ID"]};if(typeof t.id!=="undefined"&&typeof t.favorites_user_id!=="undefined"){try{const e=this.model?.config?.extendTableColumn["assembleCell"](t);e.p13NColumnName=this.createP13NColumnName(m.EXTEND);e.value=this.formatCellText(e.value,d);e.isHighlighted=false;e.type=m.EXTEND;i[n].cells.push(e)}catch(e){this.errorHandler.onError(e)}}}if(e[n].titleDescription!==undefined){i[n].cells.unshift({p13NColumnName:this.createP13NColumnName(m.TITLE_DESCRIPTION),value:this.formatCellText(e[n]?.titleDescription||"",d),isHighlighted:e[n]?.isTitleDescriptionHighlighted||false,type:m.TITLE_DESCRIPTION})}if(e[n].title!==undefined){i[n].cells.unshift({p13NColumnName:this.createP13NColumnName(m.TITLE),value:this.formatCellText(e[n]?.title||"",d),isHighlighted:e[n]?.isTitleHighlighted||false,titleNavigation:e[n]?.titleNavigation||undefined,titleIconUrl:e[n]?.titleIconUrl||"",titleInfoIconUrl:e[n]?.titleInfoIconUrl||"",type:m.TITLE})}}return i}isSingleAttributeInDetail(e){try{const t=this.model?.getDataSource()?.getAttributeMetadata(e)["usage"];if(t&&t.Detail&&t.Detail.displayOrder>=0){return true}else{return false}}catch(t){this.logger.warning("Attribute "+e+" is not found in metadata.",t);return false}}isGroupAttributeInDetail(e){try{const t=this.model?.getDataSource()?.getAttributeGroupMetadata(e)["usage"];if(t&&t.Detail&&t.Detail.displayOrder>=0){return true}else{return false}}catch(t){this.logger.warning("Attribute "+e+" is not found in group metadata.",t);return false}}createP13NColumnName(e){const t="TABLE-COLUMN-";return t+e}getAttribute(e,t){for(let i=0;i<e.length;i++){if(e[i].key===t){return e[i]}}return undefined}getConfigWidth(e){if(e?.type===m.TITLE&&this.getColumnWidthInPixel(this?.model?.config?.titleColumnWidth)){return this.getColumnWidthInPixel(this?.model?.config?.titleColumnWidth)+"px"}if(e?.type===m.EXTEND&&this.getColumnWidthInPixel(this?.model?.config?.extendTableColumn?.column?.width)){return this.getColumnWidthInPixel(this?.model?.config?.extendTableColumn?.column?.width)+"px"}return undefined}getColumnWidthInPixel(e){try{let t=undefined;if(/^\d+(px)/.test(e)){t=parseInt(e,10)}if(/^\d+(rem)/.test(e)){t=(new a)?.convertRemToPixel(parseInt(e,10));t=parseInt(t)}if(t===undefined){return undefined}if(t>0){return t}console.warn("Invalid Value: Column width should be defined as a positive integer in pixels (px) or rem units. Example: '10rem'.");return undefined}catch(e){this.logger.warning("Invalid Value: Column width should be defined as a positive integer in pixels (px) or rem units. Example: '10rem'.",e);return undefined}}formatCellText(e,t){if(typeof e==="string"&&e.trim().length>0){return e}return t}}return f})})();
},
	"sap/esh/search/ui/SearchResultTableP13NPersonalizer.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){sap.ui.define(["./i18n","sap/m/p13n/Popup","sap/m/p13n/SelectionPanel","./error/ErrorHandler"],function(e,t,n,s){"use strict";function l(e){return e&&e.__esModule&&typeof e.default!=="undefined"?e.default:e}const o=l(e);const a=l(s);class i{model;table;p13nPanel;p13nPopup;constructor(e){this.model=e}initialize(e){try{this.table=e;if(this.p13nPopup===undefined){this.createPopup()}}catch(e){const t=a.getInstance();t.onError(e)}}updateTableColumns(e){if(e){this.model.setTableColumns(this.model.getTableInitialColumns(),true)}else{const e=this.p13nPanel.getP13nData(false);const t=this.model.getTableColumns(false);const n=[];for(const s of e){for(const e of t){if(e.p13NColumnName===s.name){e.visible=s.visible;n.push(e);break}}}this.model.setTableColumns(n,true)}}updateP13NColumns(e){const t=[];let n=[];if(e){n=this.model.getTableInitialColumns()}else{n=this.model.getTableColumns(false)}for(const e of n){t.push({name:e.p13NColumnName,label:e.name,visible:e.visible})}this.p13nPanel.setP13nData(t)}createPopup(){this.p13nPanel=new n({showHeader:false});this.p13nPopup=new t(this.table.getId()+"-personalizer",{title:o.getText("personalizeTable"),panels:[this.p13nPanel],warningText:o.getText("resetColumns"),reset:function(){this.updateP13NColumns(true)}.bind(this),close:function(e){if(e.getParameter("reason")==="Ok"){this.updateTableColumns(this.p13nPopup.getResetButton().getEnabled()===false);this.table.update()}}.bind(this)});this.p13nPopup.addStyleClass("sapUshellSearchResultTablePersonalizationDialog")}destroyControllerAndDialog(){this.p13nPopup.destroyPanels();this.p13nPopup.destroy()}openDialog(){this.updateP13NColumns(false);this.p13nPopup.open(null)}}return i})})();
},
	"sap/esh/search/ui/SearchShellHelper.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){sap.ui.define(["./i18n","./controls/searchfieldgroup/SearchFieldGroup","sap/esh/search/ui/SearchHelper","sap/esh/search/ui/SearchModel","./SearchFieldStateManager","./SearchShellHelperHorizonTheme","./UIEvents","sap/ui/core/Element","sap/ui/core/EventBus","sap/ui/model/resource/ResourceModel"],function(e,t,a,s,i,c,r,h,o,l){"use strict";function n(e){return e&&e.__esModule&&typeof e.default!=="undefined"?e.default:e}const u=n(e);const S=n(t);const d=n(i);const p=n(c);const f=n(r);class g{static isInitialized;static SearchModel;static sSearchOverlayCSS;static oModel;static oShellHeader;static oSearchFieldGroup;static oSearchSelect;static oSearchInput;static oSearchButton;static oSearchCancelButton;static focusInputFieldTimeout;static isFocusHandlerActive;static searchFieldStateManager;constructor(){throw new Error("Cannot instantiate static class 'SearchShellHelper'")}static init(){if(this.isInitialized){return}this.isInitialized=true;window.sap.ushell.Container.getServiceAsync("Search").then(e=>{e.prefetch()});this.oModel=s.getModelSingleton({},"flp");this.oSearchFieldGroup=new S("searchFieldInShell");this.oSearchFieldGroup.setModel(this.oModel);this.oSearchFieldGroup.setModel(new l({bundle:u}),"i18n");this.oSearchInput=this.oSearchFieldGroup.input;this.oSearchInput.setMaxSuggestionWidth("30rem");this.oSearchInput.setValue(this.oModel.getSearchBoxTerm());this.oSearchSelect=this.oSearchFieldGroup.select;this.oSearchSelect.setTooltip(u.getText("searchInTooltip"));this.oSearchSelect.addEventDelegate({onAfterRendering:()=>{jQuery('[id$="searchFieldInShell-select-icon"]').attr("title",u.getText("searchIn"))}},this.oSearchSelect);this.oSearchSelect.setTooltip(u.getText("searchIn"));this.oSearchSelect.attachChange(()=>{this.searchFieldStateManager.focusInputField({selectContent:true})});this.oSearchButton=this.oSearchFieldGroup.button;this.oSearchButton.attachPress(()=>{this.handleClickSearchButton()});this.oSearchCancelButton=this.oSearchFieldGroup.cancelButton;this.oSearchCancelButton.attachPress(()=>{this.collapseSearch(true)});this.oSearchFieldGroup.setCancelButtonActive(false);this.oShellHeader=h.getElementById("shell-header");this.oShellHeader.setSearch(this.oSearchFieldGroup);this.searchFieldStateManager=new d({shellHeader:this.oShellHeader,searchInput:this.oSearchInput,model:this.oModel,cancelButton:this.oSearchCancelButton,isNoResultsScreen:this.isNoSearchResultsScreen.bind(this)});jQuery(document).on("keydown",this.fnEscCallBack.bind(this));o.getInstance().subscribe("shell","searchCompLoaded",this.onSearchComponentLoaded.bind(this),{});this.oModel.subscribe(f.ESHSearchFinished,this.onAllSearchFinished.bind(this),{});h.getElementById("viewPortContainer").attachAfterNavigate(this.onAfterNavigate.bind(this),{});o.getInstance().subscribe("sap.ushell","appComponentLoaded",()=>{if(this?.oModel?.focusHandler&&a.isSearchAppActive()){this.oModel.focusHandler.setFocus()}});this.oShellHeader.attachSearchSizeChanged(this.sizeSearchFieldChanged.bind(this))}static fnEscCallBack(e){if(e.keyCode!==27){return}if(!this.oSearchInput.getDomRef().contains(document.activeElement)){return}if(a.isSearchAppActive()){return}e.preventDefault();if(this.oSearchInput.getValue()===""){this.collapseSearch(true)}else if(this.oSearchInput.getValue()===" "){this.oSearchInput.setValue("")}}static sizeSearchFieldChanged(e){const t=e.getParameters()["remSize"];let a=24;if(t<=a){this.oSearchSelect.setDisplayMode("icon")}else{this.oSearchSelect.setDisplayMode("default")}a=9;if(t<a){this.oSearchButton.setVisible(false)}else{this.oSearchButton.setVisible(true)}if(e.getParameter("isFullWidth")){this.oSearchFieldGroup.setCancelButtonActive(true);this.oSearchFieldGroup.addStyleClass("sapUshellSearchInputFullWidth")}else{this.oSearchFieldGroup.setCancelButtonActive(false);this.oSearchFieldGroup.removeStyleClass("sapUshellSearchInputFullWidth")}}static sizeChanged(e){switch(e.name){case"Phone":this.oSearchFieldGroup.setCancelButtonActive(true);break;case"Tablet":this.oSearchFieldGroup.setCancelButtonActive(false);break;case"Desktop":this.oSearchFieldGroup.setCancelButtonActive(false);break;default:break}}static expandSearch(e){this.searchFieldStateManager.expandSearch(e)}static collapseSearch(e){this.searchFieldStateManager.collapseSearch(e)}static isNoSearchResultsScreen(){return a.isSearchAppActive()&&this.oModel.getProperty("/boCount")===0&&this.oModel.getProperty("/appCount")===0}static onShellSearchButtonPressed(){g.init();if(!a.isSearchAppActive()&&this.oShellHeader.getSearchState()==="COL"){this.resetModel()}this.expandSearch(true)}static handleClickSearchButton(){if(this.oSearchInput.getValue()===""&&this.oModel.getDataSource()===this.oModel.getDefaultDataSource()){if(p.isSearchFieldExpandedByDefault()){this.searchFieldStateManager.focusInputField()}else{this.collapseSearch(true);window.setTimeout(()=>{h.getElementById("sf").focus()},1e3)}}}static getSearchInput(){return this.oSearchFieldGroup?this.oSearchFieldGroup.input:null}static onAfterNavigate(e){if(e.getParameter("toId")!=="shellPage-Action-search"&&e.getParameter("toId")!=="applicationShellPage-Action-search"&&e.getParameter("toId")!=="application-Action-search"){return}this.oModel.focusHandler.setFocus();this.oModel.notifySubscribers(f.ESHSearchLayoutChanged)}static onAllSearchFinished(){this.oSearchInput.setValue(this.oModel.getSearchBoxTerm())}static onSearchComponentLoaded(){if(!a.isSearchAppActive()){return}this.expandSearch()}static resetModel(){this.oSearchInput.setValue("");this.oModel.resetQuery()}static setSearchState(e){switch(e){case"EXP":case"EXP_S":this.searchFieldStateManager.expandSearch();break;case"COL":this.searchFieldStateManager.collapseSearch();break}}static setSearchStateSync(e){this.setSearchState(e)}static isDefaultOpen;static getDefaultOpen(){return this.isDefaultOpen}static setDefaultOpen(e){this.isDefaultOpen=e}}return g})})();
},
	"sap/esh/search/ui/SearchShellHelperAndModuleLoader.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){sap.ui.define([],function(){"use strict";class n{constructor(){}}return n})})();
},
	"sap/esh/search/ui/SearchShellHelperHorizonTheme.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){sap.ui.define(["sap/base/Log","sap/ui/core/Element"],function(e,t){"use strict";const a={isSearchFieldExpandedByDefault(){try{const e=t.getElementById("shell-header");if(!e||!e.isExtraLargeState){return false}const a=window.sap.ushell.Container.getRenderer("fiori2").getShellController();const n=a.getView();const r=(n.getViewData()?n.getViewData().config:{})||{};return r.openSearchAsDefault||e.isExtraLargeState()}catch(t){e.warning("Failed to determine default search field state",t);return false}}};return a})})();
},
	"sap/esh/search/ui/SearchTabStripsFormatter.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){sap.ui.define(["./error/ErrorHandler","./sinaNexTS/sina/DataSourceResultSet","./sinaNexTS/sina/UserCategoryDataSource","sap/esh/search/ui/error/errors"],function(e,t,r,a){"use strict";function o(e){return e&&e.__esModule&&typeof e.default!=="undefined"?e.default:e}const s=o(e);const i=t["DataSourceResultSet"];const u=r["UserCategoryDataSource"];class n{children;parent;unsureWhetherNodeisBelowRoot;tree;constructor(e,t,r){this.dataSource=e;this.count=t;this.children=[];this.parent=null;this.tree=r}equals(e){return this===e}setCount(e){this.count=e}getAncestors(){const e=[];let t=this;while(t.parent){e.push(t.parent);t=t.parent}return e}getChildren(){const e=[];for(let t=0;t<this.children.length;++t){const r=this.children[t];if(r.unsureWhetherNodeisBelowRoot){continue}e.push(r)}return e}getChildrenSortedByCount(){const e=this.getChildren();e.sort(function(e,t){return t.count-e.count});return e}clearChildren(){for(let e=0;e<this.children.length;++e){const t=this.children[e];t.parent=null}this.children=[]}appendNode(e){e.parent=this;this.children.push(e)}appendNodeAtIndex(e,t){e.parent=this;this.children.splice(t,0,e)}insertNode(e){if(this.children.length===0){this.appendNode(e);return}if(e.dataSource===this.tree.model.appDataSource){this.appendNodeAtIndex(e,0);return}if(e.dataSource===this.tree.model.favDataSource){if(this.children[0].dataSource===this.tree.model.appDataSource){this.appendNodeAtIndex(e,1)}else{this.appendNodeAtIndex(e,0)}return}let t=-1;let r=true;for(const a of this.children){t++;if(a.dataSource===this.tree.model.appDataSource||a.dataSource===this.tree.model.favDataSource||a.children.length>0){continue}if(a.dataSource.labelPlural&&e.dataSource.labelPlural&&a.dataSource.labelPlural>e.dataSource.labelPlural){r=false;break}}if(r){this.appendNode(e)}else{this.appendNodeAtIndex(e,t)}}removeChildNode(e){const t=this.children.indexOf(e);if(t<0){return}this.children.splice(t,1);e.parent=null}hasChild(e){return this.children.indexOf(e)>-1}hasSibling(e){if(this.equals(e)){return false}const t=this.parent;if(!t){return false}if(t.hasChild(e)){return true}return false}_findNode(e,t){if(this.dataSource===e){t.push(this);return}for(let r=0;r<this.children.length;++r){const a=this.children[r];a._findNode(e,t);if(t.length>0){return}}}}class l{rootNode;model;constructor(e,t){this.model=t;this.rootNode=new n(e,null,this)}reset(){this.rootNode=null}invalidate(e){let t=this.findNode(e);if(!t){this.rootNode.children=[];this.rootNode.count=0;return}let r=null;while(t){t.children=r?[r]:[];t.count=null;if(r){r.count=null}r=t;t=t.parent}}findNode(e){if(!this.rootNode){return null}const t=[];this.rootNode._findNode(e,t);return t.length>0?t[0]:null}hasChild(e,t){if(t===this.rootNode.dataSource){return false}const r=this.findNode(e);if(!r){return false}const a=this.findNode(t);if(!a){return false}return r.hasChild(a)}hasSibling(e,t){if(t===this.rootNode.dataSource){return false}const r=this.findNode(e);if(!r){return false}const a=this.findNode(t);if(!a){return false}return r.hasSibling(a)}removeObsoleteTreeNodes(e,t){for(let r=e.children.length-1;r>=0;r--){const a=e.children[r];if(a.children.length>0){this.removeObsoleteTreeNodes(a,t)}if(t.map(e=>e.dataSource).indexOf(a.dataSource)===-1){e.removeChildNode(a)}}}updateFromPerspective(e,t){let r=0;let a;if(t){r=t.totalCount}let o=this.findNode(e);if(o){a=this.collectDataSourcesFromResult(o,t);this.removeObsoleteTreeNodes(o,a)}else{o=new n(e,r,this);a=this.collectDataSourcesFromResult(o,t);this.removeObsoleteTreeNodes(this.rootNode,a);if(o.dataSource===this.model.favDataSource){o.unsureWhetherNodeisBelowRoot=false}else{o.unsureWhetherNodeisBelowRoot=true}if(this.isIncludedInMyFavorites(e)){let e=this.findNode(this.model.favDataSource);if(!e){e=new n(this.model.favDataSource,0,this);e.unsureWhetherNodeisBelowRoot=false;this.rootNode.insertNode(e)}e.insertNode(o)}else{this.rootNode.insertNode(o)}}o.setCount(r);if(e===this.model.allDataSource||this.model.isUserCategory()){o.setCount(o.count+this.model.getProperty("/appCount"))}else if(e===this.model.appDataSource){o.setCount(this.model.getProperty("/appCount"))}this.updateTreeFromPerspective(o,a);this.updateCountMyFavorites(o,a)}updateMyFavTreeNode(e,t){if(this.model.userCategoryManager&&this.model.userCategoryManager.isFavActive()){if(e.dataSource===this.model.allDataSource){let r=this.findNode(this.model.favDataSource);if(!r){r=new n(this.model.favDataSource,t.filter(e=>e.isFavDataSource).reduce((e,t)=>e+t.measureValue,0),this);e.unsureWhetherNodeisBelowRoot=false;e.insertNode(r)}}}}updateCountMyFavorites(e,t){const r=this.findNode(this.model.favDataSource);if(r&&e.dataSource===this.model.allDataSource){r.setCount(t.filter(e=>e.isFavDataSource).reduce((e,t)=>e+t.measureValue,0));if(this.isIncludedInMyFavorites(this.model.appDataSource)&&t.map(e=>e.dataSource).indexOf(this.model.appDataSource)===-1){r.setCount(r.count+this.model.getProperty("/appCount"))}}}getFacets(e,t){function r(e){return e instanceof i}const a=[];if(!t||e.dataSource===this.model.appDataSource){return a}if(t.facets.length===0&&t.items.length>0&&e.dataSource instanceof u){const r=[];r.push(this.model.sinaNext._createDataSourceResultSetItem({dataSource:e.dataSource.subDataSources[0],dimensionValueFormatted:e.dataSource.subDataSources[0].labelPlural,measureValue:t.totalCount,measureValueFormatted:t.totalCount.toString()}));const o=this.model.sinaNext._createDataSourceResultSet({title:this.model.query.filter.dataSource.label,items:r,query:this.model.query});a.push(o);return a}else if(t.facets.length===0){return a}if(!r(t.facets[0])){return a}if(t.facets[0].type!==this.model.sinaNext.FacetType.DataSource){return a}return t.facets}isIncludedInMyFavorites(e){if(this.model.userCategoryManager&&this.model.userCategoryManager.isFavActive()&&(this.model.favDataSource.subDataSources.indexOf(e)>-1||e===this.model.appDataSource&&this.model.favDataSource.includeApps)){return true}else{return false}}collectDataSourcesFromResult(e,t){function r(e){return e instanceof i}const a=[];const o={};if((e.dataSource===this.model.allDataSource||e.dataSource===this.model.favDataSource)&&this.model.getProperty("/appCount")>0){o.dataSource=this.model.appDataSource;o.isAppDataSource=true;o.isFavDataSource=this.model.userCategoryManager?this.model.userCategoryManager.isFavActive()?this.model.favDataSource.includeApps:false:false;o.measureValue=this.model.getProperty("/appCount");o.measureValueFormatted=o.measureValue.toString();o.dimensionValueFormatted=this.model.appDataSource.labelPlural;if(e.dataSource===this.model.favDataSource&&o.isFavDataSource||e.dataSource===this.model.allDataSource&&!o.isFavDataSource){a.push(o)}}if(e.dataSource.type===this.model.sinaNext.DataSourceType.BusinessObject){o.dataSource=e.dataSource;o.isAppDataSource=false;o.isFavDataSource=this.isIncludedInMyFavorites(e.dataSource);o.measureValue=e.count?e.count:0;o.measureValueFormatted=o.measureValue.toString();o.dimensionValueFormatted=e.dataSource.labelPlural?e.dataSource.labelPlural:e.dataSource.label;a.push(o);return a}const s=this.getFacets(e,t);if(!s||s.length===0||!r(s[0])){return a}s[0].items.forEach(e=>a.push({dataSource:e.dataSource,isAppDataSource:false,isFavDataSource:this.isIncludedInMyFavorites(e.dataSource),measureValue:e.measureValue,measureValueFormatted:e.measureValueFormatted,dimensionValueFormatted:e.dimensionValueFormatted}));return a}updateTreeFromPerspective(e,t){if(e.dataSource===this.model.appDataSource||!t){return}this.updateMyFavTreeNode(e,t);const r=this.findNode(this.model.favDataSource);for(const a of t){const t=this.findNode(a.dataSource);if(t){if(t.unsureWhetherNodeisBelowRoot){t.unsureWhetherNodeisBelowRoot=false}if(e!==t.parent&&(e.dataSource.type===this.model.sinaNext.DataSourceType.Category||e.dataSource.type===this.model.sinaNext.DataSourceType.UserCategory)){t.parent.removeChildNode(t);e.insertNode(t)}}else{const t=new n(a.dataSource,a.measureValue,this);t.unsureWhetherNodeisBelowRoot=false;if(r&&a.isFavDataSource){r.insertNode(t)}else{e.insertNode(t)}}}}}class d{errorHandler;tree;constructor(e,t){this.errorHandler=s.getInstance();this.tree=new l(e,t)}format(e,t,r){this.tree.updateFromPerspective(e,t);const a=this.generateTabStrips(e,r);return a}invalidate(e){if(this.tree){this.tree.invalidate(e)}}generateTabStrips(e,t){let r=this.doGenerateTabStrips(e,t);let o;try{o=t.config.tabStripsFormatter(r.strips);if(o.indexOf(r.selected)<0){o.splice(0,0,r.selected)}r.strips=o}catch(o){const s=new a.ConfigurationExitError("tabStripsFormatter",t.config.applicationComponent,o);this.errorHandler.onError(s);r=this.doGenerateTabStrips(e,t)}return r}doGenerateTabStrips(e,t){const r=9999;let a,o,s;const i={strips:[],selected:null};const u=this.tree.findNode(e);if(!u){if(e!==t.allDataSource){i.strips.push(t.allDataSource)}i.strips.push(e);i.selected=e;return i}if(u.dataSource===t.allDataSource){i.strips.push(t.allDataSource);s=u.getChildrenSortedByCount();for(a=0;a<s.length&&i.strips.length<r;++a){o=s[a];i.strips.push(o.dataSource)}i.selected=t.allDataSource;return i}if(u.parent===this.tree.rootNode&&!u.unsureWhetherNodeisBelowRoot){i.strips.push(t.allDataSource);let e=false;s=this.tree.rootNode.getChildrenSortedByCount();for(a=0;a<s.length;++a){o=s[a];if(e){if(i.strips.length>=r){break}i.strips.push(o.dataSource)}else{if(i.strips.length<r-1||u===o){i.strips.push(o.dataSource);if(u===o){e=true}}}}if(s.length===0){i.strips.push(u.dataSource)}i.selected=u.dataSource;return i}i.strips.push(t.allDataSource);i.strips.push(u.dataSource);i.selected=u.dataSource;return i}}var c={__esModule:true};c.Tree=l;c.Formatter=d;return c})})();
},
	"sap/esh/search/ui/SearchUrlParser.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){sap.ui.define(["./SearchUrlParserInav2","./SearchHelper","./i18n","sap/m/MessageBox","./error/ErrorHandler"],function(e,r,t,s,a){"use strict";function o(e){return e&&e.__esModule&&typeof e.default!=="undefined"?e.default:e}const i=o(e);const l=o(t);const n=o(a);class d{model;urlParserInav2;errorHandler;constructor(e){this.model=e.model;this.urlParserInav2=new i(e);this.errorHandler=n.getInstance()}async parse(e=true){try{if(!this.model.config.isSearchUrl(r.getHashFromUrl())){return Promise.resolve(undefined)}}catch(e){this.errorHandler.onError(e);return Promise.resolve(undefined)}if(!r.hasher.hasChanged()){return Promise.resolve(undefined)}await this.model.initAsync();if(!this.model.sinaNext){return}let t=r.getUrlParameters();if($.isEmptyObject(t)){return undefined}if(t.datasource||t.searchterm){if(!t.datasource||this.isJson(t.datasource)){return this.urlParserInav2.parseUrlParameters(t)}}try{t=this.model.config.parseSearchUrlParameters(t)}catch(e){this.errorHandler.onError(e);return}if(t.datasource&&!this.isJson(t.datasource)&&t.searchterm){this.parseSimplifiedUrlParameters(t)}else{this.parseUrlParameters(t)}this.model.setProperty("/searchTermPlaceholder",this.model.calculatePlaceholder());this.model.calculateSearchButtonStatus();if(e){this.model.fireSearchQuery({deserialization:true})}}isJson(e){return e.indexOf("{")>=0&&e.indexOf("}")>=0}parseSimplifiedUrlParameters(e){if(e.top){const r=parseInt(e.top,10);this.model.setTop(r,false)}const r=this.model.sinaNext.createFilter();r.setSearchTerm(e.searchterm);let t=this.model.sinaNext.getDataSource(e.datasource);if(!t){t=this.model.sinaNext.allDataSource}r.setDataSource(t);this.model.setProperty("/uiFilter",r);this.model.setDataSource(r.dataSource,false,false)}parseUrlParameters(e){if(e.top){const r=parseInt(e.top,10);this.model.setTop(r,false)}if(e.orderby&&e.sortorder){const r={orderBy:e.orderby,sortOrder:e.sortorder};this.model.setOrderBy(r,false)}else{this.model.resetOrderBy(false)}let r;if(e.filter){try{const t=JSON.parse(e.filter);r=this.model.sinaNext.parseFilterFromJson(t);this.model.setProperty("/uiFilter",r);this.model.setDataSource(r.dataSource,false,false)}catch(e){s.show(l.getText("searchUrlParsingErrorLong")+"\n("+e.toString()+")",{icon:s.Icon.ERROR,title:l.getText("searchUrlParsingError"),actions:[s.Action.OK]})}}}}return d})})();
},
	"sap/esh/search/ui/SearchUrlParserInav2.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){sap.ui.define(["sap/m/MessageBox","./error/errors","./i18n"],function(e,t,a){"use strict";function r(e){return e&&e.__esModule&&typeof e.default!=="undefined"?e.default:e}const o=r(t);const i=r(a);function s(e){if(e&&e.conditions){return true}return false}class n{model;constructor(e){this.model=e.model}async parseUrlParameters(t){if(t.top){const e=parseInt(t.top,10);this.model.setTop(e,false)}let a=this.model.sinaNext.allDataSource;if(t.datasource){const r=JSON.parse(t.datasource);const s=r.ObjectName.value;switch(r.Type){case"Category":if(s==="$$ALL$$"){a=this.model.sinaNext.allDataSource}else{a=this.model.sinaNext.getDataSource(s);if(!a){a=this.model.sinaNext.createDataSource({type:this.model.sinaNext.DataSourceType.Category,id:s,label:r.label,labelPlural:r.labelPlural})}}break;case"BusinessObject":a=this.model.sinaNext.getDataSource(s);if(!a){a=this.model.sinaNext.allDataSource;delete t.filter;e.show(i.getText("searchUrlParsingErrorLong")+"\n(Unknow datasource "+s+")",{icon:e.Icon.ERROR,title:i.getText("searchUrlParsingError"),actions:[e.Action.OK]})}break;default:{const e=new Error("Unknown datasource type "+r.Type);throw new o.UnknownDataSourceType(e)}}}await this.model.sinaNext.loadMetadata(a);const r={dataSource:a};let s;if(t.filter){try{const e=JSON.parse(t.filter);s=this.parseCondition(r,e)}catch(t){s=this.model.sinaNext.createComplexCondition();e.show(i.getText("searchUrlParsingErrorLong")+"\n("+t.toString()+")",{icon:e.Icon.ERROR,title:i.getText("searchUrlParsingError"),actions:[e.Action.OK]})}}else{s=this.model.sinaNext.createComplexCondition()}const n=this.model.sinaNext.createFilter({dataSource:a,searchTerm:t.searchterm,rootCondition:s});this.model.setProperty("/uiFilter",n);this.model.setDataSource(n.dataSource,false)}parseCondition(e,t){if(s(t)){return this.parseComplexCondition(e,t)}return this.parseSimpleCondition(e,t)}parseComplexCondition(e,t){const a=[];for(let r=0;r<t.conditions.length;++r){const o=t.conditions[r];a.push(this.parseCondition(e,o))}return this.model.sinaNext.createComplexCondition({operator:t.operator,conditions:a,valueLabel:t.label})}parseSimpleCondition(e,t){e.attribute=t.attribute;return this.model.sinaNext.createSimpleCondition({attribute:t.attribute,attributeLabel:t.attributeLabel,value:this.parseValue(e,t.value),valueLabel:t.valueLabel||t.label,operator:this.parseOperator(e,t.operator)})}parseValue(e,t){const a=e.dataSource.getAttributeMetadata(e.attribute);return this.model.sinaNext.inav2TypeConverter.ina2Sina(a.type,t)}parseOperator(e,t){switch(t){case"=":return this.model.sinaNext.ComparisonOperator.Eq;case">":return this.model.sinaNext.ComparisonOperator.Gt;case">=":return this.model.sinaNext.ComparisonOperator.Ge;case"<":return this.model.sinaNext.ComparisonOperator.Lt;case"<=":return this.model.sinaNext.ComparisonOperator.Le;default:throw"Unknown operator "+t}}}return n})})();
},
	"sap/esh/search/ui/SearchUtil.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){sap.ui.define([],function(){"use strict";const t="sapElisaSearchResultForwardEllipsis";function e(e){const s=t;if(e.textContent?.substring(0,3)==="..."&&e.classList.contains(s)&&e.dataset?.originalcontent?.substring(0,3)!=="..."){o(e,s)}const a=e?.querySelector("b");if(!a){return}const l=n(a);if(l){r(e,s);return}else{const t=a.parentElement;const n=document.createRange();n.setStartBefore(t.firstChild);n.setEndBefore(a);const o=n.toString().trim();if(o.length>0){i(e,s);const t=document.createTextNode("... ");n.deleteContents();n.insertNode(t)}else{r(e,s)}}}function n(t){if(!t){return false}const e=t.getBoundingClientRect();const n=["sapUshellSearchLinkLink","sapUshellSearchTextText"];let i=s(t,n);if(!i){i=t.parentElement}const o=i.getBoundingClientRect();const r=e.top<=o.top+1&&e.left>=o.left&&e.bottom<=o.bottom&&e.right<=o.right+1;return r}function s(t,e){let n=t;while(n){for(const t of e){if(n.classList.contains(t)){return n}}n=n.parentElement}return null}function i(t,e){if(!e||t.classList.contains(e)){return}t.classList.add(e);t.dataset.originalcontent=t.textContent;t.dataset.originalcontenthtml=t.innerHTML}function o(t,e){if(t.dataset.originalcontenthtml){t.innerHTML=t.dataset.originalcontenthtml}r(t,e)}function r(t,e){delete t.dataset.originalcontent;delete t.dataset.originalcontenthtml;if(e){t.classList.remove(e)}}var a={__esModule:true};a.SAP_ELISA_CLASSNAME_FORWARD_ELLIPSIS=t;a.forwardEllipsis4Whyfound=e;a.isElementVisible=n;a.findParentWithClass=s;a.preserveElement=i;a.restoreElement=o;a.removePreservedData=r;return a})})();
},
	"sap/esh/search/ui/SinaConfigurator.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){sap.ui.define(["./SearchConfigurationSettings","sap/base/Log","./sinaNexTS/core/Log","./navigationtrackers/CustomNavigationTracker","./navigationtrackers/EventLoggerNavigationTracker","sap/base/i18n/ResourceBundle","sap/ui/core/format/NumberFormat","sap/ui/core/format/DateFormat","./i18n","sap/base/i18n/Localization"],function(e,r,o,i,n,t,a,u,g,s){"use strict";function c(e){return e&&e.__esModule&&typeof e.default!=="undefined"?e.default:e}const f=e["sinaParameters"];const l=o["Severity"];const d=i["generateCustomNavigationTracker"];const m=n["generateEventLoggerNavigationTracker"];const v=c(g);class L{model;loadedResourceBundles;constructor(e){this.model=e;this.loadedResourceBundles=new Map}configure(e){const r=[];for(const o of e){r.push(this.configureSina(o,{configureLogging:true,configureCommonParameters:true,configureNavigationTrackers:true,configureGetTextFromResourceBundle:true,configureFormatLibrary:true,configureGetText:true,configureLanguage:true}))}return r}configureSina(e,r){e=this.normalizeConfiguration(e);if(r.configureCommonParameters){this.configureCommonParameters(e)}if(r.configureFormatLibrary){this.configureFormatLibrary(e)}if(r.configureLogging){this.configureLogging(e)}if(r.configureNavigationTrackers){this.configureNavigationTracking(e)}if(r.configureGetTextFromResourceBundle){this.configureGetTextFromResourceBundle(e)}if(r.configureGetText){this.configureGetText(e)}if(r.configureLanguage){this.configureLanguage(e)}if(e.subProviders){e.subProviders=e.subProviders.map(e=>this.configureSina(e,{configureNavigationTrackers:true}))}return e}normalizeConfiguration(e){if(typeof e==="string"){return{provider:e,url:""}}return e}configureLanguage(e){if(this.model.config.isUshell&&typeof sap.cf==="undefined"){return}if(!e.getLanguage){const r=()=>s.getLanguage();e["getLanguage"]=r}}configureNavigationTracking(e){e.navigationTrackers=e.navigationTrackers||[];e.navigationTrackers.push(d(this.model));e.navigationTrackers.push(m(this.model))}configureCommonParameters(e){for(const r of f){if(!e[r]){e[r]=this.model.config[r]}}}configureFormatLibrary(e){e.NumberFormat=a;e.DateFormat=u}configureLogging(e){const o=r.getLogger("sap.esh.search.ui.sina");e.logTarget={debug:o.debug,info:o.info,warn:o.warning,error:o.error};let i=l.ERROR;switch(o.getLevel()){case r.Level.ALL:case r.Level.TRACE:case r.Level.DEBUG:i=l.DEBUG;break;case r.Level.INFO:i=l.INFO;break;case r.Level.WARNING:i=l.WARN;break}e.logLevel=i}configureGetTextFromResourceBundle(e){e.getTextFromResourceBundle=async(e,r)=>{let o;if(this.loadedResourceBundles.has(e)){o=this.loadedResourceBundles.get(e)}else{o=await t.create({url:e});this.loadedResourceBundles.set(e,o)}return o.getText(r)}}configureGetText(e){e.getText=v.getText.bind(v)}}var h={__esModule:true};h.SinaConfigurator=L;return h})})();
},
	"sap/esh/search/ui/UIEvents.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){sap.ui.define([],function(){"use strict";var e=function(e){e["ESHSearchFinished"]="ESHSearchFinished";e["ESHSearchStarted"]="ESHSearchStarted";e["ESHSearchLayoutChanged"]="ESHSearchLayoutChanged";e["ESHSelectionChanged"]="ESHSelectionChanged";e["ESHResultViewTypeChanged"]="ESHResultViewTypeChanged";return e}(e||{});return e})})();
},
	"sap/esh/search/ui/UIUtil.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){sap.ui.define([],function(){"use strict";function e(e,n,t,r){for(let u=0;u<n.length;++u){const i=n[u];if(i["es_"+e]){continue}i.addEventListener(t,r);i["es_"+e]=true}return n}var n={__esModule:true};n.registerHandler=e;return n})})();
},
	"sap/esh/search/ui/UrlUtils.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){sap.ui.define(["./error/ErrorHandler"],function(r){"use strict";function e(r){return r&&r.__esModule&&typeof r.default!=="undefined"?r.default:r}const n=e(r);function t(r,e,t,o,d){const i={top:e.toString(),filter:o?encodeURIComponent(JSON.stringify(t.toJson())):JSON.stringify(t.toJson())};if(r.config.FF_sortOrderInUrl&&d&&Object.keys(d).length>0){if(d.orderBy){i.orderby=encodeURIComponent(d.orderBy)}if(d.sortOrder){i.sortorder=d.sortOrder}}try{return r.config.renderSearchUrl(i)}catch(r){const e=n.getInstance();e.onError(r);return""}}var o={__esModule:true};o.renderUrlFromParameters=t;return o})})();
},
	"sap/esh/search/ui/appsearch/AppSearch.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){
/*!
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.define(["./CatalogSearch"],function(t){"use strict";function e(t){return t&&t.__esModule&&typeof t.default!=="undefined"?t.default:t}const r=e(t);class s{catalogSearch;searchProviders;constructor(){this.catalogSearch=new r;this.searchProviders=[this.catalogSearch]}prefetch(){for(let t=0;t<this.searchProviders.length;t++){const e=this.searchProviders[t];e.prefetch()}}async search(t){const e=[];for(let r=0;r<this.searchProviders.length;r++){const s=this.searchProviders[r];e.push(s.search(t))}return Promise.all(e).then(function(t){const e={totalCount:0,tiles:[]};for(let r=0;r<t.length;r++){const s=t[r];e.totalCount+=s.totalCount;e.tiles.push(...s.tiles)}return e})}}return s})})();
},
	"sap/esh/search/ui/appsearch/CatalogSearch.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){
/*!
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.define(["../error/ErrorHandler","sap/ui/Device","./JsSearchFactory","sap/base/Log","../error/errors","../SearchModel"],function(t,e,i,r,s,o){"use strict";function n(t){return t&&t.__esModule&&typeof t.default!=="undefined"?t.default:t}const a=n(t);const l=n(i);const c=s["AppSearchError"];const h=s["AppSearchSearchTermExceedsLimitsError"];const u=s["ESHUIError"];const g=n(o);class p{errorHandler;initPromise;searchEngine;logger=(()=>r.getLogger("sap.esh.search.ui.appsearch.catalogsearch"))();constructor(){this.errorHandler=a.getInstance({model:g.getModelSingleton({},"flp")});this.initPromise=this.initAsync()}async initAsync(){if(this.initPromise){return this.initPromise}try{const t=await window.sap.ushell.Container.getServiceAsync("SearchableContent");const i=await t.getApps();const r=this.formatApps(i);this.logger.debug(`Adding ${r.length} flp apps to the search index`);let s=true;const o=e&&e.browser&&e.browser.msie||false;if(!String.prototype.normalize||o){s=false}this.searchEngine=l.createJsSearch({objects:r,fields:["title","subtitle","keywords"],shouldNormalize:s,algorithm:{id:"contains-ranked",options:[50,49,40,39,5,4,51]}})}catch(t){const e=new u("FLP SearchableContent Service Failed - App Search won't be available.");e.previous=t;throw e}}formatApps(t){const e=[];t.forEach(function(t){t.visualizations.forEach(function(t){let i=t.title;if(t.subtitle){i=i+" - "+t.subtitle}e.push({title:t.title||"",subtitle:t.subtitle||"",keywords:t.keywords?t.keywords.join(" "):"",icon:t.icon||"",label:i,visualization:t,url:t.targetURL})})});return e}prefetch(){}async search(t){const e=1e3;if(t.searchTerm?.length>e){throw new h(e)}try{await this.initAsync();const e=this.searchEngine.search({searchFor:t.searchTerm,top:t.top,skip:t.skip});const i=[];for(let t=0;t<e.results.length;++t){const r=e.results[t];const s=Object.assign({},r.object);let o=s.title;let n=false;if(typeof r.highlighted==="object"&&r.highlighted){if("title"in r.highlighted&&typeof r.highlighted.title==="string"){o=r.highlighted.title}if("subtitle"in r.highlighted&&typeof r.highlighted.subtitle==="string"){o=o+" - "+r.highlighted.subtitle;n=true}}if(!n&&s.subtitle){o=o+" - "+s.subtitle}s.label=o;i.push(s)}return{totalCount:e.totalCount,tiles:i}}catch(t){const e=new c(t);e.previous=t;this.errorHandler.onError(e);return{totalCount:0,tiles:[]}}}}return p})})();
},
	"sap/esh/search/ui/appsearch/JsSearch.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){
/*!
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.define([],function(){"use strict";return function d(u){var f=this;if(!u){throw new Error("You must specify search options")}if(String.prototype.normalize){u.shouldNormalize=u.shouldNormalize!==undefined?u.shouldNormalize:true}else{u.shouldNormalize=false}if(!u.algorithm||!u.algorithm.id||!Array.isArray(u.algorithm.options)||typeof u.algorithm.options[0]!=="number"||typeof u.algorithm.options[1]!=="number"||typeof u.algorithm.options[2]!=="number"||typeof u.algorithm.options[3]!=="number"||typeof u.algorithm.options[4]!=="number"||typeof u.algorithm.options[5]!=="number"||typeof u.algorithm.options[6]!=="number"){throw new Error("You must specify a supported search algorithm with all options")}var e=b(u.algorithm.id,u.algorithm.options);if(e===undefined){throw new Error("You must specify a supported search algorithm")}var c=[];if(Array.isArray(u.fields)){u.fields.forEach(function(d){if(typeof d==="string"){c.push({field:d,weight:3})}})}else if(u.fields){if(Array.isArray(u.fields.groups)){var a=parseFloat(u.fields.scale);if(isNaN(a)){a=1}else{a=Math.max(1,a)}u.fields.groups.forEach(function(d,f){var e=(u.fields.groups.length-1-f)/(u.fields.groups.length-1)*(a-1)+1;if(Array.isArray(d)){d.forEach(function(d){if(typeof d==="string"){c.push({field:d,weight:e})}})}else if(typeof d==="string"){c.push({field:d,weight:e})}})}}if(c.length<1){throw new Error("You must specify fields to search in")}var r;var i=[];var t;this.setObjects=function(d){if(!Array.isArray(d)){throw new Error("You must give an array of objects")}t=d;r=undefined};if(u.objects){this.setObjects(u.objects)}function n(d,u){var f=d;f=f.replace(/\[(\^?)(\\s)?a0\]/g,"[$1$2\\p{Letter}\\p{Number}]");f=f.replace(/\[(\^?)(\\s)?a\]/g,"[$1$2\\p{Letter}]");f=f.replace(/\[(\^?)(\\s)?0\]/g,"[$1$2\\p{Number}]");f=f.replace(/\[(\^?)(\\s)?a0\]/g,"[$1$2\\p{Number}]");f=f.replace(/\[\^\\p{Letter}\]/g,"(?:[\0-@[-`{--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------]|\ud800[\udc0c\udc27\udc3b\udc3e\udc4e\udc4f\udc5e-\udc7f\udcfb-\ude7f\ude9d-\ude9f\uded1-\udeff\udf20-\udf2c\udf41\udf4a-\udf4f\udf76-\udf7f\udf9e\udf9f\udfc4-\udfc7\udfd0-\udfff]|\ud801[\udc9e-\udcaf\udcd4-\udcd7\udcfc-\udcff\udd28-\udd2f\udd64-\uddff\udf37-\udf3f\udf56-\udf5f\udf68-\udfff]|\ud802[\udc06\udc07\udc09\udc36\udc39-\udc3b\udc3d\udc3e\udc56-\udc5f\udc77-\udc7f\udc9f-\udcdf\udcf3\udcf6-\udcff\udd16-\udd1f\udd3a-\udd7f\uddb8-\uddbd\uddc0-\uddff\ude01-\ude0f\ude14\ude18\ude34-\ude5f\ude7d-\ude7f\ude9d-\udebf\udec8\udee5-\udeff\udf36-\udf3f\udf56-\udf5f\udf73-\udf7f\udf92-\udfff]|\ud803[\udc49-\udc7f\udcb3-\udcbf\udcf3-\udfff]|\ud804[\udc00-\udc02\udc38-\udc82\udcb0-\udccf\udce9-\udd02\udd27-\udd4f\udd73-\udd75\udd77-\udd82\uddb3-\uddc0\uddc5-\uddd9\udddb\udddd-\uddff\ude12\ude2c-\ude7f\ude87\ude89\ude8e\ude9e\udea9-\udeaf\udedf-\udf04\udf0d\udf0e\udf11\udf12\udf29\udf31\udf34\udf3a-\udf3c\udf3e-\udf4f\udf51-\udf5c\udf62-\udfff]|\ud805[\udc35-\udc46\udc4b-\udc7f\udcb0-\udcc3\udcc6\udcc8-\udd7f\uddaf-\uddd7\udddc-\uddff\ude30-\ude43\ude45-\ude7f\udeab-\udeff\udf1a-\udfff]|\ud806[\udc00-\udc9f\udce0-\udcfe\udd00-\uddff\ude01-\ude0a\ude33-\ude39\ude3b-\ude4f\ude51-\ude5b\ude84\ude85\ude8a-\udebf\udef9-\udfff]|\ud807[\udc09\udc2f-\udc3f\udc41-\udc71\udc90-\udcff\udd07\udd0a\udd31-\udd45\udd47-\udfff]|\ud808[\udf9a-\udfff]|\ud809[\udc00-\udc7f\udd44-\udfff]|[\ud80a\ud80b\ud80e-\ud810\ud812-\ud819\ud823-\ud82b\ud82d\ud82e\ud830-\ud834\ud836-\ud839\ud83c-\ud83f\ud87b-\ud87d\ud87f-\udbff][\udc00-\udfff]|\ud80d[\udc2f-\udfff]|\ud811[\ude47-\udfff]|\ud81a[\ude39-\ude3f\ude5f-\udecf\udeee-\udeff\udf30-\udf3f\udf44-\udf62\udf78-\udf7c\udf90-\udfff]|\ud81b[\udc00-\udeff\udf45-\udf4f\udf51-\udf92\udfa0-\udfdf\udfe2-\udfff]|\ud821[\udfed-\udfff]|\ud822[\udef3-\udfff]|\ud82c[\udd1f-\udd6f\udefc-\udfff]|\ud82f[\udc6b-\udc6f\udc7d-\udc7f\udc89-\udc8f\udc9a-\udfff]|\ud835[\udc55\udc9d\udca0\udca1\udca3\udca4\udca7\udca8\udcad\udcba\udcbc\udcc4\udd06\udd0b\udd0c\udd15\udd1d\udd3a\udd3f\udd45\udd47-\udd49\udd51\udea6\udea7\udec1\udedb\udefb\udf15\udf35\udf4f\udf6f\udf89\udfa9\udfc3\udfcc-\udfff]|\ud83a[\udcc5-\udcff\udd44-\udfff]|\ud83b[\udc00-\uddff\ude04\ude20\ude23\ude25\ude26\ude28\ude33\ude38\ude3a\ude3c-\ude41\ude43-\ude46\ude48\ude4a\ude4c\ude50\ude53\ude55\ude56\ude58\ude5a\ude5c\ude5e\ude60\ude63\ude65\ude66\ude6b\ude73\ude78\ude7d\ude7f\ude8a\ude9c-\udea0\udea4\udeaa\udebc-\udfff]|\ud869[\uded7-\udeff]|\ud86d[\udf35-\udf3f]|\ud86e[\udc1e\udc1f]|\ud873[\udea2-\udeaf]|\ud87a[\udfe1-\udfff]|\ud87e[\ude1e-\udfff]|[\ud800-\udbff](?![\udc00-\udfff])|(?:[^\ud800-\udbff]|^)[\udc00-\udfff])");f=f.replace(/\[\^\\p{Number}\]/g,"(?:[\0-/:----------------------------------------------------------------]|\ud800[\udc00-\udd06\udd34-\udd3f\udd79-\udd89\udd8c-\udee0\udefc-\udf1f\udf24-\udf40\udf42-\udf49\udf4b-\udfd0\udfd6-\udfff]|\ud801[\udc00-\udc9f\udcaa-\udfff]|\ud802[\udc00-\udc57\udc60-\udc78\udc80-\udca6\udcb0-\udcfa\udd00-\udd15\udd1c-\uddbb\uddbe\uddbf\uddd0\uddd1\ude00-\ude3f\ude48-\ude7c\ude7f-\ude9c\udea0-\udeea\udef0-\udf57\udf60-\udf77\udf80-\udfa8\udfb0-\udfff]|\ud803[\udc00-\udcf9\udd00-\ude5f\ude7f-\udfff]|\ud804[\udc00-\udc51\udc70-\udcef\udcfa-\udd35\udd40-\uddcf\uddda-\udde0\uddf5-\udeef\udefa-\udfff]|[\ud805\ud807][\udc00-\udc4f\udc5a-\udccf\udcda-\ude4f\ude5a-\udebf\udeca-\udf2f\udf3c-\udfff]|\ud806[\udc00-\udcdf\udcf3-\udfff]|[\ud808\ud80a-\ud819\ud81b-\ud833\ud836-\ud839\ud83b\ud83d-\udbff][\udc00-\udfff]|\ud809[\udc6f-\udfff]|\ud81a[\udc00-\ude5f\ude6a-\udf4f\udf5a\udf62-\udfff]|\ud834[\udc00-\udf5f\udf72-\udfff]|\ud835[\udc00-\udfcd]|\ud83a[\udc00-\udcc6\udcd0-\udd4f\udd5a-\udfff]|\ud83c[\udc00-\udcff\udd0d-\udfff]|[\ud800-\udbff](?![\udc00-\udfff])|(?:[^\ud800-\udbff]|^)[\udc00-\udfff])");f=f.replace(/\[\^\\p{Letter}\\p{Number}\]/g,"(?:[\0-/:-@[-`{---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------]|\ud800[\udc0c\udc27\udc3b\udc3e\udc4e\udc4f\udc5e-\udc7f\udcfb-\udd06\udd34-\udd3f\udd79-\udd89\udd8c-\ude7f\ude9d-\ude9f\uded1-\udee0\udefc-\udeff\udf24-\udf2c\udf4b-\udf4f\udf76-\udf7f\udf9e\udf9f\udfc4-\udfc7\udfd0\udfd6-\udfff]|\ud801[\udc9e\udc9f\udcaa-\udcaf\udcd4-\udcd7\udcfc-\udcff\udd28-\udd2f\udd64-\uddff\udf37-\udf3f\udf56-\udf5f\udf68-\udfff]|\ud802[\udc06\udc07\udc09\udc36\udc39-\udc3b\udc3d\udc3e\udc56\udc57\udc77\udc78\udc9f-\udca6\udcb0-\udcdf\udcf3\udcf6-\udcfa\udd1c-\udd1f\udd3a-\udd7f\uddb8-\uddbb\uddd0\uddd1\ude01-\ude0f\ude14\ude18\ude34-\ude3f\ude48-\ude5f\ude7f\udea0-\udebf\udec8\udee5-\udeea\udef0-\udeff\udf36-\udf3f\udf56\udf57\udf73-\udf77\udf92-\udfa8\udfb0-\udfff]|\ud803[\udc49-\udc7f\udcb3-\udcbf\udcf3-\udcf9\udd00-\ude5f\ude7f-\udfff]|\ud804[\udc00-\udc02\udc38-\udc51\udc70-\udc82\udcb0-\udccf\udce9-\udcef\udcfa-\udd02\udd27-\udd35\udd40-\udd4f\udd73-\udd75\udd77-\udd82\uddb3-\uddc0\uddc5-\uddcf\udddb\udddd-\udde0\uddf5-\uddff\ude12\ude2c-\ude7f\ude87\ude89\ude8e\ude9e\udea9-\udeaf\udedf-\udeef\udefa-\udf04\udf0d\udf0e\udf11\udf12\udf29\udf31\udf34\udf3a-\udf3c\udf3e-\udf4f\udf51-\udf5c\udf62-\udfff]|\ud805[\udc35-\udc46\udc4b-\udc4f\udc5a-\udc7f\udcb0-\udcc3\udcc6\udcc8-\udccf\udcda-\udd7f\uddaf-\uddd7\udddc-\uddff\ude30-\ude43\ude45-\ude4f\ude5a-\ude7f\udeab-\udebf\udeca-\udeff\udf1a-\udf2f\udf3c-\udfff]|\ud806[\udc00-\udc9f\udcf3-\udcfe\udd00-\uddff\ude01-\ude0a\ude33-\ude39\ude3b-\ude4f\ude51-\ude5b\ude84\ude85\ude8a-\udebf\udef9-\udfff]|\ud807[\udc09\udc2f-\udc3f\udc41-\udc4f\udc6d-\udc71\udc90-\udcff\udd07\udd0a\udd31-\udd45\udd47-\udd4f\udd5a-\udfff]|\ud808[\udf9a-\udfff]|\ud809[\udc6f-\udc7f\udd44-\udfff]|[\ud80a\ud80b\ud80e-\ud810\ud812-\ud819\ud823-\ud82b\ud82d\ud82e\ud830-\ud833\ud836-\ud839\ud83d-\ud83f\ud87b-\ud87d\ud87f-\udbff][\udc00-\udfff]|\ud80d[\udc2f-\udfff]|\ud811[\ude47-\udfff]|\ud81a[\ude39-\ude3f\ude5f\ude6a-\udecf\udeee-\udeff\udf30-\udf3f\udf44-\udf4f\udf5a\udf62\udf78-\udf7c\udf90-\udfff]|\ud81b[\udc00-\udeff\udf45-\udf4f\udf51-\udf92\udfa0-\udfdf\udfe2-\udfff]|\ud821[\udfed-\udfff]|\ud822[\udef3-\udfff]|\ud82c[\udd1f-\udd6f\udefc-\udfff]|\ud82f[\udc6b-\udc6f\udc7d-\udc7f\udc89-\udc8f\udc9a-\udfff]|\ud834[\udc00-\udf5f\udf72-\udfff]|\ud835[\udc55\udc9d\udca0\udca1\udca3\udca4\udca7\udca8\udcad\udcba\udcbc\udcc4\udd06\udd0b\udd0c\udd15\udd1d\udd3a\udd3f\udd45\udd47-\udd49\udd51\udea6\udea7\udec1\udedb\udefb\udf15\udf35\udf4f\udf6f\udf89\udfa9\udfc3\udfcc\udfcd]|\ud83a[\udcc5\udcc6\udcd0-\udcff\udd44-\udd4f\udd5a-\udfff]|\ud83b[\udc00-\uddff\ude04\ude20\ude23\ude25\ude26\ude28\ude33\ude38\ude3a\ude3c-\ude41\ude43-\ude46\ude48\ude4a\ude4c\ude50\ude53\ude55\ude56\ude58\ude5a\ude5c\ude5e\ude60\ude63\ude65\ude66\ude6b\ude73\ude78\ude7d\ude7f\ude8a\ude9c-\udea0\udea4\udeaa\udebc-\udfff]|\ud83c[\udc00-\udcff\udd0d-\udfff]|\ud869[\uded7-\udeff]|\ud86d[\udf35-\udf3f]|\ud86e[\udc1e\udc1f]|\ud873[\udea2-\udeaf]|\ud87a[\udfe1-\udfff]|\ud87e[\ude1e-\udfff]|[\ud800-\udbff](?![\udc00-\udfff])|(?:[^\ud800-\udbff]|^)[\udc00-\udfff])");f=f.replace(/\[\^\\s\\p{Letter}\\p{Number}\]/g,"(?:[\0-\b-!-/:-@[-`{---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------]|\ud800[\udc0c\udc27\udc3b\udc3e\udc4e\udc4f\udc5e-\udc7f\udcfb-\udd06\udd34-\udd3f\udd79-\udd89\udd8c-\ude7f\ude9d-\ude9f\uded1-\udee0\udefc-\udeff\udf24-\udf2c\udf4b-\udf4f\udf76-\udf7f\udf9e\udf9f\udfc4-\udfc7\udfd0\udfd6-\udfff]|\ud801[\udc9e\udc9f\udcaa-\udcaf\udcd4-\udcd7\udcfc-\udcff\udd28-\udd2f\udd64-\uddff\udf37-\udf3f\udf56-\udf5f\udf68-\udfff]|\ud802[\udc06\udc07\udc09\udc36\udc39-\udc3b\udc3d\udc3e\udc56\udc57\udc77\udc78\udc9f-\udca6\udcb0-\udcdf\udcf3\udcf6-\udcfa\udd1c-\udd1f\udd3a-\udd7f\uddb8-\uddbb\uddd0\uddd1\ude01-\ude0f\ude14\ude18\ude34-\ude3f\ude48-\ude5f\ude7f\udea0-\udebf\udec8\udee5-\udeea\udef0-\udeff\udf36-\udf3f\udf56\udf57\udf73-\udf77\udf92-\udfa8\udfb0-\udfff]|\ud803[\udc49-\udc7f\udcb3-\udcbf\udcf3-\udcf9\udd00-\ude5f\ude7f-\udfff]|\ud804[\udc00-\udc02\udc38-\udc51\udc70-\udc82\udcb0-\udccf\udce9-\udcef\udcfa-\udd02\udd27-\udd35\udd40-\udd4f\udd73-\udd75\udd77-\udd82\uddb3-\uddc0\uddc5-\uddcf\udddb\udddd-\udde0\uddf5-\uddff\ude12\ude2c-\ude7f\ude87\ude89\ude8e\ude9e\udea9-\udeaf\udedf-\udeef\udefa-\udf04\udf0d\udf0e\udf11\udf12\udf29\udf31\udf34\udf3a-\udf3c\udf3e-\udf4f\udf51-\udf5c\udf62-\udfff]|\ud805[\udc35-\udc46\udc4b-\udc4f\udc5a-\udc7f\udcb0-\udcc3\udcc6\udcc8-\udccf\udcda-\udd7f\uddaf-\uddd7\udddc-\uddff\ude30-\ude43\ude45-\ude4f\ude5a-\ude7f\udeab-\udebf\udeca-\udeff\udf1a-\udf2f\udf3c-\udfff]|\ud806[\udc00-\udc9f\udcf3-\udcfe\udd00-\uddff\ude01-\ude0a\ude33-\ude39\ude3b-\ude4f\ude51-\ude5b\ude84\ude85\ude8a-\udebf\udef9-\udfff]|\ud807[\udc09\udc2f-\udc3f\udc41-\udc4f\udc6d-\udc71\udc90-\udcff\udd07\udd0a\udd31-\udd45\udd47-\udd4f\udd5a-\udfff]|\ud808[\udf9a-\udfff]|\ud809[\udc6f-\udc7f\udd44-\udfff]|[\ud80a\ud80b\ud80e-\ud810\ud812-\ud819\ud823-\ud82b\ud82d\ud82e\ud830-\ud833\ud836-\ud839\ud83d-\ud83f\ud87b-\ud87d\ud87f-\udbff][\udc00-\udfff]|\ud80d[\udc2f-\udfff]|\ud811[\ude47-\udfff]|\ud81a[\ude39-\ude3f\ude5f\ude6a-\udecf\udeee-\udeff\udf30-\udf3f\udf44-\udf4f\udf5a\udf62\udf78-\udf7c\udf90-\udfff]|\ud81b[\udc00-\udeff\udf45-\udf4f\udf51-\udf92\udfa0-\udfdf\udfe2-\udfff]|\ud821[\udfed-\udfff]|\ud822[\udef3-\udfff]|\ud82c[\udd1f-\udd6f\udefc-\udfff]|\ud82f[\udc6b-\udc6f\udc7d-\udc7f\udc89-\udc8f\udc9a-\udfff]|\ud834[\udc00-\udf5f\udf72-\udfff]|\ud835[\udc55\udc9d\udca0\udca1\udca3\udca4\udca7\udca8\udcad\udcba\udcbc\udcc4\udd06\udd0b\udd0c\udd15\udd1d\udd3a\udd3f\udd45\udd47-\udd49\udd51\udea6\udea7\udec1\udedb\udefb\udf15\udf35\udf4f\udf6f\udf89\udfa9\udfc3\udfcc\udfcd]|\ud83a[\udcc5\udcc6\udcd0-\udcff\udd44-\udd4f\udd5a-\udfff]|\ud83b[\udc00-\uddff\ude04\ude20\ude23\ude25\ude26\ude28\ude33\ude38\ude3a\ude3c-\ude41\ude43-\ude46\ude48\ude4a\ude4c\ude50\ude53\ude55\ude56\ude58\ude5a\ude5c\ude5e\ude60\ude63\ude65\ude66\ude6b\ude73\ude78\ude7d\ude7f\ude8a\ude9c-\udea0\udea4\udeaa\udebc-\udfff]|\ud83c[\udc00-\udcff\udd0d-\udfff]|\ud869[\uded7-\udeff]|\ud86d[\udf35-\udf3f]|\ud86e[\udc1e\udc1f]|\ud873[\udea2-\udeaf]|\ud87a[\udfe1-\udfff]|\ud87e[\ude1e-\udfff]|[\ud800-\udbff](?![\udc00-\udfff])|(?:[^\ud800-\udbff]|^)[\udc00-\udfff])");f=f.replace(/\[\\p{Letter}\]/g,"(?:[A-Za-z------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------]|\ud800[\udc00-\udc0b\udc0d-\udc26\udc28-\udc3a\udc3c\udc3d\udc3f-\udc4d\udc50-\udc5d\udc80-\udcfa\ude80-\ude9c\udea0-\uded0\udf00-\udf1f\udf2d-\udf40\udf42-\udf49\udf50-\udf75\udf80-\udf9d\udfa0-\udfc3\udfc8-\udfcf]|\ud801[\udc00-\udc9d\udcb0-\udcd3\udcd8-\udcfb\udd00-\udd27\udd30-\udd63\ude00-\udf36\udf40-\udf55\udf60-\udf67]|\ud802[\udc00-\udc05\udc08\udc0a-\udc35\udc37\udc38\udc3c\udc3f-\udc55\udc60-\udc76\udc80-\udc9e\udce0-\udcf2\udcf4\udcf5\udd00-\udd15\udd20-\udd39\udd80-\uddb7\uddbe\uddbf\ude00\ude10-\ude13\ude15-\ude17\ude19-\ude33\ude60-\ude7c\ude80-\ude9c\udec0-\udec7\udec9-\udee4\udf00-\udf35\udf40-\udf55\udf60-\udf72\udf80-\udf91]|\ud803[\udc00-\udc48\udc80-\udcb2\udcc0-\udcf2]|\ud804[\udc03-\udc37\udc83-\udcaf\udcd0-\udce8\udd03-\udd26\udd50-\udd72\udd76\udd83-\uddb2\uddc1-\uddc4\uddda\udddc\ude00-\ude11\ude13-\ude2b\ude80-\ude86\ude88\ude8a-\ude8d\ude8f-\ude9d\ude9f-\udea8\udeb0-\udede\udf05-\udf0c\udf0f\udf10\udf13-\udf28\udf2a-\udf30\udf32\udf33\udf35-\udf39\udf3d\udf50\udf5d-\udf61]|\ud805[\udc00-\udc34\udc47-\udc4a\udc80-\udcaf\udcc4\udcc5\udcc7\udd80-\uddae\uddd8-\udddb\ude00-\ude2f\ude44\ude80-\udeaa\udf00-\udf19]|\ud806[\udca0-\udcdf\udcff\ude00\ude0b-\ude32\ude3a\ude50\ude5c-\ude83\ude86-\ude89\udec0-\udef8]|\ud807[\udc00-\udc08\udc0a-\udc2e\udc40\udc72-\udc8f\udd00-\udd06\udd08\udd09\udd0b-\udd30\udd46]|\ud808[\udc00-\udf99]|\ud809[\udc80-\udd43]|[\ud80c\ud81c-\ud820\ud840-\ud868\ud86a-\ud86c\ud86f-\ud872\ud874-\ud879][\udc00-\udfff]|\ud80d[\udc00-\udc2e]|\ud811[\udc00-\ude46]|\ud81a[\udc00-\ude38\ude40-\ude5e\uded0-\udeed\udf00-\udf2f\udf40-\udf43\udf63-\udf77\udf7d-\udf8f]|\ud81b[\udf00-\udf44\udf50\udf93-\udf9f\udfe0\udfe1]|\ud821[\udc00-\udfec]|\ud822[\udc00-\udef2]|\ud82c[\udc00-\udd1e\udd70-\udefb]|\ud82f[\udc00-\udc6a\udc70-\udc7c\udc80-\udc88\udc90-\udc99]|\ud835[\udc00-\udc54\udc56-\udc9c\udc9e\udc9f\udca2\udca5\udca6\udca9-\udcac\udcae-\udcb9\udcbb\udcbd-\udcc3\udcc5-\udd05\udd07-\udd0a\udd0d-\udd14\udd16-\udd1c\udd1e-\udd39\udd3b-\udd3e\udd40-\udd44\udd46\udd4a-\udd50\udd52-\udea5\udea8-\udec0\udec2-\udeda\udedc-\udefa\udefc-\udf14\udf16-\udf34\udf36-\udf4e\udf50-\udf6e\udf70-\udf88\udf8a-\udfa8\udfaa-\udfc2\udfc4-\udfcb]|\ud83a[\udc00-\udcc4\udd00-\udd43]|\ud83b[\ude00-\ude03\ude05-\ude1f\ude21\ude22\ude24\ude27\ude29-\ude32\ude34-\ude37\ude39\ude3b\ude42\ude47\ude49\ude4b\ude4d-\ude4f\ude51\ude52\ude54\ude57\ude59\ude5b\ude5d\ude5f\ude61\ude62\ude64\ude67-\ude6a\ude6c-\ude72\ude74-\ude77\ude79-\ude7c\ude7e\ude80-\ude89\ude8b-\ude9b\udea1-\udea3\udea5-\udea9\udeab-\udebb]|\ud869[\udc00-\uded6\udf00-\udfff]|\ud86d[\udc00-\udf34\udf40-\udfff]|\ud86e[\udc00-\udc1d\udc20-\udfff]|\ud873[\udc00-\udea1\udeb0-\udfff]|\ud87a[\udc00-\udfe0]|\ud87e[\udc00-\ude1d])");f=f.replace(/\[\\p{Number}\]/g,"(?:[0-9-------------------------------------------------------------]|\ud800[\udd07-\udd33\udd40-\udd78\udd8a\udd8b\udee1-\udefb\udf20-\udf23\udf41\udf4a\udfd1-\udfd5]|\ud801[\udca0-\udca9]|\ud802[\udc58-\udc5f\udc79-\udc7f\udca7-\udcaf\udcfb-\udcff\udd16-\udd1b\uddbc\uddbd\uddc0-\uddcf\uddd2-\uddff\ude40-\ude47\ude7d\ude7e\ude9d-\ude9f\udeeb-\udeef\udf58-\udf5f\udf78-\udf7f\udfa9-\udfaf]|\ud803[\udcfa-\udcff\ude60-\ude7e]|\ud804[\udc52-\udc6f\udcf0-\udcf9\udd36-\udd3f\uddd0-\uddd9\udde1-\uddf4\udef0-\udef9]|\ud805[\udc50-\udc59\udcd0-\udcd9\ude50-\ude59\udec0-\udec9\udf30-\udf3b]|\ud806[\udce0-\udcf2]|\ud807[\udc50-\udc6c\udd50-\udd59]|\ud809[\udc00-\udc6e]|\ud81a[\ude60-\ude69\udf50-\udf59\udf5b-\udf61]|\ud834[\udf60-\udf71]|\ud835[\udfce-\udfff]|\ud83a[\udcc7-\udccf\udd50-\udd59]|\ud83c[\udd00-\udd0c])");f=f.replace(/\[\\p{Letter}\\p{Number}\]/g,"(?:[0-9A-Za-z------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------]|\ud800[\udc00-\udc0b\udc0d-\udc26\udc28-\udc3a\udc3c\udc3d\udc3f-\udc4d\udc50-\udc5d\udc80-\udcfa\udd07-\udd33\udd40-\udd78\udd8a\udd8b\ude80-\ude9c\udea0-\uded0\udee1-\udefb\udf00-\udf23\udf2d-\udf4a\udf50-\udf75\udf80-\udf9d\udfa0-\udfc3\udfc8-\udfcf\udfd1-\udfd5]|\ud801[\udc00-\udc9d\udca0-\udca9\udcb0-\udcd3\udcd8-\udcfb\udd00-\udd27\udd30-\udd63\ude00-\udf36\udf40-\udf55\udf60-\udf67]|\ud802[\udc00-\udc05\udc08\udc0a-\udc35\udc37\udc38\udc3c\udc3f-\udc55\udc58-\udc76\udc79-\udc9e\udca7-\udcaf\udce0-\udcf2\udcf4\udcf5\udcfb-\udd1b\udd20-\udd39\udd80-\uddb7\uddbc-\uddcf\uddd2-\ude00\ude10-\ude13\ude15-\ude17\ude19-\ude33\ude40-\ude47\ude60-\ude7e\ude80-\ude9f\udec0-\udec7\udec9-\udee4\udeeb-\udeef\udf00-\udf35\udf40-\udf55\udf58-\udf72\udf78-\udf91\udfa9-\udfaf]|\ud803[\udc00-\udc48\udc80-\udcb2\udcc0-\udcf2\udcfa-\udcff\ude60-\ude7e]|\ud804[\udc03-\udc37\udc52-\udc6f\udc83-\udcaf\udcd0-\udce8\udcf0-\udcf9\udd03-\udd26\udd36-\udd3f\udd50-\udd72\udd76\udd83-\uddb2\uddc1-\uddc4\uddd0-\uddda\udddc\udde1-\uddf4\ude00-\ude11\ude13-\ude2b\ude80-\ude86\ude88\ude8a-\ude8d\ude8f-\ude9d\ude9f-\udea8\udeb0-\udede\udef0-\udef9\udf05-\udf0c\udf0f\udf10\udf13-\udf28\udf2a-\udf30\udf32\udf33\udf35-\udf39\udf3d\udf50\udf5d-\udf61]|\ud805[\udc00-\udc34\udc47-\udc4a\udc50-\udc59\udc80-\udcaf\udcc4\udcc5\udcc7\udcd0-\udcd9\udd80-\uddae\uddd8-\udddb\ude00-\ude2f\ude44\ude50-\ude59\ude80-\udeaa\udec0-\udec9\udf00-\udf19\udf30-\udf3b]|\ud806[\udca0-\udcf2\udcff\ude00\ude0b-\ude32\ude3a\ude50\ude5c-\ude83\ude86-\ude89\udec0-\udef8]|\ud807[\udc00-\udc08\udc0a-\udc2e\udc40\udc50-\udc6c\udc72-\udc8f\udd00-\udd06\udd08\udd09\udd0b-\udd30\udd46\udd50-\udd59]|\ud808[\udc00-\udf99]|\ud809[\udc00-\udc6e\udc80-\udd43]|[\ud80c\ud81c-\ud820\ud840-\ud868\ud86a-\ud86c\ud86f-\ud872\ud874-\ud879][\udc00-\udfff]|\ud80d[\udc00-\udc2e]|\ud811[\udc00-\ude46]|\ud81a[\udc00-\ude38\ude40-\ude5e\ude60-\ude69\uded0-\udeed\udf00-\udf2f\udf40-\udf43\udf50-\udf59\udf5b-\udf61\udf63-\udf77\udf7d-\udf8f]|\ud81b[\udf00-\udf44\udf50\udf93-\udf9f\udfe0\udfe1]|\ud821[\udc00-\udfec]|\ud822[\udc00-\udef2]|\ud82c[\udc00-\udd1e\udd70-\udefb]|\ud82f[\udc00-\udc6a\udc70-\udc7c\udc80-\udc88\udc90-\udc99]|\ud834[\udf60-\udf71]|\ud835[\udc00-\udc54\udc56-\udc9c\udc9e\udc9f\udca2\udca5\udca6\udca9-\udcac\udcae-\udcb9\udcbb\udcbd-\udcc3\udcc5-\udd05\udd07-\udd0a\udd0d-\udd14\udd16-\udd1c\udd1e-\udd39\udd3b-\udd3e\udd40-\udd44\udd46\udd4a-\udd50\udd52-\udea5\udea8-\udec0\udec2-\udeda\udedc-\udefa\udefc-\udf14\udf16-\udf34\udf36-\udf4e\udf50-\udf6e\udf70-\udf88\udf8a-\udfa8\udfaa-\udfc2\udfc4-\udfcb\udfce-\udfff]|\ud83a[\udc00-\udcc4\udcc7-\udccf\udd00-\udd43\udd50-\udd59]|\ud83b[\ude00-\ude03\ude05-\ude1f\ude21\ude22\ude24\ude27\ude29-\ude32\ude34-\ude37\ude39\ude3b\ude42\ude47\ude49\ude4b\ude4d-\ude4f\ude51\ude52\ude54\ude57\ude59\ude5b\ude5d\ude5f\ude61\ude62\ude64\ude67-\ude6a\ude6c-\ude72\ude74-\ude77\ude79-\ude7c\ude7e\ude80-\ude89\ude8b-\ude9b\udea1-\udea3\udea5-\udea9\udeab-\udebb]|\ud83c[\udd00-\udd0c]|\ud869[\udc00-\uded6\udf00-\udfff]|\ud86d[\udc00-\udf34\udf40-\udfff]|\ud86e[\udc00-\udc1d\udc20-\udfff]|\ud873[\udc00-\udea1\udeb0-\udfff]|\ud87a[\udc00-\udfe0]|\ud87e[\udc00-\ude1d])");f=f.replace(/\[\\s\\p{Letter}\\p{Number}\]/g,"(?:[\t-\r 0-9A-Za-z-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------\u2028\u2029---------------------------------------------------------------------------------------------------------------\ufeff--------]|\ud800[\udc00-\udc0b\udc0d-\udc26\udc28-\udc3a\udc3c\udc3d\udc3f-\udc4d\udc50-\udc5d\udc80-\udcfa\udd07-\udd33\udd40-\udd78\udd8a\udd8b\ude80-\ude9c\udea0-\uded0\udee1-\udefb\udf00-\udf23\udf2d-\udf4a\udf50-\udf75\udf80-\udf9d\udfa0-\udfc3\udfc8-\udfcf\udfd1-\udfd5]|\ud801[\udc00-\udc9d\udca0-\udca9\udcb0-\udcd3\udcd8-\udcfb\udd00-\udd27\udd30-\udd63\ude00-\udf36\udf40-\udf55\udf60-\udf67]|\ud802[\udc00-\udc05\udc08\udc0a-\udc35\udc37\udc38\udc3c\udc3f-\udc55\udc58-\udc76\udc79-\udc9e\udca7-\udcaf\udce0-\udcf2\udcf4\udcf5\udcfb-\udd1b\udd20-\udd39\udd80-\uddb7\uddbc-\uddcf\uddd2-\ude00\ude10-\ude13\ude15-\ude17\ude19-\ude33\ude40-\ude47\ude60-\ude7e\ude80-\ude9f\udec0-\udec7\udec9-\udee4\udeeb-\udeef\udf00-\udf35\udf40-\udf55\udf58-\udf72\udf78-\udf91\udfa9-\udfaf]|\ud803[\udc00-\udc48\udc80-\udcb2\udcc0-\udcf2\udcfa-\udcff\ude60-\ude7e]|\ud804[\udc03-\udc37\udc52-\udc6f\udc83-\udcaf\udcd0-\udce8\udcf0-\udcf9\udd03-\udd26\udd36-\udd3f\udd50-\udd72\udd76\udd83-\uddb2\uddc1-\uddc4\uddd0-\uddda\udddc\udde1-\uddf4\ude00-\ude11\ude13-\ude2b\ude80-\ude86\ude88\ude8a-\ude8d\ude8f-\ude9d\ude9f-\udea8\udeb0-\udede\udef0-\udef9\udf05-\udf0c\udf0f\udf10\udf13-\udf28\udf2a-\udf30\udf32\udf33\udf35-\udf39\udf3d\udf50\udf5d-\udf61]|\ud805[\udc00-\udc34\udc47-\udc4a\udc50-\udc59\udc80-\udcaf\udcc4\udcc5\udcc7\udcd0-\udcd9\udd80-\uddae\uddd8-\udddb\ude00-\ude2f\ude44\ude50-\ude59\ude80-\udeaa\udec0-\udec9\udf00-\udf19\udf30-\udf3b]|\ud806[\udca0-\udcf2\udcff\ude00\ude0b-\ude32\ude3a\ude50\ude5c-\ude83\ude86-\ude89\udec0-\udef8]|\ud807[\udc00-\udc08\udc0a-\udc2e\udc40\udc50-\udc6c\udc72-\udc8f\udd00-\udd06\udd08\udd09\udd0b-\udd30\udd46\udd50-\udd59]|\ud808[\udc00-\udf99]|\ud809[\udc00-\udc6e\udc80-\udd43]|[\ud80c\ud81c-\ud820\ud840-\ud868\ud86a-\ud86c\ud86f-\ud872\ud874-\ud879][\udc00-\udfff]|\ud80d[\udc00-\udc2e]|\ud811[\udc00-\ude46]|\ud81a[\udc00-\ude38\ude40-\ude5e\ude60-\ude69\uded0-\udeed\udf00-\udf2f\udf40-\udf43\udf50-\udf59\udf5b-\udf61\udf63-\udf77\udf7d-\udf8f]|\ud81b[\udf00-\udf44\udf50\udf93-\udf9f\udfe0\udfe1]|\ud821[\udc00-\udfec]|\ud822[\udc00-\udef2]|\ud82c[\udc00-\udd1e\udd70-\udefb]|\ud82f[\udc00-\udc6a\udc70-\udc7c\udc80-\udc88\udc90-\udc99]|\ud834[\udf60-\udf71]|\ud835[\udc00-\udc54\udc56-\udc9c\udc9e\udc9f\udca2\udca5\udca6\udca9-\udcac\udcae-\udcb9\udcbb\udcbd-\udcc3\udcc5-\udd05\udd07-\udd0a\udd0d-\udd14\udd16-\udd1c\udd1e-\udd39\udd3b-\udd3e\udd40-\udd44\udd46\udd4a-\udd50\udd52-\udea5\udea8-\udec0\udec2-\udeda\udedc-\udefa\udefc-\udf14\udf16-\udf34\udf36-\udf4e\udf50-\udf6e\udf70-\udf88\udf8a-\udfa8\udfaa-\udfc2\udfc4-\udfcb\udfce-\udfff]|\ud83a[\udc00-\udcc4\udcc7-\udccf\udd00-\udd43\udd50-\udd59]|\ud83b[\ude00-\ude03\ude05-\ude1f\ude21\ude22\ude24\ude27\ude29-\ude32\ude34-\ude37\ude39\ude3b\ude42\ude47\ude49\ude4b\ude4d-\ude4f\ude51\ude52\ude54\ude57\ude59\ude5b\ude5d\ude5f\ude61\ude62\ude64\ude67-\ude6a\ude6c-\ude72\ude74-\ude77\ude79-\ude7c\ude7e\ude80-\ude89\ude8b-\ude9b\udea1-\udea3\udea5-\udea9\udeab-\udebb]|\ud83c[\udd00-\udd0c]|\ud869[\udc00-\uded6\udf00-\udfff]|\ud86d[\udc00-\udf34\udf40-\udfff]|\ud86e[\udc00-\udc1d\udc20-\udfff]|\ud873[\udc00-\udea1\udeb0-\udfff]|\ud87a[\udc00-\udfe0]|\ud87e[\udc00-\ude1d])");if(f.match(/\\p/)){throw new Error("JsSearch internal bug - Cannot convert RegExp")}else{return new RegExp(f,u||"")}}var l={AlphaNum_atBegin:n("^[a0]"),Alpha_atBegin:n("^[a]"),Num_atBegin:n("^[0]"),AlphaNum_atEnd:n("[a0]$"),Alpha_atEnd:n("[a]$"),Num_atEnd:n("[0]$")};var h={};h.highlightChar="";h.regExpfillOneCharacterGaps=n(h.highlightChar+"(?!"+h.highlightChar+")[^a0]"+h.highlightChar,"g");h.initBitmap=function(d){return d};h.calcBitmap=function(d,u,f){var e;var c;while(d!==e&&(c=d.match(f))&&c[0].length){e=d;d=c[1]+Array(c[2].length+1).join(h.highlightChar)+c[3]}if(e===d){console.warn("JsSearch internal warning - Highlighting did not change")}for(var a=d.length-1;a>=0;a--){if(d[a]===h.highlightChar){u=u.substr(0,a)+h.highlightChar+u.substr(a+1)}}return u};h.applyBitmap=function(d,u){var f=false;if(!u){return undefined}u=u.replace(h.regExpfillOneCharacterGaps,h.highlightChar+h.highlightChar+h.highlightChar);for(var e=u.length-1;e>=0;e--){if(u[e]===h.highlightChar&&!f){d=d.substr(0,e+1)+"</b>"+d.substr(e+1);f=true}if(u[e]!==h.highlightChar&&f){d=d.substr(0,e+1)+"<b>"+d.substr(e+1);f=false}}if(f){d="<b>"+d}return d};function b(d,f){var e={"contains-ranked":{compileSearchTerm:function(d){var e={original:u.shouldNormalize?d.normalize("NFC"):d,parsed:[],hasTrailingWhitespace:false};function c(d){return d.children[0].cOriginal}function a(d){return d.children[d.children.length-1].cOriginal}function r(d){if(d.match(l.Alpha_atEnd)){return"(|[^a].*)"}else if(d.match(l.Num_atEnd)){return"(|[^0].*)"}return"(.*)"}function i(d,u,f){return d.map(function(e,c){if(e.type!==u){if(e.children){e.children=i(e.children,u,f);return e}return e}return f(e,c,d[c-1],d[c+1])})}e.hasTrailingWhitespace=e.original.substr(-1)===" ";var t=e.original.replace(/\\\"/g,"").split('"');var h=[];for(var b=0;b<t.length;b++){t[b]=t[b].replace(/\u0010/g,'\\"');var s=t[b].split(" ").map(function(d){var u={type:"word",wOriginal:d,children:[]};return u});s=s.filter(function(d){return d.wOriginal.length>0});if(t[b].length){if(b%2){h.push({type:"phrase",children:s})}else{h=h.concat(s)}}}e.parsed=h;e.parsed=i(e.parsed,"word",function(d){var u=[];var f=false;var e=d.wOriginal.split("");for(var c=0;c<e.length;c++){if(f){f=false;u.push({type:"character",cOriginal:"\\"+e[c]})}else if(e[c]==="\\"){f=true}else{u.push({type:"character",cOriginal:e[c]})}}d.children=u;return d});e.parsed=i(e.parsed,"character",function(d){var f=d.cOriginal;if(f==="*"){f="[^\\s]*?"}else if(f==="?"){f="[^\\s]"}else if(f.match(/\\[*?"\\]/)){}else{if(u.shouldNormalize){f=f.normalize("NFKD")}f=f.replace(/[\[\]\/\{\}\(\)\+\.\\\^\$\|]/,"\\$&");f=f.replace(/a/i,"(?:a|ae)");f=f.replace(/o/i,"(?:o|oe)");f=f.replace(/u/i,"(?:u|ue)");f=f.replace(//i,"(?:ae|a)");f=f.replace(//i,"(?:oe|o)");f=f.replace(//i,"(?:ue|u)");f=f.replace(//i,"ss");f=f.replace(//i,"ae");f=f.replace(//i,"oe");if(u.shouldNormalize){f=f.replace(/[\u0300-\u036f]/g,"")}}d.cRegExp=f;return d});i(e.parsed,"word",function(d){d.containsWildcard=false;var u="";var f="";for(var e=0;e<d.children.length;e++){if(e>0&&d.children[e].cOriginal.match(l.AlphaNum_atBegin)&&d.children[e-1].cOriginal.match(l.AlphaNum_atBegin)){f+="[^a0]*"}if(e<d.children.length-1){u+=d.children[e].cRegExp;f+=d.children[e].cRegExp}if(d.children[e].cOriginal==="*"||d.children[e].cOriginal==="?"){d.containsWildcard=true}}var c=d.children[d.children.length-1];var a="";if(c.cOriginal==="*"){a="(?:[a]+(?=[^a]|$)|[0]+(?=[^0]|$)|[^\\s]*?|)"}else if(c.cOriginal==="?"){a="(?:[a](?=[^a]|$)|[0](?=[^0]|$)|[^\\sa0](?=[\\sa0]))"}else{a=c.cRegExp}d.wRegExp=u+a;d.wRegExp2=f+a;return d});var o=true;var p=e.parsed.map(function(d){var u=[];if(d.type==="phrase"){o=false;d.children=d.children.filter(function(u,f){return f===d.children.length-1||!d.children[f].wOriginal.match(/^\*+$/)||!d.children[f+1].wOriginal.match(/^\*+$/)});d.children=d.children.filter(function(u,f){return f!==0&&f!==d.children.length-1||!u.wOriginal.match(/^\*+$/)});if(!d.children.length){u.push({r:"^",score:f[0],applyHighlighting:false})}else{var e="";i(d.children,"word",function(d,u,f,r){if(d.wOriginal!=="*"){if(u!==0&&f.wOriginal!=="*"&&(!r||r.wOriginal!=="*")){if(!(f.wOriginal.match(l.Alpha_atEnd)&&d.wOriginal.match(l.Alpha_atBegin))&&!(f.wOriginal.match(l.Num_atEnd)&&d.wOriginal.match(l.Num_atEnd))){e+="[^a0]*"}else{e+="[^a0]+"}}e+=d.wRegExp}else if(a(f).match(l.Alpha_atBegin)&&c(r).match(l.Alpha_atBegin)){e+="(?:[^a]|[^a].*?[^a])"}else if(a(f).match(l.Num_atEnd)&&c(r).match(l.Num_atEnd)){e+="(?:[^0]|[^0].*?[^0])"}else if(a(f).match(l.Alpha_atBegin)&&c(r).match(l.Num_atEnd)){e+=".*?"}else if(a(f).match(l.Num_atEnd)&&c(r).match(l.Alpha_atBegin)){e+=".*?"}else if(a(f)==="*"&&r&&c(r).match(l.Alpha_atBegin)){e+=".*?"}else if(a(f)==="*"&&r&&c(r).match(l.Num_atEnd)){e+=".*?"}else{e+="(?:[^a0]|[^a0].*?[^a0])"}});var t=d.children[d.children.length-1];u.push({r:"^(.*[^a0]|.*[a](?=[0])|.*[0](?=[a])|)("+e+")"+r(t.wOriginal)+"$",score:f[0],applyHighlighting:true})}}else if(d.type==="word"){if(d.wOriginal.match("^\\*+$")){o=false;u.push({r:"^",score:f[0],applyHighlighting:false})}else{u.push({r:"^(.*[^a0]|.*[a](?=[0])|.*[0](?=[a])|)("+d.wRegExp+")"+r(d.wOriginal)+"$",score:f[0],applyHighlighting:true});u.push({r:"^(.*[^a0]|.*[a](?=[0])|.*[0](?=[a])|)("+d.wRegExp2+")"+r(d.wOriginal)+"$",score:f[1],applyHighlighting:true})}}if(d.type==="word"&&d.containsWildcard===false){u.push({r:"^(.*[^a0]|.*[a](?=[0])|.*[0](?=[a])|)("+d.wRegExp+")(.*?)$",score:f[2],applyHighlighting:true});u.push({r:"^(.*[^a0]|.*[a](?=[0])|.*[0](?=[a])|)("+d.wRegExp2+")(.*?)$",score:f[3],applyHighlighting:true})}if(d.type==="word"&&d.containsWildcard===false){u.push({r:"^(.*)("+d.wRegExp+")(.*?)$",score:f[4],applyHighlighting:true});u.push({r:"^(.*)("+d.wRegExp2+")(.*?)$",score:f[5],applyHighlighting:true})}for(var h=0;h<u.length;h++){u[h].r=n(u[h].r,"i")}return{type:"mandatory",r:u}});if(o&&e.parsed.length>1){var g=[];e.parsed.forEach(function(d){g.push(d.wRegExp)});p.push({type:"optional",r:[{r:n("^(.*[^a0]|.*[a](?=[0])|.*[0](?=[a])|)"+g.join("\\s+"),"i"),score:f[6],applyHighlighting:false}]})}return p},compileTestTerm:function(d){var f={original:"",normalizationMap:[],useNormalizationMap:false,normalized:""};f.original=u.shouldNormalize?d.normalize("NFC"):d;f.normalized=f.original.split("").map(function(d){d=d.replace(//i,"ae");d=d.replace(//i,"oe");d=d.replace(//i,"ue");d=d.replace(//i,"ss");d=d.replace(//i,"ae");d=d.replace(//i,"oe");d=d.replace(/(\n|\r)/m," ");if(u.shouldNormalize){d=d.normalize("NFKD");d=d.replace(/[\u0300-\u036f]/g,"")}f.normalizationMap.push(d.length);if(d.length!==1){f.useNormalizationMap=true}return d}).join("");return f}}};return e[d]}function s(d,u){var f=true;var e=0;var c=0;var a=0;var r={};var i={};var t,n,l;for(n in u){r[n]=h.initBitmap(u[n].normalized)}for(t=0;t<d.length;t++){var b=d[t];var s=false;var o=0;for(n in u){var p=false;var g=false;var m=0;for(l=0;l<b.r.length;l++){var v=b.r[l];if(u[n].normalized.match(v.r)){p=true;if(v.applyHighlighting){g=true;r[n]=h.calcBitmap(u[n].normalized,r[n],v.r)}m=Math.max(m,v.score*u[n].weight)}}o+=m;if(p){s=true}if(g){i[n]=true}}if(b.type==="mandatory"){a++;if(s){e+=o}else{f=false}}else{c+=o}}var y=e/a+c;if(!f){y=-1}for(n in i){if(u[n].useNormalizationMap){for(l=0;l<u[n].normalizationMap.length;l++){r[n]=r[n].substr(0,l+1)+r[n].substr(l+u[n].normalizationMap[l])}}i[n]=h.applyBitmap(u[n].original,r[n])}return{score:y,highlighted:i}}this.search=function(d){if(!Array.isArray(t)){throw new Error("You must specify objects to search in")}var u;if(typeof d==="string"){u=d}if(d&&typeof d.searchFor==="string"){u=d.searchFor}if(u===undefined){throw new Error("You must specify search terms")}var a=parseInt(d.top,10);var n=parseInt(d.skip,10);if(r!==u){var l=e.compileSearchTerm(u);i=[];for(var h=0;h<t.length;h++){var b={};var o;for(var p=0;p<c.length;p++){o=undefined;try{o=t[h][c[p].field]}finally{}if(typeof o==="string"){var g=e.compileTestTerm(o);g.weight=c[p].weight;b[c[p].field]=g}}var m=s(l,b);if(m.score>-1){i.push({object:t[h],highlighted:m.highlighted,score:m.score})}}i=i.sort(function(d,u){return u.score-d.score});if(!f.debug){i.forEach(function(d){delete d.score})}r=u}var v;if(isNaN(a)&&!isNaN(n)){v=i.slice(n)}else if(!isNaN(a)&&isNaN(n)){v=i.slice(0,a)}else if(!isNaN(a)&&!isNaN(n)){v=i.slice(n,n+a)}else{v=i}return{totalCount:i.length,results:v}}}})})();
},
	"sap/esh/search/ui/appsearch/JsSearchFactory.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){
/*!
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.define(["sap/esh/search/ui/appsearch/JsSearch"],function(e){"use strict";const n={createJsSearch:function(n){return new e(n)}};return n})})();
},
	"sap/esh/search/ui/cFLPUtil.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){sap.ui.define(["./sinaNexTS/providers/multi/FederationType","./sinaNexTS/sina/SinaConfiguration"],function(e,t){"use strict";const n=e["FederationType"];const r=t["AvailableProviders"];async function o(e){if(!sap||!sap.cf){return Promise.resolve(e)}const t=await window.sap.ushell.Container.getServiceAsync("CommonDataModel");const o=await t.getApplications();const a=Object.keys(o).reduce(function(e,t){const n=o[t];const r=n["sap.app"]&&n["sap.app"].contentProviderId;if(r){e[r]=true}return e},{});const s=Object.keys(a);const c=[];for(let e=0;e<s.length;++e){const t=s[e];c.push(i(t))}let u=await Promise.all(c);if(!u||u.length===0){return e}else{u=u.filter(function(e){if(typeof e!=="undefined"){return e}});return[{provider:r.MULTI,subProviders:u,federationType:n.advanced_round_robin,url:""},r.DUMMY]}}async function i(e){const t=await window.sap.ushell.Container.getServiceAsync("ClientSideTargetResolution");const n=await t.getSystemContext(e);const r=n.getFullyQualifiedXhrUrl("sap/opu/odata/sap/ESH_SEARCH_SRV");const o=n.getProperty("esearch.provider");if(!o){return}return{contentProviderId:e,provider:o.toLowerCase(),label:e,url:r}}var a={__esModule:true};a.readCFlpConfiguration=o;return a})})();
},
	"sap/esh/search/ui/compositecontrol/ResultViewsAssembler.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){sap.ui.define(["../controls/resultview/SearchResultTable","sap/ui/core/InvisibleText","../controls/resultview/SearchResultList","../i18n","sap/m/library","../controls/resultview/SearchResultGrid","sap/f/GridContainerSettings","../error/errors","sap/ui/layout/VerticalLayout","sap/f/GridContainer","../eventlogging/UserEvents","sap/f/GridContainerItemLayoutData","sap/m/Text","sap/m/Button","sap/m/FlexBox","sap/m/CustomListItem","../controls/SearchTileHighlighter","../controls/resultview/CustomSearchResultListItem","../controls/resultview/SearchResultListItem","sap/m/GenericTile","sap/m/TileContent","sap/ui/core/Element"],function(t,e,s,o,n,r,i,a,l,c,p,h,u,m,d,g,C,f,y,I,S,R){"use strict";function b(t){return t&&t.__esModule&&typeof t.default!=="undefined"?t.default:t}const w=b(t);const L=b(s);const T=b(o);const v=n["ButtonType"];const A=n["FlexJustifyContent"];const M=n["ListMode"];const E=n["ListType"];const U=b(r);const D=b(a);const x=p["UserEventType"];const G=C["Highlighter"];const O=b(f);const B=b(y);class H{compositeControl;constructor(t){this.compositeControl=t}assembleCenterArea(t){this.compositeControl.searchResultList=this.assembleSearchResultList(t);this.compositeControl.searchResultTable=new w(`${t}-ushell-search-result-table`,{});this.compositeControl.searchResultTable.assembleTable(this.compositeControl.getModelInternal());const e=this;this.compositeControl.searchResultTable.addEventDelegate({onAfterRendering:()=>{const t=$(this.compositeControl.getDomRef());t.find("table tbody tr").each(function(){const t=$(this);const s=R.getElementById(t.attr("id"));if(s){const t=s.getAriaLabelledBy();if($.inArray(e.compositeControl.countBreadcrumbsHiddenElement.getId(),t)===-1){s.addAriaLabelledBy(e.compositeControl.countBreadcrumbsHiddenElement)}}return false})}});this.compositeControl.searchResultGrid=this.assembleSearchResultGrid(t);this.compositeControl.appSearchResult=this.assembleAppSearch(t);this.compositeControl.showMoreFooter=this.assembleShowMoreFooter();const s=[this.compositeControl.searchResultList,this.compositeControl.searchResultTable,this.compositeControl.searchResultGrid,this.compositeControl.appSearchResult,this.compositeControl.showMoreFooter,this.compositeControl.countBreadcrumbsHiddenElement];return s}assembleCountBreadcrumbsHiddenElement(){const t=new e("",{text:{parts:[{path:"/count"}],formatter:t=>{if(typeof t!=="number"){return""}return T.getText("results_count_for_screenreaders",[t.toString()])}}});return t}assembleSearchResultList(t){const e=new L(t+"-ushell-search-result-list",{mode:M.None,width:"auto",showNoData:false,visible:{parts:[{path:"/resultViewType"},{path:"/count"}],formatter:(t,e)=>t==="searchResultList"&&e!==0}});e.bindItems({path:"/results",factory:(t,e)=>this.assembleListItem(t,e)});return e}assembleSearchResultGrid(t){const e=this.compositeControl.getModelInternal();let s;if(typeof e.config.customGridView==="function"){try{s=e.config.customGridView()}catch(t){const s=new D.ConfigurationExitError("customGridView",e.config.applicationComponent,t);throw s}}else{const e=new i("",{rowSize:"11rem",columnSize:"11rem",gap:"0.5rem"});s=new U(t+"-ushell-search-result-grid",{layout:e,snapToRow:true})}s.bUseExtendedChangeDetection=false;s.bindProperty("visible",{parts:["/resultViewType","/count"],formatter:(t,e)=>t==="searchResultGrid"&&e!==0});s.addStyleClass("sapUshellSearchGrid");return s}assembleAppSearch(t){const e=new i("",{rowSize:"5.5rem",columnSize:"5.5rem",gap:"0.25rem"});const s=new c(t+"-ushell-search-result-app",{layout:e,snapToRow:true,visible:{parts:[{path:"/count"}],formatter:t=>{const e=this.compositeControl.getModelInternal();return(e.isAppCategory()||e.isUserCategoryAppSearchOnlyWithoutBOs())&&t!==0}},items:{path:"/appResults",factory:(t,e)=>{const s=this.compositeControl.getModelInternal();if(s.isAppCategory()||s.isUserCategoryAppSearchOnlyWithoutBOs()){const t=e.getObject();const o=t.visualization;const n=s.uShellVisualizationInstantiationService;const r=n.instantiateVisualization(o);r.attachPress(()=>{s.eventLogger.logEvent({type:x.TILE_NAVIGATE,tileTitle:o.title,targetUrl:o.targetURL})});r.addEventDelegate({onAfterRendering:this.highlightTile});r.setActive(false,true);r.setLayoutData(new h(r.getLayout()));return r}return new u("",{text:""})}}});s.addStyleClass("sapUshellSearchGridContainer");const o=new m({text:"{i18n>showMore}",type:v.Transparent,visible:{parts:[{path:"/appCount"},{path:"/appResults"}],formatter:(t,e)=>{const s=this.compositeControl.getModelInternal();return(s.isAppCategory()||s.isUserCategoryAppSearchOnlyWithoutBOs())&&e.length<t}},press:()=>{const t=this.compositeControl.getModelInternal();const e=t.getTop()+t.pageSize;t.setProperty("/focusIndex",t.getTop());t.setTop(e);t.eventLogger.logEvent({type:x.SHOW_MORE})}});o.addStyleClass("sapUshellResultListMoreFooter");const n=new l("",{width:"100%",visible:{parts:[{path:"/count"}],formatter:t=>{const e=this.compositeControl.getModelInternal();return(e.isAppCategory()||e.isUserCategoryAppSearchOnlyWithoutBOs())&&t!==0}},content:[s,o]});n.addStyleClass("sapUshellResultApps");return n}highlightTile(t){const e=t["srcControl"]?.getAggregation("content");if(e){let s=e.findAggregatedObjects(true,t=>t.isA("sap.m.GenericTile")||t.isA("sap.f.Card"));if(s.length===0&&e.getComponentInstance){s=e.getComponentInstance().findAggregatedObjects(true,t=>t.isA("sap.m.GenericTile")||t.isA("sap.f.Card"))}if(s.length>0){const e=s[0];const o=new G;o.setHighlightTerms(t["srcControl"]?.getModel().getProperty("/uiFilter/searchTerm"));o.highlight(e)}}}assembleShowMoreFooter(){const t=new m(this.compositeControl.getId()+"-resultview-moreFooter-button",{text:"{i18n>showMore}",type:v.Transparent,press:()=>{const t=this.compositeControl.getModelInternal();t.setProperty("/focusIndex",t.getTop());const e=t.getTop()+t.pageSize;t.setTop(e);t.eventLogger.logEvent({type:x.SHOW_MORE})}});t.addStyleClass("sapUshellResultListMoreFooter");const e=new d(this.compositeControl.getId()+"-resultview-moreFooter",{visible:{parts:[{path:"/boCount"},{path:"/boResults"}],formatter:(t,e)=>e.length<t},justifyContent:A.Center});e.addStyleClass("sapUshellResultListMoreFooterContainer");e.addItem(t);return e}assembleListItem(t,e){const s=e.getObject();if(s.type==="footer"){return new g(`${t}-footerItem`)}else if(s.type==="appcontainer"){this.compositeControl.appResultListItem=this.assembleAppContainerResultListItem(t);return this.compositeControl.appResultListItem}return this.assembleResultListItem(t,s)}assembleResultListItem(t,e){const s=this.compositeControl.getModelInternal();const o=s.config.getDataSourceConfig(e.dataSource);const n={dataSource:e.dataSource,title:"{title}",isTitleHighlighted:{path:"isTitleHighlighted"},titleDescription:"{titleDescription}",isTitleDescriptionHighlighted:{path:"isTitleDescriptionHighlighted"},titleNavigation:{path:"titleNavigation"},type:"{dataSourceName}",imageUrl:"{imageUrl}",imageFormat:"{imageFormat}",imageNavigation:{path:"imageNavigation"},geoJson:"{geoJson}",attributes:{path:"itemattributes"},navigationObjects:{path:"navigationObjects"},selected:{path:"selected"},selectionEnabled:{path:"selectionEnabled"},customItemStyleClass:{path:"customItemStyleClass"},expanded:{path:"expanded"},positionInList:{path:"positionInList"},resultSetId:{path:"resultSetId"},layoutCache:{path:"layoutCache"},titleIconUrl:{path:"titleIconUrl"},titleInfoIconUrl:{path:"titleInfoIconUrl"}};let r;if(o.searchResultListItemControl){r=new o.searchResultListItemControl(n)}else if(o.searchResultListItemContentControl){n["content"]=new o.searchResultListItemContentControl;r=new O(`${t}--customItemContent`,n)}else{r=new B(`${t}--itemContent`,n)}if(r.setCountBreadcrumbsHiddenElement){r.setCountBreadcrumbsHiddenElement(this.compositeControl.countBreadcrumbsHiddenElement)}const i=new g(`${t}--customListItem`,{content:r,type:E.Inactive});i.addStyleClass("sapUshellSearchResultListItem");if(r.setParentListItem){r.setParentListItem(i)}return i}assembleAppContainerResultListItem(t){const e=new i("",{rowSize:"5.5rem",columnSize:"5.5rem",gap:"0.25rem"});const s=`${t}-appItemContainer`;const o=new c(s,{layout:e,snapToRow:true,items:{path:"/appResults",factory:(t,e)=>{const s=this.compositeControl.getModelInternal();if(!s.isAppCategory()){const t=e.getObject();const o=t.visualization;const n=s.uShellVisualizationInstantiationService;const r=n.instantiateVisualization(o);r.attachPress(()=>{const t=this.compositeControl.getModelInternal();t.eventLogger.logEvent({type:x.TILE_NAVIGATE,tileTitle:o.title,targetUrl:o.targetURL})});r.addEventDelegate({onAfterRendering:this.highlightTile});r.setActive(false,true);r.setLayoutData(new h(r.getLayout()));return r}return new u(t,{text:""})}}});o.addStyleClass("sapUshellSearchGridContainer");o.addEventDelegate({onAfterRendering:()=>{const t=this.compositeControl.getModelInternal();if(o.getDomRef().clientWidth===0){return}let e=o.getDomRef().clientWidth-176;if(e<184){e=184}const n=Math.floor(e/184);const r=o.getItems();const i=t.getProperty("/appCount");const a=t.getProperty("/boCount");const l=r[r.length-1];if(l.hasStyleClass("sapUshellSearchResultListItemAppsShowMore")){return}if(r.length>n+1){let s=0,o=0;for(;o<r.length;o++){s=s+r[o].getDomRef().clientWidth+4;if(s>e){break}}const n=t.getProperty("/appResults");t.setProperty("/appResults",n.slice(0,o))}else{if(i>n&&!l.hasStyleClass("sapUshellSearchResultListItemAppsShowMore")){const e=`${s}--showMore`;const n=new I(e,{tileContent:new S(`${e}--content`,{content:new u(`${e}--content--text`,{text:T.getText("showMoreApps")})}),press:()=>{const t=this.compositeControl.getModelInternal();t.setDataSource(t.appDataSource)}});n.addStyleClass("sapUshellSearchResultListItemAppsShowMore");o.addItem(n);t.setProperty("/resultViewType","appSearchResult");t.setProperty("/resultViewType","searchResultList");t.setProperty("/boCount",0);t.setProperty("/boCount",a)}}}},o);const n=new g(`${this.compositeControl.getId()}-appItem`,{content:o});n.addStyleClass("sapUshellSearchResultListItem");n.addStyleClass("sapUshellSearchResultListItemApps");n.addEventDelegate({onAfterRendering:function(){const t=$(n.getDomRef());t.removeAttr("role");t.attr("aria-hidden","true")}},n);return n}}return H})})();
},
	"sap/esh/search/ui/compositecontrol/ToolbarAssembler.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){sap.ui.define(["sap/m/ToggleButton","sap/ui/core/IconPool","../i18n","sap/ui/Device","sap/m/OverflowToolbarLayoutData","sap/m/library","sap/m/OverflowToolbar","sap/m/OverflowToolbarButton","../controls/SearchSpreadsheet","../eventlogging/UserEvents","sap/m/ToolbarSpacer","sap/m/ToolbarSeparator","../error/errors","sap/m/Button","sap/m/ActionSheet","sap/m/IconTabBar","sap/m/IconTabFilter","sap/m/SegmentedButton","sap/m/SegmentedButtonItem","sap/ui/model/BindingMode","sap/m/ViewSettingsDialog","sap/ui/core/Element"],function(t,e,o,s,r,a,i,n,l,c,p,u,h,d,m,g,b,C,S,y,f,T){"use strict";function w(t){return t&&t.__esModule&&typeof t.default!=="undefined"?t.default:t}const B=w(o);const I=a["ButtonType"];const D=a["OverflowToolbarPriority"];const x=a["PlacementType"];const R=a["URLHelper"];const E=w(l);const V=c["UserEventType"];const v=w(h);class O{compositeControl;constructor(t){this.compositeControl=t}assembleFilterButton(){const o=this.compositeControl.getModelInternal();const a=new t(this.compositeControl.getId()+"-searchBarFilterButton",{icon:e.getIconURI("filter"),tooltip:{parts:[{path:"/facetVisibility"}],formatter:t=>t?B.getText("hideFacetBtn_tooltip"):B.getText("showFacetBtn_tooltip")},pressed:{path:"/facetVisibility"},press:t=>{const e=this.compositeControl.getModelInternal();this.compositeControl.searchContainer.setProperty("animateFacetTransition",true);e.setFacetVisibility(t.getParameter("pressed"));this.compositeControl.searchContainer.setProperty("animateFacetTransition",false);setTimeout(()=>this.compositeControl.adjustSearchbarCustomGenericButtonWidth(),100)},visible:{parts:[{path:"/businessObjSearchEnabled"},{path:"/count"}],formatter:(t,e)=>{if(e===0){return false}return!s.system.phone&&!o.config.optimizeForValueHelp&&t}}});a.addStyleClass("searchBarFilterButton");a.setLayoutData(new r({priority:D.NeverOverflow}));return a}assembleGenericButtonsToolbar(){const t=this.compositeControl.getModelInternal();const e=this.assembleExportButton();e.setLayoutData(new r({priority:D.High}));this.assembleResultViewSwitch();const o=new n((this.compositeControl.getId()?this.compositeControl.getId()+"-":"")+"tableSortButton",{icon:"sap-icon://sort",text:"{i18n>sortTable}",tooltip:"{i18n>sortTable}",type:I.Transparent,visible:{parts:[{path:"/count"},{path:"/sortableAttributes"}],formatter:(t,e)=>{const o=this.compositeControl.getModelInternal();if(o&&o.isHomogenousResult()&&t>0&&e.length>0){return true}else{return false}}},press:()=>{this.compositeControl.openSortDialog()}});o.addStyleClass("sapUshellSearchTableSortButton");o.setLayoutData(new r({priority:D.High}));this.compositeControl.sortDialog=this.assembleSearchResultSortDialog();const s=new n((this.compositeControl.getId()?this.compositeControl.getId()+"-":"")+"tablePersonalizeButton",{icon:"sap-icon://action-settings",text:"{i18n>personalizeTable}",tooltip:"{i18n>personalizeTable}",type:I.Transparent,enabled:{parts:[{path:"/resultViewType"}],formatter:t=>t==="searchResultTable"},visible:{parts:[{path:"/count"},{path:"/tableColumns"}],formatter:(t,e)=>{const o=this.compositeControl.getModelInternal();if(o&&o.isHomogenousResult()&&t>0&&e.length>0){return true}else{return false}}},press:()=>{this.compositeControl.searchResultTable?.tablePersonalizer?.openDialog();const t=this.compositeControl.getModelInternal();const e={type:V.TABLE_CONFIG_OPEN};t.eventLogger.logEvent(e)}});s.addStyleClass("sapUshellSearchTablePersonalizeButton");s.setLayoutData(new r({priority:D.High}));let a=[];a.push(e);a.push(o);a.push(s);const l=t?.config?.isUshell;if(l){const t=this.assembleShareButton();t.setLayoutData(new r({priority:D.High}));a.push(t)}a.push(this.compositeControl.resultViewSwitch);let c=false;try{let e=[new p];const o=t?.config?.getCustomToolbar();if(o?.length>0){c=true;o.push(new u("",{visible:{parts:[{path:"/resultViewSwitchVisibility"},{path:"/count"}],formatter:(t,e)=>t&&e!==0}}))}e=e.concat(o);a=e.concat(a)}catch(e){const o=new v.ConfigurationExitError("getCustomToolbar",t.config.applicationComponent,e);this.compositeControl.errorHandler.onError(o)}const h=new i(this.compositeControl.getId()+"-searchBar--genericButtonsToolbar",{content:a});h.addStyleClass("sapElisaSearchGenericButtonsToolbar");return{toolbar:h,hasCustomButtons:c}}assembleSearchResultSortDialog(){const t=this.compositeControl.getId()+"-sortDialog";const e=T.getElementById(t);if(e){e.destroy()}const o=new f(t,{sortDescending:{parts:[{path:"/orderBy"}],formatter:t=>Object.keys(t).length===0||t.sortOrder==="DESC"},confirm:t=>{const e=t.getParameter("sortItem");const s=t.getParameter("sortDescending");const r=this.compositeControl.getModelInternal();const a=e.getBindingContext().getObject().attributeId;if(typeof e==="undefined"||a==="DEFAULT_SORT_ATTRIBUTE"){o.setSortDescending(true);r.resetOrderBy(true)}else{r.setOrderBy({orderBy:a,sortOrder:s===true?"DESC":"ASC"},true)}},cancel:()=>{},resetFilters:()=>{setTimeout(()=>{o.setSortDescending(true);o.setSelectedSortItem("searchSortAttributeKeyDefault")},500)}});o.addStyleClass("sapUshellSearchResultSortDialog");o.addStyleClass("sapElisaSearchResultSortDialog");this.compositeControl.addDependent(o);return o}assembleExportButton(){return new n((this.compositeControl.getId()?this.compositeControl.getId()+"-":"")+"ushell-search-result-dataExportButton",{icon:"sap-icon://download",text:"{i18n>exportData}",tooltip:"{i18n>exportData}",type:I.Transparent,visible:{parts:[{path:"/count"},{path:"/tableColumns"}],formatter:(t,e)=>{const o=this.compositeControl.getModelInternal();if(o&&o.isHomogenousResult()&&t>0&&e.length>0){return true}else{return false}}},press:()=>{if(this.compositeControl.searchSpreadsheet===undefined){this.compositeControl.searchSpreadsheet=new E("ushell-search-spreadsheet")}const t=this.compositeControl.getModelInternal();this.compositeControl.searchSpreadsheet.onExport(t)}}).addStyleClass("sapUshellSearchTableDataExportButton")}assembleShareButton(){const t=new m((this.compositeControl.getId()?this.compositeControl.getId()+"-":"")+"shareActionSheet",{placement:x.Bottom,buttons:[]});t.addStyleClass("sapUshellSearchResultShareActionSheet");this.compositeControl.addDependent(t);const o=this.compositeControl.getModelInternal();sap.ui.require(["sap/ushell/ui/footerbar/AddBookmarkButton"],s=>{const r=new s((this.compositeControl.getId()?this.compositeControl.getId()+"-":"")+"bookmarkButton",{width:"auto",beforePressHandler:()=>{const t={url:document.URL,title:o.getDocumentTitle(),icon:e.getIconURI("search")};r.setAppData(t)}});t.addButton(r);const a=new d((this.compositeControl.getId()?this.compositeControl.getId()+"-":"")+"emailButton",{icon:"sap-icon://email",text:B.getText("eMailFld"),width:"auto",press:()=>{R.triggerEmail(null,o.getDocumentTitle(),document.URL)}});t.addButton(a)});const s=new n((this.compositeControl.getId()?this.compositeControl.getId()+"-":"")+"shareButton",{icon:"sap-icon://action",text:B.getText("shareBtn"),tooltip:B.getText("shareBtn"),type:I.Transparent,press:()=>{t.openBy(s)}});return s}assembleDataSourceTabBar(){const t=new g(`${this.compositeControl.getId()}-dataSourceTabBar`,{expandable:false,stretchContentHeight:false,visible:{parts:[{path:"/facetVisibility"},{path:"/count"},{path:"/businessObjSearchEnabled"}],formatter:(t,e,o)=>{const s=this.compositeControl.getModelInternal();if(s.config.exclusiveDataSource){return false}return!t&&e>0&&o}},selectedKey:{path:"/tabStrips/selected/id",mode:y.OneWay},select:t=>{const e=this.compositeControl.getModelInternal();if(e.config.searchScopeWithoutAll){return}if(e.getDataSource()!==t.getParameter("item").getBindingContext().getObject()){e.setDataSource(t.getParameter("item").getBindingContext().getObject())}}});t.data("sap-ui-fastnavgroup","false",true);t.addStyleClass("searchDataSourceTabStripBar");t.addStyleClass("sapUiSmallMarginBegin");t.setAriaTexts({headerLabel:B.getText("dataSources"),headerDescription:B.getText("dataSources")});t.bindAggregation("items",{path:"/tabStrips/strips",template:new b("",{key:"{id}",text:"{labelPlural}"})});return t}assembleResultViewSwitch(){if(this.compositeControl.resultViewSwitch!==undefined){return}this.compositeControl.resultViewSwitch=new C(this.compositeControl.getId()+"-ResultViewType",{selectedKey:"{/resultViewType}",visible:{parts:[{path:"/resultViewSwitchVisibility"},{path:"/count"}],formatter:(t,e)=>t&&e!==0},selectionChange:t=>{const e=t.getParameter("item").getKey();this.compositeControl.setResultViewType(e);this.compositeControl.assignDragDropConfig();const o=this.compositeControl.getModelInternal();const s={type:V.RESULT_VIEW_SWITCH,resultViewType:e};o.eventLogger.logEvent(s)}});this.compositeControl.resultViewSwitch.bindAggregation("items",{path:"/resultViewTypes",factory:(t,e)=>{const o=new S("",{visible:true});switch(e.getObject()){case"searchResultList":o.setIcon("sap-icon://list");o.setTooltip(B.getText("displayList"));o.setKey("searchResultList");break;case"searchResultTable":o.setIcon("sap-icon://table-view");o.setTooltip(B.getText("displayTable"));o.setKey("searchResultTable");break;case"searchResultGrid":o.setIcon("sap-icon://grid");o.setTooltip(B.getText("displayGrid"));o.setKey("searchResultGrid");break;default:o.setVisible(false)}return o}});this.compositeControl.resultViewSwitch.addStyleClass("sapUshellSearchResultViewSwitch");this.compositeControl.resultViewSwitch.setLayoutData(new r({priority:D.High}))}}return O})})();
},
	"sap/esh/search/ui/container/SearchUI.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){sap.ui.require(["sap/esh/search/ui/SearchCompositeControl","sap/esh/search/ui/sinaNexTS/core/errors"],async function(e,o){let r;const n={applicationComponent:"HAN-AS-INA-UI",enableMultiSelectionResultItems:true,sinaConfiguration:{provider:"sample"}};r=new e(n);const t=await r.getInitializationStatus();if(t&&t.success===false&&t.error instanceof o.NoValidEnterpriseSearchAPIConfigurationFoundError&&t.error.previous instanceof o.ESHNoBusinessObjectDatasourceError){console.error("Error creating SearchCompositeControl: ",t.error.previous.message)}window.addEventListener("hashchange",function(){r.parseURL()},false);r.placeAt("content")});document.documentElement.style.overflowY="auto";document.documentElement.style.height="100%"})();
},
	"sap/esh/search/ui/controls/OpenShowMoreDialog.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){sap.ui.define(["../SearchFacetDialogModel","./facets/SearchFacetDialog","../eventlogging/UserEvents"],function(e,t,o){"use strict";function n(e){return e&&e.__esModule&&typeof e.default!=="undefined"?e.default:e}const a=n(e);const s=n(t);const c=o["UserEventType"];async function r(e){const t=new a({searchModel:e.searchModel});await t.initAsync();t.setData(e.searchModel.getData());t.config=e.searchModel.config;t.sinaNext=e.searchModel.sinaNext;t.prepareFacetList();const o={selectedAttribute:e.dimension,selectedTabBarIndex:e.selectedTabBarIndex,tabBarItems:e.tabBarItems};const n=new s(`${e.searchModel.config.id}-SearchFacetDialog`,o);n.setModel(t);n.setModel(e.searchModel,"searchModel");const r=e.searchModel.getSearchCompositeControlInstanceByChildControl(e.sourceControl);if(r){r["oFacetDialog"]=n}n.open();e.searchModel.eventLogger.logEvent({type:c.FACET_SHOW_MORE,referencedAttribute:e.dimension})}var i={__esModule:true};i.openShowMoreDialog=r;return i})})();
},
	"sap/esh/search/ui/controls/SearchAdvancedCondition.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){sap.ui.define(["../i18n","sap/ui/layout/HorizontalLayout","sap/m/Button","sap/m/library","sap/m/Input","sap/m/Select","sap/m/CheckBox","sap/m/DateRangeSelection","sap/ui/core/InvisibleText","sap/ui/core/Item","sap/m/Label","../SearchFacetDialogHelper","sap/ui/core/Element"],function(e,t,n,a,o,l,s,i,c,r,g,d,p){"use strict";function h(e){return e&&e.__esModule&&typeof e.default!=="undefined"?e.default:e}const u=h(e);const C=a["ButtonType"];const S=h(d);const f=t.extend("sap.esh.search.ui.controls.SearchAdvancedCondition",{renderer:{apiVersion:2},metadata:{properties:{type:{type:"string"}}},constructor:function e(n,a){t.prototype.constructor.call(this,n,a);this.setAllowWrapping(a?.allowWrapping);this.addStyleClass("sapUshellSearchFacetDialogDetailPageCondition");if(a?.type){const e=this.contentFactory(a);for(const t of e){this.addContent(t)}}},contentFactory:function e(a){const d=new s("",{select:e=>{S.updateCountInfo(this.getDetailPage(e.getSource()))}}).addStyleClass("sapUshellSearchFacetDialogDetailPageConditionCheckBox");let h=p.getElementById("advancedCheckBoxLabel");if(!h){h=new c("advancedCheckBoxLabel",{text:u.getText("checkBox")})}d.addAriaLabelledBy("advancedCheckBoxLabel");let f=p.getElementById("operatorLabel");if(!f){f=new c("operatorLabel",{text:u.getText("operator")})}let D,y,w,P;switch(a.type){case"timestamp":case"date":D=new i({width:"86%",change:e=>{this.onDateRangeSelectionChange(e)}}).addStyleClass("sapUshellSearchFacetDialogDetailPageConditionInput");D.onAfterRendering=function(){const e=$(this.getDomRef());$("input",e).attr("readonly","readonly")};break;case"string":d.setVisible(false);w=new o({width:"56%",placeholder:u.getText("filterCondition"),liveChange:e=>{this.onAdvancedInputChange(e)}}).addStyleClass("sapUshellSearchFacetDialogDetailPageConditionInput");P=new l({width:"40%",tooltip:u.getText("operator"),items:[new r({text:u.getText("equals"),key:"eq"}),new r({text:u.getText("beginsWith"),key:"bw"}),new r({text:u.getText("endsWith"),key:"ew"}),new r({text:u.getText("contains"),key:"co"})]}).addStyleClass("sapUshellSearchFacetDialogDetailPageConditionSelect");P.addAriaLabelledBy("operatorLabel");D=new t({allowWrapping:true,content:[P,w]});y=new n({icon:"sap-icon://sys-cancel",type:C.Transparent,tooltip:u.getText("removeButton"),press:()=>{this.onDeleteButtonPress()}});break;case"text":d.setVisible(false);w=new o({width:"56%",placeholder:u.getText("filterCondition"),liveChange:e=>{this.onAdvancedInputChange(e)}}).addStyleClass("sapUshellSearchFacetDialogDetailPageConditionInput");P=new l({width:"40%",tooltip:u.getText("operator"),items:[new r({text:u.getText("containsWords"),key:"co"})]}).addStyleClass("sapUshellSearchFacetDialogDetailPageConditionSelect");P.addAriaLabelledBy("operatorLabel");D=new t({allowWrapping:true,content:[P,w]});y=new n({icon:"sap-icon://sys-cancel",type:C.Transparent,tooltip:u.getText("removeButton"),press:()=>{this.onDeleteButtonPress()}});break;case"integer":case"number":{const e=new o("",{width:"46.5%",placeholder:u.getText("fromPlaceholder"),liveChange:e=>{this.onAdvancedNumberInputChange(e)}}).addStyleClass("sapUshellSearchFacetDialogDetailPageConditionInput");const n=new o("",{width:"46.5%",placeholder:u.getText("toPlaceholder"),liveChange:e=>{this.onAdvancedNumberInputChange(e)}}).addStyleClass("sapUshellSearchFacetDialogDetailPageConditionInput");const a=new g("",{text:u.getText("threeDots")}).addStyleClass("sapUshellSearchFacetDialogDetailPageConditionLabel");D=new t("",{allowWrapping:true,content:[e,a,n]});D.addEventDelegate({onAfterRendering:e=>{const t=e.srcControl.getParent().getParent().getContent().length;const n=e.srcControl.getParent().getParent().indexOfAggregation("content",e.srcControl.getParent());if(n===t-2){const t=e.srcControl.getContent()[2].getValue();e.srcControl.getContent()[2].setValue();e.srcControl.getContent()[2].setValue(t)}}});break}default:break}return[d,D,y]},getDetailPage:function e(t){if(t.hasStyleClass&&(t.hasStyleClass("sapUshellSearchFacetDialogDetailPageString")||t.hasStyleClass("sapUshellSearchFacetDialogDetailPage"))){return t}else{return this.getDetailPage(t.getParent())}},onDateRangeSelectionChange:function e(t){const n=t.getSource();const a=n.getParent();const o=a.getContent()[0];if(n.getDateValue()&&n.getSecondDateValue()){o.setSelected(true);S.insertNewAdvancedCondition(a,"date");S.updateCountInfo(a.getParent().getParent())}else{o.setSelected(false)}},onAdvancedInputChange:function e(t){const n=t.getSource();const a=n.getParent().getParent();const o=a.getContent()[0];if(n.getValue()){o.setSelected(true);S.updateCountInfo(this.getDetailPage(o))}else{o.setSelected(false)}},onDeleteButtonPress:function e(){S.deleteAdvancedCondition(this)},onAdvancedNumberInputChange:function e(t){const n=t.getSource();const a=n.getParent().getParent();const o=a.getContent()[0];const l=n.getParent();const s=l.getContent()[0];const i=l.getContent()[2];if(s.getValue()&&i.getValue()){o.setSelected(true);S.insertNewAdvancedCondition(a,"number");S.updateCountInfo(a.getParent().getParent())}else{o.setSelected(false)}}});f.injectSearchFacetDialogHelper=function e(t){f.searchFacetDialogHelper=t};return f})})();
},
	"sap/esh/search/ui/controls/SearchFilterBar.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){sap.ui.define(["../i18n","sap/m/Text","sap/m/Toolbar","sap/m/ToolbarSpacer","sap/m/library","sap/ui/core/Icon","../eventlogging/UserEvents","../sinaNexTS/sina/HierarchyDisplayType","../error/errors","./facets/FacetTypeUI"],function(t,e,r,i,o,n,s,a,l,c){"use strict";function u(t){return t&&t.__esModule&&typeof t.default!=="undefined"?t.default:t}const h=u(t);const f=o["ToolbarDesign"];const d=s["UserEventType"];const p=a["HierarchyDisplayType"];const b=u(l);const F=c["FacetTypeUI"];const m=r.extend("sap.esh.search.ui.controls.SearchFilterBar",{renderer:{apiVersion:2},constructor:function t(o,s){r.prototype.constructor.call(this,o,s);this.setProperty("design",f.Info);this.addStyleClass("sapUshellSearchFilterContextualBar");this.filterFormatter=this.filterFormatter.bind(this);this.filterText=new e(this.getId()+"-resetFilterText",{text:{parts:[{path:"/uiFilter/rootCondition"},{path:"/facets"}],formatter:this.filterFormatter},tooltip:{parts:[{path:"/uiFilter/rootCondition"},{path:"/facets"}],formatter:this.filterFormatter}}).addStyleClass("sapUshellSearchFilterText");this.filterText.setMaxLines(1);this.filterText.clampText();this.addContent(this.filterText);this.addContent(new i);this.resetButton=new n(this.getId()+"-resetFilterButton",{src:"sap-icon://clear-filter",tooltip:h.getText("resetFilterButton_tooltip")}).addStyleClass("sapUshellSearchFilterResetButton");this.addContent(this.resetButton)},filterFormatter:function t(e,r){if(!e||!e.hasFilters()){return""}const i=this.getModel();if(i.config.formatFilterBarText){try{return i.config.formatFilterBarText(this._assembleFilterLabels(e,r))}catch(t){const o=new b.ConfigurationExitError("formatFilterBarText",i.config.applicationComponent,t);const n=i.getSearchCompositeControlInstanceByChildControl(this);n?.errorHandler.onError(o);return this._formatFilterText(e,r)}}else{return this._formatFilterText(e,r)}},_assembleFilterLabels:function t(e,r){const i=[];e=this.sortConditions(e,r);for(let t=0;t<e.conditions.length;++t){const r=e.conditions[t];const o=this.getModel();const n=r.getFirstAttribute();const s=o.getProperty("/uiFilter")?.dataSource.attributeMetadataMap[n];if(s&&s.isHierarchy===true&&s.hierarchyDisplayType===p.StaticHierarchyFacet){continue}const a={attributeName:s?.id||n,attributeLabel:"",attributeFilterValueLabels:[]};i.push(a);for(let t=0;t<r.conditions.length;++t){const e=r.conditions[t];if(t===0){a.attributeLabel=e.attributeLabel}a.attributeFilterValueLabels.push(this._formatLabel(e.valueLabel||e.value,e.operator))}}return i},_formatFilterText:function t(e,r){const i=this._assembleFilterLabels(e,r);const o=i.map(t=>t.attributeLabel+" ("+t.attributeFilterValueLabels.join(", ")+")");return h.getText("filtered_by",[o.join(", ")])},_formatLabel:function t(e,r){let i;switch(r){case this.getModel().sinaNext.ComparisonOperator.Bw:i=e+"*";break;case this.getModel().sinaNext.ComparisonOperator.Ew:i="*"+e;break;case this.getModel().sinaNext.ComparisonOperator.Co:i="*"+e+"*";break;default:i=e;break}return i},sortConditions:function t(e,r){if(r.length===0){return e}const i=function(t){const e=t.conditions[0];if(e.attribute){return e.attribute}return e.conditions[0].attribute};const o=function(t,e,r){for(let i=0;i<t.length;++i){const o=t[i];if(o[e]===r){return i}}};e=e.clone();e.conditions.sort(function(t,e){const n=i(t);const s=o(r,"dimension",n);const a=i(e);const l=o(r,"dimension",a);return s-l});const n=function(t){const e=i(t);const n=o(r,"dimension",e);if(!n){return}const s=r[n];if(s.facetType===F.Hierarchy){return}const a=function(t,e){return o(s.items,"label",t.valueLabel)-o(s.items,"label",e.valueLabel)};t.conditions.sort(a)};for(let t=0;t<e.conditions.length;++t){const r=e.conditions[t];n(r)}return e},onAfterRendering:function t(e){r.prototype.onAfterRendering.call(this,e);this.resetButton.attachPress(()=>{const t=this.getModel();t.eventLogger.logEvent({type:d.CLEAR_ALL_FILTERS});t.resetFilterByFilterConditions(true)});const i=jQuery(".sapUshellSearchFilterText");i.attr("aria-label",h.getText("filtered_by_aria_label"))}});return m})})();
},
	"sap/esh/search/ui/controls/SearchLayoutResponsive.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){sap.ui.define(["sap/ui/layout/ResponsiveSplitter","sap/ui/layout/SplitterLayoutData","sap/m/VBox","sap/ui/layout/SplitPane","sap/ui/layout/PaneContainer","sap/ui/core/library","sap/m/Text","../UIEvents"],function(e,t,n,a,i,s,o,r){"use strict";function l(e){return e&&e.__esModule&&typeof e.default!=="undefined"?e.default:e}const u=s["Orientation"];const c=l(r);const h=e.extend("sap.esh.search.ui.controls.SearchLayoutResponsive",{renderer:{apiVersion:2},metadata:{properties:{searchIsBusy:{type:"boolean"},busyDelay:{type:"int"},showFacets:{type:"boolean"},facetPanelResizable:{type:"boolean",defaultValue:false},facetPanelWidthInPercent:{type:"int",defaultValue:25},facetPanelMinWidth:{type:"int",defaultValue:288},animateFacetTransition:{type:"boolean",defaultValue:false}},aggregations:{resultPanelContent:{type:"object",multiple:false},facetPanelContent:{type:"object",multiple:false}}},constructor:function s(r,l){e.prototype.constructor.call(this,r,l);const c=new n("",{items:[new o]});this._paneLeft=new a({requiredParentWidth:10,content:c});this._paneRight=new a({requiredParentWidth:10,content:this._resultPanelContent});this._paneLeft.setLayoutData(new t({size:"0%",resizable:false}));this._paneMainContainer=new i({orientation:u.Horizontal,panes:[this._paneLeft,this._paneRight],resize:()=>{this.triggerUpdateLayout()}});this._paneMainContainer.setLayoutData(new t({size:"100%",resizable:false}));const h=this._paneMainContainer;this.setRootPaneContainer(h);this.setDefaultPane(this._paneRight)},getFacetPanelContent:function e(){const t=this._paneLeft;if(t?.getContent()){return t.getContent()}return undefined},setFacetPanelContent:function e(t){this._facetPanelContent=t;const n=this._paneLeft;if(n){n.setContent(t)}},setResultPanelContent:function e(t){this._resultPanelContent=t;if(this._paneRight){this._paneRight.setContent(t)}},setSearchIsBusy:function e(t){const n=this.getModel();if(!n){return}const a=n.getSearchCompositeControlInstanceByChildControl(this);if(!a){return}a.setBusyIndicatorDelay(this.getProperty("busyDelay"));a.setBusy(t)},setShowFacets:function e(t){if(!this._paneRight){return}this.updateLayout(t);return this},setFacetPanelWidthInPercent:function e(t){this.setProperty("facetPanelWidthInPercent",t,true);this._facetPanelWidthSizeIsOutdated=true;return this},triggerUpdateLayout:function e(){const t=this?._paneLeft.getLayoutData();const n=t.getProperty("size").replace("%","");const a=parseInt(n);const i=a>0;this.updateLayout(i)},updateLayout:function e(a){const i=this._paneLeft;if(i?.getContent()instanceof n){const e=i.getContent().getItems();if(e?.length>0&&e[0]instanceof o){i.setContent(this._facetPanelContent)}}if(this._facetPanelContent){if(this.getProperty("animateFacetTransition")){this._facetPanelContent.addStyleClass("sapUshellSearchFacetAnimation")}else{this._facetPanelContent.removeStyleClass("sapUshellSearchFacetAnimation")}}if(this?._paneLeft?.getContent()){let e;const n=this?._paneLeft.getLayoutData();if(!a){this._paneLeft.getContent().setVisible(false);this._paneLeft.setLayoutData(new t({size:"0%",minSize:0,resizable:false}))}else{this._paneLeft.getContent().setVisible(true);const a=this.getModel();let i=this.getProperty("facetPanelMinWidth");if(a.config.optimizeForValueHelp){e=.01;i=0}else if(this._facetPanelWidthSizeIsOutdated){e=this.getProperty("facetPanelWidthInPercent");this._facetPanelWidthSizeIsOutdated=false}else{e=parseInt(n.getProperty("size").replace("%",""));if(e<1){if(this._previousFacetPanelWidthSize){e=this._previousFacetPanelWidthSize}else{e=this.getProperty("facetPanelWidthInPercent")}}}this._paneLeft.setLayoutData(new t({size:e+"%",minSize:i,resizable:this.getProperty("facetPanelResizable")}));this._previousFacetPanelWidthSize=e}}this._paneMainContainer.setLayoutData(new t({size:"100%",resizable:false}));const s=()=>{this.getModel().notifySubscribers(c.ESHSearchLayoutChanged)};const r=jQuery(".sapUiFixFlexFixed");r.one("transitionend",s)},convertRemToPixel:function e(t){return t*parseFloat(getComputedStyle(document.documentElement).fontSize)},convertPixelToRem:function e(t){return t/parseFloat(getComputedStyle(document.documentElement).fontSize)}});return h})})();
},
	"sap/esh/search/ui/controls/SearchLink.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){sap.ui.define(["sap/esh/search/ui/SearchHelper","sap/ui/core/Icon","sap/m/Link","../sinaNexTS/sina/NavigationTarget","../uiConstants"],function(t,e,i,n,r){"use strict";const s=n["NavigationTarget"];const a=r["initialValueUnicode"];const g=i.extend("sap.esh.search.ui.controls.SearchLink",{renderer:{apiVersion:2,render:(t,e)=>{t.openStart("span",e.getId());t.class("sapUshellSearchLink");if(!e.getWrapping()){t.class("sapUshellSearchLink-nowrap")}const i=e.getTooltip_AsString();if(i){t.attr("title",i)}t.openEnd();const n=e.getAggregation("icon");if(n){t.renderControl(n)}t.renderControl(e.getAggregation("_link"));t.close("span")}},metadata:{properties:{href:{type:"sap.ui.core.URI",defaultValue:""},enabled:{type:"boolean",defaultValue:true},target:{type:"string",defaultValue:"_self"},text:{type:"string",defaultValue:""},wrapping:{type:"boolean",defaultValue:false},navigationTarget:{type:"object",group:"Data"}},aggregations:{_link:{type:"sap.m.Link",multiple:false},icon:{type:"sap.ui.core.Icon",multiple:false}}},constructor:function t(e,n){i.prototype.constructor.call(this,e,n);this._pressHandlerAttached=false},init:function t(){this.setAggregation("_link",new i(this.getId()+"-Link",{text:this.getProperty("text"),href:this.getProperty("href"),target:this.getProperty("target"),wrapping:this.getProperty("wrapping"),enabled:this.getProperty("enabled")}).addStyleClass("sapUshellSearchLinkLink"))},pressHandlerSearchLink:function t(e){const i=this.getNavigationTarget();if(i.targetUrl){i.performNavigation({trackingOnly:true,event:e})}else{e.preventDefault();i.performNavigation({event:e})}},setNavigationTarget:function t(i){this.setProperty("navigationTarget",i);const n=this.getAggregation("_link").getText();if((typeof i?.targetUrl!=="string"||i?.targetUrl?.length===0)&&typeof i?.targetFunction!=="function"||!(typeof n==="string"&&n!==a)){this.setProperty("enabled",false);this.getAggregation("_link").setProperty("enabled",false)}else{this.setProperty("enabled",true);this.getAggregation("_link").setProperty("enabled",true)}const r=i?.targetUrl;if(typeof r==="string"&&r?.length>0){this.setProperty("href",r);this.getAggregation("_link").setProperty("href",r)}else{this.setProperty("href","");this.getAggregation("_link").setProperty("href","")}const s=i?.target;if(typeof s==="string"&&s?.length>0){this.setProperty("target",s);this.getAggregation("_link").setProperty("target",s)}else{this.setProperty("target","_self");this.getAggregation("_link").setProperty("target","_self")}const g=i?.icon;if(!(this.getAggregation("icon")instanceof e)&&typeof g==="string"&&g?.length>0){this.setIcon(new e(`${this.getId()}--Icon`,{src:g}))}const o=i?.tooltip;if(!this.getTooltip()&&typeof o==="string"&&o?.length>0){this.setTooltip(o)}return this},setHref:function t(e){this.setProperty("href",e);this.getAggregation("_link").setProperty("href",e);return this},setTooltip:function t(e){this.getAggregation("_link").setTooltip(e);return this},setWrapping:function t(e){this.setProperty("wrapping",e);this.getAggregation("_link").setProperty("wrapping",e);return this},setText:function t(e){this.setProperty("text",e);this.getAggregation("_link").setProperty("text",e);const i=this.getNavigationTarget();if(!(i instanceof s)){return this}if((typeof i?.targetUrl!=="string"||i?.targetUrl?.length===0)&&typeof i?.targetFunction!=="function"||!(typeof e==="string"&&e!==a)){this.setProperty("enabled",false);this.getAggregation("_link").setProperty("enabled",false)}return this},getNavigationTarget:function t(){return this.getProperty("navigationTarget")},setEnabled:function t(e){if(e===true){const t=this.getNavigationTarget();const e=this.getAggregation("_link").getText();if(t instanceof s&&(typeof t.targetUrl!=="string"||t.targetUrl?.length===0)&&typeof t.targetFunction!=="function"||!(typeof e==="string"&&e!==a)){this.setProperty("enabled",false);this.getAggregation("_link").setProperty("enabled",false);return this}}this.setProperty("enabled",e);this.getAggregation("_link").setProperty("enabled",e);return this},setIcon:function t(i){if(i instanceof e){i.addStyleClass("sapUshellSearchLinkIcon");this.setAggregation("icon",i)}return this},onAfterRendering:function e(n){i.prototype.onAfterRendering.call(this,n);if(this.isDestroyed()){return}if(!this._pressHandlerAttached){this.attachPress(this.pressHandlerSearchLink,this);this.getAggregation("_link").attachPress(this.pressHandlerSearchLink,this);this._pressHandlerAttached=true}const r=this.getAggregation("icon")?.getDomRef();const s=this.getAggregation("_link")?.getDomRef();if(r){s.insertBefore(r,s.firstChild)}t.boldTagUnescaper(s)},_handlePress:function t(e){if(e.target.localName==="b"){const t=this.getDomRef()?this.getDomRef():e.target.parentElement;e.target=t}i.prototype["_handlePress"].apply(this,arguments)},addAriaDescribedBy:function t(e){this.getAggregation("_link").addAriaDescribedBy(e);return this},addStyleClass:function t(e){this.getAggregation("_link").addStyleClass(e);return this},onsapenter:function t(e){this._handlePress(e)},onclick:function t(e){this._handlePress(e)}});return g})})();
},
	"sap/esh/search/ui/controls/SearchQueryExplanation.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){sap.ui.define(["sap/ui/core/Control","./TypeGuardForControls","sap/m/Tree","sap/m/StandardTreeItem","sap/ui/model/json/JSONModel","sap/ui/codeeditor/CodeEditor","sap/ui/layout/VerticalLayout","sap/m/Label","sap/m/Input","../i18n","sap/ui/layout/form/SimpleForm","sap/m/Title","sap/m/Bar","sap/m/ToggleButton"],function(e,t,o,a,i,n,s,r,l,d,p,g,u,c){"use strict";function m(e){return e&&e.__esModule&&typeof e.default!=="undefined"?e.default:e}const y=t["typesafeRender"];const f=m(d);const h=e.extend("sap.esh.search.ui.controls.SearchQueryExplanation",{renderer:{apiVersion:2,render(e,t){const s=`${t.getId()}-filterConditions`;const r=t.getProperty("data");const l=t.getAggregation("mainView");const d=t.getAggregation("toolbar");const p=new c(`${t.getId()}-nlqRawDataToggleButton`,{text:f.getText("showNlqRawData"),press:()=>{const e=p.getPressed();v.setVisible(e);m.setVisible(e);if(e){p.setText(f.getText("hideNlqRawData"));b.collapseAll()}else{p.setText(f.getText("showNlqRawData"));b.expandToLevel(1)}}}).addStyleClass("sapUiLargeMarginBegin");d.addContentRight(p);const u=new i({dataSource:r.scope,searchTerm:r.query,query:JSON.stringify(t.getProperty("data"))});const m=new g(`${t.getId()}-nlqRawDataTitle`,{text:f.getText("nlqRawData"),visible:false}).addStyleClass("sapUiSmallMarginBegin").addStyleClass("sapUiSmallMarginTop");const T=new g(`${t.getId()}-filterConditionsTitle`,{text:f.getText("filterConditions")}).addStyleClass("sapUiSmallMarginBegin");const C={dataSource:r.scope,searchTerm:r.query,items:h.convertFilterForTree(r?.filter)};u.setProperty("/items",C);let w=0;const x={items:{path:"nlqData>/items",template:new a(`${s}-${w++}`,{title:"{nlqData>text}"})}};const b=new o(`${s}-tree`,x);setTimeout(()=>{b.expandToLevel(1)},0);t.setAggregation("conditionTree",b);const S="text";const $={type:S,value:"{nlqData>/query}",height:"100rem",visible:false};const v=new n(`${s}-editor`,$).addStyleClass("sapUiSmallMarginBegin");t.setAggregation("conditionEditor",v);const q=t.getAggregation("form");l.addContent(q);l.addContent(T);l.addContent(b);l.addContent(m);l.addContent(v);t.setModel(u,"nlqData");y(t.getAggregation("toolbar"),e);y(l,e)}},metadata:{properties:{data:{type:"object"}},aggregations:{mainView:{type:"sap.ui.layout.VerticalLayout",multiple:false,visibility:"hidden"},toolbar:{type:"sap.m.Bar",multiple:false,visibility:"hidden"},form:{type:"sap.ui.layout.form.SimpleForm",multiple:false,visibility:"hidden"},conditionEditor:{type:"sap.ui.codeeditor.CodeEditor",multiple:false,visibility:"hidden"},conditionTree:{type:"sap.m.Tree",multiple:false,visibility:"hidden"}}},constructor:function t(o,a){e.prototype.constructor.call(this,o,a);const i=new s(`${this.getId()}-container`,{width:"100%"});const n=new u(`${this.getId()}-toolbar`);i.addContent(n);const d={editable:false,layout:"ResponsiveGridLayout",singleContainerFullSize:true};const g=new p(`${this.getId()}-form`,d);g.addContent(new r(`${this.getId()}-dsLabel`,{text:f.getText("dataSource")}));g.addContent(new l(`${this.getId()}-dsValue`,{value:"{nlqData>/dataSource}",editable:false}));g.addContent(new r(`${this.getId()}-searchTermLabel`,{text:f.getText("searchTerm")}));g.addContent(new l(`${this.getId()}-searchTermValue`,{value:"{nlqData>/searchTerm}",editable:false}));this.setAggregation("toolbar",n);this.setAggregation("form",g);this.setAggregation("mainView",i)}});h.convertFilterForTree=function e(t){const o=[];if(t?.length>0){for(const e of t){if(e?.OperatorType){o.push({text:e.OperatorType,nodes:h.convertFilterForTree(e?.SubFilters)})}else{const t=`${e.ConditionAttribute} ${e.ConditionOperator} ${e.ConditionValue}`;o.push({text:t,nodes:[]})}}}else if(t?.OperatorType){o.push({text:t.OperatorType,nodes:h.convertFilterForTree(t?.SubFilters)})}else if(t?.ConditionOperator){const e=`${t.ConditionAttribute} ${t.ConditionOperator} ${t.ConditionValue}`;o.push({text:e,nodes:[]})}else{o.push({text:f.getText("noFilterConditions"),nodes:[]})}return o};return h})})();
},
	"sap/esh/search/ui/controls/SearchSelectionBar.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){sap.ui.define(["../i18n","sap/m/Text","sap/m/Toolbar","sap/m/library"],function(t,e,i,n){"use strict";function s(t){return t&&t.__esModule&&typeof t.default!=="undefined"?t.default:t}const r=s(t);const o=n["ToolbarDesign"];const a=i.extend("sap.esh.search.ui.controls.SearchSelectionBar",{renderer:{apiVersion:2},constructor:function t(n){i.prototype.constructor.call(this,n);this.setProperty("design",o.Info);this.addStyleClass("sapElisaSearchSelectionBar");this.selectionText=new e(this.getId()+"-selectionText",{text:{parts:[{path:"/multiSelectionObjects"},{path:"/count"}],formatter:this.textFormatter.bind(this)}}).addStyleClass("sapElisaSearchSelectionText");this.bindProperty("visible",{parts:[{path:"/multiSelectionObjects"},{path:"/config"}],formatter:this.visibleFormatter.bind(this)});this.addContent(this.selectionText)},textFormatter:function t(e,i){const n=e.filter(t=>t.selected).length;return r.getText("selectionText",[n,i])},visibleFormatter:function t(e,i){return e.length>=i.enableSearchSelectionBarStartingWith}});return a})})();
},
	"sap/esh/search/ui/controls/SearchSpreadsheet.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){sap.ui.define(["../i18n","sap/ui/export/Spreadsheet","../error/ErrorHandler","sap/ui/core/mvc/Controller","sap/esh/search/ui/SearchResultFormatter","sap/ui/core/Element","../SearchResultTableColumnType","../sinaNexTS/sina/SearchResultSetItemAttributeGroup","../sinaNexTS/sina/AttributeType","sap/ui/export/library","sap/m/MessageBox"],function(t,e,o,r,s,n,i,a,u,l,c){"use strict";function f(t){return t&&t.__esModule&&typeof t.default!=="undefined"?t.default:t}const m=f(t);const p=f(o);const h=i["TableColumnType"];const b=a["SearchResultSetItemAttributeGroup"];const d=u["AttributeType"];const y=l["EdmType"];const C=r.extend("sap.esh.search.ui.controls.SearchSpreadsheet",{constructor:function t(){r.prototype.constructor.apply(this,arguments);this.limit=1e3},onExport:async function t(e){this.model=e;if(this.model.getProperty("/boCount")>this.limit){c.information(m.getText("exportDataInfo"),{actions:[c.Action.OK,c.Action.CANCEL],onClose:async t=>{let e;if(t==c.Action.OK){e=true}if(t==c.Action.CANCEL){e=false}await this.controlExport(e)},styleClass:"sapUshellSearchResultExportDialog"})}else{await this.controlExport(true)}},controlExport:async function t(e){try{this.lockUI();if(!e){return}const t=await this.formatExportData();await this.doUI5Export(t)}catch(t){const e=p.getInstance();e.onError(t)}finally{this.unlockUI()}},formatExportData:async function t(){const e=this.model.query.clone();e.setCalculateFacets(false);e.setTop(this.limit);const o=await e.getResultSetAsync();const r=new s(this.model);const n=r.format(o,e.filter.searchTerm,{suppressHighlightedValues:true});this.exportDataType="technical";this.visibleColumns=this.getVisibleColumns();const i=this.formatExportColumns(n);const a=this.formatExportRows(n);return{exportColumns:i,exportRows:a}},getVisibleColumns:function t(){const e=[];if(this.model.getResultViewType()!=="searchResultTable"){this.model.getTableInitialColumns().forEach(t=>{if(t.visible===true){e.push(t)}})}else{this.model.getTableColumns(false).forEach(t=>{if(t.visible===true){e.push(t)}})}return e},formatExportColumns:function t(e){const o=e[0].itemattributes;let r=[];for(const t of this.visibleColumns){switch(t.type){case h.TITLE:case h.TITLE_DESCRIPTION:r.push({label:t.name,property:t.p13NColumnName,type:y.String,columnType:t.type});break;case h.DETAIL:if(this.exportDataType==="formatted"){r=r.concat([this.formatMergedColumn(t)])}else{r=r.concat(this.formatSeparateColumns(t,o))}break;default:break}}return r},formatMergedColumn:function t(e){return{label:e.name,property:e.attributeId,type:y.String,columnType:h.DETAIL}},formatSeparateColumns:function t(e,o){const r=o.find(t=>t?.sinaAttribute?.id===e.attributeId);const s=r?.sinaAttribute;if(s){if(s instanceof b){return this.formatColumnsForGroupAttribute(s)}else{return[this.formatColumnForSingleAttribute(s)]}}return[]},formatColumnsForGroupAttribute:function t(e){const o=[];const r=e?.attributes||[];for(const t of r){if(t?.attribute instanceof b){const e=this.formatColumnsForGroupAttribute(t?.attribute);o.push(...e)}else{o.push(this.formatColumnForSingleAttribute(t.attribute))}}return o},formatColumnForSingleAttribute:function t(e){if(e){return{label:e?.label,property:e?.id,type:this.isNumberType(e)?y.Number:y.String,columnType:h.DETAIL}}return{}},formatExportRows:function t(e){const o=[];for(const t of e){o.push(this.formatExportRow(t))}return o},formatExportRow:function t(e){let o={};for(const t of this.visibleColumns){switch(t.type){case h.TITLE:o[t.p13NColumnName]=e.title;break;case h.TITLE_DESCRIPTION:o[t.p13NColumnName]=e.titleDescription;break;case h.DETAIL:if(this.exportDataType==="formatted"){o={...o,...this.formatMergedCell(t,e.itemattributes)}}else{o={...o,...this.formatSeparateCells(t,e.itemattributes)}}break;default:break}}return o},formatMergedCell:function t(e,o){const r=o.find(t=>t?.sinaAttribute?.id===e.attributeId);if(r){const t=e?.attributeId;const o=r?.value||"";return{[t]:o}}return{}},formatSeparateCells:function t(e,o){const r=o.find(t=>t?.sinaAttribute?.id===e.attributeId);if(r){const t=r?.sinaAttribute;if(t instanceof b){return this.formatCellsForGroupAttribute(t)}else{return this.formatCellsForSingleAttribute(t)}}return{}},formatCellsForGroupAttribute:function t(e){let o={};const r=e?.attributes||[];for(const t of r){if(t?.attribute instanceof b){const e=this.formatCellsForGroupAttribute(t?.attribute);o={...o,...e}}else{o={...o,...this.formatCellsForSingleAttribute(t.attribute)}}}return o},formatCellsForSingleAttribute:function t(e){if(e){const t=e?.id;let o;if(this.isNumberType(e)){o=e?.value||""}else{o=e?.valueFormatted||""}return{[t]:o}}return{}},isNumberType:function t(e){if(e?.metadata?.type===d.Double||e?.metadata?.type===d.Integer){return true}else{return false}},doUI5Export:async function t(o){const r={workbook:{columns:o.exportColumns},fileName:m.getText("exportFileName"),dataSource:o.exportRows};new e(r).build().then(()=>{},t=>{const e=p.getInstance();e.onError(t)})},lockUI:function t(){const e=document?.querySelectorAll('[id$="ushell-search-result-dataExportButton"]')[0]?.id;const o=n.getElementById(e);o?.setEnabled(false);this.model?.busyIndicator?.setBusy(true)},unlockUI:function t(){const e=document?.querySelectorAll('[id$="ushell-search-result-dataExportButton"]')[0]?.id;const o=n.getElementById(e);o?.setEnabled(true);this.model?.busyIndicator?.setBusy(false)}});return C})})();
},
	"sap/esh/search/ui/controls/SearchTileHighlighter.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){sap.ui.define(["sap/esh/search/ui/SearchHelper","sap/base/security/encodeXML","sap/ui/core/hyphenation/Hyphenation"],function(e,t,i){"use strict";const h=e["Tester"];const s=e;class n{_softHyphenRegExp;tester;constructor(){this._softHyphenRegExp=new RegExp("[]","g")}setHighlightTerms(e){this.tester=new h(e,"sapUshellSearchHighlight",true,"or")}highlight(e){const t=e.getDomRef();if(!t){return}const h=i.getInstance();if(!h.isLanguageInitialized()){h.initialize().then(function(){this.doHighlight(t)}.bind(this),function(){this.doHighlight(t)}.bind(this))}else{this.doHighlight(t)}}doHighlight(e){if(e.nodeType===window.Node.TEXT_NODE){this.highlightTextNode(e);return}for(let t=0;t<e.childNodes.length;++t){const i=e.childNodes[t];this.doHighlight(i)}}removeSoftHyphens(e){return e.replace(this._softHyphenRegExp,"")}highlightTextNode(e){const i=this.tester.test(this.removeSoftHyphens(e.textContent));if(!i.bMatch){return}const h=document.createElement("span");h.innerHTML=t(i.sHighlightedText);s.boldTagUnescaper(h,"sapUshellSearchHighlight");e.parentNode.insertBefore(h,e);e.parentNode.removeChild(e)}}var o={__esModule:true};o.Highlighter=n;return o})})();
},
	"sap/esh/search/ui/controls/TypeGuardForControls.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){sap.ui.define(["sap/ui/base/ManagedObject","sap/ui/core/Control"],function(n,e){"use strict";function t(e){return e instanceof n}function o(n){return n instanceof e}function r(n,e){if(n){if(t(n)){if(o(n)){e.renderControl(n)}}else{for(const t of n){if(o(t)){e.renderControl(t)}}}}}var i={__esModule:true};i.isManagedObject=t;i.isControl=o;i.typesafeRender=r;return i})})();
},
	"sap/esh/search/ui/controls/facets/FacetTypeUI.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){
/*!
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.define([],function(){"use strict";var t=function(t){t["DataSource"]="DataSource";t["Hierarchy"]="Hierarchy";t["Attribute"]="Attribute";t["QuickSelectDataSource"]="QuickSelectDataSource";t["HierarchyStatic"]="HierarchyStatic";return t}(t||{});var e={__esModule:true};e.FacetTypeUI=t;return e})})();
},
	"sap/esh/search/ui/controls/facets/SearchFacetDialog.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){sap.ui.define(["../../i18n","sap/esh/search/ui/SearchHelper","sap/esh/search/ui/SearchFacetDialogHelper","sap/esh/search/ui/SearchFacetDialogHelper_SearchAdvancedCondition_ModuleLoader","sap/esh/search/ui/SearchFacetDialogHelperCharts","sap/esh/search/ui/controls/SearchAdvancedCondition","sap/esh/search/ui/FacetItem","sap/m/library","sap/m/Page","sap/m/Dialog","sap/m/Select","sap/m/CheckBox","sap/m/SearchField","sap/m/ToggleButton","sap/m/Button","sap/m/StandardListItem","sap/m/SplitContainer","sap/ui/core/Item","sap/m/List","sap/m/HBox","sap/m/VBox","sap/ui/model/Filter","sap/ui/model/FilterOperator","sap/m/ScrollContainer","sap/m/Toolbar","sap/m/IconTabBar","sap/m/IconTabFilter","sap/ui/model/json/JSONModel","sap/esh/search/ui/SearchModel","../../eventlogging/UserEvents","../../hierarchydynamic/SearchHierarchyDynamicFacet","./types/SearchFacetHierarchyDynamic","./FacetTypeUI","sap/ui/core/Element","sap/ui/base/ManagedObject","sap/base/Log"],function(e,t,a,s,n,i,l,o,r,c,d,g,h,p,u,f,C,S,y,m,D,P,b,F,I,x,O,B,T,w,v,A,M,E,L,H){"use strict";function U(e){return e&&e.__esModule&&typeof e.default!=="undefined"?e.default:e}const V=U(e);const _=o["ButtonType"];const R=o["ListMode"];const N=o["ListSeparators"];const k=o["FlexAlignItems"];const j=o["FlexJustifyContent"];const z=o["BackgroundDesign"];const G=w["UserEventType"];const K=U(v);const Q=U(A);const W=M["FacetTypeUI"];const J=c.extend("sap.esh.search.ui.controls.SearchFacetDialog",{renderer:{apiVersion:2},metadata:{properties:{tabBarItems:{type:"object"},selectedAttribute:{type:"string"},selectedTabBarIndex:{type:"int"}}},constructor:function e(i,l){const o=new s;c.prototype.constructor.call(this,i,l);const r=typeof i==="object"?i:l;this.bConditionValidateError=false;this.bShowCharts=true;this.bOldPieChart=true;this.chartOnDisplayIndex=r.selectedTabBarIndex;this.facetOnDisplayIndex=0;this.chartOnDisplayIndexByFilterArray=[];this.aItemsForBarChart=[];this.SearchFacetDialogHelperCharts=new n(this);if(!this.getProperty("tabBarItems")){n.setDummyTabBarItems(this)}this.setShowHeader(true);this.setTitle(V.getText("dialogTitle"));this.setHorizontalScrolling(false);this.setVerticalScrolling(false);this.setContentHeight("35rem");this.setBeginButton(new u({text:V.getText("okDialogBtn"),type:_.Emphasized,press:e=>{this.onOkClick();this.close();this.getModel().destroy();this.destroy()}}));this.setEndButton(new u({text:V.getText("cancelDialogBtn"),press:e=>{this.onCancelClick();this.close();this.getModel().destroy();this.destroy()}}));this.addContent(this.createContainer());a.init(this);this.addStyleClass("sapUshellSearchFacetDialog");this.onSearchFieldLiveChangeDelayed=t.delayedExecution(this.onSearchFieldLiveChange,1e3)},createContainer:function e(){this.oSplitContainer=new C({masterPages:this.createMasterPages()});this.oSplitContainer.bindAggregation("detailPages",{path:"/facetDialog",factory:(e,t)=>this.createDetailPage(e,t)});this.oSplitContainer.addStyleClass("sapUshellSearchFacetDialogContainer");return this.oSplitContainer},setModel:function e(t,a){c.prototype.setModel.call(this,t,a);if(t instanceof T&&typeof t.config!=="undefined"){if(t.config.optimizeForValueHelp){this.addStyleClass("sapUshellSearchFacetDialogValueHelp")}}return this},createMasterPages:function e(){const t=new y({mode:R.SingleSelectMaster,selectionChange:e=>{this.onMasterPageSelectionChange(e)}});t.addStyleClass("sapUshellSearchFacetDialogFacetList");t.bindItems({path:"/facetDialog",factory:(e,t)=>{const a=t.getObject();if(a instanceof K){const e=new f({title:{path:"title"},counter:{path:"filterCount"},visible:{path:"visible"}});return e}else{const e=new f({title:{path:"title"},counter:{path:"count"},visible:{path:"visible"}});return e}}});const s=new u({icon:"sap-icon://clear-filter",tooltip:V.getText("resetFilterButton_tooltip"),type:_.Transparent,enabled:{path:"/facetDialogOverallCounter"},press:e=>{this.resetAllFilters()}});s.addStyleClass("sapUshellSearchFacetDialogFilterResetButton");const n=new r({title:V.getText("filters"),headerContent:s,content:[t]}).addStyleClass("sapUshellSearchFacetDialogMasterContainer");n.addEventDelegate({onAfterRendering:()=>{if(this.getProperty("selectedAttribute")){for(let e=0;e<t.getItems().length;e++){const a=t.getItems()[e];const s=a.getBindingContext().getObject();if(this.getProperty("selectedAttribute")===s.dimension){t.setSelectedItem(a);this.facetOnDisplayIndex=e;this.chartOnDisplayIndexByFilterArray.push(this.chartOnDisplayIndex)}else{let e=0;const t=a.getBindingContext().getModel().getData().facets;for(let a=0;a<t.length;a++){if(t[a].chartIndex&&t[a].dimension===s.dimension&&!isNaN(t[a].chartIndex)){e=t[a].chartIndex}}this.chartOnDisplayIndexByFilterArray.push(e)}}}if(!t.getSelectedItem()){t.setSelectedItem(t.getItems()[0])}const e=t.getSelectedItem();if(e){a.updateDetailPage(e,null,true)}this.resetEnabledForFilterResetButton()}});return[n]},resetAllFilters:function e(){const t=$(".sapUshellSearchFacetDialogSettingsContainer").find(".sapMCbBg.sapMCbHoverable.sapMCbMark");if(t.length===1){const e=t[0].parentNode["id"];const a=E.getElementById(e);a.setSelected(false);a.setEnabled(false)}const s=this.getModel();s.aFilters=[];a.bResetFilterIsActive=true;const n=a.getFacetList();const i=n.getItems();for(let e=0;e<i.length;e++){i[e].setCounter(0)}this.resetAdvancedConditionFilters();a.resetChartQueryFilters();a.updateDetailPage(n.getSelectedItem());this.resetEnabledForFilterResetButton();a.bResetFilterIsActive=false},resetAdvancedConditionFilters:function e(){let t,s,n,i,l,o;const r=this.oSplitContainer.getDetailPages();for(let e=0;e<r.length;e++){const c=r[e];const d=c.getBindingContext().getObject();if(d instanceof K){continue}n=a.POS_ATTRIBUTE_LIST_CONTAINER;t=c.getContent()[n];if(t){for(let e=t.getContent().length-2;e>0;e--){s=t.getContent()[e];l=s.getParent();o=s;l.removeContent(o)}}else{n=a.POS_ICONTABBAR;i=a.POS_TABBAR_CONDITION;t=c.getContent()[n].getItems()[i].getContent()[0];if(t){for(let e=t.getContent().length-1;e>-1;e--){s=t.getContent()[e];if(s.getContent&&s.getContent()[1]){const e=s.getContent()[1].getContent()[1];const t=e.getValue();if(t&&(""+t).length>0){l=s.getParent();o=s;l.removeContent(o)}}}}}}},resetEnabledForFilterResetButton:function e(t){let s=false;let n=0;const i=a.getFacetList();const l=i.getItems();for(let e=0;e<l.length;e++){n+=l[e].getCounter()}const o=this.getModel();if(o.aFilters&&o.aFilters.length>0||t||n>0){s=true}o.setProperty("/facetDialogOverallCounter",s)},onMasterPageSelectionChange:function e(t){const s=t.getParameter("listItem");this.facetOnDisplayIndex=s.getParent().indexOfItem(s.getParent().getSelectedItem());this.setChartOnDisplayIndexForFacetListItem(this.facetOnDisplayIndex);const n=s.getParent().getModel();const i=s.getBindingContext().getPath();this.resetIcons(n,i,this);a.updateDetailPage(s);if(this.oSplitContainer.getMode()==="ShowHideMode"){this.oSplitContainer.hideMaster()}this.controlChartVisibility(this,this.chartOnDisplayIndex)},createDetailPage:function e(t,a){const s=a.getObject();switch(s.facetType){case W.Attribute:return this.createAttributeDetailPage(t,a);case W.Hierarchy:return this.createDynamicHierarchyAttributeDetailPage(t,a)}},createDynamicHierarchyAttributeDetailPage:function e(t,a){const s=new Q("",{showTitle:false});const n=a.getObject();const i=new r({title:n.title,showHeader:true,content:[s]}).addStyleClass("sapUshellSearchFacetDialogDetailPage").addStyleClass("sapUshellSearchFacetDialogHierarchyTreeDetailPage");return i},createAttributeDetailPage:function e(t,a){const s=a.getModel().getProperty(a.getPath()).facetType;const l=a.getModel()["getAttributeDataType"](a.getModel().getProperty(a.getPath()));const o=new d({items:[new S({text:V.getText("notSorted"),key:"notSorted"}),new S({text:V.getText("sortByCount"),key:"sortCount"}),new S({text:V.getText("sortByName"),key:"sortName"})],selectedKey:l==="string"||l==="text"?"sortCount":"notSorted",change:e=>{this.onSelectChange(e)}}).addStyleClass("sapUshellSearchFacetDialogSettingsSelect");const c=new m({alignItems:k.End,justifyContent:j.End,items:[o]});const C=new g({text:V.getText("showSelectedOnTop"),enabled:false,select:e=>{this.onCheckBoxSelect(e)}});const B=new D({items:[c,C]}).addStyleClass("sapUshellSearchFacetDialogSettingsContainer");B.setVisible(false);const T=new y({backgroundDesign:z.Transparent,includeItemInSelection:true,showNoData:false,showSeparators:N.None,selectionChange:e=>{this.onDetailPageSelectionChange(e)}});T.addStyleClass("sapUshellSearchFacetDialogDetailPageList");T.addStyleClass("largeChart0");if(s===W.Attribute){T.setMode(R.MultiSelect)}const w={path:"items",factory:(e,t)=>{const a=t.oModel.getProperty(t.sPath);const s=new f({title:{path:"label"},tooltip:V.getText("facetListTooltip",[L.escapeSettingsValue(a.label),L.escapeSettingsValue(a.valueLabel)]),info:{path:"valueLabel"},selected:{path:"selected"}});if(a.selected){t.oModel.addFilter(a)}return s}};if(l==="number"||l==="integer"){o.removeItem(2)}w["filters"]=new P("advanced",b.NE,true);T.bindAggregation("items",w);T.data("dataType",l);if(this.bShowCharts){T.addEventDelegate({onAfterRendering:e=>{this.hideSelectively(e,this,0)}})}let v,A;const M=n.getBarChartPlaceholder();M.addEventDelegate({onAfterRendering:e=>{this.hideSelectively(e,this,1)}});M.data("dataType",l);if(this.bOldPieChart){A=n.getPieChartPlaceholder()}else{A={}}A.addEventDelegate({onAfterRendering:e=>{this.hideSelectively(e,this,2)}});if(this.bShowCharts&&(l==="string"||l==="text")){v=new F({height:"67.2%",horizontal:false,vertical:true,content:[T,M,A]})}else{v=new F({height:"calc(100% - 0.25rem)",horizontal:false,vertical:true,content:[T]});if(l==="number"||l==="integer"){v.addStyleClass("sapUshellSearchFacetDialogDetailPageListContainerNumber")}else{v.addStyleClass("sapUshellSearchFacetDialogDetailPageListContainerDate")}}v.addStyleClass("sapUshellSearchFacetDialogDetailPageListContainer");v.addStyleClass("searchFacetLargeChartContainer");v.setBusyIndicatorDelay(0);const E=new i("",{type:l});let H;if(l==="string"||l==="text"){const e=new F({horizontal:false,vertical:true,content:[E]});e.addStyleClass("sapUshellSearchFacetDialogDetailPageAdvancedContainer");const t=new u({icon:"sap-icon://add",type:_.Transparent,press:e=>{this.onPlusButtonPress(e,l)}});t.addStyleClass("sapUshellSearchFacetDialogDetailPageAdvancedContainerPlusButton");e.addContent(t);e.data("dataType",l);e.data("initial",true);v.setHeight("calc(100% - 0.25rem)");e.setHeight("100%");const s=n.getDropDownButton(this);const i=new I({content:[new h({placeholder:V.getText("filterPlaceholder"),liveChange:e=>{this.onSearchFieldLiveChangeDelayed(e["oSource"].getValue())}}),new p({icon:"sap-icon://sort",press:e=>{this.onSettingButtonPress(e)}}).addStyleClass("sapUshellSearchFacetDialogSortButton")]}).addStyleClass("sapUshellSearchFacetDialogSubheaderToolbar");i.addEventDelegate({onAfterRendering:()=>{$(".sapUshellSearchFacetDialogSubheaderToolbar").removeClass("sapContrastPlus")}});if(this.bShowCharts){i.addContent(s)}const o=new r({showHeader:false,subHeader:i,content:[B,v]}).addStyleClass("sapUshellSearchFacetDialogDetailPage");const c=new x({expandable:false,stretchContentHeight:true,backgroundDesign:z.Transparent,applyContentPadding:false,select:()=>{this.controlChartVisibility(this,this.chartOnDisplayIndex)},items:[new O({text:V.getText("selectFromList"),content:[o]}),new O({text:V.getText("defineCondition"),content:[e]})]});c.addStyleClass("sapUshellSearchFacetDialogIconTabBar");H=new r({showHeader:true,title:a.getModel().getProperty(a.getPath()).title,content:[c]});H.addStyleClass("sapUshellSearchFacetDialogDetailPageString")}else{v.addContent(E);v.data("dataType",l);v.data("initial",true);if(this.bShowCharts){const e=a.getModel().getProperty(a.getPath()).title;H=new r({title:e,showHeader:true,content:[B,v]})}else{H=new r({showHeader:true,title:a.getModel().getProperty(a.getPath()).title,content:[B,v]})}H.addStyleClass("sapUshellSearchFacetDialogDetailPage")}H.addEventDelegate({onAfterRendering:()=>{this.controlChartVisibility(this,this.chartOnDisplayIndex)}});return H},onDetailPageSelectionChange:function e(t){const s=t.getParameter("listItem");const n=s.getBindingContext().getObject();const i=this.getModel();if(s.getSelected()){n.listed=true;i.addFilter(n)}else{n.listed=false;i.removeFilter(n)}const l=t.getSource();let o;if(l.data("dataType")==="string"||l.data("dataType")==="text"){o=l.getParent().getParent().getParent().getParent().getParent().getParent()}else{o=l.getParent().getParent()}a.updateCountInfo(o);const r=l.getParent().getParent().getContent()[a.POS_SETTING_CONTAINER];const c=r.getItems()[a.POS_SHOWONTOP_CHECKBOX];const d=r.getItems()[a.POS_SORTING_SELECT].getItems()[0];if(c.getSelected()){c.setSelected(false);d.setSelectedKey("notSorted")}if(l.getSelectedContexts().length>0){c.setEnabled(true)}else{c.setEnabled(false)}},onSearchFieldLiveChange:function e(t){const s=a.getFacetList().getSelectedItem();a.updateDetailPage(s,t)},onSettingButtonPress:function e(t){const s=t.getSource();const n=s.getPressed();const i=s.getParent().getParent()["getContent"]()[a.POS_SETTING_CONTAINER];const l=s.getParent().getParent()["getContent"]()[a.POS_ATTRIBUTE_LIST_CONTAINER];if(n){i.setVisible(true);l.setHeight("calc(100% - 4.25rem)")}else{i.setVisible(false);l.setHeight("calc(100% - 0.25rem)")}},onSelectChange:function e(t){const s=t.getSource();a.sortingAttributeList(s.getParent().getParent().getParent())},onCheckBoxSelect:function e(t){const s=t.getSource();a.sortingAttributeList(s.getParent().getParent())},onPlusButtonPress:function e(t,a){const s=t.getSource();const n=s.getParent();const l=new i("",{type:a});const o=n.getContent().length-1;n.insertContent(l,o)},onOkClick:function e(){const t=this.getModel();const s=this.getModel("searchModel");s.resetFilterByFilterConditions(false);const n=this.oSplitContainer.getDetailPages();for(let e=0;e<t.aFilters.length;e++){const a=t.aFilters[e];if(!a.advanced||a.listed){s.addFilterCondition(a.filterCondition,false)}}for(let e=0;e<n.length;e++){const t=n[e];const i=t.getBindingContext().getObject();if(i instanceof K){continue}if(a.getFacetList().getItems()[e]){a.applyAdvancedCondition(t,a.getFacetList().getItems()[e].getBindingContext().getObject(),s)}}if(!this.bConditionValidateError){s.filterChanged=true;s.invalidateQuery();s.fireSearchQuery()}s.eventLogger.logEvent({type:G.FACET_SHOW_MORE_CLOSE})},onCancelClick:function e(){const t=this.getModel("searchModel");t.eventLogger.logEvent({type:G.FACET_SHOW_MORE_CLOSE})},setChartOnDisplayIndexForFacetListItem:function e(t){let a=0;try{a=this.chartOnDisplayIndexByFilterArray[t]}catch(e){H.warning("Error in setChartOnDisplayIndexForFacetListItem: "+e);a=0}if(a===undefined){a=0}this.chartOnDisplayIndex=a},resetIcons:function e(t,a,s){let n=false;const i=t.getAttributeDataType(t.getProperty(a));if(this.bShowCharts&&(i==="string"||i==="text")){n=true}const l=$(".sapUshellSearchFacetDialogTabBarButton");if(n){l.css("display","block");for(let e=0;e<l.length;e++){const t=l[e].id;const a=E.getElementById(t);const n=s.getProperty("tabBarItems")[s.chartOnDisplayIndex].getIcon();a.setIcon(n);const i=s.getProperty("tabBarItems")[s.chartOnDisplayIndex].getText();const o=V.getText("displayAs",[i]);a.setTooltip(o)}}else{l.css("display","none")}},onDetailPageSelectionChangeCharts:function e(t){let s=0;let n,i,o,r,c,d,g,h,p;let u,f,C,S;if(t.getSource&&t.getId()==="press"){n=t.getSource().getBindingContext();i=n.getModel();o=n.getObject();r=o.selected;c=!r;d=t.getSource();g=d.getBindingContext().sPath+"/selected";i.setProperty(g,c);h=d.getBindingContext().getObject();if(c){i.addFilter(h)}else{i.removeFilter(h)}p=g.replace(/\/items.+/,"");p+="/items";f=i.getProperty(p);s=0;for(let e=0;e<f.length;e++){C=f[e];if(C.selected===true){s++}}}else if(t.getSource&&(t.getId()==="selectData"||t.getId()==="deselectData")){n=t.getSource().getBindingContext();i=n.getModel();o=n.getObject();c=t.getId()==="selectData";d=t.getSource();g=d.getBindingContext().sPath+"/items/";for(let e=0;e<t.getParameter("data").length;e++){u=t.getParameter("data")[e].data._context_row_number;g+=u+"/selected";i.setProperty(g,c);h=d.getBindingContext().getObject().items[u];if(c){i.addFilter(h)}else{i.removeFilter(h)}}p=g.replace(/\/items.+/,"");p+="/items";f=i.getProperty(p);s=0;for(let e=0;e<f.length;e++){if(f[e].selected===true){s++}}const e=t.getParameter("data").length;if(!c&&e>1){s=0;for(let e=0;e<f.length;e++){f[e].selected=false}}}else{o=t["dataObject"];r=o.selected;c=!r;s=t["cnt"];i=t["model"];h=new l;h.facetAttribute=L.escapeSettingsValue(o.dimension);h.filterCondition=L.escapeSettingsValue(o.filterCondition);h.label=L.escapeSettingsValue(o.label);h.selected=L.escapeSettingsValue(o.selected);h.listed=L.escapeSettingsValue(o.selected);h.value=L.escapeSettingsValue(o.value);h.valueLabel=L.escapeSettingsValue(o.valueLabel);for(let e=0;e<this.aItemsForBarChart.length;e++){const t=this.aItemsForBarChart[e];if(t.label===L.escapeSettingsValue(o.label)){t.selected=o.selected}}const e=this.getModel();if(r){e.addFilter(h)}else{e.removeFilter(h)}}const y=a.getFacetList();S=y.getSelectedItem();if(!S){S=y.getItems()[0]}S.setCounter(s);this.resetEnabledForFilterResetButton()},updateDetailPageCharts:function e(t){if(this.bShowCharts===false){return}this.aItemsForBarChart=t;const a=n.getListContainersForDetailPage();const s=a[1];if(!s){return}const i=s.getContent();if(i&&this.chartOnDisplayIndex===2){const e=i[2];const s=a[5];let n=a[2];n=.9*n;if(e.directUpdate){const a={relevantContainerHeight:n,oSearchFacetDialog:this};const i=new B;i.setData(t);$("#"+s.id).empty();e.directUpdate(t,s,i,a)}}if(i&&this.chartOnDisplayIndex===1){const e=i[2].getDomRef();if(e){const t=$("#"+e.id);t.css("display","none")}}if(i&&this.chartOnDisplayIndex===2){const e=i[1].getDomRef();if(e){const t=$("#"+e.id);t.css("display","none")}}},controlChartVisibility:function e(t,a,s){let i,l,o,r;if(this.bShowCharts===false)return;const c=n.getListContainersForDetailPage();const d=c[1];if(!d||!d.getContent)return;const g=d.getContent();for(let e=0;e<g.length;e++){i=g[e].getDomRef();if(!i)return;o=i.className;r=false;if(o.indexOf("largeChart")>-1){r=true}l=$("#"+i.id);if(r&&e!==a){l.css("display","none")}else{l.css("display","block")}}if(t.bOldPieChart){if(r&&a===2&&s){const e=this.aItemsForBarChart;this.updateDetailPageCharts(e)}if(r&&a===2){d.setVertical(false)}else{d.setVertical(true)}}const h=c[6];const p=c[7];if(h){if(a===0){h.css("display","block");p.css("visibility","visible")}else{h.css("display","none");p.css("visibility","hidden")}}},hideSelectively:function e(t,a,s){const i=$("#"+t["srcControl"].sId);const l=a.chartOnDisplayIndex;const o=n.getListContainersForDetailPage();const r=o[1];if(o[0].firstChild.children.length!=3)return;if(l!==undefined){if(a.chartOnDisplayIndex!==s){i.css("display","none")}else{i.css("display","block")}}else{i.css("display","block")}if(l===2){if(!o[0].firstChild.children[2]||!o[0].firstChild.children[2].firstChild){a.controlChartVisibility(a,a.chartOnDisplayIndex,true)}if(a.bOldPieChart){r.setVertical(false)}}else{r.setVertical(true)}const c=o[6];if(c){const e=$("#"+c.sId);if(l===0){e.css("display","block")}else{e.css("display","none")}}}});return J})})();
},
	"sap/esh/search/ui/controls/facets/SearchFacetList.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){sap.ui.define(["../../i18n","sap/m/IconTabFilter","sap/m/Button","../../error/errors","./types/SearchFacetQuickSelectDataSource","./types/SearchFacetHierarchyDynamic","./types/SearchFacetHierarchyStatic","./types/tabbarfacet/SearchFacetBarChart","./types/tabbarfacet/SearchFacetPieChart","sap/ui/core/Control","./types/tabbarfacet/SearchFacetTabBar","../../eventlogging/UserEvents","../OpenShowMoreDialog","sap/m/library","./FacetTypeUI","./types/tabbarfacet/SearchFacetSimpleList","sap/m/FlexBox","sap/m/Label"],function(e,t,a,n,r,c,s,o,i,l,h,d,u,p,f,S,g,y){"use strict";function F(e){return e&&e.__esModule&&typeof e.default!=="undefined"?e.default:e}const b=F(e);const w=F(n);const C=F(r);const B=F(c);const A=F(s);const m=F(o);const T=F(i);const U=F(h);const x=d["UserEventType"];const D=u["openShowMoreDialog"];const I=p["ButtonType"];const k=p["FlexAlignItems"];const H=p["FlexJustifyContent"];const _=f["FacetTypeUI"];const M=F(S);const v=l.extend("sap.esh.search.ui.controls.SearchFacetList",{renderer:{apiVersion:2,render(e,t){const a=t.getModel();e.openStart("div",t);e.class("sapUshellSearchFacetList");e.class("sapUshellSearchFacetFilter");e.openEnd();const n=t.getAggregation("facets");for(let a=0,r=n.length;a<r;a++){const r=n[a];t.renderSectionHeader(e,n,a);const c=r.getBindingContext().getObject();switch(c.facetType){case _.Attribute:r.switchFacetType(_.Attribute);r.attachSelectionChange(null,()=>{const e=t._getShowAllButton();const a=e.getDomRef();if(a){jQuery(a).hide()}else{}});if(c.position<=499){r.addStyleClass("sapUshellSearchFacetSearchInAttribute")}e.renderControl(r);break;case _.DataSource:r.switchFacetType(_.DataSource);r.addStyleClass("sapUshellSearchFacetDataSource");e.renderControl(r);break;case _.QuickSelectDataSource:r.addStyleClass("sapUshellSearchFacetQuickSelectDataSource");e.renderControl(r);break;case _.Hierarchy:if(c.position<=499){r.addStyleClass("sapUshellSearchFacetSearchInAttribute")}r.addStyleClass("sapUshellSearchFacetHierarchyDynamic");e.renderControl(r);break;case _.HierarchyStatic:r.addStyleClass("sapUshellSearchFacetHierarchyStatic");e.renderControl(r);break;default:throw"program error: unknown facet type :"+c.facetType}}if(a.getDataSource()?.type==="BusinessObject"){const n=a.oFacetFormatter.hasDialogFacetsFromMetaData(a);const r=t.getModel().getProperty("/boCount")>0;if(n&&r){const a=t._getShowAllButton();if(a!==null){e.openStart("div",t.getId()+"-showAllFilters");e.openEnd();a.setModel(t.getModel("i18n"));a.addStyleClass("sapUshellSearchFacetListShowAllFilterBtn");a.addStyleClass("sapUshellSearchFacetFilterShowAllFilterBtn");e.renderControl(a);e.close("div")}}}e.close("div")}},metadata:{aggregations:{facets:{singularName:"facet",bindable:"bindable",multiple:true},_showAllBtn:{type:"sap.m.Button",multiple:false,visibility:"hidden"}}},constructor:function e(t,a){l.prototype.constructor.call(this,t,a);this.data("sap-ui-fastnavgroup","true",true);this.bindFacets()},bindFacets:function e(){if(!this.getBindingInfo("facets")){this.bindAggregation("facets",{path:"/facets",factory:(e,a)=>{const n=a.getObject();const r=a.getModel();const c=r.config;switch(n.facetType){case _.Attribute:{let a=`${e}-attribute_facet`;if(typeof c?.getSpaceFacetId==="function"){a=c.getSpaceFacetId(n.dimension,a)}const r=new U(a,{items:[new t({text:b.getText("facetList"),icon:"sap-icon://list",key:`list${e}`,content:new M(`list${e}`)}),new t({text:b.getText("facetBarChart"),icon:"sap-icon://horizontal-bar-chart",key:`barChart${e}`,content:new m(`barChart${e}`)}),new t({text:b.getText("facetPieChart"),icon:"sap-icon://pie-chart",key:`pieChart${e}`,content:new T(`pieChart${e}`)})]});r.addStyleClass("sapUshellSearchFacetIconTabBar");return r}case _.DataSource:{const e=new M((c?.id?c.id+"-":"")+"dataSourceFacet",{facetType:_.DataSource});if(c.exclusiveDataSource){e.setVisible(false)}return e}case _.QuickSelectDataSource:{const e=new C((c?.id?c.id+"-":"")+"sapUshellSearchFacetQuickSelectDataSource",{});return e}case _.Hierarchy:{const t=`${e}-hierarchy_facet`;const a=new B(t,{openShowMoreDialogFunction:D});return a}case _.HierarchyStatic:{const t=`${e}-hierarchyStatic_facet`;return new A(t,{})}default:{const e=new Error(`Program error: Unknown facet type: '${n.facetType}'`);throw new w.UnknownFacetType(e)}}}})}},getFirstFilterByFacet:function e(t){for(const e of t){const t=e.getBindingContext().getObject();if(t.facetType===_.Attribute||t.facetType===_.Hierarchy){return e}}},doRenderSectionHeader:function e(t,n,r,c){const s=[];const o=new y({text:n});o.addStyleClass("sapUshellSearchFacetSectionHeader");s.push(o);if(r){const e=this.getModel();let t=false;const n=e.getProperty("/uiFilter/rootCondition");if(n.hasFilters()){t=true;if(e.filterWithoutFilterByConditions()){t=false}if(typeof e.config.hasSpaceFiltersOnly==="function"){if(e.config.hasSpaceFiltersOnly(n)===true){t=false}}}else{t=false}const r=new a("",{icon:"sap-icon://clear-filter",tooltip:b.getText("resetFilterButton_tooltip"),type:I.Transparent,enabled:t,press:()=>{e.eventLogger.logEvent({type:x.CLEAR_ALL_FILTERS});e.resetFilterByFilterConditions(true)}});r.addStyleClass("sapUshellSearchFilterByResetButton");s.push(r)}const i=new g({justifyContent:H.SpaceBetween,alignItems:k.Center,items:s});if(c){i.addStyleClass(c)}t.renderControl(i)},renderSectionHeader:function e(t,a,n){const r=a[n];if(n===0){this.doRenderSectionHeader(t,b.getText("searchIn"),false,"sapUshellSearchInSection");return}if(this.getFirstFilterByFacet(a)===r){this.doRenderSectionHeader(t,b.getText("filterBy"),true);return}},onAfterRendering:function e(){const t=$(".searchFacetList .searchFacet").first().find("ul");const a=t.find("li");t.attr("role","tree");a.attr("role","treeitem")},_getShowAllButton:function e(){if(this.getAggregation("_showAllBtn")===null){const e=async()=>{const e=this.getModel();await D({searchModel:e,dimension:undefined,selectedTabBarIndex:0,tabBarItems:undefined,sourceControl:this})};const t=new a(`${this.getId()}-ShowMoreAll`,{text:"{showAllFilters}",press:e,visible:true});this.setAggregation("_showAllBtn",t)}return this.getAggregation("_showAllBtn")}});return v})})();
},
	"sap/esh/search/ui/controls/facets/types/SearchFacetHierarchyDynamic.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){sap.ui.define(["../../../i18n","sap/m/Label","sap/m/CheckBox","sap/m/library","sap/ui/model/BindingMode","../../../tree/TreeView","sap/m/Link","sap/m/VBox","../../../tree/TreeViewItem","sap/m/FlexBox"],function(e,t,n,o,s,a,r,i,c,l){"use strict";function d(e){return e&&e.__esModule&&typeof e.default!=="undefined"?e.default:e}const h=d(e);const u=o["FlexAlignItems"];const p=o["FlexJustifyContent"];const g=o["ListType"];const f=d(a);const m=d(c);const w=i.extend("sap.esh.search.ui.controls.SearchFacetHierarchyDynamic",{renderer:{apiVersion:2},metadata:{properties:{showTitle:{type:"boolean",defaultValue:true},openShowMoreDialogFunction:{type:"function"}}},constructor:function e(n,o){i.prototype.constructor.call(this,n,o);this.addStyleClass("sapUshellSearchFacetContainer");if(this.getShowTitle()){const e=new l({justifyContent:p.SpaceBetween,alignItems:u.Center,items:[new t({text:"{title}"})]});e.addStyleClass("sapUshellSearchFacetHeader");this.addItem(e)}const s=new f("",{treeNodeFactory:"{treeNodeFactory}",items:{path:"rootTreeNode/childTreeNodes",factory:(e,t)=>this.createTreeItem(e,t)}});s.data("sap-ui-fastnavgroup","false",true);this.addItem(s);this.createShowMoreLink()},getOpenShowMoreDialogFunction:function e(){return this.getProperty("openShowMoreDialogFunction")},createShowMoreLink:function e(){const n=new r("",{text:h.getText("showMore"),press:()=>{const e=this.getBindingContext().getObject();const t=this.getOpenShowMoreDialogFunction();t({searchModel:this.getModel(),dimension:e.attributeId,selectedTabBarIndex:0,tabBarItems:undefined,sourceControl:this})}});const o=new t("",{text:""});n.addStyleClass("sapUshellSearchFacetShowMoreLink");const s=new i("",{items:[o,n],visible:{parts:[{path:"isShowMoreDialog"}],formatter:function(e){return!e}}});s.addStyleClass("sapUshellSearchFacetShowMore");this.addItem(s)},getShowTitle:function e(){return this.getProperty("showTitle")},createTreeItem:function e(o,a){const r=a.getObject();const i=new n({selected:{path:"selected",mode:s.OneWay},partiallySelected:{path:"partiallySelected",mode:s.OneWay},select:function(e){const t=e.getSource().getBindingContext().getObject();t.toggleFilter()}});const c=new t({text:{parts:[{path:"label"},{path:"count"}],formatter:function(e,t){return t?e+" ("+t+")":e}}});const l=new m("",{content:[i,c]});l.attachPress(()=>{r.toggleFilter()});l.setType(g.Active);return l}});return w})})();
},
	"sap/esh/search/ui/controls/facets/types/SearchFacetHierarchyStatic.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){sap.ui.define(["./SearchFacetHierarchyStaticTreeItem","sap/m/Label","sap/m/library","sap/ui/core/Icon","sap/m/FlexBox","../../../tree/TreeView","sap/m/FlexItemData","../../../error/errors","sap/m/VBox"],function(e,t,r,o,a,n,c,s,i){"use strict";function l(e){return e&&e.__esModule&&typeof e.default!=="undefined"?e.default:e}const d=l(e);const h=r["FlexAlignItems"];const p=r["FlexJustifyContent"];const u=r["ListType"];const f=l(n);const y=l(s);const m=i.extend("sap.esh.search.ui.controls.SearchFacetHierarchyStatic",{renderer:{apiVersion:2},constructor:function e(r,o){i.prototype.constructor.call(this,r,o);this.addStyleClass("sapUshellSearchFacetContainer");const n=new a({justifyContent:p.SpaceBetween,alignItems:h.Center,items:[new t({text:"{title}"})]});n.addStyleClass("sapUshellSearchFacetHeader");this.addItem(n);const c=new f("",{treeNodeFactory:"{treeNodeFactory}",items:{path:"rootTreeNode/childTreeNodes",factory:this.createTreeItem.bind(this)}});this.addItem(c);c.data("sap-ui-fastnavgroup","false",true);this.bindProperty("visible",{parts:[{path:"rootTreeNode/childTreeNodes/length"}],formatter:()=>{const e=this.getBindingContext().getObject();const t=e?.rootTreeNode?.childTreeNodes;if(!t){return false}const r=t.filter(e=>e.id!=="dummy");return r.length>0}})},createTreeItem:function e(r,n){const s=new t({text:"{label}",width:"100%"});s.setLayoutData(new c({growFactor:1}));s.addStyleClass("sapUshellSearchHierarchyFacetItemLabel");const i=n.getObject();const l=new o("",{src:"{icon}"});l.addStyleClass("sapUshellSearchHierarchyFacetItemIcon");l.setLayoutData(new c({growFactor:0}));const h=new a("",{items:[l,s],width:"100%"});const p=new d("",{content:h,selectLine:"{hasFilter}"});p.attachPress(()=>{i.toggleFilter()});p.setType(u.Active);return p},onAfterRendering:function e(t){i.prototype.onAfterRendering.call(this,t);const r=this.getModel();if(r.config.searchInAreaOverwriteMode&&typeof r.config.setQuickSelectDataSourceAllAppearsNotSelected==="function"){try{r.config.setQuickSelectDataSourceAllAppearsNotSelected(r)}catch(e){const t=new y.ConfigurationExitError("setQuickSelectDataSourceAllAppearsNotSelected",r.config.applicationComponent,e);throw t}}}});return m})})();
},
	"sap/esh/search/ui/controls/facets/types/SearchFacetHierarchyStaticTreeItem.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){sap.ui.define(["../../../tree/TreeViewItem"],function(e){"use strict";function t(e){return e&&e.__esModule&&typeof e.default!=="undefined"?e.default:e}const s=t(e);const n=s.extend("sap.esh.search.ui.controls.SearchFacetHierarchyStaticTreeItem",{renderer:{apiVersion:2},metadata:{properties:{selectLine:{type:"boolean",defaultValue:false}}},constructor:function e(t,n){s.prototype.constructor.call(this,t,n);const c={onAfterRendering:()=>{const e=this.getDomRef();if(this.getProperty("selectLine")){if(!e.classList.contains("sapMLIBSelected")){e.classList.add("sapMLIBSelected")}}else{if(e.classList.contains("sapMLIBSelected")){e.classList.remove("sapMLIBSelected")}}}};this.addEventDelegate(c,this)}});return n})})();
},
	"sap/esh/search/ui/controls/facets/types/SearchFacetQuickSelectDataSource.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){sap.ui.define(["sap/m/List","sap/m/StandardListItem","sap/m/library","sap/ui/core/CustomData","sap/m/Tree","sap/m/CustomListItem","./SearchFacetHierarchyStaticTreeItem","sap/m/Label","sap/ui/core/Icon","../../../eventlogging/UserEvents","sap/m/VBox","sap/m/FlexBox","../../../i18n"],function(e,t,n,c,a,r,o,s,i,d,l,u,h){"use strict";function p(e){return e&&e.__esModule&&typeof e.default!=="undefined"?e.default:e}const S=n["FlexAlignItems"];const g=n["FlexJustifyContent"];const f=n["ListSeparators"];const m=n["ListMode"];const y=n["ListType"];const x=p(o);const T=d["UserEventType"];const I=p(h);const b=l.extend("sap.esh.search.ui.controls.SearchFacetQuickSelectDataSource",{renderer:{apiVersion:2},constructor:function t(n,c){l.prototype.constructor.call(this,n,c);this.addStyleClass("sapUshellSearchFacetContainer");const a=new u({justifyContent:g.SpaceBetween,alignItems:S.Center,items:[new s({text:I.getText("quickSelectDataSourcesHeader")})]});a.addStyleClass("sapUshellSearchFacetHeader");this.addItem(a);const r=new e({itemPress:e=>{const t=e.getParameter("srcControl");const n=t.getBindingContext().getObject();this.handleSelectDataSource(n.dataSource);const c=this.getModel();const a={type:T.QUICK_SELECT_SWITCH,dataSourceKey:n.dataSource.id};c.eventLogger.logEvent(a)},items:{path:"items",factory:(e,t)=>{const n=t.getObject();if(n.type==="quickSelectDataSourceTreeNode"){return this.createTree()}else{return this.createListItem()}}}});r.setShowSeparators(f.None);r.setMode(m.SingleSelectMaster);this.addItem(r);this.getSelectedItem=r.getSelectedItem.bind(r)},handleSelectDataSource:function e(t){const n=this.getModel();if(n.config.bResetSearchTermOnQuickSelectDataSourceItemPress){n.setSearchBoxTerm("",false)}if(typeof n.config.cleanUpSpaceFilters==="function"){n.config.cleanUpSpaceFilters(n)}n.setDataSource(t)},createTree:function e(){this.tree=new a({mode:m.None,includeItemInSelection:true,items:{path:"children",factory:this.createTreeItem.bind(this)},toggleOpenState:function(e){e.getParameter("itemContext").getObject().toggleExpand()}});const t={onAfterRendering:function(){this.expandTreeNodes()}.bind(this)};this.addEventDelegate(t,this);return new r({content:this.tree})},expandTreeNodes:function e(){const t=this.getBindingContext().getObject();const n=t.items[0];this.expandTreeNodeRecursively(n,true)},expandTreeNodeRecursively:function e(t,n){if(t.expanded&&!n){this.doExpandTreeNode(t)}if(!t.children){return}for(let e=0;e<t.children.length;++e){const n=t.children[e];this.expandTreeNodeRecursively(n)}},doExpandTreeNode:function e(t){const n=this.tree.getItems();for(let e=0;e<n.length;++e){const c=n[e];const a=c.getBindingContext().getObject();if(a===t){this.tree.expand(e);return}}},createTreeItem:function e(t,n){const c=[];const a=n.getObject().icon;if(a){const e=new i("",{src:"{icon}"});e.addStyleClass("sapUiTinyMarginEnd");c.push(e)}const r=new s({text:"{label}"});r.attachBrowserEvent("click",()=>{this.handleSelectDataSource(n.getObject().getDataSource())});c.push(r);const o=new x("",{content:c,selectLine:{parts:["/queryFilter","dataSourceId"],formatter:function(e,t){return e.dataSource.id===t}}});return o},createListItem:function e(){return new t("",{type:y.Active,title:"{dataSource/label}",tooltip:"{dataSource/label}",icon:"{dataSource/icon}",customData:[new c({key:"test-id-collection",value:"{dataSource/label}",writeToDom:true})],selected:{parts:[{path:"/queryFilter"},{path:"dataSource"}],formatter:function(e,t){return e.dataSource===t}}})}});return b})})();
},
	"sap/esh/search/ui/controls/facets/types/tabbarfacet/SearchFacetBarChart.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){sap.ui.define(["../../../../i18n","sap/suite/ui/microchart/ComparisonMicroChart","sap/suite/ui/microchart/ComparisonMicroChartData","sap/ui/core/Control","sap/m/library","sap/ui/core/Element"],function(e,t,a,o,i,s){"use strict";function r(e){return e&&e.__esModule&&typeof e.default!=="undefined"?e.default:e}const n=r(e);const l=i["ValueColor"];const c=o.extend("sap.esh.search.ui.controls.SearchFacetBarChart",{renderer:{apiVersion:2,render(e,a){e.openStart("div",a);e.openEnd();const o=new t("",{width:"90%",colorPalette:[],tooltip:"",shrinkable:true});if(a.options?.oSearchFacetDialog){o.setWidth("95%");o.addStyleClass("sapUshellSearchFacetBarChartLarge")}else{o.addStyleClass("sapUshellSearchFacetBarChart")}o.addEventDelegate({onAfterRendering:function(){$("#"+this.getId()).has(".Good").addClass("sapUshellSearchFacetBarChartSelected");const e=this.getBindingContext().getObject();o.getDomRef().setAttribute("data-test-id-facet-dimension-value",`${e.title}-${e.dimension}`)}.bind(a)});let i=a.getAggregation("items");const s=a.getProperty("aItems");if(i.length===0&&s){i=s}let r=0;for(const e of i){if(!a.options.oSearchFacetDialog){if(e.getProperty("value")){o.addData(e)}else{r++}}else{o.addData(e)}}a.iMissingCnt=r;e.renderControl(o);e.close("div")}},metadata:{properties:{aItems:{type:"object"},oSearchFacetDialog:{type:"sap.esh.search.ui.controls.SearchFacetDialog"}},aggregations:{items:{type:"sap.suite.ui.microchart.ComparisonMicroChartData",multiple:true}}},constructor:function e(t,i){o.prototype.constructor.call(this,t,i);this.options=i||{};this.bindAggregation("items",{path:"items",factory:()=>{const e=new a({title:{path:"label"},value:{path:"value"},color:{path:"selected",formatter:e=>{let t;if(e){t=l.Good}else{t=l.Neutral}return t}},tooltip:{parts:[{path:"label"},{path:"value"}],formatter:(e,t)=>e+": "+t},displayValue:{path:"valueLabel"},press:e=>{const t=e.getSource().getBindingContext();const a=t.getModel();const o=t.getObject();const i=o.selected;const s=o.filterCondition;if(i){if(this.options.oSearchFacetDialog){this.options.oSearchFacetDialog.onDetailPageSelectionChangeCharts(e)}else{a.removeFilterCondition(s,true)}}else if(this.options.oSearchFacetDialog){this.options.oSearchFacetDialog.onDetailPageSelectionChangeCharts(e)}else{a.addFilterCondition(s,true)}}});return e}})},onAfterRendering:function e(){const t=$(this.getDomRef()).closest(".sapUshellSearchFacetIconTabBar").find(".sapUshellSearchFacetInfoZeile")[0];const a=s.getElementById(t.id);if(this.iMissingCnt>0){a.setVisible(true);const e=n.getText("infoZeileNumberMoreSelected",[this.iMissingCnt]);a.setText(e);a.rerender()}else{a.setVisible(false)}}});return c})})();
},
	"sap/esh/search/ui/controls/facets/types/tabbarfacet/SearchFacetPieChart.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){sap.ui.define(["../../../../i18n","sap/ui/thirdparty/d3","sap/ui/core/Control","../../FacetTypeUI","sap/ui/core/Element"],function(t,e,i,n,a){"use strict";function s(t){return t&&t.__esModule&&typeof t.default!=="undefined"?t.default:t}const r=s(t);const l=n["FacetTypeUI"];const d=i.extend("sap.esh.search.ui.controls.SearchFacetPieChart",{renderer:{apiVersion:2,render(t,e){t.openStart("div",e);t.attr("role","figure");t.openEnd();t.close("div");e.PieChart=h}},metadata:{properties:{oSearchFacetDialog:{type:"object"}},aggregations:{items:{type:"sap.esh.search.ui.FacetItem",multiple:true}}},constructor:function t(n,a){i.prototype.constructor.call(this,n,a);this.iMissingCnt=0;d.d3=e},getFacetIndex:function t(){let e=this.getDomRef();let i;while(e){if(e.classList.contains("sapUshellSearchFacetIconTabBar")){i=e;break}e=e.parentElement}if(!i){return-1}const n=document.querySelectorAll(".sapUshellSearchFacetIconTabBar");for(let t=0;t<n.length;++t){const e=n.item(t);if(e===i){return t}}return-1},getFacetIndexByIdForLargePieChart:function t(e){let i=-1;const n=$("#"+e).parent().parent()[0];const a=n.id;const s=$(".searchFacetLargeChartContainer");for(let t=0;t<s.length;t++){const e=s[t].id;if(e===a){i=t;break}}return i},getPieChartIndexByFacetIndex:function t(e){let i;let n=-1;let a=0;for(let t=0;t<e;t++){i=$($(".sapUshellSearchFacetIconTabBar")[t]).find(".sapMLIBContent")[1].firstChild["id"];if(i.match(/pieChart/)!==null){a++}}n=a;return n},getSumSelected:function t(e){let i;let n=0;if(e){for(let t=0;t<e.length;t++){if(e[t].facetType===l.Attribute){for(let a=0;a<e[t].items.length;a++){i=e[t].items[a].value;if(i&&e[t].items[a].selected){n+=i}}}}}return n},getDataForPieChart:function t(e,i,n){const a=[];let s=[];let d;let h=0;let o=-1;let c="";const g=i.oData.count;let u=g;let f=0;this.iMissingCnt=0;for(let t=0;t<e.length;t++){if(e[t].facetType===l.Attribute){o++;if(e[t].totalCount){u=e[t].totalCount}s=[];f=0;for(let i=0;i<e[t].items.length;i++){d={};h=e[t].items[i].value;if(h){c=""+h;f+=h;d.filterCondition=e[t].items[i].filterCondition;d.dimension=e[t].items[i].facetTitle;d.label=e[t].items[i].label;d.selected=e[t].items[i].selected;d.filterLabel=e[t].items[i].label;d.id=e[t].items[i].label;d.value=h;d.valueLabel=e[t].items[i].valueLabel;if(c){d.tooltip=e[t].items[i].label+": "+h}else{d.tooltip=e[t].items[i].label}d.filtered=false;d.removed=false;d.fill="#007CAA";d.maxLabelLength=30;s.push(d)}else if(o===n){this.iMissingCnt++}}const i=Math.round(f/u*100);let l=100-i;if(l>0){if(l===100){l=99}const t=18*f/350;const e=""+l;d={};d.filterCondition=null;d.dimension="";d.label=e;d.id="perc_missing";d.value=t;d.valueLabel=e;d.tooltip=r.getText("facetPieChartOverflowText",[e]);d.filtered=false;d.removed=false;d.fill="transparent";d.stroke="none";d.maxLabelLength=30;s.push(d)}a.push(s)}}return a},getDataForPieChartLarge:function t(e){const i=[];let n=0;let a=0;let s;for(let t=0;t<e.length;t++){n=e[t].value;if(n){s={};a=a+n;s.filterCondition=e[t].filterCondition;s.dimension=e[t].facetAttribute;s.label=e[t].label;s.selected=e[t].selected;s.filterLabel=e[t].label;s.id=e[t].label;s.value=n;s.valueLabel=e[t].valueLabel;s.tooltip=e[t].label+"\t: "+n;s.filtered=false;s.removed=false;s.fill="#007CAA";s.maxLabelLength=30;i.push(s)}}return i},directUpdate:function t(e,i,n,a){let s;const r=[];const l=20;const d=null;s=this.getModel();if(!s){s=this.getParent().getModel()}a.pieChartParentClass="sapUshellSearchFacetPieChartLarge";a.height=a.relevantContainerHeight;a.labelHideThreshold=1e-6;$(i).parent().parent().height(a.height);a.width=$(i).parent().parent().width();this.chartElements=this.getDataForPieChartLarge(e);const o=new h(i,a,d,s);for(let t=0;t<l;t++){if(this.chartElements[t]){r.push(this.chartElements[t])}}o.update(r)},isFacetPanel:function t(){let e=this.getDomRef();while(e){if(e.classList.contains("sapUshellSearchFacetTabBar")){return true}e=e.parentElement}return false},onAfterRendering:function t(){const e=this;let i,n,s,l,d,h;const o=null;const c={};l=this.getModel();if(!l){l=this.getParent().getModel("facets")}if(l){d=$("#"+this["sId"])[0];if(this.isFacetPanel()){c.pieChartParentClass="sapUshellSearchFacetPieChart";h=this.getFacetIndex();d.className=c.pieChartParentClass;i=this.getDataForPieChart(l.oData.facets,l,h);n=i[h];const t=n.map(t=>t.tooltip);this.getDomRef().setAttribute("aria-label",t.join("; "));const g=this.getBindingContext().getObject();this.getDomRef().setAttribute("data-test-id-facet-dimension-value",`${g.title}-${g.dimension}`);s=new this.PieChart(d,c,o,l);s.update(n);const u=$(this.getDomRef()).closest(".sapUshellSearchFacetIconTabBar").find(".sapUshellSearchFacetInfoZeile")[0];const f=a.getElementById(u.id);if(e.iMissingCnt>0){f.setVisible(true);const t=r.getText("infoZeileNumberMoreSelected",[e.iMissingCnt]);f.setText(t);f.rerender()}else{f.setVisible(false)}}else if($(d)[0].className==="largeChart2piechart"){$(d).attr("tabindex","0")}}}});d.isIE=function t(){if(navigator.appName==="Microsoft Internet Explorer"){return true}return false};class h{application;parent;model;chartElements;options;svg;svgArcs;svgLabels;oldArcs;clickedSegment;firstUpdate;xOrigin;yOrigin;tweenGenArc;tweenGenText;arcSequence;constructor(t,e,i,n){this.init(t,e,i,n)}init(t,e,i,n){this.parent=t;this.application=i;this.model=n;this.chartElements=[];const a=d.d3.select(t);let s=$(t).innerHeight();const r=$(t).innerWidth();if(e.height>s){s=e.height}const l=Math.min(r,s)/2;this.options={"dimension-pie":"YEAR",backgroundWidth:r,backgroundHeight:s,width:r,height:s,innerRadius:0,outerRadius:l*.8,tweenGen:h.Tweens.tweenGenSimple,tweenGenText:h.Tweens.tweenGenSimpleText,arcCalculator:h.generateHistoricalArcCalculator(this),animationduration:1500,labelHideThreshold:.05,easing:"linear",pieChartClass:"sap-piechart",pieChartParentClass:"sapUshellSearchFacetPieChart",color:"blue",strokewidth:1,strokewidthHover:3,padding4click:7,multipleselectable:true,oSearchFacetDialog:null};if(e){for(const t in e){this.options[t]=e[t]}}this.createAttributeService(h,"innerRadius",function(){this.init()});this.createAttributeService(h,"outerRadius",function(){this.init()});this.createAttributeService(h,"tweenGen",function(){this.init()});this.createAttributeService(h,"tweenGenText",function(){this.init()});this.createAttributeService(h,"width",function(){this.init()});this.createAttributeService(h,"height",function(){this.init()});this.createAttributeService(h,"animationduration");this.createAttributeService(h,"labelHideThreshold");this.createAttributeService(h,"arcCalculator");const o=Math.round(this.options.width/2);const c=Math.round(this.options.height/2);this.svg=a.append("svg:svg").attr("width",r).attr("height",s).attr("id",t.id+"_svg").append("svg:g").attr("transform","translate("+o+","+c+")");this.svgArcs=this.svg.append("svg:g");this.svgLabels=this.svg.append("svg:g");this.svg.attr("class",this.options.pieChartClass);this.inittween();this.oldArcs=[];this.clickedSegment={};this.firstUpdate=true}getParent(){return this.parent}static Tweens=function(){const t={tweenGenSimple:undefined,tweenGenSimpleText:undefined,translateStr4Padding:undefined,tweenGenEcstasy:undefined,tweenGenLSD:undefined};t.tweenGenSimple=function(t,e,i,n,a,s){const r={startAngle:t.oldArc.startAngle,endAngle:t.oldArc.endAngle,innerRadius:n,outerRadius:a};const l={startAngle:t.startAngle,endAngle:t.endAngle,innerRadius:n,outerRadius:a};const h=d.d3.interpolate(r,l);return function(t){return s(h(t))}};t.tweenGenSimpleText=function(e,i,n,a,s,r,l){let h=" ";if(e.labelElement.childNodes[1]&&e.labelElement.childNodes[1].childNodes[0]&&e.labelElement.childNodes[1].childNodes[0].data){h=e.labelElement.childNodes[1].childNodes[0].data}const c=new o(r.options.width,r.options.height,e.oldArc.startAngle,e.oldArc.endAngle,r.options.outerRadius,e.labelElement.childNodes[1].getBBox().width,e.labelElement.childNodes[1].getBBox().height,r.svgArcGen(e).centroid(e),h,r.svg);c.update();const g=[c.x,c.y];const u=new o(r.options.width,r.options.height,e.startAngle,e.endAngle,r.options.outerRadius,e.labelElement.childNodes[1].getBBox().width,e.labelElement.childNodes[1].getBBox().height,r.svgArcGen(e).centroid(e),h,r.svg);u.update();if(u.labelWidth<e.labelElement.childNodes[1].getBBox().width){r.adjustLabelWidth(e.labelElement,u.labelWidth)}const f=[u.x,u.y];const p=d.d3.interpolateArray(g,f);const A=function(i){let n;if(l){n=t.translateStr4Padding(e.startAngle,e.endAngle,r.options.padding4click,i[0],i[1])}else{n="translate("+i+")"}return n};return function(t){return A(p(t))}};t.translateStr4Padding=function(t,e,i,n,a){const s=e-t;let r=i*Math.sin(s/2);let l=-(i*Math.cos(s/2));const d=r*Math.cos(t)-l*Math.sin(t);l=r*Math.sin(t)+l*Math.cos(t);r=d;const h="translate("+(n+r)+", "+(a+l)+")";return h};t.tweenGenEcstasy=function(t,e,i,n,a,s){const r=Math.round((n+a)/2);let l;let h;if(e%2){l=a;h=r}else{l=r;h=n}let o={startAngle:t.oldArc.startAngle,endAngle:t.oldArc.endAngle,innerRadius:n,outerRadius:a};let c={startAngle:t.oldArc.startAngle,endAngle:t.oldArc.endAngle,innerRadius:h,outerRadius:l};const g=d.d3.interpolate(o,c);o={startAngle:t.oldArc.startAngle,endAngle:t.oldArc.endAngle,innerRadius:h,outerRadius:l};c={startAngle:t.startAngle,endAngle:t.endAngle,innerRadius:h,outerRadius:l};const u=d.d3.interpolate(o,c);o={startAngle:t.startAngle,endAngle:t.endAngle,innerRadius:h,outerRadius:l};c={startAngle:t.startAngle,endAngle:t.endAngle,innerRadius:n,outerRadius:a};const f=d.d3.interpolate(o,c);return function(t){if(t<=.25){return s(g(t*4))}if(t<=.75){return s(u((t-.25)*2))}return s(f((t-.75)*4))}};t.tweenGenLSD=function(t,e,i,n,a,s){const r=Math.round((n+a)/2);let l;let h;if(e%2){l=a;h=r}else{l=r;h=n}let o={startAngle:t.oldArc.startAngle,endAngle:t.oldArc.endAngle,innerRadius:n,outerRadius:a};let c={startAngle:t.oldArc.startAngle,endAngle:t.oldArc.endAngle,innerRadius:h,outerRadius:l};const g=d.d3.interpolate(o,c);o={startAngle:t.oldArc.startAngle,endAngle:t.oldArc.endAngle,innerRadius:h,outerRadius:l};c={startAngle:t.startAngle,endAngle:t.startAngle+(t.oldArc.endAngle-t.oldArc.startAngle),innerRadius:h,outerRadius:l};const u=d.d3.interpolate(o,c);o={startAngle:t.startAngle,endAngle:t.startAngle+(t.oldArc.endAngle-t.oldArc.startAngle),innerRadius:h,outerRadius:l};c={startAngle:t.startAngle,endAngle:t.endAngle,innerRadius:h,outerRadius:l};const f=d.d3.interpolate(o,c);o={startAngle:t.startAngle,endAngle:t.endAngle,innerRadius:h,outerRadius:l};c={startAngle:t.startAngle,endAngle:t.endAngle,innerRadius:n,outerRadius:a};const p=d.d3.interpolate(o,c);return function(t){if(t<=.25){return s(g(t*4))}if(t<=.5){return s(u((t-.25)*4))}if(t<=.75){return s(f((t-.5)*4))}return s(p((t-.75)*4))}};return t}();createAttributeService(t,e,i){t.prototype[e]=function(t){if(t===null){return this.options[e]}this.options[e]=t;if(i){i.call(this)}return this}}inittween(){const t=this;t.xOrigin=Math.round(t.options.width/2);t.yOrigin=Math.round(t.options.height/2);t.svg.attr("width",this.options.width).attr("height",this.options.height);this.tweenGenArc=function(e,i,n){return t.options.tweenGen(e,i,n,t.options.innerRadius,t.options.outerRadius,t.svgArcGen(e))};this.tweenGenText=function(e,i,n,a){return t.options.tweenGenText(e,i,n,t.options.innerRadius,t.options.outerRadius,t,a)}}update(t){this.notAnimatedUpdate(t)}notAnimatedUpdate(t){const e=this;let i=[];if(!t){return}this.chartElements=t;e.svgArcs.selectAll("path").remove();e.svgLabels.selectAll("g").remove();let n=0;for(let e=0;e<t.length;++e){n+=t[e].value}for(let e=0;e<t.length;++e){t[e].percentage=t[e].value/n}i=this.options.arcCalculator.calculateNewArcsOnly(t);let a=this.svgArcs.selectAll("path").data(i,h.getIdOfArc);if(!a.exit().empty()){a.exit().remove()}if(!a.empty()){a.attr("d",function(t){const i=e.svgArcGen(t);return i(t)}).attr("transform",function(t){let i;if(t.data.selected){i=h.translateStr4Padding(t.startAngle,t.endAngle,e.options.padding4click,0,0)}else{i="translate(0,0)"}return i}).style("stroke",function(t){let e;if(t.data.stroke==="none"){e=t.data.stroke}else if(t.data.selected||t.data.hovered){e="#dadada"}else{e="white"}return e}).style("stroke-width",function(t){let i;if(t.data.selected||t.data.hovered){i=e.options.strokewidthHover}else{i=e.options.strokewidth}return i}).style("opacity",function(t){let e;if(t.data.selected||t.data.hovered){e="1"}else if(t.data.initial){e="0.75"}else{e="0.5"}return e}).each(function(t){while(this.hasChildNodes()){this.removeChild(this.lastChild)}d.d3.select(this).append("svg:title").text(""+t.data.tooltip)})}a.enter().append("svg:path").attr("data-label",t=>t.data.label).attr("transform",function(t){let i;if(t.data.selected){e.clickedSegment[t.data.id]=this;i=h.translateStr4Padding(t.startAngle,t.endAngle,e.options.padding4click,0,0)}return i}).attr("shape-rendering","geometricPrecision").attr("tabindex","0").style("stroke",function(t){let e;if(t.data.stroke==="none"){e=t.data.stroke}else if(t.data.selected||t.data.hovered){e="#dadada"}else{e="white"}return e}).style("stroke-width",function(t){let i;if(t.data.selected||t.data.hovered){i=e.options.strokewidthHover}else{i=e.options.strokewidth}return i}).style("opacity",function(t){let e;if(t.data.selected||t.data.hovered){e="1"}else if(t.data.initial){e="0.75"}else{e="0.5"}return e}).attr("fill",function(t){return t.data.fill}).on("keydown",function(){const t=d.d3.event;const e=t.keyCode||t.which;if(e==32){t.target.__onclick()}}).on("click",function(t,i){let n;if(t.data.click&&t.data.pieupdateuionly===false){const n=t.data.click(t,i);if(!e.options.multipleselectable&&!n){return}}let a,s;let r;const l=e.getLabelElementtbyLabel(t.data.label);if(l){let i=" ";if(l.childNodes[1]&&l.childNodes[1].childNodes[0]&&l.childNodes[1].childNodes[0].data){i=l.childNodes[1].childNodes[0].data}r=new o(e.options.width,e.options.height,t.startAngle,t.endAngle,e.options.outerRadius,l.childNodes[1].getBoundingClientRect().width,l.childNodes[1].getBoundingClientRect().height,e.svgArcGen(t).centroid(t),i,e.svg);r.update();if(r.labelWidth<l.childNodes[1].getBoundingClientRect().width){e.adjustLabelWidth(l,r.labelWidth)}}if(t.data.selected){if(!e.options.multipleselectable&&Object.keys(e.clickedSegment).length>0){delete e.clickedSegment[t.data.id]}a="translate(0,0)";if(l){s="translate("+r.x+","+r.y+")"}t.data.selected=false;if(e.options.oSearchFacetDialog){n={};n.cnt=e.getNumberOfClickedSegments();n.dataObject=t.data;e.options.oSearchFacetDialog.onDetailPageSelectionChangeCharts(n)}else{e.model.removeFilterCondition(t.data.filterCondition,true)}}else{if(!e.options.multipleselectable){if(Object.keys(e.clickedSegment).length>0){for(const t in e.clickedSegment){const i=e.clickedSegment[t];if(typeof i.__onclick==="function"){i.__data__.data.pieupdateuionly=true;i.__onclick.apply(i)}delete e.clickedSegment[t]}}if(Object.keys(e.clickedSegment).length<1){e.clickedSegment[t.data.id]=this}}a=h.translateStr4Padding(t.startAngle,t.endAngle,e.options.padding4click,0,0);if(l){s=h.translateStr4Padding(t.startAngle,t.endAngle,e.options.padding4click,r.x,r.y)}t.data.selected=true;if(t.data.filterCondition){if(e.options.oSearchFacetDialog){n={};n.cnt=e.getNumberOfClickedSegments();n.dataObject=t.data;e.options.oSearchFacetDialog.onDetailPageSelectionChangeCharts(n)}else{e.model.addFilterCondition(t.data.filterCondition,true)}}}d.d3.select(this).transition().duration(1e3).ease(d.d3.ease("elastic")).attr("transform",a).style("stroke",t=>{let e;if(t.data.stroke==="none"){e=t.data.stroke}else if(t.data.selected){e="#dadada"}else{e="white"}return e}).style("stroke-width",t=>{let i;if(t.data.selected){i=e.options.strokewidthHover}else{i=e.options.strokewidth}return i}).style("opacity",t=>{let e;if(t.data.selected||t.data.hovered){e="1"}else if(t.data.initial){e="0.75"}else{e="0.5"}return e});const c=e.getLabelElementtbyLabel(t.data.label);if(c){d.d3.select(c).transition().duration(1e3).ease(d.d3.ease("elastic")).attr("transform",s)}}).on("mouseover",function(t,i){if(!e.options.multipleselectable&&Object.keys(e.clickedSegment).length>0){return}if(t.data.selected||t.data.hovered){return}if(t.data.mouseover){const n=t.data.mouseover(t,i);if(!e.options.multipleselectable&&!n){return}}}).on("mouseout",function(t,i){if(t.data.selected){d.d3.select(this).style("opacity",1)}if(!e.options.multipleselectable&&Object.keys(e.clickedSegment).length>0){return}if(t.data.selected){return}if(t.data.mouseout){const n=t.data.mouseout(t,i);if(!e.options.multipleselectable&&!n){return}}}).attr("d",t=>{const i=e.svgArcGen(t);return i(t)}).append("svg:title").text(t=>""+t.data.tooltip);a=e.svgLabels.selectAll("g").data(i,h.getIdOfArc);if(!a.exit().empty()){a.exit().remove()}if(!a.empty()){a.style("opacity",function(t){if(t.removed||t.data.percentage<e.options.labelHideThreshold){return 0}return 1}).attr("transform",function(t){let i;let n;if(this.childNodes[1]&&this.childNodes[1].childNodes[0]){n=new o(e.options.width,e.options.height,t.startAngle,t.endAngle,e.options.outerRadius,this.getBoundingClientRect().width,this.getBoundingClientRect().height,e.svgArcGen(t).centroid(t),t.data.label,e.svg)}else{n=new o(e.options.width,e.options.height,t.startAngle,t.endAngle,e.options.outerRadius,this.getBoundingClientRect().width,this.getBoundingClientRect().height,e.svgArcGen(t).centroid(t)," ",e.svg)}n.update();if(n.labelWidth<this.childNodes[1].getBoundingClientRect().width){e.adjustLabelWidth(this,n.labelWidth)}if(t.data.selected){i=h.translateStr4Padding(t.startAngle,t.endAngle,e.options.padding4click,n.x,n.y)}else{i="translate("+n.x+","+n.y+")"}return i})}if(!a.enter().empty()){const t=a.enter().append("svg:g").style("opacity",0);t.append("svg:text").attr("class","labelshadow").attr("text-anchor","middle").text(function(t){return""+t.data.label}).style("pointer-events","none");t.append("svg:text").attr("class","label").attr("text-anchor","middle").text(function(t){return""+t.data.label}).style("pointer-events","none");t.style("opacity",function(t){if(t.removed||t.data.percentage<e.options.labelHideThreshold){return 0}return 1}).attr("transform",function(t){let i;const n=new o(e.options.width,e.options.height,t.startAngle,t.endAngle,e.options.outerRadius,this.getBoundingClientRect().width,this.getBoundingClientRect().height,e.svgArcGen(t).centroid(t),t.data.label,e.svg);n.update();if(n.labelWidth<this.childNodes[1].getBoundingClientRect().width){e.adjustLabelWidth(this,n.labelWidth)}if(t.data.selected){i=h.translateStr4Padding(t.startAngle,t.endAngle,e.options.padding4click,n.x,n.y)}else{i="translate("+n.x+","+n.y+")"}return i})}e.oldArcs=h.removeDeletedArcs(i)}getNumberOfClickedSegments(){let t=0;const e=this.chartElements;for(let i=0;i<e.length;i++){if(e[i].selected===true){t++}}return t}adjustLabelWidth(t,e){const i=t.childNodes[0];const n=t.childNodes[1];if(e<=0){i.childNodes[0].data="";n.childNodes[0].data="";return}let a=i.childNodes[0].data.length;i.childNodes[0].data+="...";let s="";while(i.getBBox().width>e){s=i.childNodes[0].data;s=s.substr(0,a-1)+s.substr(a,3);i.childNodes[0].data=s;a--;if(a<=0){i.childNodes[0].data="";break}}n.childNodes[0].data=i.childNodes[0].data}getArcsWithLabel(t){const e=[];for(let i=0;i<t.length;++i){const n=t[i];if(n.data.percentage>this.options.labelHideThreshold){e.push(n)}}return e}svgArcGen(...t){const e=this;const i=d.d3.svg.arc().innerRadius(function(){return e.options.innerRadius}).outerRadius(function(){return e.options.outerRadius}).startAngle(t=>t.startAngle).endAngle(t=>t.endAngle);return i}getArcElementtbyLabel(t){let e=this;e.svgArcs.selectAll("g").each(function(i){if(i.data.label===t){e=this}return});return e}getLabelElementtbyLabel(t){let e=this;e.svgLabels.selectAll("g").each(function(i){if(i.data.label===t){e=this}});return e}static removeDeletedArcs(t){const e=[];for(let i=0;i<t.length;++i){const n=t[i];if(!n.removed){e.push(n)}}return e}static createZeroArc(t,e){return{startAngle:t,endAngle:t,data:e,removed:true}}insertAfter(t,e,i){let n;if(e>=0){const a=t[e];n=h.createZeroArc(a.endAngle,i.data)}else{n=h.createZeroArc(0,i.data)}n.oldArc=i;t.splice(e+1,0,n)}static getIdOfArc(t){return t.data.id}static arcsGen=function(){return d.d3.layout.pie().value(function(t){return t.value}).sort(null)};static getIndexById(t,e){for(let i=0;i<t.length;++i){const n=t[i];if(h.getIdOfArc(n)===e){return i}}return null}static add2arcSequence(t,e){if(d.isIE()){const i=function(t){e.getIndex(t.id)};t.forEach(i)}return t}static translateStr4Padding(t,e,i,n,a){const s=e-t;let r=i*Math.sin(s/2);let l=-(i*Math.cos(s/2));const d=r*Math.cos(t)-l*Math.sin(t);l=r*Math.sin(t)+l*Math.cos(t);r=d;const h="translate("+(n+r)+", "+(a+l)+")";return h}generateDefaultArcCalculator(){return new u(this)}calculateNewArcsOnly(t){t=t.slice();h.add2arcSequence(t,this.arcSequence);t.sort((t,e)=>this.arcSequence.getIndex(t.id)-this.arcSequence.getIndex(e.id));const e=h.arcsGen()(t);return e}calculateArcs(t,e){const i=h.arcsGen()(e);this.insertMissingArcs(t,i,true);this.insertMissingArcs(i,t,false);return i}insertMissingArcs(t,e,i){let n=-1;for(let a=0;a<e.length;++a){const s=e[a];const r=h.getIndexById(t,s.data.id);let l;if(r!==null){l=t[r];l.oldArc=s;n=r;continue}else{if(i){n=this.determineInsertIndex(t,n,e,a)}let r;if(n>=0){const e=t[n];r=h.createZeroArc(e.endAngle,s.data)}else{r=h.createZeroArc(0,s.data)}r.oldArc=s;t.splice(n+1,0,r);n++}}}determineInsertIndex(t,e,i,n){const a=i[n];const s=this.arcSequence.getIndex(a.data.id);let r;for(r=e+1;r<t.length;++r){const e=this.arcSequence.getIndex(t[r].data.id);if(e>s){break}if(h.getIndexById(i,t[r].data.id)!==null){break}}return r-1}static generateHistoricalArcCalculator(t,...e){return new g(t,e)}}class o{x;y;backgroundWidth;backgroundHeight;startAngle;endAngle;r;labelPaddingX;labelPaddingY;radiusPadding;labelWidth;labelHeight;outsetMin;outsetMax;outsetStep;apexAngle;startLabelWidth;d3centroid;text;svgBackground;translateStr;debug;constructor(t,e,i,n,a,s,r,l,d,h){this.backgroundWidth=t;this.backgroundHeight=e;this.startAngle=i;this.endAngle=n;this.r=a;this.labelPaddingX=3;this.labelPaddingY=3;this.radiusPadding=4.24;this.labelWidth=s+2*this.labelPaddingX;this.labelHeight=r;this.outsetMin=.3;this.outsetMax=1.2;this.outsetStep=.025;this.apexAngle=n-i;this.startLabelWidth=this.labelWidth;this.d3centroid=l;this.text=d;this.svgBackground=h;this.debug=false;this.labelHeight=this.labelHeight+2*this.labelPaddingY;const o=Math.round(this.backgroundWidth/2);const c=Math.round(this.backgroundHeight/2);this.translateStr="translate("+o+","+c+")"}update(){let t=Math.max(this.outsetMin,Math.sin(this.apexAngle/2)/(this.apexAngle/2)*2/3);let e=true;let i=Math.max(100,this.labelWidth*2,1/this.outsetStep);let n=0;let a;do{e=true;a=this.calc(t,this.labelWidth);if(t>this.outsetMax||t<this.outsetMin){break}if(this.labelWidth<0){break}let s,r,l,d;if(n===0){s=this.calc(t+this.outsetStep,this.labelWidth);r=this.calc(t-this.outsetStep,this.labelWidth);l=this.value(s,a);d=this.value(r,a);if(l<d&&d>.5){n=-1;t+=this.outsetStep*n;e=false}else if(l>.5||a.labelWidth<=0){n=1;t+=this.outsetStep*n;e=false}}else{s=this.calc(t+this.outsetStep*n,this.labelWidth);l=this.value(s,a);if(l>.5||a.labelWidth<=0){t+=this.outsetStep*n;e=false}}i--}while(!e&&i>0&&!isNaN(t));a=this.calc(t,this.labelWidth);this.labelWidth=a.labelWidth;const s=a.x;const r=a.y;this.svgBackground.select("circle.centroid").remove();if(this.debug){this.svgBackground.append("svg:circle").attr("class","centroid").attr("cx",a.centroidX).attr("cy",a.centroidY).attr("r",2).style("fill","blue")}this.svgBackground.selectAll("line.helper").remove();if(this.debug){this.svgBackground.append("svg:line").attr("class","helper helper2").attr("x1",-this.backgroundWidth/2).attr("x2",this.backgroundWidth/2).attr("y1",r-this.labelHeight/2).attr("y2",r-this.labelHeight/2);this.svgBackground.append("svg:line").attr("class","helper helper2").attr("x1",-this.backgroundWidth/2).attr("x2",this.backgroundWidth/2).attr("y1",r+this.labelHeight/2).attr("y2",r+this.labelHeight/2);this.svgBackground.append("svg:line").attr("class","helper").attr("x1",0).attr("y1",0).attr("x2",Math.sin(this.startAngle)*(this.r+this.radiusPadding)).attr("y2",-Math.cos(this.startAngle)*(this.r+this.radiusPadding));this.svgBackground.append("svg:line").attr("class","helper").attr("x1",0).attr("y1",0).attr("x2",Math.sin(this.endAngle)*(this.r+this.radiusPadding)).attr("y2",-Math.cos(this.endAngle)*(this.r+this.radiusPadding));this.svgBackground.append("svg:line").attr("class","helper").attr("x1",Math.sin(this.startAngle)*(this.r+this.radiusPadding)).attr("y1",-Math.cos(this.startAngle)*(this.r+this.radiusPadding)).attr("x2",this.isStartAngleOnRight()?this.backgroundWidth/2:-this.backgroundWidth/2).attr("y2",-Math.cos(this.startAngle)*(this.r+this.radiusPadding));this.svgBackground.append("svg:line").attr("class","helper").attr("x1",Math.sin(this.endAngle)*(this.r+this.radiusPadding)).attr("y1",-Math.cos(this.endAngle)*(this.r+this.radiusPadding)).attr("x2",this.isEndAngleOnRight()?this.backgroundWidth/2:-this.backgroundWidth/2).attr("y2",-Math.cos(this.endAngle)*(this.r+this.radiusPadding))}if(this.labelWidth<2*this.labelPaddingX){this.labelWidth=0}else if(this.labelWidth<this.startLabelWidth){this.labelWidth=this.labelWidth-2*this.labelPaddingX}this.x=isNaN(s)?0:s;this.y=isNaN(s)?0:r}calc(t,e){let i,n,a,s,r,l;if(this.startAngle-this.endAngle+2*Math.PI<1e-9){i=0;n=0;s=this.backgroundWidth/2;a=-this.backgroundWidth/2;l=-this.r;r=this.r}else{i=Math.sin(this.apexAngle/2)*this.r*t;n=Math.cos(this.apexAngle/2)*-this.r*t;const e=i*Math.cos(this.startAngle)-n*Math.sin(this.startAngle);n=i*Math.sin(this.startAngle)+n*Math.cos(this.startAngle);i=e;const d=n-this.labelHeight/2;const h=n+this.labelHeight/2;a=Math.max(this.calcLeftBorder(i,d),this.calcLeftBorder(i,h),-this.backgroundWidth/2);if(Math.abs(this.startAngle-this.endAngle%(2*Math.PI))>1e-9&&i>0&&d<=0&&h>=0){a=Math.max(a,0)}if(!this.doesFitHeight(a,d,h,i<0,true)){a=this.backgroundWidth/2}s=Math.min(this.calcRightBorder(i,d),this.calcRightBorder(i,h),this.backgroundWidth/2);if(Math.abs(this.startAngle-this.endAngle%(2*Math.PI))>1e-9&&i<0&&d<=0&&h>=0){s=Math.min(s,0)}if(!this.doesFitHeight(s,d,h,i<0,false)){s=-this.backgroundWidth/2}let o=this.calcPerimeterBorder(1,n-this.labelHeight/2);if(o<i){o=this.backgroundWidth/2}let c=this.calcPerimeterBorder(1,n+this.labelHeight/2);if(c<i){c=this.backgroundWidth/2}r=Math.min(o,c,s);let g=this.calcPerimeterBorder(-1,n-this.labelHeight/2);if(g>i){g=-this.backgroundWidth/2}let u=this.calcPerimeterBorder(-1,n+this.labelHeight/2);if(u>i){u=-this.backgroundWidth/2}l=Math.max(g,u,a);if(isNaN(r)){r=s}if(isNaN(l)){l=a}}this.svgBackground.select("line.left").remove();this.svgBackground.select("line.right").remove();this.svgBackground.select("line.perimeterLeft").remove();this.svgBackground.select("line.perimeterRight").remove();if(this.debug){this.svgBackground.append("svg:line").attr("class","left").attr("y1",-this.backgroundHeight/2).attr("y2",this.backgroundHeight/2).attr("x1",a).attr("x2",a);this.svgBackground.append("svg:line").attr("class","right").attr("y1",-this.backgroundHeight/2).attr("y2",this.backgroundHeight/2).attr("x1",s).attr("x2",s);this.svgBackground.append("svg:line").attr("class","perimeterLeft").attr("y1",-this.backgroundHeight/2).attr("y2",this.backgroundHeight/2).attr("x1",l).attr("x2",l);this.svgBackground.append("svg:line").attr("class","perimeterRight").attr("y1",-this.backgroundHeight/2).attr("y2",this.backgroundHeight/2).attr("x1",r).attr("x2",r)}const d=e;e=Math.min(e,Math.floor(s-a));let h=i;h=Math.max(h,l+e/2);h=Math.min(h,r-e/2);if(h-e/2<l-1e-9||h+e/2>r+1e-9){h=(l+r)/2}if(i>=0){h=Math.max(h,a+e/2);h=Math.min(h,s-e/2)}else{h=Math.min(h,s-e/2);h=Math.max(h,a-e/2)}const o=n;return{x:h,y:o,labelWidth:e,labelShortened:e!==d,xSpace:s-a,centroidX:i,centroidY:n,asymmetry:Math.abs(h-i)}}value(t,e){if(t.labelWidth<0){return-1e4}if(t.labelWidth<e.labelWidth){return-100}if(t.labelWidth>e.labelWidth){return(t.labelWidth-e.labelWidth)*1e3}if(e.labelShortened&&t.labelWidth===e.labelWidth){return(t.xSpace-e.xSpace)*100}return 0}doesFitHeight(t,e,i,n,a){let s=-Math.cos(this.startAngle)*(this.r+this.radiusPadding);let r=-Math.cos(this.endAngle)*(this.r+this.radiusPadding);if(Math.abs(this.startAngle-this.endAngle%(2*Math.PI))<1e-9){s=-this.backgroundHeight/2;r=this.backgroundHeight/2}else if(t===0){s=-this.backgroundHeight/2;r=this.backgroundHeight/2}else if(t>0){if(!this.isStartAngleOnRight()){s=-this.backgroundHeight/2}else if(t<=Math.sin(this.startAngle)*(this.r+this.radiusPadding)){s=t/-Math.tan(this.startAngle)}if(!this.isEndAngleOnRight()){r=this.backgroundHeight/2}else if(t<=Math.sin(this.endAngle)*(this.r+this.radiusPadding)){r=t/-Math.tan(this.endAngle)}if(n&&!a&&s>=i){s=-this.backgroundHeight/2}if(n&&!a&&r<=e){r=this.backgroundHeight/2}}else{if(this.isStartAngleOnRight()){s=this.backgroundHeight/2}else if(t>Math.sin(this.startAngle)*(this.r+this.radiusPadding)){s=t/-Math.tan(this.startAngle)}if(this.isEndAngleOnRight()){r=-this.backgroundHeight/2}else if(t>Math.sin(this.endAngle)*(this.r+this.radiusPadding)){r=t/-Math.tan(this.endAngle)}if(!n&&a&&r>=i){r=-this.backgroundHeight/2}if(!n&&a&&s<=e){s=this.backgroundHeight/2}}if(!a){this.svgBackground.selectAll(".rightBorder").remove();if(this.debug){this.svgBackground.append("svg:rect").attr("class","rightBorder").attr("x",t-3).attr("y",s-3).attr("width",6).attr("height",6).style("fill","green");this.svgBackground.append("svg:circle").attr("class","rightBorder").attr("cx",t).attr("cy",r).attr("this.r",3).style("fill","green")}}else{this.svgBackground.selectAll(".leftBorder").remove();if(this.debug){this.svgBackground.append("svg:rect").attr("class","leftBorder").attr("x",t-3).attr("y",s-3).attr("width",6).attr("height",6).style("fill","red");this.svgBackground.append("svg:circle").attr("class","leftBorder").attr("cx",t).attr("cy",r).attr("this.r",3).style("fill","red")}}return e>=Math.min(s,r)-1e-9&&i<=Math.max(s,r)+1e-9}calcLeftBorder(t,e){let i=-this.backgroundWidth/2;if(Math.abs(this.startAngle-this.endAngle%(2*Math.PI))<1e-9){return i}if(e<=0){if(e>-Math.cos(this.startAngle)*(this.r+this.radiusPadding)){i=Math.tan(this.startAngle)*-e}}else if(e<-Math.cos(this.endAngle)*(this.r+this.radiusPadding)){i=Math.tan(this.endAngle)*-e}return i}calcRightBorder(t,e){let i=this.backgroundWidth/2;if(Math.abs(this.startAngle-this.endAngle%(2*Math.PI))<1e-9){return i}if(e>=0){if(-e>Math.cos(this.startAngle)*(this.r+this.radiusPadding)){i=Math.tan(this.startAngle)*-e}}else if(-e<Math.cos(this.endAngle)*(this.r+this.radiusPadding)){i=Math.tan(this.endAngle)*-e}return i}calcPerimeterBorder(t,e){let i=t>0?this.backgroundWidth/2:-this.backgroundWidth/2;i=Math.sqrt(this.r*this.r-e*e);if(t<0){i*=-1}return i}isStartAngleOnRight(){return this.startAngle>0&&this.startAngle<=2*Math.PI/360*180}isEndAngleOnRight(){return this.endAngle%(2*Math.PI)<2*Math.PI/360*180}}class c{maxIndex;objectMap;constructor(...t){this.init(t)}init(...t){this.maxIndex=0;this.objectMap={}}getIndex(t){let e=this.objectMap[t];if(typeof e!=="undefined"){return e}e=this.maxIndex;this.maxIndex++;this.objectMap[t]=e;return e}}class g{_pieChart;constructor(t,...e){this._pieChart=t;this.init(t,e)}init(t,...e){t.arcSequence=new c(e)}calculateNewArcsOnly(t){t=t.slice();h.add2arcSequence(t,this._pieChart.arcSequence);const e=h.arcsGen()(t);return e}calculateArcs(t,e){e=e.slice();h.add2arcSequence(e,this._pieChart.arcSequence);e.sort(function(t,e){return this._pieChart.arcSequence.getIndex(t.id)-this._pieChart.arcSequence.getIndex(e.id)});const i=h.arcsGen()(e);this.insertMissingArcs(t,i);this.insertMissingArcs(i,t);return i}insertMissingArcs(t,e){let i=0;for(let n=0;n<e.length;++n){const a=e[n];const s=this._pieChart.arcSequence.getIndex(a.data.id);let r;let l=false;for(;i<t.length;++i){r=t[i];const e=this._pieChart.arcSequence.getIndex(r.data.id);if(e===s){l=true;break}if(e>s){break}}if(l){r.oldArc=a}else{let e;if(i-1>=0&&i-1<t.length){const n=t[i-1];e=h.createZeroArc(n.endAngle,a.data)}else{e=h.createZeroArc(0,a.data)}t.splice(i,0,e);e.oldArc=a}i++}}}class u{constructor(t,...e){this.init(t,e)}init(t,...e){t.arcSequence=new c(e)}}return d})})();
},
	"sap/esh/search/ui/controls/facets/types/tabbarfacet/SearchFacetSimpleList.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){sap.ui.define(["./SearchFacetSimpleListItem","sap/m/List","sap/m/library","../../FacetTypeUI","../../../../eventlogging/UserEvents","../../../../error/errors","sap/ui/core/Element"],function(e,t,i,c,o,n,s){"use strict";function a(e){return e&&e.__esModule&&typeof e.default!=="undefined"?e.default:e}const r=a(e);const l=i["ListMode"];const f=i["ListSeparators"];const p=c["FacetTypeUI"];const d=o["UserEventType"];const u=a(n);const h=t.extend("sap.esh.search.ui.controls.SearchFacetSimpleList",{renderer:{apiVersion:2},metadata:{properties:{facetType:{type:"string",defaultValue:p.DataSource}}},constructor:function e(i,c){let o;if(c?.facetType){o={facetType:c?.facetType};delete c.facetType}t.prototype.constructor.call(this,i,c);if(o?.facetType){this.setProperty("facetType",o.facetType)}this.setMode(l.SingleSelectMaster);this.setShowSeparators(f.None);this.setIncludeItemInSelection(true);this.attachSelectionChange(e=>{if(this.getProperty("facetType")===p.Attribute){this.handleItemPress(e)}});this.attachItemPress(e=>{const t=this.getModel();if(t.config.searchScopeWithoutAll){return}if(this.getProperty("facetType")===p.DataSource){this.handleItemPress(e)}});this.addStyleClass("sapUshellSearchFacet");this.data("sap-ui-fastnavgroup","false",true)},handleItemPress:function e(t){const i=t.getParameter("listItem");const c=i.getBindingContext().getObject();const o=this.getModel();const n=c.filterCondition;if(i.getSelected()){if(typeof o.config.cleanUpSpaceFilters==="function"){o.config.cleanUpSpaceFilters(o,n)}o.addFilterCondition(n);o.eventLogger.logEvent({type:d.FACET_FILTER_ADD,referencedAttribute:c.facetAttribute,clickedValue:c.value,clickedLabel:c.label,clickedPosition:i.getList().getItems().indexOf(i)})}else{o.removeFilterCondition(c.filterCondition);o.eventLogger.logEvent({type:d.FACET_FILTER_DEL,referencedAttribute:c.facetAttribute,clickedValue:c.value,clickedLabel:c.label,clickedPosition:i.getList().getItems().indexOf(i)})}},onAfterRendering:function e(i){t.prototype.onAfterRendering.call(this,i);const c=jQuery(this.getDomRef()).closest(".sapUshellSearchFacetIconTabBar").find(".sapUshellSearchFacetInfoZeile")[0];if(c){const e=s.getElementById(c.id);e.setVisible(false)}const o=this.getModel();if(o.config.searchInAreaOverwriteMode&&typeof o.config.setQuickSelectDataSourceAllAppearsNotSelected==="function"){try{o.config.setQuickSelectDataSourceAllAppearsNotSelected(o,this)}catch(e){const t=new u.ConfigurationExitError("setQuickSelectDataSourceAllAppearsNotSelected",o.config.applicationComponent,e);throw t}}},switchFacetType:function e(t){const i={path:"items",template:new r("",{isDataSource:t===p.DataSource})};switch(t){case p.Attribute:{const e=this.getModel();let t;if(e.config&&typeof e.config.getSearchInFacetListMode==="function"){const i=e.getProperty(this.getBindingContext().getPath());try{t=e.config.getSearchInFacetListMode(i)}catch(t){const i=new u.ConfigurationExitError("getSearchInFacetListMode",e.config.applicationComponent,t);throw i}}this.setMode(t||l.MultiSelect);break}case p.DataSource:this.setMode(l.SingleSelectMaster);break;default:throw new Error(`unknown facet type ${t}.`)}this.bindItems(i);this.setProperty("facetType",t,true)}});return h})})();
},
	"sap/esh/search/ui/controls/facets/types/tabbarfacet/SearchFacetSimpleListItem.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){sap.ui.define(["sap/esh/search/ui/SearchHelper","sap/ui/core/CustomData","sap/m/library","sap/m/StandardListItem"],function(e,t,a,r){"use strict";const i=a["ListType"];const s=r.extend("sap.esh.search.ui.controls.SearchFacetSimpleListItem",{renderer:{apiVersion:2},metadata:{properties:{isDataSource:{type:"boolean",defaultValue:false}}},constructor:function a(s,n){r.prototype.constructor.call(this,s,n);this.setType(i.Active);this.bindProperty("title",{path:"label"});this.bindProperty("tooltip",{parts:[{path:"label"},{path:"valueLabel"}],formatter:(e,t)=>t?`${e}: ${t}`:""});if(!n.isDataSource){this.bindProperty("icon",{path:"icon"})}this.bindProperty("info",{parts:[{path:"value"},{path:"valueLabel"}],formatter:function(t,a){if(typeof t==="number"){return e.formatInteger(t)}else if(typeof t==="string"){return t}else if(typeof a!=="undefined"&&a!==""){return a}else{return""}}});this.bindProperty("selected",{path:"selected"});this.insertCustomData(new t({key:"test-id-facet-dimension-value",value:{parts:[{path:"facetTitle"},{path:"label"}],formatter:(e,t)=>`${e}-${t}`},writeToDom:true}),0);this.addStyleClass("sapUshellSearchFacetGenericItem");this.addStyleClass("sapUshellSearchFacetItem");this.addEventDelegate({onAfterRendering:()=>{if(this?.getBindingContext()?.getObject()){const e=this.getBindingContext().getObject().level;if(jQuery("html").attr("dir")==="rtl"){jQuery(this.getDomRef()).children(".sapMLIBContent").css("padding-right",e+"rem")}else{jQuery(this.getDomRef()).children(".sapMLIBContent").css("padding-left",e+"rem")}}}})}});return s})})();
},
	"sap/esh/search/ui/controls/facets/types/tabbarfacet/SearchFacetTabBar.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){sap.ui.define(["./SearchFacetTabBarBase","./SearchFacetSimpleList"],function(t,e){"use strict";function n(t){return t&&t.__esModule&&typeof t.default!=="undefined"?t.default:t}const c=n(t);const o=n(e);const s=c.extend("sap.esh.search.ui.controls.SearchFacetTabBar",{renderer:{apiVersion:2},constructor:function t(e,n){c.prototype.constructor.call(this,e,n)},switchFacetType:function t(e){const n=this.getAggregation("items");for(const t of n){const n=t.getContent()[0];if(n instanceof o){n.switchFacetType(e)}}},getFacetType:function t(){const e=this.getAggregation("items");const n=e[0];const c=n.getContent()[0];return c.getProperty("facetType")},attachSelectionChange:function t(){}});return s})})();
},
	"sap/esh/search/ui/controls/facets/types/tabbarfacet/SearchFacetTabBarBase.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){sap.ui.define(["../../../../i18n","sap/m/Button","sap/m/ActionSheet","sap/m/Link","sap/m/Label","sap/m/VBox","sap/m/library","sap/ui/core/Control","./SearchFacetPieChart","./SearchFacetBarChart","./SearchFacetSimpleList","sap/ui/core/Element","sap/m/FlexBox","../../../OpenShowMoreDialog","../../../../personalization/PersonalizationKeys"],function(e,t,n,a,o,s,c,i,r,l,d,g,h,f,p){"use strict";function u(e){return e&&e.__esModule&&typeof e.default!=="undefined"?e.default:e}const m=u(e);const S=c["ButtonType"];const b=c["FlexAlignItems"];const B=c["FlexJustifyContent"];const C=c["PlacementType"];const x=u(r);const y=u(l);const w=u(d);const I=f["openShowMoreDialog"];const F=p["PersonalizationKeys"];const T=i.extend("sap.esh.search.ui.controls.SearchFacetTabBarBase",{renderer:{apiVersion:2,render(e,t){const n=t.getAggregation("items");if(n.length===0){return}const c=t.getContentFacets(n);e.openStart("div",t);e.attr("aria-label",m.getText("filterBy"));e.class("sapUshellSearchFacetTabBar");e.openEnd();const i=t.getBindingContext().getObject()["dimension"];const r=t.getBindingContext().getObject()["dataType"];const l=t.getBindingContext().getObject()["title"];let d;const g=t.getModel();const f=g.getPersonalizationStorageInstance().getItem(F.searchFacetPanelChartState);if(f&&Object.prototype.toString.call(f)==="[object Array]"){for(const e of f){if(e.dimension===i){d=e;break}}}let p=0;if(d&&d.buttonIndex){const e=d.buttonIndex;p=parseInt(e,10)}if(r!=g.sinaNext.AttributeType.String){p=0}t.getBindingContext().getObject()["chartIndex"]=p;const u=t.assembleChartSwitchButton(n,p,i);let S;if(r===g.sinaNext.AttributeType.String){S=new h({justifyContent:B.SpaceBetween,alignItems:b.Center,items:[new o({text:l}),u]})}else{S=new h({justifyContent:B.SpaceBetween,alignItems:b.Center,items:[new o({text:l})]})}S.addStyleClass("sapUshellSearchFacetHeader");S.data("facet-dimension",i,true);if(g.config?.searchInAttibuteFacetPostion[i]){if(i===g.config?.dimensionNameSpace_Description){}else{S.addStyleClass("sapUshellSearchFacetTabBarHeader");S.addStyleClass("sapUshellSearchFacetTabBarHeaderHidden")}}else{S.addStyleClass("sapUshellSearchFacetTabBarHeader")}let C=m.getText("showMore");if(i===g.config?.dimensionNameSpace_Description){C=m.getText("showMoreDwcSpace")}const x=new a("",{text:C,press:t.createOpenFacetDialogFn(p,n).bind(t)});x.setModel(t.getModel("i18n"));x.addStyleClass("sapUshellSearchFacetShowMoreLink");const y=new o("",{text:""});y.addStyleClass("sapUshellSearchFacetInfoZeile");const w=new s("",{items:[y,x]});w.addStyleClass("sapUshellSearchFacetShowMore");const I=new s("",{items:[S,c[p],w]});I.addStyleClass("sapUshellSearchFacetContainer");I.data("sap-ui-fastnavgroup","false",true);I.setModel(t.getModel());e.renderControl(I);n[p].addContent(c[p]);e.close("div")}},metadata:{properties:{facetType:"string",headerText:"string",selectedButtonParameters:{type:"object",defaultValue:null}},aggregations:{items:{type:"sap.m.IconTabFilter",multiple:true}}},constructor:function e(t,n){i.prototype.constructor.call(this,t,n)},getSearchFacetTabBarAndDimensionById:function e(t){const n={};n.index=0;const a=document.getElementById(t);const o=a.dataset.facetView;const s=a.dataset.facetViewIndex;const c=$("#"+t).parent()[0];const i=c.dataset.facetDimension;const r=$(".sapUshellSearchFacetTabBar");for(let e=0;e<r.length;e++){const t=$(".sapUshellSearchFacetTabBar .sapUshellSearchFacetTabBarHeader")[e];const a=t.dataset.facetDimension;if(a===i){n.index=e;n.control=g.getElementById(r[e].id);n.view=o;n.buttonIndex=s;n.dimension=i;break}}return n},storeClickedTabInformation:function e(t){const n=t.getSource()["sId"];const a=this.getSearchFacetTabBarAndDimensionById(n);const o=a.control.getModel();const s=o.getPersonalizationStorageInstance().getItem(F.searchFacetPanelChartState);const c=a.dimension;const i=a.control;const r=a.view;const l=a.buttonIndex;const d=i.getBindingContext().getObject()["dimension"];const g=t.getSource().getId();const h=[];const f={};f.tabId=n;f.buttonId=g;f.buttonIndex=l;f.dimension=d;f.view=r;h.push(f);if(s&&Object.prototype.toString.call(s)==="[object Array]"){for(const e of s){if(e.dimension!==c){h.push(e)}}}o.getPersonalizationStorageInstance().setItem(F.searchFacetPanelChartState,h);i.getBindingContext().getObject()["chartIndex"]=l},createOpenFacetDialogFn:function e(t,n){return async function(){let e;const a=this.getModel();const o=$(this.getDomRef()).closest(".sapUshellSearchFacetTabBar")[0];const s=g.getElementById($(o).attr("id"));if(s?.getBindingContext()?.getObject()["dimension"]){e=s.getBindingContext().getObject()["dimension"]}if(e===a.config?.dimensionNameSpace_Description&&a.config?.openSpaceShowMoreDialog){return a.config?.openSpaceShowMoreDialog(e,a)}await I({searchModel:a,dimension:e,selectedTabBarIndex:t,tabBarItems:n,sourceControl:this})}},assembleChartSwitchButtons:function e(n,a){const o=[];let s=null;let c=0;for(const e of n){const n=e.getContent()[0];if(n instanceof w||n instanceof x||n instanceof y){s=new t("",{text:e.getText(),icon:e.getIcon(),press:e=>{this.storeClickedTabInformation(e);this.setProperty("selectedButtonParameters",e.getParameters())}});s.data("facet-view",e.getText(),true);s.data("facet-view-index",""+c,true);s.data("dimension",a,true);o.push(s)}c++}return o},assembleChartSwitchActionSheet:function e(t,a){const o=this.assembleChartSwitchButtons(t,a);const s=new n("",{showCancelButton:false,buttons:o,placement:C.Bottom,afterClose:()=>{window.setTimeout(()=>{const e=Array.from(document.querySelectorAll(".sapUshellSearchFacetTabBarButton"));for(const t of e){const e=t.getAttribute("data-facet-dimension");if(a===e){t.focus()}}},100)}});s.data("facet-dimension",a,true);return s},assembleChartSwitchButton:function e(n,a,o){const s=n[a];const c=this.assembleChartSwitchActionSheet(n,o);const i=new t("",{icon:s.getIcon(),type:S.Transparent});i.data("facet-dimension",o,true);i.addStyleClass("sapUshellSearchFacetTabBarButton");const r=s.getText();const l=m.getText("displayAs",[r]);i.setTooltip(l);i.attachPress(()=>{c.openBy(i)});i.onAfterRendering=()=>{$(i.getDomRef()).attr("aria-label",m.getText("dropDown"))};return i},getContentFacets:function e(t){const n=[];for(const e of t){const t=e.getContent()[0];if(t instanceof w||t instanceof x||t instanceof y){n.push(t)}}return n}});return T})})();
},
	"sap/esh/search/ui/controls/resultview/CustomSearchResultListItem.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){sap.ui.define(["./SearchResultListItem"],function(t){"use strict";function e(t){return t&&t.__esModule&&typeof t.default!=="undefined"?t.default:t}const r=e(t);const n=r.extend("sap.esh.search.ui.controls.CustomSearchResultListItem",{renderer:{apiVersion:2},metadata:{properties:{content:{type:"sap.esh.search.ui.controls.CustomSearchResultListItemContent"}}},constructor:function t(e,n){r.prototype.constructor.call(this,e,n)},setupCustomContentControl:function t(){const e=this.getProperty("content");e.setTitle(this.getProperty("title"));e.setTitleUrl(this.getProperty("titleUrl"));e.setType(this.getProperty("type"));e.setImageUrl(this.getProperty("imageUrl"));e.setAttributes(this.getProperty("attributes"))},renderer:function t(e,n){n.setupCustomContentControl();r.prototype.getRenderer.call(this).render(arguments)},onAfterRendering:function t(){r.prototype.onAfterRendering.call(this);this.getProperty("content").getTitleVisibility()}});return n})})();
},
	"sap/esh/search/ui/controls/resultview/CustomSearchResultListItemContent.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){sap.ui.define(["sap/ui/base/ManagedObject"],function(t){"use strict";const e=t.extend("sap.esh.search.ui.controls.CustomSearchResultListItemContent",{metadata:{properties:{title:"string",titleUrl:"string",type:"string",imageUrl:"string",attributes:{type:"object",multiple:true},intents:{type:"object",multiple:true}}},getContent:function t(){return undefined},getTitleVisibility:function t(){return true}});return e})})();
},
	"sap/esh/search/ui/controls/resultview/SearchCountBreadcrumbs.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){sap.ui.define(["sap/ui/core/Control","sap/m/library","sap/ui/core/Icon","sap/m/Label","sap/m/Breadcrumbs","sap/esh/search/ui/controls/SearchLink","sap/base/strings/formatMessage","sap/m/HBox","../../i18n","sap/m/VBox"],function(e,t,a,r,n,s,o,i,l,c){"use strict";function d(e){return e&&e.__esModule&&typeof e.default!=="undefined"?e.default:e}const g=t["LabelDesign"];const u=t["BreadcrumbsSeparatorStyle"];const b=d(l);const h=e.extend("sap.esh.search.ui.controls.SearchCountBreadcrumbs",{renderer:{apiVersion:2,render(e,t){e.openStart("div",t);e.class("sapUshellSearchTotalCountBreadcrumbs");e.openEnd();const a=t.getModel();if(a.config.folderMode===true&&a.config.optimizeForValueHelp!==true){const r=t.getAggregation("containerHbox");r.addItem(t.getAggregation("folderModeLabel"));r.addItem(t.getAggregation("icon"));r.addItem(t.getAggregation("label"));if(a.config.FF_hierarchyBreadcrumbs===true){const a=t.getAggregation("breadcrumbsContainerVbox");a?.addItem(t.getAggregation("breadcrumbs"));r.addItem(a);e.renderControl(r)}}else{e.renderControl(t.getAggregation("icon"));e.renderControl(t.getAggregation("label"));if(a.config.FF_hierarchyBreadcrumbs===true){e.renderControl(t.getAggregation("breadcrumbs"))}}e.close("div")}},metadata:{aggregations:{containerHbox:{type:"sap.m.HBox",multiple:false},folderModeLabel:{type:"sap.m.Label",multiple:false},icon:{type:"sap.ui.core.Icon",multiple:false},label:{type:"sap.m.Label",multiple:false},breadcrumbsContainerVbox:{type:"sap.m.VBox",multiple:false},breadcrumbs:{type:"sap.m.Breadcrumbs",multiple:false}}},constructor:function t(a,r){e.prototype.constructor.call(this,a,r);this.initContainerHbox();this.initFolderModeLabel();this.initIcon();this.initLabel();this.initBreadcrumbsContainerVbox();this.initBreadCrumbs()},initContainerHbox:function e(){const t=new i(this.getId()+"-ContainerHbox",{});t.addStyleClass("sapUiNoMargin");this.setAggregation("containerHbox",t)},initFolderModeLabel:function e(){const t=new r(this.getId()+"-FolderModeLabel",{design:g.Bold,text:{parts:[{path:"/isFolderMode"}],formatter:e=>{if(e===true){return b.getText("result_list_folder_mode")}return b.getText("result_list_search_mode")}}});t.addStyleClass("sapUshellSearchTotalCountSelenium");t.addStyleClass("sapUiTinyMarginEnd");t.addStyleClass("sapElisaFolderModeLabel");this.setAggregation("folderModeLabel",t)},initIcon:function e(){const t=new a(this.getId()+"-Icon",{visible:{parts:[{path:"/count"},{path:"/breadcrumbsHierarchyNodePaths"}],formatter:(e,t)=>{if(t&&Array.isArray(t)&&t.length>0){return false}return true}},src:{path:"/searchInIcon"}});t.addStyleClass("sapUiTinyMarginEnd");t.addStyleClass("sapUshellSearchTotalCountBreadcrumbsIcon");this.setAggregation("icon",t)},initLabel:function e(){const t=new r(this.getId()+"-Label",{visible:{parts:[{path:"/count"},{path:"/breadcrumbsHierarchyNodePaths"}],formatter:(e,t)=>{if(t&&Array.isArray(t)&&t.length>0){return false}return true}},design:g.Bold,text:{path:"/countText"}});t.addStyleClass("sapUshellSearchTotalCountSelenium");t.addStyleClass("sapUshellSearchTotalCountStandalone");this.setAggregation("label",t)},initBreadcrumbsContainerVbox:function e(){const t=new c(this.getId()+"-BreadcrumbsContainerVbox",{});t.addStyleClass("sapElisaBreadcrumbsFolderContainerVbox");t.addStyleClass("sapUiNoMargin");this.setAggregation("breadcrumbsContainerVbox",t)},initBreadCrumbs:function e(){const t={path:"/breadcrumbsHierarchyNodePaths",factory:e=>{const t=new a(e+"-SearchLinkIcon",{src:{path:"icon"}});t.addStyleClass("sapElisaSearchLinkIcon");return new s(`${e}--searchLink`,{navigationTarget:{parts:[{path:"id"},{path:"label"}],formatter:(e,t)=>{const a=this.getModel();const r=a.sinaNext;const n=a.getDataSource();const s=a.getProperty("/breadcrumbsHierarchyAttribute");const o=r.createStaticHierarchySearchNavigationTarget(e,t,n,"",s);return o}},text:{path:"label"},icon:t,visible:true}).addStyleClass("sapUshellSearchTotalCountBreadcrumbsLinks")},templateShareable:false};const r={visible:{parts:[{path:"/breadcrumbsHierarchyNodePaths"}],formatter:e=>{if(e&&Array.isArray(e)&&e.length>0){return true}return false}},currentLocationText:{parts:[{path:"i18n>countnumber"},{path:"/count"}],formatter:o},separatorStyle:u.GreaterThan,links:t};const i=new n(this.getId()+"-Breadcrumbs",r).addStyleClass("sapElisaBreadcrumbs sapUiNoMarginBottom");this.setAggregation("breadcrumbs",i)},handleBreadcrumbLinkPress:function e(t){const a=t.getSource();const r=a.data().containerId;const n=a.data().containerName;const s=a.getModel();const o=s.sinaNext;const i=s.getDataSource();const l=s.getProperty("/breadcrumbsHierarchyAttribute");const c=o.createStaticHierarchySearchNavigationTarget(r,n,i,"",l);c.performNavigation()},setModel:function e(t){this.getAggregation("folderModeLabel").setModel(t);this.getAggregation("icon").setModel(t);this.getAggregation("label").setModel(t);this.getAggregation("breadcrumbs").setModel(t);return this}});return h})})();
},
	"sap/esh/search/ui/controls/resultview/SearchRelatedObjectsToolbar.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){sap.ui.define(["../../i18n","sap/m/Toolbar","sap/m/library","sap/m/Button","sap/m/ToolbarLayoutData","sap/m/ToolbarSpacer","sap/m/ActionSheet","sap/ui/core/InvisibleText","sap/ui/core/IconPool","sap/ui/core/delegate/ItemNavigation","sap/ui/core/Control","../../sinaNexTS/sina/NavigationTarget","../SearchLink"],function(t,e,o,s,i,a,n,r,l,c,d,h,g){"use strict";function u(t){return t&&t.__esModule&&typeof t.default!=="undefined"?t.default:t}const p=u(t);const b=o["ToolbarDesign"];const f=o["ButtonType"];const m=o["PlacementType"];const _=h["NavigationTarget"];const v=u(g);const y=d.extend("sap.esh.search.ui.controls.SearchRelatedObjectsToolbar",{renderer:{apiVersion:2,render(t,e){t.openStart("div",e);t.class("sapUshellSearchResultListItem-RelatedObjectsToolbar");const o=e.getModel();if(o.config.optimizeForValueHelp){t.class("sapUshellSearchResultListItem-RelatedObjectsToolbarValueHelp")}t.openEnd();t.renderControl(e.getAggregation("_ariaDescriptionForLinks"));e._renderToolbar(t,e);t.close("div")}},metadata:{properties:{itemId:"string",navigationObjects:{type:"object",multiple:true},positionInList:"int"},aggregations:{_relatedObjectActionsToolbar:{type:"sap.m.Toolbar",multiple:false,visibility:"hidden"},_ariaDescriptionForLinks:{type:"sap.ui.core.InvisibleText",multiple:false,visibility:"hidden"}}},constructor:function t(o,s){d.prototype.constructor.call(this,o,s);const i=new e(`${this.getId()}--toolbar`,{design:b.Solid});i.data("sap-ui-fastnavgroup","false",true);i.addStyleClass("sapUshellSearchResultListItem-RelatedObjectsToolbar-Toolbar");i.addEventDelegate({onAfterRendering:this.layoutToolbarElements.bind(this)});this.setAggregation("_relatedObjectActionsToolbar",i);this.setAggregation("_ariaDescriptionForLinks",new r({text:p.getText("result_list_item_aria_has_more_links")}));$(window).on("resize",()=>{this.layoutToolbarElements()})},exit:function t(...e){if(d.prototype.exit){d.prototype.exit.apply(this,e)}if(this._overFlowSheet){this._overFlowSheet.destroy()}},_renderToolbar:function t(e,o){const r=o.getModel();const c=o.getAggregation("_relatedObjectActionsToolbar");c.destroyContent();if(r.config.optimizeForValueHelp){c.addStyleClass("sapUshellSearchResultListItem-RelatedObjectsToolbar-ToolbarValueHelp")}const d=o.getProperty("navigationObjects");if(Array.isArray(d)&&d.length>0){const t=[];for(let e=0;e<d.length;e++){const s=d[e];const a=new v(`${o.getId()}--link_${e}`,{text:s?.text||"",navigationTarget:s,layoutData:new i({shrinkable:false})});a.addStyleClass("sapUshellSearchResultListItem-RelatedObjectsToolbar-Element");t.push(a)}const h=new a;h.addStyleClass("sapUshellSearchResultListItem-RelatedObjectsToolbar-Spacer");c.addContent(h);for(let e=0;e<t.length;e++){c.addContent(t[e])}this._overFlowButton=new s(`${this.getId()}--overflowButton`,{icon:l.getIconURI("overflow")});this._overFlowButton.addStyleClass("sapUshellSearchResultListItem-RelatedObjectsToolbar-OverFlowButton");if(r.config.optimizeForValueHelp){this._overFlowButton.addStyleClass("sapUiSmallMarginBegin");this._overFlowButton.addStyleClass("sapUiTinyMarginEnd");this._overFlowButton.setType(f.Transparent)}c.addContent(this._overFlowButton);if(!this._overFlowSheet){this._overFlowSheet=new n(`${this.getId()}--actionSheet`,{placement:m.Top})}this._overFlowButton.attachPress(()=>{if(this._overFlowSheet.isOpen()){this._overFlowSheet.close()}else{this._overFlowSheet.openBy(this._overFlowButton)}});e.renderControl(c)}},onAfterRendering:function t(){if(this.getAggregation("_relatedObjectActionsToolbar")){this._addAriaInformation()}},layoutToolbarElements:function t(){if(this.isDestroyed()||this.isDestroyStarted()){return}const e=this.getAggregation("_relatedObjectActionsToolbar");if(!(this.getDomRef()&&e.getDomRef())){return}const o=$(e.getDomRef());const i=o.width();if($(this.getDomRef()).css("display")==="none"||o.css("display")==="none"){return}this.toolbarWidth=i;const a=$(this._overFlowButton.getDomRef());a.css("display","none");let n=0;const r=(t,e)=>{if(e instanceof _){e.performNavigation({event:t})}};const l=o.find(".sapUshellSearchResultListItem-RelatedObjectsToolbar-Element");for(let t=0;t<l.length;t++){let e=$(l[t]);e.css("display","");let o=n+e.outerWidth(true);if(o>i){a.css("display","");const n=a.outerWidth(true);for(;t>=0;t--){e=$(l[t]);o-=e.outerWidth(true);if(o+n<=i){break}}const c=this.getProperty("navigationObjects");this._overFlowSheet.destroyButtons();t=t>=0?t:0;for(;t<l.length;t++){e=$(l[t]);e.css("display","none");const o=c[t];const i=new s({text:o?.text||""});i.attachPress(o,r);this._overFlowSheet.addButton(i)}break}n=o}this._setupItemNavigation()},_setupItemNavigation:function t(){if(!this._theItemNavigation){this._theItemNavigation=new c(null,[]);this["addDelegate"](this._theItemNavigation)}this._theItemNavigation.setCycling(false);this._theItemNavigation.setRootDomRef(this.getDomRef());const e=[];const o=this.getAggregation("_relatedObjectActionsToolbar");const s=o.getContent();for(let t=0;t<s.length;t++){if(!s[t].hasStyleClass("sapUshellSearchResultListItem-RelatedObjectsToolbar-Element")){continue}if(!$(s[t].getDomRef()).attr("tabindex")){let e="-1";if(s[t]["getPressed"]&&s[t]["getPressed"]()){e="0"}$(s[t].getDomRef()).attr("tabindex",e)}e.push(s[t].getDomRef())}const i=this._overFlowButton.getDomRef();e.push(i);$(i).attr("tabindex","-1");this._theItemNavigation.setItemDomRefs(e)},_addAriaInformation:function t(){const e=$(this.getAggregation("_relatedObjectActionsToolbar").getDomRef());const o=e.find(".sapUshellSearchResultListItem-RelatedObjectsToolbar-Element");const s=$(this._overFlowButton.getDomRef());if(o.length>0||s.is(":visible")){const t=this.getAggregation("_ariaDescriptionForLinks").getId();o.each(function(){const e=$(this);let o=e.attr("aria-describedby")||"";o+=" "+t;e.attr("aria-describedby",o)});if(s.is(":visible")){let e=s.attr("aria-describedby")||"";e+=" "+t;s.attr("aria-describedby",e)}}}});return y})})();
},
	"sap/esh/search/ui/controls/resultview/SearchResultContainer.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){sap.ui.define(["sap/ui/layout/VerticalLayout"],function(t){"use strict";const e=t.extend("sap.esh.search.ui.controls.SearchResultContainer",{renderer:{apiVersion:2},constructor:function e(s){t.prototype.constructor.call(this,s);this.data("sap-ui-fastnavgroup","true",true);this.addStyleClass("sapUshellSearchResultContainer");this.addStyleClass("sapElisaSearchResultContainer")},getNoResultScreen:function t(){return this.noResultScreen},setNoResultScreen:function t(e){this.noResultScreen=e}});return e})})();
},
	"sap/esh/search/ui/controls/resultview/SearchResultGrid.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){sap.ui.define(["sap/esh/search/ui/SearchHelper","sap/f/GridContainer","sap/m/ImageContent","sap/m/GenericTile","sap/m/TileContent","sap/m/CheckBox","sap/m/HBox","sap/m/VBox","sap/m/Toolbar","./SearchText","../SearchLink","sap/ui/base/ManagedObject"],function(e,t,a,i,s,n,l,r,o,d,u,c){"use strict";function p(e){return e&&e.__esModule&&typeof e.default!=="undefined"?e.default:e}const g=p(d);const f=p(u);const h=t.extend("sap.esh.search.ui.controls.SearchResultGrid",{renderer:{apiVersion:2},constructor:function e(d,u){t.prototype.constructor.call(this,d,u);this.bindAggregation("items",{path:"publicSearchModel>/results/items",factory:(e,t)=>{const d=t.getObject();let u;let p;let h;let m;let S;let b;const T=[];if(d.data.attributes){p=new o({design:"Transparent",content:[]}).addStyleClass("sapUiTinyMarginBottom");T.push(p);const t=d.data.attributes.filter(e=>e?.metadata?.type==="ImageUrl");u=new n(`${e}--tileCheckBox`,{selected:{path:"publicSearchModel>selected"},select:()=>{this.ignoreNextTilePress=true},enabled:{path:"publicSearchModel>selectionEnabled"}});p.addContent(u);if(t.length>0&&typeof t[0].value==="string"){h=new a(`${e}-Image`,{src:c.escapeSettingsValue(t[0].value)}).addStyleClass("sapUiMediumMarginBegin");const i=t[0].metadata.format;if(i==="round"){h.addStyleClass("sapUshellResultListGrid-ImageContainerRound")}}if(d.data?.defaultNavigationTarget){if(d.data.titleAttributes.length>0){S=new f(`${e}-Title`,{text:c.escapeSettingsValue(d.data.defaultNavigationTarget.text),navigationTarget:d.data.defaultNavigationTarget});T.push(S)}}else if(d.data.titleAttributes.length>0){S=new g("",{text:c.escapeSettingsValue(d.data.titleAttributes[0].valueFormatted)});T.push(S)}if(h){T.push(h)}m=new r({items:[p,new r({items:T})]})}else{if(d.data["title"]){S=d.data["title"];b=d.data["subtitle"]}T.push(new r({items:[S,b]}));m=new l({items:T})}const C=new i(`${e}-resultItemTile`,{tileContent:new s(`${e}-resultItemTileContent`,{content:m}),press:e=>{if(this.ignoreNextTilePress){this.ignoreNextTilePress=false;return}const t=this.getModel("publicSearchModel").getProperty(e.getSource().getBindingContext("publicSearchModel").getPath()).data;const a=t.defaultNavigationTarget;if(typeof a?.performNavigation==="function"){a.performNavigation({event:e})}const i=t.titleNavigation;if(typeof i?.performNavigation==="function"){i.performNavigation({event:e})}}}).addStyleClass("sapElisaGridTile");return C}});this.addStyleClass("sapUshellResultListGrid")},onAfterRendering:function a(i){t.prototype.onAfterRendering.call(this,i);e.boldTagUnescaper(this.getDomRef());e.resultItemCustomStyleClassSetter(this)}});return h})})();
},
	"sap/esh/search/ui/controls/resultview/SearchResultList.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){sap.ui.define(["sap/m/List","sap/ui/core/ResizeHandler"],function(e,t){"use strict";const s=e.extend("sap.esh.search.ui.controls.SearchResultList",{renderer:{apiVersion:2},constructor:function t(s,i){e.prototype.constructor.call(this,s,i);this.addStyleClass("searchResultList")},onAfterRendering:function t(...s){e.prototype.onAfterRendering.apply(this,s);const i=this.getModel();const n=i.getProperty("/multiSelectionEnabled");if(n){this.enableSelectionMode(false)}this._prepareResizeHandler()},_prepareResizeHandler:function e(){const s=[768,1151];const i=()=>{const e=window.innerWidth;if(e<s[0]){return 0}for(let t=0;t<s.length-1;t++){if(e>=s[t]&&e<s[t+1]){return t+1}}return s.length};let n=i();this._resizeHandler=e=>{const t=i();if(t!=n||e){n=t;const e=this.getItems();for(const t of e){const e=t.getContent();if(e?.length>0){if(typeof e[0]?.resizeEventHappened==="function"){e[0]?.resizeEventHappened()}}}}};t.register(this,()=>{this._resizeHandler()})},resize:function e(){if(typeof this._resizeHandler!=="undefined"){this._resizeHandler(true)}},enableSelectionMode:function e(t){const s=jQuery.Deferred();t=t===undefined?true:t;const i=$(this.getDomRef());if(!t){i.addClass("sapUshellSearchResultList-ShowMultiSelection");s.resolve();return s.promise()}const n=200;const o=i.find(".sapUshellSearchResultListItem-CheckboxExpandContainer");const l=i.find(".sapUshellSearchResultListItem-Attributes");const r=parseFloat(l.css("padding-left"));const a=o.find(".sapUshellSearchResultListItem-CheckboxContainer");const c=a.width();if(!i.hasClass("sapUshellSearchResultList-ShowMultiSelection")){o.css("width","0");o.css("opacity","0");l.css("padding-left",r);i.addClass("sapUshellSearchResultList-ShowMultiSelection");const e=r+c;o.animate({width:c,opacity:1},n,()=>{$(this).css("width","");$(this).css("opacity","")});l.animate({"padding-left":e},n,()=>{$(this).css("padding-left","")})}},disableSelectionMode:function e(t){const s=jQuery.Deferred();t=t===undefined?true:t;const i=$(this.getDomRef());if(!t){i.removeClass("sapUshellSearchResultList-ShowMultiSelection");s.resolve();return s.promise()}const n=200;const o=i.find(".sapUshellSearchResultListItem-CheckboxExpandContainer");const l=i.find(".sapUshellSearchResultListItem-Attributes");const r=parseFloat(l.css("padding-left"));const a=o.find(".sapUshellSearchResultListItem-CheckboxContainer");const c=a.width();if(i.hasClass("sapUshellSearchResultList-ShowMultiSelection")){const e=r-c;const t=o.animate({width:0,opacity:0},n).promise();const s=l.animate({"padding-left":e},n).promise();jQuery.when(t,s).done(()=>{i.removeClass("sapUshellSearchResultList-ShowMultiSelection");o.css("width","");o.css("opacity","");l.css("padding-left","")})}}});return s})})();
},
	"sap/esh/search/ui/controls/resultview/SearchResultListItem.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){sap.ui.define(["../../i18n","./SearchText","sap/esh/search/ui/SearchHelper","./SearchRelatedObjectsToolbar","../../SearchUtil","sap/m/Button","sap/m/library","sap/m/Label","sap/m/Text","sap/m/CheckBox","sap/ui/core/Icon","sap/ui/core/IconPool","sap/ui/core/InvisibleText","sap/ui/core/Control","sap/ui/base/ManagedObject","../../eventlogging/UserEvents","../../UIUtil","../SearchLink","../../sinaNexTS/sina/NavigationTarget","../../uiConstants"],function(e,t,i,s,a,n,l,r,o,c,d,h,u,p,g,m,f,b,I,S){"use strict";function y(e){return e&&e.__esModule&&typeof e.default!=="undefined"?e.default:e}const A=y(e);const L=y(t);const _=y(s);const x=l["ButtonType"];const R=l["ListType"];const T=m["UserEventType"];const C=f["registerHandler"];const U=y(b);const D=I["NavigationTarget"];const E=S["initialValueUnicode"];const v=p.extend("sap.esh.search.ui.controls.SearchResultListItem",{renderer:{apiVersion:2,render(e,t){t._renderer(e,t)}},metadata:{properties:{dataSource:"object",itemId:"string",title:"string",isTitleHighlighted:"boolean",titleDescription:"string",isTitleDescriptionHighlighted:"boolean",titleNavigation:"object",titleIconUrl:"string",titleInfoIconUrl:"string",geoJson:"object",type:"string",imageUrl:"string",imageFormat:"string",imageNavigation:"object",attributes:{type:"object",multiple:true},navigationObjects:{type:"object",multiple:true},selected:"boolean",selectionEnabled:"boolean",customItemStyleClass:"string",expanded:"boolean",parentListItem:"object",additionalParameters:"object",positionInList:"int",resultSetId:"string",layoutCache:"object",countBreadcrumbsHiddenElement:"object"},aggregations:{_titleLink:{type:"sap.esh.search.ui.controls.SearchLink",multiple:false,visibility:"hidden"},_titleText:{type:"sap.esh.search.ui.controls.SearchText",multiple:false,visibility:"hidden"},_titleLinkDescription:{type:"sap.esh.search.ui.controls.SearchText",multiple:false,visibility:"hidden"},_titleInfoIcon:{type:"sap.ui.core.Icon",multiple:false,visibility:"hidden"},_titleDelimiter:{type:"sap.m.Text",multiple:false,visibility:"hidden"},_typeText:{type:"sap.esh.search.ui.controls.SearchText",multiple:false,visibility:"hidden"},_typeLink:{type:"sap.esh.search.ui.controls.SearchLink",multiple:false,visibility:"hidden"},_typeLinkAriaDescription:{type:"sap.ui.core.InvisibleText",multiple:false,visibility:"hidden"},_multiLineDescriptionText:{type:"sap.esh.search.ui.controls.SearchText",multiple:false,visibility:"hidden"},_selectionCheckBox:{type:"sap.m.CheckBox",multiple:false,visibility:"hidden"},_expandButton:{type:"sap.m.Button",multiple:false,visibility:"hidden"},_attributeLabels:{type:"sap.m.Label",multiple:true,visibility:"hidden"},_attributeValues:{type:"sap.ui.core.Control",multiple:true,visibility:"hidden"},_attributeValuesWithoutWhyfoundHiddenTexts:{type:"sap.ui.core.InvisibleText",multiple:true,visibility:"hidden"},_relatedObjectActionsToolbar:{type:"sap.esh.search.ui.controls.SearchRelatedObjectsToolbar",multiple:false,visibility:"hidden"},_titleLabeledByText:{type:"sap.ui.core.InvisibleText",multiple:false,visibility:"hidden"},_attributesLabeledByText:{type:"sap.ui.core.InvisibleText",multiple:false,visibility:"hidden"},_expandStateLabeledByText:{type:"sap.ui.core.InvisibleText",multiple:false,visibility:"hidden"}}},constructor:function e(t,i){p.prototype.constructor.call(this,t,i);this._visibleAttributes=undefined;this._detailsArea=undefined;this._showExpandButton=false;this.setAggregation("_titleLink",new U(`${this.getId()}--titleLink`).addStyleClass("sapUshellSearchResultListItem-HeaderEntry").addStyleClass("sapUshellSearchResultListItem-Title").addStyleClass("sapUshellSearchResultListItem-MightOverflow"));this.setAggregation("_titleText",new L(`${this.getId()}--titleText`,{wrapping:false}).addStyleClass("sapUshellSearchResultListItem-HeaderEntry").addStyleClass("sapUshellSearchResultListItem-Title").addStyleClass("sapUshellSearchResultListItem-MightOverflow"));this.setAggregation("_titleLinkDescription",new L(`${this.getId()}--titleLinkDescription`,{wrapping:false}).addStyleClass("sapUshellSearchResultListItem-HeaderEntry").addStyleClass("sapUshellSearchResultListItem-TitleDescription").addStyleClass("sapUshellSearchResultListItem-MightOverflow"));const s={src:{path:"titleInfoIconUrl"}};const a=new d(`${this.getId()}--titleInfoIcon`,s);a.addStyleClass("sapUiSmallMarginEnd");this.setAggregation("_titleInfoIcon",a);a.addStyleClass("sapUshellSearchResultListItem-TitleInfoIcon");const l=new o(`${this.getId()}--titleDelimiter`,{text:"|"});l.addEventDelegate({onAfterRendering:()=>{$(l.getDomRef()).attr("aria-hidden","true")}});this.setAggregation("_titleDelimiter",l.addStyleClass("sapUshellSearchResultListItem-HeaderEntry").addStyleClass("sapUshellSearchResultListItem-TitleDelimiter").addStyleClass("sapUshellSearchResultListItem-MightOverflow"));this.setAggregation("_typeText",new L(`${this.getId()}--typeText`).addStyleClass("sapUshellSearchResultListItem-HeaderEntry").addStyleClass("sapUshellSearchResultListItem-TitleCategory").addStyleClass("sapUshellSearchResultListItem-MightOverflow"));this.setAggregation("_typeLinkAriaDescription",new u({text:A.getText("result_list_item_type_link_description")}));this.setAggregation("_typeLink",new U(`${this.getId()}--typeLink`).addStyleClass("sapUshellSearchResultListItem-HeaderEntry").addStyleClass("sapUshellSearchResultListItem-TitleCategoryLink").addStyleClass("sapUshellSearchResultListItem-MightOverflow").addAriaDescribedBy(this.getAggregation("_typeLinkAriaDescription")));this.setAggregation("_multiLineDescriptionText",new L(`${this.getId()}--multilineDescription`,{maxLines:5}).addStyleClass("sapUshellSearchResultListItem-MultiLineDescription").addStyleClass("sapUshellSearchResultListItem-MightOverflow").data("islongtext","true",true));this.setAggregation("_selectionCheckBox",new c(`${this.getId()}--selectionCheckbox`,{select:e=>{this.setProperty("selected",e.getParameter("selected"),true);const t=this.getModel();t.updateMultiSelectionSelected();if(e.getParameter("selected")){this.addStyleClass("sapUshellSearchResultListItem-Selected")}else{this.removeStyleClass("sapUshellSearchResultListItem-Selected")}}}));this.setAggregation("_expandButton",new n(`${this.getId()}--expandButton`,{type:x.Transparent,press:()=>{this.toggleDetails()}}));this.setAggregation("_relatedObjectActionsToolbar",new _(`${this.getId()}--relatedObjectActionsToolbar`));this.setAggregation("_titleLabeledByText",new u);this.setAggregation("_attributesLabeledByText",new u);this.setAggregation("_expandStateLabeledByText",new u)},_renderer:function e(t,i){const s=$(this.getDomRef());const a=s.find(".sapUshellSearchResultListItem-RelatedObjectsToolbar");if(a.css("display")==="none"){const e=this.getModel();if(e.config.optimizeForValueHelp){a.css("display","block")}}this._registerItemPressHandler();this._resetPrecalculatedValues();this._renderContainer(t,i);this._renderAccessibilityInformation(t)},_renderContainer:function e(t,i){const s=this.getModel();t.openStart("div",this);if(this.getProperty("customItemStyleClass")){t.class(this.getProperty("customItemStyleClass"))}t.class("sapUshellSearchResultListItem-Container");if(this.getProperty("imageUrl")){t.class("sapUshellSearchResultListItem-WithImage")}if(this.getProperty("imageFormat")?.toLowerCase()==="documentthumbnail"){t.class("sapUshellSearchResultListItem-Document")}t.openEnd();this._renderContentContainer(t,i);if(!s.config.optimizeForValueHelp){this._renderExpandButtonContainer(t)}t.close("div")},_renderContentContainer:function e(t,i){const s=i.getModel();t.openStart("div",i.getId()+"-content");t.class("sapUshellSearchResultListItem-Content");if(!s.config.optimizeForValueHelp){t.class("sapUshellSearchResultListItem-ContentValueHelp")}t.openEnd();this._renderTitleContainer(t,i);this._renderAttributesContainer(t);t.close("div")},_renderExpandButtonContainer:function e(t){t.openStart("div",this.getId()+"-expand-button-container");t.class("sapUshellSearchResultListItem-ExpandButtonContainer");t.openEnd();t.openStart("div",this.getId()+"-expand-button");t.class("sapUshellSearchResultListItem-ExpandButton");t.openEnd();let i,s;const a=this.getProperty("expanded");if(a){i=h.getIconURI("slim-arrow-up");s=A.getText("hideDetailBtn_tooltip")}else{i=h.getIconURI("slim-arrow-down");s=A.getText("showDetailBtn_tooltip")}const n=this.getAggregation("_expandButton");n.setIcon(i);n.setTooltip(s);n.addEventDelegate({onAfterRendering:()=>{this.setAriaExpandedState()}});t.renderControl(n);t.close("div");t.close("div")},_renderTitleContainer:function e(t,i){const s=this.getModel();if(!s.config.optimizeForValueHelp){t.openStart("div",this.getId()+"-title-and-image-container");t.class("sapUshellSearchResultListItem-TitleAndImageContainer");t.openEnd()}t.openStart("div",this.getId()+"-title-container");t.class("sapUshellSearchResultListItem-TitleContainer");if(s.config.optimizeForValueHelp){t.class("sapUshellSearchResultListItem-TitleContainerValueHelp")}t.openEnd();this._renderCheckbox(t);const a=this.getProperty("titleNavigation");let n=this.getProperty("title");let l;if(!n||n.trim().length===0){n=v.noValue;l=this.getAggregation("_titleText")}else if(!a&&!this.isHierarchyItem()){l=this.getAggregation("_titleText")}else{l=this.getAggregation("_titleLink");l.setNavigationTarget(a);if(this.isHierarchyItem()){setTimeout(()=>{if(this.supportsDragAndDrop(l,s)){l.getDomRef()["draggable"]=false;this.addStyleClass("sapUshellSearchResultListItem-NotDraggableNotClickable")}},100)}else if(s.config.optimizeForValueHelp){setTimeout(()=>{if(this.supportsDragAndDrop(l,s)){l.getAggregation("_link").getDomRef()["draggable"]=false;const e=l.getAggregation("icon");if(e instanceof d){e.getDomRef()["draggable"]=false}}},100)}}l.setText(n);if(this.getProperty("isTitleHighlighted")){l.addStyleClass("sapUshellSearchResultItem-AttributeValueHighlighted")}const r=l.getAggregation("icon");if(r instanceof d){r.addStyleClass("sapUshellSearchResultListItem-Clickable")}else if(this.getProperty("titleIconUrl")){const e=new d(`${this.getId()}--titleIcon`,{src:g.escapeSettingsValue(this.getProperty("titleIconUrl"))});e?.addStyleClass("sapUshellSearchResultListItem-Clickable");l.setIcon(e);setTimeout(()=>{if(!this.isHierarchyItem()&&this.supportsDragAndDrop(l,s)){const t=e?.getDomRef();if(t){t["draggable"]=false}}},100)}t.renderControl(l);if(i.getProperty("titleInfoIconUrl")){const e=i.getAggregation("_titleInfoIcon");if(e){if(s.config.optimizeForValueHelp){e.addStyleClass("sapUshellSearchResultListItem-TitleInfoIconValueHelp")}t.renderControl(e)}}if(!s.config.optimizeForValueHelp){const e=this.getProperty("titleDescription");if(e&&e.trim().length>0){const i=this.getAggregation("_titleLinkDescription");i.setText(e);if(this.getProperty("isTitleDescriptionHighlighted")){i.addStyleClass("sapUshellSearchResultItem-AttributeValueHighlighted")}t.renderControl(i)}}if(s.config.optimizeForValueHelp){this._renderRelatedObjectsToolbar(t)}else if(!s.config.exclusiveDataSource){const e=this.getAggregation("_titleDelimiter");t.renderControl(e);if(s.getDataSource()===this.getProperty("dataSource")){const e=this.getAggregation("_typeText");e.setText(this.getProperty("type"));t.renderControl(e)}else{const e=this.getModel().getProperty("/uiFilter").clone();e.setDataSource(this.getProperty("dataSource"));const i=s.createSearchNavigationTarget(e,this.getProperty("type"));const a=this.getAggregation("_typeLink");a.setNavigationTarget(i);a.setText(this.getProperty("type"));a.setTooltip(A.getText("searchInDataSourceTooltip",[this.getProperty("dataSource").labelPlural]));t.renderControl(this.getAggregation("_typeLinkAriaDescription"));t.renderControl(a)}}t.close("div");if(!s.config.optimizeForValueHelp){this._renderImageForPhone(t);t.close("div")}},_renderCheckbox:function e(t){t.openStart("div",this.getId()+"-checkbox-expand-container");t.class("sapUshellSearchResultListItem-CheckboxExpandContainer");t.openEnd();t.openStart("div",this.getId()+"-checkbox-container");t.class("sapUshellSearchResultListItem-CheckboxContainer");t.openEnd();t.openStart("div",this.getId()+"-checkbox-alignment-container");t.class("sapUshellSearchResultListItem-CheckboxAlignmentContainer");t.openEnd();const i=this.getAggregation("_selectionCheckBox");const s=this.getProperty("selected");const a=this.getProperty("selectionEnabled");i.setSelected(s);i.setEnabled(a);t.renderControl(i);t.close("div");t.close("div");t.close("div")},_renderImageForPhone:function e(t){if(this.getProperty("imageUrl")){t.openStart("div",this.getId()+"-title-image");t.class("sapUshellSearchResultListItem-TitleImage");if(this.getProperty("imageFormat")==="round"){t.class("sapUshellSearchResultListItem-ImageContainerRound")}t.openEnd();t.openStart("div",this.getId()+"-image-container-aligmnent-helper");t.class("sapUshellSearchResultListItem-ImageContainerAlignmentHelper");t.openEnd();t.close("div");t.openStart("img",this.getId()+"-image-1");t.class("sapUshellSearchResultListItem-Image");t.attr("src",this.getProperty("imageUrl"));t.openEnd();t.close("div");t.close("div")}},_renderImageForDocument:function e(t){if(this.getProperty("imageFormat")&&this.getProperty("imageFormat").toLowerCase()==="documentthumbnail"){const e=this.getProperty("imageNavigation");const i=e?e.targetUrl:"";if(typeof this._zoomIcon!=="undefined"){this._zoomIcon.destroy()}this._zoomIcon=new d("",{src:h.getIconURI("search"),useIconTooltip:false});this._zoomIcon.addStyleClass(`${this.getId()}--zoomIcon`);this._zoomIcon.addStyleClass("sapUshellSearchResultListItem-DocumentThumbnailZoomIcon");const s=this.getProperty("imageUrl");t.openStart("div",this.getId()+"-document-thumbnail-container");t.class("sapUshellSearchResultListItem-DocumentThumbnailContainer");t.openEnd();if(i&&i.length>0){t.openStart("a",this.getId()+"-document-thumbnail-border-1");t.attr("href",i);t.class("sapUshellSearchResultListItem-DocumentThumbnailBorder");t.openEnd();t.openStart("div",this.getId()+"-document-thumbnail-dogear-1");t.class("sapUshellSearchResultListItem-DocumentThumbnail-DogEar");t.openEnd();t.close("div");t.renderControl(this._zoomIcon);if(s&&s.length>0){t.openStart("img",this.getId()+"-document-thumbnail-1");t.class("sapUshellSearchResultListItem-DocumentThumbnail");t.attr("src",this.getProperty("imageUrl"));t.openEnd();t.close("img")}t.close("a")}else{t.openStart("div",this.getId()+"-document-thumbnail-border-2");t.class("sapUshellSearchResultListItem-DocumentThumbnailBorder");t.openEnd();t.openStart("div",this.getId()+"-document-thumbnail-dogear-2");t.class("sapUshellSearchResultListItem-DocumentThumbnail-DogEar");t.openEnd();t.close("div");t.renderControl(this._zoomIcon);if(s&&s.length>0){t.openStart("img",this.getId()+"-document-thumbnail-2");t.class("sapUshellSearchResultListItem-DocumentThumbnail");t.attr("src",this.getProperty("imageUrl"));t.openEnd();t.close("img")}t.close("div")}t.close("div")}},_cutDescrAttributeOutOfAttributeList:function e(){const t=this.getProperty("attributes");for(let e=0;e<t.length;e++){const i=t[e];if(i.longtext){t.splice(e,1);this.setProperty("attributes",t);return i}}return undefined},_renderMultiLineDescription:function e(t){const i=this.getModel();if(this.getProperty("imageFormat")?.toLowerCase()==="documentthumbnail"){const e=this._cutDescrAttributeOutOfAttributeList();if(e?.value?.length>0){const s=this.getAggregation("_multiLineDescriptionText");s.setText(e.value);if(e.whyfound){s.data("ishighlighted","true",true)}else{s.data("ishighlighted","false",true)}if(e.valueWithoutWhyfound){const i=new u({});i.setText(e.valueWithoutWhyfound);s.data("tooltippedBy",i.getId(),true);s.addEventDelegate({onAfterRendering:()=>{const e=$(s.getDomRef());e.attr("aria-describedby",e.attr("data-tooltippedby"))}});this.addAggregation("_attributeValuesWithoutWhyfoundHiddenTexts",i,true);t.renderControl(i)}this.adjustCssDragAndDrop(s,i);t.renderControl(s)}else{t.openStart("div",this.getId()+"-multiline-description");t.class("sapUshellSearchResultListItem-MultiLineDescription");t.openEnd();t.close("div")}}},_renderAttributesContainer:function e(t){const i=this.getModel();t.openStart("div",this.getId()+"-attribute-expand-container");t.class("sapUshellSearchResultListItem-AttributesExpandContainer");if(i.config.optimizeForValueHelp){t.class("sapUshellSearchResultListItem-AttributesExpandContainerValueHelp")}const s=this.getProperty("expanded");if(s){t.class("sapUshellSearchResultListItem-AttributesExpanded")}t.openEnd();t.openStart("div",this.getId()+"-attributes-and-actions");t.class("sapUshellSearchResultListItem-AttributesAndActions");t.openEnd();if(!i.config.optimizeForValueHelp){this._renderImageForDocument(t);this._renderMultiLineDescription(t)}t.openStart("ul",this.getId()+"-attributes");t.class("sapUshellSearchResultListItem-Attributes");t.openEnd();const a=this.getProperty("attributes");if(!i.config.optimizeForValueHelp){this._renderImageAttribute(t,a.length===0)}this._renderAllAttributes(t,a);if(!i.config.optimizeForValueHelp){t.openStart("li",this.getId()+"-expand-spacer-attribute");t.class("sapUshellSearchResultListItem-ExpandSpacerAttribute");t.attr("aria-hidden","true");t.openEnd();t.close("li")}t.close("ul");if(!i.config.optimizeForValueHelp){this._renderRelatedObjectsToolbar(t)}t.close("div");t.close("div")},_renderAllAttributes:function e(t,i){const s=this.getModel();if(i.length===0){t.openStart("li",this.getId()+"-generic-attribute-1");t.class("sapUshellSearchResultListItem-GenericAttribute");if(s.config.optimizeForValueHelp){t.class("sapUshellSearchResultListItem-GenericAttributeValueHelp")}t.class("sapUshellSearchResultListItem-MainAttribute");t.class("sapUshellSearchResultListItem-EmptyAttributePlaceholder");t.attr("aria-hidden","true");t.openEnd();t.close("li");return}let a;let n;let l;let o;let c,h,p;let m;let f;const b=this.getProperty("layoutCache")||{};this.setProperty("layoutCache",b,true);if(!b.attributes){b.attributes={}}let I=0,S=0;let y=4;let A=3;let _=[0,0,0];let x=[0,0,0,0];let R=2;let T=2;let C;const E=this.getProperty("imageFormat")&&this.getProperty("imageFormat").toLowerCase()==="documentthumbnail";const P=this.getProperty("imageUrl")&&!E&&!s.config.optimizeForValueHelp;if(E&&!s.config.optimizeForValueHelp){y=A=2;_=x=[0,0];R=T=4}let w=y*_.length;let H=A*x.length;if(P){w--;H--;_[0]++;x[0]++}this.destroyAggregation("_attributeLabels");this.destroyAggregation("_attributeValues");this.destroyAggregation("_attributeValuesWithoutWhyfoundHiddenTexts");const O=e=>()=>{const e=$(this.getDomRef());e.attr("aria-describedby",e.attr("data-tooltippedby"))};for(I=0;!(R<=0&&T<=0)&&I<i.length;I++){a=i[I];const e=this.getModel();if(e.config.optimizeForValueHelp&&!a.whyfound){continue}if(E&&S>=4){break}if(a.isTitle){continue}if(w<=0&&H<=0&&!a.whyfound){continue}n=a.name;l=a.value;if(n===undefined||l===undefined){continue}if(!l||l.trim().length===0){l=v.noValue}if(a.longtext===undefined||a.longtext===null||a.longtext===""){p=false}else{p=true}o=a.valueWithoutWhyfound;let s=-1,F=-1,k={desktop:1,tablet:1};const V=b.attributes[a.key]||{};b.attributes[a.key]=V;t.openStart("li",this.getId()+"-generic-attribute-2-"+I);t.class("sapUshellSearchResultListItem-GenericAttribute");if(e.config.optimizeForValueHelp){t.class("sapUshellSearchResultListItem-GenericAttributeValueHelp")}t.class("sapUshellSearchResultListItem-MainAttribute");if(p){C=V.longTextColumnNumber||this._howManyColumnsToUseForLongTextAttribute(o);V.longTextColumnNumber=C;k=C;t.class("sapUshellSearchResultListItem-LongtextAttribute")}if(w<=0){if(a.whyfound&&R>0){t.class("sapUshellSearchResultListItem-WhyFoundAttribute-Desktop");R--}else{t.class("sapUshellSearchResultListItem-DisplayNoneAttribute-Desktop")}}if(H<=0){if(a.whyfound&&T>0){t.class("sapUshellSearchResultListItem-WhyFoundAttribute-Tablet");T--}else{t.class("sapUshellSearchResultListItem-DisplayNoneAttribute-Tablet")}}if(p&&P&&_[0]===1){F=0;C=V.longTextColumnNumber.desktop<y?V.longTextColumnNumber.desktop:y-1;_[0]+=C;w-=C}else{for(let e=0;e<_.length;e++){if(_[e]+k.desktop<=y){_[e]+=k.desktop;w-=k.desktop;F=e;break}}}if(F<0){F=_.length}if(p&&P&&x[0]===1){s=0;C=V.longTextColumnNumber.tablet<A?V.longTextColumnNumber.tablet:A-1;x[0]+=C;H-=C}else{for(let e=0;e<x.length;e++){if(x[e]+k.tablet<=A){x[e]+=k.tablet;H-=k.tablet;s=e;break}}}if(s<0){s=x.length}t.class("sapUshellSearchResultListItem-OrderTablet-"+s);t.class("sapUshellSearchResultListItem-OrderDesktop-"+F);if(p){t.attr("data-sap-searchresultitem-attributeweight-desktop",k.desktop);t.attr("data-sap-searchresultitem-attributeweight-tablet",k.tablet)}t.openEnd();c=new r(`${this.getId()}--attr${I}_labelText`,{displayOnly:true,showColon:true});c.setText(n);c.addStyleClass("sapUshellSearchResultListItem-AttributeKey");c.addStyleClass("sapUshellSearchResultListItem-MightOverflow");this.adjustCssDragAndDrop(c,e);t.renderControl(c);t.openStart("span",this.getId()+"-attribute-value-container-"+I);t.class("sapUshellSearchResultListItem-AttributeValueContainer");if(e.config.optimizeForValueHelp){t.class("sapUshellSearchResultListItem-AttributeValueContainerValueHelp")}t.openEnd();if(a.defaultNavigationTarget instanceof D){const e=a.defaultNavigationTarget;h=new U(`${this.getId()}--attr${I}_defNavTarget_Link`,{navigationTarget:null,wrapping:false,tooltip:g.escapeSettingsValue(a.tooltip||"")});h.setNavigationTarget(e);h.setText(l);h.addStyleClass("sapUshellSearchResultListItem-AttributeLink")}else{h=new L(`${this.getId()}--attr${I}_noDefNavTarget_Text`);h.setText(l)}f=undefined;const B=h?.getAggregation("icon");if(B instanceof d){B.addStyleClass("sapUshellSearchResultListItem-AttributeIcon")}else if(a.iconUrl){f=new d(`${this.getId()}--attr${I}_itemAttributeIcon`,{src:g.escapeSettingsValue(a.iconUrl)});f.addStyleClass("sapUshellSearchResultListItem-AttributeIcon")}if(f){h.setIcon(f)}h.addStyleClass("sapUshellSearchResultListItem-AttributeValue");h.addStyleClass("sapUshellSearchResultListItem-MightOverflow");if(a.whyfound){h.data("ishighlighted","true",true);h.addStyleClass("sapUshellSearchResultItem-AttributeValueHighlighted")}if(p){h.data("islongtext","true",true)}if(o&&!(h instanceof U&&h.getTooltip())){m=new u({});m.addStyleClass("sapUshellSearchResultListItem-AttributeValueContainer-HiddenText");m.setText(o);h.data("tooltippedBy",m.getId(),true);h.addEventDelegate({onAfterRendering:O(h)});this.addAggregation("_attributeValuesWithoutWhyfoundHiddenTexts",m,true);t.renderControl(m)}this.adjustCssDragAndDrop(h,e);t.renderControl(h);t.close("span");t.close("li");this.addAggregation("_attributeLabels",c,true);this.addAggregation("_attributeValues",h,true);S++}if(P){const e=y-_[0];const i=A-x[0];if(e>0||i>0){t.openStart("li",this.getId()+"-generic-attribute-3");t.class("sapUshellSearchResultListItem-GenericAttribute");if(s.config.optimizeForValueHelp){t.class("sapUshellSearchResultListItem-GenericAttributeValueHelp")}t.class("sapUshellSearchResultListItem-MainAttribute");t.class("sapUshellSearchResultListItem-OrderTablet-0");t.class("sapUshellSearchResultListItem-OrderDesktop-0");t.attr("data-sap-searchresultitem-attributeweight-desktop",e);t.attr("data-sap-searchresultitem-attributeweight-tablet",i);t.openEnd();t.close("li")}}},_howManyColumnsToUseForLongTextAttribute:function e(t){if(t.length<50){return{tablet:1,desktop:1}}if(t.length<85){return{tablet:2,desktop:2}}if(t.length<135){return{tablet:3,desktop:3}}return{tablet:3,desktop:4}},_renderImageAttribute:function e(t,i){const s=this.getModel();if(!this.getProperty("imageUrl")||this.getProperty("imageFormat")&&this.getProperty("imageFormat").toLowerCase()==="documentthumbnail"){return}t.openStart("li",this.getId()+"-generic-attribute-4");t.class("sapUshellSearchResultListItem-GenericAttribute");if(s.config.optimizeForValueHelp){t.class("sapUshellSearchResultListItem-GenericAttributeValueHelp")}t.class("sapUshellSearchResultListItem-ImageAttribute");if(i){t.class("sapUshellSearchResultListItem-LonelyImageAttribute")}t.openEnd();t.openStart("div",this.getId()+"-image-container");t.class("sapUshellSearchResultListItem-ImageContainer");if(this.getProperty("imageFormat")==="round"){t.class("sapUshellSearchResultListItem-ImageContainerRound")}t.openEnd();if(this.getProperty("imageUrl")){t.openStart("img",this.getId()+"-image-2");t.class("sapUshellSearchResultListItem-Image");if(this.getProperty("imageFormat")==="round"){}t.attr("src",this.getProperty("imageUrl"));t.openEnd();t.close("img")}if(this.getProperty("imageFormat")!=="round"){t.openStart("div",this.getId()+"-image-container-aligment-helper");t.class("sapUshellSearchResultListItem-ImageContainerAlignmentHelper");t.openEnd();t.close("div")}t.close("div");t.close("li")},_renderRelatedObjectsToolbar:function e(t){const i=this.getProperty("navigationObjects");if(!i||i.length===0){return}this._showExpandButton=true;const s=this.getAggregation("_relatedObjectActionsToolbar");s.setProperty("navigationObjects",i);s.setProperty("positionInList",this.getProperty("positionInList"));t.renderControl(s)},_renderAccessibilityInformation:function e(t){const i=this.getProperty("parentListItem");if(i){this._renderAriaDescriptionElementForTitle(t,true,true);this._renderAriaDescriptionElementForAttributes(t,true);this._renderAriaDescriptionElementForCollapsedOrExpandedState(t,true);i.addEventDelegate({onAfterRendering:()=>{const e=$(i.getDomRef());this._addAriaDescriptionToParentListElement(i,true);C("acc-listitem-focusin",e,"focusin",e=>{const s=$(e.relatedTarget);if(s.hasClass("sapUshellSearchResultListItem")||s.closest(".sapUshellSearchResultListItemApps").length>0&&!s.hasClass("sapUshellResultListMoreFooter")){this._renderAriaDescriptionElementForTitle(t,false,false);this._renderAriaDescriptionElementForAttributes(t,false);this._renderAriaDescriptionElementForCollapsedOrExpandedState(t,false);this._addAriaDescriptionToParentListElement(i,false)}else{this._renderAriaDescriptionElementForTitle(t,true,false);this._renderAriaDescriptionElementForAttributes(t,false);this._renderAriaDescriptionElementForCollapsedOrExpandedState(t,false);this._addAriaDescriptionToParentListElement(i,true)}})},onsapspace:e=>{if(e["target"]===e["currentTarget"]){this.toggleDetails()}},onsapenter:e=>{if(e["target"]===e["currentTarget"]){const e=this.getProperty("titleNavigation");if(e instanceof D){e.performNavigation()}}}})}},getAccessibilityInfo:function e(...t){let i={};if(p.prototype.getAccessibilityInfo){i=p.prototype.getAccessibilityInfo.apply(this,t)||i}i["description"]="";return i},_renderAriaDescriptionElementForTitle:function e(t,i,s){this._searchResultListPrefix=this._searchResultListPrefix||A.getText("result_list_announcement_screenreaders");let a=this.getProperty("title")+", "+this.getProperty("type")+".";if(i){a=this._searchResultListPrefix+" "+a}const n=this.getAggregation("_titleLabeledByText");if(n){n.setText(a)}if(s&&t){t.renderControl(n)}},_renderAriaDescriptionElementForAttributes:function e(t,i){const s=this.getAggregation("_attributesLabeledByText");const a=$(this.getDomRef()).find(".sapUshellSearchResultListItem-Attributes").find(".sapUshellSearchResultListItem-MainAttribute");let n;if(a.length===0){n=A.getText("result_list_item_aria_no_attributes")}else{n=A.getText("result_list_item_aria_has_attributes");a.each(function(){const e=$(this);if(e.is(":visible")&&e.attr("aria-hidden")!=="true"){const t=e.find(".sapUshellSearchResultListItem-AttributeKey").text();const i=e.find(".sapUshellSearchResultListItem-AttributeValueContainer");let s=i.find(".sapUshellSearchResultListItem-AttributeValueContainer-HiddenText");if(s.length===0){s=i.find(".sapUshellSearchResultListItem-AttributeValue")}const a=s.text();n+=A.getText("result_list_item_aria_attribute_and_value",[t,a])}})}if(s){s.setText(n)}if(i&&t){t.renderControl(s)}},_renderAriaDescriptionElementForCollapsedOrExpandedState:function e(t,i){const s=this.getAggregation("_expandStateLabeledByText");let a;const n=this.getAggregation("_expandButton");if(!n){return}const l=$(n.getDomRef());if(l.css("visibility")!=="hidden"){if(this.isShowingDetails()){a=A.getText("result_list_item_aria_expanded");const e=this.getProperty("navigationObjects");if(Array.isArray(e)&&e.length>0){a=A.getText("result_list_item_aria_has_links")+a}}else{a=A.getText("result_list_item_aria_collapsed")}}s.setText(a);if(i&&t){t.renderControl(s)}},_addAriaDescriptionToParentListElement:function e(t,i){const s=this.getAggregation("_titleLabeledByText");if(!s){return}let a=s.getId();if(i){const e=this.getProperty("countBreadcrumbsHiddenElement");if(e){a+=" "+e.getId()}}const n=this.getAggregation("_attributesLabeledByText");a+=" "+n.getId();const l=this.getAggregation("_expandStateLabeledByText");a+=" "+l.getId();const r=$(t.getDomRef());r.attr("aria-labelledby",a)},_getExpandAreaObjectInfo:function e(){const t=this.getModel();const i=$(this.getDomRef());i.addClass("sapUshellSearchResultListItem-AttributesPrepareExpansion");const s=i.find(".sapUshellSearchResultListItem-AttributesExpandContainer");const a=i.find(".sapUshellSearchResultListItem-RelatedObjectsToolbar");let n=false;if(a.css("display")==="none"&&!t.config.optimizeForValueHelp){a.css("display","block");n=true}const l=s.height();const r=i.find(".sapUshellSearchResultListItem-AttributesAndActions").height();i.removeClass("sapUshellSearchResultListItem-AttributesPrepareExpansion");if(n){a.css("display","")}const o=this._getElementsInExpandArea();const c=200;const d=c/10;const h={resultListItem:i,attributesExpandContainer:s,currentHeight:l,expandedHeight:r,elementsToFadeInOrOut:o,expandAnimationDuration:c,fadeInOrOutAnimationDuration:d,relatedObjectsToolbar:a};return h},_getElementsInExpandArea:function e(){const t=$(this.getDomRef());const i=[];t.addClass("sapUshellSearchResultListItem-AttributesPrepareExpansion");const s=t.find(".sapUshellSearchResultListItem-GenericAttribute:not(.sapUshellSearchResultListItem-ImageAttribute)");if(s.length>0){const e=s.position().top;s.each(function(){if($(this).position().top>e){i.push(this)}})}t.removeClass("sapUshellSearchResultListItem-AttributesPrepareExpansion");return i},isShowingDetails:function e(){const t=this._getExpandAreaObjectInfo();if(t.currentHeight<t.expandedHeight){return false}return true},showDetails:function e(){const t=this;if(this.isShowingDetails()){return}const i=this._getExpandAreaObjectInfo();i.relatedObjectsToolbar["css"]("opacity",0);i.relatedObjectsToolbar["css"]("display","block");const s=this.getAggregation("_relatedObjectActionsToolbar");if(s){s.layoutToolbarElements()}this.forwardEllipsis($(t.getDomRef()).find(".sapUshellSearchResultListItem-Title, .sapUshellSearchResultItem-AttributeValueHighlighted"));$(this.getDomRef()).addClass("sapUshellSearchResultListItem-AttributesPrepareExpansion");let a,n=false;const l=i.attributesExpandContainer["animate"]({height:i.expandedHeight},{duration:i.expandAnimationDuration,progress:function(e,s,r){if(!n&&s>.5){a=i.relatedObjectsToolbar["animate"]({opacity:1},r).promise();n=true;jQuery.when(l,a).done(function(){t.setProperty("expanded",true,true);$(this).addClass("sapUshellSearchResultListItem-AttributesExpanded");$(this).css("height","");$(i.elementsToFadeInOrOut).css("opacity","");$(t.getDomRef()).removeClass("sapUshellSearchResultListItem-AttributesPrepareExpansion");const e=h.getIconURI("slim-arrow-up");const s=t.getAggregation("_expandButton");if(s){s.setTooltip(A.getText("hideDetailBtn_tooltip"));s.setIcon(e)}i.relatedObjectsToolbar["css"]("display","");i.relatedObjectsToolbar["css"]("opacity","");t._renderAriaDescriptionElementForAttributes(undefined,false);t._renderAriaDescriptionElementForCollapsedOrExpandedState(undefined,false)}.bind(this))}}}).promise();$(i.elementsToFadeInOrOut).animate({opacity:1},i.fadeInOrOutAnimationDuration)},hideDetails:function e(){const t=$(this.getDomRef());if(!this.isShowingDetails()){return}const i=this._getExpandAreaObjectInfo();i.relatedObjectsToolbar["css"]("opacity",1);i.relatedObjectsToolbar["animate"]({opacity:0},i.expandAnimationDuration/2);const s=t.find(".sapUshellSearchResultListItem-MainAttribute").outerHeight(true)+t.find(".sapUshellSearchResultListItem-ExpandSpacerAttribute").outerHeight(true);let a=false;const n=i.attributesExpandContainer["animate"]({height:s},{duration:i.expandAnimationDuration,progress:(e,t,s)=>{if(!a&&s<=i.fadeInOrOutAnimationDuration){a=true;const e=$(i.elementsToFadeInOrOut).animate({opacity:0},i.fadeInOrOutAnimationDuration).promise();jQuery.when(n,e).done(()=>{this.setProperty("expanded",false,true);i.attributesExpandContainer["removeClass"]("sapUshellSearchResultListItem-AttributesExpanded");$(i.elementsToFadeInOrOut).css("opacity","");i.relatedObjectsToolbar["css"]("opacity","");const e=h.getIconURI("slim-arrow-down");const t=this.getAggregation("_expandButton");t.setTooltip(A.getText("showDetailBtn_tooltip"));t.setIcon(e);this._renderAriaDescriptionElementForAttributes(undefined,false);this._renderAriaDescriptionElementForCollapsedOrExpandedState(undefined,false)})}}}).promise()},toggleDetails:function e(){let t;const i=this.getModel();if(this.isShowingDetails()){t=T.ITEM_HIDE_DETAILS;this.hideDetails()}else{t=T.ITEM_SHOW_DETAILS;this.showDetails()}i.eventLogger.logEvent({type:t,itemPosition:this.getProperty("positionInList"),executionId:this.getProperty("resultSetId")})},isSelectionModeEnabled:function e(){let t=false;const i=$(this.getDomRef()).find(".sapUshellSearchResultListItem-multiSelect-selectionBoxContainer");if(i){t=i.css("opacity")>0}return t},enableSelectionMode:function e(){const t=$(this.getDomRef()).find(".sapUshellSearchResultListItem-multiSelect-innerContainer");const i=t.find(".sapUshellSearchResultListItem-multiSelect-selectionBoxContainer");const s=200;let a=false;t.animate({width:"2rem"},{duration:s,progress:(e,t)=>{if(!a&&t>.5){i.css("display","");i.animate({opacity:"1.0"},s/2);a=true}}})},disableSelectionMode:function e(){const t=$(this.getDomRef()).find(".sapUshellSearchResultListItem-multiSelect-innerContainer");const i=t.find(".sapUshellSearchResultListItem-multiSelect-selectionBoxContainer");const s=200;i.animate({opacity:"0.0"},s/2,()=>{i.css("display","none")});t.animate({width:"0"},s)},toggleSelectionMode:function e(t){if(this.isSelectionModeEnabled()){this.disableSelectionMode()}else{this.enableSelectionMode()}},onAfterRendering:function e(){const t=$(this.getDomRef());this._showOrHideExpandButton();this._setListItemStatusBasedOnWindowSize();this._renderAriaDescriptionElementForTitle(undefined,false,false);this._renderAriaDescriptionElementForAttributes(undefined,false);this._renderAriaDescriptionElementForCollapsedOrExpandedState(undefined,false);this.forwardEllipsis(t.find(".sapUshellSearchResultListItem-Title, .sapUshellSearchResultItem-AttributeValueHighlighted"));i.attachEventHandlersForTooltip(this.getDomRef())},resizeEventHappened:function e(){const t=$(this.getDomRef());this._showOrHideExpandButton();this._setListItemStatusBasedOnWindowSize();this.forwardEllipsis(t.find(".sapUshellSearchResultItem-AttributeValueHighlighted"));const i=this.getAggregation("_titleLink");const s=this.getAggregation("_titleText");const a=i.getDomRef()?i:s;const n=this.getModel();if(this.supportsDragAndDrop(i,n)){if(n.config.optimizeForValueHelp){a.getDomRef()["draggable"]=false}}},isHierarchyItem:function e(){return this.getProperty("titleIconUrl")==="sap-icon://folder-blank"},supportsDragAndDrop:function e(t,i){return typeof i.getSearchCompositeControlInstanceByChildControl(t)!=="undefined"&&i.getSearchCompositeControlInstanceByChildControl(t).getDragDropConfig().length>0},_getPhoneSize:function e(){return 767},_resetPrecalculatedValues:function e(){this._visibleAttributes=undefined;this._detailsArea=undefined;this._showExpandButton=false},_setListItemStatusBasedOnWindowSize:function e(){const t=window.innerWidth;const i=this.getProperty("parentListItem");if(this.getProperty("titleNavigation")&&t<=this._getPhoneSize()){i.setType(R.Active)}else{i.setType(R.Inactive)}},_showOrHideExpandButton:function e(){const t=$(this.getDomRef());const i=t.find(".sapUshellSearchResultListItem-ExpandButtonContainer");const s=i.css("visibility")!=="hidden";let a=false;const n=this.getProperty("imageFormat")?.toLowerCase()==="documentthumbnail";if(!n){const e=t.find(".sapUshellSearchResultListItem-RelatedObjectsToolbar");a=e.length>0}if(!n&&!a){const e=this._getElementsInExpandArea();if(e.length>0){a=true}}if(s&&!a){i.css("visibility","hidden");i.attr("aria-hidden","true");this.setAriaExpandedState()}else if(!s&&a){i.css("visibility","");i.removeAttr("aria-hidden");this.setAriaExpandedState()}},setAriaExpandedState:function e(){const t=this.getAggregation("_expandButton");if(!t){return}const i=$(t.getDomRef());const s=$(this.getDomRef());const a=this.getProperty("parentListItem")?$(this.getProperty("parentListItem").getDomRef()):s.closest("li");const n=s.find(".sapUshellSearchResultListItem-ExpandButtonContainer");if(n.css("visibility")==="hidden"){i.removeAttr("aria-expanded");a.removeAttr("aria-expanded")}else{const e=this.getProperty("expanded");if(e){i.attr("aria-expanded","true");a.attr("aria-expanded","true")}else{i.attr("aria-expanded","false");a.attr("aria-expanded","false")}}},_registerItemPressHandler:function e(){const t=this.getProperty("parentListItem");if(t){t.attachPress(e=>{this._performTitleNavigation({event:e})});this._registerItemPressHandler=()=>{}}},_performTitleNavigation:function e(t){const i=this.getProperty("titleNavigation");if(i instanceof D){i.performNavigation({event:t?.event})}},adjustCssDragAndDrop:function e(t,i){setTimeout(()=>{if(typeof i.getSearchCompositeControlInstanceByChildControl(t)!=="undefined"&&i.getSearchCompositeControlInstanceByChildControl(t).getDragDropConfig().length>0){t.addStyleClass("sapUshellSearchResultListItem-SupportsDragAndDrop")}})},forwardEllipsis:function e(t){const i=$(this.getDomRef());i.addClass("sapUshellSearchResultListItem-AttributesPrepareExpansion");t.each((e,t)=>{a.forwardEllipsis4Whyfound(t)});i.removeClass("sapUshellSearchResultListItem-AttributesPrepareExpansion")}});v.noValue=E;return v})})();
},
	"sap/esh/search/ui/controls/resultview/SearchResultListItemDocument.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){sap.ui.define(["../../i18n","./SearchResultListItem","./SearchText","sap/esh/search/ui/SearchHelper","sap/ui/core/Icon","sap/ui/core/IconPool","sap/ui/core/format/DateFormat","sap/ui/core/Locale","sap/base/i18n/Localization"],function(e,t,n,s,i,r,a,o,l){"use strict";function c(e){return e&&e.__esModule&&typeof e.default!=="undefined"?e.default:e}const u=c(e);const d=c(t);const h=c(n);const p=d.extend("sap.esh.search.ui.controls.SearchResultListItemDocument",{renderer:{apiVersion:2},_renderContentContainer:function e(t){const n=this.getModel();t.openStart("div",this.getId()+"-content");t.class("sapUshellSearchResultListItem-Content");if(!n.config.optimizeForValueHelp){t.class("sapUshellSearchResultListItem-ContentValueHelp")}t.openEnd();this._renderTitleContainer(t);this._renderAttributesContainer(t);t.close("div")},_renderTitleContainer:function e(t){const n=this.getModel();if(!n.config.optimizeForValueHelp){t.openStart("div",this.getId()+"-title-and-image-container");t.class("sapUshellSearchResultListItem-TitleAndImageContainer");t.openEnd()}t.openStart("div",this.getId()+"-title-container");t.class("sapUshellSearchResultListItem-TitleContainer");if(n.config.optimizeForValueHelp){t.class("sapUshellSearchResultListItem-TitleContainerValueHelp")}t.openEnd();this._renderCheckbox(t);const s=this.getProperty("additionalParameters").titleUrl;const i=this.getAggregation("_titleLink");i.setHref(s);i.setText(this.getProperty("title"));if(s.length===0){i.setEnabled(false)}t.renderControl(i);const r=this.getAggregation("_typeText");r.setText(this.getProperty("type"));t.renderControl(r);t.close("div");if(!n.config.optimizeForValueHelp){this._renderImageForPhone(t);t.close("div")}},_renderAttributesContainer:function e(t){t.openStart("div",this.getId()+"-attributes-expand-container");t.class("sapUshellSearchResultListItemDoc-AttributesExpandContainer");const n=this.getProperty("expanded");if(n){t.class("sapUshellSearchResultListItem-AttributesExpanded")}t.openEnd();t.openStart("div",this.getId()+"-attributes-and-actions");t.class("sapUshellSearchResultListItem-AttributesAndActions");t.openEnd();t.openStart("ul",this.getId()+"-attributes");t.class("sapUshellSearchResultListItem-Attributes");t.openEnd();this._renderThumbnailSnippetContainer(t);this._renderDocAttributesContainer(t);t.openStart("div",this.getId()+"-expand-spacer-attribute");t.class("sapUshellSearchResultListItem-ExpandSpacerAttribute");t.attr("aria-hidden","true");t.openEnd();t.close("div");t.close("ul");this._renderRelatedObjectsToolbar(t);t.close("div");t.close("div")},_renderThumbnailContainer:function e(t){if(!this.getProperty("imageUrl")){return}if(this.getProperty("containsThumbnail")===true){t.openStart("div",this.getId()+"-thumbnail-container");t.class("sapUshellSearchResultListItemDoc-ThumbnailContainer");t.openEnd();t.openStart("div",this.getId()+"-thumbnail-container-inner");t.class("sapUshellSearchResultListItemDoc-ThumbnailContainerInner");t.openEnd();const e=new i({src:r.getIconURI("search"),useIconTooltip:false});if(this.getProperty("containsSuvFile")===true){const t=function(){window.open(this.getSuvlink(),"_blank","noopener,noreferrer")};e.attachPress(t)}e.addStyleClass("sapUshellSearchResultListItemDoc-ThumbnailZoomIcon");t.renderControl(e);if(this.getProperty("containsSuvFile")===true){t.openStart("a",this.getId()+"-suv-link-1");t.attr("target","_blank");t.attr("href",this.getProperty("suvlink"));t.attr("rel","noopener noreferrer");t.openEnd()}else{t.openStart("a",this.getId()+"-suv-link-2");t.attr("target","_blank");t.attr("rel","noopener noreferrer");t.openEnd()}t.openStart("img",this.getId()+"-thumbnail");t.class("sapUshellSearchResultListItemDoc-Thumbnail");t.attr("src",this.getProperty("imageUrl"));t.openEnd();t.close("img");t.close("a");t.close("div");t.close("div")}else{t.openStart("div",this.getId()+"-thumbnail-container-hidden");t.class("sapUshellSearchResultListItemDoc-ThumbnailContainer-hidden");t.openEnd();t.close("div")}},_renderImageForPhone:function e(t){if(this.getProperty("imageUrl")&&this.getProperty("containsThumbnail")===true){t.openStart("div",this.getId()+"-title-image");t.class("sapUshellSearchResultListItem-TitleImage");t.openEnd();t.openStart("div",this.getId()+"-image-container-alignment-helper");t.class("sapUshellSearchResultListItem-ImageContainerAlignmentHelper");t.openEnd();t.close("div");t.openStart("img",this.getId()+"-image");t.class("sapUshellSearchResultListItem-Image");t.attr("src",this.getProperty("imageUrl"));t.openEnd();t.close("img");t.close("div")}},_renderDocAttributesContainer:function e(t){t.openStart("div",this.getId()+"-attributes-container");t.class("sapUshellSearchResultListItemDoc-AttributesContainer");t.openEnd();const n=this.getProperty("attributes");this._renderAllAttributes(t,n);t.close("div")},_renderThumbnailSnippetContainer:function e(t){t.openStart("div",this.getId()+"-thumbnail-snippet-container");t.class("sapUshellSearchResultListItemDoc-ThumbnailSnippetContainer");t.openEnd();this._renderThumbnailContainer(t);this._renderSnippetContainer(t);t.close("div")},_renderSnippetContainer:function e(t){const n=this.getProperty("attributes");for(let e=0;e<n.length;e++){const s=n[e];if(s.longtext){const e=new h;e.setText(s.value);e.addStyleClass("sapUshellSearchResultListItemDoc-Snippet");t.renderControl(e)}}},_renderAllAttributes:function e(t,n){let i;let r;let c;let u;let p;let g=8;if(this.getProperty("imageUrl")){g--}const m=function(e){let t;for(let n=0;n<e.length;n++){t=e[n];if(t.key==="FILE_PROPERTY"&&t.value){return true}}return false};const f=m(n);this.destroyAggregation("_attributeValues");let I,S,b;for(;S<g&&I<n.length;I++){i=n[I];if(i.isTitle||i.longtext){continue}if(f===true&&i.key!=="FILE_PROPERTY"){continue}if(!i.value){continue}if(f===true){const e=JSON.parse(i.value);for(;b<e.length&&b<10;b++){p=e[b];switch(p.type){case"date-time":{const e=new Date(p.value);const t=a.getDateTimeInstance({style:"medium"},new o(l.getLanguageTag().toString()));c=t.format(e);break}case"byte":c=s.formatFileSize(Number(p.value));break;case"integer":c=s.formatInteger(Number(p.value));break;default:c=p.value}r=p.category+": "+p.name;if(c===undefined){continue}if(!c||c===""){c=d.noValue}u=new h;u.setText(c);u.addStyleClass("sapUshellSearchResultListItemDoc-AttributeValue");u.addStyleClass("sapUshellSearchResultListItem-MightOverflow");t.renderControl(u);this.addAggregation("_attributeValues",u,true)}}else{r=i.name;c=i.value;if(r===undefined||c===undefined){continue}if(!c||c===""){c=d.noValue}u=new h;u.setText(c);u.addStyleClass("sapUshellSearchResultListItemDoc-AttributeValue");u.addStyleClass("sapUshellSearchResultListItem-MightOverflow");t.renderControl(u);this.addAggregation("_attributeValues",u,true)}S++}},_getExpandAreaObjectInfo:function e(){const t=$(this.getDomRef());const n=t.find(".sapUshellSearchResultListItemDoc-AttributesExpandContainer");const s=t.find(".sapUshellSearchResultListItem-RelatedObjectsToolbar");let i=false;if(s.css("display")==="none"){s.css("display","block");i=true}const r=n.height();const a=t.find(".sapUshellSearchResultListItem-AttributesAndActions").height();if(i){s.css("display","")}const o=[];t.find(".sapUshellSearchResultListItem-GenericAttribute").each(function(){const e=$(this);if(Number(e.css("order"))>2){o.push(this)}});const l=200;const c=l/10;const u={resultListItem:t,attributesExpandContainer:n,currentHeight:r,expandedHeight:a,elementsToFadeInOrOut:o,expandAnimationDuration:l,fadeInOrOutAnimationDuration:c,relatedObjectsToolbar:s};return u},hideDetails:function e(){const t=$(this.getDomRef());if(!this.isShowingDetails()){return}const n=this._getExpandAreaObjectInfo();const s=t.find(".sapUshellSearchResultListItem-Attributes").outerHeight(true);let i=false;const a=n.attributesExpandContainer.animate({height:s},{duration:n.expandAnimationDuration,progress:function(e,t,s){if(!i&&s<=n.fadeInOrOutAnimationDuration){i=true;const e=$(n.elementsToFadeInOrOut).animate({opacity:0},n.fadeInOrOutAnimationDuration).promise();jQuery.when(a,e).done(function(){this.setProperty("expanded",false,true);n.attributesExpandContainer.removeClass("sapUshellSearchResultListItem-AttributesExpanded");$(n.elementsToFadeInOrOut).css("opacity","");const e=r.getIconURI("slim-arrow-down");const t=this.getAggregation("_expandButton");t.setTooltip(u.getText("showDetailBtn_tooltip"));t.setIcon(e);t.rerender()})}}}).promise()}});return p})})();
},
	"sap/esh/search/ui/controls/resultview/SearchResultListItemNote.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){sap.ui.define(["../../i18n","./SearchResultListItem","./SearchText","sap/ui/core/IconPool"],function(t,e,n,s){"use strict";function i(t){return t&&t.__esModule&&typeof t.default!=="undefined"?t.default:t}const r=i(t);const a=i(e);const o=i(n);const l=a.extend("sap.esh.search.ui.controls.SearchResultListItemNote",{renderer:{apiVersion:2},_renderContentContainer:function t(e){const n=this.getModel();e.openStart("div",this.getId()+"-content");e.class("sapUshellSearchResultListItem-Content");if(!n.config.optimizeForValueHelp){e.class("sapUshellSearchResultListItem-ContentValueHelp")}e.openEnd();this._renderTitleContainer(e);this._renderAttributesContainer(e);e.close("div")},_renderTitleContainer:function t(e){const n=this.getModel();if(!n.config.optimizeForValueHelp){e.openStart("div",this.getId()+"-title-and-image-container");e.class("sapUshellSearchResultListItem-TitleAndImageContainer");e.openEnd()}e.openStart("div",this.getId()+"-title-container");e.class("sapUshellSearchResultListItem-TitleContainer");if(n.config.optimizeForValueHelp){e.class("sapUshellSearchResultListItem-TitleContainerValueHelp")}e.openEnd();this._renderCheckbox(e);const s=this.getProperty("titleUrl");const i=this.getAggregation("_titleLink");i.setHref(s);i.setText(this.getProperty("title"));if(s.length===0){i.setEnabled(false)}e.renderControl(i);const r=this.getAggregation("_typeText");r.setText(this.getProperty("Type"));e.renderControl(r);e.close("div");if(!n.config.optimizeForValueHelp){this._renderImageForPhone(e)}e.close("div")},_renderAttributesContainer:function t(e){e.openStart("div",this.getId()+"-attributes-expand-container");e.class("sapUshellSearchResultListItemDoc-AttributesExpandContainer");const n=this.getProperty("expanded");if(n){e.class("sapUshellSearchResultListItem-AttributesExpanded")}e.openEnd();e.openStart("div",this.getId()+"-attributes-and-actions");e.class("sapUshellSearchResultListItem-AttributesAndActions");e.openEnd();e.openStart("ul",this.getId()+"-attributes");e.class("sapUshellSearchResultListItem-Attributes");e.openEnd();this._renderThumbnailSnippetContainer(e);this._renderDocAttributesContainer(e);e.openStart("div",this.getId()+"-expand-spacer-attribute");e.class("sapUshellSearchResultListItem-ExpandSpacerAttribute");e.attr("aria-hidden","true");e.openEnd();e.close("div");e.close("ul");this._renderRelatedObjectsToolbar(e);e.close("div");e.close("div")},_renderImageForPhone:function t(e){if(this.getProperty("imageUrl")&&this.getProperty("containsThumbnail")===true){e.openStart("div",this.getId()+"-title-image");e.class("sapUshellSearchResultListItem-TitleImage");e.openEnd();e.openStart("div",this.getId()+"-image-container-alignment-helper");e.class("sapUshellSearchResultListItem-ImageContainerAlignmentHelper");e.openEnd();e.close("div");e.openStart("img",this.getId()+"-image");e.class("sapUshellSearchResultListItem-Image");e.attr("src",this.getProperty("imageUrl"));e.openEnd();e.close("img");e.close("div")}},_renderDocAttributesContainer:function t(e){e.openStart("div",this.getId()+"-attributes-container");e.class("sapUshellSearchResultListItemNote-AttributesContainer");e.openEnd();const n=this.getProperty("attributes");this._renderAllAttributes(e,n);e.close("div")},_renderThumbnailSnippetContainer:function t(e){e.openStart("div",this.getId()+"-thumbnail-snippet-container");e.class("sapUshellSearchResultListItemNote-ThumbnailSnippetContainer");e.openEnd();this._renderSnippetContainer(e);e.close("div")},_renderSnippetContainer:function t(e){const n=this.getProperty("attributes");for(let t=0;t<n.length;t++){const s=n[t];if(s.longtext){const n=new o(`${this.getId()}_snippet-${t}-longtext`);n.setText(s.value);n.addStyleClass("sapUshellSearchResultListItemDoc-Snippet");e.renderControl(n)}}},_renderAllAttributes:function t(e,n){let s;let i;let r;let l;let c=4;if(this.getProperty("imageUrl")){c--}this.destroyAggregation("_attributeValues");for(let t=0,d=0;d<c&&t<n.length;t++){s=n[t];if(s.isTitle||s.longtext){continue}if(!s.value){continue}i=s.name;r=s.value;if(i===undefined||r===undefined){continue}if(!r||r===""){r=a.noValue}l=new o(`${this.getId()}_${t}_${d}_noteText`,{text:r});l.addStyleClass("sapUshellSearchResultListItemNote-AttributeValue");l.addStyleClass("sapUshellSearchResultListItem-MightOverflow");e.renderControl(l);this.addAggregation("_attributeValues",l,true);d++}},_getExpandAreaObjectInfo:function t(){const e=$(this.getDomRef());const n=e.find(".sapUshellSearchResultListItemDoc-AttributesExpandContainer");const s=e.find(".sapUshellSearchResultListItem-RelatedObjectsToolbar");let i=false;if(s.css("display")==="none"){s.css("display","block");i=true}const r=n.height();const a=e.find(".sapUshellSearchResultListItem-AttributesAndActions").height();if(i){s.css("display","")}const o=[];e.find(".sapUshellSearchResultListItem-GenericAttribute").each(function(){const t=$(this);if(Number(t.css("order"))>2){o.push(this)}});const l=200;const c=l/10;const d={resultListItem:e,attributesExpandContainer:n,currentHeight:r,expandedHeight:a,elementsToFadeInOrOut:o,expandAnimationDuration:l,fadeInOrOutAnimationDuration:c,relatedObjectsToolbar:s};return d},hideDetails:function t(){const e=$(this.getDomRef());if(!this.isShowingDetails()){return}const n=this._getExpandAreaObjectInfo();const i=e.find(".sapUshellSearchResultListItem-Attributes").outerHeight(true);let a=false;const o=n.attributesExpandContainer.animate({height:i},{duration:n.expandAnimationDuration,progress:function(t,e,i){if(!a&&i<=n.fadeInOrOutAnimationDuration){a=true;const t=$(n.elementsToFadeInOrOut).animate({opacity:0},n.fadeInOrOutAnimationDuration).promise();jQuery.when(o,t).done(function(){this.setProperty("expanded",false,true);n.attributesExpandContainer.removeClass("sapUshellSearchResultListItem-AttributesExpanded");$(n.elementsToFadeInOrOut).css("opacity","");const t=s.getIconURI("slim-arrow-down");const e=this.getAggregation("_expandButton");e.setTooltip(r.getText("showDetailBtn_tooltip"));e.setIcon(t);e.rerender()})}}}).promise()}});return l})})();
},
	"sap/esh/search/ui/controls/resultview/SearchResultListSelectionHandler.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){sap.ui.define(["sap/ui/base/Object"],function(e){"use strict";const t=e.extend("sap.esh.search.ui.controls.SearchResultListSelectionHandler",{isMultiSelectionAvailable:function e(){return false},actionsForDataSource:function e(){return[]}});return t})})();
},
	"sap/esh/search/ui/controls/resultview/SearchResultListSelectionHandlerNote.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){sap.ui.define(["./SearchResultListSelectionHandler","sap/m/MessageBox"],function(e,t){"use strict";function n(e){return e&&e.__esModule&&typeof e.default!=="undefined"?e.default:e}const o=n(e);const i=o.extend("sap.esh.search.ui.controls.SearchResultListSelectionHandlerNote",{isMultiSelectionAvailable:function e(){return true},actionsForDataSource:function e(){const n=[{text:"Show Selected Items",action:function(e){let n="No Items were selected!";if(e.length>0){n="Following Items were selected:";for(let t=0;t<e.length;t++){n+="\n"+e[t].title}}t.show(n,{icon:t.Icon.INFORMATION,title:"I'm a Custom Action for testing Multi-Selection",actions:[t.Action.OK]})}}];return n}});return i})})();
},
	"sap/esh/search/ui/controls/resultview/SearchResultPanel.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){sap.ui.define(["sap/ui/layout/FixFlex"],function(t){"use strict";const e=t.extend("sap.esh.search.ui.controls.SearchResultPanel",{renderer:{apiVersion:2},constructor:function e(r,n){t.prototype.constructor.call(this,r,n);this.data("sap-ui-fastnavgroup","true",true)}});return e})})();
},
	"sap/esh/search/ui/controls/resultview/SearchResultTable.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){sap.ui.define(["../../i18n","../../SearchResultTableFormatter","../../SearchResultTableP13NPersonalizer","sap/m/Table","sap/m/plugins/ColumnResizer","sap/m/Column","sap/m/ColumnListItem","sap/m/CustomListItem","../../SearchResultTableColumnType","./SearchText","../SearchLink","sap/ui/core/Element","sap/m/library","sap/m/HBox","sap/m/Label","sap/m/Button","sap/ui/core/Icon","../../sinaNexTS/sina/NavigationTarget","sap/m/ActionSheet","sap/ui/base/ManagedObject","sap/base/util/merge","../../SearchUtil","sap/esh/search/ui/SearchHelper","sap/base/Log","../../error/ErrorHandler"],function(t,e,s,l,i,n,a,o,r,c,h,u,d,p,g,f,b,m,S,I,C,y,T,w,R){"use strict";function M(t){return t&&t.__esModule&&typeof t.default!=="undefined"?t.default:t}const v=M(t);const A=M(e);const E=M(s);const P=r["TableColumnType"];const L=M(c);const x=M(h);const B=d["ListMode"];const N=d["PlacementType"];const U=d["PopinDisplay"];const V=d["PopinLayout"];const D=m["NavigationTarget"];const H=M(R);const z=l.extend("sap.esh.search.ui.controls.SearchResultTable",{renderer:{apiVersion:2},constructor:function t(e,s){l.prototype.constructor.call(this,e,s);this.useStableIds=true;this.log=w.getLogger("sap.esh.search.ui.controls.resultview.SearchResultTable");this.errorHandler=H.getInstance()},assembleTable:function t(e){this.bindProperty("mode",{parts:[{path:"/multiSelectionEnabled"}],formatter:t=>t===true?B.MultiSelect:B.None});this.setProperty("rememberSelections",false);this.attachSelectionChange(()=>{e.updateMultiSelectionSelected()});this.bindProperty("visible",{parts:[{path:"/resultViewType"},{path:"/count"}],formatter:this.formatVisible.bind(this)});this.setProperty("sticky",["ColumnHeaders"]);this.setNoDataText(v.getText("noCloumnsSelected"));this.update();if(e.config?.FF_resizeResultTableColumns===true){this.setupColumnResizable();this.addStyleClass("sapElisa-search-result-table-resizable")}else{this.addStyleClass("sapElisa-search-result-table-might-popin")}this.addStyleClass("sapElisa-search-result-table")},formatVisible:function t(e,s){const l=e==="searchResultTable"&&s!==0;if(l){if(!this.tablePersonalizer){this.tablePersonalizer=new E(this.getModel())}this.tablePersonalizer.initialize(this)}return l},update:function t(){if(!this.getBinding("columns")){this.bindTableColumns()}if(!this.getBinding("items")){this.bindTableItems()}if(this.getModel()){this.getModel().updateBindings(true)}},bindTableColumns:function t(){this.bindAggregation("columns",{path:"/tableColumns",factory:t=>{const e=new n(this.getStableId(t,"column"),{header:new g(this.getStableId(t,"headerLabel"),{text:"{name}"}),visible:"{visible}",width:"{width}"});return e}})},bindTableItems:function t(){this.bindAggregation("items",{path:"/tableRows",factory:(t,e)=>this.assembleTableItems(t,e)})},handleForwardEllipsis:function t(e){const s=e["srcControl"]?.getDomRef()?.querySelectorAll(".sapUshellSearchResultItem-AttributeValueHighlighted");if(s&&s.length>0){s.forEach(function(t){y.forwardEllipsis4Whyfound(t)})}},assembleTableItems:function t(e,s){if(s.getObject().type==="footer"){return new o(this.getStableId(e,"item-footer"),{visible:false})}this.sortCellsInRows(s.getPath());return this.assembleTableMainItem(e,s)},assembleTableMainItem:function t(e,s){const l=this.getModel();const i=new a(this.getStableId(e,"item"),{selected:{path:"selected"}}).addStyleClass("sapUshellSearchTable");i.addEventDelegate({onAfterRendering:this.handleForwardEllipsis});if(s.getObject().customItemStyleClass){i.addStyleClass(s.getObject().customItemStyleClass)}i.bindAggregation("cells",{path:"cells",factory:(t,e)=>{const s=e.getObject();if(s.type===P.TITLE){let e="";let l=false;let i=true;const n=s.titleNavigation;if(n instanceof D){l=typeof n.targetFunction==="function";e=n.targetUrl}if((typeof e!=="string"||e.length===0)&&l===false){i=false}let a;if(n){a=new x(this.getStableId(t,"link"),{navigationTarget:n,text:{path:"value"},wrapping:false})}else{a=new L(this.getStableId(t,"link"),{text:{path:"value"},wrapping:false})}const o=s.titleIconUrl;if(o&&!(a.getAggregation("icon")instanceof b)){const e=new b(this.getStableId(t,"icon"),{src:I.escapeSettingsValue(o)});a.setIcon(e)}a.addStyleClass("sapUshellSearchResultListItem-MightOverflow");a.addStyleClass("sapUshellSearchTableTitleLink");if(s.isHighlighted){a.addStyleClass("sapUshellSearchResultItem-AttributeValueHighlighted")}let r=a;const c=s.titleInfoIconUrl;if(c){const e=new b(this.getStableId(t,"infoIcon"),{src:I.escapeSettingsValue(c),tooltip:v.getText("collectionShared")}).addStyleClass("sapUshellSearchTableTitleInfoIcon");if(!i){e.addStyleClass("sapUshellSearchTableTitleInfoIconDisabled")}r=new p(this.getStableId(t,"titleContainer"),{items:[a,e]})}return r}if(s.type===P.RELATED_APPS){const e=new f(this.getStableId(t,"relAppsButton"),{icon:"sap-icon://action",tooltip:v.getText("intents"),press:()=>{const l=u.getElementById(this.getStableId(e.getId(),"relAppsActionSheet"));if(l){l.destroy();return}const i=s.navigationObjects;const n=[];let a;const o=(t,e)=>{if(e instanceof D){e.performNavigation({event:t})}};for(let e=0;e<i.length;e++){const s=i[e];this.destroyControl(this.getStableId(t,`navButton${e}`));a=new f(this.getStableId(t,`navButton${e}`),{text:I.escapeSettingsValue(s?.text),tooltip:I.escapeSettingsValue(s?.text)});a.attachPress(s,o);n.push(a)}const r=new S(this.getStableId(e.getId(),"relAppsActionSheet"),{buttons:n,placement:N.Auto});r.attachAfterClose(()=>{r.destroy()});r.openBy(e)}});e.addStyleClass("sapElisaSearchTableRelatedAppsButton");return e}const i=s.defaultNavigationTarget;if(i instanceof D){const e=new x(this.getStableId(t,"attrLink"),{navigationTarget:null,wrapping:false,tooltip:I.escapeSettingsValue(s.tooltip||"")});e.setNavigationTarget(i);e.setText(s.value);e.addStyleClass("sapUshellSearchResultListItem-MightOverflow");let l=null;const n=s.icon;const a=e.getAggregation("icon");if(a instanceof b){a.addStyleClass("sapUshellSearchResultListItem-AttributeIcon")}else if(typeof n==="string"&&n.startsWith("sap-icon://")){l=new b(this.getStableId(t,"attrIcon"),{src:I.escapeSettingsValue(n)});l.addStyleClass("sapUshellSearchResultListItem-AttributeIcon");e.setIcon(l)}return e}if(s.type===P.EXTEND){try{return l.config.extendTableColumn.bindingFunction(s)}catch(t){this.errorHandler.onError(t)}}const n=new L(this.getStableId(t,"searchText"),{text:{path:"value"},wrapping:false}).addStyleClass("sapUshellSearchResultListItem-MightOverflow");if(s.icon){const e=new b(this.getStableId(t,"cellIcon"),{src:I.escapeSettingsValue(s.icon)});n.setIcon(e)}if(s.isHighlighted){n.addStyleClass("sapUshellSearchResultItem-AttributeValueHighlighted")}return n}});return i},sortCellsInRows:function t(e){const s=this.getModel();let l;if(e){const t=[s.getProperty(e)][0];t.cells=this.getSortedCells(t.cells);s.setProperty(e,t)}else{l=s.getProperty("/tableRows");for(const t of l){t.cells=this.getSortedCells(t.cells)}s.setProperty("/tableRows",l)}},getSortedCells:function t(e){const s=[];const l=this.getModel().getTableColumns(false);for(const t of l){for(const l of e){if(t.p13NColumnName===l.p13NColumnName){s.push(l);break}}}return s},setupColumnResizable:function t(){const e=this;const s=new i;s.attachColumnResize(()=>{setTimeout(function(){e.getModel().saveTableColumns(e.getModel().getTableColumns(false))},500)});e.addDependent(s)},setupPopin:function t(){const e=this.getModel();if(!e){return}this.setPopinLayout(V.Block);let s=0;this.getColumns().forEach(function(t){t.setDemandPopin(true);t.setPopinDisplay(U.Inline);if(t.getVisible()){s++;t.setMinScreenWidth(12*s+"rem")}})},setupColumnsAbsoluteWidth:function t(){const e=this.getModel();if(!e){return}const s=this?.$()?.width();if(typeof s!=="number"){return}const l=typeof this?.$()?.find("table th.sapMListTblSelCol").width()!=="number"?0:this?.$()?.find("table.sapMListModeMultiSelect th.sapMListTblSelCol").width();const i=C([],e.getTableColumns(false));const n=new A(e);let a=0;let o=0;i.forEach(t=>{const e=n.getColumnWidthInPixel(t.width);if(e){a+=e}else{t.width=n.defaultColumnWidth;if(t.visible){o++}}});if(o===0){return}const r=2;const c=Math.trunc((s-l-a)/o-r)+"px";i.forEach(t=>{const e=n.getColumnWidthInPixel(t.width);if(!e){t.width=c}});e.setTableColumns(i,true)},setupEllipsisAndTooltip:function t(){let e;e=$(this.getDomRef()).find("tbody > tr > td");e.each((t,e)=>{T.attachEventHandlersForTooltip(e)});e=$(this.getDomRef()).find("tbody .sapMListTblSubCntValInline");e.each((t,e)=>{T.attachEventHandlersForTooltip(e)})},getStableId:function t(e,s,l="-"){if(this.useStableIds){return`${e}${l}${s}`}else{return""}},destroyControl:function t(e){const s=u.getElementById(e);if(s){s.destroy()}},onBeforeRendering:function t(){},onAfterRendering:function t(){const e=this.getModel();$(this.getDomRef())?.find("table > tbody > tr > td.sapMListTblCellNoData:first")?.attr("colspan",3);const s=$(this.getDomRef())?.find("table > thead > tr:first");if(s){s?.attr("aria-labelledby",e?.getSearchCompositeControlInstanceByChildControl(this)?.countBreadcrumbsHiddenElement.getId())}this.setupEllipsisAndTooltip();if(e.config?.FF_resizeResultTableColumns===true){this.setupColumnsAbsoluteWidth()}if(e.config?.FF_resizeResultTableColumns!==true){this.setupPopin()}}});return z})})();
},
	"sap/esh/search/ui/controls/resultview/SearchText.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){sap.ui.define(["sap/m/Text","sap/ui/core/Icon","sap/esh/search/ui/SearchHelper"],function(t,e,n){"use strict";const s=t.extend("sap.esh.search.ui.controls.SearchText",{renderer:{apiVersion:2,render:(t,e)=>{t.openStart("span",e.getId());t.class("sapUshellSearchText");if(!e.getWrapping()){t.class("sapUshellSearchText-nowrap")}const n=e.getTooltip_AsString();if(n){t.attr("title",n)}t.openEnd();const s=e.getAggregation("icon");if(s){t.renderControl(s)}t.renderControl(e.getAggregation("_text"));t.close("span")}},metadata:{properties:{maxLines:{type:"int"},text:{type:"string",defaultValue:""},wrapping:{type:"boolean",defaultValue:true}},aggregations:{_text:{type:"sap.m.Text",multiple:false},icon:{type:"sap.ui.core.Icon",multiple:false}}},constructor:function e(n,s){t.prototype.constructor.call(this,n,s)},init:function e(){this.setAggregation("_text",new t(this.getId()+"-Text",{text:this.getProperty("text"),maxLines:this.getProperty("maxLines"),wrapping:this.getProperty("wrapping")}).addStyleClass("sapUshellSearchTextText"))},addStyleClass:function t(e){this.getAggregation("_text").addStyleClass(e);return this},setText:function t(e){this.setProperty("text",e);this.getAggregation("_text").setText(e);return this},setMaxLines:function t(e){this.setProperty("maxLines",e);this.getAggregation("_text").setMaxLines(e);return this},setWrapping:function t(e){this.setProperty("wrapping",e);this.getAggregation("_text").setWrapping(e);return this},setIcon:function t(n){if(n instanceof e){n.addStyleClass("sapUshellSearchTextIcon");this.setAggregation("icon",n)}return this},setTooltip:function t(e){this.getAggregation("_text").setTooltip(e);return this},onAfterRendering:function e(s){t.prototype.onAfterRendering.call(this,s);if(this.isDestroyed()){return}const i=this.getAggregation("icon")?.getDomRef();const r=this.getAggregation("_text")?.getDomRef();if(i){r.insertBefore(i,r.firstChild)}n.boldTagUnescaper(r)}});return s})})();
},
	"sap/esh/search/ui/controls/searchfieldgroup/SearchButton.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){sap.ui.define(["../../i18n","sap/esh/search/ui/SearchHelper","sap/m/Button","sap/ui/core/IconPool"],function(t,e,n,r){"use strict";function s(t){return t&&t.__esModule&&typeof t.default!=="undefined"?t.default:t}const o=s(t);const i=n.extend("sap.esh.search.ui.controls.SearchButton",{renderer:{apiVersion:2},constructor:function t(s,i){n.prototype.constructor.call(this,s,i);this.setIcon(r.getIconURI("search"));this.setTooltip(o.getText("search"));this.bindProperty("enabled",{parts:[{path:"/initializingObjSearch"}],formatter:function(t){return!e.isSearchAppActive()||!t}});this.addStyleClass("searchBtn")}});return i})})();
},
	"sap/esh/search/ui/controls/searchfieldgroup/SearchFieldGroup.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){sap.ui.define(["sap/ui/core/InvisibleText","sap/m/Button","sap/m/library","sap/m/Menu","sap/m/MenuItem","sap/m/FlexBox","sap/m/FlexItemData","./SearchInput","./SearchButton","sap/ui/core/Control","./SearchSelect","./SearchSelectQuickSelectDataSource","../../i18n","sap/m/Popover","sap/m/FormattedText"],function(t,e,i,n,s,o,a,l,c,u,r,h,p,g,d){"use strict";function f(t){return t&&t.__esModule&&typeof t.default!=="undefined"?t.default:t}const B=i["ButtonType"];const x=i["PlacementType"];const y=i["FlexAlignItems"];const A=f(l);const v=f(c);const M=f(r);const m=f(h);const S=f(p);const b=u.extend("sap.esh.search.ui.controls.SearchFieldGroup",{renderer:{apiVersion:2,render(t,e){t.openStart("div",e);t.class("SearchFieldGroup");t.openEnd();t.renderControl(e.getAggregation("_topFlexBox"));t.renderControl(e.getAggregation("_flexBox"));t.renderControl(e.getAggregation("_buttonAriaText"));t.close("div")}},metadata:{properties:{selectActive:{defaultValue:true,type:"boolean"},selectQsDsActive:{defaultValue:false,type:"boolean"},inputActive:{defaultValue:true,type:"boolean"},buttonActive:{defaultValue:true,type:"boolean"},nlqExplainButtonActive:{defaultValue:false,type:"boolean"},cancelButtonActive:{defaultValue:true,type:"boolean"},actionsMenuButtonActive:{defaultValue:false,type:"boolean"}},aggregations:{_topFlexBox:{type:"sap.m.FlexBox",multiple:false,visibility:"hidden"},_flexBox:{type:"sap.m.FlexBox",multiple:false,visibility:"hidden"},_buttonAriaText:{type:"sap.ui.core.InvisibleText",multiple:false,visibility:"hidden"}}},constructor:function t(e,i){i=i||{};i.nlqExplainButtonActive="{/isNlqActive}";u.prototype.constructor.call(this,e,i);this.initSelect();this.initSelectQsDs();this.initInput();this.initButton();this.initNlqExplainButton();this.initCancelButton();this.initActionsMenuButton();this.initFlexBox()},setCancelButtonActive:function t(e){if(e===this.getProperty("cancelButtonActive")){return}this.setProperty("cancelButtonActive",e);this.initFlexBox()},setNlqExplainButtonActive:function t(e){if(e===this.getProperty("nlqExplainButtonActive")){return}this.setProperty("nlqExplainButtonActive",e);this.initFlexBox()},setActionsMenuButtonActive:function t(e){if(e===this.getProperty("actionsMenuButtonActive")){return}this.setProperty("actionsMenuButtonActive",e);this.initFlexBox()},setSelectActive:function t(e){if(e===this.getProperty("selectActive")){return}this.setProperty("selectActive",e);this.initFlexBox()},setSelectQsDsActive:function t(e){if(e===this.getProperty("selectQsDsActive")){return}this.setProperty("selectQsDsActive",e);this.initFlexBox()},initFlexBox:function t(){if(!this.select){return}if(!this.selectQsDs){return}const e=[];const i=[];if(this.getProperty("selectActive")){this.select.setLayoutData(new a("",{growFactor:0}));i.push(this.select)}if(this.getProperty("selectQsDsActive")){this.selectQsDs.setLayoutData(new a("",{growFactor:1}));e.push(this.selectQsDs)}if(this.getProperty("inputActive")){this.input.setLayoutData(new a("",{growFactor:1}));i.push(this.input)}if(this.getProperty("buttonActive")){this.button.setLayoutData(new a("",{growFactor:0}));i.push(this.button)}if(this.getProperty("nlqExplainButtonActive")){this.button.setLayoutData(new a("",{growFactor:0}));i.push(this.nlqExplainButton)}if(this.getProperty("cancelButtonActive")){this.cancelButton.setLayoutData(new a("",{growFactor:0}));i.push(this.cancelButton)}if(this.getProperty("actionsMenuButtonActive")){this.actionsMenuButton.setLayoutData(new a("",{growFactor:0}));i.push(this.actionsMenuButton)}if(this.getProperty("selectQsDsActive")){let t=this.getAggregation("_topFlexBox");if(!t){t=new o("",{items:e});this.setAggregation("_topFlexBox",t)}else{t.removeAllAggregation("items");for(const i of e){t.addItem(i)}}}let n=this.getAggregation("_flexBox");if(!n){n=new o("",{alignItems:y.Start,items:i});this.setAggregation("_flexBox",n)}else{n.removeAllAggregation("items");for(const t of i){n.addItem(t)}}},initSelect:function t(){this.select=new M(this.getId()+"-select",{});this.select.attachChange(function(){if(this.getAggregation("input")){const t=this.getAggregation("input");t.destroySuggestionRows()}})},initSelectQsDs:function t(){this.selectQsDs=new m(this.getId()+"-selectQsDs",{});this.selectQsDs.attachChange(function(){if(this.getAggregation("input")){const t=this.getAggregation("input");t.destroySuggestionRows()}})},initInput:function t(){this.input=new A(this.getId()+"-input")},initButton:function e(){this.button=new v(this.getId()+"-button",{tooltip:{parts:[{path:"/searchButtonStatus"}],formatter:t=>S.getText("searchButtonStatus_"+t)},press:t=>{const e=this.button.getModel();if(e.config.isUshell){if(this.input.getValue()===""&&e.getDataSource()===e.getDefaultDataSource()){return}}e.invalidateQuery();this.input.destroySuggestionRows();this.input.triggerSearch()}});const i=new t(this.getId()+"-buttonAriaText",{text:{parts:[{path:"/searchButtonStatus"}],formatter:t=>S.getText("searchButtonStatus_"+t)}});this.setAggregation("_buttonAriaText",i);this.button.addAriaLabelledBy(this.getAggregation("_buttonAriaText"))},initNlqExplainButton:function t(){this.nlqExplainPopover=this.assembleNlqPopover();this.nlqExplainButton=new e(this.getId()+"-nlqExplainButton",{icon:"sap-icon://ai",tooltip:"{i18n>nlqExplainButtonTooltip}",press:()=>{this.nlqExplainPopover.setModel(this.getModel());this.nlqExplainPopover.setModel(this.getModel("i18n"),"i18n");this.nlqExplainPopover.openBy(this.input)},enabled:{parts:[{path:"/nlqResult/success"},{path:"/isBusy"}],formatter:(t,e)=>!!t&&!e}});this.nlqExplainButton.addStyleClass("sapUshellSearchNlqExplainButton")},assembleNlqPopover:function t(){const e=new d({htmlText:{parts:[{path:"/nlqResult/filterDescription"}],formatter:t=>{if(!t){return S.getText("nlqNoFilter")}return t}}});e.addStyleClass("sapUiSmallMargin");const i=new g({title:"{i18n>nlqPopoverTitle}",content:[e],placement:x.Bottom});i.addStyleClass("sapUshellSearchNlqExplainPopover");this.input.attachBrowserEvent("focusin",()=>{i.close();this.input.focus()});return i},initCancelButton:function t(){this.cancelButton=new e(this.getId()+"-buttonCancel",{text:"{i18n>cancelBtn}"});this.cancelButton.addStyleClass("sapUshellSearchCancelButton")},initActionsMenuButton:function t(){const i=this.getId();this.actionsMenuButton=new e(i+"-actionsMenuButton",{icon:"sap-icon://overflow",type:B.Emphasized,press:()=>{if(!this.actionsMenu){const t=[];const e=new s(i+"-menuItemSort",{text:"{i18n>actionsMenuSort}",icon:"sap-icon://sort",press:()=>{const t=this.getModel();const e=t.getSearchCompositeControlInstanceByChildControl(this.actionsMenuButton);if(e){e.openSortDialog()}else{}}});t.push(e);const o=new s((this.getId()?this.getId()+"-":"")+"menuItemFilter",{text:"{i18n>actionsMenuFilter}",icon:"sap-icon://filter",press:()=>{const t=this.getModel();const e=t.getSearchCompositeControlInstanceByChildControl(this.actionsMenuButton);if(e){e.openShowMoreDialog()}else{}}});t.push(o);this.actionsMenu=new n({items:t});this.actionsMenu.setModel(this.getModel("i18n"),"i18n")}this.actionsMenu.openBy(this.actionsMenuButton,true)},visible:{parts:[{path:"/uiFilter/dataSource"}],formatter:t=>t?.type===t?.sina?.DataSourceType.BusinessObject}});this.actionsMenuButton.addStyleClass("sapUiTinyMarginBegin")},setModel:function t(e,i){u.prototype.setModel.call(this,e,i);this.select.setModel(e,i);this.input.setModel(e,i);this.button.setModel(e,i);this.cancelButton.setModel(e,i);this.nlqExplainButton.setModel(e,i);this.actionsMenuButton.setModel(e,i);this.getAggregation("_buttonAriaText").setModel(e,i);return this},destroy:function t(){u.prototype.destroy.call(this);if(this.select){this.select.destroy()}if(this.selectQsDs){this.selectQsDs.destroy()}if(this.cancelButton){this.cancelButton.destroy()}if(this.nlqExplainButton){this.nlqExplainButton.destroy()}if(this.nlqExplainPopover){this.nlqExplainPopover.destroy()}if(this.actionsMenuButton){this.actionsMenuButton.destroy()}if(this.actionsMenu){this.actionsMenu.destroy()}}});return b})})();
},
	"sap/esh/search/ui/controls/searchfieldgroup/SearchInput.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){sap.ui.define(["../../i18n","sap/m/Input","sap/m/Label","sap/m/Text","sap/m/library","sap/m/Column","sap/m/ColumnListItem","sap/m/CustomListItem","sap/m/FlexItemData","sap/m/BusyIndicator","sap/m/FlexBox","sap/ui/core/Icon","sap/ui/layout/HorizontalLayout","sap/ui/layout/VerticalLayout","sap/ui/model/BindingMode","../../SearchHelper","../../suggestions/SuggestionType","../../SearchShellHelperHorizonTheme","../../eventlogging/UserEvents","../../UIEvents","sap/ui/Device","./SearchObjectSuggestionImage","sap/ui/core/Element","sap/ui/core/EventBus","../../error/errors","sap/base/Log","sap/m/Link"],function(e,t,s,i,a,n,o,r,c,l,g,h,u,d,p,S,f,m,y,b,T,I,v,C,w,L,x){"use strict";function R(e){return e&&e.__esModule&&typeof e.default!=="undefined"?e.default:e}const A=R(e);const D=a["FlexAlignItems"];const U=a["FlexDirection"];const O=a["FlexJustifyContent"];const F=a["ListType"];const M=R(f);const B=f["Type"];const H=f["isSearchSuggestion"];const E=R(m);const V=y["UserEventType"];const j=R(b);const N=R(I);const k=w["SearchTermExceedsLimitsError"];const P=t.extend("sap.esh.search.ui.controls.SearchInput",{renderer:{apiVersion:2},constructor:function e(s,i){this.logger=L.getLogger("sap.esh.search.ui.SearchInput");const a=T.system.phone;try{T.system.phone=false;t.prototype.constructor.call(this,s,i)}finally{T.system.phone=a}this.decorateHandleListNavigation();this.setStartSuggestion(0);this.setWidth("100%");this.setShowValueStateMessage(false);this.setShowTableSuggestionValueHelp(false);this.setEnableSuggestionsHighlighting(false);this.setShowSuggestion(true);this.setFilterSuggests(false);this.addSuggestionColumn(new n(""));this.attachSuggestionItemSelected(this.handleSuggestionItemSelected.bind(this));this.setAutocomplete(false);this.setTooltip(A.getText("search"));this.bindProperty("placeholder",{path:"/searchTermPlaceholder",mode:p.OneWay});this.attachLiveChange(this.handleLiveChange.bind(this));this.bindProperty("enabled",{parts:[{path:"/initializingObjSearch"}],formatter:e=>!e});this.bindAggregation("suggestionRows",{path:"/suggestions",factory:(e,t)=>this.suggestionItemFactory(e,t)});this.addStyleClass("searchInput");this._bUseDialog=false;this._bFullScreen=false;this.listNavigationMode=false},isMobileDevice:function e(){return false},onfocusin:function e(s){t.prototype.onfocusin.call(this,s);const i=this.getModel();if(i.getSearchBoxTerm().length===0&&(i.config.bRecentSearches||i.config.aiSuggestions)){i.doSuggestion()}},onsapenter:function e(...s){if(!(this["_oSuggestionPopup"]?.isOpen()&&this["_oSuggPopover"].getFocusedListItem())){this.getModel().invalidateQuery();this.triggerSearch()}t.prototype.onsapenter.apply(this,s)},triggerSearch:function e(){const t=this.getModel().getProperty("/messagePopoverControlId");const s=v.getElementById(t);if(this.getModel().getProperty("/errors").length>0&&s?.isOpen()){s.close();s.setVisible(false)}S.subscribeOnlyOnce("triggerSearch",j.ESHSearchFinished,function(){this.getModel().autoStartApp()},this);const i=this.getModel();let a=this.getValue();if(a.trim()===""&&i.config.isUshell){a="*"}a=this.shortenSearchTermByConfigLimit(a);i.setSearchBoxTerm(a,false);let n=true;for(const e of i.searchTermHandlers){const t=e.handleSearchTerm(a,this);if(t.navigateToSearchApp===false){n=false}}if(n){this.navigateToSearchApp()}this.destroySuggestionRows();i.abortSuggestions()},decorateHandleListNavigation:function e(){const t=this["_oSuggPopover"];if(t&&t.handleListNavigation&&!t.handleListNavigation.decorated){const e=t.handleListNavigation;t.handleListNavigation=(...s)=>{this.listNavigationMode=true;e.apply(t,s);this.listNavigationMode=false};t.handleListNavigation.decorated=true}},handleLiveChange:function e(){let t=this.getValue();t=this.shortenSearchTermByConfigLimit(t);const s=this.getModel();s.setSearchBoxTerm(t,false);if(s.getSearchBoxTerm().length>0||s.config.bRecentSearches){s.doSuggestion()}else{this.destroySuggestionRows();s.abortSuggestions();$(this.getDomRef()).find("input").attr("aria-expanded","false")}},shortenSearchTermByConfigLimit:function e(t){const s=this.getModel();const i=s.config.searchTermLengthLimit;if(i<0){return t}if(t.length>i){s.errorHandler.onError(new k(i));t=t.slice(0,i);this.setValue(t)}return t},handleSuggestionItemSelected:function e(t){const s=this.getModel();const i=s.getSearchBoxTerm();const a=t.getParameter("selectedRow").getBindingContext().getObject();const n=a.searchTerm||"";const o=a.dataSource||s.getDataSource();let r=a.url;const c=a.uiSuggestionType;if(c===M.Header||c===M.BusyIndicator){this.destroySuggestionRows();this.setValue("");return}s.eventLogger.logEvent({type:V.SUGGESTION_SELECT,suggestionType:c,suggestionTerm:n,searchTerm:i,targetUrl:r,dataSourceKey:o?o.id:""});if(s.config.bRecentSearches&&s.recentlyUsedStorage&&c===M.Object){s.recentlyUsedStorage.addItem(a)}this.selectText(0,0);switch(c){case M.Search:{if(H(a)){a.titleNavigation.performNavigation()}break}case M.Transaction:case M.App:this.destroySuggestionRows();s.abortSuggestions();if(r[0]==="#"){if(r.indexOf("#Action-search")===0&&(r===S.getHashFromUrl()||r===decodeURIComponent(S.getHashFromUrl()))){s.setSearchBoxTerm(s.getLastSearchTerm(),false);s.notifySubscribers(j.ESHSearchFinished);C.getInstance().publish(j.ESHSearchFinished);return}if(window["hasher"]){if(r[1]===window.hasher.prependHash){r=r.slice(0,1)+r.slice(2)}window["hasher"].setHash(r)}else{window.location.href=r}}else{this.logRecentActivity(a);window.open(r,"_blank","noopener,noreferrer");s.setSearchBoxTerm("",false);this.setValue("")}if(s.config.isUshell&&r.indexOf("#Action-search")!==0){if(!E.isSearchFieldExpandedByDefault()){sap.ui.require("sap/esh/search/ui/SearchShellHelper").collapseSearch()}}else{this.focus()}break;case M.DataSource:s.setDataSource(o,false);s.setSearchBoxTerm("",false);this.setValue("");this.focus();break;case M.SearchTermData:case M.SearchTermAI:s.setDataSource(o,false);s.setSearchBoxTerm(n,false);s.invalidateQuery();this.navigateToSearchApp();this.setValue(n);break;case M.SearchTermHistory:s.setDataSource(o,false);s.setSearchBoxTerm(n,false);s.invalidateQuery();this.navigateToSearchApp();this.setValue(n);break;case M.Object:{const e=a;if(e.titleNavigation){e.titleNavigation.performNavigation()}break}default:break}},logRecentActivity:function e(t){sap.ui.require(["sap/ushell/Config","sap/ushell/services/AppType"],function(e,s){const i=e.last("/core/shell/enableRecentActivity")&&e.last("/core/shell/enableRecentActivityLogging");if(i){const e={title:t.title,appType:s.URL,url:t.url,appId:t.url};window.sap.ushell.Container.getRenderer("fiori2").logRecentActivity(e)}})},suggestionItemFactory:function e(t,s){$(this.getDomRef()).find("input").attr("aria-expanded","true");const i=s.getObject();switch(i.uiSuggestionType){case M.Object:return this.objectSuggestionItemFactory(t,s);case M.Header:return this.headerSuggestionItemFactory(t,s);case M.BusyIndicator:return this.busyIndicatorSuggestionItemFactory();default:return this.regularSuggestionItemFactory(t,s)}},busyIndicatorSuggestionItemFactory:function e(){const t=new d("",{content:[new l("",{size:"0.6rem"})]});t["getText"]=()=>this.getValue();const s=new o("",{cells:[t],type:F.Inactive});s.addStyleClass("searchSuggestion");s.addStyleClass("searchBusyIndicatorSuggestion");s.getVisible=this.assembleListNavigationModeGetVisibleFunction();return s},headerSuggestionItemFactory:function e(t,i){const a=i.getObject();const n=[];const r=[];if(a.uiSuggestionTypeOfSuggestionsInSection===B.SearchTermAI){const e=new h({src:"sap-icon://ai"});e.addStyleClass("sapUiTinyMarginEnd");r.push(e)}const c=new s("",{text:{path:"label"}});r.push(c);const l=new g("",{direction:U.Row,justifyContent:O.Start,items:r});n.push(l);if(a.helpLink){const e=new x({text:A.getText("searchTermAILernMoreLink"),target:"_blank",href:a.helpLink});n.push(e)}const u=new g("",{direction:U.Row,justifyContent:O.SpaceBetween,items:n});u["getText"]=()=>a.label;const d=new o("",{cells:[u],type:F.Inactive});d.addStyleClass("searchSuggestion");d.addStyleClass("searchHeaderSuggestion");d.getVisible=this.assembleListNavigationModeGetVisibleFunction();return d},assembleListNavigationModeGetVisibleFunction:function e(){return()=>{if(!this.listNavigationMode){return true}return false}},assembleObjectSuggestionLabels:function e(t){const i=[];const a=new s("",{text:{path:"label1"}});a.addEventDelegate({onAfterRendering:()=>{S.boldTagUnescaper(a.getDomRef())}},a);a.addStyleClass("sapUshellSearchObjectSuggestion-Label1");i.push(a);if(t.label2){const e=new s("",{text:{path:"label2"}});e.addEventDelegate({onAfterRendering:()=>{S.boldTagUnescaper(e.getDomRef())}},e);e.addStyleClass("sapUshellSearchObjectSuggestion-Label2");i.push(e)}const n=new d("",{content:i});n.addStyleClass("sapUshellSearchObjectSuggestion-Labels");return n},objectSuggestionItemFactory:function e(t,s){const i=s.getObject();const a=[];if(i.imageExists&&i.imageUrl){if(i.imageUrl.startsWith("sap-icon://")){a.push(new h("",{src:i.imageUrl}).addStyleClass("sapUshellSearchObjectSuggestIcon"))}else{a.push(new N("",{src:{path:"imageUrl"},isCircular:{path:"imageIsCircular"}}))}}const n=this.assembleObjectSuggestionLabels(i);a.push(n);const r=new u("",{content:a});r.addStyleClass("sapUshellSearchObjectSuggestion-Container");r["getText"]=()=>this.getValue();const c=new o("",{cells:[r],type:F.Active});c.addStyleClass("searchSuggestion");c.addStyleClass("searchObjectSuggestion");return c},regularSuggestionItemFactory:function e(t,s){const a=new h("",{src:{path:"icon"}}).addStyleClass("suggestIcon").addStyleClass("sapUshellSearchSuggestAppIcon").addStyleClass("suggestListItemCell");const n=new h("",{src:{path:"filterIcon"}}).addStyleClass("suggestIcon").addStyleClass("sapUshellSearchSuggestFilterIcon").addStyleClass("suggestListItemCell");const l=new c("",{shrinkFactor:1,minWidth:"4rem"});const u=new i("",{text:{path:"label"},layoutData:l,wrapping:false}).addStyleClass("suggestText").addStyleClass("suggestNavItem").addStyleClass("suggestListItemCell");const d=s.getModel().getProperty(s.getPath());u.addEventDelegate({onAfterRendering:()=>{const e=u.getDomRef();const t=e.innerHTML;const s=t.lastIndexOf("&lt;/span&gt;")>0;if(d.uiSuggestionType===M.Search&&s){const s=t.slice(t.indexOf("&lt;span&gt;")+12,t.lastIndexOf("&lt;/span&gt;"));const i=t.slice(t.lastIndexOf("&lt;/span&gt;")+13);const a=S.boldTagUnescaperForStrings(i);e.innerHTML="<span>"+s+"</span>"+a}else{S.boldTagUnescaper(u.getDomRef())}}},u);const p=[a,u];if(d.filterIcon){p.push(n)}const f=new r("",{type:F.Active,content:new g("",{items:p,alignItems:D.Center})});f.addStyleClass("searchSuggestionCustomListItem");f["getText"]=()=>typeof d.searchTerm==="string"?d.searchTerm:this.getValue();const m=new o("",{cells:[f],type:F.Active});f.addStyleClass("searchSuggestionColumnListItem");if(d.uiSuggestionType===M.App){if(d.title&&d.title.indexOf("combinedAppSuggestion")>=0){m.addStyleClass("searchCombinedAppSuggestion")}else{m.addStyleClass("searchAppSuggestion")}}if(d.uiSuggestionType===M.DataSource){m.addStyleClass("searchDataSourceSuggestion")}if(d.uiSuggestionType===M.SearchTermData){m.addStyleClass("searchBOSuggestion")}if(d.uiSuggestionType===M.SearchTermHistory){m.addStyleClass("searchHistorySuggestion")}if(d.uiSuggestionType===M.Search){m.addStyleClass("searchRecentSuggestion")}m.addStyleClass("searchSuggestion");return m},navigateToSearchApp:function e(){const t=this.getModel();if(S.isSearchAppActive()||!t.config.isUshell){t.fireSearchQuery()}else{t.resetSearchResultItemMemory();const e=t.createSearchNavigationTargetCurrentState({updateUrl:true}).targetUrl;window.location.hash=e}},onAfterRendering:function e(s){t.prototype.onAfterRendering.call(this,s);$(this.getDomRef()).find("input").attr("autocomplete","off");$(this.getDomRef()).find("input").attr("autocorrect","off");$(this.getDomRef()).find("input").attr("type","search");$(this.getDomRef()).find("input").attr("name","search");const i=jQuery('<form action=""></form>').on("submit",function(){return false});$(this.getDomRef()).children("input").parent().append(i);$(this.getDomRef()).children("input").detach().appendTo(i);$(this.getDomRef()).find("input").attr("aria-role","combobox");$(this.getDomRef()).find("input").attr("aria-autocomplete","list");$(this.getDomRef()).find("input").attr("aria-expanded","false");$(this.getDomRef()).find("input").attr("aria-controls",this.getId()+"-popup")},onValueRevertedByEscape:function e(){if(S.isSearchAppActive()){return}this.setValue(" ")},onsapescape:function e(s){$(this.getDomRef()).find("input").attr("aria-expanded","false");t.prototype.onsapescape.call(this,s)}});return P})})();
},
	"sap/esh/search/ui/controls/searchfieldgroup/SearchObjectSuggestionImage.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){sap.ui.define(["sap/m/Image"],function(e){"use strict";const a=e.extend("sap.esh.search.ui.controls.SearchObjectSuggestionImage",{renderer:{apiVersion:2},metadata:{properties:{isCircular:{type:"boolean",multiple:false}}},constructor:function a(s,r){e.prototype.constructor.call(this,s,r);this.attachBrowserEvent("load",function(){this.wrapImage()}.bind(this));this.attachBrowserEvent("error",function(){this.wrapImage(true)}.bind(this));this.addStyleClass("sapUshellSearchObjectSuggestionImage-Initial")},wrapImage:function e(a){const s=this.getDomRef();if(jQuery(s.parentNode).hasClass("sapUshellSearchObjectSuggestionImage-Wrapper-Portrait")||jQuery(s.parentNode).hasClass("sapUshellSearchObjectSuggestionImage-Wrapper-Landscape")){this.adaptContainer(a)}else{this.createContainer(a)}},createContainer:function e(a){const s=document.createElement("div");const r=this.getDomRef();jQuery(s).addClass("sapUshellSearchObjectSuggestionImage-Wrapper");if(r.offsetHeight>r.offsetWidth){jQuery(s).addClass("sapUshellSearchObjectSuggestionImage-Wrapper-Portrait")}else{jQuery(s).addClass("sapUshellSearchObjectSuggestionImage-Wrapper-Landscape")}if(this.getProperty("isCircular")){s.style.borderRadius="50%"}r.parentNode.insertBefore(s,r);r.parentNode.removeChild(r);s.appendChild(r);jQuery(r).removeClass("sapUshellSearchObjectSuggestionImage-Initial");if(a){jQuery(s).addClass("sapUshellSearchObjectSuggestionImage-Wrapper-Error")}},adaptContainer:function e(a){const s=this.getDomRef();const r=s.parentNode;if(s.offsetHeight>s.offsetWidth){jQuery(r).addClass("sapUshellSearchObjectSuggestionImage-Wrapper-Portrait");jQuery(r).removeClass("sapUshellSearchObjectSuggestionImage-Wrapper-Landscape")}else{jQuery(r).addClass("sapUshellSearchObjectSuggestionImage-Wrapper-Landscape");jQuery(r).removeClass("sapUshellSearchObjectSuggestionImage-Wrapper-Protrait")}if(a){jQuery(r).addClass("sapUshellSearchObjectSuggestionImage-Wrapper-Error")}else{jQuery(r).removeClass("sapUshellSearchObjectSuggestionImage-Wrapper-Error")}}});return a})})();
},
	"sap/esh/search/ui/controls/searchfieldgroup/SearchSelect.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){sap.ui.define(["../../i18n","sap/m/Select","sap/m/library","sap/ui/core/Item","sap/ui/model/BindingMode","../../eventlogging/UserEvents"],function(e,t,s,a,i,n){"use strict";function r(e){return e&&e.__esModule&&typeof e.default!=="undefined"?e.default:e}const o=r(e);const c=s["SelectType"];const l=n["UserEventType"];const d=t.extend("sap.esh.search.ui.controls.SearchSelect",{renderer:{apiVersion:2},constructor:function e(s,n){t.prototype.constructor.call(this,s,n);this.bindProperty("visible",{path:"/businessObjSearchEnabled"});this.setAutoAdjustWidth(true);this.bindItems({path:"/dataSources",template:new a("",{key:"{id}",text:"{labelPlural}"})});this.bindProperty("selectedKey",{path:"/uiFilter/dataSource/id",mode:i.OneWay});this.bindProperty("tooltip",{parts:[{path:"/uiFilter/dataSource/labelPlural"}],formatter:e=>o.getText("searchInPlaceholder",[e])});this.attachChange(()=>{const e=this.getSelectedItem();const t=e.getBindingContext();const s=t.getObject();const a=this.getModel();a.setDataSource(s,false);a.abortSuggestions();a.eventLogger.logEvent({type:l.DROPDOWN_SELECT_DS,dataSourceKey:s.id})});this.bindProperty("enabled",{parts:[{path:"/initializingObjSearch"}],formatter:e=>!e});this.addStyleClass("searchSelect")},setDisplayMode:function e(t){switch(t){case"icon":this.setType(c.IconOnly);this.setIcon("sap-icon://slim-arrow-down");break;case"default":this.setType(c.Default);break;default:break}}});return d})})();
},
	"sap/esh/search/ui/controls/searchfieldgroup/SearchSelectQuickSelectDataSource.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){sap.ui.define(["sap/m/Select","sap/ui/core/Item","sap/ui/core/Element"],function(e,t,a){"use strict";const c=e.extend("sap.esh.search.ui.controls.SearchSelectQuickSelectDataSource",{renderer:{apiVersion:2},constructor:function a(c,r){e.prototype.constructor.call(this,c,r);this.attachChange(e=>{const t=e.getParameter("selectedItem");const a=t.getBindingContext().getObject();this.handleSelectDataSource(a)});this.bindItems({path:"/config/quickSelectDataSources",template:new t("",{key:"{id}",text:"{labelPlural}"})});this.bindProperty("maxWidth",{parts:[{path:"/config/optimizeForValueHelp"}],formatter:e=>{if(e){this.addStyleClass("sapElisaSearchSelectQuickSelectDataSourceValueHelp")}return"100%"}});this.bindProperty("visible",{parts:[{path:"/config/optimizeForValueHelp"},{path:"/config/quickSelectDataSources"},{path:"/config/quickSelectDataSources/length"},{path:"/count"}],formatter:(e,t,a,c)=>{if(e){this.addStyleClass("sapElisaSearchSelectQuickSelectDataSourceValueHelp")}return t?.length>0}})},handleSelectDataSource:function e(t){const c=this.getModel();if(c.config.bResetSearchTermOnQuickSelectDataSourceItemPress){c.setSearchBoxTerm("",false)}if(typeof c.config.cleanUpSpaceFilters==="function"){c.config.cleanUpSpaceFilters(c)}c.setDataSource(t,false);const r=window.document.querySelectorAll('[id$="-searchInputHelpPageSearchFieldGroup-button"]');r.forEach(e=>{if(e.id===this.getId().replace("-searchInputHelpPageSearchFieldGroup-selectQsDs","-searchInputHelpPageSearchFieldGroup-button")){const t=a.getElementById(e.id);t["firePress"]()}})}});return c})})();
},
	"sap/esh/search/ui/error/ErrorHandler.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){sap.ui.define(["sap/base/Log","sap/m/MessageBox","sap/ui/core/library","sap/ui/core/message/MessageType","../i18n","./errors","../sinaNexTS/core/errors"],function(r,e,t,o,s,n,a){"use strict";function i(r){return r&&r.__esModule&&typeof r.default!=="undefined"?r.default:r}const c=t["TextDirection"];const l=i(s);const h=n["ESHUIError"];const d=a["DataSourceAttributeMetadataNotFoundError"];const E=a["ServerError"];const u=a["ServerErrorCode"];const f=a["SinaError"];class g{label;searchModel;static instance;externalOnErrorHandler;_oLogger=(()=>r.getLogger("sap.esh.search.ui.error.ErrorHandler"))();static getInstance(r){if(!g.instance){g.instance=new g(r)}return g.instance}constructor(r){this.label=r?.label;this.searchModel=r?.model;this.externalOnErrorHandler=r?.onErrorHandler}onError(r,e){if(typeof this.externalOnErrorHandler==="function"){try{this.externalOnErrorHandler(r,e)}catch(r){this.handleError(r,e)}}else{this.handleError(r,e)}}onErrorDeferred(r,e){this.onError(r,e);return Promise.resolve(true)}handleError(r,e){this.logError(r);this.showError(r,e)}setSearchModel(r){this.searchModel=r}setExternalOnErrorHandler(r){this.externalOnErrorHandler=r}getErrorTextGeneric(r){let e=r.name;e+=" "+r;if(typeof r.stack!=="undefined"){e="\n"+r.stack}if(r.previous instanceof Error){e+=`\n--\x3e Previous error was: ${this.getErrorText(r.previous)}`}return e}getErrorTextEsh(r){let e=r.name;if(r instanceof E){e+=" code:"+r.code}e+=" "+r.message;if(r?.details){e+="\n"+r.details}if(r?.solution){e+="\n"+r.solution}if(typeof r.stack!=="undefined"){e+="\n"+r.stack}if(r.previous instanceof Error){e+=`\n--\x3e Previous error was: ${this.getErrorText(r.previous)}`}return e}getErrorText(r){if(r instanceof f||r instanceof h){return this.getErrorTextEsh(r)}else{return this.getErrorTextGeneric(r)}}logError(r){let e=this.label?this.label+": ":"";e+=this.getErrorText(r)+"\n";if(this.searchModel&&this.searchModel.sinaNext){e+=this.searchModel.sinaNext.getDebugInfo()+"\n"}this._oLogger.error(e,"ErrorHandler")}convertErrorToMessage(r,e){if(r instanceof h||r instanceof f){return this.convertErrorToMessageEsh(r,e)}else{return this.convertErrorToMessageGeneric(r)}}convertErrorToMessageGeneric(r){let e,t;switch(r.name){case"TypeError":e=l.getText("error.TypeError.message");t=l.getText("error.TypeError.solution");break;case"URIError":e=l.getText("searchError");t=l.getText("error.URIError.solution");break;default:e=""+r;t=""}return{title:e,description:t,type:o.Error}}convertErrorToMessageEsh(r,e){if(r instanceof E&&r.code===u.E300||r instanceof d){this.showReloadPopup();return null}let t=o.Error;if(e?.showMinorErrorsAsWarnings){switch(r.name){case"ServerError":switch(r.code){case u.E100:t=o.Warning;break;case u.E400:t=o.Warning;break}}}const s=r.message||l.getText("searchError");const n=[];if(r.details){n.push(r.details)}if(r.solution){n.push(r.solution)}let a="";if(r.name==="ServerError"){a=" "+r.code}n.push("("+r.name+a+")");return{title:s,description:n.join("\n"),type:t}}showReloadPopup(){e.confirm(l.getText("searchModelChanged"),{onClose:r=>{if(r==="OK"){if(this.searchModel){this.searchModel.resetDataSource(false);this.searchModel.resetAllFilterConditions(false);const r=this.searchModel.createSearchNavigationTargetCurrentState();window.location.href=r.targetUrl}window.location.reload()}}})}showMessageBox(r){const t=r.title+"\n"+r.description;const s={onClose:null,styleClass:"",initialFocus:null,textDirection:c.Inherit};switch(r.type){case o.Information:e.information(t,s);break;case o.Warning:e.warning(t,s);break;case o.Error:e.error(t,s);break;default:e.error(t,s);break}}showError(r,e){const t=this.convertErrorToMessage(r,e);if(!t){return}if(this.searchModel){this.searchModel.pushUIMessage(t)}else{this.showMessageBox(t)}}}return g})})();
},
	"sap/esh/search/ui/error/errors.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){
/*!
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.define(["../i18n"],function(e){"use strict";function r(e){return e&&e.__esModule&&typeof e.default!=="undefined"?e.default:e}const s=r(e);class o extends Error{name;message;details;previous;solution;constructor(e){if(typeof e==="string"){e={message:e}}super(e.message);if(e.message){this.message=e.message}if(e.details){this.details=e.details}if(e.previous){this.previous=e.previous}this.name=e.name||"ESHUIError";this.solution=e.solution}}class t extends o{constructor(e){const r="ESHUIConstructionError";const o=s.getText("error.ESHUIConstructionError.message");super({name:r,message:o,previous:e})}}class n extends o{constructor(e,r,o){const t=s.getText("error.ConfigurationExitError.title");const n=s.getText("error.ConfigurationExitError.message",[e]);const a=s.getText("error.ConfigurationExitError.solution",[r]);super({name:t,message:n,solution:a,previous:o})}}class a extends o{constructor(e){const r="UnknownDataSourceType";const o=s.getText("error.UnknownDataSourceType.message");const t=s.getText("error.UnknownDataSourceType.solution");super({name:r,message:o,solution:t,previous:e})}}class c extends o{constructor(e){const r="UnknownFacetType";const o=s.getText("error.UnknownFacetType.message");const t=s.getText("error.UnknownFacetType.solution");super({name:r,message:o,solution:t,previous:e})}}class i extends o{constructor(e,r){const o="ProgramError";const t=s.getText("error.TypeError.solution");super({name:o,message:r||s.getText("error.TypeError.message"),solution:t,previous:e})}}class u extends o{constructor(e,r){const o="AppSearchError";const t=s.getText("error.AppSearchError.solution");super({name:o,message:r||s.getText("error.AppSearchError.message"),solution:t,previous:e})}}class g extends o{constructor(e){const r="AppSearchSearchTermExceedsLimitsError";super({name:r,message:s.getText("error.AppSearchSearchTermExceedsLimitsError.message",[e])})}}class m extends o{constructor(e,r){const o="RequestTooLargeError";const t=s.getText("error.RequestTooLargeError.solution");super({name:o,message:r||s.getText("error.RequestTooLargeError.message"),solution:t,previous:e})}}class p extends o{constructor(e,r){super({name:"UrlParseError",message:r||s.getText("error.UrlParseError.message"),solution:s.getText("error.UrlParseError.solution"),previous:e})}}class E extends o{constructor(e){super({name:"SearchTermExceedsLimitError",message:s.getText("error.SearchTermExceedsLimitError.message",[e])})}}const l={ESHUIConstructionError:t,ConfigurationExitError:n,UnknownDataSourceType:a,UnknownFacetType:c,ProgramError:i};l.ESHUIError=o;l.AppSearchError=u;l.AppSearchSearchTermExceedsLimitsError=g;l.RequestTooLargeError=m;l.UrlParseError=p;l.SearchTermExceedsLimitsError=E;return l})})();
},
	"sap/esh/search/ui/eventlogging/EventConsumer.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){
/*!
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.define([],function(){"use strict";class n{}return n})})();
},
	"sap/esh/search/ui/eventlogging/EventLogger.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){
/*!
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.define(["sap/base/Log","sap/esh/search/ui/eventlogging/UsageAnalyticsConsumerSina","sap/esh/search/ui/flp/UsageAnalyticsConsumerFlp"],function(e,s,t){"use strict";class n{consumers=[];searchModel;sinaNext;log=(()=>e.getLogger("sap.esh.search.ui.eventlogging.EventLogger"))();static eventNumber=0;static sessionId=(()=>(new Date).getTime().toString())();constructor(e){this.searchModel=e.searchModel;this.sinaNext=e.sinaNext;for(const s of e.eventConsumers){this.addConsumer(s)}}async initAsync(){try{if(this.searchModel.config.isUshell){const e=new t;await e.initAsync();this.addConsumer(e)}}catch(e){this.log.debug("Couldn't initialize flp user event consumer",e)}try{const e=new s(this.sinaNext);await e.initAsync();this.addConsumer(e)}catch(e){this.log.debug("Couldn't initialize sina user event consumer",e)}}addConsumer(e){this.consumers.push(e);this.log.debug(`[${e.label}] Event consumer added`)}setConsumers(e){for(const s of e){this.addConsumer(s)}}logEvent(e){e.sessionId=n.sessionId;e.timeStamp=e.timeStamp??(new Date).getTime().toString();e.eventNumber=n.eventNumber++;for(let s=0;s<this.consumers.length;++s){const t=this.consumers[s];try{t.logEvent(e);this.log.debug(`[${t.label}] Logged user event ${e.type}`)}catch(s){this.log.debug(`[${t.label}] Error while logging user event ${e.type}`,s.stack||s)}}}}return n})})();
},
	"sap/esh/search/ui/eventlogging/UsageAnalyticsConsumerSina.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){
/*!
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.define(["sap/base/Log","./EventConsumer"],function(e,s){"use strict";function n(e){return e&&e.__esModule&&typeof e.default!=="undefined"?e.default:e}const i=n(s);class t extends i{label="sina";isLoggingEnabled=false;log=(()=>e.getLogger("sap.esh.search.ui.eventlogging.UsageAnalyticsConsumerSina"))();constructor(e){super();this.sinaNext=e}async initAsync(){const e=await this.sinaNext.getConfigurationAsync();if(e.personalizedSearch){this.isLoggingEnabled=true;this.log.debug("sina usage analytics consumer is enabled")}else{this.log.debug("sina usage analytics consumer is disabled")}}logEvent(e){if(this.isLoggingEnabled){this.sinaNext.logUserEvent(e);this.log.debug(`[${this.label}] Logged user event ${e.type}`)}}}return t})})();
},
	"sap/esh/search/ui/eventlogging/UserEvents.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){sap.ui.define([],function(){"use strict";var E=function(E){E["SUGGESTION_SELECT"]="SUGGESTION_SELECT";E["SEARCH_REQUEST"]="SEARCH_REQUEST";E["SUGGESTION_REQUEST"]="SUGGESTION_REQUEST";E["TILE_NAVIGATE"]="TILE_NAVIGATE";E["SHOW_MORE"]="SHOW_MORE";E["BROWSER_CLOSE"]="BROWSER_CLOSE";E["LEAVE_PAGE"]="LEAVE_PAGE";E["SESSION_START"]="SESSION_START";E["HASH_CHANGE"]="HASH_CHANGE";E["ITEM_NAVIGATE"]="ITEM_NAVIGATE";E["RESULT_LIST_ITEM_NAVIGATE"]="RESULT_LIST_ITEM_NAVIGATE";E["RESULT_LIST_ITEM_NAVIGATE_CONTEXT"]="RESULT_LIST_ITEM_NAVIGATE_CONTEXT";E["RESULT_LIST_ITEM_ATTRIBUTE_NAVIGATE"]="RESULT_LIST_ITEM_ATTRIBUTE_NAVIGATE";E["OBJECT_SUGGESTION_NAVIGATE"]="OBJECT_SUGGESTION_NAVIGATE";E["DROPDOWN_SELECT_DS"]="DROPDOWN_SELECT_DS";E["DATASOURCE_CHANGE"]="DATASOURCE_CHANGE";E["FACET_FILTER_ADD"]="FACET_FILTER_ADD";E["FACET_FILTER_DEL"]="FACET_FILTER_DEL";E["ITEM_SHOW_DETAILS"]="ITEM_SHOW_DETAILS";E["ITEM_HIDE_DETAILS"]="ITEM_HIDE_DETAILS";E["CLEAR_ALL_FILTERS"]="CLEAR_ALL_FILTERS";E["FACET_SHOW_MORE"]="FACET_SHOW_MORE";E["FACET_SHOW_MORE_CLOSE"]="FACET_SHOW_MORE_CLOSE";E["QUICK_SELECT_SWITCH"]="QUICK_SELECT_SWITCH";E["RESULT_VIEW_SWITCH"]="RESULT_VIEW_SWITCH";E["SEARCH_WITH_FILTERS"]="SEARCH_WITH_FILTERS";E["SEARCH_WITH_SEARCHTERM"]="SEARCH_WITH_SEARCHTERM";E["SEARCH_WITH_SEARCHTERM_FILTERS"]="SEARCH_WITH_SEARCHTERM_FILTERS";E["SEARCH_WITHOUT_SEARCHTERM_FILTERS"]="SEARCH_WITHOUT_SEARCHTERM_FILTERS";E["STATIC_FACET_SELECT"]="STATIC_FACET_SELECT";E["BREADCRUMB_LINK_PRESS"]="BREADCRUMB_LINK_PRESS";E["TABLE_CONFIG_OPEN"]="TABLE_CONFIG_OPEN";return E}(E||{});var T={__esModule:true};T.UserEventType=E;return T})})();
},
	"sap/esh/search/ui/flp/BackendSystem.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){
/*!
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.define([],function(){"use strict";class t{static getSystem(t){return t.getProperty("/dataSources")[3]?.system}}return t})})();
},
	"sap/esh/search/ui/flp/FrontendSystem.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){
/*!
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.define(["../sinaNexTS/sina/System"],function(e){"use strict";const n=e["System"];class t{static fioriFrontendSystemInfo;static getSystem(){if(typeof t.fioriFrontendSystemInfo==="undefined"&&typeof window!=="undefined"&&window.sap&&window.sap.ushell&&window.sap.ushell.Container){t.fioriFrontendSystemInfo=new n({id:window.sap.ushell.Container.getLogonSystem().getName()+"."+window.sap.ushell.Container.getLogonSystem().getClient(),label:window.sap.ushell.Container.getLogonSystem().getName()+" "+window.sap.ushell.Container.getLogonSystem().getClient()})}return t.fioriFrontendSystemInfo}}return t})})();
},
	"sap/esh/search/ui/flp/UsageAnalyticsConsumerFlp.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){
/*!
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.define(["../eventlogging/UserEvents","../eventlogging/EventConsumer","../suggestions/SuggestionType","sap/base/Log"],function(e,t,a,s){"use strict";function i(e){return e&&e.__esModule&&typeof e.default!=="undefined"?e.default:e}const n=e["UserEventType"];const c=i(t);const r=i(a);class o extends c{log=(()=>s.getLogger("sap.esh.search.ui.eventlogging.UsageAnalyticsConsumerFlp"))();analytics;actionPrefix="FLP: ";label="FLP";async initAsync(){if(window.sap?.ushell?.Container){this.analytics=await window.sap.ushell.Container.getServiceAsync("UsageAnalytics")}}logEvent(e){if(!this.analytics){return}switch(e.type){case n.RESULT_LIST_ITEM_NAVIGATE:this.analytics.logCustomEvent(`${this.actionPrefix}Search`,"Launch Object",[e.targetUrl]);break;case n.RESULT_LIST_ITEM_ATTRIBUTE_NAVIGATE:this.analytics.logCustomEvent(`${this.actionPrefix}Search`,"Launch Object",[e.targetUrl]);break;case n.SUGGESTION_SELECT:switch(e.suggestionType){case r.App:this.analytics.logCustomEvent(`${this.actionPrefix}Search`,"Suggestion Select App",[e.suggestionTitle,e.targetUrl,e.searchTerm]);this.analytics.logCustomEvent(`${this.actionPrefix}Application Launch point`,"Search Suggestions",[e.suggestionTitle,e.targetUrl,e.searchTerm]);break;case r.DataSource:this.analytics.logCustomEvent(`${this.actionPrefix}Search`,"Suggestion Select Datasource",[e.dataSourceKey,e.searchTerm]);break;case r.Object:this.analytics.logCustomEvent(`${this.actionPrefix}Search`,"Suggestion Select Object Data",[e.suggestionTerm,e.dataSourceKey,e.searchTerm]);break;case r.Search:this.analytics.logCustomEvent(`${this.actionPrefix}Search`,"Suggestion Select Search",[e.suggestionTitle]);break}break;case n.SEARCH_REQUEST:this.analytics.logCustomEvent(`${this.actionPrefix}Search`,"Search",[e.searchTerm,e.dataSourceKey]);break;case n.RESULT_LIST_ITEM_NAVIGATE_CONTEXT:this.analytics.logCustomEvent(`${this.actionPrefix}Search`,"Launch Related Object",[e.targetUrl]);break;case n.SUGGESTION_REQUEST:this.analytics.logCustomEvent(`${this.actionPrefix}Search`,"Suggestion",[e.suggestionTerm,e.dataSourceKey]);break;case n.TILE_NAVIGATE:this.analytics.logCustomEvent(`${this.actionPrefix}Search`,"Launch App",[e.tileTitle,e.targetUrl]);this.analytics.logCustomEvent(`${this.actionPrefix}Application Launch point`,"Search Results",[e.tileTitle,e.targetUrl]);break}this.log.debug(`[${this.label}] Logged user event ${e.type}`)}}return o})})();
},
	"sap/esh/search/ui/hierarchydynamic/SearchHierarchyDynamicFacet.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){sap.ui.define(["../tree/TreeNodeFactory","./SearchHierarchyDynamicTreeNode","./StructureTree","../controls/facets/FacetTypeUI"],function(e,t,o,i){"use strict";function r(e){return e&&e.__esModule&&typeof e.default!=="undefined"?e.default:e}const s=r(e);const d=r(t);const l=r(o);const a=i["FacetTypeUI"];class n{static rootNodeId="$$ROOT$$";model;sina;dataSource;attributeId;title;filter;modelPathPrefix;isShowMoreDialog;handleSetFilter;filterCount;dimension;facetType;facetIndex;structureTree;notDisplayedFilterConditions;treeNodeFactory;rootTreeNode;constructor(e){this.model=e.model;this.sina=e.sina;this.dataSource=e.dataSource;this.attributeId=e.attributeId;this.dimension=this.attributeId;this.title=e.title;this.filter=e.filter;this.modelPathPrefix=e.modelPathPrefix;this.isShowMoreDialog=e.isShowMoreDialog;this.handleSetFilter=e.handleSetFilter;this.filterCount=this.filter.rootCondition.getAttributeConditions(this.attributeId).length;this.facetType=a.Hierarchy;this.facetIndex=-1;this.structureTree=new l({rootNode:{id:n.rootNodeId,label:"root"}});this.notDisplayedFilterConditions=[];this.treeNodeFactory=s.create({model:this.model,rootTreeNodePath:`/facets/${this.facetIndex}/rootTreeNode`,treeNodeConstructor:d,busyIndicator:this.model.busyIndicator});this.rootTreeNode=this.treeNodeFactory.createRootTreeNode({id:n.rootNodeId,label:"Root",count:0,facet:this})}setFilter(e){this.filter=e}setHandleSetFilter(e){this.handleSetFilter=e}setFacetIndex(e){this.facetIndex=e;this.treeNodeFactory.setRootTreeNodePath(`${this.modelPathPrefix}/${this.facetIndex}/rootTreeNode`)}updateStructureTree(e){this.structureTree.update(e)}async activateFilters(){try{await this.model.fireSearchQuery({preserveFormerResults:false});this.model.notifyFilterChanged()}finally{}}updateFromResultSet(e){const t=[];for(const o of e.node.childNodes){t.push(this.treeNodeFactory.createTreeNode({id:o.id,label:o.label,count:o.count,facet:this,expandable:o.hasChildren}))}this.rootTreeNode.updateChildren(t);this.updateStructureTree(e.node);return Promise.resolve()}getComplexConditionOfFacet(){for(let e=0;e<this.filter.rootCondition.conditions.length;++e){const t=this.filter.rootCondition.conditions[e];if(t.containsAttribute(this.attributeId)){return t}}return null}getFilterConditions(){const e=[];const t=this.getComplexConditionOfFacet();if(!t){return e}for(let o=0;o<t.conditions.length;++o){const i=t.conditions[o];e.push(i)}return e}mixinFilterNodes(){this.rootTreeNode.hasFilter=false;this.rootTreeNode.visitChildNodesRecursively(function(e){e.hasFilter=false});let e;const t=[];const o=this.getFilterConditions();for(let i=0;i<o.length;++i){const r=o[i];e=r.value;const s=this.treeNodeFactory.getTreeNode(e);if(s){s.hasFilter=true}else{t.push(r)}}for(let o=0;o<t.length;++o){const i=t[o];e=i.value;if(this.addMissingFilterNode(e)){t.splice(o,1);o--}}this.notDisplayedFilterConditions=t;this.calculateCheckboxStatus();this.calculateFilterCount()}calculateFilterCount(){const e=this.filter.rootCondition.getAttributeConditions(this.attributeId).length;this.model.setProperty(`${this.modelPathPrefix}/${this.facetIndex}/filterCount`,e)}addMissingFilterNode(e){const t=e=>{let o=this.treeNodeFactory.getTreeNode(e.id);if(o){if(o.isVisible()){return o}else{return null}}if(!e.parentNode){throw new Error("program error parent node missing for "+e.id)}const i=t(e.parentNode);if(!i){return null}o=this.treeNodeFactory.createTreeNode({id:e.id,label:e.label,count:0,facet:this});i.addChildTreeNode(o);return o};const o=this.structureTree.getNode(e);if(!o){return false}const i=t(o);if(!i){return false}i.hasFilter=true;return true}calculateCheckboxStatus(){this.rootTreeNode.selected=false;this.rootTreeNode.partiallySelected=false;this.rootTreeNode.visitChildNodesRecursively(function(e){e.selected=false;e.partiallySelected=false});const e=[];if(!this.rootTreeNode.hasChildNodes()){e.push(this.rootTreeNode)}this.rootTreeNode.visitChildNodesRecursively(function(t){if(!t.hasChildNodes()){e.push(t)}});for(let t=0;t<e.length;++t){const o=e[t];this.calculateCheckboxStatusFromLeafNode(o)}}calculateCheckboxStatusFromLeafNode(e){let t=e;let o=false;while(t){if(t.selected&&t.partiallySelected){return}if(t.hasFilter){t.selected=true;t.partiallySelected=false;o=true}else{if(o){t.selected=true;t.partiallySelected=true}}t=t.getParentTreeNode()}}handleModelUpdate(){this.treeNodeFactory.updateUI()}delete(){this.treeNodeFactory.delete()}updateNodesFromHierarchyNodePaths(e){for(const t of e){if(t.name!==this.attributeId){continue}this.structureTree.updateFromHierarchyNodePath(t)}}}return n})})();
},
	"sap/esh/search/ui/hierarchydynamic/SearchHierarchyDynamicFacetsFormatter.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){sap.ui.define(["../sinaNexTS/sina/HierarchyDisplayType","./SearchHierarchyDynamicFacet"],function(t,e){"use strict";function a(t){return t&&t.__esModule&&typeof t.default!=="undefined"?t.default:t}const r=t["HierarchyDisplayType"];const i=a(e);class o{testCounter;facetMap;facetFromMetadataMap;model;constructor(t){this.testCounter=0;this.facetMap={};this.facetFromMetadataMap={};this.model=t}getFacetAttributes(t){const e=[];for(let a=0;a<t.facets.length;++a){const r=t.facets[a];if(r.type!==t.sina.FacetType.Hierarchy){continue}if(!r["node"]){continue}const i=r.query.attributeId;if(e.indexOf(i)>=0){continue}e.push(i)}const a=t.query.filter.rootCondition.getAttributes();for(let r=0;r<a.length;++r){const i=a[r];const o=t.query.filter.dataSource.getAttributeMetadata(i);if(!(o.isHierarchy&&o.usage&&(o.usage.Facet&&typeof o.usage.Facet.displayOrder==="number"||o.usage.AdvancedSearch&&typeof o.usage.AdvancedSearch.displayOrder==="number"))){continue}if(e.indexOf(i)>=0){continue}e.push(i)}return e}getFacetFromResultSet(t,e){for(let a=0;a<t.facets.length;++a){const r=t.facets[a];if(e===r.query.attributeId){return r}}}async getFacet(t,e,a){const r=t.query.filter.dataSource.getAttributeMetadata(a);let o=this.facetMap[a];if(!o){o=new i({model:e,sina:t.sina,dataSource:t.query.filter.dataSource,attributeId:a,title:r.label,filter:this.model.getProperty("/uiFilter"),modelPathPrefix:"/facets",isShowMoreDialog:false});this.facetMap[a]=o}o.setFilter(this.model.getProperty("/uiFilter"));const s=t.query.filter.rootCondition.containsAttribute(a);const c=o.rootTreeNode&&o.rootTreeNode.hasExpandedChildNode();if(s||c){await o.treeNodeFactory.updateRecursively()}else{const e=this.getFacetFromResultSet(t,a);o.updateFromResultSet(e)}o.updateNodesFromHierarchyNodePaths(t.hierarchyNodePaths);o.mixinFilterNodes();return o}getFacets(t,e){if(!this.model.config.FF_dynamicHierarchyFacets){return Promise.resolve([])}const a=this.getFacetAttributes(t);const r=[];for(let i=0;i<a.length;++i){const o=a[i];const s=this.getFacet(t,e,o);r.push(s)}return Promise.all(r).then(function(t){return Array.from(t)})}destroy(){for(const t in this.facetMap){const e=this.facetMap[t];e.delete()}this.facetMap={};for(const t in this.facetFromMetadataMap){const e=this.facetFromMetadataMap[t];e.delete()}this.facetFromMetadataMap={}}handleDataSourceChanged(){this.destroy()}getFacetFromMetadata(t,e,a){let r=this.facetFromMetadataMap[t];if(r){return r}const o=e.getAttributeMetadata(t);r=new i({model:a,sina:e.sina,dataSource:e,attributeId:t,title:o.label,filter:this.model.getProperty("/uiFilter"),modelPathPrefix:"/facetDialog",isShowMoreDialog:true});this.facetFromMetadataMap[t]=r;return r}getFacetsFromMetadata(t,e){const a=[];if(!e.config.FF_dynamicHierarchyFacetsInShowMore){return a}for(const i of t.attributesMetadata){if(i.isHierarchy&&i.hierarchyDisplayType===r.DynamicHierarchyFacet){a.push(this.getFacetFromMetadata(i.id,t,e))}}return a}}return o})})();
},
	"sap/esh/search/ui/hierarchydynamic/SearchHierarchyDynamicTreeNode.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){sap.ui.define(["../tree/TreeNode"],function(e){"use strict";function t(e){return e&&e.__esModule&&typeof e.default!=="undefined"?e.default:e}const i=t(e);class s extends i{count;selected;partiallySelected;hasFilter;constructor(e){super(e);this.count=e.count;this.selected=false;this.partiallySelected=false;this.hasFilter=false;this.getData().facet=e.facet}async fetchChildTreeNodesImpl(){const e=[];const t=this.getData().facet;const i=this.getData().facet.filter.clone();i.rootCondition.removeAttributeConditions(t.attributeId);const s=await t.sina.createHierarchyQuery({attributeId:t.attributeId,nodeId:this.id,filter:i,nlq:t?.model?.isNlqActive()}).getResultSetAsync();if(s.hasErrors()){const e=this.getData().facet;s.getErrors().forEach(t=>e.model.errorHandler.onError(t))}if(!s?.node?.childNodes){return e}const a=this.getTreeNodeFactory();for(const t of s.node.childNodes){e.push(a.createTreeNode({id:t.id,label:t.label,count:t.count,facet:this.getData().facet,expandable:t.hasChildren}))}this.getData().facet.updateStructureTree(s.node);return e}async setExpanded(e,t){await super.setExpanded(e,false);this.getData().facet.mixinFilterNodes();if(t){this.getTreeNodeFactory().updateUI()}}toggleFilter(){if(this.selected){if(this.partiallySelected){this.setFilter(true);this.visitParentNodesRecursively(function(e){e.setFilter(false)});this.visitChildNodesRecursively(function(e){e.setFilter(false)})}else{this.setFilter(false)}}else{this.setFilter(true);this.visitParentNodesRecursively(function(e){e.setFilter(false)})}const e=this.getData().facet;if(e.isShowMoreDialog){e.mixinFilterNodes();e.treeNodeFactory.updateUI()}else{e.activateFilters()}}setFilter(e){const t=this.getData().facet;const i=t.sina.createSimpleCondition({operator:t.sina.ComparisonOperator.DescendantOf,attribute:t.attributeId,attributeLabel:t.title,value:this.id,valueLabel:this.label});if(e){t.filter.autoInsertCondition(i);t.model.setProperty("/facetDialogOverallCounter",true)}else{t.filter.autoRemoveCondition(i);if(t.model["aFilters"]?.length===1&&t.filterCount===1){t.model.setProperty("/facetDialogOverallCounter",false)}}if(t.handleSetFilter){t.handleSetFilter(this,e,i)}}}return s})})();
},
	"sap/esh/search/ui/hierarchydynamic/StructureTree.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){sap.ui.define([],function(){"use strict";class e{id;label;tree;childNodes;childNodeMap;parentNode;constructor(e){this.id=e.id;this.label=e.label;this.tree=e.tree;this.childNodes=[];this.childNodeMap={};this.parentNode=null}addChildNode(e){this.childNodes.push(e);this.childNodeMap[e.id]=e;e.parentNode=this}update(e){for(let t=0;t<e.childNodes.length;++t){const d=e.childNodes[t];let i=this.childNodeMap[d.id];if(!i){i=this.tree.createNode({id:d.id,label:d.label});this.addChildNode(i)}i.update(d)}}}class t{node;nodeMap;constructor(e){this.nodeMap={};this.node=this.createNode(e.rootNode)}createNode(t){t.tree=this;const d=new e(t);this.nodeMap[t.id]=d;return d}getNode(e){return this.nodeMap[e]}update(e){const t=this.nodeMap[e.id];if(!t){throw new Error(`structure tree update failed, node does not exist: ${e?.id}`)}t.update(e)}updateFromHierarchyNodePath(e){let t;for(const d of e.path){let e=this.getNode(d.id);if(!e){e=this.createNode({id:d.id,label:d.label||d.id});if(!t){throw"program error, parent node not set"}t.addChildNode(e)}t=e}}}t.StructureTreeNode=e;return t})})();
},
	"sap/esh/search/ui/hierarchystatic/SearchHierarchyStaticFacet.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){sap.ui.define(["../tree/TreeNodeFactory","./SearchHierarchyStaticTreeNode","../SearchHelperSequentializeDecorator","../controls/facets/FacetTypeUI"],function(e,t,o,i){"use strict";function r(e){return e&&e.__esModule&&typeof e.default!=="undefined"?e.default:e}const s=r(e);const a=r(t);const d=o["sequentializedExecution"];const n=i["FacetTypeUI"];class c{static rootNodeId="$$ROOT$$";model;attributeId;dataSource;filter;title;sina;facetType;facetIndex;position;treeNodeFactory;rootTreeNode;constructor(e){this.model=e.model;this.sina=this.model.sinaNext;this.attributeId=e.attributeId;this.dataSource=e.dataSource;this.filter=e.filter;this.facetType=n.HierarchyStatic;this.title=e.title;this.facetIndex=-1;this.position=-1;this.treeNodeFactory=s.create({model:this.model,rootTreeNodePath:`/facets/${this.facetIndex}/rootTreeNode`,treeNodeConstructor:a,busyIndicator:this.model.busyIndicator});this.rootTreeNode=this.treeNodeFactory.createRootTreeNode({id:c.rootNodeId,label:"Root",facet:this});this.updateTree=d(this.updateTree)}setFacetIndex(e){this.facetIndex=e;this.treeNodeFactory.setRootTreeNodePath(`/facets/${this.facetIndex}/rootTreeNode`)}async initAsync(){const e=await this.rootTreeNode.fetchChildTreeNodes();this.rootTreeNode.addChildTreeNodes(e)}async activateFilters(){try{await this.model.fireSearchQuery({preserveFormerResults:false});this.model.notifyFilterChanged()}finally{}}updateTree(){return this.doUpdateTree()}async doUpdateTree(){await this.treeNodeFactory.updateRecursively();await this.mixinFilterNodes();this.treeNodeFactory.updateUI()}getComplexConditionOfFacet(){for(const e of this.filter.rootCondition.conditions){if(e.containsAttribute(this.attributeId)){return e}}return null}getFilterConditions(){const e=[];const t=this.getComplexConditionOfFacet();if(!t){return e}for(const o of t.conditions){e.push(o)}return e}async mixinFilterNodes(){this.rootTreeNode.hasFilter=false;this.rootTreeNode.visitChildNodesRecursively(function(e){e.hasFilter=false});const e=this.getFilterConditions();for(const t of e){const e=this.treeNodeFactory.getTreeNode(t.value);if(!e){continue}e.hasFilter=true}await this.autoExpandFirstFilterNode()}handleModelUpdate(){this.treeNodeFactory.updateUI()}delete(){this.treeNodeFactory.delete()}async autoExpandFirstFilterNode(){let e=null;this.rootTreeNode.visitChildNodesRecursively(function(t){if(t.hasFilter&&!e){e=t}});if(!e){return}if(e.isVisible()){return}let t=e.getParentTreeNode();while(t){t.expanded=true;t=t.getParentTreeNode()}await this.treeNodeFactory.updateRecursively()}updateNodesFromHierarchyNodePaths(e){for(let t=0;t<e.length;++t){const o=e[t];if(o.name!==this.attributeId){continue}this.rootTreeNode.updateNodePath(o.path,0)}}}return c})})();
},
	"sap/esh/search/ui/hierarchystatic/SearchHierarchyStaticFacetsFormatter.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){sap.ui.define(["./SearchHierarchyStaticFacet"],function(t){"use strict";function e(t){return t&&t.__esModule&&typeof t.default!=="undefined"?t.default:t}const a=e(t);class r{model;facetMap;constructor(t){this.model=t;this.facetMap={}}getFacetAttributes(t){const e=t.query.filter.dataSource.attributesMetadata;const a=[];for(let r=0;r<e.length;++r){const i=e[r];if(!i.isHierarchy){continue}if(i.hierarchyDisplayType!==t.sina.HierarchyDisplayType.StaticHierarchyFacet){continue}const c=t.sina.getHierarchyDataSource(i.hierarchyName);if(!c){continue}a.push({attributeId:i.id,dataSource:c})}return a}async getFacet(t,e,r){let i;try{i=this.facetMap[r.attributeId];if(!i){const c=t.query.filter.dataSource.getAttributeMetadata(r.attributeId);i=new a({model:e,attributeId:r.attributeId,dataSource:r.dataSource,filter:e.getProperty("/uiFilter"),title:c.label});this.facetMap[r.attributeId]=i;i.treeNodeFactory.cache.activate();await i.initAsync()}i.treeNodeFactory.cache.activate();i.filter=e.getProperty("/uiFilter");i.updateNodesFromHierarchyNodePaths(t.hierarchyNodePaths);await i.mixinFilterNodes();return i}finally{i.treeNodeFactory.cache.deActivate()}}getFacets(t){if(!this.model.config.FF_staticHierarchyFacets){return Promise.resolve([])}if(!this.model.getProperty("/facetVisibility")){return Promise.resolve([])}const e=this.getFacetAttributes(t);const a=[];for(let r=0;r<e.length;++r){const i=e[r];const c=this.getFacet(t,this.model,i);a.push(c)}return Promise.all(a)}destroy(){for(const t in this.facetMap){const e=this.facetMap[t];e.delete()}this.facetMap={}}handleDataSourceChanged(){this.destroy()}}return r})})();
},
	"sap/esh/search/ui/hierarchystatic/SearchHierarchyStaticTreeNode.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){sap.ui.define(["../eventlogging/UserEvents","../tree/TreeNode"],function(t,e){"use strict";function i(t){return t&&t.__esModule&&typeof t.default!=="undefined"?t.default:t}const r=t["UserEventType"];const o=i(e);class a extends o{hasFilter;icon;constructor(t){super(t);this.icon=t.icon;this.getData().facet=t.facet}async setExpanded(t,e){await super.setExpanded(t,false);this.getData().facet.mixinFilterNodes();if(e){this.getTreeNodeFactory().updateUI()}}async toggleFilter(){const t=this.getData().facet;if(!this.hasFilter){this.setFilter(true)}else{this.setFilter(false)}await t.activateFilters()}setFilter(t){const e=this.getData().facet;const i=e.sina.createSimpleCondition({operator:e.sina.ComparisonOperator.DescendantOf,attribute:e.attributeId,attributeLabel:e.title,value:this.id,valueLabel:this.label});const o=e.model.getProperty("/uiFilter");if(t){this.removeExistingFilters();if(e.model.config.searchInAreaOverwriteMode){e.model.config.resetQuickSelectDataSourceAll(e.model)}e.model.setSearchBoxTerm("",false);e.model.resetFilterByFilterConditions(false);o.autoInsertCondition(i);const t={type:r.STATIC_FACET_SELECT};e.model.eventLogger.logEvent(t)}else{o.autoRemoveCondition(i)}}removeExistingFilters(){const t=this.getData().facet;const e=t.model.getProperty("/uiFilter");const i=e.rootCondition.getAttributeConditions(t.attributeId);for(const t of i){e.autoRemoveCondition(t)}}async fetchChildTreeNodesImpl(){const t=t=>{for(let e=0;e<t.attributes.length;++e){const i=t.attributes[e];if(i.id===r.attributeId){return i.value}}};const e=t=>{const e=[];for(let i=0;i<t.titleAttributes.length;++i){const r=t.titleAttributes[i];if(!r.value.startsWith("sap-icon://")){e.push(r.valueFormatted)}}return e.join(" ")};const i=t=>{for(let e=0;e<t.attributes.length;++e){const i=t.attributes[e];if(typeof i.value==="string"&&i.value.startsWith("sap-icon://")){return i.value}}return"sap-icon://none"};const r=this.getData().facet;const o=r.sina.createFilter({dataSource:r.dataSource});o.autoInsertCondition(r.sina.createSimpleCondition({attribute:r.attributeId,value:this.id,operator:r.sina.ComparisonOperator.ChildOf}));const a=r.sina.createSearchQuery({filter:o,top:100});const s=await a.getResultSetAsync();if(s.hasErrors()){s.getErrors().forEach(t=>r.model.errorHandler.onError(t))}const n=[];for(let o=0;o<s.items.length;++o){const a=s.items[o];const l=r.treeNodeFactory.createTreeNode({facet:r,id:t(a),label:e(a),icon:i(a),expandable:!a.attributesMap.HASHIERARCHYNODECHILD||a.attributesMap.HASHIERARCHYNODECHILD.value==="true"});n.push(l)}return n}updateNodePath(t,e){if(t[e].id!==this.id){throw new Error("program error")}if(e+1>=t.length){return}const i=t[e+1];let r=this.getChildTreeNodeById(i.id);if(!r){const t=this.getData().facet;r=t.treeNodeFactory.createTreeNode({facet:t,id:i.id,label:i.label});this.addChildTreeNode(r)}r.updateNodePath(t,e+1)}}return a})})();
},
	"sap/esh/search/ui/i18n.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){sap.ui.define(["sap/base/i18n/ResourceBundle"],function(e){"use strict";var s=e.create({bundleName:"sap.esh.search.ui.resources.resources"});return s})})();
},
	"sap/esh/search/ui/library.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){sap.ui.define(["sap/ui/core/Lib","sap/ui/core/library","sap/m/library","sap/f/library","sap/ui/layout/library","sap/ui/export/library","sap/ui/vbm/library","sap/ui/vk/library","sap/suite/ui/microchart/library","sap/ui/codeeditor/library"],function(i){"use strict";i.init({name:"sap.esh.search.ui",dependencies:["sap.ui.core","sap.m","sap.f","sap.ui.layout","sap.ui.export","sap.ui.vbm","sap.ui.vk","sap.suite.ui.microchart","sap.ui.codeeditor"],types:[],interfaces:[],controls:[],elements:[],noLibraryCSS:false,version:"1.132.0"})})})();
},
	"sap/esh/search/ui/manifest.json":'{"_version":"1.21.0","sap.app":{"id":"sap.esh.search.ui","type":"library","embeds":[],"applicationVersion":{"version":"1.132.0"},"title":"UI5 library: sap.esh.search.ui","description":"UI5 library: sap.esh.search.ui","resources":"resources.json","offline":true},"sap.ui":{"technology":"UI5","supportedThemes":["base","sap_belize","sap_belize_base","sap_belize_hcb","sap_belize_hcw","sap_belize_plus","sap_bluecrystal","sap_bluecrystal_base","sap_fiori_3","sap_fiori_3_dark","sap_fiori_3_hcb","sap_fiori_3_hcw","sap_hcb","sap_horizon","sap_horizon_dark","sap_horizon_hcb","sap_horizon_hcw"]},"sap.ui5":{"dependencies":{"minUI5Version":"1.132","libs":{"sap.ui.core":{"minVersion":"1.132.1"},"sap.m":{"minVersion":"1.132.1"},"sap.f":{"minVersion":"1.132.1"},"sap.ui.layout":{"minVersion":"1.132.1"},"sap.ui.export":{"minVersion":"1.132.1"},"sap.ui.vbm":{"minVersion":"1.132.0"},"sap.ui.vk":{"minVersion":"1.132.0"},"sap.suite.ui.microchart":{"minVersion":"1.132.1"}}},"library":{"i18n":{"bundleUrl":"resources/resources.properties","supportedLocales":["","ar","bg","ca","cnr","cs","cy","da","de","el","en","en-GB","en-US-sappsd","en-US-saprigi","en-US-saptrc","es","es-MX","et","fi","fr","fr-CA","hi","hr","hu","id","it","iw","ja","kk","ko","lt","lv","mk","ms","nl","no","pl","pt","pt-PT","ro","ru","sh","sk","sl","sr","sv","th","tr","uk","vi","zh-CN","zh-TW"]},"content":{"controls":[],"elements":[],"types":[],"interfaces":[]}}}}',
	"sap/esh/search/ui/navigationtrackers/CustomNavigationTracker.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){sap.ui.define(["../error/errors"],function(e){"use strict";function n(e){return e&&e.__esModule&&typeof e.default!=="undefined"?e.default:e}const t=n(e);function o(e){return n=>{try{e.config.beforeNavigation(e)}catch(n){const o=new t.ConfigurationExitError("beforeNavigation",e.config.applicationComponent,n);throw o}}}var r={__esModule:true};r.generateCustomNavigationTracker=o;return r})})();
},
	"sap/esh/search/ui/navigationtrackers/EventLoggerNavigationTracker.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){sap.ui.define(["../eventlogging/UserEvents","../sinaNexTS/sina/ObjectSuggestion","../sinaNexTS/sina/ResultSet","../sinaNexTS/sina/SearchResultSetItem","../sinaNexTS/sina/SearchResultSetItemAttributeBase"],function(t,e,n,i,r){"use strict";const s=t["UserEventType"];const a=e["ObjectSuggestion"];const o=n["ResultSet"];const c=i["SearchResultSetItem"];const u=r["SearchResultSetItemAttributeBase"];function T(t){if(!t){return{executionId:"-1",positionInList:-1}}const e=t.parent;if(!(e instanceof o)){return{executionId:"-1",positionInList:-1}}return{executionId:e.id,positionInList:e?.items.indexOf(t)}}function g(t){const e=t.parent;if(e instanceof u){return Object.assign({type:s.RESULT_LIST_ITEM_ATTRIBUTE_NAVIGATE,targetUrl:t.targetUrl},T(e.parent))}if(e instanceof c&&e.parent instanceof a){return Object.assign({type:s.OBJECT_SUGGESTION_NAVIGATE,targetUrl:t.targetUrl},T(e.parent))}if(e instanceof c){const n=e.defaultNavigationTarget===t?s.RESULT_LIST_ITEM_NAVIGATE:s.RESULT_LIST_ITEM_NAVIGATE_CONTEXT;return Object.assign({type:n,targetUrl:t.targetUrl},T(e))}return{type:s.ITEM_NAVIGATE,targetUrl:t.targetUrl,executionId:"",positionInList:-1}}function I(t){return e=>{const n=g(e);t.eventLogger.logEvent(n)}}var S={__esModule:true};S.generateEventLoggerNavigationTracker=I;return S})})();
},
	"sap/esh/search/ui/performancelogging/PerformanceLogger.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){sap.ui.define([],function(){"use strict";class e{performanceLog;performanceLogStartDate;constructor(){this.performanceLog=[];this.performanceLogStartDate=new Date}getUniqueId(){return(new Date).getTime()}enterMethod(e,t){this.performanceLog.push({step:e.name,parameterBag:t,startDate:new Date,endDate:null,time:null})}leaveMethod(e){for(const t of this.performanceLog){if(t.step===e.name){t.endDate=new Date;t.time=t.endDate.getTime()-t.startDate.getTime()}}}printLogToBrowserConsole(){console.table(this.getLogSummary())}getLogSummary(){return this.performanceLog.map(e=>({step:e.step,secFromStart:Math.round((e.startDate.getTime()-this.performanceLogStartDate.getTime())/100)/10,msecTotal:e.time,comments:e.parameterBag&&e.parameterBag.comments?e.parameterBag.comments:"-"}))}clearPerformanceLog(){this.performanceLogStartDate=new Date;this.performanceLog=[]}}return e})})();
},
	"sap/esh/search/ui/personalization/BrowserPersonalizationStorage.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){
/*!
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.define(["sap/ui/util/Storage","../error/errors","sap/base/Log"],function(e,r,t){"use strict";const s=r["ESHUIError"];class i{static async create(e){return Promise.resolve(new i(e))}storage;_oLogger=(()=>t.getLogger("sap.esh.search.ui.personalization.BrowserPersonalizationStorage"))();constructor(r="default",t="local"){this.prefix=r;this.prefix=r+".Search.Personalization.";this._oLogger.debug("Using BrowserPersonalizationStorage with prefix: "+this.prefix);this.storage=new e(t);if(!this.storage.isSupported()){throw new Error(`Storage of type ${t} is not supported by UI5 in this environment`)}}isStorageOfPersonalDataAllowed(){return true}save(){return Promise.resolve()}getItem(e){this._oLogger.debug("getItem: "+this.prefix+e);return this.storage.get(this.prefix+e)}setItem(e,r){this._oLogger.debug("setItem: "+this.prefix+e);try{JSON.stringify(r);return this.storage.put(this.prefix+e,r)}catch(r){const t=new s("data with key '"+e+"' is not serializable");t.previous=r;this._oLogger.error(t.message)}}deleteItem(e){this._oLogger.debug("deleteItem: "+this.prefix+e);this.storage.remove(this.prefix+e)}}return i})})();
},
	"sap/esh/search/ui/personalization/FLPPersonalizationStorage.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){
/*!
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.define(["sap/ushell/Container"],function(e){"use strict";class t{static async create(){const s=await e.getServiceAsync("PersonalizationV2");const n=await s.getContainer("ushellSearchPersoServiceContainer",{validity:Infinity},null);return new t(n)}eshIsStorageOfPersonalDataAllowedKey="ESH-IsStorageOfPersonalDataAllowed";constructor(e){this.container=e}async deletePersonalData(){}setIsStorageOfPersonalDataAllowed(e){this.setItem(this.eshIsStorageOfPersonalDataAllowedKey,e)}isStorageOfPersonalDataAllowed(){const e=this.getItem(this.eshIsStorageOfPersonalDataAllowedKey);if(typeof e==="boolean"){return e}return true}save(){return this.container.save(0)}getItem(e){e=this.limitLength(e);return this.container.getItemValue(e)}setItem(e,t){e=this.limitLength(e);const s=this.getItem(e);if(JSON.stringify(s)===JSON.stringify(t)){return true}this.container.setItemValue(e,t);this.save();return true}deleteItem(e){this.container.deleteItem(e)}limitLength(e){return e.slice(-40)}}return t})})();
},
	"sap/esh/search/ui/personalization/MemoryPersonalizationStorage.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){
/*!
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.define([],function(){"use strict";class e{static async create(){return Promise.resolve(new e)}dataMap;constructor(){this.dataMap={}}isStorageOfPersonalDataAllowed(){return true}save(){return Promise.resolve()}getItem(e){return this.dataMap[e]}setItem(e,t){this.dataMap[e]=t;return true}deleteItem(e){delete this.dataMap[e]}}return e})})();
},
	"sap/esh/search/ui/personalization/PersonalizationKeys.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){sap.ui.define([],function(){"use strict";var e=function(e){e["nlqActive"]="nlq-active";e["searchFacetPanelButtonState"]="search-facet-panel-button-state";e["resultViewTypeForAllAndCategorySearch"]="resultViewTypeForAllAndCategorySearch";e["resultViewTypeForBusinessObjectSearch"]="resultViewTypeForBusinessObjectSearch";e["searchFacetPanelChartState"]="search-facet-panel-chart-state";e["recentSearches"]="ESH-Recent-Searches";e["searchResultTableState"]="search-result-table-state-";e["myFavorites"]="my-fav-data";return e}(e||{});var t={__esModule:true};t.PersonalizationKeys=e;return t})})();
},
	"sap/esh/search/ui/personalization/PersonalizationStorage.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){
/*!
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.define(["./Personalizer"],function(e){"use strict";function t(e){return e&&e.__esModule&&typeof e.default!=="undefined"?e.default:e}const r=t(e);class s{constructor(e,t,r="default"){this.keyValueStore=e;this.searchModel=t;this.prefix=r}isStorageOfPersonalDataAllowed(){return this.keyValueStore.isStorageOfPersonalDataAllowed({searchModel:this.searchModel})}saveNotDelayed(){return Promise.resolve()}save(){return this.keyValueStore.save({searchModel:this.searchModel})}getPersonalizer(e){return new r(e,this)}deleteItem(e){this.keyValueStore.deleteItem(e,{searchModel:this.searchModel})}getItem(e){return this.keyValueStore.getItem(e,{searchModel:this.searchModel})}setItem(e,t){return this.keyValueStore.setItem(e,t,{searchModel:this.searchModel})}}return s})})();
},
	"sap/esh/search/ui/personalization/Personalizer.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){
/*!
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.define([],function(){"use strict";class e{constructor(e,t){this.key=e;this.personalizationStorageInstance=t;this.key=e;this.personalizationStorageInstance=t}getKey(){return this.key}setPersData(e){return jQuery.Deferred().resolve(this.personalizationStorageInstance.setItem(this.key,e))}getPersData(){return jQuery.Deferred().resolve(this.personalizationStorageInstance.getItem(this.key))}getResetPersData(){return jQuery.Deferred().resolve(this.personalizationStorageInstance.getItem(this.key+"INITIAL"))}}return e})})();
},
	"sap/esh/search/ui/personalization/keyValueStoreFactory.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){sap.ui.define(["./BrowserPersonalizationStorage","./FLPPersonalizationStorage","./MemoryPersonalizationStorage"],function(e,r,t){"use strict";function n(e){return e&&e.__esModule&&typeof e.default!=="undefined"?e.default:e}const o=n(e);const a=n(r);const s=n(t);async function i(e,r,t){if(typeof e==="object"){return e}switch(e){case"auto":if(r){return a.create()}else{return o.create(t)}case"browser":return o.create(t);case"flp":return a.create();case"memory":return s.create();default:{let t=`    - 'auto' (automatic)\n    - 'browser' (browser storage)\n    - 'memory' (browser session storage)`;if(!r){t+=`\n    - 'flp' (Fiori Lauchpad, user storage service)`}const n=`Unknown Personalization Storage: '${e}'\n\nDetails:\n${t}\n\nYou can also provide a custom personalization storage (instance of a class, implementing the interface 'IKeyValueStore').`;return Promise.reject(new Error(n))}}}const c={create:i};return c})})();
},
	"sap/esh/search/ui/repositoryexplorer/UsageAnalyticsConsumerDwc.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){})();
},
	"sap/esh/search/ui/searchtermhandler/ISearchTermHandler.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){})();
},
	"sap/esh/search/ui/searchtermhandler/TransactionsHandler.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){sap.ui.define(["../suggestions/SuggestionType","../SearchShellHelper","../SearchShellHelperHorizonTheme","../flp/FrontendSystem","../flp/BackendSystem"],function(e,t,s,a,o){"use strict";function r(e){return e&&e.__esModule&&typeof e.default!=="undefined"?e.default:e}const n=e["Type"];const i=r(t);const c=r(s);const l=r(a);const d=r(o);class h{tCodeStartUrl;constructor(e){this.searchModel=e;const t=d.getSystem(e);if(t&&!t.equals(l.getSystem())){this.tCodeStartUrl=`#Shell-startGUI?sap-system=sid(${t.id})&sap-ui2-tcode=`}else{this.tCodeStartUrl="#Shell-startGUI?sap-ui2-tcode="}}_addItemToRecentlyUsedStorage(e,t){const s={label:e,url:this.tCodeStartUrl+t,icon:"sap-icon://generate-shortcut",uiSuggestionType:n.Transaction,searchTerm:e};if(this.searchModel.config.bRecentSearches&&this.searchModel.recentlyUsedStorage){this.searchModel.recentlyUsedStorage.addItem(s)}}handleSearchTerm(e,t){const s={navigateToSearchApp:true};const a=this.searchModel.getDataSource();const o=this.searchModel.userCategoryManager;const r=o?.isFavActive()&&o?.getCategory("MyFavorites")?.includeApps;if(a!==this.searchModel.allDataSource&&a!==this.searchModel.appDataSource&&!(a===this.searchModel.favDataSource&&r)){return s}if(window.sap.cf){return s}if(e.toLowerCase().indexOf("/n")===0){const t=e.slice(2);this._addItemToRecentlyUsedStorage(e,t);if(window.hasher){window.hasher.setHash(this.tCodeStartUrl+t)}else{window.location.href=this.tCodeStartUrl+t}s.navigateToSearchApp=false}if(e.toLowerCase().indexOf("/o")===0){const t=e.slice(2);this._addItemToRecentlyUsedStorage(e,t);window.open(this.tCodeStartUrl+t,"_blank","noopener,noreferrer");s.navigateToSearchApp=false}if(s.navigateToSearchApp===false){t.destroySuggestionRows();t.setValue("");if(!c.isSearchFieldExpandedByDefault()){i.collapseSearch()}}return s}}return h})})();
},
	"sap/esh/search/ui/sinaNexTS/core/AjaxBaseClient.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){sap.ui.define(["./Log","./ajax","./ajaxUtil","./core","./defaultAjaxErrorFactory","./errors"],function(e,t,s,r,a,o){"use strict";const i=e["Log"];const n=t["applyResponseFormattersAndUpdateJSON"];const h=t["request"];const c=s["addEncodedUrlParameters"];const u=r["isBrowserEnv"];const f=a["createDefaultAjaxErrorFactory"];const d=o["ResponseFormatError"];const l=o["LanguageHeaderError"];class p{handleCookies;cookieStore={};csrf;csrfByPassCache;csrfToken;csrfFetchRequest;csrfFetchRequestPromise;getLanguage;authorization;requestFormatters=[];responseFormatters=[];defaultParameters={};errorFactories=[];errorFormatters=[];log;constructor(e){this.csrf=e.csrf;this.csrfByPassCache=e.csrfByPassCache||false;this.csrfToken=null;this.csrfFetchRequest=e.csrfFetchRequest||null;this.getLanguage=e?.getLanguage;this.authorization=undefined;if(e.authorization){this.authorization={user:e.authorization.user,password:e.authorization.password}}this.requestFormatters=e.requestFormatters??[];this.responseFormatters=e.responseFormatters??[];this.defaultParameters=e.defaultParameters??{};this.errorFactories=e.errorFactories??[f()];this.errorFormatters=e.errorFormatters||[];this.handleCookies=!u();this.log=new i("ajax base client")}getJsonHeaders(){const e={"Content-Type":"application/json",Accept:"application/json"};this.addLanguageToHeader(e);this.addDefaultHeaders(e);return e}getXmlHeaders(){const e={"Content-Type":"application/xml",Accept:"application/xml"};this.addLanguageToHeader(e);this.addDefaultHeaders(e);return e}addDefaultHeaders(e){e["Cache-Control"]="no-cache"}addLanguageToHeader(e){if(typeof this.getLanguage==="function"){try{e["Accept-Language"]=this.getLanguage()}catch(e){throw new l({previous:e})}}}async getJson(e){const t=await this.request({headers:this.getJsonHeaders(),method:"GET",url:e});try{t.data=JSON.parse(t.data)}catch(e){if(e.name==="SyntaxError"){throw new d(e,"JSON",t.data)}else{throw e}}return t}async postJson(e,t){const s=await this.request({headers:this.getJsonHeaders(),method:"POST",url:e,data:JSON.stringify(t)});try{if(s.data?.length>0){s.data=JSON.parse(s.data)}}catch(e){if(e.name==="SyntaxError"){throw new d(e,"JSON",s.data)}else{throw e}}return s}async mergeJson(e,t){const s=await this.request({headers:this.getJsonHeaders(),method:"MERGE",url:e,data:JSON.stringify(t)});try{if(s.data?.length>0){s.data=JSON.parse(s.data)}}catch(e){if(e.name==="SyntaxError"){throw new d(e,"JSON",s.data)}else{throw e}}return s}async getXML(e){const t=await this.request({headers:this.getXmlHeaders(),method:"GET",url:e});return t.data}fetchCsrf(){if(this.csrfFetchRequestPromise){return this.csrfFetchRequestPromise}this.csrfFetchRequest.headers=this.csrfFetchRequest.headers||{};this.csrfFetchRequest.headers["x-csrf-token"]="fetch";this.csrfFetchRequest.parameters=this.csrfFetchRequest.parameters||{};if(this.csrfByPassCache){this.csrfFetchRequest.parameters._=Date.now()}this.csrfFetchRequestPromise=this.requestPlain(this.csrfFetchRequest).then(function(e){this.csrfFetchRequestPromise=null;this.csrfToken=e.headers["x-csrf-token"];return e}.bind(this));return this.csrfFetchRequestPromise}async requestWithCsrf(e,t){if(c(this.csrfFetchRequest.url,this.csrfFetchRequest.parameters)===c(e.url,e.parameters)){return await this.fetchCsrf()}if(t&&!this.csrfToken){await this.fetchCsrf()}e.headers=e.headers||{};e.headers["x-csrf-token"]=this.csrfToken;const s=await this.requestPlain(e);const r=s?.headers["x-csrf-token"];if(t&&r&&r.toLowerCase()==="required"){await this.fetchCsrf();return await this.requestWithCsrf(e,false)}return s}createUrlMatchingResponseFormatter(e,t){const s=(s,r)=>{if(s.url.indexOf(e)!==0){return r}return t(s,r)};this.addResponseFormatter(s);return{delete:()=>this.removeResponseFormatter(s)}}addResponseFormatter(e){this.responseFormatters.push(e)}removeResponseFormatter(e){const t=this.responseFormatters.indexOf(e);if(t>=0){this.responseFormatters.splice(t)}}removeAllResponseFormatters(){this.responseFormatters=[]}applyRequestFormatters(e){for(const t of this.requestFormatters){e=t(e)}return e}applyResponseFormatters(e,t){return n(e,t,this.responseFormatters)}setBasicAuth(e){e.headers=Object.assign({},e.headers);if(this.authorization!==undefined){if(typeof Buffer==="function"){e.headers.Authorization="Basic "+Buffer.from(this.authorization.user+":"+this.authorization.password).toString("base64")}else if(window&&typeof window.btoa==="function"){e.headers.Authorization="Basic "+window.btoa(this.authorization.user+":"+this.authorization.password)}}}async request(e){const t=await this.requestInternal(e);this.checkForErrors(e,t);return t}async requestInternal(e){this.setBasicAuth(e);if(!this.csrf){return await this.requestPlain(e)}if(!this.csrfFetchRequest){this.csrfFetchRequest=e}return await this.requestWithCsrf(e,true)}saveCookies(e){const t=e?.headers["set-cookie"];if(!t){return}for(const e of t){const t=e.split(";");if(t.length===0){continue}const s=t[0];const r=s.indexOf("=");if(r<0){continue}const a=s.slice(0,r).trim();if(a.length===0){continue}const o=s.slice(r+1).trim();if(o.length===0){continue}this.cookieStore[a]=o}}pasteCookies(e){const t=Object.entries(this.cookieStore);if(t.length===0){return}e.headers=e.headers||{};e.headers["Cookie"]=t.map(([e,t])=>`${e}=${t}`).join(";")}addDefaultParameters(e){for(const[t,s]of Object.entries(this.defaultParameters)){e.parameters=e.parameters||{};if(typeof e.parameters[t]!=="undefined"){continue}e.parameters[t]=s}}applyErrorFormatters(e,t,s){for(const r of this.errorFormatters){s=r(e,t,s)}return s}checkForErrors(e,t){for(const s of this.errorFactories){let r;try{r=s(e,t)}catch(e){this.log.error(`ajax error factory raised exception ${e}`)}if(r){r=this.applyErrorFormatters(e,t,r);throw r}}}async requestPlain(e){this.addDefaultParameters(e);if(this.handleCookies){this.pasteCookies(e)}e=this.applyRequestFormatters(e);let t=await h(e);t=this.applyResponseFormatters(e,t);if(this.handleCookies){this.saveCookies(t)}return t}}var m={__esModule:true};m.AjaxBaseClient=p;return m})})();
},
	"sap/esh/search/ui/sinaNexTS/core/AjaxClient.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){sap.ui.define(["./AjaxBaseClient","./Log","./ajax","./errors"],function(e,t,r,s){"use strict";const o=e["AjaxBaseClient"];const a=t["Log"];const n=r["applyResponseFormattersAndUpdateJSON"];const i=s["InternalSinaError"];var d=function(e){e["NONE"]="none";e["RECORD"]="record";e["REPLAY"]="replay";return e}(d||{});class p extends o{records;recordOptions;replayResponseFormatters=[];constructor(e){super(e);this.log=new a("ajax client");this.recordOptions={headers:e.recordingHeaders,mode:e.recordingMode??d.NONE,path:e.recordingPath,requestNormalization:e.requestNormalization||this.defaultRequestNormalization};if(typeof window!=="undefined"&&this.recordOptions.mode!==d.NONE){throw new i({message:"Record/Replay is only supported on Node.js"})}this.records={};if(this.recordOptions.mode===d.REPLAY){this.records=require(e.recordingPath)}this.authorization=undefined;if(e.authorization){this.authorization={user:e.authorization.user,password:e.authorization.password}}this.replayResponseFormatters=e.replayResponseFormatters??[]}createUrlMatchingReplayResponseFormatter(e,t){const r=(r,s)=>{if(r.url.indexOf(e)!==0){return s}return t(r,s)};this.addReplayResponseFormatter(r);return{delete:()=>this.removeReplayResponseFormatter(r)}}addReplayResponseFormatter(e){this.replayResponseFormatters.push(e)}removeReplayResponseFormatter(e){const t=this.replayResponseFormatters.indexOf(e);if(t>=0){this.replayResponseFormatters.splice(t)}}applyReplayResponseFormatters(e,t){return n(e,t,this.replayResponseFormatters)}async requestInternal(e){if(this.recordOptions.mode==="replay"){let t=await this.replay(e);t=this.applyReplayResponseFormatters(e,t);return t}const t=await super.requestInternal(e);if(this.recordOptions.mode==="record"){await this.record(e,t)}return t}normalizeRequestData(e){if(!e){return{data:"",notToRecord:false}}const t=this.recordOptions.requestNormalization(JSON.parse(e));if(typeof t==="object"&&t["NotToRecord"]){return{data:"",notToRecord:true}}return{data:JSON.stringify(t),notToRecord:false}}calculateKey(e){const t=this.normalizeRequestData(e.data);if(t.notToRecord){return}return e.url+t.data}async record(e,t){const r=this.calculateKey(e);t=JSON.parse(JSON.stringify(t));delete t.dataJSON;this.records[r]=t;await this.saveRecording(this.recordOptions.path,this.records)}async replay(e){const t=this.calculateKey(e);let r=JSON.parse(JSON.stringify(this.records[t]));if(!r){throw new i({message:"No recording found for request '"+t+"' in file "+this.recordOptions.path})}r=this.supportDeprecatedRecording(r);try{r.dataJSON=JSON.parse(r.data)}catch(e){this.log.warn("Could not parse response data as JSON: "+r?.data+" ("+e+")")}return r}supportDeprecatedRecording(e){if(e.statusText){return e}if(typeof e==="object"){return{status:200,statusText:"OK",headers:{},data:JSON.stringify(e)}}else{return{status:200,statusText:"OK",headers:{},data:e}}}async saveRecording(e,t){const r=require("fs");return new Promise((s,o)=>{r.writeFile(e,JSON.stringify(t,null,4),"utf8",e=>{if(e){o(e)}else{s()}})})}defaultRequestNormalization(e){if(e===null){return""}if(typeof e==="object"&&Object.prototype.hasOwnProperty.call(e,"SessionID")){delete e.SessionID}if(typeof e==="object"&&Object.prototype.hasOwnProperty.call(e,"SessionTimestamp")){delete e.SessionTimestamp}return e}}var c={__esModule:true};c.RecordingMode=d;c.AjaxClient=p;return c})})();
},
	"sap/esh/search/ui/sinaNexTS/core/LabelCalculator.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){
/*!
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.define(["./errors"],function(t){"use strict";const e=t["SinaError"];class s extends e{node;constructor(t){t.message=t.message??"Duplicate node";super({message:t.message,name:"DuplicateException"});this.node=t.node}}class i{data;obj;parent;nodeId;labelCalculator;childMap;children;constructor(t,e,s){this.parent=t;this.nodeId=e;this.labelCalculator=s;this.childMap={};this.children=[]}insert(t,e){if(t.length===0){this.data=this.labelCalculator.options.data(e);this.obj=e;this.calculateLabel();return}const l=t[0];let a=this.childMap[l];if(t.length===1&&a){throw new s({node:a})}if(!a){a=new i(this,l,this.labelCalculator);this.childMap[l]=a;this.children.push(a);if(this.children.length===2){this.children[0].recalculateLabels()}}a.insert(t.slice(1),e)}recalculateLabels(){const t=[];this.collectLeafs(t);for(let e=0;e<t.length;++e){t[e].calculateLabel()}}collectLeafs(t){if(this.isLeaf()){t.push(this);return}for(let e=0;e<this.children.length;++e){this.children[e].collectLeafs(t)}}isLeaf(){return this.children.length===0}hasSibling(){return this.parent&&this.parent.children.length>=2}isChildOfRoot(){return this.parent&&this.parent.nodeId==="__ROOT"}collectPath(t,e){if(!this.parent){return}if(e||this.hasSibling()||this.isChildOfRoot()){t.push(this.nodeId);e=true}if(this.parent){this.parent.collectPath(t,e)}}calculateLabel(){const t=[];this.collectPath(t);t.reverse();this.labelCalculator.options.setLabel(this.obj,t,this.data)}}class l{options;rootNode;constructor(t){this.options=t;this.rootNode=new i(null,"__ROOT",this)}calculateLabel(t){const e=this.options.key(t);try{this.rootNode.insert(e,t)}catch(e){if(e.name==="DuplicateException"){this.options.setFallbackLabel(e.node.obj,e.node.data);this.options.setFallbackLabel(t,this.options.data(t));return}throw e}}}var a={__esModule:true};a.LabelCalculator=l;return a})})();
},
	"sap/esh/search/ui/sinaNexTS/core/Log.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){
/*!
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.define([],function(){"use strict";var e=function(e){e[e["ERROR"]=1]="ERROR";e[e["WARN"]=2]="WARN";e[e["INFO"]=3]="INFO";e[e["DEBUG"]=4]="DEBUG";return e}(e||{});class r{static level=(()=>e.ERROR)();static persistency=(()=>console)();constructor(e="default-log"){this.name=e}debug(e){this.printMessageOrError("DEBUG",e)}info(e){this.printMessageOrError("INFO",e)}warn(e){this.printMessageOrError("WARN",e)}error(e){this.printMessageOrError("ERROR",e)}printMessageOrError(e,r){if(r instanceof Error){if(r.stack){this.printMessage(e,r.stack)}else{this.printMessage(e,r+"")}}else{this.printMessage(e,r)}}printMessage(s,t){const n=e[s];const i="["+this.name+"]: "+t;if(n<=r.level){switch(n){case e.DEBUG:{if(typeof r.persistency.debug==="function"){r.persistency.debug(i);return}}break;case e.INFO:{if(typeof r.persistency.info==="function"){r.persistency.info(i);return}}break;case e.WARN:{if(typeof r.persistency.warn==="function"){r.persistency.warn(i);return}}break;case e.ERROR:{if(typeof r.persistency.error==="function"){r.persistency.error(i);return}}}console.log(i)}}}var s={__esModule:true};s.Severity=e;s.Log=r;return s})})();
},
	"sap/esh/search/ui/sinaNexTS/core/ajax.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){
/*!
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.define(["./requestNodePlain","./requestBrowser","./core","./Log"],function(a,t,e,s){"use strict";const n=a["requestNodePlain"];const r=t["requestBrowser"];const o=e["isBrowserEnv"];const d=s["Log"];async function c(a){let t;if(o()){t=await r(a)}else{t=await n(a)}try{delete t.dataJSON;t.dataJSON=JSON.parse(t.data)}catch(a){const e=new d("ajax");e.warn("Could not parse response data as JSON: "+t?.data+" ("+a+")")}return t}function u(a,t,e){const s=t.data;for(const s of e){t=s(a,t)}if(t.data!==s){try{delete t.dataJSON;t.dataJSON=JSON.parse(t.data)}catch(a){const e=new d("ajax");e.warn("Could not parse response data as JSON: "+t?.data+" ("+a+")")}}return t}var i={__esModule:true};i.request=c;i.applyResponseFormattersAndUpdateJSON=u;return i})})();
},
	"sap/esh/search/ui/sinaNexTS/core/ajaxUtil.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){sap.ui.define([],function(){"use strict";function n(n){const e=[];for(const t in n){const o=n[t];e.push(encodeURIComponent(t)+"="+encodeURIComponent(o+""))}return e.join("&")}function e(e,t){if(!t){return e}const o=n(t);if(o.length>0){const n=e.indexOf("?");if(n>=0){e=e.slice(0,n)+"?"+o+"&"+e.slice(n+1)}else{e+="?"+o}}return e}function t(n){const e={};const t=n.split("\n");for(let n=0;n<t.length;++n){const o=t[n];const r=o.indexOf(":");if(r>=0){const n=o.slice(0,r).toLowerCase();const t=o.slice(r+1);e[n]=t.trim()}}return e}function o(n){for(const e in n){if(typeof n[e]!=="boolean"&&typeof n[e]!=="string"&&typeof n[e]!=="number"){return false}}return true}var r={__esModule:true};r.encodeUrlParameters=n;r.addEncodedUrlParameters=e;r.parseHeaders=t;r.isNumberStringBooleanRecord=o;return r})})();
},
	"sap/esh/search/ui/sinaNexTS/core/clone.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){sap.ui.define([],function(){"use strict";var e=function(e){e["Primitive"]="Primitive";e["List"]="List";e["Object"]="Object";return e}(e||{});class t{cloneBuffer;constructor(){this.cloneBuffer=[]}put(e,t){this.cloneBuffer.push({object:e,clonedObject:t})}get(e){const t=this.cloneBuffer.find(t=>t.object===e);if(!t){return undefined}return t.clonedObject}}class n{config;classConfigCache;buffer;constructor(e){this.config=e??{classes:[]}}getType(t){if(typeof t==="string"||typeof t==="number"||typeof t==="boolean"||typeof t==="function"||typeof t==="undefined"){return e.Primitive}if(typeof t=="object"){if(Array.isArray(t)){return e.List}else{return e.Object}}throw`Program error: Clone utitliy does not support type ${typeof t}`}clone(e){this.buffer=new t;return this.internalClone(e)}internalClone(t){switch(this.getType(t)){case e.List:return this.cloneList(t);case e.Object:return this.cloneObject(t);case e.Primitive:return this.clonePrimitive(t)}}cloneList(e){let t=this.buffer.get(e);if(t){return t}t=[];this.buffer.put(e,t);for(const n of e){if(!this.isCloneableObject(n)){continue}t.push(this.internalClone(n))}return t}cloneObject(e){let t=this.buffer.get(e);if(t){return t}const n=this.getClassConfig(e);if(n?.cloneFunction){return n.cloneFunction(e)}if(n?.useOriginalObject){return e}t={};this.buffer.put(e,t);for(const n in e){if(!this.isCloneableProperty(e,n)){continue}t[n]=this.internalClone(e[n])}return t}clonePrimitive(e){return e}getClassConfig(e){if(this.classConfigCache&&e instanceof this.classConfigCache.class){return this.classConfigCache}this.classConfigCache=this.config.classes.find(t=>e instanceof t.class);return this.classConfigCache}isCloneableObject(e){if(e?.constructor===Object){return true}const t=this.getClassConfig(e);if(!t){return false}return true}isCloneableProperty(e,t){if(e?.constructor===Object){return true}const n=this.getClassConfig(e);if(!n){return false}return n.properties.indexOf(t)>=0}}var i={__esModule:true};i.CloneService=n;return i})})();
},
	"sap/esh/search/ui/sinaNexTS/core/core.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){
/*!
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.define([],function(){"use strict";function n(n){const t=function(){};t.prototype=n;return new t}function t(n,t){for(const e in t){n[e]=t[e]}return n}function e(n,t){if(t){if(n[0]==="_"){n=n.slice(1)}}return n[0].toUpperCase()+n.slice(1)}function r(n){if(Object.prototype.toString.call(n)==="[object Array]"){return true}return false}function u(n){if(r(n)){return false}return typeof n==="object"}function o(n){for(const t in n){if(Object.prototype.hasOwnProperty.call(n,t)){return false}}return JSON.stringify(n)===JSON.stringify({})}function i(n){return typeof n==="function"}function f(n){return typeof n==="string"}function c(n){return typeof n!=="object"&&typeof n!=="function"}function s(n,t,e){if(r(n)){return l(n,t,e)}if(u(n)){return x(n,t,e)}return n===t}function l(n,t,e){if(e===undefined){e=true}if(n.length!==t.length){return false}if(e){for(let r=0;r<n.length;++r){if(!s(n[r],t[r],e)){return false}}return true}const r={};for(let u=0;u<n.length;++u){const o=n[u];let i=false;for(let n=0;n<t.length;++n){const u=t[n];if(r[n]){continue}if(s(o,u,e)){i=true;r[n]=true;break}}if(!i){return false}}return true}function x(n,t,e){if(n.equals){return n.equals(t)}if(!u(t)){return false}for(const r in n){const u=n[r];const o=t[r];if(!s(u,o,e)){return false}}return true}function a(n){if(r(n)){return p(n)}if(u(n)){return y(n)}return n}function p(n){const t=[];for(let e=0;e<n.length;++e){const r=n[e];t.push(a(r))}return t}function y(n){if(n.clone){return n.clone()}const t={};for(const e in n){const r=n[e];t[e]=a(r)}return t}let d=0;function g(){return"#"+ ++d}function h(){return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,function(n){const t=Math.random()*16|0,e=n=="x"?t:t&3|8;return e.toString(16).toUpperCase()})}async function b(n,t){if(!n){return Promise.resolve()}const e=function(r){if(r>=n.length){return undefined}const u=n[r];return Promise.resolve().then(function(){if(t){return t(u)}return u()}).then(function(){return e(r+1)})};return e(0)}function j(n,t){let e=n;for(const n of t){e=e[n];if(typeof e==="undefined"){return undefined}}return e}function O(){return typeof window!=="undefined"}var S={__esModule:true};S.object=n;S.extend=t;S.firstCharToUpper=e;S.isList=r;S.isObject=u;S.isEmptyObject=o;S.isFunction=i;S.isString=f;S.isSimple=c;S.equals=s;S._equalsList=l;S._equalsObject=x;S.clone=a;S._cloneList=p;S._cloneObject=y;S.generateId=g;S.generateGuid=h;S.executeSequentialAsync=b;S.getProperty=j;S.isBrowserEnv=O;return S})})();
},
	"sap/esh/search/ui/sinaNexTS/core/defaultAjaxErrorFactory.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){sap.ui.define(["../sina/i18n","./errors"],function(r,e){"use strict";const t=r["getText"];const n=e["ServerErrorCode"];const s=e["ServerError"];const o=e["NoConnectionError"];function u(r){const e=r?.allowedStatusCodes??[200,201,204];return function r(u,a){if(e.indexOf(a.status)>=0){return}if(a.status==0){return new o(u.url)}return new s({request:u,response:a,code:n.E001,message:t("error.sina.generalServerError",[u.url,""+a.status,a.statusText,a.data])})}}var a={__esModule:true};a.createDefaultAjaxErrorFactory=u;return a})})();
},
	"sap/esh/search/ui/sinaNexTS/core/errors.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){sap.ui.define(["../sina/i18n"],function(r){"use strict";const e=r["getText"];class s extends Error{message;details;solution;context;name;previous;constructor(r){super(r.message);this.message=r.message;this.details=r?.details;this.solution=r.solution;this.context=r?.context;this.name=r.name??"SinaError";this.previous=r.previous}toString(){return this.name+": "+this.message}}class o extends s{constructor(r){const s={name:"InternalSinaError",message:r.message??e("error.sina.InternalSinaError"),details:r.details,previous:r.previous};super(s)}}var n=function(r){r["E001"]="E001";r["E100"]="E100";r["E101"]="E101";r["E102"]="E102";r["E200"]="E200";r["E201"]="E201";r["E202"]="E202";r["E203"]="E203";r["E300"]="E300";r["E400"]="E400";return r}(n||{});class t extends s{code;dataSourceErrors;request;response;resultSet;constructor(r){super({name:"ServerError",message:r.message,details:r.details,previous:r.previous});this.code=r.code;this.dataSourceErrors=r.dataSourceErrors;this.request=r.request;this.response=r.response}}class a extends s{constructor(r){super({name:"NoConnectionError",message:e("error.sina.NoConnectionError",[r])})}}class i extends s{constructor(r){super({name:"LanguageHeaderError",message:r.message||e("errr.sina.LanguageHeaderError"),details:r.details,previous:r.previous})}}class c extends s{constructor(r){const s={name:"NoJSONDateError",message:r??e("error.sina.NoJSONDateError")};super(s)}}class u extends s{constructor(r){const s={name:"TimeOutError",message:r??e("error.sina.TimeOutError")};super(s)}}class E extends s{constructor(){super({message:"Not implemented",name:"ESHNotImplementedError"})}}class d extends s{static forcedBySearchTerm="EshForceErrorSearchterm";constructor(){const r={name:"ForcedBySearchTermTestError",message:`Forced error, triggered by search term '${d.forcedBySearchTerm}'.`};super(r)}}class m extends s{constructor(r,s){const o={name:"UnknownAttributeTypeError",message:e("error.sina.UnknownAttributeTypeError",[r]),previous:s};super(o)}}class l extends s{constructor(r,s){const o={name:"JSONParseError",message:r??e("error.sina.JSONParseError"),previous:s};super(o)}}class p extends s{constructor(r,s){const o={name:"MetadataParserError",message:r??e("error.sina.MetadataParserError"),previous:s};super(o)}}class g extends s{constructor(r){const s={name:"UnknownComparisonOperatorError",message:e("error.sina.UnknownComparisonOperatorError",[r])};super(s)}}class C extends s{constructor(r){const s={name:"UnknownLogicalOperatorError",message:e("error.sina.UnknownLogicalOperatorError",[r])};super(s)}}class x extends s{constructor(r){const s={name:"UnknownPresentationUsageError",message:e("error.sina.UnknownPresentationUsageError",[r])};super(s)}}class S extends s{constructor(r){const s={name:"UnknownDataTypeError",message:e("error.sina.UnknownDataTypeError",[r])};super(s)}}class N extends s{constructor(r){const s={name:"UnknownConditionTypeError",message:e("error.sina.UnknownConditionTypeError",[r])};super(s)}}class y extends s{constructor(){const r={name:"OnlyComplexConditionAllowedError",message:e("error.sina.OnlyComplexConditionAllowedError")};super(r)}}class h extends s{constructor(r,s,o){let n="undetected";if(o?.startsWith("<html")||o?.startsWith("<HTML")){n="HTML"}else if(o?.startsWith("<?xml")||o?.startsWith("<?XML")){n="XML"}const t={name:"ResponseFormatError",message:e("error.sina.ResponseFormatError",[s,n,o.substring(0,25)]),previous:r};super(t)}}class v extends s{constructor(r){const s={name:"ESHNotActiveError",message:r??e("error.sina.ESHNotActiveError")};super(s)}}class O extends s{constructor(r){const s={name:"ESHNoBusinessObjectDatasourceError",message:r??e("error.sina.ESHNoBusinessObjectDatasourceError")};super(s)}}class A extends s{constructor(r){const s={name:"FacetsParseError",message:r??e("error.sina.FacetsParseError")};super(s)}}class I extends s{constructor(r){const s={name:"WhyFoundAttributeMetadataMissingError",message:e("error.sina.WhyFoundAttributeMetadataMissingError",[r])};super(s)}}class w extends s{constructor(r){const s={name:"TimeConversionError",message:e("error.sina.TimeConversionError",[r])};super(s)}}class D extends s{constructor(r){const s={name:"DateConversionError",message:e("error.sina.DateConversionError",[r])};super(s)}}class T extends s{constructor(){const r={name:"CanOnlyAutoInsertComplexConditionError",message:e("error.sina.CanOnlyAutoInsertComplexConditionError")};super(r)}}class U extends s{constructor(r){const s={name:"CanNotCreateAlreadyExistingDataSourceError",message:e("error.sina.CanNotCreateAlreadyExistingDataSourceError",[r])};super(s)}}class F extends s{constructor(r){const s={name:"DataSourceInURLDoesNotExistError",message:e("error.sina.DataSourceInURLDoesNotExistError",[r])};super(s)}}class k extends s{constructor(r,s){const o={name:"DataSourceAttributeMetadataNotFoundError",message:e("error.sina.DataSourceAttributeMetadataNotFoundError.message",[r,s]),solution:e("error.sina.DataSourceAttributeMetadataNotFoundError.solution")};super(o)}}class M extends s{constructor(r,s){const o={name:"NoValidEnterpriseSearchAPIConfigurationFoundError",message:e("error.sina.NoValidEnterpriseSearchAPIConfigurationFoundError.error",[r]),solution:e("error.sina.NoValidEnterpriseSearchAPIConfigurationFoundError.solution")};if(s){o.previous=s}super(o)}}class f extends s{constructor(r,s){const o={name:"SinaConfigurationError",message:e("error.sina.SinaConfigurationError",[r]),previous:s};super(o)}}class P extends s{constructor(){const r={name:"QueryIsReadOnlyError",message:e("error.sina.QueryIsReadOnlyError")};super(r)}}class b extends s{constructor(r){const s={name:"InBetweenConditionInConsistent",message:r??e("error.sina.InBetweenConditionInConsistent.message"),solution:e("error.sina.InBetweenConditionInConsistent.solution")};super(s)}}var L={__esModule:true};L.SinaError=s;L.InternalSinaError=o;L.ServerErrorCode=n;L.ServerError=t;L.NoConnectionError=a;L.LanguageHeaderError=i;L.NoJSONDateError=c;L.TimeOutError=u;L.NotImplementedError=E;L.ForcedBySearchTermTestError=d;L.UnknownAttributeTypeError=m;L.JSONParseError=l;L.MetadataParserError=p;L.UnknownComparisonOperatorError=g;L.UnknownLogicalOperatorError=C;L.UnknownPresentationUsageError=x;L.UnknownDataTypeError=S;L.UnknownConditionTypeError=N;L.OnlyComplexConditionAllowedError=y;L.ResponseFormatError=h;L.ESHNotActiveError=v;L.ESHNoBusinessObjectDatasourceError=O;L.FacetsParseError=A;L.WhyFoundAttributeMetadataMissingError=I;L.TimeConversionError=w;L.DateConversionError=D;L.CanOnlyAutoInsertComplexConditionError=T;L.CanNotCreateAlreadyExistingDataSourceError=U;L.DataSourceInURLDoesNotExistError=F;L.DataSourceAttributeMetadataNotFoundError=k;L.NoValidEnterpriseSearchAPIConfigurationFoundError=M;L.SinaConfigurationError=f;L.QueryIsReadOnlyError=P;L.InBetweenConditionInConsistent=b;return L})})();
},
	"sap/esh/search/ui/sinaNexTS/core/lang.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){
/*!
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.define([],function(){"use strict";function e(){const e=typeof window.InstallTrigger!=="undefined";const n=false||!!document.documentMode;const t=!n&&!!window.StyleMedia;const o=!!window.chrome&&!!window.chrome.webstore;const i=[];if(n||t){const e=window.navigator.browserLanguage||window.navigator.language;i.splice(0,0,this._getLanguageCountryObject(e))}else if(e||o){const e=window.navigator.language;const n=window.navigator.languages.slice();const t=n.indexOf(e);if(t>-1){n.splice(t,1)}i.splice(0,0,this._getLanguageCountryObject(e));for(let e=0;e<n.length;e++){const t=this._getLanguageCountryObject(n[e]);if(t){i.splice(i.length,0,t)}}}else{i.splice(0,0,this._getLanguageCountryObject(window.navigator.language))}return i}function n(e){let n;let t;if(e.length===2){n=e;t=""}else if(e.length===5&&e.indexOf("-")===2){n=e.substr(0,2);t=e.substr(3)}else{return undefined}return{Language:n,Country:t}}var t={__esModule:true};t.getLanguagePreferences=e;t._getLanguageCountryObject=n;return t})})();
},
	"sap/esh/search/ui/sinaNexTS/core/requestBrowser.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){sap.ui.define(["./ajaxUtil"],function(e){"use strict";const t=e["addEncodedUrlParameters"];const s=e["parseHeaders"];async function n(e){return new Promise(function(n){const r=new XMLHttpRequest;r.onreadystatechange=function(){if(r.readyState==4){n({data:r.responseText,headers:s(r.getAllResponseHeaders()),status:r.status,statusText:r.statusText});return}};const a=t(e.url,e.parameters);r.open(e.method,a,true);for(const t in e.headers){const s=e.headers[t];r.setRequestHeader(t,s)}r.send(e.data)})}var r={__esModule:true};r.requestBrowser=n;return r})})();
},
	"sap/esh/search/ui/sinaNexTS/core/requestNodeFetch.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){sap.ui.define(["./ajaxUtil"],function(t){"use strict";const e=t["addEncodedUrlParameters"];async function s(t){const s=require("node-fetch");const a=t.url.startsWith("https")?require("https"):require("http");const r=new a.Agent({rejectUnauthorized:false});const n={agent:r,headers:t.headers,method:t.method};if(typeof t.data!=="undefined"){n.body=t.data}const o=e(t.url,t.parameters);const u=t=>{const e={};for(const s in t){const a=t[s];if(a instanceof Array&&a.length===1){e[s]=a[0]}else{e[s]=a}}return e};try{const t=await s(o,n);const e=await t.text();return{status:t.status,statusText:t.statusText,data:e||"",headers:u(t.headers.raw())}}catch(t){return{status:0,statusText:""+t,data:"",headers:{}}}}var a={__esModule:true};a.requestNodeFetch=s;return a})})();
},
	"sap/esh/search/ui/sinaNexTS/core/requestNodePlain.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){sap.ui.define(["./ajaxUtil"],function(t){"use strict";const e=t["addEncodedUrlParameters"];function a(t){return new Promise(a=>{const s=t.url.startsWith("https")?require("https"):require("http");const r=e(t.url,t.parameters);const n=new URL(r);const d={rejectUnauthorized:false,hostname:n.hostname,path:n.pathname+n.search,port:n.port,method:t.method,headers:t.headers};if(t.data){d.headers["Content-Length"]=""+Buffer.byteLength(t.data)}const o=s.request(d,t=>{let e="";t.on("data",t=>{e+=t});t.on("end",()=>{a({status:t.statusCode,statusText:t.statusMessage,data:e,headers:t.headers})})});o.on("error",t=>{a({status:0,statusText:""+t,data:"",headers:{}})});if(t.data){o.write(t.data)}o.end()})}var s={__esModule:true};s.requestNodePlain=a;return s})})();
},
	"sap/esh/search/ui/sinaNexTS/core/util.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){
/*!
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.define(["../sina/AttributeSemanticsType","../sina/SearchResultSetItemAttribute","../sina/SearchResultSetItemAttributeGroup","../sina/i18n","./errors"],function(t,e,n,a,i){"use strict";const r=t["AttributeSemanticsType"];const o=e["SearchResultSetItemAttribute"];const s=n["SearchResultSetItemAttributeGroup"];const c=a["getText"];const u=i["NoJSONDateError"];const l=i["TimeOutError"];function f(t,e){return Object.prototype.hasOwnProperty.apply(t,e)}function g(t,e){const n=function(...n){const a=this;return new Promise(function(i,r){let o=false;const s=setTimeout(function(){o=true;r(new l)},e);return t.apply(a,n).then(function(t){if(o){return}clearTimeout(s);i(t)},function(t){if(o){return}clearTimeout(s);r(t)})})};return n}function p(t){let e=0;const n=function(...n){const a=++e;return t.apply(this,n).then(function(t){return new Promise(function(n){if(a!==e){return}n(t)})},function(t){return new Promise(function(n,i){if(a!==e){return}i(t)})})};n.abort=function(){++e};return n}function d(t,e){if(!e){if(typeof window==="undefined"){return null}e=window.location.href}t=M(t);const n=new RegExp("[?&]"+t+"(=([^&#]*)|&|#|$)"),a=n.exec(e);if(!a){return null}if(!a[2]){return""}return decodeURIComponent(a[2].replace(/\+/g," "))}function m(t,e){for(let n=0;n<e.length;++n){const a=e[n];let i=0;while(i>=0){i=t.indexOf(a);if(i>=0){t=t.slice(0,i)+t.slice(i+a.length)}}}return t}function h(){const t=function(t,e){const n="000000000"+t;return n.substr(n.length-e)};const e=new Date;return""+e.getUTCFullYear()+t(e.getUTCMonth()+1,2)+t(e.getUTCDate(),2)+t(e.getUTCHours(),2)+t(e.getUTCMinutes(),2)+t(e.getUTCSeconds(),2)+t(e.getUTCMilliseconds(),3)}class b{timeDelay;consumer;consumerContext;objects;constructor(t){t=t||{};this.timeDelay=t.timeDelay||1e3;this.consumer=t.consumer||function(){};this.consumerContext=t.consumerContext||null;this.objects=[]}add(t){this.objects.push(t);if(this.objects.length===1){setTimeout(this.consume.bind(this),this.timeDelay)}}consume(){this.consumer.apply(this.consumerContext,[this.objects]);this.objects=[]}}function T(t){return{type:"Timestamp",value:t.toJSON()}}function x(t){if(t.type!=="Timestamp"){throw new u(c("error.sina.noTimestampJsonDateError",[t]))}return new Date(t.value)}function y(t){if(t.items){const e=t.items;for(let t=0;t<e.length;t++){let n=e[t];n=D(n);const a=n.detailAttributes;for(let t=0;t<a.length;t++){const e=a[t];v(e)}}}return t}function v(t){if(t instanceof o){O(t)}else if(t instanceof s){N(t)}}function N(t){for(const e of t.attributes){const t=e.attribute;if(!(t instanceof o)){continue}const n=t.metadata;const a=t.sina;const i=t.value;if(n.semantics==r.HTTPURL){t.setDefaultNavigationTarget(a.createNavigationTarget({text:i,targetUrl:i,target:"_blank"}))}}}function O(t){const e=t.sina;const n=t.value;const a=t.metadata;if(typeof n==="string"&&t.metadata.type!=="ImageUrl"){const i=n.match(/^[^\0-\x20,:;<>@\[\\\]^_`]+@[^\0-,.-@\[\\\]^_`\{\|\}~]+\.[^\0-,.-@\[\\\]^_`\{\|\}~]+$/g);const o=n.match(/^https?:\/\/(?=[^\/])\S+$/gi);if(a.semantics==r.EmailAddress){t.setDefaultNavigationTarget(e.createNavigationTarget({text:n,targetUrl:"mailto:"+n}))}else if(a.semantics==r.PhoneNr){t.setDefaultNavigationTarget(e.createNavigationTarget({text:n,targetUrl:"tel:"+n}))}else if(a.semantics==r.HTTPURL){t.setDefaultNavigationTarget(e.createNavigationTarget({text:n,targetUrl:n,target:"_blank"}))}else if(i!==null&&i.length===1){t.setDefaultNavigationTarget(e.createNavigationTarget({text:i[0],targetUrl:"mailto:"+i[0]}))}else if(o!==null&&o[0].match(/\w\w\w/)!==null){t.setDefaultNavigationTarget(e.createNavigationTarget({text:o[0],targetUrl:o[0],target:"_blank"}))}}}function w(t){const e=t.sina.getDataSource(t.query.filter.dataSource.id);for(let n=0;n<t.facets.length;n++){const a=t.facets[n].query.dimension;const i=e.attributeMetadataMap[a];if(i&&i.usage.AdvancedSearch&&i.usage.Facet===undefined){t.facets.splice(n,1);n=n-1}}return t}function C(t,e,n){let a=false;let i,r,o,s,c,u;const l=t.id;const f=t.value;if(l.match(/latitude/i)!==null){if(!isNaN(f)){c=l;i=f;o=n}a=true}else if(l.match(/longitude/i)!==null){if(!isNaN(f)){u=l;r=f;s=n}a=true}else if(l.match(/LOC_4326/)){s=n;o=n;const t=JSON.parse(f);const e=t.coordinates;if(e&&e.length>1){r=e[0];i=e[1]}a=true}if(e===undefined||e===true){return a}return{lat:i,lon:r,latAttribName:c,lonAttribName:u,latIndex:o,lonIndex:s}}function D(t){let e,n,a,i,r,o;const s=t.detailAttributes;for(let t=0;t<s.length;t++){e=C(s[t],false,t);n=e.lat?e.lat:n;a=e.lon?e.lon:a;r=e.latIndex?e.latIndex:r;o=e.lonIndex?e.lonIndex:o;if(n&&a){break}}if(n&&a){if(r===o){s.splice(r,1)}else if(r>o){s.splice(r,1);s.splice(o,1)}else{s.splice(o,1);s.splice(r,1)}const e={sina:t.sina,type:"GeoJson",id:"LOC_4326",label:"LOC_4326",isCurrency:false,IsBoolean:false,IsKey:false,IsSortable:true,isUnitOfMeasure:false,semanticObjectType:[],usage:{Map:"coordinates"}};const c='{ "type": "Point", "coordinates": ['+a+", "+n+", 0] }";const u={id:"LOC_4326",label:"LOC_4326",isHighlighted:false,value:c,valueFormatted:c,valueHighlighted:t.sina,metadata:e,sina:t.sina};s.push(u);i=t.sina.getDataSource(t.dataSource.id);if(!i.attributeMetadataMap.LOC_4326){i.attributesMetadata.push(e);i.attributeMetadataMap.LOC_4326=e}else{i.attributeMetadataMap.LOC_4326.type="GeoJson";i.attributeMetadataMap.LOC_4326.usage={Map:"coordinates"}}}return t}function S(t){const e={};return function(n){if(Object.prototype.hasOwnProperty.call(e,n)){return e[n]}const a=t.apply(this,[n]);e[n]=a;return a}}function M(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}function U(t,e){const n=new RegExp("{{([^{}]*)}}");const a=function(t){const e=n.exec(t);if(!e){return null}return e[1]};const i=function(t,e,n){const a=new RegExp("{{"+M(e)+"}}","g");t=t.replace(a,n);return t};const r=function(t){const n=a(t);if(!n){return t}t=i(t,n,e[n]);return r(t)};return r(t)}const _=new RegExp("<b>(.*?)<\\/b>","g");function A(t){let e;const n=[];do{e=_.exec(t);if(e){n.push(e[1])}}while(e);return n}function I(t,e){for(let n=0;n<e.length;++n){const a=e[n];if(t.indexOf(a)<0){t.push(a)}}}const R=["\\","-","(",")","~","^","?",'"',":","'","[","]"];const P=["AND","OR","NOT"];const L=["\\",'"',"*","?","'"];function j(t,e,n){return t.split(e).join(n)}function E(t){let e=t.trim();for(const t of R){if(t==="'"){e=j(e,t,"''")}else{e=j(e,t,"\\"+t)}}for(const t of P){if(e===t){e='"'+t+'"'}if(e.startsWith(t+" ")){e='"'+t+'" '+e.substring(t.length+1)}if(e.endsWith(" "+t)){e=e.substring(0,e.length-(t.length+1))+' "'+t+'"'}e=j(e," "+t+" ",' "'+t+'" ')}if(e===""){e="*"}return e}function J(t){let e=t.trim();for(const t of L){if(t==="'"){e=j(e,t,"''")}else{e=j(e,t,"\\"+t)}}if(e===""){e="*"}return e}var F={__esModule:true};F.hasOwnProperty=f;F.timeoutDecorator=g;F.refuseOutdatedResponsesDecorator=p;F.getUrlParameter=d;F.filterString=m;F.generateTimestamp=h;F.DelayedConsumer=b;F.dateToJson=T;F.dateFromJson=x;F.addPotentialNavTargets=y;F.removePureAdvancedSearchFacets=w;F.isMapsAttribute=C;F.addGeoDataIfAvailable=D;F.cacheDecorator=S;F.escapeRegExp=M;F.evaluateTemplate=U;F.extractRegExp=_;F.extractHighlightedTerms=A;F.appendRemovingDuplicates=I;F.escapeQuery=E;F.escapeFilterCondition=J;return F})})();
},
	"sap/esh/search/ui/sinaNexTS/providers/AbstractProvider.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){sap.ui.define(["../sina/SinaObject"],function(e){"use strict";const r=e["SinaObject"];class t extends r{label;serverInfo;logUserEvent(e){}getDebugInfo(){return"ESH Search API Provider: "+this.id}isQueryPropertySupported(e){return false}async resetPersonalizedSearchDataAsync(e){return Promise.resolve()}}var s={__esModule:true};s.AbstractProvider=t;return s})})();
},
	"sap/esh/search/ui/sinaNexTS/providers/abap_odata/ComparisonOperator.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){
/*!
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.define([],function(){"use strict";var r=function(r){r["Bt"]="BT";return r}(r||{});var t={__esModule:true};t.ABAPODataComparisonOperator=r;return t})})();
},
	"sap/esh/search/ui/sinaNexTS/providers/abap_odata/FacetParser.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){
/*!
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.define(["../../sina/ComparisonOperator","../../sina/FacetType","../../sina/LogicalOperator","../../sina/SearchQuery","./typeConverter"],function(e,t,a,r,s){"use strict";const i=e["ComparisonOperator"];const o=t["FacetType"];const u=a["LogicalOperator"];const l=r["SearchQuery"];class n{provider;sina;constructor(e){this.provider=e;this.sina=e.sina}parse(e,t){if(t.ValueHelp){this.prepareValueHelpFacet(e,t)}const a=[];if(!t.Facets||!t.Facets.results){return[]}for(let r=0;r<t.Facets.results.length;r++){const s=t.Facets.results[r];if(s.Type===o.DataSource){a.push(this.parseDataSourceFacet(e,s))}else{if(e.filter.dataSource.type===e.sina.DataSourceType.Category||e.filter.dataSource.type===e.sina.DataSourceType.UserCategory){continue}a.push(this.parseChartFacet(e,s))}}return Promise.all(a)}prepareValueHelpFacet(e,t){const a=t.ValueHelp.results;const r=this.sina.getDataSource(e.filter.dataSource.id);const s=t.ValueHelpAttribute;const i=r.getAttributeMetadata(s);const o={Id:t.ValueHelpAttribute,Name:i.label,Type:"AttributeValue",Values:{results:[]}};const u=[];for(let e=0;e<a.length;e++){const t=a[e];u.push({Description:t.ValueFormatted,NumberOfObjects:t.NumberOfInstances,Type:"AttributeValue",ValueLow:t.Value,ValueLowFormatted:t.ValueFormatted,ValueHigh:"",ValueHighFormatted:""})}o.Values.results=u;t.Facets={};t.Facets.results=[];t.Facets.results[0]=o}parseDataSourceFacet(e,t){let a=e;if(e instanceof l){a=this.sina.createDataSourceQuery({dataSource:e.filter.dataSource,filter:e.filter.clone(),nlq:e.nlq})}const r=[];for(let e=0;e<t.Values.results.length;e++){const a=t.Values.results[e];let s=this.sina.getDataSource(a.ValueLow);if(!s){s=this.sina.createDataSource({type:this.sina.DataSourceType.Category,id:a.ValueLow,label:a.Description})}r.push(this.sina._createDataSourceResultSetItem({dataSource:s,dimensionValueFormatted:s.labelPlural,measureValue:a.NumberOfObjects,measureValueFormatted:a.NumberOfObjects.toString()}))}const s=this.sina._createDataSourceResultSet({title:e.filter.dataSource.label,items:r,query:a});if(e instanceof l){return a._setResultSet(s)}return s}createAttributeFilterCondition(e,t,a){if(a.Type==="AttributeRange"){const r=[];if(a.ValueLow&&a.ValueLow.length!==0){const o=a.Type==="AttributeConstant";r.push(this.sina.createSimpleCondition({attribute:e,operator:i.Ge,value:o?a.ValueLow:s.odata2Sina(t.type,a.ValueLow),isDynamicValue:o}))}if(a.ValueHigh&&a.ValueHigh.length!==0){const o=a.Type==="AttributeConstant";r.push(this.sina.createSimpleCondition({attribute:e,operator:i.Le,value:o?a.ValueHigh:s.odata2Sina(t.type,a.ValueHigh),isDynamicValue:o}))}return this.sina.createComplexCondition({attributeLabel:t.label,valueLabel:a.Description,operator:u.And,conditions:r})}const r=a.Type==="AttributeConstant";return this.sina.createSimpleCondition({attributeLabel:t.label,attribute:e,value:r?a.ValueLow:s.odata2Sina(t.type,a.ValueLow),valueLabel:a.Description,isDynamicValue:r})}parseChartFacet(e,t){const a=this.sina.getDataSource(e.filter.dataSource.id);const r=t.Id;const s=a.getAttributeMetadata(r);let i,o=e;if(e instanceof l){i=e.filter.clone();i.setDataSource(a);i.setRootCondition(e.filter.rootCondition.clone());o=this.sina.createChartQuery({filter:i,dimension:t.Id,nlq:e.nlq})}const u=[];for(let e=0;e<t.Values.results.length;e++){const a=t.Values.results[e];u.push(this.sina._createChartResultSetItem({filterCondition:this.createAttributeFilterCondition(r,s,a),dimensionValueFormatted:a.Description,measureValue:a.NumberOfObjects,measureValueFormatted:a.ValueLowFormatted}))}const n=this.sina._createChartResultSet({title:s.label,items:u,query:o});if(e instanceof l){return o._setResultSet(n)}return n}}var c={__esModule:true};c.FacetParser=n;return c})})();
},
	"sap/esh/search/ui/sinaNexTS/providers/abap_odata/ItemParser.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){
/*!
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.define(["../../sina/SinaObject","../../core/util","./typeConverter","../../sina/AttributeType","../tools/WhyfoundProcessor"],function(t,e,i,s,r){"use strict";const a=t["SinaObject"];const u=s["AttributeType"];const n=r["WhyfoundProcessor"];class l extends a{provider;suvNavTargetResolver;constructor(t){super();this.provider=t;this.sina=t.sina;this.suvNavTargetResolver=this.sina._createSuvNavTargetResolver()}parse(t,e){if(e.ResultList.SearchResults===null){return Promise.resolve([])}const i=e.ResultList.SearchResults.results;return this.parseItems(i)}parseItems(t){const e=[];for(let i=0;i<t.length;++i){const s=t[i];const r=this.parseItem(s);e.push(r)}return Promise.all(e)}async parseItem(t){let s;const r={};const a=[];const l=[];const o=[];const d=[];const p=[];let g;const c=this.sina.getDataSource(t.DataSourceId);let h,b,f,v;const m=Number(t.Score)/100;const A=[];let T,y,I,S;const _={};let M={};const N=new n(this.sina);for(s=0;s<t.Attributes.results.length;s++){h=t.Attributes.results[s];b=c.getAttributeMetadata(h.Id);f=this.sina._createSearchResultSetItemAttribute({id:h.Id,label:b.label,value:i.odata2Sina(b.type,h.Value),valueFormatted:b.type===u.Timestamp?undefined:h.ValueFormatted,valueHighlighted:h.Snippet,isHighlighted:h.Snippet.indexOf("<b>")>-1&&h.Snippet.indexOf("</b>")>-1,metadata:b,groups:[]});r[f.id]=f;e.appendRemovingDuplicates(A,e.extractHighlightedTerms(f.valueHighlighted));if(b.suvUrlAttribute&&b.suvMimeTypeAttribute){I=r[b.suvUrlAttribute]||b.suvUrlAttribute.id;S=r[b.suvMimeTypeAttribute]||b.suvMimeTypeAttribute.id;_[h.Id]={suvThumbnailAttribute:f,suvTargetUrlAttribute:I,suvTargetMimeTypeAttribute:S}}if(b.usage.Navigation){if(b.usage.Navigation.mainNavigation){g=this.sina.createNavigationTarget({text:f.value,targetUrl:f.value,target:"_blank"})}}o.push(f);if(b.usage.Detail){d.push(f)}if(b.usage.Title){a.push(f)}if(b.usage.TitleDescription){l.push(f)}v=c.attributeMetadataMap[f.id]._private.semanticObjectType;if(v&&v.length>0){p.push({name:v,value:f.value,type:f.metadata.type})}if(f.isHighlighted||f.descriptionAttribute&&f.descriptionAttribute.isHighlighted){if(!this._isVisible(b)&&typeof M[f.id]==="undefined"){M[f.id]=[f.valueHighlighted]}}}for(y in _){T=_[y];if(typeof T.suvTargetUrlAttribute==="string"){T.suvTargetUrlAttribute=r[T.suvTargetUrlAttribute]}if(typeof T.suvTargetMimeTypeAttribute==="string"){T.suvTargetMimeTypeAttribute=r[T.suvTargetMimeTypeAttribute]}if(!(T.suvTargetUrlAttribute||T.suvTargetMimeTypeAttribute)){delete _[y]}}a.sort(function(t,e){return t.metadata.usage.Title.displayOrder-e.metadata.usage.Title.displayOrder});d.sort(function(t,e){return t.metadata.usage.Detail.displayOrder-e.metadata.usage.Detail.displayOrder});this.suvNavTargetResolver.resolveSuvNavTargets(c,_,A);const R=this.sina._createSearchResultSetItem({dataSource:c,attributes:o,titleAttributes:a,titleDescriptionAttributes:l,detailAttributes:d,defaultNavigationTarget:g,navigationTargets:[],score:m});R._private.allAttributesMap=r;R._private.semanticObjectTypeAttributes=p;const D=this.sina._createItemPostParser({searchResultSetItem:R});const H=R.detailAttributes;const U=await D.postParseResultSetItem();M=this._pushAdditionalWhyFounds(t,M,H);return await N.processAdditionalWhyfoundAttributes(M,U)}_isVisible(t){if(typeof t.usage.Title!=="undefined"||typeof t.usage.Detail!=="undefined"||typeof t.isDescription!=="undefined"){return true}if(Array.isArray(t.groups)){for(let e=0;e<t.groups.length;e++){const i=t.groups[e].group;if(this._isVisible(i)&&this._isInTamplate(t.id,i)){return true}}return false}return false}_isInTamplate(t,e){if(e.template&&e.attributes&&e.attributes.length>0){const i=this._getNameInGroup(t,e.attributes);if(i&&e.template.includes("{"+i+"}")){return true}}return false}_getNameInGroup(t,e){for(let i=0;i<e.length;i++){if(e[i].attribute.id===t){return e[i].nameInGroup}}return undefined}_pushAdditionalWhyFounds(t,e,i){if(t.HitAttributes&&Array.isArray(t.HitAttributes.results)){for(let s=0;s<t.HitAttributes.results.length;s++){const r=t.HitAttributes.results[s];if(typeof e[r.Id]==="undefined"&&!this._isUngrouppedDetailAttribute(r.Id,i)){e[r.Id]=[r.Snippet]}}}return e}_isUngrouppedDetailAttribute(t,e){for(let i=0;i<e.length;i++){if(t===e[i].id){return true}}return false}}var o={__esModule:true};o.ItemParser=l;return o})})();
},
	"sap/esh/search/ui/sinaNexTS/providers/abap_odata/MetadataParser.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){
/*!
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.define(["./labelCalculation","../../sina/SinaObject","../../sina/MatchingStrategy","../../sina/AttributeType","../../sina/AttributeFormatType","../../core/errors","../../sina/System","../../core/Log"],function(t,e,a,r,s,n,i,o){"use strict";const c=t["createLabelCalculator"];const u=e["SinaObject"];const l=a["MatchingStrategy"];const p=r["AttributeType"];const d=s["AttributeFormatType"];const y=n["UnknownDataTypeError"];const f=n["UnknownPresentationUsageError"];const m=i["System"];const h=o["Log"];class S extends u{_provider;_sina;_labelCalculator;_appSearchDataSource;log=(()=>new h("ABAP MetadataParser"))();constructor(t){super();this._provider=t;this._sina=t.sina;this._labelCalculator=c();this._appSearchDataSource=undefined}getAppSearchDataSource(){return this._appSearchDataSource}parseDataSourceData(t,e){for(let a=0;a<t.length;++a){const r=t[a];let s=r.Name;if(!s){s=r.Id}let n=r.NamePlural;if(!n){n=s}const i=this._sina.createDataSource({id:r.Id,label:s,labelPlural:n,type:this._sina.DataSourceType.BusinessObject,usage:r.Id.endsWith("TRANSACTIONS~")?{appSearch:{}}:{},attributesMetadata:[{id:"dummy",isKey:false,label:"",type:"String"}]});i.system=new m({id:r.SourceSystem+"."+r.SourceClient,label:r.SourceSystem+" "+r.SourceClient});i._private.semanticObjectType=r.SemanticObjectTypeId;i._private.annotations=r.Annotations&&r.Annotations.results||[];this._labelCalculator.calculateLabel(i);this._fillMetadataBufferForDataSource(i,r.Attributes.results);e.registerObjectType({type:i.id,label:i.label,properties:i.attributesMetadata});if(i.id.endsWith("TRANSACTIONS~")&&this._appSearchDataSource===undefined){this._appSearchDataSource=i}}}_fillMetadataBufferForDataSource(t,e){if(t.attributesMetadata[0].id!=="dummy"){return}t.attributesMetadata=[];t.attributeMetadataMap={};let a;const r=[];const s=[];const n=[];const i=[];let o;const c={dataSourceAnnotations:{},attributeAnnotations:{}};c.dataSourceAnnotations=this._parseAnnotationsIntoJsonStructure(t._private.annotations);for(a=0;a<e.length;a++){o=e[a];const i=this._fillMetadataBufferForAttribute(t,o);const u=o.Annotations&&o.Annotations.results||[];const l=this._parseAnnotationsIntoJsonStructure(u);c.attributeAnnotations[i.id.toUpperCase()]=l;this._parseSemanticsAnnotation(o,l);if(i._private.temporaryUsage.Title!==undefined){r.push(i)}if(i._private.temporaryUsage.Detail!==undefined){if(o.isSummary){s.push(i)}else{n.push(i)}}}const u=this._sina._createCDSAnnotationsParser({dataSource:t,cdsAnnotations:c});const l=u.parseCDSAnnotationsForDataSource();if(!l.dataSourceIsCdsBased){this._sortAttributesOfNonCDSBasedDataSource(t,r,i,s,n)}for(a=0;a<t.attributesMetadata.length;a++){o=t.attributesMetadata[a];if(o._private.temporaryUsage){for(const t in o._private.temporaryUsage){if(t!="Title"&&t!="Detail"){o.usage[t]=o._private.temporaryUsage[t]}}}}}_fillMetadataBufferForAttribute(t,e){const a=e.Displayed&&e.DisplayOrder?e.DisplayOrder:-1;const r=this._parseAttributeTypeAndFormat(e);const s=this._sina._createAttributeMetadata({id:e.Id,label:e.Name!==""?e.Name:e.Id,isKey:e.Key,isSortable:e.Sortable,usage:{},type:r.type,format:r.format,matchingStrategy:this._parseMatchingStrategy(e)});s._private.semanticObjectType=e.SemanticObjectTypeId;s._private.temporaryUsage=e.UIAreas?this._parseUsage(e,a):{};t.attributesMetadata.push(s);t.attributeMetadataMap[s.id]=s;return s}_parseSemanticsAnnotation(t,e){let a=false;const r="SEMANTICS";for(const t in e){if(t.substr(0,r.length)==r){a=true;break}}if(t.Semantics&&!a){let a;switch(t.Semantics){case"EMAIL.ADDRESS":case"TELEPHONE.TYPE":case"CURRENCYCODE":case"UNITOFMEASURE":a="TRUE";break;case"QUANTITY.UNITOFMEASURE":case"AMOUNT.CURRENCYCODE":a=t.UnitAttribute;break}if(a){e[r+t.Semantics]=a}}}_sortAttributesOfNonCDSBasedDataSource(t,e,a,r,s){let n,i;e.sort(this._createSortFunction("Title"));for(n=0;n<e.length;++n){const a=e[n].id;i=t.getAttributeMetadata(a);i.usage.Title=i._private.temporaryUsage.Title;i.usage.Title.displayOrder=n}const o=this._createSortFunction("Detail");r.sort(o);s.sort(o);a.push(...r);a.push(...s);for(n=0;n<a.length;++n){a[n].usage.Detail=a[n]._private.temporaryUsage.Detail;a[n].usage.Detail.displayOrder=n}}_arrayIncludesEntry(t,e,a){let r;if(a){for(r=0;r<t.length;r++){if(a(t[r],e)){return true}}}else{for(r=0;r<t.length;r++){if(t[r]==e){return true}}}return false}_parseAnnotationsIntoJsonStructure(t){if(t.length==0){return{}}let e,a;const r={};let s,n;let i,o;let c;const u=[];let l;const p=function(t,e){return t.annotationPointer==e.annotationPointer&&t.annotationName==e.annotationName};try{for(a=0;a<t.length;a++){s=/\[\d+\]$/g;o=r;c=t[a].Name.split(".");for(e=0;e<c.length;e++){i=c[e].toUpperCase();n=s.exec(i);if(n!==null){i=i.substring(0,n.index)}o[i]=o[i]||{};if(n!==null&&n[0].length>0){l={annotationPointer:o,annotationName:i};if(!this._arrayIncludesEntry(u,l,p)){u.push(l)}if(e<c.length-1){o[i][n[0]]=o[i][n[0]]||{};o=o[i][n[0]]}else{o[i][n[0]]=t[a].Value}}else if(e<c.length-1){o=o[i]}else{o[i]=t[a].Value}}}let d;let y;let f,m,h;const S=/\[\d+\]/g;for(a=0;a<u.length;a++){d=u[a].annotationPointer;i=u[a].annotationName;y=d[i];f=[];h={};for(m in y){if(m.match(S)){f.push(y[m])}else{h[m]=y[m]}}if(Object.keys(h).length>0){f.push(h)}d[i]=f}}catch(t){this.log.warn("Error while parsing annotations: "+t);return{}}return r}_createSortFunction(t){return function(e,a){if(e._private.temporaryUsage[t].displayOrder<a._private.temporaryUsage[t].displayOrder){return-1}else if(e._private.temporaryUsage[t].displayOrder>a._private.temporaryUsage[t].displayOrder){return 1}return 0}}_parseMatchingStrategy(t){if(t.TextIndexed){return l.Text}return l.Exact}_parseAttributeTypeAndFormat(t){for(let e=0;e<t.UIAreas.results.length;e++){const a=t.UIAreas.results[e];const r=a.Id;switch(r){case"SUMMARY":continue;case"DETAILS":continue;case"TITLE":continue;case"#HIDDEN":case"HIDDEN":continue;case"FACTSHEET":continue;case"DETAILIMAGE":case"PREVIEWIMAGE":return{type:p.ImageUrl};case"LONGTEXT":return{type:p.String,format:d.LongText};default:throw new f(a)}}switch(t.EDMType){case"Edm.String":case"Edm.Binary":case"Edm.Boolean":case"Edm.Byte":case"Edm.Guid":return{type:p.String};case"Edm.Double":case"Edm.Decimal":case"Edm.Float":case"Edm.Single":return{type:p.Double};case"Edm.Int16":case"Edm.Int32":case"Edm.Int64":return{type:p.Integer};case"Edm.Time":return{type:p.Time};case"Edm.DateTime":case"Edm.DateTimeOffset":if(t?.TypeLength>8){return{type:p.Timestamp}}return{type:p.Date};case"GeoJson":return{type:p.GeoJson};default:throw new y(t.EDMType)}}_parseUsage(t,e){const a=t.UIAreas.results;const r=t.AdvancedSearchRelevant;const s=t.Facet;const n={};a.forEach(function(a){const r=a.Id;if(r==="TITLE"){n.Title={displayOrder:e}}if(r==="SUMMARY"||r==="DETAILIMAGE"||r==="PREVIEWIMAGE"){t.isSummary=true;n.Detail={displayOrder:e}}if(r==="DETAILS"||r==="LONGTEXT"){n.Detail={displayOrder:e}}});if(r){n.AdvancedSearch={}}if(s){n.Facet={}}return n}parseDynamicMetadata(t){let e;try{e=t.ResultList.SearchResults.results}catch(t){this.log.warn("Error while parsing dynamic metadata: "+t);return}for(let t=0;t<e.length;++t){const a=e[t];if(!a.HitAttributes||!a.HitAttributes.results){continue}const r=this._sina.getDataSource(a.DataSourceId);const s=a.HitAttributes.results;for(let t=0;t<s.length;++t){const e=s[t];this.parseDynamicAtributeMetadata(r,e)}}}parseDynamicAtributeMetadata(t,e){let a;let r=t.getAttributeMetadata(e.Id);if(r){if(!r._private.dynamic){return}e.UIAreas=e.UIAreas||{results:[]};a=this._parseAttributeTypeAndFormat(e);r.label=e.Name;r.type=a.type;r.format=a.format}else{e.UIAreas=e.UIAreas||{results:[]};a=this._parseAttributeTypeAndFormat(e);r=this._sina._createAttributeMetadata({id:e.Id,label:e.Name,isKey:false,isSortable:false,usage:{},type:a.type,format:a.format,matchingStrategy:l.Exact,_private:{dynamic:true}});t.attributesMetadata.push(r);t.attributeMetadataMap[r.id]=r}}}var g={__esModule:true};g.MetadataParser=S;return g})})();
},
	"sap/esh/search/ui/sinaNexTS/providers/abap_odata/Provider.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){
/*!
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.define(["./ajax","./ajaxTemplates","./conditionSerializer","../../core/core","./dataSourceSerializer","./labelCalculation","./suggestionTermSplitter","../AbstractProvider","./FacetParser","./ItemParser","./suggestionParser","./MetadataParser","../../core/errors","./nlqParser","../../sina/SuggestionType"],function(e,t,r,s,i,n,a,o,u,l,c,d,h,S,f){"use strict";const g=e["createAjaxClient"];const p=o["AbstractProvider"];const y=u["FacetParser"];const m=l["ItemParser"];const b=c["SuggestionParser"];const P=d["MetadataParser"];const C=h["ESHNotActiveError"];const v=h["NotImplementedError"];const O=S["parseNlqInfo"];const Q=f["SuggestionType"];class x extends p{id="abap_odata";contentProviderId;requestPrefix;ajaxClient;metadataLoadPromises;internalMetadata;labelCalculator;metadataParser;itemParser;facetParser;suggestionParser;sessionId;sorsNavigationTargetGenerator;serviceXML;async initAsync(e){this.contentProviderId=e.contentProviderId;this.requestPrefix=e.url||"/sap/opu/odata/sap/ESH_SEARCH_SRV";this.sina=e.sina;this.ajaxClient=e.ajaxClient??g();this.metadataLoadPromises={};this.internalMetadata={};this.labelCalculator=n.createLabelCalculator();this.metadataParser=new P(this);this.itemParser=new m(this);this.facetParser=new y(this);this.suggestionParser=new b(this,this.itemParser);this.sessionId=s.generateGuid();this.sorsNavigationTargetGenerator=this.sina._createSorsNavigationTargetGenerator({urlPrefix:"#Action-search&/top=10&filter=",getPropertyMetadata(e){return{name:e.id,label:e.label,semanticObjectType:e._private.semanticObjectType,response:!!(e.usage&&(e.usage.Detail||e.usage.Title)),request:true}}});const t=await this.loadServerInfo();this.serverInfo=t.d.results[0];if(!this.supports("Search")){throw new C}await this.loadBusinessObjectDataSources();return{capabilities:this.sina._createCapabilities({fuzzy:false,nlq:this.supports("Search","NLSSearch")})}}supports(e,t){if(e==="misc"){let e="";if(t==="InteractionEventLists"){e="Schema[Namespace=ESH_SEARCH_SRV]>EntityContainer[Name=ESH_SEARCH_SRV_Entities]>EntitySet[Name=InteractionEventLists]"}if(t==="NavigationEvents"){e="Schema[Namespace=ESH_SEARCH_SRV]>EntityContainer[Name=ESH_SEARCH_SRV_Entities]>EntitySet[Name=NavigationEvents]"}if(e.length!==0){const t=this.querySelectorAll(e);return t.length>0}}for(let r=0;r<this.serverInfo.Services.results.length;++r){const s=this.serverInfo.Services.results[r];if(s.Id==e){if(!t){return true}for(let e=0;e<s.Capabilities.results.length;++e){const r=s.Capabilities.results[e];if(r.Id===t){return true}}}}return false}loadServerInfo(){const e=this.buildQueryUrl(this.requestPrefix,"/ServerInfos?$expand=Services/Capabilities");const t=this.buildQueryUrl(this.requestPrefix,"/$metadata");const r=this.ajaxClient.getJson(e);const i=this.ajaxClient.getXML(t);return Promise.all([r,i]).then(e=>{const t=e[0];const r=e[1];if(s.isBrowserEnv()){const e=new DOMParser;const t=e.parseFromString(r,"text/xml");if(t.documentElement.nodeName!="parsererror"){this.serviceXML=t}}else{const e=require("jsdom");const t=new e.JSDOM(r);this.serviceXML=t.window.document}return t.data})}loadBusinessObjectDataSources(){let e="/DataSources?$expand=Annotations,Attributes/UIAreas,Attributes/Annotations&$filter=Type eq 'View'";if(this.serviceXML){if(!this.isCDSAnnotationSupported()){e="/DataSources?$expand=Attributes/UIAreas&$filter=Type eq 'View'"}const t="Schema[Namespace=ESH_SEARCH_SRV]>EntityType[Name=DataSource]>Property[Name=IsInternal]";if(this.isQueryPropertySupported(t)){e=e+" and IsInternal eq false"}}const t=this.buildQueryUrl(this.requestPrefix,e);return this.ajaxClient.getJson(t).then(function(e){const t=e.data.d.results;this.metadataParser.parseDataSourceData(t,this.sorsNavigationTargetGenerator);this.sorsNavigationTargetGenerator.finishRegistration()}.bind(this))}isCDSAnnotationSupported(){if(!this.serviceXML){return false}const e="Schema[Namespace='ESH_SEARCH_SRV']>EntityType[Name='DataSource'][*|content-version='1']>NavigationProperty[Name='Annotations'],"+"Schema[Namespace='ESH_SEARCH_SRV']>EntityType[Name='DataSourceAttribute'][*|content-version='1']>NavigationProperty[Name='Annotations']";const t=this.querySelectorAll(e);if(t.length<2){return false}return true}assembleOrderBy(e){const t=[];for(let r=0;r<e.sortOrder.length;++r){const s=e.sortOrder[r];const i=s.order===this.sina.SortOrder.Descending?"desc":"asc";t.push({AttributeId:s.id,SortOrder:i})}return t}async executeSearchQuery(e){let s=t.searchRequest;const n="Schema[Namespace=ESH_SEARCH_SRV]>EntityType[Name=SearchOptions]>Property[Name=ClientServiceName]";if(!this.isQueryPropertySupported(n)){delete s.d.QueryOptions.ClientServiceName}s=JSON.parse(JSON.stringify(s));const a=e.filter.rootCondition.clone();const o=r.serialize(e.filter.dataSource,a);if(o.SubFilters.length!==0){s.d.Filter=o}else{delete s.d.Filter}s.d.DataSources=i.serialize(e.filter.dataSource);s.d.QueryOptions.SearchTerms=e.filter.searchTerm;s.d.QueryOptions.Top=e.top;s.d.QueryOptions.Skip=e.skip;s.d.OrderBy=this.assembleOrderBy(e);this.addSessionId(s);if(!e.calculateFacets){delete s.d.MaxFacetValues;delete s.d.Facets}else{s.d.MaxFacetValues=5;s.d.Facets=[{Values:[]}]}if(e.nlq){s.d.ActivateNLQ=true;s.d.ResultList.NLQQueries=[{NLQConnectorQueries:[]}]}const u=this.buildQueryUrl(this.requestPrefix,"/SearchQueries");const l=await this.ajaxClient.postJson(u,s);this.metadataParser.parseDynamicMetadata(l.data.d);const c=await this.itemParser.parse(e,l.data.d);const d=await this.facetParser.parse(e,l.data.d);const h=O(this.sina,l.data.d?.ResultList?.NLQQueries?.results);const S=this.sina._createSearchResultSet({id:l.data.d.ResultList.ExecutionID,title:"Search Result List",query:e,items:c,totalCount:l.data.d.ResultList.TotalHits,facets:d,nlqResult:h});this.sorsNavigationTargetGenerator.generateNavigationTargets(S);return S}executeChartQuery(e){let s="";let n;const a=e.filter.rootCondition.clone();let o;if(this.decideValueHelp(e)){n=JSON.parse(JSON.stringify(t.valueHelperRequest));this.removeClientOptions(n);n.d.ValueHelpAttribute=e.dimension;o=r.serialize(e.filter.dataSource,a);if(o.SubFilters.length!==0){n.d.Filter=o}else{delete n.d.Filter}n.d.ValueFilter=this.getFilterValueFromConditionTree(e.dimension,o);n.d.QueryOptions.SearchTerms=e.filter.searchTerm;n.d.DataSources=i.serialize(e.filter.dataSource);s=this.buildQueryUrl(this.requestPrefix,"/ValueHelpQueries")}else{n=JSON.parse(JSON.stringify(t.chartRequest));o=r.serialize(e.filter.dataSource,a);if(o.SubFilters.length!==0){n.d.Filter=o}else{delete n.d.Filter}n.d.DataSources=i.serialize(e.filter.dataSource);n.d.QueryOptions.SearchTerms=e.filter.searchTerm;n.d.QueryOptions.Skip=0;this.addSessionId(n);n.d.FacetRequests=[{DataSourceAttribute:e.dimension}];n.d.MaxFacetValues=e.top;s=this.buildQueryUrl(this.requestPrefix,"/SearchQueries");if(e.nlq){n.d.ActivateNLQ=true}}return this.ajaxClient.postJson(s,n).then(function(t){return this.facetParser.parse(e,t.data.d)}.bind(this)).then(function(t){if(t.length>0){return t[0]}return this.sina._createChartResultSet({title:e.filter.dataSource.getAttributeMetadata(e.dimension).label,items:[],query:e})}.bind(this))}executeHierarchyQuery(e){throw new v}decideValueHelp(e){const t=e.filter.rootCondition.conditions;for(let r=0;r<t.length;r++){if(e.filter._getAttribute(t[r])===e.dimension){return true}}return false}async executeSuggestionQuery(e){return Promise.all([this.executeRegularSuggestionQuery(e),this.executeObjectSuggestionQuery(e)]).then(function(t){const r=[];r.push(...t[1]);r.push(...t[0]);return this.sina._createSuggestionResultSet({title:"Suggestions",query:e,items:r})}.bind(this))}isObjectSuggestionQuery(e){return e.types.indexOf("Object")>=0&&e.filter.dataSource.type===e.sina.DataSourceType.BusinessObject}executeObjectSuggestionQuery(e){if(!this.supports("ObjectSuggestions")||!this.isObjectSuggestionQuery(e)){return Promise.resolve([])}const s=JSON.parse(JSON.stringify(t.objectSuggestionRequest));const n=e.filter.rootCondition.clone();const a=r.serialize(e.filter.dataSource,n);if(a.SubFilters.length!==0){s.d.Filter=a}else{delete s.d.Filter}s.d.DataSources=i.serialize(e.filter.dataSource);s.d.QueryOptions.Top=e.top;s.d.QueryOptions.Skip=e.skip;s.d.QueryOptions.SearchTerms=e.filter.searchTerm;this.addSessionId(s);if(e.nlq){s.d.ActivateNLQ=true}const o=this.buildQueryUrl(this.requestPrefix,"/SuggestionsQueries");return this.ajaxClient.postJson(o,s).then(t=>this.suggestionParser.parseObjectSuggestions(e,t.data))}executeRegularSuggestionQuery(e){if(e.types.indexOf(Q.SearchTermAI)>=0){return[]}const s=JSON.parse(JSON.stringify(t.suggestionRequest));const n=e.filter.searchTerm;const o=a.split(n);const u=e.filter.rootCondition.clone();const l=r.serialize(e.filter.dataSource,u);if(l.SubFilters.length!==0){s.d.Filter=l}else{delete s.d.Filter}s.d.DataSources=i.serialize(e.filter.dataSource);s.d.QueryOptions.Top=e.top;s.d.QueryOptions.Skip=e.skip;s.d.SuggestionInput=o.suggestionTerm;s.d.QueryOptions.SearchTerms=o.searchTerm===null?"":o.searchTerm;if(!this.includeSuggestionTypes(e,s)){return[]}this.addSessionId(s);if(e.nlq){s.d.ActivateNLQ=true}const c=this.buildQueryUrl(this.requestPrefix,"/SuggestionsQueries");return this.ajaxClient.postJson(c,s).then(t=>this.suggestionParser.parseRegularSuggestions(e,t.data)).then(e=>{a.concatenate(o,e);return e})}includeSuggestionTypes(e,t){const r={SearchTerm:{Data:"IncludeAttributeSuggestions",History:"IncludeHistorySuggestions"},Object:{},DataSource:{Data:"IncludeDataSourceSuggestions"}};const s=e.types;const i=e.calculationModes;let n=false;for(let e=0;e<s.length;e++){const a=s[e];for(let e=0;e<i.length;e++){const s=i[e];const o=r[a][s];if(typeof o==="undefined"){continue}t.d[o]=true;n=true}}return n}addSessionId(e){e.d.QueryOptions.ClientSessionID=this.sessionId;const t=(new Date).getTime();e.d.QueryOptions.ClientCallTimestamp="\\/Date("+t+")\\/"}removeClientOptions(e){delete e.d.QueryOptions.ClientSessionID;delete e.d.QueryOptions.ClientCallTimestamp;delete e.d.QueryOptions.ClientServiceName;delete e.d.QueryOptions.ClientLastExecutionID}getFilterValueFromConditionTree(e,t){if(t.ConditionAttribute&&t.ConditionAttribute===e){return t.ConditionValue}else if(t.SubFilters){let r;let s=null;for(r=0;s===null&&r<t.SubFilters.length;r++){s=this.getFilterValueFromConditionTree(e,t.SubFilters[r])}return s}return null}getConfigurationAsync(){let e=this.buildQueryUrl(this.requestPrefix,"/PersonalizedSearchMainSwitches?$filter=Selected eq true");return this.ajaxClient.getJson(e).then(t=>{const r={personalizedSearch:false,isPersonalizedSearchEditable:false};const s=t.data;switch(s.d.results[0].MainSwitch){case 3:r.isPersonalizedSearchEditable=true;break;case 4:r.isPersonalizedSearchEditable=true;break;case 2:r.isPersonalizedSearchEditable=false;break;case 1:r.isPersonalizedSearchEditable=false;break}e=this.buildQueryUrl(this.requestPrefix,"/Users('<current>')");return this.ajaxClient.getJson(e).then(function(e){if(e.data.d.IsEnabledForPersonalizedSearch){r.personalizedSearch=true}return this.sina._createConfiguration(r)}.bind(this))})}saveConfigurationAsync(e){const t={IsEnabledForPersonalizedSearch:e.personalizedSearch};const r=this.buildQueryUrl(this.requestPrefix,"/Users('<current>')");return this.ajaxClient.mergeJson(r,t)}resetPersonalizedSearchDataAsync(){const e={ClearPersonalizedSearchHistory:true};const t=this.buildQueryUrl(this.requestPrefix,"/Users('<current>')");return this.ajaxClient.mergeJson(t,e)}buildQueryUrl(e,t){if(typeof window==="undefined"){return e+t}const r=window.location.href;let s="";let i;let n="";let a="";i=r.indexOf("esh-system=sid(");if(i!==-1){const e=r.substring(i).indexOf(")");if(e!==-1){n=r.substring(i+15,i+e);if(n.length!==0){a=";o=sid("+n+")"}}}if(n.length===0){i=r.indexOf("esh-system=");if(i!==-1){const e=r.substring(i).indexOf("&");const t=r.substring(i).indexOf("#");if(e!==-1&&t!==-1){if(e<t){n=r.substring(i+11,i+e)}else{n=r.substring(i+11,i+t)}}if(e!==-1&&t===-1){n=r.substring(i+11,i+e)}if(e===-1&&t!==-1){n=r.substring(i+11,i+t)}if(e===-1&&t===-1){n=r.substring(i+11)}}if(n.length!==0){a=";o="+n}}s=e+a+t;return s}getDebugInfo(){return`Searchsystem: ${this.serverInfo.SystemId} Client: ${this.serverInfo.Client} ESH Search API Provider: ${this.id}`}isQueryPropertySupported(e){if(this.serviceXML===undefined){return false}const t=this.querySelectorAll(e);if(t.length>0){return true}return false}transformPathToJsDomPath(e){function t(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function r(e,r,s){return e.replace(new RegExp(t(r),"g"),s)}const s=[["Schema","schema"],["EntityType","entitytype"],["EntityContainer","entitycontainer"],["EntitySet","EntitySet"],["NavigationProperty","navigationproperty"],["Property","property"],[">"," "],["content-version","sap:\\content-version"]];for(const t of s){const[s,i]=t;e=r(e,s,i)}return e}querySelectorAll(e){if(this.serviceXML===undefined){return undefined}if(!s.isBrowserEnv()){e=this.transformPathToJsDomPath(e)}return this.serviceXML.querySelectorAll(e)}}var N={__esModule:true};N.Provider=x;return N})})();
},
	"sap/esh/search/ui/sinaNexTS/providers/abap_odata/ajax.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){
/*!
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.define(["../../core/AjaxClient","./ajaxErrorFactory","./ajaxTemplates","../../core/defaultAjaxErrorFactory"],function(e,t,r,n){"use strict";const s=e["AjaxClient"];const i=t["ajaxErrorFactory"];const o=r["isSearchRequest"];const c=r["isChartRequest"];const a=r["isValueHelperRequest"];const u=r["isSuggestionRequest"];const l=r["isObjectSuggestionRequest"];const d=r["isNavigationEvent"];const f=n["createDefaultAjaxErrorFactory"];const x=function(e){if(e.SubFilters!==undefined){delete e.ActAsQueryPart;for(let t=0;t<e.SubFilters.length;t++){this._removeActAsQueryPart(e.SubFilters[t])}}};function S(e){const t={csrf:true,errorFactories:[i,f()],errorFormatters:[],requestNormalization:function(e){if(e===null){return""}if(d(e)){return{NotToRecord:true}}if(o(e)||c(e)||a(e)||u(e)||l(e)){delete e.d.QueryOptions.ClientSessionID;delete e.d.QueryOptions.ClientCallTimestamp;delete e.d.QueryOptions.ClientServiceName;delete e.d.QueryOptions.ClientLastExecutionID;let t=JSON.stringify(e);const r='"DataSources":[';const n="]";const s=t.indexOf(r);const i=s+t.substring(s).indexOf(n)+n.length;const d=',"ExcludedDataSources":[]';t=[t.slice(0,i),d,t.slice(i)].join("");e=JSON.parse(t);if(e.d.Filter&&(o(e)||c(e)||a(e)||u(e)||l(e))){x(e.d.Filter)}}return e}};e=Object.assign({},t,e);const r=new s(e);return r}var j={__esModule:true};j.createAjaxClient=S;return j})})();
},
	"sap/esh/search/ui/sinaNexTS/providers/abap_odata/ajaxErrorFactory.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){sap.ui.define(["../../core/errors","../../sina/i18n"],function(r,e){"use strict";const o=r["ServerErrorCode"];const n=r["ServerError"];const t=e["getText"];function i(r,e){if(!e.data){return}const i=e.dataJSON;if(!i){return}if(typeof i!=="object"){return}if(!i?.error?.code){return}const s=[];s.push(t("error.sina.generalServerError2"));s.push(t("error.sina.errorCode",[i.error.code]));if(i?.error?.message?.value){const r=i.error.message.value.trim();s.push(r)}const a=[];if(i?.error?.innererror){const r=i?.error?.innererror;if(r?.application?.component_id){a.push(t("error.sina.applicationComponent",[r?.application?.component_id]))}if(r?.Error_Resolution?.SAP_Note){a.push(t("error.sina.solutionNote",[r?.Error_Resolution?.SAP_Note]))}}return new n({request:r,response:e,code:o.E001,message:s.join("\n"),details:a.join("\n")})}var s={__esModule:true};s.ajaxErrorFactory=i;return s})})();
},
	"sap/esh/search/ui/sinaNexTS/providers/abap_odata/ajaxTemplates.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){
/*!
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.define([],function(){"use strict";function e(e){if(typeof e==="object"){const t=e;if(typeof t.d==="object"){const e=t;if(typeof e.d.QueryOptions==="object"){const t=e.d.QueryOptions;if(typeof t.SearchType==="string"&&t.SearchType===""){return true}}}}return false}const t={d:{Filter:{},Id:"1",QueryOptions:{SearchTerms:"",Top:10,Skip:0,SearchType:"",ClientSessionID:"",ClientCallTimestamp:"",ClientServiceName:"",ClientLastExecutionID:""},DataSources:[],OrderBy:[],ResultList:{SearchResults:[{HitAttributes:[],Attributes:[]}]},ExecutionDetails:[],MaxFacetValues:5,Facets:[{Values:[]}]}};function i(e){if(typeof e==="object"){const t=e;if(typeof t.d==="object"){const e=t;if(typeof e.d.QueryOptions==="object"){const t=e;return typeof t.d.QueryOptions.SearchType==="string"&&t.d.QueryOptions.SearchType==="F"}}}return false}const s={d:{Id:"1",DataSources:[],Filter:{},QueryOptions:{SearchTerms:"",Skip:0,SearchType:"F",ClientSessionID:"",ClientCallTimestamp:"",ClientServiceName:"",ClientLastExecutionID:""},FacetRequests:[],MaxFacetValues:5,Facets:[{Values:[]}],ExecutionDetails:[]}};function n(e){if(typeof e==="object"){const t=e;if(typeof t.d==="object"){const e=t;if(typeof e.d.ValueHelpAttribute==="string")return true}}return false}const r={d:{Id:"1",ValueHelpAttribute:"",ValueFilter:"",DataSources:[],Filter:{},QueryOptions:{SearchTerms:"",Top:1e3,Skip:0,SearchType:"V",ClientSessionID:"",ClientCallTimestamp:"",ClientServiceName:"",ClientLastExecutionID:""},ValueHelp:[]}};function u(e){if(typeof e==="object"){const t=e;if(typeof t.d==="object"){const e=t;if(typeof e.d.SuggestionInput==="string")return true}}return false}const o={d:{Id:"1",SuggestionInput:"",IncludeAttributeSuggestions:false,IncludeHistorySuggestions:false,IncludeDataSourceSuggestions:false,DetailLevel:1,QueryOptions:{Top:0,Skip:0,SearchType:"S",SearchTerms:"",ClientSessionID:"",ClientCallTimestamp:"",ClientServiceName:"",ClientLastExecutionID:""},Filter:{},DataSources:[],Suggestions:[],ExecutionDetails:[]}};function c(e){if(typeof e==="object"){const t=e;if(typeof t.d==="object"){const e=t;if(e.d.IncludeAttributeSuggestions!=="undefined"&&e.d.IncludeAttributeSuggestions===true)return true}}return false}const a={d:{Id:"1",IncludeAttributeSuggestions:true,QueryOptions:{SearchTerms:"a",Top:10,Skip:0,ClientSessionID:"",ClientCallTimestamp:"",ClientServiceName:"",ClientLastExecutionID:""},DataSources:[{Id:"UIA000~EPM_BPA_DEMO~",Type:"View"}],ObjectSuggestions:{SearchResults:[{HitAttributes:[],Attributes:[]}]},Filter:{},ExecutionDetails:[]}};function l(e){if(typeof e==="object"){const t=e;return typeof t.SemanticObjectType==="string"&&typeof t.Intent==="string"&&typeof t.System==="string"&&typeof t.Client==="string"&&Array.isArray(t.Parameters)}return false}var p={__esModule:true};p.isSearchRequest=e;p.searchRequest=t;p.isChartRequest=i;p.chartRequest=s;p.isValueHelperRequest=n;p.valueHelperRequest=r;p.isSuggestionRequest=u;p.suggestionRequest=o;p.isObjectSuggestionRequest=c;p.objectSuggestionRequest=a;p.isNavigationEvent=l;return p})})();
},
	"sap/esh/search/ui/sinaNexTS/providers/abap_odata/conditionSerializer.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){
/*!
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.define(["../../sina/ComparisonOperator","./typeConverter","../../sina/ComplexCondition","../../sina/SimpleCondition","../../core/errors","./ComparisonOperator","../../sina/LogicalOperator"],function(t,e,o,r,n,i,a){"use strict";const s=t["ComparisonOperator"];const c=o["ComplexCondition"];const u=r["SimpleCondition"];const p=n["InBetweenConditionInConsistent"];const d=n["UnknownComparisonOperatorError"];const l=i["ABAPODataComparisonOperator"];const C=a["LogicalOperator"];class O{dataSource;constructor(t){this.dataSource=t}convertSinaToOdataOperator(t){switch(t){case s.Eq:return"EQ";case s.Lt:return"LT";case s.Gt:return"GT";case s.Le:return"LE";case s.Ge:return"GE";case s.Co:return"EQ";case s.Bw:return"EQ";case s.Ew:return"EQ";case C.And:return"AND";case C.Or:return"OR";default:throw new d(t)}}serializeComplexCondition(t){const e={ActAsQueryPart:false,Id:1,OperatorType:this.convertSinaToOdataOperator(t.operator),SubFilters:[]};const o="Schema[Namespace=ESH_SEARCH_SRV]>EntityType[Name=SearchFilter]>Property[Name=ActAsQueryPart]";if(t.sina.provider.isQueryPropertySupported(o)){e.ActAsQueryPart=true}const r=t.conditions;for(let t=0;t<r.length;++t){const o=r[t];e.SubFilters.push(this.serialize(o))}return e}serializeSimpleCondition(t){const o=this.dataSource.getAttributeMetadata(t.attribute);const r=o.type;const n={ConditionAttribute:t.attribute,ConditionOperator:this.convertSinaToOdataOperator(t.operator),ConditionValue:t.isDynamicValue?t.value:e.sina2Odata(r,t.value,{operator:t.operator}),SubFilters:[]};return n}serializeBetweenCondition(t){let o;let r;const n=t.conditions[0];const i=t.conditions[1];if(n instanceof u&&i instanceof u){const t=this.dataSource.getAttributeMetadata(n.attribute);const a=t.type;if(n.operator===s.Ge){o=n.value;r=i.value}else{o=i.value;r=n.value}const c={ConditionAttribute:n.attribute,ConditionOperator:l.Bt,ConditionValue:e.sina2Odata(a,o),ConditionValueHigh:e.sina2Odata(a,r),SubFilters:[]};return c}throw new p}serialize(t){if(t instanceof c){if(t.operator===C.And&&t.conditions[0]&&(t.conditions[0].operator===s.Ge||t.conditions[0].operator===s.Gt||t.conditions[0].operator===s.Le||t.conditions[0].operator===s.Lt)){if(t.conditions.length===1){return this.serializeSimpleCondition(t.conditions[0])}return this.serializeBetweenCondition(t)}return this.serializeComplexCondition(t)}if(t instanceof u){return this.serializeSimpleCondition(t)}}}function S(t,e){const o=new O(t);return o.serialize(e)}var h={__esModule:true};h.serialize=S;return h})})();
},
	"sap/esh/search/ui/sinaNexTS/providers/abap_odata/dataSourceSerializer.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){
/*!
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.define([],function(){"use strict";function e(e){if(e===e.sina.getAllDataSource()){return[{Id:"<All>",Type:"Category"}]}let a;const s=[];let r;switch(e.type){case e.sina.DataSourceType.Category:a="Category";s.push({Id:e.id,Type:a});break;case e.sina.DataSourceType.BusinessObject:a="View";s.push({Id:e.id,Type:a});break;case e.sina.DataSourceType.UserCategory:r=e;if(!r.subDataSources||Array.isArray(r.subDataSources)===false){break}for(const e of r.subDataSources){switch(e.type){case e.sina.DataSourceType.Category:a="Category";s.push({Id:e.id,Type:a});break;case e.sina.DataSourceType.BusinessObject:a="View";s.push({Id:e.id,Type:a});break}}}return s}var a={__esModule:true};a.serialize=e;return a})})();
},
	"sap/esh/search/ui/sinaNexTS/providers/abap_odata/labelCalculation.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){
/*!
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.define(["../../core/LabelCalculator"],function(l){"use strict";const a=l["LabelCalculator"];function e(){return new a({key:function(l){return[l.labelPlural,l.system.id]},data:function(l){return{label:l.label,labelPlural:l.labelPlural}},setLabel:function(l,a,e){a[0]=e.label;l.label=a.join(" ");a[0]=e.labelPlural;l.labelPlural=a.join(" ")},setFallbackLabel:function(l,a){l.label=a.labelPlural+" duplicate "+l.id;l.labelPlural=l.label}})}var u={__esModule:true};u.createLabelCalculator=e;return u})})();
},
	"sap/esh/search/ui/sinaNexTS/providers/abap_odata/nlqParser.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){sap.ui.define(["../../sina/i18n"],function(e){"use strict";const t=e["getText"];function n(e,n){if(!n||n.length===0){return{success:false,filterDescription:""}}const s=[];for(const r of n){if(n.length>1){const n=r?.NLQConnectorQueries?.results[0]?.ConnectorID;const i=e.getDataSource(n);s.push(t("nlqDataSourceAndFilterDescription",[i?i.label:n,r.Description]))}else{s.push(r.Description)}}let r="";if(s.length>0){r="<code>"+s.join("<br/>")+"</code>"}return{success:true,filterDescription:r}}var s={__esModule:true};s.parseNlqInfo=n;return s})})();
},
	"sap/esh/search/ui/sinaNexTS/providers/abap_odata/suggestionParser.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){
/*!
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.define(["../../sina/SearchResultSetItemAttribute","../../sina/SuggestionCalculationMode"],function(e,t){"use strict";const r=e["SearchResultSetItemAttribute"];const s=t["SuggestionCalculationMode"];class a{provider;sina;itemParser;constructor(e,t){this.provider=e;this.sina=e.sina;this.itemParser=t}parseObjectSuggestions(e,t){if(!t.d.ObjectSuggestions||!t.d.ObjectSuggestions.SearchResults||!t.d.ObjectSuggestions.SearchResults.results){return[]}const r=[];const s=t.d.ObjectSuggestions.SearchResults.results;for(let e=0;e<s.length;++e){const t=s[e];r.push(this.parseObjectSuggestion(t))}return Promise.all(r)}parseObjectSuggestion(e){return this.itemParser.parseItem(e).then(function(e){this.fillValueHighlighted(e);const t=e.titleAttributes.filter(e=>e instanceof r).map(function(e){return e.valueFormatted}).join(" ");return this.sina._createObjectSuggestion({calculationMode:s.Data,label:t,object:e})}.bind(this))}fillValueHighlighted(e){const t=function(e){if(!e){return}for(let t=0;t<e.length;++t){const r=e[t];if(!r.valueHighlighted){r.valueHighlighted=r.valueFormatted}}};t(e.detailAttributes);t(e.titleAttributes)}parseRegularSuggestions(e,t){const r=[];let s;let a;const i=[];let n;let c;if(!t.d.Suggestions||!t.d.Suggestions.results){return[]}const o=t.d.Suggestions.results;for(let t=0;t<o.length;t++){s=null;n=o[t];switch(n.Type){case"H":s=this.parseSearchTermSuggestion(e,n);break;case"A":s=this.parseSearchTermAndDataSourceSuggestion(e,n);s.cell=n;break;case"M":s=this.parseDataSourceSuggestion(e,n);break}if(s){if(s.type===this.sina.SuggestionType.SearchTermAndDataSource){if(i[s.searchTerm]===undefined){c=this._getParentCell(s.cell);a=this.parseSearchTermSuggestion(e,c);i[s.searchTerm]=a}delete s.cell;i[s.searchTerm].childSuggestions.push(s)}else{r.push(s)}}}Object.keys(i).forEach(function(e){r.push(i[e])});return r}parseDataSourceSuggestion(e,t){const r=s.Data;const a=this.sina.getDataSource(t.FromDataSource);if(!a){return null}const i=e.filter.clone();i.setDataSource(a);return this.sina._createDataSourceSuggestion({calculationMode:r,dataSource:a,label:t.SearchTermsHighlighted})}parseSearchTermSuggestion(e,t){const r=this.parseCalculationMode(t.Type);const s=e.filter.clone();s.setSearchTerm(t.SearchTerms);return this.sina._createSearchTermSuggestion({searchTerm:t.SearchTerms,calculationMode:r,filter:s,label:t.SearchTermsHighlighted})}parseSearchTermAndDataSourceSuggestion(e,t){const r=this.parseCalculationMode(t.Type);const s=e.filter.clone();s.setSearchTerm(t.SearchTerms);const a=this.sina.getDataSource(t.FromDataSource);if(!a){return null}s.setDataSource(a);return this.sina._createSearchTermAndDataSourceSuggestion({searchTerm:t.SearchTerms,dataSource:a,calculationMode:r,filter:s,label:t.SearchTermsHighlighted})}parseCalculationMode(e){switch(e){case"H":return s.History;case"A":case"M":return s.Data}}_getParentCell(e){const t=e;t.FromDataSource="<All>";t.FromDataSourceAttribute="";t.Type="A";return t}}var i={__esModule:true};i.SuggestionParser=a;return i})})();
},
	"sap/esh/search/ui/sinaNexTS/providers/abap_odata/suggestionTermSplitter.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){
/*!
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.define(["../../sina/SuggestionType"],function(e){"use strict";const t=e["SuggestionType"];function n(e){return typeof e==="object"&&e!==null&&"type"in e&&(e.type===t.SearchTerm||e.type===t.SearchTermAndDataSource)}class r{split(e){const t=e.lastIndexOf(" ");if(t<0){return{searchTerm:null,suggestionTerm:e}}let n=e.slice(0,t);n=n.replace(/\s+$/,"");if(n.length===0){return{searchTerm:null,suggestionTerm:e}}let r=e.slice(t);r=r.replace(/^\s+/,"");if(r.length===0){return{searchTerm:null,suggestionTerm:e}}return{searchTerm:n,suggestionTerm:r}}concatenate(e,t){if(!e.searchTerm){return}let r;const s=[];const c=e.searchTerm.split(" ");for(let e=0;e<c.length;e++){r=c[e];r=r.trim();s.push({term:r,regExp:new RegExp(this.escapeRegExp(r),"i")})}for(let c=0;c<t.length;++c){const i=t[c];if(!n(i)){continue}const l=[];for(let e=0;e<s.length;++e){const t=s[e];if(!t.regExp.test(i.filter.searchTerm)){l.push(t.term)}}const o=[];const u=l.join(" ");for(let e=0;e<l.length;e++){r=l[e];o.push("<b>"+r+"</b>")}const a=o.join(" ");i.label=a+" "+i.label;i.filter.searchTerm=i.searchTerm=u+" "+i.filter.searchTerm;if(i.childSuggestions&&i.childSuggestions.length>0){this.concatenate(e,i.childSuggestions)}}}escapeRegExp(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}}function s(e){const t=new r;return t.split(e)}function c(e,t){const n=new r;return n.concatenate(e,t)}var i={__esModule:true};i.split=s;i.concatenate=c;return i})})();
},
	"sap/esh/search/ui/sinaNexTS/providers/abap_odata/typeConverter.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){
/*!
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.define(["../../sina/AttributeType","../../sina/util","../../core/errors"],function(t,e,n){"use strict";const r=t["AttributeType"];const s=n["NotImplementedError"];const a=n["UnknownAttributeTypeError"];function i(t,e,n={}){switch(t){case r.Double:return e.toString();case r.Integer:return e.toString();case r.String:return d(e,n);case r.ImageUrl:return e;case r.ImageBlob:throw new s;case r.GeoJson:return e;case r.Date:return p(e);case r.Time:return g(e);case r.Timestamp:return u(e);default:throw new a(t)}}function o(t,e){switch(t){case r.Double:return parseFloat(e);case r.Integer:return parseInt(e,10);case r.String:return e;case r.ImageUrl:return e;case r.ImageBlob:throw new s;case r.GeoJson:return e;case r.Date:return f(e);case r.Time:return l(e);case r.Timestamp:return c(e);default:throw new a(t)}}function c(t){if(t.length===0){return""}t=t.trim();const e=parseInt(t.slice(0,4),10);const n=parseInt(t.slice(5,7),10);const r=parseInt(t.slice(8,10),10);const s=parseInt(t.slice(11,13),10);const a=parseInt(t.slice(14,16),10);const i=parseInt(t.slice(17,19),10);const o=isNaN(parseInt(t.slice(20,20+6),10))?0:parseInt(t.slice(20,20+6),10);return new Date(Date.UTC(e,n-1,r,s,a,i,o/1e3))}function u(t){if(typeof t==="string"){if(t.length===0){return""}if(t==="$$now$$"){t=new Date}}const e=t.getUTCFullYear();const n=t.getUTCMonth()+1;const r=t.getUTCDate();const s=t.getUTCHours();const a=t.getUTCMinutes();const i=t.getUTCSeconds();const o=t.getUTCMilliseconds()*1e3;const c=m(e.toString(),4)+"-"+m(n.toString(),2)+"-"+m(r.toString(),2)+"T"+m(s.toString(),2)+":"+m(a.toString(),2)+":"+m(i.toString(),2)+"."+m(o.toString(),7)+"Z";return c}function l(t){if(t.length===0){return""}t=t.trim();return t}function g(t){if(t.length===0){return""}return t}function f(t){if(t.length===0){return""}t=t.trim();return t.slice(0,4)+"/"+t.slice(5,7)+"/"+t.slice(8,10)}function p(t){if(t.length===0){return""}return t.slice(0,4)+"-"+t.slice(5,7)+"-"+t.slice(8,10)}function d(t,n){return e.convertOperator2Wildcards(t,n.operator)}function m(t,e){return"00000000000000".slice(0,e-t.length)+t}var T={__esModule:true};T.sina2Odata=i;T.odata2Sina=o;T.odata2SinaTimestamp=c;T.sina2OdataTimestamp=u;T.odata2SinaTime=l;T.sina2OdataTime=g;T.odata2SinaDate=f;T.sina2OdataDate=p;T.sina2OdataString=d;T.addLeadingZeros=m;return T})})();
},
	"sap/esh/search/ui/sinaNexTS/providers/dummy/Provider.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){
/*!
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.define(["../../core/errors","../AbstractProvider"],function(e,r){"use strict";const t=e["NotImplementedError"];const n=r["AbstractProvider"];class o extends n{executeSearchQuery(){throw new t}executeChartQuery(){throw new t}executeHierarchyQuery(e){throw new t}async executeSuggestionQuery(){throw new t}id="dummy";async initAsync(){return Promise.resolve()}}var c={__esModule:true};c.Provider=o;return c})})();
},
	"sap/esh/search/ui/sinaNexTS/providers/hana_odata/FacetParser.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){
/*!
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.define(["../../sina/SearchQuery","./typeConverter","../../sina/LogicalOperator","../../sina/ComparisonOperator","../../sina/ChartQuery","../../core/Log","../../core/errors","./HierarchyParser"],function(e,t,a,r,o,i,s,n){"use strict";const c=e["SearchQuery"];const l=a["LogicalOperator"];const u=r["ComparisonOperator"];const p=o["ChartQuery"];const m=i["Log"];const h=s["FacetsParseError"];const d=n["HierarchyParser"];class f{log;provider;sina;constructor(e){this.provider=e;this.sina=e.sina;this.log=new m("hana_odata facet parser")}async parse(e,t){const a=new d;const r=t["@com.sap.vocabularies.Search.v1.Facets"];if(!r){return Promise.resolve([])}if(t.error){this.log.warn("Server-side Warning: "+t.error.message)}const o=[];for(let t=0;t<r.length;t++){const i=r[t];let s;if(e.filter.dataSource===e.sina.getAllDataSource()){try{s=this.parseDataSourceFacet(e,i)}catch(e){this.log.warn("Error occurred by parsing dataource item number "+t+": "+e.message);continue}}else{if(e.filter.dataSource.type===e.sina.DataSourceType.Category){continue}if(i["@com.sap.vocabularies.Search.v1.Facet"].Dimensions[0].PropertyType==="GeometryPolygonFacet"){continue}try{const t=this.parseFacetAttribute(e,i);if(t.isHierarchy){s=a.parseHierarchyFacet(e,t,i)}else{s=this.parseChartFacet(e,t,i)}}catch(e){let a="";if(i.Items&&Array.isArray(i.Items)){a=JSON.stringify(i)}this.log.warn("Error occurred by parsing facet "+(i["@com.sap.vocabularies.Common.v1.Label"]||"")+"', facet position: "+t+": "+e.message+"; item data: "+a);continue}}o.push(s)}return Promise.all(o)}parseDataSourceFacet(e,t){let a=e;if(e instanceof c){a=this.sina.createDataSourceQuery({dataSource:e.filter.dataSource,filter:e.filter.clone(),nlq:e.nlq})}const r=[];for(let e=0;e<t.Items.length;e++){const a=t.Items[e];let o=this.sina.getDataSource(a.scope);if(!o){o=this.sina.createDataSource({type:this.sina.DataSourceType.Category,id:a.ValueLow,label:a.Description})}r.push(this.sina._createDataSourceResultSetItem({dataSource:o,dimensionValueFormatted:o.labelPlural,measureValue:a._Count,measureValueFormatted:a._Count.toString()}))}const o=this.sina._createDataSourceResultSet({title:e.filter.dataSource.label,items:r,query:a});if(e instanceof c){return a._setResultSet(o)}return o}createAttributeFilterCondition(e,a,r){if(typeof r[e]==="object"&&(Object.prototype.hasOwnProperty.call(r[e],"From")||Object.prototype.hasOwnProperty.call(r[e],"From"))){const o=this.sina.createComplexCondition({attributeLabel:a.label,valueLabel:this.formatFacetValue(r[e]),operator:l.And,conditions:[]});let i,s;if(!r[e].From){s=this.sina.createSimpleCondition({attribute:e,operator:u.Le,value:t.odata2Sina(a.type,r[e].To)});o.conditions.push(s)}else if(!r[e].To){i=this.sina.createSimpleCondition({attribute:e,operator:u.Ge,value:t.odata2Sina(a.type,r[e].From)});o.conditions.push(i)}else{i=this.sina.createSimpleCondition({attribute:e,operator:u.Ge,value:t.odata2Sina(a.type,r[e].From)});o.conditions.push(i);s=this.sina.createSimpleCondition({attribute:e,operator:u.Le,value:t.odata2Sina(a.type,r[e].To)});o.conditions.push(s)}return o}let o=t.convertValueToString(t.odata2Sina(a.type,r[e]));const i=r[e+"@com.sap.vocabularies.Common.v1.Text"];if(typeof i==="string"&&i.length>0){if(i.startsWith("sap-icon://")===false){o=i}}return this.sina.createSimpleCondition({attributeLabel:a.label,attribute:e,value:r[e],valueLabel:o})}formatFacetValue(e){const t="";if(e["@com.sap.vocabularies.Common.v1.Label"]){return e["@com.sap.vocabularies.Common.v1.Label"]}if(typeof e==="object"&&(Object.prototype.hasOwnProperty.call(e,"From")||Object.prototype.hasOwnProperty.call(e,"To"))){e=(e.From||t)+"..."+(e.To||t)}return e}parseFacetAttribute(e,t){const a=e.filter.dataSource;let r="";if(e instanceof p&&e.dimension){r=e.dimension}else{if(t["@com.sap.vocabularies.Search.v1.Facet"]&&t["@com.sap.vocabularies.Search.v1.Facet"].Dimensions&&t["@com.sap.vocabularies.Search.v1.Facet"].Dimensions[0]&&t["@com.sap.vocabularies.Search.v1.Facet"].Dimensions[0].PropertyName){r=t["@com.sap.vocabularies.Search.v1.Facet"].Dimensions[0].PropertyName}else{throw new h}}const o=a.getAttributeMetadata(r);return o}async parseChartFacet(e,t,a){const r=e.filter.dataSource;const o=[];let i=e;const s=e.filter.clone();s.setDataSource(r);s.setRootCondition(e.filter.rootCondition.clone());i=this.sina.createChartQuery({filter:s,dimension:t.id,nlq:e.nlq});const n=t.usage?.AdvancedSearch?.iconUrlAttributeName||t.id+"@com.sap.vocabularies.Common.v1.Text";const l=a.Items.findIndex(e=>e[n]?.startsWith("sap-icon://"))>-1;for(let e=0;e<a.Items.length;e++){const r=a.Items[e];const i=r[t.id+"@com.sap.vocabularies.Common.v1.Text"];let s="";if(l===true){s="sap-icon://none"}let n=this.formatFacetValue(r[t.id]);if(typeof i==="string"&&i.length>0){if(i.startsWith("sap-icon://")){s=i}else{n=i;s=r[t.usage?.AdvancedSearch?.iconUrlAttributeName]||s}}else{s=r[t.usage?.AdvancedSearch?.iconUrlAttributeName]||s}o.push(this.sina._createChartResultSetItem({filterCondition:this.createAttributeFilterCondition(t.id,t,r),dimensionValueFormatted:n,measureValue:r._Count,measureValueFormatted:r._Count,icon:s}))}const u=this.sina._createChartResultSet({title:t.label,items:o,query:i});if(e instanceof c){return i._setResultSet(u)}return u}}var y={__esModule:true};y.FacetParser=f;return y})})();
},
	"sap/esh/search/ui/sinaNexTS/providers/hana_odata/HierarchyMetadataParser.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){sap.ui.define(["../../sina/HierarchyDisplayType"],function(e){"use strict";const t=e["HierarchyDisplayType"];class i{jQuery;constructor(jQuery){this.jQuery=jQuery}parse(e,t){const i=this;const r={};i.jQuery(t).find(">Collection").each(function(){i.jQuery(this).find(">Record").each(function(){const t=i.parseRecord(e,this);r[t.attributeName]=t})});return r}parseRecord(e,i){const r={name:"",attributeName:"",displayType:t.DynamicHierarchyFacet,isHierarchyDefinition:false,parentAttributeName:"",childAttributeName:""};const a=this;a.jQuery(i).find(">PropertyValue").each(function(){switch(a.jQuery(this).attr("Property")){case"Definition":r.name=a.jQuery(this).attr("String");break;case"Name":r.attributeName=a.jQuery(this).attr("String");break;case"displayType":switch(a.jQuery(this).attr("String")){case"TREE":r.displayType=t.StaticHierarchyFacet;break;case"FLAT":r.displayType=t.HierarchyResultView;break}break;case"Recurse":Object.assign(r,a.parseRecurse(this))}});r.isHierarchyDefinition=a.calculateIsHierarchyDefinition(e,r.name);if(r.isHierarchyDefinition){delete r.displayType}return r}calculateIsHierarchyDefinition(e,t){if(e.endsWith("Type")){e=e.slice(0,-4)}t=t.replace(/[.:]/g,"");return e===t}parseRecurse(e){const t=this;const i={parentAttributeName:"",childAttributeName:""};t.jQuery(e).find("PropertyValue").each(function(){switch(t.jQuery(this).attr("Property")){case"Parent":t.jQuery(this).find("Collection").each(function(){i.parentAttributeName=t.parseCollection(this)});break;case"Child":t.jQuery(this).find(">Collection").each(function(){i.childAttributeName=t.parseCollection(this)})}});return i}parseCollection(e){const t=this;let i;t.jQuery(e).find(">PropertyPath").each(function(){i=t.jQuery(this).text()});return i}}var r={__esModule:true};r.HierarchyMetadataParser=i;return r})})();
},
	"sap/esh/search/ui/sinaNexTS/providers/hana_odata/HierarchyNodePathParser.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){sap.ui.define(["../../sina/AttributeGroupMetadata","../../sina/AttributeMetadata"],function(t,e){"use strict";const a=t["AttributeGroupMetadata"];const i=e["AttributeMetadata"];class r{sina;constructor(t){this.sina=t}parse(t,e){const r=[];if(!t){return r}const o=e.filter.dataSource._getStaticHierarchyAttributeForDisplay();for(const n of t){const t=n.scope;let s="";let c="";const l=e.filter.dataSource.attributeMetadataMap[t];if(o instanceof a){const t=o._private?.childAttribute;if(t instanceof i){s=t.id}const e=o._private?.parentAttribute;if(e instanceof i){c=e.iconUrlAttributeName}}else if(o instanceof i){s=l.id;c=l.iconUrlAttributeName}if(!s){s="node_value"}const u=n.hierarchy.length;const f=[];n.hierarchy.forEach((a,i)=>{let r=false;let o=false;let n=a[c]||a["icon"]||"sap-icon://folder";let l=a[s]||a["node_value"]||a[t]||a["node_id"];if(i===0){r=true;if(a[t]==="$$ROOT$$"){n=e.filter.dataSource.icon||"sap-icon://home";l=e.filter.dataSource.labelPlural||e.filter.dataSource.label||l}}else if(i===u-1){o=true;n=a[c]||a["icon"]||"sap-icon://open-folder"}f.push(this.sina.createHierarchyNode({id:a[t]||a["node_id"],label:l,isFirst:r,isLast:o,icon:n}))});r.push(this.sina.createHierarchyNodePath({name:n.scope,path:f}))}return r}}var o={__esModule:true};o.HierarchyNodePathParser=r;return o})})();
},
	"sap/esh/search/ui/sinaNexTS/providers/hana_odata/HierarchyParser.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){sap.ui.define(["../../sina/HierarchyQuery"],function(e){"use strict";const r=e["HierarchyQuery"];class n{parseHierarchyFacet(e,n,t){const a=e instanceof r?e.nodeId:"$$ROOT$$";const i=e.sina.createHierarchyQuery({filter:e.filter.clone(),attributeId:n.id,nodeId:a,nlq:e.nlq});const o=e.sina._createHierarchyResultSet({query:i,node:null,items:[],title:t["@com.sap.vocabularies.Common.v1.Label"]||""});const s={};const c=[];const d=t.Items||[];for(const r of d){const t=r[n.id];let a=s[t];if(!a){a=e.sina.createHierarchyNode({id:t,label:r[n.id+"@com.sap.vocabularies.Common.v1.Text"],count:r._Count,hasChildren:r._HasChildren});c.push(a);s[t]=a}else{a.label=r[n.id+"@com.sap.vocabularies.Common.v1.Text"];a.count=r._Count}const i=JSON.parse(r._Parent)[n.id];let o=s[i];if(!o){o=e.sina.createHierarchyNode({id:i});c.push(o);s[i]=o}o.addChildNode(a)}const l=c.find(e=>e.id===a);o.node=l;return o}}var t={__esModule:true};t.HierarchyParser=n;return t})})();
},
	"sap/esh/search/ui/sinaNexTS/providers/hana_odata/ItemParser.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){
/*!
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.define(["../../core/util","./typeConverter","../../core/Log","../tools/WhyfoundProcessor","./HierarchyNodePathParser"],function(t,e,a,r,i){"use strict";const s=a["Log"];const o=r["WhyfoundProcessor"];const n=i["HierarchyNodePathParser"];class u{provider;sina;suvNavTargetResolver;log=(()=>new s("hana_odata item parser"))();hierarchyNodePathParser;constructor(t){this.provider=t;this.sina=t.sina;this.suvNavTargetResolver=this.sina._createSuvNavTargetResolver({sina:this.sina});this.hierarchyNodePathParser=new n(this.sina)}async parse(t,e){if(!e.value){return Promise.resolve([])}if(e.error){this.log.warn("Server-side Warning: "+e.error.message)}const a=e.value;const r=[];for(let e=0;e<a.length;++e){const i=a[e];let s;try{s=this.parseItem(i,t);r.push(s)}catch(t){this.log.warn("Error occurred by parsing result item number "+e+": "+t.message)}}return Promise.all(r)}async parseItem(a,r){const i=[];const s=[];const n=[];const u=[];const c={};const l={};let g=a["@odata.context"]||"";const h=g.lastIndexOf("#");if(h>-1){g=g.slice(h+1)}const d=this.sina.getDataSource(g)??r.getDataSource();let v=undefined;if(a["@com.sap.vocabularies.Search.v1.ParentHierarchies"]){const t=a["@com.sap.vocabularies.Search.v1.ParentHierarchies"];v=this.hierarchyNodePathParser.parse(t,r)}const p=a["@com.sap.vocabularies.Search.v1.WhyFound"]||{};const f=a["@com.sap.vocabularies.Search.v1.hasChildren"]||false;const m=this.sina._createSearchResultSetItemAttribute({id:"HASHIERARCHYNODECHILD",label:"HASHIERARCHYNODECHILD",value:f.toString(),valueFormatted:f.toString(),valueHighlighted:f.toString(),isHighlighted:false,metadata:undefined,groups:[]});c[m.id]=m;i.push(m);let y;let b="";const A={};let T,S;const P=[];let N;const H=Number(a["@com.sap.vocabularies.Search.v1.Ranking"]);const I=new o(this.sina);const R=this.preParseItem(a);for(const a in R){if(r.groupBy&&r.groupBy.aggregateCountAlias&&r.groupBy.aggregateCountAlias===a){continue}const o=R[a];y=d.getAttributeMetadata(a);if(y.id=="LOC_4326"){y.usage.Detail.displayOrder=-1}const g=e.odata2Sina(y.type,o.value);const h=I.processRegularWhyFoundAttributes(a,o,p,y);const v=this.sina._createSearchResultSetItemAttribute({id:y.id,label:y.label,value:g,valueFormatted:undefined,valueHighlighted:h,isHighlighted:I.calIsHighlighted(h),metadata:y,groups:[]});if(y.iconUrlAttributeName&&R[y.iconUrlAttributeName]){const t=R[y.iconUrlAttributeName];if(t){if(typeof t==="object"&&"value"in t&&typeof t.value==="string"&&t.value){v.iconUrl=t.value}else if(typeof t==="string"){v.iconUrl=t}}}t.appendRemovingDuplicates(P,t.extractHighlightedTerms(v.valueHighlighted));if(y.usage.Title){s.push(v)}if(y.usage.TitleDescription){u.push(v)}if(y.usage.Detail){n.push(v)}i.push(v);if(y.usage.Navigation){if(y.usage.Navigation.mainNavigation){N=this.sina.createNavigationTarget({text:v.value,targetUrl:v.value,target:"_blank"})}}c[v.id]=v;b=d.attributeMetadataMap[y.id]._private.semanticObjectType||"";if(b.length>0){l[b]=g}}for(S in A){T=A[S];if(typeof T.suvTargetUrlAttribute==="string"){T.suvTargetUrlAttribute=c[T.suvTargetUrlAttribute]}if(typeof T.suvTargetMimeTypeAttribute==="string"){T.suvTargetMimeTypeAttribute=c[T.suvTargetMimeTypeAttribute]}if(!(T.suvTargetUrlAttribute||T.suvTargetMimeTypeAttribute)){delete A[S]}}s.sort(function(t,e){return t.metadata.usage.Title.displayOrder-e.metadata.usage.Title.displayOrder});n.sort(function(t,e){return t.metadata.usage.Detail.displayOrder-e.metadata.usage.Detail.displayOrder});this.suvNavTargetResolver.resolveSuvNavTargets(d,A,P);const _=this.sina._createSearchResultSetItem({dataSource:d,attributes:i,titleAttributes:s,titleDescriptionAttributes:u,detailAttributes:n,defaultNavigationTarget:N,navigationTargets:[],score:H});if(Array.isArray(v)&&v.length>0){_.hierarchyNodePaths=v}_._private.allAttributesMap=c;_._private.semanticObjectTypeAttributes=l;const D=this.sina._createItemPostParser({searchResultSetItem:_});const O=await D.postParseResultSetItem();return await I.processAdditionalWhyfoundAttributes(p,O)}preParseItem(t){const e={};for(const a in t){if(a[0]==="@"||a[0]==="_"){continue}const r=t[a];const i=a.split("@");const s=i[0];let o=e[s];if(!o){o={};e[s]=o}if(i.length===1){o.value=r;continue}if(i.length===2){o[i[1]]=r;continue}throw"more than two @ in property name"}return e}}var c={__esModule:true};c.ItemParser=u;return c})})();
},
	"sap/esh/search/ui/sinaNexTS/providers/hana_odata/MetadataParser.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){sap.ui.define(["../../core/Log","../../sina/AttributeType","../../sina/AttributeFormatType","../../sina/MatchingStrategy","../../core/errors","../../sina/i18n"],function(t,e,a,r,i,n){"use strict";const s=t["Log"];const o=e["AttributeType"];const c=a["AttributeFormatType"];const l=r["MatchingStrategy"];const u=i["UnknownAttributeTypeError"];const p=i["UnknownPresentationUsageError"];const y=n["getText"];var d=function(t){t[t["AUTO_FACET"]=0]="AUTO_FACET";t[t["SUGGESTION"]=1]="SUGGESTION";return t}(d||{});var f=function(t){t[t["TITLE"]=0]="TITLE";t[t["SUMMARY"]=1]="SUMMARY";t[t["DETAIL"]=2]="DETAIL";t[t["IMAGE"]=3]="IMAGE";t[t["THUMBNAIL"]=4]="THUMBNAIL";t[t["HIDDEN"]=5]="HIDDEN";return t}(f||{});class h{log;provider;presentationUsageConversionMap;accessUsageConversionMap;sina;constructor(t){this.log=new s("hana_odata metadata parser");this.provider=t;this.sina=t.sina}_setAnnotationValue(t,e,a){const r=e.split(".");let i;let n=t;const s="___temporaryDummyEntriesForArrays___";let o;for(o=0;o<r.length-1;o++){i=r[o];if(n[i]===undefined){n[i]={};n=n[i]}else if(Array.isArray(n[i])){n[s]=n[s]||{};if(!n[s][i]){n[s][i]={};n[i].push(n[s][i])}n=n[s][i]}else if(typeof n[i]==="object"){n=n[i]}else if(typeof n[i]==="boolean"){n[i]={};n=n[i]}else{return}}if(o<r.length){i=r[o];if(n[i]===undefined){n[i]=a}else if(Array.isArray(n[i])){if(Array.isArray(a)){n[i]=n[i].concat(a)}else{n[s]=n[s]||{};if(!n[s][i]){n[s][i]=a;n[i].push(n[s][i])}else{for(const t in a){if(!n[s][i][t]){n[s][i][t]=a[t]}}}}}}}fillMetadataBuffer(t,e){if(t.attributesMetadata[0].id!=="dummy"){return}t.attributesMetadata=[];t.attributeMetadataMap={};const a={dataSourceAnnotations:{},attributeAnnotations:{}};a.dataSourceAnnotations=t.annotations;for(const r in e.attributeMap){try{this.fillPublicMetadataBuffer(t,e.attributeMap[r],a)}catch(e){this.log.error("Attribue "+r+" of DataSource "+t.label+" can not be filled in meta data"+e.toString())}}const r=this.sina._createCDSAnnotationsParser({dataSource:t,cdsAnnotations:a});r.parseCDSAnnotationsForDataSource()}fillPublicMetadataBuffer(t,e,a){const r=e.displayOrder;const i=a.attributeAnnotations[e.labelRaw]={};for(const t in e.annotationsAttr){i[t]=e.annotationsAttr[t]}const n=this._parseAttributeTypeAndFormat(e,t,e.labelRaw);if(n&&n.type){const a=this.sina._createAttributeMetadata({id:e.labelRaw,label:e.label||e.labelRaw,isKey:e.isKey||false,isSortable:e.isSortable,usage:this._parseUsage(e,r)||{},type:n.type,format:n.format,matchingStrategy:this._parseMatchingStrategy(e),isHierarchy:!!e.hierarchyDefinition,hierarchyName:e?.hierarchyDefinition?.name,hierarchyDisplayType:e?.hierarchyDefinition?.displayType});if(e.hierarchyDefinition&&e.hierarchyDefinition?.isHierarchyDefinition){t.isHierarchyDataSource=true;t.hierarchyName=e.hierarchyDefinition?.name;t.hierarchyAttribute=e.hierarchyDefinition?.attributeName;t.hierarchyDisplayType=e.hierarchyDefinition?.displayType}a._private.semanticObjectType=e.SemanticObjectTypeId;t.attributesMetadata.push(a);t.attributeMetadataMap[a.id]=a}}_parseMatchingStrategy(t){if(t.supportsTextSearch===true){return l.Text}return l.Exact}_parseAttributeTypeAndFormat(t,e,a){for(let e=0;e<t.presentationUsage.length;e++){const a=t.presentationUsage[e]||"";switch(a.toUpperCase()){case"SUMMARY":continue;case"DETAIL":continue;case"TITLE":continue;case"HIDDEN":continue;case"FACTSHEET":continue;case"THUMBNAIL":case"IMAGE":return{type:o.ImageUrl};case"LONGTEXT":return{type:o.String,format:c.LongText};default:throw new p(a)}}switch(t.type){case"Edm.Binary":if(t.annotationsAttr){if(t.annotationsAttr.SEMANTICS&&t.annotationsAttr.SEMANTICS.CONTACT&&t.annotationsAttr.SEMANTICS.CONTACT.PHOTO||t.annotationsAttr.SEMANTICS&&t.annotationsAttr.SEMANTICS.IMAGEURL){return{type:o.ImageBlob}}}return{type:o.String};break;case"Edm.String":case"Edm.PrimitiveType":case"Edm.Boolean":case"Edm.Byte":case"Edm.Guid":return{type:o.String};case"Edm.Double":case"Edm.Decimal":case"Edm.Float":case"Edm.Single":case"Edm.SingleRange":return{type:o.Double};case"Edm.Int16":case"Edm.Int32":case"Edm.Int64":return{type:o.Integer};case"Edm.TimeOfDay":return{type:o.Time};case"Edm.Date":return{type:o.Date};case"Edm.DateTimeOffset":return{type:o.Timestamp};case"Collection(Edm.String)":return{type:o.String};case"Edm.GeometryPoint":case"Edm.GeographyPoint":case"GeoJson":return{type:o.GeoJson};default:if(t.type&&t.type.startsWith("Collection")){this.log.warn("Unsupported data type "+t.type+" of attribute "+t.labelRaw+" in "+e.label);return{type:o.String}}throw new u(y("error.sina.unsupportedOdataType",[t.type,t.labelRaw||a,e.label]))}}_parseUsage(t,e){const a={};for(let r=0;r<t.presentationUsage.length;r++){const i=t.presentationUsage[r].toUpperCase()||"";if(i==="TITLE"){a.Title={displayOrder:e}}if(i==="SUMMARY"||i==="DETAIL"||i==="IMAGE"||i==="THUMBNAIL"||i==="LONGTEXT"){a.Detail={displayOrder:e}}}if(t.isFacet){a.AdvancedSearch={displayOrder:t.facetPosition||e||100,iconUrlAttributeName:t.facetIconUrlAttributeName};a.Facet={displayOrder:t.facetPosition||e||100,iconUrlAttributeName:t.facetIconUrlAttributeName}}if(t.isFilteringAttribute){a.AdvancedSearch={displayOrder:t.facetPosition||e||100,iconUrlAttributeName:t.facetIconUrlAttributeName}}return a}parseDynamicMetadata(t){if(!t){return}const e=t["@com.sap.vocabularies.Search.v1.Metadata"];if(!e){return}for(const t in e){const a=e[t];for(const e in a){if(e==="$Kind"){continue}const r=a[e];this.parseDynamicAttributeMetadata(this.sina.getDataSource(t),e,r)}}}parseDynamicAttributeMetadata(t,e,a){const r=this._parseAttributeTypeAndFormat({presentationUsage:[],type:a.$Type},t,e);let i;try{i=t.getAttributeMetadata(e)}catch(t){this.log.warn("Error while getting attribute metadata: "+t)}if(i){if(!i._private.dynamic){return}i.label=a["@SAP.Common.Label"];i.type=r.type;i.format=r?.format;i.usage=a["@EnterpriseSearch.filteringFacet.default"]===true?{Facet:{displayOrder:a["@EnterpriseSearch.filteringFacet.displayPosition"]||i.usage?.Facet?.displayOrder||20,iconUrlAttributeName:a["@EnterpriseSearch.filteringFacet.iconUrl"]||i.iconUrlAttributeName||""}}:{};i.isSortable=a["@EnterpriseSearchHana.isSortable"]||i.isSortable||false}else{i=this.sina._createAttributeMetadata({id:e,label:a["@SAP.Common.Label"],isKey:false,isSortable:a["@EnterpriseSearchHana.isSortable"]||false,usage:a["@EnterpriseSearch.filteringFacet.default"]===true?{Facet:{displayOrder:a["@EnterpriseSearch.filteringFacet.displayPosition"]||20,iconUrlAttributeName:a["@EnterpriseSearch.filteringFacet.iconUrl"]||""}}:{},type:r.type,format:r?.format,matchingStrategy:l.Exact,_private:{dynamic:true}});t.attributesMetadata.push(i);t.attributeMetadataMap[i.id]=i}}getUniqueDataSourceFromSearchResult(t){const e=t.data;if(!e){return}const a=e.value;if(!a){return}let r,i;for(let t=0;t<a.length;++t){const e=a[t];const n=e["@odata.context"];if(!n){return}r=n.split("#")[1];if(!r){return}if(i&&i!==r){return}i=r}return this.sina.getDataSource(r)}}var A={__esModule:true};A.MetadataParser=h;return A})})();
},
	"sap/esh/search/ui/sinaNexTS/providers/hana_odata/MetadataParserJson.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){
/*!
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.define(["../../core/errors","../../sina/DataSourceType","./MetadataParser"],function(t,e,a){"use strict";const n=t["ServerError"];const s=t["ServerErrorCode"];const r=e["DataSourceType"];const i=a["MetadataParser"];class o extends i{constructor(t){super(t)}async fireRequest(t,e){try{const a=await t.getJson(e);return a}catch(t){if(t instanceof n&&t.code===s.E101){this.provider.sina?.addError(t);return t.response.dataJSON}throw t}}async parseResponse(t){const e={businessObjectMap:new Map,businessObjectList:[],dataSourceMap:new Map,dataSourcesList:[]};const a=t.data&&t.data.metadata||t.data||t;const n=a["$EntityContainer"];if(typeof n!=="string"||n.length<1){throw"Meta data contains invalid EntityContainer!"}const s=n.split(".");const r=s[0];const i=s[1];const o=a[r];const E=o[i];const c=this._parseEntityType(r,o,i,E);this._parseEntityContainer(E,c,e);return e}_parseEntityType(t,e,a,n){const s={};for(let r in e){if(r===a){continue}const i=e[r];if(i["@EnterpriseSearch.enabled"]!==true){continue}r=r.substring(0,r.length-4);const o={schema:t,keys:[],attributeMap:{},label:n[r]["@SAP.Common.Label"]||"",labelPlural:n[r]["@SAP.Common.Label"]||"",annotations:{}};s[r]=o;let E=0;for(const t in i){const e=i[t];if(t==="$Key"){o.keys=e;continue}if(t.startsWith("@")){this._parseEntityTypeAnnotations(t,e,o);continue}this._parseAttribute(t,e,o,E);E++}}return s}_parseEntityTypeAnnotations(t,e,a){t=t.substring(1).toUpperCase();switch(t){case"UI.HEADERINFO.TYPENAME":a.label=e;break;case"UI.HEADERINFO.TYPENAMEPLURAL":a.label=e;break;case"UI.HEADERINFO.TITLE.TYPE":this._setAnnotationValue(a.annotations,t,e);break;case"UI.HEADERINFO.TITLE.VALUEQUALIFIER":this._setAnnotationValue(a.annotations,t,e);break;case"UI.HEADERINFO.TYPEIMAGEURL":a.icon=e;break;default:this._setAnnotationValue(a.annotations,t,e)}}_parseAttribute(t,e,a,n){if(typeof e!=="object"){return}const s={labelRaw:t,label:null,type:"",presentationUsage:[],isFacet:false,isSortable:false,supportsTextSearch:false,displayOrder:n,annotationsAttr:{},unknownAnnotation:[]};a.attributeMap[t]=s;for(const t in e){const a=e[t];if(t==="$Type"||t==="Type"){s["type"]=a;continue}if(t.startsWith("@")){this._parseAttributeAnnotations(t,a,s)}}}_parseAttributeAnnotations(t,e,a){t=t.substring(1).toUpperCase();if(e!==undefined){this._normalizeAnnotationValueOfArrayOrObject(e);switch(t){case"SAP.COMMON.LABEL":if(!a.label){a.label=e}break;case"ENTERPRISESEARCH.KEY":a.isKey=e;break;case"ENTERPRISESEARCH.PRESENTATIONMODE":a.presentationUsage=e;break;case"ENTERPRISESEARCHHANA.ISSORTABLE":a.isSortable=e;break;case"ENTERPRISESEARCHHANA.SUPPORTSTEXTSEARCH":a.supportsTextSearch=e;break;case"ENTERPRISESEARCH.FILTERINGFACET.DEFAULT":a.isFacet=e;break;case"ENTERPRISESEARCH.FILTERINGFACET.DISPLAYPOSITION":a.facetPosition=e;break;case"ENTERPRISESEARCH.FILTERINGFACET.ICONURL":a.facetIconUrlAttributeName=e;break;case"ENTERPRISESEARCH.FILTERINGATTRIBUTE.DEFAULT":a.isFilteringAttribute=e;break;case"ENTERPRISESEARCH.FILTERINGATTRIBUTE.DISPLAYPOSITION":a.facetPosition=e;break;case"ENTERPRISESEARCH.FILTERINGATTRIBUTE.ICONURL":a.facetIconUrlAttributeName=e;break;case"ENTERPRISESEARCH.DISPLAYORDER":a.displayOrder=e;break;default:if(t.startsWith("UI")||t.startsWith("OBJECTMODEL")||t.startsWith("SEMANTICS")){this._setAnnotationValue(a.annotationsAttr,t,e)}else{a.unknownAnnotation.push(t)}}}}_normalizeAnnotationValueOfArrayOrObject(t){if(Array.isArray(t)){for(let e=0;e<t.length;e++){this._normalizeAnnotationValueOfObject(t[e])}}else this._normalizeAnnotationValueOfObject(t);return t}_normalizeAnnotationValueOfObject(t){if(typeof t==="object"){for(const e in t){const a=e.toUpperCase();t[a]=t[e];delete t[e]}}return t}_getValueFromArrayWithSingleEntry(t){if(Array.isArray(t)&&t.length===1){return t[0]}return t}_parseEntityContainer(t,e,a){for(const n in t){const t=e[n];if(n==="$Kind"){continue}if(t===undefined){throw"EntityType "+n+" has no corresponding meta data!"}const s=this.sina.createDataSource({id:n,label:t.label||n,labelPlural:t.labelPlural||t.label||n,icon:t.icon||"",type:r.BusinessObject,attributesMetadata:[{id:"dummy"}]});s.annotations=t.annotations;a.dataSourceMap[s.id]=s;a.dataSourcesList.push(s);t.name=n;t.dataSource=s;a.businessObjectMap[n]=t;a.businessObjectList.push(t)}}}var E={__esModule:true};E.MetadataParserJson=o;return E})})();
},
	"sap/esh/search/ui/sinaNexTS/providers/hana_odata/MetadataParserXML.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){
/*!
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.define(["../../sina/DataSourceType","./MetadataParser","./HierarchyMetadataParser","../../core/errors","../../sina/i18n"],function(e,t,n,a,i){"use strict";const r=e["DataSourceType"];const s=t["MetadataParser"];const o=n["HierarchyMetadataParser"];const c=a["MetadataParserError"];const u=i["getText"];class l extends s{jsDOMWindow;constructor(e){super(e)}async _getWindow(){if(typeof window==="undefined"){if(typeof this.jsDOMWindow==="undefined"){const e=require("jsdom");const t=require("fs");const jquery=t.readFileSync("./node_modules/jquery/dist/jquery.js","utf-8");const n=new e.JSDOM("<html><script>"+jquery+"<\/script><body></body></html>",{runScripts:"dangerously"});this.jsDOMWindow=n.window;n.window.$=n.window.jQuery}return this.jsDOMWindow}return window}async fireRequest(e,t){const n=await e.getXML(t);return n}async parseResponse(e){const t=this;if(typeof e==="string"){const n={businessObjectMap:new Map,businessObjectList:[],dataSourceMap:new Map,dataSourcesList:[]};const a=await this._getWindow();const i=a.$.parseXML(e);const r=a.$(i).find("Schema");const s=a.$(r);const o=await t._parseEntityType(s,a);t._parseEntityContainer(s,o,n,a);return n}else{throw new c(u("error.sina.metadataParserNotStringError"))}}async _parseEntityType(e,t){const n=this;const a={};e=t.$(e);const i=new o(t.$);const r=[];e.find("EntityType").each(function(){const s=t.$(this).attr("Name");const o={schema:e.attr("Namespace"),keys:[],attributeMap:new Map,resourceBundle:undefined,labelResourceBundle:undefined,label:"",labelPlural:"",annotations:{},hierarchyDefinitionsMap:new Map,icon:"",name:"",dataSource:undefined};a[s]=o;t.$(this).find("Key>PropertyRef").each(function(){o.keys.push(t.$(this).attr("Name"))});t.$(this).find('>Annotation[Term="EnterpriseSearch.hierarchy.parentChild"]').each(function(){o.hierarchyDefinitionsMap=i.parse(s,this)});t.$(this).find('Annotation[Term="Search.searchable"]').each(function(){t.$(this).siblings("Annotation").each(function(){const e=t.$(this);let a=e.attr("Term");if(a!==undefined&&a.length>0){a=a.toUpperCase();const e=n._getValueFromElement(this,t);if(a==="ENTERPRISESEARCHHANA.UIRESOURCE.LABEL.BUNDLE"){o.resourceBundle=e}else if(a==="ENTERPRISESEARCHHANA.UIRESOURCE.LABEL.KEY"){const t=e;if(typeof t==="string"&&t&&o.resourceBundle){r.push(n.provider.getTextFromResourceBundle(o.resourceBundle,t).then(e=>{if(e){o.labelResourceBundle=e}}).catch(e=>{n.log.error("Resource bundle of "+s+" '"+o.resourceBundle+"' can't be found:"+e.toString())}))}}else if(a==="UI.HEADERINFO.TYPENAME"){if(typeof e==="string"){o.label=e}}else if(a==="UI.HEADERINFO.TYPENAMEPLURAL"){if(typeof e==="string"){o.labelPlural=e}}else if(a==="UI.HEADERINFO.TITLE.TYPE"){n._setAnnotationValue(o.annotations,a,e)}else if(a==="UI.HEADERINFO.TITLE.VALUEQUALIFIER"){n._setAnnotationValue(o.annotations,a,e)}else if(a==="UI.HEADERINFO.TYPEIMAGEURL"){if(typeof e==="string"){o.icon=e}}else{n._setAnnotationValue(o.annotations,a,e)}}})});t.$(this).find("Property").each(function(e){const a=t.$(this).attr("Name")||"";const i={labelRaw:a,label:"",type:t.$(this).attr("Type")||"",presentationUsage:[],isFacet:false,isSortable:false,supportsTextSearch:false,displayOrder:e,annotationsAttr:{},unknownAnnotation:[],hierarchyDefinition:o.hierarchyDefinitionsMap[a],facetPosition:0,facetIconUrlAttributeName:"",isKey:false,isFilteringAttribute:undefined};o.attributeMap[a]=i;t.$(this).find("Annotation").each(function(){let e=t.$(this).attr("Term");if(e!==undefined&&e.length>0){e=e.toUpperCase();let a=n._getValueFromElement(this,t);if(a==undefined){t.$(this).children("Collection").children("Record").each(function(){a=a||[];const e={};a.push(e);t.$(this).children("PropertyValue").each(function(){let a=t.$(this).attr("Property");if(a!==undefined&&a.length>0){a=a.toUpperCase();const i=n._getValueFromElement(this,t);if(i!==undefined){e[a]=i}}})})}if(a!==undefined){switch(e){case"SAP.COMMON.LABEL":if(!i.label){i.label=a}break;case"ENTERPRISESEARCHHANA.UIRESOURCE.LABEL.KEY":if(a&&o.resourceBundle){r.push(n.provider.getTextFromResourceBundle(o.resourceBundle,a).then(e=>{if(e){i.label=e}}).catch(e=>{n.log.error("Resource bundle of "+s+" '"+o.resourceBundle+"' can't be found:"+e.toString())}))}break;case"ENTERPRISESEARCH.KEY":i.isKey=a;break;case"ENTERPRISESEARCH.PRESENTATIONMODE":t.$(this).find("Collection>String").each(function(){const e=n._getValueFromElement(this,t);if(e){i.presentationUsage.push(e)}});break;case"ENTERPRISESEARCHHANA.ISSORTABLE":i.isSortable=a;break;case"ENTERPRISESEARCHHANA.SUPPORTSTEXTSEARCH":i.supportsTextSearch=a;break;case"ENTERPRISESEARCH.FILTERINGFACET.DEFAULT":i.isFacet=a;break;case"ENTERPRISESEARCH.FILTERINGFACET.DISPLAYPOSITION":i.facetPosition=a;break;case"ENTERPRISESEARCH.FILTERINGFACET.ICONURL":i.facetIconUrlAttributeName=a;break;case"ENTERPRISESEARCH.FILTERINGATTRIBUTE.DEFAULT":i.isFilteringAttribute=a;break;case"ENTERPRISESEARCH.FILTERINGATTRIBUTE.DISPLAYPOSITION":i.facetPosition=a;break;case"ENTERPRISESEARCH.FILTERINGATTRIBUTE.ICONURL":i.facetIconUrlAttributeName=a;break;case"ENTERPRISESEARCH.DISPLAYORDER":i.displayOrder=a;break;default:if(e.startsWith("UI")||e.startsWith("OBJECTMODEL")||e.startsWith("SEMANTICS")){n._setAnnotationValue(i.annotationsAttr,e,a)}else{i.unknownAnnotation.push(t.$(this))}}}}});const c=i.annotationsAttr.UI&&i.annotationsAttr.UI.IDENTIFICATION;if(c){if(c.POSITION!==undefined){i.displayOrder=c.POSITION}else if(Array.isArray(c)){for(let e=0;e<c.length;e++){if(c[e].TYPE==undefined&&c[e].POSITION!==undefined){i.displayOrder=c[e].POSITION;break}}}}})});await Promise.all(r);return a}_getValueFromElement(e,t){const n=t.$(e);const a=n.text();if(a&&a.trim().length>0){return a}try{if(n.attr("String")!==undefined){return n.attr("String")}else if(n.attr("Decimal")!==undefined){const e=Number.parseFloat(n.attr("Decimal")||"");if(!isNaN(e)){return e}}else if(n.attr("Int")!==undefined){const e=Number.parseInt(n.attr("Int")||"",10);if(!isNaN(e)){return e}}else if(n.attr("Bool")!==undefined){return n.attr("Bool")=="true"}}catch(e){this.log.error("Error parsing annotation value: "+e.toString())}}_parseEntityContainer(e,t,n,a){const i=this;e.find("EntityContainer>EntitySet").each(function(){if(a.$(this).attr("Name")&&a.$(this).attr("EntityType")){const e=a.$(this).attr("Name")||"";const s=a.$(this).attr("EntityType")||"";const o=s.slice(s.lastIndexOf(".")+1);const c=t[o];if(c===undefined){throw"EntityType "+o+" has no corresponding meta data!"}const u=i.sina.createDataSource({id:e,label:c.labelResourceBundle||c.label||e,labelPlural:c.labelResourceBundle||c.labelPlural||c.label||e,icon:c.icon||"",type:r.BusinessObject,attributesMetadata:[{id:"dummy"}]});u.annotations=c.annotations;n.dataSourceMap[u.id]=u;n.dataSourcesList.push(u);c.name=e;c.dataSource=u;n.businessObjectMap[e]=c;n.businessObjectList.push(c)}})}}var E={__esModule:true};E.MetadataParserXML=l;return E})})();
},
	"sap/esh/search/ui/sinaNexTS/providers/hana_odata/Provider.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){
/*!
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.define(["../../core/core","./MetadataParserXML","./MetadataParserJson","./ItemParser","./FacetParser","./suggestionParser","./eshObjects/src/index","./conditionSerializerEshObj","../../core/Log","../../sina/SearchQuery","../../sina/SortOrder","../AbstractProvider","../../sina/SuggestionType","../../sina/ComplexCondition","../../core/errors","./HierarchyParser","./HierarchyNodePathParser","../../sina/SuggestionCalculationMode","../../sina/DataSource","../hana_odata/ajax","./util","./nlqParser"],function(e,t,r,s,a,i,n,o,c,u,l,h,g,f,d,y,S,p,m,b,P,C){"use strict";const x=t["MetadataParserXML"];const A=r["MetadataParserJson"];const T=s["ItemParser"];const v=a["FacetParser"];const q=i["SuggestionParser"];const w=n["getEshSearchQuery"];const j=n["Comparison"];const D=n["Phrase"];const F=n["Term"];const I=n["SearchQueryComparisonOperator"];const O=n["ESOrderType"];const E=n["HierarchyFacet"];const R=c["Log"];const Q=u["SearchQuery"];const M=l["SortOrder"];const _=h["AbstractProvider"];const N=g["SuggestionType"];const B=f["ComplexCondition"];const H=d["ESHNoBusinessObjectDatasourceError"];const L=d["ESHNotActiveError"];const $=d["InternalSinaError"];const U=y["HierarchyParser"];const k=S["HierarchyNodePathParser"];const z=p["SuggestionCalculationMode"];const J=m["DataSource"];const G=b["createAjaxClient"];const V=P["handleError"];const X=C["parseNlqInfo"];var Y=function(e){e["TITLE"]="TITLE";e["SUMMARY"]="SUMMARY";e["DETAIL"]="DETAIL";e["IMAGE"]="IMAGE";e["THUMBNAIL"]="THUMBNAIL";e["HIDDEN"]="HIDDEN";return e}(Y||{});class K extends _{id="hana_odata";ajaxClient;requestPrefix;metadataParser;itemParser;facetParser;suggestionParser;odataVersion;responseAttributes;facetAttributes;dataSourceConfigurations;metaDataSuffix;hierarchyNodePathParser;getTextFromResourceBundle;async initAsync(e){this.getTextFromResourceBundle=e.getTextFromResourceBundle;this.requestPrefix=e.url;this.odataVersion=e.odataVersion;this.responseAttributes=e?.responseAttributes;this.facetAttributes=e?.facetAttributes;this.sina=e.sina;this.dataSourceConfigurations=e?.dataSourceConfigurations||[];if(this.dataSourceConfigurations.length===0&&e.querySuffix){this.dataSourceConfigurations.push({id:"SEARCH_DESIGN",filterCondition:e.querySuffix})}this.metaDataSuffix=e.metaDataSuffix??"";this.ajaxClient=e.ajaxClient??G({getLanguage:typeof e.getLanguage==="function"?e.getLanguage:undefined});const t=e.metaDataJsonType;if(t){this.metadataParser=new A(this)}else{this.metadataParser=new x(this)}this.itemParser=new T(this);this.facetParser=new v(this);this.suggestionParser=new q(this);this.hierarchyNodePathParser=new k(this.sina);this.serverInfo=await this.loadServerInfo();if(!this.supports("Search")){throw new L}await this.loadBusinessObjectDataSources();if(this.sina.getBusinessObjectDataSources().length===0){return Promise.reject(new H)}return{capabilities:this.sina._createCapabilities({fuzzy:false,nlq:true})}}supports(e,t){const r=this.serverInfo.services;for(const s in r){if(s===e){if(!t){return true}const e=r[s].Capabilities;for(let r=0;r<e.length;++r){const s=e[r];if(s===t){return true}}}}return false}async loadServerInfo(){const e={rawServerInfo:{Services:[{Service:"Search",Capabilities:[{Capability:"SemanticObjectType"}]},{Service:"Suggestions2",Capabilities:[{Capability:"ScopeTypes"}]}]},services:{Suggestions:{suggestionTypes:["objectdata"]},Search:{capabilities:["SemanticObjectType"]}}};return e}_prepareMetadataRequest(){const e={metadataCall:true,resourcePath:this.getPrefix()+"/$metadata"};if(typeof this.metaDataSuffix==="string"&&this.metaDataSuffix.length>0){e.metadataObjects={entitySets:this.metaDataSuffix}}return this.assembleUrl(e)}async loadBusinessObjectDataSources(){const e=this._prepareMetadataRequest();const t=await this.metadataParser.fireRequest(this.ajaxClient,e);const r=await this.metadataParser.parseResponse(t);for(let e=0;e<r.dataSourcesList.length;++e){const t=r.dataSourcesList[e];this.metadataParser.fillMetadataBuffer(t,r.businessObjectMap[t.id])}}assembleOrderBy(e){const t=[];if(Array.isArray(e.sortOrder)){for(let r=0;r<e.sortOrder.length;++r){const s=e.sortOrder[r];const a=s.order===M.Descending?O.Descending:O.Ascending;t.push({key:s.id,order:a})}}return t}assembleGroupBy(e){const t=null;if(e.groupBy&&e.groupBy.attributeName&&e.groupBy.attributeName.length>0){t.properties=e.groupBy.attributeName;if(e.groupBy.aggregateCountAlias&&e.groupBy.aggregateCountAlias!==""){t.aggregateCountAlias=e.groupBy.aggregateCountAlias}}return t}executeSearchQuery(e){const t=this._prepareSearchObjectSuggestionRequest(e);return this.fireSearchQuery(t)}_prepareSearchObjectSuggestionRequest(e){const t=e.filter.rootCondition.clone();const r=o.serialize(e.filter.dataSource,t);if(!Array.isArray(r.items)){r.items=[]}const s=e.filter.searchTerm||"*";this.addFilterConditionToFilter(e,r,this.dataSourceConfigurations);const a=e.filter.dataSource;const i=e.top||10;const n=e.skip||0;const c=this.assembleOrderBy(e);const u={resourcePath:this.getPrefix()+"/$all",$top:i,$skip:n,whyfound:true,$count:true,$orderby:c,freeStyleText:s,searchQueryFilter:r};if(a!==this.sina.getAllDataSource()){u.scope=a.id}if(this.sina?.configuration?.useValueHierarchy===true&&i<100){let e=a.hierarchyAttribute;const t=a.getHierarchyDataSource();if(t instanceof J){e=t.hierarchyAttribute}if(e){u.valuehierarchy=e}}if(e instanceof Q){if(typeof this.responseAttributes!=="undefined"){u.$select=this.responseAttributes}if(e.calculateFacets){if(typeof this.facetAttributes!=="undefined"){u.facets=this.facetAttributes}else{u.facets=["all"]}u.facetlimit=e.facetTop||5}const t=this.assembleGroupBy(e);if(t){u.groupby=t;u.whyfound=false}}const l={url:this.assembleUrl(u,{nlq:e.nlq,doNotEsacpeFreeStyleText:this.sina?.configuration?.enableQueryLanguage}),query:e};return l}async fireSearchQuery(e){return await V(async()=>(await this.ajaxClient.getJson(e.url))?.data,async t=>await this.parseSearchResponse(e,t))}async parseSearchResponse(e,t){this.metadataParser.parseDynamicMetadata(t);const r=this.hierarchyNodePathParser.parse(t?.["@com.sap.vocabularies.Search.v1.ParentHierarchies"],e.query);const s=await this.itemParser.parse(e.query,t);let a;const i=t["@com.sap.vocabularies.Search.v1.SearchStatistics"]?.ConnectorStatistics;if(e.query.getDataSource()===this.sina.getAllDataSource()&&i&&Array.isArray(i)&&i.length===1){const r={"@com.sap.vocabularies.Search.v1.Facets":[{"@com.sap.vocabularies.Search.v1.Facet":{Dimensions:[{PropertyName:"scope",isConnectorFacet:true}]},Items:[{scope:i[0].OdataID,_Count:t["@odata.count"]}]}]};a=await this.facetParser.parse(e.query,r)}else{a=await this.facetParser.parse(e.query,t)}const n=X(this.sina,t["@com.sap.vocabularies.Search.v1.Nlq"]);return this.sina._createSearchResultSet({title:"Search Result List",query:e.query,items:s,totalCount:t["@odata.count"]||0,facets:a,hierarchyNodePaths:r,nlqResult:n})}async _fireObjectSuggestionsQuery(e,t){return await V(async()=>(await this.ajaxClient.getJson(t.url))?.data,async r=>{this.metadataParser.parseDynamicMetadata(r);const s=await this.itemParser.parse(t.query,r);const a=this.suggestionParser.parseObjectSuggestions(t.query,s);return this.sina._createSuggestionResultSet({title:"Suggestions",query:e,items:a})})}_prepareChartQueryRequest(e,t,r){const s=e.filter.searchTerm;const a=e.filter.dataSource;const i=15;const n=r.deleted||false;const c=o.serialize(a,t);if(!Array.isArray(c.items)){c.items=[]}const u=e.top||5;if(n===true){const e=r.value;if(!r.value||r.value===""||e.match(/^[*\s]+$/g)!==null){r.value="*";c.items.push(new j({property:r.attribute,operator:I.Search,value:new F({term:"*"})}))}else{c.items.push(new j({property:r.attribute,operator:I.EqualCaseInsensitive,value:new D({phrase:r.value+"*"})}))}}this.addFilterConditionToFilter(e,c,this.dataSourceConfigurations);const l={resourcePath:this.getPrefix()+"/$all",$top:0,$count:true,searchQueryFilter:c,freeStyleText:s};if(a!==this.sina.getAllDataSource()){l.scope=a.id}const h=[];l.facetlimit=u;if(e.dimension){h.push(e.dimension);const t=e.filter.dataSource.getAttributeMetadata(e.dimension);if(t&&(t.type==="Double"||t.type==="Integer")&&u>=20){l.facetlimit=i}}l.facets=h;return this.assembleUrl(l,{nlq:e.nlq})}async executeChartQuery(e){const t=new R;const r=e.filter.rootCondition.clone();const s=r.removeAttributeConditions(e.dimension);const a=this._prepareChartQueryRequest(e,r,s);return await V(async()=>(await this.ajaxClient.getJson(a))?.data,async r=>{const s=await this.facetParser.parse(e,r);if(s.length>0){return s[0]}let a="";const i=e.filter.dataSource.getAttributeMetadata(e.dimension);if(i&&i.label){a=i.label}return this.sina._createChartResultSet({title:a,items:[],query:e,log:t})})}async executeHierarchyQuery(t){const r=new U;const s=o.serialize(t.filter.dataSource,t.filter.rootCondition);if(!Array.isArray(s.items)){s.items=[]}this.addFilterConditionToFilter(t,s,this.dataSourceConfigurations);const a=this.assembleUrl({resourcePath:this.getPrefix()+"/$all",$top:0,searchQueryFilter:s,freeStyleText:t.filter.searchTerm,scope:t.filter.dataSource.id,facets:[t.attributeId],facetroot:[new E({facetColumn:t.attributeId,rootIds:[t.nodeId],levels:1})]},{nlq:t.nlq});return await V(async()=>(await this.ajaxClient.getJson(a))?.data,async s=>{const a=t.filter.dataSource.getAttributeMetadata(t.attributeId);const i=s["@com.sap.vocabularies.Search.v1.Facets"]||[];const n=i.find(r=>{const s=e.getProperty(r,["@com.sap.vocabularies.Search.v1.Facet","Dimensions",0,"PropertyName"]);return s===t.attributeId});return r.parseHierarchyFacet(t,a,n||{})})}async executeSuggestionQuery(e){const[t,r]=await Promise.all([this.executeRegularSuggestionQuery(e),this.executeObjectSuggestionQuery(e)]);const s=this.sina._createSuggestionResultSet({title:"Suggestions",query:e,items:[...r.items,...t.items]});s.addErrors(t.getErrors());s.addErrors(r.getErrors());return s}isObjectSuggestionQuery(e){return e.types.indexOf(N.Object)>=0&&e.filter.dataSource.type===e.sina.DataSourceType.BusinessObject}async executeObjectSuggestionQuery(e){if(!this.isObjectSuggestionQuery(e)){return Promise.resolve(this.sina._createSuggestionResultSet({title:"Suggestions",query:e,items:[]}))}const t=this._prepareSearchObjectSuggestionRequest(e);return this._fireObjectSuggestionsQuery(e,t)}executeRegularSuggestionQuery(e){if(e.calculationModes.includes(z.Data)&&(e.types.includes(N.SearchTerm)||e.types.includes(N.SearchTermAI))){return this._fireSuggestionQuery(e)}return Promise.resolve(this.sina._createSuggestionResultSet({title:"Suggestions",query:e,items:[]}))}_prepareSuggestionQueryRequest(e){const t=e.filter.searchTerm;const r=e.filter.dataSource;const s=e.filter.rootCondition.clone();const a=o.serialize(e.filter.dataSource,s);if(!Array.isArray(a.items)){a.items=[]}const i=e.top||10;const n=e.skip||0;this.addFilterConditionToFilter(e,a,this.dataSourceConfigurations);const c={suggestTerm:t,resourcePath:this.getPrefix()+"/$all",$top:i,$skip:n,searchQueryFilter:a};if(r!==this.sina.getAllDataSource()){c.scope=r.id}let u=e.nlq;if(e.types.indexOf(N.SearchTermAI)>=0){if(e.types.length>1){throw new $({message:"inconsistent suggestion query: ai suggestion mixed with other suggestion"})}u=true}return this.assembleUrl(c,{nlq:u,workaroundForEmptySuggestionTerm:true})}async _fireSuggestionQuery(e){const t=this._prepareSuggestionQueryRequest(e);return await V(async()=>(await this.ajaxClient.getJson(t))?.data,async t=>{let r=[];if(t.value){r=this.suggestionParser.parse(e,t.value)}return this.sina._createSuggestionResultSet({title:"Suggestions",query:e,items:r})})}addFilterConditionToFilter(e,t,r){if(r){const s=r.filter(t=>t.id===e.filter.dataSource.id)[0];if(s?.filterCondition){t.items.push(this.convertFilterConditionToExpression(s.filterCondition))}}}getPrefix(){const e=this.odataVersion??"/v20411";const t=this.requestPrefix??"/sap/es/odata";const r=t+e;return r}convertFilterConditionToExpression(e){let t=null;if(e&&e instanceof B){t=o.serialize(null,e)}return t}getDebugInfo(){return"ESH API Provider: "+this.id}assembleUrl(e,t){const r="FDGhfdhgfHFGHrdthfgcvgzjmbvndf";const s=e?.freeStyleText;if(t?.doNotEsacpeFreeStyleText&&e?.freeStyleText){e.freeStyleText=r}const a="fdjksghdfjkhvbbnfydfsd";if(t?.workaroundForEmptySuggestionTerm){if(e.suggestTerm===""){e.suggestTerm=a}}let i=w(e);if(t?.nlq){const e=i.indexOf("?");if(e>=0){i=i.slice(0,e+1)+"nlq=true&"+i.slice(e+1)}else{i+="?nlq=true"}}if(t?.doNotEsacpeFreeStyleText){if(e?.freeStyleText===r){i=i.replace(r,encodeURIComponent("("+s+")"))}}if(t?.workaroundForEmptySuggestionTerm){if(e.suggestTerm===a){i=i.replace(a,"")}}return i}}var W={__esModule:true};W.PresentationUsage=Y;W.Provider=K;return W})})();
},
	"sap/esh/search/ui/sinaNexTS/providers/hana_odata/ajax.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){sap.ui.define(["../../core/AjaxClient","./ajaxErrorFactory","./ajaxErrorFactoryDeprecated","../../core/defaultAjaxErrorFactory"],function(r,t,e,a){"use strict";const o=r["AjaxClient"];const c=t["ajaxErrorFactory"];const n=e["deprecatedAjaxErrorFactory"];const s=a["createDefaultAjaxErrorFactory"];function u(r){const t={errorFactories:[c,n,s({allowedStatusCodes:[200,201,204,300]})],errorFormatters:[]};return new o(Object.assign(t,r))}var i={__esModule:true};i.createAjaxClient=u;return i})})();
},
	"sap/esh/search/ui/sinaNexTS/providers/hana_odata/ajaxErrorFactory.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){sap.ui.define(["../../core/errors","../../sina/i18n"],function(e,r){"use strict";const s=e["ServerErrorCode"];const t=e["ServerError"];const n=r["getText"];function o(e){if(["E100","E101","E102","E200","E201","E202","E203","E300","E400"].includes(e)){return e}return s.E001}function a(e,r){if(!r){return}if(!r||!Array.isArray(r)){return JSON.stringify(r)}const s=[];for(const t of r){if(t.message===e){continue}s.push(t.code+":"+t.message)}if(s.length===0){return undefined}return s.join("\n")}function c(e){if(!e.error){return}const r=e.error;return{dataSource:"dummy",code:o(r.code),message:r.message,details:a(r.message,r.details)}}function i(e){const r=e["@com.sap.vocabularies.Search.v1.SearchStatistics"];if(!r){return[]}const s=r.ConnectorStatistics;if(!s){return[]}if(!Array.isArray(s)){return[]}const t=[];for(const e of s){if(!e.error){continue}const r=e.error;t.push({dataSource:e.Name,code:o(r.code),message:r.message,details:a(r.message,r.details)})}return t}function u(e){let r;for(const t of e){if(!r){r=t}if(t!==r){return s.E001}}if(!r){r=s.E001}return r}function d(e,r){const s=r.dataJSON;if(!s){return}const o=c(s);const a=i(s);if(o){return new t({request:e,response:r,code:u([o.code,...a.map(e=>e.code)]),message:o.message,details:o.details,dataSourceErrors:a})}else{let s;switch(a.length){case 0:return;case 1:return new t({request:e,response:r,code:a[0].code,message:a[0].message,details:a[0].details,dataSourceErrors:a});default:s=a.map(e=>e.dataSource).join(", ");return new t({request:e,response:r,code:u(a.map(e=>e.code)),message:n("error.sina.errorInMultipleDataSources",[s]),dataSourceErrors:a})}}}var f={__esModule:true};f.ajaxErrorFactory=d;return f})})();
},
	"sap/esh/search/ui/sinaNexTS/providers/hana_odata/ajaxErrorFactoryDeprecated.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){sap.ui.define(["../../core/errors","../../sina/i18n"],function(e,r){"use strict";const s=e["ServerErrorCode"];const t=e["ServerError"];const o=r["getText"];function n(e,r){if(r.status!==500||!r.data){return}const n=r.dataJSON;if(!n){return}if(typeof n!=="object"){return}if(!n.code&&!n.message&&!n.details){return}const a=[];a.push(o("error.sina.searchServiceCallFailed"));if(n?.code){a.push(o("error.sina.errorCode",[n.code]))}if(n?.message){a.push(o("error.sina.errorMessage",[n.message]))}return new t({request:e,response:r,code:s.E001,message:a.join("\n"),details:""+n.details})}var a={__esModule:true};a.deprecatedAjaxErrorFactory=n;return a})})();
},
	"sap/esh/search/ui/sinaNexTS/providers/hana_odata/conditionSerializerEshObj.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){
/*!
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.define(["../../sina/DataSource","../../sina/ComparisonOperator","../../sina/LogicalOperator","../../sina/ComplexCondition","../../sina/AttributeType","./typeConverter","./eshObjects/src/index","../../core/errors","../../sina/NullValue"],function(e,t,r,n,a,o,i,s,c){"use strict";const u=e["DataSource"];const l=t["ComparisonOperator"];const p=r["LogicalOperator"];const d=n["ComplexCondition"];const C=a["AttributeType"];const h=i["SearchQueryComparisonOperator"];const O=i["ComparisonOperator"];const v=i["NullValue"];const w=i["SearchQueryLogicalOperator"];const S=i["Expression"];const f=i["Comparison"];const m=i["Phrase"];const E=i["StringValue"];const T=s["UnknownComparisonOperatorError"];const g=s["UnknownLogicalOperatorError"];const L=c["NullValue"];class y{dataSource;constructor(e){this.dataSource=e}convertSinaToOdataOperator(e){switch(e){case l.Search:return h.Search;case l.Eq:return h.EqualCaseSensitive;case l.Ne:return h.NotEqualCaseSensitive;case l.Lt:return h.LessThanCaseInsensitive;case l.Gt:return h.GreaterThanCaseInsensitive;case l.Le:return h.LessThanOrEqualCaseInsensitive;case l.Ge:return h.GreaterThanOrEqualCaseInsensitive;case l.Co:return h.EqualCaseInsensitive;case l.Bw:return h.EqualCaseInsensitive;case l.Ew:return h.EqualCaseInsensitive;case l.DescendantOf:return h.DescendantOf;case l.ChildOf:return h.ChildOf;default:throw new T(e)}}convertSinaToOdataLogicalOperator(e){switch(e){case p.And:return w.AND;case p.Or:return w.OR;case p.Not:return w.NOT;case p.Row:return w.ROW;default:throw new g(e)}}serializeComplexCondition(e){const t=new S({operator:this.convertSinaToOdataLogicalOperator(e.operator),items:[]});const r=e.conditions;for(let e=0;e<r.length;++e){const n=r[e];t.items.push(this.serialize(n))}return t}serializeSimpleCondition(e){if(e.value instanceof L&&e.operator===l.Eq){return new f({property:e.attribute,operator:O.Is,value:new v})}let t=C.String;let r;if(this.dataSource instanceof u){r=this.dataSource.getAttributeMetadata(e.attribute);if(r&&r.type){t=r.type}}const n=o.sina2Odata(t,e.value,{operator:e.operator});const a=this.convertSinaToOdataOperator(e.operator);return new f({property:e.attribute,operator:a,value:new m({phrase:n})})}serializeBetweenCondition(e){const t=e.conditions[0];const r=e.conditions[1];let n=C.String;if(this.dataSource instanceof u){const e=this.dataSource.getAttributeMetadata(t.attribute);n=e.type||C.String}const a=o.sina2Odata(n,t.value,{operator:t.operator});const i=o.sina2Odata(n,r.value,{operator:r.operator});return new S({operator:w.AND,items:[new f({property:t.attribute,operator:h.GreaterThanOrEqualCaseInsensitive,value:new E({value:a,isQuoted:true})}),new f({property:t.attribute,operator:h.LessThanOrEqualCaseInsensitive,value:new E({value:i,isQuoted:true})})]})}serialize(e){if(e instanceof d){if(e.operator===p.And&&e.conditions.length>1&&e.conditions[0]&&(e.conditions[0].operator===l.Ge||e.conditions[0].operator===l.Gt||e.conditions[0].operator===l.Le||e.conditions[0].operator===l.Lt)){return this.serializeBetweenCondition(e)}return this.serializeComplexCondition(e)}return this.serializeSimpleCondition(e)}}function b(e,t){const r=new y(e);let n=r.serialize(t);if(n instanceof f){n=new S({operator:w.TIGHT_AND,items:[n]})}return n}var q={__esModule:true};q.ConditionSerializer=y;q.serialize=b;return q})})();
},
	"sap/esh/search/ui/sinaNexTS/providers/hana_odata/dataSourceSerializer.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){
/*!
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.define(["../../sina/DataSourceType"],function(e){"use strict";const t=e["DataSourceType"];function a(e){if(e===e.sina.getAllDataSource()){return{Id:"<All>",Type:"Category"}}let a;switch(e.type){case t.Category:a="Category";break;case t.BusinessObject:a="View";break}return{Id:e.id,Type:a}}var r={__esModule:true};r.serialize=a;return r})})();
},
	"sap/esh/search/ui/sinaNexTS/providers/hana_odata/eshObjects/src/definitions.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){sap.ui.define([],function(){"use strict";
/** Copyright 2019 SAP SE or an SAP affiliate company. All rights reserved. */const t=["\\","-","(",")","~","^","?",'"',":","'","[","]"];const e=["AND","OR","NOT"];function s(t,e,s){return t.split(e).join(s)}const r=t=>t.replace(/'/g,"''");const n=t=>t.replace(/\\/g,"\\\\").replace(/"/g,'\\"');function i(n){let i=n?n.trim():"";if(i!==""){for(const e of t){if(e){if(e==="'"){i=r(i)}else{i=s(i,e,"\\"+e)}}}for(const t of e){if(i===t){i='"'+t+'"'}if(i.startsWith(t+" ")){i='"'+t+'" '+i.substring(t.length+1)}if(i.endsWith(" "+t)){i=i.substring(0,i.length-(t.length+1))+' "'+t+'"'}i=i.replace(new RegExp(` ${t} `,"g"),` "${t}" `)}}return i}function a(t,e){return i(t).substring(0,e)}function o(t){return i(t).substring(0,1500)}function c(t,e){return Object.keys(t).filter(t=>isNaN(Number(t))).filter(s=>t[s]===e).length>0}var u=function(t){t["Ordered"]="O";t["Unordered"]="U";return t}(u||{});class l{clazz=this.constructor.name;values;constructor(t){this.values=t.values}toStatement(){return`[${this.values.map(t=>typeof t==="string"?"'"+r(t)+"'":t.toStatement()).join(",")}]`}}class h{clazz=this.constructor.name;constructor(){}toStatement(){return"null"}}class p{clazz=this.constructor.name;value;constructor(t){this.value=t.value}toStatement(){return this.value.toString()}}class m{clazz=this.constructor.name;value;constructor(t){this.value=t.value}toStatement(){return String(this.value)}}class g{clazz=this.constructor.name;value;isQuoted;isSingleQuoted;withoutEnclosing;constructor(t){this.value=t.value;this.isQuoted=t.isQuoted;this.isSingleQuoted=t.isSingleQuoted;this.withoutEnclosing=t.withoutEnclosing}toStatement(){if(this.withoutEnclosing){return String(Number.parseFloat(this.value))}if(this.isQuoted){return`"${n(this.value)}"`}if(this.isSingleQuoted){return`'${r(this.value)}'`}return this.value}}class f{clazz=this.constructor.name;param;constructor(t){this.param=t.param}toStatement(){return`param "${n(this.param)}"`}}class S{clazz=this.constructor.name;facetColumn;rootIds;levels;constructor(t){this.facetColumn=t.facetColumn;this.rootIds=t.rootIds;this.levels=t.levels}toStatement(){return`(${this.facetColumn},(${this.rootIds.map(t=>t?"'"+t+"'":"null").join(",")}),${this.levels})`}}class d{clazz=this.constructor.name;distance;ordering;constructor(t){this.distance=t.distance;this.ordering=t.ordering}toStatement(){return`:NEAR(${this.distance}${this.ordering?","+this.ordering:""}):`}}var O=function(t){t["AND"]="AND";t["OR"]="OR";return t}(O||{});class y{clazz=this.constructor.name;operator;values;constructor(t){this.operator=t.operator;this.values=t.values}toStatement(){return`${this.operator}(${this.values.join(" ")})`}}class v{clazz=this.constructor.name;functionName;id;constructor(t,e){this.functionName=t;this.id=e}toStatement(){return`:${this.functionName}${this.id?"("+this.id+")":""}:`}}class E{clazz=this.constructor.name;id;constructor(t){this.id=t.id}toStatement(){return`:${this.id?"("+this.id+"):":""}`}}class z extends v{constructor(t){super("WITHIN",t.id)}}class T extends v{constructor(t){super("COVERED_BY",t.id)}}class w extends v{constructor(t){super("INTERSECTS",t.id)}}const N=t=>`${t.x} ${t.y}`;class ${clazz=this.constructor.name;point;constructor(t){this.point=t}toStatement(){return`POINT(${N(this.point)})`}}class C{clazz=this.constructor.name;points;constructor(t){this.points=t}toStatement(){return`MULTIPOINT(${this.points.map(t=>"("+N(t)+")").join(",")})`}}class I{clazz=this.constructor.name;points;constructor(t){this.points=t}toStatement(){return`LINESTRING${I.toLineStringArray(this.points)}`}static toLineStringArray(t){return`(${t.map(t=>N(t)).join(", ")})`}}class L extends I{constructor(t){super(t)}toStatement(){return`CIRCULARSTRING${I.toLineStringArray(this.points)}`}}class A{clazz=this.constructor.name;lineStrings;constructor(t){this.lineStrings=t}toStatement(){return`MULTILINESTRING(${this.lineStrings.map(t=>I.toLineStringArray(t)).join(", ")})`}}class F extends A{constructor(t){super(t)}toStatement(){return`POLYGON${F.toPolygonStringArray(this.lineStrings)}`}static toPolygonStringArray(t){return`(${t.map(t=>I.toLineStringArray(t)).join(", ")})`}}class R{clazz=this.constructor.name;polygons;constructor(t){this.polygons=t}toStatement(){return`MULTIPOLYGON(${this.polygons.map(t=>F.toPolygonStringArray(t)).join(", ")})`}}class j{clazz=this.constructor.name;geometryCollection;constructor(t){this.geometryCollection=t}toStatement(){return`GEOMETRYCOLLECTION(${this.geometryCollection.map(t=>t.toStatement()).join(", ")})`}}class V{clazz=this.constructor.name;start;end;excludeStart;excludeEnd;constructor(t){this.start=t.start;this.end=t.end;this.excludeStart=t.excludeStart;this.excludeEnd=t.excludeEnd}toStatement(){return`${this.excludeStart?"]":"["}${i(this.start.toString())} ${i(this.end.toString())}${this.excludeEnd?"[":"]"}`}}class D{clazz=this.constructor.name;property;operator;value;valueAsReservedWord;searchOptions;constructor(t){this.property=t.property;this.operator=t.operator;this.value=t.value;this.valueAsReservedWord=t.valueAsReservedWord;this.searchOptions=t.searchOptions}toStatement(){let t="";let e="";let s=false;if(c(_,this.operator)){s=true;if(this.value&&(this.value instanceof h||this.value instanceof p||this.value instanceof m||this.value instanceof l||this.value instanceof f)){this.valueAsReservedWord=true}if(this.valueAsReservedWord){t="";e=""}else{t="'";e="'"}}const n=typeof this.property==="string"?this.property:this.property.toStatement();let a="";if(this.value){if(typeof this.value==="string"){if(s){a=r(this.value)}else{a=i(this.value.toString())}}else{a=this.value.toStatement()}}const o=typeof this.operator==="string"?this.operator:this.operator.toStatement();const u=n+o+t+a+e;return M(u,this.searchOptions)}}class P{clazz=this.constructor.name;values;constructor(t){this.values=t.values}toStatement(){if(this.values.length===0){throw new Error("ScopeComparison values cannot be empty")}return this.values.length>1?`SCOPE:(${this.values.join(" OR ")})`:`SCOPE:${this.values[0]}`}}class b{clazz=this.constructor.name;term;searchOptions;isQuoted;doEshEscaping;constructor(t){this.term=t.term;this.searchOptions=t.searchOptions;this.isQuoted=t.isQuoted;if(typeof t.doEshEscaping!="undefined"&&t.doEshEscaping!=null){this.doEshEscaping=t.doEshEscaping}else{this.doEshEscaping=true}}toStatement(){let t;if(this.doEshEscaping){t=this.isQuoted?'"'+x(this.term)+'"':i(this.term)}else{t=this.isQuoted?'"'+this.term+'"':this.term}return M(t,this.searchOptions)}}const x=t=>{let e=t.replace(/\\/g,"\\\\");e=e.replace(/"/g,'\\"');e=e.replace(/\?/g,"\\?");e=e.replace(/\'/g,"''");return e};class Q{clazz=this.constructor.name;phrase;searchOptions;doEshEscaping;constructor(t){this.phrase=t.phrase;this.searchOptions=t.searchOptions;if(typeof t.doEshEscaping!="undefined"&&t.doEshEscaping!=null){this.doEshEscaping=t.doEshEscaping}else{this.doEshEscaping=true}}toStatement(){let t;if(this.doEshEscaping){t=x(this.phrase)}else{t=this.phrase}return M('"'+t+'"',this.searchOptions)}}class G{clazz=this.constructor.name;terms;distance;ordering;searchOptions;constructor(t){this.terms=t.terms;this.distance=t.distance;this.ordering=t.ordering;this.searchOptions=t.searchOptions}toStatement(){const t=[];this.terms.forEach(e=>{t.push(typeof e==="string"?e:e.toStatement())});const e=`NEAR(${this.distance}${this.ordering?","+this.ordering:""}):(${t.join(" ")})`;return M(e,this.searchOptions)}}class W{clazz=this.constructor.name;property;prefixOperator;constructor(t){this.property=t.property;this.prefixOperator=t.prefixOperator}toStatement(){if(this.prefixOperator){return this.prefixOperator+" "+this.property}return this.property}}var q=function(t){t["and"]="and";t["or"]="or";t["not"]="not";return t}(q||{});var B=function(t){t["AND"]="AND";t["TIGHT_AND"]="";t["OR"]="OR";t["NOT"]="NOT";t["ROW"]="ROW";t["AUTH"]="AUTH";t["FILTER"]="FILTER";t["FILTERWF"]="FILTERWF";t["BOOST"]="BOOST";return t}(B||{});var U=function(t){t["AND"]="AND";t["OR"]="OR";t["NOT"]="NOT";t["AND_NOT"]="AND NOT";t["OR_NOT"]="OR NOT";return t}(U||{});function M(t,e){let s=t;if(e){if(e.fuzzinessThreshold){s=s+"~"+e.fuzzinessThreshold.toString()}if(e.fuzzySearchOptions){if(!e.fuzzinessThreshold){s=s+"~0.8"}s=s+"["+e.fuzzySearchOptions+"]"}if(e.weight!==undefined){s=`${s}^${e.weight}`}}return s}class k{clazz=this.constructor.name;operator;items;searchOptions;constructor(t){this.operator=t.operator;this.items=t.items;this.searchOptions=t.searchOptions}toStatement(){let t="";switch(this.operator){case B.ROW:case B.AUTH:case B.FILTER:case B.FILTERWF:case B.BOOST:let e=this.items.map(t=>t.toStatement()).join(" "+this.operator+" ");if(!e.startsWith("(")){e="("+e+")"}t=this.operator+":"+e;break;case B.NOT:if(this.items.length>1){throw new Error("Invalid operator. NOT operator is allowed only on a single item.")}t="(NOT "+this.items[0].toStatement()+")";break;case q.not:if(this.items.length>1){throw new Error("Invalid operator. 'not' operator is allowed only on a single item.")}t="not "+this.items[0].toStatement();break;default:if(!this.items||this.items.length==0){return""}else if(this.items.length>1){const e=this.items.filter(t=>t instanceof P);if(e.length>0){t=this.items.map(t=>t.toStatement()).join(`${this.operator===""?" ":" "+this.operator+" "}`)}else{t="("+this.items.map(t=>t.toStatement()).join(`${this.operator===""?" ":" "+this.operator+" "}`)+")"}}else{t=this.items[0].toStatement()}break}return M(t,this.searchOptions)}}var H=function(t){t["Search"]=":";t["EqualCaseInsensitive"]=":EQ:";t["NotEqualCaseInsensitive"]=":NE:";t["LessThanCaseInsensitive"]=":LT:";t["LessThanOrEqualCaseInsensitive"]=":LE:";t["GreaterThanCaseInsensitive"]=":GT:";t["GreaterThanOrEqualCaseInsensitive"]=":GE:";t["EqualCaseSensitive"]=":EQ(S):";t["NotEqualCaseSensitive"]=":NE(S):";t["LessThanCaseSensitive"]=":LT(S):";t["LessThanOrEqualCaseSensitive"]=":LE(S):";t["GreaterThanCaseSensitive"]=":GT(S):";t["GreaterThanOrEqualCaseSensitive"]=":GE(S):";t["IsNull"]=":IS:NULL";t["BetweenCaseInsensitive"]=":BT:";t["BetweenCaseSensitive"]=":BT(S):";t["DescendantOf"]=":DESCENDANT_OF:";t["ChildOf"]=":CHILD_OF:";return t}(H||{});var _=function(t){t["Equal"]=" eq ";t["NotEqual"]=" ne ";t["GreaterThan"]=" gt ";t["LessThan"]=" lt ";t["GreaterThanOrEqualTo"]=" ge ";t["LessThanOrEqualTo"]=" le ";t["Is"]=" is ";t["In"]=" in ";t["IsNot"]=" is not ";return t}(_||{});var Y=function(t){t["Ascending"]="ASC";t["Descending"]="DESC";return t}(Y||{});const J={query:"",scope:""};class K{clazz=this.constructor.name;path;alias;constructor(t){this.path=t.path;this.alias=t.alias}toStatement(){return`${this.path.join(".")} ${this.alias}`}}class X{clazz=this.constructor.name;type;alias;constructor(t){this.type=t.type;this.alias=t.alias}toStatement(){return`${this.type} ${this.alias}`}}class Z{clazz=this.constructor.name;name;select;aliases;properties;paths;conditions;constructor(t){this.name=t.name;this.select=t.select;this.aliases=t.aliases;this.properties=t.properties;this.paths=t.paths;this.conditions=t.conditions}toStatement(){let t={name:this.name,select:this.select.join(", ")};let e=[];if(this.aliases){t.aliases=this.aliases.map(t=>t.toStatement()).join(", ");e=this.aliases.map(t=>t.alias)}t.properties=this.properties.map(t=>t.toStatement()).join(", ");t.paths=this.paths.map(t=>t.map(t=>typeof t==="string"?t:t.join(".")).join("/")).join(", ");if(this.conditions){t.conditions=this.conditions.map(t=>t.toStatement()).join(", ")}return Object.keys(t).map(e=>`${e}: ${t[e]}`).join("; ")+";"}}class tt{clazz=this.constructor.name;name;arguments;constructor(t){this.name=t.name;this.arguments=t.arguments}toStatement(){let t="";if(this.arguments){t=Object.keys(this.arguments).map(t=>{let e=`${t}=`;if(this.arguments&&typeof this.arguments[t]==="string"){e=`'${r(this.arguments[t])}'`}else if(this.arguments&&this.arguments[t]&&typeof this.arguments[t]==="object"){if(typeof this.arguments[t].toStatement==="function"){if(this.arguments[t]instanceof tt||this.arguments[t]instanceof et){e=this.arguments[t].toStatement()}else{if(this.arguments[t]instanceof m){e=this.arguments[t].toStatement()}else{e=`'${this.arguments[t].toStatement()}'`}}}else if(Array.isArray(this.arguments[t])){e="["+this.arguments[t].map(t=>{if(t instanceof m){return t.toStatement()}else if(typeof t==="string"){return`'${r(t)}'`}else{return String(t)}}).join(",")+"]"}else{throw new Error("Unexpected object: "+this.arguments[t])}}else{e=String(this.arguments?String(this.arguments[t]):"")}return`${t}=${e}`}).join(",")}return`${typeof this.name==="string"?this.name:this.name.join(".")}(${t})`}}class et{clazz=this.constructor.name;customFunction;oDataFilter;constructor(t){this.customFunction=t.customFunction;this.oDataFilter=t.oDataFilter}toStatement(){let t;if(this.customFunction instanceof k){let e=`Search.search(query='${this.customFunction.toStatement()}')`;if(this.oDataFilter){e+=` and ${this.oDataFilter.toStatement()}`}t=`filter(${e})`}else{t=`filter(${this.customFunction.toStatement()}`;if(this.oDataFilter){t+=` and ${this.oDataFilter.toStatement()}`}t+=")"}return t}}const st=t=>{if(typeof t==="object"){switch(t.clazz){case"Property":return new W(t);case"Near":t.terms=t.terms.map(t=>st(t));return new G(t);case"Phrase":return new Q(t);case"RangeValues":return new V(t);case"GeometryCollectionValues":return new j(t.geometryCollection.map(t=>st(t)));case"MultiPolygonValues":return new R(t.polygons);case"MultiLineStringValues":return new A(t.lineStrings);case"CircularStringValues":return new L(t.points);case"LineStringValues":return new I(t.points);case"MultiPointValues":return new C(t.points);case"PointValues":return new $(t.point);case"SpatialReferenceSystemsOperator":return new E(t);case"SpatialReferenceSystemsOperatorBase":return new v(t);case"InList":return new y(t);case"NearOperator":return new d(t);case"Term":return new b(t);case"HierarchyFacet":return new S(t);case"Comparison":const e=new D(t);if(typeof e.property==="object"){e.property=st(e.property)}if(e.operator&&typeof e.operator==="object"){e.operator=st(e.operator)}if(e.value&&typeof e.value==="object"){e.value=st(e.value)}return e;case"ScopeComparison":return new P(t);case"WithinOperator":return new z(t);case"PolygonValues":return new F(t.lineStrings);case"CoveredByOperator":return new T(t);case"IntersectsOperator":return new w(t);case"Expression":const s=new k(t);s.items=s.items.map(t=>st(t));return s;case"DynamicView":const r=new Z(t);r.properties=r.properties.map(t=>st(t));if(r.aliases){r.aliases=r.aliases.map(t=>st(t))}if(r.conditions){if(Array.isArray(r.conditions)){r.conditions=r.conditions.map(t=>st(t))}else{r.conditions=st(r.conditions)}}return r;case"Alias":return new X(t);case"PropertyAlias":return new K(t);case"ListValues":const n=new l(t);n.values=n.values.map(t=>st(t));return n;case"ViewParameter":return new f(t);case"NullValue":return new h;case"BooleanValue":return new p(t);case"NumberValue":return new m(t);case"StringValue":return new g(t);case"CustomFunction":const i=new tt(t);if(i.arguments){Object.keys(i.arguments).map(t=>{if(i.arguments&&typeof i.arguments[t]==="object"&&typeof i.arguments[t].clazz==="string"){if(["CustomFunction","FilterFunction"].includes(i.arguments[t].clazz)){i.arguments[t]=st(i.arguments[t])}else{throw new Error(`Invalid statement in: ${t} = ${i.arguments[t]}`)}}})}return i;case"FilterFunction":const a=new et(t);a.customFunction=st(a.customFunction);if(a.oDataFilter){a.oDataFilter=st(a.oDataFilter)}return a;default:throw new Error("not implemented: "+JSON.stringify(t))}}return t};var rt={__esModule:true};rt.escapeSingleQuote=r;rt.escapeDoubleQuoteAndBackslash=n;rt.escapeQuery=i;rt.escapeQueryWithCustomLength=a;rt.escapeQueryWithDefaultLength=o;rt.existValueInEnum=c;rt.NearOrdering=u;rt.ListValues=l;rt.NullValue=h;rt.BooleanValue=p;rt.NumberValue=m;rt.StringValue=g;rt.ViewParameter=f;rt.HierarchyFacet=S;rt.NearOperator=d;rt.InListOperator=O;rt.InList=y;rt.SpatialReferenceSystemsOperator=E;rt.WithinOperator=z;rt.CoveredByOperator=T;rt.IntersectsOperator=w;rt.PointValues=$;rt.MultiPointValues=C;rt.LineStringValues=I;rt.CircularStringValues=L;rt.MultiLineStringValues=A;rt.PolygonValues=F;rt.MultiPolygonValues=R;rt.GeometryCollectionValues=j;rt.RangeValues=V;rt.Comparison=D;rt.ScopeComparison=P;rt.Term=b;rt.escapePhrase=x;rt.Phrase=Q;rt.Near=G;rt.Property=W;rt.LogicalOperator=q;rt.SearchQueryLogicalOperator=B;rt.SearchQueryPrefixOperator=U;rt.Expression=k;rt.SearchQueryComparisonOperator=H;rt.ComparisonOperator=_;rt.ESOrderType=Y;rt.SEARCH_DEFAULTS=J;rt.PropertyAlias=K;rt.Alias=X;rt.DynamicView=Z;rt.CustomFunction=tt;rt.FilterFunction=et;rt.deserialize=st;return rt})})();
},
	"sap/esh/search/ui/sinaNexTS/providers/hana_odata/eshObjects/src/index.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){sap.ui.define(["./utils","./definitions"],function(e,t){"use strict";var n={__esModule:true};function u(e,t){t&&Object.keys(t).forEach(function(n){if(n==="default"||n==="__esModule")return;Object.defineProperty(e,n,{enumerable:true,get:function e(){return t[n]}})})}u(n,e);u(n,t);return n})})();
},
	"sap/esh/search/ui/sinaNexTS/providers/hana_odata/eshObjects/src/utils.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){sap.ui.define(["./definitions"],function(e){"use strict";
/** Copyright 2019 SAP SE or an SAP affiliate company. All rights reserved. */const t=e["Term"];const a=e["Phrase"];const r=e["Expression"];const s=e["SearchQueryLogicalOperator"];const o=e["CustomFunction"];const i=e["FilterFunction"];const n=e["LogicalOperator"];const c=e["SEARCH_DEFAULTS"];const f=e["escapeQuery"];var p=function(e){e[e["Term"]=0]="Term";e[e["Phrase"]=1]="Phrase";return e}(p||{});const u=(e={})=>{if(e.metadataCall){let t=e.resourcePath?e.resourcePath:"/$metadata";if(e.metadataObjects){if(e.metadataObjects.entitySets){t+="/EntitySets("+e.metadataObjects.entitySets+")"}else{if(e.metadataObjects.format){t+="?$format="+e.metadataObjects.format}if(e.metadataObjects.collectionReference){t+="#"+e.metadataObjects.collectionReference}if(e.metadataObjects.contextEntitySet&&e.metadataObjects.primitiveTyp){t+="#"+e.metadataObjects.contextEntitySet+"("+e.metadataObjects.primitiveTyp+")"}else if(e.metadataObjects.contextEntitySet){t+="#"+e.metadataObjects.contextEntitySet}else if(e.metadataObjects.primitiveTyp){t+="#"+e.metadataObjects.primitiveTyp}}}return{path:t,parameters:{}}}let t="/$all";if(e.resourcePath){t=e.resourcePath}if(e?.suggestTerm){t+=`/${encodeURIComponent("GetSuggestion(term='"+e.suggestTerm.replace(/'/g,"''")+"')")}`}if(e.eshParameters){const a=[];for(const t of Object.keys(e.eshParameters)){a.push(t+"='"+encodeURIComponent(e.eshParameters[t])+"'")}if(a.length>0){t+="("+a.join(",")+")"}}const a=new r({operator:n.and,items:[]});if(!e){e={query:c.query,scope:c.scope,$select:[],facets:[]}}else{if(!e.query){e.query=c.query}if(!e.$select){e.$select=[]}if(!e.facets){e.facets=[]}}if(e.oDataFilter){a.items.push(e.oDataFilter)}if(a.items.length>0){e.oDataFilter=a}const s=t;let p=e.scope?"SCOPE:"+e.scope:"";if(e.searchQueryFilter){const t=e.searchQueryFilter.toStatement().trim();if(t.length>0){if(p!==""){p+=" "}p+=t}}if(e.freeStyleText){if(p!==""){p+=" "}const t=m(e.freeStyleText);p+=t.toStatement()}if(e.query&&e.query!==""){if(p!==""){p+=" "}p+=f(e.query)}const u={};for(const t of Object.keys(e)){switch(t){case"query":if(e.$apply){break}let a=p===""?"":"filter(Search.search(query='"+p+"')";if(e.oDataFilter&&e.oDataFilter.items.length>0){a+=" and "+e.oDataFilter.toStatement()}if(p!==""){a+=")"}if(e.groupby&&e.groupby.properties&&e.groupby.properties.length>0){a+=`/groupby((${e.groupby.properties.join(",")})`;if(e.groupby.aggregateCountAlias&&e.groupby.aggregateCountAlias!==""){a+=`,aggregate($count as ${e.groupby.aggregateCountAlias})`}a+=")"}if(a!==""){u.$apply=a}break;case"$orderby":if(e.$orderby&&e.$orderby.length>0){u.$orderby=e.$orderby.map(e=>e.order?`${e.key} ${e.order}`:e.key).join(",")}break;case"facets":if(e.facets&&e.facets.length>0){u[t]=e.facets.join(",")}break;case"$select":if(e.$select&&e.$select.length>0){u[t]=e.$select.join(",")}break;case"facetroot":if(e.facetroot&&e.facetroot.length>0){u.facetroot=e.facetroot.map(e=>e.toStatement()).join(",")}break;case"$top":case"$skip":case"$count":case"whyfound":case"estimate":case"wherefound":case"facetlimit":case"valuehierarchy":case"filteredgroupby":u[t]=e[t];break;case"dynamicview":if(e.dynamicview){u[t]=e.dynamicview.map(e=>e.toStatement()).join(" ")}break;case"$apply":if(e[t]instanceof o||e[t]instanceof i){let a=e[t].toStatement();if(e.groupby&&e.groupby.properties&&e.groupby.properties.length>0){a+=`/groupby((${e.groupby.properties.join(",")})`;if(e.groupby.aggregateCountAlias&&e.groupby.aggregateCountAlias!==""){a+=`,aggregate($count as ${e.groupby.aggregateCountAlias})`}a+=")"}u[t]=a}break;default:break}}return{path:s,parameters:u}};const l=e=>{const t=u(e);const a=Object.keys(t.parameters).map(function(e){return encodeURIComponent(e)+"="+encodeURIComponent(t.parameters[e])}).join("&");if(a&&a!==""){return`${t.path}?${a}`}return t.path};const m=e=>{const o=[];let i="";let n=p.Term;for(let r=0;r<e.length;r++){const s=e[r];if(s==='"'){if(n==p.Term){if(e.substring(r+1).indexOf('"')>=0){o.push(new t({term:i.trim()}));n=p.Phrase;i=""}else{o.push(new t({term:(i+e.substring(r)).trim()}));i="";break}}else{o.push(new a({phrase:i}));n=p.Term;i=""}}else{i+=e[r]}}if(i.length>0){o.push(new t({term:i.trim()}))}return new r({operator:s.TIGHT_AND,items:o})};var g={__esModule:true};g.createEshSearchQuery=u;g.getEshSearchQuery=l;g.parseFreeStyleText=m;return g})})();
},
	"sap/esh/search/ui/sinaNexTS/providers/hana_odata/eshQueryLanguageTS/eshHelperQL.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){
/*!
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.define(["../eshObjects/src/index"],function(e){"use strict";const t=e["Expression"];const r=e["LogicalOperator"];const a=e["SEARCH_DEFAULTS"];const s=e["parseFreeStyleText"];function o(e){let o=e.resourcePath||"/$all";if(e.metadataCall===true){if(e.metadataObjects){if(e.metadataObjects.entitySets){o+="/EntitySets("+e.metadataObjects.entitySets+")"}}return o}if(e.suggestTerm){o=o+`/${encodeURIComponent("GetSuggestion(term='"+e.suggestTerm.replace(/'/g,"''")+"')")}`}const c=new t({operator:r.and,items:[]});if(!e){e={query:a.query,scope:a.scope,$select:[],facets:[]}}else{if(!e.query){e.query=a.query}if(!e.scope){e.scope=a.scope}if(!e.$select){e.$select=[]}if(!e.facets){e.facets=[]}}if(e.oDataFilter){c.items.push(e.oDataFilter)}if(c.items.length>0){e.oDataFilter=c}const i=o;let n="SCOPE:"+e.scope;if(e.searchQueryFilter){const t=e.searchQueryFilter.toStatement().trim();if(t.length>0){if(n!==""){n+=" "}n+=t}}if(e.freeStyleText){if(n!==""){n+=" "}const t=s(e.freeStyleText);n+=t.toStatement()}const u={};for(const t of Object.keys(e)){switch(t){case"query":if(e.$apply){break}let r=n===""?"":"filter(Search.search(query='"+n+"')";if(e.oDataFilter&&e.oDataFilter.items.length>0){r+=" and "+e.oDataFilter.toStatement()}if(n!==""){r+=")"}if(e.groupby&&e.groupby.properties&&e.groupby.properties.length>0){r+=`/groupby((${e.groupby.properties.join(",")})`;if(e.groupby.aggregateCountAlias&&e.groupby.aggregateCountAlias!==""){r+=`,aggregate($count as ${e.groupby.aggregateCountAlias})`}r+=")"}if(r!==""){u.$apply=r}break;case"$orderby":if(e.$orderby){u.$orderby=e.$orderby.map(e=>e.key+" "+e.order).join(",")}break;case"facets":case"$select":if(e[t].length>0){u[t]=e[t].join(",")}break;case"$top":case"$skip":case"$count":case"whyfound":case"estimate":case"wherefound":case"language":case"facetlimit":u[t]=e[t];break;case"resourcePath":default:break}}const f=Object.keys(u).map(e=>encodeURIComponent(e)+"="+encodeURIComponent(u[e])).join("&");return f===""?i:i+"?"+f}var c={__esModule:true};c.createEshSearchQueryUrl=o;return c})})();
},
	"sap/esh/search/ui/sinaNexTS/providers/hana_odata/nlqParser.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){sap.ui.define(["../../sina/i18n"],function(e){"use strict";const t=e["getText"];function n(e,n){if(!n){return{success:false,filterDescription:""}}n=n.filter(e=>e.ai);if(n.length===0){return{success:false,filterDescription:""}}const i=[];for(const r of n){if(!r.filter.natural_language){continue}if(n.length>1){const n=e.getDataSource(r.Name);i.push(t("nlqDataSourceAndFilterDescription",[n?n.label:r.Name,r.filter.natural_language]))}else{i.push(r.filter.natural_language)}}let r="";if(i.length>0){r="<code>"+i.join("<br/>")+"</code>"}return{success:true,filterDescription:r}}var i={__esModule:true};i.parseNlqInfo=n;return i})})();
},
	"sap/esh/search/ui/sinaNexTS/providers/hana_odata/suggestionParser.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){
/*!
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.define(["../../sina/SuggestionCalculationMode","../../sina/SuggestionType","../../core/errors"],function(e,t,a){"use strict";const r=e["SuggestionCalculationMode"];const i=t["SuggestionType"];const s=a["InternalSinaError"];class n{provider;sina;constructor(e){this.provider=e;this.sina=e.sina}parse(e,t){const a=[];let r;let i;for(let s=0;s<t.length;s++){r=null;i=t[s];r=this.parseSearchTermSuggestion(e,i);if(r){a.push(r)}}return a}parseDataSourceSuggestion(e,t){const a=this.sina.SuggestionCalculationMode.Data;const r=this.sina.getDataSource(t.FromDataSource);if(!r){return null}const i=e.filter.clone();i.setDataSource(r);return this.sina._createDataSourceSuggestion({calculationMode:a,dataSource:r,label:t.SearchTermsHighlighted})}parseSearchTermSuggestion(e,t){const a=e.filter.clone();a.setSearchTerm(t.term);if(e.types.indexOf(i.SearchTermAI)>=0){if(e.types.length>1){throw new s({message:"mix of ai suggestions with other suggestions not allowed"})}if(!t.term){return null}return this.sina._createSearchTermAISuggestion({searchTerm:t.term,calculationMode:this.sina.SuggestionCalculationMode.Data,filter:a,label:t.highlighted||t.term})}else{return this.sina._createSearchTermSuggestion({searchTerm:t.term,calculationMode:this.sina.SuggestionCalculationMode.Data,filter:a,label:t.highlighted||t.term})}}parseSearchTermAndDataSourceSuggestion(e,t){const a=this.parseCalculationMode(t.Type);const r=e.filter.clone();r.setSearchTerm(t.SearchTerms);const i=this.sina.getDataSource(t.FromDataSource);if(!i){return null}r.setDataSource(i);return this.sina._createSearchTermAndDataSourceSuggestion({searchTerm:t.SearchTerms,dataSource:i,calculationMode:a,filter:r,label:t.SearchTermsHighlighted})}parseObjectSuggestions(e,t){const a=[];for(let e=0;e<t.length;++e){const r=t[e];this.fillValueHighlighted(r);const i=r.titleAttributes.map(function(e){return e.valueFormatted||""}).join(" ");const s=this.sina._createObjectSuggestion({calculationMode:this.sina.SuggestionCalculationMode.Data,label:i,object:r});a.push(s)}return a}fillValueHighlighted(e){const t=function(e){if(!e){return}for(let t=0;t<e.length;++t){const a=e[t];if(!a.valueHighlighted){if(typeof a.valueFormatted==="string"&&a.valueFormatted.startsWith("sap-icon://")===true){a.valueHighlighted=""}else{a.valueHighlighted=a.valueFormatted}}}};t(e.detailAttributes);t(e.titleAttributes)}parseCalculationMode(e){switch(e){case"H":return r.History;case"A":case"M":return r.Data}}}var o={__esModule:true};o.SuggestionParser=n;return o})})();
},
	"sap/esh/search/ui/sinaNexTS/providers/hana_odata/typeConverter.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){
/*!
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.define(["../../sina/util","../../sina/AttributeType","../../core/errors","../tools/TypeConverterUtil"],function(t,e,n,r){"use strict";const o=e["AttributeType"];const i=n["UnknownAttributeTypeError"];const a=r["convertToSinaDouble"];const s=r["convertToSinaInteger"];const c=r["convertToSinaStringImageUrlImageBlob"];const u=r["convertToSinaGeoJson"];const g=r["convertToSinaDate"];const l=r["convertToSinaTime"];const f=r["convertToSinaTimestamp"];function T(t,e,n){switch(t){case o.Double:return e.toString();case o.Integer:return e.toString();case o.String:return S(e,n);case o.ImageUrl:case o.ImageBlob:return e;case o.GeoJson:return JSON.stringify(e);case o.Date:return y(e);case o.Time:return b(e);case o.Timestamp:return d(e);default:throw new i(t)}}function S(e,n){return t.convertOperator2Wildcards(e,n?.operator)}function m(t,e){switch(t){case o.Double:return a(e);case o.Integer:return s(e);case o.String:case o.ImageUrl:case o.ImageBlob:return c(t,e);case o.GeoJson:return u(t,e);case o.Date:return g(e);case o.Time:return l(e);case o.Timestamp:return f(e);default:throw new i(t)}}function p(t){if(!t){return""}else if(typeof t==="string"){return t}else if(typeof t==="boolean"||typeof t==="number"||typeof t==="bigint"){return t.toString()}else if(t instanceof Date){return t.toLocaleDateString()}else if(typeof t==="object"){return JSON.stringify(t)}else{return""}}function d(t){if(typeof t==="string"){if(t.length===0){return""}if(t==="$$now$$"){t=new Date}}const e=t.getUTCFullYear();const n=t.getUTCMonth()+1;const r=t.getUTCDate();const o=t.getUTCHours();const i=t.getUTCMinutes();const a=t.getUTCSeconds();const s=v(e.toString(),4)+"-"+v(n.toString(),2)+"-"+v(r.toString(),2)+"T"+v(o.toString(),2)+":"+v(i.toString(),2)+":"+v(a.toString(),2)+"Z";return s}function b(t){return t}function y(t){if(t.length===0){return""}return t.slice(0,4)+"-"+t.slice(5,7)+"-"+t.slice(8,10)}function v(t,e){return"00000000000000".slice(0,e-t.length)+t}var D={__esModule:true};D.sina2Odata=T;D.sina2OdataString=S;D.odata2Sina=m;D.convertValueToString=p;D.sina2OdataTimestamp=d;D.sina2OdataTime=b;D.sina2OdataDate=y;D.addLeadingZeros=v;return D})})();
},
	"sap/esh/search/ui/sinaNexTS/providers/hana_odata/util.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){sap.ui.define(["../../core/Log"],function(r){"use strict";const t=r["Log"];async function a(r,a){async function e(r){let e;switch(r.name){case"ServerError":e=r;if(!e.response.dataJSON){throw r}try{const t=await a(e.response.dataJSON);t.addError(r);return t}catch(a){const e=new t("hana odata util");e.warn("Error while parsing error response: "+a);throw r}default:throw r}}let n;try{n=await r()}catch(r){return await e(r)}return await a(n)}var e={__esModule:true};e.handleError=a;return e})})();
},
	"sap/esh/search/ui/sinaNexTS/providers/inav2/FacetParser.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){
/*!
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.define(["./pivotTableParser","./typeConverter","../../sina/ComparisonOperator","../../sina/SearchQuery","../../sina/LogicalOperator","../../core/errors"],function(e,t,a,r,s,i){"use strict";const u=a["ComparisonOperator"];const o=r["SearchQuery"];const l=s["LogicalOperator"];const n=i["FacetsParseError"];class c{provider;sina;constructor(e){this.provider=e;this.sina=e.sina}parse(e,t){const a=[];if(!t.ResultsetFacets||!t.ResultsetFacets.Elements){return[]}for(let r=0;r<t.ResultsetFacets.Elements.length;r++){const s=t.ResultsetFacets.Elements[r];const i=s.Metadata.Cube.ObjectName;if(i==="$$DataSources$$"){a.push(this.parseDataSourceFacet(e,s))}else{if(e.filter.dataSource.type===e.sina.DataSourceType.Category){continue}a.push(this.parseChartFacet(e,s))}}return Promise.all(a)}parseDataSourceFacet(t,a){let r=t;if(t instanceof o){r=this.sina.createDataSourceQuery({dataSource:t.filter.dataSource,filter:t.filter.clone(),nlq:t.nlq})}const s=e.parse(a.ResultSet);const i=[];for(let e=0;e<s.cells.length;e++){const t=s.cells[e];let a=this.sina.getDataSource(t.$$DataSource$$[0].Value);if(!a){a=this.sina._createDataSource({type:this.sina.DataSourceType.Category,id:t.$$DataSource$$[0].Value,label:t.$$DataSource$$[0].ValueFormatted})}i.push(this.sina._createDataSourceResultSetItem({dataSource:a,dimensionValueFormatted:t.$$DataSource$$[0].ValueFormatted,measureValue:t.Value,measureValueFormatted:t.ValueFormatted}))}const u=this.sina._createDataSourceResultSet({title:t.filter.dataSource.label,items:i,query:r});if(t instanceof o){return r._setResultSet(u)}return u}createAttributeFilterCondition(e,a,r){switch(r.$$AttributeValue$$.length){case 2:return this.sina.createSimpleCondition({attribute:e,value:t.ina2Sina(a.type,r.$$AttributeValue$$[0].Value),attributeLabel:a.label,valueLabel:r.$$AttributeValue$$[0].ValueFormatted});case 3:{const s=this.sina.createComplexCondition({attributeLabel:a.label,valueLabel:r.$$AttributeValue$$[0].ValueFormatted,operator:l.And});const i=[];if(r.$$AttributeValue$$[1].Value){i.push(this.sina.createSimpleCondition({attribute:e,operator:u.Ge,value:t.ina2Sina(a.type,r.$$AttributeValue$$[1].Value)}))}if(r.$$AttributeValue$$[2].Value){i.push(this.sina.createSimpleCondition({attribute:e,operator:u.Le,value:t.ina2Sina(a.type,r.$$AttributeValue$$[2].Value)}))}s.conditions=i;return s}default:throw new n}}parseChartFacet(t,a){const r=this.sina.getDataSource(a.Metadata.Cube.DataSource.ObjectName);const s=a.Metadata.Cube.ObjectName;const i=r.getAttributeMetadata(s);let u=t;if(t instanceof o){const e=t.filter.clone();e.setDataSource(r);e.setRootCondition(t.filter.rootCondition.clone());u=this.sina.createChartQuery({filter:e,dimension:a.Metadata.Cube.ObjectName,nlq:t.nlq})}const l=e.parse(a.ResultSet);const n=[];for(let e=0;e<l.cells.length;e++){const t=l.cells[e];n.push(this.sina._createChartResultSetItem({filterCondition:this.createAttributeFilterCondition(s,i,t),dimensionValueFormatted:t.$$AttributeValue$$[0].ValueFormatted||t.$$AttributeValue$$[0].Value,measureValue:t.Value,measureValueFormatted:t.ValueFormatted}))}const c=this.sina._createChartResultSet({title:i.label,items:n,query:u});if(t instanceof o){return u._setResultSet(c)}return c}}var $={__esModule:true};$.FacetParser=c;return $})})();
},
	"sap/esh/search/ui/sinaNexTS/providers/inav2/ItemParser.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){
/*!
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.define(["../../core/util","./typeConverter","./pivotTableParser","../../core/errors"],function(t,e,a,i){"use strict";const r=i["WhyFoundAttributeMetadataMissingError"];class s{provider;sina;intentsResolver;constructor(t){this.provider=t;this.sina=t.sina;this.intentsResolver=this.sina._createFioriIntentsResolver()}parse(t,e){const i=this.parseTotalCount(e);e=a.parse(e);if(e.axes.length===0){return Promise.resolve({totalCount:0,items:[]})}const r=e.axes[0];const s=[];for(let t=0;t<r.length;++t){const e=r[t];this.provider.metadataParser.parseSearchRequestMetadata(e);const a=this.parseItem(e);s.push(a)}return Promise.all(s).then(function(t){return{totalCount:i,items:t}})}parseTotalCount(t){if(t.ItemLists&&t.ItemLists[0]&&t.ItemLists[0].TotalCount){return t.ItemLists[0].TotalCount.Value}return 0}parseItem(t){const a=[];const i=[];const r=[];const s=this.sina.getDataSource(t.$$DataSourceMetaData$$[0].ObjectName);for(let n=0;n<t.$$ResultItemAttributes$$.length;++n){const o=t.$$ResultItemAttributes$$[n];const u=s.getAttributeMetadata(o.Name);const l=this.sina._createSearchResultSetItemAttribute({id:o.Name,label:s.getAttributeMetadata(o.Name).label,value:e.ina2Sina(u.type,o.Value),valueFormatted:o.ValueFormatted||o.Value,valueHighlighted:o.ValueFormatted||o.Value,isHighlighted:false,metadata:u});if(u.usage.Title){a.push(l)}if(u.usage.Detail){i.push(l)}for(let e=0;e<t.$$AttributeMetadata$$.length;e++){const a=t.$$AttributeMetadata$$[e];if(a.Name==o.Name){if(a.SemanticObjectType&&a.SemanticObjectType.length>0){r.push({name:a.SemanticObjectType,value:l.value,type:l.metadata.type})}break}}}a.sort(function(t,e){return t.metadata.usage.Title.displayOrder-e.metadata.usage.Title.displayOrder});i.sort(function(t,e){return t.metadata.usage.Detail.displayOrder-e.metadata.usage.Detail.displayOrder});this.parseWhyFound(s,a,i,t);let n;for(let e=0;e<t.$$RelatedActions$$.length;++e){const a=t.$$RelatedActions$$[e];if(a.Type==="GeneralUri"||a.Type==="SAPNavigation"){const t=a.Description;const e=encodeURI(a.Uri);n=this.sina.createNavigationTarget({text:t,targetUrl:e})}}const o=t.$$DataSourceMetaData$$[0].SemanticObjectType;const u=t.$$DataSourceMetaData$$[0].SystemId;const l=t.$$DataSourceMetaData$$[0].Client;return this.intentsResolver.resolveIntents({semanticObjectType:o,semanticObjectTypeAttributes:r,systemId:u,client:l,fallbackDefaultNavigationTarget:n}).then(function(t){const e=t&&t.defaultNavigationTarget;const r=t&&t.navigationTargets;const n=this.sina._createSearchResultSetItem({dataSource:s,titleAttributes:a,titleDescriptionAttributes:[],detailAttributes:i,defaultNavigationTarget:e,navigationTargets:r});return n}.bind(this))}parseWhyFound(e,a,i,s){let n,o,u,l,c;for(n=0;n<s.$$WhyFound$$.length;n++){o=s.$$WhyFound$$[n];u=this.getResponseAttributeId(e,o.Name);for(l=0;l<a.length;++l){c=a[l];if(u===c.id){o.matched=true;c.valueHighlighted=o.Value;c.isHighlighted=true;break}}for(l=0;l<i.length;++l){c=i[l];if(u===c.id){o.matched=true;c.valueHighlighted=o.Value;c.isHighlighted=true;break}}}for(n=0;n<s.$$WhyFound$$.length;n++){o=s.$$WhyFound$$[n];if(o.matched){continue}u=this.getResponseAttributeId(e,o.Name);const a=e.getAttributeMetadata(u);if(!a){throw new r(u)}c=this.sina._createSearchResultSetItemAttribute({id:a.id,label:a.label,value:null,valueFormatted:t.filterString(o.Value,["<b>","</b>"]),valueHighlighted:o.Value,isHighlighted:true,metadata:a});i.push(c)}}getResponseAttributeId(t,e){const a=this.provider.getInternalMetadataAttribute(t,e);if(!a){return e}const i=this.provider.getInternalMetadataAttribute(t,a.correspondingSearchAttributeName);if(!i){return e}return i.Name}}var n={__esModule:true};n.ItemParser=s;return n})})();
},
	"sap/esh/search/ui/sinaNexTS/providers/inav2/MetadataParser.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){
/*!
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.define(["../../core/errors","../../sina/AttributeFormatType","../../sina/AttributeType","../../sina/MatchingStrategy"],function(t,e,a,s){"use strict";const r=t["UnknownDataTypeError"];const i=t["UnknownPresentationUsageError"];const n=e["AttributeFormatType"];const o=a["AttributeType"];const u=s["MatchingStrategy"];class c{provider;sina;constructor(t){this.provider=t;this.sina=t.sina}normalizeAttributeMetadata(t){t.IsKey=t.isKey}parseRequestAttributes(t,e){const a=e.Cube.Dimensions;const s=[];for(let t=0;t<a.length;++t){const e=a[t];if(e.Name.slice(0,2)==="$$"){continue}const r=e.Attributes[0];this.normalizeAttributeMetadata(r);s.push(r)}this.provider.fillInternalMetadata(t,"metadataRequest",s)}parseResponseAttributes(t,e){const a=[];const s=e.Cube.Dimensions[0].Attributes;for(let t=0;t<s.length;++t){const e=s[t];if(e.Name.slice(0,2)==="$$"){continue}this.normalizeAttributeMetadata(e);a.push(e)}this.provider.fillInternalMetadata(t,"metadataRequest",a)}parseMetadataRequestMetadata(t,e){const a=this.provider.getInternalMetadataLoadStatus(t);if(a.metadataRequest){return}this.parseRequestAttributes(t,e);this.parseResponseAttributes(t,e);this.fillPublicMetadataBuffer(t)}parseSearchRequestMetadata(t){const e=this.sina.getDataSource(t.$$DataSourceMetaData$$[0].ObjectName);const a=this.provider.getInternalMetadataLoadStatus(e);if(a.searchRequest){return}this.provider.fillInternalMetadata(e,"searchRequest",t.$$AttributeMetadata$$);this.fillPublicMetadataBuffer(e);this.calculateAttributeDisplayOrder(e,t)}fillPublicMetadataBuffer(t){t.attributesMetadata=[];t.attributeMetadataMap={};const e=this.provider.getInternalMetadataAttributes(t);for(let a=0;a<e.length;++a){const s=e[a];const r=this._parseAttributeTypeAndFormat(s);const i=this.sina._createAttributeMetadata({type:r.type,format:r.format,id:s.Name,label:s.Description,isSortable:this._parseIsSortable(s),isKey:s.IsKey,matchingStrategy:this._parseMatchingStrategy(s),usage:this._parseUsage(s)});t.attributesMetadata.push(i);t.attributeMetadataMap[s.Name]=i}t._configure()}calculateAttributeDisplayOrder(t,e){let a,s,r;const i=[];const n=[];const o=[];const u=[];for(let a=0;a<e.$$ResultItemAttributes$$.length;++a){const s=e.$$ResultItemAttributes$$[a];const r=this.provider.getInternalMetadataAttribute(t,s.Name);if(r.presentationUsage.indexOf("Title")>=0||r.IsTitle){i.push(s.Name)}if(r.presentationUsage.indexOf("Summary")>=0||r.presentationUsage.indexOf("Image")>=0||r.presentationUsage.indexOf("Thumbnail")>=0){n.push(s.Name)}else if(r.presentationUsage.indexOf("Detail")>=0){o.push(s.Name)}}for(r=0;r<i.length;++r){a=i[r];s=t.getAttributeMetadata(a);s.usage.Title.displayOrder=r}u.push(...n);u.push(...o);for(r=0;r<u.length;++r){a=u[r];s=t.getAttributeMetadata(a);s.usage.Detail.displayOrder=r}}_parseIsSortable(t){if(typeof t.IsSortable==="undefined"){return false}return t.IsSortable}_parseMatchingStrategy(t){if(t.hasFulltextIndex){return u.Text}return u.Exact}_parseUsage(t){const e={};if(t.presentationUsage.indexOf("Title")>=0||t.IsTitle){e.Title={displayOrder:0}}if(t.presentationUsage.indexOf("Summary")>=0||t.presentationUsage.indexOf("Image")>=0||t.presentationUsage.indexOf("Thumbnail")>=0||t.presentationUsage.indexOf("Detail")>=0){e.Detail={displayOrder:0}}if(t.accessUsage.indexOf("AutoFacet")>=0){e.Facet={displayOrder:0}}if(t.accessUsage.indexOf("AdvancedSearch")>=0){e.AdvancedSearch={displayOrder:0}}return e}_parseAttributeTypeAndFormat(t){for(let e=0;e<t.presentationUsage.length;e++){const a=t.presentationUsage[e];switch(a){case"Summary":continue;case"Detail":continue;case"Title":continue;case"Hidden":continue;case"FactSheet":continue;case"Thumbnail":case"Image":return{type:o.ImageUrl};case"Text":return{type:o.String,format:n.LongText};default:throw new i(a)}}switch(t.DataType){case"Integer":case"Long":return{type:o.Integer};case"Double":return{type:o.Double};case"String":return{type:o.String};case"Date":return{type:o.Date};case"Time":return{type:o.Time};case"Timestamp":return{type:o.Timestamp};case"GeoJson":return{type:o.GeoJson};default:throw new r(t.DataType)}}}var l={__esModule:true};l.MetadataParser=c;return l})})();
},
	"sap/esh/search/ui/sinaNexTS/providers/inav2/Provider.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){
/*!
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.define(["../AbstractProvider","../../core/core","./conditionSerializer","./dataSourceSerializer","../../core/util","../../core/lang","./ajaxTemplates","./labelCalculation","./pivotTableParser","./suggestionParser","./suggestionTermSplitter","./MetadataParser","./ItemParser","./FacetParser","../../sina/AttributeType","../../core/errors","./ajax"],function(e,t,a,s,r,i,n,o,u,c,l,d,h,S,p,f,g){"use strict";const m=e["AbstractProvider"];const R=d["MetadataParser"];const b=h["ItemParser"];const P=S["FacetParser"];const C=p["AttributeType"];const D=f["ESHNotActiveError"];const q=f["NotImplementedError"];const y=g["createAjaxClient"];class I extends m{id="inav2";urlPrefix;getServerInfoUrl;getResponseUrl;ajaxClient;metadataLoadPromises;internalMetadata;labelCalculator;metadataParser;itemParser;facetParser;sessionId;initAsync(e){this.urlPrefix=e.url||"/sap/es/ina";this.getServerInfoUrl=this.urlPrefix+"/GetServerInfo";this.getResponseUrl=this.urlPrefix+"/GetResponse";this.sina=e.sina;this.ajaxClient=e.ajaxClient??y({getLanguage:typeof e.getLanguage==="function"?e.getLanguage:undefined});this.metadataLoadPromises={};this.internalMetadata={};this.labelCalculator=o.createLabelCalculator();this.metadataParser=new R(this);this.itemParser=new b(this);this.facetParser=new P(this);this.executeSearchQuery=this.addMetadataLoadDecorator(this.executeSearchQuery);this.executeChartQuery=this.addMetadataLoadDecorator(this.executeChartQuery);this.executeSuggestionQuery=this.addMetadataLoadDecorator(this.executeSuggestionQuery);this.sessionId=t.generateGuid();return this.loadServerInfo().then(e=>{this.serverInfo=e;if(!this.supports("Search")){return Promise.reject(new D)}return this.loadBusinessObjectDataSources()}).then(()=>({capabilities:this.sina._createCapabilities({fuzzy:this.supports("Search","OptionFuzzy")})}))}addMetadataLoadDecorator(e){return function(...t){const a=t[0];const s=a.filter.dataSource;return Promise.resolve().then(function(){return this.loadMetadata(s)}.bind(this)).then(function(){return e.apply(this,t)}.bind(this))}.bind(this)}loadMetadata(e){if(e.type===this.sina.DataSourceType.Category){return Promise.resolve()}let t=this.metadataLoadPromises[e.id];if(t){return t}n.loadDataSourceMetadataRequest.DataSource.ObjectName=e.id;this.addLanguagePreferences(n.loadDataSourceMetadataRequest);t=this.ajaxClient.postJson(this.getResponseUrl,n.loadDataSourceMetadataRequest).then(function(t){this.metadataParser.parseMetadataRequestMetadata(e,t.data)}.bind(this));this.metadataLoadPromises[e.id]=t;return t}supports(e,t){for(let a=0;a<this.serverInfo.Services.length;++a){const s=this.serverInfo.Services[a];if(s.Service==e){if(!t){return true}for(let e=0;e<s.Capabilities.length;++e){const a=s.Capabilities[e];if(a.Capability===t){return true}}}}return false}loadServerInfo(){return this.ajaxClient.getJson(this.getServerInfoUrl).then(function(e){return e.data})}loadBusinessObjectDataSources(){const e=this;e.addLanguagePreferences(n.loadDataSourcesRequest);if(e.supports("Search","PluralDescriptionForDataSource")){n.loadDataSourcesRequest.Search.NamedValues.push({AttributeName:"DescriptionPlural",Name:"DescriptionPlural"})}return e.ajaxClient.postJson(e.getResponseUrl,n.loadDataSourcesRequest).then(function(t){e._processDataSourcesResponse(t,false)},function(){const t=e.serverInfo.ServerInfo.SystemId+e.serverInfo.ServerInfo.Client+"~ESH_CONNECTOR~";n.fallbackLoadDataSourcesRequest.DataSource.ObjectName=t;return e.ajaxClient.postJson(e.getResponseUrl,n.fallbackLoadDataSourcesRequest).then(function(t){e._processDataSourcesResponse(t,true)})})}_processDataSourcesResponse(e,a){const s=u.parse(e.data);const r=s.axes[0];for(let e=0;e<r.length;++e){const s=r[e];let i="";let n="";let o="";if(!a){if(t.isObject(s.Description)){i=s.Description.Value}else{i=s.Description}if(t.isObject(s.DescriptionPlural)){n=s.DescriptionPlural.Value}else{n=s.DescriptionPlural}if(t.isObject(s.ObjectName)){o=s.ObjectName.Value}else{o=s.ObjectName}}else{s.$$ResultItemAttributes$$.forEach(function(e){if(e.Name==="DESCRIPTION"){i=e.Value}if(e.Name==="DESCRIPTION_PLURAL"){n=e.Value}if(e.Name==="OBJECT_NAME"){o=e.Value}})}if(!i){i=o}if(!n){n=i}const u=this.sina._createDataSource({id:o,label:i,labelPlural:n,type:this.sina.DataSourceType.BusinessObject});this.labelCalculator.calculateLabel(u)}}getInternalMetadataAttributes(e){const t=[];const a=this.internalMetadata[e.id];if(!a){return t}for(const e in a.data){t.push(a.data[e])}return t}getInternalMetadataAttribute(e,t){return this.internalMetadata[e.id].data[t]}getInternalMetadataLoadStatus(e){const t=this.internalMetadata[e.id];if(!t){return{}}return t.loadStatus}fillInternalMetadata(e,t,a){let s=this.internalMetadata[e.id];if(!s){s={loadStatus:{},data:{}};this.internalMetadata[e.id]=s}for(let e=0;e<a.length;++e){const t=a[e];let r=s.data[t.Name];if(!r){r={};s.data[t.Name]=r}for(const e in t){r[e]=t[e]}}s.loadStatus[t]=true}addTemplateConditions(e){e.addCondition({attribute:"$$RenderingTemplatePlatform$$",operator:this.sina.ComparisonOperator.Eq,value:"html"});e.addCondition({attribute:"$$RenderingTemplateTechnology$$",operator:this.sina.ComparisonOperator.Eq,value:"Tempo"});e.addCondition({attribute:"$$RenderingTemplateType$$",operator:this.sina.ComparisonOperator.Eq,value:"ResultItem"});e.addCondition({attribute:"$$RenderingTemplateType$$",operator:this.sina.ComparisonOperator.Eq,value:"ItemDetails"})}assembleOrderBy(e){const t=[];for(let a=0;a<e.sortOrder.length;++a){const s=e.sortOrder[a];const r=s.order===this.sina.SortOrder.Descending?"DESC":"ASC";t.push({AttributeName:s.id,SortOrder:r})}return t}executeSearchQuery(e){let t,r;const i=e.filter.rootCondition.clone();this.addTemplateConditions(i);n.searchRequest.Search.Filter=a.serialize(e.filter.dataSource,i);n.searchRequest.DataSource=s.serialize(e.filter.dataSource);n.searchRequest.Search.SearchTerms=e.filter.searchTerm;n.searchRequest.Search.Top=e.top;n.searchRequest.Search.Skip=e.skip;n.searchRequest.Options=this.assembleRequestOptions(e);n.searchRequest.Search.OrderBy=this.assembleOrderBy(e);n.searchRequest.Search.Expand=["Grid","Items","TotalCount"];this.addLanguagePreferences(n.searchRequest);this.addSessionId(n.searchRequest);if(e.calculateFacets){n.searchRequest.Search.Expand.push("ResultsetFacets")}return this.ajaxClient.postJson(this.getResponseUrl,n.searchRequest).then(function(t){r=t;return this.itemParser.parse(e,r.data)}.bind(this)).then(function(a){t=a;return this.facetParser.parse(e,r.data)}.bind(this)).then(function(a){return this.sina._createSearchResultSet({id:r.data.ExecutionID,title:"Search Result List",query:e,items:t.items,totalCount:t.totalCount,facets:a})}.bind(this))}executeChartQuery(e){const t=e.filter.rootCondition.clone();this.addTemplateConditions(t);n.chartRequest.Search.Filter=a.serialize(e.filter.dataSource,t);n.chartRequest.DataSource=s.serialize(e.filter.dataSource);n.chartRequest.Search.SearchTerms=e.filter.searchTerm;n.chartRequest.Search.Top=1;n.chartRequest.Search.Skip=0;n.chartRequest.Facets.Attributes=[e.dimension];n.chartRequest.Facets.MaxNumberOfReturnValues=e.top;n.chartRequest.Options=this.assembleRequestOptions(e);this.addLanguagePreferences(n.chartRequest);this.addSessionId(n.chartRequest);return this.ajaxClient.postJson(this.getResponseUrl,n.chartRequest).then(function(t){return this.facetParser.parse(e,t.data)}.bind(this)).then(function(t){if(t.length>0){return t[0]}return this.sina._createChartResultSet({title:e.filter.dataSource.getAttributeMetadata(e.dimension).label,items:[],query:e})}.bind(this))}executeHierarchyQuery(e){throw new q}async executeSuggestionQuery(e){const t=e.filter.searchTerm;const r=l.split(this,t);const i=e.filter.rootCondition.clone();if(r.searchTerm){i.addCondition(e.sina.createSimpleCondition({attribute:C.INAV2_SearchTerms,value:r.searchTerm}))}i.addCondition(e.sina.createSimpleCondition({attribute:C.INAV2_SuggestionTerms,value:r.suggestionTerm}));n.suggestionRequest.Suggestions2.Filter=a.serialize(e.filter.dataSource,i);n.suggestionRequest.DataSource=s.serialize(e.filter.dataSource);n.suggestionRequest.Options=this.assembleSuggestionOptions(e);if(n.suggestionRequest.Options.length===0){return this.sina._createSuggestionResultSet({title:"Suggestions",query:e,items:[]})}n.suggestionRequest.Suggestions2.Top=e.top;n.suggestionRequest.Suggestions2.Skip=e.skip;this.addLanguagePreferences(n.suggestionRequest);this.addSessionId(n.suggestionRequest);return this.ajaxClient.postJson(this.getResponseUrl,n.suggestionRequest).then(function(t){const a=c.parse(this,e,t.data);l.concatenate(this,r,a);return this.sina._createSuggestionResultSet({title:"Suggestions",query:e,items:a})}.bind(this))}addSessionId(e){if(!this.supports("Search","SessionHandling")){delete e.SessionID;delete e.SessionTimestamp;return}e.SessionID=this.sessionId;e.SessionTimestamp=parseInt(r.generateTimestamp(),10)}addLanguagePreferences(e){if(!this.supports("Search","LanguagePreferences")){delete e.LanguagePreferences;return}e.LanguagePreferences=i.getLanguagePreferences()}assembleSuggestionOptions(e){const t={SearchTerm:{Data:"SuggestObjectData",History:"SuggestSearchHistory"},Object:{},DataSource:{Data:"SuggestDataSources"}};if(!this.supports("Suggestions2","ScopeTypes")){delete t.SearchTerm.History;delete t.DataSource.Data}const a=[];const s=e.types;const r=e.calculationModes;for(let e=0;e<s.length;e++){const i=s[e];for(let e=0;e<r.length;e++){const s=r[e];const n=t[i][s];if(!n){continue}a.push(n)}}return a}assembleRequestOptions(e){const t=["SynchronousRun"];if(this.decideValueHelp(e)){t.push("ValueHelpMode")}return t}decideValueHelp(e){const t=e.filter.rootCondition.conditions;for(let a=0;a<t.length;a++){if(e.filter._getAttribute(t[a])===e["dimension"]){return true}}return false}async getConfigurationAsync(){if(!this.supports("PersonalizedSearch","SetUserStatus")){return Promise.resolve(this.sina._createConfiguration({personalizedSearch:false,isPersonalizedSearchEditable:false}))}return this.ajaxClient.postJson(this.getResponseUrl,n.getConfigurationRequest).then(function(e){const t={personalizedSearch:false,isPersonalizedSearchEditable:false};t.personalizedSearch=e.data.Data.PersonalizedSearch.SessionUserActive;switch(e.data.Data.PersonalizedSearch.PersonalizationPolicy){case"Opt-In":t.isPersonalizedSearchEditable=true;break;case"Opt-Out":t.isPersonalizedSearchEditable=true;break;case"Enforced":t.isPersonalizedSearchEditable=false;break;case"Disabled":t.isPersonalizedSearchEditable=false;break}return this.sina._createConfiguration(t)}.bind(this))}async saveConfigurationAsync(e){if(!this.supports("PersonalizedSearch","SetUserStatus")){return Promise.resolve()}n.saveConfigurationRequest.SearchConfiguration.Data.PersonalizedSearch.SessionUserActive=e.personalizedSearch;return this.ajaxClient.postJson(this.getResponseUrl,n.saveConfigurationRequest)}async resetPersonalizedSearchDataAsync(){if(!this.supports("PersonalizedSearch","ResetUserData")){return}await this.ajaxClient.postJson(this.getResponseUrl,n.resetPersonalizedSearchDataRequest)}getDebugInfo(){return`Searchsystem: ${this.serverInfo.ServerInfo.SystemId} Client: ${this.serverInfo.ServerInfo.Client} ESH API Provider: ${this.id}`}}var v={__esModule:true};v.Provider=I;return v})})();
},
	"sap/esh/search/ui/sinaNexTS/providers/inav2/ajax.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){sap.ui.define(["../../core/AjaxClient","../../core/defaultAjaxErrorFactory","./ajaxErrorFactory"],function(r,t,e){"use strict";const a=r["AjaxClient"];const c=t["createDefaultAjaxErrorFactory"];const o=e["ajaxErrorFactory"];function n(r){const t={csrf:true,csrfByPassCache:true,errorFactories:[o,c()]};return new a(Object.assign(t,r))}var s={__esModule:true};s.createAjaxClient=n;return s})})();
},
	"sap/esh/search/ui/sinaNexTS/providers/inav2/ajaxErrorFactory.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){sap.ui.define(["../../core/errors","../../sina/i18n"],function(r,e){"use strict";const s=r["ServerErrorCode"];const o=r["ServerError"];const t=e["getText"];function n(r,e){if(!e?.data){return}const n=e.dataJSON;if(!n){return}if(typeof n!=="object"){return}if(!n?.Error?.Code||!n?.Error?.Message){return}const a=[];if(n?.ErrorDetails){for(let r=0;r<n.ErrorDetails.length;++r){const e=n.ErrorDetails[r];a.push(e.Code+": "+e.Message)}}if(n?.Messages){for(let r=0;r<n.Messages.length;++r){const e=n.Messages[r];a.push(e.Number+": "+e.Text+" ("+e.Type+")")}}return new o({request:r,response:e,code:s.E001,message:t("error.sina.serverError",[n.Error.Code,n.Error.Message]),details:a.join("\n")})}var a={__esModule:true};a.ajaxErrorFactory=n;return a})})();
},
	"sap/esh/search/ui/sinaNexTS/providers/inav2/ajaxTemplates.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){
/*!
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.define([],function(){"use strict";const e={DataSource:{ObjectName:"$$DataSources$$",PackageName:"ABAP"},Options:["SynchronousRun"],Search:{Top:1e3,Skip:0,OrderBy:[{AttributeName:"Description",SortOrder:"ASC"},{AttributeName:"ObjectName",SortOrder:"ASC"}],Expand:["Grid","Items"],Filter:{Selection:{Operator:{Code:"And",SubSelections:[{MemberOperand:{AttributeName:"SupportedService",Comparison:"=",Value:"Search"}},{MemberOperand:{AttributeName:"Type",Comparison:"=",Value:"View"}}]}}},NamedValues:[{AttributeName:"ObjectName",Name:"ObjectName"},{AttributeName:"Description",Name:"Description"},{AttributeName:"Type",Name:"Type"}]},SearchTerms:"*",ServiceVersion:204};const t={DataSource:{SchemaName:"",PackageName:"ABAP",ObjectName:"",type:"Connector"},Search:{Top:1e3,Skip:0,OrderBy:[{AttributeName:"DESCRIPTION",SortOrder:"ASC"}],Expand:["Grid","Items","TotalCount"],Filter:{},NamedValues:[{AttributeName:"$$ResultItemAttributes$$",Name:"$$ResultItemAttributes$$"},{AttributeName:"$$RelatedActions$$",Name:"$$RelatedActions$$"}],SearchTerms:"*",SelectedValues:[]},SearchTerms:"*"};const a={DataSource:{},Options:["SynchronousRun"],Search:{Expand:["Grid","Items","ResultsetFacets","TotalCount"],Filter:{},Top:10,Skip:0,SearchTerms:"S*",NamedValues:[{Function:"WhyFound",Name:"$$WhyFound$$"},{Function:"RelatedActions",Name:"$$RelatedActions$$"},{AttributeName:"$$RelatedActions.Proxy$$"}],OrderBy:[]},ServiceVersion:204};const r={DataSource:{},Options:["SynchronousRun"],Search:{Expand:["Grid","ResultsetFacets","TotalCount"],Filter:{},Top:10,Skip:0,SearchTerms:"*",NamedValues:[{Function:"WhyFound",Name:"$$WhyFound$$"},{AttributeName:"$$RelatedActions$$"},{AttributeName:"$$RelatedActions.Proxy$$"}],OrderBy:[]},ServiceVersion:204,Facets:{MaxNumberOfReturnValues:1e3,Attributes:[]}};const o={DataSource:{},Options:["SynchronousRun"],Suggestions2:{Expand:["Grid","Items"],Filter:{},Precalculated:false,AttributeNames:[],Top:10,Skip:0},ServiceVersion:204};const n={SearchConfiguration:{Action:"Get",Data:{PersonalizedSearch:{}}}};const i={SearchConfiguration:{Action:"Update",Data:{PersonalizedSearch:{SessionUserActive:true}}}};const c={SearchConfiguration:{Action:"Update",Data:{PersonalizedSearch:{ResetUserData:true}}}};const s={SearchConfiguration:{Action:"Update",ClientEvent:{NavigationEventList:[{SourceApplication:{SemanticObjectType:"Action",Intent:"search",ParameterList:[{Name:"searchterm",Value:"*"},{Name:"datasource",Value:'{"label":"Purchase Order","labelPlural":"Purchase Orders","SchemaName":{"label":"","value":""},"PackageName":{"label":"ABAP","value":"ABAP"},"ObjectName":{"label":"CES002~EPM_PO_DEMO~","value":"CES002~EPM_PO_DEMO~"},"Type":"BusinessObject"}'},{Name:"top",Value:"10"},{Name:"filter",Value:'{"operator":"And","label":"DefaultRoot","conditions":[]}'}]}},{TargetApplication:{SemanticObjectType:"EPMPurchaseOrder",Intent:"displayFactSheet",ParameterList:[{Name:"PurchaseOrderInternalId",Value:"3440B5B014B21EE798DDB43D63E56068"}]}}]}}};const u={DataSource:{ObjectName:"CER002~EPM_EMPLOYEES_DEMO~",PackageName:"ABAP",SchemaName:""},Options:["SynchronousRun"],Metadata:{Context:"Search",Expand:["Cube"]},ServiceVersion:204};var l={__esModule:true};l.loadDataSourcesRequest=e;l.fallbackLoadDataSourcesRequest=t;l.searchRequest=a;l.chartRequest=r;l.suggestionRequest=o;l.getConfigurationRequest=n;l.saveConfigurationRequest=i;l.resetPersonalizedSearchDataRequest=c;l.incrementClickCounterRequest=s;l.loadDataSourceMetadataRequest=u;return l})})();
},
	"sap/esh/search/ui/sinaNexTS/providers/inav2/conditionSerializer.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){
/*!
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.define(["../../core/errors","../../sina/AttributeType","../../sina/ComparisonOperator","../../sina/ComplexCondition","./typeConverter"],function(e,t,r,n,o){"use strict";const i=e["UnknownComparisonOperatorError"];const a=t["AttributeType"];const s=r["ComparisonOperator"];const c=n["ComplexCondition"];class u{dataSource;constructor(e){this.dataSource=e}convertSinaToInaOperator(e){switch(e){case s.Eq:return"=";case s.Lt:return"<";case s.Gt:return">";case s.Le:return"<=";case s.Ge:return">=";case s.Co:return"=";case s.Bw:return"=";case s.Ew:return"=";default:throw new i(e)}}serializeComplexCondition(e){const t={Selection:{Operator:{Code:e.operator,SubSelections:[]}}};const r=e.conditions;for(let e=0;e<r.length;++e){const n=r[e];t.Selection.Operator.SubSelections.push(this.serialize(n))}return t}serializeSimpleCondition(e){if(!e.value){return undefined}const t=e.attribute;let r;if(t.slice(0,2)==="$$"){r=a.String}else{const e=this.dataSource.getAttributeMetadata(t);r=e.type}let n="MemberOperand";if(t==="$$SuggestionTerms$$"||t==="$$SearchTerms$$"){n="SearchOperand"}const i={};i[n]={AttributeName:t,Comparison:this.convertSinaToInaOperator(e.operator),Value:o.sina2Ina(r,e.value,{operator:e.operator})};return i}serialize(e){if(e instanceof c){return this.serializeComplexCondition(e)}return this.serializeSimpleCondition(e)}}function l(e,t){const r=new u(e);return r.serialize(t)}var p={__esModule:true};p.serialize=l;return p})})();
},
	"sap/esh/search/ui/sinaNexTS/providers/inav2/dataSourceSerializer.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){
/*!
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.define([],function(){"use strict";function e(e){if(e.id==="All"&&e.type===e.sina.DataSourceType.Category){return{ObjectName:"$$ALL$$",PackageName:"ABAP",SchemaName:"",Type:"Category"}}let a;switch(e.type){case e.sina.DataSourceType.Category:a="Category";break;case e.sina.DataSourceType.BusinessObject:a="Connector";break}return{ObjectName:e.id,PackageName:"ABAP",SchemaName:"",Type:a}}var a={__esModule:true};a.serialize=e;return a})})();
},
	"sap/esh/search/ui/sinaNexTS/providers/inav2/labelCalculation.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){
/*!
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.define(["../../core/LabelCalculator"],function(l){"use strict";const e=l["LabelCalculator"];const a=function(l){if(l[6]!=="~"){return{system:"__DUMMY",client:"__DUMMY"}}return{system:l.slice(0,3),client:l.slice(3,6)}};function t(){return new e({key:function(l){const e=a(l.id);return[l.labelPlural,e.system,e.client]},data:function(l){return{label:l.label,labelPlural:l.labelPlural}},setLabel:function(l,e,a){e[0]=a.label;l.label=e.join(" ");e[0]=a.labelPlural;l.labelPlural=e.join(" ")},setFallbackLabel:function(l,e){l.label=e.labelPlural+" duplicate "+l.id;l.labelPlural=l.label}})}var n={__esModule:true};n.createLabelCalculator=t;return n})})();
},
	"sap/esh/search/ui/sinaNexTS/providers/inav2/pivotTableParser.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){
/*!
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.define(["../../core/core"],function(e){"use strict";class t{resultSet;constructor(e){this.resultSet=e.resultSet}parseNamedValue(e){let t;let s;let n;for(const r in e){switch(r){case"Name":s=e[r];break;case"Value":t=e[r];break;default:if(!n){n={}}n[r]=e[r]}}if(n){n.Value=t;return{name:s,value:n}}return{name:s,value:t}}formatItem(e){let t;if(e.NamedValues){t=e.NamedValues}if(!t){return e}const s={};for(let e=0;e<t.length;++e){const n=t[e];const r=this.parseNamedValue(n);s[r.name]=this.formatItem(r.value)}return s}formatItems(t){const s={};for(let n=0;n<t.length;++n){const r=t[n];const l=this.formatItem(r);e.extend(s,l)}return s}parse(){if(!this.resultSet.Grids||!this.resultSet.Grids[0]||!this.resultSet.Grids[0].Axes){return{cells:[],axes:[]}}this.enhance(this.resultSet);const e=this.resultSet.Grids[0];if(e.Cells.length>0){return this.parseWithCells(e)}return this.parseWithoutCells(e)}parseWithCells(t){const s={axes:[],cells:[]};for(let n=0;n<t.Cells.length;n++){const r=t.Cells[n];const l=[];for(let e=0;e<r.Index.length;e++){const s=r.Index[e];const n=t.Axes[e];const o=this.resolve(n,s);l.push(...o)}const o=e.extend({},r);delete o.Index;l.push(o);s.cells.push(this.formatItems(l))}return s}parseWithoutCells(e){const t={axes:[],cells:[]};for(let s=0;s<e.Axes.length;++s){const n=e.Axes[s];const r=[];t.axes.push(r);for(let e=0;e<n.Tuples.length;++e){const t=this.resolve(n,e);r.push(this.formatItems(t))}}return t}resolve(e,t){const s=[];if(e.Tuples.length===0){return s}const n=e.Tuples[t];for(let t=0;t<n.length;++t){const r=n[t];const l=e.Dimensions[t].ItemList.Items[r];s.push(l)}return s}enhance(e){const t={};for(let s=0;s<e.ItemLists.length;++s){const n=e.ItemLists[s];t[n.Name]=n}for(let s=0;s<e.Grids.length;++s){const n=e.Grids[s];for(let e=0;e<n.Axes.length;++e){const s=n.Axes[e];for(let e=0;e<s.Dimensions.length;++e){const n=s.Dimensions[e];n.ItemList=t[n.ItemListName]}}}}}function s(e){const s=new t({resultSet:e});return s.parse()}var n={__esModule:true};n.ResultSetParser=t;n.parse=s;return n})})();
},
	"sap/esh/search/ui/sinaNexTS/providers/inav2/suggestionParser.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){
/*!
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.define(["../../sina/SuggestionCalculationMode","./pivotTableParser"],function(e,a){"use strict";const t=e["SuggestionCalculationMode"];class r{provider;sina;constructor(e){this.provider=e;this.sina=e.sina}parseSuggestions(e,t){t=a.parse(t);const r=[];let s;let o;for(let a=0;a<t.cells.length;a++){s=null;const c=t.cells[a];if(c.$$Attribute$$!=="$$AllAttributes$$"){continue}switch(c.$$Term$$.Scope){case"SearchHistory":if(c.$$DataSource$$==="$$AllDataSources$$"){s=this.parseSearchTermSuggestion(e,c)}break;case"ObjectData":if(c.$$DataSource$$==="$$AllDataSources$$"){s=this.parseSearchTermSuggestion(e,c);o=s}else{s=this.parseSearchTermAndDataSourceSuggestion(e,c);if(s&&s.filter.dataSource!==o.filter.dataSource){o.childSuggestions.push(s)}s=null}break;case"DataSources":if(c.$$DataSource$$==="$$AllDataSources$$"){s=this.parseDataSourceSuggestion(e,c)}break}if(s){r.push(s)}}return r}parseDataSourceSuggestion(e,a){const r=this.sina.getDataSource(a.$$Term$$.Value);if(!r){return null}const s=e.filter.clone();s.setDataSource(r);return this.sina._createDataSourceSuggestion({calculationMode:t.Data,dataSource:r,label:a.$$Term$$.ValueFormatted})}parseSearchTermSuggestion(e,a){const t=this.parseCalculationMode(a.$$Term$$.Scope);const r=e.filter.clone();r.setSearchTerm(a.$$Term$$.Value);return this.sina._createSearchTermSuggestion({searchTerm:a.$$Term$$.Value,calculationMode:t,filter:r,label:a.$$Term$$.ValueFormatted})}parseSearchTermAndDataSourceSuggestion(e,a){const t=this.parseCalculationMode(a.$$Term$$.Scope);const r=e.filter.clone();r.setSearchTerm(a.$$Term$$.Value);const s=this.sina.getDataSource(a.$$DataSource$$);if(!s){return null}r.setDataSource(s);return this.sina._createSearchTermAndDataSourceSuggestion({searchTerm:a.$$Term$$.Value,dataSource:s,calculationMode:t,filter:r,label:a.$$Term$$.ValueFormatted})}parseCalculationMode(e){switch(e){case"SearchHistory":return t.History;case"ObjectData":return t.Data}}}function s(e,a,t){const s=new r(e);return s.parseSuggestions(a,t)}var o={__esModule:true};o.parse=s;return o})})();
},
	"sap/esh/search/ui/sinaNexTS/providers/inav2/suggestionTermSplitter.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){
/*!
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.define(["../../sina/SuggestionType"],function(e){"use strict";const t=e["SuggestionType"];class r{provider;sina;constructor(e){this.provider=e;this.sina=e.sina}split(e){const t=e.lastIndexOf(" ");if(t<0){return{searchTerm:null,suggestionTerm:e}}let r=e.slice(0,t);r=r.replace(/\s+$/,"");if(r.length===0){return{searchTerm:null,suggestionTerm:e}}let n=e.slice(t);n=n.replace(/^\s+/,"");if(n.length===0){return{searchTerm:null,suggestionTerm:e}}return{searchTerm:r,suggestionTerm:n}}concatenate(e,r){if(!e.searchTerm){return}let n;const s=[];const c=e.searchTerm.split(" ");for(let e=0;e<c.length;e++){n=c[e];n=n.trim();s.push({term:n,regExp:new RegExp(this.escapeRegExp(n),"i")})}for(let c=0;c<r.length;++c){const i=r[c];if(i.suggestionType!==t.SearchTerm&&i.suggestionType!==t.SearchTermAndDataSource){continue}const o=[];for(let e=0;e<s.length;++e){const t=s[e];if(!t.regExp.test(i.filter.searchTerm)){o.push(t.term)}}const l=[];const a=o.join(" ");for(let e=0;e<o.length;e++){n=o[e];l.push("<b>"+n+"</b>")}const u=l.join(" ");i.label=u+" "+i.label;i.filter.searchTerm=i.searchTerm=a+" "+i.filter.searchTerm;this.concatenate(e,i.childSuggestions)}}escapeRegExp(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}}function n(e,t){const n=new r(e);return n.split(t)}function s(e,t,n){const s=new r(e);return s.concatenate(t,n)}var c={__esModule:true};c.split=n;c.concatenate=s;return c})})();
},
	"sap/esh/search/ui/sinaNexTS/providers/inav2/typeConverter.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){
/*!
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.define(["../../sina/util","../../sina/AttributeType","../../sina/ComparisonOperator","../../core/errors"],function(e,t,n,i){"use strict";const r=t["AttributeType"];const s=n["ComparisonOperator"];const a=i["DateConversionError"];const o=i["NotImplementedError"];const c=i["TimeConversionError"];const l=i["UnknownAttributeTypeError"];function u(e,t,n){n=n||{};switch(e){case r.Double:return t.toString();case r.Integer:return t.toString();case r.String:return this.sina2InaString(t,n);case r.ImageUrl:return t;case r.ImageBlob:throw new o;case r.GeoJson:return t;case r.Date:return this.sina2InaDate(t,n);case r.Time:return this.sina2InaTime(t);case r.Timestamp:return this.sina2InaTimestamp(t);default:throw new l(e)}}function g(e,t){switch(e){case r.Double:return parseFloat(t);case r.Integer:return parseInt(t,10);case r.String:return t;case r.ImageUrl:return t;case r.ImageBlob:throw new o;case r.GeoJson:return t;case r.Date:return this.ina2SinaDate(t);case r.Time:return this.ina2SinaTime(t);case r.Timestamp:return this.ina2SinaTimestamp(t);default:throw new l(e)}}function p(e){e=e.trim();let t,n,i,r,s,a,o;if(e.indexOf("-")>=0){t=parseInt(e.slice(0,4),10);n=parseInt(e.slice(5,7),10);i=parseInt(e.slice(8,10),10);r=parseInt(e.slice(11,13),10);s=parseInt(e.slice(14,16),10);a=parseInt(e.slice(17,19),10);o=parseInt(e.slice(20,20+6),10)}else{t=parseInt(e.slice(0,4),10);n=parseInt(e.slice(4,6),10);i=parseInt(e.slice(6,8),10);r=parseInt(e.slice(8,10),10);s=parseInt(e.slice(10,12),10);a=parseInt(e.slice(12,14),10);o=parseInt(e.slice(15,15+6),10)}const c=new Date(Date.UTC(t,n-1,i,r,s,a,o/1e3));return c}function d(e){const t=e.getUTCFullYear();const n=e.getUTCMonth()+1;const i=e.getUTCDate();const r=e.getUTCHours();const s=e.getUTCMinutes();const a=e.getUTCSeconds();const o=e.getUTCMilliseconds()*1e3;const c=this.addLeadingZeros(t.toString(),4)+"-"+this.addLeadingZeros(n.toString(),2)+"-"+this.addLeadingZeros(i.toString(),2)+" "+this.addLeadingZeros(r.toString(),2)+":"+this.addLeadingZeros(s.toString(),2)+":"+this.addLeadingZeros(a.toString(),2)+"."+this.addLeadingZeros(o.toString(),6);return c}function I(e){e=e.trim();if(e.length===6){return e.slice(0,2)+":"+e.slice(2,4)+":"+e.slice(4,6)}if(e.length===8){return e.slice(0,2)+":"+e.slice(3,5)+":"+e.slice(6,8)}throw new c(e)}function m(e){return e.slice(0,2)+":"+e.slice(3,5)+":"+e.slice(6,8)}function h(e){e=e.trim();if(e.length===8){return e.slice(0,4)+"/"+e.slice(4,6)+"/"+e.slice(6,8)}if(e.length===27){return e.slice(0,4)+"/"+e.slice(5,7)+"/"+e.slice(8,10)}throw new a(e)}function T(e,t){let n=e.slice(0,4)+"-"+e.slice(5,7)+"-"+e.slice(8,10);if(t.operator===s.Lt||t.operator===s.Le){n+=" 23:59:59.0000000"}else{n+=" 00:00:00.0000000"}return n}function f(t,n){return e.convertOperator2Wildcards(t,n.operator)}function S(e,t){return"00000000000000".slice(0,t-e.length)+e}var w={__esModule:true};w.sina2Ina=u;w.ina2Sina=g;w.ina2SinaTimestamp=p;w.sina2InaTimestamp=d;w.ina2SinaTime=I;w.sina2InaTime=m;w.ina2SinaDate=h;w.sina2InaDate=T;w.sina2InaString=f;w.addLeadingZeros=S;return w})})();
},
	"sap/esh/search/ui/sinaNexTS/providers/multi/FacetMode.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){
/*!
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.define([],function(){"use strict";var e=function(e){e["tree"]="tree";e["flat"]="flat";return e}(e||{});var t={__esModule:true};t.FacetMode=e;return t})})();
},
	"sap/esh/search/ui/sinaNexTS/providers/multi/FederationMethod.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){
/*!
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.define([],function(){"use strict";class t{sort(t){let e=[];for(let n=0;n<t.length;n++){e=e.concat(t[n])}e.sort(function(t,e){const n=e.score-t.score;return n});return e}}class e{sort(t){let e=[];for(let n=0;n<t.length;n++){e=this.mergeMultiResults(e,t[n],n+1)}return e}mergeMultiResults(t,e,n){if(n<1){return[]}if(n===1){return e}const r=t.length;const o=e.length;let s=[];for(let e=0;e<r;e++){s.push(t[e])}for(let t=0;t<r;t++){if(t>=o){break}s.splice(n*(t+1)-1,0,e[t])}if(o>r){s=s.concat(e.slice(r-o))}return s}}class n{sort(t){let e=[];for(let n=0;n<t.length;n++){e=e.concat(t[n])}let n;const r={};for(let t=0;t<e.length;t++){n=e[t].dataSource.id;if(!r[n]){r[n]=[]}r[n].push(e[t])}const o=[];let s=0;for(const t in r){const e=r[t][0];n=e.dataSource.id;const c=e.score;o.push({dataSourceId:n,score:c,index:s});s++}o.sort(function(t,e){let n=e.score-t.score;if(n===0){n=t.index-e.index}return n});const c=[];let l=0;for(let t=0;t<e.length;){const e=o[l];const n=r[e.dataSourceId];if(n.length>0){c.push(n.shift());t++}l=(l+1)%o.length}return c}}var r={__esModule:true};r.Ranking=t;r.RoundRobin=e;r.AdvancedRoundRobin=n;return r})})();
},
	"sap/esh/search/ui/sinaNexTS/providers/multi/FederationType.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){
/*!
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.define([],function(){"use strict";var n=function(n){n["ranking"]="ranking";n["round_robin"]="roundRobin";n["advanced_round_robin"]="advancedRoundRobin";return n}(n||{});var r={__esModule:true};r.FederationType=n;return r})})();
},
	"sap/esh/search/ui/sinaNexTS/providers/multi/Provider.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){
/*!
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.define(["../AbstractProvider","./FacetMode","./FederationType","./ProviderHelper","../../sina/Sina","./FederationMethod","../../core/Log","../../sina/SinaConfiguration","../abap_odata/Provider","../hana_odata/Provider","../sample/Provider","../inav2/Provider","../dummy/Provider","../../core/errors","../../sina/FacetType"],function(e,t,a,r,s,i,o,n,c,u,l,d,h,S,p){"use strict";const f=e["AbstractProvider"];const m=t["FacetMode"];const g=a["FederationType"];const y=r["ProviderHelper"];const v=s["Sina"];const b=o["Log"];const D=n["AvailableProviders"];const M=n["_normalizeConfiguration"];const C=c["Provider"];const A=u["Provider"];const P=l["Provider"];const R=d["Provider"];const F=h["Provider"];const T=S["NotImplementedError"];const w=p["FacetType"];var H=function(e){e["All"]="All";e["UserCategory"]="UserCategory";e["BusinessObject"]="BusinessObject";e["Category"]="Category";return e}(H||{});class k extends f{log;id="multi";facetMode;federationType;multiSina;multiDataSourceMap;providerHelper;federationMethod;async initAsync(e){this.log=new b("MultiProvider");this.sina=e.sina;this.facetMode=m[e.facetMode]||m.flat;this.federationType=g[e.federationType]||g.advanced_round_robin;this.multiSina=[];this.multiDataSourceMap={};this.sina.dataSourceMap[this.sina.allDataSource.id]=this.sina.allDataSource;this.providerHelper=new y(this);switch(this.federationType){case g.advanced_round_robin:{this.federationMethod=new i.AdvancedRoundRobin;break}case g.ranking:{this.federationMethod=new i.Ranking;break}case g.round_robin:{this.federationMethod=new i.RoundRobin;break}}this.sina.capabilities=this.sina._createCapabilities({fuzzy:false});const t=[];e.subProviders.forEach(e=>{const a=this.createAsync(e).then(e=>{this.providerHelper.updateProviderId(e);for(let t=0;t<e.dataSources.length;t++){const a=e.dataSources[t];const r=this.providerHelper.calculateMultiDataSourceId(a.id,e.provider.id);this.providerHelper.createMultiDataSource(r,a);this.multiDataSourceMap[r]=a}this.multiSina.push(e);return e});t.push(a)});let a=false;const r=await Promise.allSettled(t);r.forEach(e=>{if(e.status==="rejected"){this.log.warn(`Error during creation of subprovider: ${e.reason.stack}`)}else if(e.status==="fulfilled"){a=true;if(e.value.capabilities.fuzzy){this.sina.capabilities.fuzzy=true}}});if(!a){const t=e.subProviders.map(e=>e.label||e.contentProviderId).join(", ");this.log.error(`Error during creation of multi provider: No valid subproviders: ${t}`);return Promise.reject()}this.sina.dataSources.sort(function(e,t){return e.labelPlural.localeCompare(t.labelPlural)});return this.sina}async createAsync(e){this.log.debug(`Creating new sina (esh client) instance using provider ${e.provider}`);const t=await M(e);let a;switch(t.provider){case D.HANA_ODATA:{a=new A;break}case D.ABAP_ODATA:{a=new C;break}case D.INAV2:{a=new R;break}case D.MULTI:{a=new k;break}case D.SAMPLE:{a=new P;break}case D.DUMMY:{a=new F;break}default:{throw new Error(`Unknown Provider: '${e.provider}' - Available Providers: ${D.HANA_ODATA}, ${D.ABAP_ODATA}, ${D.INAV2}, ${D.MULTI}, ${D.SAMPLE}, ${D.DUMMY}.`)}}const r=new v(a);await r.initAsync(t);return r}getFilterDataSourceType(e){if(e===this.sina.allDataSource){return H.All}if(e.type===this.sina.DataSourceType.UserCategory){return H.UserCategory}if(e.type===this.sina.DataSourceType.BusinessObject){return H.BusinessObject}if(e.type===this.sina.DataSourceType.Category){return H.Category}}async handleAllSearch(e){let t;const a=[];const r=this.initializeSearchResultSet(e);const s=[];r.facets.push(this.sina._createDataSourceResultSet({title:e.filter.dataSource.label,items:[],query:e}));for(let r=0;r<this.multiSina.length;r++){t=this.multiSina[r].createSearchQuery({calculateFacets:e.calculateFacets,multiSelectFacets:e.multiSelectFacets,dataSource:this.multiSina[r].allDataSource,searchTerm:e.getSearchTerm(),top:e.top,skip:e.skip,nlq:e.nlq,sortOrder:e.sortOrder,sina:this.multiSina[r]});a.push(t.getResultSetAsync())}return Promise.all(a).then(t=>{for(let e=0;e<t.length;e++){const a=t[e];for(let e=0;e<a.items.length;e++){const t=a.items[e];const r=this.providerHelper.calculateMultiDataSourceId(t.dataSource.id,t.sina.provider.id);const s=this.sina.dataSourceMap[r];t.dataSource=s;t.sina=this.sina}r.totalCount+=a.totalCount;s.push(...a.items);if(a.facets[0]){if(this.facetMode===m.tree){const e=this.sina.getDataSource(this.providerHelper.calculateMultiDataSourceId(a.query.filter.dataSource.id,a.sina.provider.id));r.facets[0].items.push(this.sina._createDataSourceResultSetItem({dataSource:e,dimensionValueFormatted:this.providerHelper.calculateMultiDataSourceLabel(a.query.filter.dataSource.label,a.sina.provider),measureValue:a.totalCount,measureValueFormatted:a.totalCount.toString()}))}else{const e=this.providerHelper.updateDataSourceFacets(a.facets);e[0].items.forEach(e=>{r.facets[0].items.push(e)})}}}r.items=this.federationMethod.sort(s);r.items=r.items.slice(e.skip,e.top);return r})}async handleUserCategorySearch(e){let t;const a=[];const r=this.initializeSearchResultSet(e);const s=[];const i=e.filter.dataSource;const o=[];this.multiSina.forEach(e=>{if(e.provider.id.startsWith("abap_odata")||e.provider.id.startsWith("sample")){const t=this.providerHelper.calculateMultiDataSourceId(i.id,e.provider.id);let a=this.multiDataSourceMap[t];if(!a){a=e.createDataSource({id:t,label:i.label,labelPlural:i.labelPlural,type:i.type,subDataSources:[],undefinedSubDataSourceIds:[]});this.multiDataSourceMap[t]=a}else{a.subDataSources=[]}}});i.subDataSources.forEach(e=>{const t=this.multiDataSourceMap[e.id];const a=t.sina;if(a.provider.id.startsWith("abap_odata")||a.provider.id.startsWith("sample")){const e=this.providerHelper.calculateMultiDataSourceId(i.id,a.provider.id);const r=this.multiDataSourceMap[e];if(r.subDataSources.length===0){o.push(r)}r.subDataSources.push(t)}else{o.push(t)}});o.forEach(r=>{t=r.sina.createSearchQuery({calculateFacets:e.calculateFacets,multiSelectFacets:e.multiSelectFacets,dataSource:r,searchTerm:e.getSearchTerm(),top:e.top,skip:e.skip,nlq:e.nlq,sortOrder:e.sortOrder,sina:r.sina});a.push(t.getResultSetAsync())});return Promise.all(a).then(t=>{r.facets.push(this.sina._createDataSourceResultSet({title:e.filter.dataSource.label,items:[],query:e}));for(let a=0;a<t.length;a++){const i=t[a];for(let e=0;e<i.items.length;e++){const t=i.items[e];const a=this.providerHelper.calculateMultiDataSourceId(t.dataSource.id,t.sina.provider.id);const r=this.sina.dataSourceMap[a];t.dataSource=r;t.sina=this.sina}r.totalCount+=i.totalCount;s.push(...i.items);if(e.calculateFacets){const e=i.query.filter.dataSource;const t=i.sina._createDataSourceResultSet({title:e.label,items:[],query:i.query});if(i.facets.length===0&&i.items.length>0){t.items.push(i.sina._createDataSourceResultSetItem({dataSource:e.subDataSources[0],dimensionValueFormatted:e.subDataSources[0].label,measureValue:i.totalCount,measureValueFormatted:i.totalCount.toString()}));i.facets.push(t)}if(i.facets.length>0&&i.facets[0].type===w.Chart&&i.items.length>0){t.items.push(i.sina._createDataSourceResultSetItem({dataSource:e,dimensionValueFormatted:e.label,measureValue:i.totalCount,measureValueFormatted:i.totalCount.toString()}));i.facets=[t]}if(i.facets.length===1&&i.facets[0].type===w.DataSource){this.providerHelper.updateDataSourceFacets(i.facets);r.facets[0].items=r.facets[0].items.concat(i.facets[0].items)}}}r.items=this.federationMethod.sort(s);r.items=r.items.slice(e.skip,e.top);return r})}async handleBusinessObjectSearch(e){const t=this.multiDataSourceMap[e.filter.dataSource.id];if(t===undefined){throw new Error(`Data source with id '${e.filter.dataSource.id}' does not exist.`)}const a=e.getRootCondition().clone();const r=this.initializeSearchResultSet(e);this.providerHelper.updateRootCondition(a,t.sina);const s=t.sina.createSearchQuery({calculateFacets:e.calculateFacets,multiSelectFacets:e.multiSelectFacets,dataSource:t,searchTerm:e.getSearchTerm(),rootCondition:e.getRootCondition(),top:e.top,skip:e.skip,nlq:e.nlq,sortOrder:e.sortOrder,sina:t.sina});return s.getResultSetAsync().then(e=>{r.items=e.items;r.totalCount=e.totalCount;for(let e=0;e<r.items.length;e++){const t=r.items[e];const a=this.providerHelper.calculateMultiDataSourceId(t.dataSource.id,t.sina.provider.id);this.providerHelper.updateAttributesMetadata(t.dataSource,this.sina.dataSourceMap[a]);t.dataSource=this.sina.dataSourceMap[a];t.sina=this.sina}let t;if(e.facets.length===1&&e.facets[0].items[0].dataSource){t=e.facets;t[0].title=this.providerHelper.calculateMultiDataSourceLabel(e.facets[0].title,e.facets[0].sina.provider);this.providerHelper.updateDataSourceFacets(t)}else{t=[];for(let a=0;a<e.facets.length;a++){const r=e.facets[a];t.push(this.providerHelper.createMultiChartResultSet(r))}}r.facets=t;return r})}initializeSearchResultSet(e){return this.sina._createSearchResultSet({title:"Search Multi Result List",query:e,items:[],totalCount:0,facets:[]})}executeSearchQuery(e){switch(this.getFilterDataSourceType(e.filter.dataSource)){case H.All:return this.handleAllSearch(e);case H.UserCategory:return this.handleUserCategorySearch(e);case H.BusinessObject:case H.Category:return this.handleBusinessObjectSearch(e)}}executeChartQuery(e){const t=this;const a=t.multiDataSourceMap[e.filter.dataSource.id];const r=e.getRootCondition().clone();t.providerHelper.updateRootCondition(r,a.sina);const s=a.sina.createChartQuery({dimension:e.dimension,dataSource:a,searchTerm:e.getSearchTerm(),rootCondition:r,top:e.top,skip:e.skip,nlq:e.nlq,sortOrder:e.sortOrder});return s.getResultSetAsync().then(function(e){return t.providerHelper.createMultiChartResultSet(e)})}executeHierarchyQuery(e){throw new T}async handleAllSuggestionSearch(e){let t;const a=[];for(let r=0;r<this.multiSina.length;r++){t=this.multiSina[r].createSuggestionQuery({types:e.types,calculationModes:e.calculationModes,dataSource:this.multiSina[r].allDataSource,searchTerm:e.getSearchTerm(),top:e.top,skip:e.skip,sortOrder:e.sortOrder});a.push(t.getResultSetAsync())}return Promise.allSettled(a).then(t=>{const a=this.sina._createSuggestionResultSet({title:"Multi Suggestions",query:e,items:[]});for(let e=0;e<t.length;e++){const r=t[e];if(r.status==="fulfilled"){const t=this.providerHelper.updateSuggestionDataSource(r.value);a.items=(new i.RoundRobin).mergeMultiResults(a.items,t.items,e+1)}}return a})}async handleUserCategorySuggestionSearch(e){if(e.types.indexOf(this.sina.SuggestionType.DataSource)>=0){return this.handleAllSuggestionSearch(e)}else{const t=this.sina._createSuggestionResultSet({title:"Multi Suggestions - My Favorites",query:e,items:[]});return Promise.resolve(t)}}async handleBusinessObjectSuggestionSearch(e){const t=this.multiDataSourceMap[e.filter.dataSource.id];const a=t.sina.createFilter({searchTerm:e.getSearchTerm(),dataSource:t,rootCondition:e.filter.rootCondition.clone()});const r=t.sina.createSuggestionQuery({types:e.types,calculationModes:e.calculationModes,top:e.top,skip:e.skip,sortOrder:e.sortOrder,filter:a});return r.getResultSetAsync().then(e=>this.providerHelper.updateSuggestionDataSource(e))}executeSuggestionQuery(e){switch(this.getFilterDataSourceType(e.filter.dataSource)){case H.All:return this.handleAllSuggestionSearch(e);case H.UserCategory:return this.handleUserCategorySuggestionSearch(e);case H.BusinessObject:case H.Category:return this.handleBusinessObjectSuggestionSearch(e)}}}var O={__esModule:true};O.MultiProvider=k;return O})})();
},
	"sap/esh/search/ui/sinaNexTS/providers/multi/ProviderHelper.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){
/*!
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.define([],function(){"use strict";class t{provider;sina;constructor(t){this.provider=t;this.sina=t.sina}calculateMultiDataSourceLabel(t,e){if(e.label){const a=e.label||e.id;return t+" - "+a}return t}calculateMultiDataSourceId(t,e){return e+"_"+t}updateProviderId(t){let e=0;for(;;){if(e!==0){t.provider.id=t.provider.id+"_"+e}const a=this.findSinaById(t.provider.id);if(a){e++;continue}else{break}}}createMultiDataSource(t,e){return this.sina._createDataSource({id:t,label:this.calculateMultiDataSourceLabel(e.label,e.sina.provider),labelPlural:this.calculateMultiDataSourceLabel(e.labelPlural,e.sina.provider),type:e.type,hidden:e.hidden,attributesMetadata:e.attributesMetadata})}findSinaById(t){for(let e=0;e<this.provider.multiSina.length;e++){const a=this.provider.multiSina[e];if(t===a.provider.id){return a}}return undefined}updateAttributesMetadata(t,e){e.attributesMetadata=t.attributesMetadata;e.attributeMetadataMap=t.attributeMetadataMap}updateSuggestionDataSource(t){for(let e=0;e<t.items.length;e++){const a=t.items[e];if(a.childSuggestions){for(let t=0;t<a.childSuggestions.length;t++){const e=a.childSuggestions[t];const i=this.calculateMultiDataSourceId(e.dataSource.id,e.sina.provider.id);e.dataSource=this.sina.dataSourceMap[i];e.filter.dataSource=this.sina.dataSourceMap[i]}}if(a.dataSource){a.label=this.calculateMultiDataSourceLabel(a.label,a.sina.provider);const t=this.calculateMultiDataSourceId(a.dataSource.id,a.sina.provider.id);const e=this.sina.dataSourceMap[t];a.dataSource=e;a.sina=this.sina}}return t}createMultiChartResultSet(t){const e=this;const a=e.sina._createChartResultSet({id:t.id,items:[],query:t.query,title:t.title});for(let i=0;i<t.items.length;i++){const r=t.items[i];const o=e.sina.parseConditionFromJson(r.filterCondition.toJson());a.items.push(e.sina._createChartResultSetItem({filterCondition:o,dimensionValueFormatted:r.dimensionValueFormatted,measureValue:r.measureValue,measureValueFormatted:r.measureValueFormatted}))}return a}updateDataSourceFacets(t){for(let e=0;e<t[0].items.length;e++){const a=t[0].items[e];if(a.dataSource){const t=this.calculateMultiDataSourceId(a.dataSource.id,a.sina.provider.id);if(!this.provider.multiDataSourceMap[t]){this.createMultiDataSource(t,a.dataSource);this.provider.multiDataSourceMap[t]=a.dataSource}a.dataSource=this.sina.dataSourceMap[t]}}return t}updateRootCondition(t,e){t.sina=e;if(t.conditions&&t.conditions.length>0){for(let a=0;a<t.conditions.length;a++){this.updateRootCondition(t.conditions[a],e)}}}}var e={__esModule:true};e.ProviderHelper=t;return e})})();
},
	"sap/esh/search/ui/sinaNexTS/providers/sample/ITemplate.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){})();
},
	"sap/esh/search/ui/sinaNexTS/providers/sample/ITemplateMetadata.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){})();
},
	"sap/esh/search/ui/sinaNexTS/providers/sample/Provider.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){sap.ui.define(["../../core/errors","../../core/util","../../sina/ComparisonOperator","../../sina/ComplexCondition","../../sina/SearchQuery","../../sina/SearchResultSetItemAttribute","../../sina/SimpleCondition","../../sina/UserCategoryDataSource","../AbstractProvider","./template","./template2"],function(t,e,i,r,s,a,o,l,n,u,c){"use strict";const h=t["ForcedBySearchTermTestError"];const d=t["NotImplementedError"];const f=e["escapeRegExp"];const m=i["ComparisonOperator"];const g=r["ComplexCondition"];const S=s["SearchQuery"];const p=a["SearchResultSetItemAttribute"];const y=o["SimpleCondition"];const b=l["UserCategoryDataSource"];const C=n["AbstractProvider"];const v=u["createTemplate"];const F=c["createTemplate"];class I extends C{static dataSourceIds={All:"All",Urban_Legends:"Urban_Legends",Folklorists:"Folklorists",Publications:"Publications",Scientists:"Scientists",Mysterious_Sightings:"Mysterious_Sightings"};id;searchQuery;templateProvider;constructor(){super();this.id="sample"}async initAsync(t){this.sina=t.sina;this.templateProvider=v;if(document.location.href.indexOf("use=sample1")>0){this.templateProvider=F}const e=this.templateProvider(this);e._init(e);const i=Promise.resolve({capabilities:this.sina._createCapabilities({fuzzy:false})});return i}getSuggestionList(t){const e=this._stringify(t);const i=new RegExp('"valueFormatted":"([^{/]+?)","valueHighlighted',"g");let r=e.match(i).map(t=>t.replace(i,"$1"));const s=r.toString().split(/\W/);r=r.concat(s);r=r.filter(function(t,e){if(t!==""){return r.indexOf(t)==e}});return r}_stringify(t){let e=[];const i=JSON.stringify(t,function(t,i){if(typeof i==="object"&&i!==null){if(e.indexOf(i)!==-1){return undefined}e.push(i)}return i});e=null;return i}applyFilters(t,e){const i=[];if(e.filter.rootCondition instanceof y){}else{if(e.filter.rootCondition.conditions.length===0||e.filter.rootCondition.conditions[0]instanceof y||e.filter.rootCondition.conditions[0]instanceof g&&e.filter.rootCondition.conditions[0].conditions.length===0){if(e.filter.dataSource instanceof b){const i=e.filter.dataSource.subDataSources;if(i){return t.filter(t=>i.find(e=>e.id===t.dataSource.id))}}return t}}const r=[];const s=[];if(e.filter.rootCondition instanceof y){const t=e.filter.rootCondition;r.push({attribute:t.attribute,operator:t.operator,value:t.value,fits:false});s.push(t.attribute)}else{for(let t=0;t<e.filter.rootCondition.conditions.length;t++){const i=e.filter.rootCondition.conditions[t].conditions;if(i){for(let t=0;t<i.length;t++){r.push({attribute:i[t].attribute,value:i[t].value,operator:i[t].operator,fits:false});s.push(i[t].attribute)}}}}let a=false;for(let e=0;e<t.length;e++){const o=t[e];const l=[];for(let t=0;t<r.length;t++){a=false;for(let e=0;e<o.detailAttributes.length;e++){const i=o.detailAttributes[e];if(i instanceof p){if(i.id===r[t].attribute&&this.checkFilterValueMatch(i.value,r[t].value,r[t].operator)){a=true}}}for(let e=0;e<o.titleAttributes.length;e++){const i=o.titleAttributes[e];if(i instanceof p){if(i.id===r[t].attribute&&this.checkFilterValueMatch(i.value,r[t].value,r[t].operator)){a=true}}}r[t].fits=a;l.push(a)}if(l.toString().match(/false/)===null){i.push(o)}else{const t=[];const e=s.filter(function(t,e){return s.indexOf(t)==e});for(let i=0;i<e.length;i++){a=false;const s=e[i];for(let t=0;t<r.length;t++){if(r[t].attribute===s&&r[t].fits===true){a=true;break}}t.push(a)}if(t.toString().match(/false/)===null){i.push(o)}}}return i}checkFilterValueMatch(t,e,i){switch(i){case m.Co:{return t.toLowerCase().includes(e.toLowerCase())}case m.Eq:{return e===t}case m.Ne:{return e!==t}case m.Gt:{return e>t}case m.Ge:{return e>=t}case m.Lt:{return e<t}case m.Le:{return e<=t}default:{return t===e}}return false}adjustHighlights(t,e){const i=[];let r="";for(let s=0;s<t.length;s++){const a=t[s];let o=true;r="";a.titleHighlighted=this.addHighlight(a.title,e);if(a.titleHighlighted!==a.title){o=false}for(let i=0;i<t[s].detailAttributes.length;i++){const a=t[s].detailAttributes[i];r=a.metadata.type;if(r==="String"||r==="Integer"){a.valueHighlighted=this.addHighlight(a.valueFormatted,e);if(a.valueHighlighted!==a.valueFormatted){o=false}}}for(let i=0;i<t[s].titleAttributes.length;i++){const a=t[s].titleAttributes[i];r=a.metadata.type;if(r==="String"||r==="Integer"||r==="ImageUrl"){a.valueHighlighted=this.addHighlight(a.valueFormatted,e);if(a.valueHighlighted!==a.valueFormatted){o=false}}}if(o===false||e==="*"||e===""){i.push(a)}}return i}addHighlight(t,e){if(typeof t!=="string"||typeof e!=="string"){return t}const i=t.toLowerCase().indexOf(e.toLowerCase());if(i>-1){const r=i+e.length;const s=t.substring(0,i)+"<b>"+t.substring(i,r)+"</b>"+t.substring(r);return s}return t}addSuvLinkToSearchResultItem(t,e,i){const r=this.sina._createSuvNavTargetResolver();if(!e){e="/resources/sap/esh/search/ui/sinaNexTS/providers/sample/docs/folklorist_authors_and_publications.suv"}if(!i){i=[]}const s={};s.obj={suvThumbnailAttribute:t,suvTargetMimeTypeAttribute:{value:"application/vnd.sap.universal-viewer+suv"},suvTargetUrlAttribute:{value:e}};r.resolveSuvNavTargets(null,s,i)}async executeSearchQuery(t){this.searchQuery=t;return new Promise(e=>{let i;const r=this.templateProvider(this);const s=r.searchResultSetItemArray;const a=r.searchResultSetItemArray2;let o=s.concat(a);let l;if(r.searchResultSetItemArray3){l=r.searchResultSetItemArray3;o=o.concat(l)}const n=t.filter.searchTerm;const u=t.filter.dataSource.id;const c=t.filter.dataSource.type;const d=this.generateFacets(t);if(n===h.forcedBySearchTerm){throw new h}let f;if(u===I.dataSourceIds.Scientists||u===I.dataSourceIds.Folklorists){f=this.adjustHighlights(s,n);f=this.applyFilters(f,t);i=this.sina._createSearchResultSet({items:f,facets:d,query:t,title:"",totalCount:f.length})}else if(u===I.dataSourceIds.Mysterious_Sightings||u===I.dataSourceIds.Urban_Legends){f=this.adjustHighlights(a,n);f=this.applyFilters(f,t);i=this.sina._createSearchResultSet({items:f,facets:d,query:t,title:"",totalCount:f.length})}else if(u==="Publications"){f=this.adjustHighlights(l,n);f=this.applyFilters(f,t);i=this.sina._createSearchResultSet({items:f,facets:d,query:t,title:"",totalCount:f.length})}else if(u===I.dataSourceIds.All||c===this.sina.DataSourceType.UserCategory){d[0].items.forEach(t=>{t.measureValue=0;t.measureValueFormatted=""});f=this.adjustHighlights(s,n);f=this.applyFilters(f,t);const e=f.length;f=this.adjustHighlights(a,n);f=this.applyFilters(f,t);const r=f.length;let u=0;if(l){f=this.adjustHighlights(l,n);f=this.applyFilters(f,t);u=f.length}d[0].items[0].measureValue=e;d[0].items[0].measureValueFormatted=""+e;d[0].items[1].measureValue=r;d[0].items[1].measureValueFormatted=""+r;if(l&&d[0].items.length>2){d[0].items[2].measureValue=u;d[0].items[2].measureValueFormatted=""+u}d[0].items=d[0].items.filter(t=>t.measureValue>0);f=this.adjustHighlights(o,n);f=this.applyFilters(f,t);const c=[];for(let e=t.skip;e<t.skip+t.top&&e<f.length;e++){c.push(f[e])}i=this.sina._createSearchResultSet({items:c,facets:d,query:t,title:"",totalCount:f.length})}e(i)})}executeHierarchyQuery(t){throw new d}async executeSuggestionQuery(t){const e=t.filter.searchTerm;const i=this.templateProvider(this);const r=i.searchResultSetItemArray.concat(i.searchResultSetItemArray2).concat(i.searchResultSetItemArray3);const s=this.getSuggestionList(r);const a=new RegExp(`^${f(e)}`,"gi");const o=s.filter(t=>t.match(a));const l=[];const n=e=>{const i=this.sina.SuggestionCalculationMode.Data;const r=t.filter.clone();r.setSearchTerm(e);return this.sina._createSearchTermSuggestion({searchTerm:e,calculationMode:i,filter:r,label:e})};for(let t=0;t<o.length;t++){l.push(n(o[t]))}const u=this.sina._createSuggestionResultSet({title:"Suggestions",query:t,items:l});return new Promise(function(t){t(u)})}async executeChartQuery(t){const e=this.generateFacets(t);let i=1;if(t.dimension==="LOCATION"||e.length===1){i=0}return new Promise(function(t){t(e[i])})}getChartResultSetItemsForLocations(t){const e=[];let i;const r=[];let s,a,o,l,n;for(a=0;a<t.length;a++){n=t[a].detailAttributes;for(o=0;o<n.length;o++){if(n[o].id==="LOCATION"){i=n[o].value;if(r.indexOf(i)===-1){r.push(i);s=this.sina._createChartResultSetItem({filterCondition:this.sina.createSimpleCondition({attribute:"LOCATION",attributeLabel:"Location",operator:this.sina.ComparisonOperator.Eq,value:i}),dimensionValueFormatted:i,measureValue:1,measureValueFormatted:"1"});e.push(s)}else{for(l=0;l<e.length;l++){if(e[l].filterCondition.value===i){e[l].measureValue=e[l].measureValue+1;e[l].measureValueFormatted=""+e[l].measureValue}}}}}}return e}getChartResultSetItemsForPublications(t){const e=[];let i;const r=[];let s,a,o,l,n;for(a=0;a<t.length;a++){n=t[a].detailAttributes;for(o=0;o<n.length;o++){if(n[o].id==="PUBLICATION"){i=n[o].value;if(r.indexOf(i)===-1){r.push(i);s=this.sina._createChartResultSetItem({filterCondition:this.sina.createSimpleCondition({attribute:"PUBLICATION",attributeLabel:"Publication",operator:this.sina.ComparisonOperator.Eq,value:i}),dimensionValueFormatted:i,measureValue:1,measureValueFormatted:"1"});e.push(s)}else{for(l=0;l<e.length;l++){if(e[l].filterCondition.value===i){e[l].measureValue=e[l].measureValue+1;e[l].measureValueFormatted=""+e[l].measureValue}}}}}}return e}getSientistOrFolkloristFacet(t,e){let i;const r=[];let s,a,o,l,n,u;const c=[];for(a=0;a<e.length;a++){n=e[a].titleAttributes;if(t.filter.dataSource.id===I.dataSourceIds.Mysterious_Sightings||t.filter.dataSource.id===I.dataSourceIds.Urban_Legends||t.filter.dataSource.id===I.dataSourceIds.Publications){n=e[a].detailAttributes}for(o=0;o<n.length;o++){if(n[o].id==="SCIENTIST"||n[o].id==="FOLKLORIST"){i=n[o].value;u=n[o].id;if(r.indexOf(i)===-1){r.push(i);s=this.sina._createChartResultSetItem({filterCondition:this.sina.createSimpleCondition({attribute:n[o].id,attributeLabel:n[o].label,operator:this.sina.ComparisonOperator.Eq,value:i}),dimensionValueFormatted:i,measureValue:1,measureValueFormatted:"1"});c.push(s)}else{for(l=0;l<c.length;l++){if(c[l].filterCondition.value===i){c[l].measureValue=c[l].measureValue+1;c[l].measureValueFormatted=""+c[l].measureValue}}}}}}return[c,u]}getTopFacetOnly(t){const e=t.filter.sina.allDataSource;const i=[this.sina._createDataSourceResultSetItem({dataSource:t.filter.sina.dataSources[1],dimensionValueFormatted:e.labelPlural,measureValue:4,measureValueFormatted:"4"}),this.sina._createDataSourceResultSetItem({dataSource:t.filter.sina.dataSources[2],dimensionValueFormatted:e.labelPlural,measureValue:5,measureValueFormatted:"5"})];if(t.filter.sina.dataSources[3]){i[2]=this.sina._createDataSourceResultSetItem({dataSource:t.filter.sina.dataSources[3],dimensionValueFormatted:e.labelPlural,measureValue:1,measureValueFormatted:"1"})}const r=[this.sina._createDataSourceResultSet({title:t.filter.dataSource.label,items:i,query:t})];return r}generateFacets(t){if(t.filter.dataSource.id===I.dataSourceIds.All||t.filter.dataSource.type===this.sina.DataSourceType.UserCategory||t instanceof S&&(t.calculateFacets===undefined||t.calculateFacets===false)){return this.getTopFacetOnly(t)}const e=[];let i;const r=this.templateProvider(this);const s=this.sina.createFilter({searchTerm:this.searchQuery.filter.searchTerm,dataSource:this.searchQuery.filter.dataSource,rootCondition:this.searchQuery.filter.rootCondition.clone()});let a=[];let o;if(t.filter.dataSource.id===I.dataSourceIds.Publications){o=r.searchResultSetItemArray3}else if(t.filter.dataSource.id===I.dataSourceIds.Scientists||t.filter.dataSource.id===I.dataSourceIds.Folklorists){o=r.searchResultSetItemArray}else if(t.filter.dataSource.id===I.dataSourceIds.Urban_Legends||t.filter.dataSource.id===I.dataSourceIds.Mysterious_Sightings){o=r.searchResultSetItemArray2}if(t.filter.dataSource.id===I.dataSourceIds.Scientists||t.filter.dataSource.id===I.dataSourceIds.Mysterious_Sightings){a=this.getChartResultSetItemsForLocations(o);i=this.sina._createChartResultSet({items:a,query:this.sina.createChartQuery({filter:s,dimension:"LOCATION"}),title:"Locations"});e.push(i)}const l=this.getSientistOrFolkloristFacet(t,o);a=l[0];const n=l[1];i=this.sina._createChartResultSet({items:a,query:this.sina.createChartQuery({filter:s,dimension:n}),title:n.charAt(0).toUpperCase()+n.slice(1).toLowerCase()+"s"});e.push(i);return e}}var V={__esModule:true};V.Provider=I;return V})})();
},
	"sap/esh/search/ui/sinaNexTS/providers/sample/template.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){sap.ui.define(["./template_metadata","./template_details_folklorists","./template_details_legends","./template_details_publications"],function(t,e,a,i){"use strict";const r=t["createTemplateMetadata"];const l=e["createTemplateDetails"];const s=a["createTemplateDetails"];const u=i["createTemplateDetails"];function n(t){const e={};e.metadata=[];e.metadata2=[];e.metadata3=[];e.getMetadataById=function(t,e){let a=null;for(let i=0;i<t.length;i++){if(t[i].id===e){a=t[i];break}}return a};e.searchResultSetItemArray=[];e.searchResultSetItemArray2=[];e.searchResultSetItemArray3=[];e.chartResultSetArray=[];let a,i;e._init=function(e){const a=e.metadata;const i=e.metadata2;const r=e.metadata3;t.sina.createDataSource({id:"Folklorists",label:"Folklorist",labelPlural:"Folklorists",type:t.sina.DataSourceType.BusinessObject,attributesMetadata:a});t.sina.createDataSource({id:"Urban_Legends",label:"Urban Legend",labelPlural:"Urban Legends",type:t.sina.DataSourceType.BusinessObject,attributesMetadata:i});t.sina.createDataSource({id:"Publications",label:"Publication",labelPlural:"Publications",type:t.sina.DataSourceType.BusinessObject,attributesMetadata:r})};if(t.sina){e.metadata=r(t).metadata;e.metadata2=r(t).metadata2;e.metadata3=r(t).metadata3}if(t.searchQuery&&t.searchQuery.filter&&t.searchQuery.filter.dataSource&&t.sina&&t.sina.getDataSource("Folklorists")){const r=[];let n=t.searchQuery.filter.searchTerm;n=n.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");const d=n.split(" ");for(let t=0;t<d.length;t++){const e=d[t];if(e.match(/\w/)!==null){r.push(e)}}a=[t.sina._createSearchResultSetItemAttribute({id:"FOLKLORIST",valueHighlighted:"",isHighlighted:false,label:"Folklorist",value:"Andrew McCain",valueFormatted:"Andrew McCain",metadata:e.getMetadataById(e.metadata,"FOLKLORIST")})];i=l(t,e).george;t.addSuvLinkToSearchResultItem(i[10],null,r);e.searchResultSetItemArray.push(t.sina._createSearchResultSetItem({attributes:a.concat(i),dataSource:t.sina.getDataSource("Folklorists"),titleAttributes:a,titleDescriptionAttributes:[],detailAttributes:i}));a=[t.sina._createSearchResultSetItemAttribute({id:"FOLKLORIST",valueHighlighted:"",isHighlighted:false,label:"Folklorist",value:"Carol Mandelbaum",valueFormatted:"Carol Mandelbaum",metadata:e.getMetadataById(e.metadata,"FOLKLORIST")})];i=l(t,e).shira;e.searchResultSetItemArray.push(t.sina._createSearchResultSetItem({attributes:a.concat(i),dataSource:t.sina.getDataSource("Folklorists"),titleAttributes:a,titleDescriptionAttributes:[],detailAttributes:i}));a=[t.sina._createSearchResultSetItemAttribute({id:"FOLKLORIST",valueHighlighted:"",isHighlighted:false,label:"Folklorist",value:"Ryan Anderson",valueFormatted:"Ryan Anderson",metadata:e.getMetadataById(e.metadata,"FOLKLORIST")})];i=l(t,e).benjamin;e.searchResultSetItemArray.push(t.sina._createSearchResultSetItem({attributes:a.concat(i),dataSource:t.sina.getDataSource("Folklorists"),titleAttributes:a,titleDescriptionAttributes:[],detailAttributes:i}));a=[t.sina._createSearchResultSetItemAttribute({id:"FOLKLORIST",valueHighlighted:"",isHighlighted:false,label:"Folklorist",value:"Simon Kingston",valueFormatted:"Simon Kingston",metadata:e.getMetadataById(e.metadata,"FOLKLORIST")})];i=l(t,e).richard;e.searchResultSetItemArray.push(t.sina._createSearchResultSetItem({attributes:a.concat(i),dataSource:t.sina.getDataSource("Folklorists"),titleAttributes:a,titleDescriptionAttributes:[],detailAttributes:i}));a=[t.sina._createSearchResultSetItemAttribute({id:"FOLKLORIST",valueHighlighted:"",isHighlighted:false,label:"Folklorist",value:"Cynthia MacDonald",valueFormatted:"Cynthia MacDonald",metadata:e.getMetadataById(e.metadata,"FOLKLORIST")})];i=l(t,e).rosalie;e.searchResultSetItemArray.push(t.sina._createSearchResultSetItem({attributes:a.concat(i),dataSource:t.sina.getDataSource("Folklorists"),titleAttributes:a,titleDescriptionAttributes:[],detailAttributes:i}));a=[t.sina._createSearchResultSetItemAttribute({id:"FOLKLORIST",valueHighlighted:"",isHighlighted:false,label:"Folklorist",value:"Douglas Milford",valueFormatted:"Douglas Milford",metadata:e.getMetadataById(e.metadata,"FOLKLORIST")})];i=l(t,e).bill;e.searchResultSetItemArray.push(t.sina._createSearchResultSetItem({attributes:a.concat(i),dataSource:t.sina.getDataSource("Folklorists"),titleAttributes:a,titleDescriptionAttributes:[],detailAttributes:i}));a=[t.sina._createSearchResultSetItemAttribute({id:"FOLKLORIST",valueHighlighted:"",isHighlighted:false,label:"Folklorist",value:"The Fureys, Irish folk band orig. formed in 1974",valueFormatted:"The Fureys, Irish folk band orig. formed in 1974",metadata:e.getMetadataById(e.metadata,"FOLKLORIST")})];i=i=l(t,e).fureys;e.searchResultSetItemArray.push(t.sina._createSearchResultSetItem({attributes:a.concat(i),dataSource:t.sina.getDataSource("Folklorists"),titleAttributes:a,titleDescriptionAttributes:[],defaultNavigationTarget:t.sina.createNavigationTarget({text:"The Fureys, Wikipedia",targetUrl:"https://en.wikipedia.org/wiki/The_Fureys",target:"_blank"}),detailAttributes:i}));a=[t.sina._createSearchResultSetItemAttribute({id:"CAPTION",valueHighlighted:"",isHighlighted:false,label:"Caption",value:"",valueFormatted:"Sewer Alligator",metadata:e.getMetadataById(e.metadata2,"CAPTION")})];i=s(t,e).alligator;e.searchResultSetItemArray2.push(t.sina._createSearchResultSetItem({attributes:a.concat(i),dataSource:t.sina.getDataSource("Urban_Legends"),titleAttributes:a,titleDescriptionAttributes:[],detailAttributes:i,defaultNavigationTarget:t.sina.createNavigationTarget({text:"Alligators in the Sewers, Wikipedia",targetUrl:"https://en.wikipedia.org/wiki/Sewer_alligator",target:"_blank"})}));a=[t.sina._createSearchResultSetItemAttribute({id:"CAPTION",valueHighlighted:"",isHighlighted:false,label:"Caption",value:"",valueFormatted:"Slender Man",metadata:e.getMetadataById(e.metadata2,"CAPTION")})];i=s(t,e).slenderman;e.searchResultSetItemArray2.push(t.sina._createSearchResultSetItem({attributes:a.concat(i),dataSource:t.sina.getDataSource("Urban_Legends"),titleAttributes:a,detailAttributes:i,titleDescriptionAttributes:[],defaultNavigationTarget:t.sina.createNavigationTarget({text:"Slender Man, Wikipedia",targetUrl:"https://en.wikipedia.org/wiki/Slender_Man",target:"_blank"})}));a=[t.sina._createSearchResultSetItemAttribute({id:"CAPTION",valueHighlighted:"",isHighlighted:false,label:"Caption",value:"",valueFormatted:"Chupacabra",metadata:e.getMetadataById(e.metadata2,"CAPTION")})];i=s(t,e).chupacabra;e.searchResultSetItemArray2.push(t.sina._createSearchResultSetItem({attributes:a.concat(i),dataSource:t.sina.getDataSource("Urban_Legends"),titleAttributes:a,detailAttributes:i,titleDescriptionAttributes:[],defaultNavigationTarget:t.sina.createNavigationTarget({text:"Chupacabra, Wikipedia",targetUrl:"https://en.wikipedia.org/wiki/Chupacabra",target:"_blank"})}));a=[t.sina._createSearchResultSetItemAttribute({id:"CAPTION",valueHighlighted:"",isHighlighted:false,label:"Caption",value:"",valueFormatted:"Vanishing Hitchhiker",metadata:e.getMetadataById(e.metadata2,"CAPTION")})];i=s(t,e).hitchhiker;e.searchResultSetItemArray2.push(t.sina._createSearchResultSetItem({attributes:a.concat(i),dataSource:t.sina.getDataSource("Urban_Legends"),titleAttributes:a,detailAttributes:i,titleDescriptionAttributes:[],defaultNavigationTarget:t.sina.createNavigationTarget({text:"Vanishing Hitchhiker, Wikipedia",targetUrl:"https://en.wikipedia.org/wiki/Vanishing_hitchhiker",target:"_blank"})}));a=[t.sina._createSearchResultSetItemAttribute({id:"CAPTION",valueHighlighted:"",isHighlighted:false,label:"Caption",value:"",valueFormatted:"Vanishing Hitchhiker",metadata:e.getMetadataById(e.metadata2,"CAPTION")})];i=s(t,e).hitchhiker2;e.searchResultSetItemArray2.push(t.sina._createSearchResultSetItem({attributes:a.concat(i),dataSource:t.sina.getDataSource("Urban_Legends"),titleAttributes:a,detailAttributes:i,titleDescriptionAttributes:[],defaultNavigationTarget:t.sina.createNavigationTarget({text:'Journal Article "The Vanishing Hitchhiker" by Richard K. Beardsley and Cynthia MacDonald in the California Folklore Quarterly.',targetUrl:"https://www.jstor.org/stable/1495600",target:"_blank"})}));a=[t.sina._createSearchResultSetItemAttribute({id:"CAPTION",valueHighlighted:"",isHighlighted:false,label:"Caption",value:"",valueFormatted:"The Baby Train",metadata:e.getMetadataById(e.metadata2,"CAPTION")})];i=s(t,e).babytrain;e.searchResultSetItemArray2.push(t.sina._createSearchResultSetItem({attributes:a.concat(i),dataSource:t.sina.getDataSource("Urban_Legends"),titleAttributes:a,detailAttributes:i,titleDescriptionAttributes:[],defaultNavigationTarget:t.sina.createNavigationTarget({text:"Baby Train, Wikipedia",targetUrl:"https://en.wikipedia.org/wiki/Baby_Train",target:"_blank"})}));a=[t.sina._createSearchResultSetItemAttribute({id:"CAPTION",valueHighlighted:"",isHighlighted:false,label:"Caption",value:"",valueFormatted:"The Baby Train (Web page of Wikipedia) - - - Extra long title link",metadata:e.getMetadataById(e.metadata2,"CAPTION")})];i=s(t,e).babytrain;e.searchResultSetItemArray2.push(t.sina._createSearchResultSetItem({attributes:a.concat(i),dataSource:t.sina.getDataSource("Urban_Legends"),titleAttributes:a,detailAttributes:i,titleDescriptionAttributes:[],defaultNavigationTarget:t.sina.createNavigationTarget({text:"Baby Train, page of Wikipedia --- XXL title link",targetUrl:"https://en.wikipedia.org/wiki/Baby_Train",target:"_blank"})}));a=[t.sina._createSearchResultSetItemAttribute({id:"CAPTION",valueHighlighted:"",isHighlighted:false,label:"Caption",value:"",valueFormatted:"The Baby Train (Web page of Wikipedia) - - - Without link / XXL title",metadata:e.getMetadataById(e.metadata2,"CAPTION")})];i=s(t,e).babytrain;e.searchResultSetItemArray2.push(t.sina._createSearchResultSetItem({attributes:a.concat(i),dataSource:t.sina.getDataSource("Urban_Legends"),titleAttributes:a,detailAttributes:i,titleDescriptionAttributes:[]}));a=[t.sina._createSearchResultSetItemAttribute({id:"CAPTION",valueHighlighted:"",isHighlighted:false,label:"Caption",value:"",valueFormatted:"The Baby Train - no link",metadata:e.getMetadataById(e.metadata2,"CAPTION")})];i=s(t,e).babytrain;e.searchResultSetItemArray2.push(t.sina._createSearchResultSetItem({attributes:a.concat(i),dataSource:t.sina.getDataSource("Urban_Legends"),titleAttributes:a,detailAttributes:i,titleDescriptionAttributes:[]}));a=[t.sina._createSearchResultSetItemAttribute({id:"CAPTION",value:"Sewer Alligator",valueFormatted:"Sewer Alligator",valueHighlighted:"Sewer Alligator",isHighlighted:false,label:"Caption",metadata:e.getMetadataById(e.metadata3,"PUB")})];i=u(t,e).alligatorbook;t.addSuvLinkToSearchResultItem(i[0],null,r);e.searchResultSetItemArray3.push(t.sina._createSearchResultSetItem({attributes:a.concat(i),dataSource:t.sina.getDataSource("Publications"),titleAttributes:a,titleDescriptionAttributes:[],detailAttributes:i}));a=[t.sina._createSearchResultSetItemAttribute({id:"CAPTION",value:"Slender Man",valueFormatted:"Slender Man",valueHighlighted:"Slender Man",isHighlighted:false,label:"Caption",metadata:e.getMetadataById(e.metadata3,"PUB")})];i=u(t,e).slendermanbook;t.addSuvLinkToSearchResultItem(i[0],null,r);e.searchResultSetItemArray3.push(t.sina._createSearchResultSetItem({attributes:a.concat(i),dataSource:t.sina.getDataSource("Publications"),titleAttributes:a,titleDescriptionAttributes:[],detailAttributes:i}));a=[t.sina._createSearchResultSetItemAttribute({id:"CAPTION",value:"Chupacabra",valueFormatted:"Chupacabra",valueHighlighted:"Chupacabra",isHighlighted:false,label:"Caption",metadata:e.getMetadataById(e.metadata3,"PUB")})];i=u(t,e).chupacabrabook;t.addSuvLinkToSearchResultItem(i[0],null,r);e.searchResultSetItemArray3.push(t.sina._createSearchResultSetItem({attributes:a.concat(i),dataSource:t.sina.getDataSource("Publications"),titleAttributes:a,titleDescriptionAttributes:[],detailAttributes:i}));a=[t.sina._createSearchResultSetItemAttribute({id:"CAPTION",value:"Vanishing Hitchhiker",valueFormatted:"Vanishing Hitchhiker",valueHighlighted:"Vanishing Hitchhiker",isHighlighted:false,label:"Caption",metadata:e.getMetadataById(e.metadata3,"PUB")})];i=u(t,e).hitchhikerbook;t.addSuvLinkToSearchResultItem(i[0],null,r);e.searchResultSetItemArray3.push(t.sina._createSearchResultSetItem({attributes:a.concat(i),dataSource:t.sina.getDataSource("Publications"),titleAttributes:a,titleDescriptionAttributes:[],detailAttributes:i}));a=[t.sina._createSearchResultSetItemAttribute({id:"CAPTION",value:"Vanishing Hitchhiker",valueFormatted:"Vanishing Hitchhiker",valueHighlighted:"Vanishing Hitchhiker",isHighlighted:false,label:"Caption",metadata:e.getMetadataById(e.metadata3,"PUB")})];i=u(t,e).hitchhiker2book;t.addSuvLinkToSearchResultItem(i[0],null,r);e.searchResultSetItemArray3.push(t.sina._createSearchResultSetItem({attributes:a.concat(i),dataSource:t.sina.getDataSource("Publications"),titleAttributes:a,titleDescriptionAttributes:[],detailAttributes:i}));a=[t.sina._createSearchResultSetItemAttribute({id:"CAPTION",value:"The Baby Train",valueFormatted:"The Baby Train",valueHighlighted:"The Baby Train",isHighlighted:false,label:"Caption",metadata:e.getMetadataById(e.metadata3,"PUB")})];i=u(t,e).babytrainbook;t.addSuvLinkToSearchResultItem(i[0],null,r);e.searchResultSetItemArray3.push(t.sina._createSearchResultSetItem({attributes:a.concat(i),dataSource:t.sina.getDataSource("Publications"),titleAttributes:a,titleDescriptionAttributes:[],detailAttributes:i}))}return e}var d={__esModule:true};d.createTemplate=n;return d})})();
},
	"sap/esh/search/ui/sinaNexTS/providers/sample/template2.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){
/*!
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.define(["../../sina/AttributeFormatType"],function(e){"use strict";const t=e["AttributeFormatType"];function a(e){const a={};a.metadata=[];a.metadata2=[];a.getMetadataById=function(e,t){let a=null;for(let i=0;i<e.length;i++){if(e[i].id===t){a=e[i];break}}return a};a.searchResultSetItemArray=[];a.searchResultSetItemArray2=[];a.chartResultSetArray=[];let i,l;a._init=function(t){const a=t.metadata;const i=t.metadata2;e.sina._createDataSource({id:"Scientists",label:"Scientist",labelPlural:"Scientists",type:e.sina.DataSourceType.BusinessObject,attributesMetadata:a});e.sina._createDataSource({id:"Mysterious_Sightings",label:"Mysterious Sighting",labelPlural:"Mysterious Sightings",type:e.sina.DataSourceType.BusinessObject,attributesMetadata:i})};if(e.sina){a.metadata=[e.sina._createAttributeMetadata({id:"SCIENTIST",label:"Scientist",type:e.sina.AttributeType.String,usage:{Title:{},AdvancedSearch:{displayOrder:0},Facet:{}},isSortable:true,isKey:false,matchingStrategy:e.sina.MatchingStrategy.Exact}),e.sina._createAttributeMetadata({id:"LOCATION",label:"Location",type:e.sina.AttributeType.String,usage:{Title:{},Detail:{},AdvancedSearch:{displayOrder:0},Facet:{}},isSortable:true,isKey:false,matchingStrategy:e.sina.MatchingStrategy.Exact}),e.sina._createAttributeMetadata({id:"LOC_4326",label:"LOC_4326",type:e.sina.AttributeType.GeoJson,usage:{Title:{},Detail:{},AdvancedSearch:{displayOrder:0},Facet:{}},isSortable:true,isKey:false,matchingStrategy:e.sina.MatchingStrategy.Exact}),e.sina._createAttributeMetadata({id:"SEX",label:"Sex",type:e.sina.AttributeType.String,usage:{Detail:{},AdvancedSearch:{displayOrder:0},Facet:{}},isSortable:true,isKey:false,matchingStrategy:e.sina.MatchingStrategy.Exact}),e.sina._createAttributeMetadata({id:"SEX_DESC",label:"Description for Gender",type:e.sina.AttributeType.String,usage:{},isSortable:false,isKey:false,matchingStrategy:e.sina.MatchingStrategy.Exact}),e.sina._createAttributeMetadata({id:"DISCIPLINE",label:"Discipline",type:e.sina.AttributeType.String,usage:{},isSortable:true,isKey:false,matchingStrategy:e.sina.MatchingStrategy.Exact}),e.sina._createAttributeMetadata({id:"DESC",label:"Descritption",type:e.sina.AttributeType.String,usage:{},isSortable:true,isKey:false,matchingStrategy:e.sina.MatchingStrategy.Exact}),e.sina._createAttributeMetadata({id:"PIC",label:"picture",type:e.sina.AttributeType.ImageUrl,usage:{},format:t.Round,isSortable:false,isKey:false,matchingStrategy:e.sina.MatchingStrategy.Exact}),e.sina._createAttributeMetadata({id:"SALARY",label:"Salary",type:e.sina.AttributeType.Integer,usage:{},isSortable:true,isKey:false,matchingStrategy:e.sina.MatchingStrategy.Exact}),e.sina._createAttributeMetadata({id:"CURRENCY",label:"Currency",type:e.sina.AttributeType.String,usage:{},isSortable:true,isKey:false,matchingStrategy:e.sina.MatchingStrategy.Exact}),e.sina._createAttributeMetadata({id:"HEIGHT",label:"Height",type:e.sina.AttributeType.Integer,usage:{},isSortable:true,isKey:false,matchingStrategy:e.sina.MatchingStrategy.Exact}),e.sina._createAttributeMetadata({id:"UOM_HEIGHT",label:"Unit of Measure for Height Attribute",type:e.sina.AttributeType.String,usage:{},isSortable:true,isKey:false,matchingStrategy:e.sina.MatchingStrategy.Exact}),e.sina._createAttributeMetadata({id:"PHONE",label:"Phone",type:e.sina.AttributeType.String,usage:{},isSortable:true,isKey:false,matchingStrategy:e.sina.MatchingStrategy.Exact}),e.sina._createAttributeMetadata({id:"EMAIL",label:"Email",type:e.sina.AttributeType.String,usage:{},isSortable:true,isKey:false,matchingStrategy:e.sina.MatchingStrategy.Exact})];a.metadata2=[e.sina._createAttributeMetadata({id:"CAPTION",label:"Caption",type:e.sina.AttributeType.String,usage:{},isSortable:true,isKey:false,matchingStrategy:e.sina.MatchingStrategy.Exact}),e.sina._createAttributeMetadata({id:"LOCATION",label:"Location",type:e.sina.AttributeType.String,usage:{Detail:{},AdvancedSearch:{displayOrder:0},Facet:{}},isSortable:true,isKey:false,matchingStrategy:e.sina.MatchingStrategy.Exact}),e.sina._createAttributeMetadata({id:"LOC_4326",label:"LOC_4326",type:e.sina.AttributeType.GeoJson,usage:{},isSortable:true,isKey:false,matchingStrategy:e.sina.MatchingStrategy.Exact}),e.sina._createAttributeMetadata({id:"SCIENTIST",label:"Scientist",type:e.sina.AttributeType.String,usage:{Title:{},AdvancedSearch:{displayOrder:0},Facet:{}},isSortable:false,isKey:false,matchingStrategy:e.sina.MatchingStrategy.Exact}),e.sina._createAttributeMetadata({id:"DESC",label:"Descritption",type:e.sina.AttributeType.String,usage:{},format:e.sina.AttributeFormatType.LongText,isSortable:true,isKey:false,matchingStrategy:e.sina.MatchingStrategy.Exact}),e.sina._createAttributeMetadata({id:"PIC",label:"picture",type:e.sina.AttributeType.ImageUrl,usage:{},isSortable:false,isKey:false,matchingStrategy:e.sina.MatchingStrategy.Exact}),e.sina._createAttributeMetadata({id:"URL",label:"URL",type:e.sina.AttributeType.String,usage:{},isSortable:true,isKey:false,matchingStrategy:e.sina.MatchingStrategy.Exact})]}if(e.searchQuery&&e.searchQuery.filter&&e.searchQuery.filter.dataSource&&e.sina&&e.sina.getDataSource("Scientists")){i=[e.sina._createSearchResultSetItemAttribute({id:"SCIENTIST",valueHighlighted:"",isHighlighted:false,label:"Scientist",value:"Hannah White",valueFormatted:"Hannah White",metadata:a.getMetadataById(a.metadata,"SCIENTIST")})];l=[e.sina._createSearchResultSetItemAttribute({id:"SALARY",valueHighlighted:"",isHighlighted:false,label:"Salary",value:"2800",valueFormatted:"1000.00",metadata:a.getMetadataById(a.metadata,"SALARY"),unitOfMeasure:e.sina._createSearchResultSetItemAttribute({id:"CURRENCY",valueHighlighted:"",isHighlighted:false,label:"Currency",value:"Euro",valueFormatted:"",metadata:a.getMetadataById(a.metadata,"CURRENCY")})}),e.sina._createSearchResultSetItemAttribute({id:"HEIGHT",valueHighlighted:"",isHighlighted:false,label:"Height",value:"175",valueFormatted:"175",metadata:a.getMetadataById(a.metadata,"HEIGHT"),unitOfMeasure:e.sina._createSearchResultSetItemAttribute({id:"UOM_HEIGHT",valueHighlighted:"",isHighlighted:false,label:"Unit of Measure for Height",value:"cm",valueFormatted:"cm",metadata:a.getMetadataById(a.metadata,"UOM_HEIGHT")})}),e.sina._createSearchResultSetItemAttribute({id:"LOCATION",valueHighlighted:"",isHighlighted:false,label:"Site Location",value:"Galapagos",valueFormatted:"Galapagos",metadata:a.getMetadataById(a.metadata,"LOCATION")}),e.sina._createSearchResultSetItemAttribute({id:"PHONE",valueHighlighted:"",isHighlighted:false,label:"Phone",value:"+1 212 6539539",valueFormatted:"+1 212 6539539",metadata:a.getMetadataById(a.metadata,"PHONE")}),e.sina._createSearchResultSetItemAttribute({id:"EMAIL",valueHighlighted:"",isHighlighted:false,label:"Contact",value:"hannah.white@example.com",valueFormatted:"hannah.white@example.com",metadata:a.getMetadataById(a.metadata,"EMAIL")}),e.sina._createSearchResultSetItemAttribute({id:"fieldoffice",valueHighlighted:"",isHighlighted:false,label:"Hannah White (Field Office, Allagash, Maine)",value:'{ "type": "Point", "coordinates": [-69.040601, 47.082589] }',valueFormatted:'{ "type": "Point", "coordinates": [-69.040601, 47.082589] }',defaultNavigationTarget:e.sina.createNavigationTarget({text:"Send Mail",targetUrl:"mailto:hanna.white@example.com"}),metadata:a.getMetadataById(a.metadata,"LOC_4326")}),e.sina._createSearchResultSetItemAttribute({id:"DISCIPLINE",valueHighlighted:"",isHighlighted:false,label:"Discipline",value:"Multidisciplinary",valueFormatted:"Multidisciplinary",metadata:a.getMetadataById(a.metadata,"DISCIPLINE")}),e.sina._createSearchResultSetItemAttribute({id:"SEX",valueHighlighted:"",isHighlighted:false,label:"Sex",value:"",valueFormatted:"",metadata:a.getMetadataById(a.metadata,"SEX"),description:e.sina._createSearchResultSetItemAttribute({id:"SEX_DESC",valueHighlighted:"",isHighlighted:false,label:"Description for Gender",value:"Female",valueFormatted:"Female",metadata:a.getMetadataById(a.metadata,"SEX_DESC")})}),e.sina._createSearchResultSetItemAttribute({id:"PIC",valueHighlighted:"",isHighlighted:false,label:"Picture",value:"/resources/sap/esh/search/ui/sinaNexTS/providers/sample/images/scientist_hannah.jpg",valueFormatted:"/resources/sap/esh/search/ui/sinaNexTS/providers/sample/images/scientist_hannah.jpg",metadata:a.getMetadataById(a.metadata,"PIC")})];a.searchResultSetItemArray.push(e.sina._createSearchResultSetItem({attributes:[],dataSource:e.sina.getDataSource("Scientists"),titleAttributes:i,titleDescriptionAttributes:[],detailAttributes:l}));i=[e.sina._createSearchResultSetItemAttribute({id:"SCIENTIST",valueHighlighted:"",isHighlighted:false,label:"Scientist",value:"Barry Williamson",valueFormatted:"Barry Williamson",metadata:a.getMetadataById(a.metadata,"SCIENTIST")})];l=[e.sina._createSearchResultSetItemAttribute({id:"SALARY",valueHighlighted:"",isHighlighted:false,label:"Salary",value:"3000",valueFormatted:"3000.00",metadata:a.getMetadataById(a.metadata,"SALARY"),unitOfMeasure:e.sina._createSearchResultSetItemAttribute({id:"CURRENCY",valueHighlighted:"",isHighlighted:false,label:"Currency",value:"Euro",valueFormatted:"",metadata:a.getMetadataById(a.metadata,"CURRENCY")})}),e.sina._createSearchResultSetItemAttribute({id:"HEIGHT",valueHighlighted:"",isHighlighted:false,label:"Height",value:"188",valueFormatted:"188",metadata:a.getMetadataById(a.metadata,"HEIGHT"),unitOfMeasure:e.sina._createSearchResultSetItemAttribute({id:"UOM_HEIGHT",valueHighlighted:"",isHighlighted:false,label:"Unit of Measure for Height",value:"cm",valueFormatted:"cm",metadata:a.getMetadataById(a.metadata,"UOM_HEIGHT")})}),e.sina._createSearchResultSetItemAttribute({id:"LOCATION",valueHighlighted:"",isHighlighted:false,label:"Site Location",value:"Cyprus",valueFormatted:"Off East Cyprus",metadata:a.getMetadataById(a.metadata,"LOCATION")}),e.sina._createSearchResultSetItemAttribute({id:"fieldoffice",valueHighlighted:"",isHighlighted:false,label:"Barry Williamson (Offices)",value:'{ "type": "Point", "coordinates": [-118.236036, 34.050492] }',valueFormatted:'{ "type": "Point", "coordinates": [-118.236036, 34.050492] }',metadata:a.getMetadataById(a.metadata,"LOC_4326")}),e.sina._createSearchResultSetItemAttribute({id:"DISCIPLINE",valueHighlighted:"",isHighlighted:false,label:"Discipline",value:"Ancient History",valueFormatted:"Ancient History",metadata:a.getMetadataById(a.metadata,"DISCIPLINE")}),e.sina._createSearchResultSetItemAttribute({id:"SEX",valueHighlighted:"",isHighlighted:false,label:"Sex",value:"",valueFormatted:"",metadata:a.getMetadataById(a.metadata,"SEX"),description:e.sina._createSearchResultSetItemAttribute({id:"SEX_DESC",valueHighlighted:"",isHighlighted:false,label:"Description for Gender",value:"Male",valueFormatted:"Male",metadata:a.getMetadataById(a.metadata,"SEX_DESC")})}),e.sina._createSearchResultSetItemAttribute({id:"PIC",valueHighlighted:"",isHighlighted:false,label:"Picture",value:"/resources/sap/esh/search/ui/sinaNexTS/providers/sample/images/scientist_RobertSarmast.jpg",valueFormatted:"/resources/sap/esh/search/ui/sinaNexTS/providers/sample/images/scientist_RobertSarmast.jpg",metadata:a.getMetadataById(a.metadata,"PIC")})];a.searchResultSetItemArray.push(e.sina._createSearchResultSetItem({attributes:[],dataSource:e.sina.getDataSource("Scientists"),titleAttributes:i,titleDescriptionAttributes:[],detailAttributes:l}));i=[e.sina._createSearchResultSetItemAttribute({id:"SCIENTIST",valueHighlighted:"",isHighlighted:false,label:"Scientist",value:"Conrad Atkinson",valueFormatted:"Conrad Atkinson",metadata:a.getMetadataById(a.metadata,"SCIENTIST")})];l=[e.sina._createSearchResultSetItemAttribute({id:"SALARY",valueHighlighted:"",isHighlighted:false,label:"Salary",value:"3200",valueFormatted:"3200.00",metadata:a.getMetadataById(a.metadata,"SALARY"),unitOfMeasure:e.sina._createSearchResultSetItemAttribute({id:"CURRENCY",valueHighlighted:"",isHighlighted:false,label:"Currency",value:"Euro",valueFormatted:"",metadata:a.getMetadataById(a.metadata,"CURRENCY")})}),e.sina._createSearchResultSetItemAttribute({id:"HEIGHT",valueHighlighted:"",isHighlighted:false,label:"Height",value:"165",valueFormatted:"165",metadata:a.getMetadataById(a.metadata,"HEIGHT"),unitOfMeasure:e.sina._createSearchResultSetItemAttribute({id:"UOM_HEIGHT",valueHighlighted:"",isHighlighted:false,label:"Unit of Measure for Height",value:"cm",valueFormatted:"cm",metadata:a.getMetadataById(a.metadata,"UOM_HEIGHT")})}),e.sina._createSearchResultSetItemAttribute({id:"LOCATION",valueHighlighted:"",isHighlighted:false,label:"Site Location",value:"Baalbek",valueFormatted:"Baalbek, Lebanon",metadata:a.getMetadataById(a.metadata,"LOCATION")}),e.sina._createSearchResultSetItemAttribute({id:"fieldoffice",valueHighlighted:"",isHighlighted:false,label:"Conrad Atkinson (NYU)",value:'{ "type": "Point", "coordinates": [-73.995589, 40.730355] }',valueFormatted:'{ "type": "Point", "coordinates": [-73.995589, 40.730355] }',metadata:a.getMetadataById(a.metadata,"LOC_4326")}),e.sina._createSearchResultSetItemAttribute({id:"DISCIPLINE",valueHighlighted:"",isHighlighted:false,label:"Discipline",value:"Archeology",valueFormatted:"Archeology",metadata:a.getMetadataById(a.metadata,"DISCIPLINE")}),e.sina._createSearchResultSetItemAttribute({id:"SEX",valueHighlighted:"",isHighlighted:false,label:"Sex",value:"",valueFormatted:"",metadata:a.getMetadataById(a.metadata,"SEX"),description:e.sina._createSearchResultSetItemAttribute({id:"SEX_DESC",valueHighlighted:"",isHighlighted:false,label:"Description for Gender",value:"Male",valueFormatted:"Male",metadata:a.getMetadataById(a.metadata,"SEX_DESC")})}),e.sina._createSearchResultSetItemAttribute({id:"PIC",valueHighlighted:"",isHighlighted:false,label:"Picture",value:"/resources/sap/esh/search/ui/sinaNexTS/providers/sample/images/sitchin.jpg",valueFormatted:"/resources/sap/esh/search/ui/sinaNexTS/providers/sample/images/sitchin.jpg",metadata:a.getMetadataById(a.metadata,"PIC")})];a.searchResultSetItemArray.push(e.sina._createSearchResultSetItem({attributes:[],dataSource:e.sina.getDataSource("Scientists"),titleAttributes:i,titleDescriptionAttributes:[],detailAttributes:l}));i=[e.sina._createSearchResultSetItemAttribute({id:"SCIENTIST",valueHighlighted:"",isHighlighted:false,label:"Scientist",value:"Roger Murdoch",valueFormatted:"Roger Murdoch",metadata:a.getMetadataById(a.metadata,"SCIENTIST")})];l=[e.sina._createSearchResultSetItemAttribute({id:"SALARY",valueHighlighted:"",isHighlighted:false,label:"Salary",value:"2100",valueFormatted:"2100.00",metadata:a.getMetadataById(a.metadata,"SALARY"),unitOfMeasure:e.sina._createSearchResultSetItemAttribute({id:"CURRENCY",valueHighlighted:"",isHighlighted:false,label:"Currency",value:"Euro",valueFormatted:"",metadata:a.getMetadataById(a.metadata,"CURRENCY")})}),e.sina._createSearchResultSetItemAttribute({id:"HEIGHT",valueHighlighted:"",isHighlighted:false,label:"Height",value:"182",valueFormatted:"182",metadata:a.getMetadataById(a.metadata,"HEIGHT"),unitOfMeasure:e.sina._createSearchResultSetItemAttribute({id:"UOM_HEIGHT",valueHighlighted:"",isHighlighted:false,label:"Unit of Measure for Height",value:"cm",valueFormatted:"cm",metadata:a.getMetadataById(a.metadata,"UOM_HEIGHT")})}),e.sina._createSearchResultSetItemAttribute({id:"LOCATION",valueHighlighted:"",isHighlighted:false,label:"Site Location",value:"Baalbek",valueFormatted:"Baalbek, Lebanon",metadata:a.getMetadataById(a.metadata,"LOCATION")}),e.sina._createSearchResultSetItemAttribute({id:"fieldoffice",valueHighlighted:"",isHighlighted:false,label:"Roger Murdoch (Eridu Books)",value:'{ "type": "Point", "coordinates": [-1.387958, 50.933494] }',valueFormatted:'{ "type": "Point", "coordinates": [-1.387958, 50.933494] }',metadata:a.getMetadataById(a.metadata,"LOC_4326")}),e.sina._createSearchResultSetItemAttribute({id:"DISCIPLINE",valueHighlighted:"",isHighlighted:false,label:"Discipline",value:"Egyptology",valueFormatted:"Egyptology",metadata:a.getMetadataById(a.metadata,"DISCIPLINE")}),e.sina._createSearchResultSetItemAttribute({id:"SEX",valueHighlighted:"",isHighlighted:false,label:"Sex",value:"",valueFormatted:"",metadata:a.getMetadataById(a.metadata,"SEX"),description:e.sina._createSearchResultSetItemAttribute({id:"SEX_DESC",valueHighlighted:"",isHighlighted:false,label:"Description for Gender",value:"Male",valueFormatted:"Male",metadata:a.getMetadataById(a.metadata,"SEX_DESC")})}),e.sina._createSearchResultSetItemAttribute({id:"PIC",valueHighlighted:"",isHighlighted:false,label:"Picture",value:"/resources/sap/esh/search/ui/sinaNexTS/providers/sample/images/alford.jpg",valueFormatted:"/resources/sap/esh/search/ui/sinaNexTS/providers/sample/images/alford.jpg",metadata:a.getMetadataById(a.metadata,"PIC")})];a.searchResultSetItemArray.push(e.sina._createSearchResultSetItem({attributes:[],dataSource:e.sina.getDataSource("Scientists"),titleAttributes:i,titleDescriptionAttributes:[],detailAttributes:l}));i=[e.sina._createSearchResultSetItemAttribute({id:"SCIENTIST",valueHighlighted:"",isHighlighted:false,label:"Scientist",value:"Alan Cameron",valueFormatted:"Alan Cameron",metadata:a.getMetadataById(a.metadata,"SCIENTIST")})];l=[e.sina._createSearchResultSetItemAttribute({id:"SALARY",valueHighlighted:"",isHighlighted:false,label:"Salary",value:"1500",valueFormatted:"1500.00",metadata:a.getMetadataById(a.metadata,"SALARY"),unitOfMeasure:e.sina._createSearchResultSetItemAttribute({id:"CURRENCY",valueHighlighted:"",isHighlighted:false,label:"Currency",value:"Euro",valueFormatted:"",metadata:a.getMetadataById(a.metadata,"CURRENCY")})}),e.sina._createSearchResultSetItemAttribute({id:"HEIGHT",valueHighlighted:"",isHighlighted:false,label:"Height",value:"195",valueFormatted:"195",metadata:a.getMetadataById(a.metadata,"HEIGHT"),unitOfMeasure:e.sina._createSearchResultSetItemAttribute({id:"UOM_HEIGHT",valueHighlighted:"",isHighlighted:false,label:"Unit of Measure for Height",value:"cm",valueFormatted:"cm",metadata:a.getMetadataById(a.metadata,"UOM_HEIGHT")})}),e.sina._createSearchResultSetItemAttribute({id:"LOCATION",valueHighlighted:"",isHighlighted:false,label:"Site Location",value:"Gbekli Tepe",valueFormatted:"Gbekli Tepe, Turkey",metadata:a.getMetadataById(a.metadata,"LOCATION")}),e.sina._createSearchResultSetItemAttribute({id:"fieldoffice",valueHighlighted:"",isHighlighted:false,label:"Alan Cameron (Institut fr Ur- und Frhgeschichte, Erlangen)",value:'{ "type": "Point", "coordinates": [11.016959, 49.600319] }',valueFormatted:'{ "type": "Point", "coordinates": [11.016959, 49.600319] }',metadata:a.getMetadataById(a.metadata,"LOC_4326")}),e.sina._createSearchResultSetItemAttribute({id:"DISCIPLINE",valueHighlighted:"",isHighlighted:false,label:"Discipline",value:"Prehistory",valueFormatted:"Prehistory",metadata:a.getMetadataById(a.metadata,"DISCIPLINE")}),e.sina._createSearchResultSetItemAttribute({id:"SEX",valueHighlighted:"",isHighlighted:false,label:"Sex",value:"",valueFormatted:"",metadata:a.getMetadataById(a.metadata,"SEX"),description:e.sina._createSearchResultSetItemAttribute({id:"SEX_DESC",valueHighlighted:"",isHighlighted:false,label:"Description for Gender",value:"Male",valueFormatted:"Male",metadata:a.getMetadataById(a.metadata,"SEX_DESC")})}),e.sina._createSearchResultSetItemAttribute({id:"PIC",valueHighlighted:"",isHighlighted:false,label:"Picture",value:"/resources/sap/esh/search/ui/sinaNexTS/providers/sample/images/kschmidt.jpg",valueFormatted:"/resources/sap/esh/search/ui/sinaNexTS/providers/sample/images/kschmidt.jpg",metadata:a.getMetadataById(a.metadata,"PIC")})];a.searchResultSetItemArray.push(e.sina._createSearchResultSetItem({attributes:[],dataSource:e.sina.getDataSource("Scientists"),titleAttributes:i,titleDescriptionAttributes:[],detailAttributes:l}));i=[e.sina._createSearchResultSetItemAttribute({id:"CAPTION",valueHighlighted:"",isHighlighted:false,label:"Caption",value:"",valueFormatted:"",metadata:a.getMetadataById(a.metadata2,"CAPTION")})];l=[e.sina._createSearchResultSetItemAttribute({id:"SALARY",valueHighlighted:"",isHighlighted:false,label:"Salary",value:"5123",valueFormatted:"5123.00",metadata:a.getMetadataById(a.metadata,"SALARY"),unitOfMeasure:e.sina._createSearchResultSetItemAttribute({id:"CURRENCY",valueHighlighted:"",isHighlighted:false,label:"Currency",value:"Euro",valueFormatted:"",metadata:a.getMetadataById(a.metadata,"CURRENCY")})}),e.sina._createSearchResultSetItemAttribute({id:"HEIGHT",valueHighlighted:"",isHighlighted:false,label:"Height",value:"169",valueFormatted:"169",metadata:a.getMetadataById(a.metadata,"HEIGHT"),unitOfMeasure:e.sina._createSearchResultSetItemAttribute({id:"UOM_HEIGHT",valueHighlighted:"",isHighlighted:false,label:"Unit of Measure for Height",value:"cm",valueFormatted:"cm",metadata:a.getMetadataById(a.metadata,"UOM_HEIGHT")})}),e.sina._createSearchResultSetItemAttribute({id:"DESC",valueHighlighted:"",isHighlighted:false,label:"Quote",value:"I heard the sound of a baby crying... I heard the sound of a baby crying... I heard the sound of a baby crying... I heard the sound of a baby crying... ",valueFormatted:'"I heard the sound of a baby crying... I heard the sound of a baby crying... I heard the sound of a baby crying... I heard the sound of a baby crying... "',metadata:a.getMetadataById(a.metadata2,"DESC")}),e.sina._createSearchResultSetItemAttribute({id:"LOCATION",valueHighlighted:"",isHighlighted:false,label:"Location",value:"Galapagos",valueFormatted:"Galapagos",metadata:a.getMetadataById(a.metadata2,"LOCATION")}),e.sina._createSearchResultSetItemAttribute({id:"sightinglocation",valueHighlighted:"",isHighlighted:false,label:"Isabela Island, Ecuador",value:'{ "type": "Point", "coordinates": [-91.132139, -0.828628] }',valueFormatted:'{ "type": "Point", "coordinates": [-91.132139, -0.828628] }',metadata:a.getMetadataById(a.metadata2,"LOC_4326")}),e.sina._createSearchResultSetItemAttribute({id:"SCIENTIST",valueHighlighted:"",isHighlighted:false,label:"Scientist",value:"Hannah White",valueFormatted:"Hannah White",metadata:a.getMetadataById(a.metadata2,"SCIENTIST")}),e.sina._createSearchResultSetItemAttribute({id:"PIC",valueHighlighted:"",isHighlighted:false,label:"Picture",value:"/resources/sap/esh/search/ui/sinaNexTS/providers/sample/images/galapagos.jpg",valueFormatted:"/resources/sap/esh/search/ui/sinaNexTS/providers/sample/images/galapagos.jpg",metadata:a.getMetadataById(a.metadata2,"PIC")})];a.searchResultSetItemArray2.push(e.sina._createSearchResultSetItem({attributes:[],dataSource:e.sina.getDataSource("Mysterious_Sightings"),titleAttributes:i,detailAttributes:l,titleDescriptionAttributes:[],defaultNavigationTarget:e.sina.createNavigationTarget({text:"Alien species pathways to the Galapagos Islands, Ecuador",targetUrl:"https://www.ncbi.nlm.nih.gov/pmc/articles/PMC5597199/",target:"_blank"})}));i=[e.sina._createSearchResultSetItemAttribute({id:"CAPTION",valueHighlighted:"",isHighlighted:false,label:"Caption",value:"",valueFormatted:"",metadata:a.getMetadataById(a.metadata2,"CAPTION")})];l=[e.sina._createSearchResultSetItemAttribute({id:"SALARY",valueHighlighted:"",isHighlighted:false,label:"Salary",value:"4300",valueFormatted:"4300.00",metadata:a.getMetadataById(a.metadata,"SALARY"),unitOfMeasure:e.sina._createSearchResultSetItemAttribute({id:"CURRENCY",valueHighlighted:"",isHighlighted:false,label:"Currency",value:"Euro",valueFormatted:"",metadata:a.getMetadataById(a.metadata,"CURRENCY")})}),e.sina._createSearchResultSetItemAttribute({id:"HEIGHT",valueHighlighted:"",isHighlighted:false,label:"Height",value:"171",valueFormatted:"171",metadata:a.getMetadataById(a.metadata,"HEIGHT"),unitOfMeasure:e.sina._createSearchResultSetItemAttribute({id:"UOM_HEIGHT",valueHighlighted:"",isHighlighted:false,label:"Unit of Measure for Height",value:"cm",valueFormatted:"cm",metadata:a.getMetadataById(a.metadata,"UOM_HEIGHT")})}),e.sina._createSearchResultSetItemAttribute({id:"LOCATION",valueHighlighted:"",isHighlighted:false,label:"Location",value:"Cyprus",valueFormatted:"Off East Cyprus",metadata:a.getMetadataById(a.metadata2,"LOCATION")}),e.sina._createSearchResultSetItemAttribute({id:"SCIENTIST",valueHighlighted:"",isHighlighted:false,label:"Scientist",value:"Barry Williamson",valueFormatted:"Barry Williamson",metadata:a.getMetadataById(a.metadata2,"SCIENTIST")}),e.sina._createSearchResultSetItemAttribute({id:"sightinglocation",valueHighlighted:"",isHighlighted:false,label:"Atlantis, Off East Cyprus",value:'{ "type": "Point", "coordinates": [35.102514, 34.824097] }',valueFormatted:'{ "type": "Point", "coordinates": [35.102514, 34.824097] }',metadata:a.getMetadataById(a.metadata2,"LOC_4326")}),e.sina._createSearchResultSetItemAttribute({id:"DESC",valueHighlighted:"",isHighlighted:false,label:"Quote",value:"The discovery could mean a tourism bonanza for Cyprus once the word gets out",valueFormatted:'"The discovery could mean a tourism bonanza for Cyprus once the word gets out"',metadata:a.getMetadataById(a.metadata2,"DESC")}),e.sina._createSearchResultSetItemAttribute({id:"PIC",valueHighlighted:"",isHighlighted:false,label:"Picture",value:"/resources/sap/esh/search/ui/sinaNexTS/providers/sample/images/atlantis.jpg",valueFormatted:"/resources/sap/esh/search/ui/sinaNexTS/providers/sample/images/atlantis.jpg",metadata:a.getMetadataById(a.metadata2,"PIC")})];a.searchResultSetItemArray2.push(e.sina._createSearchResultSetItem({attributes:[],dataSource:e.sina.getDataSource("Mysterious_Sightings"),titleAttributes:i,detailAttributes:l,titleDescriptionAttributes:[],defaultNavigationTarget:e.sina.createNavigationTarget({text:"Barry Williamson on the Hunt for Atlantis",targetUrl:"https://www.youtube.com/watch?v=6f8jzITECRM",target:"_blank"})}));i=[e.sina._createSearchResultSetItemAttribute({id:"CAPTION",valueHighlighted:"",isHighlighted:false,label:"Caption",value:"",valueFormatted:"",metadata:a.getMetadataById(a.metadata2,"CAPTION")})];l=[e.sina._createSearchResultSetItemAttribute({id:"LOCATION",valueHighlighted:"",isHighlighted:false,label:"Location",value:"Baalbek",valueFormatted:"Baalbek, Lebanon",metadata:a.getMetadataById(a.metadata2,"LOCATION")}),e.sina._createSearchResultSetItemAttribute({id:"SCIENTIST",valueHighlighted:"",isHighlighted:false,label:"Scientist",value:"Conrad Atkinson",valueFormatted:"Conrad Atkinson",metadata:a.getMetadataById(a.metadata2,"SCIENTIST")}),e.sina._createSearchResultSetItemAttribute({id:"sightinglocation",valueHighlighted:"",isHighlighted:false,label:"Stone of the Pregnant Woman (Hajar al-Hibla), Baalbek, Lebanon",value:'{ "type": "Point", "coordinates": [36.199993, 33.999453] }',valueFormatted:'{ "type": "Point", "coordinates": [36.199993, 33.999453] }',metadata:a.getMetadataById(a.metadata2,"LOC_4326")}),e.sina._createSearchResultSetItemAttribute({id:"DESC",valueHighlighted:"",isHighlighted:false,label:"Summary",value:"it would be impossible for ancient humans with their limited technology to accomplish such a thing",valueFormatted:"it would be impossible for ancient humans with their limited technology to accomplish such a thing",metadata:a.getMetadataById(a.metadata2,"DESC")}),e.sina._createSearchResultSetItemAttribute({id:"PIC",valueHighlighted:"",isHighlighted:false,label:"Picture",value:"/resources/sap/esh/search/ui/sinaNexTS/providers/sample/images/megalith.jpg",valueFormatted:"/resources/sap/esh/search/ui/sinaNexTS/providers/sample/images/megalith.jpg",metadata:a.getMetadataById(a.metadata2,"PIC")})];a.searchResultSetItemArray2.push(e.sina._createSearchResultSetItem({attributes:[],dataSource:e.sina.getDataSource("Mysterious_Sightings"),titleAttributes:i,detailAttributes:l,titleDescriptionAttributes:[],defaultNavigationTarget:e.sina.createNavigationTarget({text:"In The News: Baalbek",targetUrl:"http://www.sitchin.com/landplace.htm",target:"_blank"})}));i=[e.sina._createSearchResultSetItemAttribute({id:"CAPTION",valueHighlighted:"",isHighlighted:false,label:"Caption",value:"",valueFormatted:"",metadata:a.getMetadataById(a.metadata2,"CAPTION")})];l=[e.sina._createSearchResultSetItemAttribute({id:"LOCATION",valueHighlighted:"",isHighlighted:false,label:"Location",value:"Baalbek",valueFormatted:"Baalbek, Lebanon",metadata:a.getMetadataById(a.metadata2,"LOCATION")}),e.sina._createSearchResultSetItemAttribute({id:"SCIENTIST",valueHighlighted:"",isHighlighted:false,label:"Scientist",value:"Roger Murdoch",valueFormatted:"Roger Murdoch",metadata:a.getMetadataById(a.metadata2,"SCIENTIST")}),e.sina._createSearchResultSetItemAttribute({id:"sightinglocation",valueHighlighted:"",isHighlighted:false,label:"Temple Compex, Baalbek, Lebanon",value:'{ "type": "Point", "coordinates": [36.204944, 34.006899] }',valueFormatted:'{ "type": "Point", "coordinates": [36.204944, 34.006899] }',metadata:a.getMetadataById(a.metadata2,"LOC_4326")}),e.sina._createSearchResultSetItemAttribute({id:"DESC",valueHighlighted:"",isHighlighted:false,label:"Summary",value:"Was the temple platorm a huge landing site for the aliens who once visited our planet?",valueFormatted:"Was the temple platorm a huge landing site for the aliens who once visited our planet?",metadata:a.getMetadataById(a.metadata2,"DESC")}),e.sina._createSearchResultSetItemAttribute({id:"PIC",valueHighlighted:"",isHighlighted:false,label:"Picture",value:"/resources/sap/esh/search/ui/sinaNexTS/providers/sample/images/heliopolis.jpg",valueFormatted:"/resources/sap/esh/search/ui/sinaNexTS/providers/sample/images/heliopolis.jpg",metadata:a.getMetadataById(a.metadata2,"PIC")})];a.searchResultSetItemArray2.push(e.sina._createSearchResultSetItem({attributes:[],dataSource:e.sina.getDataSource("Mysterious_Sightings"),titleAttributes:i,detailAttributes:l,titleDescriptionAttributes:[],defaultNavigationTarget:e.sina.createNavigationTarget({text:"The Mystery of the Stones at Baalbek",targetUrl:"http://www.eridu.co.uk/Author/Mysteries_of_the_World/Baalbek/baalbek2.html",target:"_blank"})}));i=[e.sina._createSearchResultSetItemAttribute({id:"CAPTION",valueHighlighted:"",isHighlighted:false,label:"Caption",value:"",valueFormatted:"",metadata:a.getMetadataById(a.metadata2,"CAPTION")})];l=[e.sina._createSearchResultSetItemAttribute({id:"LOCATION",valueHighlighted:"",isHighlighted:false,label:"Location",value:"Wycliffe Well",valueFormatted:"Wycliffe Well",metadata:a.getMetadataById(a.metadata2,"LOCATION")}),e.sina._createSearchResultSetItemAttribute({id:"SCIENTIST",valueHighlighted:"",isHighlighted:false,label:"Scientist",value:"Hannah White",valueFormatted:"Hannah White",metadata:a.getMetadataById(a.metadata2,"SCIENTIST")}),e.sina._createSearchResultSetItemAttribute({id:"sightinglocation",valueHighlighted:"",isHighlighted:false,label:"Wycliffe Well, NT, Australia",value:'{ "type": "Point", "coordinates": [134.236761, -20.795279] }',valueFormatted:'{ "type": "Point", "coordinates": [134.236761, -20.795279] }',metadata:a.getMetadataById(a.metadata2,"LOC_4326")}),e.sina._createSearchResultSetItemAttribute({id:"DESC",valueHighlighted:"",isHighlighted:false,label:"Summary",value:"Numerous people have reported seeing strange lights in the sky while staying a Wycliffe.",valueFormatted:"Numerous people have reported seeing strange lights in the sky while staying a Wycliffe.",metadata:a.getMetadataById(a.metadata2,"DESC")}),e.sina._createSearchResultSetItemAttribute({id:"PIC",valueHighlighted:"",isHighlighted:false,label:"Picture",value:"/resources/sap/esh/search/ui/sinaNexTS/providers/sample/images/Wycliffe_Well.jpg",valueFormatted:"/resources/sap/esh/search/ui/sinaNexTS/providers/sample/images/Wycliffe_Well.jpg",metadata:a.getMetadataById(a.metadata2,"PIC")})];a.searchResultSetItemArray2.push(e.sina._createSearchResultSetItem({attributes:[],dataSource:e.sina.getDataSource("Mysterious_Sightings"),titleAttributes:i,detailAttributes:l,titleDescriptionAttributes:[],defaultNavigationTarget:e.sina.createNavigationTarget({text:"Wycliffe Well Australia's premier UFO hotspot",targetUrl:"https://www.youtube.com/watch?v=hMDRHqcatyg",target:"_blank"})}));i=[e.sina._createSearchResultSetItemAttribute({id:"CAPTION",valueHighlighted:"",isHighlighted:false,label:"Caption",value:"",valueFormatted:"",metadata:a.getMetadataById(a.metadata2,"CAPTION")})];l=[e.sina._createSearchResultSetItemAttribute({id:"LOCATION",valueHighlighted:"",isHighlighted:false,label:"Location",value:"Gbekli Tepe",valueFormatted:"Gbekli Tepe",metadata:a.getMetadataById(a.metadata2,"LOCATION")}),e.sina._createSearchResultSetItemAttribute({id:"SCIENTIST",valueHighlighted:"",isHighlighted:false,label:"Scientist",value:"Alan Cameron",valueFormatted:"Alan Cameron",metadata:a.getMetadataById(a.metadata2,"SCIENTIST")}),e.sina._createSearchResultSetItemAttribute({id:"sightinglocation",valueHighlighted:"",isHighlighted:false,label:"Gbekli Tepe, anlurfa",value:'{ "type": "Point", "coordinates": [38.855842, 37.217718] }',valueFormatted:'{ "type": "Point", "coordinates": [38.855842, 37.217718] }',metadata:a.getMetadataById(a.metadata2,"LOC_4326")}),e.sina._createSearchResultSetItemAttribute({id:"DESC",valueHighlighted:"",isHighlighted:false,label:"Summary",value:"11,000 year old stone structures that predate stonehenge by 6,000 years - crafted and arranged by prehistoric people who had not yet developed metal tools or even pottery; but no evidence that people resided there.",valueFormatted:"11,000 year old stone structures that predate stonehenge by 6,000 years - crafted and arranged by prehistoric people who had not yet developed metal tools or even pottery; but no evidence that people resided there.",metadata:a.getMetadataById(a.metadata2,"SCIENTIST")}),e.sina._createSearchResultSetItemAttribute({id:"PIC",valueHighlighted:"",isHighlighted:false,label:"Picture",value:"/resources/sap/esh/search/ui/sinaNexTS/providers/sample/images/Goebekli_Tepe_Urfa.jpg",valueFormatted:"/resources/sap/esh/search/ui/sinaNexTS/providers/sample/images/Goebekli_Tepe_Urfa.jpg",metadata:a.getMetadataById(a.metadata2,"PIC")})];a.searchResultSetItemArray2.push(e.sina._createSearchResultSetItem({attributes:[],dataSource:e.sina.getDataSource("Mysterious_Sightings"),titleAttributes:i,detailAttributes:l,titleDescriptionAttributes:[],defaultNavigationTarget:e.sina.createNavigationTarget({text:"Gobekli Tepe: The World's First Temple?",targetUrl:"https://www.smithsonianmag.com/history/gobekli-tepe-the-worlds-first-temple-83613665/",target:"_blank"})}))}return a}var i={__esModule:true};i.createTemplate=a;return i})})();
},
	"sap/esh/search/ui/sinaNexTS/providers/sample/template_details_folklorists.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){sap.ui.define([],function(){"use strict";function e(e,a){const t={george:[e.sina._createSearchResultSetItemAttribute({id:"SALARY",valueHighlighted:"",isHighlighted:false,label:"Salary",value:"2800",valueFormatted:"1000.00",metadata:a.getMetadataById(a.metadata,"SALARY"),unitOfMeasure:e.sina._createSearchResultSetItemAttribute({id:"CURRENCY",valueHighlighted:"",isHighlighted:false,label:"Currency",value:"Euro",valueFormatted:"",metadata:a.getMetadataById(a.metadata,"CURRENCY")})}),e.sina._createSearchResultSetItemAttribute({id:"HEIGHT",valueHighlighted:"",isHighlighted:false,label:"Height",value:"175",valueFormatted:"175",metadata:a.getMetadataById(a.metadata,"HEIGHT"),unitOfMeasure:e.sina._createSearchResultSetItemAttribute({id:"UOM_HEIGHT",valueHighlighted:"",isHighlighted:false,label:"Unit of Measure for Height",value:"cm",valueFormatted:"cm",metadata:a.getMetadataById(a.metadata,"UOM_HEIGHT")})}),e.sina._createSearchResultSetItemAttribute({id:"LOCATION",valueHighlighted:"",isHighlighted:false,label:"Site Location",value:"Schaumburg, Illinois",valueFormatted:"Schaumburg, Illinois",metadata:a.getMetadataById(a.metadata,"LOCATION")}),e.sina._createSearchResultSetItemAttribute({id:"WEBSITE",valueHighlighted:"",isHighlighted:false,label:"Website",value:"https://www.abebooks.com/Journal-American-Folklore-Society-Vol-368/22552416159/bd",valueFormatted:"https://www.abebooks.com/Journal-American-Folklore-Society-Vol-368/22552416159/bd",metadata:a.getMetadataById(a.metadata,"WEBSITE")}),e.sina._createSearchResultSetItemAttribute({id:"SUMMARY",valueHighlighted:"",isHighlighted:false,label:"Summary",value:"While most legends are based on rumors, embellished half truths or unsubstantiated claims, the legend of aligators in the sewers can be traced back to historical documentation.",valueFormatted:"While most legends are based on rumors, embellished half truths or unsubstantiated claims, the legend of aligators in the sewers can be traced back to historical documentation.",metadata:a.getMetadataById(a.metadata,"SUMMARY")}),e.sina._createSearchResultSetItemAttribute({id:"PHONE",valueHighlighted:"",isHighlighted:false,label:"Phone",value:"+1 212 6539539",valueFormatted:"+1 212 6539539",metadata:a.getMetadataById(a.metadata,"PHONE")}),e.sina._createSearchResultSetItemAttribute({id:"EMAIL",valueHighlighted:"",isHighlighted:false,label:"Contact",value:"andrew.mccain@example.com",valueFormatted:"andrew.mccain@example.com",metadata:a.getMetadataById(a.metadata,"EMAIL")}),e.sina._createSearchResultSetItemAttribute({id:"fieldoffice",valueHighlighted:"",isHighlighted:false,label:"Andrew McCain (Field Office, Schaumburg, Illinois",value:'{ "type": "Point", "coordinates": [-69.040601, 47.082589] }',valueFormatted:'{ "type": "Point", "coordinates": [-69.040601, 47.082589] }',defaultNavigationTarget:e.sina.createNavigationTarget({text:"Send Mail",targetUrl:"mailto:andrew.mccain@example.com"}),metadata:a.getMetadataById(a.metadata,"LOC_4326")}),e.sina._createSearchResultSetItemAttribute({id:"DISCIPLINE",valueHighlighted:"",isHighlighted:false,label:"Discipline",value:"Alligator Legends",valueFormatted:"Alligator Legends",metadata:a.getMetadataById(a.metadata,"DISCIPLINE")}),e.sina._createSearchResultSetItemAttribute({id:"SEX",valueHighlighted:"",isHighlighted:false,label:"Sex",value:"",valueFormatted:"",metadata:a.getMetadataById(a.metadata,"SEX"),description:e.sina._createSearchResultSetItemAttribute({id:"SEX_DESC",valueHighlighted:"",isHighlighted:false,label:"Description for Gender",value:"Male",valueFormatted:"Male",metadata:a.getMetadataById(a.metadata,"SEX_DESC")})}),e.sina._createSearchResultSetItemAttribute({id:"PUBLICATION",valueHighlighted:"",isHighlighted:false,label:"Publication",value:"/resources/sap/esh/search/ui/sinaNexTS/providers/sample/images/suv_thumbnail.jpg",valueFormatted:"/resources/sap/esh/search/ui/sinaNexTS/providers/sample/images/suv_thumbnail.jpg",metadata:a.getMetadataById(a.metadata,"PUB")})],shira:[e.sina._createSearchResultSetItemAttribute({id:"SALARY",valueHighlighted:"",isHighlighted:false,label:"Salary",value:"3000",valueFormatted:"3000.00",metadata:a.getMetadataById(a.metadata,"SALARY"),unitOfMeasure:e.sina._createSearchResultSetItemAttribute({id:"CURRENCY",valueHighlighted:"",isHighlighted:false,label:"Currency",value:"Euro",valueFormatted:"",metadata:a.getMetadataById(a.metadata,"CURRENCY")})}),e.sina._createSearchResultSetItemAttribute({id:"HEIGHT",valueHighlighted:"",isHighlighted:false,label:"Height",value:"188",valueFormatted:"188",metadata:a.getMetadataById(a.metadata,"HEIGHT"),unitOfMeasure:e.sina._createSearchResultSetItemAttribute({id:"UOM_HEIGHT",valueHighlighted:"",isHighlighted:false,label:"Unit of Measure for Height",value:"cm",valueFormatted:"cm",metadata:a.getMetadataById(a.metadata,"UOM_HEIGHT")})}),e.sina._createSearchResultSetItemAttribute({id:"LOCATION",valueHighlighted:"",isHighlighted:false,label:"Site Location",value:"University of Georgia",valueFormatted:"University of Georgia",metadata:a.getMetadataById(a.metadata,"LOCATION")}),e.sina._createSearchResultSetItemAttribute({id:"fieldoffice",valueHighlighted:"",isHighlighted:false,label:"Carol Mandelbaum (Offices)",value:'{ "type": "Point", "coordinates": [-118.236036, 34.050492] }',valueFormatted:'{ "type": "Point", "coordinates": [-118.236036, 34.050492] }',metadata:a.getMetadataById(a.metadata,"LOC_4326")}),e.sina._createSearchResultSetItemAttribute({id:"DISCIPLINE",valueHighlighted:"",isHighlighted:false,label:"Discipline",value:"Entertainment and Media Studies",valueFormatted:"Entertainment and Media Studies",metadata:a.getMetadataById(a.metadata,"DISCIPLINE")}),e.sina._createSearchResultSetItemAttribute({id:"SEX",valueHighlighted:"",isHighlighted:false,label:"Sex",value:"",valueFormatted:"",metadata:a.getMetadataById(a.metadata,"SEX"),description:e.sina._createSearchResultSetItemAttribute({id:"SEX_DESC",valueHighlighted:"",isHighlighted:false,label:"Description for Gender",value:"Female",valueFormatted:"Female",metadata:a.getMetadataById(a.metadata,"SEX_DESC")})}),e.sina._createSearchResultSetItemAttribute({id:"PIC",valueHighlighted:"",isHighlighted:false,label:"Picture",value:"/resources/sap/esh/search/ui/sinaNexTS/providers/sample/images/folklorist_chess.jpg",valueFormatted:"/resources/sap/esh/search/ui/sinaNexTS/providers/sample/images/folklorist_chess.jpg",metadata:a.getMetadataById(a.metadata,"PIC")})],benjamin:[e.sina._createSearchResultSetItemAttribute({id:"SALARY",valueHighlighted:"",isHighlighted:false,label:"Salary",value:"3200",valueFormatted:"3200.00",metadata:a.getMetadataById(a.metadata,"SALARY"),unitOfMeasure:e.sina._createSearchResultSetItemAttribute({id:"CURRENCY",valueHighlighted:"",isHighlighted:false,label:"Currency",value:"Euro",valueFormatted:"",metadata:a.getMetadataById(a.metadata,"CURRENCY")})}),e.sina._createSearchResultSetItemAttribute({id:"HEIGHT",valueHighlighted:"",isHighlighted:false,label:"Height",value:"165",valueFormatted:"165",metadata:a.getMetadataById(a.metadata,"HEIGHT"),unitOfMeasure:e.sina._createSearchResultSetItemAttribute({id:"UOM_HEIGHT",valueHighlighted:"",isHighlighted:false,label:"Unit of Measure for Height",value:"cm",valueFormatted:"cm",metadata:a.getMetadataById(a.metadata,"UOM_HEIGHT")})}),e.sina._createSearchResultSetItemAttribute({id:"LOCATION",valueHighlighted:"",isHighlighted:false,label:"Site Location",value:"Center for Inquiry (CFI), Amherst, New York",valueFormatted:"Center for Inquiry (CFI), Amherst, New York",metadata:a.getMetadataById(a.metadata,"LOCATION")}),e.sina._createSearchResultSetItemAttribute({id:"fieldoffice",valueHighlighted:"",isHighlighted:false,label:"Center for Inquiry (CFI), Amherst, New York",value:'{ "type": "Point", "coordinates": [-73.995589, 40.730355] }',valueFormatted:'{ "type": "Point", "coordinates": [-73.995589, 40.730355] }',metadata:a.getMetadataById(a.metadata,"LOC_4326")}),e.sina._createSearchResultSetItemAttribute({id:"DISCIPLINE",valueHighlighted:"",isHighlighted:false,label:"Discipline",value:"Paranormal Investigations",valueFormatted:"Paranormal Investigations",metadata:a.getMetadataById(a.metadata,"DISCIPLINE")}),e.sina._createSearchResultSetItemAttribute({id:"SEX",valueHighlighted:"",isHighlighted:false,label:"Sex",value:"",valueFormatted:"",metadata:a.getMetadataById(a.metadata,"SEX"),description:e.sina._createSearchResultSetItemAttribute({id:"SEX_DESC",valueHighlighted:"",isHighlighted:false,label:"Description for Gender",value:"Male",valueFormatted:"Male",metadata:a.getMetadataById(a.metadata,"SEX_DESC")})}),e.sina._createSearchResultSetItemAttribute({id:"PIC",valueHighlighted:"",isHighlighted:false,label:"Picture",value:"/resources/sap/esh/search/ui/sinaNexTS/providers/sample/images/folklorist_radford.jpg",valueFormatted:"/resources/sap/esh/search/ui/sinaNexTS/providers/sample/images/folklorist_radford.jpg",metadata:a.getMetadataById(a.metadata,"PIC")})],richard:[e.sina._createSearchResultSetItemAttribute({id:"SALARY",valueHighlighted:"",isHighlighted:false,label:"Salary",value:"2100",valueFormatted:"2100.00",metadata:a.getMetadataById(a.metadata,"SALARY"),unitOfMeasure:e.sina._createSearchResultSetItemAttribute({id:"CURRENCY",valueHighlighted:"",isHighlighted:false,label:"Currency",value:"Euro",valueFormatted:"",metadata:a.getMetadataById(a.metadata,"CURRENCY")})}),e.sina._createSearchResultSetItemAttribute({id:"HEIGHT",valueHighlighted:"",isHighlighted:false,label:"Height",value:"182",valueFormatted:"182",metadata:a.getMetadataById(a.metadata,"HEIGHT"),unitOfMeasure:e.sina._createSearchResultSetItemAttribute({id:"UOM_HEIGHT",valueHighlighted:"",isHighlighted:false,label:"Unit of Measure for Height",value:"cm",valueFormatted:"cm",metadata:a.getMetadataById(a.metadata,"UOM_HEIGHT")})}),e.sina._createSearchResultSetItemAttribute({id:"LOCATION",valueHighlighted:"",isHighlighted:false,label:"Site Location",value:"Cripple Creek, Colorado",valueFormatted:"Cripple Creek, Colorado",metadata:a.getMetadataById(a.metadata,"LOCATION")}),e.sina._createSearchResultSetItemAttribute({id:"fieldoffice",valueHighlighted:"",isHighlighted:false,label:"University of California, Berkeley",value:'{ "type": "Point", "coordinates": [-1.387958, 50.933494] }',valueFormatted:'{ "type": "Point", "coordinates": [-1.387958, 50.933494] }',metadata:a.getMetadataById(a.metadata,"LOC_4326")}),e.sina._createSearchResultSetItemAttribute({id:"DISCIPLINE",valueHighlighted:"",isHighlighted:false,label:"Discipline",value:"Anthropologist",valueFormatted:"Anthropologist",metadata:a.getMetadataById(a.metadata,"DISCIPLINE")}),e.sina._createSearchResultSetItemAttribute({id:"SEX",valueHighlighted:"",isHighlighted:false,label:"Sex",value:"",valueFormatted:"",metadata:a.getMetadataById(a.metadata,"SEX"),description:e.sina._createSearchResultSetItemAttribute({id:"SEX_DESC",valueHighlighted:"",isHighlighted:false,label:"Description for Gender",value:"Male",valueFormatted:"Male",metadata:a.getMetadataById(a.metadata,"SEX_DESC")})}),e.sina._createSearchResultSetItemAttribute({id:"PIC",valueHighlighted:"",isHighlighted:false,label:"Picture",value:"/resources/sap/esh/search/ui/sinaNexTS/providers/sample/images/folklorist_beardfy.jpg",valueFormatted:"/resources/sap/esh/search/ui/sinaNexTS/providers/sample/images/folklorist_beardsley.jpg",metadata:a.getMetadataById(a.metadata,"PIC")})],rosalie:[e.sina._createSearchResultSetItemAttribute({id:"SALARY",valueHighlighted:"",isHighlighted:false,label:"Salary",value:"1500",valueFormatted:"1500.00",metadata:a.getMetadataById(a.metadata,"SALARY"),unitOfMeasure:e.sina._createSearchResultSetItemAttribute({id:"CURRENCY",valueHighlighted:"",isHighlighted:false,label:"Currency",value:"Euro",valueFormatted:"",metadata:a.getMetadataById(a.metadata,"CURRENCY")})}),e.sina._createSearchResultSetItemAttribute({id:"HEIGHT",valueHighlighted:"",isHighlighted:false,label:"Height",value:"195",valueFormatted:"195",metadata:a.getMetadataById(a.metadata,"HEIGHT"),unitOfMeasure:e.sina._createSearchResultSetItemAttribute({id:"UOM_HEIGHT",valueHighlighted:"",isHighlighted:false,label:"Unit of Measure for Height",value:"cm",valueFormatted:"cm",metadata:a.getMetadataById(a.metadata,"UOM_HEIGHT")})}),e.sina._createSearchResultSetItemAttribute({id:"LOCATION",valueHighlighted:"",isHighlighted:false,label:"Birthplace",value:"Des Plaines, Illinois",valueFormatted:"Des Plaines, Illinois",metadata:a.getMetadataById(a.metadata,"LOCATION")}),e.sina._createSearchResultSetItemAttribute({id:"fieldoffice",valueHighlighted:"",isHighlighted:false,label:"Tulelake, California",value:'{ "type": "Point", "coordinates": [11.016959, 49.600319] }',valueFormatted:'{ "type": "Point", "coordinates": [11.016959, 49.600319] }',metadata:a.getMetadataById(a.metadata,"LOC_4326")}),e.sina._createSearchResultSetItemAttribute({id:"DISCIPLINE",valueHighlighted:"",isHighlighted:false,label:"Discipline",value:"Applied Anthropology",valueFormatted:"Applied Anthropology",metadata:a.getMetadataById(a.metadata,"DISCIPLINE")}),e.sina._createSearchResultSetItemAttribute({id:"SEX",valueHighlighted:"",isHighlighted:false,label:"Sex",value:"",valueFormatted:"",metadata:a.getMetadataById(a.metadata,"SEX"),description:e.sina._createSearchResultSetItemAttribute({id:"SEX_DESC",valueHighlighted:"",isHighlighted:false,label:"Description for Gender",value:"Female",valueFormatted:"Female",metadata:a.getMetadataById(a.metadata,"SEX_DESC")})}),e.sina._createSearchResultSetItemAttribute({id:"PIC",valueHighlighted:"",isHighlighted:false,label:"Picture",value:"/resources/sap/esh/search/ui/sinaNexTS/providers/sample/images/folklorist_handkey.jpg",valueFormatted:"/resources/sap/esh/search/ui/sinaNexTS/providers/sample/images/folklorist_handkey.jpg",metadata:a.getMetadataById(a.metadata,"PIC")})],bill:[e.sina._createSearchResultSetItemAttribute({id:"SALARY",valueHighlighted:"",isHighlighted:false,label:"Salary",value:"1500",valueFormatted:"1500.00",metadata:a.getMetadataById(a.metadata,"SALARY"),unitOfMeasure:e.sina._createSearchResultSetItemAttribute({id:"CURRENCY",valueHighlighted:"",isHighlighted:false,label:"Currency",value:"Euro",valueFormatted:"",metadata:a.getMetadataById(a.metadata,"CURRENCY")})}),e.sina._createSearchResultSetItemAttribute({id:"HEIGHT",valueHighlighted:"",isHighlighted:false,label:"Height",value:"195",valueFormatted:"195",metadata:a.getMetadataById(a.metadata,"HEIGHT"),unitOfMeasure:e.sina._createSearchResultSetItemAttribute({id:"UOM_HEIGHT",valueHighlighted:"",isHighlighted:false,label:"Unit of Measure for Height",value:"cm",valueFormatted:"cm",metadata:a.getMetadataById(a.metadata,"UOM_HEIGHT")})}),e.sina._createSearchResultSetItemAttribute({id:"LOCATION",valueHighlighted:"",isHighlighted:false,label:"Birthplace",value:"Bundaberg, Australia",valueFormatted:"Bundaberg, Australia",metadata:a.getMetadataById(a.metadata,"LOCATION")}),e.sina._createSearchResultSetItemAttribute({id:"fieldoffice",valueHighlighted:"",isHighlighted:false,label:"A small town north of Sydney",value:'{ "type": "Point", "coordinates": [11.016959, 49.600319] }',valueFormatted:'{ "type": "Point", "coordinates": [11.016959, 49.600319] }',metadata:a.getMetadataById(a.metadata,"LOC_4326")}),e.sina._createSearchResultSetItemAttribute({id:"DISCIPLINE",valueHighlighted:"",isHighlighted:false,label:"Discipline",value:"Author and folklorist",valueFormatted:"Author and folklorist",metadata:a.getMetadataById(a.metadata,"DISCIPLINE")}),e.sina._createSearchResultSetItemAttribute({id:"SEX",valueHighlighted:"",isHighlighted:false,label:"Sex",value:"",valueFormatted:"",metadata:a.getMetadataById(a.metadata,"SEX"),description:e.sina._createSearchResultSetItemAttribute({id:"SEX_DESC",valueHighlighted:"",isHighlighted:false,label:"Description for Gender",value:"Male",valueFormatted:"Male",metadata:a.getMetadataById(a.metadata,"SEX_DESC")})}),e.sina._createSearchResultSetItemAttribute({id:"PIC",valueHighlighted:"",isHighlighted:false,label:"Picture",value:"/resources/sap/esh/search/ui/sinaNexTS/providers/sample/images/scott.jpg",valueFormatted:"/resources/sap/esh/search/ui/sinaNexTS/providers/sample/images/scott.jpg",metadata:a.getMetadataById(a.metadata,"PIC")})],fureys:[e.sina._createSearchResultSetItemAttribute({id:"SALARY",valueHighlighted:"",isHighlighted:false,label:"Salary",value:"15000",valueFormatted:"15000.00",metadata:a.getMetadataById(a.metadata,"SALARY"),unitOfMeasure:e.sina._createSearchResultSetItemAttribute({id:"CURRENCY",valueHighlighted:"",isHighlighted:false,label:"Currency",value:"Euro",valueFormatted:"",metadata:a.getMetadataById(a.metadata,"CURRENCY")})}),e.sina._createSearchResultSetItemAttribute({id:"HEIGHT",valueHighlighted:"",isHighlighted:false,label:"Height",value:"192",valueFormatted:"192",metadata:a.getMetadataById(a.metadata,"HEIGHT"),unitOfMeasure:e.sina._createSearchResultSetItemAttribute({id:"UOM_HEIGHT",valueHighlighted:"",isHighlighted:false,label:"Unit of Measure for Height",value:"cm",valueFormatted:"cm",metadata:a.getMetadataById(a.metadata,"UOM_HEIGHT")})}),e.sina._createSearchResultSetItemAttribute({id:"LOCATION",valueHighlighted:"",isHighlighted:false,label:"Birthplace",value:"Dublin",valueFormatted:"Dublin",metadata:a.getMetadataById(a.metadata,"LOCATION")}),e.sina._createSearchResultSetItemAttribute({id:"fieldoffice",valueHighlighted:"",isHighlighted:false,label:"A small town north of Sydney",value:'{ "type": "Point", "coordinates": [53.34528, -6.35889] }',valueFormatted:'{ "type": "Point", "coordinates": [53.34528, -6.35889] }',metadata:a.getMetadataById(a.metadata,"LOC_4326")}),e.sina._createSearchResultSetItemAttribute({id:"DISCIPLINE",valueHighlighted:"",isHighlighted:false,label:"Discipline",value:"Folk Band",valueFormatted:"Folk Band",metadata:a.getMetadataById(a.metadata,"DISCIPLINE")}),e.sina._createSearchResultSetItemAttribute({id:"SEX",valueHighlighted:"",isHighlighted:false,label:"Sex",value:"",valueFormatted:"",metadata:a.getMetadataById(a.metadata,"SEX"),description:e.sina._createSearchResultSetItemAttribute({id:"SEX_DESC",valueHighlighted:"",isHighlighted:false,label:"Description for Gender",value:"Male",valueFormatted:"Male",metadata:a.getMetadataById(a.metadata,"SEX_DESC")})}),e.sina._createSearchResultSetItemAttribute({id:"PIC",valueHighlighted:"",isHighlighted:false,label:"Picture",value:"https://en.wikipedia.org/wiki/The_Fureys#/media/File:Finbar_&_Eddie_Furey.jpg",valueFormatted:"https://en.wikipedia.org/wiki/The_Fureys#/media/File:Finbar_&_Eddie_Furey.jpg",metadata:a.getMetadataById(a.metadata,"PIC")})]};return t}var a={__esModule:true};a.createTemplateDetails=e;return a})})();
},
	"sap/esh/search/ui/sinaNexTS/providers/sample/template_details_legends.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){sap.ui.define([],function(){"use strict";function e(e,a){const t={alligator:[e.sina._createSearchResultSetItemAttribute({id:"SALARY",valueHighlighted:"",isHighlighted:false,label:"Salary",value:"5123",valueFormatted:"5123.00",metadata:a.getMetadataById(a.metadata,"SALARY"),unitOfMeasure:e.sina._createSearchResultSetItemAttribute({id:"CURRENCY",valueHighlighted:"",isHighlighted:false,label:"Currency",value:"Euro",valueFormatted:"",metadata:a.getMetadataById(a.metadata,"CURRENCY")})}),e.sina._createSearchResultSetItemAttribute({id:"HEIGHT",valueHighlighted:"",isHighlighted:false,label:"Height",value:"169",valueFormatted:"169",metadata:a.getMetadataById(a.metadata,"HEIGHT"),unitOfMeasure:e.sina._createSearchResultSetItemAttribute({id:"UOM_HEIGHT",valueHighlighted:"",isHighlighted:false,label:"Unit of Measure for Height",value:"cm",valueFormatted:"cm",metadata:a.getMetadataById(a.metadata,"UOM_HEIGHT")})}),e.sina._createSearchResultSetItemAttribute({id:"DESC",valueHighlighted:"",isHighlighted:false,label:"Quote",value:'In "The World Beneath The City" (1959), Robert Daley describes the history of the problems encountered while developing the network of utilities beneath Manhattan island, and reports that sewer inspectors first saw aligators in 1935, and that their average length was about 2 feet.',valueFormatted:'In "The World Beneath The City" (1959), Robert Daley describes the history of the problems encountered while developing the network of utilities beneath Manhattan island, and reports that sewer inspectors first saw aligators in 1935, and that their average length was about 2 feet.',metadata:a.getMetadataById(a.metadata2,"DESC")}),e.sina._createSearchResultSetItemAttribute({id:"LOCATION",valueHighlighted:"",isHighlighted:false,label:"Location",value:"NYC",valueFormatted:"NYC",metadata:a.getMetadataById(a.metadata2,"LOCATION")}),e.sina._createSearchResultSetItemAttribute({id:"sightinglocation",valueHighlighted:"",isHighlighted:false,label:"New York City",value:'{ "type": "Point", "coordinates": [-91.132139, -0.828628] }',valueFormatted:'{ "type": "Point", "coordinates": [-91.132139, -0.828628] }',metadata:a.getMetadataById(a.metadata2,"LOC_4326")}),e.sina._createSearchResultSetItemAttribute({id:"FOLKLORIST",valueHighlighted:"",isHighlighted:false,label:"Folklorist",value:"Andrew McCain",valueFormatted:"Andrew McCain",metadata:a.getMetadataById(a.metadata2,"FOLKLORIST")}),e.sina._createSearchResultSetItemAttribute({id:"PIC",valueHighlighted:"",isHighlighted:false,label:"Picture",value:"/resources/sap/esh/search/ui/sinaNexTS/providers/sample/images/alligator.jpg",valueFormatted:"/resources/sap/esh/search/ui/sinaNexTS/providers/sample/images/alligator.jpg",metadata:a.getMetadataById(a.metadata2,"PIC")})],slenderman:[e.sina._createSearchResultSetItemAttribute({id:"SALARY",valueHighlighted:"",isHighlighted:false,label:"Salary",value:"4300",valueFormatted:"4300.00",metadata:a.getMetadataById(a.metadata,"SALARY"),unitOfMeasure:e.sina._createSearchResultSetItemAttribute({id:"CURRENCY",valueHighlighted:"",isHighlighted:false,label:"Currency",value:"Euro",valueFormatted:"",metadata:a.getMetadataById(a.metadata,"CURRENCY")})}),e.sina._createSearchResultSetItemAttribute({id:"HEIGHT",valueHighlighted:"",isHighlighted:false,label:"Height",value:"171",valueFormatted:"171",metadata:a.getMetadataById(a.metadata,"HEIGHT"),unitOfMeasure:e.sina._createSearchResultSetItemAttribute({id:"UOM_HEIGHT",valueHighlighted:"",isHighlighted:false,label:"Unit of Measure for Height",value:"cm",valueFormatted:"cm",metadata:a.getMetadataById(a.metadata,"UOM_HEIGHT")})}),e.sina._createSearchResultSetItemAttribute({id:"LOCATION",valueHighlighted:"",isHighlighted:false,label:"Location",value:"University of Georgia",valueFormatted:"University of Georgia",metadata:a.getMetadataById(a.metadata2,"LOCATION")}),e.sina._createSearchResultSetItemAttribute({id:"FOLKLORIST",valueHighlighted:"",isHighlighted:false,label:"Folklorist",value:"Carol Mandelbaum",valueFormatted:"Carol Mandelbaum",metadata:a.getMetadataById(a.metadata2,"FOLKLORIST")}),e.sina._createSearchResultSetItemAttribute({id:"sightinglocation",valueHighlighted:"",isHighlighted:false,label:"University of Georgia",value:'{ "type": "Point", "coordinates": [35.102514, 34.824097] }',valueFormatted:'{ "type": "Point", "coordinates": [35.102514, 34.824097] }',metadata:a.getMetadataById(a.metadata2,"LOC_4326")}),e.sina._createSearchResultSetItemAttribute({id:"DESC",valueHighlighted:"",isHighlighted:false,label:"Summary",value:"Slender Man is a fictional character that originated as an Internet meme created by Something Awful forums user Victor Surge in 2009, depicted as a thin, unnaturally tall man with a blank and usually featureless face and wearing a black suit, commonly said to stalk, abduct, or traumatize people, particularly children.",valueFormatted:"Slender Man is a fictional character that originated as an Internet meme created by Something Awful forums user Victor Surge in 2009, depicted as a thin, unnaturally tall man with a blank and usually featureless face and wearing a black suit, commonly said to stalk, abduct, or traumatize people, particularly children.",metadata:a.getMetadataById(a.metadata2,"DESC")}),e.sina._createSearchResultSetItemAttribute({id:"PIC",valueHighlighted:"",isHighlighted:false,label:"Picture",value:"/resources/sap/esh/search/ui/sinaNexTS/providers/sample/images/slender_man.jpg",valueFormatted:"/resources/sap/esh/search/ui/sinaNexTS/providers/sample/images/slender_man.jpg",metadata:a.getMetadataById(a.metadata2,"PIC")})],chupacabra:[e.sina._createSearchResultSetItemAttribute({id:"LOCATION",valueHighlighted:"",isHighlighted:false,label:"Location",value:"Puerto Rico",valueFormatted:"Puerto Rico",metadata:a.getMetadataById(a.metadata2,"LOCATION")}),e.sina._createSearchResultSetItemAttribute({id:"FOLKLORIST",valueHighlighted:"",isHighlighted:false,label:"Folklorist",value:"Ryan Anderson",valueFormatted:"Ryan Anderson",metadata:a.getMetadataById(a.metadata2,"FOLKLORIST")}),e.sina._createSearchResultSetItemAttribute({id:"sightinglocation",valueHighlighted:"",isHighlighted:false,label:"Chupacabra, sighting, Puerto Rico",value:'{ "type": "Point", "coordinates": [36.199993, 33.999453] }',valueFormatted:'{ "type": "Point", "coordinates": [36.199993, 33.999453] }',metadata:a.getMetadataById(a.metadata2,"LOC_4326")}),e.sina._createSearchResultSetItemAttribute({id:"DESC",valueHighlighted:"",isHighlighted:false,label:"Summary",value:"The first sightings of the Chupacabra were reported in Puerto Rico. The name originates from the their reported habit of attacking and drinking the blood of livestock, including goats.",valueFormatted:"The first sightings of the Chupacabra were reported in Puerto Rico. The name originates from the their reported habit of attacking and drinking the blood of livestock, including goats.",metadata:a.getMetadataById(a.metadata2,"DESC")}),e.sina._createSearchResultSetItemAttribute({id:"PIC",valueHighlighted:"",isHighlighted:false,label:"Picture",value:"/resources/sap/esh/search/ui/sinaNexTS/providers/sample/images/chupacabra.jpg",valueFormatted:"/resources/sap/esh/search/ui/sinaNexTS/providers/sample/images/chupacabra.jpg",metadata:a.getMetadataById(a.metadata2,"PIC")})],hitchhiker:[e.sina._createSearchResultSetItemAttribute({id:"LOCATION",valueHighlighted:"",isHighlighted:false,label:"Location",value:"University of California, Berkeley",valueFormatted:"University of California, Berkeley",metadata:a.getMetadataById(a.metadata2,"LOCATION")}),e.sina._createSearchResultSetItemAttribute({id:"FOLKLORIST",valueHighlighted:"",isHighlighted:false,label:"Folklorist",value:"Cynthia MacDonald",valueFormatted:"Cynthia MacDonald",metadata:a.getMetadataById(a.metadata2,"FOLKLORIST")}),e.sina._createSearchResultSetItemAttribute({id:"sightinglocation",valueHighlighted:"",isHighlighted:false,label:"University of California, Berkeley",value:'{ "type": "Point", "coordinates": [36.204944, 34.006899] }',valueFormatted:'{ "type": "Point", "coordinates": [36.204944, 34.006899] }',metadata:a.getMetadataById(a.metadata2,"LOC_4326")}),e.sina._createSearchResultSetItemAttribute({id:"DESC",valueHighlighted:"",isHighlighted:false,label:"Summary",value:"People traveling by vehicle encounter a hitchhiker who later vanishes without explanation, sometimes from the moving vehicle. The vanishing hitchhiker can also leave information that encourages the motorist to later try to make contact with them.",valueFormatted:"People traveling by vehicle encounter a hitchhiker who later vanishes without explanation, sometimes from the moving vehicle. The vanishing hitchhiker can also leave information that encourages the motorist to later try to make contact with them.",metadata:a.getMetadataById(a.metadata2,"DESC")}),e.sina._createSearchResultSetItemAttribute({id:"PIC",valueHighlighted:"",isHighlighted:false,label:"Picture",value:"/resources/sap/esh/search/ui/sinaNexTS/providers/sample/images/hitchhiker.jpg",valueFormatted:"/resources/sap/esh/search/ui/sinaNexTS/providers/sample/images/hitchhiker.jpg",metadata:a.getMetadataById(a.metadata2,"PIC")})],hitchhiker2:[e.sina._createSearchResultSetItemAttribute({id:"LOCATION",valueHighlighted:"",isHighlighted:false,label:"Location",value:"Cripple Creek, Colorado",valueFormatted:"Cripple Creek, Colorado",metadata:a.getMetadataById(a.metadata2,"LOCATION")}),e.sina._createSearchResultSetItemAttribute({id:"FOLKLORIST",valueHighlighted:"",isHighlighted:false,label:"Folklorist",value:"Simon Kingston",valueFormatted:"Simon Kingston",metadata:a.getMetadataById(a.metadata2,"FOLKLORIST")}),e.sina._createSearchResultSetItemAttribute({id:"sightinglocation",valueHighlighted:"",isHighlighted:false,label:"Wycliffe Well, NT, Australia",value:'{ "type": "Point", "coordinates": [134.236761, -20.795279] }',valueFormatted:'{ "type": "Point", "coordinates": [134.236761, -20.795279] }',metadata:a.getMetadataById(a.metadata2,"LOC_4326")}),e.sina._createSearchResultSetItemAttribute({id:"DESC",valueHighlighted:"",isHighlighted:false,label:"Summary",value:'The general public became widely aware of the legend after the publication of the book "The Vanishing Hitchhiker" (1981) in which the author, Harold Brunvan, suggests that the legend can be traced as far back as the 1870s and has parallels in Korea, Russia, China, and among Mormons and people living in Arkansas mountains.',valueFormatted:'The general public became widely aware of the legend after the publication of the book "The Vanishing Hitchhiker" (1981) in which the author, Harold Brunvan, suggests that the legend can be traced as far back as the 1870s and has parallels in Korea, Russia, China, and among Mormons and people living in Arkansas mountains.',metadata:a.getMetadataById(a.metadata2,"DESC")}),e.sina._createSearchResultSetItemAttribute({id:"PIC",valueHighlighted:"",isHighlighted:false,label:"Picture",value:"/resources/sap/esh/search/ui/sinaNexTS/providers/sample/images/vanishing.jpg",valueFormatted:"/resources/sap/esh/search/ui/sinaNexTS/providers/sample/images/vanishing.jpg",metadata:a.getMetadataById(a.metadata2,"PIC")})],babytrain:[e.sina._createSearchResultSetItemAttribute({id:"LOCATION",valueHighlighted:"",isHighlighted:false,label:"Location",value:"A Small Town",valueFormatted:"A Small Town",metadata:a.getMetadataById(a.metadata2,"LOCATION")}),e.sina._createSearchResultSetItemAttribute({id:"FOLKLORIST",valueHighlighted:"",isHighlighted:false,label:"Folklorist",value:"Douglas Milford",valueFormatted:"Douglas Milford",metadata:a.getMetadataById(a.metadata2,"FOLKLORIST")}),e.sina._createSearchResultSetItemAttribute({id:"sightinglocation",valueHighlighted:"",isHighlighted:false,label:"a little town on the coast, not too far north of Sydney",value:'{ "type": "Point", "coordinates": [38.855842, 37.217718] }',valueFormatted:'{ "type": "Point", "coordinates": [38.855842, 37.217718] }',metadata:a.getMetadataById(a.metadata2,"LOC_4326")}),e.sina._createSearchResultSetItemAttribute({id:"DESC",valueHighlighted:"",isHighlighted:false,label:"Summary",value:"Legend has it there was a small town which had an unusually high birth rate because a train would pass through the center of town at 5 am and blow its whistle, waking up all the townsfolk. Since it was too late to go back to sleep and too early to get up, residents passed the time by cuddling up. This resulted in a mini baby-boom.",valueFormatted:"Legend has it there was a small town which had an unusually high birth rate because a train would pass through the center of town at 5 am and blow its whistle, waking up all the townsfolk. Since it was too late to go back to sleep and too early to get up, residents passed the time by cuddling up. This resulted in a mini baby-boom.",metadata:a.getMetadataById(a.metadata2,"FOLKLORIST")}),e.sina._createSearchResultSetItemAttribute({id:"PIC",valueHighlighted:"",isHighlighted:false,label:"Picture",value:"/resources/sap/esh/search/ui/sinaNexTS/providers/sample/images/babytrain.jpg",valueFormatted:"/resources/sap/esh/search/ui/sinaNexTS/providers/sample/images/babytrain.jpg",metadata:a.getMetadataById(a.metadata2,"PIC")})]};return t}var a={__esModule:true};a.createTemplateDetails=e;return a})})();
},
	"sap/esh/search/ui/sinaNexTS/providers/sample/template_details_publications.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){sap.ui.define([],function(){"use strict";function e(e,a){const t={alligatorbook:[e.sina._createSearchResultSetItemAttribute({id:"PUBLICATION",valueHighlighted:"",isHighlighted:false,label:"Publication",value:"/resources/sap/esh/search/ui/sinaNexTS/providers/sample/images/suv_thumbnail.jpg",valueFormatted:"/resources/sap/esh/search/ui/sinaNexTS/providers/sample/images/suv_thumbnail.jpg",metadata:a.getMetadataById(a.metadata3,"PUB")}),e.sina._createSearchResultSetItemAttribute({id:"DESC",valueHighlighted:"",isHighlighted:false,label:"Quote",value:'Robert Daley\'s "The World Beneath The City" (1959), a history of the problems said aware to be involved in developing the network of utilities beneath Manhattan island, aware of reports that sewer inspectors first saw aligators in 1935, and confirms that their average length was about 2 feet. ',valueFormatted:'Robert Daley\'s "The World Beneath The City" (1959), a history of the problems said aware to be involved in developing the network of utilities beneath Manhattan island, aware of reports that sewer inspectors first saw aligators in 1935, and confirms that their average length was about 2 feet. ',metadata:a.getMetadataById(a.metadata3,"DESC")}),e.sina._createSearchResultSetItemAttribute({id:"FOLKLORIST",valueHighlighted:"",isHighlighted:false,label:"Folklorist",value:"Andrew McCain",valueFormatted:"Andrew McCain",metadata:a.getMetadataById(a.metadata3,"FOLKLORIST")})],slendermanbook:[e.sina._createSearchResultSetItemAttribute({id:"PUBLICATION",valueHighlighted:"",isHighlighted:false,label:"Publication",value:"/resources/sap/esh/search/ui/sinaNexTS/providers/sample/images/suv_thumbnail.jpg",valueFormatted:"/resources/sap/esh/search/ui/sinaNexTS/providers/sample/images/suv_thumbnail.jpg",metadata:a.getMetadataById(a.metadata3,"PUB")}),e.sina._createSearchResultSetItemAttribute({id:"FOLKLORIST",valueHighlighted:"",isHighlighted:false,label:"Folklorist",value:"Carol Mandelbaum",valueFormatted:"Carol Mandelbaum",metadata:a.getMetadataById(a.metadata3,"FOLKLORIST")}),e.sina._createSearchResultSetItemAttribute({id:"DESC",valueHighlighted:"",isHighlighted:false,label:"Summary",value:"Slender Man is a fictional character that originated as an Internet meme created by Something Awful forums user Victor Surge in 2009, depicted as a thin, unnaturally tall man with a blank and usually featureless face and wearing a black suit, commonly said to stalk, abduct, or traumatize people, particularly children.",valueFormatted:"Slender Man is a fictional character that originated as an Internet meme created by Something Awful forums user Victor Surge in 2009, depicted as a thin, unnaturally tall man with a blank and usually featureless face and wearing a black suit, commonly said to stalk, abduct, or traumatize people, particularly children.",metadata:a.getMetadataById(a.metadata3,"DESC")})],chupacabrabook:[e.sina._createSearchResultSetItemAttribute({id:"PUBLICATION",valueHighlighted:"",isHighlighted:false,label:"Publication",value:"/resources/sap/esh/search/ui/sinaNexTS/providers/sample/images/suv_thumbnail.jpg",valueFormatted:"/resources/sap/esh/search/ui/sinaNexTS/providers/sample/images/suv_thumbnail.jpg",metadata:a.getMetadataById(a.metadata3,"PUB")}),e.sina._createSearchResultSetItemAttribute({id:"FOLKLORIST",valueHighlighted:"",isHighlighted:false,label:"Folklorist",value:"Ryan Anderson",valueFormatted:"Ryan Anderson",metadata:a.getMetadataById(a.metadata3,"FOLKLORIST")}),e.sina._createSearchResultSetItemAttribute({id:"DESC",valueHighlighted:"",isHighlighted:false,label:"Summary",value:" The first purported sightings were reported in Puerto Rico. The name comes from the animal's reported habit of attacking and drinking the blood of livestock, including goats.",valueFormatted:" The first purported sightings were reported in Puerto Rico. The name comes from the animal's reported habit of attacking and drinking the blood of livestock, including goats.",metadata:a.getMetadataById(a.metadata3,"DESC")})],hitchhikerbook:[e.sina._createSearchResultSetItemAttribute({id:"PUBLICATION",valueHighlighted:"",isHighlighted:false,label:"Publication",value:"/resources/sap/esh/search/ui/sinaNexTS/providers/sample/images/suv_thumbnail.jpg",valueFormatted:"/resources/sap/esh/search/ui/sinaNexTS/providers/sample/images/suv_thumbnail.jpg",metadata:a.getMetadataById(a.metadata3,"PUB")}),e.sina._createSearchResultSetItemAttribute({id:"FOLKLORIST",valueHighlighted:"",isHighlighted:false,label:"Folklorist",value:"Cynthia MacDonald",valueFormatted:"Cynthia MacDonald",metadata:a.getMetadataById(a.metadata3,"FOLKLORIST")}),e.sina._createSearchResultSetItemAttribute({id:"DESC",valueHighlighted:"",isHighlighted:false,label:"Summary",value:"People traveling by vehicle meet with or are accompanied by a hitchhiker who subsequently vanishes without explanation, often from a moving vehicle. The vanishing hitchhiker can also leave some form of information that encourages the motorist to make subsequent contact.",valueFormatted:"People traveling by vehicle meet with or are accompanied by a hitchhiker who subsequently vanishes without explanation, often from a moving vehicle. The vanishing hitchhiker can also leave some form of information that encourages the motorist to make subsequent contact.",metadata:a.getMetadataById(a.metadata3,"DESC")})],hitchhiker2book:[e.sina._createSearchResultSetItemAttribute({id:"PUBLICATION",valueHighlighted:"",isHighlighted:false,label:"Publication",value:"/resources/sap/esh/search/ui/sinaNexTS/providers/sample/images/suv_thumbnail.jpg",valueFormatted:"/resources/sap/esh/search/ui/sinaNexTS/providers/sample/images/suv_thumbnail.jpg",metadata:a.getMetadataById(a.metadata3,"PUB")}),e.sina._createSearchResultSetItemAttribute({id:"FOLKLORIST",valueHighlighted:"",isHighlighted:false,label:"Folklorist",value:"Simon Kingston",valueFormatted:"Simon Kingston",metadata:a.getMetadataById(a.metadata3,"FOLKLORIST")}),e.sina._createSearchResultSetItemAttribute({id:"DESC",valueHighlighted:"",isHighlighted:false,label:"Summary",value:'The general public became widely aware of the legend after the publication of the book "The Vanishing Hitchhiker" (1981) in which the author, Harold Brunvan, suggests that the legend can be traced as far back as the 1870s and has parallels in Korea, Russia, China, and among Mormons and people living in Arkansas mountains.',valueFormatted:'The general public became widely aware of the legend after the publication of the book "The Vanishing Hitchhiker" (1981) in which the author, Harold Brunvan, suggests that the legend can be traced as far back as the 1870s and has parallels in Korea, Russia, China, and among Mormons and people living in Arkansas mountains.',metadata:a.getMetadataById(a.metadata3,"DESC")})],babytrainbook:[e.sina._createSearchResultSetItemAttribute({id:"PUBLICATION",valueHighlighted:"",isHighlighted:false,label:"Publication",value:"/resources/sap/esh/search/ui/sinaNexTS/providers/sample/images/suv_thumbnail.jpg",valueFormatted:"/resources/sap/esh/search/ui/sinaNexTS/providers/sample/images/suv_thumbnail.jpg",metadata:a.getMetadataById(a.metadata3,"PUB")}),e.sina._createSearchResultSetItemAttribute({id:"FOLKLORIST",valueHighlighted:"",isHighlighted:false,label:"Folklorist",value:"Douglas Milford",valueFormatted:"Douglas Milford",metadata:a.getMetadataById(a.metadata3,"FOLKLORIST")}),e.sina._createSearchResultSetItemAttribute({id:"DESC",valueHighlighted:"",isHighlighted:false,label:"Summary",value:"Legend has it there was a small town which had an unusually high birth rate because a train would pass through the center of town at 5 am and blow its whistle, waking up all the townsfolk. Since it was too late to go back to sleep and too early to get up, residents passed the time by cuddling up. This resulted in a mini baby-boom.",valueFormatted:"Legend has it there was a small town which had an unusually high birth rate because a train would pass through the center of town at 5 am and blow its whistle, waking up all the townsfolk. Since it was too late to go back to sleep and too early to get up, residents passed the time by cuddling up. This resulted in a mini baby-boom.",metadata:a.getMetadataById(a.metadata3,"DESC")})]};return t}var a={__esModule:true};a.createTemplateDetails=e;return a})})();
},
	"sap/esh/search/ui/sinaNexTS/providers/sample/template_metadata.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){sap.ui.define(["../../sina/AttributeFormatType"],function(t){"use strict";const a=t["AttributeFormatType"];function e(t){const e={metadata:[t.sina._createAttributeMetadata({id:"FOLKLORIST",label:"Folklorist",type:t.sina.AttributeType.String,usage:{Title:{},AdvancedSearch:{displayOrder:0},Facet:{}},isSortable:true,isKey:false,matchingStrategy:t.sina.MatchingStrategy.Exact}),t.sina._createAttributeMetadata({id:"LOCATION",label:"Location",type:t.sina.AttributeType.String,usage:{Detail:{},AdvancedSearch:{displayOrder:0},Facet:{}},isSortable:true,isKey:false,matchingStrategy:t.sina.MatchingStrategy.Exact}),t.sina._createAttributeMetadata({id:"WEBSITE",label:"Website",type:t.sina.AttributeType.String,usage:{Detail:{},AdvancedSearch:{displayOrder:0}},isSortable:true,isKey:false,matchingStrategy:t.sina.MatchingStrategy.Exact}),t.sina._createAttributeMetadata({id:"SUMMARY",label:"Summary",type:t.sina.AttributeType.String,format:t.sina.AttributeFormatType.LongText,usage:{Detail:{},AdvancedSearch:{displayOrder:0}},isSortable:true,isKey:false,matchingStrategy:t.sina.MatchingStrategy.Exact}),t.sina._createAttributeMetadata({id:"LOC_4326",label:"LOC_4326",type:t.sina.AttributeType.GeoJson,usage:{},isSortable:true,isKey:false,matchingStrategy:t.sina.MatchingStrategy.Exact}),t.sina._createAttributeMetadata({id:"SEX",label:"Sex",type:t.sina.AttributeType.String,usage:{Title:{},AdvancedSearch:{displayOrder:0},Facet:{}},isSortable:true,isKey:false,matchingStrategy:t.sina.MatchingStrategy.Exact}),t.sina._createAttributeMetadata({id:"SEX_DESC",label:"Description for Gender",type:t.sina.AttributeType.String,usage:{Title:{},AdvancedSearch:{displayOrder:0},Facet:{}},isSortable:false,isKey:false,matchingStrategy:t.sina.MatchingStrategy.Exact}),t.sina._createAttributeMetadata({id:"DISCIPLINE",label:"Discipline",type:t.sina.AttributeType.String,usage:{Detail:{}},isSortable:true,isKey:false,matchingStrategy:t.sina.MatchingStrategy.Exact}),t.sina._createAttributeMetadata({id:"DESC",label:"Descritption",type:t.sina.AttributeType.String,usage:{Detail:{}},isSortable:true,isKey:false,matchingStrategy:t.sina.MatchingStrategy.Exact}),t.sina._createAttributeMetadata({id:"PIC",label:"picture",type:t.sina.AttributeType.ImageUrl,usage:{Title:{}},format:a.Round,isSortable:false,isKey:false,matchingStrategy:t.sina.MatchingStrategy.Exact}),t.sina._createAttributeMetadata({id:"SALARY",label:"Salary",type:t.sina.AttributeType.Integer,usage:{Title:{},AdvancedSearch:{displayOrder:0},Facet:{}},isSortable:true,isKey:false,matchingStrategy:t.sina.MatchingStrategy.Exact}),t.sina._createAttributeMetadata({id:"CURRENCY",label:"Currency",type:t.sina.AttributeType.String,usage:{Detail:{}},isSortable:true,isKey:false,matchingStrategy:t.sina.MatchingStrategy.Exact}),t.sina._createAttributeMetadata({id:"HEIGHT",label:"Height",type:t.sina.AttributeType.Integer,usage:{Detail:{}},isSortable:true,isKey:false,matchingStrategy:t.sina.MatchingStrategy.Exact}),t.sina._createAttributeMetadata({id:"UOM_HEIGHT",label:"Unit of Measure for Height Attribute",type:t.sina.AttributeType.String,usage:{Detail:{}},isSortable:true,isKey:false,matchingStrategy:t.sina.MatchingStrategy.Exact}),t.sina._createAttributeMetadata({id:"PHONE",label:"Phone",type:t.sina.AttributeType.String,usage:{Detail:{}},isSortable:true,isKey:false,matchingStrategy:t.sina.MatchingStrategy.Exact}),t.sina._createAttributeMetadata({id:"PUB",label:"Publication",type:t.sina.AttributeType.ImageUrl,format:t.sina.AttributeFormatType.DocumentThumbnail,usage:{Title:{},AdvancedSearch:{displayOrder:0}},isSortable:false,isKey:false,matchingStrategy:t.sina.MatchingStrategy.Exact}),t.sina._createAttributeMetadata({id:"EMAIL",label:"Email",type:t.sina.AttributeType.String,usage:{Detail:{}},isSortable:true,isKey:false,matchingStrategy:t.sina.MatchingStrategy.Exact})],metadata2:[t.sina._createAttributeMetadata({id:"CAPTION",label:"Caption",type:t.sina.AttributeType.String,usage:{Title:{}},isSortable:true,isKey:false,matchingStrategy:t.sina.MatchingStrategy.Exact}),t.sina._createAttributeMetadata({id:"LOCATION",label:"Location",type:t.sina.AttributeType.String,usage:{Detail:{},AdvancedSearch:{displayOrder:0},Facet:{}},isSortable:true,isKey:false,matchingStrategy:t.sina.MatchingStrategy.Exact}),t.sina._createAttributeMetadata({id:"LOC_4326",label:"LOC_4326",type:t.sina.AttributeType.GeoJson,usage:{Detail:{displayOrder:1}},isSortable:true,isKey:false,matchingStrategy:t.sina.MatchingStrategy.Exact}),t.sina._createAttributeMetadata({id:"FOLKLORIST",label:"Folklorist",type:t.sina.AttributeType.String,usage:{Title:{},AdvancedSearch:{displayOrder:0},Facet:{}},isSortable:false,isKey:false,matchingStrategy:t.sina.MatchingStrategy.Exact}),t.sina._createAttributeMetadata({id:"DESC",label:"Descritption",type:t.sina.AttributeType.String,format:t.sina.AttributeFormatType.LongText,usage:{Detail:{}},isSortable:true,isKey:false,matchingStrategy:t.sina.MatchingStrategy.Exact}),t.sina._createAttributeMetadata({id:"PIC",label:"picture",type:t.sina.AttributeType.ImageUrl,usage:{Title:{}},isSortable:false,isKey:false,matchingStrategy:t.sina.MatchingStrategy.Exact}),t.sina._createAttributeMetadata({id:"URL",label:"URL",type:t.sina.AttributeType.String,usage:{Detail:{}},isSortable:true,isKey:false,matchingStrategy:t.sina.MatchingStrategy.Exact})],metadata3:[t.sina._createAttributeMetadata({id:"PUB",label:"Publication",type:t.sina.AttributeType.ImageUrl,format:t.sina.AttributeFormatType.DocumentThumbnail,usage:{Title:{},AdvancedSearch:{displayOrder:0}},isSortable:false,isKey:false,matchingStrategy:t.sina.MatchingStrategy.Exact}),t.sina._createAttributeMetadata({id:"FOLKLORIST",label:"Folklorist",type:t.sina.AttributeType.String,usage:{Detail:{},AdvancedSearch:{displayOrder:0},Facet:{}},isSortable:true,isKey:false,matchingStrategy:t.sina.MatchingStrategy.Exact}),t.sina._createAttributeMetadata({id:"DESC",label:"Description",type:t.sina.AttributeType.String,format:t.sina.AttributeFormatType.LongText,usage:{Detail:{}},isSortable:true,isKey:false,matchingStrategy:t.sina.MatchingStrategy.Exact})]};return e}var i={__esModule:true};i.createTemplateMetadata=e;return i})})();
},
	"sap/esh/search/ui/sinaNexTS/providers/tools/AttributeTypeFallbackValue.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){sap.ui.define([],function(){"use strict";const e={Double:0,Integer:0,String:"",ImageUrl:"",ImageBlob:"",GeoJson:{},Date:"1970-01-01",Time:"00:00:00",Timestamp:new Date(0),Group:null,INAV2_SearchTerms:"",INAV2_SuggestionTerms:""};var t={__esModule:true};t.AttributeTypeFallbackValue=e;return t})})();
},
	"sap/esh/search/ui/sinaNexTS/providers/tools/ItemPostParser.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){
/*!
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.define(["../../sina/SinaObject","../../sina/AttributeType","../abap_odata/Provider"],function(t,e,s){"use strict";const i=t["SinaObject"];const a=e["AttributeType"];const r=s["Provider"];class n extends i{_searchResultSetItem;_dataSource;_allAttributesMap;_intentsResolver;constructor(t){super(t);this._searchResultSetItem=t.searchResultSetItem;this._dataSource=t.searchResultSetItem.dataSource;this._allAttributesMap=t.searchResultSetItem._private.allAttributesMap;this._intentsResolver=this.sina._createFioriIntentsResolver({sina:t.sina})}async postParseResultSetItem(){const t=this.enhanceResultSetItemWithNavigationTargets();this.enhanceResultSetItemWithGroups();return t}async enhanceResultSetItemWithNavigationTargets(){const t=this;const e=t._dataSource._private.semanticObjectType;const s=t._searchResultSetItem._private.semanticObjectTypeAttributes;const i=t._dataSource.system?.id?.split(".")[0];const a=t._dataSource.system?.id?.split(".")[1];const r=await t._intentsResolver.resolveIntents({semanticObjectType:e,semanticObjectTypeAttributes:s,systemId:i,client:a,fallbackDefaultNavigationTarget:t._searchResultSetItem.defaultNavigationTarget});const n=r&&r.defaultNavigationTarget;const u=r&&r.navigationTargets;let o=[];if(n){o.push(n);t._searchResultSetItem.setDefaultNavigationTarget(n)}if(u){t._searchResultSetItem.setNavigationTargets(u);o=[...o,...u]}this.enhanceNavigationTargetsWithContentProviderId(o);return t._searchResultSetItem}enhanceNavigationTargetsWithContentProviderId(t){if(!(this.sina.provider instanceof r)){return}if(!this.sina.provider.contentProviderId){return}for(const e of t){e.targetUrl+="&sap-app-origin-hint="+this.sina.provider.contentProviderId}}enhanceResultSetItemWithGroups(){const t=this._searchResultSetItem.dataSource.attributesMetadata;for(let e=0;e<t.length;e++){const s=t[e];if(s.type===a.Group){const t=this._addAttributeGroup(s);t.parent=this._searchResultSetItem;if(s.usage.Detail){this._searchResultSetItem.detailAttributes.push(t)}if(s.usage.Title){this._searchResultSetItem.titleAttributes.push(t)}if(s.usage.TitleDescription){this._searchResultSetItem.titleDescriptionAttributes.push(t)}}}this.sortAttributes()}sortAttributes(){const t=function(t){return function(e,s){const i=e.metadata.usage&&e.metadata.usage[t]?e.metadata.usage[t].displayOrder:undefined;const a=s.metadata.usage&&s.metadata.usage[t]?s.metadata.usage[t].displayOrder:undefined;if(i===undefined||a===undefined){if(a!==undefined){return 1}return-1}return i-a}};this._searchResultSetItem.titleAttributes.sort(t("Title"));this._searchResultSetItem.titleDescriptionAttributes.sort(t("TitleDescription"));this._searchResultSetItem.detailAttributes.sort(t("Detail"))}_addAttributeGroup(t){const e=this.sina._createSearchResultSetItemAttributeGroup({id:t.id,metadata:t,label:t.label,template:t.template,attributes:[],groups:[],displayAttributes:t.displayAttributes||[]});let s,i;if(t._private){s=t._private.parentAttribute;i=t._private.childAttribute}for(let r=0;r<t.attributes.length;r++){const n=t.attributes[r];const u=n.attribute;let o;if(u.type===a.Group){o=this._addAttributeGroup(u)}else{o=this._allAttributesMap[u.id]}if(o){const t=this.sina._createSearchResultSetItemAttributeGroupMembership({group:e,attribute:o,metadata:n});e.attributes.push(t);o.groups.push(t)}if(u==s){e._private.parentAttribute=o}else if(u==i){e._private.childAttribute=o}}return e}}var u={__esModule:true};u.ItemPostParser=n;return u})})();
},
	"sap/esh/search/ui/sinaNexTS/providers/tools/TypeConverterUtil.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){sap.ui.define(["../../sina/AttributeType","../../core/errors","./AttributeTypeFallbackValue","../../sina/i18n"],function(e,t,r,n){"use strict";const o=e["AttributeType"];const i=t["InternalSinaError"];const f=t["JSONParseError"];const u=r["AttributeTypeFallbackValue"];const a=n["getText"];function s(e){if(typeof e==="undefined"||e===null||e===""||typeof e==="boolean"||Array.isArray(e)||typeof e==="object"){return u.Double}else if(typeof e==="string"){return parseFloat(e)}else if(typeof e==="bigint"||typeof e==="number"){return e}return u.Double}function y(e){if(typeof e==="undefined"||e===null||e===""||typeof e==="boolean"||Array.isArray(e)||typeof e==="object"){return u.Integer}else if(typeof e==="string"){return parseInt(e,10)}else if(typeof e==="bigint"||typeof e==="number"){return e|0}return u.Integer}function l(e,t){if(typeof t==="undefined"||t===null||t===""){return""}else if(typeof t==="boolean"){if(e===o.ImageUrl||e===o.ImageBlob){return u.ImageUrl}return t.toString()}else if(Array.isArray(t)){if(e===o.String){if(t.length===0){return""}else{let e="";for(let r=0;r<t.length;r++){try{t[r]=JSON.stringify(t[r])}catch(e){throw new i({message:a("error.sina.stringifyError",[t[r]]),previous:e})}if(r===0){e=t[r]}else{e=e+"; "+t[r]}}return e}}}else if(typeof t==="object"){return u.String}else if(typeof t==="string"){return t}else if(typeof t==="bigint"||typeof t==="number"){return t.toString()}return u.String}function p(e,t){if(typeof t==="undefined"||t===null||t===""||typeof t==="boolean"||typeof t==="bigint"||typeof t==="number"||Array.isArray(t)){return u.GeoJson}else if(typeof t==="object"){return t}else if(typeof t==="string"){try{return JSON.parse(t)}catch(e){throw new f(a("error.sina.geoJsonParseError",[t]),e)}}return u.GeoJson}function c(e){if(typeof e==="undefined"||e===null||e===""||typeof e==="boolean"||Array.isArray(e)||typeof e==="object"||typeof e==="bigint"||typeof e==="number"){return u.Date}else if(typeof e==="string"){return m(e)}return u.Date}function b(e){if(typeof e==="undefined"||e===null||e===""||typeof e==="boolean"||Array.isArray(e)||typeof e==="object"||typeof e==="bigint"||typeof e==="number"){return u.Time}else if(typeof e==="string"){return S(e)}return u.Time}function g(e){if(typeof e==="undefined"||e===null||e===""||typeof e==="boolean"||Array.isArray(e)||typeof e==="object"||typeof e==="bigint"||typeof e==="number"){return u.Timestamp}else if(typeof e==="string"){return T(e)}return u.Timestamp}function m(e){e=e.trim();return e.slice(0,4)+"/"+e.slice(5,7)+"/"+e.slice(8,10)}function S(e){e=e.trim();return e}function T(e){return new Date(Date.parse(e))}var d={__esModule:true};d.convertToSinaDouble=s;d.convertToSinaInteger=y;d.convertToSinaStringImageUrlImageBlob=l;d.convertToSinaGeoJson=p;d.convertToSinaDate=c;d.convertToSinaTime=b;d.convertToSinaTimestamp=g;d.odata2SinaDate=m;d.odata2SinaTime=S;d.odata2SinaTimestamp=T;return d})})();
},
	"sap/esh/search/ui/sinaNexTS/providers/tools/WhyfoundProcessor.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){
/*!
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.define(["../../sina/SearchResultSetItemAttributeGroup"],function(t){"use strict";const e=t["SearchResultSetItemAttributeGroup"];class i{sina;constructor(t){this.sina=t}processRegularWhyFoundAttributes(t,e,i,r){let s;for(const e in i){if(e===t&&i[e][0]){s=i[e][0];if(r.usage.Title||r.usage.TitleDescription||r.usage.Detail){delete i[e]}}}s=this.calculateValueHighlighted(e,r,s);return s}async processAdditionalWhyfoundAttributes(t,i){for(const r in t){if(t[r]&&t[r][0]){const s=i.dataSource.getAttributeMetadata(r);const a=s.id||r;const u=t[r][0];let n="";if(i.attributesMap[r]){n=i.attributesMap[r].valueFormatted;n=typeof n==="string"?n:JSON.stringify(n)}const l=typeof u==="string"?u:JSON.stringify(u);const f=this.sina._createSearchResultSetItemAttribute({id:a,label:s.label||r,value:"",valueFormatted:n,valueHighlighted:l,isHighlighted:true,metadata:s});const h=i.attributes.find(t=>t.id===a);if(i.detailAttributes.find(t=>t instanceof e&&t.isAttributeDisplayed(a))===undefined){if(h===undefined){i.detailAttributes.push(f);i.attributes.push(f);i.attributesMap[a]=f}else if(h.isHighlighted===true){i.detailAttributes.push(h)}else{h.valueHighlighted=f.valueHighlighted;h.isHighlighted=true;i.detailAttributes.push(h)}}delete t[r]}}return i}_getFirstItemIfArray(t){if(Array.isArray(t)){t=t[0]}return t}calculateValueHighlighted(t,e,i){const r="com.sap.vocabularies.Search.v1.Highlighted";const s="com.sap.vocabularies.Search.v1.Snippets";let a="";if(e.format==="MultilineText"){a=t[r];if(a){return this._getFirstItemIfArray(a)}a=t[s];if(a){return this._getFirstItemIfArray(a)}return i}a=t[s];if(a){return this._getFirstItemIfArray(a)}a=t[r];if(a){return this._getFirstItemIfArray(a)}return this._getFirstItemIfArray(i)}calIsHighlighted(t){if(typeof t==="string"&&t.length>0&&t.indexOf("<b>")>-1&&t.indexOf("</b>")>-1){return true}if(Array.isArray(t)&&t.length>0){return true}return false}}var r={__esModule:true};r.WhyfoundProcessor=i;return r})})();
},
	"sap/esh/search/ui/sinaNexTS/providers/tools/cds/CDSAnnotationsParser.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){
/*!
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.define(["../../../sina/SinaObject","../../../sina/AttributeGroupTextArrangement","../../../sina/AttributeType","../../../sina/AttributeFormatType","../../../sina/AttributeSemanticsType","../../../core/Log"],function(t,e,i,s,r,a){"use strict";const n=t["SinaObject"];const u=e["AttributeGroupTextArrangement"];const o=i["AttributeType"];const d=s["AttributeFormatType"];const p=r["AttributeSemanticsType"];const A=a["Log"];class _ extends n{_datasource;_cdsAnnotations;_parsedAttributes;_knownAttributeGroups;_knownAttributeGroupsArray;_attributeGroupReplacements;_AttributeUsagePrio;_detailUsageStubsMap;_detailUsageStubsPrioHigh;_detailUsageStubsPrioMedium;_detailUsageStubsPrioNone;_defaultTextArrangement;_parsingResult;log=(()=>new A("hana odata cds annotations parser"))();constructor(t){super(t);this._datasource=t.dataSource;this._cdsAnnotations=t.cdsAnnotations;this._parsedAttributes={};this._knownAttributeGroups={};this._knownAttributeGroupsArray=[];this._attributeGroupReplacements={};this._AttributeUsagePrio={HIGH:"HIGH",MEDIUM:"MEDIUM",NONE:"NONE"};this._detailUsageStubsMap={};this._detailUsageStubsPrioHigh=[];this._detailUsageStubsPrioMedium=[];this._detailUsageStubsPrioNone=[];this._defaultTextArrangement=u.TextLast}parseCDSAnnotationsForDataSource(){this._parsingResult={dataSourceIsCdsBased:false,detailAttributesAreSorted:false,titleAttributesAreSorted:false};this._parseDefaultTextArrangement();this._parseAttributeAnnotations();this._parseDataSourceAnnotations();return this._parsingResult}_addDetailUsageStub(t,e,i){let s;if(typeof t==="string"){s=t;t=undefined}else{s=t.id}const r={attribute:t,displayOrder:e,prio:i,obsolete:false};this._detailUsageStubsMap[s]=r;if(i===this._AttributeUsagePrio.HIGH){this._detailUsageStubsPrioHigh.push(r)}else if(i===this._AttributeUsagePrio.MEDIUM){this._detailUsageStubsPrioMedium.push(r)}else{this._detailUsageStubsPrioNone.push(r)}}_getDetailUsageStub(t){if(!t){return undefined}let e;if(typeof t==="string"){e=t}else{e=t.id}return this._detailUsageStubsMap[e]}_setParsedAttribute(t,e){this._parsedAttributes[t.toUpperCase()]=e}_getParsedAttribute(t){return this._parsedAttributes[t.toUpperCase()]}_setknownAttributeGroup(t,e){this._knownAttributeGroups[t.toUpperCase()]=e}_getknownAttributeGroup(t){return this._knownAttributeGroups[t.toUpperCase()]}_parseDefaultTextArrangement(){try{const t=this._deriveTextArrangementFromCdsAnnotation(this._cdsAnnotations.dataSourceAnnotations.UI&&this._cdsAnnotations.dataSourceAnnotations.UI.TEXTARRANGEMENT);this._defaultTextArrangement=t||this._defaultTextArrangement}catch(t){this.log.warn("Could not parse default text arrangement for datasource: "+t)}}_parseDataSourceAnnotations(){if(Object.keys(this._cdsAnnotations.dataSourceAnnotations).length>0){try{const t=this._cdsAnnotations.dataSourceAnnotations.UI;const e=t&&t.HEADERINFO;const i=e&&e.TITLE;let s,r,a;if(i){s=i.TYPE&&i.TYPE.toUpperCase();if(s==="AS_CONNECTED_FIELDS"){r=i.VALUEQUALIFIER;if(r&&r.trim().length>0){a=this._getknownAttributeGroup(r);if(a){a.usage.Title={displayOrder:1}}}}else if(!s){const t=i.VALUE;if(t){const e=this._getParsedAttribute(t);if(e){e.usage.Title={displayOrder:1}}}}const t=i.URL;if(t){const e=this._getParsedAttribute(t);if(e){e.usage.Navigation={mainNavigation:true}}}}const n=e&&e.DESCRIPTION;if(n){s=n.TYPE;if(s==="AS_CONNECTED_FIELDS"){r=n.VALUEQUALIFIER;if(r&&r.trim().length>0){a=this._getknownAttributeGroup(r);if(a){a.usage.TitleDescription={displayOrder:1}}}}else if(!s){const t=n.VALUE;if(t){const e=this._getParsedAttribute(t);if(e){e.usage.TitleDescription={}}}}}const u=e&&e.IMAGEURL;if(u){const t=this._getParsedAttribute(u);if(t){t.usage.Title={};t.type=this.sina.AttributeType.ImageUrl}}}catch(t){this.log.warn("Could not parse attribute for datasource: "+t)}}}_parseAttributeAnnotations(){for(const t in this._datasource.attributeMetadataMap){this._parseSingleAttribute(t)}this._datasource.attributesMetadata=this._datasource.attributesMetadata.concat(this._knownAttributeGroupsArray);this._datasource.attributeMetadataMap=Object.assign(this._datasource.attributeMetadataMap,this._knownAttributeGroups);this._sortAttributes()}_parseSingleAttribute(t){let e=this._getParsedAttribute(t);if(!e){e=this._getPropertyFromObject(this._datasource.attributeMetadataMap,t);if(e&&e.id){this._setParsedAttribute(e.id,e);const t=this._cdsAnnotations.attributeAnnotations[e.id]||{};if(Object.keys(t).length>0){this._parsingResult.dataSourceIsCdsBased=true;try{if(t.UI!==undefined){this._parseSingleAnnotationOrArray(e,t.UI.IDENTIFICATION,this._parseIdentification);this._parseSingleAnnotationOrArray(e,t.UI.CONNECTEDFIELDS,this._parseConnectedFields);this._parseURLsForDocumentResultItemThumbnail(e,t.UI.IDENTIFICATION,t.SEMANTICS);if(t.UI.MULTILINETEXT!==undefined){e.format=d.MultilineText}}this._parseSemantics(e,t.SEMANTICS);this._parseDescriptionAttribute(e,t.OBJECTMODEL,t.UI)}catch(t){this.log.warn("Could not parse attribute for datasource: "+t)}}}}return e}_parseConnectedFields(t,e){const i=e.QUALIFIER;if(i){const s={};if(e.NAME){s[e.NAME]=t}this._createAttributeGroup(i,e.GROUPLABEL,e.TEMPLATE,s)}}_createAttributeGroup(t,e,i,s,r){let a=this._getknownAttributeGroup(t);if(!a){a=this.sina._createAttributeGroupMetadata({id:t,label:e||"",type:o.Group,template:i||"",attributes:[],usage:{},displayAttributes:r||[]});this._setknownAttributeGroup(t,a);this._knownAttributeGroupsArray.push(a);this._datasource.attributeGroupsMetadata.push(a);this._datasource.attributeGroupMetadataMap[t]=a;const s=this._getDetailUsageStub(t);if(s){s.attribute=a}}else{if(e&&!a.label){a.label=e}if(i&&!a.template){a.template=i}if(r&&!a.displayAttributes){a.displayAttributes=r}}if(s){for(const t in s){const e=s[t];const i=this.sina._createAttributeGroupMembership({group:a,attribute:e,nameInGroup:t});a.attributes.push(i);e.groups.push(i)}}return a}_parseIdentification(t,e){this._parseAttributePositions(t,e);this._parseIconUrlAttributeName(t,e)}_parseIconUrlAttributeName(t,e){if(e){if(Array.isArray(e)){for(let i=0;i<e.length;i++){if(e[i].ICONURL){t.iconUrlAttibuteName=e[i].ICONURL;break}}}else if(e.ICONURL){t.iconUrlAttributeName=e.ICONURL}}}_parseAttributePositions(t,e){const i=e.IMPORTANCE&&e.IMPORTANCE.toUpperCase();let s=e.POSITION;if(i&&!s){s=Number.MAX_VALUE}if(s!==undefined){switch(i){case"HIGH":case"MEDIUM":case undefined:{s=this._parsePosition(s);const r=e.TYPE&&e.TYPE.toUpperCase();switch(r){case"AS_CONNECTED_FIELDS":{const i=e.VALUEQUALIFIER;if(i){const e=this._getknownAttributeGroup(i);if(e){t=e}else{t=i}}}case undefined:{const e=this._getDetailUsageStub(t);if(e){if(!e.attribute&&typeof t!=="string"){e.attribute=t}}else{let e;if(i==="HIGH"){e=this._AttributeUsagePrio.HIGH}else if(i==="MEDIUM"){e=this._AttributeUsagePrio.MEDIUM}else{e=this._AttributeUsagePrio.NONE}this._addDetailUsageStub(t,s,e)}}}}}}}_parseURLsForDocumentResultItemThumbnail(t,e,i){if(!(i&&i.IMAGEURL)){return}let s;if(e){if(Array.isArray(e)){for(let t=0;t<e.length;t++){if(e[t].URL){s=e[t].URL;break}}}else{s=e.URL}}if(s&&i&&i.IMAGEURL){const e=this._getPropertyFromObject(this._cdsAnnotations.attributeAnnotations,s);if(e){const i=e.SEMANTICS&&e.SEMANTICS.URL&&e.SEMANTICS.URL.MIMETYPE;if(i){const e=this._getPropertyFromObject(this._datasource.attributeMetadataMap,s);const r=this._getPropertyFromObject(this._datasource.attributeMetadataMap,i);t.suvUrlAttribute=e;t.suvMimeTypeAttribute=r;t.format=d.DocumentThumbnail}}}}_parseSemantics(t,e){if(e){if(e.CONTACT&&e.CONTACT.PHOTO!==undefined){t.format=d.Round;if(t.type!==o.ImageBlob){t.type=o.ImageUrl}}if(e.IMAGEURL!==undefined){if(t.type!==o.ImageBlob){t.type=o.ImageUrl}}if(e.NAME!==undefined){if(e.NAME.GIVENNAME!==undefined){t.semantics=p.FirstName}if(e.NAME.FAMILYNAME!==undefined){t.semantics=p.LastName}}if(e.EMAIL&&e.EMAIL.ADDRESS!==undefined){t.semantics=p.EmailAddress}if(e.TELEPHONE&&e.TELEPHONE.TYPE!==undefined){t.semantics=p.PhoneNr}if(e&&e.URL!==undefined){t.semantics=p.HTTPURL}if(e&&e.CURRENCYCODE!==undefined){t._private.isCurrency=true}if(e&&e.UNITOFMEASURE!==undefined){t._private.isUnitOfMeasure=true}let i,s,r;let a;const n=e.QUANTITY&&e.QUANTITY.UNITOFMEASURE;if(n){a=[];t._private.isQuantity=true;i=this._parseSingleAttribute(n);if(i){if(i._private.isUnitOfMeasure){r="{"+t.id+"} {"+i.id+"}";a.push(t.id);a.push(i.id);this._createAttributeGroupForParentChildAttributes(t,i,"____UnitOfMeasureGroup",r,a)}}}const u=e.AMOUNT&&e.AMOUNT.CURRENCYCODE;if(u){a=[];s=this._parseSingleAttribute(u);if(s){if(s._private.isCurrency){r="{"+t.id+"} {"+s.id+"}";a.push(t.id);a.push(s.id);this._createAttributeGroupForParentChildAttributes(t,s,"____CurrencyGroup",r,a)}}}}}_parseDescriptionAttribute(t,e,i){let s=e&&e.TEXT&&e.TEXT.ELEMENT;if(s){if(Array.isArray(s)){if(s.length>0){s=s[0]}else{return}}const e=this._parseSingleAttribute(s);if(e){const s=this._deriveTextArrangementFromCdsAnnotation(i&&i.TEXTARRANGEMENT)||this._defaultTextArrangement;const r=!(t.semantics==p.FirstName&&e.semantics==p.LastName||e.semantics==p.FirstName&&t.semantics==p.LastName);const a=r?"(":"";const n=r?")":"";let o;if(s===u.TextFirst){o="{"+e.id+"} "+a+"{"+t.id+"}"+n}else if(s===u.TextLast){o="{"+t.id+"} "+a+"{"+e.id+"}"+n}else if(s===u.TextOnly){o="{"+e.id+"}"}else{o="{"+t.id+"} "+a+"{"+e.id+"}"+n}const d=[];if(s===u.TextOnly){d.push(e.id)}else{d.push(t.id);d.push(e.id)}const A=this._createAttributeGroupForParentChildAttributes(t,e,"____Description",o,d);A._private.isDescription=true;A._private.textArrangement=s;if(t._private.isUnitOfMeasure||e._private.isUnitOfMeasure){A._private.isUnitOfMeasure=true}if(t._private.isCurrency||e._private.isCurrency){A._private.isCurrency=true}}}}_deriveTextArrangementFromCdsAnnotation(t){if(t){switch(t.toUpperCase()){case"TEXT_FIRST":return u.TextFirst;case"TEXT_LAST":return u.TextLast;case"TEXT_ONLY":case"#TEXT_ONLY":return u.TextOnly;case"TEXT_SEPARATE":return u.TextSeparate}}return undefined}_createAttributeGroupForParentChildAttributes(t,e,i,s,r){const a=t.id+i;const n={};n[t.id]=t;n[e.id]=e;const u=this._createAttributeGroup(a,t.label,s,n,r);const o=this._getDetailUsageStub(t);if(o){o.obsolete=true;this._addDetailUsageStub(u,o.displayOrder,o.prio)}this._replaceAttributeWithGroup(t,u);u._private.parentAttribute=t;u._private.childAttribute=e;if(e._private&&e._private.isCurrency){u._private.isCurrency=true}if(e._private&&e._private.isUnitOfMeasure){u._private.isUnitOfMeasure=true}return u}_replaceAttributeWithGroup(t,e){this._setParsedAttribute(t.id,e);for(let i=0;i<t.groups.length;i++){const s=t.groups[i];if(s.group!=e){s.attribute=e}}}_sortAttributes(){const t=function(t,e){if(t.displayOrder<e.displayOrder){return-1}else if(t.displayOrder>e.displayOrder){return 1}return 0};let e,i;if(this._detailUsageStubsPrioHigh.length>0||this._detailUsageStubsPrioMedium.length>0){this._detailUsageStubsPrioHigh.sort(t);this._detailUsageStubsPrioMedium.sort(t);const s=this._detailUsageStubsPrioHigh.concat(this._detailUsageStubsPrioMedium);for(e=0;e<s.length;e++){if(!s[e].obsolete){i=s;break}}}if(!i){i=this._detailUsageStubsPrioNone.sort(t)}for(e=0;e<i.length;e++){const t=i[e];if(!t.obsolete&&t.attribute&&typeof t.attribute!=="string"){t.attribute.usage=t.attribute.usage||{};t.attribute.usage.Detail={displayOrder:e}}}this._parsingResult.detailAttributesAreSorted=true}_parseSingleAnnotationOrArray(t,e,i){if(e!==undefined){if(Array.isArray(e)){for(let s=0;s<e.length;s++){i.apply(this,[t,e[s]])}}else{i.apply(this,[t,e])}}}_parsePosition(t){if(typeof t==="string"){try{t=parseInt(t,10)}catch(e){this.log.warn("Could not parse position as integer: "+t+" ("+e+")");t=Number.MAX_VALUE}}if(typeof t!=="number"||isNaN(t)){t=Number.MAX_VALUE}return t}_getPropertyFromObject(t,e){if(t[e]){return t[e]}e=e.toLowerCase();for(const i in t){if(i.toLowerCase()===e){return t[i]}}return undefined}}var c={__esModule:true};c.CDSAnnotationsParser=_;return c})})();
},
	"sap/esh/search/ui/sinaNexTS/providers/tools/fiori/FioriIntentsResolver.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){sap.ui.define(["../../../sina/SinaObject","../../../sina/AttributeType","./NavigationServiceFactory","../../../core/Log"],function(t,e,n,i){"use strict";const r=t["SinaObject"];const s=e["AttributeType"];const a=n["getNavigationService"];const o=i["Log"];class c extends r{_fioriFrontendSystemInfo;_primaryIntentAction;_suppressInSearchTag;log=(()=>new o("FioriIntentsResolver"))();constructor(t){super(t);const e=typeof window!=="undefined"?window?.sap?.ushell?.["Container"]:null;if(e){this._fioriFrontendSystemInfo={systemId:e.getLogonSystem().getName(),client:e.getLogonSystem().getClient()};this._primaryIntentAction="-displayFactSheet";this._suppressInSearchTag="suppressInEnterpriseSearch".toLowerCase()}else{this._fioriFrontendSystemInfo={systemId:this.getLogonSystem().getName(),client:this.getLogonSystem().getClient()}}}async resolveIntents(t){const e=await a();if(!e||!t){return{defaultNavigationTarget:t.fallbackDefaultNavigationTarget}}if(Array.isArray(t)){const e=t.map(t=>this.doResolveIntents(t));return await Promise.all(e)}else{return await this.doResolveIntents(t)}}async doResolveIntents(t){const e=t.semanticObjectType;const n=t.semanticObjectTypeAttributes;const i=t.systemId;const r=t.client;const s=t.fallbackDefaultNavigationTarget;if(!e||e.length===0){return{defaultNavigationTarget:s}}if(!n||n.length===0){return undefined}const a=this.convertSemanticObjectTypeAttrs(n);const[o,c]=await Promise.all([this.getPrimaryIntent(e,a),this.getSecondaryIntents(e,a)]);const g={defaultNavigationTarget:undefined,navigationTargets:[]};const u=this.assembleSapSystem(i,r);let l;if(o&&!this.shallIntentBeSuppressed(o)){l=await this.getNavigationTargetForIntent(o,u);g.defaultNavigationTarget=l}let d=g.defaultNavigationTarget!==undefined;if(!c){return g}const f=[];const h=[];for(const t of c){if(this.shallIntentBeSuppressed(t)){continue}f.push(t);h.push(this.getNavigationTargetForIntent(t,u))}const m=await Promise.all(h);for(let t=0;t<f.length;++t){const e=f[t];const n=m[t];if(!d&&this.isPrimaryIntentAction(e)){g.defaultNavigationTarget=n;d=true}else if(!l||!n.isEqualTo(l)){g.navigationTargets.push(n)}}return g}isPrimaryIntentAction(t){const e=t.intent.substring(t.intent.indexOf("-"),t.intent.indexOf("?"));return e===this._primaryIntentAction}assembleSapSystem(t,e){const n={systemId:t||this._fioriFrontendSystemInfo&&this._fioriFrontendSystemInfo.systemId,client:e||this._fioriFrontendSystemInfo.client&&this._fioriFrontendSystemInfo.client};if(window.sap&&window.sap["cf"]||t&&t.trim().length>0&&e&&e.trim().length>0&&(!this._fioriFrontendSystemInfo||!(this._fioriFrontendSystemInfo.systemId===t&&this._fioriFrontendSystemInfo.client===e))){n.urlParameter="sap-system=sid("+t+"."+e+")"}return n}convertSemanticObjectTypeAttrs(t){const e={};for(const n of t){const t=this.convertAttributeValueToUI5DataTypeFormats(n.value,n.type);e[n.name]=t}return e}async getPrimaryIntent(t,e){const n=await a();if(!n||!n.getPrimaryIntent){return undefined}try{return await this.convertJQueryDeferredToPromise(n.getPrimaryIntent(t,e))}catch(t){this.log.warn("Error while fetching primary intent: "+t);return undefined}}async getSecondaryIntents(t,e){const n=await a();if(!n){return undefined}if(!n.getLinks){return undefined}try{return await this.convertJQueryDeferredToPromise(n.getLinks({semanticObject:t,params:e,withAtLeastOneUsedParam:true,sortResultOnTexts:true}))}catch(t){this.log.warn("Error while fetching secondary intents: "+t);return undefined}}shallIntentBeSuppressed(t){if(t.tags){for(let e=0;e<t.tags.length;e++){if(t.tags[e].toLowerCase()===this._suppressInSearchTag){return true}}}return false}async getNavigationTargetForIntent(t,e){const n=await a();let i=t.intent;if(e.urlParameter){if(i.indexOf("?")===-1){i+="?"}else{i+="&"}i+=e.urlParameter}const r={target:{shellHash:i}};const s=await this.convertJQueryDeferredToPromise(n.hrefForExternalAsync(r));const o=this.sina.createNavigationTarget({text:t.text,targetUrl:s,customWindowOpenFunction:()=>{n.toExternal(r)}});return o}convertAttributeValueToUI5DataTypeFormats(t,e){let n,i,r,a,o,c,g;switch(e){case s.Timestamp:n=t.getUTCFullYear();i=t.getUTCMonth()+1;r=t.getUTCDate();a=t.getUTCHours();o=t.getUTCMinutes();c=t.getUTCSeconds();g=t.getUTCMilliseconds()*1e3;t=this.addLeadingZeros(n.toString(),4)+"-"+this.addLeadingZeros(i.toString(),2)+"-"+this.addLeadingZeros(r.toString(),2)+"T"+this.addLeadingZeros(a.toString(),2)+":"+this.addLeadingZeros(o.toString(),2)+":"+this.addLeadingZeros(c.toString(),2)+"."+this.addLeadingZeros(g.toString(),3);break;case s.Date:t=t.slice(0,4)+"-"+t.slice(5,7)+"-"+t.slice(8,10);break}return t}addLeadingZeros(t,e){return"00000000000000".slice(0,e-t.length)+t}getLogonSystem(){return{getName:function(){return},getClient:function(){return},getPlatform:function(){return}}}convertJQueryDeferredToPromise(t){if(t.always){return new Promise(function(e,n){t.then(e,n)})}else{return t}}}var g={__esModule:true};g.FioriIntentsResolver=c;return g})})();
},
	"sap/esh/search/ui/sinaNexTS/providers/tools/fiori/NavigationServiceFactory.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){sap.ui.define([],function(){"use strict";let e;function n(){if(e){return e}const n=typeof window!=="undefined"?window?.sap?.ushell?.["Container"]?.["getServiceAsync"]:null;if(n){e=n("CrossApplicationNavigation")}else{e=Promise.resolve(undefined)}return e}var i={__esModule:true};i.getNavigationService=n;return i})})();
},
	"sap/esh/search/ui/sinaNexTS/providers/tools/fiori/SuvNavTargetResolver.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){
/*!
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.define(["../../../sina/SinaObject"],function(e){"use strict";const t=e["SinaObject"];const r=function(){const e=[];$.each(document.styleSheets,function(t,r){if(r.href){const t=r.href.toString();const s=/themes\/(.+)\/library.css/;const i=s.exec(t);if(i!==null){e.push(i[1]);return false}}return true});return e[0]};const s=function(e){let t=e;let s=r();if(!s){return t}s="sap-theme="+s+"&";if(e.indexOf("sap-theme=")===-1){if(e.indexOf("?")!==-1){t=e.replace("?","?"+s)}}return t};class i extends t{suvMimeType;suvViewerBasePath;constructor(e){super(e);this.suvMimeType="application/vnd.sap.universal-viewer+suv";this.suvViewerBasePath="/sap/bc/ui5_ui5/ui2/ushell/resources/sap/fileviewer/viewer/web/viewer.html?file="}addHighlightTermsToUrl(e,t){if(!t){return e}e+="&searchTerms="+encodeURIComponent(JSON.stringify({terms:t}));return e}resolveSuvNavTargets(e,t,r){for(const e in t){let i;const a=t[e];const n=a.suvThumbnailAttribute;if(a.suvTargetMimeTypeAttribute.value===this.suvMimeType){i=this.suvViewerBasePath+encodeURIComponent(a.suvTargetUrlAttribute.value);i=this.addHighlightTermsToUrl(i,r);i=s(i);n.setDefaultNavigationTarget(this.sina.createNavigationTarget({text:a.suvTargetUrlAttribute.value,targetUrl:i,target:"_blank"}))}else{i=a.suvTargetUrlAttribute.value;n.setDefaultNavigationTarget(this.sina.createNavigationTarget({text:a.suvTargetUrlAttribute.value,targetUrl:i,target:"_blank"}))}}}}var a={__esModule:true};a.SuvNavTargetResolver=i;return a})})();
},
	"sap/esh/search/ui/sinaNexTS/providers/tools/sors/JoinConditions.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){
/*!
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.define(["./NavigationTargetTemplate","../../../sina/SinaObject"],function(t,e){"use strict";const i=t["NavigationTargetTemplate"];const n=e["SinaObject"];class a extends n{navigationTargetGenerator;sourceObjectType;targetObjectType;conditions;constructor(t){super(t);this.navigationTargetGenerator=t.navigationTargetGenerator;this.sourceObjectType=t.sourceObjectType;this.targetObjectType=t.targetObjectType;this.conditions=[]}add(t){this.conditions.push(t)}hasDuplicateSemanticObject(){const t={};for(let e=0;e<this.conditions.length;++e){const i=this.conditions[e];if(t[i.semanticObjectType]){return true}t[i.semanticObjectType]=true}return false}hasDistinctValue(t,e){let i;for(let n=0;n<this.conditions.length;++n){const a=this.conditions[n];if(a.semanticObjectType!==t){continue}if(!i){i=a[e];continue}if(i!==a[e]){return false}}return true}generateNavigationTargetTemplates(){if(this.hasDuplicateSemanticObject()){return this.createSingleConditionsTemplates()}return this.createMultipleConditionsTemplates()}createSingleConditionsTemplates(){const t=[];for(let e=0;e<this.conditions.length;++e){const n=this.conditions[e];const a=this.hasDistinctValue(n.semanticObjectType,"sourcePropertyName");const o=this.hasDistinctValue(n.semanticObjectType,"targetPropertyName");if(!a&&!o){continue}const s=new i({sina:this.sina,navigationTargetGenerator:this.navigationTargetGenerator,label:"dummy",sourceObjectType:this.sourceObjectType,targetObjectType:this.targetObjectType,conditions:[n]});s._condition=n;t.push(s)}this.assembleSingleConditionTemplateLabels(t);return t}createMultipleConditionsTemplates(){return[new i({sina:this.sina,navigationTargetGenerator:this.navigationTargetGenerator,label:this.navigationTargetGenerator.objectTypeMap[this.targetObjectType].label,sourceObjectType:this.sourceObjectType,targetObjectType:this.targetObjectType,conditions:this.conditions})]}assembleSingleConditionTemplateLabels(t){const e={};let i,n,a,o;for(let s=0;s<t.length;++s){a=t[s];o=this.navigationTargetGenerator.objectTypeMap[this.targetObjectType];n=o.label+" to:"+o.propertyMap[a._condition.targetPropertyName].label;a.label=n;i=e[n];if(!i){i=[];e[n]=i}i.push(a)}o=this.navigationTargetGenerator.objectTypeMap[this.sourceObjectType];for(n in e){i=e[n];if(i.length>1){for(let t=0;t<i.length;++t){a=i[t];a.label+=" from:"+o.propertyMap[a._condition.sourcePropertyName].label}}}}}var o={__esModule:true};o.JoinConditions=a;return o})})();
},
	"sap/esh/search/ui/sinaNexTS/providers/tools/sors/NavigationTargetGenerator.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){
/*!
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.define(["../../../core/util","../../../core/core","./JoinConditions","../../../sina/SinaObject"],function(t,e,i,n){"use strict";const a=i["JoinConditions"];const o=n["SinaObject"];class r extends o{active;getPropertyMetadata;urlPrefix;navigationTargetTemplatesInitialized;navigationTargetTemplatesMap;objectTypeMap;ignoredSemanticObjectTypes;constructor(t){super(t);this.active=this.checkActive();this.getPropertyMetadata=t.getPropertyMetadata;this.urlPrefix=t.urlPrefix;this.navigationTargetTemplatesInitialized=false;this.navigationTargetTemplatesMap={};this.objectTypeMap={};this.ignoredSemanticObjectTypes={LastChangedByUser:true,CreationDate:true,CreatedByUser:true}}checkActive(){const e=t.getUrlParameter("sors");if(e==="true"){return true}return false}cleanup(){this.objectTypeMap=null}registerObjectType(t){if(!this.active){return}const e={type:t.type,label:t.label,propertyMap:{}};this.objectTypeMap[t.type]=e;for(let i=0;i<t.properties.length;++i){const n=t.properties[i];const a=this.getPropertyMetadata(n);this.filterSemanticObjectType(a);e.propertyMap[a.name]=a}}filterSemanticObjectType(t){if(this.ignoredSemanticObjectTypes[t.semanticObjectType]){delete t.semanticObjectType}}finishRegistration(){if(!this.active){return}this.calculateNavigationTargetTemplates()}calculateNavigationTargetTemplates(){if(this.navigationTargetTemplatesInitialized){return}const t=this.collectJoinConditions();this.navigationTargetTemplatesMap=this.createNavTargetTemplatesFromJoinConditions(t);this.cleanup();this.navigationTargetTemplatesInitialized=true}createNavTargetTemplatesFromJoinConditions(t){const e={};for(const i in t){const n=t[i];const a=[];for(const t in n){const e=n[t];if(!e){continue}a.push(...e.generateNavigationTargetTemplates())}if(a.length!==0){e[i]=a}}return e}collectJoinConditions(){const t=this.createIndex();const i={};for(const n in this.objectTypeMap){const a=this.collectJoinConditionsForObjectType(t,n);if(!e.isEmptyObject(a)){i[n]=a}}return i}collectJoinConditionsForObjectType(t,e){const i={};const n=this.objectTypeMap[e];const o=function(t){let n=i[t];if(!n){n=new a({sina:this.sina,navigationTargetGenerator:this,sourceObjectType:e,targetObjectType:t});i[t]=n}return n}.bind(this);for(const e in n.propertyMap){const i=n.propertyMap[e];const a=i.semanticObjectType;if(!i.response){continue}if(!a){continue}const r=t[a];for(const t in r){if(t===n.type){continue}const i=this.objectTypeMap[t];const s=r[t];for(const n in s){const r=i.propertyMap[n];if(!r.request){continue}const s=o(t);s.add({sourcePropertyName:e,targetPropertyName:n,semanticObjectType:a})}}}return i}createIndex(){const t={};for(const e in this.objectTypeMap){this.createIndexForObjectType(t,e)}return t}createIndexForObjectType(t,e){const i=this.objectTypeMap[e];for(const e in i.propertyMap){const n=i.propertyMap[e];const a=n.semanticObjectType;if(!a){continue}let o=t[a];if(!o){o={};t[a]=o}let r=o[i.type];if(!r){r={};o[i.type]=r}let s=r[e];if(!s){s=true;r[e]=true}}}formatItem(t){const e=function(t,e){for(let i=0;i<e.length;++i){const n=e[i];t[n.id]=n}};const i={};e(i,t.detailAttributes);e(i,t.titleAttributes);return i}generateNavigationTargetsForItem(t){const e=this.navigationTargetTemplatesMap[t.dataSource.id];if(!e){return undefined}const i=this.formatItem(t);const n=[];for(let t=0;t<e.length;++t){const a=e[t];const o=a.generate(i);if(!o){continue}n.push(o)}return n}generateNavigationTargets(t){if(!this.active){return}for(let e=0;e<t.items.length;++e){const i=t.items[e];const n=this.generateNavigationTargetsForItem(i);i.setNavigationTargets(n)}}}var s={__esModule:true};s.NavigationTargetGenerator=r;return s})})();
},
	"sap/esh/search/ui/sinaNexTS/providers/tools/sors/NavigationTargetTemplate.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){
/*!
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.define([],function(){"use strict";class t{sina;navigationTargetGenerator;label;sourceObjectType;targetObjectType;conditions;_condition;constructor(t){this.sina=t.sina;this.navigationTargetGenerator=t.navigationTargetGenerator;this.label=t.label;this.sourceObjectType=t.sourceObjectType;this.targetObjectType=t.targetObjectType;this.conditions=t.conditions}generate(t){const e=this.sina.getDataSource(this.targetObjectType);const a=this.sina.createFilter({dataSource:e,searchTerm:"*"});for(let r=0;r<this.conditions.length;++r){const i=this.conditions[r];const n=this.sina.createSimpleCondition({attribute:i.targetPropertyName,attributeLabel:e.getAttributeMetadata(i.targetPropertyName).label,operator:this.sina.ComparisonOperator.Eq,value:t[i.sourcePropertyName].value,valueLabel:t[i.sourcePropertyName].valueFormatted});a.autoInsertCondition(n)}return this.sina.createNavigationTarget({text:this.label,targetUrl:this.navigationTargetGenerator.urlPrefix+encodeURIComponent(JSON.stringify(a.toJson()))})}}var e={__esModule:true};e.NavigationTargetTemplate=t;return e})})();
},
	"sap/esh/search/ui/sinaNexTS/sina/AttributeFormatType.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){
/*!
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.define([],function(){"use strict";var t=function(t){t["Round"]="round";t["DocumentThumbnail"]="DocumentThumbnail";t["LongText"]="LongText";t["MultilineText"]="MultilineText";return t}(t||{});var n={__esModule:true};n.AttributeFormatType=t;return n})})();
},
	"sap/esh/search/ui/sinaNexTS/sina/AttributeGroupMembership.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){
/*!
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.define(["./SinaObject"],function(t){"use strict";const e=t["SinaObject"];class r extends e{group;attribute;nameInGroup;constructor(t){super(t);this.group=t.group??this.group;this.attribute=t.attribute??this.attribute;this.nameInGroup=t.nameInGroup??this.nameInGroup}}var u={__esModule:true};u.AttributeGroupMembership=r;return u})})();
},
	"sap/esh/search/ui/sinaNexTS/sina/AttributeGroupMetadata.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){
/*!
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.define(["./AttributeType","./AttributeMetadataBase"],function(t,e){"use strict";const s=t["AttributeType"];const i=e["AttributeMetadataBase"];class a extends i{type=(()=>s.Group)();label;isSortable=false;template;attributes=[];displayAttributes=[];constructor(t){super(t);this.id=t.id??this.id;this.usage=t.usage??this.usage;this.label=t.label??this.label;this.isSortable=t.isSortable??this.isSortable;this.template=t.template??this.template;this.attributes=t.attributes??this.attributes;this.displayAttributes=t.displayAttributes??this.displayAttributes}}var r={__esModule:true};r.AttributeGroupMetadata=a;return r})})();
},
	"sap/esh/search/ui/sinaNexTS/sina/AttributeGroupTextArrangement.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){
/*!
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.define([],function(){"use strict";var t=function(t){t["TextFirst"]="TextFirst";t["TextLast"]="TextLast";t["TextOnly"]="TextOnly";t["TextSeparate"]="TextSeparate";return t}(t||{});var e={__esModule:true};e.AttributeGroupTextArrangement=t;return e})})();
},
	"sap/esh/search/ui/sinaNexTS/sina/AttributeMetadata.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){
/*!
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.define(["./AttributeMetadataBase"],function(t){"use strict";const e=t["AttributeMetadataBase"];class i extends e{label;isSortable;isKey;matchingStrategy;isHierarchy;hierarchyName;hierarchyDisplayType;iconUrlAttributeName;_private={semanticObjectType:"",temporaryUsage:{}};constructor(t){super(t);this.label=t.label??this.label;this.isSortable=t.isSortable??this.isSortable;this.format=t.format??this.format;this.isKey=t.isKey??this.isKey;this.semantics=t.semantics??this.semantics;this.matchingStrategy=t.matchingStrategy??this.matchingStrategy;this.isHierarchy=t.isHierarchy??false;this.hierarchyName=t.hierarchyName;this.hierarchyDisplayType=t.hierarchyDisplayType;this.iconUrlAttributeName=t.iconUrlAttributeName}}var a={__esModule:true};a.AttributeMetadata=i;return a})})();
},
	"sap/esh/search/ui/sinaNexTS/sina/AttributeMetadataBase.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){
/*!
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.define(["./SinaObject"],function(s){"use strict";const t=s["SinaObject"];class e extends t{id;usage;displayOrder;groups=[];type;format;semantics;constructor(s){super(s);this.id=s.id??this.id;this.usage=s.usage??this.usage;this.displayOrder=s.displayOrder??this.displayOrder;this.groups=s.groups??this.groups;this.type=s.type}}var i={__esModule:true};i.AttributeMetadataBase=e;return i})})();
},
	"sap/esh/search/ui/sinaNexTS/sina/AttributeSemanticsType.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){
/*!
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.define([],function(){"use strict";var e=function(e){e["PhoneNr"]="PhoneNr";e["EmailAddress"]="EmailAddress";e["HTTPURL"]="HTTPURL";e["FirstName"]="FirstName";e["LastName"]="LastName";return e}(e||{});var t={__esModule:true};t.AttributeSemanticsType=e;return t})})();
},
	"sap/esh/search/ui/sinaNexTS/sina/AttributeType.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){
/*!
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.define([],function(){"use strict";var e=function(e){e["Double"]="Double";e["Integer"]="Integer";e["String"]="String";e["ImageUrl"]="ImageUrl";e["ImageBlob"]="ImageBlob";e["GeoJson"]="GeoJson";e["Date"]="Date";e["Time"]="Time";e["Timestamp"]="Timestamp";e["Group"]="Group";e["INAV2_SearchTerms"]="$$SearchTerms$$";e["INAV2_SuggestionTerms"]="$$SuggestionTerms$$";return e}(e||{});var r={__esModule:true};r.AttributeType=e;return r})})();
},
	"sap/esh/search/ui/sinaNexTS/sina/AttributeUsageType.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){})();
},
	"sap/esh/search/ui/sinaNexTS/sina/Capabilities.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){
/*!
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.define(["./SinaObject"],function(e){"use strict";const s=e["SinaObject"];class t extends s{fuzzy=false;nlq=false;constructor(e){super(e);this.fuzzy=e.fuzzy??false;this.nlq=e.nlq??false}}var n={__esModule:true};n.Capabilities=t;return n})})();
},
	"sap/esh/search/ui/sinaNexTS/sina/ChartQuery.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){
/*!
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.define(["../core/core","./DataSourceType","./FacetQuery"],function(e,t,r){"use strict";const s=t["DataSourceSubType"];const i=t["DataSourceType"];const n=r["FacetQuery"];class o extends n{top=5;dimension;constructor(e){super(e);this.top=e.top??this.top;this.dimension=e.dimension??this.dimension}equals(e){return e instanceof o&&super.equals(e)&&this.dimension===e.dimension}clone(){return new o({label:this.label,icon:this.icon,skip:this.skip,top:this.top,nlq:this.nlq,sortOrder:this.sortOrder,filter:this.filter.clone(),sina:this.sina,dimension:this.dimension})}async _formatResultSetAsync(t){return e.executeSequentialAsync(this.sina.chartResultSetFormatters,function(e){return e.formatAsync(t)})}async _execute(e){return this._doExecuteChartQuery(e)}async _doExecuteChartQuery(e){const t=this._filteredQueryTransform(e);const r=await this.sina.provider.executeChartQuery(t);return this._filteredQueryBackTransform(e,r)}_filteredQueryTransform(e){return this._genericFilteredQueryTransform(e)}_filteredQueryBackTransform(e,t){if(e.filter.dataSource.type!==i.BusinessObject||e.filter.dataSource.subType!==s.Filtered){return t}t.query=e;return t}}var u={__esModule:true};u.ChartQuery=o;return u})})();
},
	"sap/esh/search/ui/sinaNexTS/sina/ChartResultSet.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){
/*!
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.define(["./FacetResultSet","./FacetType"],function(e,t){"use strict";const s=e["FacetResultSet"];const c=t["FacetType"];class u extends s{type=(()=>c.Chart)()}var a={__esModule:true};a.ChartResultSet=u;return a})})();
},
	"sap/esh/search/ui/sinaNexTS/sina/ChartResultSetItem.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){
/*!
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.define(["./FacetResultSetItem"],function(t){"use strict";const e=t["FacetResultSetItem"];class i extends e{filterCondition;icon;constructor(t){super(t);this.filterCondition=t.filterCondition??this.filterCondition;this.icon=t.icon}}var n={__esModule:true};n.ChartResultSetItem=i;return n})})();
},
	"sap/esh/search/ui/sinaNexTS/sina/ComparisonOperator.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){
/*!
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.define([],function(){"use strict";var e=function(e){e["Search"]="Search";e["Eq"]="Eq";e["Ne"]="Ne";e["Gt"]="Gt";e["Lt"]="Lt";e["Ge"]="Ge";e["Le"]="Le";e["Co"]="Co";e["Bw"]="Bw";e["Ew"]="Ew";e["ChildOf"]="ChildOf";e["DescendantOf"]="DescendantOf";return e}(e||{});var t={__esModule:true};t.ComparisonOperator=e;return t})})();
},
	"sap/esh/search/ui/sinaNexTS/sina/ComplexCondition.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){
/*!
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.define(["./Condition","./ConditionType","./LogicalOperator","./SimpleCondition"],function(t,i,o,n){"use strict";const e=t["Condition"];const s=i["ConditionType"];const r=o["LogicalOperator"];const c=n["SimpleCondition"];class l extends e{type=(()=>s.Complex)();operator=(()=>r.And)();conditions=[];constructor(t){super(t);this.operator=t.operator??this.operator;this.conditions=t.conditions??this.conditions}clone(){const t=[];for(let i=0;i<this.conditions.length;++i){t.push(this.conditions[i].clone())}return new l({sina:this.sina,operator:this.operator,conditions:t,valueLabel:this.valueLabel,attributeLabel:this.attributeLabel})}equals(t){if(!(t instanceof l)){return false}if(this.operator!==t.operator){return false}if(this.conditions.length!==t.conditions.length){return false}const i={};for(let o=0;o<this.conditions.length;++o){const n=this.conditions[o];let e=false;for(let o=0;o<t.conditions.length;++o){if(i[o]){continue}const s=t.conditions[o];if(n.equals(s)){e=true;i[o]=true;break}}if(!e){return false}}return true}containsAttribute(t){for(const i of this.conditions){if(i.containsAttribute(t)){return true}}return false}_collectAttributes(t){for(const i of this.conditions){i._collectAttributes(t)}}addCondition(t){if(!(t instanceof e)){t=this.sina.createSimpleCondition(t)}this.conditions.push(t)}removeConditionAt(t){this.conditions.splice(t,1)}hasFilters(){return this.conditions.length>=1}removeAttributeConditions(t){let i={deleted:false,attribute:"",value:""};for(let o=0;o<this.conditions.length;++o){const n=this.conditions[o];switch(n.type){case s.Complex:i=n.removeAttributeConditions(t);break;case s.Simple:if(n.attribute===t){i={deleted:true,attribute:n.attribute,value:n.value};this.removeConditionAt(o);o--}break}}this.cleanup();return i}getAttributeConditions(t){const i=[];const o=function(t,n){switch(t.type){case s.Complex:for(let i=0;i<t.conditions.length;i++){o(t.conditions[i],n)}break;case s.Simple:if(t.attribute===n){i.push(t)}break}};o(this,t);return i}cleanup(){let t=false;const i=function(o){for(let n=0;n<o.conditions.length;++n){const e=o.conditions[n];switch(e.type){case s.Complex:i(e);if(e.conditions.length===0){t=true;o.removeConditionAt(n);n--}break;case s.Simple:break}}};do{t=false;i(this)}while(t)}resetConditions(){this.conditions.splice(0,this.conditions.length)}getFirstAttribute(){if(this.conditions.length===0){return null}if(this.conditions[0]instanceof l){return this.conditions[0].getFirstAttribute()}if(this.conditions[0]instanceof c){return this.conditions[0].getFirstAttribute()}throw new Error("Condition is neither simple nor complex")}_collectFilterConditions(t,i){for(const o of this.conditions){o._collectFilterConditions(t,i)}}toJson(){const t={type:s.Complex,operator:this.operator,conditions:[],valueLabel:this.valueLabel,attributeLabel:this.attributeLabel};for(let i=0;i<this.conditions.length;++i){const o=this.conditions[i];if(o instanceof l){t.conditions.push(o.toJson())}if(o instanceof c){t.conditions.push(o.toJson())}}if(this.userDefined){t.userDefined=true}return t}}var a={__esModule:true};a.ComplexCondition=l;return a})})();
},
	"sap/esh/search/ui/sinaNexTS/sina/Condition.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){
/*!
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.define(["./SinaObject"],function(t){"use strict";const e=t["SinaObject"];class i extends e{type;attributeLabel;valueLabel;userDefined;operator;constructor(t){super({sina:t.sina});this.attributeLabel=t.attributeLabel;this.valueLabel=t.valueLabel;this.userDefined=t.userDefined}getAttributes(){const t={};this._collectAttributes(t);return Object.keys(t)}getConditionsByAttribute(t){const e=[];this._collectFilterConditions(t,e);return e}}var s={__esModule:true};s.Condition=i;return s})})();
},
	"sap/esh/search/ui/sinaNexTS/sina/ConditionType.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){
/*!
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.define([],function(){"use strict";var e=function(e){e["Simple"]="Simple";e["Complex"]="Complex";return e}(e||{});var n={__esModule:true};n.ConditionType=e;return n})})();
},
	"sap/esh/search/ui/sinaNexTS/sina/Configuration.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){
/*!
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.define(["./SinaObject","../providers/abap_odata/Provider","../providers/inav2/Provider"],function(e,i,r){"use strict";const s=e["SinaObject"];const a=i["Provider"];const n=r["Provider"];class t extends s{personalizedSearch;isPersonalizedSearchEditable;setPersonalizedSearch(e){this.personalizedSearch=e}constructor(e){super(e);this.personalizedSearch=e.personalizedSearch??this.personalizedSearch;this.isPersonalizedSearchEditable=e.isPersonalizedSearchEditable??this.isPersonalizedSearchEditable}async resetPersonalizedSearchDataAsync(){if(this.sina.provider instanceof n||this.sina.provider instanceof a){return this.sina.provider.resetPersonalizedSearchDataAsync()}}async saveAsync(){if(this.sina.provider instanceof n||this.sina.provider instanceof a){return this.sina.provider.saveConfigurationAsync(this)}}}var o={__esModule:true};o.Configuration=t;return o})})();
},
	"sap/esh/search/ui/sinaNexTS/sina/DataSource.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){
/*!
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.define(["./SinaObject","./DataSourceType","./AttributeMetadata","./AttributeGroupMetadata","../core/errors","./HierarchyDisplayType","./MatchingStrategy","./AttributeType"],function(t,a,e,i,r,s,h,u){"use strict";const c=t["SinaObject"];const n=a["DataSourceType"];const o=e["AttributeMetadata"];const l=i["AttributeGroupMetadata"];const d=r["DataSourceAttributeMetadataNotFoundError"];const b=s["HierarchyDisplayType"];const y=h["MatchingStrategy"];const p=u["AttributeType"];class M extends c{annotations;type;subType;id;label;labelPlural;icon;hidden=false;usage={};attributesMetadata=[];attributeMetadataMap={};attributeGroupsMetadata=[];attributeGroupMetadataMap={};isHierarchyDataSource;hierarchyName;hierarchyDisplayType;hierarchyAttribute;_hierarchyDataSource;system;_hierarchyAttributeGroupMetadata;_staticHierarchyAttributeMetadata;static getAllDataSource(){return new M({id:"All",label:"All",type:n.Category})}constructor(t){super({sina:t.sina});this.annotations=t.annotations??this.annotations;this.type=t.type??this.type;this.subType=t.subType;this.id=t.id??this.id;this.label=t.label??this.label;this.labelPlural=t.labelPlural??this.labelPlural;this.icon=t.icon;this.hidden=t.hidden??this.hidden;this.usage=t.usage??this.usage;this.attributesMetadata=t.attributesMetadata??this.attributesMetadata;this.attributeMetadataMap=t.attributeMetadataMap??this.createAttributeMetadataMap(this.attributesMetadata);this.attributeGroupsMetadata=t.attributeGroupsMetadata??this.attributeGroupsMetadata;this.attributeGroupMetadataMap=t.attributeGroupMetadataMap??this.attributeGroupMetadataMap;this.isHierarchyDataSource=t.isHierarchyDataSource;this.hierarchyName=t.hierarchyName;this.hierarchyDisplayType=t.hierarchyDisplayType;this.hierarchyAttribute=t.hierarchyAttribute;if(!this.labelPlural||this.labelPlural.length===0){this.labelPlural=this.label}if(this.type===n.BusinessObject&&this.attributesMetadata.length===0){}}_configure(){const t=this.sina.metadataFormatters;if(!t){return}for(let a=0;a<t.length;++a){const e=t[a];e.format({dataSources:[this]})}}createAttributeMetadataMap(t=[]){const a={};for(let e=0;e<t.length;++e){const i=t[e];a[i.id]=i}return a}getAttributeMetadata(t){if(this.id==="All"){return this.getCommonAttributeMetadata(t)}if(this.id==="CD$ALL~ESH_TRANSACTION~"&&(t==="TCDTEXT"||t==="TCODE")&&!this.attributeMetadataMap[t]){this.attributeMetadataMap[t]=new o({label:"label",isSortable:false,isKey:false,matchingStrategy:y.Text,id:t,usage:{Title:{displayOrder:1}},type:p.String})}const a=this.attributeMetadataMap[t];if(a){return a}throw new d(t,this.id)}getAttributeGroupMetadata(t){if(this.attributeGroupMetadataMap){const a=this.attributeGroupMetadataMap[t];if(a){return a}}throw new d(t,this.id)}getCommonAttributeMetadata(t){for(const a of this.sina.dataSources){if(a.type!==n.BusinessObject){continue}const e=a.attributeMetadataMap[t];if(e){return e}}throw new d(t,this.id)}getHierarchyDataSource(){if(this._hierarchyDataSource instanceof M){return this._hierarchyDataSource}for(let t=0;t<this.attributesMetadata.length;++t){const a=this.attributesMetadata[t];if(!a.isHierarchy){continue}if(a.hierarchyDisplayType===b.StaticHierarchyFacet||a.hierarchyDisplayType===b.HierarchyResultView){this._hierarchyDataSource=this.sina.getHierarchyDataSource(a.hierarchyName);return this._hierarchyDataSource}}return undefined}getStaticHierarchyAttributeMetadata(){if(this._staticHierarchyAttributeMetadata){return this._staticHierarchyAttributeMetadata}for(let t=0;t<this.attributesMetadata.length;++t){const a=this.attributesMetadata[t];if(!a.isHierarchy){continue}if(a.hierarchyDisplayType===b.StaticHierarchyFacet){this._staticHierarchyAttributeMetadata=a;return this._staticHierarchyAttributeMetadata}}return undefined}_getStaticHierarchyAttributeForDisplay(){if(this._hierarchyAttributeGroupMetadata instanceof l||this._hierarchyAttributeGroupMetadata instanceof o){return this._hierarchyAttributeGroupMetadata}const t=this.hierarchyAttribute||this.getHierarchyDataSource()?.hierarchyAttribute;if(!t){return undefined}for(let a=0;a<this.attributeGroupsMetadata.length;a++){const e=this.attributeGroupsMetadata[a];const i=e._private?.parentAttribute;if(i instanceof o&&i.id===t&&e._private?.isDescription===true){this._hierarchyAttributeGroupMetadata=e;return this._hierarchyAttributeGroupMetadata}}this._hierarchyAttributeGroupMetadata=this.attributeMetadataMap[this.hierarchyAttribute];return this._hierarchyAttributeGroupMetadata}toJson(){return{type:this.type,id:this.id,label:this.label,labelPlural:this.labelPlural}}}var A={__esModule:true};A.DataSource=M;return A})})();
},
	"sap/esh/search/ui/sinaNexTS/sina/DataSourceConfiguration.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){})();
},
	"sap/esh/search/ui/sinaNexTS/sina/DataSourceQuery.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){
/*!
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.define(["./FacetQuery"],function(e){"use strict";const t=e["FacetQuery"];class u extends t{dataSource;constructor(e){super(e);this.dataSource=e.dataSource??this.dataSource}}var r={__esModule:true};r.DataSourceQuery=u;return r})})();
},
	"sap/esh/search/ui/sinaNexTS/sina/DataSourceResultSet.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){
/*!
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.define(["./FacetResultSet","./FacetType"],function(e,t){"use strict";const c=e["FacetResultSet"];const s=t["FacetType"];class u extends c{type=(()=>s.DataSource)()}var a={__esModule:true};a.DataSourceResultSet=u;return a})})();
},
	"sap/esh/search/ui/sinaNexTS/sina/DataSourceResultSetItem.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){
/*!
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.define(["./FacetResultSetItem"],function(t){"use strict";const e=t["FacetResultSetItem"];class u extends e{dataSource;constructor(t){super(t);this.dataSource=t.dataSource??this.dataSource}}var a={__esModule:true};a.DataSourceResultSetItem=u;return a})})();
},
	"sap/esh/search/ui/sinaNexTS/sina/DataSourceSuggestion.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){
/*!
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.define(["./Suggestion","./SuggestionType"],function(t,e){"use strict";const u=t["Suggestion"];const o=e["SuggestionType"];class s extends u{type=(()=>o.DataSource)();dataSource;constructor(t){super(t);this.dataSource=t.dataSource??this.dataSource}}var a={__esModule:true};a.DataSourceSuggestion=s;return a})})();
},
	"sap/esh/search/ui/sinaNexTS/sina/DataSourceType.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){
/*!
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.define([],function(){"use strict";var e=function(e){e["BusinessObject"]="BusinessObject";e["Category"]="Category";e["UserCategory"]="UserCategory";return e}(e||{});var r=function(e){e["Filtered"]="Filtered";return e}(r||{});var t={__esModule:true};t.DataSourceType=e;t.DataSourceSubType=r;return t})})();
},
	"sap/esh/search/ui/sinaNexTS/sina/EqualsMode.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){
/*!
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.define([],function(){"use strict";var e=function(e){e["CheckFireQuery"]="CheckFireQuery";return e}(e||{});var r={__esModule:true};r.EqualsMode=e;return r})})();
},
	"sap/esh/search/ui/sinaNexTS/sina/FacetQuery.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){
/*!
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.define(["./Query"],function(e){"use strict";const r=e["Query"];class t extends r{constructor(e){super(e);this.properties=e}clone(){return new t(this.properties)}_execute(e){return Promise.resolve(null)}_formatResultSetAsync(e){return Promise.resolve(null)}}var s={__esModule:true};s.FacetQuery=t;return s})})();
},
	"sap/esh/search/ui/sinaNexTS/sina/FacetResultSet.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){
/*!
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.define(["./ResultSet"],function(t){"use strict";const e=t["ResultSet"];class s extends e{type;constructor(t){super(t)}toString(){const t=[];t.push("--Facet");t.push(super.toString());return t.join("\n")}}var u={__esModule:true};u.FacetResultSet=s;return u})})();
},
	"sap/esh/search/ui/sinaNexTS/sina/FacetResultSetItem.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){
/*!
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.define(["./ResultSetItem"],function(e){"use strict";const t=e["ResultSetItem"];class a extends t{dimensionValueFormatted;measureValue;measureValueFormatted;constructor(e){super(e);this.dimensionValueFormatted=e.dimensionValueFormatted??this.dimensionValueFormatted;this.measureValue=e.measureValue??this.measureValue;this.measureValueFormatted=e.measureValueFormatted??this.measureValueFormatted}toString(){return this.dimensionValueFormatted+":"+this.measureValueFormatted}}var u={__esModule:true};u.FacetResultSetItem=a;return u})})();
},
	"sap/esh/search/ui/sinaNexTS/sina/FacetType.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){
/*!
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.define([],function(){"use strict";var r=function(r){r["Chart"]="Chart";r["DataSource"]="DataSource";r["Hierarchy"]="Hierarchy";return r}(r||{});var e={__esModule:true};e.FacetType=r;return e})})();
},
	"sap/esh/search/ui/sinaNexTS/sina/Filter.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){
/*!
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.define(["./SinaObject","./SimpleCondition","./ComplexCondition","./LogicalOperator","../core/errors","./HierarchyDisplayType","./DataSourceType","./i18n"],function(t,i,o,e,r,n,s,a){"use strict";const c=t["SinaObject"];const h=i["SimpleCondition"];const d=o["ComplexCondition"];const u=e["LogicalOperator"];const l=r["CanOnlyAutoInsertComplexConditionError"];const f=r["InternalSinaError"];const C=n["HierarchyDisplayType"];const S=s["DataSourceSubType"];const y=a["getText"];class p extends c{dataSource;searchTerm="";rootCondition;constructor(t){super(t);this.dataSource=t.dataSource??this.sina.getAllDataSource();this.searchTerm=t.searchTerm??this.searchTerm;this.rootCondition=t.rootCondition??new d({sina:this.sina})}setSearchTerm(t){this.searchTerm=t}setRootCondition(t){this.rootCondition=t}clone(){return new p({sina:this.sina,dataSource:this.dataSource,searchTerm:this.searchTerm,rootCondition:this.rootCondition.clone()})}equals(t){return t instanceof p&&this.dataSource===t.dataSource&&this.searchTerm===t.searchTerm&&this.rootCondition.equals(t.rootCondition)}_getAttribute(t){if(t instanceof h){return t.attribute}for(let i=0;i<t.conditions.length;++i){const o=this._getAttribute(t.conditions[i]);if(o){return o}}}setDataSource(t){if(this.dataSource===t){return}this.dataSource=t;this.resetConditions()}resetConditions(){this.rootCondition.resetConditions()}autoInsertCondition(t){if(!(this.rootCondition instanceof d)){throw new l}const i=this._getAttribute(t);let o,e;for(let t=0;t<this.rootCondition.conditions.length;++t){e=this.rootCondition.conditions[t];const r=this._getAttribute(e);if(r===i){o=e;break}}if(!o){o=this.sina.createComplexCondition({operator:u.Or});this.rootCondition.addCondition(o)}for(let i=0;i<o.conditions.length;++i){e=o.conditions[i];if(e.equals(t)){return}}o.addCondition(t)}autoRemoveCondition(t){const i=function(t,o){for(let e=0;e<t.conditions.length;++e){const r=t.conditions[e];if(r.equals(o)){t.removeConditionAt(e);e--;continue}if(r instanceof d){i(r,o);if(r.conditions.length===0){t.removeConditionAt(e);e--;continue}}}};i(this.rootCondition,t)}isFolderMode(){if(!this.sina.configuration?.folderMode){return false}const t=this.dataSource.attributesMetadata.filter(t=>t.isHierarchy&&t.hierarchyDisplayType===C.StaticHierarchyFacet);const i=t.length>0;const o=this.dataSource.isHierarchyDataSource&&this.dataSource.hierarchyDisplayType===C.HierarchyResultView;if(!i&&!o){return false}if(this.dataSource.subType===S.Filtered){return false}const e=this.getFolderAttribute();const r=this.rootCondition.getAttributes();const n=r.filter(t=>t===e);const s=r.filter(t=>t!=e);if(!this.sina.configuration.folderModeForInitialSearch){if(n.length===0){return false}}if((this.searchTerm.length===0||this.searchTerm.trim()==="*")&&s.length===0){return true}else{return false}}getFolderAttribute(){if(this.dataSource.isHierarchyDataSource&&this.dataSource.hierarchyDisplayType===C.HierarchyResultView){return this.dataSource.hierarchyAttribute}const t=this.dataSource.attributesMetadata.filter(t=>t.isHierarchy&&t.hierarchyDisplayType===C.StaticHierarchyFacet);if(t.length===0){throw new f({message:y("error.sina.hierarchyAttributesMissing")})}return t[0].id}toJson(){return{dataSource:this.dataSource.toJson(),searchTerm:this.searchTerm,rootCondition:this.rootCondition.toJson()}}}var g={__esModule:true};g.Filter=p;return g})})();
},
	"sap/esh/search/ui/sinaNexTS/sina/FilteredDataSource.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){
/*!
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.define(["./DataSource"],function(a){"use strict";const t=a["DataSource"];class e extends t{dataSource;filterCondition;constructor(a){a.annotations=a.annotations??a.dataSource.annotations;a.hidden=a.hidden??a.dataSource.hidden;a.attributesMetadata=a.attributesMetadata??a.dataSource.attributesMetadata;a.attributeMetadataMap=a.attributeMetadataMap??a.dataSource.attributeMetadataMap;a.attributeGroupsMetadata=a.attributeGroupsMetadata??a.dataSource.attributeGroupsMetadata;a.attributeGroupMetadataMap=a.attributeGroupMetadataMap??a.dataSource.attributeGroupMetadataMap;a.isHierarchyDataSource=a.isHierarchyDataSource??a.dataSource.isHierarchyDataSource;a.hierarchyName=a.hierarchyName??a.dataSource.hierarchyName;a.hierarchyDisplayType=a.hierarchyDisplayType??a.dataSource.hierarchyDisplayType;a.hierarchyAttribute=a.hierarchyAttribute??a.dataSource.hierarchyAttribute;super(a);this.dataSource=a.dataSource;this.filterCondition=a.filterCondition}}var r={__esModule:true};r.FilteredDataSource=e;return r})})();
},
	"sap/esh/search/ui/sinaNexTS/sina/HierarchyDisplayType.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){
/*!
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.define([],function(){"use strict";var e=function(e){e["StaticHierarchyFacet"]="StaticHierarchyFacet";e["HierarchyResultView"]="HierarchyResultView";e["DynamicHierarchyFacet"]="DynamicHierarchyFacet";return e}(e||{});var r={__esModule:true};r.HierarchyDisplayType=e;return r})})();
},
	"sap/esh/search/ui/sinaNexTS/sina/HierarchyNode.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){sap.ui.define(["./SinaObject"],function(i){"use strict";const s=i["SinaObject"];class t extends s{id;label;count;hasChildren;icon;isFirst;isLast;parentNode;childNodes;childNodeMap;constructor(i){super(i);this.id=i.id;this.label=i.label;this.count=i.count;this.hasChildren=i.hasChildren;this.icon=i.icon;this.isFirst=i.isFirst;this.isLast=i.isLast;this.parentNode=null;this.childNodes=[];this.childNodeMap={}}equals(i){return this.id===i.id}addChildNode(i){if(this.childNodeMap[i.id]){return}this.childNodes.push(i);this.childNodeMap[i.id]=i;i.parentNode=this}}var e={__esModule:true};e.HierarchyNode=t;return e})})();
},
	"sap/esh/search/ui/sinaNexTS/sina/HierarchyNodePath.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){sap.ui.define(["./SinaObject"],function(t){"use strict";const e=t["SinaObject"];class n extends e{name;path;constructor(t){super(t);this.name=t.name;this.path=t.path}}var a={__esModule:true};a.HierarchyNodePath=n;return a})})();
},
	"sap/esh/search/ui/sinaNexTS/sina/HierarchyQuery.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){
/*!
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.define(["./DataSourceType","./FacetQuery"],function(e,t){"use strict";const r=e["DataSourceSubType"];const i=e["DataSourceType"];const s=t["FacetQuery"];class n extends s{attributeId;nodeId;constructor(e){super(e);this.top=e.top??30;this.attributeId=e.attributeId;this.nodeId=e.nodeId}equals(e){return e instanceof n&&super.equals(e)&&this.nodeId===e.nodeId}clone(){return new n({label:this.label,icon:this.icon,top:this.top,skip:this.skip,nlq:this.nlq,sortOrder:this.sortOrder,filter:this.filter.clone(),searchTerm:this.getSearchTerm(),sina:this.sina,attributeId:this.attributeId,nodeId:this.nodeId})}async _execute(e){return this._doExecuteHierarchyQuery(e)}async _doExecuteHierarchyQuery(e){const t=this._filteredQueryTransform(e);const r=await this.sina.provider.executeHierarchyQuery(t);return this._filteredQueryBackTransform(e,r)}_filteredQueryTransform(e){return this._genericFilteredQueryTransform(e)}_filteredQueryBackTransform(e,t){if(e.filter.dataSource.type!==i.BusinessObject||e.filter.dataSource.subType!==r.Filtered){return t}t.query=e;return t}}var u={__esModule:true};u.HierarchyQuery=n;return u})})();
},
	"sap/esh/search/ui/sinaNexTS/sina/HierarchyResultSet.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){
/*!
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.define(["./FacetResultSet","./FacetType"],function(e,t){"use strict";const s=e["FacetResultSet"];const c=t["FacetType"];class n extends s{type=(()=>c.Hierarchy)();node;constructor(e){super(e);this.node=e.node}}var r={__esModule:true};r.HierarchyResultSet=n;return r})})();
},
	"sap/esh/search/ui/sinaNexTS/sina/LogicalOperator.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){
/*!
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.define([],function(){"use strict";var r=function(r){r["And"]="And";r["Or"]="Or";r["Not"]="Not";r["Row"]="Row";return r}(r||{});var n={__esModule:true};n.LogicalOperator=r;return n})})();
},
	"sap/esh/search/ui/sinaNexTS/sina/MatchingStrategy.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){
/*!
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.define([],function(){"use strict";var t=function(t){t["Exact"]="Exact";t["Text"]="Text";return t}(t||{});var e={__esModule:true};e.MatchingStrategy=t;return e})})();
},
	"sap/esh/search/ui/sinaNexTS/sina/NavigationTarget.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){
/*!
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.define(["./SinaObject"],function(t){"use strict";const i=t["SinaObject"];class n extends i{targetUrl;targetFunction;targetFunctionCustomData;customWindowOpenFunction;text;icon;tooltip;target;parent;constructor(t){super(t);this.targetUrl=t.targetUrl??this.targetUrl;this.targetFunction=t.targetFunction??this.targetFunction;this.targetFunctionCustomData=t.targetFunctionCustomData??this.targetFunctionCustomData;this.customWindowOpenFunction=t.customWindowOpenFunction;this.text=t.text??this.text;this.icon=t.icon??this.icon;this.tooltip=t.tooltip??this.tooltip;this.target=t.target??this.target??"_self"}trackNavigation(){const t=this.sina?.configuration?.navigationTrackers;if(!t){return}for(const i of t){i(this)}}performNavigation(t){t=t||{};const i=t.trackingOnly||false;this.trackNavigation();if(i){return}if(this.targetFunction){this.targetFunction(t?.event)}else{if(this.customWindowOpenFunction){this.customWindowOpenFunction();return}if(this.target){window.open(this.targetUrl,this.target,"noopener,noreferrer")}else{window.open(this.targetUrl,"_blank","noopener,noreferrer")}}}isEqualTo(t){if(!t){return false}return this.targetUrl==t.targetUrl&&this.targetFunction===t.targetFunction}toJson(){return{targetUrl:this.targetUrl,text:this.text,icon:this.icon,tooltip:this.tooltip,target:this.target}}}var e={__esModule:true};e.NavigationTarget=n;return e})})();
},
	"sap/esh/search/ui/sinaNexTS/sina/NlqResult.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){})();
},
	"sap/esh/search/ui/sinaNexTS/sina/NullValue.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){sap.ui.define([],function(){"use strict";class u{}var e={__esModule:true};e.NullValue=u;return e})})();
},
	"sap/esh/search/ui/sinaNexTS/sina/ObjectSuggestion.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){
/*!
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.define(["./Suggestion","./SuggestionType"],function(t,e){"use strict";const s=t["Suggestion"];const n=e["SuggestionType"];class o extends s{type=(()=>n.Object)();constructor(t){super(t);this.object=t.object??this.object;this.object.parent=this}}var c={__esModule:true};c.ObjectSuggestion=o;return c})})();
},
	"sap/esh/search/ui/sinaNexTS/sina/Query.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){sap.ui.define(["../core/core","../core/util","./SinaObject","./Filter","./LogicalOperator","../core/errors","./FilteredDataSource"],function(t,e,r,i,s,o,n){"use strict";const l=r["SinaObject"];const a=i["Filter"];const u=s["LogicalOperator"];const c=o["QueryIsReadOnlyError"];const h=n["FilteredDataSource"];class f extends l{label;icon;filter;requestTimeout=false;sortOrder;skip;top;nlq;_lastQuery;_resultSetPromise;constructor(t){super(t);this.top=t.top??10;this.skip=t.skip??0;this.nlq=t.nlq??false;this.sortOrder=t.sortOrder??[];this.filter=t.filter??this.filter??new a({sina:this.sina});this.icon=t.icon;this.label=t.label;if(t.dataSource){this.filter.setDataSource(t.dataSource)}if(t.searchTerm){this.filter.setSearchTerm(t.searchTerm)}if(t.rootCondition){this.filter.setRootCondition(t.rootCondition)}if(this.requestTimeout){}if(!t.suppressRefuseOutdatedResponsesDecorator){this._execute=e.refuseOutdatedResponsesDecorator(this._execute)}}setTop(t=10){this.top=t}setSkip(t=0){this.skip=t}setNlq(t){this.nlq=t}setSortOrder(t){this.sortOrder=t}async _execute(t){return Promise.resolve(null)}clone(){return}equals(e){return e instanceof f&&this.icon===e.icon&&this.label===e.label&&this.top===e.top&&this.skip===e.skip&&this.nlq===e.nlq&&this.filter.equals(e.filter)&&t.equals(this.sortOrder,e.sortOrder)}abort(){}async getResultSetAsync(){if(this._lastQuery){if(this.equals(this._lastQuery)){return this._resultSetPromise}if(!this.filter.equals(this._lastQuery.filter)){this.setSkip(0)}}this._lastQuery=this._createReadOnlyClone();let t;this._resultSetPromise=Promise.resolve().then(function(){return this._execute(this._lastQuery)}.bind(this)).then(function(e){t=e;return this._formatResultSetAsync(t)}.bind(this)).then(function(){return t}.bind(this));return this._resultSetPromise}_genericFilteredQueryTransform(t){if(!(t.filter.dataSource instanceof h)){return t}let e;if(t.filter.dataSource.filterCondition){if(t.filter.rootCondition.conditions.length>0){e=this.sina.createComplexCondition({operator:u.And,conditions:[t.filter.dataSource.filterCondition,t.filter.rootCondition]})}else{e=t.filter.dataSource.filterCondition}}else{e=t.filter.rootCondition}const r=this.sina.createFilter({dataSource:t.filter.dataSource.dataSource,searchTerm:t.filter.searchTerm,rootCondition:e});const i=t.clone();i.filter=r;return i}_formatResultSetAsync(t){return Promise.resolve()}_setResultSet(t){this._lastQuery=this._createReadOnlyClone();this._resultSetPromise=Promise.resolve().then(function(){return this._formatResultSetAsync(t)}.bind(this)).then(function(){return t});return this._resultSetPromise}_createReadOnlyClone(){const t=this.clone();t.getResultSetAsync=function(){throw new c};return t}resetResultSet(){this._lastQuery=null;this._resultSetPromise=null}getSearchTerm(){return this.filter.searchTerm}getDataSource(){return this.filter.dataSource}getRootCondition(){return this.filter.rootCondition}setSearchTerm(t){this.filter.setSearchTerm(t)}setDataSource(t){this.filter.setDataSource(t)}setRootCondition(t){this.filter.setRootCondition(t)}resetConditions(){this.filter.resetConditions()}autoInsertCondition(t){this.filter.autoInsertCondition(t)}autoRemoveCondition(t){this.filter.autoRemoveCondition(t)}setFilter(t){if(!this.filter.equals(t)){this.setSkip(0)}this.filter=t}}var d={__esModule:true};d.Query=f;return d})})();
},
	"sap/esh/search/ui/sinaNexTS/sina/ResultSet.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){
/*!
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.define(["./SinaObject","../core/Log","../core/core"],function(t,r,s){"use strict";const e=t["SinaObject"];const i=r["Log"];class o extends e{id=(()=>s.generateId())();title;items=[];query;log=(()=>new i)();errors=[];constructor(t){super(t);this.id=t.id??this.id;this.title=t.title??this.title;this.setItems(t.items||[]);this.query=t.query??this.query;this.log=t.log??this.log}setItems(t){if(!Array.isArray(t)||t.length<1){return this}this.items=[];for(let r=0;r<t?.length;r++){const s=t[r];s.parent=this;this.items.push(s)}return this}toString(){const t=[];for(let r=0;r<this.items.length;++r){const s=this.items[r];t.push(s.toString())}return t.join("\n")}hasErrors(){return this.errors.length>0}getErrors(){return this.errors}addError(t){this.errors.push(t)}addErrors(t){this.errors.push(...t)}}var n={__esModule:true};n.ResultSet=o;return n})})();
},
	"sap/esh/search/ui/sinaNexTS/sina/ResultSetItem.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){
/*!
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.define(["./SinaObject"],function(e){"use strict";const t=e["SinaObject"];class n extends t{parent}var s={__esModule:true};s.ResultSetItem=n;return s})})();
},
	"sap/esh/search/ui/sinaNexTS/sina/SearchQuery.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){
/*!
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.define(["../core/core","./Query","./EqualsMode","./ConditionType","./DataSourceType","../core/errors","./ComparisonOperator","../../timecontroller/timecontrolledexecutor"],function(e,t,s,r,i,a,c,o){"use strict";const n=t["Query"];const l=s["EqualsMode"];const u=r["ConditionType"];const h=i["DataSourceSubType"];const f=i["DataSourceType"];const d=a["QueryIsReadOnlyError"];const m=c["ComparisonOperator"];const y=o["TimeControlledExecutor"];class F{query;constructor(e){this.query=e}async execute(){const e=this.query._executeImpl(this.query);return e}equals(e){return this.query.equals(e.query)}clone(){return new F(this.query.clone())}}class p extends n{calculateFacets=false;multiSelectFacets=false;facetTop=5;timeControlledExecutor;groupBy;limitAjaxRequests=false;constructor(e){if(e.limitAjaxRequests){e.suppressRefuseOutdatedResponsesDecorator=true}super(e);this.calculateFacets=e.calculateFacets??this.calculateFacets;this.multiSelectFacets=e.multiSelectFacets??this.multiSelectFacets;this.facetTop=e.facetTop??this.facetTop;this.groupBy=e.groupBy??this.groupBy;this.limitAjaxRequests=e.limitAjaxRequests??this.limitAjaxRequests;if(this.limitAjaxRequests){this.timeControlledExecutor=new y({outdatedTimeLimit:3e3})}}setCalculateFacets(e=false){this.calculateFacets=e}setMultiSelectFacets(e=false){this.multiSelectFacets=e}setFacetTop(e=5){this.facetTop=e}_createReadOnlyClone(){const e=this.clone();e.getResultSetAsync=function(){throw new d};return e}clone(){const e=new p({skip:this.skip,top:this.top,nlq:this.nlq,filter:this.filter.clone(),sortOrder:this.sortOrder,sina:this.sina,groupBy:this.groupBy,calculateFacets:this.calculateFacets,multiSelectFacets:this.multiSelectFacets,facetTop:this.facetTop,limitAjaxRequests:this.limitAjaxRequests});return e}equals(e,t=l.CheckFireQuery){if(!(e instanceof p)){return false}if(!e){return false}if(!super.equals(e)){return false}if(this.groupBy!==e.groupBy){return false}if(this.multiSelectFacets!==e.multiSelectFacets){return false}if(this.facetTop!==e.facetTop){return false}if(this.limitAjaxRequests!==e.limitAjaxRequests){return false}switch(t){case l.CheckFireQuery:if(e.calculateFacets&&!this.calculateFacets){return true}return this.calculateFacets===e.calculateFacets;default:return this.calculateFacets===e.calculateFacets}}_execute(e){if(this.timeControlledExecutor){return this.timeControlledExecutor.execute(new F(e))}else{return this._executeImpl(e)}}async _executeImpl(e){let t;let s=[];if(this.multiSelectFacets&&this.calculateFacets){t=this._collectAttributesWithFilter(e);s=this._createChartQueries(e,t)}const r=[];const i=[];r.push(this._executeSearchQuery(e));for(let t=0;t<s.length;++t){const a=s[t];const c=e.filter.dataSource.getAttributeMetadata(a.dimension);if(!c){i.push(a)}else{if(c.usage.Facet){r.push(a.getResultSetAsync())}}}let a=await Promise.all(r);const c=[];for(let t=0;t<i.length;++t){const s=i[t];const r=e.filter.dataSource.getAttributeMetadata(s.dimension);if(r.usage.Facet){c.push(s.getResultSetAsync())}}const o=await Promise.all(c);a=a.concat(o);const n=a[0];const l=a.slice(1);this._mergeFacetsToSearchResultSet(n,l);return n}async _executeSearchQuery(e){if(e.filter.isFolderMode()){return await this._executeSearchQueryInFolderMode(e)}else{return await this._executeSearchQueryInSearchMode(e)}}async _executeSearchQueryInSearchMode(e){return await this._doExecuteSearchQuery(e)}async _executeSearchQueryInFolderMode(e){if(e.calculateFacets){const t=e;const s=this._assembleQueryForItems(e);const[r,i]=await Promise.all([this._doExecuteSearchQuery(t),this._doExecuteSearchQuery(s)]);const a=this._mergeResultSetsInNavigationFolderMode(r,i);return a}else{const t=this._assembleQueryForItems(e);const s=await this._doExecuteSearchQuery(t);s.query=e;return s}}_mergeResultSetsInNavigationFolderMode(e,t){e.items=[];for(const s of t.items){s.parent=e;e.items.push(s)}e.totalCount=t.totalCount;e.addErrors(t.getErrors());return e}_assembleQueryForItems(e){const t=e.clone();t.calculateFacets=false;const s=t.filter.getFolderAttribute();if(this.isAdditionalRootNodeFilterNeeded(t)){t.filter.autoInsertCondition(this.sina.createSimpleCondition({attribute:s,operator:m.DescendantOf,value:"$$ROOT$$"}))}const r=t.filter.rootCondition.getConditionsByAttribute(s);for(const e of r){if(e.operator===m.DescendantOf){e.operator=m.ChildOf}}return t}isAdditionalRootNodeFilterNeeded(e){const t=e.filter.getFolderAttribute();const s=e.filter.rootCondition.getConditionsByAttribute(t);const r=s.filter(e=>e.operator===m.DescendantOf);return r.length===0}async _doExecuteSearchQuery(e){const t=this._filteredQueryTransform(e);const s=await this.sina.provider.executeSearchQuery(t);return this._filteredQueryBackTransform(e,s)}_filteredQueryTransform(e){return this._genericFilteredQueryTransform(e)}_filteredQueryBackTransform(e,t){if(e.filter.dataSource.type!==f.BusinessObject||e.filter.dataSource.subType!==h.Filtered){return t}t.query=e;for(const s of t.facets){s.query.filter=e.filter.clone()}return t}async _formatResultSetAsync(t){return e.executeSequentialAsync(this.sina.searchResultSetFormatters,function(e){return e.formatAsync(t)})}_collectAttributesWithFilter(e){const t={};this._doCollectAttributes(t,e.filter.rootCondition);const s=Object.keys(t);return s.filter(t=>{const s=e.filter.dataSource.getAttributeMetadata(t);if(!s){return true}return!s.isHierarchy})}_doCollectAttributes(e,t){switch(t.type){case u.Simple:e[t.attribute]=true;break;case u.Complex:for(let s=0;s<t.conditions.length;++s){const r=t.conditions[s];this._doCollectAttributes(e,r)}break}}_createChartQuery(e,t){const s=this.sina.createChartQuery({dimension:t,top:this.facetTop,nlq:this.nlq});s.setFilter(e.filter.clone());s.filter.rootCondition.removeAttributeConditions(t);return s}_createChartQueries(e,t){const s=[];for(let r=0;r<t.length;++r){const i=t[r];const a=this._createChartQuery(e,i);s.push(a)}return s}_mergeFacetsToSearchResultSet(e,t){this._addSelectedFiltersToSearchResultSet(e);for(let s=0;s<t.length;++s){const r=t[s];this._addChartResultSetToSearchResultSet(e,r)}}_calculateFacetTitle(e,t){const s=e.getFirstAttribute();const r=t.getAttributeMetadata(s);return r.label}_addSelectedFiltersToSearchResultSet(e){const t=e.query.filter.dataSource;const s=e.query.filter.rootCondition;for(let r=0;r<s.conditions.length;r++){const i=s.conditions[r].conditions;const a=this._calculateFacetTitle(i[0],e.query.filter.dataSource);let c;switch(i[0].type){case u.Simple:c=i[0].attribute;break;case u.Complex:c=i[0].conditions[0].attribute;break}const o=t.getAttributeMetadata(c);if(o.isHierarchy){continue}const n=this._findMatchFacet(c,e.facets);let l=e.facets[n];if(!l){const t=this._createChartQuery(e.query,c);l=this.sina._createChartResultSet({title:a,items:[],query:t});e.facets.splice(n,1,l)}let h=null;if(i.length===1){h=e.totalCount}const f=[];for(let e=0;e<i.length;e++){let t;if(this._findFilterConditionInFacetItemList(i[e],l.items)>=0){t=this._findFilterConditionInFacetItemList(i[e],l.items);f.push(l.items[t])}else{f.push(this.sina._createChartResultSetItem({filterCondition:i[e],dimensionValueFormatted:i[e].valueLabel||i[e].value,measureValue:h,measureValueFormatted:i[e].valueLabel||i[e].value}))}}l.items=f}}_addChartResultSetToSearchResultSet(e,t){e.addErrors(t.getErrors());if(t.items.length===0){return}const s=t.query.dimension;const r=this._findMatchFacet(s,e.facets);const i=e.facets[r];const a=i.items;let c=false;const o=[];for(let e=0;e<a.length;e++){const s=this._findFilterConditionInFacetItemList(a[e].filterCondition,t.items);if(s>=0){if(this._isRangeFacet(t.query)){o.push(t.items[s])}}else{if(this._isRangeFacet(t.query)){c=true}o.push(a[e])}}o.sort(function(e,t){return t.measureValue-e.measureValue});if(this._isRangeFacet(t.query)){if(c){t.items=o}}else{t.items=t.items.concat(o)}e.facets.splice(r,1,t)}_findMatchFacet(e,t){let s=0;for(;s<t.length;s++){const r=t[s];if(r.query.dimension===e){break}}return s}_findFilterConditionInFacetItemList(e,t){let s=-1;for(let r=0;r<t.length;r++){const i=t[r];if(e.equals(i.filterCondition)){s=r;break}}return s}_isRangeFacet(e){const t=e.filter.dataSource.getAttributeMetadata(e.dimension);if(t.type===e.sina.AttributeType.Double){return true}return false}}var S={__esModule:true};S.SearchQuery=p;return S})})();
},
	"sap/esh/search/ui/sinaNexTS/sina/SearchResultSet.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){
/*!
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.define(["./ResultSet"],function(t){"use strict";const s=t["ResultSet"];class e extends s{facets=[];totalCount;nlqResult;hierarchyNodePaths=[];constructor(t){super(t);this.facets=t.facets??this.facets;this.totalCount=t.totalCount??this.totalCount;this.hierarchyNodePaths=t.hierarchyNodePaths??this.hierarchyNodePaths;this.nlqResult=t.nlqResult}toString(...t){const e=[];e.push(s.prototype.toString.apply(this,t));for(let t=0;t<this.facets.length;++t){const s=this.facets[t];e.push(s.toString())}return e.join("\n")}}var o={__esModule:true};o.SearchResultSet=e;return o})})();
},
	"sap/esh/search/ui/sinaNexTS/sina/SearchResultSetItem.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){
/*!
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.define(["./ResultSetItem","../core/core"],function(t,e){"use strict";const i=t["ResultSetItem"];const s=e["generateGuid"];class r extends i{dataSource;attributes;attributesMap;titleAttributes;titleDescriptionAttributes;detailAttributes;defaultNavigationTarget;navigationTargets;score=0;hierarchyNodePaths;constructor(t){super(t);this.dataSource=t.dataSource??this.dataSource;this.setAttributes(t.attributes||[]);this.setTitleAttributes(t.titleAttributes);this.setTitleDescriptionAttributes(t.titleDescriptionAttributes);this.setDetailAttributes(t.detailAttributes);this.setDefaultNavigationTarget(t.defaultNavigationTarget);this.setNavigationTargets(t.navigationTargets||[]);this.score=t.score??this.score;this.hierarchyNodePaths=t.hierarchyNodePaths??this.hierarchyNodePaths}setDefaultNavigationTarget(t){if(!t){this.defaultNavigationTarget=undefined;return}this.defaultNavigationTarget=t;t.parent=this}setNavigationTargets(t){this.navigationTargets=[];if(!t){return}for(const e of t){this.addNavigationTarget(e)}}addNavigationTarget(t){this.navigationTargets.push(t);t.parent=this}setAttributes(t){this.attributes=[];this.attributesMap={};for(const e of t){this.attributes.push(e);this.attributesMap[e.id]=e;e.parent=this}}setTitleAttributes(t){this.titleAttributes=[];if(!Array.isArray(t)||t.length<1){return this}for(let e=0;e<t.length;e++){const i=t[e];i.parent=this;this.titleAttributes.push(i)}return this}setTitleDescriptionAttributes(t){this.titleDescriptionAttributes=[];if(!Array.isArray(t)||t.length<1){return this}for(let e=0;e<t.length;e++){const i=t[e];i.parent=this;this.titleDescriptionAttributes.push(i)}return this}setDetailAttributes(t){this.detailAttributes=[];if(!Array.isArray(t)||t.length<1){return this}for(let e=0;e<t.length;e++){const i=t[e];i.parent=this;this.detailAttributes.push(i)}return this}get key(){const t=[];t.push(this.dataSource.id);for(const e of this.titleAttributes){const i=e.getSubAttributes();for(const e of i){t.push(e.value)}}if(t.length===1){t.push(s())}return t.join("-")}toString(){let t;const e=[];const i=[];for(t=0;t<this.titleAttributes.length;++t){const e=this.titleAttributes[t];i.push(e.toString())}e.push("--"+i.join(" "));for(t=0;t<this.detailAttributes.length;++t){const i=this.detailAttributes[t];e.push(i.toString())}return e.join("\n")}}var a={__esModule:true};a.SearchResultSetItem=r;return a})})();
},
	"sap/esh/search/ui/sinaNexTS/sina/SearchResultSetItemAttribute.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){
/*!
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.define(["./SearchResultSetItemAttributeBase"],function(t){"use strict";const e=t["SearchResultSetItemAttributeBase"];class i extends e{value;valueFormatted;valueHighlighted;isHighlighted;unitOfMeasure;description;defaultNavigationTarget;navigationTargets;iconUrl;tooltip;constructor(t){super(t);this.value=t.value;this.valueFormatted=t.valueFormatted;this.valueHighlighted=t.valueHighlighted;this.isHighlighted=t.isHighlighted;this.unitOfMeasure=t.unitOfMeasure;this.description=t.description;this.setDefaultNavigationTarget(t.defaultNavigationTarget);this.setNavigationTargets(t.navigationTargets||[]);this.metadata=t.metadata;this.iconUrl=t.iconUrl;this.tooltip=t.tooltip}setDefaultNavigationTarget(t){if(!t){this.defaultNavigationTarget=null;return}this.defaultNavigationTarget=t;t.parent=this}setNavigationTargets(t){this.navigationTargets=[];if(!t){return}for(const e of t){this.addNavigationTarget(e)}}addNavigationTarget(t){this.navigationTargets.push(t);t.parent=this}toString(){return this.label+":"+this.valueFormatted}getSubAttributes(){return[this]}}var a={__esModule:true};a.SearchResultSetItemAttribute=i;return a})})();
},
	"sap/esh/search/ui/sinaNexTS/sina/SearchResultSetItemAttributeBase.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){
/*!
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.define(["./SinaObject"],function(t){"use strict";const e=t["SinaObject"];class a extends e{id;label;metadata;groups=[];parent;constructor(t){super(t);this.id=t.id;this.label=t.label;this.metadata=t.metadata;this.groups=t.groups;this.parent=t.parent}toString(){return this.id}}var s={__esModule:true};s.SearchResultSetItemAttributeBase=a;return s})})();
},
	"sap/esh/search/ui/sinaNexTS/sina/SearchResultSetItemAttributeGroup.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){
/*!
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.define(["./SearchResultSetItemAttributeBase"],function(t){"use strict";const e=t["SearchResultSetItemAttributeBase"];class s extends e{template;attributes=[];displayAttributes=[];constructor(t){super(t);this.template=t.template??this.template;this.attributes=t.attributes??this.attributes;this.displayAttributes=t.displayAttributes??this.displayAttributes}toString(){let t="",e=0;let s;const i=RegExp("{[a-z]+}","gi");while((s=i.exec(this.template))!==null){t+=this.template.substring(e,s.index);const r=s[0].slice(1,-1);t+=this.attributes[r]&&this.attributes[r].valueFormatted||"";e=i.lastIndex}t+=this.template.substring(e);return this.label+":"+t}isAttributeDisplayed(t){if(Array.isArray(this.displayAttributes)){return this.displayAttributes.includes(t)}return false}getSubAttributes(){const t=[];for(const e of this.attributes){t.push(...e.attribute.getSubAttributes())}return t}}var i={__esModule:true};i.SearchResultSetItemAttributeGroup=s;return i})})();
},
	"sap/esh/search/ui/sinaNexTS/sina/SearchResultSetItemAttributeGroupMembership.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){
/*!
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.define(["./SinaObject"],function(t){"use strict";const e=t["SinaObject"];class a extends e{group;attribute;metadata;valueFormatted="";constructor(t){super(t);this.group=t.group??this.group;this.attribute=t.attribute??this.attribute;this.metadata=t.metadata??this.metadata}}var r={__esModule:true};r.SearchResultSetItemAttributeGroupMembership=a;return r})})();
},
	"sap/esh/search/ui/sinaNexTS/sina/SearchTermAISuggestion.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){sap.ui.define(["./SearchTermSuggestion","./SuggestionType"],function(e,t){"use strict";const n=e["SearchTermSuggestion"];const s=t["SuggestionType"];class r extends n{type=(()=>s.SearchTermAI)()}var u={__esModule:true};u.SearchTermAISuggestion=r;return u})})();
},
	"sap/esh/search/ui/sinaNexTS/sina/SearchTermAndDataSourceSuggestion.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){
/*!
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.define(["./SearchTermSuggestion","./SuggestionType"],function(e,t){"use strict";const r=e["SearchTermSuggestion"];const u=t["SuggestionType"];class a extends r{type=(()=>u.SearchTermAndDataSource)();dataSource;constructor(e){super(e);this.dataSource=e.dataSource??this.dataSource}}var c={__esModule:true};c.SearchTermAndDataSourceSuggestion=a;return c})})();
},
	"sap/esh/search/ui/sinaNexTS/sina/SearchTermSuggestion.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){
/*!
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.define(["./Suggestion","./SuggestionType"],function(e,s){"use strict";const t=e["Suggestion"];const i=s["SuggestionType"];class r extends t{type=(()=>i.SearchTerm)();searchTerm;filter;childSuggestions=[];constructor(e){super(e);this.searchTerm=e.searchTerm??this.searchTerm;this.filter=e.filter??this.filter;this.childSuggestions=e.childSuggestions??this.childSuggestions}}var n={__esModule:true};n.SearchTermSuggestion=r;return n})})();
},
	"sap/esh/search/ui/sinaNexTS/sina/SimpleCondition.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){
/*!
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.define(["../core/util","./ComparisonOperator","./Condition","./ConditionType"],function(t,e,i,a){"use strict";const r=e["ComparisonOperator"];const s=i["Condition"];const u=a["ConditionType"];class n extends s{type=(()=>u.Simple)();operator=(()=>r.Eq)();attribute;isDynamicValue;value;constructor(t){super(t);this.operator=t.operator??this.operator;this.attribute=t.attribute??this.attribute;this.userDefined=t.userDefined??this.userDefined;this.isDynamicValue=t.isDynamicValue??false;this.value=t.value??this.value}clone(){return new n({operator:this.operator,attribute:this.attribute,attributeLabel:this.attributeLabel,value:this.value,valueLabel:this.valueLabel,userDefined:this.userDefined,isDynamicValue:this.isDynamicValue})}equals(t){if(!(t instanceof n)){return false}if(this.attribute!==t.attribute||this.operator!==t.operator){return false}if(this.isDynamicValue!==t.isDynamicValue){return false}if(this.value instanceof Date&&t.value instanceof Date){return this.value.getTime()===t.value.getTime()}return this.value===t.value}containsAttribute(t){return this.attribute===t}_collectAttributes(t){t[this.attribute]=true}getFirstAttribute(){return this.attribute}_collectFilterConditions(t,e){if(this.attribute===t){e.push(this)}}removeAttributeConditions(t){if(this.attribute===t){throw"program error"}return{deleted:false,attribute:"",value:""}}toJson(){let e;if(this.value instanceof Date){e=t.dateToJson(this.value)}else{e=this.value}const i={type:u.Simple,operator:this.operator,attribute:this.attribute,value:e,valueLabel:this.valueLabel,attributeLabel:this.attributeLabel};if(this.userDefined){i.userDefined=true}if(this.isDynamicValue){i.dynamic=this.isDynamicValue}return i}}var o={__esModule:true};o.SimpleCondition=n;return o})})();
},
	"sap/esh/search/ui/sinaNexTS/sina/Sina.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){
/*!
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.define(["../core/core","../core/errors","../core/util","./AttributeType","./AttributeFormatType","./AttributeGroupTextArrangement","./DataSourceType","./MatchingStrategy","./LogicalOperator","./ComparisonOperator","./FacetType","./SuggestionCalculationMode","./SuggestionType","./SortOrder","./ConditionType","../providers/tools/cds/CDSAnnotationsParser","../providers/tools/sors/NavigationTargetGenerator","./SearchResultSet","./SearchResultSetItem","./SearchResultSetItemAttribute","./ObjectSuggestion","./SearchQuery","./ChartQuery","./SuggestionQuery","./DataSourceQuery","./Filter","./ComplexCondition","./SimpleCondition","./AttributeMetadata","./AttributeGroupMetadata","./AttributeGroupMembership","./SearchResultSetItemAttributeGroup","./SearchResultSetItemAttributeGroupMembership","./SearchTermSuggestion","./SearchTermAndDataSourceSuggestion","./DataSourceSuggestion","./SuggestionResultSet","./ChartResultSet","./DataSourceResultSet","./ChartResultSetItem","./DataSourceResultSetItem","./Capabilities","./Configuration","./NavigationTarget","./DataSource","./UserCategoryDataSource","../providers/tools/ItemPostParser","../providers/tools/fiori/SuvNavTargetResolver","../providers/tools/fiori/FioriIntentsResolver","./formatters/ResultValueFormatter","./formatters/NavtargetsInResultSetFormatter","./formatters/HierarchyResultSetFormatter","./FilteredDataSource","../providers/inav2/Provider","../providers/abap_odata/Provider","./HierarchyQuery","./HierarchyNode","./HierarchyResultSet","../providers/inav2/typeConverter","./HierarchyNodePath","./HierarchyDisplayType","./formatters/SuggestionResultValueFormatter","./SearchTermAISuggestion"],function(t,e,r,a,i,s,o,c,n,u,h,S,l,y,g,m,p,d,b,F,f,C,R,v,D,A,T,O,_,j,I,N,w,M,H,P,G,Q,L,E,x,J,B,V,U,k,$,z,q,K,W,X,Y,Z,tt,et,rt,at,it,st,ot,ct,nt){"use strict";const ut=a["AttributeType"];const ht=i["AttributeFormatType"];const St=s["AttributeGroupTextArrangement"];const lt=o["DataSourceSubType"];const yt=o["DataSourceType"];const gt=c["MatchingStrategy"];const mt=n["LogicalOperator"];const pt=u["ComparisonOperator"];const dt=h["FacetType"];const bt=S["SuggestionCalculationMode"];const Ft=l["SuggestionType"];const ft=y["SortOrder"];const Ct=g["ConditionType"];const Rt=m["CDSAnnotationsParser"];const vt=p["NavigationTargetGenerator"];const Dt=d["SearchResultSet"];const At=b["SearchResultSetItem"];const Tt=F["SearchResultSetItemAttribute"];const Ot=f["ObjectSuggestion"];const _t=C["SearchQuery"];const jt=R["ChartQuery"];const It=v["SuggestionQuery"];const Nt=D["DataSourceQuery"];const wt=A["Filter"];const Mt=T["ComplexCondition"];const Ht=O["SimpleCondition"];const Pt=_["AttributeMetadata"];const Gt=j["AttributeGroupMetadata"];const Qt=I["AttributeGroupMembership"];const Lt=N["SearchResultSetItemAttributeGroup"];const Et=w["SearchResultSetItemAttributeGroupMembership"];const xt=M["SearchTermSuggestion"];const Jt=H["SearchTermAndDataSourceSuggestion"];const Bt=P["DataSourceSuggestion"];const Vt=G["SuggestionResultSet"];const Ut=Q["ChartResultSet"];const kt=L["DataSourceResultSet"];const $t=E["ChartResultSetItem"];const zt=x["DataSourceResultSetItem"];const qt=J["Capabilities"];const Kt=B["Configuration"];const Wt=V["NavigationTarget"];const Xt=U["DataSource"];const Yt=k["UserCategoryDataSource"];const Zt=$["ItemPostParser"];const te=z["SuvNavTargetResolver"];const ee=q["FioriIntentsResolver"];const re=K["ResultValueFormatter"];const ae=W["NavtargetsInResultSetFormatter"];const ie=X["HierarchyResultSetFormatter"];const se=Y["FilteredDataSource"];const oe=Z["Provider"];const ce=tt["Provider"];const ne=et["HierarchyQuery"];const ue=rt["HierarchyNode"];const he=at["HierarchyResultSet"];const Se=st["HierarchyNodePath"];const le=ot["HierarchyDisplayType"];const ye=ct["SuggestionResultValueFormatter"];const ge=e["ESHNoBusinessObjectDatasourceError"];const me=nt["SearchTermAISuggestion"];class pe{errorList=[];inav2TypeConverter;provider;createSearchNavigationTarget;createSearchQuery;createChartQuery;createHierarchyQuery;createSuggestionQuery;createDataSourceQuery;createFilter;createComplexCondition;createSimpleCondition;createHierarchyNode;createHierarchyNodePath;_createAttributeMetadata;_createAttributeGroupMetadata;_createAttributeGroupMembership;_createSearchResultSetItemAttribute;_createSearchResultSetItemAttributeGroup;_createSearchResultSetItemAttributeGroupMembership;_createSearchResultSetItem;_createSearchResultSet;_createSearchTermSuggestion;_createSearchTermAISuggestion;_createSearchTermAndDataSourceSuggestion;_createDataSourceSuggestion;_createObjectSuggestion;_createSuggestionResultSet;_createChartResultSet;_createHierarchyResultSet;_createChartResultSetItem;_createDataSourceResultSetItem;_createCapabilities;_createConfiguration;_createNavigationTarget;createNavigationTarget;_createSorsNavigationTargetGenerator;_createFioriIntentsResolver;_createCDSAnnotationsParser;_createItemPostParser;_createSuvNavTargetResolver;searchResultSetFormatters;suggestionResultSetFormatters;chartResultSetFormatters;metadataFormatters;dataSources;dataSourceMap;allDataSource;DataSourceType;HierarchyDisplayType;DataSourceSubType;isDummyProvider;configurationPromise;capabilities;core;errors;util;SortOrder;ComparisonOperator;LogicalOperator;AttributeGroupTextArrangement;AttributeType;AttributeFormatType;FacetType;SuggestionType;ConditionType;SuggestionCalculationMode;MatchingStrategy;configuration;constructor(a){this.core=t;this.errors=e;this.util=r;this.inav2TypeConverter=it;this.provider=a;this.createSearchQuery=this.createSinaObjectFactory(_t);this.createChartQuery=this.createSinaObjectFactory(jt);this.createHierarchyQuery=this.createSinaObjectFactory(ne);this.createSuggestionQuery=this.createSinaObjectFactory(It);this.createDataSourceQuery=this.createSinaObjectFactory(Nt);this.createFilter=this.createSinaObjectFactory(wt);this.createComplexCondition=this.createSinaObjectFactory(Mt);this.createSimpleCondition=this.createSinaObjectFactory(Ht);this.createHierarchyNode=this.createSinaObjectFactory(ue);this.createHierarchyNodePath=this.createSinaObjectFactory(Se);this._createAttributeMetadata=this.createSinaObjectFactory(Pt);this._createAttributeGroupMetadata=this.createSinaObjectFactory(Gt);this._createAttributeGroupMembership=this.createSinaObjectFactory(Qt);this._createSearchResultSetItemAttribute=this.createSinaObjectFactory(Tt);this._createSearchResultSetItemAttributeGroup=this.createSinaObjectFactory(Lt);this._createSearchResultSetItemAttributeGroupMembership=this.createSinaObjectFactory(Et);this._createSearchResultSetItem=this.createSinaObjectFactory(At);this._createSearchResultSet=this.createSinaObjectFactory(Dt);this._createSearchTermSuggestion=this.createSinaObjectFactory(xt);this._createSearchTermAISuggestion=this.createSinaObjectFactory(me);this._createSearchTermAndDataSourceSuggestion=this.createSinaObjectFactory(Jt);this._createDataSourceSuggestion=this.createSinaObjectFactory(Bt);this._createObjectSuggestion=this.createSinaObjectFactory(Ot);this._createSuggestionResultSet=this.createSinaObjectFactory(Vt);this._createChartResultSet=this.createSinaObjectFactory(Ut);this._createHierarchyResultSet=this.createSinaObjectFactory(he);this._createChartResultSetItem=this.createSinaObjectFactory($t);this._createDataSourceResultSetItem=this.createSinaObjectFactory(zt);this._createCapabilities=this.createSinaObjectFactory(qt);this._createConfiguration=this.createSinaObjectFactory(Kt);this._createNavigationTarget=this.createSinaObjectFactory(Wt);this.createNavigationTarget=this.createSinaObjectFactory(Wt);this._createSorsNavigationTargetGenerator=this.createSinaObjectFactory(vt);this._createFioriIntentsResolver=this.createSinaObjectFactory(ee);this._createCDSAnnotationsParser=this.createSinaObjectFactory(Rt);this._createItemPostParser=this.createSinaObjectFactory(Zt);this._createSuvNavTargetResolver=this.createSinaObjectFactory(te);this.searchResultSetFormatters=[];this.suggestionResultSetFormatters=[];this.chartResultSetFormatters=[];this.metadataFormatters=[];this.dataSources=[];this.dataSourceMap={};this.allDataSource=this.createDataSource({id:"All",label:"All",type:yt.Category});this.DataSourceType=yt;this.DataSourceSubType=lt;this.HierarchyDisplayType=le;this.AttributeGroupTextArrangement=St;this.AttributeType=ut;this.AttributeFormatType=ht;this.FacetType=dt;this.SuggestionType=Ft;this.ConditionType=Ct;this.SuggestionCalculationMode=bt;this.SortOrder=ft;this.MatchingStrategy=gt;this.ComparisonOperator=pt;this.LogicalOperator=mt}hasErrors(){return this.errorList.length>0}getErrors(){return this.errorList}addError(t){this.errorList.push(t)}addErrors(t){this.errorList.push(...t)}initInternalSearchResultSetFormatters(t){this.searchResultSetFormatters.push(new ae);this.searchResultSetFormatters.push(new re({ui5NumberFormat:t.NumberFormat,ui5DateFormat:t.DateFormat}));this.searchResultSetFormatters.push(new ie)}initInternalSuggestionResultValueFormatter(t){this.suggestionResultSetFormatters.push(new ye({ui5NumberFormat:t.NumberFormat,ui5DateFormat:t.DateFormat}))}async initAsync(t){this.configuration=t;this.isDummyProvider=t.provider.indexOf("dummy")>-1;this.provider.label=t.label;this.initInternalSearchResultSetFormatters(t);this.initInternalSuggestionResultValueFormatter(t);try{await this.initCustomFormattersAsync(t)}catch(t){throw new e.SinaConfigurationError("_evaluateConfigurationAsync",t)}t.sina=this;let r=await this.provider.initAsync(t);r=r||{capabilities:null};this.capabilities=r.capabilities||this._createCapabilities({sina:this});try{await this._formatMetadataAsync()}catch(t){throw new e.SinaConfigurationError("metadataformatter(s)->formatAsync",t)}if(t.initAsync){try{await t.initAsync(this)}catch(t){throw new e.SinaConfigurationError("configuration->initAsync",t)}}if(this.getBusinessObjectDataSources().length===0&&!this.isDummyProvider){throw new ge}}_formatMetadataAsync(){return t.executeSequentialAsync(this.metadataFormatters,function(t){return t.formatAsync({dataSources:this.dataSources})}.bind(this))}async initCustomFormattersAsync(t){const e=[];if(t.searchResultSetFormatters){for(let r=0;r<t.searchResultSetFormatters.length;++r){const a=t.searchResultSetFormatters[r];this.searchResultSetFormatters.push(a);if(a.initAsync){e.push(a.initAsync())}}}if(t.suggestionResultSetFormatters){for(let r=0;r<t.suggestionResultSetFormatters.length;++r){const a=t.suggestionResultSetFormatters[r];this.suggestionResultSetFormatters.push(a);if(a.initAsync){e.push(a.initAsync())}}}if(t.chartResultSetFormatters){for(let r=0;r<t.chartResultSetFormatters.length;++r){const a=t.chartResultSetFormatters[r];this.chartResultSetFormatters.push(a);if(a.initAsync){e.push(a.initAsync())}}}if(t.metadataFormatters){for(let r=0;r<t.metadataFormatters.length;++r){const a=t.metadataFormatters[r];this.metadataFormatters.push(a);if(a.initAsync){e.push(a.initAsync())}}}return Promise.all(e)}async loadMetadata(t){if(this.provider instanceof oe){if(this.provider.loadMetadata){return this.provider.loadMetadata(t)}}return Promise.resolve()}createDataSourceMap(t){const e={};for(let r=0;r<t.length;++r){const a=t[r];e[a.id]=a}return e}createSinaObjectFactory(t){return function(e){e=e??{sina:this};e.sina=this;try{return new t(e)}finally{delete e.sina}}}_createDataSourceResultSet(t){const e=this.removeHierarchyDataSources(t.items,t=>t.dataSource);t.items=e;const r=new kt(t);r.sina=this;return r}isNeededCache={};removeHierarchyDataSources(t,e){const r=t=>{const e=this.isNeededCache[t.id];if(typeof e!=="undefined"){return e}for(const e of this.dataSources){for(const r of e.attributesMetadata){if(r.hierarchyName===t.hierarchyName&&r.hierarchyDisplayType===le.HierarchyResultView){this.isNeededCache[t.id]=true;return true}}}this.isNeededCache[t.id]=false;return false};for(let a=0;a<t.length;a++){const i=t[a];const s=e(i);if(!s.isHierarchyDataSource){continue}if(!r(s)){t.splice(a,1);a--}}return t}createDataSource(t){t.sina=this;let r;switch(t.type){case yt.BusinessObject:switch(t.subType){case lt.Filtered:r=new se(t);break;default:r=new Xt(t)}break;case yt.UserCategory:r=new Yt(t);break;default:r=new Xt(t)}if(this.dataSourceMap[r.id]){throw new e.CanNotCreateAlreadyExistingDataSourceError(r.id)}this._addDataSource(r);return r}_createDataSource(t){return this.createDataSource(t)}_addDataSource(t){if(t.type===yt.BusinessObject&&t.subType===lt.Filtered){let e=-1;for(let t=this.dataSources.length-1;t>=1;--t){const r=this.dataSources[t];if(r.type===yt.BusinessObject&&r.subType===lt.Filtered){e=t;break}}if(e>=0){this.dataSources.splice(e+1,0,t)}else{this.dataSources.push(t)}}else{this.dataSources.push(t)}this.dataSourceMap[t.id]=t}getAllDataSource(){return this.allDataSource}getBusinessObjectDataSources(){const t=[];for(let e=0;e<this.dataSources.length;++e){const r=this.dataSources[e];if(!r.hidden&&r.type===yt.BusinessObject&&r.subType!==lt.Filtered){t.push(r)}}return this.removeHierarchyDataSources(t,t=>t)}getDataSource(t){return this.dataSourceMap[t]}async getConfigurationAsync(t={}){if(this.provider instanceof oe||this.provider instanceof ce){if(this.configurationPromise&&!t.forceReload){return this.configurationPromise}this.configurationPromise=this.provider.getConfigurationAsync();return this.configurationPromise}return Promise.resolve(this._createConfiguration({personalizedSearch:false,isPersonalizedSearchEditable:false}))}logUserEvent(t){this.provider.logUserEvent(t)}getDebugInfo(){return this.provider.getDebugInfo()}parseDataSourceFromJson(t){let r=this.getDataSource(t.id);if(r){return r}if(t.type!==yt.Category){throw new e.DataSourceInURLDoesNotExistError(t.id)}r=this._createDataSource(t);return r}parseSimpleConditionFromJson(e){let a;if(t.isObject(e.value)){a=r.dateFromJson(e.value)}else{a=e.value}let i;if(e.userDefined){i=true}else{i=false}let s;if(e.dynamic){s=true}else{s=false}return this.createSimpleCondition({operator:e.operator,attribute:e.attribute,value:a,attributeLabel:e.attributeLabel,valueLabel:e.valueLabel,userDefined:i,isDynamicValue:s})}parseComplexConditionFromJson(t){const e=[];for(let r=0;r<t.conditions.length;++r){const a=t.conditions[r];e.push(this.parseConditionFromJson(a))}let r;if(t.userDefined){r=true}else{r=false}return this.createComplexCondition({operator:t.operator,conditions:e,attributeLabel:t.attributeLabel,valueLabel:t.valueLabel,userDefined:r})}parseConditionFromJson(t){switch(t.type){case Ct.Simple:return this.parseSimpleConditionFromJson(t);case Ct.Complex:return this.parseComplexConditionFromJson(t);default:throw new e.UnknownConditionTypeError(t.type)}}parseFilterFromJson(t){const r=this.parseConditionFromJson(t.rootCondition);if(r instanceof Mt){return this.createFilter({searchTerm:t?.searchTerm,rootCondition:r,dataSource:this.parseDataSourceFromJson(t.dataSource)})}else{throw new e.OnlyComplexConditionAllowedError}}parseNavigationTargetFromJson(t){return this.createNavigationTarget(t)}createStaticHierarchySearchNavigationTarget(t,e,r,a,i){if(!i){i=r.hierarchyAttribute;if(!i){const t=r.getHierarchyDataSource();if(t&&t.hierarchyAttribute){i=t.hierarchyAttribute}else{return null}}}const s=new wt({dataSource:r,searchTerm:"",sina:this});if(t!=="$$ROOT$$"){const r=new Ht({attribute:i,operator:pt.DescendantOf,value:t,valueLabel:e});s.autoInsertCondition(r)}return this.createSearchNavigationTarget(s,a||"Children Folders")}getHierarchyDataSource(t){const e=this.dataSources;for(let r=0;r<e.length;++r){const a=e[r];if(a.type!==this.DataSourceType.BusinessObject){continue}if(!a.isHierarchyDataSource){continue}if(t===a.hierarchyName){return a}}}}var de={__esModule:true};de.Sina=pe;return de})})();
},
	"sap/esh/search/ui/sinaNexTS/sina/SinaConfiguration.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){sap.ui.define([],function(){"use strict";var i=function(i){i["ABAP_ODATA"]="abap_odata";i["HANA_ODATA"]="hana_odata";i["INAV2"]="inav2";i["MULTI"]="multi";i["SAMPLE"]="sample";i["DUMMY"]="dummy";return i}(i||{});async function r(i){if(typeof i==="string"){i=i.trim();if(i.indexOf("/")>=0&&i.indexOf("Provider")<0&&i[0]!=="{"){i=require(i);return await r(i)}if(i[0]!=="{"){i='{ "provider" : "'+i+'"}'}i=JSON.parse(i)}return i}var e={__esModule:true};e.AvailableProviders=i;e._normalizeConfiguration=r;return e})})();
},
	"sap/esh/search/ui/sinaNexTS/sina/SinaObject.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){
/*!
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.define([],function(){"use strict";class i{sina;_private={};constructor(i={}){this.sina=i.sina??this.sina;this._private=i._private??this._private}getSina(){return this.sina}}var t={__esModule:true};t.SinaObject=i;return t})})();
},
	"sap/esh/search/ui/sinaNexTS/sina/SortOrder.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){
/*!
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.define([],function(){"use strict";var n=function(n){n["Ascending"]="Ascending";n["Descending"]="Descending";return n}(n||{});var e={__esModule:true};e.SortOrder=n;return e})})();
},
	"sap/esh/search/ui/sinaNexTS/sina/Suggestion.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){
/*!
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.define(["./ResultSetItem"],function(e){"use strict";const t=e["ResultSetItem"];class l extends t{type;calculationMode;label;object;constructor(e){super(e);this.calculationMode=e.calculationMode;this.label=e.label}}var s={__esModule:true};s.Suggestion=l;return s})})();
},
	"sap/esh/search/ui/sinaNexTS/sina/SuggestionCalculationMode.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){
/*!
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.define([],function(){"use strict";var t=function(t){t["Data"]="Data";t["History"]="History";return t}(t||{});var n={__esModule:true};n.SuggestionCalculationMode=t;return n})})();
},
	"sap/esh/search/ui/sinaNexTS/sina/SuggestionQuery.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){
/*!
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.define(["../core/core","./Query","./SuggestionType","./SuggestionCalculationMode","./DataSourceType","../core/errors"],function(e,t,s,r,o,i){"use strict";const n=t["Query"];const a=s["SuggestionType"];const c=r["SuggestionCalculationMode"];const u=o["DataSourceSubType"];const l=o["DataSourceType"];const y=i["QueryIsReadOnlyError"];class f extends n{calculationModes=(()=>[c.Data,c.History])();types=(()=>[a.DataSource,a.Object,a.SearchTerm])();constructor(e){super(e);this.types=e.types??this.types;this.calculationModes=e.calculationModes??this.calculationModes}async _formatResultSetAsync(t){const s=t.query;if(s.types.indexOf(a.Object)>=0&&s.filter.dataSource.type===s.sina.DataSourceType.BusinessObject){return e.executeSequentialAsync(this.sina.suggestionResultSetFormatters,function(e){return e.formatAsync(t)})}}setTypes(e){this.types=e}setCalculationModes(e){this.calculationModes=e}_createReadOnlyClone(){const e=this.clone();e.getResultSetAsync=function(){throw new y};return e}clone(){const e=new f({label:this.label,icon:this.icon,skip:this.skip,top:this.top,nlq:this.nlq,filter:this.filter.clone(),sortOrder:this.sortOrder,sina:this.sina,types:this.types,calculationModes:this.calculationModes});e.types=this.types.slice();e.calculationModes=this.calculationModes.slice();return e}equals(t){if(!(t instanceof f)){return false}if(!super.equals(t)){return false}if(!t){return false}return e.equals(this.types,t.types,false)&&e.equals(this.calculationModes,t.calculationModes,false)}async _execute(e){return this._doExecuteSuggestionQuery(e)}async _doExecuteSuggestionQuery(e){const t=this._filteredQueryTransform(e);const s=await this.sina.provider.executeSuggestionQuery(t);return this._filteredQueryBackTransform(e,s)}_filteredQueryTransform(e){return this._genericFilteredQueryTransform(e)}_filteredQueryBackTransform(e,t){if(e.filter.dataSource.type!==l.BusinessObject||e.filter.dataSource.subType!==u.Filtered){return t}t.query=e;let s;for(const r of t.items){switch(r.type){case a.SearchTerm:s=e.filter.clone();s.searchTerm=r.filter.searchTerm;r.filter=s;break;case a.Object:break;default:throw"program error, not supported suggestion type "+r.type}}return t}}var d={__esModule:true};d.SuggestionQuery=f;return d})})();
},
	"sap/esh/search/ui/sinaNexTS/sina/SuggestionResultSet.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){
/*!
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.define(["./ResultSet"],function(e){"use strict";const t=e["ResultSet"];class s extends t{}var u={__esModule:true};u.SuggestionResultSet=s;return u})})();
},
	"sap/esh/search/ui/sinaNexTS/sina/SuggestionType.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){
/*!
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.define([],function(){"use strict";var e=function(e){e["SearchTerm"]="SearchTerm";e["SearchTermAI"]="SearchTermAI";e["DataSource"]="DataSource";e["SearchTermAndDataSource"]="SearchTermAndDataSource";e["Object"]="Object";return e}(e||{});var r={__esModule:true};r.SuggestionType=e;return r})})();
},
	"sap/esh/search/ui/sinaNexTS/sina/System.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){
/*!
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.define([],function(){"use strict";class e{_id;_label;constructor(e){this._id=e.id;this._label=e.label}get id(){return this._id}get label(){return this._label}equals(e){return this?._id===e?.id&&this?._label===e?.label}}var t={__esModule:true};t.System=e;return t})})();
},
	"sap/esh/search/ui/sinaNexTS/sina/UserCategoryDataSource.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){
/*!
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.define(["./DataSource"],function(u){"use strict";const e=u["DataSource"];class s extends e{includeApps=false;subDataSources=[];undefinedSubDataSourceIds=[];constructor(u){super(u);this.includeApps=u.includeApps;this.subDataSources=u.subDataSources??this.subDataSources;this.undefinedSubDataSourceIds=u.undefinedSubDataSourceIds??this.undefinedSubDataSourceIds}isIncludeApps(){return this.includeApps}setIncludeApps(u){this.includeApps=u}addSubDataSource(u){this.subDataSources.push(u)}clearSubDataSources(){this.subDataSources=[]}getSubDataSources(){return this.subDataSources}hasSubDataSource(u){for(const e of this.subDataSources){if(e.id===u){return true}}return false}addUndefinedSubDataSourceId(u){this.undefinedSubDataSourceIds.push(u)}clearUndefinedSubDataSourceIds(){this.undefinedSubDataSourceIds=[]}getUndefinedSubDataSourceIds(){return this.undefinedSubDataSourceIds}}var a={__esModule:true};a.UserCategoryDataSource=s;return a})})();
},
	"sap/esh/search/ui/sinaNexTS/sina/cloneUtil.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){sap.ui.define(["../core/clone","./AttributeMetadata","./DataSource","./NavigationTarget","./SearchResultSet","./SearchResultSetItem","./SearchResultSetItemAttribute"],function(t,e,a,i,r,n,o){"use strict";const s=t["CloneService"];const c=e["AttributeMetadata"];const u=a["DataSource"];const l=i["NavigationTarget"];const g=r["SearchResultSet"];const d=n["SearchResultSetItem"];const p=o["SearchResultSetItemAttribute"];const f=new s({classes:[{class:g,properties:["items"]},{class:d,properties:["attributes","attributesMap","dataSource","defaultNavigationTarget","detailAttributes","navigationTargets","titleAttributes","titleDescriptionAttributes"]},{class:p,properties:["id","value","valueFormatted","valueHighlighted","defaultNavigationTarget","isHighlighted","metadata","navigationTargets"]},{class:u,properties:["id","label","labelPlural"]},{class:c,properties:["id","label","type","isKey","format"]},{class:l,cloneFunction:t=>{const e=t;return{text:t.text,tooltip:t.tooltip,icon:t.icon,target:t.target,targetUrl:t.targetUrl,targetFunction:typeof t.targetFunction==="function"?t.targetFunction.bind(e):undefined,performNavigation:typeof t.performNavigation==="function"?t.performNavigation.bind(e):undefined}}}]});function S(t){return f.clone(t)}var b={__esModule:true};b.clonePublic=S;return b})})();
},
	"sap/esh/search/ui/sinaNexTS/sina/formatters/Formatter.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){
/*!
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.define([],function(){"use strict";class t{constructor(){}}class e extends t{}var r={__esModule:true};r.Formatter=t;r.ChartResultSetFormatter=e;return r})})();
},
	"sap/esh/search/ui/sinaNexTS/sina/formatters/HierarchyResultSetFormatter.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){
/*!
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.define(["../SearchQuery","./Formatter","../util","../FilteredDataSource"],function(t,e,a,r){"use strict";const i=t["SearchQuery"];const c=e["Formatter"];const s=r["FilteredDataSource"];class u extends c{initAsync(){return Promise.resolve()}format(t){return t}async formatAsync(t){if(!t.sina.configuration.FF_hierarchyBreadcrumbs){return t}if(!(t.query instanceof i)){return t}const e=t.query.filter.dataSource;const a=e.getHierarchyDataSource();if(!a){return t}const r=e.getStaticHierarchyAttributeMetadata();if(!r){return t}t.items.forEach(t=>{this.processResultSetItem({resultSetItem:t,dataSource:e,hierarchyDataSource:a,staticHierarchyAttributeMetadata:r})});return t}getHierarchyNodePath(t,e){if(!t){return}for(const a of t){if(a.name===e){return a}}}processResultSetItem(t){this.assembleTitleNavigationTarget(t);this.assembleHierarchyAttributeNavigationTarget(t)}assembleTitleNavigationTarget(t){const e=this.getHierarchyNodePath(t.resultSetItem.hierarchyNodePaths,t.staticHierarchyAttributeMetadata.id);if(!e||!e.path||e.path.length<1){return}const r=e.path[e.path.length-1];const i=t.resultSetItem.attributesMap[t.staticHierarchyAttributeMetadata.id];const c=a.assembleTitle(t.resultSetItem);t.resultSetItem.setDefaultNavigationTarget(t.resultSetItem.sina.createStaticHierarchySearchNavigationTarget(r.id,c||i?.value||"",this.exchangeDataSourceForFilteredDataSource(t.dataSource),"",t.staticHierarchyAttributeMetadata.id))}assembleHierarchyAttributeNavigationTarget(t){const e=t.resultSetItem.attributesMap[t.staticHierarchyAttributeMetadata.id];if(!e){return}const a=this.constructHierarchyAttributeNavigationTargetLabel(t);e.setDefaultNavigationTarget(t.resultSetItem.sina.createStaticHierarchySearchNavigationTarget(e.value,a,this.exchangeDataSourceForFilteredDataSource(t.dataSource),a,t.staticHierarchyAttributeMetadata.id));e.tooltip=this._constructTooltip(t)}exchangeDataSourceForFilteredDataSource(t){if(t.sina.configuration?.searchInAreaOverwriteMode===true&&t instanceof s){t=t.dataSource}return t}_constructTooltip(t){const e=this.getHierarchyNodePath(t.resultSetItem.hierarchyNodePaths,t.staticHierarchyAttributeMetadata.id);if(!e||!e.path||e.path.length<1){return""}const a=e.path;const r=a[a.length-1];if(r.id!==t.resultSetItem.attributesMap[t.staticHierarchyAttributeMetadata.id].value){a.splice(a.length-1,1)}return a.map(t=>t.label).join(" / ")}constructHierarchyAttributeNavigationTargetLabel(t){const e=this.getHierarchyNodePath(t.resultSetItem.hierarchyNodePaths,t.staticHierarchyAttributeMetadata.id);const a=t.resultSetItem.attributesMap[t.staticHierarchyAttributeMetadata.id];if(!e||!e.path||e.path.length<1||!a){return""}const r=e.path;let i=r[r.length-1];if(i.id!==t.resultSetItem.attributesMap[t.staticHierarchyAttributeMetadata.id].value&&r.length>1){i=r[r.length-2]}return i.label||a.label||""}}var n={__esModule:true};n.HierarchyResultSetFormatter=u;return n})})();
},
	"sap/esh/search/ui/sinaNexTS/sina/formatters/NavtargetsInResultSetFormatter.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){
/*!
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.define(["../../core/util","./Formatter"],function(t,e){"use strict";const r=e["Formatter"];class s extends r{initAsync(){return Promise.resolve()}format(t){return t}async formatAsync(e){e=t.addPotentialNavTargets(e);return Promise.resolve(e)}}var n={__esModule:true};n.NavtargetsInResultSetFormatter=s;return n})})();
},
	"sap/esh/search/ui/sinaNexTS/sina/formatters/RemovePureAdvancedSearchFacetsFormatter.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){
/*!
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.define(["../../core/util","./Formatter"],function(e,r){"use strict";const t=r["Formatter"];class a extends t{initAsync(){return Promise.resolve()}format(r){return e.removePureAdvancedSearchFacets(r)}formatAsync(r){r=e.removePureAdvancedSearchFacets(r);return Promise.resolve(r)}}var c={__esModule:true};c.RemovePureAdvancedSearchFacetsFormatter=a;return c})})();
},
	"sap/esh/search/ui/sinaNexTS/sina/formatters/ResultValueFormatter.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){
/*!
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.define(["./Formatter","../AttributeType","../../sina/util","../../core/Log"],function(t,e,a,r){"use strict";const i=t["Formatter"];const u=e["AttributeType"];const n=a["stringifyValue"];const o=r["Log"];class s extends i{sina;ui5NumberFormat;ui5DateFormat;log=(()=>new o("ResultvalueFormatter"))();constructor(t){super();this.ui5NumberFormat=t?.ui5NumberFormat||undefined;this.ui5DateFormat=t?.ui5DateFormat||undefined}initAsync(){return Promise.resolve()}format(t){return this._formatItemsInUI5Form(t)}formatAsync(t){t=this._formatItemsInUI5Form(t);return Promise.resolve(t)}_formatItemsInUI5Form(t){const e=this;e.sina=t.sina;t.items.forEach(function(t){e._formatItemInUI5Form(t)});return t}_formatItemInUI5Form(t){const e=this;e.sina=t.sina;if(e.sina.getDataSource(t.dataSource.id)===undefined||e.sina.getDataSource(t.dataSource.id).attributeMetadataMap===undefined||Object.keys(e.sina.getDataSource(t.dataSource.id).attributeMetadataMap).length===0){return}t.titleAttributes.forEach(function(t){e.formatAttribute(t)});t.titleDescriptionAttributes.forEach(function(t){e.formatAttribute(t)});t.detailAttributes.forEach(function(t){e.formatAttribute(t)});t.attributes.forEach(function(t){e.formatAttribute(t)})}formatAttribute(t){const e=this;if(t?.metadata?.type===undefined){return}if(t.metadata.type&&t.metadata.type===u.Group){for(let a=0;a<t.attributes.length;a++){e.formatAttribute(t.attributes[a].attribute)}}else{e.formatSingleAttribute(t)}}formatSingleAttribute(t){t.valueFormatted=this.formatValue(t);if(t.valueHighlighted===undefined||t.valueHighlighted?.length===0){t.valueHighlighted=t.valueFormatted;if(t.isHighlighted){t.valueHighlighted="<b>"+t.valueHighlighted+"</b>"}}}formatValue(t){if(typeof t?.valueFormatted==="string"){return t.valueFormatted}return this.formatValueByUI5(t)}formatValueByUI5(t){try{let e="";let a=undefined;switch(t.metadata.type){case u.Integer:e=this.ui5NumberFormat.getIntegerInstance().format(t.value);break;case u.Double:e=this.ui5NumberFormat.getFloatInstance().format(t.value);break;case u.Timestamp:e="";a=t.value;if(a instanceof Date&&!isNaN(a.getTime())){e=this.ui5DateFormat.getDateTimeInstance().format(a)}break;case u.Date:e="";if(typeof t.value==="string"){a=new Date(t.value.replace(/\//g,"-"));if(a instanceof Date&&!isNaN(a.getTime())){e=this.ui5DateFormat.getDateInstance({UTC:true}).format(a)}}break;case u.Time:e="";if(typeof t.value==="string"){a=new Date("1970-01-01T"+t.value+".0000000Z");if(a instanceof Date&&!isNaN(a.getTime())){e=this.ui5DateFormat.getTimeInstance({UTC:true}).format(a)}}break;default:e=n(t?.value)}return e}catch(e){this.log.warn("Error in formatting value: "+e);return n(t?.value)}}formatValueByPlainJS(t){return n(t.value)}}var m={__esModule:true};m.ResultValueFormatter=s;return m})})();
},
	"sap/esh/search/ui/sinaNexTS/sina/formatters/SuggestionResultValueFormatter.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){sap.ui.define(["../SuggestionType","./Formatter","./ResultValueFormatter"],function(t,e,r){"use strict";const o=t["SuggestionType"];const s=e["Formatter"];const n=r["ResultValueFormatter"];class u extends s{sina;resultValueFormatter;initAsync(){throw new Error("Method not implemented.")}constructor(t){super();this.resultValueFormatter=new n(t)}format(t){for(const e of t.items){if(e.type=o.Object){this.resultValueFormatter._formatItemInUI5Form(e.object)}}return t}formatAsync(t){t=this.format(t);return Promise.resolve(t)}}var a={__esModule:true};a.SuggestionResultValueFormatter=u;return a})})();
},
	"sap/esh/search/ui/sinaNexTS/sina/i18n.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){sap.ui.define([],function(){"use strict";let e;function t(t){e=t}function n(t,n){if(e){return e(t,n)}else{n=n||[];return"no texts avaibale "+t+" "+n.map(e=>""+e).join(":")}}var i={__esModule:true};i.injectGetText=t;i.getText=n;return i})})();
},
	"sap/esh/search/ui/sinaNexTS/sina/odatatypes.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){})();
},
	"sap/esh/search/ui/sinaNexTS/sina/sinaFactory.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){
/*!
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.define(["../core/util","./Sina","../providers/abap_odata/Provider","../providers/hana_odata/Provider","../providers/sample/Provider","../providers/inav2/Provider","../providers/dummy/Provider","../providers/multi/Provider","../core/Log","../core/errors","./SinaConfiguration","./i18n"],function(e,r,n,o,t,i,s,c,a,u,d,l){"use strict";const v=r["Sina"];const f=n["Provider"];const g=o["Provider"];const p=t["Provider"];const A=i["Provider"];const P=s["Provider"];const w=c["MultiProvider"];const h=u["NoValidEnterpriseSearchAPIConfigurationFoundError"];const b=d["AvailableProviders"];const y=d["_normalizeConfiguration"];const L=l["injectGetText"];if(typeof process!=="undefined"&&process.env&&process.env.NODE_ENV&&process.env.NODE_ENV==="debug"){const e=new a.Log;a.Log.level=a.Severity.DEBUG;e.debug("SINA log level set to debug!")}async function M(e){const r=await y(e);if(r.getText){L(r.getText)}if(r.logTarget){a.Log.persistency=r.logTarget}if(typeof r.logLevel!=="undefined"){a.Log.level=r.logLevel}const n=new a.Log("sinaFactory");n.debug("Creating new sina (esh client) instance using provider "+r.provider);let o;switch(r.provider){case b.HANA_ODATA:{o=new g;break}case b.ABAP_ODATA:{o=new f;break}case b.INAV2:{o=new A;break}case b.MULTI:{o=new w;break}case b.SAMPLE:{o=new p;break}case b.DUMMY:{o=new P;break}default:{throw new Error("Unknown Provider: '"+r.provider+"' - Available Providers: "+b.HANA_ODATA+", "+b.ABAP_ODATA+", "+b.INAV2+", "+b.MULTI+", "+b.SAMPLE+", "+b.DUMMY)}}const t=new v(o);await t.initAsync(r);return t}function T(e,r){let n;return Promise.all(e.map(y.bind(this))).then(function(e){n=e;return D(n)}.bind(this)).then(function(){return _(n,r)}.bind(this))}async function m(){const r=e.getUrlParameter("sinaConfiguration");if(r){return y(r)}const n=e.getUrlParameter("sinaProvider");if(n){return y(n)}return Promise.resolve()}async function _(e,r){const n=new a.Log("sinaFactory");const o=[];r=r||function(){return true};const t=[];const i=function(s){if(s>=e.length){let e;if(o.length>=1){e=new h(t.join(", "),o[o.length-1].error)}else{e=new h(t.join(", "))}return Promise.reject(e)}const c=e[s];t.push(c.provider);return M(c).then(function(e){if(r(e)){return e}return i(s+1)},function(e){n.info(e);o.push({index:s,error:e});return i(s+1)})}.bind(this);return i(0)}async function D(e){const r=await m();if(!r){return}if(e.length===1){E(e[0],r);return}else{let n=false;for(let o=0;o<e.length;++o){const t=e[o];if(t.provider===b.DUMMY){continue}if(t.provider!==r.provider){e.splice(o,1);o--;continue}n=true;E(t,r)}if(!n){e.splice(0,0,r)}}}function E(e,r){for(const n in r){e[n]=r[n]}}var N={__esModule:true};N.createAsync=M;N.createByTrialAsync=T;return N})})();
},
	"sap/esh/search/ui/sinaNexTS/sina/types.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){})();
},
	"sap/esh/search/ui/sinaNexTS/sina/util.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){
/*!
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.define(["./ComparisonOperator","./ComplexCondition","./Filter","./LogicalOperator","./SearchResultSetItemAttribute","./SearchResultSetItemAttributeGroup","./SimpleCondition","./HierarchyDisplayType"],function(t,e,r,i,a,n,o,s){"use strict";const c=t["ComparisonOperator"];const u=e["ComplexCondition"];const l=r["Filter"];const f=i["LogicalOperator"];const p=a["SearchResultSetItemAttribute"];const h=n["SearchResultSetItemAttributeGroup"];const y=o["SimpleCondition"];const b=s["HierarchyDisplayType"];function d(t,e){if(e===c.Eq){return t}const r=[];const i=t.split(" ");for(let t=0;t<i.length;t++){let a=i[t].trim();if(a.length===0){continue}switch(e){case c.Co:a="*"+a+"*";break;case c.Bw:a=a+"*";break;case c.Ew:a="*"+a;break;default:break}r.push(a)}return r.join(" ")}function g(t,e,r,i){const a=[];if(e?.length&&t){const n=t.getBusinessObjectDataSources();n.forEach(t=>{if(t.getHierarchyDataSource()===i){a.push(t)}else if(t.hierarchyName===e){return}else{t.attributesMetadata.forEach(i=>{if(i.hierarchyName===r&&i.id===e&&i.hierarchyDisplayType===b.HierarchyResultView||i.hierarchyDisplayType===b.StaticHierarchyFacet){a.push(t)}})}})}return a}function m(t){const e=[];t.titleAttributes.forEach(t=>{if(t instanceof h&&Array.isArray(t.attributes)){t.attributes.forEach(t=>{if(t.attribute&&t.attribute instanceof p&&t.attribute.value?.startsWith("sap-icon://")!==true){e.push(t.attribute.valueFormatted)}})}else if(t instanceof p){if(t.value.startsWith("sap-icon://")!==true){e.push(t.valueFormatted)}}});return e.filter(t=>typeof t==="string"&&t.trim()!=="").join(" ")}function S(t,e,r,i,a){const n=new y({attribute:e,operator:c.DescendantOf,value:r,valueLabel:i});const o=new u({operator:f.And,conditions:[n]});const s=new u({operator:f.And,conditions:[o]});a.forEach(e=>{const r=new l({dataSource:e,searchTerm:"",rootCondition:s,sina:t.sina});t.navigationTargets.push(t.sina.createSearchNavigationTarget(r,e.labelPlural))})}function v(t){if(typeof t==="string"){return t}if(typeof t==="number"||typeof t==="boolean"){return String(t)}if(t===null||t===undefined){return""}if(typeof t==="object"){if(typeof t.toString==="function"){return t.toString()}else{return JSON.stringify(t)}}return""+t}var C={__esModule:true};C.convertOperator2Wildcards=d;C.getNavigationHierarchyDataSources=g;C.assembleTitle=m;C.assembleHierarchyDecendantsNavigations=S;C.stringifyValue=v;return C})})();
},
	"sap/esh/search/ui/suggestions/AppSuggestionProvider.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){sap.ui.define(["../i18n","sap/esh/search/ui/SearchHelper","./SuggestionType"],function(e,t,s){"use strict";function i(e){return e&&e.__esModule&&typeof e.default!=="undefined"?e.default:e}const o=i(e);const n=s["Type"];const r=s["SuggestionType"];class a{model;suggestApplications;suggestionHandler;constructor(e){this.model=e.model;this.suggestionHandler=e.suggestionHandler;this.suggestApplications=t.refuseOutdatedRequests(this.suggestApplicationsNotDecorated)}abortSuggestions(){this.suggestApplications.abort()}combineSuggestionsWithIdenticalTitle(e){let t;const s={};for(let i=0;i<e.length;i++){t=e[i];const r=s[t.title+t.subtitle];if(r){if(!r.combinedSuggestionExists){const e={title:"combinedAppSuggestion"+i,subtitle:t.subtitle,sortIndex:r.sortIndex,url:this.model.createSearchNavigationTarget({top:this.model.appTopDefault,filter:this.model.sinaNext.createFilter({dataSource:this.model.appDataSource,searchTerm:t.title}),encodeFilter:false}).targetUrl,label:o.getText("suggestion_in_apps",t.label),icon:"sap-icon://search",keywords:"",uiSuggestionType:n.App};const a=o.getText("suggestion_in_apps",[""]);e.label=e.label.replace(a,"<i>"+a+"</i>");s[e.title+e.subtitle]=e;r.combinedSuggestionExists=true}}else{t.sortIndex=i;s[t.title+t.subtitle]=t}}e=[];for(const i in s){if(Object.prototype.hasOwnProperty.call(s,i)){t=s[i];if(!t.combinedSuggestionExists){e.push(t)}}}e.sort(function(e,t){return e.sortIndex-t.sortIndex});return e}addAsterisk4ShowAllApps(e){const t=e.match(/\S+/g);if(t.length>0){let s;const i=[];for(let e=0;e<t.length;e++){s=t[e];if(s&&s.lastIndexOf("*")!==s.length-1){i.push(s+"*")}else{i.push(s)}}e=i.join(" ")}return e}createShowMoreSuggestion(e){let t=o.getText("showAllNApps",[e]);t=t.replace(/"/g,"");const s=t;const i="<i>"+t+"</i>";return{title:t,tooltip:s,label:i,dataSource:this.model.appDataSource,labelRaw:this.model.getProperty("/uiFilter/searchTerm"),uiSuggestionType:n.SearchTermData,searchTerm:this.model.getProperty("/uiFilter/searchTerm")||""}}async getSuggestions(e){const t=this.model.getDataSource();const s=this.model.userCategoryManager;const i=s?.isFavActive()&&s?.getCategory("MyFavorites")?.includeApps;if(t!==this.model.allDataSource&&t!==this.model.appDataSource&&!(t===this.model.favDataSource&&i)){return[]}if(e.searchTerm.length<1){return[]}const o=this.model.getProperty("/uiFilter/searchTerm");const a=await this.suggestApplications(o);let l=a.getElements();l=this.combineSuggestionsWithIdenticalTitle(l);let u=[];for(const e of l){const t={...e,uiSuggestionType:n.App,dataSource:this.model.appDataSource,position:r.properties.App.position,key:r.App+e.url+e.icon};u.push(t)}const c=this.suggestionHandler.getSuggestionLimit(n.App);u=u.slice(0,c);if(a.totalResults>c&&t===this.model.appDataSource){u.push(this.createShowMoreSuggestion(a.totalResults))}return u}suggestApplicationsNotDecorated(e){return window.sap.ushell.Container.getServiceAsync("Search").then(function(t){return t.queryApplications({searchTerm:e,suggestion:true})})}}return a})})();
},
	"sap/esh/search/ui/suggestions/RecentlyUsedSuggestionProvider.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){sap.ui.define(["./SuggestionType"],function(e){"use strict";const t=e["RecentEntriesLimit"];class s{model;suggestionHandler;constructor(e){this.model=e.model;this.suggestionHandler=e.suggestionHandler}abortSuggestions(){return}async getSuggestions(){if(this.model.getSearchBoxTerm().length>0){return Promise.resolve([])}let e=this.model.recentlyUsedStorage.getItems();e=e.slice(0,t);return Promise.resolve(e)}}return s})})();
},
	"sap/esh/search/ui/suggestions/SearchSuggestionFactory.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){sap.ui.define(["../i18n","./SuggestionType"],function(e,t){"use strict";function r(e){return e&&e.__esModule&&typeof e.default!=="undefined"?e.default:e}const n=r(e);const i=r(t);const o=t["Type"];function a(e){const t=e.getProperty("/breadcrumbsHierarchyNodePaths").length;if(t>0){let r="";let i=" > ";let o=e.getProperty("/breadcrumbsHierarchyNodePaths").slice();if(document.documentElement.getAttribute("dir")==="rtl"){i=" < ";o=o.reverse()}o.forEach((e,n)=>{r+=e.label;if(++n<t){r+=i}});return n.getText("resultsIn",["<span>"+e.getSearchBoxTerm()+"</span>",r])}if(e.getProperty("/dataSources").length>1){return n.getText("resultsIn",["<span>"+e.getSearchBoxTerm()+"</span>",e.getDataSource().labelPlural])}return e.getSearchBoxTerm()}function c(e){const t=e.getProperty("/uiFilter");const r=t.dataSource;const n=r.getStaticHierarchyAttributeMetadata()?.id;const i=e.config?.dimensionNameSpace_Description;const o=t.rootCondition.getAttributes().filter(e=>{if(n&&n===e){return false}if(i&&i===e){return false}return true});return o.length>0}function u(e){const t=e.getSearchBoxTerm();if(!t||t==="*"||t==="")return;return{label:a(e),icon:"sap-icon://search",titleNavigation:e.createSearchNavigationTargetCurrentState(),uiSuggestionType:o.Search,position:i.properties.Search.position,filterIcon:c(e)?"sap-icon://filter":""}}var s={__esModule:true};s.createSearchSuggestionForCurrentSearch=u;return s})})();
},
	"sap/esh/search/ui/suggestions/SinaBaseSuggestionProvider.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){sap.ui.define(["./SuggestionType"],function(e){"use strict";const s=e["Type"];class t{suggestionQuery;suggestionTypes;constructor(e){this.sinaNext=e;this.suggestionQuery=this.sinaNext.createSuggestionQuery()}prepareSuggestionQuery(e){this.suggestionQuery.resetResultSet();this.suggestionQuery.setFilter(e);const s=this.assembleSinaSuggestionTypesAndCalcModes();this.suggestionQuery.setTypes(s.types);this.suggestionQuery.setCalculationModes(s.calculationModes);this.suggestionQuery.setTop(20)}assembleSinaSuggestionTypesAndCalcModes(){const e=function(e,s){if(e.indexOf(s)>=0){return}e.push(s)};const t={types:[],calculationModes:[]};for(let i=0;i<this.suggestionTypes.length;++i){const a=this.suggestionTypes[i];switch(a){case s.SearchTermHistory:e(t.types,this.sinaNext.SuggestionType.SearchTerm);e(t.calculationModes,this.sinaNext.SuggestionCalculationMode.History);break;case s.SearchTermData:e(t.types,this.sinaNext.SuggestionType.SearchTerm);e(t.calculationModes,this.sinaNext.SuggestionCalculationMode.Data);break;case s.SearchTermAI:e(t.types,this.sinaNext.SuggestionType.SearchTermAI);e(t.calculationModes,this.sinaNext.SuggestionCalculationMode.Data);break;case s.DataSource:e(t.types,this.sinaNext.SuggestionType.DataSource);e(t.calculationModes,this.sinaNext.SuggestionCalculationMode.Data);break;case s.Object:e(t.types,this.sinaNext.SuggestionType.Object);e(t.calculationModes,this.sinaNext.SuggestionCalculationMode.Data);break}}return t}}return t})})();
},
	"sap/esh/search/ui/suggestions/SinaObjectSuggestionFormatter.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){sap.ui.define(["../sinaNexTS/sina/SearchResultSetItemAttribute","../sinaNexTS/sina/AttributeType"],function(t,e){"use strict";const i=t["SearchResultSetItemAttribute"];const a=e["AttributeType"];class s{assembleLabel1(t){const e=[];let i=false;let s;const r=t.object.titleAttributes;for(let t=0;t<r.length;++t){s=r[t];if(s.metadata?.type===a.ImageUrl){continue}e.push(s.valueHighlighted);if(s.isHighlighted){i=true}}return{label:e.join(" "),isHighlighted:i}}assembleLabel2(t,e){const i=e.object.detailAttributes;let a;if(i.length===0){return""}if(!t){a=this.getFirstHighlightedAttribute(i);if(a){return a.valueHighlighted}}a=this.getFirstStringAttribute(i);if(a){return a.label+": "+a.valueHighlighted}return""}getFirstHighlightedAttribute(t){for(let e=0;e<t.length;++e){const i=t[e];if(i.isHighlighted){return i}}}getFirstStringAttribute(t){const e={Date:40,Double:70,GeoJson:130,ImageBlob:120,ImageUrl:110,Integer:60,String:10,Time:50,Timestamp:30};if(t.length===0){return null}t=t.slice();t.sort(function(t,i){return e[t.metadata.type]-e[i.metadata.type]});const i=t[0];if(e[i.metadata.type]>100){return null}return i}assembleNavigation(t){if(!t.object.defaultNavigationTarget){return null}const e=t.object.defaultNavigationTarget;e.target="_blank";return e}assembleImageUrl(t){const e=t.object.detailAttributes.concat(t.object.titleAttributes);for(let a=0;a<e.length;++a){const s=e[a];if(s instanceof i&&s.metadata.type===s.sina.AttributeType.ImageUrl){return{imageUrl:s.value,imageExists:true,imageIsCircular:s.metadata.format&&s.metadata.format===t.sina.AttributeFormatType.Round}}}return{exists:false}}format(t,e){const i=e;const a=this.assembleLabel1(e);i.label1=a.label;i.label2=this.assembleLabel2(a.isHighlighted,e);i.titleNavigation=this.assembleNavigation(e);const s=this.assembleImageUrl(e);e.sina.core.extend(i,s);i.position=e.position;t.addSuggestion(i)}}return s})})();
},
	"sap/esh/search/ui/suggestions/SinaSuggestionProvider.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){sap.ui.define(["../i18n","./SinaBaseSuggestionProvider","./SinaObjectSuggestionFormatter","./SuggestionType","sap/esh/search/ui/SearchHelper","../sinaNexTS/sina/SearchResultSetItemAttribute","sap/ui/Device"],function(e,t,s,i,a,o,r){"use strict";function n(e){return e&&e.__esModule&&typeof e.default!=="undefined"?e.default:e}const g=n(e);const u=n(t);const c=n(s);const h=i["Type"];const S=i["SuggestionType"];const l=o["SearchResultSetItemAttribute"];class d extends u{suggestionLimit;suggestionStartingCharacters;model;sinaObjectSuggestionFormatter;suggestions;firstObjectDataSuggestion;numberSuggestionsByType;suggestionHandler;constructor(e){super(e.sinaNext);this.model=e.model;this.suggestionTypes=e.suggestionTypes;this.suggestionHandler=e.suggestionHandler;this.suggestionLimit=r.system.phone?5:7;this.suggestionStartingCharacters=this.model.config.suggestionStartingCharacters;this.sinaObjectSuggestionFormatter=new c}abortSuggestions(){this.suggestionQuery.abort()}async getSuggestions(e){this.suggestions=[];this.firstObjectDataSuggestion=true;this.numberSuggestionsByType={};for(let e=0;e<S.types.length;++e){const t=S.types[e];this.numberSuggestionsByType[t]=0}const t=e.searchTerm;if(this.suggestionTypes.length===1&&this.suggestionTypes.indexOf(h.SearchTermHistory)>=0&&t.length<1){return[]}if(this.suggestionTypes.length===1&&this.suggestionTypes.indexOf(h.SearchTermData)>=0&&t.length<this.suggestionStartingCharacters){return[]}if(this.suggestionTypes.length===1&&this.suggestionTypes.indexOf(h.Object)>=0&&t.length<this.suggestionStartingCharacters){return[]}if(this.suggestionTypes.length===1&&this.suggestionTypes.indexOf(h.DataSource)>=0&&this.model.getDataSource()!==this.model.sinaNext.allDataSource&&this.model.getDataSource()!==this.model.favDataSource){return[]}if(this.suggestionTypes.length===1&&this.suggestionTypes.indexOf(h.DataSource)>=0&&t.length<1){return[]}if(this.suggestionTypes.length===1&&this.suggestionTypes.indexOf(h.SearchTermAI)>=0&&!this.model.isNlqActive()){return[]}this.createAllAndAppDsSuggestions();if(!this.model.config.searchBusinessObjects){return Promise.resolve(this.suggestions)}if(this.model.getDataSource()===this.model.appDataSource){return Promise.resolve(this.suggestions)}this.prepareSuggestionQuery(e);const s=await this.suggestionQuery.getResultSetAsync();const i=s.items;this.formatSinaSuggestions(i);return this.suggestions}createAllAndAppDsSuggestions(){if(this.suggestionTypes.indexOf(h.DataSource)<0){return}if(this.model.getDataSource()!==this.model.allDataSource&&this.model.getDataSource()!==this.model.favDataSource){return}const e=[];if(this.model.getDataSource()===this.model.allDataSource){e.unshift(this.model.appDataSource);e.unshift(this.model.allDataSource)}if(this.model.getDataSource()===this.model.favDataSource){if(this.model.favDataSource.includeApps){e.unshift(this.model.appDataSource)}e.unshift(this.model.favDataSource)}const t=this.model.getProperty("/uiFilter/searchTerm");const s=t.replace(/\*/g,"");const i=new a.Tester(s);for(let t=0;t<e.length;++t){const s=e[t];if(s.id===this.model.getDataSource().id){continue}const a=i.test(s.label);if(a.bMatch===true){if(this.isSuggestionLimitReached(h.DataSource)){return}const e={sina:this.sinaNext,label:"<i>"+g.getText("searchInPlaceholder",[""])+"</i> "+a.sHighlightedText,dataSource:s,position:S.properties.DataSource.position,type:this.sinaNext.SuggestionType.DataSource,calculationMode:this.sinaNext.SuggestionCalculationMode.Data,uiSuggestionType:h.DataSource};this.addSuggestion(e)}}}isSuggestionLimitReached(e){const t=this.suggestionHandler.getSuggestionLimit(e);const s=this.numberSuggestionsByType[e];if(s>=t){return true}return false}preFormatSuggestions(e){for(let t=0;t<e.length;++t){const s=e[t];const i=s;i.uiSuggestionType=this.getSuggestionType(s);i.position=S.properties[i.uiSuggestionType].position;this.assembleKey(i);if(i.childSuggestions){this.preFormatSuggestions(i.childSuggestions)}}}assembleKey(e){switch(e.uiSuggestionType){case h.DataSource:e.key=h.DataSource+e.dataSource.id;break;case h.SearchTermData:e.key=h.SearchTermData+e.searchTerm;if(e.dataSource){e.key+=e.dataSource.id}break;case h.SearchTermHistory:e.key=h.SearchTermData+e.searchTerm;if(e.dataSource){e.key+=e.dataSource.id}break;case h.SearchTermAI:e.key=h.SearchTermAI+e.searchTerm;break;case h.Object:{const t=e.object.detailAttributes[0];if(t instanceof l){const s=t.value;e.key=h.Object+s}break}}}formatSinaSuggestions(e){this.preFormatSuggestions(e);for(let t=0;t<e.length;++t){const s=e[t];if(this.isSuggestionLimitReached(s.uiSuggestionType)){continue}switch(s.uiSuggestionType){case h.DataSource:if(this.model.getDataSource()!==this.model.allDataSource&&this.model.getDataSource()!==this.model.favDataSource){continue}this.addSuggestion(s);break;case h.SearchTermData:this.formatSearchTermDataSuggestion(s);break;case h.SearchTermHistory:this.addSuggestion(s);break;case h.SearchTermAI:this.addSuggestion(s);break;case h.Object:case h.Transaction:{const e={...s,dataSource:s.object.dataSource,object:s.object};this.sinaObjectSuggestionFormatter.format(this,e);break}default:break}}return this.suggestions}addSuggestion(e){this.suggestions.push(e);this.numberSuggestionsByType[e.uiSuggestionType]+=1}formatSearchTermDataSuggestion(e){if(this.model.getDataSource()===this.model.allDataSource){if(this.firstObjectDataSuggestion){this.firstObjectDataSuggestion=false;if(e.childSuggestions.length>0){e.label=this.assembleSearchInSuggestionLabel(e);e.grouped=true;this.addSuggestion(e);this.addChildSuggestions(e)}else{this.addSuggestion(e)}}else{this.addSuggestion(e)}}else{this.addSuggestion(e)}}addChildSuggestions(e){for(let t=0;t<Math.min(2,e.childSuggestions.length);++t){if(this.isSuggestionLimitReached(h.SearchTermData)){return}const s=e.childSuggestions[t];s.label=this.assembleSearchInSuggestionLabel(s);s.grouped=true;this.addSuggestion(s)}}assembleSearchInSuggestionLabel(e){return g.getText("resultsIn",["<span>"+e.label+"</span>",e.filter.dataSource.labelPlural])}getSuggestionType(e){switch(e.type){case this.sinaNext.SuggestionType.SearchTerm:if(e.calculationMode===this.sinaNext.SuggestionCalculationMode.History){return h.SearchTermHistory}return h.SearchTermData;case this.sinaNext.SuggestionType.SearchTermAndDataSource:if(e.calculationMode===this.sinaNext.SuggestionCalculationMode.History){return h.SearchTermHistory}return h.SearchTermData;case this.sinaNext.SuggestionType.SearchTermAI:return h.SearchTermAI;case this.sinaNext.SuggestionType.DataSource:return h.DataSource;case this.sinaNext.SuggestionType.Object:return h.Object}}}return d})})();
},
	"sap/esh/search/ui/suggestions/SuggestionHandler.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){sap.ui.define(["sap/base/Log","../i18n","./AppSuggestionProvider","./RecentlyUsedSuggestionProvider","./SinaSuggestionProvider","./SuggestionType","./TimeMerger","./TransactionSuggestionProvider","sap/esh/search/ui/SearchHelper","../eventlogging/UserEvents","sap/ui/core/Element"],function(e,t,s,i,o,r,n,g,u,a,l){"use strict";function c(e){return e&&e.__esModule&&typeof e.default!=="undefined"?e.default:e}const h=c(t);const d=c(s);const S=c(i);const p=c(o);const f=r["Type"];const m=r["SuggestionType"];const y=c(n);const T=c(g);const P=a["UserEventType"];class v{_oLogger;model;suggestionProviders;keyboardRelaxationTime;uiUpdateInterval=500;uiClearOldSuggestionsTimeOut=1e3;recentlyUsedSuggestionProvider;appSuggestionProvider;timeMerger;suggestionProvidersPromise;sinaNext;firstInsertion;busyIndicator;performanceLoggerSuggestionMethods;clearSuggestionTimer;suggestionResultSetCounter;suggestionHeaders;generatedPositions;doSuggestionInternalDelayed;transactionSuggestionProvider;constructor(t){this._oLogger=e.getLogger("sap.esh.search.ui.suggestions.SuggestionHandler");this.model=t.model;this.suggestionProviders=[];this.keyboardRelaxationTime=this.model.config.suggestionKeyboardRelaxationTime;if(this.supportsRecentlyUsedSuggestions()){this.recentlyUsedSuggestionProvider=new S({model:this.model,suggestionHandler:this})}this.appSuggestionProvider=new d({model:this.model,suggestionHandler:this});this.doSuggestionInternalDelayed=u.delayedExecution(this.doSuggestionInternal.bind(this),this.keyboardRelaxationTime);this.timeMerger=new y;this.performanceLoggerSuggestionMethods=[]}supportsRecentlyUsedSuggestions(){if(!this.model.config.bRecentSearches)return false;return true}supportsTransactionSuggestions(){return false;if(window.sap["cf"])return false;if(!this.model.config.isUshell)return false;if(this.model.sinaNext.provider.serverInfo&&this.model.sinaNext.provider.serverInfo.Services&&this.model.sinaNext.provider.serverInfo.Services.results&&this.model.sinaNext.provider.serverInfo.Services.results.length>0){for(const e of this.model.sinaNext.provider.serverInfo.Services.results){if(e.Id==="TransactionSuggestions")return true}}return false}abortSuggestions(e){if(e===undefined||e===true){this.model.setProperty("/suggestions",[])}if(this.clearSuggestionTimer){clearTimeout(this.clearSuggestionTimer);this.clearSuggestionTimer=null}this.doSuggestionInternalDelayed.abort();this.getSuggestionProviders().then(e=>{for(let t=0;t<e.length;++t){const s=e[t];s.abortSuggestions()}this.timeMerger.abort();for(const e of this.performanceLoggerSuggestionMethods){this.model.config.performanceLogger.leaveMethod({name:e})}this.performanceLoggerSuggestionMethods=[]})}getSuggestionProviders(){if(this.suggestionProvidersPromise){return this.suggestionProvidersPromise}this.suggestionProvidersPromise=this.model.initAsync().then(()=>{this.sinaNext=this.model.sinaNext;const e=[];if(this.model.config.isUshell){e.push(this.appSuggestionProvider)}if(this.supportsRecentlyUsedSuggestions()){e.push(this.recentlyUsedSuggestionProvider)}if(!this.model.config.searchBusinessObjects){return Promise.resolve(e)}e.push(...this.createSinaSuggestionProviders());if(this.supportsTransactionSuggestions()){this.transactionSuggestionProvider=new T({model:this.model,suggestionHandler:this});e.push(this.transactionSuggestionProvider)}return Promise.resolve(e)});return this.suggestionProvidersPromise}createSinaSuggestionProviders(){const e=[{suggestionTypes:[f.SearchTermHistory]},{suggestionTypes:[f.SearchTermData]},{suggestionTypes:[f.DataSource]}];if(this.model.config.boSuggestions){e.push({suggestionTypes:[f.Object]})}if(this.model.config.aiSuggestions){e.push({suggestionTypes:[f.SearchTermAI]})}const t=[];for(let s=0;s<e.length;++s){const i=e[s];t.push(new p({model:this.model,sinaNext:this.sinaNext,suggestionTypes:i.suggestionTypes,suggestionHandler:this}))}return t}isSuggestionPopupVisible(){return jQuery(".searchSuggestion").filter(":visible").length>0}doSuggestion(e){this.abortSuggestions(false);this.doSuggestionInternalDelayed(e)}autoSelectAppSuggestion(e){return this.appSuggestionProvider.getSuggestions(e).then(function(e){return e[0]})}autoSelectTransactionSuggestion(e=""){e=e.toUpperCase();return this.transactionSuggestionProvider?.transactionSuggestions.find(t=>t.key===e)}doSuggestionInternal(e){this.firstInsertion=true;this.busyIndicator=false;const t=this.model.getProperty("/uiFilter/searchTerm");if(t.trim()==="*"){this.insertSuggestions([],0);return}const s=`Suggestions for term ${t}`;this.performanceLoggerSuggestionMethods.push(s);this.model.config.performanceLogger.enterMethod({name:s},{isSearch:true,comments:`suggestion term: ${t}`});this.model.eventLogger.logEvent({type:P.SUGGESTION_REQUEST,suggestionTerm:this.model.getProperty("/uiFilter/searchTerm"),dataSourceKey:this.model.getProperty("/uiFilter/dataSource").id});this.getSuggestionProviders().then(t=>{const s=[];let i=t.length;for(let i=0;i<t.length;++i){const o=t[i];s.push(o.getSuggestions(e))}if(this.isSuggestionPopupVisible()){if(this.clearSuggestionTimer){clearTimeout(this.clearSuggestionTimer)}this.clearSuggestionTimer=window.setTimeout(()=>{this.clearSuggestionTimer=null;this.insertSuggestions([],i)},this.uiClearOldSuggestionsTimeOut)}else{this.insertSuggestions([],i)}this.timeMerger.abort();this.timeMerger=new y(s,this.uiUpdateInterval);this.timeMerger.process(t=>{i-=t.length;const s=[];for(let i=0;i<t.length;++i){const o=t[i];if(o&&o instanceof Error){this._oLogger.error("A suggestion provider reported an error while getting suggestions for term '"+e.searchTerm+"'\n"+o.stack||o+"");continue}s.push(...o)}if(i>0&&s.length===0){return}if(this.clearSuggestionTimer){clearTimeout(this.clearSuggestionTimer);this.clearSuggestionTimer=null}this.insertSuggestions(s,i);if(i===0){for(const e of this.performanceLoggerSuggestionMethods){this.model.config.performanceLogger.leaveMethod({name:e})}this.performanceLoggerSuggestionMethods=[]}})}).catch(()=>{for(const e of this.performanceLoggerSuggestionMethods){this.model.config.performanceLogger.leaveMethod({name:e})}this.performanceLoggerSuggestionMethods=[]})}generateSuggestionHeader(e){const t={};switch(e.uiSuggestionType){case f.Transaction:t.label=h.getText("label_transactions");break;case f.App:t.label=h.getText("label_apps");break;case f.DataSource:t.label=h.getText("searchIn");break;case f.SearchTermData:case f.SearchTermHistory:t.label=h.getText("searchFor");break;case f.SearchTermAI:t.label=h.getText("searchTermAIHeader");t.helpLink=this.model.config.aiSuggestionsHeaderHelpLink;break;case f.Object:t.label=e.dataSource.labelPlural;t.dataSource=e.dataSource;break}if(e.isRecentEntry){t.label=h.getText("label_recently_used")}t.position=e.position;t.suggestionResultSetCounter=this.suggestionResultSetCounter;t.uiSuggestionType=f.Header;t.uiSuggestionTypeOfSuggestionsInSection=e.uiSuggestionType;return t}enableBusyIndicator(e,t){if(t){e.push({position:m.properties[f.BusyIndicator].position,uiSuggestionType:f.BusyIndicator});return}for(let t=0;t<e.length;++t){const s=e[t];if(s.uiSuggestionType===f.BusyIndicator){e.splice(t,1);return}}}checkDuplicate(e,t){const s=function(e){return e.uiSuggestionType===f.SearchTermHistory||e.uiSuggestionType===f.SearchTermData&&!e.dataSource};if(!s(t)){return{action:"append"}}for(let i=0;i<e.length;++i){const o=e[i];if(!s(o)){continue}if(t.searchTerm===o.searchTerm){if(t.grouped&&t.uiSuggestionType===f.SearchTermData&&o.uiSuggestionType===f.SearchTermHistory){return{action:"replace",index:i}}return{action:"skip"}}}return{action:"append"}}insertSuggestions(e,t){let s=this.model.getProperty("/suggestions").slice();s=this.insertIntoSuggestionList(e,s);if(!this.busyIndicator&&t>0){this.enableBusyIndicator(s,true);this.busyIndicator=true}if(this.busyIndicator&&t===0){this.enableBusyIndicator(s,false);this.busyIndicator=false}this.sortSuggestions(s);this.limitSuggestions(s);this.updateSuggestions(s)}insertIntoSuggestionList(e,t){let s=false;if(this.firstInsertion){this.firstInsertion=false;s=true}if(s){t=[];this.suggestionHeaders={};this.suggestionResultSetCounter=0;this.generatedPositions={maxPosition:m.properties[f.Object].position,position:{}}}this.suggestionResultSetCounter+=1;for(let s=0;s<e.length;++s){const i=e[s];if(i.uiSuggestionType===f.Object&&!i.isRecentEntry){let e=this.generatedPositions.position[i.dataSource.id];if(!e){this.generatedPositions.maxPosition+=1;e=this.generatedPositions.maxPosition;this.generatedPositions.position[i.dataSource.id]=e}i.position=e}i.suggestionResultSetCounter=this.suggestionResultSetCounter;i.resultSetPosition=s;const o=this.checkDuplicate(t,i);switch(o.action){case"append":t.push(i);break;case"skip":continue;case"replace":t.splice(o.index,1,i);break}if(this.isHeaderGenerationEnabled()&&!this.suggestionHeaders[i.position]){t.push(this.generateSuggestionHeader(i));this.suggestionHeaders[i.position]=true}}return t}isHeaderGenerationEnabled(){if(this.model.getDataSource()===this.model.appDataSource){return false}if(!this.model.config.boSuggestions&&this.model.getDataSource().type===this.sinaNext.DataSourceType.BusinessObject){return false}return true}sortSuggestions(e){e.sort(function(e,t){let s=e.position-t.position;if(s!==0){return s}if(e.uiSuggestionType===f.Header){return-1}if(t.uiSuggestionType===f.Header){return 1}if(e.grouped&&!t.grouped){return-1}if(!e.grouped&&t.grouped){return 1}s=e.suggestionResultSetCounter-t.suggestionResultSetCounter;if(s!==0){return s}s=e.resultSetPosition-t.resultSetPosition;return s})}getSuggestionLimit(e){const t=m.properties[e];if(typeof t==="undefined"){return Infinity}let s;if(this.model.getDataSource()===this.model.sinaNext.allDataSource||this.model.getDataSource()===this.model.favDataSource){s=t.limitDsAll}else{s=t.limit}return s}limitSuggestions(e){const t={};for(let s=0;s<e.length;++s){const i=e[s];let o=i.uiSuggestionType;if(o===f.SearchTermHistory){o=f.SearchTermData}const r=this.getSuggestionLimit(o);let n=t[o];if(typeof n==="undefined"){n=0;t[o]=n}if(n>=r){e.splice(s,1);--s;continue}t[o]=n+1}}updateSuggestions(e){const t="searchFieldInShell-input";let s=l.getElementById(t);if(!s){s=this.model.getProperty("/inputHelp")}const i=s.getSuggestionRows();let o;for(let e=0;e<i.length;++e){const t=i[e];const s=t.getBindingContext().getObject();if(t.getSelected()){o=s.key}}this.model.setProperty("/suggestions",e);if(!o){return}window.setTimeout(()=>{const e=s.getSuggestionRows();for(let t=0;t<e.length;++t){const i=e[t];const r=i.getBindingContext().getObject();if(r.key===o){s["_oSuggPopover"]._iPopupListSelectedIndex=t;i.setSelected(true);i.rerender()}}},100)}}return v})})();
},
	"sap/esh/search/ui/suggestions/SuggestionProvider.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){})();
},
	"sap/esh/search/ui/suggestions/SuggestionType.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){sap.ui.define(["../sinaNexTS/sina/NavigationTarget"],function(i){"use strict";const t=i["NavigationTarget"];function e(i){if(typeof i==="object"){if("titleNavigation"in i){return i.titleNavigation instanceof t}}}var a=function(i){i["App"]="App";i["DataSource"]="DataSource";i["SearchTermHistory"]="SearchTermHistory";i["SearchTermData"]="SearchTermData";i["SearchTermAI"]="SearchTermAI";i["Object"]="Object";i["Header"]="Header";i["BusyIndicator"]="BusyIndicator";i["Transaction"]="Transaction";i["Search"]="Search";return i}(a||{});const r={App:"App",DataSource:"DataSource",SearchTermHistory:"SearchTermHistory",SearchTermData:"SearchTermData",SearchTermAI:"SearchTermAI",Object:"Object",Header:"Header",BusyIndicator:"BusyIndicator",Transaction:"Transaction",Search:"Search",types:["App","DataSource","SearchTermHistory","SearchTermData","SearchTermAI","Object","Search","Transaction"],properties:{Transaction:{position:50,limitDsAll:3,limit:3},App:{position:100,limitDsAll:3,limit:7},DataSource:{position:200,limitDsAll:2,limit:2},SearchTermHistory:{position:400,limitDsAll:7,limit:5},SearchTermData:{position:400,limitDsAll:7,limit:5},SearchTermAI:{position:20,limitDsAll:7,limit:5},Object:{position:300,limitDsAll:3,limit:5},Search:{position:20,limitDsAll:7,limit:5},BusyIndicator:{position:900}}};const c=25;const o=10;r.isSearchSuggestion=e;r.Type=a;r.SuggestionType=r;r.RecentEntriesPosition=c;r.RecentEntriesLimit=o;return r})})();
},
	"sap/esh/search/ui/suggestions/TimeMerger.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){sap.ui.define([],function(){"use strict";class i{static counter=0;aborted=false;pending;returned=[];counter;processorCallback;processorNotificationSchedule;constructor(t=[],e=1e3){this.promiseList=t;this.timeDelay=e;this.pending=this.promiseList.length;this.counter=++i.counter}abort(){this.aborted=true}process(i){this.processorCallback=i;this.start();return this}start(){for(let i=0;i<this.promiseList.length;++i){const t=this.promiseList[i];t.then(this.assembleDoneCallback(),this.assembleErrorCallback())}this.scheduleProcessorNotification()}scheduleProcessorNotification(){if(this.processorNotificationSchedule){window.clearTimeout(this.processorNotificationSchedule);this.processorNotificationSchedule=null}this.processorNotificationSchedule=window.setTimeout(()=>{this.notifyProcessor()},this.timeDelay)}notifyProcessor(){if(this.aborted){return}if(this.returned.length>0){this.processorCallback(this.returned);this.returned=[]}if(this.pending>0){this.scheduleProcessorNotification()}}assembleDoneCallback(){return i=>{this.pending--;this.returned.push(i);if(this.pending===0){if(this.processorNotificationSchedule){window.clearTimeout(this.processorNotificationSchedule);this.processorNotificationSchedule=null}this.notifyProcessor()}}}assembleErrorCallback(){return i=>{this.pending--;this.returned.push(i);if(this.pending===0){if(this.processorNotificationSchedule){window.clearTimeout(this.processorNotificationSchedule);this.processorNotificationSchedule=null}this.notifyProcessor()}}}}return i})})();
},
	"sap/esh/search/ui/suggestions/TransactionSuggestionProvider.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){sap.ui.define(["../sinaNexTS/sina/DataSourceType","./SuggestionType","./SinaObjectSuggestionFormatter","../flp/BackendSystem","../flp/FrontendSystem","sap/ui/Device"],function(t,e,s,i,o,n){"use strict";function a(t){return t&&t.__esModule&&typeof t.default!=="undefined"?t.default:t}const r=t["DataSourceType"];const u=a(e);const g=e["Type"];const c=a(s);const l=a(i);const h=a(o);class S{model;suggestionHandler;suggestionLimit;sinaNext;suggestionQuery;transactionsDS;suggestionStartingCharacters;suggestionFormatter=(()=>new c)();transactionSuggestions=[];constructor(t){this.model=t.model;this.suggestionHandler=t.suggestionHandler;this.suggestionLimit=n.system.phone?5:7;this.sinaNext=this.model.sinaNext;this.suggestionQuery=this.sinaNext.createSuggestionQuery();this.transactionsDS=this.sinaNext.createDataSource({id:"CD$ALL~ESH_TRANSACTION~",label:"Transactions",type:r.BusinessObject});this.suggestionStartingCharacters=this.model.config.suggestionStartingCharacters}abortSuggestions(){this.suggestionQuery.abort()}getUrl(t){let e="#Shell-startGUI?sap-ui2-tcode="+t;const s=l.getSystem(this.model);if(s&&!s.equals(h.getSystem())){e=`#Shell-startGUI?sap-system=sid(${s.id})&sap-ui2-tcode=${t}`}return e}async getSuggestions(t){if(!this.model.config.searchBusinessObjects){return Promise.resolve([])}const e=this.model.getDataSource();const s=this.model.userCategoryManager;const i=s?.isFavActive()&&s?.getCategory("MyFavorites")?.includeApps;if(e!==this.model.allDataSource&&e!==this.model.appDataSource&&!(e===this.model.favDataSource&&i)){return Promise.resolve([])}t=t.clone();let o=t.searchTerm;if(o.toLowerCase().indexOf("/n")===0||o.toLowerCase().indexOf("/o")===0){o=o.slice(2);t.searchTerm=o}this.transactionSuggestions=[];if(o.length<this.suggestionStartingCharacters){return Promise.resolve([])}this.prepareSuggestionQuery(t);const n=await this.suggestionQuery.getResultSetAsync();const a=n.items;for(const e of a){const s={uiSuggestionType:g.Transaction,dataSource:this.transactionsDS,position:u.properties.Transaction.position,key:e.object.attributesMap.TCODE.value,searchTerm:t.searchTerm,url:this.getUrl(e.object.attributesMap.TCODE.value),icon:"sap-icon://generate-shortcut",label:e.object.attributesMap.TCDTEXT.valueHighlighted,type:e.type,calculationMode:e.calculationMode,object:e.object,sina:e.sina};const i=await window.sap.ushell.Container.getServiceAsync("CrossApplicationNavigation");const o=await i.isNavigationSupported([{target:{shellHash:s.url}}]);if(o[0].supported){this.suggestionFormatter.format(this,s)}}const r=this.suggestionHandler.getSuggestionLimit(g.Transaction);this.transactionSuggestions=this.transactionSuggestions.slice(0,r);return this.transactionSuggestions}addSuggestion(t){this.transactionSuggestions.push(t)}prepareSuggestionQuery(t){this.suggestionQuery.resetResultSet();this.suggestionQuery.setFilter(t);this.suggestionQuery.setDataSource(this.transactionsDS);this.suggestionQuery.setTypes([this.sinaNext.SuggestionType.Object]);this.suggestionQuery.setCalculationModes([this.sinaNext.SuggestionCalculationMode.Data]);this.suggestionQuery.setTop(10)}}return S})})();
},
	"sap/esh/search/ui/timecontroller/request.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){})();
},
	"sap/esh/search/ui/timecontroller/requestexecutor.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){sap.ui.define([],function(){"use strict";class e{requestExecutor;resolve;reject;promise;constructor(e){this.requestExecutor=e;this.promise=new Promise((e,s)=>{this.resolve=e;this.reject=s})}notify(){if(this.requestExecutor.status!==s.COMPLETED){throw"program error"}if(!this.requestExecutor.executionResult.hasError){this.resolve(this.requestExecutor.executionResult.response)}else{this.reject(this.requestExecutor.executionResult.error)}}}var s=function(e){e["INITIAL"]="INITIAL";e["PENDING"]="PENDING";e["COMPLETED"]="COMPLETED";return e}(s||{});class t{request;copiedRequest;time;status=(()=>s.INITIAL)();executionResult;responseListeners=[];constructor(e){this.request=e;this.copiedRequest=e.clone()}getRequest(){return this.copiedRequest}delete(){this.clearResponseListeners()}createResponseListener(){const t=new e(this);if(this.status===s.COMPLETED){t.notify()}else{this.responseListeners.push(t)}return t.promise}clearResponseListeners(){this.responseListeners=[]}execute(){this.time=(new Date).getTime();this.status=s.PENDING;if(this.executionResult){throw"program error"}this.request.execute().then(e=>{this.status=s.COMPLETED;this.executionResult={hasError:false,response:e};this.notifyResponseListeners()},e=>{this.status=s.COMPLETED;this.executionResult={hasError:true,error:e};this.notifyResponseListeners()})}notifyResponseListeners(){for(const e of this.responseListeners){e.notify()}this.clearResponseListeners()}}var r={__esModule:true};r.RequestExecutorStatus=s;r.RequestExecutor=t;return r})})();
},
	"sap/esh/search/ui/timecontroller/timecontrolledexecutor.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){sap.ui.define(["./requestexecutor"],function(e){"use strict";const t=e["RequestExecutor"];const r=e["RequestExecutorStatus"];function s(){return new Error("Too many requests")}class u{requestExecutor;outdatedLimit;createTooManyRequestsError;constructor(e){this.outdatedLimit=e.outdatedTimeLimit;this.createTooManyRequestsError=e.createTooManyRequestsError??s}createNewRequest(e){if(this.requestExecutor){this.requestExecutor.delete()}this.requestExecutor=new t(e);const r=this.requestExecutor.createResponseListener();this.requestExecutor.execute();return r}reuseOldRequest(){this.requestExecutor.clearResponseListeners();return this.requestExecutor.createResponseListener()}denyRequest(e){this.requestExecutor.clearResponseListeners();return Promise.reject(this.createTooManyRequestsError(e))}execute(e){if(!this.requestExecutor){return this.createNewRequest(e)}const t=(new Date).getTime()-this.requestExecutor.time;if(this.requestExecutor.status===r.PENDING){if(this.requestExecutor.getRequest().equals(e)){if(t<=this.outdatedLimit){return this.reuseOldRequest()}return this.createNewRequest(e)}else{return this.createNewRequest(e)}}else{return this.createNewRequest(e)}}}var o={__esModule:true};o.TimeControlledExecutor=u;return o})})();
},
	"sap/esh/search/ui/tree/TreeCache.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){sap.ui.define([],function(){"use strict";class t{data;active;constructor(){this.data={};this.active=false}activate(){this.active=true}deActivate(){this.clear();this.active=false}set(t,e){if(!this.active){return}this.data[t]=e}get(t){if(!this.active){return undefined}return this.data[t]}clear(){this.data={}}}var e={__esModule:true};e.TreeCache=t;return e})})();
},
	"sap/esh/search/ui/tree/TreeNode.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){sap.ui.define(["./tmpData"],function(e){"use strict";const t=e["createTmpData"];const d=e["deleteTmpData"];const i=e["getTmpData"];class r{id;label;expanded;expandable;childTreeNodes=[];tmpDataId;constructor(e){this.id=e.id;this.label=e.label;this.expanded=e.expanded??false;this.expandable=e.expandable??false;this.adjustPlaceholderChildTreeNode()}setTreeNodeFactory(e){this.getData().treeNodeFactory=e}getTreeNodeFactory(){return this.getData().treeNodeFactory}hasPlaceholderTreeNode(){return this.childTreeNodes.find(e=>e.id==="dummy")!==undefined}adjustPlaceholderChildTreeNode(){if(this.expandable){if(this.childTreeNodes.length===0){this.addPlaceholderTreeNode()}}else{if(this.hasPlaceholderTreeNode()){this.removePlaceHolderChildTreeNode()}}}addPlaceholderTreeNode(){if(this.hasPlaceholderTreeNode()){return}this.childTreeNodes.push({id:"dummy"})}removePlaceHolderChildTreeNode(){if(!this.hasPlaceholderTreeNode()){return}this.childTreeNodes.splice(0,1)}getChildTreeNodeById(e){for(const t of this.childTreeNodes){if(t.id===e){return t}}}addChildTreeNode(e){this.expandable=true;this.removePlaceHolderChildTreeNode();this.childTreeNodes.push(e);e.getData().parentTreeNode=this;e.register()}addChildTreeNodes(e){for(const t of e){this.addChildTreeNode(t)}}addChildTreeNodeAtIndex(e,t){this.expandable=true;this.removePlaceHolderChildTreeNode();this.childTreeNodes.splice(t,0,e);e.getData().parentTreeNode=this;e.register()}removeChildTreeNode(e){const t=this.childTreeNodes.indexOf(e);if(t<0){return}this.childTreeNodes.splice(t,1);e.getData().parentTreeNode=null;e.deRegister();this.adjustPlaceholderChildTreeNode()}delete(){for(const e of this.childTreeNodes.slice()){if(e.id==="dummy"){continue}e.delete()}const e=this.getData().parentTreeNode;if(e){e.removeChildTreeNode(this)}if(this.tmpDataId){d(this.tmpDataId)}}deleteChildTreeNodes(){for(const e of this.childTreeNodes.slice()){if(e.id==="dummy"){continue}e.delete()}}register(){const e=this.getData().parentTreeNode;if(!e.getTreeNodeFactory()){return}e.getTreeNodeFactory().registerTreeNode(this);for(const e of this.childTreeNodes){if(e.id==="dummy"){continue}e.register()}}deRegister(){if(!this.getTreeNodeFactory()){return}this.getTreeNodeFactory().deRegisterTreeNode(this);for(const e of this.childTreeNodes){if(e.id==="dummy"){continue}e.deRegister()}}getData(){if(!this.tmpDataId){const e=t();this.tmpDataId=e.tmpDataId;return e}return i(this.tmpDataId)}async setExpanded(e,t){this.expanded=e;if(this.getTreeNodeFactory().testMode){return}this.getTreeNodeFactory().saveFocus();if(this.expanded){try{this.deleteChildTreeNodes();this.getTreeNodeFactory().setBusy(true);const e=await this.fetchChildTreeNodes();if(e.length===0){this.expanded=false;this.setExpandable(false)}else{this.addChildTreeNodes(e)}}finally{this.getTreeNodeFactory().setBusy(false)}}else{this.deleteChildTreeNodes()}if(t){this.getTreeNodeFactory().updateUI()}this.getTreeNodeFactory().restoreFocus()}async fetchChildTreeNodes(){const e=this.getTreeNodeFactory();let t=e.cache.get(this.id);if(t){return t}t=await this.fetchChildTreeNodesImpl();e.cache.set(this.id,t);return t}fetchChildTreeNodesImpl(){return Promise.resolve([])}setExpandable(e){this.expandable=e;this.adjustPlaceholderChildTreeNode()}async updateRecursively(){const e=await this.fetchChildTreeNodes();this.updateChildren(e);for(const e of this.childTreeNodes){if(e.id==="dummy"){continue}if(!e.expanded){continue}await e.updateRecursively()}}updateChildren(e){const t=e=>{const t=this.getTreeNodeFactory().getTreeNode(e.id);if(t){t.getParentTreeNode().removeChildTreeNode(t);return t}else{return e}};if(e.length===0){this.deleteChildTreeNodes();this.expanded=false;this.setExpandable(false);return}this.removePlaceHolderChildTreeNode();let d;for(let i=0;i<e.length;++i){const r=e[i];if(i<=this.childTreeNodes.length-1){d=this.childTreeNodes[i];if(d.id===r.id){}else{d=t(r);this.addChildTreeNodeAtIndex(d,i)}}else{d=t(r);this.addChildTreeNode(d)}this.updateTreeNodeProperties(d,r);Object.assign(d.getData(),r.getData());if(d.expandable!==r.expandable){if(r.expandable){d.setExpandable(true)}else{d.deleteChildTreeNodes();d.setExpandable(false);d.expanded=false}}if(d!==r){r.delete()}}while(this.childTreeNodes.length>e.length){d=this.childTreeNodes[this.childTreeNodes.length-1];if(d.id==="dummy"){this.removePlaceHolderChildTreeNode()}else{d.delete()}}}updateTreeNodeProperties(e,t){const d=["id","expanded","expandable","childTreeNodes","tmpDataId"];for(const i in t){if(d.indexOf(i)>=0){continue}const r=t[i];if(["number","string","boolean"].indexOf(typeof r)<0){continue}e[i]=r}}visitChildNodesRecursively(e){for(const t of this.childTreeNodes){if(t.id==="dummy"){continue}e(t);t.visitChildNodesRecursively(e)}}visitParentNodesRecursively(e){const t=this.getParentTreeNode();if(t){e(t);t.visitParentNodesRecursively(e)}}getParentTreeNode(){return this.getData().parentTreeNode}isVisible(){const e=function(t){if(!t.expanded){return false}const d=t.getParentTreeNode();if(!d){return true}return e(d)};const t=this.getParentTreeNode();if(!t){return true}return e(t)}hasChildNodes(){for(const e of this.childTreeNodes){if(e.id==="dummy"){continue}return true}return false}hasExpandedChildNode(){for(const e of this.childTreeNodes){if(e.id==="dummy"){continue}if(e.expanded||e.hasExpandedChildNode()){return true}}return false}}return r})})();
},
	"sap/esh/search/ui/tree/TreeNodeFactory.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){sap.ui.define(["../BusyIndicator","./TreeCache"],function(e,t){"use strict";const o=e["DummyBusyIndicator"];const r=t["TreeCache"];class s{cache;rootTreeNodePath;testMode;constructor(e,t){this.rootTreeNodePath=e;this.testMode=t;this.cache=new r}}class i extends s{model;treeNodeMap={};rootTreeNode;treeViews=[];treeNodeConstructor;busyIndicator;constructor(e){super(e.rootTreeNodePath,e.testMode);this.rootTreeNodePath=e.rootTreeNodePath;this.model=e.model;this.treeNodeConstructor=e.treeNodeConstructor;this.busyIndicator=e.busyIndicator??new o}static create(e){const t=new i(e);return t}createRootTreeNode(...e){e[0].expandable=true;e[0].expanded=true;this.rootTreeNode=this.createTreeNode(...e);this.registerTreeNode(this.rootTreeNode);return this.rootTreeNode}createTreeNode(...e){const t=new this.treeNodeConstructor(...e);return t}registerTreeNode(e){if(this.treeNodeMap[e.id]){throw"duplicate tree id"+e.id}e.setTreeNodeFactory(this);this.treeNodeMap[e.id]=e}deRegisterTreeNode(e){e.setTreeNodeFactory(null);delete this.treeNodeMap[e.id]}getTreeNode(e){return this.treeNodeMap[e]}setRootTreeNodePath(e){this.rootTreeNodePath=e}updateUI(){this.model.setProperty(this.rootTreeNodePath,{childTreeNodes:[]});this.model.setProperty(this.rootTreeNodePath,this.rootTreeNode);for(const e of this.treeViews){e.expandTreeNodes()}}saveFocus(){for(const e of this.treeViews){e.saveFocus()}}restoreFocus(){for(const e of this.treeViews){e.restoreFocus()}}setBusy(e){this.busyIndicator.setBusy(e)}registerTreeView(e){this.treeViews.push(e)}deRegisterTreeView(e){const t=this.treeViews.indexOf(e);if(t>=0){this.treeViews.splice(t,1)}}getRootTreeNode(){return this.rootTreeNode}async updateRecursively(e){try{this.setBusy(true);await this.rootTreeNode.updateRecursively();if(e){await this.updateUI()}}finally{this.setBusy(false)}}delete(){this.getRootTreeNode().delete()}}i.BaseTreeNodeFactory=s;return i})})();
},
	"sap/esh/search/ui/tree/TreeView.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){sap.ui.define(["sap/m/Tree","../SearchHelper","sap/m/library"],function(e,t,o){"use strict";const r=t["delayedExecution"];const n=o["ListSeparators"];const s=e.extend("sap.esh.search.ui.tree.TreeView.TreeView",{renderer:{apiVersion:2},metadata:{properties:{treeNodeFactory:{type:"object"}}},constructor:function t(o,s){if(typeof o==="object"){s=o}s.toggleOpenState=e=>{this.handleToggleOpenState(e)};e.prototype.constructor.call(this,o,s);this.setShowSeparators(n.None);this.expandTreeNodes=r(this.expandTreeNodes,200);this.setBusyIndicatorDelay(200)},saveFocus:function e(){const t=this.getDomRef();if(!t){this.focusTreeNodeId=undefined;return}const o=t.querySelectorAll(".sapMTreeItemBase");for(let e=0;e<o.length;++e){const t=o.item(e);if(t===document.activeElement){this.focusTreeNodeId=t.getAttribute("data-esh-tree-node-id");return}}this.focusTreeNodeId=undefined},restoreFocus:async function e(){const t=()=>document.activeElement.getAttribute("data-esh-tree-node-id")===this.focusTreeNodeId;const o=()=>{const e=this.getItems();for(const t of e){if(t.getBindingContext().getObject().id===this.focusTreeNodeId){t.focus();return}}};const r=e=>new Promise(function(t){setTimeout(t,e)});for(let e=0;e<10;++e){await r(200);if(t()){return}o()}},setTreeNodeFactory:function e(t){this.setProperty("treeNodeFactory",t);if(t){t.registerTreeView(this)}},getTreeNodeFactory:function e(){return this.getProperty("treeNodeFactory")},destroy:function t(o){e.prototype.destroy.call(this,o);this.getTreeNodeFactory().deRegisterTreeView(this)},handleToggleOpenState:function e(t){const o=t.getParameter("itemContext").getObject();o.setExpanded(t.getParameter("expanded"),true)},expandTreeNodes:function e(){if(this.isDestroyed()){return}this.collapseAll();this.expandTreeNodeRecursively(this.getTreeNodeFactory().getRootTreeNode())},expandTreeNodeRecursively:function e(t){if(t.expanded){this.doExpand(t)}for(const e of t.childTreeNodes){if(e.id==="dummy"){continue}this.expandTreeNodeRecursively(e)}},doExpand:function e(t){const o=this.getItems();for(let e=0;e<o.length;++e){const r=o[e];const n=r.getBindingContext();if(!n){continue}const s=n.getObject();if(s===t){this.expand(e);return}}}});return s})})();
},
	"sap/esh/search/ui/tree/TreeViewItem.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){sap.ui.define(["sap/m/CustomTreeItem"],function(e){"use strict";const t=e.extend("sap.esh.search.ui.tree.TreeViewItem",{renderer:{apiVersion:2},constructor:function t(r,n){e.prototype.constructor.call(this,r,n);this.data("esh-tree-node-id","{id}",true)}});return t})})();
},
	"sap/esh/search/ui/tree/tmpData.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){sap.ui.define([],function(){"use strict";let t=0;const e={};function n(){const n={};n.tmpDataId=""+ ++t;e[n.tmpDataId]=n;return n}function a(t){const n=e[t];if(!n){throw"no tmp data"}return n}function u(t){delete e[t]}function r(){return Object.keys(e).length}function c(){return Object.keys(e).length===0}var o={__esModule:true};o.createTmpData=n;o.getTmpData=a;o.deleteTmpData=u;o.getCountTmpData=r;o.isEmptyTmpData=c;return o})})();
},
	"sap/esh/search/ui/uiConstants.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){sap.ui.define([],function(){"use strict";const e="";var i={__esModule:true};i.initialValueUnicode=e;return i})})();
},
	"sap/esh/search/ui/uri/CharMapper.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){
/*!
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	
 */
sap.ui.define([],function(){"use strict";class e{charsToReplace;charsToReplaceRegExp;replaceWithChars;replaceWithCharsRegExp;constructor(e){this.charsToReplace=e;if(e.length===0){throw new Error("No characters to replace given")}if(e.length>10){throw new Error("Max number of chars to replace is 10")}this.charsToReplaceRegExp=[];for(const r of e){this.charsToReplaceRegExp.push(new RegExp(r,"g"))}this.replaceWithChars=["0","1","2","3","4","5","6","7","8","9"];this.replaceWithCharsRegExp=[];for(const e of this.replaceWithChars){this.replaceWithCharsRegExp.push(new RegExp(e,"g"))}}map(e){for(let r=0;r<this.charsToReplaceRegExp.length;r++){e=e.replace(this.charsToReplaceRegExp[r],this.replaceWithChars[r])}return e}unmap(e){for(let r=0;r<this.charsToReplaceRegExp.length;r++){e=e.replace(this.replaceWithCharsRegExp[r],this.charsToReplace[r])}return e}}return e})})();
},
	"sap/esh/search/ui/usercategories/UserCategoryManager.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){sap.ui.define(["../i18n","sap/esh/search/ui/SearchHelper","../error/errors","../personalization/PersonalizationKeys"],function(t,e,s,i){"use strict";function a(t){return t&&t.__esModule&&typeof t.default!=="undefined"?t.default:t}const o=a(t);const r=e["isSearchAppActive"];const n=s["ProgramError"];const c=i["PersonalizationKeys"];const u=c.myFavorites;class l{active;lastActive;categories;personalizationStorage;sina;static async create(t){const e=new l(t);await e.initAsync();return e}constructor(t){this.active=false;this.lastActive=false;this.categories=[];this.personalizationStorage=t.personalizationStorage;this.sina=t.sina}initAsync(){const t=this;let e;let s;const i=[];const a=this.personalizationStorage.getItem(u);if(!this.isPersonalizationStorageItem(a)){throw new n(null,"wrong myFavData type")}if(!a){e=this.sina.createDataSource({id:"MyFavorites",label:o.getText("label_userFavorites"),labelPlural:o.getText("label_userFavorites"),type:this.sina.DataSourceType.UserCategory,includeApps:false,subDataSources:[],undefinedSubDataSourceIds:[]});this.categories.push(e);return Promise.resolve()}this.setFavActive(a.active);if(!this.isFavActive()){this.setFavActive(false)}this.setLastFavActive(this.isFavActive());for(const r of a.userCatgories){const a=r.subDataSources;if(a){s=a.map(function(e){const s=t.sina.getDataSource(e.id);if(!s){i.push(e.id)}return s})}else{s=[]}s=s.filter(t=>t);e=this.sina.createDataSource({id:r.id,label:o.getText("label_userFavorites"),labelPlural:o.getText("label_userFavorites"),type:this.sina.DataSourceType.UserCategory,includeApps:r.includeApps||false,subDataSources:s,undefinedSubDataSourceIds:i});this.categories.push(e)}return Promise.resolve()}isPersonalizationStorageItem(t){return true}getCategory(t){for(const e of this.categories){if(e.id===t){return e}}return null}isFavActive(){return this.active}setFavActive(t){this.active=t}isLastFavActive(){return this.lastActive}setLastFavActive(t){this.lastActive=t}save(){const t=[];for(const e of this.categories){const s=[];for(const t of e.subDataSources){s.push({id:t.id})}for(const t of e.undefinedSubDataSourceIds){s.push({id:t})}t.push({id:e.id,includeApps:e.includeApps,subDataSources:s})}this.personalizationStorage.setItem(u,{active:this.isFavActive(),userCatgories:t});this.personalizationStorage.saveNotDelayed().then(function(){if(r()&&this.isLastFavActive()!==this.isFavActive()){const t=new RegExp(/^[^#]*#/).exec(window.location.href);const e=t[0];setTimeout(function(){window.location.assign(e);window.location.reload()},2e3)}else if(!r()&&this.isLastFavActive()!==this.isFavActive()||r()&&this.isLastFavActive()===this.isFavActive()){setTimeout(function(){window.location.reload()},2e3)}}.bind(this))}}return l})})();
},
	"sap/esh/search/ui/userpref/SearchPrefsDialog.view.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){sap.ui.define(["sap/m/Button","sap/m/CheckBox","sap/m/FlexBox","sap/m/FlexItemData","sap/m/Label","sap/m/library","sap/m/List","sap/m/MessageBox","sap/m/StandardListItem","sap/m/Title","sap/m/VBox","sap/ui/core/mvc/View","sap/ui/model/BindingMode","../i18n"],function(e,t,a,s,n,i,o,r,c,l,d,p,h,u){"use strict";function g(e){return e&&e.__esModule&&typeof e.default!=="undefined"?e.default:e}const S=i["ListMode"];const m=g(u);const f=p.extend("sap.esh.search.ui.userpref.SearchPrefsDialog",{createContent:function e(){this.firstTimeBeforeRendering=true;const t=new d({items:[this.createSearchPersonalizationContent(),this.createMyFavoritesContent(),this.createNlqContent()]});return[t]},createSearchPersonalizationContent:function n(){const i=new l({text:m.getText("sp.personalizedSearch")});const o=new t("personalizedSearchCheckbox",{selected:{path:"/personalizedSearch",mode:h.TwoWay},text:m.getText("sp.trackPersonalizedSearch"),enabled:{path:"/isPersonalizedSearchEditable"},layoutData:new s({growFactor:1})});const r=new e("",{text:m.getText("sp.deleteSearchTracks"),press:this.resetHistory.bind(this),enabled:{parts:[{path:"/isPersonalizedSearchEditable"},{path:"/resetButtonWasClicked"}],formatter:(e,t)=>e&&!t}});const c=new a({items:[o,r]});return new d("",{items:[i,c],visible:{path:"/isPersonalizedSearchAreaVisible"}})},createMyFavoritesContent:function e(){const i=new l({text:m.getText("sp.defaultSearchScope")});const r=new t("defaultSearchScopeCheckbox",{selected:{path:"/favActive",mode:h.TwoWay},text:m.getText("sp.usePersSearchScope")});const p=new n("connectorListLabel",{text:m.getText("sp.connectorList"),visible:{path:"/favActive"},layoutData:new s({growFactor:1})}).addStyleClass("sapUiSmallMarginTop");const u=new n("",{text:{parts:[{path:"/selectedDataSourceCount"},{path:"/dataSourceCount"}],formatter:(e,t)=>m.getText("sp.connectorListCount",[e,t])},visible:{path:"/favActive"}}).addStyleClass("sapUiSmallMarginTop");const g=new a({items:[p,u]});const f=new o("connectorListId",{mode:S.MultiSelect,visible:{path:"/favActive"},selectionChange:e=>{this.onListItemSelectionChange(e)},growing:true,growingThreshold:1e3}).addStyleClass("sapUiTinyMarginTop");f.bindAggregation("items",{path:"/subDataSources",factory:()=>{const e=new c("",{title:{path:"label"},selected:{path:"selected"}});return e}});const w=new d("",{items:[i,r,g,f],visible:{path:"/isMyFavoritesAvailable"}}).addStyleClass("sapUiSmallMarginTop");return w},createNlqContent:function e(){const a=new l({text:m.getText("sp.nlqTitle")});const n=new t("",{selected:{path:"/nlqActive",mode:h.TwoWay},text:m.getText("sp.nlqSwitch"),layoutData:new s({growFactor:1})});n.addStyleClass("sapUshellSearchPrefsNlq");const i=new d("",{items:[a,n],visible:{path:"/isNlqAreaVisible"}});i.addStyleClass("sapUiSmallMarginTop");return i},onBeforeRendering:function e(){if(this.firstTimeBeforeRendering){this.firstTimeBeforeRendering=false;return}this.getModel().reload()},resetHistory:function e(){this.getModel().resetProfile().then(()=>{},e=>{let t=m.getText("sp.resetFailed");t+="\n"+e;r.show(t,{title:m.getText("sp.resetFailedTitle"),icon:r.Icon.ERROR,actions:[r.Action.OK]})})},onListItemSelectionChange:function e(t){this.getModel().setProperty("/selectedDataSourceCount",t.getSource().getSelectedItems().length)}});return f})})();
},
	"sap/esh/search/ui/userpref/SearchPrefsModel.js":function(){
/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){sap.ui.define(["../i18n","sap/ui/model/json/JSONModel","sap/esh/search/ui/SearchModel","../personalization/PersonalizationKeys"],function(e,t,s,i){"use strict";function r(e){return e&&e.__esModule&&typeof e.default!=="undefined"?e.default:e}const a=r(e);const o=i["PersonalizationKeys"];class n extends t{searchModel;initializePromise;userCategory;userCategoryManager;configuration;asyncInit(){if(this.initializePromise){return this.initializePromise}this.initializePromise=(async()=>{this.searchModel=s.getModelSingleton({},"flp");await this.searchModel.initAsync();if(!this.searchModel.config.searchBusinessObjects){this.setProperty("/isSearchPrefsActive",false);this.setProperty("/isPersonalizedSearchEditable",false);this.setProperty("/personalizedSearch",false);this.setProperty("/resetButtonWasClicked",false);return}this.setProperty("/isSearchPrefsActive",true);await this.initSearchPersonalization();await this.initMyFavorites();await this.initNlq()})();return this.initializePromise}async initSearchPersonalization(){const e=this.searchModel.sinaNext;this.setProperty("/isPersonalizedSearchAreaVisible",e.provider.id==="multi"?false:true);this.configuration=await e.getConfigurationAsync({forceReload:true});this.setProperty("/isPersonalizedSearchEditable",this.configuration.isPersonalizedSearchEditable);this.setProperty("/personalizedSearch",this.configuration.personalizedSearch);this.setProperty("/resetButtonWasClicked",false)}async initMyFavorites(){this.setProperty("/isMyFavoritesAvailable",this.searchModel.isMyFavoritesAvailable());if(this.searchModel.isMyFavoritesAvailable()){this.initSubDataSources()}}reload(){return this.asyncInit()}initSubDataSources(){const e=[];this.searchModel.getUserCategoryManager().then(t=>{this.userCategoryManager=t;this.userCategory=t.getCategory("MyFavorites");const s=this.searchModel.sinaNext.dataSources;s.filter(e=>(e.type===this.searchModel.sinaNext.DataSourceType.BusinessObject||e===this.searchModel.appDataSource)&&e.id!=="CD$ALL~ESH_TRANSACTION~").forEach(t=>{if(t===this.searchModel.appDataSource){e.unshift({id:t.id,label:t.labelPlural,selected:this.userCategory.isIncludeApps(),undefined:false})}else{e.push({id:t.id,label:t.labelPlural,selected:this.userCategory.hasSubDataSource(t.id),undefined:false})}});const i=this.userCategory.getUndefinedSubDataSourceIds().reverse();for(const t of i){e.unshift({id:t,label:t+" "+a.getText("sp.connectorNotExists"),selected:true,undefined:true})}this.setProperty("/favActive",this.userCategoryManager.isFavActive());this.setProperty("/subDataSources",e);this.setProperty("/dataSourceCount",this.getNumberSubDataSources());this.setProperty("/selectedDataSourceCount",this.getNumberSelectedSubDataSources())})}async initNlq(){const e=!!(this.searchModel.config.aiNlq&&this.searchModel.sinaNext.capabilities.nlq);this.setProperty("/isNlqAreaVisible",e);if(!e){return}const t=this.searchModel.getPersonalizationStorageInstance().getItem(o.nlqActive);this.setProperty("/nlqActive",t)}async saveNlq(){this.searchModel.getPersonalizationStorageInstance().setItem(o.nlqActive,this.getProperty("/nlqActive"));await this.searchModel.getPersonalizationStorageInstance().save();this.searchModel.calculateIsNlqActive()}getNumberSubDataSources(){return this.getProperty("/subDataSources").length}getNumberSelectedSubDataSources(){return this.getProperty("/subDataSources").filter(e=>e.selected).length}saveSubDataSources(){const e=this.getProperty("/subDataSources");this.userCategory.setIncludeApps(false);this.userCategoryManager.setFavActive(this.getProperty("/favActive"));this.userCategory.clearSubDataSources();this.userCategory.clearUndefinedSubDataSourceIds();for(const t of e){if(t.selected===true){if(t.id===this.searchModel.appDataSource.id){this.userCategory.setIncludeApps(true)}else{const e=this.userCategoryManager.sina.getDataSource(t.id);if(e){this.userCategory.addSubDataSource(e)}else{this.userCategory.addUndefinedSubDataSourceId(t.id)}}}}this.userCategoryManager.save()}shortStatus(){return this.asyncInit().then(()=>this.getProperty("/personalizedSearch")?a.getText("sp.on"):a.getText("sp.off"))}isPersonalizedSearchActive(){return this.asyncInit().then(()=>this.getProperty("/personalizedSearch"))}isSearchPrefsActive(){return this.asyncInit().then(()=>this.getProperty("/isSearchPrefsActive"))}isMultiProvider(){return this.asyncInit().then(()=>this.searchModel.sinaNext.provider.id==="multi")}async savePreferences(){await this.saveNlq();if(this.searchModel.isMyFavoritesAvailable()){this.saveSubDataSources()}if(this.configuration.isPersonalizedSearchEditable){this.configuration.setPersonalizedSearch(this.getProperty("/personalizedSearch"));await this.configuration.saveAsync()}this.setProperty("/resetButtonWasClicked",false)}cancelPreferences(){this.setProperty("/personalizedSearch",this.configuration.personalizedSearch);this.setProperty("/resetButtonWasClicked",false);this.initNlq()}resetProfile(){return this.configuration.resetPersonalizedSearchDataAsync().then(()=>{this.setProperty("/resetButtonWasClicked",true)})}}return n})})();
}
});
//# sourceMappingURL=library-preload.js.map
