/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){sap.ui.define(["../suggestions/SuggestionType","../SearchShellHelper","../SearchShellHelperHorizonTheme","../flp/FrontendSystem","../flp/BackendSystem"],function(e,t,s,a,o){"use strict";function r(e){return e&&e.__esModule&&typeof e.default!=="undefined"?e.default:e}const n=e["Type"];const i=r(t);const c=r(s);const l=r(a);const d=r(o);class h{tCodeStartUrl;constructor(e){this.searchModel=e;const t=d.getSystem(e);if(t&&!t.equals(l.getSystem())){this.tCodeStartUrl=`#Shell-startGUI?sap-system=sid(${t.id})&sap-ui2-tcode=`}else{this.tCodeStartUrl="#Shell-startGUI?sap-ui2-tcode="}}_addItemToRecentlyUsedStorage(e,t){const s={label:e,url:this.tCodeStartUrl+t,icon:"sap-icon://generate-shortcut",uiSuggestionType:n.Transaction,searchTerm:e};if(this.searchModel.config.bRecentSearches&&this.searchModel.recentlyUsedStorage){this.searchModel.recentlyUsedStorage.addItem(s)}}handleSearchTerm(e,t){const s={navigateToSearchApp:true};const a=this.searchModel.getDataSource();const o=this.searchModel.userCategoryManager;const r=o?.isFavActive()&&o?.getCategory("MyFavorites")?.includeApps;if(a!==this.searchModel.allDataSource&&a!==this.searchModel.appDataSource&&!(a===this.searchModel.favDataSource&&r)){return s}if(window.sap.cf){return s}if(e.toLowerCase().indexOf("/n")===0){const t=e.slice(2);this._addItemToRecentlyUsedStorage(e,t);if(window.hasher){window.hasher.setHash(this.tCodeStartUrl+t)}else{window.location.href=this.tCodeStartUrl+t}s.navigateToSearchApp=false}if(e.toLowerCase().indexOf("/o")===0){const t=e.slice(2);this._addItemToRecentlyUsedStorage(e,t);window.open(this.tCodeStartUrl+t,"_blank","noopener,noreferrer");s.navigateToSearchApp=false}if(s.navigateToSearchApp===false){t.destroySuggestionRows();t.setValue("");if(!c.isSearchFieldExpandedByDefault()){i.collapseSearch()}}return s}}return h})})();
//# sourceMappingURL=TransactionsHandler.js.map