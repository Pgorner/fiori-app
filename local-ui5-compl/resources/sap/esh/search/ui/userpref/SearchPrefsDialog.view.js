/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){sap.ui.define(["sap/m/Button","sap/m/CheckBox","sap/m/FlexBox","sap/m/FlexItemData","sap/m/Label","sap/m/library","sap/m/List","sap/m/MessageBox","sap/m/StandardListItem","sap/m/Title","sap/m/VBox","sap/ui/core/mvc/View","sap/ui/model/BindingMode","../i18n"],function(e,t,a,s,n,i,o,r,c,l,d,p,h,u){"use strict";function g(e){return e&&e.__esModule&&typeof e.default!=="undefined"?e.default:e}const S=i["ListMode"];const m=g(u);const f=p.extend("sap.esh.search.ui.userpref.SearchPrefsDialog",{createContent:function e(){this.firstTimeBeforeRendering=true;const t=new d({items:[this.createSearchPersonalizationContent(),this.createMyFavoritesContent(),this.createNlqContent()]});return[t]},createSearchPersonalizationContent:function n(){const i=new l({text:m.getText("sp.personalizedSearch")});const o=new t("personalizedSearchCheckbox",{selected:{path:"/personalizedSearch",mode:h.TwoWay},text:m.getText("sp.trackPersonalizedSearch"),enabled:{path:"/isPersonalizedSearchEditable"},layoutData:new s({growFactor:1})});const r=new e("",{text:m.getText("sp.deleteSearchTracks"),press:this.resetHistory.bind(this),enabled:{parts:[{path:"/isPersonalizedSearchEditable"},{path:"/resetButtonWasClicked"}],formatter:(e,t)=>e&&!t}});const c=new a({items:[o,r]});return new d("",{items:[i,c],visible:{path:"/isPersonalizedSearchAreaVisible"}})},createMyFavoritesContent:function e(){const i=new l({text:m.getText("sp.defaultSearchScope")});const r=new t("defaultSearchScopeCheckbox",{selected:{path:"/favActive",mode:h.TwoWay},text:m.getText("sp.usePersSearchScope")});const p=new n("connectorListLabel",{text:m.getText("sp.connectorList"),visible:{path:"/favActive"},layoutData:new s({growFactor:1})}).addStyleClass("sapUiSmallMarginTop");const u=new n("",{text:{parts:[{path:"/selectedDataSourceCount"},{path:"/dataSourceCount"}],formatter:(e,t)=>m.getText("sp.connectorListCount",[e,t])},visible:{path:"/favActive"}}).addStyleClass("sapUiSmallMarginTop");const g=new a({items:[p,u]});const f=new o("connectorListId",{mode:S.MultiSelect,visible:{path:"/favActive"},selectionChange:e=>{this.onListItemSelectionChange(e)},growing:true,growingThreshold:1e3}).addStyleClass("sapUiTinyMarginTop");f.bindAggregation("items",{path:"/subDataSources",factory:()=>{const e=new c("",{title:{path:"label"},selected:{path:"selected"}});return e}});const w=new d("",{items:[i,r,g,f],visible:{path:"/isMyFavoritesAvailable"}}).addStyleClass("sapUiSmallMarginTop");return w},createNlqContent:function e(){const a=new l({text:m.getText("sp.nlqTitle")});const n=new t("",{selected:{path:"/nlqActive",mode:h.TwoWay},text:m.getText("sp.nlqSwitch"),layoutData:new s({growFactor:1})});n.addStyleClass("sapUshellSearchPrefsNlq");const i=new d("",{items:[a,n],visible:{path:"/isNlqAreaVisible"}});i.addStyleClass("sapUiSmallMarginTop");return i},onBeforeRendering:function e(){if(this.firstTimeBeforeRendering){this.firstTimeBeforeRendering=false;return}this.getModel().reload()},resetHistory:function e(){this.getModel().resetProfile().then(()=>{},e=>{let t=m.getText("sp.resetFailed");t+="\n"+e;r.show(t,{title:m.getText("sp.resetFailedTitle"),icon:r.Icon.ERROR,actions:[r.Action.OK]})})},onListItemSelectionChange:function e(t){this.getModel().setProperty("/selectedDataSourceCount",t.getSource().getSelectedItems().length)}});return f})})();
//# sourceMappingURL=SearchPrefsDialog.view.js.map