// Copyright (c) 2009-2023 SAP SE, All Rights Reserved
sap.ui.define(["sap/ui/core/Control","sap/ui/core/Element","sap/ui/Device","sap/base/Log","./AppContainerRenderer","sap/ui/core/RenderManager","sap/ushell/Container"],function(e,t,r,o,i,a,n){"use strict";var s=e.extend("sap.ushell.ui.AppContainer",{metadata:{library:"sap.ushell",properties:{visible:{type:"boolean",group:"Appearance",defaultValue:true}},aggregations:{pages:{type:"sap.ui.core.Control",multiple:true,singularName:"pages"}},events:{beforeNavigate:{parameters:{fromId:{type:"string"},from:{type:"sap.ui.core.Control"},toId:{type:"string"},to:{type:"sap.ui.core.Control"}}},afterNavigate:{parameters:{fromId:{type:"string"},from:{type:"sap.ui.core.Control"},toId:{type:"string"},to:{type:"sap.ui.core.Control"}}}}},renderer:i});s.prototype.addPages=function(e){if(this.getPages().indexOf(e)>-1){return}if(e.hasStyleClass("sapUShellApplicationContainerShiftedIframe")){e.toggleStyleClass("sapUShellApplicationContainerIframeHidden",true)}else{e.toggleStyleClass("hidden",true)}this.addAggregation("pages",e,true);var t=this.getDomRef();if(t){var r=(new a).getInterface();r.render(e,t);r.destroy()}};s.prototype.addCenterViewPort=s.prototype.addPages;s.prototype.removeCenterViewPort=function(e){this.removeAggregation("pages",e,true)};s.prototype.getCurrentCenterPage=function(){return this.getPages().reduce(function(e,t){if(t&&t.hasStyleClass("sapUShellApplicationContainerShiftedIframe")){return!t.hasStyleClass("sapUShellApplicationContainerIframeHidden")?t.getId():e}return t&&!t.hasStyleClass("hidden")?t.getId():e},null)};s.prototype.navTo=function(e,i){var a=t.getElementById(i),s=this.getCurrentCenterPage(),p=t.getElementById(s)||null,l=n.getRendererInternal("fiori2").byId("Shell-home-component-container"),d=l&&l.getId(),u=s&&d===s,g=d===i;if(e!=="centerViewPort"){o.error("Navigation to "+e+" is not allowed in Fiori3");return}if(this.getPages().indexOf(a)===-1){o.error("AppContainer: invalid navigation target");return}if(r.system.desktop&&u){this._saveFocus()}if(s!==i){this.fireBeforeNavigate({toId:i,to:a,fromId:s,from:p})}this.getPages().forEach(function(e){if(e){if(e.hasStyleClass("sapUShellApplicationContainerShiftedIframe")){e.toggleStyleClass("sapUShellApplicationContainerIframeHidden",e.getId()!==i)}else{e.toggleStyleClass("hidden",e.getId()!==i)}}});if(r.system.desktop&&g){this._restoreFocus()}if(s!==i){this.fireAfterNavigate({toId:i,to:a,fromId:s,from:p})}};s.prototype._restoreFocus=function(){sap.ui.require(["sap/ushell/renderer/AccessKeysHandler"],function(e){var r;if(this.sLastFocusId){e.registerAppKeysHandler(this.fnLastAppKeyHandler);r=t.getElementById(this.sLastFocusId);if(r){r.focus()}}}.bind(this))};s.prototype._saveFocus=function(){sap.ui.require(["sap/ushell/renderer/AccessKeysHandler"],function(e){var r=t.closestTo(document.activeElement);this.sLastFocusId=r?r.getId():null;this.fnLastAppKeyHandler=e.getAppKeysHandler()}.bind(this))};s.prototype.getViewPortControl=function(e,t){return this.getPages().reduce(function(r,o){return e==="centerViewPort"&&o&&o.getId()===t?o:r},null)};var p=function(){};s.prototype.switchState=p;s.prototype._handleSizeChange=p;s.prototype.shiftCenterTransitionEnabled=p;s.prototype.shiftCenterTransition=p;s.prototype.addLeftViewPort=p;s.prototype.addRightViewPort=p;s.prototype.attachAfterSwitchState=p;s.prototype.detachAfterSwitchState=p;s.prototype.attachAfterSwitchStateAnimationFinished=p;s.prototype.detachAfterSwitchStateAnimationFinished=p;s.prototype.getCurrentState=function(){return"Center"};return s});
//# sourceMappingURL=AppContainer.js.map