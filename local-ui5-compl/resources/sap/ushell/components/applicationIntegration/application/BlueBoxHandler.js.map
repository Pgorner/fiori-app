{"version":3,"file":"BlueBoxHandler.js","names":["sap","ui","define","Deferred","EventBus","BlueBoxesCache","PostMessageUtils","hasher","utils","Container","BlueBoxHandler","aBasicStatefulCapabilities","service","action","this","STATEFUL_TYPES","FLP_V2_KEEP_ALIVE","GUI_V1_KEEP_ALIVE","NOT_SUPPORTED","GUI_V1","FLP_V2","init","addNewBlueBox","oApplicationContainer","oResolvedHashFragment","add","url","setProperty","deleteBlueBoxByUrl","sUrl","remove","deleteBlueBoxByContainer","removeByContainer","getBlueBoxesCount","getLength","getPoolLength","getBlueBoxByUrl","get","getBlueBoxById","sId","getByApplicationContainerId","removeCapabilities","oCapabilities","isApplicationContainerActive","removeBlueBoxCapabilities","isStatefulContainer","statefulCreateApp","async","sStorageKey","bNavigationInSameStatefulContainer","oFLPParams","reservedParameters","_checkNwbcUrlAdjustment","applicationType","oPostParams","sCacheId","sHash","getHash","indexOf","oAppStatesInfo","getParamKeys","aAppStateNamesArray","length","Navigation","getServiceAsync","aDataArray","getAppStateData","aAppStateKeysArray","forEach","item","index","getFLPUrl","getSystemAlias","getInstance","publish","bIsHidden","hasStyleClass","addStyleClass","removeStyleClass","oResult","postMessageToIframeApp","AppLifeCycle","prepareCurrentAppObject","undefined","body","result","statefulDestroyApp","oAppTarget","getCurrentAppTargetResolution","setAsyncDirtyStateProvider","statefulStoreKeepAliveApp","statefulRestoreKeepAliveApp","isCapabilitySupported","sServiceName","sInterface","supportsBlueBoxCapabilities","isReusableContainer","getStatefulType","isStatefulContainerSupportingKeepAlive","isIframeIsValidSupported","isStatefulContainerInKeepAlivePool","findFreeContainerForNewKeepAliveApp","isSAPLegacyApplicationType","appCapabilities","appFrameworkId","oFreeApplicationContainer","getFromPool","returnUnusedKeepAliveContainer","bWasMovedToPool","moveKeepAliveToPool","addBlueBoxCapabilities","getStatefulContainerType","bIgnoreKeepAlive","callback","destroyApp","sAppId","postMessageToMultipleIframes","appId","storeApp","restoreApp","_getStorageForDebug","oBlueBoxesCache","_destroyAllApplicationContainer","destroy"],"sources":["BlueBoxHandler-dbg.js"],"mappings":"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","ignoreList":[]}