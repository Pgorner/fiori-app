// Copyright (c) 2009-2023 SAP SE, All Rights Reserved
sap.ui.define(["sap/base/Log","sap/base/util/deepEqual","sap/base/util/uid","sap/ushell/utils/UriParameters","sap/m/MessagePopover","sap/m/Text","sap/ui/core/Component","sap/ui/core/ComponentContainer","sap/ui/core/Control","sap/ui/core/EventBus","sap/ui/core/Icon","sap/ui/core/RenderManager","sap/ui/core/Supportability","sap/ui/core/mvc/View","sap/ui/Device","sap/ui/thirdparty/jquery","sap/ui/thirdparty/URI","sap/ushell/ApplicationType","sap/ushell/Config","sap/ushell/EventHub","sap/ushell/library","sap/ushell/resources","sap/ushell/System","sap/ushell/User","sap/ushell/utils","sap/ui/thirdparty/hasher","sap/ushell/components/container/IframePOSTUtils","sap/ushell/Container","sap/ushell/ApplicationType/systemAlias","sap/ushell/utils/UrlParsing"],function(e,t,n,a,r,o,i,s,p,l,u,d,f,c,g,jQuery,m,y,h,v,C,b,I,_,A,P,E,S,U,w){"use strict";var x="sap.ushell.components.container.";var D=x+"ApplicationContainer";var R="sap.ushell.Container.dirtyState.";var L,T,M,V;var N=false;var F=false;var B=[];var H=0;var O=0;let W=null;let j=A.getUi5Version().then(t=>{e.debug(`Using ui5-version: ${t}`,null,D);W=t});function k(e){S.getServiceAsync("CrossApplicationNavigation").then(function(t){t.isUrlSupported(e.url).then(function(){e.promise.resolve({allowed:true,id:e.id})},function(){e.promise.resolve({allowed:false,id:e.id})})})}function $(e){var t={asyncURLHandler:me.prototype._adaptIsUrlSupportedResultForMessagePopover};if(r&&r.setDefaultHandlers){r.setDefaultHandlers(t)}v.emit("StepDone",e.stepName)}v.once("initMessagePopover").do($);L=new A.Map;function z(e){return L.get(e.getId())}function K(){return T}function q(e){var t=a.fromURL(e).mParams,n=t["sap-xapp-state"],r=t["sap-xapp-state-data"],o;delete t["sap-xapp-state"];delete t["sap-xapp-state-data"];o={startupParameters:t};if(r){o["sap-xapp-state"]=r}if(n){o["sap-xapp-state"]=n}return o}function J(e,t){return b.i18n.getText(e,t)}function G(){return new u({size:"2rem",src:"sap-icon://error",tooltip:me.prototype._getTranslatedText("an_error_has_occured")})}function Q(t){var n=t.getAggregation("child"),a;if(n instanceof s){a=n.getComponentInstance().getMetadata().getName().replace(/\.Component$/,"");e.debug("unloading component "+a,null,D)}t.destroyAggregation("child")}function X(t,n,a){return new Promise(function(r){var o,p,l,u,d,f={},g,m;function y(e){e.setWidth(t.getWidth());e.setHeight(t.getHeight());e.addStyleClass("sapUShellApplicationContainer");t.setAggregation("child",e,true)}o=n.indexOf("?");if(o>=0){u=me.prototype._getParameterMap(n);f=u.startupParameters;n=n.slice(0,o)}if(n.slice(-1)!=="/"){n+="/"}if(/\.view\.(\w+)$/i.test(a)){l=/^SAPUI5=(?:([^/]+)\/)?([^/]+)\.view\.(\w+)$/i.exec(a);if(!l){e.error("Invalid SAPUI5 URL",a,D);r(me.prototype._createErrorControl());return}d=l[1];g=l[2];m=l[3].toUpperCase();if(d){g=d+"."+g}else{p=g.lastIndexOf(".");if(p<1){e.error("Missing namespace",a,D);return me.prototype._createErrorControl()}d=g.slice(0,p)}}else{d=a.replace(/^SAPUI5=/,"")}var h={};var v=d.replace(/\./g,"/");h[d]=n+v;sap.ui.loader.config({paths:h});me.prototype._destroyChild(t);if(g){if(t.getApplicationConfiguration()){f.config=t.getApplicationConfiguration()}c.create({id:t.getId()+"-content",type:m,viewData:f||{},viewName:g}).then(function(e){t.fireEvent("applicationConfiguration");y(e);r(e)})}else{e.debug("loading component "+d,null,D);var C=u?{startupParameters:u.startupParameters}:{startupParameters:{}};if(u&&u["sap-xapp-state-data"]){C["sap-xapp-state"]=u["sap-xapp-state-data"]}if(u&&u["sap-xapp-state"]){C["sap-xapp-state"]=u["sap-xapp-state"]}if(t.getApplicationConfiguration()){C.config=t.getApplicationConfiguration()}i.create({id:t.getId()+"-component",componentData:C,name:d}).then(function(e){t.fireEvent("applicationConfiguration",{configuration:e.getManifestEntry("/sap.ui5/config")});var n=new s({id:t.getId()+"-content",component:e});y(n);r(n)})}})}function Y(e,t){setTimeout(function(){l.getInstance().publish("sap.ushell",e,t)},0)}function Z(t,n,a){var r=this,o,p={oControl:undefined,oPromise:undefined},u,d,f,c={startupParameters:{}},g,m=t.getComponentHandle(),y,h;function v(e){t.fireEvent("applicationConfiguration",{configuration:e.getManifestEntry("/sap.ui5/config")});d=new s({id:t.getId()+"-content",component:e});d.setHeight(t.getHeight());d.setWidth(t.getWidth());d.addStyleClass("sapUShellApplicationContainer");t._disableRouterEventHandler=me.prototype._disableRouter.bind(r,e);l.getInstance().subscribe("sap.ushell.components.container.ApplicationContainer","_prior.newUI5ComponentInstantion",t._disableRouterEventHandler);t.setAggregation("child",d,true);S.getServiceAsync("PluginManager").then(function(t){y=t.getPluginLoadingPromise("RendererExtensions");h=y&&y.state();if(h==="pending"){y.done(function(){me.prototype._publishExternalEvent("appComponentLoaded",{component:e})}).fail(function(){me.prototype._publishExternalEvent("appComponentLoaded",{component:e})})}if(h==="resolved"||h==="rejected"){me.prototype._publishExternalEvent("appComponentLoaded",{component:e})}});return d}u=n.indexOf("?");if(u>=0){f=me.prototype._getParameterMap(n);c={startupParameters:f.startupParameters};if(f["sap-xapp-state-data"]){c["sap-xapp-state"]=f["sap-xapp-state-data"]}if(f["sap-xapp-state"]){c["sap-xapp-state"]=f["sap-xapp-state"]}n=n.slice(0,u)}if(t.getApplicationConfiguration()){c.config=t.getApplicationConfiguration()}if(n.slice(-1)!=="/"){n+="/"}me.prototype._destroyChild(t);g={id:t.getId()+"-component",name:a,componentData:c};e.debug("Creating component instance for "+a,JSON.stringify(g),D);l.getInstance().publish("sap.ushell.components.container.ApplicationContainer","_prior.newUI5ComponentInstantion",{name:a});if(m){var C=m.getInstance(g);p.oControl=v(C)}else{o=new jQuery.Deferred;var b={};var I=a.replace(/\./g,"/");b[I]=n;sap.ui.loader.config({paths:b});e.error("No component handle available for '"+a+"'; fallback to component.load()",null,D);i.create({id:t.getId()+"-component",name:a,manifest:false,componentData:c}).then(function(e){o.resolve(v(e))});p.oPromise=o.promise()}return p}function ee(t){var n;if(t instanceof i&&typeof t.getRouter==="function"){n=t.getRouter();if(n&&typeof n.stop==="function"){e.info("router stopped for instance "+t.getId());n.stop()}}}function te(e){var t=document.createElement("a"),n=a.fromURL(e).get("sap-client"),r;t.href=e;r=t.protocol+"//"+t.host;return new I({alias:n?r+"?sap-client="+n:r,baseUrl:r,client:n||undefined,platform:"abap"})}function ne(e,t){var n=false,a=e.getDomRef(),r,o;if(e.getIframeWithPost()===true&&a&&a.getAttribute&&a.getAttribute("sap-iframe-app")=="true"){a=jQuery("#"+a.getAttribute("id")+"-iframe")[0]}if(a){r=m(e._getIFrameUrl(a)||window.location&&window.location.href||"");o=r.protocol()+"://"+r.host();n=t.source===a.contentWindow||t.origin===o}return n}function ae(){var e=this.getDomRef();if(!e||e.tagName!=="IFRAME"){if(this.getIframeWithPost()===true&&e&&e.getAttribute&&e.getAttribute("sap-iframe-app")=="true"){return jQuery("#"+e.getAttribute("id")+"-iframe")[0]}return null}return e}function re(e){var t;if(e===undefined){e=this._getIFrame()}if(this.getIframeWithPost()===true){t=jQuery("#"+e.getAttribute("id").replace("-iframe","-form"))[0].action;if(t===undefined&&(new m).query(true).hasOwnProperty("sap-isolation-enabled")){t=e.src}}else{t=e.src}return t}function oe(t,n){var a=t&&t.getUi5ComponentName&&t.getUi5ComponentName(),r=n.data,o=typeof r==="string"&&r.indexOf("sap.ushell.appRuntime.iframeIsValid")>0;if(t&&!t.getActive()&&o!==true){e.debug("Skipping handling of postMessage 'message' event with data '"+JSON.stringify(r)+"' on inactive container '"+t.getId()+"'","Only active containers can handle 'message' postMessage event","sap.ushell.components.container.ApplicationContainer");return}if(typeof a==="string"){e.debug("Skipping handling of postMessage 'message' event with data '"+JSON.stringify(r)+"' on container of UI5 application '"+a+"'","Only non UI5 application containers can handle 'message' postMessage event","sap.ushell.components.container.ApplicationContainer");return}var i={bPluginsStatusChecked:N,bKeepMessagesForPlugins:F,bApiRegistered:true};M(t,n,i);me.prototype._handlePostMessagesForPluginsPostLoading(t,n,i)}function ie(t,n,a){var r,o;if(a.bApiRegistered!==false){return}S.getServiceAsync("PluginManager").then(function(a){if(N===false){N=true;r=a.getPluginLoadingPromise("RendererExtensions");o=r&&r.state();if(o==="pending"){F=true;r.always(function(){var t;F=false;e.debug("Processing post messages queue after 'RendererExtensions' plugins loaded, queue size is: "+B.length,null,"sap.ushell.components.container.ApplicationContainer");for(var n=0;n<B.length;n++){t=B[n];try{me.prototype._handleMessageEvent.call(t.that,t.oContainer,t.oMessage)}catch(t){e.error(t.message||t,null,"sap.ushell.components.container.ApplicationContainer")}}B=[]})}}if(F===true){B.push({index:H++,that:this,oContainer:t,oMessage:n})}})}function se(){N=false;F=false;B=[];H=0}function pe(e,t){var n=e._getIFrame(),a=e.getApplicationType();if(A.isApplicationTypeEmbeddedInIframe(e.getApplicationType(a))&&n){var r=new m(e._getIFrameUrl(n));var o=r.protocol()+"://"+r.host();n.contentWindow.postMessage(JSON.stringify({action:"pro54_disableDirtyHandler"}),o);t.preventDefault()}}function le(e,t,n){e.openStart("div",t).accessibilityState(t).class("sapUShellApplicationContainer").style("height",t.getHeight()).style("width",t.getWidth()).openEnd();if(n){e.renderControl(n)}e.close("div")}function ue(e,t,n,a){if(a===undefined){a=false}if(A.isApplicationTypeEmbeddedInIframe(t,true)||e&&A.isApplicationTypeEmbeddedInIframe(e.getFrameworkId())){var r=e&&e.getTargetNavigationMode();n=me.prototype._adjustNwbcUrl(n,t,r,e&&e.getStatefulType()>0,a);if(e&&a===false){A.localStorageSetItem(e.globalDirtyStorageKey,S.DirtyState.INITIAL)}}return n}function de(e,t,n,r,o){var i={};if(o===undefined){o=false}var s;function p(e,t){if(e.indexOf("#")===-1){return w.addParamsToUrl(e,t)}return w.addShellParamsToURL(e,t)}function l(){var e=A.getParameterValueBoolean("sap-accessibility");if(e!==undefined){return e}return S.getUser().getAccessibilityMode()}function u(){var t=a.fromURL(e)||{mParams:{}};if(t.mParams["sap-theme"]===undefined){return S.getUser().getTheme(_.prototype.constants.themeFormat.NWBC)}return undefined}function d(){var t=false,n=a.fromURL(e)||{mParams:{}};t=f.isStatisticsEnabled()&&n.mParams["sap-statistics"]===undefined;return t}function c(){var e=P&&P.getHash(),t="",n;if(e&&e.length>0&&e.indexOf("sap-iapp-state=")>0){n=/(?:sap-iapp-state=)([^&/]+)/.exec(e);if(n&&n.length===2){t=n[1]}}return t}function g(){var e="";var t=!!jQuery("body.sapUiSizeCompact").length;var n=!!jQuery("body.sapUiSizeCozy").length;if(t===true){e="0"}else if(n){e="1"}return e}i["sap-ie"]="edge";s=u();if(s){i["sap-theme"]=s}if(l()){i["sap-accessibility"]="X"}if(d()){i["sap-statistics"]="true"}var m=g();if(m&&m.length>0){i["sap-touch"]=m}if(o===false){if(n){i["sap-target-navmode"]=n}if(t==="TR"||t==="GUI"){i["sap-keepclientsession"]="2"}else if(r){i["sap-keepclientsession"]="1"}var y=c();if(y&&y.length>0){i["sap-iapp-state"]=y}var v=0;if(h.last("/core/shell/sessionTimeoutIntervalInMinutes")>0){v=h.last("/core/shell/sessionTimeoutIntervalInMinutes")}i["sap-ushell-timeout"]=v;e=p(e,i);return A.appendSapShellParamSync(e,t,W)}return p(e,i)}function fe(e,t,n,a){var r=t.getAggregation("child"),o,i;if(!r||t._bRecreateChild){i=me.prototype._createUi5Component(t,n,a);if(i.oControl!==undefined){t._bRecreateChild=false;me.prototype._renderControlInDiv(e,t,i.oControl)}else{t.oDeferredControlCreation=new jQuery.Deferred;me.prototype._renderControlInDiv(e,t);i.oPromise.then(function(e){t._bRecreateChild=false;o=(new d).getInterface();o.renderControl(e);o.flush(jQuery("#"+t.getId())[0]);o.destroy();t.oDeferredControlCreation.resolve()})}}else{me.prototype._renderControlInDiv(e,t,r)}}function ce(e,n,a){var r=e.getProperty(n);if(t(r,a)){return}e.setProperty(n,a);e._bRecreateChild=true}function ge(t,n,r,o,i){var s,p;var l=false;localStorage.removeItem(n.globalDirtyStorageKey);n.oDeferredControlCreation=undefined;if(i&&i.indexOf("SAPUI5.Component=")===0&&r===y.URL.type){fe(t,n,o,i.replace(/^SAPUI5\.Component=/,""));return}if(i&&i.indexOf("SAPUI5=")===0&&r===y.URL.type){me.prototype._renderControlInDiv(t,n,undefined,"open");n.oDeferredControlCreation=new jQuery.Deferred;me.prototype._createUi5View(n,o,i).then(function(e){var a,r=jQuery("#"+n.getId());if(r&&r.length>0){a=(new d).getInterface();a.renderControl(e);a.flush(jQuery("#"+n.getId())[0]);a.destroy()}else{t.renderControl(e)}n.oDeferredControlCreation.resolve()});me.prototype._renderControlInDiv(t,n,undefined,"close");return}e.debug('Not resolved as "SAPUI5.Component=" or "SAPUI5=" , '+"will attempt to load into iframe "+i);if(!n.getActive()){e.debug("Skipping rendering container iframe","Container '"+n.getId()+"' is inactive");return}try{o=n.getFrameSource(r,o)}catch(a){e.error(a.message||a,null,D);n.fireEvent("applicationConfiguration");t.renderControl(me.prototype._createErrorControl());return}if(S){s=me.prototype._getLogoutHandler(n);if(!s){if(A.isApplicationTypeEmbeddedInIframe(r)){s=me.prototype._logout.bind(null,n);L.put(n.getId(),s);S.attachLogoutEvent(s);S.addRemoteSystem(me.prototype._createSystemForUrl(o))}}else if(!A.isApplicationTypeEmbeddedInIframe(r)){S.detachLogoutEvent(s);L.remove(n.getId())}}o=n._checkNwbcUrlAdjustment(n,r,o);var u=a.fromURL(document.URL);if(u.has("sap-iframe-params")){var f=u.get("sap-iframe-params")||"",c=f.split(",");if(c.length>0){var g=new m(o);c.forEach(function(e){if(e&&e.length>0){if(u.has(e)){g.addQuery(e,u.get(e))}}});o=g.toString()}}if(V){V.then(function(e){e.addAcceptedOrigin(new m(o).origin())})}if(r==="TR"){n.setProperty("iframePostAllParams",true,true)}p=h.last("/core/shell/enableOpenIframeWithPost");if(p===undefined){p=true}if(u.get("sap-post")==="false"){p=false}else if(window.QUnit!==undefined){p=n.getIframeWithPost()}if(p===true&&n.getOpenWithPostByAppParam()===false){p=false}if(u.get("sap-post")==="true"){l=true}if(p===true&&(r==="NWBC"||r==="TR"||r==="WDA"||r==="WCF")||l===true){E.renderIframeWithPOST(t,n,o,++O);return}var v=U.addSystemAlias(o,n);n.fireEvent("applicationConfiguration");t.openStart("iframe",n).accessibilityState(n).attr("src",v).attr("title",b.i18n.getText("AppilcationContainer.IframeTitle")).attr("sap-iframe-idx",++O).class("sapUShellApplicationContainer").style("height",n.getHeight()).style("width",n.getWidth());if(h.last("/core/shell/enableFeaturePolicyInIframes")===true){t.attr("allow",A.getIframeFeaturePolicies())}t.openEnd().close("iframe")}var me=p.extend(D,{metadata:{properties:{additionalInformation:{defaultValue:"",type:"string"},application:{type:"object"},applicationConfiguration:{type:"object"},applicationType:{defaultValue:"URL",type:x+"ApplicationType"},height:{defaultValue:"100%",type:"sap.ui.core.CSSSize"},navigationMode:{defaultValue:"",type:"string"},targetNavigationMode:{defaultValue:"",type:"string"},text:{defaultValue:"",type:"string"},url:{defaultValue:"",type:"string"},currentAppUrl:{defaultValue:"",type:"string"},currentAppId:{defaultValue:"",type:"string"},currentAppTargetResolution:{type:"object"},visible:{defaultValue:true,type:"boolean"},active:{defaultValue:true,type:"boolean"},"sap-system":{type:"string"},applicationDependencies:{type:"object"},componentHandle:{type:"object"},ui5ComponentName:{type:"string"},width:{defaultValue:"100%",type:"sap.ui.core.CSSSize"},shellUIService:{type:"object"},reservedParameters:{type:"object"},coreResourcesFullyLoaded:{type:"boolean"},statefulType:{defaultValue:0,type:"int"},iframeHandlers:{defaultValue:"",type:"string"},openWithPostByAppParam:{defaultValue:true,type:"boolean"},iframeWithPost:{defaultValue:false,type:"boolean"},beforeAppCloseEvent:{type:"object"},extendedInfo:{type:"object"},systemAlias:{defaultValue:"",type:"string"},iframePostAllParams:{defaultValue:false,type:"boolean"},isKeepAlive:{defaultValue:false,type:"boolean"},frameworkId:{defaultValue:"",type:"string"},iframeReusedForApp:{defaultValue:false,type:"boolean"},isIframeValidTime:{defaultValue:{time:0},type:"object"},isInvalidIframe:{defaultValue:false,type:"boolean"},isFetchedFromCache:{defaultValue:false,type:"boolean"},blueBoxCapabilities:{defaultValue:{},type:"object"}},events:{applicationConfiguration:{parameters:{configuration:{type:"object"}}}},aggregations:{child:{multiple:false,type:"sap.ui.core.Control",visibility:"hidden"}},library:"sap.ushell",designtime:"sap/ushell/designtime/ApplicationContainer.designtime"},exit:function(){var e;var t=this;if(S){e=me.prototype._getLogoutHandler(t);if(e){S.detachLogoutEvent(e);L.remove(t.getId())}}localStorage.removeItem(t.globalDirtyStorageKey);if(t._unloadEventListener){removeEventListener("pagehide",t._unloadEventListener)}if(t._disableRouterEventHandler){l.getInstance().unsubscribe("sap.ushell.components.container.ApplicationContainer","_prior.newUI5ComponentInstantion",t._disableRouterEventHandler)}if(t._storageEventListener){removeEventListener("storage",t._storageEventListener)}if(t._messageEventListener){removeEventListener("message",t._messageEventListener)}me.prototype._destroyChild(t);if(p.exit){p.exit.apply(t)}},setHandleMessageEvent:function(e){M=e},init:function(){var t=this;t.globalDirtyStorageKey=R+n();t._unloadEventListener=t.exit.bind(t);addEventListener("pagehide",t._unloadEventListener);t._storageEventListener=function(n){var a=t.getApplicationType();if(n.key===t.globalDirtyStorageKey&&n.newValue===S.DirtyState.PENDING&&A.isApplicationTypeEmbeddedInIframe(a)){var r=t._getIFrame();if(r){e.debug("getGlobalDirty() send pro54_getGlobalDirty ",null,"sap.ushell.components.container.ApplicationContainer");var o=new m(t._getIFrameUrl(r));var i=o.protocol()+"://"+o.host();r.contentWindow.postMessage(JSON.stringify({action:"pro54_getGlobalDirty"}),i)}}};addEventListener("storage",t._storageEventListener);t._messageEventListener=me.prototype._handleMessageEvent.bind(null,t);addEventListener("message",t._messageEventListener);if(!V&&S.isInitialized()){V=S.getServiceAsync("MessageBroker")}},onAfterRendering:function(){var e=this;if(g.os.ios&&this.$().prop("tagName")==="IFRAME"){this.$().parent().css("overflow","auto")}if(this.oDeferredRenderer){this.oDeferredRenderer.done(function(){var t=document.getElementById(e.getId()+"-form");if(t){t.submit()}})}},invalidate:function(){if(this.getDomRef()){return this}return p.prototype.invalidate.apply(this,arguments)},renderer:{apiVersion:2,render:function(t,n){if(W===null){j.then(()=>{n.invalidate()});return}var a=n.getApplication();var r=n.launchpadData;var i;if(!n.getVisible()){me.prototype._renderControlInDiv(t,n);return}if(n.bTestControl){me.prototype._renderControlInDiv(t,n,n.oTestControl)}else if(n.error){delete n.error;me.prototype._renderControlInDiv(t,n,me.prototype._createErrorControl())}else if(!a){me.prototype._render(t,n,n.getApplicationType(),n.getUrl(),n.getAdditionalInformation())}else if(!a.isResolvable()){me.prototype._render(t,n,a.getType(),a.getUrl(),"")}else if(r){me.prototype._render(t,n,r.applicationType,r.Absolute.url.replace(/\?$/,""),r.applicationData)}else{e.debug("Resolving "+a.getUrl(),null,D);a.resolve(function(t){e.debug("Resolved "+a.getUrl(),JSON.stringify(t),D);n.launchpadData=t;me.prototype._destroyChild(n)},function(e){var t=a.getMenu().getDefaultErrorHandler();if(t){t(e)}me.prototype._destroyChild(n);n.error=e});i=new o({text:me.prototype._getTranslatedText("loading",[a.getText()])});me.prototype._destroyChild(n);n.setAggregation("child",i);me.prototype._renderControlInDiv(t,n,i)}}}});me.prototype.getFrameSource=function(e,t){if(!Object.prototype.hasOwnProperty.call(y.enum,e)){throw new Error("Illegal application type: "+e)}return t};me.prototype.setUrl=function(e){ce(this,"url",e)};me.prototype.setAdditionalInformation=function(e){ce(this,"additionalInformation",e)};me.prototype.setApplicationType=function(e){ce(this,"applicationType",e)};me.prototype.sendBeforeAppCloseEvent=function(){var e=this,t=this.getBeforeAppCloseEvent&&this.getBeforeAppCloseEvent();if(t&&t.enabled&&t.enabled===true){return new Promise(function(n,a){sap.ui.require(["sap/ushell/components/applicationIntegration/application/PostMessageUtils"],function(r){r.postMessageToIframeApp(e,"sap.ushell.services.CrossApplicationNavigation","beforeAppCloseEvent",t.params,true).then(n,a)})})}return undefined};me.prototype.getDeffedControlCreation=function(e){return this.oDeferredControlCreation?this.oDeferredControlCreation.promise():(new jQuery.Deferred).resolve().promise()};me.prototype.addBlueBoxCapabilities=function(e){const t=this.getBlueBoxCapabilities();e.forEach(e=>{t[`${e.service}.${e.action}`.toLowerCase()]=true});return this};me.prototype.removeBlueBoxCapabilities=function(e){const t=this.getBlueBoxCapabilities();if(!e){this.setProperty("blueBoxCapabilities",{},true);return this}e.forEach(e=>{delete t[`${e.service}.${e.action}`.toLowerCase()]});return this};me.prototype.supportsBlueBoxCapabilities=function(e){const t=this.getBlueBoxCapabilities();return e.every(e=>t[`${e.service}.${e.action}`.toLowerCase()])};me.prototype._getCommunicationHandlers=K;me.prototype._adaptIsUrlSupportedResultForMessagePopover=k;me.prototype._getLogoutHandler=z;me.prototype._getParameterMap=q;me.prototype._getTranslatedText=J;me.prototype._createErrorControl=G;me.prototype._destroyChild=Q;me.prototype._createUi5View=X;me.prototype._publishExternalEvent=Y;me.prototype._createUi5Component=Z;me.prototype._disableRouter=ee;me.prototype._createSystemForUrl=te;me.prototype._isTrustedPostMessageSource=ne;me.prototype._handleMessageEvent=oe;me.prototype._logout=pe;me.prototype._renderControlInDiv=le;me.prototype._checkNwbcUrlAdjustment=ue;me.prototype._adjustNwbcUrl=de;me.prototype._render=ge;me.prototype._getIFrame=ae;me.prototype._getIFrameUrl=re;me.prototype._resetPluginsLoadIndications=se;me.prototype._handlePostMessagesForPluginsPostLoading=ie;me.prototype._setCachedUI5Version=function(e){W=e;j=j.then(()=>{W=e})};return me},true);
//# sourceMappingURL=ApplicationContainer.js.map