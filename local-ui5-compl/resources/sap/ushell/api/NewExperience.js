// Copyright (c) 2009-2023 SAP SE, All Rights Reserved
sap.ui.define(["sap/ui/base/EventProvider","sap/ui/model/json/JSONModel","sap/ushell/api/NewExperience/CustomOverflowListItem"],function(e,t,r){"use strict";const i={Header:"Header",Overflow:"Overflow"};class l{#e=new e;#t=null;#r=null;#i=null;constructor(){this.#l();this.#r=this.#o()}reset(){this.#i.destroy();this.#e.destroy();this.#r.destroy();this.#e=new e;this.#t=null;this.#l();this.#r=this.#o()}#l(){this.#i=new t({active:false,isVisible:false,currentState:i.Header,shellHeaderControlId:null,showInShellHeader:false})}#o(){return new r({visible:{parts:["/isVisible","/currentState"],formatter:(e,t)=>e&&t===i.Overflow},contentId:"{/shellHeaderControlId}"}).addStyleClass("newExperienceSwitchListItem").setModel(this.#i).data("help-id","ushell-new-experience-switch",true)}getModel(){return this.#i}getOverflowItemId(){return this.#r.getId()}isActive(){return this.#i.getProperty("/active")}getShellHeaderControl(){return this.#t}getOverflowItemControl(){return this.#r}showInOverflow(){this.#i.setProperty("/currentState",i.Overflow);this.#s()}showInShellHeader(){this.#i.setProperty("/currentState",i.Header);this.#s()}attachActiveChanged(...e){this.#e.attachEvent("activeChanged",...e)}detachActiveChanged(...e){this.#e.detachEvent("activeChanged",...e)}#s(){const e=this.isActive();const t=this.#i.getProperty("/currentState")===i.Header;if(e){this.#i.setProperty("/showInShellHeader",t)}else{this.#i.setProperty("/showInShellHeader",false)}}setSwitchControl(e){const t=this.isActive();this.#t=e;this.#i.setProperty("/shellHeaderControlId",e?.getId?.());this.#i.setProperty("/active",!!e);this.#i.setProperty("/isVisible",!!e);if(t!==this.isActive()){this.#e.fireEvent("activeChanged",{active:this.isActive()})}this.#s()}setSwitchVisibility(e){this.#i.setProperty("/isVisible",e)}}const o=new l;return o});
//# sourceMappingURL=NewExperience.js.map