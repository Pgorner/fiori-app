// Copyright (c) 2009-2023 SAP SE, All Rights Reserved
sap.ui.define(["sap/base/Log","sap/base/util/deepExtend","sap/ushell/utils/UriParameters","sap/ui/core/Component","sap/ui/core/util/AsyncHintsHelper","sap/ui/thirdparty/jquery"],function(e,a,t,r,n,jQuery){"use strict";let s=["sap.ui.unified"];s=["sap.ca.scfld.md","sap.ca.ui","sap.me","sap.ui.unified"];function i(e,a){var t=new jQuery.Deferred;e.componentData=a;if(e.manifest===undefined){e.manifest=false}r.create(e).then(function(e){t.resolve(e)},function(e){t.reject(e)});return t.promise()}function o(e){var a=true;if(e.hasOwnProperty("loadCoreExt")){a=e.loadCoreExt}return a}function p(e,a){var t=true;if(e.hasOwnProperty("loadDefaultDependencies")){t=e.loadDefaultDependencies}if(a&&a.hasOwnProperty("loadDefaultDependencies")){t=t&&a.loadDefaultDependencies}return t}function u(e){var a=e.semanticObject||null;var t=e.action||null;if(!a||!t){return null}return"application-"+a+"-"+t+"-component"}function c(e){return e&&e.indexOf("?")>=0}function l(e){var a=new RegExp("[/]~[\\w-]+~[A-Z0-9]?");return e.replace(a,"")}function f(e){if(!e){return e}var a=e.indexOf("?");if(a>=0){return e.slice(0,a)}return e}function d(a,t,r,n,s){var i="The issue is most likely caused by application "+a,o="Failed to load UI5 component with properties: '"+s+"'.";if(n){o+=" Error likely caused by:\n"+n}else{o+=" Error: '"+t+"'"}if(r==="parsererror"){i+=", as one or more of its resources could not be parsed"}i+=". Please create a support incident and assign it to the support component of the respective application.";e.error(i,o,a)}function m(e){var a=t.fromURL(e||window.location.href).mParams,r=a["sap-xapp-state"],n=a["sap-xapp-state-data"],s;delete a["sap-xapp-state"];delete a["sap-xapp-state-data"];s={startupParameters:a};if(n){s["sap-xapp-state"]=n}if(r){s["sap-xapp-state"]=r}return s}function y(a,t){if(!Array.isArray(t)){return}t.forEach(function(t){var r=String.prototype.toLowerCase.call(t.severity||"");r=["trace","debug","info","warning","error","fatal"].indexOf(r)!==-1?r:"error";e[r](t.text,t.details,a)})}function x(a){if(!Array.isArray(a)){e.error("Ui5ComponentLoader: loadBundle called with invalid arguments");return null}return Promise.all(a.map(function(e){return sap.ui.loader._.loadJSResourceAsync(e)})).catch(function(t){e.error("Ui5ComponentLoader: failed to load bundle resources: ["+a.join(", ")+"]");return Promise.reject(t)})}function v(e,t,r,i,o,p,u,c,d){var m=a({},o);if(!m.asyncHints){m.asyncHints=t?{libs:s}:{}}if(e){m.asyncHints.preloadBundles=m.asyncHints.preloadBundles||[];m.asyncHints.preloadBundles=m.asyncHints.preloadBundles.concat(d)}if(i){m.asyncHints.waitFor=i}if(!m.name){m.name=p}if(u){m.url=f(u)}if(c){m.id=c}if(r&&m.asyncHints){n.modifyUrls(m.asyncHints,l)}return m}function h(e,t,r,n){var s=a({startupParameters:{}},e);if(r){s.config=r}if(n){s.technicalParameters=n}if(c(t)){var i=m(t);s.startupParameters=i.startupParameters;if(i["sap-xapp-state-data"]){s["sap-xapp-state"]=i["sap-xapp-state-data"]}if(i["sap-xapp-state"]){s["sap-xapp-state"]=i["sap-xapp-state"]}}return s}function P(e){s=e}return{constructAppComponentId:u,getParameterMap:m,logAnyApplicationDependenciesMessages:y,logInstantiateComponentError:d,shouldLoadCoreExt:o,shouldLoadDefaultDependencies:p,urlHasParameters:c,removeParametersFromUrl:f,createUi5Component:i,loadBundle:x,createComponentProperties:v,createComponentData:h,_setDefaultDependencies:P}},false);
//# sourceMappingURL=utils.js.map