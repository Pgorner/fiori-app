// Copyright (c) 2009-2023 SAP SE, All Rights Reserved
sap.ui.define(["sap/base/util/isPlainObject","sap/ushell/Container","sap/ushell/services/Navigation/utils","sap/ushell/TechnicalParameters","sap/ushell/utils","sap/ushell/utils/type"],function(t,e,a,n,s,i){"use strict";const r={};r.getLinks=async function(a={}){const n=await e.getServiceAsync("Navigation");if(t(a)){const[t]=await n.getLinks([a]);return t}const s=a.reduce((t,[e])=>{t.push(e);return t},[]);const i=await n.getLinks(s);const r=i.reduce((t,e)=>{t.push([e]);return t},[]);return r};r.getAppStateData=async function(t){const a=await e.getServiceAsync("Navigation");if(typeof t==="string"){const[e]=await a.getAppStateData([t]);return e}const n=t.reduce((t,[e])=>{t.push(e);return t},[]);const s=await a.getAppStateData(n);const i=s.reduce((t,e)=>{t.push([e]);return t},[]);return i};r.getSemanticObjectLinks=async function(t,r,c,o,p,u){const g=await e.getServiceAsync("Navigation");const[l]=await s.requireAsync(["sap/ushell/components/applicationIntegration/AppLifeCycle"]);let m=await a.injectStickyParameters({args:{params:r},appLifeCycle:l,technicalParameters:n,type:i});m=g.getTargetWithCurrentSystem(m,o).params;m=g.amendTargetWithSapUshellEncTestParameter({params:m}).params;const y=await e.getServiceAsync("NavTargetResolutionInternal");if(!Array.isArray(t)){const e=y.getLinks({semanticObject:t,params:m,ignoreFormFactor:c,ui5Component:o,appStateKey:p,compactIntents:!!u});return s.promisify(e)}return Promise.all(t.map(async t=>{const[e,a,n,i,r,c]=t;const o=y.getLinks({ignoreFormFactor:!!n,compactIntents:!!c,semanticObject:e,params:a,ui5Component:i,appStateKey:r});const p=await s.promisify(o);return[p]}))};r.isIntentSupported=async function(t,a){const n=await e.getServiceAsync("Navigation");const i={};const r=t.map(t=>{const e=n.getTargetWithCurrentSystem(t,a);i[e]=t;return e});const c=await e.getServiceAsync("NavTargetResolutionInternal");const o=c.isNavigationSupported(r);const p=await s.promisify(o);return p.reduce((t,e,a)=>{const n=r[a];const s=i[n];t[s]=e;return t},{})};return r});
//# sourceMappingURL=compatibility.js.map