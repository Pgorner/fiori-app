{"version":3,"file":"AppLifeCycleAgent.js","names":["sap","ui","define","Log","extend","UriParameters","assert","EventBus","URI","Device","BusyIndicator","EventHub","hasher","oUrlParsing","resources","Container","AppRuntimeContext","AppCommunicationMgr","AppRuntimeService","FesrEnhancer","AppLifeCycleAgent","that","this","sAppResolutionModule","oAppResolution","bEnableAppResolutionCache","oAppResolutionCache","fnCreateApplication","oCachedApplications","oRouterDisableRetriggerApplications","oAppDirtyStateProviders","oAppBackNavigationFunc","oRunningApp","fnRenderApp","oShellUIService","sDatalossMessage","init","sModule","ofnCreateApplication","ofnRenderApp","bEnableCache","sAppId","oAppInfo","resetCurrentApp","undefined","addAppInfoToCache","registerCommHandlers","oServiceCalls","create","executeServiceCallFn","oMessageData","oMsg","JSON","parse","oMessage","data","destroy","store","restore","on","do","oData","componentId","disable","_sendAppRuntimeSetup","browserI18n","getTranslationModel","window","navigator","language","getResourceBundle","getText","onbeforeunload","getDirtyFlag","oAppRuntimeFullSetup","isStateful","isKeepAlive","isIframeValid","session","bLogoutSupport","oAppRuntimeMinSetup","postMessageToFLP","ui5appruntime","config","stateful","Promise","fnResolve","fnReject","sUrl","sAppIntent","oParsedShellIntent","sScubeAppIntent","sKeepAliveAppKey","startInteraction","body","getIsScube","fromURL","get","sHash","indexOf","parseShellHash","params","disableCFLPUpdate","replaceHash","browser","chrome","show","_resetBackNavigationCallback","getInstance","publish","getAppInfo","then","values","fnFindKeepAlive","Object","keys","length","sCachedKey","ui5ComponentName","oResolvedHashFragment","find","sCacheId","expandSapIntentParams","query","oURLParameters","oParsedHash","oCreateApplicationResult","deletedKeepAliveId","bDestroyKeepAlive","appDestroy","oApplication","sId","e","error","document","URL","stack","sStorageKey","oApp","bValue","resolve","cleanDirtyStateProviderArray","setAppShortId","oCachedEntry","cloneCurrentAppEntry","_getBackNavigationCallback","getComponentInstance","setVisible","getAsyncDirtyStateProviders","isKeepAliveSupported","deactivate","suspend","getRouter","stop","bRouterDisableRetrigger","setAsyncDirtyStateProviders","setBackNavigation","activate","initialize","setTimeout","info","oAppAttributes","oUrlParameters","hasOwnProperty","sAppStateKey","sParameters","oUrlParametersExpanded","sError","addAppParamsToIntent","getApplicationParameters","oStartupParameters","sSapIntentParam","sStartupParametersWithoutSapIntentParam","buildFinalParamsString","sSimpleParams","sIntentParams","sParams","startsWith","toString","sMoreParams","appId","removeSearch","getServiceAsync","oNavTargetResolution","resolveHashFragmentLocal","done","fail","sMsg","fnGetAppInfo","stringify","require","replace","oObj","setCurrentApp","setCurrentAppAttributes","oEntry","setShellUIService","oService","checkDataLossAndContinue","confirm","setDirtyFlag"],"sources":["AppLifeCycleAgent-dbg.js"],"mappings":"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","ignoreList":[]}