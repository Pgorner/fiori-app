// Copyright (c) 2009-2023 SAP SE, All Rights Reserved
sap.ui.define(["sap/ui/core/EventBus","sap/ui/core/service/ServiceFactoryRegistry","sap/ui/core/service/ServiceFactory","sap/ushell/ui5service/ShellUIService","sap/ushell/appRuntime/ui5/AppCommunicationMgr","sap/ushell/appRuntime/ui5/AppRuntimeService","sap/ushell/appRuntime/ui5/AppRuntimeContext","sap/ui/thirdparty/jquery"],function(e,s,i,t,a,n,r,jQuery){"use strict";var c,l=false,u;var o=t.extend("sap.ushell.appRuntime.services.ShellUIService",{setTitle:function(e){if(!e){return}c=e;n.postMessageToFLP("sap.ushell.services.ShellUIService.setTitle",{sTitle:e})},getTitle:function(){return c},setHierarchy:function(e){return r.checkIntentsConversionForScube(e).then(function(e){return n.postMessageToFLP("sap.ushell.services.ShellUIService.setHierarchy",{aHierarchyLevels:e})})},setRelatedApps:function(e){return r.checkIntentsConversionForScube(e).then(function(e){return n.postMessageToFLP("sap.ushell.services.ShellUIService.setRelatedApps",{aRelatedApps:e})})},setBackNavigation:function(e){if(!l){l=true;a.registerCommHandlers({"sap.ushell.appRuntime":{oServiceCalls:{handleBackNavigation:{executeServiceCallFn:function(e){if(u){u()}else if(r.checkDataLossAndContinue()){window.history.back()}return(new jQuery.Deferred).resolve().promise()}}}}})}u=e;n.postMessageToFLP("sap.ushell.ui5service.ShellUIService.setBackNavigation",{callbackMessage:{service:"sap.ushell.appRuntime.handleBackNavigation"}})},_getBackNavigationCallback:function(){return u},_resetBackNavigationCallback:function(){this.setBackNavigation()}});o._resetTitle=function(){c=undefined};e.getInstance().subscribe("sap.ushell","appClosed",o._resetTitle);s.register("sap.ushell.ui5service.ShellUIService",new i(o));return o});
//# sourceMappingURL=ShellUIService.js.map