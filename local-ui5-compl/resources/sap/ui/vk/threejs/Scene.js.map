{"version":3,"file":"Scene.js","names":["sap","ui","define","Log","SceneBase","NodeHierarchy","RenderMode","THREE","BufferGeometryUtils","ThreeExtensions","ThreeUtils","uid","Scene","extend","metadata","library","PoiCoordinateSpaces","WorldSpace","ReferenceNodeSpace","constructor","scene","call","this","_id","_scene","_sceneBuilder","_defaultNodeHierarchy","_currentViewStateManager","_animationSequenceMap","Map","_initialView","_materialMap","_annotationMap","prototype","init","_outlineColor","Vector4","_outlineMaterial","ShaderMaterial","uniforms","color","value","vertexShader","join","fragmentShader","depthWrite","depthFunc","LessEqualDepth","polygonOffset","polygonOffsetFactor","blending","NormalBlending","clipping","_solidWhiteMaterial","MeshBasicMaterial","clearThreeScene","all3DNodes","allGroupNodes","getAllTHREENodes","sceneUD","userData","geometryClusters","concat","currentClusters","clear","instanceDataTexture","dispose","currentInstanceIndex","disposedBufferGeometries","disposedMaterials","forEach","n3d","Mesh","has","geometry","uuid","disposeGeometry","set","material","disposeMaterial","originalMaterial","parent","remove","gn","destroy","setDoubleSided","setProperty","traverse","node","undefined","originalMaterialSide","FrontSide","materialUserData","side","DoubleSide","setViewStateManager","getViewStateManager","getId","getDefaultNodeHierarchy","_computeBoundingBox","visibleOnly","ignoreDynamicObjects","ignore2DObjects","dontUseClusters","boundingBox","Box3","clusters","length","clusterBox","iCluster","lCluster","union","_expandBoundingBox","getSceneRef","setSceneBuilder","sceneBuilder","getSceneBuilder","nodeRefToPersistentId","nodeRefs","Array","isArray","map","nodeRef","_vkPersistentId","persistentIdToNodeRef","pIDs","pID","getNode","setNodePersistentId","sid","sceneId","_addAnnotation","annotationId","annotationInfo","_hasAnnotation","_getAnnotations","_removeAnnotationsForNode","delete","annotation","id","setAnnotationPersistentId","get","getPointCloudGroups","_pointCloudGroups","enumerateMaterials","topNode","createNodeProxy","distEpsilon","compare","a","b","dx","x","dy","y","z","quickSort","array","beginIndex","endIndex","partitionIndex","partition","pivotValue","i","swap","j","temp","OutlineGeometry","thresholdAngle","_this","BufferGeometry","Object","setPrototypeOf","type","positionAttribute","isBufferGeometry","getAttribute","index","computeBoundingBox","size","Vector3","getSize","Math","max","vertexCount","count","indices","indexCount","ei","fi","vertices","fromArray","itemSize","uniqueVertices","changes","push","newIndices","c","edges","key","v","dir1","dir2","faceNormals","copy","sub","crossVectors","normalize","edge1","edge2","min","index1","index2","face1","face2","thresholdDot","cos","MathUtils","DEG2RAD","positions","normals1","normals2","e","dot","cross","vertex","normal1","normal2","setAttribute","Float32BufferAttribute","create","box3IsNull","box","prepareNodeGeometry","rg","renderGroup","clusterVertices","clusterIndices","getIndex","firstVertex","indexStart","start","Uint16Array","ii","BufferAttribute","subarray","lastVertex","setIndex","clone","l","createMergedGeometry","isMesh","skipIt","nodeGeometry","children","child","childGeometry","updateMatrix","applyMatrix4","matrix","mergeGeometries","setMeshMaterial","newMaterial","defaultMaterial","_vkUpdateMaterialColorAndOpacity","restoreMeshMaterial","_createOutlineGeometry","renderMode","_vkTraverseMeshNodes","isOutline","visible","hasOutline","mergedGeometry","outlineGeometry","line","LineSegments","renderOrder","matrixWorldNeedsUpdate","add","err","error","name","isLineBasicMaterial","isLineMaterial","LineIllustration","ShadedIllustration","emissive","multiplyScalar","addScalar","bind","_hideOutlineGeometry","getInitialView","setInitialView","view","getMaterial","materialId","setMaterial","clearUnusedMaterials","existingMaterials","Set","entries","getMaterialRef","_getNativeMaterial","_setNodeMaterial","_setSubmeshMaterial","initialMaterialId","initialMaterial","bindMarkerNodeTransformationToReferenceNode","referenceNodeId","markNodeId","unbindMarkerNodeTransformationFromReferenceNode","getReferenceNodeFromMarkerNodeId","updateMarkerCoordinateSpace","previousMarkerNodeId","newMarkerNodeId"],"sources":["Scene-dbg.js"],"mappings":";;;;;;AAQAA,IAAIC,GAAGC,OAAO,CACb,eACA,WACA,kBACA,gBACA,sBACA,oCACA,oBACA,eACA,qBACE,SACFC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,GAEA,aAgBA,IAAIC,EAAQR,EAAUS,OAAO,0BAA2E,CACvGC,SAAU,CACTC,QAAS,aAOVC,oBAAqB,CACpBC,WAAY,EACZC,mBAAoB,GAErBC,YAAa,SAASC,GACrBhB,EAAUiB,KAAKC,MAEfA,KAAKC,IAAMZ,IACXW,KAAKE,OAASJ,EACdE,KAAKG,cAAgB,KACrBH,KAAKI,sBAAwB,KAC7BJ,KAAKK,yBAA2B,KAChCL,KAAKM,sBAAwB,IAAIC,IACjCP,KAAKQ,aAAe,KACpBR,KAAKS,aAAe,IAAIF,IAsBxBP,KAAKU,eAAiB,IAAIH,GAC3B,IAGDjB,EAAMqB,UAAUC,KAAO,WAEtBZ,KAAKa,cAAgB,IAAI5B,EAAM6B,QAAQ,EAAG,EAAG,EAAG,GAChDd,KAAKe,iBAAmB,IAAI9B,EAAM+B,eAAe,CAChDC,SAAU,CACTC,MAAO,CACNC,MAAOnB,KAAKa,gBAIdO,aAAc,CACb,0BACA,0BACA,yCACA,sBACA,uBACA,gBACA,4BACA,8BACA,sCACA,wCACA,sCACA,sCACA,oBACA,0EACA,KACCC,KAAK,MAEPC,eAAgB,CACf,2CACA,uBACA,gBACA,wCACA,kCACA,2BACA,KACCD,KAAK,MAEPE,WAAY,MACZC,UAAWvC,EAAMwC,eACjBC,cAAe,KACfC,qBAAsB,EACtBC,SAAU3C,EAAM4C,eAChBC,SAAU,OAGX9B,KAAK+B,oBAAsB,IAAI9C,EAAM+C,kBAAkB,CACtDd,MAAO,UAET,EAEA5B,EAAMqB,UAAUsB,gBAAkB,WACjC,IAAKjC,KAAKE,OAAQ,CACjB,MACD,CAEA,IAAIgC,EAAa,GACjB,IAAIC,EAAgB,GAEpB/C,EAAWgD,iBAAiB,CAACpC,KAAKE,QAASgC,EAAYC,GACvD,IAAIE,EAAUrC,KAAKE,OAAOoC,SAC1B,GAAID,EAAQE,iBAAkB,CAC7BL,EAAaA,EAAWM,OAAOH,EAAQE,yBAChCF,EAAQE,gBAChB,CACA,GAAIF,EAAQI,gBAAiB,CAC5BJ,EAAQI,gBAAgBC,OACzB,CACAL,EAAQM,qBAAqBC,UAC7BP,EAAQM,oBAAsB,KAC9BN,EAAQQ,qBAAuB,EAE/B,IAAIC,EAA2B,IAAIvC,IACnC,IAAIwC,EAAoB,IAAIxC,IAE5B2B,EAAWc,QAAQ,SAASC,GAC3B,GAAIA,aAAehE,EAAMiE,KAAM,CAC9B,IAAKJ,EAAyBK,IAAIF,EAAIG,SAASC,MAAO,CACrDjE,EAAWkE,gBAAgBL,GAC3BH,EAAyBS,IAAIN,EAAIG,SAASC,KAAM,KACjD,CAEA,GAAIJ,EAAIO,SAAU,CACjB,IAAKT,EAAkBI,IAAIF,EAAIO,SAASH,MAAO,CAC9CjE,EAAWqE,gBAAgBR,EAAIO,UAC/BT,EAAkBQ,IAAIN,EAAIO,SAASH,KAAM,KAC1C,CACD,CAEA,GAAIJ,EAAIX,UACPW,EAAIX,SAASoB,kBACbT,EAAIX,SAASoB,iBAAiBL,OAASJ,EAAIO,SAASH,OACnDN,EAAkBI,IAAIF,EAAIX,SAASoB,iBAAiBL,MAAO,CAC5DjE,EAAWqE,gBAAgBR,EAAIX,SAASoB,kBACxCX,EAAkBQ,IAAIN,EAAIX,SAASoB,iBAAiBL,KAAM,KAC3D,CACD,CACA,GAAIJ,EAAIU,OAAQ,CAEfV,EAAIU,OAAOC,OAAOX,EACnB,CACD,GAEAd,EAAca,QAAQ,SAASa,GAC9BA,EAAGF,OAAOC,OAAOC,EAClB,GAEAf,EAAyBJ,QACzBK,EAAkBL,OACnB,EAEApD,EAAMqB,UAAUmD,QAAU,WACzB9D,KAAKiC,kBAKL,GAAIjC,KAAKI,sBAAuB,CAC/BJ,KAAKI,sBAAsB0D,UAC3B9D,KAAKI,sBAAwB,IAC9B,CAEAhB,EAAWqE,gBAAgBzD,KAAK+B,qBAChC3C,EAAWqE,gBAAgBzD,KAAKe,kBAEhCf,KAAKG,cAAgB,KACrBH,KAAKE,OAAS,KACdF,KAAKK,yBAA2B,KAEhCL,KAAKM,sBAAsBoC,QAC3B1C,KAAKS,aAAaiC,QAElB5D,EAAU6B,UAAUmD,QAAQ/D,KAAKC,KAClC,EAEAV,EAAMqB,UAAUoD,eAAiB,SAAS5C,GACzCnB,KAAKgE,YAAY,cAAe7C,EAAO,MAEvCnB,KAAKE,OAAO+D,SAAS,SAASC,GAC7B,GAAIA,EAAKV,WAAaW,UAAW,CAChC,IAAI7B,EAAW4B,EAAK5B,SACpB,IAAI8B,EAAuBnF,EAAMoF,UACjC,IAAIC,EACJ,GAAIhC,EAASoB,iBAAkB,CAC9BY,EAAmBhC,EAASoB,iBAAiBpB,SAC7C,GAAIgC,EAAiBF,uBAAyBD,UAAW,CACxDG,EAAiBF,qBAAuB9B,EAASoB,iBAAiBa,IACnE,CACAH,EAAuBE,EAAiBF,oBACzC,KAAO,CACNE,EAAmBJ,EAAKV,SAASlB,SACjC,GAAIgC,EAAiBF,uBAAyBD,UAAW,CACxDG,EAAiBF,qBAAuBF,EAAKV,SAASe,IACvD,CACAH,EAAuBE,EAAiBF,oBACzC,CACAF,EAAKV,SAASe,KAAOpD,EAAQlC,EAAMuF,WAAaJ,CACjD,CACD,GAEA,OAAOpE,IACR,EAEAV,EAAMqB,UAAU8D,oBAAsB,SAAStD,GAC9CnB,KAAKK,yBAA2Bc,EAChC,OAAOnB,IACR,EAEAV,EAAMqB,UAAU+D,oBAAsB,WACrC,OAAO1E,KAAKK,wBACb,EAOAf,EAAMqB,UAAUgE,MAAQ,WACvB,OAAO3E,KAAKC,GACb,EAOAX,EAAMqB,UAAUiE,wBAA0B,WACzC,IAAK5E,KAAKI,sBAAuB,CAChCJ,KAAKI,sBAAwB,IAAIrB,EAAciB,KAChD,CACA,OAAOA,KAAKI,qBACb,EAEAd,EAAMqB,UAAUkE,oBAAsB,SAASC,EAAaC,EAAsBC,EAAiBC,GAClG,IAAIC,EAAc,IAAIjG,EAAMkG,KAC5B,GAAInF,KAAKE,OAAQ,CAChB,IAAImC,EAAUrC,KAAKE,OAAOoC,SAC1B,IAAI8C,EAAW/C,EAAQE,iBACvB,GAAIuC,GAAeM,GAAYA,EAASC,OAAS,MAAQJ,EAAiB,CAIzE,IAAIK,EACJ,IAAK,IAAIC,EAAW,EAAGC,EAAWJ,EAASC,OAAQE,EAAWC,IAAYD,EAAU,CACnFD,EAAaF,EAASG,GAAUnC,SAAS8B,YACzC,GAAII,EAAY,CACfJ,EAAYO,MAAMH,EACnB,CACD,CACD,KAAO,CACNtF,KAAKE,OAAOwF,mBAAmBR,EAAaJ,EAAaC,EAAsBC,EAChF,CACD,CACA,OAAOE,CACR,EAOA5F,EAAMqB,UAAUgF,YAAc,WAC7B,OAAO3F,KAAKE,MACb,EAEAZ,EAAMqB,UAAUiF,gBAAkB,SAASC,GAC1C7F,KAAKG,cAAgB0F,CACtB,EAEAvG,EAAMqB,UAAUmF,gBAAkB,WACjC,OAAO9F,KAAKG,aACb,EASAb,EAAMqB,UAAUoF,sBAAwB,SAASC,GAChD,OAAOC,MAAMC,QAAQF,GACpBA,EAASG,IAAI,SAASC,GAAW,OAAOA,EAAQC,iBAAmB,GACnEL,EAASK,iBACX,EASA/G,EAAMqB,UAAU2F,sBAAwB,SAASC,GAChD,IAAIV,EAAe7F,KAAKG,cAExB,GAAI8F,MAAMC,QAAQK,GAAO,CACxB,OAAOA,EAAKJ,IAAI,SAASK,GAAO,OAAOX,EAAeA,EAAaY,QAAQD,GAAO,IAAM,EACzF,KAAO,CACN,OAAOX,EAAeA,EAAaY,QAAQF,GAAQ,IACpD,CACD,EAWAjH,EAAMqB,UAAU+F,oBAAsB,SAASN,EAASO,EAAKC,GAC5D,OAAO5G,KAAKG,cAAgBH,KAAKG,cAAcuG,oBAAoBN,EAASO,EAAKC,GAAW,KAC7F,EAEAtH,EAAMqB,UAAUkG,eAAiB,SAASC,EAAcC,GACvD/G,KAAKU,eAAe6C,IAAIuD,EAAcC,EACvC,EAEAzH,EAAMqB,UAAUqG,eAAiB,SAASF,GACzC,OAAO9G,KAAKU,eAAeyC,IAAI2D,EAChC,EAEAxH,EAAMqB,UAAUsG,gBAAkB,WACjC,OAAOjH,KAAKU,cACb,EAEApB,EAAMqB,UAAUuG,0BAA4B,SAASd,GACpDpG,KAAKU,eAAesC,QAAQ,SAAS+D,GACpC,GAAIA,EAAe7C,OAASkC,EAAS,CACpCpG,KAAKU,eAAeyG,OAAOJ,EAAeK,WAAWC,GACtD,CACD,EAAGrH,KACJ,EAWAV,EAAMqB,UAAU2G,0BAA4B,SAASF,EAAYT,EAAKC,GACrE,IAAIG,EAAiB/G,KAAKU,eAAe6G,IAAIH,EAAWC,IACxD,GAAIN,EAAgB,CACnB/G,KAAKU,eAAeyG,OAAOC,EAAWC,IACtCN,EAAeK,WAAWC,GAAKV,EAC/B3G,KAAKU,eAAe6C,IAAIoD,EAAKI,GAC7B,OAAO,IACR,CACA,OAAO,KACR,EAQAzH,EAAMqB,UAAU6G,oBAAsB,WACrCxH,KAAKyH,oBAAsB,IAAIlH,IAC/B,OAAOP,KAAKyH,iBACb,EAQAnI,EAAMqB,UAAU+G,mBAAqB,WACpC,IAAK1H,KAAKI,sBAAuB,CAChC,MAAO,EACR,CAEA,IAAIuH,EAAU3H,KAAKI,sBAAsBwH,gBAAgB5H,KAAKE,QAC9D,GAAIyH,EAAS,CACZ,OAAOA,EAAQD,mBAAmB,KACnC,KAAO,CACN,MAAO,EACR,CACD,EAEA,IAAIG,EAAc,EAElB,SAASC,EAAQC,EAAGC,GACnB,IAAIC,EAAKF,EAAEG,EAAIF,EAAEE,EACjB,GAAID,GAAMJ,EAAa,CACtB,OAAO,IACR,CACA,GAAII,EAAKJ,EAAa,CACrB,OAAO,KACR,CAEA,IAAIM,EAAKJ,EAAEK,EAAIJ,EAAEI,EACjB,GAAID,GAAMN,EAAa,CACtB,OAAO,IACR,CACA,GAAIM,EAAKN,EAAa,CACrB,OAAO,KACR,CAEA,OAAOE,EAAEM,EAAIL,EAAEK,GAAKR,CACrB,CAEA,SAASS,EAAUC,EAAOC,EAAYC,GACrC,GAAID,EAAaC,EAAU,CAC1B,IAAIC,EAAiBC,EAAUJ,EAAOC,EAAYC,GAClDH,EAAUC,EAAOC,EAAYE,EAAiB,GAC9CJ,EAAUC,EAAOG,EAAiB,EAAGD,EACtC,CACA,OAAOF,CACR,CAEA,SAASI,EAAUJ,EAAOC,EAAYC,GACrC,IAAIG,EAAaL,EAAME,GACtBC,EAAiBF,EAElB,IAAK,IAAIK,EAAIL,EAAYK,EAAIJ,EAAUI,IAAK,CAC3C,GAAIf,EAAQS,EAAMM,GAAID,GAAa,CAClCE,EAAKP,EAAOM,EAAGH,GACfA,GACD,CACD,CACAI,EAAKP,EAAOE,EAAUC,GACtB,OAAOA,CACR,CAEA,SAASI,EAAKP,EAAOM,EAAGE,GACvB,GAAIF,GAAKE,EAAG,CACX,IAAIC,EAAOT,EAAMM,GACjBN,EAAMM,GAAKN,EAAMQ,GACjBR,EAAMQ,GAAKC,CACZ,CACD,CAEA,SAASC,EAAgB7F,EAAU8F,GAClC,IAAIC,EAAQ,IAAIlK,EAAMmK,eAEtBC,OAAOC,eAAeH,EAAOF,EAAgBtI,WAE7CwI,EAAMI,KAAO,kBAEb,IAAIC,EAAoBpG,GAAYA,EAASqG,kBAAoBrG,EAASsG,aAAa,YACvF,IAAKF,IAAsBpG,EAASuG,MAAO,CAC1C,MACD,CAEAvG,EAASwG,qBACT,IAAIC,EAAO,IAAI5K,EAAM6K,QACrB1G,EAAS8B,YAAY6E,QAAQF,GAC7BhC,EAAcmC,KAAKC,IAAIJ,EAAK3B,EAAG2B,EAAKzB,EAAGyB,EAAKxB,GAAK,KAEjD,IAAI6B,EAAcV,EAAkBW,MACpC,IAAIC,EAAUhH,EAASuG,MAAMpB,MAC7B,IAAI8B,EAAaD,EAAQ/E,OACzB,GAAI6E,IAAgB,GAAKG,EAAa,EAAG,CACxC,MACD,CAEA,IAAIxB,EAAGE,EAAGuB,EAAIC,EACd,IAAIC,EAAW,IAAIvE,MAAMiE,GACzB,IAAKrB,EAAI,EAAGA,EAAIqB,EAAarB,IAAK,CACjC2B,EAAS3B,IAAK,IAAI5J,EAAM6K,SAAUW,UAAUjB,EAAkBjB,MAAOM,EAAIW,EAAkBkB,UAC3FF,EAAS3B,GAAGc,MAAQd,CACrB,CAEAP,EAAUkC,EAAU,EAAGA,EAASnF,OAAS,GAEzC,IAAIsF,EAAiB,GAAIC,EAAU,GACnCD,EAAeE,KAAKL,EAAS,IAC7BI,EAAQJ,EAAS,GAAGb,OAASgB,EAAetF,OAAS,EACrD,IAAKwD,EAAI,EAAGA,EAAIqB,EAAarB,IAAK,CACjC,GAAIf,EAAQ6C,EAAeA,EAAetF,OAAS,GAAImF,EAAS3B,IAAK,CACpE8B,EAAeE,KAAKL,EAAS3B,GAC9B,CACA+B,EAAQJ,EAAS3B,GAAGc,OAASgB,EAAetF,OAAS,CACtD,CAEA,IAAIyF,EAAa,GACjB,IAAKR,EAAK,EAAGA,EAAKD,EAAYC,GAAM,EAAG,CACtC,IAAIvC,EAAI6C,EAAQR,EAAQE,IACxB,IAAItC,EAAI4C,EAAQR,EAAQE,EAAK,IAC7B,IAAIS,EAAIH,EAAQR,EAAQE,EAAK,IAE7B,GAAIvC,IAAMC,GAAKA,IAAM+C,GAAKA,IAAMhD,EAAG,CAClC+C,EAAWD,KAAK9C,EAAGC,EAAG+C,EACvB,CACD,CAEAX,EAAUU,EACVN,EAAWG,EACXN,EAAaD,EAAQ/E,OAGrB,IAAI2F,EAAQ,CAAC,EAAGC,EAChB,IAAIC,EAAI,IAAIjM,EAAM6K,QAAWqB,EAAO,IAAIlM,EAAM6K,QAAWsB,EAAO,IAAInM,EAAM6K,QAC1E,IAAIuB,EAAc,IAAIpF,MAAMoE,EAAa,GAGzC,IAAKC,EAAK,EAAGC,EAAK,EAAGD,EAAKD,EAAYC,GAAM,EAAGC,IAAM,CACpDY,EAAKG,KAAKd,EAASJ,EAAQE,EAAK,KAAKiB,IAAIf,EAASJ,EAAQE,KAC1Dc,EAAKE,KAAKd,EAASJ,EAAQE,EAAK,KAAKiB,IAAIf,EAASJ,EAAQE,KAC1De,EAAYd,IAAM,IAAItL,EAAM6K,SAAU0B,aAAaL,EAAMC,GAAMK,YAE/D,IAAK5C,EAAI,EAAGE,EAAI,EAAGF,EAAI,EAAGE,EAAIF,IAAK,CAClC,IAAI6C,EAAQtB,EAAQE,EAAKvB,GACzB,IAAI4C,EAAQvB,EAAQE,EAAKzB,GACzBoC,EAAMjB,KAAK4B,IAAIF,EAAOC,GAAS,IAAM3B,KAAKC,IAAIyB,EAAOC,GAErD,GAAIX,EAAMC,KAAS9G,UAAW,CAC7B6G,EAAMC,GAAO,CACZY,OAAQH,EACRI,OAAQH,EACRI,MAAOxB,EACPyB,MAAO7H,UAET,KAAO,CACN6G,EAAMC,GAAKe,MAAQzB,CACpB,CACD,CACD,CAGA,IAAI0B,EAAejC,KAAKkC,IAAIjN,EAAMkN,UAAUC,SAAYlD,IAAmB/E,UAAa+E,EAAiB,IACzG,IAAImD,EAAY,GAChB,IAAIC,EAAW,GACf,IAAIC,EAAW,GACf,IAAKtB,KAAOD,EAAO,CAClB,IAAIwB,EAAIxB,EAAMC,GAGd,GAAIuB,EAAER,QAAU7H,WAAckH,EAAYmB,EAAET,OAAOU,IAAIpB,EAAYmB,EAAER,SAAWC,GAC/Ef,EAAEI,KAAKd,EAASgC,EAAEV,SAASP,IAAIf,EAASgC,EAAEX,SAASa,MAAMrB,EAAYmB,EAAET,QAAQU,IAAIpB,EAAYmB,EAAER,QAAU,EAAI,CAE/G,IAAIW,EAASnC,EAASgC,EAAEX,QACxBQ,EAAUxB,KAAK8B,EAAOzE,EAAGyE,EAAOvE,EAAGuE,EAAOtE,GAE1CsE,EAASnC,EAASgC,EAAEV,QACpBO,EAAUxB,KAAK8B,EAAOzE,EAAGyE,EAAOvE,EAAGuE,EAAOtE,GAE1C,IAAIuE,EAAUvB,EAAYmB,EAAET,OAC5BO,EAASzB,KAAK+B,EAAQ1E,EAAG0E,EAAQxE,EAAGwE,EAAQvE,GAC5CiE,EAASzB,KAAK+B,EAAQ1E,EAAG0E,EAAQxE,EAAGwE,EAAQvE,GAE5C,GAAImE,EAAER,QAAU7H,UAAW,CAC1B,IAAI0I,EAAUxB,EAAYmB,EAAER,OAC5BO,EAAS1B,KAAKgC,EAAQ3E,EAAG2E,EAAQzE,EAAGyE,EAAQxE,GAC5CkE,EAAS1B,KAAKgC,EAAQ3E,EAAG2E,EAAQzE,EAAGyE,EAAQxE,EAC7C,KAAO,CACNkE,EAAS1B,KAAK,EAAG,EAAG,GACpB0B,EAAS1B,KAAK,EAAG,EAAG,EACrB,CACD,CACD,CAGA1B,EAAM2D,aAAa,WAAY,IAAI7N,EAAM8N,uBAAuBV,EAAW,IAC3ElD,EAAM2D,aAAa,UAAW,IAAI7N,EAAM8N,uBAAuBT,EAAU,IACzEnD,EAAM2D,aAAa,UAAW,IAAI7N,EAAM8N,uBAAuBR,EAAU,IAEzE,OAAOpD,CACR,CAEAF,EAAgBtI,UAAY0I,OAAO2D,OAAO/N,EAAMmK,eAAezI,WAC/DsI,EAAgBtI,UAAUd,YAAcoJ,EAExC,SAASgE,EAAWC,GAEnB,OAAQA,IAAQ,MAAUA,EAAItB,IAAI1D,GAAKgF,EAAIjD,IAAI/B,GAAKgF,EAAItB,IAAIxD,GAAK8E,EAAIjD,IAAI7B,GAAK8E,EAAItB,IAAIvD,GAAK6E,EAAIjD,IAAI5B,CACpG,CAEA,SAAS8E,EAAoBjJ,GAC5B,IAAId,EAAWc,GAAQA,EAAKd,SAC5B,IAAIoG,EAAoBpG,GAAYA,EAASqG,kBAAoBrG,EAASsG,aAAa,YACvF,IAAKF,EAAmB,CACvB,OAAO,IACR,CAEA,IAAI4D,EAAKlJ,EAAK5B,SAAS+K,YACvB,GAAID,EAAI,CAGP,IAAIE,EAAkBlK,EAASsG,aAAa,YAAYnB,MACxD,IAAIgF,EAAiBnK,EAASoK,WAAWjF,MACzC,IAAIkF,EAAcL,EAAGK,YACrB,IAAIC,EAAaN,EAAGO,MACpB,IAAItD,EAAa+C,EAAGjD,MAEpB,IAAIC,EAAU,IAAIwD,YAAYvD,GAC9B,IAAK,IAAIwD,EAAK,EAAGA,EAAKxD,IAAcwD,EAAI,CACvCzD,EAAQyD,GAAMN,EAAeG,EAAaG,GAAMJ,CACjD,CAEArK,EAAW,IAAInE,EAAMmK,eACrBhG,EAAS0J,aAAa,WAAY,IAAI7N,EAAM6O,gBAAgBR,EAAgBS,SAASN,EAAc,EAAGL,EAAGY,WAAa,GAAI,IAC1H5K,EAAS6K,SAAS,IAAIhP,EAAM6O,gBAAgB1D,EAAS,GACtD,KAAO,CACNhH,EAAWA,EAAS8K,OACrB,CAEA,IAAK9K,EAASuG,MAAO,CACpB,IAAIA,EAAQ,GACZ,IAAK,IAAId,EAAI,EAAGsF,EAAI3E,EAAkBW,MAAOtB,EAAIsF,EAAGtF,IAAK,CACxDc,EAAMkB,KAAKhC,EACZ,CACAzF,EAAS6K,SAAStE,EACnB,CAEA,OAAOvG,CACR,CAEA,SAASgL,EAAqBlK,GAC7B,IAAId,EAAW,KACf,GAAIc,EAAKmK,SAAWpB,EAAW/I,EAAKd,SAAS8B,eAAiBhB,EAAK5B,SAASgM,OAAQ,CACnF,IAAIC,EAAepB,EAAoBjJ,GACvC,GAAIqK,EAAc,CACjBnL,EAAWmL,CACZ,CACD,CAEA,IAAK,IAAI1F,EAAI,EAAGsF,EAAIjK,EAAKsK,SAASnJ,OAAQwD,EAAIsF,EAAGtF,IAAK,CACrD,IAAI4F,EAAQvK,EAAKsK,SAAS3F,GAC1B,GAAI4F,EAAMJ,SAAWpB,EAAWwB,EAAMrL,SAAS8B,cAAgBuJ,EAAMnM,SAASgM,OAAQ,CACrF,IAAII,EAAgBvB,EAAoBsB,GACxC,GAAIC,EAAe,CAClBD,EAAME,eACND,EAAcE,aAAaH,EAAMI,QACjCzL,EAAWA,EAAWlE,EAAoB4P,gBAAgB,CAAC1L,EAAUsL,IAAkBA,CACxF,CACD,CACD,CAEA,OAAOtL,CACR,CAEA,SAAS2L,EAAgB7K,EAAM8K,GAC9B,IAAI1M,EAAW4B,EAAK5B,SACpB,GAAIA,EAAS2M,kBAAoB9K,UAAW,CAC3C7B,EAAS2M,gBAAkB3M,EAASoB,kBAAoBQ,EAAKV,QAC9D,CACAU,EAAKV,SAAWwL,EAGhB1M,EAASoB,iBAAmB,KAC5BQ,EAAKgL,kCACN,CAEA,SAASC,EAAoBjL,GAC5B,IAAI5B,EAAW4B,EAAK5B,SACpB,GAAIA,EAAS2M,gBAAiB,CAC7B/K,EAAKV,SAAWlB,EAAS2M,uBAClB3M,EAAS2M,gBAGhB3M,EAASoB,iBAAmB,KAC5BQ,EAAKgL,kCACN,CACD,CAEA5P,EAAMqB,UAAUyO,uBAAyB,SAASC,GACjD,GAAIrP,KAAKE,OAAQ,CAQhBF,KAAKE,OAAOoP,qBAAqB,SAASpL,GACzC,GAAIA,EAAKqL,UAAW,CACnBrL,EAAKsL,QAAU,IAChB,KAAO,CAMN,IAAKtL,EAAKuL,WAAY,CACrB,IACC,IAAIC,EAAiBtB,EAAqBlK,GAC1C,GAAIwL,IAAmB,KAAM,CAC5BxL,EAAKuL,WAAa,KAClB,IAAIE,EAAkB,IAAI1G,EAAgByG,GAC1C,IAAIlG,EAAoBmG,EAAgBjG,aAAa,YACrD,GAAIF,GAAqBA,EAAkBW,MAAQ,EAAG,CACrDwF,EAAgBzK,YAAc,IAAIjG,EAAMkG,KACxC,IAAIyK,EAAO,IAAI3Q,EAAM4Q,aAAaF,EAAiB3P,KAAKe,kBACxD6O,EAAKL,UAAY,KACjBK,EAAKE,YAAc5L,EAAK4L,YAAc,GACtCF,EAAKG,uBAAyB,KAC9B7L,EAAK8L,IAAIJ,EACV,CACD,CACD,CAAE,MAAOK,GACRpR,EAAIqR,MAAM,8CAAgDhM,EAAKiM,KAAMF,EACtE,CACD,CACA,GAAI/L,EAAKmK,QAAUnK,EAAKV,WAAaU,EAAKV,SAAS4M,sBAAwBlM,EAAKV,SAAS6M,eAAgB,CACxG,OAAQhB,GACP,KAAKrQ,EAAWsR,iBACfvB,EAAgB7K,EAAMlE,KAAK+B,qBAC3B,MACD,KAAK/C,EAAWuR,mBAEf,IAAI/M,GAAYU,EAAK5B,SAAS2M,iBAAmB/K,EAAK5B,SAASoB,kBAAoBQ,EAAKV,UAAU0K,QAClG,GAAI1K,EAASgN,SAAU,CACtBhN,EAAStC,MAAMuP,eAAe,IAC9BjN,EAASgN,SAASC,eAAe,IAAKC,UAAU,GACjD,KAAO,CACNlN,EAAStC,MAAMuP,eAAe,IAAKC,UAAU,GAC9C,CACA3B,EAAgB7K,EAAMV,GACtB,MACD,QACC2L,EAAoBjL,GACpB,MAEH,CACD,CACD,EAAEyM,KAAK3Q,MACR,CACD,EAEAV,EAAMqB,UAAUiQ,qBAAuB,WACtC,GAAI5Q,KAAKE,OAAQ,CAChBF,KAAKE,OAAOoP,qBAAqB,SAASpL,GACzC,GAAIA,EAAKqL,UAAW,CACnBrL,EAAKsL,QAAU,KAChB,CAEA,GAAItL,EAAKmK,OAAQ,CAChBc,EAAoBjL,EACrB,CACD,EACD,CACD,EAQA5E,EAAMqB,UAAUkQ,eAAiB,WAChC,OAAO7Q,KAAKQ,YACb,EASAlB,EAAMqB,UAAUmQ,eAAiB,SAASC,GACzC/Q,KAAKQ,aAAeuQ,CACrB,EAWAzR,EAAMqB,UAAUqQ,YAAc,SAASC,GACtC,OAAOjR,KAAKS,aAAa8G,IAAI0J,EAC9B,EAUA3R,EAAMqB,UAAUuQ,YAAc,SAASD,EAAYzN,GAClDxD,KAAKS,aAAa8C,IAAI0N,EAAYzN,EACnC,EAOAlE,EAAMqB,UAAUwQ,qBAAuB,WACtC,MAAMC,EAAoB,IAAIC,IAC9BrR,KAAKE,QAAQ+D,SAAUC,IACtB,GAAIA,EAAKV,SAAU,CAClB4N,EAAkBpB,IAAI9L,EAAKV,UAC3B,GAAIU,EAAK5B,SAASoB,iBAAkB,CACnC0N,EAAkBpB,IAAI9L,EAAK5B,SAASoB,iBACrC,CACD,IAGD,MAAM4N,EAAU,GAChBtR,KAAKS,aAAauC,QAAQ,SAAS7B,EAAO8J,GACzC,GAAImG,EAAkBjO,IAAIhC,EAAMoQ,kBAAmB,CAClDD,EAAQzG,KAAK,CAACI,EAAK9J,GACpB,KAAO,CACNA,EAAM2C,SACP,CACD,GACA9D,KAAKS,aAAe,IAAIF,IAAI+Q,EAC7B,EAEAhS,EAAMqB,UAAU6Q,mBAAqB,SAASP,GAC7C,IAAIzN,EAAWyN,EAAajR,KAAKS,aAAa8G,IAAI0J,GAAc,KAChE,OAAOzN,EAAWA,EAAS+N,iBAAmB,IAC/C,EAEAjS,EAAMqB,UAAU8Q,iBAAmB,SAASvN,EAAM+M,GACjD,IAAIzN,EAAWxD,KAAKwR,mBAAmBP,GACvC/M,EAAKsK,SAASxL,QAAQ,SAASyL,GAC9B,GAAIA,EAAMjL,SAAU,CACnB,GAAIA,EAAU,CACb,GAAIiL,EAAMnM,SAAS2O,aAAeA,EAAY,CAC7CjR,KAAKG,cAAcuR,oBAAoBjD,EAAOjL,EAAUyN,EACzD,CACD,KAAO,CACN,IAAIU,EAAoBlD,EAAMnM,SAASqP,kBACvC,GAAIA,GAAqBlD,EAAMnM,SAAS2O,aAAeU,EAAmB,CACzE,IAAIC,EAAkB5R,KAAKwR,mBAAmBG,GAC9C,GAAIC,EAAiB,CACpB5R,KAAKG,cAAcuR,oBAAoBjD,EAAOmD,EAAiBD,EAChE,CACD,CACD,CACD,CACD,EAAEhB,KAAK3Q,MACR,EASAV,EAAMqB,UAAUkR,4CAA8C,SAASC,EAAiBC,GACvF,GAAI/R,KAAKG,cAAe,CACvBH,KAAKG,cAAc0R,4CAA4CC,EAAiBC,EAAY/R,KAAKN,oBAAoBE,mBACtH,CACD,EASAN,EAAMqB,UAAUqR,gDAAkD,SAASF,EAAiBC,GAC3F,GAAI/R,KAAKG,cAAe,CACvBH,KAAKG,cAAc6R,gDAAgDF,EAAiBC,EACrF,CACD,EASAzS,EAAMqB,UAAUsR,iCAAmC,SAASF,GAC3D,GAAI/R,KAAKG,cAAe,CACvB,OAAOH,KAAKG,cAAc8R,iCAAiCF,EAC5D,CACA,OAAO,IACR,EAEAzS,EAAMqB,UAAUuR,4BAA8B,SAASC,EAAsBL,EAAiBM,GAC7F,IAAKD,IAAyBL,IAAoBM,EAAiB,CAClE,MACD,CACA,GAAIpS,KAAKG,cAAe,CACvBH,KAAKG,cAAc+R,4BAA4BC,EAAsBL,EAAiBM,EACvF,CACD,EAEA,OAAO9S,CACR","ignoreList":[]}