{"version":3,"file":"CrossSectionToolGizmo.js","names":["sap","ui","define","getResourceBundle","THREE","Gizmo","AxisColours","ThreeUtils","assert","CrossSectionToolGizmo","extend","metadata","library","prototype","init","apply","this","_createEditingForm","getText","_handleIndex","_viewport","_tool","_position","Vector3","_plane","Plane","_flip","_matViewProj","Matrix4","_gizmoSize","_firstShowPress","setAxis","hasDomElement","show","viewport","tool","bbox","_scene","_computeBoundingBox","Box3","getCenter","constant","normal","dot","setClippingPlanes","hide","_updateEditingForm","_getOffset","getComponent","_axis","getAxis","i","dir","setComponent","set","geometry","BufferGeometry","vertices","Array","dirX","y","z","x","dirY","p","sub","multiplyScalar","toArray","add","setAttribute","Float32BufferAttribute","_gizmoPlane","Line","LineBasicMaterial","color","transparent","linewidth","window","devicePixelRatio","arrowLength","lineRadius","coneHeight","coneRadius","touchRadius","clone","lineGeometry","CylinderGeometry","m","makeBasis","setPosition","applyMatrix4","_gizmoArrow","Mesh","MeshBasicMaterial","userData","coneGeometry","cone","matrixAutoUpdate","touchGeometry","_touchMesh","visible","side","DoubleSide","setShouldRenderFrame","setFlip","flip","handleIndex","getTouchObject","size","_getDelta","getSize","Math","max","_setOffset","offset","MathUtils","clamp","min","getValue","setValue","value","highlightArrowHandle","highlight","material","setHex","children","selectHandle","index","_adjustBoundingBox","boundingBox","delta","expandByScalar","_updateGizmo","position","scale","updateMatrixWorld","camera","getCamera","getCameraRef","copy","multiplyMatrices","projectionMatrix","matrixWorldInverse","setScalar","_getGizmoScale","expandBoundingBox","sceneBoundingBox","expandByPoint","multiply","_getEditingFormPosition","matrixWorld","render","getMetadata","getName","renderer","getRenderer","clearDepth","_gizmo","exit","disposeObject","call"],"sources":["CrossSectionToolGizmo-dbg.js"],"mappings":"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","ignoreList":[]}