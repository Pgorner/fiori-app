{"version":3,"file":"AppVariantUtils.js","names":["sap","ui","define","FlexUtils","MessageBox","RtaUtils","BusyIndicator","EventBus","Lib","uid","Log","PersistenceWriteAPI","AppVariantWriteAPI","ChangesWriteAPI","LrepConnector","AppVariantUtils","HANA_CLOUD_ID_LENGTH","_newAppVariantId","getManifirstSupport","sRunningAppId","appVariant","appId","getNewAppVariantId","setNewAppVariantId","sNewAppVariantID","trimIdIfRequired","sId","length","aIdStrings","split","sTrimmedId","sGuidLength","sGuidString","pop","join","substring","substr","this","getId","sBaseAppID","sChangedId","bRegFound","regex","forEach","sString","index","array","match","replace","createAppVariant","vSelector","mPropertyBag","version","saveAs","selector","getInlineChangeInput","sValue","sComment","type","maxLength","comment","value","prepareTextsChange","sPropertyName","sPropertyValue","getInlineChangeInputIcon","sIconValue","content","icon","prepareRemoveAllInboundsExceptOneChange","sInboundValue","inboundId","getInboundInfo","oInbounds","oInboundInfo","currentRunningInbound","addNewInboundRequired","Promise","resolve","getUShellService","then","oURLParsingService","getParsedURLHash","oParsedHash","aInbounds","Object","keys","aInboundsFound","sInboundId","action","semanticObject","push","getInboundPropertiesKey","sAppVariantId","sCurrentRunningInboundId","getInlineChangeForInboundPropertySaveAs","entityPropertyChange","propertyPath","operation","propertyValue","required","filter","format","launcherValue","prepareAddNewInboundChange","oAppVariantSpecificData","oProperty","inbound","texts","sInboundTitleKey","referenceAppId","sInboundSubTitleKey","title","subTitle","signature","parameters","additionalParameters","bind","prepareChangeInboundChange","createInlineChange","oPropertyChange","sInlineChangeType","oChangeSpecificData","changeType","create","changeSpecificData","addChangesToPersistence","aAllInlineChanges","add","flexObjects","getTransportInput","sPackageName","sNameSpace","sName","sType","getPackage","getNamespace","getDefinition","fileType","triggerCatalogAssignment","sLayer","sReferenceAppId","assignCatalogs","assignFromAppId","layer","triggerCatalogUnAssignment","unassignCatalogs","isS4HanaCloud","oSettings","isAtoEnabled","isAtoAvailable","copyId","textArea","document","createElement","body","appendChild","select","execCommand","removeChild","getTextResources","getResourceBundleFor","getText","sMessageKey","sText","oTextResources","_getErrorMessageText","oError","sErrorMessage","messages","map","text","userMessage","iamAppId","stack","message","status","buildWarningInfo","sMessage","appVariantId","warning","buildErrorInfo","error","buildSuccessInfo","bSaveAsTriggeredFromRtaToolbar","bIsS4HanaCloud","sSystemTag","sOverviewList","undefined","buildFinalSuccessInfoS4HANACloud","buildDeleteSuccessMessage","sMessageTitle","showRelevantDialog","oInfo","bSuccessful","hide","sTitle","sRightButtonText","sOKButtonText","sCopyIdButtonText","aActions","deleteAppVariant","reject","fnCallback","sAction","overviewDialog","oIcon","Icon","NONE","INFORMATION","WARNING","ERROR","show","onClose","actions","styleClass","getRtaStyleClassName","closeOverviewDialog","getInstance","publish","navigateToFLPHomepage","oUshellContainer","getUshellContainer","oComponentInstance","getServiceAsync","oAppConfiguration","oApplication","getCurrentApplication","componentInstance","oCrossAppNav","navigate","target","shellHash","catch","vError","Error","handleBeforeUnloadEvent","showMessage","catchErrorDialog","sIAMId","oErrorInfo"],"sources":["AppVariantUtils-dbg.js"],"mappings":"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","ignoreList":[]}