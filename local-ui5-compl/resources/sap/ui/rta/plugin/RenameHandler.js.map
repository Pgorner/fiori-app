{"version":3,"file":"RenameHandler.js","names":["sap","ui","define","jQuery","Device","Element","EventBus","Plugin","validateText","Overlay","ElementUtil","OverlayRegistry","Utils","DOMUtil","KeyCodes","OverlayUtil","sEmptyTextKey","RenameHandler","errorStyleClass","_manageClickEvent","vEventOrElement","oOverlay","getSource","oResponsibleElementOverlay","this","getResponsibleElementOverlay","_isEditableByPlugin","undefined","evaluateEditable","onRegistration","isSelected","isRenameAvailable","isRenameEnabled","attachBrowserEvent","_onClick","_setEditableFieldPosition","_oEditableField","offset","left","getOffset","_oEditableControlDomRef","top","_oEditedOverlay","setSelected","focus","startEdit","mPropertyBag","getBusy","setBusy","overlay","_bPreviouslyMovable","getMovable","setMovable","setFirstParentMovable","oElement","getElement","oDesignTimeMetadata","getDesignTimeMetadata","oEditableControlDomRef","getAssociatedDomRef","domRef","isElementInViewport","scrollIntoView","mMutators","getTextMutators","getText","textContent","bind","setText","sNewText","_fnGetControlText","_fnSetControlText","iWidthDifference","oOverlayForWrapper","getOverlay","id","_oControlForWrapperDomRef","getDomRef","_oEditableControlParentDomRef","parentNode","iControlForWrapperWidth","parseInt","offsetWidth","isNaN","iEditableControlWidth","iEditableControlParentWidth","aCHildren","Array","from","children","aVisibleChildren","filter","oNode","isVisible","length","_oWrapperDomRef","document","createElement","classList","add","style","whiteSpace","overflow","width","append","_oEditableFieldDomRef","setAttribute","sCurrentText","setOldValue","_getCurrentEditableFieldText","call","copyComputedStyle","lastElementChild","removeChild","visibility","userSelect","textOverflow","browser","name","getMetadata","getName","lineHeight","getMutationObserver","ignoreOnce","target","_FocusHandler","_onEditableFieldFocus","_oBlurHandler","_onEditableFieldBlur","_oKeyDownHandler","_onEditableFieldKeydown","_oStopPropagationHandler","_stopPropagation","addEventListener","once","apply","_aOverlaysWithScrollbar","findParentOverlaysWithScrollbar","forEach","oOverlayWithScrollbar","attachScrollSynced","getInstance","publish","pluginMethodName","editableField","_setDesignTime","aArgs","oDesignTime","_aSelection","oOldDesignTime","getDesignTime","getSelectionManager","detachChange","_onDesignTimeSelectionChange","prototype","setDesignTime","attachChange","getSelectedOverlays","oEvent","aSelection","getParameter","vSelection","detachBrowserEvent","stopPropagation","_preventDefault","preventDefault","el","range","createRange","selectNodeContents","sel","window","getSelection","removeAllRanges","addRange","_stopEdit","bRestoreFocus","sPluginMethodName","removeEventListener","detachScrollSynced","oEditField","querySelector","remove","_bBlurOrKeyDownStarted","isDestroyStarted","getParentElementOverlay","_handlePostRename","fnErrorHandler","removeStyleClass","_validateNewText","_emitLabelChangeEvent","oError","message","stopEdit","_handleInvalidRename","sErrorMessage","showMessageBox","titleKey","then","setIgnoreEnterKeyUpOnce","addStyleClass","oResponsibleOverlay","oRenameAction","getAction","getOldValue","keyCode","ENTER","ESCAPE","DELETE","BACKSPACE","Promise","resolve","sText","trim","getElementById","currentTarget","metaKey","ctrlKey","shiftKey","_exit"],"sources":["RenameHandler-dbg.js"],"mappings":"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","ignoreList":[]}