/*!
 * OpenUI5
 * (c) Copyright 2009-2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/ui/core/Lib","sap/ui/rta/plugin/BaseCreate","sap/ui/fl/Utils","sap/ui/dt/Util","sap/base/util/uid","sap/ui/core/IconPool","sap/ui/rta/plugin/iframe/AddIFrameDialog"],function(e,t,a,i,r,n,o){"use strict";function s(e,t,a,i){var r=!e;var n=this.getCreateAction(r,i,e);return a.getText(t,[n.text])}function g(e,t,i,n){var o=a.getViewForControl(e);var s=o.createId(r());var g;var d;if(t.frameWidth){g=t.frameWidth+t.frameWidthUnit}else{g="100%"}if(t.frameHeight){d=t.frameHeight+t.frameHeightUnit}else{d="100%"}return this.getCommandFactory().getCommandFor(e,"addIFrame",{targetAggregation:t.aggregation,baseId:s,index:t.index,url:t.frameUrl,width:g,height:d,title:t.title,advancedSettings:t.advancedSettings},i,n)}function d(e,t){var a=t[0];var r=!e;var n=this.getCreateAction(r,a,e);var s=this._getParentOverlay(r,a);var d=s.getElement();var l=s.getDesignTimeMetadata();var c=0;if(r){var u=a.getElement();var h=l.getAggregation(n.aggregation).getIndex;c=this._determineIndex(d,u,n.aggregation,h)}var f=this.getVariantManagementReference(s);var m=!!n.getCreatedContainerId;var v=new o;var p;o.buildUrlBuilderParametersFor(d).then(function(e){var t={parameters:e,asContainer:m};return v.open(t,d)}).then(function(e){if(!e){return Promise.reject()}e.index=c;e.aggregation=n.aggregation;p=e.title;return g.call(this,d,e,l,f)}.bind(this)).then(function(e){this.fireElementModified({command:e,newControlId:e.getBaseId(),action:m?n:undefined,title:p})}.bind(this)).catch(function(e){if(e){throw i.createError("AddIFrame#handler",e,"sap.ui.rta")}})}var l=t.extend("sap.ui.rta.plugin.AddIFrame",{metadata:{library:"sap.ui.rta",properties:{},associations:{},events:{}}});l.prototype.isEnabled=function(e,t){var a=t[0];var i=!e;var r=this.getCreateAction(i,a,e);return this.isActionEnabled(r,i,a)};l.prototype.getMenuItems=async function(t){function a(t){var a=e.getResourceBundleFor("sap.ui.rta");var i=a.getText("CTX_ADDIFRAME_GROUP");return{text:s.bind(this,t,"CTX_ADDIFRAME",a),handler:d.bind(this,t),enabled:this.isEnabled.bind(this,t),isSibling:!t,icon:"sap-icon://tnt/content-enricher",group:i}}n.registerFont({collectionName:"tnt",fontFamily:"SAP-icons-TNT",fontURI:sap.ui.require.toUrl("sap/tnt/themes/base/fonts"),lazy:false});await n.fontLoaded("tnt");var i=this.getRank("CTX_CREATE_SIBLING_IFRAME");var r=[];var o=true;if(this.isAvailable(t,o)){var g=this.getCreateAction(o,t[0]);if(g){var l={id:"CTX_CREATE_SIBLING_IFRAME",rank:i,action:g,...a.call(this)};r.push(this.enhanceItemWithResponsibleElement(l,t))}}o=false;if(this.isAvailable(t,o)){r=r.concat(this.getCreateActions(o,t[0]).map(function(e){var r={action:e,id:`CTX_CREATE_CHILD_IFRAME_${e.aggregation.toUpperCase()}`,rank:++i,...a.call(this,e.aggregation)};return this.enhanceItemWithResponsibleElement(r,t)},this))}return r};l.prototype.getActionName=function(){return"addIFrame"};return l});
//# sourceMappingURL=AddIFrame.js.map