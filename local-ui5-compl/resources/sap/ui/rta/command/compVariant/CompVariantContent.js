/*!
 * OpenUI5
 * (c) Copyright 2009-2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/ui/rta/command/BaseCommand","sap/ui/fl/write/api/SmartVariantManagementWriteAPI","sap/ui/rta/library"],function(t,e,r){"use strict";var i=t.extend("sap.ui.rta.command.compVariant.CompVariantContent",{metadata:{library:"sap.ui.rta",properties:{variantId:{type:"string"},persistencyKey:{type:"string"},newContent:{type:"object"},isModifiedBefore:{type:"boolean"}}}});function n(t,r,i){var n={...i,...this.mInformation,id:r,control:this.getElement()};return e[t](n)}function a(t){var e=this.getElement();var r=e._getVariantContent(this.getVariantId());var i={...r};if(e.isPageVariant()){var n={};n[this.getPersistencyKey()]=t;e._applyVariantByPersistencyKey(this.getPersistencyKey(),n,"KEY_USER");i[this.getPersistencyKey()]=t}else{e._applyVariant(e._getPersoController(),t,"KEY_USER");i=t}return i}i.prototype.prepare=function(t,e,i){this.mInformation={layer:t.layer,command:i,generator:r.GENERATOR_NAME};return true};i.prototype.execute=function(){this.getElement().setModified(true);var t=a.call(this,this.getNewContent());n.call(this,"updateVariantContent",this.getVariantId(),{content:t});return Promise.resolve()};i.prototype.undo=function(){var t=n.call(this,"revert",this.getVariantId(),{});this.getElement().setModified(this.getIsModifiedBefore());var e=this.getElement();if(e.isPageVariant()){a.call(this,t.getContent()[this.getPersistencyKey()])}else{a.call(this,t.getContent())}return Promise.resolve()};return i});
//# sourceMappingURL=CompVariantContent.js.map