/*!
 * OpenUI5
 * (c) Copyright 2009-2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/ui/core/util/reflection/JsControlTreeModifier","sap/ui/fl/apply/api/ControlVariantApplyAPI","sap/ui/fl/variants/VariantManager","sap/ui/fl/Utils","sap/ui/rta/command/BaseCommand","sap/ui/rta/library"],function(e,t,n,a,r,i){"use strict";var o=r.extend("sap.ui.rta.command.ControlVariantSetTitle",{metadata:{library:"sap.ui.rta",properties:{oldText:{type:"string"},newText:{type:"string"}},associations:{},events:{}}});o.prototype.prepare=function(e){this.sLayer=e.layer;return true};o.prototype.getPreparedChange=function(){this._oPreparedChange=this.getVariantChange();if(!this._oPreparedChange){return undefined}return this._oPreparedChange};o.prototype.execute=function(){var r=this.getElement();this.oAppComponent=a.getAppComponentForControl(r);this.oModel=this.oAppComponent.getModel(t.getVariantModelName());this.sVariantManagementReference=e.getSelector(r,this.oAppComponent).id;this.sCurrentVariant=this.oModel.getCurrentVariantReference(this.sVariantManagementReference);var o=this.oModel.getVariantTitle(this.sCurrentVariant,this.sVariantManagementReference);this.setOldText(o);var s={appComponent:this.oAppComponent,variantReference:this.sCurrentVariant,changeType:"setTitle",title:this.getNewText(),layer:this.sLayer,generator:i.GENERATOR_NAME};return Promise.resolve(n.addVariantChange(this.sVariantManagementReference,s)).then(function(e){this._oVariantChange=e}.bind(this))};o.prototype.undo=function(){var e={variantReference:this.sCurrentVariant,changeType:"setTitle",title:this.getOldText(),appComponent:this.oAppComponent};var t=this._oVariantChange;return Promise.resolve(n.deleteVariantChange(this.sVariantManagementReference,e,t)).then(function(){this._oVariantChange=null}.bind(this))};return o});
//# sourceMappingURL=ControlVariantSetTitle.js.map