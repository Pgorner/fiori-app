{"version":3,"file":"Stack.js","names":["sap","ui","define","ManagedObject","PersistenceWriteAPI","FlUtils","Settings","CompositeCommand","JsControlTreeModifier","showMessageBox","Lib","toAvailableChanges","mChanges","aChanges","sFileName","oChange","push","pushToStack","oComponent","mComposite","oStack","oSelector","getSelector","oCommand","selector","changeType","getChangeType","element","bySelector","_oPreparedChange","sCompositeId","getSupportInformation","compositeCommand","pushExecutedCommand","addCommand","handleDiscardedChanges","aDiscardedChanges","bSaveRelevant","aAllExecutedCommands","this","getAllExecutedCommands","forEach","some","oExecutedCommand","getPreparedChange","getId","setRelevantForSave","Stack","extend","metadata","library","properties","saved","type","defaultValue","lastCommandExecuted","Promise","resolve","aggregations","commands","multiple","events","modified","commandExecuted","parameters","command","undo","initializeWithChanges","oControl","aFileNames","_aPersistedChanges","length","getAppComponentForControl","mPropertyBag","invalidateCache","_getUIChanges","then","reduce","bind","prototype","addCommandExecutionHandler","fnHandler","_aCommandExecutionHandler","removeCommandExecutionHandler","i","indexOf","splice","init","_toBeExecuted","_waitForCommandExecutionHandler","mParam","all","map","_getCommandToBeExecuted","getCommands","fireModified","bExecuted","_bUndoneCommands","pop","insertCommand","top","removeCommand","vObject","bSuppressInvalidate","oRemovedCommand","removeAggregation","removeAllCommands","aCommands","removeAllAggregation","isEmpty","execute","setLastCommandExecuted","getLastCommandExecuted","catch","getDiscardedChanges","call","fireCommandExecuted","oError","Error","index","oRtaResourceBundle","getResourceBundleFor","sErrorMessage","isA","message","getText","title","reject","undefined","_unExecute","canUndo","canSave","getRelevantForSave","canRedo","redo","pushAndExecute","aSubCommands","getSubCommands","concat","oSubCommand","compositeLastTwoCommands","oLastCommand","oSecondLastCommand","oCompositeCommand"],"sources":["Stack-dbg.js"],"mappings":"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","ignoreList":[]}