{"version":3,"file":"ContextMenu.js","names":["sap","ui","define","assert","Menu","MenuItem","BaseDesignTime","_createPromise","Plugin","OverlayRegistry","DtUtil","KeyCodes","Device","ContextMenu","extend","metadata","library","properties","contextElement","type","openOnClick","defaultValue","events","openedContextMenu","closedContextMenu","sMainStyleClass","prototype","init","this","oContextMenuControl","attachItemSelected","_onItemSelected","attachClosed","_contextMenuClosed","addStyleClass","_aMenuItems","_aGroupedItems","_aSubMenus","exit","destroy","addMenuItem","mMenuItem","bRetrievedFromPlugin","bPersistOneTime","mMenuItemEntry","menuItem","fromPlugin","push","registerElementOverlay","oOverlay","attachBrowserEvent","_openContextMenu","_onKeyDown","_onKeyUp","deregisterElementOverlay","detachBrowserEvent","open","bIsSubMenu","oEvent","aSelectedOverlays","addMenuItems","oMenu","aMenuItems","forEach","oMenuItem","index","sText","text","bEnabled","enabled","addItem","key","id","icon","submenu","getItems","oNewContextElement","getElement","_fnCancelMenuPromise","getContextElement","setContextElement","getDesignTime","getSelectionManager","attachChange","_onSelectionChanged","getSelectedOverlays","filter","oElementOverlay","unshift","destroyItems","oPromise","Promise","resolve","oDtSyncPromise","reject","waitForSynced","then","catch","bind","cancel","promise","aPluginItemPromises","oPlugins","getPlugins","oPlugin","vMenuItems","getMenuItems","oPluginItemsPromise","all","aPluginMenuItems","reduce","aConcatinatedMenuItems","concat","undefined","_addSubMenu","_addItemGroupsToMenu","map","length","_sortMenuItems","openAsContextMenu","fireOpenedContextMenu","oError","createError","sort","mFirstEntry","mSecondEntry","rank","oEventItem","_ensureSelection","_oCurrentOverlay","callHandler","aSelection","responsible","mPropertiesBag","eventItem","handler","sSelectedItemId","getParameter","getKey","some","oItem","apply","mSubMenuItem","getOverlay","currentTarget","keyCode","ENTER","getIgnoreEnterKeyUpOnce","setIgnoreEnterKeyUpOnce","stopPropagation","preventDefault","SPACE","shiftKey","altKey","ctrlKey","_checkForPluginLock","F10","isSelectable","setSelected","isDesignModeEnabled","getSelected","fireClosedContextMenu","detachChange","isSelected","os","ios","getBusyPlugins","_addMenuItemToGroup","bGroupExists","_oGroupedItem","sGroupName","group","aGroupedItems","oSubMenuItem","sSubMenuId","aSubMenuItems","oGroupedItem"],"sources":["ContextMenu-dbg.js"],"mappings":";;;;;AAKAA,IAAIC,GAAGC,OAAO,CACb,kBACA,aACA,iBACA,yBACA,gCACA,mBACA,4BACA,iBACA,yBACA,iBACE,SACFC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,GAEA,aAgBA,MAAMC,EAAcL,EAAOM,OAAO,+BAAsF,CACvHC,SAAU,CACTC,QAAS,YACTC,WAAY,CACXC,eAAgB,CACfC,KAAM,UAEPC,YAAa,CACZD,KAAM,UACNE,aAAc,OAGhBC,OAAQ,CACPC,kBAAmB,CAAC,EACpBC,kBAAmB,CAAC,MAMvB,MAAMC,EAAkB,qBAExBZ,EAAYa,UAAUC,KAAO,WAC5BC,KAAKC,oBAAsB,IAAIzB,EAC/BwB,KAAKC,oBAAoBC,mBAAmBF,KAAKG,gBAAiBH,MAClEA,KAAKC,oBAAoBG,aAAaJ,KAAKK,mBAAoBL,MAC/DA,KAAKC,oBAAoBK,cAAcT,GACvCG,KAAKO,YAAc,GACnBP,KAAKQ,eAAiB,GACtBR,KAAKS,WAAa,EACnB,EAEAxB,EAAYa,UAAUY,KAAO,kBACrBV,KAAKO,YACZ,GAAIP,KAAKC,oBAAqB,CAC7BD,KAAKC,oBAAoBU,SAC1B,CACD,EAiBA1B,EAAYa,UAAUc,YAAc,SAASC,EAAWC,EAAsBC,GAC7E,MAAMC,EAAiB,CACtBC,SAAUJ,EACVK,aAAcJ,EACdC,mBAEDf,KAAKO,YAAYY,KAAKH,EACvB,EAQA/B,EAAYa,UAAUsB,uBAAyB,SAASC,GACvDA,EAASC,mBAAmB,QAAStB,KAAKuB,iBAAkBvB,MAC5DqB,EAASC,mBAAmB,aAActB,KAAKuB,iBAAkBvB,MACjEqB,EAASC,mBAAmB,cAAetB,KAAKuB,iBAAkBvB,MAClEqB,EAASC,mBAAmB,UAAWtB,KAAKwB,WAAYxB,MACxDqB,EAASC,mBAAmB,QAAStB,KAAKyB,SAAUzB,KACrD,EAQAf,EAAYa,UAAU4B,yBAA2B,SAASL,GACzDA,EAASM,mBAAmB,QAAS3B,KAAKuB,iBAAkBvB,MAC5DqB,EAASM,mBAAmB,aAAc3B,KAAKuB,iBAAkBvB,MACjEqB,EAASM,mBAAmB,cAAe3B,KAAKuB,iBAAkBvB,MAClEqB,EAASM,mBAAmB,UAAW3B,KAAKwB,WAAYxB,MACxDqB,EAASM,mBAAmB,QAAS3B,KAAKyB,SAAUzB,KACrD,EAQAf,EAAYa,UAAU8B,KAAO,SAASP,EAAUQ,EAAYC,GAC3D,IAAIC,EACJ,SAASC,EAAaC,EAAOC,GAC5BA,EAAWC,QAAQ,SAASC,EAAWC,GACtC,MAAMC,SAAeF,EAAUG,OAAS,WAAaH,EAAUG,KAAKlB,GAAYe,EAAUG,KAC1F,MAAMC,SAAkBJ,EAAUK,UAAY,WAAaL,EAAUK,QAAQV,GAAqBK,EAAUK,QAC5GR,EAAMS,QACL,IAAIjE,EAAS,CACZkE,IAAKP,EAAUQ,GACfC,KAAMT,EAAUS,KAChBN,KAAMD,EACNG,QAASD,KAGX,GAAIJ,EAAUU,QAAS,CACtBd,EAAaC,EAAMc,WAAWV,GAAQD,EAAUU,QACjD,CACD,EACD,CAEA,MAAME,EAAqB3B,EAAS4B,aACpC,GAAIjD,KAAKkD,qBAAsB,CAE9B,GAAIlD,KAAKmD,sBAAwBH,EAAoB,CAEpD,MACD,CACAhD,KAAKkD,8BACElD,KAAKkD,oBACb,CAEAlD,KAAKoD,kBAAkBJ,GACvBhD,KAAKqD,gBAAgBC,sBAAsBC,aAAavD,KAAKwD,oBAAqBxD,MAElF+B,EAAoB/B,KAAKyD,sBAAsBC,OAAO,SAASC,GAC9D,OAAOA,IAAoBtC,CAC5B,GACAU,EAAkB6B,QAAQvC,GAG1BrB,KAAKO,YAAcP,KAAKO,YAAYmD,OAAO,SAAS1C,GACnD,GAAIA,EAAeD,gBAAiB,CACnCC,EAAeD,gBAAkB,MACjC,OAAO,IACR,CACA,OAAQC,EAAeE,UACxB,GAGAlB,KAAKC,oBAAoB4D,eAEzB,IAAIC,EAAWC,QAAQC,UACvB,IAAKnC,EAAY,CAChB,MAAMoC,EAAiBtF,EAAe,SAASqF,EAASE,GACvDpF,EAAOqF,cAAcnE,KAAKqD,gBAA1BvE,GAA6CsF,KAAKJ,GAASK,MAAMH,EAClE,EAAEI,KAAKtE,OACPA,KAAKkD,qBAAuBe,EAAeM,OAC3CT,EAAWG,EAAeO,QACzBJ,KAAK,WACLpE,KAAKQ,eAAiB,GACtBR,KAAKS,WAAa,GAClB,MAAMgE,EAAsB,GAC5B,MAAMC,EAAW1E,KAAKqD,gBAAgBsB,aACtCD,EAASvC,QAAQ,SAASyC,GACzB,IAAIC,EAAaD,EAAQE,aAAa/C,GACtC,KAAM8C,aAAsBd,SAAU,CACrCc,EAAad,QAAQC,QAAQa,EAC9B,CACAJ,EAAoBtD,KAAK0D,EAC1B,GAEA,MAAME,EAAsBpG,EAAe,SAASqF,EAASE,GAC5DH,QAAQiB,IAAIP,GAAqBL,KAAKJ,GAASK,MAAMH,EACtD,GACAlE,KAAKkD,qBAAuB6B,EAAoBR,OAChD,OAAOQ,EAAoBP,OAC5B,EAAEF,KAAKtE,OACNoE,KAAK,SAASa,GACd,OAAOA,EAAiBC,OAAO,SAASC,EAAwBjD,GAC/D,OAAOiD,EAAuBC,OAAOlD,EACtC,EACD,GACCkC,KAAK,SAASa,GACdA,EAAiB9C,QAAQ,SAAStB,GACjC,GAAIA,EAAUiC,UAAYuC,UAAW,CACpCrF,KAAKsF,YAAYzE,EAClB,KAAO,CACNb,KAAKY,YAAYC,EAAW,KAC7B,CACD,EAAEyD,KAAKtE,OAEPA,KAAKuF,8BACEvF,KAAKkD,oBACb,EAAEoB,KAAKtE,MACR,CAEA8D,EAASM,KAAK,WACb,IAAIlC,EAAalC,KAAKO,YAAYiF,IAAI,SAASxE,GAC9C,OAAOA,EAAeC,QACvB,GAEA,GAAIiB,EAAWuD,OAAS,EAAG,CAC1BvD,EAAalC,KAAK0F,eAAexD,GACjCF,EAAahC,KAAKC,oBAAqBiC,GACvClC,KAAKC,oBAAoB0F,kBAAkB7D,EAAQT,EACpD,CAEArB,KAAK4F,uBACN,EAAEtB,KAAKtE,OACNqE,MAAM,SAASwB,GACf,MAAM/G,EAAOgH,YACZ,mBACA,kDAAkDD,IAEpD,EACD,EAOA5G,EAAYa,UAAU4F,eAAiB,SAASxD,GAC/C,OAAOA,EAAW6D,KAAK,SAASC,EAAaC,GAE5C,IAAKD,EAAYE,OAASD,EAAaC,KAAM,CAC5C,OAAO,CACR,CAEA,IAAKF,EAAYE,MAAQD,EAAaC,KAAM,CAC3C,OAAQ,CACT,CACA,GAAIF,EAAYE,OAASD,EAAaC,KAAM,CAC3C,OAAO,CACR,CACA,OAAOF,EAAYE,KAAOD,EAAaC,IACxC,EACD,EAQAjH,EAAYa,UAAUK,gBAAkB,SAASgG,GAChDnG,KAAKoG,iBAAiBpG,KAAKqG,kBAE3B,SAASC,EAAYlE,EAAW+D,GAC/B,MAAMI,EAAanE,EAAUoE,aAAexG,KAAKyD,uBAAyB,GAC1ElF,EAAOgI,EAAWd,OAAS,EAAG,+EAC9B,MAAMgB,EAAiB,CAAC,EACxBA,EAAeC,UAAYP,EAC3BM,EAAenH,eAAiBU,KAAKmD,oBACrCf,EAAUuE,QAAQJ,EAAYE,EAC/B,CAEA,MAAMG,EAAkBT,EAAWU,aAAa,QAAQC,SAExD9G,KAAKO,YAAYwG,KAAK,SAAS/F,GAC9B,MAAMgG,EAAQhG,EAAeC,SAC7B,GAAI2F,IAAoB5F,EAAeC,SAAS2B,GAAI,CACnD0D,EAAYW,MAAMjH,KAAM,CAACgH,EAAOb,IAChC,OAAO,IACR,MAAO,GAAIa,EAAMlE,QAAS,CACzBkE,EAAMlE,QAAQiE,KAAK,SAASG,GAC3B,GAAIN,IAAoBM,EAAatE,GAAI,CACxC0D,EAAYW,MAAMjH,KAAM,CAACkH,EAAcf,IACvC,OAAO,IACR,CACD,EAAE7B,KAAKtE,MACR,CACD,EAAGA,KACJ,EAQAf,EAAYa,UAAU2B,SAAW,SAASK,GACzC,MAAMT,EAAWxC,EAAgBsI,WAAWrF,EAAOsF,cAAcxE,IAEjE,GAAId,EAAOuF,UAAYtI,EAASuI,OAASjG,EAASkG,0BAA2B,CAC5ElG,EAASmG,wBAAwB,OACjC1F,EAAO2F,kBACP3F,EAAO4F,iBACP,MACD,CACA,IAAK5F,EAAOuF,UAAYtI,EAAS4I,OAAS7F,EAAOuF,UAAYtI,EAASuI,QACpExF,EAAO8F,WAAa,OACpB9F,EAAO+F,SAAW,OAClB/F,EAAOgG,UAAY,MAAQ,CAC5B,IAAK9H,KAAK+H,sBAAuB,CAChC/H,KAAKuB,iBAAiBO,GACtBA,EAAO2F,kBACP3F,EAAO4F,gBACR,CACD,CACA,GAAK5F,EAAOuF,UAAYtI,EAASiJ,KAC/BlG,EAAO8F,WAAa,MACpB9F,EAAO+F,SAAW,OAClB/F,EAAOgG,UAAY,MAAQ,CAC5B,IAAK9H,KAAK+H,sBAAuB,CAChC/H,KAAKuB,iBAAiBO,GACtBA,EAAO2F,kBACP3F,EAAO4F,gBACR,CACD,CACD,EAOAzI,EAAYa,UAAU0B,WAAa,SAASM,GAC3C,MAAMT,EAAWxC,EAAgBsI,WAAWrF,EAAOsF,cAAcxE,IACjE,GAAKd,EAAOuF,UAAYtI,EAAS4I,OAC/B7F,EAAO8F,WAAa,OACpB9F,EAAO+F,SAAW,OAClB/F,EAAOgG,UAAY,MAAQ,CAC5B,GAAIzG,GAAYA,EAAS4G,iBAAmBjI,KAAK+H,sBAAuB,CACvE1G,EAAS6G,YAAY,MACrBpG,EAAO2F,kBACP3F,EAAO4F,gBACR,CACD,CACD,EAOAzI,EAAYa,UAAUyB,iBAAmB,SAASO,GAEjD,GAAIA,EAAOvC,OAAS,SAAWb,EAAeyJ,sBAAuB,CACpE,MACD,CACA,MAAM9G,EAAWxC,EAAgBsI,WAAWrF,EAAOsF,cAAcxE,IACjE,GAAIvB,GAAYA,EAAS4G,gBAAkB5G,EAAS+G,cAAe,CAClEpI,KAAKqG,iBAAmBhF,EACxBrB,KAAK4B,KAAKP,EAAUgE,UAAWvD,EAChC,CACD,EAKA7C,EAAYa,UAAUO,mBAAqB,WAC1CL,KAAKqI,uBACN,EAKApJ,EAAYa,UAAU0D,oBAAsB,WAC3CxD,KAAKqD,gBAAgBC,sBAAsBgF,aAAatI,KAAKwD,oBAAqBxD,KACnF,EAMAf,EAAYa,UAAUsG,iBAAmB,SAAS/E,GACjD,GAAIA,IAAaA,EAASkH,aAAc,CACvClH,EAAS6G,YAAY,KACtB,CACD,EAMAjJ,EAAYa,UAAUiI,oBAAsB,WAE3C,GAAI/I,EAAOwJ,GAAGC,IAAK,CAClB,OAAO,KACR,CAEA,GAAIzI,KAAKqD,gBAAgBqF,iBAAiBjD,OAAQ,CACjD,OAAO,IACR,CAEA,OAAO,KACR,EAMAxG,EAAYa,UAAU6I,oBAAsB,SAAS9H,GACpD,MAAM+H,EAAe5I,KAAKQ,eAAeuG,KAAK,SAAS8B,GACtD,GAAIA,EAAcC,aAAejI,EAAUkI,MAAO,CACjDF,EAAcG,cAAc7H,KAAKN,GACjC,OAAO,IACR,CACD,GAEA,IAAK+H,EAAc,CAClB5I,KAAKQ,eAAeW,KAAK,CACxB2H,WAAYjI,EAAUkI,MACtBC,cAAe,CAACnI,IAElB,CACD,EAMA5B,EAAYa,UAAUwF,YAAc,SAASzE,GAC5CA,EAAUiC,QAAQX,QAAQ,SAAS8G,GAClCA,EAAatC,UAAY9F,EAAU8F,OACpC,GAEA3G,KAAKS,WAAWU,KAAK,CACpB+H,WAAYrI,EAAU+B,GACtBuG,cAAetI,EAAUiC,UAG1B9C,KAAKY,YAAYC,EAAW,KAC7B,EAKA5B,EAAYa,UAAUyF,qBAAuB,WAC5CvF,KAAKQ,eAAe2B,QAAQ,SAASiH,GAEpC,GAAIA,EAAaJ,cAAcvD,SAAW,EAAG,CAC5CzF,KAAKY,YAAYwI,EAAaJ,cAAc,GAAI,KACjD,KAAO,CACNhJ,KAAKY,YAAY,CAChBgC,GAAI,GAAGwG,EAAaN,uBACpBrG,QAAS,KACTF,KAAM6G,EAAaN,WACnBjG,KAAMuG,EAAaJ,cAAc,GAAGnG,KACpCqD,KAAMkD,EAAaJ,cAAc,GAAG9C,KACpCpD,QAASsG,EAAaJ,eACpB,KACJ,CACD,EAAE1E,KAAKtE,MACR,EAEA,OAAOf,CACR","ignoreList":[]}