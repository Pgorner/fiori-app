/*! Buttons for DataTables 3.0.0
 * Â© SpryMedia Ltd - datatables.net/license
 */
(function(t){if(typeof define==="function"&&define.amd){define(["jquery","datatables.net"],function(e){return t(e,window,document)})}else if(typeof exports==="object"){var e=require("jquery");var n=function(t,e){if(!e.fn.dataTable){require("datatables.net")(t,e)}};if(typeof window==="undefined"){module.exports=function(i,o){if(!i){i=window}if(!o){o=e(i)}n(i,o);return t(o,i,i.document)}}else{n(window,e);module.exports=t(e,window,window.document)}}else{t(jQuery,window,document)}})(function(t,e,n){"use strict";var i=t.fn.dataTable;var o=0;var r=0;var a=i.ext.buttons;var s=null;function u(e,n,i){if(t.fn.animate){e.stop().fadeIn(n,i)}else{e.css("display","block");if(i){i.call(e)}}}function l(e,n,i){if(t.fn.animate){e.stop().fadeOut(n,i)}else{e.css("display","none");if(i){i.call(e)}}}var f=function(e,n){if(!i.versionCheck("2")){throw"Warning: Buttons requires DataTables 2 or newer"}if(!(this instanceof f)){return function(t){return new f(t,e).container()}}if(typeof n==="undefined"){n={}}if(n===true){n={}}if(Array.isArray(n)){n={buttons:n}}this.c=t.extend(true,{},f.defaults,n);if(n.buttons){this.c.buttons=n.buttons}this.s={dt:new i.Api(e),buttons:[],listenKeys:"",namespace:"dtb"+o++};this.dom={container:t("<"+this.c.dom.container.tag+"/>").addClass(this.c.dom.container.className)};this._constructor()};t.extend(f.prototype,{action:function(t,e){var n=this._nodeToButton(t);if(e===undefined){return n.conf.action}n.conf.action=e;return this},active:function(e,n){var i=this._nodeToButton(e);var o=this.c.dom.button.active;var r=t(i.node);if(i.inCollection&&this.c.dom.collection.button&&this.c.dom.collection.button.active!==undefined){o=this.c.dom.collection.button.active}if(n===undefined){return r.hasClass(o)}r.toggleClass(o,n===undefined?true:n);return this},add:function(t,e,n){var i=this.s.buttons;if(typeof e==="string"){var o=e.split("-");var r=this.s;for(var a=0,s=o.length-1;a<s;a++){r=r.buttons[o[a]*1]}i=r.buttons;e=o[o.length-1]*1}this._expandButton(i,t,t!==undefined?t.split:undefined,(t===undefined||t.split===undefined||t.split.length===0)&&r!==undefined,false,e);if(n===undefined||n===true){this._draw()}return this},collectionRebuild:function(t,e){var n=this._nodeToButton(t);if(e!==undefined){var i;for(i=n.buttons.length-1;i>=0;i--){this.remove(n.buttons[i].node)}if(n.conf.prefixButtons){e.unshift.apply(e,n.conf.prefixButtons)}if(n.conf.postfixButtons){e.push.apply(e,n.conf.postfixButtons)}for(i=0;i<e.length;i++){var o=e[i];this._expandButton(n.buttons,o,o!==undefined&&o.config!==undefined&&o.config.split!==undefined,true,o.parentConf!==undefined&&o.parentConf.split!==undefined,null,o.parentConf)}}this._draw(n.collection,n.buttons)},container:function(){return this.dom.container},disable:function(e){var n=this._nodeToButton(e);t(n.node).addClass(this.c.dom.button.disabled).prop("disabled",true);return this},destroy:function(){t("body").off("keyup."+this.s.namespace);var e=this.s.buttons.slice();var n,i;for(n=0,i=e.length;n<i;n++){this.remove(e[n].node)}this.dom.container.remove();var o=this.s.dt.settings()[0];for(n=0,i=o.length;n<i;n++){if(o.inst===this){o.splice(n,1);break}}return this},enable:function(e,n){if(n===false){return this.disable(e)}var i=this._nodeToButton(e);t(i.node).removeClass(this.c.dom.button.disabled).prop("disabled",false);return this},index:function(t,e,n){if(!e){e="";n=this.s.buttons}for(var i=0,o=n.length;i<o;i++){var r=n[i].buttons;if(n[i].node===t){return e+i}if(r&&r.length){var a=this.index(t,i+"-",r);if(a!==null){return a}}}return null},name:function(){return this.c.name},node:function(e){if(!e){return this.dom.container}var n=this._nodeToButton(e);return t(n.node)},processing:function(e,n){var i=this.s.dt;var o=this._nodeToButton(e);if(n===undefined){return t(o.node).hasClass("processing")}t(o.node).toggleClass("processing",n);t(i.table().node()).triggerHandler("buttons-processing.dt",[n,i.button(e),i,t(e),o.conf]);return this},remove:function(e){var n=this._nodeToButton(e);var i=this._nodeToHost(e);var o=this.s.dt;if(n.buttons.length){for(var r=n.buttons.length-1;r>=0;r--){this.remove(n.buttons[r].node)}}n.conf.destroying=true;if(n.conf.destroy){n.conf.destroy.call(o.button(e),o,t(e),n.conf)}this._removeKey(n.conf);t(n.node).remove();var a=t.inArray(n,i);i.splice(a,1);return this},text:function(e,n){var i=this._nodeToButton(e);var o=i.textNode;var r=this.s.dt;var a=t(i.node);var s=function(t){return typeof t==="function"?t(r,a,i.conf):t};if(n===undefined){return s(i.conf.text)}i.conf.text=n;o.html(s(n));return this},_constructor:function(){var e=this;var i=this.s.dt;var o=i.settings()[0];var r=this.c.buttons;if(!o._buttons){o._buttons=[]}o._buttons.push({inst:this,name:this.c.name});for(var a=0,s=r.length;a<s;a++){this.add(r[a])}i.on("destroy",function(t,n){if(n===o){e.destroy()}});t("body").on("keyup."+this.s.namespace,function(t){if(!n.activeElement||n.activeElement===n.body){var i=String.fromCharCode(t.keyCode).toLowerCase();if(e.s.listenKeys.toLowerCase().indexOf(i)!==-1){e._keypress(i,t)}}})},_addKey:function(e){if(e.key){this.s.listenKeys+=t.isPlainObject(e.key)?e.key.key:e.key}},_draw:function(t,e){if(!t){t=this.dom.container;e=this.s.buttons}t.children().detach();for(var n=0,i=e.length;n<i;n++){t.append(e[n].inserter);t.append(" ");if(e[n].buttons&&e[n].buttons.length){this._draw(e[n].collection,e[n].buttons)}}},_expandButton:function(e,n,i,o,r,a,s){var u=this.s.dt;var l=false;var f=this.c.dom.collection;var c=!Array.isArray(n)?[n]:n;if(n===undefined){c=!Array.isArray(i)?[i]:i}for(var d=0,p=c.length;d<p;d++){var h=this._resolveExtends(c[d]);if(!h){continue}l=h.config&&h.config.split?true:false;if(Array.isArray(h)){this._expandButton(e,h,b!==undefined&&b.conf!==undefined?b.conf.split:undefined,o,s!==undefined&&s.split!==undefined,a,s);continue}var b=this._buildButton(h,o,h.split!==undefined||h.config!==undefined&&h.config.split!==undefined,r);if(!b){continue}if(a!==undefined&&a!==null){e.splice(a,0,b);a++}else{e.push(b)}if(b.conf.buttons){b.collection=t("<"+f.container.content.tag+"/>");b.conf._collection=b.collection;t(b.node).append(f.action.dropHtml);this._expandButton(b.buttons,b.conf.buttons,b.conf.split,!l,l,a,b.conf)}if(b.conf.split){b.collection=t("<"+f.container.tag+"/>");b.conf._collection=b.collection;for(var v=0;v<b.conf.split.length;v++){var g=b.conf.split[v];if(typeof g==="object"){g.parent=s;if(g.collectionLayout===undefined){g.collectionLayout=b.conf.collectionLayout}if(g.dropup===undefined){g.dropup=b.conf.dropup}if(g.fade===undefined){g.fade=b.conf.fade}}}this._expandButton(b.buttons,b.conf.buttons,b.conf.split,!l,l,a,b.conf)}b.conf.parent=s;if(h.init){h.init.call(u.button(b.node),u,t(b.node),h)}}},_buildButton:function(e,n,i,o){var s=this;var u=this.c.dom;var l;var f=this.s.dt;var c=function(t){return typeof t==="function"?t(f,h,e):t};var d=t.extend(true,{},u.button);if(n&&i&&u.collection.split){t.extend(true,d,u.collection.split.action)}else if(o||n){t.extend(true,d,u.collection.button)}else if(i){t.extend(true,d,u.split.button)}if(e.spacer){var p=t("<"+d.spacer.tag+"/>").addClass("dt-button-spacer "+e.style+" "+d.spacer.className).html(c(e.text));return{conf:e,node:p,inserter:p,buttons:[],inCollection:n,isSplit:i,collection:null,textNode:p}}if(e.available&&!e.available(f,e)&&!e.html){return false}var h;if(!e.html){var b=function(e,n,i,o,r){o.action.call(n.button(i),e,n,i,o,r);t(n.table().node()).triggerHandler("buttons-action.dt",[n.button(i),n,i,o])};var v=function(t,e,n,i){if(i.async){s.processing(n[0],true);setTimeout(function(){b(t,e,n,i,function(){s.processing(n[0],false)})},i.async)}else{b(t,e,n,i,function(){})}};var g=e.tag||d.tag;var m=e.clickBlurs===undefined?true:e.clickBlurs;h=t("<"+g+"/>").addClass(d.className).attr("tabindex",this.s.dt.settings()[0].iTabIndex).attr("aria-controls",this.s.dt.table().node().id).on("click.dtb",function(t){t.preventDefault();if(!h.hasClass(d.disabled)&&e.action){v(t,f,h,e)}if(m){h.trigger("blur")}}).on("keypress.dtb",function(t){if(t.keyCode===13){t.preventDefault();if(!h.hasClass(d.disabled)&&e.action){v(t,f,h,e)}}});if(g.toLowerCase()==="a"){h.attr("href","#")}if(g.toLowerCase()==="button"){h.attr("type","button")}if(d.liner.tag){var y=t("<"+d.liner.tag+"/>").html(c(e.text)).addClass(d.liner.className);if(d.liner.tag.toLowerCase()==="a"){y.attr("href","#")}h.append(y);l=y}else{h.html(c(e.text));l=h}if(e.enabled===false){h.addClass(d.disabled)}if(e.className){h.addClass(e.className)}if(e.titleAttr){h.attr("title",c(e.titleAttr))}if(e.attr){h.attr(e.attr)}if(!e.namespace){e.namespace=".dt-button-"+r++}if(e.config!==undefined&&e.config.split){e.split=e.config.split}}else{h=t(e.html)}var x=this.c.dom.buttonContainer;var C;if(x&&x.tag){C=t("<"+x.tag+"/>").addClass(x.className).append(h)}else{C=h}this._addKey(e);if(this.c.buttonCreated){C=this.c.buttonCreated(e,C)}var w;if(i){var _=n?t.extend(true,this.c.dom.split,this.c.dom.collection.split):this.c.dom.split;var A=_.wrapper;w=t("<"+A.tag+"/>").addClass(A.className).append(h);var k=t.extend(e,{align:_.dropdown.align,attr:{"aria-haspopup":"dialog","aria-expanded":false},className:_.dropdown.className,closeButton:false,splitAlignClass:_.dropdown.splitAlignClass,text:_.dropdown.text});this._addKey(k);var B=function(e,n,i,o){a.split.action.call(n.button(w),e,n,i,o);t(n.table().node()).triggerHandler("buttons-action.dt",[n.button(i),n,i,o]);i.attr("aria-expanded",true)};var N=t('<button class="'+_.dropdown.className+' dt-button"></button>').html(_.dropdown.dropHtml).on("click.dtb",function(t){t.preventDefault();t.stopPropagation();if(!N.hasClass(d.disabled)){B(t,f,N,k)}if(m){N.trigger("blur")}}).on("keypress.dtb",function(t){if(t.keyCode===13){t.preventDefault();if(!N.hasClass(d.disabled)){B(t,f,N,k)}}});if(e.split.length===0){N.addClass("dtb-hide-drop")}w.append(N).attr(k.attr)}return{conf:e,node:i?w.get(0):h.get(0),inserter:i?w:C,buttons:[],inCollection:n,isSplit:i,inSplit:o,collection:null,textNode:l}},_nodeToButton:function(t,e){if(!e){e=this.s.buttons}for(var n=0,i=e.length;n<i;n++){if(e[n].node===t){return e[n]}if(e[n].buttons.length){var o=this._nodeToButton(t,e[n].buttons);if(o){return o}}}},_nodeToHost:function(t,e){if(!e){e=this.s.buttons}for(var n=0,i=e.length;n<i;n++){if(e[n].node===t){return e}if(e[n].buttons.length){var o=this._nodeToHost(t,e[n].buttons);if(o){return o}}}},_keypress:function(e,n){if(n._buttonsHandled){return}var i=function(i,o){if(!i.key){return}if(i.key===e){n._buttonsHandled=true;t(o).click()}else if(t.isPlainObject(i.key)){if(i.key.key!==e){return}if(i.key.shiftKey&&!n.shiftKey){return}if(i.key.altKey&&!n.altKey){return}if(i.key.ctrlKey&&!n.ctrlKey){return}if(i.key.metaKey&&!n.metaKey){return}n._buttonsHandled=true;t(o).click()}};var o=function(t){for(var e=0,n=t.length;e<n;e++){i(t[e].conf,t[e].node);if(t[e].buttons.length){o(t[e].buttons)}}};o(this.s.buttons)},_removeKey:function(e){if(e.key){var n=t.isPlainObject(e.key)?e.key.key:e.key;var i=this.s.listenKeys.split("");var o=t.inArray(n,i);i.splice(o,1);this.s.listenKeys=i.join("")}},_resolveExtends:function(e){var n=this;var i=this.s.dt;var o,r;var s=function(o){var r=0;while(!t.isPlainObject(o)&&!Array.isArray(o)){if(o===undefined){return}if(typeof o==="function"){o=o.call(n,i,e);if(!o){return false}}else if(typeof o==="string"){if(!a[o]){return{html:o}}o=a[o]}r++;if(r>30){throw"Buttons: Too many iterations"}}return Array.isArray(o)?o:t.extend({},o)};e=s(e);while(e&&e.extend){if(!a[e.extend]){throw"Cannot extend unknown button type: "+e.extend}var u=s(a[e.extend]);if(Array.isArray(u)){return u}else if(!u){return false}var l=u.className;if(e.config!==undefined&&u.config!==undefined){e.config=t.extend({},u.config,e.config)}e=t.extend({},u,e);if(l&&e.className!==l){e.className=l+" "+e.className}e.extend=u.extend}var f=e.postfixButtons;if(f){if(!e.buttons){e.buttons=[]}for(o=0,r=f.length;o<r;o++){e.buttons.push(f[o])}}var c=e.prefixButtons;if(c){if(!e.buttons){e.buttons=[]}for(o=0,r=c.length;o<r;o++){e.buttons.splice(o,0,c[o])}}return e},_popover:function(i,o,r){var a=o;var s=this.c;var c=false;var d=t.extend({align:"button-left",autoClose:false,background:true,backgroundClassName:"dt-button-background",closeButton:true,containerClassName:s.dom.collection.container.className,contentClassName:s.dom.collection.container.content.className,collectionLayout:"",collectionTitle:"",dropup:false,fade:400,popoverTitle:"",rightAlignClassName:"dt-button-right",tag:s.dom.collection.container.tag},r);var p=d.tag+"."+d.containerClassName.replace(/ /g,".");var h=o.node();var b=function(){c=true;l(t(p),d.fade,function(){t(this).detach()});t(a.buttons('[aria-haspopup="dialog"][aria-expanded="true"]').nodes()).attr("aria-expanded","false");t("div.dt-button-background").off("click.dtb-collection");f.background(false,d.backgroundClassName,d.fade,h);t(e).off("resize.resize.dtb-collection");t("body").off(".dtb-collection");a.off("buttons-action.b-internal");a.off("destroy")};if(i===false){b();return}var v=t(a.buttons('[aria-haspopup="dialog"][aria-expanded="true"]').nodes());if(v.length){if(h.closest(p).length){h=v.eq(0)}b()}var g=t(".dt-button",i).length;var m="";if(g===3){m="dtb-b3"}else if(g===2){m="dtb-b2"}else if(g===1){m="dtb-b1"}var y=t("<"+d.tag+"/>").addClass(d.containerClassName).addClass(d.collectionLayout).addClass(d.splitAlignClass).addClass(m).css("display","none").attr({"aria-modal":true,role:"dialog"});i=t(i).addClass(d.contentClassName).attr("role","menu").appendTo(y);h.attr("aria-expanded","true");if(h.parents("body")[0]!==n.body){h=n.body.lastChild}if(d.popoverTitle){y.prepend('<div class="dt-button-collection-title">'+d.popoverTitle+"</div>")}else if(d.collectionTitle){y.prepend('<div class="dt-button-collection-title">'+d.collectionTitle+"</div>")}if(d.closeButton){y.prepend('<div class="dtb-popover-close">&times;</div>').addClass("dtb-collection-closeable")}u(y.insertAfter(h),d.fade);var x=t(o.table().container());var C=y.css("position");if(d.span==="container"||d.align==="dt-container"){h=h.parent();y.css("width",x.width())}if(C==="absolute"){var w=t(h[0].offsetParent);var _=h.position();var A=h.offset();var k=w.offset();var B=w.position();var N=e.getComputedStyle(w[0]);k.height=w.outerHeight();k.width=w.width()+parseFloat(N.paddingLeft);k.right=k.left+k.width;k.bottom=k.top+k.height;var T=_.top+h.outerHeight();var H=_.left;y.css({top:T,left:H});N=e.getComputedStyle(y[0]);var S=y.offset();S.height=y.outerHeight();S.width=y.outerWidth();S.right=S.left+S.width;S.bottom=S.top+S.height;S.marginTop=parseFloat(N.marginTop);S.marginBottom=parseFloat(N.marginBottom);if(d.dropup){T=_.top-S.height-S.marginTop-S.marginBottom}if(d.align==="button-right"||y.hasClass(d.rightAlignClassName)){H=_.left-S.width+h.outerWidth()}if(d.align==="dt-container"||d.align==="container"){if(H<_.left){H=-_.left}}if(B.left+H+S.width>t(e).width()){H=t(e).width()-S.width-B.left}if(A.left+H<0){H=-A.left}if(B.top+T+S.height>t(e).height()+t(e).scrollTop()){T=_.top-S.height-S.marginTop-S.marginBottom}if(B.top+T<t(e).scrollTop()){T=_.top+h.outerHeight()}y.css({top:T,left:H})}else{var K=function(){var n=t(e).height()/2;var i=y.height()/2;if(i>n){i=n}y.css("marginTop",i*-1)};K();t(e).on("resize.dtb-collection",function(){K()})}if(d.background){f.background(true,d.backgroundClassName,d.fade,d.backgroundHost||h)}t("div.dt-button-background").on("click.dtb-collection",function(){});if(d.autoClose){setTimeout(function(){a.on("buttons-action.b-internal",function(t,e,n,i){if(i[0]===h[0]){return}b()})},0)}t(y).trigger("buttons-popover.dt");a.on("destroy",b);setTimeout(function(){c=false;t("body").on("click.dtb-collection",function(e){if(c){return}var n=t.fn.addBack?"addBack":"andSelf";var o=t(e.target).parent()[0];if(!t(e.target).parents()[n]().filter(i).length&&!t(o).hasClass("dt-buttons")||t(e.target).hasClass("dt-button-background")){b()}}).on("keyup.dtb-collection",function(t){if(t.keyCode===27){b()}}).on("keydown.dtb-collection",function(e){var o=t("a, button",i);var r=n.activeElement;if(e.keyCode!==9){return}if(o.index(r)===-1){o.first().focus();e.preventDefault()}else if(e.shiftKey){if(r===o[0]){o.last().focus();e.preventDefault()}}else{if(r===o.last()[0]){o.first().focus();e.preventDefault()}}})},0)}});f.background=function(e,i,o,r){if(o===undefined){o=400}if(!r){r=n.body}if(e){u(t("<div/>").addClass(i).css("display","none").insertAfter(r),o)}else{l(t("div."+i),o,function(){t(this).removeClass(i).remove()})}};f.instanceSelector=function(e,n){if(e===undefined||e===null){return t.map(n,function(t){return t.inst})}var i=[];var o=t.map(n,function(t){return t.name});var r=function(e){if(Array.isArray(e)){for(var a=0,s=e.length;a<s;a++){r(e[a])}return}if(typeof e==="string"){if(e.indexOf(",")!==-1){r(e.split(","))}else{var u=t.inArray(e.trim(),o);if(u!==-1){i.push(n[u].inst)}}}else if(typeof e==="number"){i.push(n[e].inst)}else if(typeof e==="object"){i.push(e)}};r(e);return i};f.buttonSelector=function(e,n){var i=[];var o=function(t,e,n){var i;var r;for(var a=0,s=e.length;a<s;a++){i=e[a];if(i){r=n!==undefined?n+a:a+"";t.push({node:i.node,name:i.conf.name,idx:r});if(i.buttons){o(t,i.buttons,r+"-")}}}};var r=function(e,n){var a,s;var u=[];o(u,n.s.buttons);var l=t.map(u,function(t){return t.node});if(Array.isArray(e)||e instanceof t){for(a=0,s=e.length;a<s;a++){r(e[a],n)}return}if(e===null||e===undefined||e==="*"){for(a=0,s=u.length;a<s;a++){i.push({inst:n,node:u[a].node})}}else if(typeof e==="number"){if(n.s.buttons[e]){i.push({inst:n,node:n.s.buttons[e].node})}}else if(typeof e==="string"){if(e.indexOf(",")!==-1){var f=e.split(",");for(a=0,s=f.length;a<s;a++){r(f[a].trim(),n)}}else if(e.match(/^\d+(\-\d+)*$/)){var c=t.map(u,function(t){return t.idx});i.push({inst:n,node:u[t.inArray(e,c)].node})}else if(e.indexOf(":name")!==-1){var d=e.replace(":name","");for(a=0,s=u.length;a<s;a++){if(u[a].name===d){i.push({inst:n,node:u[a].node})}}}else{t(l).filter(e).each(function(){i.push({inst:n,node:this})})}}else if(typeof e==="object"&&e.nodeName){var p=t.inArray(e,l);if(p!==-1){i.push({inst:n,node:l[p]})}}};for(var a=0,s=e.length;a<s;a++){var u=e[a];r(n,u)}return i};f.stripData=function(t,e){if(typeof t!=="string"){return t}t=t.replace(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,"");t=t.replace(/<!\-\-.*?\-\->/g,"");if(!e||e.stripHtml){t=t.replace(/<[^>]*>/g,"")}if(!e||e.trim){t=t.replace(/^\s+|\s+$/g,"")}if(!e||e.stripNewlines){t=t.replace(/\n/g," ")}if(!e||e.decodeEntities){if(s){t=s(t)}else{v.innerHTML=t;t=v.value}}return t};f.entityDecoder=function(t){s=t};f.defaults={buttons:["copy","excel","csv","pdf","print"],name:"main",tabIndex:0,dom:{container:{tag:"div",className:"dt-buttons"},collection:{action:{dropHtml:'<span class="dt-button-down-arrow">&#x25BC;</span>'},container:{className:"dt-button-collection",content:{className:"",tag:"div"},tag:"div"}},button:{tag:"button",className:"dt-button",active:"dt-button-active",disabled:"disabled",spacer:{className:"dt-button-spacer",tag:"span"},liner:{tag:"span",className:""}},split:{action:{className:"dt-button-split-drop-button dt-button",tag:"button"},dropdown:{align:"split-right",className:"dt-button-split-drop",dropHtml:'<span class="dt-button-down-arrow">&#x25BC;</span>',splitAlignClass:"dt-button-split-left",tag:"button"},wrapper:{className:"dt-button-split",tag:"div"}}}};f.version="3.0.0";t.extend(a,{collection:{text:function(t){return t.i18n("buttons.collection","Collection")},className:"buttons-collection",closeButton:false,init:function(t,e){e.attr("aria-expanded",false)},action:function(e,n,i,o){if(o._collection.parents("body").length){this.popover(false,o)}else{this.popover(o._collection,o)}if(e.type==="keypress"){t("a, button",o._collection).eq(0).focus()}},attr:{"aria-haspopup":"dialog"}},split:{text:function(t){return t.i18n("buttons.split","Split")},className:"buttons-split",closeButton:false,init:function(t,e){return e.attr("aria-expanded",false)},action:function(t,e,n,i){this.popover(i._collection,i)},attr:{"aria-haspopup":"dialog"}},copy:function(){if(a.copyHtml5){return"copyHtml5"}},csv:function(t,e){if(a.csvHtml5&&a.csvHtml5.available(t,e)){return"csvHtml5"}},excel:function(t,e){if(a.excelHtml5&&a.excelHtml5.available(t,e)){return"excelHtml5"}},pdf:function(t,e){if(a.pdfHtml5&&a.pdfHtml5.available(t,e)){return"pdfHtml5"}},pageLength:function(e){var n=e.settings()[0].aLengthMenu;var i=[];var o=[];var r=function(t){return t.i18n("buttons.pageLength",{"-1":"Show all rows",_:"Show %d rows"},t.page.len())};if(Array.isArray(n[0])){i=n[0];o=n[1]}else{for(var a=0;a<n.length;a++){var s=n[a];if(t.isPlainObject(s)){i.push(s.value);o.push(s.label)}else{i.push(s);o.push(s)}}}return{extend:"collection",text:r,className:"buttons-page-length",autoClose:true,buttons:t.map(i,function(t,e){return{text:o[e],className:"button-page-length",action:function(e,n){n.page.len(t).draw()},init:function(e,n,i){var o=this;var r=function(){o.active(e.page.len()===t)};e.on("length.dt"+i.namespace,r);r()},destroy:function(t,e,n){t.off("length.dt"+n.namespace)}}}),init:function(t,e,n){var i=this;t.on("length.dt"+n.namespace,function(){i.text(n.text)})},destroy:function(t,e,n){t.off("length.dt"+n.namespace)}}},spacer:{style:"empty",spacer:true,text:function(t){return t.i18n("buttons.spacer","")}}});i.Api.register("buttons()",function(t,e){if(e===undefined){e=t;t=undefined}this.selector.buttonGroup=t;var n=this.iterator(true,"table",function(n){if(n._buttons){return f.buttonSelector(f.instanceSelector(t,n._buttons),e)}},true);n._groupSelector=t;return n});i.Api.register("button()",function(t,e){var n=this.buttons(t,e);if(n.length>1){n.splice(1,n.length)}return n});i.Api.registerPlural("buttons().active()","button().active()",function(t){if(t===undefined){return this.map(function(t){return t.inst.active(t.node)})}return this.each(function(e){e.inst.active(e.node,t)})});i.Api.registerPlural("buttons().action()","button().action()",function(t){if(t===undefined){return this.map(function(t){return t.inst.action(t.node)})}return this.each(function(e){e.inst.action(e.node,t)})});i.Api.registerPlural("buttons().collectionRebuild()","button().collectionRebuild()",function(t){return this.each(function(e){for(var n=0;n<t.length;n++){if(typeof t[n]==="object"){t[n].parentConf=e}}e.inst.collectionRebuild(e.node,t)})});i.Api.register(["buttons().enable()","button().enable()"],function(t){return this.each(function(e){e.inst.enable(e.node,t)})});i.Api.register(["buttons().disable()","button().disable()"],function(){return this.each(function(t){t.inst.disable(t.node)})});i.Api.register("button().index()",function(){var t=null;this.each(function(e){var n=e.inst.index(e.node);if(n!==null){t=n}});return t});i.Api.registerPlural("buttons().nodes()","button().node()",function(){var e=t();t(this.each(function(t){e=e.add(t.inst.node(t.node))}));return e});i.Api.registerPlural("buttons().processing()","button().processing()",function(t){if(t===undefined){return this.map(function(t){return t.inst.processing(t.node)})}return this.each(function(e){e.inst.processing(e.node,t)})});i.Api.registerPlural("buttons().text()","button().text()",function(t){if(t===undefined){return this.map(function(t){return t.inst.text(t.node)})}return this.each(function(e){e.inst.text(e.node,t)})});i.Api.registerPlural("buttons().trigger()","button().trigger()",function(){return this.each(function(t){t.inst.node(t.node).trigger("click")})});i.Api.register("button().popover()",function(t,e){return this.map(function(n){return n.inst._popover(t,this.button(this[0].node),e)})});i.Api.register("buttons().containers()",function(){var e=t();var n=this._groupSelector;this.iterator(true,"table",function(t){if(t._buttons){var i=f.instanceSelector(n,t._buttons);for(var o=0,r=i.length;o<r;o++){e=e.add(i[o].container())}}});return e});i.Api.register("buttons().container()",function(){return this.containers().eq(0)});i.Api.register("button().add()",function(t,e,n){var i=this.context;if(i.length){var o=f.instanceSelector(this._groupSelector,i[0]._buttons);if(o.length){o[0].add(e,t,n)}}return this.button(this._groupSelector,t)});i.Api.register("buttons().destroy()",function(){this.pluck("inst").unique().each(function(t){t.destroy()});return this});i.Api.registerPlural("buttons().remove()","buttons().remove()",function(){this.each(function(t){t.inst.remove(t.node)});return this});var c;i.Api.register("buttons.info()",function(e,n,i){var o=this;if(e===false){this.off("destroy.btn-info");l(t("#datatables_buttons_info"),400,function(){t(this).remove()});clearTimeout(c);c=null;return this}if(c){clearTimeout(c)}if(t("#datatables_buttons_info").length){t("#datatables_buttons_info").remove()}e=e?"<h2>"+e+"</h2>":"";u(t('<div id="datatables_buttons_info" class="dt-button-info"/>').html(e).append(t("<div/>")[typeof n==="string"?"html":"append"](n)).css("display","none").appendTo("body"));if(i!==undefined&&i!==0){c=setTimeout(function(){o.buttons.info(false)},i)}this.on("destroy.btn-info",function(){o.buttons.info(false)});return this});i.Api.register("buttons.exportData()",function(t){if(this.context.length){return g(new i.Api(this.context[0]),t)}});i.Api.register("buttons.exportInfo()",function(t){if(!t){t={}}return{filename:d(t,this),title:h(t,this),messageTop:b(this,t,t.message||t.messageTop,"top"),messageBottom:b(this,t,t.messageBottom,"bottom")}});var d=function(e,n){var i=e.filename==="*"&&e.title!=="*"&&e.title!==undefined&&e.title!==null&&e.title!==""?e.title:e.filename;if(typeof i==="function"){i=i(e,n)}if(i===undefined||i===null){return null}if(i.indexOf("*")!==-1){i=i.replace("*",t("head > title").text()).trim()}i=i.replace(/[^a-zA-Z0-9_\u00A1-\uFFFF\.,\-_ !\(\)]/g,"");var o=p(e.extension,e,n);if(!o){o=""}return i+o};var p=function(t,e,n){if(t===null||t===undefined){return null}else if(typeof t==="function"){return t(e,n)}return t};var h=function(e,n){var i=p(e.title,e,n);return i===null?null:i.indexOf("*")!==-1?i.replace("*",t("head > title").text()||"Exported data"):i};var b=function(e,n,i,o){var r=p(i,n,e);if(r===null){return null}var a=t("caption",e.table().container()).eq(0);if(r==="*"){var s=a.css("caption-side");if(s!==o){return null}return a.length?a.text():""}return r};var v=t("<textarea/>")[0];var g=function(e,n){var i=t.extend(true,{},{rows:null,columns:"",modifier:{search:"applied",order:"applied"},orthogonal:"display",stripHtml:true,stripNewlines:true,decodeEntities:true,trim:true,format:{header:function(t){return f.stripData(t,i)},footer:function(t){return f.stripData(t,i)},body:function(t){return f.stripData(t,i)}},customizeData:null},n);var o=e.columns(i.columns).indexes().map(function(t){var n=e.column(t);return i.format.header(n.title(),t,n.header())}).toArray();var r=e.table().footer()?e.columns(i.columns).indexes().map(function(n){var o=e.column(n).footer();return i.format.footer(o?t(".dt-column-title",o).html():"",n,o)}).toArray():null;var a=t.extend({},i.modifier);if(e.select&&typeof e.select.info==="function"&&a.selected===undefined){if(e.rows(i.rows,t.extend({selected:true},a)).any()){t.extend(a,{selected:true})}}var s=e.rows(i.rows,a).indexes().toArray();var u=e.cells(s,i.columns,{order:a.order});var l=u.render(i.orthogonal).toArray();var c=u.nodes().toArray();var d=u.indexes().toArray();var p=o.length;var h=p>0?l.length/p:0;var b=[];var v=0;for(var g=0,m=h;g<m;g++){var y=[p];for(var x=0;x<p;x++){y[x]=i.format.body(l[v],d[g+x].row,d[g+x].column,c[v]);v++}b[g]=y}var C={header:o,headerStructure:e.table().header.structure(i.columns),footer:r,footerStructure:e.table().footer.structure(i.columns),body:b};if(i.customizeData){i.customizeData(C)}return C};t.fn.dataTable.Buttons=f;t.fn.DataTable.Buttons=f;t(n).on("init.dt plugin-init.dt",function(t,e){if(t.namespace!=="dt"){return}var n=e.oInit.buttons||i.defaults.buttons;if(n&&!e._buttons){new f(e,n).container()}});function m(t,e){var n=new i.Api(t);var o=e?e:n.init().buttons||i.defaults.buttons;return new f(n,o).container()}i.ext.feature.push({fnInit:m,cFeature:"B"});if(i.feature){i.feature.register("buttons",m)}return i});
//# sourceMappingURL=dataTables.buttons.js.map