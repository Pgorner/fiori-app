/*!
 * Column visibility buttons for Buttons and DataTables.
 * Â© SpryMedia Ltd - datatables.net/license
 */
(function(n){if(typeof define==="function"&&define.amd){define(["jquery","datatables.net","datatables.net-buttons"],function(e){return n(e,window,document)})}else if(typeof exports==="object"){var e=require("jquery");var t=function(n,e){if(!e.fn.dataTable){require("datatables.net")(n,e)}if(!e.fn.dataTable.Buttons){require("datatables.net-buttons")(n,e)}};if(typeof window==="undefined"){module.exports=function(i,o){if(!i){i=window}if(!o){o=e(i)}t(i,o);return n(o,i,i.document)}}else{t(window,e);module.exports=n(e,window,window.document)}}else{n(jQuery,window,document)}})(function(n,e,t){"use strict";var i=n.fn.dataTable;n.extend(i.ext.buttons,{colvis:function(n,e){var t=null;var i={extend:"collection",init:function(n,e){t=e},text:function(n){return n.i18n("buttons.colvis","Column visibility")},className:"buttons-colvis",closeButton:false,buttons:[{extend:"columnsToggle",columns:e.columns,columnText:e.columnText}]};n.on("column-reorder.dt"+e.namespace,function(){n.button(null,n.button(null,t).node()).collectionRebuild([{extend:"columnsToggle",columns:e.columns,columnText:e.columnText}])});return i},columnsToggle:function(n,e){var t=n.columns(e.columns).indexes().map(function(n){return{extend:"columnToggle",columns:n,columnText:e.columnText}}).toArray();return t},columnToggle:function(n,e){return{extend:"columnVisibility",columns:e.columns,columnText:e.columnText}},columnsVisibility:function(n,e){var t=n.columns(e.columns).indexes().map(function(n){return{extend:"columnVisibility",columns:n,visibility:e.visibility,columnText:e.columnText}}).toArray();return t},columnVisibility:{columns:undefined,text:function(n,e,t){return t._columnText(n,t)},className:"buttons-columnVisibility",action:function(n,e,t,i){var o=e.columns(i.columns);var u=o.visible();o.visible(i.visibility!==undefined?i.visibility:!(u.length?u[0]:false))},init:function(n,e,t){var i=this;e.attr("data-cv-idx",t.columns);n.on("column-visibility.dt"+t.namespace,function(e,o){if(!o.bDestroying&&o.nTable==n.settings()[0].nTable){i.active(n.column(t.columns).visible())}}).on("column-reorder.dt"+t.namespace,function(){if(t.destroying){return}if(n.columns(t.columns).count()!==1){return}i.text(t._columnText(n,t));i.active(n.column(t.columns).visible())});this.active(n.column(t.columns).visible())},destroy:function(n,e,t){n.off("column-visibility.dt"+t.namespace).off("column-reorder.dt"+t.namespace)},_columnText:function(n,e){if(typeof e.text==="string"){return e.text}var t=n.column(e.columns).index();var i=n.settings()[0].aoColumns[t].sTitle;if(!i){i=n.column(t).header().innerHTML}i=i.replace(/\n/g," ").replace(/<br\s*\/?>/gi," ").replace(/<select(.*?)<\/select>/g,"").replace(/<!\-\-.*?\-\->/g,"").replace(/<.*?>/g,"").replace(/^\s+|\s+$/g,"");return e.columnText?e.columnText(n,t,i):i}},colvisRestore:{className:"buttons-colvisRestore",text:function(n){return n.i18n("buttons.colvisRestore","Restore visibility")},init:function(n,e,t){n.columns().every(function(){var n=this.init();if(n.__visOriginal===undefined){n.__visOriginal=this.visible()}})},action:function(n,e,t,i){e.columns().every(function(n){var e=this.init();this.visible(e.__visOriginal)})}},colvisGroup:{className:"buttons-colvisGroup",action:function(n,e,t,i){e.columns(i.show).visible(true,false);e.columns(i.hide).visible(false,false);e.columns.adjust()},show:[],hide:[]}});return i});
//# sourceMappingURL=buttons.colVis.js.map