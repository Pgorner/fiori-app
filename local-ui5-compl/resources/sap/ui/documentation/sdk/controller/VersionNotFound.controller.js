/*!
 * OpenUI5
 * (c) Copyright 2009-2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["./BaseController","sap/ui/thirdparty/jquery","sap/ui/core/Core","sap/ui/documentation/sdk/controller/util/URLUtil","sap/m/library"],function(e,jQuery,t,r,i){"use strict";return e.extend("sap.ui.documentation.sdk.controller.VersionNotFound",{onInit:function(){this._loadVersionInfo().then(this._onVersionInfo.bind(this)).catch(this._onError.bind(this))},onReadMore:function(){i.URLHelper.redirect("https://blogs.sap.com/2021/01/26/removing-outdated-ui5-versions-from-ui5-cdn/")},onHomePress:function(){i.URLHelper.redirect("/")},_onError:function(){var e=this.getView().byId("page");e.setBusy(false);e.setDescription(this._getLibraryResourceBundle().getText("NOT_FOUND_UNAVAILABLE_TEXT"))},_onVersionInfo:function(e){var t=this.getView().byId("page"),n=this.getView().byId("readMoreButton"),o=document.location.href,s,u=r.parseVersion(o),a=this._getPatchInfo(e,u),c=a&&a.removed,d=a&&a.runtimeOnly;t.setBusy(false);if((c||d)&&r.requestsDemokitView(o)){s=r.removeVersion(o);i.URLHelper.redirect(s);return}if(r.hasSEOOptimizedFormat(o)){s=r.convertToNonSEOFormat(o);i.URLHelper.redirect(s);return}if(c){t.setDescription(this._getLibraryResourceBundle().getText("NOT_FOUND_REMOVED_TEXT"));n.setVisible(true)}else if(d){t.setDescription(this._getLibraryResourceBundle().getText("NOT_FOUND_DK_REMOVED_TEXT"));n.setVisible(true)}else{n.setVisible(false);t.setDescription(this._getLibraryResourceBundle().getText("NOT_FOUND_UNAVAILABLE_TEXT"))}},_getPatchInfo:function(e,t){var r=e.patches;return r.find(function(e){return t===e.version})},_getLibraryResourceBundle:function(){return t.getLibraryResourceBundle("sap.ui.documentation")},_loadVersionInfo:function(){return new Promise(function(e,t){jQuery.ajax({async:true,url:"/versionoverview.json",dataType:"json",success:function(t){e(t)},error:function(e){t(e)}})})}})});
//# sourceMappingURL=VersionNotFound.controller.js.map