/*!
 * OpenUI5
 * (c) Copyright 2009-2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/ui/core/EventBus","sap/ui/documentation/sdk/controller/BaseController","sap/ui/model/json/JSONModel","sap/ui/documentation/sdk/controller/util/NewsInfo","sap/m/library"],function(e,t,o,n,s){"use strict";return t.extend("sap.ui.documentation.sdk.controller.News",{onInit:function(){this.getRouter().getRoute("news").attachPatternMatched(this._onMatched,this);this._oModel=new o;this.setModel(this._oModel);n.prepareNewsData(this.getOwnerComponent().getConfigUtil());e.getInstance().subscribe("newsChanged","onDemoKitNewsChanged",this._syncModelWithNewsInfo,this)},onAfterRendering:function(){this._syncModelWithNewsInfo()},handleNewsItemClose:function(e){var t=e.getSource(),o=t.getCustomData()[0].getValue(),s=this._oModel.getProperty("/new").find(function(e){return e.id===o});n.moveNewItemToOld(s)},handleMarkAsRead:function(){n.moveAllNewItemsToOld()},handleVisitLink:function(e){var t=e.getSource(),o=t.getCustomData()[0].getValue();s.URLHelper.redirect(o,true)},_syncModelWithNewsInfo:function(){var e=n.getPreparationFailureMessage();if(!e){this._oModel.setProperty("/new",n.getNewNewsArray().slice());this._oModel.setProperty("/old",n.getOldNewsArray().slice())}this._oModel.setProperty("/preparationFailureMessage",e)},_onMatched:function(){try{this.hideMasterSide()}catch(e){}}})});
//# sourceMappingURL=News.controller.js.map