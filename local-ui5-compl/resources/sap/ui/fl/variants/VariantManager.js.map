{"version":3,"file":"VariantManager.js","names":["sap","ui","define","_difference","merge","ObjectPath","JsControlTreeModifier","Element","Applier","Reverter","FlexObjectFactory","States","VariantManagementState","FlexObjectState","ControlVariantApplyAPI","ControlVariantWriteUtils","UIChangeManager","FlexObjectManager","ContextBasedAdaptationsAPI","Layer","Utils","VariantManager","getVariantModel","oControl","oAppComponent","getAppComponentForControl","getModel","getVariantModelName","async","eraseDirtyChanges","mPropertyBag","aVariantDirtyChanges","model","_getDirtyChangesFromVariantChanges","changes","reverse","revert","revertMultipleChanges","appComponent","modifier","reference","sFlexReference","deleteFlexObjects","flexObjects","executeAfterSwitch","fnCallback","oModel","_oVariantSwitchPromise","catch","then","setVariantSwitchPromise","handleDirtyChanges","oFlexController","aDirtyChanges","sVariantManagementReference","oVariantModel","_bDesignTimeMode","oResponse","saveSequenceOfDirtyChanges","oVariantFlexObject","response","find","oFlexObject","fileType","oAffectedVariant","oData","variants","oVariant","key","fileName","oSupportInformation","instance","getSupportInformation","user","support","setSupportInformation","invalidateMap","getAdaptationId","sLayer","mContextBasedAdaptationBag","layer","control","bHasAdaptationsModel","hasAdaptationsModel","getDisplayedAdaptationId","handleSelectVariant","oEvent","mParameters","mVariantProperties","sVMReference","vmReference","bVariantSwitch","bOldVariantWasModified","get","sTargetVReference","sSourceVReference","currentVariant","updateCurrentVariant","variantManagementReference","newVariantReference","internallyCalled","aControlChanges","getControlChangesForVariant","vReference","callVariantSwitchListeners","bind","getParameters","handleManageEvent","getData","aConfigurationChangesContent","variantsToBeDeleted","aVariantsToBeDeleted","_collectModelChanges","USER","some","oChange","visible","variantReference","getCurrentVariantReference","forEach","oChangeProperties","aNewVariantChanges","addVariantChanges","aVariantDeletionChanges","map","sVariantKey","getVariant","deleteVariant","flat","aChanges","filter","getState","LifecycleState","NEW","oChangePersistence","saveDirtyChanges","handleSaveEvent","oVariantManagementControl","getLocalId","getId","aNewVariantDirtyChanges","sSourceVariantReference","aSourceVariantChanges","overwrite","PUBLIC","setLayer","sVariantLayer","public","sVariantChangeLayer","sNewVariantReference","createDefaultFileName","title","name","contexts","sourceVariantReference","generator","additionalVariantChanges","adaptationId","oBaseChangeProperties","content","def","mPropertyBagSetDefault","changeType","defaultVariant","selector","getSelector","push","createUIChange","execute","mPropertyBagSetExecute","executeOnSelect","aCopiedVariantDirtyChanges","copyVariant","addAndApplyChangesOnVariant","aAddedChanges","addDirtyChanges","reduce","oPreviousPromise","getElementById","getControlIdBySelector","oReturn","applyChangeOnControl","view","getViewForControl","success","oException","error","Error","Promise","resolve","eraseDirtyChangesOnVariant","sVariantReference","aSourceVariantDirtyChanges","oDuplicateVariantData","_duplicateVariant","rename","change","remove","sharing","PRIVATE","setFavorite","favorite","addDirtyFlexObjects","concat","controlChanges","scenario","removeVariant","aChangesToBeDeleted","getDirtyFlexObjects","getVariantReference","variant","component","addVariantChange","createVariantChange","aChangePropertyMaps","mProperties","deleteVariantChange","setVariantProperties","mAdditionalChangeContent","mNewChangeData","undefined","setContent","setText","manageVariants","sClass","oContextSharingComponentPromise","attachEventOnce","fnManageClickRta","openManagementDialog"],"sources":["VariantManager-dbg.js"],"mappings":"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","ignoreList":[]}