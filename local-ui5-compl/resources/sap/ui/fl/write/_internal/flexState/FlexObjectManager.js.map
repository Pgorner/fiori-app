{"version":3,"file":"FlexObjectManager.js","names":["sap","ui","define","_omit","JsControlTreeModifier","Reverter","FlexObjectFactory","States","DependencyHandler","UIChangesState","CompVariantMerger","VariantManagementState","FlexObjectState","FlexState","ManifestUtils","CompVariantState","Storage","Versions","LayerUtils","requireAsync","Utils","FlexObjectManager","getCompVariantEntities","mPropertyBag","aEntities","mCompEntities","getCompVariantsMap","reference","sPersistencyKey","mCompVariantsOfPersistencyKey","sId","byId","push","filterChangeOrChangeDefinitionsByCurrentLayer","currentLayer","updateCompEntities","oDataToRestore","getInitialNonFlCompVariantData","Object","keys","forEach","_initialize","variants","controlId","merge","standardVariant","saveCompEntities","sReference","getFlexReferenceForControl","selector","persistAll","removeFlexObjectFromDependencyHandler","oFlexObject","isValidForDependencyMap","removeChangeFromMap","getLiveDependencyMap","getId","removeChangeFromDependencies","async","saveChangePersistenceEntities","oAppComponent","FlexControllerFactory","oFlexController","createForSelector","saveAll","skipUpdateCache","draft","layer","removeOtherLayerChanges","condenseAnyLayer","getOrCreateFlexObject","vFlexObject","isA","createFromFileContent","filterHiddenFlexObjects","aFlexObjects","aFilteredFlexObjects","getFlexObjects","invalidateCache","update","aRelevantFlexObjects","getVariantIndependentUIChanges","includeCtrlVariants","concat","getInitialUIChanges","includeDirtyChanges","onlyCurrentVariants","getVariantDependentFlexObjects","getAllCurrentFlexObjects","filter","getLayer","hasDirtyFlexObjects","getFlexReferenceForSelector","getDirtyFlexObjects","length","hasDirtyChanges","addDirtyFlexObjects","map","removeDirtyFlexObjects","aLayers","layers","aDirtyFlexObjects","aFlexObjectsToBeRemoved","bChangeValid","includes","generator","getSupportInformation","control","sSelectorId","getControlIdBySelector","getSelector","component","changeTypes","getChangeType","saveFlexObjects","getAppComponentForSelector","version","undefined","hasVersionsModel","oModel","getVersionsModel","getProperty","componentId","deleteFlexObjects","aToBeDeletedFlexObjects","aToBeRemovedDirtyFlexObjects","flexObjects","indexOf","getState","LifecycleState","NEW","markForDeletion","aAddedFlexObjects","oFlexObjectsDataSelector","getFlexObjectsDataSelector","checkUpdate","restoreDeletedFlexObjects","aDeletedFlexObjects","DELETED","restorePreviousState","aDirtyFlexObjectsToBeAdded","PERSISTED","resetFlexObjects","appComponent","mParams","changes","selectorIds","oResponse","reset","aFileNames","response","oChangeContent","fileName","aChangesToRevert","oChange","updateStorageResponse","flexObject","convertToFileContent","type","revertMultipleChanges","reverse","modifier"],"sources":["FlexObjectManager-dbg.js"],"mappings":"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","ignoreList":[]}