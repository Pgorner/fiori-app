/*!
 * OpenUI5
 * (c) Copyright 2009-2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/ui/fl/registry/Settings","sap/ui/fl/write/_internal/Storage","sap/ui/fl/Layer","sap/ui/fl/Utils"],function(e,n,t,r){"use strict";var a={isPublishAvailable(){return e.getInstance().then(function(e){return e.isPublishAvailable()||!e.isProductiveSystem()&&e.isSystemWithTransports()})},isSaveAsAvailable(n){return Promise.all([e.getInstance(),r.getUShellService("Navigation")]).then(function(e){var r=e[0];var a=e[1];return r.isAppVariantSaveAsEnabled()&&n===t.CUSTOMER&&a!==undefined}).catch(function(){return false})},isContextBasedAdaptationAvailable(n){return e.getInstance().then(function(e){if(e.isContextBasedAdaptationEnabled()&&n===t.CUSTOMER){return true}return false})},isKeyUser(){return e.getInstance().then(function(e){return e.isKeyUser()})},isVersioningEnabled(n){return e.getInstance().then(function(e){return e.isVersioningEnabled(n)})},isKeyUserTranslationEnabled(n){if(n===t.CUSTOMER){return e.getInstance().then(function(e){return e.isKeyUserTranslationEnabled()})}return Promise.resolve(false)},isContextSharingEnabled(n){if(n!==t.CUSTOMER){return Promise.resolve(false)}return e.getInstance().then(function(e){return e.isContextSharingEnabled({layer:n})})},async isSeenFeaturesAvailable(){const n=await e.getInstance();return n.isSeenFeaturesAvailable()},async getSeenFeatureIds(e){if(!await this.isSeenFeaturesAvailable()){return[]}return n.getSeenFeatureIds(e)},async setSeenFeatureIds(e){if(!await this.isSeenFeaturesAvailable()){return Promise.reject("The backend does not support saving seen features.")}return n.setSeenFeatureIds(e)}};return a});
//# sourceMappingURL=FeaturesAPI.js.map