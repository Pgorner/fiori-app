{"version":3,"file":"ChangesWriteAPI.js","names":["sap","ui","define","_omit","Log","JsControlTreeModifier","Component","Element","Lib","DescriptorChangeTypes","Applier","Reverter","ChangesUtils","ControlVariantUtils","FlexObjectFactory","States","FlexObjectState","ManifestUtils","DescriptorChangeFactory","ChangeHandlerStorage","AppVariantInlineChangeFactory","ControlVariantWriteUtils","FlexObjectManager","ContextBasedAdaptationsAPI","VersionsAPI","Layer","Utils","ChangesWriteAPI","createDescriptorChange","mPropertyBag","sLayer","changeSpecificData","layer","oInlineChange","changeType","content","texts","createDescriptorInlineChange","then","oAppDescriptorChangeContent","createNew","reference","selector","catch","oError","error","message","async","createAnnotationChange","oChangeHandler","getAnnotationChangeHandler","oFlexObject","completeChangeContent","modifier","appComponent","createAndCompleteFlexObjectWithChangeHandlerInfo","createUIChange","getChangeHandler","getChangeType","controlType","getLayer","oChangeSpecificData","Object","keys","forEach","sKey","warning","view","getViewForControl","setState","LifecycleState","NEW","create","createControllerExtensionChange","oAppComponent","getAppComponentForSelector","sReference","appId","getFlexReferenceForControl","getChangeTypes","includes","annotationChange","mContextBasedAdaptationBag","control","hasAdaptationsModel","adaptationId","getDisplayedAdaptationId","Promise","resolve","name","viewSelector","getSelector","getId","sControlId","id","assign","getControlType","createVariant","mProperties","variantManagementReference","variantReference","variantName","title","CUSTOMER","user","author","DEFAULT_AUTHOR","generator","createFlVariant","apply","element","reject","applyChangeOnControl","change","oResult","aDependentChanges","getOpenDependentChangesForControl","getControlIdBySelector","length","revert","oFlResourceBundle","getResourceBundleFor","sDependentChangesFileNames","map","oChange","join","Error","getText","aResults","mRevertSettings","Array","isArray","revertChangeOnControl","aChanges","slice","reverse","reduce","oPreviousPromise","vResult","unshift","sControlType","appDescriptorChange","deleteVariantsAndRelatedObjects","variantManagementControl","isA","oVariantManagementControl","getAppComponentForControl","sVariantManagementReference","sFlexReference","aDraftFilenames","getDraftFilenames","aDirtyFlexObjectIds","getDirtyFlexObjects","aVariantsToBeDeleted","variants","filter","sVariantID","sVariantId","deleteVariant","flat","restoreDeletedFlexObjects"],"sources":["ChangesWriteAPI-dbg.js"],"mappings":"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","ignoreList":[]}