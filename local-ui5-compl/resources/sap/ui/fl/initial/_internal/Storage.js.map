{"version":3,"file":"Storage.js","names":["sap","ui","define","_merge","FlexInfoSession","storageResultDisassemble","StorageFeaturesMerger","StorageResultMerger","StorageUtils","Layer","_loadFlexDataFromConnectors","mPropertyBag","aConnectors","aConnectorPromises","map","oConnectorConfig","oConnectorSpecificPropertyBag","url","path","oFlexInfoSession","getByReference","reference","layers","indexOf","CUSTOMER","version","initialAllContexts","allContexts","bIsRtaStarting","Object","keys","window","sessionStorage","filter","sKey","startsWith","length","saveChangeKeepSession","maxLayer","adaptationLayer","setByReference","cacheKey","loadConnectorModule","loadFlexData","then","oResponse","getEmptyFlexDataResponse","catch","logAndResolveDefault","bind","undefined","Promise","all","_flattenResponses","aResponses","aFlattenedResponses","forEach","Array","isArray","concat","push","_disassembleVariantSectionsIfNecessary","_flattenAndMergeResultPromise","resolve","merge","_loadFlexDataFromStaticFileConnector","getStaticFileConnector","this","_sendLoadFeaturesToConnector","loadFeatures","features","oFeatures","async","loadVariantsAuthorsFromConnectors","sReference","loadVariantsAuthors","Storage","getLoadConnectors","mergeResults","completeFlexData","reject","partialFlexData","loadFlVariant","oError","aRelevantKeys","reduce","oResult"],"sources":["Storage-dbg.js"],"mappings":";;;;;AAMAA,IAAIC,GAAGC,OAAO,CACb,kCACA,8CACA,uDACA,oDACA,kDACA,2CACA,mBACE,SACFC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,GAEA,aAYA,SAASC,EAA4BC,EAAcC,GAClD,MAAMC,EAAqBD,EAAYE,IAAI,SAASC,GACnD,MAAMC,EAAgC,IAClCL,EACHM,IAAKF,EAAiBE,IACtBC,KAAMH,EAAiBG,MAGxB,MAAMC,EAAmBf,EAAgBgB,eAAeT,EAAaU,WACrE,IACEN,EAAiBO,QAEjBP,EAAiBO,OAAO,KAAO,OAC5BP,EAAiBO,OAAOC,QAAQd,EAAMe,aAAe,EAExD,QACMR,EAA8BS,OACtC,KAAO,CAEN,GAAIN,EAAiBO,mBAAoB,CACxCV,EAA8BW,YAAc,IAC7C,CACA,IAAKX,EAA8BS,SAAWN,EAAiBM,QAAS,CACvET,EAA8BS,QAAUN,EAAiBM,OAC1D,CACD,CACA,MAAMG,IAAmBC,OAAOC,KAAKC,OAAOC,gBAAgBC,OAAQC,GAASA,EAAKC,WAAW,wBAAwBC,OAErH,IAAKR,IAAmBT,EAAiBkB,sBAAuB,QACxDlB,EAAiBM,eACjBN,EAAiBmB,gBACjBnB,EAAiBoB,gBACxBnC,EAAgBoC,eAAerB,EAAkBR,EAAaU,UAC/D,CAEA,GAAIL,EAA8BS,QAAS,QACnCT,EAA8ByB,QACtC,CACA,OAAO1B,EAAiB2B,oBAAoBC,aAAa3B,GACxD4B,KAAK,SAASC,GAEd,OAAOA,GAAarC,EAAasC,0BAClC,GACCC,MAAMvC,EAAawC,qBAAqBC,KACxCC,UACA1C,EAAasC,2BACb/B,EACA,gBAEF,GAEA,OAAOoC,QAAQC,IAAIvC,EACpB,CAEA,SAASwC,EAAkBC,GAC1B,IAAIC,EAAsB,GAE1BD,EAAWE,QAAQ,SAASX,GAC3B,GAAIY,MAAMC,QAAQb,GAAY,CAC7BU,EAAsBA,EAAoBI,OAAOd,EAClD,KAAO,CACNU,EAAoBK,KAAKf,EAC1B,CACD,GAEA,OAAOU,CACR,CAEA,SAASM,EAAuCP,GAC/C,OAAOA,EAAWxC,IAAI,SAAS+B,GAC9B,OAAOxC,EAAyBwC,EACjC,EACD,CAEA,SAASiB,EAA8BR,GACtC,OAAOH,QAAQY,QAAQT,GACtBV,KAAKS,GACLT,KAAKiB,GACLjB,KAAKS,GACLT,KAAKrC,EAAoByD,MAC3B,CAEA,SAASC,EAAqCtD,GAC7C,OAAOH,EAAa0D,yBAAyBtB,KAAKlC,EAA4BuC,KAAKkB,KAAMxD,GAC1F,CAEA,SAASyD,EAA6BxD,GACrC,IAAIC,EAAqBD,EAAYE,IAAI,SAASC,GAEjD,IAAKA,GAAkB2B,qBAAqB2B,aAAc,CACzD,OAAOlB,QAAQY,QAAQvD,EAAawC,qBAAqB,CACxDsB,SAAU,CAAC,EACXhD,OAAQP,EAAiBO,QACvBP,EAAkB,gBACtB,CACA,OAAOA,EAAiB2B,oBAAoB2B,aAAa,CAACpD,IAAKF,EAAiBE,MAC/E2B,KAAK,SAAS2B,GACd,MAAO,CACND,SAAUC,EACVjD,OAAQP,EAAiBO,OAE3B,GACCyB,MAAMvC,EAAawC,qBAAqBC,KAAK,KAAM,CACnDqB,SAAU,CAAC,EACXhD,OAAQP,EAAiBO,QACvBP,EAAkB,gBACtB,GAEA,OAAOoC,QAAQC,IAAIvC,EACpB,CAEA2D,eAAeC,EAAkCC,EAAY9D,GAC5D,MAAM0C,QAAmBH,QAAQC,IAAIxC,EAAYE,IAAI,SAASC,GAE7D,IAAKA,GAAkB2B,qBAAqBiC,oBAAqB,CAChE,OAAOxB,QAAQY,QAAQvD,EAAawC,qBAAqB,CAAC,EAAGjC,EAAkB,uBAChF,CACA,MAAMC,EAAgC,CACrCK,UAAWqD,EACXzD,IAAKF,EAAiBE,KAEvB,OAAOF,EAAiB2B,oBAAoBiC,oBAAoB3D,GAC/D4B,KAAMC,GAAcA,GAAa,CAAC,GAClCE,MAAMvC,EAAawC,qBAAqBC,KACxCC,UACA,CAAC,EACDnC,EACA,uBAEF,IACA,OAAOZ,EAAO,CAAC,KAAMmD,EACtB,CAEA,IAAIsB,EAAU,CAAC,EAOfA,EAAQP,aAAe,WACtB,OAAO7D,EAAaqE,oBACnBjC,KAAKwB,GACLxB,KAAKtC,EAAsBwE,aAC7B,EAWAF,EAAQG,iBAAmB,SAASpE,GACnC,IAAKA,IAAiBA,EAAaU,UAAW,CAC7C,OAAO8B,QAAQ6B,OAAO,4BACvB,CAEA,OAAO7B,QAAQC,IAAI,CAACa,EAAqCtD,GAAeA,EAAasE,kBACpFrC,KAAKkB,EACP,EAcAc,EAAQjC,aAAe,SAAShC,GAC/B,IAAKA,IAAiBA,EAAaU,UAAW,CAC7C,OAAO8B,QAAQ6B,OAAO,4BACvB,CAEA,OAAOxE,EAAaqE,oBACnBjC,KAAKlC,EAA4BuC,KAAKkB,KAAMxD,IAC5CiC,KAAKkB,EACP,EAQAc,EAAQD,oBAAsB,SAASD,GACtC,IAAKA,EAAY,CAChB,OAAOvB,QAAQ6B,OAAO,4BACvB,CACA,OAAOxE,EAAaqE,oBACnBjC,KAAK6B,EAAkCxB,KAAKkB,KAAMO,GACpD,EAUAE,EAAQM,cAAgBV,eAAe7D,GACtC,MAAMC,QAAoBJ,EAAaqE,oBACvC,MAAMvB,EAAa,GACnB,IAAK,MAAMvC,KAAoBH,EAAa,CAC3C,GAAIG,GAAkB2B,qBAAqBwC,cAAe,CACzD,MAAMlE,EAAgC,IAClCL,EACHM,IAAKF,EAAiBE,IACtBK,OAAQP,EAAiBO,QAE1B,IACCgC,EAAWM,WAAW7C,EAAiB2B,oBAAoBwC,cAAclE,GAC1E,CAAE,MAAOmE,GACR7B,EAAWM,KAAK,CAAC,EAClB,CACD,CACD,CACA,MAAMwB,EAAgB,CAAC,WAAY,iBAAkB,kCACrD,OAAO9B,EAAW+B,OAAO,CAACC,EAASzC,KAClCuC,EAAc5B,QAAStB,IACtB,GAAIW,EAAUX,GAAO,CACpBoD,EAAQpD,GAAQ,IAAKoD,EAAQpD,IAAS,MAAQW,EAAUX,GACzD,IAED,OAAOoD,CAAO,EACZ,CAAC,EACL,EAEA,OAAOV,CACR","ignoreList":[]}