/*!
 * OpenUI5
 * (c) Copyright 2009-2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/base/util/merge","sap/ui/fl/apply/_internal/flexObjects/FlexObjectFactory","sap/ui/fl/write/_internal/flexState/changes/UIChangeManager","sap/ui/fl/ChangePersistenceFactory","sap/ui/fl/Utils"],function(e,t,n,r,i){"use strict";var a=function(e,t){this._mChangeFile=e;this._mChangeFile.packageName="";this._oInlineChange=t};a.prototype.submit=function(){this.store();var e=this._getChangePersistence(this._mChangeFile.reference);return e.saveDirtyChanges()};a.prototype.store=function(){const e=this._mChangeFile.reference;const t=i.getComponentForControl(this._mChangeFile.selector);const r=this._getChangeToSubmit();n.addDirtyChanges(e,[r],t);return r};a.prototype._getChangePersistence=function(e){return r.getChangePersistenceForComponent(e)};a.prototype._getChangeToSubmit=function(){return t.createAppDescriptorChange(this._getMap())};a.prototype._getMap=function(){var e=this._oInlineChange.getMap();this._mChangeFile.content=e.content;this._mChangeFile.texts=e.texts;return this._mChangeFile};a.prototype.getJson=function(){return e({},this._getMap())};var o=function(){};o.prototype.createNew=function(e,t,n,r,i){if(t.setHostingIdForTextKey){t.setHostingIdForTextKey(e)}var o={};const s=t.getMap();o.changeType=s.changeType;o.fileName=t.fileName;o.componentName=e;o.reference=e;o.generator=i;o.support=s.support;o.layer=n||"CUSTOMER";return Promise.resolve(new a(o,t))};return o});
//# sourceMappingURL=DescriptorChangeFactory.js.map