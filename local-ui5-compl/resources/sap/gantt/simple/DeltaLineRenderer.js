/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)

		(c) Copyright 2009-2015 SAP SE. All rights reserved
	
 */
sap.ui.define(["sap/gantt/simple/BaseLine","sap/gantt/simple/BaseTriangle","sap/gantt/simple/BaseDeltaRectangle","sap/gantt/misc/Format","sap/ui/core/theming/Parameters","sap/ui/core/Core","sap/gantt/utils/GanttChartConfigurationUtils"],function(e,t,r,a,i,s,o){"use strict";var n={apiVersion:2};n.renderDeltaLineHeader=function(s,n,g,l,p){var u=g.getAxisTime();var y=o.getRTL();var d=u.timeToView(a.abapTimestampToDate(y?n.getEndTimeStamp():n.getTimeStamp()));var m=u.timeToView(a.abapTimestampToDate(y?n.getTimeStamp():n.getEndTimeStamp()));var h=n.getProperty("description");if(g.getEnableDeltaLine()===false||isNaN(d)||isNaN(m)){return}else{var k=10;var f=4;var v=6;n._setEnableChartDeltaAreaHighlight(g.getEnableChartDeltaAreaHighlight());var P;var S;var c;var D;var T;var E=n.getStrokeDasharray();var L=n._getStrokeWidth();var C=Math.abs(m-d);C=C<=0?1:C;if(C<v){c=(m+d)/2;P=c-v;S=c+v;D=1;T=i.get("sapUiChartDataPointBorderColor");n._setVisibleMarker(true)}else{P=d;S=m;D=0;n._setVisibleMarker(false);T=null}if(n._getIsSelected()===true){D=1;T=i.get("sapUiChartDataPointBorderColor");E="solid";L=L+1}var w;var x=l-p;w=x+2+(n._getLevel()-1)*6;var _=n._getHeaderDeltaArea();if(!_){_=new r({id:n.getId()+"-headerDeltaArea",x:d,y:w,height:f,width:Math.abs(m-d),fill:n.getStroke(),hoverable:true,press:function(e){n.press(e);n.firePress(e)},mouseEnter:function(e){n.mouseEnter(e);n.fireMouseEnter(e)},mouseLeave:function(e){n.mouseLeave(e);n.fireMouseLeave(e)}}).addStyleClass("sapGanntChartMarkerCursorPointer");if(h){_.setAggregation("tooltip",h,true)}n._setHeaderDeltaArea(_)}else{_.setProperty("fill",n.getStroke(),true);_.setProperty("x",d,true);_.setProperty("width",Math.abs(m-d),true);_.setProperty("y",w,true);if(h){_.setAggregation("tooltip",h,true)}}_.renderElement(s,_);var A=n._getHeaderStartLine();if(!A){A=new e({x1:d,y1:w,x2:d,y2:w+p,stroke:n.getStroke(),strokeWidth:L,strokeDasharray:E,strokeOpacity:n.getStrokeOpacity(),tooltip:h});n._setHeaderStartLine(A)}else{A.setProperty("stroke",n.getStroke(),true);A.setProperty("x1",d,true);A.setProperty("x2",d,true);A.setProperty("y1",w,true);A.setProperty("y2",w+p,true);A.setProperty("strokeDasharray",E,true);A.setProperty("strokeWidth",L,true);A.setAggregation("tooltip",h,true)}if(n.getVisibleDeltaStartEndLines()){A.renderElement(s,A)}var b=n._getHeaderEndLine();if(!b){b=new e({x1:m,y1:w,x2:m,y2:w+p,stroke:n.getStroke(),strokeWidth:L,strokeDasharray:E,strokeOpacity:n.getStrokeOpacity(),tooltip:h});n._setHeaderEndLine(b)}else{b.setProperty("stroke",n.getStroke(),true);b.setProperty("x1",m,true);b.setProperty("x2",m,true);b.setProperty("y1",w,true);b.setProperty("y2",w+p,true);b.setProperty("strokeDasharray",E,true);b.setProperty("strokeWidth",L,true);b.setAggregation("tooltip",h,true)}if(n.getVisibleDeltaStartEndLines()){b.renderElement(s,b)}var M=n._getForwardMarker();if(!M){M=new t({x:P,y:0,height:k,width:v,stroke:T,rowYCenter:w-3,fill:n.getStroke(),fillOpacity:D,orientation:"right",hoverable:true,press:function(e){n.press(e);n.firePress(e)},mouseEnter:function(e){n.mouseEnter(e);n.fireMouseEnter(e)},mouseLeave:function(e){n.mouseLeave(e);n.fireMouseLeave(e)}}).addStyleClass("sapGanntChartMarkerCursorPointer");if(h){M.setAggregation("tooltip",h,true)}n._setForwardMarker(M)}else{M.setProperty("x",P,true);M.setProperty("fillOpacity",D,true);M.setProperty("rowYCenter",w-3,true);M.setProperty("stroke",T,true);if(h){M.setAggregation("tooltip",h,true)}}M.renderElement(s,M);var V=n._getBackwardMarker();if(!V){V=new t({x:S,y:0,height:k,width:v,stroke:T,rowYCenter:w-3,fill:n.getStroke(),fillOpacity:D,orientation:"left",hoverable:true,press:function(e){n.press(e);n.firePress(e)},mouseEnter:function(e){n.mouseEnter(e);n.fireMouseEnter(e)},mouseLeave:function(e){n.mouseLeave(e);n.fireMouseLeave(e)}}).addStyleClass("sapGanntChartMarkerCursorPointer");if(h){V.setAggregation("tooltip",h,true)}n._setBackwardMarker(V)}else{V.setProperty("x",S,true);V.setProperty("fillOpacity",D,true);V.setProperty("rowYCenter",w-3,true);V.setProperty("stroke",T,true);if(h){V.setAggregation("tooltip",h,true)}}V.renderElement(s,V)}};n.renderDeltaLines=function(t,r,i){var s=i.getAxisTime();var n=o.getRTL();var g=s.timeToView(a.abapTimestampToDate(n?r.getEndTimeStamp():r.getTimeStamp()));var l=s.timeToView(a.abapTimestampToDate(n?r.getTimeStamp():r.getEndTimeStamp()));var p=r.getStrokeDasharray();var u=r._getStrokeWidth();if(r._getIsSelected()===true){p="solid";u=u+1}var y=r.getDescription();var d=r._getStartLine();if(!d){d=new e({x1:g,y1:0,x2:g,y2:"100%",stroke:r.getStroke(),strokeWidth:u,strokeDasharray:p,strokeOpacity:r.getStrokeOpacity(),tooltip:y});r._setStartLine(d)}else{d.setProperty("stroke",r.getStroke(),true);d.setProperty("x1",g,true);d.setProperty("x2",g,true);d.setProperty("strokeDasharray",p,true);d.setProperty("strokeWidth",u,true);d.setAggregation("tooltip",y,true)}if(r.getVisibleDeltaStartEndLines()){d.renderElement(t,d)}var m=r._getEndLine();if(!m){m=new e({x1:l,y1:0,x2:l,y2:"100%",stroke:r.getStroke(),strokeWidth:u,strokeDasharray:p,strokeOpacity:r.getStrokeOpacity(),tooltip:y});r._setEndLine(m)}else{m.setProperty("stroke",r.getStroke(),true);m.setProperty("x1",l,true);m.setProperty("x2",l,true);m.setProperty("strokeDasharray",p,true);m.setProperty("strokeWidth",u,true);m.setAggregation("tooltip",y,true)}if(r.getVisibleDeltaStartEndLines()){m.renderElement(t,m)}};n.renderChartAreaOfDeltaLines=function(e,t,i){var s=i.getAxisTime();var n=o.getRTL();var g=s.timeToView(a.abapTimestampToDate(n?t.getEndTimeStamp():t.getTimeStamp()));var l=s.timeToView(a.abapTimestampToDate(n?t.getTimeStamp():t.getEndTimeStamp()));var p=0;if(t._getIsSelected()===true){p=1}var u=t._getChartDeltaArea();var y=Math.abs(l-g);var d=y-(t.getVisibleDeltaStartEndLines()&&y>=2?2:0);if(i.getDeltaAreaHighlightColor()===""){i.setDeltaAreaHighlightColor("@sapUiListSelectionBackgroundColor")}if(!u){u=new r({x:g+1,y:0,height:"100%",width:d,fill:i.getDeltaAreaHighlightColor(),opacity:p});t._setChartDeltaArea(u)}else{u.setProperty("x",g+1,true);u.setProperty("width",d,true);u.setProperty("opacity",p,true)}u.renderElement(e,u)};return n},true);
//# sourceMappingURL=DeltaLineRenderer.js.map