{"version":3,"file":"GanttLassoExtension.js","names":["sap","ui","define","jQuery","KeyCodes","GanttExtension","CoordinateUtils","Utility","_sNamespace","LassoHelper","addEventListeners","oGantt","this","removeEventListeners","oExtension","_getLassoExtension","lassoDoms","rowArea","on","beforeLasso","bind","off","addLassoEventListeners","removeLassoEventListeners","$gantt","getDomRefs","gantt","onMousemove","endLasso","onKeydown","GanttLassoExtension","extend","_init","mSettings","_initLassoStates","_attachEvents","getGantt","_detachEvents","prototype","mDom","_oLassoStartPoint","_bLassoDrawing","getSvgElement","ganttSvg","_getShapeConnectRootNode","$lassoContainer","lasso","d3","select","get","rect","x","y","w","h","_getLassoData","oSvgPoint","iLassoX1","iLassoX2","iLassoY1","iLassoY2","oLassoData","class","d","fill","stroke","createLasso","getD3Doms","lassoRect","empty","oShapeConnectRootNode","append","attr","isLassoDrawing","oEvent","button","getSelection","sSelectionMode","SelectionMode","MultiWithKeyboardAndLasso","MultipleWithLasso","oSvg","getEventSVGPoint","ctrlKey","metaKey","_bDeselectShapes","setSelectedShapeUid","onLassoDrawing","shapeInLasso","iShapeX1","iShapeX2","iShapeY1","iShapeY2","getShapeElementByTarget","target","getDraggableDOMElement","control","closest","selectAll","remove","oStartPoint","oCurrentShape","sShapeUid","mBias","bInvert","getEnableLassoInvert","aSelectedShapes","getSelectedShapeUid","aAllShapesInLasso","aAlreadySelectedVisibleShapesInLasso","$oSvg","aVisibleShapes","find","toArray","aVisibleRelations","bIsShapeSelectable","forEach","oBaseShape","i","classList","contains","getSelectable","getShapeBias","sTransform","getAttribute","aBias","slice","indexOf","split","length","parseFloat","getShapeUid","getParentRowSettings","getBBox","width","height","bShapeInLasso","iShapeAlreadySelected","bShapeAlreadySelected","push","aShapeUids","toString","_bSupressShapeChangeEvent","keyCode","ESCAPE","$svg","$lassoArea","$rowArea","oNode"],"sources":["GanttLassoExtension-dbg.js"],"mappings":"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","ignoreList":[]}