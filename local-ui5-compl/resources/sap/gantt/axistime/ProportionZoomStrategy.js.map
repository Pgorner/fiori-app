{"version":3,"file":"ProportionZoomStrategy.js","names":["sap","ui","define","Log","library","ObjectPath","AxisTimeStrategyBase","Utility","Format","TimeHorizon","ProportionTimeLineOptions","ProportionZoomStrategy","extend","metadata","properties","enableMillisecondSupport","type","defaultValue","bindable","prototype","init","this","_aZoomRate","Array","setProperty","_disableAutoProportion","applySettings","mSettings","_applyMissingSettings","call","initialSettings","setVisibleHorizon","oVisibleHorizon","setVisibleHorizonWithReason","setEnableMillisecondSupport","bValue","_setEnableMillisecondSupport","getEnableMillisecondSupport","sReasonCode","oOriginEvent","subReasonCode","getStartTime","getEndTime","_bHorizontalScroll","oLastVisibleHorizon","getVisibleHorizon","clone","_setVisibleHorizon","apply","arguments","fireRedrawRequest","setTotalHorizon","oTotalHorizon","_setTotalHorizon","getAxisTime","calZoomBase","createAxisTime","getLocale","updateStopInfo","oStopInfo","setZoomLevel","index","iZoomLevel","performance","mark","visibleHorizonUpdateSubType","gantt","simple","VisibleHorizonUpdateSubType","getZoomLevel","ZoomIn","ZoomOut","oNewVisibleHorizon","calVisibleHorizonByRate","setZoomLevels","iZoomLevels","_updateZoomRateOnStops","syncContext","nClientWidth","bAxisTimeNeedChange","bZoomBoundaryConditionChange","oRetVal","zoomLevel","undefined","axisTimeChanged","iLastGanttVisibleWidth","getParent","_iLastVisibleWidth","iOriginalVisibleWidth","getGanttVisibleWidth","_updateVisibleHorizon","oDeterminedByStrategy","_determineZoomBoundaryByStrategy","oDeterminedByChartWidth","_determineZoomRateByChartWidth","updateGanttVisibleWidth","fLastMinRate","_oZoom","minRate","Math","max","fLastMaxRate","maxRate","fLastRate","rate","floatEqual","_adjustRateByBoundary","suitableRate","iLastZoomLevel","_calcZoomLevelFromZoomRate","bZoomLevelChanged","_isDisplayTypeChanged","setZoomRate","_updateTimeLineOption","setDisableAutoProportion","oOriginalVisibleHorizon","oCurrentVisibleHorizon","calculateHorizonByWidth","updateInitialVisibleHorizon","visibleHorizon","initialZoomLevel","min","fMaxRate","fMinRate","iSteps","getZoomLevels","_oLog","fMax","log","fMin","fStep","i","pow","E","fRate","round","base","oCoarsestTimeLineOption","getCoarsestTimeLineOption","oFinestTimeLineOption","getFinestTimeLineOption","scale","calZoomScale","innerInterval","unit","span","_getTimeLineRange","getTotalHorizon","judgeTimeHorizonValidity","setStartTime","setEndTime","warning","fMinScale","calZoomScaleByDate","abapTimestampToDate","iVisibleHorizonStartTime","iVisibleHorizonEndTime","fSuitableScale","startTime","getTimeStampFormatter","parse","iCurrentTickKey","oTimeLineOptions","getTimeLineOptions","oTimeLineOption","getProperty","oAxisTime","start","timeToView","continuousScale","interval","end","get","offset","r","abs","ceil","selector","onSetTimeZoomRate","fTimeZoomRate","getCurrentVisibleHorizon","_completeTimeHorizon","getRenderedVisibleHorizon","oGantt","oRenderedTimeRange","getRenderedTimeRange","oRenderedVisibleHorizon","endTime"],"sources":["ProportionZoomStrategy-dbg.js"],"mappings":"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","ignoreList":[]}