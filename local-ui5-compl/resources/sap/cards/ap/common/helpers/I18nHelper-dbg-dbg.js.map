{"version":3,"file":"I18nHelper-dbg-dbg.js","names":["sap","ui","define","resolvei18nText","i18nKey","resourceBundle","startsWith","endsWith","key","slice","getText","updateGroups","groups","forEach","group","title","items","item","label","value","resolvei18nTextsForIntegrationCard","cardManifest","sapApp","sapCard","appTitle","subTitle","appSubTitle","header","headerTitle","headerSubTitle","mainIndicator","content","includes","split","map","part","index","join","unit","number","__exports","__esModule"],"sources":["I18nHelper.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\nimport ResourceBundle from \"sap/base/i18n/ResourceBundle\";\nimport type { CardManifest, Group, ObjectContent } from \"sap/ui/integration/widgets/Card\";\n\n/**\n *  Resolves i18n text for a given key.\n *\n *  @param {string} i18nKey  having unresolved i18n keys\n *  @param {ResourceBundle} resourceBundle - The resource bundle containing i18n values.\n *  @return {string} - The resolved i18n text.\n */\nconst resolvei18nText = function (i18nKey: string, resourceBundle: ResourceBundle): string {\n\tif (i18nKey.startsWith(\"{{\") && i18nKey.endsWith(\"}}\")) {\n\t\tconst key = i18nKey.slice(2, -2); // Remove the leading \"{{\" and trailing \"}}\"\n\t\treturn resourceBundle.getText(key) || key;\n\t}\n\n\treturn i18nKey;\n};\n\n/**\n * Updates groups with resolved i18n texts.\n *\n * @param {Array<Group>} groups - The groups to update.\n * @param {ResourceBundle} resourceBundle - The resource bundle containing i18n values.\n */\nconst updateGroups = function (groups: Array<Group>, resourceBundle: ResourceBundle) {\n\tgroups.forEach(function (group) {\n\t\tconst { title } = group;\n\t\tgroup.title = resolvei18nText(title, resourceBundle);\n\t\tgroup.items.forEach(function (item) {\n\t\t\tconst { label, value } = item;\n\n\t\t\titem.label = resolvei18nText(label, resourceBundle);\n\t\t\titem.value = resolvei18nText(value, resourceBundle);\n\t\t});\n\t});\n};\n\n/**\n * Resolves i18n texts for an integration card manifest.\n *\n * @param {CardManifest} cardManifest - The manifest with unresolved i18n keys.\n * @param {ResourceBundle} resourceBundle - The resource bundle containing i18n values.\n * @return {CardManifest} - The updated manifest with resolved i18n keys.\n */\nexport const resolvei18nTextsForIntegrationCard = function (cardManifest: CardManifest, resourceBundle: ResourceBundle): CardManifest {\n\tconst { \"sap.app\": sapApp, \"sap.card\": sapCard } = cardManifest;\n\tconst { title: appTitle, subTitle: appSubTitle } = sapApp;\n\tconst { header } = sapCard;\n\tconst { title: headerTitle, subTitle: headerSubTitle, mainIndicator } = header;\n\tconst groups = (sapCard.content as ObjectContent).groups;\n\n\tsapApp.title = resolvei18nText(appTitle, resourceBundle);\n\tsapApp.subTitle = appSubTitle.includes(\" | \")\n\t\t? appSubTitle\n\t\t\t\t.split(\" | \")\n\t\t\t\t.map((part, index) => (index === 0 ? resolvei18nText(part, resourceBundle) : part))\n\t\t\t\t.join(\" | \")\n\t\t: resolvei18nText(appSubTitle, resourceBundle);\n\theader.title = resolvei18nText(headerTitle!, resourceBundle);\n\theader.subTitle = resolvei18nText(headerSubTitle!, resourceBundle);\n\n\tif (mainIndicator) {\n\t\tconst { unit, number } = mainIndicator;\n\t\tif (unit) {\n\t\t\tmainIndicator.unit = resolvei18nText(unit, resourceBundle);\n\t\t}\n\t\tif (number) {\n\t\t\tmainIndicator.number = resolvei18nText(number, resourceBundle);\n\t\t}\n\t}\n\n\tupdateGroups(groups, resourceBundle);\n\n\treturn cardManifest;\n};\n"],"mappings":"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","ignoreList":[]}