{"version":3,"file":"NavigationProperty-dbg-dbg.js","names":["sap","ui","define","___odata_ODataUtils","___ApplicationInfo","___Batch","___Formatter","getNavigationPropertiesWithLabel","rootComponent","navigationProperty","path","model","getModel","entitySet","serviceUrl","odataModel","ApplicationInfo","getInstance","fetchDetails","bODataV4","ODataModelVersion","V4","navigationPropertyInfo","getNavigationPropertyInfoFromEntity","selectedNavigationProperty","find","property","name","Promise","resolve","propertiesWithLabel","navigationPropertyData","properties","queryParams","navigationProperties","fetchDataAsync","createUrlParameters","then","data","undefined","forEach","propertyValue","labelWithValue","formatPropertyDropdownValues","label","e","reject","__exports","__esModule"],"sources":["NavigationProperty.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\nimport Component from \"sap/ui/core/Component\";\nimport V2ODataModel from \"sap/ui/model/odata/v2/ODataModel\";\nimport V4ODataModel from \"sap/ui/model/odata/v4/ODataModel\";\nimport { PropertyInfo } from \"../odata/ODataTypes\";\nimport { fetchDataAsync, getNavigationPropertyInfoFromEntity } from \"../odata/ODataUtils\";\nimport { ApplicationInfo, ODataModelVersion } from \"./ApplicationInfo\";\nimport { QueryParameters, createUrlParameters } from \"./Batch\";\nimport { formatPropertyDropdownValues } from \"./Formatter\";\n\ntype Model = V2ODataModel | V4ODataModel;\n\n/**\n * Fetches the navigation properties with label for a single Navigation property\n * @param rootComponent\n * @param navigationProperty - Name of the navigation property\n * @param path\n */\nexport async function getNavigationPropertiesWithLabel(rootComponent: Component, navigationProperty: string, path: string) {\n\tconst model = rootComponent.getModel() as Model;\n\tconst { entitySet, serviceUrl, odataModel } = ApplicationInfo.getInstance().fetchDetails();\n\tconst bODataV4 = odataModel === ODataModelVersion.V4;\n\tconst navigationPropertyInfo = getNavigationPropertyInfoFromEntity(model, entitySet);\n\tconst selectedNavigationProperty = navigationPropertyInfo.find((property) => property.name === navigationProperty);\n\n\tif (!selectedNavigationProperty) {\n\t\treturn {\n\t\t\tpropertiesWithLabel: [],\n\t\t\tnavigationPropertyData: {}\n\t\t};\n\t}\n\n\tconst properties = selectedNavigationProperty.properties || [];\n\tconst queryParams: QueryParameters = {\n\t\tproperties: [],\n\t\tnavigationProperties: [\n\t\t\t{\n\t\t\t\tname: selectedNavigationProperty.name,\n\t\t\t\tproperties: []\n\t\t\t}\n\t\t]\n\t};\n\n\tconst data = await fetchDataAsync(serviceUrl, path, bODataV4, createUrlParameters(queryParams));\n\n\tif (data[selectedNavigationProperty.name] !== undefined && data[selectedNavigationProperty.name] !== null) {\n\t\tproperties.forEach((property: PropertyInfo) => {\n\t\t\tconst name = data[selectedNavigationProperty.name] as Record<string, unknown>;\n\t\t\tif (name[property.name] !== undefined && name[property.name] !== null) {\n\t\t\t\tconst propertyValue = name[property.name] as string;\n\t\t\t\tproperty.labelWithValue = formatPropertyDropdownValues(property, propertyValue);\n\t\t\t} else {\n\t\t\t\tproperty.labelWithValue = `${property.label} (<empty>)`;\n\t\t\t}\n\t\t});\n\t}\n\n\treturn {\n\t\tpropertiesWithLabel: properties,\n\t\tnavigationPropertyData: data\n\t};\n}\n"],"mappings":"AAAA;AACA;AACA;AACA;AAHA;;AAAAA,GAAA,CAAAC,EAAA,CAAAC,MAAA,mFAAAC,mBAAA,EAAAC,kBAAA,EAAAC,QAAA,EAAAC,YAAA;EAAA;;EAeA;AACA;AACA;AACA;AACA;AACA;EALA,MAMsBC,gCAAgC,YAAAA,CAACC,aAAwB,EAAEC,kBAA0B,EAAEC,IAAY;IAAA,IAAE;MAC1H,MAAMC,KAAK,GAAGH,aAAa,CAACI,QAAQ,CAAC,CAAU;MAC/C,MAAM;QAAEC,SAAS;QAAEC,UAAU;QAAEC;MAAW,CAAC,GAAGC,eAAe,CAACC,WAAW,CAAC,CAAC,CAACC,YAAY,CAAC,CAAC;MAC1F,MAAMC,QAAQ,GAAGJ,UAAU,KAAKK,iBAAiB,CAACC,EAAE;MACpD,MAAMC,sBAAsB,GAAGC,mCAAmC,CAACZ,KAAK,EAAEE,SAAS,CAAC;MACpF,MAAMW,0BAA0B,GAAGF,sBAAsB,CAACG,IAAI,CAAEC,QAAQ,IAAKA,QAAQ,CAACC,IAAI,KAAKlB,kBAAkB,CAAC;MAElH,IAAI,CAACe,0BAA0B,EAAE;QAChC,OAAAI,OAAA,CAAAC,OAAA,CAAO;UACNC,mBAAmB,EAAE,EAAE;UACvBC,sBAAsB,EAAE,CAAC;QAC1B,CAAC;MACF;MAEA,MAAMC,UAAU,GAAGR,0BAA0B,CAACQ,UAAU,IAAI,EAAE;MAC9D,MAAMC,WAA4B,GAAG;QACpCD,UAAU,EAAE,EAAE;QACdE,oBAAoB,EAAE,CACrB;UACCP,IAAI,EAAEH,0BAA0B,CAACG,IAAI;UACrCK,UAAU,EAAE;QACb,CAAC;MAEH,CAAC;MAAC,OAAAJ,OAAA,CAAAC,OAAA,CAEiBM,cAAc,CAACrB,UAAU,EAAEJ,IAAI,EAAES,QAAQ,EAAEiB,mBAAmB,CAACH,WAAW,CAAC,CAAC,EAAAI,IAAA,WAAzFC,IAAI;QAEV,IAAIA,IAAI,CAACd,0BAA0B,CAACG,IAAI,CAAC,KAAKY,SAAS,IAAID,IAAI,CAACd,0BAA0B,CAACG,IAAI,CAAC,KAAK,IAAI,EAAE;UAC1GK,UAAU,CAACQ,OAAO,CAAEd,QAAsB,IAAK;YAC9C,MAAMC,IAAI,GAAGW,IAAI,CAACd,0BAA0B,CAACG,IAAI,CAA4B;YAC7E,IAAIA,IAAI,CAACD,QAAQ,CAACC,IAAI,CAAC,KAAKY,SAAS,IAAIZ,IAAI,CAACD,QAAQ,CAACC,IAAI,CAAC,KAAK,IAAI,EAAE;cACtE,MAAMc,aAAa,GAAGd,IAAI,CAACD,QAAQ,CAACC,IAAI,CAAW;cACnDD,QAAQ,CAACgB,cAAc,GAAGC,4BAA4B,CAACjB,QAAQ,EAAEe,aAAa,CAAC;YAChF,CAAC,MAAM;cACNf,QAAQ,CAACgB,cAAc,GAAG,GAAGhB,QAAQ,CAACkB,KAAK,YAAY;YACxD;UACD,CAAC,CAAC;QACH;QAEA,OAAO;UACNd,mBAAmB,EAAEE,UAAU;UAC/BD,sBAAsB,EAAEO;QACzB,CAAC;MAAC;IACH,CAAC,QAAAO,CAAA;MAAA,OAAAjB,OAAA,CAAAkB,MAAA,CAAAD,CAAA;IAAA;EAAA;EAAA,MAxDQV,cAAc,GAAAhC,mBAAA;EAAA,MAAEoB,mCAAmC,GAAApB,mBAAA;EAAA,MACnDa,eAAe,GAAAZ,kBAAA;EAAA,MAAEgB,iBAAiB,GAAAhB,kBAAA;EAAA,MACjBgC,mBAAmB,GAAA/B,QAAA;EAAA,MACpCsC,4BAA4B,GAAArC,YAAA;EAAA,IAAAyC,SAAA;IAAAC,UAAA;EAAA;EAAAD,SAAA,CAAAxC,gCAAA,GAAAA,gCAAA;EAAA,OAAAwC,SAAA;AAAA","ignoreList":[]}