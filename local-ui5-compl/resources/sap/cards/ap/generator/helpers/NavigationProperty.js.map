{"version":3,"file":"NavigationProperty.js","names":["sap","ui","define","___odata_ODataUtils","___ApplicationInfo","___Batch","___Formatter","getNavigationPropertiesWithLabel","rootComponent","navigationProperty","path","model","getModel","entitySet","serviceUrl","odataModel","ApplicationInfo","getInstance","fetchDetails","bODataV4","ODataModelVersion","V4","navigationPropertyInfo","getNavigationPropertyInfoFromEntity","selectedNavigationProperty","find","property","name","Promise","resolve","propertiesWithLabel","navigationPropertyData","properties","queryParams","navigationProperties","fetchDataAsync","createUrlParameters","then","data","undefined","forEach","propertyValue","labelWithValue","formatPropertyDropdownValues","label","e","reject","__exports","__esModule"],"sources":["NavigationProperty.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\nimport Component from \"sap/ui/core/Component\";\nimport V2ODataModel from \"sap/ui/model/odata/v2/ODataModel\";\nimport V4ODataModel from \"sap/ui/model/odata/v4/ODataModel\";\nimport { PropertyInfo } from \"../odata/ODataTypes\";\nimport { fetchDataAsync, getNavigationPropertyInfoFromEntity } from \"../odata/ODataUtils\";\nimport { ApplicationInfo, ODataModelVersion } from \"./ApplicationInfo\";\nimport { QueryParameters, createUrlParameters } from \"./Batch\";\nimport { formatPropertyDropdownValues } from \"./Formatter\";\n\ntype Model = V2ODataModel | V4ODataModel;\n\n/**\n * Fetches the navigation properties with label for a single Navigation property\n * @param rootComponent\n * @param navigationProperty - Name of the navigation property\n * @param path\n */\nexport async function getNavigationPropertiesWithLabel(rootComponent: Component, navigationProperty: string, path: string) {\n\tconst model = rootComponent.getModel() as Model;\n\tconst { entitySet, serviceUrl, odataModel } = ApplicationInfo.getInstance().fetchDetails();\n\tconst bODataV4 = odataModel === ODataModelVersion.V4;\n\tconst navigationPropertyInfo = getNavigationPropertyInfoFromEntity(model, entitySet);\n\tconst selectedNavigationProperty = navigationPropertyInfo.find((property) => property.name === navigationProperty);\n\n\tif (!selectedNavigationProperty) {\n\t\treturn {\n\t\t\tpropertiesWithLabel: [],\n\t\t\tnavigationPropertyData: {}\n\t\t};\n\t}\n\n\tconst properties = selectedNavigationProperty.properties || [];\n\tconst queryParams: QueryParameters = {\n\t\tproperties: [],\n\t\tnavigationProperties: [\n\t\t\t{\n\t\t\t\tname: selectedNavigationProperty.name,\n\t\t\t\tproperties: []\n\t\t\t}\n\t\t]\n\t};\n\n\tconst data = await fetchDataAsync(serviceUrl, path, bODataV4, createUrlParameters(queryParams));\n\n\tif (data[selectedNavigationProperty.name] !== undefined && data[selectedNavigationProperty.name] !== null) {\n\t\tproperties.forEach((property: PropertyInfo) => {\n\t\t\tconst name = data[selectedNavigationProperty.name] as Record<string, unknown>;\n\t\t\tif (name[property.name] !== undefined && name[property.name] !== null) {\n\t\t\t\tconst propertyValue = name[property.name] as string;\n\t\t\t\tproperty.labelWithValue = formatPropertyDropdownValues(property, propertyValue);\n\t\t\t} else {\n\t\t\t\tproperty.labelWithValue = `${property.label} (<empty>)`;\n\t\t\t}\n\t\t});\n\t}\n\n\treturn {\n\t\tpropertiesWithLabel: properties,\n\t\tnavigationPropertyData: data\n\t};\n}\n"],"mappings":";;;;AAAA,aAAAA,IAAAC,GAAAC,OAAA,6EAAAC,EAAAC,EAAAC,EAAAC,GAAA,aAeA,MAMsBC,EAAgC,SAACC,EAA0BC,EAA4BC,GAAY,IACxH,MAAMC,EAAQH,EAAcI,WAC5B,MAAMC,UAAEA,EAASC,WAAEA,EAAUC,WAAEA,GAAeC,EAAgBC,cAAcC,eAC5E,MAAMC,EAAWJ,IAAeK,EAAkBC,GAClD,MAAMC,EAAyBC,EAAoCZ,EAAOE,GAC1E,MAAMW,EAA6BF,EAAuBG,KAAMC,GAAaA,EAASC,OAASlB,GAE/F,IAAKe,EAA4B,CAChC,OAAAI,QAAAC,QAAO,CACNC,oBAAqB,GACrBC,uBAAwB,CAAC,GAE3B,CAEA,MAAMC,EAAaR,EAA2BQ,YAAc,GAC5D,MAAMC,EAA+B,CACpCD,WAAY,GACZE,qBAAsB,CACrB,CACCP,KAAMH,EAA2BG,KACjCK,WAAY,MAGb,OAAAJ,QAAAC,QAEiBM,EAAerB,EAAYJ,EAAMS,EAAUiB,EAAoBH,KAAaI,KAAA,SAAzFC,GAEN,GAAIA,EAAKd,EAA2BG,QAAUY,WAAaD,EAAKd,EAA2BG,QAAU,KAAM,CAC1GK,EAAWQ,QAASd,IACnB,MAAMC,EAAOW,EAAKd,EAA2BG,MAC7C,GAAIA,EAAKD,EAASC,QAAUY,WAAaZ,EAAKD,EAASC,QAAU,KAAM,CACtE,MAAMc,EAAgBd,EAAKD,EAASC,MACpCD,EAASgB,eAAiBC,EAA6BjB,EAAUe,EAClE,KAAO,CACNf,EAASgB,eAAiB,GAAGhB,EAASkB,iBACvC,GAEF,CAEA,MAAO,CACNd,oBAAqBE,EACrBD,uBAAwBO,EACvB,EACH,CAAC,MAAAO,GAAA,OAAAjB,QAAAkB,OAAAD,EAAA,SAxDQV,EAAchC,EAAA,wBAAEoB,EAAmCpB,EAAA,6CACnDa,EAAeZ,EAAA,yBAAEgB,EAAiBhB,EAAA,2BACjBgC,EAAmB/B,EAAA,6BACpCsC,EAA4BrC,EAAA,oCAAAyC,EAAA,CAAAC,WAAA,MAAAD,EAAAxC,mCAAA,OAAAwC,CAAA","ignoreList":[]}